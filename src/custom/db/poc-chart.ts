export const pocChart = 'KCgpPT57InVzZSBzdHJpY3QiO3ZhciBlLHI9e30sbj17fTtmdW5jdGlvbiB0KGUpe3ZhciBvPW5bZV07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBhPW5bZV09e2V4cG9ydHM6e319O3JldHVybiByW2VdKGEsYS5leHBvcnRzLHQpLGEuZXhwb3J0c310Lm09cixlPVtdLHQuTz0ocixuLG8sYSk9PntpZighbil7dmFyIGw9MS8wO2Zvcih1PTA7dTxlLmxlbmd0aDt1Kyspe2Zvcih2YXJbbixvLGFdPWVbdV0scz0hMCxwPTA7cDxuLmxlbmd0aDtwKyspKCExJmF8fGw+PWEpJiZPYmplY3Qua2V5cyh0Lk8pLmV2ZXJ5KGU9PnQuT1tlXShuW3BdKSk/bi5zcGxpY2UocC0tLDEpOihzPSExLGE8bCYmKGw9YSkpO3MmJihlLnNwbGljZSh1LS0sMSkscj1vKCkpfXJldHVybiByfWE9YXx8MDtmb3IodmFyIHU9ZS5sZW5ndGg7dT4wJiZlW3UtMV1bMl0+YTt1LS0pZVt1XT1lW3UtMV07ZVt1XT1bbixvLGFdfSx0Lm49ZT0+e3ZhciByPWUmJmUuX19lc01vZHVsZT8oKT0+ZS5kZWZhdWx0OigpPT5lO3JldHVybiB0LmQocix7YTpyfSkscn0sdC5kPShlLHIpPT57Zm9yKHZhciBuIGluIHIpdC5vKHIsbikmJiF0Lm8oZSxuKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTohMCxnZXQ6cltuXX0pfSx0Lm89KGUscik9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpLCgoKT0+e3ZhciBlPXs2NjY6MH07dC5PLmo9cj0+MD09PWVbcl07dmFyIHI9KHIsbik9Pnt2YXIgbyxhLFtsLHMscF09bix1PTA7Zm9yKG8gaW4gcyl0Lm8ocyxvKSYmKHQubVtvXT1zW29dKTtpZihwKXZhciBmPXAodCk7Zm9yKHImJnIobik7dTxsLmxlbmd0aDt1KyspdC5vKGUsYT1sW3VdKSYmZVthXSYmZVthXVswXSgpLGVbbFt1XV09MDtyZXR1cm4gdC5PKGYpfSxuPXNlbGYud2VicGFja0NodW5rbmdfZWxlbWVudHNfZXhhbXBsZT1zZWxmLndlYnBhY2tDaHVua25nX2VsZW1lbnRzX2V4YW1wbGV8fFtdO24uZm9yRWFjaChyLmJpbmQobnVsbCwwKSksbi5wdXNoPXIuYmluZChudWxsLG4ucHVzaC5iaW5kKG4pKX0pKCl9KSgpOyhzZWxmLndlYnBhY2tDaHVua25nX2VsZW1lbnRzX2V4YW1wbGU9c2VsZi53ZWJwYWNrQ2h1bmtuZ19lbGVtZW50c19leGFtcGxlfHxbXSkucHVzaChbWzQyOV0sezE2NzooKT0+eyJ1c2Ugc3RyaWN0IjshZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnBlcmZvcm1hbmNlO2Z1bmN0aW9uIG4oZSl7dCYmdC5tYXJrJiZ0Lm1hcmsoZSl9ZnVuY3Rpb24gbyhlLG4pe3QmJnQubWVhc3VyZSYmdC5tZWFzdXJlKGUsbil9bigiWm9uZSIpO2NvbnN0IHI9ZS5fX1pvbmVfc3ltYm9sX3ByZWZpeHx8Il9fem9uZV9zeW1ib2xfXyI7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gcitlfWNvbnN0IGE9ITA9PT1lW3MoImZvcmNlRHVwbGljYXRlWm9uZUNoZWNrIildO2lmKGUuWm9uZSl7aWYoYXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUuWm9uZS5fX3N5bWJvbF9fKXRocm93IG5ldyBFcnJvcigiWm9uZSBhbHJlYWR5IGxvYWRlZC4iKTtyZXR1cm4gZS5ab25lfWNsYXNzIGl7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9wYXJlbnQ9ZSx0aGlzLl9uYW1lPXQ/dC5uYW1lfHwidW5uYW1lZCI6Ijxyb290PiIsdGhpcy5fcHJvcGVydGllcz10JiZ0LnByb3BlcnRpZXN8fHt9LHRoaXMuX3pvbmVEZWxlZ2F0ZT1uZXcgbCh0aGlzLHRoaXMuX3BhcmVudCYmdGhpcy5fcGFyZW50Ll96b25lRGVsZWdhdGUsdCl9c3RhdGljIGFzc2VydFpvbmVQYXRjaGVkKCl7aWYoZS5Qcm9taXNlIT09Ty5ab25lQXdhcmVQcm9taXNlKXRocm93IG5ldyBFcnJvcigiWm9uZS5qcyBoYXMgZGV0ZWN0ZWQgdGhhdCBab25lQXdhcmVQcm9taXNlIGAod2luZG93fGdsb2JhbCkuUHJvbWlzZWAgaGFzIGJlZW4gb3ZlcndyaXR0ZW4uXG5Nb3N0IGxpa2VseSBjYXVzZSBpcyB0aGF0IGEgUHJvbWlzZSBwb2x5ZmlsbCBoYXMgYmVlbiBsb2FkZWQgYWZ0ZXIgWm9uZS5qcyAoUG9seWZpbGxpbmcgUHJvbWlzZSBhcGkgaXMgbm90IG5lY2Vzc2FyeSB3aGVuIHpvbmUuanMgaXMgbG9hZGVkLiBJZiB5b3UgbXVzdCBsb2FkIG9uZSwgZG8gc28gYmVmb3JlIGxvYWRpbmcgem9uZS5qcy4pIil9c3RhdGljIGdldCByb290KCl7bGV0IGU9aS5jdXJyZW50O2Zvcig7ZS5wYXJlbnQ7KWU9ZS5wYXJlbnQ7cmV0dXJuIGV9c3RhdGljIGdldCBjdXJyZW50KCl7cmV0dXJuIHouem9uZX1zdGF0aWMgZ2V0IGN1cnJlbnRUYXNrKCl7cmV0dXJuIGp9c3RhdGljIF9fbG9hZF9wYXRjaCh0LHIscz0hMSl7aWYoTy5oYXNPd25Qcm9wZXJ0eSh0KSl7aWYoIXMmJmEpdGhyb3cgRXJyb3IoIkFscmVhZHkgbG9hZGVkIHBhdGNoOiAiK3QpfWVsc2UgaWYoIWVbIl9fWm9uZV9kaXNhYmxlXyIrdF0pe2NvbnN0IHM9IlpvbmU6Iit0O24ocyksT1t0XT1yKGUsaSxDKSxvKHMscyl9fWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy5fcGFyZW50fWdldCBuYW1lKCl7cmV0dXJuIHRoaXMuX25hbWV9Z2V0KGUpe2NvbnN0IHQ9dGhpcy5nZXRab25lV2l0aChlKTtpZih0KXJldHVybiB0Ll9wcm9wZXJ0aWVzW2VdfWdldFpvbmVXaXRoKGUpe2xldCB0PXRoaXM7Zm9yKDt0Oyl7aWYodC5fcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShlKSlyZXR1cm4gdDt0PXQuX3BhcmVudH1yZXR1cm4gbnVsbH1mb3JrKGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiWm9uZVNwZWMgcmVxdWlyZWQhIik7cmV0dXJuIHRoaXMuX3pvbmVEZWxlZ2F0ZS5mb3JrKHRoaXMsZSl9d3JhcChlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiRXhwZWN0aW5nIGZ1bmN0aW9uIGdvdDogIitlKTtjb25zdCBuPXRoaXMuX3pvbmVEZWxlZ2F0ZS5pbnRlcmNlcHQodGhpcyxlLHQpLG89dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gby5ydW5HdWFyZGVkKG4sdGhpcyxhcmd1bWVudHMsdCl9fXJ1bihlLHQsbixvKXt6PXtwYXJlbnQ6eix6b25lOnRoaXN9O3RyeXtyZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZSh0aGlzLGUsdCxuLG8pfWZpbmFsbHl7ej16LnBhcmVudH19cnVuR3VhcmRlZChlLHQ9bnVsbCxuLG8pe3o9e3BhcmVudDp6LHpvbmU6dGhpc307dHJ5e3RyeXtyZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZSh0aGlzLGUsdCxuLG8pfWNhdGNoKHIpe2lmKHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLHIpKXRocm93IHJ9fWZpbmFsbHl7ej16LnBhcmVudH19cnVuVGFzayhlLHQsbil7aWYoZS56b25lIT10aGlzKXRocm93IG5ldyBFcnJvcigiQSB0YXNrIGNhbiBvbmx5IGJlIHJ1biBpbiB0aGUgem9uZSBvZiBjcmVhdGlvbiEgKENyZWF0aW9uOiAiKyhlLnpvbmV8fHkpLm5hbWUrIjsgRXhlY3V0aW9uOiAiK3RoaXMubmFtZSsiKSIpO2lmKGUuc3RhdGU9PT12JiYoZS50eXBlPT09UHx8ZS50eXBlPT09RCkpcmV0dXJuO2NvbnN0IG89ZS5zdGF0ZSE9RTtvJiZlLl90cmFuc2l0aW9uVG8oRSxiKSxlLnJ1bkNvdW50Kys7Y29uc3Qgcj1qO2o9ZSx6PXtwYXJlbnQ6eix6b25lOnRoaXN9O3RyeXtlLnR5cGU9PUQmJmUuZGF0YSYmIWUuZGF0YS5pc1BlcmlvZGljJiYoZS5jYW5jZWxGbj12b2lkIDApO3RyeXtyZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZVRhc2sodGhpcyxlLHQsbil9Y2F0Y2gocyl7aWYodGhpcy5fem9uZURlbGVnYXRlLmhhbmRsZUVycm9yKHRoaXMscykpdGhyb3cgc319ZmluYWxseXtlLnN0YXRlIT09diYmZS5zdGF0ZSE9PVomJihlLnR5cGU9PVB8fGUuZGF0YSYmZS5kYXRhLmlzUGVyaW9kaWM/byYmZS5fdHJhbnNpdGlvblRvKGIsRSk6KGUucnVuQ291bnQ9MCx0aGlzLl91cGRhdGVUYXNrQ291bnQoZSwtMSksbyYmZS5fdHJhbnNpdGlvblRvKHYsRSx2KSkpLHo9ei5wYXJlbnQsaj1yfX1zY2hlZHVsZVRhc2soZSl7aWYoZS56b25lJiZlLnpvbmUhPT10aGlzKXtsZXQgdD10aGlzO2Zvcig7dDspe2lmKHQ9PT1lLnpvbmUpdGhyb3cgRXJyb3IoYGNhbiBub3QgcmVzY2hlZHVsZSB0YXNrIHRvICR7dGhpcy5uYW1lfSB3aGljaCBpcyBkZXNjZW5kYW50cyBvZiB0aGUgb3JpZ2luYWwgem9uZSAke2Uuem9uZS5uYW1lfWApO3Q9dC5wYXJlbnR9fWUuX3RyYW5zaXRpb25UbyhULHYpO2NvbnN0IHQ9W107ZS5fem9uZURlbGVnYXRlcz10LGUuX3pvbmU9dGhpczt0cnl7ZT10aGlzLl96b25lRGVsZWdhdGUuc2NoZWR1bGVUYXNrKHRoaXMsZSl9Y2F0Y2gobil7dGhyb3cgZS5fdHJhbnNpdGlvblRvKFosVCx2KSx0aGlzLl96b25lRGVsZWdhdGUuaGFuZGxlRXJyb3IodGhpcyxuKSxufXJldHVybiBlLl96b25lRGVsZWdhdGVzPT09dCYmdGhpcy5fdXBkYXRlVGFza0NvdW50KGUsMSksZS5zdGF0ZT09VCYmZS5fdHJhbnNpdGlvblRvKGIsVCksZX1zY2hlZHVsZU1pY3JvVGFzayhlLHQsbixvKXtyZXR1cm4gdGhpcy5zY2hlZHVsZVRhc2sobmV3IHUoUyxlLHQsbixvLHZvaWQgMCkpfXNjaGVkdWxlTWFjcm9UYXNrKGUsdCxuLG8scil7cmV0dXJuIHRoaXMuc2NoZWR1bGVUYXNrKG5ldyB1KEQsZSx0LG4sbyxyKSl9c2NoZWR1bGVFdmVudFRhc2soZSx0LG4sbyxyKXtyZXR1cm4gdGhpcy5zY2hlZHVsZVRhc2sobmV3IHUoUCxlLHQsbixvLHIpKX1jYW5jZWxUYXNrKGUpe2lmKGUuem9uZSE9dGhpcyl0aHJvdyBuZXcgRXJyb3IoIkEgdGFzayBjYW4gb25seSBiZSBjYW5jZWxsZWQgaW4gdGhlIHpvbmUgb2YgY3JlYXRpb24hIChDcmVhdGlvbjogIisoZS56b25lfHx5KS5uYW1lKyI7IEV4ZWN1dGlvbjogIit0aGlzLm5hbWUrIikiKTtlLl90cmFuc2l0aW9uVG8odyxiLEUpO3RyeXt0aGlzLl96b25lRGVsZWdhdGUuY2FuY2VsVGFzayh0aGlzLGUpfWNhdGNoKHQpe3Rocm93IGUuX3RyYW5zaXRpb25UbyhaLHcpLHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLHQpLHR9cmV0dXJuIHRoaXMuX3VwZGF0ZVRhc2tDb3VudChlLC0xKSxlLl90cmFuc2l0aW9uVG8odix3KSxlLnJ1bkNvdW50PTAsZX1fdXBkYXRlVGFza0NvdW50KGUsdCl7Y29uc3Qgbj1lLl96b25lRGVsZWdhdGVzOy0xPT10JiYoZS5fem9uZURlbGVnYXRlcz1udWxsKTtmb3IobGV0IG89MDtvPG4ubGVuZ3RoO28rKyluW29dLl91cGRhdGVUYXNrQ291bnQoZS50eXBlLHQpfX1pLl9fc3ltYm9sX189cztjb25zdCBjPXtuYW1lOiIiLG9uSGFzVGFzazooZSx0LG4sbyk9PmUuaGFzVGFzayhuLG8pLG9uU2NoZWR1bGVUYXNrOihlLHQsbixvKT0+ZS5zY2hlZHVsZVRhc2sobixvKSxvbkludm9rZVRhc2s6KGUsdCxuLG8scixzKT0+ZS5pbnZva2VUYXNrKG4sbyxyLHMpLG9uQ2FuY2VsVGFzazooZSx0LG4sbyk9PmUuY2FuY2VsVGFzayhuLG8pfTtjbGFzcyBse2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLl90YXNrQ291bnRzPXttaWNyb1Rhc2s6MCxtYWNyb1Rhc2s6MCxldmVudFRhc2s6MH0sdGhpcy56b25lPWUsdGhpcy5fcGFyZW50RGVsZWdhdGU9dCx0aGlzLl9mb3JrWlM9biYmKG4mJm4ub25Gb3JrP246dC5fZm9ya1pTKSx0aGlzLl9mb3JrRGxndD1uJiYobi5vbkZvcms/dDp0Ll9mb3JrRGxndCksdGhpcy5fZm9ya0N1cnJab25lPW4mJihuLm9uRm9yaz90aGlzLnpvbmU6dC5fZm9ya0N1cnJab25lKSx0aGlzLl9pbnRlcmNlcHRaUz1uJiYobi5vbkludGVyY2VwdD9uOnQuX2ludGVyY2VwdFpTKSx0aGlzLl9pbnRlcmNlcHREbGd0PW4mJihuLm9uSW50ZXJjZXB0P3Q6dC5faW50ZXJjZXB0RGxndCksdGhpcy5faW50ZXJjZXB0Q3VyclpvbmU9biYmKG4ub25JbnRlcmNlcHQ/dGhpcy56b25lOnQuX2ludGVyY2VwdEN1cnJab25lKSx0aGlzLl9pbnZva2VaUz1uJiYobi5vbkludm9rZT9uOnQuX2ludm9rZVpTKSx0aGlzLl9pbnZva2VEbGd0PW4mJihuLm9uSW52b2tlP3Q6dC5faW52b2tlRGxndCksdGhpcy5faW52b2tlQ3VyclpvbmU9biYmKG4ub25JbnZva2U/dGhpcy56b25lOnQuX2ludm9rZUN1cnJab25lKSx0aGlzLl9oYW5kbGVFcnJvclpTPW4mJihuLm9uSGFuZGxlRXJyb3I/bjp0Ll9oYW5kbGVFcnJvclpTKSx0aGlzLl9oYW5kbGVFcnJvckRsZ3Q9biYmKG4ub25IYW5kbGVFcnJvcj90OnQuX2hhbmRsZUVycm9yRGxndCksdGhpcy5faGFuZGxlRXJyb3JDdXJyWm9uZT1uJiYobi5vbkhhbmRsZUVycm9yP3RoaXMuem9uZTp0Ll9oYW5kbGVFcnJvckN1cnJab25lKSx0aGlzLl9zY2hlZHVsZVRhc2taUz1uJiYobi5vblNjaGVkdWxlVGFzaz9uOnQuX3NjaGVkdWxlVGFza1pTKSx0aGlzLl9zY2hlZHVsZVRhc2tEbGd0PW4mJihuLm9uU2NoZWR1bGVUYXNrP3Q6dC5fc2NoZWR1bGVUYXNrRGxndCksdGhpcy5fc2NoZWR1bGVUYXNrQ3VyclpvbmU9biYmKG4ub25TY2hlZHVsZVRhc2s/dGhpcy56b25lOnQuX3NjaGVkdWxlVGFza0N1cnJab25lKSx0aGlzLl9pbnZva2VUYXNrWlM9biYmKG4ub25JbnZva2VUYXNrP246dC5faW52b2tlVGFza1pTKSx0aGlzLl9pbnZva2VUYXNrRGxndD1uJiYobi5vbkludm9rZVRhc2s/dDp0Ll9pbnZva2VUYXNrRGxndCksdGhpcy5faW52b2tlVGFza0N1cnJab25lPW4mJihuLm9uSW52b2tlVGFzaz90aGlzLnpvbmU6dC5faW52b2tlVGFza0N1cnJab25lKSx0aGlzLl9jYW5jZWxUYXNrWlM9biYmKG4ub25DYW5jZWxUYXNrP246dC5fY2FuY2VsVGFza1pTKSx0aGlzLl9jYW5jZWxUYXNrRGxndD1uJiYobi5vbkNhbmNlbFRhc2s/dDp0Ll9jYW5jZWxUYXNrRGxndCksdGhpcy5fY2FuY2VsVGFza0N1cnJab25lPW4mJihuLm9uQ2FuY2VsVGFzaz90aGlzLnpvbmU6dC5fY2FuY2VsVGFza0N1cnJab25lKSx0aGlzLl9oYXNUYXNrWlM9bnVsbCx0aGlzLl9oYXNUYXNrRGxndD1udWxsLHRoaXMuX2hhc1Rhc2tEbGd0T3duZXI9bnVsbCx0aGlzLl9oYXNUYXNrQ3VyclpvbmU9bnVsbDtjb25zdCBvPW4mJm4ub25IYXNUYXNrOyhvfHx0JiZ0Ll9oYXNUYXNrWlMpJiYodGhpcy5faGFzVGFza1pTPW8/bjpjLHRoaXMuX2hhc1Rhc2tEbGd0PXQsdGhpcy5faGFzVGFza0RsZ3RPd25lcj10aGlzLHRoaXMuX2hhc1Rhc2tDdXJyWm9uZT1lLG4ub25TY2hlZHVsZVRhc2t8fCh0aGlzLl9zY2hlZHVsZVRhc2taUz1jLHRoaXMuX3NjaGVkdWxlVGFza0RsZ3Q9dCx0aGlzLl9zY2hlZHVsZVRhc2tDdXJyWm9uZT10aGlzLnpvbmUpLG4ub25JbnZva2VUYXNrfHwodGhpcy5faW52b2tlVGFza1pTPWMsdGhpcy5faW52b2tlVGFza0RsZ3Q9dCx0aGlzLl9pbnZva2VUYXNrQ3VyclpvbmU9dGhpcy56b25lKSxuLm9uQ2FuY2VsVGFza3x8KHRoaXMuX2NhbmNlbFRhc2taUz1jLHRoaXMuX2NhbmNlbFRhc2tEbGd0PXQsdGhpcy5fY2FuY2VsVGFza0N1cnJab25lPXRoaXMuem9uZSkpfWZvcmsoZSx0KXtyZXR1cm4gdGhpcy5fZm9ya1pTP3RoaXMuX2ZvcmtaUy5vbkZvcmsodGhpcy5fZm9ya0RsZ3QsdGhpcy56b25lLGUsdCk6bmV3IGkoZSx0KX1pbnRlcmNlcHQoZSx0LG4pe3JldHVybiB0aGlzLl9pbnRlcmNlcHRaUz90aGlzLl9pbnRlcmNlcHRaUy5vbkludGVyY2VwdCh0aGlzLl9pbnRlcmNlcHREbGd0LHRoaXMuX2ludGVyY2VwdEN1cnJab25lLGUsdCxuKTp0fWludm9rZShlLHQsbixvLHIpe3JldHVybiB0aGlzLl9pbnZva2VaUz90aGlzLl9pbnZva2VaUy5vbkludm9rZSh0aGlzLl9pbnZva2VEbGd0LHRoaXMuX2ludm9rZUN1cnJab25lLGUsdCxuLG8scik6dC5hcHBseShuLG8pfWhhbmRsZUVycm9yKGUsdCl7cmV0dXJuIXRoaXMuX2hhbmRsZUVycm9yWlN8fHRoaXMuX2hhbmRsZUVycm9yWlMub25IYW5kbGVFcnJvcih0aGlzLl9oYW5kbGVFcnJvckRsZ3QsdGhpcy5faGFuZGxlRXJyb3JDdXJyWm9uZSxlLHQpfXNjaGVkdWxlVGFzayhlLHQpe2xldCBuPXQ7aWYodGhpcy5fc2NoZWR1bGVUYXNrWlMpdGhpcy5faGFzVGFza1pTJiZuLl96b25lRGVsZWdhdGVzLnB1c2godGhpcy5faGFzVGFza0RsZ3RPd25lciksbj10aGlzLl9zY2hlZHVsZVRhc2taUy5vblNjaGVkdWxlVGFzayh0aGlzLl9zY2hlZHVsZVRhc2tEbGd0LHRoaXMuX3NjaGVkdWxlVGFza0N1cnJab25lLGUsdCksbnx8KG49dCk7ZWxzZSBpZih0LnNjaGVkdWxlRm4pdC5zY2hlZHVsZUZuKHQpO2Vsc2V7aWYodC50eXBlIT1TKXRocm93IG5ldyBFcnJvcigiVGFzayBpcyBtaXNzaW5nIHNjaGVkdWxlRm4uIik7ayh0KX1yZXR1cm4gbn1pbnZva2VUYXNrKGUsdCxuLG8pe3JldHVybiB0aGlzLl9pbnZva2VUYXNrWlM/dGhpcy5faW52b2tlVGFza1pTLm9uSW52b2tlVGFzayh0aGlzLl9pbnZva2VUYXNrRGxndCx0aGlzLl9pbnZva2VUYXNrQ3VyclpvbmUsZSx0LG4sbyk6dC5jYWxsYmFjay5hcHBseShuLG8pfWNhbmNlbFRhc2soZSx0KXtsZXQgbjtpZih0aGlzLl9jYW5jZWxUYXNrWlMpbj10aGlzLl9jYW5jZWxUYXNrWlMub25DYW5jZWxUYXNrKHRoaXMuX2NhbmNlbFRhc2tEbGd0LHRoaXMuX2NhbmNlbFRhc2tDdXJyWm9uZSxlLHQpO2Vsc2V7aWYoIXQuY2FuY2VsRm4pdGhyb3cgRXJyb3IoIlRhc2sgaXMgbm90IGNhbmNlbGFibGUiKTtuPXQuY2FuY2VsRm4odCl9cmV0dXJuIG59aGFzVGFzayhlLHQpe3RyeXt0aGlzLl9oYXNUYXNrWlMmJnRoaXMuX2hhc1Rhc2taUy5vbkhhc1Rhc2sodGhpcy5faGFzVGFza0RsZ3QsdGhpcy5faGFzVGFza0N1cnJab25lLGUsdCl9Y2F0Y2gobil7dGhpcy5oYW5kbGVFcnJvcihlLG4pfX1fdXBkYXRlVGFza0NvdW50KGUsdCl7Y29uc3Qgbj10aGlzLl90YXNrQ291bnRzLG89bltlXSxyPW5bZV09byt0O2lmKHI8MCl0aHJvdyBuZXcgRXJyb3IoIk1vcmUgdGFza3MgZXhlY3V0ZWQgdGhlbiB3ZXJlIHNjaGVkdWxlZC4iKTswIT1vJiYwIT1yfHx0aGlzLmhhc1Rhc2sodGhpcy56b25lLHttaWNyb1Rhc2s6bi5taWNyb1Rhc2s+MCxtYWNyb1Rhc2s6bi5tYWNyb1Rhc2s+MCxldmVudFRhc2s6bi5ldmVudFRhc2s+MCxjaGFuZ2U6ZX0pfX1jbGFzcyB1e2NvbnN0cnVjdG9yKHQsbixvLHIscyxhKXtpZih0aGlzLl96b25lPW51bGwsdGhpcy5ydW5Db3VudD0wLHRoaXMuX3pvbmVEZWxlZ2F0ZXM9bnVsbCx0aGlzLl9zdGF0ZT0ibm90U2NoZWR1bGVkIix0aGlzLnR5cGU9dCx0aGlzLnNvdXJjZT1uLHRoaXMuZGF0YT1yLHRoaXMuc2NoZWR1bGVGbj1zLHRoaXMuY2FuY2VsRm49YSwhbyl0aHJvdyBuZXcgRXJyb3IoImNhbGxiYWNrIGlzIG5vdCBkZWZpbmVkIik7dGhpcy5jYWxsYmFjaz1vO2NvbnN0IGk9dGhpczt0aGlzLmludm9rZT10PT09UCYmciYmci51c2VHP3UuaW52b2tlVGFzazpmdW5jdGlvbigpe3JldHVybiB1Lmludm9rZVRhc2suY2FsbChlLGksdGhpcyxhcmd1bWVudHMpfX1zdGF0aWMgaW52b2tlVGFzayhlLHQsbil7ZXx8KGU9dGhpcyksSSsrO3RyeXtyZXR1cm4gZS5ydW5Db3VudCsrLGUuem9uZS5ydW5UYXNrKGUsdCxuKX1maW5hbGx5ezE9PUkmJm0oKSxJLS19fWdldCB6b25lKCl7cmV0dXJuIHRoaXMuX3pvbmV9Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0YXRlfWNhbmNlbFNjaGVkdWxlUmVxdWVzdCgpe3RoaXMuX3RyYW5zaXRpb25Ubyh2LFQpfV90cmFuc2l0aW9uVG8oZSx0LG4pe2lmKHRoaXMuX3N0YXRlIT09dCYmdGhpcy5fc3RhdGUhPT1uKXRocm93IG5ldyBFcnJvcihgJHt0aGlzLnR5cGV9ICcke3RoaXMuc291cmNlfSc6IGNhbiBub3QgdHJhbnNpdGlvbiB0byAnJHtlfScsIGV4cGVjdGluZyBzdGF0ZSAnJHt0fScke24/IiBvciAnIituKyInIjoiIn0sIHdhcyAnJHt0aGlzLl9zdGF0ZX0nLmApO3RoaXMuX3N0YXRlPWUsZT09diYmKHRoaXMuX3pvbmVEZWxlZ2F0ZXM9bnVsbCl9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5kYXRhJiZ2b2lkIDAhPT10aGlzLmRhdGEuaGFuZGxlSWQ/dGhpcy5kYXRhLmhhbmRsZUlkLnRvU3RyaW5nKCk6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMpfXRvSlNPTigpe3JldHVybnt0eXBlOnRoaXMudHlwZSxzdGF0ZTp0aGlzLnN0YXRlLHNvdXJjZTp0aGlzLnNvdXJjZSx6b25lOnRoaXMuem9uZS5uYW1lLHJ1bkNvdW50OnRoaXMucnVuQ291bnR9fX1jb25zdCBoPXMoInNldFRpbWVvdXQiKSxwPXMoIlByb21pc2UiKSxmPXMoInRoZW4iKTtsZXQgZCxnPVtdLF89ITE7ZnVuY3Rpb24gayh0KXtpZigwPT09SSYmMD09PWcubGVuZ3RoKWlmKGR8fGVbcF0mJihkPWVbcF0ucmVzb2x2ZSgwKSksZCl7bGV0IGU9ZFtmXTtlfHwoZT1kLnRoZW4pLGUuY2FsbChkLG0pfWVsc2UgZVtoXShtLDApO3QmJmcucHVzaCh0KX1mdW5jdGlvbiBtKCl7aWYoIV8pe2ZvcihfPSEwO2cubGVuZ3RoOyl7Y29uc3QgdD1nO2c9W107Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IG89dFtuXTt0cnl7by56b25lLnJ1blRhc2sobyxudWxsLG51bGwpfWNhdGNoKGUpe0Mub25VbmhhbmRsZWRFcnJvcihlKX19fUMubWljcm90YXNrRHJhaW5Eb25lKCksXz0hMX19Y29uc3QgeT17bmFtZToiTk8gWk9ORSJ9LHY9Im5vdFNjaGVkdWxlZCIsVD0ic2NoZWR1bGluZyIsYj0ic2NoZWR1bGVkIixFPSJydW5uaW5nIix3PSJjYW5jZWxpbmciLFo9InVua25vd24iLFM9Im1pY3JvVGFzayIsRD0ibWFjcm9UYXNrIixQPSJldmVudFRhc2siLE89e30sQz17c3ltYm9sOnMsY3VycmVudFpvbmVGcmFtZTooKT0+eixvblVuaGFuZGxlZEVycm9yOlIsbWljcm90YXNrRHJhaW5Eb25lOlIsc2NoZWR1bGVNaWNyb1Rhc2s6ayxzaG93VW5jYXVnaHRFcnJvcjooKT0+IWlbcygiaWdub3JlQ29uc29sZUVycm9yVW5jYXVnaHRFcnJvciIpXSxwYXRjaEV2ZW50VGFyZ2V0OigpPT5bXSxwYXRjaE9uUHJvcGVydGllczpSLHBhdGNoTWV0aG9kOigpPT5SLGJpbmRBcmd1bWVudHM6KCk9PltdLHBhdGNoVGhlbjooKT0+UixwYXRjaE1hY3JvVGFzazooKT0+UixwYXRjaEV2ZW50UHJvdG90eXBlOigpPT5SLGlzSUVPckVkZ2U6KCk9PiExLGdldEdsb2JhbE9iamVjdHM6KCk9Pnt9LE9iamVjdERlZmluZVByb3BlcnR5OigpPT5SLE9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcjooKT0+e30sT2JqZWN0Q3JlYXRlOigpPT57fSxBcnJheVNsaWNlOigpPT5bXSxwYXRjaENsYXNzOigpPT5SLHdyYXBXaXRoQ3VycmVudFpvbmU6KCk9PlIsZmlsdGVyUHJvcGVydGllczooKT0+W10sYXR0YWNoT3JpZ2luVG9QYXRjaGVkOigpPT5SLF9yZWRlZmluZVByb3BlcnR5OigpPT5SLHBhdGNoQ2FsbGJhY2tzOigpPT5SfTtsZXQgej17cGFyZW50Om51bGwsem9uZTpuZXcgaShudWxsLG51bGwpfSxqPW51bGwsST0wO2Z1bmN0aW9uIFIoKXt9bygiWm9uZSIsIlpvbmUiKSxlLlpvbmU9aX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvd3x8InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmfHxnbG9iYWwpO2NvbnN0IGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcix0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxuPU9iamVjdC5nZXRQcm90b3R5cGVPZixvPU9iamVjdC5jcmVhdGUscj1BcnJheS5wcm90b3R5cGUuc2xpY2Uscz0iYWRkRXZlbnRMaXN0ZW5lciIsYT0icmVtb3ZlRXZlbnRMaXN0ZW5lciIsaT1ab25lLl9fc3ltYm9sX18ocyksYz1ab25lLl9fc3ltYm9sX18oYSksbD0idHJ1ZSIsdT0iZmFsc2UiLGg9Wm9uZS5fX3N5bWJvbF9fKCIiKTtmdW5jdGlvbiBwKGUsdCl7cmV0dXJuIFpvbmUuY3VycmVudC53cmFwKGUsdCl9ZnVuY3Rpb24gZihlLHQsbixvLHIpe3JldHVybiBab25lLmN1cnJlbnQuc2NoZWR1bGVNYWNyb1Rhc2soZSx0LG4sbyxyKX1jb25zdCBkPVpvbmUuX19zeW1ib2xfXyxnPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LF89Zz93aW5kb3c6dm9pZCAwLGs9ZyYmX3x8Im9iamVjdCI9PXR5cGVvZiBzZWxmJiZzZWxmfHxnbG9iYWwsbT1bbnVsbF07ZnVuY3Rpb24geShlLHQpe2ZvcihsZXQgbj1lLmxlbmd0aC0xO24+PTA7bi0tKSJmdW5jdGlvbiI9PXR5cGVvZiBlW25dJiYoZVtuXT1wKGVbbl0sdCsiXyIrbikpO3JldHVybiBlfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIWV8fCExIT09ZS53cml0YWJsZSYmISgiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXQmJnZvaWQgMD09PWUuc2V0KX1jb25zdCBUPSJ1bmRlZmluZWQiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSxiPSEoIm53ImluIGspJiZ2b2lkIDAhPT1rLnByb2Nlc3MmJiJbb2JqZWN0IHByb2Nlc3NdIj09PXt9LnRvU3RyaW5nLmNhbGwoay5wcm9jZXNzKSxFPSFiJiYhVCYmISghZ3x8IV8uSFRNTEVsZW1lbnQpLHc9dm9pZCAwIT09ay5wcm9jZXNzJiYiW29iamVjdCBwcm9jZXNzXSI9PT17fS50b1N0cmluZy5jYWxsKGsucHJvY2VzcykmJiFUJiYhKCFnfHwhXy5IVE1MRWxlbWVudCksWj17fSxTPWZ1bmN0aW9uKGUpe2lmKCEoZT1lfHxrLmV2ZW50KSlyZXR1cm47bGV0IHQ9WltlLnR5cGVdO3R8fCh0PVpbZS50eXBlXT1kKCJPTl9QUk9QRVJUWSIrZS50eXBlKSk7Y29uc3Qgbj10aGlzfHxlLnRhcmdldHx8ayxvPW5bdF07bGV0IHI7aWYoRSYmbj09PV8mJiJlcnJvciI9PT1lLnR5cGUpe2NvbnN0IHQ9ZTtyPW8mJm8uY2FsbCh0aGlzLHQubWVzc2FnZSx0LmZpbGVuYW1lLHQubGluZW5vLHQuY29sbm8sdC5lcnJvciksITA9PT1yJiZlLnByZXZlbnREZWZhdWx0KCl9ZWxzZSByPW8mJm8uYXBwbHkodGhpcyxhcmd1bWVudHMpLG51bGw9PXJ8fHJ8fGUucHJldmVudERlZmF1bHQoKTtyZXR1cm4gcn07ZnVuY3Rpb24gRChuLG8scil7bGV0IHM9ZShuLG8pO2lmKCFzJiZyJiZlKHIsbykmJihzPXtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLCFzfHwhcy5jb25maWd1cmFibGUpcmV0dXJuO2NvbnN0IGE9ZCgib24iK28rInBhdGNoZWQiKTtpZihuLmhhc093blByb3BlcnR5KGEpJiZuW2FdKXJldHVybjtkZWxldGUgcy53cml0YWJsZSxkZWxldGUgcy52YWx1ZTtjb25zdCBpPXMuZ2V0LGM9cy5zZXQsbD1vLnN1YnN0cigyKTtsZXQgdT1aW2xdO3V8fCh1PVpbbF09ZCgiT05fUFJPUEVSVFkiK2wpKSxzLnNldD1mdW5jdGlvbihlKXtsZXQgdD10aGlzO3R8fG4hPT1rfHwodD1rKSx0JiYodFt1XSYmdC5yZW1vdmVFdmVudExpc3RlbmVyKGwsUyksYyYmYy5hcHBseSh0LG0pLCJmdW5jdGlvbiI9PXR5cGVvZiBlPyh0W3VdPWUsdC5hZGRFdmVudExpc3RlbmVyKGwsUywhMSkpOnRbdV09bnVsbCl9LHMuZ2V0PWZ1bmN0aW9uKCl7bGV0IGU9dGhpcztpZihlfHxuIT09a3x8KGU9ayksIWUpcmV0dXJuIG51bGw7Y29uc3QgdD1lW3VdO2lmKHQpcmV0dXJuIHQ7aWYoaSl7bGV0IHQ9aSYmaS5jYWxsKHRoaXMpO2lmKHQpcmV0dXJuIHMuc2V0LmNhbGwodGhpcyx0KSwiZnVuY3Rpb24iPT10eXBlb2YgZS5yZW1vdmVBdHRyaWJ1dGUmJmUucmVtb3ZlQXR0cmlidXRlKG8pLHR9cmV0dXJuIG51bGx9LHQobixvLHMpLG5bYV09ITB9ZnVuY3Rpb24gUChlLHQsbil7aWYodClmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKylEKGUsIm9uIit0W29dLG4pO2Vsc2V7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBpbiBlKSJvbiI9PW4uc3Vic3RyKDAsMikmJnQucHVzaChuKTtmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKylEKGUsdFtvXSxuKX19Y29uc3QgTz1kKCJvcmlnaW5hbEluc3RhbmNlIik7ZnVuY3Rpb24gQyhlKXtjb25zdCBuPWtbZV07aWYoIW4pcmV0dXJuO2tbZChlKV09bixrW2VdPWZ1bmN0aW9uKCl7Y29uc3QgdD15KGFyZ3VtZW50cyxlKTtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDp0aGlzW09dPW5ldyBuO2JyZWFrO2Nhc2UgMTp0aGlzW09dPW5ldyBuKHRbMF0pO2JyZWFrO2Nhc2UgMjp0aGlzW09dPW5ldyBuKHRbMF0sdFsxXSk7YnJlYWs7Y2FzZSAzOnRoaXNbT109bmV3IG4odFswXSx0WzFdLHRbMl0pO2JyZWFrO2Nhc2UgNDp0aGlzW09dPW5ldyBuKHRbMF0sdFsxXSx0WzJdLHRbM10pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJBcmcgbGlzdCB0b28gbG9uZy4iKX19LEkoa1tlXSxuKTtjb25zdCBvPW5ldyBuKGZ1bmN0aW9uKCl7fSk7bGV0IHI7Zm9yKHIgaW4gbykiWE1MSHR0cFJlcXVlc3QiPT09ZSYmInJlc3BvbnNlQmxvYiI9PT1yfHxmdW5jdGlvbihuKXsiZnVuY3Rpb24iPT10eXBlb2Ygb1tuXT9rW2VdLnByb3RvdHlwZVtuXT1mdW5jdGlvbigpe3JldHVybiB0aGlzW09dW25dLmFwcGx5KHRoaXNbT10sYXJndW1lbnRzKX06dChrW2VdLnByb3RvdHlwZSxuLHtzZXQ6ZnVuY3Rpb24odCl7ImZ1bmN0aW9uIj09dHlwZW9mIHQ/KHRoaXNbT11bbl09cCh0LGUrIi4iK24pLEkodGhpc1tPXVtuXSx0KSk6dGhpc1tPXVtuXT10fSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tPXVtuXX19KX0ocik7Zm9yKHIgaW4gbikicHJvdG90eXBlIiE9PXImJm4uaGFzT3duUHJvcGVydHkocikmJihrW2VdW3JdPW5bcl0pfWZ1bmN0aW9uIHoodCxvLHIpe2xldCBzPXQ7Zm9yKDtzJiYhcy5oYXNPd25Qcm9wZXJ0eShvKTspcz1uKHMpOyFzJiZ0W29dJiYocz10KTtjb25zdCBhPWQobyk7bGV0IGk9bnVsbDtpZihzJiYoIShpPXNbYV0pfHwhcy5oYXNPd25Qcm9wZXJ0eShhKSkmJihpPXNbYV09c1tvXSx2KHMmJmUocyxvKSkpKXtjb25zdCBlPXIoaSxhLG8pO3Nbb109ZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cyl9LEkoc1tvXSxpKX1yZXR1cm4gaX1mdW5jdGlvbiBqKGUsdCxuKXtsZXQgbz1udWxsO2Z1bmN0aW9uIHIoZSl7Y29uc3QgdD1lLmRhdGE7cmV0dXJuIHQuYXJnc1t0LmNiSWR4XT1mdW5jdGlvbigpe2UuaW52b2tlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sby5hcHBseSh0LnRhcmdldCx0LmFyZ3MpLGV9bz16KGUsdCxlPT5mdW5jdGlvbih0LG8pe2NvbnN0IHM9bih0LG8pO3JldHVybiBzLmNiSWR4Pj0wJiYiZnVuY3Rpb24iPT10eXBlb2Ygb1tzLmNiSWR4XT9mKHMubmFtZSxvW3MuY2JJZHhdLHMscik6ZS5hcHBseSh0LG8pfSl9ZnVuY3Rpb24gSShlLHQpe2VbZCgiT3JpZ2luYWxEZWxlZ2F0ZSIpXT10fWxldCBSPSExLE09ITE7ZnVuY3Rpb24geCgpe3RyeXtjb25zdCBlPV8ubmF2aWdhdG9yLnVzZXJBZ2VudDtpZigtMSE9PWUuaW5kZXhPZigiTVNJRSAiKXx8LTEhPT1lLmluZGV4T2YoIlRyaWRlbnQvIikpcmV0dXJuITB9Y2F0Y2goZSl7fXJldHVybiExfWZ1bmN0aW9uIE4oKXtpZihSKXJldHVybiBNO1I9ITA7dHJ5e2NvbnN0IGU9Xy5uYXZpZ2F0b3IudXNlckFnZW50Oy0xPT09ZS5pbmRleE9mKCJNU0lFICIpJiYtMT09PWUuaW5kZXhPZigiVHJpZGVudC8iKSYmLTE9PT1lLmluZGV4T2YoIkVkZ2UvIil8fChNPSEwKX1jYXRjaChlKXt9cmV0dXJuIE19Wm9uZS5fX2xvYWRfcGF0Y2goIlpvbmVBd2FyZVByb21pc2UiLChlLHQsbik9Pntjb25zdCBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iscj1PYmplY3QuZGVmaW5lUHJvcGVydHkscz1uLnN5bWJvbCxhPVtdLGk9ITA9PT1lW3MoIkRJU0FCTEVfV1JBUFBJTkdfVU5DQVVHSFRfUFJPTUlTRV9SRUpFQ1RJT04iKV0sYz1zKCJQcm9taXNlIiksbD1zKCJ0aGVuIik7bi5vblVuaGFuZGxlZEVycm9yPWU9PntpZihuLnNob3dVbmNhdWdodEVycm9yKCkpe2NvbnN0IHQ9ZSYmZS5yZWplY3Rpb247dD9jb25zb2xlLmVycm9yKCJVbmhhbmRsZWQgUHJvbWlzZSByZWplY3Rpb246Iix0IGluc3RhbmNlb2YgRXJyb3I/dC5tZXNzYWdlOnQsIjsgWm9uZToiLGUuem9uZS5uYW1lLCI7IFRhc2s6IixlLnRhc2smJmUudGFzay5zb3VyY2UsIjsgVmFsdWU6Iix0LHQgaW5zdGFuY2VvZiBFcnJvcj90LnN0YWNrOnZvaWQgMCk6Y29uc29sZS5lcnJvcihlKX19LG4ubWljcm90YXNrRHJhaW5Eb25lPSgpPT57Zm9yKDthLmxlbmd0aDspe2NvbnN0IHQ9YS5zaGlmdCgpO3RyeXt0LnpvbmUucnVuR3VhcmRlZCgoKT0+e2lmKHQudGhyb3dPcmlnaW5hbCl0aHJvdyB0LnJlamVjdGlvbjt0aHJvdyB0fSl9Y2F0Y2goZSl7aChlKX19fTtjb25zdCB1PXMoInVuaGFuZGxlZFByb21pc2VSZWplY3Rpb25IYW5kbGVyIik7ZnVuY3Rpb24gaChlKXtuLm9uVW5oYW5kbGVkRXJyb3IoZSk7dHJ5e2NvbnN0IG49dFt1XTsiZnVuY3Rpb24iPT10eXBlb2YgbiYmbi5jYWxsKHRoaXMsZSl9Y2F0Y2gobyl7fX1mdW5jdGlvbiBwKGUpe3JldHVybiBlJiZlLnRoZW59ZnVuY3Rpb24gZihlKXtyZXR1cm4gZX1mdW5jdGlvbiBkKGUpe3JldHVybiBDLnJlamVjdChlKX1jb25zdCBnPXMoInN0YXRlIiksXz1zKCJ2YWx1ZSIpLGs9cygiZmluYWxseSIpLG09cygicGFyZW50UHJvbWlzZVZhbHVlIikseT1zKCJwYXJlbnRQcm9taXNlU3RhdGUiKSx2PW51bGwsVD0hMCxiPSExO2Z1bmN0aW9uIEUoZSx0KXtyZXR1cm4gbj0+e3RyeXtaKGUsdCxuKX1jYXRjaChvKXtaKGUsITEsbyl9fX1jb25zdCB3PXMoImN1cnJlbnRUYXNrVHJhY2UiKTtmdW5jdGlvbiBaKGUsbyxzKXtjb25zdCBjPWZ1bmN0aW9uKCl7bGV0IGU9ITE7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe2V8fChlPSEwLHQuYXBwbHkobnVsbCxhcmd1bWVudHMpKX19fSgpO2lmKGU9PT1zKXRocm93IG5ldyBUeXBlRXJyb3IoIlByb21pc2UgcmVzb2x2ZWQgd2l0aCBpdHNlbGYiKTtpZihlW2ddPT09dil7bGV0IGg9bnVsbDt0cnl7Im9iamVjdCIhPXR5cGVvZiBzJiYiZnVuY3Rpb24iIT10eXBlb2Ygc3x8KGg9cyYmcy50aGVuKX1jYXRjaCh1KXtyZXR1cm4gYygoKT0+e1ooZSwhMSx1KX0pKCksZX1pZihvIT09YiYmcyBpbnN0YW5jZW9mIEMmJnMuaGFzT3duUHJvcGVydHkoZykmJnMuaGFzT3duUHJvcGVydHkoXykmJnNbZ10hPT12KUQocyksWihlLHNbZ10sc1tfXSk7ZWxzZSBpZihvIT09YiYmImZ1bmN0aW9uIj09dHlwZW9mIGgpdHJ5e2guY2FsbChzLGMoRShlLG8pKSxjKEUoZSwhMSkpKX1jYXRjaCh1KXtjKCgpPT57WihlLCExLHUpfSkoKX1lbHNle2VbZ109bztjb25zdCBjPWVbX107aWYoZVtfXT1zLGVba109PT1rJiZvPT09VCYmKGVbZ109ZVt5XSxlW19dPWVbbV0pLG89PT1iJiZzIGluc3RhbmNlb2YgRXJyb3Ipe2NvbnN0IGU9dC5jdXJyZW50VGFzayYmdC5jdXJyZW50VGFzay5kYXRhJiZ0LmN1cnJlbnRUYXNrLmRhdGEuX19jcmVhdGlvblRyYWNlX187ZSYmcihzLHcse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLHZhbHVlOmV9KX1mb3IobGV0IHQ9MDt0PGMubGVuZ3RoOylQKGUsY1t0KytdLGNbdCsrXSxjW3QrK10sY1t0KytdKTtpZigwPT1jLmxlbmd0aCYmbz09Yil7ZVtnXT0wO2xldCBvPXM7dHJ5e3Rocm93IG5ldyBFcnJvcigiVW5jYXVnaHQgKGluIHByb21pc2UpOiAiKygobD1zKSYmbC50b1N0cmluZz09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc/KGwuY29uc3RydWN0b3ImJmwuY29uc3RydWN0b3IubmFtZXx8IiIpKyI6ICIrSlNPTi5zdHJpbmdpZnkobCk6bD9sLnRvU3RyaW5nKCk6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGwpKSsocyYmcy5zdGFjaz8iXG4iK3Muc3RhY2s6IiIpKX1jYXRjaCh1KXtvPXV9aSYmKG8udGhyb3dPcmlnaW5hbD0hMCksby5yZWplY3Rpb249cyxvLnByb21pc2U9ZSxvLnpvbmU9dC5jdXJyZW50LG8udGFzaz10LmN1cnJlbnRUYXNrLGEucHVzaChvKSxuLnNjaGVkdWxlTWljcm9UYXNrKCl9fX12YXIgbDtyZXR1cm4gZX1jb25zdCBTPXMoInJlamVjdGlvbkhhbmRsZWRIYW5kbGVyIik7ZnVuY3Rpb24gRChlKXtpZigwPT09ZVtnXSl7dHJ5e2NvbnN0IG49dFtTXTtuJiYiZnVuY3Rpb24iPT10eXBlb2YgbiYmbi5jYWxsKHRoaXMse3JlamVjdGlvbjplW19dLHByb21pc2U6ZX0pfWNhdGNoKG4pe31lW2ddPWI7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aDt0KyspZT09PWFbdF0ucHJvbWlzZSYmYS5zcGxpY2UodCwxKX19ZnVuY3Rpb24gUChlLHQsbixvLHIpe0QoZSk7Y29uc3Qgcz1lW2ddLGE9cz8iZnVuY3Rpb24iPT10eXBlb2Ygbz9vOmY6ImZ1bmN0aW9uIj09dHlwZW9mIHI/cjpkO3Quc2NoZWR1bGVNaWNyb1Rhc2soIlByb21pc2UudGhlbiIsKCk9Pnt0cnl7Y29uc3Qgbz1lW19dLHI9ISFuJiZrPT09bltrXTtyJiYoblttXT1vLG5beV09cyk7Y29uc3QgaT10LnJ1bihhLHZvaWQgMCxyJiZhIT09ZCYmYSE9PWY/W106W29dKTtaKG4sITAsaSl9Y2F0Y2gobyl7WihuLCExLG8pfX0sbil9Y29uc3QgTz1mdW5jdGlvbigpe307Y2xhc3MgQ3tzdGF0aWMgdG9TdHJpbmcoKXtyZXR1cm4iZnVuY3Rpb24gWm9uZUF3YXJlUHJvbWlzZSgpIHsgW25hdGl2ZSBjb2RlXSB9In1zdGF0aWMgcmVzb2x2ZShlKXtyZXR1cm4gWihuZXcgdGhpcyhudWxsKSxULGUpfXN0YXRpYyByZWplY3QoZSl7cmV0dXJuIFoobmV3IHRoaXMobnVsbCksYixlKX1zdGF0aWMgcmFjZShlKXtsZXQgdCxuLG89bmV3IHRoaXMoKGUsbyk9Pnt0PWUsbj1vfSk7ZnVuY3Rpb24gcihlKXt0KGUpfWZ1bmN0aW9uIHMoZSl7bihlKX1mb3IobGV0IGEgb2YgZSlwKGEpfHwoYT10aGlzLnJlc29sdmUoYSkpLGEudGhlbihyLHMpO3JldHVybiBvfXN0YXRpYyBhbGwoZSl7cmV0dXJuIEMuYWxsV2l0aENhbGxiYWNrKGUpfXN0YXRpYyBhbGxTZXR0bGVkKGUpe3JldHVybih0aGlzJiZ0aGlzLnByb3RvdHlwZSBpbnN0YW5jZW9mIEM/dGhpczpDKS5hbGxXaXRoQ2FsbGJhY2soZSx7dGhlbkNhbGxiYWNrOmU9Pih7c3RhdHVzOiJmdWxmaWxsZWQiLHZhbHVlOmV9KSxlcnJvckNhbGxiYWNrOmU9Pih7c3RhdHVzOiJyZWplY3RlZCIscmVhc29uOmV9KX0pfXN0YXRpYyBhbGxXaXRoQ2FsbGJhY2soZSx0KXtsZXQgbixvLHI9bmV3IHRoaXMoKGUsdCk9PntuPWUsbz10fSkscz0yLGE9MDtjb25zdCBpPVtdO2ZvcihsZXQgbCBvZiBlKXtwKGwpfHwobD10aGlzLnJlc29sdmUobCkpO2NvbnN0IGU9YTt0cnl7bC50aGVuKG89PntpW2VdPXQ/dC50aGVuQ2FsbGJhY2sobyk6byxzLS0sMD09PXMmJm4oaSl9LHI9Pnt0PyhpW2VdPXQuZXJyb3JDYWxsYmFjayhyKSxzLS0sMD09PXMmJm4oaSkpOm8ocil9KX1jYXRjaChjKXtvKGMpfXMrKyxhKyt9cmV0dXJuIHMtPTIsMD09PXMmJm4oaSkscn1jb25zdHJ1Y3RvcihlKXtjb25zdCB0PXRoaXM7aWYoISh0IGluc3RhbmNlb2YgQykpdGhyb3cgbmV3IEVycm9yKCJNdXN0IGJlIGFuIGluc3RhbmNlb2YgUHJvbWlzZS4iKTt0W2ddPXYsdFtfXT1bXTt0cnl7ZSYmZShFKHQsVCksRSh0LGIpKX1jYXRjaChuKXtaKHQsITEsbil9fWdldFtTeW1ib2wudG9TdHJpbmdUYWddKCl7cmV0dXJuIlByb21pc2UifWdldFtTeW1ib2wuc3BlY2llc10oKXtyZXR1cm4gQ310aGVuKGUsbil7bGV0IG89dGhpcy5jb25zdHJ1Y3RvcltTeW1ib2wuc3BlY2llc107byYmImZ1bmN0aW9uIj09dHlwZW9mIG98fChvPXRoaXMuY29uc3RydWN0b3J8fEMpO2NvbnN0IHI9bmV3IG8oTykscz10LmN1cnJlbnQ7cmV0dXJuIHRoaXNbZ109PXY/dGhpc1tfXS5wdXNoKHMscixlLG4pOlAodGhpcyxzLHIsZSxuKSxyfWNhdGNoKGUpe3JldHVybiB0aGlzLnRoZW4obnVsbCxlKX1maW5hbGx5KGUpe2xldCBuPXRoaXMuY29uc3RydWN0b3JbU3ltYm9sLnNwZWNpZXNdO24mJiJmdW5jdGlvbiI9PXR5cGVvZiBufHwobj1DKTtjb25zdCBvPW5ldyBuKE8pO29ba109aztjb25zdCByPXQuY3VycmVudDtyZXR1cm4gdGhpc1tnXT09dj90aGlzW19dLnB1c2gocixvLGUsZSk6UCh0aGlzLHIsbyxlLGUpLG99fUMucmVzb2x2ZT1DLnJlc29sdmUsQy5yZWplY3Q9Qy5yZWplY3QsQy5yYWNlPUMucmFjZSxDLmFsbD1DLmFsbDtjb25zdCBqPWVbY109ZS5Qcm9taXNlO2UuUHJvbWlzZT1DO2NvbnN0IEk9cygidGhlblBhdGNoZWQiKTtmdW5jdGlvbiBSKGUpe2NvbnN0IHQ9ZS5wcm90b3R5cGUsbj1vKHQsInRoZW4iKTtpZihuJiYoITE9PT1uLndyaXRhYmxlfHwhbi5jb25maWd1cmFibGUpKXJldHVybjtjb25zdCByPXQudGhlbjt0W2xdPXIsZS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgQygoZSx0KT0+e3IuY2FsbCh0aGlzLGUsdCl9KS50aGVuKGUsdCl9LGVbSV09ITB9cmV0dXJuIG4ucGF0Y2hUaGVuPVIsaiYmKFIoaikseihlLCJmZXRjaCIsZT0+e3JldHVybiB0PWUsZnVuY3Rpb24oZSxuKXtsZXQgbz10LmFwcGx5KGUsbik7aWYobyBpbnN0YW5jZW9mIEMpcmV0dXJuIG87bGV0IHI9by5jb25zdHJ1Y3RvcjtyZXR1cm4gcltJXXx8UihyKSxvfTt2YXIgdH0pKSxQcm9taXNlW3QuX19zeW1ib2xfXygidW5jYXVnaHRQcm9taXNlRXJyb3JzIildPWEsQ30pLFpvbmUuX19sb2FkX3BhdGNoKCJ0b1N0cmluZyIsZT0+e2NvbnN0IHQ9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLG49ZCgiT3JpZ2luYWxEZWxlZ2F0ZSIpLG89ZCgiUHJvbWlzZSIpLHI9ZCgiRXJyb3IiKSxzPWZ1bmN0aW9uKCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMpe2NvbnN0IHM9dGhpc1tuXTtpZihzKXJldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBzP3QuY2FsbChzKTpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocyk7aWYodGhpcz09PVByb21pc2Upe2NvbnN0IG49ZVtvXTtpZihuKXJldHVybiB0LmNhbGwobil9aWYodGhpcz09PUVycm9yKXtjb25zdCBuPWVbcl07aWYobilyZXR1cm4gdC5jYWxsKG4pfX1yZXR1cm4gdC5jYWxsKHRoaXMpfTtzW25dPXQsRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nPXM7Y29uc3QgYT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO09iamVjdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZSYmdGhpcyBpbnN0YW5jZW9mIFByb21pc2U/IltvYmplY3QgUHJvbWlzZV0iOmEuY2FsbCh0aGlzKX19KTtsZXQgTD0hMTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyl0cnl7Y29uc3QgZT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sInBhc3NpdmUiLHtnZXQ6ZnVuY3Rpb24oKXtMPSEwfX0pO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0IixlLGUpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJ0ZXN0IixlLGUpfWNhdGNoKGhlKXtMPSExfWNvbnN0IEE9e3VzZUc6ITB9LEg9e30sRj17fSxxPW5ldyBSZWdFeHAoIl4iK2grIihcXHcrKSh0cnVlfGZhbHNlKSQiKSxHPWQoInByb3BhZ2F0aW9uU3RvcHBlZCIpO2Z1bmN0aW9uIEIoZSx0KXtjb25zdCBuPSh0P3QoZSk6ZSkrdSxvPSh0P3QoZSk6ZSkrbCxyPWgrbixzPWgrbztIW2VdPXt9LEhbZV0uZmFsc2U9cixIW2VdLnRydWU9c31mdW5jdGlvbiBXKGUsdCxvKXtjb25zdCByPW8mJm8uYWRkfHxzLGk9byYmby5ybXx8YSxjPW8mJm8ubGlzdGVuZXJzfHwiZXZlbnRMaXN0ZW5lcnMiLHA9byYmby5ybUFsbHx8InJlbW92ZUFsbExpc3RlbmVycyIsZj1kKHIpLGc9Ii4iK3IrIjoiLF89ZnVuY3Rpb24oZSx0LG4pe2lmKGUuaXNSZW1vdmVkKXJldHVybjtjb25zdCBvPWUuY2FsbGJhY2s7Im9iamVjdCI9PXR5cGVvZiBvJiZvLmhhbmRsZUV2ZW50JiYoZS5jYWxsYmFjaz1lPT5vLmhhbmRsZUV2ZW50KGUpLGUub3JpZ2luYWxEZWxlZ2F0ZT1vKSxlLmludm9rZShlLHQsW25dKTtjb25zdCByPWUub3B0aW9ucztyJiYib2JqZWN0Ij09dHlwZW9mIHImJnIub25jZSYmdFtpXS5jYWxsKHQsbi50eXBlLGUub3JpZ2luYWxEZWxlZ2F0ZT9lLm9yaWdpbmFsRGVsZWdhdGU6ZS5jYWxsYmFjayxyKX0saz1mdW5jdGlvbih0KXtpZighKHQ9dHx8ZS5ldmVudCkpcmV0dXJuO2NvbnN0IG49dGhpc3x8dC50YXJnZXR8fGUsbz1uW0hbdC50eXBlXS5mYWxzZV07aWYobylpZigxPT09by5sZW5ndGgpXyhvWzBdLG4sdCk7ZWxzZXtjb25zdCBlPW8uc2xpY2UoKTtmb3IobGV0IG89MDtvPGUubGVuZ3RoJiYoIXR8fCEwIT09dFtHXSk7bysrKV8oZVtvXSxuLHQpfX0sbT1mdW5jdGlvbih0KXtpZighKHQ9dHx8ZS5ldmVudCkpcmV0dXJuO2NvbnN0IG49dGhpc3x8dC50YXJnZXR8fGUsbz1uW0hbdC50eXBlXS50cnVlXTtpZihvKWlmKDE9PT1vLmxlbmd0aClfKG9bMF0sbix0KTtlbHNle2NvbnN0IGU9by5zbGljZSgpO2ZvcihsZXQgbz0wO288ZS5sZW5ndGgmJighdHx8ITAhPT10W0ddKTtvKyspXyhlW29dLG4sdCl9fTtmdW5jdGlvbiB5KHQsbyl7aWYoIXQpcmV0dXJuITE7bGV0IHM9ITA7byYmdm9pZCAwIT09by51c2VHJiYocz1vLnVzZUcpO2NvbnN0IGE9byYmby52aDtsZXQgXz0hMDtvJiZ2b2lkIDAhPT1vLmNoa0R1cCYmKF89by5jaGtEdXApO2xldCB5PSExO28mJnZvaWQgMCE9PW8ucnQmJih5PW8ucnQpO2xldCB2PXQ7Zm9yKDt2JiYhdi5oYXNPd25Qcm9wZXJ0eShyKTspdj1uKHYpO2lmKCF2JiZ0W3JdJiYodj10KSwhdilyZXR1cm4hMTtpZih2W2ZdKXJldHVybiExO2NvbnN0IFQ9byYmby5ldmVudE5hbWVUb1N0cmluZyxFPXt9LHc9dltmXT12W3JdLFo9dltkKGkpXT12W2ldLFM9dltkKGMpXT12W2NdLEQ9dltkKHApXT12W3BdO2xldCBQO2Z1bmN0aW9uIE8oZSx0KXtyZXR1cm4hTCYmIm9iamVjdCI9PXR5cGVvZiBlJiZlPyEhZS5jYXB0dXJlOkwmJnQ/ImJvb2xlYW4iPT10eXBlb2YgZT97Y2FwdHVyZTplLHBhc3NpdmU6ITB9OmU/Im9iamVjdCI9PXR5cGVvZiBlJiYhMSE9PWUucGFzc2l2ZT9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse3Bhc3NpdmU6ITB9KTplOntwYXNzaXZlOiEwfTplfW8mJm8ucHJlcGVuZCYmKFA9dltkKG8ucHJlcGVuZCldPXZbby5wcmVwZW5kXSk7Y29uc3QgQz1zP2Z1bmN0aW9uKGUpe2lmKCFFLmlzRXhpc3RpbmcpcmV0dXJuIHcuY2FsbChFLnRhcmdldCxFLmV2ZW50TmFtZSxFLmNhcHR1cmU/bTprLEUub3B0aW9ucyl9OmZ1bmN0aW9uKGUpe3JldHVybiB3LmNhbGwoRS50YXJnZXQsRS5ldmVudE5hbWUsZS5pbnZva2UsRS5vcHRpb25zKX0sej1zP2Z1bmN0aW9uKGUpe2lmKCFlLmlzUmVtb3ZlZCl7Y29uc3QgdD1IW2UuZXZlbnROYW1lXTtsZXQgbjt0JiYobj10W2UuY2FwdHVyZT9sOnVdKTtjb25zdCBvPW4mJmUudGFyZ2V0W25dO2lmKG8pZm9yKGxldCByPTA7cjxvLmxlbmd0aDtyKyspaWYob1tyXT09PWUpe28uc3BsaWNlKHIsMSksZS5pc1JlbW92ZWQ9ITAsMD09PW8ubGVuZ3RoJiYoZS5hbGxSZW1vdmVkPSEwLGUudGFyZ2V0W25dPW51bGwpO2JyZWFrfX1pZihlLmFsbFJlbW92ZWQpcmV0dXJuIFouY2FsbChlLnRhcmdldCxlLmV2ZW50TmFtZSxlLmNhcHR1cmU/bTprLGUub3B0aW9ucyl9OmZ1bmN0aW9uKGUpe3JldHVybiBaLmNhbGwoZS50YXJnZXQsZS5ldmVudE5hbWUsZS5pbnZva2UsZS5vcHRpb25zKX0saj1vJiZvLmRpZmY/by5kaWZmOmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj10eXBlb2YgdDtyZXR1cm4iZnVuY3Rpb24iPT09biYmZS5jYWxsYmFjaz09PXR8fCJvYmplY3QiPT09biYmZS5vcmlnaW5hbERlbGVnYXRlPT09dH0sUj1ab25lW2QoIlVOUEFUQ0hFRF9FVkVOVFMiKV0sTT1lW2QoIlBBU1NJVkVfRVZFTlRTIildLHg9ZnVuY3Rpb24odCxuLHIsaSxjPSExLGg9ITEpe3JldHVybiBmdW5jdGlvbigpe2NvbnN0IHA9dGhpc3x8ZTtsZXQgZj1hcmd1bWVudHNbMF07byYmby50cmFuc2ZlckV2ZW50TmFtZSYmKGY9by50cmFuc2ZlckV2ZW50TmFtZShmKSk7bGV0IGQ9YXJndW1lbnRzWzFdO2lmKCFkKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihiJiYidW5jYXVnaHRFeGNlcHRpb24iPT09ZilyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bGV0IGc9ITE7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGQpe2lmKCFkLmhhbmRsZUV2ZW50KXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtnPSEwfWlmKGEmJiFhKHQsZCxwLGFyZ3VtZW50cykpcmV0dXJuO2NvbnN0IGs9TCYmISFNJiYtMSE9PU0uaW5kZXhPZihmKSxtPU8oYXJndW1lbnRzWzJdLGspO2lmKFIpZm9yKGxldCBlPTA7ZTxSLmxlbmd0aDtlKyspaWYoZj09PVJbZV0pcmV0dXJuIGs/dC5jYWxsKHAsZixkLG0pOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2NvbnN0IHk9ISFtJiYoImJvb2xlYW4iPT10eXBlb2YgbXx8bS5jYXB0dXJlKSx2PSEoIW18fCJvYmplY3QiIT10eXBlb2YgbSkmJm0ub25jZSx3PVpvbmUuY3VycmVudDtsZXQgWj1IW2ZdO1p8fChCKGYsVCksWj1IW2ZdKTtjb25zdCBTPVpbeT9sOnVdO2xldCBELFA9cFtTXSxDPSExO2lmKFApe2lmKEM9ITAsXylmb3IobGV0IGU9MDtlPFAubGVuZ3RoO2UrKylpZihqKFBbZV0sZCkpcmV0dXJufWVsc2UgUD1wW1NdPVtdO2NvbnN0IHo9cC5jb25zdHJ1Y3Rvci5uYW1lLEk9Rlt6XTtJJiYoRD1JW2ZdKSxEfHwoRD16K24rKFQ/VChmKTpmKSksRS5vcHRpb25zPW0sdiYmKEUub3B0aW9ucy5vbmNlPSExKSxFLnRhcmdldD1wLEUuY2FwdHVyZT15LEUuZXZlbnROYW1lPWYsRS5pc0V4aXN0aW5nPUM7Y29uc3QgeD1zP0E6dm9pZCAwO3gmJih4LnRhc2tEYXRhPUUpO2NvbnN0IE49dy5zY2hlZHVsZUV2ZW50VGFzayhELGQseCxyLGkpO3JldHVybiBFLnRhcmdldD1udWxsLHgmJih4LnRhc2tEYXRhPW51bGwpLHYmJihtLm9uY2U9ITApLChMfHwiYm9vbGVhbiIhPXR5cGVvZiBOLm9wdGlvbnMpJiYoTi5vcHRpb25zPW0pLE4udGFyZ2V0PXAsTi5jYXB0dXJlPXksTi5ldmVudE5hbWU9ZixnJiYoTi5vcmlnaW5hbERlbGVnYXRlPWQpLGg/UC51bnNoaWZ0KE4pOlAucHVzaChOKSxjP3A6dm9pZCAwfX07cmV0dXJuIHZbcl09eCh3LGcsQyx6LHkpLFAmJih2LnByZXBlbmRMaXN0ZW5lcj14KFAsIi5wcmVwZW5kTGlzdGVuZXI6IixmdW5jdGlvbihlKXtyZXR1cm4gUC5jYWxsKEUudGFyZ2V0LEUuZXZlbnROYW1lLGUuaW52b2tlLEUub3B0aW9ucyl9LHoseSwhMCkpLHZbaV09ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXN8fGU7bGV0IG49YXJndW1lbnRzWzBdO28mJm8udHJhbnNmZXJFdmVudE5hbWUmJihuPW8udHJhbnNmZXJFdmVudE5hbWUobikpO2NvbnN0IHI9YXJndW1lbnRzWzJdLHM9ISFyJiYoImJvb2xlYW4iPT10eXBlb2Ygcnx8ci5jYXB0dXJlKSxpPWFyZ3VtZW50c1sxXTtpZighaSlyZXR1cm4gWi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoYSYmIWEoWixpLHQsYXJndW1lbnRzKSlyZXR1cm47Y29uc3QgYz1IW25dO2xldCBwO2MmJihwPWNbcz9sOnVdKTtjb25zdCBmPXAmJnRbcF07aWYoZilmb3IobGV0IGU9MDtlPGYubGVuZ3RoO2UrKyl7Y29uc3Qgbz1mW2VdO2lmKGoobyxpKSlyZXR1cm4gZi5zcGxpY2UoZSwxKSxvLmlzUmVtb3ZlZD0hMCwwPT09Zi5sZW5ndGgmJihvLmFsbFJlbW92ZWQ9ITAsdFtwXT1udWxsLCJzdHJpbmciPT10eXBlb2YgbikmJih0W2grIk9OX1BST1BFUlRZIituXT1udWxsKSxvLnpvbmUuY2FuY2VsVGFzayhvKSx5P3Q6dm9pZCAwfXJldHVybiBaLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdltjXT1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpc3x8ZTtsZXQgbj1hcmd1bWVudHNbMF07byYmby50cmFuc2ZlckV2ZW50TmFtZSYmKG49by50cmFuc2ZlckV2ZW50TmFtZShuKSk7Y29uc3Qgcj1bXSxzPVUodCxUP1Qobik6bik7Zm9yKGxldCBlPTA7ZTxzLmxlbmd0aDtlKyspe2NvbnN0IHQ9c1tlXTtyLnB1c2godC5vcmlnaW5hbERlbGVnYXRlP3Qub3JpZ2luYWxEZWxlZ2F0ZTp0LmNhbGxiYWNrKX1yZXR1cm4gcn0sdltwXT1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpc3x8ZTtsZXQgbj1hcmd1bWVudHNbMF07aWYobil7byYmby50cmFuc2ZlckV2ZW50TmFtZSYmKG49by50cmFuc2ZlckV2ZW50TmFtZShuKSk7Y29uc3QgZT1IW25dO2lmKGUpe2NvbnN0IG89dFtlLmZhbHNlXSxyPXRbZS50cnVlXTtpZihvKXtjb25zdCBlPW8uc2xpY2UoKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbz1lW3RdO3RoaXNbaV0uY2FsbCh0aGlzLG4sby5vcmlnaW5hbERlbGVnYXRlP28ub3JpZ2luYWxEZWxlZ2F0ZTpvLmNhbGxiYWNrLG8ub3B0aW9ucyl9fWlmKHIpe2NvbnN0IGU9ci5zbGljZSgpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBvPWVbdF07dGhpc1tpXS5jYWxsKHRoaXMsbixvLm9yaWdpbmFsRGVsZWdhdGU/by5vcmlnaW5hbERlbGVnYXRlOm8uY2FsbGJhY2ssby5vcHRpb25zKX19fX1lbHNle2NvbnN0IGU9T2JqZWN0LmtleXModCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG49cS5leGVjKGVbdF0pO2xldCBvPW4mJm5bMV07byYmInJlbW92ZUxpc3RlbmVyIiE9PW8mJnRoaXNbcF0uY2FsbCh0aGlzLG8pfXRoaXNbcF0uY2FsbCh0aGlzLCJyZW1vdmVMaXN0ZW5lciIpfWlmKHkpcmV0dXJuIHRoaXN9LEkodltyXSx3KSxJKHZbaV0sWiksRCYmSSh2W3BdLEQpLFMmJkkodltjXSxTKSwhMH1sZXQgdj1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl2W25dPXkodFtuXSxvKTtyZXR1cm4gdn1mdW5jdGlvbiBVKGUsdCl7aWYoIXQpe2NvbnN0IG49W107Zm9yKGxldCBvIGluIGUpe2NvbnN0IHI9cS5leGVjKG8pO2xldCBzPXImJnJbMV07aWYocyYmKCF0fHxzPT09dCkpe2NvbnN0IHQ9ZVtvXTtpZih0KWZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKW4ucHVzaCh0W2VdKX19cmV0dXJuIG59bGV0IG49SFt0XTtufHwoQih0KSxuPUhbdF0pO2NvbnN0IG89ZVtuLmZhbHNlXSxyPWVbbi50cnVlXTtyZXR1cm4gbz9yP28uY29uY2F0KHIpOm8uc2xpY2UoKTpyP3Iuc2xpY2UoKTpbXX1mdW5jdGlvbiBWKGUsdCl7Y29uc3Qgbj1lLkV2ZW50O24mJm4ucHJvdG90eXBlJiZ0LnBhdGNoTWV0aG9kKG4ucHJvdG90eXBlLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLGU9PmZ1bmN0aW9uKHQsbil7dFtHXT0hMCxlJiZlLmFwcGx5KHQsbil9KX1mdW5jdGlvbiAkKGUsdCxuLG8scil7Y29uc3Qgcz1ab25lLl9fc3ltYm9sX18obyk7aWYodFtzXSlyZXR1cm47Y29uc3QgYT10W3NdPXRbb107dFtvXT1mdW5jdGlvbihzLGksYyl7cmV0dXJuIGkmJmkucHJvdG90eXBlJiZyLmZvckVhY2goZnVuY3Rpb24odCl7Y29uc3Qgcj1gJHtufS4ke299OjpgK3Qscz1pLnByb3RvdHlwZTtpZihzLmhhc093blByb3BlcnR5KHQpKXtjb25zdCBuPWUuT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHMsdCk7biYmbi52YWx1ZT8obi52YWx1ZT1lLndyYXBXaXRoQ3VycmVudFpvbmUobi52YWx1ZSxyKSxlLl9yZWRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLHQsbikpOnNbdF0mJihzW3RdPWUud3JhcFdpdGhDdXJyZW50Wm9uZShzW3RdLHIpKX1lbHNlIHNbdF0mJihzW3RdPWUud3JhcFdpdGhDdXJyZW50Wm9uZShzW3RdLHIpKX0pLGEuY2FsbCh0LHMsaSxjKX0sZS5hdHRhY2hPcmlnaW5Ub1BhdGNoZWQodFtvXSxhKX1jb25zdCBYPVsiYWJzb2x1dGVkZXZpY2VvcmllbnRhdGlvbiIsImFmdGVyaW5wdXQiLCJhZnRlcnByaW50IiwiYXBwaW5zdGFsbGVkIiwiYmVmb3JlaW5zdGFsbHByb21wdCIsImJlZm9yZXByaW50IiwiYmVmb3JldW5sb2FkIiwiZGV2aWNlbGlnaHQiLCJkZXZpY2Vtb3Rpb24iLCJkZXZpY2VvcmllbnRhdGlvbiIsImRldmljZW9yaWVudGF0aW9uYWJzb2x1dGUiLCJkZXZpY2Vwcm94aW1pdHkiLCJoYXNoY2hhbmdlIiwibGFuZ3VhZ2VjaGFuZ2UiLCJtZXNzYWdlIiwibW96YmVmb3JlcGFpbnQiLCJvZmZsaW5lIiwib25saW5lIiwicGFpbnQiLCJwYWdlc2hvdyIsInBhZ2VoaWRlIiwicG9wc3RhdGUiLCJyZWplY3Rpb25oYW5kbGVkIiwic3RvcmFnZSIsInVuaGFuZGxlZHJlamVjdGlvbiIsInVubG9hZCIsInVzZXJwcm94aW1pdHkiLCJ2cmRpc3BsYXljb25uZWN0ZWQiLCJ2cmRpc3BsYXlkaXNjb25uZWN0ZWQiLCJ2cmRpc3BsYXlwcmVzZW50Y2hhbmdlIl0sWT1bImVuY3J5cHRlZCIsIndhaXRpbmdmb3JrZXkiLCJtc25lZWRrZXkiLCJtb3ppbnRlcnJ1cHRiZWdpbiIsIm1vemludGVycnVwdGVuZCJdLEo9WyJsb2FkIl0sSz1bImJsdXIiLCJlcnJvciIsImZvY3VzIiwibG9hZCIsInJlc2l6ZSIsInNjcm9sbCIsIm1lc3NhZ2VlcnJvciJdLFE9WyJib3VuY2UiLCJmaW5pc2giLCJzdGFydCJdLGVlPVsibG9hZHN0YXJ0IiwicHJvZ3Jlc3MiLCJhYm9ydCIsImVycm9yIiwibG9hZCIsInByb2dyZXNzIiwidGltZW91dCIsImxvYWRlbmQiLCJyZWFkeXN0YXRlY2hhbmdlIl0sdGU9WyJ1cGdyYWRlbmVlZGVkIiwiY29tcGxldGUiLCJhYm9ydCIsInN1Y2Nlc3MiLCJlcnJvciIsImJsb2NrZWQiLCJ2ZXJzaW9uY2hhbmdlIiwiY2xvc2UiXSxuZT1bImNsb3NlIiwiZXJyb3IiLCJvcGVuIiwibWVzc2FnZSJdLG9lPVsiZXJyb3IiLCJtZXNzYWdlIl0scmU9WyJhYm9ydCIsImFuaW1hdGlvbmNhbmNlbCIsImFuaW1hdGlvbmVuZCIsImFuaW1hdGlvbml0ZXJhdGlvbiIsImF1eGNsaWNrIiwiYmVmb3JlaW5wdXQiLCJibHVyIiwiY2FuY2VsIiwiY2FucGxheSIsImNhbnBsYXl0aHJvdWdoIiwiY2hhbmdlIiwiY29tcG9zaXRpb25zdGFydCIsImNvbXBvc2l0aW9udXBkYXRlIiwiY29tcG9zaXRpb25lbmQiLCJjdWVjaGFuZ2UiLCJjbGljayIsImNsb3NlIiwiY29udGV4dG1lbnUiLCJjdXJlY2hhbmdlIiwiZGJsY2xpY2siLCJkcmFnIiwiZHJhZ2VuZCIsImRyYWdlbnRlciIsImRyYWdleGl0IiwiZHJhZ2xlYXZlIiwiZHJhZ292ZXIiLCJkcm9wIiwiZHVyYXRpb25jaGFuZ2UiLCJlbXB0aWVkIiwiZW5kZWQiLCJlcnJvciIsImZvY3VzIiwiZm9jdXNpbiIsImZvY3Vzb3V0IiwiZ290cG9pbnRlcmNhcHR1cmUiLCJpbnB1dCIsImludmFsaWQiLCJrZXlkb3duIiwia2V5cHJlc3MiLCJrZXl1cCIsImxvYWQiLCJsb2Fkc3RhcnQiLCJsb2FkZWRkYXRhIiwibG9hZGVkbWV0YWRhdGEiLCJsb3N0cG9pbnRlcmNhcHR1cmUiLCJtb3VzZWRvd24iLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsIm1vdXNlbW92ZSIsIm1vdXNlb3V0IiwibW91c2VvdmVyIiwibW91c2V1cCIsIm1vdXNld2hlZWwiLCJvcmllbnRhdGlvbmNoYW5nZSIsInBhdXNlIiwicGxheSIsInBsYXlpbmciLCJwb2ludGVyY2FuY2VsIiwicG9pbnRlcmRvd24iLCJwb2ludGVyZW50ZXIiLCJwb2ludGVybGVhdmUiLCJwb2ludGVybG9ja2NoYW5nZSIsIm1venBvaW50ZXJsb2NrY2hhbmdlIiwid2Via2l0cG9pbnRlcmxvY2tlcmNoYW5nZSIsInBvaW50ZXJsb2NrZXJyb3IiLCJtb3pwb2ludGVybG9ja2Vycm9yIiwid2Via2l0cG9pbnRlcmxvY2tlcnJvciIsInBvaW50ZXJtb3ZlIiwicG9pbnRvdXQiLCJwb2ludGVyb3ZlciIsInBvaW50ZXJ1cCIsInByb2dyZXNzIiwicmF0ZWNoYW5nZSIsInJlc2V0IiwicmVzaXplIiwic2Nyb2xsIiwic2Vla2VkIiwic2Vla2luZyIsInNlbGVjdCIsInNlbGVjdGlvbmNoYW5nZSIsInNlbGVjdHN0YXJ0Iiwic2hvdyIsInNvcnQiLCJzdGFsbGVkIiwic3VibWl0Iiwic3VzcGVuZCIsInRpbWV1cGRhdGUiLCJ2b2x1bWVjaGFuZ2UiLCJ0b3VjaGNhbmNlbCIsInRvdWNobW92ZSIsInRvdWNoc3RhcnQiLCJ0b3VjaGVuZCIsInRyYW5zaXRpb25jYW5jZWwiLCJ0cmFuc2l0aW9uZW5kIiwid2FpdGluZyIsIndoZWVsIl0uY29uY2F0KFsid2ViZ2xjb250ZXh0cmVzdG9yZWQiLCJ3ZWJnbGNvbnRleHRsb3N0Iiwid2ViZ2xjb250ZXh0Y3JlYXRpb25lcnJvciJdLFsiYXV0b2NvbXBsZXRlIiwiYXV0b2NvbXBsZXRlZXJyb3IiXSxbInRvZ2dsZSJdLFsiYWZ0ZXJzY3JpcHRleGVjdXRlIiwiYmVmb3Jlc2NyaXB0ZXhlY3V0ZSIsIkRPTUNvbnRlbnRMb2FkZWQiLCJmcmVlemUiLCJmdWxsc2NyZWVuY2hhbmdlIiwibW96ZnVsbHNjcmVlbmNoYW5nZSIsIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLCJtc2Z1bGxzY3JlZW5jaGFuZ2UiLCJmdWxsc2NyZWVuZXJyb3IiLCJtb3pmdWxsc2NyZWVuZXJyb3IiLCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3IiLCJtc2Z1bGxzY3JlZW5lcnJvciIsInJlYWR5c3RhdGVjaGFuZ2UiLCJ2aXNpYmlsaXR5Y2hhbmdlIiwicmVzdW1lIl0sWCxbImJlZm9yZWNvcHkiLCJiZWZvcmVjdXQiLCJiZWZvcmVwYXN0ZSIsImNvcHkiLCJjdXQiLCJwYXN0ZSIsImRyYWdzdGFydCIsImxvYWRlbmQiLCJhbmltYXRpb25zdGFydCIsInNlYXJjaCIsInRyYW5zaXRpb25ydW4iLCJ0cmFuc2l0aW9uc3RhcnQiLCJ3ZWJraXRhbmltYXRpb25lbmQiLCJ3ZWJraXRhbmltYXRpb25pdGVyYXRpb24iLCJ3ZWJraXRhbmltYXRpb25zdGFydCIsIndlYmtpdHRyYW5zaXRpb25lbmQiXSxbImFjdGl2YXRlIiwiYWZ0ZXJ1cGRhdGUiLCJhcmlhcmVxdWVzdCIsImJlZm9yZWFjdGl2YXRlIiwiYmVmb3JlZGVhY3RpdmF0ZSIsImJlZm9yZWVkaXRmb2N1cyIsImJlZm9yZXVwZGF0ZSIsImNlbGxjaGFuZ2UiLCJjb250cm9sc2VsZWN0IiwiZGF0YWF2YWlsYWJsZSIsImRhdGFzZXRjaGFuZ2VkIiwiZGF0YXNldGNvbXBsZXRlIiwiZXJyb3J1cGRhdGUiLCJmaWx0ZXJjaGFuZ2UiLCJsYXlvdXRjb21wbGV0ZSIsImxvc2VjYXB0dXJlIiwibW92ZSIsIm1vdmVlbmQiLCJtb3Zlc3RhcnQiLCJwcm9wZXJ0eWNoYW5nZSIsInJlc2l6ZWVuZCIsInJlc2l6ZXN0YXJ0Iiwicm93ZW50ZXIiLCJyb3dleGl0Iiwicm93c2RlbGV0ZSIsInJvd3NpbnNlcnRlZCIsImNvbW1hbmQiLCJjb21wYXNzbmVlZHNjYWxpYnJhdGlvbiIsImRlYWN0aXZhdGUiLCJoZWxwIiwibXNjb250ZW50em9vbSIsIm1zbWFuaXB1bGF0aW9uc3RhdGVjaGFuZ2VkIiwibXNnZXN0dXJlY2hhbmdlIiwibXNnZXN0dXJlZG91YmxldGFwIiwibXNnZXN0dXJlZW5kIiwibXNnZXN0dXJlaG9sZCIsIm1zZ2VzdHVyZXN0YXJ0IiwibXNnZXN0dXJldGFwIiwibXNnb3Rwb2ludGVyY2FwdHVyZSIsIm1zaW5lcnRpYXN0YXJ0IiwibXNsb3N0cG9pbnRlcmNhcHR1cmUiLCJtc3BvaW50ZXJjYW5jZWwiLCJtc3BvaW50ZXJkb3duIiwibXNwb2ludGVyZW50ZXIiLCJtc3BvaW50ZXJob3ZlciIsIm1zcG9pbnRlcmxlYXZlIiwibXNwb2ludGVybW92ZSIsIm1zcG9pbnRlcm91dCIsIm1zcG9pbnRlcm92ZXIiLCJtc3BvaW50ZXJ1cCIsInBvaW50ZXJvdXQiLCJtc3NpdGVtb2RlanVtcGxpc3RpdGVtcmVtb3ZlZCIsIm1zdGh1bWJuYWlsY2xpY2siLCJzdG9wIiwic3RvcmFnZWNvbW1pdCJdKTtmdW5jdGlvbiBzZShlLHQsbil7aWYoIW58fDA9PT1uLmxlbmd0aClyZXR1cm4gdDtjb25zdCBvPW4uZmlsdGVyKHQ9PnQudGFyZ2V0PT09ZSk7aWYoIW98fDA9PT1vLmxlbmd0aClyZXR1cm4gdDtjb25zdCByPW9bMF0uaWdub3JlUHJvcGVydGllcztyZXR1cm4gdC5maWx0ZXIoZT0+LTE9PT1yLmluZGV4T2YoZSkpfWZ1bmN0aW9uIGFlKGUsdCxuLG8pe2UmJlAoZSxzZShlLHQsbiksbyl9ZnVuY3Rpb24gaWUoZSx0KXtpZihiJiYhdylyZXR1cm47aWYoWm9uZVtlLnN5bWJvbCgicGF0Y2hFdmVudHMiKV0pcmV0dXJuO2NvbnN0IG89InVuZGVmaW5lZCIhPXR5cGVvZiBXZWJTb2NrZXQscj10Ll9fWm9uZV9pZ25vcmVfb25fcHJvcGVydGllcztpZihFKXtjb25zdCBlPXdpbmRvdyx0PXgoKT9be3RhcmdldDplLGlnbm9yZVByb3BlcnRpZXM6WyJlcnJvciJdfV06W107YWUoZSxyZS5jb25jYXQoWyJtZXNzYWdlZXJyb3IiXSkscj9yLmNvbmNhdCh0KTpyLG4oZSkpLGFlKERvY3VtZW50LnByb3RvdHlwZSxyZSxyKSx2b2lkIDAhPT1lLlNWR0VsZW1lbnQmJmFlKGUuU1ZHRWxlbWVudC5wcm90b3R5cGUscmUsciksYWUoRWxlbWVudC5wcm90b3R5cGUscmUsciksYWUoSFRNTEVsZW1lbnQucHJvdG90eXBlLHJlLHIpLGFlKEhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLFksciksYWUoSFRNTEZyYW1lU2V0RWxlbWVudC5wcm90b3R5cGUsWC5jb25jYXQoSyksciksYWUoSFRNTEJvZHlFbGVtZW50LnByb3RvdHlwZSxYLmNvbmNhdChLKSxyKSxhZShIVE1MRnJhbWVFbGVtZW50LnByb3RvdHlwZSxKLHIpLGFlKEhUTUxJRnJhbWVFbGVtZW50LnByb3RvdHlwZSxKLHIpO2NvbnN0IG89ZS5IVE1MTWFycXVlZUVsZW1lbnQ7byYmYWUoby5wcm90b3R5cGUsUSxyKTtjb25zdCBzPWUuV29ya2VyO3MmJmFlKHMucHJvdG90eXBlLG9lLHIpfWNvbnN0IHM9dC5YTUxIdHRwUmVxdWVzdDtzJiZhZShzLnByb3RvdHlwZSxlZSxyKTtjb25zdCBhPXQuWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldDthJiZhZShhJiZhLnByb3RvdHlwZSxlZSxyKSwidW5kZWZpbmVkIiE9dHlwZW9mIElEQkluZGV4JiYoYWUoSURCSW5kZXgucHJvdG90eXBlLHRlLHIpLGFlKElEQlJlcXVlc3QucHJvdG90eXBlLHRlLHIpLGFlKElEQk9wZW5EQlJlcXVlc3QucHJvdG90eXBlLHRlLHIpLGFlKElEQkRhdGFiYXNlLnByb3RvdHlwZSx0ZSxyKSxhZShJREJUcmFuc2FjdGlvbi5wcm90b3R5cGUsdGUsciksYWUoSURCQ3Vyc29yLnByb3RvdHlwZSx0ZSxyKSksbyYmYWUoV2ViU29ja2V0LnByb3RvdHlwZSxuZSxyKX1ab25lLl9fbG9hZF9wYXRjaCgidXRpbCIsKG4saSxjKT0+e2MucGF0Y2hPblByb3BlcnRpZXM9UCxjLnBhdGNoTWV0aG9kPXosYy5iaW5kQXJndW1lbnRzPXksYy5wYXRjaE1hY3JvVGFzaz1qO2NvbnN0IGY9aS5fX3N5bWJvbF9fKCJCTEFDS19MSVNURURfRVZFTlRTIiksZD1pLl9fc3ltYm9sX18oIlVOUEFUQ0hFRF9FVkVOVFMiKTtuW2RdJiYobltmXT1uW2RdKSxuW2ZdJiYoaVtmXT1pW2RdPW5bZl0pLGMucGF0Y2hFdmVudFByb3RvdHlwZT1WLGMucGF0Y2hFdmVudFRhcmdldD1XLGMuaXNJRU9yRWRnZT1OLGMuT2JqZWN0RGVmaW5lUHJvcGVydHk9dCxjLk9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcj1lLGMuT2JqZWN0Q3JlYXRlPW8sYy5BcnJheVNsaWNlPXIsYy5wYXRjaENsYXNzPUMsYy53cmFwV2l0aEN1cnJlbnRab25lPXAsYy5maWx0ZXJQcm9wZXJ0aWVzPXNlLGMuYXR0YWNoT3JpZ2luVG9QYXRjaGVkPUksYy5fcmVkZWZpbmVQcm9wZXJ0eT1PYmplY3QuZGVmaW5lUHJvcGVydHksYy5wYXRjaENhbGxiYWNrcz0kLGMuZ2V0R2xvYmFsT2JqZWN0cz0oKT0+KHtnbG9iYWxTb3VyY2VzOkYsem9uZVN5bWJvbEV2ZW50TmFtZXM6SCxldmVudE5hbWVzOnJlLGlzQnJvd3NlcjpFLGlzTWl4OncsaXNOb2RlOmIsVFJVRV9TVFI6bCxGQUxTRV9TVFI6dSxaT05FX1NZTUJPTF9QUkVGSVg6aCxBRERfRVZFTlRfTElTVEVORVJfU1RSOnMsUkVNT1ZFX0VWRU5UX0xJU1RFTkVSX1NUUjphfSl9KTtjb25zdCBjZT1kKCJ6b25lVGFzayIpO2Z1bmN0aW9uIGxlKGUsdCxuLG8pe2xldCByPW51bGwscz1udWxsO24rPW87Y29uc3QgYT17fTtmdW5jdGlvbiBpKHQpe2NvbnN0IG49dC5kYXRhO3JldHVybiBuLmFyZ3NbMF09ZnVuY3Rpb24oKXtyZXR1cm4gdC5pbnZva2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuLmhhbmRsZUlkPXIuYXBwbHkoZSxuLmFyZ3MpLHR9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gcy5jYWxsKGUsdC5kYXRhLmhhbmRsZUlkKX1yPXooZSx0Kz1vLG49PmZ1bmN0aW9uKHIscyl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHNbMF0pe2NvbnN0IGU9e2lzUGVyaW9kaWM6IkludGVydmFsIj09PW8sZGVsYXk6IlRpbWVvdXQiPT09b3x8IkludGVydmFsIj09PW8/c1sxXXx8MDp2b2lkIDAsYXJnczpzfSxuPXNbMF07c1swXT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZmluYWxseXtlLmlzUGVyaW9kaWN8fCgibnVtYmVyIj09dHlwZW9mIGUuaGFuZGxlSWQ/ZGVsZXRlIGFbZS5oYW5kbGVJZF06ZS5oYW5kbGVJZCYmKGUuaGFuZGxlSWRbY2VdPW51bGwpKX19O2NvbnN0IHI9Zih0LHNbMF0sZSxpLGMpO2lmKCFyKXJldHVybiByO2NvbnN0IGw9ci5kYXRhLmhhbmRsZUlkO3JldHVybiJudW1iZXIiPT10eXBlb2YgbD9hW2xdPXI6bCYmKGxbY2VdPXIpLGwmJmwucmVmJiZsLnVucmVmJiYiZnVuY3Rpb24iPT10eXBlb2YgbC5yZWYmJiJmdW5jdGlvbiI9PXR5cGVvZiBsLnVucmVmJiYoci5yZWY9bC5yZWYuYmluZChsKSxyLnVucmVmPWwudW5yZWYuYmluZChsKSksIm51bWJlciI9PXR5cGVvZiBsfHxsP2w6cn1yZXR1cm4gbi5hcHBseShlLHMpfSkscz16KGUsbix0PT5mdW5jdGlvbihuLG8pe2NvbnN0IHI9b1swXTtsZXQgczsibnVtYmVyIj09dHlwZW9mIHI/cz1hW3JdOihzPXImJnJbY2VdLHN8fChzPXIpKSxzJiYic3RyaW5nIj09dHlwZW9mIHMudHlwZT8ibm90U2NoZWR1bGVkIiE9PXMuc3RhdGUmJihzLmNhbmNlbEZuJiZzLmRhdGEuaXNQZXJpb2RpY3x8MD09PXMucnVuQ291bnQpJiYoIm51bWJlciI9PXR5cGVvZiByP2RlbGV0ZSBhW3JdOnImJihyW2NlXT1udWxsKSxzLnpvbmUuY2FuY2VsVGFzayhzKSk6dC5hcHBseShlLG8pfSl9ZnVuY3Rpb24gdWUoZSx0KXtpZihab25lW3Quc3ltYm9sKCJwYXRjaEV2ZW50VGFyZ2V0IildKXJldHVybjtjb25zdHtldmVudE5hbWVzOm4sem9uZVN5bWJvbEV2ZW50TmFtZXM6byxUUlVFX1NUUjpyLEZBTFNFX1NUUjpzLFpPTkVfU1lNQk9MX1BSRUZJWDphfT10LmdldEdsb2JhbE9iamVjdHMoKTtmb3IobGV0IGM9MDtjPG4ubGVuZ3RoO2MrKyl7Y29uc3QgZT1uW2NdLHQ9YSsoZStzKSxpPWErKGUrcik7b1tlXT17fSxvW2VdW3NdPXQsb1tlXVtyXT1pfWNvbnN0IGk9ZS5FdmVudFRhcmdldDtyZXR1cm4gaSYmaS5wcm90b3R5cGU/KHQucGF0Y2hFdmVudFRhcmdldChlLFtpJiZpLnByb3RvdHlwZV0pLCEwKTp2b2lkIDB9Wm9uZS5fX2xvYWRfcGF0Y2goImxlZ2FjeSIsZT0+e2NvbnN0IHQ9ZVtab25lLl9fc3ltYm9sX18oImxlZ2FjeVBhdGNoIildO3QmJnQoKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJxdWV1ZU1pY3JvdGFzayIsKGUsdCxuKT0+e24ucGF0Y2hNZXRob2QoZSwicXVldWVNaWNyb3Rhc2siLGU9PmZ1bmN0aW9uKGUsbil7dC5jdXJyZW50LnNjaGVkdWxlTWljcm9UYXNrKCJxdWV1ZU1pY3JvdGFzayIsblswXSl9KX0pLFpvbmUuX19sb2FkX3BhdGNoKCJ0aW1lcnMiLGU9Pntjb25zdCB0PSJzZXQiLG49ImNsZWFyIjtsZShlLHQsbiwiVGltZW91dCIpLGxlKGUsdCxuLCJJbnRlcnZhbCIpLGxlKGUsdCxuLCJJbW1lZGlhdGUiKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLGU9PntsZShlLCJyZXF1ZXN0IiwiY2FuY2VsIiwiQW5pbWF0aW9uRnJhbWUiKSxsZShlLCJtb3pSZXF1ZXN0IiwibW96Q2FuY2VsIiwiQW5pbWF0aW9uRnJhbWUiKSxsZShlLCJ3ZWJraXRSZXF1ZXN0Iiwid2Via2l0Q2FuY2VsIiwiQW5pbWF0aW9uRnJhbWUiKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJibG9ja2luZyIsKGUsdCk9Pntjb25zdCBuPVsiYWxlcnQiLCJwcm9tcHQiLCJjb25maXJtIl07Zm9yKGxldCBvPTA7bzxuLmxlbmd0aDtvKyspeihlLG5bb10sKG4sbyxyKT0+ZnVuY3Rpb24obyxzKXtyZXR1cm4gdC5jdXJyZW50LnJ1bihuLGUscyxyKX0pfSksWm9uZS5fX2xvYWRfcGF0Y2goIkV2ZW50VGFyZ2V0IiwoZSx0LG4pPT57IWZ1bmN0aW9uKGUsdCl7dC5wYXRjaEV2ZW50UHJvdG90eXBlKGUsdCl9KGUsbiksdWUoZSxuKTtjb25zdCBvPWUuWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldDtvJiZvLnByb3RvdHlwZSYmbi5wYXRjaEV2ZW50VGFyZ2V0KGUsW28ucHJvdG90eXBlXSl9KSxab25lLl9fbG9hZF9wYXRjaCgiTXV0YXRpb25PYnNlcnZlciIsKGUsdCxuKT0+e0MoIk11dGF0aW9uT2JzZXJ2ZXIiKSxDKCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyIil9KSxab25lLl9fbG9hZF9wYXRjaCgiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLChlLHQsbik9PntDKCJJbnRlcnNlY3Rpb25PYnNlcnZlciIpfSksWm9uZS5fX2xvYWRfcGF0Y2goIkZpbGVSZWFkZXIiLChlLHQsbik9PntDKCJGaWxlUmVhZGVyIil9KSxab25lLl9fbG9hZF9wYXRjaCgib25fcHJvcGVydHkiLChlLHQsbik9PntpZShuLGUpfSksWm9uZS5fX2xvYWRfcGF0Y2goImN1c3RvbUVsZW1lbnRzIiwoZSx0LG4pPT57IWZ1bmN0aW9uKGUsdCl7Y29uc3R7aXNCcm93c2VyOm4saXNNaXg6b309dC5nZXRHbG9iYWxPYmplY3RzKCk7KG58fG8pJiZlLmN1c3RvbUVsZW1lbnRzJiYiY3VzdG9tRWxlbWVudHMiaW4gZSYmdC5wYXRjaENhbGxiYWNrcyh0LGUuY3VzdG9tRWxlbWVudHMsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIixbImNvbm5lY3RlZENhbGxiYWNrIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJhZG9wdGVkQ2FsbGJhY2siLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siXSl9KGUsbil9KSxab25lLl9fbG9hZF9wYXRjaCgiWEhSIiwoZSx0KT0+eyFmdW5jdGlvbihlKXtjb25zdCB1PWUuWE1MSHR0cFJlcXVlc3Q7aWYoIXUpcmV0dXJuO2NvbnN0IGg9dS5wcm90b3R5cGU7bGV0IHA9aFtpXSxnPWhbY107aWYoIXApe2NvbnN0IHQ9ZS5YTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0O2lmKHQpe2NvbnN0IGU9dC5wcm90b3R5cGU7cD1lW2ldLGc9ZVtjXX19Y29uc3QgXz0icmVhZHlzdGF0ZWNoYW5nZSIsaz0ic2NoZWR1bGVkIjtmdW5jdGlvbiBtKGUpe2NvbnN0IG89ZS5kYXRhLGE9by50YXJnZXQ7YVtzXT0hMSxhW2xdPSExO2NvbnN0IHU9YVtyXTtwfHwocD1hW2ldLGc9YVtjXSksdSYmZy5jYWxsKGEsXyx1KTtjb25zdCBoPWFbcl09KCk9PntpZihhLnJlYWR5U3RhdGU9PT1hLkRPTkUpaWYoIW8uYWJvcnRlZCYmYVtzXSYmZS5zdGF0ZT09PWspe2NvbnN0IG49YVt0Ll9fc3ltYm9sX18oImxvYWRmYWxzZSIpXTtpZigwIT09YS5zdGF0dXMmJm4mJm4ubGVuZ3RoPjApe2NvbnN0IHI9ZS5pbnZva2U7ZS5pbnZva2U9ZnVuY3Rpb24oKXtjb25zdCBuPWFbdC5fX3N5bWJvbF9fKCJsb2FkZmFsc2UiKV07Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspblt0XT09PWUmJm4uc3BsaWNlKHQsMSk7by5hYm9ydGVkfHxlLnN0YXRlIT09a3x8ci5jYWxsKGUpfSxuLnB1c2goZSl9ZWxzZSBlLmludm9rZSgpfWVsc2Ugby5hYm9ydGVkfHwhMSE9PWFbc118fChhW2xdPSEwKX07cmV0dXJuIHAuY2FsbChhLF8saCksYVtuXXx8KGFbbl09ZSksdy5hcHBseShhLG8uYXJncyksYVtzXT0hMCxlfWZ1bmN0aW9uIHkoKXt9ZnVuY3Rpb24gdihlKXtjb25zdCB0PWUuZGF0YTtyZXR1cm4gdC5hYm9ydGVkPSEwLFouYXBwbHkodC50YXJnZXQsdC5hcmdzKX1jb25zdCBUPXooaCwib3BlbiIsKCk9PmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbb109MD09dFsyXSxlW2FdPXRbMV0sVC5hcHBseShlLHQpfSksYj1kKCJmZXRjaFRhc2tBYm9ydGluZyIpLEU9ZCgiZmV0Y2hUYXNrU2NoZWR1bGluZyIpLHc9eihoLCJzZW5kIiwoKT0+ZnVuY3Rpb24oZSxuKXtpZighMD09PXQuY3VycmVudFtFXSlyZXR1cm4gdy5hcHBseShlLG4pO2lmKGVbb10pcmV0dXJuIHcuYXBwbHkoZSxuKTt7Y29uc3QgdD17dGFyZ2V0OmUsdXJsOmVbYV0saXNQZXJpb2RpYzohMSxhcmdzOm4sYWJvcnRlZDohMX0sbz1mKCJYTUxIdHRwUmVxdWVzdC5zZW5kIix5LHQsbSx2KTtlJiYhMD09PWVbbF0mJiF0LmFib3J0ZWQmJm8uc3RhdGU9PT1rJiZvLmludm9rZSgpfX0pLFo9eihoLCJhYm9ydCIsKCk9PmZ1bmN0aW9uKGUsbyl7Y29uc3Qgcj1lW25dO2lmKHImJiJzdHJpbmciPT10eXBlb2Ygci50eXBlKXtpZihudWxsPT1yLmNhbmNlbEZufHxyLmRhdGEmJnIuZGF0YS5hYm9ydGVkKXJldHVybjtyLnpvbmUuY2FuY2VsVGFzayhyKX1lbHNlIGlmKCEwPT09dC5jdXJyZW50W2JdKXJldHVybiBaLmFwcGx5KGUsbyl9KX0oZSk7Y29uc3Qgbj1kKCJ4aHJUYXNrIiksbz1kKCJ4aHJTeW5jIikscj1kKCJ4aHJMaXN0ZW5lciIpLHM9ZCgieGhyU2NoZWR1bGVkIiksYT1kKCJ4aHJVUkwiKSxsPWQoInhockVycm9yQmVmb3JlU2NoZWR1bGVkIil9KSxab25lLl9fbG9hZF9wYXRjaCgiZ2VvbG9jYXRpb24iLHQ9Pnt0Lm5hdmlnYXRvciYmdC5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24mJmZ1bmN0aW9uKHQsbil7Y29uc3Qgbz10LmNvbnN0cnVjdG9yLm5hbWU7Zm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKyspe2NvbnN0IHM9bltyXSxhPXRbc107aWYoYSl7aWYoIXYoZSh0LHMpKSljb250aW51ZTt0W3NdPShlPT57Y29uc3QgdD1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHRoaXMseShhcmd1bWVudHMsbysiLiIrcykpfTtyZXR1cm4gSSh0LGUpLHR9KShhKX19fSh0Lm5hdmlnYXRvci5nZW9sb2NhdGlvbixbImdldEN1cnJlbnRQb3NpdGlvbiIsIndhdGNoUG9zaXRpb24iXSl9KSxab25lLl9fbG9hZF9wYXRjaCgiUHJvbWlzZVJlamVjdGlvbkV2ZW50IiwoZSx0KT0+e2Z1bmN0aW9uIG4odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe1UoZSx0KS5mb3JFYWNoKG89Pntjb25zdCByPWUuUHJvbWlzZVJlamVjdGlvbkV2ZW50O2lmKHIpe2NvbnN0IGU9bmV3IHIodCx7cHJvbWlzZTpuLnByb21pc2UscmVhc29uOm4ucmVqZWN0aW9ufSk7by5pbnZva2UoZSl9fSl9fWUuUHJvbWlzZVJlamVjdGlvbkV2ZW50JiYodFtkKCJ1bmhhbmRsZWRQcm9taXNlUmVqZWN0aW9uSGFuZGxlciIpXT1uKCJ1bmhhbmRsZWRyZWplY3Rpb24iKSx0W2QoInJlamVjdGlvbkhhbmRsZWRIYW5kbGVyIildPW4oInJlamVjdGlvbmhhbmRsZWQiKSl9KX0sNDQ4OihlLHQsbik9PnsidXNlIHN0cmljdCI7bigxNjcpfX0sZT0+eyJ1c2Ugc3RyaWN0IjtlKGUucz00NDgpfV0pOyhzZWxmLndlYnBhY2tDaHVua25nX2VsZW1lbnRzX2V4YW1wbGU9c2VsZi53ZWJwYWNrQ2h1bmtuZ19lbGVtZW50c19leGFtcGxlfHxbXSkucHVzaChbWzE3OV0sezEyMDoodCxlLG4pPT57InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHR9bGV0IHM9ITE7Y29uc3QgaT17UHJvbWlzZTp2b2lkIDAsc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodCl7aWYodCl7Y29uc3QgdD1uZXcgRXJyb3I7Y29uc29sZS53YXJuKCJERVBSRUNBVEVEISBSeEpTIHdhcyBzZXQgdG8gdXNlIGRlcHJlY2F0ZWQgc3luY2hyb25vdXMgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IgYnkgY29kZSBhdDogXG4iK3Quc3RhY2spfWVsc2UgcyYmY29uc29sZS5sb2coIlJ4SlM6IEJhY2sgdG8gYSBiZXR0ZXIgZXJyb3IgYmVoYXZpb3IuIFRoYW5rIHlvdS4gPDMiKTtzPXR9LGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCl7cmV0dXJuIHN9fTtmdW5jdGlvbiBvKHQpe3NldFRpbWVvdXQoKCk9Pnt0aHJvdyB0fSwwKX1jb25zdCBhPXtjbG9zZWQ6ITAsbmV4dCh0KXt9LGVycm9yKHQpe2lmKGkudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyl0aHJvdyB0O28odCl9LGNvbXBsZXRlKCl7fX0sYz0oKCk9PkFycmF5LmlzQXJyYXl8fCh0PT50JiYibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoKSkoKTtmdW5jdGlvbiBsKHQpe3JldHVybiBudWxsIT09dCYmIm9iamVjdCI9PXR5cGVvZiB0fWNvbnN0IHU9KCgpPT57ZnVuY3Rpb24gdCh0KXtyZXR1cm4gRXJyb3IuY2FsbCh0aGlzKSx0aGlzLm1lc3NhZ2U9dD9gJHt0Lmxlbmd0aH0gZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcbiR7dC5tYXAoKHQsZSk9PmAke2UrMX0pICR7dC50b1N0cmluZygpfWApLmpvaW4oIlxuICAiKX1gOiIiLHRoaXMubmFtZT0iVW5zdWJzY3JpcHRpb25FcnJvciIsdGhpcy5lcnJvcnM9dCx0aGlzfXJldHVybiB0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksdH0pKCk7bGV0IGg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmNsb3NlZD0hMSx0aGlzLl9wYXJlbnRPclBhcmVudHM9bnVsbCx0aGlzLl9zdWJzY3JpcHRpb25zPW51bGwsdCYmKHRoaXMuX2N0b3JVbnN1YnNjcmliZT0hMCx0aGlzLl91bnN1YnNjcmliZT10KX11bnN1YnNjcmliZSgpe2xldCBlO2lmKHRoaXMuY2xvc2VkKXJldHVybjtsZXR7X3BhcmVudE9yUGFyZW50czpuLF9jdG9yVW5zdWJzY3JpYmU6cyxfdW5zdWJzY3JpYmU6aSxfc3Vic2NyaXB0aW9uczpvfT10aGlzO2lmKHRoaXMuY2xvc2VkPSEwLHRoaXMuX3BhcmVudE9yUGFyZW50cz1udWxsLHRoaXMuX3N1YnNjcmlwdGlvbnM9bnVsbCxuIGluc3RhbmNlb2YgdCluLnJlbW92ZSh0aGlzKTtlbHNlIGlmKG51bGwhPT1uKWZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7Kyt0KW5bdF0ucmVtb3ZlKHRoaXMpO2lmKHIoaSkpe3MmJih0aGlzLl91bnN1YnNjcmliZT12b2lkIDApO3RyeXtpLmNhbGwodGhpcyl9Y2F0Y2goYSl7ZT1hIGluc3RhbmNlb2YgdT9kKGEuZXJyb3JzKTpbYV19fWlmKGMobykpe2xldCB0PS0xLG49by5sZW5ndGg7Zm9yKDsrK3Q8bjspe2NvbnN0IG49b1t0XTtpZihsKG4pKXRyeXtuLnVuc3Vic2NyaWJlKCl9Y2F0Y2goYSl7ZT1lfHxbXSxhIGluc3RhbmNlb2YgdT9lPWUuY29uY2F0KGQoYS5lcnJvcnMpKTplLnB1c2goYSl9fX1pZihlKXRocm93IG5ldyB1KGUpfWFkZChlKXtsZXQgbj1lO2lmKCFlKXJldHVybiB0LkVNUFRZO3N3aXRjaCh0eXBlb2YgZSl7Y2FzZSJmdW5jdGlvbiI6bj1uZXcgdChlKTtjYXNlIm9iamVjdCI6aWYobj09PXRoaXN8fG4uY2xvc2VkfHwiZnVuY3Rpb24iIT10eXBlb2Ygbi51bnN1YnNjcmliZSlyZXR1cm4gbjtpZih0aGlzLmNsb3NlZClyZXR1cm4gbi51bnN1YnNjcmliZSgpLG47aWYoIShuIGluc3RhbmNlb2YgdCkpe2NvbnN0IGU9bjtuPW5ldyB0LG4uX3N1YnNjcmlwdGlvbnM9W2VdfWJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJ1bnJlY29nbml6ZWQgdGVhcmRvd24gIitlKyIgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLiIpfWxldHtfcGFyZW50T3JQYXJlbnRzOnJ9PW47aWYobnVsbD09PXIpbi5fcGFyZW50T3JQYXJlbnRzPXRoaXM7ZWxzZSBpZihyIGluc3RhbmNlb2YgdCl7aWYocj09PXRoaXMpcmV0dXJuIG47bi5fcGFyZW50T3JQYXJlbnRzPVtyLHRoaXNdfWVsc2V7aWYoLTEhPT1yLmluZGV4T2YodGhpcykpcmV0dXJuIG47ci5wdXNoKHRoaXMpfWNvbnN0IHM9dGhpcy5fc3Vic2NyaXB0aW9ucztyZXR1cm4gbnVsbD09PXM/dGhpcy5fc3Vic2NyaXB0aW9ucz1bbl06cy5wdXNoKG4pLG59cmVtb3ZlKHQpe2NvbnN0IGU9dGhpcy5fc3Vic2NyaXB0aW9ucztpZihlKXtjb25zdCBuPWUuaW5kZXhPZih0KTstMSE9PW4mJmUuc3BsaWNlKG4sMSl9fX1yZXR1cm4gdC5FTVBUWT1mdW5jdGlvbih0KXtyZXR1cm4gdC5jbG9zZWQ9ITAsdH0obmV3IHQpLHR9KSgpO2Z1bmN0aW9uIGQodCl7cmV0dXJuIHQucmVkdWNlKCh0LGUpPT50LmNvbmNhdChlIGluc3RhbmNlb2YgdT9lLmVycm9yczplKSxbXSl9Y29uc3QgcD0oKCk9PiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sKCJyeFN1YnNjcmliZXIiKToiQEByeFN1YnNjcmliZXJfIitNYXRoLnJhbmRvbSgpKSgpO2NsYXNzIGYgZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKHQsZSxuKXtzd2l0Y2goc3VwZXIoKSx0aGlzLnN5bmNFcnJvclZhbHVlPW51bGwsdGhpcy5zeW5jRXJyb3JUaHJvd249ITEsdGhpcy5zeW5jRXJyb3JUaHJvd2FibGU9ITEsdGhpcy5pc1N0b3BwZWQ9ITEsYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnRoaXMuZGVzdGluYXRpb249YTticmVhaztjYXNlIDE6aWYoIXQpe3RoaXMuZGVzdGluYXRpb249YTticmVha31pZigib2JqZWN0Ij09dHlwZW9mIHQpe3QgaW5zdGFuY2VvZiBmPyh0aGlzLnN5bmNFcnJvclRocm93YWJsZT10LnN5bmNFcnJvclRocm93YWJsZSx0aGlzLmRlc3RpbmF0aW9uPXQsdC5hZGQodGhpcykpOih0aGlzLnN5bmNFcnJvclRocm93YWJsZT0hMCx0aGlzLmRlc3RpbmF0aW9uPW5ldyBnKHRoaXMsdCkpO2JyZWFrfWRlZmF1bHQ6dGhpcy5zeW5jRXJyb3JUaHJvd2FibGU9ITAsdGhpcy5kZXN0aW5hdGlvbj1uZXcgZyh0aGlzLHQsZSxuKX19W3BdKCl7cmV0dXJuIHRoaXN9c3RhdGljIGNyZWF0ZSh0LGUsbil7Y29uc3Qgcj1uZXcgZih0LGUsbik7cmV0dXJuIHIuc3luY0Vycm9yVGhyb3dhYmxlPSExLHJ9bmV4dCh0KXt0aGlzLmlzU3RvcHBlZHx8dGhpcy5fbmV4dCh0KX1lcnJvcih0KXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMuX2Vycm9yKHQpKX1jb21wbGV0ZSgpe3RoaXMuaXNTdG9wcGVkfHwodGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5fY29tcGxldGUoKSl9dW5zdWJzY3JpYmUoKXt0aGlzLmNsb3NlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHN1cGVyLnVuc3Vic2NyaWJlKCkpfV9uZXh0KHQpe3RoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1fZXJyb3IodCl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KSx0aGlzLnVuc3Vic2NyaWJlKCl9X2NvbXBsZXRlKCl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX1fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlKCl7Y29uc3R7X3BhcmVudE9yUGFyZW50czp0fT10aGlzO3JldHVybiB0aGlzLl9wYXJlbnRPclBhcmVudHM9bnVsbCx0aGlzLnVuc3Vic2NyaWJlKCksdGhpcy5jbG9zZWQ9ITEsdGhpcy5pc1N0b3BwZWQ9ITEsdGhpcy5fcGFyZW50T3JQYXJlbnRzPXQsdGhpc319Y2xhc3MgZyBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4scyl7bGV0IGk7c3VwZXIoKSx0aGlzLl9wYXJlbnRTdWJzY3JpYmVyPXQ7bGV0IG89dGhpcztyKGUpP2k9ZTplJiYoaT1lLm5leHQsbj1lLmVycm9yLHM9ZS5jb21wbGV0ZSxlIT09YSYmKG89T2JqZWN0LmNyZWF0ZShlKSxyKG8udW5zdWJzY3JpYmUpJiZ0aGlzLmFkZChvLnVuc3Vic2NyaWJlLmJpbmQobykpLG8udW5zdWJzY3JpYmU9dGhpcy51bnN1YnNjcmliZS5iaW5kKHRoaXMpKSksdGhpcy5fY29udGV4dD1vLHRoaXMuX25leHQ9aSx0aGlzLl9lcnJvcj1uLHRoaXMuX2NvbXBsZXRlPXN9bmV4dCh0KXtpZighdGhpcy5pc1N0b3BwZWQmJnRoaXMuX25leHQpe2NvbnN0e19wYXJlbnRTdWJzY3JpYmVyOmV9PXRoaXM7aS51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nJiZlLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9fdHJ5T3JTZXRFcnJvcihlLHRoaXMuX25leHQsdCkmJnRoaXMudW5zdWJzY3JpYmUoKTp0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9uZXh0LHQpfX1lcnJvcih0KXtpZighdGhpcy5pc1N0b3BwZWQpe2NvbnN0e19wYXJlbnRTdWJzY3JpYmVyOmV9PXRoaXMse3VzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc6bn09aTtpZih0aGlzLl9lcnJvciluJiZlLnN5bmNFcnJvclRocm93YWJsZT8odGhpcy5fX3RyeU9yU2V0RXJyb3IoZSx0aGlzLl9lcnJvcix0KSx0aGlzLnVuc3Vic2NyaWJlKCkpOih0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvcix0KSx0aGlzLnVuc3Vic2NyaWJlKCkpO2Vsc2UgaWYoZS5zeW5jRXJyb3JUaHJvd2FibGUpbj8oZS5zeW5jRXJyb3JWYWx1ZT10LGUuc3luY0Vycm9yVGhyb3duPSEwKTpvKHQpLHRoaXMudW5zdWJzY3JpYmUoKTtlbHNle2lmKHRoaXMudW5zdWJzY3JpYmUoKSxuKXRocm93IHQ7byh0KX19fWNvbXBsZXRlKCl7aWYoIXRoaXMuaXNTdG9wcGVkKXtjb25zdHtfcGFyZW50U3Vic2NyaWJlcjp0fT10aGlzO2lmKHRoaXMuX2NvbXBsZXRlKXtjb25zdCBlPSgpPT50aGlzLl9jb21wbGV0ZS5jYWxsKHRoaXMuX2NvbnRleHQpO2kudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyYmdC5zeW5jRXJyb3JUaHJvd2FibGU/KHRoaXMuX190cnlPclNldEVycm9yKHQsZSksdGhpcy51bnN1YnNjcmliZSgpKToodGhpcy5fX3RyeU9yVW5zdWIoZSksdGhpcy51bnN1YnNjcmliZSgpKX1lbHNlIHRoaXMudW5zdWJzY3JpYmUoKX19X190cnlPclVuc3ViKHQsZSl7dHJ5e3QuY2FsbCh0aGlzLl9jb250ZXh0LGUpfWNhdGNoKG4pe2lmKHRoaXMudW5zdWJzY3JpYmUoKSxpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgbjtvKG4pfX1fX3RyeU9yU2V0RXJyb3IodCxlLG4pe2lmKCFpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgbmV3IEVycm9yKCJiYWQgY2FsbCIpO3RyeXtlLmNhbGwodGhpcy5fY29udGV4dCxuKX1jYXRjaChyKXtyZXR1cm4gaS51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nPyh0LnN5bmNFcnJvclZhbHVlPXIsdC5zeW5jRXJyb3JUaHJvd249ITAsITApOihvKHIpLCEwKX1yZXR1cm4hMX1fdW5zdWJzY3JpYmUoKXtjb25zdHtfcGFyZW50U3Vic2NyaWJlcjp0fT10aGlzO3RoaXMuX2NvbnRleHQ9bnVsbCx0aGlzLl9wYXJlbnRTdWJzY3JpYmVyPW51bGwsdC51bnN1YnNjcmliZSgpfX1jb25zdCBtPSgoKT0+ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLm9ic2VydmFibGV8fCJAQG9ic2VydmFibGUiKSgpO2Z1bmN0aW9uIHkodCl7cmV0dXJuIHR9bGV0IHY9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pc1NjYWxhcj0hMSx0JiYodGhpcy5fc3Vic2NyaWJlPXQpfWxpZnQoZSl7Y29uc3Qgbj1uZXcgdDtyZXR1cm4gbi5zb3VyY2U9dGhpcyxuLm9wZXJhdG9yPWUsbn1zdWJzY3JpYmUodCxlLG4pe2NvbnN0e29wZXJhdG9yOnJ9PXRoaXMscz1mdW5jdGlvbih0LGUsbil7aWYodCl7aWYodCBpbnN0YW5jZW9mIGYpcmV0dXJuIHQ7aWYodFtwXSlyZXR1cm4gdFtwXSgpfXJldHVybiB0fHxlfHxuP25ldyBmKHQsZSxuKTpuZXcgZihhKX0odCxlLG4pO2lmKHMuYWRkKHI/ci5jYWxsKHMsdGhpcy5zb3VyY2UpOnRoaXMuc291cmNlfHxpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJiFzLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9zdWJzY3JpYmUocyk6dGhpcy5fdHJ5U3Vic2NyaWJlKHMpKSxpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJnMuc3luY0Vycm9yVGhyb3dhYmxlJiYocy5zeW5jRXJyb3JUaHJvd2FibGU9ITEscy5zeW5jRXJyb3JUaHJvd24pKXRocm93IHMuc3luY0Vycm9yVmFsdWU7cmV0dXJuIHN9X3RyeVN1YnNjcmliZSh0KXt0cnl7cmV0dXJuIHRoaXMuX3N1YnNjcmliZSh0KX1jYXRjaChlKXtpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJih0LnN5bmNFcnJvclRocm93bj0hMCx0LnN5bmNFcnJvclZhbHVlPWUpLGZ1bmN0aW9uKHQpe2Zvcig7dDspe2NvbnN0e2Nsb3NlZDplLGRlc3RpbmF0aW9uOm4saXNTdG9wcGVkOnJ9PXQ7aWYoZXx8cilyZXR1cm4hMTt0PW4mJm4gaW5zdGFuY2VvZiBmP246bnVsbH1yZXR1cm4hMH0odCk/dC5lcnJvcihlKTpjb25zb2xlLndhcm4oZSl9fWZvckVhY2godCxlKXtyZXR1cm4gbmV3KGU9YihlKSkoKGUsbik9PntsZXQgcjtyPXRoaXMuc3Vic2NyaWJlKGU9Pnt0cnl7dChlKX1jYXRjaChzKXtuKHMpLHImJnIudW5zdWJzY3JpYmUoKX19LG4sZSl9KX1fc3Vic2NyaWJlKHQpe2NvbnN0e3NvdXJjZTplfT10aGlzO3JldHVybiBlJiZlLnN1YnNjcmliZSh0KX1bbV0oKXtyZXR1cm4gdGhpc31waXBlKC4uLnQpe3JldHVybiAwPT09dC5sZW5ndGg/dGhpczooMD09PShlPXQpLmxlbmd0aD95OjE9PT1lLmxlbmd0aD9lWzBdOmZ1bmN0aW9uKHQpe3JldHVybiBlLnJlZHVjZSgodCxlKT0+ZSh0KSx0KX0pKHRoaXMpO3ZhciBlfXRvUHJvbWlzZSh0KXtyZXR1cm4gbmV3KHQ9Yih0KSkoKHQsZSk9PntsZXQgbjt0aGlzLnN1YnNjcmliZSh0PT5uPXQsdD0+ZSh0KSwoKT0+dChuKSl9KX19cmV0dXJuIHQuY3JlYXRlPWU9Pm5ldyB0KGUpLHR9KSgpO2Z1bmN0aW9uIGIodCl7aWYodHx8KHQ9aS5Qcm9taXNlfHxQcm9taXNlKSwhdCl0aHJvdyBuZXcgRXJyb3IoIm5vIFByb21pc2UgaW1wbCBmb3VuZCIpO3JldHVybiB0fWNvbnN0IEM9KCgpPT57ZnVuY3Rpb24gdCgpe3JldHVybiBFcnJvci5jYWxsKHRoaXMpLHRoaXMubWVzc2FnZT0ib2JqZWN0IHVuc3Vic2NyaWJlZCIsdGhpcy5uYW1lPSJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsdGhpc31yZXR1cm4gdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLHR9KSgpO2NsYXNzIHcgZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLnN1YmplY3Q9dCx0aGlzLnN1YnNjcmliZXI9ZSx0aGlzLmNsb3NlZD0hMX11bnN1YnNjcmliZSgpe2lmKHRoaXMuY2xvc2VkKXJldHVybjt0aGlzLmNsb3NlZD0hMDtjb25zdCB0PXRoaXMuc3ViamVjdCxlPXQub2JzZXJ2ZXJzO2lmKHRoaXMuc3ViamVjdD1udWxsLCFlfHwwPT09ZS5sZW5ndGh8fHQuaXNTdG9wcGVkfHx0LmNsb3NlZClyZXR1cm47Y29uc3Qgbj1lLmluZGV4T2YodGhpcy5zdWJzY3JpYmVyKTstMSE9PW4mJmUuc3BsaWNlKG4sMSl9fWNsYXNzIF8gZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZGVzdGluYXRpb249dH19bGV0IEQ9KCgpPT57Y2xhc3MgdCBleHRlbmRzIHZ7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMub2JzZXJ2ZXJzPVtdLHRoaXMuY2xvc2VkPSExLHRoaXMuaXNTdG9wcGVkPSExLHRoaXMuaGFzRXJyb3I9ITEsdGhpcy50aHJvd25FcnJvcj1udWxsfVtwXSgpe3JldHVybiBuZXcgXyh0aGlzKX1saWZ0KHQpe2NvbnN0IGU9bmV3IEUodGhpcyx0aGlzKTtyZXR1cm4gZS5vcGVyYXRvcj10LGV9bmV4dCh0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgQztpZighdGhpcy5pc1N0b3BwZWQpe2NvbnN0e29ic2VydmVyczplfT10aGlzLG49ZS5sZW5ndGgscj1lLnNsaWNlKCk7Zm9yKGxldCBzPTA7czxuO3MrKylyW3NdLm5leHQodCl9fWVycm9yKHQpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBDO3RoaXMuaGFzRXJyb3I9ITAsdGhpcy50aHJvd25FcnJvcj10LHRoaXMuaXNTdG9wcGVkPSEwO2NvbnN0e29ic2VydmVyczplfT10aGlzLG49ZS5sZW5ndGgscj1lLnNsaWNlKCk7Zm9yKGxldCBzPTA7czxuO3MrKylyW3NdLmVycm9yKHQpO3RoaXMub2JzZXJ2ZXJzLmxlbmd0aD0wfWNvbXBsZXRlKCl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEM7dGhpcy5pc1N0b3BwZWQ9ITA7Y29uc3R7b2JzZXJ2ZXJzOnR9PXRoaXMsZT10Lmxlbmd0aCxuPXQuc2xpY2UoKTtmb3IobGV0IHI9MDtyPGU7cisrKW5bcl0uY29tcGxldGUoKTt0aGlzLm9ic2VydmVycy5sZW5ndGg9MH11bnN1YnNjcmliZSgpe3RoaXMuaXNTdG9wcGVkPSEwLHRoaXMuY2xvc2VkPSEwLHRoaXMub2JzZXJ2ZXJzPW51bGx9X3RyeVN1YnNjcmliZSh0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgQztyZXR1cm4gc3VwZXIuX3RyeVN1YnNjcmliZSh0KX1fc3Vic2NyaWJlKHQpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBDO3JldHVybiB0aGlzLmhhc0Vycm9yPyh0LmVycm9yKHRoaXMudGhyb3duRXJyb3IpLGguRU1QVFkpOnRoaXMuaXNTdG9wcGVkPyh0LmNvbXBsZXRlKCksaC5FTVBUWSk6KHRoaXMub2JzZXJ2ZXJzLnB1c2godCksbmV3IHcodGhpcyx0KSl9YXNPYnNlcnZhYmxlKCl7Y29uc3QgdD1uZXcgdjtyZXR1cm4gdC5zb3VyY2U9dGhpcyx0fX1yZXR1cm4gdC5jcmVhdGU9KHQsZSk9Pm5ldyBFKHQsZSksdH0pKCk7Y2xhc3MgRSBleHRlbmRzIER7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMuZGVzdGluYXRpb249dCx0aGlzLnNvdXJjZT1lfW5leHQodCl7Y29uc3R7ZGVzdGluYXRpb246ZX09dGhpcztlJiZlLm5leHQmJmUubmV4dCh0KX1lcnJvcih0KXtjb25zdHtkZXN0aW5hdGlvbjplfT10aGlzO2UmJmUuZXJyb3ImJnRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9Y29tcGxldGUoKXtjb25zdHtkZXN0aW5hdGlvbjp0fT10aGlzO3QmJnQuY29tcGxldGUmJnRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX1fc3Vic2NyaWJlKHQpe2NvbnN0e3NvdXJjZTplfT10aGlzO3JldHVybiBlP3RoaXMuc291cmNlLnN1YnNjcmliZSh0KTpoLkVNUFRZfX1mdW5jdGlvbiBTKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5zY2hlZHVsZX1mdW5jdGlvbiB4KHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoImFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLiBBcmUgeW91IGxvb2tpbmcgZm9yIGBtYXBUbygpYD8iKTtyZXR1cm4gbi5saWZ0KG5ldyBBKHQsZSkpfX1jbGFzcyBBe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5wcm9qZWN0PXQsdGhpcy50aGlzQXJnPWV9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgVCh0LHRoaXMucHJvamVjdCx0aGlzLnRoaXNBcmcpKX19Y2xhc3MgVCBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQpLHRoaXMucHJvamVjdD1lLHRoaXMuY291bnQ9MCx0aGlzLnRoaXNBcmc9bnx8dGhpc31fbmV4dCh0KXtsZXQgZTt0cnl7ZT10aGlzLnByb2plY3QuY2FsbCh0aGlzLnRoaXNBcmcsdCx0aGlzLmNvdW50KyspfWNhdGNoKG4pe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iobil9dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpfX1jb25zdCBrPXQ9PmU9Pntmb3IobGV0IG49MCxyPXQubGVuZ3RoO248ciYmIWUuY2xvc2VkO24rKyllLm5leHQodFtuXSk7ZS5jb21wbGV0ZSgpfTtmdW5jdGlvbiBGKCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yP1N5bWJvbC5pdGVyYXRvcjoiQEBpdGVyYXRvciJ9Y29uc3QgST1GKCksTz10PT50JiYibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoJiYiZnVuY3Rpb24iIT10eXBlb2YgdDtmdW5jdGlvbiBQKHQpe3JldHVybiEhdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQuc3Vic2NyaWJlJiYiZnVuY3Rpb24iPT10eXBlb2YgdC50aGVufWNvbnN0IFI9dD0+e2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W21dKXJldHVybiBuPXQsdD0+e2NvbnN0IGU9blttXSgpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlLnN1YnNjcmliZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZSIpO3JldHVybiBlLnN1YnNjcmliZSh0KX07aWYoTyh0KSlyZXR1cm4gayh0KTtpZihQKHQpKXJldHVybih0PT5lPT4odC50aGVuKHQ9PntlLmNsb3NlZHx8KGUubmV4dCh0KSxlLmNvbXBsZXRlKCkpfSx0PT5lLmVycm9yKHQpKS50aGVuKG51bGwsbyksZSkpKHQpO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W0ldKXJldHVybiBlPXQsdD0+e2NvbnN0IG49ZVtJXSgpO2Zvcig7Oyl7bGV0IGU7dHJ5e2U9bi5uZXh0KCl9Y2F0Y2gocil7cmV0dXJuIHQuZXJyb3IociksdH1pZihlLmRvbmUpe3QuY29tcGxldGUoKTticmVha31pZih0Lm5leHQoZS52YWx1ZSksdC5jbG9zZWQpYnJlYWt9cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG4ucmV0dXJuJiZ0LmFkZCgoKT0+e24ucmV0dXJuJiZuLnJldHVybigpfSksdH07e2NvbnN0IGU9bCh0KT8iYW4gaW52YWxpZCBvYmplY3QiOmAnJHt0fSdgO3Rocm93IG5ldyBUeXBlRXJyb3IoYFlvdSBwcm92aWRlZCAke2V9IHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIEFycmF5LCBvciBJdGVyYWJsZS5gKX12YXIgZSxufTtmdW5jdGlvbiBMKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPW5ldyBoO2xldCBzPTA7cmV0dXJuIHIuYWRkKGUuc2NoZWR1bGUoZnVuY3Rpb24oKXtzIT09dC5sZW5ndGg/KG4ubmV4dCh0W3MrK10pLG4uY2xvc2VkfHxyLmFkZCh0aGlzLnNjaGVkdWxlKCkpKTpuLmNvbXBsZXRlKCl9KSkscn0pfWZ1bmN0aW9uIEIodCxlKXtyZXR1cm4gZT9mdW5jdGlvbih0LGUpe2lmKG51bGwhPXQpe2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdFttXX0odCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPW5ldyBoO3JldHVybiByLmFkZChlLnNjaGVkdWxlKCgpPT57Y29uc3Qgcz10W21dKCk7ci5hZGQocy5zdWJzY3JpYmUoe25leHQodCl7ci5hZGQoZS5zY2hlZHVsZSgoKT0+bi5uZXh0KHQpKSl9LGVycm9yKHQpe3IuYWRkKGUuc2NoZWR1bGUoKCk9Pm4uZXJyb3IodCkpKX0sY29tcGxldGUoKXtyLmFkZChlLnNjaGVkdWxlKCgpPT5uLmNvbXBsZXRlKCkpKX19KSl9KSkscn0pfSh0LGUpO2lmKFAodCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPW5ldyBoO3JldHVybiByLmFkZChlLnNjaGVkdWxlKCgpPT50LnRoZW4odD0+e3IuYWRkKGUuc2NoZWR1bGUoKCk9PntuLm5leHQodCksci5hZGQoZS5zY2hlZHVsZSgoKT0+bi5jb21wbGV0ZSgpKSl9KSl9LHQ9PntyLmFkZChlLnNjaGVkdWxlKCgpPT5uLmVycm9yKHQpKSl9KSkpLHJ9KX0odCxlKTtpZihPKHQpKXJldHVybiBMKHQsZSk7aWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W0ldfSh0KXx8InN0cmluZyI9PXR5cGVvZiB0KXJldHVybiBmdW5jdGlvbih0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcigiSXRlcmFibGUgY2Fubm90IGJlIG51bGwiKTtyZXR1cm4gbmV3IHYobj0+e2NvbnN0IHI9bmV3IGg7bGV0IHM7cmV0dXJuIHIuYWRkKCgpPT57cyYmImZ1bmN0aW9uIj09dHlwZW9mIHMucmV0dXJuJiZzLnJldHVybigpfSksci5hZGQoZS5zY2hlZHVsZSgoKT0+e3M9dFtJXSgpLHIuYWRkKGUuc2NoZWR1bGUoZnVuY3Rpb24oKXtpZihuLmNsb3NlZClyZXR1cm47bGV0IHQsZTt0cnl7Y29uc3Qgbj1zLm5leHQoKTt0PW4udmFsdWUsZT1uLmRvbmV9Y2F0Y2gocil7cmV0dXJuIHZvaWQgbi5lcnJvcihyKX1lP24uY29tcGxldGUoKToobi5uZXh0KHQpLHRoaXMuc2NoZWR1bGUoKSl9KSl9KSkscn0pfSh0LGUpfXRocm93IG5ldyBUeXBlRXJyb3IoKG51bGwhPT10JiZ0eXBlb2YgdHx8dCkrIiBpcyBub3Qgb2JzZXJ2YWJsZSIpfSh0LGUpOnQgaW5zdGFuY2VvZiB2P3Q6bmV3IHYoUih0KSl9Y2xhc3MgaiBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnBhcmVudD10fV9uZXh0KHQpe3RoaXMucGFyZW50Lm5vdGlmeU5leHQodCl9X2Vycm9yKHQpe3RoaXMucGFyZW50Lm5vdGlmeUVycm9yKHQpLHRoaXMudW5zdWJzY3JpYmUoKX1fY29tcGxldGUoKXt0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX19Y2xhc3MgTSBleHRlbmRzIGZ7bm90aWZ5TmV4dCh0KXt0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9bm90aWZ5RXJyb3IodCl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX1ub3RpZnlDb21wbGV0ZSgpe3RoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX19ZnVuY3Rpb24gTih0LGUpe2lmKGUuY2xvc2VkKXJldHVybjtpZih0IGluc3RhbmNlb2YgdilyZXR1cm4gdC5zdWJzY3JpYmUoZSk7bGV0IG47dHJ5e249Uih0KShlKX1jYXRjaChyKXtlLmVycm9yKHIpfXJldHVybiBufWZ1bmN0aW9uIEgodCxlLG49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9yPT5yLnBpcGUoSCgobixyKT0+Qih0KG4scikpLnBpcGUoeCgodCxzKT0+ZShuLHQscixzKSkpLG4pKTooIm51bWJlciI9PXR5cGVvZiBlJiYobj1lKSxlPT5lLmxpZnQobmV3IFYodCxuKSkpfWNsYXNzIFZ7Y29uc3RydWN0b3IodCxlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSl7dGhpcy5wcm9qZWN0PXQsdGhpcy5jb25jdXJyZW50PWV9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgeih0LHRoaXMucHJvamVjdCx0aGlzLmNvbmN1cnJlbnQpKX19Y2xhc3MgeiBleHRlbmRzIE17Y29uc3RydWN0b3IodCxlLG49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXtzdXBlcih0KSx0aGlzLnByb2plY3Q9ZSx0aGlzLmNvbmN1cnJlbnQ9bix0aGlzLmhhc0NvbXBsZXRlZD0hMSx0aGlzLmJ1ZmZlcj1bXSx0aGlzLmFjdGl2ZT0wLHRoaXMuaW5kZXg9MH1fbmV4dCh0KXt0aGlzLmFjdGl2ZTx0aGlzLmNvbmN1cnJlbnQ/dGhpcy5fdHJ5TmV4dCh0KTp0aGlzLmJ1ZmZlci5wdXNoKHQpfV90cnlOZXh0KHQpe2xldCBlO2NvbnN0IG49dGhpcy5pbmRleCsrO3RyeXtlPXRoaXMucHJvamVjdCh0LG4pfWNhdGNoKHIpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iocil9dGhpcy5hY3RpdmUrKyx0aGlzLl9pbm5lclN1YihlKX1faW5uZXJTdWIodCl7Y29uc3QgZT1uZXcgaih0aGlzKSxuPXRoaXMuZGVzdGluYXRpb247bi5hZGQoZSk7Y29uc3Qgcj1OKHQsZSk7ciE9PWUmJm4uYWRkKHIpfV9jb21wbGV0ZSgpe3RoaXMuaGFzQ29tcGxldGVkPSEwLDA9PT10aGlzLmFjdGl2ZSYmMD09PXRoaXMuYnVmZmVyLmxlbmd0aCYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX1ub3RpZnlOZXh0KHQpe3RoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1ub3RpZnlDb21wbGV0ZSgpe2NvbnN0IHQ9dGhpcy5idWZmZXI7dGhpcy5hY3RpdmUtLSx0Lmxlbmd0aD4wP3RoaXMuX25leHQodC5zaGlmdCgpKTowPT09dGhpcy5hY3RpdmUmJnRoaXMuaGFzQ29tcGxldGVkJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9fWZ1bmN0aW9uICQodD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpe3JldHVybiBIKHksdCl9ZnVuY3Rpb24gVSh0LGUpe3JldHVybiBlP0wodCxlKTpuZXcgdihrKHQpKX1mdW5jdGlvbiBXKC4uLnQpe2xldCBlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxuPW51bGwscj10W3QubGVuZ3RoLTFdO3JldHVybiBTKHIpPyhuPXQucG9wKCksdC5sZW5ndGg+MSYmIm51bWJlciI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdJiYoZT10LnBvcCgpKSk6Im51bWJlciI9PXR5cGVvZiByJiYoZT10LnBvcCgpKSxudWxsPT09biYmMT09PXQubGVuZ3RoJiZ0WzBdaW5zdGFuY2VvZiB2P3RbMF06JChlKShVKHQsbikpfWZ1bmN0aW9uIEcoKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQubGlmdChuZXcgcSh0KSl9fWNsYXNzIHF7Y29uc3RydWN0b3IodCl7dGhpcy5jb25uZWN0YWJsZT10fWNhbGwodCxlKXtjb25zdHtjb25uZWN0YWJsZTpufT10aGlzO24uX3JlZkNvdW50Kys7Y29uc3Qgcj1uZXcgWCh0LG4pLHM9ZS5zdWJzY3JpYmUocik7cmV0dXJuIHIuY2xvc2VkfHwoci5jb25uZWN0aW9uPW4uY29ubmVjdCgpKSxzfX1jbGFzcyBYIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuY29ubmVjdGFibGU9ZX1fdW5zdWJzY3JpYmUoKXtjb25zdHtjb25uZWN0YWJsZTp0fT10aGlzO2lmKCF0KXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTt0aGlzLmNvbm5lY3RhYmxlPW51bGw7Y29uc3QgZT10Ll9yZWZDb3VudDtpZihlPD0wKXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTtpZih0Ll9yZWZDb3VudD1lLTEsZT4xKXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTtjb25zdHtjb25uZWN0aW9uOm59PXRoaXMscj10Ll9jb25uZWN0aW9uO3RoaXMuY29ubmVjdGlvbj1udWxsLCFyfHxuJiZyIT09bnx8ci51bnN1YnNjcmliZSgpfX1jbGFzcyBZIGV4dGVuZHMgdntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5zb3VyY2U9dCx0aGlzLnN1YmplY3RGYWN0b3J5PWUsdGhpcy5fcmVmQ291bnQ9MCx0aGlzLl9pc0NvbXBsZXRlPSExfV9zdWJzY3JpYmUodCl7cmV0dXJuIHRoaXMuZ2V0U3ViamVjdCgpLnN1YnNjcmliZSh0KX1nZXRTdWJqZWN0KCl7Y29uc3QgdD10aGlzLl9zdWJqZWN0O3JldHVybiB0JiYhdC5pc1N0b3BwZWR8fCh0aGlzLl9zdWJqZWN0PXRoaXMuc3ViamVjdEZhY3RvcnkoKSksdGhpcy5fc3ViamVjdH1jb25uZWN0KCl7bGV0IHQ9dGhpcy5fY29ubmVjdGlvbjtyZXR1cm4gdHx8KHRoaXMuX2lzQ29tcGxldGU9ITEsdD10aGlzLl9jb25uZWN0aW9uPW5ldyBoLHQuYWRkKHRoaXMuc291cmNlLnN1YnNjcmliZShuZXcgUSh0aGlzLmdldFN1YmplY3QoKSx0aGlzKSkpLHQuY2xvc2VkJiYodGhpcy5fY29ubmVjdGlvbj1udWxsLHQ9aC5FTVBUWSkpLHR9cmVmQ291bnQoKXtyZXR1cm4gRygpKHRoaXMpfX1jb25zdCBaPSgoKT0+e2NvbnN0IHQ9WS5wcm90b3R5cGU7cmV0dXJue29wZXJhdG9yOnt2YWx1ZTpudWxsfSxfcmVmQ291bnQ6e3ZhbHVlOjAsd3JpdGFibGU6ITB9LF9zdWJqZWN0Ont2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSxfY29ubmVjdGlvbjp7dmFsdWU6bnVsbCx3cml0YWJsZTohMH0sX3N1YnNjcmliZTp7dmFsdWU6dC5fc3Vic2NyaWJlfSxfaXNDb21wbGV0ZTp7dmFsdWU6dC5faXNDb21wbGV0ZSx3cml0YWJsZTohMH0sZ2V0U3ViamVjdDp7dmFsdWU6dC5nZXRTdWJqZWN0fSxjb25uZWN0Ont2YWx1ZTp0LmNvbm5lY3R9LHJlZkNvdW50Ont2YWx1ZTp0LnJlZkNvdW50fX19KSgpO2NsYXNzIFEgZXh0ZW5kcyBfe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5jb25uZWN0YWJsZT1lfV9lcnJvcih0KXt0aGlzLl91bnN1YnNjcmliZSgpLHN1cGVyLl9lcnJvcih0KX1fY29tcGxldGUoKXt0aGlzLmNvbm5lY3RhYmxlLl9pc0NvbXBsZXRlPSEwLHRoaXMuX3Vuc3Vic2NyaWJlKCksc3VwZXIuX2NvbXBsZXRlKCl9X3Vuc3Vic2NyaWJlKCl7Y29uc3QgdD10aGlzLmNvbm5lY3RhYmxlO2lmKHQpe3RoaXMuY29ubmVjdGFibGU9bnVsbDtjb25zdCBlPXQuX2Nvbm5lY3Rpb247dC5fcmVmQ291bnQ9MCx0Ll9zdWJqZWN0PW51bGwsdC5fY29ubmVjdGlvbj1udWxsLGUmJmUudW5zdWJzY3JpYmUoKX19fWZ1bmN0aW9uIEsoKXtyZXR1cm4gbmV3IER9ZnVuY3Rpb24gSih0KXtmb3IobGV0IGUgaW4gdClpZih0W2VdPT09SilyZXR1cm4gZTt0aHJvdyBFcnJvcigiQ291bGQgbm90IGZpbmQgcmVuYW1lZCBwcm9wZXJ0eSBvbiB0YXJnZXQgb2JqZWN0LiIpfWZ1bmN0aW9uIHR0KHQsZSl7Zm9yKGNvbnN0IG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYhdC5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9ZnVuY3Rpb24gZXQodCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIlsiK3QubWFwKGV0KS5qb2luKCIsICIpKyJdIjtpZihudWxsPT10KXJldHVybiIiK3Q7aWYodC5vdmVycmlkZGVuTmFtZSlyZXR1cm5gJHt0Lm92ZXJyaWRkZW5OYW1lfWA7aWYodC5uYW1lKXJldHVybmAke3QubmFtZX1gO2NvbnN0IGU9dC50b1N0cmluZygpO2lmKG51bGw9PWUpcmV0dXJuIiIrZTtjb25zdCBuPWUuaW5kZXhPZigiXG4iKTtyZXR1cm4tMT09PW4/ZTplLnN1YnN0cmluZygwLG4pfWZ1bmN0aW9uIG50KHQsZSl7cmV0dXJuIG51bGw9PXR8fCIiPT09dD9udWxsPT09ZT8iIjplOm51bGw9PWV8fCIiPT09ZT90OnQrIiAiK2V9Y29uc3QgcnQ9Sih7X19mb3J3YXJkX3JlZl9fOkp9KTtmdW5jdGlvbiBzdCh0KXtyZXR1cm4gdC5fX2ZvcndhcmRfcmVmX189c3QsdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBldCh0aGlzKCkpfSx0fWZ1bmN0aW9uIGl0KHQpe3JldHVybiBvdCh0KT90KCk6dH1mdW5jdGlvbiBvdCh0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdCYmdC5oYXNPd25Qcm9wZXJ0eShydCkmJnQuX19mb3J3YXJkX3JlZl9fPT09c3R9Y2xhc3MgYXQgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGZ1bmN0aW9uKHQsZSl7cmV0dXJuYCR7dD9gTkcwJHt0fTogYDoiIn0ke2V9YH0odCxlKSksdGhpcy5jb2RlPXR9fWZ1bmN0aW9uIGN0KHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90Om51bGw9PXQ/IiI6U3RyaW5nKHQpfWZ1bmN0aW9uIGx0KHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0P3QubmFtZXx8dC50b1N0cmluZygpOiJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9dCYmImZ1bmN0aW9uIj09dHlwZW9mIHQudHlwZT90LnR5cGUubmFtZXx8dC50eXBlLnRvU3RyaW5nKCk6Y3QodCl9ZnVuY3Rpb24gdXQodCxlKXtjb25zdCBuPWU/YCBpbiAke2V9YDoiIjt0aHJvdyBuZXcgYXQoIjIwMSIsYE5vIHByb3ZpZGVyIGZvciAke2x0KHQpfSBmb3VuZCR7bn1gKX1mdW5jdGlvbiBodCh0KXtyZXR1cm57dG9rZW46dC50b2tlbixwcm92aWRlZEluOnQucHJvdmlkZWRJbnx8bnVsbCxmYWN0b3J5OnQuZmFjdG9yeSx2YWx1ZTp2b2lkIDB9fWZ1bmN0aW9uIGR0KHQpe3JldHVybntwcm92aWRlcnM6dC5wcm92aWRlcnN8fFtdLGltcG9ydHM6dC5pbXBvcnRzfHxbXX19ZnVuY3Rpb24gcHQodCl7cmV0dXJuIGZ0KHQsbXQpfHxmdCh0LHZ0KX1mdW5jdGlvbiBmdCh0LGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpP3RbZV06bnVsbH1mdW5jdGlvbiBndCh0KXtyZXR1cm4gdCYmKHQuaGFzT3duUHJvcGVydHkoeXQpfHx0Lmhhc093blByb3BlcnR5KGJ0KSk/dFt5dF06bnVsbH1jb25zdCBtdD1KKHsiXHUwMjc1cHJvdiI6Sn0pLHl0PUooeyJcdTAyNzVpbmoiOkp9KSx2dD1KKHtuZ0luamVjdGFibGVEZWY6Sn0pLGJ0PUooe25nSW5qZWN0b3JEZWY6Sn0pO3ZhciBDdD1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkRlZmF1bHQ9MF09IkRlZmF1bHQiLHRbdC5Ib3N0PTFdPSJIb3N0Iix0W3QuU2VsZj0yXT0iU2VsZiIsdFt0LlNraXBTZWxmPTRdPSJTa2lwU2VsZiIsdFt0Lk9wdGlvbmFsPThdPSJPcHRpb25hbCIsdH0oe30pO2xldCB3dDtmdW5jdGlvbiBfdCh0KXtjb25zdCBlPXd0O3JldHVybiB3dD10LGV9ZnVuY3Rpb24gRHQodCxlLG4pe2NvbnN0IHI9cHQodCk7cmV0dXJuIHImJiJyb290Ij09ci5wcm92aWRlZEluP3ZvaWQgMD09PXIudmFsdWU/ci52YWx1ZT1yLmZhY3RvcnkoKTpyLnZhbHVlOm4mQ3QuT3B0aW9uYWw/bnVsbDp2b2lkIDAhPT1lP2U6dm9pZCB1dChldCh0KSwiSW5qZWN0b3IiKX1mdW5jdGlvbiBFdCh0KXtyZXR1cm57dG9TdHJpbmc6dH0udG9TdHJpbmcoKX12YXIgU3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5PblB1c2g9MF09Ik9uUHVzaCIsdFt0LkRlZmF1bHQ9MV09IkRlZmF1bHQiLHR9KHt9KSx4dD1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkVtdWxhdGVkPTBdPSJFbXVsYXRlZCIsdFt0Lk5vbmU9Ml09Ik5vbmUiLHRbdC5TaGFkb3dEb209M109IlNoYWRvd0RvbSIsdH0oe30pO2NvbnN0IEF0PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyxUdD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LGt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmInVuZGVmaW5lZCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZzZWxmLEZ0PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwsSXQ9QXR8fEZ0fHxUdHx8a3QsT3Q9e30sUHQ9W10sUnQ9Sih7Ilx1MDI3NWNtcCI6Sn0pLEx0PUooeyJcdTAyNzVkaXIiOkp9KSxCdD1KKHsiXHUwMjc1cGlwZSI6Sn0pLGp0PUooeyJcdTAyNzVtb2QiOkp9KSxNdD1KKHsiXHUwMjc1bG9jIjpKfSksTnQ9Sih7Ilx1MDI3NWZhYyI6Sn0pLEh0PUooe19fTkdfRUxFTUVOVF9JRF9fOkp9KTtsZXQgVnQ9MDtmdW5jdGlvbiB6dCh0KXtyZXR1cm4gRXQoKCk9Pntjb25zdCBlPXt9LG49e3R5cGU6dC50eXBlLHByb3ZpZGVyc1Jlc29sdmVyOm51bGwsZGVjbHM6dC5kZWNscyx2YXJzOnQudmFycyxmYWN0b3J5Om51bGwsdGVtcGxhdGU6dC50ZW1wbGF0ZXx8bnVsbCxjb25zdHM6dC5jb25zdHN8fG51bGwsbmdDb250ZW50U2VsZWN0b3JzOnQubmdDb250ZW50U2VsZWN0b3JzLGhvc3RCaW5kaW5nczp0Lmhvc3RCaW5kaW5nc3x8bnVsbCxob3N0VmFyczp0Lmhvc3RWYXJzfHwwLGhvc3RBdHRyczp0Lmhvc3RBdHRyc3x8bnVsbCxjb250ZW50UXVlcmllczp0LmNvbnRlbnRRdWVyaWVzfHxudWxsLGRlY2xhcmVkSW5wdXRzOmUsaW5wdXRzOm51bGwsb3V0cHV0czpudWxsLGV4cG9ydEFzOnQuZXhwb3J0QXN8fG51bGwsb25QdXNoOnQuY2hhbmdlRGV0ZWN0aW9uPT09U3QuT25QdXNoLGRpcmVjdGl2ZURlZnM6bnVsbCxwaXBlRGVmczpudWxsLHNlbGVjdG9yczp0LnNlbGVjdG9yc3x8UHQsdmlld1F1ZXJ5OnQudmlld1F1ZXJ5fHxudWxsLGZlYXR1cmVzOnQuZmVhdHVyZXN8fG51bGwsZGF0YTp0LmRhdGF8fHt9LGVuY2Fwc3VsYXRpb246dC5lbmNhcHN1bGF0aW9ufHx4dC5FbXVsYXRlZCxpZDoiYyIsc3R5bGVzOnQuc3R5bGVzfHxQdCxfOm51bGwsc2V0SW5wdXQ6bnVsbCxzY2hlbWFzOnQuc2NoZW1hc3x8bnVsbCx0VmlldzpudWxsfSxyPXQuZGlyZWN0aXZlcyxzPXQuZmVhdHVyZXMsaT10LnBpcGVzO3JldHVybiBuLmlkKz1WdCsrLG4uaW5wdXRzPXF0KHQuaW5wdXRzLGUpLG4ub3V0cHV0cz1xdCh0Lm91dHB1dHMpLHMmJnMuZm9yRWFjaCh0PT50KG4pKSxuLmRpcmVjdGl2ZURlZnM9cj8oKT0+KCJmdW5jdGlvbiI9PXR5cGVvZiByP3IoKTpyKS5tYXAoJHQpOm51bGwsbi5waXBlRGVmcz1pPygpPT4oImZ1bmN0aW9uIj09dHlwZW9mIGk/aSgpOmkpLm1hcChVdCk6bnVsbCxufSl9ZnVuY3Rpb24gJHQodCl7cmV0dXJuIFp0KHQpfHxmdW5jdGlvbih0KXtyZXR1cm4gdFtMdF18fG51bGx9KHQpfWZ1bmN0aW9uIFV0KHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdFtCdF18fG51bGx9KHQpfWNvbnN0IFd0PXt9O2Z1bmN0aW9uIEd0KHQpe3JldHVybiBFdCgoKT0+e2NvbnN0IGU9e3R5cGU6dC50eXBlLGJvb3RzdHJhcDp0LmJvb3RzdHJhcHx8UHQsZGVjbGFyYXRpb25zOnQuZGVjbGFyYXRpb25zfHxQdCxpbXBvcnRzOnQuaW1wb3J0c3x8UHQsZXhwb3J0czp0LmV4cG9ydHN8fFB0LHRyYW5zaXRpdmVDb21waWxlU2NvcGVzOm51bGwsc2NoZW1hczp0LnNjaGVtYXN8fG51bGwsaWQ6dC5pZHx8bnVsbH07cmV0dXJuIG51bGwhPXQuaWQmJihXdFt0LmlkXT10LnR5cGUpLGV9KX1mdW5jdGlvbiBxdCh0LGUpe2lmKG51bGw9PXQpcmV0dXJuIE90O2NvbnN0IG49e307Zm9yKGNvbnN0IHIgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHIpKXtsZXQgcz10W3JdLGk9cztBcnJheS5pc0FycmF5KHMpJiYoaT1zWzFdLHM9c1swXSksbltzXT1yLGUmJihlW3NdPWkpfXJldHVybiBufWNvbnN0IFh0PXp0O2Z1bmN0aW9uIFl0KHQpe3JldHVybnt0eXBlOnQudHlwZSxuYW1lOnQubmFtZSxmYWN0b3J5Om51bGwscHVyZTohMSE9PXQucHVyZSxvbkRlc3Ryb3k6dC50eXBlLnByb3RvdHlwZS5uZ09uRGVzdHJveXx8bnVsbH19ZnVuY3Rpb24gWnQodCl7cmV0dXJuIHRbUnRdfHxudWxsfWZ1bmN0aW9uIFF0KHQsZSl7Y29uc3Qgbj10W2p0XXx8bnVsbDtpZighbiYmITA9PT1lKXRocm93IG5ldyBFcnJvcihgVHlwZSAke2V0KHQpfSBkb2VzIG5vdCBoYXZlICdcdTAyNzVtb2QnIHByb3BlcnR5LmApO3JldHVybiBufWNvbnN0IEt0PTIwLEp0PTEwO2Z1bmN0aW9uIHRlKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpJiYib2JqZWN0Ij09dHlwZW9mIHRbMV19ZnVuY3Rpb24gZWUodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJiEwPT09dFsxXX1mdW5jdGlvbiBuZSh0KXtyZXR1cm4gMCE9KDgmdC5mbGFncyl9ZnVuY3Rpb24gcmUodCl7cmV0dXJuIDI9PSgyJnQuZmxhZ3MpfWZ1bmN0aW9uIHNlKHQpe3JldHVybiAxPT0oMSZ0LmZsYWdzKX1mdW5jdGlvbiBpZSh0KXtyZXR1cm4gbnVsbCE9PXQudGVtcGxhdGV9ZnVuY3Rpb24gb2UodCxlKXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShOdCk/dFtOdF06bnVsbH1jbGFzcyBhZXtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5wcmV2aW91c1ZhbHVlPXQsdGhpcy5jdXJyZW50VmFsdWU9ZSx0aGlzLmZpcnN0Q2hhbmdlPW59aXNGaXJzdENoYW5nZSgpe3JldHVybiB0aGlzLmZpcnN0Q2hhbmdlfX1mdW5jdGlvbiBjZSgpe3JldHVybiBsZX1mdW5jdGlvbiBsZSh0KXtyZXR1cm4gdC50eXBlLnByb3RvdHlwZS5uZ09uQ2hhbmdlcyYmKHQuc2V0SW5wdXQ9aGUpLHVlfWZ1bmN0aW9uIHVlKCl7Y29uc3QgdD1kZSh0aGlzKSxlPW51bGw9PXQ/dm9pZCAwOnQuY3VycmVudDtpZihlKXtjb25zdCBuPXQucHJldmlvdXM7aWYobj09PU90KXQucHJldmlvdXM9ZTtlbHNlIGZvcihsZXQgdCBpbiBlKW5bdF09ZVt0XTt0LmN1cnJlbnQ9bnVsbCx0aGlzLm5nT25DaGFuZ2VzKGUpfX1mdW5jdGlvbiBoZSh0LGUsbixyKXtjb25zdCBzPWRlKHQpfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fbmdTaW1wbGVDaGFuZ2VzX189ZX0odCx7cHJldmlvdXM6T3QsY3VycmVudDpudWxsfSksaT1zLmN1cnJlbnR8fChzLmN1cnJlbnQ9e30pLG89cy5wcmV2aW91cyxhPXRoaXMuZGVjbGFyZWRJbnB1dHNbbl0sYz1vW2FdO2lbYV09bmV3IGFlKGMmJmMuY3VycmVudFZhbHVlLGUsbz09PU90KSx0W3JdPWV9ZnVuY3Rpb24gZGUodCl7cmV0dXJuIHQuX19uZ1NpbXBsZUNoYW5nZXNfX3x8bnVsbH1jZS5uZ0luaGVyaXQ9ITA7Y29uc3QgcGU9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjtsZXQgZmU7ZnVuY3Rpb24gZ2UoKXtyZXR1cm4gdm9pZCAwIT09ZmU/ZmU6InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudDp2b2lkIDB9ZnVuY3Rpb24gbWUodCl7cmV0dXJuISF0Lmxpc3Rlbn1jb25zdCB5ZT17Y3JlYXRlUmVuZGVyZXI6KHQsZSk9PmdlKCl9O2Z1bmN0aW9uIHZlKHQpe2Zvcig7QXJyYXkuaXNBcnJheSh0KTspdD10WzBdO3JldHVybiB0fWZ1bmN0aW9uIGJlKHQsZSl7cmV0dXJuIHZlKGVbdF0pfWZ1bmN0aW9uIENlKHQsZSl7cmV0dXJuIHZlKGVbdC5pbmRleF0pfWZ1bmN0aW9uIHdlKHQsZSl7cmV0dXJuIHQuZGF0YVtlXX1mdW5jdGlvbiBfZSh0LGUpe3JldHVybiB0W2VdfWZ1bmN0aW9uIERlKHQsZSl7Y29uc3Qgbj1lW3RdO3JldHVybiB0ZShuKT9uOm5bMF19ZnVuY3Rpb24gRWUodCl7cmV0dXJuIDQ9PSg0JnRbMl0pfWZ1bmN0aW9uIFNlKHQpe3JldHVybiAxMjg9PSgxMjgmdFsyXSl9ZnVuY3Rpb24geGUodCxlKXtyZXR1cm4gbnVsbD09ZT9udWxsOnRbZV19ZnVuY3Rpb24gQWUodCl7dFsxOF09MH1mdW5jdGlvbiBUZSh0LGUpe3RbNV0rPWU7bGV0IG49dCxyPXRbM107Zm9yKDtudWxsIT09ciYmKDE9PT1lJiYxPT09bls1XXx8LTE9PT1lJiYwPT09bls1XSk7KXJbNV0rPWUsbj1yLHI9clszXX1jb25zdCBrZT17bEZyYW1lOkplKG51bGwpLGJpbmRpbmdzRW5hYmxlZDohMCxpc0luQ2hlY2tOb0NoYW5nZXNNb2RlOiExfTtmdW5jdGlvbiBGZSgpe3JldHVybiBrZS5iaW5kaW5nc0VuYWJsZWR9ZnVuY3Rpb24gSWUoKXtyZXR1cm4ga2UubEZyYW1lLmxWaWV3fWZ1bmN0aW9uIE9lKCl7cmV0dXJuIGtlLmxGcmFtZS50Vmlld31mdW5jdGlvbiBQZSh0KXtyZXR1cm4ga2UubEZyYW1lLmNvbnRleHRMVmlldz10LHRbOF19ZnVuY3Rpb24gUmUoKXtsZXQgdD1MZSgpO2Zvcig7bnVsbCE9PXQmJjY0PT09dC50eXBlOyl0PXQucGFyZW50O3JldHVybiB0fWZ1bmN0aW9uIExlKCl7cmV0dXJuIGtlLmxGcmFtZS5jdXJyZW50VE5vZGV9ZnVuY3Rpb24gQmUodCxlKXtjb25zdCBuPWtlLmxGcmFtZTtuLmN1cnJlbnRUTm9kZT10LG4uaXNQYXJlbnQ9ZX1mdW5jdGlvbiBqZSgpe3JldHVybiBrZS5sRnJhbWUuaXNQYXJlbnR9ZnVuY3Rpb24gTWUoKXtrZS5sRnJhbWUuaXNQYXJlbnQ9ITF9ZnVuY3Rpb24gTmUoKXtyZXR1cm4ga2UuaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZX1mdW5jdGlvbiBIZSh0KXtrZS5pc0luQ2hlY2tOb0NoYW5nZXNNb2RlPXR9ZnVuY3Rpb24gVmUoKXtjb25zdCB0PWtlLmxGcmFtZTtsZXQgZT10LmJpbmRpbmdSb290SW5kZXg7cmV0dXJuLTE9PT1lJiYoZT10LmJpbmRpbmdSb290SW5kZXg9dC50Vmlldy5iaW5kaW5nU3RhcnRJbmRleCksZX1mdW5jdGlvbiB6ZSgpe3JldHVybiBrZS5sRnJhbWUuYmluZGluZ0luZGV4fWZ1bmN0aW9uICRlKCl7cmV0dXJuIGtlLmxGcmFtZS5iaW5kaW5nSW5kZXgrK31mdW5jdGlvbiBVZSh0KXtjb25zdCBlPWtlLmxGcmFtZSxuPWUuYmluZGluZ0luZGV4O3JldHVybiBlLmJpbmRpbmdJbmRleD1lLmJpbmRpbmdJbmRleCt0LG59ZnVuY3Rpb24gV2UodCxlKXtjb25zdCBuPWtlLmxGcmFtZTtuLmJpbmRpbmdJbmRleD1uLmJpbmRpbmdSb290SW5kZXg9dCxHZShlKX1mdW5jdGlvbiBHZSh0KXtrZS5sRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4PXR9ZnVuY3Rpb24gcWUoKXtyZXR1cm4ga2UubEZyYW1lLmN1cnJlbnRRdWVyeUluZGV4fWZ1bmN0aW9uIFhlKHQpe2tlLmxGcmFtZS5jdXJyZW50UXVlcnlJbmRleD10fWZ1bmN0aW9uIFllKHQpe2NvbnN0IGU9dFsxXTtyZXR1cm4gMj09PWUudHlwZT9lLmRlY2xUTm9kZToxPT09ZS50eXBlP3RbNl06bnVsbH1mdW5jdGlvbiBaZSh0LGUsbil7aWYobiZDdC5Ta2lwU2VsZil7bGV0IHI9ZSxzPXQ7Zm9yKDtyPXIucGFyZW50LCEobnVsbCE9PXJ8fG4mQ3QuSG9zdHx8KHI9WWUocyksbnVsbD09PXIpfHwocz1zWzE1XSwxMCZyLnR5cGUpKTspO2lmKG51bGw9PT1yKXJldHVybiExO2U9cix0PXN9Y29uc3Qgcj1rZS5sRnJhbWU9S2UoKTtyZXR1cm4gci5jdXJyZW50VE5vZGU9ZSxyLmxWaWV3PXQsITB9ZnVuY3Rpb24gUWUodCl7Y29uc3QgZT1LZSgpLG49dFsxXTtrZS5sRnJhbWU9ZSxlLmN1cnJlbnRUTm9kZT1uLmZpcnN0Q2hpbGQsZS5sVmlldz10LGUudFZpZXc9bixlLmNvbnRleHRMVmlldz10LGUuYmluZGluZ0luZGV4PW4uYmluZGluZ1N0YXJ0SW5kZXgsZS5pbkkxOG49ITF9ZnVuY3Rpb24gS2UoKXtjb25zdCB0PWtlLmxGcmFtZSxlPW51bGw9PT10P251bGw6dC5jaGlsZDtyZXR1cm4gbnVsbD09PWU/SmUodCk6ZX1mdW5jdGlvbiBKZSh0KXtjb25zdCBlPXtjdXJyZW50VE5vZGU6bnVsbCxpc1BhcmVudDohMCxsVmlldzpudWxsLHRWaWV3Om51bGwsc2VsZWN0ZWRJbmRleDotMSxjb250ZXh0TFZpZXc6bnVsbCxlbGVtZW50RGVwdGhDb3VudDowLGN1cnJlbnROYW1lc3BhY2U6bnVsbCxjdXJyZW50RGlyZWN0aXZlSW5kZXg6LTEsYmluZGluZ1Jvb3RJbmRleDotMSxiaW5kaW5nSW5kZXg6LTEsY3VycmVudFF1ZXJ5SW5kZXg6MCxwYXJlbnQ6dCxjaGlsZDpudWxsLGluSTE4bjohMX07cmV0dXJuIG51bGwhPT10JiYodC5jaGlsZD1lKSxlfWZ1bmN0aW9uIHRuKCl7Y29uc3QgdD1rZS5sRnJhbWU7cmV0dXJuIGtlLmxGcmFtZT10LnBhcmVudCx0LmN1cnJlbnRUTm9kZT1udWxsLHQubFZpZXc9bnVsbCx0fWNvbnN0IGVuPXRuO2Z1bmN0aW9uIG5uKCl7Y29uc3QgdD10bigpO3QuaXNQYXJlbnQ9ITAsdC50Vmlldz1udWxsLHQuc2VsZWN0ZWRJbmRleD0tMSx0LmNvbnRleHRMVmlldz1udWxsLHQuZWxlbWVudERlcHRoQ291bnQ9MCx0LmN1cnJlbnREaXJlY3RpdmVJbmRleD0tMSx0LmN1cnJlbnROYW1lc3BhY2U9bnVsbCx0LmJpbmRpbmdSb290SW5kZXg9LTEsdC5iaW5kaW5nSW5kZXg9LTEsdC5jdXJyZW50UXVlcnlJbmRleD0wfWZ1bmN0aW9uIHJuKCl7cmV0dXJuIGtlLmxGcmFtZS5zZWxlY3RlZEluZGV4fWZ1bmN0aW9uIHNuKHQpe2tlLmxGcmFtZS5zZWxlY3RlZEluZGV4PXR9ZnVuY3Rpb24gb24oKXtjb25zdCB0PWtlLmxGcmFtZTtyZXR1cm4gd2UodC50Vmlldyx0LnNlbGVjdGVkSW5kZXgpfWZ1bmN0aW9uIGFuKCl7a2UubEZyYW1lLmN1cnJlbnROYW1lc3BhY2U9cGV9ZnVuY3Rpb24gY24odCxlKXtmb3IobGV0IG49ZS5kaXJlY3RpdmVTdGFydCxyPWUuZGlyZWN0aXZlRW5kO248cjtuKyspe2NvbnN0IGU9dC5kYXRhW25dLnR5cGUucHJvdG90eXBlLHtuZ0FmdGVyQ29udGVudEluaXQ6cixuZ0FmdGVyQ29udGVudENoZWNrZWQ6cyxuZ0FmdGVyVmlld0luaXQ6aSxuZ0FmdGVyVmlld0NoZWNrZWQ6byxuZ09uRGVzdHJveTphfT1lO3ImJih0LmNvbnRlbnRIb29rc3x8KHQuY29udGVudEhvb2tzPVtdKSkucHVzaCgtbixyKSxzJiYoKHQuY29udGVudEhvb2tzfHwodC5jb250ZW50SG9va3M9W10pKS5wdXNoKG4scyksKHQuY29udGVudENoZWNrSG9va3N8fCh0LmNvbnRlbnRDaGVja0hvb2tzPVtdKSkucHVzaChuLHMpKSxpJiYodC52aWV3SG9va3N8fCh0LnZpZXdIb29rcz1bXSkpLnB1c2goLW4saSksbyYmKCh0LnZpZXdIb29rc3x8KHQudmlld0hvb2tzPVtdKSkucHVzaChuLG8pLCh0LnZpZXdDaGVja0hvb2tzfHwodC52aWV3Q2hlY2tIb29rcz1bXSkpLnB1c2gobixvKSksbnVsbCE9YSYmKHQuZGVzdHJveUhvb2tzfHwodC5kZXN0cm95SG9va3M9W10pKS5wdXNoKG4sYSl9fWZ1bmN0aW9uIGxuKHQsZSxuKXtkbih0LGUsMyxuKX1mdW5jdGlvbiB1bih0LGUsbixyKXsoMyZ0WzJdKT09PW4mJmRuKHQsZSxuLHIpfWZ1bmN0aW9uIGhuKHQsZSl7bGV0IG49dFsyXTsoMyZuKT09PWUmJihuJj0yMDQ3LG4rPTEsdFsyXT1uKX1mdW5jdGlvbiBkbih0LGUsbixyKXtjb25zdCBzPW51bGwhPXI/cjotMSxpPWUubGVuZ3RoLTE7bGV0IG89MDtmb3IobGV0IGE9dm9pZCAwIT09cj82NTUzNSZ0WzE4XTowO2E8aTthKyspaWYoIm51bWJlciI9PXR5cGVvZiBlW2ErMV0pe2lmKG89ZVthXSxudWxsIT1yJiZvPj1yKWJyZWFrfWVsc2UgZVthXTwwJiYodFsxOF0rPTY1NTM2KSwobzxzfHwtMT09cykmJihwbih0LG4sZSxhKSx0WzE4XT0oNDI5NDkwMTc2MCZ0WzE4XSkrYSsyKSxhKyt9ZnVuY3Rpb24gcG4odCxlLG4scil7Y29uc3Qgcz1uW3JdPDAsaT1uW3IrMV0sbz10W3M/LW5bcl06bltyXV07aWYocyl7aWYodFsyXT4+MTE8dFsxOF0+PjE2JiYoMyZ0WzJdKT09PWUpe3RbMl0rPTIwNDg7dHJ5e2kuY2FsbChvKX1maW5hbGx5e319fWVsc2UgdHJ5e2kuY2FsbChvKX1maW5hbGx5e319Y29uc3QgZm49LTE7Y2xhc3MgZ257Y29uc3RydWN0b3IodCxlLG4pe3RoaXMuZmFjdG9yeT10LHRoaXMucmVzb2x2aW5nPSExLHRoaXMuY2FuU2VlVmlld1Byb3ZpZGVycz1lLHRoaXMuaW5qZWN0SW1wbD1ufX1mdW5jdGlvbiBtbih0LGUsbil7Y29uc3Qgcj1tZSh0KTtsZXQgcz0wO2Zvcig7czxuLmxlbmd0aDspe2NvbnN0IGk9bltzXTtpZigibnVtYmVyIj09dHlwZW9mIGkpe2lmKDAhPT1pKWJyZWFrO3MrKztjb25zdCBvPW5bcysrXSxhPW5bcysrXSxjPW5bcysrXTtyP3Quc2V0QXR0cmlidXRlKGUsYSxjLG8pOmUuc2V0QXR0cmlidXRlTlMobyxhLGMpfWVsc2V7Y29uc3Qgbz1pLGE9blsrK3NdO3ZuKG8pP3ImJnQuc2V0UHJvcGVydHkoZSxvLGEpOnI/dC5zZXRBdHRyaWJ1dGUoZSxvLGEpOmUuc2V0QXR0cmlidXRlKG8sYSkscysrfX1yZXR1cm4gc31mdW5jdGlvbiB5bih0KXtyZXR1cm4gMz09PXR8fDQ9PT10fHw2PT09dH1mdW5jdGlvbiB2bih0KXtyZXR1cm4gNjQ9PT10LmNoYXJDb2RlQXQoMCl9ZnVuY3Rpb24gYm4odCxlKXtpZihudWxsPT09ZXx8MD09PWUubGVuZ3RoKTtlbHNlIGlmKG51bGw9PT10fHwwPT09dC5sZW5ndGgpdD1lLnNsaWNlKCk7ZWxzZXtsZXQgbj0tMTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyl7Y29uc3Qgcz1lW3JdOyJudW1iZXIiPT10eXBlb2Ygcz9uPXM6MD09PW58fENuKHQsbixzLG51bGwsLTE9PT1ufHwyPT09bj9lWysrcl06bnVsbCl9fXJldHVybiB0fWZ1bmN0aW9uIENuKHQsZSxuLHIscyl7bGV0IGk9MCxvPXQubGVuZ3RoO2lmKC0xPT09ZSlvPS0xO2Vsc2UgZm9yKDtpPHQubGVuZ3RoOyl7Y29uc3Qgbj10W2krK107aWYoIm51bWJlciI9PXR5cGVvZiBuKXtpZihuPT09ZSl7bz0tMTticmVha31pZihuPmUpe289aS0xO2JyZWFrfX19Zm9yKDtpPHQubGVuZ3RoOyl7Y29uc3QgZT10W2ldO2lmKCJudW1iZXIiPT10eXBlb2YgZSlicmVhaztpZihlPT09bil7aWYobnVsbD09PXIpcmV0dXJuIHZvaWQobnVsbCE9PXMmJih0W2krMV09cykpO2lmKHI9PT10W2krMV0pcmV0dXJuIHZvaWQodFtpKzJdPXMpfWkrKyxudWxsIT09ciYmaSsrLG51bGwhPT1zJiZpKyt9LTEhPT1vJiYodC5zcGxpY2UobywwLGUpLGk9bysxKSx0LnNwbGljZShpKyssMCxuKSxudWxsIT09ciYmdC5zcGxpY2UoaSsrLDAsciksbnVsbCE9PXMmJnQuc3BsaWNlKGkrKywwLHMpfWZ1bmN0aW9uIHduKHQpe3JldHVybiB0IT09Zm59ZnVuY3Rpb24gX24odCl7cmV0dXJuIDMyNzY3JnR9ZnVuY3Rpb24gRG4odCxlKXtsZXQgbj10Pj4xNixyPWU7Zm9yKDtuPjA7KXI9clsxNV0sbi0tO3JldHVybiByfWxldCBFbj0hMDtmdW5jdGlvbiBTbih0KXtjb25zdCBlPUVuO3JldHVybiBFbj10LGV9bGV0IHhuPTA7ZnVuY3Rpb24gQW4odCxlKXtjb25zdCBuPWtuKHQsZSk7aWYoLTEhPT1uKXJldHVybiBuO2NvbnN0IHI9ZVsxXTtyLmZpcnN0Q3JlYXRlUGFzcyYmKHQuaW5qZWN0b3JJbmRleD1lLmxlbmd0aCxUbihyLmRhdGEsdCksVG4oZSxudWxsKSxUbihyLmJsdWVwcmludCxudWxsKSk7Y29uc3Qgcz1Gbih0LGUpLGk9dC5pbmplY3RvckluZGV4O2lmKHduKHMpKXtjb25zdCB0PV9uKHMpLG49RG4ocyxlKSxyPW5bMV0uZGF0YTtmb3IobGV0IHM9MDtzPDg7cysrKWVbaStzXT1uW3Qrc118clt0K3NdfXJldHVybiBlW2krOF09cyxpfWZ1bmN0aW9uIFRuKHQsZSl7dC5wdXNoKDAsMCwwLDAsMCwwLDAsMCxlKX1mdW5jdGlvbiBrbih0LGUpe3JldHVybi0xPT09dC5pbmplY3RvckluZGV4fHx0LnBhcmVudCYmdC5wYXJlbnQuaW5qZWN0b3JJbmRleD09PXQuaW5qZWN0b3JJbmRleHx8bnVsbD09PWVbdC5pbmplY3RvckluZGV4KzhdPy0xOnQuaW5qZWN0b3JJbmRleH1mdW5jdGlvbiBGbih0LGUpe2lmKHQucGFyZW50JiYtMSE9PXQucGFyZW50LmluamVjdG9ySW5kZXgpcmV0dXJuIHQucGFyZW50LmluamVjdG9ySW5kZXg7bGV0IG49MCxyPW51bGwscz1lO2Zvcig7bnVsbCE9PXM7KXtjb25zdCB0PXNbMV0sZT10LnR5cGU7aWYocj0yPT09ZT90LmRlY2xUTm9kZToxPT09ZT9zWzZdOm51bGwsbnVsbD09PXIpcmV0dXJuIGZuO2lmKG4rKyxzPXNbMTVdLC0xIT09ci5pbmplY3RvckluZGV4KXJldHVybiByLmluamVjdG9ySW5kZXh8bjw8MTZ9cmV0dXJuIGZufWZ1bmN0aW9uIEluKHQsZSxuKXshZnVuY3Rpb24odCxlLG4pe2xldCByOyJzdHJpbmciPT10eXBlb2Ygbj9yPW4uY2hhckNvZGVBdCgwKXx8MDpuLmhhc093blByb3BlcnR5KEh0KSYmKHI9bltIdF0pLG51bGw9PXImJihyPW5bSHRdPXhuKyspO2NvbnN0IHM9MjU1JnI7ZS5kYXRhW3QrKHM+PjUpXXw9MTw8c30odCxlLG4pfWZ1bmN0aW9uIE9uKHQsZSxuKXtpZihuJkN0Lk9wdGlvbmFsKXJldHVybiB0O3V0KGUsIk5vZGVJbmplY3RvciIpfWZ1bmN0aW9uIFBuKHQsZSxuLHIpe2lmKG4mQ3QuT3B0aW9uYWwmJnZvaWQgMD09PXImJihyPW51bGwpLDA9PShuJihDdC5TZWxmfEN0Lkhvc3QpKSl7Y29uc3Qgcz10WzldLGk9X3Qodm9pZCAwKTt0cnl7cmV0dXJuIHM/cy5nZXQoZSxyLG4mQ3QuT3B0aW9uYWwpOkR0KGUscixuJkN0Lk9wdGlvbmFsKX1maW5hbGx5e190KGkpfX1yZXR1cm4gT24ocixlLG4pfWZ1bmN0aW9uIFJuKHQsZSxuLHI9Q3QuRGVmYXVsdCxzKXtpZihudWxsIT09dCl7Y29uc3QgaT1mdW5jdGlvbih0KXtpZigic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIHQuY2hhckNvZGVBdCgwKXx8MDtjb25zdCBlPXQuaGFzT3duUHJvcGVydHkoSHQpP3RbSHRdOnZvaWQgMDtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGU/ZT49MD8yNTUmZTpCbjplfShuKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgaSl7aWYoIVplKGUsdCxyKSlyZXR1cm4gciZDdC5Ib3N0P09uKHMsbixyKTpQbihlLG4scixzKTt0cnl7Y29uc3QgdD1pKHIpO2lmKG51bGwhPXR8fHImQ3QuT3B0aW9uYWwpcmV0dXJuIHQ7dXQobil9ZmluYWxseXtlbigpfX1lbHNlIGlmKCJudW1iZXIiPT10eXBlb2YgaSl7bGV0IHM9bnVsbCxvPWtuKHQsZSksYT1mbixjPXImQ3QuSG9zdD9lWzE2XVs2XTpudWxsO2ZvcigoLTE9PT1vfHxyJkN0LlNraXBTZWxmKSYmKGE9LTE9PT1vP0ZuKHQsZSk6ZVtvKzhdLGEhPT1mbiYmVm4ociwhMSk/KHM9ZVsxXSxvPV9uKGEpLGU9RG4oYSxlKSk6bz0tMSk7LTEhPT1vOyl7Y29uc3QgdD1lWzFdO2lmKEhuKGksbyx0LmRhdGEpKXtjb25zdCB0PWpuKG8sZSxuLHMscixjKTtpZih0IT09TG4pcmV0dXJuIHR9YT1lW28rOF0sYSE9PWZuJiZWbihyLGVbMV0uZGF0YVtvKzhdPT09YykmJkhuKGksbyxlKT8ocz10LG89X24oYSksZT1EbihhLGUpKTpvPS0xfX19cmV0dXJuIFBuKGUsbixyLHMpfWNvbnN0IExuPXt9O2Z1bmN0aW9uIEJuKCl7cmV0dXJuIG5ldyB6bihSZSgpLEllKCkpfWZ1bmN0aW9uIGpuKHQsZSxuLHIscyxpKXtjb25zdCBvPWVbMV0sYT1vLmRhdGFbdCs4XSxjPU1uKGEsbyxuLG51bGw9PXI/cmUoYSkmJkVuOnIhPW8mJjAhPSgzJmEudHlwZSkscyZDdC5Ib3N0JiZpPT09YSk7cmV0dXJuIG51bGwhPT1jP05uKGUsbyxjLGEpOkxufWZ1bmN0aW9uIE1uKHQsZSxuLHIscyl7Y29uc3QgaT10LnByb3ZpZGVySW5kZXhlcyxvPWUuZGF0YSxhPTEwNDg1NzUmaSxjPXQuZGlyZWN0aXZlU3RhcnQsbD1pPj4yMCx1PXM/YStsOnQuZGlyZWN0aXZlRW5kO2ZvcihsZXQgaD1yP2E6YStsO2g8dTtoKyspe2NvbnN0IHQ9b1toXTtpZihoPGMmJm49PT10fHxoPj1jJiZ0LnR5cGU9PT1uKXJldHVybiBofWlmKHMpe2NvbnN0IHQ9b1tjXTtpZih0JiZpZSh0KSYmdC50eXBlPT09bilyZXR1cm4gY31yZXR1cm4gbnVsbH1mdW5jdGlvbiBObih0LGUsbixyKXtsZXQgcz10W25dO2NvbnN0IGk9ZS5kYXRhO2lmKHMgaW5zdGFuY2VvZiBnbil7Y29uc3Qgbz1zO28ucmVzb2x2aW5nJiZmdW5jdGlvbih0LGUpe3Rocm93IG5ldyBhdCgiMjAwIixgQ2lyY3VsYXIgZGVwZW5kZW5jeSBpbiBESSBkZXRlY3RlZCBmb3IgJHt0fWApfShsdChpW25dKSk7Y29uc3QgYT1TbihvLmNhblNlZVZpZXdQcm92aWRlcnMpO28ucmVzb2x2aW5nPSEwO2NvbnN0IGM9by5pbmplY3RJbXBsP190KG8uaW5qZWN0SW1wbCk6bnVsbDtaZSh0LHIsQ3QuRGVmYXVsdCk7dHJ5e3M9dFtuXT1vLmZhY3Rvcnkodm9pZCAwLGksdCxyKSxlLmZpcnN0Q3JlYXRlUGFzcyYmbj49ci5kaXJlY3RpdmVTdGFydCYmZnVuY3Rpb24odCxlLG4pe2NvbnN0e25nT25DaGFuZ2VzOnIsbmdPbkluaXQ6cyxuZ0RvQ2hlY2s6aX09ZS50eXBlLnByb3RvdHlwZTtpZihyKXtjb25zdCByPWxlKGUpOyhuLnByZU9yZGVySG9va3N8fChuLnByZU9yZGVySG9va3M9W10pKS5wdXNoKHQsciksKG4ucHJlT3JkZXJDaGVja0hvb2tzfHwobi5wcmVPcmRlckNoZWNrSG9va3M9W10pKS5wdXNoKHQscil9cyYmKG4ucHJlT3JkZXJIb29rc3x8KG4ucHJlT3JkZXJIb29rcz1bXSkpLnB1c2goMC10LHMpLGkmJigobi5wcmVPcmRlckhvb2tzfHwobi5wcmVPcmRlckhvb2tzPVtdKSkucHVzaCh0LGkpLChuLnByZU9yZGVyQ2hlY2tIb29rc3x8KG4ucHJlT3JkZXJDaGVja0hvb2tzPVtdKSkucHVzaCh0LGkpKX0obixpW25dLGUpfWZpbmFsbHl7bnVsbCE9PWMmJl90KGMpLFNuKGEpLG8ucmVzb2x2aW5nPSExLGVuKCl9fXJldHVybiBzfWZ1bmN0aW9uIEhuKHQsZSxuKXtyZXR1cm4hIShuW2UrKHQ+PjUpXSYxPDx0KX1mdW5jdGlvbiBWbih0LGUpe3JldHVybiEodCZDdC5TZWxmfHx0JkN0Lkhvc3QmJmUpfWNsYXNzIHpue2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fdE5vZGU9dCx0aGlzLl9sVmlldz1lfWdldCh0LGUpe3JldHVybiBSbih0aGlzLl90Tm9kZSx0aGlzLl9sVmlldyx0LHZvaWQgMCxlKX19ZnVuY3Rpb24gJG4odCl7cmV0dXJuIEV0KCgpPT57Y29uc3QgZT10LnByb3RvdHlwZS5jb25zdHJ1Y3RvcixuPWVbTnRdfHxVbihlKSxyPU9iamVjdC5wcm90b3R5cGU7bGV0IHM9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKS5jb25zdHJ1Y3Rvcjtmb3IoO3MmJnMhPT1yOyl7Y29uc3QgdD1zW050XXx8VW4ocyk7aWYodCYmdCE9PW4pcmV0dXJuIHQ7cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Yocyl9cmV0dXJuIHQ9Pm5ldyB0fSl9ZnVuY3Rpb24gVW4odCl7cmV0dXJuIG90KHQpPygpPT57Y29uc3QgZT1VbihpdCh0KSk7cmV0dXJuIGUmJmUoKX06b2UodCl9Y29uc3QgV249Il9fcGFyYW1ldGVyc19fIjtmdW5jdGlvbiBHbih0LGUsbil7cmV0dXJuIEV0KCgpPT57Y29uc3Qgcj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oLi4uZSl7aWYodCl7Y29uc3Qgbj10KC4uLmUpO2Zvcihjb25zdCB0IGluIG4pdGhpc1t0XT1uW3RdfX19KGUpO2Z1bmN0aW9uIHMoLi4udCl7aWYodGhpcyBpbnN0YW5jZW9mIHMpcmV0dXJuIHIuYXBwbHkodGhpcyx0KSx0aGlzO2NvbnN0IGU9bmV3IHMoLi4udCk7cmV0dXJuIG4uYW5ub3RhdGlvbj1lLG47ZnVuY3Rpb24gbih0LG4scil7Y29uc3Qgcz10Lmhhc093blByb3BlcnR5KFduKT90W1duXTpPYmplY3QuZGVmaW5lUHJvcGVydHkodCxXbix7dmFsdWU6W119KVtXbl07Zm9yKDtzLmxlbmd0aDw9cjspcy5wdXNoKG51bGwpO3JldHVybihzW3JdPXNbcl18fFtdKS5wdXNoKGUpLHR9fXJldHVybiBuJiYocy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkpLHMucHJvdG90eXBlLm5nTWV0YWRhdGFOYW1lPXQscy5hbm5vdGF0aW9uQ2xzPXMsc30pfWNsYXNzIHFue2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fZGVzYz10LHRoaXMubmdNZXRhZGF0YU5hbWU9IkluamVjdGlvblRva2VuIix0aGlzLlx1MDI3NXByb3Y9dm9pZCAwLCJudW1iZXIiPT10eXBlb2YgZT90aGlzLl9fTkdfRUxFTUVOVF9JRF9fPWU6dm9pZCAwIT09ZSYmKHRoaXMuXHUwMjc1cHJvdj1odCh7dG9rZW46dGhpcyxwcm92aWRlZEluOmUucHJvdmlkZWRJbnx8InJvb3QiLGZhY3Rvcnk6ZS5mYWN0b3J5fSkpfXRvU3RyaW5nKCl7cmV0dXJuYEluamVjdGlvblRva2VuICR7dGhpcy5fZGVzY31gfX1jb25zdCBYbj1uZXcgcW4oIkFuYWx5emVGb3JFbnRyeUNvbXBvbmVudHMiKSxZbj1GdW5jdGlvbjtmdW5jdGlvbiBabih0LGUpe3ZvaWQgMD09PWUmJihlPXQpO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtsZXQgcj10W25dO0FycmF5LmlzQXJyYXkocik/KGU9PT10JiYoZT10LnNsaWNlKDAsbikpLFpuKHIsZSkpOmUhPT10JiZlLnB1c2gocil9cmV0dXJuIGV9ZnVuY3Rpb24gUW4odCxlKXt0LmZvckVhY2godD0+QXJyYXkuaXNBcnJheSh0KT9Rbih0LGUpOmUodCkpfWZ1bmN0aW9uIEtuKHQsZSxuKXtlPj10Lmxlbmd0aD90LnB1c2gobik6dC5zcGxpY2UoZSwwLG4pfWZ1bmN0aW9uIEpuKHQsZSl7cmV0dXJuIGU+PXQubGVuZ3RoLTE/dC5wb3AoKTp0LnNwbGljZShlLDEpWzBdfWZ1bmN0aW9uIHRyKHQsZSl7Y29uc3Qgbj1bXTtmb3IobGV0IHI9MDtyPHQ7cisrKW4ucHVzaChlKTtyZXR1cm4gbn1mdW5jdGlvbiBlcih0LGUsbil7bGV0IHI9cnIodCxlKTtyZXR1cm4gcj49MD90WzF8cl09bjoocj1+cixmdW5jdGlvbih0LGUsbixyKXtsZXQgcz10Lmxlbmd0aDtpZihzPT1lKXQucHVzaChuLHIpO2Vsc2UgaWYoMT09PXMpdC5wdXNoKHIsdFswXSksdFswXT1uO2Vsc2V7Zm9yKHMtLSx0LnB1c2godFtzLTFdLHRbc10pO3M+ZTspdFtzXT10W3MtMl0scy0tO3RbZV09bix0W2UrMV09cn19KHQscixlLG4pKSxyfWZ1bmN0aW9uIG5yKHQsZSl7Y29uc3Qgbj1ycih0LGUpO2lmKG4+PTApcmV0dXJuIHRbMXxuXX1mdW5jdGlvbiBycih0LGUpe3JldHVybiBmdW5jdGlvbih0LGUsbil7bGV0IHI9MCxzPXQubGVuZ3RoPj4xO2Zvcig7cyE9PXI7KXtjb25zdCBuPXIrKHMtcj4+MSksaT10W248PDFdO2lmKGU9PT1pKXJldHVybiBuPDwxO2k+ZT9zPW46cj1uKzF9cmV0dXJufihzPDwxKX0odCxlKX1jb25zdCBzcj17fSxpcj0vXG4vZ20sb3I9Il9fc291cmNlIixhcj1KKHtwcm92aWRlOlN0cmluZyx1c2VWYWx1ZTpKfSk7bGV0IGNyO2Z1bmN0aW9uIGxyKHQpe2NvbnN0IGU9Y3I7cmV0dXJuIGNyPXQsZX1mdW5jdGlvbiB1cih0LGU9Q3QuRGVmYXVsdCl7aWYodm9pZCAwPT09Y3IpdGhyb3cgbmV3IEVycm9yKCJpbmplY3QoKSBtdXN0IGJlIGNhbGxlZCBmcm9tIGFuIGluamVjdGlvbiBjb250ZXh0Iik7cmV0dXJuIG51bGw9PT1jcj9EdCh0LHZvaWQgMCxlKTpjci5nZXQodCxlJkN0Lk9wdGlvbmFsP251bGw6dm9pZCAwLGUpfWZ1bmN0aW9uIGhyKHQsZT1DdC5EZWZhdWx0KXtyZXR1cm4od3R8fHVyKShpdCh0KSxlKX1mdW5jdGlvbiBkcih0KXtjb25zdCBlPVtdO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCByPWl0KHRbbl0pO2lmKEFycmF5LmlzQXJyYXkocikpe2lmKDA9PT1yLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkFyZ3VtZW50cyBhcnJheSBtdXN0IGhhdmUgYXJndW1lbnRzLiIpO2xldCB0LG49Q3QuRGVmYXVsdDtmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKyl7Y29uc3Qgcz1yW2VdLGk9cy5fX05HX0RJX0ZMQUdfXzsibnVtYmVyIj09dHlwZW9mIGk/LTE9PT1pP3Q9cy50b2tlbjpufD1pOnQ9c31lLnB1c2goaHIodCxuKSl9ZWxzZSBlLnB1c2goaHIocikpfXJldHVybiBlfWZ1bmN0aW9uIHByKHQsZSl7cmV0dXJuIHQuX19OR19ESV9GTEFHX189ZSx0LnByb3RvdHlwZS5fX05HX0RJX0ZMQUdfXz1lLHR9Y29uc3QgZnI9cHIoR24oIkluamVjdCIsdD0+KHt0b2tlbjp0fSkpLC0xKSxncj1wcihHbigiT3B0aW9uYWwiKSw4KSxtcj1wcihHbigiU2tpcFNlbGYiKSw0KTtsZXQgeXIsdnI7ZnVuY3Rpb24gYnIodCl7dmFyIGU7cmV0dXJuKG51bGw9PT0oZT1mdW5jdGlvbigpe2lmKHZvaWQgMD09PXlyJiYoeXI9bnVsbCxJdC50cnVzdGVkVHlwZXMpKXRyeXt5cj1JdC50cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5KCJhbmd1bGFyIix7Y3JlYXRlSFRNTDp0PT50LGNyZWF0ZVNjcmlwdDp0PT50LGNyZWF0ZVNjcmlwdFVSTDp0PT50fSl9Y2F0Y2goZSl7fXJldHVybiB5cn0oKSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY3JlYXRlSFRNTCh0KSl8fHR9ZnVuY3Rpb24gQ3IodCl7dmFyIGU7cmV0dXJuKG51bGw9PT0oZT1mdW5jdGlvbigpe2lmKHZvaWQgMD09PXZyJiYodnI9bnVsbCxJdC50cnVzdGVkVHlwZXMpKXRyeXt2cj1JdC50cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5KCJhbmd1bGFyI3Vuc2FmZS1ieXBhc3MiLHtjcmVhdGVIVE1MOnQ9PnQsY3JlYXRlU2NyaXB0OnQ9PnQsY3JlYXRlU2NyaXB0VVJMOnQ9PnR9KX1jYXRjaChlKXt9cmV0dXJuIHZyfSgpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jcmVhdGVIVE1MKHQpKXx8dH1jbGFzcyB3cntjb25zdHJ1Y3Rvcih0KXt0aGlzLmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHk9dH10b1N0cmluZygpe3JldHVybmBTYWZlVmFsdWUgbXVzdCB1c2UgW3Byb3BlcnR5XT1iaW5kaW5nOiAke3RoaXMuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eX0gKHNlZSBodHRwczovL2cuY28vbmcvc2VjdXJpdHkjeHNzKWB9fWZ1bmN0aW9uIF9yKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygd3I/dC5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5OnR9Y2xhc3MgRHJ7Y29uc3RydWN0b3IodCl7dGhpcy5pbmVydERvY3VtZW50SGVscGVyPXR9Z2V0SW5lcnRCb2R5RWxlbWVudCh0KXt0PSI8Ym9keT48cmVtb3ZlPjwvcmVtb3ZlPiIrdDt0cnl7Y29uc3QgZT0obmV3IHdpbmRvdy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhicih0KSwidGV4dC9odG1sIikuYm9keTtyZXR1cm4gbnVsbD09PWU/dGhpcy5pbmVydERvY3VtZW50SGVscGVyLmdldEluZXJ0Qm9keUVsZW1lbnQodCk6KGUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKSxlKX1jYXRjaChlKXtyZXR1cm4gbnVsbH19fWNsYXNzIEVye2NvbnN0cnVjdG9yKHQpe2lmKHRoaXMuZGVmYXVsdERvYz10LHRoaXMuaW5lcnREb2N1bWVudD10aGlzLmRlZmF1bHREb2MuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCJzYW5pdGl6YXRpb24taW5lcnQiKSxudWxsPT10aGlzLmluZXJ0RG9jdW1lbnQuYm9keSl7Y29uc3QgdD10aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaHRtbCIpO3RoaXMuaW5lcnREb2N1bWVudC5hcHBlbmRDaGlsZCh0KTtjb25zdCBlPXRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCJib2R5Iik7dC5hcHBlbmRDaGlsZChlKX19Z2V0SW5lcnRCb2R5RWxlbWVudCh0KXtjb25zdCBlPXRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIpO2lmKCJjb250ZW50ImluIGUpcmV0dXJuIGUuaW5uZXJIVE1MPWJyKHQpLGU7Y29uc3Qgbj10aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYm9keSIpO3JldHVybiBuLmlubmVySFRNTD1icih0KSx0aGlzLmRlZmF1bHREb2MuZG9jdW1lbnRNb2RlJiZ0aGlzLnN0cmlwQ3VzdG9tTnNBdHRycyhuKSxufXN0cmlwQ3VzdG9tTnNBdHRycyh0KXtjb25zdCBlPXQuYXR0cmlidXRlcztmb3IobGV0IHI9ZS5sZW5ndGgtMTswPHI7ci0tKXtjb25zdCBuPWUuaXRlbShyKS5uYW1lOyJ4bWxuczpuczEiIT09biYmMCE9PW4uaW5kZXhPZigibnMxOiIpfHx0LnJlbW92ZUF0dHJpYnV0ZShuKX1sZXQgbj10LmZpcnN0Q2hpbGQ7Zm9yKDtuOyluLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJnRoaXMuc3RyaXBDdXN0b21Oc0F0dHJzKG4pLG49bi5uZXh0U2libGluZ319Y29uc3QgU3I9L14oPzooPzpodHRwcz98bWFpbHRvfGZ0cHx0ZWx8ZmlsZXxzbXMpOnxbXiY6Lz8jXSooPzpbLz8jXXwkKSkvZ2kseHI9L15kYXRhOig/OmltYWdlXC8oPzpibXB8Z2lmfGpwZWd8anBnfHBuZ3x0aWZmfHdlYnApfHZpZGVvXC8oPzptcGVnfG1wNHxvZ2d8d2VibSl8YXVkaW9cLyg/Om1wM3xvZ2F8b2dnfG9wdXMpKTtiYXNlNjQsW2EtejAtOStcL10rPSokL2k7ZnVuY3Rpb24gQXIodCl7cmV0dXJuKHQ9U3RyaW5nKHQpKS5tYXRjaChTcil8fHQubWF0Y2goeHIpP3Q6InVuc2FmZToiK3R9ZnVuY3Rpb24gVHIodCl7Y29uc3QgZT17fTtmb3IoY29uc3QgbiBvZiB0LnNwbGl0KCIsIikpZVtuXT0hMDtyZXR1cm4gZX1mdW5jdGlvbiBrciguLi50KXtjb25zdCBlPXt9O2Zvcihjb25zdCBuIG9mIHQpZm9yKGNvbnN0IHQgaW4gbiluLmhhc093blByb3BlcnR5KHQpJiYoZVt0XT0hMCk7cmV0dXJuIGV9Y29uc3QgRnI9VHIoImFyZWEsYnIsY29sLGhyLGltZyx3YnIiKSxJcj1UcigiY29sZ3JvdXAsZGQsZHQsbGkscCx0Ym9keSx0ZCx0Zm9vdCx0aCx0aGVhZCx0ciIpLE9yPVRyKCJycCxydCIpLFByPWtyKE9yLElyKSxScj1rcihGcixrcihJcixUcigiYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGJsb2NrcXVvdGUsY2FwdGlvbixjZW50ZXIsZGVsLGRldGFpbHMsZGlhbG9nLGRpcixkaXYsZGwsZmlndXJlLGZpZ2NhcHRpb24sZm9vdGVyLGgxLGgyLGgzLGg0LGg1LGg2LGhlYWRlcixoZ3JvdXAsaHIsaW5zLG1haW4sbWFwLG1lbnUsbmF2LG9sLHByZSxzZWN0aW9uLHN1bW1hcnksdGFibGUsdWwiKSksa3IoT3IsVHIoImEsYWJicixhY3JvbnltLGF1ZGlvLGIsYmRpLGJkbyxiaWcsYnIsY2l0ZSxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGltZyxpbnMsa2JkLGxhYmVsLG1hcCxtYXJrLHBpY3R1cmUscSxydWJ5LHJwLHJ0LHMsc2FtcCxzbWFsbCxzb3VyY2Usc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdGltZSx0cmFjayx0dCx1LHZhcix2aWRlbyIpKSxQciksTHI9VHIoImJhY2tncm91bmQsY2l0ZSxocmVmLGl0ZW10eXBlLGxvbmdkZXNjLHBvc3RlcixzcmMseGxpbms6aHJlZiIpLEJyPVRyKCJzcmNzZXQiKSxqcj1rcihMcixCcixUcigiYWJicixhY2Nlc3NrZXksYWxpZ24sYWx0LGF1dG9wbGF5LGF4aXMsYmdjb2xvcixib3JkZXIsY2VsbHBhZGRpbmcsY2VsbHNwYWNpbmcsY2xhc3MsY2xlYXIsY29sb3IsY29scyxjb2xzcGFuLGNvbXBhY3QsY29udHJvbHMsY29vcmRzLGRhdGV0aW1lLGRlZmF1bHQsZGlyLGRvd25sb2FkLGZhY2UsaGVhZGVycyxoZWlnaHQsaGlkZGVuLGhyZWZsYW5nLGhzcGFjZSxpc21hcCxpdGVtc2NvcGUsaXRlbXByb3Asa2luZCxsYWJlbCxsYW5nLGxhbmd1YWdlLGxvb3AsbWVkaWEsbXV0ZWQsbm9ocmVmLG5vd3JhcCxvcGVuLHByZWxvYWQscmVsLHJldixyb2xlLHJvd3Mscm93c3BhbixydWxlcyxzY29wZSxzY3JvbGxpbmcsc2hhcGUsc2l6ZSxzaXplcyxzcGFuLHNyY2xhbmcsc3RhcnQsc3VtbWFyeSx0YWJpbmRleCx0YXJnZXQsdGl0bGUsdHJhbnNsYXRlLHR5cGUsdXNlbWFwLHZhbGlnbix2YWx1ZSx2c3BhY2Usd2lkdGgiKSxUcigiYXJpYS1hY3RpdmVkZXNjZW5kYW50LGFyaWEtYXRvbWljLGFyaWEtYXV0b2NvbXBsZXRlLGFyaWEtYnVzeSxhcmlhLWNoZWNrZWQsYXJpYS1jb2xjb3VudCxhcmlhLWNvbGluZGV4LGFyaWEtY29sc3BhbixhcmlhLWNvbnRyb2xzLGFyaWEtY3VycmVudCxhcmlhLWRlc2NyaWJlZGJ5LGFyaWEtZGV0YWlscyxhcmlhLWRpc2FibGVkLGFyaWEtZHJvcGVmZmVjdCxhcmlhLWVycm9ybWVzc2FnZSxhcmlhLWV4cGFuZGVkLGFyaWEtZmxvd3RvLGFyaWEtZ3JhYmJlZCxhcmlhLWhhc3BvcHVwLGFyaWEtaGlkZGVuLGFyaWEtaW52YWxpZCxhcmlhLWtleXNob3J0Y3V0cyxhcmlhLWxhYmVsLGFyaWEtbGFiZWxsZWRieSxhcmlhLWxldmVsLGFyaWEtbGl2ZSxhcmlhLW1vZGFsLGFyaWEtbXVsdGlsaW5lLGFyaWEtbXVsdGlzZWxlY3RhYmxlLGFyaWEtb3JpZW50YXRpb24sYXJpYS1vd25zLGFyaWEtcGxhY2Vob2xkZXIsYXJpYS1wb3NpbnNldCxhcmlhLXByZXNzZWQsYXJpYS1yZWFkb25seSxhcmlhLXJlbGV2YW50LGFyaWEtcmVxdWlyZWQsYXJpYS1yb2xlZGVzY3JpcHRpb24sYXJpYS1yb3djb3VudCxhcmlhLXJvd2luZGV4LGFyaWEtcm93c3BhbixhcmlhLXNlbGVjdGVkLGFyaWEtc2V0c2l6ZSxhcmlhLXNvcnQsYXJpYS12YWx1ZW1heCxhcmlhLXZhbHVlbWluLGFyaWEtdmFsdWVub3csYXJpYS12YWx1ZXRleHQiKSksTXI9VHIoInNjcmlwdCxzdHlsZSx0ZW1wbGF0ZSIpO2NsYXNzIE5ye2NvbnN0cnVjdG9yKCl7dGhpcy5zYW5pdGl6ZWRTb21ldGhpbmc9ITEsdGhpcy5idWY9W119c2FuaXRpemVDaGlsZHJlbih0KXtsZXQgZT10LmZpcnN0Q2hpbGQsbj0hMDtmb3IoO2U7KWlmKGUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERT9uPXRoaXMuc3RhcnRFbGVtZW50KGUpOmUubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERT90aGlzLmNoYXJzKGUubm9kZVZhbHVlKTp0aGlzLnNhbml0aXplZFNvbWV0aGluZz0hMCxuJiZlLmZpcnN0Q2hpbGQpZT1lLmZpcnN0Q2hpbGQ7ZWxzZSBmb3IoO2U7KXtlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJnRoaXMuZW5kRWxlbWVudChlKTtsZXQgdD10aGlzLmNoZWNrQ2xvYmJlcmVkRWxlbWVudChlLGUubmV4dFNpYmxpbmcpO2lmKHQpe2U9dDticmVha31lPXRoaXMuY2hlY2tDbG9iYmVyZWRFbGVtZW50KGUsZS5wYXJlbnROb2RlKX1yZXR1cm4gdGhpcy5idWYuam9pbigiIil9c3RhcnRFbGVtZW50KHQpe2NvbnN0IGU9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKCFSci5oYXNPd25Qcm9wZXJ0eShlKSlyZXR1cm4gdGhpcy5zYW5pdGl6ZWRTb21ldGhpbmc9ITAsIU1yLmhhc093blByb3BlcnR5KGUpO3RoaXMuYnVmLnB1c2goIjwiKSx0aGlzLmJ1Zi5wdXNoKGUpO2NvbnN0IG49dC5hdHRyaWJ1dGVzO2ZvcihsZXQgcz0wO3M8bi5sZW5ndGg7cysrKXtjb25zdCB0PW4uaXRlbShzKSxlPXQubmFtZSxpPWUudG9Mb3dlckNhc2UoKTtpZighanIuaGFzT3duUHJvcGVydHkoaSkpe3RoaXMuc2FuaXRpemVkU29tZXRoaW5nPSEwO2NvbnRpbnVlfWxldCBvPXQudmFsdWU7THJbaV0mJihvPUFyKG8pKSxCcltpXSYmKHI9byxvPShyPVN0cmluZyhyKSkuc3BsaXQoIiwiKS5tYXAodD0+QXIodC50cmltKCkpKS5qb2luKCIsICIpKSx0aGlzLmJ1Zi5wdXNoKCIgIixlLCc9IicsenIobyksJyInKX12YXIgcjtyZXR1cm4gdGhpcy5idWYucHVzaCgiPiIpLCEwfWVuZEVsZW1lbnQodCl7Y29uc3QgZT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7UnIuaGFzT3duUHJvcGVydHkoZSkmJiFGci5oYXNPd25Qcm9wZXJ0eShlKSYmKHRoaXMuYnVmLnB1c2goIjwvIiksdGhpcy5idWYucHVzaChlKSx0aGlzLmJ1Zi5wdXNoKCI+IikpfWNoYXJzKHQpe3RoaXMuYnVmLnB1c2goenIodCkpfWNoZWNrQ2xvYmJlcmVkRWxlbWVudCh0LGUpe2lmKGUmJih0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpJk5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZKT09PU5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZKXRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNhbml0aXplIGh0bWwgYmVjYXVzZSB0aGUgZWxlbWVudCBpcyBjbG9iYmVyZWQ6ICR7dC5vdXRlckhUTUx9YCk7cmV0dXJuIGV9fWNvbnN0IEhyPS9bXHVEODAwLVx1REJGRl1bXHVEQzAwLVx1REZGRl0vZyxWcj0vKFteXCMtfiB8IV0pL2c7ZnVuY3Rpb24genIodCl7cmV0dXJuIHQucmVwbGFjZSgvJi9nLCImYW1wOyIpLnJlcGxhY2UoSHIsZnVuY3Rpb24odCl7cmV0dXJuIiYjIisoMTAyNCoodC5jaGFyQ29kZUF0KDApLTU1Mjk2KSsodC5jaGFyQ29kZUF0KDEpLTU2MzIwKSs2NTUzNikrIjsifSkucmVwbGFjZShWcixmdW5jdGlvbih0KXtyZXR1cm4iJiMiK3QuY2hhckNvZGVBdCgwKSsiOyJ9KS5yZXBsYWNlKC88L2csIiZsdDsiKS5yZXBsYWNlKC8+L2csIiZndDsiKX1sZXQgJHI7ZnVuY3Rpb24gVXIodCl7cmV0dXJuImNvbnRlbnQiaW4gdCYmZnVuY3Rpb24odCl7cmV0dXJuIHQubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmIlRFTVBMQVRFIj09PXQubm9kZU5hbWV9KHQpP3QuY29udGVudDpudWxsfXZhciBXcj1mdW5jdGlvbih0KXtyZXR1cm4gdFt0Lk5PTkU9MF09Ik5PTkUiLHRbdC5IVE1MPTFdPSJIVE1MIix0W3QuU1RZTEU9Ml09IlNUWUxFIix0W3QuU0NSSVBUPTNdPSJTQ1JJUFQiLHRbdC5VUkw9NF09IlVSTCIsdFt0LlJFU09VUkNFX1VSTD01XT0iUkVTT1VSQ0VfVVJMIix0fSh7fSk7ZnVuY3Rpb24gR3IodCl7Y29uc3QgZT1mdW5jdGlvbigpe2NvbnN0IHQ9SWUoKTtyZXR1cm4gdCYmdFsxMl19KCk7cmV0dXJuIGU/Q3IoZS5zYW5pdGl6ZShXci5IVE1MLHQpfHwiIik6ZnVuY3Rpb24odCxlKXtjb25zdCBuPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygd3ImJnQuZ2V0VHlwZU5hbWUoKXx8bnVsbH0odCk7aWYobnVsbCE9biYmbiE9PWUpe2lmKCJSZXNvdXJjZVVSTCI9PT1uJiYiVVJMIj09PWUpcmV0dXJuITA7dGhyb3cgbmV3IEVycm9yKGBSZXF1aXJlZCBhIHNhZmUgJHtlfSwgZ290IGEgJHtufSAoc2VlIGh0dHBzOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpYCl9cmV0dXJuIG49PT1lfSh0LCJIVE1MIik/Q3IoX3IodCkpOmZ1bmN0aW9uKHQsZSl7bGV0IG49bnVsbDt0cnl7JHI9JHJ8fGZ1bmN0aW9uKHQpe2NvbnN0IGU9bmV3IEVyKHQpO3JldHVybiBmdW5jdGlvbigpe3RyeXtyZXR1cm4hIShuZXcgd2luZG93LkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGJyKCIiKSwidGV4dC9odG1sIil9Y2F0Y2godCl7cmV0dXJuITF9fSgpP25ldyBEcihlKTplfSh0KTtsZXQgcj1lP1N0cmluZyhlKToiIjtuPSRyLmdldEluZXJ0Qm9keUVsZW1lbnQocik7bGV0IHM9NSxpPXI7ZG97aWYoMD09PXMpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gc2FuaXRpemUgaHRtbCBiZWNhdXNlIHRoZSBpbnB1dCBpcyB1bnN0YWJsZSIpO3MtLSxyPWksaT1uLmlubmVySFRNTCxuPSRyLmdldEluZXJ0Qm9keUVsZW1lbnQocil9d2hpbGUociE9PWkpO3JldHVybiBicigobmV3IE5yKS5zYW5pdGl6ZUNoaWxkcmVuKFVyKG4pfHxuKSl9ZmluYWxseXtpZihuKXtjb25zdCB0PVVyKG4pfHxuO2Zvcig7dC5maXJzdENoaWxkOyl0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCl9fX0oZ2UoKSxjdCh0KSl9ZnVuY3Rpb24gcXIodCxlKXt0Ll9fbmdDb250ZXh0X189ZX1mdW5jdGlvbiBYcih0KXtjb25zdCBlPWZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fbmdDb250ZXh0X198fG51bGx9KHQpO3JldHVybiBlP0FycmF5LmlzQXJyYXkoZSk/ZTplLmxWaWV3Om51bGx9ZnVuY3Rpb24gWXIodCl7cmV0dXJuIHQubmdEZWJ1Z0NvbnRleHR9ZnVuY3Rpb24gWnIodCl7cmV0dXJuIHQubmdPcmlnaW5hbEVycm9yfWZ1bmN0aW9uIFFyKHQsLi4uZSl7dC5lcnJvciguLi5lKX1jbGFzcyBLcntjb25zdHJ1Y3Rvcigpe3RoaXMuX2NvbnNvbGU9Y29uc29sZX1oYW5kbGVFcnJvcih0KXtjb25zdCBlPXRoaXMuX2ZpbmRPcmlnaW5hbEVycm9yKHQpLG49dGhpcy5fZmluZENvbnRleHQodCkscj1mdW5jdGlvbih0KXtyZXR1cm4gdC5uZ0Vycm9yTG9nZ2VyfHxRcn0odCk7cih0aGlzLl9jb25zb2xlLCJFUlJPUiIsdCksZSYmcih0aGlzLl9jb25zb2xlLCJPUklHSU5BTCBFUlJPUiIsZSksbiYmcih0aGlzLl9jb25zb2xlLCJFUlJPUiBDT05URVhUIixuKX1fZmluZENvbnRleHQodCl7cmV0dXJuIHQ/WXIodCk/WXIodCk6dGhpcy5fZmluZENvbnRleHQoWnIodCkpOm51bGx9X2ZpbmRPcmlnaW5hbEVycm9yKHQpe2xldCBlPVpyKHQpO2Zvcig7ZSYmWnIoZSk7KWU9WnIoZSk7cmV0dXJuIGV9fWNvbnN0IEpyPSgoKT0+KCJ1bmRlZmluZWQiIT10eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lJiZyZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHNldFRpbWVvdXQpLmJpbmQoSXQpKSgpO2Z1bmN0aW9uIHRzKHQpe3JldHVybiB0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd9ZnVuY3Rpb24gZXModCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBGdW5jdGlvbj90KCk6dH12YXIgbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5JbXBvcnRhbnQ9MV09IkltcG9ydGFudCIsdFt0LkRhc2hDYXNlPTJdPSJEYXNoQ2FzZSIsdH0oe30pO2Z1bmN0aW9uIHJzKHQsZSl7cmV0dXJuKHZvaWQgMCkodCxlKX1mdW5jdGlvbiBzcyh0KXtjb25zdCBlPXRbM107cmV0dXJuIGVlKGUpP2VbM106ZX1mdW5jdGlvbiBpcyh0KXtyZXR1cm4gYXModFsxM10pfWZ1bmN0aW9uIG9zKHQpe3JldHVybiBhcyh0WzRdKX1mdW5jdGlvbiBhcyh0KXtmb3IoO251bGwhPT10JiYhZWUodCk7KXQ9dFs0XTtyZXR1cm4gdH1mdW5jdGlvbiBjcyh0LGUsbixyLHMpe2lmKG51bGwhPXIpe2xldCBpLG89ITE7ZWUocik/aT1yOnRlKHIpJiYobz0hMCxyPXJbMF0pO2NvbnN0IGE9dmUocik7MD09PXQmJm51bGwhPT1uP251bGw9PXM/bXMoZSxuLGEpOmdzKGUsbixhLHN8fG51bGwsITApOjE9PT10JiZudWxsIT09bj9ncyhlLG4sYSxzfHxudWxsLCEwKToyPT09dD9mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj12cyh0LGUpO3ImJmZ1bmN0aW9uKHQsZSxuLHIpe21lKHQpP3QucmVtb3ZlQ2hpbGQoZSxuLHIpOmUucmVtb3ZlQ2hpbGQobil9KHQscixlLG4pfShlLGEsbyk6Mz09PXQmJmUuZGVzdHJveU5vZGUoYSksbnVsbCE9aSYmZnVuY3Rpb24odCxlLG4scixzKXtjb25zdCBpPW5bN107aSE9PXZlKG4pJiZjcyhlLHQscixpLHMpO2ZvcihsZXQgbz1KdDtvPG4ubGVuZ3RoO28rKyl7Y29uc3Qgcz1uW29dO3hzKHNbMV0scyx0LGUscixpKX19KGUsdCxpLG4scyl9fWZ1bmN0aW9uIGxzKHQsZSxuKXtyZXR1cm4gbWUodCk/dC5jcmVhdGVFbGVtZW50KGUsbik6bnVsbD09PW4/dC5jcmVhdGVFbGVtZW50KGUpOnQuY3JlYXRlRWxlbWVudE5TKG4sZSl9ZnVuY3Rpb24gdXModCxlKXtjb25zdCBuPXRbOV0scj1uLmluZGV4T2YoZSkscz1lWzNdOzEwMjQmZVsyXSYmKGVbMl0mPS0xMDI1LFRlKHMsLTEpKSxuLnNwbGljZShyLDEpfWZ1bmN0aW9uIGhzKHQsZSl7aWYodC5sZW5ndGg8PUp0KXJldHVybjtjb25zdCBuPUp0K2Uscj10W25dO2lmKHIpe2NvbnN0IGk9clsxN107bnVsbCE9PWkmJmkhPT10JiZ1cyhpLHIpLGU+MCYmKHRbbi0xXVs0XT1yWzRdKTtjb25zdCBvPUpuKHQsSnQrZSk7eHMoclsxXSxzPXIsc1sxMV0sMixudWxsLG51bGwpLHNbMF09bnVsbCxzWzZdPW51bGw7Y29uc3QgYT1vWzE5XTtudWxsIT09YSYmYS5kZXRhY2hWaWV3KG9bMV0pLHJbM109bnVsbCxyWzRdPW51bGwsclsyXSY9LTEyOX12YXIgcztyZXR1cm4gcn1mdW5jdGlvbiBkcyh0LGUpe2lmKCEoMjU2JmVbMl0pKXtjb25zdCBuPWVbMTFdO21lKG4pJiZuLmRlc3Ryb3lOb2RlJiZ4cyh0LGUsbiwzLG51bGwsbnVsbCksZnVuY3Rpb24odCl7bGV0IGU9dFsxM107aWYoIWUpcmV0dXJuIHBzKHRbMV0sdCk7Zm9yKDtlOyl7bGV0IG49bnVsbDtpZih0ZShlKSluPWVbMTNdO2Vsc2V7Y29uc3QgdD1lWzEwXTt0JiYobj10KX1pZighbil7Zm9yKDtlJiYhZVs0XSYmZSE9PXQ7KXRlKGUpJiZwcyhlWzFdLGUpLGU9ZVszXTtudWxsPT09ZSYmKGU9dCksdGUoZSkmJnBzKGVbMV0sZSksbj1lJiZlWzRdfWU9bn19KGUpfX1mdW5jdGlvbiBwcyh0LGUpe2lmKCEoMjU2JmVbMl0pKXtlWzJdJj0tMTI5LGVbMl18PTI1NixmdW5jdGlvbih0LGUpe2xldCBuO2lmKG51bGwhPXQmJm51bGwhPShuPXQuZGVzdHJveUhvb2tzKSlmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrPTIpe2NvbnN0IHQ9ZVtuW3JdXTtpZighKHQgaW5zdGFuY2VvZiBnbikpe2NvbnN0IGU9bltyKzFdO2lmKEFycmF5LmlzQXJyYXkoZSkpZm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKz0yKXtjb25zdCByPXRbZVtuXV0scz1lW24rMV07dHJ5e3MuY2FsbChyKX1maW5hbGx5e319ZWxzZSB0cnl7ZS5jYWxsKHQpfWZpbmFsbHl7fX19fSh0LGUpLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmNsZWFudXAscj1lWzddO2xldCBzPS0xO2lmKG51bGwhPT1uKWZvcihsZXQgaT0wO2k8bi5sZW5ndGgtMTtpKz0yKWlmKCJzdHJpbmciPT10eXBlb2YgbltpXSl7Y29uc3QgdD1uW2krMV0sbz0iZnVuY3Rpb24iPT10eXBlb2YgdD90KGUpOnZlKGVbdF0pLGE9cltzPW5baSsyXV0sYz1uW2krM107ImJvb2xlYW4iPT10eXBlb2YgYz9vLnJlbW92ZUV2ZW50TGlzdGVuZXIobltpXSxhLGMpOmM+PTA/cltzPWNdKCk6cltzPS1jXS51bnN1YnNjcmliZSgpLGkrPTJ9ZWxzZXtjb25zdCB0PXJbcz1uW2krMV1dO25baV0uY2FsbCh0KX1pZihudWxsIT09cil7Zm9yKGxldCB0PXMrMTt0PHIubGVuZ3RoO3QrKykoMCxyW3RdKSgpO2VbN109bnVsbH19KHQsZSksMT09PWVbMV0udHlwZSYmbWUoZVsxMV0pJiZlWzExXS5kZXN0cm95KCk7Y29uc3Qgbj1lWzE3XTtpZihudWxsIT09biYmZWUoZVszXSkpe24hPT1lWzNdJiZ1cyhuLGUpO2NvbnN0IHI9ZVsxOV07bnVsbCE9PXImJnIuZGV0YWNoVmlldyh0KX19fWZ1bmN0aW9uIGZzKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2xldCByPWU7Zm9yKDtudWxsIT09ciYmNDAmci50eXBlOylyPShlPXIpLnBhcmVudDtpZihudWxsPT09cilyZXR1cm4gblswXTtpZigyJnIuZmxhZ3Mpe2NvbnN0IGU9dC5kYXRhW3IuZGlyZWN0aXZlU3RhcnRdLmVuY2Fwc3VsYXRpb247aWYoZT09PXh0Lk5vbmV8fGU9PT14dC5FbXVsYXRlZClyZXR1cm4gbnVsbH1yZXR1cm4gQ2UocixuKX0odCxlLnBhcmVudCxuKX1mdW5jdGlvbiBncyh0LGUsbixyLHMpe21lKHQpP3QuaW5zZXJ0QmVmb3JlKGUsbixyLHMpOmUuaW5zZXJ0QmVmb3JlKG4scixzKX1mdW5jdGlvbiBtcyh0LGUsbil7bWUodCk/dC5hcHBlbmRDaGlsZChlLG4pOmUuYXBwZW5kQ2hpbGQobil9ZnVuY3Rpb24geXModCxlLG4scixzKXtudWxsIT09cj9ncyh0LGUsbixyLHMpOm1zKHQsZSxuKX1mdW5jdGlvbiB2cyh0LGUpe3JldHVybiBtZSh0KT90LnBhcmVudE5vZGUoZSk6ZS5wYXJlbnROb2RlfWZ1bmN0aW9uIGJzKHQsZSxuKXtyZXR1cm4gQ3ModCxlLG4pfWxldCBDcz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIDQwJnQudHlwZT9DZSh0LG4pOm51bGx9O2Z1bmN0aW9uIHdzKHQsZSxuLHIpe2NvbnN0IHM9ZnModCxyLGUpLGk9ZVsxMV0sbz1icyhyLnBhcmVudHx8ZVs2XSxyLGUpO2lmKG51bGwhPXMpaWYoQXJyYXkuaXNBcnJheShuKSlmb3IobGV0IGE9MDthPG4ubGVuZ3RoO2ErKyl5cyhpLHMsblthXSxvLCExKTtlbHNlIHlzKGkscyxuLG8sITEpfWZ1bmN0aW9uIF9zKHQsZSl7aWYobnVsbCE9PWUpe2NvbnN0IG49ZS50eXBlO2lmKDMmbilyZXR1cm4gQ2UoZSx0KTtpZig0Jm4pcmV0dXJuIEVzKC0xLHRbZS5pbmRleF0pO2lmKDgmbil7Y29uc3Qgbj1lLmNoaWxkO2lmKG51bGwhPT1uKXJldHVybiBfcyh0LG4pO3tjb25zdCBuPXRbZS5pbmRleF07cmV0dXJuIGVlKG4pP0VzKC0xLG4pOnZlKG4pfX1pZigzMiZuKXJldHVybiBycyhlLHQpKCl8fHZlKHRbZS5pbmRleF0pO3tjb25zdCBuPURzKHQsZSk7cmV0dXJuIG51bGwhPT1uP0FycmF5LmlzQXJyYXkobik/blswXTpfcyhzcyh0WzE2XSksbik6X3ModCxlLm5leHQpfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBEcyh0LGUpe3JldHVybiBudWxsIT09ZT90WzE2XVs2XS5wcm9qZWN0aW9uW2UucHJvamVjdGlvbl06bnVsbH1mdW5jdGlvbiBFcyh0LGUpe2NvbnN0IG49SnQrdCsxO2lmKG48ZS5sZW5ndGgpe2NvbnN0IHQ9ZVtuXSxyPXRbMV0uZmlyc3RDaGlsZDtpZihudWxsIT09cilyZXR1cm4gX3ModCxyKX1yZXR1cm4gZVs3XX1mdW5jdGlvbiBTcyh0LGUsbixyLHMsaSxvKXtmb3IoO251bGwhPW47KXtjb25zdCBhPXJbbi5pbmRleF0sYz1uLnR5cGU7aWYobyYmMD09PWUmJihhJiZxcih2ZShhKSxyKSxuLmZsYWdzfD00KSw2NCE9KDY0Jm4uZmxhZ3MpKWlmKDgmYylTcyh0LGUsbi5jaGlsZCxyLHMsaSwhMSksY3MoZSx0LHMsYSxpKTtlbHNlIGlmKDMyJmMpe2NvbnN0IG89cnMobixyKTtsZXQgYztmb3IoO2M9bygpOyljcyhlLHQscyxjLGkpO2NzKGUsdCxzLGEsaSl9ZWxzZSAxNiZjP0FzKHQsZSxyLG4scyxpKTpjcyhlLHQscyxhLGkpO249bz9uLnByb2plY3Rpb25OZXh0Om4ubmV4dH19ZnVuY3Rpb24geHModCxlLG4scixzLGkpe1NzKG4scix0LmZpcnN0Q2hpbGQsZSxzLGksITEpfWZ1bmN0aW9uIEFzKHQsZSxuLHIscyxpKXtjb25zdCBvPW5bMTZdLGE9b1s2XS5wcm9qZWN0aW9uW3IucHJvamVjdGlvbl07aWYoQXJyYXkuaXNBcnJheShhKSlmb3IobGV0IGM9MDtjPGEubGVuZ3RoO2MrKyljcyhlLHQscyxhW2NdLGkpO2Vsc2UgU3ModCxlLGEsb1szXSxzLGksITApfWZ1bmN0aW9uIFRzKHQsZSxuKXttZSh0KT90LnNldEF0dHJpYnV0ZShlLCJzdHlsZSIsbik6ZS5zdHlsZS5jc3NUZXh0PW59ZnVuY3Rpb24ga3ModCxlLG4pe21lKHQpPyIiPT09bj90LnJlbW92ZUF0dHJpYnV0ZShlLCJjbGFzcyIpOnQuc2V0QXR0cmlidXRlKGUsImNsYXNzIixuKTplLmNsYXNzTmFtZT1ufWZ1bmN0aW9uIEZzKHQsZSxuKXtsZXQgcj10Lmxlbmd0aDtmb3IoOzspe2NvbnN0IHM9dC5pbmRleE9mKGUsbik7aWYoLTE9PT1zKXJldHVybiBzO2lmKDA9PT1zfHx0LmNoYXJDb2RlQXQocy0xKTw9MzIpe2NvbnN0IG49ZS5sZW5ndGg7aWYocytuPT09cnx8dC5jaGFyQ29kZUF0KHMrbik8PTMyKXJldHVybiBzfW49cysxfX1jb25zdCBJcz0ibmctdGVtcGxhdGUiO2Z1bmN0aW9uIE9zKHQsZSxuKXtsZXQgcj0wO2Zvcig7cjx0Lmxlbmd0aDspe2xldCBzPXRbcisrXTtpZihuJiYiY2xhc3MiPT09cyl7aWYocz10W3JdLC0xIT09RnMocy50b0xvd2VyQ2FzZSgpLGUsMCkpcmV0dXJuITB9ZWxzZSBpZigxPT09cyl7Zm9yKDtyPHQubGVuZ3RoJiYic3RyaW5nIj09dHlwZW9mKHM9dFtyKytdKTspaWYocy50b0xvd2VyQ2FzZSgpPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX19cmV0dXJuITF9ZnVuY3Rpb24gUHModCl7cmV0dXJuIDQ9PT10LnR5cGUmJnQudmFsdWUhPT1Jc31mdW5jdGlvbiBScyh0LGUsbil7cmV0dXJuIGU9PT0oNCE9PXQudHlwZXx8bj90LnZhbHVlOklzKX1mdW5jdGlvbiBMcyh0LGUsbil7bGV0IHI9NDtjb25zdCBzPXQuYXR0cnN8fFtdLGk9ZnVuY3Rpb24odCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYoeW4odFtlXSkpcmV0dXJuIGU7cmV0dXJuIHQubGVuZ3RofShzKTtsZXQgbz0hMTtmb3IobGV0IGE9MDthPGUubGVuZ3RoO2ErKyl7Y29uc3QgYz1lW2FdO2lmKCJudW1iZXIiIT10eXBlb2YgYyl7aWYoIW8paWYoNCZyKXtpZihyPTJ8MSZyLCIiIT09YyYmIVJzKHQsYyxuKXx8IiI9PT1jJiYxPT09ZS5sZW5ndGgpe2lmKEJzKHIpKXJldHVybiExO289ITB9fWVsc2V7Y29uc3QgbD04JnI/YzplWysrYV07aWYoOCZyJiZudWxsIT09dC5hdHRycyl7aWYoIU9zKHQuYXR0cnMsbCxuKSl7aWYoQnMocikpcmV0dXJuITE7bz0hMH1jb250aW51ZX1jb25zdCB1PWpzKDgmcj8iY2xhc3MiOmMscyxQcyh0KSxuKTtpZigtMT09PXUpe2lmKEJzKHIpKXJldHVybiExO289ITA7Y29udGludWV9aWYoIiIhPT1sKXtsZXQgdDt0PXU+aT8iIjpzW3UrMV0udG9Mb3dlckNhc2UoKTtjb25zdCBlPTgmcj90Om51bGw7aWYoZSYmLTEhPT1GcyhlLGwsMCl8fDImciYmbCE9PXQpe2lmKEJzKHIpKXJldHVybiExO289ITB9fX19ZWxzZXtpZighbyYmIUJzKHIpJiYhQnMoYykpcmV0dXJuITE7aWYobyYmQnMoYykpY29udGludWU7bz0hMSxyPWN8MSZyfX1yZXR1cm4gQnMocil8fG99ZnVuY3Rpb24gQnModCl7cmV0dXJuIDA9PSgxJnQpfWZ1bmN0aW9uIGpzKHQsZSxuLHIpe2lmKG51bGw9PT1lKXJldHVybi0xO2xldCBzPTA7aWYocnx8IW4pe2xldCBuPSExO2Zvcig7czxlLmxlbmd0aDspe2NvbnN0IHI9ZVtzXTtpZihyPT09dClyZXR1cm4gcztpZigzPT09cnx8Nj09PXIpbj0hMDtlbHNle2lmKDE9PT1yfHwyPT09cil7bGV0IHQ9ZVsrK3NdO2Zvcig7InN0cmluZyI9PXR5cGVvZiB0Oyl0PWVbKytzXTtjb250aW51ZX1pZig0PT09cilicmVhaztpZigwPT09cil7cys9NDtjb250aW51ZX19cys9bj8xOjJ9cmV0dXJuLTF9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7bGV0IG49dC5pbmRleE9mKDQpO2lmKG4+LTEpZm9yKG4rKztuPHQubGVuZ3RoOyl7Y29uc3Qgcj10W25dO2lmKCJudW1iZXIiPT10eXBlb2YgcilyZXR1cm4tMTtpZihyPT09ZSlyZXR1cm4gbjtuKyt9cmV0dXJuLTF9KGUsdCl9ZnVuY3Rpb24gTXModCxlLG49ITEpe2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKExzKHQsZVtyXSxuKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBOcyh0LGUpe3Q6Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IHI9ZVtuXTtpZih0Lmxlbmd0aD09PXIubGVuZ3RoKXtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpZih0W2VdIT09cltlXSljb250aW51ZSB0O3JldHVybiEwfX1yZXR1cm4hMX1mdW5jdGlvbiBIcyh0LGUpe3JldHVybiB0PyI6bm90KCIrZS50cmltKCkrIikiOmV9ZnVuY3Rpb24gVnModCl7bGV0IGU9dFswXSxuPTEscj0yLHM9IiIsaT0hMTtmb3IoO248dC5sZW5ndGg7KXtsZXQgbz10W25dO2lmKCJzdHJpbmciPT10eXBlb2YgbylpZigyJnIpe2NvbnN0IGU9dFsrK25dO3MrPSJbIitvKyhlLmxlbmd0aD4wPyc9IicrZSsnIic6IiIpKyJdIn1lbHNlIDgmcj9zKz0iLiIrbzo0JnImJihzKz0iICIrbyk7ZWxzZSIiPT09c3x8QnMobyl8fChlKz1IcyhpLHMpLHM9IiIpLHI9byxpPWl8fCFCcyhyKTtuKyt9cmV0dXJuIiIhPT1zJiYoZSs9SHMoaSxzKSksZX1jb25zdCB6cz17fTtmdW5jdGlvbiAkcyh0KXtVcyhPZSgpLEllKCkscm4oKSt0LE5lKCkpfWZ1bmN0aW9uIFVzKHQsZSxuLHIpe2lmKCFyKWlmKDM9PSgzJmVbMl0pKXtjb25zdCByPXQucHJlT3JkZXJDaGVja0hvb2tzO251bGwhPT1yJiZsbihlLHIsbil9ZWxzZXtjb25zdCByPXQucHJlT3JkZXJIb29rcztudWxsIT09ciYmdW4oZSxyLDAsbil9c24obil9ZnVuY3Rpb24gV3ModCxlKXtyZXR1cm4gdDw8MTd8ZTw8Mn1mdW5jdGlvbiBHcyh0KXtyZXR1cm4gdD4+MTcmMzI3Njd9ZnVuY3Rpb24gcXModCl7cmV0dXJuIDJ8dH1mdW5jdGlvbiBYcyh0KXtyZXR1cm4oMTMxMDY4JnQpPj4yfWZ1bmN0aW9uIFlzKHQsZSl7cmV0dXJuLTEzMTA2OSZ0fGU8PDJ9ZnVuY3Rpb24gWnModCl7cmV0dXJuIDF8dH1mdW5jdGlvbiBRcyh0LGUpe2NvbnN0IG49dC5jb250ZW50UXVlcmllcztpZihudWxsIT09bilmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrPTIpe2NvbnN0IHM9bltyXSxpPW5bcisxXTtpZigtMSE9PWkpe2NvbnN0IG49dC5kYXRhW2ldO1hlKHMpLG4uY29udGVudFF1ZXJpZXMoMixlW2ldLGkpfX19ZnVuY3Rpb24gS3ModCxlLG4scixzLGksbyxhLGMsbCl7Y29uc3QgdT1lLmJsdWVwcmludC5zbGljZSgpO3JldHVybiB1WzBdPXMsdVsyXT0xNDB8cixBZSh1KSx1WzNdPXVbMTVdPXQsdVs4XT1uLHVbMTBdPW98fHQmJnRbMTBdLHVbMTFdPWF8fHQmJnRbMTFdLHVbMTJdPWN8fHQmJnRbMTJdfHxudWxsLHVbOV09bHx8dCYmdFs5XXx8bnVsbCx1WzZdPWksdVsxNl09Mj09ZS50eXBlP3RbMTZdOnUsdX1mdW5jdGlvbiBKcyh0LGUsbixyLHMpe2xldCBpPXQuZGF0YVtlXTtpZihudWxsPT09aSlpPWZ1bmN0aW9uKHQsZSxuLHIscyl7Y29uc3QgaT1MZSgpLG89amUoKSxhPXQuZGF0YVtlXT1mdW5jdGlvbih0LGUsbixyLHMsaSl7cmV0dXJue3R5cGU6bixpbmRleDpyLGluc2VydEJlZm9yZUluZGV4Om51bGwsaW5qZWN0b3JJbmRleDplP2UuaW5qZWN0b3JJbmRleDotMSxkaXJlY3RpdmVTdGFydDotMSxkaXJlY3RpdmVFbmQ6LTEsZGlyZWN0aXZlU3R5bGluZ0xhc3Q6LTEscHJvcGVydHlCaW5kaW5nczpudWxsLGZsYWdzOjAscHJvdmlkZXJJbmRleGVzOjAsdmFsdWU6cyxhdHRyczppLG1lcmdlZEF0dHJzOm51bGwsbG9jYWxOYW1lczpudWxsLGluaXRpYWxJbnB1dHM6dm9pZCAwLGlucHV0czpudWxsLG91dHB1dHM6bnVsbCx0Vmlld3M6bnVsbCxuZXh0Om51bGwscHJvamVjdGlvbk5leHQ6bnVsbCxjaGlsZDpudWxsLHBhcmVudDplLHByb2plY3Rpb246bnVsbCxzdHlsZXM6bnVsbCxzdHlsZXNXaXRob3V0SG9zdDpudWxsLHJlc2lkdWFsU3R5bGVzOnZvaWQgMCxjbGFzc2VzOm51bGwsY2xhc3Nlc1dpdGhvdXRIb3N0Om51bGwscmVzaWR1YWxDbGFzc2VzOnZvaWQgMCxjbGFzc0JpbmRpbmdzOjAsc3R5bGVCaW5kaW5nczowfX0oMCxvP2k6aSYmaS5wYXJlbnQsbixlLHIscyk7cmV0dXJuIG51bGw9PT10LmZpcnN0Q2hpbGQmJih0LmZpcnN0Q2hpbGQ9YSksbnVsbCE9PWkmJihvP251bGw9PWkuY2hpbGQmJm51bGwhPT1hLnBhcmVudCYmKGkuY2hpbGQ9YSk6bnVsbD09PWkubmV4dCYmKGkubmV4dD1hKSksYX0odCxlLG4scixzKSxrZS5sRnJhbWUuaW5JMThuJiYoaS5mbGFnc3w9NjQpO2Vsc2UgaWYoNjQmaS50eXBlKXtpLnR5cGU9bixpLnZhbHVlPXIsaS5hdHRycz1zO2NvbnN0IHQ9ZnVuY3Rpb24oKXtjb25zdCB0PWtlLmxGcmFtZSxlPXQuY3VycmVudFROb2RlO3JldHVybiB0LmlzUGFyZW50P2U6ZS5wYXJlbnR9KCk7aS5pbmplY3RvckluZGV4PW51bGw9PT10Py0xOnQuaW5qZWN0b3JJbmRleH1yZXR1cm4gQmUoaSwhMCksaX1mdW5jdGlvbiB0aSh0LGUsbixyKXtpZigwPT09bilyZXR1cm4tMTtjb25zdCBzPWUubGVuZ3RoO2ZvcihsZXQgaT0wO2k8bjtpKyspZS5wdXNoKHIpLHQuYmx1ZXByaW50LnB1c2gociksdC5kYXRhLnB1c2gobnVsbCk7cmV0dXJuIHN9ZnVuY3Rpb24gZWkodCxlLG4pe1FlKGUpO3RyeXtjb25zdCByPXQudmlld1F1ZXJ5O251bGwhPT1yJiZGaSgxLHIsbik7Y29uc3Qgcz10LnRlbXBsYXRlO251bGwhPT1zJiZzaSh0LGUscywxLG4pLHQuZmlyc3RDcmVhdGVQYXNzJiYodC5maXJzdENyZWF0ZVBhc3M9ITEpLHQuc3RhdGljQ29udGVudFF1ZXJpZXMmJlFzKHQsZSksdC5zdGF0aWNWaWV3UXVlcmllcyYmRmkoMix0LnZpZXdRdWVyeSxuKTtjb25zdCBpPXQuY29tcG9uZW50cztudWxsIT09aSYmZnVuY3Rpb24odCxlKXtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKylTaSh0LGVbbl0pfShlLGkpfWNhdGNoKHIpe3Rocm93IHQuZmlyc3RDcmVhdGVQYXNzJiYodC5pbmNvbXBsZXRlRmlyc3RQYXNzPSEwKSxyfWZpbmFsbHl7ZVsyXSY9LTUsbm4oKX19ZnVuY3Rpb24gbmkodCxlLG4scil7Y29uc3Qgcz1lWzJdO2lmKDI1Nj09KDI1NiZzKSlyZXR1cm47UWUoZSk7Y29uc3QgaT1OZSgpO3RyeXtBZShlKSxrZS5sRnJhbWUuYmluZGluZ0luZGV4PXQuYmluZGluZ1N0YXJ0SW5kZXgsbnVsbCE9PW4mJnNpKHQsZSxuLDIscik7Y29uc3Qgbz0zPT0oMyZzKTtpZighaSlpZihvKXtjb25zdCBuPXQucHJlT3JkZXJDaGVja0hvb2tzO251bGwhPT1uJiZsbihlLG4sbnVsbCl9ZWxzZXtjb25zdCBuPXQucHJlT3JkZXJIb29rcztudWxsIT09biYmdW4oZSxuLDAsbnVsbCksaG4oZSwwKX1pZihmdW5jdGlvbih0KXtmb3IobGV0IGU9aXModCk7bnVsbCE9PWU7ZT1vcyhlKSl7aWYoIWVbMl0pY29udGludWU7Y29uc3QgdD1lWzldO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBuPXRbZV0scj1uWzNdOzA9PSgxMDI0Jm5bMl0pJiZUZShyLDEpLG5bMl18PTEwMjR9fX0oZSksZnVuY3Rpb24odCl7Zm9yKGxldCBlPWlzKHQpO251bGwhPT1lO2U9b3MoZSkpZm9yKGxldCB0PUp0O3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBuPWVbdF0scj1uWzFdO1NlKG4pJiZuaShyLG4sci50ZW1wbGF0ZSxuWzhdKX19KGUpLG51bGwhPT10LmNvbnRlbnRRdWVyaWVzJiZRcyh0LGUpLCFpKWlmKG8pe2NvbnN0IG49dC5jb250ZW50Q2hlY2tIb29rcztudWxsIT09biYmbG4oZSxuKX1lbHNle2NvbnN0IG49dC5jb250ZW50SG9va3M7bnVsbCE9PW4mJnVuKGUsbiwxKSxobihlLDEpfSFmdW5jdGlvbih0LGUpe2NvbnN0IG49dC5ob3N0QmluZGluZ09wQ29kZXM7aWYobnVsbCE9PW4pdHJ5e2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKXtjb25zdCByPW5bdF07aWYocjwwKXNuKH5yKTtlbHNle2NvbnN0IHM9cixpPW5bKyt0XSxvPW5bKyt0XTtXZShpLHMpLG8oMixlW3NdKX19fWZpbmFsbHl7c24oLTEpfX0odCxlKTtjb25zdCBhPXQuY29tcG9uZW50cztudWxsIT09YSYmZnVuY3Rpb24odCxlKXtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKylEaSh0LGVbbl0pfShlLGEpO2NvbnN0IGM9dC52aWV3UXVlcnk7aWYobnVsbCE9PWMmJkZpKDIsYyxyKSwhaSlpZihvKXtjb25zdCBuPXQudmlld0NoZWNrSG9va3M7bnVsbCE9PW4mJmxuKGUsbil9ZWxzZXtjb25zdCBuPXQudmlld0hvb2tzO251bGwhPT1uJiZ1bihlLG4sMiksaG4oZSwyKX0hMD09PXQuZmlyc3RVcGRhdGVQYXNzJiYodC5maXJzdFVwZGF0ZVBhc3M9ITEpLGl8fChlWzJdJj0tNzMpLDEwMjQmZVsyXSYmKGVbMl0mPS0xMDI1LFRlKGVbM10sLTEpKX1maW5hbGx5e25uKCl9fWZ1bmN0aW9uIHJpKHQsZSxuLHIpe2NvbnN0IHM9ZVsxMF0saT0hTmUoKSxvPUVlKGUpO3RyeXtpJiYhbyYmcy5iZWdpbiYmcy5iZWdpbigpLG8mJmVpKHQsZSxyKSxuaSh0LGUsbixyKX1maW5hbGx5e2kmJiFvJiZzLmVuZCYmcy5lbmQoKX19ZnVuY3Rpb24gc2kodCxlLG4scixzKXtjb25zdCBpPXJuKCksbz0yJnI7dHJ5e3NuKC0xKSxvJiZlLmxlbmd0aD5LdCYmVXModCxlLEt0LE5lKCkpLG4ocixzKX1maW5hbGx5e3NuKGkpfX1mdW5jdGlvbiBpaSh0LGUsbil7aWYobmUoZSkpe2NvbnN0IHI9ZS5kaXJlY3RpdmVFbmQ7Zm9yKGxldCBzPWUuZGlyZWN0aXZlU3RhcnQ7czxyO3MrKyl7Y29uc3QgZT10LmRhdGFbc107ZS5jb250ZW50UXVlcmllcyYmZS5jb250ZW50UXVlcmllcygxLG5bc10scyl9fX1mdW5jdGlvbiBvaSh0LGUsbil7RmUoKSYmKGZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9bi5kaXJlY3RpdmVTdGFydCxpPW4uZGlyZWN0aXZlRW5kO3QuZmlyc3RDcmVhdGVQYXNzfHxBbihuLGUpLHFyKHIsZSk7Y29uc3Qgbz1uLmluaXRpYWxJbnB1dHM7Zm9yKGxldCBhPXM7YTxpO2ErKyl7Y29uc3Qgcj10LmRhdGFbYV0saT1pZShyKTtpJiZiaShlLG4scik7Y29uc3QgYz1ObihlLHQsYSxuKTtxcihjLGUpLG51bGwhPT1vJiZDaSgwLGEtcyxjLHIsMCxvKSxpJiYoRGUobi5pbmRleCxlKVs4XT1jKX19KHQsZSxuLENlKG4sZSkpLDEyOD09KDEyOCZuLmZsYWdzKSYmZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9bi5kaXJlY3RpdmVTdGFydCxzPW4uZGlyZWN0aXZlRW5kLGk9bi5pbmRleCxvPWtlLmxGcmFtZS5jdXJyZW50RGlyZWN0aXZlSW5kZXg7dHJ5e3NuKGkpO2ZvcihsZXQgbj1yO248cztuKyspe2NvbnN0IHI9dC5kYXRhW25dLHM9ZVtuXTtHZShuKSxudWxsPT09ci5ob3N0QmluZGluZ3MmJjA9PT1yLmhvc3RWYXJzJiZudWxsPT09ci5ob3N0QXR0cnN8fGZpKHIscyl9fWZpbmFsbHl7c24oLTEpLEdlKG8pfX0odCxlLG4pKX1mdW5jdGlvbiBhaSh0LGUsbj1DZSl7Y29uc3Qgcj1lLmxvY2FsTmFtZXM7aWYobnVsbCE9PXIpe2xldCBzPWUuaW5kZXgrMTtmb3IobGV0IGk9MDtpPHIubGVuZ3RoO2krPTIpe2NvbnN0IG89cltpKzFdLGE9LTE9PT1vP24oZSx0KTp0W29dO3RbcysrXT1hfX19ZnVuY3Rpb24gY2kodCl7Y29uc3QgZT10LnRWaWV3O3JldHVybiBudWxsPT09ZXx8ZS5pbmNvbXBsZXRlRmlyc3RQYXNzP3QudFZpZXc9bGkoMSxudWxsLHQudGVtcGxhdGUsdC5kZWNscyx0LnZhcnMsdC5kaXJlY3RpdmVEZWZzLHQucGlwZURlZnMsdC52aWV3UXVlcnksdC5zY2hlbWFzLHQuY29uc3RzKTplfWZ1bmN0aW9uIGxpKHQsZSxuLHIscyxpLG8sYSxjLGwpe2NvbnN0IHU9S3QrcixoPXUrcyxkPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1bXTtmb3IobGV0IHI9MDtyPGU7cisrKW4ucHVzaChyPHQ/bnVsbDp6cyk7cmV0dXJuIG59KHUsaCkscD0iZnVuY3Rpb24iPT10eXBlb2YgbD9sKCk6bDtyZXR1cm4gZFsxXT17dHlwZTp0LGJsdWVwcmludDpkLHRlbXBsYXRlOm4scXVlcmllczpudWxsLHZpZXdRdWVyeTphLGRlY2xUTm9kZTplLGRhdGE6ZC5zbGljZSgpLmZpbGwobnVsbCx1KSxiaW5kaW5nU3RhcnRJbmRleDp1LGV4cGFuZG9TdGFydEluZGV4OmgsaG9zdEJpbmRpbmdPcENvZGVzOm51bGwsZmlyc3RDcmVhdGVQYXNzOiEwLGZpcnN0VXBkYXRlUGFzczohMCxzdGF0aWNWaWV3UXVlcmllczohMSxzdGF0aWNDb250ZW50UXVlcmllczohMSxwcmVPcmRlckhvb2tzOm51bGwscHJlT3JkZXJDaGVja0hvb2tzOm51bGwsY29udGVudEhvb2tzOm51bGwsY29udGVudENoZWNrSG9va3M6bnVsbCx2aWV3SG9va3M6bnVsbCx2aWV3Q2hlY2tIb29rczpudWxsLGRlc3Ryb3lIb29rczpudWxsLGNsZWFudXA6bnVsbCxjb250ZW50UXVlcmllczpudWxsLGNvbXBvbmVudHM6bnVsbCxkaXJlY3RpdmVSZWdpc3RyeToiZnVuY3Rpb24iPT10eXBlb2YgaT9pKCk6aSxwaXBlUmVnaXN0cnk6ImZ1bmN0aW9uIj09dHlwZW9mIG8/bygpOm8sZmlyc3RDaGlsZDpudWxsLHNjaGVtYXM6Yyxjb25zdHM6cCxpbmNvbXBsZXRlRmlyc3RQYXNzOiExfX1mdW5jdGlvbiB1aSh0LGUsbixyKXtjb25zdCBzPU9pKGUpO251bGw9PT1uP3MucHVzaChyKToocy5wdXNoKG4pLHQuZmlyc3RDcmVhdGVQYXNzJiZQaSh0KS5wdXNoKHIscy5sZW5ndGgtMSkpfWZ1bmN0aW9uIGhpKHQsZSxuKXtmb3IobGV0IHIgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHIpKXtjb25zdCBzPXRbcl07KG49bnVsbD09PW4/e306bikuaGFzT3duUHJvcGVydHkocik/bltyXS5wdXNoKGUscyk6bltyXT1bZSxzXX1yZXR1cm4gbn1mdW5jdGlvbiBkaSh0LGUsbixyKXtsZXQgcz0hMTtpZihGZSgpKXtjb25zdCBpPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPXQuZGlyZWN0aXZlUmVnaXN0cnk7bGV0IHM9bnVsbDtpZihyKWZvcihsZXQgaT0wO2k8ci5sZW5ndGg7aSsrKXtjb25zdCBvPXJbaV07TXMobixvLnNlbGVjdG9ycywhMSkmJihzfHwocz1bXSksSW4oQW4obixlKSx0LG8udHlwZSksaWUobyk/KGdpKHQsbikscy51bnNoaWZ0KG8pKTpzLnB1c2gobykpfXJldHVybiBzfSh0LGUsbiksbz1udWxsPT09cj9udWxsOnsiIjotMX07aWYobnVsbCE9PWkpe3M9ITAseWkobix0LmRhdGEubGVuZ3RoLGkubGVuZ3RoKTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKyl7Y29uc3QgZT1pW3RdO2UucHJvdmlkZXJzUmVzb2x2ZXImJmUucHJvdmlkZXJzUmVzb2x2ZXIoZSl9bGV0IHI9ITEsYT0hMSxjPXRpKHQsZSxpLmxlbmd0aCxudWxsKTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoO3MrKyl7Y29uc3QgbD1pW3NdO24ubWVyZ2VkQXR0cnM9Ym4obi5tZXJnZWRBdHRycyxsLmhvc3RBdHRycyksdmkodCxuLGUsYyxsKSxtaShjLGwsbyksbnVsbCE9PWwuY29udGVudFF1ZXJpZXMmJihuLmZsYWdzfD04KSxudWxsPT09bC5ob3N0QmluZGluZ3MmJm51bGw9PT1sLmhvc3RBdHRycyYmMD09PWwuaG9zdFZhcnN8fChuLmZsYWdzfD0xMjgpO2NvbnN0IHU9bC50eXBlLnByb3RvdHlwZTshciYmKHUubmdPbkNoYW5nZXN8fHUubmdPbkluaXR8fHUubmdEb0NoZWNrKSYmKCh0LnByZU9yZGVySG9va3N8fCh0LnByZU9yZGVySG9va3M9W10pKS5wdXNoKG4uaW5kZXgpLHI9ITApLGF8fCF1Lm5nT25DaGFuZ2VzJiYhdS5uZ0RvQ2hlY2t8fCgodC5wcmVPcmRlckNoZWNrSG9va3N8fCh0LnByZU9yZGVyQ2hlY2tIb29rcz1bXSkpLnB1c2gobi5pbmRleCksYT0hMCksYysrfSFmdW5jdGlvbih0LGUpe2NvbnN0IG49ZS5kaXJlY3RpdmVFbmQscj10LmRhdGEscz1lLmF0dHJzLGk9W107bGV0IG89bnVsbCxhPW51bGw7Zm9yKGxldCBjPWUuZGlyZWN0aXZlU3RhcnQ7YzxuO2MrKyl7Y29uc3QgdD1yW2NdLG49dC5pbnB1dHMsbD1udWxsPT09c3x8UHMoZSk/bnVsbDp3aShuLHMpO2kucHVzaChsKSxvPWhpKG4sYyxvKSxhPWhpKHQub3V0cHV0cyxjLGEpfW51bGwhPT1vJiYoby5oYXNPd25Qcm9wZXJ0eSgiY2xhc3MiKSYmKGUuZmxhZ3N8PTE2KSxvLmhhc093blByb3BlcnR5KCJzdHlsZSIpJiYoZS5mbGFnc3w9MzIpKSxlLmluaXRpYWxJbnB1dHM9aSxlLmlucHV0cz1vLGUub3V0cHV0cz1hfSh0LG4pfW8mJmZ1bmN0aW9uKHQsZSxuKXtpZihlKXtjb25zdCByPXQubG9jYWxOYW1lcz1bXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrPTIpe2NvbnN0IHM9bltlW3QrMV1dO2lmKG51bGw9PXMpdGhyb3cgbmV3IGF0KCIzMDEiLGBFeHBvcnQgb2YgbmFtZSAnJHtlW3QrMV19JyBub3QgZm91bmQhYCk7ci5wdXNoKGVbdF0scyl9fX0obixyLG8pfXJldHVybiBuLm1lcmdlZEF0dHJzPWJuKG4ubWVyZ2VkQXR0cnMsbi5hdHRycyksc31mdW5jdGlvbiBwaSh0LGUsbixyLHMsaSl7Y29uc3Qgbz1pLmhvc3RCaW5kaW5ncztpZihvKXtsZXQgbj10Lmhvc3RCaW5kaW5nT3BDb2RlcztudWxsPT09biYmKG49dC5ob3N0QmluZGluZ09wQ29kZXM9W10pO2NvbnN0IGk9fmUuaW5kZXg7KGZ1bmN0aW9uKHQpe2xldCBlPXQubGVuZ3RoO2Zvcig7ZT4wOyl7Y29uc3Qgbj10Wy0tZV07aWYoIm51bWJlciI9PXR5cGVvZiBuJiZuPDApcmV0dXJuIG59cmV0dXJuIDB9KShuKSE9aSYmbi5wdXNoKGkpLG4ucHVzaChyLHMsbyl9fWZ1bmN0aW9uIGZpKHQsZSl7bnVsbCE9PXQuaG9zdEJpbmRpbmdzJiZ0Lmhvc3RCaW5kaW5ncygxLGUpfWZ1bmN0aW9uIGdpKHQsZSl7ZS5mbGFnc3w9MiwodC5jb21wb25lbnRzfHwodC5jb21wb25lbnRzPVtdKSkucHVzaChlLmluZGV4KX1mdW5jdGlvbiBtaSh0LGUsbil7aWYobil7aWYoZS5leHBvcnRBcylmb3IobGV0IHI9MDtyPGUuZXhwb3J0QXMubGVuZ3RoO3IrKyluW2UuZXhwb3J0QXNbcl1dPXQ7aWUoZSkmJihuWyIiXT10KX19ZnVuY3Rpb24geWkodCxlLG4pe3QuZmxhZ3N8PTEsdC5kaXJlY3RpdmVTdGFydD1lLHQuZGlyZWN0aXZlRW5kPWUrbix0LnByb3ZpZGVySW5kZXhlcz1lfWZ1bmN0aW9uIHZpKHQsZSxuLHIscyl7dC5kYXRhW3JdPXM7Y29uc3QgaT1zLmZhY3Rvcnl8fChzLmZhY3Rvcnk9b2Uocy50eXBlKSksbz1uZXcgZ24oaSxpZShzKSxudWxsKTt0LmJsdWVwcmludFtyXT1vLG5bcl09byxwaSh0LGUsMCxyLHRpKHQsbixzLmhvc3RWYXJzLHpzKSxzKX1mdW5jdGlvbiBiaSh0LGUsbil7Y29uc3Qgcj1DZShlLHQpLHM9Y2kobiksaT10WzEwXSxvPXhpKHQsS3ModCxzLG51bGwsbi5vblB1c2g/NjQ6MTYscixlLGksaS5jcmVhdGVSZW5kZXJlcihyLG4pLG51bGwsbnVsbCkpO3RbZS5pbmRleF09b31mdW5jdGlvbiBDaSh0LGUsbixyLHMsaSl7Y29uc3Qgbz1pW2VdO2lmKG51bGwhPT1vKXtjb25zdCB0PXIuc2V0SW5wdXQ7Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDspe2NvbnN0IHM9b1tlKytdLGk9b1tlKytdLGE9b1tlKytdO251bGwhPT10P3Iuc2V0SW5wdXQobixhLHMsaSk6bltpXT1hfX19ZnVuY3Rpb24gd2kodCxlKXtsZXQgbj1udWxsLHI9MDtmb3IoO3I8ZS5sZW5ndGg7KXtjb25zdCBzPWVbcl07aWYoMCE9PXMpaWYoNSE9PXMpe2lmKCJudW1iZXIiPT10eXBlb2YgcylicmVhazt0Lmhhc093blByb3BlcnR5KHMpJiYobnVsbD09PW4mJihuPVtdKSxuLnB1c2gocyx0W3NdLGVbcisxXSkpLHIrPTJ9ZWxzZSByKz0yO2Vsc2Ugcis9NH1yZXR1cm4gbn1mdW5jdGlvbiBfaSh0LGUsbixyKXtyZXR1cm4gbmV3IEFycmF5KHQsITAsITEsZSxudWxsLDAscixuLG51bGwsbnVsbCl9ZnVuY3Rpb24gRGkodCxlKXtjb25zdCBuPURlKGUsdCk7aWYoU2Uobikpe2NvbnN0IHQ9blsxXTs4MCZuWzJdP25pKHQsbix0LnRlbXBsYXRlLG5bOF0pOm5bNV0+MCYmRWkobil9fWZ1bmN0aW9uIEVpKHQpe2ZvcihsZXQgbj1pcyh0KTtudWxsIT09bjtuPW9zKG4pKWZvcihsZXQgdD1KdDt0PG4ubGVuZ3RoO3QrKyl7Y29uc3QgZT1uW3RdO2lmKDEwMjQmZVsyXSl7Y29uc3QgdD1lWzFdO25pKHQsZSx0LnRlbXBsYXRlLGVbOF0pfWVsc2UgZVs1XT4wJiZFaShlKX1jb25zdCBlPXRbMV0uY29tcG9uZW50cztpZihudWxsIT09ZSlmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3Qgcj1EZShlW25dLHQpO1NlKHIpJiZyWzVdPjAmJkVpKHIpfX1mdW5jdGlvbiBTaSh0LGUpe2NvbnN0IG49RGUoZSx0KSxyPW5bMV07IWZ1bmN0aW9uKHQsZSl7Zm9yKGxldCBuPWUubGVuZ3RoO248dC5ibHVlcHJpbnQubGVuZ3RoO24rKyllLnB1c2godC5ibHVlcHJpbnRbbl0pfShyLG4pLGVpKHIsbixuWzhdKX1mdW5jdGlvbiB4aSh0LGUpe3JldHVybiB0WzEzXT90WzE0XVs0XT1lOnRbMTNdPWUsdFsxNF09ZSxlfWZ1bmN0aW9uIEFpKHQpe2Zvcig7dDspe3RbMl18PTY0O2NvbnN0IGU9c3ModCk7aWYoMCE9KDUxMiZ0WzJdKSYmIWUpcmV0dXJuIHQ7dD1lfXJldHVybiBudWxsfWZ1bmN0aW9uIFRpKHQsZSxuKXtjb25zdCByPWVbMTBdO3IuYmVnaW4mJnIuYmVnaW4oKTt0cnl7bmkodCxlLHQudGVtcGxhdGUsbil9Y2F0Y2gocyl7dGhyb3cgUmkoZSxzKSxzfWZpbmFsbHl7ci5lbmQmJnIuZW5kKCl9fWZ1bmN0aW9uIGtpKHQpeyFmdW5jdGlvbih0KXtmb3IobGV0IGU9MDtlPHQuY29tcG9uZW50cy5sZW5ndGg7ZSsrKXtjb25zdCBuPXQuY29tcG9uZW50c1tlXSxyPVhyKG4pLHM9clsxXTtyaShzLHIscy50ZW1wbGF0ZSxuKX19KHRbOF0pfWZ1bmN0aW9uIEZpKHQsZSxuKXtYZSgwKSxlKHQsbil9Y29uc3QgSWk9KCgpPT5Qcm9taXNlLnJlc29sdmUobnVsbCkpKCk7ZnVuY3Rpb24gT2kodCl7cmV0dXJuIHRbN118fCh0WzddPVtdKX1mdW5jdGlvbiBQaSh0KXtyZXR1cm4gdC5jbGVhbnVwfHwodC5jbGVhbnVwPVtdKX1mdW5jdGlvbiBSaSh0LGUpe2NvbnN0IG49dFs5XSxyPW4/bi5nZXQoS3IsbnVsbCk6bnVsbDtyJiZyLmhhbmRsZUVycm9yKGUpfWZ1bmN0aW9uIExpKHQsZSxuLHIscyl7Zm9yKGxldCBpPTA7aTxuLmxlbmd0aDspe2NvbnN0IG89bltpKytdLGE9bltpKytdLGM9ZVtvXSxsPXQuZGF0YVtvXTtudWxsIT09bC5zZXRJbnB1dD9sLnNldElucHV0KGMscyxyLGEpOmNbYV09c319ZnVuY3Rpb24gQmkodCxlLG4pe2xldCByPW4/dC5zdHlsZXM6bnVsbCxzPW4/dC5jbGFzc2VzOm51bGwsaT0wO2lmKG51bGwhPT1lKWZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCB0PWVbb107Im51bWJlciI9PXR5cGVvZiB0P2k9dDoxPT1pP3M9bnQocyx0KToyPT1pJiYocj1udChyLHQrIjogIitlWysrb10rIjsiKSl9bj90LnN0eWxlcz1yOnQuc3R5bGVzV2l0aG91dEhvc3Q9cixuP3QuY2xhc3Nlcz1zOnQuY2xhc3Nlc1dpdGhvdXRIb3N0PXN9Y29uc3Qgamk9bmV3IHFuKCJJTkpFQ1RPUiIsLTEpO2NsYXNzIE1pe2dldCh0LGU9c3Ipe2lmKGU9PT1zcil7Y29uc3QgZT1uZXcgRXJyb3IoYE51bGxJbmplY3RvckVycm9yOiBObyBwcm92aWRlciBmb3IgJHtldCh0KX0hYCk7dGhyb3cgZS5uYW1lPSJOdWxsSW5qZWN0b3JFcnJvciIsZX1yZXR1cm4gZX19Y29uc3QgTmk9bmV3IHFuKCJTZXQgSW5qZWN0b3Igc2NvcGUuIiksSGk9e30sVmk9e307bGV0IHppO2Z1bmN0aW9uICRpKCl7cmV0dXJuIHZvaWQgMD09PXppJiYoemk9bmV3IE1pKSx6aX1mdW5jdGlvbiBVaSh0LGU9bnVsbCxuPW51bGwscil7cmV0dXJuIG5ldyBXaSh0LG4sZXx8JGkoKSxyKX1jbGFzcyBXaXtjb25zdHJ1Y3Rvcih0LGUsbixyPW51bGwpe3RoaXMucGFyZW50PW4sdGhpcy5yZWNvcmRzPW5ldyBNYXAsdGhpcy5pbmplY3RvckRlZlR5cGVzPW5ldyBTZXQsdGhpcy5vbkRlc3Ryb3k9bmV3IFNldCx0aGlzLl9kZXN0cm95ZWQ9ITE7Y29uc3Qgcz1bXTtlJiZRbihlLG49PnRoaXMucHJvY2Vzc1Byb3ZpZGVyKG4sdCxlKSksUW4oW3RdLHQ9PnRoaXMucHJvY2Vzc0luamVjdG9yVHlwZSh0LFtdLHMpKSx0aGlzLnJlY29yZHMuc2V0KGppLFhpKHZvaWQgMCx0aGlzKSk7Y29uc3QgaT10aGlzLnJlY29yZHMuZ2V0KE5pKTt0aGlzLnNjb3BlPW51bGwhPWk/aS52YWx1ZTpudWxsLHRoaXMuc291cmNlPXJ8fCgib2JqZWN0Ij09dHlwZW9mIHQ/bnVsbDpldCh0KSl9Z2V0IGRlc3Ryb3llZCgpe3JldHVybiB0aGlzLl9kZXN0cm95ZWR9ZGVzdHJveSgpe3RoaXMuYXNzZXJ0Tm90RGVzdHJveWVkKCksdGhpcy5fZGVzdHJveWVkPSEwO3RyeXt0aGlzLm9uRGVzdHJveS5mb3JFYWNoKHQ9PnQubmdPbkRlc3Ryb3koKSl9ZmluYWxseXt0aGlzLnJlY29yZHMuY2xlYXIoKSx0aGlzLm9uRGVzdHJveS5jbGVhcigpLHRoaXMuaW5qZWN0b3JEZWZUeXBlcy5jbGVhcigpfX1nZXQodCxlPXNyLG49Q3QuRGVmYXVsdCl7dGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKTtjb25zdCByPWxyKHRoaXMpO3RyeXtpZighKG4mQ3QuU2tpcFNlbGYpKXtsZXQgZT10aGlzLnJlY29yZHMuZ2V0KHQpO2lmKHZvaWQgMD09PWUpe2NvbnN0IG49KCJmdW5jdGlvbiI9PXR5cGVvZihzPXQpfHwib2JqZWN0Ij09dHlwZW9mIHMmJnMgaW5zdGFuY2VvZiBxbikmJnB0KHQpO2U9biYmdGhpcy5pbmplY3RhYmxlRGVmSW5TY29wZShuKT9YaShHaSh0KSxIaSk6bnVsbCx0aGlzLnJlY29yZHMuc2V0KHQsZSl9aWYobnVsbCE9ZSlyZXR1cm4gdGhpcy5oeWRyYXRlKHQsZSl9cmV0dXJuKG4mQ3QuU2VsZj8kaSgpOnRoaXMucGFyZW50KS5nZXQodCxlPW4mQ3QuT3B0aW9uYWwmJmU9PT1zcj9udWxsOmUpfWNhdGNoKGkpe2lmKCJOdWxsSW5qZWN0b3JFcnJvciI9PT1pLm5hbWUpe2lmKChpLm5nVGVtcFRva2VuUGF0aD1pLm5nVGVtcFRva2VuUGF0aHx8W10pLnVuc2hpZnQoZXQodCkpLHIpdGhyb3cgaTtyZXR1cm4gZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz10Lm5nVGVtcFRva2VuUGF0aDt0aHJvdyBlW29yXSYmcy51bnNoaWZ0KGVbb3JdKSx0Lm1lc3NhZ2U9ZnVuY3Rpb24odCxlLG4scj1udWxsKXt0PXQmJiJcbiI9PT10LmNoYXJBdCgwKSYmIlx1MDI3NSI9PXQuY2hhckF0KDEpP3Quc3Vic3RyKDIpOnQ7bGV0IHM9ZXQoZSk7aWYoQXJyYXkuaXNBcnJheShlKSlzPWUubWFwKGV0KS5qb2luKCIgLT4gIik7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIGUpe2xldCB0PVtdO2ZvcihsZXQgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikpe2xldCByPWVbbl07dC5wdXNoKG4rIjoiKygic3RyaW5nIj09dHlwZW9mIHI/SlNPTi5zdHJpbmdpZnkocik6ZXQocikpKX1zPWB7JHt0LmpvaW4oIiwgIil9fWB9cmV0dXJuYCR7bn0ke3I/IigiK3IrIikiOiIifVske3N9XTogJHt0LnJlcGxhY2UoaXIsIlxuICAiKX1gfSgiXG4iK3QubWVzc2FnZSxzLG4sciksdC5uZ1Rva2VuUGF0aD1zLHQubmdUZW1wVG9rZW5QYXRoPW51bGwsdH0oaSx0LCJSM0luamVjdG9yRXJyb3IiLHRoaXMuc291cmNlKX10aHJvdyBpfWZpbmFsbHl7bHIocil9dmFyIHN9X3Jlc29sdmVJbmplY3RvckRlZlR5cGVzKCl7dGhpcy5pbmplY3RvckRlZlR5cGVzLmZvckVhY2godD0+dGhpcy5nZXQodCkpfXRvU3RyaW5nKCl7Y29uc3QgdD1bXTtyZXR1cm4gdGhpcy5yZWNvcmRzLmZvckVhY2goKGUsbik9PnQucHVzaChldChuKSkpLGBSM0luamVjdG9yWyR7dC5qb2luKCIsICIpfV1gfWFzc2VydE5vdERlc3Ryb3llZCgpe2lmKHRoaXMuX2Rlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoIkluamVjdG9yIGhhcyBhbHJlYWR5IGJlZW4gZGVzdHJveWVkLiIpfXByb2Nlc3NJbmplY3RvclR5cGUodCxlLG4pe2lmKCEodD1pdCh0KSkpcmV0dXJuITE7bGV0IHI9Z3QodCk7Y29uc3Qgcz1udWxsPT1yJiZ0Lm5nTW9kdWxlfHx2b2lkIDAsaT12b2lkIDA9PT1zP3Q6cyxvPS0xIT09bi5pbmRleE9mKGkpO2lmKHZvaWQgMCE9PXMmJihyPWd0KHMpKSxudWxsPT1yKXJldHVybiExO2lmKG51bGwhPXIuaW1wb3J0cyYmIW8pe2xldCB0O24ucHVzaChpKTt0cnl7UW4oci5pbXBvcnRzLHI9Pnt0aGlzLnByb2Nlc3NJbmplY3RvclR5cGUocixlLG4pJiYodm9pZCAwPT09dCYmKHQ9W10pLHQucHVzaChyKSl9KX1maW5hbGx5e31pZih2b2lkIDAhPT10KWZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdHtuZ01vZHVsZTpuLHByb3ZpZGVyczpyfT10W2VdO1FuKHIsdD0+dGhpcy5wcm9jZXNzUHJvdmlkZXIodCxuLHJ8fFB0KSl9fXRoaXMuaW5qZWN0b3JEZWZUeXBlcy5hZGQoaSk7Y29uc3QgYT1vZShpKXx8KCgpPT5uZXcgaSk7dGhpcy5yZWNvcmRzLnNldChpLFhpKGEsSGkpKTtjb25zdCBjPXIucHJvdmlkZXJzO2lmKG51bGwhPWMmJiFvKXtjb25zdCBlPXQ7UW4oYyx0PT50aGlzLnByb2Nlc3NQcm92aWRlcih0LGUsYykpfXJldHVybiB2b2lkIDAhPT1zJiZ2b2lkIDAhPT10LnByb3ZpZGVyc31wcm9jZXNzUHJvdmlkZXIodCxlLG4pe2xldCByPVppKHQ9aXQodCkpP3Q6aXQodCYmdC5wcm92aWRlKTtjb25zdCBzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gWWkodCk/WGkodm9pZCAwLHQudXNlVmFsdWUpOlhpKHFpKHQpLEhpKX0odCk7aWYoWmkodCl8fCEwIT09dC5tdWx0aSl0aGlzLnJlY29yZHMuZ2V0KHIpO2Vsc2V7bGV0IGU9dGhpcy5yZWNvcmRzLmdldChyKTtlfHwoZT1YaSh2b2lkIDAsSGksITApLGUuZmFjdG9yeT0oKT0+ZHIoZS5tdWx0aSksdGhpcy5yZWNvcmRzLnNldChyLGUpKSxyPXQsZS5tdWx0aS5wdXNoKHQpfXRoaXMucmVjb3Jkcy5zZXQocixzKX1oeWRyYXRlKHQsZSl7dmFyIG47cmV0dXJuIGUudmFsdWU9PT1IaSYmKGUudmFsdWU9VmksZS52YWx1ZT1lLmZhY3RvcnkoKSksIm9iamVjdCI9PXR5cGVvZiBlLnZhbHVlJiZlLnZhbHVlJiZudWxsIT09KG49ZS52YWx1ZSkmJiJvYmplY3QiPT10eXBlb2YgbiYmImZ1bmN0aW9uIj09dHlwZW9mIG4ubmdPbkRlc3Ryb3kmJnRoaXMub25EZXN0cm95LmFkZChlLnZhbHVlKSxlLnZhbHVlfWluamVjdGFibGVEZWZJblNjb3BlKHQpe2lmKCF0LnByb3ZpZGVkSW4pcmV0dXJuITE7Y29uc3QgZT1pdCh0LnByb3ZpZGVkSW4pO3JldHVybiJzdHJpbmciPT10eXBlb2YgZT8iYW55Ij09PWV8fGU9PT10aGlzLnNjb3BlOnRoaXMuaW5qZWN0b3JEZWZUeXBlcy5oYXMoZSl9fWZ1bmN0aW9uIEdpKHQpe2NvbnN0IGU9cHQodCksbj1udWxsIT09ZT9lLmZhY3Rvcnk6b2UodCk7aWYobnVsbCE9PW4pcmV0dXJuIG47aWYodCBpbnN0YW5jZW9mIHFuKXRocm93IG5ldyBFcnJvcihgVG9rZW4gJHtldCh0KX0gaXMgbWlzc2luZyBhIFx1MDI3NXByb3YgZGVmaW5pdGlvbi5gKTtpZih0IGluc3RhbmNlb2YgRnVuY3Rpb24pcmV0dXJuIGZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5sZW5ndGg7aWYoZT4wKXtjb25zdCBuPXRyKGUsIj8iKTt0aHJvdyBuZXcgRXJyb3IoYENhbid0IHJlc29sdmUgYWxsIHBhcmFtZXRlcnMgZm9yICR7ZXQodCl9OiAoJHtuLmpvaW4oIiwgIil9KS5gKX1jb25zdCBuPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dCYmKHRbbXRdfHx0W3Z0XSk7aWYoZSl7Y29uc3Qgbj1mdW5jdGlvbih0KXtpZih0Lmhhc093blByb3BlcnR5KCJuYW1lIikpcmV0dXJuIHQubmFtZTtjb25zdCBlPSgiIit0KS5tYXRjaCgvXmZ1bmN0aW9uXHMqKFteXHMoXSspLyk7cmV0dXJuIG51bGw9PT1lPyIiOmVbMV19KHQpO3JldHVybiBjb25zb2xlLndhcm4oYERFUFJFQ0FURUQ6IERJIGlzIGluc3RhbnRpYXRpbmcgYSB0b2tlbiAiJHtufSIgdGhhdCBpbmhlcml0cyBpdHMgQEluamVjdGFibGUgZGVjb3JhdG9yIGJ1dCBkb2VzIG5vdCBwcm92aWRlIG9uZSBpdHNlbGYuXG5UaGlzIHdpbGwgYmVjb21lIGFuIGVycm9yIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgQW5ndWxhci4gUGxlYXNlIGFkZCBASW5qZWN0YWJsZSgpIHRvIHRoZSAiJHtufSIgY2xhc3MuYCksZX1yZXR1cm4gbnVsbH0odCk7cmV0dXJuIG51bGwhPT1uPygpPT5uLmZhY3RvcnkodCk6KCk9Pm5ldyB0fSh0KTt0aHJvdyBuZXcgRXJyb3IoInVucmVhY2hhYmxlIil9ZnVuY3Rpb24gcWkodCxlLG4pe2xldCByO2lmKFppKHQpKXtjb25zdCBlPWl0KHQpO3JldHVybiBvZShlKXx8R2koZSl9aWYoWWkodCkpcj0oKT0+aXQodC51c2VWYWx1ZSk7ZWxzZSBpZigocz10KSYmcy51c2VGYWN0b3J5KXI9KCk9PnQudXNlRmFjdG9yeSguLi5kcih0LmRlcHN8fFtdKSk7ZWxzZSBpZihmdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdC51c2VFeGlzdGluZyl9KHQpKXI9KCk9PmhyKGl0KHQudXNlRXhpc3RpbmcpKTtlbHNle2NvbnN0IGU9aXQodCYmKHQudXNlQ2xhc3N8fHQucHJvdmlkZSkpO2lmKCFmdW5jdGlvbih0KXtyZXR1cm4hIXQuZGVwc30odCkpcmV0dXJuIG9lKGUpfHxHaShlKTtyPSgpPT5uZXcgZSguLi5kcih0LmRlcHMpKX12YXIgcztyZXR1cm4gcn1mdW5jdGlvbiBYaSh0LGUsbj0hMSl7cmV0dXJue2ZhY3Rvcnk6dCx2YWx1ZTplLG11bHRpOm4/W106dm9pZCAwfX1mdW5jdGlvbiBZaSh0KXtyZXR1cm4gbnVsbCE9PXQmJiJvYmplY3QiPT10eXBlb2YgdCYmYXIgaW4gdH1mdW5jdGlvbiBaaSh0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdH1jb25zdCBRaT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHQsZT1udWxsLG49bnVsbCxyKXtjb25zdCBzPVVpKHQsZSxuLHIpO3JldHVybiBzLl9yZXNvbHZlSW5qZWN0b3JEZWZUeXBlcygpLHN9KHtuYW1lOm59LGUsdCxuKX07bGV0IEtpPSgoKT0+e2NsYXNzIHR7c3RhdGljIGNyZWF0ZSh0LGUpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP1FpKHQsZSwiIik6UWkodC5wcm92aWRlcnMsdC5wYXJlbnQsdC5uYW1lfHwiIil9fXJldHVybiB0LlRIUk9XX0lGX05PVF9GT1VORD1zcix0Lk5VTEw9bmV3IE1pLHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxwcm92aWRlZEluOiJhbnkiLGZhY3Rvcnk6KCk9PmhyKGppKX0pLHQuX19OR19FTEVNRU5UX0lEX189LTEsdH0pKCk7ZnVuY3Rpb24gSmkodCxlKXtjbihYcih0KVsxXSxSZSgpKX1mdW5jdGlvbiB0byh0KXtsZXQgZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodC50eXBlLnByb3RvdHlwZSkuY29uc3RydWN0b3Isbj0hMDtjb25zdCByPVt0XTtmb3IoO2U7KXtsZXQgcztpZihpZSh0KSlzPWUuXHUwMjc1Y21wfHxlLlx1MDI3NWRpcjtlbHNle2lmKGUuXHUwMjc1Y21wKXRocm93IG5ldyBFcnJvcigiRGlyZWN0aXZlcyBjYW5ub3QgaW5oZXJpdCBDb21wb25lbnRzIik7cz1lLlx1MDI3NWRpcn1pZihzKXtpZihuKXtyLnB1c2gocyk7Y29uc3QgZT10O2UuaW5wdXRzPWVvKHQuaW5wdXRzKSxlLmRlY2xhcmVkSW5wdXRzPWVvKHQuZGVjbGFyZWRJbnB1dHMpLGUub3V0cHV0cz1lbyh0Lm91dHB1dHMpO2NvbnN0IG49cy5ob3N0QmluZGluZ3M7biYmc28odCxuKTtjb25zdCBpPXMudmlld1F1ZXJ5LG89cy5jb250ZW50UXVlcmllcztpZihpJiZubyh0LGkpLG8mJnJvKHQsbyksdHQodC5pbnB1dHMscy5pbnB1dHMpLHR0KHQuZGVjbGFyZWRJbnB1dHMscy5kZWNsYXJlZElucHV0cyksdHQodC5vdXRwdXRzLHMub3V0cHV0cyksaWUocykmJnMuZGF0YS5hbmltYXRpb24pe2NvbnN0IGU9dC5kYXRhO2UuYW5pbWF0aW9uPShlLmFuaW1hdGlvbnx8W10pLmNvbmNhdChzLmRhdGEuYW5pbWF0aW9uKX19Y29uc3QgZT1zLmZlYXR1cmVzO2lmKGUpZm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IHM9ZVtyXTtzJiZzLm5nSW5oZXJpdCYmcyh0KSxzPT09dG8mJihuPSExKX19ZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9IWZ1bmN0aW9uKHQpe2xldCBlPTAsbj1udWxsO2ZvcihsZXQgcj10Lmxlbmd0aC0xO3I+PTA7ci0tKXtjb25zdCBzPXRbcl07cy5ob3N0VmFycz1lKz1zLmhvc3RWYXJzLHMuaG9zdEF0dHJzPWJuKHMuaG9zdEF0dHJzLG49Ym4obixzLmhvc3RBdHRycykpfX0ocil9ZnVuY3Rpb24gZW8odCl7cmV0dXJuIHQ9PT1PdD97fTp0PT09UHQ/W106dH1mdW5jdGlvbiBubyh0LGUpe2NvbnN0IG49dC52aWV3UXVlcnk7dC52aWV3UXVlcnk9bj8odCxyKT0+e2UodCxyKSxuKHQscil9OmV9ZnVuY3Rpb24gcm8odCxlKXtjb25zdCBuPXQuY29udGVudFF1ZXJpZXM7dC5jb250ZW50UXVlcmllcz1uPyh0LHIscyk9PntlKHQscixzKSxuKHQscixzKX06ZX1mdW5jdGlvbiBzbyh0LGUpe2NvbnN0IG49dC5ob3N0QmluZGluZ3M7dC5ob3N0QmluZGluZ3M9bj8odCxyKT0+e2UodCxyKSxuKHQscil9OmV9bGV0IGlvPW51bGw7ZnVuY3Rpb24gb28oKXtpZighaW8pe2NvbnN0IHQ9SXQuU3ltYm9sO2lmKHQmJnQuaXRlcmF0b3IpaW89dC5pdGVyYXRvcjtlbHNle2NvbnN0IHQ9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTWFwLnByb3RvdHlwZSk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDsrK2Upe2NvbnN0IG49dFtlXTsiZW50cmllcyIhPT1uJiYic2l6ZSIhPT1uJiZNYXAucHJvdG90eXBlW25dPT09TWFwLnByb3RvdHlwZS5lbnRyaWVzJiYoaW89bil9fX1yZXR1cm4gaW99Y2xhc3MgYW97Y29uc3RydWN0b3IodCl7dGhpcy53cmFwcGVkPXR9c3RhdGljIHdyYXAodCl7cmV0dXJuIG5ldyBhbyh0KX1zdGF0aWMgdW53cmFwKHQpe3JldHVybiBhby5pc1dyYXBwZWQodCk/dC53cmFwcGVkOnR9c3RhdGljIGlzV3JhcHBlZCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGFvfX1mdW5jdGlvbiBjbyh0KXtyZXR1cm4hIWxvKHQpJiYoQXJyYXkuaXNBcnJheSh0KXx8ISh0IGluc3RhbmNlb2YgTWFwKSYmb28oKWluIHQpfWZ1bmN0aW9uIGxvKHQpe3JldHVybiBudWxsIT09dCYmKCJmdW5jdGlvbiI9PXR5cGVvZiB0fHwib2JqZWN0Ij09dHlwZW9mIHQpfWZ1bmN0aW9uIHVvKHQsZSxuKXtyZXR1cm4gdFtlXT1ufWZ1bmN0aW9uIGhvKHQsZSxuKXtyZXR1cm4hT2JqZWN0LmlzKHRbZV0sbikmJih0W2VdPW4sITApfWZ1bmN0aW9uIHBvKHQsZSxuLHIpe2NvbnN0IHM9aG8odCxlLG4pO3JldHVybiBobyh0LGUrMSxyKXx8c31mdW5jdGlvbiBmbyh0LGUsbixyKXtjb25zdCBzPUllKCk7cmV0dXJuIGhvKHMsJGUoKSxlKSYmKE9lKCksZnVuY3Rpb24odCxlLG4scixzLGkpe2NvbnN0IG89Q2UodCxlKTshZnVuY3Rpb24odCxlLG4scixzLGksbyl7aWYobnVsbD09aSltZSh0KT90LnJlbW92ZUF0dHJpYnV0ZShlLHMsbik6ZS5yZW1vdmVBdHRyaWJ1dGUocyk7ZWxzZXtjb25zdCBhPW51bGw9PW8/Y3QoaSk6byhpLHJ8fCIiLHMpO21lKHQpP3Quc2V0QXR0cmlidXRlKGUscyxhLG4pOm4/ZS5zZXRBdHRyaWJ1dGVOUyhuLHMsYSk6ZS5zZXRBdHRyaWJ1dGUocyxhKX19KGVbMTFdLG8saSx0LnZhbHVlLG4scixzKX0ob24oKSxzLHQsZSxuLHIpKSxmb31mdW5jdGlvbiBnbyh0LGUsbixyKXtyZXR1cm4gaG8odCwkZSgpLG4pP2UrY3Qobikrcjp6c31mdW5jdGlvbiBtbyh0LGUsbixyLHMsaSxvLGEpe2NvbnN0IGM9SWUoKSxsPU9lKCksdT10K0t0LGg9bC5maXJzdENyZWF0ZVBhc3M/ZnVuY3Rpb24odCxlLG4scixzLGksbyxhLGMpe2NvbnN0IGw9ZS5jb25zdHMsdT1KcyhlLHQsNCxvfHxudWxsLHhlKGwsYSkpO2RpKGUsbix1LHhlKGwsYykpLGNuKGUsdSk7Y29uc3QgaD11LnRWaWV3cz1saSgyLHUscixzLGksZS5kaXJlY3RpdmVSZWdpc3RyeSxlLnBpcGVSZWdpc3RyeSxudWxsLGUuc2NoZW1hcyxsKTtyZXR1cm4gbnVsbCE9PWUucXVlcmllcyYmKGUucXVlcmllcy50ZW1wbGF0ZShlLHUpLGgucXVlcmllcz1lLnF1ZXJpZXMuZW1iZWRkZWRUVmlldyh1KSksdX0odSxsLGMsZSxuLHIscyxpLG8pOmwuZGF0YVt1XTtCZShoLCExKTtjb25zdCBkPWNbMTFdLmNyZWF0ZUNvbW1lbnQoIiIpO3dzKGwsYyxkLGgpLHFyKGQsYykseGkoYyxjW3VdPV9pKGQsYyxkLGgpKSxzZShoKSYmb2kobCxjLGgpLG51bGwhPW8mJmFpKGMsaCxhKX1mdW5jdGlvbiB5byh0KXtyZXR1cm4gX2Uoa2UubEZyYW1lLmNvbnRleHRMVmlldyxLdCt0KX1mdW5jdGlvbiB2byh0LGU9Q3QuRGVmYXVsdCl7Y29uc3Qgbj1JZSgpO3JldHVybiBudWxsPT09bj9ocih0LGUpOlJuKFJlKCksbixpdCh0KSxlKX1mdW5jdGlvbiBibyh0LGUsbil7Y29uc3Qgcj1JZSgpO3JldHVybiBobyhyLCRlKCksZSkmJmZ1bmN0aW9uKHQsZSxuLHIscyxpLG8sYSl7Y29uc3QgYz1DZShlLG4pO2xldCBsLHU9ZS5pbnB1dHM7dmFyIGg7bnVsbCE9dSYmKGw9dVtyXSk/KExpKHQsbixsLHIscykscmUoZSkmJmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1EZShlLHQpOzE2Jm5bMl18fChuWzJdfD02NCl9KG4sZS5pbmRleCkpOjMmZS50eXBlJiYocj0iY2xhc3MiPT09KGg9cik/ImNsYXNzTmFtZSI6ImZvciI9PT1oPyJodG1sRm9yIjoiZm9ybWFjdGlvbiI9PT1oPyJmb3JtQWN0aW9uIjoiaW5uZXJIdG1sIj09PWg/ImlubmVySFRNTCI6InJlYWRvbmx5Ij09PWg/InJlYWRPbmx5IjoidGFiaW5kZXgiPT09aD8idGFiSW5kZXgiOmgscz1udWxsIT1vP28ocyxlLnZhbHVlfHwiIixyKTpzLG1lKGkpP2kuc2V0UHJvcGVydHkoYyxyLHMpOnZuKHIpfHwoYy5zZXRQcm9wZXJ0eT9jLnNldFByb3BlcnR5KHIscyk6Y1tyXT1zKSl9KE9lKCksb24oKSxyLHQsZSxyWzExXSxuKSxib31mdW5jdGlvbiBDbyh0LGUsbixyLHMpe2NvbnN0IGk9cz8iY2xhc3MiOiJzdHlsZSI7TGkodCxuLGUuaW5wdXRzW2ldLGkscil9ZnVuY3Rpb24gd28odCxlLG4scil7Y29uc3Qgcz1JZSgpLGk9T2UoKSxvPUt0K3QsYT1zWzExXSxjPXNbb109bHMoYSxlLGtlLmxGcmFtZS5jdXJyZW50TmFtZXNwYWNlKSxsPWkuZmlyc3RDcmVhdGVQYXNzP2Z1bmN0aW9uKHQsZSxuLHIscyxpLG8pe2NvbnN0IGE9ZS5jb25zdHMsYz1KcyhlLHQsMixzLHhlKGEsaSkpO3JldHVybiBkaShlLG4sYyx4ZShhLG8pKSxudWxsIT09Yy5hdHRycyYmQmkoYyxjLmF0dHJzLCExKSxudWxsIT09Yy5tZXJnZWRBdHRycyYmQmkoYyxjLm1lcmdlZEF0dHJzLCEwKSxudWxsIT09ZS5xdWVyaWVzJiZlLnF1ZXJpZXMuZWxlbWVudFN0YXJ0KGUsYyksY30obyxpLHMsMCxlLG4scik6aS5kYXRhW29dO0JlKGwsITApO2NvbnN0IHU9bC5tZXJnZWRBdHRycztudWxsIT09dSYmbW4oYSxjLHUpO2NvbnN0IGg9bC5jbGFzc2VzO251bGwhPT1oJiZrcyhhLGMsaCk7Y29uc3QgZD1sLnN0eWxlcztudWxsIT09ZCYmVHMoYSxjLGQpLDY0IT0oNjQmbC5mbGFncykmJndzKGkscyxjLGwpLDA9PT1rZS5sRnJhbWUuZWxlbWVudERlcHRoQ291bnQmJnFyKGMscyksa2UubEZyYW1lLmVsZW1lbnREZXB0aENvdW50Kyssc2UobCkmJihvaShpLHMsbCksaWkoaSxsLHMpKSxudWxsIT09ciYmYWkocyxsKX1mdW5jdGlvbiBfbygpe2xldCB0PVJlKCk7amUoKT9NZSgpOih0PXQucGFyZW50LEJlKHQsITEpKTtjb25zdCBlPXQ7a2UubEZyYW1lLmVsZW1lbnREZXB0aENvdW50LS07Y29uc3Qgbj1PZSgpO24uZmlyc3RDcmVhdGVQYXNzJiYoY24obix0KSxuZSh0KSYmbi5xdWVyaWVzLmVsZW1lbnRFbmQodCkpLG51bGwhPWUuY2xhc3Nlc1dpdGhvdXRIb3N0JiZmdW5jdGlvbih0KXtyZXR1cm4gMCE9KDE2JnQuZmxhZ3MpfShlKSYmQ28obixlLEllKCksZS5jbGFzc2VzV2l0aG91dEhvc3QsITApLG51bGwhPWUuc3R5bGVzV2l0aG91dEhvc3QmJmZ1bmN0aW9uKHQpe3JldHVybiAwIT0oMzImdC5mbGFncyl9KGUpJiZDbyhuLGUsSWUoKSxlLnN0eWxlc1dpdGhvdXRIb3N0LCExKX1mdW5jdGlvbiBEbyh0LGUsbixyKXt3byh0LGUsbixyKSxfbygpfWZ1bmN0aW9uIEVvKHQsZSxuKXsoZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9SWUoKSxzPU9lKCksaT10K0t0LG89cy5maXJzdENyZWF0ZVBhc3M/ZnVuY3Rpb24odCxlLG4scixzKXtjb25zdCBpPWUuY29uc3RzLG89eGUoaSxyKSxhPUpzKGUsdCw4LCJuZy1jb250YWluZXIiLG8pO3JldHVybiBudWxsIT09byYmQmkoYSxvLCEwKSxkaShlLG4sYSx4ZShpLHMpKSxudWxsIT09ZS5xdWVyaWVzJiZlLnF1ZXJpZXMuZWxlbWVudFN0YXJ0KGUsYSksYX0oaSxzLHIsZSxuKTpzLmRhdGFbaV07QmUobywhMCk7Y29uc3QgYT1yW2ldPXJbMTFdLmNyZWF0ZUNvbW1lbnQoIiIpO3dzKHMscixhLG8pLHFyKGEsciksc2UobykmJihvaShzLHIsbyksaWkocyxvLHIpKSxudWxsIT1uJiZhaShyLG8pfSkodCxlLG4pLGZ1bmN0aW9uKCl7bGV0IHQ9UmUoKTtjb25zdCBlPU9lKCk7amUoKT9NZSgpOih0PXQucGFyZW50LEJlKHQsITEpKSxlLmZpcnN0Q3JlYXRlUGFzcyYmKGNuKGUsdCksbmUodCkmJmUucXVlcmllcy5lbGVtZW50RW5kKHQpKX0oKX1mdW5jdGlvbiBTbygpe3JldHVybiBJZSgpfWZ1bmN0aW9uIHhvKHQpe3JldHVybiEhdCYmImZ1bmN0aW9uIj09dHlwZW9mIHQudGhlbn1mdW5jdGlvbiBBbyh0KXtyZXR1cm4hIXQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LnN1YnNjcmliZX1jb25zdCBUbz1BbztmdW5jdGlvbiBrbyh0LGUsbixyKXtjb25zdCBzPUllKCksaT1PZSgpLG89UmUoKTtyZXR1cm4gZnVuY3Rpb24odCxlLG4scixzLGksbyxhKXtjb25zdCBjPXNlKHIpLGw9dC5maXJzdENyZWF0ZVBhc3MmJlBpKHQpLHU9T2koZSk7bGV0IGg9ITA7aWYoMyZyLnR5cGV8fGEpe2NvbnN0IGQ9Q2UocixlKSxwPWE/YShkKTpkLGY9dS5sZW5ndGgsZz1hP3Q9PmEodmUodFtyLmluZGV4XSkpOnIuaW5kZXg7aWYobWUobikpe2xldCBvPW51bGw7aWYoIWEmJmMmJihvPWZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9dC5jbGVhbnVwO2lmKG51bGwhPXMpZm9yKGxldCBpPTA7aTxzLmxlbmd0aC0xO2krPTIpe2NvbnN0IHQ9c1tpXTtpZih0PT09biYmc1tpKzFdPT09cil7Y29uc3QgdD1lWzddLG49c1tpKzJdO3JldHVybiB0Lmxlbmd0aD5uP3Rbbl06bnVsbH0ic3RyaW5nIj09dHlwZW9mIHQmJihpKz0yKX1yZXR1cm4gbnVsbH0odCxlLHMsci5pbmRleCkpLG51bGwhPT1vKShvLl9fbmdMYXN0TGlzdGVuZXJGbl9ffHxvKS5fX25nTmV4dExpc3RlbmVyRm5fXz1pLG8uX19uZ0xhc3RMaXN0ZW5lckZuX189aSxoPSExO2Vsc2V7aT1JbyhyLGUsMCxpLCExKTtjb25zdCB0PW4ubGlzdGVuKHAscyxpKTt1LnB1c2goaSx0KSxsJiZsLnB1c2gocyxnLGYsZisxKX19ZWxzZSBpPUlvKHIsZSwwLGksITApLHAuYWRkRXZlbnRMaXN0ZW5lcihzLGksbyksdS5wdXNoKGkpLGwmJmwucHVzaChzLGcsZixvKX1lbHNlIGk9SW8ocixlLDAsaSwhMSk7Y29uc3QgZD1yLm91dHB1dHM7bGV0IHA7aWYoaCYmbnVsbCE9PWQmJihwPWRbc10pKXtjb25zdCB0PXAubGVuZ3RoO2lmKHQpZm9yKGxldCBuPTA7bjx0O24rPTIpe2NvbnN0IHQ9ZVtwW25dXVtwW24rMV1dLnN1YnNjcmliZShpKSxvPXUubGVuZ3RoO3UucHVzaChpLHQpLGwmJmwucHVzaChzLHIuaW5kZXgsbywtKG8rMSkpfX19KGkscyxzWzExXSxvLHQsZSwhIW4sciksa299ZnVuY3Rpb24gRm8odCxlLG4scil7dHJ5e3JldHVybiExIT09bihyKX1jYXRjaChzKXtyZXR1cm4gUmkodCxzKSwhMX19ZnVuY3Rpb24gSW8odCxlLG4scixzKXtyZXR1cm4gZnVuY3Rpb24gbihpKXtpZihpPT09RnVuY3Rpb24pcmV0dXJuIHI7Y29uc3Qgbz0yJnQuZmxhZ3M/RGUodC5pbmRleCxlKTplOzA9PSgzMiZlWzJdKSYmQWkobyk7bGV0IGE9Rm8oZSwwLHIsaSksYz1uLl9fbmdOZXh0TGlzdGVuZXJGbl9fO2Zvcig7YzspYT1GbyhlLDAsYyxpKSYmYSxjPWMuX19uZ05leHRMaXN0ZW5lckZuX187cmV0dXJuIHMmJiExPT09YSYmKGkucHJldmVudERlZmF1bHQoKSxpLnJldHVyblZhbHVlPSExKSxhfX1mdW5jdGlvbiBPbyh0PTEpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4oa2UubEZyYW1lLmNvbnRleHRMVmlldz1mdW5jdGlvbih0LGUpe2Zvcig7dD4wOyllPWVbMTVdLHQtLTtyZXR1cm4gZX0odCxrZS5sRnJhbWUuY29udGV4dExWaWV3KSlbOF19KHQpfWZ1bmN0aW9uIFBvKHQsZSl7bGV0IG49bnVsbDtjb25zdCByPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5hdHRycztpZihudWxsIT1lKXtjb25zdCB0PWUuaW5kZXhPZig1KTtpZigwPT0oMSZ0KSlyZXR1cm4gZVt0KzFdfXJldHVybiBudWxsfSh0KTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7Y29uc3QgaT1lW3NdO2lmKCIqIiE9PWkpe2lmKG51bGw9PT1yP01zKHQsaSwhMCk6TnMocixpKSlyZXR1cm4gc31lbHNlIG49c31yZXR1cm4gbn1mdW5jdGlvbiBSbyh0KXtjb25zdCBlPUllKClbMTZdWzZdO2lmKCFlLnByb2plY3Rpb24pe2NvbnN0IG49ZS5wcm9qZWN0aW9uPXRyKHQ/dC5sZW5ndGg6MSxudWxsKSxyPW4uc2xpY2UoKTtsZXQgcz1lLmNoaWxkO2Zvcig7bnVsbCE9PXM7KXtjb25zdCBlPXQ/UG8ocyx0KTowO251bGwhPT1lJiYocltlXT9yW2VdLnByb2plY3Rpb25OZXh0PXM6bltlXT1zLHJbZV09cykscz1zLm5leHR9fX1mdW5jdGlvbiBMbyh0LGU9MCxuKXtjb25zdCByPUllKCkscz1PZSgpLGk9SnMocyxLdCt0LDE2LG51bGwsbnx8bnVsbCk7bnVsbD09PWkucHJvamVjdGlvbiYmKGkucHJvamVjdGlvbj1lKSxNZSgpLDY0IT0oNjQmaS5mbGFncykmJmZ1bmN0aW9uKHQsZSxuKXtBcyhlWzExXSwwLGUsbixmcyh0LG4sZSksYnMobi5wYXJlbnR8fGVbNl0sbixlKSl9KHMscixpKX1mdW5jdGlvbiBCbyh0LGUsbixyLHMpe2NvbnN0IGk9dFtuKzFdLG89bnVsbD09PWU7bGV0IGE9cj9HcyhpKTpYcyhpKSxjPSExO2Zvcig7MCE9PWEmJighMT09PWN8fG8pOyl7Y29uc3Qgbj10W2ErMV07am8odFthXSxlKSYmKGM9ITAsdFthKzFdPXI/WnMobik6cXMobikpLGE9cj9HcyhuKTpYcyhuKX1jJiYodFtuKzFdPXI/cXMoaSk6WnMoaSkpfWZ1bmN0aW9uIGpvKHQsZSl7cmV0dXJuIG51bGw9PT10fHxudWxsPT1lfHwoQXJyYXkuaXNBcnJheSh0KT90WzFdOnQpPT09ZXx8ISghQXJyYXkuaXNBcnJheSh0KXx8InN0cmluZyIhPXR5cGVvZiBlKSYmcnIodCxlKT49MH1jb25zdCBNbz17dGV4dEVuZDowLGtleTowLGtleUVuZDowLHZhbHVlOjAsdmFsdWVFbmQ6MH07ZnVuY3Rpb24gTm8odCl7cmV0dXJuIHQuc3Vic3RyaW5nKE1vLmtleSxNby5rZXlFbmQpfWZ1bmN0aW9uIEhvKHQsZSl7Y29uc3Qgbj1Nby50ZXh0RW5kO3JldHVybiBuPT09ZT8tMTooZT1Nby5rZXlFbmQ9ZnVuY3Rpb24odCxlLG4pe2Zvcig7ZTxuJiZ0LmNoYXJDb2RlQXQoZSk+MzI7KWUrKztyZXR1cm4gZX0odCxNby5rZXk9ZSxuKSxWbyh0LGUsbikpfWZ1bmN0aW9uIFZvKHQsZSxuKXtmb3IoO2U8biYmdC5jaGFyQ29kZUF0KGUpPD0zMjspZSsrO3JldHVybiBlfWZ1bmN0aW9uIHpvKHQsZSxuKXtyZXR1cm4gR28odCxlLG4sITEpLHpvfWZ1bmN0aW9uICRvKHQsZSl7cmV0dXJuIEdvKHQsZSxudWxsLCEwKSwkb31mdW5jdGlvbiBVbyh0KXtxbyhlcixXbyx0LCEwKX1mdW5jdGlvbiBXbyh0LGUpe2ZvcihsZXQgbj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7TW8ua2V5PTAsTW8ua2V5RW5kPTAsTW8udmFsdWU9MCxNby52YWx1ZUVuZD0wLE1vLnRleHRFbmQ9dC5sZW5ndGh9KHQpLEhvKHQsVm8odCwwLE1vLnRleHRFbmQpKX0oZSk7bj49MDtuPUhvKGUsbikpZXIodCxObyhlKSwhMCl9ZnVuY3Rpb24gR28odCxlLG4scil7Y29uc3Qgcz1JZSgpLGk9T2UoKSxvPVVlKDIpO2kuZmlyc3RVcGRhdGVQYXNzJiZZbyhpLHQsbyxyKSxlIT09enMmJmhvKHMsbyxlKSYmS28oaSxpLmRhdGFbcm4oKV0scyxzWzExXSx0LHNbbysxXT1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10fHwoInN0cmluZyI9PXR5cGVvZiBlP3QrPWU6Im9iamVjdCI9PXR5cGVvZiB0JiYodD1ldChfcih0KSkpKSx0fShlLG4pLHIsbyl9ZnVuY3Rpb24gcW8odCxlLG4scil7Y29uc3Qgcz1PZSgpLGk9VWUoMik7cy5maXJzdFVwZGF0ZVBhc3MmJllvKHMsbnVsbCxpLHIpO2NvbnN0IG89SWUoKTtpZihuIT09enMmJmhvKG8saSxuKSl7Y29uc3QgYT1zLmRhdGFbcm4oKV07aWYoZWEoYSxyKSYmIVhvKHMsaSkpe2xldCB0PXI/YS5jbGFzc2VzV2l0aG91dEhvc3Q6YS5zdHlsZXNXaXRob3V0SG9zdDtudWxsIT09dCYmKG49bnQodCxufHwiIikpLENvKHMsYSxvLG4scil9ZWxzZSFmdW5jdGlvbih0LGUsbixyLHMsaSxvLGEpe3M9PT16cyYmKHM9UHQpO2xldCBjPTAsbD0wLHU9MDxzLmxlbmd0aD9zWzBdOm51bGwsaD0wPGkubGVuZ3RoP2lbMF06bnVsbDtmb3IoO251bGwhPT11fHxudWxsIT09aDspe2NvbnN0IGQ9YzxzLmxlbmd0aD9zW2MrMV06dm9pZCAwLHA9bDxpLmxlbmd0aD9pW2wrMV06dm9pZCAwO2xldCBmLGc9bnVsbDt1PT09aD8oYys9MixsKz0yLGQhPT1wJiYoZz1oLGY9cCkpOm51bGw9PT1ofHxudWxsIT09dSYmdTxoPyhjKz0yLGc9dSk6KGwrPTIsZz1oLGY9cCksbnVsbCE9PWcmJktvKHQsZSxuLHIsZyxmLG8sYSksdT1jPHMubGVuZ3RoP3NbY106bnVsbCxoPWw8aS5sZW5ndGg/aVtsXTpudWxsfX0ocyxhLG8sb1sxMV0sb1tpKzFdLG9baSsxXT1mdW5jdGlvbih0LGUsbil7aWYobnVsbD09bnx8IiI9PT1uKXJldHVybiBQdDtjb25zdCByPVtdLHM9X3Iobik7aWYoQXJyYXkuaXNBcnJheShzKSlmb3IobGV0IGk9MDtpPHMubGVuZ3RoO2krKyl0KHIsc1tpXSwhMCk7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIHMpZm9yKGNvbnN0IGkgaW4gcylzLmhhc093blByb3BlcnR5KGkpJiZ0KHIsaSxzW2ldKTtlbHNlInN0cmluZyI9PXR5cGVvZiBzJiZlKHIscyk7cmV0dXJuIHJ9KHQsZSxuKSxyLGkpfX1mdW5jdGlvbiBYbyh0LGUpe3JldHVybiBlPj10LmV4cGFuZG9TdGFydEluZGV4fWZ1bmN0aW9uIFlvKHQsZSxuLHIpe2NvbnN0IHM9dC5kYXRhO2lmKG51bGw9PT1zW24rMV0pe2NvbnN0IGk9c1tybigpXSxvPVhvKHQsbik7ZWEoaSxyKSYmbnVsbD09PWUmJiFvJiYoZT0hMSksZT1mdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPWZ1bmN0aW9uKHQpe2NvbnN0IGU9a2UubEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleDtyZXR1cm4tMT09PWU/bnVsbDp0W2VdfSh0KTtsZXQgaT1yP2UucmVzaWR1YWxDbGFzc2VzOmUucmVzaWR1YWxTdHlsZXM7aWYobnVsbD09PXMpMD09PShyP2UuY2xhc3NCaW5kaW5nczplLnN0eWxlQmluZGluZ3MpJiYobj1RbyhuPVpvKG51bGwsdCxlLG4sciksZS5hdHRycyxyKSxpPW51bGwpO2Vsc2V7Y29uc3Qgbz1lLmRpcmVjdGl2ZVN0eWxpbmdMYXN0O2lmKC0xPT09b3x8dFtvXSE9PXMpaWYobj1abyhzLHQsZSxuLHIpLG51bGw9PT1pKXtsZXQgbj1mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1uP2UuY2xhc3NCaW5kaW5nczplLnN0eWxlQmluZGluZ3M7aWYoMCE9PVhzKHIpKXJldHVybiB0W0dzKHIpXX0odCxlLHIpO3ZvaWQgMCE9PW4mJkFycmF5LmlzQXJyYXkobikmJihuPVpvKG51bGwsdCxlLG5bMV0sciksbj1RbyhuLGUuYXR0cnMsciksZnVuY3Rpb24odCxlLG4scil7dFtHcyhuP2UuY2xhc3NCaW5kaW5nczplLnN0eWxlQmluZGluZ3MpXT1yfSh0LGUscixuKSl9ZWxzZSBpPWZ1bmN0aW9uKHQsZSxuKXtsZXQgcjtjb25zdCBzPWUuZGlyZWN0aXZlRW5kO2ZvcihsZXQgaT0xK2UuZGlyZWN0aXZlU3R5bGluZ0xhc3Q7aTxzO2krKylyPVFvKHIsdFtpXS5ob3N0QXR0cnMsbik7cmV0dXJuIFFvKHIsZS5hdHRycyxuKX0odCxlLHIpfXJldHVybiB2b2lkIDAhPT1pJiYocj9lLnJlc2lkdWFsQ2xhc3Nlcz1pOmUucmVzaWR1YWxTdHlsZXM9aSksbn0ocyxpLGUsciksZnVuY3Rpb24odCxlLG4scixzLGkpe2xldCBvPWk/ZS5jbGFzc0JpbmRpbmdzOmUuc3R5bGVCaW5kaW5ncyxhPUdzKG8pLGM9WHMobyk7dFtyXT1uO2xldCBsLHU9ITE7aWYoQXJyYXkuaXNBcnJheShuKSl7Y29uc3QgdD1uO2w9dFsxXSwobnVsbD09PWx8fHJyKHQsbCk+MCkmJih1PSEwKX1lbHNlIGw9bjtpZihzKWlmKDAhPT1jKXtjb25zdCBlPUdzKHRbYSsxXSk7dFtyKzFdPVdzKGUsYSksMCE9PWUmJih0W2UrMV09WXModFtlKzFdLHIpKSx0W2ErMV09MTMxMDcxJnRbYSsxXXxyPDwxN31lbHNlIHRbcisxXT1XcyhhLDApLDAhPT1hJiYodFthKzFdPVlzKHRbYSsxXSxyKSksYT1yO2Vsc2UgdFtyKzFdPVdzKGMsMCksMD09PWE/YT1yOnRbYysxXT1Zcyh0W2MrMV0sciksYz1yO3UmJih0W3IrMV09cXModFtyKzFdKSksQm8odCxsLHIsITApLEJvKHQsbCxyLCExKSxmdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9cz90LnJlc2lkdWFsQ2xhc3Nlczp0LnJlc2lkdWFsU3R5bGVzO251bGwhPWkmJiJzdHJpbmciPT10eXBlb2YgZSYmcnIoaSxlKT49MCYmKG5bcisxXT1acyhuW3IrMV0pKX0oZSxsLHQscixpKSxvPVdzKGEsYyksaT9lLmNsYXNzQmluZGluZ3M9bzplLnN0eWxlQmluZGluZ3M9b30ocyxpLGUsbixvLHIpfX1mdW5jdGlvbiBabyh0LGUsbixyLHMpe2xldCBpPW51bGw7Y29uc3Qgbz1uLmRpcmVjdGl2ZUVuZDtsZXQgYT1uLmRpcmVjdGl2ZVN0eWxpbmdMYXN0O2ZvcigtMT09PWE/YT1uLmRpcmVjdGl2ZVN0YXJ0OmErKzthPG8mJihpPWVbYV0scj1RbyhyLGkuaG9zdEF0dHJzLHMpLGkhPT10KTspYSsrO3JldHVybiBudWxsIT09dCYmKG4uZGlyZWN0aXZlU3R5bGluZ0xhc3Q9YSkscn1mdW5jdGlvbiBRbyh0LGUsbil7Y29uc3Qgcj1uPzE6MjtsZXQgcz0tMTtpZihudWxsIT09ZSlmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbz1lW2ldOyJudW1iZXIiPT10eXBlb2Ygbz9zPW86cz09PXImJihBcnJheS5pc0FycmF5KHQpfHwodD12b2lkIDA9PT10P1tdOlsiIix0XSksZXIodCxvLCEhbnx8ZVsrK2ldKSl9cmV0dXJuIHZvaWQgMD09PXQ/bnVsbDp0fWZ1bmN0aW9uIEtvKHQsZSxuLHIscyxpLG8sYSl7aWYoISgzJmUudHlwZSkpcmV0dXJuO2NvbnN0IGM9dC5kYXRhLGw9Y1thKzFdO3RhKDE9PSgxJmwpP0pvKGMsZSxuLHMsWHMobCksbyk6dm9pZCAwKXx8KHRhKGkpfHwyPT0oMiZsKSYmKGk9Sm8oYyxudWxsLG4scyxhLG8pKSxmdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9bWUodCk7aWYoZSlzP2k/dC5hZGRDbGFzcyhuLHIpOm4uY2xhc3NMaXN0LmFkZChyKTppP3QucmVtb3ZlQ2xhc3MobixyKTpuLmNsYXNzTGlzdC5yZW1vdmUocik7ZWxzZXtsZXQgZT0tMT09PXIuaW5kZXhPZigiLSIpP3ZvaWQgMDpucy5EYXNoQ2FzZTtpZihudWxsPT1zKWk/dC5yZW1vdmVTdHlsZShuLHIsZSk6bi5zdHlsZS5yZW1vdmVQcm9wZXJ0eShyKTtlbHNle2NvbnN0IG89InN0cmluZyI9PXR5cGVvZiBzJiZzLmVuZHNXaXRoKCIhaW1wb3J0YW50Iik7byYmKHM9cy5zbGljZSgwLC0xMCksZXw9bnMuSW1wb3J0YW50KSxpP3Quc2V0U3R5bGUobixyLHMsZSk6bi5zdHlsZS5zZXRQcm9wZXJ0eShyLHMsbz8iaW1wb3J0YW50IjoiIil9fX0ocixvLGJlKHJuKCksbikscyxpKSl9ZnVuY3Rpb24gSm8odCxlLG4scixzLGkpe2NvbnN0IG89bnVsbD09PWU7bGV0IGE7Zm9yKDtzPjA7KXtjb25zdCBlPXRbc10saT1BcnJheS5pc0FycmF5KGUpLGM9aT9lWzFdOmUsbD1udWxsPT09YztsZXQgdT1uW3MrMV07dT09PXpzJiYodT1sP1B0OnZvaWQgMCk7bGV0IGg9bD9ucih1LHIpOmM9PT1yP3U6dm9pZCAwO2lmKGkmJiF0YShoKSYmKGg9bnIoZSxyKSksdGEoaCkmJihhPWgsbykpcmV0dXJuIGE7Y29uc3QgZD10W3MrMV07cz1vP0dzKGQpOlhzKGQpfWlmKG51bGwhPT1lKXtsZXQgdD1pP2UucmVzaWR1YWxDbGFzc2VzOmUucmVzaWR1YWxTdHlsZXM7bnVsbCE9dCYmKGE9bnIodCxyKSl9cmV0dXJuIGF9ZnVuY3Rpb24gdGEodCl7cmV0dXJuIHZvaWQgMCE9PXR9ZnVuY3Rpb24gZWEodCxlKXtyZXR1cm4gMCE9KHQuZmxhZ3MmKGU/MTY6MzIpKX1mdW5jdGlvbiBuYSh0LGU9IiIpe2NvbnN0IG49SWUoKSxyPU9lKCkscz10K0t0LGk9ci5maXJzdENyZWF0ZVBhc3M/SnMocixzLDEsZSxudWxsKTpyLmRhdGFbc10sbz1uW3NdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG1lKHQpP3QuY3JlYXRlVGV4dChlKTp0LmNyZWF0ZVRleHROb2RlKGUpfShuWzExXSxlKTt3cyhyLG4sbyxpKSxCZShpLCExKX1mdW5jdGlvbiByYSh0KXtyZXR1cm4gc2EoIiIsdCwiIikscmF9ZnVuY3Rpb24gc2EodCxlLG4pe2NvbnN0IHI9SWUoKSxzPWdvKHIsdCxlLG4pO3JldHVybiBzIT09enMmJmZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPWJlKGUsdCk7IWZ1bmN0aW9uKHQsZSxuKXttZSh0KT90LnNldFZhbHVlKGUsbik6ZS50ZXh0Q29udGVudD1ufSh0WzExXSxyLG4pfShyLHJuKCkscyksc2F9ZnVuY3Rpb24gaWEodCxlLG4pe3FvKGVyLFdvLGdvKEllKCksdCxlLG4pLCEwKX1jb25zdCBvYT12b2lkIDA7dmFyIGFhPVsiZW4iLFtbImEiLCJwIl0sWyJBTSIsIlBNIl0sb2FdLFtbIkFNIiwiUE0iXSxvYSxvYV0sW1siUyIsIk0iLCJUIiwiVyIsIlQiLCJGIiwiUyJdLFsiU3VuIiwiTW9uIiwiVHVlIiwiV2VkIiwiVGh1IiwiRnJpIiwiU2F0Il0sWyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLFsiU3UiLCJNbyIsIlR1IiwiV2UiLCJUaCIsIkZyIiwiU2EiXV0sb2EsW1siSiIsIkYiLCJNIiwiQSIsIk0iLCJKIiwiSiIsIkEiLCJTIiwiTyIsIk4iLCJEIl0sWyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXSxbIkphbnVhcnkiLCJGZWJydWFyeSIsIk1hcmNoIiwiQXByaWwiLCJNYXkiLCJKdW5lIiwiSnVseSIsIkF1Z3VzdCIsIlNlcHRlbWJlciIsIk9jdG9iZXIiLCJOb3ZlbWJlciIsIkRlY2VtYmVyIl1dLG9hLFtbIkIiLCJBIl0sWyJCQyIsIkFEIl0sWyJCZWZvcmUgQ2hyaXN0IiwiQW5ubyBEb21pbmkiXV0sMCxbNiwwXSxbIk0vZC95eSIsIk1NTSBkLCB5IiwiTU1NTSBkLCB5IiwiRUVFRSwgTU1NTSBkLCB5Il0sWyJoOm1tIGEiLCJoOm1tOnNzIGEiLCJoOm1tOnNzIGEgeiIsImg6bW06c3MgYSB6enp6Il0sWyJ7MX0sIHswfSIsb2EsInsxfSAnYXQnIHswfSIsb2FdLFsiLiIsIiwiLCI7IiwiJSIsIisiLCItIiwiRSIsIlx4ZDciLCJcdTIwMzAiLCJcdTIyMWUiLCJOYU4iLCI6Il0sWyIjLCMjMC4jIyMiLCIjLCMjMCUiLCJceGE0IywjIzAuMDAiLCIjRTAiXSwiVVNEIiwiJCIsIlVTIERvbGxhciIse30sImx0ciIsZnVuY3Rpb24odCl7bGV0IGU9TWF0aC5mbG9vcihNYXRoLmFicyh0KSksbj10LnRvU3RyaW5nKCkucmVwbGFjZSgvXlteLl0qXC4/LywiIikubGVuZ3RoO3JldHVybiAxPT09ZSYmMD09PW4/MTo1fV07bGV0IGNhPXt9O2Z1bmN0aW9uIGxhKHQpe2NvbnN0IGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csIi0iKX0odCk7bGV0IG49dWEoZSk7aWYobilyZXR1cm4gbjtjb25zdCByPWUuc3BsaXQoIi0iKVswXTtpZihuPXVhKHIpLG4pcmV0dXJuIG47aWYoImVuIj09PXIpcmV0dXJuIGFhO3Rocm93IG5ldyBFcnJvcihgTWlzc2luZyBsb2NhbGUgZGF0YSBmb3IgdGhlIGxvY2FsZSAiJHt0fSIuYCl9ZnVuY3Rpb24gdWEodCl7cmV0dXJuIHQgaW4gY2F8fChjYVt0XT1JdC5uZyYmSXQubmcuY29tbW9uJiZJdC5uZy5jb21tb24ubG9jYWxlcyYmSXQubmcuY29tbW9uLmxvY2FsZXNbdF0pLGNhW3RdfXZhciBoYT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkxvY2FsZUlkPTBdPSJMb2NhbGVJZCIsdFt0LkRheVBlcmlvZHNGb3JtYXQ9MV09IkRheVBlcmlvZHNGb3JtYXQiLHRbdC5EYXlQZXJpb2RzU3RhbmRhbG9uZT0yXT0iRGF5UGVyaW9kc1N0YW5kYWxvbmUiLHRbdC5EYXlzRm9ybWF0PTNdPSJEYXlzRm9ybWF0Iix0W3QuRGF5c1N0YW5kYWxvbmU9NF09IkRheXNTdGFuZGFsb25lIix0W3QuTW9udGhzRm9ybWF0PTVdPSJNb250aHNGb3JtYXQiLHRbdC5Nb250aHNTdGFuZGFsb25lPTZdPSJNb250aHNTdGFuZGFsb25lIix0W3QuRXJhcz03XT0iRXJhcyIsdFt0LkZpcnN0RGF5T2ZXZWVrPThdPSJGaXJzdERheU9mV2VlayIsdFt0LldlZWtlbmRSYW5nZT05XT0iV2Vla2VuZFJhbmdlIix0W3QuRGF0ZUZvcm1hdD0xMF09IkRhdGVGb3JtYXQiLHRbdC5UaW1lRm9ybWF0PTExXT0iVGltZUZvcm1hdCIsdFt0LkRhdGVUaW1lRm9ybWF0PTEyXT0iRGF0ZVRpbWVGb3JtYXQiLHRbdC5OdW1iZXJTeW1ib2xzPTEzXT0iTnVtYmVyU3ltYm9scyIsdFt0Lk51bWJlckZvcm1hdHM9MTRdPSJOdW1iZXJGb3JtYXRzIix0W3QuQ3VycmVuY3lDb2RlPTE1XT0iQ3VycmVuY3lDb2RlIix0W3QuQ3VycmVuY3lTeW1ib2w9MTZdPSJDdXJyZW5jeVN5bWJvbCIsdFt0LkN1cnJlbmN5TmFtZT0xN109IkN1cnJlbmN5TmFtZSIsdFt0LkN1cnJlbmNpZXM9MThdPSJDdXJyZW5jaWVzIix0W3QuRGlyZWN0aW9uYWxpdHk9MTldPSJEaXJlY3Rpb25hbGl0eSIsdFt0LlBsdXJhbENhc2U9MjBdPSJQbHVyYWxDYXNlIix0W3QuRXh0cmFEYXRhPTIxXT0iRXh0cmFEYXRhIix0fSh7fSk7Y29uc3QgZGE9ImVuLVVTIjtsZXQgcGE9ZGE7ZnVuY3Rpb24gZmEodCl7dmFyIGUsbjtuPSJFeHBlY3RlZCBsb2NhbGVJZCB0byBiZSBkZWZpbmVkIixudWxsPT0oZT10KSYmZnVuY3Rpb24odCxlLG4scil7dGhyb3cgbmV3IEVycm9yKGBBU1NFUlRJT04gRVJST1I6ICR7dH0gW0V4cGVjdGVkPT4gbnVsbCAhPSAke2V9IDw9QWN0dWFsXWApfShuLGUpLCJzdHJpbmciPT10eXBlb2YgdCYmKHBhPXQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csIi0iKSl9ZnVuY3Rpb24gZ2EodCxlLG4scixzKXtpZih0PWl0KHQpLEFycmF5LmlzQXJyYXkodCkpZm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspZ2EodFtpXSxlLG4scixzKTtlbHNle2NvbnN0IGk9T2UoKSxvPUllKCk7bGV0IGE9WmkodCk/dDppdCh0LnByb3ZpZGUpLGM9cWkodCk7Y29uc3QgbD1SZSgpLHU9MTA0ODU3NSZsLnByb3ZpZGVySW5kZXhlcyxoPWwuZGlyZWN0aXZlU3RhcnQsZD1sLnByb3ZpZGVySW5kZXhlcz4+MjA7aWYoWmkodCl8fCF0Lm11bHRpKXtjb25zdCByPW5ldyBnbihjLHMsdm8pLHA9dmEoYSxlLHM/dTp1K2QsaCk7LTE9PT1wPyhJbihBbihsLG8pLGksYSksbWEoaSx0LGUubGVuZ3RoKSxlLnB1c2goYSksbC5kaXJlY3RpdmVTdGFydCsrLGwuZGlyZWN0aXZlRW5kKysscyYmKGwucHJvdmlkZXJJbmRleGVzKz0xMDQ4NTc2KSxuLnB1c2gociksby5wdXNoKHIpKToobltwXT1yLG9bcF09cil9ZWxzZXtjb25zdCBwPXZhKGEsZSx1K2QsaCksZj12YShhLGUsdSx1K2QpLGc9cD49MCYmbltwXSxtPWY+PTAmJm5bZl07aWYocyYmIW18fCFzJiYhZyl7SW4oQW4obCxvKSxpLGEpO2NvbnN0IHU9ZnVuY3Rpb24odCxlLG4scixzKXtjb25zdCBpPW5ldyBnbih0LG4sdm8pO3JldHVybiBpLm11bHRpPVtdLGkuaW5kZXg9ZSxpLmNvbXBvbmVudFByb3ZpZGVycz0wLHlhKGkscyxyJiYhbiksaX0ocz9DYTpiYSxuLmxlbmd0aCxzLHIsYyk7IXMmJm0mJihuW2ZdLnByb3ZpZGVyRmFjdG9yeT11KSxtYShpLHQsZS5sZW5ndGgsMCksZS5wdXNoKGEpLGwuZGlyZWN0aXZlU3RhcnQrKyxsLmRpcmVjdGl2ZUVuZCsrLHMmJihsLnByb3ZpZGVySW5kZXhlcys9MTA0ODU3Niksbi5wdXNoKHUpLG8ucHVzaCh1KX1lbHNlIG1hKGksdCxwPi0xP3A6Zix5YShuW3M/ZjpwXSxjLCFzJiZyKSk7IXMmJnImJm0mJm5bZl0uY29tcG9uZW50UHJvdmlkZXJzKyt9fX1mdW5jdGlvbiBtYSh0LGUsbixyKXtjb25zdCBzPVppKGUpO2lmKHN8fGUudXNlQ2xhc3Mpe2NvbnN0IGk9KGUudXNlQ2xhc3N8fGUpLnByb3RvdHlwZS5uZ09uRGVzdHJveTtpZihpKXtjb25zdCBvPXQuZGVzdHJveUhvb2tzfHwodC5kZXN0cm95SG9va3M9W10pO2lmKCFzJiZlLm11bHRpKXtjb25zdCB0PW8uaW5kZXhPZihuKTstMT09PXQ/by5wdXNoKG4sW3IsaV0pOm9bdCsxXS5wdXNoKHIsaSl9ZWxzZSBvLnB1c2gobixpKX19fWZ1bmN0aW9uIHlhKHQsZSxuKXtyZXR1cm4gbiYmdC5jb21wb25lbnRQcm92aWRlcnMrKyx0Lm11bHRpLnB1c2goZSktMX1mdW5jdGlvbiB2YSh0LGUsbixyKXtmb3IobGV0IHM9bjtzPHI7cysrKWlmKGVbc109PT10KXJldHVybiBzO3JldHVybi0xfWZ1bmN0aW9uIGJhKHQsZSxuLHIpe3JldHVybiB3YSh0aGlzLm11bHRpLFtdKX1mdW5jdGlvbiBDYSh0LGUsbixyKXtjb25zdCBzPXRoaXMubXVsdGk7bGV0IGk7aWYodGhpcy5wcm92aWRlckZhY3Rvcnkpe2NvbnN0IHQ9dGhpcy5wcm92aWRlckZhY3RvcnkuY29tcG9uZW50UHJvdmlkZXJzLGU9Tm4obixuWzFdLHRoaXMucHJvdmlkZXJGYWN0b3J5LmluZGV4LHIpO2k9ZS5zbGljZSgwLHQpLHdhKHMsaSk7Zm9yKGxldCBuPXQ7bjxlLmxlbmd0aDtuKyspaS5wdXNoKGVbbl0pfWVsc2UgaT1bXSx3YShzLGkpO3JldHVybiBpfWZ1bmN0aW9uIHdhKHQsZSl7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZS5wdXNoKCgwLHRbbl0pKCkpO3JldHVybiBlfWZ1bmN0aW9uIF9hKHQsZT1bXSl7cmV0dXJuIG49PntuLnByb3ZpZGVyc1Jlc29sdmVyPShuLHIpPT5mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1PZSgpO2lmKHIuZmlyc3RDcmVhdGVQYXNzKXtjb25zdCBzPWllKHQpO2dhKG4sci5kYXRhLHIuYmx1ZXByaW50LHMsITApLGdhKGUsci5kYXRhLHIuYmx1ZXByaW50LHMsITEpfX0obixyP3IodCk6dCxlKX19Y2xhc3MgRGF7fWNsYXNzIEVhe3Jlc29sdmVDb21wb25lbnRGYWN0b3J5KHQpe3Rocm93IGZ1bmN0aW9uKHQpe2NvbnN0IGU9RXJyb3IoYE5vIGNvbXBvbmVudCBmYWN0b3J5IGZvdW5kIGZvciAke2V0KHQpfS4gRGlkIHlvdSBhZGQgaXQgdG8gQE5nTW9kdWxlLmVudHJ5Q29tcG9uZW50cz9gKTtyZXR1cm4gZS5uZ0NvbXBvbmVudD10LGV9KHQpfX1sZXQgU2E9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuTlVMTD1uZXcgRWEsdH0pKCk7ZnVuY3Rpb24geGEoLi4udCl7fWZ1bmN0aW9uIEFhKHQsZSl7cmV0dXJuIG5ldyBrYShDZSh0LGUpKX1jb25zdCBUYT1mdW5jdGlvbigpe3JldHVybiBBYShSZSgpLEllKCkpfTtsZXQga2E9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLm5hdGl2ZUVsZW1lbnQ9dH19cmV0dXJuIHQuX19OR19FTEVNRU5UX0lEX189VGEsdH0pKCk7ZnVuY3Rpb24gRmEodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBrYT90Lm5hdGl2ZUVsZW1lbnQ6dH1jbGFzcyBJYXt9bGV0IE9hPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Ll9fTkdfRUxFTUVOVF9JRF9fPSgpPT5QYSgpLHR9KSgpO2NvbnN0IFBhPWZ1bmN0aW9uKCl7Y29uc3QgdD1JZSgpLGU9RGUoUmUoKS5pbmRleCx0KTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHRbMTFdfSh0ZShlKT9lOnQpfTtsZXQgUmE9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxwcm92aWRlZEluOiJyb290IixmYWN0b3J5OigpPT5udWxsfSksdH0pKCk7Y2xhc3MgTGF7Y29uc3RydWN0b3IodCl7dGhpcy5mdWxsPXQsdGhpcy5tYWpvcj10LnNwbGl0KCIuIilbMF0sdGhpcy5taW5vcj10LnNwbGl0KCIuIilbMV0sdGhpcy5wYXRjaD10LnNwbGl0KCIuIikuc2xpY2UoMikuam9pbigiLiIpfX1jb25zdCBCYT1uZXcgTGEoIjEyLjAuNSIpO2NsYXNzIGphe2NvbnN0cnVjdG9yKCl7fXN1cHBvcnRzKHQpe3JldHVybiBjbyh0KX1jcmVhdGUodCl7cmV0dXJuIG5ldyBOYSh0KX19Y29uc3QgTWE9KHQsZSk9PmU7Y2xhc3MgTmF7Y29uc3RydWN0b3IodCl7dGhpcy5sZW5ndGg9MCx0aGlzLl9saW5rZWRSZWNvcmRzPW51bGwsdGhpcy5fdW5saW5rZWRSZWNvcmRzPW51bGwsdGhpcy5fcHJldmlvdXNJdEhlYWQ9bnVsbCx0aGlzLl9pdEhlYWQ9bnVsbCx0aGlzLl9pdFRhaWw9bnVsbCx0aGlzLl9hZGRpdGlvbnNIZWFkPW51bGwsdGhpcy5fYWRkaXRpb25zVGFpbD1udWxsLHRoaXMuX21vdmVzSGVhZD1udWxsLHRoaXMuX21vdmVzVGFpbD1udWxsLHRoaXMuX3JlbW92YWxzSGVhZD1udWxsLHRoaXMuX3JlbW92YWxzVGFpbD1udWxsLHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQ9bnVsbCx0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsPW51bGwsdGhpcy5fdHJhY2tCeUZuPXR8fE1hfWZvckVhY2hJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX2l0SGVhZDtudWxsIT09ZTtlPWUuX25leHQpdChlKX1mb3JFYWNoT3BlcmF0aW9uKHQpe2xldCBlPXRoaXMuX2l0SGVhZCxuPXRoaXMuX3JlbW92YWxzSGVhZCxyPTAscz1udWxsO2Zvcig7ZXx8bjspe2NvbnN0IGk9IW58fGUmJmUuY3VycmVudEluZGV4PCRhKG4scixzKT9lOm4sbz0kYShpLHIscyksYT1pLmN1cnJlbnRJbmRleDtpZihpPT09bilyLS0sbj1uLl9uZXh0UmVtb3ZlZDtlbHNlIGlmKGU9ZS5fbmV4dCxudWxsPT1pLnByZXZpb3VzSW5kZXgpcisrO2Vsc2V7c3x8KHM9W10pO2NvbnN0IHQ9by1yLGU9YS1yO2lmKHQhPWUpe2ZvcihsZXQgbj0wO248dDtuKyspe2NvbnN0IHI9bjxzLmxlbmd0aD9zW25dOnNbbl09MCxpPXIrbjtlPD1pJiZpPHQmJihzW25dPXIrMSl9c1tpLnByZXZpb3VzSW5kZXhdPWUtdH19byE9PWEmJnQoaSxvLGEpfX1mb3JFYWNoUHJldmlvdXNJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX3ByZXZpb3VzSXRIZWFkO251bGwhPT1lO2U9ZS5fbmV4dFByZXZpb3VzKXQoZSl9Zm9yRWFjaEFkZGVkSXRlbSh0KXtsZXQgZTtmb3IoZT10aGlzLl9hZGRpdGlvbnNIZWFkO251bGwhPT1lO2U9ZS5fbmV4dEFkZGVkKXQoZSl9Zm9yRWFjaE1vdmVkSXRlbSh0KXtsZXQgZTtmb3IoZT10aGlzLl9tb3Zlc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0TW92ZWQpdChlKX1mb3JFYWNoUmVtb3ZlZEl0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5fcmVtb3ZhbHNIZWFkO251bGwhPT1lO2U9ZS5fbmV4dFJlbW92ZWQpdChlKX1mb3JFYWNoSWRlbnRpdHlDaGFuZ2UodCl7bGV0IGU7Zm9yKGU9dGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZDtudWxsIT09ZTtlPWUuX25leHRJZGVudGl0eUNoYW5nZSl0KGUpfWRpZmYodCl7aWYobnVsbD09dCYmKHQ9W10pLCFjbyh0KSl0aHJvdyBuZXcgRXJyb3IoYEVycm9yIHRyeWluZyB0byBkaWZmICcke2V0KHQpfScuIE9ubHkgYXJyYXlzIGFuZCBpdGVyYWJsZXMgYXJlIGFsbG93ZWRgKTtyZXR1cm4gdGhpcy5jaGVjayh0KT90aGlzOm51bGx9b25EZXN0cm95KCl7fWNoZWNrKHQpe3RoaXMuX3Jlc2V0KCk7bGV0IGUsbixyLHM9dGhpcy5faXRIZWFkLGk9ITE7aWYoQXJyYXkuaXNBcnJheSh0KSl7dGhpcy5sZW5ndGg9dC5sZW5ndGg7Zm9yKGxldCBlPTA7ZTx0aGlzLmxlbmd0aDtlKyspbj10W2VdLHI9dGhpcy5fdHJhY2tCeUZuKGUsbiksbnVsbCE9PXMmJk9iamVjdC5pcyhzLnRyYWNrQnlJZCxyKT8oaSYmKHM9dGhpcy5fdmVyaWZ5UmVpbnNlcnRpb24ocyxuLHIsZSkpLE9iamVjdC5pcyhzLml0ZW0sbil8fHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHMsbikpOihzPXRoaXMuX21pc21hdGNoKHMsbixyLGUpLGk9ITApLHM9cy5fbmV4dH1lbHNlIGU9MCxmdW5jdGlvbih0LGUpe2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZSh0W25dKTtlbHNle2NvbnN0IG49dFtvbygpXSgpO2xldCByO2Zvcig7IShyPW4ubmV4dCgpKS5kb25lOyllKHIudmFsdWUpfX0odCx0PT57cj10aGlzLl90cmFja0J5Rm4oZSx0KSxudWxsIT09cyYmT2JqZWN0LmlzKHMudHJhY2tCeUlkLHIpPyhpJiYocz10aGlzLl92ZXJpZnlSZWluc2VydGlvbihzLHQscixlKSksT2JqZWN0LmlzKHMuaXRlbSx0KXx8dGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2Uocyx0KSk6KHM9dGhpcy5fbWlzbWF0Y2gocyx0LHIsZSksaT0hMCkscz1zLl9uZXh0LGUrK30pLHRoaXMubGVuZ3RoPWU7cmV0dXJuIHRoaXMuX3RydW5jYXRlKHMpLHRoaXMuY29sbGVjdGlvbj10LHRoaXMuaXNEaXJ0eX1nZXQgaXNEaXJ0eSgpe3JldHVybiBudWxsIT09dGhpcy5fYWRkaXRpb25zSGVhZHx8bnVsbCE9PXRoaXMuX21vdmVzSGVhZHx8bnVsbCE9PXRoaXMuX3JlbW92YWxzSGVhZHx8bnVsbCE9PXRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWR9X3Jlc2V0KCl7aWYodGhpcy5pc0RpcnR5KXtsZXQgdDtmb3IodD10aGlzLl9wcmV2aW91c0l0SGVhZD10aGlzLl9pdEhlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0KXQuX25leHRQcmV2aW91cz10Ll9uZXh0O2Zvcih0PXRoaXMuX2FkZGl0aW9uc0hlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0QWRkZWQpdC5wcmV2aW91c0luZGV4PXQuY3VycmVudEluZGV4O2Zvcih0aGlzLl9hZGRpdGlvbnNIZWFkPXRoaXMuX2FkZGl0aW9uc1RhaWw9bnVsbCx0PXRoaXMuX21vdmVzSGVhZDtudWxsIT09dDt0PXQuX25leHRNb3ZlZCl0LnByZXZpb3VzSW5kZXg9dC5jdXJyZW50SW5kZXg7dGhpcy5fbW92ZXNIZWFkPXRoaXMuX21vdmVzVGFpbD1udWxsLHRoaXMuX3JlbW92YWxzSGVhZD10aGlzLl9yZW1vdmFsc1RhaWw9bnVsbCx0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkPXRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWw9bnVsbH19X21pc21hdGNoKHQsZSxuLHIpe2xldCBzO3JldHVybiBudWxsPT09dD9zPXRoaXMuX2l0VGFpbDoocz10Ll9wcmV2LHRoaXMuX3JlbW92ZSh0KSksbnVsbCE9PSh0PW51bGw9PT10aGlzLl91bmxpbmtlZFJlY29yZHM/bnVsbDp0aGlzLl91bmxpbmtlZFJlY29yZHMuZ2V0KG4sbnVsbCkpPyhPYmplY3QuaXModC5pdGVtLGUpfHx0aGlzLl9hZGRJZGVudGl0eUNoYW5nZSh0LGUpLHRoaXMuX3JlaW5zZXJ0QWZ0ZXIodCxzLHIpKTpudWxsIT09KHQ9bnVsbD09PXRoaXMuX2xpbmtlZFJlY29yZHM/bnVsbDp0aGlzLl9saW5rZWRSZWNvcmRzLmdldChuLHIpKT8oT2JqZWN0LmlzKHQuaXRlbSxlKXx8dGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UodCxlKSx0aGlzLl9tb3ZlQWZ0ZXIodCxzLHIpKTp0PXRoaXMuX2FkZEFmdGVyKG5ldyBIYShlLG4pLHMsciksdH1fdmVyaWZ5UmVpbnNlcnRpb24odCxlLG4scil7bGV0IHM9bnVsbD09PXRoaXMuX3VubGlua2VkUmVjb3Jkcz9udWxsOnRoaXMuX3VubGlua2VkUmVjb3Jkcy5nZXQobixudWxsKTtyZXR1cm4gbnVsbCE9PXM/dD10aGlzLl9yZWluc2VydEFmdGVyKHMsdC5fcHJldixyKTp0LmN1cnJlbnRJbmRleCE9ciYmKHQuY3VycmVudEluZGV4PXIsdGhpcy5fYWRkVG9Nb3Zlcyh0LHIpKSx0fV90cnVuY2F0ZSh0KXtmb3IoO251bGwhPT10Oyl7Y29uc3QgZT10Ll9uZXh0O3RoaXMuX2FkZFRvUmVtb3ZhbHModGhpcy5fdW5saW5rKHQpKSx0PWV9bnVsbCE9PXRoaXMuX3VubGlua2VkUmVjb3JkcyYmdGhpcy5fdW5saW5rZWRSZWNvcmRzLmNsZWFyKCksbnVsbCE9PXRoaXMuX2FkZGl0aW9uc1RhaWwmJih0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQ9bnVsbCksbnVsbCE9PXRoaXMuX21vdmVzVGFpbCYmKHRoaXMuX21vdmVzVGFpbC5fbmV4dE1vdmVkPW51bGwpLG51bGwhPT10aGlzLl9pdFRhaWwmJih0aGlzLl9pdFRhaWwuX25leHQ9bnVsbCksbnVsbCE9PXRoaXMuX3JlbW92YWxzVGFpbCYmKHRoaXMuX3JlbW92YWxzVGFpbC5fbmV4dFJlbW92ZWQ9bnVsbCksbnVsbCE9PXRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwmJih0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsLl9uZXh0SWRlbnRpdHlDaGFuZ2U9bnVsbCl9X3JlaW5zZXJ0QWZ0ZXIodCxlLG4pe251bGwhPT10aGlzLl91bmxpbmtlZFJlY29yZHMmJnRoaXMuX3VubGlua2VkUmVjb3Jkcy5yZW1vdmUodCk7Y29uc3Qgcj10Ll9wcmV2UmVtb3ZlZCxzPXQuX25leHRSZW1vdmVkO3JldHVybiBudWxsPT09cj90aGlzLl9yZW1vdmFsc0hlYWQ9czpyLl9uZXh0UmVtb3ZlZD1zLG51bGw9PT1zP3RoaXMuX3JlbW92YWxzVGFpbD1yOnMuX3ByZXZSZW1vdmVkPXIsdGhpcy5faW5zZXJ0QWZ0ZXIodCxlLG4pLHRoaXMuX2FkZFRvTW92ZXModCxuKSx0fV9tb3ZlQWZ0ZXIodCxlLG4pe3JldHVybiB0aGlzLl91bmxpbmsodCksdGhpcy5faW5zZXJ0QWZ0ZXIodCxlLG4pLHRoaXMuX2FkZFRvTW92ZXModCxuKSx0fV9hZGRBZnRlcih0LGUsbil7cmV0dXJuIHRoaXMuX2luc2VydEFmdGVyKHQsZSxuKSx0aGlzLl9hZGRpdGlvbnNUYWlsPW51bGw9PT10aGlzLl9hZGRpdGlvbnNUYWlsP3RoaXMuX2FkZGl0aW9uc0hlYWQ9dDp0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQ9dCx0fV9pbnNlcnRBZnRlcih0LGUsbil7Y29uc3Qgcj1udWxsPT09ZT90aGlzLl9pdEhlYWQ6ZS5fbmV4dDtyZXR1cm4gdC5fbmV4dD1yLHQuX3ByZXY9ZSxudWxsPT09cj90aGlzLl9pdFRhaWw9dDpyLl9wcmV2PXQsbnVsbD09PWU/dGhpcy5faXRIZWFkPXQ6ZS5fbmV4dD10LG51bGw9PT10aGlzLl9saW5rZWRSZWNvcmRzJiYodGhpcy5fbGlua2VkUmVjb3Jkcz1uZXcgemEpLHRoaXMuX2xpbmtlZFJlY29yZHMucHV0KHQpLHQuY3VycmVudEluZGV4PW4sdH1fcmVtb3ZlKHQpe3JldHVybiB0aGlzLl9hZGRUb1JlbW92YWxzKHRoaXMuX3VubGluayh0KSl9X3VubGluayh0KXtudWxsIT09dGhpcy5fbGlua2VkUmVjb3JkcyYmdGhpcy5fbGlua2VkUmVjb3Jkcy5yZW1vdmUodCk7Y29uc3QgZT10Ll9wcmV2LG49dC5fbmV4dDtyZXR1cm4gbnVsbD09PWU/dGhpcy5faXRIZWFkPW46ZS5fbmV4dD1uLG51bGw9PT1uP3RoaXMuX2l0VGFpbD1lOm4uX3ByZXY9ZSx0fV9hZGRUb01vdmVzKHQsZSl7cmV0dXJuIHQucHJldmlvdXNJbmRleD09PWV8fCh0aGlzLl9tb3Zlc1RhaWw9bnVsbD09PXRoaXMuX21vdmVzVGFpbD90aGlzLl9tb3Zlc0hlYWQ9dDp0aGlzLl9tb3Zlc1RhaWwuX25leHRNb3ZlZD10KSx0fV9hZGRUb1JlbW92YWxzKHQpe3JldHVybiBudWxsPT09dGhpcy5fdW5saW5rZWRSZWNvcmRzJiYodGhpcy5fdW5saW5rZWRSZWNvcmRzPW5ldyB6YSksdGhpcy5fdW5saW5rZWRSZWNvcmRzLnB1dCh0KSx0LmN1cnJlbnRJbmRleD1udWxsLHQuX25leHRSZW1vdmVkPW51bGwsbnVsbD09PXRoaXMuX3JlbW92YWxzVGFpbD8odGhpcy5fcmVtb3ZhbHNUYWlsPXRoaXMuX3JlbW92YWxzSGVhZD10LHQuX3ByZXZSZW1vdmVkPW51bGwpOih0Ll9wcmV2UmVtb3ZlZD10aGlzLl9yZW1vdmFsc1RhaWwsdGhpcy5fcmVtb3ZhbHNUYWlsPXRoaXMuX3JlbW92YWxzVGFpbC5fbmV4dFJlbW92ZWQ9dCksdH1fYWRkSWRlbnRpdHlDaGFuZ2UodCxlKXtyZXR1cm4gdC5pdGVtPWUsdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbD1udWxsPT09dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbD90aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkPXQ6dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbC5fbmV4dElkZW50aXR5Q2hhbmdlPXQsdH19Y2xhc3MgSGF7Y29uc3RydWN0b3IodCxlKXt0aGlzLml0ZW09dCx0aGlzLnRyYWNrQnlJZD1lLHRoaXMuY3VycmVudEluZGV4PW51bGwsdGhpcy5wcmV2aW91c0luZGV4PW51bGwsdGhpcy5fbmV4dFByZXZpb3VzPW51bGwsdGhpcy5fcHJldj1udWxsLHRoaXMuX25leHQ9bnVsbCx0aGlzLl9wcmV2RHVwPW51bGwsdGhpcy5fbmV4dER1cD1udWxsLHRoaXMuX3ByZXZSZW1vdmVkPW51bGwsdGhpcy5fbmV4dFJlbW92ZWQ9bnVsbCx0aGlzLl9uZXh0QWRkZWQ9bnVsbCx0aGlzLl9uZXh0TW92ZWQ9bnVsbCx0aGlzLl9uZXh0SWRlbnRpdHlDaGFuZ2U9bnVsbH19Y2xhc3MgVmF7Y29uc3RydWN0b3IoKXt0aGlzLl9oZWFkPW51bGwsdGhpcy5fdGFpbD1udWxsfWFkZCh0KXtudWxsPT09dGhpcy5faGVhZD8odGhpcy5faGVhZD10aGlzLl90YWlsPXQsdC5fbmV4dER1cD1udWxsLHQuX3ByZXZEdXA9bnVsbCk6KHRoaXMuX3RhaWwuX25leHREdXA9dCx0Ll9wcmV2RHVwPXRoaXMuX3RhaWwsdC5fbmV4dER1cD1udWxsLHRoaXMuX3RhaWw9dCl9Z2V0KHQsZSl7bGV0IG47Zm9yKG49dGhpcy5faGVhZDtudWxsIT09bjtuPW4uX25leHREdXApaWYoKG51bGw9PT1lfHxlPD1uLmN1cnJlbnRJbmRleCkmJk9iamVjdC5pcyhuLnRyYWNrQnlJZCx0KSlyZXR1cm4gbjtyZXR1cm4gbnVsbH1yZW1vdmUodCl7Y29uc3QgZT10Ll9wcmV2RHVwLG49dC5fbmV4dER1cDtyZXR1cm4gbnVsbD09PWU/dGhpcy5faGVhZD1uOmUuX25leHREdXA9bixudWxsPT09bj90aGlzLl90YWlsPWU6bi5fcHJldkR1cD1lLG51bGw9PT10aGlzLl9oZWFkfX1jbGFzcyB6YXtjb25zdHJ1Y3Rvcigpe3RoaXMubWFwPW5ldyBNYXB9cHV0KHQpe2NvbnN0IGU9dC50cmFja0J5SWQ7bGV0IG49dGhpcy5tYXAuZ2V0KGUpO258fChuPW5ldyBWYSx0aGlzLm1hcC5zZXQoZSxuKSksbi5hZGQodCl9Z2V0KHQsZSl7Y29uc3Qgbj10aGlzLm1hcC5nZXQodCk7cmV0dXJuIG4/bi5nZXQodCxlKTpudWxsfXJlbW92ZSh0KXtjb25zdCBlPXQudHJhY2tCeUlkO3JldHVybiB0aGlzLm1hcC5nZXQoZSkucmVtb3ZlKHQpJiZ0aGlzLm1hcC5kZWxldGUoZSksdH1nZXQgaXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5tYXAuc2l6ZX1jbGVhcigpe3RoaXMubWFwLmNsZWFyKCl9fWZ1bmN0aW9uICRhKHQsZSxuKXtjb25zdCByPXQucHJldmlvdXNJbmRleDtpZihudWxsPT09cilyZXR1cm4gcjtsZXQgcz0wO3JldHVybiBuJiZyPG4ubGVuZ3RoJiYocz1uW3JdKSxyK2Urc31jbGFzcyBVYXtjb25zdHJ1Y3Rvcigpe31zdXBwb3J0cyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE1hcHx8bG8odCl9Y3JlYXRlKCl7cmV0dXJuIG5ldyBXYX19Y2xhc3MgV2F7Y29uc3RydWN0b3IoKXt0aGlzLl9yZWNvcmRzPW5ldyBNYXAsdGhpcy5fbWFwSGVhZD1udWxsLHRoaXMuX2FwcGVuZEFmdGVyPW51bGwsdGhpcy5fcHJldmlvdXNNYXBIZWFkPW51bGwsdGhpcy5fY2hhbmdlc0hlYWQ9bnVsbCx0aGlzLl9jaGFuZ2VzVGFpbD1udWxsLHRoaXMuX2FkZGl0aW9uc0hlYWQ9bnVsbCx0aGlzLl9hZGRpdGlvbnNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPW51bGwsdGhpcy5fcmVtb3ZhbHNUYWlsPW51bGx9Z2V0IGlzRGlydHkoKXtyZXR1cm4gbnVsbCE9PXRoaXMuX2FkZGl0aW9uc0hlYWR8fG51bGwhPT10aGlzLl9jaGFuZ2VzSGVhZHx8bnVsbCE9PXRoaXMuX3JlbW92YWxzSGVhZH1mb3JFYWNoSXRlbSh0KXtsZXQgZTtmb3IoZT10aGlzLl9tYXBIZWFkO251bGwhPT1lO2U9ZS5fbmV4dCl0KGUpfWZvckVhY2hQcmV2aW91c0l0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5fcHJldmlvdXNNYXBIZWFkO251bGwhPT1lO2U9ZS5fbmV4dFByZXZpb3VzKXQoZSl9Zm9yRWFjaENoYW5nZWRJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX2NoYW5nZXNIZWFkO251bGwhPT1lO2U9ZS5fbmV4dENoYW5nZWQpdChlKX1mb3JFYWNoQWRkZWRJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX2FkZGl0aW9uc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0QWRkZWQpdChlKX1mb3JFYWNoUmVtb3ZlZEl0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5fcmVtb3ZhbHNIZWFkO251bGwhPT1lO2U9ZS5fbmV4dFJlbW92ZWQpdChlKX1kaWZmKHQpe2lmKHQpe2lmKCEodCBpbnN0YW5jZW9mIE1hcHx8bG8odCkpKXRocm93IG5ldyBFcnJvcihgRXJyb3IgdHJ5aW5nIHRvIGRpZmYgJyR7ZXQodCl9Jy4gT25seSBtYXBzIGFuZCBvYmplY3RzIGFyZSBhbGxvd2VkYCl9ZWxzZSB0PW5ldyBNYXA7cmV0dXJuIHRoaXMuY2hlY2sodCk/dGhpczpudWxsfW9uRGVzdHJveSgpe31jaGVjayh0KXt0aGlzLl9yZXNldCgpO2xldCBlPXRoaXMuX21hcEhlYWQ7aWYodGhpcy5fYXBwZW5kQWZ0ZXI9bnVsbCx0aGlzLl9mb3JFYWNoKHQsKHQsbik9PntpZihlJiZlLmtleT09PW4pdGhpcy5fbWF5YmVBZGRUb0NoYW5nZXMoZSx0KSx0aGlzLl9hcHBlbmRBZnRlcj1lLGU9ZS5fbmV4dDtlbHNle2NvbnN0IHI9dGhpcy5fZ2V0T3JDcmVhdGVSZWNvcmRGb3JLZXkobix0KTtlPXRoaXMuX2luc2VydEJlZm9yZU9yQXBwZW5kKGUscil9fSksZSl7ZS5fcHJldiYmKGUuX3ByZXYuX25leHQ9bnVsbCksdGhpcy5fcmVtb3ZhbHNIZWFkPWU7Zm9yKGxldCB0PWU7bnVsbCE9PXQ7dD10Ll9uZXh0UmVtb3ZlZCl0PT09dGhpcy5fbWFwSGVhZCYmKHRoaXMuX21hcEhlYWQ9bnVsbCksdGhpcy5fcmVjb3Jkcy5kZWxldGUodC5rZXkpLHQuX25leHRSZW1vdmVkPXQuX25leHQsdC5wcmV2aW91c1ZhbHVlPXQuY3VycmVudFZhbHVlLHQuY3VycmVudFZhbHVlPW51bGwsdC5fcHJldj1udWxsLHQuX25leHQ9bnVsbH1yZXR1cm4gdGhpcy5fY2hhbmdlc1RhaWwmJih0aGlzLl9jaGFuZ2VzVGFpbC5fbmV4dENoYW5nZWQ9bnVsbCksdGhpcy5fYWRkaXRpb25zVGFpbCYmKHRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZD1udWxsKSx0aGlzLmlzRGlydHl9X2luc2VydEJlZm9yZU9yQXBwZW5kKHQsZSl7aWYodCl7Y29uc3Qgbj10Ll9wcmV2O3JldHVybiBlLl9uZXh0PXQsZS5fcHJldj1uLHQuX3ByZXY9ZSxuJiYobi5fbmV4dD1lKSx0PT09dGhpcy5fbWFwSGVhZCYmKHRoaXMuX21hcEhlYWQ9ZSksdGhpcy5fYXBwZW5kQWZ0ZXI9dCx0fXJldHVybiB0aGlzLl9hcHBlbmRBZnRlcj8odGhpcy5fYXBwZW5kQWZ0ZXIuX25leHQ9ZSxlLl9wcmV2PXRoaXMuX2FwcGVuZEFmdGVyKTp0aGlzLl9tYXBIZWFkPWUsdGhpcy5fYXBwZW5kQWZ0ZXI9ZSxudWxsfV9nZXRPckNyZWF0ZVJlY29yZEZvcktleSh0LGUpe2lmKHRoaXMuX3JlY29yZHMuaGFzKHQpKXtjb25zdCBuPXRoaXMuX3JlY29yZHMuZ2V0KHQpO3RoaXMuX21heWJlQWRkVG9DaGFuZ2VzKG4sZSk7Y29uc3Qgcj1uLl9wcmV2LHM9bi5fbmV4dDtyZXR1cm4gciYmKHIuX25leHQ9cykscyYmKHMuX3ByZXY9ciksbi5fbmV4dD1udWxsLG4uX3ByZXY9bnVsbCxufWNvbnN0IG49bmV3IEdhKHQpO3JldHVybiB0aGlzLl9yZWNvcmRzLnNldCh0LG4pLG4uY3VycmVudFZhbHVlPWUsdGhpcy5fYWRkVG9BZGRpdGlvbnMobiksbn1fcmVzZXQoKXtpZih0aGlzLmlzRGlydHkpe2xldCB0O2Zvcih0aGlzLl9wcmV2aW91c01hcEhlYWQ9dGhpcy5fbWFwSGVhZCx0PXRoaXMuX3ByZXZpb3VzTWFwSGVhZDtudWxsIT09dDt0PXQuX25leHQpdC5fbmV4dFByZXZpb3VzPXQuX25leHQ7Zm9yKHQ9dGhpcy5fY2hhbmdlc0hlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0Q2hhbmdlZCl0LnByZXZpb3VzVmFsdWU9dC5jdXJyZW50VmFsdWU7Zm9yKHQ9dGhpcy5fYWRkaXRpb25zSGVhZDtudWxsIT10O3Q9dC5fbmV4dEFkZGVkKXQucHJldmlvdXNWYWx1ZT10LmN1cnJlbnRWYWx1ZTt0aGlzLl9jaGFuZ2VzSGVhZD10aGlzLl9jaGFuZ2VzVGFpbD1udWxsLHRoaXMuX2FkZGl0aW9uc0hlYWQ9dGhpcy5fYWRkaXRpb25zVGFpbD1udWxsLHRoaXMuX3JlbW92YWxzSGVhZD1udWxsfX1fbWF5YmVBZGRUb0NoYW5nZXModCxlKXtPYmplY3QuaXMoZSx0LmN1cnJlbnRWYWx1ZSl8fCh0LnByZXZpb3VzVmFsdWU9dC5jdXJyZW50VmFsdWUsdC5jdXJyZW50VmFsdWU9ZSx0aGlzLl9hZGRUb0NoYW5nZXModCkpfV9hZGRUb0FkZGl0aW9ucyh0KXtudWxsPT09dGhpcy5fYWRkaXRpb25zSGVhZD90aGlzLl9hZGRpdGlvbnNIZWFkPXRoaXMuX2FkZGl0aW9uc1RhaWw9dDoodGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkPXQsdGhpcy5fYWRkaXRpb25zVGFpbD10KX1fYWRkVG9DaGFuZ2VzKHQpe251bGw9PT10aGlzLl9jaGFuZ2VzSGVhZD90aGlzLl9jaGFuZ2VzSGVhZD10aGlzLl9jaGFuZ2VzVGFpbD10Oih0aGlzLl9jaGFuZ2VzVGFpbC5fbmV4dENoYW5nZWQ9dCx0aGlzLl9jaGFuZ2VzVGFpbD10KX1fZm9yRWFjaCh0LGUpe3QgaW5zdGFuY2VvZiBNYXA/dC5mb3JFYWNoKGUpOk9iamVjdC5rZXlzKHQpLmZvckVhY2gobj0+ZSh0W25dLG4pKX19Y2xhc3MgR2F7Y29uc3RydWN0b3IodCl7dGhpcy5rZXk9dCx0aGlzLnByZXZpb3VzVmFsdWU9bnVsbCx0aGlzLmN1cnJlbnRWYWx1ZT1udWxsLHRoaXMuX25leHRQcmV2aW91cz1udWxsLHRoaXMuX25leHQ9bnVsbCx0aGlzLl9wcmV2PW51bGwsdGhpcy5fbmV4dEFkZGVkPW51bGwsdGhpcy5fbmV4dFJlbW92ZWQ9bnVsbCx0aGlzLl9uZXh0Q2hhbmdlZD1udWxsfX1mdW5jdGlvbiBxYSgpe3JldHVybiBuZXcgWGEoW25ldyBqYV0pfWxldCBYYT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuZmFjdG9yaWVzPXR9c3RhdGljIGNyZWF0ZShlLG4pe2lmKG51bGwhPW4pe2NvbnN0IHQ9bi5mYWN0b3JpZXMuc2xpY2UoKTtlPWUuY29uY2F0KHQpfXJldHVybiBuZXcgdChlKX1zdGF0aWMgZXh0ZW5kKGUpe3JldHVybntwcm92aWRlOnQsdXNlRmFjdG9yeTpuPT50LmNyZWF0ZShlLG58fHFhKCkpLGRlcHM6W1t0LG5ldyBtcixuZXcgZ3JdXX19ZmluZCh0KXtjb25zdCBlPXRoaXMuZmFjdG9yaWVzLmZpbmQoZT0+ZS5zdXBwb3J0cyh0KSk7aWYobnVsbCE9ZSlyZXR1cm4gZTt0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIGEgZGlmZmVyIHN1cHBvcnRpbmcgb2JqZWN0ICcke3R9JyBvZiB0eXBlICcke249dCxuLm5hbWV8fHR5cGVvZiBufSdgKTt2YXIgbn19cmV0dXJuIHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxwcm92aWRlZEluOiJyb290IixmYWN0b3J5OnFhfSksdH0pKCk7ZnVuY3Rpb24gWWEoKXtyZXR1cm4gbmV3IFphKFtuZXcgVWFdKX1sZXQgWmE9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmZhY3Rvcmllcz10fXN0YXRpYyBjcmVhdGUoZSxuKXtpZihuKXtjb25zdCB0PW4uZmFjdG9yaWVzLnNsaWNlKCk7ZT1lLmNvbmNhdCh0KX1yZXR1cm4gbmV3IHQoZSl9c3RhdGljIGV4dGVuZChlKXtyZXR1cm57cHJvdmlkZTp0LHVzZUZhY3Rvcnk6bj0+dC5jcmVhdGUoZSxufHxZYSgpKSxkZXBzOltbdCxuZXcgbXIsbmV3IGdyXV19fWZpbmQodCl7Y29uc3QgZT10aGlzLmZhY3Rvcmllcy5maW5kKGU9PmUuc3VwcG9ydHModCkpO2lmKGUpcmV0dXJuIGU7dGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCBhIGRpZmZlciBzdXBwb3J0aW5nIG9iamVjdCAnJHt0fSdgKX19cmV0dXJuIHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxwcm92aWRlZEluOiJyb290IixmYWN0b3J5OllhfSksdH0pKCk7ZnVuY3Rpb24gUWEodCxlLG4scixzPSExKXtmb3IoO251bGwhPT1uOyl7Y29uc3QgaT1lW24uaW5kZXhdO2lmKG51bGwhPT1pJiZyLnB1c2godmUoaSkpLGVlKGkpKWZvcihsZXQgdD1KdDt0PGkubGVuZ3RoO3QrKyl7Y29uc3QgZT1pW3RdLG49ZVsxXS5maXJzdENoaWxkO251bGwhPT1uJiZRYShlWzFdLGUsbixyKX1jb25zdCBvPW4udHlwZTtpZig4Jm8pUWEodCxlLG4uY2hpbGQscik7ZWxzZSBpZigzMiZvKXtjb25zdCB0PXJzKG4sZSk7bGV0IHM7Zm9yKDtzPXQoKTspci5wdXNoKHMpfWVsc2UgaWYoMTYmbyl7Y29uc3QgdD1EcyhlLG4pO2lmKEFycmF5LmlzQXJyYXkodCkpci5wdXNoKC4uLnQpO2Vsc2V7Y29uc3Qgbj1zcyhlWzE2XSk7UWEoblsxXSxuLHQsciwhMCl9fW49cz9uLnByb2plY3Rpb25OZXh0Om4ubmV4dH1yZXR1cm4gcn1jbGFzcyBLYXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX2xWaWV3PXQsdGhpcy5fY2RSZWZJbmplY3RpbmdWaWV3PWUsdGhpcy5fYXBwUmVmPW51bGwsdGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXI9ITF9Z2V0IHJvb3ROb2Rlcygpe2NvbnN0IHQ9dGhpcy5fbFZpZXcsZT10WzFdO3JldHVybiBRYShlLHQsZS5maXJzdENoaWxkLFtdKX1nZXQgY29udGV4dCgpe3JldHVybiB0aGlzLl9sVmlld1s4XX1zZXQgY29udGV4dCh0KXt0aGlzLl9sVmlld1s4XT10fWdldCBkZXN0cm95ZWQoKXtyZXR1cm4gMjU2PT0oMjU2JnRoaXMuX2xWaWV3WzJdKX1kZXN0cm95KCl7aWYodGhpcy5fYXBwUmVmKXRoaXMuX2FwcFJlZi5kZXRhY2hWaWV3KHRoaXMpO2Vsc2UgaWYodGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXIpe2NvbnN0IHQ9dGhpcy5fbFZpZXdbM107aWYoZWUodCkpe2NvbnN0IGU9dFs4XSxuPWU/ZS5pbmRleE9mKHRoaXMpOi0xO24+LTEmJihocyh0LG4pLEpuKGUsbikpfXRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyPSExfWRzKHRoaXMuX2xWaWV3WzFdLHRoaXMuX2xWaWV3KX1vbkRlc3Ryb3kodCl7dWkodGhpcy5fbFZpZXdbMV0sdGhpcy5fbFZpZXcsbnVsbCx0KX1tYXJrRm9yQ2hlY2soKXtBaSh0aGlzLl9jZFJlZkluamVjdGluZ1ZpZXd8fHRoaXMuX2xWaWV3KX1kZXRhY2goKXt0aGlzLl9sVmlld1syXSY9LTEyOX1yZWF0dGFjaCgpe3RoaXMuX2xWaWV3WzJdfD0xMjh9ZGV0ZWN0Q2hhbmdlcygpe1RpKHRoaXMuX2xWaWV3WzFdLHRoaXMuX2xWaWV3LHRoaXMuY29udGV4dCl9Y2hlY2tOb0NoYW5nZXMoKXshZnVuY3Rpb24odCxlLG4pe0hlKCEwKTt0cnl7VGkodCxlLG4pfWZpbmFsbHl7SGUoITEpfX0odGhpcy5fbFZpZXdbMV0sdGhpcy5fbFZpZXcsdGhpcy5jb250ZXh0KX1hdHRhY2hUb1ZpZXdDb250YWluZXJSZWYoKXtpZih0aGlzLl9hcHBSZWYpdGhyb3cgbmV3IEVycm9yKCJUaGlzIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGUgQXBwbGljYXRpb25SZWYhIik7dGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXI9ITB9ZGV0YWNoRnJvbUFwcFJlZigpe3ZhciB0O3RoaXMuX2FwcFJlZj1udWxsLHhzKHRoaXMuX2xWaWV3WzFdLHQ9dGhpcy5fbFZpZXcsdFsxMV0sMixudWxsLG51bGwpfWF0dGFjaFRvQXBwUmVmKHQpe2lmKHRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyKXRocm93IG5ldyBFcnJvcigiVGhpcyB2aWV3IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBWaWV3Q29udGFpbmVyISIpO3RoaXMuX2FwcFJlZj10fX1jbGFzcyBKYSBleHRlbmRzIEthe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX3ZpZXc9dH1kZXRlY3RDaGFuZ2VzKCl7a2kodGhpcy5fdmlldyl9Y2hlY2tOb0NoYW5nZXMoKXshZnVuY3Rpb24odCl7SGUoITApO3RyeXtraSh0KX1maW5hbGx5e0hlKCExKX19KHRoaXMuX3ZpZXcpfWdldCBjb250ZXh0KCl7cmV0dXJuIG51bGx9fWNvbnN0IHRjPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUsbil7aWYocmUodCkmJiFuKXtjb25zdCBuPURlKHQuaW5kZXgsZSk7cmV0dXJuIG5ldyBLYShuLG4pfXJldHVybiA0NyZ0LnR5cGU/bmV3IEthKGVbMTZdLGUpOm51bGx9KFJlKCksSWUoKSwxNj09KDE2JnQpKX07bGV0IGVjPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Ll9fTkdfRUxFTUVOVF9JRF9fPXRjLHR9KSgpO2NvbnN0IG5jPVtuZXcgVWFdLHJjPW5ldyBYYShbbmV3IGphXSksc2M9bmV3IFphKG5jKSxpYz1mdW5jdGlvbigpe3JldHVybiBsYyhSZSgpLEllKCkpfTtsZXQgb2M9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuX19OR19FTEVNRU5UX0lEX189aWMsdH0pKCk7Y29uc3QgYWM9b2MsY2M9Y2xhc3MgZXh0ZW5kcyBhY3tjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIoKSx0aGlzLl9kZWNsYXJhdGlvbkxWaWV3PXQsdGhpcy5fZGVjbGFyYXRpb25UQ29udGFpbmVyPWUsdGhpcy5lbGVtZW50UmVmPW59Y3JlYXRlRW1iZWRkZWRWaWV3KHQpe2NvbnN0IGU9dGhpcy5fZGVjbGFyYXRpb25UQ29udGFpbmVyLnRWaWV3cyxuPUtzKHRoaXMuX2RlY2xhcmF0aW9uTFZpZXcsZSx0LDE2LG51bGwsZS5kZWNsVE5vZGUsbnVsbCxudWxsLG51bGwsbnVsbCk7blsxN109dGhpcy5fZGVjbGFyYXRpb25MVmlld1t0aGlzLl9kZWNsYXJhdGlvblRDb250YWluZXIuaW5kZXhdO2NvbnN0IHI9dGhpcy5fZGVjbGFyYXRpb25MVmlld1sxOV07cmV0dXJuIG51bGwhPT1yJiYoblsxOV09ci5jcmVhdGVFbWJlZGRlZFZpZXcoZSkpLGVpKGUsbix0KSxuZXcgS2Eobil9fTtmdW5jdGlvbiBsYyh0LGUpe3JldHVybiA0JnQudHlwZT9uZXcgY2MoZSx0LEFhKHQsZSkpOm51bGx9Y2xhc3MgdWN7fWNsYXNzIGhje31jb25zdCBkYz1mdW5jdGlvbigpe3JldHVybiB2YyhSZSgpLEllKCkpfTtsZXQgcGM9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuX19OR19FTEVNRU5UX0lEX189ZGMsdH0pKCk7Y29uc3QgZmM9cGMsZ2M9Y2xhc3MgZXh0ZW5kcyBmY3tjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIoKSx0aGlzLl9sQ29udGFpbmVyPXQsdGhpcy5faG9zdFROb2RlPWUsdGhpcy5faG9zdExWaWV3PW59Z2V0IGVsZW1lbnQoKXtyZXR1cm4gQWEodGhpcy5faG9zdFROb2RlLHRoaXMuX2hvc3RMVmlldyl9Z2V0IGluamVjdG9yKCl7cmV0dXJuIG5ldyB6bih0aGlzLl9ob3N0VE5vZGUsdGhpcy5faG9zdExWaWV3KX1nZXQgcGFyZW50SW5qZWN0b3IoKXtjb25zdCB0PUZuKHRoaXMuX2hvc3RUTm9kZSx0aGlzLl9ob3N0TFZpZXcpO2lmKHduKHQpKXtjb25zdCBlPURuKHQsdGhpcy5faG9zdExWaWV3KSxuPV9uKHQpO3JldHVybiBuZXcgem4oZVsxXS5kYXRhW24rOF0sZSl9cmV0dXJuIG5ldyB6bihudWxsLHRoaXMuX2hvc3RMVmlldyl9Y2xlYXIoKXtmb3IoO3RoaXMubGVuZ3RoPjA7KXRoaXMucmVtb3ZlKHRoaXMubGVuZ3RoLTEpfWdldCh0KXtjb25zdCBlPW1jKHRoaXMuX2xDb250YWluZXIpO3JldHVybiBudWxsIT09ZSYmZVt0XXx8bnVsbH1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2xDb250YWluZXIubGVuZ3RoLUp0fWNyZWF0ZUVtYmVkZGVkVmlldyh0LGUsbil7Y29uc3Qgcj10LmNyZWF0ZUVtYmVkZGVkVmlldyhlfHx7fSk7cmV0dXJuIHRoaXMuaW5zZXJ0KHIsbikscn1jcmVhdGVDb21wb25lbnQodCxlLG4scixzKXtjb25zdCBpPW58fHRoaXMucGFyZW50SW5qZWN0b3I7aWYoIXMmJm51bGw9PXQubmdNb2R1bGUmJmkpe2NvbnN0IHQ9aS5nZXQodWMsbnVsbCk7dCYmKHM9dCl9Y29uc3Qgbz10LmNyZWF0ZShpLHIsdm9pZCAwLHMpO3JldHVybiB0aGlzLmluc2VydChvLmhvc3RWaWV3LGUpLG99aW5zZXJ0KHQsZSl7Y29uc3Qgbj10Ll9sVmlldyxyPW5bMV07aWYoZWUoblszXSkpe2NvbnN0IGU9dGhpcy5pbmRleE9mKHQpO2lmKC0xIT09ZSl0aGlzLmRldGFjaChlKTtlbHNle2NvbnN0IGU9blszXSxyPW5ldyBnYyhlLGVbNl0sZVszXSk7ci5kZXRhY2goci5pbmRleE9mKHQpKX19Y29uc3Qgcz10aGlzLl9hZGp1c3RJbmRleChlKSxpPXRoaXMuX2xDb250YWluZXI7IWZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9SnQrcixpPW4ubGVuZ3RoO3I+MCYmKG5bcy0xXVs0XT1lKSxyPGktSnQ/KGVbNF09bltzXSxLbihuLEp0K3IsZSkpOihuLnB1c2goZSksZVs0XT1udWxsKSxlWzNdPW47Y29uc3Qgbz1lWzE3XTtudWxsIT09byYmbiE9PW8mJmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10WzldO2VbMTZdIT09ZVszXVszXVsxNl0mJih0WzJdPSEwKSxudWxsPT09bj90WzldPVtlXTpuLnB1c2goZSl9KG8sZSk7Y29uc3QgYT1lWzE5XTtudWxsIT09YSYmYS5pbnNlcnRWaWV3KHQpLGVbMl18PTEyOH0ocixuLGkscyk7Y29uc3Qgbz1FcyhzLGkpLGE9blsxMV0sYz12cyhhLGlbN10pO3JldHVybiBudWxsIT09YyYmZnVuY3Rpb24odCxlLG4scixzLGkpe3JbMF09cyxyWzZdPWUseHModCxyLG4sMSxzLGkpfShyLGlbNl0sYSxuLGMsbyksdC5hdHRhY2hUb1ZpZXdDb250YWluZXJSZWYoKSxLbih5YyhpKSxzLHQpLHR9bW92ZSh0LGUpe3JldHVybiB0aGlzLmluc2VydCh0LGUpfWluZGV4T2YodCl7Y29uc3QgZT1tYyh0aGlzLl9sQ29udGFpbmVyKTtyZXR1cm4gbnVsbCE9PWU/ZS5pbmRleE9mKHQpOi0xfXJlbW92ZSh0KXtjb25zdCBlPXRoaXMuX2FkanVzdEluZGV4KHQsLTEpLG49aHModGhpcy5fbENvbnRhaW5lcixlKTtuJiYoSm4oeWModGhpcy5fbENvbnRhaW5lciksZSksZHMoblsxXSxuKSl9ZGV0YWNoKHQpe2NvbnN0IGU9dGhpcy5fYWRqdXN0SW5kZXgodCwtMSksbj1ocyh0aGlzLl9sQ29udGFpbmVyLGUpO3JldHVybiBuJiZudWxsIT1Kbih5Yyh0aGlzLl9sQ29udGFpbmVyKSxlKT9uZXcgS2Eobik6bnVsbH1fYWRqdXN0SW5kZXgodCxlPTApe3JldHVybiBudWxsPT10P3RoaXMubGVuZ3RoK2U6dH19O2Z1bmN0aW9uIG1jKHQpe3JldHVybiB0WzhdfWZ1bmN0aW9uIHljKHQpe3JldHVybiB0WzhdfHwodFs4XT1bXSl9ZnVuY3Rpb24gdmModCxlKXtsZXQgbjtjb25zdCByPWVbdC5pbmRleF07aWYoZWUocikpbj1yO2Vsc2V7bGV0IHM7aWYoOCZ0LnR5cGUpcz12ZShyKTtlbHNle2NvbnN0IG49ZVsxMV07cz1uLmNyZWF0ZUNvbW1lbnQoIiIpO2NvbnN0IHI9Q2UodCxlKTtncyhuLHZzKG4scikscyxmdW5jdGlvbih0LGUpe3JldHVybiBtZSh0KT90Lm5leHRTaWJsaW5nKGUpOmUubmV4dFNpYmxpbmd9KG4sciksITEpfWVbdC5pbmRleF09bj1faShyLGUscyx0KSx4aShlLG4pfXJldHVybiBuZXcgZ2Mobix0LGUpfWNvbnN0IGJjPXt9O2NsYXNzIENjIGV4dGVuZHMgU2F7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLm5nTW9kdWxlPXR9cmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodCl7Y29uc3QgZT1adCh0KTtyZXR1cm4gbmV3IERjKGUsdGhpcy5uZ01vZHVsZSl9fWZ1bmN0aW9uIHdjKHQpe2NvbnN0IGU9W107Zm9yKGxldCBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmZS5wdXNoKHtwcm9wTmFtZTp0W25dLHRlbXBsYXRlTmFtZTpufSk7cmV0dXJuIGV9Y29uc3QgX2M9bmV3IHFuKCJTQ0hFRFVMRVJfVE9LRU4iLHtwcm92aWRlZEluOiJyb290IixmYWN0b3J5OigpPT5Kcn0pO2NsYXNzIERjIGV4dGVuZHMgRGF7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMuY29tcG9uZW50RGVmPXQsdGhpcy5uZ01vZHVsZT1lLHRoaXMuY29tcG9uZW50VHlwZT10LnR5cGUsdGhpcy5zZWxlY3Rvcj10LnNlbGVjdG9ycy5tYXAoVnMpLmpvaW4oIiwiKSx0aGlzLm5nQ29udGVudFNlbGVjdG9ycz10Lm5nQ29udGVudFNlbGVjdG9ycz90Lm5nQ29udGVudFNlbGVjdG9yczpbXSx0aGlzLmlzQm91bmRUb01vZHVsZT0hIWV9Z2V0IGlucHV0cygpe3JldHVybiB3Yyh0aGlzLmNvbXBvbmVudERlZi5pbnB1dHMpfWdldCBvdXRwdXRzKCl7cmV0dXJuIHdjKHRoaXMuY29tcG9uZW50RGVmLm91dHB1dHMpfWNyZWF0ZSh0LGUsbixyKXtjb25zdCBzPShyPXJ8fHRoaXMubmdNb2R1bGUpP2Z1bmN0aW9uKHQsZSl7cmV0dXJue2dldDoobixyLHMpPT57Y29uc3QgaT10LmdldChuLGJjLHMpO3JldHVybiBpIT09YmN8fHI9PT1iYz9pOmUuZ2V0KG4scixzKX19fSh0LHIuaW5qZWN0b3IpOnQsaT1zLmdldChJYSx5ZSksbz1zLmdldChSYSxudWxsKSxhPWkuY3JlYXRlUmVuZGVyZXIobnVsbCx0aGlzLmNvbXBvbmVudERlZiksYz10aGlzLmNvbXBvbmVudERlZi5zZWxlY3RvcnNbMF1bMF18fCJkaXYiLGw9bj9mdW5jdGlvbih0LGUsbil7aWYobWUodCkpcmV0dXJuIHQuc2VsZWN0Um9vdEVsZW1lbnQoZSxuPT09eHQuU2hhZG93RG9tKTtsZXQgcj0ic3RyaW5nIj09dHlwZW9mIGU/dC5xdWVyeVNlbGVjdG9yKGUpOmU7cmV0dXJuIHIudGV4dENvbnRlbnQ9IiIscn0oYSxuLHRoaXMuY29tcG9uZW50RGVmLmVuY2Fwc3VsYXRpb24pOmxzKGkuY3JlYXRlUmVuZGVyZXIobnVsbCx0aGlzLmNvbXBvbmVudERlZiksYyxmdW5jdGlvbih0KXtjb25zdCBlPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4ic3ZnIj09PWU/cGU6Im1hdGgiPT09ZT8iaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoTUwvIjpudWxsfShjKSksdT10aGlzLmNvbXBvbmVudERlZi5vblB1c2g/NTc2OjUyOCxoPXtjb21wb25lbnRzOltdLHNjaGVkdWxlcjpKcixjbGVhbjpJaSxwbGF5ZXJIYW5kbGVyOm51bGwsZmxhZ3M6MH0sZD1saSgwLG51bGwsbnVsbCwxLDAsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsKSxwPUtzKG51bGwsZCxoLHUsbnVsbCxudWxsLGksYSxvLHMpO2xldCBmLGc7UWUocCk7dHJ5e2NvbnN0IHQ9ZnVuY3Rpb24odCxlLG4scixzLGkpe2NvbnN0IG89blsxXTtuWzIwXT10O2NvbnN0IGE9SnMobywyMCwyLCIjaG9zdCIsbnVsbCksYz1hLm1lcmdlZEF0dHJzPWUuaG9zdEF0dHJzO251bGwhPT1jJiYoQmkoYSxjLCEwKSxudWxsIT09dCYmKG1uKHMsdCxjKSxudWxsIT09YS5jbGFzc2VzJiZrcyhzLHQsYS5jbGFzc2VzKSxudWxsIT09YS5zdHlsZXMmJlRzKHMsdCxhLnN0eWxlcykpKTtjb25zdCBsPXIuY3JlYXRlUmVuZGVyZXIodCxlKSx1PUtzKG4sY2koZSksbnVsbCxlLm9uUHVzaD82NDoxNixuWzIwXSxhLHIsbCxudWxsLG51bGwpO3JldHVybiBvLmZpcnN0Q3JlYXRlUGFzcyYmKEluKEFuKGEsbiksbyxlLnR5cGUpLGdpKG8sYSkseWkoYSxuLmxlbmd0aCwxKSkseGkobix1KSxuWzIwXT11fShsLHRoaXMuY29tcG9uZW50RGVmLHAsaSxhKTtpZihsKWlmKG4pbW4oYSxsLFsibmctdmVyc2lvbiIsQmEuZnVsbF0pO2Vsc2V7Y29uc3R7YXR0cnM6dCxjbGFzc2VzOmV9PWZ1bmN0aW9uKHQpe2NvbnN0IGU9W10sbj1bXTtsZXQgcj0xLHM9Mjtmb3IoO3I8dC5sZW5ndGg7KXtsZXQgaT10W3JdO2lmKCJzdHJpbmciPT10eXBlb2YgaSkyPT09cz8iIiE9PWkmJmUucHVzaChpLHRbKytyXSk6OD09PXMmJm4ucHVzaChpKTtlbHNle2lmKCFCcyhzKSlicmVhaztzPWl9cisrfXJldHVybnthdHRyczplLGNsYXNzZXM6bn19KHRoaXMuY29tcG9uZW50RGVmLnNlbGVjdG9yc1swXSk7dCYmbW4oYSxsLHQpLGUmJmUubGVuZ3RoPjAmJmtzKGEsbCxlLmpvaW4oIiAiKSl9aWYoZz13ZShkLEt0KSx2b2lkIDAhPT1lKXtjb25zdCB0PWcucHJvamVjdGlvbj1bXTtmb3IobGV0IG49MDtuPHRoaXMubmdDb250ZW50U2VsZWN0b3JzLmxlbmd0aDtuKyspe2NvbnN0IHI9ZVtuXTt0LnB1c2gobnVsbCE9cj9BcnJheS5mcm9tKHIpOm51bGwpfX1mPWZ1bmN0aW9uKHQsZSxuLHIscyl7Y29uc3QgaT1uWzFdLG89ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9UmUoKTt0LmZpcnN0Q3JlYXRlUGFzcyYmKG4ucHJvdmlkZXJzUmVzb2x2ZXImJm4ucHJvdmlkZXJzUmVzb2x2ZXIobiksdmkodCxyLGUsdGkodCxlLDEsbnVsbCksbikpO2NvbnN0IHM9Tm4oZSx0LHIuZGlyZWN0aXZlU3RhcnQscik7cXIocyxlKTtjb25zdCBpPUNlKHIsZSk7cmV0dXJuIGkmJnFyKGksZSksc30oaSxuLGUpO2lmKHIuY29tcG9uZW50cy5wdXNoKG8pLHRbOF09byxzJiZzLmZvckVhY2godD0+dChvLGUpKSxlLmNvbnRlbnRRdWVyaWVzKXtjb25zdCB0PVJlKCk7ZS5jb250ZW50UXVlcmllcygxLG8sdC5kaXJlY3RpdmVTdGFydCl9Y29uc3QgYT1SZSgpO3JldHVybiFpLmZpcnN0Q3JlYXRlUGFzc3x8bnVsbD09PWUuaG9zdEJpbmRpbmdzJiZudWxsPT09ZS5ob3N0QXR0cnN8fChzbihhLmluZGV4KSxwaShuWzFdLGEsMCxhLmRpcmVjdGl2ZVN0YXJ0LGEuZGlyZWN0aXZlRW5kLGUpLGZpKGUsbykpLG99KHQsdGhpcy5jb21wb25lbnREZWYscCxoLFtKaV0pLGVpKGQscCxudWxsKX1maW5hbGx5e25uKCl9cmV0dXJuIG5ldyBFYyh0aGlzLmNvbXBvbmVudFR5cGUsZixBYShnLHApLHAsZyl9fWNsYXNzIEVjIGV4dGVuZHMgY2xhc3N7fXtjb25zdHJ1Y3Rvcih0LGUsbixyLHMpe3N1cGVyKCksdGhpcy5sb2NhdGlvbj1uLHRoaXMuX3Jvb3RMVmlldz1yLHRoaXMuX3ROb2RlPXMsdGhpcy5pbnN0YW5jZT1lLHRoaXMuaG9zdFZpZXc9dGhpcy5jaGFuZ2VEZXRlY3RvclJlZj1uZXcgSmEociksdGhpcy5jb21wb25lbnRUeXBlPXR9Z2V0IGluamVjdG9yKCl7cmV0dXJuIG5ldyB6bih0aGlzLl90Tm9kZSx0aGlzLl9yb290TFZpZXcpfWRlc3Ryb3koKXt0aGlzLmhvc3RWaWV3LmRlc3Ryb3koKX1vbkRlc3Ryb3kodCl7dGhpcy5ob3N0Vmlldy5vbkRlc3Ryb3kodCl9fWNvbnN0IFNjPW5ldyBNYXA7Y2xhc3MgeGMgZXh0ZW5kcyB1Y3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5fcGFyZW50PWUsdGhpcy5fYm9vdHN0cmFwQ29tcG9uZW50cz1bXSx0aGlzLmluamVjdG9yPXRoaXMsdGhpcy5kZXN0cm95Q2JzPVtdLHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyPW5ldyBDYyh0aGlzKTtjb25zdCBuPVF0KHQpLHI9dFtNdF18fG51bGw7ciYmZmEociksdGhpcy5fYm9vdHN0cmFwQ29tcG9uZW50cz1lcyhuLmJvb3RzdHJhcCksdGhpcy5fcjNJbmplY3Rvcj1VaSh0LGUsW3twcm92aWRlOnVjLHVzZVZhbHVlOnRoaXN9LHtwcm92aWRlOlNhLHVzZVZhbHVlOnRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyfV0sZXQodCkpLHRoaXMuX3IzSW5qZWN0b3IuX3Jlc29sdmVJbmplY3RvckRlZlR5cGVzKCksdGhpcy5pbnN0YW5jZT10aGlzLmdldCh0KX1nZXQodCxlPUtpLlRIUk9XX0lGX05PVF9GT1VORCxuPUN0LkRlZmF1bHQpe3JldHVybiB0PT09S2l8fHQ9PT11Y3x8dD09PWppP3RoaXM6dGhpcy5fcjNJbmplY3Rvci5nZXQodCxlLG4pfWRlc3Ryb3koKXtjb25zdCB0PXRoaXMuX3IzSW5qZWN0b3I7IXQuZGVzdHJveWVkJiZ0LmRlc3Ryb3koKSx0aGlzLmRlc3Ryb3lDYnMuZm9yRWFjaCh0PT50KCkpLHRoaXMuZGVzdHJveUNicz1udWxsfW9uRGVzdHJveSh0KXt0aGlzLmRlc3Ryb3lDYnMucHVzaCh0KX19Y2xhc3MgQWMgZXh0ZW5kcyBoY3tjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMubW9kdWxlVHlwZT10LG51bGwhPT1RdCh0KSYmZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgU2V0OyFmdW5jdGlvbiB0KG4pe2NvbnN0IHI9UXQobiwhMCkscz1yLmlkO251bGwhPT1zJiYoZnVuY3Rpb24odCxlLG4pe2lmKGUmJmUhPT1uKXRocm93IG5ldyBFcnJvcihgRHVwbGljYXRlIG1vZHVsZSByZWdpc3RlcmVkIGZvciAke3R9IC0gJHtldChlKX0gdnMgJHtldChlLm5hbWUpfWApfShzLFNjLmdldChzKSxuKSxTYy5zZXQocyxuKSk7Y29uc3QgaT1lcyhyLmltcG9ydHMpO2Zvcihjb25zdCBvIG9mIGkpZS5oYXMobyl8fChlLmFkZChvKSx0KG8pKX0odCl9KHQpfWNyZWF0ZSh0KXtyZXR1cm4gbmV3IHhjKHRoaXMubW9kdWxlVHlwZSx0KX19ZnVuY3Rpb24gVGModCxlLG4pe2NvbnN0IHI9VmUoKSt0LHM9SWUoKTtyZXR1cm4gc1tyXT09PXpzP3VvKHMscixuP2UuY2FsbChuKTplKCkpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZV19KHMscil9ZnVuY3Rpb24ga2ModCxlKXtjb25zdCBuPXRbZV07cmV0dXJuIG49PT16cz92b2lkIDA6bn1mdW5jdGlvbiBGYyh0KXtyZXR1cm4gZT0+e3NldFRpbWVvdXQodCx2b2lkIDAsZSl9fWNvbnN0IEljPWNsYXNzIGV4dGVuZHMgRHtjb25zdHJ1Y3Rvcih0PSExKXtzdXBlcigpLHRoaXMuX19pc0FzeW5jPXR9ZW1pdCh0KXtzdXBlci5uZXh0KHQpfXN1YnNjcmliZSh0LGUsbil7dmFyIHIscyxpO2xldCBvPXQsYT1lfHwoKCk9Pm51bGwpLGM9bjtpZih0JiYib2JqZWN0Ij09dHlwZW9mIHQpe2NvbnN0IGU9dDtvPW51bGw9PT0ocj1lLm5leHQpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmJpbmQoZSksYT1udWxsPT09KHM9ZS5lcnJvcil8fHZvaWQgMD09PXM/dm9pZCAwOnMuYmluZChlKSxjPW51bGw9PT0oaT1lLmNvbXBsZXRlKXx8dm9pZCAwPT09aT92b2lkIDA6aS5iaW5kKGUpfXRoaXMuX19pc0FzeW5jJiYoYT1GYyhhKSxvJiYobz1GYyhvKSksYyYmKGM9RmMoYykpKTtjb25zdCBsPXN1cGVyLnN1YnNjcmliZSh7bmV4dDpvLGVycm9yOmEsY29tcGxldGU6Y30pO3JldHVybiB0IGluc3RhbmNlb2YgaCYmdC5hZGQobCksbH19O2Z1bmN0aW9uIE9jKCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHNbb28oKV0oKX1jbGFzcyBQY3tjb25zdHJ1Y3Rvcih0PSExKXt0aGlzLl9lbWl0RGlzdGluY3RDaGFuZ2VzT25seT10LHRoaXMuZGlydHk9ITAsdGhpcy5fcmVzdWx0cz1bXSx0aGlzLl9jaGFuZ2VzRGV0ZWN0ZWQ9ITEsdGhpcy5fY2hhbmdlcz1udWxsLHRoaXMubGVuZ3RoPTAsdGhpcy5maXJzdD12b2lkIDAsdGhpcy5sYXN0PXZvaWQgMDtjb25zdCBlPW9vKCksbj1QYy5wcm90b3R5cGU7bltlXXx8KG5bZV09T2MpfWdldCBjaGFuZ2VzKCl7cmV0dXJuIHRoaXMuX2NoYW5nZXN8fCh0aGlzLl9jaGFuZ2VzPW5ldyBJYyl9Z2V0KHQpe3JldHVybiB0aGlzLl9yZXN1bHRzW3RdfW1hcCh0KXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5tYXAodCl9ZmlsdGVyKHQpe3JldHVybiB0aGlzLl9yZXN1bHRzLmZpbHRlcih0KX1maW5kKHQpe3JldHVybiB0aGlzLl9yZXN1bHRzLmZpbmQodCl9cmVkdWNlKHQsZSl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMucmVkdWNlKHQsZSl9Zm9yRWFjaCh0KXt0aGlzLl9yZXN1bHRzLmZvckVhY2godCl9c29tZSh0KXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5zb21lKHQpfXRvQXJyYXkoKXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5zbGljZSgpfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMudG9TdHJpbmcoKX1yZXNldCh0LGUpe2NvbnN0IG49dGhpcztuLmRpcnR5PSExO2NvbnN0IHI9Wm4odCk7KHRoaXMuX2NoYW5nZXNEZXRlY3RlZD0hZnVuY3Rpb24odCxlLG4pe2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2xldCBzPXRbcl0saT1lW3JdO2lmKG4mJihzPW4ocyksaT1uKGkpKSxpIT09cylyZXR1cm4hMX1yZXR1cm4hMH0obi5fcmVzdWx0cyxyLGUpKSYmKG4uX3Jlc3VsdHM9cixuLmxlbmd0aD1yLmxlbmd0aCxuLmxhc3Q9clt0aGlzLmxlbmd0aC0xXSxuLmZpcnN0PXJbMF0pfW5vdGlmeU9uQ2hhbmdlcygpeyF0aGlzLl9jaGFuZ2VzfHwhdGhpcy5fY2hhbmdlc0RldGVjdGVkJiZ0aGlzLl9lbWl0RGlzdGluY3RDaGFuZ2VzT25seXx8dGhpcy5fY2hhbmdlcy5lbWl0KHRoaXMpfXNldERpcnR5KCl7dGhpcy5kaXJ0eT0hMH1kZXN0cm95KCl7dGhpcy5jaGFuZ2VzLmNvbXBsZXRlKCksdGhpcy5jaGFuZ2VzLnVuc3Vic2NyaWJlKCl9fWNsYXNzIFJje2NvbnN0cnVjdG9yKHQpe3RoaXMucXVlcnlMaXN0PXQsdGhpcy5tYXRjaGVzPW51bGx9Y2xvbmUoKXtyZXR1cm4gbmV3IFJjKHRoaXMucXVlcnlMaXN0KX1zZXREaXJ0eSgpe3RoaXMucXVlcnlMaXN0LnNldERpcnR5KCl9fWNsYXNzIExje2NvbnN0cnVjdG9yKHQ9W10pe3RoaXMucXVlcmllcz10fWNyZWF0ZUVtYmVkZGVkVmlldyh0KXtjb25zdCBlPXQucXVlcmllcztpZihudWxsIT09ZSl7Y29uc3Qgbj1udWxsIT09dC5jb250ZW50UXVlcmllcz90LmNvbnRlbnRRdWVyaWVzWzBdOmUubGVuZ3RoLHI9W107Zm9yKGxldCB0PTA7dDxuO3QrKyl7Y29uc3Qgbj1lLmdldEJ5SW5kZXgodCk7ci5wdXNoKHRoaXMucXVlcmllc1tuLmluZGV4SW5EZWNsYXJhdGlvblZpZXddLmNsb25lKCkpfXJldHVybiBuZXcgTGMocil9cmV0dXJuIG51bGx9aW5zZXJ0Vmlldyh0KXt0aGlzLmRpcnR5UXVlcmllc1dpdGhNYXRjaGVzKHQpfWRldGFjaFZpZXcodCl7dGhpcy5kaXJ0eVF1ZXJpZXNXaXRoTWF0Y2hlcyh0KX1kaXJ0eVF1ZXJpZXNXaXRoTWF0Y2hlcyh0KXtmb3IobGV0IGU9MDtlPHRoaXMucXVlcmllcy5sZW5ndGg7ZSsrKW51bGwhPT1YYyh0LGUpLm1hdGNoZXMmJnRoaXMucXVlcmllc1tlXS5zZXREaXJ0eSgpfX1jbGFzcyBCY3tjb25zdHJ1Y3Rvcih0LGUsbj1udWxsKXt0aGlzLnByZWRpY2F0ZT10LHRoaXMuZmxhZ3M9ZSx0aGlzLnJlYWQ9bn19Y2xhc3MgamN7Y29uc3RydWN0b3IodD1bXSl7dGhpcy5xdWVyaWVzPXR9ZWxlbWVudFN0YXJ0KHQsZSl7Zm9yKGxldCBuPTA7bjx0aGlzLnF1ZXJpZXMubGVuZ3RoO24rKyl0aGlzLnF1ZXJpZXNbbl0uZWxlbWVudFN0YXJ0KHQsZSl9ZWxlbWVudEVuZCh0KXtmb3IobGV0IGU9MDtlPHRoaXMucXVlcmllcy5sZW5ndGg7ZSsrKXRoaXMucXVlcmllc1tlXS5lbGVtZW50RW5kKHQpfWVtYmVkZGVkVFZpZXcodCl7bGV0IGU9bnVsbDtmb3IobGV0IG49MDtuPHRoaXMubGVuZ3RoO24rKyl7Y29uc3Qgcj1udWxsIT09ZT9lLmxlbmd0aDowLHM9dGhpcy5nZXRCeUluZGV4KG4pLmVtYmVkZGVkVFZpZXcodCxyKTtzJiYocy5pbmRleEluRGVjbGFyYXRpb25WaWV3PW4sbnVsbCE9PWU/ZS5wdXNoKHMpOmU9W3NdKX1yZXR1cm4gbnVsbCE9PWU/bmV3IGpjKGUpOm51bGx9dGVtcGxhdGUodCxlKXtmb3IobGV0IG49MDtuPHRoaXMucXVlcmllcy5sZW5ndGg7bisrKXRoaXMucXVlcmllc1tuXS50ZW1wbGF0ZSh0LGUpfWdldEJ5SW5kZXgodCl7cmV0dXJuIHRoaXMucXVlcmllc1t0XX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMucXVlcmllcy5sZW5ndGh9dHJhY2sodCl7dGhpcy5xdWVyaWVzLnB1c2godCl9fWNsYXNzIE1je2NvbnN0cnVjdG9yKHQsZT0tMSl7dGhpcy5tZXRhZGF0YT10LHRoaXMubWF0Y2hlcz1udWxsLHRoaXMuaW5kZXhJbkRlY2xhcmF0aW9uVmlldz0tMSx0aGlzLmNyb3NzZXNOZ1RlbXBsYXRlPSExLHRoaXMuX2FwcGxpZXNUb05leHROb2RlPSEwLHRoaXMuX2RlY2xhcmF0aW9uTm9kZUluZGV4PWV9ZWxlbWVudFN0YXJ0KHQsZSl7dGhpcy5pc0FwcGx5aW5nVG9Ob2RlKGUpJiZ0aGlzLm1hdGNoVE5vZGUodCxlKX1lbGVtZW50RW5kKHQpe3RoaXMuX2RlY2xhcmF0aW9uTm9kZUluZGV4PT09dC5pbmRleCYmKHRoaXMuX2FwcGxpZXNUb05leHROb2RlPSExKX10ZW1wbGF0ZSh0LGUpe3RoaXMuZWxlbWVudFN0YXJ0KHQsZSl9ZW1iZWRkZWRUVmlldyh0LGUpe3JldHVybiB0aGlzLmlzQXBwbHlpbmdUb05vZGUodCk/KHRoaXMuY3Jvc3Nlc05nVGVtcGxhdGU9ITAsdGhpcy5hZGRNYXRjaCgtdC5pbmRleCxlKSxuZXcgTWModGhpcy5tZXRhZGF0YSkpOm51bGx9aXNBcHBseWluZ1RvTm9kZSh0KXtpZih0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZSYmMSE9KDEmdGhpcy5tZXRhZGF0YS5mbGFncykpe2NvbnN0IGU9dGhpcy5fZGVjbGFyYXRpb25Ob2RlSW5kZXg7bGV0IG49dC5wYXJlbnQ7Zm9yKDtudWxsIT09biYmOCZuLnR5cGUmJm4uaW5kZXghPT1lOyluPW4ucGFyZW50O3JldHVybiBlPT09KG51bGwhPT1uP24uaW5kZXg6LTEpfXJldHVybiB0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZX1tYXRjaFROb2RlKHQsZSl7Y29uc3Qgbj10aGlzLm1ldGFkYXRhLnByZWRpY2F0ZTtpZihBcnJheS5pc0FycmF5KG4pKWZvcihsZXQgcj0wO3I8bi5sZW5ndGg7cisrKXtjb25zdCBzPW5bcl07dGhpcy5tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24odCxlLE5jKGUscykpLHRoaXMubWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHQsZSxNbihlLHQscywhMSwhMSkpfWVsc2Ugbj09PW9jPzQmZS50eXBlJiZ0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0LGUsLTEpOnRoaXMubWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHQsZSxNbihlLHQsbiwhMSwhMSkpfW1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0LGUsbil7aWYobnVsbCE9PW4pe2NvbnN0IHI9dGhpcy5tZXRhZGF0YS5yZWFkO2lmKG51bGwhPT1yKWlmKHI9PT1rYXx8cj09PXBjfHxyPT09b2MmJjQmZS50eXBlKXRoaXMuYWRkTWF0Y2goZS5pbmRleCwtMik7ZWxzZXtjb25zdCBuPU1uKGUsdCxyLCExLCExKTtudWxsIT09biYmdGhpcy5hZGRNYXRjaChlLmluZGV4LG4pfWVsc2UgdGhpcy5hZGRNYXRjaChlLmluZGV4LG4pfX1hZGRNYXRjaCh0LGUpe251bGw9PT10aGlzLm1hdGNoZXM/dGhpcy5tYXRjaGVzPVt0LGVdOnRoaXMubWF0Y2hlcy5wdXNoKHQsZSl9fWZ1bmN0aW9uIE5jKHQsZSl7Y29uc3Qgbj10LmxvY2FsTmFtZXM7aWYobnVsbCE9PW4pZm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKz0yKWlmKG5bcl09PT1lKXJldHVybiBuW3IrMV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gSGModCxlLG4scil7cmV0dXJuLTE9PT1uP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIDExJnQudHlwZT9BYSh0LGUpOjQmdC50eXBlP2xjKHQsZSk6bnVsbH0oZSx0KTotMj09PW4/ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuPT09a2E/QWEoZSx0KTpuPT09b2M/bGMoZSx0KTpuPT09cGM/dmMoZSx0KTp2b2lkIDB9KHQsZSxyKTpObih0LHRbMV0sbixlKX1mdW5jdGlvbiBWYyh0LGUsbixyKXtjb25zdCBzPWVbMTldLnF1ZXJpZXNbcl07aWYobnVsbD09PXMubWF0Y2hlcyl7Y29uc3Qgcj10LmRhdGEsaT1uLm1hdGNoZXMsbz1bXTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrPTIpe2NvbnN0IHM9aVt0XTtvLnB1c2goczwwP251bGw6SGMoZSxyW3NdLGlbdCsxXSxuLm1ldGFkYXRhLnJlYWQpKX1zLm1hdGNoZXM9b31yZXR1cm4gcy5tYXRjaGVzfWZ1bmN0aW9uIHpjKHQsZSxuLHIpe2NvbnN0IHM9dC5xdWVyaWVzLmdldEJ5SW5kZXgobiksaT1zLm1hdGNoZXM7aWYobnVsbCE9PWkpe2NvbnN0IG89VmModCxlLHMsbik7Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0Kz0yKXtjb25zdCBuPWlbdF07aWYobj4wKXIucHVzaChvW3QvMl0pO2Vsc2V7Y29uc3Qgcz1pW3QrMV0sbz1lWy1uXTtmb3IobGV0IHQ9SnQ7dDxvLmxlbmd0aDt0Kyspe2NvbnN0IGU9b1t0XTtlWzE3XT09PWVbM10mJnpjKGVbMV0sZSxzLHIpfWlmKG51bGwhPT1vWzldKXtjb25zdCB0PW9bOV07Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IG49dFtlXTt6YyhuWzFdLG4scyxyKX19fX19cmV0dXJuIHJ9ZnVuY3Rpb24gJGModCl7Y29uc3QgZT1JZSgpLG49T2UoKSxyPXFlKCk7WGUocisxKTtjb25zdCBzPVhjKG4scik7aWYodC5kaXJ0eSYmRWUoZSk9PT0oMj09KDImcy5tZXRhZGF0YS5mbGFncykpKXtpZihudWxsPT09cy5tYXRjaGVzKXQucmVzZXQoW10pO2Vsc2V7Y29uc3QgaT1zLmNyb3NzZXNOZ1RlbXBsYXRlP3pjKG4sZSxyLFtdKTpWYyhuLGUscyxyKTt0LnJlc2V0KGksRmEpLHQubm90aWZ5T25DaGFuZ2VzKCl9cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gVWModCxlLG4pe2NvbnN0IHI9T2UoKTtyLmZpcnN0Q3JlYXRlUGFzcyYmKHFjKHIsbmV3IEJjKHQsZSxuKSwtMSksMj09KDImZSkmJihyLnN0YXRpY1ZpZXdRdWVyaWVzPSEwKSksR2MocixJZSgpLGUpfWZ1bmN0aW9uIFdjKCl7cmV0dXJuIHQ9SWUoKSxlPXFlKCksdFsxOV0ucXVlcmllc1tlXS5xdWVyeUxpc3Q7dmFyIHQsZX1mdW5jdGlvbiBHYyh0LGUsbil7Y29uc3Qgcj1uZXcgUGMoND09KDQmbikpO3VpKHQsZSxyLHIuZGVzdHJveSksbnVsbD09PWVbMTldJiYoZVsxOV09bmV3IExjKSxlWzE5XS5xdWVyaWVzLnB1c2gobmV3IFJjKHIpKX1mdW5jdGlvbiBxYyh0LGUsbil7bnVsbD09PXQucXVlcmllcyYmKHQucXVlcmllcz1uZXcgamMpLHQucXVlcmllcy50cmFjayhuZXcgTWMoZSxuKSl9ZnVuY3Rpb24gWGModCxlKXtyZXR1cm4gdC5xdWVyaWVzLmdldEJ5SW5kZXgoZSl9ZnVuY3Rpb24gWWModCxlKXtyZXR1cm4gbGModCxlKX1jb25zdCBaYz1uZXcgcW4oIkFwcGxpY2F0aW9uIEluaXRpYWxpemVyIik7bGV0IFFjPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5hcHBJbml0cz10LHRoaXMucmVzb2x2ZT14YSx0aGlzLnJlamVjdD14YSx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuZG9uZT0hMSx0aGlzLmRvbmVQcm9taXNlPW5ldyBQcm9taXNlKCh0LGUpPT57dGhpcy5yZXNvbHZlPXQsdGhpcy5yZWplY3Q9ZX0pfXJ1bkluaXRpYWxpemVycygpe2lmKHRoaXMuaW5pdGlhbGl6ZWQpcmV0dXJuO2NvbnN0IHQ9W10sZT0oKT0+e3RoaXMuZG9uZT0hMCx0aGlzLnJlc29sdmUoKX07aWYodGhpcy5hcHBJbml0cylmb3IobGV0IG49MDtuPHRoaXMuYXBwSW5pdHMubGVuZ3RoO24rKyl7Y29uc3QgZT10aGlzLmFwcEluaXRzW25dKCk7aWYoeG8oZSkpdC5wdXNoKGUpO2Vsc2UgaWYoVG8oZSkpe2NvbnN0IG49bmV3IFByb21pc2UoKHQsbik9PntlLnN1YnNjcmliZSh7Y29tcGxldGU6dCxlcnJvcjpufSl9KTt0LnB1c2gobil9fVByb21pc2UuYWxsKHQpLnRoZW4oKCk9PntlKCl9KS5jYXRjaCh0PT57dGhpcy5yZWplY3QodCl9KSwwPT09dC5sZW5ndGgmJmUoKSx0aGlzLmluaXRpYWxpemVkPSEwfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShocihaYyw4KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y29uc3QgS2M9bmV3IHFuKCJBcHBJZCIpLEpjPXtwcm92aWRlOktjLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm5gJHt0bCgpfSR7dGwoKX0ke3RsKCl9YH0sZGVwczpbXX07ZnVuY3Rpb24gdGwoKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg5NytNYXRoLmZsb29yKDI1Kk1hdGgucmFuZG9tKCkpKX1jb25zdCBlbD1uZXcgcW4oIlBsYXRmb3JtIEluaXRpYWxpemVyIiksbmw9bmV3IHFuKCJQbGF0Zm9ybSBJRCIpLHJsPW5ldyBxbigiYXBwQm9vdHN0cmFwTGlzdGVuZXIiKTtsZXQgc2w9KCgpPT57Y2xhc3MgdHtsb2codCl7Y29uc29sZS5sb2codCl9d2Fybih0KXtjb25zb2xlLndhcm4odCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IGlsPW5ldyBxbigiTG9jYWxlSWQiKSxvbD1uZXcgcW4oIkRlZmF1bHRDdXJyZW5jeUNvZGUiKTtjbGFzcyBhbHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMubmdNb2R1bGVGYWN0b3J5PXQsdGhpcy5jb21wb25lbnRGYWN0b3JpZXM9ZX19Y29uc3QgY2w9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBBYyh0KX0sbGw9Y2wsdWw9ZnVuY3Rpb24odCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShjbCh0KSl9LGhsPWZ1bmN0aW9uKHQpe2NvbnN0IGU9Y2wodCksbj1lcyhRdCh0KS5kZWNsYXJhdGlvbnMpLnJlZHVjZSgodCxlKT0+e2NvbnN0IG49WnQoZSk7cmV0dXJuIG4mJnQucHVzaChuZXcgRGMobikpLHR9LFtdKTtyZXR1cm4gbmV3IGFsKGUsbil9LGRsPWhsLHBsPWZ1bmN0aW9uKHQpe3JldHVybiBQcm9taXNlLnJlc29sdmUoaGwodCkpfTtsZXQgZmw9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuY29tcGlsZU1vZHVsZVN5bmM9bGwsdGhpcy5jb21waWxlTW9kdWxlQXN5bmM9dWwsdGhpcy5jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c1N5bmM9ZGwsdGhpcy5jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c0FzeW5jPXBsfWNsZWFyQ2FjaGUoKXt9Y2xlYXJDYWNoZUZvcih0KXt9Z2V0TW9kdWxlSWQodCl7fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCBnbD0oKCk9PlByb21pc2UucmVzb2x2ZSgwKSkoKTtmdW5jdGlvbiBtbCh0KXsidW5kZWZpbmVkIj09dHlwZW9mIFpvbmU/Z2wudGhlbigoKT0+e3QmJnQuYXBwbHkobnVsbCxudWxsKX0pOlpvbmUuY3VycmVudC5zY2hlZHVsZU1pY3JvVGFzaygic2NoZWR1bGVNaWNyb3Rhc2siLHQpfWNsYXNzIHlse2NvbnN0cnVjdG9yKHtlbmFibGVMb25nU3RhY2tUcmFjZTp0PSExLHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb246ZT0hMSxzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbjpuPSExfSl7aWYodGhpcy5oYXNQZW5kaW5nTWFjcm90YXNrcz0hMSx0aGlzLmhhc1BlbmRpbmdNaWNyb3Rhc2tzPSExLHRoaXMuaXNTdGFibGU9ITAsdGhpcy5vblVuc3RhYmxlPW5ldyBJYyghMSksdGhpcy5vbk1pY3JvdGFza0VtcHR5PW5ldyBJYyghMSksdGhpcy5vblN0YWJsZT1uZXcgSWMoITEpLHRoaXMub25FcnJvcj1uZXcgSWMoITEpLCJ1bmRlZmluZWQiPT10eXBlb2YgWm9uZSl0aHJvdyBuZXcgRXJyb3IoIkluIHRoaXMgY29uZmlndXJhdGlvbiBBbmd1bGFyIHJlcXVpcmVzIFpvbmUuanMiKTtab25lLmFzc2VydFpvbmVQYXRjaGVkKCk7Y29uc3Qgcj10aGlzO3IuX25lc3Rpbmc9MCxyLl9vdXRlcj1yLl9pbm5lcj1ab25lLmN1cnJlbnQsWm9uZS5UYXNrVHJhY2tpbmdab25lU3BlYyYmKHIuX2lubmVyPXIuX2lubmVyLmZvcmsobmV3IFpvbmUuVGFza1RyYWNraW5nWm9uZVNwZWMpKSx0JiZab25lLmxvbmdTdGFja1RyYWNlWm9uZVNwZWMmJihyLl9pbm5lcj1yLl9pbm5lci5mb3JrKFpvbmUubG9uZ1N0YWNrVHJhY2Vab25lU3BlYykpLHIuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbj0hbiYmZSxyLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uPW4sci5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQ9LTEsci5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtsZXQgdD1JdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsZT1JdC5jYW5jZWxBbmltYXRpb25GcmFtZTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFpvbmUmJnQmJmUpe2NvbnN0IG49dFtab25lLl9fc3ltYm9sX18oIk9yaWdpbmFsRGVsZWdhdGUiKV07biYmKHQ9bik7Y29uc3Qgcj1lW1pvbmUuX19zeW1ib2xfXygiT3JpZ2luYWxEZWxlZ2F0ZSIpXTtyJiYoZT1yKX1yZXR1cm57bmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lOnQsbmF0aXZlQ2FuY2VsQW5pbWF0aW9uRnJhbWU6ZX19KCkubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lLGZ1bmN0aW9uKHQpe2NvbnN0IGU9KCk9PnshZnVuY3Rpb24odCl7dC5pc0NoZWNrU3RhYmxlUnVubmluZ3x8LTEhPT10Lmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZHx8KHQubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkPXQubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lLmNhbGwoSXQsKCk9Pnt0LmZha2VUb3BFdmVudFRhc2t8fCh0LmZha2VUb3BFdmVudFRhc2s9Wm9uZS5yb290LnNjaGVkdWxlRXZlbnRUYXNrKCJmYWtlVG9wRXZlbnRUYXNrIiwoKT0+e3QubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkPS0xLENsKHQpLHQuaXNDaGVja1N0YWJsZVJ1bm5pbmc9ITAsYmwodCksdC5pc0NoZWNrU3RhYmxlUnVubmluZz0hMX0sdm9pZCAwLCgpPT57fSwoKT0+e30pKSx0LmZha2VUb3BFdmVudFRhc2suaW52b2tlKCl9KSxDbCh0KSl9KHQpfTt0Ll9pbm5lcj10Ll9pbm5lci5mb3JrKHtuYW1lOiJhbmd1bGFyIixwcm9wZXJ0aWVzOntpc0FuZ3VsYXJab25lOiEwfSxvbkludm9rZVRhc2s6KG4scixzLGksbyxhKT0+e3RyeXtyZXR1cm4gd2wodCksbi5pbnZva2VUYXNrKHMsaSxvLGEpfWZpbmFsbHl7KHQuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiYmImV2ZW50VGFzayI9PT1pLnR5cGV8fHQuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24pJiZlKCksX2wodCl9fSxvbkludm9rZToobixyLHMsaSxvLGEsYyk9Pnt0cnl7cmV0dXJuIHdsKHQpLG4uaW52b2tlKHMsaSxvLGEsYyl9ZmluYWxseXt0LnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uJiZlKCksX2wodCl9fSxvbkhhc1Rhc2s6KGUsbixyLHMpPT57ZS5oYXNUYXNrKHIscyksbj09PXImJigibWljcm9UYXNrIj09cy5jaGFuZ2U/KHQuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzPXMubWljcm9UYXNrLENsKHQpLGJsKHQpKToibWFjcm9UYXNrIj09cy5jaGFuZ2UmJih0Lmhhc1BlbmRpbmdNYWNyb3Rhc2tzPXMubWFjcm9UYXNrKSl9LG9uSGFuZGxlRXJyb3I6KGUsbixyLHMpPT4oZS5oYW5kbGVFcnJvcihyLHMpLHQucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PnQub25FcnJvci5lbWl0KHMpKSwhMSl9KX0ocil9c3RhdGljIGlzSW5Bbmd1bGFyWm9uZSgpe3JldHVybiEwPT09Wm9uZS5jdXJyZW50LmdldCgiaXNBbmd1bGFyWm9uZSIpfXN0YXRpYyBhc3NlcnRJbkFuZ3VsYXJab25lKCl7aWYoIXlsLmlzSW5Bbmd1bGFyWm9uZSgpKXRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgdG8gYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMgbm90ISIpfXN0YXRpYyBhc3NlcnROb3RJbkFuZ3VsYXJab25lKCl7aWYoeWwuaXNJbkFuZ3VsYXJab25lKCkpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCB0byBub3QgYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMhIil9cnVuKHQsZSxuKXtyZXR1cm4gdGhpcy5faW5uZXIucnVuKHQsZSxuKX1ydW5UYXNrKHQsZSxuLHIpe2NvbnN0IHM9dGhpcy5faW5uZXIsaT1zLnNjaGVkdWxlRXZlbnRUYXNrKCJOZ1pvbmVFdmVudDogIityLHQsdmwseGEseGEpO3RyeXtyZXR1cm4gcy5ydW5UYXNrKGksZSxuKX1maW5hbGx5e3MuY2FuY2VsVGFzayhpKX19cnVuR3VhcmRlZCh0LGUsbil7cmV0dXJuIHRoaXMuX2lubmVyLnJ1bkd1YXJkZWQodCxlLG4pfXJ1bk91dHNpZGVBbmd1bGFyKHQpe3JldHVybiB0aGlzLl9vdXRlci5ydW4odCl9fWNvbnN0IHZsPXt9O2Z1bmN0aW9uIGJsKHQpe2lmKDA9PXQuX25lc3RpbmcmJiF0Lmhhc1BlbmRpbmdNaWNyb3Rhc2tzJiYhdC5pc1N0YWJsZSl0cnl7dC5fbmVzdGluZysrLHQub25NaWNyb3Rhc2tFbXB0eS5lbWl0KG51bGwpfWZpbmFsbHl7aWYodC5fbmVzdGluZy0tLCF0Lmhhc1BlbmRpbmdNaWNyb3Rhc2tzKXRyeXt0LnJ1bk91dHNpZGVBbmd1bGFyKCgpPT50Lm9uU3RhYmxlLmVtaXQobnVsbCkpfWZpbmFsbHl7dC5pc1N0YWJsZT0hMH19fWZ1bmN0aW9uIENsKHQpe3QuaGFzUGVuZGluZ01pY3JvdGFza3M9ISEodC5faGFzUGVuZGluZ01pY3JvdGFza3N8fCh0LnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb258fHQuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24pJiYtMSE9PXQubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkKX1mdW5jdGlvbiB3bCh0KXt0Ll9uZXN0aW5nKyssdC5pc1N0YWJsZSYmKHQuaXNTdGFibGU9ITEsdC5vblVuc3RhYmxlLmVtaXQobnVsbCkpfWZ1bmN0aW9uIF9sKHQpe3QuX25lc3RpbmctLSxibCh0KX1jbGFzcyBEbHtjb25zdHJ1Y3Rvcigpe3RoaXMuaGFzUGVuZGluZ01pY3JvdGFza3M9ITEsdGhpcy5oYXNQZW5kaW5nTWFjcm90YXNrcz0hMSx0aGlzLmlzU3RhYmxlPSEwLHRoaXMub25VbnN0YWJsZT1uZXcgSWMsdGhpcy5vbk1pY3JvdGFza0VtcHR5PW5ldyBJYyx0aGlzLm9uU3RhYmxlPW5ldyBJYyx0aGlzLm9uRXJyb3I9bmV3IEljfXJ1bih0LGUsbil7cmV0dXJuIHQuYXBwbHkoZSxuKX1ydW5HdWFyZGVkKHQsZSxuKXtyZXR1cm4gdC5hcHBseShlLG4pfXJ1bk91dHNpZGVBbmd1bGFyKHQpe3JldHVybiB0KCl9cnVuVGFzayh0LGUsbixyKXtyZXR1cm4gdC5hcHBseShlLG4pfX1sZXQgRWw9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9uZ1pvbmU9dCx0aGlzLl9wZW5kaW5nQ291bnQ9MCx0aGlzLl9pc1pvbmVTdGFibGU9ITAsdGhpcy5fZGlkV29yaz0hMSx0aGlzLl9jYWxsYmFja3M9W10sdGhpcy50YXNrVHJhY2tpbmdab25lPW51bGwsdGhpcy5fd2F0Y2hBbmd1bGFyRXZlbnRzKCksdC5ydW4oKCk9Pnt0aGlzLnRhc2tUcmFja2luZ1pvbmU9InVuZGVmaW5lZCI9PXR5cGVvZiBab25lP251bGw6Wm9uZS5jdXJyZW50LmdldCgiVGFza1RyYWNraW5nWm9uZSIpfSl9X3dhdGNoQW5ndWxhckV2ZW50cygpe3RoaXMuX25nWm9uZS5vblVuc3RhYmxlLnN1YnNjcmliZSh7bmV4dDooKT0+e3RoaXMuX2RpZFdvcms9ITAsdGhpcy5faXNab25lU3RhYmxlPSExfX0pLHRoaXMuX25nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e3RoaXMuX25nWm9uZS5vblN0YWJsZS5zdWJzY3JpYmUoe25leHQ6KCk9Pnt5bC5hc3NlcnROb3RJbkFuZ3VsYXJab25lKCksbWwoKCk9Pnt0aGlzLl9pc1pvbmVTdGFibGU9ITAsdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpfSl9fSl9KX1pbmNyZWFzZVBlbmRpbmdSZXF1ZXN0Q291bnQoKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50Kz0xLHRoaXMuX2RpZFdvcms9ITAsdGhpcy5fcGVuZGluZ0NvdW50fWRlY3JlYXNlUGVuZGluZ1JlcXVlc3RDb3VudCgpe2lmKHRoaXMuX3BlbmRpbmdDb3VudC09MSx0aGlzLl9wZW5kaW5nQ291bnQ8MCl0aHJvdyBuZXcgRXJyb3IoInBlbmRpbmcgYXN5bmMgcmVxdWVzdHMgYmVsb3cgemVybyIpO3JldHVybiB0aGlzLl9ydW5DYWxsYmFja3NJZlJlYWR5KCksdGhpcy5fcGVuZGluZ0NvdW50fWlzU3RhYmxlKCl7cmV0dXJuIHRoaXMuX2lzWm9uZVN0YWJsZSYmMD09PXRoaXMuX3BlbmRpbmdDb3VudCYmIXRoaXMuX25nWm9uZS5oYXNQZW5kaW5nTWFjcm90YXNrc31fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpe2lmKHRoaXMuaXNTdGFibGUoKSltbCgoKT0+e2Zvcig7MCE9PXRoaXMuX2NhbGxiYWNrcy5sZW5ndGg7KXtsZXQgdD10aGlzLl9jYWxsYmFja3MucG9wKCk7Y2xlYXJUaW1lb3V0KHQudGltZW91dElkKSx0LmRvbmVDYih0aGlzLl9kaWRXb3JrKX10aGlzLl9kaWRXb3JrPSExfSk7ZWxzZXtsZXQgdD10aGlzLmdldFBlbmRpbmdUYXNrcygpO3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3MuZmlsdGVyKGU9PiFlLnVwZGF0ZUNifHwhZS51cGRhdGVDYih0KXx8KGNsZWFyVGltZW91dChlLnRpbWVvdXRJZCksITEpKSx0aGlzLl9kaWRXb3JrPSEwfX1nZXRQZW5kaW5nVGFza3MoKXtyZXR1cm4gdGhpcy50YXNrVHJhY2tpbmdab25lP3RoaXMudGFza1RyYWNraW5nWm9uZS5tYWNyb1Rhc2tzLm1hcCh0PT4oe3NvdXJjZTp0LnNvdXJjZSxjcmVhdGlvbkxvY2F0aW9uOnQuY3JlYXRpb25Mb2NhdGlvbixkYXRhOnQuZGF0YX0pKTpbXX1hZGRDYWxsYmFjayh0LGUsbil7bGV0IHI9LTE7ZSYmZT4wJiYocj1zZXRUaW1lb3V0KCgpPT57dGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrcy5maWx0ZXIodD0+dC50aW1lb3V0SWQhPT1yKSx0KHRoaXMuX2RpZFdvcmssdGhpcy5nZXRQZW5kaW5nVGFza3MoKSl9LGUpKSx0aGlzLl9jYWxsYmFja3MucHVzaCh7ZG9uZUNiOnQsdGltZW91dElkOnIsdXBkYXRlQ2I6bn0pfXdoZW5TdGFibGUodCxlLG4pe2lmKG4mJiF0aGlzLnRhc2tUcmFja2luZ1pvbmUpdGhyb3cgbmV3IEVycm9yKCdUYXNrIHRyYWNraW5nIHpvbmUgaXMgcmVxdWlyZWQgd2hlbiBwYXNzaW5nIGFuIHVwZGF0ZSBjYWxsYmFjayB0byB3aGVuU3RhYmxlKCkuIElzICJ6b25lLmpzL3BsdWdpbnMvdGFzay10cmFja2luZyIgbG9hZGVkPycpO3RoaXMuYWRkQ2FsbGJhY2sodCxlLG4pLHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKX1nZXRQZW5kaW5nUmVxdWVzdENvdW50KCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudH1maW5kUHJvdmlkZXJzKHQsZSxuKXtyZXR1cm5bXX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaHIoeWwpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxTbD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5fYXBwbGljYXRpb25zPW5ldyBNYXAsVGwuYWRkVG9XaW5kb3codGhpcyl9cmVnaXN0ZXJBcHBsaWNhdGlvbih0LGUpe3RoaXMuX2FwcGxpY2F0aW9ucy5zZXQodCxlKX11bnJlZ2lzdGVyQXBwbGljYXRpb24odCl7dGhpcy5fYXBwbGljYXRpb25zLmRlbGV0ZSh0KX11bnJlZ2lzdGVyQWxsQXBwbGljYXRpb25zKCl7dGhpcy5fYXBwbGljYXRpb25zLmNsZWFyKCl9Z2V0VGVzdGFiaWxpdHkodCl7cmV0dXJuIHRoaXMuX2FwcGxpY2F0aW9ucy5nZXQodCl8fG51bGx9Z2V0QWxsVGVzdGFiaWxpdGllcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX2FwcGxpY2F0aW9ucy52YWx1ZXMoKSl9Z2V0QWxsUm9vdEVsZW1lbnRzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fYXBwbGljYXRpb25zLmtleXMoKSl9ZmluZFRlc3RhYmlsaXR5SW5UcmVlKHQsZT0hMCl7cmV0dXJuIFRsLmZpbmRUZXN0YWJpbGl0eUluVHJlZSh0aGlzLHQsZSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NsYXNzIHhse2FkZFRvV2luZG93KHQpe31maW5kVGVzdGFiaWxpdHlJblRyZWUodCxlLG4pe3JldHVybiBudWxsfX1sZXQgQWwsVGw9bmV3IHhsLGtsPSEwLEZsPSExO2NvbnN0IElsPW5ldyBxbigiQWxsb3dNdWx0aXBsZVRva2VuIik7Y2xhc3MgT2x7Y29uc3RydWN0b3IodCxlKXt0aGlzLm5hbWU9dCx0aGlzLnRva2VuPWV9fWZ1bmN0aW9uIFBsKHQsZSxuPVtdKXtjb25zdCByPWBQbGF0Zm9ybTogJHtlfWAscz1uZXcgcW4ocik7cmV0dXJuKGU9W10pPT57bGV0IGk9UmwoKTtpZighaXx8aS5pbmplY3Rvci5nZXQoSWwsITEpKWlmKHQpdChuLmNvbmNhdChlKS5jb25jYXQoe3Byb3ZpZGU6cyx1c2VWYWx1ZTohMH0pKTtlbHNle2NvbnN0IHQ9bi5jb25jYXQoZSkuY29uY2F0KHtwcm92aWRlOnMsdXNlVmFsdWU6ITB9LHtwcm92aWRlOk5pLHVzZVZhbHVlOiJwbGF0Zm9ybSJ9KTshZnVuY3Rpb24odCl7aWYoQWwmJiFBbC5kZXN0cm95ZWQmJiFBbC5pbmplY3Rvci5nZXQoSWwsITEpKXRocm93IG5ldyBFcnJvcigiVGhlcmUgY2FuIGJlIG9ubHkgb25lIHBsYXRmb3JtLiBEZXN0cm95IHRoZSBwcmV2aW91cyBvbmUgdG8gY3JlYXRlIGEgbmV3IG9uZS4iKTtBbD10LmdldChMbCk7Y29uc3QgZT10LmdldChlbCxudWxsKTtlJiZlLmZvckVhY2godD0+dCgpKX0oS2kuY3JlYXRlKHtwcm92aWRlcnM6dCxuYW1lOnJ9KSl9cmV0dXJuIGZ1bmN0aW9uKHQpe2NvbnN0IGU9UmwoKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIk5vIHBsYXRmb3JtIGV4aXN0cyEiKTtpZighZS5pbmplY3Rvci5nZXQodCxudWxsKSl0aHJvdyBuZXcgRXJyb3IoIkEgcGxhdGZvcm0gd2l0aCBhIGRpZmZlcmVudCBjb25maWd1cmF0aW9uIGhhcyBiZWVuIGNyZWF0ZWQuIFBsZWFzZSBkZXN0cm95IGl0IGZpcnN0LiIpO3JldHVybiBlfShzKX19ZnVuY3Rpb24gUmwoKXtyZXR1cm4gQWwmJiFBbC5kZXN0cm95ZWQ/QWw6bnVsbH1sZXQgTGw9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pbmplY3Rvcj10LHRoaXMuX21vZHVsZXM9W10sdGhpcy5fZGVzdHJveUxpc3RlbmVycz1bXSx0aGlzLl9kZXN0cm95ZWQ9ITF9Ym9vdHN0cmFwTW9kdWxlRmFjdG9yeSh0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCxlKXtsZXQgbjtyZXR1cm4gbj0ibm9vcCI9PT10P25ldyBEbDooInpvbmUuanMiPT09dD92b2lkIDA6dCl8fG5ldyB5bCh7ZW5hYmxlTG9uZ1N0YWNrVHJhY2U6KEZsPSEwLGtsKSxzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uOiEhKG51bGw9PWU/dm9pZCAwOmUubmdab25lRXZlbnRDb2FsZXNjaW5nKSxzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbjohIShudWxsPT1lP3ZvaWQgMDplLm5nWm9uZVJ1bkNvYWxlc2NpbmcpfSksbn0oZT9lLm5nWm9uZTp2b2lkIDAse25nWm9uZUV2ZW50Q29hbGVzY2luZzplJiZlLm5nWm9uZUV2ZW50Q29hbGVzY2luZ3x8ITEsbmdab25lUnVuQ29hbGVzY2luZzplJiZlLm5nWm9uZVJ1bkNvYWxlc2Npbmd8fCExfSkscj1be3Byb3ZpZGU6eWwsdXNlVmFsdWU6bn1dO3JldHVybiBuLnJ1bigoKT0+e2NvbnN0IGU9S2kuY3JlYXRlKHtwcm92aWRlcnM6cixwYXJlbnQ6dGhpcy5pbmplY3RvcixuYW1lOnQubW9kdWxlVHlwZS5uYW1lfSkscz10LmNyZWF0ZShlKSxpPXMuaW5qZWN0b3IuZ2V0KEtyLG51bGwpO2lmKCFpKXRocm93IG5ldyBFcnJvcigiTm8gRXJyb3JIYW5kbGVyLiBJcyBwbGF0Zm9ybSBtb2R1bGUgKEJyb3dzZXJNb2R1bGUpIGluY2x1ZGVkPyIpO3JldHVybiBuLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT57Y29uc3QgdD1uLm9uRXJyb3Iuc3Vic2NyaWJlKHtuZXh0OnQ9PntpLmhhbmRsZUVycm9yKHQpfX0pO3Mub25EZXN0cm95KCgpPT57TWwodGhpcy5fbW9kdWxlcyxzKSx0LnVuc3Vic2NyaWJlKCl9KX0pLGZ1bmN0aW9uKHQsZSxuKXt0cnl7Y29uc3Qgcj1uKCk7cmV0dXJuIHhvKHIpP3IuY2F0Y2gobj0+e3Rocm93IGUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PnQuaGFuZGxlRXJyb3IobikpLG59KTpyfWNhdGNoKHIpe3Rocm93IGUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PnQuaGFuZGxlRXJyb3IocikpLHJ9fShpLG4sKCk9Pntjb25zdCB0PXMuaW5qZWN0b3IuZ2V0KFFjKTtyZXR1cm4gdC5ydW5Jbml0aWFsaXplcnMoKSx0LmRvbmVQcm9taXNlLnRoZW4oKCk9PihmYShzLmluamVjdG9yLmdldChpbCxkYSl8fGRhKSx0aGlzLl9tb2R1bGVEb0Jvb3RzdHJhcChzKSxzKSl9KX0pfWJvb3RzdHJhcE1vZHVsZSh0LGU9W10pe2NvbnN0IG49Qmwoe30sZSk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPW5ldyBBYyhuKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIpfSgwLDAsdCkudGhlbih0PT50aGlzLmJvb3RzdHJhcE1vZHVsZUZhY3RvcnkodCxuKSl9X21vZHVsZURvQm9vdHN0cmFwKHQpe2NvbnN0IGU9dC5pbmplY3Rvci5nZXQoamwpO2lmKHQuX2Jvb3RzdHJhcENvbXBvbmVudHMubGVuZ3RoPjApdC5fYm9vdHN0cmFwQ29tcG9uZW50cy5mb3JFYWNoKHQ9PmUuYm9vdHN0cmFwKHQpKTtlbHNle2lmKCF0Lmluc3RhbmNlLm5nRG9Cb290c3RyYXApdGhyb3cgbmV3IEVycm9yKGBUaGUgbW9kdWxlICR7ZXQodC5pbnN0YW5jZS5jb25zdHJ1Y3Rvcil9IHdhcyBib290c3RyYXBwZWQsIGJ1dCBpdCBkb2VzIG5vdCBkZWNsYXJlICJATmdNb2R1bGUuYm9vdHN0cmFwIiBjb21wb25lbnRzIG5vciBhICJuZ0RvQm9vdHN0cmFwIiBtZXRob2QuIFBsZWFzZSBkZWZpbmUgb25lIG9mIHRoZXNlLmApO3QuaW5zdGFuY2UubmdEb0Jvb3RzdHJhcChlKX10aGlzLl9tb2R1bGVzLnB1c2godCl9b25EZXN0cm95KHQpe3RoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMucHVzaCh0KX1nZXQgaW5qZWN0b3IoKXtyZXR1cm4gdGhpcy5faW5qZWN0b3J9ZGVzdHJveSgpe2lmKHRoaXMuX2Rlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBwbGF0Zm9ybSBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZCEiKTt0aGlzLl9tb2R1bGVzLnNsaWNlKCkuZm9yRWFjaCh0PT50LmRlc3Ryb3koKSksdGhpcy5fZGVzdHJveUxpc3RlbmVycy5mb3JFYWNoKHQ9PnQoKSksdGhpcy5fZGVzdHJveWVkPSEwfWdldCBkZXN0cm95ZWQoKXtyZXR1cm4gdGhpcy5fZGVzdHJveWVkfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShocihLaSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2Z1bmN0aW9uIEJsKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5yZWR1Y2UoQmwsdCk6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLGUpfWxldCBqbD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuLHIscyl7dGhpcy5fem9uZT10LHRoaXMuX2luamVjdG9yPWUsdGhpcy5fZXhjZXB0aW9uSGFuZGxlcj1uLHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcj1yLHRoaXMuX2luaXRTdGF0dXM9cyx0aGlzLl9ib290c3RyYXBMaXN0ZW5lcnM9W10sdGhpcy5fdmlld3M9W10sdGhpcy5fcnVubmluZ1RpY2s9ITEsdGhpcy5fc3RhYmxlPSEwLHRoaXMuY29tcG9uZW50VHlwZXM9W10sdGhpcy5jb21wb25lbnRzPVtdLHRoaXMuX29uTWljcm90YXNrRW1wdHlTdWJzY3JpcHRpb249dGhpcy5fem9uZS5vbk1pY3JvdGFza0VtcHR5LnN1YnNjcmliZSh7bmV4dDooKT0+e3RoaXMuX3pvbmUucnVuKCgpPT57dGhpcy50aWNrKCl9KX19KTtjb25zdCBpPW5ldyB2KHQ9Pnt0aGlzLl9zdGFibGU9dGhpcy5fem9uZS5pc1N0YWJsZSYmIXRoaXMuX3pvbmUuaGFzUGVuZGluZ01hY3JvdGFza3MmJiF0aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzLHRoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9Pnt0Lm5leHQodGhpcy5fc3RhYmxlKSx0LmNvbXBsZXRlKCl9KX0pLG89bmV3IHYodD0+e2xldCBlO3RoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PntlPXRoaXMuX3pvbmUub25TdGFibGUuc3Vic2NyaWJlKCgpPT57eWwuYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpLG1sKCgpPT57dGhpcy5fc3RhYmxlfHx0aGlzLl96b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzfHx0aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzfHwodGhpcy5fc3RhYmxlPSEwLHQubmV4dCghMCkpfSl9KX0pO2NvbnN0IG49dGhpcy5fem9uZS5vblVuc3RhYmxlLnN1YnNjcmliZSgoKT0+e3lsLmFzc2VydEluQW5ndWxhclpvbmUoKSx0aGlzLl9zdGFibGUmJih0aGlzLl9zdGFibGU9ITEsdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e3QubmV4dCghMSl9KSl9KTtyZXR1cm4oKT0+e2UudW5zdWJzY3JpYmUoKSxuLnVuc3Vic2NyaWJlKCl9fSk7dGhpcy5pc1N0YWJsZT1XKGksby5waXBlKHQ9PntyZXR1cm4gRygpKChlPUssZnVuY3Rpb24odCl7bGV0IG47bj0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOmZ1bmN0aW9uKCl7cmV0dXJuIGV9O2NvbnN0IHI9T2JqZWN0LmNyZWF0ZSh0LFopO3JldHVybiByLnNvdXJjZT10LHIuc3ViamVjdEZhY3Rvcnk9bixyfSkodCkpO3ZhciBlfSkpfWJvb3RzdHJhcCh0LGUpe2lmKCF0aGlzLl9pbml0U3RhdHVzLmRvbmUpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgYm9vdHN0cmFwIGFzIHRoZXJlIGFyZSBzdGlsbCBhc3luY2hyb25vdXMgaW5pdGlhbGl6ZXJzIHJ1bm5pbmcuIEJvb3RzdHJhcCBjb21wb25lbnRzIGluIHRoZSBgbmdEb0Jvb3RzdHJhcGAgbWV0aG9kIG9mIHRoZSByb290IG1vZHVsZS4iKTtsZXQgbjtuPXQgaW5zdGFuY2VvZiBEYT90OnRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh0KSx0aGlzLmNvbXBvbmVudFR5cGVzLnB1c2gobi5jb21wb25lbnRUeXBlKTtjb25zdCByPW4uaXNCb3VuZFRvTW9kdWxlP3ZvaWQgMDp0aGlzLl9pbmplY3Rvci5nZXQodWMpLHM9bi5jcmVhdGUoS2kuTlVMTCxbXSxlfHxuLnNlbGVjdG9yLHIpLGk9cy5sb2NhdGlvbi5uYXRpdmVFbGVtZW50LG89cy5pbmplY3Rvci5nZXQoRWwsbnVsbCksYT1vJiZzLmluamVjdG9yLmdldChTbCk7cmV0dXJuIG8mJmEmJmEucmVnaXN0ZXJBcHBsaWNhdGlvbihpLG8pLHMub25EZXN0cm95KCgpPT57dGhpcy5kZXRhY2hWaWV3KHMuaG9zdFZpZXcpLE1sKHRoaXMuY29tcG9uZW50cyxzKSxhJiZhLnVucmVnaXN0ZXJBcHBsaWNhdGlvbihpKX0pLHRoaXMuX2xvYWRDb21wb25lbnQocyksc310aWNrKCl7aWYodGhpcy5fcnVubmluZ1RpY2spdGhyb3cgbmV3IEVycm9yKCJBcHBsaWNhdGlvblJlZi50aWNrIGlzIGNhbGxlZCByZWN1cnNpdmVseSIpO3RyeXt0aGlzLl9ydW5uaW5nVGljaz0hMDtmb3IobGV0IHQgb2YgdGhpcy5fdmlld3MpdC5kZXRlY3RDaGFuZ2VzKCl9Y2F0Y2godCl7dGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+dGhpcy5fZXhjZXB0aW9uSGFuZGxlci5oYW5kbGVFcnJvcih0KSl9ZmluYWxseXt0aGlzLl9ydW5uaW5nVGljaz0hMX19YXR0YWNoVmlldyh0KXtjb25zdCBlPXQ7dGhpcy5fdmlld3MucHVzaChlKSxlLmF0dGFjaFRvQXBwUmVmKHRoaXMpfWRldGFjaFZpZXcodCl7Y29uc3QgZT10O01sKHRoaXMuX3ZpZXdzLGUpLGUuZGV0YWNoRnJvbUFwcFJlZigpfV9sb2FkQ29tcG9uZW50KHQpe3RoaXMuYXR0YWNoVmlldyh0Lmhvc3RWaWV3KSx0aGlzLnRpY2soKSx0aGlzLmNvbXBvbmVudHMucHVzaCh0KSx0aGlzLl9pbmplY3Rvci5nZXQocmwsW10pLmNvbmNhdCh0aGlzLl9ib290c3RyYXBMaXN0ZW5lcnMpLmZvckVhY2goZT0+ZSh0KSl9bmdPbkRlc3Ryb3koKXt0aGlzLl92aWV3cy5zbGljZSgpLmZvckVhY2godD0+dC5kZXN0cm95KCkpLHRoaXMuX29uTWljcm90YXNrRW1wdHlTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX1nZXQgdmlld0NvdW50KCl7cmV0dXJuIHRoaXMuX3ZpZXdzLmxlbmd0aH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaHIoeWwpLGhyKEtpKSxocihLciksaHIoU2EpLGhyKFFjKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7ZnVuY3Rpb24gTWwodCxlKXtjb25zdCBuPXQuaW5kZXhPZihlKTtuPi0xJiZ0LnNwbGljZShuLDEpfWNsYXNzIE5se31jbGFzcyBIbHt9Y29uc3QgVmw9e2ZhY3RvcnlQYXRoUHJlZml4OiIiLGZhY3RvcnlQYXRoU3VmZml4OiIubmdmYWN0b3J5In07bGV0IHpsPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9jb21waWxlcj10LHRoaXMuX2NvbmZpZz1lfHxWbH1sb2FkKHQpe3JldHVybiB0aGlzLmxvYWRBbmRDb21waWxlKHQpfWxvYWRBbmRDb21waWxlKHQpe2xldFtlLHJdPXQuc3BsaXQoIiMiKTtyZXR1cm4gdm9pZCAwPT09ciYmKHI9ImRlZmF1bHQiKSxuKDYyMSkoZSkudGhlbih0PT50W3JdKS50aGVuKHQ9PiRsKHQsZSxyKSkudGhlbih0PT50aGlzLl9jb21waWxlci5jb21waWxlTW9kdWxlQXN5bmModCkpfWxvYWRGYWN0b3J5KHQpe2xldFtlLHJdPXQuc3BsaXQoIiMiKSxzPSJOZ0ZhY3RvcnkiO3JldHVybiB2b2lkIDA9PT1yJiYocj0iZGVmYXVsdCIscz0iIiksbig2MjEpKHRoaXMuX2NvbmZpZy5mYWN0b3J5UGF0aFByZWZpeCtlK3RoaXMuX2NvbmZpZy5mYWN0b3J5UGF0aFN1ZmZpeCkudGhlbih0PT50W3Irc10pLnRoZW4odD0+JGwodCxlLHIpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaHIoZmwpLGhyKEhsLDgpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtmdW5jdGlvbiAkbCh0LGUsbil7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCAnJHtufScgaW4gJyR7ZX0nYCk7cmV0dXJuIHR9Y29uc3QgVWw9UGwobnVsbCwiY29yZSIsW3twcm92aWRlOm5sLHVzZVZhbHVlOiJ1bmtub3duIn0se3Byb3ZpZGU6TGwsZGVwczpbS2ldfSx7cHJvdmlkZTpTbCxkZXBzOltdfSx7cHJvdmlkZTpzbCxkZXBzOltdfV0pLFdsPVt7cHJvdmlkZTpqbCx1c2VDbGFzczpqbCxkZXBzOlt5bCxLaSxLcixTYSxRY119LHtwcm92aWRlOl9jLGRlcHM6W3lsXSx1c2VGYWN0b3J5OmZ1bmN0aW9uKHQpe2xldCBlPVtdO3JldHVybiB0Lm9uU3RhYmxlLnN1YnNjcmliZSgoKT0+e2Zvcig7ZS5sZW5ndGg7KWUucG9wKCkoKX0pLGZ1bmN0aW9uKHQpe2UucHVzaCh0KX19fSx7cHJvdmlkZTpRYyx1c2VDbGFzczpRYyxkZXBzOltbbmV3IGdyLFpjXV19LHtwcm92aWRlOmZsLHVzZUNsYXNzOmZsLGRlcHM6W119LEpjLHtwcm92aWRlOlhhLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gcmN9LGRlcHM6W119LHtwcm92aWRlOlphLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gc2N9LGRlcHM6W119LHtwcm92aWRlOmlsLHVzZUZhY3Rvcnk6ZnVuY3Rpb24odCl7cmV0dXJuIGZhKHQ9dHx8InVuZGVmaW5lZCIhPXR5cGVvZiAkbG9jYWxpemUmJiRsb2NhbGl6ZS5sb2NhbGV8fGRhKSx0fSxkZXBzOltbbmV3IGZyKGlsKSxuZXcgZ3IsbmV3IG1yXV19LHtwcm92aWRlOm9sLHVzZVZhbHVlOiJVU0QifV07bGV0IEdsPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShocihqbCkpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpXbH0pLHR9KSgpLHFsPW51bGw7ZnVuY3Rpb24gWGwoKXtyZXR1cm4gcWx9Y29uc3QgWWw9bmV3IHFuKCJEb2N1bWVudFRva2VuIik7bGV0IFpsPSgoKT0+e2NsYXNzIHR7aGlzdG9yeUdvKHQpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6UWwsdG9rZW46dCxwcm92aWRlZEluOiJwbGF0Zm9ybSJ9KSx0fSkoKTtmdW5jdGlvbiBRbCgpe3JldHVybiBocihKbCl9Y29uc3QgS2w9bmV3IHFuKCJMb2NhdGlvbiBJbml0aWFsaXplZCIpO2xldCBKbD0oKCk9PntjbGFzcyB0IGV4dGVuZHMgWmx7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLl9kb2M9dCx0aGlzLl9pbml0KCl9X2luaXQoKXt0aGlzLmxvY2F0aW9uPXdpbmRvdy5sb2NhdGlvbix0aGlzLl9oaXN0b3J5PXdpbmRvdy5oaXN0b3J5fWdldEJhc2VIcmVmRnJvbURPTSgpe3JldHVybiBYbCgpLmdldEJhc2VIcmVmKHRoaXMuX2RvYyl9b25Qb3BTdGF0ZSh0KXtjb25zdCBlPVhsKCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQodGhpcy5fZG9jLCJ3aW5kb3ciKTtyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKCJwb3BzdGF0ZSIsdCwhMSksKCk9PmUucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9wc3RhdGUiLHQpfW9uSGFzaENoYW5nZSh0KXtjb25zdCBlPVhsKCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQodGhpcy5fZG9jLCJ3aW5kb3ciKTtyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIix0LCExKSwoKT0+ZS5yZW1vdmVFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIix0KX1nZXQgaHJlZigpe3JldHVybiB0aGlzLmxvY2F0aW9uLmhyZWZ9Z2V0IHByb3RvY29sKCl7cmV0dXJuIHRoaXMubG9jYXRpb24ucHJvdG9jb2x9Z2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMubG9jYXRpb24uaG9zdG5hbWV9Z2V0IHBvcnQoKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5wb3J0fWdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLmxvY2F0aW9uLnBhdGhuYW1lfWdldCBzZWFyY2goKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5zZWFyY2h9Z2V0IGhhc2goKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5oYXNofXNldCBwYXRobmFtZSh0KXt0aGlzLmxvY2F0aW9uLnBhdGhuYW1lPXR9cHVzaFN0YXRlKHQsZSxuKXt0dSgpP3RoaXMuX2hpc3RvcnkucHVzaFN0YXRlKHQsZSxuKTp0aGlzLmxvY2F0aW9uLmhhc2g9bn1yZXBsYWNlU3RhdGUodCxlLG4pe3R1KCk/dGhpcy5faGlzdG9yeS5yZXBsYWNlU3RhdGUodCxlLG4pOnRoaXMubG9jYXRpb24uaGFzaD1ufWZvcndhcmQoKXt0aGlzLl9oaXN0b3J5LmZvcndhcmQoKX1iYWNrKCl7dGhpcy5faGlzdG9yeS5iYWNrKCl9aGlzdG9yeUdvKHQ9MCl7dGhpcy5faGlzdG9yeS5nbyh0KX1nZXRTdGF0ZSgpe3JldHVybiB0aGlzLl9oaXN0b3J5LnN0YXRlfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShocihZbCkpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6ZXUsdG9rZW46dCxwcm92aWRlZEluOiJwbGF0Zm9ybSJ9KSx0fSkoKTtmdW5jdGlvbiB0dSgpe3JldHVybiEhd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlfWZ1bmN0aW9uIGV1KCl7cmV0dXJuIG5ldyBKbChocihZbCkpfWZ1bmN0aW9uIG51KHQsZSl7aWYoMD09dC5sZW5ndGgpcmV0dXJuIGU7aWYoMD09ZS5sZW5ndGgpcmV0dXJuIHQ7bGV0IG49MDtyZXR1cm4gdC5lbmRzV2l0aCgiLyIpJiZuKyssZS5zdGFydHNXaXRoKCIvIikmJm4rKywyPT1uP3QrZS5zdWJzdHJpbmcoMSk6MT09bj90K2U6dCsiLyIrZX1mdW5jdGlvbiBydSh0KXtjb25zdCBlPXQubWF0Y2goLyN8XD98JC8pLG49ZSYmZS5pbmRleHx8dC5sZW5ndGg7cmV0dXJuIHQuc2xpY2UoMCxuLSgiLyI9PT10W24tMV0/MTowKSkrdC5zbGljZShuKX1mdW5jdGlvbiBzdSh0KXtyZXR1cm4gdCYmIj8iIT09dFswXT8iPyIrdDp0fWxldCBpdT0oKCk9PntjbGFzcyB0e2hpc3RvcnlHbyh0KXt0aHJvdyBuZXcgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZCIpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5Om91LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKTtmdW5jdGlvbiBvdSh0KXtjb25zdCBlPWhyKFlsKS5sb2NhdGlvbjtyZXR1cm4gbmV3IGN1KGhyKFpsKSxlJiZlLm9yaWdpbnx8IiIpfWNvbnN0IGF1PW5ldyBxbigiYXBwQmFzZUhyZWYiKTtsZXQgY3U9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGl1e2NvbnN0cnVjdG9yKHQsZSl7aWYoc3VwZXIoKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uPXQsdGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnM9W10sbnVsbD09ZSYmKGU9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5nZXRCYXNlSHJlZkZyb21ET00oKSksbnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoIk5vIGJhc2UgaHJlZiBzZXQuIFBsZWFzZSBwcm92aWRlIGEgdmFsdWUgZm9yIHRoZSBBUFBfQkFTRV9IUkVGIHRva2VuIG9yIGFkZCBhIGJhc2UgZWxlbWVudCB0byB0aGUgZG9jdW1lbnQuIik7dGhpcy5fYmFzZUhyZWY9ZX1uZ09uRGVzdHJveSgpe2Zvcig7dGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnMubGVuZ3RoOyl0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5wb3AoKSgpfW9uUG9wU3RhdGUodCl7dGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnMucHVzaCh0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLm9uUG9wU3RhdGUodCksdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5vbkhhc2hDaGFuZ2UodCkpfWdldEJhc2VIcmVmKCl7cmV0dXJuIHRoaXMuX2Jhc2VIcmVmfXByZXBhcmVFeHRlcm5hbFVybCh0KXtyZXR1cm4gbnUodGhpcy5fYmFzZUhyZWYsdCl9cGF0aCh0PSExKXtjb25zdCBlPXRoaXMuX3BsYXRmb3JtTG9jYXRpb24ucGF0aG5hbWUrc3UodGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5zZWFyY2gpLG49dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5oYXNoO3JldHVybiBuJiZ0P2Ake2V9JHtufWA6ZX1wdXNoU3RhdGUodCxlLG4scil7Y29uc3Qgcz10aGlzLnByZXBhcmVFeHRlcm5hbFVybChuK3N1KHIpKTt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnB1c2hTdGF0ZSh0LGUscyl9cmVwbGFjZVN0YXRlKHQsZSxuLHIpe2NvbnN0IHM9dGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwobitzdShyKSk7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5yZXBsYWNlU3RhdGUodCxlLHMpfWZvcndhcmQoKXt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmZvcndhcmQoKX1iYWNrKCl7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5iYWNrKCl9aGlzdG9yeUdvKHQ9MCl7dmFyIGUsbjtudWxsPT09KG49KGU9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbikuaGlzdG9yeUdvKXx8dm9pZCAwPT09bnx8bi5jYWxsKGUsdCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhyKFpsKSxocihhdSw4KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksbHU9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGl1e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uPXQsdGhpcy5fYmFzZUhyZWY9IiIsdGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnM9W10sbnVsbCE9ZSYmKHRoaXMuX2Jhc2VIcmVmPWUpfW5nT25EZXN0cm95KCl7Zm9yKDt0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5sZW5ndGg7KXRoaXMuX3JlbW92ZUxpc3RlbmVyRm5zLnBvcCgpKCl9b25Qb3BTdGF0ZSh0KXt0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5wdXNoKHRoaXMuX3BsYXRmb3JtTG9jYXRpb24ub25Qb3BTdGF0ZSh0KSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLm9uSGFzaENoYW5nZSh0KSl9Z2V0QmFzZUhyZWYoKXtyZXR1cm4gdGhpcy5fYmFzZUhyZWZ9cGF0aCh0PSExKXtsZXQgZT10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmhhc2g7cmV0dXJuIG51bGw9PWUmJihlPSIjIiksZS5sZW5ndGg+MD9lLnN1YnN0cmluZygxKTplfXByZXBhcmVFeHRlcm5hbFVybCh0KXtjb25zdCBlPW51KHRoaXMuX2Jhc2VIcmVmLHQpO3JldHVybiBlLmxlbmd0aD4wPyIjIitlOmV9cHVzaFN0YXRlKHQsZSxuLHIpe2xldCBzPXRoaXMucHJlcGFyZUV4dGVybmFsVXJsKG4rc3UocikpOzA9PXMubGVuZ3RoJiYocz10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnBhdGhuYW1lKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnB1c2hTdGF0ZSh0LGUscyl9cmVwbGFjZVN0YXRlKHQsZSxuLHIpe2xldCBzPXRoaXMucHJlcGFyZUV4dGVybmFsVXJsKG4rc3UocikpOzA9PXMubGVuZ3RoJiYocz10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnBhdGhuYW1lKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnJlcGxhY2VTdGF0ZSh0LGUscyl9Zm9yd2FyZCgpe3RoaXMuX3BsYXRmb3JtTG9jYXRpb24uZm9yd2FyZCgpfWJhY2soKXt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmJhY2soKX1oaXN0b3J5R28odD0wKXt2YXIgZSxuO251bGw9PT0obj0oZT10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uKS5oaXN0b3J5R28pfHx2b2lkIDA9PT1ufHxuLmNhbGwoZSx0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaHIoWmwpLGhyKGF1LDgpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSx1dT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fc3ViamVjdD1uZXcgSWMsdGhpcy5fdXJsQ2hhbmdlTGlzdGVuZXJzPVtdLHRoaXMuX3BsYXRmb3JtU3RyYXRlZ3k9dDtjb25zdCBuPXRoaXMuX3BsYXRmb3JtU3RyYXRlZ3kuZ2V0QmFzZUhyZWYoKTt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uPWUsdGhpcy5fYmFzZUhyZWY9cnUoZHUobikpLHRoaXMuX3BsYXRmb3JtU3RyYXRlZ3kub25Qb3BTdGF0ZSh0PT57dGhpcy5fc3ViamVjdC5lbWl0KHt1cmw6dGhpcy5wYXRoKCEwKSxwb3A6ITAsc3RhdGU6dC5zdGF0ZSx0eXBlOnQudHlwZX0pfSl9cGF0aCh0PSExKXtyZXR1cm4gdGhpcy5ub3JtYWxpemUodGhpcy5fcGxhdGZvcm1TdHJhdGVneS5wYXRoKHQpKX1nZXRTdGF0ZSgpe3JldHVybiB0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmdldFN0YXRlKCl9aXNDdXJyZW50UGF0aEVxdWFsVG8odCxlPSIiKXtyZXR1cm4gdGhpcy5wYXRoKCk9PXRoaXMubm9ybWFsaXplKHQrc3UoZSkpfW5vcm1hbGl6ZShlKXtyZXR1cm4gdC5zdHJpcFRyYWlsaW5nU2xhc2goZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmZS5zdGFydHNXaXRoKHQpP2Uuc3Vic3RyaW5nKHQubGVuZ3RoKTplfSh0aGlzLl9iYXNlSHJlZixkdShlKSkpfXByZXBhcmVFeHRlcm5hbFVybCh0KXtyZXR1cm4gdCYmIi8iIT09dFswXSYmKHQ9Ii8iK3QpLHRoaXMuX3BsYXRmb3JtU3RyYXRlZ3kucHJlcGFyZUV4dGVybmFsVXJsKHQpfWdvKHQsZT0iIixuPW51bGwpe3RoaXMuX3BsYXRmb3JtU3RyYXRlZ3kucHVzaFN0YXRlKG4sIiIsdCxlKSx0aGlzLl9ub3RpZnlVcmxDaGFuZ2VMaXN0ZW5lcnModGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwodCtzdShlKSksbil9cmVwbGFjZVN0YXRlKHQsZT0iIixuPW51bGwpe3RoaXMuX3BsYXRmb3JtU3RyYXRlZ3kucmVwbGFjZVN0YXRlKG4sIiIsdCxlKSx0aGlzLl9ub3RpZnlVcmxDaGFuZ2VMaXN0ZW5lcnModGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwodCtzdShlKSksbil9Zm9yd2FyZCgpe3RoaXMuX3BsYXRmb3JtU3RyYXRlZ3kuZm9yd2FyZCgpfWJhY2soKXt0aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5LmJhY2soKX1oaXN0b3J5R28odD0wKXt2YXIgZSxuO251bGw9PT0obj0oZT10aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5KS5oaXN0b3J5R28pfHx2b2lkIDA9PT1ufHxuLmNhbGwoZSx0KX1vblVybENoYW5nZSh0KXt0aGlzLl91cmxDaGFuZ2VMaXN0ZW5lcnMucHVzaCh0KSx0aGlzLl91cmxDaGFuZ2VTdWJzY3JpcHRpb258fCh0aGlzLl91cmxDaGFuZ2VTdWJzY3JpcHRpb249dGhpcy5zdWJzY3JpYmUodD0+e3RoaXMuX25vdGlmeVVybENoYW5nZUxpc3RlbmVycyh0LnVybCx0LnN0YXRlKX0pKX1fbm90aWZ5VXJsQ2hhbmdlTGlzdGVuZXJzKHQ9IiIsZSl7dGhpcy5fdXJsQ2hhbmdlTGlzdGVuZXJzLmZvckVhY2gobj0+bih0LGUpKX1zdWJzY3JpYmUodCxlLG4pe3JldHVybiB0aGlzLl9zdWJqZWN0LnN1YnNjcmliZSh7bmV4dDp0LGVycm9yOmUsY29tcGxldGU6bn0pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShocihpdSksaHIoWmwpKX0sdC5ub3JtYWxpemVRdWVyeVBhcmFtcz1zdSx0LmpvaW5XaXRoU2xhc2g9bnUsdC5zdHJpcFRyYWlsaW5nU2xhc2g9cnUsdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5Omh1LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKTtmdW5jdGlvbiBodSgpe3JldHVybiBuZXcgdXUoaHIoaXUpLGhyKFpsKSl9ZnVuY3Rpb24gZHUodCl7cmV0dXJuIHQucmVwbGFjZSgvXC9pbmRleC5odG1sJC8sIiIpfWNvbnN0IHB1PXtBRFA6W3ZvaWQgMCx2b2lkIDAsMF0sQUZOOlt2b2lkIDAsdm9pZCAwLDBdLEFMTDpbdm9pZCAwLHZvaWQgMCwwXSxBTUQ6W3ZvaWQgMCx2b2lkIDAsMl0sQU9BOlt2b2lkIDAsIkt6Il0sQVJTOlt2b2lkIDAsIiQiXSxBVUQ6WyJBJCIsIiQiXSxCQU06W3ZvaWQgMCwiS00iXSxCQkQ6W3ZvaWQgMCwiJCJdLEJEVDpbdm9pZCAwLCJcdTA5ZjMiXSxCSEQ6W3ZvaWQgMCx2b2lkIDAsM10sQklGOlt2b2lkIDAsdm9pZCAwLDBdLEJNRDpbdm9pZCAwLCIkIl0sQk5EOlt2b2lkIDAsIiQiXSxCT0I6W3ZvaWQgMCwiQnMiXSxCUkw6WyJSJCJdLEJTRDpbdm9pZCAwLCIkIl0sQldQOlt2b2lkIDAsIlAiXSxCWU46W3ZvaWQgMCwiXHUwNDQwLiIsMl0sQllSOlt2b2lkIDAsdm9pZCAwLDBdLEJaRDpbdm9pZCAwLCIkIl0sQ0FEOlsiQ0EkIiwiJCIsMl0sQ0hGOlt2b2lkIDAsdm9pZCAwLDJdLENMRjpbdm9pZCAwLHZvaWQgMCw0XSxDTFA6W3ZvaWQgMCwiJCIsMF0sQ05ZOlsiQ05ceGE1IiwiXHhhNSJdLENPUDpbdm9pZCAwLCIkIiwyXSxDUkM6W3ZvaWQgMCwiXHUyMGExIiwyXSxDVUM6W3ZvaWQgMCwiJCJdLENVUDpbdm9pZCAwLCIkIl0sQ1pLOlt2b2lkIDAsIktcdTAxMGQiLDJdLERKRjpbdm9pZCAwLHZvaWQgMCwwXSxES0s6W3ZvaWQgMCwia3IiLDJdLERPUDpbdm9pZCAwLCIkIl0sRUdQOlt2b2lkIDAsIkVceGEzIl0sRVNQOlt2b2lkIDAsIlx1MjBhNyIsMF0sRVVSOlsiXHUyMGFjIl0sRkpEOlt2b2lkIDAsIiQiXSxGS1A6W3ZvaWQgMCwiXHhhMyJdLEdCUDpbIlx4YTMiXSxHRUw6W3ZvaWQgMCwiXHUyMGJlIl0sR0lQOlt2b2lkIDAsIlx4YTMiXSxHTkY6W3ZvaWQgMCwiRkciLDBdLEdUUTpbdm9pZCAwLCJRIl0sR1lEOlt2b2lkIDAsIiQiLDJdLEhLRDpbIkhLJCIsIiQiXSxITkw6W3ZvaWQgMCwiTCJdLEhSSzpbdm9pZCAwLCJrbiJdLEhVRjpbdm9pZCAwLCJGdCIsMl0sSURSOlt2b2lkIDAsIlJwIiwyXSxJTFM6WyJcdTIwYWEiXSxJTlI6WyJcdTIwYjkiXSxJUUQ6W3ZvaWQgMCx2b2lkIDAsMF0sSVJSOlt2b2lkIDAsdm9pZCAwLDBdLElTSzpbdm9pZCAwLCJrciIsMF0sSVRMOlt2b2lkIDAsdm9pZCAwLDBdLEpNRDpbdm9pZCAwLCIkIl0sSk9EOlt2b2lkIDAsdm9pZCAwLDNdLEpQWTpbIlx4YTUiLHZvaWQgMCwwXSxLSFI6W3ZvaWQgMCwiXHUxN2RiIl0sS01GOlt2b2lkIDAsIkNGIiwwXSxLUFc6W3ZvaWQgMCwiXHUyMGE5IiwwXSxLUlc6WyJcdTIwYTkiLHZvaWQgMCwwXSxLV0Q6W3ZvaWQgMCx2b2lkIDAsM10sS1lEOlt2b2lkIDAsIiQiXSxLWlQ6W3ZvaWQgMCwiXHUyMGI4Il0sTEFLOlt2b2lkIDAsIlx1MjBhZCIsMF0sTEJQOlt2b2lkIDAsIkxceGEzIiwwXSxMS1I6W3ZvaWQgMCwiUnMiXSxMUkQ6W3ZvaWQgMCwiJCJdLExUTDpbdm9pZCAwLCJMdCJdLExVRjpbdm9pZCAwLHZvaWQgMCwwXSxMVkw6W3ZvaWQgMCwiTHMiXSxMWUQ6W3ZvaWQgMCx2b2lkIDAsM10sTUdBOlt2b2lkIDAsIkFyIiwwXSxNR0Y6W3ZvaWQgMCx2b2lkIDAsMF0sTU1LOlt2b2lkIDAsIksiLDBdLE1OVDpbdm9pZCAwLCJcdTIwYWUiLDJdLE1STzpbdm9pZCAwLHZvaWQgMCwwXSxNVVI6W3ZvaWQgMCwiUnMiLDJdLE1YTjpbIk1YJCIsIiQiXSxNWVI6W3ZvaWQgMCwiUk0iXSxOQUQ6W3ZvaWQgMCwiJCJdLE5HTjpbdm9pZCAwLCJcdTIwYTYiXSxOSU86W3ZvaWQgMCwiQyQiXSxOT0s6W3ZvaWQgMCwia3IiLDJdLE5QUjpbdm9pZCAwLCJScyJdLE5aRDpbIk5aJCIsIiQiXSxPTVI6W3ZvaWQgMCx2b2lkIDAsM10sUEhQOlt2b2lkIDAsIlx1MjBiMSJdLFBLUjpbdm9pZCAwLCJScyIsMl0sUExOOlt2b2lkIDAsInpcdTAxNDIiXSxQWUc6W3ZvaWQgMCwiXHUyMGIyIiwwXSxST046W3ZvaWQgMCwibGVpIl0sUlNEOlt2b2lkIDAsdm9pZCAwLDBdLFJVQjpbdm9pZCAwLCJcdTIwYmQiXSxSVVI6W3ZvaWQgMCwiXHUwNDQwLiJdLFJXRjpbdm9pZCAwLCJSRiIsMF0sU0JEOlt2b2lkIDAsIiQiXSxTRUs6W3ZvaWQgMCwia3IiLDJdLFNHRDpbdm9pZCAwLCIkIl0sU0hQOlt2b2lkIDAsIlx4YTMiXSxTTEw6W3ZvaWQgMCx2b2lkIDAsMF0sU09TOlt2b2lkIDAsdm9pZCAwLDBdLFNSRDpbdm9pZCAwLCIkIl0sU1NQOlt2b2lkIDAsIlx4YTMiXSxTVEQ6W3ZvaWQgMCx2b2lkIDAsMF0sU1ROOlt2b2lkIDAsIkRiIl0sU1lQOlt2b2lkIDAsIlx4YTMiLDBdLFRIQjpbdm9pZCAwLCJcdTBlM2YiXSxUTU06W3ZvaWQgMCx2b2lkIDAsMF0sVE5EOlt2b2lkIDAsdm9pZCAwLDNdLFRPUDpbdm9pZCAwLCJUJCJdLFRSTDpbdm9pZCAwLHZvaWQgMCwwXSxUUlk6W3ZvaWQgMCwiXHUyMGJhIl0sVFREOlt2b2lkIDAsIiQiXSxUV0Q6WyJOVCQiLCIkIiwyXSxUWlM6W3ZvaWQgMCx2b2lkIDAsMl0sVUFIOlt2b2lkIDAsIlx1MjBiNCJdLFVHWDpbdm9pZCAwLHZvaWQgMCwwXSxVU0Q6WyIkIl0sVVlJOlt2b2lkIDAsdm9pZCAwLDBdLFVZVTpbdm9pZCAwLCIkIl0sVVlXOlt2b2lkIDAsdm9pZCAwLDRdLFVaUzpbdm9pZCAwLHZvaWQgMCwyXSxWRUY6W3ZvaWQgMCwiQnMiLDJdLFZORDpbIlx1MjBhYiIsdm9pZCAwLDBdLFZVVjpbdm9pZCAwLHZvaWQgMCwwXSxYQUY6WyJGQ0ZBIix2b2lkIDAsMF0sWENEOlsiRUMkIiwiJCJdLFhPRjpbIkNGQSIsdm9pZCAwLDBdLFhQRjpbIkNGUEYiLHZvaWQgMCwwXSxYWFg6WyJceGE0Il0sWUVSOlt2b2lkIDAsdm9pZCAwLDBdLFpBUjpbdm9pZCAwLCJSIl0sWk1LOlt2b2lkIDAsdm9pZCAwLDBdLFpNVzpbdm9pZCAwLCJaSyJdLFpXRDpbdm9pZCAwLHZvaWQgMCwwXX07dmFyIGZ1PWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRGVjaW1hbD0wXT0iRGVjaW1hbCIsdFt0LlBlcmNlbnQ9MV09IlBlcmNlbnQiLHRbdC5DdXJyZW5jeT0yXT0iQ3VycmVuY3kiLHRbdC5TY2llbnRpZmljPTNdPSJTY2llbnRpZmljIix0fSh7fSksZ3U9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5aZXJvPTBdPSJaZXJvIix0W3QuT25lPTFdPSJPbmUiLHRbdC5Ud289Ml09IlR3byIsdFt0LkZldz0zXT0iRmV3Iix0W3QuTWFueT00XT0iTWFueSIsdFt0Lk90aGVyPTVdPSJPdGhlciIsdH0oe30pLG11PWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRm9ybWF0PTBdPSJGb3JtYXQiLHRbdC5TdGFuZGFsb25lPTFdPSJTdGFuZGFsb25lIix0fSh7fSkseXU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5OYXJyb3c9MF09Ik5hcnJvdyIsdFt0LkFiYnJldmlhdGVkPTFdPSJBYmJyZXZpYXRlZCIsdFt0LldpZGU9Ml09IldpZGUiLHRbdC5TaG9ydD0zXT0iU2hvcnQiLHR9KHt9KSx2dT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LlNob3J0PTBdPSJTaG9ydCIsdFt0Lk1lZGl1bT0xXT0iTWVkaXVtIix0W3QuTG9uZz0yXT0iTG9uZyIsdFt0LkZ1bGw9M109IkZ1bGwiLHR9KHt9KSxidT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkRlY2ltYWw9MF09IkRlY2ltYWwiLHRbdC5Hcm91cD0xXT0iR3JvdXAiLHRbdC5MaXN0PTJdPSJMaXN0Iix0W3QuUGVyY2VudFNpZ249M109IlBlcmNlbnRTaWduIix0W3QuUGx1c1NpZ249NF09IlBsdXNTaWduIix0W3QuTWludXNTaWduPTVdPSJNaW51c1NpZ24iLHRbdC5FeHBvbmVudGlhbD02XT0iRXhwb25lbnRpYWwiLHRbdC5TdXBlcnNjcmlwdGluZ0V4cG9uZW50PTddPSJTdXBlcnNjcmlwdGluZ0V4cG9uZW50Iix0W3QuUGVyTWlsbGU9OF09IlBlck1pbGxlIix0W3RbMS8wXT05XT0iSW5maW5pdHkiLHRbdC5OYU49MTBdPSJOYU4iLHRbdC5UaW1lU2VwYXJhdG9yPTExXT0iVGltZVNlcGFyYXRvciIsdFt0LkN1cnJlbmN5RGVjaW1hbD0xMl09IkN1cnJlbmN5RGVjaW1hbCIsdFt0LkN1cnJlbmN5R3JvdXA9MTNdPSJDdXJyZW5jeUdyb3VwIix0fSh7fSk7ZnVuY3Rpb24gQ3UodCxlKXtyZXR1cm4geHUobGEodClbaGEuRGF0ZUZvcm1hdF0sZSl9ZnVuY3Rpb24gd3UodCxlKXtyZXR1cm4geHUobGEodClbaGEuVGltZUZvcm1hdF0sZSl9ZnVuY3Rpb24gX3UodCxlKXtyZXR1cm4geHUobGEodClbaGEuRGF0ZVRpbWVGb3JtYXRdLGUpfWZ1bmN0aW9uIER1KHQsZSl7Y29uc3Qgbj1sYSh0KSxyPW5baGEuTnVtYmVyU3ltYm9sc11bZV07aWYodm9pZCAwPT09cil7aWYoZT09PWJ1LkN1cnJlbmN5RGVjaW1hbClyZXR1cm4gbltoYS5OdW1iZXJTeW1ib2xzXVtidS5EZWNpbWFsXTtpZihlPT09YnUuQ3VycmVuY3lHcm91cClyZXR1cm4gbltoYS5OdW1iZXJTeW1ib2xzXVtidS5Hcm91cF19cmV0dXJuIHJ9ZnVuY3Rpb24gRXUodCxlKXtyZXR1cm4gbGEodClbaGEuTnVtYmVyRm9ybWF0c11bZV19ZnVuY3Rpb24gU3UodCl7aWYoIXRbaGEuRXh0cmFEYXRhXSl0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgZXh0cmEgbG9jYWxlIGRhdGEgZm9yIHRoZSBsb2NhbGUgIiR7dFtoYS5Mb2NhbGVJZF19Ii4gVXNlICJyZWdpc3RlckxvY2FsZURhdGEiIHRvIGxvYWQgbmV3IGRhdGEuIFNlZSB0aGUgIkkxOG4gZ3VpZGUiIG9uIGFuZ3VsYXIuaW8gdG8ga25vdyBtb3JlLmApfWZ1bmN0aW9uIHh1KHQsZSl7Zm9yKGxldCBuPWU7bj4tMTtuLS0paWYodm9pZCAwIT09dFtuXSlyZXR1cm4gdFtuXTt0aHJvdyBuZXcgRXJyb3IoIkxvY2FsZSBkYXRhIEFQSTogbG9jYWxlIGRhdGEgdW5kZWZpbmVkIil9ZnVuY3Rpb24gQXUodCl7Y29uc3RbZSxuXT10LnNwbGl0KCI6Iik7cmV0dXJue2hvdXJzOitlLG1pbnV0ZXM6K259fWNvbnN0IFR1PS9eKFxkezR9KS0/KFxkXGQpLT8oXGRcZCkoPzpUKFxkXGQpKD86Oj8oXGRcZCkoPzo6PyhcZFxkKSg/OlwuKFxkKykpPyk/KT8oWnwoWystXSkoXGRcZCk6PyhcZFxkKSk/KT8kLyxrdT17fSxGdT0vKCg/OlteQkVHSExNT1NXWVphYmNkaG1zd3l6J10rKXwoPzonKD86W14nXXwnJykqJyl8KD86R3sxLDV9fHl7MSw0fXxZezEsNH18TXsxLDV9fEx7MSw1fXx3ezEsMn18V3sxfXxkezEsMn18RXsxLDZ9fGN7MSw2fXxhezEsNX18YnsxLDV9fEJ7MSw1fXxoezEsMn18SHsxLDJ9fG17MSwyfXxzezEsMn18U3sxLDN9fHp7MSw0fXxaezEsNX18T3sxLDR9KSkoW1xzXFNdKikvO3ZhciBJdT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LlNob3J0PTBdPSJTaG9ydCIsdFt0LlNob3J0R01UPTFdPSJTaG9ydEdNVCIsdFt0Lkxvbmc9Ml09IkxvbmciLHRbdC5FeHRlbmRlZD0zXT0iRXh0ZW5kZWQiLHR9KHt9KSxPdT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkZ1bGxZZWFyPTBdPSJGdWxsWWVhciIsdFt0Lk1vbnRoPTFdPSJNb250aCIsdFt0LkRhdGU9Ml09IkRhdGUiLHRbdC5Ib3Vycz0zXT0iSG91cnMiLHRbdC5NaW51dGVzPTRdPSJNaW51dGVzIix0W3QuU2Vjb25kcz01XT0iU2Vjb25kcyIsdFt0LkZyYWN0aW9uYWxTZWNvbmRzPTZdPSJGcmFjdGlvbmFsU2Vjb25kcyIsdFt0LkRheT03XT0iRGF5Iix0fSh7fSksUHU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5EYXlQZXJpb2RzPTBdPSJEYXlQZXJpb2RzIix0W3QuRGF5cz0xXT0iRGF5cyIsdFt0Lk1vbnRocz0yXT0iTW9udGhzIix0W3QuRXJhcz0zXT0iRXJhcyIsdH0oe30pO2Z1bmN0aW9uIFJ1KHQsZSxuLHIpe2xldCBzPWZ1bmN0aW9uKHQpe2lmKHF1KHQpKXJldHVybiB0O2lmKCJudW1iZXIiPT10eXBlb2YgdCYmIWlzTmFOKHQpKXJldHVybiBuZXcgRGF0ZSh0KTtpZigic3RyaW5nIj09dHlwZW9mIHQpe2lmKHQ9dC50cmltKCksL14oXGR7NH0oLVxkezEsMn0oLVxkezEsMn0pPyk/KSQvLnRlc3QodCkpe2NvbnN0W2Usbj0xLHI9MV09dC5zcGxpdCgiLSIpLm1hcCh0PT4rdCk7cmV0dXJuIEx1KGUsbi0xLHIpfWNvbnN0IGU9cGFyc2VGbG9hdCh0KTtpZighaXNOYU4odC1lKSlyZXR1cm4gbmV3IERhdGUoZSk7bGV0IG47aWYobj10Lm1hdGNoKFR1KSlyZXR1cm4gZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgRGF0ZSgwKTtsZXQgbj0wLHI9MDtjb25zdCBzPXRbOF0/ZS5zZXRVVENGdWxsWWVhcjplLnNldEZ1bGxZZWFyLGk9dFs4XT9lLnNldFVUQ0hvdXJzOmUuc2V0SG91cnM7dFs5XSYmKG49TnVtYmVyKHRbOV0rdFsxMF0pLHI9TnVtYmVyKHRbOV0rdFsxMV0pKSxzLmNhbGwoZSxOdW1iZXIodFsxXSksTnVtYmVyKHRbMl0pLTEsTnVtYmVyKHRbM10pKTtjb25zdCBvPU51bWJlcih0WzRdfHwwKS1uLGE9TnVtYmVyKHRbNV18fDApLXIsYz1OdW1iZXIodFs2XXx8MCksbD1NYXRoLmZsb29yKDFlMypwYXJzZUZsb2F0KCIwLiIrKHRbN118fDApKSk7cmV0dXJuIGkuY2FsbChlLG8sYSxjLGwpLGV9KG4pfWNvbnN0IGU9bmV3IERhdGUodCk7aWYoIXF1KGUpKXRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNvbnZlcnQgIiR7dH0iIGludG8gYSBkYXRlYCk7cmV0dXJuIGV9KHQpO2U9QnUobixlKXx8ZTtsZXQgaSxvPVtdO2Zvcig7ZTspe2lmKGk9RnUuZXhlYyhlKSwhaSl7by5wdXNoKGUpO2JyZWFrfXtvPW8uY29uY2F0KGkuc2xpY2UoMSkpO2NvbnN0IHQ9by5wb3AoKTtpZighdClicmVhaztlPXR9fWxldCBhPXMuZ2V0VGltZXpvbmVPZmZzZXQoKTtyJiYoYT1HdShyLGEpLHM9ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9dC5nZXRUaW1lem9uZU9mZnNldCgpO3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybih0PW5ldyBEYXRlKHQuZ2V0VGltZSgpKSkuc2V0TWludXRlcyh0LmdldE1pbnV0ZXMoKStlKSx0fSh0LC0xKihHdShlLHIpLXIpKX0ocyxyKSk7bGV0IGM9IiI7cmV0dXJuIG8uZm9yRWFjaCh0PT57Y29uc3QgZT1mdW5jdGlvbih0KXtpZihXdVt0XSlyZXR1cm4gV3VbdF07bGV0IGU7c3dpdGNoKHQpe2Nhc2UiRyI6Y2FzZSJHRyI6Y2FzZSJHR0ciOmU9SHUoUHUuRXJhcyx5dS5BYmJyZXZpYXRlZCk7YnJlYWs7Y2FzZSJHR0dHIjplPUh1KFB1LkVyYXMseXUuV2lkZSk7YnJlYWs7Y2FzZSJHR0dHRyI6ZT1IdShQdS5FcmFzLHl1Lk5hcnJvdyk7YnJlYWs7Y2FzZSJ5IjplPU51KE91LkZ1bGxZZWFyLDEsMCwhMSwhMCk7YnJlYWs7Y2FzZSJ5eSI6ZT1OdShPdS5GdWxsWWVhciwyLDAsITAsITApO2JyZWFrO2Nhc2UieXl5IjplPU51KE91LkZ1bGxZZWFyLDMsMCwhMSwhMCk7YnJlYWs7Y2FzZSJ5eXl5IjplPU51KE91LkZ1bGxZZWFyLDQsMCwhMSwhMCk7YnJlYWs7Y2FzZSJZIjplPVV1KDEpO2JyZWFrO2Nhc2UiWVkiOmU9VXUoMiwhMCk7YnJlYWs7Y2FzZSJZWVkiOmU9VXUoMyk7YnJlYWs7Y2FzZSJZWVlZIjplPVV1KDQpO2JyZWFrO2Nhc2UiTSI6Y2FzZSJMIjplPU51KE91Lk1vbnRoLDEsMSk7YnJlYWs7Y2FzZSJNTSI6Y2FzZSJMTCI6ZT1OdShPdS5Nb250aCwyLDEpO2JyZWFrO2Nhc2UiTU1NIjplPUh1KFB1Lk1vbnRocyx5dS5BYmJyZXZpYXRlZCk7YnJlYWs7Y2FzZSJNTU1NIjplPUh1KFB1Lk1vbnRocyx5dS5XaWRlKTticmVhaztjYXNlIk1NTU1NIjplPUh1KFB1Lk1vbnRocyx5dS5OYXJyb3cpO2JyZWFrO2Nhc2UiTExMIjplPUh1KFB1Lk1vbnRocyx5dS5BYmJyZXZpYXRlZCxtdS5TdGFuZGFsb25lKTticmVhaztjYXNlIkxMTEwiOmU9SHUoUHUuTW9udGhzLHl1LldpZGUsbXUuU3RhbmRhbG9uZSk7YnJlYWs7Y2FzZSJMTExMTCI6ZT1IdShQdS5Nb250aHMseXUuTmFycm93LG11LlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UidyI6ZT0kdSgxKTticmVhaztjYXNlInd3IjplPSR1KDIpO2JyZWFrO2Nhc2UiVyI6ZT0kdSgxLCEwKTticmVhaztjYXNlImQiOmU9TnUoT3UuRGF0ZSwxKTticmVhaztjYXNlImRkIjplPU51KE91LkRhdGUsMik7YnJlYWs7Y2FzZSJjIjpjYXNlImNjIjplPU51KE91LkRheSwxKTticmVhaztjYXNlImNjYyI6ZT1IdShQdS5EYXlzLHl1LkFiYnJldmlhdGVkLG11LlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UiY2NjYyI6ZT1IdShQdS5EYXlzLHl1LldpZGUsbXUuU3RhbmRhbG9uZSk7YnJlYWs7Y2FzZSJjY2NjYyI6ZT1IdShQdS5EYXlzLHl1Lk5hcnJvdyxtdS5TdGFuZGFsb25lKTticmVhaztjYXNlImNjY2NjYyI6ZT1IdShQdS5EYXlzLHl1LlNob3J0LG11LlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UiRSI6Y2FzZSJFRSI6Y2FzZSJFRUUiOmU9SHUoUHUuRGF5cyx5dS5BYmJyZXZpYXRlZCk7YnJlYWs7Y2FzZSJFRUVFIjplPUh1KFB1LkRheXMseXUuV2lkZSk7YnJlYWs7Y2FzZSJFRUVFRSI6ZT1IdShQdS5EYXlzLHl1Lk5hcnJvdyk7YnJlYWs7Y2FzZSJFRUVFRUUiOmU9SHUoUHUuRGF5cyx5dS5TaG9ydCk7YnJlYWs7Y2FzZSJhIjpjYXNlImFhIjpjYXNlImFhYSI6ZT1IdShQdS5EYXlQZXJpb2RzLHl1LkFiYnJldmlhdGVkKTticmVhaztjYXNlImFhYWEiOmU9SHUoUHUuRGF5UGVyaW9kcyx5dS5XaWRlKTticmVhaztjYXNlImFhYWFhIjplPUh1KFB1LkRheVBlcmlvZHMseXUuTmFycm93KTticmVhaztjYXNlImIiOmNhc2UiYmIiOmNhc2UiYmJiIjplPUh1KFB1LkRheVBlcmlvZHMseXUuQWJicmV2aWF0ZWQsbXUuU3RhbmRhbG9uZSwhMCk7YnJlYWs7Y2FzZSJiYmJiIjplPUh1KFB1LkRheVBlcmlvZHMseXUuV2lkZSxtdS5TdGFuZGFsb25lLCEwKTticmVhaztjYXNlImJiYmJiIjplPUh1KFB1LkRheVBlcmlvZHMseXUuTmFycm93LG11LlN0YW5kYWxvbmUsITApO2JyZWFrO2Nhc2UiQiI6Y2FzZSJCQiI6Y2FzZSJCQkIiOmU9SHUoUHUuRGF5UGVyaW9kcyx5dS5BYmJyZXZpYXRlZCxtdS5Gb3JtYXQsITApO2JyZWFrO2Nhc2UiQkJCQiI6ZT1IdShQdS5EYXlQZXJpb2RzLHl1LldpZGUsbXUuRm9ybWF0LCEwKTticmVhaztjYXNlIkJCQkJCIjplPUh1KFB1LkRheVBlcmlvZHMseXUuTmFycm93LG11LkZvcm1hdCwhMCk7YnJlYWs7Y2FzZSJoIjplPU51KE91LkhvdXJzLDEsLTEyKTticmVhaztjYXNlImhoIjplPU51KE91LkhvdXJzLDIsLTEyKTticmVhaztjYXNlIkgiOmU9TnUoT3UuSG91cnMsMSk7YnJlYWs7Y2FzZSJISCI6ZT1OdShPdS5Ib3VycywyKTticmVhaztjYXNlIm0iOmU9TnUoT3UuTWludXRlcywxKTticmVhaztjYXNlIm1tIjplPU51KE91Lk1pbnV0ZXMsMik7YnJlYWs7Y2FzZSJzIjplPU51KE91LlNlY29uZHMsMSk7YnJlYWs7Y2FzZSJzcyI6ZT1OdShPdS5TZWNvbmRzLDIpO2JyZWFrO2Nhc2UiUyI6ZT1OdShPdS5GcmFjdGlvbmFsU2Vjb25kcywxKTticmVhaztjYXNlIlNTIjplPU51KE91LkZyYWN0aW9uYWxTZWNvbmRzLDIpO2JyZWFrO2Nhc2UiU1NTIjplPU51KE91LkZyYWN0aW9uYWxTZWNvbmRzLDMpO2JyZWFrO2Nhc2UiWiI6Y2FzZSJaWiI6Y2FzZSJaWloiOmU9VnUoSXUuU2hvcnQpO2JyZWFrO2Nhc2UiWlpaWloiOmU9VnUoSXUuRXh0ZW5kZWQpO2JyZWFrO2Nhc2UiTyI6Y2FzZSJPTyI6Y2FzZSJPT08iOmNhc2UieiI6Y2FzZSJ6eiI6Y2FzZSJ6enoiOmU9VnUoSXUuU2hvcnRHTVQpO2JyZWFrO2Nhc2UiT09PTyI6Y2FzZSJaWlpaIjpjYXNlInp6enoiOmU9VnUoSXUuTG9uZyk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gbnVsbH1yZXR1cm4gV3VbdF09ZSxlfSh0KTtjKz1lP2UocyxuLGEpOiInJyI9PT10PyInIjp0LnJlcGxhY2UoLyheJ3wnJCkvZywiIikucmVwbGFjZSgvJycvZywiJyIpfSksY31mdW5jdGlvbiBMdSh0LGUsbil7Y29uc3Qgcj1uZXcgRGF0ZSgwKTtyZXR1cm4gci5zZXRGdWxsWWVhcih0LGUsbiksci5zZXRIb3VycygwLDAsMCkscn1mdW5jdGlvbiBCdSh0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCl7cmV0dXJuIGxhKHQpW2hhLkxvY2FsZUlkXX0odCk7aWYoa3Vbbl09a3Vbbl18fHt9LGt1W25dW2VdKXJldHVybiBrdVtuXVtlXTtsZXQgcj0iIjtzd2l0Y2goZSl7Y2FzZSJzaG9ydERhdGUiOnI9Q3UodCx2dS5TaG9ydCk7YnJlYWs7Y2FzZSJtZWRpdW1EYXRlIjpyPUN1KHQsdnUuTWVkaXVtKTticmVhaztjYXNlImxvbmdEYXRlIjpyPUN1KHQsdnUuTG9uZyk7YnJlYWs7Y2FzZSJmdWxsRGF0ZSI6cj1DdSh0LHZ1LkZ1bGwpO2JyZWFrO2Nhc2Uic2hvcnRUaW1lIjpyPXd1KHQsdnUuU2hvcnQpO2JyZWFrO2Nhc2UibWVkaXVtVGltZSI6cj13dSh0LHZ1Lk1lZGl1bSk7YnJlYWs7Y2FzZSJsb25nVGltZSI6cj13dSh0LHZ1LkxvbmcpO2JyZWFrO2Nhc2UiZnVsbFRpbWUiOnI9d3UodCx2dS5GdWxsKTticmVhaztjYXNlInNob3J0Ijpjb25zdCBlPUJ1KHQsInNob3J0VGltZSIpLG49QnUodCwic2hvcnREYXRlIik7cj1qdShfdSh0LHZ1LlNob3J0KSxbZSxuXSk7YnJlYWs7Y2FzZSJtZWRpdW0iOmNvbnN0IHM9QnUodCwibWVkaXVtVGltZSIpLGk9QnUodCwibWVkaXVtRGF0ZSIpO3I9anUoX3UodCx2dS5NZWRpdW0pLFtzLGldKTticmVhaztjYXNlImxvbmciOmNvbnN0IG89QnUodCwibG9uZ1RpbWUiKSxhPUJ1KHQsImxvbmdEYXRlIik7cj1qdShfdSh0LHZ1LkxvbmcpLFtvLGFdKTticmVhaztjYXNlImZ1bGwiOmNvbnN0IGM9QnUodCwiZnVsbFRpbWUiKSxsPUJ1KHQsImZ1bGxEYXRlIik7cj1qdShfdSh0LHZ1LkZ1bGwpLFtjLGxdKX1yZXR1cm4gciYmKGt1W25dW2VdPXIpLHJ9ZnVuY3Rpb24ganUodCxlKXtyZXR1cm4gZSYmKHQ9dC5yZXBsYWNlKC9ceyhbXn1dKyl9L2csZnVuY3Rpb24odCxuKXtyZXR1cm4gbnVsbCE9ZSYmbiBpbiBlP2Vbbl06dH0pKSx0fWZ1bmN0aW9uIE11KHQsZSxuPSItIixyLHMpe2xldCBpPSIiOyh0PDB8fHMmJnQ8PTApJiYocz90PTEtdDoodD0tdCxpPW4pKTtsZXQgbz1TdHJpbmcodCk7Zm9yKDtvLmxlbmd0aDxlOylvPSIwIitvO3JldHVybiByJiYobz1vLnN1YnN0cihvLmxlbmd0aC1lKSksaStvfWZ1bmN0aW9uIE51KHQsZSxuPTAscj0hMSxzPSExKXtyZXR1cm4gZnVuY3Rpb24oaSxvKXtsZXQgYT1mdW5jdGlvbih0LGUpe3N3aXRjaCh0KXtjYXNlIE91LkZ1bGxZZWFyOnJldHVybiBlLmdldEZ1bGxZZWFyKCk7Y2FzZSBPdS5Nb250aDpyZXR1cm4gZS5nZXRNb250aCgpO2Nhc2UgT3UuRGF0ZTpyZXR1cm4gZS5nZXREYXRlKCk7Y2FzZSBPdS5Ib3VyczpyZXR1cm4gZS5nZXRIb3VycygpO2Nhc2UgT3UuTWludXRlczpyZXR1cm4gZS5nZXRNaW51dGVzKCk7Y2FzZSBPdS5TZWNvbmRzOnJldHVybiBlLmdldFNlY29uZHMoKTtjYXNlIE91LkZyYWN0aW9uYWxTZWNvbmRzOnJldHVybiBlLmdldE1pbGxpc2Vjb25kcygpO2Nhc2UgT3UuRGF5OnJldHVybiBlLmdldERheSgpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIERhdGVUeXBlIHZhbHVlICIke3R9Ii5gKX19KHQsaSk7aWYoKG4+MHx8YT4tbikmJihhKz1uKSx0PT09T3UuSG91cnMpMD09PWEmJi0xMj09PW4mJihhPTEyKTtlbHNlIGlmKHQ9PT1PdS5GcmFjdGlvbmFsU2Vjb25kcylyZXR1cm4gYz1lLE11KGEsMykuc3Vic3RyKDAsYyk7dmFyIGM7Y29uc3QgbD1EdShvLGJ1Lk1pbnVzU2lnbik7cmV0dXJuIE11KGEsZSxsLHIscyl9fWZ1bmN0aW9uIEh1KHQsZSxuPW11LkZvcm1hdCxyPSExKXtyZXR1cm4gZnVuY3Rpb24ocyxpKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4scixzLGkpe3N3aXRjaChuKXtjYXNlIFB1Lk1vbnRoczpyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9bGEodCkscz14dShbcltoYS5Nb250aHNGb3JtYXRdLHJbaGEuTW9udGhzU3RhbmRhbG9uZV1dLGUpO3JldHVybiB4dShzLG4pfShlLHMscilbdC5nZXRNb250aCgpXTtjYXNlIFB1LkRheXM6cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPWxhKHQpLHM9eHUoW3JbaGEuRGF5c0Zvcm1hdF0scltoYS5EYXlzU3RhbmRhbG9uZV1dLGUpO3JldHVybiB4dShzLG4pfShlLHMscilbdC5nZXREYXkoKV07Y2FzZSBQdS5EYXlQZXJpb2RzOmNvbnN0IG89dC5nZXRIb3VycygpLGE9dC5nZXRNaW51dGVzKCk7aWYoaSl7Y29uc3QgdD1mdW5jdGlvbih0KXtjb25zdCBlPWxhKHQpO3JldHVybiBTdShlKSwoZVtoYS5FeHRyYURhdGFdWzJdfHxbXSkubWFwKHQ9PiJzdHJpbmciPT10eXBlb2YgdD9BdSh0KTpbQXUodFswXSksQXUodFsxXSldKX0oZSksbj1mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1sYSh0KTtTdShyKTtjb25zdCBzPXh1KFtyW2hhLkV4dHJhRGF0YV1bMF0scltoYS5FeHRyYURhdGFdWzFdXSxlKXx8W107cmV0dXJuIHh1KHMsbil8fFtdfShlLHMsciksaT10LmZpbmRJbmRleCh0PT57aWYoQXJyYXkuaXNBcnJheSh0KSl7Y29uc3RbZSxuXT10LHI9bz49ZS5ob3VycyYmYT49ZS5taW51dGVzLHM9bzxuLmhvdXJzfHxvPT09bi5ob3VycyYmYTxuLm1pbnV0ZXM7aWYoZS5ob3VyczxuLmhvdXJzKXtpZihyJiZzKXJldHVybiEwfWVsc2UgaWYocnx8cylyZXR1cm4hMH1lbHNlIGlmKHQuaG91cnM9PT1vJiZ0Lm1pbnV0ZXM9PT1hKXJldHVybiEwO3JldHVybiExfSk7aWYoLTEhPT1pKXJldHVybiBuW2ldfXJldHVybiBmdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1sYSh0KSxzPXh1KFtyW2hhLkRheVBlcmlvZHNGb3JtYXRdLHJbaGEuRGF5UGVyaW9kc1N0YW5kYWxvbmVdXSxlKTtyZXR1cm4geHUocyxuKX0oZSxzLHIpW288MTI/MDoxXTtjYXNlIFB1LkVyYXM6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHh1KGxhKHQpW2hhLkVyYXNdLGUpfShlLHIpW3QuZ2V0RnVsbFllYXIoKTw9MD8wOjFdO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bmV4cGVjdGVkIHRyYW5zbGF0aW9uIHR5cGUgJHtufWApfX0ocyxpLHQsZSxuLHIpfX1mdW5jdGlvbiBWdSh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHIpe2NvbnN0IHM9LTEqcixpPUR1KG4sYnUuTWludXNTaWduKSxvPXM+MD9NYXRoLmZsb29yKHMvNjApOk1hdGguY2VpbChzLzYwKTtzd2l0Y2godCl7Y2FzZSBJdS5TaG9ydDpyZXR1cm4ocz49MD8iKyI6IiIpK011KG8sMixpKStNdShNYXRoLmFicyhzJTYwKSwyLGkpO2Nhc2UgSXUuU2hvcnRHTVQ6cmV0dXJuIkdNVCIrKHM+PTA/IisiOiIiKStNdShvLDEsaSk7Y2FzZSBJdS5Mb25nOnJldHVybiJHTVQiKyhzPj0wPyIrIjoiIikrTXUobywyLGkpKyI6IitNdShNYXRoLmFicyhzJTYwKSwyLGkpO2Nhc2UgSXUuRXh0ZW5kZWQ6cmV0dXJuIDA9PT1yPyJaIjoocz49MD8iKyI6IiIpK011KG8sMixpKSsiOiIrTXUoTWF0aC5hYnMocyU2MCksMixpKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biB6b25lIHdpZHRoICIke3R9ImApfX19ZnVuY3Rpb24genUodCl7cmV0dXJuIEx1KHQuZ2V0RnVsbFllYXIoKSx0LmdldE1vbnRoKCksdC5nZXREYXRlKCkrKDQtdC5nZXREYXkoKSkpfWZ1bmN0aW9uICR1KHQsZT0hMSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7bGV0IHM7aWYoZSl7Y29uc3QgdD1uZXcgRGF0ZShuLmdldEZ1bGxZZWFyKCksbi5nZXRNb250aCgpLDEpLmdldERheSgpLTEsZT1uLmdldERhdGUoKTtzPTErTWF0aC5mbG9vcigoZSt0KS83KX1lbHNle2NvbnN0IHQ9enUobiksZT1mdW5jdGlvbih0KXtjb25zdCBlPUx1KHQsMCwxKS5nZXREYXkoKTtyZXR1cm4gTHUodCwwLDErKGU8PTQ/NDoxMSktZSl9KHQuZ2V0RnVsbFllYXIoKSkscj10LmdldFRpbWUoKS1lLmdldFRpbWUoKTtzPTErTWF0aC5yb3VuZChyLzYwNDhlNSl9cmV0dXJuIE11KHMsdCxEdShyLGJ1Lk1pbnVzU2lnbikpfX1mdW5jdGlvbiBVdSh0LGU9ITEpe3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBNdSh6dShuKS5nZXRGdWxsWWVhcigpLHQsRHUocixidS5NaW51c1NpZ24pLGUpfX1jb25zdCBXdT17fTtmdW5jdGlvbiBHdSh0LGUpe3Q9dC5yZXBsYWNlKC86L2csIiIpO2NvbnN0IG49RGF0ZS5wYXJzZSgiSmFuIDAxLCAxOTcwIDAwOjAwOjAwICIrdCkvNmU0O3JldHVybiBpc05hTihuKT9lOm59ZnVuY3Rpb24gcXUodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBEYXRlJiYhaXNOYU4odC52YWx1ZU9mKCkpfWNvbnN0IFh1PS9eKFxkKyk/XC4oKFxkKykoLShcZCspKT8pPyQvLFl1PSIuIixadT0iMCI7ZnVuY3Rpb24gUXUodCxlLG4scixzLGksbz0hMSl7bGV0IGE9IiIsYz0hMTtpZihpc0Zpbml0ZSh0KSl7bGV0IGw9ZnVuY3Rpb24odCl7bGV0IGUsbixyLHMsaSxvPU1hdGguYWJzKHQpKyIiLGE9MDtmb3IoKG49by5pbmRleE9mKFl1KSk+LTEmJihvPW8ucmVwbGFjZShZdSwiIikpLChyPW8uc2VhcmNoKC9lL2kpKT4wPyhuPDAmJihuPXIpLG4rPStvLnNsaWNlKHIrMSksbz1vLnN1YnN0cmluZygwLHIpKTpuPDAmJihuPW8ubGVuZ3RoKSxyPTA7by5jaGFyQXQocik9PT1adTtyKyspO2lmKHI9PT0oaT1vLmxlbmd0aCkpZT1bMF0sbj0xO2Vsc2V7Zm9yKGktLTtvLmNoYXJBdChpKT09PVp1OylpLS07Zm9yKG4tPXIsZT1bXSxzPTA7cjw9aTtyKysscysrKWVbc109TnVtYmVyKG8uY2hhckF0KHIpKX1yZXR1cm4gbj4yMiYmKGU9ZS5zcGxpY2UoMCwyMSksYT1uLTEsbj0xKSx7ZGlnaXRzOmUsZXhwb25lbnQ6YSxpbnRlZ2VyTGVuOm59fSh0KTtvJiYobD1mdW5jdGlvbih0KXtpZigwPT09dC5kaWdpdHNbMF0pcmV0dXJuIHQ7Y29uc3QgZT10LmRpZ2l0cy5sZW5ndGgtdC5pbnRlZ2VyTGVuO3JldHVybiB0LmV4cG9uZW50P3QuZXhwb25lbnQrPTI6KDA9PT1lP3QuZGlnaXRzLnB1c2goMCwwKToxPT09ZSYmdC5kaWdpdHMucHVzaCgwKSx0LmludGVnZXJMZW4rPTIpLHR9KGwpKTtsZXQgdT1lLm1pbkludCxoPWUubWluRnJhYyxkPWUubWF4RnJhYztpZihpKXtjb25zdCB0PWkubWF0Y2goWHUpO2lmKG51bGw9PT10KXRocm93IG5ldyBFcnJvcihgJHtpfSBpcyBub3QgYSB2YWxpZCBkaWdpdCBpbmZvYCk7Y29uc3QgZT10WzFdLG49dFszXSxyPXRbNV07bnVsbCE9ZSYmKHU9SnUoZSkpLG51bGwhPW4mJihoPUp1KG4pKSxudWxsIT1yP2Q9SnUocik6bnVsbCE9biYmaD5kJiYoZD1oKX0hZnVuY3Rpb24odCxlLG4pe2lmKGU+bil0aHJvdyBuZXcgRXJyb3IoYFRoZSBtaW5pbXVtIG51bWJlciBvZiBkaWdpdHMgYWZ0ZXIgZnJhY3Rpb24gKCR7ZX0pIGlzIGhpZ2hlciB0aGFuIHRoZSBtYXhpbXVtICgke259KS5gKTtsZXQgcj10LmRpZ2l0cyxzPXIubGVuZ3RoLXQuaW50ZWdlckxlbjtjb25zdCBpPU1hdGgubWluKE1hdGgubWF4KGUscyksbik7bGV0IG89aSt0LmludGVnZXJMZW4sYT1yW29dO2lmKG8+MCl7ci5zcGxpY2UoTWF0aC5tYXgodC5pbnRlZ2VyTGVuLG8pKTtmb3IobGV0IHQ9bzt0PHIubGVuZ3RoO3QrKylyW3RdPTB9ZWxzZXtzPU1hdGgubWF4KDAscyksdC5pbnRlZ2VyTGVuPTEsci5sZW5ndGg9TWF0aC5tYXgoMSxvPWkrMSksclswXT0wO2ZvcihsZXQgdD0xO3Q8bzt0Kyspclt0XT0wfWlmKGE+PTUpaWYoby0xPDApe2ZvcihsZXQgZT0wO2U+bztlLS0pci51bnNoaWZ0KDApLHQuaW50ZWdlckxlbisrO3IudW5zaGlmdCgxKSx0LmludGVnZXJMZW4rK31lbHNlIHJbby0xXSsrO2Zvcig7czxNYXRoLm1heCgwLGkpO3MrKylyLnB1c2goMCk7bGV0IGM9MCE9PWk7Y29uc3QgbD1lK3QuaW50ZWdlckxlbix1PXIucmVkdWNlUmlnaHQoZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHJbbl09KGUrPXQpPDEwP2U6ZS0xMCxjJiYoMD09PXJbbl0mJm4+PWw/ci5wb3AoKTpjPSExKSxlPj0xMD8xOjB9LDApO3UmJihyLnVuc2hpZnQodSksdC5pbnRlZ2VyTGVuKyspfShsLGgsZCk7bGV0IHA9bC5kaWdpdHMsZj1sLmludGVnZXJMZW47Y29uc3QgZz1sLmV4cG9uZW50O2xldCBtPVtdO2ZvcihjPXAuZXZlcnkodD0+IXQpO2Y8dTtmKyspcC51bnNoaWZ0KDApO2Zvcig7ZjwwO2YrKylwLnVuc2hpZnQoMCk7Zj4wP209cC5zcGxpY2UoZixwLmxlbmd0aCk6KG09cCxwPVswXSk7Y29uc3QgeT1bXTtmb3IocC5sZW5ndGg+PWUubGdTaXplJiZ5LnVuc2hpZnQocC5zcGxpY2UoLWUubGdTaXplLHAubGVuZ3RoKS5qb2luKCIiKSk7cC5sZW5ndGg+ZS5nU2l6ZTspeS51bnNoaWZ0KHAuc3BsaWNlKC1lLmdTaXplLHAubGVuZ3RoKS5qb2luKCIiKSk7cC5sZW5ndGgmJnkudW5zaGlmdChwLmpvaW4oIiIpKSxhPXkuam9pbihEdShuLHIpKSxtLmxlbmd0aCYmKGErPUR1KG4scykrbS5qb2luKCIiKSksZyYmKGErPUR1KG4sYnUuRXhwb25lbnRpYWwpKyIrIitnKX1lbHNlIGE9RHUobixidS5JbmZpbml0eSk7cmV0dXJuIGE9dDwwJiYhYz9lLm5lZ1ByZSthK2UubmVnU3VmOmUucG9zUHJlK2ErZS5wb3NTdWYsYX1mdW5jdGlvbiBLdSh0LGU9Ii0iKXtjb25zdCBuPXttaW5JbnQ6MSxtaW5GcmFjOjAsbWF4RnJhYzowLHBvc1ByZToiIixwb3NTdWY6IiIsbmVnUHJlOiIiLG5lZ1N1ZjoiIixnU2l6ZTowLGxnU2l6ZTowfSxyPXQuc3BsaXQoIjsiKSxzPXJbMF0saT1yWzFdLG89LTEhPT1zLmluZGV4T2YoWXUpP3Muc3BsaXQoWXUpOltzLnN1YnN0cmluZygwLHMubGFzdEluZGV4T2YoWnUpKzEpLHMuc3Vic3RyaW5nKHMubGFzdEluZGV4T2YoWnUpKzEpXSxhPW9bMF0sYz1vWzFdfHwiIjtuLnBvc1ByZT1hLnN1YnN0cigwLGEuaW5kZXhPZigiIyIpKTtmb3IobGV0IHU9MDt1PGMubGVuZ3RoO3UrKyl7Y29uc3QgdD1jLmNoYXJBdCh1KTt0PT09WnU/bi5taW5GcmFjPW4ubWF4RnJhYz11KzE6IiMiPT09dD9uLm1heEZyYWM9dSsxOm4ucG9zU3VmKz10fWNvbnN0IGw9YS5zcGxpdCgiLCIpO2lmKG4uZ1NpemU9bFsxXT9sWzFdLmxlbmd0aDowLG4ubGdTaXplPWxbMl18fGxbMV0/KGxbMl18fGxbMV0pLmxlbmd0aDowLGkpe2NvbnN0IHQ9cy5sZW5ndGgtbi5wb3NQcmUubGVuZ3RoLW4ucG9zU3VmLmxlbmd0aCxlPWkuaW5kZXhPZigiIyIpO24ubmVnUHJlPWkuc3Vic3RyKDAsZSkucmVwbGFjZSgvJy9nLCIiKSxuLm5lZ1N1Zj1pLnN1YnN0cihlK3QpLnJlcGxhY2UoLycvZywiIil9ZWxzZSBuLm5lZ1ByZT1lK24ucG9zUHJlLG4ubmVnU3VmPW4ucG9zU3VmO3JldHVybiBufWZ1bmN0aW9uIEp1KHQpe2NvbnN0IGU9cGFyc2VJbnQodCk7aWYoaXNOYU4oZSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGludGVnZXIgbGl0ZXJhbCB3aGVuIHBhcnNpbmcgIit0KTtyZXR1cm4gZX1jbGFzcyB0aHt9bGV0IGVoPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyB0aHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMubG9jYWxlPXR9Z2V0UGx1cmFsQ2F0ZWdvcnkodCxlKXtzd2l0Y2goZnVuY3Rpb24odCl7cmV0dXJuIGxhKHQpW2hhLlBsdXJhbENhc2VdfShlfHx0aGlzLmxvY2FsZSkodCkpe2Nhc2UgZ3UuWmVybzpyZXR1cm4iemVybyI7Y2FzZSBndS5PbmU6cmV0dXJuIm9uZSI7Y2FzZSBndS5Ud286cmV0dXJuInR3byI7Y2FzZSBndS5GZXc6cmV0dXJuImZldyI7Y2FzZSBndS5NYW55OnJldHVybiJtYW55IjtkZWZhdWx0OnJldHVybiJvdGhlciJ9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShocihpbCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2Z1bmN0aW9uIG5oKHQsZSl7ZT1lbmNvZGVVUklDb21wb25lbnQoZSk7Zm9yKGNvbnN0IG4gb2YgdC5zcGxpdCgiOyIpKXtjb25zdCB0PW4uaW5kZXhPZigiPSIpLFtyLHNdPS0xPT10P1tuLCIiXTpbbi5zbGljZSgwLHQpLG4uc2xpY2UodCsxKV07aWYoci50cmltKCk9PT1lKXJldHVybiBkZWNvZGVVUklDb21wb25lbnQocyl9cmV0dXJuIG51bGx9bGV0IHJoPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4scil7dGhpcy5faXRlcmFibGVEaWZmZXJzPXQsdGhpcy5fa2V5VmFsdWVEaWZmZXJzPWUsdGhpcy5fbmdFbD1uLHRoaXMuX3JlbmRlcmVyPXIsdGhpcy5faXRlcmFibGVEaWZmZXI9bnVsbCx0aGlzLl9rZXlWYWx1ZURpZmZlcj1udWxsLHRoaXMuX2luaXRpYWxDbGFzc2VzPVtdLHRoaXMuX3Jhd0NsYXNzPW51bGx9c2V0IGtsYXNzKHQpe3RoaXMuX3JlbW92ZUNsYXNzZXModGhpcy5faW5pdGlhbENsYXNzZXMpLHRoaXMuX2luaXRpYWxDbGFzc2VzPSJzdHJpbmciPT10eXBlb2YgdD90LnNwbGl0KC9ccysvKTpbXSx0aGlzLl9hcHBseUNsYXNzZXModGhpcy5faW5pdGlhbENsYXNzZXMpLHRoaXMuX2FwcGx5Q2xhc3Nlcyh0aGlzLl9yYXdDbGFzcyl9c2V0IG5nQ2xhc3ModCl7dGhpcy5fcmVtb3ZlQ2xhc3Nlcyh0aGlzLl9yYXdDbGFzcyksdGhpcy5fYXBwbHlDbGFzc2VzKHRoaXMuX2luaXRpYWxDbGFzc2VzKSx0aGlzLl9pdGVyYWJsZURpZmZlcj1udWxsLHRoaXMuX2tleVZhbHVlRGlmZmVyPW51bGwsdGhpcy5fcmF3Q2xhc3M9InN0cmluZyI9PXR5cGVvZiB0P3Quc3BsaXQoL1xzKy8pOnQsdGhpcy5fcmF3Q2xhc3MmJihjbyh0aGlzLl9yYXdDbGFzcyk/dGhpcy5faXRlcmFibGVEaWZmZXI9dGhpcy5faXRlcmFibGVEaWZmZXJzLmZpbmQodGhpcy5fcmF3Q2xhc3MpLmNyZWF0ZSgpOnRoaXMuX2tleVZhbHVlRGlmZmVyPXRoaXMuX2tleVZhbHVlRGlmZmVycy5maW5kKHRoaXMuX3Jhd0NsYXNzKS5jcmVhdGUoKSl9bmdEb0NoZWNrKCl7aWYodGhpcy5faXRlcmFibGVEaWZmZXIpe2NvbnN0IHQ9dGhpcy5faXRlcmFibGVEaWZmZXIuZGlmZih0aGlzLl9yYXdDbGFzcyk7dCYmdGhpcy5fYXBwbHlJdGVyYWJsZUNoYW5nZXModCl9ZWxzZSBpZih0aGlzLl9rZXlWYWx1ZURpZmZlcil7Y29uc3QgdD10aGlzLl9rZXlWYWx1ZURpZmZlci5kaWZmKHRoaXMuX3Jhd0NsYXNzKTt0JiZ0aGlzLl9hcHBseUtleVZhbHVlQ2hhbmdlcyh0KX19X2FwcGx5S2V5VmFsdWVDaGFuZ2VzKHQpe3QuZm9yRWFjaEFkZGVkSXRlbSh0PT50aGlzLl90b2dnbGVDbGFzcyh0LmtleSx0LmN1cnJlbnRWYWx1ZSkpLHQuZm9yRWFjaENoYW5nZWRJdGVtKHQ9PnRoaXMuX3RvZ2dsZUNsYXNzKHQua2V5LHQuY3VycmVudFZhbHVlKSksdC5mb3JFYWNoUmVtb3ZlZEl0ZW0odD0+e3QucHJldmlvdXNWYWx1ZSYmdGhpcy5fdG9nZ2xlQ2xhc3ModC5rZXksITEpfSl9X2FwcGx5SXRlcmFibGVDaGFuZ2VzKHQpe3QuZm9yRWFjaEFkZGVkSXRlbSh0PT57aWYoInN0cmluZyIhPXR5cGVvZiB0Lml0ZW0pdGhyb3cgbmV3IEVycm9yKGBOZ0NsYXNzIGNhbiBvbmx5IHRvZ2dsZSBDU1MgY2xhc3NlcyBleHByZXNzZWQgYXMgc3RyaW5ncywgZ290ICR7ZXQodC5pdGVtKX1gKTt0aGlzLl90b2dnbGVDbGFzcyh0Lml0ZW0sITApfSksdC5mb3JFYWNoUmVtb3ZlZEl0ZW0odD0+dGhpcy5fdG9nZ2xlQ2xhc3ModC5pdGVtLCExKSl9X2FwcGx5Q2xhc3Nlcyh0KXt0JiYoQXJyYXkuaXNBcnJheSh0KXx8dCBpbnN0YW5jZW9mIFNldD90LmZvckVhY2godD0+dGhpcy5fdG9nZ2xlQ2xhc3ModCwhMCkpOk9iamVjdC5rZXlzKHQpLmZvckVhY2goZT0+dGhpcy5fdG9nZ2xlQ2xhc3MoZSwhIXRbZV0pKSl9X3JlbW92ZUNsYXNzZXModCl7dCYmKEFycmF5LmlzQXJyYXkodCl8fHQgaW5zdGFuY2VvZiBTZXQ/dC5mb3JFYWNoKHQ9PnRoaXMuX3RvZ2dsZUNsYXNzKHQsITEpKTpPYmplY3Qua2V5cyh0KS5mb3JFYWNoKHQ9PnRoaXMuX3RvZ2dsZUNsYXNzKHQsITEpKSl9X3RvZ2dsZUNsYXNzKHQsZSl7KHQ9dC50cmltKCkpJiZ0LnNwbGl0KC9ccysvZykuZm9yRWFjaCh0PT57ZT90aGlzLl9yZW5kZXJlci5hZGRDbGFzcyh0aGlzLl9uZ0VsLm5hdGl2ZUVsZW1lbnQsdCk6dGhpcy5fcmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5fbmdFbC5uYXRpdmVFbGVtZW50LHQpfSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKFhhKSx2byhaYSksdm8oa2EpLHZvKE9hKSl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsIm5nQ2xhc3MiLCIiXV0saW5wdXRzOntrbGFzczpbImNsYXNzIiwia2xhc3MiXSxuZ0NsYXNzOiJuZ0NsYXNzIn19KSx0fSkoKTtjbGFzcyBzaHtjb25zdHJ1Y3Rvcih0LGUsbixyKXt0aGlzLiRpbXBsaWNpdD10LHRoaXMubmdGb3JPZj1lLHRoaXMuaW5kZXg9bix0aGlzLmNvdW50PXJ9Z2V0IGZpcnN0KCl7cmV0dXJuIDA9PT10aGlzLmluZGV4fWdldCBsYXN0KCl7cmV0dXJuIHRoaXMuaW5kZXg9PT10aGlzLmNvdW50LTF9Z2V0IGV2ZW4oKXtyZXR1cm4gdGhpcy5pbmRleCUyPT0wfWdldCBvZGQoKXtyZXR1cm4hdGhpcy5ldmVufX1sZXQgaWg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5fdmlld0NvbnRhaW5lcj10LHRoaXMuX3RlbXBsYXRlPWUsdGhpcy5fZGlmZmVycz1uLHRoaXMuX25nRm9yT2Y9bnVsbCx0aGlzLl9uZ0Zvck9mRGlydHk9ITAsdGhpcy5fZGlmZmVyPW51bGx9c2V0IG5nRm9yT2YodCl7dGhpcy5fbmdGb3JPZj10LHRoaXMuX25nRm9yT2ZEaXJ0eT0hMH1zZXQgbmdGb3JUcmFja0J5KHQpe3RoaXMuX3RyYWNrQnlGbj10fWdldCBuZ0ZvclRyYWNrQnkoKXtyZXR1cm4gdGhpcy5fdHJhY2tCeUZufXNldCBuZ0ZvclRlbXBsYXRlKHQpe3QmJih0aGlzLl90ZW1wbGF0ZT10KX1uZ0RvQ2hlY2soKXtpZih0aGlzLl9uZ0Zvck9mRGlydHkpe3RoaXMuX25nRm9yT2ZEaXJ0eT0hMTtjb25zdCBuPXRoaXMuX25nRm9yT2Y7aWYoIXRoaXMuX2RpZmZlciYmbil0cnl7dGhpcy5fZGlmZmVyPXRoaXMuX2RpZmZlcnMuZmluZChuKS5jcmVhdGUodGhpcy5uZ0ZvclRyYWNrQnkpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgYSBkaWZmZXIgc3VwcG9ydGluZyBvYmplY3QgJyR7bn0nIG9mIHR5cGUgJyR7dD1uLHQubmFtZXx8dHlwZW9mIHR9Jy4gTmdGb3Igb25seSBzdXBwb3J0cyBiaW5kaW5nIHRvIEl0ZXJhYmxlcyBzdWNoIGFzIEFycmF5cy5gKX19dmFyIHQ7aWYodGhpcy5fZGlmZmVyKXtjb25zdCB0PXRoaXMuX2RpZmZlci5kaWZmKHRoaXMuX25nRm9yT2YpO3QmJnRoaXMuX2FwcGx5Q2hhbmdlcyh0KX19X2FwcGx5Q2hhbmdlcyh0KXtjb25zdCBlPVtdO3QuZm9yRWFjaE9wZXJhdGlvbigodCxuLHIpPT57aWYobnVsbD09dC5wcmV2aW91c0luZGV4KXtjb25zdCBuPXRoaXMuX3ZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuX3RlbXBsYXRlLG5ldyBzaChudWxsLHRoaXMuX25nRm9yT2YsLTEsLTEpLG51bGw9PT1yP3ZvaWQgMDpyKSxzPW5ldyBvaCh0LG4pO2UucHVzaChzKX1lbHNlIGlmKG51bGw9PXIpdGhpcy5fdmlld0NvbnRhaW5lci5yZW1vdmUobnVsbD09PW4/dm9pZCAwOm4pO2Vsc2UgaWYobnVsbCE9PW4pe2NvbnN0IHM9dGhpcy5fdmlld0NvbnRhaW5lci5nZXQobik7dGhpcy5fdmlld0NvbnRhaW5lci5tb3ZlKHMscik7Y29uc3QgaT1uZXcgb2godCxzKTtlLnB1c2goaSl9fSk7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5fcGVyVmlld0NoYW5nZShlW25dLnZpZXcsZVtuXS5yZWNvcmQpO2ZvcihsZXQgbj0wLHI9dGhpcy5fdmlld0NvbnRhaW5lci5sZW5ndGg7bjxyO24rKyl7Y29uc3QgdD10aGlzLl92aWV3Q29udGFpbmVyLmdldChuKTt0LmNvbnRleHQuaW5kZXg9bix0LmNvbnRleHQuY291bnQ9cix0LmNvbnRleHQubmdGb3JPZj10aGlzLl9uZ0Zvck9mfXQuZm9yRWFjaElkZW50aXR5Q2hhbmdlKHQ9Pnt0aGlzLl92aWV3Q29udGFpbmVyLmdldCh0LmN1cnJlbnRJbmRleCkuY29udGV4dC4kaW1wbGljaXQ9dC5pdGVtfSl9X3BlclZpZXdDaGFuZ2UodCxlKXt0LmNvbnRleHQuJGltcGxpY2l0PWUuaXRlbX1zdGF0aWMgbmdUZW1wbGF0ZUNvbnRleHRHdWFyZCh0LGUpe3JldHVybiEwfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh2byhwYyksdm8ob2MpLHZvKFhhKSl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsIm5nRm9yIiwiIiwibmdGb3JPZiIsIiJdXSxpbnB1dHM6e25nRm9yT2Y6Im5nRm9yT2YiLG5nRm9yVHJhY2tCeToibmdGb3JUcmFja0J5IixuZ0ZvclRlbXBsYXRlOiJuZ0ZvclRlbXBsYXRlIn19KSx0fSkoKTtjbGFzcyBvaHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucmVjb3JkPXQsdGhpcy52aWV3PWV9fWxldCBhaD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fdmlld0NvbnRhaW5lcj10LHRoaXMuX2NvbnRleHQ9bmV3IGNoLHRoaXMuX3RoZW5UZW1wbGF0ZVJlZj1udWxsLHRoaXMuX2Vsc2VUZW1wbGF0ZVJlZj1udWxsLHRoaXMuX3RoZW5WaWV3UmVmPW51bGwsdGhpcy5fZWxzZVZpZXdSZWY9bnVsbCx0aGlzLl90aGVuVGVtcGxhdGVSZWY9ZX1zZXQgbmdJZih0KXt0aGlzLl9jb250ZXh0LiRpbXBsaWNpdD10aGlzLl9jb250ZXh0Lm5nSWY9dCx0aGlzLl91cGRhdGVWaWV3KCl9c2V0IG5nSWZUaGVuKHQpe2xoKCJuZ0lmVGhlbiIsdCksdGhpcy5fdGhlblRlbXBsYXRlUmVmPXQsdGhpcy5fdGhlblZpZXdSZWY9bnVsbCx0aGlzLl91cGRhdGVWaWV3KCl9c2V0IG5nSWZFbHNlKHQpe2xoKCJuZ0lmRWxzZSIsdCksdGhpcy5fZWxzZVRlbXBsYXRlUmVmPXQsdGhpcy5fZWxzZVZpZXdSZWY9bnVsbCx0aGlzLl91cGRhdGVWaWV3KCl9X3VwZGF0ZVZpZXcoKXt0aGlzLl9jb250ZXh0LiRpbXBsaWNpdD90aGlzLl90aGVuVmlld1JlZnx8KHRoaXMuX3ZpZXdDb250YWluZXIuY2xlYXIoKSx0aGlzLl9lbHNlVmlld1JlZj1udWxsLHRoaXMuX3RoZW5UZW1wbGF0ZVJlZiYmKHRoaXMuX3RoZW5WaWV3UmVmPXRoaXMuX3ZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuX3RoZW5UZW1wbGF0ZVJlZix0aGlzLl9jb250ZXh0KSkpOnRoaXMuX2Vsc2VWaWV3UmVmfHwodGhpcy5fdmlld0NvbnRhaW5lci5jbGVhcigpLHRoaXMuX3RoZW5WaWV3UmVmPW51bGwsdGhpcy5fZWxzZVRlbXBsYXRlUmVmJiYodGhpcy5fZWxzZVZpZXdSZWY9dGhpcy5fdmlld0NvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5fZWxzZVRlbXBsYXRlUmVmLHRoaXMuX2NvbnRleHQpKSl9c3RhdGljIG5nVGVtcGxhdGVDb250ZXh0R3VhcmQodCxlKXtyZXR1cm4hMH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodm8ocGMpLHZvKG9jKSl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsIm5nSWYiLCIiXV0saW5wdXRzOntuZ0lmOiJuZ0lmIixuZ0lmVGhlbjoibmdJZlRoZW4iLG5nSWZFbHNlOiJuZ0lmRWxzZSJ9fSksdH0pKCk7Y2xhc3MgY2h7Y29uc3RydWN0b3IoKXt0aGlzLiRpbXBsaWNpdD1udWxsLHRoaXMubmdJZj1udWxsfX1mdW5jdGlvbiBsaCh0LGUpe2lmKGUmJiFlLmNyZWF0ZUVtYmVkZGVkVmlldyl0aHJvdyBuZXcgRXJyb3IoYCR7dH0gbXVzdCBiZSBhIFRlbXBsYXRlUmVmLCBidXQgcmVjZWl2ZWQgJyR7ZXQoZSl9Jy5gKX1sZXQgdWg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5fbmdFbD10LHRoaXMuX2RpZmZlcnM9ZSx0aGlzLl9yZW5kZXJlcj1uLHRoaXMuX25nU3R5bGU9bnVsbCx0aGlzLl9kaWZmZXI9bnVsbH1zZXQgbmdTdHlsZSh0KXt0aGlzLl9uZ1N0eWxlPXQsIXRoaXMuX2RpZmZlciYmdCYmKHRoaXMuX2RpZmZlcj10aGlzLl9kaWZmZXJzLmZpbmQodCkuY3JlYXRlKCkpfW5nRG9DaGVjaygpe2lmKHRoaXMuX2RpZmZlcil7Y29uc3QgdD10aGlzLl9kaWZmZXIuZGlmZih0aGlzLl9uZ1N0eWxlKTt0JiZ0aGlzLl9hcHBseUNoYW5nZXModCl9fV9zZXRTdHlsZSh0LGUpe2NvbnN0W24scl09dC5zcGxpdCgiLiIpO251bGwhPShlPW51bGwhPWUmJnI/YCR7ZX0ke3J9YDplKT90aGlzLl9yZW5kZXJlci5zZXRTdHlsZSh0aGlzLl9uZ0VsLm5hdGl2ZUVsZW1lbnQsbixlKTp0aGlzLl9yZW5kZXJlci5yZW1vdmVTdHlsZSh0aGlzLl9uZ0VsLm5hdGl2ZUVsZW1lbnQsbil9X2FwcGx5Q2hhbmdlcyh0KXt0LmZvckVhY2hSZW1vdmVkSXRlbSh0PT50aGlzLl9zZXRTdHlsZSh0LmtleSxudWxsKSksdC5mb3JFYWNoQWRkZWRJdGVtKHQ9PnRoaXMuX3NldFN0eWxlKHQua2V5LHQuY3VycmVudFZhbHVlKSksdC5mb3JFYWNoQ2hhbmdlZEl0ZW0odD0+dGhpcy5fc2V0U3R5bGUodC5rZXksdC5jdXJyZW50VmFsdWUpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodm8oa2EpLHZvKFphKSx2byhPYSkpfSx0Llx1MDI3NWRpcj1YdCh7dHlwZTp0LHNlbGVjdG9yczpbWyIiLCJuZ1N0eWxlIiwiIl1dLGlucHV0czp7bmdTdHlsZToibmdTdHlsZSJ9fSksdH0pKCksaGg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl92aWV3Q29udGFpbmVyUmVmPXQsdGhpcy5fdmlld1JlZj1udWxsLHRoaXMubmdUZW1wbGF0ZU91dGxldENvbnRleHQ9bnVsbCx0aGlzLm5nVGVtcGxhdGVPdXRsZXQ9bnVsbH1uZ09uQ2hhbmdlcyh0KXtpZih0Lm5nVGVtcGxhdGVPdXRsZXQpe2NvbnN0IHQ9dGhpcy5fdmlld0NvbnRhaW5lclJlZjt0aGlzLl92aWV3UmVmJiZ0LnJlbW92ZSh0LmluZGV4T2YodGhpcy5fdmlld1JlZikpLHRoaXMuX3ZpZXdSZWY9dGhpcy5uZ1RlbXBsYXRlT3V0bGV0P3QuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMubmdUZW1wbGF0ZU91dGxldCx0aGlzLm5nVGVtcGxhdGVPdXRsZXRDb250ZXh0KTpudWxsfWVsc2UgdGhpcy5fdmlld1JlZiYmdC5uZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCYmdGhpcy5uZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCYmKHRoaXMuX3ZpZXdSZWYuY29udGV4dD10aGlzLm5nVGVtcGxhdGVPdXRsZXRDb250ZXh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodm8ocGMpKX0sdC5cdTAyNzVkaXI9WHQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwibmdUZW1wbGF0ZU91dGxldCIsIiJdXSxpbnB1dHM6e25nVGVtcGxhdGVPdXRsZXRDb250ZXh0OiJuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCIsbmdUZW1wbGF0ZU91dGxldDoibmdUZW1wbGF0ZU91dGxldCJ9LGZlYXR1cmVzOltjZV19KSx0fSkoKTtmdW5jdGlvbiBkaCh0LGUpe3JldHVybiBFcnJvcihgSW52YWxpZFBpcGVBcmd1bWVudDogJyR7ZX0nIGZvciBwaXBlICcke2V0KHQpfSdgKX1jbGFzcyBwaHtjcmVhdGVTdWJzY3JpcHRpb24odCxlKXtyZXR1cm4gdC5zdWJzY3JpYmUoe25leHQ6ZSxlcnJvcjp0PT57dGhyb3cgdH19KX1kaXNwb3NlKHQpe3QudW5zdWJzY3JpYmUoKX1vbkRlc3Ryb3kodCl7dC51bnN1YnNjcmliZSgpfX1jbGFzcyBmaHtjcmVhdGVTdWJzY3JpcHRpb24odCxlKXtyZXR1cm4gdC50aGVuKGUsdD0+e3Rocm93IHR9KX1kaXNwb3NlKHQpe31vbkRlc3Ryb3kodCl7fX1jb25zdCBnaD1uZXcgZmgsbWg9bmV3IHBoO2xldCB5aD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuX3JlZj10LHRoaXMuX2xhdGVzdFZhbHVlPW51bGwsdGhpcy5fc3Vic2NyaXB0aW9uPW51bGwsdGhpcy5fb2JqPW51bGwsdGhpcy5fc3RyYXRlZ3k9bnVsbH1uZ09uRGVzdHJveSgpe3RoaXMuX3N1YnNjcmlwdGlvbiYmdGhpcy5fZGlzcG9zZSgpfXRyYW5zZm9ybSh0KXtyZXR1cm4gdGhpcy5fb2JqP3QhPT10aGlzLl9vYmo/KHRoaXMuX2Rpc3Bvc2UoKSx0aGlzLnRyYW5zZm9ybSh0KSk6dGhpcy5fbGF0ZXN0VmFsdWU6KHQmJnRoaXMuX3N1YnNjcmliZSh0KSx0aGlzLl9sYXRlc3RWYWx1ZSl9X3N1YnNjcmliZSh0KXt0aGlzLl9vYmo9dCx0aGlzLl9zdHJhdGVneT10aGlzLl9zZWxlY3RTdHJhdGVneSh0KSx0aGlzLl9zdWJzY3JpcHRpb249dGhpcy5fc3RyYXRlZ3kuY3JlYXRlU3Vic2NyaXB0aW9uKHQsZT0+dGhpcy5fdXBkYXRlTGF0ZXN0VmFsdWUodCxlKSl9X3NlbGVjdFN0cmF0ZWd5KGUpe2lmKHhvKGUpKXJldHVybiBnaDtpZihBbyhlKSlyZXR1cm4gbWg7dGhyb3cgZGgodCxlKX1fZGlzcG9zZSgpe3RoaXMuX3N0cmF0ZWd5LmRpc3Bvc2UodGhpcy5fc3Vic2NyaXB0aW9uKSx0aGlzLl9sYXRlc3RWYWx1ZT1udWxsLHRoaXMuX3N1YnNjcmlwdGlvbj1udWxsLHRoaXMuX29iaj1udWxsfV91cGRhdGVMYXRlc3RWYWx1ZSh0LGUpe3Q9PT10aGlzLl9vYmomJih0aGlzLl9sYXRlc3RWYWx1ZT1lLHRoaXMuX3JlZi5tYXJrRm9yQ2hlY2soKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKGVjLDE2KSl9LHQuXHUwMjc1cGlwZT1ZdCh7bmFtZToiYXN5bmMiLHR5cGU6dCxwdXJlOiExfSksdH0pKCk7Y29uc3Qgdmg9Lyg/OltBLVphLXpceEFBXHhCNVx4QkFceEMwLVx4RDZceEQ4LVx4RjZceEY4LVx1MDJDMVx1MDJDNi1cdTAyRDFcdTAyRTAtXHUwMkU0XHUwMkVDXHUwMkVFXHUwMzcwLVx1MDM3NFx1MDM3Nlx1MDM3N1x1MDM3QS1cdTAzN0RcdTAzN0ZcdTAzODZcdTAzODgtXHUwMzhBXHUwMzhDXHUwMzhFLVx1MDNBMVx1MDNBMy1cdTAzRjVcdTAzRjctXHUwNDgxXHUwNDhBLVx1MDUyRlx1MDUzMS1cdTA1NTZcdTA1NTlcdTA1NjEtXHUwNTg3XHUwNUQwLVx1MDVFQVx1MDVGMC1cdTA1RjJcdTA2MjAtXHUwNjRBXHUwNjZFXHUwNjZGXHUwNjcxLVx1MDZEM1x1MDZENVx1MDZFNVx1MDZFNlx1MDZFRVx1MDZFRlx1MDZGQS1cdTA2RkNcdTA2RkZcdTA3MTBcdTA3MTItXHUwNzJGXHUwNzRELVx1MDdBNVx1MDdCMVx1MDdDQS1cdTA3RUFcdTA3RjRcdTA3RjVcdTA3RkFcdTA4MDAtXHUwODE1XHUwODFBXHUwODI0XHUwODI4XHUwODQwLVx1MDg1OFx1MDg2MC1cdTA4NkFcdTA4QTAtXHUwOEI0XHUwOEI2LVx1MDhCRFx1MDkwNC1cdTA5MzlcdTA5M0RcdTA5NTBcdTA5NTgtXHUwOTYxXHUwOTcxLVx1MDk4MFx1MDk4NS1cdTA5OENcdTA5OEZcdTA5OTBcdTA5OTMtXHUwOUE4XHUwOUFBLVx1MDlCMFx1MDlCMlx1MDlCNi1cdTA5QjlcdTA5QkRcdTA5Q0VcdTA5RENcdTA5RERcdTA5REYtXHUwOUUxXHUwOUYwXHUwOUYxXHUwOUZDXHUwQTA1LVx1MEEwQVx1MEEwRlx1MEExMFx1MEExMy1cdTBBMjhcdTBBMkEtXHUwQTMwXHUwQTMyXHUwQTMzXHUwQTM1XHUwQTM2XHUwQTM4XHUwQTM5XHUwQTU5LVx1MEE1Q1x1MEE1RVx1MEE3Mi1cdTBBNzRcdTBBODUtXHUwQThEXHUwQThGLVx1MEE5MVx1MEE5My1cdTBBQThcdTBBQUEtXHUwQUIwXHUwQUIyXHUwQUIzXHUwQUI1LVx1MEFCOVx1MEFCRFx1MEFEMFx1MEFFMFx1MEFFMVx1MEFGOVx1MEIwNS1cdTBCMENcdTBCMEZcdTBCMTBcdTBCMTMtXHUwQjI4XHUwQjJBLVx1MEIzMFx1MEIzMlx1MEIzM1x1MEIzNS1cdTBCMzlcdTBCM0RcdTBCNUNcdTBCNURcdTBCNUYtXHUwQjYxXHUwQjcxXHUwQjgzXHUwQjg1LVx1MEI4QVx1MEI4RS1cdTBCOTBcdTBCOTItXHUwQjk1XHUwQjk5XHUwQjlBXHUwQjlDXHUwQjlFXHUwQjlGXHUwQkEzXHUwQkE0XHUwQkE4LVx1MEJBQVx1MEJBRS1cdTBCQjlcdTBCRDBcdTBDMDUtXHUwQzBDXHUwQzBFLVx1MEMxMFx1MEMxMi1cdTBDMjhcdTBDMkEtXHUwQzM5XHUwQzNEXHUwQzU4LVx1MEM1QVx1MEM2MFx1MEM2MVx1MEM4MFx1MEM4NS1cdTBDOENcdTBDOEUtXHUwQzkwXHUwQzkyLVx1MENBOFx1MENBQS1cdTBDQjNcdTBDQjUtXHUwQ0I5XHUwQ0JEXHUwQ0RFXHUwQ0UwXHUwQ0UxXHUwQ0YxXHUwQ0YyXHUwRDA1LVx1MEQwQ1x1MEQwRS1cdTBEMTBcdTBEMTItXHUwRDNBXHUwRDNEXHUwRDRFXHUwRDU0LVx1MEQ1Nlx1MEQ1Ri1cdTBENjFcdTBEN0EtXHUwRDdGXHUwRDg1LVx1MEQ5Nlx1MEQ5QS1cdTBEQjFcdTBEQjMtXHUwREJCXHUwREJEXHUwREMwLVx1MERDNlx1MEUwMS1cdTBFMzBcdTBFMzJcdTBFMzNcdTBFNDAtXHUwRTQ2XHUwRTgxXHUwRTgyXHUwRTg0XHUwRTg3XHUwRTg4XHUwRThBXHUwRThEXHUwRTk0LVx1MEU5N1x1MEU5OS1cdTBFOUZcdTBFQTEtXHUwRUEzXHUwRUE1XHUwRUE3XHUwRUFBXHUwRUFCXHUwRUFELVx1MEVCMFx1MEVCMlx1MEVCM1x1MEVCRFx1MEVDMC1cdTBFQzRcdTBFQzZcdTBFREMtXHUwRURGXHUwRjAwXHUwRjQwLVx1MEY0N1x1MEY0OS1cdTBGNkNcdTBGODgtXHUwRjhDXHUxMDAwLVx1MTAyQVx1MTAzRlx1MTA1MC1cdTEwNTVcdTEwNUEtXHUxMDVEXHUxMDYxXHUxMDY1XHUxMDY2XHUxMDZFLVx1MTA3MFx1MTA3NS1cdTEwODFcdTEwOEVcdTEwQTAtXHUxMEM1XHUxMEM3XHUxMENEXHUxMEQwLVx1MTBGQVx1MTBGQy1cdTEyNDhcdTEyNEEtXHUxMjREXHUxMjUwLVx1MTI1Nlx1MTI1OFx1MTI1QS1cdTEyNURcdTEyNjAtXHUxMjg4XHUxMjhBLVx1MTI4RFx1MTI5MC1cdTEyQjBcdTEyQjItXHUxMkI1XHUxMkI4LVx1MTJCRVx1MTJDMFx1MTJDMi1cdTEyQzVcdTEyQzgtXHUxMkQ2XHUxMkQ4LVx1MTMxMFx1MTMxMi1cdTEzMTVcdTEzMTgtXHUxMzVBXHUxMzgwLVx1MTM4Rlx1MTNBMC1cdTEzRjVcdTEzRjgtXHUxM0ZEXHUxNDAxLVx1MTY2Q1x1MTY2Ri1cdTE2N0ZcdTE2ODEtXHUxNjlBXHUxNkEwLVx1MTZFQVx1MTZGMS1cdTE2RjhcdTE3MDAtXHUxNzBDXHUxNzBFLVx1MTcxMVx1MTcyMC1cdTE3MzFcdTE3NDAtXHUxNzUxXHUxNzYwLVx1MTc2Q1x1MTc2RS1cdTE3NzBcdTE3ODAtXHUxN0IzXHUxN0Q3XHUxN0RDXHUxODIwLVx1MTg3N1x1MTg4MC1cdTE4ODRcdTE4ODctXHUxOEE4XHUxOEFBXHUxOEIwLVx1MThGNVx1MTkwMC1cdTE5MUVcdTE5NTAtXHUxOTZEXHUxOTcwLVx1MTk3NFx1MTk4MC1cdTE5QUJcdTE5QjAtXHUxOUM5XHUxQTAwLVx1MUExNlx1MUEyMC1cdTFBNTRcdTFBQTdcdTFCMDUtXHUxQjMzXHUxQjQ1LVx1MUI0Qlx1MUI4My1cdTFCQTBcdTFCQUVcdTFCQUZcdTFCQkEtXHUxQkU1XHUxQzAwLVx1MUMyM1x1MUM0RC1cdTFDNEZcdTFDNUEtXHUxQzdEXHUxQzgwLVx1MUM4OFx1MUNFOS1cdTFDRUNcdTFDRUUtXHUxQ0YxXHUxQ0Y1XHUxQ0Y2XHUxRDAwLVx1MURCRlx1MUUwMC1cdTFGMTVcdTFGMTgtXHUxRjFEXHUxRjIwLVx1MUY0NVx1MUY0OC1cdTFGNERcdTFGNTAtXHUxRjU3XHUxRjU5XHUxRjVCXHUxRjVEXHUxRjVGLVx1MUY3RFx1MUY4MC1cdTFGQjRcdTFGQjYtXHUxRkJDXHUxRkJFXHUxRkMyLVx1MUZDNFx1MUZDNi1cdTFGQ0NcdTFGRDAtXHUxRkQzXHUxRkQ2LVx1MUZEQlx1MUZFMC1cdTFGRUNcdTFGRjItXHUxRkY0XHUxRkY2LVx1MUZGQ1x1MjA3MVx1MjA3Rlx1MjA5MC1cdTIwOUNcdTIxMDJcdTIxMDdcdTIxMEEtXHUyMTEzXHUyMTE1XHUyMTE5LVx1MjExRFx1MjEyNFx1MjEyNlx1MjEyOFx1MjEyQS1cdTIxMkRcdTIxMkYtXHUyMTM5XHUyMTNDLVx1MjEzRlx1MjE0NS1cdTIxNDlcdTIxNEVcdTIxODNcdTIxODRcdTJDMDAtXHUyQzJFXHUyQzMwLVx1MkM1RVx1MkM2MC1cdTJDRTRcdTJDRUItXHUyQ0VFXHUyQ0YyXHUyQ0YzXHUyRDAwLVx1MkQyNVx1MkQyN1x1MkQyRFx1MkQzMC1cdTJENjdcdTJENkZcdTJEODAtXHUyRDk2XHUyREEwLVx1MkRBNlx1MkRBOC1cdTJEQUVcdTJEQjAtXHUyREI2XHUyREI4LVx1MkRCRVx1MkRDMC1cdTJEQzZcdTJEQzgtXHUyRENFXHUyREQwLVx1MkRENlx1MkREOC1cdTJEREVcdTJFMkZcdTMwMDVcdTMwMDZcdTMwMzEtXHUzMDM1XHUzMDNCXHUzMDNDXHUzMDQxLVx1MzA5Nlx1MzA5RC1cdTMwOUZcdTMwQTEtXHUzMEZBXHUzMEZDLVx1MzBGRlx1MzEwNS1cdTMxMkVcdTMxMzEtXHUzMThFXHUzMUEwLVx1MzFCQVx1MzFGMC1cdTMxRkZcdTM0MDAtXHU0REI1XHU0RTAwLVx1OUZFQVx1QTAwMC1cdUE0OENcdUE0RDAtXHVBNEZEXHVBNTAwLVx1QTYwQ1x1QTYxMC1cdUE2MUZcdUE2MkFcdUE2MkJcdUE2NDAtXHVBNjZFXHVBNjdGLVx1QTY5RFx1QTZBMC1cdUE2RTVcdUE3MTctXHVBNzFGXHVBNzIyLVx1QTc4OFx1QTc4Qi1cdUE3QUVcdUE3QjAtXHVBN0I3XHVBN0Y3LVx1QTgwMVx1QTgwMy1cdUE4MDVcdUE4MDctXHVBODBBXHVBODBDLVx1QTgyMlx1QTg0MC1cdUE4NzNcdUE4ODItXHVBOEIzXHVBOEYyLVx1QThGN1x1QThGQlx1QThGRFx1QTkwQS1cdUE5MjVcdUE5MzAtXHVBOTQ2XHVBOTYwLVx1QTk3Q1x1QTk4NC1cdUE5QjJcdUE5Q0ZcdUE5RTAtXHVBOUU0XHVBOUU2LVx1QTlFRlx1QTlGQS1cdUE5RkVcdUFBMDAtXHVBQTI4XHVBQTQwLVx1QUE0Mlx1QUE0NC1cdUFBNEJcdUFBNjAtXHVBQTc2XHVBQTdBXHVBQTdFLVx1QUFBRlx1QUFCMVx1QUFCNVx1QUFCNlx1QUFCOS1cdUFBQkRcdUFBQzBcdUFBQzJcdUFBREItXHVBQUREXHVBQUUwLVx1QUFFQVx1QUFGMi1cdUFBRjRcdUFCMDEtXHVBQjA2XHVBQjA5LVx1QUIwRVx1QUIxMS1cdUFCMTZcdUFCMjAtXHVBQjI2XHVBQjI4LVx1QUIyRVx1QUIzMC1cdUFCNUFcdUFCNUMtXHVBQjY1XHVBQjcwLVx1QUJFMlx1QUMwMC1cdUQ3QTNcdUQ3QjAtXHVEN0M2XHVEN0NCLVx1RDdGQlx1RjkwMC1cdUZBNkRcdUZBNzAtXHVGQUQ5XHVGQjAwLVx1RkIwNlx1RkIxMy1cdUZCMTdcdUZCMURcdUZCMUYtXHVGQjI4XHVGQjJBLVx1RkIzNlx1RkIzOC1cdUZCM0NcdUZCM0VcdUZCNDBcdUZCNDFcdUZCNDNcdUZCNDRcdUZCNDYtXHVGQkIxXHVGQkQzLVx1RkQzRFx1RkQ1MC1cdUZEOEZcdUZEOTItXHVGREM3XHVGREYwLVx1RkRGQlx1RkU3MC1cdUZFNzRcdUZFNzYtXHVGRUZDXHVGRjIxLVx1RkYzQVx1RkY0MS1cdUZGNUFcdUZGNjYtXHVGRkJFXHVGRkMyLVx1RkZDN1x1RkZDQS1cdUZGQ0ZcdUZGRDItXHVGRkQ3XHVGRkRBLVx1RkZEQ118XHVEODAwW1x1REMwMC1cdURDMEJcdURDMEQtXHVEQzI2XHVEQzI4LVx1REMzQVx1REMzQ1x1REMzRFx1REMzRi1cdURDNERcdURDNTAtXHVEQzVEXHVEQzgwLVx1RENGQVx1REU4MC1cdURFOUNcdURFQTAtXHVERUQwXHVERjAwLVx1REYxRlx1REYyRC1cdURGNDBcdURGNDItXHVERjQ5XHVERjUwLVx1REY3NVx1REY4MC1cdURGOURcdURGQTAtXHVERkMzXHVERkM4LVx1REZDRl18XHVEODAxW1x1REMwMC1cdURDOURcdURDQjAtXHVEQ0QzXHVEQ0Q4LVx1RENGQlx1REQwMC1cdUREMjdcdUREMzAtXHVERDYzXHVERTAwLVx1REYzNlx1REY0MC1cdURGNTVcdURGNjAtXHVERjY3XXxcdUQ4MDJbXHVEQzAwLVx1REMwNVx1REMwOFx1REMwQS1cdURDMzVcdURDMzdcdURDMzhcdURDM0NcdURDM0YtXHVEQzU1XHVEQzYwLVx1REM3Nlx1REM4MC1cdURDOUVcdURDRTAtXHVEQ0YyXHVEQ0Y0XHVEQ0Y1XHVERDAwLVx1REQxNVx1REQyMC1cdUREMzlcdUREODAtXHVEREI3XHVEREJFXHVEREJGXHVERTAwXHVERTEwLVx1REUxM1x1REUxNS1cdURFMTdcdURFMTktXHVERTMzXHVERTYwLVx1REU3Q1x1REU4MC1cdURFOUNcdURFQzAtXHVERUM3XHVERUM5LVx1REVFNFx1REYwMC1cdURGMzVcdURGNDAtXHVERjU1XHVERjYwLVx1REY3Mlx1REY4MC1cdURGOTFdfFx1RDgwM1tcdURDMDAtXHVEQzQ4XHVEQzgwLVx1RENCMlx1RENDMC1cdURDRjJdfFx1RDgwNFtcdURDMDMtXHVEQzM3XHVEQzgzLVx1RENBRlx1RENEMC1cdURDRThcdUREMDMtXHVERDI2XHVERDUwLVx1REQ3Mlx1REQ3Nlx1REQ4My1cdUREQjJcdUREQzEtXHVEREM0XHVERERBXHVERERDXHVERTAwLVx1REUxMVx1REUxMy1cdURFMkJcdURFODAtXHVERTg2XHVERTg4XHVERThBLVx1REU4RFx1REU4Ri1cdURFOURcdURFOUYtXHVERUE4XHVERUIwLVx1REVERVx1REYwNS1cdURGMENcdURGMEZcdURGMTBcdURGMTMtXHVERjI4XHVERjJBLVx1REYzMFx1REYzMlx1REYzM1x1REYzNS1cdURGMzlcdURGM0RcdURGNTBcdURGNUQtXHVERjYxXXxcdUQ4MDVbXHVEQzAwLVx1REMzNFx1REM0Ny1cdURDNEFcdURDODAtXHVEQ0FGXHVEQ0M0XHVEQ0M1XHVEQ0M3XHVERDgwLVx1RERBRVx1REREOC1cdUREREJcdURFMDAtXHVERTJGXHVERTQ0XHVERTgwLVx1REVBQVx1REYwMC1cdURGMTldfFx1RDgwNltcdURDQTAtXHVEQ0RGXHVEQ0ZGXHVERTAwXHVERTBCLVx1REUzMlx1REUzQVx1REU1MFx1REU1Qy1cdURFODNcdURFODYtXHVERTg5XHVERUMwLVx1REVGOF18XHVEODA3W1x1REMwMC1cdURDMDhcdURDMEEtXHVEQzJFXHVEQzQwXHVEQzcyLVx1REM4Rlx1REQwMC1cdUREMDZcdUREMDhcdUREMDlcdUREMEItXHVERDMwXHVERDQ2XXxcdUQ4MDhbXHVEQzAwLVx1REY5OV18XHVEODA5W1x1REM4MC1cdURENDNdfFtcdUQ4MENcdUQ4MUMtXHVEODIwXHVEODQwLVx1RDg2OFx1RDg2QS1cdUQ4NkNcdUQ4NkYtXHVEODcyXHVEODc0LVx1RDg3OV1bXHVEQzAwLVx1REZGRl18XHVEODBEW1x1REMwMC1cdURDMkVdfFx1RDgxMVtcdURDMDAtXHVERTQ2XXxcdUQ4MUFbXHVEQzAwLVx1REUzOFx1REU0MC1cdURFNUVcdURFRDAtXHVERUVEXHVERjAwLVx1REYyRlx1REY0MC1cdURGNDNcdURGNjMtXHVERjc3XHVERjdELVx1REY4Rl18XHVEODFCW1x1REYwMC1cdURGNDRcdURGNTBcdURGOTMtXHVERjlGXHVERkUwXHVERkUxXXxcdUQ4MjFbXHVEQzAwLVx1REZFQ118XHVEODIyW1x1REMwMC1cdURFRjJdfFx1RDgyQ1tcdURDMDAtXHVERDFFXHVERDcwLVx1REVGQl18XHVEODJGW1x1REMwMC1cdURDNkFcdURDNzAtXHVEQzdDXHVEQzgwLVx1REM4OFx1REM5MC1cdURDOTldfFx1RDgzNVtcdURDMDAtXHVEQzU0XHVEQzU2LVx1REM5Q1x1REM5RVx1REM5Rlx1RENBMlx1RENBNVx1RENBNlx1RENBOS1cdURDQUNcdURDQUUtXHVEQ0I5XHVEQ0JCXHVEQ0JELVx1RENDM1x1RENDNS1cdUREMDVcdUREMDctXHVERDBBXHVERDBELVx1REQxNFx1REQxNi1cdUREMUNcdUREMUUtXHVERDM5XHVERDNCLVx1REQzRVx1REQ0MC1cdURENDRcdURENDZcdURENEEtXHVERDUwXHVERDUyLVx1REVBNVx1REVBOC1cdURFQzBcdURFQzItXHVERURBXHVERURDLVx1REVGQVx1REVGQy1cdURGMTRcdURGMTYtXHVERjM0XHVERjM2LVx1REY0RVx1REY1MC1cdURGNkVcdURGNzAtXHVERjg4XHVERjhBLVx1REZBOFx1REZBQS1cdURGQzJcdURGQzQtXHVERkNCXXxcdUQ4M0FbXHVEQzAwLVx1RENDNFx1REQwMC1cdURENDNdfFx1RDgzQltcdURFMDAtXHVERTAzXHVERTA1LVx1REUxRlx1REUyMVx1REUyMlx1REUyNFx1REUyN1x1REUyOS1cdURFMzJcdURFMzQtXHVERTM3XHVERTM5XHVERTNCXHVERTQyXHVERTQ3XHVERTQ5XHVERTRCXHVERTRELVx1REU0Rlx1REU1MVx1REU1Mlx1REU1NFx1REU1N1x1REU1OVx1REU1Qlx1REU1RFx1REU1Rlx1REU2MVx1REU2Mlx1REU2NFx1REU2Ny1cdURFNkFcdURFNkMtXHVERTcyXHVERTc0LVx1REU3N1x1REU3OS1cdURFN0NcdURFN0VcdURFODAtXHVERTg5XHVERThCLVx1REU5Qlx1REVBMS1cdURFQTNcdURFQTUtXHVERUE5XHVERUFCLVx1REVCQl18XHVEODY5W1x1REMwMC1cdURFRDZcdURGMDAtXHVERkZGXXxcdUQ4NkRbXHVEQzAwLVx1REYzNFx1REY0MC1cdURGRkZdfFx1RDg2RVtcdURDMDAtXHVEQzFEXHVEQzIwLVx1REZGRl18XHVEODczW1x1REMwMC1cdURFQTFcdURFQjAtXHVERkZGXXxcdUQ4N0FbXHVEQzAwLVx1REZFMF18XHVEODdFW1x1REMwMC1cdURFMURdKVxTKi9nO2xldCBiaD0oKCk9PntjbGFzcyB0e3RyYW5zZm9ybShlKXtpZihudWxsPT1lKXJldHVybiBudWxsO2lmKCJzdHJpbmciIT10eXBlb2YgZSl0aHJvdyBkaCh0LGUpO3JldHVybiBlLnJlcGxhY2UodmgsdD0+dFswXS50b1VwcGVyQ2FzZSgpK3Quc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwaXBlPVl0KHtuYW1lOiJ0aXRsZWNhc2UiLHR5cGU6dCxwdXJlOiEwfSksdH0pKCksQ2g9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmxvY2FsZT10fXRyYW5zZm9ybShlLG49Im1lZGl1bURhdGUiLHIscyl7aWYobnVsbD09ZXx8IiI9PT1lfHxlIT1lKXJldHVybiBudWxsO3RyeXtyZXR1cm4gUnUoZSxuLHN8fHRoaXMubG9jYWxlLHIpfWNhdGNoKGkpe3Rocm93IGRoKHQsaS5tZXNzYWdlKX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKGlsLDE2KSl9LHQuXHUwMjc1cGlwZT1ZdCh7bmFtZToiZGF0ZSIsdHlwZTp0LHB1cmU6ITB9KSx0fSkoKSx3aD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuX2xvY2FsZT10fXRyYW5zZm9ybShlLG4scil7aWYoIURoKGUpKXJldHVybiBudWxsO3I9cnx8dGhpcy5fbG9jYWxlO3RyeXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBRdSh0LEt1KEV1KGUsZnUuRGVjaW1hbCksRHUoZSxidS5NaW51c1NpZ24pKSxlLGJ1Lkdyb3VwLGJ1LkRlY2ltYWwsbil9KEVoKGUpLHIsbil9Y2F0Y2gocyl7dGhyb3cgZGgodCxzLm1lc3NhZ2UpfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodm8oaWwsMTYpKX0sdC5cdTAyNzVwaXBlPVl0KHtuYW1lOiJudW1iZXIiLHR5cGU6dCxwdXJlOiEwfSksdH0pKCksX2g9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGU9IlVTRCIpe3RoaXMuX2xvY2FsZT10LHRoaXMuX2RlZmF1bHRDdXJyZW5jeUNvZGU9ZX10cmFuc2Zvcm0oZSxuPXRoaXMuX2RlZmF1bHRDdXJyZW5jeUNvZGUscj0ic3ltYm9sIixzLGkpe2lmKCFEaChlKSlyZXR1cm4gbnVsbDtpPWl8fHRoaXMuX2xvY2FsZSwiYm9vbGVhbiI9PXR5cGVvZiByJiYocj1yPyJzeW1ib2wiOiJjb2RlIik7bGV0IG89bnx8dGhpcy5fZGVmYXVsdEN1cnJlbmN5Q29kZTsiY29kZSIhPT1yJiYobz0ic3ltYm9sIj09PXJ8fCJzeW1ib2wtbmFycm93Ij09PXI/ZnVuY3Rpb24odCxlLG49ImVuIil7Y29uc3Qgcj1mdW5jdGlvbih0KXtyZXR1cm4gbGEodClbaGEuQ3VycmVuY2llc119KG4pW3RdfHxwdVt0XXx8W10scz1yWzFdO3JldHVybiJuYXJyb3ciPT09ZSYmInN0cmluZyI9PXR5cGVvZiBzP3M6clswXXx8dH0obywic3ltYm9sIj09PXI/IndpZGUiOiJuYXJyb3ciLGkpOnIpO3RyeXtyZXR1cm4gZnVuY3Rpb24odCxlLG4scixzKXtjb25zdCBpPUt1KEV1KGUsZnUuQ3VycmVuY3kpLER1KGUsYnUuTWludXNTaWduKSk7cmV0dXJuIGkubWluRnJhYz1mdW5jdGlvbih0KXtsZXQgZTtjb25zdCBuPXB1W3RdO3JldHVybiBuJiYoZT1uWzJdKSwibnVtYmVyIj09dHlwZW9mIGU/ZToyfShyKSxpLm1heEZyYWM9aS5taW5GcmFjLFF1KHQsaSxlLGJ1LkN1cnJlbmN5R3JvdXAsYnUuQ3VycmVuY3lEZWNpbWFsLHMpLnJlcGxhY2UoIlx4YTQiLG4pLnJlcGxhY2UoIlx4YTQiLCIiKS50cmltKCl9KEVoKGUpLGksbyxuLHMpfWNhdGNoKGEpe3Rocm93IGRoKHQsYS5tZXNzYWdlKX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKGlsLDE2KSx2byhvbCwxNikpfSx0Llx1MDI3NXBpcGU9WXQoe25hbWU6ImN1cnJlbmN5Iix0eXBlOnQscHVyZTohMH0pLHR9KSgpO2Z1bmN0aW9uIERoKHQpe3JldHVybiEobnVsbD09dHx8IiI9PT10fHx0IT10KX1mdW5jdGlvbiBFaCh0KXtpZigic3RyaW5nIj09dHlwZW9mIHQmJiFpc05hTihOdW1iZXIodCktcGFyc2VGbG9hdCh0KSkpcmV0dXJuIE51bWJlcih0KTtpZigibnVtYmVyIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKGAke3R9IGlzIG5vdCBhIG51bWJlcmApO3JldHVybiB0fWxldCBTaD0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W3twcm92aWRlOnRoLHVzZUNsYXNzOmVofV19KSx0fSkoKSx4aD0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6KCk9Pm5ldyBBaChocihZbCksd2luZG93KX0pLHR9KSgpO2NsYXNzIEFoe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5kb2N1bWVudD10LHRoaXMud2luZG93PWUsdGhpcy5vZmZzZXQ9KCk9PlswLDBdfXNldE9mZnNldCh0KXt0aGlzLm9mZnNldD1BcnJheS5pc0FycmF5KHQpPygpPT50OnR9Z2V0U2Nyb2xsUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5zdXBwb3J0c1Njcm9sbGluZygpP1t0aGlzLndpbmRvdy5wYWdlWE9mZnNldCx0aGlzLndpbmRvdy5wYWdlWU9mZnNldF06WzAsMF19c2Nyb2xsVG9Qb3NpdGlvbih0KXt0aGlzLnN1cHBvcnRzU2Nyb2xsaW5nKCkmJnRoaXMud2luZG93LnNjcm9sbFRvKHRbMF0sdFsxXSl9c2Nyb2xsVG9BbmNob3IodCl7aWYoIXRoaXMuc3VwcG9ydHNTY3JvbGxpbmcoKSlyZXR1cm47Y29uc3QgZT1mdW5jdGlvbih0LGUpe2NvbnN0IG49dC5nZXRFbGVtZW50QnlJZChlKXx8dC5nZXRFbGVtZW50c0J5TmFtZShlKVswXTtpZihuKXJldHVybiBuO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0LmNyZWF0ZVRyZWVXYWxrZXImJnQuYm9keSYmKHQuYm9keS5jcmVhdGVTaGFkb3dSb290fHx0LmJvZHkuYXR0YWNoU2hhZG93KSl7Y29uc3Qgbj10LmNyZWF0ZVRyZWVXYWxrZXIodC5ib2R5LE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5UKTtsZXQgcj1uLmN1cnJlbnROb2RlO2Zvcig7cjspe2NvbnN0IHQ9ci5zaGFkb3dSb290O2lmKHQpe2NvbnN0IG49dC5nZXRFbGVtZW50QnlJZChlKXx8dC5xdWVyeVNlbGVjdG9yKGBbbmFtZT0iJHtlfSJdYCk7aWYobilyZXR1cm4gbn1yPW4ubmV4dE5vZGUoKX19cmV0dXJuIG51bGx9KHRoaXMuZG9jdW1lbnQsdCk7ZSYmKHRoaXMuc2Nyb2xsVG9FbGVtZW50KGUpLHRoaXMuYXR0ZW1wdEZvY3VzKGUpKX1zZXRIaXN0b3J5U2Nyb2xsUmVzdG9yYXRpb24odCl7aWYodGhpcy5zdXBwb3J0U2Nyb2xsUmVzdG9yYXRpb24oKSl7Y29uc3QgZT10aGlzLndpbmRvdy5oaXN0b3J5O2UmJmUuc2Nyb2xsUmVzdG9yYXRpb24mJihlLnNjcm9sbFJlc3RvcmF0aW9uPXQpfX1zY3JvbGxUb0VsZW1lbnQodCl7Y29uc3QgZT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49ZS5sZWZ0K3RoaXMud2luZG93LnBhZ2VYT2Zmc2V0LHI9ZS50b3ArdGhpcy53aW5kb3cucGFnZVlPZmZzZXQscz10aGlzLm9mZnNldCgpO3RoaXMud2luZG93LnNjcm9sbFRvKG4tc1swXSxyLXNbMV0pfWF0dGVtcHRGb2N1cyh0KXtyZXR1cm4gdC5mb2N1cygpLHRoaXMuZG9jdW1lbnQuYWN0aXZlRWxlbWVudD09PXR9c3VwcG9ydFNjcm9sbFJlc3RvcmF0aW9uKCl7dHJ5e2lmKCF0aGlzLnN1cHBvcnRzU2Nyb2xsaW5nKCkpcmV0dXJuITE7Y29uc3QgdD1UaCh0aGlzLndpbmRvdy5oaXN0b3J5KXx8VGgoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMud2luZG93Lmhpc3RvcnkpKTtyZXR1cm4hKCF0fHwhdC53cml0YWJsZSYmIXQuc2V0KX1jYXRjaCh0KXtyZXR1cm4hMX19c3VwcG9ydHNTY3JvbGxpbmcoKXt0cnl7cmV0dXJuISF0aGlzLndpbmRvdyYmISF0aGlzLndpbmRvdy5zY3JvbGxUbyYmInBhZ2VYT2Zmc2V0ImluIHRoaXMud2luZG93fWNhdGNoKHQpe3JldHVybiExfX19ZnVuY3Rpb24gVGgodCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwic2Nyb2xsUmVzdG9yYXRpb24iKX1jbGFzcyBraHt9Y2xhc3MgRmggZXh0ZW5kcyBjbGFzcyBleHRlbmRzIGNsYXNze317Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuc3VwcG9ydHNET01FdmVudHM9ITB9fXtzdGF0aWMgbWFrZUN1cnJlbnQoKXt2YXIgdDt0PW5ldyBGaCxxbHx8KHFsPXQpfW9uQW5kQ2FuY2VsKHQsZSxuKXtyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKGUsbiwhMSksKCk9Pnt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuLCExKX19ZGlzcGF0Y2hFdmVudCh0LGUpe3QuZGlzcGF0Y2hFdmVudChlKX1yZW1vdmUodCl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9Y3JlYXRlRWxlbWVudCh0LGUpe3JldHVybihlPWV8fHRoaXMuZ2V0RGVmYXVsdERvY3VtZW50KCkpLmNyZWF0ZUVsZW1lbnQodCl9Y3JlYXRlSHRtbERvY3VtZW50KCl7cmV0dXJuIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiZmFrZVRpdGxlIil9Z2V0RGVmYXVsdERvY3VtZW50KCl7cmV0dXJuIGRvY3VtZW50fWlzRWxlbWVudE5vZGUodCl7cmV0dXJuIHQubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERX1pc1NoYWRvd1Jvb3QodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50fWdldEdsb2JhbEV2ZW50VGFyZ2V0KHQsZSl7cmV0dXJuIndpbmRvdyI9PT1lP3dpbmRvdzoiZG9jdW1lbnQiPT09ZT90OiJib2R5Ij09PWU/dC5ib2R5Om51bGx9Z2V0QmFzZUhyZWYodCl7Y29uc3QgZT0oT2g9T2h8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJhc2UiKSxPaD9PaC5nZXRBdHRyaWJ1dGUoImhyZWYiKTpudWxsKTtyZXR1cm4gbnVsbD09ZT9udWxsOmZ1bmN0aW9uKHQpe0loPUlofHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIiksSWguc2V0QXR0cmlidXRlKCJocmVmIix0KTtjb25zdCBlPUloLnBhdGhuYW1lO3JldHVybiIvIj09PWUuY2hhckF0KDApP2U6YC8ke2V9YH0oZSl9cmVzZXRCYXNlRWxlbWVudCgpe09oPW51bGx9Z2V0VXNlckFnZW50KCl7cmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50fWdldENvb2tpZSh0KXtyZXR1cm4gbmgoZG9jdW1lbnQuY29va2llLHQpfX1sZXQgSWgsT2g9bnVsbDtjb25zdCBQaD1uZXcgcW4oIlRSQU5TSVRJT05fSUQiKSxSaD1be3Byb3ZpZGU6WmMsdXNlRmFjdG9yeTpmdW5jdGlvbih0LGUsbil7cmV0dXJuKCk9PntuLmdldChRYykuZG9uZVByb21pc2UudGhlbigoKT0+e2NvbnN0IG49WGwoKTtBcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoZS5xdWVyeVNlbGVjdG9yQWxsKCJzdHlsZVtuZy10cmFuc2l0aW9uXSIpKS5maWx0ZXIoZT0+ZS5nZXRBdHRyaWJ1dGUoIm5nLXRyYW5zaXRpb24iKT09PXQpLmZvckVhY2godD0+bi5yZW1vdmUodCkpfSl9fSxkZXBzOltQaCxZbCxLaV0sbXVsdGk6ITB9XTtjbGFzcyBMaHtzdGF0aWMgaW5pdCgpeyFmdW5jdGlvbih0KXtUbD10fShuZXcgTGgpfWFkZFRvV2luZG93KHQpe0l0LmdldEFuZ3VsYXJUZXN0YWJpbGl0eT0oZSxuPSEwKT0+e2NvbnN0IHI9dC5maW5kVGVzdGFiaWxpdHlJblRyZWUoZSxuKTtpZihudWxsPT1yKXRocm93IG5ldyBFcnJvcigiQ291bGQgbm90IGZpbmQgdGVzdGFiaWxpdHkgZm9yIGVsZW1lbnQuIik7cmV0dXJuIHJ9LEl0LmdldEFsbEFuZ3VsYXJUZXN0YWJpbGl0aWVzPSgpPT50LmdldEFsbFRlc3RhYmlsaXRpZXMoKSxJdC5nZXRBbGxBbmd1bGFyUm9vdEVsZW1lbnRzPSgpPT50LmdldEFsbFJvb3RFbGVtZW50cygpLEl0LmZyYW1ld29ya1N0YWJpbGl6ZXJzfHwoSXQuZnJhbWV3b3JrU3RhYmlsaXplcnM9W10pLEl0LmZyYW1ld29ya1N0YWJpbGl6ZXJzLnB1c2godD0+e2NvbnN0IGU9SXQuZ2V0QWxsQW5ndWxhclRlc3RhYmlsaXRpZXMoKTtsZXQgbj1lLmxlbmd0aCxyPSExO2NvbnN0IHM9ZnVuY3Rpb24oZSl7cj1yfHxlLG4tLSwwPT1uJiZ0KHIpfTtlLmZvckVhY2goZnVuY3Rpb24odCl7dC53aGVuU3RhYmxlKHMpfSl9KX1maW5kVGVzdGFiaWxpdHlJblRyZWUodCxlLG4pe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7Y29uc3Qgcj10LmdldFRlc3RhYmlsaXR5KGUpO3JldHVybiBudWxsIT1yP3I6bj9YbCgpLmlzU2hhZG93Um9vdChlKT90aGlzLmZpbmRUZXN0YWJpbGl0eUluVHJlZSh0LGUuaG9zdCwhMCk6dGhpcy5maW5kVGVzdGFiaWxpdHlJblRyZWUodCxlLnBhcmVudEVsZW1lbnQsITApOm51bGx9fWxldCBCaD0oKCk9PntjbGFzcyB0e2J1aWxkKCl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y29uc3Qgamg9bmV3IHFuKCJFdmVudE1hbmFnZXJQbHVnaW5zIik7bGV0IE1oPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLl96b25lPWUsdGhpcy5fZXZlbnROYW1lVG9QbHVnaW49bmV3IE1hcCx0LmZvckVhY2godD0+dC5tYW5hZ2VyPXRoaXMpLHRoaXMuX3BsdWdpbnM9dC5zbGljZSgpLnJldmVyc2UoKX1hZGRFdmVudExpc3RlbmVyKHQsZSxuKXtyZXR1cm4gdGhpcy5fZmluZFBsdWdpbkZvcihlKS5hZGRFdmVudExpc3RlbmVyKHQsZSxuKX1hZGRHbG9iYWxFdmVudExpc3RlbmVyKHQsZSxuKXtyZXR1cm4gdGhpcy5fZmluZFBsdWdpbkZvcihlKS5hZGRHbG9iYWxFdmVudExpc3RlbmVyKHQsZSxuKX1nZXRab25lKCl7cmV0dXJuIHRoaXMuX3pvbmV9X2ZpbmRQbHVnaW5Gb3IodCl7Y29uc3QgZT10aGlzLl9ldmVudE5hbWVUb1BsdWdpbi5nZXQodCk7aWYoZSlyZXR1cm4gZTtjb25zdCBuPXRoaXMuX3BsdWdpbnM7Zm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKyspe2NvbnN0IGU9bltyXTtpZihlLnN1cHBvcnRzKHQpKXJldHVybiB0aGlzLl9ldmVudE5hbWVUb1BsdWdpbi5zZXQodCxlKSxlfXRocm93IG5ldyBFcnJvcihgTm8gZXZlbnQgbWFuYWdlciBwbHVnaW4gZm91bmQgZm9yIGV2ZW50ICR7dH1gKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaHIoamgpLGhyKHlsKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y2xhc3MgTmh7Y29uc3RydWN0b3IodCl7dGhpcy5fZG9jPXR9YWRkR2xvYmFsRXZlbnRMaXN0ZW5lcih0LGUsbil7Y29uc3Qgcj1YbCgpLmdldEdsb2JhbEV2ZW50VGFyZ2V0KHRoaXMuX2RvYyx0KTtpZighcil0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGV2ZW50IHRhcmdldCAke3J9IGZvciBldmVudCAke2V9YCk7cmV0dXJuIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihyLGUsbil9fWxldCBIaD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5fc3R5bGVzU2V0PW5ldyBTZXR9YWRkU3R5bGVzKHQpe2NvbnN0IGU9bmV3IFNldDt0LmZvckVhY2godD0+e3RoaXMuX3N0eWxlc1NldC5oYXModCl8fCh0aGlzLl9zdHlsZXNTZXQuYWRkKHQpLGUuYWRkKHQpKX0pLHRoaXMub25TdHlsZXNBZGRlZChlKX1vblN0eWxlc0FkZGVkKHQpe31nZXRBbGxTdHlsZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9zdHlsZXNTZXQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxWaD0oKCk9PntjbGFzcyB0IGV4dGVuZHMgSGh7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLl9kb2M9dCx0aGlzLl9ob3N0Tm9kZXM9bmV3IE1hcCx0aGlzLl9ob3N0Tm9kZXMuc2V0KHQuaGVhZCxbXSl9X2FkZFN0eWxlc1RvSG9zdCh0LGUsbil7dC5mb3JFYWNoKHQ9Pntjb25zdCByPXRoaXMuX2RvYy5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3IudGV4dENvbnRlbnQ9dCxuLnB1c2goZS5hcHBlbmRDaGlsZChyKSl9KX1hZGRIb3N0KHQpe2NvbnN0IGU9W107dGhpcy5fYWRkU3R5bGVzVG9Ib3N0KHRoaXMuX3N0eWxlc1NldCx0LGUpLHRoaXMuX2hvc3ROb2Rlcy5zZXQodCxlKX1yZW1vdmVIb3N0KHQpe2NvbnN0IGU9dGhpcy5faG9zdE5vZGVzLmdldCh0KTtlJiZlLmZvckVhY2goemgpLHRoaXMuX2hvc3ROb2Rlcy5kZWxldGUodCl9b25TdHlsZXNBZGRlZCh0KXt0aGlzLl9ob3N0Tm9kZXMuZm9yRWFjaCgoZSxuKT0+e3RoaXMuX2FkZFN0eWxlc1RvSG9zdCh0LG4sZSl9KX1uZ09uRGVzdHJveSgpe3RoaXMuX2hvc3ROb2Rlcy5mb3JFYWNoKHQ9PnQuZm9yRWFjaCh6aCkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShocihZbCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2Z1bmN0aW9uIHpoKHQpe1hsKCkucmVtb3ZlKHQpfWNvbnN0ICRoPXtzdmc6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIix4aHRtbDoiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIseGxpbms6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLHhtbDoiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlIix4bWxuczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy8ifSxVaD0vJUNPTVAlL2c7ZnVuY3Rpb24gV2godCxlLG4pe2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtsZXQgcz1lW3JdO0FycmF5LmlzQXJyYXkocyk/V2godCxzLG4pOihzPXMucmVwbGFjZShVaCx0KSxuLnB1c2gocykpfXJldHVybiBufWZ1bmN0aW9uIEdoKHQpe3JldHVybiBlPT57aWYoIl9fbmdVbndyYXBfXyI9PT1lKXJldHVybiB0OyExPT09dChlKSYmKGUucHJldmVudERlZmF1bHQoKSxlLnJldHVyblZhbHVlPSExKX19bGV0IHFoPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMuZXZlbnRNYW5hZ2VyPXQsdGhpcy5zaGFyZWRTdHlsZXNIb3N0PWUsdGhpcy5hcHBJZD1uLHRoaXMucmVuZGVyZXJCeUNvbXBJZD1uZXcgTWFwLHRoaXMuZGVmYXVsdFJlbmRlcmVyPW5ldyBYaCh0KX1jcmVhdGVSZW5kZXJlcih0LGUpe2lmKCF0fHwhZSlyZXR1cm4gdGhpcy5kZWZhdWx0UmVuZGVyZXI7c3dpdGNoKGUuZW5jYXBzdWxhdGlvbil7Y2FzZSB4dC5FbXVsYXRlZDp7bGV0IG49dGhpcy5yZW5kZXJlckJ5Q29tcElkLmdldChlLmlkKTtyZXR1cm4gbnx8KG49bmV3IFloKHRoaXMuZXZlbnRNYW5hZ2VyLHRoaXMuc2hhcmVkU3R5bGVzSG9zdCxlLHRoaXMuYXBwSWQpLHRoaXMucmVuZGVyZXJCeUNvbXBJZC5zZXQoZS5pZCxuKSksbi5hcHBseVRvSG9zdCh0KSxufWNhc2UgMTpjYXNlIHh0LlNoYWRvd0RvbTpyZXR1cm4gbmV3IFpoKHRoaXMuZXZlbnRNYW5hZ2VyLHRoaXMuc2hhcmVkU3R5bGVzSG9zdCx0LGUpO2RlZmF1bHQ6aWYoIXRoaXMucmVuZGVyZXJCeUNvbXBJZC5oYXMoZS5pZCkpe2NvbnN0IHQ9V2goZS5pZCxlLnN0eWxlcyxbXSk7dGhpcy5zaGFyZWRTdHlsZXNIb3N0LmFkZFN0eWxlcyh0KSx0aGlzLnJlbmRlcmVyQnlDb21wSWQuc2V0KGUuaWQsdGhpcy5kZWZhdWx0UmVuZGVyZXIpfXJldHVybiB0aGlzLmRlZmF1bHRSZW5kZXJlcn19YmVnaW4oKXt9ZW5kKCl7fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShocihNaCksaHIoVmgpLGhyKEtjKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y2xhc3MgWGh7Y29uc3RydWN0b3IodCl7dGhpcy5ldmVudE1hbmFnZXI9dCx0aGlzLmRhdGE9T2JqZWN0LmNyZWF0ZShudWxsKX1kZXN0cm95KCl7fWNyZWF0ZUVsZW1lbnQodCxlKXtyZXR1cm4gZT9kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJGhbZV18fGUsdCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KX1jcmVhdGVDb21tZW50KHQpe3JldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KHQpfWNyZWF0ZVRleHQodCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpfWFwcGVuZENoaWxkKHQsZSl7dC5hcHBlbmRDaGlsZChlKX1pbnNlcnRCZWZvcmUodCxlLG4pe3QmJnQuaW5zZXJ0QmVmb3JlKGUsbil9cmVtb3ZlQ2hpbGQodCxlKXt0JiZ0LnJlbW92ZUNoaWxkKGUpfXNlbGVjdFJvb3RFbGVtZW50KHQsZSl7bGV0IG49InN0cmluZyI9PXR5cGVvZiB0P2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCk6dDtpZighbil0aHJvdyBuZXcgRXJyb3IoYFRoZSBzZWxlY3RvciAiJHt0fSIgZGlkIG5vdCBtYXRjaCBhbnkgZWxlbWVudHNgKTtyZXR1cm4gZXx8KG4udGV4dENvbnRlbnQ9IiIpLG59cGFyZW50Tm9kZSh0KXtyZXR1cm4gdC5wYXJlbnROb2RlfW5leHRTaWJsaW5nKHQpe3JldHVybiB0Lm5leHRTaWJsaW5nfXNldEF0dHJpYnV0ZSh0LGUsbixyKXtpZihyKXtlPXIrIjoiK2U7Y29uc3Qgcz0kaFtyXTtzP3Quc2V0QXR0cmlidXRlTlMocyxlLG4pOnQuc2V0QXR0cmlidXRlKGUsbil9ZWxzZSB0LnNldEF0dHJpYnV0ZShlLG4pfXJlbW92ZUF0dHJpYnV0ZSh0LGUsbil7aWYobil7Y29uc3Qgcj0kaFtuXTtyP3QucmVtb3ZlQXR0cmlidXRlTlMocixlKTp0LnJlbW92ZUF0dHJpYnV0ZShgJHtufToke2V9YCl9ZWxzZSB0LnJlbW92ZUF0dHJpYnV0ZShlKX1hZGRDbGFzcyh0LGUpe3QuY2xhc3NMaXN0LmFkZChlKX1yZW1vdmVDbGFzcyh0LGUpe3QuY2xhc3NMaXN0LnJlbW92ZShlKX1zZXRTdHlsZSh0LGUsbixyKXtyJihucy5EYXNoQ2FzZXxucy5JbXBvcnRhbnQpP3Quc3R5bGUuc2V0UHJvcGVydHkoZSxuLHImbnMuSW1wb3J0YW50PyJpbXBvcnRhbnQiOiIiKTp0LnN0eWxlW2VdPW59cmVtb3ZlU3R5bGUodCxlLG4pe24mbnMuRGFzaENhc2U/dC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShlKTp0LnN0eWxlW2VdPSIifXNldFByb3BlcnR5KHQsZSxuKXt0W2VdPW59c2V0VmFsdWUodCxlKXt0Lm5vZGVWYWx1ZT1lfWxpc3Rlbih0LGUsbil7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3RoaXMuZXZlbnRNYW5hZ2VyLmFkZEdsb2JhbEV2ZW50TGlzdGVuZXIodCxlLEdoKG4pKTp0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHQsZSxHaChuKSl9fWNsYXNzIFloIGV4dGVuZHMgWGh7Y29uc3RydWN0b3IodCxlLG4scil7c3VwZXIodCksdGhpcy5jb21wb25lbnQ9bjtjb25zdCBzPVdoKHIrIi0iK24uaWQsbi5zdHlsZXMsW10pO2UuYWRkU3R5bGVzKHMpLHRoaXMuY29udGVudEF0dHI9Il9uZ2NvbnRlbnQtJUNPTVAlIi5yZXBsYWNlKFVoLHIrIi0iK24uaWQpLHRoaXMuaG9zdEF0dHI9Il9uZ2hvc3QtJUNPTVAlIi5yZXBsYWNlKFVoLHIrIi0iK24uaWQpfWFwcGx5VG9Ib3N0KHQpe3N1cGVyLnNldEF0dHJpYnV0ZSh0LHRoaXMuaG9zdEF0dHIsIiIpfWNyZWF0ZUVsZW1lbnQodCxlKXtjb25zdCBuPXN1cGVyLmNyZWF0ZUVsZW1lbnQodCxlKTtyZXR1cm4gc3VwZXIuc2V0QXR0cmlidXRlKG4sdGhpcy5jb250ZW50QXR0ciwiIiksbn19Y2xhc3MgWmggZXh0ZW5kcyBYaHtjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcih0KSx0aGlzLnNoYXJlZFN0eWxlc0hvc3Q9ZSx0aGlzLmhvc3RFbD1uLHRoaXMuc2hhZG93Um9vdD1uLmF0dGFjaFNoYWRvdyh7bW9kZToib3BlbiJ9KSx0aGlzLnNoYXJlZFN0eWxlc0hvc3QuYWRkSG9zdCh0aGlzLnNoYWRvd1Jvb3QpO2NvbnN0IHM9V2goci5pZCxyLnN0eWxlcyxbXSk7Zm9yKGxldCBpPTA7aTxzLmxlbmd0aDtpKyspe2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTt0LnRleHRDb250ZW50PXNbaV0sdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHQpfX1ub2RlT3JTaGFkb3dSb290KHQpe3JldHVybiB0PT09dGhpcy5ob3N0RWw/dGhpcy5zaGFkb3dSb290OnR9ZGVzdHJveSgpe3RoaXMuc2hhcmVkU3R5bGVzSG9zdC5yZW1vdmVIb3N0KHRoaXMuc2hhZG93Um9vdCl9YXBwZW5kQ2hpbGQodCxlKXtyZXR1cm4gc3VwZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2RlT3JTaGFkb3dSb290KHQpLGUpfWluc2VydEJlZm9yZSh0LGUsbil7cmV0dXJuIHN1cGVyLmluc2VydEJlZm9yZSh0aGlzLm5vZGVPclNoYWRvd1Jvb3QodCksZSxuKX1yZW1vdmVDaGlsZCh0LGUpe3JldHVybiBzdXBlci5yZW1vdmVDaGlsZCh0aGlzLm5vZGVPclNoYWRvd1Jvb3QodCksZSl9cGFyZW50Tm9kZSh0KXtyZXR1cm4gdGhpcy5ub2RlT3JTaGFkb3dSb290KHN1cGVyLnBhcmVudE5vZGUodGhpcy5ub2RlT3JTaGFkb3dSb290KHQpKSl9fWxldCBRaD0oKCk9PntjbGFzcyB0IGV4dGVuZHMgTmh7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9c3VwcG9ydHModCl7cmV0dXJuITB9YWRkRXZlbnRMaXN0ZW5lcih0LGUsbil7cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcihlLG4sITEpLCgpPT50aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxlLG4pfXJlbW92ZUV2ZW50TGlzdGVuZXIodCxlLG4pe3JldHVybiB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaHIoWWwpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCBLaD1bImFsdCIsImNvbnRyb2wiLCJtZXRhIiwic2hpZnQiXSxKaD17IlxiIjoiQmFja3NwYWNlIiwiXHQiOiJUYWIiLCJceDdmIjoiRGVsZXRlIiwiXHgxYiI6IkVzY2FwZSIsRGVsOiJEZWxldGUiLEVzYzoiRXNjYXBlIixMZWZ0OiJBcnJvd0xlZnQiLFJpZ2h0OiJBcnJvd1JpZ2h0IixVcDoiQXJyb3dVcCIsRG93bjoiQXJyb3dEb3duIixNZW51OiJDb250ZXh0TWVudSIsU2Nyb2xsOiJTY3JvbGxMb2NrIixXaW46Ik9TIn0sdGQ9e0E6IjEiLEI6IjIiLEM6IjMiLEQ6IjQiLEU6IjUiLEY6IjYiLEc6IjciLEg6IjgiLEk6IjkiLEo6IioiLEs6IisiLE06Ii0iLE46Ii4iLE86Ii8iLCJgIjoiMCIsIlx4OTAiOiJOdW1Mb2NrIn0sZWQ9e2FsdDp0PT50LmFsdEtleSxjb250cm9sOnQ9PnQuY3RybEtleSxtZXRhOnQ9PnQubWV0YUtleSxzaGlmdDp0PT50LnNoaWZ0S2V5fTtsZXQgbmQ9KCgpPT57Y2xhc3MgdCBleHRlbmRzIE5oe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfXN1cHBvcnRzKGUpe3JldHVybiBudWxsIT10LnBhcnNlRXZlbnROYW1lKGUpfWFkZEV2ZW50TGlzdGVuZXIoZSxuLHIpe2NvbnN0IHM9dC5wYXJzZUV2ZW50TmFtZShuKSxpPXQuZXZlbnRDYWxsYmFjayhzLmZ1bGxLZXkscix0aGlzLm1hbmFnZXIuZ2V0Wm9uZSgpKTtyZXR1cm4gdGhpcy5tYW5hZ2VyLmdldFpvbmUoKS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+WGwoKS5vbkFuZENhbmNlbChlLHMuZG9tRXZlbnROYW1lLGkpKX1zdGF0aWMgcGFyc2VFdmVudE5hbWUoZSl7Y29uc3Qgbj1lLnRvTG93ZXJDYXNlKCkuc3BsaXQoIi4iKSxyPW4uc2hpZnQoKTtpZigwPT09bi5sZW5ndGh8fCJrZXlkb3duIiE9PXImJiJrZXl1cCIhPT1yKXJldHVybiBudWxsO2NvbnN0IHM9dC5fbm9ybWFsaXplS2V5KG4ucG9wKCkpO2xldCBpPSIiO2lmKEtoLmZvckVhY2godD0+e2NvbnN0IGU9bi5pbmRleE9mKHQpO2U+LTEmJihuLnNwbGljZShlLDEpLGkrPXQrIi4iKX0pLGkrPXMsMCE9bi5sZW5ndGh8fDA9PT1zLmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBvPXt9O3JldHVybiBvLmRvbUV2ZW50TmFtZT1yLG8uZnVsbEtleT1pLG99c3RhdGljIGdldEV2ZW50RnVsbEtleSh0KXtsZXQgZT0iIixuPWZ1bmN0aW9uKHQpe2xldCBlPXQua2V5O2lmKG51bGw9PWUpe2lmKGU9dC5rZXlJZGVudGlmaWVyLG51bGw9PWUpcmV0dXJuIlVuaWRlbnRpZmllZCI7ZS5zdGFydHNXaXRoKCJVKyIpJiYoZT1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGUuc3Vic3RyaW5nKDIpLDE2KSksMz09PXQubG9jYXRpb24mJnRkLmhhc093blByb3BlcnR5KGUpJiYoZT10ZFtlXSkpfXJldHVybiBKaFtlXXx8ZX0odCk7cmV0dXJuIG49bi50b0xvd2VyQ2FzZSgpLCIgIj09PW4/bj0ic3BhY2UiOiIuIj09PW4mJihuPSJkb3QiKSxLaC5mb3JFYWNoKHI9PntyIT1uJiYoMCxlZFtyXSkodCkmJihlKz1yKyIuIil9KSxlKz1uLGV9c3RhdGljIGV2ZW50Q2FsbGJhY2soZSxuLHIpe3JldHVybiBzPT57dC5nZXRFdmVudEZ1bGxLZXkocyk9PT1lJiZyLnJ1bkd1YXJkZWQoKCk9Pm4ocykpfX1zdGF0aWMgX25vcm1hbGl6ZUtleSh0KXtzd2l0Y2godCl7Y2FzZSJlc2MiOnJldHVybiJlc2NhcGUiO2RlZmF1bHQ6cmV0dXJuIHR9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShocihZbCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IHJkPVBsKFVsLCJicm93c2VyIixbe3Byb3ZpZGU6bmwsdXNlVmFsdWU6ImJyb3dzZXIifSx7cHJvdmlkZTplbCx1c2VWYWx1ZTpmdW5jdGlvbigpe0ZoLm1ha2VDdXJyZW50KCksTGguaW5pdCgpfSxtdWx0aTohMH0se3Byb3ZpZGU6WWwsdXNlRmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtmZT10fShkb2N1bWVudCksZG9jdW1lbnR9LGRlcHM6W119XSksc2Q9W1tdLHtwcm92aWRlOk5pLHVzZVZhbHVlOiJyb290In0se3Byb3ZpZGU6S3IsdXNlRmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgS3J9LGRlcHM6W119LHtwcm92aWRlOmpoLHVzZUNsYXNzOlFoLG11bHRpOiEwLGRlcHM6W1lsLHlsLG5sXX0se3Byb3ZpZGU6amgsdXNlQ2xhc3M6bmQsbXVsdGk6ITAsZGVwczpbWWxdfSxbXSx7cHJvdmlkZTpxaCx1c2VDbGFzczpxaCxkZXBzOltNaCxWaCxLY119LHtwcm92aWRlOklhLHVzZUV4aXN0aW5nOnFofSx7cHJvdmlkZTpIaCx1c2VFeGlzdGluZzpWaH0se3Byb3ZpZGU6VmgsdXNlQ2xhc3M6VmgsZGVwczpbWWxdfSx7cHJvdmlkZTpFbCx1c2VDbGFzczpFbCxkZXBzOlt5bF19LHtwcm92aWRlOk1oLHVzZUNsYXNzOk1oLGRlcHM6W2poLHlsXX0se3Byb3ZpZGU6a2gsdXNlQ2xhc3M6QmgsZGVwczpbXX0sW11dO2xldCBpZD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe2lmKHQpdGhyb3cgbmV3IEVycm9yKCJCcm93c2VyTW9kdWxlIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkLiBJZiB5b3UgbmVlZCBhY2Nlc3MgdG8gY29tbW9uIGRpcmVjdGl2ZXMgc3VjaCBhcyBOZ0lmIGFuZCBOZ0ZvciBmcm9tIGEgbGF6eSBsb2FkZWQgbW9kdWxlLCBpbXBvcnQgQ29tbW9uTW9kdWxlIGluc3RlYWQuIil9c3RhdGljIHdpdGhTZXJ2ZXJUcmFuc2l0aW9uKGUpe3JldHVybntuZ01vZHVsZTp0LHByb3ZpZGVyczpbe3Byb3ZpZGU6S2MsdXNlVmFsdWU6ZS5hcHBJZH0se3Byb3ZpZGU6UGgsdXNlRXhpc3Rpbmc6S2N9LFJoXX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhyKHQsMTIpKX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6c2QsaW1wb3J0czpbU2gsR2xdfSksdH0pKCk7InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdztjbGFzcyBvZCBleHRlbmRzIGh7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpfXNjaGVkdWxlKHQsZT0wKXtyZXR1cm4gdGhpc319Y2xhc3MgYWQgZXh0ZW5kcyBvZHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSksdGhpcy5zY2hlZHVsZXI9dCx0aGlzLndvcms9ZSx0aGlzLnBlbmRpbmc9ITF9c2NoZWR1bGUodCxlPTApe2lmKHRoaXMuY2xvc2VkKXJldHVybiB0aGlzO3RoaXMuc3RhdGU9dDtjb25zdCBuPXRoaXMuaWQscj10aGlzLnNjaGVkdWxlcjtyZXR1cm4gbnVsbCE9biYmKHRoaXMuaWQ9dGhpcy5yZWN5Y2xlQXN5bmNJZChyLG4sZSkpLHRoaXMucGVuZGluZz0hMCx0aGlzLmRlbGF5PWUsdGhpcy5pZD10aGlzLmlkfHx0aGlzLnJlcXVlc3RBc3luY0lkKHIsdGhpcy5pZCxlKSx0aGlzfXJlcXVlc3RBc3luY0lkKHQsZSxuPTApe3JldHVybiBzZXRJbnRlcnZhbCh0LmZsdXNoLmJpbmQodCx0aGlzKSxuKX1yZWN5Y2xlQXN5bmNJZCh0LGUsbj0wKXtpZihudWxsIT09biYmdGhpcy5kZWxheT09PW4mJiExPT09dGhpcy5wZW5kaW5nKXJldHVybiBlO2NsZWFySW50ZXJ2YWwoZSl9ZXhlY3V0ZSh0LGUpe2lmKHRoaXMuY2xvc2VkKXJldHVybiBuZXcgRXJyb3IoImV4ZWN1dGluZyBhIGNhbmNlbGxlZCBhY3Rpb24iKTt0aGlzLnBlbmRpbmc9ITE7Y29uc3Qgbj10aGlzLl9leGVjdXRlKHQsZSk7aWYobilyZXR1cm4gbjshMT09PXRoaXMucGVuZGluZyYmbnVsbCE9dGhpcy5pZCYmKHRoaXMuaWQ9dGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlcix0aGlzLmlkLG51bGwpKX1fZXhlY3V0ZSh0LGUpe2xldCBuLHI9ITE7dHJ5e3RoaXMud29yayh0KX1jYXRjaChzKXtyPSEwLG49ISFzJiZzfHxuZXcgRXJyb3Iocyl9aWYocilyZXR1cm4gdGhpcy51bnN1YnNjcmliZSgpLG59X3Vuc3Vic2NyaWJlKCl7Y29uc3QgdD10aGlzLmlkLGU9dGhpcy5zY2hlZHVsZXIsbj1lLmFjdGlvbnMscj1uLmluZGV4T2YodGhpcyk7dGhpcy53b3JrPW51bGwsdGhpcy5zdGF0ZT1udWxsLHRoaXMucGVuZGluZz0hMSx0aGlzLnNjaGVkdWxlcj1udWxsLC0xIT09ciYmbi5zcGxpY2UociwxKSxudWxsIT10JiYodGhpcy5pZD10aGlzLnJlY3ljbGVBc3luY0lkKGUsdCxudWxsKSksdGhpcy5kZWxheT1udWxsfX1jbGFzcyBjZCBleHRlbmRzIGFke2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxlKSx0aGlzLnNjaGVkdWxlcj10LHRoaXMud29yaz1lfXNjaGVkdWxlKHQsZT0wKXtyZXR1cm4gZT4wP3N1cGVyLnNjaGVkdWxlKHQsZSk6KHRoaXMuZGVsYXk9ZSx0aGlzLnN0YXRlPXQsdGhpcy5zY2hlZHVsZXIuZmx1c2godGhpcyksdGhpcyl9ZXhlY3V0ZSh0LGUpe3JldHVybiBlPjB8fHRoaXMuY2xvc2VkP3N1cGVyLmV4ZWN1dGUodCxlKTp0aGlzLl9leGVjdXRlKHQsZSl9cmVxdWVzdEFzeW5jSWQodCxlLG49MCl7cmV0dXJuIG51bGwhPT1uJiZuPjB8fG51bGw9PT1uJiZ0aGlzLmRlbGF5PjA/c3VwZXIucmVxdWVzdEFzeW5jSWQodCxlLG4pOnQuZmx1c2godGhpcyl9fWxldCBsZD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKGUsbj10Lm5vdyl7dGhpcy5TY2hlZHVsZXJBY3Rpb249ZSx0aGlzLm5vdz1ufXNjaGVkdWxlKHQsZT0wLG4pe3JldHVybiBuZXcgdGhpcy5TY2hlZHVsZXJBY3Rpb24odGhpcyx0KS5zY2hlZHVsZShuLGUpfX1yZXR1cm4gdC5ub3c9KCk9PkRhdGUubm93KCksdH0pKCk7Y2xhc3MgdWQgZXh0ZW5kcyBsZHtjb25zdHJ1Y3Rvcih0LGU9bGQubm93KXtzdXBlcih0LCgpPT51ZC5kZWxlZ2F0ZSYmdWQuZGVsZWdhdGUhPT10aGlzP3VkLmRlbGVnYXRlLm5vdygpOmUoKSksdGhpcy5hY3Rpb25zPVtdLHRoaXMuYWN0aXZlPSExLHRoaXMuc2NoZWR1bGVkPXZvaWQgMH1zY2hlZHVsZSh0LGU9MCxuKXtyZXR1cm4gdWQuZGVsZWdhdGUmJnVkLmRlbGVnYXRlIT09dGhpcz91ZC5kZWxlZ2F0ZS5zY2hlZHVsZSh0LGUsbik6c3VwZXIuc2NoZWR1bGUodCxlLG4pfWZsdXNoKHQpe2NvbnN0e2FjdGlvbnM6ZX09dGhpcztpZih0aGlzLmFjdGl2ZSlyZXR1cm4gdm9pZCBlLnB1c2godCk7bGV0IG47dGhpcy5hY3RpdmU9ITA7ZG97aWYobj10LmV4ZWN1dGUodC5zdGF0ZSx0LmRlbGF5KSlicmVha313aGlsZSh0PWUuc2hpZnQoKSk7aWYodGhpcy5hY3RpdmU9ITEsbil7Zm9yKDt0PWUuc2hpZnQoKTspdC51bnN1YnNjcmliZSgpO3Rocm93IG59fX1jbGFzcyBoZCBleHRlbmRzIHVke31jb25zdCBkZD1uZXcgaGQoY2QpLHBkPW5ldyB2KHQ9PnQuY29tcGxldGUoKSk7ZnVuY3Rpb24gZmQodCl7cmV0dXJuIHQ/ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB2KGU9PnQuc2NoZWR1bGUoKCk9PmUuY29tcGxldGUoKSkpfSh0KTpwZH1mdW5jdGlvbiBnZCguLi50KXtsZXQgZT10W3QubGVuZ3RoLTFdO3JldHVybiBTKGUpPyh0LnBvcCgpLEwodCxlKSk6VSh0KX1mdW5jdGlvbiBtZCh0LGUpe3JldHVybiBuZXcgdihlP249PmUuc2NoZWR1bGUoeWQsMCx7ZXJyb3I6dCxzdWJzY3JpYmVyOm59KTplPT5lLmVycm9yKHQpKX1mdW5jdGlvbiB5ZCh7ZXJyb3I6dCxzdWJzY3JpYmVyOmV9KXtlLmVycm9yKHQpfWxldCB2ZD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLmtpbmQ9dCx0aGlzLnZhbHVlPWUsdGhpcy5lcnJvcj1uLHRoaXMuaGFzVmFsdWU9Ik4iPT09dH1vYnNlcnZlKHQpe3N3aXRjaCh0aGlzLmtpbmQpe2Nhc2UiTiI6cmV0dXJuIHQubmV4dCYmdC5uZXh0KHRoaXMudmFsdWUpO2Nhc2UiRSI6cmV0dXJuIHQuZXJyb3ImJnQuZXJyb3IodGhpcy5lcnJvcik7Y2FzZSJDIjpyZXR1cm4gdC5jb21wbGV0ZSYmdC5jb21wbGV0ZSgpfX1kbyh0LGUsbil7c3dpdGNoKHRoaXMua2luZCl7Y2FzZSJOIjpyZXR1cm4gdCYmdCh0aGlzLnZhbHVlKTtjYXNlIkUiOnJldHVybiBlJiZlKHRoaXMuZXJyb3IpO2Nhc2UiQyI6cmV0dXJuIG4mJm4oKX19YWNjZXB0KHQsZSxuKXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIHQubmV4dD90aGlzLm9ic2VydmUodCk6dGhpcy5kbyh0LGUsbil9dG9PYnNlcnZhYmxlKCl7c3dpdGNoKHRoaXMua2luZCl7Y2FzZSJOIjpyZXR1cm4gZ2QodGhpcy52YWx1ZSk7Y2FzZSJFIjpyZXR1cm4gbWQodGhpcy5lcnJvcik7Y2FzZSJDIjpyZXR1cm4gZmQoKX10aHJvdyBuZXcgRXJyb3IoInVuZXhwZWN0ZWQgbm90aWZpY2F0aW9uIGtpbmQgdmFsdWUiKX1zdGF0aWMgY3JlYXRlTmV4dChlKXtyZXR1cm4gdm9pZCAwIT09ZT9uZXcgdCgiTiIsZSk6dC51bmRlZmluZWRWYWx1ZU5vdGlmaWNhdGlvbn1zdGF0aWMgY3JlYXRlRXJyb3IoZSl7cmV0dXJuIG5ldyB0KCJFIix2b2lkIDAsZSl9c3RhdGljIGNyZWF0ZUNvbXBsZXRlKCl7cmV0dXJuIHQuY29tcGxldGVOb3RpZmljYXRpb259fXJldHVybiB0LmNvbXBsZXRlTm90aWZpY2F0aW9uPW5ldyB0KCJDIiksdC51bmRlZmluZWRWYWx1ZU5vdGlmaWNhdGlvbj1uZXcgdCgiTiIsdm9pZCAwKSx0fSkoKTtjbGFzcyBiZCBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG49MCl7c3VwZXIodCksdGhpcy5zY2hlZHVsZXI9ZSx0aGlzLmRlbGF5PW59c3RhdGljIGRpc3BhdGNoKHQpe2NvbnN0e25vdGlmaWNhdGlvbjplLGRlc3RpbmF0aW9uOm59PXQ7ZS5vYnNlcnZlKG4pLHRoaXMudW5zdWJzY3JpYmUoKX1zY2hlZHVsZU1lc3NhZ2UodCl7dGhpcy5kZXN0aW5hdGlvbi5hZGQodGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoYmQuZGlzcGF0Y2gsdGhpcy5kZWxheSxuZXcgQ2QodCx0aGlzLmRlc3RpbmF0aW9uKSkpfV9uZXh0KHQpe3RoaXMuc2NoZWR1bGVNZXNzYWdlKHZkLmNyZWF0ZU5leHQodCkpfV9lcnJvcih0KXt0aGlzLnNjaGVkdWxlTWVzc2FnZSh2ZC5jcmVhdGVFcnJvcih0KSksdGhpcy51bnN1YnNjcmliZSgpfV9jb21wbGV0ZSgpe3RoaXMuc2NoZWR1bGVNZXNzYWdlKHZkLmNyZWF0ZUNvbXBsZXRlKCkpLHRoaXMudW5zdWJzY3JpYmUoKX19Y2xhc3MgQ2R7Y29uc3RydWN0b3IodCxlKXt0aGlzLm5vdGlmaWNhdGlvbj10LHRoaXMuZGVzdGluYXRpb249ZX19Y2xhc3Mgd2QgZXh0ZW5kcyBEe2NvbnN0cnVjdG9yKHQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG4pe3N1cGVyKCksdGhpcy5zY2hlZHVsZXI9bix0aGlzLl9ldmVudHM9W10sdGhpcy5faW5maW5pdGVUaW1lV2luZG93PSExLHRoaXMuX2J1ZmZlclNpemU9dDwxPzE6dCx0aGlzLl93aW5kb3dUaW1lPWU8MT8xOmUsZT09PU51bWJlci5QT1NJVElWRV9JTkZJTklUWT8odGhpcy5faW5maW5pdGVUaW1lV2luZG93PSEwLHRoaXMubmV4dD10aGlzLm5leHRJbmZpbml0ZVRpbWVXaW5kb3cpOnRoaXMubmV4dD10aGlzLm5leHRUaW1lV2luZG93fW5leHRJbmZpbml0ZVRpbWVXaW5kb3codCl7aWYoIXRoaXMuaXNTdG9wcGVkKXtjb25zdCBlPXRoaXMuX2V2ZW50cztlLnB1c2godCksZS5sZW5ndGg+dGhpcy5fYnVmZmVyU2l6ZSYmZS5zaGlmdCgpfXN1cGVyLm5leHQodCl9bmV4dFRpbWVXaW5kb3codCl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLl9ldmVudHMucHVzaChuZXcgX2QodGhpcy5fZ2V0Tm93KCksdCkpLHRoaXMuX3RyaW1CdWZmZXJUaGVuR2V0RXZlbnRzKCkpLHN1cGVyLm5leHQodCl9X3N1YnNjcmliZSh0KXtjb25zdCBlPXRoaXMuX2luZmluaXRlVGltZVdpbmRvdyxuPWU/dGhpcy5fZXZlbnRzOnRoaXMuX3RyaW1CdWZmZXJUaGVuR2V0RXZlbnRzKCkscj10aGlzLnNjaGVkdWxlcixzPW4ubGVuZ3RoO2xldCBpO2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBDO2lmKHRoaXMuaXNTdG9wcGVkfHx0aGlzLmhhc0Vycm9yP2k9aC5FTVBUWToodGhpcy5vYnNlcnZlcnMucHVzaCh0KSxpPW5ldyB3KHRoaXMsdCkpLHImJnQuYWRkKHQ9bmV3IGJkKHQscikpLGUpZm9yKGxldCBvPTA7bzxzJiYhdC5jbG9zZWQ7bysrKXQubmV4dChuW29dKTtlbHNlIGZvcihsZXQgbz0wO288cyYmIXQuY2xvc2VkO28rKyl0Lm5leHQobltvXS52YWx1ZSk7cmV0dXJuIHRoaXMuaGFzRXJyb3I/dC5lcnJvcih0aGlzLnRocm93bkVycm9yKTp0aGlzLmlzU3RvcHBlZCYmdC5jb21wbGV0ZSgpLGl9X2dldE5vdygpe3JldHVybih0aGlzLnNjaGVkdWxlcnx8ZGQpLm5vdygpfV90cmltQnVmZmVyVGhlbkdldEV2ZW50cygpe2NvbnN0IHQ9dGhpcy5fZ2V0Tm93KCksZT10aGlzLl9idWZmZXJTaXplLG49dGhpcy5fd2luZG93VGltZSxyPXRoaXMuX2V2ZW50cyxzPXIubGVuZ3RoO2xldCBpPTA7Zm9yKDtpPHMmJiEodC1yW2ldLnRpbWU8bik7KWkrKztyZXR1cm4gcz5lJiYoaT1NYXRoLm1heChpLHMtZSkpLGk+MCYmci5zcGxpY2UoMCxpKSxyfX1jbGFzcyBfZHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudGltZT10LHRoaXMudmFsdWU9ZX19ZnVuY3Rpb24gRGQodCxlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9uPT5uLnBpcGUoRGQoKG4scik9PkIodChuLHIpKS5waXBlKHgoKHQscyk9PmUobix0LHIscykpKSkpOmU9PmUubGlmdChuZXcgRWQodCkpfWNsYXNzIEVke2NvbnN0cnVjdG9yKHQpe3RoaXMucHJvamVjdD10fWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IFNkKHQsdGhpcy5wcm9qZWN0KSl9fWNsYXNzIFNkIGV4dGVuZHMgTXtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMucHJvamVjdD1lLHRoaXMuaW5kZXg9MH1fbmV4dCh0KXtsZXQgZTtjb25zdCBuPXRoaXMuaW5kZXgrKzt0cnl7ZT10aGlzLnByb2plY3QodCxuKX1jYXRjaChyKXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHIpfXRoaXMuX2lubmVyU3ViKGUpfV9pbm5lclN1Yih0KXtjb25zdCBlPXRoaXMuaW5uZXJTdWJzY3JpcHRpb247ZSYmZS51bnN1YnNjcmliZSgpO2NvbnN0IG49bmV3IGoodGhpcykscj10aGlzLmRlc3RpbmF0aW9uO3IuYWRkKG4pLHRoaXMuaW5uZXJTdWJzY3JpcHRpb249Tih0LG4pLHRoaXMuaW5uZXJTdWJzY3JpcHRpb24hPT1uJiZyLmFkZCh0aGlzLmlubmVyU3Vic2NyaXB0aW9uKX1fY29tcGxldGUoKXtjb25zdHtpbm5lclN1YnNjcmlwdGlvbjp0fT10aGlzO3QmJiF0LmNsb3NlZHx8c3VwZXIuX2NvbXBsZXRlKCksdGhpcy51bnN1YnNjcmliZSgpfV91bnN1YnNjcmliZSgpe3RoaXMuaW5uZXJTdWJzY3JpcHRpb249dm9pZCAwfW5vdGlmeUNvbXBsZXRlKCl7dGhpcy5pbm5lclN1YnNjcmlwdGlvbj12b2lkIDAsdGhpcy5pc1N0b3BwZWQmJnN1cGVyLl9jb21wbGV0ZSgpfW5vdGlmeU5leHQodCl7dGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfX1jb25zdCB4ZD17c2NoZWR1bGUodCxlKXtjb25zdCBuPXNldFRpbWVvdXQodCxlKTtyZXR1cm4oKT0+Y2xlYXJUaW1lb3V0KG4pfSxzY2hlZHVsZUJlZm9yZVJlbmRlcih0KXtpZigidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdylyZXR1cm4geGQuc2NoZWR1bGUodCwwKTtpZih2b2lkIDA9PT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKXJldHVybiB4ZC5zY2hlZHVsZSh0LDE2KTtjb25zdCBlPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodCk7cmV0dXJuKCk9PndpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShlKX19O2xldCBBZDtmdW5jdGlvbiBUZCh0LGUsbil7bGV0IHI9bjtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuISF0JiZ0Lm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREV9KHQpJiZlLnNvbWUoKGUsbik9PiEoIioiPT09ZXx8IWZ1bmN0aW9uKHQsZSl7aWYoIUFkKXtjb25zdCB0PUVsZW1lbnQucHJvdG90eXBlO0FkPXQubWF0Y2hlc3x8dC5tYXRjaGVzU2VsZWN0b3J8fHQubW96TWF0Y2hlc1NlbGVjdG9yfHx0Lm1zTWF0Y2hlc1NlbGVjdG9yfHx0Lm9NYXRjaGVzU2VsZWN0b3J8fHQud2Via2l0TWF0Y2hlc1NlbGVjdG9yfXJldHVybiB0Lm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJkFkLmNhbGwodCxlKX0odCxlKXx8KHI9biwwKSkpLHJ9Y2xhc3Mga2R7Y29uc3RydWN0b3IodCxlKXt0aGlzLmNvbXBvbmVudEZhY3Rvcnk9ZS5nZXQoU2EpLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHQpfWNyZWF0ZSh0KXtyZXR1cm4gbmV3IEZkKHRoaXMuY29tcG9uZW50RmFjdG9yeSx0KX19Y2xhc3MgRmR7Y29uc3RydWN0b3IodCxlKXt0aGlzLmNvbXBvbmVudEZhY3Rvcnk9dCx0aGlzLmluamVjdG9yPWUsdGhpcy5ldmVudEVtaXR0ZXJzPW5ldyB3ZCgxKSx0aGlzLmV2ZW50cz10aGlzLmV2ZW50RW1pdHRlcnMucGlwZShEZCh0PT5XKC4uLnQpKSksdGhpcy5jb21wb25lbnRSZWY9bnVsbCx0aGlzLnZpZXdDaGFuZ2VEZXRlY3RvclJlZj1udWxsLHRoaXMuaW5wdXRDaGFuZ2VzPW51bGwsdGhpcy5oYXNJbnB1dENoYW5nZXM9ITEsdGhpcy5pbXBsZW1lbnRzT25DaGFuZ2VzPSExLHRoaXMuc2NoZWR1bGVkQ2hhbmdlRGV0ZWN0aW9uRm49bnVsbCx0aGlzLnNjaGVkdWxlZERlc3Ryb3lGbj1udWxsLHRoaXMuaW5pdGlhbElucHV0VmFsdWVzPW5ldyBNYXAsdGhpcy51bmNoYW5nZWRJbnB1dHM9bmV3IFNldCh0aGlzLmNvbXBvbmVudEZhY3RvcnkuaW5wdXRzLm1hcCgoe3Byb3BOYW1lOnR9KT0+dCkpLHRoaXMubmdab25lPXRoaXMuaW5qZWN0b3IuZ2V0KHlsKSx0aGlzLmVsZW1lbnRab25lPSJ1bmRlZmluZWQiPT10eXBlb2YgWm9uZT9udWxsOnRoaXMubmdab25lLnJ1bigoKT0+Wm9uZS5jdXJyZW50KX1jb25uZWN0KHQpe3RoaXMucnVuSW5ab25lKCgpPT57aWYobnVsbCE9PXRoaXMuc2NoZWR1bGVkRGVzdHJveUZuKXJldHVybiB0aGlzLnNjaGVkdWxlZERlc3Ryb3lGbigpLHZvaWQodGhpcy5zY2hlZHVsZWREZXN0cm95Rm49bnVsbCk7bnVsbD09PXRoaXMuY29tcG9uZW50UmVmJiZ0aGlzLmluaXRpYWxpemVDb21wb25lbnQodCl9KX1kaXNjb25uZWN0KCl7dGhpcy5ydW5JblpvbmUoKCk9PntudWxsIT09dGhpcy5jb21wb25lbnRSZWYmJm51bGw9PT10aGlzLnNjaGVkdWxlZERlc3Ryb3lGbiYmKHRoaXMuc2NoZWR1bGVkRGVzdHJveUZuPXhkLnNjaGVkdWxlKCgpPT57bnVsbCE9PXRoaXMuY29tcG9uZW50UmVmJiYodGhpcy5jb21wb25lbnRSZWYuZGVzdHJveSgpLHRoaXMuY29tcG9uZW50UmVmPW51bGwsdGhpcy52aWV3Q2hhbmdlRGV0ZWN0b3JSZWY9bnVsbCl9LDEwKSl9KX1nZXRJbnB1dFZhbHVlKHQpe3JldHVybiB0aGlzLnJ1bkluWm9uZSgoKT0+bnVsbD09PXRoaXMuY29tcG9uZW50UmVmP3RoaXMuaW5pdGlhbElucHV0VmFsdWVzLmdldCh0KTp0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZVt0XSl9c2V0SW5wdXRWYWx1ZSh0LGUpe3RoaXMucnVuSW5ab25lKCgpPT57dmFyIG4scjtudWxsIT09dGhpcy5jb21wb25lbnRSZWY/KChuPWUpIT09KHI9dGhpcy5nZXRJbnB1dFZhbHVlKHQpKSYmKG49PW58fHI9PXIpfHx2b2lkIDA9PT1lJiZ0aGlzLnVuY2hhbmdlZElucHV0cy5oYXModCkpJiYodGhpcy5yZWNvcmRJbnB1dENoYW5nZSh0LGUpLHRoaXMudW5jaGFuZ2VkSW5wdXRzLmRlbGV0ZSh0KSx0aGlzLmhhc0lucHV0Q2hhbmdlcz0hMCx0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZVt0XT1lLHRoaXMuc2NoZWR1bGVEZXRlY3RDaGFuZ2VzKCkpOnRoaXMuaW5pdGlhbElucHV0VmFsdWVzLnNldCh0LGUpfSl9aW5pdGlhbGl6ZUNvbXBvbmVudCh0KXtjb25zdCBlPUtpLmNyZWF0ZSh7cHJvdmlkZXJzOltdLHBhcmVudDp0aGlzLmluamVjdG9yfSksbj1mdW5jdGlvbih0LGUpe2NvbnN0IG49dC5jaGlsZE5vZGVzLHI9ZS5tYXAoKCk9PltdKTtsZXQgcz0tMTtlLnNvbWUoKHQsZSk9PiIqIj09PXQmJihzPWUsITApKTtmb3IobGV0IGk9MCxvPW4ubGVuZ3RoO2k8bzsrK2kpe2NvbnN0IHQ9bltpXSxvPVRkKHQsZSxzKTstMSE9PW8mJnJbb10ucHVzaCh0KX1yZXR1cm4gcn0odCx0aGlzLmNvbXBvbmVudEZhY3RvcnkubmdDb250ZW50U2VsZWN0b3JzKTt0aGlzLmNvbXBvbmVudFJlZj10aGlzLmNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKGUsbix0KSx0aGlzLnZpZXdDaGFuZ2VEZXRlY3RvclJlZj10aGlzLmNvbXBvbmVudFJlZi5pbmplY3Rvci5nZXQoZWMpLHRoaXMuaW1wbGVtZW50c09uQ2hhbmdlcz0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UubmdPbkNoYW5nZXMsdGhpcy5pbml0aWFsaXplSW5wdXRzKCksdGhpcy5pbml0aWFsaXplT3V0cHV0cyh0aGlzLmNvbXBvbmVudFJlZiksdGhpcy5kZXRlY3RDaGFuZ2VzKCksdGhpcy5pbmplY3Rvci5nZXQoamwpLmF0dGFjaFZpZXcodGhpcy5jb21wb25lbnRSZWYuaG9zdFZpZXcpfWluaXRpYWxpemVJbnB1dHMoKXt0aGlzLmNvbXBvbmVudEZhY3RvcnkuaW5wdXRzLmZvckVhY2goKHtwcm9wTmFtZTp0fSk9Pnt0aGlzLmluaXRpYWxJbnB1dFZhbHVlcy5oYXModCkmJnRoaXMuc2V0SW5wdXRWYWx1ZSh0LHRoaXMuaW5pdGlhbElucHV0VmFsdWVzLmdldCh0KSl9KSx0aGlzLmluaXRpYWxJbnB1dFZhbHVlcy5jbGVhcigpfWluaXRpYWxpemVPdXRwdXRzKHQpe2NvbnN0IGU9dGhpcy5jb21wb25lbnRGYWN0b3J5Lm91dHB1dHMubWFwKCh7cHJvcE5hbWU6ZSx0ZW1wbGF0ZU5hbWU6bn0pPT50Lmluc3RhbmNlW2VdLnBpcGUoeCh0PT4oe25hbWU6bix2YWx1ZTp0fSkpKSk7dGhpcy5ldmVudEVtaXR0ZXJzLm5leHQoZSl9Y2FsbE5nT25DaGFuZ2VzKHQpe2lmKCF0aGlzLmltcGxlbWVudHNPbkNoYW5nZXN8fG51bGw9PT10aGlzLmlucHV0Q2hhbmdlcylyZXR1cm47Y29uc3QgZT10aGlzLmlucHV0Q2hhbmdlczt0aGlzLmlucHV0Q2hhbmdlcz1udWxsLHQuaW5zdGFuY2UubmdPbkNoYW5nZXMoZSl9bWFya1ZpZXdGb3JDaGVjayh0KXt0aGlzLmhhc0lucHV0Q2hhbmdlcyYmKHRoaXMuaGFzSW5wdXRDaGFuZ2VzPSExLHQubWFya0ZvckNoZWNrKCkpfXNjaGVkdWxlRGV0ZWN0Q2hhbmdlcygpe3RoaXMuc2NoZWR1bGVkQ2hhbmdlRGV0ZWN0aW9uRm58fCh0aGlzLnNjaGVkdWxlZENoYW5nZURldGVjdGlvbkZuPXhkLnNjaGVkdWxlQmVmb3JlUmVuZGVyKCgpPT57dGhpcy5zY2hlZHVsZWRDaGFuZ2VEZXRlY3Rpb25Gbj1udWxsLHRoaXMuZGV0ZWN0Q2hhbmdlcygpfSkpfXJlY29yZElucHV0Q2hhbmdlKHQsZSl7aWYoIXRoaXMuaW1wbGVtZW50c09uQ2hhbmdlcylyZXR1cm47bnVsbD09PXRoaXMuaW5wdXRDaGFuZ2VzJiYodGhpcy5pbnB1dENoYW5nZXM9e30pO2NvbnN0IG49dGhpcy5pbnB1dENoYW5nZXNbdF07aWYobilyZXR1cm4gdm9pZChuLmN1cnJlbnRWYWx1ZT1lKTtjb25zdCByPXRoaXMudW5jaGFuZ2VkSW5wdXRzLmhhcyh0KSxzPXI/dm9pZCAwOnRoaXMuZ2V0SW5wdXRWYWx1ZSh0KTt0aGlzLmlucHV0Q2hhbmdlc1t0XT1uZXcgYWUocyxlLHIpfWRldGVjdENoYW5nZXMoKXtudWxsIT09dGhpcy5jb21wb25lbnRSZWYmJih0aGlzLmNhbGxOZ09uQ2hhbmdlcyh0aGlzLmNvbXBvbmVudFJlZiksdGhpcy5tYXJrVmlld0ZvckNoZWNrKHRoaXMudmlld0NoYW5nZURldGVjdG9yUmVmKSx0aGlzLmNvbXBvbmVudFJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCkpfXJ1bkluWm9uZSh0KXtyZXR1cm4gdGhpcy5lbGVtZW50Wm9uZSYmWm9uZS5jdXJyZW50IT09dGhpcy5lbGVtZW50Wm9uZT90aGlzLm5nWm9uZS5ydW4odCk6dCgpfX1jbGFzcyBJZCBleHRlbmRzIEhUTUxFbGVtZW50e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLm5nRWxlbWVudEV2ZW50c1N1YnNjcmlwdGlvbj1udWxsfX1mdW5jdGlvbiBPZCh0LGUsbixzKXtyZXR1cm4gcihuKSYmKHM9bixuPXZvaWQgMCkscz9PZCh0LGUsbikucGlwZSh4KHQ9PmModCk/cyguLi50KTpzKHQpKSk6bmV3IHYocj0+e1BkKHQsZSxmdW5jdGlvbih0KXtyLm5leHQoYXJndW1lbnRzLmxlbmd0aD4xP0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk6dCl9LHIsbil9KX1mdW5jdGlvbiBQZCh0LGUsbixyLHMpe2xldCBpO2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5yZW1vdmVFdmVudExpc3RlbmVyfSh0KSl7Y29uc3Qgcj10O3QuYWRkRXZlbnRMaXN0ZW5lcihlLG4scyksaT0oKT0+ci5yZW1vdmVFdmVudExpc3RlbmVyKGUsbixzKX1lbHNlIGlmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5vbiYmImZ1bmN0aW9uIj09dHlwZW9mIHQub2ZmfSh0KSl7Y29uc3Qgcj10O3Qub24oZSxuKSxpPSgpPT5yLm9mZihlLG4pfWVsc2UgaWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmFkZExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5yZW1vdmVMaXN0ZW5lcn0odCkpe2NvbnN0IHI9dDt0LmFkZExpc3RlbmVyKGUsbiksaT0oKT0+ci5yZW1vdmVMaXN0ZW5lcihlLG4pfWVsc2V7aWYoIXR8fCF0Lmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGV2ZW50IHRhcmdldCIpO2ZvcihsZXQgaT0wLG89dC5sZW5ndGg7aTxvO2krKylQZCh0W2ldLGUsbixyLHMpfXIuYWRkKGkpfW5ldyBMYSgiMTIuMC41Iik7Y29uc3QgUmQ9bmV3IHVkKGFkKTtmdW5jdGlvbiBMZCh0KXtyZXR1cm4hYyh0KSYmdC1wYXJzZUZsb2F0KHQpKzE+PTB9ZnVuY3Rpb24gQmQodD0wLGUsbil7bGV0IHI9LTE7cmV0dXJuIExkKGUpP3I9TnVtYmVyKGUpPDE/MTpOdW1iZXIoZSk6UyhlKSYmKG49ZSksUyhuKXx8KG49UmQpLG5ldyB2KGU9Pntjb25zdCBzPUxkKHQpP3Q6K3Qtbi5ub3coKTtyZXR1cm4gbi5zY2hlZHVsZShqZCxzLHtpbmRleDowLHBlcmlvZDpyLHN1YnNjcmliZXI6ZX0pfSl9ZnVuY3Rpb24gamQodCl7Y29uc3R7aW5kZXg6ZSxwZXJpb2Q6bixzdWJzY3JpYmVyOnJ9PXQ7aWYoci5uZXh0KGUpLCFyLmNsb3NlZCl7aWYoLTE9PT1uKXJldHVybiByLmNvbXBsZXRlKCk7dC5pbmRleD1lKzEsdGhpcy5zY2hlZHVsZSh0LG4pfX1mdW5jdGlvbiBNZCh0LGU9bnVsbCl7cmV0dXJue3R5cGU6NCxzdHlsZXM6ZSx0aW1pbmdzOnR9fWZ1bmN0aW9uIE5kKHQpe3JldHVybnt0eXBlOjYsc3R5bGVzOnQsb2Zmc2V0Om51bGx9fWZ1bmN0aW9uIEhkKHQsZSxuPW51bGwpe3JldHVybnt0eXBlOjEsZXhwcjp0LGFuaW1hdGlvbjplLG9wdGlvbnM6bn19Y2xhc3MgVmQgZXh0ZW5kcyBEe2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5fdmFsdWU9dH1nZXQgdmFsdWUoKXtyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpfV9zdWJzY3JpYmUodCl7Y29uc3QgZT1zdXBlci5fc3Vic2NyaWJlKHQpO3JldHVybiBlJiYhZS5jbG9zZWQmJnQubmV4dCh0aGlzLl92YWx1ZSksZX1nZXRWYWx1ZSgpe2lmKHRoaXMuaGFzRXJyb3IpdGhyb3cgdGhpcy50aHJvd25FcnJvcjtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgQztyZXR1cm4gdGhpcy5fdmFsdWV9bmV4dCh0KXtzdXBlci5uZXh0KHRoaXMuX3ZhbHVlPXQpfX1jbGFzcyB6ZCBleHRlbmRzIGZ7bm90aWZ5TmV4dCh0LGUsbixyLHMpe3RoaXMuZGVzdGluYXRpb24ubmV4dChlKX1ub3RpZnlFcnJvcih0LGUpe3RoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9bm90aWZ5Q29tcGxldGUodCl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfX1jbGFzcyAkZCBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKCksdGhpcy5wYXJlbnQ9dCx0aGlzLm91dGVyVmFsdWU9ZSx0aGlzLm91dGVySW5kZXg9bix0aGlzLmluZGV4PTB9X25leHQodCl7dGhpcy5wYXJlbnQubm90aWZ5TmV4dCh0aGlzLm91dGVyVmFsdWUsdCx0aGlzLm91dGVySW5kZXgsdGhpcy5pbmRleCsrLHRoaXMpfV9lcnJvcih0KXt0aGlzLnBhcmVudC5ub3RpZnlFcnJvcih0LHRoaXMpLHRoaXMudW5zdWJzY3JpYmUoKX1fY29tcGxldGUoKXt0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSh0aGlzKSx0aGlzLnVuc3Vic2NyaWJlKCl9fWZ1bmN0aW9uIFVkKHQsZSxuLHIscz1uZXcgJGQodCxuLHIpKXtpZighcy5jbG9zZWQpcmV0dXJuIGUgaW5zdGFuY2VvZiB2P2Uuc3Vic2NyaWJlKHMpOlIoZSkocyl9Y29uc3QgV2Q9e307Y2xhc3MgR2R7Y29uc3RydWN0b3IodCl7dGhpcy5yZXN1bHRTZWxlY3Rvcj10fWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IHFkKHQsdGhpcy5yZXN1bHRTZWxlY3RvcikpfX1jbGFzcyBxZCBleHRlbmRzIHpke2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5yZXN1bHRTZWxlY3Rvcj1lLHRoaXMuYWN0aXZlPTAsdGhpcy52YWx1ZXM9W10sdGhpcy5vYnNlcnZhYmxlcz1bXX1fbmV4dCh0KXt0aGlzLnZhbHVlcy5wdXNoKFdkKSx0aGlzLm9ic2VydmFibGVzLnB1c2godCl9X2NvbXBsZXRlKCl7Y29uc3QgdD10aGlzLm9ic2VydmFibGVzLGU9dC5sZW5ndGg7aWYoMD09PWUpdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO2Vsc2V7dGhpcy5hY3RpdmU9ZSx0aGlzLnRvUmVzcG9uZD1lO2ZvcihsZXQgbj0wO248ZTtuKyspdGhpcy5hZGQoVWQodGhpcyx0W25dLHZvaWQgMCxuKSl9fW5vdGlmeUNvbXBsZXRlKHQpezA9PSh0aGlzLmFjdGl2ZS09MSkmJnRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX1ub3RpZnlOZXh0KHQsZSxuKXtjb25zdCByPXRoaXMudmFsdWVzLHM9dGhpcy50b1Jlc3BvbmQ/cltuXT09PVdkPy0tdGhpcy50b1Jlc3BvbmQ6dGhpcy50b1Jlc3BvbmQ6MDtyW25dPWUsMD09PXMmJih0aGlzLnJlc3VsdFNlbGVjdG9yP3RoaXMuX3RyeVJlc3VsdFNlbGVjdG9yKHIpOnRoaXMuZGVzdGluYXRpb24ubmV4dChyLnNsaWNlKCkpKX1fdHJ5UmVzdWx0U2VsZWN0b3IodCl7bGV0IGU7dHJ5e2U9dGhpcy5yZXN1bHRTZWxlY3Rvci5hcHBseSh0aGlzLHQpfWNhdGNoKG4pe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iobil9dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpfX1jb25zdCBYZD0oKCk9PntmdW5jdGlvbiB0KCl7cmV0dXJuIEVycm9yLmNhbGwodGhpcyksdGhpcy5tZXNzYWdlPSJubyBlbGVtZW50cyBpbiBzZXF1ZW5jZSIsdGhpcy5uYW1lPSJFbXB0eUVycm9yIix0aGlzfXJldHVybiB0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksdH0pKCk7ZnVuY3Rpb24gWWQoLi4udCl7cmV0dXJuICQoMSkoZ2QoLi4udCkpfWZ1bmN0aW9uIFpkKHQpe3JldHVybiBuZXcgdihlPT57bGV0IG47dHJ5e249dCgpfWNhdGNoKHIpe3JldHVybiB2b2lkIGUuZXJyb3Iocil9cmV0dXJuKG4/QihuKTpmZCgpKS5zdWJzY3JpYmUoZSl9KX1jb25zdCBRZD0oKCk9PntmdW5jdGlvbiB0KCl7cmV0dXJuIEVycm9yLmNhbGwodGhpcyksdGhpcy5tZXNzYWdlPSJhcmd1bWVudCBvdXQgb2YgcmFuZ2UiLHRoaXMubmFtZT0iQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IiLHRoaXN9cmV0dXJuIHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSx0fSkoKTtmdW5jdGlvbiBLZCh0KXtyZXR1cm4gZT0+MD09PXQ/ZmQoKTplLmxpZnQobmV3IEpkKHQpKX1jbGFzcyBKZHtjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLnRvdGFsPXQsdGhpcy50b3RhbDwwKXRocm93IG5ldyBRZH1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyB0cCh0LHRoaXMudG90YWwpKX19Y2xhc3MgdHAgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy50b3RhbD1lLHRoaXMuY291bnQ9MH1fbmV4dCh0KXtjb25zdCBlPXRoaXMudG90YWwsbj0rK3RoaXMuY291bnQ7bjw9ZSYmKHRoaXMuZGVzdGluYXRpb24ubmV4dCh0KSxuPT09ZSYmKHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKSx0aGlzLnVuc3Vic2NyaWJlKCkpKX19ZnVuY3Rpb24gZXAodCxlKXtsZXQgbj0hMTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD49MiYmKG49ITApLGZ1bmN0aW9uKHIpe3JldHVybiByLmxpZnQobmV3IG5wKHQsZSxuKSl9fWNsYXNzIG5we2NvbnN0cnVjdG9yKHQsZSxuPSExKXt0aGlzLmFjY3VtdWxhdG9yPXQsdGhpcy5zZWVkPWUsdGhpcy5oYXNTZWVkPW59Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgcnAodCx0aGlzLmFjY3VtdWxhdG9yLHRoaXMuc2VlZCx0aGlzLmhhc1NlZWQpKX19Y2xhc3MgcnAgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKHQpLHRoaXMuYWNjdW11bGF0b3I9ZSx0aGlzLl9zZWVkPW4sdGhpcy5oYXNTZWVkPXIsdGhpcy5pbmRleD0wfWdldCBzZWVkKCl7cmV0dXJuIHRoaXMuX3NlZWR9c2V0IHNlZWQodCl7dGhpcy5oYXNTZWVkPSEwLHRoaXMuX3NlZWQ9dH1fbmV4dCh0KXtpZih0aGlzLmhhc1NlZWQpcmV0dXJuIHRoaXMuX3RyeU5leHQodCk7dGhpcy5zZWVkPXQsdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfV90cnlOZXh0KHQpe2NvbnN0IGU9dGhpcy5pbmRleCsrO2xldCBuO3RyeXtuPXRoaXMuYWNjdW11bGF0b3IodGhpcy5zZWVkLHQsZSl9Y2F0Y2gocil7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcihyKX10aGlzLnNlZWQ9bix0aGlzLmRlc3RpbmF0aW9uLm5leHQobil9fWZ1bmN0aW9uIHNwKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuLmxpZnQobmV3IGlwKHQsZSkpfX1jbGFzcyBpcHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucHJlZGljYXRlPXQsdGhpcy50aGlzQXJnPWV9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgb3AodCx0aGlzLnByZWRpY2F0ZSx0aGlzLnRoaXNBcmcpKX19Y2xhc3Mgb3AgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0KSx0aGlzLnByZWRpY2F0ZT1lLHRoaXMudGhpc0FyZz1uLHRoaXMuY291bnQ9MH1fbmV4dCh0KXtsZXQgZTt0cnl7ZT10aGlzLnByZWRpY2F0ZS5jYWxsKHRoaXMudGhpc0FyZyx0LHRoaXMuY291bnQrKyl9Y2F0Y2gobil7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihuKX1lJiZ0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9fWZ1bmN0aW9uIGFwKHQpe3JldHVybiBmdW5jdGlvbihlKXtjb25zdCBuPW5ldyBjcCh0KSxyPWUubGlmdChuKTtyZXR1cm4gbi5jYXVnaHQ9cn19Y2xhc3MgY3B7Y29uc3RydWN0b3IodCl7dGhpcy5zZWxlY3Rvcj10fWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IGxwKHQsdGhpcy5zZWxlY3Rvcix0aGlzLmNhdWdodCkpfX1jbGFzcyBscCBleHRlbmRzIE17Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQpLHRoaXMuc2VsZWN0b3I9ZSx0aGlzLmNhdWdodD1ufWVycm9yKHQpe2lmKCF0aGlzLmlzU3RvcHBlZCl7bGV0IG47dHJ5e249dGhpcy5zZWxlY3Rvcih0LHRoaXMuY2F1Z2h0KX1jYXRjaChlKXtyZXR1cm4gdm9pZCBzdXBlci5lcnJvcihlKX10aGlzLl91bnN1YnNjcmliZUFuZFJlY3ljbGUoKTtjb25zdCByPW5ldyBqKHRoaXMpO3RoaXMuYWRkKHIpO2NvbnN0IHM9TihuLHIpO3MhPT1yJiZ0aGlzLmFkZChzKX19fWZ1bmN0aW9uIHVwKHQsZSl7cmV0dXJuIEgodCxlLDEpfWZ1bmN0aW9uIGhwKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gMD09PXQ/ZmQoKTplLmxpZnQobmV3IGRwKHQpKX19Y2xhc3MgZHB7Y29uc3RydWN0b3IodCl7aWYodGhpcy50b3RhbD10LHRoaXMudG90YWw8MCl0aHJvdyBuZXcgUWR9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgcHAodCx0aGlzLnRvdGFsKSl9fWNsYXNzIHBwIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMudG90YWw9ZSx0aGlzLnJpbmc9bmV3IEFycmF5LHRoaXMuY291bnQ9MH1fbmV4dCh0KXtjb25zdCBlPXRoaXMucmluZyxuPXRoaXMudG90YWwscj10aGlzLmNvdW50Kys7ZS5sZW5ndGg8bj9lLnB1c2godCk6ZVtyJW5dPXR9X2NvbXBsZXRlKCl7Y29uc3QgdD10aGlzLmRlc3RpbmF0aW9uO2xldCBlPXRoaXMuY291bnQ7aWYoZT4wKXtjb25zdCBuPXRoaXMuY291bnQ+PXRoaXMudG90YWw/dGhpcy50b3RhbDp0aGlzLmNvdW50LHI9dGhpcy5yaW5nO2ZvcihsZXQgcz0wO3M8bjtzKyspe2NvbnN0IHM9ZSsrJW47dC5uZXh0KHJbc10pfX10LmNvbXBsZXRlKCl9fWZ1bmN0aW9uIGZwKHQ9eXApe3JldHVybiBlPT5lLmxpZnQobmV3IGdwKHQpKX1jbGFzcyBncHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmVycm9yRmFjdG9yeT10fWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IG1wKHQsdGhpcy5lcnJvckZhY3RvcnkpKX19Y2xhc3MgbXAgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5lcnJvckZhY3Rvcnk9ZSx0aGlzLmhhc1ZhbHVlPSExfV9uZXh0KHQpe3RoaXMuaGFzVmFsdWU9ITAsdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfV9jb21wbGV0ZSgpe2lmKHRoaXMuaGFzVmFsdWUpcmV0dXJuIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTt7bGV0IGU7dHJ5e2U9dGhpcy5lcnJvckZhY3RvcnkoKX1jYXRjaCh0KXtlPXR9dGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlKX19fWZ1bmN0aW9uIHlwKCl7cmV0dXJuIG5ldyBYZH1mdW5jdGlvbiB2cCh0PW51bGwpe3JldHVybiBlPT5lLmxpZnQobmV3IGJwKHQpKX1jbGFzcyBicHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmRlZmF1bHRWYWx1ZT10fWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IENwKHQsdGhpcy5kZWZhdWx0VmFsdWUpKX19Y2xhc3MgQ3AgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5kZWZhdWx0VmFsdWU9ZSx0aGlzLmlzRW1wdHk9ITB9X25leHQodCl7dGhpcy5pc0VtcHR5PSExLHRoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1fY29tcGxldGUoKXt0aGlzLmlzRW1wdHkmJnRoaXMuZGVzdGluYXRpb24ubmV4dCh0aGlzLmRlZmF1bHRWYWx1ZSksdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfX1mdW5jdGlvbiB3cCh0LGUpe2NvbnN0IG49YXJndW1lbnRzLmxlbmd0aD49MjtyZXR1cm4gcj0+ci5waXBlKHQ/c3AoKGUsbik9PnQoZSxuLHIpKTp5LEtkKDEpLG4/dnAoZSk6ZnAoKCk9Pm5ldyBYZCkpfWZ1bmN0aW9uIF9wKCl7fWZ1bmN0aW9uIERwKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHIubGlmdChuZXcgRXAodCxlLG4pKX19Y2xhc3MgRXB7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMubmV4dE9yT2JzZXJ2ZXI9dCx0aGlzLmVycm9yPWUsdGhpcy5jb21wbGV0ZT1ufWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IFNwKHQsdGhpcy5uZXh0T3JPYnNlcnZlcix0aGlzLmVycm9yLHRoaXMuY29tcGxldGUpKX19Y2xhc3MgU3AgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSxuLHMpe3N1cGVyKHQpLHRoaXMuX3RhcE5leHQ9X3AsdGhpcy5fdGFwRXJyb3I9X3AsdGhpcy5fdGFwQ29tcGxldGU9X3AsdGhpcy5fdGFwRXJyb3I9bnx8X3AsdGhpcy5fdGFwQ29tcGxldGU9c3x8X3AscihlKT8odGhpcy5fY29udGV4dD10aGlzLHRoaXMuX3RhcE5leHQ9ZSk6ZSYmKHRoaXMuX2NvbnRleHQ9ZSx0aGlzLl90YXBOZXh0PWUubmV4dHx8X3AsdGhpcy5fdGFwRXJyb3I9ZS5lcnJvcnx8X3AsdGhpcy5fdGFwQ29tcGxldGU9ZS5jb21wbGV0ZXx8X3ApfV9uZXh0KHQpe3RyeXt0aGlzLl90YXBOZXh0LmNhbGwodGhpcy5fY29udGV4dCx0KX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpfXRoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1fZXJyb3IodCl7dHJ5e3RoaXMuX3RhcEVycm9yLmNhbGwodGhpcy5fY29udGV4dCx0KX1jYXRjaCh0KXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpfXRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9X2NvbXBsZXRlKCl7dHJ5e3RoaXMuX3RhcENvbXBsZXRlLmNhbGwodGhpcy5fY29udGV4dCl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX1yZXR1cm4gdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfX1jbGFzcyB4cHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmNhbGxiYWNrPXR9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgQXAodCx0aGlzLmNhbGxiYWNrKSl9fWNsYXNzIEFwIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuYWRkKG5ldyBoKGUpKX19Y2xhc3MgVHB7Y29uc3RydWN0b3IodCxlKXt0aGlzLmlkPXQsdGhpcy51cmw9ZX19Y2xhc3Mga3AgZXh0ZW5kcyBUcHtjb25zdHJ1Y3Rvcih0LGUsbj0iaW1wZXJhdGl2ZSIscj1udWxsKXtzdXBlcih0LGUpLHRoaXMubmF2aWdhdGlvblRyaWdnZXI9bix0aGlzLnJlc3RvcmVkU3RhdGU9cn10b1N0cmluZygpe3JldHVybmBOYXZpZ2F0aW9uU3RhcnQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JylgfX1jbGFzcyBGcCBleHRlbmRzIFRwe2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0LGUpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bn10b1N0cmluZygpe3JldHVybmBOYXZpZ2F0aW9uRW5kKGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIHVybEFmdGVyUmVkaXJlY3RzOiAnJHt0aGlzLnVybEFmdGVyUmVkaXJlY3RzfScpYH19Y2xhc3MgSXAgZXh0ZW5kcyBUcHtjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCxlKSx0aGlzLnJlYXNvbj1ufXRvU3RyaW5nKCl7cmV0dXJuYE5hdmlnYXRpb25DYW5jZWwoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JylgfX1jbGFzcyBPcCBleHRlbmRzIFRwe2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0LGUpLHRoaXMuZXJyb3I9bn10b1N0cmluZygpe3JldHVybmBOYXZpZ2F0aW9uRXJyb3IoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgZXJyb3I6ICR7dGhpcy5lcnJvcn0pYH19Y2xhc3MgUHAgZXh0ZW5kcyBUcHtjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcih0LGUpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bix0aGlzLnN0YXRlPXJ9dG9TdHJpbmcoKXtyZXR1cm5gUm91dGVzUmVjb2duaXplZChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nLCBzdGF0ZTogJHt0aGlzLnN0YXRlfSlgfX1jbGFzcyBScCBleHRlbmRzIFRwe2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKHQsZSksdGhpcy51cmxBZnRlclJlZGlyZWN0cz1uLHRoaXMuc3RhdGU9cn10b1N0cmluZygpe3JldHVybmBHdWFyZHNDaGVja1N0YXJ0KGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIHVybEFmdGVyUmVkaXJlY3RzOiAnJHt0aGlzLnVybEFmdGVyUmVkaXJlY3RzfScsIHN0YXRlOiAke3RoaXMuc3RhdGV9KWB9fWNsYXNzIExwIGV4dGVuZHMgVHB7Y29uc3RydWN0b3IodCxlLG4scixzKXtzdXBlcih0LGUpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bix0aGlzLnN0YXRlPXIsdGhpcy5zaG91bGRBY3RpdmF0ZT1zfXRvU3RyaW5nKCl7cmV0dXJuYEd1YXJkc0NoZWNrRW5kKGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIHVybEFmdGVyUmVkaXJlY3RzOiAnJHt0aGlzLnVybEFmdGVyUmVkaXJlY3RzfScsIHN0YXRlOiAke3RoaXMuc3RhdGV9LCBzaG91bGRBY3RpdmF0ZTogJHt0aGlzLnNob3VsZEFjdGl2YXRlfSlgfX1jbGFzcyBCcCBleHRlbmRzIFRwe2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKHQsZSksdGhpcy51cmxBZnRlclJlZGlyZWN0cz1uLHRoaXMuc3RhdGU9cn10b1N0cmluZygpe3JldHVybmBSZXNvbHZlU3RhcnQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgdXJsQWZ0ZXJSZWRpcmVjdHM6ICcke3RoaXMudXJsQWZ0ZXJSZWRpcmVjdHN9Jywgc3RhdGU6ICR7dGhpcy5zdGF0ZX0pYH19Y2xhc3MganAgZXh0ZW5kcyBUcHtjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcih0LGUpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bix0aGlzLnN0YXRlPXJ9dG9TdHJpbmcoKXtyZXR1cm5gUmVzb2x2ZUVuZChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nLCBzdGF0ZTogJHt0aGlzLnN0YXRlfSlgfX1jbGFzcyBNcHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnJvdXRlPXR9dG9TdHJpbmcoKXtyZXR1cm5gUm91dGVDb25maWdMb2FkU3RhcnQocGF0aDogJHt0aGlzLnJvdXRlLnBhdGh9KWB9fWNsYXNzIE5we2NvbnN0cnVjdG9yKHQpe3RoaXMucm91dGU9dH10b1N0cmluZygpe3JldHVybmBSb3V0ZUNvbmZpZ0xvYWRFbmQocGF0aDogJHt0aGlzLnJvdXRlLnBhdGh9KWB9fWNsYXNzIEhwe2NvbnN0cnVjdG9yKHQpe3RoaXMuc25hcHNob3Q9dH10b1N0cmluZygpe3JldHVybmBDaGlsZEFjdGl2YXRpb25TdGFydChwYXRoOiAnJHt0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnJiZ0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnLnBhdGh8fCIifScpYH19Y2xhc3MgVnB7Y29uc3RydWN0b3IodCl7dGhpcy5zbmFwc2hvdD10fXRvU3RyaW5nKCl7cmV0dXJuYENoaWxkQWN0aXZhdGlvbkVuZChwYXRoOiAnJHt0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnJiZ0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnLnBhdGh8fCIifScpYH19Y2xhc3MgenB7Y29uc3RydWN0b3IodCl7dGhpcy5zbmFwc2hvdD10fXRvU3RyaW5nKCl7cmV0dXJuYEFjdGl2YXRpb25TdGFydChwYXRoOiAnJHt0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnJiZ0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnLnBhdGh8fCIifScpYH19Y2xhc3MgJHB7Y29uc3RydWN0b3IodCl7dGhpcy5zbmFwc2hvdD10fXRvU3RyaW5nKCl7cmV0dXJuYEFjdGl2YXRpb25FbmQocGF0aDogJyR7dGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZyYmdGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZy5wYXRofHwiIn0nKWB9fWNsYXNzIFVwe2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLnJvdXRlckV2ZW50PXQsdGhpcy5wb3NpdGlvbj1lLHRoaXMuYW5jaG9yPW59dG9TdHJpbmcoKXtyZXR1cm5gU2Nyb2xsKGFuY2hvcjogJyR7dGhpcy5hbmNob3J9JywgcG9zaXRpb246ICcke3RoaXMucG9zaXRpb24/YCR7dGhpcy5wb3NpdGlvblswXX0sICR7dGhpcy5wb3NpdGlvblsxXX1gOm51bGx9JylgfX1jb25zdCBXcD0icHJpbWFyeSI7Y2xhc3MgR3B7Y29uc3RydWN0b3IodCl7dGhpcy5wYXJhbXM9dHx8e319aGFzKHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5wYXJhbXMsdCl9Z2V0KHQpe2lmKHRoaXMuaGFzKHQpKXtjb25zdCBlPXRoaXMucGFyYW1zW3RdO3JldHVybiBBcnJheS5pc0FycmF5KGUpP2VbMF06ZX1yZXR1cm4gbnVsbH1nZXRBbGwodCl7aWYodGhpcy5oYXModCkpe2NvbnN0IGU9dGhpcy5wYXJhbXNbdF07cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZTpbZV19cmV0dXJuW119Z2V0IGtleXMoKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpfX1mdW5jdGlvbiBxcCh0KXtyZXR1cm4gbmV3IEdwKHQpfWZ1bmN0aW9uIFhwKHQpe2NvbnN0IGU9RXJyb3IoIk5hdmlnYXRpb25DYW5jZWxpbmdFcnJvcjogIit0KTtyZXR1cm4gZS5uZ05hdmlnYXRpb25DYW5jZWxpbmdFcnJvcj0hMCxlfWZ1bmN0aW9uIFlwKHQsZSxuKXtjb25zdCByPW4ucGF0aC5zcGxpdCgiLyIpO2lmKHIubGVuZ3RoPnQubGVuZ3RoKXJldHVybiBudWxsO2lmKCJmdWxsIj09PW4ucGF0aE1hdGNoJiYoZS5oYXNDaGlsZHJlbigpfHxyLmxlbmd0aDx0Lmxlbmd0aCkpcmV0dXJuIG51bGw7Y29uc3Qgcz17fTtmb3IobGV0IGk9MDtpPHIubGVuZ3RoO2krKyl7Y29uc3QgZT1yW2ldLG49dFtpXTtpZihlLnN0YXJ0c1dpdGgoIjoiKSlzW2Uuc3Vic3RyaW5nKDEpXT1uO2Vsc2UgaWYoZSE9PW4ucGF0aClyZXR1cm4gbnVsbH1yZXR1cm57Y29uc3VtZWQ6dC5zbGljZSgwLHIubGVuZ3RoKSxwb3NQYXJhbXM6c319ZnVuY3Rpb24gWnAodCxlKXtjb25zdCBuPXQ/T2JqZWN0LmtleXModCk6dm9pZCAwLHI9ZT9PYmplY3Qua2V5cyhlKTp2b2lkIDA7aWYoIW58fCFyfHxuLmxlbmd0aCE9ci5sZW5ndGgpcmV0dXJuITE7bGV0IHM7Zm9yKGxldCBpPTA7aTxuLmxlbmd0aDtpKyspaWYocz1uW2ldLCFRcCh0W3NdLGVbc10pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFFwKHQsZSl7aWYoQXJyYXkuaXNBcnJheSh0KSYmQXJyYXkuaXNBcnJheShlKSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtjb25zdCBuPVsuLi50XS5zb3J0KCkscj1bLi4uZV0uc29ydCgpO3JldHVybiBuLmV2ZXJ5KCh0LGUpPT5yW2VdPT09dCl9cmV0dXJuIHQ9PT1lfWZ1bmN0aW9uIEtwKHQpe3JldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLHQpfWZ1bmN0aW9uIEpwKHQpe3JldHVybiB0Lmxlbmd0aD4wP3RbdC5sZW5ndGgtMV06bnVsbH1mdW5jdGlvbiB0Zih0LGUpe2Zvcihjb25zdCBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmZSh0W25dLG4pfWZ1bmN0aW9uIGVmKHQpe3JldHVybiBUbyh0KT90OnhvKHQpP0IoUHJvbWlzZS5yZXNvbHZlKHQpKTpnZCh0KX1jb25zdCBuZj17ZXhhY3Q6ZnVuY3Rpb24gdChlLG4scil7aWYoIWRmKGUuc2VnbWVudHMsbi5zZWdtZW50cykpcmV0dXJuITE7aWYoIWNmKGUuc2VnbWVudHMsbi5zZWdtZW50cyxyKSlyZXR1cm4hMTtpZihlLm51bWJlck9mQ2hpbGRyZW4hPT1uLm51bWJlck9mQ2hpbGRyZW4pcmV0dXJuITE7Zm9yKGNvbnN0IHMgaW4gbi5jaGlsZHJlbil7aWYoIWUuY2hpbGRyZW5bc10pcmV0dXJuITE7aWYoIXQoZS5jaGlsZHJlbltzXSxuLmNoaWxkcmVuW3NdLHIpKXJldHVybiExfXJldHVybiEwfSxzdWJzZXQ6b2Z9LHJmPXtleGFjdDpmdW5jdGlvbih0LGUpe3JldHVybiBacCh0LGUpfSxzdWJzZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubGVuZ3RoPD1PYmplY3Qua2V5cyh0KS5sZW5ndGgmJk9iamVjdC5rZXlzKGUpLmV2ZXJ5KG49PlFwKHRbbl0sZVtuXSkpfSxpZ25vcmVkOigpPT4hMH07ZnVuY3Rpb24gc2YodCxlLG4pe3JldHVybiBuZltuLnBhdGhzXSh0LnJvb3QsZS5yb290LG4ubWF0cml4UGFyYW1zKSYmcmZbbi5xdWVyeVBhcmFtc10odC5xdWVyeVBhcmFtcyxlLnF1ZXJ5UGFyYW1zKSYmISgiZXhhY3QiPT09bi5mcmFnbWVudCYmdC5mcmFnbWVudCE9PWUuZnJhZ21lbnQpfWZ1bmN0aW9uIG9mKHQsZSxuKXtyZXR1cm4gYWYodCxlLGUuc2VnbWVudHMsbil9ZnVuY3Rpb24gYWYodCxlLG4scil7aWYodC5zZWdtZW50cy5sZW5ndGg+bi5sZW5ndGgpe2NvbnN0IHM9dC5zZWdtZW50cy5zbGljZSgwLG4ubGVuZ3RoKTtyZXR1cm4hIWRmKHMsbikmJiFlLmhhc0NoaWxkcmVuKCkmJiEhY2YocyxuLHIpfWlmKHQuc2VnbWVudHMubGVuZ3RoPT09bi5sZW5ndGgpe2lmKCFkZih0LnNlZ21lbnRzLG4pKXJldHVybiExO2lmKCFjZih0LnNlZ21lbnRzLG4scikpcmV0dXJuITE7Zm9yKGNvbnN0IG4gaW4gZS5jaGlsZHJlbil7aWYoIXQuY2hpbGRyZW5bbl0pcmV0dXJuITE7aWYoIW9mKHQuY2hpbGRyZW5bbl0sZS5jaGlsZHJlbltuXSxyKSlyZXR1cm4hMX1yZXR1cm4hMH17Y29uc3Qgcz1uLnNsaWNlKDAsdC5zZWdtZW50cy5sZW5ndGgpLGk9bi5zbGljZSh0LnNlZ21lbnRzLmxlbmd0aCk7cmV0dXJuISFkZih0LnNlZ21lbnRzLHMpJiYhIWNmKHQuc2VnbWVudHMscyxyKSYmISF0LmNoaWxkcmVuLnByaW1hcnkmJmFmKHQuY2hpbGRyZW4ucHJpbWFyeSxlLGkscil9fWZ1bmN0aW9uIGNmKHQsZSxuKXtyZXR1cm4gZS5ldmVyeSgoZSxyKT0+cmZbbl0odFtyXS5wYXJhbWV0ZXJzLGUucGFyYW1ldGVycykpfWNsYXNzIGxme2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLnJvb3Q9dCx0aGlzLnF1ZXJ5UGFyYW1zPWUsdGhpcy5mcmFnbWVudD1ufWdldCBxdWVyeVBhcmFtTWFwKCl7cmV0dXJuIHRoaXMuX3F1ZXJ5UGFyYW1NYXB8fCh0aGlzLl9xdWVyeVBhcmFtTWFwPXFwKHRoaXMucXVlcnlQYXJhbXMpKSx0aGlzLl9xdWVyeVBhcmFtTWFwfXRvU3RyaW5nKCl7cmV0dXJuIGdmLnNlcmlhbGl6ZSh0aGlzKX19Y2xhc3MgdWZ7Y29uc3RydWN0b3IodCxlKXt0aGlzLnNlZ21lbnRzPXQsdGhpcy5jaGlsZHJlbj1lLHRoaXMucGFyZW50PW51bGwsdGYoZSwodCxlKT0+dC5wYXJlbnQ9dGhpcyl9aGFzQ2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5udW1iZXJPZkNoaWxkcmVuPjB9Z2V0IG51bWJlck9mQ2hpbGRyZW4oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5jaGlsZHJlbikubGVuZ3RofXRvU3RyaW5nKCl7cmV0dXJuIG1mKHRoaXMpfX1jbGFzcyBoZntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucGF0aD10LHRoaXMucGFyYW1ldGVycz1lfWdldCBwYXJhbWV0ZXJNYXAoKXtyZXR1cm4gdGhpcy5fcGFyYW1ldGVyTWFwfHwodGhpcy5fcGFyYW1ldGVyTWFwPXFwKHRoaXMucGFyYW1ldGVycykpLHRoaXMuX3BhcmFtZXRlck1hcH10b1N0cmluZygpe3JldHVybiBEZih0aGlzKX19ZnVuY3Rpb24gZGYodCxlKXtyZXR1cm4gdC5sZW5ndGg9PT1lLmxlbmd0aCYmdC5ldmVyeSgodCxuKT0+dC5wYXRoPT09ZVtuXS5wYXRoKX1jbGFzcyBwZnt9Y2xhc3MgZmZ7cGFyc2UodCl7Y29uc3QgZT1uZXcgVGYodCk7cmV0dXJuIG5ldyBsZihlLnBhcnNlUm9vdFNlZ21lbnQoKSxlLnBhcnNlUXVlcnlQYXJhbXMoKSxlLnBhcnNlRnJhZ21lbnQoKSl9c2VyaWFsaXplKHQpe3ZhciBlO3JldHVybmAvJHt5Zih0LnJvb3QsITApfSR7ZnVuY3Rpb24odCl7Y29uc3QgZT1PYmplY3Qua2V5cyh0KS5tYXAoZT0+e2NvbnN0IG49dFtlXTtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT9uLm1hcCh0PT5gJHtiZihlKX09JHtiZih0KX1gKS5qb2luKCImIik6YCR7YmYoZSl9PSR7YmYobil9YH0pLmZpbHRlcih0PT4hIXQpO3JldHVybiBlLmxlbmd0aD9gPyR7ZS5qb2luKCImIil9YDoiIn0odC5xdWVyeVBhcmFtcyl9JHsic3RyaW5nIj09dHlwZW9mIHQuZnJhZ21lbnQ/YCMke2U9dC5mcmFnbWVudCxlbmNvZGVVUkkoZSl9YDoiIn1gfX1jb25zdCBnZj1uZXcgZmY7ZnVuY3Rpb24gbWYodCl7cmV0dXJuIHQuc2VnbWVudHMubWFwKHQ9PkRmKHQpKS5qb2luKCIvIil9ZnVuY3Rpb24geWYodCxlKXtpZighdC5oYXNDaGlsZHJlbigpKXJldHVybiBtZih0KTtpZihlKXtjb25zdCBlPXQuY2hpbGRyZW4ucHJpbWFyeT95Zih0LmNoaWxkcmVuLnByaW1hcnksITEpOiIiLG49W107cmV0dXJuIHRmKHQuY2hpbGRyZW4sKHQsZSk9PntlIT09V3AmJm4ucHVzaChgJHtlfToke3lmKHQsITEpfWApfSksbi5sZW5ndGg+MD9gJHtlfSgke24uam9pbigiLy8iKX0pYDplfXtjb25zdCBlPWZ1bmN0aW9uKHQsZSl7bGV0IG49W107cmV0dXJuIHRmKHQuY2hpbGRyZW4sKHQscik9PntyPT09V3AmJihuPW4uY29uY2F0KGUodCxyKSkpfSksdGYodC5jaGlsZHJlbiwodCxyKT0+e3IhPT1XcCYmKG49bi5jb25jYXQoZSh0LHIpKSl9KSxufSh0LChlLG4pPT5uPT09V3A/W3lmKHQuY2hpbGRyZW4ucHJpbWFyeSwhMSldOltgJHtufToke3lmKGUsITEpfWBdKTtyZXR1cm4gMT09PU9iamVjdC5rZXlzKHQuY2hpbGRyZW4pLmxlbmd0aCYmbnVsbCE9dC5jaGlsZHJlbi5wcmltYXJ5P2Ake21mKHQpfS8ke2VbMF19YDpgJHttZih0KX0vKCR7ZS5qb2luKCIvLyIpfSlgfX1mdW5jdGlvbiB2Zih0KXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHQpLnJlcGxhY2UoLyU0MC9nLCJAIikucmVwbGFjZSgvJTNBL2dpLCI6IikucmVwbGFjZSgvJTI0L2csIiQiKS5yZXBsYWNlKC8lMkMvZ2ksIiwiKX1mdW5jdGlvbiBiZih0KXtyZXR1cm4gdmYodCkucmVwbGFjZSgvJTNCL2dpLCI7Iil9ZnVuY3Rpb24gQ2YodCl7cmV0dXJuIHZmKHQpLnJlcGxhY2UoL1woL2csIiUyOCIpLnJlcGxhY2UoL1wpL2csIiUyOSIpLnJlcGxhY2UoLyUyNi9naSwiJiIpfWZ1bmN0aW9uIHdmKHQpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQodCl9ZnVuY3Rpb24gX2YodCl7cmV0dXJuIHdmKHQucmVwbGFjZSgvXCsvZywiJTIwIikpfWZ1bmN0aW9uIERmKHQpe3JldHVybmAke0NmKHQucGF0aCl9JHtlPXQucGFyYW1ldGVycyxPYmplY3Qua2V5cyhlKS5tYXAodD0+YDske0NmKHQpfT0ke0NmKGVbdF0pfWApLmpvaW4oIiIpfWA7dmFyIGV9Y29uc3QgRWY9L15bXlwvKCk/Oz0jXSsvO2Z1bmN0aW9uIFNmKHQpe2NvbnN0IGU9dC5tYXRjaChFZik7cmV0dXJuIGU/ZVswXToiIn1jb25zdCB4Zj0vXltePT8mI10rLyxBZj0vXltePyYjXSsvO2NsYXNzIFRme2NvbnN0cnVjdG9yKHQpe3RoaXMudXJsPXQsdGhpcy5yZW1haW5pbmc9dH1wYXJzZVJvb3RTZWdtZW50KCl7cmV0dXJuIHRoaXMuY29uc3VtZU9wdGlvbmFsKCIvIiksIiI9PT10aGlzLnJlbWFpbmluZ3x8dGhpcy5wZWVrU3RhcnRzV2l0aCgiPyIpfHx0aGlzLnBlZWtTdGFydHNXaXRoKCIjIik/bmV3IHVmKFtdLHt9KTpuZXcgdWYoW10sdGhpcy5wYXJzZUNoaWxkcmVuKCkpfXBhcnNlUXVlcnlQYXJhbXMoKXtjb25zdCB0PXt9O2lmKHRoaXMuY29uc3VtZU9wdGlvbmFsKCI/IikpZG97dGhpcy5wYXJzZVF1ZXJ5UGFyYW0odCl9d2hpbGUodGhpcy5jb25zdW1lT3B0aW9uYWwoIiYiKSk7cmV0dXJuIHR9cGFyc2VGcmFnbWVudCgpe3JldHVybiB0aGlzLmNvbnN1bWVPcHRpb25hbCgiIyIpP2RlY29kZVVSSUNvbXBvbmVudCh0aGlzLnJlbWFpbmluZyk6bnVsbH1wYXJzZUNoaWxkcmVuKCl7aWYoIiI9PT10aGlzLnJlbWFpbmluZylyZXR1cm57fTt0aGlzLmNvbnN1bWVPcHRpb25hbCgiLyIpO2NvbnN0IHQ9W107Zm9yKHRoaXMucGVla1N0YXJ0c1dpdGgoIigiKXx8dC5wdXNoKHRoaXMucGFyc2VTZWdtZW50KCkpO3RoaXMucGVla1N0YXJ0c1dpdGgoIi8iKSYmIXRoaXMucGVla1N0YXJ0c1dpdGgoIi8vIikmJiF0aGlzLnBlZWtTdGFydHNXaXRoKCIvKCIpOyl0aGlzLmNhcHR1cmUoIi8iKSx0LnB1c2godGhpcy5wYXJzZVNlZ21lbnQoKSk7bGV0IGU9e307dGhpcy5wZWVrU3RhcnRzV2l0aCgiLygiKSYmKHRoaXMuY2FwdHVyZSgiLyIpLGU9dGhpcy5wYXJzZVBhcmVucyghMCkpO2xldCBuPXt9O3JldHVybiB0aGlzLnBlZWtTdGFydHNXaXRoKCIoIikmJihuPXRoaXMucGFyc2VQYXJlbnMoITEpKSwodC5sZW5ndGg+MHx8T2JqZWN0LmtleXMoZSkubGVuZ3RoPjApJiYobi5wcmltYXJ5PW5ldyB1Zih0LGUpKSxufXBhcnNlU2VnbWVudCgpe2NvbnN0IHQ9U2YodGhpcy5yZW1haW5pbmcpO2lmKCIiPT09dCYmdGhpcy5wZWVrU3RhcnRzV2l0aCgiOyIpKXRocm93IG5ldyBFcnJvcihgRW1wdHkgcGF0aCB1cmwgc2VnbWVudCBjYW5ub3QgaGF2ZSBwYXJhbWV0ZXJzOiAnJHt0aGlzLnJlbWFpbmluZ30nLmApO3JldHVybiB0aGlzLmNhcHR1cmUodCksbmV3IGhmKHdmKHQpLHRoaXMucGFyc2VNYXRyaXhQYXJhbXMoKSl9cGFyc2VNYXRyaXhQYXJhbXMoKXtjb25zdCB0PXt9O2Zvcig7dGhpcy5jb25zdW1lT3B0aW9uYWwoIjsiKTspdGhpcy5wYXJzZVBhcmFtKHQpO3JldHVybiB0fXBhcnNlUGFyYW0odCl7Y29uc3QgZT1TZih0aGlzLnJlbWFpbmluZyk7aWYoIWUpcmV0dXJuO3RoaXMuY2FwdHVyZShlKTtsZXQgbj0iIjtpZih0aGlzLmNvbnN1bWVPcHRpb25hbCgiPSIpKXtjb25zdCB0PVNmKHRoaXMucmVtYWluaW5nKTt0JiYobj10LHRoaXMuY2FwdHVyZShuKSl9dFt3ZihlKV09d2Yobil9cGFyc2VRdWVyeVBhcmFtKHQpe2NvbnN0IGU9ZnVuY3Rpb24odCl7Y29uc3QgZT10Lm1hdGNoKHhmKTtyZXR1cm4gZT9lWzBdOiIifSh0aGlzLnJlbWFpbmluZyk7aWYoIWUpcmV0dXJuO3RoaXMuY2FwdHVyZShlKTtsZXQgbj0iIjtpZih0aGlzLmNvbnN1bWVPcHRpb25hbCgiPSIpKXtjb25zdCB0PWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5tYXRjaChBZik7cmV0dXJuIGU/ZVswXToiIn0odGhpcy5yZW1haW5pbmcpO3QmJihuPXQsdGhpcy5jYXB0dXJlKG4pKX1jb25zdCByPV9mKGUpLHM9X2Yobik7aWYodC5oYXNPd25Qcm9wZXJ0eShyKSl7bGV0IGU9dFtyXTtBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0sdFtyXT1lKSxlLnB1c2gocyl9ZWxzZSB0W3JdPXN9cGFyc2VQYXJlbnModCl7Y29uc3QgZT17fTtmb3IodGhpcy5jYXB0dXJlKCIoIik7IXRoaXMuY29uc3VtZU9wdGlvbmFsKCIpIikmJnRoaXMucmVtYWluaW5nLmxlbmd0aD4wOyl7Y29uc3Qgbj1TZih0aGlzLnJlbWFpbmluZykscj10aGlzLnJlbWFpbmluZ1tuLmxlbmd0aF07aWYoIi8iIT09ciYmIikiIT09ciYmIjsiIT09cil0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBwYXJzZSB1cmwgJyR7dGhpcy51cmx9J2ApO2xldCBzO24uaW5kZXhPZigiOiIpPi0xPyhzPW4uc3Vic3RyKDAsbi5pbmRleE9mKCI6IikpLHRoaXMuY2FwdHVyZShzKSx0aGlzLmNhcHR1cmUoIjoiKSk6dCYmKHM9V3ApO2NvbnN0IGk9dGhpcy5wYXJzZUNoaWxkcmVuKCk7ZVtzXT0xPT09T2JqZWN0LmtleXMoaSkubGVuZ3RoP2kucHJpbWFyeTpuZXcgdWYoW10saSksdGhpcy5jb25zdW1lT3B0aW9uYWwoIi8vIil9cmV0dXJuIGV9cGVla1N0YXJ0c1dpdGgodCl7cmV0dXJuIHRoaXMucmVtYWluaW5nLnN0YXJ0c1dpdGgodCl9Y29uc3VtZU9wdGlvbmFsKHQpe3JldHVybiEhdGhpcy5wZWVrU3RhcnRzV2l0aCh0KSYmKHRoaXMucmVtYWluaW5nPXRoaXMucmVtYWluaW5nLnN1YnN0cmluZyh0Lmxlbmd0aCksITApfWNhcHR1cmUodCl7aWYoIXRoaXMuY29uc3VtZU9wdGlvbmFsKHQpKXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgIiR7dH0iLmApfX1jbGFzcyBrZntjb25zdHJ1Y3Rvcih0KXt0aGlzLl9yb290PXR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy5fcm9vdC52YWx1ZX1wYXJlbnQodCl7Y29uc3QgZT10aGlzLnBhdGhGcm9tUm9vdCh0KTtyZXR1cm4gZS5sZW5ndGg+MT9lW2UubGVuZ3RoLTJdOm51bGx9Y2hpbGRyZW4odCl7Y29uc3QgZT1GZih0LHRoaXMuX3Jvb3QpO3JldHVybiBlP2UuY2hpbGRyZW4ubWFwKHQ9PnQudmFsdWUpOltdfWZpcnN0Q2hpbGQodCl7Y29uc3QgZT1GZih0LHRoaXMuX3Jvb3QpO3JldHVybiBlJiZlLmNoaWxkcmVuLmxlbmd0aD4wP2UuY2hpbGRyZW5bMF0udmFsdWU6bnVsbH1zaWJsaW5ncyh0KXtjb25zdCBlPUlmKHQsdGhpcy5fcm9vdCk7cmV0dXJuIGUubGVuZ3RoPDI/W106ZVtlLmxlbmd0aC0yXS5jaGlsZHJlbi5tYXAodD0+dC52YWx1ZSkuZmlsdGVyKGU9PmUhPT10KX1wYXRoRnJvbVJvb3QodCl7cmV0dXJuIElmKHQsdGhpcy5fcm9vdCkubWFwKHQ9PnQudmFsdWUpfX1mdW5jdGlvbiBGZih0LGUpe2lmKHQ9PT1lLnZhbHVlKXJldHVybiBlO2Zvcihjb25zdCBuIG9mIGUuY2hpbGRyZW4pe2NvbnN0IGU9RmYodCxuKTtpZihlKXJldHVybiBlfXJldHVybiBudWxsfWZ1bmN0aW9uIElmKHQsZSl7aWYodD09PWUudmFsdWUpcmV0dXJuW2VdO2Zvcihjb25zdCBuIG9mIGUuY2hpbGRyZW4pe2NvbnN0IHI9SWYodCxuKTtpZihyLmxlbmd0aClyZXR1cm4gci51bnNoaWZ0KGUpLHJ9cmV0dXJuW119Y2xhc3MgT2Z7Y29uc3RydWN0b3IodCxlKXt0aGlzLnZhbHVlPXQsdGhpcy5jaGlsZHJlbj1lfXRvU3RyaW5nKCl7cmV0dXJuYFRyZWVOb2RlKCR7dGhpcy52YWx1ZX0pYH19ZnVuY3Rpb24gUGYodCl7Y29uc3QgZT17fTtyZXR1cm4gdCYmdC5jaGlsZHJlbi5mb3JFYWNoKHQ9PmVbdC52YWx1ZS5vdXRsZXRdPXQpLGV9Y2xhc3MgUmYgZXh0ZW5kcyBrZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuc25hcHNob3Q9ZSxIZih0aGlzLHQpfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMuc25hcHNob3QudG9TdHJpbmcoKX19ZnVuY3Rpb24gTGYodCxlKXtjb25zdCBuPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1uZXcgTWYoW10se30se30sIiIse30sV3AsZSxudWxsLHQucm9vdCwtMSx7fSk7cmV0dXJuIG5ldyBOZigiIixuZXcgT2YobixbXSkpfSh0LGUpLHI9bmV3IFZkKFtuZXcgaGYoIiIse30pXSkscz1uZXcgVmQoe30pLGk9bmV3IFZkKHt9KSxvPW5ldyBWZCh7fSksYT1uZXcgVmQoIiIpLGM9bmV3IEJmKHIscyxvLGEsaSxXcCxlLG4ucm9vdCk7cmV0dXJuIGMuc25hcHNob3Q9bi5yb290LG5ldyBSZihuZXcgT2YoYyxbXSksbil9Y2xhc3MgQmZ7Y29uc3RydWN0b3IodCxlLG4scixzLGksbyxhKXt0aGlzLnVybD10LHRoaXMucGFyYW1zPWUsdGhpcy5xdWVyeVBhcmFtcz1uLHRoaXMuZnJhZ21lbnQ9cix0aGlzLmRhdGE9cyx0aGlzLm91dGxldD1pLHRoaXMuY29tcG9uZW50PW8sdGhpcy5fZnV0dXJlU25hcHNob3Q9YX1nZXQgcm91dGVDb25maWcoKXtyZXR1cm4gdGhpcy5fZnV0dXJlU25hcHNob3Qucm91dGVDb25maWd9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUucm9vdH1nZXQgcGFyZW50KCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnBhcmVudCh0aGlzKX1nZXQgZmlyc3RDaGlsZCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5maXJzdENoaWxkKHRoaXMpfWdldCBjaGlsZHJlbigpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5jaGlsZHJlbih0aGlzKX1nZXQgcGF0aEZyb21Sb290KCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnBhdGhGcm9tUm9vdCh0aGlzKX1nZXQgcGFyYW1NYXAoKXtyZXR1cm4gdGhpcy5fcGFyYW1NYXB8fCh0aGlzLl9wYXJhbU1hcD10aGlzLnBhcmFtcy5waXBlKHgodD0+cXAodCkpKSksdGhpcy5fcGFyYW1NYXB9Z2V0IHF1ZXJ5UGFyYW1NYXAoKXtyZXR1cm4gdGhpcy5fcXVlcnlQYXJhbU1hcHx8KHRoaXMuX3F1ZXJ5UGFyYW1NYXA9dGhpcy5xdWVyeVBhcmFtcy5waXBlKHgodD0+cXAodCkpKSksdGhpcy5fcXVlcnlQYXJhbU1hcH10b1N0cmluZygpe3JldHVybiB0aGlzLnNuYXBzaG90P3RoaXMuc25hcHNob3QudG9TdHJpbmcoKTpgRnV0dXJlKCR7dGhpcy5fZnV0dXJlU25hcHNob3R9KWB9fWZ1bmN0aW9uIGpmKHQsZT0iZW1wdHlPbmx5Iil7Y29uc3Qgbj10LnBhdGhGcm9tUm9vdDtsZXQgcj0wO2lmKCJhbHdheXMiIT09ZSlmb3Iocj1uLmxlbmd0aC0xO3I+PTE7KXtjb25zdCB0PW5bcl0sZT1uW3ItMV07aWYodC5yb3V0ZUNvbmZpZyYmIiI9PT10LnJvdXRlQ29uZmlnLnBhdGgpci0tO2Vsc2V7aWYoZS5jb21wb25lbnQpYnJlYWs7ci0tfX1yZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQucmVkdWNlKCh0LGUpPT4oe3BhcmFtczpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdC5wYXJhbXMpLGUucGFyYW1zKSxkYXRhOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0LmRhdGEpLGUuZGF0YSkscmVzb2x2ZTpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdC5yZXNvbHZlKSxlLl9yZXNvbHZlZERhdGEpfSkse3BhcmFtczp7fSxkYXRhOnt9LHJlc29sdmU6e319KX0obi5zbGljZShyKSl9Y2xhc3MgTWZ7Y29uc3RydWN0b3IodCxlLG4scixzLGksbyxhLGMsbCx1KXt0aGlzLnVybD10LHRoaXMucGFyYW1zPWUsdGhpcy5xdWVyeVBhcmFtcz1uLHRoaXMuZnJhZ21lbnQ9cix0aGlzLmRhdGE9cyx0aGlzLm91dGxldD1pLHRoaXMuY29tcG9uZW50PW8sdGhpcy5yb3V0ZUNvbmZpZz1hLHRoaXMuX3VybFNlZ21lbnQ9Yyx0aGlzLl9sYXN0UGF0aEluZGV4PWwsdGhpcy5fcmVzb2x2ZT11fWdldCByb290KCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnJvb3R9Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXJlbnQodGhpcyl9Z2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuZmlyc3RDaGlsZCh0aGlzKX1nZXQgY2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuY2hpbGRyZW4odGhpcyl9Z2V0IHBhdGhGcm9tUm9vdCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXRoRnJvbVJvb3QodGhpcyl9Z2V0IHBhcmFtTWFwKCl7cmV0dXJuIHRoaXMuX3BhcmFtTWFwfHwodGhpcy5fcGFyYW1NYXA9cXAodGhpcy5wYXJhbXMpKSx0aGlzLl9wYXJhbU1hcH1nZXQgcXVlcnlQYXJhbU1hcCgpe3JldHVybiB0aGlzLl9xdWVyeVBhcmFtTWFwfHwodGhpcy5fcXVlcnlQYXJhbU1hcD1xcCh0aGlzLnF1ZXJ5UGFyYW1zKSksdGhpcy5fcXVlcnlQYXJhbU1hcH10b1N0cmluZygpe3JldHVybmBSb3V0ZSh1cmw6JyR7dGhpcy51cmwubWFwKHQ9PnQudG9TdHJpbmcoKSkuam9pbigiLyIpfScsIHBhdGg6JyR7dGhpcy5yb3V0ZUNvbmZpZz90aGlzLnJvdXRlQ29uZmlnLnBhdGg6IiJ9JylgfX1jbGFzcyBOZiBleHRlbmRzIGtme2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoZSksdGhpcy51cmw9dCxIZih0aGlzLGUpfXRvU3RyaW5nKCl7cmV0dXJuIFZmKHRoaXMuX3Jvb3QpfX1mdW5jdGlvbiBIZih0LGUpe2UudmFsdWUuX3JvdXRlclN0YXRlPXQsZS5jaGlsZHJlbi5mb3JFYWNoKGU9PkhmKHQsZSkpfWZ1bmN0aW9uIFZmKHQpe2NvbnN0IGU9dC5jaGlsZHJlbi5sZW5ndGg+MD9gIHsgJHt0LmNoaWxkcmVuLm1hcChWZikuam9pbigiLCAiKX0gfSBgOiIiO3JldHVybmAke3QudmFsdWV9JHtlfWB9ZnVuY3Rpb24gemYodCl7aWYodC5zbmFwc2hvdCl7Y29uc3QgZT10LnNuYXBzaG90LG49dC5fZnV0dXJlU25hcHNob3Q7dC5zbmFwc2hvdD1uLFpwKGUucXVlcnlQYXJhbXMsbi5xdWVyeVBhcmFtcyl8fHQucXVlcnlQYXJhbXMubmV4dChuLnF1ZXJ5UGFyYW1zKSxlLmZyYWdtZW50IT09bi5mcmFnbWVudCYmdC5mcmFnbWVudC5uZXh0KG4uZnJhZ21lbnQpLFpwKGUucGFyYW1zLG4ucGFyYW1zKXx8dC5wYXJhbXMubmV4dChuLnBhcmFtcyksZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7KytuKWlmKCFacCh0W25dLGVbbl0pKXJldHVybiExO3JldHVybiEwfShlLnVybCxuLnVybCl8fHQudXJsLm5leHQobi51cmwpLFpwKGUuZGF0YSxuLmRhdGEpfHx0LmRhdGEubmV4dChuLmRhdGEpfWVsc2UgdC5zbmFwc2hvdD10Ll9mdXR1cmVTbmFwc2hvdCx0LmRhdGEubmV4dCh0Ll9mdXR1cmVTbmFwc2hvdC5kYXRhKX1mdW5jdGlvbiAkZih0LGUpe3ZhciBuLHI7cmV0dXJuIFpwKHQucGFyYW1zLGUucGFyYW1zKSYmZGYobj10LnVybCxyPWUudXJsKSYmbi5ldmVyeSgodCxlKT0+WnAodC5wYXJhbWV0ZXJzLHJbZV0ucGFyYW1ldGVycykpJiYhKCF0LnBhcmVudCE9IWUucGFyZW50KSYmKCF0LnBhcmVudHx8JGYodC5wYXJlbnQsZS5wYXJlbnQpKX1mdW5jdGlvbiBVZih0LGUsbil7aWYobiYmdC5zaG91bGRSZXVzZVJvdXRlKGUudmFsdWUsbi52YWx1ZS5zbmFwc2hvdCkpe2NvbnN0IHI9bi52YWx1ZTtyLl9mdXR1cmVTbmFwc2hvdD1lLnZhbHVlO2NvbnN0IHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlLmNoaWxkcmVuLm1hcChlPT57Zm9yKGNvbnN0IHIgb2Ygbi5jaGlsZHJlbilpZih0LnNob3VsZFJldXNlUm91dGUoZS52YWx1ZSxyLnZhbHVlLnNuYXBzaG90KSlyZXR1cm4gVWYodCxlLHIpO3JldHVybiBVZih0LGUpfSl9KHQsZSxuKTtyZXR1cm4gbmV3IE9mKHIscyl9e2lmKHQuc2hvdWxkQXR0YWNoKGUudmFsdWUpKXtjb25zdCBuPXQucmV0cmlldmUoZS52YWx1ZSk7aWYobnVsbCE9PW4pe2NvbnN0IHQ9bi5yb3V0ZTtyZXR1cm4gV2YoZSx0KSx0fX1jb25zdCBuPW5ldyBCZihuZXcgVmQoKHI9ZS52YWx1ZSkudXJsKSxuZXcgVmQoci5wYXJhbXMpLG5ldyBWZChyLnF1ZXJ5UGFyYW1zKSxuZXcgVmQoci5mcmFnbWVudCksbmV3IFZkKHIuZGF0YSksci5vdXRsZXQsci5jb21wb25lbnQscikscz1lLmNoaWxkcmVuLm1hcChlPT5VZih0LGUpKTtyZXR1cm4gbmV3IE9mKG4scyl9dmFyIHJ9ZnVuY3Rpb24gV2YodCxlKXtpZih0LnZhbHVlLnJvdXRlQ29uZmlnIT09ZS52YWx1ZS5yb3V0ZUNvbmZpZyl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCByZWF0dGFjaCBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90IGNyZWF0ZWQgZnJvbSBhIGRpZmZlcmVudCByb3V0ZSIpO2lmKHQuY2hpbGRyZW4ubGVuZ3RoIT09ZS5jaGlsZHJlbi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgcmVhdHRhY2ggQWN0aXZhdGVkUm91dGVTbmFwc2hvdCB3aXRoIGEgZGlmZmVyZW50IG51bWJlciBvZiBjaGlsZHJlbiIpO2UudmFsdWUuX2Z1dHVyZVNuYXBzaG90PXQudmFsdWU7Zm9yKGxldCBuPTA7bjx0LmNoaWxkcmVuLmxlbmd0aDsrK24pV2YodC5jaGlsZHJlbltuXSxlLmNoaWxkcmVuW25dKX1mdW5jdGlvbiBHZih0KXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIHQmJm51bGwhPXQmJiF0Lm91dGxldHMmJiF0LnNlZ21lbnRQYXRofWZ1bmN0aW9uIHFmKHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9dCYmdC5vdXRsZXRzfWZ1bmN0aW9uIFhmKHQsZSxuLHIscyl7bGV0IGk9e307cmV0dXJuIHImJnRmKHIsKHQsZSk9PntpW2VdPUFycmF5LmlzQXJyYXkodCk/dC5tYXAodD0+YCR7dH1gKTpgJHt0fWB9KSxuZXcgbGYobi5yb290PT09dD9lOllmKG4ucm9vdCx0LGUpLGkscyl9ZnVuY3Rpb24gWWYodCxlLG4pe2NvbnN0IHI9e307cmV0dXJuIHRmKHQuY2hpbGRyZW4sKHQscyk9PntyW3NdPXQ9PT1lP246WWYodCxlLG4pfSksbmV3IHVmKHQuc2VnbWVudHMscil9Y2xhc3MgWmZ7Y29uc3RydWN0b3IodCxlLG4pe2lmKHRoaXMuaXNBYnNvbHV0ZT10LHRoaXMubnVtYmVyT2ZEb3VibGVEb3RzPWUsdGhpcy5jb21tYW5kcz1uLHQmJm4ubGVuZ3RoPjAmJkdmKG5bMF0pKXRocm93IG5ldyBFcnJvcigiUm9vdCBzZWdtZW50IGNhbm5vdCBoYXZlIG1hdHJpeCBwYXJhbWV0ZXJzIik7Y29uc3Qgcj1uLmZpbmQocWYpO2lmKHImJnIhPT1KcChuKSl0aHJvdyBuZXcgRXJyb3IoIntvdXRsZXRzOnt9fSBoYXMgdG8gYmUgdGhlIGxhc3QgY29tbWFuZCIpfXRvUm9vdCgpe3JldHVybiB0aGlzLmlzQWJzb2x1dGUmJjE9PT10aGlzLmNvbW1hbmRzLmxlbmd0aCYmIi8iPT10aGlzLmNvbW1hbmRzWzBdfX1jbGFzcyBRZntjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5zZWdtZW50R3JvdXA9dCx0aGlzLnByb2Nlc3NDaGlsZHJlbj1lLHRoaXMuaW5kZXg9bn19ZnVuY3Rpb24gS2YodCxlLG4pe2lmKHR8fCh0PW5ldyB1ZihbXSx7fSkpLDA9PT10LnNlZ21lbnRzLmxlbmd0aCYmdC5oYXNDaGlsZHJlbigpKXJldHVybiBKZih0LGUsbik7Y29uc3Qgcj1mdW5jdGlvbih0LGUsbil7bGV0IHI9MCxzPWU7Y29uc3QgaT17bWF0Y2g6ITEscGF0aEluZGV4OjAsY29tbWFuZEluZGV4OjB9O2Zvcig7czx0LnNlZ21lbnRzLmxlbmd0aDspe2lmKHI+PW4ubGVuZ3RoKXJldHVybiBpO2NvbnN0IGU9dC5zZWdtZW50c1tzXSxvPW5bcl07aWYocWYobykpYnJlYWs7Y29uc3QgYT1gJHtvfWAsYz1yPG4ubGVuZ3RoLTE/bltyKzFdOm51bGw7aWYocz4wJiZ2b2lkIDA9PT1hKWJyZWFrO2lmKGEmJmMmJiJvYmplY3QiPT10eXBlb2YgYyYmdm9pZCAwPT09Yy5vdXRsZXRzKXtpZighcmcoYSxjLGUpKXJldHVybiBpO3IrPTJ9ZWxzZXtpZighcmcoYSx7fSxlKSlyZXR1cm4gaTtyKyt9cysrfXJldHVybnttYXRjaDohMCxwYXRoSW5kZXg6cyxjb21tYW5kSW5kZXg6cn19KHQsZSxuKSxzPW4uc2xpY2Uoci5jb21tYW5kSW5kZXgpO2lmKHIubWF0Y2gmJnIucGF0aEluZGV4PHQuc2VnbWVudHMubGVuZ3RoKXtjb25zdCBlPW5ldyB1Zih0LnNlZ21lbnRzLnNsaWNlKDAsci5wYXRoSW5kZXgpLHt9KTtyZXR1cm4gZS5jaGlsZHJlbi5wcmltYXJ5PW5ldyB1Zih0LnNlZ21lbnRzLnNsaWNlKHIucGF0aEluZGV4KSx0LmNoaWxkcmVuKSxKZihlLDAscyl9cmV0dXJuIHIubWF0Y2gmJjA9PT1zLmxlbmd0aD9uZXcgdWYodC5zZWdtZW50cyx7fSk6ci5tYXRjaCYmIXQuaGFzQ2hpbGRyZW4oKT90Zyh0LGUsbik6ci5tYXRjaD9KZih0LDAscyk6dGcodCxlLG4pfWZ1bmN0aW9uIEpmKHQsZSxuKXtpZigwPT09bi5sZW5ndGgpcmV0dXJuIG5ldyB1Zih0LnNlZ21lbnRzLHt9KTt7Y29uc3Qgcj1mdW5jdGlvbih0KXtyZXR1cm4gcWYodFswXSk/dFswXS5vdXRsZXRzOntbV3BdOnR9fShuKSxzPXt9O3JldHVybiB0ZihyLChuLHIpPT57InN0cmluZyI9PXR5cGVvZiBuJiYobj1bbl0pLG51bGwhPT1uJiYoc1tyXT1LZih0LmNoaWxkcmVuW3JdLGUsbikpfSksdGYodC5jaGlsZHJlbiwodCxlKT0+e3ZvaWQgMD09PXJbZV0mJihzW2VdPXQpfSksbmV3IHVmKHQuc2VnbWVudHMscyl9fWZ1bmN0aW9uIHRnKHQsZSxuKXtjb25zdCByPXQuc2VnbWVudHMuc2xpY2UoMCxlKTtsZXQgcz0wO2Zvcig7czxuLmxlbmd0aDspe2NvbnN0IGk9bltzXTtpZihxZihpKSl7Y29uc3QgdD1lZyhpLm91dGxldHMpO3JldHVybiBuZXcgdWYocix0KX1pZigwPT09cyYmR2YoblswXSkpe3IucHVzaChuZXcgaGYodC5zZWdtZW50c1tlXS5wYXRoLG5nKG5bMF0pKSkscysrO2NvbnRpbnVlfWNvbnN0IG89cWYoaSk/aS5vdXRsZXRzLnByaW1hcnk6YCR7aX1gLGE9czxuLmxlbmd0aC0xP25bcysxXTpudWxsO28mJmEmJkdmKGEpPyhyLnB1c2gobmV3IGhmKG8sbmcoYSkpKSxzKz0yKTooci5wdXNoKG5ldyBoZihvLHt9KSkscysrKX1yZXR1cm4gbmV3IHVmKHIse30pfWZ1bmN0aW9uIGVnKHQpe2NvbnN0IGU9e307cmV0dXJuIHRmKHQsKHQsbik9Pnsic3RyaW5nIj09dHlwZW9mIHQmJih0PVt0XSksbnVsbCE9PXQmJihlW25dPXRnKG5ldyB1ZihbXSx7fSksMCx0KSl9KSxlfWZ1bmN0aW9uIG5nKHQpe2NvbnN0IGU9e307cmV0dXJuIHRmKHQsKHQsbik9PmVbbl09YCR7dH1gKSxlfWZ1bmN0aW9uIHJnKHQsZSxuKXtyZXR1cm4gdD09bi5wYXRoJiZacChlLG4ucGFyYW1ldGVycyl9Y2xhc3Mgc2d7Y29uc3RydWN0b3IodCxlLG4scil7dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3k9dCx0aGlzLmZ1dHVyZVN0YXRlPWUsdGhpcy5jdXJyU3RhdGU9bix0aGlzLmZvcndhcmRFdmVudD1yfWFjdGl2YXRlKHQpe2NvbnN0IGU9dGhpcy5mdXR1cmVTdGF0ZS5fcm9vdCxuPXRoaXMuY3VyclN0YXRlP3RoaXMuY3VyclN0YXRlLl9yb290Om51bGw7dGhpcy5kZWFjdGl2YXRlQ2hpbGRSb3V0ZXMoZSxuLHQpLHpmKHRoaXMuZnV0dXJlU3RhdGUucm9vdCksdGhpcy5hY3RpdmF0ZUNoaWxkUm91dGVzKGUsbix0KX1kZWFjdGl2YXRlQ2hpbGRSb3V0ZXModCxlLG4pe2NvbnN0IHI9UGYoZSk7dC5jaGlsZHJlbi5mb3JFYWNoKHQ9Pntjb25zdCBlPXQudmFsdWUub3V0bGV0O3RoaXMuZGVhY3RpdmF0ZVJvdXRlcyh0LHJbZV0sbiksZGVsZXRlIHJbZV19KSx0ZihyLCh0LGUpPT57dGhpcy5kZWFjdGl2YXRlUm91dGVBbmRJdHNDaGlsZHJlbih0LG4pfSl9ZGVhY3RpdmF0ZVJvdXRlcyh0LGUsbil7Y29uc3Qgcj10LnZhbHVlLHM9ZT9lLnZhbHVlOm51bGw7aWYocj09PXMpaWYoci5jb21wb25lbnQpe2NvbnN0IHM9bi5nZXRDb250ZXh0KHIub3V0bGV0KTtzJiZ0aGlzLmRlYWN0aXZhdGVDaGlsZFJvdXRlcyh0LGUscy5jaGlsZHJlbil9ZWxzZSB0aGlzLmRlYWN0aXZhdGVDaGlsZFJvdXRlcyh0LGUsbik7ZWxzZSBzJiZ0aGlzLmRlYWN0aXZhdGVSb3V0ZUFuZEl0c0NoaWxkcmVuKGUsbil9ZGVhY3RpdmF0ZVJvdXRlQW5kSXRzQ2hpbGRyZW4odCxlKXt0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5zaG91bGREZXRhY2godC52YWx1ZS5zbmFwc2hvdCk/dGhpcy5kZXRhY2hBbmRTdG9yZVJvdXRlU3VidHJlZSh0LGUpOnRoaXMuZGVhY3RpdmF0ZVJvdXRlQW5kT3V0bGV0KHQsZSl9ZGV0YWNoQW5kU3RvcmVSb3V0ZVN1YnRyZWUodCxlKXtjb25zdCBuPWUuZ2V0Q29udGV4dCh0LnZhbHVlLm91dGxldCk7aWYobiYmbi5vdXRsZXQpe2NvbnN0IGU9bi5vdXRsZXQuZGV0YWNoKCkscj1uLmNoaWxkcmVuLm9uT3V0bGV0RGVhY3RpdmF0ZWQoKTt0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5zdG9yZSh0LnZhbHVlLnNuYXBzaG90LHtjb21wb25lbnRSZWY6ZSxyb3V0ZTp0LGNvbnRleHRzOnJ9KX19ZGVhY3RpdmF0ZVJvdXRlQW5kT3V0bGV0KHQsZSl7Y29uc3Qgbj1lLmdldENvbnRleHQodC52YWx1ZS5vdXRsZXQpLHI9biYmdC52YWx1ZS5jb21wb25lbnQ/bi5jaGlsZHJlbjplLHM9UGYodCk7Zm9yKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMocykpdGhpcy5kZWFjdGl2YXRlUm91dGVBbmRJdHNDaGlsZHJlbihzW2ldLHIpO24mJm4ub3V0bGV0JiYobi5vdXRsZXQuZGVhY3RpdmF0ZSgpLG4uY2hpbGRyZW4ub25PdXRsZXREZWFjdGl2YXRlZCgpLG4uYXR0YWNoUmVmPW51bGwsbi5yZXNvbHZlcj1udWxsLG4ucm91dGU9bnVsbCl9YWN0aXZhdGVDaGlsZFJvdXRlcyh0LGUsbil7Y29uc3Qgcj1QZihlKTt0LmNoaWxkcmVuLmZvckVhY2godD0+e3RoaXMuYWN0aXZhdGVSb3V0ZXModCxyW3QudmFsdWUub3V0bGV0XSxuKSx0aGlzLmZvcndhcmRFdmVudChuZXcgJHAodC52YWx1ZS5zbmFwc2hvdCkpfSksdC5jaGlsZHJlbi5sZW5ndGgmJnRoaXMuZm9yd2FyZEV2ZW50KG5ldyBWcCh0LnZhbHVlLnNuYXBzaG90KSl9YWN0aXZhdGVSb3V0ZXModCxlLG4pe2NvbnN0IHI9dC52YWx1ZSxzPWU/ZS52YWx1ZTpudWxsO2lmKHpmKHIpLHI9PT1zKWlmKHIuY29tcG9uZW50KXtjb25zdCBzPW4uZ2V0T3JDcmVhdGVDb250ZXh0KHIub3V0bGV0KTt0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXModCxlLHMuY2hpbGRyZW4pfWVsc2UgdGhpcy5hY3RpdmF0ZUNoaWxkUm91dGVzKHQsZSxuKTtlbHNlIGlmKHIuY29tcG9uZW50KXtjb25zdCBlPW4uZ2V0T3JDcmVhdGVDb250ZXh0KHIub3V0bGV0KTtpZih0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5zaG91bGRBdHRhY2goci5zbmFwc2hvdCkpe2NvbnN0IHQ9dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kucmV0cmlldmUoci5zbmFwc2hvdCk7dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuc3RvcmUoci5zbmFwc2hvdCxudWxsKSxlLmNoaWxkcmVuLm9uT3V0bGV0UmVBdHRhY2hlZCh0LmNvbnRleHRzKSxlLmF0dGFjaFJlZj10LmNvbXBvbmVudFJlZixlLnJvdXRlPXQucm91dGUudmFsdWUsZS5vdXRsZXQmJmUub3V0bGV0LmF0dGFjaCh0LmNvbXBvbmVudFJlZix0LnJvdXRlLnZhbHVlKSxpZyh0LnJvdXRlKX1lbHNle2NvbnN0IG49ZnVuY3Rpb24odCl7Zm9yKGxldCBlPXQucGFyZW50O2U7ZT1lLnBhcmVudCl7Y29uc3QgdD1lLnJvdXRlQ29uZmlnO2lmKHQmJnQuX2xvYWRlZENvbmZpZylyZXR1cm4gdC5fbG9hZGVkQ29uZmlnO2lmKHQmJnQuY29tcG9uZW50KXJldHVybiBudWxsfXJldHVybiBudWxsfShyLnNuYXBzaG90KSxzPW4/bi5tb2R1bGUuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyOm51bGw7ZS5hdHRhY2hSZWY9bnVsbCxlLnJvdXRlPXIsZS5yZXNvbHZlcj1zLGUub3V0bGV0JiZlLm91dGxldC5hY3RpdmF0ZVdpdGgocixzKSx0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXModCxudWxsLGUuY2hpbGRyZW4pfX1lbHNlIHRoaXMuYWN0aXZhdGVDaGlsZFJvdXRlcyh0LG51bGwsbil9fWZ1bmN0aW9uIGlnKHQpe3pmKHQudmFsdWUpLHQuY2hpbGRyZW4uZm9yRWFjaChpZyl9Y2xhc3Mgb2d7Y29uc3RydWN0b3IodCxlKXt0aGlzLnJvdXRlcz10LHRoaXMubW9kdWxlPWV9fWZ1bmN0aW9uIGFnKHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0fWZ1bmN0aW9uIGNnKHQpe3JldHVybiB0IGluc3RhbmNlb2YgbGZ9Y29uc3QgbGc9U3ltYm9sKCJJTklUSUFMX1ZBTFVFIik7ZnVuY3Rpb24gdWcoKXtyZXR1cm4gRGQodD0+ZnVuY3Rpb24oLi4udCl7bGV0IGUsbjtyZXR1cm4gUyh0W3QubGVuZ3RoLTFdKSYmKG49dC5wb3AoKSksImZ1bmN0aW9uIj09dHlwZW9mIHRbdC5sZW5ndGgtMV0mJihlPXQucG9wKCkpLDE9PT10Lmxlbmd0aCYmYyh0WzBdKSYmKHQ9dFswXSksVSh0LG4pLmxpZnQobmV3IEdkKGUpKX0odC5tYXAodD0+dC5waXBlKEtkKDEpLGZ1bmN0aW9uKC4uLnQpe2NvbnN0IGU9dFt0Lmxlbmd0aC0xXTtyZXR1cm4gUyhlKT8odC5wb3AoKSxuPT5ZZCh0LG4sZSkpOmU9PllkKHQsZSl9KGxnKSkpKS5waXBlKGVwKCh0LGUpPT57bGV0IG49ITE7cmV0dXJuIGUucmVkdWNlKCh0LHIscyk9PntpZih0IT09bGcpcmV0dXJuIHQ7aWYocj09PWxnJiYobj0hMCksIW4pe2lmKCExPT09cilyZXR1cm4gcjtpZihzPT09ZS5sZW5ndGgtMXx8Y2cocikpcmV0dXJuIHJ9cmV0dXJuIHR9LHQpfSxsZyksc3AodD0+dCE9PWxnKSx4KHQ9PmNnKHQpP3Q6ITA9PT10KSxLZCgxKSkpfWxldCBoZz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1sibmctY29tcG9uZW50Il1dLGRlY2xzOjEsdmFyczowLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiZEbygwLCJyb3V0ZXItb3V0bGV0Iil9LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5baW1dfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKTtmdW5jdGlvbiBkZyh0LGU9IiIpe2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCByPXRbbl07cGcocixmZyhlLHIpKX19ZnVuY3Rpb24gcGcodCxlKXt0LmNoaWxkcmVuJiZkZyh0LmNoaWxkcmVuLGUpfWZ1bmN0aW9uIGZnKHQsZSl7cmV0dXJuIGU/dHx8ZS5wYXRoP3QmJiFlLnBhdGg/YCR7dH0vYDohdCYmZS5wYXRoP2UucGF0aDpgJHt0fS8ke2UucGF0aH1gOiIiOnR9ZnVuY3Rpb24gZ2codCl7Y29uc3QgZT10LmNoaWxkcmVuJiZ0LmNoaWxkcmVuLm1hcChnZyksbj1lP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7Y2hpbGRyZW46ZX0pOk9iamVjdC5hc3NpZ24oe30sdCk7cmV0dXJuIW4uY29tcG9uZW50JiYoZXx8bi5sb2FkQ2hpbGRyZW4pJiZuLm91dGxldCYmbi5vdXRsZXQhPT1XcCYmKG4uY29tcG9uZW50PWhnKSxufWZ1bmN0aW9uIG1nKHQpe3JldHVybiB0Lm91dGxldHx8V3B9ZnVuY3Rpb24geWcodCxlKXtjb25zdCBuPXQuZmlsdGVyKHQ9Pm1nKHQpPT09ZSk7cmV0dXJuIG4ucHVzaCguLi50LmZpbHRlcih0PT5tZyh0KSE9PWUpKSxufWNvbnN0IHZnPXttYXRjaGVkOiExLGNvbnN1bWVkU2VnbWVudHM6W10sbGFzdENoaWxkOjAscGFyYW1ldGVyczp7fSxwb3NpdGlvbmFsUGFyYW1TZWdtZW50czp7fX07ZnVuY3Rpb24gYmcodCxlLG4pe3ZhciByO2lmKCIiPT09ZS5wYXRoKXJldHVybiJmdWxsIj09PWUucGF0aE1hdGNoJiYodC5oYXNDaGlsZHJlbigpfHxuLmxlbmd0aD4wKT9PYmplY3QuYXNzaWduKHt9LHZnKTp7bWF0Y2hlZDohMCxjb25zdW1lZFNlZ21lbnRzOltdLGxhc3RDaGlsZDowLHBhcmFtZXRlcnM6e30scG9zaXRpb25hbFBhcmFtU2VnbWVudHM6e319O2NvbnN0IHM9KGUubWF0Y2hlcnx8WXApKG4sdCxlKTtpZighcylyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSx2Zyk7Y29uc3QgaT17fTt0ZihzLnBvc1BhcmFtcywodCxlKT0+e2lbZV09dC5wYXRofSk7Y29uc3Qgbz1zLmNvbnN1bWVkLmxlbmd0aD4wP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxpKSxzLmNvbnN1bWVkW3MuY29uc3VtZWQubGVuZ3RoLTFdLnBhcmFtZXRlcnMpOmk7cmV0dXJue21hdGNoZWQ6ITAsY29uc3VtZWRTZWdtZW50czpzLmNvbnN1bWVkLGxhc3RDaGlsZDpzLmNvbnN1bWVkLmxlbmd0aCxwYXJhbWV0ZXJzOm8scG9zaXRpb25hbFBhcmFtU2VnbWVudHM6bnVsbCE9PShyPXMucG9zUGFyYW1zKSYmdm9pZCAwIT09cj9yOnt9fX1mdW5jdGlvbiBDZyh0LGUsbixyLHM9ImNvcnJlY3RlZCIpe2lmKG4ubGVuZ3RoPjAmJmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbi5zb21lKG49PndnKHQsZSxuKSYmbWcobikhPT1XcCl9KHQsbixyKSl7Y29uc3Qgcz1uZXcgdWYoZSxmdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPXt9O3MucHJpbWFyeT1yLHIuX3NvdXJjZVNlZ21lbnQ9dCxyLl9zZWdtZW50SW5kZXhTaGlmdD1lLmxlbmd0aDtmb3IoY29uc3QgaSBvZiBuKWlmKCIiPT09aS5wYXRoJiZtZyhpKSE9PVdwKXtjb25zdCBuPW5ldyB1ZihbXSx7fSk7bi5fc291cmNlU2VnbWVudD10LG4uX3NlZ21lbnRJbmRleFNoaWZ0PWUubGVuZ3RoLHNbbWcoaSldPW59cmV0dXJuIHN9KHQsZSxyLG5ldyB1ZihuLHQuY2hpbGRyZW4pKSk7cmV0dXJuIHMuX3NvdXJjZVNlZ21lbnQ9dCxzLl9zZWdtZW50SW5kZXhTaGlmdD1lLmxlbmd0aCx7c2VnbWVudEdyb3VwOnMsc2xpY2VkU2VnbWVudHM6W119fWlmKDA9PT1uLmxlbmd0aCYmZnVuY3Rpb24odCxlLG4pe3JldHVybiBuLnNvbWUobj0+d2codCxlLG4pKX0odCxuLHIpKXtjb25zdCBpPW5ldyB1Zih0LnNlZ21lbnRzLGZ1bmN0aW9uKHQsZSxuLHIscyxpKXtjb25zdCBvPXt9O2Zvcihjb25zdCBhIG9mIHIpaWYod2codCxuLGEpJiYhc1ttZyhhKV0pe2NvbnN0IG49bmV3IHVmKFtdLHt9KTtuLl9zb3VyY2VTZWdtZW50PXQsbi5fc2VnbWVudEluZGV4U2hpZnQ9ImxlZ2FjeSI9PT1pP3Quc2VnbWVudHMubGVuZ3RoOmUubGVuZ3RoLG9bbWcoYSldPW59cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxzKSxvKX0odCxlLG4scix0LmNoaWxkcmVuLHMpKTtyZXR1cm4gaS5fc291cmNlU2VnbWVudD10LGkuX3NlZ21lbnRJbmRleFNoaWZ0PWUubGVuZ3RoLHtzZWdtZW50R3JvdXA6aSxzbGljZWRTZWdtZW50czpufX1jb25zdCBpPW5ldyB1Zih0LnNlZ21lbnRzLHQuY2hpbGRyZW4pO3JldHVybiBpLl9zb3VyY2VTZWdtZW50PXQsaS5fc2VnbWVudEluZGV4U2hpZnQ9ZS5sZW5ndGgse3NlZ21lbnRHcm91cDppLHNsaWNlZFNlZ21lbnRzOm59fWZ1bmN0aW9uIHdnKHQsZSxuKXtyZXR1cm4oISh0Lmhhc0NoaWxkcmVuKCl8fGUubGVuZ3RoPjApfHwiZnVsbCIhPT1uLnBhdGhNYXRjaCkmJiIiPT09bi5wYXRofWZ1bmN0aW9uIF9nKHQsZSxuLHIpe3JldHVybiEhKG1nKHQpPT09cnx8ciE9PVdwJiZ3ZyhlLG4sdCkpJiYoIioqIj09PXQucGF0aHx8YmcoZSx0LG4pLm1hdGNoZWQpfWZ1bmN0aW9uIERnKHQsZSxuKXtyZXR1cm4gMD09PWUubGVuZ3RoJiYhdC5jaGlsZHJlbltuXX1jbGFzcyBFZ3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnNlZ21lbnRHcm91cD10fHxudWxsfX1jbGFzcyBTZ3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnVybFRyZWU9dH19ZnVuY3Rpb24geGcodCl7cmV0dXJuIG5ldyB2KGU9PmUuZXJyb3IobmV3IEVnKHQpKSl9ZnVuY3Rpb24gQWcodCl7cmV0dXJuIG5ldyB2KGU9PmUuZXJyb3IobmV3IFNnKHQpKSl9ZnVuY3Rpb24gVGcodCl7cmV0dXJuIG5ldyB2KGU9PmUuZXJyb3IobmV3IEVycm9yKGBPbmx5IGFic29sdXRlIHJlZGlyZWN0cyBjYW4gaGF2ZSBuYW1lZCBvdXRsZXRzLiByZWRpcmVjdFRvOiAnJHt0fSdgKSkpfWNsYXNzIGtne2NvbnN0cnVjdG9yKHQsZSxuLHIscyl7dGhpcy5jb25maWdMb2FkZXI9ZSx0aGlzLnVybFNlcmlhbGl6ZXI9bix0aGlzLnVybFRyZWU9cix0aGlzLmNvbmZpZz1zLHRoaXMuYWxsb3dSZWRpcmVjdHM9ITAsdGhpcy5uZ01vZHVsZT10LmdldCh1Yyl9YXBwbHkoKXtjb25zdCB0PUNnKHRoaXMudXJsVHJlZS5yb290LFtdLFtdLHRoaXMuY29uZmlnKS5zZWdtZW50R3JvdXAsZT1uZXcgdWYodC5zZWdtZW50cyx0LmNoaWxkcmVuKTtyZXR1cm4gdGhpcy5leHBhbmRTZWdtZW50R3JvdXAodGhpcy5uZ01vZHVsZSx0aGlzLmNvbmZpZyxlLFdwKS5waXBlKHgodD0+dGhpcy5jcmVhdGVVcmxUcmVlKEZnKHQpLHRoaXMudXJsVHJlZS5xdWVyeVBhcmFtcyx0aGlzLnVybFRyZWUuZnJhZ21lbnQpKSkucGlwZShhcCh0PT57aWYodCBpbnN0YW5jZW9mIFNnKXJldHVybiB0aGlzLmFsbG93UmVkaXJlY3RzPSExLHRoaXMubWF0Y2godC51cmxUcmVlKTtpZih0IGluc3RhbmNlb2YgRWcpdGhyb3cgdGhpcy5ub01hdGNoRXJyb3IodCk7dGhyb3cgdH0pKX1tYXRjaCh0KXtyZXR1cm4gdGhpcy5leHBhbmRTZWdtZW50R3JvdXAodGhpcy5uZ01vZHVsZSx0aGlzLmNvbmZpZyx0LnJvb3QsV3ApLnBpcGUoeChlPT50aGlzLmNyZWF0ZVVybFRyZWUoRmcoZSksdC5xdWVyeVBhcmFtcyx0LmZyYWdtZW50KSkpLnBpcGUoYXAodD0+e2lmKHQgaW5zdGFuY2VvZiBFZyl0aHJvdyB0aGlzLm5vTWF0Y2hFcnJvcih0KTt0aHJvdyB0fSkpfW5vTWF0Y2hFcnJvcih0KXtyZXR1cm4gbmV3IEVycm9yKGBDYW5ub3QgbWF0Y2ggYW55IHJvdXRlcy4gVVJMIFNlZ21lbnQ6ICcke3Quc2VnbWVudEdyb3VwfSdgKX1jcmVhdGVVcmxUcmVlKHQsZSxuKXtjb25zdCByPXQuc2VnbWVudHMubGVuZ3RoPjA/bmV3IHVmKFtdLHtbV3BdOnR9KTp0O3JldHVybiBuZXcgbGYocixlLG4pfWV4cGFuZFNlZ21lbnRHcm91cCh0LGUsbixyKXtyZXR1cm4gMD09PW4uc2VnbWVudHMubGVuZ3RoJiZuLmhhc0NoaWxkcmVuKCk/dGhpcy5leHBhbmRDaGlsZHJlbih0LGUsbikucGlwZSh4KHQ9Pm5ldyB1ZihbXSx0KSkpOnRoaXMuZXhwYW5kU2VnbWVudCh0LG4sZSxuLnNlZ21lbnRzLHIsITApfWV4cGFuZENoaWxkcmVuKHQsZSxuKXtjb25zdCByPVtdO2Zvcihjb25zdCBzIG9mIE9iamVjdC5rZXlzKG4uY2hpbGRyZW4pKSJwcmltYXJ5Ij09PXM/ci51bnNoaWZ0KHMpOnIucHVzaChzKTtyZXR1cm4gQihyKS5waXBlKHVwKHI9Pntjb25zdCBzPW4uY2hpbGRyZW5bcl0saT15ZyhlLHIpO3JldHVybiB0aGlzLmV4cGFuZFNlZ21lbnRHcm91cCh0LGkscyxyKS5waXBlKHgodD0+KHtzZWdtZW50OnQsb3V0bGV0OnJ9KSkpfSksZXAoKHQsZSk9Pih0W2Uub3V0bGV0XT1lLnNlZ21lbnQsdCkse30pLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1hcmd1bWVudHMubGVuZ3RoPj0yO3JldHVybiByPT5yLnBpcGUodD9zcCgoZSxuKT0+dChlLG4scikpOnksaHAoMSksbj92cChlKTpmcCgoKT0+bmV3IFhkKSl9KCkpfWV4cGFuZFNlZ21lbnQodCxlLG4scixzLGkpe3JldHVybiBCKG4pLnBpcGUodXAobz0+dGhpcy5leHBhbmRTZWdtZW50QWdhaW5zdFJvdXRlKHQsZSxuLG8scixzLGkpLnBpcGUoYXAodD0+e2lmKHQgaW5zdGFuY2VvZiBFZylyZXR1cm4gZ2QobnVsbCk7dGhyb3cgdH0pKSksd3AodD0+ISF0KSxhcCgodCxuKT0+e2lmKHQgaW5zdGFuY2VvZiBYZHx8IkVtcHR5RXJyb3IiPT09dC5uYW1lKXtpZihEZyhlLHIscykpcmV0dXJuIGdkKG5ldyB1ZihbXSx7fSkpO3Rocm93IG5ldyBFZyhlKX10aHJvdyB0fSkpfWV4cGFuZFNlZ21lbnRBZ2FpbnN0Um91dGUodCxlLG4scixzLGksbyl7cmV0dXJuIF9nKHIsZSxzLGkpP3ZvaWQgMD09PXIucmVkaXJlY3RUbz90aGlzLm1hdGNoU2VnbWVudEFnYWluc3RSb3V0ZSh0LGUscixzLGkpOm8mJnRoaXMuYWxsb3dSZWRpcmVjdHM/dGhpcy5leHBhbmRTZWdtZW50QWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdCh0LGUsbixyLHMsaSk6eGcoZSk6eGcoZSl9ZXhwYW5kU2VnbWVudEFnYWluc3RSb3V0ZVVzaW5nUmVkaXJlY3QodCxlLG4scixzLGkpe3JldHVybiIqKiI9PT1yLnBhdGg/dGhpcy5leHBhbmRXaWxkQ2FyZFdpdGhQYXJhbXNBZ2FpbnN0Um91dGVVc2luZ1JlZGlyZWN0KHQsbixyLGkpOnRoaXMuZXhwYW5kUmVndWxhclNlZ21lbnRBZ2FpbnN0Um91dGVVc2luZ1JlZGlyZWN0KHQsZSxuLHIscyxpKX1leHBhbmRXaWxkQ2FyZFdpdGhQYXJhbXNBZ2FpbnN0Um91dGVVc2luZ1JlZGlyZWN0KHQsZSxuLHIpe2NvbnN0IHM9dGhpcy5hcHBseVJlZGlyZWN0Q29tbWFuZHMoW10sbi5yZWRpcmVjdFRvLHt9KTtyZXR1cm4gbi5yZWRpcmVjdFRvLnN0YXJ0c1dpdGgoIi8iKT9BZyhzKTp0aGlzLmxpbmVyYWxpemVTZWdtZW50cyhuLHMpLnBpcGUoSChuPT57Y29uc3Qgcz1uZXcgdWYobix7fSk7cmV0dXJuIHRoaXMuZXhwYW5kU2VnbWVudCh0LHMsZSxuLHIsITEpfSkpfWV4cGFuZFJlZ3VsYXJTZWdtZW50QWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdCh0LGUsbixyLHMsaSl7Y29uc3R7bWF0Y2hlZDpvLGNvbnN1bWVkU2VnbWVudHM6YSxsYXN0Q2hpbGQ6Yyxwb3NpdGlvbmFsUGFyYW1TZWdtZW50czpsfT1iZyhlLHIscyk7aWYoIW8pcmV0dXJuIHhnKGUpO2NvbnN0IHU9dGhpcy5hcHBseVJlZGlyZWN0Q29tbWFuZHMoYSxyLnJlZGlyZWN0VG8sbCk7cmV0dXJuIHIucmVkaXJlY3RUby5zdGFydHNXaXRoKCIvIik/QWcodSk6dGhpcy5saW5lcmFsaXplU2VnbWVudHMocix1KS5waXBlKEgocj0+dGhpcy5leHBhbmRTZWdtZW50KHQsZSxuLHIuY29uY2F0KHMuc2xpY2UoYykpLGksITEpKSl9bWF0Y2hTZWdtZW50QWdhaW5zdFJvdXRlKHQsZSxuLHIscyl7aWYoIioqIj09PW4ucGF0aClyZXR1cm4gbi5sb2FkQ2hpbGRyZW4/KG4uX2xvYWRlZENvbmZpZz9nZChuLl9sb2FkZWRDb25maWcpOnRoaXMuY29uZmlnTG9hZGVyLmxvYWQodC5pbmplY3RvcixuKSkucGlwZSh4KHQ9PihuLl9sb2FkZWRDb25maWc9dCxuZXcgdWYocix7fSkpKSk6Z2QobmV3IHVmKHIse30pKTtjb25zdHttYXRjaGVkOmksY29uc3VtZWRTZWdtZW50czpvLGxhc3RDaGlsZDphfT1iZyhlLG4scik7aWYoIWkpcmV0dXJuIHhnKGUpO2NvbnN0IGM9ci5zbGljZShhKTtyZXR1cm4gdGhpcy5nZXRDaGlsZENvbmZpZyh0LG4scikucGlwZShIKHQ9Pntjb25zdCByPXQubW9kdWxlLGk9dC5yb3V0ZXMse3NlZ21lbnRHcm91cDphLHNsaWNlZFNlZ21lbnRzOmx9PUNnKGUsbyxjLGkpLHU9bmV3IHVmKGEuc2VnbWVudHMsYS5jaGlsZHJlbik7aWYoMD09PWwubGVuZ3RoJiZ1Lmhhc0NoaWxkcmVuKCkpcmV0dXJuIHRoaXMuZXhwYW5kQ2hpbGRyZW4ocixpLHUpLnBpcGUoeCh0PT5uZXcgdWYobyx0KSkpO2lmKDA9PT1pLmxlbmd0aCYmMD09PWwubGVuZ3RoKXJldHVybiBnZChuZXcgdWYobyx7fSkpO2NvbnN0IGg9bWcobik9PT1zO3JldHVybiB0aGlzLmV4cGFuZFNlZ21lbnQocix1LGksbCxoP1dwOnMsITApLnBpcGUoeCh0PT5uZXcgdWYoby5jb25jYXQodC5zZWdtZW50cyksdC5jaGlsZHJlbikpKX0pKX1nZXRDaGlsZENvbmZpZyh0LGUsbil7cmV0dXJuIGUuY2hpbGRyZW4/Z2QobmV3IG9nKGUuY2hpbGRyZW4sdCkpOmUubG9hZENoaWxkcmVuP3ZvaWQgMCE9PWUuX2xvYWRlZENvbmZpZz9nZChlLl9sb2FkZWRDb25maWcpOnRoaXMucnVuQ2FuTG9hZEd1YXJkcyh0LmluamVjdG9yLGUsbikucGlwZShIKG49Pm4/dGhpcy5jb25maWdMb2FkZXIubG9hZCh0LmluamVjdG9yLGUpLnBpcGUoeCh0PT4oZS5fbG9hZGVkQ29uZmlnPXQsdCkpKTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHYoZT0+ZS5lcnJvcihYcChgQ2Fubm90IGxvYWQgY2hpbGRyZW4gYmVjYXVzZSB0aGUgZ3VhcmQgb2YgdGhlIHJvdXRlICJwYXRoOiAnJHt0LnBhdGh9JyIgcmV0dXJuZWQgZmFsc2VgKSkpfShlKSkpOmdkKG5ldyBvZyhbXSx0KSl9cnVuQ2FuTG9hZEd1YXJkcyh0LGUsbil7Y29uc3Qgcj1lLmNhbkxvYWQ7cmV0dXJuIHImJjAhPT1yLmxlbmd0aD9nZChyLm1hcChyPT57Y29uc3Qgcz10LmdldChyKTtsZXQgaTtpZihmdW5jdGlvbih0KXtyZXR1cm4gdCYmYWcodC5jYW5Mb2FkKX0ocykpaT1zLmNhbkxvYWQoZSxuKTtlbHNle2lmKCFhZyhzKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgQ2FuTG9hZCBndWFyZCIpO2k9cyhlLG4pfXJldHVybiBlZihpKX0pKS5waXBlKHVnKCksRHAodD0+e2lmKCFjZyh0KSlyZXR1cm47Y29uc3QgZT1YcChgUmVkaXJlY3RpbmcgdG8gIiR7dGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh0KX0iYCk7dGhyb3cgZS51cmw9dCxlfSkseCh0PT4hMD09PXQpKTpnZCghMCl9bGluZXJhbGl6ZVNlZ21lbnRzKHQsZSl7bGV0IG49W10scj1lLnJvb3Q7Zm9yKDs7KXtpZihuPW4uY29uY2F0KHIuc2VnbWVudHMpLDA9PT1yLm51bWJlck9mQ2hpbGRyZW4pcmV0dXJuIGdkKG4pO2lmKHIubnVtYmVyT2ZDaGlsZHJlbj4xfHwhci5jaGlsZHJlbi5wcmltYXJ5KXJldHVybiBUZyh0LnJlZGlyZWN0VG8pO3I9ci5jaGlsZHJlbi5wcmltYXJ5fX1hcHBseVJlZGlyZWN0Q29tbWFuZHModCxlLG4pe3JldHVybiB0aGlzLmFwcGx5UmVkaXJlY3RDcmVhdHJlVXJsVHJlZShlLHRoaXMudXJsU2VyaWFsaXplci5wYXJzZShlKSx0LG4pfWFwcGx5UmVkaXJlY3RDcmVhdHJlVXJsVHJlZSh0LGUsbixyKXtjb25zdCBzPXRoaXMuY3JlYXRlU2VnbWVudEdyb3VwKHQsZS5yb290LG4scik7cmV0dXJuIG5ldyBsZihzLHRoaXMuY3JlYXRlUXVlcnlQYXJhbXMoZS5xdWVyeVBhcmFtcyx0aGlzLnVybFRyZWUucXVlcnlQYXJhbXMpLGUuZnJhZ21lbnQpfWNyZWF0ZVF1ZXJ5UGFyYW1zKHQsZSl7Y29uc3Qgbj17fTtyZXR1cm4gdGYodCwodCxyKT0+e2lmKCJzdHJpbmciPT10eXBlb2YgdCYmdC5zdGFydHNXaXRoKCI6Iikpe2NvbnN0IHM9dC5zdWJzdHJpbmcoMSk7bltyXT1lW3NdfWVsc2UgbltyXT10fSksbn1jcmVhdGVTZWdtZW50R3JvdXAodCxlLG4scil7Y29uc3Qgcz10aGlzLmNyZWF0ZVNlZ21lbnRzKHQsZS5zZWdtZW50cyxuLHIpO2xldCBpPXt9O3JldHVybiB0ZihlLmNoaWxkcmVuLChlLHMpPT57aVtzXT10aGlzLmNyZWF0ZVNlZ21lbnRHcm91cCh0LGUsbixyKX0pLG5ldyB1ZihzLGkpfWNyZWF0ZVNlZ21lbnRzKHQsZSxuLHIpe3JldHVybiBlLm1hcChlPT5lLnBhdGguc3RhcnRzV2l0aCgiOiIpP3RoaXMuZmluZFBvc1BhcmFtKHQsZSxyKTp0aGlzLmZpbmRPclJldHVybihlLG4pKX1maW5kUG9zUGFyYW0odCxlLG4pe2NvbnN0IHI9bltlLnBhdGguc3Vic3RyaW5nKDEpXTtpZighcil0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZWRpcmVjdCB0byAnJHt0fScuIENhbm5vdCBmaW5kICcke2UucGF0aH0nLmApO3JldHVybiByfWZpbmRPclJldHVybih0LGUpe2xldCBuPTA7Zm9yKGNvbnN0IHIgb2YgZSl7aWYoci5wYXRoPT09dC5wYXRoKXJldHVybiBlLnNwbGljZShuKSxyO24rK31yZXR1cm4gdH19ZnVuY3Rpb24gRmcodCl7Y29uc3QgZT17fTtmb3IoY29uc3QgbiBvZiBPYmplY3Qua2V5cyh0LmNoaWxkcmVuKSl7Y29uc3Qgcj1GZyh0LmNoaWxkcmVuW25dKTsoci5zZWdtZW50cy5sZW5ndGg+MHx8ci5oYXNDaGlsZHJlbigpKSYmKGVbbl09cil9cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKDE9PT10Lm51bWJlck9mQ2hpbGRyZW4mJnQuY2hpbGRyZW4ucHJpbWFyeSl7Y29uc3QgZT10LmNoaWxkcmVuLnByaW1hcnk7cmV0dXJuIG5ldyB1Zih0LnNlZ21lbnRzLmNvbmNhdChlLnNlZ21lbnRzKSxlLmNoaWxkcmVuKX1yZXR1cm4gdH0obmV3IHVmKHQuc2VnbWVudHMsZSkpfWNsYXNzIElne2NvbnN0cnVjdG9yKHQpe3RoaXMucGF0aD10LHRoaXMucm91dGU9dGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGgtMV19fWNsYXNzIE9ne2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5jb21wb25lbnQ9dCx0aGlzLnJvdXRlPWV9fWZ1bmN0aW9uIFBnKHQsZSxuKXtjb25zdCByPXQuX3Jvb3Q7cmV0dXJuIExnKHIsZT9lLl9yb290Om51bGwsbixbci52YWx1ZV0pfWZ1bmN0aW9uIFJnKHQsZSxuKXtjb25zdCByPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiBudWxsO2ZvcihsZXQgZT10LnBhcmVudDtlO2U9ZS5wYXJlbnQpe2NvbnN0IHQ9ZS5yb3V0ZUNvbmZpZztpZih0JiZ0Ll9sb2FkZWRDb25maWcpcmV0dXJuIHQuX2xvYWRlZENvbmZpZ31yZXR1cm4gbnVsbH0oZSk7cmV0dXJuKHI/ci5tb2R1bGUuaW5qZWN0b3I6bikuZ2V0KHQpfWZ1bmN0aW9uIExnKHQsZSxuLHIscz17Y2FuRGVhY3RpdmF0ZUNoZWNrczpbXSxjYW5BY3RpdmF0ZUNoZWNrczpbXX0pe2NvbnN0IGk9UGYoZSk7cmV0dXJuIHQuY2hpbGRyZW4uZm9yRWFjaCh0PT57IWZ1bmN0aW9uKHQsZSxuLHIscz17Y2FuRGVhY3RpdmF0ZUNoZWNrczpbXSxjYW5BY3RpdmF0ZUNoZWNrczpbXX0pe2NvbnN0IGk9dC52YWx1ZSxvPWU/ZS52YWx1ZTpudWxsLGE9bj9uLmdldENvbnRleHQodC52YWx1ZS5vdXRsZXQpOm51bGw7aWYobyYmaS5yb3V0ZUNvbmZpZz09PW8ucm91dGVDb25maWcpe2NvbnN0IGM9ZnVuY3Rpb24odCxlLG4pe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuKXJldHVybiBuKHQsZSk7c3dpdGNoKG4pe2Nhc2UicGF0aFBhcmFtc0NoYW5nZSI6cmV0dXJuIWRmKHQudXJsLGUudXJsKTtjYXNlInBhdGhQYXJhbXNPclF1ZXJ5UGFyYW1zQ2hhbmdlIjpyZXR1cm4hZGYodC51cmwsZS51cmwpfHwhWnAodC5xdWVyeVBhcmFtcyxlLnF1ZXJ5UGFyYW1zKTtjYXNlImFsd2F5cyI6cmV0dXJuITA7Y2FzZSJwYXJhbXNPclF1ZXJ5UGFyYW1zQ2hhbmdlIjpyZXR1cm4hJGYodCxlKXx8IVpwKHQucXVlcnlQYXJhbXMsZS5xdWVyeVBhcmFtcyk7Y2FzZSJwYXJhbXNDaGFuZ2UiOmRlZmF1bHQ6cmV0dXJuISRmKHQsZSl9fShvLGksaS5yb3V0ZUNvbmZpZy5ydW5HdWFyZHNBbmRSZXNvbHZlcnMpO2M/cy5jYW5BY3RpdmF0ZUNoZWNrcy5wdXNoKG5ldyBJZyhyKSk6KGkuZGF0YT1vLmRhdGEsaS5fcmVzb2x2ZWREYXRhPW8uX3Jlc29sdmVkRGF0YSksTGcodCxlLGkuY29tcG9uZW50P2E/YS5jaGlsZHJlbjpudWxsOm4scixzKSxjJiZhJiZhLm91dGxldCYmYS5vdXRsZXQuaXNBY3RpdmF0ZWQmJnMuY2FuRGVhY3RpdmF0ZUNoZWNrcy5wdXNoKG5ldyBPZyhhLm91dGxldC5jb21wb25lbnQsbykpfWVsc2UgbyYmQmcoZSxhLHMpLHMuY2FuQWN0aXZhdGVDaGVja3MucHVzaChuZXcgSWcocikpLExnKHQsbnVsbCxpLmNvbXBvbmVudD9hP2EuY2hpbGRyZW46bnVsbDpuLHIscyl9KHQsaVt0LnZhbHVlLm91dGxldF0sbixyLmNvbmNhdChbdC52YWx1ZV0pLHMpLGRlbGV0ZSBpW3QudmFsdWUub3V0bGV0XX0pLHRmKGksKHQsZSk9PkJnKHQsbi5nZXRDb250ZXh0KGUpLHMpKSxzfWZ1bmN0aW9uIEJnKHQsZSxuKXtjb25zdCByPVBmKHQpLHM9dC52YWx1ZTt0ZihyLCh0LHIpPT57QmcodCxzLmNvbXBvbmVudD9lP2UuY2hpbGRyZW4uZ2V0Q29udGV4dChyKTpudWxsOmUsbil9KSxuLmNhbkRlYWN0aXZhdGVDaGVja3MucHVzaChuZXcgT2cocy5jb21wb25lbnQmJmUmJmUub3V0bGV0JiZlLm91dGxldC5pc0FjdGl2YXRlZD9lLm91dGxldC5jb21wb25lbnQ6bnVsbCxzKSl9Y2xhc3Mgamd7fWZ1bmN0aW9uIE1nKHQpe3JldHVybiBuZXcgdihlPT5lLmVycm9yKHQpKX1jbGFzcyBOZ3tjb25zdHJ1Y3Rvcih0LGUsbixyLHMsaSl7dGhpcy5yb290Q29tcG9uZW50VHlwZT10LHRoaXMuY29uZmlnPWUsdGhpcy51cmxUcmVlPW4sdGhpcy51cmw9cix0aGlzLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3k9cyx0aGlzLnJlbGF0aXZlTGlua1Jlc29sdXRpb249aX1yZWNvZ25pemUoKXtjb25zdCB0PUNnKHRoaXMudXJsVHJlZS5yb290LFtdLFtdLHRoaXMuY29uZmlnLmZpbHRlcih0PT52b2lkIDA9PT10LnJlZGlyZWN0VG8pLHRoaXMucmVsYXRpdmVMaW5rUmVzb2x1dGlvbikuc2VnbWVudEdyb3VwLGU9dGhpcy5wcm9jZXNzU2VnbWVudEdyb3VwKHRoaXMuY29uZmlnLHQsV3ApO2lmKG51bGw9PT1lKXJldHVybiBudWxsO2NvbnN0IG49bmV3IE1mKFtdLE9iamVjdC5mcmVlemUoe30pLE9iamVjdC5mcmVlemUoT2JqZWN0LmFzc2lnbih7fSx0aGlzLnVybFRyZWUucXVlcnlQYXJhbXMpKSx0aGlzLnVybFRyZWUuZnJhZ21lbnQse30sV3AsdGhpcy5yb290Q29tcG9uZW50VHlwZSxudWxsLHRoaXMudXJsVHJlZS5yb290LC0xLHt9KSxyPW5ldyBPZihuLGUpLHM9bmV3IE5mKHRoaXMudXJsLHIpO3JldHVybiB0aGlzLmluaGVyaXRQYXJhbXNBbmREYXRhKHMuX3Jvb3QpLHN9aW5oZXJpdFBhcmFtc0FuZERhdGEodCl7Y29uc3QgZT10LnZhbHVlLG49amYoZSx0aGlzLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3kpO2UucGFyYW1zPU9iamVjdC5mcmVlemUobi5wYXJhbXMpLGUuZGF0YT1PYmplY3QuZnJlZXplKG4uZGF0YSksdC5jaGlsZHJlbi5mb3JFYWNoKHQ9PnRoaXMuaW5oZXJpdFBhcmFtc0FuZERhdGEodCkpfXByb2Nlc3NTZWdtZW50R3JvdXAodCxlLG4pe3JldHVybiAwPT09ZS5zZWdtZW50cy5sZW5ndGgmJmUuaGFzQ2hpbGRyZW4oKT90aGlzLnByb2Nlc3NDaGlsZHJlbih0LGUpOnRoaXMucHJvY2Vzc1NlZ21lbnQodCxlLGUuc2VnbWVudHMsbil9cHJvY2Vzc0NoaWxkcmVuKHQsZSl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgcyBvZiBPYmplY3Qua2V5cyhlLmNoaWxkcmVuKSl7Y29uc3Qgcj1lLmNoaWxkcmVuW3NdLGk9eWcodCxzKSxvPXRoaXMucHJvY2Vzc1NlZ21lbnRHcm91cChpLHIscyk7aWYobnVsbD09PW8pcmV0dXJuIG51bGw7bi5wdXNoKC4uLm8pfWNvbnN0IHI9Vmcobik7cmV0dXJuIHIuc29ydCgodCxlKT0+dC52YWx1ZS5vdXRsZXQ9PT1XcD8tMTplLnZhbHVlLm91dGxldD09PVdwPzE6dC52YWx1ZS5vdXRsZXQubG9jYWxlQ29tcGFyZShlLnZhbHVlLm91dGxldCkpLHJ9cHJvY2Vzc1NlZ21lbnQodCxlLG4scil7Zm9yKGNvbnN0IHMgb2YgdCl7Y29uc3QgdD10aGlzLnByb2Nlc3NTZWdtZW50QWdhaW5zdFJvdXRlKHMsZSxuLHIpO2lmKG51bGwhPT10KXJldHVybiB0fXJldHVybiBEZyhlLG4scik/W106bnVsbH1wcm9jZXNzU2VnbWVudEFnYWluc3RSb3V0ZSh0LGUsbixyKXtpZih0LnJlZGlyZWN0VG98fCFfZyh0LGUsbixyKSlyZXR1cm4gbnVsbDtsZXQgcyxpPVtdLG89W107aWYoIioqIj09PXQucGF0aCl7Y29uc3Qgcj1uLmxlbmd0aD4wP0pwKG4pLnBhcmFtZXRlcnM6e307cz1uZXcgTWYobixyLE9iamVjdC5mcmVlemUoT2JqZWN0LmFzc2lnbih7fSx0aGlzLnVybFRyZWUucXVlcnlQYXJhbXMpKSx0aGlzLnVybFRyZWUuZnJhZ21lbnQsVWcodCksbWcodCksdC5jb21wb25lbnQsdCx6ZyhlKSwkZyhlKStuLmxlbmd0aCxXZyh0KSl9ZWxzZXtjb25zdCByPWJnKGUsdCxuKTtpZighci5tYXRjaGVkKXJldHVybiBudWxsO2k9ci5jb25zdW1lZFNlZ21lbnRzLG89bi5zbGljZShyLmxhc3RDaGlsZCkscz1uZXcgTWYoaSxyLnBhcmFtZXRlcnMsT2JqZWN0LmZyZWV6ZShPYmplY3QuYXNzaWduKHt9LHRoaXMudXJsVHJlZS5xdWVyeVBhcmFtcykpLHRoaXMudXJsVHJlZS5mcmFnbWVudCxVZyh0KSxtZyh0KSx0LmNvbXBvbmVudCx0LHpnKGUpLCRnKGUpK2kubGVuZ3RoLFdnKHQpKX1jb25zdCBhPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNoaWxkcmVuP3QuY2hpbGRyZW46dC5sb2FkQ2hpbGRyZW4/dC5fbG9hZGVkQ29uZmlnLnJvdXRlczpbXX0odCkse3NlZ21lbnRHcm91cDpjLHNsaWNlZFNlZ21lbnRzOmx9PUNnKGUsaSxvLGEuZmlsdGVyKHQ9PnZvaWQgMD09PXQucmVkaXJlY3RUbyksdGhpcy5yZWxhdGl2ZUxpbmtSZXNvbHV0aW9uKTtpZigwPT09bC5sZW5ndGgmJmMuaGFzQ2hpbGRyZW4oKSl7Y29uc3QgdD10aGlzLnByb2Nlc3NDaGlsZHJlbihhLGMpO3JldHVybiBudWxsPT09dD9udWxsOltuZXcgT2Yocyx0KV19aWYoMD09PWEubGVuZ3RoJiYwPT09bC5sZW5ndGgpcmV0dXJuW25ldyBPZihzLFtdKV07Y29uc3QgdT1tZyh0KT09PXIsaD10aGlzLnByb2Nlc3NTZWdtZW50KGEsYyxsLHU/V3A6cik7cmV0dXJuIG51bGw9PT1oP251bGw6W25ldyBPZihzLGgpXX19ZnVuY3Rpb24gSGcodCl7Y29uc3QgZT10LnZhbHVlLnJvdXRlQ29uZmlnO3JldHVybiBlJiYiIj09PWUucGF0aCYmdm9pZCAwPT09ZS5yZWRpcmVjdFRvfWZ1bmN0aW9uIFZnKHQpe2NvbnN0IGU9W10sbj1uZXcgU2V0O2Zvcihjb25zdCByIG9mIHQpe2lmKCFIZyhyKSl7ZS5wdXNoKHIpO2NvbnRpbnVlfWNvbnN0IHQ9ZS5maW5kKHQ9PnIudmFsdWUucm91dGVDb25maWc9PT10LnZhbHVlLnJvdXRlQ29uZmlnKTt2b2lkIDAhPT10Pyh0LmNoaWxkcmVuLnB1c2goLi4uci5jaGlsZHJlbiksbi5hZGQodCkpOmUucHVzaChyKX1mb3IoY29uc3QgciBvZiBuKXtjb25zdCB0PVZnKHIuY2hpbGRyZW4pO2UucHVzaChuZXcgT2Yoci52YWx1ZSx0KSl9cmV0dXJuIGUuZmlsdGVyKHQ9PiFuLmhhcyh0KSl9ZnVuY3Rpb24gemcodCl7bGV0IGU9dDtmb3IoO2UuX3NvdXJjZVNlZ21lbnQ7KWU9ZS5fc291cmNlU2VnbWVudDtyZXR1cm4gZX1mdW5jdGlvbiAkZyh0KXtsZXQgZT10LG49ZS5fc2VnbWVudEluZGV4U2hpZnQ/ZS5fc2VnbWVudEluZGV4U2hpZnQ6MDtmb3IoO2UuX3NvdXJjZVNlZ21lbnQ7KWU9ZS5fc291cmNlU2VnbWVudCxuKz1lLl9zZWdtZW50SW5kZXhTaGlmdD9lLl9zZWdtZW50SW5kZXhTaGlmdDowO3JldHVybiBuLTF9ZnVuY3Rpb24gVWcodCl7cmV0dXJuIHQuZGF0YXx8e319ZnVuY3Rpb24gV2codCl7cmV0dXJuIHQucmVzb2x2ZXx8e319ZnVuY3Rpb24gR2codCl7cmV0dXJuIERkKGU9Pntjb25zdCBuPXQoZSk7cmV0dXJuIG4/QihuKS5waXBlKHgoKCk9PmUpKTpnZChlKX0pfWNsYXNzIHFnIGV4dGVuZHMgY2xhc3N7c2hvdWxkRGV0YWNoKHQpe3JldHVybiExfXN0b3JlKHQsZSl7fXNob3VsZEF0dGFjaCh0KXtyZXR1cm4hMX1yZXRyaWV2ZSh0KXtyZXR1cm4gbnVsbH1zaG91bGRSZXVzZVJvdXRlKHQsZSl7cmV0dXJuIHQucm91dGVDb25maWc9PT1lLnJvdXRlQ29uZmlnfX17fWNvbnN0IFhnPW5ldyBxbigiUk9VVEVTIik7Y2xhc3MgWWd7Y29uc3RydWN0b3IodCxlLG4scil7dGhpcy5sb2FkZXI9dCx0aGlzLmNvbXBpbGVyPWUsdGhpcy5vbkxvYWRTdGFydExpc3RlbmVyPW4sdGhpcy5vbkxvYWRFbmRMaXN0ZW5lcj1yfWxvYWQodCxlKXtpZihlLl9sb2FkZXIkKXJldHVybiBlLl9sb2FkZXIkO3RoaXMub25Mb2FkU3RhcnRMaXN0ZW5lciYmdGhpcy5vbkxvYWRTdGFydExpc3RlbmVyKGUpO2NvbnN0IG49dGhpcy5sb2FkTW9kdWxlRmFjdG9yeShlLmxvYWRDaGlsZHJlbikucGlwZSh4KG49Pnt0aGlzLm9uTG9hZEVuZExpc3RlbmVyJiZ0aGlzLm9uTG9hZEVuZExpc3RlbmVyKGUpO2NvbnN0IHI9bi5jcmVhdGUodCk7cmV0dXJuIG5ldyBvZyhLcChyLmluamVjdG9yLmdldChYZyx2b2lkIDAsQ3QuU2VsZnxDdC5PcHRpb25hbCkpLm1hcChnZykscil9KSxhcCh0PT57dGhyb3cgZS5fbG9hZGVyJD12b2lkIDAsdH0pKTtyZXR1cm4gZS5fbG9hZGVyJD1uZXcgWShuLCgpPT5uZXcgRCkucGlwZShHKCkpLGUuX2xvYWRlciR9bG9hZE1vZHVsZUZhY3RvcnkodCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P0IodGhpcy5sb2FkZXIubG9hZCh0KSk6ZWYodCgpKS5waXBlKEgodD0+dCBpbnN0YW5jZW9mIGhjP2dkKHQpOkIodGhpcy5jb21waWxlci5jb21waWxlTW9kdWxlQXN5bmModCkpKSl9fWNsYXNzIFpne2NvbnN0cnVjdG9yKCl7dGhpcy5vdXRsZXQ9bnVsbCx0aGlzLnJvdXRlPW51bGwsdGhpcy5yZXNvbHZlcj1udWxsLHRoaXMuY2hpbGRyZW49bmV3IFFnLHRoaXMuYXR0YWNoUmVmPW51bGx9fWNsYXNzIFFne2NvbnN0cnVjdG9yKCl7dGhpcy5jb250ZXh0cz1uZXcgTWFwfW9uQ2hpbGRPdXRsZXRDcmVhdGVkKHQsZSl7Y29uc3Qgbj10aGlzLmdldE9yQ3JlYXRlQ29udGV4dCh0KTtuLm91dGxldD1lLHRoaXMuY29udGV4dHMuc2V0KHQsbil9b25DaGlsZE91dGxldERlc3Ryb3llZCh0KXtjb25zdCBlPXRoaXMuZ2V0Q29udGV4dCh0KTtlJiYoZS5vdXRsZXQ9bnVsbCl9b25PdXRsZXREZWFjdGl2YXRlZCgpe2NvbnN0IHQ9dGhpcy5jb250ZXh0cztyZXR1cm4gdGhpcy5jb250ZXh0cz1uZXcgTWFwLHR9b25PdXRsZXRSZUF0dGFjaGVkKHQpe3RoaXMuY29udGV4dHM9dH1nZXRPckNyZWF0ZUNvbnRleHQodCl7bGV0IGU9dGhpcy5nZXRDb250ZXh0KHQpO3JldHVybiBlfHwoZT1uZXcgWmcsdGhpcy5jb250ZXh0cy5zZXQodCxlKSksZX1nZXRDb250ZXh0KHQpe3JldHVybiB0aGlzLmNvbnRleHRzLmdldCh0KXx8bnVsbH19Y2xhc3MgS2d7c2hvdWxkUHJvY2Vzc1VybCh0KXtyZXR1cm4hMH1leHRyYWN0KHQpe3JldHVybiB0fW1lcmdlKHQsZSl7cmV0dXJuIHR9fWZ1bmN0aW9uIEpnKHQpe3Rocm93IHR9ZnVuY3Rpb24gdG0odCxlLG4pe3JldHVybiBlLnBhcnNlKCIvIil9ZnVuY3Rpb24gZW0odCxlKXtyZXR1cm4gZ2QobnVsbCl9Y29uc3Qgbm09e3BhdGhzOiJleGFjdCIsZnJhZ21lbnQ6Imlnbm9yZWQiLG1hdHJpeFBhcmFtczoiaWdub3JlZCIscXVlcnlQYXJhbXM6ImV4YWN0In0scm09e3BhdGhzOiJzdWJzZXQiLGZyYWdtZW50OiJpZ25vcmVkIixtYXRyaXhQYXJhbXM6Imlnbm9yZWQiLHF1ZXJ5UGFyYW1zOiJzdWJzZXQifTtsZXQgc209KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbixyLHMsaSxvLGEpe3RoaXMucm9vdENvbXBvbmVudFR5cGU9dCx0aGlzLnVybFNlcmlhbGl6ZXI9ZSx0aGlzLnJvb3RDb250ZXh0cz1uLHRoaXMubG9jYXRpb249cix0aGlzLmNvbmZpZz1hLHRoaXMubGFzdFN1Y2Nlc3NmdWxOYXZpZ2F0aW9uPW51bGwsdGhpcy5jdXJyZW50TmF2aWdhdGlvbj1udWxsLHRoaXMuZGlzcG9zZWQ9ITEsdGhpcy5sYXN0TG9jYXRpb25DaGFuZ2VJbmZvPW51bGwsdGhpcy5uYXZpZ2F0aW9uSWQ9MCx0aGlzLmN1cnJlbnRQYWdlSWQ9MCx0aGlzLmlzTmdab25lRW5hYmxlZD0hMSx0aGlzLmV2ZW50cz1uZXcgRCx0aGlzLmVycm9ySGFuZGxlcj1KZyx0aGlzLm1hbGZvcm1lZFVyaUVycm9ySGFuZGxlcj10bSx0aGlzLm5hdmlnYXRlZD0hMSx0aGlzLmxhc3RTdWNjZXNzZnVsSWQ9LTEsdGhpcy5ob29rcz17YmVmb3JlUHJlYWN0aXZhdGlvbjplbSxhZnRlclByZWFjdGl2YXRpb246ZW19LHRoaXMudXJsSGFuZGxpbmdTdHJhdGVneT1uZXcgS2csdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3k9bmV3IHFnLHRoaXMub25TYW1lVXJsTmF2aWdhdGlvbj0iaWdub3JlIix0aGlzLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3k9ImVtcHR5T25seSIsdGhpcy51cmxVcGRhdGVTdHJhdGVneT0iZGVmZXJyZWQiLHRoaXMucmVsYXRpdmVMaW5rUmVzb2x1dGlvbj0iY29ycmVjdGVkIix0aGlzLmNhbmNlbGVkTmF2aWdhdGlvblJlc29sdXRpb249InJlcGxhY2UiLHRoaXMubmdNb2R1bGU9cy5nZXQodWMpLHRoaXMuY29uc29sZT1zLmdldChzbCk7Y29uc3QgYz1zLmdldCh5bCk7dGhpcy5pc05nWm9uZUVuYWJsZWQ9YyBpbnN0YW5jZW9mIHlsJiZ5bC5pc0luQW5ndWxhclpvbmUoKSx0aGlzLnJlc2V0Q29uZmlnKGEpLHRoaXMuY3VycmVudFVybFRyZWU9bmV3IGxmKG5ldyB1ZihbXSx7fSkse30sbnVsbCksdGhpcy5yYXdVcmxUcmVlPXRoaXMuY3VycmVudFVybFRyZWUsdGhpcy5icm93c2VyVXJsVHJlZT10aGlzLmN1cnJlbnRVcmxUcmVlLHRoaXMuY29uZmlnTG9hZGVyPW5ldyBZZyhpLG8sdD0+dGhpcy50cmlnZ2VyRXZlbnQobmV3IE1wKHQpKSx0PT50aGlzLnRyaWdnZXJFdmVudChuZXcgTnAodCkpKSx0aGlzLnJvdXRlclN0YXRlPUxmKHRoaXMuY3VycmVudFVybFRyZWUsdGhpcy5yb290Q29tcG9uZW50VHlwZSksdGhpcy50cmFuc2l0aW9ucz1uZXcgVmQoe2lkOjAsdGFyZ2V0UGFnZUlkOjAsY3VycmVudFVybFRyZWU6dGhpcy5jdXJyZW50VXJsVHJlZSxjdXJyZW50UmF3VXJsOnRoaXMuY3VycmVudFVybFRyZWUsZXh0cmFjdGVkVXJsOnRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5leHRyYWN0KHRoaXMuY3VycmVudFVybFRyZWUpLHVybEFmdGVyUmVkaXJlY3RzOnRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5leHRyYWN0KHRoaXMuY3VycmVudFVybFRyZWUpLHJhd1VybDp0aGlzLmN1cnJlbnRVcmxUcmVlLGV4dHJhczp7fSxyZXNvbHZlOm51bGwscmVqZWN0Om51bGwscHJvbWlzZTpQcm9taXNlLnJlc29sdmUoITApLHNvdXJjZToiaW1wZXJhdGl2ZSIscmVzdG9yZWRTdGF0ZTpudWxsLGN1cnJlbnRTbmFwc2hvdDp0aGlzLnJvdXRlclN0YXRlLnNuYXBzaG90LHRhcmdldFNuYXBzaG90Om51bGwsY3VycmVudFJvdXRlclN0YXRlOnRoaXMucm91dGVyU3RhdGUsdGFyZ2V0Um91dGVyU3RhdGU6bnVsbCxndWFyZHM6e2NhbkFjdGl2YXRlQ2hlY2tzOltdLGNhbkRlYWN0aXZhdGVDaGVja3M6W119LGd1YXJkc1Jlc3VsdDpudWxsfSksdGhpcy5uYXZpZ2F0aW9ucz10aGlzLnNldHVwTmF2aWdhdGlvbnModGhpcy50cmFuc2l0aW9ucyksdGhpcy5wcm9jZXNzTmF2aWdhdGlvbnMoKX1zZXR1cE5hdmlnYXRpb25zKHQpe2NvbnN0IGU9dGhpcy5ldmVudHM7cmV0dXJuIHQucGlwZShzcCh0PT4wIT09dC5pZCkseCh0PT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse2V4dHJhY3RlZFVybDp0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuZXh0cmFjdCh0LnJhd1VybCl9KSksRGQodD0+e2xldCBuPSExLHI9ITE7cmV0dXJuIGdkKHQpLnBpcGUoRHAodD0+e3RoaXMuY3VycmVudE5hdmlnYXRpb249e2lkOnQuaWQsaW5pdGlhbFVybDp0LmN1cnJlbnRSYXdVcmwsZXh0cmFjdGVkVXJsOnQuZXh0cmFjdGVkVXJsLHRyaWdnZXI6dC5zb3VyY2UsZXh0cmFzOnQuZXh0cmFzLHByZXZpb3VzTmF2aWdhdGlvbjp0aGlzLmxhc3RTdWNjZXNzZnVsTmF2aWdhdGlvbj9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5sYXN0U3VjY2Vzc2Z1bE5hdmlnYXRpb24pLHtwcmV2aW91c05hdmlnYXRpb246bnVsbH0pOm51bGx9fSksRGQodD0+e2NvbnN0IG49IXRoaXMubmF2aWdhdGVkfHx0LmV4dHJhY3RlZFVybC50b1N0cmluZygpIT09dGhpcy5icm93c2VyVXJsVHJlZS50b1N0cmluZygpO2lmKCgicmVsb2FkIj09PXRoaXMub25TYW1lVXJsTmF2aWdhdGlvbnx8bikmJnRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5zaG91bGRQcm9jZXNzVXJsKHQucmF3VXJsKSlyZXR1cm4gZ2QodCkucGlwZShEZCh0PT57Y29uc3Qgbj10aGlzLnRyYW5zaXRpb25zLmdldFZhbHVlKCk7cmV0dXJuIGUubmV4dChuZXcga3AodC5pZCx0aGlzLnNlcmlhbGl6ZVVybCh0LmV4dHJhY3RlZFVybCksdC5zb3VyY2UsdC5yZXN0b3JlZFN0YXRlKSksbiE9PXRoaXMudHJhbnNpdGlvbnMuZ2V0VmFsdWUoKT9wZDpQcm9taXNlLnJlc29sdmUodCl9KSxmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gRGQocz0+ZnVuY3Rpb24odCxlLG4scixzKXtyZXR1cm4gbmV3IGtnKHQsZSxuLHIscykuYXBwbHkoKX0odCxlLG4scy5leHRyYWN0ZWRVcmwscikucGlwZSh4KHQ9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxzKSx7dXJsQWZ0ZXJSZWRpcmVjdHM6dH0pKSkpfSh0aGlzLm5nTW9kdWxlLmluamVjdG9yLHRoaXMuY29uZmlnTG9hZGVyLHRoaXMudXJsU2VyaWFsaXplcix0aGlzLmNvbmZpZyksRHAodD0+e3RoaXMuY3VycmVudE5hdmlnYXRpb249T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuY3VycmVudE5hdmlnYXRpb24pLHtmaW5hbFVybDp0LnVybEFmdGVyUmVkaXJlY3RzfSl9KSxmdW5jdGlvbih0LGUsbixyLHMpe3JldHVybiBIKGk9PmZ1bmN0aW9uKHQsZSxuLHIscz0iZW1wdHlPbmx5IixpPSJsZWdhY3kiKXt0cnl7Y29uc3Qgbz1uZXcgTmcodCxlLG4scixzLGkpLnJlY29nbml6ZSgpO3JldHVybiBudWxsPT09bz9NZyhuZXcgamcpOmdkKG8pfWNhdGNoKG8pe3JldHVybiBNZyhvKX19KHQsZSxpLnVybEFmdGVyUmVkaXJlY3RzLG4oaS51cmxBZnRlclJlZGlyZWN0cykscixzKS5waXBlKHgodD0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGkpLHt0YXJnZXRTbmFwc2hvdDp0fSkpKSl9KHRoaXMucm9vdENvbXBvbmVudFR5cGUsdGhpcy5jb25maWcsdD0+dGhpcy5zZXJpYWxpemVVcmwodCksdGhpcy5wYXJhbXNJbmhlcml0YW5jZVN0cmF0ZWd5LHRoaXMucmVsYXRpdmVMaW5rUmVzb2x1dGlvbiksRHAodD0+eyJlYWdlciI9PT10aGlzLnVybFVwZGF0ZVN0cmF0ZWd5JiYodC5leHRyYXMuc2tpcExvY2F0aW9uQ2hhbmdlfHx0aGlzLnNldEJyb3dzZXJVcmwodC51cmxBZnRlclJlZGlyZWN0cyx0KSx0aGlzLmJyb3dzZXJVcmxUcmVlPXQudXJsQWZ0ZXJSZWRpcmVjdHMpO2NvbnN0IG49bmV3IFBwKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLHRoaXMuc2VyaWFsaXplVXJsKHQudXJsQWZ0ZXJSZWRpcmVjdHMpLHQudGFyZ2V0U25hcHNob3QpO2UubmV4dChuKX0pKTtpZihuJiZ0aGlzLnJhd1VybFRyZWUmJnRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5zaG91bGRQcm9jZXNzVXJsKHRoaXMucmF3VXJsVHJlZSkpe2NvbnN0e2lkOm4sZXh0cmFjdGVkVXJsOnIsc291cmNlOnMscmVzdG9yZWRTdGF0ZTppLGV4dHJhczpvfT10LGE9bmV3IGtwKG4sdGhpcy5zZXJpYWxpemVVcmwocikscyxpKTtlLm5leHQoYSk7Y29uc3QgYz1MZihyLHRoaXMucm9vdENvbXBvbmVudFR5cGUpLnNuYXBzaG90O3JldHVybiBnZChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse3RhcmdldFNuYXBzaG90OmMsdXJsQWZ0ZXJSZWRpcmVjdHM6cixleHRyYXM6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG8pLHtza2lwTG9jYXRpb25DaGFuZ2U6ITEscmVwbGFjZVVybDohMX0pfSkpfXJldHVybiB0aGlzLnJhd1VybFRyZWU9dC5yYXdVcmwsdGhpcy5icm93c2VyVXJsVHJlZT10LnVybEFmdGVyUmVkaXJlY3RzLHQucmVzb2x2ZShudWxsKSxwZH0pLEdnKHQ9Pntjb25zdHt0YXJnZXRTbmFwc2hvdDplLGlkOm4sZXh0cmFjdGVkVXJsOnIscmF3VXJsOnMsZXh0cmFzOntza2lwTG9jYXRpb25DaGFuZ2U6aSxyZXBsYWNlVXJsOm99fT10O3JldHVybiB0aGlzLmhvb2tzLmJlZm9yZVByZWFjdGl2YXRpb24oZSx7bmF2aWdhdGlvbklkOm4sYXBwbGllZFVybFRyZWU6cixyYXdVcmxUcmVlOnMsc2tpcExvY2F0aW9uQ2hhbmdlOiEhaSxyZXBsYWNlVXJsOiEhb30pfSksRHAodD0+e2NvbnN0IGU9bmV3IFJwKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLHRoaXMuc2VyaWFsaXplVXJsKHQudXJsQWZ0ZXJSZWRpcmVjdHMpLHQudGFyZ2V0U25hcHNob3QpO3RoaXMudHJpZ2dlckV2ZW50KGUpfSkseCh0PT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse2d1YXJkczpQZyh0LnRhcmdldFNuYXBzaG90LHQuY3VycmVudFNuYXBzaG90LHRoaXMucm9vdENvbnRleHRzKX0pKSxmdW5jdGlvbih0LGUpe3JldHVybiBIKG49Pntjb25zdHt0YXJnZXRTbmFwc2hvdDpyLGN1cnJlbnRTbmFwc2hvdDpzLGd1YXJkczp7Y2FuQWN0aXZhdGVDaGVja3M6aSxjYW5EZWFjdGl2YXRlQ2hlY2tzOm99fT1uO3JldHVybiAwPT09by5sZW5ndGgmJjA9PT1pLmxlbmd0aD9nZChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbikse2d1YXJkc1Jlc3VsdDohMH0pKTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gQih0KS5waXBlKEgodD0+ZnVuY3Rpb24odCxlLG4scixzKXtjb25zdCBpPWUmJmUucm91dGVDb25maWc/ZS5yb3V0ZUNvbmZpZy5jYW5EZWFjdGl2YXRlOm51bGw7cmV0dXJuIGkmJjAhPT1pLmxlbmd0aD9nZChpLm1hcChpPT57Y29uc3Qgbz1SZyhpLGUscyk7bGV0IGE7aWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJmFnKHQuY2FuRGVhY3RpdmF0ZSl9KG8pKWE9ZWYoby5jYW5EZWFjdGl2YXRlKHQsZSxuLHIpKTtlbHNle2lmKCFhZyhvKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgQ2FuRGVhY3RpdmF0ZSBndWFyZCIpO2E9ZWYobyh0LGUsbixyKSl9cmV0dXJuIGEucGlwZSh3cCgpKX0pKS5waXBlKHVnKCkpOmdkKCEwKX0odC5jb21wb25lbnQsdC5yb3V0ZSxuLGUscikpLHdwKHQ9PiEwIT09dCwhMCkpfShvLHIscyx0KS5waXBlKEgobj0+biYmImJvb2xlYW4iPT10eXBlb2Ygbj9mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gQihlKS5waXBlKHVwKGU9PllkKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPT10JiZlJiZlKG5ldyBIcCh0KSksZ2QoITApfShlLnJvdXRlLnBhcmVudCxyKSxmdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT09dCYmZSYmZShuZXcgenAodCkpLGdkKCEwKX0oZS5yb3V0ZSxyKSxmdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1lW2UubGVuZ3RoLTFdLHM9ZS5zbGljZSgwLGUubGVuZ3RoLTEpLnJldmVyc2UoKS5tYXAodD0+ZnVuY3Rpb24odCl7Y29uc3QgZT10LnJvdXRlQ29uZmlnP3Qucm91dGVDb25maWcuY2FuQWN0aXZhdGVDaGlsZDpudWxsO3JldHVybiBlJiYwIT09ZS5sZW5ndGg/e25vZGU6dCxndWFyZHM6ZX06bnVsbH0odCkpLmZpbHRlcih0PT5udWxsIT09dCkubWFwKGU9PlpkKCgpPT5nZChlLmd1YXJkcy5tYXAocz0+e2NvbnN0IGk9UmcocyxlLm5vZGUsbik7bGV0IG87aWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJmFnKHQuY2FuQWN0aXZhdGVDaGlsZCl9KGkpKW89ZWYoaS5jYW5BY3RpdmF0ZUNoaWxkKHIsdCkpO2Vsc2V7aWYoIWFnKGkpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBDYW5BY3RpdmF0ZUNoaWxkIGd1YXJkIik7bz1lZihpKHIsdCkpfXJldHVybiBvLnBpcGUod3AoKSl9KSkucGlwZSh1ZygpKSkpO3JldHVybiBnZChzKS5waXBlKHVnKCkpfSh0LGUucGF0aCxuKSxmdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1lLnJvdXRlQ29uZmlnP2Uucm91dGVDb25maWcuY2FuQWN0aXZhdGU6bnVsbDtyZXR1cm4gciYmMCE9PXIubGVuZ3RoP2dkKHIubWFwKHI9PlpkKCgpPT57Y29uc3Qgcz1SZyhyLGUsbik7bGV0IGk7aWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJmFnKHQuY2FuQWN0aXZhdGUpfShzKSlpPWVmKHMuY2FuQWN0aXZhdGUoZSx0KSk7ZWxzZXtpZighYWcocykpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIENhbkFjdGl2YXRlIGd1YXJkIik7aT1lZihzKGUsdCkpfXJldHVybiBpLnBpcGUod3AoKSl9KSkpLnBpcGUodWcoKSk6Z2QoITApfSh0LGUucm91dGUsbikpKSx3cCh0PT4hMCE9PXQsITApKX0ocixpLHQsZSk6Z2QobikpLHgodD0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHtndWFyZHNSZXN1bHQ6dH0pKSl9KX0odGhpcy5uZ01vZHVsZS5pbmplY3Rvcix0PT50aGlzLnRyaWdnZXJFdmVudCh0KSksRHAodD0+e2lmKGNnKHQuZ3VhcmRzUmVzdWx0KSl7Y29uc3QgZT1YcChgUmVkaXJlY3RpbmcgdG8gIiR7dGhpcy5zZXJpYWxpemVVcmwodC5ndWFyZHNSZXN1bHQpfSJgKTt0aHJvdyBlLnVybD10Lmd1YXJkc1Jlc3VsdCxlfWNvbnN0IGU9bmV3IExwKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLHRoaXMuc2VyaWFsaXplVXJsKHQudXJsQWZ0ZXJSZWRpcmVjdHMpLHQudGFyZ2V0U25hcHNob3QsISF0Lmd1YXJkc1Jlc3VsdCk7dGhpcy50cmlnZ2VyRXZlbnQoZSl9KSxzcCh0PT4hIXQuZ3VhcmRzUmVzdWx0fHwodGhpcy5jYW5jZWxOYXZpZ2F0aW9uVHJhbnNpdGlvbih0LCIiKSwhMSkpLEdnKHQ9PntpZih0Lmd1YXJkcy5jYW5BY3RpdmF0ZUNoZWNrcy5sZW5ndGgpcmV0dXJuIGdkKHQpLnBpcGUoRHAodD0+e2NvbnN0IGU9bmV3IEJwKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLHRoaXMuc2VyaWFsaXplVXJsKHQudXJsQWZ0ZXJSZWRpcmVjdHMpLHQudGFyZ2V0U25hcHNob3QpO3RoaXMudHJpZ2dlckV2ZW50KGUpfSksRGQodD0+e2xldCBlPSExO3JldHVybiBnZCh0KS5waXBlKChuPXRoaXMucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneSxyPXRoaXMubmdNb2R1bGUuaW5qZWN0b3IsSCh0PT57Y29uc3R7dGFyZ2V0U25hcHNob3Q6ZSxndWFyZHM6e2NhbkFjdGl2YXRlQ2hlY2tzOnN9fT10O2lmKCFzLmxlbmd0aClyZXR1cm4gZ2QodCk7bGV0IGk9MDtyZXR1cm4gQihzKS5waXBlKHVwKHQ9PmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBmdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPU9iamVjdC5rZXlzKHQpO2lmKDA9PT1zLmxlbmd0aClyZXR1cm4gZ2Qoe30pO2NvbnN0IGk9e307cmV0dXJuIEIocykucGlwZShIKHM9PmZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9UmcodCxlLHIpO3JldHVybiBlZihzLnJlc29sdmU/cy5yZXNvbHZlKGUsbik6cyhlLG4pKX0odFtzXSxlLG4scikucGlwZShEcCh0PT57aVtzXT10fSkpKSxocCgxKSxIKCgpPT5PYmplY3Qua2V5cyhpKS5sZW5ndGg9PT1zLmxlbmd0aD9nZChpKTpwZCkpfSh0Ll9yZXNvbHZlLHQsZSxyKS5waXBlKHgoZT0+KHQuX3Jlc29sdmVkRGF0YT1lLHQuZGF0YT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdC5kYXRhKSxqZih0LG4pLnJlc29sdmUpLG51bGwpKSl9KHQucm91dGUsZSxuLHIpKSxEcCgoKT0+aSsrKSxocCgxKSxIKGU9Pmk9PT1zLmxlbmd0aD9nZCh0KTpwZCkpfSkpLERwKHtuZXh0OigpPT5lPSEwLGNvbXBsZXRlOigpPT57ZXx8dGhpcy5jYW5jZWxOYXZpZ2F0aW9uVHJhbnNpdGlvbih0LCJBdCBsZWFzdCBvbmUgcm91dGUgcmVzb2x2ZXIgZGlkbid0IGVtaXQgYW55IHZhbHVlLiIpfX0pKTt2YXIgbixyfSksRHAodD0+e2NvbnN0IGU9bmV3IGpwKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLHRoaXMuc2VyaWFsaXplVXJsKHQudXJsQWZ0ZXJSZWRpcmVjdHMpLHQudGFyZ2V0U25hcHNob3QpO3RoaXMudHJpZ2dlckV2ZW50KGUpfSkpfSksR2codD0+e2NvbnN0e3RhcmdldFNuYXBzaG90OmUsaWQ6bixleHRyYWN0ZWRVcmw6cixyYXdVcmw6cyxleHRyYXM6e3NraXBMb2NhdGlvbkNoYW5nZTppLHJlcGxhY2VVcmw6b319PXQ7cmV0dXJuIHRoaXMuaG9va3MuYWZ0ZXJQcmVhY3RpdmF0aW9uKGUse25hdmlnYXRpb25JZDpuLGFwcGxpZWRVcmxUcmVlOnIscmF3VXJsVHJlZTpzLHNraXBMb2NhdGlvbkNoYW5nZTohIWkscmVwbGFjZVVybDohIW99KX0pLHgodD0+e2NvbnN0IGU9ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9VWYodCxlLl9yb290LG4/bi5fcm9vdDp2b2lkIDApO3JldHVybiBuZXcgUmYocixlKX0odGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3ksdC50YXJnZXRTbmFwc2hvdCx0LmN1cnJlbnRSb3V0ZXJTdGF0ZSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7dGFyZ2V0Um91dGVyU3RhdGU6ZX0pfSksRHAodD0+e3RoaXMuY3VycmVudFVybFRyZWU9dC51cmxBZnRlclJlZGlyZWN0cyx0aGlzLnJhd1VybFRyZWU9dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5Lm1lcmdlKHRoaXMuY3VycmVudFVybFRyZWUsdC5yYXdVcmwpLHRoaXMucm91dGVyU3RhdGU9dC50YXJnZXRSb3V0ZXJTdGF0ZSwiZGVmZXJyZWQiPT09dGhpcy51cmxVcGRhdGVTdHJhdGVneSYmKHQuZXh0cmFzLnNraXBMb2NhdGlvbkNoYW5nZXx8dGhpcy5zZXRCcm93c2VyVXJsKHRoaXMucmF3VXJsVHJlZSx0KSx0aGlzLmJyb3dzZXJVcmxUcmVlPXQudXJsQWZ0ZXJSZWRpcmVjdHMpfSksKGk9dGhpcy5yb290Q29udGV4dHMsbz10aGlzLnJvdXRlUmV1c2VTdHJhdGVneSxhPXQ9PnRoaXMudHJpZ2dlckV2ZW50KHQpLHgodD0+KG5ldyBzZyhvLHQudGFyZ2V0Um91dGVyU3RhdGUsdC5jdXJyZW50Um91dGVyU3RhdGUsYSkuYWN0aXZhdGUoaSksdCkpKSxEcCh7bmV4dCgpe249ITB9LGNvbXBsZXRlKCl7bj0hMH19KSwocz0oKT0+e258fHJ8fHRoaXMuY2FuY2VsTmF2aWdhdGlvblRyYW5zaXRpb24odCxgTmF2aWdhdGlvbiBJRCAke3QuaWR9IGlzIG5vdCBlcXVhbCB0byB0aGUgY3VycmVudCBuYXZpZ2F0aW9uIGlkICR7dGhpcy5uYXZpZ2F0aW9uSWR9YCksdGhpcy5jdXJyZW50TmF2aWdhdGlvbj1udWxsfSx0PT50LmxpZnQobmV3IHhwKHMpKSksYXAobj0+e2lmKHI9ITAsKHM9bikmJnMubmdOYXZpZ2F0aW9uQ2FuY2VsaW5nRXJyb3Ipe2NvbnN0IHI9Y2cobi51cmwpO3J8fCh0aGlzLm5hdmlnYXRlZD0hMCx0aGlzLnJlc2V0U3RhdGVBbmRVcmwodC5jdXJyZW50Um91dGVyU3RhdGUsdC5jdXJyZW50VXJsVHJlZSx0LnJhd1VybCkpO2NvbnN0IHM9bmV3IElwKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLG4ubWVzc2FnZSk7ZS5uZXh0KHMpLHI/c2V0VGltZW91dCgoKT0+e2NvbnN0IGU9dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5Lm1lcmdlKG4udXJsLHRoaXMucmF3VXJsVHJlZSk7dGhpcy5zY2hlZHVsZU5hdmlnYXRpb24oZSwiaW1wZXJhdGl2ZSIsbnVsbCx7c2tpcExvY2F0aW9uQ2hhbmdlOnQuZXh0cmFzLnNraXBMb2NhdGlvbkNoYW5nZSxyZXBsYWNlVXJsOiJlYWdlciI9PT10aGlzLnVybFVwZGF0ZVN0cmF0ZWd5fSx7cmVzb2x2ZTp0LnJlc29sdmUscmVqZWN0OnQucmVqZWN0LHByb21pc2U6dC5wcm9taXNlfSl9LDApOnQucmVzb2x2ZSghMSl9ZWxzZXt0aGlzLnJlc2V0U3RhdGVBbmRVcmwodC5jdXJyZW50Um91dGVyU3RhdGUsdC5jdXJyZW50VXJsVHJlZSx0LnJhd1VybCk7Y29uc3Qgcj1uZXcgT3AodC5pZCx0aGlzLnNlcmlhbGl6ZVVybCh0LmV4dHJhY3RlZFVybCksbik7ZS5uZXh0KHIpO3RyeXt0LnJlc29sdmUodGhpcy5lcnJvckhhbmRsZXIobikpfWNhdGNoKGkpe3QucmVqZWN0KGkpfX12YXIgcztyZXR1cm4gcGR9KSk7dmFyIHMsaSxvLGF9KSl9cmVzZXRSb290Q29tcG9uZW50VHlwZSh0KXt0aGlzLnJvb3RDb21wb25lbnRUeXBlPXQsdGhpcy5yb3V0ZXJTdGF0ZS5yb290LmNvbXBvbmVudD10aGlzLnJvb3RDb21wb25lbnRUeXBlfWdldFRyYW5zaXRpb24oKXtjb25zdCB0PXRoaXMudHJhbnNpdGlvbnMudmFsdWU7cmV0dXJuIHQudXJsQWZ0ZXJSZWRpcmVjdHM9dGhpcy5icm93c2VyVXJsVHJlZSx0fXNldFRyYW5zaXRpb24odCl7dGhpcy50cmFuc2l0aW9ucy5uZXh0KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldFRyYW5zaXRpb24oKSksdCkpfWluaXRpYWxOYXZpZ2F0aW9uKCl7dGhpcy5zZXRVcExvY2F0aW9uQ2hhbmdlTGlzdGVuZXIoKSwwPT09dGhpcy5uYXZpZ2F0aW9uSWQmJnRoaXMubmF2aWdhdGVCeVVybCh0aGlzLmxvY2F0aW9uLnBhdGgoITApLHtyZXBsYWNlVXJsOiEwfSl9c2V0VXBMb2NhdGlvbkNoYW5nZUxpc3RlbmVyKCl7dGhpcy5sb2NhdGlvblN1YnNjcmlwdGlvbnx8KHRoaXMubG9jYXRpb25TdWJzY3JpcHRpb249dGhpcy5sb2NhdGlvbi5zdWJzY3JpYmUodD0+e2NvbnN0IGU9dGhpcy5leHRyYWN0TG9jYXRpb25DaGFuZ2VJbmZvRnJvbUV2ZW50KHQpO3RoaXMuc2hvdWxkU2NoZWR1bGVOYXZpZ2F0aW9uKHRoaXMubGFzdExvY2F0aW9uQ2hhbmdlSW5mbyxlKSYmc2V0VGltZW91dCgoKT0+e2NvbnN0e3NvdXJjZTp0LHN0YXRlOm4sdXJsVHJlZTpyfT1lLHM9e3JlcGxhY2VVcmw6ITB9O2lmKG4pe2NvbnN0IHQ9T2JqZWN0LmFzc2lnbih7fSxuKTtkZWxldGUgdC5uYXZpZ2F0aW9uSWQsZGVsZXRlIHQuXHUwMjc1cm91dGVyUGFnZUlkLDAhPT1PYmplY3Qua2V5cyh0KS5sZW5ndGgmJihzLnN0YXRlPXQpfXRoaXMuc2NoZWR1bGVOYXZpZ2F0aW9uKHIsdCxuLHMpfSwwKSx0aGlzLmxhc3RMb2NhdGlvbkNoYW5nZUluZm89ZX0pKX1leHRyYWN0TG9jYXRpb25DaGFuZ2VJbmZvRnJvbUV2ZW50KHQpe3ZhciBlO3JldHVybntzb3VyY2U6InBvcHN0YXRlIj09PXQudHlwZT8icG9wc3RhdGUiOiJoYXNoY2hhbmdlIix1cmxUcmVlOnRoaXMucGFyc2VVcmwodC51cmwpLHN0YXRlOihudWxsPT09KGU9dC5zdGF0ZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUubmF2aWdhdGlvbklkKT90LnN0YXRlOm51bGwsdHJhbnNpdGlvbklkOnRoaXMuZ2V0VHJhbnNpdGlvbigpLmlkfX1zaG91bGRTY2hlZHVsZU5hdmlnYXRpb24odCxlKXtpZighdClyZXR1cm4hMDtjb25zdCBuPWUudXJsVHJlZS50b1N0cmluZygpPT09dC51cmxUcmVlLnRvU3RyaW5nKCk7cmV0dXJuIShlLnRyYW5zaXRpb25JZD09PXQudHJhbnNpdGlvbklkJiZuJiYoImhhc2hjaGFuZ2UiPT09ZS5zb3VyY2UmJiJwb3BzdGF0ZSI9PT10LnNvdXJjZXx8InBvcHN0YXRlIj09PWUuc291cmNlJiYiaGFzaGNoYW5nZSI9PT10LnNvdXJjZSkpfWdldCB1cmwoKXtyZXR1cm4gdGhpcy5zZXJpYWxpemVVcmwodGhpcy5jdXJyZW50VXJsVHJlZSl9Z2V0Q3VycmVudE5hdmlnYXRpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50TmF2aWdhdGlvbn10cmlnZ2VyRXZlbnQodCl7dGhpcy5ldmVudHMubmV4dCh0KX1yZXNldENvbmZpZyh0KXtkZyh0KSx0aGlzLmNvbmZpZz10Lm1hcChnZyksdGhpcy5uYXZpZ2F0ZWQ9ITEsdGhpcy5sYXN0U3VjY2Vzc2Z1bElkPS0xfW5nT25EZXN0cm95KCl7dGhpcy5kaXNwb3NlKCl9ZGlzcG9zZSgpe3RoaXMudHJhbnNpdGlvbnMuY29tcGxldGUoKSx0aGlzLmxvY2F0aW9uU3Vic2NyaXB0aW9uJiYodGhpcy5sb2NhdGlvblN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpLHRoaXMubG9jYXRpb25TdWJzY3JpcHRpb249dm9pZCAwKSx0aGlzLmRpc3Bvc2VkPSEwfWNyZWF0ZVVybFRyZWUodCxlPXt9KXtjb25zdHtyZWxhdGl2ZVRvOm4scXVlcnlQYXJhbXM6cixmcmFnbWVudDpzLHF1ZXJ5UGFyYW1zSGFuZGxpbmc6aSxwcmVzZXJ2ZUZyYWdtZW50Om99PWUsYT1ufHx0aGlzLnJvdXRlclN0YXRlLnJvb3QsYz1vP3RoaXMuY3VycmVudFVybFRyZWUuZnJhZ21lbnQ6cztsZXQgbD1udWxsO3N3aXRjaChpKXtjYXNlIm1lcmdlIjpsPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLmN1cnJlbnRVcmxUcmVlLnF1ZXJ5UGFyYW1zKSxyKTticmVhaztjYXNlInByZXNlcnZlIjpsPXRoaXMuY3VycmVudFVybFRyZWUucXVlcnlQYXJhbXM7YnJlYWs7ZGVmYXVsdDpsPXJ8fG51bGx9cmV0dXJuIG51bGwhPT1sJiYobD10aGlzLnJlbW92ZUVtcHR5UHJvcHMobCkpLGZ1bmN0aW9uKHQsZSxuLHIscyl7aWYoMD09PW4ubGVuZ3RoKXJldHVybiBYZihlLnJvb3QsZS5yb290LGUscixzKTtjb25zdCBpPWZ1bmN0aW9uKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdFswXSYmMT09PXQubGVuZ3RoJiYiLyI9PT10WzBdKXJldHVybiBuZXcgWmYoITAsMCx0KTtsZXQgZT0wLG49ITE7Y29uc3Qgcj10LnJlZHVjZSgodCxyLHMpPT57aWYoIm9iamVjdCI9PXR5cGVvZiByJiZudWxsIT1yKXtpZihyLm91dGxldHMpe2NvbnN0IGU9e307cmV0dXJuIHRmKHIub3V0bGV0cywodCxuKT0+e2Vbbl09InN0cmluZyI9PXR5cGVvZiB0P3Quc3BsaXQoIi8iKTp0fSksWy4uLnQse291dGxldHM6ZX1dfWlmKHIuc2VnbWVudFBhdGgpcmV0dXJuWy4uLnQsci5zZWdtZW50UGF0aF19cmV0dXJuInN0cmluZyIhPXR5cGVvZiByP1suLi50LHJdOjA9PT1zPyhyLnNwbGl0KCIvIikuZm9yRWFjaCgocixzKT0+ezA9PXMmJiIuIj09PXJ8fCgwPT1zJiYiIj09PXI/bj0hMDoiLi4iPT09cj9lKys6IiIhPXImJnQucHVzaChyKSl9KSx0KTpbLi4udCxyXX0sW10pO3JldHVybiBuZXcgWmYobixlLHIpfShuKTtpZihpLnRvUm9vdCgpKXJldHVybiBYZihlLnJvb3QsbmV3IHVmKFtdLHt9KSxlLHIscyk7Y29uc3Qgbz1mdW5jdGlvbih0LGUsbil7aWYodC5pc0Fic29sdXRlKXJldHVybiBuZXcgUWYoZS5yb290LCEwLDApO2lmKC0xPT09bi5zbmFwc2hvdC5fbGFzdFBhdGhJbmRleCl7Y29uc3QgdD1uLnNuYXBzaG90Ll91cmxTZWdtZW50O3JldHVybiBuZXcgUWYodCx0PT09ZS5yb290LDApfWNvbnN0IHI9R2YodC5jb21tYW5kc1swXSk/MDoxO3JldHVybiBmdW5jdGlvbih0LGUsbil7bGV0IHI9dCxzPWUsaT1uO2Zvcig7aT5zOyl7aWYoaS09cyxyPXIucGFyZW50LCFyKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBudW1iZXIgb2YgJy4uLyciKTtzPXIuc2VnbWVudHMubGVuZ3RofXJldHVybiBuZXcgUWYociwhMSxzLWkpfShuLnNuYXBzaG90Ll91cmxTZWdtZW50LG4uc25hcHNob3QuX2xhc3RQYXRoSW5kZXgrcix0Lm51bWJlck9mRG91YmxlRG90cyl9KGksZSx0KSxhPW8ucHJvY2Vzc0NoaWxkcmVuP0pmKG8uc2VnbWVudEdyb3VwLG8uaW5kZXgsaS5jb21tYW5kcyk6S2Yoby5zZWdtZW50R3JvdXAsby5pbmRleCxpLmNvbW1hbmRzKTtyZXR1cm4gWGYoby5zZWdtZW50R3JvdXAsYSxlLHIscyl9KGEsdGhpcy5jdXJyZW50VXJsVHJlZSx0LGwsbnVsbCE9Yz9jOm51bGwpfW5hdmlnYXRlQnlVcmwodCxlPXtza2lwTG9jYXRpb25DaGFuZ2U6ITF9KXtjb25zdCBuPWNnKHQpP3Q6dGhpcy5wYXJzZVVybCh0KSxyPXRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5tZXJnZShuLHRoaXMucmF3VXJsVHJlZSk7bGV0IHM9bnVsbDtyZXR1cm4iY29tcHV0ZWQiPT09dGhpcy5jYW5jZWxlZE5hdmlnYXRpb25SZXNvbHV0aW9uJiYoMD09PXRoaXMuY3VycmVudFBhZ2VJZHx8ZS5za2lwTG9jYXRpb25DaGFuZ2V8fGUucmVwbGFjZVVybCkmJihzPXRoaXMubG9jYXRpb24uZ2V0U3RhdGUoKSksdGhpcy5zY2hlZHVsZU5hdmlnYXRpb24ociwiaW1wZXJhdGl2ZSIscyxlKX1uYXZpZ2F0ZSh0LGU9e3NraXBMb2NhdGlvbkNoYW5nZTohMX0pe3JldHVybiBmdW5jdGlvbih0KXtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgbj10W2VdO2lmKG51bGw9PW4pdGhyb3cgbmV3IEVycm9yKGBUaGUgcmVxdWVzdGVkIHBhdGggY29udGFpbnMgJHtufSBzZWdtZW50IGF0IGluZGV4ICR7ZX1gKX19KHQpLHRoaXMubmF2aWdhdGVCeVVybCh0aGlzLmNyZWF0ZVVybFRyZWUodCxlKSxlKX1zZXJpYWxpemVVcmwodCl7cmV0dXJuIHRoaXMudXJsU2VyaWFsaXplci5zZXJpYWxpemUodCl9cGFyc2VVcmwodCl7bGV0IGU7dHJ5e2U9dGhpcy51cmxTZXJpYWxpemVyLnBhcnNlKHQpfWNhdGNoKG4pe2U9dGhpcy5tYWxmb3JtZWRVcmlFcnJvckhhbmRsZXIobix0aGlzLnVybFNlcmlhbGl6ZXIsdCl9cmV0dXJuIGV9aXNBY3RpdmUodCxlKXtsZXQgbjtpZihuPSEwPT09ZT9PYmplY3QuYXNzaWduKHt9LG5tKTohMT09PWU/T2JqZWN0LmFzc2lnbih7fSxybSk6ZSxjZyh0KSlyZXR1cm4gc2YodGhpcy5jdXJyZW50VXJsVHJlZSx0LG4pO2NvbnN0IHI9dGhpcy5wYXJzZVVybCh0KTtyZXR1cm4gc2YodGhpcy5jdXJyZW50VXJsVHJlZSxyLG4pfXJlbW92ZUVtcHR5UHJvcHModCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLnJlZHVjZSgoZSxuKT0+e2NvbnN0IHI9dFtuXTtyZXR1cm4gbnVsbCE9ciYmKGVbbl09ciksZX0se30pfXByb2Nlc3NOYXZpZ2F0aW9ucygpe3RoaXMubmF2aWdhdGlvbnMuc3Vic2NyaWJlKHQ9Pnt0aGlzLm5hdmlnYXRlZD0hMCx0aGlzLmxhc3RTdWNjZXNzZnVsSWQ9dC5pZCx0aGlzLmN1cnJlbnRQYWdlSWQ9dC50YXJnZXRQYWdlSWQsdGhpcy5ldmVudHMubmV4dChuZXcgRnAodC5pZCx0aGlzLnNlcmlhbGl6ZVVybCh0LmV4dHJhY3RlZFVybCksdGhpcy5zZXJpYWxpemVVcmwodGhpcy5jdXJyZW50VXJsVHJlZSkpKSx0aGlzLmxhc3RTdWNjZXNzZnVsTmF2aWdhdGlvbj10aGlzLmN1cnJlbnROYXZpZ2F0aW9uLHQucmVzb2x2ZSghMCl9LHQ9Pnt0aGlzLmNvbnNvbGUud2FybigiVW5oYW5kbGVkIE5hdmlnYXRpb24gRXJyb3I6ICIpfSl9c2NoZWR1bGVOYXZpZ2F0aW9uKHQsZSxuLHIscyl7aWYodGhpcy5kaXNwb3NlZClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCExKTtjb25zdCBpPXRoaXMuZ2V0VHJhbnNpdGlvbigpLG89ImltcGVyYXRpdmUiIT09ZSYmImltcGVyYXRpdmUiPT09KG51bGw9PWk/dm9pZCAwOmkuc291cmNlKSxhPSh0aGlzLmxhc3RTdWNjZXNzZnVsSWQ9PT1pLmlkfHx0aGlzLmN1cnJlbnROYXZpZ2F0aW9uP2kucmF3VXJsOmkudXJsQWZ0ZXJSZWRpcmVjdHMpLnRvU3RyaW5nKCk9PT10LnRvU3RyaW5nKCk7aWYobyYmYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCEwKTtsZXQgYyxsLHU7cz8oYz1zLnJlc29sdmUsbD1zLnJlamVjdCx1PXMucHJvbWlzZSk6dT1uZXcgUHJvbWlzZSgodCxlKT0+e2M9dCxsPWV9KTtjb25zdCBoPSsrdGhpcy5uYXZpZ2F0aW9uSWQ7bGV0IGQ7cmV0dXJuIGQ9ImNvbXB1dGVkIj09PXRoaXMuY2FuY2VsZWROYXZpZ2F0aW9uUmVzb2x1dGlvbj9uJiZuLlx1MDI3NXJvdXRlclBhZ2VJZD9uLlx1MDI3NXJvdXRlclBhZ2VJZDp0aGlzLmN1cnJlbnRQYWdlSWQrMTowLHRoaXMuc2V0VHJhbnNpdGlvbih7aWQ6aCx0YXJnZXRQYWdlSWQ6ZCxzb3VyY2U6ZSxyZXN0b3JlZFN0YXRlOm4sY3VycmVudFVybFRyZWU6dGhpcy5jdXJyZW50VXJsVHJlZSxjdXJyZW50UmF3VXJsOnRoaXMucmF3VXJsVHJlZSxyYXdVcmw6dCxleHRyYXM6cixyZXNvbHZlOmMscmVqZWN0OmwscHJvbWlzZTp1LGN1cnJlbnRTbmFwc2hvdDp0aGlzLnJvdXRlclN0YXRlLnNuYXBzaG90LGN1cnJlbnRSb3V0ZXJTdGF0ZTp0aGlzLnJvdXRlclN0YXRlfSksdS5jYXRjaCh0PT5Qcm9taXNlLnJlamVjdCh0KSl9c2V0QnJvd3NlclVybCh0LGUpe2NvbnN0IG49dGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh0KSxyPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlLmV4dHJhcy5zdGF0ZSksdGhpcy5nZW5lcmF0ZU5nUm91dGVyU3RhdGUoZS5pZCxlLnRhcmdldFBhZ2VJZCkpO3RoaXMubG9jYXRpb24uaXNDdXJyZW50UGF0aEVxdWFsVG8obil8fGUuZXh0cmFzLnJlcGxhY2VVcmw/dGhpcy5sb2NhdGlvbi5yZXBsYWNlU3RhdGUobiwiIixyKTp0aGlzLmxvY2F0aW9uLmdvKG4sIiIscil9cmVzZXRTdGF0ZUFuZFVybCh0LGUsbil7dGhpcy5yb3V0ZXJTdGF0ZT10LHRoaXMuY3VycmVudFVybFRyZWU9ZSx0aGlzLnJhd1VybFRyZWU9dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5Lm1lcmdlKHRoaXMuY3VycmVudFVybFRyZWUsbiksdGhpcy5yZXNldFVybFRvQ3VycmVudFVybFRyZWUoKX1yZXNldFVybFRvQ3VycmVudFVybFRyZWUoKXt0aGlzLmxvY2F0aW9uLnJlcGxhY2VTdGF0ZSh0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKHRoaXMucmF3VXJsVHJlZSksIiIsdGhpcy5nZW5lcmF0ZU5nUm91dGVyU3RhdGUodGhpcy5sYXN0U3VjY2Vzc2Z1bElkLHRoaXMuY3VycmVudFBhZ2VJZCkpfWNhbmNlbE5hdmlnYXRpb25UcmFuc2l0aW9uKHQsZSl7ImNvbXB1dGVkIj09PXRoaXMuY2FuY2VsZWROYXZpZ2F0aW9uUmVzb2x1dGlvbj8icG9wc3RhdGUiIT09dC5zb3VyY2UmJiJlYWdlciIhPT10aGlzLnVybFVwZGF0ZVN0cmF0ZWd5fHx0aGlzLmxvY2F0aW9uLmhpc3RvcnlHbyh0aGlzLmN1cnJlbnRQYWdlSWQtdC50YXJnZXRQYWdlSWQpOnRoaXMucmVzZXRVcmxUb0N1cnJlbnRVcmxUcmVlKCk7Y29uc3Qgbj1uZXcgSXAodC5pZCx0aGlzLnNlcmlhbGl6ZVVybCh0LmV4dHJhY3RlZFVybCksZSk7dGhpcy50cmlnZ2VyRXZlbnQobiksdC5yZXNvbHZlKCExKX1nZW5lcmF0ZU5nUm91dGVyU3RhdGUodCxlKXtyZXR1cm4iY29tcHV0ZWQiPT09dGhpcy5jYW5jZWxlZE5hdmlnYXRpb25SZXNvbHV0aW9uP3tuYXZpZ2F0aW9uSWQ6dCwiXHUwMjc1cm91dGVyUGFnZUlkIjplfTp7bmF2aWdhdGlvbklkOnR9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShocihZbiksaHIocGYpLGhyKFFnKSxocih1dSksaHIoS2kpLGhyKE5sKSxocihmbCksaHIodm9pZCAwKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksaW09KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbixyLHMpe3RoaXMucGFyZW50Q29udGV4dHM9dCx0aGlzLmxvY2F0aW9uPWUsdGhpcy5yZXNvbHZlcj1uLHRoaXMuY2hhbmdlRGV0ZWN0b3I9cyx0aGlzLmFjdGl2YXRlZD1udWxsLHRoaXMuX2FjdGl2YXRlZFJvdXRlPW51bGwsdGhpcy5hY3RpdmF0ZUV2ZW50cz1uZXcgSWMsdGhpcy5kZWFjdGl2YXRlRXZlbnRzPW5ldyBJYyx0aGlzLm5hbWU9cnx8V3AsdC5vbkNoaWxkT3V0bGV0Q3JlYXRlZCh0aGlzLm5hbWUsdGhpcyl9bmdPbkRlc3Ryb3koKXt0aGlzLnBhcmVudENvbnRleHRzLm9uQ2hpbGRPdXRsZXREZXN0cm95ZWQodGhpcy5uYW1lKX1uZ09uSW5pdCgpe2lmKCF0aGlzLmFjdGl2YXRlZCl7Y29uc3QgdD10aGlzLnBhcmVudENvbnRleHRzLmdldENvbnRleHQodGhpcy5uYW1lKTt0JiZ0LnJvdXRlJiYodC5hdHRhY2hSZWY/dGhpcy5hdHRhY2godC5hdHRhY2hSZWYsdC5yb3V0ZSk6dGhpcy5hY3RpdmF0ZVdpdGgodC5yb3V0ZSx0LnJlc29sdmVyfHxudWxsKSl9fWdldCBpc0FjdGl2YXRlZCgpe3JldHVybiEhdGhpcy5hY3RpdmF0ZWR9Z2V0IGNvbXBvbmVudCgpe2lmKCF0aGlzLmFjdGl2YXRlZCl0aHJvdyBuZXcgRXJyb3IoIk91dGxldCBpcyBub3QgYWN0aXZhdGVkIik7cmV0dXJuIHRoaXMuYWN0aXZhdGVkLmluc3RhbmNlfWdldCBhY3RpdmF0ZWRSb3V0ZSgpe2lmKCF0aGlzLmFjdGl2YXRlZCl0aHJvdyBuZXcgRXJyb3IoIk91dGxldCBpcyBub3QgYWN0aXZhdGVkIik7cmV0dXJuIHRoaXMuX2FjdGl2YXRlZFJvdXRlfWdldCBhY3RpdmF0ZWRSb3V0ZURhdGEoKXtyZXR1cm4gdGhpcy5fYWN0aXZhdGVkUm91dGU/dGhpcy5fYWN0aXZhdGVkUm91dGUuc25hcHNob3QuZGF0YTp7fX1kZXRhY2goKXtpZighdGhpcy5hY3RpdmF0ZWQpdGhyb3cgbmV3IEVycm9yKCJPdXRsZXQgaXMgbm90IGFjdGl2YXRlZCIpO3RoaXMubG9jYXRpb24uZGV0YWNoKCk7Y29uc3QgdD10aGlzLmFjdGl2YXRlZDtyZXR1cm4gdGhpcy5hY3RpdmF0ZWQ9bnVsbCx0aGlzLl9hY3RpdmF0ZWRSb3V0ZT1udWxsLHR9YXR0YWNoKHQsZSl7dGhpcy5hY3RpdmF0ZWQ9dCx0aGlzLl9hY3RpdmF0ZWRSb3V0ZT1lLHRoaXMubG9jYXRpb24uaW5zZXJ0KHQuaG9zdFZpZXcpfWRlYWN0aXZhdGUoKXtpZih0aGlzLmFjdGl2YXRlZCl7Y29uc3QgdD10aGlzLmNvbXBvbmVudDt0aGlzLmFjdGl2YXRlZC5kZXN0cm95KCksdGhpcy5hY3RpdmF0ZWQ9bnVsbCx0aGlzLl9hY3RpdmF0ZWRSb3V0ZT1udWxsLHRoaXMuZGVhY3RpdmF0ZUV2ZW50cy5lbWl0KHQpfX1hY3RpdmF0ZVdpdGgodCxlKXtpZih0aGlzLmlzQWN0aXZhdGVkKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGFjdGl2YXRlIGFuIGFscmVhZHkgYWN0aXZhdGVkIG91dGxldCIpO3RoaXMuX2FjdGl2YXRlZFJvdXRlPXQ7Y29uc3Qgbj0oZT1lfHx0aGlzLnJlc29sdmVyKS5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh0Ll9mdXR1cmVTbmFwc2hvdC5yb3V0ZUNvbmZpZy5jb21wb25lbnQpLHI9dGhpcy5wYXJlbnRDb250ZXh0cy5nZXRPckNyZWF0ZUNvbnRleHQodGhpcy5uYW1lKS5jaGlsZHJlbixzPW5ldyBvbSh0LHIsdGhpcy5sb2NhdGlvbi5pbmplY3Rvcik7dGhpcy5hY3RpdmF0ZWQ9dGhpcy5sb2NhdGlvbi5jcmVhdGVDb21wb25lbnQobix0aGlzLmxvY2F0aW9uLmxlbmd0aCxzKSx0aGlzLmNoYW5nZURldGVjdG9yLm1hcmtGb3JDaGVjaygpLHRoaXMuYWN0aXZhdGVFdmVudHMuZW1pdCh0aGlzLmFjdGl2YXRlZC5pbnN0YW5jZSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKFFnKSx2byhwYyksdm8oU2EpLCgibmFtZSIsZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuYXR0cnM7aWYobil7Y29uc3QgdD1uLmxlbmd0aDtsZXQgcj0wO2Zvcig7cjx0Oyl7Y29uc3Qgcz1uW3JdO2lmKHluKHMpKWJyZWFrO2lmKDA9PT1zKXIrPTI7ZWxzZSBpZigibnVtYmVyIj09dHlwZW9mIHMpZm9yKHIrKztyPHQmJiJzdHJpbmciPT10eXBlb2YgbltyXTspcisrO2Vsc2V7aWYocz09PWUpcmV0dXJuIG5bcisxXTtyKz0yfX19cmV0dXJuIG51bGx9KFJlKCksIm5hbWUiKSksdm8oZWMpKX0sdC5cdTAyNzVkaXI9WHQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicm91dGVyLW91dGxldCJdXSxvdXRwdXRzOnthY3RpdmF0ZUV2ZW50czoiYWN0aXZhdGUiLGRlYWN0aXZhdGVFdmVudHM6ImRlYWN0aXZhdGUifSxleHBvcnRBczpbIm91dGxldCJdfSksdH0pKCk7Y2xhc3Mgb217Y29uc3RydWN0b3IodCxlLG4pe3RoaXMucm91dGU9dCx0aGlzLmNoaWxkQ29udGV4dHM9ZSx0aGlzLnBhcmVudD1ufWdldCh0LGUpe3JldHVybiB0PT09QmY/dGhpcy5yb3V0ZTp0PT09UWc/dGhpcy5jaGlsZENvbnRleHRzOnRoaXMucGFyZW50LmdldCh0LGUpfX1jbGFzcyBhbXt9Y2xhc3MgY217cHJlbG9hZCh0LGUpe3JldHVybiBnZChudWxsKX19bGV0IGxtPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4scixzKXt0aGlzLnJvdXRlcj10LHRoaXMuaW5qZWN0b3I9cix0aGlzLnByZWxvYWRpbmdTdHJhdGVneT1zLHRoaXMubG9hZGVyPW5ldyBZZyhlLG4sZT0+dC50cmlnZ2VyRXZlbnQobmV3IE1wKGUpKSxlPT50LnRyaWdnZXJFdmVudChuZXcgTnAoZSkpKX1zZXRVcFByZWxvYWRpbmcoKXt0aGlzLnN1YnNjcmlwdGlvbj10aGlzLnJvdXRlci5ldmVudHMucGlwZShzcCh0PT50IGluc3RhbmNlb2YgRnApLHVwKCgpPT50aGlzLnByZWxvYWQoKSkpLnN1YnNjcmliZSgoKT0+e30pfXByZWxvYWQoKXtjb25zdCB0PXRoaXMuaW5qZWN0b3IuZ2V0KHVjKTtyZXR1cm4gdGhpcy5wcm9jZXNzUm91dGVzKHQsdGhpcy5yb3V0ZXIuY29uZmlnKX1uZ09uRGVzdHJveSgpe3RoaXMuc3Vic2NyaXB0aW9uJiZ0aGlzLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfXByb2Nlc3NSb3V0ZXModCxlKXtjb25zdCBuPVtdO2Zvcihjb25zdCByIG9mIGUpaWYoci5sb2FkQ2hpbGRyZW4mJiFyLmNhbkxvYWQmJnIuX2xvYWRlZENvbmZpZyl7Y29uc3QgdD1yLl9sb2FkZWRDb25maWc7bi5wdXNoKHRoaXMucHJvY2Vzc1JvdXRlcyh0Lm1vZHVsZSx0LnJvdXRlcykpfWVsc2Ugci5sb2FkQ2hpbGRyZW4mJiFyLmNhbkxvYWQ/bi5wdXNoKHRoaXMucHJlbG9hZENvbmZpZyh0LHIpKTpyLmNoaWxkcmVuJiZuLnB1c2godGhpcy5wcm9jZXNzUm91dGVzKHQsci5jaGlsZHJlbikpO3JldHVybiBCKG4pLnBpcGUoJCgpLHgodD0+e30pKX1wcmVsb2FkQ29uZmlnKHQsZSl7cmV0dXJuIHRoaXMucHJlbG9hZGluZ1N0cmF0ZWd5LnByZWxvYWQoZSwoKT0+KGUuX2xvYWRlZENvbmZpZz9nZChlLl9sb2FkZWRDb25maWcpOnRoaXMubG9hZGVyLmxvYWQodC5pbmplY3RvcixlKSkucGlwZShIKHQ9PihlLl9sb2FkZWRDb25maWc9dCx0aGlzLnByb2Nlc3NSb3V0ZXModC5tb2R1bGUsdC5yb3V0ZXMpKSkpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaHIoc20pLGhyKE5sKSxocihmbCksaHIoS2kpLGhyKGFtKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksdW09KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbj17fSl7dGhpcy5yb3V0ZXI9dCx0aGlzLnZpZXdwb3J0U2Nyb2xsZXI9ZSx0aGlzLm9wdGlvbnM9bix0aGlzLmxhc3RJZD0wLHRoaXMubGFzdFNvdXJjZT0iaW1wZXJhdGl2ZSIsdGhpcy5yZXN0b3JlZElkPTAsdGhpcy5zdG9yZT17fSxuLnNjcm9sbFBvc2l0aW9uUmVzdG9yYXRpb249bi5zY3JvbGxQb3NpdGlvblJlc3RvcmF0aW9ufHwiZGlzYWJsZWQiLG4uYW5jaG9yU2Nyb2xsaW5nPW4uYW5jaG9yU2Nyb2xsaW5nfHwiZGlzYWJsZWQifWluaXQoKXsiZGlzYWJsZWQiIT09dGhpcy5vcHRpb25zLnNjcm9sbFBvc2l0aW9uUmVzdG9yYXRpb24mJnRoaXMudmlld3BvcnRTY3JvbGxlci5zZXRIaXN0b3J5U2Nyb2xsUmVzdG9yYXRpb24oIm1hbnVhbCIpLHRoaXMucm91dGVyRXZlbnRzU3Vic2NyaXB0aW9uPXRoaXMuY3JlYXRlU2Nyb2xsRXZlbnRzKCksdGhpcy5zY3JvbGxFdmVudHNTdWJzY3JpcHRpb249dGhpcy5jb25zdW1lU2Nyb2xsRXZlbnRzKCl9Y3JlYXRlU2Nyb2xsRXZlbnRzKCl7cmV0dXJuIHRoaXMucm91dGVyLmV2ZW50cy5zdWJzY3JpYmUodD0+e3QgaW5zdGFuY2VvZiBrcD8odGhpcy5zdG9yZVt0aGlzLmxhc3RJZF09dGhpcy52aWV3cG9ydFNjcm9sbGVyLmdldFNjcm9sbFBvc2l0aW9uKCksdGhpcy5sYXN0U291cmNlPXQubmF2aWdhdGlvblRyaWdnZXIsdGhpcy5yZXN0b3JlZElkPXQucmVzdG9yZWRTdGF0ZT90LnJlc3RvcmVkU3RhdGUubmF2aWdhdGlvbklkOjApOnQgaW5zdGFuY2VvZiBGcCYmKHRoaXMubGFzdElkPXQuaWQsdGhpcy5zY2hlZHVsZVNjcm9sbEV2ZW50KHQsdGhpcy5yb3V0ZXIucGFyc2VVcmwodC51cmxBZnRlclJlZGlyZWN0cykuZnJhZ21lbnQpKX0pfWNvbnN1bWVTY3JvbGxFdmVudHMoKXtyZXR1cm4gdGhpcy5yb3V0ZXIuZXZlbnRzLnN1YnNjcmliZSh0PT57dCBpbnN0YW5jZW9mIFVwJiYodC5wb3NpdGlvbj8idG9wIj09PXRoaXMub3B0aW9ucy5zY3JvbGxQb3NpdGlvblJlc3RvcmF0aW9uP3RoaXMudmlld3BvcnRTY3JvbGxlci5zY3JvbGxUb1Bvc2l0aW9uKFswLDBdKToiZW5hYmxlZCI9PT10aGlzLm9wdGlvbnMuc2Nyb2xsUG9zaXRpb25SZXN0b3JhdGlvbiYmdGhpcy52aWV3cG9ydFNjcm9sbGVyLnNjcm9sbFRvUG9zaXRpb24odC5wb3NpdGlvbik6dC5hbmNob3ImJiJlbmFibGVkIj09PXRoaXMub3B0aW9ucy5hbmNob3JTY3JvbGxpbmc/dGhpcy52aWV3cG9ydFNjcm9sbGVyLnNjcm9sbFRvQW5jaG9yKHQuYW5jaG9yKToiZGlzYWJsZWQiIT09dGhpcy5vcHRpb25zLnNjcm9sbFBvc2l0aW9uUmVzdG9yYXRpb24mJnRoaXMudmlld3BvcnRTY3JvbGxlci5zY3JvbGxUb1Bvc2l0aW9uKFswLDBdKSl9KX1zY2hlZHVsZVNjcm9sbEV2ZW50KHQsZSl7dGhpcy5yb3V0ZXIudHJpZ2dlckV2ZW50KG5ldyBVcCh0LCJwb3BzdGF0ZSI9PT10aGlzLmxhc3RTb3VyY2U/dGhpcy5zdG9yZVt0aGlzLnJlc3RvcmVkSWRdOm51bGwsZSkpfW5nT25EZXN0cm95KCl7dGhpcy5yb3V0ZXJFdmVudHNTdWJzY3JpcHRpb24mJnRoaXMucm91dGVyRXZlbnRzU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCksdGhpcy5zY3JvbGxFdmVudHNTdWJzY3JpcHRpb24mJnRoaXMuc2Nyb2xsRXZlbnRzU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhyKHNtKSxocih4aCksaHIodm9pZCAwKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y29uc3QgaG09bmV3IHFuKCJST1VURVJfQ09ORklHVVJBVElPTiIpLGRtPW5ldyBxbigiUk9VVEVSX0ZPUlJPT1RfR1VBUkQiKSxwbT1bdXUse3Byb3ZpZGU6cGYsdXNlQ2xhc3M6ZmZ9LHtwcm92aWRlOnNtLHVzZUZhY3Rvcnk6ZnVuY3Rpb24odCxlLG4scixzLGksbyxhPXt9LGMsbCl7Y29uc3QgdT1uZXcgc20obnVsbCx0LGUsbixyLHMsaSxLcChvKSk7cmV0dXJuIGMmJih1LnVybEhhbmRsaW5nU3RyYXRlZ3k9YyksbCYmKHUucm91dGVSZXVzZVN0cmF0ZWd5PWwpLGZ1bmN0aW9uKHQsZSl7dC5lcnJvckhhbmRsZXImJihlLmVycm9ySGFuZGxlcj10LmVycm9ySGFuZGxlciksdC5tYWxmb3JtZWRVcmlFcnJvckhhbmRsZXImJihlLm1hbGZvcm1lZFVyaUVycm9ySGFuZGxlcj10Lm1hbGZvcm1lZFVyaUVycm9ySGFuZGxlciksdC5vblNhbWVVcmxOYXZpZ2F0aW9uJiYoZS5vblNhbWVVcmxOYXZpZ2F0aW9uPXQub25TYW1lVXJsTmF2aWdhdGlvbiksdC5wYXJhbXNJbmhlcml0YW5jZVN0cmF0ZWd5JiYoZS5wYXJhbXNJbmhlcml0YW5jZVN0cmF0ZWd5PXQucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneSksdC5yZWxhdGl2ZUxpbmtSZXNvbHV0aW9uJiYoZS5yZWxhdGl2ZUxpbmtSZXNvbHV0aW9uPXQucmVsYXRpdmVMaW5rUmVzb2x1dGlvbiksdC51cmxVcGRhdGVTdHJhdGVneSYmKGUudXJsVXBkYXRlU3RyYXRlZ3k9dC51cmxVcGRhdGVTdHJhdGVneSl9KGEsdSksYS5lbmFibGVUcmFjaW5nJiZ1LmV2ZW50cy5zdWJzY3JpYmUodD0+e3ZhciBlLG47bnVsbD09PShlPWNvbnNvbGUuZ3JvdXApfHx2b2lkIDA9PT1lfHxlLmNhbGwoY29uc29sZSxgUm91dGVyIEV2ZW50OiAke3QuY29uc3RydWN0b3IubmFtZX1gKSxjb25zb2xlLmxvZyh0LnRvU3RyaW5nKCkpLGNvbnNvbGUubG9nKHQpLG51bGw9PT0obj1jb25zb2xlLmdyb3VwRW5kKXx8dm9pZCAwPT09bnx8bi5jYWxsKGNvbnNvbGUpfSksdX0sZGVwczpbcGYsUWcsdXUsS2ksTmwsZmwsWGcsaG0sW2NsYXNze30sbmV3IGdyXSxbY2xhc3N7fSxuZXcgZ3JdXX0sUWcse3Byb3ZpZGU6QmYsdXNlRmFjdG9yeTpmdW5jdGlvbih0KXtyZXR1cm4gdC5yb3V0ZXJTdGF0ZS5yb290fSxkZXBzOltzbV19LHtwcm92aWRlOk5sLHVzZUNsYXNzOnpsfSxsbSxjbSxjbGFzc3twcmVsb2FkKHQsZSl7cmV0dXJuIGUoKS5waXBlKGFwKCgpPT5nZChudWxsKSkpfX0se3Byb3ZpZGU6aG0sdXNlVmFsdWU6e2VuYWJsZVRyYWNpbmc6ITF9fV07ZnVuY3Rpb24gZm0oKXtyZXR1cm4gbmV3IE9sKCJSb3V0ZXIiLHNtKX1sZXQgZ209KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe31zdGF0aWMgZm9yUm9vdChlLG4pe3JldHVybntuZ01vZHVsZTp0LHByb3ZpZGVyczpbcG0sYm0oZSkse3Byb3ZpZGU6ZG0sdXNlRmFjdG9yeTp2bSxkZXBzOltbc20sbmV3IGdyLG5ldyBtcl1dfSx7cHJvdmlkZTpobSx1c2VWYWx1ZTpufHx7fX0se3Byb3ZpZGU6aXUsdXNlRmFjdG9yeTp5bSxkZXBzOltabCxbbmV3IGZyKGF1KSxuZXcgZ3JdLGhtXX0se3Byb3ZpZGU6dW0sdXNlRmFjdG9yeTptbSxkZXBzOltzbSx4aCxobV19LHtwcm92aWRlOmFtLHVzZUV4aXN0aW5nOm4mJm4ucHJlbG9hZGluZ1N0cmF0ZWd5P24ucHJlbG9hZGluZ1N0cmF0ZWd5OmNtfSx7cHJvdmlkZTpPbCxtdWx0aTohMCx1c2VGYWN0b3J5OmZtfSxbQ20se3Byb3ZpZGU6WmMsbXVsdGk6ITAsdXNlRmFjdG9yeTp3bSxkZXBzOltDbV19LHtwcm92aWRlOkRtLHVzZUZhY3Rvcnk6X20sZGVwczpbQ21dfSx7cHJvdmlkZTpybCxtdWx0aTohMCx1c2VFeGlzdGluZzpEbX1dXX19c3RhdGljIGZvckNoaWxkKGUpe3JldHVybntuZ01vZHVsZTp0LHByb3ZpZGVyczpbYm0oZSldfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaHIoZG0sOCksaHIoc20sOCkpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe30pLHR9KSgpO2Z1bmN0aW9uIG1tKHQsZSxuKXtyZXR1cm4gbi5zY3JvbGxPZmZzZXQmJmUuc2V0T2Zmc2V0KG4uc2Nyb2xsT2Zmc2V0KSxuZXcgdW0odCxlLG4pfWZ1bmN0aW9uIHltKHQsZSxuPXt9KXtyZXR1cm4gbi51c2VIYXNoP25ldyBsdSh0LGUpOm5ldyBjdSh0LGUpfWZ1bmN0aW9uIHZtKHQpe3JldHVybiJndWFyZGVkIn1mdW5jdGlvbiBibSh0KXtyZXR1cm5be3Byb3ZpZGU6WG4sbXVsdGk6ITAsdXNlVmFsdWU6dH0se3Byb3ZpZGU6WGcsbXVsdGk6ITAsdXNlVmFsdWU6dH1dfWxldCBDbT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuaW5qZWN0b3I9dCx0aGlzLmluaXROYXZpZ2F0aW9uPSExLHRoaXMucmVzdWx0T2ZQcmVhY3RpdmF0aW9uRG9uZT1uZXcgRH1hcHBJbml0aWFsaXplcigpe3JldHVybiB0aGlzLmluamVjdG9yLmdldChLbCxQcm9taXNlLnJlc29sdmUobnVsbCkpLnRoZW4oKCk9PntsZXQgdD1udWxsO2NvbnN0IGU9bmV3IFByb21pc2UoZT0+dD1lKSxuPXRoaXMuaW5qZWN0b3IuZ2V0KHNtKSxyPXRoaXMuaW5qZWN0b3IuZ2V0KGhtKTtyZXR1cm4iZGlzYWJsZWQiPT09ci5pbml0aWFsTmF2aWdhdGlvbj8obi5zZXRVcExvY2F0aW9uQ2hhbmdlTGlzdGVuZXIoKSx0KCEwKSk6ImVuYWJsZWQiPT09ci5pbml0aWFsTmF2aWdhdGlvbnx8ImVuYWJsZWRCbG9ja2luZyI9PT1yLmluaXRpYWxOYXZpZ2F0aW9uPyhuLmhvb2tzLmFmdGVyUHJlYWN0aXZhdGlvbj0oKT0+dGhpcy5pbml0TmF2aWdhdGlvbj9nZChudWxsKToodGhpcy5pbml0TmF2aWdhdGlvbj0hMCx0KCEwKSx0aGlzLnJlc3VsdE9mUHJlYWN0aXZhdGlvbkRvbmUpLG4uaW5pdGlhbE5hdmlnYXRpb24oKSk6dCghMCksZX0pfWJvb3RzdHJhcExpc3RlbmVyKHQpe2NvbnN0IGU9dGhpcy5pbmplY3Rvci5nZXQoaG0pLG49dGhpcy5pbmplY3Rvci5nZXQobG0pLHI9dGhpcy5pbmplY3Rvci5nZXQodW0pLHM9dGhpcy5pbmplY3Rvci5nZXQoc20pLGk9dGhpcy5pbmplY3Rvci5nZXQoamwpO3Q9PT1pLmNvbXBvbmVudHNbMF0mJigiZW5hYmxlZE5vbkJsb2NraW5nIiE9PWUuaW5pdGlhbE5hdmlnYXRpb24mJnZvaWQgMCE9PWUuaW5pdGlhbE5hdmlnYXRpb258fHMuaW5pdGlhbE5hdmlnYXRpb24oKSxuLnNldFVwUHJlbG9hZGluZygpLHIuaW5pdCgpLHMucmVzZXRSb290Q29tcG9uZW50VHlwZShpLmNvbXBvbmVudFR5cGVzWzBdKSx0aGlzLnJlc3VsdE9mUHJlYWN0aXZhdGlvbkRvbmUubmV4dChudWxsKSx0aGlzLnJlc3VsdE9mUHJlYWN0aXZhdGlvbkRvbmUuY29tcGxldGUoKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhyKEtpKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7ZnVuY3Rpb24gd20odCl7cmV0dXJuIHQuYXBwSW5pdGlhbGl6ZXIuYmluZCh0KX1mdW5jdGlvbiBfbSh0KXtyZXR1cm4gdC5ib290c3RyYXBMaXN0ZW5lci5iaW5kKHQpfWNvbnN0IERtPW5ldyBxbigiUm91dGVyIEluaXRpYWxpemVyIik7Y2xhc3MgRW17fWNsYXNzIFNte31jbGFzcyB4bXtjb25zdHJ1Y3Rvcih0KXt0aGlzLm5vcm1hbGl6ZWROYW1lcz1uZXcgTWFwLHRoaXMubGF6eVVwZGF0ZT1udWxsLHQ/dGhpcy5sYXp5SW5pdD0ic3RyaW5nIj09dHlwZW9mIHQ/KCk9Pnt0aGlzLmhlYWRlcnM9bmV3IE1hcCx0LnNwbGl0KCJcbiIpLmZvckVhY2godD0+e2NvbnN0IGU9dC5pbmRleE9mKCI6Iik7aWYoZT4wKXtjb25zdCBuPXQuc2xpY2UoMCxlKSxyPW4udG9Mb3dlckNhc2UoKSxzPXQuc2xpY2UoZSsxKS50cmltKCk7dGhpcy5tYXliZVNldE5vcm1hbGl6ZWROYW1lKG4sciksdGhpcy5oZWFkZXJzLmhhcyhyKT90aGlzLmhlYWRlcnMuZ2V0KHIpLnB1c2gocyk6dGhpcy5oZWFkZXJzLnNldChyLFtzXSl9fSl9OigpPT57dGhpcy5oZWFkZXJzPW5ldyBNYXAsT2JqZWN0LmtleXModCkuZm9yRWFjaChlPT57bGV0IG49dFtlXTtjb25zdCByPWUudG9Mb3dlckNhc2UoKTsic3RyaW5nIj09dHlwZW9mIG4mJihuPVtuXSksbi5sZW5ndGg+MCYmKHRoaXMuaGVhZGVycy5zZXQocixuKSx0aGlzLm1heWJlU2V0Tm9ybWFsaXplZE5hbWUoZSxyKSl9KX06dGhpcy5oZWFkZXJzPW5ldyBNYXB9aGFzKHQpe3JldHVybiB0aGlzLmluaXQoKSx0aGlzLmhlYWRlcnMuaGFzKHQudG9Mb3dlckNhc2UoKSl9Z2V0KHQpe3RoaXMuaW5pdCgpO2NvbnN0IGU9dGhpcy5oZWFkZXJzLmdldCh0LnRvTG93ZXJDYXNlKCkpO3JldHVybiBlJiZlLmxlbmd0aD4wP2VbMF06bnVsbH1rZXlzKCl7cmV0dXJuIHRoaXMuaW5pdCgpLEFycmF5LmZyb20odGhpcy5ub3JtYWxpemVkTmFtZXMudmFsdWVzKCkpfWdldEFsbCh0KXtyZXR1cm4gdGhpcy5pbml0KCksdGhpcy5oZWFkZXJzLmdldCh0LnRvTG93ZXJDYXNlKCkpfHxudWxsfWFwcGVuZCh0LGUpe3JldHVybiB0aGlzLmNsb25lKHtuYW1lOnQsdmFsdWU6ZSxvcDoiYSJ9KX1zZXQodCxlKXtyZXR1cm4gdGhpcy5jbG9uZSh7bmFtZTp0LHZhbHVlOmUsb3A6InMifSl9ZGVsZXRlKHQsZSl7cmV0dXJuIHRoaXMuY2xvbmUoe25hbWU6dCx2YWx1ZTplLG9wOiJkIn0pfW1heWJlU2V0Tm9ybWFsaXplZE5hbWUodCxlKXt0aGlzLm5vcm1hbGl6ZWROYW1lcy5oYXMoZSl8fHRoaXMubm9ybWFsaXplZE5hbWVzLnNldChlLHQpfWluaXQoKXt0aGlzLmxhenlJbml0JiYodGhpcy5sYXp5SW5pdCBpbnN0YW5jZW9mIHhtP3RoaXMuY29weUZyb20odGhpcy5sYXp5SW5pdCk6dGhpcy5sYXp5SW5pdCgpLHRoaXMubGF6eUluaXQ9bnVsbCx0aGlzLmxhenlVcGRhdGUmJih0aGlzLmxhenlVcGRhdGUuZm9yRWFjaCh0PT50aGlzLmFwcGx5VXBkYXRlKHQpKSx0aGlzLmxhenlVcGRhdGU9bnVsbCkpfWNvcHlGcm9tKHQpe3QuaW5pdCgpLEFycmF5LmZyb20odC5oZWFkZXJzLmtleXMoKSkuZm9yRWFjaChlPT57dGhpcy5oZWFkZXJzLnNldChlLHQuaGVhZGVycy5nZXQoZSkpLHRoaXMubm9ybWFsaXplZE5hbWVzLnNldChlLHQubm9ybWFsaXplZE5hbWVzLmdldChlKSl9KX1jbG9uZSh0KXtjb25zdCBlPW5ldyB4bTtyZXR1cm4gZS5sYXp5SW5pdD10aGlzLmxhenlJbml0JiZ0aGlzLmxhenlJbml0IGluc3RhbmNlb2YgeG0/dGhpcy5sYXp5SW5pdDp0aGlzLGUubGF6eVVwZGF0ZT0odGhpcy5sYXp5VXBkYXRlfHxbXSkuY29uY2F0KFt0XSksZX1hcHBseVVwZGF0ZSh0KXtjb25zdCBlPXQubmFtZS50b0xvd2VyQ2FzZSgpO3N3aXRjaCh0Lm9wKXtjYXNlImEiOmNhc2UicyI6bGV0IG49dC52YWx1ZTtpZigic3RyaW5nIj09dHlwZW9mIG4mJihuPVtuXSksMD09PW4ubGVuZ3RoKXJldHVybjt0aGlzLm1heWJlU2V0Tm9ybWFsaXplZE5hbWUodC5uYW1lLGUpO2NvbnN0IHI9KCJhIj09PXQub3A/dGhpcy5oZWFkZXJzLmdldChlKTp2b2lkIDApfHxbXTtyLnB1c2goLi4ubiksdGhpcy5oZWFkZXJzLnNldChlLHIpO2JyZWFrO2Nhc2UiZCI6Y29uc3Qgcz10LnZhbHVlO2lmKHMpe2xldCB0PXRoaXMuaGVhZGVycy5nZXQoZSk7aWYoIXQpcmV0dXJuO3Q9dC5maWx0ZXIodD0+LTE9PT1zLmluZGV4T2YodCkpLDA9PT10Lmxlbmd0aD8odGhpcy5oZWFkZXJzLmRlbGV0ZShlKSx0aGlzLm5vcm1hbGl6ZWROYW1lcy5kZWxldGUoZSkpOnRoaXMuaGVhZGVycy5zZXQoZSx0KX1lbHNlIHRoaXMuaGVhZGVycy5kZWxldGUoZSksdGhpcy5ub3JtYWxpemVkTmFtZXMuZGVsZXRlKGUpfX1mb3JFYWNoKHQpe3RoaXMuaW5pdCgpLEFycmF5LmZyb20odGhpcy5ub3JtYWxpemVkTmFtZXMua2V5cygpKS5mb3JFYWNoKGU9PnQodGhpcy5ub3JtYWxpemVkTmFtZXMuZ2V0KGUpLHRoaXMuaGVhZGVycy5nZXQoZSkpKX19Y2xhc3MgQW17ZW5jb2RlS2V5KHQpe3JldHVybiBUbSh0KX1lbmNvZGVWYWx1ZSh0KXtyZXR1cm4gVG0odCl9ZGVjb2RlS2V5KHQpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQodCl9ZGVjb2RlVmFsdWUodCl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh0KX19ZnVuY3Rpb24gVG0odCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0KS5yZXBsYWNlKC8lNDAvZ2ksIkAiKS5yZXBsYWNlKC8lM0EvZ2ksIjoiKS5yZXBsYWNlKC8lMjQvZ2ksIiQiKS5yZXBsYWNlKC8lMkMvZ2ksIiwiKS5yZXBsYWNlKC8lM0IvZ2ksIjsiKS5yZXBsYWNlKC8lMkIvZ2ksIisiKS5yZXBsYWNlKC8lM0QvZ2ksIj0iKS5yZXBsYWNlKC8lM0YvZ2ksIj8iKS5yZXBsYWNlKC8lMkYvZ2ksIi8iKX1mdW5jdGlvbiBrbSh0KXtyZXR1cm5gJHt0fWB9Y2xhc3MgRm17Y29uc3RydWN0b3IodD17fSl7aWYodGhpcy51cGRhdGVzPW51bGwsdGhpcy5jbG9uZUZyb209bnVsbCx0aGlzLmVuY29kZXI9dC5lbmNvZGVyfHxuZXcgQW0sdC5mcm9tU3RyaW5nKXtpZih0LmZyb21PYmplY3QpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3Qgc3BlY2lmeSBib3RoIGZyb21TdHJpbmcgYW5kIGZyb21PYmplY3QuIik7dGhpcy5tYXA9ZnVuY3Rpb24odCxlKXtjb25zdCBuPW5ldyBNYXA7cmV0dXJuIHQubGVuZ3RoPjAmJnQucmVwbGFjZSgvXlw/LywiIikuc3BsaXQoIiYiKS5mb3JFYWNoKHQ9Pntjb25zdCByPXQuaW5kZXhPZigiPSIpLFtzLGldPS0xPT1yP1tlLmRlY29kZUtleSh0KSwiIl06W2UuZGVjb2RlS2V5KHQuc2xpY2UoMCxyKSksZS5kZWNvZGVWYWx1ZSh0LnNsaWNlKHIrMSkpXSxvPW4uZ2V0KHMpfHxbXTtvLnB1c2goaSksbi5zZXQocyxvKX0pLG59KHQuZnJvbVN0cmluZyx0aGlzLmVuY29kZXIpfWVsc2UgdC5mcm9tT2JqZWN0Pyh0aGlzLm1hcD1uZXcgTWFwLE9iamVjdC5rZXlzKHQuZnJvbU9iamVjdCkuZm9yRWFjaChlPT57Y29uc3Qgbj10LmZyb21PYmplY3RbZV07dGhpcy5tYXAuc2V0KGUsQXJyYXkuaXNBcnJheShuKT9uOltuXSl9KSk6dGhpcy5tYXA9bnVsbH1oYXModCl7cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXMubWFwLmhhcyh0KX1nZXQodCl7dGhpcy5pbml0KCk7Y29uc3QgZT10aGlzLm1hcC5nZXQodCk7cmV0dXJuIGU/ZVswXTpudWxsfWdldEFsbCh0KXtyZXR1cm4gdGhpcy5pbml0KCksdGhpcy5tYXAuZ2V0KHQpfHxudWxsfWtleXMoKXtyZXR1cm4gdGhpcy5pbml0KCksQXJyYXkuZnJvbSh0aGlzLm1hcC5rZXlzKCkpfWFwcGVuZCh0LGUpe3JldHVybiB0aGlzLmNsb25lKHtwYXJhbTp0LHZhbHVlOmUsb3A6ImEifSl9YXBwZW5kQWxsKHQpe2NvbnN0IGU9W107cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2gobj0+e2NvbnN0IHI9dFtuXTtBcnJheS5pc0FycmF5KHIpP3IuZm9yRWFjaCh0PT57ZS5wdXNoKHtwYXJhbTpuLHZhbHVlOnQsb3A6ImEifSl9KTplLnB1c2goe3BhcmFtOm4sdmFsdWU6cixvcDoiYSJ9KX0pLHRoaXMuY2xvbmUoZSl9c2V0KHQsZSl7cmV0dXJuIHRoaXMuY2xvbmUoe3BhcmFtOnQsdmFsdWU6ZSxvcDoicyJ9KX1kZWxldGUodCxlKXtyZXR1cm4gdGhpcy5jbG9uZSh7cGFyYW06dCx2YWx1ZTplLG9wOiJkIn0pfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXMua2V5cygpLm1hcCh0PT57Y29uc3QgZT10aGlzLmVuY29kZXIuZW5jb2RlS2V5KHQpO3JldHVybiB0aGlzLm1hcC5nZXQodCkubWFwKHQ9PmUrIj0iK3RoaXMuZW5jb2Rlci5lbmNvZGVWYWx1ZSh0KSkuam9pbigiJiIpfSkuZmlsdGVyKHQ9PiIiIT09dCkuam9pbigiJiIpfWNsb25lKHQpe2NvbnN0IGU9bmV3IEZtKHtlbmNvZGVyOnRoaXMuZW5jb2Rlcn0pO3JldHVybiBlLmNsb25lRnJvbT10aGlzLmNsb25lRnJvbXx8dGhpcyxlLnVwZGF0ZXM9KHRoaXMudXBkYXRlc3x8W10pLmNvbmNhdCh0KSxlfWluaXQoKXtudWxsPT09dGhpcy5tYXAmJih0aGlzLm1hcD1uZXcgTWFwKSxudWxsIT09dGhpcy5jbG9uZUZyb20mJih0aGlzLmNsb25lRnJvbS5pbml0KCksdGhpcy5jbG9uZUZyb20ua2V5cygpLmZvckVhY2godD0+dGhpcy5tYXAuc2V0KHQsdGhpcy5jbG9uZUZyb20ubWFwLmdldCh0KSkpLHRoaXMudXBkYXRlcy5mb3JFYWNoKHQ9Pntzd2l0Y2godC5vcCl7Y2FzZSJhIjpjYXNlInMiOmNvbnN0IGU9KCJhIj09PXQub3A/dGhpcy5tYXAuZ2V0KHQucGFyYW0pOnZvaWQgMCl8fFtdO2UucHVzaChrbSh0LnZhbHVlKSksdGhpcy5tYXAuc2V0KHQucGFyYW0sZSk7YnJlYWs7Y2FzZSJkIjppZih2b2lkIDA9PT10LnZhbHVlKXt0aGlzLm1hcC5kZWxldGUodC5wYXJhbSk7YnJlYWt9e2xldCBlPXRoaXMubWFwLmdldCh0LnBhcmFtKXx8W107Y29uc3Qgbj1lLmluZGV4T2Yoa20odC52YWx1ZSkpOy0xIT09biYmZS5zcGxpY2UobiwxKSxlLmxlbmd0aD4wP3RoaXMubWFwLnNldCh0LnBhcmFtLGUpOnRoaXMubWFwLmRlbGV0ZSh0LnBhcmFtKX19fSksdGhpcy5jbG9uZUZyb209dGhpcy51cGRhdGVzPW51bGwpfX1jbGFzcyBJbXtjb25zdHJ1Y3Rvcigpe3RoaXMubWFwPW5ldyBNYXB9c2V0KHQsZSl7cmV0dXJuIHRoaXMubWFwLnNldCh0LGUpLHRoaXN9Z2V0KHQpe3JldHVybiB0aGlzLm1hcC5oYXModCl8fHRoaXMubWFwLnNldCh0LHQuZGVmYXVsdFZhbHVlKCkpLHRoaXMubWFwLmdldCh0KX1kZWxldGUodCl7cmV0dXJuIHRoaXMubWFwLmRlbGV0ZSh0KSx0aGlzfWtleXMoKXtyZXR1cm4gdGhpcy5tYXAua2V5cygpfX1mdW5jdGlvbiBPbSh0KXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ9ZnVuY3Rpb24gUG0odCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBCbG9iJiZ0IGluc3RhbmNlb2YgQmxvYn1mdW5jdGlvbiBSbSh0KXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEZvcm1EYXRhJiZ0IGluc3RhbmNlb2YgRm9ybURhdGF9Y2xhc3MgTG17Y29uc3RydWN0b3IodCxlLG4scil7bGV0IHM7aWYodGhpcy51cmw9ZSx0aGlzLmJvZHk9bnVsbCx0aGlzLnJlcG9ydFByb2dyZXNzPSExLHRoaXMud2l0aENyZWRlbnRpYWxzPSExLHRoaXMucmVzcG9uc2VUeXBlPSJqc29uIix0aGlzLm1ldGhvZD10LnRvVXBwZXJDYXNlKCksZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UiREVMRVRFIjpjYXNlIkdFVCI6Y2FzZSJIRUFEIjpjYXNlIk9QVElPTlMiOmNhc2UiSlNPTlAiOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuITB9fSh0aGlzLm1ldGhvZCl8fHI/KHRoaXMuYm9keT12b2lkIDAhPT1uP246bnVsbCxzPXIpOnM9bixzJiYodGhpcy5yZXBvcnRQcm9ncmVzcz0hIXMucmVwb3J0UHJvZ3Jlc3MsdGhpcy53aXRoQ3JlZGVudGlhbHM9ISFzLndpdGhDcmVkZW50aWFscyxzLnJlc3BvbnNlVHlwZSYmKHRoaXMucmVzcG9uc2VUeXBlPXMucmVzcG9uc2VUeXBlKSxzLmhlYWRlcnMmJih0aGlzLmhlYWRlcnM9cy5oZWFkZXJzKSxzLmNvbnRleHQmJih0aGlzLmNvbnRleHQ9cy5jb250ZXh0KSxzLnBhcmFtcyYmKHRoaXMucGFyYW1zPXMucGFyYW1zKSksdGhpcy5oZWFkZXJzfHwodGhpcy5oZWFkZXJzPW5ldyB4bSksdGhpcy5jb250ZXh0fHwodGhpcy5jb250ZXh0PW5ldyBJbSksdGhpcy5wYXJhbXMpe2NvbnN0IHQ9dGhpcy5wYXJhbXMudG9TdHJpbmcoKTtpZigwPT09dC5sZW5ndGgpdGhpcy51cmxXaXRoUGFyYW1zPWU7ZWxzZXtjb25zdCBuPWUuaW5kZXhPZigiPyIpO3RoaXMudXJsV2l0aFBhcmFtcz1lKygtMT09PW4/Ij8iOm48ZS5sZW5ndGgtMT8iJiI6IiIpK3R9fWVsc2UgdGhpcy5wYXJhbXM9bmV3IEZtLHRoaXMudXJsV2l0aFBhcmFtcz1lfXNlcmlhbGl6ZUJvZHkoKXtyZXR1cm4gbnVsbD09PXRoaXMuYm9keT9udWxsOk9tKHRoaXMuYm9keSl8fFBtKHRoaXMuYm9keSl8fFJtKHRoaXMuYm9keSl8fCJzdHJpbmciPT10eXBlb2YgdGhpcy5ib2R5P3RoaXMuYm9keTp0aGlzLmJvZHkgaW5zdGFuY2VvZiBGbT90aGlzLmJvZHkudG9TdHJpbmcoKToib2JqZWN0Ij09dHlwZW9mIHRoaXMuYm9keXx8ImJvb2xlYW4iPT10eXBlb2YgdGhpcy5ib2R5fHxBcnJheS5pc0FycmF5KHRoaXMuYm9keSk/SlNPTi5zdHJpbmdpZnkodGhpcy5ib2R5KTp0aGlzLmJvZHkudG9TdHJpbmcoKX1kZXRlY3RDb250ZW50VHlwZUhlYWRlcigpe3JldHVybiBudWxsPT09dGhpcy5ib2R5fHxSbSh0aGlzLmJvZHkpP251bGw6UG0odGhpcy5ib2R5KT90aGlzLmJvZHkudHlwZXx8bnVsbDpPbSh0aGlzLmJvZHkpP251bGw6InN0cmluZyI9PXR5cGVvZiB0aGlzLmJvZHk/InRleHQvcGxhaW4iOnRoaXMuYm9keSBpbnN0YW5jZW9mIEZtPyJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCI6Im9iamVjdCI9PXR5cGVvZiB0aGlzLmJvZHl8fCJudW1iZXIiPT10eXBlb2YgdGhpcy5ib2R5fHwiYm9vbGVhbiI9PXR5cGVvZiB0aGlzLmJvZHk/ImFwcGxpY2F0aW9uL2pzb24iOm51bGx9Y2xvbmUodD17fSl7dmFyIGU7Y29uc3Qgbj10Lm1ldGhvZHx8dGhpcy5tZXRob2Qscj10LnVybHx8dGhpcy51cmwscz10LnJlc3BvbnNlVHlwZXx8dGhpcy5yZXNwb25zZVR5cGUsaT12b2lkIDAhPT10LmJvZHk/dC5ib2R5OnRoaXMuYm9keSxvPXZvaWQgMCE9PXQud2l0aENyZWRlbnRpYWxzP3Qud2l0aENyZWRlbnRpYWxzOnRoaXMud2l0aENyZWRlbnRpYWxzLGE9dm9pZCAwIT09dC5yZXBvcnRQcm9ncmVzcz90LnJlcG9ydFByb2dyZXNzOnRoaXMucmVwb3J0UHJvZ3Jlc3M7bGV0IGM9dC5oZWFkZXJzfHx0aGlzLmhlYWRlcnMsbD10LnBhcmFtc3x8dGhpcy5wYXJhbXM7Y29uc3QgdT1udWxsIT09KGU9dC5jb250ZXh0KSYmdm9pZCAwIT09ZT9lOnRoaXMuY29udGV4dDtyZXR1cm4gdm9pZCAwIT09dC5zZXRIZWFkZXJzJiYoYz1PYmplY3Qua2V5cyh0LnNldEhlYWRlcnMpLnJlZHVjZSgoZSxuKT0+ZS5zZXQobix0LnNldEhlYWRlcnNbbl0pLGMpKSx0LnNldFBhcmFtcyYmKGw9T2JqZWN0LmtleXModC5zZXRQYXJhbXMpLnJlZHVjZSgoZSxuKT0+ZS5zZXQobix0LnNldFBhcmFtc1tuXSksbCkpLG5ldyBMbShuLHIsaSx7cGFyYW1zOmwsaGVhZGVyczpjLGNvbnRleHQ6dSxyZXBvcnRQcm9ncmVzczphLHJlc3BvbnNlVHlwZTpzLHdpdGhDcmVkZW50aWFsczpvfSl9fXZhciBCbT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LlNlbnQ9MF09IlNlbnQiLHRbdC5VcGxvYWRQcm9ncmVzcz0xXT0iVXBsb2FkUHJvZ3Jlc3MiLHRbdC5SZXNwb25zZUhlYWRlcj0yXT0iUmVzcG9uc2VIZWFkZXIiLHRbdC5Eb3dubG9hZFByb2dyZXNzPTNdPSJEb3dubG9hZFByb2dyZXNzIix0W3QuUmVzcG9uc2U9NF09IlJlc3BvbnNlIix0W3QuVXNlcj01XT0iVXNlciIsdH0oe30pO2NsYXNzIGpte2NvbnN0cnVjdG9yKHQsZT0yMDAsbj0iT0siKXt0aGlzLmhlYWRlcnM9dC5oZWFkZXJzfHxuZXcgeG0sdGhpcy5zdGF0dXM9dm9pZCAwIT09dC5zdGF0dXM/dC5zdGF0dXM6ZSx0aGlzLnN0YXR1c1RleHQ9dC5zdGF0dXNUZXh0fHxuLHRoaXMudXJsPXQudXJsfHxudWxsLHRoaXMub2s9dGhpcy5zdGF0dXM+PTIwMCYmdGhpcy5zdGF0dXM8MzAwfX1jbGFzcyBNbSBleHRlbmRzIGpte2NvbnN0cnVjdG9yKHQ9e30pe3N1cGVyKHQpLHRoaXMudHlwZT1CbS5SZXNwb25zZUhlYWRlcn1jbG9uZSh0PXt9KXtyZXR1cm4gbmV3IE1tKHtoZWFkZXJzOnQuaGVhZGVyc3x8dGhpcy5oZWFkZXJzLHN0YXR1czp2b2lkIDAhPT10LnN0YXR1cz90LnN0YXR1czp0aGlzLnN0YXR1cyxzdGF0dXNUZXh0OnQuc3RhdHVzVGV4dHx8dGhpcy5zdGF0dXNUZXh0LHVybDp0LnVybHx8dGhpcy51cmx8fHZvaWQgMH0pfX1jbGFzcyBObSBleHRlbmRzIGpte2NvbnN0cnVjdG9yKHQ9e30pe3N1cGVyKHQpLHRoaXMudHlwZT1CbS5SZXNwb25zZSx0aGlzLmJvZHk9dm9pZCAwIT09dC5ib2R5P3QuYm9keTpudWxsfWNsb25lKHQ9e30pe3JldHVybiBuZXcgTm0oe2JvZHk6dm9pZCAwIT09dC5ib2R5P3QuYm9keTp0aGlzLmJvZHksaGVhZGVyczp0LmhlYWRlcnN8fHRoaXMuaGVhZGVycyxzdGF0dXM6dm9pZCAwIT09dC5zdGF0dXM/dC5zdGF0dXM6dGhpcy5zdGF0dXMsc3RhdHVzVGV4dDp0LnN0YXR1c1RleHR8fHRoaXMuc3RhdHVzVGV4dCx1cmw6dC51cmx8fHRoaXMudXJsfHx2b2lkIDB9KX19Y2xhc3MgSG0gZXh0ZW5kcyBqbXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0LDAsIlVua25vd24gRXJyb3IiKSx0aGlzLm5hbWU9Ikh0dHBFcnJvclJlc3BvbnNlIix0aGlzLm9rPSExLHRoaXMubWVzc2FnZT10aGlzLnN0YXR1cz49MjAwJiZ0aGlzLnN0YXR1czwzMDA/YEh0dHAgZmFpbHVyZSBkdXJpbmcgcGFyc2luZyBmb3IgJHt0LnVybHx8Iih1bmtub3duIHVybCkifWA6YEh0dHAgZmFpbHVyZSByZXNwb25zZSBmb3IgJHt0LnVybHx8Iih1bmtub3duIHVybCkifTogJHt0LnN0YXR1c30gJHt0LnN0YXR1c1RleHR9YCx0aGlzLmVycm9yPXQuZXJyb3J8fG51bGx9fWZ1bmN0aW9uIFZtKHQsZSl7cmV0dXJue2JvZHk6ZSxoZWFkZXJzOnQuaGVhZGVycyxjb250ZXh0OnQuY29udGV4dCxvYnNlcnZlOnQub2JzZXJ2ZSxwYXJhbXM6dC5wYXJhbXMscmVwb3J0UHJvZ3Jlc3M6dC5yZXBvcnRQcm9ncmVzcyxyZXNwb25zZVR5cGU6dC5yZXNwb25zZVR5cGUsd2l0aENyZWRlbnRpYWxzOnQud2l0aENyZWRlbnRpYWxzfX1sZXQgem09KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmhhbmRsZXI9dH1yZXF1ZXN0KHQsZSxuPXt9KXtsZXQgcjtpZih0IGluc3RhbmNlb2YgTG0pcj10O2Vsc2V7bGV0IHMsaTtzPW4uaGVhZGVycyBpbnN0YW5jZW9mIHhtP24uaGVhZGVyczpuZXcgeG0obi5oZWFkZXJzKSxuLnBhcmFtcyYmKGk9bi5wYXJhbXMgaW5zdGFuY2VvZiBGbT9uLnBhcmFtczpuZXcgRm0oe2Zyb21PYmplY3Q6bi5wYXJhbXN9KSkscj1uZXcgTG0odCxlLHZvaWQgMCE9PW4uYm9keT9uLmJvZHk6bnVsbCx7aGVhZGVyczpzLGNvbnRleHQ6bi5jb250ZXh0LHBhcmFtczppLHJlcG9ydFByb2dyZXNzOm4ucmVwb3J0UHJvZ3Jlc3MscmVzcG9uc2VUeXBlOm4ucmVzcG9uc2VUeXBlfHwianNvbiIsd2l0aENyZWRlbnRpYWxzOm4ud2l0aENyZWRlbnRpYWxzfSl9Y29uc3Qgcz1nZChyKS5waXBlKHVwKHQ9PnRoaXMuaGFuZGxlci5oYW5kbGUodCkpKTtpZih0IGluc3RhbmNlb2YgTG18fCJldmVudHMiPT09bi5vYnNlcnZlKXJldHVybiBzO2NvbnN0IGk9cy5waXBlKHNwKHQ9PnQgaW5zdGFuY2VvZiBObSkpO3N3aXRjaChuLm9ic2VydmV8fCJib2R5Iil7Y2FzZSJib2R5Ijpzd2l0Y2goci5yZXNwb25zZVR5cGUpe2Nhc2UiYXJyYXlidWZmZXIiOnJldHVybiBpLnBpcGUoeCh0PT57aWYobnVsbCE9PXQuYm9keSYmISh0LmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpdGhyb3cgbmV3IEVycm9yKCJSZXNwb25zZSBpcyBub3QgYW4gQXJyYXlCdWZmZXIuIik7cmV0dXJuIHQuYm9keX0pKTtjYXNlImJsb2IiOnJldHVybiBpLnBpcGUoeCh0PT57aWYobnVsbCE9PXQuYm9keSYmISh0LmJvZHkgaW5zdGFuY2VvZiBCbG9iKSl0aHJvdyBuZXcgRXJyb3IoIlJlc3BvbnNlIGlzIG5vdCBhIEJsb2IuIik7cmV0dXJuIHQuYm9keX0pKTtjYXNlInRleHQiOnJldHVybiBpLnBpcGUoeCh0PT57aWYobnVsbCE9PXQuYm9keSYmInN0cmluZyIhPXR5cGVvZiB0LmJvZHkpdGhyb3cgbmV3IEVycm9yKCJSZXNwb25zZSBpcyBub3QgYSBzdHJpbmcuIik7cmV0dXJuIHQuYm9keX0pKTtjYXNlImpzb24iOmRlZmF1bHQ6cmV0dXJuIGkucGlwZSh4KHQ9PnQuYm9keSkpfWNhc2UicmVzcG9uc2UiOnJldHVybiBpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbnJlYWNoYWJsZTogdW5oYW5kbGVkIG9ic2VydmUgdHlwZSAke24ub2JzZXJ2ZX19YCl9fWRlbGV0ZSh0LGU9e30pe3JldHVybiB0aGlzLnJlcXVlc3QoIkRFTEVURSIsdCxlKX1nZXQodCxlPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJHRVQiLHQsZSl9aGVhZCh0LGU9e30pe3JldHVybiB0aGlzLnJlcXVlc3QoIkhFQUQiLHQsZSl9anNvbnAodCxlKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJKU09OUCIsdCx7cGFyYW1zOihuZXcgRm0pLmFwcGVuZChlLCJKU09OUF9DQUxMQkFDSyIpLG9ic2VydmU6ImJvZHkiLHJlc3BvbnNlVHlwZToianNvbiJ9KX1vcHRpb25zKHQsZT17fSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiT1BUSU9OUyIsdCxlKX1wYXRjaCh0LGUsbj17fSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiUEFUQ0giLHQsVm0obixlKSl9cG9zdCh0LGUsbj17fSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiUE9TVCIsdCxWbShuLGUpKX1wdXQodCxlLG49e30pe3JldHVybiB0aGlzLnJlcXVlc3QoIlBVVCIsdCxWbShuLGUpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaHIoRW0pKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjbGFzcyAkbXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMubmV4dD10LHRoaXMuaW50ZXJjZXB0b3I9ZX1oYW5kbGUodCl7cmV0dXJuIHRoaXMuaW50ZXJjZXB0b3IuaW50ZXJjZXB0KHQsdGhpcy5uZXh0KX19Y29uc3QgVW09bmV3IHFuKCJIVFRQX0lOVEVSQ0VQVE9SUyIpO2xldCBXbT0oKCk9PntjbGFzcyB0e2ludGVyY2VwdCh0LGUpe3JldHVybiBlLmhhbmRsZSh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y29uc3QgR209L15cKVxdXH0nLD9cbi87bGV0IHFtPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy54aHJGYWN0b3J5PXR9aGFuZGxlKHQpe2lmKCJKU09OUCI9PT10Lm1ldGhvZCl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byBjb25zdHJ1Y3QgSnNvbnAgcmVxdWVzdCB3aXRob3V0IEh0dHBDbGllbnRKc29ucE1vZHVsZSBpbnN0YWxsZWQuIik7cmV0dXJuIG5ldyB2KGU9Pntjb25zdCBuPXRoaXMueGhyRmFjdG9yeS5idWlsZCgpO2lmKG4ub3Blbih0Lm1ldGhvZCx0LnVybFdpdGhQYXJhbXMpLHQud2l0aENyZWRlbnRpYWxzJiYobi53aXRoQ3JlZGVudGlhbHM9ITApLHQuaGVhZGVycy5mb3JFYWNoKCh0LGUpPT5uLnNldFJlcXVlc3RIZWFkZXIodCxlLmpvaW4oIiwiKSkpLHQuaGVhZGVycy5oYXMoIkFjY2VwdCIpfHxuLnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKiIpLCF0LmhlYWRlcnMuaGFzKCJDb250ZW50LVR5cGUiKSl7Y29uc3QgZT10LmRldGVjdENvbnRlbnRUeXBlSGVhZGVyKCk7bnVsbCE9PWUmJm4uc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixlKX1pZih0LnJlc3BvbnNlVHlwZSl7Y29uc3QgZT10LnJlc3BvbnNlVHlwZS50b0xvd2VyQ2FzZSgpO24ucmVzcG9uc2VUeXBlPSJqc29uIiE9PWU/ZToidGV4dCJ9Y29uc3Qgcj10LnNlcmlhbGl6ZUJvZHkoKTtsZXQgcz1udWxsO2NvbnN0IGk9KCk9PntpZihudWxsIT09cylyZXR1cm4gcztjb25zdCBlPTEyMjM9PT1uLnN0YXR1cz8yMDQ6bi5zdGF0dXMscj1uLnN0YXR1c1RleHR8fCJPSyIsaT1uZXcgeG0obi5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSksbz1mdW5jdGlvbih0KXtyZXR1cm4icmVzcG9uc2VVUkwiaW4gdCYmdC5yZXNwb25zZVVSTD90LnJlc3BvbnNlVVJMOi9eWC1SZXF1ZXN0LVVSTDovbS50ZXN0KHQuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpP3QuZ2V0UmVzcG9uc2VIZWFkZXIoIlgtUmVxdWVzdC1VUkwiKTpudWxsfShuKXx8dC51cmw7cmV0dXJuIHM9bmV3IE1tKHtoZWFkZXJzOmksc3RhdHVzOmUsc3RhdHVzVGV4dDpyLHVybDpvfSksc30sbz0oKT0+e2xldHtoZWFkZXJzOnIsc3RhdHVzOnMsc3RhdHVzVGV4dDpvLHVybDphfT1pKCksYz1udWxsOzIwNCE9PXMmJihjPXZvaWQgMD09PW4ucmVzcG9uc2U/bi5yZXNwb25zZVRleHQ6bi5yZXNwb25zZSksMD09PXMmJihzPWM/MjAwOjApO2xldCBsPXM+PTIwMCYmczwzMDA7aWYoImpzb24iPT09dC5yZXNwb25zZVR5cGUmJiJzdHJpbmciPT10eXBlb2YgYyl7Y29uc3QgdD1jO2M9Yy5yZXBsYWNlKEdtLCIiKTt0cnl7Yz0iIiE9PWM/SlNPTi5wYXJzZShjKTpudWxsfWNhdGNoKHUpe2M9dCxsJiYobD0hMSxjPXtlcnJvcjp1LHRleHQ6Y30pfX1sPyhlLm5leHQobmV3IE5tKHtib2R5OmMsaGVhZGVyczpyLHN0YXR1czpzLHN0YXR1c1RleHQ6byx1cmw6YXx8dm9pZCAwfSkpLGUuY29tcGxldGUoKSk6ZS5lcnJvcihuZXcgSG0oe2Vycm9yOmMsaGVhZGVyczpyLHN0YXR1czpzLHN0YXR1c1RleHQ6byx1cmw6YXx8dm9pZCAwfSkpfSxhPXQ9Pntjb25zdHt1cmw6cn09aSgpLHM9bmV3IEhtKHtlcnJvcjp0LHN0YXR1czpuLnN0YXR1c3x8MCxzdGF0dXNUZXh0Om4uc3RhdHVzVGV4dHx8IlVua25vd24gRXJyb3IiLHVybDpyfHx2b2lkIDB9KTtlLmVycm9yKHMpfTtsZXQgYz0hMTtjb25zdCBsPXI9PntjfHwoZS5uZXh0KGkoKSksYz0hMCk7bGV0IHM9e3R5cGU6Qm0uRG93bmxvYWRQcm9ncmVzcyxsb2FkZWQ6ci5sb2FkZWR9O3IubGVuZ3RoQ29tcHV0YWJsZSYmKHMudG90YWw9ci50b3RhbCksInRleHQiPT09dC5yZXNwb25zZVR5cGUmJm4ucmVzcG9uc2VUZXh0JiYocy5wYXJ0aWFsVGV4dD1uLnJlc3BvbnNlVGV4dCksZS5uZXh0KHMpfSx1PXQ9PntsZXQgbj17dHlwZTpCbS5VcGxvYWRQcm9ncmVzcyxsb2FkZWQ6dC5sb2FkZWR9O3QubGVuZ3RoQ29tcHV0YWJsZSYmKG4udG90YWw9dC50b3RhbCksZS5uZXh0KG4pfTtyZXR1cm4gbi5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixvKSxuLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixhKSxuLmFkZEV2ZW50TGlzdGVuZXIoInRpbWVvdXQiLGEpLG4uYWRkRXZlbnRMaXN0ZW5lcigiYWJvcnQiLGEpLHQucmVwb3J0UHJvZ3Jlc3MmJihuLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIixsKSxudWxsIT09ciYmbi51cGxvYWQmJm4udXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIix1KSksbi5zZW5kKHIpLGUubmV4dCh7dHlwZTpCbS5TZW50fSksKCk9PntuLnJlbW92ZUV2ZW50TGlzdGVuZXIoImVycm9yIixhKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoImFib3J0IixhKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLG8pLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigidGltZW91dCIsYSksdC5yZXBvcnRQcm9ncmVzcyYmKG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLGwpLG51bGwhPT1yJiZuLnVwbG9hZCYmbi51cGxvYWQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHUpKSxuLnJlYWR5U3RhdGUhPT1uLkRPTkUmJm4uYWJvcnQoKX19KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaHIoa2gpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCBYbT1uZXcgcW4oIlhTUkZfQ09PS0lFX05BTUUiKSxZbT1uZXcgcW4oIlhTUkZfSEVBREVSX05BTUUiKTtjbGFzcyBabXt9bGV0IFFtPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMuZG9jPXQsdGhpcy5wbGF0Zm9ybT1lLHRoaXMuY29va2llTmFtZT1uLHRoaXMubGFzdENvb2tpZVN0cmluZz0iIix0aGlzLmxhc3RUb2tlbj1udWxsLHRoaXMucGFyc2VDb3VudD0wfWdldFRva2VuKCl7aWYoInNlcnZlciI9PT10aGlzLnBsYXRmb3JtKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5kb2MuY29va2llfHwiIjtyZXR1cm4gdCE9PXRoaXMubGFzdENvb2tpZVN0cmluZyYmKHRoaXMucGFyc2VDb3VudCsrLHRoaXMubGFzdFRva2VuPW5oKHQsdGhpcy5jb29raWVOYW1lKSx0aGlzLmxhc3RDb29raWVTdHJpbmc9dCksdGhpcy5sYXN0VG9rZW59fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhyKFlsKSxocihubCksaHIoWG0pKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxLbT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy50b2tlblNlcnZpY2U9dCx0aGlzLmhlYWRlck5hbWU9ZX1pbnRlcmNlcHQodCxlKXtjb25zdCBuPXQudXJsLnRvTG93ZXJDYXNlKCk7aWYoIkdFVCI9PT10Lm1ldGhvZHx8IkhFQUQiPT09dC5tZXRob2R8fG4uc3RhcnRzV2l0aCgiaHR0cDovLyIpfHxuLnN0YXJ0c1dpdGgoImh0dHBzOi8vIikpcmV0dXJuIGUuaGFuZGxlKHQpO2NvbnN0IHI9dGhpcy50b2tlblNlcnZpY2UuZ2V0VG9rZW4oKTtyZXR1cm4gbnVsbD09PXJ8fHQuaGVhZGVycy5oYXModGhpcy5oZWFkZXJOYW1lKXx8KHQ9dC5jbG9uZSh7aGVhZGVyczp0LmhlYWRlcnMuc2V0KHRoaXMuaGVhZGVyTmFtZSxyKX0pKSxlLmhhbmRsZSh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaHIoWm0pLGhyKFltKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksSm09KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuYmFja2VuZD10LHRoaXMuaW5qZWN0b3I9ZSx0aGlzLmNoYWluPW51bGx9aGFuZGxlKHQpe2lmKG51bGw9PT10aGlzLmNoYWluKXtjb25zdCB0PXRoaXMuaW5qZWN0b3IuZ2V0KFVtLFtdKTt0aGlzLmNoYWluPXQucmVkdWNlUmlnaHQoKHQsZSk9Pm5ldyAkbSh0LGUpLHRoaXMuYmFja2VuZCl9cmV0dXJuIHRoaXMuY2hhaW4uaGFuZGxlKHQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShocihTbSksaHIoS2kpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSx0eT0oKCk9PntjbGFzcyB0e3N0YXRpYyBkaXNhYmxlKCl7cmV0dXJue25nTW9kdWxlOnQscHJvdmlkZXJzOlt7cHJvdmlkZTpLbSx1c2VDbGFzczpXbX1dfX1zdGF0aWMgd2l0aE9wdGlvbnMoZT17fSl7cmV0dXJue25nTW9kdWxlOnQscHJvdmlkZXJzOltlLmNvb2tpZU5hbWU/e3Byb3ZpZGU6WG0sdXNlVmFsdWU6ZS5jb29raWVOYW1lfTpbXSxlLmhlYWRlck5hbWU/e3Byb3ZpZGU6WW0sdXNlVmFsdWU6ZS5oZWFkZXJOYW1lfTpbXV19fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W0ttLHtwcm92aWRlOlVtLHVzZUV4aXN0aW5nOkttLG11bHRpOiEwfSx7cHJvdmlkZTpabSx1c2VDbGFzczpRbX0se3Byb3ZpZGU6WG0sdXNlVmFsdWU6IlhTUkYtVE9LRU4ifSx7cHJvdmlkZTpZbSx1c2VWYWx1ZToiWC1YU1JGLVRPS0VOIn1dfSksdH0pKCksZXk9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOlt6bSx7cHJvdmlkZTpFbSx1c2VDbGFzczpKbX0scW0se3Byb3ZpZGU6U20sdXNlRXhpc3Rpbmc6cW19XSxpbXBvcnRzOltbdHkud2l0aE9wdGlvbnMoe2Nvb2tpZU5hbWU6IlhTUkYtVE9LRU4iLGhlYWRlck5hbWU6IlgtWFNSRi1UT0tFTiJ9KV1dfSksdH0pKCk7ZnVuY3Rpb24gbnkodCxlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmZS5pbmRleE9mKHIpPDAmJihuW3JdPXRbcl0pO2lmKG51bGwhPXQmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcz0wO2ZvcihyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7czxyLmxlbmd0aDtzKyspZS5pbmRleE9mKHJbc10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LHJbc10pJiYobltyW3NdXT10W3Jbc11dKX1yZXR1cm4gbn1mdW5jdGlvbiByeSh0LGUsbixyKXt2YXIgcyxpPWFyZ3VtZW50cy5sZW5ndGgsbz1pPDM/ZTpudWxsPT09cj9yPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTpyO2lmKCJvYmplY3QiPT10eXBlb2YgUmVmbGVjdCYmImZ1bmN0aW9uIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpbz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKHM9dFthXSkmJihvPShpPDM/cyhvKTppPjM/cyhlLG4sbyk6cyhlLG4pKXx8byk7cmV0dXJuIGk+MyYmbyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixvKSxvfWxldCBzeT0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHt9KSx0fSkoKSxpeT0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbc3ldXX0pLHR9KSgpLG95PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W2l5XX0pLHR9KSgpO2Z1bmN0aW9uIGF5KHQsZT1SZCl7cmV0dXJuIG49Pm4ubGlmdChuZXcgY3kodCxlKSl9Y2xhc3MgY3l7Y29uc3RydWN0b3IodCxlKXt0aGlzLmR1ZVRpbWU9dCx0aGlzLnNjaGVkdWxlcj1lfWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IGx5KHQsdGhpcy5kdWVUaW1lLHRoaXMuc2NoZWR1bGVyKSl9fWNsYXNzIGx5IGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCksdGhpcy5kdWVUaW1lPWUsdGhpcy5zY2hlZHVsZXI9bix0aGlzLmRlYm91bmNlZFN1YnNjcmlwdGlvbj1udWxsLHRoaXMubGFzdFZhbHVlPW51bGwsdGhpcy5oYXNWYWx1ZT0hMX1fbmV4dCh0KXt0aGlzLmNsZWFyRGVib3VuY2UoKSx0aGlzLmxhc3RWYWx1ZT10LHRoaXMuaGFzVmFsdWU9ITAsdGhpcy5hZGQodGhpcy5kZWJvdW5jZWRTdWJzY3JpcHRpb249dGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUodXksdGhpcy5kdWVUaW1lLHRoaXMpKX1fY29tcGxldGUoKXt0aGlzLmRlYm91bmNlZE5leHQoKSx0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9ZGVib3VuY2VkTmV4dCgpe2lmKHRoaXMuY2xlYXJEZWJvdW5jZSgpLHRoaXMuaGFzVmFsdWUpe2NvbnN0e2xhc3RWYWx1ZTp0fT10aGlzO3RoaXMubGFzdFZhbHVlPW51bGwsdGhpcy5oYXNWYWx1ZT0hMSx0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9fWNsZWFyRGVib3VuY2UoKXtjb25zdCB0PXRoaXMuZGVib3VuY2VkU3Vic2NyaXB0aW9uO251bGwhPT10JiYodGhpcy5yZW1vdmUodCksdC51bnN1YnNjcmliZSgpLHRoaXMuZGVib3VuY2VkU3Vic2NyaXB0aW9uPW51bGwpfX1mdW5jdGlvbiB1eSh0KXt0LmRlYm91bmNlZE5leHQoKX1jbGFzcyBoeXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnZhbHVlPXR9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgZHkodCx0aGlzLnZhbHVlKSl9fWNsYXNzIGR5IGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMudmFsdWU9ZX1fbmV4dCh0KXt0aGlzLmRlc3RpbmF0aW9uLm5leHQodGhpcy52YWx1ZSl9fWNsYXNzIHB5e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5wcmVkaWNhdGU9dCx0aGlzLmluY2x1c2l2ZT1lfWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IGZ5KHQsdGhpcy5wcmVkaWNhdGUsdGhpcy5pbmNsdXNpdmUpKX19Y2xhc3MgZnkgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0KSx0aGlzLnByZWRpY2F0ZT1lLHRoaXMuaW5jbHVzaXZlPW4sdGhpcy5pbmRleD0wfV9uZXh0KHQpe2NvbnN0IGU9dGhpcy5kZXN0aW5hdGlvbjtsZXQgbjt0cnl7bj10aGlzLnByZWRpY2F0ZSh0LHRoaXMuaW5kZXgrKyl9Y2F0Y2gocil7cmV0dXJuIHZvaWQgZS5lcnJvcihyKX10aGlzLm5leHRPckNvbXBsZXRlKHQsbil9bmV4dE9yQ29tcGxldGUodCxlKXtjb25zdCBuPXRoaXMuZGVzdGluYXRpb247Qm9vbGVhbihlKT9uLm5leHQodCk6KHRoaXMuaW5jbHVzaXZlJiZuLm5leHQodCksbi5jb21wbGV0ZSgpKX19ZnVuY3Rpb24gZ3kodCxlKXsxJnQmJkxvKDApfWNvbnN0IG15PVsiKiJdO2Z1bmN0aW9uIHl5KHQsZSl7MSZ0JiZFbygwKX1mdW5jdGlvbiB2eSh0LGUpe2lmKDEmdCl7Y29uc3QgdD1TbygpO3dvKDAsInNlY3Rpb24iLDIpLHdvKDEsInBvLWFjY29yZGlvbi1pdGVtLWhlYWRlciIsMyksa28oInAtdG9nZ2xlIixmdW5jdGlvbihlKXtjb25zdCBuPVBlKHQpLiRpbXBsaWNpdDtyZXR1cm4gT28oKS5oZWFkZXJUb2dnbGUoZSxuKX0pLF9vKCksd28oMiwicG8tYWNjb3JkaW9uLWl0ZW0tYm9keSIsNCksbW8oMyx5eSwxLDAsIm5nLWNvbnRhaW5lciIsNSksX28oKSxfbygpfWlmKDImdCl7Y29uc3QgdD1lLiRpbXBsaWNpdDskbygicG8tYWNjb3JkaW9uLWl0ZW0tYWN0aXZlIix0LmV4cGFuZGVkKSwkcygxKSxibygicC1leHBhbmRlZCIsdC5leHBhbmRlZCkoInAtbGFiZWwiLHQubGFiZWwpLCRzKDEpLGJvKCJwLWV4cGFuZGVkIix0LmV4cGFuZGVkKSwkcygxKSxibygibmdUZW1wbGF0ZU91dGxldCIsdC50ZW1wbGF0ZVJlZil9fWZ1bmN0aW9uIGJ5KHQsZSl7MSZ0JiYod28oMCwiZGl2IiwxKSx3bygxLCJkaXYiLDIpLExvKDIpLF9vKCksX28oKSksMiZ0JiZibygiQHRvZ2dsZUJvZHkiLHZvaWQgMCl9ZnVuY3Rpb24gQ3kodCxlKXsxJnQmJkVvKDApfWZ1bmN0aW9uIHd5KHQsZSl7MSZ0JiZEbygwLCJpIiwyKSwyJnQmJlVvKE9vKCkuY2xhc3MpfWZ1bmN0aW9uIF95KHQsZSl7aWYoMSZ0JiYod28oMCwic3BhbiIsMiksbmEoMSksX28oKSksMiZ0KXtjb25zdCB0PU9vKCk7JHMoMSkscmEodC50ZXh0KX19Y29uc3QgRHk9WyJidXR0b24iXTtmdW5jdGlvbiBFeSh0LGUpezEmdCYmKHdvKDAsImRpdiIsNSksRG8oMSwicG8tbG9hZGluZy1pY29uIiw2KSxfbygpKX1mdW5jdGlvbiBTeSh0LGUpezEmdCYmRG8oMCwicG8taWNvbiIsNyksMiZ0JiZibygicC1pY29uIixPbygpLmljb24pfWZ1bmN0aW9uIHh5KHQsZSl7aWYoMSZ0JiYod28oMCwic3BhbiIsOCksbmEoMSksX28oKSksMiZ0KXtjb25zdCB0PU9vKCk7JHMoMSkscmEodC5sYWJlbCl9fWNvbnN0IEF5PVsiY2hhcnRMaW5lIl0sVHk9WyJwby1jaGFydC1hcmVhIiwiIl07ZnVuY3Rpb24ga3kodCxlKXtpZigxJnQpe2NvbnN0IHQ9U28oKTthbigpLHdvKDAsImciLDIpLGtvKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe2NvbnN0IGU9UGUodCkuaW5kZXg7cmV0dXJuIE9vKCkub25FbnRlcihlKX0pKCJtb3VzZWxlYXZlIixmdW5jdGlvbigpe2NvbnN0IGU9UGUodCkuaW5kZXg7cmV0dXJuIE9vKCkub25MZWF2ZShlKX0pLERvKDEsImciLDMpLHdvKDIsImciLDQpLGtvKCJwLXBvaW50LWNsaWNrIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksT28oKS5vblNlcmllUG9pbnRDbGljayhlKX0pKCJwLXBvaW50LWhvdmVyIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksT28oKS5vblNlcmllUG9pbnRIb3ZlcihlKX0pLF9vKCksX28oKX1pZigyJnQpe2NvbnN0IHQ9ZS4kaW1wbGljaXQsbj1lLmluZGV4LHI9T28oKTtVbygicG8tY2hhcnQtbGluZS1wYXRoLWdyb3VwLSIrbiksJHMoMSksYm8oInAtY2hhcnQtbGluZSIsImxpbmUiPT09ci5jaGFydFR5cGUpKCJwLWFuaW1hdGUiLHIuYW5pbWF0ZSkoInAtY29sb3IiLHQuY29sb3IpKCJwLWNvb3JkaW5hdGVzIixudWxsPT10P251bGw6dC5jb29yZGluYXRlcykoInAtaXMtYWN0aXZlIix0LmlzQWN0aXZlKSxmbygia2V5IiwicG8tY2hhcnQtbGluZS1wYXRoLSIrbiksJHMoMSksYm8oInAtYW5pbWF0ZSIsci5hbmltYXRlKSgicC1jaGFydC1saW5lIiwibGluZSI9PT1yLmNoYXJ0VHlwZSkoInAtY29sb3IiLHQuY29sb3IpKCJwLWNvb3JkaW5hdGVzIixyLnNlcmllc1BvaW50c0Nvb3JkaW5hdGVzW25dKSgicC1pcy1hY3RpdmUiLHIuYWN0aXZlVG9vbHRpcCkoInAtcmVsYXRpdmUtdG8iLCJwby1jaGFydC1saW5lLXBhdGgtZ3JvdXAtIituKSxmbygia2V5IiwicG8tY2hhcnQtbGluZS1wYXRoLXBvaW50cy1ncm91cC0iK24pfX1jb25zdCBGeT1bInBvLWNoYXJ0LWF4aXMiLCIiXSxJeT1bInBvLWNoYXJ0LWF4aXMtcGF0aCIsIiJdO2Z1bmN0aW9uIE95KHQsZSl7MSZ0JiYoYW4oKSxEbygwLCJwYXRoIiwxKSksMiZ0JiZmbygiZCIsZS4kaW1wbGljaXQuY29vcmRpbmF0ZXMpfWZ1bmN0aW9uIFB5KHQsZSl7MSZ0JiYoYW4oKSxEbygwLCJwYXRoIiwxKSksMiZ0JiZmbygiZCIsZS4kaW1wbGljaXQuY29vcmRpbmF0ZXMpfWNvbnN0IFJ5PVsicG8tY2hhcnQtYXhpcy1sYWJlbCIsIiJdO2Z1bmN0aW9uIEx5KHQsZSl7aWYoMSZ0JiYoYW4oKSx3bygwLCJ0ZXh0IiwyKSxuYSgxKSxfbygpKSwyJnQpe2NvbnN0IHQ9ZS4kaW1wbGljaXQ7Zm8oIngiLHQueENvb3JkaW5hdGUpKCJ5Iix0LnlDb29yZGluYXRlKSwkcygxKSxzYSgiICIsdC5sYWJlbCwiICIpfX1mdW5jdGlvbiBCeSh0LGUpe2lmKDEmdCYmKGFuKCksd28oMCwidGV4dCIsMyksbmEoMSksX28oKSksMiZ0KXtjb25zdCB0PWUuJGltcGxpY2l0OyRvKCJwby1jaGFydC1jZW50ZXJlZC1sYWJlbCIsIU9vKCkuYWxpZ25CeVRoZUNvcm5lcnMpLGZvKCJ4Iix0LnhDb29yZGluYXRlKSgieSIsdC55Q29vcmRpbmF0ZSksJHMoMSksc2EoIiAiLHQubGFiZWwsIiAiKX19Y29uc3Qgank9WyJwby1jaGFydC1iYXIiLCIiXTtmdW5jdGlvbiBNeSh0LGUpe2lmKDEmdCl7Y29uc3QgdD1TbygpO2FuKCksd28oMCwiZyIpLHdvKDEsImciLDEpLGtvKCJwLWJhci1jbGljayIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLE9vKCkub25TZXJpZUJhckNsaWNrKGUpfSkoInAtYmFyLWhvdmVyIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksT28oKS5vblNlcmllQmFySG92ZXIoZSl9KSxfbygpLF9vKCl9aWYoMiZ0KXtjb25zdCB0PWUuJGltcGxpY2l0LG49ZS5pbmRleCxyPU9vKCk7VW8oInBvLWNoYXJ0LWJhci1ncm91cC0iK24pLCRzKDEpLGJvKCJwLWNvbG9yIixudWxsPT10WzBdP251bGw6dFswXS5jb2xvcikoInAtY29vcmRpbmF0ZXMiLHQpKCJwLXRvb2x0aXAtcG9zaXRpb24iLHIudG9vbHRpcFBvc2l0aW9uKSxmbygia2V5IiwicG8tY2hhcnQtYmFyLXBhdGgtIituKX19Y29uc3QgTnk9WyJwby1jaGFydC1jb2x1bW4iLCIiXTtmdW5jdGlvbiBIeSh0LGUpe2lmKDEmdCl7Y29uc3QgdD1TbygpO2FuKCksd28oMCwiZyIpLHdvKDEsImciLDEpLGtvKCJwLWJhci1jbGljayIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLE9vKCkub25TZXJpZUJhckNsaWNrKGUpfSkoInAtYmFyLWhvdmVyIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksT28oKS5vblNlcmllQmFySG92ZXIoZSl9KSxfbygpLF9vKCl9aWYoMiZ0KXtjb25zdCB0PWUuJGltcGxpY2l0LG49ZS5pbmRleCxyPU9vKCk7VW8oInBvLWNoYXJ0LWJhci1ncm91cC0iK24pLCRzKDEpLGJvKCJwLWNvbG9yIixudWxsPT10WzBdP251bGw6dFswXS5jb2xvcikoInAtY29vcmRpbmF0ZXMiLHQpKCJwLXRvb2x0aXAtcG9zaXRpb24iLHIudG9vbHRpcFBvc2l0aW9uKSxmbygia2V5IiwicG8tY2hhcnQtYmFyLXBhdGgtIituKX19Y29uc3QgVnk9WyJjaGFydEJvZHkiXSx6eT1bInN2Z0NvbnRhaW5lciJdLCR5PVsiZGVzY3JpcHRpb24iXTtmdW5jdGlvbiBVeSh0LGUpe2lmKDEmdCYmKHdvKDAsInAiLDQsNSksbmEoMiksX28oKSksMiZ0KXtjb25zdCB0PU9vKDIpO2JvKCJwLXRvb2x0aXAiLHQudG9vbHRpcCksJHMoMiksc2EoIiAiLG51bGw9PXQuc2VyaWU/bnVsbDp0LnNlcmllLmRlc2NyaXB0aW9uLCIgIil9fWZ1bmN0aW9uIFd5KHQsZSl7aWYoMSZ0JiYod28oMCwiZGl2IiwxKSx3bygxLCJwIiwyKSxuYSgyKSxfbygpLG1vKDMsVXksMywyLCJwIiwzKSxfbygpKSwyJnQpe2NvbnN0IHQ9T28oKTtibygibmdTdHlsZSIsdC5tYXhEZXNjcmlwdGlvbldpZHRoKSwkcygyKSxyYSh0LnNlcmllVmFsdWVDb252ZXJ0ZWQpLCRzKDEpLGJvKCJuZ0lmIix0Lmhhc1NlcmllRGVzY3JpcHRpb24pfX1mdW5jdGlvbiBHeSh0LGUpe2lmKDEmdCYmKHdvKDAsImRpdiIsNSw2KSxEbygyLCJkaXYiLDcpLHdvKDMsImRpdiIsOCksbmEoNCksX28oKSxfbygpKSwyJnQpe2NvbnN0IHQ9T28oKTskcyg0KSxyYSh0LnRvb2x0aXBUZXh0KX19Y29uc3QgcXk9WyJjaGFydENvbnRhaW5lciJdLFh5PVsiY2hhcnRIZWFkZXIiXSxZeT1bImNoYXJ0TGVnZW5kIl0sWnk9WyJjaGFydFdyYXBwZXIiXTtmdW5jdGlvbiBReSh0LGUpe2lmKDEmdCl7Y29uc3QgdD1TbygpO3dvKDAsInBvLWNoYXJ0LWNvbnRhaW5lciIsOSksa28oInAtc2VyaWUtY2xpY2siLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxPbygpLm9uU2VyaWVzQ2xpY2soZSl9KSgicC1zZXJpZS1ob3ZlciIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLE9vKCkub25TZXJpZXNIb3ZlcihlKX0pLF9vKCl9aWYoMiZ0KXtjb25zdCB0PU9vKCk7Ym8oInAtb3B0aW9ucyIsdC5vcHRpb25zKSgicC10eXBlIix0LmNoYXJ0VHlwZSkoInAtc2VyaWVzIix0LmNoYXJ0U2VyaWVzKSgicC1jYXRlZ29yaWVzIix0LmNhdGVnb3JpZXMpKCJwLWNvbnRhaW5lci1zaXplIix0LnN2Z0NvbnRhaW5lclNpemUpfX1mdW5jdGlvbiBLeSh0LGUpe31mdW5jdGlvbiBKeSh0LGUpezEmdCYmRW8oMCl9ZnVuY3Rpb24gdHYodCxlKXtpZigxJnQmJih3bygwLCJkaXYiKSxtbygxLEp5LDEsMCwibmctY29udGFpbmVyIiwxMCksX28oKSksMiZ0KXtPbygpO2NvbnN0IHQ9eW8oMTEpOyRzKDEpLGJvKCJuZ1RlbXBsYXRlT3V0bGV0Iix0KX19ZnVuY3Rpb24gZXYodCxlKXtpZigxJnQmJkRvKDAsInBvLWNoYXJ0LWxlZ2VuZCIsMTEsMTIpLDImdCl7Y29uc3QgdD1PbygpO2JvKCJwLXNlcmllcyIsdC5jaGFydFNlcmllcykoInAtdHlwZSIsdC50eXBlKX19Y29uc3QgbnY9WyJzdmdFTGVtZW50Il07ZnVuY3Rpb24gcnYodCxlKXtpZigxJnQpe2NvbnN0IHQ9U28oKTthbigpLHdvKDAsImciLDkpLGtvKCJwLWNhdGVnb3JpZXMtY29vcmRpbmF0ZXMiLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxPbygpLmdldENhdGVnb3JpZXNDb29yZGluYXRlcyhlKX0pLF9vKCl9aWYoMiZ0KXtjb25zdCB0PU9vKCk7Ym8oInAtYWxpZ24tYnktdGhlLWNvcm5lcnMiLHQuYWxpZ25CeVRoZUNvcm5lcnMpKCJwLXJhbmdlIix0LnJhbmdlKSgicC10eXBlIix0LnR5cGUpKCJwLXNlcmllcyIsdC5zZXJpZXMpKCJwLWNvbnRhaW5lci1zaXplIix0LmNvbnRhaW5lclNpemUpKCJwLW9wdGlvbnMiLHQuYXhpc09wdGlvbnMpKCJwLWNhdGVnb3JpZXMiLHQuY2F0ZWdvcmllcyl9fWZ1bmN0aW9uIHN2KHQsZSl7aWYoMSZ0KXtjb25zdCB0PVNvKCk7YW4oKSx3bygwLCJnIiwxMCksa28oInAtYmFyLWhvdmVyIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksT28oKS5vblNlcmllSG92ZXIoZSl9KSgicC1iYXItY2xpY2siLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxPbygpLm9uU2VyaWVDbGljayhlKX0pLF9vKCl9aWYoMiZ0KXtjb25zdCB0PU9vKCk7Ym8oInAtYWxpZ24tYnktdGhlLWNvcm5lcnMiLHQuYWxpZ25CeVRoZUNvcm5lcnMpKCJwLXN2Zy1zcGFjZSIsdC5zdmdTcGFjZSkoInAtY2F0ZWdvcmllcyIsdC5jYXRlZ29yaWVzKSgicC1jYXRlZ29yaWVzLWNvb3JkaW5hdGVzIix0LmNhdGVnb3JpZXNDb29yZGluYXRlcykoInAtcmFuZ2UiLHQucmFuZ2UpKCJwLXNlcmllcyIsdC5zZXJpZXNCeVR5cGUuYXJlYSkoInAtY29udGFpbmVyLXNpemUiLHQuY29udGFpbmVyU2l6ZSl9fWZ1bmN0aW9uIGl2KHQsZSl7aWYoMSZ0KXtjb25zdCB0PVNvKCk7YW4oKSx3bygwLCJnIiwxMSksa28oInAtYmFyLWhvdmVyIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksT28oKS5vblNlcmllSG92ZXIoZSl9KSgicC1iYXItY2xpY2siLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxPbygpLm9uU2VyaWVDbGljayhlKX0pLF9vKCl9aWYoMiZ0KXtjb25zdCB0PU9vKCk7Ym8oInAtY2F0ZWdvcmllcyIsdC5jYXRlZ29yaWVzKSgicC1yYW5nZSIsdC5yYW5nZSkoInAtc2VyaWVzIix0LnNlcmllc0J5VHlwZS5jb2x1bW4pKCJwLWNvbnRhaW5lci1zaXplIix0LmNvbnRhaW5lclNpemUpfX1mdW5jdGlvbiBvdih0LGUpe2lmKDEmdCl7Y29uc3QgdD1TbygpO2FuKCksd28oMCwiZyIsMTIpLGtvKCJwLXBvaW50LWhvdmVyIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksT28oKS5vblNlcmllSG92ZXIoZSl9KSgicC1wb2ludC1jbGljayIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLE9vKCkub25TZXJpZUNsaWNrKGUpfSksX28oKX1pZigyJnQpe2NvbnN0IHQ9T28oKTtibygicC1jYXRlZ29yaWVzIix0LmNhdGVnb3JpZXMpKCJwLXJhbmdlIix0LnJhbmdlKSgicC1zZXJpZXMiLHQuc2VyaWVzQnlUeXBlLmxpbmUpKCJwLWNvbnRhaW5lci1zaXplIix0LmNvbnRhaW5lclNpemUpfX1mdW5jdGlvbiBhdih0LGUpe2lmKDEmdCl7Y29uc3QgdD1TbygpO2FuKCksd28oMCwiZyIsMTMpLGtvKCJwLWJhci1ob3ZlciIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLE9vKCkub25TZXJpZUhvdmVyKGUpfSkoInAtYmFyLWNsaWNrIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksT28oKS5vblNlcmllQ2xpY2soZSl9KSxfbygpfWlmKDImdCl7Y29uc3QgdD1PbygpO2JvKCJwLWNhdGVnb3JpZXMiLHQuY2F0ZWdvcmllcykoInAtcmFuZ2UiLHQucmFuZ2UpKCJwLXNlcmllcyIsdC5zZXJpZXNCeVR5cGUuYmFyKSgicC1jb250YWluZXItc2l6ZSIsdC5jb250YWluZXJTaXplKX19ZnVuY3Rpb24gY3YodCxlKXtpZigxJnQpe2NvbnN0IHQ9U28oKTthbigpLHdvKDAsImciLDE0KSxrbygicC1jaXJjdWxhci1ob3ZlciIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLE9vKCkub25TZXJpZUhvdmVyKGUpfSkoInAtY2lyY3VsYXItY2xpY2siLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxPbygpLm9uU2VyaWVDbGljayhlKX0pLF9vKCl9aWYoMiZ0KXtjb25zdCB0PU9vKCk7Ym8oInAtc2VyaWVzIix0LnNlcmllc0J5VHlwZS5waWUpKCJwLWNvbnRhaW5lci1zaXplIix0LmNvbnRhaW5lclNpemUpfX1mdW5jdGlvbiBsdih0LGUpe2lmKDEmdCl7Y29uc3QgdD1TbygpO2FuKCksd28oMCwiZyIsMTUpLGtvKCJwLWNpcmN1bGFyLWhvdmVyIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksT28oKS5vblNlcmllSG92ZXIoZSl9KSgicC1jaXJjdWxhci1jbGljayIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLE9vKCkub25TZXJpZUNsaWNrKGUpfSksX28oKX1pZigyJnQpe2NvbnN0IHQ9T28oKTtibygicC1vcHRpb25zIix0Lm9wdGlvbnMpKCJwLXNlcmllcyIsdC5zZXJpZXNCeVR5cGUuZG9udXQpKCJwLWNvbnRhaW5lci1zaXplIix0LmNvbnRhaW5lclNpemUpfX1mdW5jdGlvbiB1dih0LGUpe2lmKDEmdCYmKHdvKDAsImRpdiIsMyksRG8oMSwiZGl2Iiw0KSx3bygyLCJzcGFuIiw1KSxuYSgzKSxfbygpLF9vKCkpLDImdCl7Y29uc3QgdD1lLiRpbXBsaWNpdDskcygxKSxVbyhudWxsIT10LmNvbG9yJiZ0LmNvbG9yLmluY2x1ZGVzKCJwby1jb2xvciIpP3QuY29sb3I6IiIpLHpvKCJiYWNrZ3JvdW5kIix0LmNvbG9yKSwkcygyKSxyYSh0LmxhYmVsfHx0LmNhdGVnb3J5KX19Y29uc3QgaHY9WyJwby1jaGFydC1saW5lIiwiIl07ZnVuY3Rpb24gZHYodCxlKXtpZigxJnQpe2NvbnN0IHQ9U28oKTthbigpLHdvKDAsImciLDIpLGtvKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe2NvbnN0IGU9UGUodCkuaW5kZXg7cmV0dXJuIE9vKCkub25FbnRlcihlKX0pKCJtb3VzZWxlYXZlIixmdW5jdGlvbigpe2NvbnN0IGU9UGUodCkuaW5kZXg7cmV0dXJuIE9vKCkub25MZWF2ZShlKX0pLERvKDEsImciLDMpLHdvKDIsImciLDQpLGtvKCJwLXBvaW50LWNsaWNrIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksT28oKS5vblNlcmllUG9pbnRDbGljayhlKX0pKCJwLXBvaW50LWhvdmVyIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksT28oKS5vblNlcmllUG9pbnRIb3ZlcihlKX0pLF9vKCksX28oKX1pZigyJnQpe2NvbnN0IHQ9ZS4kaW1wbGljaXQsbj1lLmluZGV4LHI9T28oKTtVbygicG8tY2hhcnQtbGluZS1wYXRoLWdyb3VwLSIrbiksJHMoMSksYm8oInAtY2hhcnQtbGluZSIsImxpbmUiPT09ci5jaGFydFR5cGUpKCJwLWFuaW1hdGUiLHIuYW5pbWF0ZSkoInAtY29sb3IiLHQuY29sb3IpKCJwLWNvb3JkaW5hdGVzIixudWxsPT10P251bGw6dC5jb29yZGluYXRlcykoInAtaXMtYWN0aXZlIix0LmlzQWN0aXZlKSxmbygia2V5IiwicG8tY2hhcnQtbGluZS1wYXRoLSIrbiksJHMoMSksYm8oInAtYW5pbWF0ZSIsci5hbmltYXRlKSgicC1jaGFydC1saW5lIiwibGluZSI9PT1yLmNoYXJ0VHlwZSkoInAtY29sb3IiLHQuY29sb3IpKCJwLWNvb3JkaW5hdGVzIixyLnNlcmllc1BvaW50c0Nvb3JkaW5hdGVzW25dKSgicC1pcy1hY3RpdmUiLHIuYWN0aXZlVG9vbHRpcCkoInAtcmVsYXRpdmUtdG8iLCJwby1jaGFydC1saW5lLXBhdGgtZ3JvdXAtIituKSxmbygia2V5IiwicG8tY2hhcnQtbGluZS1wYXRoLXBvaW50cy1ncm91cC0iK24pfX1jb25zdCBwdj1bInBvLWNoYXJ0LWJhci1wYXRoIiwiIl07ZnVuY3Rpb24gZnYodCxlKXtpZigxJnQpe2NvbnN0IHQ9U28oKTthbigpLHdvKDAsInBhdGgiLDEpLGtvKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe2NvbnN0IGU9UGUodCkuJGltcGxpY2l0O3JldHVybiBPbygpLm9uTW91c2VFbnRlcihlKX0pKCJjbGljayIsZnVuY3Rpb24oKXtjb25zdCBlPVBlKHQpLiRpbXBsaWNpdDtyZXR1cm4gT28oKS5vbkNsaWNrKGUpfSksX28oKX1pZigyJnQpe2NvbnN0IHQ9ZS4kaW1wbGljaXQsbj1PbygpO1VvKG51bGwhPW4uY29sb3ImJm4uY29sb3IuaW5jbHVkZXMoInBvLWNvbG9yIik/bi5jb2xvcjoiIiksYm8oInAtdG9vbHRpcCIsdC50b29sdGlwTGFiZWwpKCJwLXRvb2x0aXAtcG9zaXRpb24iLG4udG9vbHRpcFBvc2l0aW9uKSgicC1hcHBlbmQtaW4tYm9keSIsITApLGZvKCJmaWxsIixuLmNvbG9yKSgiZCIsdC5jb29yZGluYXRlcyl9fWNvbnN0IGd2PVsiY2hhcnRQYXRoIl0sbXY9WyJwby1jaGFydC1wYXRoIiwiIl0seXY9WyJwby1jaGFydC1zZXJpZXMtcG9pbnQiLCIiXTtmdW5jdGlvbiB2dih0LGUpe2lmKDEmdCl7Y29uc3QgdD1TbygpO2FuKCksd28oMCwiY2lyY2xlIiwxKSxrbygiY2xpY2siLGZ1bmN0aW9uKCl7Y29uc3QgZT1QZSh0KS4kaW1wbGljaXQ7cmV0dXJuIE9vKCkub25DbGljayhlKX0pKCJtb3VzZWVudGVyIixmdW5jdGlvbihlKXtjb25zdCBuPVBlKHQpLiRpbXBsaWNpdDtyZXR1cm4gT28oKS5vbk1vdXNlRW50ZXIoZSxuKX0pKCJtb3VzZWxlYXZlIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksT28oKS5vbk1vdXNlTGVhdmUoZSl9KSxfbygpfWlmKDImdCl7Y29uc3QgdD1lLiRpbXBsaWNpdCxuPU9vKCk7VW8obnVsbCE9bi5zdHJva2VDb2xvciYmbi5zdHJva2VDb2xvci5pbmNsdWRlcygicG8tYm9yZGVyLWNvbG9yIik/bi5zdHJva2VDb2xvcjoiIiksJG8oInBvLWNoYXJ0LWFjdGl2ZS1wb2ludCIsdC5pc0FjdGl2ZSksYm8oInAtdG9vbHRpcCIsdC50b29sdGlwTGFiZWwpKCJwLWFwcGVuZC1pbi1ib2R5IiwhMCkoInAtZGlzcGxheS10b29sdGlwIiwhbi5jaGFydExpbmUmJnQuaXNBY3RpdmUpLGZvKCJjeCIsdC54Q29vcmRpbmF0ZSkoImN5Iix0LnlDb29yZGluYXRlKSgiciIsbi5yYWRpdXMpKCJzdHJva2UiLG4uc3Ryb2tlQ29sb3IpfX1jb25zdCBidj1bInN2Z1BhdGhzIl0sQ3Y9WyJzdmdMYWJlbHMiXSx3dj1bInBvLWNoYXJ0LXBpZSIsIiJdO2Z1bmN0aW9uIF92KHQsZSl7aWYoMSZ0KXtjb25zdCB0PVNvKCk7YW4oKSx3bygwLCJnIiksd28oMSwiZyIsMiwzKSxrbygicC1vbi1jbGljayIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLE9vKCkub25TZXJpZUNsaWNrKGUpfSkoInAtb24taG92ZXIiLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxPbygpLm9uU2VyaWVIb3ZlcihlKX0pLF9vKCksX28oKX1pZigyJnQpe2NvbnN0IHQ9ZS4kaW1wbGljaXQsbj1lLmluZGV4OyRzKDEpLGJvKCJwLXNlcmllIix0KSxmbygia2V5IiwicG8tY2hhcnQtY2lyY3VsYXItcGF0aC0iK24pfX1mdW5jdGlvbiBEdih0LGUpe2lmKDEmdCYmKGFuKCksd28oMCwiZyIpLERvKDEsImciLDQsNSksX28oKSksMiZ0KXtjb25zdCB0PWUuJGltcGxpY2l0LG49ZS5pbmRleCxyPU9vKDIpOyRzKDEpLGJvKCJwLXNlcmllIix0KSgicC1zaG93LWxhYmVsIixyLnNob3dMYWJlbHMpLGZvKCJrZXkiLCJwby1jaGFydC1jaXJjdWxhci1sYWJlbC0iK24pfX1mdW5jdGlvbiBFdih0LGUpe2lmKDEmdCYmKGFuKCksd28oMCwiZyIpLG1vKDEsRHYsMywzLCJnIiwwKSxfbygpKSwyJnQpe2NvbnN0IHQ9T28oKTskcygxKSxibygibmdGb3JPZiIsdC5zZXJpZXNMYWJlbHMpfX1jb25zdCBTdj1bInBvLWNoYXJ0LWRvbnV0IiwiIl07ZnVuY3Rpb24geHYodCxlKXtpZigxJnQpe2NvbnN0IHQ9U28oKTthbigpLHdvKDAsImciKSx3bygxLCJnIiwyLDMpLGtvKCJwLW9uLWNsaWNrIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksT28oKS5vblNlcmllQ2xpY2soZSl9KSgicC1vbi1ob3ZlciIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLE9vKCkub25TZXJpZUhvdmVyKGUpfSksX28oKSxfbygpfWlmKDImdCl7Y29uc3QgdD1lLiRpbXBsaWNpdCxuPWUuaW5kZXg7JHMoMSksYm8oInAtc2VyaWUiLHQpLGZvKCJrZXkiLCJwby1jaGFydC1jaXJjdWxhci1wYXRoLSIrbil9fWZ1bmN0aW9uIEF2KHQsZSl7aWYoMSZ0JiYoYW4oKSx3bygwLCJnIiksRG8oMSwiZyIsNCw1KSxfbygpKSwyJnQpe2NvbnN0IHQ9ZS4kaW1wbGljaXQsbj1lLmluZGV4LHI9T28oMik7JHMoMSksYm8oInAtc2VyaWUiLHQpKCJwLXNob3ctbGFiZWwiLHIuc2hvd0xhYmVscyksZm8oImtleSIsInBvLWNoYXJ0LWNpcmN1bGFyLWxhYmVsLSIrbil9fWZ1bmN0aW9uIFR2KHQsZSl7aWYoMSZ0JiYoYW4oKSx3bygwLCJnIiksbW8oMSxBdiwzLDMsImciLDApLF9vKCkpLDImdCl7Y29uc3QgdD1PbygpOyRzKDEpLGJvKCJuZ0Zvck9mIix0LnNlcmllc0xhYmVscyl9fWNvbnN0IGt2PVsic3ZnTGFiZWwiXSxGdj1bInBvLWNoYXJ0LWNpcmN1bGFyLWxhYmVsIiwiIl0sSXY9WyJzdmdQYXRoIl0sT3Y9WyJwby1jaGFydC1jaXJjdWxhci1wYXRoIiwiIl0sUHY9WyJtb2RhbENvbnRlbnQiXTtmdW5jdGlvbiBSdih0LGUpe2lmKDEmdCl7Y29uc3QgdD1TbygpO3dvKDAsImEiLDE0KSxrbygiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIFBlKHQpLE9vKDIpLmNsb3NlKCEwKX0pLERvKDEsInNwYW4iLDE1KSxfbygpfX1mdW5jdGlvbiBMdih0LGUpe2lmKDEmdCl7Y29uc3QgdD1TbygpO3dvKDAsInBvLWJ1dHRvbiIsMTYpLGtvKCJwLWNsaWNrIixmdW5jdGlvbigpe3JldHVybiBQZSh0KSxPbygyKS5zZWNvbmRhcnlBY3Rpb24uYWN0aW9uKCl9KSxfbygpfWlmKDImdCl7Y29uc3QgdD1PbygyKTtibygicC1kaXNhYmxlZCIsdC5zZWNvbmRhcnlBY3Rpb24uZGlzYWJsZWQpKCJwLWxhYmVsIix0LnNlY29uZGFyeUFjdGlvbi5sYWJlbCkoInAtbG9hZGluZyIsdC5zZWNvbmRhcnlBY3Rpb24ubG9hZGluZykoInAtdHlwZSIsdC5nZXRTZWNvbmRhcnlBY3Rpb25CdXR0b25UeXBlKCkpfX1mdW5jdGlvbiBCdih0LGUpe2lmKDEmdCl7Y29uc3QgdD1TbygpO3dvKDAsImRpdiIsMSksa28oImtleWRvd24uZXNjIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksT28oKS5jbG9zZU1vZGFsT25Fc2NhcGVLZXkoZSl9KSx3bygxLCJkaXYiLDIpLHdvKDIsImRpdiIsMyksa28oIm1vdXNlZG93biIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLE9vKCkub25DbGlja091dChlKX0pLHdvKDMsImRpdiIsNCksd28oNCwiZGl2Iiw1LDYpLHdvKDYsImRpdiIsNyksd28oNywiZGl2Iiw4KSxuYSg4KSxfbygpLG1vKDksUnYsMiwwLCJhIiw5KSxfbygpLHdvKDEwLCJkaXYiLDEwKSxMbygxMSksX28oKSx3bygxMiwiZGl2IiwxMSksbW8oMTMsTHYsMSw0LCJwby1idXR0b24iLDEyKSx3bygxNCwicG8tYnV0dG9uIiwxMyksa28oInAtY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIFBlKHQpLE9vKCkucHJpbWFyeUFjdGlvbi5hY3Rpb24oKX0pLF9vKCksX28oKSxfbygpLF9vKCksX28oKSxfbygpLF9vKCl9aWYoMiZ0KXtjb25zdCB0PU9vKCk7JHMoNCksaWEoInBvLW1vZGFsLWNvbnRlbnQgcG8tbW9kYWwtIix0LnNpemUsIiIpLCRzKDQpLHNhKCIgIix0LnRpdGxlLCIgIiksJHMoMSksYm8oIm5nSWYiLCF0LmhpZGVDbG9zZSksJHMoNCksYm8oIm5nSWYiLHQuc2Vjb25kYXJ5QWN0aW9uKSwkcygxKSxibygicC1kaXNhYmxlZCIsdC5wcmltYXJ5QWN0aW9uLmRpc2FibGVkKSgicC1sYWJlbCIsdC5wcmltYXJ5QWN0aW9uLmxhYmVsKSgicC1sb2FkaW5nIix0LnByaW1hcnlBY3Rpb24ubG9hZGluZykoInAtdHlwZSIsdC5nZXRQcmltYXJ5QWN0aW9uQnV0dG9uVHlwZSgpKX19Y29uc3QganY9WyJ0b2FzdGVyIl07ZnVuY3Rpb24gTXYodCxlKXtpZigxJnQpe2NvbnN0IHQ9U28oKTt3bygwLCJkaXYiLDcpLGtvKCJjbGljayIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLE9vKCkucG9Ub2FzdGVyQWN0aW9uKGUpfSksbmEoMSksX28oKX1pZigyJnQpe2NvbnN0IHQ9T28oKTskcygxKSxzYSgiICIsdC5hY3Rpb25MYWJlbCwiICIpfX1mdW5jdGlvbiBOdih0LGUpe2lmKDEmdCYmKHdvKDAsImRpdiIsNiksd28oMSwic3BhbiIsNyksbmEoMiksX28oKSxfbygpKSwyJnQpe2NvbnN0IHQ9T28oKTskcygyKSxyYSh0LnRhZ09yaWVudGF0aW9uP3QubGFiZWwrIjoiOnQubGFiZWwpfX1mdW5jdGlvbiBIdih0LGUpe2lmKDEmdCYmRG8oMCwicG8taWNvbiIsOCksMiZ0KXtjb25zdCB0PU9vKCk7Ym8oInAtaWNvbiIsdC50eXBlP3QuaWNvbkZyb21UeXBlOnQuaWNvbil9fWZ1bmN0aW9uIFZ2KHQsZSl7aWYoMSZ0JiYod28oMCwiZGl2Iiw2KSxEbygxLCJwby10YWciLDcpLF9vKCkpLDImdCl7Y29uc3QgdD1PbygpLiRpbXBsaWNpdCxlPU9vKCk7JHMoMSksYm8oInAtY29sb3IiLGUudHlwZUNvbG9yKHQudHlwZSkpKCJwLXZhbHVlIixlLnR5cGVWYWx1ZSh0LnR5cGUpKX19ZnVuY3Rpb24genYodCxlKXtpZigxJnQmJih3bygwLCJwby1hY2NvcmRpb24taXRlbSIsNCksbW8oMSxWdiwyLDIsImRpdiIsNSksd28oMiwiZGl2IiwxKSx3bygzLCJwIiksbmEoNCksX28oKSxfbygpLF9vKCkpLDImdCl7Y29uc3QgdD1lLiRpbXBsaWNpdDtibygicC1sYWJlbCIsT28oKS5mb3JtYXREZXRhaWxJdGVtVGl0bGUodCkpLCRzKDEpLGJvKCJuZ0lmIix0LnR5cGUpLCRzKDMpLHJhKHQuZGV0YWlsZWRNZXNzYWdlKX19bGV0ICR2PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLnN1YmplY3RDaGlsZD1uZXcgRH1yZWNlaXZlRnJvbUNoaWxkQWNjb3JkaW9uQ2xpY2tlZCgpe3JldHVybiB0aGlzLnN1YmplY3RDaGlsZC5hc09ic2VydmFibGUoKX1zZW5kVG9QYXJlbnRBY2NvcmRpb25JdGVtQ2xpY2tlZCh0KXt0aGlzLnN1YmplY3RDaGlsZC5uZXh0KHQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxVdj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuYWNjb3JkaW9uU2VydmljZT10fWNvbGxhcHNlKCl7dGhpcy5leHBhbmRlZD0hMSx0aGlzLmFjY29yZGlvblNlcnZpY2Uuc2VuZFRvUGFyZW50QWNjb3JkaW9uSXRlbUNsaWNrZWQodGhpcyl9ZXhwYW5kKCl7dGhpcy5leHBhbmRlZD0hMCx0aGlzLmFjY29yZGlvblNlcnZpY2Uuc2VuZFRvUGFyZW50QWNjb3JkaW9uSXRlbUNsaWNrZWQodGhpcyl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKCR2KSl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWFjY29yZGlvbi1pdGVtIl1dLHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmVWMob2MsNyksMiZ0KXtsZXQgdDskYyh0PVdjKCkpJiYoZS50ZW1wbGF0ZVJlZj10LmZpcnN0KX19LGlucHV0czp7bGFiZWw6WyJwLWxhYmVsIiwibGFiZWwiXX0sbmdDb250ZW50U2VsZWN0b3JzOm15LGRlY2xzOjEsdmFyczowLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoUm8oKSxtbygwLGd5LDEsMCwibmctdGVtcGxhdGUiKSl9LGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLFd2PSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBjbGFzc3t9e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5hY2NvcmRpb25TZXJ2aWNlPXQsdGhpcy5yZWNlaXZlRnJvbUNoaWxkQWNjb3JkaW9uU3Vic2NyaXB0aW9uKCl9bmdPbkRlc3Ryb3koKXt0aGlzLmFjY29yZGlvblNlcnZpY2VTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX1oZWFkZXJUb2dnbGUodCxlKXtlLmV4cGFuZGVkPXQsdGhpcy50b2dnbGUoZSl9cmVjZWl2ZUZyb21DaGlsZEFjY29yZGlvblN1YnNjcmlwdGlvbigpe3RoaXMuYWNjb3JkaW9uU2VydmljZVN1YnNjcmlwdGlvbj10aGlzLmFjY29yZGlvblNlcnZpY2UucmVjZWl2ZUZyb21DaGlsZEFjY29yZGlvbkNsaWNrZWQoKS5zdWJzY3JpYmUodD0+dGhpcy50b2dnbGUodCkpfXRvZ2dsZSh0KXt0LmV4cGFuZGVkPyh0aGlzLmV4cGFuZGVkQWN0aXZlQWNjb3JkaW9uSXRlbSYmdGhpcy5leHBhbmRlZEFjdGl2ZUFjY29yZGlvbkl0ZW0uY29sbGFwc2UoKSx0aGlzLmV4cGFuZGVkQWN0aXZlQWNjb3JkaW9uSXRlbT10KTp0aGlzLmV4cGFuZGVkQWN0aXZlQWNjb3JkaW9uSXRlbT1udWxsfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh2bygkdikpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1hY2NvcmRpb24iXV0sY29udGVudFF1ZXJpZXM6ZnVuY3Rpb24odCxlLG4pe2lmKDEmdCYmZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz1PZSgpO2lmKHMuZmlyc3RDcmVhdGVQYXNzKXtjb25zdCBuPVJlKCk7cWMocyxuZXcgQmMoZSw0LHZvaWQgMCksbi5pbmRleCksZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuY29udGVudFF1ZXJpZXN8fCh0LmNvbnRlbnRRdWVyaWVzPVtdKTtlIT09KG4ubGVuZ3RoP25bbi5sZW5ndGgtMV06LTEpJiZuLnB1c2godC5xdWVyaWVzLmxlbmd0aC0xLGUpfShzLHQpfUdjKHMsSWUoKSw0KX0obixVdiksMiZ0KXtsZXQgdDskYyh0PVdjKCkpJiYoZS5wb0FjY29yZGlvbkl0ZW1zPXQpfX0sZmVhdHVyZXM6W19hKFskdl0pLHRvXSxkZWNsczoyLHZhcnM6MSxjb25zdHM6W1sxLCJwby1hY2NvcmRpb24iLCJwby1jb250YWluZXIiLCJwby1jb250YWluZXItbm8tcGFkZGluZyJdLFsiY2xhc3MiLCJwby1hY2NvcmRpb24taXRlbSIsMywicG8tYWNjb3JkaW9uLWl0ZW0tYWN0aXZlIiw0LCJuZ0ZvciIsIm5nRm9yT2YiXSxbMSwicG8tYWNjb3JkaW9uLWl0ZW0iXSxbMywicC1leHBhbmRlZCIsInAtbGFiZWwiLCJwLXRvZ2dsZSJdLFszLCJwLWV4cGFuZGVkIl0sWzQsIm5nVGVtcGxhdGVPdXRsZXQiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJih3bygwLCJkaXYiLDApLG1vKDEsdnksNCw2LCJzZWN0aW9uIiwxKSxfbygpKSwyJnQmJigkcygxKSxibygibmdGb3JPZiIsZS5wb0FjY29yZGlvbkl0ZW1zKSl9LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5baWgscXYsR3YsaGhdfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxHdj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5leHBhbmRlZD0hMX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWFjY29yZGlvbi1pdGVtLWJvZHkiXV0saW5wdXRzOntleHBhbmRlZDpbInAtZXhwYW5kZWQiLCJleHBhbmRlZCJdfSxuZ0NvbnRlbnRTZWxlY3RvcnM6bXksZGVjbHM6MSx2YXJzOjEsY29uc3RzOltbImNsYXNzIiwicG8tYWNjb3JkaW9uLWl0ZW0tYm9keSIsNCwibmdJZiJdLFsxLCJwby1hY2NvcmRpb24taXRlbS1ib2R5Il0sWzEsInBvLWFjY29yZGlvbi1pdGVtLWJvZHktY29udGVudCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKFJvKCksbW8oMCxieSwzLDEsImRpdiIsMCkpLDImdCYmYm8oIm5nSWYiLGUuZXhwYW5kZWQpfSxkaXJlY3RpdmVzOlthaF0sZW5jYXBzdWxhdGlvbjoyLGRhdGE6e2FuaW1hdGlvbjpbKCJ0b2dnbGVCb2R5IixlPVtIZCgiKiA9PiB2b2lkIixbTmQoe2hlaWdodDoiKiJ9KSxNZCgyMDAsTmQoe2hlaWdodDowfSkpXSksSGQoInZvaWQgPT4gKiIsW05kKHtoZWlnaHQ6IjAifSksTWQoMjAwLE5kKHtoZWlnaHQ6IioifSkpXSldLHt0eXBlOjcsbmFtZToidG9nZ2xlQm9keSIsZGVmaW5pdGlvbnM6ZSxvcHRpb25zOnt9fSldfX0pLHQ7dmFyIGV9KSgpLHF2PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmV4cGFuZGVkPSExLHRoaXMudG9nZ2xlPW5ldyBJY31vbkNsaWNrKCl7dGhpcy5leHBhbmRlZD0hdGhpcy5leHBhbmRlZCx0aGlzLnRvZ2dsZS5lbWl0KHRoaXMuZXhwYW5kZWQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tYWNjb3JkaW9uLWl0ZW0taGVhZGVyIl1dLGlucHV0czp7ZXhwYW5kZWQ6WyJwLWV4cGFuZGVkIiwiZXhwYW5kZWQiXSxsYWJlbDpbInAtbGFiZWwiLCJsYWJlbCJdfSxvdXRwdXRzOnt0b2dnbGU6InAtdG9nZ2xlIn0sZGVjbHM6Nix2YXJzOjEsY29uc3RzOltbMSwicG8tYWNjb3JkaW9uLWl0ZW0taGVhZGVyIl0sWzEsInBvLWFjY29yZGlvbi1pdGVtLWhlYWRlci1idXR0b24iLCJwby1jbGlja2FibGUiLDMsImNsaWNrIl0sWzEsInBvLXRleHQtZWxsaXBzaXMiLCJwby1hY2NvcmRpb24taXRlbS1oZWFkZXItdGl0bGUiXSxbMSwicG8taWNvbiIsInBvLWFjY29yZGlvbi1pdGVtLWhlYWRlci1pY29uIiwicG8taWNvbi1hcnJvdy1kb3duIl0sWyJpY29uIiwiIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYod28oMCwiaGVhZGVyIiwwKSx3bygxLCJidXR0b24iLDEpLGtvKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vbkNsaWNrKCl9KSx3bygyLCJkaXYiLDIpLG5hKDMpLF9vKCksRG8oNCwic3BhbiIsMyw0KSxfbygpLF9vKCkpLDImdCYmKCRzKDMpLHJhKGUubGFiZWwpKX0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksdH0pKCksWHY9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW1NoXV19KSx0fSkoKSxZdj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbU2hdXX0pLHR9KSgpO2NvbnN0IFp2PVt7ZGVzY3JpcHRpb246IkVuZ2xpc2giLGxhbmd1YWdlOiJlbiJ9LHtkZXNjcmlwdGlvbjoiRXNwYVx4ZjFvbCIsbGFuZ3VhZ2U6ImVzIn0se2Rlc2NyaXB0aW9uOiJQb3J0dWd1XHhlYXMiLGxhbmd1YWdlOiJwdCJ9LHtkZXNjcmlwdGlvbjoiUFx1MDQ0M1x1MDQ0MVx1MDQ0MVx1MDQzYVx1MDQzOFx1MDQzOSIsbGFuZ3VhZ2U6InJ1In1dLm1hcCh0PT50Lmxhbmd1YWdlKSxRdj0icHQiLEt2PVt7c2VwYXJhdG9yOiIuIixsYW5ndWFnZToiZW4ifSx7c2VwYXJhdG9yOiIsIixsYW5ndWFnZToiZXMifSx7c2VwYXJhdG9yOiIsIixsYW5ndWFnZToicHQifSx7c2VwYXJhdG9yOiIsIixsYW5ndWFnZToicnUifV0sSnY9W3tzZXBhcmF0b3I6IiwiLGxhbmd1YWdlOiJlbiJ9LHtzZXBhcmF0b3I6Ii4iLGxhbmd1YWdlOiJlcyJ9LHtzZXBhcmF0b3I6Ii4iLGxhbmd1YWdlOiJwdCJ9LHtzZXBhcmF0b3I6IiAiLGxhbmd1YWdlOiJydSJ9XTtmdW5jdGlvbiB0Yih0KXtyZXR1cm4odHx8UXYpLnRvTG93ZXJDYXNlKCkuc3Vic3RyaW5nKDAsMil9ZnVuY3Rpb24gZWIodCl7cmV0dXJuIG5ldyBSZWdFeHAoIl5bYS16XXsyfSgtW2Etel17Mn0pPyQiLCJpIikudGVzdCh0KX1mdW5jdGlvbiBuYih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/InRydWUiPT09KHQ9dC50b0xvd2VyQ2FzZSgpLnRyaW0oKSl8fCJvbiI9PT10fHwiIj09PXQ6Im51bWJlciI9PXR5cGVvZiB0PzE9PT10OiEhdH1mdW5jdGlvbiByYih0LGUpe3JldHVybiB0eXBlb2YgdD09PWV9ZnVuY3Rpb24gc2IoKXtjb25zdCB0PXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybi9tc2llXHN8dHJpZGVudC9pLnRlc3QodCl9ZnVuY3Rpb24gaWIodCxlKXtjb25zdCBuPSF0JiYwIT09dHx8aXNOYU4odCk/dm9pZCAwOnBhcnNlRmxvYXQodCk7dHJ5e3JldHVybiBwYXJzZUZsb2F0KG4udG9GaXhlZChlKSl9Y2F0Y2gocil7cmV0dXJuIG59fWNvbnN0IG9iPSJQT19ERUZBVUxUX0xBTkdVQUdFIixhYj0iUE9fVVNFUl9MT0NBTEUiO2xldCBjYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7fXNldCBsYW5ndWFnZURlZmF1bHQodCl7dCYmZWIodCkmJmxvY2FsU3RvcmFnZS5zZXRJdGVtKG9iLHQpfWdldCBsYW5ndWFnZURlZmF1bHQoKXtyZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0ob2IpfWdldExhbmd1YWdlKCl7Y29uc3QgdD1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShhYil8fHRoaXMubGFuZ3VhZ2VEZWZhdWx0fHxmdW5jdGlvbigpe2NvbnN0IHQ9bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlLGU9dGIodCk7cmV0dXJuIFp2LmluY2x1ZGVzKGUpP3Q6UXZ9KCk7cmV0dXJuIHQmJnQudG9Mb3dlckNhc2UoKX1nZXRMYW5ndWFnZURlZmF1bHQoKXtyZXR1cm4gdGhpcy5sYW5ndWFnZURlZmF1bHR9Z2V0U2hvcnRMYW5ndWFnZSgpe2NvbnN0IHQ9dGIodGhpcy5nZXRMYW5ndWFnZSgpKTtyZXR1cm4gWnYuaW5jbHVkZXModCk/dDpRdn1zZXRMYW5ndWFnZSh0KXtlYih0KSYmbG9jYWxTdG9yYWdlLnNldEl0ZW0oYWIsdC50b0xvd2VyQ2FzZSgpKX1zZXRMYW5ndWFnZURlZmF1bHQodCl7dGhpcy5sYW5ndWFnZURlZmF1bHQ9dH1nZXROdW1iZXJTZXBhcmF0b3JzKHQpe3ZhciBlLG4scixzO3Q9dHx8dGhpcy5nZXRTaG9ydExhbmd1YWdlKCk7Y29uc3QgaT1udWxsIT09KGU9S3YuZmluZChlPT5lLmxhbmd1YWdlPT09dCkpJiZ2b2lkIDAhPT1lP2U6e30sbz1udWxsIT09KG49SnYuZmluZChlPT5lLmxhbmd1YWdlPT09dCkpJiZ2b2lkIDAhPT1uP246e307cmV0dXJue2RlY2ltYWxTZXBhcmF0b3I6bnVsbCE9PShyPWkuc2VwYXJhdG9yKSYmdm9pZCAwIT09cj9yOiIsIix0aG91c2FuZFNlcGFyYXRvcjpudWxsIT09KHM9by5zZXBhcmF0b3IpJiZ2b2lkIDAhPT1zP3M6Ii4ifX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgdH0sdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpLGxiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tTaCxnbV1dfSksdH0pKCksdWI9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe31zZXQgaWNvbih0KXsic3RyaW5nIj09dHlwZW9mIHQ/dGhpcy5hZGRDbGFzc2VzKHQpOnQgaW5zdGFuY2VvZiBvYyYmKHRoaXMuX2ljb249dCl9Z2V0IGljb24oKXtyZXR1cm4gdGhpcy5faWNvbn1hZGRDbGFzc2VzKHQpe3RoaXMuY2xhc3M9dGhpcy5jbGFzcz10LnN0YXJ0c1dpdGgoInBvLWljb24tIik/YHBvLWljb24gJHt0fWA6YHBvLWZvbnRzLWljb24gJHt0fWB9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1pY29uIl1dLGlucHV0czp7aWNvbjpbInAtaWNvbiIsImljb24iXX0sZGVjbHM6Myx2YXJzOjMsY29uc3RzOltbNCwibmdJZiIsIm5nSWZUaGVuIiwibmdJZkVsc2UiXSxbImZvbnRUZW1wbGF0ZSIsIiJdLFsiYXJpYS1oaWRkZW4iLCJ0cnVlIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiYobW8oMCxDeSwxLDAsIm5nLWNvbnRhaW5lciIsMCksbW8oMSx3eSwxLDIsIm5nLXRlbXBsYXRlIixudWxsLDEsWWMpKSwyJnQpe2NvbnN0IHQ9eW8oMik7Ym8oIm5nSWYiLGUuY2xhc3MpKCJuZ0lmVGhlbiIsdCkoIm5nSWZFbHNlIixlLmljb24pfX0sZGlyZWN0aXZlczpbYWhdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpLGhiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tTaF1dfSksdH0pKCk7Y29uc3QgZGI9e2VuOntsb2FkaW5nOiJMb2FkaW5nIn0sZXM6e2xvYWRpbmc6IkNhcmdhbmRvIn0scHQ6e2xvYWRpbmc6IkNhcnJlZ2FuZG8ifSxydTp7bG9hZGluZzoiXHUwNDNmXHUwNDNlXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDM3XHUwNDNhXHUwNDMwIn19O2xldCBwYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMubGFuZ3VhZ2VTZXJ2aWNlPXQsdGhpcy5fc2NyZWVuTG9jaz0hMSx0aGlzLnRleHQ9dGhpcy5nZXRUZXh0RGVmYXVsdCgpfXNldCBzY3JlZW5Mb2NrKHQpe3RoaXMuX3NjcmVlbkxvY2s9bmIodCl9Z2V0IHNjcmVlbkxvY2soKXtyZXR1cm4gdGhpcy5fc2NyZWVuTG9ja31zZXQgdGV4dCh0KXt0aGlzLl90ZXh0PXR8fHRoaXMuZ2V0VGV4dERlZmF1bHQoKX1nZXQgdGV4dCgpe3JldHVybiB0aGlzLl90ZXh0fWdldFRleHREZWZhdWx0KCl7Y29uc3QgdD10aGlzLmxhbmd1YWdlU2VydmljZS5nZXRTaG9ydExhbmd1YWdlKCk7cmV0dXJuIGRiW3RdLmxvYWRpbmd9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKGNiKSl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsaW5wdXRzOnt0ZXh0OlsicC10ZXh0IiwidGV4dCJdLHNjcmVlbkxvY2s6WyJwLXNjcmVlbi1sb2NrIiwic2NyZWVuTG9jayJdfX0pLHR9KSgpLGZiPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBwYntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGUpLHRoaXMuY2hhbmdlRGV0ZWN0b3I9dH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodm8oZWMpLHZvKGNiKSl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWxvYWRpbmctb3ZlcmxheSJdXSxmZWF0dXJlczpbdG9dLGRlY2xzOjIsdmFyczo1LGNvbnN0czpbWzEsInBvLWxvYWRpbmctb3ZlcmxheS1jb250ZW50IiwzLCJwLXRleHQiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJih3bygwLCJkaXYiKSxEbygxLCJwby1sb2FkaW5nIiwwKSxfbygpKSwyJnQmJigkbygicG8tb3ZlcmxheS1hYnNvbHV0ZSIsIWUuc2NyZWVuTG9jaykoInBvLW92ZXJsYXktZml4ZWQiLGUuc2NyZWVuTG9jayksJHMoMSksYm8oInAtdGV4dCIsZS50ZXh0KSl9LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5beWJdfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxnYj0oKCk9PntjbGFzcyB0e3NldCBuZXV0cmFsQ29sb3IodCl7dGhpcy5fbmV1dHJhbENvbG9yPW5iKHQpfWdldCBuZXV0cmFsQ29sb3IoKXtyZXR1cm4gdGhpcy5fbmV1dHJhbENvbG9yfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tbG9hZGluZy1pY29uIl1dLGlucHV0czp7bmV1dHJhbENvbG9yOlsicC1uZXV0cmFsLWNvbG9yIiwibmV1dHJhbENvbG9yIl19LGRlY2xzOjksdmFyczoyLGNvbnN0czpbWzEsInBvLWxvYWRpbmctaWNvbiJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci0xIl0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTIiXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItMyJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci00Il0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTUiXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItNiJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci03Il0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTgiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJih3bygwLCJkaXYiLDApLERvKDEsInNwYW4iLDEpLERvKDIsInNwYW4iLDIpLERvKDMsInNwYW4iLDMpLERvKDQsInNwYW4iLDQpLERvKDUsInNwYW4iLDUpLERvKDYsInNwYW4iLDYpLERvKDcsInNwYW4iLDcpLERvKDgsInNwYW4iLDgpLF9vKCkpLDImdCYmJG8oInBvLWxvYWRpbmctaWNvbi1uZXV0cmFsLWNvbG9yIixlLm5ldXRyYWxDb2xvcil9LGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLG1iPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLnRleHQ9IkNhcnJlZ2FuZG8ifX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVkaXI9WHQoe3R5cGU6dCxpbnB1dHM6e3RleHQ6WyJwLXRleHQiLCJ0ZXh0Il19fSksdH0pKCkseWI9KCgpPT57Y2xhc3MgdCBleHRlbmRzIG1ie31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oKXtsZXQgZTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKGV8fChlPSRuKHQpKSkobnx8dCl9fSgpLHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWxvYWRpbmciXV0sZmVhdHVyZXM6W3RvXSxkZWNsczozLHZhcnM6MSxjb25zdHM6W1sxLCJwby1sb2FkaW5nIl0sWyJjbGFzcyIsInBvLWxvYWRpbmctbGFiZWwgcG8tdGV4dC1lbGxpcHNpcyIsNCwibmdJZiJdLFsxLCJwby1sb2FkaW5nLWxhYmVsIiwicG8tdGV4dC1lbGxpcHNpcyJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKHdvKDAsImRpdiIsMCksRG8oMSwicG8tbG9hZGluZy1pY29uIiksbW8oMixfeSwyLDEsInNwYW4iLDEpLF9vKCkpLDImdCYmKCRzKDIpLGJvKCJuZ0lmIixlLnRleHQpKX0sZGlyZWN0aXZlczpbZ2IsYWhdLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLHZiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbY2JdfSksdH0pKCksYmI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW1NoLHZiXV19KSx0fSkoKTtmdW5jdGlvbiBDYih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3QmJnQuc2V0JiZ0LnNldC5iaW5kKHRoaXMpKGUocikpLHRoaXNbbl09ZShyKX19ZnVuY3Rpb24gd2IodCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdCYmdC5nZXQ/dC5nZXQuYmluZCh0aGlzKSgpOnRoaXNbZV19fWZ1bmN0aW9uIF9iKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2NvbnN0e3RhcmdldDpyLHByb3BlcnR5OnMsb3JpZ2luYWxEZXNjcmlwdG9yOml9PXQsbz1mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1gJCRfXyR7ZX1gO3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmY29uc29sZS53YXJuKGBUaGUgcHJvcCAiJHtyfSIgaXMgYWxyZWFkeSBleGlzdCwgaXQgd2lsbCBiZSBvdmVycmlkZWQgYnkgSW5wdXRCb29sZWFuIGRlY29yYXRvci5gKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSxyfShyLHMpO3JldHVybntnZXQ6d2IoaSxvKSxzZXQ6Q2IoaSxuLG8pfX0oe3RhcmdldDp0LHByb3BlcnR5OmUsb3JpZ2luYWxEZXNjcmlwdG9yOm59LDAsbmIpfX1jb25zdCBEYj1bImRlZmF1bHQiLCJwcmltYXJ5IiwiZGFuZ2VyIiwibGluayJdO2xldCBFYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5hdXRvRm9jdXM9ITEsdGhpcy5jbGljaz1uZXcgSWMsdGhpcy5fZGlzYWJsZWQ9ITEsdGhpcy5fbG9hZGluZz0hMSx0aGlzLl9zbWFsbD0hMSx0aGlzLl90eXBlPSJkZWZhdWx0In1zZXQgbG9hZGluZyh0KXt0aGlzLl9sb2FkaW5nPW5iKHQpfWdldCBsb2FkaW5nKCl7cmV0dXJuIHRoaXMuX2xvYWRpbmd9c2V0IHNtYWxsKHQpe3RoaXMuX3NtYWxsPSIiPT09dHx8bmIodCl9Z2V0IHNtYWxsKCl7cmV0dXJuIHRoaXMuX3NtYWxsfXNldCB0eXBlKHQpe3RoaXMuX3R5cGU9RGIuaW5jbHVkZXModCk/dDoiZGVmYXVsdCJ9Z2V0IHR5cGUoKXtyZXR1cm4gdGhpcy5fdHlwZX1zZXQgZGlzYWJsZWQodCl7dGhpcy5fZGlzYWJsZWQ9IiI9PT10fHxuYih0KX1nZXQgZGlzYWJsZWQoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZWR9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWRpcj1YdCh7dHlwZTp0LGlucHV0czp7YXV0b0ZvY3VzOlsicC1hdXRvLWZvY3VzIiwiYXV0b0ZvY3VzIl0sbG9hZGluZzpbInAtbG9hZGluZyIsImxvYWRpbmciXSxzbWFsbDpbInAtc21hbGwiLCJzbWFsbCJdLHR5cGU6WyJwLXR5cGUiLCJ0eXBlIl0sZGlzYWJsZWQ6WyJwLWRpc2FibGVkIiwiZGlzYWJsZWQiXSxsYWJlbDpbInAtbGFiZWwiLCJsYWJlbCJdLGljb246WyJwLWljb24iLCJpY29uIl19LG91dHB1dHM6e2NsaWNrOiJwLWNsaWNrIn19KSxyeShbX2IoKV0sdC5wcm90b3R5cGUsImF1dG9Gb2N1cyIsdm9pZCAwKSx0fSkoKSxTYj0oKCk9PntjbGFzcyB0IGV4dGVuZHMgRWJ7bmdBZnRlclZpZXdJbml0KCl7dGhpcy5hdXRvRm9jdXMmJnRoaXMuZm9jdXMoKX1mb2N1cygpe3RoaXMuZGlzYWJsZWR8fHRoaXMuYnV0dG9uRWxlbWVudC5uYXRpdmVFbGVtZW50LmZvY3VzKCl9b25DbGljaygpe3RoaXMuY2xpY2suZW1pdChudWxsKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKCl7bGV0IGU7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybihlfHwoZT0kbih0KSkpKG58fHQpfX0oKSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1idXR0b24iXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZVYyhEeSw3KSwyJnQpe2xldCB0OyRjKHQ9V2MoKSkmJihlLmJ1dHRvbkVsZW1lbnQ9dC5maXJzdCl9fSxmZWF0dXJlczpbdG9dLGRlY2xzOjUsdmFyczoxNCxjb25zdHM6W1sidHlwZSIsImJ1dHRvbiIsMSwicG8tYnV0dG9uIiwicG8tdGV4dC1lbGxpcHNpcyIsMywiZGlzYWJsZWQiLCJjbGljayJdLFsiYnV0dG9uIiwiIl0sWyJjbGFzcyIsInBvLWJ1dHRvbi1sb2FkaW5nLWljb24iLDQsIm5nSWYiXSxbImNsYXNzIiwicG8tYnV0dG9uLWljb24iLDMsInAtaWNvbiIsNCwibmdJZiJdLFsiY2xhc3MiLCJwby1idXR0b24tbGFiZWwiLDQsIm5nSWYiXSxbMSwicG8tYnV0dG9uLWxvYWRpbmctaWNvbiJdLFsicC1uZXV0cmFsLWNvbG9yIiwiIl0sWzEsInBvLWJ1dHRvbi1pY29uIiwzLCJwLWljb24iXSxbMSwicG8tYnV0dG9uLWxhYmVsIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYod28oMCwiYnV0dG9uIiwwLDEpLGtvKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vbkNsaWNrKCl9KSxtbygyLEV5LDIsMCwiZGl2IiwyKSxtbygzLFN5LDEsMSwicG8taWNvbiIsMyksbW8oNCx4eSwyLDEsInNwYW4iLDQpLF9vKCkpLDImdCYmKCRvKCJwby1idXR0b24tZGFuZ2VyIiwiZGFuZ2VyIj09PWUudHlwZSkoInBvLWJ1dHRvbi1saW5rIiwibGluayI9PT1lLnR5cGUpKCJwby1idXR0b24tcHJpbWFyeSIsInByaW1hcnkiPT09ZS50eXBlKSgicG8tYnV0dG9uLXNtIixlLnNtYWxsKSgicG8tY2xpY2thYmxlIiwibGluayI9PT1lLnR5cGUpLGJvKCJkaXNhYmxlZCIsZS5kaXNhYmxlZHx8ZS5sb2FkaW5nKSwkcygyKSxibygibmdJZiIsZS5sb2FkaW5nKSwkcygxKSxibygibmdJZiIsZS5pY29uKSwkcygxKSxibygibmdJZiIsZS5sYWJlbCkpfSxkaXJlY3RpdmVzOlthaCxnYix1Yl0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksdH0pKCkseGI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW1NoLGJiLGhiXV19KSx0fSkoKTtjb25zdCBBYj1bInJpZ2h0IiwicmlnaHQtdG9wIiwicmlnaHQtYm90dG9tIiwidG9wIiwidG9wLWxlZnQiLCJ0b3AtcmlnaHQiLCJsZWZ0IiwibGVmdC10b3AiLCJsZWZ0LWJvdHRvbSIsImJvdHRvbSIsImJvdHRvbS1sZWZ0IiwiYm90dG9tLXJpZ2h0Il07bGV0IFRiPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmFwcGVuZEluQm9keT0hMSx0aGlzLl90b29sdGlwUG9zaXRpb249ImJvdHRvbSIsdGhpcy5fZGlzcGxheVRvb2x0aXA9ITEsdGhpcy5fdG9vbHRpcD0iIn1zZXQgdG9vbHRpcCh0KXt0aGlzLl90b29sdGlwPXQmJnQubGVuZ3RoPjE0MD90LnN1YnN0cmluZygwLDE0MCk6dH1nZXQgdG9vbHRpcCgpe3JldHVybiB0aGlzLl90b29sdGlwfXNldCB0b29sdGlwUG9zaXRpb24odCl7dGhpcy5fdG9vbHRpcFBvc2l0aW9uPUFiLmluY2x1ZGVzKHQpP3Q6ImJvdHRvbSJ9Z2V0IHRvb2x0aXBQb3NpdGlvbigpe3JldHVybiB0aGlzLl90b29sdGlwUG9zaXRpb259c2V0IGRpc3BsYXlUb29sdGlwKHQpe3RoaXMuX2Rpc3BsYXlUb29sdGlwPXQsdGhpcy5fZGlzcGxheVRvb2x0aXA/dGhpcy5hZGRUb29sdGlwQWN0aW9uKCk6dGhpcy5yZW1vdmVUb29sdGlwQWN0aW9uKCl9Z2V0IGRpc3BsYXlUb29sdGlwKCl7cmV0dXJuIHRoaXMuX2Rpc3BsYXlUb29sdGlwfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVkaXI9WHQoe3R5cGU6dCxpbnB1dHM6e2FwcGVuZEluQm9keTpbInAtYXBwZW5kLWluLWJvZHkiLCJhcHBlbmRJbkJvZHkiXSx0b29sdGlwOlsicC10b29sdGlwIiwidG9vbHRpcCJdLHRvb2x0aXBQb3NpdGlvbjpbInAtdG9vbHRpcC1wb3NpdGlvbiIsInRvb2x0aXBQb3NpdGlvbiJdLGRpc3BsYXlUb29sdGlwOlsicC1kaXNwbGF5LXRvb2x0aXAiLCJkaXNwbGF5VG9vbHRpcCJdfX0pLHJ5KFtfYigpXSx0LnByb3RvdHlwZSwiYXBwZW5kSW5Cb2R5Iix2b2lkIDApLHJ5KFtfYigpXSx0LnByb3RvdHlwZSwiZGlzcGxheVRvb2x0aXAiLG51bGwpLHR9KSgpO2NvbnN0IGtiPVsiYm90dG9tIiwiYm90dG9tLWxlZnQiLCJib3R0b20tcmlnaHQiLCJsZWZ0IiwibGVmdC10b3AiLCJsZWZ0LWJvdHRvbSIsInRvcCIsInRvcC1yaWdodCIsInRvcC1sZWZ0IiwicmlnaHQiLCJyaWdodC1ib3R0b20iLCJyaWdodC10b3AiXTtsZXQgRmI9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuZGlmZmVyZW5jZURpYWdvbmFsVG9XaWR0aEFycm93PTMsdGhpcy5pc1NldEVsZW1lbnRXaWR0aD0hMSx0aGlzLm9mZnNldEFycm93PTEyfWFkanVzdFBvc2l0aW9uKHQpe2NvbnN0IGU9dHx8ImJvdHRvbSI7dGhpcy5lbGVtZW50UG9zaXRpb24oZSksdGhpcy5jdXN0b21Qb3NpdGlvbnMmJnRoaXMuY3VzdG9tUG9zaXRpb25zLmxlbmd0aD90aGlzLmFkanVzdEN1c3RvbVBvc2l0aW9uKGUpOnRoaXMuYWRqdXN0RGVmYXVsdFBvc2l0aW9uKGUpfWdldEFycm93RGlyZWN0aW9uKCl7cmV0dXJuIHRoaXMuYXJyb3dEaXJlY3Rpb259c2V0RWxlbWVudHModCxlLG4scixzPSExLGk9ITEpe3RoaXMuZWxlbWVudD10IGluc3RhbmNlb2Yga2E/dC5uYXRpdmVFbGVtZW50OnQsdGhpcy50YXJnZXRFbGVtZW50PW4gaW5zdGFuY2VvZiBrYT9uLm5hdGl2ZUVsZW1lbnQ6bix0aGlzLmVsZW1lbnRPZmZzZXQ9ZSx0aGlzLmN1c3RvbVBvc2l0aW9ucz1yLHRoaXMuaXNTZXRFbGVtZW50V2lkdGg9cyx0aGlzLmlzQ29ybmVyQWxpZ25lZD1pfWFkanVzdEN1c3RvbVBvc2l0aW9uKHQpe2NvbnN0IGU9dGhpcy5jdXN0b21Qb3NpdGlvbnMubGVuZ3RoO2xldCBuPTA7Zm9yKDtuKys8ZTspdGhpcy5vdmVyZmxvd0FsbFNpZGVzKHQpJiYodD10aGlzLm5leHRQb3NpdGlvbih0LHRoaXMuY3VzdG9tUG9zaXRpb25zKSx0aGlzLmVsZW1lbnRQb3NpdGlvbih0KSl9YWRqdXN0RGVmYXVsdFBvc2l0aW9uKHQpe2NvbnN0IGU9dGhpcy5nZXRNYWluUG9zaXRpb25zKCksbj1lLmxlbmd0aDtsZXQgcj0wO2Zvcig7cisrPG47KXtjb25zdCBuPXRoaXMuZ2V0TWFpblBvc2l0aW9uKHQpO2lmKHRoaXMuZWxlbWVudFBvc2l0aW9uKHQpLCF0aGlzLm92ZXJmbG93TWFpbihuKSlyZXR1cm4gdGhpcy5vdmVyZmxvd0FsbFNpZGVzKHQpP3ZvaWQgdGhpcy52ZXJpZnlTdWJQb3NpdGlvbnModCk6dm9pZCAwO3Q9dGhpcy5uZXh0UG9zaXRpb24obixlKX19ZWxlbWVudFBvc2l0aW9uKHQpe3RoaXMuaXNDb3JuZXJBbGlnbmVkP3RoaXMuc2V0QWxpZ25lZEVsZW1lbnRQb3NpdGlvbih0KTp0aGlzLnNldEVsZW1lbnRQb3NpdGlvbih0KX1nZXRNYWluUG9zaXRpb24odCl7cmV0dXJuIHQuaW5kZXhPZigiLSIpPi0xP3Quc3Vic3RyaW5nKDAsdC5pbmRleE9mKCItIikpOnR9Z2V0TWFpblBvc2l0aW9ucygpe3JldHVybiB0aGlzLmN1c3RvbVBvc2l0aW9ucyYmdGhpcy5jdXN0b21Qb3NpdGlvbnMubGVuZ3RoP3RoaXMuZ2V0TWFpblBvc2l0aW9uc0J5Q3VzdG9tUG9zaXRpb25zKHRoaXMuY3VzdG9tUG9zaXRpb25zKTpbInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCJdfWdldE1haW5Qb3NpdGlvbnNCeUN1c3RvbVBvc2l0aW9ucyh0KXtjb25zdCBlPVtdLG49dC5sZW5ndGg7Zm9yKGxldCByPTA7cjxuO3IrKyl7Y29uc3Qgbj10aGlzLmdldE1haW5Qb3NpdGlvbih0W3JdKTtlLmluY2x1ZGVzKG4pfHxlLnB1c2gobil9cmV0dXJuIGV9Z2V0T3ZlcmZsb3dzKCl7Y29uc3QgdD10aGlzLmdldFNpemVzQW5kUG9zaXRpb25zKCk7cmV0dXJue3JpZ2h0OnQuZWxlbWVudC5yaWdodD50LndpbmRvdy5pbm5lcldpZHRoLHRvcDp0LmVsZW1lbnQudG9wPD0wLGxlZnQ6dC5lbGVtZW50LmxlZnQ8PTAsYm90dG9tOnQuZWxlbWVudC5ib3R0b20+dC53aW5kb3cuaW5uZXJIZWlnaHR9fWdldFNpemVzQW5kUG9zaXRpb25zKCl7cmV0dXJue3dpbmRvdzp7c2Nyb2xsWTp3aW5kb3cuc2Nyb2xsWSxzY3JvbGxYOndpbmRvdy5zY3JvbGxYLGlubmVyV2lkdGg6d2luZG93LmlubmVyV2lkdGgsaW5uZXJIZWlnaHQ6d2luZG93LmlubmVySGVpZ2h0fSxlbGVtZW50OnRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx0YXJnZXQ6dGhpcy50YXJnZXRFbGVtZW50P3RoaXMudGFyZ2V0RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTp7dG9wOjAsYm90dG9tOjAscmlnaHQ6MCxsZWZ0OjB9fX1uZXh0UG9zaXRpb24odCxlPVtdKXtjb25zdCBuPWUuaW5kZXhPZih0KSxyPW4rMTtyZXR1cm4gbj4tMSYmcjxlLmxlbmd0aD9lW3JdOmVbMF19b3ZlcmZsb3dBbGxTaWRlcyh0KXtjb25zdCBlPXRoaXMuZ2V0T3ZlcmZsb3dzKCk7c3dpdGNoKHQpe2Nhc2UidG9wIjpjYXNlInRvcC1yaWdodCI6cmV0dXJuIGUudG9wfHxlLnJpZ2h0fHxlLmxlZnQ7Y2FzZSJ0b3AtbGVmdCI6cmV0dXJuIGUudG9wfHxlLmxlZnR8fGUucmlnaHQ7Y2FzZSJyaWdodCI6cmV0dXJuIGUucmlnaHR8fGUudG9wfHxlLmJvdHRvbTtjYXNlInJpZ2h0LXRvcCI6cmV0dXJuIGUucmlnaHR8fGUudG9wO2Nhc2UicmlnaHQtYm90dG9tIjpyZXR1cm4gZS5yaWdodHx8ZS5ib3R0b207Y2FzZSJib3R0b20iOmNhc2UiYm90dG9tLXJpZ2h0IjpyZXR1cm4gZS5ib3R0b218fGUucmlnaHR8fGUubGVmdDtjYXNlImJvdHRvbS1sZWZ0IjpyZXR1cm4gZS5ib3R0b218fGUubGVmdHx8ZS5yaWdodDtjYXNlImxlZnQiOnJldHVybiBlLmxlZnR8fGUudG9wfHxlLmJvdHRvbTtjYXNlImxlZnQtdG9wIjpyZXR1cm4gZS5sZWZ0fHxlLnRvcDtjYXNlImxlZnQtYm90dG9tIjpyZXR1cm4gZS5sZWZ0fHxlLmJvdHRvbX19b3ZlcmZsb3dNYWluKHQpe2NvbnN0IGU9dGhpcy5nZXRPdmVyZmxvd3MoKTtzd2l0Y2godCl7Y2FzZSJ0b3AiOnJldHVybiBlLnRvcDtjYXNlInJpZ2h0IjpyZXR1cm4gZS5yaWdodDtjYXNlImJvdHRvbSI6cmV0dXJuIGUuYm90dG9tO2Nhc2UibGVmdCI6cmV0dXJuIGUubGVmdH19c2V0QWxpZ25lZEFycm93RGlyZWN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlInRvcC1sZWZ0IjpyZXR1cm4iYm90dG9tLWxlZnQiO2Nhc2UidG9wLXJpZ2h0IjpyZXR1cm4iYm90dG9tLXJpZ2h0IjtjYXNlImJvdHRvbS1yaWdodCI6cmV0dXJuInRvcC1yaWdodCI7Y2FzZSJib3R0b20tbGVmdCI6cmV0dXJuInRvcC1sZWZ0In19c2V0QWxpZ25lZEJvdHRvbVBvc2l0aW9ucyh0LGUpe3RoaXMuZWxlbWVudC5zdHlsZS50b3A9ZS50YXJnZXQuYm90dG9tK3RoaXMuZWxlbWVudE9mZnNldCsicHgiLHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PWUudGFyZ2V0LmxlZnQtdCsicHgifXNldEFsaWduZWRFbGVtZW50UG9zaXRpb24odCl7dGhpcy5zZXRFbGVtZW50V2lkdGgoKTtjb25zdCBlPXRoaXMuZ2V0U2l6ZXNBbmRQb3NpdGlvbnMoKTtzd2l0Y2godCl7Y2FzZSJib3R0b20tbGVmdCI6dGhpcy5zZXRBbGlnbmVkQm90dG9tUG9zaXRpb25zKDAsZSk7YnJlYWs7Y2FzZSJib3R0b20tcmlnaHQiOnRoaXMuc2V0QWxpZ25lZEJvdHRvbVBvc2l0aW9ucyhlLmVsZW1lbnQud2lkdGgtZS50YXJnZXQud2lkdGgsZSk7YnJlYWs7Y2FzZSJ0b3AtbGVmdCI6dGhpcy5zZXRBbGlnbmVkVG9wUG9zaXRpb25zKDAsZSk7YnJlYWs7Y2FzZSJ0b3AtcmlnaHQiOnRoaXMuc2V0QWxpZ25lZFRvcFBvc2l0aW9ucyhlLmVsZW1lbnQud2lkdGgtZS50YXJnZXQud2lkdGgsZSl9dGhpcy5hcnJvd0RpcmVjdGlvbj10aGlzLnNldEFsaWduZWRBcnJvd0RpcmVjdGlvbih0KX1zZXRBbGlnbmVkVG9wUG9zaXRpb25zKHQsZSl7dGhpcy5lbGVtZW50LnN0eWxlLnRvcD1lLnRhcmdldC50b3AtZS5lbGVtZW50LmhlaWdodC10aGlzLmVsZW1lbnRPZmZzZXQrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD1lLnRhcmdldC5sZWZ0LXQrInB4In1zZXRBcnJvd0RpcmVjdGlvbih0KXtzd2l0Y2godCl7Y2FzZSJ0b3AiOnJldHVybiJib3R0b20iO2Nhc2UidG9wLWxlZnQiOnJldHVybiJib3R0b20tcmlnaHQiO2Nhc2UidG9wLXJpZ2h0IjpyZXR1cm4iYm90dG9tLWxlZnQiO2Nhc2UicmlnaHQiOnJldHVybiJsZWZ0IjtjYXNlInJpZ2h0LXRvcCI6cmV0dXJuImxlZnQtYm90dG9tIjtjYXNlInJpZ2h0LWJvdHRvbSI6cmV0dXJuImxlZnQtdG9wIjtjYXNlImJvdHRvbSI6cmV0dXJuInRvcCI7Y2FzZSJib3R0b20tcmlnaHQiOnJldHVybiJ0b3AtbGVmdCI7Y2FzZSJib3R0b20tbGVmdCI6cmV0dXJuInRvcC1yaWdodCI7Y2FzZSJsZWZ0IjpyZXR1cm4icmlnaHQiO2Nhc2UibGVmdC1ib3R0b20iOnJldHVybiJyaWdodC10b3AiO2Nhc2UibGVmdC10b3AiOnJldHVybiJyaWdodC1ib3R0b20ifX1zZXRCb3R0b21Qb3NpdGlvbnModCxlKXt0aGlzLmVsZW1lbnQuc3R5bGUudG9wPWUudGFyZ2V0LmJvdHRvbSt0aGlzLmVsZW1lbnRPZmZzZXQrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD1lLnRhcmdldC5sZWZ0K2UudGFyZ2V0LndpZHRoLzItdCsicHgifXNldEVsZW1lbnRQb3NpdGlvbih0KXt0aGlzLnNldEVsZW1lbnRXaWR0aCgpO2NvbnN0IGU9dGhpcy5nZXRTaXplc0FuZFBvc2l0aW9ucygpO3N3aXRjaCh0KXtjYXNlInRvcCI6dGhpcy5zZXRUb3BQb3NpdGlvbnMoZS5lbGVtZW50LndpZHRoLzIsZSk7YnJlYWs7Y2FzZSJ0b3AtbGVmdCI6dGhpcy5zZXRUb3BQb3NpdGlvbnMoZS5lbGVtZW50LndpZHRoLXRoaXMub2Zmc2V0QXJyb3ctdGhpcy5kaWZmZXJlbmNlRGlhZ29uYWxUb1dpZHRoQXJyb3csZSk7YnJlYWs7Y2FzZSJ0b3AtcmlnaHQiOnRoaXMuc2V0VG9wUG9zaXRpb25zKHRoaXMub2Zmc2V0QXJyb3crdGhpcy5kaWZmZXJlbmNlRGlhZ29uYWxUb1dpZHRoQXJyb3csZSk7YnJlYWs7Y2FzZSJyaWdodCI6dGhpcy5zZXRSaWdodFBvc2l0aW9ucyhlLmVsZW1lbnQuaGVpZ2h0LzIsZSk7YnJlYWs7Y2FzZSJyaWdodC10b3AiOnRoaXMuc2V0UmlnaHRQb3NpdGlvbnMoZS5lbGVtZW50LmhlaWdodC10aGlzLm9mZnNldEFycm93LXRoaXMuZGlmZmVyZW5jZURpYWdvbmFsVG9XaWR0aEFycm93LGUpO2JyZWFrO2Nhc2UicmlnaHQtYm90dG9tIjp0aGlzLnNldFJpZ2h0UG9zaXRpb25zKHRoaXMub2Zmc2V0QXJyb3csZSk7YnJlYWs7Y2FzZSJib3R0b20iOnRoaXMuc2V0Qm90dG9tUG9zaXRpb25zKGUuZWxlbWVudC53aWR0aC8yLGUpO2JyZWFrO2Nhc2UiYm90dG9tLXJpZ2h0Ijp0aGlzLnNldEJvdHRvbVBvc2l0aW9ucyh0aGlzLm9mZnNldEFycm93K3RoaXMuZGlmZmVyZW5jZURpYWdvbmFsVG9XaWR0aEFycm93LGUpO2JyZWFrO2Nhc2UiYm90dG9tLWxlZnQiOnRoaXMuc2V0Qm90dG9tUG9zaXRpb25zKGUuZWxlbWVudC53aWR0aC10aGlzLm9mZnNldEFycm93LXRoaXMuZGlmZmVyZW5jZURpYWdvbmFsVG9XaWR0aEFycm93LGUpO2JyZWFrO2Nhc2UibGVmdCI6dGhpcy5zZXRMZWZ0UG9zaXRpb25zKGUuZWxlbWVudC5oZWlnaHQvMixlKTticmVhaztjYXNlImxlZnQtYm90dG9tIjp0aGlzLnNldExlZnRQb3NpdGlvbnModGhpcy5vZmZzZXRBcnJvdyxlKTticmVhaztjYXNlImxlZnQtdG9wIjp0aGlzLnNldExlZnRQb3NpdGlvbnMoZS5lbGVtZW50LmhlaWdodC10aGlzLm9mZnNldEFycm93LGUpfXRoaXMuYXJyb3dEaXJlY3Rpb249dGhpcy5zZXRBcnJvd0RpcmVjdGlvbih0KX1zZXRFbGVtZW50V2lkdGgoKXt0aGlzLmlzU2V0RWxlbWVudFdpZHRoJiZ0aGlzLnRhcmdldEVsZW1lbnQmJih0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGg9YCR7dGhpcy50YXJnZXRFbGVtZW50LmNsaWVudFdpZHRofXB4YCl9c2V0TGVmdFBvc2l0aW9ucyh0LGUpe3RoaXMuZWxlbWVudC5zdHlsZS50b3A9ZS50YXJnZXQudG9wLXQrZS50YXJnZXQuaGVpZ2h0LzIrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD1lLnRhcmdldC5sZWZ0LWUuZWxlbWVudC53aWR0aC10aGlzLmVsZW1lbnRPZmZzZXQrInB4In1zZXRSaWdodFBvc2l0aW9ucyh0LGUpe3RoaXMuZWxlbWVudC5zdHlsZS50b3A9ZS50YXJnZXQudG9wLXQrZS50YXJnZXQuaGVpZ2h0LzIrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD1lLnRhcmdldC5yaWdodCt0aGlzLmVsZW1lbnRPZmZzZXQrInB4In1zZXRUb3BQb3NpdGlvbnModCxlKXt0aGlzLmVsZW1lbnQuc3R5bGUudG9wPWUudGFyZ2V0LnRvcC1lLmVsZW1lbnQuaGVpZ2h0LXRoaXMuZWxlbWVudE9mZnNldCsicHgiLHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PWUudGFyZ2V0LmxlZnQrZS50YXJnZXQud2lkdGgvMi10KyJweCJ9dmVyaWZ5U3ViUG9zaXRpb25zKHQpe3QuaW5kZXhPZigiLSIpPi0xJiYodD10LnN1YnN0cmluZygwLHQuaW5kZXhPZigiLSIpKSx0aGlzLmVsZW1lbnRQb3NpdGlvbih0KSk7bGV0IGU9MDtmb3IoO2UrKzwzOyl7aWYoIXRoaXMub3ZlcmZsb3dBbGxTaWRlcyh0KSlyZXR1cm4gbnVsbDt0PXRoaXMubmV4dFBvc2l0aW9uKHQsa2IpLHRoaXMuZWxlbWVudFBvc2l0aW9uKHQpfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksSWI9KCgpPT57Y2xhc3MgdCBleHRlbmRzIEZie31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oKXtsZXQgZTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKGV8fChlPSRuKHQpKSkobnx8dCl9fSgpLHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksT2I9KCgpPT57Y2xhc3MgdCBleHRlbmRzIFRie2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcigpLHRoaXMuZWxlbWVudFJlZj10LHRoaXMucmVuZGVyZXI9ZSx0aGlzLnBvQ29udHJvbFBvc2l0aW9uPW4sdGhpcy50b29sdGlwT2Zmc2V0PTh9b25Nb3VzZUVudGVyKCl7dGhpcy5kaXNwbGF5VG9vbHRpcHx8dGhpcy5hZGRUb29sdGlwQWN0aW9uKCl9b25Nb3VzZUxlYXZlKCl7dGhpcy5kaXNwbGF5VG9vbHRpcHx8dGhpcy5yZW1vdmVUb29sdGlwQWN0aW9uKCl9bmdPbkluaXQoKXt0aGlzLmluaXRTY3JvbGxFdmVudExpc3RlbmVyRnVuY3Rpb24oKX1hZGRUb29sdGlwQWN0aW9uKCl7c2V0VGltZW91dCgoKT0+e3RoaXMudG9vbHRpcCYmKHRoaXMudG9vbHRpcENvbnRlbnQ/dGhpcy5zaG93VG9vbHRpcCgpOnRoaXMuY3JlYXRlVG9vbHRpcCgpLHRoaXMucmVtb3ZlQXJyb3codGhpcy5hcnJvd0RpcmVjdGlvbiksdGhpcy5wb0NvbnRyb2xQb3NpdGlvbi5hZGp1c3RQb3NpdGlvbih0aGlzLnRvb2x0aXBQb3NpdGlvbiksdGhpcy5hcnJvd0RpcmVjdGlvbj10aGlzLnBvQ29udHJvbFBvc2l0aW9uLmdldEFycm93RGlyZWN0aW9uKCksdGhpcy5hZGRBcnJvdyh0aGlzLmFycm93RGlyZWN0aW9uKSx0aGlzLmxhc3RUb29sdGlwVGV4dD10aGlzLnRvb2x0aXApfSl9cmVtb3ZlVG9vbHRpcEFjdGlvbigpe3NldFRpbWVvdXQoKCk9Pnt0aGlzLmFwcGVuZEluQm9keSYmdGhpcy50b29sdGlwQ29udGVudD8odGhpcy5yZW5kZXJlci5yZW1vdmVDaGlsZChkb2N1bWVudC5ib2R5LHRoaXMudG9vbHRpcENvbnRlbnQpLHRoaXMudG9vbHRpcENvbnRlbnQ9dm9pZCAwKTp0aGlzLmhpZGVUb29sdGlwKCl9KX1hZGRBcnJvdyh0KXt0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZGl2QXJyb3csYHBvLWFycm93LSR7dH1gKX1hZGRTY3JvbGxFdmVudExpc3RlbmVyKCl7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsdGhpcy5ldmVudExpc3RlbmVyRnVuY3Rpb24sITApfWNyZWF0ZVRvb2x0aXAoKXt0aGlzLnRvb2x0aXBDb250ZW50PXRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLnRvb2x0aXBDb250ZW50LCJwby10b29sdGlwIiksdGhpcy5kaXZBcnJvdz10aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5kaXZBcnJvdywicG8tdG9vbHRpcC1hcnJvdyIpLHRoaXMuZGl2Q29udGVudD10aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5kaXZDb250ZW50LCJwby10b29sdGlwLWNvbnRlbnQiKSx0aGlzLnRleHRDb250ZW50PXRoaXMucmVuZGVyZXIuY3JlYXRlVGV4dCh0aGlzLnRvb2x0aXApLHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy5kaXZDb250ZW50LHRoaXMudGV4dENvbnRlbnQpLHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwQ29udGVudCx0aGlzLmRpdkFycm93KSx0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMudG9vbHRpcENvbnRlbnQsdGhpcy5kaXZDb250ZW50KTtjb25zdCB0PXRoaXMuYXBwZW5kSW5Cb2R5P2RvY3VtZW50LmJvZHk6dGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7dGhpcy5yZW5kZXJlci5hcHBlbmRDaGlsZCh0LHRoaXMudG9vbHRpcENvbnRlbnQpLHRoaXMucG9Db250cm9sUG9zaXRpb24uc2V0RWxlbWVudHModGhpcy50b29sdGlwQ29udGVudCx0aGlzLnRvb2x0aXBPZmZzZXQsdGhpcy5lbGVtZW50UmVmKSx0aGlzLmFkZFNjcm9sbEV2ZW50TGlzdGVuZXIoKX1pbml0U2Nyb2xsRXZlbnRMaXN0ZW5lckZ1bmN0aW9uKCl7dGhpcy5ldmVudExpc3RlbmVyRnVuY3Rpb249KCk9Pnt0aGlzLmlzSGlkZGVufHxzZXRUaW1lb3V0KCgpPT57dGhpcy5wb0NvbnRyb2xQb3NpdGlvbi5hZGp1c3RQb3NpdGlvbih0aGlzLnRvb2x0aXBQb3NpdGlvbil9KX19aGlkZVRvb2x0aXAoKXt0aGlzLnRvb2x0aXBDb250ZW50JiYodGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLnRvb2x0aXBDb250ZW50LCJwby1pbnZpc2libGUiKSx0aGlzLmlzSGlkZGVuPSEwLHRoaXMucmVtb3ZlU2Nyb2xsRXZlbnRMaXN0ZW5lcigpKX1yZW1vdmVBcnJvdyh0KXt0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAucG8tYXJyb3ctJHt0fWApJiZ0aGlzLnJlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMuZGl2QXJyb3csYHBvLWFycm93LSR7dH1gKX1yZW1vdmVTY3JvbGxFdmVudExpc3RlbmVyKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsdGhpcy5ldmVudExpc3RlbmVyRnVuY3Rpb24sITApfXNob3dUb29sdGlwKCl7dGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLnRvb2x0aXBDb250ZW50LCJwby1pbnZpc2libGUiKSx0aGlzLnVwZGF0ZVRleHRDb250ZW50KCksdGhpcy5pc0hpZGRlbj0hMSx0aGlzLmFkZFNjcm9sbEV2ZW50TGlzdGVuZXIoKX11cGRhdGVUZXh0Q29udGVudCgpe3RoaXMubGFzdFRvb2x0aXBUZXh0IT09dGhpcy50b29sdGlwJiYodGhpcy5yZW5kZXJlci5yZW1vdmVDaGlsZCh0aGlzLmRpdkNvbnRlbnQsdGhpcy50ZXh0Q29udGVudCksdGhpcy50ZXh0Q29udGVudD10aGlzLnJlbmRlcmVyLmNyZWF0ZVRleHQodGhpcy50b29sdGlwKSx0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMuZGl2Q29udGVudCx0aGlzLnRleHRDb250ZW50KSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKGthKSx2byhPYSksdm8oSWIpKX0sdC5cdTAyNzVkaXI9WHQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwicC10b29sdGlwIiwiIl1dLGhvc3RCaW5kaW5nczpmdW5jdGlvbih0LGUpezEmdCYma28oIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25Nb3VzZUVudGVyKCl9KSgibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vbk1vdXNlTGVhdmUoKX0pfSxmZWF0dXJlczpbX2EoW0liXSksdG9dfSksdH0pKCksUGI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW1NoXV19KSx0fSkoKSxSYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbU2gseGIsUGJdXX0pLHR9KSgpLExiPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmRhdGVSZWdleD1uZXcgUmVnRXhwKCJeKD86WzAtOV0pXFxkezF9KD86WzAtOV0pXFxkezF9LSg/OjBbMS05XXwxWzAtMl0pLSg/OjBbMS05XXxbMTJdXFxkfDNbMDFdKSQiKSx0aGlzLmlzb1JlZ2V4PW5ldyBSZWdFeHAoIl4oPzpbMC05XSlcXGR7MX0oPzpbMC05XSlcXGR7MX0tKD86MFsxLTldfDFbMC0yXSktKD86MFsxLTldfFsxMl1cXGR8M1swMV0pVCg/OlswMV1cXGR8MlswLTNdKTpbMC01XVxcZDpbMC01XVxcZCg/Olp8LTBbMS05XXwtMVxcZHwtMlswLTNdfC0wMDo/KD86MFsxLTldfFswLTVdXFxkKXxcXCtbMDFdXFxkfFxcKzJbMC0zXSkoPzp8Oj9bMC01XVxcZCkkIil9Y29udmVydElzb1RvRGF0ZSh0LGUsbil7aWYodCl7Y29uc3R7eWVhcjpyLG1vbnRoOnMsZGF5Oml9PXRoaXMuZ2V0RGF0ZUZyb21Jc28odCk7aWYoZSl7Y29uc3QgdD1uZXcgRGF0ZShyLHMtMSxpLDAsMCwwKTtyZXR1cm4gdGhpcy5zZXRZZWFyRnJvbTBUbzEwMCh0LHIpLHR9aWYobil7Y29uc3QgdD1uZXcgRGF0ZShyLHMtMSxpLDIzLDU5LDU5KTtyZXR1cm4gdGhpcy5zZXRZZWFyRnJvbTBUbzEwMCh0LHIpLHR9e2NvbnN0IGU9RGF0ZS5wYXJzZSh0KSxuPTZlNCoobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCk7cmV0dXJuIG5ldyBEYXRlKGUrbil9fX1jb252ZXJ0RGF0ZVRvSVNPKHQpe2lmKHQpe2NvbnN0IGU9dC5nZXRGdWxsWWVhcigpLG49dC5nZXRNb250aCgpKzEscj10LmdldERhdGUoKTwxMD8iMCIrdC5nZXREYXRlKCk6dC5nZXREYXRlKCkscz1uPDEwPyIwIituOm47cmV0dXJuIHRoaXMuZm9ybWF0WWVhcihlKSsiLSIrcysiLSIrcn1yZXR1cm4gbnVsbH1mb3JtYXRZZWFyKHQpe3JldHVybiB0Pjk5OT90LnRvU3RyaW5nKCk6dD45OSYmdDwxZTM/YDAke3R9YDp0PjkmJnQ8MTAwP2AwMCR7dH1gOnQ+PTAmJnQ8MTA/YDAwMCR7dH1gOnZvaWQgMH1nZXREYXRlRnJvbUlzbyh0KXtjb25zdCBlPXBhcnNlSW50KHQuc3Vic3RyaW5nKDgsMTApLDEwKSxuPXBhcnNlSW50KHQuc3Vic3RyaW5nKDUsNyksMTApO3JldHVybnt5ZWFyOnBhcnNlSW50KHQuc3Vic3RyaW5nKDAsNCksMTApLG1vbnRoOm4sZGF5OmV9fWdldERhdGVGb3JEYXRlUmFuZ2UodCxlKXtjb25zdCBuPWU/WzAsMCwwXTpbMjMsNTksNTldO2lmKHQgaW5zdGFuY2VvZiBEYXRlKXtjb25zdHt5ZWFyOmUsbW9udGg6cixkYXk6c309dGhpcy5zcGxpdERhdGUodCksaT1uZXcgRGF0ZShlLHIscywuLi5uKTtyZXR1cm4gdGhpcy5zZXRZZWFyRnJvbTBUbzEwMChpLGUpLGl9aWYodGhpcy5pc1ZhbGlkSXNvKHQpKXJldHVybiB0aGlzLmNvbnZlcnRJc29Ub0RhdGUodCxlLCFlKX1pc0RhdGVSYW5nZVZhbGlkKHQ9IiIsZT0iIil7Y29uc3Qgbj10LnNwbGl0KCItIikubWFwKHQ9PnBhcnNlSW50KHQsMTApKSxyPWUuc3BsaXQoIi0iKS5tYXAodD0+cGFyc2VJbnQodCwxMCkpO2ZvcihsZXQgcz0wO3M8PW4ubGVuZ3RoO3MrKyl7aWYobltzXT5yW3NdKXJldHVybiEwO2lmKG5bc108cltzXSlyZXR1cm4hMX1yZXR1cm4hMH1pc1ZhbGlkSXNvKHQpe3JldHVybiB0aGlzLmRhdGVSZWdleC50ZXN0KHQpfHx0aGlzLmlzb1JlZ2V4LnRlc3QodCl9c2V0WWVhckZyb20wVG8xMDAodCxlKXtlPj0wJiZlPDEwMCYmdC5zZXRGdWxsWWVhcihlKX1zcGxpdERhdGUodCl7cmV0dXJue3llYXI6dC5nZXRGdWxsWWVhcigpLG1vbnRoOnQuZ2V0TW9udGgoKSxkYXk6dC5nZXREYXRlKCl9fXZhbGlkYXRlRGF0ZVJhbmdlKHQsZSxuKXtyZXR1cm4gZSYmbj90Pj1lJiZ0PD1uOmUmJiFuP3Q+PWU6ISghZSYmbil8fHQ8PW59dmFsaWRhdGVEYXRlKHQpe2NvbnN0IGU9dCBpbnN0YW5jZW9mIERhdGU/dGhpcy5jb252ZXJ0RGF0ZVRvSVNPKHQpOnQ7cmV0dXJuIHRoaXMuaXNWYWxpZElzbyhlKT9lOnZvaWQgMH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgdH0sdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpLEJiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbTGJdfSksdH0pKCksamI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW1NoXV19KSx0fSkoKTt2YXIgTWI9ZnVuY3Rpb24odCl7cmV0dXJuIHQuQXJlYT0iYXJlYSIsdC5Eb251dD0iZG9udXQiLHQuR2F1Z2U9ImdhdWdlIix0LlBpZT0icGllIix0LkxpbmU9ImxpbmUiLHQuQ29sdW1uPSJjb2x1bW4iLHQuQmFyPSJiYXIiLHR9KHt9KTtjb25zdCBOYj0tTWF0aC5QSS8yLEhiPTFlLTQsVmI9MipNYXRoLlBJL01hdGguZmxvb3IoMjUpO2xldCB6Yj0oKCk9PntjbGFzcyB0e2NhbGN1bGF0ZU1pbkFuZE1heFZhbHVlcyh0LGU9ITApe2NvbnN0IG49dGhpcy5nZXREb21haW4odCwibWluIikscj10aGlzLmdldERvbWFpbih0LCJtYXgiKTtyZXR1cm57bWluVmFsdWU6IWUmJm48MD8wOm4sbWF4VmFsdWU6ZSYmcjwwPzA6cn19Z2V0TG9uZ2VzdERhdGFWYWx1ZSh0PVtdLGUsbil7cmV0dXJuIGU9PT1NYi5CYXI/dGhpcy5nZXRMb25nZXN0RGF0YSh0KTp0aGlzLmdldEF4aXNYTGFiZWxMb25nZXN0VmFsdWUodCx0aGlzLmFtb3VudE9mR3JpZExpbmVzKG51bGw9PW4/dm9pZCAwOm4uYXhpcykpfXNlcmllc0dyZWF0ZXJMZW5ndGgodCl7cmV0dXJuIHQucmVkdWNlKCh0LGUpPT50PmUuZGF0YS5sZW5ndGg/dDplLmRhdGEubGVuZ3RoLDApfWdldFNlcmllUGVyY2VudGFnZSh0LGUpe2NvbnN0e21pblZhbHVlOm4sbWF4VmFsdWU6cn09dCxzPShlLW4pLyhyLW4pO3JldHVybiBpc05hTihzKT8wOnN9cmFuZ2UodCxlPTUpe2NvbnN0e21pblZhbHVlOm4sbWF4VmFsdWU6cn09dCxzPVtdLGk9dGhpcy5nZXRHcmlkTGluZUFyZWEodCxlKTtmb3IobGV0IG89bjtvPD1yO289KDEwKm8rMTAqaSkvMTApcy5wdXNoKG8pO3JldHVybiBzfXZlcmlmeUlmRmxvYXRPckludGVnZXIodCl7Y29uc3QgZT0iYm9vbGVhbiIhPXR5cGVvZiB0LG49dCE9PTEvMCxyPU51bWJlcih0KT09PXQmJnQlMT09MCYmbixzPU51bWJlcih0KT09PXQmJnQlMSE9MCYmbjtyZXR1cm4gZSYmcnx8ZSYmc31hbW91bnRPZkdyaWRMaW5lcyh0KXt2YXIgZTtjb25zdCBuPW51bGwhPT0oZT1udWxsPT10P3ZvaWQgMDp0LmdyaWRMaW5lcykmJnZvaWQgMCE9PWU/ZTo1O3JldHVybiBuJiZuPj0yJiZuPD0xMD9uOjV9Z2V0QXhpc1hMYWJlbExvbmdlc3RWYWx1ZSh0LGUpe2NvbnN0IG49dC5ldmVyeSh0PT50LnR5cGU9PT1NYi5MaW5lKSxyPXRoaXMuY2FsY3VsYXRlTWluQW5kTWF4VmFsdWVzKHQsbikscz10aGlzLnJhbmdlKHIsZSk7cmV0dXJuIHRoaXMuZ2V0TG9uZ2VzdERhdGEocyl9Z2V0R3JpZExpbmVBcmVhKHQsZSl7Y29uc3Qgbj10aGlzLmdldEZyYWN0aW9uRnJvbUludChlLTEpLHttaW5WYWx1ZTpyLG1heFZhbHVlOnN9PXQsaT1uKihzLXIpLzEwMDtyZXR1cm4gMD09PWk/MTppfWdldERvbWFpbih0LGUpe2NvbnN0IG49TWF0aFtlXSguLi50Lm1hcCh0PT57aWYoQXJyYXkuaXNBcnJheSh0LmRhdGEpKXJldHVybiBNYXRoW2VdKC4uLnQuZGF0YSl9KSk7cmV0dXJuIGlzTmFOKG4pPzA6bn1nZXRGcmFjdGlvbkZyb21JbnQodCl7cmV0dXJuIDEvdCoxMDB9Z2V0TG9uZ2VzdERhdGEodCl7cmV0dXJuWy4uLnRdLnNvcnQoKHQsZSk9PmUudG9TdHJpbmcoKS5sZW5ndGgtdC50b1N0cmluZygpLmxlbmd0aClbMF19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHR9LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKSwkYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLm1hdGhzU2VydmljZT10LHRoaXMucmVuZGVyZXI9ZSx0aGlzLmVsZW1lbnRSZWY9bix0aGlzLmFsaWduQnlUaGVDb3JuZXJzPSExLHRoaXMucG9pbnRDbGljaz1uZXcgSWMsdGhpcy5wb2ludEhvdmVyPW5ldyBJYyx0aGlzLmFuaW1hdGU9ITAsdGhpcy5zZXJpZXNQb2ludHNDb29yZGluYXRlcz1bXSx0aGlzLl9jb250YWluZXJTaXplPXt9LHRoaXMuX3JhbmdlPXt9LHRoaXMuX3Nlcmllcz1bXX1zZXQgcmFuZ2UodCl7dCBpbnN0YW5jZW9mIE9iamVjdCYmISh0IGluc3RhbmNlb2YgQXJyYXkpJiYodGhpcy5fcmFuZ2U9dCx0aGlzLnNlcmllUGF0aFBvaW50c0RlZmluaXRpb24odGhpcy5jb250YWluZXJTaXplLHRoaXMuX3Nlcmllcyx0aGlzLl9yYW5nZSkpfWdldCByYW5nZSgpe3JldHVybiB0aGlzLl9yYW5nZX1zZXQgY29udGFpbmVyU2l6ZSh0KXt0aGlzLl9jb250YWluZXJTaXplPXQsdGhpcy5zZXJpZVBhdGhQb2ludHNEZWZpbml0aW9uKHRoaXMuX2NvbnRhaW5lclNpemUsdGhpcy5zZXJpZXMsdGhpcy5yYW5nZSl9Z2V0IGNvbnRhaW5lclNpemUoKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyU2l6ZX1zZXQgc2VyaWVzKHQpe2NvbnN0IGU9dC5maWx0ZXIodD0+QXJyYXkuaXNBcnJheSh0LmRhdGEpKTtlLmxlbmd0aD8odGhpcy5fc2VyaWVzPWUsdGhpcy5hbmltYXRlPSEwLHRoaXMuc2VyaWVzTGVuZ3RoPXRoaXMubWF0aHNTZXJ2aWNlLnNlcmllc0dyZWF0ZXJMZW5ndGgodGhpcy5zZXJpZXMpLHRoaXMuY2hhcnRUeXBlPXRoaXMuX3Nlcmllc1swXS50eXBlLHRoaXMuc2VyaWVQYXRoUG9pbnRzRGVmaW5pdGlvbih0aGlzLmNvbnRhaW5lclNpemUsZSx0aGlzLnJhbmdlKSk6dGhpcy5fc2VyaWVzPVtdfWdldCBzZXJpZXMoKXtyZXR1cm4gdGhpcy5fc2VyaWVzfW9uU2VyaWVQb2ludENsaWNrKHQpe3RoaXMucG9pbnRDbGljay5lbWl0KHQpfXRyYWNrQnkodCl7cmV0dXJuIHR9Z2V0VG9vbHRpcExhYmVsKHQsZSxuKXtjb25zdCByPWU/YCR7ZX06IGA6IiIscz10LnRvU3RyaW5nKCk7cmV0dXJuIG58fGAke3J9JHtzfWB9c3ZnUGF0aENvbW1hbmQoKXtjb25zdCB0PXRoaXMuZmlyc3RWYWxpZEl0ZW1Gcm9tU2VyaWVBcnJheT8iTSI6IkwiO3JldHVybiB0aGlzLmZpcnN0VmFsaWRJdGVtRnJvbVNlcmllQXJyYXk9ITEsdH14Q29vcmRpbmF0ZSh0LGUpe2NvbnN0IG49dGhpcy5hbGlnbkJ5VGhlQ29ybmVycz8wOihlLnN2Z1dpZHRoLWUuYXhpc1hMYWJlbFdpZHRoKS90aGlzLnNlcmllc0xlbmd0aC8yLHI9dC8odGhpcy5hbGlnbkJ5VGhlQ29ybmVycz90aGlzLnNlcmllc0xlbmd0aC0xOnRoaXMuc2VyaWVzTGVuZ3RoKSxzPWlzTmFOKHIpPzA6cjtyZXR1cm4gTWF0aC5mbG9vcihlLmF4aXNYTGFiZWxXaWR0aCtuKyhlLnN2Z1dpZHRoLWUuYXhpc1hMYWJlbFdpZHRoKSpzKX1zZXJpZUNhdGVnb3J5KHQsZT1bXSl7dmFyIG47cmV0dXJuIG51bGwhPT0obj1lW3RdKSYmdm9pZCAwIT09bj9uOnZvaWQgMH1zZXJpZVBhdGhQb2ludHNEZWZpbml0aW9uKHQsZSxuKXt0aGlzLnNlcmllc1BvaW50c0Nvb3JkaW5hdGVzPVtdLHRoaXMuc2VyaWVzUGF0aHNDb29yZGluYXRlcz1lLm1hcChlPT57aWYoQXJyYXkuaXNBcnJheShlLmRhdGEpKXtsZXQgcj0iIixzPVtdO2NvbnN0IGk9ZS5jb2xvcjtyZXR1cm4gdGhpcy5maXJzdFZhbGlkSXRlbUZyb21TZXJpZUFycmF5PSEwLGUuZGF0YS5mb3JFYWNoKChvLGEpPT57aWYodGhpcy5tYXRoc1NlcnZpY2UudmVyaWZ5SWZGbG9hdE9ySW50ZWdlcihvKSl7Y29uc3QgYz10aGlzLnN2Z1BhdGhDb21tYW5kKCksbD10aGlzLnhDb29yZGluYXRlKGEsdCksdT10aGlzLnlDb29yZGluYXRlKG4sbyx0KSxoPXRoaXMuc2VyaWVDYXRlZ29yeShhLHRoaXMuY2F0ZWdvcmllcyksZD1lLmxhYmVsLHA9dGhpcy5nZXRUb29sdGlwTGFiZWwobyxkLGUudG9vbHRpcCksZj10aGlzLmNoYXJ0VHlwZT09PU1iLkxpbmU7cz1bLi4ucyx7Y2F0ZWdvcnk6aCxsYWJlbDpkLHRvb2x0aXBMYWJlbDpwLGRhdGE6byx4Q29vcmRpbmF0ZTpsLHlDb29yZGluYXRlOnUsY29sb3I6aSxpc0FjdGl2ZTpmfV0scis9YCAke2N9JHtsfSAke3V9YH19KSxyPXRoaXMudmVyaWZ5SWZDbG9zZVBhdGgocixlLmRhdGEubGVuZ3RoLTEsbiwwLHQpLHRoaXMuc2VyaWVzUG9pbnRzQ29vcmRpbmF0ZXM9Wy4uLnRoaXMuc2VyaWVzUG9pbnRzQ29vcmRpbmF0ZXMsc10se2Nvb3JkaW5hdGVzOnIsY29sb3I6aSxpc0FjdGl2ZTohMH19fSl9dmVyaWZ5SWZDbG9zZVBhdGgodCxlLG4scixzKXtjb25zdHtheGlzWExhYmVsV2lkdGg6aSxzdmdXaWR0aDpvfT1zO2lmKHRoaXMuY2hhcnRUeXBlPT09TWIuQXJlYSl7Y29uc3QgYT10aGlzLnhDb29yZGluYXRlKGUscyksYz10aGlzLnlDb29yZGluYXRlKG4scixzKTtyZXR1cm5gJHt0fSAke2F9ICR7Y30gTCR7TWF0aC5mbG9vcih0aGlzLmFsaWduQnlUaGVDb3JuZXJzP2k6aSsoby1pKS90aGlzLnNlcmllc0xlbmd0aC8yKX0gJHtjfSBaYH1yZXR1cm4gdH15Q29vcmRpbmF0ZSh0LGUsbil7Y29uc3Qgcj10aGlzLm1hdGhzU2VydmljZS5nZXRTZXJpZVBlcmNlbnRhZ2UodCxlKTtyZXR1cm4gTWF0aC5mbG9vcihuLnN2Z1Bsb3R0aW5nQXJlYUhlaWdodC1uLnN2Z1Bsb3R0aW5nQXJlYUhlaWdodCpyKzgpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh2byh6Yiksdm8oT2EpLHZvKGthKSl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZVYyhBeSw1KSwyJnQpe2xldCB0OyRjKHQ9V2MoKSkmJihlLmNoYXJ0TGluZT10LmZpcnN0KX19LGlucHV0czp7YWxpZ25CeVRoZUNvcm5lcnM6WyJwLWFsaWduLWJ5LXRoZS1jb3JuZXJzIiwiYWxpZ25CeVRoZUNvcm5lcnMiXSxyYW5nZTpbInAtcmFuZ2UiLCJyYW5nZSJdLGNvbnRhaW5lclNpemU6WyJwLWNvbnRhaW5lci1zaXplIiwiY29udGFpbmVyU2l6ZSJdLHNlcmllczpbInAtc2VyaWVzIiwic2VyaWVzIl0sY2F0ZWdvcmllczpbInAtY2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiXSxjYXRlZ29yaWVzQ29vcmRpbmF0ZXM6WyJwLWNhdGVnb3JpZXMtY29vcmRpbmF0ZXMiLCJjYXRlZ29yaWVzQ29vcmRpbmF0ZXMiXSxzdmdTcGFjZTpbInAtc3ZnLXNwYWNlIiwic3ZnU3BhY2UiXX0sb3V0cHV0czp7cG9pbnRDbGljazoicC1wb2ludC1jbGljayIscG9pbnRIb3ZlcjoicC1wb2ludC1ob3ZlciJ9fSksdH0pKCksVWI9KCgpPT57Y2xhc3MgdCBleHRlbmRzICRie2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0LGUsbiksdGhpcy5tYXRoc1NlcnZpY2U9dCx0aGlzLnJlbmRlcmVyPWUsdGhpcy5lbGVtZW50UmVmPW59b25FbnRlcih0KXt0aGlzLmFwcGx5QWN0aXZlSXRlbSh0aGlzLnNlcmllc1BhdGhzQ29vcmRpbmF0ZXMsdCksdGhpcy5pbml0aWFsaXplTGlzdGVuZXIodCksdGhpcy5hY3RpdmVUb29sdGlwPSEwfW9uTGVhdmUodCl7dGhpcy5yZW1vdmVMaXN0ZW5lcigpLHRoaXMuYXBwbHlBY3RpdmVJdGVtKHRoaXMuc2VyaWVzUGF0aHNDb29yZGluYXRlcyksdGhpcy5hcHBseUFjdGl2ZUl0ZW0odGhpcy5zZXJpZXNQb2ludHNDb29yZGluYXRlc1t0XSxudWxsKX1vblNlcmllUG9pbnRIb3Zlcih0KXtjb25zdCBlPW55KHQsWyJyZWxhdGl2ZVRvIl0pO3RoaXMucG9pbnRIb3Zlci5lbWl0KGUpfWFwcGx5QWN0aXZlSXRlbSh0LGUpe3QuZm9yRWFjaCgodCxuKT0+e3QuaXNBY3RpdmU9dm9pZCAwPT09ZXx8ZT09PW59KX1nZXRNb3VzZUNvb3JkaW5hdGVzKHQpe3QucHJldmVudERlZmF1bHQoKTtjb25zdHtzdmdEb21NYXRyaXg6ZSxzdmdQb2ludDpufT10aGlzLnN2Z1NwYWNlO3JldHVybiBuLng9dC5jbGllbnRYLG4ueT10LmNsaWVudFksbi5tYXRyaXhUcmFuc2Zvcm0oZSl9aW5pdGlhbGl6ZUxpc3RlbmVyKHQpe2xldCBlO3RoaXMucHJldmlvdXNBY3RpdmVTZXJpZUluZGV4PXZvaWQgMCx0aGlzLm1vdXNlTW92ZVN1YnNjcmlwdGlvbiQ9T2QodGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsIm1vdXNlbW92ZSIpLnBpcGUoYXkoMTApLERwKHQ9PmU9dGhpcy5nZXRNb3VzZUNvb3JkaW5hdGVzKHQpKSxEZCgoKT0+Z2QodGhpcy52ZXJpZnlBY3RpdmVBcmVhKGUpKSkpLnN1YnNjcmliZShlPT57dm9pZCAwIT09ZSYmdGhpcy5hcHBseUFjdGl2ZUl0ZW0odGhpcy5zZXJpZXNQb2ludHNDb29yZGluYXRlc1t0XSxlKX0pfXJlbW92ZUxpc3RlbmVyKCl7dGhpcy5tb3VzZU1vdmVTdWJzY3JpcHRpb24kLnVuc3Vic2NyaWJlKCl9dmVyaWZ5QWN0aXZlQXJlYSh0KXtjb25zdHt4OmV9PXQ7aWYodGhpcy5jdXJyZW50QWN0aXZlU2VyaWVJbmRleD10aGlzLmNhdGVnb3JpZXNDb29yZGluYXRlcy5maW5kSW5kZXgoKHQsbik9PmU+PXQmJm49PT10aGlzLmNhdGVnb3JpZXNDb29yZGluYXRlcy5sZW5ndGgtMXx8ZT49dCYmZTw9dGhpcy5jYXRlZ29yaWVzQ29vcmRpbmF0ZXNbbisxXSksdGhpcy5jdXJyZW50QWN0aXZlU2VyaWVJbmRleD49MCYmdGhpcy5jdXJyZW50QWN0aXZlU2VyaWVJbmRleCE9PXRoaXMucHJldmlvdXNBY3RpdmVTZXJpZUluZGV4KXJldHVybiB0aGlzLnByZXZpb3VzQWN0aXZlU2VyaWVJbmRleD10aGlzLmN1cnJlbnRBY3RpdmVTZXJpZUluZGV4LHRoaXMuY3VycmVudEFjdGl2ZVNlcmllSW5kZXh9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKHpiKSx2byhPYSksdm8oa2EpKX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwicG8tY2hhcnQtYXJlYSIsIiJdXSxmZWF0dXJlczpbdG9dLGF0dHJzOlR5LGRlY2xzOjMsdmFyczoyLGNvbnN0czpbWyJjaGFydExpbmUiLCIiXSxbMywiY2xhc3MiLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsNCwibmdGb3IiLCJuZ0Zvck9mIiwibmdGb3JUcmFja0J5Il0sWzMsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIl0sWyJwby1jaGFydC1wYXRoIiwiIiwzLCJwLWNoYXJ0LWxpbmUiLCJwLWFuaW1hdGUiLCJwLWNvbG9yIiwicC1jb29yZGluYXRlcyIsInAtaXMtYWN0aXZlIl0sWyJwby1jaGFydC1zZXJpZXMtcG9pbnQiLCIiLDMsInAtYW5pbWF0ZSIsInAtY2hhcnQtbGluZSIsInAtY29sb3IiLCJwLWNvb3JkaW5hdGVzIiwicC1pcy1hY3RpdmUiLCJwLXJlbGF0aXZlLXRvIiwicC1wb2ludC1jbGljayIsInAtcG9pbnQtaG92ZXIiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihhbigpLHdvKDAsImciLG51bGwsMCksbW8oMixreSwzLDE1LCJnIiwxKSxfbygpKSwyJnQmJigkcygyKSxibygibmdGb3JPZiIsZS5zZXJpZXNQYXRoc0Nvb3JkaW5hdGVzKSgibmdGb3JUcmFja0J5IixlLnRyYWNrQnkpKX0sZGlyZWN0aXZlczpmdW5jdGlvbigpe3JldHVybltpaCx5Qyx2Q119LGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLFdiPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5tYXRoc1NlcnZpY2U9dCx0aGlzLmFsaWduQnlUaGVDb3JuZXJzPSExLHRoaXMuY2F0ZWdvcmllc0Nvb3JkaW5hdGVzPW5ldyBJYyx0aGlzLmF4aXNYTGFiZWxzPVtdLHRoaXMuYXhpc1lMYWJlbHM9W10sdGhpcy5ncmlkTGluZXM9NSx0aGlzLnNlcmllc0xlbmd0aD0wLHRoaXMuX2NhdGVnb3JpZXM9W10sdGhpcy5fY29udGFpbmVyU2l6ZT17fSx0aGlzLl9zZXJpZXM9W119c2V0IHNlcmllcyh0KXtjb25zdCBlPXQuZmlsdGVyKHQ9PkFycmF5LmlzQXJyYXkodC5kYXRhKSk7ZS5sZW5ndGg/KHRoaXMuX3Nlcmllcz1lLHRoaXMuc2VyaWVzTGVuZ3RoPXRoaXMubWF0aHNTZXJ2aWNlLnNlcmllc0dyZWF0ZXJMZW5ndGgodGhpcy5zZXJpZXMpLHRoaXMuY2hlY2tBeGlzT3B0aW9ucyh0aGlzLmF4aXNPcHRpb25zKSx0aGlzLnNldEF4aXNYQ29vcmRpbmF0ZXModGhpcy5ncmlkTGluZXMsdGhpcy5zZXJpZXNMZW5ndGgsdGhpcy5jb250YWluZXJTaXplLHRoaXMucmFuZ2UsdGhpcy50eXBlKSx0aGlzLnNldEF4aXNZQ29vcmRpbmF0ZXModGhpcy5ncmlkTGluZXMsdGhpcy5zZXJpZXNMZW5ndGgsdGhpcy5jb250YWluZXJTaXplLHRoaXMucmFuZ2UsdGhpcy50eXBlKSk6KHRoaXMuX3Nlcmllcz1bXSx0aGlzLmNsZWFuVXBDb29yZGluYXRlcygpKX1nZXQgc2VyaWVzKCl7cmV0dXJuIHRoaXMuX3Nlcmllc31zZXQgY2F0ZWdvcmllcyh0KXt0aGlzLl9jYXRlZ29yaWVzPXQsdGhpcy50eXBlPT09TWIuQmFyP3RoaXMuc2V0QXhpc1hDb29yZGluYXRlcyh0aGlzLmdyaWRMaW5lcyx0aGlzLnNlcmllc0xlbmd0aCx0aGlzLmNvbnRhaW5lclNpemUsdGhpcy5yYW5nZSx0aGlzLnR5cGUpOnRoaXMuc2V0QXhpc1lDb29yZGluYXRlcyh0aGlzLmdyaWRMaW5lcyx0aGlzLnNlcmllc0xlbmd0aCx0aGlzLmNvbnRhaW5lclNpemUsdGhpcy5yYW5nZSx0aGlzLnR5cGUpfWdldCBjYXRlZ29yaWVzKCl7cmV0dXJuIHRoaXMuX2NhdGVnb3JpZXN9c2V0IGNvbnRhaW5lclNpemUodCl7dGhpcy5fY29udGFpbmVyU2l6ZT10LHRoaXMuY2hlY2tBeGlzT3B0aW9ucyh0aGlzLmF4aXNPcHRpb25zKSx0aGlzLnNldEF4aXNYQ29vcmRpbmF0ZXModGhpcy5ncmlkTGluZXMsdGhpcy5zZXJpZXNMZW5ndGgsdGhpcy5fY29udGFpbmVyU2l6ZSx0aGlzLnJhbmdlLHRoaXMudHlwZSksdGhpcy5zZXRBeGlzWUNvb3JkaW5hdGVzKHRoaXMuZ3JpZExpbmVzLHRoaXMuc2VyaWVzTGVuZ3RoLHRoaXMuX2NvbnRhaW5lclNpemUsdGhpcy5yYW5nZSx0aGlzLnR5cGUpfWdldCBjb250YWluZXJTaXplKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lclNpemV9c2V0IGF4aXNPcHRpb25zKHQpe3RoaXMuX2F4aXNPcHRpb25zPXQsdGhpcy5jaGVja0F4aXNPcHRpb25zKHRoaXMuX2F4aXNPcHRpb25zKSx0aGlzLnR5cGU9PT1NYi5CYXI/dGhpcy5zZXRBeGlzWUNvb3JkaW5hdGVzKHRoaXMuZ3JpZExpbmVzLHRoaXMuc2VyaWVzTGVuZ3RoLHRoaXMuY29udGFpbmVyU2l6ZSx0aGlzLnJhbmdlLHRoaXMudHlwZSk6dGhpcy5zZXRBeGlzWENvb3JkaW5hdGVzKHRoaXMuZ3JpZExpbmVzLHRoaXMuc2VyaWVzTGVuZ3RoLHRoaXMuY29udGFpbmVyU2l6ZSx0aGlzLnJhbmdlLHRoaXMudHlwZSl9Z2V0IGF4aXNPcHRpb25zKCl7cmV0dXJuIHRoaXMuX2F4aXNPcHRpb25zfXNldEF4aXNYQ29vcmRpbmF0ZXModCxlLG4scixzKXtlJiZ0aGlzLmNhbGN1bGF0ZUF4aXNYTGFiZWxDb29yZGluYXRlcyhzPT09TWIuQmFyP2U6dCxuLHIscyk7Y29uc3QgaT10aGlzLmFtb3VudE9mQXhpc1hMaW5lcyhlLHQscyk7dGhpcy5jYWxjdWxhdGVBeGlzWENvb3JkaW5hdGVzKGksbixyKX1hbW91bnRPZkF4aXNYTGluZXModCxlLG4pe3JldHVybiBuPT09TWIuQmFyP3Q8PTE/Mjp0KzE6MD09PWU/MTplfXNldEF4aXNZQ29vcmRpbmF0ZXModCxlLG4scixzKXtjb25zdCBpPXM9PT1NYi5CYXI/dDplO2UmJnRoaXMuY2FsY3VsYXRlQXhpc1lMYWJlbENvb3JkaW5hdGVzKGksbixyLHMpLHM9PT1NYi5BcmVhJiZ0aGlzLmdldENhdGVnb3JpZXNSYW5nZUZvck1vdXNlTW92ZShpLG4pLHRoaXMuY2FsY3VsYXRlQXhpc1lDb29yZGluYXRlcyhpLG4scyxyKX1jYWxjdWxhdGVBeGlzWENvb3JkaW5hdGVzKHQsZSxuKXtjb25zdCByPWUuYXhpc1hMYWJlbFdpZHRoLHM9ZS5zdmdXaWR0aDtsZXQgaSxvPVsuLi5BcnJheSh0KV0ubWFwKChuLGkpPT57Y29uc3Qgbz10aGlzLmNhbGN1bGF0ZUF4aXNYQ29vcmRpbmF0ZVkodCxlLGkpO3JldHVybntjb29yZGluYXRlczpgTSR7cn0gJHtvfSBMJHtzfSwgJHtvfWB9fSk7dGhpcy50eXBlIT09TWIuQmFyJiZuLm1pblZhbHVlPDAmJiF0aGlzLmF4aXNYTGFiZWxzLmluY2x1ZGVzKCIwIikmJihpPXRoaXMuZ2V0Q29vcmRpbmF0ZXNSZWxhdGVkVG9aZXJvKGUsbixyLHMpLG89Wy4uLm8saV0pLHRoaXMuYXhpc1hDb29yZGluYXRlcz1vfWdldENvb3JkaW5hdGVzUmVsYXRlZFRvWmVybyh0LGUsbixyLHM9ITEpe2NvbnN0IGk9cz9NYi5CYXI6TWIuQ29sdW1uLG89dGhpcy5heGlzQ29vcmRpbmF0ZXNGb3JWYWx1ZVplcm8oZSwwLHQscyksYT17Y29sdW1uOntzdGFydFg6bixlbmRYOnIsc3RhcnRZOm8sZW5kWTpvfSxiYXI6e3N0YXJ0WDpvLGVuZFg6byxzdGFydFk6bixlbmRZOnJ9fTtyZXR1cm57Y29vcmRpbmF0ZXM6YE0ke2FbaV0uc3RhcnRYfSAke2FbaV0uc3RhcnRZfSBMJHthW2ldLmVuZFh9ICR7YVtpXS5lbmRZfWB9fWF4aXNDb29yZGluYXRlc0ZvclZhbHVlWmVybyh0LGUsbixyKXtjb25zdHtheGlzWExhYmVsV2lkdGg6cyxzdmdXaWR0aDppLHN2Z1Bsb3R0aW5nQXJlYUhlaWdodDpvfT1uLGE9dGhpcy5tYXRoc1NlcnZpY2UuZ2V0U2VyaWVQZXJjZW50YWdlKHQsZSk7cmV0dXJuIE1hdGguZmxvb3Iocj9zKyhpLXMpKmE6by1vKmErOCl9Y2FsY3VsYXRlQXhpc1hMYWJlbENvb3JkaW5hdGVzKHQsZSxuLHIpe3RoaXMuYXhpc1hMYWJlbHM9dGhpcy5nZXRBeGlzWExhYmVscyhyLG4sdCksdGhpcy5heGlzWExhYmVsQ29vcmRpbmF0ZXM9Wy4uLkFycmF5KHQpXS5tYXAoKG4scyk9Pih7bGFiZWw6dGhpcy5heGlzWExhYmVsc1tzXSx4Q29vcmRpbmF0ZTp0aGlzLmNhbGN1bGF0ZUF4aXNYTGFiZWxYQ29vcmRpbmF0ZShlLmF4aXNYTGFiZWxXaWR0aCkseUNvb3JkaW5hdGU6dGhpcy5jYWxjdWxhdGVBeGlzWExhYmVsWUNvb3JkaW5hdGUodCxlLHIscyl9KSl9Y2FsY3VsYXRlQXhpc1lDb29yZGluYXRlcyh0LGUsbixyKXtjb25zdCBzPWUuc3ZnUGxvdHRpbmdBcmVhSGVpZ2h0Kzg7bGV0IGksbz1bLi4uQXJyYXkoMD09PXR8fG49PT1NYi5CYXI/dDp0KzEpXS5tYXAoKG4scik9Pntjb25zdCBpPXRoaXMuY2FsY3VsYXRlQXhpc1lDb29yZGluYXRlWChlLHQscik7cmV0dXJue2Nvb3JkaW5hdGVzOmBNJHtpfSA4IEwke2l9LCAke3N9YH19KTtuPT09TWIuQmFyJiZyLm1pblZhbHVlPDAmJiF0aGlzLmF4aXNZTGFiZWxzLmluY2x1ZGVzKCIwIikmJihpPXRoaXMuZ2V0Q29vcmRpbmF0ZXNSZWxhdGVkVG9aZXJvKGUsciw4LHMsITApLG89Wy4uLm8saV0pLHRoaXMuYXhpc1lDb29yZGluYXRlcz1bLi4ub119Y2FsY3VsYXRlQXhpc1lMYWJlbENvb3JkaW5hdGVzKHQsZSxuLHIpe3RoaXMuYXhpc1lMYWJlbHM9dGhpcy5nZXRBeGlzWUxhYmVscyhyLG4sdCksdGhpcy5heGlzWUxhYmVsQ29vcmRpbmF0ZXM9Wy4uLkFycmF5KHQpXS5tYXAoKG4scyk9Pih7bGFiZWw6dGhpcy5heGlzWUxhYmVsc1tzXSx4Q29vcmRpbmF0ZTp0aGlzLmdldEF4aXNYQ29vcmRpbmF0ZXMoZSx0LHIscykseUNvb3JkaW5hdGU6dGhpcy5jYWxjdWxhdGVBeGlzWUxhYmVsWUNvb3JkaW5hdGUoZSl9KSl9Y2FsY3VsYXRlQXhpc1hMYWJlbFhDb29yZGluYXRlKHQpe3JldHVybiB0LTh9Y2FsY3VsYXRlQXhpc1hMYWJlbFlDb29yZGluYXRlKHQsZSxuLHIpe2NvbnN0IHM9ci8obj09PU1iLkJhcj90OnQtMSk7cmV0dXJuIG4hPT1NYi5CYXI/ZS5zdmdQbG90dGluZ0FyZWFIZWlnaHQtZS5zdmdQbG90dGluZ0FyZWFIZWlnaHQqcys4OmUuc3ZnUGxvdHRpbmdBcmVhSGVpZ2h0LWUuc3ZnUGxvdHRpbmdBcmVhSGVpZ2h0L3QvMi1lLnN2Z1Bsb3R0aW5nQXJlYUhlaWdodCpzKzh9Y2FsY3VsYXRlQXhpc1hDb29yZGluYXRlWSh0LGUsbil7cmV0dXJuIGUuc3ZnUGxvdHRpbmdBcmVhSGVpZ2h0LWUuc3ZnUGxvdHRpbmdBcmVhSGVpZ2h0KihuLyh0LTEpKSs4fWNhbGN1bGF0ZUF4aXNZTGFiZWxZQ29vcmRpbmF0ZSh0KXtyZXR1cm4gdC5zdmdIZWlnaHQtOH1jZW50ZXJlZEluQ2F0ZWdvcnlBcmVhKHQsZSxuLHIpe2NvbnN0IHM9ci8obj09PU1iLkJhcj9lLTE6ZSk7cmV0dXJuIG49PT1NYi5CYXI/TWF0aC5yb3VuZCh0LmF4aXNYTGFiZWxXaWR0aCsodC5zdmdXaWR0aC10LmF4aXNYTGFiZWxXaWR0aCkqcyk6TWF0aC5yb3VuZCh0LmF4aXNYTGFiZWxXaWR0aCsodC5zdmdXaWR0aC10LmF4aXNYTGFiZWxXaWR0aCkvZS8yKyh0LnN2Z1dpZHRoLXQuYXhpc1hMYWJlbFdpZHRoKSpzKX1jYWxjdWxhdGVBeGlzWUNvb3JkaW5hdGVYKHQsZSxuLHI9ITEpe2NvbnN0IHM9bi8odGhpcy5hbGlnbkJ5VGhlQ29ybmVycz9lLTE6ZSk7cmV0dXJuIE1hdGgucm91bmQodC5heGlzWExhYmVsV2lkdGgrKHQuc3ZnV2lkdGgtdC5heGlzWExhYmVsV2lkdGgpKihzPT09MS8wPzA6cyktKHRoaXMuYWxpZ25CeVRoZUNvcm5lcnMmJnI/KHQuc3ZnV2lkdGgtdC5heGlzWExhYmVsV2lkdGgpLyhlLTEpLzI6MCkpfWNoZWNrQXhpc09wdGlvbnModD17fSl7dGhpcy5ncmlkTGluZXM9dC5ncmlkTGluZXMmJnRoaXMuaXNWYWxpZEdyaWRMaW5lc0xlbmd0aE9wdGlvbih0LmdyaWRMaW5lcyk/dC5ncmlkTGluZXM6NX1jbGVhblVwQ29vcmRpbmF0ZXMoKXt0aGlzLmF4aXNYQ29vcmRpbmF0ZXM9W10sdGhpcy5heGlzWUNvb3JkaW5hdGVzPVtdLHRoaXMuYXhpc1hMYWJlbENvb3JkaW5hdGVzPVtdLHRoaXMuYXhpc1lMYWJlbENvb3JkaW5hdGVzPVtdLHRoaXMuc2VyaWVzTGVuZ3RoPTB9Z2V0QXhpc1hDb29yZGluYXRlcyh0LGUsbixyKXtyZXR1cm4gdGhpcy5hbGlnbkJ5VGhlQ29ybmVycz90aGlzLmNhbGN1bGF0ZUF4aXNZQ29vcmRpbmF0ZVgodCxlLHIpOnRoaXMuY2VudGVyZWRJbkNhdGVnb3J5QXJlYSh0LGUsbixyKX1nZXRDYXRlZ29yaWVzUmFuZ2VGb3JNb3VzZU1vdmUodCxlKXtjb25zdCBuPVsuLi5BcnJheSh0KV0ubWFwKChuLHIpPT50aGlzLmNhbGN1bGF0ZUF4aXNZQ29vcmRpbmF0ZVgoZSx0LHIsITApKTt0aGlzLmNhdGVnb3JpZXNDb29yZGluYXRlcy5lbWl0KG4pfWlzVmFsaWRHcmlkTGluZXNMZW5ndGhPcHRpb24odCl7cmV0dXJuIHQ+PTImJnQ8PTEwfWdldEF4aXNYTGFiZWxzKHQsZSxuKXtyZXR1cm4gdD09PU1iLkJhcj90aGlzLmZvcm1hdENhdGVnb3JpZXNMYWJlbHMobix0aGlzLmNhdGVnb3JpZXMpLnJldmVyc2UoKTp0aGlzLmdlbmVyYXRlQXZlcmFnZU9mTGFiZWxzKGUsbil9Z2V0QXhpc1lMYWJlbHModCxlLG4pe3JldHVybiB0PT09TWIuQmFyP3RoaXMuZ2VuZXJhdGVBdmVyYWdlT2ZMYWJlbHMoZSxuKTp0aGlzLmZvcm1hdENhdGVnb3JpZXNMYWJlbHMobix0aGlzLmNhdGVnb3JpZXMpfWZvcm1hdENhdGVnb3JpZXNMYWJlbHModCxlPVtdKXtyZXR1cm5bLi4uQXJyYXkodCldLm1hcCgodCxuKT0+e3ZhciByO3JldHVybiBudWxsIT09KHI9ZVtuXSkmJnZvaWQgMCE9PXI/cjoiLSJ9KX1nZW5lcmF0ZUF2ZXJhZ2VPZkxhYmVscyh0LGUpe3JldHVybiB0aGlzLm1hdGhzU2VydmljZS5yYW5nZSh0LGUpLm1hcCh0PT50LnRvRml4ZWQodCUxJiYyKS5yZXBsYWNlKC9cLjAwJC8sIiIpLnJlcGxhY2UoL1wtMCQvLDApLnRvU3RyaW5nKCkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh2byh6YikpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyIiLCJwby1jaGFydC1heGlzIiwiIl1dLGlucHV0czp7YWxpZ25CeVRoZUNvcm5lcnM6WyJwLWFsaWduLWJ5LXRoZS1jb3JuZXJzIiwiYWxpZ25CeVRoZUNvcm5lcnMiXSxzZXJpZXM6WyJwLXNlcmllcyIsInNlcmllcyJdLGNhdGVnb3JpZXM6WyJwLWNhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIl0sY29udGFpbmVyU2l6ZTpbInAtY29udGFpbmVyLXNpemUiLCJjb250YWluZXJTaXplIl0sYXhpc09wdGlvbnM6WyJwLW9wdGlvbnMiLCJheGlzT3B0aW9ucyJdLHR5cGU6WyJwLXR5cGUiLCJ0eXBlIl0scmFuZ2U6WyJwLXJhbmdlIiwicmFuZ2UiXX0sb3V0cHV0czp7Y2F0ZWdvcmllc0Nvb3JkaW5hdGVzOiJwLWNhdGVnb3JpZXMtY29vcmRpbmF0ZXMifSxhdHRyczpGeSxkZWNsczoyLHZhcnM6Nixjb25zdHM6W1sicG8tY2hhcnQtYXhpcy1wYXRoIiwiIiwzLCJwLWF4aXMteC1jb29yZGluYXRlcyIsInAtYXhpcy15LWNvb3JkaW5hdGVzIl0sWyJwby1jaGFydC1heGlzLWxhYmVsIiwiIiwzLCJwLWFsaWduLWJ5LXRoZS1jb3JuZXJzIiwicC1heGlzLXgtbGFiZWwtY29vcmRpbmF0ZXMiLCJwLWF4aXMteS1sYWJlbC1jb29yZGluYXRlcyIsInAtdHlwZSJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKGFuKCksRG8oMCwiZyIsMCksRG8oMSwiZyIsMSkpLDImdCYmKGJvKCJwLWF4aXMteC1jb29yZGluYXRlcyIsZS5heGlzWENvb3JkaW5hdGVzKSgicC1heGlzLXktY29vcmRpbmF0ZXMiLGUuYXhpc1lDb29yZGluYXRlcyksJHMoMSksYm8oInAtYWxpZ24tYnktdGhlLWNvcm5lcnMiLGUuYWxpZ25CeVRoZUNvcm5lcnMpKCJwLWF4aXMteC1sYWJlbC1jb29yZGluYXRlcyIsZS5heGlzWExhYmVsQ29vcmRpbmF0ZXMpKCJwLWF4aXMteS1sYWJlbC1jb29yZGluYXRlcyIsZS5heGlzWUxhYmVsQ29vcmRpbmF0ZXMpKCJwLXR5cGUiLGUudHlwZSkpfSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW0diLHFiXX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksR2I9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe310cmFja0J5KHQpe3JldHVybiB0fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwicG8tY2hhcnQtYXhpcy1wYXRoIiwiIl1dLGlucHV0czp7YXhpc1hDb29yZGluYXRlczpbInAtYXhpcy14LWNvb3JkaW5hdGVzIiwiYXhpc1hDb29yZGluYXRlcyJdLGF4aXNZQ29vcmRpbmF0ZXM6WyJwLWF4aXMteS1jb29yZGluYXRlcyIsImF4aXNZQ29vcmRpbmF0ZXMiXX0sYXR0cnM6SXksZGVjbHM6NCx2YXJzOjQsY29uc3RzOltbImNsYXNzIiwicG8tY2hhcnQtYXhpcy1wYXRoIiw0LCJuZ0ZvciIsIm5nRm9yT2YiLCJuZ0ZvclRyYWNrQnkiXSxbMSwicG8tY2hhcnQtYXhpcy1wYXRoIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoYW4oKSx3bygwLCJnIiksbW8oMSxPeSwxLDEsInBhdGgiLDApLF9vKCksd28oMiwiZyIpLG1vKDMsUHksMSwxLCJwYXRoIiwwKSxfbygpKSwyJnQmJigkcygxKSxibygibmdGb3JPZiIsZS5heGlzWENvb3JkaW5hdGVzKSgibmdGb3JUcmFja0J5IixlLnRyYWNrQnkpLCRzKDIpLGJvKCJuZ0Zvck9mIixlLmF4aXNZQ29vcmRpbmF0ZXMpKCJuZ0ZvclRyYWNrQnkiLGUudHJhY2tCeSkpfSxkaXJlY3RpdmVzOltpaF0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCkscWI9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuYWxpZ25CeVRoZUNvcm5lcnM9ITF9dHJhY2tCeSh0KXtyZXR1cm4gdH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsInBvLWNoYXJ0LWF4aXMtbGFiZWwiLCIiXV0saW5wdXRzOnthbGlnbkJ5VGhlQ29ybmVyczpbInAtYWxpZ24tYnktdGhlLWNvcm5lcnMiLCJhbGlnbkJ5VGhlQ29ybmVycyJdLGF4aXNYTGFiZWxDb29yZGluYXRlczpbInAtYXhpcy14LWxhYmVsLWNvb3JkaW5hdGVzIiwiYXhpc1hMYWJlbENvb3JkaW5hdGVzIl0sYXhpc1lMYWJlbENvb3JkaW5hdGVzOlsicC1heGlzLXktbGFiZWwtY29vcmRpbmF0ZXMiLCJheGlzWUxhYmVsQ29vcmRpbmF0ZXMiXSx0eXBlOlsicC10eXBlIiwidHlwZSJdfSxhdHRyczpSeSxkZWNsczo0LHZhcnM6NCxjb25zdHM6W1siY2xhc3MiLCJwby1jaGFydC1heGlzLXgtbGFiZWwiLCJkb21pbmFudC1iYXNlbGluZSIsIm1pZGRsZSIsNCwibmdGb3IiLCJuZ0Zvck9mIiwibmdGb3JUcmFja0J5Il0sWyJjbGFzcyIsInBvLWNoYXJ0LWF4aXMteS1sYWJlbCIsMywicG8tY2hhcnQtY2VudGVyZWQtbGFiZWwiLDQsIm5nRm9yIiwibmdGb3JPZiIsIm5nRm9yVHJhY2tCeSJdLFsiZG9taW5hbnQtYmFzZWxpbmUiLCJtaWRkbGUiLDEsInBvLWNoYXJ0LWF4aXMteC1sYWJlbCJdLFsxLCJwby1jaGFydC1heGlzLXktbGFiZWwiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihhbigpLHdvKDAsImciKSxtbygxLEx5LDIsMywidGV4dCIsMCksX28oKSx3bygyLCJnIiksbW8oMyxCeSwyLDUsInRleHQiLDEpLF9vKCkpLDImdCYmKCRzKDEpLGJvKCJuZ0Zvck9mIixlLmF4aXNYTGFiZWxDb29yZGluYXRlcykoIm5nRm9yVHJhY2tCeSIsZS50cmFja0J5KSwkcygyKSxibygibmdGb3JPZiIsZS5heGlzWUxhYmVsQ29vcmRpbmF0ZXMpKCJuZ0ZvclRyYWNrQnkiLGUudHJhY2tCeSkpfSxkaXJlY3RpdmVzOltpaF0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksWGI9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLm1hdGhzU2VydmljZT10LHRoaXMuYmFyQ2xpY2s9bmV3IEljLHRoaXMuYmFySG92ZXI9bmV3IEljLHRoaXMuX2NvbnRhaW5lclNpemU9e30sdGhpcy5fcmFuZ2U9e30sdGhpcy5fc2VyaWVzPVtdfXNldCByYW5nZSh0KXt0IGluc3RhbmNlb2YgT2JqZWN0JiYhKHQgaW5zdGFuY2VvZiBBcnJheSkmJih0aGlzLl9yYW5nZT10LHRoaXMuY2FsY3VsYXRlU2VyaWVzUGF0aHNDb29yZGluYXRlcyh0aGlzLmNvbnRhaW5lclNpemUsdGhpcy5fc2VyaWVzLHRoaXMuX3JhbmdlKSl9Z2V0IHJhbmdlKCl7cmV0dXJuIHRoaXMuX3JhbmdlfXNldCBjb250YWluZXJTaXplKHQpe3RoaXMuX2NvbnRhaW5lclNpemU9dCx0aGlzLmNhbGN1bGF0ZVNlcmllc1BhdGhzQ29vcmRpbmF0ZXModGhpcy5fY29udGFpbmVyU2l6ZSx0aGlzLnNlcmllcyx0aGlzLnJhbmdlKX1nZXQgY29udGFpbmVyU2l6ZSgpe3JldHVybiB0aGlzLl9jb250YWluZXJTaXplfXNldCBzZXJpZXModCl7Y29uc3QgZT10LmZpbHRlcih0PT5BcnJheS5pc0FycmF5KHQuZGF0YSkpO2UubGVuZ3RoPyh0aGlzLl9zZXJpZXM9ZSx0aGlzLnNlcmllc0dyZWF0ZXJMZW5ndGg9dGhpcy5tYXRoc1NlcnZpY2Uuc2VyaWVzR3JlYXRlckxlbmd0aCh0aGlzLnNlcmllcyksdGhpcy5jYWxjdWxhdGVTZXJpZXNQYXRoc0Nvb3JkaW5hdGVzKHRoaXMuY29udGFpbmVyU2l6ZSxlLHRoaXMucmFuZ2UpKTp0aGlzLl9zZXJpZXM9W119Z2V0IHNlcmllcygpe3JldHVybiB0aGlzLl9zZXJpZXN9b25TZXJpZUJhckNsaWNrKHQpe3RoaXMuYmFyQ2xpY2suZW1pdCh0KX1vblNlcmllQmFySG92ZXIodCl7dGhpcy5iYXJIb3Zlci5lbWl0KHQpfXRyYWNrQnkodCl7cmV0dXJuIHR9Y2FsY3VsYXRlU2VyaWVzUGF0aHNDb29yZGluYXRlcyh0LGUsbil7dGhpcy5zZXJpZXNQYXRoc0Nvb3JkaW5hdGVzPWUubWFwKChlLHIpPT57aWYoQXJyYXkuaXNBcnJheShlLmRhdGEpKXtsZXQgcz1bXTtyZXR1cm4gZS5kYXRhLmZvckVhY2goKGksbyk9PntpZih0aGlzLm1hdGhzU2VydmljZS52ZXJpZnlJZkZsb2F0T3JJbnRlZ2VyKGkpKXtjb25zdCBhPXRoaXMuYmFyQ29vcmRpbmF0ZXMocixvLHQsbixpKSxjPXRoaXMuc2VyaWVDYXRlZ29yeShvLHRoaXMuY2F0ZWdvcmllcyksbD1lLmxhYmVsLHU9ZS5jb2xvcixoPXRoaXMuZ2V0VG9vbHRpcExhYmVsKGksbCxlLnRvb2x0aXApO3M9Wy4uLnMse2NhdGVnb3J5OmMsY29sb3I6dSxsYWJlbDpsLHRvb2x0aXBMYWJlbDpoLGRhdGE6aSxjb29yZGluYXRlczphfV19fSksc319KX1nZXRUb29sdGlwTGFiZWwodCxlLG4pe2NvbnN0IHI9ZT9gJHtlfTogYDoiIixzPXQudG9TdHJpbmcoKTtyZXR1cm4gbnx8YCR7cn0ke3N9YH1zZXJpZUNhdGVnb3J5KHQsZT1bXSl7dmFyIG47cmV0dXJuIG51bGwhPT0obj1lW3RdKSYmdm9pZCAwIT09bj9uOnZvaWQgMH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodm8oemIpKX0sdC5cdTAyNzVkaXI9WHQoe3R5cGU6dCxpbnB1dHM6e3JhbmdlOlsicC1yYW5nZSIsInJhbmdlIl0sY29udGFpbmVyU2l6ZTpbInAtY29udGFpbmVyLXNpemUiLCJjb250YWluZXJTaXplIl0sc2VyaWVzOlsicC1zZXJpZXMiLCJzZXJpZXMiXSxjYXRlZ29yaWVzOlsicC1jYXRlZ29yaWVzIiwiY2F0ZWdvcmllcyJdfSxvdXRwdXRzOntiYXJDbGljazoicC1iYXItY2xpY2siLGJhckhvdmVyOiJwLWJhci1ob3ZlciJ9fSksdH0pKCksWWI9KCgpPT57Y2xhc3MgdCBleHRlbmRzIFhie2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMubWF0aHNTZXJ2aWNlPXQsdGhpcy50b29sdGlwUG9zaXRpb249InJpZ2h0In1iYXJDb29yZGluYXRlcyh0LGUsbixyLHMpe2NvbnN0e3N2Z1Bsb3R0aW5nQXJlYVdpZHRoOmksYmFySGVpZ2h0Om8sc3BhY2VCZXR3ZWVuQmFyczphfT10aGlzLmNhbGN1bGF0ZUVsZW1lbnRzTWVhc3VyZW1lbnRzKG4pLHt4MTpjLHgyOmx9PXRoaXMueENvb3JkaW5hdGVzKHIsaSxuLmF4aXNYTGFiZWxXaWR0aCxuLnN2Z1dpZHRoLHMpLHt5MTp1LHkyOmh9PXRoaXMueUNvb3JkaW5hdGVzKHQsZSxuLnN2Z1Bsb3R0aW5nQXJlYUhlaWdodCxvLGEpO3JldHVyblsiTSIsYyxoLCJMIixsLGgsIkwiLGwsdSwiTCIsYyx1LCJ6Il0uam9pbigiICIpfWNhbGN1bGF0ZUVsZW1lbnRzTWVhc3VyZW1lbnRzKHQpe2NvbnN0e3N2Z1dpZHRoOmUsc3ZnUGxvdHRpbmdBcmVhSGVpZ2h0Om4sYXhpc1hMYWJlbFdpZHRoOnJ9PXQscz1uL3RoaXMuc2VyaWVzR3JlYXRlckxlbmd0aC8odGhpcy5zZXJpZXMubGVuZ3RoKzIpLGk9dGhpcy5zZXJpZXMubGVuZ3RoPjE/cy8odGhpcy5zZXJpZXMubGVuZ3RoKzIpOjA7cmV0dXJue3N2Z1Bsb3R0aW5nQXJlYVdpZHRoOmUtcixiYXJIZWlnaHQ6cy1pKih0aGlzLnNlcmllcy5sZW5ndGgtMSkvKHRoaXMuc2VyaWVzLmxlbmd0aCsyKSxzcGFjZUJldHdlZW5CYXJzOml9fXhDb29yZGluYXRlcyh0LGUsbixyLHMpe2NvbnN0e21pblZhbHVlOml9PXQsbz1uKyhyLW4pKnRoaXMubWF0aHNTZXJ2aWNlLmdldFNlcmllUGVyY2VudGFnZSh0LGk8MD8wOmkpLGE9dGhpcy5tYXRoc1NlcnZpY2UuZ2V0U2VyaWVQZXJjZW50YWdlKHQscyk7cmV0dXJue3gxOm8seDI6TWF0aC5yb3VuZChlKmErbil9fXlDb29yZGluYXRlcyh0LGUsbixyLHMpe2NvbnN0IGk9TWF0aC5yb3VuZCg4K24qKGUvdGhpcy5zZXJpZXNHcmVhdGVyTGVuZ3RoKStyK3IqdCtzKnQpO3JldHVybnt5MTppLHkyOk1hdGgucm91bmQoaStyKX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKHpiKSl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsInBvLWNoYXJ0LWJhciIsIiJdXSxmZWF0dXJlczpbdG9dLGF0dHJzOmp5LGRlY2xzOjIsdmFyczoyLGNvbnN0czpbWzMsImNsYXNzIiw0LCJuZ0ZvciIsIm5nRm9yT2YiLCJuZ0ZvclRyYWNrQnkiXSxbInBvLWNoYXJ0LWJhci1wYXRoIiwiIiwzLCJwLWNvbG9yIiwicC1jb29yZGluYXRlcyIsInAtdG9vbHRpcC1wb3NpdGlvbiIsInAtYmFyLWNsaWNrIiwicC1iYXItaG92ZXIiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihhbigpLHdvKDAsImciKSxtbygxLE15LDIsNiwiZyIsMCksX28oKSksMiZ0JiYoJHMoMSksYm8oIm5nRm9yT2YiLGUuc2VyaWVzUGF0aHNDb29yZGluYXRlcykoIm5nRm9yVHJhY2tCeSIsZS50cmFja0J5KSl9LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5baWgsbUNdfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxaYj0oKCk9PntjbGFzcyB0IGV4dGVuZHMgWGJ7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5tYXRoc1NlcnZpY2U9dCx0aGlzLnRvb2x0aXBQb3NpdGlvbj0idG9wIn1iYXJDb29yZGluYXRlcyh0LGUsbixyLHMpe2NvbnN0e3N2Z1dpZHRoOmksYXhpc1hMYWJlbFdpZHRoOm8sc3ZnUGxvdHRpbmdBcmVhSGVpZ2h0OmF9PW4se2NoYXJ0QmFyUGxvdEFyZWE6YyxiYXJXaWR0aDpsLHNwYWNlQmV0d2VlbkJhcnM6dX09dGhpcy5jYWxjdWxhdGVFbGVtZW50c01lYXN1cmVtZW50cyhpLG8pLHt4MTpoLHgyOmR9PXRoaXMueENvb3JkaW5hdGVzKHQsZSxjLGwsdSxvKSx7eTE6cCx5MjpmfT10aGlzLnlDb29yZGluYXRlcyhyLGEscyk7cmV0dXJuWyJNIixoLGYsIkwiLGQsZiwiTCIsZCxwLCJMIixoLHAsInoiXS5qb2luKCIgIil9Y2FsY3VsYXRlRWxlbWVudHNNZWFzdXJlbWVudHModCxlKXtjb25zdCBuPXQtZSxyPW4vdGhpcy5zZXJpZXNHcmVhdGVyTGVuZ3RoLyh0aGlzLnNlcmllcy5sZW5ndGgrMikscz10aGlzLnNlcmllcy5sZW5ndGg+MT9yLyh0aGlzLnNlcmllcy5sZW5ndGgrMik6MDtyZXR1cm57Y2hhcnRCYXJQbG90QXJlYTpuLGJhcldpZHRoOnItcyoodGhpcy5zZXJpZXMubGVuZ3RoLTEpLyh0aGlzLnNlcmllcy5sZW5ndGgrMiksc3BhY2VCZXR3ZWVuQmFyczpzfX14Q29vcmRpbmF0ZXModCxlLG4scixzLGkpe2NvbnN0IG89TWF0aC5yb3VuZChpK24qKGUvdGhpcy5zZXJpZXNHcmVhdGVyTGVuZ3RoKStyK3IqdCtzKnQpO3JldHVybnt4MTpvLHgyOk1hdGgucm91bmQobytyKX19eUNvb3JkaW5hdGVzKHQsZSxuKXtjb25zdHttaW5WYWx1ZTpyfT10LHM9dGhpcy5tYXRoc1NlcnZpY2UuZ2V0U2VyaWVQZXJjZW50YWdlKHQscjwwPzA6ciksaT1NYXRoLnJvdW5kKGUtZSpzKzgpLG89dGhpcy5tYXRoc1NlcnZpY2UuZ2V0U2VyaWVQZXJjZW50YWdlKHQsbik7cmV0dXJue3kxOmkseTI6TWF0aC5yb3VuZChlLWUqbys4KX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKHpiKSl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsInBvLWNoYXJ0LWNvbHVtbiIsIiJdXSxmZWF0dXJlczpbdG9dLGF0dHJzOk55LGRlY2xzOjIsdmFyczoyLGNvbnN0czpbWzMsImNsYXNzIiw0LCJuZ0ZvciIsIm5nRm9yT2YiLCJuZ0ZvclRyYWNrQnkiXSxbInBvLWNoYXJ0LWJhci1wYXRoIiwiIiwzLCJwLWNvbG9yIiwicC1jb29yZGluYXRlcyIsInAtdG9vbHRpcC1wb3NpdGlvbiIsInAtYmFyLWNsaWNrIiwicC1iYXItaG92ZXIiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihhbigpLHdvKDAsImciKSxtbygxLEh5LDIsNiwiZyIsMCksX28oKSksMiZ0JiYoJHMoMSksYm8oIm5nRm9yT2YiLGUuc2VyaWVzUGF0aHNDb29yZGluYXRlcykoIm5nRm9yVHJhY2tCeSIsZS50cmFja0J5KSl9LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5baWgsbUNdfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKTtjb25zdCBRYj1bWyIjMjlCNkM1Il0sWyIjMEM2Qzk0IiwiIzI5QjZDNSJdLFsiIzBDNkM5NCIsIiMyOUI2QzUiLCIjQzlFQ0YwIl0sWyIjMEM2Qzk0IiwiIzBCOTJCNCIsIiMyOUI2QzUiLCIjOTREQUUyIl0sWyIjMEM2Qzk0IiwiIzBCOTJCNCIsIiMyOUI2QzUiLCIjOTREQUUyIiwiI0M5RUNGMCJdLFsiIzBDNkM5NCIsIiMwMEE1QzUiLCIjMDA4MkE4IiwiIzMxNjI4RCIsIiMzNjQ0NzMiLCIjMzIyODVDIl0sWyIjMEM2Qzk0IiwiIzAwQUFDQiIsIiMwMThEQUUiLCIjMjc3MDk5IiwiIzMyNTc4MyIsIiMzNTQyNkUiLCIjMzIyODVEIl0sWyIjMEM2Qzk0IiwiIzAwQUZDRSIsIiMwMTk0QjYiLCIjMTE3RkEyIiwiIzAwODhBQyIsIiMyMzc4OUYiLCIjMkI2OTkyIiwiIzMyMjg1QyJdLFsiIzBDNkM5NCIsIiMwMEJBRDUiLCIjMDBBN0M3IiwiIzAxOTdCOCIsIiMwMDg4QUMiLCIjMjM3ODlGIiwiIzJCNjk5MiIsIiMzMTVDODciLCIjMzIyODVDIl0sWyIjMEM2Qzk0IiwiIzAwQkFENSIsIiMwMEE3QzciLCIjMDE5N0I4IiwiIzAwODhBQyIsIiMyMzc4OUYiLCIjMkI2OTkyIiwiIzMxNUM4NyIsIiMzNjRFN0MiLCIjMzIyODVDIl0sWyIjMEM2Qzk0IiwiIzAwQkFENSIsIiMwMEE3QzciLCIjMDE5N0I4IiwiIzAwODhBQyIsIiMyMzc4OUYiLCIjMkI2OTkyIiwiIzMxNUM4NyIsIiMzNjRFN0MiLCIjMzY0MzZGIiwiIzMyMjg1QyJdLFsiIzBDNkM5NCIsIiMwMEJBRDUiLCIjMDBBN0M3IiwiIzAxOTdCOCIsIiMwMDg4QUMiLCIjMjM3ODlGIiwiIzJCNjk5MiIsIiMzMTVDODciLCIjMzY0RTdDIiwiIzM2NDM2RiIsIiMzMzM1NjUiLCIjMzIyODVDIl1dLEtiPVsiIzk0REFFMiIsIiNDOUVDRjAiXTt2YXIgSmI9ZnVuY3Rpb24odCl7cmV0dXJuIHQuQ29sb3IwMT0iY29sb3ItMDEiLHQuQ29sb3IwMj0iY29sb3ItMDIiLHQuQ29sb3IwMz0iY29sb3ItMDMiLHQuQ29sb3IwND0iY29sb3ItMDQiLHQuQ29sb3IwNT0iY29sb3ItMDUiLHQuQ29sb3IwNj0iY29sb3ItMDYiLHQuQ29sb3IwNz0iY29sb3ItMDciLHQuQ29sb3IwOD0iY29sb3ItMDgiLHQuQ29sb3IwOT0iY29sb3ItMDkiLHQuQ29sb3IxMD0iY29sb3ItMTAiLHQuQ29sb3IxMT0iY29sb3ItMTEiLHQuQ29sb3IxMj0iY29sb3ItMTIiLHR9KHt9KTtjb25zdCB0Qz1PYmplY3QudmFsdWVzKEpiKTtsZXQgZUM9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuZGVmYXVsdENvbG9ycz1bXX1nZXRDb2xvcnModCl7cmV0dXJuIHRoaXMudmVyaWZ5SWZIYXNDb2xvclByb3BlcnR5KHQpLHQubWFwKCh0LGUpPT57aWYodC5jb2xvcilyZXR1cm4gdC5jb2xvcj10aGlzLnZlcmlmeUlmSXNQb0NvbG9yUGFsZXR0ZSh0LmNvbG9yKSx0O2NvbnN0IG49dGhpcy5kZWZhdWx0Q29sb3JzW2VdO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse2NvbG9yOm59KX0pfXZlcmlmeUlmSGFzQ29sb3JQcm9wZXJ0eSh0KXt0LmV2ZXJ5KHQ9Pnt2YXIgZTtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eSgiY29sb3IiKSYmKG51bGw9PT0oZT10LmNvbG9yKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5sZW5ndGgpPjB9KXx8KHRoaXMuZGVmYXVsdENvbG9ycz10aGlzLmdldERlZmF1bHRDb2xvcnModC5sZW5ndGgpKX12ZXJpZnlJZklzUG9Db2xvclBhbGV0dGUodCl7cmV0dXJuIHRDLmluY2x1ZGVzKHQpP2Bwby0ke3R9YDp0fWdldERlZmF1bHRDb2xvcnModCl7aWYoMT09PXQpcmV0dXJuIFFiWzBdO2NvbnN0IGU9UWIubGVuZ3RoO2lmKHQ+ZSl7Y29uc3Qgbj10L2U7bGV0IHI9UWJbZS0xXTtmb3IobGV0IHQ9MDt0PD1uO3QrKylyPXIuY29uY2F0KFFiW2VdKTtyZXR1cm4gcn1yZXR1cm4gUWJbdC0xXX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgdH0sdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpLG5DPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5jb2xvclNlcnZpY2U9dCx0aGlzLnNlcmllc0NsaWNrPW5ldyBJYyx0aGlzLnNlcmllc0hvdmVyPW5ldyBJYyx0aGlzLmNoYXJ0U2VyaWVzPVtdfXNldCBoZWlnaHQodCl7Y29uc3QgZT1mdW5jdGlvbih0LGUpe2NvbnN0IG49cGFyc2VJbnQodCwxMCkscj1wYXJzZUludCh2b2lkIDAsMTApO3JldHVybiBufHwwPT09bj9uOnJ8fDA9PT1yP3I6dm9pZCAwfSh0KTtsZXQgbjtuPXJiKHQsIm51bWJlciIpP2U8PTIwMD8yMDA6ZTp0aGlzLnNldERlZmF1bHRIZWlnaHQoKSx0aGlzLl9oZWlnaHQ9bix0aGlzLmdldFN2Z0NvbnRhaW5lclNpemUoKSx0aGlzLnJlYnVpbGRDb21wb25lbnRSZWYoKX1nZXQgaGVpZ2h0KCl7cmV0dXJuIHRoaXMuX2hlaWdodHx8dGhpcy5zZXREZWZhdWx0SGVpZ2h0KCl9c2V0IHR5cGUodCl7dGhpcy5fdHlwZT1PYmplY3QudmFsdWVzKE1iKS5pbmNsdWRlcyh0KT90OnZvaWQgMCx0aGlzLnJlYnVpbGRDb21wb25lbnRSZWYoKX1nZXQgdHlwZSgpe3JldHVybiB0aGlzLl90eXBlfXNldCBzZXJpZXModCl7dGhpcy5fc2VyaWVzPXR8fFtdLEFycmF5LmlzQXJyYXkodGhpcy5fc2VyaWVzKSYmdGhpcy5fc2VyaWVzLmxlbmd0aD90aGlzLnNldFR5cGVEZWZhdWx0KHRoaXMuX3Nlcmllc1swXSk6KHRoaXMudHJhbnNmb3JtT2JqZWN0VG9BcnJheU9iamVjdCh0aGlzLnNlcmllcyksdGhpcy5yZWJ1aWxkQ29tcG9uZW50UmVmKCkpfWdldCBzZXJpZXMoKXtyZXR1cm4gdGhpcy5fc2VyaWVzfXNldCBjYXRlZ29yaWVzKHQpe0FycmF5LmlzQXJyYXkodCkmJih0aGlzLl9jYXRlZ29yaWVzPXQpfWdldCBjYXRlZ29yaWVzKCl7cmV0dXJuIHRoaXMuX2NhdGVnb3JpZXN9c2V0IG9wdGlvbnModCl7dCBpbnN0YW5jZW9mIE9iamVjdCYmISh0IGluc3RhbmNlb2YgQXJyYXkpJiYodGhpcy5fb3B0aW9ucz10LHRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoImxlZ2VuZCIpJiYiYm9vbGVhbiI9PXR5cGVvZiB0aGlzLl9vcHRpb25zLmxlZ2VuZCYmdGhpcy5nZXRTdmdDb250YWluZXJTaXplKCkpfWdldCBvcHRpb25zKCl7cmV0dXJuIHRoaXMuX29wdGlvbnN9Z2V0IGlzVHlwZUNpcmN1bGFyKCl7cmV0dXJuIHRoaXMuZGVmYXVsdFR5cGU9PT1NYi5QaWV8fHRoaXMuZGVmYXVsdFR5cGU9PT1NYi5Eb251dH1uZ09uQ2hhbmdlcyh0KXtjb25zdCBlPUFycmF5LmlzQXJyYXkodGhpcy5zZXJpZXMpJiZ0aGlzLnNlcmllcy5sZW5ndGg+MDsodC5zZXJpZXMmJmV8fHQudHlwZSYmZXx8dC5jYXRlZ29yaWVzJiZlKSYmdGhpcy52YWxpZGF0ZVNlcmllQW5kQWRkVHlwZSh0aGlzLnNlcmllcyksKHQudHlwZSYmIXRoaXMuaXNUeXBlQ2lyY3VsYXJ8fHQuY2F0ZWdvcmllcyYmIXRoaXMuaXNUeXBlQ2lyY3VsYXIpJiYodGhpcy5zdmdDb250YWluZXJTaXplPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLnN2Z0NvbnRhaW5lclNpemUpLHtheGlzWExhYmVsV2lkdGg6dGhpcy5jYWxjdWxhdGVBeGlzWExhYmVsQXJlYSgpfSkpfW9uU2VyaWVzQ2xpY2sodCl7dGhpcy5zZXJpZXNDbGljay5lbWl0KHQpfW9uU2VyaWVzSG92ZXIodCl7dGhpcy5zZXJpZXNIb3Zlci5lbWl0KHQpfXNldERlZmF1bHRIZWlnaHQoKXtyZXR1cm4gdGhpcy50eXBlPT09TWIuR2F1Z2U/MjAwOjQwMH10cmFuc2Zvcm1PYmplY3RUb0FycmF5T2JqZWN0KHQpe3RoaXMuY2hhcnRTZXJpZXM9Im9iamVjdCI9PXR5cGVvZiB0JiZPYmplY3Qua2V5cyh0KS5sZW5ndGg/W09iamVjdC5hc3NpZ24oe30sdCldOltdfXNldFR5cGVEZWZhdWx0KHQpe3ZhciBlO2NvbnN0IG49bnVsbCE9PShlPXQuZGF0YSkmJnZvaWQgMCE9PWU/ZTp0LnZhbHVlLHI9T2JqZWN0LnZhbHVlcyhNYikuaW5jbHVkZXModC50eXBlKT90LnR5cGU6dm9pZCAwO3RoaXMuZGVmYXVsdFR5cGU9cnx8KEFycmF5LmlzQXJyYXkobik/TWIuQ29sdW1uOk1iLlBpZSl9dmFsaWRhdGVTZXJpZUFuZEFkZFR5cGUodCl7Y29uc3QgZT10LmZpbHRlcih0PT50aGlzLmlzVHlwZUNpcmN1bGFyPyJudW1iZXIiPT10eXBlb2YgdC5kYXRhfHwibnVtYmVyIj09dHlwZW9mIHQudmFsdWU6QXJyYXkuaXNBcnJheSh0LmRhdGEpKTt0aGlzLmNoYXJ0U2VyaWVzPXRoaXMuYXBwZW5kVHlwZSh0aGlzLmFwcGVuZENvbG9ycyhlKSl9YXBwZW5kQ29sb3JzKHQpe3JldHVybiB0aGlzLmNvbG9yU2VydmljZS5nZXRDb2xvcnModCl9YXBwZW5kVHlwZSh0KXtyZXR1cm4gdC5tYXAoKHQsZSk9PigwPT09ZSYmKHRoaXMuY2hhcnRUeXBlPU9iamVjdC52YWx1ZXMoTWIpLmluY2x1ZGVzKHQudHlwZSk/dC50eXBlOnRoaXMudHlwZXx8dGhpcy5kZWZhdWx0VHlwZSksT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHt0eXBlOnQudHlwZXx8dGhpcy5jaGFydFR5cGV9KSkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh2byhlQykpfSx0Llx1MDI3NWRpcj1YdCh7dHlwZTp0LGlucHV0czp7aGVpZ2h0OlsicC1oZWlnaHQiLCJoZWlnaHQiXSx0eXBlOlsicC10eXBlIiwidHlwZSJdLHNlcmllczpbInAtc2VyaWVzIiwic2VyaWVzIl0sY2F0ZWdvcmllczpbInAtY2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiXSxvcHRpb25zOlsicC1vcHRpb25zIiwib3B0aW9ucyJdLHRpdGxlOlsicC10aXRsZSIsInRpdGxlIl19LG91dHB1dHM6e3Nlcmllc0NsaWNrOiJwLXNlcmllcy1jbGljayIsc2VyaWVzSG92ZXI6InAtc2VyaWVzLWhvdmVyIn0sZmVhdHVyZXM6W2NlXX0pLHR9KSgpLHJDPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt9Y2FsY3VsYXRlU1ZHQ29udGFpbmVyTWVhc3VyZW1lbnRzKHQ9MCxlPTAsbj0wLHI9MCl7Y29uc3Qgcz10aGlzLnN2Z1dpZHRoKGUpLGk9dGhpcy5jZW50ZXIoZSksbz10aGlzLnN2Z0hlaWdodCh0LG4scik7cmV0dXJue3N2Z1dpZHRoOnMsc3ZnSGVpZ2h0Om8sY2VudGVyWDppLGNlbnRlclk6dGhpcy5jZW50ZXIobyksc3ZnUGxvdHRpbmdBcmVhSGVpZ2h0OnRoaXMuc3ZnUGxvdHRpbmdBcmVhSGVpZ2h0KG8pfX1zdmdXaWR0aCh0KXtjb25zdCBlPXQtNDg7cmV0dXJuIGU+MD9lOjB9Y2VudGVyKHQpe3JldHVybiB0LzJ9c3ZnSGVpZ2h0KHQsZSxuKXtjb25zdCByPXQtZS1uLTQ4O3JldHVybiByPD0wPzA6cn1zdmdQbG90dGluZ0FyZWFIZWlnaHQodCl7cmV0dXJuIHQtMjQtOH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgdH0sdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpO2NvbnN0IHNDPTIqTWF0aC5QSS9NYXRoLmZsb29yKDI1KSxpQz0tTWF0aC5QSSxvQz0tTWF0aC5QSS8yLGFDPS4wNjtsZXQgY0M9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuaW5uZXJSYWRpdXM9MCx0aGlzLm9uU2VyaWVDbGljaz1uZXcgRCx0aGlzLm9uU2VyaWVIb3Zlcj1uZXcgRCx0aGlzLl9zZXJpZXM9W119Z2V0IGlzQ2hhcnRHYXVnZVR5cGUoKXtyZXR1cm4gdGhpcy50eXBlPT09TWIuR2F1Z2V9Y2FsY3VsYXRlU1ZHQ29udGFpbmVyRGltZW5zaW9ucyh0LGUsbil7Y29uc3Qgcj10aGlzLmhlaWdodC1lLW4tNDg7dGhpcy5zdmdIZWlnaHQ9cjw9MD8wOnIsdGhpcy5jZW50ZXJYPXQvMn1jYWxjdWxhdGVUb3RhbFZhbHVlKCl7dGhpcy50b3RhbFZhbHVlPXRoaXMudHlwZT09PU1iLkdhdWdlPzEwMDp0aGlzLnNlcmllcy5yZWR1Y2UoKHQsZSk9PnQrKGUuZGF0YT9lLmRhdGE6ZS52YWx1ZSksMCl9c2V0IHNlcmllcyh0KXt0aGlzLl9zZXJpZXM9dGhpcy5nZXRTZXJpZXNXaXRoVmFsdWUodCl9Z2V0IHNlcmllcygpe3JldHVybiB0aGlzLl9zZXJpZXN9Z2V0U2VyaWVzV2l0aFZhbHVlKHQpe3JldHVybiB0fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVkaXI9WHQoe3R5cGU6dCx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJihVYyhWeSw3KSxVYyh6eSw3KSksMiZ0KXtsZXQgdDskYyh0PVdjKCkpJiYoZS5jaGFydEJvZHk9dC5maXJzdCksJGModD1XYygpKSYmKGUuc3ZnQ29udGFpbmVyPXQuZmlyc3QpfX19KSx0fSkoKSxsQz0oKCk9PntjbGFzcyB0IGV4dGVuZHMgY0N7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKCksdGhpcy5lbD10LHRoaXMubmdab25lPWUsdGhpcy5yZW5kZXJlcj1uLHRoaXMuY2hhcnRJdGVtU3RhcnRBbmdsZT1vQyx0aGlzLndpbmRvd1Jlc2l6ZUVtaXR0ZXI9bmV3IEQsdGhpcy5jaGFydEl0ZW1zRW5kQW5nbGVMaXN0PVtdLHRoaXMuc3ZnUGF0aEVsZW1lbnRzTGlzdD1bXSx0aGlzLnN2Z1RleHRFbGVtZW50c0xpc3Q9W119bmdPbkRlc3Ryb3koKXt0aGlzLnJlbW92ZVdpbmRvd1Jlc2l6ZUxpc3RlbmVyKCksdGhpcy5yZW1vdmVXaW5kb3dTY3JvbGxMaXN0ZW5lcigpLHRoaXMuYW5pbWF0aW9uUnVubmluZz0hMX1uZ09uSW5pdCgpe3RoaXMuY2hhcnRJbml0U2V0dXAoKSx0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCl9cmVtb3ZlVG9vbHRpcCgpe3RoaXMudG9vbHRpcEVsZW1lbnQmJnRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy50b29sdGlwRWxlbWVudCwicG8taW52aXNpYmxlIil9ZHJhd1BhdGgodCxlLG4pe2NvbnN0IHI9TWF0aC5zaW4oZSkscz1NYXRoLmNvcyhlKSxpPU1hdGguc2luKG4pLG89TWF0aC5jb3MobiksYT10aGlzLmNlbnRlclgrcyp0aGlzLmNlbnRlclgsYz10aGlzLmNlbnRlclgrcip0aGlzLmNlbnRlclgsbD1bIk0iLGEsYywiQSIsdGhpcy5jZW50ZXJYLHRoaXMuY2VudGVyWCwwLCIwLDEiLHRoaXMuY2VudGVyWCtvKnRoaXMuY2VudGVyWCx0aGlzLmNlbnRlclgraSp0aGlzLmNlbnRlclgsIkEiLDEsMSwwLCIwLDEiLHRoaXMuY2VudGVyWCtvKnRoaXMuaW5uZXJSYWRpdXMsdGhpcy5jZW50ZXJYK2kqdGhpcy5pbm5lclJhZGl1cywiQSIsdGhpcy5pbm5lclJhZGl1cyx0aGlzLmlubmVyUmFkaXVzLDAsIjAsMCIsdGhpcy5jZW50ZXJYK3MqdGhpcy5pbm5lclJhZGl1cyx0aGlzLmNlbnRlclgrcip0aGlzLmlubmVyUmFkaXVzLCJBIiwxLDEsMCwiMCwxIixhLGMsIloiXS5qb2luKCIgIik7cmV0dXJuIHQuc2V0QXR0cmlidXRlKCJkIixsKX1nZXRTZXJpZXNXaXRoVmFsdWUodCl7Y29uc3QgZT1bXTtyZXR1cm4gdC5mb3JFYWNoKCh0LG4pPT57dmFyIHI7KG51bGwhPT0ocj10LmRhdGEpJiZ2b2lkIDAhPT1yP3I6dC52YWx1ZSk+MCYmZS5wdXNoKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7Y29sb3I6dGhpcy5jb2xvcnNbbl19KSl9KSxlfWFuaW1hdGlvblNldHVwKCl7dGhpcy5jaGFydEl0ZW1FbmRBbmdsZT10aGlzLmNoYXJ0SXRlbXNFbmRBbmdsZUxpc3RbMF0sdGhpcy5hbmltYXRpb25SdW5uaW5nPSEwLHRoaXMuZHJhd1BhdGhJbml0KCl9YXBwZW5kR2F1Z2VCYWNrZ3JvdW5kUGF0aEVsZW1lbnQodCl7Y29uc3QgZT10aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoInN2ZzpwYXRoIiwic3ZnIik7dGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUoZSwiY2xhc3MiLCJwby1jaGFydC1nYXVnZS1iYXNlLXBhdGgiKSx0LmFwcGVuZENoaWxkKGUpLHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy5zdmdFbGVtZW50LHQpfWNhbGN1bGF0ZUFuZ2xlUmFkaWFucygpe3RoaXMuc2VyaWVzLmZvckVhY2goKHQsZSk9Pnt2YXIgbjtjb25zdCByPW51bGwhPT0obj10LmRhdGEpJiZ2b2lkIDAhPT1uP246dC52YWx1ZTt0aGlzLmNoYXJ0SXRlbXNFbmRBbmdsZUxpc3RbZV09dGhpcy5jYWxjdWxhdGVFbmRBbmdsZShyLHRoaXMudG90YWxWYWx1ZSl9KX1jYWxjdWxhdGVDdXJyZW50RW5kQW5nbGUodCl7cmV0dXJuIHRoaXMuY2hhcnRJdGVtU3RhcnRBbmdsZSt0PnRoaXMuY2hhcnRJdGVtU3RhcnRBbmdsZSt0aGlzLmNoYXJ0SXRlbUVuZEFuZ2xlP3RoaXMuY2hhcnRJdGVtU3RhcnRBbmdsZSt0aGlzLmNoYXJ0SXRlbUVuZEFuZ2xlLTFlLTQ6dGhpcy5jaGFydEl0ZW1TdGFydEFuZ2xlK3R9Y2FsY3VsYXRlRW5kQW5nbGUodCxlKXtjb25zdCBuPXQvZSooMipNYXRoLlBJKTtyZXR1cm4gdGhpcy5pc0NoYXJ0R2F1Z2VUeXBlP24vMjpufWNhbGN1bGF0ZVNWR0RpbWVuc2lvbnMoKXt0aGlzLmNhbGN1bGF0ZVNWR0NvbnRhaW5lckRpbWVuc2lvbnModGhpcy5jaGFydFdyYXBwZXIsdGhpcy5jaGFydEhlYWRlcix0aGlzLmNoYXJ0TGVnZW5kKSx0aGlzLmlubmVyUmFkaXVzPXRoaXMuc2V0SW5uZXJSYWRpdXModGhpcy50eXBlKX1jaGFuZ2VUb29sdGlwUG9zaXRpb24odCl7dGhpcy50b29sdGlwRWxlbWVudCYmdGhpcy50b29sdGlwRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoInBvLWludmlzaWJsZSIpJiZ0aGlzLnNob3dUb29sdGlwKCk7Y29uc3QgZT10aGlzLnNldFRvb2x0aXBQb3NpdGlvbnModCk7dGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLnRvb2x0aXBFbGVtZW50LCJsZWZ0IixgJHtlLmxlZnR9cHhgKSx0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMudG9vbHRpcEVsZW1lbnQsInRvcCIsYCR7ZS50b3B9cHhgKX1jaGFydEluaXRTZXR1cCgpe3RoaXMuY2FsY3VsYXRlU1ZHRGltZW5zaW9ucygpLHRoaXMuY2FsY3VsYXRlVG90YWxWYWx1ZSgpLHRoaXMuY2FsY3VsYXRlQW5nbGVSYWRpYW5zKCksdGhpcy5jcmVhdGVTVkdFbGVtZW50cygpLHRoaXMuYW5pbWF0aW9uU2V0dXAoKX1jaGVja2luZ0lmU2Nyb2xsc1dpdGhQb1BhZ2UoKXtjb25zdCB0PWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInBvLXBhZ2UtY29udGVudCIpO3JldHVybiB0Lmxlbmd0aD90WzBdOndpbmRvd31jcmVhdGVQYXRoKHQsZSl7Y29uc3Qgbj10aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoInN2ZzpwYXRoIiwic3ZnIik7dGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUobiwiY2xhc3MiLCJwby1wYXRoLWl0ZW0iKSx0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZShuLCJmaWxsIix0LmNvbG9yKSx0aGlzLnNldEVsZW1lbnRBdHRyaWJ1dGVzKG4sdCksZS5hcHBlbmRDaGlsZChuKSx0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMuc3ZnRWxlbWVudCxlKSx0aGlzLnN2Z1BhdGhFbGVtZW50c0xpc3QucHVzaChuKX1jcmVhdGVQYXRocygpe2NvbnN0IHQ9dGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KCJzdmc6ZyIsInN2ZyIpO3RoaXMuaXNDaGFydEdhdWdlVHlwZSYmKHRoaXMuYXBwZW5kR2F1Z2VCYWNrZ3JvdW5kUGF0aEVsZW1lbnQodCksdGhpcy5pc1NlcmllVmFsdWVFcXVhbFplcm8oKSl8fHRoaXMuc2VyaWVzLmZvckVhY2goZT0+dGhpcy5jcmVhdGVQYXRoKGUsdCkpfWNyZWF0ZVRleHQodCl7Y29uc3QgZT10LnZhbHVlLG49dGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KCJzdmc6ZyIsInN2ZyIpLHI9dGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KCJzdmc6dGV4dCIsInN2ZyIpLHM9dGhpcy5nZXRGb250U2l6ZSgpLGk9dGhpcy5nZXRUZXh0Q29sb3IodC5jb2xvcik7ci50ZXh0Q29udGVudD10aGlzLmdldFBlcmNlbnRWYWx1ZShlLHRoaXMudG90YWxWYWx1ZSkrIiUiLHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHIsImNsYXNzIiwicG8tcGF0aC1pdGVtIiksdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUociwiZmlsbCIsaSksdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUociwiZm9udC1zaXplIixzKSx0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZShyLCJmaWxsLW9wYWNpdHkiLCIwIiksdGhpcy5zZXRFbGVtZW50QXR0cmlidXRlcyhyLHQpLHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQobixyKSx0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMuc3ZnRWxlbWVudCxuKSx0aGlzLnN2Z1RleHRFbGVtZW50c0xpc3QucHVzaChyKX1jcmVhdGVUZXh0cygpe3RoaXMudHlwZT09PU1iLkRvbnV0JiZ0aGlzLnNlcmllcy5mb3JFYWNoKHQ9PnRoaXMuY3JlYXRlVGV4dCh0KSl9Y3JlYXRlU1ZHRWxlbWVudHMoKXtjb25zdCB0PXRoaXMuaXNDaGFydEdhdWdlVHlwZT90aGlzLmNlbnRlclgrdGhpcy5jZW50ZXJYKmFDOnRoaXMuY2hhcnRXcmFwcGVyLGU9dGhpcy5pc0NoYXJ0R2F1Z2VUeXBlPyJ4TWlkWU1heCI6InhNaWRZTWluIjt0aGlzLnN2Z0VsZW1lbnQ9dGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KCJzdmc6c3ZnIiwic3ZnIiksdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodGhpcy5zdmdFbGVtZW50LCJ2aWV3Qm94IixgMCAwICR7dGhpcy5jaGFydFdyYXBwZXJ9ICR7dH1gKSx0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZSh0aGlzLnN2Z0VsZW1lbnQsInByZXNlcnZlQXNwZWN0UmF0aW8iLGAke2V9IG1lZXRgKSx0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZSh0aGlzLnN2Z0VsZW1lbnQsImNsYXNzIiwicG8tY2hhcnQtc3ZnLWVsZW1lbnQiKSx0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZSh0aGlzLnN2Z0VsZW1lbnQsIndpZHRoIixgJHt0aGlzLmNlbnRlclh9YCksdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodGhpcy5zdmdFbGVtZW50LCJoZWlnaHQiLGAke3RoaXMuc3ZnSGVpZ2h0fWApLHRoaXMuc3ZnQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5zdmdFbGVtZW50KSx0aGlzLmNyZWF0ZVBhdGhzKCksdGhpcy5jcmVhdGVUZXh0cygpfWRyYXdQYXRoSW5pdCgpe3RoaXMuYW5pbWF0aW9uUnVubmluZyYmdGhpcy5uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PnRoaXMuZHJhd1NlcmllcygpKX1kcmF3U2VyaWVzKHQ9MCxlPTApe3Q9PT10aGlzLnN2Z1BhdGhFbGVtZW50c0xpc3QubGVuZ3RofHwoZT50aGlzLmNoYXJ0SXRlbUVuZEFuZ2xlPyh0aGlzLmNoYXJ0SXRlbVN0YXJ0QW5nbGU9dGhpcy5jaGFydEl0ZW1TdGFydEFuZ2xlK3RoaXMuY2hhcnRJdGVtRW5kQW5nbGUsdCsrLHRoaXMuY2hhcnRJdGVtRW5kQW5nbGU9dGhpcy5jaGFydEl0ZW1zRW5kQW5nbGVMaXN0W3RdLGU9MCk6KHRoaXMuZHJhd1BhdGgodGhpcy5zdmdQYXRoRWxlbWVudHNMaXN0W3RdLHRoaXMuY2hhcnRJdGVtU3RhcnRBbmdsZSx0aGlzLmNhbGN1bGF0ZUN1cnJlbnRFbmRBbmdsZShlKz1zQykpLHRoaXMuc2V0VGV4dFByb3BlcnRpZXModGhpcy5zdmdUZXh0RWxlbWVudHNMaXN0W3RdLHRoaXMuY2hhcnRJdGVtU3RhcnRBbmdsZSx0aGlzLmNhbGN1bGF0ZUN1cnJlbnRFbmRBbmdsZShlKSkpLHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5kcmF3U2VyaWVzLmJpbmQodGhpcyx0LGUpKSl9ZW1pdEV2ZW50T25FbnRlcih0KXt0aGlzLm9uU2VyaWVIb3Zlci5uZXh0KHQpfWdldEZvbnRTaXplKCl7cmV0dXJuYCR7KC4wNCp0aGlzLmNoYXJ0V3JhcHBlcikudG9GaXhlZCgwKX1weGB9Z2V0UGVyY2VudFZhbHVlKHQsZSl7Y29uc3Qgbj1pYih0L2UqMTAwLDIpO3JldHVybiBTdHJpbmcobikucmVwbGFjZSgiLiIsIiwiKX1nZXRUZXh0Q29sb3IodCl7cmV0dXJuIEtiLmluY2x1ZGVzKHQpPyIjMDAwMDAwIjoiI2ZmZmZmZiJ9Z2V0VG9vbHRpcFZhbHVlKHQpe3JldHVybiB0aGlzLnR5cGU9PT1NYi5QaWU/dC50b1N0cmluZygpOnRoaXMuZ2V0UGVyY2VudFZhbHVlKHQsdGhpcy50b3RhbFZhbHVlKSsiJSJ9aXNTZXJpZVZhbHVlRXF1YWxaZXJvKCl7cmV0dXJuIHRoaXMuc2VyaWVzLmxlbmd0aCYmMD09PXRoaXMuc2VyaWVzWzBdLnZhbHVlfW9uTW91c2VDbGljaygpe2xldCB0O3Q9bnkodGhpcy5zZXJpZXNbMF0sWyJjb2xvciJdKSx0aGlzLm9uU2VyaWVDbGljay5uZXh0KHQpfW9uTW91c2VFbnRlcih0KXtsZXQgZTtjb25zdCBuPW55KHRoaXMuc2VyaWVzWzBdLFsiY29sb3IiXSk7dGhpcy5jaGFydEVsZW1lbnREZXNjcmlwdGlvbj10LnRhcmdldC5nZXRBdHRyaWJ1dGVOUyhudWxsLCJkYXRhLXRvb2x0aXAtY2F0ZWdvcnkiKSxlPW4sdGhpcy5lbWl0RXZlbnRPbkVudGVyKGUpfW9uV2luZG93UmVzaXplKCl7dGhpcy5jYWxjdWxhdGVTVkdEaW1lbnNpb25zKCksdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodGhpcy5zdmdFbGVtZW50LCJ3aWR0aCIsYCR7dGhpcy5jZW50ZXJYfWApLHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHRoaXMuc3ZnRWxlbWVudCwiaGVpZ2h0IixgJHt0aGlzLnN2Z0hlaWdodH1gKSx0aGlzLndpbmRvd1Jlc2l6ZUVtaXR0ZXIubmV4dCgpfXJlbW92ZVdpbmRvd1Jlc2l6ZUxpc3RlbmVyKCl7dGhpcy53aW5kb3dSZXNpemVMaXN0ZW5lciYmdGhpcy53aW5kb3dSZXNpemVMaXN0ZW5lcigpfXJlbW92ZVdpbmRvd1Njcm9sbExpc3RlbmVyKCl7dGhpcy53aW5kb3dTY3JvbGxMaXN0ZW5lciYmdGhpcy53aW5kb3dTY3JvbGxMaXN0ZW5lcigpfXNldEV2ZW50TGlzdGVuZXJzKCl7bGV0IHQ9dGhpcy5lbC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5wby1wYXRoLWl0ZW0iKTt0PUFycmF5LmZyb20odCksdC5mb3JFYWNoKHQ9Pnt0aGlzLnJlbmRlcmVyLmxpc3Rlbih0LCJjbGljayIsdGhpcy5vbk1vdXNlQ2xpY2suYmluZCh0aGlzKSksdGhpcy5yZW5kZXJlci5saXN0ZW4odCwibW91c2VlbnRlciIsdGhpcy5vbk1vdXNlRW50ZXIuYmluZCh0aGlzKSksdGhpcy5pc0NoYXJ0R2F1Z2VUeXBlfHwodGhpcy5yZW5kZXJlci5saXN0ZW4odCwibW91c2Vtb3ZlIix0aGlzLmNoYW5nZVRvb2x0aXBQb3NpdGlvbi5iaW5kKHRoaXMpKSx0aGlzLnJlbmRlcmVyLmxpc3Rlbih0LCJtb3VzZWxlYXZlIix0aGlzLnJlbW92ZVRvb2x0aXAuYmluZCh0aGlzKSkpfSksdGhpcy53aW5kb3dSZXNpemVMaXN0ZW5lcj10aGlzLnJlbmRlcmVyLmxpc3Rlbih3aW5kb3csInJlc2l6ZSIsdGhpcy5vbldpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpKSx0aGlzLndpbmRvd1Njcm9sbExpc3RlbmVyPXRoaXMucmVuZGVyZXIubGlzdGVuKHRoaXMuY2hlY2tpbmdJZlNjcm9sbHNXaXRoUG9QYWdlKCksInNjcm9sbCIsdGhpcy5yZW1vdmVUb29sdGlwLmJpbmQodGhpcykpfXNldElubmVyUmFkaXVzKHQpe2xldCBlO3N3aXRjaCh0KXtjYXNlIE1iLkRvbnV0OmU9LjI3O2JyZWFrO2Nhc2UgTWIuR2F1Z2U6ZT1hQzticmVhaztjYXNlIE1iLlBpZTpyZXR1cm4gMH1yZXR1cm4gdGhpcy5jZW50ZXJYLXRoaXMuY2VudGVyWCplfXNldFRleHRQcm9wZXJ0aWVzKHQsZSxuKXtpZih0aGlzLnR5cGU9PT1NYi5Eb251dCYmdC5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl7Y29uc3Qgcj0oZStuKS8yLHM9dC5nZXRCQm94KCksaT1zLndpZHRoLzIsbz1zLmhlaWdodC8yLGE9dGhpcy5pbm5lclJhZGl1cysodGhpcy5jZW50ZXJYLXRoaXMuaW5uZXJSYWRpdXMpLzIsYz1hKk1hdGguY29zKHIpK3RoaXMuY2VudGVyWC1pLGw9YSpNYXRoLnNpbihyKSt0aGlzLmNlbnRlclgrby8yO3Quc2V0QXR0cmlidXRlKCJ4IixjKSx0LnNldEF0dHJpYnV0ZSgieSIsbCksdC5zZXRBdHRyaWJ1dGUoImZpbGwtb3BhY2l0eSIsIjEiKX19c2V0VG9vbHRpcFBvc2l0aW9ucyh0KXtyZXR1cm57bGVmdDp0LmNsaWVudFgtdGhpcy50b29sdGlwRWxlbWVudC5vZmZzZXRXaWR0aC8yLHRvcDp0LmNsaWVudFktdGhpcy50b29sdGlwRWxlbWVudC5vZmZzZXRIZWlnaHQtOH19c2V0RWxlbWVudEF0dHJpYnV0ZXModCxlKXt2YXIgbixyO2NvbnN0e3Rvb2x0aXA6c309ZSxpPW51bGwhPT0obj1lLmRhdGEpJiZ2b2lkIDAhPT1uP246ZS52YWx1ZSxvPW51bGwhPT0ocj1lLmxhYmVsKSYmdm9pZCAwIT09cj9yOmUuZGVzY3JpcHRpb258fGUuY2F0ZWdvcnk7aWYodGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodCwiZGF0YS10b29sdGlwLXZhbHVlIixgJHtpfWApLHRoaXMuaXNDaGFydEdhdWdlVHlwZSl0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZSh0LCJkYXRhLXRvb2x0aXAtZGVzY3JpcHRpb24iLG8pO2Vsc2V7Y29uc3QgZT10aGlzLmdldFRvb2x0aXBWYWx1ZShpKTt0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZSh0LCJkYXRhLXRvb2x0aXAtY2F0ZWdvcnkiLG8pLHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHQsImRhdGEtdG9vbHRpcC10ZXh0IixzfHxgJHtvfTogJHtlfWApfX1zaG93VG9vbHRpcCgpe3RoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy50b29sdGlwRWxlbWVudCwicG8taW52aXNpYmxlIil9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKGthKSx2byh5bCksdm8oT2EpKX0sdC5cdTAyNzVkaXI9WHQoe3R5cGU6dCxmZWF0dXJlczpbdG9dfSksdH0pKCksdUM9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmNoYW5nZURldGVjdGlvbj10fXNldCBnYXVnZVdpZHRoKHQpe3RoaXMuX2dhdWdlV2lkdGg9dCx0aGlzLmNoZWNrVGV4dERlc2NyaXB0aW9uU2l6ZSgpfWdldCBnYXVnZVdpZHRoKCl7cmV0dXJuIHRoaXMuX2dhdWdlV2lkdGh9c2V0IHNlcmllKHQpe3Q/KHRoaXMuc2VyaWVWYWx1ZUNvbnZlcnRlZD10aGlzLmNvbnZlcnRWYWx1ZUluUGVyY2VudEZvcm1hdCh0LnZhbHVlKSx0aGlzLl9zZXJpZT1PYmplY3QuYXNzaWduKHt9LHQpKTp0aGlzLl9zZXJpZT12b2lkIDB9Z2V0IHNlcmllKCl7cmV0dXJuIHRoaXMuX3NlcmllfWdldCBoYXNTZXJpZURlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMuc2VyaWUmJnRoaXMuc2VyaWUuZGVzY3JpcHRpb259Z2V0IGhhc1NlcmllVmFsdWUoKXtyZXR1cm4gdGhpcy5zZXJpZSYmdGhpcy5zZXJpZS52YWx1ZT49MH1nZXQgbWF4RGVzY3JpcHRpb25XaWR0aCgpe3JldHVybnsibWF4LXdpZHRoIjp0aGlzLmdhdWdlV2lkdGgtdGhpcy5nYXVnZVdpZHRoKmFDKjIqMisicHgifX1uZ0FmdGVyVmlld0luaXQoKXt0aGlzLmNoZWNrVGV4dERlc2NyaXB0aW9uU2l6ZSgpfWNoZWNrVGV4dERlc2NyaXB0aW9uU2l6ZSgpe3RoaXMuZGVzY3JpcHRpb25FbGVtZW50JiYoc2V0VGltZW91dCgoKT0+e3RoaXMudG9vbHRpcD10aGlzLmlzRWxsaXBzaXNBY3RpdmUoKX0pLHRoaXMuY2hhbmdlRGV0ZWN0aW9uLmRldGVjdENoYW5nZXMoKSl9Y29udmVydFZhbHVlSW5QZXJjZW50Rm9ybWF0KHQpe3JldHVybmAke1N0cmluZyhpYih0LDEpKS5yZXBsYWNlKCIuIiwiLCIpfSVgfWlzRWxsaXBzaXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5kZXNjcmlwdGlvbkVsZW1lbnQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDx0aGlzLmRlc2NyaXB0aW9uRWxlbWVudC5uYXRpdmVFbGVtZW50LnNjcm9sbFdpZHRoP3RoaXMuc2VyaWUuZGVzY3JpcHRpb246dm9pZCAwfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh2byhlYykpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1jaGFydC1nYXVnZS10ZXh0LWNvbnRlbnQiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZVYygkeSw1LGthKSwyJnQpe2xldCB0OyRjKHQ9V2MoKSkmJihlLmRlc2NyaXB0aW9uRWxlbWVudD10LmZpcnN0KX19LGlucHV0czp7Z2F1Z2VXaWR0aDpbInAtZ2F1Z2Utd2lkdGgiLCJnYXVnZVdpZHRoIl0sc2VyaWU6WyJwLXNlcmllIiwic2VyaWUiXX0sZGVjbHM6MSx2YXJzOjEsY29uc3RzOltbImNsYXNzIiwicG8tY2hhcnQtZ2F1Z2UtdGV4dC1jb250ZW50IiwidGFiaW5kZXgiLCIwIiwzLCJuZ1N0eWxlIiw0LCJuZ0lmIl0sWyJ0YWJpbmRleCIsIjAiLDEsInBvLWNoYXJ0LWdhdWdlLXRleHQtY29udGVudCIsMywibmdTdHlsZSJdLFsxLCJwby1jaGFydC1nYXVnZS10ZXh0LXZhbHVlIl0sWyJjbGFzcyIsInBvLWNoYXJ0LWdhdWdlLXRleHQtZGVzY3JpcHRpb24iLDMsInAtdG9vbHRpcCIsNCwibmdJZiJdLFsxLCJwby1jaGFydC1nYXVnZS10ZXh0LWRlc2NyaXB0aW9uIiwzLCJwLXRvb2x0aXAiXSxbImRlc2NyaXB0aW9uIiwiIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiZtbygwLFd5LDQsMywiZGl2IiwwKSwyJnQmJmJvKCJuZ0lmIixlLmhhc1NlcmllVmFsdWUpfSxkaXJlY3RpdmVzOlthaCx1aCxPYl0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksdH0pKCksaEM9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGxDe2NvbnN0cnVjdG9yKHQsZSxuLHIscyl7c3VwZXIobixyLHMpLHRoaXMuY2hhbmdlRGV0ZWN0aW9uPXQsdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI9ZSx0aGlzLmNoYXJ0SXRlbVN0YXJ0QW5nbGU9aUMsdGhpcy5fc2VyaWVzPVtdfXNldCBzZXJpZXModCl7dGhpcy5fc2VyaWVzPXRoaXMuZ2V0R2F1Z2VTZXJpZSh0KX1nZXQgc2VyaWVzKCl7cmV0dXJuIHRoaXMuX3Nlcmllc31uZ0FmdGVyVmlld0luaXQoKXt0aGlzLmRyYXdCYXNlUGF0aCgpLHRoaXMuY3JlYXRlQ29tcG9uZW50KCl9Y3JlYXRlQ29tcG9uZW50KCl7Y29uc3QgdD10aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh1QyksZT10aGlzLnN2Z0NvbnRhaW5lclJlZi5jcmVhdGVDb21wb25lbnQodCkuaW5zdGFuY2U7ZS5zZXJpZT10aGlzLnNlcmllcy5sZW5ndGgmJnRoaXMuc2VyaWVzWzBdLGUuZ2F1Z2VXaWR0aD10aGlzLmdldEdhdWdlQmFzZVdpZHRoKCksdGhpcy5yZXNpemVMaXN0ZW5lclN1YnNjcmlwdGlvbihlKX1jaGVja0dhdWdlVmFsdWVMaW1pdHModCl7cmV0dXJuIHQ8PTA/MDp0Pj0xMDA/MTAwOnR9ZHJhd0Jhc2VQYXRoKCl7Y29uc3QgdD10aGlzLmVsLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcigiLnBvLWNoYXJ0LWdhdWdlLWJhc2UtcGF0aCIpO3RoaXMuZHJhd1BhdGgodCx0aGlzLmNoYXJ0SXRlbVN0YXJ0QW5nbGUsMCl9Z2V0R2F1Z2VCYXNlV2lkdGgoKXtjb25zdCB0PXRoaXMuZWwubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCIucG8tY2hhcnQtZ2F1Z2UtYmFzZS1wYXRoIik7aWYodClyZXR1cm4gdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aH1nZXRHYXVnZVNlcmllKHQ9W10pe2NvbnN0W2VdPXQ7cmV0dXJuIGUmJiJvYmplY3QiPT10eXBlb2YgZT9bT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtjb2xvcjp0aGlzLmNvbG9yc1swXSx2YWx1ZTp0aGlzLmNoZWNrR2F1Z2VWYWx1ZUxpbWl0cyhlLnZhbHVlKX0pXTpbXX1yZXNpemVMaXN0ZW5lclN1YnNjcmlwdGlvbih0KXt0aGlzLndpbmRvd1Jlc2l6ZUVtaXR0ZXIuc3Vic2NyaWJlKCgpPT57dC5nYXVnZVdpZHRoPXRoaXMuZ2V0R2F1Z2VCYXNlV2lkdGgoKSx0aGlzLmNoYW5nZURldGVjdGlvbi5kZXRlY3RDaGFuZ2VzKCl9KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodm8oZWMpLHZvKFNhKSx2byhrYSksdm8oeWwpLHZvKE9hKSl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWNoYXJ0LWdhdWdlIl1dLHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmVWMoenksNyxwYyksMiZ0KXtsZXQgdDskYyh0PVdjKCkpJiYoZS5zdmdDb250YWluZXJSZWY9dC5maXJzdCl9fSxmZWF0dXJlczpbdG9dLGRlY2xzOjUsdmFyczoxLGNvbnN0czpbWzEsInBvLWNoYXJ0LWJvZHkiXSxbImNoYXJ0Qm9keSIsIiJdLFsxLCJwby1jaGFydC1zdmctY29udGFpbmVyIl0sWyJzdmdDb250YWluZXIiLCIiXSxbImNsYXNzIiwicG8tY2hhcnQtdG9vbHRpcCBwby10b29sdGlwIHBvLWludmlzaWJsZSIsNCwibmdJZiJdLFsxLCJwby1jaGFydC10b29sdGlwIiwicG8tdG9vbHRpcCIsInBvLWludmlzaWJsZSJdLFsidG9vbHRpcEVsZW1lbnQiLCIiXSxbMSwicG8tdG9vbHRpcC1hcnJvdyIsInBvLWFycm93LWJvdHRvbSJdLFsxLCJwby10b29sdGlwLWNvbnRlbnQiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJih3bygwLCJkaXYiLDAsMSksRG8oMiwiZGl2IiwyLDMpLG1vKDQsR3ksNSwxLCJkaXYiLDQpLF9vKCkpLDImdCYmKCRzKDQpLGJvKCJuZ0lmIiwhZS5pc0NoYXJ0R2F1Z2VUeXBlKSl9LGRpcmVjdGl2ZXM6W2FoXSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxkQz0oKCk9PntjbGFzcyB0IGV4dGVuZHMgbkN7Y29uc3RydWN0b3IodCxlLG4scixzLGksbyl7c3VwZXIodCksdGhpcy5jb2xvclNlcnZpY2U9dCx0aGlzLmNoYW5nZURldGVjdG9yPWUsdGhpcy5jb250YWluZXJTZXJ2aWNlPW4sdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI9cix0aGlzLmVsZW1lbnRSZWY9cyx0aGlzLm1hdGhzU2VydmljZT1pLHRoaXMucmVuZGVyZXI9byx0aGlzLmNhbGN1bGF0ZWRDb21wb25lbnRSZWZFbGVtZW50PSExLHRoaXMuY2FsY3VsYXRlZFN2Z0NvbnRhaW5lckVsZW1lbnQ9ITEsdGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLndpbmRvd1Jlc2l6ZUxpc3RlbmVyPW5ldyBELHRoaXMuc3Vic2NyaXB0aW9uPW5ldyBoLHRoaXMubWFwcGluZ3M9e1tNYi5HYXVnZV06aEN9LHRoaXMub25SZXNpemU9KCk9Pnt0aGlzLmdldFN2Z0NvbnRhaW5lclNpemUoKSx0aGlzLndpbmRvd1Jlc2l6ZUxpc3RlbmVyLm5leHQoKX19Z2V0IGlzQ2hhcnRHYXVnZVR5cGUoKXtyZXR1cm4gdGhpcy50eXBlPT09TWIuR2F1Z2V9bmdBZnRlclZpZXdJbml0KCl7dGhpcy5pbml0aWFsaXplZD0hMCx0aGlzLmdldFN2Z0NvbnRhaW5lclNpemUoKX1uZ0RvQ2hlY2soKXtjb25zdCB0PXRoaXMuY2hhcnRXcmFwcGVyLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGgsZT10aGlzLmdldENvbXBvbmVudFR5cGUodGhpcy50eXBlKTt0JiZ0aGlzLmluaXRpYWxpemVkJiYoZXx8dGhpcy5jYWxjdWxhdGVkU3ZnQ29udGFpbmVyRWxlbWVudD9lJiYhdGhpcy5jYWxjdWxhdGVkQ29tcG9uZW50UmVmRWxlbWVudCYmKHRoaXMuZHluYW1pY0NvbXBvbmVudFNldHRpbmcoKSx0aGlzLmNhbGN1bGF0ZWRDb21wb25lbnRSZWZFbGVtZW50PSEwKToodGhpcy5nZXRTdmdDb250YWluZXJTaXplKCksdGhpcy5jYWxjdWxhdGVkU3ZnQ29udGFpbmVyRWxlbWVudD0hMCkpfW5nT25EZXN0cm95KCl7dGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSx0aGlzLnJlbW92ZVdpbmRvd1Jlc2l6ZUxpc3RlbmVyKCl9cmVzaXplQWN0aW9uKCl7dGhpcy5nZXRTdmdDb250YWluZXJTaXplKCksdGhpcy53aW5kb3dSZXNpemVMaXN0ZW5lci5uZXh0KCksdGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCl9bmdPbkluaXQoKXt0aGlzLmdldFN2Z0NvbnRhaW5lclNpemUoKX1yZWJ1aWxkQ29tcG9uZW50UmVmKCl7dGhpcy5jb21wb25lbnRSZWYmJih0aGlzLmNvbXBvbmVudFJlZi5kZXN0cm95KCksdGhpcy5pc0NoYXJ0R2F1Z2VUeXBlJiZ0aGlzLmR5bmFtaWNDb21wb25lbnRTZXR0aW5nKCkpfWNhbGN1bGF0ZUF4aXNYTGFiZWxBcmVhKCl7cmV0dXJuIHRoaXMuZ2V0QXhpc1hMYWJlbEFyZWEodGhpcy5tYXRoc1NlcnZpY2UuZ2V0TG9uZ2VzdERhdGFWYWx1ZSh0aGlzLmNoYXJ0VHlwZT09PU1iLkJhcj90aGlzLmNhdGVnb3JpZXM6dGhpcy5jaGFydFNlcmllcyx0aGlzLmNoYXJ0VHlwZSx0aGlzLm9wdGlvbnMpKX1nZXRTdmdDb250YWluZXJTaXplKCl7bGV0IHQ7Y29uc3R7Y2hhcnRIZWFkZXJIZWlnaHQ6ZSxjaGFydExlZ2VuZEhlaWdodDpuLGNoYXJ0V3JhcHBlcldpZHRoOnJ9PXRoaXMuZ2V0Q2hhcnRNZWFzdXJlbWVudHMoKTt0aGlzLmlzVHlwZUNpcmN1bGFyfHwodD10aGlzLmNhbGN1bGF0ZUF4aXNYTGFiZWxBcmVhKCkpLHRoaXMuc3ZnQ29udGFpbmVyU2l6ZT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5jb250YWluZXJTZXJ2aWNlLmNhbGN1bGF0ZVNWR0NvbnRhaW5lck1lYXN1cmVtZW50cyh0aGlzLmhlaWdodCxyLGUsbikpLHtheGlzWExhYmVsV2lkdGg6dH0pfWNoYXJ0TGVnZW5kSGVpZ2h0KHQpe3JldHVybiB0P3QubmF0aXZlRWxlbWVudC5vZmZzZXRIZWlnaHQ6MH1jcmVhdGVDb21wb25lbnQoKXtjb25zdCB0PXRoaXMuZ2V0Q29tcG9uZW50VHlwZSh0aGlzLnR5cGUpLGU9dGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodCk7dGhpcy5jb21wb25lbnRSZWY9dGhpcy5jaGFydENvbnRhaW5lci5jcmVhdGVDb21wb25lbnQoZSk7Y29uc3Qgbj10aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZTtyZXR1cm4gdGhpcy5zZXRDb21wb25lbnRSZWZQcm9wZXJ0aWVzKG4pLG59ZHluYW1pY0NvbXBvbmVudFNldHRpbmcoKXtjb25zdCB0PXRoaXMuY3JlYXRlQ29tcG9uZW50KCk7dGhpcy5zZXRSZXNpemVMaXN0ZW5lclN1YnNjcmliZSh0KSx0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKSx0aGlzLnNldENsaWNrU3Vic2NyaWJlKHQpLHRoaXMuc2V0SG92ZXJTdWJzY3JpYmUodCl9Z2V0QXhpc1hMYWJlbEFyZWEodCl7Y29uc3QgZT10aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoInNwYW4iKTt0aGlzLnJlbmRlcmVyLmFkZENsYXNzKGUsInBvLWNoYXJ0LWF4aXMteC1sYWJlbCIpLGUuaW5uZXJIVE1MPXQsdGhpcy5yZW5kZXJlci5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCxlKTtjb25zdCBuPU1hdGguY2VpbChlLm9mZnNldFdpZHRoKSs4O3JldHVybiB0aGlzLnJlbmRlcmVyLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LGUpLG4+NTY/bjo1Nn1nZXRDb21wb25lbnRUeXBlKHQpe3JldHVybiB0aGlzLm1hcHBpbmdzW3RdfWdldENoYXJ0TWVhc3VyZW1lbnRzKCl7cmV0dXJue2NoYXJ0V3JhcHBlcldpZHRoOnRoaXMuY2hhcnRXcmFwcGVyLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGgsY2hhcnRIZWFkZXJIZWlnaHQ6dGhpcy5jaGFydEhlYWRlci5uYXRpdmVFbGVtZW50Lm9mZnNldEhlaWdodCxjaGFydExlZ2VuZEhlaWdodDp0aGlzLmNoYXJ0TGVnZW5kSGVpZ2h0KHRoaXMuY2hhcnRMZWdlbmQpfX1yZW1vdmVXaW5kb3dSZXNpemVMaXN0ZW5lcigpe3RoaXMub25SZXNpemUmJih0aGlzLm9uUmVzaXplPSgpPT57fSl9c2V0Q29tcG9uZW50UmVmUHJvcGVydGllcyh0KXtjb25zdHtjaGFydEhlYWRlckhlaWdodDplLGNoYXJ0TGVnZW5kSGVpZ2h0Om4sY2hhcnRXcmFwcGVyV2lkdGg6cn09dGhpcy5nZXRDaGFydE1lYXN1cmVtZW50cygpO3QuY2hhcnRIZWFkZXI9ZSx0LmNoYXJ0TGVnZW5kPW4sdC5jaGFydFdyYXBwZXI9cix0LmNvbG9ycz1RYlswXSx0LmhlaWdodD10aGlzLmhlaWdodCx0LnR5cGU9dGhpcy50eXBlLHQuc2VyaWVzPXRoaXMuY2hhcnRTZXJpZXN8fFtdfXNldENsaWNrU3Vic2NyaWJlKHQpe3RoaXMuc3Vic2NyaXB0aW9uLmFkZCh0Lm9uU2VyaWVDbGljay5zdWJzY3JpYmUodD0+e3RoaXMub25TZXJpZXNDbGljayh0KX0pKX1zZXRIb3ZlclN1YnNjcmliZSh0KXt0aGlzLnN1YnNjcmlwdGlvbi5hZGQodC5vblNlcmllSG92ZXIuc3Vic2NyaWJlKHQ9Pnt0aGlzLm9uU2VyaWVzSG92ZXIodCl9KSl9c2V0UmVzaXplTGlzdGVuZXJTdWJzY3JpYmUodCl7dGhpcy5zdWJzY3JpcHRpb24uYWRkKHRoaXMud2luZG93UmVzaXplTGlzdGVuZXIuc3Vic2NyaWJlKCgpPT57Y29uc3QgZT10aGlzLmdldENoYXJ0TWVhc3VyZW1lbnRzKCk7dC5jaGFydFdyYXBwZXI9ZS5jaGFydFdyYXBwZXJXaWR0aCx0LmNoYXJ0SGVhZGVyPWUuY2hhcnRIZWFkZXJIZWlnaHQsdC5jaGFydExlZ2VuZD1lLmNoYXJ0TGVnZW5kSGVpZ2h0fSkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh2byhlQyksdm8oZWMpLHZvKHJDKSx2byhTYSksdm8oa2EpLHZvKHpiKSx2byhPYSkpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1jaGFydCJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJihVYyhxeSw3LHBjKSxVYyhYeSw3KSxVYyhZeSw1LGthKSxVYyhaeSw3KSksMiZ0KXtsZXQgdDskYyh0PVdjKCkpJiYoZS5jaGFydENvbnRhaW5lcj10LmZpcnN0KSwkYyh0PVdjKCkpJiYoZS5jaGFydEhlYWRlcj10LmZpcnN0KSwkYyh0PVdjKCkpJiYoZS5jaGFydExlZ2VuZD10LmZpcnN0KSwkYyh0PVdjKCkpJiYoZS5jaGFydFdyYXBwZXI9dC5maXJzdCl9fSxob3N0QmluZGluZ3M6ZnVuY3Rpb24odCxlKXsxJnQmJmtvKCJyZXNpemUiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25SZXNpemUoKX0sITEsdHMpfSxmZWF0dXJlczpbdG9dLGRlY2xzOjEyLHZhcnM6Myxjb25zdHM6W1sxLCJwby1jaGFydC13cmFwcGVyIiwzLCJwLXJlc2l6ZS1vYnNlcnZlciJdLFsiY2hhcnRXcmFwcGVyIiwiIl0sWzEsInBvLWNoYXJ0LWhlYWRlciJdLFsiY2hhcnRIZWFkZXIiLCIiXSxbMSwicG8tY2hhcnQtdGl0bGUiXSxbMywicC1vcHRpb25zIiwicC10eXBlIiwicC1zZXJpZXMiLCJwLWNhdGVnb3JpZXMiLCJwLWNvbnRhaW5lci1zaXplIiwicC1zZXJpZS1jbGljayIsInAtc2VyaWUtaG92ZXIiLDQsIm5nSWYiXSxbImNoYXJ0Q29udGFpbmVyIiwiIl0sWzQsIm5nSWYiXSxbImNoYXJ0TGVnZW5kR3JvdXAiLCIiXSxbMywicC1vcHRpb25zIiwicC10eXBlIiwicC1zZXJpZXMiLCJwLWNhdGVnb3JpZXMiLCJwLWNvbnRhaW5lci1zaXplIiwicC1zZXJpZS1jbGljayIsInAtc2VyaWUtaG92ZXIiXSxbNCwibmdUZW1wbGF0ZU91dGxldCJdLFszLCJwLXNlcmllcyIsInAtdHlwZSJdLFsiY2hhcnRMZWdlbmQiLCIiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJih3bygwLCJkaXYiLDAsMSksa28oInAtcmVzaXplLW9ic2VydmVyIixmdW5jdGlvbigpe3JldHVybiBlLnJlc2l6ZUFjdGlvbigpfSksd28oMiwiZGl2IiwyLDMpLHdvKDQsImRpdiIsNCksbmEoNSksX28oKSxfbygpLG1vKDYsUXksMSw1LCJwby1jaGFydC1jb250YWluZXIiLDUpLG1vKDcsS3ksMCwwLCJuZy10ZW1wbGF0ZSIsbnVsbCw2LFljKSxtbyg5LHR2LDIsMSwiZGl2Iiw3KSxfbygpLG1vKDEwLGV2LDIsMiwibmctdGVtcGxhdGUiLG51bGwsOCxZYykpLDImdCYmKCRzKDUpLHJhKGUudGl0bGUpLCRzKDEpLGJvKCJuZ0lmIiwhZS5pc0NoYXJ0R2F1Z2VUeXBlKSwkcygzKSxibygibmdJZiIsIWUuaXNDaGFydEdhdWdlVHlwZSYmITEhPT0obnVsbD09ZS5vcHRpb25zP251bGw6ZS5vcHRpb25zLmxlZ2VuZCkpKX0sZGlyZWN0aXZlczpmdW5jdGlvbigpe3JldHVybltTQyxhaCxwQyxoaCxmQ119LGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLHBDPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5tYXRoc1NlcnZpY2U9dCx0aGlzLnNlcmllQ2xpY2s9bmV3IEljLHRoaXMuc2VyaWVIb3Zlcj1uZXcgSWMsdGhpcy5fc2VyaWVzPVtdfXNldCBvcHRpb25zKHQpe3QgaW5zdGFuY2VvZiBPYmplY3QmJiEodCBpbnN0YW5jZW9mIEFycmF5KSYmKHRoaXMuX29wdGlvbnM9dCx0aGlzLnZlcmlmeUF4aXNPcHRpb25zKHRoaXMuX29wdGlvbnMpKX1nZXQgb3B0aW9ucygpe3JldHVybiB0aGlzLl9vcHRpb25zfXNldCBzZXJpZXModCl7dGhpcy5fc2VyaWVzPXQsdGhpcy5zZXRBbGlnbkJ5VGhlQ29ybmVycyh0aGlzLl9zZXJpZXMpLHRoaXMuc2V0U2VyaWVzQnlUeXBlKHRoaXMuX3NlcmllcyksdGhpcy5zZXRSYW5nZSh0aGlzLl9zZXJpZXMsdGhpcy5vcHRpb25zKX1nZXQgc2VyaWVzKCl7cmV0dXJuIHRoaXMuX3Nlcmllc31nZXQgaXNUeXBlQ2lyY3VsYXIoKXtyZXR1cm4gdGhpcy50eXBlPT09TWIuUGllfHx0aGlzLnR5cGU9PT1NYi5Eb251dH1uZ09uQ2hhbmdlcyh0KXsodC50eXBlfHx0LmNvbnRhaW5lclNpemUpJiYodGhpcy5zZXRWaWV3Qm94KCksdGhpcy5zZXRTdmdTcGFjZSgpKX1nZXRDYXRlZ29yaWVzQ29vcmRpbmF0ZXModCl7dGhpcy5jYXRlZ29yaWVzQ29vcmRpbmF0ZXM9dH1vblNlcmllQ2xpY2sodCl7dGhpcy5zZXJpZUNsaWNrLmVtaXQodCl9b25TZXJpZUhvdmVyKHQpe3RoaXMuc2VyaWVIb3Zlci5lbWl0KHQpfWdldFJhbmdlKHQsZT17fSl7dmFyIG4scixzO2NvbnN0IGk9dGhpcy5tYXRoc1NlcnZpY2UuY2FsY3VsYXRlTWluQW5kTWF4VmFsdWVzKHQpLG89e21pblZhbHVlOiEobnVsbD09PShuPWUuYXhpcyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ubWluUmFuZ2UpJiZpLm1pblZhbHVlPjA/MDoobnVsbD09PShyPWUuYXhpcyl8fHZvaWQgMD09PXI/dm9pZCAwOnIubWluUmFuZ2UpPGkubWluVmFsdWU/ZS5heGlzLm1pblJhbmdlOmkubWluVmFsdWUsbWF4VmFsdWU6KG51bGw9PT0ocz1lLmF4aXMpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLm1heFJhbmdlKT5pLm1heFZhbHVlP2UuYXhpcy5tYXhSYW5nZTppLm1heFZhbHVlfTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGkpLG8pfXNldFN2Z1NwYWNlKCl7dmFyIHQ7Y29uc3QgZT10aGlzLnN2Z0VMZW1lbnQubmF0aXZlRWxlbWVudC5jcmVhdGVTVkdQb2ludCgpLG49bnVsbD09PSh0PXRoaXMuc3ZnRUxlbWVudC5uYXRpdmVFbGVtZW50LmdldFNjcmVlbkNUTSgpKXx8dm9pZCAwPT09dD92b2lkIDA6dC5pbnZlcnNlKCk7dGhpcy5zdmdTcGFjZT17c3ZnUG9pbnQ6ZSxzdmdEb21NYXRyaXg6bn19c2V0QWxpZ25CeVRoZUNvcm5lcnModCl7dGhpcy5hbGlnbkJ5VGhlQ29ybmVycz10LmV2ZXJ5KHQ9PnQudHlwZT09PU1iLkFyZWF8fHQudHlwZT09PU1iLkJhcil9c2V0UmFuZ2UodCxlPXt9KXt0aGlzLmlzVHlwZUNpcmN1bGFyfHwodGhpcy5yYW5nZT10aGlzLmdldFJhbmdlKHQsZSkpfXNldFNlcmllc0J5VHlwZSh0KXt0aGlzLnNlcmllc0J5VHlwZT17W01iLkFyZWFdOnQuZmlsdGVyKHQ9PnQudHlwZT09PU1iLkFyZWEpLFtNYi5Db2x1bW5dOnQuZmlsdGVyKHQ9PnQudHlwZT09PU1iLkNvbHVtbiksW01iLkJhcl06dC5maWx0ZXIodD0+dC50eXBlPT09TWIuQmFyKSxbTWIuTGluZV06dC5maWx0ZXIodD0+dC50eXBlPT09TWIuTGluZSksW01iLkRvbnV0XTp0LmZpbHRlcih0PT50LnR5cGU9PT1NYi5Eb251dCksW01iLlBpZV06dC5maWx0ZXIodD0+dC50eXBlPT09TWIuUGllKX19c2V0Vmlld0JveCgpe2NvbnN0e3N2Z1dpZHRoOnQsc3ZnSGVpZ2h0OmV9PXRoaXMuY29udGFpbmVyU2l6ZTt0aGlzLnZpZXdCb3g9YDEgLTEgJHt0aGlzLmlzVHlwZUNpcmN1bGFyP2U6dH0gJHt0aGlzLmNvbnRhaW5lclNpemUuc3ZnSGVpZ2h0fWB9dmVyaWZ5QXhpc09wdGlvbnModCl7IXRoaXMuaXNUeXBlQ2lyY3VsYXImJnQuaGFzT3duUHJvcGVydHkoImF4aXMiKSYmKHRoaXMucmFuZ2U9dGhpcy5nZXRSYW5nZSh0aGlzLnNlcmllcyx0aGlzLm9wdGlvbnMpLHRoaXMuYXhpc09wdGlvbnM9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuYXhpc09wdGlvbnMpLHQuYXhpcykpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh2byh6YikpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1jaGFydC1jb250YWluZXIiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZVYyhudiw3KSwyJnQpe2xldCB0OyRjKHQ9V2MoKSkmJihlLnN2Z0VMZW1lbnQ9dC5maXJzdCl9fSxpbnB1dHM6e29wdGlvbnM6WyJwLW9wdGlvbnMiLCJvcHRpb25zIl0sc2VyaWVzOlsicC1zZXJpZXMiLCJzZXJpZXMiXSxjYXRlZ29yaWVzOlsicC1jYXRlZ29yaWVzIiwiY2F0ZWdvcmllcyJdLHR5cGU6WyJwLXR5cGUiLCJ0eXBlIl0sY29udGFpbmVyU2l6ZTpbInAtY29udGFpbmVyLXNpemUiLCJjb250YWluZXJTaXplIl19LG91dHB1dHM6e3NlcmllQ2xpY2s6InAtc2VyaWUtY2xpY2siLHNlcmllSG92ZXI6InAtc2VyaWUtaG92ZXIifSxmZWF0dXJlczpbY2VdLGRlY2xzOjksdmFyczoxMCxjb25zdHM6W1sicHJlc2VydmVBc3BlY3RSYXRpbyIsInhNaWRZTWluIG1lZXQiLDEsInBvLWNoYXJ0LXN2Zy1lbGVtZW50Il0sWyJzdmdFTGVtZW50IiwiIl0sWyJwby1jaGFydC1heGlzIiwiIiwzLCJwLWFsaWduLWJ5LXRoZS1jb3JuZXJzIiwicC1yYW5nZSIsInAtdHlwZSIsInAtc2VyaWVzIiwicC1jb250YWluZXItc2l6ZSIsInAtb3B0aW9ucyIsInAtY2F0ZWdvcmllcyIsInAtY2F0ZWdvcmllcy1jb29yZGluYXRlcyIsNCwibmdJZiJdLFsicG8tY2hhcnQtYXJlYSIsIiIsMywicC1hbGlnbi1ieS10aGUtY29ybmVycyIsInAtc3ZnLXNwYWNlIiwicC1jYXRlZ29yaWVzIiwicC1jYXRlZ29yaWVzLWNvb3JkaW5hdGVzIiwicC1yYW5nZSIsInAtc2VyaWVzIiwicC1jb250YWluZXItc2l6ZSIsInAtYmFyLWhvdmVyIiwicC1iYXItY2xpY2siLDQsIm5nSWYiXSxbInBvLWNoYXJ0LWNvbHVtbiIsIiIsMywicC1jYXRlZ29yaWVzIiwicC1yYW5nZSIsInAtc2VyaWVzIiwicC1jb250YWluZXItc2l6ZSIsInAtYmFyLWhvdmVyIiwicC1iYXItY2xpY2siLDQsIm5nSWYiXSxbInBvLWNoYXJ0LWxpbmUiLCIiLDMsInAtY2F0ZWdvcmllcyIsInAtcmFuZ2UiLCJwLXNlcmllcyIsInAtY29udGFpbmVyLXNpemUiLCJwLXBvaW50LWhvdmVyIiwicC1wb2ludC1jbGljayIsNCwibmdJZiJdLFsicG8tY2hhcnQtYmFyIiwiIiwzLCJwLWNhdGVnb3JpZXMiLCJwLXJhbmdlIiwicC1zZXJpZXMiLCJwLWNvbnRhaW5lci1zaXplIiwicC1iYXItaG92ZXIiLCJwLWJhci1jbGljayIsNCwibmdJZiJdLFsicG8tY2hhcnQtcGllIiwiIiwzLCJwLXNlcmllcyIsInAtY29udGFpbmVyLXNpemUiLCJwLWNpcmN1bGFyLWhvdmVyIiwicC1jaXJjdWxhci1jbGljayIsNCwibmdJZiJdLFsicG8tY2hhcnQtZG9udXQiLCIiLDMsInAtb3B0aW9ucyIsInAtc2VyaWVzIiwicC1jb250YWluZXItc2l6ZSIsInAtY2lyY3VsYXItaG92ZXIiLCJwLWNpcmN1bGFyLWNsaWNrIiw0LCJuZ0lmIl0sWyJwby1jaGFydC1heGlzIiwiIiwzLCJwLWFsaWduLWJ5LXRoZS1jb3JuZXJzIiwicC1yYW5nZSIsInAtdHlwZSIsInAtc2VyaWVzIiwicC1jb250YWluZXItc2l6ZSIsInAtb3B0aW9ucyIsInAtY2F0ZWdvcmllcyIsInAtY2F0ZWdvcmllcy1jb29yZGluYXRlcyJdLFsicG8tY2hhcnQtYXJlYSIsIiIsMywicC1hbGlnbi1ieS10aGUtY29ybmVycyIsInAtc3ZnLXNwYWNlIiwicC1jYXRlZ29yaWVzIiwicC1jYXRlZ29yaWVzLWNvb3JkaW5hdGVzIiwicC1yYW5nZSIsInAtc2VyaWVzIiwicC1jb250YWluZXItc2l6ZSIsInAtYmFyLWhvdmVyIiwicC1iYXItY2xpY2siXSxbInBvLWNoYXJ0LWNvbHVtbiIsIiIsMywicC1jYXRlZ29yaWVzIiwicC1yYW5nZSIsInAtc2VyaWVzIiwicC1jb250YWluZXItc2l6ZSIsInAtYmFyLWhvdmVyIiwicC1iYXItY2xpY2siXSxbInBvLWNoYXJ0LWxpbmUiLCIiLDMsInAtY2F0ZWdvcmllcyIsInAtcmFuZ2UiLCJwLXNlcmllcyIsInAtY29udGFpbmVyLXNpemUiLCJwLXBvaW50LWhvdmVyIiwicC1wb2ludC1jbGljayJdLFsicG8tY2hhcnQtYmFyIiwiIiwzLCJwLWNhdGVnb3JpZXMiLCJwLXJhbmdlIiwicC1zZXJpZXMiLCJwLWNvbnRhaW5lci1zaXplIiwicC1iYXItaG92ZXIiLCJwLWJhci1jbGljayJdLFsicG8tY2hhcnQtcGllIiwiIiwzLCJwLXNlcmllcyIsInAtY29udGFpbmVyLXNpemUiLCJwLWNpcmN1bGFyLWhvdmVyIiwicC1jaXJjdWxhci1jbGljayJdLFsicG8tY2hhcnQtZG9udXQiLCIiLDMsInAtb3B0aW9ucyIsInAtc2VyaWVzIiwicC1jb250YWluZXItc2l6ZSIsInAtY2lyY3VsYXItaG92ZXIiLCJwLWNpcmN1bGFyLWNsaWNrIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoYW4oKSx3bygwLCJzdmciLDAsMSksbW8oMixydiwxLDcsImciLDIpLG1vKDMsc3YsMSw3LCJnIiwzKSxtbyg0LGl2LDEsNCwiZyIsNCksbW8oNSxvdiwxLDQsImciLDUpLG1vKDYsYXYsMSw0LCJnIiw2KSxtbyg3LGN2LDEsMiwiZyIsNyksbW8oOCxsdiwxLDMsImciLDgpLF9vKCkpLDImdCYmKGZvKCJ2aWV3Qm94IixlLnZpZXdCb3gpKCJ3aWR0aCIsZS5jb250YWluZXJTaXplLnN2Z1dpZHRoKSgiaGVpZ2h0IixlLmNvbnRhaW5lclNpemUuc3ZnSGVpZ2h0KSwkcygyKSxibygibmdJZiIsIWUuaXNUeXBlQ2lyY3VsYXIpLCRzKDEpLGJvKCJuZ0lmIiwoImFyZWEiPT09ZS50eXBlfHwibGluZSI9PT1lLnR5cGV8fCJjb2x1bW4iPT09ZS50eXBlKSYmZS5zZXJpZXNCeVR5cGUuYXJlYS5sZW5ndGgpLCRzKDEpLGJvKCJuZ0lmIiwoImFyZWEiPT09ZS50eXBlfHwibGluZSI9PT1lLnR5cGV8fCJjb2x1bW4iPT09ZS50eXBlKSYmZS5zZXJpZXNCeVR5cGUuY29sdW1uLmxlbmd0aCksJHMoMSksYm8oIm5nSWYiLCgiYXJlYSI9PT1lLnR5cGV8fCJsaW5lIj09PWUudHlwZXx8ImNvbHVtbiI9PT1lLnR5cGUpJiZlLnNlcmllc0J5VHlwZS5saW5lLmxlbmd0aCksJHMoMSksYm8oIm5nSWYiLCJiYXIiPT09ZS50eXBlKSwkcygxKSxibygibmdJZiIsInBpZSI9PT1lLnR5cGUpLCRzKDEpLGJvKCJuZ0lmIiwiZG9udXQiPT09ZS50eXBlKSl9LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5bYWgsV2IsVWIsWmIsZ0MsWWIsQ0Msd0NdfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxmQz0oKCk9PntjbGFzcyB0e3NldCBzZXJpZXModCl7dGhpcy5fc2VyaWVzPXR9Z2V0IHNlcmllcygpe3JldHVybiB0aGlzLl9zZXJpZXN9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1jaGFydC1sZWdlbmQiXV0saW5wdXRzOntzZXJpZXM6WyJwLXNlcmllcyIsInNlcmllcyJdLHR5cGU6WyJwLXR5cGUiLCJ0eXBlIl19LGRlY2xzOjMsdmFyczoxLGNvbnN0czpbWzEsInBvLWNoYXJ0LWxlZ2VuZCJdLFsxLCJwby1jaGFydC1sZWdlbmQtY29udGFpbmVyIl0sWyJjbGFzcyIsInBvLWNoYXJ0LWxlZ2VuZC1pdGVtIiw0LCJuZ0ZvciIsIm5nRm9yT2YiXSxbMSwicG8tY2hhcnQtbGVnZW5kLWl0ZW0iXSxbMSwicG8tY2hhcnQtbGVnZW5kLXNxdWFyZSJdLFsxLCJwby1jaGFydC1sZWdlbmQtdGV4dCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKHdvKDAsImRpdiIsMCksd28oMSwiZGl2IiwxKSxtbygyLHV2LDQsNSwiZGl2IiwyKSxfbygpLF9vKCkpLDImdCYmKCRzKDIpLGJvKCJuZ0Zvck9mIixlLnNlcmllcykpfSxkaXJlY3RpdmVzOltpaF0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksdH0pKCksZ0M9KCgpPT57Y2xhc3MgdCBleHRlbmRzICRie2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0LGUsbiksdGhpcy5tYXRoc1NlcnZpY2U9dCx0aGlzLnJlbmRlcmVyPWUsdGhpcy5lbGVtZW50UmVmPW59b25FbnRlcih0KXtyZXR1cm4gbnVsbH1vbkxlYXZlKHQpe3JldHVybiBudWxsfW9uU2VyaWVQb2ludEhvdmVyKHQpe2NvbnN0e3JlbGF0aXZlVG86ZX09dCxuPW55KHQsWyJyZWxhdGl2ZVRvIl0pO3RoaXMucmVvcmRlclNWR0dyb3VwKGUpLHRoaXMucG9pbnRIb3Zlci5lbWl0KG4pfXJlb3JkZXJTVkdHcm91cCh0KXtjb25zdCBlPXRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3R9YCk7dGhpcy5hbmltYXRlPSExLHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy5jaGFydExpbmUubmF0aXZlRWxlbWVudCxlWzBdKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodm8oemIpLHZvKE9hKSx2byhrYSkpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyIiLCJwby1jaGFydC1saW5lIiwiIl1dLGZlYXR1cmVzOlt0b10sYXR0cnM6aHYsZGVjbHM6Myx2YXJzOjIsY29uc3RzOltbImNoYXJ0TGluZSIsIiJdLFszLCJjbGFzcyIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIiw0LCJuZ0ZvciIsIm5nRm9yT2YiLCJuZ0ZvclRyYWNrQnkiXSxbMywibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiXSxbInBvLWNoYXJ0LXBhdGgiLCIiLDMsInAtY2hhcnQtbGluZSIsInAtYW5pbWF0ZSIsInAtY29sb3IiLCJwLWNvb3JkaW5hdGVzIiwicC1pcy1hY3RpdmUiXSxbInBvLWNoYXJ0LXNlcmllcy1wb2ludCIsIiIsMywicC1hbmltYXRlIiwicC1jaGFydC1saW5lIiwicC1jb2xvciIsInAtY29vcmRpbmF0ZXMiLCJwLWlzLWFjdGl2ZSIsInAtcmVsYXRpdmUtdG8iLCJwLXBvaW50LWNsaWNrIiwicC1wb2ludC1ob3ZlciJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKGFuKCksd28oMCwiZyIsbnVsbCwwKSxtbygyLGR2LDMsMTUsImciLDEpLF9vKCkpLDImdCYmKCRzKDIpLGJvKCJuZ0Zvck9mIixlLnNlcmllc1BhdGhzQ29vcmRpbmF0ZXMpKCJuZ0ZvclRyYWNrQnkiLGUudHJhY2tCeSkpfSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW2loLHlDLHZDXX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksbUM9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuYmFyQ2xpY2s9bmV3IEljLHRoaXMuYmFySG92ZXI9bmV3IEljfXRyYWNrQnkodCl7cmV0dXJuIHR9b25DbGljayh0KXt0aGlzLmJhckNsaWNrLmVtaXQoe2xhYmVsOnQubGFiZWwsZGF0YTp0LmRhdGEsY2F0ZWdvcnk6dC5jYXRlZ29yeX0pfW9uTW91c2VFbnRlcih0KXt0aGlzLmJhckhvdmVyLmVtaXQoe2xhYmVsOnQubGFiZWwsZGF0YTp0LmRhdGEsY2F0ZWdvcnk6dC5jYXRlZ29yeX0pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwicG8tY2hhcnQtYmFyLXBhdGgiLCIiXV0saW5wdXRzOntjb2xvcjpbInAtY29sb3IiLCJjb2xvciJdLGNvb3JkaW5hdGVzOlsicC1jb29yZGluYXRlcyIsImNvb3JkaW5hdGVzIl0sdG9vbHRpcFBvc2l0aW9uOlsicC10b29sdGlwLXBvc2l0aW9uIiwidG9vbHRpcFBvc2l0aW9uIl19LG91dHB1dHM6e2JhckNsaWNrOiJwLWJhci1jbGljayIsYmFySG92ZXI6InAtYmFyLWhvdmVyIn0sYXR0cnM6cHYsZGVjbHM6MSx2YXJzOjIsY29uc3RzOltbImNsYXNzIiwicG8tY2hhcnQtYmFyLXBhdGgiLDMsInAtdG9vbHRpcCIsInAtdG9vbHRpcC1wb3NpdGlvbiIsInAtYXBwZW5kLWluLWJvZHkiLCJjbGFzcyIsIm1vdXNlZW50ZXIiLCJjbGljayIsNCwibmdGb3IiLCJuZ0Zvck9mIiwibmdGb3JUcmFja0J5Il0sWzEsInBvLWNoYXJ0LWJhci1wYXRoIiwzLCJwLXRvb2x0aXAiLCJwLXRvb2x0aXAtcG9zaXRpb24iLCJwLWFwcGVuZC1pbi1ib2R5IiwibW91c2VlbnRlciIsImNsaWNrIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiZtbygwLGZ2LDEsNywicGF0aCIsMCksMiZ0JiZibygibmdGb3JPZiIsZS5jb29yZGluYXRlcykoIm5nRm9yVHJhY2tCeSIsZS50cmFja0J5KX0sZGlyZWN0aXZlczpbaWgsT2JdLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLHlDPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5jaGFuZ2VEZXRlY3Rvcj10LHRoaXMuaXNBY3RpdmU9ITAsdGhpcy5jaGFydExpbmU9ITF9c2V0IGNvbG9yKHQpe3RoaXMuX2NvbG9yPXQuaW5jbHVkZXMoInBvLWNvbG9yIikmJnRoaXMuY2hhcnRMaW5lP3QucmVwbGFjZSgicG8tY29sb3IiLCJwby1ib3JkZXItY29sb3IiKTp0fWdldCBjb2xvcigpe3JldHVybiB0aGlzLl9jb2xvcn1zZXQgYW5pbWF0ZSh0KXt0aGlzLl9hbmltYXRlPXQsdGhpcy5hbmltYXRlfHwodGhpcy5wYXRoV2lkdGg9MCl9Z2V0IGFuaW1hdGUoKXtyZXR1cm4gdGhpcy5fYW5pbWF0ZX1uZ0FmdGVyVmlld0luaXQoKXtzYigpfHx0aGlzLnBhdGhBbmltYXRpb24oKX1wYXRoQW5pbWF0aW9uKCl7dGhpcy5wYXRoV2lkdGg9dGhpcy5jaGFydFBhdGgubmF0aXZlRWxlbWVudC5nZXRUb3RhbExlbmd0aCgpLHRoaXMuY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpLHNldFRpbWVvdXQodGhpcy5wcmV2ZW50c0FuaW1hdGluZ0FnYWluLmJpbmQodGhpcyksNzAwKX1wcmV2ZW50c0FuaW1hdGluZ0FnYWluKCl7dGhpcy5wYXRoV2lkdGg9MH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodm8oZWMpKX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwicG8tY2hhcnQtcGF0aCIsIiJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJlVjKGd2LDcpLDImdCl7bGV0IHQ7JGModD1XYygpKSYmKGUuY2hhcnRQYXRoPXQuZmlyc3QpfX0saW5wdXRzOntpc0FjdGl2ZTpbInAtaXMtYWN0aXZlIiwiaXNBY3RpdmUiXSxjaGFydExpbmU6WyJwLWNoYXJ0LWxpbmUiLCJjaGFydExpbmUiXSxjb2xvcjpbInAtY29sb3IiLCJjb2xvciJdLGFuaW1hdGU6WyJwLWFuaW1hdGUiLCJhbmltYXRlIl0sY29vcmRpbmF0ZXM6WyJwLWNvb3JkaW5hdGVzIiwiY29vcmRpbmF0ZXMiXX0sYXR0cnM6bXYsZGVjbHM6Mix2YXJzOjExLGNvbnN0czpbWzEsInBvLWNoYXJ0LXBhdGgiXSxbImNoYXJ0UGF0aCIsIiJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKGFuKCksRG8oMCwicGF0aCIsMCwxKSksMiZ0JiYoVW8obnVsbCE9ZS5jb2xvciYmZS5jb2xvci5pbmNsdWRlcygicG8tYm9yZGVyLWNvbG9yIil8fG51bGwhPWUuY29sb3ImJmUuY29sb3IuaW5jbHVkZXMoInBvLWNvbG9yIik/ZS5jb2xvcjoiIiksJG8oInBvLWNoYXJ0LWFjdGl2ZS1wYXRoIixlLmlzQWN0aXZlKSgicG8tY2hhcnQtbGluZS1wYXRoIixlLmNoYXJ0TGluZSksZm8oImZpbGwiLGUuY2hhcnRMaW5lPyJub25lIjplLmNvbG9yKSgic3Ryb2tlLWRhc2hhcnJheSIsZS5wYXRoV2lkdGgpKCJzdHJva2UtZGFzaG9mZnNldCIsZS5wYXRoV2lkdGgpKCJzdHJva2UiLGUuY2hhcnRMaW5lP2UuY29sb3I6IiIpKCJkIixlLmNvb3JkaW5hdGVzKSl9LGVuY2Fwc3VsYXRpb246Mn0pLHJ5KFtfYigpXSx0LnByb3RvdHlwZSwiaXNBY3RpdmUiLHZvaWQgMCkscnkoW19iKCldLHQucHJvdG90eXBlLCJjaGFydExpbmUiLHZvaWQgMCksdH0pKCksdkM9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucmVuZGVyZXI9dCx0aGlzLmVsZW1lbnRSZWY9ZSx0aGlzLmNoYXJ0TGluZT0hMSx0aGlzLnBvaW50Q2xpY2s9bmV3IEljLHRoaXMucG9pbnRIb3Zlcj1uZXcgSWMsdGhpcy5yYWRpdXM9NSx0aGlzLl9jb29yZGluYXRlcz1bXSx0aGlzLmFuaW1hdGlvblN0YXRlPSEwfXNldCBjb2xvcih0KXt0aGlzLnN0cm9rZUNvbG9yPXQuaW5jbHVkZXMoInBvLWNvbG9yIik/dC5yZXBsYWNlKCJwby1jb2xvciIsInBvLWJvcmRlci1jb2xvciIpOnQsdGhpcy5fY29sb3I9dH1nZXQgY29sb3IoKXtyZXR1cm4gdGhpcy5fY29sb3J9c2V0IGNvb3JkaW5hdGVzKHQpe3RoaXMuX2Nvb3JkaW5hdGVzPXQsdGhpcy5jb29yZGluYXRlcyQ9dGhpcy5kaXNwbGF5UG9pbnRzV2l0aERlbGF5KHRoaXMuX2Nvb3JkaW5hdGVzKX1nZXQgY29vcmRpbmF0ZXMoKXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZXN9dHJhY2tCeSh0KXtyZXR1cm4gdH1vbkNsaWNrKHQpe3RoaXMucG9pbnRDbGljay5lbWl0KHtsYWJlbDp0LmxhYmVsLGRhdGE6dC5kYXRhLGNhdGVnb3J5OnQuY2F0ZWdvcnl9KX1vbk1vdXNlRW50ZXIodCxlKXt0aGlzLnNldFBvaW50QXR0cmlidXRlKHQudGFyZ2V0LCEwKSx0aGlzLnBvaW50SG92ZXIuZW1pdChPYmplY3QuYXNzaWduKHtyZWxhdGl2ZVRvOnRoaXMucmVsYXRpdmVUb30se2xhYmVsOmUubGFiZWwsZGF0YTplLmRhdGEsY2F0ZWdvcnk6ZS5jYXRlZ29yeX0pKX1vbk1vdXNlTGVhdmUodCl7dGhpcy5zZXRQb2ludEF0dHJpYnV0ZSh0LnRhcmdldCwhMSl9ZGlzcGxheVBvaW50c1dpdGhEZWxheSh0KXtpZih0aGlzLmFuaW1hdGlvblN0YXRlJiYhc2IoKSl7Y29uc3QgZT03MDAvdC5sZW5ndGg7cmV0dXJuIEIodCkucGlwZSh1cCgodCxuKT0+e3JldHVybiBCZCgwIT09biYmdGhpcy5hbmltYXRlP2U6MCkucGlwZSgocj10LHQ9PnQubGlmdChuZXcgaHkocikpKSk7dmFyIHJ9KSxlcCgodCxlKT0+dC5jb25jYXQoZSksW10pLERwKCgpPT50aGlzLmFuaW1hdGlvblN0YXRlPSExKSl9cmV0dXJuIEIoW3RdKX1zZXRQb2ludEF0dHJpYnV0ZSh0LGUpe3RoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHQsInIiLGU/MTAuLnRvU3RyaW5nKCk6NS4udG9TdHJpbmcoKSksdGhpcy5jb2xvci5pbmNsdWRlcygicG8tY29sb3IiKT90aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZSh0LCJjbGFzcyIsZT9gJHt0aGlzLnN0cm9rZUNvbG9yfSAke3RoaXMuY29sb3J9YDpgcG8tY2hhcnQtbGluZS1wb2ludCBwby1jaGFydC1hY3RpdmUtcG9pbnQgJHt0aGlzLnN0cm9rZUNvbG9yfWApOnRoaXMucmVuZGVyZXJbZT8ic2V0U3R5bGUiOiJyZW1vdmVTdHlsZSJdKHQsImZpbGwiLGU/dGhpcy5jb2xvcjp2b2lkIDApfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh2byhPYSksdm8oa2EpKX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwicG8tY2hhcnQtc2VyaWVzLXBvaW50IiwiIl1dLGlucHV0czp7Y2hhcnRMaW5lOlsicC1jaGFydC1saW5lIiwiY2hhcnRMaW5lIl0sY29sb3I6WyJwLWNvbG9yIiwiY29sb3IiXSxjb29yZGluYXRlczpbInAtY29vcmRpbmF0ZXMiLCJjb29yZGluYXRlcyJdLGFuaW1hdGU6WyJwLWFuaW1hdGUiLCJhbmltYXRlIl0saXNBY3RpdmU6WyJwLWlzLWFjdGl2ZSIsImlzQWN0aXZlIl0scmVsYXRpdmVUbzpbInAtcmVsYXRpdmUtdG8iLCJyZWxhdGl2ZVRvIl19LG91dHB1dHM6e3BvaW50Q2xpY2s6InAtcG9pbnQtY2xpY2siLHBvaW50SG92ZXI6InAtcG9pbnQtaG92ZXIifSxhdHRyczp5dixkZWNsczoyLHZhcnM6NCxjb25zdHM6W1sicC10b29sdGlwLXBvc2l0aW9uIiwidG9wIiwiY2xhc3MiLCJwby1jaGFydC1saW5lLXBvaW50IiwzLCJwLXRvb2x0aXAiLCJwLWFwcGVuZC1pbi1ib2R5IiwicC1kaXNwbGF5LXRvb2x0aXAiLCJjbGFzcyIsInBvLWNoYXJ0LWFjdGl2ZS1wb2ludCIsImNsaWNrIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLDQsIm5nRm9yIiwibmdGb3JPZiIsIm5nRm9yVHJhY2tCeSJdLFsicC10b29sdGlwLXBvc2l0aW9uIiwidG9wIiwxLCJwby1jaGFydC1saW5lLXBvaW50IiwzLCJwLXRvb2x0aXAiLCJwLWFwcGVuZC1pbi1ib2R5IiwicC1kaXNwbGF5LXRvb2x0aXAiLCJjbGljayIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYobW8oMCx2diwxLDExLCJjaXJjbGUiLDApLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1PZSgpO2xldCByO24uZmlyc3RDcmVhdGVQYXNzPyhyPWZ1bmN0aW9uKHQsZSl7aWYoZSlmb3IobGV0IG49ZS5sZW5ndGgtMTtuPj0wO24tLSl7Y29uc3Qgcj1lW25dO2lmKHQ9PT1yLm5hbWUpcmV0dXJuIHJ9dGhyb3cgbmV3IGF0KCIzMDIiLCJUaGUgcGlwZSAnYXN5bmMnIGNvdWxkIG5vdCBiZSBmb3VuZCEiKX0oImFzeW5jIixuLnBpcGVSZWdpc3RyeSksbi5kYXRhWzIxXT1yLHIub25EZXN0cm95JiYobi5kZXN0cm95SG9va3N8fChuLmRlc3Ryb3lIb29rcz1bXSkpLnB1c2goMjEsci5vbkRlc3Ryb3kpKTpyPW4uZGF0YVsyMV07Y29uc3Qgcz1yLmZhY3Rvcnl8fChyLmZhY3Rvcnk9b2Uoci50eXBlKSksaT1fdCh2byk7dHJ5e2NvbnN0IHQ9U24oITEpLGU9cygpO1NuKHQpLGZ1bmN0aW9uKHQsZSxuLHIpezIxPj10LmRhdGEubGVuZ3RoJiYodC5kYXRhWzIxXT1udWxsLHQuYmx1ZXByaW50WzIxXT1udWxsKSxlWzIxXT1yfShuLEllKCksMCxlKX1maW5hbGx5e190KGkpfX0oKSksMiZ0JiZibygibmdGb3JPZiIsZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9dCtLdCxzPUllKCksaT1fZShzLHIpO3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiBhby5pc1dyYXBwZWQoZSkmJihlPWFvLnVud3JhcChlKSx0W3plKCldPXpzKSxlfShzLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMV0uZGF0YVtlXS5wdXJlfShzLHIpP2Z1bmN0aW9uKHQsZSxuLHIscyxpKXtjb25zdCBvPWUrbjtyZXR1cm4gaG8odCxvLHMpP3VvKHQsbysxLGk/ci5jYWxsKGkscyk6cihzKSk6a2ModCxvKzEpfShzLFZlKCksZSxpLnRyYW5zZm9ybSxuLGkpOmkudHJhbnNmb3JtKG4pKX0oMSwyLGUuY29vcmRpbmF0ZXMkKSkoIm5nRm9yVHJhY2tCeSIsZS50cmFja0J5KX0sZGlyZWN0aXZlczpbaWgsT2JdLHBpcGVzOlt5aF0sZW5jYXBzdWxhdGlvbjoyfSkscnkoW19iKCldLHQucHJvdG90eXBlLCJpc0FjdGl2ZSIsdm9pZCAwKSxyeShbX2IoKV0sdC5wcm90b3R5cGUsImNoYXJ0TGluZSIsdm9pZCAwKSx0fSkoKSxiQz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5uZ1pvbmU9dCx0aGlzLmNoYW5nZURldGVjdG9yPWUsdGhpcy5jaXJjdWxhckNsaWNrPW5ldyBJYyx0aGlzLmNpcmN1bGFySG92ZXI9bmV3IEljLHRoaXMuY2FuRGlzcGxheUxhYmVscz0hMSx0aGlzLnNlcmllc0xhYmVscz1bXSx0aGlzLnNob3dMYWJlbHM9ITF9c2V0IG9wdGlvbnModCl7aXNOYU4obnVsbD09dD92b2lkIDA6dC5pbm5lclJhZGl1cyl8fCh0aGlzLl9vcHRpb25zPXQsdGhpcy5pbm5lclJhZGl1cz1NYXRoLm1pbihNYXRoLm1heCh0aGlzLl9vcHRpb25zLmlubmVyUmFkaXVzLDApLDEwMCkpfWdldCBvcHRpb25zKCl7cmV0dXJuIHRoaXMuX29wdGlvbnN9c2V0IHNlcmllcyh0KXt0aGlzLl9zZXJpZXM9dCx0aGlzLmFuaW1hdGU9ITB9Z2V0IHNlcmllcygpe3JldHVybiB0aGlzLl9zZXJpZXN9b25TZXJpZUNsaWNrKHQpe3RoaXMuY2lyY3VsYXJDbGljay5lbWl0KHQpfW9uU2VyaWVIb3Zlcih0KXt0aGlzLmNpcmN1bGFySG92ZXIuZW1pdCh0KX1jYWxjdWxhdGVBbmdsZSh0LGUpe3JldHVybiB0L2UqKDIqTWF0aC5QSSl9ZHJhd1Nlcmllcyh0PVtdLGUpe3RoaXMuc2VyaWVzTGlzdD1bXSx0aGlzLnNob3dMYWJlbHM9ITEsdGhpcy50b3RhbFZhbHVlPXRoaXMuY2FsY3VsYXRlVG90YWxWYWx1ZSh0KSx0aGlzLnRvdGFsVmFsdWUmJnRoaXMudG90YWxWYWx1ZT4wJiYodGhpcy5zZXJpZXNMaXN0PXRoaXMudmFsaWRhdGVTZXJpZXModCksdGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCksdGhpcy5zZXJpZXNMaXN0Lmxlbmd0aCYmdGhpcy5zdmdQYXRocyYmdGhpcy5pbml0RHJhd1BhdGhzKHRoaXMuc2VyaWVzTGlzdCx0aGlzLnRvdGFsVmFsdWUsZSkpfWNhbGN1bGF0ZVRvdGFsVmFsdWUodCl7cmV0dXJuIHQucmVkdWNlKCh0LGUpPT57Y29uc3Qgbj1lLmRhdGE/ZS5kYXRhOmUudmFsdWU7cmV0dXJuIHQrKG4+MD9uOjApfSwwKX1jYWxjdWxhdGVTZXJpZUNvb3JkaW5hdGVzKHQsZSxuKXtsZXQgcixzPU5iO3QuZm9yRWFjaCgodCxpKT0+e3I9cyxzPXIrdGhpcy5jYWxjdWxhdGVBbmdsZSh0LmRhdGEsZSktSGI7Y29uc3Qgbz10aGlzLmNhbGN1bGF0ZUNvb3JkaW5hdGVzKG4scixzKTt0aGlzLnN2Z1BhdGhzLnRvQXJyYXkoKVtpXS5hcHBseUNvb3JkaW5hdGVzKG8pLHRoaXMuc2hvd0xhYmVscz10aGlzLmNhbkRpc3BsYXlMYWJlbHN9KX1jYWxjdWxhdGVDb29yZGluYXRlc1dpdGhBbmltYXRpb24odCxlLG4scixzLGk9MCxvPTApe2NvbnN0IGE9aT5zO2lmKG89PT10Lmxlbmd0aCl0aGlzLmFuaW1hdGU9ITE7ZWxzZXtpZihhKXRoaXMuc2V0U2VyaWVMYWJlbENvb3JkaW5hdGVzKG8pLGk9MCxyKz1zLHM9KytvPHQubGVuZ3RoP3RoaXMuY2FsY3VsYXRlQW5nbGUodFtvXS5kYXRhLGUpOnZvaWQgMDtlbHNle2NvbnN0IHQ9dGhpcy5jYWxjdWxhdGVDdXJyZW50RW5kQW5nbGUoaSs9VmIscixzKSxlPXRoaXMuY2FsY3VsYXRlQ29vcmRpbmF0ZXMobixyLHQpO3RoaXMuc3ZnUGF0aHMudG9BcnJheSgpW29dLmFwcGx5Q29vcmRpbmF0ZXMoZSl9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmNhbGN1bGF0ZUNvb3JkaW5hdGVzV2l0aEFuaW1hdGlvbi5iaW5kKHRoaXMsdCxlLG4scixzLGksbykpfX1jYWxjdWxhdGVDdXJyZW50RW5kQW5nbGUodCxlLG4pe3JldHVybiBlK3Q+ZStuP2Urbi1IYjplK3R9aW5pdERyYXdQYXRocyh0LGUsbil7aWYodGhpcy5hbmltYXRlKXtjb25zdCByPU5iLHM9dGhpcy5jYWxjdWxhdGVBbmdsZSh0WzBdLmRhdGEsZSk7dGhpcy5uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PnRoaXMuY2FsY3VsYXRlQ29vcmRpbmF0ZXNXaXRoQW5pbWF0aW9uKHQsZSxuLHIscykpfWVsc2UgdGhpcy5jYWxjdWxhdGVTZXJpZUNvb3JkaW5hdGVzKHQsZSxuKX1zZXRTZXJpZUxhYmVsQ29vcmRpbmF0ZXModCl7dGhpcy5zdmdMYWJlbHMudG9BcnJheSgpLmxlbmd0aCYmdGhpcy5zdmdMYWJlbHMudG9BcnJheSgpW3RdLmFwcGx5Q29vcmRpbmF0ZXModGhpcy5zZXJpZXNMYWJlbHNbdF0pfXZhbGlkYXRlU2VyaWVzKHQpe3JldHVybiB0LnJlZHVjZSgodCxlKT0+e3ZhciBuO2NvbnN0IHI9bnVsbCE9PShuPWUuZGF0YSkmJnZvaWQgMCE9PW4/bjplLnZhbHVlO2lmKHImJnI+MCl7Y29uc3Qgbj1lLmNvbG9yLHM9ZS5sYWJlbCxpPXRoaXMuZ2V0VG9vbHRpcExhYmVsKHIscyxlLnRvb2x0aXApO3Q9Wy4uLnQse2RhdGE6cixjb2xvcjpuLGxhYmVsOnMsdG9vbHRpcExhYmVsOml9XX1yZXR1cm4gdH0sW10pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh2byh5bCksdm8oZWMpKX0sdC5cdTAyNzVkaXI9WHQoe3R5cGU6dCx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJihVYyhidiw1KSxVYyhDdiw1KSksMiZ0KXtsZXQgdDskYyh0PVdjKCkpJiYoZS5zdmdQYXRocz10KSwkYyh0PVdjKCkpJiYoZS5zdmdMYWJlbHM9dCl9fSxpbnB1dHM6e29wdGlvbnM6WyJwLW9wdGlvbnMiLCJvcHRpb25zIl0sc2VyaWVzOlsicC1zZXJpZXMiLCJzZXJpZXMiXSxjb250YWluZXJTaXplOlsicC1jb250YWluZXItc2l6ZSIsImNvbnRhaW5lclNpemUiXX0sb3V0cHV0czp7Y2lyY3VsYXJDbGljazoicC1jaXJjdWxhci1jbGljayIsY2lyY3VsYXJIb3ZlcjoicC1jaXJjdWxhci1ob3ZlciJ9fSksdH0pKCksQ0M9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGJDe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxlKX1uZ09uQ2hhbmdlcyh0KXsodC5zZXJpZXN8fHQuY29udGFpbmVyU2l6ZSkmJnRoaXMuZHJhd1Nlcmllcyh0aGlzLnNlcmllcyx0aGlzLmNvbnRhaW5lclNpemUuc3ZnSGVpZ2h0KX1jYWxjdWxhdGVDb29yZGluYXRlcyh0LGUsbil7Y29uc3Qgcj10LzIscz1NYXRoLnNpbihlKSxpPU1hdGguY29zKGUpLG89TWF0aC5zaW4obiksYT1NYXRoLmNvcyhuKTtyZXR1cm5bIk0iLHIraSpyLHIrcypyLCJBIixyLHIsMCxuLWU+TWF0aC5QST8iMSwxIjoiMCwxIixyK2EqcixyK28qciwiTCIscixyLCJaIl0uam9pbigiICIpfWdldFRvb2x0aXBMYWJlbCh0LGUsbil7Y29uc3Qgcj1lP2Ake2V9OiBgOiIiLHM9dC50b1N0cmluZygpO3JldHVybiBufHxgJHtyfSR7c31gfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh2byh5bCksdm8oZWMpKX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwicG8tY2hhcnQtcGllIiwiIl1dLGZlYXR1cmVzOlt0byxjZV0sYXR0cnM6d3YsZGVjbHM6Myx2YXJzOjIsY29uc3RzOltbNCwibmdGb3IiLCJuZ0Zvck9mIl0sWzQsIm5nSWYiXSxbInBvLWNoYXJ0LWNpcmN1bGFyLXBhdGgiLCIiLDMsInAtc2VyaWUiLCJwLW9uLWNsaWNrIiwicC1vbi1ob3ZlciJdLFsic3ZnUGF0aHMiLCIiXSxbInBvLWNoYXJ0LWNpcmN1bGFyLWxhYmVsIiwiIiwzLCJwLXNlcmllIiwicC1zaG93LWxhYmVsIl0sWyJzdmdMYWJlbHMiLCIiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihhbigpLHdvKDAsImciKSxtbygxLF92LDMsMiwiZyIsMCksbW8oMixFdiwyLDEsImciLDEpLF9vKCkpLDImdCYmKCRzKDEpLGJvKCJuZ0Zvck9mIixlLnNlcmllc0xpc3QpLCRzKDEpLGJvKCJuZ0lmIixlLmNhbkRpc3BsYXlMYWJlbHMpKX0sZGlyZWN0aXZlczpmdW5jdGlvbigpe3JldHVybltpaCxhaCxEQyxfQ119LGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLHdDPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBiQ3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSksdGhpcy5wb0NoYXJ0QmxhY2tDb2xvcj0iIzAwMDAwMCIsdGhpcy5wb0NoYXJ0V2hpdGVDb2xvcj0iI2ZmZmZmZiJ9bmdPbkNoYW5nZXModCl7KHQuc2VyaWVzfHx0LmNvbnRhaW5lclNpemV8fHQub3B0aW9ucykmJih0aGlzLmRyYXdTZXJpZXModGhpcy5zZXJpZXMsdGhpcy5jb250YWluZXJTaXplLnN2Z0hlaWdodCksdGhpcy5hcHBseVNlcmllc0xhYmVscyh0aGlzLnNlcmllc0xpc3QsdGhpcy5jb250YWluZXJTaXplLnN2Z0hlaWdodCkpfWNhbGN1bGF0ZUNvb3JkaW5hdGVzKHQsZSxuKXtjb25zdCByPXQvMixzPXRoaXMuZ2V0SW5uZXJSYWRpdXMociksaT1NYXRoLnNpbihlKSxvPU1hdGguY29zKGUpLGE9TWF0aC5zaW4obiksYz1NYXRoLmNvcyhuKSxsPXIrbypyLHU9citpKnIsaD1yK2MqcixkPXIrYSpyLHA9citvKnMsZj1yK2kqcyxnPXIrYypzLG09cithKnMseT1uLWU+TWF0aC5QSTtyZXR1cm4gdGhpcy52ZXJpZnlEaXNwbGF5TGFiZWxzKHIscyksWyJNIixsLHUsIkEiLHIsciwwLHk/IjEsMSI6IjAsMSIsaCxkLCJMIixnLG0sIkEiLHMscywwLHk/IjEsMCI6IjAsMCIscCxmLCJaIl0uam9pbigiICIpfWdldFRvb2x0aXBMYWJlbCh0LGUsbil7Y29uc3Qgcj1lP2Ake2V9OiBgOiIiLHM9dGhpcy5nZXRQZXJjZW50VmFsdWUodCx0aGlzLnRvdGFsVmFsdWUpKyIlIjtyZXR1cm4gbnx8YCR7cn0ke3N9YH1hcHBseVNlcmllc0xhYmVscyh0LGUpe2xldCBuPU5iLHI9TmI7dGhpcy5zZXJpZXNMYWJlbHM9dC5tYXAodD0+e249cixyPW4rdGhpcy5jYWxjdWxhdGVBbmdsZSh0LmRhdGEsdGhpcy50b3RhbFZhbHVlKTtjb25zdCBzPXRoaXMuZ2V0UGVyY2VudFZhbHVlKHQuZGF0YSx0aGlzLnRvdGFsVmFsdWUpKyIlICIsaT10aGlzLmdldFRleHRDb2xvcih0LmNvbG9yKSxvPXRoaXMuY2FsY3VsYXRlTGFiZWxDb29yZGluYXRlcyhlLG4scik7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxvKSx7bGFiZWw6cyxjb2xvcjppfSl9KX1jYWxjdWxhdGVMYWJlbENvb3JkaW5hdGVzKHQsZSxuKXtjb25zdCByPXQvMixzPXRoaXMuZ2V0SW5uZXJSYWRpdXMociksaT0oZStuKS8yLG89cysoci1zKS8yO3JldHVybnt4Q29vcmRpbmF0ZTpvKk1hdGguY29zKGkpK3IseUNvb3JkaW5hdGU6bypNYXRoLnNpbihpKStyfX1nZXRJbm5lclJhZGl1cyh0KXtyZXR1cm4gdGhpcy5pbm5lclJhZGl1cz49MD90aGlzLmlubmVyUmFkaXVzLzEwMCp0OnQtNDB9Z2V0UGVyY2VudFZhbHVlKHQsZSl7Y29uc3Qgbj1pYih0L2UqMTAwLDIpO3JldHVybiBTdHJpbmcobikucmVwbGFjZSgiLiIsIiwiKX1nZXRUZXh0Q29sb3IodCl7cmV0dXJuIEtiLmluY2x1ZGVzKHQpP3RoaXMucG9DaGFydEJsYWNrQ29sb3I6dGhpcy5wb0NoYXJ0V2hpdGVDb2xvcn12ZXJpZnlEaXNwbGF5TGFiZWxzKHQsZSl7dGhpcy5jYW5EaXNwbGF5TGFiZWxzPXQtZT49dC0odC00MCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKHlsKSx2byhlYykpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyIiLCJwby1jaGFydC1kb251dCIsIiJdXSxmZWF0dXJlczpbdG8sY2VdLGF0dHJzOlN2LGRlY2xzOjMsdmFyczoyLGNvbnN0czpbWzQsIm5nRm9yIiwibmdGb3JPZiJdLFs0LCJuZ0lmIl0sWyJwby1jaGFydC1jaXJjdWxhci1wYXRoIiwiIiwzLCJwLXNlcmllIiwicC1vbi1jbGljayIsInAtb24taG92ZXIiXSxbInN2Z1BhdGhzIiwiIl0sWyJwby1jaGFydC1jaXJjdWxhci1sYWJlbCIsIiIsMywicC1zZXJpZSIsInAtc2hvdy1sYWJlbCJdLFsic3ZnTGFiZWxzIiwiIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoYW4oKSx3bygwLCJnIiksbW8oMSx4diwzLDIsImciLDApLG1vKDIsVHYsMiwxLCJnIiwxKSxfbygpKSwyJnQmJigkcygxKSxibygibmdGb3JPZiIsZS5zZXJpZXNMaXN0KSwkcygxKSxibygibmdJZiIsZS5jYW5EaXNwbGF5TGFiZWxzKSl9LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5baWgsYWgsREMsX0NdfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxfQz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5jaGFuZ2VEZXRlY3Rpb249dCx0aGlzLnJlbmRlcmVyPWV9YXBwbHlDb29yZGluYXRlcyh0KXt0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZSh0aGlzLnN2Z0xhYmVsLm5hdGl2ZUVsZW1lbnQsIngiLHQueENvb3JkaW5hdGUudG9TdHJpbmcoKSksdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodGhpcy5zdmdMYWJlbC5uYXRpdmVFbGVtZW50LCJ5Iix0LnlDb29yZGluYXRlLnRvU3RyaW5nKCkpLHRoaXMuc2hvd0xhYmVsPSEwLHRoaXMuY2hhbmdlRGV0ZWN0aW9uLmRldGVjdENoYW5nZXMoKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodm8oZWMpLHZvKE9hKSl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsInBvLWNoYXJ0LWNpcmN1bGFyLWxhYmVsIiwiIl1dLHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmVWMoa3YsNSxrYSksMiZ0KXtsZXQgdDskYyh0PVdjKCkpJiYoZS5zdmdMYWJlbD10LmZpcnN0KX19LGlucHV0czp7c2hvd0xhYmVsOlsicC1zaG93LWxhYmVsIiwic2hvd0xhYmVsIl0sc2VyaWU6WyJwLXNlcmllIiwic2VyaWUiXX0sYXR0cnM6RnYsZGVjbHM6Myx2YXJzOjYsY29uc3RzOltbImRvbWluYW50LWJhc2VsaW5lIiwibWlkZGxlIiwxLCJwby1jaGFydC1sYWJlbCJdLFsic3ZnTGFiZWwiLCIiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihhbigpLHdvKDAsInRleHQiLDAsMSksbmEoMiksX28oKSksMiZ0JiYoJG8oInBvLWludmlzaWJsZSIsIWUuc2hvd0xhYmVsKSxmbygiZmlsbCIsbnVsbD09ZS5zZXJpZT9udWxsOmUuc2VyaWUuY29sb3IpKCJ4IixudWxsPT1lLnNlcmllP251bGw6ZS5zZXJpZS54Q29vcmRpbmF0ZSkoInkiLG51bGw9PWUuc2VyaWU/bnVsbDplLnNlcmllLnlDb29yZGluYXRlKSwkcygyKSxzYSgiICIsbnVsbD09ZS5zZXJpZT9udWxsOmUuc2VyaWUubGFiZWwsIlxuIikpfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxEQz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMucmVuZGVyZXI9dCx0aGlzLm9uQ2xpY2s9bmV3IEljLHRoaXMub25Ib3Zlcj1uZXcgSWN9YXBwbHlDb29yZGluYXRlcyh0KXt0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZSh0aGlzLnN2Z1BhdGgubmF0aXZlRWxlbWVudCwiZCIsdCl9b25Nb3VzZUNsaWNrKCl7Y29uc3R7bGFiZWw6dCxkYXRhOmV9PXRoaXMuc2VyaWU7dGhpcy5vbkNsaWNrLmVtaXQoe2xhYmVsOnQsZGF0YTplfSl9b25Nb3VzZUVudGVyKCl7Y29uc3R7bGFiZWw6dCxkYXRhOmV9PXRoaXMuc2VyaWU7dGhpcy5vbkhvdmVyLmVtaXQoe2xhYmVsOnQsZGF0YTplfSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKE9hKSl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsInBvLWNoYXJ0LWNpcmN1bGFyLXBhdGgiLCIiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZVYyhJdiw1LGthKSwyJnQpe2xldCB0OyRjKHQ9V2MoKSkmJihlLnN2Z1BhdGg9dC5maXJzdCl9fSxpbnB1dHM6e3NlcmllOlsicC1zZXJpZSIsInNlcmllIl19LG91dHB1dHM6e29uQ2xpY2s6InAtb24tY2xpY2siLG9uSG92ZXI6InAtb24taG92ZXIifSxhdHRyczpPdixkZWNsczoyLHZhcnM6NCxjb25zdHM6W1sxLCJwby1wYXRoLWl0ZW0iLDMsInAtY2hhcnQtdG9vbHRpcCIsImNsaWNrIiwibW91c2VlbnRlciJdLFsic3ZnUGF0aCIsIiJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKGFuKCksd28oMCwicGF0aCIsMCwxKSxrbygiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25Nb3VzZUNsaWNrKCl9KSgibW91c2VlbnRlciIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vbk1vdXNlRW50ZXIoKX0pLF9vKCkpLDImdCYmKFVvKG51bGwhPWUuc2VyaWUmJmUuc2VyaWUuY29sb3IuaW5jbHVkZXMoInBvLWNvbG9yIik/ZS5zZXJpZS5jb2xvcjoiIiksYm8oInAtY2hhcnQtdG9vbHRpcCIsbnVsbD09ZS5zZXJpZT9udWxsOmUuc2VyaWUudG9vbHRpcExhYmVsKSxmbygiZmlsbCIsbnVsbD09ZS5zZXJpZT9udWxsOmUuc2VyaWUuY29sb3IpKX0sZGlyZWN0aXZlczpmdW5jdGlvbigpe3JldHVybltFQ119LGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLEVDPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLmVsZW1lbnRSZWY9dCx0aGlzLnJlbmRlcmVyPWV9b25Nb3VzZUVudGVyKHQpe3RoaXMudG9vbHRpcEVsZW1lbnQ/dGhpcy5zaG93VG9vbHRpcCgpOnRoaXMuY3JlYXRlVG9vbHRpcCgpLHRoaXMudG9vbHRpcFBvc2l0aW9uKHQpLHRoaXMubGFzdFRvb2x0aXBUZXh0PXRoaXMudG9vbHRpcH1vbk1vdXNlTGVhdmUoKXt0aGlzLmhpZGVUb29sdGlwKCl9b25Nb3VzZU1vdmUodCl7dGhpcy50b29sdGlwUG9zaXRpb24odCl9Y2FsY3VsYXRlVG9vbHRpcFBvc2l0aW9uKHQpe3JldHVybntsZWZ0OnQuY2xpZW50WC10aGlzLnRvb2x0aXBFbGVtZW50Lm9mZnNldFdpZHRoLzIsdG9wOnQuY2xpZW50WS10aGlzLnRvb2x0aXBFbGVtZW50Lm9mZnNldEhlaWdodC0xMn19Y3JlYXRlVG9vbHRpcCgpe2NvbnN0IHQ9dGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuY2xvc2VzdCgiLnBvLWNoYXJ0LXdyYXBwZXIiKTt0aGlzLnRvb2x0aXBFbGVtZW50PXRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLnRvb2x0aXBFbGVtZW50LCJwby1jaGFydC10b29sdGlwIiksdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLnRvb2x0aXBFbGVtZW50LCJwby10b29sdGlwIik7Y29uc3QgZT10aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMucmVuZGVyZXIuYWRkQ2xhc3MoZSwicG8tdG9vbHRpcC1hcnJvdyIpLHRoaXMucmVuZGVyZXIuYWRkQ2xhc3MoZSwicG8tYXJyb3ctYm90dG9tIiksdGhpcy50b29sdGlwVGV4dD10aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoInAiKSx0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMudG9vbHRpcFRleHQsInBvLXRvb2x0aXAtY29udGVudCIpLHRoaXMudG9vbHRpcFRleHRDb250ZW50PXRoaXMucmVuZGVyZXIuY3JlYXRlVGV4dCh0aGlzLnRvb2x0aXApLHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwVGV4dCx0aGlzLnRvb2x0aXBUZXh0Q29udGVudCksdGhpcy5yZW5kZXJlci5hcHBlbmRDaGlsZCh0aGlzLnRvb2x0aXBFbGVtZW50LGUpLHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwRWxlbWVudCx0aGlzLnRvb2x0aXBUZXh0KSx0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHQsdGhpcy50b29sdGlwRWxlbWVudCl9aGlkZVRvb2x0aXAoKXt0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMudG9vbHRpcEVsZW1lbnQsInBvLWludmlzaWJsZSIpfXNob3dUb29sdGlwKCl7dGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLnRvb2x0aXBFbGVtZW50LCJwby1pbnZpc2libGUiKSx0aGlzLnVwZGF0ZXRvb2x0aXBUZXh0Q29udGVudCgpfXRvb2x0aXBQb3NpdGlvbih0KXtjb25zdCBlPXRoaXMuY2FsY3VsYXRlVG9vbHRpcFBvc2l0aW9uKHQpO3RoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy50b29sdGlwRWxlbWVudCwibGVmdCIsYCR7ZS5sZWZ0fXB4YCksdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLnRvb2x0aXBFbGVtZW50LCJ0b3AiLGAke2UudG9wfXB4YCl9dXBkYXRldG9vbHRpcFRleHRDb250ZW50KCl7dGhpcy5sYXN0VG9vbHRpcFRleHQhPT10aGlzLnRvb2x0aXAmJih0aGlzLnJlbmRlcmVyLnJlbW92ZUNoaWxkKHRoaXMudG9vbHRpcFRleHQsdGhpcy50b29sdGlwVGV4dENvbnRlbnQpLHRoaXMudG9vbHRpcFRleHRDb250ZW50PXRoaXMucmVuZGVyZXIuY3JlYXRlVGV4dCh0aGlzLnRvb2x0aXApLHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwVGV4dCx0aGlzLnRvb2x0aXBUZXh0Q29udGVudCkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh2byhrYSksdm8oT2EpKX0sdC5cdTAyNzVkaXI9WHQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwicC1jaGFydC10b29sdGlwIiwiIl1dLGhvc3RCaW5kaW5nczpmdW5jdGlvbih0LGUpezEmdCYma28oIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VFbnRlcih0KX0pKCJtb3VzZWxlYXZlIixmdW5jdGlvbigpe3JldHVybiBlLm9uTW91c2VMZWF2ZSgpfSkoIm1vdXNlbW92ZSIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25Nb3VzZU1vdmUodCl9KX0saW5wdXRzOnt0b29sdGlwOlsicC1jaGFydC10b29sdGlwIiwidG9vbHRpcCJdfX0pLHR9KSgpLFNDPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5lbGVtZW50UmVmPXQsdGhpcy5yZXNpemU9bmV3IEljLHRoaXMuc3Vic2NyaXB0aW9uPW5ldyBoLHRoaXMuY2hhcnRXaWR0aFJlc2l6ZSQ9bmV3IER9bmdPbkRlc3Ryb3koKXt0aGlzLmlzUmVzaXplT2JzZXJ2ZXJTdXBwb3J0ZWQmJih0aGlzLm9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCksdGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSl9bmdPbkluaXQoKXt0aGlzLmlzUmVzaXplT2JzZXJ2ZXJTdXBwb3J0ZWQmJih0aGlzLm9ic2VydmVyPW5ldyB3aW5kb3cuUmVzaXplT2JzZXJ2ZXIoKCk9Pnt0aGlzLmNoYXJ0V2lkdGhSZXNpemUkLm5leHQoKX0pLHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCksdGhpcy5zdWJzY3JpcHRpb24uYWRkKHRoaXMuY2hhcnRXaWR0aFJlc2l6ZSQucGlwZShheSgyMCkpLnN1YnNjcmliZSh0PT57dGhpcy5yZXNpemUuZW1pdCgpfSkpKX1nZXQgaXNSZXNpemVPYnNlcnZlclN1cHBvcnRlZCgpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB3aW5kb3cuUmVzaXplT2JzZXJ2ZXJ9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKGthKSl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsInAtcmVzaXplLW9ic2VydmVyIiwiIl1dLG91dHB1dHM6e3Jlc2l6ZToicC1yZXNpemUtb2JzZXJ2ZXIifX0pLHR9KSgpLHhDPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tTaCxQYl1dfSksdH0pKCksQUM9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW1NoXV19KSx0fSkoKSxUQz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbU2hdXX0pLHR9KSgpLGtDPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tTaCxUQ11dfSksdH0pKCksRkM9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW1NoXV19KSx0fSkoKSxJQz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW1NoLGhiXV19KSx0fSkoKSxPQz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbU2gsSUNdXX0pLHR9KSgpLFBDPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tTaF1dfSksdH0pKCksUkM9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW1NoLG95LFBDXV19KSx0fSkoKSxMQz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbU2hdXX0pLHR9KSgpLEJDPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tTaCxveSxQQyxMQyxqYl1dfSksdH0pKCk7Y29uc3QgakM9e2VuOntjbG9zZToiQ2xvc2UifSxlczp7Y2xvc2U6IkNlcnJhciJ9LHB0OntjbG9zZToiRmVjaGFyIn0scnU6e2Nsb3NlOiJcdTA0MzFcdTA0M2JcdTA0MzhcdTA0MzdcdTA0M2FcdTA0M2UifX07bGV0IE1DPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5pc0hpZGRlbj0hMCx0aGlzLm9uWENsb3NlZD1uZXcgSWMsdGhpcy5faGlkZUNsb3NlPSExLHRoaXMuX3NpemU9Im1kIix0aGlzLmNsaWNrT3V0PSExLHRoaXMubGFuZ3VhZ2U9dC5nZXRTaG9ydExhbmd1YWdlKCksdGhpcy5saXRlcmFscz1PYmplY3QuYXNzaWduKHt9LGpDW3RoaXMubGFuZ3VhZ2VdKX1zZXQgc2l6ZSh0KXt0aGlzLl9zaXplPVsic20iLCJtZCIsImxnIiwieGwiLCJhdXRvIl0uaW5kZXhPZih0KT4tMT90OiJtZCJ9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5fc2l6ZX1zZXQgc2V0Q2xpY2tPdXQodCl7dGhpcy5jbGlja091dD0iIiE9PXQmJm5iKHQpfXNldCBoaWRlQ2xvc2UodCl7dGhpcy5faGlkZUNsb3NlPW5iKHQpfWdldCBoaWRlQ2xvc2UoKXtyZXR1cm4gdGhpcy5faGlkZUNsb3NlfWNsb3NlKHQ9ITEpe3RoaXMuaXNIaWRkZW49ITAsdCYmdGhpcy5vblhDbG9zZWQuZW1pdCh0KX1vcGVuKCl7dGhpcy52YWxpZFByaW1hcnlBY3Rpb24oKSx0aGlzLmlzSGlkZGVuPSExfXZhbGlkUHJpbWFyeUFjdGlvbigpe3RoaXMucHJpbWFyeUFjdGlvbnx8KHRoaXMucHJpbWFyeUFjdGlvbj17YWN0aW9uOigpPT50aGlzLmNsb3NlKCksbGFiZWw6dGhpcy5saXRlcmFscy5jbG9zZX0pLHRoaXMucHJpbWFyeUFjdGlvbi5hY3Rpb258fCh0aGlzLnByaW1hcnlBY3Rpb24uYWN0aW9uPSgpPT50aGlzLmNsb3NlKCkpLHRoaXMucHJpbWFyeUFjdGlvbi5sYWJlbHx8KHRoaXMucHJpbWFyeUFjdGlvbi5sYWJlbD10aGlzLmxpdGVyYWxzLmNsb3NlKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodm8oY2IpKX0sdC5cdTAyNzVkaXI9WHQoe3R5cGU6dCxpbnB1dHM6e3NpemU6WyJwLXNpemUiLCJzaXplIl0sc2V0Q2xpY2tPdXQ6WyJwLWNsaWNrLW91dCIsInNldENsaWNrT3V0Il0saGlkZUNsb3NlOlsicC1oaWRlLWNsb3NlIiwiaGlkZUNsb3NlIl0scHJpbWFyeUFjdGlvbjpbInAtcHJpbWFyeS1hY3Rpb24iLCJwcmltYXJ5QWN0aW9uIl0sdGl0bGU6WyJwLXRpdGxlIiwidGl0bGUiXSxzZWNvbmRhcnlBY3Rpb246WyJwLXNlY29uZGFyeS1hY3Rpb24iLCJzZWNvbmRhcnlBY3Rpb24iXX19KSx0fSkoKSxOQz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5hY3RpdmVPdmVybGF5PVtdfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0fSx0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QifSksdH0pKCksSEM9KCgpPT57Y2xhc3MgdCBleHRlbmRzIE1De2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoZSksdGhpcy5wb0FjdGl2ZU92ZXJsYXlTZXJ2aWNlPXQsdGhpcy5mb2N1c2FibGVFbGVtZW50cz0iaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksIGEiLHRoaXMuaWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cmV0dXJuIE1hdGguZmxvb3IoNjU1MzYqKDErTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSl9cmV0dXJuIHQoKSt0KCkrIi0iK3QoKSsiLSIrdCgpKyItIit0KCkrIi0iK3QoKSt0KCkrdCgpfSgpfWNsb3NlKHQ9ITEpe3RoaXMucG9BY3RpdmVPdmVybGF5U2VydmljZS5hY3RpdmVPdmVybGF5LnBvcCgpLHN1cGVyLmNsb3NlKHQpLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLnNvdXJjZUVsZW1lbnQmJnRoaXMuc291cmNlRWxlbWVudC5mb2N1cygpfWNsb3NlTW9kYWxPbkVzY2FwZUtleSh0KXt0aGlzLmhpZGVDbG9zZXx8KHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuY2xvc2UoKSl9Z2V0UHJpbWFyeUFjdGlvbkJ1dHRvblR5cGUoKXtyZXR1cm4gdGhpcy5wcmltYXJ5QWN0aW9uLmRhbmdlcj8iZGFuZ2VyIjoicHJpbWFyeSJ9Z2V0U2Vjb25kYXJ5QWN0aW9uQnV0dG9uVHlwZSgpe3JldHVybiB0aGlzLnNlY29uZGFyeUFjdGlvbiYmdGhpcy5zZWNvbmRhcnlBY3Rpb24uZGFuZ2VyJiYhdGhpcy5wcmltYXJ5QWN0aW9uLmRhbmdlcj8iZGFuZ2VyIjoiZGVmYXVsdCJ9b25DbGlja091dCh0KXt0aGlzLmNsaWNrT3V0JiYhdGhpcy5tb2RhbENvbnRlbnQubmF0aXZlRWxlbWVudC5jb250YWlucyh0LnRhcmdldCkmJnRoaXMuY2xvc2UoKX1vcGVuKCl7dGhpcy5zb3VyY2VFbGVtZW50PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQsc3VwZXIub3BlbigpLHRoaXMuaGFuZGxlRm9jdXMoKX1oYW5kbGVGb2N1cygpe3RoaXMucG9BY3RpdmVPdmVybGF5U2VydmljZS5hY3RpdmVPdmVybGF5LnB1c2godGhpcy5pZCksc2V0VGltZW91dCgoKT0+e3RoaXMubW9kYWxDb250ZW50JiYodGhpcy5pbml0Rm9jdXMoKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5mb2N1c0Z1bmN0aW9uLCEwKSl9KX1pbml0Rm9jdXMoKXt0aGlzLmZvY3VzRnVuY3Rpb249dD0+e3RoaXMubW9kYWxDb250ZW50Lm5hdGl2ZUVsZW1lbnQuY29udGFpbnModC50YXJnZXQpfHx0aGlzLnBvQWN0aXZlT3ZlcmxheVNlcnZpY2UuYWN0aXZlT3ZlcmxheVt0aGlzLnBvQWN0aXZlT3ZlcmxheVNlcnZpY2UuYWN0aXZlT3ZlcmxheS5sZW5ndGgtMV0hPT10aGlzLmlkfHwodC5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLmZpcnN0RWxlbWVudC5mb2N1cygpKX0sdGhpcy5zZXRGaXJzdEVsZW1lbnQoKSx0aGlzLmhpZGVDbG9zZT90aGlzLmZpcnN0RWxlbWVudC5mb2N1cygpOih0aGlzLm1vZGFsQ29udGVudC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5mb2N1c2FibGVFbGVtZW50cylbMV18fHRoaXMubW9kYWxDb250ZW50Lm5hdGl2ZUVsZW1lbnQpLmZvY3VzKCl9cmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5mb2N1c0Z1bmN0aW9uLCEwKX1zZXRGaXJzdEVsZW1lbnQoKXt0aGlzLmZpcnN0RWxlbWVudD10aGlzLm1vZGFsQ29udGVudC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5mb2N1c2FibGVFbGVtZW50cyl8fHRoaXMubW9kYWxDb250ZW50Lm5hdGl2ZUVsZW1lbnR9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKE5DKSx2byhjYikpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1tb2RhbCJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJlVjKFB2LDUsa2EpLDImdCl7bGV0IHQ7JGModD1XYygpKSYmKGUubW9kYWxDb250ZW50PXQuZmlyc3QpfX0sZmVhdHVyZXM6W3RvXSxuZ0NvbnRlbnRTZWxlY3RvcnM6bXksZGVjbHM6MSx2YXJzOjEsY29uc3RzOltbImNsYXNzIiwicG8tbW9kYWwiLCJ0YWJpbmRleCIsIjAiLDMsImtleWRvd24uZXNjIiw0LCJuZ0lmIl0sWyJ0YWJpbmRleCIsIjAiLDEsInBvLW1vZGFsIiwzLCJrZXlkb3duLmVzYyJdLFsxLCJwby1tb2RhbC1vdmVybGF5Il0sWzEsInBvLW1vZGFsLWNvbnRhaW5lciIsInBvLXBiLTIiLCJwby1wdC0yIiwzLCJtb3VzZWRvd24iXSxbMSwicG8tbW9kYWwtdmVydGljYWwtYWxpZ24iXSxbInRhYmluZGV4IiwiLTEiXSxbIm1vZGFsQ29udGVudCIsIiJdLFsxLCJwby1tb2RhbC1oZWFkZXIiXSxbMSwicG8tbW9kYWwtdGl0bGUiLCJwby10ZXh0LWVsbGlwc2lzIl0sWyJjbGFzcyIsInBvLW1vZGFsLWhlYWRlci1jbG9zZS1idXR0b24iLCJ0YWJpbmRleCIsIjAiLDMsImNsaWNrIiw0LCJuZ0lmIl0sWzEsInBvLW1vZGFsLWJvZHkiXSxbMSwicG8tbW9kYWwtZm9vdGVyIl0sWzMsInAtZGlzYWJsZWQiLCJwLWxhYmVsIiwicC1sb2FkaW5nIiwicC10eXBlIiwicC1jbGljayIsNCwibmdJZiJdLFsxLCJwby1idXR0b24tbW9kYWwtZmlyc3QtYWN0aW9uIiwzLCJwLWRpc2FibGVkIiwicC1sYWJlbCIsInAtbG9hZGluZyIsInAtdHlwZSIsInAtY2xpY2siXSxbInRhYmluZGV4IiwiMCIsMSwicG8tbW9kYWwtaGVhZGVyLWNsb3NlLWJ1dHRvbiIsMywiY2xpY2siXSxbMSwicG8taWNvbiIsInBvLWljb24tY2xvc2UiXSxbMywicC1kaXNhYmxlZCIsInAtbGFiZWwiLCJwLWxvYWRpbmciLCJwLXR5cGUiLCJwLWNsaWNrIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoUm8oKSxtbygwLEJ2LDE1LDEwLCJkaXYiLDApKSwyJnQmJmJvKCJuZ0lmIiwhZS5pc0hpZGRlbil9LGRpcmVjdGl2ZXM6W2FoLFNiXSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxWQz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbU2gseGJdXX0pLHR9KSgpLHpDPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tTaF1dfSksdH0pKCksJEM9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltOQ119KSx0fSkoKSxVQz0oKCk9PntjbGFzcyB0e2dldENvbG9yKHQpe3JldHVybiBPYmplY3QudmFsdWVzKEpiKS5pbmNsdWRlcyh0LmNvbG9yKT90LmNvbG9yOnRoaXMuZ2V0Q29sb3JGcm9tVHlwZSh0LnR5cGV8fHQuY29sb3IpfWdldENvbG9yRnJvbVR5cGUodCl7c3dpdGNoKHQpe2Nhc2UiZGFuZ2VyIjpyZXR1cm4gSmIuQ29sb3IwNztjYXNlInN1Y2Nlc3MiOnJldHVybiBKYi5Db2xvcjExO2Nhc2Uid2FybmluZyI6cmV0dXJuIEpiLkNvbG9yMDg7ZGVmYXVsdDpyZXR1cm4gSmIuQ29sb3IwMX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLFdDPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbVUNdfSksdH0pKCksR0M9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5jb21wb25lbnRSZXNvbHZlcj10LHRoaXMuYXBwbGljYXRpb25SZWY9ZSx0aGlzLmluamVjdG9yPW59Y3JlYXRlQ29tcG9uZW50SW5BcHBsaWNhdGlvbih0KXtjb25zdCBlPXRoaXMuY29tcG9uZW50UmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodCkuY3JlYXRlKHRoaXMuaW5qZWN0b3IpO3JldHVybiB0aGlzLmFwcGxpY2F0aW9uUmVmLmF0dGFjaFZpZXcoZS5ob3N0VmlldyksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlLmhvc3RWaWV3LnJvb3ROb2Rlc1swXSksZX1kZXN0cm95Q29tcG9uZW50SW5BcHBsaWNhdGlvbih0KXt0aGlzLmFwcGxpY2F0aW9uUmVmLmRldGFjaFZpZXcodC5ob3N0VmlldyksdC5kZXN0cm95KCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhyKFNhKSxocihqbCksaHIoS2kpKX0sdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KGhyKFNhKSxocihqbCksaHIoamkpKX0sdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpLHFDPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbR0NdLGltcG9ydHM6W1tdXX0pLHR9KSgpLFhDPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbRmJdfSksdH0pKCk7dmFyIFlDPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuQWxlcnQ9MF09IkFsZXJ0Iix0W3QuQ29uZmlybT0xXT0iQ29uZmlybSIsdH0oe30pO2NvbnN0IFpDPXtlbjp7b2s6Ik9rIn0sZXM6e29rOiJPayJ9LHB0OntvazoiT2sifSxydTp7b2s6Ilx1MDQxZVx1MDQzYSJ9fSxRQz17ZW46e2NhbmNlbDoiQ2FuY2VsIixjb25maXJtOiJDb25maXJtIn0sZXM6e2NhbmNlbDoiQ2FuY2VsYXIiLGNvbmZpcm06IkNvbmZpcm1hciJ9LHB0OntjYW5jZWw6IkNhbmNlbGFyIixjb25maXJtOiJDb25maXJtYXIifSxydTp7Y2FuY2VsOiJcdTA0M2VcdTA0NDJcdTA0M2NcdTA0MzVcdTA0M2RcdTA0MzhcdTA0NDJcdTA0NGMiLGNvbmZpcm06Ilx1MDQzZlx1MDQzZVx1MDQzNFx1MDQ0Mlx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzNFx1MDQzOFx1MDQ0Mlx1MDQ0YyJ9fTtsZXQgS0M9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnByaW1hcnlBY3Rpb249e2xhYmVsOiJvayIsYWN0aW9uOigpPT57fX0sdGhpcy5sYW5ndWFnZT10LmdldFNob3J0TGFuZ3VhZ2UoKX1uZ09uRGVzdHJveSgpe3RoaXMuY2xvc2VTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX1uZ09uSW5pdCgpe3RoaXMuY2xvc2VTdWJzY3JpcHRpb249dGhpcy5wb01vZGFsLm9uWENsb3NlZC5zdWJzY3JpYmUodD0+dGhpcy5jbG9zZSghMCkpfWNsb3NlKHQ9ITEpe3QmJnRoaXMuY2xvc2VBY3Rpb24mJnRoaXMuY2xvc2VBY3Rpb24oKSx0aGlzLnBvTW9kYWwuY2xvc2UoKSx0aGlzLmRlc3Ryb3koKX1kZXN0cm95KCl7dGhpcy5jb21wb25lbnRSZWYmJnRoaXMuY29tcG9uZW50UmVmLmRlc3Ryb3koKX1jb25maWdEaWFsb2codCxlLG4scixzKXt0aGlzLnByaW1hcnlBY3Rpb249e2xhYmVsOnQsYWN0aW9uOigpPT57ZSYmZSgpLHRoaXMuY2xvc2UoKX19LG4mJih0aGlzLnNlY29uZGFyeUFjdGlvbj17bGFiZWw6bixhY3Rpb246KCk9PntyJiZyKCksdGhpcy5jbG9zZSgpfX0pLHRoaXMuY2xvc2VBY3Rpb249c31vcGVuKHQsZSxuKXtzd2l0Y2godGhpcy50aXRsZT10LnRpdGxlLHRoaXMubWVzc2FnZT10Lm1lc3NhZ2UsdGhpcy5jb21wb25lbnRSZWY9bix0aGlzLnNldERpYWxvZ0xpdGVyYWxzKHQsZSksZSl7Y2FzZSBZQy5Db25maXJtOnRoaXMuY29uZmlnRGlhbG9nKHRoaXMubGl0ZXJhbHNDb25maXJtLmNvbmZpcm0sdC5jb25maXJtLHRoaXMubGl0ZXJhbHNDb25maXJtLmNhbmNlbCx0LmNhbmNlbCx0LmNsb3NlKTticmVhaztjYXNlIFlDLkFsZXJ0OnRoaXMuY29uZmlnRGlhbG9nKHRoaXMubGl0ZXJhbHNBbGVydC5vayx0Lm9rKX10aGlzLnBvTW9kYWwub3BlbigpfXNldERpYWxvZ0xpdGVyYWxzKHQsZSl7Y29uc3Qgbj1aQyxyPVFDLHM9dC5saXRlcmFscztlPT09WUMuQWxlcnQ/dGhpcy5saXRlcmFsc0FsZXJ0PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4ucHQpLG5bdGhpcy5sYW5ndWFnZV0pLHMpOnRoaXMubGl0ZXJhbHNDb25maXJtPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHIucHQpLHJbdGhpcy5sYW5ndWFnZV0pLHMpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh2byhjYikpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJuZy1jb21wb25lbnQiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZVYyhIQyw3KSwyJnQpe2xldCB0OyRjKHQ9V2MoKSkmJihlLnBvTW9kYWw9dC5maXJzdCl9fSxkZWNsczoyLHZhcnM6NCxjb25zdHM6W1szLCJwLXRpdGxlIiwicC1wcmltYXJ5LWFjdGlvbiIsInAtc2Vjb25kYXJ5LWFjdGlvbiJdLFszLCJpbm5lckh0bWwiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJih3bygwLCJwby1tb2RhbCIsMCksRG8oMSwiZGl2IiwxKSxfbygpKSwyJnQmJihibygicC10aXRsZSIsZS50aXRsZSkoInAtcHJpbWFyeS1hY3Rpb24iLGUucHJpbWFyeUFjdGlvbikoInAtc2Vjb25kYXJ5LWFjdGlvbiIsZS5zZWNvbmRhcnlBY3Rpb24pLCRzKDEpLGJvKCJpbm5lckh0bWwiLGUubWVzc2FnZSxHcikpfSxkaXJlY3RpdmVzOltIQ10sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksSkM9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGNsYXNze2NvbmZpcm0odCl7dGhpcy5vcGVuRGlhbG9nKFlDLkNvbmZpcm0sdCl9YWxlcnQodCl7dGhpcy5vcGVuRGlhbG9nKFlDLkFsZXJ0LHQpfX17Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnBvQ29tcG9uZW50SW5qZWN0b3I9dH1vcGVuRGlhbG9nKHQsZSl7Y29uc3Qgbj10aGlzLnBvQ29tcG9uZW50SW5qZWN0b3IuY3JlYXRlQ29tcG9uZW50SW5BcHBsaWNhdGlvbihLQyk7bi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCksbi5pbnN0YW5jZS5vcGVuKGUsdCxuKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaHIoR0MpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSx0dz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W0pDXSxpbXBvcnRzOltbVkNdXX0pLHR9KSgpO3ZhciBldz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkJvdHRvbT0wXT0iQm90dG9tIix0W3QuVG9wPTFdPSJUb3AiLHR9KHt9KSxudz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkVycm9yPTBdPSJFcnJvciIsdFt0LkluZm9ybWF0aW9uPTFdPSJJbmZvcm1hdGlvbiIsdFt0LlN1Y2Nlc3M9Ml09IlN1Y2Nlc3MiLHRbdC5XYXJuaW5nPTNdPSJXYXJuaW5nIix0fSh7fSk7bGV0IHJ3PSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBjbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMub3JpZW50YXRpb249ZXcuQm90dG9tfX17Y29uc3RydWN0b3IodCxlLG4scil7c3VwZXIoKSx0aGlzLmNoYW5nZURldGVjdG9yPWUsdGhpcy5lbGVtZW50ZVJlZj1uLHRoaXMucmVuZGVyZXI9cix0aGlzLmFsaXZlPSEwLHRoaXMubWFyZ2luPTIwLHRoaXMub2JzZXJ2YWJsZU9uQ2xvc2U9bmV3IEQsdGhpcy50b2FzdGVyUG9zaXRpb249InBvLXRvYXN0ZXItYm90dG9tIn1uZ09uRGVzdHJveSgpe3RoaXMuYWxpdmU9ITF9bmdBZnRlclZpZXdJbml0KCl7c2V0VGltZW91dCgoKT0+dGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLnRvYXN0ZXIubmF0aXZlRWxlbWVudCwicG8tdG9hc3Rlci12aXNpYmxlIikpfWNoYW5nZVBvc2l0aW9uKHQpe3RoaXMuZWxlbWVudGVSZWYubmF0aXZlRWxlbWVudC5zdHlsZS5kaXNwbGF5PSJ0YWJsZSIsdGhpcy5tYXJnaW49Nis0NCp0KzYqdCx0aGlzLm9yaWVudGF0aW9uPT09ZXcuVG9wP3RoaXMudG9hc3Rlci5uYXRpdmVFbGVtZW50LnN0eWxlLnRvcD10aGlzLm1hcmdpbisicHgiOnRoaXMudG9hc3Rlci5uYXRpdmVFbGVtZW50LnN0eWxlLmJvdHRvbT10aGlzLm1hcmdpbisicHgifWNsb3NlKCl7dGhpcy5vYnNlcnZhYmxlT25DbG9zZS5uZXh0KCEwKX1zZXRGYWRlT3V0KCl7dGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLnRvYXN0ZXIubmF0aXZlRWxlbWVudCwicG8tdG9hc3Rlci12aXNpYmxlIiksdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLnRvYXN0ZXIubmF0aXZlRWxlbWVudCwicG8tdG9hc3Rlci1pbnZpc2libGUiKX1jb25maWdUb2FzdGVyKHQpe3N3aXRjaCh0aGlzLnR5cGU9dC50eXBlLHRoaXMubWVzc2FnZT10Lm1lc3NhZ2UsdGhpcy5vcmllbnRhdGlvbj10Lm9yaWVudGF0aW9uLHRoaXMucG9zaXRpb249dC5wb3NpdGlvbix0aGlzLmFjdGlvbj10LmFjdGlvbix0aGlzLmFjdGlvbkxhYmVsPXQuYWN0aW9uTGFiZWwsdGhpcy5jb21wb25lbnRSZWY9dC5jb21wb25lbnRSZWYsdGhpcy5vcmllbnRhdGlvbj09PWV3LlRvcCYmKHRoaXMudG9hc3RlclBvc2l0aW9uPSJwby10b2FzdGVyLXRvcCIpLHRoaXMuY2hhbmdlUG9zaXRpb24odGhpcy5wb3NpdGlvbiksdGhpcy50eXBlKXtjYXNlIG53LkVycm9yOnRoaXMudG9hc3RlclR5cGU9InBvLXRvYXN0ZXItZXJyb3IiLHRoaXMuaWNvbj0icG8taWNvbi13YXJuaW5nIjticmVhaztjYXNlIG53LkluZm9ybWF0aW9uOnRoaXMudG9hc3RlclR5cGU9InBvLXRvYXN0ZXItaW5mbyIsdGhpcy5pY29uPSJwby1pY29uLWluZm8iO2JyZWFrO2Nhc2UgbncuU3VjY2Vzczp0aGlzLnRvYXN0ZXJUeXBlPSJwby10b2FzdGVyLXN1Y2Nlc3MiLHRoaXMuaWNvbj0icG8taWNvbi1vayI7YnJlYWs7Y2FzZSBudy5XYXJuaW5nOnRoaXMudG9hc3RlclR5cGU9InBvLXRvYXN0ZXItd2FybmluZyIsdGhpcy5pY29uPSJwby1pY29uLXdhcm5pbmcifXRoaXMuY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpfWdldEljb24oKXtyZXR1cm4gdGhpcy5pY29ufWdldFRvYXN0ZXJQb3NpdGlvbigpe3JldHVybiB0aGlzLnRvYXN0ZXJQb3NpdGlvbn1nZXRUb2FzdGVyVHlwZSgpe3JldHVybiB0aGlzLnRvYXN0ZXJUeXBlfW9uQnV0dG9uQ2xvc2UodCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5hY3Rpb24mJiF0aGlzLmFjdGlvbkxhYmVsP3RoaXMucG9Ub2FzdGVyQWN0aW9uKHQpOnRoaXMuY2xvc2UoKX1wb1RvYXN0ZXJBY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5hY3Rpb24odGhpcyl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKGNiKSx2byhlYyksdm8oa2EpLHZvKE9hKSl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLXRvYXN0ZXIiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZVYyhqdiw1KSwyJnQpe2xldCB0OyRjKHQ9V2MoKSkmJihlLnRvYXN0ZXI9dC5maXJzdCl9fSxmZWF0dXJlczpbdG9dLGRlY2xzOjksdmFyczo5LGNvbnN0czpbWzMsImNsaWNrIl0sWyJ0b2FzdGVyIiwiIl0sWzEsInBvLXRvYXN0ZXItaWNvbiJdLFsxLCJwby10b2FzdGVyLW1lc3NhZ2UiXSxbImNsYXNzIiwicG8tdG9hc3Rlci1hY3Rpb24iLDMsImNsaWNrIiw0LCJuZ0lmIl0sWzEsInBvLXRvYXN0ZXItY2xvc2UiLDMsImNsaWNrIl0sWzEsInBvLWljb24iLCJwby1pY29uLWNsb3NlIl0sWzEsInBvLXRvYXN0ZXItYWN0aW9uIiwzLCJjbGljayJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpe3ZhciBuLHIscyxpLG87MSZ0JiYod28oMCwiZGl2IiwwLDEpLGtvKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gZS5jbG9zZSgpfSksd28oMiwiZGl2IiwyKSxEbygzLCJzcGFuIiksX28oKSx3byg0LCJkaXYiLDMpLG5hKDUpLF9vKCksbW8oNixNdiwyLDEsImRpdiIsNCksd28oNywiYnV0dG9uIiw1KSxrbygiY2xpY2siLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uQnV0dG9uQ2xvc2UodCl9KSxEbyg4LCJzcGFuIiw2KSxfbygpLF9vKCkpLDImdCYmKG49InBvLXRvYXN0ZXIgIixyPWUuZ2V0VG9hc3RlclR5cGUoKSxzPSIgIixpPWUuZ2V0VG9hc3RlclBvc2l0aW9uKCksbz0iIHBvLWNsaWNrYWJsZSIscW8oZXIsV28sZnVuY3Rpb24odCxlLG4scixzLGkpe2NvbnN0IG89cG8odCx6ZSgpLG4scyk7cmV0dXJuIFVlKDIpLG8/ZStjdChuKStyK2N0KHMpK2k6enN9KEllKCksbixyLHMsaSxvKSwhMCksJHMoMyksaWEoInBvLWljb24gIixlLmdldEljb24oKSwiIiksJHMoMikscmEoZS5tZXNzYWdlKSwkcygxKSxibygibmdJZiIsZS5hY3Rpb24mJmUuYWN0aW9uTGFiZWwpKX0sZGlyZWN0aXZlczpbYWhdLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLHN3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbU2hdXX0pLHR9KSgpLGl3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbJEMsV0MscUMsWEMsQmIsdHcsdmIsc3ddLCRDLFdDLHFDLFhDLEJiLHR3LHN3XX0pLHR9KSgpLG93PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tTaF1dfSksdH0pKCksYXc9KCgpPT57Y2xhc3MgdHt0cmFuc2Zvcm0odCxlKXtpZihyYih0LCJzdHJpbmciKSYmL14oKFswLTFdWzAtOV0pfCgyWzAtM10pKTpbMC01XVswLTldOlswLTVdWzAtOV1bXC5dPyhbMC05XXsxLDZ9KT8kL2cudGVzdCh0KSl7Y29uc3Qgbj1lP2UubGFzdEluZGV4T2YoImYiKS1lLmluZGV4T2YoImYiKSsxOjAscj10aGlzLmFkZERvdE1pbGlzZWNvbmRzKHQuc3Vic3RyaW5nKDksOStuKSxuKSxzPXRoaXMuZ2V0Rm9ybWF0TWlsaXNlY29uZHMobik7cmV0dXJuIHRoaXMuZm9ybWF0VmFsdWUodCxlLHMscil9cmV0dXJuIG51bGx9YWRkRG90TWlsaXNlY29uZHModCxlKXtyZXR1cm4gdCYmZSYmKHQ9Ii4iK3QpLHR9Zm9ybWF0VmFsdWUodCxlLG4scil7aWYodCYmZSl7Y29uc3Qgcz10LnN1YnN0cmluZygwLDIpLGk9dC5zdWJzdHJpbmcoMyw1KSxvPXQuc3Vic3RyaW5nKDYsOCk7cmV0dXJuKGU9KGU9KGU9ZS5yZXBsYWNlKCJISCIscykpLnJlcGxhY2UoIm1tIixpKSkucmVwbGFjZSgic3MiLG8pKS5yZXBsYWNlKGAuJHtufWAscil9cmV0dXJuIHR9Z2V0Rm9ybWF0TWlsaXNlY29uZHModCl7bGV0IGU9IiI7Zm9yKGxldCBuPTA7bjx0O24rKyllKz0iZiI7cmV0dXJuIGV9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXBpcGU9WXQoe25hbWU6InBvX3RpbWUiLHR5cGU6dCxwdXJlOiEwfSksdH0pKCksY3c9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tdXX0pLHR9KSgpLGx3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbd2hdLGltcG9ydHM6W1tTaCxveSxnbSx4YixSQyxBQyxiYixWQyxvdyxJQyxjdyxQYixoYl1dfSksdH0pKCk7Y2xhc3MgdXd7Y29uc3RydWN0b3IodCl7dGhpcy5odHRwPXR9ZXhlY3V0ZSh0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90aGlzLnBvc3QodCxlKTpnZCh0KGUpKX1wb3N0KHQsZSl7cmV0dXJuIHRoaXMuaHR0cC5wb3N0KHQsZSl9c2V0Rm9ybURlZmF1bHRJZkVtcHR5KHQpe3JldHVybiB0fHx7dmFsdWU6e30sZmllbGRzOltdLGZvY3VzOnZvaWQgMH19fWxldCBodz0oKCk9PntjbGFzcyB0IGV4dGVuZHMgdXd7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9Y3JlYXRlQW5kVXBkYXRlRmllbGRzRm9ybSh0PVtdLGU9W10pe3JldHVyblsuLi50XS5yZWR1Y2UoKHQsbik9Pntjb25zdCByPXQuZmluZEluZGV4KHQ9PnQucHJvcGVydHk9PT1uLnByb3BlcnR5KTtyZXR1cm4gcj49MD90W3JdPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlW3JdKSxuKTp0LnB1c2gobiksdH0sWy4uLmVdKX1leGVjdXRlTG9hZCh0LGUpe3JldHVybiB0aGlzLmV4ZWN1dGUodCxlKS5waXBlKHgodD0+dGhpcy5zZXRGb3JtRGVmYXVsdElmRW1wdHkodCkpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaHIoem0pKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxkdz0oKCk9PntjbGFzcyB0IGV4dGVuZHMgdXd7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9c2VuZEZpZWxkQ2hhbmdlKHQsZSl7cmV0dXJuIHRoaXMuZXhlY3V0ZSh0LnZhbGlkYXRlLHtwcm9wZXJ0eTp0LnByb3BlcnR5LHZhbHVlOmV9KS5waXBlKHgodD0+dGhpcy5zZXRGaWVsZERlZmF1bHRJZkVtcHR5KHQpKSl9c2VuZEZvcm1DaGFuZ2UodCxlLG4pe3JldHVybiB0aGlzLmV4ZWN1dGUodCx7cHJvcGVydHk6ZS5wcm9wZXJ0eSx2YWx1ZTpufSkucGlwZSh4KHQ9PnRoaXMuc2V0Rm9ybURlZmF1bHRJZkVtcHR5KHQpKSl9dXBkYXRlRmllbGRzRm9ybSh0PVtdLGU9W10pe3JldHVyblsuLi50XS5yZWR1Y2UoKHQsbik9Pntjb25zdCByPXQuZmluZEluZGV4KHQ9PnQucHJvcGVydHk9PT1uLnByb3BlcnR5KTtyZXR1cm4gcj49MCYmKHRbcl09T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGVbcl0pLG4pKSx0fSxbLi4uZV0pfXNldEZpZWxkRGVmYXVsdElmRW1wdHkodCl7cmV0dXJuIHR8fHtmaWVsZDp7fX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhyKHptKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCkscHc9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5zdGFja1RvcD1bXSx0aGlzLnN0YWNrQm90dG9tPVtdLHRoaXMuZGVmYXVsdER1cmF0aW9uPTFlNH1zdWNjZXNzKHQpe3RoaXMuY3JlYXRlVG9hc3Rlcih0aGlzLmJ1aWxkVG9hc3Rlcih0LG53LlN1Y2Nlc3MpKX13YXJuaW5nKHQpe3RoaXMuY3JlYXRlVG9hc3Rlcih0aGlzLmJ1aWxkVG9hc3Rlcih0LG53Lldhcm5pbmcpKX1lcnJvcih0KXt0aGlzLmNyZWF0ZVRvYXN0ZXIodGhpcy5idWlsZFRvYXN0ZXIodCxudy5FcnJvcikpfWluZm9ybWF0aW9uKHQpe3RoaXMuY3JlYXRlVG9hc3Rlcih0aGlzLmJ1aWxkVG9hc3Rlcih0LG53LkluZm9ybWF0aW9uKSl9c2V0RGVmYXVsdER1cmF0aW9uKHQpe3RoaXMuZGVmYXVsdER1cmF0aW9uPXR9YnVpbGRUb2FzdGVyKHQsZSl7bGV0IG4scj0wO3ZvaWQgMD09PXQub3JpZW50YXRpb258fHQub3JpZW50YXRpb249PT1ldy5Cb3R0b20/KHI9dGhpcy5zdGFja0JvdHRvbS5sZW5ndGgsbj1ldy5Cb3R0b20pOihyPXRoaXMuc3RhY2tUb3AubGVuZ3RoLG49ZXcuVG9wKTtjb25zdCBzPXtjb21wb25lbnRSZWY6dm9pZCAwLG1lc3NhZ2U6dC5tZXNzYWdlfHx0LHR5cGU6ZSxvcmllbnRhdGlvbjpuLGFjdGlvbjp0LmFjdGlvbixhY3Rpb25MYWJlbDp0LmFjdGlvbkxhYmVsLHBvc2l0aW9uOnIsZHVyYXRpb246dC5kdXJhdGlvbnx8dGhpcy5kZWZhdWx0RHVyYXRpb259O3JldHVybiB0LmFjdGlvbiYmKHMuYWN0aW9uPWU9Pnt0LmFjdGlvbigpLHRoaXMuZGVzdHJveVRvYXN0ZXIoZS5jb21wb25lbnRSZWYpfSksc319e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5wb0NvbXBvbmVudEluamVjdG9yPXR9Y3JlYXRlVG9hc3Rlcih0KXtjb25zdCBlPXRoaXMucG9Db21wb25lbnRJbmplY3Rvci5jcmVhdGVDb21wb25lbnRJbkFwcGxpY2F0aW9uKHJ3KTt0LmNvbXBvbmVudFJlZj1lLGUuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpLGUuaW5zdGFuY2UuY29uZmlnVG9hc3Rlcih0KTtjb25zdCBuPXQub3JpZW50YXRpb249PT1ldy5Ub3A/dGhpcy5zdGFja1RvcDp0aGlzLnN0YWNrQm90dG9tO24ucHVzaChlKSx0aGlzLnZlcmlmeUxpbWl0VG9hc3RlcihuKSx0aGlzLm9ic2VydmFibGVPbkNsb3NlKGUpLHQuYWN0aW9uJiZ0LmFjdGlvbkxhYmVsfHxCZCh0LmR1cmF0aW9uKS5waXBlKGZ1bmN0aW9uKHQsZT0hMSl7cmV0dXJuIG49Pm4ubGlmdChuZXcgcHkodCxlKSl9KCgpPT5lLmluc3RhbmNlLmFsaXZlKSkuc3Vic2NyaWJlKCgpPT57dGhpcy5kZXN0cm95VG9hc3RlcihlKX0pfWRlc3Ryb3lUb2FzdGVyKHQpe2xldCBlO2U9dC5pbnN0YW5jZS5vcmllbnRhdGlvbj09PWV3LlRvcD90aGlzLnN0YWNrVG9wOnRoaXMuc3RhY2tCb3R0b20sdC5pbnN0YW5jZS5zZXRGYWRlT3V0KCk7Y29uc3Qgbj1lLmluZGV4T2YodCk7ZS5zcGxpY2UobiwxKSxzZXRUaW1lb3V0KCgpPT57dGhpcy5wb0NvbXBvbmVudEluamVjdG9yLmRlc3Ryb3lDb21wb25lbnRJbkFwcGxpY2F0aW9uKHQpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF0uaW5zdGFuY2UuY2hhbmdlUG9zaXRpb24odCl9LDIwMCl9b2JzZXJ2YWJsZU9uQ2xvc2UodCl7dC5pbnN0YW5jZS5vYnNlcnZhYmxlT25DbG9zZS5zdWJzY3JpYmUoKCk9Pnt0aGlzLmRlc3Ryb3lUb2FzdGVyKHQpfSl9dmVyaWZ5TGltaXRUb2FzdGVyKHQpe3QubGVuZ3RoPjUmJnRoaXMuZGVzdHJveVRvYXN0ZXIodFswXSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhyKEdDKSl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgdChocihHQykpfSx0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QifSksdH0pKCksZnc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tTaCxveSxleSxSYix4YixMQyxqYixSQyxBQyxCQyxrQyxUQyxQQyxiYixWQyx6QyxpdyxsdyxQYixoYl0sUkMsTEMsQkMsUENdfSksdH0pKCksZ3c9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tTaCxnbV1dfSksdH0pKCk7dmFyIG13PWZ1bmN0aW9uKHQpe3JldHVybiB0Lkhvcml6b250YWw9Imhvcml6b250YWwiLHQuVmVydGljYWw9InZlcnRpY2FsIix0fSh7fSkseXc9ZnVuY3Rpb24odCl7cmV0dXJuIHQuRGFuZ2VyPSJkYW5nZXIiLHQuSW5mbz0iaW5mbyIsdC5TdWNjZXNzPSJzdWNjZXNzIix0Lldhcm5pbmc9Indhcm5pbmciLHR9KHt9KTtjb25zdCB2dz1PYmplY3QudmFsdWVzKEpiKSxidz1tdy5WZXJ0aWNhbDtsZXQgQ3c9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuY2xpY2s9bmV3IEljLHRoaXMucG9UYWdPcmllbnRhdGlvbj1tdyx0aGlzLl9vcmllbnRhdGlvbj1id31zZXQgY29sb3IodCl7dGhpcy5fY29sb3I9dncuaW5jbHVkZXModCk/dDp2b2lkIDB9Z2V0IGNvbG9yKCl7cmV0dXJuIHRoaXMuX2NvbG9yfXNldCBpY29uKHQpe3RoaXMuX2ljb249dGhpcy50eXBlP25iKHQpOnR9Z2V0IGljb24oKXtyZXR1cm4gdGhpcy5faWNvbn1zZXQgaW52ZXJzZSh0KXt0aGlzLl9pbnZlcnNlPW5iKHQpfWdldCBpbnZlcnNlKCl7cmV0dXJuIHRoaXMuX2ludmVyc2V9c2V0IG9yaWVudGF0aW9uKHQpe3RoaXMuX29yaWVudGF0aW9uPU9iamVjdC52YWx1ZXMobXcpLmluY2x1ZGVzKHQpP3Q6Ynd9Z2V0IG9yaWVudGF0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWVudGF0aW9ufXNldCB0eXBlKHQpe3RoaXMuX3R5cGU9T2JqZWN0LnZhbHVlcyh5dykuaW5jbHVkZXModCk/dDp2b2lkIDB9Z2V0IHR5cGUoKXtyZXR1cm4gdGhpcy5fdHlwZX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsaW5wdXRzOntjb2xvcjpbInAtY29sb3IiLCJjb2xvciJdLGljb246WyJwLWljb24iLCJpY29uIl0saW52ZXJzZTpbInAtaW52ZXJzZSIsImludmVyc2UiXSxvcmllbnRhdGlvbjpbInAtb3JpZW50YXRpb24iLCJvcmllbnRhdGlvbiJdLHR5cGU6WyJwLXR5cGUiLCJ0eXBlIl0sbGFiZWw6WyJwLWxhYmVsIiwibGFiZWwiXSx2YWx1ZTpbInAtdmFsdWUiLCJ2YWx1ZSJdfSxvdXRwdXRzOntjbGljazoicC1jbGljayJ9fSksdH0pKCk7dmFyIHd3PWZ1bmN0aW9uKHQpe3JldHVybiB0LkRhbmdlcj0icG8taWNvbi1jbG9zZSIsdC5JbmZvPSJwby1pY29uLWluZm8iLHQuU3VjY2Vzcz0icG8taWNvbi1vayIsdC5XYXJuaW5nPSJwby1pY29uLXdhcm5pbmciLHR9KHt9KTtjb25zdCBfdz0icG8tdGFnLSIreXcuSW5mbztsZXQgRHc9KCgpPT57Y2xhc3MgdCBleHRlbmRzIEN3e25nT25Jbml0KCl7dGhpcy5pc0NsaWNrYWJsZT10aGlzLmNsaWNrLm9ic2VydmVycy5sZW5ndGg+MH1nZXQgaWNvbkZyb21UeXBlKCl7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSB5dy5EYW5nZXI6cmV0dXJuIHd3LkRhbmdlcjtjYXNlIHl3LkluZm86cmV0dXJuIHd3LkluZm87Y2FzZSB5dy5TdWNjZXNzOnJldHVybiB3dy5TdWNjZXNzO2Nhc2UgeXcuV2FybmluZzpyZXR1cm4gd3cuV2FybmluZ319Z2V0IHRhZ0NvbG9yKCl7cmV0dXJuIHRoaXMudHlwZT90aGlzLmludmVyc2U/YHBvLXRhZy0ke3RoaXMudHlwZX0taW52ZXJzZWA6YHBvLXRhZy0ke3RoaXMudHlwZX1gOnRoaXMuY29sb3I/dGhpcy5pbnZlcnNlP2Bwby10ZXh0LSR7dGhpcy5jb2xvcn1gOmBwby0ke3RoaXMuY29sb3J9YDp0aGlzLmludmVyc2U/YCR7X3d9LWludmVyc2VgOl93fWdldCB0YWdPcmllbnRhdGlvbigpe3JldHVybiB0aGlzLm9yaWVudGF0aW9uPT09dGhpcy5wb1RhZ09yaWVudGF0aW9uLkhvcml6b250YWx9b25DbGljaygpe3RoaXMuY2xpY2suZW1pdCh7dmFsdWU6dGhpcy52YWx1ZSx0eXBlOnRoaXMudHlwZX0pfW9uS2V5UHJlc3NlZCh0KXt0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLm9uQ2xpY2soKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKCl7bGV0IGU7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybihlfHwoZT0kbih0KSkpKG58fHQpfX0oKSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby10YWciXV0sZmVhdHVyZXM6W3RvXSxkZWNsczo3LHZhcnM6MTAsY29uc3RzOltbMSwicG8tdGFnLWNvbnRhaW5lciJdLFsiY2xhc3MiLCJwby10YWctdGl0bGUgcG8tdGV4dC1ub3dyYXAiLDQsIm5nSWYiXSxbMSwicG8tdGFnLXN1Yi1jb250YWluZXIiXSxbInRhYmluZGV4IiwiMCIsMSwicG8tdGFnIiwzLCJuZ0NsYXNzIiwiY2xpY2siLCJrZXlkb3duLmVudGVyIiwia2V5ZG93bi5zcGFjZSIsImtleXVwLnNwYWNlIl0sWyJjbGFzcyIsInBvLXRhZy1pY29uIiwzLCJwLWljb24iLDQsIm5nSWYiXSxbMSwicG8tdGFnLXZhbHVlIl0sWzEsInBvLXRhZy10aXRsZSIsInBvLXRleHQtbm93cmFwIl0sWzEsInBvLXRhZy1sYWJlbCJdLFsxLCJwby10YWctaWNvbiIsMywicC1pY29uIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYod28oMCwiZGl2IiwwKSxtbygxLE52LDMsMSwiZGl2IiwxKSx3bygyLCJkaXYiLDIpLHdvKDMsImRpdiIsMyksa28oImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBlLm9uQ2xpY2soKX0pKCJrZXlkb3duLmVudGVyIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbktleVByZXNzZWQodCl9KSgia2V5ZG93bi5zcGFjZSIsZnVuY3Rpb24odCl7cmV0dXJuIHQucHJldmVudERlZmF1bHQoKX0pKCJrZXl1cC5zcGFjZSIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25LZXlQcmVzc2VkKHQpfSksbW8oNCxIdiwxLDEsInBvLWljb24iLDQpLHdvKDUsInNwYW4iLDUpLG5hKDYpLF9vKCksX28oKSxfbygpLF9vKCkpLDImdCYmKCRvKCJwby10YWctY29udGFpbmVyLWhvcml6b250YWwiLGUudGFnT3JpZW50YXRpb24pLCRzKDEpLGJvKCJuZ0lmIixlLmxhYmVsKSwkcygyKSwkbygicG8tY2xpY2thYmxlIixlLmlzQ2xpY2thYmxlKSgicG8tdGFnLWludmVyc2UiLGUuaW52ZXJzZSksYm8oIm5nQ2xhc3MiLGUudGFnQ29sb3IpLCRzKDEpLGJvKCJuZ0lmIixlLmljb24pLCRzKDIpLHJhKGUudmFsdWUpKX0sZGlyZWN0aXZlczpbYWgscmgsdWJdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpLEV3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbU2gsaGJdXX0pLHR9KSgpLFN3PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5odHRwPXR9b25Mb2FkKHQsZSl7cmV0dXJuIHRoaXMuaHR0cC5wb3N0KHQsZSkudG9Qcm9taXNlKCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhyKHptKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCkseHc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltfaCxDaCx3aCxhdyxiaCxodyxkdyxTd10saW1wb3J0czpbW1NoLG95LEZDLGd3LGZ3LEV3LGN3XV19KSx0fSkoKTtNYXRoO2xldCBBdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbU2gsUGJdXX0pLHR9KSgpLFR3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tTaCxveSxmd11dfSksdH0pKCksa3c9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tTaCxnbSx4YixJQ11dfSksdH0pKCksRnc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW1NoXV19KSx0fSkoKSxJdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbU2gsZ20sRncsZncsYmIsaGJdXX0pLHR9KSgpLE93PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLnN1YmplY3RDaGlsZD1uZXcgRCx0aGlzLnN1YmplY3RQYXJlbnQ9bmV3IER9cmVjZWl2ZUZyb21DaGlsZE1lbnVDbGlja2VkKCl7cmV0dXJuIHRoaXMuc3ViamVjdENoaWxkLmFzT2JzZXJ2YWJsZSgpfXJlY2VpdmVGcm9tUGFyZW50TWVudUNsaWNrZWQoKXtyZXR1cm4gdGhpcy5zdWJqZWN0UGFyZW50LmFzT2JzZXJ2YWJsZSgpfXNlbmRUb1BhcmVudE1lbnVDbGlja2VkKHQpe3RoaXMuc3ViamVjdENoaWxkLm5leHQodCl9c2VuZFRvQ2hpbGRNZW51Q2xpY2tlZCh0KXt0aGlzLnN1YmplY3RQYXJlbnQubmV4dCh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksUHc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltPd10saW1wb3J0czpbW1NoLGdtLGZ3LFBiXV19KSx0fSkoKSxSdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbU2gsSUMsUGIsaGJdXX0pLHR9KSgpLEx3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tTaCxnbV1dfSksdH0pKCksQnc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW1NoLGdtXV19KSx0fSkoKSxqdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbU2gsUncsTHcsQncsSXcsaGJdXX0pLHR9KSgpLE13PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tTaCxveSxnbSxsYix4YixrQyxPQyxmdyx2YixWQ11dfSksdH0pKCksTnc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tTaCxnbSxBQ11dfSksdH0pKCksSHc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW1NoXV19KSx0fSkoKSxWdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbU2gsb3ddXX0pLHR9KSgpLHp3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbU2gsWXYsSUMsaGJdXX0pLHR9KSgpLCR3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tTaCxveSxBQyxmd11dfSksdH0pKCksVXc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW1NoLEFDXV19KSx0fSkoKSxXdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW1h2LFl2LGxiLHhiLFJiLGpiLHhDLEFDLGtDLFRDLEZDLE9DLHh3LGZ3LEF3LFR3LGhiLGd3LGt3LGJiLEl3LFB3LFZDLGp3LE13LG93LElDLHpDLE53LEh3LGx3LFZ3LEV3LHp3LCR3LFV3XSxYdixZdixsYix4YixSYixqYix4QyxBQyxrQyxUQyxGQyxPQyx4dyxmdyxBdyxUdyxoYixndyxrdyxiYixJdyxQdyxWQyxqdyxNdyxvdyxJQyx6QyxOdyxIdyxsdyxWdyxFdyx6dywkdyxVd119KSx0fSkoKSxHdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW1BiXSxQYl19KSx0fSkoKSxxdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW11dfSksdH0pKCk7Y29uc3QgWHc9e2VuOntjbG9zZUJ1dHRvbjoiQ2xvc2UiLGRldGFpbHM6IkRldGFpbHMiLGRldGFpbDoiRGV0YWlsIixlcnJvcjoiRXJyb3IiLHdhcm5pbmc6Ildhcm5pbmciLGluZm9ybWF0aW9uOiJJbmZvcm1hdGlvbiIsc3VjY2VzczoiU3VjY2VzcyJ9LGVzOntjbG9zZUJ1dHRvbjoiQ2VycmFyIixkZXRhaWxzOiJEZXRhbGxlcyIsZGV0YWlsOiJEZXRhbGxlIixlcnJvcjoiRXJyb3IiLHdhcm5pbmc6IkFkdmVydGVuY2lhIixpbmZvcm1hdGlvbjoiSW5mb3JtYWNpb24iLHN1Y2Nlc3M6Ilx4Yzl4aXRvIn0scHQ6e2Nsb3NlQnV0dG9uOiJGZWNoYXIiLGRldGFpbHM6IkRldGFsaGVzIixkZXRhaWw6IkRldGFsaGUiLGVycm9yOiJFcnJvIix3YXJuaW5nOiJBdmlzbyIsaW5mb3JtYXRpb246IkluZm9ybWFceGU3XHhlM28iLHN1Y2Nlc3M6IlN1Y2Vzc28ifSxydTp7Y2xvc2VCdXR0b246Ilx1MDQxN1x1MDQzMFx1MDQzYVx1MDQ0MFx1MDQ0Ylx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQ0YyIsZGV0YWlsczoiXHUwNDE0XHUwNDM1XHUwNDQyXHUwNDMwXHUwNDNiXHUwNDM4IixkZXRhaWw6Ilx1MDQxNFx1MDQzNVx1MDQ0Mlx1MDQzMFx1MDQzYlx1MDQ0YyIsZXJyb3I6Ilx1MDQxZVx1MDQ0OFx1MDQzOFx1MDQzMVx1MDQzYVx1MDQzMCIsd2FybmluZzoiXHUwNDFmXHUwNDQwXHUwNDM1XHUwNDM0XHUwNDQzXHUwNDNmXHUwNDQwXHUwNDM1XHUwNDM2XHUwNDM0XHUwNDM1XHUwNDNkXHUwNDM4XHUwNDM1IixpbmZvcm1hdGlvbjoiXHUwNDE4XHUwNDNkXHUwNDQ0XHUwNDNlXHUwNDQwXHUwNDNjXHUwNDMwXHUwNDQ2XHUwNDM4XHUwNDRmIixzdWNjZXNzOiJZXHUwNDQxXHUwNDNmXHUwNDM1XHUwNDQ1In19LFl3PXtzdWNjZXNzOiJjb2xvci0xMSIsZXJyb3I6ImNvbG9yLTA3Iix3YXJuaW5nOiJjb2xvci0wOCIsaW5mbzoiIn07bGV0IFp3PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5sYW5ndWFnZVNlcnZpY2U9dCx0aGlzLmNsb3NlZD1uZXcgSWMsdGhpcy5kZXRhaWxzPVtdLHRoaXMubGFuZ3VhZ2U9dGhpcy5sYW5ndWFnZVNlcnZpY2UuZ2V0U2hvcnRMYW5ndWFnZSgpLHRoaXMubGl0ZXJhbHM9WHdbdGhpcy5sYW5ndWFnZV0sdGhpcy5wcmltYXJ5QWN0aW9uPXthY3Rpb246KCk9PnRoaXMuY2xvc2UoKSxsYWJlbDp0aGlzLmxpdGVyYWxzLmNsb3NlQnV0dG9ufX1zZXQgZGV0YWlsKHQpe3QmJnQubGVuZ3RoJiYodGhpcy5kZXRhaWxzPXRoaXMuZmlsdGVyQnlWYWxpZERldGFpbHModCkpLHRoaXMudGl0bGU9dGhpcy5mb3JtYXRUaXRsZSh0aGlzLmRldGFpbHMpfWNsb3NlKCl7dGhpcy5tb2RhbC5jbG9zZSgpLHRoaXMuY2xvc2VkLmVtaXQoKX1mb3JtYXREZXRhaWxJdGVtVGl0bGUodCl7cmV0dXJuIHQuY29kZT9gJHt0LmNvZGV9IC0gJHt0Lm1lc3NhZ2V9YDp0Lm1lc3NhZ2V9b3Blbigpe3RoaXMubW9kYWwub3BlbigpfXR5cGVDb2xvcih0KXtyZXR1cm4gWXdbdF19dHlwZVZhbHVlKHQpe3JldHVybiBYd1t0aGlzLmxhbmd1YWdlXVt0XXx8dH1hZGRWYWxpZERldGFpbCh0LGUpe3JldHVybiBlLm1lc3NhZ2U/dC5jb25jYXQodGhpcy5nZXRWYWxpZERldGFpbFByb3BlcnRpZXMoZSkpOnR9Z2V0VmFsaWREZXRhaWxQcm9wZXJ0aWVzKHtjb2RlOnQsbWVzc2FnZTplLGRldGFpbGVkTWVzc2FnZTpuLHR5cGU6cn0pe3JldHVybntjb2RlOnQsbWVzc2FnZTplLGRldGFpbGVkTWVzc2FnZTpuLHR5cGU6cn19ZmlsdGVyQnlWYWxpZERldGFpbHModCl7cmV0dXJuIHQucmVkdWNlKCh0LGUpPT50aGlzLmFkZFZhbGlkRGV0YWlsKHQsZSksW10pfWZvcm1hdFRpdGxlKHQpe3JldHVybiB0Lmxlbmd0aD4xP2Ake3RoaXMubGl0ZXJhbHMuZGV0YWlsc30gKCR7dC5sZW5ndGh9KWA6dGhpcy5saXRlcmFscy5kZXRhaWx9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHZvKGNiKSl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWh0dHAtaW50ZXJjZXB0b3ItZGV0YWlsIl1dLHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmVWMoSEMsNyksMiZ0KXtsZXQgdDskYyh0PVdjKCkpJiYoZS5tb2RhbD10LmZpcnN0KX19LGRlY2xzOjQsdmFyczozLGNvbnN0czpbWyJwLWhpZGUtY2xvc2UiLCIiLCJwLXNpemUiLCJsZyIsMywicC1wcmltYXJ5LWFjdGlvbiIsInAtdGl0bGUiXSxbMSwicG8tcm93Il0sWzEsInBvLW1kLTEyIiwicG8tbXQtMSIsInBvLW1iLTEiXSxbMywicC1sYWJlbCIsNCwibmdGb3IiLCJuZ0Zvck9mIl0sWzMsInAtbGFiZWwiXSxbImNsYXNzIiwicG8tcm93IHBvLW1iLTEiLDQsIm5nSWYiXSxbMSwicG8tcm93IiwicG8tbWItMSJdLFszLCJwLWNvbG9yIiwicC12YWx1ZSJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKHdvKDAsInBvLW1vZGFsIiwwKSx3bygxLCJkaXYiLDEpLHdvKDIsInBvLWFjY29yZGlvbiIsMiksbW8oMyx6diw1LDMsInBvLWFjY29yZGlvbi1pdGVtIiwzKSxfbygpLF9vKCksX28oKSksMiZ0JiYoYm8oInAtcHJpbWFyeS1hY3Rpb24iLGUucHJpbWFyeUFjdGlvbikoInAtdGl0bGUiLGUudGl0bGUpLCRzKDMpLGJvKCJuZ0Zvck9mIixlLmRldGFpbHMpKX0sZGlyZWN0aXZlczpbSEMsV3YsaWgsVXYsYWgsRHddLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpO2NvbnN0IFF3PXtwdDp7aGVscDoiQWp1ZGEiLGRldGFpbHM6IkRldGFsaGVzIixzZXJ2ZXJOb3RSZXNwb25zZToiU2Vydmlkb3Igblx4ZTNvIGVzdFx4ZTEgcmVzcG9uZGVuZG8ifSxlbjp7aGVscDoiSGVscCIsZGV0YWlsczoiRGV0YWlscyIsc2VydmVyTm90UmVzcG9uc2U6IlNlcnZlciBpcyBub3QgcmVzcG9uZGluZyJ9LGVzOntoZWxwOiJBeXVkYSIsZGV0YWlsczoiRGV0YWxsZXMiLHNlcnZlck5vdFJlc3BvbnNlOiJFbCBzZXJ2aWRvciBubyBlc3RceGUxIHJlc3BvbmRpZW5kbyJ9LHJ1OntoZWxwOiJcdTA0MWZcdTA0M2VcdTA0M2NcdTA0M2VcdTA0MzNcdTA0MzhcdTA0NDJcdTA0MzUiLGRldGFpbHM6Ilx1MDQxNFx1MDQzNVx1MDQ0Mlx1MDQzMFx1MDQzYlx1MDQzOCIsc2VydmVyTm90UmVzcG9uc2U6Ilx1MDQyMVx1MDQzNVx1MDQ0MFx1MDQzMlx1MDQzNVx1MDQ0MCBcdTA0M2RcdTA0MzUgXHUwNDNlXHUwNDQyXHUwNDMyXHUwNDM1XHUwNDQ3XHUwNDMwXHUwNDM1XHUwNDQyIn19LEt3PSJYLVBPLU5vLUVycm9yIixKdz0iWC1QTy1Oby1NZXNzYWdlIjtsZXQgdF89KCgpPT57Y2xhc3MgdCBleHRlbmRzIGNsYXNze2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLmNvbXBvbmVudEluamVjdG9yPXQsdGhpcy5ub3RpZmljYXRpb249ZSx0aGlzLmxhbmd1YWdlU2VydmljZT1uLHRoaXMubm90aWZpY2F0aW9uVHlwZXM9WyJzdWNjZXNzIiwid2FybmluZyIsImVycm9yIiwiaW5mb3JtYXRpb24iXSx0aGlzLmxpdGVyYWxzPVF3W3RoaXMubGFuZ3VhZ2VTZXJ2aWNlLmdldFNob3J0TGFuZ3VhZ2UoKV0sdGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQ9dm9pZCAwfWludGVyY2VwdCh0LGUpe2NvbnN0IG49dC5jbG9uZSgpO3JldHVybiB0PXQmJnRoaXMuaGFzUGFyYW1ldGVycyh0KT90aGlzLmNsb25lUmVxdWVzdFdpdGhvdXRQYXJhbWV0ZXJzKHQpOnQsZS5oYW5kbGUodCkucGlwZShEcCh0PT57dCBpbnN0YW5jZW9mIE5tJiZ0aGlzLnByb2Nlc3NSZXNwb25zZSh0LG4pfSx0PT57dGhpcy5wcm9jZXNzRXJyb3JSZXNwb25zZSh0LG4pfSkpfXByb2Nlc3NSZXNwb25zZSh0LGUpe2lmKCF0aGlzLmhhc05vTWVzc2FnZVBhcmFtKGUpJiZ0LmJvZHkmJnQuYm9keS5fbWVzc2FnZXMpe2NvbnN0IGU9dC5ib2R5Ll9tZXNzYWdlcztlIGluc3RhbmNlb2YgQXJyYXk/ZS5mb3JFYWNoKHQ9Pnt0aGlzLnNob3dOb3RpZmljYXRpb24odCl9KTp0aGlzLnNob3dOb3RpZmljYXRpb24oZSl9fXByb2Nlc3NFcnJvclJlc3BvbnNlKHQsZSl7Y29uc3Qgbj0wIT09dC5zdGF0dXM/dC5lcnJvcjp7Y29kZTowLG1lc3NhZ2U6dGhpcy5saXRlcmFscy5zZXJ2ZXJOb3RSZXNwb25zZSxkZXRhaWxlZE1lc3NhZ2U6dC5tZXNzYWdlfSxyPXRoaXMuaGFzTm9FcnJvclBhcmFtKGUpLHM9dGhpcy5oYXNOb01lc3NhZ2VQYXJhbShlKSxpPXRoaXMubm90aWZpY2F0aW9uVHlwZXMuc2xpY2UoMSk7biYmbi5tZXNzYWdlJiYhciYmIXMmJnRoaXMuc2hvd05vdGlmaWNhdGlvbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbikse3R5cGU6aS5pbmNsdWRlcyhuLnR5cGUpP24udHlwZToiZXJyb3IifSkpfWNsb25lUmVxdWVzdFdpdGhvdXRQYXJhbWV0ZXJzKHQpe2NvbnN0IGU9dC5oZWFkZXJzLmRlbGV0ZShLdykuZGVsZXRlKEp3KTtyZXR1cm4gdC5jbG9uZSh7aGVhZGVyczplfSl9Y3JlYXRlTW9kYWwodCl7Y29uc3QgZT10LmRldGFpbHM/W3QsLi4udC5kZXRhaWxzXTpbdF07dGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQ9dGhpcy5jb21wb25lbnRJbmplY3Rvci5jcmVhdGVDb21wb25lbnRJbkFwcGxpY2F0aW9uKFp3KSx0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudC5pbnN0YW5jZS5kZXRhaWw9ZSx0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudC5pbnN0YW5jZS5jbG9zZWQuc3Vic2NyaWJlKCgpPT50aGlzLmRlc3Ryb3lNb2RhbCgpKSx0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudC5pbnN0YW5jZS5vcGVuKCl9ZGVzdHJveU1vZGFsKCl7dGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQmJih0aGlzLmNvbXBvbmVudEluamVjdG9yLmRlc3Ryb3lDb21wb25lbnRJbkFwcGxpY2F0aW9uKHRoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50KSx0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudD12b2lkIDApfWhhc01lc3NhZ2UodCl7cmV0dXJuIHQmJnQubWVzc2FnZX1oYXNOb0Vycm9yUGFyYW0odCl7Y29uc3QgZT10JiZ0LmhlYWRlcnMuZ2V0KEt3KTtyZXR1cm4gZSYmInRydWUiPT09ZS50b1N0cmluZygpLnRvTG9jYWxlTG93ZXJDYXNlKCl9aGFzTm9NZXNzYWdlUGFyYW0odCl7Y29uc3QgZT10JiZ0LmhlYWRlcnMuZ2V0KEp3KTtyZXR1cm4gZSYmInRydWUiPT09ZS50b1N0cmluZygpLnRvTG9jYWxlTG93ZXJDYXNlKCl9aGFzUGFyYW1ldGVycyh0KXtyZXR1cm4gdC5oZWFkZXJzLmhhcyhLdyl8fHQuaGVhZGVycy5oYXMoSncpfXNob3dOb3RpZmljYXRpb24odCl7aWYoIXRoaXMuaGFzTWVzc2FnZSh0KSlyZXR1cm47Y29uc3QgZT10aGlzLm5vdGlmaWNhdGlvblR5cGVzLmluY2x1ZGVzKHQudHlwZSk/dC50eXBlOiJpbmZvcm1hdGlvbiIsbj10aGlzLmdlbmVyYXRlTm90aWZpY2F0aW9uQWN0aW9uKHQpO3RoaXMubm90aWZpY2F0aW9uW2VdKHttZXNzYWdlOnQubWVzc2FnZSxhY3Rpb25MYWJlbDpuLmxhYmVsLGFjdGlvbjpuLmFjdGlvbn0pfWdlbmVyYXRlRGV0YWlsTW9kYWwodCl7cmV0dXJuKCk9Pnt0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudHx8dGhpcy5jcmVhdGVNb2RhbCh0KX19Z2VuZXJhdGVOb3RpZmljYXRpb25BY3Rpb24odCl7bGV0IGUsbjtyZXR1cm4hdC5oZWxwVXJsfHx0LmRldGFpbGVkTWVzc2FnZXx8dC5kZXRhaWxzPyh0LmRldGFpbGVkTWVzc2FnZXx8dC5kZXRhaWxzKSYmKG49dGhpcy5saXRlcmFscy5kZXRhaWxzLGU9dGhpcy5nZW5lcmF0ZURldGFpbE1vZGFsKHQpKToobj10aGlzLmxpdGVyYWxzLmhlbHAsZT10aGlzLmdlbmVyYXRlVXJsSGVscEZ1bmN0aW9uKHQuaGVscFVybCkpLHtsYWJlbDpuLGFjdGlvbjplfX1nZW5lcmF0ZVVybEhlbHBGdW5jdGlvbih0KXtyZXR1cm4oKT0+e3dpbmRvdy5vcGVuKHQsIl9ibGFuayIpfX19e2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcihlLHQsbil9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhyKHB3KSxocihHQyksaHIoY2IpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxlXz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W3RfLHB3LHtwcm92aWRlOlVtLHVzZUNsYXNzOnRfLG11bHRpOiEwfV0saW1wb3J0czpbW1NoLFh2LFZDLHN3LEV3XV19KSx0fSkoKSxuXz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5jb250cm9sSHR0cFJlcXVlc3Q9bmV3IER9Z2V0Q29udHJvbEh0dHBSZXF1ZXN0KCl7cmV0dXJuIHRoaXMuY29udHJvbEh0dHBSZXF1ZXN0LmFzT2JzZXJ2YWJsZSgpfXNlbmQodD0wKXt0aGlzLmNvbnRyb2xIdHRwUmVxdWVzdC5uZXh0KHQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCByXz0iWC1QTy1Oby1Db3VudC1QZW5kaW5nLVJlcXVlc3RzIixzXz0iWC1QTy1TY3JlZW4tTG9jayI7bGV0IGlfPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLmNvbnRyb2xIdHRwUmVxdWVzdD10LHRoaXMucG9Db21wb25lbnRJbmplY3Rvcj1lLHRoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnQ9dm9pZCAwLHRoaXMucGVuZGluZ1JlcXVlc3RzPTAsdGhpcy5vdmVybGF5UmVxdWVzdHM9MH1pbnRlcmNlcHQodCxlKXtjb25zdCBuPXQuY2xvbmUoKTtyZXR1cm4gdD10aGlzLnJlcXVlc3RDbG9uZVdpdGhvdXRIZWFkZXJQYXJhbShbcl8sc19dLHQpLHRoaXMuc2V0Q291bnRQZW5kaW5nUmVxdWVzdHMoITAsbiksdGhpcy5zZXRDb3VudE92ZXJsYXlSZXF1ZXN0cyghMCxuKSxlLmhhbmRsZSh0KS5waXBlKERwKHQ9Pnt0IGluc3RhbmNlb2YgTm0mJih0aGlzLnNldENvdW50UGVuZGluZ1JlcXVlc3RzKCExLG4pLHRoaXMuc2V0Q291bnRPdmVybGF5UmVxdWVzdHMoITEsbikpfSksYXAodD0+KHRoaXMuc2V0Q291bnRQZW5kaW5nUmVxdWVzdHMoITEsbiksdGhpcy5zZXRDb3VudE92ZXJsYXlSZXF1ZXN0cyghMSxuKSxtZCh0KSkpKX1nZXRDb3VudFBlbmRpbmdSZXF1ZXN0cygpe3JldHVybiB0aGlzLmNvbnRyb2xIdHRwUmVxdWVzdC5nZXRDb250cm9sSHR0cFJlcXVlc3QoKX1idWlsZExvYWRpbmcoKXt0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50fHwodGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudD10aGlzLnBvQ29tcG9uZW50SW5qZWN0b3IuY3JlYXRlQ29tcG9uZW50SW5BcHBsaWNhdGlvbihmYiksdGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudC5pbnN0YW5jZS5zY3JlZW5Mb2NrPSEwLHRoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnQuaW5zdGFuY2UuY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpKX1kZXN0cm95TG9hZGluZygpe3RoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnQmJih0aGlzLnBvQ29tcG9uZW50SW5qZWN0b3IuZGVzdHJveUNvbXBvbmVudEluQXBwbGljYXRpb24odGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudCksdGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudD12b2lkIDApfXJlcXVlc3RDbG9uZVdpdGhvdXRIZWFkZXJQYXJhbSh0LGUpe2xldCBuPSExO3JldHVybiB0LmZvckVhY2godD0+e2UuaGVhZGVycy5oYXModCkmJihlLmhlYWRlcnMuZGVsZXRlKHQpLG49ITApfSksbj9lLmNsb25lKHtoZWFkZXJzOmUuaGVhZGVyc30pOmV9c2V0Q291bnRQZW5kaW5nUmVxdWVzdHModCxlKXtjb25zdCBuPWUuaGVhZGVycy5oYXMocl8pLHI9ZS5oZWFkZXJzLmdldChyXyk7biYmInRydWUiPT09ci50b1N0cmluZygpLnRvTG93ZXJDYXNlKCl8fCh0aGlzLnBlbmRpbmdSZXF1ZXN0cys9dD8xOi0xLHRoaXMuY29udHJvbEh0dHBSZXF1ZXN0LnNlbmQodGhpcy5wZW5kaW5nUmVxdWVzdHMpKX1zZXRDb3VudE92ZXJsYXlSZXF1ZXN0cyh0LGUpe2lmKGUuaGVhZGVycy5oYXMoc18pKXtpZigiZmFsc2UiPT09ZS5oZWFkZXJzLmdldChzXykudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKXJldHVybjt0aGlzLm92ZXJsYXlSZXF1ZXN0cys9dD8xOi0xLHRoaXMub3ZlcmxheVJlcXVlc3RzPjA/dGhpcy5idWlsZExvYWRpbmcoKTp0aGlzLmRlc3Ryb3lMb2FkaW5nKCl9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShocihuXyksaHIoR0MpKX0sdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KGhyKG5fKSxocihHQykpfSx0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QifSksdH0pKCksb189KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltuXyxpXyxHQyx7cHJvdmlkZTpVbSx1c2VDbGFzczppXyxtdWx0aTohMH1dLGltcG9ydHM6W1tiYl1dfSksdH0pKCksYV89KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tlXyxvX10sZV8sb19dfSksdH0pKCksY189KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tjd10sY3ddfSksdH0pKCksbF89KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltwd10saW1wb3J0czpbW1d3LEd3LHF3LGFfLGNfLGl3XSxXdyxHdyxhXyxxdyxjXyxpd119KSx0fSkoKTtuZXcgcW4oIkkxOE5fQ09ORklHIik7Y29uc3QgdV89ZnVuY3Rpb24oKXtyZXR1cm57bGFiZWw6IkFuZ3VsYXIiLGRhdGE6MTAwfX0saF89ZnVuY3Rpb24oKXtyZXR1cm57bGFiZWw6IlJlYWN0IixkYXRhOjEwfX0sZF89ZnVuY3Rpb24odCxlKXtyZXR1cm5bdCxlXX07bGV0IHBfPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLnRpdGxlPSJjaGFydCJ9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJjaGFydC1yb290Il1dLGRlY2xzOjEsdmFyczo2LGNvbnN0czpbWzMsInAtc2VyaWVzIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scixzLGksbzsxJnQmJkRvKDAsInBvLWNoYXJ0IiwwKSwyJnQmJmJvKCJwLXNlcmllcyIsKG49MyxyPWRfLHM9VGMoMSx1XyksaT1UYygyLGhfKSxmdW5jdGlvbih0LGUsbixyLHMsaSxvKXtjb25zdCBhPWUrbjtyZXR1cm4gcG8odCxhLHMsaSk/dW8odCxhKzIsbz9yLmNhbGwobyxzLGkpOnIocyxpKSk6a2ModCxhKzIpfShJZSgpLFZlKCksbixyLHMsaSxvKSkpfSxkaXJlY3RpdmVzOltkQ10sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksZl89KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXtjb25zdCBlPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1mdW5jdGlvbih0LGUpe3JldHVybiBlLmdldChTYSkucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodCkuaW5wdXRzfSh0LGUuaW5qZWN0b3IpLHI9ZS5zdHJhdGVneUZhY3Rvcnl8fG5ldyBrZCh0LGUuaW5qZWN0b3IpLHM9ZnVuY3Rpb24odCl7Y29uc3QgZT17fTtyZXR1cm4gdC5mb3JFYWNoKCh7cHJvcE5hbWU6dCx0ZW1wbGF0ZU5hbWU6bn0pPT57dmFyIHI7ZVsocj1uLHIucmVwbGFjZSgvW0EtWl0vZyx0PT5gLSR7dC50b0xvd2VyQ2FzZSgpfWApKV09dH0pLGV9KG4pO2NsYXNzIGkgZXh0ZW5kcyBJZHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuaW5qZWN0b3I9dH1nZXQgbmdFbGVtZW50U3RyYXRlZ3koKXtpZighdGhpcy5fbmdFbGVtZW50U3RyYXRlZ3kpe2NvbnN0IHQ9dGhpcy5fbmdFbGVtZW50U3RyYXRlZ3k9ci5jcmVhdGUodGhpcy5pbmplY3Rvcnx8ZS5pbmplY3Rvcik7bi5mb3JFYWNoKCh7cHJvcE5hbWU6ZX0pPT57aWYoIXRoaXMuaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuO2NvbnN0IG49dGhpc1tlXTtkZWxldGUgdGhpc1tlXSx0LnNldElucHV0VmFsdWUoZSxuKX0pfXJldHVybiB0aGlzLl9uZ0VsZW1lbnRTdHJhdGVneX1hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sodCxlLG4scil7dGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5zZXRJbnB1dFZhbHVlKHNbdF0sbil9Y29ubmVjdGVkQ2FsbGJhY2soKXtsZXQgdD0hMTt0aGlzLm5nRWxlbWVudFN0cmF0ZWd5LmV2ZW50cyYmKHRoaXMuc3Vic2NyaWJlVG9FdmVudHMoKSx0PSEwKSx0aGlzLm5nRWxlbWVudFN0cmF0ZWd5LmNvbm5lY3QodGhpcyksdHx8dGhpcy5zdWJzY3JpYmVUb0V2ZW50cygpfWRpc2Nvbm5lY3RlZENhbGxiYWNrKCl7dGhpcy5fbmdFbGVtZW50U3RyYXRlZ3kmJnRoaXMuX25nRWxlbWVudFN0cmF0ZWd5LmRpc2Nvbm5lY3QoKSx0aGlzLm5nRWxlbWVudEV2ZW50c1N1YnNjcmlwdGlvbiYmKHRoaXMubmdFbGVtZW50RXZlbnRzU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCksdGhpcy5uZ0VsZW1lbnRFdmVudHNTdWJzY3JpcHRpb249bnVsbCl9c3Vic2NyaWJlVG9FdmVudHMoKXt0aGlzLm5nRWxlbWVudEV2ZW50c1N1YnNjcmlwdGlvbj10aGlzLm5nRWxlbWVudFN0cmF0ZWd5LmV2ZW50cy5zdWJzY3JpYmUodD0+e2NvbnN0IGU9ZnVuY3Rpb24odCxlLG4pe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBDdXN0b21FdmVudCl7Y29uc3Qgcj10LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO3JldHVybiByLmluaXRDdXN0b21FdmVudChlLCExLCExLG4pLHJ9cmV0dXJuIG5ldyBDdXN0b21FdmVudChlLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOm59KX0odGhpcy5vd25lckRvY3VtZW50LHQubmFtZSx0LnZhbHVlKTt0aGlzLmRpc3BhdGNoRXZlbnQoZSl9KX19cmV0dXJuIGkub2JzZXJ2ZWRBdHRyaWJ1dGVzPU9iamVjdC5rZXlzKHMpLG4uZm9yRWFjaCgoe3Byb3BOYW1lOnR9KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSx0LHtnZXQoKXtyZXR1cm4gdGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5nZXRJbnB1dFZhbHVlKHQpfSxzZXQoZSl7dGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5zZXRJbnB1dFZhbHVlKHQsZSl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9KSxpfShwXyx7aW5qZWN0b3I6dH0pO2N1c3RvbUVsZW1lbnRzLmRlZmluZSgiY2hhcnQtcm9vdCIsZSl9bmdEb0Jvb3RzdHJhcCgpe319cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaHIoS2kpKX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW2lkLGxfLHhDXV19KSx0fSkoKTsoZnVuY3Rpb24oKXtpZihGbCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBlbmFibGUgcHJvZCBtb2RlIGFmdGVyIHBsYXRmb3JtIHNldHVwLiIpO2tsPSExfSkoKSxyZCgpLmJvb3RzdHJhcE1vZHVsZShmXykuY2F0Y2godD0+Y29uc29sZS5lcnJvcih0KSl9LDYyMTp0PT57ZnVuY3Rpb24gZSh0KXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKT0+e3ZhciBlPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3QrIiciKTt0aHJvdyBlLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGV9KX1lLmtleXM9KCk9PltdLGUucmVzb2x2ZT1lLGUuaWQ9NjIxLHQuZXhwb3J0cz1lfX0sdD0+eyJ1c2Ugc3RyaWN0Ijt0KHQucz0xMjApfV0pOw==';