export const pocChart = 'KCgpPT57InVzZSBzdHJpY3QiO3ZhciBlLHI9e30sbj17fTtmdW5jdGlvbiB0KGUpe3ZhciBvPW5bZV07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBhPW5bZV09e2V4cG9ydHM6e319O3JldHVybiByW2VdKGEsYS5leHBvcnRzLHQpLGEuZXhwb3J0c310Lm09cixlPVtdLHQuTz0ocixuLG8sYSk9PntpZighbil7dmFyIGw9MS8wO2Zvcih1PTA7dTxlLmxlbmd0aDt1Kyspe2Zvcih2YXJbbixvLGFdPWVbdV0scz0hMCxwPTA7cDxuLmxlbmd0aDtwKyspKCExJmF8fGw+PWEpJiZPYmplY3Qua2V5cyh0Lk8pLmV2ZXJ5KGU9PnQuT1tlXShuW3BdKSk/bi5zcGxpY2UocC0tLDEpOihzPSExLGE8bCYmKGw9YSkpO3MmJihlLnNwbGljZSh1LS0sMSkscj1vKCkpfXJldHVybiByfWE9YXx8MDtmb3IodmFyIHU9ZS5sZW5ndGg7dT4wJiZlW3UtMV1bMl0+YTt1LS0pZVt1XT1lW3UtMV07ZVt1XT1bbixvLGFdfSx0Lm49ZT0+e3ZhciByPWUmJmUuX19lc01vZHVsZT8oKT0+ZS5kZWZhdWx0OigpPT5lO3JldHVybiB0LmQocix7YTpyfSkscn0sdC5kPShlLHIpPT57Zm9yKHZhciBuIGluIHIpdC5vKHIsbikmJiF0Lm8oZSxuKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTohMCxnZXQ6cltuXX0pfSx0Lm89KGUscik9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpLCgoKT0+e3ZhciBlPXs2NjY6MH07dC5PLmo9cj0+MD09PWVbcl07dmFyIHI9KHIsbik9Pnt2YXIgbyxhLFtsLHMscF09bix1PTA7Zm9yKG8gaW4gcyl0Lm8ocyxvKSYmKHQubVtvXT1zW29dKTtpZihwKXZhciBmPXAodCk7Zm9yKHImJnIobik7dTxsLmxlbmd0aDt1KyspdC5vKGUsYT1sW3VdKSYmZVthXSYmZVthXVswXSgpLGVbbFt1XV09MDtyZXR1cm4gdC5PKGYpfSxuPXNlbGYud2VicGFja0NodW5rbmdfZWxlbWVudHNfZXhhbXBsZT1zZWxmLndlYnBhY2tDaHVua25nX2VsZW1lbnRzX2V4YW1wbGV8fFtdO24uZm9yRWFjaChyLmJpbmQobnVsbCwwKSksbi5wdXNoPXIuYmluZChudWxsLG4ucHVzaC5iaW5kKG4pKX0pKCl9KSgpOyhzZWxmLndlYnBhY2tDaHVua25nX2VsZW1lbnRzX2V4YW1wbGU9c2VsZi53ZWJwYWNrQ2h1bmtuZ19lbGVtZW50c19leGFtcGxlfHxbXSkucHVzaChbWzQyOV0sezE2NzooKT0+eyJ1c2Ugc3RyaWN0IjshZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnBlcmZvcm1hbmNlO2Z1bmN0aW9uIG4oZSl7dCYmdC5tYXJrJiZ0Lm1hcmsoZSl9ZnVuY3Rpb24gbyhlLG4pe3QmJnQubWVhc3VyZSYmdC5tZWFzdXJlKGUsbil9bigiWm9uZSIpO2NvbnN0IHI9ZS5fX1pvbmVfc3ltYm9sX3ByZWZpeHx8Il9fem9uZV9zeW1ib2xfXyI7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gcitlfWNvbnN0IGE9ITA9PT1lW3MoImZvcmNlRHVwbGljYXRlWm9uZUNoZWNrIildO2lmKGUuWm9uZSl7aWYoYXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUuWm9uZS5fX3N5bWJvbF9fKXRocm93IG5ldyBFcnJvcigiWm9uZSBhbHJlYWR5IGxvYWRlZC4iKTtyZXR1cm4gZS5ab25lfWNsYXNzIGl7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9wYXJlbnQ9ZSx0aGlzLl9uYW1lPXQ/dC5uYW1lfHwidW5uYW1lZCI6Ijxyb290PiIsdGhpcy5fcHJvcGVydGllcz10JiZ0LnByb3BlcnRpZXN8fHt9LHRoaXMuX3pvbmVEZWxlZ2F0ZT1uZXcgbCh0aGlzLHRoaXMuX3BhcmVudCYmdGhpcy5fcGFyZW50Ll96b25lRGVsZWdhdGUsdCl9c3RhdGljIGFzc2VydFpvbmVQYXRjaGVkKCl7aWYoZS5Qcm9taXNlIT09Ty5ab25lQXdhcmVQcm9taXNlKXRocm93IG5ldyBFcnJvcigiWm9uZS5qcyBoYXMgZGV0ZWN0ZWQgdGhhdCBab25lQXdhcmVQcm9taXNlIGAod2luZG93fGdsb2JhbCkuUHJvbWlzZWAgaGFzIGJlZW4gb3ZlcndyaXR0ZW4uXG5Nb3N0IGxpa2VseSBjYXVzZSBpcyB0aGF0IGEgUHJvbWlzZSBwb2x5ZmlsbCBoYXMgYmVlbiBsb2FkZWQgYWZ0ZXIgWm9uZS5qcyAoUG9seWZpbGxpbmcgUHJvbWlzZSBhcGkgaXMgbm90IG5lY2Vzc2FyeSB3aGVuIHpvbmUuanMgaXMgbG9hZGVkLiBJZiB5b3UgbXVzdCBsb2FkIG9uZSwgZG8gc28gYmVmb3JlIGxvYWRpbmcgem9uZS5qcy4pIil9c3RhdGljIGdldCByb290KCl7bGV0IGU9aS5jdXJyZW50O2Zvcig7ZS5wYXJlbnQ7KWU9ZS5wYXJlbnQ7cmV0dXJuIGV9c3RhdGljIGdldCBjdXJyZW50KCl7cmV0dXJuIHouem9uZX1zdGF0aWMgZ2V0IGN1cnJlbnRUYXNrKCl7cmV0dXJuIGp9c3RhdGljIF9fbG9hZF9wYXRjaCh0LHIscz0hMSl7aWYoTy5oYXNPd25Qcm9wZXJ0eSh0KSl7aWYoIXMmJmEpdGhyb3cgRXJyb3IoIkFscmVhZHkgbG9hZGVkIHBhdGNoOiAiK3QpfWVsc2UgaWYoIWVbIl9fWm9uZV9kaXNhYmxlXyIrdF0pe2NvbnN0IHM9IlpvbmU6Iit0O24ocyksT1t0XT1yKGUsaSxDKSxvKHMscyl9fWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy5fcGFyZW50fWdldCBuYW1lKCl7cmV0dXJuIHRoaXMuX25hbWV9Z2V0KGUpe2NvbnN0IHQ9dGhpcy5nZXRab25lV2l0aChlKTtpZih0KXJldHVybiB0Ll9wcm9wZXJ0aWVzW2VdfWdldFpvbmVXaXRoKGUpe2xldCB0PXRoaXM7Zm9yKDt0Oyl7aWYodC5fcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShlKSlyZXR1cm4gdDt0PXQuX3BhcmVudH1yZXR1cm4gbnVsbH1mb3JrKGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiWm9uZVNwZWMgcmVxdWlyZWQhIik7cmV0dXJuIHRoaXMuX3pvbmVEZWxlZ2F0ZS5mb3JrKHRoaXMsZSl9d3JhcChlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiRXhwZWN0aW5nIGZ1bmN0aW9uIGdvdDogIitlKTtjb25zdCBuPXRoaXMuX3pvbmVEZWxlZ2F0ZS5pbnRlcmNlcHQodGhpcyxlLHQpLG89dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gby5ydW5HdWFyZGVkKG4sdGhpcyxhcmd1bWVudHMsdCl9fXJ1bihlLHQsbixvKXt6PXtwYXJlbnQ6eix6b25lOnRoaXN9O3RyeXtyZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZSh0aGlzLGUsdCxuLG8pfWZpbmFsbHl7ej16LnBhcmVudH19cnVuR3VhcmRlZChlLHQ9bnVsbCxuLG8pe3o9e3BhcmVudDp6LHpvbmU6dGhpc307dHJ5e3RyeXtyZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZSh0aGlzLGUsdCxuLG8pfWNhdGNoKHIpe2lmKHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLHIpKXRocm93IHJ9fWZpbmFsbHl7ej16LnBhcmVudH19cnVuVGFzayhlLHQsbil7aWYoZS56b25lIT10aGlzKXRocm93IG5ldyBFcnJvcigiQSB0YXNrIGNhbiBvbmx5IGJlIHJ1biBpbiB0aGUgem9uZSBvZiBjcmVhdGlvbiEgKENyZWF0aW9uOiAiKyhlLnpvbmV8fHkpLm5hbWUrIjsgRXhlY3V0aW9uOiAiK3RoaXMubmFtZSsiKSIpO2lmKGUuc3RhdGU9PT12JiYoZS50eXBlPT09UHx8ZS50eXBlPT09RCkpcmV0dXJuO2NvbnN0IG89ZS5zdGF0ZSE9RTtvJiZlLl90cmFuc2l0aW9uVG8oRSxiKSxlLnJ1bkNvdW50Kys7Y29uc3Qgcj1qO2o9ZSx6PXtwYXJlbnQ6eix6b25lOnRoaXN9O3RyeXtlLnR5cGU9PUQmJmUuZGF0YSYmIWUuZGF0YS5pc1BlcmlvZGljJiYoZS5jYW5jZWxGbj12b2lkIDApO3RyeXtyZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZVRhc2sodGhpcyxlLHQsbil9Y2F0Y2gocyl7aWYodGhpcy5fem9uZURlbGVnYXRlLmhhbmRsZUVycm9yKHRoaXMscykpdGhyb3cgc319ZmluYWxseXtlLnN0YXRlIT09diYmZS5zdGF0ZSE9PVomJihlLnR5cGU9PVB8fGUuZGF0YSYmZS5kYXRhLmlzUGVyaW9kaWM/byYmZS5fdHJhbnNpdGlvblRvKGIsRSk6KGUucnVuQ291bnQ9MCx0aGlzLl91cGRhdGVUYXNrQ291bnQoZSwtMSksbyYmZS5fdHJhbnNpdGlvblRvKHYsRSx2KSkpLHo9ei5wYXJlbnQsaj1yfX1zY2hlZHVsZVRhc2soZSl7aWYoZS56b25lJiZlLnpvbmUhPT10aGlzKXtsZXQgdD10aGlzO2Zvcig7dDspe2lmKHQ9PT1lLnpvbmUpdGhyb3cgRXJyb3IoYGNhbiBub3QgcmVzY2hlZHVsZSB0YXNrIHRvICR7dGhpcy5uYW1lfSB3aGljaCBpcyBkZXNjZW5kYW50cyBvZiB0aGUgb3JpZ2luYWwgem9uZSAke2Uuem9uZS5uYW1lfWApO3Q9dC5wYXJlbnR9fWUuX3RyYW5zaXRpb25UbyhULHYpO2NvbnN0IHQ9W107ZS5fem9uZURlbGVnYXRlcz10LGUuX3pvbmU9dGhpczt0cnl7ZT10aGlzLl96b25lRGVsZWdhdGUuc2NoZWR1bGVUYXNrKHRoaXMsZSl9Y2F0Y2gobil7dGhyb3cgZS5fdHJhbnNpdGlvblRvKFosVCx2KSx0aGlzLl96b25lRGVsZWdhdGUuaGFuZGxlRXJyb3IodGhpcyxuKSxufXJldHVybiBlLl96b25lRGVsZWdhdGVzPT09dCYmdGhpcy5fdXBkYXRlVGFza0NvdW50KGUsMSksZS5zdGF0ZT09VCYmZS5fdHJhbnNpdGlvblRvKGIsVCksZX1zY2hlZHVsZU1pY3JvVGFzayhlLHQsbixvKXtyZXR1cm4gdGhpcy5zY2hlZHVsZVRhc2sobmV3IHUoUyxlLHQsbixvLHZvaWQgMCkpfXNjaGVkdWxlTWFjcm9UYXNrKGUsdCxuLG8scil7cmV0dXJuIHRoaXMuc2NoZWR1bGVUYXNrKG5ldyB1KEQsZSx0LG4sbyxyKSl9c2NoZWR1bGVFdmVudFRhc2soZSx0LG4sbyxyKXtyZXR1cm4gdGhpcy5zY2hlZHVsZVRhc2sobmV3IHUoUCxlLHQsbixvLHIpKX1jYW5jZWxUYXNrKGUpe2lmKGUuem9uZSE9dGhpcyl0aHJvdyBuZXcgRXJyb3IoIkEgdGFzayBjYW4gb25seSBiZSBjYW5jZWxsZWQgaW4gdGhlIHpvbmUgb2YgY3JlYXRpb24hIChDcmVhdGlvbjogIisoZS56b25lfHx5KS5uYW1lKyI7IEV4ZWN1dGlvbjogIit0aGlzLm5hbWUrIikiKTtlLl90cmFuc2l0aW9uVG8odyxiLEUpO3RyeXt0aGlzLl96b25lRGVsZWdhdGUuY2FuY2VsVGFzayh0aGlzLGUpfWNhdGNoKHQpe3Rocm93IGUuX3RyYW5zaXRpb25UbyhaLHcpLHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLHQpLHR9cmV0dXJuIHRoaXMuX3VwZGF0ZVRhc2tDb3VudChlLC0xKSxlLl90cmFuc2l0aW9uVG8odix3KSxlLnJ1bkNvdW50PTAsZX1fdXBkYXRlVGFza0NvdW50KGUsdCl7Y29uc3Qgbj1lLl96b25lRGVsZWdhdGVzOy0xPT10JiYoZS5fem9uZURlbGVnYXRlcz1udWxsKTtmb3IobGV0IG89MDtvPG4ubGVuZ3RoO28rKyluW29dLl91cGRhdGVUYXNrQ291bnQoZS50eXBlLHQpfX1pLl9fc3ltYm9sX189cztjb25zdCBjPXtuYW1lOiIiLG9uSGFzVGFzazooZSx0LG4sbyk9PmUuaGFzVGFzayhuLG8pLG9uU2NoZWR1bGVUYXNrOihlLHQsbixvKT0+ZS5zY2hlZHVsZVRhc2sobixvKSxvbkludm9rZVRhc2s6KGUsdCxuLG8scixzKT0+ZS5pbnZva2VUYXNrKG4sbyxyLHMpLG9uQ2FuY2VsVGFzazooZSx0LG4sbyk9PmUuY2FuY2VsVGFzayhuLG8pfTtjbGFzcyBse2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLl90YXNrQ291bnRzPXttaWNyb1Rhc2s6MCxtYWNyb1Rhc2s6MCxldmVudFRhc2s6MH0sdGhpcy56b25lPWUsdGhpcy5fcGFyZW50RGVsZWdhdGU9dCx0aGlzLl9mb3JrWlM9biYmKG4mJm4ub25Gb3JrP246dC5fZm9ya1pTKSx0aGlzLl9mb3JrRGxndD1uJiYobi5vbkZvcms/dDp0Ll9mb3JrRGxndCksdGhpcy5fZm9ya0N1cnJab25lPW4mJihuLm9uRm9yaz90aGlzLnpvbmU6dC5fZm9ya0N1cnJab25lKSx0aGlzLl9pbnRlcmNlcHRaUz1uJiYobi5vbkludGVyY2VwdD9uOnQuX2ludGVyY2VwdFpTKSx0aGlzLl9pbnRlcmNlcHREbGd0PW4mJihuLm9uSW50ZXJjZXB0P3Q6dC5faW50ZXJjZXB0RGxndCksdGhpcy5faW50ZXJjZXB0Q3VyclpvbmU9biYmKG4ub25JbnRlcmNlcHQ/dGhpcy56b25lOnQuX2ludGVyY2VwdEN1cnJab25lKSx0aGlzLl9pbnZva2VaUz1uJiYobi5vbkludm9rZT9uOnQuX2ludm9rZVpTKSx0aGlzLl9pbnZva2VEbGd0PW4mJihuLm9uSW52b2tlP3Q6dC5faW52b2tlRGxndCksdGhpcy5faW52b2tlQ3VyclpvbmU9biYmKG4ub25JbnZva2U/dGhpcy56b25lOnQuX2ludm9rZUN1cnJab25lKSx0aGlzLl9oYW5kbGVFcnJvclpTPW4mJihuLm9uSGFuZGxlRXJyb3I/bjp0Ll9oYW5kbGVFcnJvclpTKSx0aGlzLl9oYW5kbGVFcnJvckRsZ3Q9biYmKG4ub25IYW5kbGVFcnJvcj90OnQuX2hhbmRsZUVycm9yRGxndCksdGhpcy5faGFuZGxlRXJyb3JDdXJyWm9uZT1uJiYobi5vbkhhbmRsZUVycm9yP3RoaXMuem9uZTp0Ll9oYW5kbGVFcnJvckN1cnJab25lKSx0aGlzLl9zY2hlZHVsZVRhc2taUz1uJiYobi5vblNjaGVkdWxlVGFzaz9uOnQuX3NjaGVkdWxlVGFza1pTKSx0aGlzLl9zY2hlZHVsZVRhc2tEbGd0PW4mJihuLm9uU2NoZWR1bGVUYXNrP3Q6dC5fc2NoZWR1bGVUYXNrRGxndCksdGhpcy5fc2NoZWR1bGVUYXNrQ3VyclpvbmU9biYmKG4ub25TY2hlZHVsZVRhc2s/dGhpcy56b25lOnQuX3NjaGVkdWxlVGFza0N1cnJab25lKSx0aGlzLl9pbnZva2VUYXNrWlM9biYmKG4ub25JbnZva2VUYXNrP246dC5faW52b2tlVGFza1pTKSx0aGlzLl9pbnZva2VUYXNrRGxndD1uJiYobi5vbkludm9rZVRhc2s/dDp0Ll9pbnZva2VUYXNrRGxndCksdGhpcy5faW52b2tlVGFza0N1cnJab25lPW4mJihuLm9uSW52b2tlVGFzaz90aGlzLnpvbmU6dC5faW52b2tlVGFza0N1cnJab25lKSx0aGlzLl9jYW5jZWxUYXNrWlM9biYmKG4ub25DYW5jZWxUYXNrP246dC5fY2FuY2VsVGFza1pTKSx0aGlzLl9jYW5jZWxUYXNrRGxndD1uJiYobi5vbkNhbmNlbFRhc2s/dDp0Ll9jYW5jZWxUYXNrRGxndCksdGhpcy5fY2FuY2VsVGFza0N1cnJab25lPW4mJihuLm9uQ2FuY2VsVGFzaz90aGlzLnpvbmU6dC5fY2FuY2VsVGFza0N1cnJab25lKSx0aGlzLl9oYXNUYXNrWlM9bnVsbCx0aGlzLl9oYXNUYXNrRGxndD1udWxsLHRoaXMuX2hhc1Rhc2tEbGd0T3duZXI9bnVsbCx0aGlzLl9oYXNUYXNrQ3VyclpvbmU9bnVsbDtjb25zdCBvPW4mJm4ub25IYXNUYXNrOyhvfHx0JiZ0Ll9oYXNUYXNrWlMpJiYodGhpcy5faGFzVGFza1pTPW8/bjpjLHRoaXMuX2hhc1Rhc2tEbGd0PXQsdGhpcy5faGFzVGFza0RsZ3RPd25lcj10aGlzLHRoaXMuX2hhc1Rhc2tDdXJyWm9uZT1lLG4ub25TY2hlZHVsZVRhc2t8fCh0aGlzLl9zY2hlZHVsZVRhc2taUz1jLHRoaXMuX3NjaGVkdWxlVGFza0RsZ3Q9dCx0aGlzLl9zY2hlZHVsZVRhc2tDdXJyWm9uZT10aGlzLnpvbmUpLG4ub25JbnZva2VUYXNrfHwodGhpcy5faW52b2tlVGFza1pTPWMsdGhpcy5faW52b2tlVGFza0RsZ3Q9dCx0aGlzLl9pbnZva2VUYXNrQ3VyclpvbmU9dGhpcy56b25lKSxuLm9uQ2FuY2VsVGFza3x8KHRoaXMuX2NhbmNlbFRhc2taUz1jLHRoaXMuX2NhbmNlbFRhc2tEbGd0PXQsdGhpcy5fY2FuY2VsVGFza0N1cnJab25lPXRoaXMuem9uZSkpfWZvcmsoZSx0KXtyZXR1cm4gdGhpcy5fZm9ya1pTP3RoaXMuX2ZvcmtaUy5vbkZvcmsodGhpcy5fZm9ya0RsZ3QsdGhpcy56b25lLGUsdCk6bmV3IGkoZSx0KX1pbnRlcmNlcHQoZSx0LG4pe3JldHVybiB0aGlzLl9pbnRlcmNlcHRaUz90aGlzLl9pbnRlcmNlcHRaUy5vbkludGVyY2VwdCh0aGlzLl9pbnRlcmNlcHREbGd0LHRoaXMuX2ludGVyY2VwdEN1cnJab25lLGUsdCxuKTp0fWludm9rZShlLHQsbixvLHIpe3JldHVybiB0aGlzLl9pbnZva2VaUz90aGlzLl9pbnZva2VaUy5vbkludm9rZSh0aGlzLl9pbnZva2VEbGd0LHRoaXMuX2ludm9rZUN1cnJab25lLGUsdCxuLG8scik6dC5hcHBseShuLG8pfWhhbmRsZUVycm9yKGUsdCl7cmV0dXJuIXRoaXMuX2hhbmRsZUVycm9yWlN8fHRoaXMuX2hhbmRsZUVycm9yWlMub25IYW5kbGVFcnJvcih0aGlzLl9oYW5kbGVFcnJvckRsZ3QsdGhpcy5faGFuZGxlRXJyb3JDdXJyWm9uZSxlLHQpfXNjaGVkdWxlVGFzayhlLHQpe2xldCBuPXQ7aWYodGhpcy5fc2NoZWR1bGVUYXNrWlMpdGhpcy5faGFzVGFza1pTJiZuLl96b25lRGVsZWdhdGVzLnB1c2godGhpcy5faGFzVGFza0RsZ3RPd25lciksbj10aGlzLl9zY2hlZHVsZVRhc2taUy5vblNjaGVkdWxlVGFzayh0aGlzLl9zY2hlZHVsZVRhc2tEbGd0LHRoaXMuX3NjaGVkdWxlVGFza0N1cnJab25lLGUsdCksbnx8KG49dCk7ZWxzZSBpZih0LnNjaGVkdWxlRm4pdC5zY2hlZHVsZUZuKHQpO2Vsc2V7aWYodC50eXBlIT1TKXRocm93IG5ldyBFcnJvcigiVGFzayBpcyBtaXNzaW5nIHNjaGVkdWxlRm4uIik7ayh0KX1yZXR1cm4gbn1pbnZva2VUYXNrKGUsdCxuLG8pe3JldHVybiB0aGlzLl9pbnZva2VUYXNrWlM/dGhpcy5faW52b2tlVGFza1pTLm9uSW52b2tlVGFzayh0aGlzLl9pbnZva2VUYXNrRGxndCx0aGlzLl9pbnZva2VUYXNrQ3VyclpvbmUsZSx0LG4sbyk6dC5jYWxsYmFjay5hcHBseShuLG8pfWNhbmNlbFRhc2soZSx0KXtsZXQgbjtpZih0aGlzLl9jYW5jZWxUYXNrWlMpbj10aGlzLl9jYW5jZWxUYXNrWlMub25DYW5jZWxUYXNrKHRoaXMuX2NhbmNlbFRhc2tEbGd0LHRoaXMuX2NhbmNlbFRhc2tDdXJyWm9uZSxlLHQpO2Vsc2V7aWYoIXQuY2FuY2VsRm4pdGhyb3cgRXJyb3IoIlRhc2sgaXMgbm90IGNhbmNlbGFibGUiKTtuPXQuY2FuY2VsRm4odCl9cmV0dXJuIG59aGFzVGFzayhlLHQpe3RyeXt0aGlzLl9oYXNUYXNrWlMmJnRoaXMuX2hhc1Rhc2taUy5vbkhhc1Rhc2sodGhpcy5faGFzVGFza0RsZ3QsdGhpcy5faGFzVGFza0N1cnJab25lLGUsdCl9Y2F0Y2gobil7dGhpcy5oYW5kbGVFcnJvcihlLG4pfX1fdXBkYXRlVGFza0NvdW50KGUsdCl7Y29uc3Qgbj10aGlzLl90YXNrQ291bnRzLG89bltlXSxyPW5bZV09byt0O2lmKHI8MCl0aHJvdyBuZXcgRXJyb3IoIk1vcmUgdGFza3MgZXhlY3V0ZWQgdGhlbiB3ZXJlIHNjaGVkdWxlZC4iKTswIT1vJiYwIT1yfHx0aGlzLmhhc1Rhc2sodGhpcy56b25lLHttaWNyb1Rhc2s6bi5taWNyb1Rhc2s+MCxtYWNyb1Rhc2s6bi5tYWNyb1Rhc2s+MCxldmVudFRhc2s6bi5ldmVudFRhc2s+MCxjaGFuZ2U6ZX0pfX1jbGFzcyB1e2NvbnN0cnVjdG9yKHQsbixvLHIscyxhKXtpZih0aGlzLl96b25lPW51bGwsdGhpcy5ydW5Db3VudD0wLHRoaXMuX3pvbmVEZWxlZ2F0ZXM9bnVsbCx0aGlzLl9zdGF0ZT0ibm90U2NoZWR1bGVkIix0aGlzLnR5cGU9dCx0aGlzLnNvdXJjZT1uLHRoaXMuZGF0YT1yLHRoaXMuc2NoZWR1bGVGbj1zLHRoaXMuY2FuY2VsRm49YSwhbyl0aHJvdyBuZXcgRXJyb3IoImNhbGxiYWNrIGlzIG5vdCBkZWZpbmVkIik7dGhpcy5jYWxsYmFjaz1vO2NvbnN0IGk9dGhpczt0aGlzLmludm9rZT10PT09UCYmciYmci51c2VHP3UuaW52b2tlVGFzazpmdW5jdGlvbigpe3JldHVybiB1Lmludm9rZVRhc2suY2FsbChlLGksdGhpcyxhcmd1bWVudHMpfX1zdGF0aWMgaW52b2tlVGFzayhlLHQsbil7ZXx8KGU9dGhpcyksSSsrO3RyeXtyZXR1cm4gZS5ydW5Db3VudCsrLGUuem9uZS5ydW5UYXNrKGUsdCxuKX1maW5hbGx5ezE9PUkmJm0oKSxJLS19fWdldCB6b25lKCl7cmV0dXJuIHRoaXMuX3pvbmV9Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0YXRlfWNhbmNlbFNjaGVkdWxlUmVxdWVzdCgpe3RoaXMuX3RyYW5zaXRpb25Ubyh2LFQpfV90cmFuc2l0aW9uVG8oZSx0LG4pe2lmKHRoaXMuX3N0YXRlIT09dCYmdGhpcy5fc3RhdGUhPT1uKXRocm93IG5ldyBFcnJvcihgJHt0aGlzLnR5cGV9ICcke3RoaXMuc291cmNlfSc6IGNhbiBub3QgdHJhbnNpdGlvbiB0byAnJHtlfScsIGV4cGVjdGluZyBzdGF0ZSAnJHt0fScke24/IiBvciAnIituKyInIjoiIn0sIHdhcyAnJHt0aGlzLl9zdGF0ZX0nLmApO3RoaXMuX3N0YXRlPWUsZT09diYmKHRoaXMuX3pvbmVEZWxlZ2F0ZXM9bnVsbCl9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5kYXRhJiZ2b2lkIDAhPT10aGlzLmRhdGEuaGFuZGxlSWQ/dGhpcy5kYXRhLmhhbmRsZUlkLnRvU3RyaW5nKCk6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMpfXRvSlNPTigpe3JldHVybnt0eXBlOnRoaXMudHlwZSxzdGF0ZTp0aGlzLnN0YXRlLHNvdXJjZTp0aGlzLnNvdXJjZSx6b25lOnRoaXMuem9uZS5uYW1lLHJ1bkNvdW50OnRoaXMucnVuQ291bnR9fX1jb25zdCBoPXMoInNldFRpbWVvdXQiKSxwPXMoIlByb21pc2UiKSxmPXMoInRoZW4iKTtsZXQgZCxnPVtdLF89ITE7ZnVuY3Rpb24gayh0KXtpZigwPT09SSYmMD09PWcubGVuZ3RoKWlmKGR8fGVbcF0mJihkPWVbcF0ucmVzb2x2ZSgwKSksZCl7bGV0IGU9ZFtmXTtlfHwoZT1kLnRoZW4pLGUuY2FsbChkLG0pfWVsc2UgZVtoXShtLDApO3QmJmcucHVzaCh0KX1mdW5jdGlvbiBtKCl7aWYoIV8pe2ZvcihfPSEwO2cubGVuZ3RoOyl7Y29uc3QgdD1nO2c9W107Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IG89dFtuXTt0cnl7by56b25lLnJ1blRhc2sobyxudWxsLG51bGwpfWNhdGNoKGUpe0Mub25VbmhhbmRsZWRFcnJvcihlKX19fUMubWljcm90YXNrRHJhaW5Eb25lKCksXz0hMX19Y29uc3QgeT17bmFtZToiTk8gWk9ORSJ9LHY9Im5vdFNjaGVkdWxlZCIsVD0ic2NoZWR1bGluZyIsYj0ic2NoZWR1bGVkIixFPSJydW5uaW5nIix3PSJjYW5jZWxpbmciLFo9InVua25vd24iLFM9Im1pY3JvVGFzayIsRD0ibWFjcm9UYXNrIixQPSJldmVudFRhc2siLE89e30sQz17c3ltYm9sOnMsY3VycmVudFpvbmVGcmFtZTooKT0+eixvblVuaGFuZGxlZEVycm9yOlIsbWljcm90YXNrRHJhaW5Eb25lOlIsc2NoZWR1bGVNaWNyb1Rhc2s6ayxzaG93VW5jYXVnaHRFcnJvcjooKT0+IWlbcygiaWdub3JlQ29uc29sZUVycm9yVW5jYXVnaHRFcnJvciIpXSxwYXRjaEV2ZW50VGFyZ2V0OigpPT5bXSxwYXRjaE9uUHJvcGVydGllczpSLHBhdGNoTWV0aG9kOigpPT5SLGJpbmRBcmd1bWVudHM6KCk9PltdLHBhdGNoVGhlbjooKT0+UixwYXRjaE1hY3JvVGFzazooKT0+UixwYXRjaEV2ZW50UHJvdG90eXBlOigpPT5SLGlzSUVPckVkZ2U6KCk9PiExLGdldEdsb2JhbE9iamVjdHM6KCk9Pnt9LE9iamVjdERlZmluZVByb3BlcnR5OigpPT5SLE9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcjooKT0+e30sT2JqZWN0Q3JlYXRlOigpPT57fSxBcnJheVNsaWNlOigpPT5bXSxwYXRjaENsYXNzOigpPT5SLHdyYXBXaXRoQ3VycmVudFpvbmU6KCk9PlIsZmlsdGVyUHJvcGVydGllczooKT0+W10sYXR0YWNoT3JpZ2luVG9QYXRjaGVkOigpPT5SLF9yZWRlZmluZVByb3BlcnR5OigpPT5SLHBhdGNoQ2FsbGJhY2tzOigpPT5SfTtsZXQgej17cGFyZW50Om51bGwsem9uZTpuZXcgaShudWxsLG51bGwpfSxqPW51bGwsST0wO2Z1bmN0aW9uIFIoKXt9bygiWm9uZSIsIlpvbmUiKSxlLlpvbmU9aX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvd3x8InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmfHxnbG9iYWwpO2NvbnN0IGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcix0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxuPU9iamVjdC5nZXRQcm90b3R5cGVPZixvPU9iamVjdC5jcmVhdGUscj1BcnJheS5wcm90b3R5cGUuc2xpY2Uscz0iYWRkRXZlbnRMaXN0ZW5lciIsYT0icmVtb3ZlRXZlbnRMaXN0ZW5lciIsaT1ab25lLl9fc3ltYm9sX18ocyksYz1ab25lLl9fc3ltYm9sX18oYSksbD0idHJ1ZSIsdT0iZmFsc2UiLGg9Wm9uZS5fX3N5bWJvbF9fKCIiKTtmdW5jdGlvbiBwKGUsdCl7cmV0dXJuIFpvbmUuY3VycmVudC53cmFwKGUsdCl9ZnVuY3Rpb24gZihlLHQsbixvLHIpe3JldHVybiBab25lLmN1cnJlbnQuc2NoZWR1bGVNYWNyb1Rhc2soZSx0LG4sbyxyKX1jb25zdCBkPVpvbmUuX19zeW1ib2xfXyxnPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LF89Zz93aW5kb3c6dm9pZCAwLGs9ZyYmX3x8Im9iamVjdCI9PXR5cGVvZiBzZWxmJiZzZWxmfHxnbG9iYWwsbT1bbnVsbF07ZnVuY3Rpb24geShlLHQpe2ZvcihsZXQgbj1lLmxlbmd0aC0xO24+PTA7bi0tKSJmdW5jdGlvbiI9PXR5cGVvZiBlW25dJiYoZVtuXT1wKGVbbl0sdCsiXyIrbikpO3JldHVybiBlfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIWV8fCExIT09ZS53cml0YWJsZSYmISgiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXQmJnZvaWQgMD09PWUuc2V0KX1jb25zdCBUPSJ1bmRlZmluZWQiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSxiPSEoIm53ImluIGspJiZ2b2lkIDAhPT1rLnByb2Nlc3MmJiJbb2JqZWN0IHByb2Nlc3NdIj09PXt9LnRvU3RyaW5nLmNhbGwoay5wcm9jZXNzKSxFPSFiJiYhVCYmISghZ3x8IV8uSFRNTEVsZW1lbnQpLHc9dm9pZCAwIT09ay5wcm9jZXNzJiYiW29iamVjdCBwcm9jZXNzXSI9PT17fS50b1N0cmluZy5jYWxsKGsucHJvY2VzcykmJiFUJiYhKCFnfHwhXy5IVE1MRWxlbWVudCksWj17fSxTPWZ1bmN0aW9uKGUpe2lmKCEoZT1lfHxrLmV2ZW50KSlyZXR1cm47bGV0IHQ9WltlLnR5cGVdO3R8fCh0PVpbZS50eXBlXT1kKCJPTl9QUk9QRVJUWSIrZS50eXBlKSk7Y29uc3Qgbj10aGlzfHxlLnRhcmdldHx8ayxvPW5bdF07bGV0IHI7aWYoRSYmbj09PV8mJiJlcnJvciI9PT1lLnR5cGUpe2NvbnN0IHQ9ZTtyPW8mJm8uY2FsbCh0aGlzLHQubWVzc2FnZSx0LmZpbGVuYW1lLHQubGluZW5vLHQuY29sbm8sdC5lcnJvciksITA9PT1yJiZlLnByZXZlbnREZWZhdWx0KCl9ZWxzZSByPW8mJm8uYXBwbHkodGhpcyxhcmd1bWVudHMpLG51bGw9PXJ8fHJ8fGUucHJldmVudERlZmF1bHQoKTtyZXR1cm4gcn07ZnVuY3Rpb24gRChuLG8scil7bGV0IHM9ZShuLG8pO2lmKCFzJiZyJiZlKHIsbykmJihzPXtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLCFzfHwhcy5jb25maWd1cmFibGUpcmV0dXJuO2NvbnN0IGE9ZCgib24iK28rInBhdGNoZWQiKTtpZihuLmhhc093blByb3BlcnR5KGEpJiZuW2FdKXJldHVybjtkZWxldGUgcy53cml0YWJsZSxkZWxldGUgcy52YWx1ZTtjb25zdCBpPXMuZ2V0LGM9cy5zZXQsbD1vLnN1YnN0cigyKTtsZXQgdT1aW2xdO3V8fCh1PVpbbF09ZCgiT05fUFJPUEVSVFkiK2wpKSxzLnNldD1mdW5jdGlvbihlKXtsZXQgdD10aGlzO3R8fG4hPT1rfHwodD1rKSx0JiYodFt1XSYmdC5yZW1vdmVFdmVudExpc3RlbmVyKGwsUyksYyYmYy5hcHBseSh0LG0pLCJmdW5jdGlvbiI9PXR5cGVvZiBlPyh0W3VdPWUsdC5hZGRFdmVudExpc3RlbmVyKGwsUywhMSkpOnRbdV09bnVsbCl9LHMuZ2V0PWZ1bmN0aW9uKCl7bGV0IGU9dGhpcztpZihlfHxuIT09a3x8KGU9ayksIWUpcmV0dXJuIG51bGw7Y29uc3QgdD1lW3VdO2lmKHQpcmV0dXJuIHQ7aWYoaSl7bGV0IHQ9aSYmaS5jYWxsKHRoaXMpO2lmKHQpcmV0dXJuIHMuc2V0LmNhbGwodGhpcyx0KSwiZnVuY3Rpb24iPT10eXBlb2YgZS5yZW1vdmVBdHRyaWJ1dGUmJmUucmVtb3ZlQXR0cmlidXRlKG8pLHR9cmV0dXJuIG51bGx9LHQobixvLHMpLG5bYV09ITB9ZnVuY3Rpb24gUChlLHQsbil7aWYodClmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKylEKGUsIm9uIit0W29dLG4pO2Vsc2V7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBpbiBlKSJvbiI9PW4uc3Vic3RyKDAsMikmJnQucHVzaChuKTtmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKylEKGUsdFtvXSxuKX19Y29uc3QgTz1kKCJvcmlnaW5hbEluc3RhbmNlIik7ZnVuY3Rpb24gQyhlKXtjb25zdCBuPWtbZV07aWYoIW4pcmV0dXJuO2tbZChlKV09bixrW2VdPWZ1bmN0aW9uKCl7Y29uc3QgdD15KGFyZ3VtZW50cyxlKTtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDp0aGlzW09dPW5ldyBuO2JyZWFrO2Nhc2UgMTp0aGlzW09dPW5ldyBuKHRbMF0pO2JyZWFrO2Nhc2UgMjp0aGlzW09dPW5ldyBuKHRbMF0sdFsxXSk7YnJlYWs7Y2FzZSAzOnRoaXNbT109bmV3IG4odFswXSx0WzFdLHRbMl0pO2JyZWFrO2Nhc2UgNDp0aGlzW09dPW5ldyBuKHRbMF0sdFsxXSx0WzJdLHRbM10pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJBcmcgbGlzdCB0b28gbG9uZy4iKX19LEkoa1tlXSxuKTtjb25zdCBvPW5ldyBuKGZ1bmN0aW9uKCl7fSk7bGV0IHI7Zm9yKHIgaW4gbykiWE1MSHR0cFJlcXVlc3QiPT09ZSYmInJlc3BvbnNlQmxvYiI9PT1yfHxmdW5jdGlvbihuKXsiZnVuY3Rpb24iPT10eXBlb2Ygb1tuXT9rW2VdLnByb3RvdHlwZVtuXT1mdW5jdGlvbigpe3JldHVybiB0aGlzW09dW25dLmFwcGx5KHRoaXNbT10sYXJndW1lbnRzKX06dChrW2VdLnByb3RvdHlwZSxuLHtzZXQ6ZnVuY3Rpb24odCl7ImZ1bmN0aW9uIj09dHlwZW9mIHQ/KHRoaXNbT11bbl09cCh0LGUrIi4iK24pLEkodGhpc1tPXVtuXSx0KSk6dGhpc1tPXVtuXT10fSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tPXVtuXX19KX0ocik7Zm9yKHIgaW4gbikicHJvdG90eXBlIiE9PXImJm4uaGFzT3duUHJvcGVydHkocikmJihrW2VdW3JdPW5bcl0pfWZ1bmN0aW9uIHoodCxvLHIpe2xldCBzPXQ7Zm9yKDtzJiYhcy5oYXNPd25Qcm9wZXJ0eShvKTspcz1uKHMpOyFzJiZ0W29dJiYocz10KTtjb25zdCBhPWQobyk7bGV0IGk9bnVsbDtpZihzJiYoIShpPXNbYV0pfHwhcy5oYXNPd25Qcm9wZXJ0eShhKSkmJihpPXNbYV09c1tvXSx2KHMmJmUocyxvKSkpKXtjb25zdCBlPXIoaSxhLG8pO3Nbb109ZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cyl9LEkoc1tvXSxpKX1yZXR1cm4gaX1mdW5jdGlvbiBqKGUsdCxuKXtsZXQgbz1udWxsO2Z1bmN0aW9uIHIoZSl7Y29uc3QgdD1lLmRhdGE7cmV0dXJuIHQuYXJnc1t0LmNiSWR4XT1mdW5jdGlvbigpe2UuaW52b2tlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sby5hcHBseSh0LnRhcmdldCx0LmFyZ3MpLGV9bz16KGUsdCxlPT5mdW5jdGlvbih0LG8pe2NvbnN0IHM9bih0LG8pO3JldHVybiBzLmNiSWR4Pj0wJiYiZnVuY3Rpb24iPT10eXBlb2Ygb1tzLmNiSWR4XT9mKHMubmFtZSxvW3MuY2JJZHhdLHMscik6ZS5hcHBseSh0LG8pfSl9ZnVuY3Rpb24gSShlLHQpe2VbZCgiT3JpZ2luYWxEZWxlZ2F0ZSIpXT10fWxldCBSPSExLE09ITE7ZnVuY3Rpb24geCgpe3RyeXtjb25zdCBlPV8ubmF2aWdhdG9yLnVzZXJBZ2VudDtpZigtMSE9PWUuaW5kZXhPZigiTVNJRSAiKXx8LTEhPT1lLmluZGV4T2YoIlRyaWRlbnQvIikpcmV0dXJuITB9Y2F0Y2goZSl7fXJldHVybiExfWZ1bmN0aW9uIE4oKXtpZihSKXJldHVybiBNO1I9ITA7dHJ5e2NvbnN0IGU9Xy5uYXZpZ2F0b3IudXNlckFnZW50Oy0xPT09ZS5pbmRleE9mKCJNU0lFICIpJiYtMT09PWUuaW5kZXhPZigiVHJpZGVudC8iKSYmLTE9PT1lLmluZGV4T2YoIkVkZ2UvIil8fChNPSEwKX1jYXRjaChlKXt9cmV0dXJuIE19Wm9uZS5fX2xvYWRfcGF0Y2goIlpvbmVBd2FyZVByb21pc2UiLChlLHQsbik9Pntjb25zdCBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iscj1PYmplY3QuZGVmaW5lUHJvcGVydHkscz1uLnN5bWJvbCxhPVtdLGk9ITA9PT1lW3MoIkRJU0FCTEVfV1JBUFBJTkdfVU5DQVVHSFRfUFJPTUlTRV9SRUpFQ1RJT04iKV0sYz1zKCJQcm9taXNlIiksbD1zKCJ0aGVuIik7bi5vblVuaGFuZGxlZEVycm9yPWU9PntpZihuLnNob3dVbmNhdWdodEVycm9yKCkpe2NvbnN0IHQ9ZSYmZS5yZWplY3Rpb247dD9jb25zb2xlLmVycm9yKCJVbmhhbmRsZWQgUHJvbWlzZSByZWplY3Rpb246Iix0IGluc3RhbmNlb2YgRXJyb3I/dC5tZXNzYWdlOnQsIjsgWm9uZToiLGUuem9uZS5uYW1lLCI7IFRhc2s6IixlLnRhc2smJmUudGFzay5zb3VyY2UsIjsgVmFsdWU6Iix0LHQgaW5zdGFuY2VvZiBFcnJvcj90LnN0YWNrOnZvaWQgMCk6Y29uc29sZS5lcnJvcihlKX19LG4ubWljcm90YXNrRHJhaW5Eb25lPSgpPT57Zm9yKDthLmxlbmd0aDspe2NvbnN0IHQ9YS5zaGlmdCgpO3RyeXt0LnpvbmUucnVuR3VhcmRlZCgoKT0+e2lmKHQudGhyb3dPcmlnaW5hbCl0aHJvdyB0LnJlamVjdGlvbjt0aHJvdyB0fSl9Y2F0Y2goZSl7aChlKX19fTtjb25zdCB1PXMoInVuaGFuZGxlZFByb21pc2VSZWplY3Rpb25IYW5kbGVyIik7ZnVuY3Rpb24gaChlKXtuLm9uVW5oYW5kbGVkRXJyb3IoZSk7dHJ5e2NvbnN0IG49dFt1XTsiZnVuY3Rpb24iPT10eXBlb2YgbiYmbi5jYWxsKHRoaXMsZSl9Y2F0Y2gobyl7fX1mdW5jdGlvbiBwKGUpe3JldHVybiBlJiZlLnRoZW59ZnVuY3Rpb24gZihlKXtyZXR1cm4gZX1mdW5jdGlvbiBkKGUpe3JldHVybiBDLnJlamVjdChlKX1jb25zdCBnPXMoInN0YXRlIiksXz1zKCJ2YWx1ZSIpLGs9cygiZmluYWxseSIpLG09cygicGFyZW50UHJvbWlzZVZhbHVlIikseT1zKCJwYXJlbnRQcm9taXNlU3RhdGUiKSx2PW51bGwsVD0hMCxiPSExO2Z1bmN0aW9uIEUoZSx0KXtyZXR1cm4gbj0+e3RyeXtaKGUsdCxuKX1jYXRjaChvKXtaKGUsITEsbyl9fX1jb25zdCB3PXMoImN1cnJlbnRUYXNrVHJhY2UiKTtmdW5jdGlvbiBaKGUsbyxzKXtjb25zdCBjPWZ1bmN0aW9uKCl7bGV0IGU9ITE7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe2V8fChlPSEwLHQuYXBwbHkobnVsbCxhcmd1bWVudHMpKX19fSgpO2lmKGU9PT1zKXRocm93IG5ldyBUeXBlRXJyb3IoIlByb21pc2UgcmVzb2x2ZWQgd2l0aCBpdHNlbGYiKTtpZihlW2ddPT09dil7bGV0IGg9bnVsbDt0cnl7Im9iamVjdCIhPXR5cGVvZiBzJiYiZnVuY3Rpb24iIT10eXBlb2Ygc3x8KGg9cyYmcy50aGVuKX1jYXRjaCh1KXtyZXR1cm4gYygoKT0+e1ooZSwhMSx1KX0pKCksZX1pZihvIT09YiYmcyBpbnN0YW5jZW9mIEMmJnMuaGFzT3duUHJvcGVydHkoZykmJnMuaGFzT3duUHJvcGVydHkoXykmJnNbZ10hPT12KUQocyksWihlLHNbZ10sc1tfXSk7ZWxzZSBpZihvIT09YiYmImZ1bmN0aW9uIj09dHlwZW9mIGgpdHJ5e2guY2FsbChzLGMoRShlLG8pKSxjKEUoZSwhMSkpKX1jYXRjaCh1KXtjKCgpPT57WihlLCExLHUpfSkoKX1lbHNle2VbZ109bztjb25zdCBjPWVbX107aWYoZVtfXT1zLGVba109PT1rJiZvPT09VCYmKGVbZ109ZVt5XSxlW19dPWVbbV0pLG89PT1iJiZzIGluc3RhbmNlb2YgRXJyb3Ipe2NvbnN0IGU9dC5jdXJyZW50VGFzayYmdC5jdXJyZW50VGFzay5kYXRhJiZ0LmN1cnJlbnRUYXNrLmRhdGEuX19jcmVhdGlvblRyYWNlX187ZSYmcihzLHcse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLHZhbHVlOmV9KX1mb3IobGV0IHQ9MDt0PGMubGVuZ3RoOylQKGUsY1t0KytdLGNbdCsrXSxjW3QrK10sY1t0KytdKTtpZigwPT1jLmxlbmd0aCYmbz09Yil7ZVtnXT0wO2xldCBvPXM7dHJ5e3Rocm93IG5ldyBFcnJvcigiVW5jYXVnaHQgKGluIHByb21pc2UpOiAiKygobD1zKSYmbC50b1N0cmluZz09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc/KGwuY29uc3RydWN0b3ImJmwuY29uc3RydWN0b3IubmFtZXx8IiIpKyI6ICIrSlNPTi5zdHJpbmdpZnkobCk6bD9sLnRvU3RyaW5nKCk6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGwpKSsocyYmcy5zdGFjaz8iXG4iK3Muc3RhY2s6IiIpKX1jYXRjaCh1KXtvPXV9aSYmKG8udGhyb3dPcmlnaW5hbD0hMCksby5yZWplY3Rpb249cyxvLnByb21pc2U9ZSxvLnpvbmU9dC5jdXJyZW50LG8udGFzaz10LmN1cnJlbnRUYXNrLGEucHVzaChvKSxuLnNjaGVkdWxlTWljcm9UYXNrKCl9fX12YXIgbDtyZXR1cm4gZX1jb25zdCBTPXMoInJlamVjdGlvbkhhbmRsZWRIYW5kbGVyIik7ZnVuY3Rpb24gRChlKXtpZigwPT09ZVtnXSl7dHJ5e2NvbnN0IG49dFtTXTtuJiYiZnVuY3Rpb24iPT10eXBlb2YgbiYmbi5jYWxsKHRoaXMse3JlamVjdGlvbjplW19dLHByb21pc2U6ZX0pfWNhdGNoKG4pe31lW2ddPWI7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aDt0KyspZT09PWFbdF0ucHJvbWlzZSYmYS5zcGxpY2UodCwxKX19ZnVuY3Rpb24gUChlLHQsbixvLHIpe0QoZSk7Y29uc3Qgcz1lW2ddLGE9cz8iZnVuY3Rpb24iPT10eXBlb2Ygbz9vOmY6ImZ1bmN0aW9uIj09dHlwZW9mIHI/cjpkO3Quc2NoZWR1bGVNaWNyb1Rhc2soIlByb21pc2UudGhlbiIsKCk9Pnt0cnl7Y29uc3Qgbz1lW19dLHI9ISFuJiZrPT09bltrXTtyJiYoblttXT1vLG5beV09cyk7Y29uc3QgaT10LnJ1bihhLHZvaWQgMCxyJiZhIT09ZCYmYSE9PWY/W106W29dKTtaKG4sITAsaSl9Y2F0Y2gobyl7WihuLCExLG8pfX0sbil9Y29uc3QgTz1mdW5jdGlvbigpe307Y2xhc3MgQ3tzdGF0aWMgdG9TdHJpbmcoKXtyZXR1cm4iZnVuY3Rpb24gWm9uZUF3YXJlUHJvbWlzZSgpIHsgW25hdGl2ZSBjb2RlXSB9In1zdGF0aWMgcmVzb2x2ZShlKXtyZXR1cm4gWihuZXcgdGhpcyhudWxsKSxULGUpfXN0YXRpYyByZWplY3QoZSl7cmV0dXJuIFoobmV3IHRoaXMobnVsbCksYixlKX1zdGF0aWMgcmFjZShlKXtsZXQgdCxuLG89bmV3IHRoaXMoKGUsbyk9Pnt0PWUsbj1vfSk7ZnVuY3Rpb24gcihlKXt0KGUpfWZ1bmN0aW9uIHMoZSl7bihlKX1mb3IobGV0IGEgb2YgZSlwKGEpfHwoYT10aGlzLnJlc29sdmUoYSkpLGEudGhlbihyLHMpO3JldHVybiBvfXN0YXRpYyBhbGwoZSl7cmV0dXJuIEMuYWxsV2l0aENhbGxiYWNrKGUpfXN0YXRpYyBhbGxTZXR0bGVkKGUpe3JldHVybih0aGlzJiZ0aGlzLnByb3RvdHlwZSBpbnN0YW5jZW9mIEM/dGhpczpDKS5hbGxXaXRoQ2FsbGJhY2soZSx7dGhlbkNhbGxiYWNrOmU9Pih7c3RhdHVzOiJmdWxmaWxsZWQiLHZhbHVlOmV9KSxlcnJvckNhbGxiYWNrOmU9Pih7c3RhdHVzOiJyZWplY3RlZCIscmVhc29uOmV9KX0pfXN0YXRpYyBhbGxXaXRoQ2FsbGJhY2soZSx0KXtsZXQgbixvLHI9bmV3IHRoaXMoKGUsdCk9PntuPWUsbz10fSkscz0yLGE9MDtjb25zdCBpPVtdO2ZvcihsZXQgbCBvZiBlKXtwKGwpfHwobD10aGlzLnJlc29sdmUobCkpO2NvbnN0IGU9YTt0cnl7bC50aGVuKG89PntpW2VdPXQ/dC50aGVuQ2FsbGJhY2sobyk6byxzLS0sMD09PXMmJm4oaSl9LHI9Pnt0PyhpW2VdPXQuZXJyb3JDYWxsYmFjayhyKSxzLS0sMD09PXMmJm4oaSkpOm8ocil9KX1jYXRjaChjKXtvKGMpfXMrKyxhKyt9cmV0dXJuIHMtPTIsMD09PXMmJm4oaSkscn1jb25zdHJ1Y3RvcihlKXtjb25zdCB0PXRoaXM7aWYoISh0IGluc3RhbmNlb2YgQykpdGhyb3cgbmV3IEVycm9yKCJNdXN0IGJlIGFuIGluc3RhbmNlb2YgUHJvbWlzZS4iKTt0W2ddPXYsdFtfXT1bXTt0cnl7ZSYmZShFKHQsVCksRSh0LGIpKX1jYXRjaChuKXtaKHQsITEsbil9fWdldFtTeW1ib2wudG9TdHJpbmdUYWddKCl7cmV0dXJuIlByb21pc2UifWdldFtTeW1ib2wuc3BlY2llc10oKXtyZXR1cm4gQ310aGVuKGUsbil7bGV0IG89dGhpcy5jb25zdHJ1Y3RvcltTeW1ib2wuc3BlY2llc107byYmImZ1bmN0aW9uIj09dHlwZW9mIG98fChvPXRoaXMuY29uc3RydWN0b3J8fEMpO2NvbnN0IHI9bmV3IG8oTykscz10LmN1cnJlbnQ7cmV0dXJuIHRoaXNbZ109PXY/dGhpc1tfXS5wdXNoKHMscixlLG4pOlAodGhpcyxzLHIsZSxuKSxyfWNhdGNoKGUpe3JldHVybiB0aGlzLnRoZW4obnVsbCxlKX1maW5hbGx5KGUpe2xldCBuPXRoaXMuY29uc3RydWN0b3JbU3ltYm9sLnNwZWNpZXNdO24mJiJmdW5jdGlvbiI9PXR5cGVvZiBufHwobj1DKTtjb25zdCBvPW5ldyBuKE8pO29ba109aztjb25zdCByPXQuY3VycmVudDtyZXR1cm4gdGhpc1tnXT09dj90aGlzW19dLnB1c2gocixvLGUsZSk6UCh0aGlzLHIsbyxlLGUpLG99fUMucmVzb2x2ZT1DLnJlc29sdmUsQy5yZWplY3Q9Qy5yZWplY3QsQy5yYWNlPUMucmFjZSxDLmFsbD1DLmFsbDtjb25zdCBqPWVbY109ZS5Qcm9taXNlO2UuUHJvbWlzZT1DO2NvbnN0IEk9cygidGhlblBhdGNoZWQiKTtmdW5jdGlvbiBSKGUpe2NvbnN0IHQ9ZS5wcm90b3R5cGUsbj1vKHQsInRoZW4iKTtpZihuJiYoITE9PT1uLndyaXRhYmxlfHwhbi5jb25maWd1cmFibGUpKXJldHVybjtjb25zdCByPXQudGhlbjt0W2xdPXIsZS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgQygoZSx0KT0+e3IuY2FsbCh0aGlzLGUsdCl9KS50aGVuKGUsdCl9LGVbSV09ITB9cmV0dXJuIG4ucGF0Y2hUaGVuPVIsaiYmKFIoaikseihlLCJmZXRjaCIsZT0+e3JldHVybiB0PWUsZnVuY3Rpb24oZSxuKXtsZXQgbz10LmFwcGx5KGUsbik7aWYobyBpbnN0YW5jZW9mIEMpcmV0dXJuIG87bGV0IHI9by5jb25zdHJ1Y3RvcjtyZXR1cm4gcltJXXx8UihyKSxvfTt2YXIgdH0pKSxQcm9taXNlW3QuX19zeW1ib2xfXygidW5jYXVnaHRQcm9taXNlRXJyb3JzIildPWEsQ30pLFpvbmUuX19sb2FkX3BhdGNoKCJ0b1N0cmluZyIsZT0+e2NvbnN0IHQ9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLG49ZCgiT3JpZ2luYWxEZWxlZ2F0ZSIpLG89ZCgiUHJvbWlzZSIpLHI9ZCgiRXJyb3IiKSxzPWZ1bmN0aW9uKCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMpe2NvbnN0IHM9dGhpc1tuXTtpZihzKXJldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBzP3QuY2FsbChzKTpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocyk7aWYodGhpcz09PVByb21pc2Upe2NvbnN0IG49ZVtvXTtpZihuKXJldHVybiB0LmNhbGwobil9aWYodGhpcz09PUVycm9yKXtjb25zdCBuPWVbcl07aWYobilyZXR1cm4gdC5jYWxsKG4pfX1yZXR1cm4gdC5jYWxsKHRoaXMpfTtzW25dPXQsRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nPXM7Y29uc3QgYT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO09iamVjdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZSYmdGhpcyBpbnN0YW5jZW9mIFByb21pc2U/IltvYmplY3QgUHJvbWlzZV0iOmEuY2FsbCh0aGlzKX19KTtsZXQgTD0hMTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyl0cnl7Y29uc3QgZT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sInBhc3NpdmUiLHtnZXQ6ZnVuY3Rpb24oKXtMPSEwfX0pO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0IixlLGUpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJ0ZXN0IixlLGUpfWNhdGNoKGhlKXtMPSExfWNvbnN0IEE9e3VzZUc6ITB9LEg9e30sRj17fSxxPW5ldyBSZWdFeHAoIl4iK2grIihcXHcrKSh0cnVlfGZhbHNlKSQiKSxHPWQoInByb3BhZ2F0aW9uU3RvcHBlZCIpO2Z1bmN0aW9uIEIoZSx0KXtjb25zdCBuPSh0P3QoZSk6ZSkrdSxvPSh0P3QoZSk6ZSkrbCxyPWgrbixzPWgrbztIW2VdPXt9LEhbZV0uZmFsc2U9cixIW2VdLnRydWU9c31mdW5jdGlvbiBXKGUsdCxvKXtjb25zdCByPW8mJm8uYWRkfHxzLGk9byYmby5ybXx8YSxjPW8mJm8ubGlzdGVuZXJzfHwiZXZlbnRMaXN0ZW5lcnMiLHA9byYmby5ybUFsbHx8InJlbW92ZUFsbExpc3RlbmVycyIsZj1kKHIpLGc9Ii4iK3IrIjoiLF89ZnVuY3Rpb24oZSx0LG4pe2lmKGUuaXNSZW1vdmVkKXJldHVybjtjb25zdCBvPWUuY2FsbGJhY2s7Im9iamVjdCI9PXR5cGVvZiBvJiZvLmhhbmRsZUV2ZW50JiYoZS5jYWxsYmFjaz1lPT5vLmhhbmRsZUV2ZW50KGUpLGUub3JpZ2luYWxEZWxlZ2F0ZT1vKSxlLmludm9rZShlLHQsW25dKTtjb25zdCByPWUub3B0aW9ucztyJiYib2JqZWN0Ij09dHlwZW9mIHImJnIub25jZSYmdFtpXS5jYWxsKHQsbi50eXBlLGUub3JpZ2luYWxEZWxlZ2F0ZT9lLm9yaWdpbmFsRGVsZWdhdGU6ZS5jYWxsYmFjayxyKX0saz1mdW5jdGlvbih0KXtpZighKHQ9dHx8ZS5ldmVudCkpcmV0dXJuO2NvbnN0IG49dGhpc3x8dC50YXJnZXR8fGUsbz1uW0hbdC50eXBlXS5mYWxzZV07aWYobylpZigxPT09by5sZW5ndGgpXyhvWzBdLG4sdCk7ZWxzZXtjb25zdCBlPW8uc2xpY2UoKTtmb3IobGV0IG89MDtvPGUubGVuZ3RoJiYoIXR8fCEwIT09dFtHXSk7bysrKV8oZVtvXSxuLHQpfX0sbT1mdW5jdGlvbih0KXtpZighKHQ9dHx8ZS5ldmVudCkpcmV0dXJuO2NvbnN0IG49dGhpc3x8dC50YXJnZXR8fGUsbz1uW0hbdC50eXBlXS50cnVlXTtpZihvKWlmKDE9PT1vLmxlbmd0aClfKG9bMF0sbix0KTtlbHNle2NvbnN0IGU9by5zbGljZSgpO2ZvcihsZXQgbz0wO288ZS5sZW5ndGgmJighdHx8ITAhPT10W0ddKTtvKyspXyhlW29dLG4sdCl9fTtmdW5jdGlvbiB5KHQsbyl7aWYoIXQpcmV0dXJuITE7bGV0IHM9ITA7byYmdm9pZCAwIT09by51c2VHJiYocz1vLnVzZUcpO2NvbnN0IGE9byYmby52aDtsZXQgXz0hMDtvJiZ2b2lkIDAhPT1vLmNoa0R1cCYmKF89by5jaGtEdXApO2xldCB5PSExO28mJnZvaWQgMCE9PW8ucnQmJih5PW8ucnQpO2xldCB2PXQ7Zm9yKDt2JiYhdi5oYXNPd25Qcm9wZXJ0eShyKTspdj1uKHYpO2lmKCF2JiZ0W3JdJiYodj10KSwhdilyZXR1cm4hMTtpZih2W2ZdKXJldHVybiExO2NvbnN0IFQ9byYmby5ldmVudE5hbWVUb1N0cmluZyxFPXt9LHc9dltmXT12W3JdLFo9dltkKGkpXT12W2ldLFM9dltkKGMpXT12W2NdLEQ9dltkKHApXT12W3BdO2xldCBQO2Z1bmN0aW9uIE8oZSx0KXtyZXR1cm4hTCYmIm9iamVjdCI9PXR5cGVvZiBlJiZlPyEhZS5jYXB0dXJlOkwmJnQ/ImJvb2xlYW4iPT10eXBlb2YgZT97Y2FwdHVyZTplLHBhc3NpdmU6ITB9OmU/Im9iamVjdCI9PXR5cGVvZiBlJiYhMSE9PWUucGFzc2l2ZT9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse3Bhc3NpdmU6ITB9KTplOntwYXNzaXZlOiEwfTplfW8mJm8ucHJlcGVuZCYmKFA9dltkKG8ucHJlcGVuZCldPXZbby5wcmVwZW5kXSk7Y29uc3QgQz1zP2Z1bmN0aW9uKGUpe2lmKCFFLmlzRXhpc3RpbmcpcmV0dXJuIHcuY2FsbChFLnRhcmdldCxFLmV2ZW50TmFtZSxFLmNhcHR1cmU/bTprLEUub3B0aW9ucyl9OmZ1bmN0aW9uKGUpe3JldHVybiB3LmNhbGwoRS50YXJnZXQsRS5ldmVudE5hbWUsZS5pbnZva2UsRS5vcHRpb25zKX0sej1zP2Z1bmN0aW9uKGUpe2lmKCFlLmlzUmVtb3ZlZCl7Y29uc3QgdD1IW2UuZXZlbnROYW1lXTtsZXQgbjt0JiYobj10W2UuY2FwdHVyZT9sOnVdKTtjb25zdCBvPW4mJmUudGFyZ2V0W25dO2lmKG8pZm9yKGxldCByPTA7cjxvLmxlbmd0aDtyKyspaWYob1tyXT09PWUpe28uc3BsaWNlKHIsMSksZS5pc1JlbW92ZWQ9ITAsMD09PW8ubGVuZ3RoJiYoZS5hbGxSZW1vdmVkPSEwLGUudGFyZ2V0W25dPW51bGwpO2JyZWFrfX1pZihlLmFsbFJlbW92ZWQpcmV0dXJuIFouY2FsbChlLnRhcmdldCxlLmV2ZW50TmFtZSxlLmNhcHR1cmU/bTprLGUub3B0aW9ucyl9OmZ1bmN0aW9uKGUpe3JldHVybiBaLmNhbGwoZS50YXJnZXQsZS5ldmVudE5hbWUsZS5pbnZva2UsZS5vcHRpb25zKX0saj1vJiZvLmRpZmY/by5kaWZmOmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj10eXBlb2YgdDtyZXR1cm4iZnVuY3Rpb24iPT09biYmZS5jYWxsYmFjaz09PXR8fCJvYmplY3QiPT09biYmZS5vcmlnaW5hbERlbGVnYXRlPT09dH0sUj1ab25lW2QoIlVOUEFUQ0hFRF9FVkVOVFMiKV0sTT1lW2QoIlBBU1NJVkVfRVZFTlRTIildLHg9ZnVuY3Rpb24odCxuLHIsaSxjPSExLGg9ITEpe3JldHVybiBmdW5jdGlvbigpe2NvbnN0IHA9dGhpc3x8ZTtsZXQgZj1hcmd1bWVudHNbMF07byYmby50cmFuc2ZlckV2ZW50TmFtZSYmKGY9by50cmFuc2ZlckV2ZW50TmFtZShmKSk7bGV0IGQ9YXJndW1lbnRzWzFdO2lmKCFkKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihiJiYidW5jYXVnaHRFeGNlcHRpb24iPT09ZilyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bGV0IGc9ITE7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGQpe2lmKCFkLmhhbmRsZUV2ZW50KXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtnPSEwfWlmKGEmJiFhKHQsZCxwLGFyZ3VtZW50cykpcmV0dXJuO2NvbnN0IGs9TCYmISFNJiYtMSE9PU0uaW5kZXhPZihmKSxtPU8oYXJndW1lbnRzWzJdLGspO2lmKFIpZm9yKGxldCBlPTA7ZTxSLmxlbmd0aDtlKyspaWYoZj09PVJbZV0pcmV0dXJuIGs/dC5jYWxsKHAsZixkLG0pOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2NvbnN0IHk9ISFtJiYoImJvb2xlYW4iPT10eXBlb2YgbXx8bS5jYXB0dXJlKSx2PSEoIW18fCJvYmplY3QiIT10eXBlb2YgbSkmJm0ub25jZSx3PVpvbmUuY3VycmVudDtsZXQgWj1IW2ZdO1p8fChCKGYsVCksWj1IW2ZdKTtjb25zdCBTPVpbeT9sOnVdO2xldCBELFA9cFtTXSxDPSExO2lmKFApe2lmKEM9ITAsXylmb3IobGV0IGU9MDtlPFAubGVuZ3RoO2UrKylpZihqKFBbZV0sZCkpcmV0dXJufWVsc2UgUD1wW1NdPVtdO2NvbnN0IHo9cC5jb25zdHJ1Y3Rvci5uYW1lLEk9Rlt6XTtJJiYoRD1JW2ZdKSxEfHwoRD16K24rKFQ/VChmKTpmKSksRS5vcHRpb25zPW0sdiYmKEUub3B0aW9ucy5vbmNlPSExKSxFLnRhcmdldD1wLEUuY2FwdHVyZT15LEUuZXZlbnROYW1lPWYsRS5pc0V4aXN0aW5nPUM7Y29uc3QgeD1zP0E6dm9pZCAwO3gmJih4LnRhc2tEYXRhPUUpO2NvbnN0IE49dy5zY2hlZHVsZUV2ZW50VGFzayhELGQseCxyLGkpO3JldHVybiBFLnRhcmdldD1udWxsLHgmJih4LnRhc2tEYXRhPW51bGwpLHYmJihtLm9uY2U9ITApLChMfHwiYm9vbGVhbiIhPXR5cGVvZiBOLm9wdGlvbnMpJiYoTi5vcHRpb25zPW0pLE4udGFyZ2V0PXAsTi5jYXB0dXJlPXksTi5ldmVudE5hbWU9ZixnJiYoTi5vcmlnaW5hbERlbGVnYXRlPWQpLGg/UC51bnNoaWZ0KE4pOlAucHVzaChOKSxjP3A6dm9pZCAwfX07cmV0dXJuIHZbcl09eCh3LGcsQyx6LHkpLFAmJih2LnByZXBlbmRMaXN0ZW5lcj14KFAsIi5wcmVwZW5kTGlzdGVuZXI6IixmdW5jdGlvbihlKXtyZXR1cm4gUC5jYWxsKEUudGFyZ2V0LEUuZXZlbnROYW1lLGUuaW52b2tlLEUub3B0aW9ucyl9LHoseSwhMCkpLHZbaV09ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXN8fGU7bGV0IG49YXJndW1lbnRzWzBdO28mJm8udHJhbnNmZXJFdmVudE5hbWUmJihuPW8udHJhbnNmZXJFdmVudE5hbWUobikpO2NvbnN0IHI9YXJndW1lbnRzWzJdLHM9ISFyJiYoImJvb2xlYW4iPT10eXBlb2Ygcnx8ci5jYXB0dXJlKSxpPWFyZ3VtZW50c1sxXTtpZighaSlyZXR1cm4gWi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoYSYmIWEoWixpLHQsYXJndW1lbnRzKSlyZXR1cm47Y29uc3QgYz1IW25dO2xldCBwO2MmJihwPWNbcz9sOnVdKTtjb25zdCBmPXAmJnRbcF07aWYoZilmb3IobGV0IGU9MDtlPGYubGVuZ3RoO2UrKyl7Y29uc3Qgbz1mW2VdO2lmKGoobyxpKSlyZXR1cm4gZi5zcGxpY2UoZSwxKSxvLmlzUmVtb3ZlZD0hMCwwPT09Zi5sZW5ndGgmJihvLmFsbFJlbW92ZWQ9ITAsdFtwXT1udWxsLCJzdHJpbmciPT10eXBlb2YgbikmJih0W2grIk9OX1BST1BFUlRZIituXT1udWxsKSxvLnpvbmUuY2FuY2VsVGFzayhvKSx5P3Q6dm9pZCAwfXJldHVybiBaLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdltjXT1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpc3x8ZTtsZXQgbj1hcmd1bWVudHNbMF07byYmby50cmFuc2ZlckV2ZW50TmFtZSYmKG49by50cmFuc2ZlckV2ZW50TmFtZShuKSk7Y29uc3Qgcj1bXSxzPVUodCxUP1Qobik6bik7Zm9yKGxldCBlPTA7ZTxzLmxlbmd0aDtlKyspe2NvbnN0IHQ9c1tlXTtyLnB1c2godC5vcmlnaW5hbERlbGVnYXRlP3Qub3JpZ2luYWxEZWxlZ2F0ZTp0LmNhbGxiYWNrKX1yZXR1cm4gcn0sdltwXT1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpc3x8ZTtsZXQgbj1hcmd1bWVudHNbMF07aWYobil7byYmby50cmFuc2ZlckV2ZW50TmFtZSYmKG49by50cmFuc2ZlckV2ZW50TmFtZShuKSk7Y29uc3QgZT1IW25dO2lmKGUpe2NvbnN0IG89dFtlLmZhbHNlXSxyPXRbZS50cnVlXTtpZihvKXtjb25zdCBlPW8uc2xpY2UoKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbz1lW3RdO3RoaXNbaV0uY2FsbCh0aGlzLG4sby5vcmlnaW5hbERlbGVnYXRlP28ub3JpZ2luYWxEZWxlZ2F0ZTpvLmNhbGxiYWNrLG8ub3B0aW9ucyl9fWlmKHIpe2NvbnN0IGU9ci5zbGljZSgpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBvPWVbdF07dGhpc1tpXS5jYWxsKHRoaXMsbixvLm9yaWdpbmFsRGVsZWdhdGU/by5vcmlnaW5hbERlbGVnYXRlOm8uY2FsbGJhY2ssby5vcHRpb25zKX19fX1lbHNle2NvbnN0IGU9T2JqZWN0LmtleXModCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG49cS5leGVjKGVbdF0pO2xldCBvPW4mJm5bMV07byYmInJlbW92ZUxpc3RlbmVyIiE9PW8mJnRoaXNbcF0uY2FsbCh0aGlzLG8pfXRoaXNbcF0uY2FsbCh0aGlzLCJyZW1vdmVMaXN0ZW5lciIpfWlmKHkpcmV0dXJuIHRoaXN9LEkodltyXSx3KSxJKHZbaV0sWiksRCYmSSh2W3BdLEQpLFMmJkkodltjXSxTKSwhMH1sZXQgdj1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl2W25dPXkodFtuXSxvKTtyZXR1cm4gdn1mdW5jdGlvbiBVKGUsdCl7aWYoIXQpe2NvbnN0IG49W107Zm9yKGxldCBvIGluIGUpe2NvbnN0IHI9cS5leGVjKG8pO2xldCBzPXImJnJbMV07aWYocyYmKCF0fHxzPT09dCkpe2NvbnN0IHQ9ZVtvXTtpZih0KWZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKW4ucHVzaCh0W2VdKX19cmV0dXJuIG59bGV0IG49SFt0XTtufHwoQih0KSxuPUhbdF0pO2NvbnN0IG89ZVtuLmZhbHNlXSxyPWVbbi50cnVlXTtyZXR1cm4gbz9yP28uY29uY2F0KHIpOm8uc2xpY2UoKTpyP3Iuc2xpY2UoKTpbXX1mdW5jdGlvbiBWKGUsdCl7Y29uc3Qgbj1lLkV2ZW50O24mJm4ucHJvdG90eXBlJiZ0LnBhdGNoTWV0aG9kKG4ucHJvdG90eXBlLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLGU9PmZ1bmN0aW9uKHQsbil7dFtHXT0hMCxlJiZlLmFwcGx5KHQsbil9KX1mdW5jdGlvbiAkKGUsdCxuLG8scil7Y29uc3Qgcz1ab25lLl9fc3ltYm9sX18obyk7aWYodFtzXSlyZXR1cm47Y29uc3QgYT10W3NdPXRbb107dFtvXT1mdW5jdGlvbihzLGksYyl7cmV0dXJuIGkmJmkucHJvdG90eXBlJiZyLmZvckVhY2goZnVuY3Rpb24odCl7Y29uc3Qgcj1gJHtufS4ke299OjpgK3Qscz1pLnByb3RvdHlwZTtpZihzLmhhc093blByb3BlcnR5KHQpKXtjb25zdCBuPWUuT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHMsdCk7biYmbi52YWx1ZT8obi52YWx1ZT1lLndyYXBXaXRoQ3VycmVudFpvbmUobi52YWx1ZSxyKSxlLl9yZWRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLHQsbikpOnNbdF0mJihzW3RdPWUud3JhcFdpdGhDdXJyZW50Wm9uZShzW3RdLHIpKX1lbHNlIHNbdF0mJihzW3RdPWUud3JhcFdpdGhDdXJyZW50Wm9uZShzW3RdLHIpKX0pLGEuY2FsbCh0LHMsaSxjKX0sZS5hdHRhY2hPcmlnaW5Ub1BhdGNoZWQodFtvXSxhKX1jb25zdCBYPVsiYWJzb2x1dGVkZXZpY2VvcmllbnRhdGlvbiIsImFmdGVyaW5wdXQiLCJhZnRlcnByaW50IiwiYXBwaW5zdGFsbGVkIiwiYmVmb3JlaW5zdGFsbHByb21wdCIsImJlZm9yZXByaW50IiwiYmVmb3JldW5sb2FkIiwiZGV2aWNlbGlnaHQiLCJkZXZpY2Vtb3Rpb24iLCJkZXZpY2VvcmllbnRhdGlvbiIsImRldmljZW9yaWVudGF0aW9uYWJzb2x1dGUiLCJkZXZpY2Vwcm94aW1pdHkiLCJoYXNoY2hhbmdlIiwibGFuZ3VhZ2VjaGFuZ2UiLCJtZXNzYWdlIiwibW96YmVmb3JlcGFpbnQiLCJvZmZsaW5lIiwib25saW5lIiwicGFpbnQiLCJwYWdlc2hvdyIsInBhZ2VoaWRlIiwicG9wc3RhdGUiLCJyZWplY3Rpb25oYW5kbGVkIiwic3RvcmFnZSIsInVuaGFuZGxlZHJlamVjdGlvbiIsInVubG9hZCIsInVzZXJwcm94aW1pdHkiLCJ2cmRpc3BsYXljb25uZWN0ZWQiLCJ2cmRpc3BsYXlkaXNjb25uZWN0ZWQiLCJ2cmRpc3BsYXlwcmVzZW50Y2hhbmdlIl0sWT1bImVuY3J5cHRlZCIsIndhaXRpbmdmb3JrZXkiLCJtc25lZWRrZXkiLCJtb3ppbnRlcnJ1cHRiZWdpbiIsIm1vemludGVycnVwdGVuZCJdLEo9WyJsb2FkIl0sSz1bImJsdXIiLCJlcnJvciIsImZvY3VzIiwibG9hZCIsInJlc2l6ZSIsInNjcm9sbCIsIm1lc3NhZ2VlcnJvciJdLFE9WyJib3VuY2UiLCJmaW5pc2giLCJzdGFydCJdLGVlPVsibG9hZHN0YXJ0IiwicHJvZ3Jlc3MiLCJhYm9ydCIsImVycm9yIiwibG9hZCIsInByb2dyZXNzIiwidGltZW91dCIsImxvYWRlbmQiLCJyZWFkeXN0YXRlY2hhbmdlIl0sdGU9WyJ1cGdyYWRlbmVlZGVkIiwiY29tcGxldGUiLCJhYm9ydCIsInN1Y2Nlc3MiLCJlcnJvciIsImJsb2NrZWQiLCJ2ZXJzaW9uY2hhbmdlIiwiY2xvc2UiXSxuZT1bImNsb3NlIiwiZXJyb3IiLCJvcGVuIiwibWVzc2FnZSJdLG9lPVsiZXJyb3IiLCJtZXNzYWdlIl0scmU9WyJhYm9ydCIsImFuaW1hdGlvbmNhbmNlbCIsImFuaW1hdGlvbmVuZCIsImFuaW1hdGlvbml0ZXJhdGlvbiIsImF1eGNsaWNrIiwiYmVmb3JlaW5wdXQiLCJibHVyIiwiY2FuY2VsIiwiY2FucGxheSIsImNhbnBsYXl0aHJvdWdoIiwiY2hhbmdlIiwiY29tcG9zaXRpb25zdGFydCIsImNvbXBvc2l0aW9udXBkYXRlIiwiY29tcG9zaXRpb25lbmQiLCJjdWVjaGFuZ2UiLCJjbGljayIsImNsb3NlIiwiY29udGV4dG1lbnUiLCJjdXJlY2hhbmdlIiwiZGJsY2xpY2siLCJkcmFnIiwiZHJhZ2VuZCIsImRyYWdlbnRlciIsImRyYWdleGl0IiwiZHJhZ2xlYXZlIiwiZHJhZ292ZXIiLCJkcm9wIiwiZHVyYXRpb25jaGFuZ2UiLCJlbXB0aWVkIiwiZW5kZWQiLCJlcnJvciIsImZvY3VzIiwiZm9jdXNpbiIsImZvY3Vzb3V0IiwiZ290cG9pbnRlcmNhcHR1cmUiLCJpbnB1dCIsImludmFsaWQiLCJrZXlkb3duIiwia2V5cHJlc3MiLCJrZXl1cCIsImxvYWQiLCJsb2Fkc3RhcnQiLCJsb2FkZWRkYXRhIiwibG9hZGVkbWV0YWRhdGEiLCJsb3N0cG9pbnRlcmNhcHR1cmUiLCJtb3VzZWRvd24iLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsIm1vdXNlbW92ZSIsIm1vdXNlb3V0IiwibW91c2VvdmVyIiwibW91c2V1cCIsIm1vdXNld2hlZWwiLCJvcmllbnRhdGlvbmNoYW5nZSIsInBhdXNlIiwicGxheSIsInBsYXlpbmciLCJwb2ludGVyY2FuY2VsIiwicG9pbnRlcmRvd24iLCJwb2ludGVyZW50ZXIiLCJwb2ludGVybGVhdmUiLCJwb2ludGVybG9ja2NoYW5nZSIsIm1venBvaW50ZXJsb2NrY2hhbmdlIiwid2Via2l0cG9pbnRlcmxvY2tlcmNoYW5nZSIsInBvaW50ZXJsb2NrZXJyb3IiLCJtb3pwb2ludGVybG9ja2Vycm9yIiwid2Via2l0cG9pbnRlcmxvY2tlcnJvciIsInBvaW50ZXJtb3ZlIiwicG9pbnRvdXQiLCJwb2ludGVyb3ZlciIsInBvaW50ZXJ1cCIsInByb2dyZXNzIiwicmF0ZWNoYW5nZSIsInJlc2V0IiwicmVzaXplIiwic2Nyb2xsIiwic2Vla2VkIiwic2Vla2luZyIsInNlbGVjdCIsInNlbGVjdGlvbmNoYW5nZSIsInNlbGVjdHN0YXJ0Iiwic2hvdyIsInNvcnQiLCJzdGFsbGVkIiwic3VibWl0Iiwic3VzcGVuZCIsInRpbWV1cGRhdGUiLCJ2b2x1bWVjaGFuZ2UiLCJ0b3VjaGNhbmNlbCIsInRvdWNobW92ZSIsInRvdWNoc3RhcnQiLCJ0b3VjaGVuZCIsInRyYW5zaXRpb25jYW5jZWwiLCJ0cmFuc2l0aW9uZW5kIiwid2FpdGluZyIsIndoZWVsIl0uY29uY2F0KFsid2ViZ2xjb250ZXh0cmVzdG9yZWQiLCJ3ZWJnbGNvbnRleHRsb3N0Iiwid2ViZ2xjb250ZXh0Y3JlYXRpb25lcnJvciJdLFsiYXV0b2NvbXBsZXRlIiwiYXV0b2NvbXBsZXRlZXJyb3IiXSxbInRvZ2dsZSJdLFsiYWZ0ZXJzY3JpcHRleGVjdXRlIiwiYmVmb3Jlc2NyaXB0ZXhlY3V0ZSIsIkRPTUNvbnRlbnRMb2FkZWQiLCJmcmVlemUiLCJmdWxsc2NyZWVuY2hhbmdlIiwibW96ZnVsbHNjcmVlbmNoYW5nZSIsIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLCJtc2Z1bGxzY3JlZW5jaGFuZ2UiLCJmdWxsc2NyZWVuZXJyb3IiLCJtb3pmdWxsc2NyZWVuZXJyb3IiLCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3IiLCJtc2Z1bGxzY3JlZW5lcnJvciIsInJlYWR5c3RhdGVjaGFuZ2UiLCJ2aXNpYmlsaXR5Y2hhbmdlIiwicmVzdW1lIl0sWCxbImJlZm9yZWNvcHkiLCJiZWZvcmVjdXQiLCJiZWZvcmVwYXN0ZSIsImNvcHkiLCJjdXQiLCJwYXN0ZSIsImRyYWdzdGFydCIsImxvYWRlbmQiLCJhbmltYXRpb25zdGFydCIsInNlYXJjaCIsInRyYW5zaXRpb25ydW4iLCJ0cmFuc2l0aW9uc3RhcnQiLCJ3ZWJraXRhbmltYXRpb25lbmQiLCJ3ZWJraXRhbmltYXRpb25pdGVyYXRpb24iLCJ3ZWJraXRhbmltYXRpb25zdGFydCIsIndlYmtpdHRyYW5zaXRpb25lbmQiXSxbImFjdGl2YXRlIiwiYWZ0ZXJ1cGRhdGUiLCJhcmlhcmVxdWVzdCIsImJlZm9yZWFjdGl2YXRlIiwiYmVmb3JlZGVhY3RpdmF0ZSIsImJlZm9yZWVkaXRmb2N1cyIsImJlZm9yZXVwZGF0ZSIsImNlbGxjaGFuZ2UiLCJjb250cm9sc2VsZWN0IiwiZGF0YWF2YWlsYWJsZSIsImRhdGFzZXRjaGFuZ2VkIiwiZGF0YXNldGNvbXBsZXRlIiwiZXJyb3J1cGRhdGUiLCJmaWx0ZXJjaGFuZ2UiLCJsYXlvdXRjb21wbGV0ZSIsImxvc2VjYXB0dXJlIiwibW92ZSIsIm1vdmVlbmQiLCJtb3Zlc3RhcnQiLCJwcm9wZXJ0eWNoYW5nZSIsInJlc2l6ZWVuZCIsInJlc2l6ZXN0YXJ0Iiwicm93ZW50ZXIiLCJyb3dleGl0Iiwicm93c2RlbGV0ZSIsInJvd3NpbnNlcnRlZCIsImNvbW1hbmQiLCJjb21wYXNzbmVlZHNjYWxpYnJhdGlvbiIsImRlYWN0aXZhdGUiLCJoZWxwIiwibXNjb250ZW50em9vbSIsIm1zbWFuaXB1bGF0aW9uc3RhdGVjaGFuZ2VkIiwibXNnZXN0dXJlY2hhbmdlIiwibXNnZXN0dXJlZG91YmxldGFwIiwibXNnZXN0dXJlZW5kIiwibXNnZXN0dXJlaG9sZCIsIm1zZ2VzdHVyZXN0YXJ0IiwibXNnZXN0dXJldGFwIiwibXNnb3Rwb2ludGVyY2FwdHVyZSIsIm1zaW5lcnRpYXN0YXJ0IiwibXNsb3N0cG9pbnRlcmNhcHR1cmUiLCJtc3BvaW50ZXJjYW5jZWwiLCJtc3BvaW50ZXJkb3duIiwibXNwb2ludGVyZW50ZXIiLCJtc3BvaW50ZXJob3ZlciIsIm1zcG9pbnRlcmxlYXZlIiwibXNwb2ludGVybW92ZSIsIm1zcG9pbnRlcm91dCIsIm1zcG9pbnRlcm92ZXIiLCJtc3BvaW50ZXJ1cCIsInBvaW50ZXJvdXQiLCJtc3NpdGVtb2RlanVtcGxpc3RpdGVtcmVtb3ZlZCIsIm1zdGh1bWJuYWlsY2xpY2siLCJzdG9wIiwic3RvcmFnZWNvbW1pdCJdKTtmdW5jdGlvbiBzZShlLHQsbil7aWYoIW58fDA9PT1uLmxlbmd0aClyZXR1cm4gdDtjb25zdCBvPW4uZmlsdGVyKHQ9PnQudGFyZ2V0PT09ZSk7aWYoIW98fDA9PT1vLmxlbmd0aClyZXR1cm4gdDtjb25zdCByPW9bMF0uaWdub3JlUHJvcGVydGllcztyZXR1cm4gdC5maWx0ZXIoZT0+LTE9PT1yLmluZGV4T2YoZSkpfWZ1bmN0aW9uIGFlKGUsdCxuLG8pe2UmJlAoZSxzZShlLHQsbiksbyl9ZnVuY3Rpb24gaWUoZSx0KXtpZihiJiYhdylyZXR1cm47aWYoWm9uZVtlLnN5bWJvbCgicGF0Y2hFdmVudHMiKV0pcmV0dXJuO2NvbnN0IG89InVuZGVmaW5lZCIhPXR5cGVvZiBXZWJTb2NrZXQscj10Ll9fWm9uZV9pZ25vcmVfb25fcHJvcGVydGllcztpZihFKXtjb25zdCBlPXdpbmRvdyx0PXgoKT9be3RhcmdldDplLGlnbm9yZVByb3BlcnRpZXM6WyJlcnJvciJdfV06W107YWUoZSxyZS5jb25jYXQoWyJtZXNzYWdlZXJyb3IiXSkscj9yLmNvbmNhdCh0KTpyLG4oZSkpLGFlKERvY3VtZW50LnByb3RvdHlwZSxyZSxyKSx2b2lkIDAhPT1lLlNWR0VsZW1lbnQmJmFlKGUuU1ZHRWxlbWVudC5wcm90b3R5cGUscmUsciksYWUoRWxlbWVudC5wcm90b3R5cGUscmUsciksYWUoSFRNTEVsZW1lbnQucHJvdG90eXBlLHJlLHIpLGFlKEhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLFksciksYWUoSFRNTEZyYW1lU2V0RWxlbWVudC5wcm90b3R5cGUsWC5jb25jYXQoSyksciksYWUoSFRNTEJvZHlFbGVtZW50LnByb3RvdHlwZSxYLmNvbmNhdChLKSxyKSxhZShIVE1MRnJhbWVFbGVtZW50LnByb3RvdHlwZSxKLHIpLGFlKEhUTUxJRnJhbWVFbGVtZW50LnByb3RvdHlwZSxKLHIpO2NvbnN0IG89ZS5IVE1MTWFycXVlZUVsZW1lbnQ7byYmYWUoby5wcm90b3R5cGUsUSxyKTtjb25zdCBzPWUuV29ya2VyO3MmJmFlKHMucHJvdG90eXBlLG9lLHIpfWNvbnN0IHM9dC5YTUxIdHRwUmVxdWVzdDtzJiZhZShzLnByb3RvdHlwZSxlZSxyKTtjb25zdCBhPXQuWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldDthJiZhZShhJiZhLnByb3RvdHlwZSxlZSxyKSwidW5kZWZpbmVkIiE9dHlwZW9mIElEQkluZGV4JiYoYWUoSURCSW5kZXgucHJvdG90eXBlLHRlLHIpLGFlKElEQlJlcXVlc3QucHJvdG90eXBlLHRlLHIpLGFlKElEQk9wZW5EQlJlcXVlc3QucHJvdG90eXBlLHRlLHIpLGFlKElEQkRhdGFiYXNlLnByb3RvdHlwZSx0ZSxyKSxhZShJREJUcmFuc2FjdGlvbi5wcm90b3R5cGUsdGUsciksYWUoSURCQ3Vyc29yLnByb3RvdHlwZSx0ZSxyKSksbyYmYWUoV2ViU29ja2V0LnByb3RvdHlwZSxuZSxyKX1ab25lLl9fbG9hZF9wYXRjaCgidXRpbCIsKG4saSxjKT0+e2MucGF0Y2hPblByb3BlcnRpZXM9UCxjLnBhdGNoTWV0aG9kPXosYy5iaW5kQXJndW1lbnRzPXksYy5wYXRjaE1hY3JvVGFzaz1qO2NvbnN0IGY9aS5fX3N5bWJvbF9fKCJCTEFDS19MSVNURURfRVZFTlRTIiksZD1pLl9fc3ltYm9sX18oIlVOUEFUQ0hFRF9FVkVOVFMiKTtuW2RdJiYobltmXT1uW2RdKSxuW2ZdJiYoaVtmXT1pW2RdPW5bZl0pLGMucGF0Y2hFdmVudFByb3RvdHlwZT1WLGMucGF0Y2hFdmVudFRhcmdldD1XLGMuaXNJRU9yRWRnZT1OLGMuT2JqZWN0RGVmaW5lUHJvcGVydHk9dCxjLk9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcj1lLGMuT2JqZWN0Q3JlYXRlPW8sYy5BcnJheVNsaWNlPXIsYy5wYXRjaENsYXNzPUMsYy53cmFwV2l0aEN1cnJlbnRab25lPXAsYy5maWx0ZXJQcm9wZXJ0aWVzPXNlLGMuYXR0YWNoT3JpZ2luVG9QYXRjaGVkPUksYy5fcmVkZWZpbmVQcm9wZXJ0eT1PYmplY3QuZGVmaW5lUHJvcGVydHksYy5wYXRjaENhbGxiYWNrcz0kLGMuZ2V0R2xvYmFsT2JqZWN0cz0oKT0+KHtnbG9iYWxTb3VyY2VzOkYsem9uZVN5bWJvbEV2ZW50TmFtZXM6SCxldmVudE5hbWVzOnJlLGlzQnJvd3NlcjpFLGlzTWl4OncsaXNOb2RlOmIsVFJVRV9TVFI6bCxGQUxTRV9TVFI6dSxaT05FX1NZTUJPTF9QUkVGSVg6aCxBRERfRVZFTlRfTElTVEVORVJfU1RSOnMsUkVNT1ZFX0VWRU5UX0xJU1RFTkVSX1NUUjphfSl9KTtjb25zdCBjZT1kKCJ6b25lVGFzayIpO2Z1bmN0aW9uIGxlKGUsdCxuLG8pe2xldCByPW51bGwscz1udWxsO24rPW87Y29uc3QgYT17fTtmdW5jdGlvbiBpKHQpe2NvbnN0IG49dC5kYXRhO3JldHVybiBuLmFyZ3NbMF09ZnVuY3Rpb24oKXtyZXR1cm4gdC5pbnZva2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuLmhhbmRsZUlkPXIuYXBwbHkoZSxuLmFyZ3MpLHR9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gcy5jYWxsKGUsdC5kYXRhLmhhbmRsZUlkKX1yPXooZSx0Kz1vLG49PmZ1bmN0aW9uKHIscyl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHNbMF0pe2NvbnN0IGU9e2lzUGVyaW9kaWM6IkludGVydmFsIj09PW8sZGVsYXk6IlRpbWVvdXQiPT09b3x8IkludGVydmFsIj09PW8/c1sxXXx8MDp2b2lkIDAsYXJnczpzfSxuPXNbMF07c1swXT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZmluYWxseXtlLmlzUGVyaW9kaWN8fCgibnVtYmVyIj09dHlwZW9mIGUuaGFuZGxlSWQ/ZGVsZXRlIGFbZS5oYW5kbGVJZF06ZS5oYW5kbGVJZCYmKGUuaGFuZGxlSWRbY2VdPW51bGwpKX19O2NvbnN0IHI9Zih0LHNbMF0sZSxpLGMpO2lmKCFyKXJldHVybiByO2NvbnN0IGw9ci5kYXRhLmhhbmRsZUlkO3JldHVybiJudW1iZXIiPT10eXBlb2YgbD9hW2xdPXI6bCYmKGxbY2VdPXIpLGwmJmwucmVmJiZsLnVucmVmJiYiZnVuY3Rpb24iPT10eXBlb2YgbC5yZWYmJiJmdW5jdGlvbiI9PXR5cGVvZiBsLnVucmVmJiYoci5yZWY9bC5yZWYuYmluZChsKSxyLnVucmVmPWwudW5yZWYuYmluZChsKSksIm51bWJlciI9PXR5cGVvZiBsfHxsP2w6cn1yZXR1cm4gbi5hcHBseShlLHMpfSkscz16KGUsbix0PT5mdW5jdGlvbihuLG8pe2NvbnN0IHI9b1swXTtsZXQgczsibnVtYmVyIj09dHlwZW9mIHI/cz1hW3JdOihzPXImJnJbY2VdLHN8fChzPXIpKSxzJiYic3RyaW5nIj09dHlwZW9mIHMudHlwZT8ibm90U2NoZWR1bGVkIiE9PXMuc3RhdGUmJihzLmNhbmNlbEZuJiZzLmRhdGEuaXNQZXJpb2RpY3x8MD09PXMucnVuQ291bnQpJiYoIm51bWJlciI9PXR5cGVvZiByP2RlbGV0ZSBhW3JdOnImJihyW2NlXT1udWxsKSxzLnpvbmUuY2FuY2VsVGFzayhzKSk6dC5hcHBseShlLG8pfSl9ZnVuY3Rpb24gdWUoZSx0KXtpZihab25lW3Quc3ltYm9sKCJwYXRjaEV2ZW50VGFyZ2V0IildKXJldHVybjtjb25zdHtldmVudE5hbWVzOm4sem9uZVN5bWJvbEV2ZW50TmFtZXM6byxUUlVFX1NUUjpyLEZBTFNFX1NUUjpzLFpPTkVfU1lNQk9MX1BSRUZJWDphfT10LmdldEdsb2JhbE9iamVjdHMoKTtmb3IobGV0IGM9MDtjPG4ubGVuZ3RoO2MrKyl7Y29uc3QgZT1uW2NdLHQ9YSsoZStzKSxpPWErKGUrcik7b1tlXT17fSxvW2VdW3NdPXQsb1tlXVtyXT1pfWNvbnN0IGk9ZS5FdmVudFRhcmdldDtyZXR1cm4gaSYmaS5wcm90b3R5cGU/KHQucGF0Y2hFdmVudFRhcmdldChlLFtpJiZpLnByb3RvdHlwZV0pLCEwKTp2b2lkIDB9Wm9uZS5fX2xvYWRfcGF0Y2goImxlZ2FjeSIsZT0+e2NvbnN0IHQ9ZVtab25lLl9fc3ltYm9sX18oImxlZ2FjeVBhdGNoIildO3QmJnQoKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJxdWV1ZU1pY3JvdGFzayIsKGUsdCxuKT0+e24ucGF0Y2hNZXRob2QoZSwicXVldWVNaWNyb3Rhc2siLGU9PmZ1bmN0aW9uKGUsbil7dC5jdXJyZW50LnNjaGVkdWxlTWljcm9UYXNrKCJxdWV1ZU1pY3JvdGFzayIsblswXSl9KX0pLFpvbmUuX19sb2FkX3BhdGNoKCJ0aW1lcnMiLGU9Pntjb25zdCB0PSJzZXQiLG49ImNsZWFyIjtsZShlLHQsbiwiVGltZW91dCIpLGxlKGUsdCxuLCJJbnRlcnZhbCIpLGxlKGUsdCxuLCJJbW1lZGlhdGUiKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLGU9PntsZShlLCJyZXF1ZXN0IiwiY2FuY2VsIiwiQW5pbWF0aW9uRnJhbWUiKSxsZShlLCJtb3pSZXF1ZXN0IiwibW96Q2FuY2VsIiwiQW5pbWF0aW9uRnJhbWUiKSxsZShlLCJ3ZWJraXRSZXF1ZXN0Iiwid2Via2l0Q2FuY2VsIiwiQW5pbWF0aW9uRnJhbWUiKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJibG9ja2luZyIsKGUsdCk9Pntjb25zdCBuPVsiYWxlcnQiLCJwcm9tcHQiLCJjb25maXJtIl07Zm9yKGxldCBvPTA7bzxuLmxlbmd0aDtvKyspeihlLG5bb10sKG4sbyxyKT0+ZnVuY3Rpb24obyxzKXtyZXR1cm4gdC5jdXJyZW50LnJ1bihuLGUscyxyKX0pfSksWm9uZS5fX2xvYWRfcGF0Y2goIkV2ZW50VGFyZ2V0IiwoZSx0LG4pPT57IWZ1bmN0aW9uKGUsdCl7dC5wYXRjaEV2ZW50UHJvdG90eXBlKGUsdCl9KGUsbiksdWUoZSxuKTtjb25zdCBvPWUuWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldDtvJiZvLnByb3RvdHlwZSYmbi5wYXRjaEV2ZW50VGFyZ2V0KGUsW28ucHJvdG90eXBlXSl9KSxab25lLl9fbG9hZF9wYXRjaCgiTXV0YXRpb25PYnNlcnZlciIsKGUsdCxuKT0+e0MoIk11dGF0aW9uT2JzZXJ2ZXIiKSxDKCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyIil9KSxab25lLl9fbG9hZF9wYXRjaCgiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLChlLHQsbik9PntDKCJJbnRlcnNlY3Rpb25PYnNlcnZlciIpfSksWm9uZS5fX2xvYWRfcGF0Y2goIkZpbGVSZWFkZXIiLChlLHQsbik9PntDKCJGaWxlUmVhZGVyIil9KSxab25lLl9fbG9hZF9wYXRjaCgib25fcHJvcGVydHkiLChlLHQsbik9PntpZShuLGUpfSksWm9uZS5fX2xvYWRfcGF0Y2goImN1c3RvbUVsZW1lbnRzIiwoZSx0LG4pPT57IWZ1bmN0aW9uKGUsdCl7Y29uc3R7aXNCcm93c2VyOm4saXNNaXg6b309dC5nZXRHbG9iYWxPYmplY3RzKCk7KG58fG8pJiZlLmN1c3RvbUVsZW1lbnRzJiYiY3VzdG9tRWxlbWVudHMiaW4gZSYmdC5wYXRjaENhbGxiYWNrcyh0LGUuY3VzdG9tRWxlbWVudHMsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIixbImNvbm5lY3RlZENhbGxiYWNrIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJhZG9wdGVkQ2FsbGJhY2siLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siXSl9KGUsbil9KSxab25lLl9fbG9hZF9wYXRjaCgiWEhSIiwoZSx0KT0+eyFmdW5jdGlvbihlKXtjb25zdCB1PWUuWE1MSHR0cFJlcXVlc3Q7aWYoIXUpcmV0dXJuO2NvbnN0IGg9dS5wcm90b3R5cGU7bGV0IHA9aFtpXSxnPWhbY107aWYoIXApe2NvbnN0IHQ9ZS5YTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0O2lmKHQpe2NvbnN0IGU9dC5wcm90b3R5cGU7cD1lW2ldLGc9ZVtjXX19Y29uc3QgXz0icmVhZHlzdGF0ZWNoYW5nZSIsaz0ic2NoZWR1bGVkIjtmdW5jdGlvbiBtKGUpe2NvbnN0IG89ZS5kYXRhLGE9by50YXJnZXQ7YVtzXT0hMSxhW2xdPSExO2NvbnN0IHU9YVtyXTtwfHwocD1hW2ldLGc9YVtjXSksdSYmZy5jYWxsKGEsXyx1KTtjb25zdCBoPWFbcl09KCk9PntpZihhLnJlYWR5U3RhdGU9PT1hLkRPTkUpaWYoIW8uYWJvcnRlZCYmYVtzXSYmZS5zdGF0ZT09PWspe2NvbnN0IG49YVt0Ll9fc3ltYm9sX18oImxvYWRmYWxzZSIpXTtpZigwIT09YS5zdGF0dXMmJm4mJm4ubGVuZ3RoPjApe2NvbnN0IHI9ZS5pbnZva2U7ZS5pbnZva2U9ZnVuY3Rpb24oKXtjb25zdCBuPWFbdC5fX3N5bWJvbF9fKCJsb2FkZmFsc2UiKV07Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspblt0XT09PWUmJm4uc3BsaWNlKHQsMSk7by5hYm9ydGVkfHxlLnN0YXRlIT09a3x8ci5jYWxsKGUpfSxuLnB1c2goZSl9ZWxzZSBlLmludm9rZSgpfWVsc2Ugby5hYm9ydGVkfHwhMSE9PWFbc118fChhW2xdPSEwKX07cmV0dXJuIHAuY2FsbChhLF8saCksYVtuXXx8KGFbbl09ZSksdy5hcHBseShhLG8uYXJncyksYVtzXT0hMCxlfWZ1bmN0aW9uIHkoKXt9ZnVuY3Rpb24gdihlKXtjb25zdCB0PWUuZGF0YTtyZXR1cm4gdC5hYm9ydGVkPSEwLFouYXBwbHkodC50YXJnZXQsdC5hcmdzKX1jb25zdCBUPXooaCwib3BlbiIsKCk9PmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbb109MD09dFsyXSxlW2FdPXRbMV0sVC5hcHBseShlLHQpfSksYj1kKCJmZXRjaFRhc2tBYm9ydGluZyIpLEU9ZCgiZmV0Y2hUYXNrU2NoZWR1bGluZyIpLHc9eihoLCJzZW5kIiwoKT0+ZnVuY3Rpb24oZSxuKXtpZighMD09PXQuY3VycmVudFtFXSlyZXR1cm4gdy5hcHBseShlLG4pO2lmKGVbb10pcmV0dXJuIHcuYXBwbHkoZSxuKTt7Y29uc3QgdD17dGFyZ2V0OmUsdXJsOmVbYV0saXNQZXJpb2RpYzohMSxhcmdzOm4sYWJvcnRlZDohMX0sbz1mKCJYTUxIdHRwUmVxdWVzdC5zZW5kIix5LHQsbSx2KTtlJiYhMD09PWVbbF0mJiF0LmFib3J0ZWQmJm8uc3RhdGU9PT1rJiZvLmludm9rZSgpfX0pLFo9eihoLCJhYm9ydCIsKCk9PmZ1bmN0aW9uKGUsbyl7Y29uc3Qgcj1lW25dO2lmKHImJiJzdHJpbmciPT10eXBlb2Ygci50eXBlKXtpZihudWxsPT1yLmNhbmNlbEZufHxyLmRhdGEmJnIuZGF0YS5hYm9ydGVkKXJldHVybjtyLnpvbmUuY2FuY2VsVGFzayhyKX1lbHNlIGlmKCEwPT09dC5jdXJyZW50W2JdKXJldHVybiBaLmFwcGx5KGUsbyl9KX0oZSk7Y29uc3Qgbj1kKCJ4aHJUYXNrIiksbz1kKCJ4aHJTeW5jIikscj1kKCJ4aHJMaXN0ZW5lciIpLHM9ZCgieGhyU2NoZWR1bGVkIiksYT1kKCJ4aHJVUkwiKSxsPWQoInhockVycm9yQmVmb3JlU2NoZWR1bGVkIil9KSxab25lLl9fbG9hZF9wYXRjaCgiZ2VvbG9jYXRpb24iLHQ9Pnt0Lm5hdmlnYXRvciYmdC5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24mJmZ1bmN0aW9uKHQsbil7Y29uc3Qgbz10LmNvbnN0cnVjdG9yLm5hbWU7Zm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKyspe2NvbnN0IHM9bltyXSxhPXRbc107aWYoYSl7aWYoIXYoZSh0LHMpKSljb250aW51ZTt0W3NdPShlPT57Y29uc3QgdD1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHRoaXMseShhcmd1bWVudHMsbysiLiIrcykpfTtyZXR1cm4gSSh0LGUpLHR9KShhKX19fSh0Lm5hdmlnYXRvci5nZW9sb2NhdGlvbixbImdldEN1cnJlbnRQb3NpdGlvbiIsIndhdGNoUG9zaXRpb24iXSl9KSxab25lLl9fbG9hZF9wYXRjaCgiUHJvbWlzZVJlamVjdGlvbkV2ZW50IiwoZSx0KT0+e2Z1bmN0aW9uIG4odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe1UoZSx0KS5mb3JFYWNoKG89Pntjb25zdCByPWUuUHJvbWlzZVJlamVjdGlvbkV2ZW50O2lmKHIpe2NvbnN0IGU9bmV3IHIodCx7cHJvbWlzZTpuLnByb21pc2UscmVhc29uOm4ucmVqZWN0aW9ufSk7by5pbnZva2UoZSl9fSl9fWUuUHJvbWlzZVJlamVjdGlvbkV2ZW50JiYodFtkKCJ1bmhhbmRsZWRQcm9taXNlUmVqZWN0aW9uSGFuZGxlciIpXT1uKCJ1bmhhbmRsZWRyZWplY3Rpb24iKSx0W2QoInJlamVjdGlvbkhhbmRsZWRIYW5kbGVyIildPW4oInJlamVjdGlvbmhhbmRsZWQiKSl9KX0sNDQ4OihlLHQsbik9PnsidXNlIHN0cmljdCI7bigxNjcpfX0sZT0+eyJ1c2Ugc3RyaWN0IjtlKGUucz00NDgpfV0pOyhzZWxmLndlYnBhY2tDaHVua25nX2VsZW1lbnRzX2V4YW1wbGU9c2VsZi53ZWJwYWNrQ2h1bmtuZ19lbGVtZW50c19leGFtcGxlfHxbXSkucHVzaChbWzE3OV0sezEyMDoodCxlLG4pPT57InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHR9bGV0IHM9ITE7Y29uc3QgaT17UHJvbWlzZTp2b2lkIDAsc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodCl7aWYodCl7Y29uc3QgdD1uZXcgRXJyb3I7Y29uc29sZS53YXJuKCJERVBSRUNBVEVEISBSeEpTIHdhcyBzZXQgdG8gdXNlIGRlcHJlY2F0ZWQgc3luY2hyb25vdXMgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IgYnkgY29kZSBhdDogXG4iK3Quc3RhY2spfWVsc2UgcyYmY29uc29sZS5sb2coIlJ4SlM6IEJhY2sgdG8gYSBiZXR0ZXIgZXJyb3IgYmVoYXZpb3IuIFRoYW5rIHlvdS4gPDMiKTtzPXR9LGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCl7cmV0dXJuIHN9fTtmdW5jdGlvbiBvKHQpe3NldFRpbWVvdXQoKCk9Pnt0aHJvdyB0fSwwKX1jb25zdCBhPXtjbG9zZWQ6ITAsbmV4dCh0KXt9LGVycm9yKHQpe2lmKGkudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyl0aHJvdyB0O28odCl9LGNvbXBsZXRlKCl7fX0sYz0oKCk9PkFycmF5LmlzQXJyYXl8fCh0PT50JiYibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoKSkoKTtmdW5jdGlvbiBsKHQpe3JldHVybiBudWxsIT09dCYmIm9iamVjdCI9PXR5cGVvZiB0fWNvbnN0IHU9KCgpPT57ZnVuY3Rpb24gdCh0KXtyZXR1cm4gRXJyb3IuY2FsbCh0aGlzKSx0aGlzLm1lc3NhZ2U9dD9gJHt0Lmxlbmd0aH0gZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcbiR7dC5tYXAoKHQsZSk9PmAke2UrMX0pICR7dC50b1N0cmluZygpfWApLmpvaW4oIlxuICAiKX1gOiIiLHRoaXMubmFtZT0iVW5zdWJzY3JpcHRpb25FcnJvciIsdGhpcy5lcnJvcnM9dCx0aGlzfXJldHVybiB0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksdH0pKCk7bGV0IGg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmNsb3NlZD0hMSx0aGlzLl9wYXJlbnRPclBhcmVudHM9bnVsbCx0aGlzLl9zdWJzY3JpcHRpb25zPW51bGwsdCYmKHRoaXMuX2N0b3JVbnN1YnNjcmliZT0hMCx0aGlzLl91bnN1YnNjcmliZT10KX11bnN1YnNjcmliZSgpe2xldCBlO2lmKHRoaXMuY2xvc2VkKXJldHVybjtsZXR7X3BhcmVudE9yUGFyZW50czpuLF9jdG9yVW5zdWJzY3JpYmU6cyxfdW5zdWJzY3JpYmU6aSxfc3Vic2NyaXB0aW9uczpvfT10aGlzO2lmKHRoaXMuY2xvc2VkPSEwLHRoaXMuX3BhcmVudE9yUGFyZW50cz1udWxsLHRoaXMuX3N1YnNjcmlwdGlvbnM9bnVsbCxuIGluc3RhbmNlb2YgdCluLnJlbW92ZSh0aGlzKTtlbHNlIGlmKG51bGwhPT1uKWZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7Kyt0KW5bdF0ucmVtb3ZlKHRoaXMpO2lmKHIoaSkpe3MmJih0aGlzLl91bnN1YnNjcmliZT12b2lkIDApO3RyeXtpLmNhbGwodGhpcyl9Y2F0Y2goYSl7ZT1hIGluc3RhbmNlb2YgdT9kKGEuZXJyb3JzKTpbYV19fWlmKGMobykpe2xldCB0PS0xLG49by5sZW5ndGg7Zm9yKDsrK3Q8bjspe2NvbnN0IG49b1t0XTtpZihsKG4pKXRyeXtuLnVuc3Vic2NyaWJlKCl9Y2F0Y2goYSl7ZT1lfHxbXSxhIGluc3RhbmNlb2YgdT9lPWUuY29uY2F0KGQoYS5lcnJvcnMpKTplLnB1c2goYSl9fX1pZihlKXRocm93IG5ldyB1KGUpfWFkZChlKXtsZXQgbj1lO2lmKCFlKXJldHVybiB0LkVNUFRZO3N3aXRjaCh0eXBlb2YgZSl7Y2FzZSJmdW5jdGlvbiI6bj1uZXcgdChlKTtjYXNlIm9iamVjdCI6aWYobj09PXRoaXN8fG4uY2xvc2VkfHwiZnVuY3Rpb24iIT10eXBlb2Ygbi51bnN1YnNjcmliZSlyZXR1cm4gbjtpZih0aGlzLmNsb3NlZClyZXR1cm4gbi51bnN1YnNjcmliZSgpLG47aWYoIShuIGluc3RhbmNlb2YgdCkpe2NvbnN0IGU9bjtuPW5ldyB0LG4uX3N1YnNjcmlwdGlvbnM9W2VdfWJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJ1bnJlY29nbml6ZWQgdGVhcmRvd24gIitlKyIgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLiIpfWxldHtfcGFyZW50T3JQYXJlbnRzOnJ9PW47aWYobnVsbD09PXIpbi5fcGFyZW50T3JQYXJlbnRzPXRoaXM7ZWxzZSBpZihyIGluc3RhbmNlb2YgdCl7aWYocj09PXRoaXMpcmV0dXJuIG47bi5fcGFyZW50T3JQYXJlbnRzPVtyLHRoaXNdfWVsc2V7aWYoLTEhPT1yLmluZGV4T2YodGhpcykpcmV0dXJuIG47ci5wdXNoKHRoaXMpfWNvbnN0IHM9dGhpcy5fc3Vic2NyaXB0aW9ucztyZXR1cm4gbnVsbD09PXM/dGhpcy5fc3Vic2NyaXB0aW9ucz1bbl06cy5wdXNoKG4pLG59cmVtb3ZlKHQpe2NvbnN0IGU9dGhpcy5fc3Vic2NyaXB0aW9ucztpZihlKXtjb25zdCBuPWUuaW5kZXhPZih0KTstMSE9PW4mJmUuc3BsaWNlKG4sMSl9fX1yZXR1cm4gdC5FTVBUWT1mdW5jdGlvbih0KXtyZXR1cm4gdC5jbG9zZWQ9ITAsdH0obmV3IHQpLHR9KSgpO2Z1bmN0aW9uIGQodCl7cmV0dXJuIHQucmVkdWNlKCh0LGUpPT50LmNvbmNhdChlIGluc3RhbmNlb2YgdT9lLmVycm9yczplKSxbXSl9Y29uc3QgcD0oKCk9PiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sKCJyeFN1YnNjcmliZXIiKToiQEByeFN1YnNjcmliZXJfIitNYXRoLnJhbmRvbSgpKSgpO2NsYXNzIGYgZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKHQsZSxuKXtzd2l0Y2goc3VwZXIoKSx0aGlzLnN5bmNFcnJvclZhbHVlPW51bGwsdGhpcy5zeW5jRXJyb3JUaHJvd249ITEsdGhpcy5zeW5jRXJyb3JUaHJvd2FibGU9ITEsdGhpcy5pc1N0b3BwZWQ9ITEsYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnRoaXMuZGVzdGluYXRpb249YTticmVhaztjYXNlIDE6aWYoIXQpe3RoaXMuZGVzdGluYXRpb249YTticmVha31pZigib2JqZWN0Ij09dHlwZW9mIHQpe3QgaW5zdGFuY2VvZiBmPyh0aGlzLnN5bmNFcnJvclRocm93YWJsZT10LnN5bmNFcnJvclRocm93YWJsZSx0aGlzLmRlc3RpbmF0aW9uPXQsdC5hZGQodGhpcykpOih0aGlzLnN5bmNFcnJvclRocm93YWJsZT0hMCx0aGlzLmRlc3RpbmF0aW9uPW5ldyBnKHRoaXMsdCkpO2JyZWFrfWRlZmF1bHQ6dGhpcy5zeW5jRXJyb3JUaHJvd2FibGU9ITAsdGhpcy5kZXN0aW5hdGlvbj1uZXcgZyh0aGlzLHQsZSxuKX19W3BdKCl7cmV0dXJuIHRoaXN9c3RhdGljIGNyZWF0ZSh0LGUsbil7Y29uc3Qgcj1uZXcgZih0LGUsbik7cmV0dXJuIHIuc3luY0Vycm9yVGhyb3dhYmxlPSExLHJ9bmV4dCh0KXt0aGlzLmlzU3RvcHBlZHx8dGhpcy5fbmV4dCh0KX1lcnJvcih0KXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMuX2Vycm9yKHQpKX1jb21wbGV0ZSgpe3RoaXMuaXNTdG9wcGVkfHwodGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5fY29tcGxldGUoKSl9dW5zdWJzY3JpYmUoKXt0aGlzLmNsb3NlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHN1cGVyLnVuc3Vic2NyaWJlKCkpfV9uZXh0KHQpe3RoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1fZXJyb3IodCl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KSx0aGlzLnVuc3Vic2NyaWJlKCl9X2NvbXBsZXRlKCl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX1fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlKCl7Y29uc3R7X3BhcmVudE9yUGFyZW50czp0fT10aGlzO3JldHVybiB0aGlzLl9wYXJlbnRPclBhcmVudHM9bnVsbCx0aGlzLnVuc3Vic2NyaWJlKCksdGhpcy5jbG9zZWQ9ITEsdGhpcy5pc1N0b3BwZWQ9ITEsdGhpcy5fcGFyZW50T3JQYXJlbnRzPXQsdGhpc319Y2xhc3MgZyBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4scyl7bGV0IGk7c3VwZXIoKSx0aGlzLl9wYXJlbnRTdWJzY3JpYmVyPXQ7bGV0IG89dGhpcztyKGUpP2k9ZTplJiYoaT1lLm5leHQsbj1lLmVycm9yLHM9ZS5jb21wbGV0ZSxlIT09YSYmKG89T2JqZWN0LmNyZWF0ZShlKSxyKG8udW5zdWJzY3JpYmUpJiZ0aGlzLmFkZChvLnVuc3Vic2NyaWJlLmJpbmQobykpLG8udW5zdWJzY3JpYmU9dGhpcy51bnN1YnNjcmliZS5iaW5kKHRoaXMpKSksdGhpcy5fY29udGV4dD1vLHRoaXMuX25leHQ9aSx0aGlzLl9lcnJvcj1uLHRoaXMuX2NvbXBsZXRlPXN9bmV4dCh0KXtpZighdGhpcy5pc1N0b3BwZWQmJnRoaXMuX25leHQpe2NvbnN0e19wYXJlbnRTdWJzY3JpYmVyOmV9PXRoaXM7aS51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nJiZlLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9fdHJ5T3JTZXRFcnJvcihlLHRoaXMuX25leHQsdCkmJnRoaXMudW5zdWJzY3JpYmUoKTp0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9uZXh0LHQpfX1lcnJvcih0KXtpZighdGhpcy5pc1N0b3BwZWQpe2NvbnN0e19wYXJlbnRTdWJzY3JpYmVyOmV9PXRoaXMse3VzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc6bn09aTtpZih0aGlzLl9lcnJvciluJiZlLnN5bmNFcnJvclRocm93YWJsZT8odGhpcy5fX3RyeU9yU2V0RXJyb3IoZSx0aGlzLl9lcnJvcix0KSx0aGlzLnVuc3Vic2NyaWJlKCkpOih0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvcix0KSx0aGlzLnVuc3Vic2NyaWJlKCkpO2Vsc2UgaWYoZS5zeW5jRXJyb3JUaHJvd2FibGUpbj8oZS5zeW5jRXJyb3JWYWx1ZT10LGUuc3luY0Vycm9yVGhyb3duPSEwKTpvKHQpLHRoaXMudW5zdWJzY3JpYmUoKTtlbHNle2lmKHRoaXMudW5zdWJzY3JpYmUoKSxuKXRocm93IHQ7byh0KX19fWNvbXBsZXRlKCl7aWYoIXRoaXMuaXNTdG9wcGVkKXtjb25zdHtfcGFyZW50U3Vic2NyaWJlcjp0fT10aGlzO2lmKHRoaXMuX2NvbXBsZXRlKXtjb25zdCBlPSgpPT50aGlzLl9jb21wbGV0ZS5jYWxsKHRoaXMuX2NvbnRleHQpO2kudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyYmdC5zeW5jRXJyb3JUaHJvd2FibGU/KHRoaXMuX190cnlPclNldEVycm9yKHQsZSksdGhpcy51bnN1YnNjcmliZSgpKToodGhpcy5fX3RyeU9yVW5zdWIoZSksdGhpcy51bnN1YnNjcmliZSgpKX1lbHNlIHRoaXMudW5zdWJzY3JpYmUoKX19X190cnlPclVuc3ViKHQsZSl7dHJ5e3QuY2FsbCh0aGlzLl9jb250ZXh0LGUpfWNhdGNoKG4pe2lmKHRoaXMudW5zdWJzY3JpYmUoKSxpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgbjtvKG4pfX1fX3RyeU9yU2V0RXJyb3IodCxlLG4pe2lmKCFpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgbmV3IEVycm9yKCJiYWQgY2FsbCIpO3RyeXtlLmNhbGwodGhpcy5fY29udGV4dCxuKX1jYXRjaChyKXtyZXR1cm4gaS51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nPyh0LnN5bmNFcnJvclZhbHVlPXIsdC5zeW5jRXJyb3JUaHJvd249ITAsITApOihvKHIpLCEwKX1yZXR1cm4hMX1fdW5zdWJzY3JpYmUoKXtjb25zdHtfcGFyZW50U3Vic2NyaWJlcjp0fT10aGlzO3RoaXMuX2NvbnRleHQ9bnVsbCx0aGlzLl9wYXJlbnRTdWJzY3JpYmVyPW51bGwsdC51bnN1YnNjcmliZSgpfX1jb25zdCBtPSgoKT0+ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLm9ic2VydmFibGV8fCJAQG9ic2VydmFibGUiKSgpO2Z1bmN0aW9uIHkodCl7cmV0dXJuIHR9bGV0IHY9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pc1NjYWxhcj0hMSx0JiYodGhpcy5fc3Vic2NyaWJlPXQpfWxpZnQoZSl7Y29uc3Qgbj1uZXcgdDtyZXR1cm4gbi5zb3VyY2U9dGhpcyxuLm9wZXJhdG9yPWUsbn1zdWJzY3JpYmUodCxlLG4pe2NvbnN0e29wZXJhdG9yOnJ9PXRoaXMscz1mdW5jdGlvbih0LGUsbil7aWYodCl7aWYodCBpbnN0YW5jZW9mIGYpcmV0dXJuIHQ7aWYodFtwXSlyZXR1cm4gdFtwXSgpfXJldHVybiB0fHxlfHxuP25ldyBmKHQsZSxuKTpuZXcgZihhKX0odCxlLG4pO2lmKHMuYWRkKHI/ci5jYWxsKHMsdGhpcy5zb3VyY2UpOnRoaXMuc291cmNlfHxpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJiFzLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9zdWJzY3JpYmUocyk6dGhpcy5fdHJ5U3Vic2NyaWJlKHMpKSxpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJnMuc3luY0Vycm9yVGhyb3dhYmxlJiYocy5zeW5jRXJyb3JUaHJvd2FibGU9ITEscy5zeW5jRXJyb3JUaHJvd24pKXRocm93IHMuc3luY0Vycm9yVmFsdWU7cmV0dXJuIHN9X3RyeVN1YnNjcmliZSh0KXt0cnl7cmV0dXJuIHRoaXMuX3N1YnNjcmliZSh0KX1jYXRjaChlKXtpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJih0LnN5bmNFcnJvclRocm93bj0hMCx0LnN5bmNFcnJvclZhbHVlPWUpLGZ1bmN0aW9uKHQpe2Zvcig7dDspe2NvbnN0e2Nsb3NlZDplLGRlc3RpbmF0aW9uOm4saXNTdG9wcGVkOnJ9PXQ7aWYoZXx8cilyZXR1cm4hMTt0PW4mJm4gaW5zdGFuY2VvZiBmP246bnVsbH1yZXR1cm4hMH0odCk/dC5lcnJvcihlKTpjb25zb2xlLndhcm4oZSl9fWZvckVhY2godCxlKXtyZXR1cm4gbmV3KGU9YihlKSkoKGUsbik9PntsZXQgcjtyPXRoaXMuc3Vic2NyaWJlKGU9Pnt0cnl7dChlKX1jYXRjaChzKXtuKHMpLHImJnIudW5zdWJzY3JpYmUoKX19LG4sZSl9KX1fc3Vic2NyaWJlKHQpe2NvbnN0e3NvdXJjZTplfT10aGlzO3JldHVybiBlJiZlLnN1YnNjcmliZSh0KX1bbV0oKXtyZXR1cm4gdGhpc31waXBlKC4uLnQpe3JldHVybiAwPT09dC5sZW5ndGg/dGhpczooMD09PShlPXQpLmxlbmd0aD95OjE9PT1lLmxlbmd0aD9lWzBdOmZ1bmN0aW9uKHQpe3JldHVybiBlLnJlZHVjZSgodCxlKT0+ZSh0KSx0KX0pKHRoaXMpO3ZhciBlfXRvUHJvbWlzZSh0KXtyZXR1cm4gbmV3KHQ9Yih0KSkoKHQsZSk9PntsZXQgbjt0aGlzLnN1YnNjcmliZSh0PT5uPXQsdD0+ZSh0KSwoKT0+dChuKSl9KX19cmV0dXJuIHQuY3JlYXRlPWU9Pm5ldyB0KGUpLHR9KSgpO2Z1bmN0aW9uIGIodCl7aWYodHx8KHQ9aS5Qcm9taXNlfHxQcm9taXNlKSwhdCl0aHJvdyBuZXcgRXJyb3IoIm5vIFByb21pc2UgaW1wbCBmb3VuZCIpO3JldHVybiB0fWNvbnN0IEM9KCgpPT57ZnVuY3Rpb24gdCgpe3JldHVybiBFcnJvci5jYWxsKHRoaXMpLHRoaXMubWVzc2FnZT0ib2JqZWN0IHVuc3Vic2NyaWJlZCIsdGhpcy5uYW1lPSJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsdGhpc31yZXR1cm4gdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLHR9KSgpO2NsYXNzIHcgZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLnN1YmplY3Q9dCx0aGlzLnN1YnNjcmliZXI9ZSx0aGlzLmNsb3NlZD0hMX11bnN1YnNjcmliZSgpe2lmKHRoaXMuY2xvc2VkKXJldHVybjt0aGlzLmNsb3NlZD0hMDtjb25zdCB0PXRoaXMuc3ViamVjdCxlPXQub2JzZXJ2ZXJzO2lmKHRoaXMuc3ViamVjdD1udWxsLCFlfHwwPT09ZS5sZW5ndGh8fHQuaXNTdG9wcGVkfHx0LmNsb3NlZClyZXR1cm47Y29uc3Qgbj1lLmluZGV4T2YodGhpcy5zdWJzY3JpYmVyKTstMSE9PW4mJmUuc3BsaWNlKG4sMSl9fWNsYXNzIF8gZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZGVzdGluYXRpb249dH19bGV0IEQ9KCgpPT57Y2xhc3MgdCBleHRlbmRzIHZ7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMub2JzZXJ2ZXJzPVtdLHRoaXMuY2xvc2VkPSExLHRoaXMuaXNTdG9wcGVkPSExLHRoaXMuaGFzRXJyb3I9ITEsdGhpcy50aHJvd25FcnJvcj1udWxsfVtwXSgpe3JldHVybiBuZXcgXyh0aGlzKX1saWZ0KHQpe2NvbnN0IGU9bmV3IEUodGhpcyx0aGlzKTtyZXR1cm4gZS5vcGVyYXRvcj10LGV9bmV4dCh0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgQztpZighdGhpcy5pc1N0b3BwZWQpe2NvbnN0e29ic2VydmVyczplfT10aGlzLG49ZS5sZW5ndGgscj1lLnNsaWNlKCk7Zm9yKGxldCBzPTA7czxuO3MrKylyW3NdLm5leHQodCl9fWVycm9yKHQpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBDO3RoaXMuaGFzRXJyb3I9ITAsdGhpcy50aHJvd25FcnJvcj10LHRoaXMuaXNTdG9wcGVkPSEwO2NvbnN0e29ic2VydmVyczplfT10aGlzLG49ZS5sZW5ndGgscj1lLnNsaWNlKCk7Zm9yKGxldCBzPTA7czxuO3MrKylyW3NdLmVycm9yKHQpO3RoaXMub2JzZXJ2ZXJzLmxlbmd0aD0wfWNvbXBsZXRlKCl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEM7dGhpcy5pc1N0b3BwZWQ9ITA7Y29uc3R7b2JzZXJ2ZXJzOnR9PXRoaXMsZT10Lmxlbmd0aCxuPXQuc2xpY2UoKTtmb3IobGV0IHI9MDtyPGU7cisrKW5bcl0uY29tcGxldGUoKTt0aGlzLm9ic2VydmVycy5sZW5ndGg9MH11bnN1YnNjcmliZSgpe3RoaXMuaXNTdG9wcGVkPSEwLHRoaXMuY2xvc2VkPSEwLHRoaXMub2JzZXJ2ZXJzPW51bGx9X3RyeVN1YnNjcmliZSh0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgQztyZXR1cm4gc3VwZXIuX3RyeVN1YnNjcmliZSh0KX1fc3Vic2NyaWJlKHQpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBDO3JldHVybiB0aGlzLmhhc0Vycm9yPyh0LmVycm9yKHRoaXMudGhyb3duRXJyb3IpLGguRU1QVFkpOnRoaXMuaXNTdG9wcGVkPyh0LmNvbXBsZXRlKCksaC5FTVBUWSk6KHRoaXMub2JzZXJ2ZXJzLnB1c2godCksbmV3IHcodGhpcyx0KSl9YXNPYnNlcnZhYmxlKCl7Y29uc3QgdD1uZXcgdjtyZXR1cm4gdC5zb3VyY2U9dGhpcyx0fX1yZXR1cm4gdC5jcmVhdGU9KHQsZSk9Pm5ldyBFKHQsZSksdH0pKCk7Y2xhc3MgRSBleHRlbmRzIER7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMuZGVzdGluYXRpb249dCx0aGlzLnNvdXJjZT1lfW5leHQodCl7Y29uc3R7ZGVzdGluYXRpb246ZX09dGhpcztlJiZlLm5leHQmJmUubmV4dCh0KX1lcnJvcih0KXtjb25zdHtkZXN0aW5hdGlvbjplfT10aGlzO2UmJmUuZXJyb3ImJnRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9Y29tcGxldGUoKXtjb25zdHtkZXN0aW5hdGlvbjp0fT10aGlzO3QmJnQuY29tcGxldGUmJnRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX1fc3Vic2NyaWJlKHQpe2NvbnN0e3NvdXJjZTplfT10aGlzO3JldHVybiBlP3RoaXMuc291cmNlLnN1YnNjcmliZSh0KTpoLkVNUFRZfX1mdW5jdGlvbiBTKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5zY2hlZHVsZX1mdW5jdGlvbiB4KHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoImFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLiBBcmUgeW91IGxvb2tpbmcgZm9yIGBtYXBUbygpYD8iKTtyZXR1cm4gbi5saWZ0KG5ldyBBKHQsZSkpfX1jbGFzcyBBe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5wcm9qZWN0PXQsdGhpcy50aGlzQXJnPWV9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgVCh0LHRoaXMucHJvamVjdCx0aGlzLnRoaXNBcmcpKX19Y2xhc3MgVCBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQpLHRoaXMucHJvamVjdD1lLHRoaXMuY291bnQ9MCx0aGlzLnRoaXNBcmc9bnx8dGhpc31fbmV4dCh0KXtsZXQgZTt0cnl7ZT10aGlzLnByb2plY3QuY2FsbCh0aGlzLnRoaXNBcmcsdCx0aGlzLmNvdW50KyspfWNhdGNoKG4pe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iobil9dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpfX1jb25zdCBrPXQ9PmU9Pntmb3IobGV0IG49MCxyPXQubGVuZ3RoO248ciYmIWUuY2xvc2VkO24rKyllLm5leHQodFtuXSk7ZS5jb21wbGV0ZSgpfTtmdW5jdGlvbiBGKCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yP1N5bWJvbC5pdGVyYXRvcjoiQEBpdGVyYXRvciJ9Y29uc3QgST1GKCksTz10PT50JiYibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoJiYiZnVuY3Rpb24iIT10eXBlb2YgdDtmdW5jdGlvbiBQKHQpe3JldHVybiEhdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQuc3Vic2NyaWJlJiYiZnVuY3Rpb24iPT10eXBlb2YgdC50aGVufWNvbnN0IFI9dD0+e2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W21dKXJldHVybiBuPXQsdD0+e2NvbnN0IGU9blttXSgpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlLnN1YnNjcmliZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZSIpO3JldHVybiBlLnN1YnNjcmliZSh0KX07aWYoTyh0KSlyZXR1cm4gayh0KTtpZihQKHQpKXJldHVybih0PT5lPT4odC50aGVuKHQ9PntlLmNsb3NlZHx8KGUubmV4dCh0KSxlLmNvbXBsZXRlKCkpfSx0PT5lLmVycm9yKHQpKS50aGVuKG51bGwsbyksZSkpKHQpO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W0ldKXJldHVybiBlPXQsdD0+e2NvbnN0IG49ZVtJXSgpO2Zvcig7Oyl7bGV0IGU7dHJ5e2U9bi5uZXh0KCl9Y2F0Y2gocil7cmV0dXJuIHQuZXJyb3IociksdH1pZihlLmRvbmUpe3QuY29tcGxldGUoKTticmVha31pZih0Lm5leHQoZS52YWx1ZSksdC5jbG9zZWQpYnJlYWt9cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG4ucmV0dXJuJiZ0LmFkZCgoKT0+e24ucmV0dXJuJiZuLnJldHVybigpfSksdH07e2NvbnN0IGU9bCh0KT8iYW4gaW52YWxpZCBvYmplY3QiOmAnJHt0fSdgO3Rocm93IG5ldyBUeXBlRXJyb3IoYFlvdSBwcm92aWRlZCAke2V9IHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIEFycmF5LCBvciBJdGVyYWJsZS5gKX12YXIgZSxufTtmdW5jdGlvbiBMKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPW5ldyBoO2xldCBzPTA7cmV0dXJuIHIuYWRkKGUuc2NoZWR1bGUoZnVuY3Rpb24oKXtzIT09dC5sZW5ndGg/KG4ubmV4dCh0W3MrK10pLG4uY2xvc2VkfHxyLmFkZCh0aGlzLnNjaGVkdWxlKCkpKTpuLmNvbXBsZXRlKCl9KSkscn0pfWZ1bmN0aW9uIEIodCxlKXtyZXR1cm4gZT9mdW5jdGlvbih0LGUpe2lmKG51bGwhPXQpe2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdFttXX0odCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPW5ldyBoO3JldHVybiByLmFkZChlLnNjaGVkdWxlKCgpPT57Y29uc3Qgcz10W21dKCk7ci5hZGQocy5zdWJzY3JpYmUoe25leHQodCl7ci5hZGQoZS5zY2hlZHVsZSgoKT0+bi5uZXh0KHQpKSl9LGVycm9yKHQpe3IuYWRkKGUuc2NoZWR1bGUoKCk9Pm4uZXJyb3IodCkpKX0sY29tcGxldGUoKXtyLmFkZChlLnNjaGVkdWxlKCgpPT5uLmNvbXBsZXRlKCkpKX19KSl9KSkscn0pfSh0LGUpO2lmKFAodCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPW5ldyBoO3JldHVybiByLmFkZChlLnNjaGVkdWxlKCgpPT50LnRoZW4odD0+e3IuYWRkKGUuc2NoZWR1bGUoKCk9PntuLm5leHQodCksci5hZGQoZS5zY2hlZHVsZSgoKT0+bi5jb21wbGV0ZSgpKSl9KSl9LHQ9PntyLmFkZChlLnNjaGVkdWxlKCgpPT5uLmVycm9yKHQpKSl9KSkpLHJ9KX0odCxlKTtpZihPKHQpKXJldHVybiBMKHQsZSk7aWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W0ldfSh0KXx8InN0cmluZyI9PXR5cGVvZiB0KXJldHVybiBmdW5jdGlvbih0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcigiSXRlcmFibGUgY2Fubm90IGJlIG51bGwiKTtyZXR1cm4gbmV3IHYobj0+e2NvbnN0IHI9bmV3IGg7bGV0IHM7cmV0dXJuIHIuYWRkKCgpPT57cyYmImZ1bmN0aW9uIj09dHlwZW9mIHMucmV0dXJuJiZzLnJldHVybigpfSksci5hZGQoZS5zY2hlZHVsZSgoKT0+e3M9dFtJXSgpLHIuYWRkKGUuc2NoZWR1bGUoZnVuY3Rpb24oKXtpZihuLmNsb3NlZClyZXR1cm47bGV0IHQsZTt0cnl7Y29uc3Qgbj1zLm5leHQoKTt0PW4udmFsdWUsZT1uLmRvbmV9Y2F0Y2gocil7cmV0dXJuIHZvaWQgbi5lcnJvcihyKX1lP24uY29tcGxldGUoKToobi5uZXh0KHQpLHRoaXMuc2NoZWR1bGUoKSl9KSl9KSkscn0pfSh0LGUpfXRocm93IG5ldyBUeXBlRXJyb3IoKG51bGwhPT10JiZ0eXBlb2YgdHx8dCkrIiBpcyBub3Qgb2JzZXJ2YWJsZSIpfSh0LGUpOnQgaW5zdGFuY2VvZiB2P3Q6bmV3IHYoUih0KSl9Y2xhc3MgaiBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnBhcmVudD10fV9uZXh0KHQpe3RoaXMucGFyZW50Lm5vdGlmeU5leHQodCl9X2Vycm9yKHQpe3RoaXMucGFyZW50Lm5vdGlmeUVycm9yKHQpLHRoaXMudW5zdWJzY3JpYmUoKX1fY29tcGxldGUoKXt0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX19Y2xhc3MgTSBleHRlbmRzIGZ7bm90aWZ5TmV4dCh0KXt0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9bm90aWZ5RXJyb3IodCl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX1ub3RpZnlDb21wbGV0ZSgpe3RoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX19ZnVuY3Rpb24gTih0LGUpe2lmKGUuY2xvc2VkKXJldHVybjtpZih0IGluc3RhbmNlb2YgdilyZXR1cm4gdC5zdWJzY3JpYmUoZSk7bGV0IG47dHJ5e249Uih0KShlKX1jYXRjaChyKXtlLmVycm9yKHIpfXJldHVybiBufWZ1bmN0aW9uIEgodCxlLG49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9yPT5yLnBpcGUoSCgobixyKT0+Qih0KG4scikpLnBpcGUoeCgodCxzKT0+ZShuLHQscixzKSkpLG4pKTooIm51bWJlciI9PXR5cGVvZiBlJiYobj1lKSxlPT5lLmxpZnQobmV3IFYodCxuKSkpfWNsYXNzIFZ7Y29uc3RydWN0b3IodCxlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSl7dGhpcy5wcm9qZWN0PXQsdGhpcy5jb25jdXJyZW50PWV9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgeih0LHRoaXMucHJvamVjdCx0aGlzLmNvbmN1cnJlbnQpKX19Y2xhc3MgeiBleHRlbmRzIE17Y29uc3RydWN0b3IodCxlLG49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXtzdXBlcih0KSx0aGlzLnByb2plY3Q9ZSx0aGlzLmNvbmN1cnJlbnQ9bix0aGlzLmhhc0NvbXBsZXRlZD0hMSx0aGlzLmJ1ZmZlcj1bXSx0aGlzLmFjdGl2ZT0wLHRoaXMuaW5kZXg9MH1fbmV4dCh0KXt0aGlzLmFjdGl2ZTx0aGlzLmNvbmN1cnJlbnQ/dGhpcy5fdHJ5TmV4dCh0KTp0aGlzLmJ1ZmZlci5wdXNoKHQpfV90cnlOZXh0KHQpe2xldCBlO2NvbnN0IG49dGhpcy5pbmRleCsrO3RyeXtlPXRoaXMucHJvamVjdCh0LG4pfWNhdGNoKHIpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iocil9dGhpcy5hY3RpdmUrKyx0aGlzLl9pbm5lclN1YihlKX1faW5uZXJTdWIodCl7Y29uc3QgZT1uZXcgaih0aGlzKSxuPXRoaXMuZGVzdGluYXRpb247bi5hZGQoZSk7Y29uc3Qgcj1OKHQsZSk7ciE9PWUmJm4uYWRkKHIpfV9jb21wbGV0ZSgpe3RoaXMuaGFzQ29tcGxldGVkPSEwLDA9PT10aGlzLmFjdGl2ZSYmMD09PXRoaXMuYnVmZmVyLmxlbmd0aCYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX1ub3RpZnlOZXh0KHQpe3RoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1ub3RpZnlDb21wbGV0ZSgpe2NvbnN0IHQ9dGhpcy5idWZmZXI7dGhpcy5hY3RpdmUtLSx0Lmxlbmd0aD4wP3RoaXMuX25leHQodC5zaGlmdCgpKTowPT09dGhpcy5hY3RpdmUmJnRoaXMuaGFzQ29tcGxldGVkJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9fWZ1bmN0aW9uICQodD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpe3JldHVybiBIKHksdCl9ZnVuY3Rpb24gVSh0LGUpe3JldHVybiBlP0wodCxlKTpuZXcgdihrKHQpKX1mdW5jdGlvbiBXKC4uLnQpe2xldCBlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxuPW51bGwscj10W3QubGVuZ3RoLTFdO3JldHVybiBTKHIpPyhuPXQucG9wKCksdC5sZW5ndGg+MSYmIm51bWJlciI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdJiYoZT10LnBvcCgpKSk6Im51bWJlciI9PXR5cGVvZiByJiYoZT10LnBvcCgpKSxudWxsPT09biYmMT09PXQubGVuZ3RoJiZ0WzBdaW5zdGFuY2VvZiB2P3RbMF06JChlKShVKHQsbikpfWZ1bmN0aW9uIEcoKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQubGlmdChuZXcgcSh0KSl9fWNsYXNzIHF7Y29uc3RydWN0b3IodCl7dGhpcy5jb25uZWN0YWJsZT10fWNhbGwodCxlKXtjb25zdHtjb25uZWN0YWJsZTpufT10aGlzO24uX3JlZkNvdW50Kys7Y29uc3Qgcj1uZXcgWCh0LG4pLHM9ZS5zdWJzY3JpYmUocik7cmV0dXJuIHIuY2xvc2VkfHwoci5jb25uZWN0aW9uPW4uY29ubmVjdCgpKSxzfX1jbGFzcyBYIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuY29ubmVjdGFibGU9ZX1fdW5zdWJzY3JpYmUoKXtjb25zdHtjb25uZWN0YWJsZTp0fT10aGlzO2lmKCF0KXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTt0aGlzLmNvbm5lY3RhYmxlPW51bGw7Y29uc3QgZT10Ll9yZWZDb3VudDtpZihlPD0wKXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTtpZih0Ll9yZWZDb3VudD1lLTEsZT4xKXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTtjb25zdHtjb25uZWN0aW9uOm59PXRoaXMscj10Ll9jb25uZWN0aW9uO3RoaXMuY29ubmVjdGlvbj1udWxsLCFyfHxuJiZyIT09bnx8ci51bnN1YnNjcmliZSgpfX1jbGFzcyBZIGV4dGVuZHMgdntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5zb3VyY2U9dCx0aGlzLnN1YmplY3RGYWN0b3J5PWUsdGhpcy5fcmVmQ291bnQ9MCx0aGlzLl9pc0NvbXBsZXRlPSExfV9zdWJzY3JpYmUodCl7cmV0dXJuIHRoaXMuZ2V0U3ViamVjdCgpLnN1YnNjcmliZSh0KX1nZXRTdWJqZWN0KCl7Y29uc3QgdD10aGlzLl9zdWJqZWN0O3JldHVybiB0JiYhdC5pc1N0b3BwZWR8fCh0aGlzLl9zdWJqZWN0PXRoaXMuc3ViamVjdEZhY3RvcnkoKSksdGhpcy5fc3ViamVjdH1jb25uZWN0KCl7bGV0IHQ9dGhpcy5fY29ubmVjdGlvbjtyZXR1cm4gdHx8KHRoaXMuX2lzQ29tcGxldGU9ITEsdD10aGlzLl9jb25uZWN0aW9uPW5ldyBoLHQuYWRkKHRoaXMuc291cmNlLnN1YnNjcmliZShuZXcgUSh0aGlzLmdldFN1YmplY3QoKSx0aGlzKSkpLHQuY2xvc2VkJiYodGhpcy5fY29ubmVjdGlvbj1udWxsLHQ9aC5FTVBUWSkpLHR9cmVmQ291bnQoKXtyZXR1cm4gRygpKHRoaXMpfX1jb25zdCBaPSgoKT0+e2NvbnN0IHQ9WS5wcm90b3R5cGU7cmV0dXJue29wZXJhdG9yOnt2YWx1ZTpudWxsfSxfcmVmQ291bnQ6e3ZhbHVlOjAsd3JpdGFibGU6ITB9LF9zdWJqZWN0Ont2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSxfY29ubmVjdGlvbjp7dmFsdWU6bnVsbCx3cml0YWJsZTohMH0sX3N1YnNjcmliZTp7dmFsdWU6dC5fc3Vic2NyaWJlfSxfaXNDb21wbGV0ZTp7dmFsdWU6dC5faXNDb21wbGV0ZSx3cml0YWJsZTohMH0sZ2V0U3ViamVjdDp7dmFsdWU6dC5nZXRTdWJqZWN0fSxjb25uZWN0Ont2YWx1ZTp0LmNvbm5lY3R9LHJlZkNvdW50Ont2YWx1ZTp0LnJlZkNvdW50fX19KSgpO2NsYXNzIFEgZXh0ZW5kcyBfe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5jb25uZWN0YWJsZT1lfV9lcnJvcih0KXt0aGlzLl91bnN1YnNjcmliZSgpLHN1cGVyLl9lcnJvcih0KX1fY29tcGxldGUoKXt0aGlzLmNvbm5lY3RhYmxlLl9pc0NvbXBsZXRlPSEwLHRoaXMuX3Vuc3Vic2NyaWJlKCksc3VwZXIuX2NvbXBsZXRlKCl9X3Vuc3Vic2NyaWJlKCl7Y29uc3QgdD10aGlzLmNvbm5lY3RhYmxlO2lmKHQpe3RoaXMuY29ubmVjdGFibGU9bnVsbDtjb25zdCBlPXQuX2Nvbm5lY3Rpb247dC5fcmVmQ291bnQ9MCx0Ll9zdWJqZWN0PW51bGwsdC5fY29ubmVjdGlvbj1udWxsLGUmJmUudW5zdWJzY3JpYmUoKX19fWZ1bmN0aW9uIEsoKXtyZXR1cm4gbmV3IER9ZnVuY3Rpb24gSih0KXtmb3IobGV0IGUgaW4gdClpZih0W2VdPT09SilyZXR1cm4gZTt0aHJvdyBFcnJvcigiQ291bGQgbm90IGZpbmQgcmVuYW1lZCBwcm9wZXJ0eSBvbiB0YXJnZXQgb2JqZWN0LiIpfWZ1bmN0aW9uIHR0KHQsZSl7Zm9yKGNvbnN0IG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYhdC5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9ZnVuY3Rpb24gZXQodCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIlsiK3QubWFwKGV0KS5qb2luKCIsICIpKyJdIjtpZihudWxsPT10KXJldHVybiIiK3Q7aWYodC5vdmVycmlkZGVuTmFtZSlyZXR1cm5gJHt0Lm92ZXJyaWRkZW5OYW1lfWA7aWYodC5uYW1lKXJldHVybmAke3QubmFtZX1gO2NvbnN0IGU9dC50b1N0cmluZygpO2lmKG51bGw9PWUpcmV0dXJuIiIrZTtjb25zdCBuPWUuaW5kZXhPZigiXG4iKTtyZXR1cm4tMT09PW4/ZTplLnN1YnN0cmluZygwLG4pfWZ1bmN0aW9uIG50KHQsZSl7cmV0dXJuIG51bGw9PXR8fCIiPT09dD9udWxsPT09ZT8iIjplOm51bGw9PWV8fCIiPT09ZT90OnQrIiAiK2V9Y29uc3QgcnQ9Sih7X19mb3J3YXJkX3JlZl9fOkp9KTtmdW5jdGlvbiBzdCh0KXtyZXR1cm4gdC5fX2ZvcndhcmRfcmVmX189c3QsdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBldCh0aGlzKCkpfSx0fWZ1bmN0aW9uIGl0KHQpe3JldHVybiBvdCh0KT90KCk6dH1mdW5jdGlvbiBvdCh0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdCYmdC5oYXNPd25Qcm9wZXJ0eShydCkmJnQuX19mb3J3YXJkX3JlZl9fPT09c3R9Y2xhc3MgYXQgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGZ1bmN0aW9uKHQsZSl7cmV0dXJuYCR7dD9gTkcwJHt0fTogYDoiIn0ke2V9YH0odCxlKSksdGhpcy5jb2RlPXR9fWZ1bmN0aW9uIGN0KHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90Om51bGw9PXQ/IiI6U3RyaW5nKHQpfWZ1bmN0aW9uIGx0KHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0P3QubmFtZXx8dC50b1N0cmluZygpOiJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9dCYmImZ1bmN0aW9uIj09dHlwZW9mIHQudHlwZT90LnR5cGUubmFtZXx8dC50eXBlLnRvU3RyaW5nKCk6Y3QodCl9ZnVuY3Rpb24gdXQodCxlKXtjb25zdCBuPWU/YCBpbiAke2V9YDoiIjt0aHJvdyBuZXcgYXQoIjIwMSIsYE5vIHByb3ZpZGVyIGZvciAke2x0KHQpfSBmb3VuZCR7bn1gKX1mdW5jdGlvbiBodCh0KXtyZXR1cm57dG9rZW46dC50b2tlbixwcm92aWRlZEluOnQucHJvdmlkZWRJbnx8bnVsbCxmYWN0b3J5OnQuZmFjdG9yeSx2YWx1ZTp2b2lkIDB9fWZ1bmN0aW9uIGR0KHQpe3JldHVybntwcm92aWRlcnM6dC5wcm92aWRlcnN8fFtdLGltcG9ydHM6dC5pbXBvcnRzfHxbXX19ZnVuY3Rpb24gcHQodCl7cmV0dXJuIGZ0KHQsbXQpfHxmdCh0LHZ0KX1mdW5jdGlvbiBmdCh0LGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpP3RbZV06bnVsbH1mdW5jdGlvbiBndCh0KXtyZXR1cm4gdCYmKHQuaGFzT3duUHJvcGVydHkoeXQpfHx0Lmhhc093blByb3BlcnR5KGJ0KSk/dFt5dF06bnVsbH1jb25zdCBtdD1KKHsiXHUwMjc1cHJvdiI6Sn0pLHl0PUooeyJcdTAyNzVpbmoiOkp9KSx2dD1KKHtuZ0luamVjdGFibGVEZWY6Sn0pLGJ0PUooe25nSW5qZWN0b3JEZWY6Sn0pO3ZhciBDdD1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkRlZmF1bHQ9MF09IkRlZmF1bHQiLHRbdC5Ib3N0PTFdPSJIb3N0Iix0W3QuU2VsZj0yXT0iU2VsZiIsdFt0LlNraXBTZWxmPTRdPSJTa2lwU2VsZiIsdFt0Lk9wdGlvbmFsPThdPSJPcHRpb25hbCIsdH0oe30pO2xldCB3dDtmdW5jdGlvbiBfdCh0KXtjb25zdCBlPXd0O3JldHVybiB3dD10LGV9ZnVuY3Rpb24gRHQodCxlLG4pe2NvbnN0IHI9cHQodCk7cmV0dXJuIHImJiJyb290Ij09ci5wcm92aWRlZEluP3ZvaWQgMD09PXIudmFsdWU/ci52YWx1ZT1yLmZhY3RvcnkoKTpyLnZhbHVlOm4mQ3QuT3B0aW9uYWw/bnVsbDp2b2lkIDAhPT1lP2U6dm9pZCB1dChldCh0KSwiSW5qZWN0b3IiKX1mdW5jdGlvbiBFdCh0KXtyZXR1cm57dG9TdHJpbmc6dH0udG9TdHJpbmcoKX12YXIgU3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5PblB1c2g9MF09Ik9uUHVzaCIsdFt0LkRlZmF1bHQ9MV09IkRlZmF1bHQiLHR9KHt9KSx4dD1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkVtdWxhdGVkPTBdPSJFbXVsYXRlZCIsdFt0Lk5vbmU9Ml09Ik5vbmUiLHRbdC5TaGFkb3dEb209M109IlNoYWRvd0RvbSIsdH0oe30pO2NvbnN0IEF0PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyxUdD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LGt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmInVuZGVmaW5lZCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZzZWxmLEZ0PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwsSXQ9QXR8fEZ0fHxUdHx8a3QsT3Q9e30sUHQ9W10sUnQ9Sih7Ilx1MDI3NWNtcCI6Sn0pLEx0PUooeyJcdTAyNzVkaXIiOkp9KSxCdD1KKHsiXHUwMjc1cGlwZSI6Sn0pLGp0PUooeyJcdTAyNzVtb2QiOkp9KSxNdD1KKHsiXHUwMjc1bG9jIjpKfSksTnQ9Sih7Ilx1MDI3NWZhYyI6Sn0pLEh0PUooe19fTkdfRUxFTUVOVF9JRF9fOkp9KTtsZXQgVnQ9MDtmdW5jdGlvbiB6dCh0KXtyZXR1cm4gRXQoKCk9Pntjb25zdCBlPXt9LG49e3R5cGU6dC50eXBlLHByb3ZpZGVyc1Jlc29sdmVyOm51bGwsZGVjbHM6dC5kZWNscyx2YXJzOnQudmFycyxmYWN0b3J5Om51bGwsdGVtcGxhdGU6dC50ZW1wbGF0ZXx8bnVsbCxjb25zdHM6dC5jb25zdHN8fG51bGwsbmdDb250ZW50U2VsZWN0b3JzOnQubmdDb250ZW50U2VsZWN0b3JzLGhvc3RCaW5kaW5nczp0Lmhvc3RCaW5kaW5nc3x8bnVsbCxob3N0VmFyczp0Lmhvc3RWYXJzfHwwLGhvc3RBdHRyczp0Lmhvc3RBdHRyc3x8bnVsbCxjb250ZW50UXVlcmllczp0LmNvbnRlbnRRdWVyaWVzfHxudWxsLGRlY2xhcmVkSW5wdXRzOmUsaW5wdXRzOm51bGwsb3V0cHV0czpudWxsLGV4cG9ydEFzOnQuZXhwb3J0QXN8fG51bGwsb25QdXNoOnQuY2hhbmdlRGV0ZWN0aW9uPT09U3QuT25QdXNoLGRpcmVjdGl2ZURlZnM6bnVsbCxwaXBlRGVmczpudWxsLHNlbGVjdG9yczp0LnNlbGVjdG9yc3x8UHQsdmlld1F1ZXJ5OnQudmlld1F1ZXJ5fHxudWxsLGZlYXR1cmVzOnQuZmVhdHVyZXN8fG51bGwsZGF0YTp0LmRhdGF8fHt9LGVuY2Fwc3VsYXRpb246dC5lbmNhcHN1bGF0aW9ufHx4dC5FbXVsYXRlZCxpZDoiYyIsc3R5bGVzOnQuc3R5bGVzfHxQdCxfOm51bGwsc2V0SW5wdXQ6bnVsbCxzY2hlbWFzOnQuc2NoZW1hc3x8bnVsbCx0VmlldzpudWxsfSxyPXQuZGlyZWN0aXZlcyxzPXQuZmVhdHVyZXMsaT10LnBpcGVzO3JldHVybiBuLmlkKz1WdCsrLG4uaW5wdXRzPXF0KHQuaW5wdXRzLGUpLG4ub3V0cHV0cz1xdCh0Lm91dHB1dHMpLHMmJnMuZm9yRWFjaCh0PT50KG4pKSxuLmRpcmVjdGl2ZURlZnM9cj8oKT0+KCJmdW5jdGlvbiI9PXR5cGVvZiByP3IoKTpyKS5tYXAoJHQpOm51bGwsbi5waXBlRGVmcz1pPygpPT4oImZ1bmN0aW9uIj09dHlwZW9mIGk/aSgpOmkpLm1hcChVdCk6bnVsbCxufSl9ZnVuY3Rpb24gJHQodCl7cmV0dXJuIFp0KHQpfHxmdW5jdGlvbih0KXtyZXR1cm4gdFtMdF18fG51bGx9KHQpfWZ1bmN0aW9uIFV0KHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdFtCdF18fG51bGx9KHQpfWNvbnN0IFd0PXt9O2Z1bmN0aW9uIEd0KHQpe3JldHVybiBFdCgoKT0+e2NvbnN0IGU9e3R5cGU6dC50eXBlLGJvb3RzdHJhcDp0LmJvb3RzdHJhcHx8UHQsZGVjbGFyYXRpb25zOnQuZGVjbGFyYXRpb25zfHxQdCxpbXBvcnRzOnQuaW1wb3J0c3x8UHQsZXhwb3J0czp0LmV4cG9ydHN8fFB0LHRyYW5zaXRpdmVDb21waWxlU2NvcGVzOm51bGwsc2NoZW1hczp0LnNjaGVtYXN8fG51bGwsaWQ6dC5pZHx8bnVsbH07cmV0dXJuIG51bGwhPXQuaWQmJihXdFt0LmlkXT10LnR5cGUpLGV9KX1mdW5jdGlvbiBxdCh0LGUpe2lmKG51bGw9PXQpcmV0dXJuIE90O2NvbnN0IG49e307Zm9yKGNvbnN0IHIgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHIpKXtsZXQgcz10W3JdLGk9cztBcnJheS5pc0FycmF5KHMpJiYoaT1zWzFdLHM9c1swXSksbltzXT1yLGUmJihlW3NdPWkpfXJldHVybiBufWNvbnN0IFh0PXp0O2Z1bmN0aW9uIFl0KHQpe3JldHVybnt0eXBlOnQudHlwZSxuYW1lOnQubmFtZSxmYWN0b3J5Om51bGwscHVyZTohMSE9PXQucHVyZSxvbkRlc3Ryb3k6dC50eXBlLnByb3RvdHlwZS5uZ09uRGVzdHJveXx8bnVsbH19ZnVuY3Rpb24gWnQodCl7cmV0dXJuIHRbUnRdfHxudWxsfWZ1bmN0aW9uIFF0KHQsZSl7Y29uc3Qgbj10W2p0XXx8bnVsbDtpZighbiYmITA9PT1lKXRocm93IG5ldyBFcnJvcihgVHlwZSAke2V0KHQpfSBkb2VzIG5vdCBoYXZlICdcdTAyNzVtb2QnIHByb3BlcnR5LmApO3JldHVybiBufWNvbnN0IEt0PTIwLEp0PTEwO2Z1bmN0aW9uIHRlKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpJiYib2JqZWN0Ij09dHlwZW9mIHRbMV19ZnVuY3Rpb24gZWUodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJiEwPT09dFsxXX1mdW5jdGlvbiBuZSh0KXtyZXR1cm4gMCE9KDgmdC5mbGFncyl9ZnVuY3Rpb24gcmUodCl7cmV0dXJuIDI9PSgyJnQuZmxhZ3MpfWZ1bmN0aW9uIHNlKHQpe3JldHVybiAxPT0oMSZ0LmZsYWdzKX1mdW5jdGlvbiBpZSh0KXtyZXR1cm4gbnVsbCE9PXQudGVtcGxhdGV9ZnVuY3Rpb24gb2UodCxlKXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShOdCk/dFtOdF06bnVsbH1jbGFzcyBhZXtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5wcmV2aW91c1ZhbHVlPXQsdGhpcy5jdXJyZW50VmFsdWU9ZSx0aGlzLmZpcnN0Q2hhbmdlPW59aXNGaXJzdENoYW5nZSgpe3JldHVybiB0aGlzLmZpcnN0Q2hhbmdlfX1mdW5jdGlvbiBjZSgpe3JldHVybiBsZX1mdW5jdGlvbiBsZSh0KXtyZXR1cm4gdC50eXBlLnByb3RvdHlwZS5uZ09uQ2hhbmdlcyYmKHQuc2V0SW5wdXQ9aGUpLHVlfWZ1bmN0aW9uIHVlKCl7Y29uc3QgdD1kZSh0aGlzKSxlPW51bGw9PXQ/dm9pZCAwOnQuY3VycmVudDtpZihlKXtjb25zdCBuPXQucHJldmlvdXM7aWYobj09PU90KXQucHJldmlvdXM9ZTtlbHNlIGZvcihsZXQgdCBpbiBlKW5bdF09ZVt0XTt0LmN1cnJlbnQ9bnVsbCx0aGlzLm5nT25DaGFuZ2VzKGUpfX1mdW5jdGlvbiBoZSh0LGUsbixyKXtjb25zdCBzPWRlKHQpfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fbmdTaW1wbGVDaGFuZ2VzX189ZX0odCx7cHJldmlvdXM6T3QsY3VycmVudDpudWxsfSksaT1zLmN1cnJlbnR8fChzLmN1cnJlbnQ9e30pLG89cy5wcmV2aW91cyxhPXRoaXMuZGVjbGFyZWRJbnB1dHNbbl0sYz1vW2FdO2lbYV09bmV3IGFlKGMmJmMuY3VycmVudFZhbHVlLGUsbz09PU90KSx0W3JdPWV9ZnVuY3Rpb24gZGUodCl7cmV0dXJuIHQuX19uZ1NpbXBsZUNoYW5nZXNfX3x8bnVsbH1jZS5uZ0luaGVyaXQ9ITA7Y29uc3QgcGU9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjtsZXQgZmU7ZnVuY3Rpb24gZ2UoKXtyZXR1cm4gdm9pZCAwIT09ZmU/ZmU6InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudDp2b2lkIDB9ZnVuY3Rpb24gbWUodCl7cmV0dXJuISF0Lmxpc3Rlbn1jb25zdCB5ZT17Y3JlYXRlUmVuZGVyZXI6KHQsZSk9PmdlKCl9O2Z1bmN0aW9uIHZlKHQpe2Zvcig7QXJyYXkuaXNBcnJheSh0KTspdD10WzBdO3JldHVybiB0fWZ1bmN0aW9uIGJlKHQsZSl7cmV0dXJuIHZlKGVbdF0pfWZ1bmN0aW9uIENlKHQsZSl7cmV0dXJuIHZlKGVbdC5pbmRleF0pfWZ1bmN0aW9uIHdlKHQsZSl7cmV0dXJuIHQuZGF0YVtlXX1mdW5jdGlvbiBfZSh0LGUpe3JldHVybiB0W2VdfWZ1bmN0aW9uIERlKHQsZSl7Y29uc3Qgbj1lW3RdO3JldHVybiB0ZShuKT9uOm5bMF19ZnVuY3Rpb24gRWUodCl7cmV0dXJuIDQ9PSg0JnRbMl0pfWZ1bmN0aW9uIFNlKHQpe3JldHVybiAxMjg9PSgxMjgmdFsyXSl9ZnVuY3Rpb24geGUodCxlKXtyZXR1cm4gbnVsbD09ZT9udWxsOnRbZV19ZnVuY3Rpb24gQWUodCl7dFsxOF09MH1mdW5jdGlvbiBUZSh0LGUpe3RbNV0rPWU7bGV0IG49dCxyPXRbM107Zm9yKDtudWxsIT09ciYmKDE9PT1lJiYxPT09bls1XXx8LTE9PT1lJiYwPT09bls1XSk7KXJbNV0rPWUsbj1yLHI9clszXX1jb25zdCBrZT17bEZyYW1lOktlKG51bGwpLGJpbmRpbmdzRW5hYmxlZDohMCxpc0luQ2hlY2tOb0NoYW5nZXNNb2RlOiExfTtmdW5jdGlvbiBGZSgpe3JldHVybiBrZS5iaW5kaW5nc0VuYWJsZWR9ZnVuY3Rpb24gSWUoKXtyZXR1cm4ga2UubEZyYW1lLmxWaWV3fWZ1bmN0aW9uIE9lKCl7cmV0dXJuIGtlLmxGcmFtZS50Vmlld31mdW5jdGlvbiBQZSh0KXtyZXR1cm4ga2UubEZyYW1lLmNvbnRleHRMVmlldz10LHRbOF19ZnVuY3Rpb24gUmUoKXtsZXQgdD1MZSgpO2Zvcig7bnVsbCE9PXQmJjY0PT09dC50eXBlOyl0PXQucGFyZW50O3JldHVybiB0fWZ1bmN0aW9uIExlKCl7cmV0dXJuIGtlLmxGcmFtZS5jdXJyZW50VE5vZGV9ZnVuY3Rpb24gQmUodCxlKXtjb25zdCBuPWtlLmxGcmFtZTtuLmN1cnJlbnRUTm9kZT10LG4uaXNQYXJlbnQ9ZX1mdW5jdGlvbiBqZSgpe3JldHVybiBrZS5sRnJhbWUuaXNQYXJlbnR9ZnVuY3Rpb24gTWUoKXtrZS5sRnJhbWUuaXNQYXJlbnQ9ITF9ZnVuY3Rpb24gTmUoKXtyZXR1cm4ga2UuaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZX1mdW5jdGlvbiBIZSh0KXtrZS5pc0luQ2hlY2tOb0NoYW5nZXNNb2RlPXR9ZnVuY3Rpb24gVmUoKXtyZXR1cm4ga2UubEZyYW1lLmJpbmRpbmdJbmRleH1mdW5jdGlvbiB6ZSgpe3JldHVybiBrZS5sRnJhbWUuYmluZGluZ0luZGV4Kyt9ZnVuY3Rpb24gJGUodCl7Y29uc3QgZT1rZS5sRnJhbWUsbj1lLmJpbmRpbmdJbmRleDtyZXR1cm4gZS5iaW5kaW5nSW5kZXg9ZS5iaW5kaW5nSW5kZXgrdCxufWZ1bmN0aW9uIFVlKHQsZSl7Y29uc3Qgbj1rZS5sRnJhbWU7bi5iaW5kaW5nSW5kZXg9bi5iaW5kaW5nUm9vdEluZGV4PXQsV2UoZSl9ZnVuY3Rpb24gV2UodCl7a2UubEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleD10fWZ1bmN0aW9uIEdlKCl7cmV0dXJuIGtlLmxGcmFtZS5jdXJyZW50UXVlcnlJbmRleH1mdW5jdGlvbiBxZSh0KXtrZS5sRnJhbWUuY3VycmVudFF1ZXJ5SW5kZXg9dH1mdW5jdGlvbiBYZSh0KXtjb25zdCBlPXRbMV07cmV0dXJuIDI9PT1lLnR5cGU/ZS5kZWNsVE5vZGU6MT09PWUudHlwZT90WzZdOm51bGx9ZnVuY3Rpb24gWWUodCxlLG4pe2lmKG4mQ3QuU2tpcFNlbGYpe2xldCByPWUscz10O2Zvcig7cj1yLnBhcmVudCwhKG51bGwhPT1yfHxuJkN0Lkhvc3R8fChyPVhlKHMpLG51bGw9PT1yKXx8KHM9c1sxNV0sMTAmci50eXBlKSk7KTtpZihudWxsPT09cilyZXR1cm4hMTtlPXIsdD1zfWNvbnN0IHI9a2UubEZyYW1lPVFlKCk7cmV0dXJuIHIuY3VycmVudFROb2RlPWUsci5sVmlldz10LCEwfWZ1bmN0aW9uIFplKHQpe2NvbnN0IGU9UWUoKSxuPXRbMV07a2UubEZyYW1lPWUsZS5jdXJyZW50VE5vZGU9bi5maXJzdENoaWxkLGUubFZpZXc9dCxlLnRWaWV3PW4sZS5jb250ZXh0TFZpZXc9dCxlLmJpbmRpbmdJbmRleD1uLmJpbmRpbmdTdGFydEluZGV4LGUuaW5JMThuPSExfWZ1bmN0aW9uIFFlKCl7Y29uc3QgdD1rZS5sRnJhbWUsZT1udWxsPT09dD9udWxsOnQuY2hpbGQ7cmV0dXJuIG51bGw9PT1lP0tlKHQpOmV9ZnVuY3Rpb24gS2UodCl7Y29uc3QgZT17Y3VycmVudFROb2RlOm51bGwsaXNQYXJlbnQ6ITAsbFZpZXc6bnVsbCx0VmlldzpudWxsLHNlbGVjdGVkSW5kZXg6LTEsY29udGV4dExWaWV3Om51bGwsZWxlbWVudERlcHRoQ291bnQ6MCxjdXJyZW50TmFtZXNwYWNlOm51bGwsY3VycmVudERpcmVjdGl2ZUluZGV4Oi0xLGJpbmRpbmdSb290SW5kZXg6LTEsYmluZGluZ0luZGV4Oi0xLGN1cnJlbnRRdWVyeUluZGV4OjAscGFyZW50OnQsY2hpbGQ6bnVsbCxpbkkxOG46ITF9O3JldHVybiBudWxsIT09dCYmKHQuY2hpbGQ9ZSksZX1mdW5jdGlvbiBKZSgpe2NvbnN0IHQ9a2UubEZyYW1lO3JldHVybiBrZS5sRnJhbWU9dC5wYXJlbnQsdC5jdXJyZW50VE5vZGU9bnVsbCx0LmxWaWV3PW51bGwsdH1jb25zdCB0bj1KZTtmdW5jdGlvbiBlbigpe2NvbnN0IHQ9SmUoKTt0LmlzUGFyZW50PSEwLHQudFZpZXc9bnVsbCx0LnNlbGVjdGVkSW5kZXg9LTEsdC5jb250ZXh0TFZpZXc9bnVsbCx0LmVsZW1lbnREZXB0aENvdW50PTAsdC5jdXJyZW50RGlyZWN0aXZlSW5kZXg9LTEsdC5jdXJyZW50TmFtZXNwYWNlPW51bGwsdC5iaW5kaW5nUm9vdEluZGV4PS0xLHQuYmluZGluZ0luZGV4PS0xLHQuY3VycmVudFF1ZXJ5SW5kZXg9MH1mdW5jdGlvbiBubigpe3JldHVybiBrZS5sRnJhbWUuc2VsZWN0ZWRJbmRleH1mdW5jdGlvbiBybih0KXtrZS5sRnJhbWUuc2VsZWN0ZWRJbmRleD10fWZ1bmN0aW9uIHNuKCl7Y29uc3QgdD1rZS5sRnJhbWU7cmV0dXJuIHdlKHQudFZpZXcsdC5zZWxlY3RlZEluZGV4KX1mdW5jdGlvbiBvbigpe2tlLmxGcmFtZS5jdXJyZW50TmFtZXNwYWNlPXBlfWZ1bmN0aW9uIGFuKHQsZSl7Zm9yKGxldCBuPWUuZGlyZWN0aXZlU3RhcnQscj1lLmRpcmVjdGl2ZUVuZDtuPHI7bisrKXtjb25zdCBlPXQuZGF0YVtuXS50eXBlLnByb3RvdHlwZSx7bmdBZnRlckNvbnRlbnRJbml0OnIsbmdBZnRlckNvbnRlbnRDaGVja2VkOnMsbmdBZnRlclZpZXdJbml0OmksbmdBZnRlclZpZXdDaGVja2VkOm8sbmdPbkRlc3Ryb3k6YX09ZTtyJiYodC5jb250ZW50SG9va3N8fCh0LmNvbnRlbnRIb29rcz1bXSkpLnB1c2goLW4scikscyYmKCh0LmNvbnRlbnRIb29rc3x8KHQuY29udGVudEhvb2tzPVtdKSkucHVzaChuLHMpLCh0LmNvbnRlbnRDaGVja0hvb2tzfHwodC5jb250ZW50Q2hlY2tIb29rcz1bXSkpLnB1c2gobixzKSksaSYmKHQudmlld0hvb2tzfHwodC52aWV3SG9va3M9W10pKS5wdXNoKC1uLGkpLG8mJigodC52aWV3SG9va3N8fCh0LnZpZXdIb29rcz1bXSkpLnB1c2gobixvKSwodC52aWV3Q2hlY2tIb29rc3x8KHQudmlld0NoZWNrSG9va3M9W10pKS5wdXNoKG4sbykpLG51bGwhPWEmJih0LmRlc3Ryb3lIb29rc3x8KHQuZGVzdHJveUhvb2tzPVtdKSkucHVzaChuLGEpfX1mdW5jdGlvbiBjbih0LGUsbil7aG4odCxlLDMsbil9ZnVuY3Rpb24gbG4odCxlLG4scil7KDMmdFsyXSk9PT1uJiZobih0LGUsbixyKX1mdW5jdGlvbiB1bih0LGUpe2xldCBuPXRbMl07KDMmbik9PT1lJiYobiY9MjA0NyxuKz0xLHRbMl09bil9ZnVuY3Rpb24gaG4odCxlLG4scil7Y29uc3Qgcz1udWxsIT1yP3I6LTEsaT1lLmxlbmd0aC0xO2xldCBvPTA7Zm9yKGxldCBhPXZvaWQgMCE9PXI/NjU1MzUmdFsxOF06MDthPGk7YSsrKWlmKCJudW1iZXIiPT10eXBlb2YgZVthKzFdKXtpZihvPWVbYV0sbnVsbCE9ciYmbz49cilicmVha31lbHNlIGVbYV08MCYmKHRbMThdKz02NTUzNiksKG88c3x8LTE9PXMpJiYoZG4odCxuLGUsYSksdFsxOF09KDQyOTQ5MDE3NjAmdFsxOF0pK2ErMiksYSsrfWZ1bmN0aW9uIGRuKHQsZSxuLHIpe2NvbnN0IHM9bltyXTwwLGk9bltyKzFdLG89dFtzPy1uW3JdOm5bcl1dO2lmKHMpe2lmKHRbMl0+PjExPHRbMThdPj4xNiYmKDMmdFsyXSk9PT1lKXt0WzJdKz0yMDQ4O3RyeXtpLmNhbGwobyl9ZmluYWxseXt9fX1lbHNlIHRyeXtpLmNhbGwobyl9ZmluYWxseXt9fWNvbnN0IHBuPS0xO2NsYXNzIGZue2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLmZhY3Rvcnk9dCx0aGlzLnJlc29sdmluZz0hMSx0aGlzLmNhblNlZVZpZXdQcm92aWRlcnM9ZSx0aGlzLmluamVjdEltcGw9bn19ZnVuY3Rpb24gZ24odCxlLG4pe2NvbnN0IHI9bWUodCk7bGV0IHM9MDtmb3IoO3M8bi5sZW5ndGg7KXtjb25zdCBpPW5bc107aWYoIm51bWJlciI9PXR5cGVvZiBpKXtpZigwIT09aSlicmVhaztzKys7Y29uc3Qgbz1uW3MrK10sYT1uW3MrK10sYz1uW3MrK107cj90LnNldEF0dHJpYnV0ZShlLGEsYyxvKTplLnNldEF0dHJpYnV0ZU5TKG8sYSxjKX1lbHNle2NvbnN0IG89aSxhPW5bKytzXTt5bihvKT9yJiZ0LnNldFByb3BlcnR5KGUsbyxhKTpyP3Quc2V0QXR0cmlidXRlKGUsbyxhKTplLnNldEF0dHJpYnV0ZShvLGEpLHMrK319cmV0dXJuIHN9ZnVuY3Rpb24gbW4odCl7cmV0dXJuIDM9PT10fHw0PT09dHx8Nj09PXR9ZnVuY3Rpb24geW4odCl7cmV0dXJuIDY0PT09dC5jaGFyQ29kZUF0KDApfWZ1bmN0aW9uIHZuKHQsZSl7aWYobnVsbD09PWV8fDA9PT1lLmxlbmd0aCk7ZWxzZSBpZihudWxsPT09dHx8MD09PXQubGVuZ3RoKXQ9ZS5zbGljZSgpO2Vsc2V7bGV0IG49LTE7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IHM9ZVtyXTsibnVtYmVyIj09dHlwZW9mIHM/bj1zOjA9PT1ufHxibih0LG4scyxudWxsLC0xPT09bnx8Mj09PW4/ZVsrK3JdOm51bGwpfX1yZXR1cm4gdH1mdW5jdGlvbiBibih0LGUsbixyLHMpe2xldCBpPTAsbz10Lmxlbmd0aDtpZigtMT09PWUpbz0tMTtlbHNlIGZvcig7aTx0Lmxlbmd0aDspe2NvbnN0IG49dFtpKytdO2lmKCJudW1iZXIiPT10eXBlb2Ygbil7aWYobj09PWUpe289LTE7YnJlYWt9aWYobj5lKXtvPWktMTticmVha319fWZvcig7aTx0Lmxlbmd0aDspe2NvbnN0IGU9dFtpXTtpZigibnVtYmVyIj09dHlwZW9mIGUpYnJlYWs7aWYoZT09PW4pe2lmKG51bGw9PT1yKXJldHVybiB2b2lkKG51bGwhPT1zJiYodFtpKzFdPXMpKTtpZihyPT09dFtpKzFdKXJldHVybiB2b2lkKHRbaSsyXT1zKX1pKyssbnVsbCE9PXImJmkrKyxudWxsIT09cyYmaSsrfS0xIT09byYmKHQuc3BsaWNlKG8sMCxlKSxpPW8rMSksdC5zcGxpY2UoaSsrLDAsbiksbnVsbCE9PXImJnQuc3BsaWNlKGkrKywwLHIpLG51bGwhPT1zJiZ0LnNwbGljZShpKyssMCxzKX1mdW5jdGlvbiBDbih0KXtyZXR1cm4gdCE9PXBufWZ1bmN0aW9uIHduKHQpe3JldHVybiAzMjc2NyZ0fWZ1bmN0aW9uIF9uKHQsZSl7bGV0IG49dD4+MTYscj1lO2Zvcig7bj4wOylyPXJbMTVdLG4tLTtyZXR1cm4gcn1sZXQgRG49ITA7ZnVuY3Rpb24gRW4odCl7Y29uc3QgZT1EbjtyZXR1cm4gRG49dCxlfWxldCBTbj0wO2Z1bmN0aW9uIHhuKHQsZSl7Y29uc3Qgbj1Ubih0LGUpO2lmKC0xIT09bilyZXR1cm4gbjtjb25zdCByPWVbMV07ci5maXJzdENyZWF0ZVBhc3MmJih0LmluamVjdG9ySW5kZXg9ZS5sZW5ndGgsQW4oci5kYXRhLHQpLEFuKGUsbnVsbCksQW4oci5ibHVlcHJpbnQsbnVsbCkpO2NvbnN0IHM9a24odCxlKSxpPXQuaW5qZWN0b3JJbmRleDtpZihDbihzKSl7Y29uc3QgdD13bihzKSxuPV9uKHMsZSkscj1uWzFdLmRhdGE7Zm9yKGxldCBzPTA7czw4O3MrKyllW2krc109blt0K3NdfHJbdCtzXX1yZXR1cm4gZVtpKzhdPXMsaX1mdW5jdGlvbiBBbih0LGUpe3QucHVzaCgwLDAsMCwwLDAsMCwwLDAsZSl9ZnVuY3Rpb24gVG4odCxlKXtyZXR1cm4tMT09PXQuaW5qZWN0b3JJbmRleHx8dC5wYXJlbnQmJnQucGFyZW50LmluamVjdG9ySW5kZXg9PT10LmluamVjdG9ySW5kZXh8fG51bGw9PT1lW3QuaW5qZWN0b3JJbmRleCs4XT8tMTp0LmluamVjdG9ySW5kZXh9ZnVuY3Rpb24ga24odCxlKXtpZih0LnBhcmVudCYmLTEhPT10LnBhcmVudC5pbmplY3RvckluZGV4KXJldHVybiB0LnBhcmVudC5pbmplY3RvckluZGV4O2xldCBuPTAscj1udWxsLHM9ZTtmb3IoO251bGwhPT1zOyl7Y29uc3QgdD1zWzFdLGU9dC50eXBlO2lmKHI9Mj09PWU/dC5kZWNsVE5vZGU6MT09PWU/c1s2XTpudWxsLG51bGw9PT1yKXJldHVybiBwbjtpZihuKysscz1zWzE1XSwtMSE9PXIuaW5qZWN0b3JJbmRleClyZXR1cm4gci5pbmplY3RvckluZGV4fG48PDE2fXJldHVybiBwbn1mdW5jdGlvbiBGbih0LGUsbil7IWZ1bmN0aW9uKHQsZSxuKXtsZXQgcjsic3RyaW5nIj09dHlwZW9mIG4/cj1uLmNoYXJDb2RlQXQoMCl8fDA6bi5oYXNPd25Qcm9wZXJ0eShIdCkmJihyPW5bSHRdKSxudWxsPT1yJiYocj1uW0h0XT1TbisrKTtjb25zdCBzPTI1NSZyO2UuZGF0YVt0KyhzPj41KV18PTE8PHN9KHQsZSxuKX1mdW5jdGlvbiBJbih0LGUsbil7aWYobiZDdC5PcHRpb25hbClyZXR1cm4gdDt1dChlLCJOb2RlSW5qZWN0b3IiKX1mdW5jdGlvbiBPbih0LGUsbixyKXtpZihuJkN0Lk9wdGlvbmFsJiZ2b2lkIDA9PT1yJiYocj1udWxsKSwwPT0obiYoQ3QuU2VsZnxDdC5Ib3N0KSkpe2NvbnN0IHM9dFs5XSxpPV90KHZvaWQgMCk7dHJ5e3JldHVybiBzP3MuZ2V0KGUscixuJkN0Lk9wdGlvbmFsKTpEdChlLHIsbiZDdC5PcHRpb25hbCl9ZmluYWxseXtfdChpKX19cmV0dXJuIEluKHIsZSxuKX1mdW5jdGlvbiBQbih0LGUsbixyPUN0LkRlZmF1bHQscyl7aWYobnVsbCE9PXQpe2NvbnN0IGk9ZnVuY3Rpb24odCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiB0LmNoYXJDb2RlQXQoMCl8fDA7Y29uc3QgZT10Lmhhc093blByb3BlcnR5KEh0KT90W0h0XTp2b2lkIDA7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlP2U+PTA/MjU1JmU6TG46ZX0obik7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGkpe2lmKCFZZShlLHQscikpcmV0dXJuIHImQ3QuSG9zdD9JbihzLG4scik6T24oZSxuLHIscyk7dHJ5e2NvbnN0IHQ9aShyKTtpZihudWxsIT10fHxyJkN0Lk9wdGlvbmFsKXJldHVybiB0O3V0KG4pfWZpbmFsbHl7dG4oKX19ZWxzZSBpZigibnVtYmVyIj09dHlwZW9mIGkpe2xldCBzPW51bGwsbz1Ubih0LGUpLGE9cG4sYz1yJkN0Lkhvc3Q/ZVsxNl1bNl06bnVsbDtmb3IoKC0xPT09b3x8ciZDdC5Ta2lwU2VsZikmJihhPS0xPT09bz9rbih0LGUpOmVbbys4XSxhIT09cG4mJkhuKHIsITEpPyhzPWVbMV0sbz13bihhKSxlPV9uKGEsZSkpOm89LTEpOy0xIT09bzspe2NvbnN0IHQ9ZVsxXTtpZihObihpLG8sdC5kYXRhKSl7Y29uc3QgdD1CbihvLGUsbixzLHIsYyk7aWYodCE9PVJuKXJldHVybiB0fWE9ZVtvKzhdLGEhPT1wbiYmSG4ocixlWzFdLmRhdGFbbys4XT09PWMpJiZObihpLG8sZSk/KHM9dCxvPXduKGEpLGU9X24oYSxlKSk6bz0tMX19fXJldHVybiBPbihlLG4scixzKX1jb25zdCBSbj17fTtmdW5jdGlvbiBMbigpe3JldHVybiBuZXcgVm4oUmUoKSxJZSgpKX1mdW5jdGlvbiBCbih0LGUsbixyLHMsaSl7Y29uc3Qgbz1lWzFdLGE9by5kYXRhW3QrOF0sYz1qbihhLG8sbixudWxsPT1yP3JlKGEpJiZEbjpyIT1vJiYwIT0oMyZhLnR5cGUpLHMmQ3QuSG9zdCYmaT09PWEpO3JldHVybiBudWxsIT09Yz9NbihlLG8sYyxhKTpSbn1mdW5jdGlvbiBqbih0LGUsbixyLHMpe2NvbnN0IGk9dC5wcm92aWRlckluZGV4ZXMsbz1lLmRhdGEsYT0xMDQ4NTc1JmksYz10LmRpcmVjdGl2ZVN0YXJ0LGw9aT4+MjAsdT1zP2ErbDp0LmRpcmVjdGl2ZUVuZDtmb3IobGV0IGg9cj9hOmErbDtoPHU7aCsrKXtjb25zdCB0PW9baF07aWYoaDxjJiZuPT09dHx8aD49YyYmdC50eXBlPT09bilyZXR1cm4gaH1pZihzKXtjb25zdCB0PW9bY107aWYodCYmaWUodCkmJnQudHlwZT09PW4pcmV0dXJuIGN9cmV0dXJuIG51bGx9ZnVuY3Rpb24gTW4odCxlLG4scil7bGV0IHM9dFtuXTtjb25zdCBpPWUuZGF0YTtpZihzIGluc3RhbmNlb2YgZm4pe2NvbnN0IG89cztvLnJlc29sdmluZyYmZnVuY3Rpb24odCxlKXt0aHJvdyBuZXcgYXQoIjIwMCIsYENpcmN1bGFyIGRlcGVuZGVuY3kgaW4gREkgZGV0ZWN0ZWQgZm9yICR7dH1gKX0obHQoaVtuXSkpO2NvbnN0IGE9RW4oby5jYW5TZWVWaWV3UHJvdmlkZXJzKTtvLnJlc29sdmluZz0hMDtjb25zdCBjPW8uaW5qZWN0SW1wbD9fdChvLmluamVjdEltcGwpOm51bGw7WWUodCxyLEN0LkRlZmF1bHQpO3RyeXtzPXRbbl09by5mYWN0b3J5KHZvaWQgMCxpLHQsciksZS5maXJzdENyZWF0ZVBhc3MmJm4+PXIuZGlyZWN0aXZlU3RhcnQmJmZ1bmN0aW9uKHQsZSxuKXtjb25zdHtuZ09uQ2hhbmdlczpyLG5nT25Jbml0OnMsbmdEb0NoZWNrOml9PWUudHlwZS5wcm90b3R5cGU7aWYocil7Y29uc3Qgcj1sZShlKTsobi5wcmVPcmRlckhvb2tzfHwobi5wcmVPcmRlckhvb2tzPVtdKSkucHVzaCh0LHIpLChuLnByZU9yZGVyQ2hlY2tIb29rc3x8KG4ucHJlT3JkZXJDaGVja0hvb2tzPVtdKSkucHVzaCh0LHIpfXMmJihuLnByZU9yZGVySG9va3N8fChuLnByZU9yZGVySG9va3M9W10pKS5wdXNoKDAtdCxzKSxpJiYoKG4ucHJlT3JkZXJIb29rc3x8KG4ucHJlT3JkZXJIb29rcz1bXSkpLnB1c2godCxpKSwobi5wcmVPcmRlckNoZWNrSG9va3N8fChuLnByZU9yZGVyQ2hlY2tIb29rcz1bXSkpLnB1c2godCxpKSl9KG4saVtuXSxlKX1maW5hbGx5e251bGwhPT1jJiZfdChjKSxFbihhKSxvLnJlc29sdmluZz0hMSx0bigpfX1yZXR1cm4gc31mdW5jdGlvbiBObih0LGUsbil7cmV0dXJuISEobltlKyh0Pj41KV0mMTw8dCl9ZnVuY3Rpb24gSG4odCxlKXtyZXR1cm4hKHQmQ3QuU2VsZnx8dCZDdC5Ib3N0JiZlKX1jbGFzcyBWbntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX3ROb2RlPXQsdGhpcy5fbFZpZXc9ZX1nZXQodCxlKXtyZXR1cm4gUG4odGhpcy5fdE5vZGUsdGhpcy5fbFZpZXcsdCx2b2lkIDAsZSl9fWZ1bmN0aW9uIHpuKHQpe3JldHVybiBFdCgoKT0+e2NvbnN0IGU9dC5wcm90b3R5cGUuY29uc3RydWN0b3Isbj1lW050XXx8JG4oZSkscj1PYmplY3QucHJvdG90eXBlO2xldCBzPU9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSkuY29uc3RydWN0b3I7Zm9yKDtzJiZzIT09cjspe2NvbnN0IHQ9c1tOdF18fCRuKHMpO2lmKHQmJnQhPT1uKXJldHVybiB0O3M9T2JqZWN0LmdldFByb3RvdHlwZU9mKHMpfXJldHVybiB0PT5uZXcgdH0pfWZ1bmN0aW9uICRuKHQpe3JldHVybiBvdCh0KT8oKT0+e2NvbnN0IGU9JG4oaXQodCkpO3JldHVybiBlJiZlKCl9Om9lKHQpfWNvbnN0IFVuPSJfX3BhcmFtZXRlcnNfXyI7ZnVuY3Rpb24gV24odCxlLG4pe3JldHVybiBFdCgoKT0+e2NvbnN0IHI9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKC4uLmUpe2lmKHQpe2NvbnN0IG49dCguLi5lKTtmb3IoY29uc3QgdCBpbiBuKXRoaXNbdF09blt0XX19fShlKTtmdW5jdGlvbiBzKC4uLnQpe2lmKHRoaXMgaW5zdGFuY2VvZiBzKXJldHVybiByLmFwcGx5KHRoaXMsdCksdGhpcztjb25zdCBlPW5ldyBzKC4uLnQpO3JldHVybiBuLmFubm90YXRpb249ZSxuO2Z1bmN0aW9uIG4odCxuLHIpe2NvbnN0IHM9dC5oYXNPd25Qcm9wZXJ0eShVbik/dFtVbl06T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsVW4se3ZhbHVlOltdfSlbVW5dO2Zvcig7cy5sZW5ndGg8PXI7KXMucHVzaChudWxsKTtyZXR1cm4oc1tyXT1zW3JdfHxbXSkucHVzaChlKSx0fX1yZXR1cm4gbiYmKHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpKSxzLnByb3RvdHlwZS5uZ01ldGFkYXRhTmFtZT10LHMuYW5ub3RhdGlvbkNscz1zLHN9KX1jbGFzcyBHbntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX2Rlc2M9dCx0aGlzLm5nTWV0YWRhdGFOYW1lPSJJbmplY3Rpb25Ub2tlbiIsdGhpcy5cdTAyNzVwcm92PXZvaWQgMCwibnVtYmVyIj09dHlwZW9mIGU/dGhpcy5fX05HX0VMRU1FTlRfSURfXz1lOnZvaWQgMCE9PWUmJih0aGlzLlx1MDI3NXByb3Y9aHQoe3Rva2VuOnRoaXMscHJvdmlkZWRJbjplLnByb3ZpZGVkSW58fCJyb290IixmYWN0b3J5OmUuZmFjdG9yeX0pKX10b1N0cmluZygpe3JldHVybmBJbmplY3Rpb25Ub2tlbiAke3RoaXMuX2Rlc2N9YH19Y29uc3QgcW49bmV3IEduKCJBbmFseXplRm9yRW50cnlDb21wb25lbnRzIiksWG49RnVuY3Rpb247ZnVuY3Rpb24gWW4odCxlKXt2b2lkIDA9PT1lJiYoZT10KTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7bGV0IHI9dFtuXTtBcnJheS5pc0FycmF5KHIpPyhlPT09dCYmKGU9dC5zbGljZSgwLG4pKSxZbihyLGUpKTplIT09dCYmZS5wdXNoKHIpfXJldHVybiBlfWZ1bmN0aW9uIFpuKHQsZSl7dC5mb3JFYWNoKHQ9PkFycmF5LmlzQXJyYXkodCk/Wm4odCxlKTplKHQpKX1mdW5jdGlvbiBRbih0LGUsbil7ZT49dC5sZW5ndGg/dC5wdXNoKG4pOnQuc3BsaWNlKGUsMCxuKX1mdW5jdGlvbiBLbih0LGUpe3JldHVybiBlPj10Lmxlbmd0aC0xP3QucG9wKCk6dC5zcGxpY2UoZSwxKVswXX1mdW5jdGlvbiBKbih0LGUpe2NvbnN0IG49W107Zm9yKGxldCByPTA7cjx0O3IrKyluLnB1c2goZSk7cmV0dXJuIG59ZnVuY3Rpb24gdHIodCxlLG4pe2xldCByPW5yKHQsZSk7cmV0dXJuIHI+PTA/dFsxfHJdPW46KHI9fnIsZnVuY3Rpb24odCxlLG4scil7bGV0IHM9dC5sZW5ndGg7aWYocz09ZSl0LnB1c2gobixyKTtlbHNlIGlmKDE9PT1zKXQucHVzaChyLHRbMF0pLHRbMF09bjtlbHNle2ZvcihzLS0sdC5wdXNoKHRbcy0xXSx0W3NdKTtzPmU7KXRbc109dFtzLTJdLHMtLTt0W2VdPW4sdFtlKzFdPXJ9fSh0LHIsZSxuKSkscn1mdW5jdGlvbiBlcih0LGUpe2NvbnN0IG49bnIodCxlKTtpZihuPj0wKXJldHVybiB0WzF8bl19ZnVuY3Rpb24gbnIodCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2xldCByPTAscz10Lmxlbmd0aD4+MTtmb3IoO3MhPT1yOyl7Y29uc3Qgbj1yKyhzLXI+PjEpLGk9dFtuPDwxXTtpZihlPT09aSlyZXR1cm4gbjw8MTtpPmU/cz1uOnI9bisxfXJldHVybn4oczw8MSl9KHQsZSl9Y29uc3QgcnI9e30sc3I9L1xuL2dtLGlyPSJfX3NvdXJjZSIsb3I9Sih7cHJvdmlkZTpTdHJpbmcsdXNlVmFsdWU6Sn0pO2xldCBhcjtmdW5jdGlvbiBjcih0KXtjb25zdCBlPWFyO3JldHVybiBhcj10LGV9ZnVuY3Rpb24gbHIodCxlPUN0LkRlZmF1bHQpe2lmKHZvaWQgMD09PWFyKXRocm93IG5ldyBFcnJvcigiaW5qZWN0KCkgbXVzdCBiZSBjYWxsZWQgZnJvbSBhbiBpbmplY3Rpb24gY29udGV4dCIpO3JldHVybiBudWxsPT09YXI/RHQodCx2b2lkIDAsZSk6YXIuZ2V0KHQsZSZDdC5PcHRpb25hbD9udWxsOnZvaWQgMCxlKX1mdW5jdGlvbiB1cih0LGU9Q3QuRGVmYXVsdCl7cmV0dXJuKHd0fHxscikoaXQodCksZSl9ZnVuY3Rpb24gaHIodCl7Y29uc3QgZT1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgcj1pdCh0W25dKTtpZihBcnJheS5pc0FycmF5KHIpKXtpZigwPT09ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJBcmd1bWVudHMgYXJyYXkgbXVzdCBoYXZlIGFyZ3VtZW50cy4iKTtsZXQgdCxuPUN0LkRlZmF1bHQ7Zm9yKGxldCBlPTA7ZTxyLmxlbmd0aDtlKyspe2NvbnN0IHM9cltlXSxpPXMuX19OR19ESV9GTEFHX187Im51bWJlciI9PXR5cGVvZiBpPy0xPT09aT90PXMudG9rZW46bnw9aTp0PXN9ZS5wdXNoKHVyKHQsbikpfWVsc2UgZS5wdXNoKHVyKHIpKX1yZXR1cm4gZX1mdW5jdGlvbiBkcih0LGUpe3JldHVybiB0Ll9fTkdfRElfRkxBR19fPWUsdC5wcm90b3R5cGUuX19OR19ESV9GTEFHX189ZSx0fWNvbnN0IHByPWRyKFduKCJJbmplY3QiLHQ9Pih7dG9rZW46dH0pKSwtMSksZnI9ZHIoV24oIk9wdGlvbmFsIiksOCksZ3I9ZHIoV24oIlNraXBTZWxmIiksNCk7bGV0IG1yLHlyO2Z1bmN0aW9uIHZyKHQpe3ZhciBlO3JldHVybihudWxsPT09KGU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT1tciYmKG1yPW51bGwsSXQudHJ1c3RlZFR5cGVzKSl0cnl7bXI9SXQudHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSgiYW5ndWxhciIse2NyZWF0ZUhUTUw6dD0+dCxjcmVhdGVTY3JpcHQ6dD0+dCxjcmVhdGVTY3JpcHRVUkw6dD0+dH0pfWNhdGNoKGUpe31yZXR1cm4gbXJ9KCkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNyZWF0ZUhUTUwodCkpfHx0fWZ1bmN0aW9uIGJyKHQpe3ZhciBlO3JldHVybihudWxsPT09KGU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT15ciYmKHlyPW51bGwsSXQudHJ1c3RlZFR5cGVzKSl0cnl7eXI9SXQudHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSgiYW5ndWxhciN1bnNhZmUtYnlwYXNzIix7Y3JlYXRlSFRNTDp0PT50LGNyZWF0ZVNjcmlwdDp0PT50LGNyZWF0ZVNjcmlwdFVSTDp0PT50fSl9Y2F0Y2goZSl7fXJldHVybiB5cn0oKSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY3JlYXRlSFRNTCh0KSl8fHR9Y2xhc3MgQ3J7Y29uc3RydWN0b3IodCl7dGhpcy5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5PXR9dG9TdHJpbmcoKXtyZXR1cm5gU2FmZVZhbHVlIG11c3QgdXNlIFtwcm9wZXJ0eV09YmluZGluZzogJHt0aGlzLmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHl9IChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgfX1mdW5jdGlvbiB3cih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIENyP3QuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eTp0fWNsYXNzIF9ye2NvbnN0cnVjdG9yKHQpe3RoaXMuaW5lcnREb2N1bWVudEhlbHBlcj10fWdldEluZXJ0Qm9keUVsZW1lbnQodCl7dD0iPGJvZHk+PHJlbW92ZT48L3JlbW92ZT4iK3Q7dHJ5e2NvbnN0IGU9KG5ldyB3aW5kb3cuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcodnIodCksInRleHQvaHRtbCIpLmJvZHk7cmV0dXJuIG51bGw9PT1lP3RoaXMuaW5lcnREb2N1bWVudEhlbHBlci5nZXRJbmVydEJvZHlFbGVtZW50KHQpOihlLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCksZSl9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fX1jbGFzcyBEcntjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLmRlZmF1bHREb2M9dCx0aGlzLmluZXJ0RG9jdW1lbnQ9dGhpcy5kZWZhdWx0RG9jLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgic2FuaXRpemF0aW9uLWluZXJ0IiksbnVsbD09dGhpcy5pbmVydERvY3VtZW50LmJvZHkpe2NvbnN0IHQ9dGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImh0bWwiKTt0aGlzLmluZXJ0RG9jdW1lbnQuYXBwZW5kQ2hpbGQodCk7Y29uc3QgZT10aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYm9keSIpO3QuYXBwZW5kQ2hpbGQoZSl9fWdldEluZXJ0Qm9keUVsZW1lbnQodCl7Y29uc3QgZT10aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTtpZigiY29udGVudCJpbiBlKXJldHVybiBlLmlubmVySFRNTD12cih0KSxlO2NvbnN0IG49dGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJvZHkiKTtyZXR1cm4gbi5pbm5lckhUTUw9dnIodCksdGhpcy5kZWZhdWx0RG9jLmRvY3VtZW50TW9kZSYmdGhpcy5zdHJpcEN1c3RvbU5zQXR0cnMobiksbn1zdHJpcEN1c3RvbU5zQXR0cnModCl7Y29uc3QgZT10LmF0dHJpYnV0ZXM7Zm9yKGxldCByPWUubGVuZ3RoLTE7MDxyO3ItLSl7Y29uc3Qgbj1lLml0ZW0ocikubmFtZTsieG1sbnM6bnMxIiE9PW4mJjAhPT1uLmluZGV4T2YoIm5zMToiKXx8dC5yZW1vdmVBdHRyaWJ1dGUobil9bGV0IG49dC5maXJzdENoaWxkO2Zvcig7bjspbi5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiZ0aGlzLnN0cmlwQ3VzdG9tTnNBdHRycyhuKSxuPW4ubmV4dFNpYmxpbmd9fWNvbnN0IEVyPS9eKD86KD86aHR0cHM/fG1haWx0b3xmdHB8dGVsfGZpbGV8c21zKTp8W14mOi8/I10qKD86Wy8/I118JCkpL2dpLFNyPS9eZGF0YTooPzppbWFnZVwvKD86Ym1wfGdpZnxqcGVnfGpwZ3xwbmd8dGlmZnx3ZWJwKXx2aWRlb1wvKD86bXBlZ3xtcDR8b2dnfHdlYm0pfGF1ZGlvXC8oPzptcDN8b2dhfG9nZ3xvcHVzKSk7YmFzZTY0LFthLXowLTkrXC9dKz0qJC9pO2Z1bmN0aW9uIHhyKHQpe3JldHVybih0PVN0cmluZyh0KSkubWF0Y2goRXIpfHx0Lm1hdGNoKFNyKT90OiJ1bnNhZmU6Iit0fWZ1bmN0aW9uIEFyKHQpe2NvbnN0IGU9e307Zm9yKGNvbnN0IG4gb2YgdC5zcGxpdCgiLCIpKWVbbl09ITA7cmV0dXJuIGV9ZnVuY3Rpb24gVHIoLi4udCl7Y29uc3QgZT17fTtmb3IoY29uc3QgbiBvZiB0KWZvcihjb25zdCB0IGluIG4pbi5oYXNPd25Qcm9wZXJ0eSh0KSYmKGVbdF09ITApO3JldHVybiBlfWNvbnN0IGtyPUFyKCJhcmVhLGJyLGNvbCxocixpbWcsd2JyIiksRnI9QXIoImNvbGdyb3VwLGRkLGR0LGxpLHAsdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsdHIiKSxJcj1BcigicnAscnQiKSxPcj1UcihJcixGciksUHI9VHIoa3IsVHIoRnIsQXIoImFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxibG9ja3F1b3RlLGNhcHRpb24sY2VudGVyLGRlbCxkZXRhaWxzLGRpYWxvZyxkaXIsZGl2LGRsLGZpZ3VyZSxmaWdjYXB0aW9uLGZvb3RlcixoMSxoMixoMyxoNCxoNSxoNixoZWFkZXIsaGdyb3VwLGhyLGlucyxtYWluLG1hcCxtZW51LG5hdixvbCxwcmUsc2VjdGlvbixzdW1tYXJ5LHRhYmxlLHVsIikpLFRyKElyLEFyKCJhLGFiYnIsYWNyb255bSxhdWRpbyxiLGJkaSxiZG8sYmlnLGJyLGNpdGUsY29kZSxkZWwsZGZuLGVtLGZvbnQsaSxpbWcsaW5zLGtiZCxsYWJlbCxtYXAsbWFyayxwaWN0dXJlLHEscnVieSxycCxydCxzLHNhbXAsc21hbGwsc291cmNlLHNwYW4sc3RyaWtlLHN0cm9uZyxzdWIsc3VwLHRpbWUsdHJhY2ssdHQsdSx2YXIsdmlkZW8iKSksT3IpLFJyPUFyKCJiYWNrZ3JvdW5kLGNpdGUsaHJlZixpdGVtdHlwZSxsb25nZGVzYyxwb3N0ZXIsc3JjLHhsaW5rOmhyZWYiKSxMcj1Bcigic3Jjc2V0IiksQnI9VHIoUnIsTHIsQXIoImFiYnIsYWNjZXNza2V5LGFsaWduLGFsdCxhdXRvcGxheSxheGlzLGJnY29sb3IsYm9yZGVyLGNlbGxwYWRkaW5nLGNlbGxzcGFjaW5nLGNsYXNzLGNsZWFyLGNvbG9yLGNvbHMsY29sc3Bhbixjb21wYWN0LGNvbnRyb2xzLGNvb3JkcyxkYXRldGltZSxkZWZhdWx0LGRpcixkb3dubG9hZCxmYWNlLGhlYWRlcnMsaGVpZ2h0LGhpZGRlbixocmVmbGFuZyxoc3BhY2UsaXNtYXAsaXRlbXNjb3BlLGl0ZW1wcm9wLGtpbmQsbGFiZWwsbGFuZyxsYW5ndWFnZSxsb29wLG1lZGlhLG11dGVkLG5vaHJlZixub3dyYXAsb3BlbixwcmVsb2FkLHJlbCxyZXYscm9sZSxyb3dzLHJvd3NwYW4scnVsZXMsc2NvcGUsc2Nyb2xsaW5nLHNoYXBlLHNpemUsc2l6ZXMsc3BhbixzcmNsYW5nLHN0YXJ0LHN1bW1hcnksdGFiaW5kZXgsdGFyZ2V0LHRpdGxlLHRyYW5zbGF0ZSx0eXBlLHVzZW1hcCx2YWxpZ24sdmFsdWUsdnNwYWNlLHdpZHRoIiksQXIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCxhcmlhLWF0b21pYyxhcmlhLWF1dG9jb21wbGV0ZSxhcmlhLWJ1c3ksYXJpYS1jaGVja2VkLGFyaWEtY29sY291bnQsYXJpYS1jb2xpbmRleCxhcmlhLWNvbHNwYW4sYXJpYS1jb250cm9scyxhcmlhLWN1cnJlbnQsYXJpYS1kZXNjcmliZWRieSxhcmlhLWRldGFpbHMsYXJpYS1kaXNhYmxlZCxhcmlhLWRyb3BlZmZlY3QsYXJpYS1lcnJvcm1lc3NhZ2UsYXJpYS1leHBhbmRlZCxhcmlhLWZsb3d0byxhcmlhLWdyYWJiZWQsYXJpYS1oYXNwb3B1cCxhcmlhLWhpZGRlbixhcmlhLWludmFsaWQsYXJpYS1rZXlzaG9ydGN1dHMsYXJpYS1sYWJlbCxhcmlhLWxhYmVsbGVkYnksYXJpYS1sZXZlbCxhcmlhLWxpdmUsYXJpYS1tb2RhbCxhcmlhLW11bHRpbGluZSxhcmlhLW11bHRpc2VsZWN0YWJsZSxhcmlhLW9yaWVudGF0aW9uLGFyaWEtb3ducyxhcmlhLXBsYWNlaG9sZGVyLGFyaWEtcG9zaW5zZXQsYXJpYS1wcmVzc2VkLGFyaWEtcmVhZG9ubHksYXJpYS1yZWxldmFudCxhcmlhLXJlcXVpcmVkLGFyaWEtcm9sZWRlc2NyaXB0aW9uLGFyaWEtcm93Y291bnQsYXJpYS1yb3dpbmRleCxhcmlhLXJvd3NwYW4sYXJpYS1zZWxlY3RlZCxhcmlhLXNldHNpemUsYXJpYS1zb3J0LGFyaWEtdmFsdWVtYXgsYXJpYS12YWx1ZW1pbixhcmlhLXZhbHVlbm93LGFyaWEtdmFsdWV0ZXh0IikpLGpyPUFyKCJzY3JpcHQsc3R5bGUsdGVtcGxhdGUiKTtjbGFzcyBNcntjb25zdHJ1Y3Rvcigpe3RoaXMuc2FuaXRpemVkU29tZXRoaW5nPSExLHRoaXMuYnVmPVtdfXNhbml0aXplQ2hpbGRyZW4odCl7bGV0IGU9dC5maXJzdENoaWxkLG49ITA7Zm9yKDtlOylpZihlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREU/bj10aGlzLnN0YXJ0RWxlbWVudChlKTplLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU/dGhpcy5jaGFycyhlLm5vZGVWYWx1ZSk6dGhpcy5zYW5pdGl6ZWRTb21ldGhpbmc9ITAsbiYmZS5maXJzdENoaWxkKWU9ZS5maXJzdENoaWxkO2Vsc2UgZm9yKDtlOyl7ZS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiZ0aGlzLmVuZEVsZW1lbnQoZSk7bGV0IHQ9dGhpcy5jaGVja0Nsb2JiZXJlZEVsZW1lbnQoZSxlLm5leHRTaWJsaW5nKTtpZih0KXtlPXQ7YnJlYWt9ZT10aGlzLmNoZWNrQ2xvYmJlcmVkRWxlbWVudChlLGUucGFyZW50Tm9kZSl9cmV0dXJuIHRoaXMuYnVmLmpvaW4oIiIpfXN0YXJ0RWxlbWVudCh0KXtjb25zdCBlPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZighUHIuaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuIHRoaXMuc2FuaXRpemVkU29tZXRoaW5nPSEwLCFqci5oYXNPd25Qcm9wZXJ0eShlKTt0aGlzLmJ1Zi5wdXNoKCI8IiksdGhpcy5idWYucHVzaChlKTtjb25zdCBuPXQuYXR0cmlidXRlcztmb3IobGV0IHM9MDtzPG4ubGVuZ3RoO3MrKyl7Y29uc3QgdD1uLml0ZW0ocyksZT10Lm5hbWUsaT1lLnRvTG93ZXJDYXNlKCk7aWYoIUJyLmhhc093blByb3BlcnR5KGkpKXt0aGlzLnNhbml0aXplZFNvbWV0aGluZz0hMDtjb250aW51ZX1sZXQgbz10LnZhbHVlO1JyW2ldJiYobz14cihvKSksTHJbaV0mJihyPW8sbz0ocj1TdHJpbmcocikpLnNwbGl0KCIsIikubWFwKHQ9PnhyKHQudHJpbSgpKSkuam9pbigiLCAiKSksdGhpcy5idWYucHVzaCgiICIsZSwnPSInLFZyKG8pLCciJyl9dmFyIHI7cmV0dXJuIHRoaXMuYnVmLnB1c2goIj4iKSwhMH1lbmRFbGVtZW50KHQpe2NvbnN0IGU9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1ByLmhhc093blByb3BlcnR5KGUpJiYha3IuaGFzT3duUHJvcGVydHkoZSkmJih0aGlzLmJ1Zi5wdXNoKCI8LyIpLHRoaXMuYnVmLnB1c2goZSksdGhpcy5idWYucHVzaCgiPiIpKX1jaGFycyh0KXt0aGlzLmJ1Zi5wdXNoKFZyKHQpKX1jaGVja0Nsb2JiZXJlZEVsZW1lbnQodCxlKXtpZihlJiYodC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKSZOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSk9PT1Ob2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSl0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzYW5pdGl6ZSBodG1sIGJlY2F1c2UgdGhlIGVsZW1lbnQgaXMgY2xvYmJlcmVkOiAke3Qub3V0ZXJIVE1MfWApO3JldHVybiBlfX1jb25zdCBOcj0vW1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZdL2csSHI9LyhbXlwjLX4gfCFdKS9nO2Z1bmN0aW9uIFZyKHQpe3JldHVybiB0LnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKE5yLGZ1bmN0aW9uKHQpe3JldHVybiImIyIrKDEwMjQqKHQuY2hhckNvZGVBdCgwKS01NTI5NikrKHQuY2hhckNvZGVBdCgxKS01NjMyMCkrNjU1MzYpKyI7In0pLnJlcGxhY2UoSHIsZnVuY3Rpb24odCl7cmV0dXJuIiYjIit0LmNoYXJDb2RlQXQoMCkrIjsifSkucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCImZ3Q7Iil9bGV0IHpyO2Z1bmN0aW9uICRyKHQpe3JldHVybiJjb250ZW50ImluIHQmJmZ1bmN0aW9uKHQpe3JldHVybiB0Lm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJiJURU1QTEFURSI9PT10Lm5vZGVOYW1lfSh0KT90LmNvbnRlbnQ6bnVsbH12YXIgVXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5OT05FPTBdPSJOT05FIix0W3QuSFRNTD0xXT0iSFRNTCIsdFt0LlNUWUxFPTJdPSJTVFlMRSIsdFt0LlNDUklQVD0zXT0iU0NSSVBUIix0W3QuVVJMPTRdPSJVUkwiLHRbdC5SRVNPVVJDRV9VUkw9NV09IlJFU09VUkNFX1VSTCIsdH0oe30pO2Z1bmN0aW9uIFdyKHQpe2NvbnN0IGU9ZnVuY3Rpb24oKXtjb25zdCB0PUllKCk7cmV0dXJuIHQmJnRbMTJdfSgpO3JldHVybiBlP2JyKGUuc2FuaXRpemUoVXIuSFRNTCx0KXx8IiIpOmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIENyJiZ0LmdldFR5cGVOYW1lKCl8fG51bGx9KHQpO2lmKG51bGwhPW4mJm4hPT1lKXtpZigiUmVzb3VyY2VVUkwiPT09biYmIlVSTCI9PT1lKXJldHVybiEwO3Rocm93IG5ldyBFcnJvcihgUmVxdWlyZWQgYSBzYWZlICR7ZX0sIGdvdCBhICR7bn0gKHNlZSBodHRwczovL2cuY28vbmcvc2VjdXJpdHkjeHNzKWApfXJldHVybiBuPT09ZX0odCwiSFRNTCIpP2JyKHdyKHQpKTpmdW5jdGlvbih0LGUpe2xldCBuPW51bGw7dHJ5e3pyPXpyfHxmdW5jdGlvbih0KXtjb25zdCBlPW5ldyBEcih0KTtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7cmV0dXJuISEobmV3IHdpbmRvdy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyh2cigiIiksInRleHQvaHRtbCIpfWNhdGNoKHQpe3JldHVybiExfX0oKT9uZXcgX3IoZSk6ZX0odCk7bGV0IHI9ZT9TdHJpbmcoZSk6IiI7bj16ci5nZXRJbmVydEJvZHlFbGVtZW50KHIpO2xldCBzPTUsaT1yO2Rve2lmKDA9PT1zKXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIHNhbml0aXplIGh0bWwgYmVjYXVzZSB0aGUgaW5wdXQgaXMgdW5zdGFibGUiKTtzLS0scj1pLGk9bi5pbm5lckhUTUwsbj16ci5nZXRJbmVydEJvZHlFbGVtZW50KHIpfXdoaWxlKHIhPT1pKTtyZXR1cm4gdnIoKG5ldyBNcikuc2FuaXRpemVDaGlsZHJlbigkcihuKXx8bikpfWZpbmFsbHl7aWYobil7Y29uc3QgdD0kcihuKXx8bjtmb3IoO3QuZmlyc3RDaGlsZDspdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpfX19KGdlKCksY3QodCkpfWZ1bmN0aW9uIEdyKHQsZSl7dC5fX25nQ29udGV4dF9fPWV9ZnVuY3Rpb24gcXIodCl7Y29uc3QgZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5fX25nQ29udGV4dF9ffHxudWxsfSh0KTtyZXR1cm4gZT9BcnJheS5pc0FycmF5KGUpP2U6ZS5sVmlldzpudWxsfWZ1bmN0aW9uIFhyKHQpe3JldHVybiB0Lm5nRGVidWdDb250ZXh0fWZ1bmN0aW9uIFlyKHQpe3JldHVybiB0Lm5nT3JpZ2luYWxFcnJvcn1mdW5jdGlvbiBacih0LC4uLmUpe3QuZXJyb3IoLi4uZSl9Y2xhc3MgUXJ7Y29uc3RydWN0b3IoKXt0aGlzLl9jb25zb2xlPWNvbnNvbGV9aGFuZGxlRXJyb3IodCl7Y29uc3QgZT10aGlzLl9maW5kT3JpZ2luYWxFcnJvcih0KSxuPXRoaXMuX2ZpbmRDb250ZXh0KHQpLHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQubmdFcnJvckxvZ2dlcnx8WnJ9KHQpO3IodGhpcy5fY29uc29sZSwiRVJST1IiLHQpLGUmJnIodGhpcy5fY29uc29sZSwiT1JJR0lOQUwgRVJST1IiLGUpLG4mJnIodGhpcy5fY29uc29sZSwiRVJST1IgQ09OVEVYVCIsbil9X2ZpbmRDb250ZXh0KHQpe3JldHVybiB0P1hyKHQpP1hyKHQpOnRoaXMuX2ZpbmRDb250ZXh0KFlyKHQpKTpudWxsfV9maW5kT3JpZ2luYWxFcnJvcih0KXtsZXQgZT1Zcih0KTtmb3IoO2UmJllyKGUpOyllPVlyKGUpO3JldHVybiBlfX1jb25zdCBLcj0oKCk9PigidW5kZWZpbmVkIiE9dHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSYmcmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxzZXRUaW1lb3V0KS5iaW5kKEl0KSkoKTtmdW5jdGlvbiBKcih0KXtyZXR1cm4gdC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3fWZ1bmN0aW9uIHRzKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRnVuY3Rpb24/dCgpOnR9dmFyIGVzPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuSW1wb3J0YW50PTFdPSJJbXBvcnRhbnQiLHRbdC5EYXNoQ2FzZT0yXT0iRGFzaENhc2UiLHR9KHt9KTtmdW5jdGlvbiBucyh0LGUpe3JldHVybih2b2lkIDApKHQsZSl9ZnVuY3Rpb24gcnModCl7Y29uc3QgZT10WzNdO3JldHVybiBlZShlKT9lWzNdOmV9ZnVuY3Rpb24gc3ModCl7cmV0dXJuIG9zKHRbMTNdKX1mdW5jdGlvbiBpcyh0KXtyZXR1cm4gb3ModFs0XSl9ZnVuY3Rpb24gb3ModCl7Zm9yKDtudWxsIT09dCYmIWVlKHQpOyl0PXRbNF07cmV0dXJuIHR9ZnVuY3Rpb24gYXModCxlLG4scixzKXtpZihudWxsIT1yKXtsZXQgaSxvPSExO2VlKHIpP2k9cjp0ZShyKSYmKG89ITAscj1yWzBdKTtjb25zdCBhPXZlKHIpOzA9PT10JiZudWxsIT09bj9udWxsPT1zP2dzKGUsbixhKTpmcyhlLG4sYSxzfHxudWxsLCEwKToxPT09dCYmbnVsbCE9PW4/ZnMoZSxuLGEsc3x8bnVsbCwhMCk6Mj09PXQ/ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9eXModCxlKTtyJiZmdW5jdGlvbih0LGUsbixyKXttZSh0KT90LnJlbW92ZUNoaWxkKGUsbixyKTplLnJlbW92ZUNoaWxkKG4pfSh0LHIsZSxuKX0oZSxhLG8pOjM9PT10JiZlLmRlc3Ryb3lOb2RlKGEpLG51bGwhPWkmJmZ1bmN0aW9uKHQsZSxuLHIscyl7Y29uc3QgaT1uWzddO2khPT12ZShuKSYmYXMoZSx0LHIsaSxzKTtmb3IobGV0IG89SnQ7bzxuLmxlbmd0aDtvKyspe2NvbnN0IHM9bltvXTtTcyhzWzFdLHMsdCxlLHIsaSl9fShlLHQsaSxuLHMpfX1mdW5jdGlvbiBjcyh0LGUsbil7cmV0dXJuIG1lKHQpP3QuY3JlYXRlRWxlbWVudChlLG4pOm51bGw9PT1uP3QuY3JlYXRlRWxlbWVudChlKTp0LmNyZWF0ZUVsZW1lbnROUyhuLGUpfWZ1bmN0aW9uIGxzKHQsZSl7Y29uc3Qgbj10WzldLHI9bi5pbmRleE9mKGUpLHM9ZVszXTsxMDI0JmVbMl0mJihlWzJdJj0tMTAyNSxUZShzLC0xKSksbi5zcGxpY2UociwxKX1mdW5jdGlvbiB1cyh0LGUpe2lmKHQubGVuZ3RoPD1KdClyZXR1cm47Y29uc3Qgbj1KdCtlLHI9dFtuXTtpZihyKXtjb25zdCBpPXJbMTddO251bGwhPT1pJiZpIT09dCYmbHMoaSxyKSxlPjAmJih0W24tMV1bNF09cls0XSk7Y29uc3Qgbz1Lbih0LEp0K2UpO1NzKHJbMV0scz1yLHNbMTFdLDIsbnVsbCxudWxsKSxzWzBdPW51bGwsc1s2XT1udWxsO2NvbnN0IGE9b1sxOV07bnVsbCE9PWEmJmEuZGV0YWNoVmlldyhvWzFdKSxyWzNdPW51bGwscls0XT1udWxsLHJbMl0mPS0xMjl9dmFyIHM7cmV0dXJuIHJ9ZnVuY3Rpb24gaHModCxlKXtpZighKDI1NiZlWzJdKSl7Y29uc3Qgbj1lWzExXTttZShuKSYmbi5kZXN0cm95Tm9kZSYmU3ModCxlLG4sMyxudWxsLG51bGwpLGZ1bmN0aW9uKHQpe2xldCBlPXRbMTNdO2lmKCFlKXJldHVybiBkcyh0WzFdLHQpO2Zvcig7ZTspe2xldCBuPW51bGw7aWYodGUoZSkpbj1lWzEzXTtlbHNle2NvbnN0IHQ9ZVsxMF07dCYmKG49dCl9aWYoIW4pe2Zvcig7ZSYmIWVbNF0mJmUhPT10Oyl0ZShlKSYmZHMoZVsxXSxlKSxlPWVbM107bnVsbD09PWUmJihlPXQpLHRlKGUpJiZkcyhlWzFdLGUpLG49ZSYmZVs0XX1lPW59fShlKX19ZnVuY3Rpb24gZHModCxlKXtpZighKDI1NiZlWzJdKSl7ZVsyXSY9LTEyOSxlWzJdfD0yNTYsZnVuY3Rpb24odCxlKXtsZXQgbjtpZihudWxsIT10JiZudWxsIT0obj10LmRlc3Ryb3lIb29rcykpZm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKz0yKXtjb25zdCB0PWVbbltyXV07aWYoISh0IGluc3RhbmNlb2YgZm4pKXtjb25zdCBlPW5bcisxXTtpZihBcnJheS5pc0FycmF5KGUpKWZvcihsZXQgbj0wO248ZS5sZW5ndGg7bis9Mil7Y29uc3Qgcj10W2Vbbl1dLHM9ZVtuKzFdO3RyeXtzLmNhbGwocil9ZmluYWxseXt9fWVsc2UgdHJ5e2UuY2FsbCh0KX1maW5hbGx5e319fX0odCxlKSxmdW5jdGlvbih0LGUpe2NvbnN0IG49dC5jbGVhbnVwLHI9ZVs3XTtsZXQgcz0tMTtpZihudWxsIT09bilmb3IobGV0IGk9MDtpPG4ubGVuZ3RoLTE7aSs9MilpZigic3RyaW5nIj09dHlwZW9mIG5baV0pe2NvbnN0IHQ9bltpKzFdLG89ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dChlKTp2ZShlW3RdKSxhPXJbcz1uW2krMl1dLGM9bltpKzNdOyJib29sZWFuIj09dHlwZW9mIGM/by5yZW1vdmVFdmVudExpc3RlbmVyKG5baV0sYSxjKTpjPj0wP3Jbcz1jXSgpOnJbcz0tY10udW5zdWJzY3JpYmUoKSxpKz0yfWVsc2V7Y29uc3QgdD1yW3M9bltpKzFdXTtuW2ldLmNhbGwodCl9aWYobnVsbCE9PXIpe2ZvcihsZXQgdD1zKzE7dDxyLmxlbmd0aDt0KyspKDAsclt0XSkoKTtlWzddPW51bGx9fSh0LGUpLDE9PT1lWzFdLnR5cGUmJm1lKGVbMTFdKSYmZVsxMV0uZGVzdHJveSgpO2NvbnN0IG49ZVsxN107aWYobnVsbCE9PW4mJmVlKGVbM10pKXtuIT09ZVszXSYmbHMobixlKTtjb25zdCByPWVbMTldO251bGwhPT1yJiZyLmRldGFjaFZpZXcodCl9fX1mdW5jdGlvbiBwcyh0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtsZXQgcj1lO2Zvcig7bnVsbCE9PXImJjQwJnIudHlwZTspcj0oZT1yKS5wYXJlbnQ7aWYobnVsbD09PXIpcmV0dXJuIG5bMF07aWYoMiZyLmZsYWdzKXtjb25zdCBlPXQuZGF0YVtyLmRpcmVjdGl2ZVN0YXJ0XS5lbmNhcHN1bGF0aW9uO2lmKGU9PT14dC5Ob25lfHxlPT09eHQuRW11bGF0ZWQpcmV0dXJuIG51bGx9cmV0dXJuIENlKHIsbil9KHQsZS5wYXJlbnQsbil9ZnVuY3Rpb24gZnModCxlLG4scixzKXttZSh0KT90Lmluc2VydEJlZm9yZShlLG4scixzKTplLmluc2VydEJlZm9yZShuLHIscyl9ZnVuY3Rpb24gZ3ModCxlLG4pe21lKHQpP3QuYXBwZW5kQ2hpbGQoZSxuKTplLmFwcGVuZENoaWxkKG4pfWZ1bmN0aW9uIG1zKHQsZSxuLHIscyl7bnVsbCE9PXI/ZnModCxlLG4scixzKTpncyh0LGUsbil9ZnVuY3Rpb24geXModCxlKXtyZXR1cm4gbWUodCk/dC5wYXJlbnROb2RlKGUpOmUucGFyZW50Tm9kZX1mdW5jdGlvbiB2cyh0LGUsbil7cmV0dXJuIGJzKHQsZSxuKX1sZXQgYnM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiA0MCZ0LnR5cGU/Q2UodCxuKTpudWxsfTtmdW5jdGlvbiBDcyh0LGUsbixyKXtjb25zdCBzPXBzKHQscixlKSxpPWVbMTFdLG89dnMoci5wYXJlbnR8fGVbNl0scixlKTtpZihudWxsIT1zKWlmKEFycmF5LmlzQXJyYXkobikpZm9yKGxldCBhPTA7YTxuLmxlbmd0aDthKyspbXMoaSxzLG5bYV0sbywhMSk7ZWxzZSBtcyhpLHMsbixvLCExKX1mdW5jdGlvbiB3cyh0LGUpe2lmKG51bGwhPT1lKXtjb25zdCBuPWUudHlwZTtpZigzJm4pcmV0dXJuIENlKGUsdCk7aWYoNCZuKXJldHVybiBEcygtMSx0W2UuaW5kZXhdKTtpZig4Jm4pe2NvbnN0IG49ZS5jaGlsZDtpZihudWxsIT09bilyZXR1cm4gd3ModCxuKTt7Y29uc3Qgbj10W2UuaW5kZXhdO3JldHVybiBlZShuKT9EcygtMSxuKTp2ZShuKX19aWYoMzImbilyZXR1cm4gbnMoZSx0KSgpfHx2ZSh0W2UuaW5kZXhdKTt7Y29uc3Qgbj1fcyh0LGUpO3JldHVybiBudWxsIT09bj9BcnJheS5pc0FycmF5KG4pP25bMF06d3MocnModFsxNl0pLG4pOndzKHQsZS5uZXh0KX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gX3ModCxlKXtyZXR1cm4gbnVsbCE9PWU/dFsxNl1bNl0ucHJvamVjdGlvbltlLnByb2plY3Rpb25dOm51bGx9ZnVuY3Rpb24gRHModCxlKXtjb25zdCBuPUp0K3QrMTtpZihuPGUubGVuZ3RoKXtjb25zdCB0PWVbbl0scj10WzFdLmZpcnN0Q2hpbGQ7aWYobnVsbCE9PXIpcmV0dXJuIHdzKHQscil9cmV0dXJuIGVbN119ZnVuY3Rpb24gRXModCxlLG4scixzLGksbyl7Zm9yKDtudWxsIT1uOyl7Y29uc3QgYT1yW24uaW5kZXhdLGM9bi50eXBlO2lmKG8mJjA9PT1lJiYoYSYmR3IodmUoYSksciksbi5mbGFnc3w9NCksNjQhPSg2NCZuLmZsYWdzKSlpZig4JmMpRXModCxlLG4uY2hpbGQscixzLGksITEpLGFzKGUsdCxzLGEsaSk7ZWxzZSBpZigzMiZjKXtjb25zdCBvPW5zKG4scik7bGV0IGM7Zm9yKDtjPW8oKTspYXMoZSx0LHMsYyxpKTthcyhlLHQscyxhLGkpfWVsc2UgMTYmYz94cyh0LGUscixuLHMsaSk6YXMoZSx0LHMsYSxpKTtuPW8/bi5wcm9qZWN0aW9uTmV4dDpuLm5leHR9fWZ1bmN0aW9uIFNzKHQsZSxuLHIscyxpKXtFcyhuLHIsdC5maXJzdENoaWxkLGUscyxpLCExKX1mdW5jdGlvbiB4cyh0LGUsbixyLHMsaSl7Y29uc3Qgbz1uWzE2XSxhPW9bNl0ucHJvamVjdGlvbltyLnByb2plY3Rpb25dO2lmKEFycmF5LmlzQXJyYXkoYSkpZm9yKGxldCBjPTA7YzxhLmxlbmd0aDtjKyspYXMoZSx0LHMsYVtjXSxpKTtlbHNlIEVzKHQsZSxhLG9bM10scyxpLCEwKX1mdW5jdGlvbiBBcyh0LGUsbil7bWUodCk/dC5zZXRBdHRyaWJ1dGUoZSwic3R5bGUiLG4pOmUuc3R5bGUuY3NzVGV4dD1ufWZ1bmN0aW9uIFRzKHQsZSxuKXttZSh0KT8iIj09PW4/dC5yZW1vdmVBdHRyaWJ1dGUoZSwiY2xhc3MiKTp0LnNldEF0dHJpYnV0ZShlLCJjbGFzcyIsbik6ZS5jbGFzc05hbWU9bn1mdW5jdGlvbiBrcyh0LGUsbil7bGV0IHI9dC5sZW5ndGg7Zm9yKDs7KXtjb25zdCBzPXQuaW5kZXhPZihlLG4pO2lmKC0xPT09cylyZXR1cm4gcztpZigwPT09c3x8dC5jaGFyQ29kZUF0KHMtMSk8PTMyKXtjb25zdCBuPWUubGVuZ3RoO2lmKHMrbj09PXJ8fHQuY2hhckNvZGVBdChzK24pPD0zMilyZXR1cm4gc31uPXMrMX19Y29uc3QgRnM9Im5nLXRlbXBsYXRlIjtmdW5jdGlvbiBJcyh0LGUsbil7bGV0IHI9MDtmb3IoO3I8dC5sZW5ndGg7KXtsZXQgcz10W3IrK107aWYobiYmImNsYXNzIj09PXMpe2lmKHM9dFtyXSwtMSE9PWtzKHMudG9Mb3dlckNhc2UoKSxlLDApKXJldHVybiEwfWVsc2UgaWYoMT09PXMpe2Zvcig7cjx0Lmxlbmd0aCYmInN0cmluZyI9PXR5cGVvZihzPXRbcisrXSk7KWlmKHMudG9Mb3dlckNhc2UoKT09PWUpcmV0dXJuITA7cmV0dXJuITF9fXJldHVybiExfWZ1bmN0aW9uIE9zKHQpe3JldHVybiA0PT09dC50eXBlJiZ0LnZhbHVlIT09RnN9ZnVuY3Rpb24gUHModCxlLG4pe3JldHVybiBlPT09KDQhPT10LnR5cGV8fG4/dC52YWx1ZTpGcyl9ZnVuY3Rpb24gUnModCxlLG4pe2xldCByPTQ7Y29uc3Qgcz10LmF0dHJzfHxbXSxpPWZ1bmN0aW9uKHQpe2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKG1uKHRbZV0pKXJldHVybiBlO3JldHVybiB0Lmxlbmd0aH0ocyk7bGV0IG89ITE7Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspe2NvbnN0IGM9ZVthXTtpZigibnVtYmVyIiE9dHlwZW9mIGMpe2lmKCFvKWlmKDQmcil7aWYocj0yfDEmciwiIiE9PWMmJiFQcyh0LGMsbil8fCIiPT09YyYmMT09PWUubGVuZ3RoKXtpZihMcyhyKSlyZXR1cm4hMTtvPSEwfX1lbHNle2NvbnN0IGw9OCZyP2M6ZVsrK2FdO2lmKDgmciYmbnVsbCE9PXQuYXR0cnMpe2lmKCFJcyh0LmF0dHJzLGwsbikpe2lmKExzKHIpKXJldHVybiExO289ITB9Y29udGludWV9Y29uc3QgdT1Ccyg4JnI/ImNsYXNzIjpjLHMsT3ModCksbik7aWYoLTE9PT11KXtpZihMcyhyKSlyZXR1cm4hMTtvPSEwO2NvbnRpbnVlfWlmKCIiIT09bCl7bGV0IHQ7dD11Pmk/IiI6c1t1KzFdLnRvTG93ZXJDYXNlKCk7Y29uc3QgZT04JnI/dDpudWxsO2lmKGUmJi0xIT09a3MoZSxsLDApfHwyJnImJmwhPT10KXtpZihMcyhyKSlyZXR1cm4hMTtvPSEwfX19fWVsc2V7aWYoIW8mJiFMcyhyKSYmIUxzKGMpKXJldHVybiExO2lmKG8mJkxzKGMpKWNvbnRpbnVlO289ITEscj1jfDEmcn19cmV0dXJuIExzKHIpfHxvfWZ1bmN0aW9uIExzKHQpe3JldHVybiAwPT0oMSZ0KX1mdW5jdGlvbiBCcyh0LGUsbixyKXtpZihudWxsPT09ZSlyZXR1cm4tMTtsZXQgcz0wO2lmKHJ8fCFuKXtsZXQgbj0hMTtmb3IoO3M8ZS5sZW5ndGg7KXtjb25zdCByPWVbc107aWYocj09PXQpcmV0dXJuIHM7aWYoMz09PXJ8fDY9PT1yKW49ITA7ZWxzZXtpZigxPT09cnx8Mj09PXIpe2xldCB0PWVbKytzXTtmb3IoOyJzdHJpbmciPT10eXBlb2YgdDspdD1lWysrc107Y29udGludWV9aWYoND09PXIpYnJlYWs7aWYoMD09PXIpe3MrPTQ7Y29udGludWV9fXMrPW4/MToyfXJldHVybi0xfXJldHVybiBmdW5jdGlvbih0LGUpe2xldCBuPXQuaW5kZXhPZig0KTtpZihuPi0xKWZvcihuKys7bjx0Lmxlbmd0aDspe2NvbnN0IHI9dFtuXTtpZigibnVtYmVyIj09dHlwZW9mIHIpcmV0dXJuLTE7aWYocj09PWUpcmV0dXJuIG47bisrfXJldHVybi0xfShlLHQpfWZ1bmN0aW9uIGpzKHQsZSxuPSExKXtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKylpZihScyh0LGVbcl0sbikpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gTXModCxlKXt0OmZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCByPWVbbl07aWYodC5sZW5ndGg9PT1yLmxlbmd0aCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXSE9PXJbZV0pY29udGludWUgdDtyZXR1cm4hMH19cmV0dXJuITF9ZnVuY3Rpb24gTnModCxlKXtyZXR1cm4gdD8iOm5vdCgiK2UudHJpbSgpKyIpIjplfWZ1bmN0aW9uIEhzKHQpe2xldCBlPXRbMF0sbj0xLHI9MixzPSIiLGk9ITE7Zm9yKDtuPHQubGVuZ3RoOyl7bGV0IG89dFtuXTtpZigic3RyaW5nIj09dHlwZW9mIG8paWYoMiZyKXtjb25zdCBlPXRbKytuXTtzKz0iWyIrbysoZS5sZW5ndGg+MD8nPSInK2UrJyInOiIiKSsiXSJ9ZWxzZSA4JnI/cys9Ii4iK286NCZyJiYocys9IiAiK28pO2Vsc2UiIj09PXN8fExzKG8pfHwoZSs9TnMoaSxzKSxzPSIiKSxyPW8saT1pfHwhTHMocik7bisrfXJldHVybiIiIT09cyYmKGUrPU5zKGkscykpLGV9Y29uc3QgVnM9e307ZnVuY3Rpb24genModCl7JHMoT2UoKSxJZSgpLG5uKCkrdCxOZSgpKX1mdW5jdGlvbiAkcyh0LGUsbixyKXtpZighcilpZigzPT0oMyZlWzJdKSl7Y29uc3Qgcj10LnByZU9yZGVyQ2hlY2tIb29rcztudWxsIT09ciYmY24oZSxyLG4pfWVsc2V7Y29uc3Qgcj10LnByZU9yZGVySG9va3M7bnVsbCE9PXImJmxuKGUsciwwLG4pfXJuKG4pfWZ1bmN0aW9uIFVzKHQsZSl7cmV0dXJuIHQ8PDE3fGU8PDJ9ZnVuY3Rpb24gV3ModCl7cmV0dXJuIHQ+PjE3JjMyNzY3fWZ1bmN0aW9uIEdzKHQpe3JldHVybiAyfHR9ZnVuY3Rpb24gcXModCl7cmV0dXJuKDEzMTA2OCZ0KT4+Mn1mdW5jdGlvbiBYcyh0LGUpe3JldHVybi0xMzEwNjkmdHxlPDwyfWZ1bmN0aW9uIFlzKHQpe3JldHVybiAxfHR9ZnVuY3Rpb24gWnModCxlKXtjb25zdCBuPXQuY29udGVudFF1ZXJpZXM7aWYobnVsbCE9PW4pZm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKz0yKXtjb25zdCBzPW5bcl0saT1uW3IrMV07aWYoLTEhPT1pKXtjb25zdCBuPXQuZGF0YVtpXTtxZShzKSxuLmNvbnRlbnRRdWVyaWVzKDIsZVtpXSxpKX19fWZ1bmN0aW9uIFFzKHQsZSxuLHIscyxpLG8sYSxjLGwpe2NvbnN0IHU9ZS5ibHVlcHJpbnQuc2xpY2UoKTtyZXR1cm4gdVswXT1zLHVbMl09MTQwfHIsQWUodSksdVszXT11WzE1XT10LHVbOF09bix1WzEwXT1vfHx0JiZ0WzEwXSx1WzExXT1hfHx0JiZ0WzExXSx1WzEyXT1jfHx0JiZ0WzEyXXx8bnVsbCx1WzldPWx8fHQmJnRbOV18fG51bGwsdVs2XT1pLHVbMTZdPTI9PWUudHlwZT90WzE2XTp1LHV9ZnVuY3Rpb24gS3ModCxlLG4scixzKXtsZXQgaT10LmRhdGFbZV07aWYobnVsbD09PWkpaT1mdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9TGUoKSxvPWplKCksYT10LmRhdGFbZV09ZnVuY3Rpb24odCxlLG4scixzLGkpe3JldHVybnt0eXBlOm4saW5kZXg6cixpbnNlcnRCZWZvcmVJbmRleDpudWxsLGluamVjdG9ySW5kZXg6ZT9lLmluamVjdG9ySW5kZXg6LTEsZGlyZWN0aXZlU3RhcnQ6LTEsZGlyZWN0aXZlRW5kOi0xLGRpcmVjdGl2ZVN0eWxpbmdMYXN0Oi0xLHByb3BlcnR5QmluZGluZ3M6bnVsbCxmbGFnczowLHByb3ZpZGVySW5kZXhlczowLHZhbHVlOnMsYXR0cnM6aSxtZXJnZWRBdHRyczpudWxsLGxvY2FsTmFtZXM6bnVsbCxpbml0aWFsSW5wdXRzOnZvaWQgMCxpbnB1dHM6bnVsbCxvdXRwdXRzOm51bGwsdFZpZXdzOm51bGwsbmV4dDpudWxsLHByb2plY3Rpb25OZXh0Om51bGwsY2hpbGQ6bnVsbCxwYXJlbnQ6ZSxwcm9qZWN0aW9uOm51bGwsc3R5bGVzOm51bGwsc3R5bGVzV2l0aG91dEhvc3Q6bnVsbCxyZXNpZHVhbFN0eWxlczp2b2lkIDAsY2xhc3NlczpudWxsLGNsYXNzZXNXaXRob3V0SG9zdDpudWxsLHJlc2lkdWFsQ2xhc3Nlczp2b2lkIDAsY2xhc3NCaW5kaW5nczowLHN0eWxlQmluZGluZ3M6MH19KDAsbz9pOmkmJmkucGFyZW50LG4sZSxyLHMpO3JldHVybiBudWxsPT09dC5maXJzdENoaWxkJiYodC5maXJzdENoaWxkPWEpLG51bGwhPT1pJiYobz9udWxsPT1pLmNoaWxkJiZudWxsIT09YS5wYXJlbnQmJihpLmNoaWxkPWEpOm51bGw9PT1pLm5leHQmJihpLm5leHQ9YSkpLGF9KHQsZSxuLHIscyksa2UubEZyYW1lLmluSTE4biYmKGkuZmxhZ3N8PTY0KTtlbHNlIGlmKDY0JmkudHlwZSl7aS50eXBlPW4saS52YWx1ZT1yLGkuYXR0cnM9cztjb25zdCB0PWZ1bmN0aW9uKCl7Y29uc3QgdD1rZS5sRnJhbWUsZT10LmN1cnJlbnRUTm9kZTtyZXR1cm4gdC5pc1BhcmVudD9lOmUucGFyZW50fSgpO2kuaW5qZWN0b3JJbmRleD1udWxsPT09dD8tMTp0LmluamVjdG9ySW5kZXh9cmV0dXJuIEJlKGksITApLGl9ZnVuY3Rpb24gSnModCxlLG4scil7aWYoMD09PW4pcmV0dXJuLTE7Y29uc3Qgcz1lLmxlbmd0aDtmb3IobGV0IGk9MDtpPG47aSsrKWUucHVzaChyKSx0LmJsdWVwcmludC5wdXNoKHIpLHQuZGF0YS5wdXNoKG51bGwpO3JldHVybiBzfWZ1bmN0aW9uIHRpKHQsZSxuKXtaZShlKTt0cnl7Y29uc3Qgcj10LnZpZXdRdWVyeTtudWxsIT09ciYma2koMSxyLG4pO2NvbnN0IHM9dC50ZW1wbGF0ZTtudWxsIT09cyYmcmkodCxlLHMsMSxuKSx0LmZpcnN0Q3JlYXRlUGFzcyYmKHQuZmlyc3RDcmVhdGVQYXNzPSExKSx0LnN0YXRpY0NvbnRlbnRRdWVyaWVzJiZacyh0LGUpLHQuc3RhdGljVmlld1F1ZXJpZXMmJmtpKDIsdC52aWV3UXVlcnksbik7Y29uc3QgaT10LmNvbXBvbmVudHM7bnVsbCE9PWkmJmZ1bmN0aW9uKHQsZSl7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspRWkodCxlW25dKX0oZSxpKX1jYXRjaChyKXt0aHJvdyB0LmZpcnN0Q3JlYXRlUGFzcyYmKHQuaW5jb21wbGV0ZUZpcnN0UGFzcz0hMCkscn1maW5hbGx5e2VbMl0mPS01LGVuKCl9fWZ1bmN0aW9uIGVpKHQsZSxuLHIpe2NvbnN0IHM9ZVsyXTtpZigyNTY9PSgyNTYmcykpcmV0dXJuO1plKGUpO2NvbnN0IGk9TmUoKTt0cnl7QWUoZSksa2UubEZyYW1lLmJpbmRpbmdJbmRleD10LmJpbmRpbmdTdGFydEluZGV4LG51bGwhPT1uJiZyaSh0LGUsbiwyLHIpO2NvbnN0IG89Mz09KDMmcyk7aWYoIWkpaWYobyl7Y29uc3Qgbj10LnByZU9yZGVyQ2hlY2tIb29rcztudWxsIT09biYmY24oZSxuLG51bGwpfWVsc2V7Y29uc3Qgbj10LnByZU9yZGVySG9va3M7bnVsbCE9PW4mJmxuKGUsbiwwLG51bGwpLHVuKGUsMCl9aWYoZnVuY3Rpb24odCl7Zm9yKGxldCBlPXNzKHQpO251bGwhPT1lO2U9aXMoZSkpe2lmKCFlWzJdKWNvbnRpbnVlO2NvbnN0IHQ9ZVs5XTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgbj10W2VdLHI9blszXTswPT0oMTAyNCZuWzJdKSYmVGUociwxKSxuWzJdfD0xMDI0fX19KGUpLGZ1bmN0aW9uKHQpe2ZvcihsZXQgZT1zcyh0KTtudWxsIT09ZTtlPWlzKGUpKWZvcihsZXQgdD1KdDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbj1lW3RdLHI9blsxXTtTZShuKSYmZWkocixuLHIudGVtcGxhdGUsbls4XSl9fShlKSxudWxsIT09dC5jb250ZW50UXVlcmllcyYmWnModCxlKSwhaSlpZihvKXtjb25zdCBuPXQuY29udGVudENoZWNrSG9va3M7bnVsbCE9PW4mJmNuKGUsbil9ZWxzZXtjb25zdCBuPXQuY29udGVudEhvb2tzO251bGwhPT1uJiZsbihlLG4sMSksdW4oZSwxKX0hZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuaG9zdEJpbmRpbmdPcENvZGVzO2lmKG51bGwhPT1uKXRyeXtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyl7Y29uc3Qgcj1uW3RdO2lmKHI8MClybih+cik7ZWxzZXtjb25zdCBzPXIsaT1uWysrdF0sbz1uWysrdF07VWUoaSxzKSxvKDIsZVtzXSl9fX1maW5hbGx5e3JuKC0xKX19KHQsZSk7Y29uc3QgYT10LmNvbXBvbmVudHM7bnVsbCE9PWEmJmZ1bmN0aW9uKHQsZSl7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspX2kodCxlW25dKX0oZSxhKTtjb25zdCBjPXQudmlld1F1ZXJ5O2lmKG51bGwhPT1jJiZraSgyLGMsciksIWkpaWYobyl7Y29uc3Qgbj10LnZpZXdDaGVja0hvb2tzO251bGwhPT1uJiZjbihlLG4pfWVsc2V7Y29uc3Qgbj10LnZpZXdIb29rcztudWxsIT09biYmbG4oZSxuLDIpLHVuKGUsMil9ITA9PT10LmZpcnN0VXBkYXRlUGFzcyYmKHQuZmlyc3RVcGRhdGVQYXNzPSExKSxpfHwoZVsyXSY9LTczKSwxMDI0JmVbMl0mJihlWzJdJj0tMTAyNSxUZShlWzNdLC0xKSl9ZmluYWxseXtlbigpfX1mdW5jdGlvbiBuaSh0LGUsbixyKXtjb25zdCBzPWVbMTBdLGk9IU5lKCksbz1FZShlKTt0cnl7aSYmIW8mJnMuYmVnaW4mJnMuYmVnaW4oKSxvJiZ0aSh0LGUsciksZWkodCxlLG4scil9ZmluYWxseXtpJiYhbyYmcy5lbmQmJnMuZW5kKCl9fWZ1bmN0aW9uIHJpKHQsZSxuLHIscyl7Y29uc3QgaT1ubigpLG89MiZyO3RyeXtybigtMSksbyYmZS5sZW5ndGg+S3QmJiRzKHQsZSxLdCxOZSgpKSxuKHIscyl9ZmluYWxseXtybihpKX19ZnVuY3Rpb24gc2kodCxlLG4pe2lmKG5lKGUpKXtjb25zdCByPWUuZGlyZWN0aXZlRW5kO2ZvcihsZXQgcz1lLmRpcmVjdGl2ZVN0YXJ0O3M8cjtzKyspe2NvbnN0IGU9dC5kYXRhW3NdO2UuY29udGVudFF1ZXJpZXMmJmUuY29udGVudFF1ZXJpZXMoMSxuW3NdLHMpfX19ZnVuY3Rpb24gaWkodCxlLG4pe0ZlKCkmJihmdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPW4uZGlyZWN0aXZlU3RhcnQsaT1uLmRpcmVjdGl2ZUVuZDt0LmZpcnN0Q3JlYXRlUGFzc3x8eG4obixlKSxHcihyLGUpO2NvbnN0IG89bi5pbml0aWFsSW5wdXRzO2ZvcihsZXQgYT1zO2E8aTthKyspe2NvbnN0IHI9dC5kYXRhW2FdLGk9aWUocik7aSYmdmkoZSxuLHIpO2NvbnN0IGM9TW4oZSx0LGEsbik7R3IoYyxlKSxudWxsIT09byYmYmkoMCxhLXMsYyxyLDAsbyksaSYmKERlKG4uaW5kZXgsZSlbOF09Yyl9fSh0LGUsbixDZShuLGUpKSwxMjg9PSgxMjgmbi5mbGFncykmJmZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPW4uZGlyZWN0aXZlU3RhcnQscz1uLmRpcmVjdGl2ZUVuZCxpPW4uaW5kZXgsbz1rZS5sRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4O3RyeXtybihpKTtmb3IobGV0IG49cjtuPHM7bisrKXtjb25zdCByPXQuZGF0YVtuXSxzPWVbbl07V2UobiksbnVsbD09PXIuaG9zdEJpbmRpbmdzJiYwPT09ci5ob3N0VmFycyYmbnVsbD09PXIuaG9zdEF0dHJzfHxwaShyLHMpfX1maW5hbGx5e3JuKC0xKSxXZShvKX19KHQsZSxuKSl9ZnVuY3Rpb24gb2kodCxlLG49Q2Upe2NvbnN0IHI9ZS5sb2NhbE5hbWVzO2lmKG51bGwhPT1yKXtsZXQgcz1lLmluZGV4KzE7Zm9yKGxldCBpPTA7aTxyLmxlbmd0aDtpKz0yKXtjb25zdCBvPXJbaSsxXSxhPS0xPT09bz9uKGUsdCk6dFtvXTt0W3MrK109YX19fWZ1bmN0aW9uIGFpKHQpe2NvbnN0IGU9dC50VmlldztyZXR1cm4gbnVsbD09PWV8fGUuaW5jb21wbGV0ZUZpcnN0UGFzcz90LnRWaWV3PWNpKDEsbnVsbCx0LnRlbXBsYXRlLHQuZGVjbHMsdC52YXJzLHQuZGlyZWN0aXZlRGVmcyx0LnBpcGVEZWZzLHQudmlld1F1ZXJ5LHQuc2NoZW1hcyx0LmNvbnN0cyk6ZX1mdW5jdGlvbiBjaSh0LGUsbixyLHMsaSxvLGEsYyxsKXtjb25zdCB1PUt0K3IsaD11K3MsZD1mdW5jdGlvbih0LGUpe2NvbnN0IG49W107Zm9yKGxldCByPTA7cjxlO3IrKyluLnB1c2gocjx0P251bGw6VnMpO3JldHVybiBufSh1LGgpLHA9ImZ1bmN0aW9uIj09dHlwZW9mIGw/bCgpOmw7cmV0dXJuIGRbMV09e3R5cGU6dCxibHVlcHJpbnQ6ZCx0ZW1wbGF0ZTpuLHF1ZXJpZXM6bnVsbCx2aWV3UXVlcnk6YSxkZWNsVE5vZGU6ZSxkYXRhOmQuc2xpY2UoKS5maWxsKG51bGwsdSksYmluZGluZ1N0YXJ0SW5kZXg6dSxleHBhbmRvU3RhcnRJbmRleDpoLGhvc3RCaW5kaW5nT3BDb2RlczpudWxsLGZpcnN0Q3JlYXRlUGFzczohMCxmaXJzdFVwZGF0ZVBhc3M6ITAsc3RhdGljVmlld1F1ZXJpZXM6ITEsc3RhdGljQ29udGVudFF1ZXJpZXM6ITEscHJlT3JkZXJIb29rczpudWxsLHByZU9yZGVyQ2hlY2tIb29rczpudWxsLGNvbnRlbnRIb29rczpudWxsLGNvbnRlbnRDaGVja0hvb2tzOm51bGwsdmlld0hvb2tzOm51bGwsdmlld0NoZWNrSG9va3M6bnVsbCxkZXN0cm95SG9va3M6bnVsbCxjbGVhbnVwOm51bGwsY29udGVudFF1ZXJpZXM6bnVsbCxjb21wb25lbnRzOm51bGwsZGlyZWN0aXZlUmVnaXN0cnk6ImZ1bmN0aW9uIj09dHlwZW9mIGk/aSgpOmkscGlwZVJlZ2lzdHJ5OiJmdW5jdGlvbiI9PXR5cGVvZiBvP28oKTpvLGZpcnN0Q2hpbGQ6bnVsbCxzY2hlbWFzOmMsY29uc3RzOnAsaW5jb21wbGV0ZUZpcnN0UGFzczohMX19ZnVuY3Rpb24gbGkodCxlLG4scil7Y29uc3Qgcz1JaShlKTtudWxsPT09bj9zLnB1c2gocik6KHMucHVzaChuKSx0LmZpcnN0Q3JlYXRlUGFzcyYmT2kodCkucHVzaChyLHMubGVuZ3RoLTEpKX1mdW5jdGlvbiB1aSh0LGUsbil7Zm9yKGxldCByIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShyKSl7Y29uc3Qgcz10W3JdOyhuPW51bGw9PT1uP3t9Om4pLmhhc093blByb3BlcnR5KHIpP25bcl0ucHVzaChlLHMpOm5bcl09W2Usc119cmV0dXJuIG59ZnVuY3Rpb24gaGkodCxlLG4scil7bGV0IHM9ITE7aWYoRmUoKSl7Y29uc3QgaT1mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj10LmRpcmVjdGl2ZVJlZ2lzdHJ5O2xldCBzPW51bGw7aWYocilmb3IobGV0IGk9MDtpPHIubGVuZ3RoO2krKyl7Y29uc3Qgbz1yW2ldO2pzKG4sby5zZWxlY3RvcnMsITEpJiYoc3x8KHM9W10pLEZuKHhuKG4sZSksdCxvLnR5cGUpLGllKG8pPyhmaSh0LG4pLHMudW5zaGlmdChvKSk6cy5wdXNoKG8pKX1yZXR1cm4gc30odCxlLG4pLG89bnVsbD09PXI/bnVsbDp7IiI6LTF9O2lmKG51bGwhPT1pKXtzPSEwLG1pKG4sdC5kYXRhLmxlbmd0aCxpLmxlbmd0aCk7Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0Kyspe2NvbnN0IGU9aVt0XTtlLnByb3ZpZGVyc1Jlc29sdmVyJiZlLnByb3ZpZGVyc1Jlc29sdmVyKGUpfWxldCByPSExLGE9ITEsYz1Kcyh0LGUsaS5sZW5ndGgsbnVsbCk7Zm9yKGxldCBzPTA7czxpLmxlbmd0aDtzKyspe2NvbnN0IGw9aVtzXTtuLm1lcmdlZEF0dHJzPXZuKG4ubWVyZ2VkQXR0cnMsbC5ob3N0QXR0cnMpLHlpKHQsbixlLGMsbCksZ2koYyxsLG8pLG51bGwhPT1sLmNvbnRlbnRRdWVyaWVzJiYobi5mbGFnc3w9OCksbnVsbD09PWwuaG9zdEJpbmRpbmdzJiZudWxsPT09bC5ob3N0QXR0cnMmJjA9PT1sLmhvc3RWYXJzfHwobi5mbGFnc3w9MTI4KTtjb25zdCB1PWwudHlwZS5wcm90b3R5cGU7IXImJih1Lm5nT25DaGFuZ2VzfHx1Lm5nT25Jbml0fHx1Lm5nRG9DaGVjaykmJigodC5wcmVPcmRlckhvb2tzfHwodC5wcmVPcmRlckhvb2tzPVtdKSkucHVzaChuLmluZGV4KSxyPSEwKSxhfHwhdS5uZ09uQ2hhbmdlcyYmIXUubmdEb0NoZWNrfHwoKHQucHJlT3JkZXJDaGVja0hvb2tzfHwodC5wcmVPcmRlckNoZWNrSG9va3M9W10pKS5wdXNoKG4uaW5kZXgpLGE9ITApLGMrK30hZnVuY3Rpb24odCxlKXtjb25zdCBuPWUuZGlyZWN0aXZlRW5kLHI9dC5kYXRhLHM9ZS5hdHRycyxpPVtdO2xldCBvPW51bGwsYT1udWxsO2ZvcihsZXQgYz1lLmRpcmVjdGl2ZVN0YXJ0O2M8bjtjKyspe2NvbnN0IHQ9cltjXSxuPXQuaW5wdXRzLGw9bnVsbD09PXN8fE9zKGUpP251bGw6Q2kobixzKTtpLnB1c2gobCksbz11aShuLGMsbyksYT11aSh0Lm91dHB1dHMsYyxhKX1udWxsIT09byYmKG8uaGFzT3duUHJvcGVydHkoImNsYXNzIikmJihlLmZsYWdzfD0xNiksby5oYXNPd25Qcm9wZXJ0eSgic3R5bGUiKSYmKGUuZmxhZ3N8PTMyKSksZS5pbml0aWFsSW5wdXRzPWksZS5pbnB1dHM9byxlLm91dHB1dHM9YX0odCxuKX1vJiZmdW5jdGlvbih0LGUsbil7aWYoZSl7Y29uc3Qgcj10LmxvY2FsTmFtZXM9W107Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz0yKXtjb25zdCBzPW5bZVt0KzFdXTtpZihudWxsPT1zKXRocm93IG5ldyBhdCgiMzAxIixgRXhwb3J0IG9mIG5hbWUgJyR7ZVt0KzFdfScgbm90IGZvdW5kIWApO3IucHVzaChlW3RdLHMpfX19KG4scixvKX1yZXR1cm4gbi5tZXJnZWRBdHRycz12bihuLm1lcmdlZEF0dHJzLG4uYXR0cnMpLHN9ZnVuY3Rpb24gZGkodCxlLG4scixzLGkpe2NvbnN0IG89aS5ob3N0QmluZGluZ3M7aWYobyl7bGV0IG49dC5ob3N0QmluZGluZ09wQ29kZXM7bnVsbD09PW4mJihuPXQuaG9zdEJpbmRpbmdPcENvZGVzPVtdKTtjb25zdCBpPX5lLmluZGV4OyhmdW5jdGlvbih0KXtsZXQgZT10Lmxlbmd0aDtmb3IoO2U+MDspe2NvbnN0IG49dFstLWVdO2lmKCJudW1iZXIiPT10eXBlb2YgbiYmbjwwKXJldHVybiBufXJldHVybiAwfSkobikhPWkmJm4ucHVzaChpKSxuLnB1c2gocixzLG8pfX1mdW5jdGlvbiBwaSh0LGUpe251bGwhPT10Lmhvc3RCaW5kaW5ncyYmdC5ob3N0QmluZGluZ3MoMSxlKX1mdW5jdGlvbiBmaSh0LGUpe2UuZmxhZ3N8PTIsKHQuY29tcG9uZW50c3x8KHQuY29tcG9uZW50cz1bXSkpLnB1c2goZS5pbmRleCl9ZnVuY3Rpb24gZ2kodCxlLG4pe2lmKG4pe2lmKGUuZXhwb3J0QXMpZm9yKGxldCByPTA7cjxlLmV4cG9ydEFzLmxlbmd0aDtyKyspbltlLmV4cG9ydEFzW3JdXT10O2llKGUpJiYoblsiIl09dCl9fWZ1bmN0aW9uIG1pKHQsZSxuKXt0LmZsYWdzfD0xLHQuZGlyZWN0aXZlU3RhcnQ9ZSx0LmRpcmVjdGl2ZUVuZD1lK24sdC5wcm92aWRlckluZGV4ZXM9ZX1mdW5jdGlvbiB5aSh0LGUsbixyLHMpe3QuZGF0YVtyXT1zO2NvbnN0IGk9cy5mYWN0b3J5fHwocy5mYWN0b3J5PW9lKHMudHlwZSkpLG89bmV3IGZuKGksaWUocyksbnVsbCk7dC5ibHVlcHJpbnRbcl09byxuW3JdPW8sZGkodCxlLDAscixKcyh0LG4scy5ob3N0VmFycyxWcykscyl9ZnVuY3Rpb24gdmkodCxlLG4pe2NvbnN0IHI9Q2UoZSx0KSxzPWFpKG4pLGk9dFsxMF0sbz1TaSh0LFFzKHQscyxudWxsLG4ub25QdXNoPzY0OjE2LHIsZSxpLGkuY3JlYXRlUmVuZGVyZXIocixuKSxudWxsLG51bGwpKTt0W2UuaW5kZXhdPW99ZnVuY3Rpb24gYmkodCxlLG4scixzLGkpe2NvbnN0IG89aVtlXTtpZihudWxsIT09byl7Y29uc3QgdD1yLnNldElucHV0O2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7KXtjb25zdCBzPW9bZSsrXSxpPW9bZSsrXSxhPW9bZSsrXTtudWxsIT09dD9yLnNldElucHV0KG4sYSxzLGkpOm5baV09YX19fWZ1bmN0aW9uIENpKHQsZSl7bGV0IG49bnVsbCxyPTA7Zm9yKDtyPGUubGVuZ3RoOyl7Y29uc3Qgcz1lW3JdO2lmKDAhPT1zKWlmKDUhPT1zKXtpZigibnVtYmVyIj09dHlwZW9mIHMpYnJlYWs7dC5oYXNPd25Qcm9wZXJ0eShzKSYmKG51bGw9PT1uJiYobj1bXSksbi5wdXNoKHMsdFtzXSxlW3IrMV0pKSxyKz0yfWVsc2Ugcis9MjtlbHNlIHIrPTR9cmV0dXJuIG59ZnVuY3Rpb24gd2kodCxlLG4scil7cmV0dXJuIG5ldyBBcnJheSh0LCEwLCExLGUsbnVsbCwwLHIsbixudWxsLG51bGwpfWZ1bmN0aW9uIF9pKHQsZSl7Y29uc3Qgbj1EZShlLHQpO2lmKFNlKG4pKXtjb25zdCB0PW5bMV07ODAmblsyXT9laSh0LG4sdC50ZW1wbGF0ZSxuWzhdKTpuWzVdPjAmJkRpKG4pfX1mdW5jdGlvbiBEaSh0KXtmb3IobGV0IG49c3ModCk7bnVsbCE9PW47bj1pcyhuKSlmb3IobGV0IHQ9SnQ7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IGU9blt0XTtpZigxMDI0JmVbMl0pe2NvbnN0IHQ9ZVsxXTtlaSh0LGUsdC50ZW1wbGF0ZSxlWzhdKX1lbHNlIGVbNV0+MCYmRGkoZSl9Y29uc3QgZT10WzFdLmNvbXBvbmVudHM7aWYobnVsbCE9PWUpZm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IHI9RGUoZVtuXSx0KTtTZShyKSYmcls1XT4wJiZEaShyKX19ZnVuY3Rpb24gRWkodCxlKXtjb25zdCBuPURlKGUsdCkscj1uWzFdOyFmdW5jdGlvbih0LGUpe2ZvcihsZXQgbj1lLmxlbmd0aDtuPHQuYmx1ZXByaW50Lmxlbmd0aDtuKyspZS5wdXNoKHQuYmx1ZXByaW50W25dKX0ocixuKSx0aShyLG4sbls4XSl9ZnVuY3Rpb24gU2kodCxlKXtyZXR1cm4gdFsxM10/dFsxNF1bNF09ZTp0WzEzXT1lLHRbMTRdPWUsZX1mdW5jdGlvbiB4aSh0KXtmb3IoO3Q7KXt0WzJdfD02NDtjb25zdCBlPXJzKHQpO2lmKDAhPSg1MTImdFsyXSkmJiFlKXJldHVybiB0O3Q9ZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBBaSh0LGUsbil7Y29uc3Qgcj1lWzEwXTtyLmJlZ2luJiZyLmJlZ2luKCk7dHJ5e2VpKHQsZSx0LnRlbXBsYXRlLG4pfWNhdGNoKHMpe3Rocm93IFBpKGUscyksc31maW5hbGx5e3IuZW5kJiZyLmVuZCgpfX1mdW5jdGlvbiBUaSh0KXshZnVuY3Rpb24odCl7Zm9yKGxldCBlPTA7ZTx0LmNvbXBvbmVudHMubGVuZ3RoO2UrKyl7Y29uc3Qgbj10LmNvbXBvbmVudHNbZV0scj1xcihuKSxzPXJbMV07bmkocyxyLHMudGVtcGxhdGUsbil9fSh0WzhdKX1mdW5jdGlvbiBraSh0LGUsbil7cWUoMCksZSh0LG4pfWNvbnN0IEZpPSgoKT0+UHJvbWlzZS5yZXNvbHZlKG51bGwpKSgpO2Z1bmN0aW9uIElpKHQpe3JldHVybiB0WzddfHwodFs3XT1bXSl9ZnVuY3Rpb24gT2kodCl7cmV0dXJuIHQuY2xlYW51cHx8KHQuY2xlYW51cD1bXSl9ZnVuY3Rpb24gUGkodCxlKXtjb25zdCBuPXRbOV0scj1uP24uZ2V0KFFyLG51bGwpOm51bGw7ciYmci5oYW5kbGVFcnJvcihlKX1mdW5jdGlvbiBSaSh0LGUsbixyLHMpe2ZvcihsZXQgaT0wO2k8bi5sZW5ndGg7KXtjb25zdCBvPW5baSsrXSxhPW5baSsrXSxjPWVbb10sbD10LmRhdGFbb107bnVsbCE9PWwuc2V0SW5wdXQ/bC5zZXRJbnB1dChjLHMscixhKTpjW2FdPXN9fWZ1bmN0aW9uIExpKHQsZSxuKXtsZXQgcj1uP3Quc3R5bGVzOm51bGwscz1uP3QuY2xhc3NlczpudWxsLGk9MDtpZihudWxsIT09ZSlmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKyl7Y29uc3QgdD1lW29dOyJudW1iZXIiPT10eXBlb2YgdD9pPXQ6MT09aT9zPW50KHMsdCk6Mj09aSYmKHI9bnQocix0KyI6ICIrZVsrK29dKyI7IikpfW4/dC5zdHlsZXM9cjp0LnN0eWxlc1dpdGhvdXRIb3N0PXIsbj90LmNsYXNzZXM9czp0LmNsYXNzZXNXaXRob3V0SG9zdD1zfWNvbnN0IEJpPW5ldyBHbigiSU5KRUNUT1IiLC0xKTtjbGFzcyBqaXtnZXQodCxlPXJyKXtpZihlPT09cnIpe2NvbnN0IGU9bmV3IEVycm9yKGBOdWxsSW5qZWN0b3JFcnJvcjogTm8gcHJvdmlkZXIgZm9yICR7ZXQodCl9IWApO3Rocm93IGUubmFtZT0iTnVsbEluamVjdG9yRXJyb3IiLGV9cmV0dXJuIGV9fWNvbnN0IE1pPW5ldyBHbigiU2V0IEluamVjdG9yIHNjb3BlLiIpLE5pPXt9LEhpPXt9O2xldCBWaTtmdW5jdGlvbiB6aSgpe3JldHVybiB2b2lkIDA9PT1WaSYmKFZpPW5ldyBqaSksVml9ZnVuY3Rpb24gJGkodCxlPW51bGwsbj1udWxsLHIpe3JldHVybiBuZXcgVWkodCxuLGV8fHppKCkscil9Y2xhc3MgVWl7Y29uc3RydWN0b3IodCxlLG4scj1udWxsKXt0aGlzLnBhcmVudD1uLHRoaXMucmVjb3Jkcz1uZXcgTWFwLHRoaXMuaW5qZWN0b3JEZWZUeXBlcz1uZXcgU2V0LHRoaXMub25EZXN0cm95PW5ldyBTZXQsdGhpcy5fZGVzdHJveWVkPSExO2NvbnN0IHM9W107ZSYmWm4oZSxuPT50aGlzLnByb2Nlc3NQcm92aWRlcihuLHQsZSkpLFpuKFt0XSx0PT50aGlzLnByb2Nlc3NJbmplY3RvclR5cGUodCxbXSxzKSksdGhpcy5yZWNvcmRzLnNldChCaSxxaSh2b2lkIDAsdGhpcykpO2NvbnN0IGk9dGhpcy5yZWNvcmRzLmdldChNaSk7dGhpcy5zY29wZT1udWxsIT1pP2kudmFsdWU6bnVsbCx0aGlzLnNvdXJjZT1yfHwoIm9iamVjdCI9PXR5cGVvZiB0P251bGw6ZXQodCkpfWdldCBkZXN0cm95ZWQoKXtyZXR1cm4gdGhpcy5fZGVzdHJveWVkfWRlc3Ryb3koKXt0aGlzLmFzc2VydE5vdERlc3Ryb3llZCgpLHRoaXMuX2Rlc3Ryb3llZD0hMDt0cnl7dGhpcy5vbkRlc3Ryb3kuZm9yRWFjaCh0PT50Lm5nT25EZXN0cm95KCkpfWZpbmFsbHl7dGhpcy5yZWNvcmRzLmNsZWFyKCksdGhpcy5vbkRlc3Ryb3kuY2xlYXIoKSx0aGlzLmluamVjdG9yRGVmVHlwZXMuY2xlYXIoKX19Z2V0KHQsZT1ycixuPUN0LkRlZmF1bHQpe3RoaXMuYXNzZXJ0Tm90RGVzdHJveWVkKCk7Y29uc3Qgcj1jcih0aGlzKTt0cnl7aWYoIShuJkN0LlNraXBTZWxmKSl7bGV0IGU9dGhpcy5yZWNvcmRzLmdldCh0KTtpZih2b2lkIDA9PT1lKXtjb25zdCBuPSgiZnVuY3Rpb24iPT10eXBlb2Yocz10KXx8Im9iamVjdCI9PXR5cGVvZiBzJiZzIGluc3RhbmNlb2YgR24pJiZwdCh0KTtlPW4mJnRoaXMuaW5qZWN0YWJsZURlZkluU2NvcGUobik/cWkoV2kodCksTmkpOm51bGwsdGhpcy5yZWNvcmRzLnNldCh0LGUpfWlmKG51bGwhPWUpcmV0dXJuIHRoaXMuaHlkcmF0ZSh0LGUpfXJldHVybihuJkN0LlNlbGY/emkoKTp0aGlzLnBhcmVudCkuZ2V0KHQsZT1uJkN0Lk9wdGlvbmFsJiZlPT09cnI/bnVsbDplKX1jYXRjaChpKXtpZigiTnVsbEluamVjdG9yRXJyb3IiPT09aS5uYW1lKXtpZigoaS5uZ1RlbXBUb2tlblBhdGg9aS5uZ1RlbXBUb2tlblBhdGh8fFtdKS51bnNoaWZ0KGV0KHQpKSxyKXRocm93IGk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9dC5uZ1RlbXBUb2tlblBhdGg7dGhyb3cgZVtpcl0mJnMudW5zaGlmdChlW2lyXSksdC5tZXNzYWdlPWZ1bmN0aW9uKHQsZSxuLHI9bnVsbCl7dD10JiYiXG4iPT09dC5jaGFyQXQoMCkmJiJcdTAyNzUiPT10LmNoYXJBdCgxKT90LnN1YnN0cigyKTp0O2xldCBzPWV0KGUpO2lmKEFycmF5LmlzQXJyYXkoZSkpcz1lLm1hcChldCkuam9pbigiIC0+ICIpO2Vsc2UgaWYoIm9iamVjdCI9PXR5cGVvZiBlKXtsZXQgdD1bXTtmb3IobGV0IG4gaW4gZSlpZihlLmhhc093blByb3BlcnR5KG4pKXtsZXQgcj1lW25dO3QucHVzaChuKyI6IisoInN0cmluZyI9PXR5cGVvZiByP0pTT04uc3RyaW5naWZ5KHIpOmV0KHIpKSl9cz1geyR7dC5qb2luKCIsICIpfX1gfXJldHVybmAke259JHtyPyIoIityKyIpIjoiIn1bJHtzfV06ICR7dC5yZXBsYWNlKHNyLCJcbiAgIil9YH0oIlxuIit0Lm1lc3NhZ2UscyxuLHIpLHQubmdUb2tlblBhdGg9cyx0Lm5nVGVtcFRva2VuUGF0aD1udWxsLHR9KGksdCwiUjNJbmplY3RvckVycm9yIix0aGlzLnNvdXJjZSl9dGhyb3cgaX1maW5hbGx5e2NyKHIpfXZhciBzfV9yZXNvbHZlSW5qZWN0b3JEZWZUeXBlcygpe3RoaXMuaW5qZWN0b3JEZWZUeXBlcy5mb3JFYWNoKHQ9PnRoaXMuZ2V0KHQpKX10b1N0cmluZygpe2NvbnN0IHQ9W107cmV0dXJuIHRoaXMucmVjb3Jkcy5mb3JFYWNoKChlLG4pPT50LnB1c2goZXQobikpKSxgUjNJbmplY3Rvclske3Quam9pbigiLCAiKX1dYH1hc3NlcnROb3REZXN0cm95ZWQoKXtpZih0aGlzLl9kZXN0cm95ZWQpdGhyb3cgbmV3IEVycm9yKCJJbmplY3RvciBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZC4iKX1wcm9jZXNzSW5qZWN0b3JUeXBlKHQsZSxuKXtpZighKHQ9aXQodCkpKXJldHVybiExO2xldCByPWd0KHQpO2NvbnN0IHM9bnVsbD09ciYmdC5uZ01vZHVsZXx8dm9pZCAwLGk9dm9pZCAwPT09cz90OnMsbz0tMSE9PW4uaW5kZXhPZihpKTtpZih2b2lkIDAhPT1zJiYocj1ndChzKSksbnVsbD09cilyZXR1cm4hMTtpZihudWxsIT1yLmltcG9ydHMmJiFvKXtsZXQgdDtuLnB1c2goaSk7dHJ5e1puKHIuaW1wb3J0cyxyPT57dGhpcy5wcm9jZXNzSW5qZWN0b3JUeXBlKHIsZSxuKSYmKHZvaWQgMD09PXQmJih0PVtdKSx0LnB1c2gocikpfSl9ZmluYWxseXt9aWYodm9pZCAwIT09dClmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3R7bmdNb2R1bGU6bixwcm92aWRlcnM6cn09dFtlXTtabihyLHQ9PnRoaXMucHJvY2Vzc1Byb3ZpZGVyKHQsbixyfHxQdCkpfX10aGlzLmluamVjdG9yRGVmVHlwZXMuYWRkKGkpO2NvbnN0IGE9b2UoaSl8fCgoKT0+bmV3IGkpO3RoaXMucmVjb3Jkcy5zZXQoaSxxaShhLE5pKSk7Y29uc3QgYz1yLnByb3ZpZGVycztpZihudWxsIT1jJiYhbyl7Y29uc3QgZT10O1puKGMsdD0+dGhpcy5wcm9jZXNzUHJvdmlkZXIodCxlLGMpKX1yZXR1cm4gdm9pZCAwIT09cyYmdm9pZCAwIT09dC5wcm92aWRlcnN9cHJvY2Vzc1Byb3ZpZGVyKHQsZSxuKXtsZXQgcj1ZaSh0PWl0KHQpKT90Oml0KHQmJnQucHJvdmlkZSk7Y29uc3Qgcz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFhpKHQpP3FpKHZvaWQgMCx0LnVzZVZhbHVlKTpxaShHaSh0KSxOaSl9KHQpO2lmKFlpKHQpfHwhMCE9PXQubXVsdGkpdGhpcy5yZWNvcmRzLmdldChyKTtlbHNle2xldCBlPXRoaXMucmVjb3Jkcy5nZXQocik7ZXx8KGU9cWkodm9pZCAwLE5pLCEwKSxlLmZhY3Rvcnk9KCk9PmhyKGUubXVsdGkpLHRoaXMucmVjb3Jkcy5zZXQocixlKSkscj10LGUubXVsdGkucHVzaCh0KX10aGlzLnJlY29yZHMuc2V0KHIscyl9aHlkcmF0ZSh0LGUpe3ZhciBuO3JldHVybiBlLnZhbHVlPT09TmkmJihlLnZhbHVlPUhpLGUudmFsdWU9ZS5mYWN0b3J5KCkpLCJvYmplY3QiPT10eXBlb2YgZS52YWx1ZSYmZS52YWx1ZSYmbnVsbCE9PShuPWUudmFsdWUpJiYib2JqZWN0Ij09dHlwZW9mIG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuLm5nT25EZXN0cm95JiZ0aGlzLm9uRGVzdHJveS5hZGQoZS52YWx1ZSksZS52YWx1ZX1pbmplY3RhYmxlRGVmSW5TY29wZSh0KXtpZighdC5wcm92aWRlZEluKXJldHVybiExO2NvbnN0IGU9aXQodC5wcm92aWRlZEluKTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGU/ImFueSI9PT1lfHxlPT09dGhpcy5zY29wZTp0aGlzLmluamVjdG9yRGVmVHlwZXMuaGFzKGUpfX1mdW5jdGlvbiBXaSh0KXtjb25zdCBlPXB0KHQpLG49bnVsbCE9PWU/ZS5mYWN0b3J5Om9lKHQpO2lmKG51bGwhPT1uKXJldHVybiBuO2lmKHQgaW5zdGFuY2VvZiBHbil0aHJvdyBuZXcgRXJyb3IoYFRva2VuICR7ZXQodCl9IGlzIG1pc3NpbmcgYSBcdTAyNzVwcm92IGRlZmluaXRpb24uYCk7aWYodCBpbnN0YW5jZW9mIEZ1bmN0aW9uKXJldHVybiBmdW5jdGlvbih0KXtjb25zdCBlPXQubGVuZ3RoO2lmKGU+MCl7Y29uc3Qgbj1KbihlLCI/Iik7dGhyb3cgbmV3IEVycm9yKGBDYW4ndCByZXNvbHZlIGFsbCBwYXJhbWV0ZXJzIGZvciAke2V0KHQpfTogKCR7bi5qb2luKCIsICIpfSkuYCl9Y29uc3Qgbj1mdW5jdGlvbih0KXtjb25zdCBlPXQmJih0W210XXx8dFt2dF0pO2lmKGUpe2NvbnN0IG49ZnVuY3Rpb24odCl7aWYodC5oYXNPd25Qcm9wZXJ0eSgibmFtZSIpKXJldHVybiB0Lm5hbWU7Y29uc3QgZT0oIiIrdCkubWF0Y2goL15mdW5jdGlvblxzKihbXlxzKF0rKS8pO3JldHVybiBudWxsPT09ZT8iIjplWzFdfSh0KTtyZXR1cm4gY29uc29sZS53YXJuKGBERVBSRUNBVEVEOiBESSBpcyBpbnN0YW50aWF0aW5nIGEgdG9rZW4gIiR7bn0iIHRoYXQgaW5oZXJpdHMgaXRzIEBJbmplY3RhYmxlIGRlY29yYXRvciBidXQgZG9lcyBub3QgcHJvdmlkZSBvbmUgaXRzZWxmLlxuVGhpcyB3aWxsIGJlY29tZSBhbiBlcnJvciBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIEFuZ3VsYXIuIFBsZWFzZSBhZGQgQEluamVjdGFibGUoKSB0byB0aGUgIiR7bn0iIGNsYXNzLmApLGV9cmV0dXJuIG51bGx9KHQpO3JldHVybiBudWxsIT09bj8oKT0+bi5mYWN0b3J5KHQpOigpPT5uZXcgdH0odCk7dGhyb3cgbmV3IEVycm9yKCJ1bnJlYWNoYWJsZSIpfWZ1bmN0aW9uIEdpKHQsZSxuKXtsZXQgcjtpZihZaSh0KSl7Y29uc3QgZT1pdCh0KTtyZXR1cm4gb2UoZSl8fFdpKGUpfWlmKFhpKHQpKXI9KCk9Pml0KHQudXNlVmFsdWUpO2Vsc2UgaWYoKHM9dCkmJnMudXNlRmFjdG9yeSlyPSgpPT50LnVzZUZhY3RvcnkoLi4uaHIodC5kZXBzfHxbXSkpO2Vsc2UgaWYoZnVuY3Rpb24odCl7cmV0dXJuISghdHx8IXQudXNlRXhpc3RpbmcpfSh0KSlyPSgpPT51cihpdCh0LnVzZUV4aXN0aW5nKSk7ZWxzZXtjb25zdCBlPWl0KHQmJih0LnVzZUNsYXNzfHx0LnByb3ZpZGUpKTtpZighZnVuY3Rpb24odCl7cmV0dXJuISF0LmRlcHN9KHQpKXJldHVybiBvZShlKXx8V2koZSk7cj0oKT0+bmV3IGUoLi4uaHIodC5kZXBzKSl9dmFyIHM7cmV0dXJuIHJ9ZnVuY3Rpb24gcWkodCxlLG49ITEpe3JldHVybntmYWN0b3J5OnQsdmFsdWU6ZSxtdWx0aTpuP1tdOnZvaWQgMH19ZnVuY3Rpb24gWGkodCl7cmV0dXJuIG51bGwhPT10JiYib2JqZWN0Ij09dHlwZW9mIHQmJm9yIGluIHR9ZnVuY3Rpb24gWWkodCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHR9Y29uc3QgWmk9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbih0LGU9bnVsbCxuPW51bGwscil7Y29uc3Qgcz0kaSh0LGUsbixyKTtyZXR1cm4gcy5fcmVzb2x2ZUluamVjdG9yRGVmVHlwZXMoKSxzfSh7bmFtZTpufSxlLHQsbil9O2xldCBRaT0oKCk9PntjbGFzcyB0e3N0YXRpYyBjcmVhdGUodCxlKXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9aaSh0LGUsIiIpOlppKHQucHJvdmlkZXJzLHQucGFyZW50LHQubmFtZXx8IiIpfX1yZXR1cm4gdC5USFJPV19JRl9OT1RfRk9VTkQ9cnIsdC5OVUxMPW5ldyBqaSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQscHJvdmlkZWRJbjoiYW55IixmYWN0b3J5OigpPT51cihCaSl9KSx0Ll9fTkdfRUxFTUVOVF9JRF9fPS0xLHR9KSgpO2Z1bmN0aW9uIEtpKHQsZSl7YW4ocXIodClbMV0sUmUoKSl9ZnVuY3Rpb24gSmkodCl7bGV0IGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQudHlwZS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yLG49ITA7Y29uc3Qgcj1bdF07Zm9yKDtlOyl7bGV0IHM7aWYoaWUodCkpcz1lLlx1MDI3NWNtcHx8ZS5cdTAyNzVkaXI7ZWxzZXtpZihlLlx1MDI3NWNtcCl0aHJvdyBuZXcgRXJyb3IoIkRpcmVjdGl2ZXMgY2Fubm90IGluaGVyaXQgQ29tcG9uZW50cyIpO3M9ZS5cdTAyNzVkaXJ9aWYocyl7aWYobil7ci5wdXNoKHMpO2NvbnN0IGU9dDtlLmlucHV0cz10byh0LmlucHV0cyksZS5kZWNsYXJlZElucHV0cz10byh0LmRlY2xhcmVkSW5wdXRzKSxlLm91dHB1dHM9dG8odC5vdXRwdXRzKTtjb25zdCBuPXMuaG9zdEJpbmRpbmdzO24mJnJvKHQsbik7Y29uc3QgaT1zLnZpZXdRdWVyeSxvPXMuY29udGVudFF1ZXJpZXM7aWYoaSYmZW8odCxpKSxvJiZubyh0LG8pLHR0KHQuaW5wdXRzLHMuaW5wdXRzKSx0dCh0LmRlY2xhcmVkSW5wdXRzLHMuZGVjbGFyZWRJbnB1dHMpLHR0KHQub3V0cHV0cyxzLm91dHB1dHMpLGllKHMpJiZzLmRhdGEuYW5pbWF0aW9uKXtjb25zdCBlPXQuZGF0YTtlLmFuaW1hdGlvbj0oZS5hbmltYXRpb258fFtdKS5jb25jYXQocy5kYXRhLmFuaW1hdGlvbil9fWNvbnN0IGU9cy5mZWF0dXJlcztpZihlKWZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBzPWVbcl07cyYmcy5uZ0luaGVyaXQmJnModCkscz09PUppJiYobj0hMSl9fWU9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfSFmdW5jdGlvbih0KXtsZXQgZT0wLG49bnVsbDtmb3IobGV0IHI9dC5sZW5ndGgtMTtyPj0wO3ItLSl7Y29uc3Qgcz10W3JdO3MuaG9zdFZhcnM9ZSs9cy5ob3N0VmFycyxzLmhvc3RBdHRycz12bihzLmhvc3RBdHRycyxuPXZuKG4scy5ob3N0QXR0cnMpKX19KHIpfWZ1bmN0aW9uIHRvKHQpe3JldHVybiB0PT09T3Q/e306dD09PVB0P1tdOnR9ZnVuY3Rpb24gZW8odCxlKXtjb25zdCBuPXQudmlld1F1ZXJ5O3Qudmlld1F1ZXJ5PW4/KHQscik9PntlKHQsciksbih0LHIpfTplfWZ1bmN0aW9uIG5vKHQsZSl7Y29uc3Qgbj10LmNvbnRlbnRRdWVyaWVzO3QuY29udGVudFF1ZXJpZXM9bj8odCxyLHMpPT57ZSh0LHIscyksbih0LHIscyl9OmV9ZnVuY3Rpb24gcm8odCxlKXtjb25zdCBuPXQuaG9zdEJpbmRpbmdzO3QuaG9zdEJpbmRpbmdzPW4/KHQscik9PntlKHQsciksbih0LHIpfTplfWxldCBzbz1udWxsO2Z1bmN0aW9uIGlvKCl7aWYoIXNvKXtjb25zdCB0PUl0LlN5bWJvbDtpZih0JiZ0Lml0ZXJhdG9yKXNvPXQuaXRlcmF0b3I7ZWxzZXtjb25zdCB0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE1hcC5wcm90b3R5cGUpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7KytlKXtjb25zdCBuPXRbZV07ImVudHJpZXMiIT09biYmInNpemUiIT09biYmTWFwLnByb3RvdHlwZVtuXT09PU1hcC5wcm90b3R5cGUuZW50cmllcyYmKHNvPW4pfX19cmV0dXJuIHNvfWNsYXNzIG9ve2NvbnN0cnVjdG9yKHQpe3RoaXMud3JhcHBlZD10fXN0YXRpYyB3cmFwKHQpe3JldHVybiBuZXcgb28odCl9c3RhdGljIHVud3JhcCh0KXtyZXR1cm4gb28uaXNXcmFwcGVkKHQpP3Qud3JhcHBlZDp0fXN0YXRpYyBpc1dyYXBwZWQodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBvb319ZnVuY3Rpb24gYW8odCl7cmV0dXJuISFjbyh0KSYmKEFycmF5LmlzQXJyYXkodCl8fCEodCBpbnN0YW5jZW9mIE1hcCkmJmlvKClpbiB0KX1mdW5jdGlvbiBjbyh0KXtyZXR1cm4gbnVsbCE9PXQmJigiZnVuY3Rpb24iPT10eXBlb2YgdHx8Im9iamVjdCI9PXR5cGVvZiB0KX1mdW5jdGlvbiBsbyh0LGUsbil7cmV0dXJuIU9iamVjdC5pcyh0W2VdLG4pJiYodFtlXT1uLCEwKX1mdW5jdGlvbiB1byh0LGUsbixyKXtjb25zdCBzPUllKCk7cmV0dXJuIGxvKHMsemUoKSxlKSYmKE9lKCksZnVuY3Rpb24odCxlLG4scixzLGkpe2NvbnN0IG89Q2UodCxlKTshZnVuY3Rpb24odCxlLG4scixzLGksbyl7aWYobnVsbD09aSltZSh0KT90LnJlbW92ZUF0dHJpYnV0ZShlLHMsbik6ZS5yZW1vdmVBdHRyaWJ1dGUocyk7ZWxzZXtjb25zdCBhPW51bGw9PW8/Y3QoaSk6byhpLHJ8fCIiLHMpO21lKHQpP3Quc2V0QXR0cmlidXRlKGUscyxhLG4pOm4/ZS5zZXRBdHRyaWJ1dGVOUyhuLHMsYSk6ZS5zZXRBdHRyaWJ1dGUocyxhKX19KGVbMTFdLG8saSx0LnZhbHVlLG4scixzKX0oc24oKSxzLHQsZSxuLHIpKSx1b31mdW5jdGlvbiBobyh0LGUsbixyKXtyZXR1cm4gbG8odCx6ZSgpLG4pP2UrY3QobikrcjpWc31mdW5jdGlvbiBwbyh0LGUsbixyLHMsaSxvLGEpe2NvbnN0IGM9SWUoKSxsPU9lKCksdT10K0t0LGg9bC5maXJzdENyZWF0ZVBhc3M/ZnVuY3Rpb24odCxlLG4scixzLGksbyxhLGMpe2NvbnN0IGw9ZS5jb25zdHMsdT1LcyhlLHQsNCxvfHxudWxsLHhlKGwsYSkpO2hpKGUsbix1LHhlKGwsYykpLGFuKGUsdSk7Y29uc3QgaD11LnRWaWV3cz1jaSgyLHUscixzLGksZS5kaXJlY3RpdmVSZWdpc3RyeSxlLnBpcGVSZWdpc3RyeSxudWxsLGUuc2NoZW1hcyxsKTtyZXR1cm4gbnVsbCE9PWUucXVlcmllcyYmKGUucXVlcmllcy50ZW1wbGF0ZShlLHUpLGgucXVlcmllcz1lLnF1ZXJpZXMuZW1iZWRkZWRUVmlldyh1KSksdX0odSxsLGMsZSxuLHIscyxpLG8pOmwuZGF0YVt1XTtCZShoLCExKTtjb25zdCBkPWNbMTFdLmNyZWF0ZUNvbW1lbnQoIiIpO0NzKGwsYyxkLGgpLEdyKGQsYyksU2koYyxjW3VdPXdpKGQsYyxkLGgpKSxzZShoKSYmaWkobCxjLGgpLG51bGwhPW8mJm9pKGMsaCxhKX1mdW5jdGlvbiBmbyh0KXtyZXR1cm4gX2Uoa2UubEZyYW1lLmNvbnRleHRMVmlldyxLdCt0KX1mdW5jdGlvbiBnbyh0LGU9Q3QuRGVmYXVsdCl7Y29uc3Qgbj1JZSgpO3JldHVybiBudWxsPT09bj91cih0LGUpOlBuKFJlKCksbixpdCh0KSxlKX1mdW5jdGlvbiBtbyh0LGUsbil7Y29uc3Qgcj1JZSgpO3JldHVybiBsbyhyLHplKCksZSkmJmZ1bmN0aW9uKHQsZSxuLHIscyxpLG8sYSl7Y29uc3QgYz1DZShlLG4pO2xldCBsLHU9ZS5pbnB1dHM7dmFyIGg7bnVsbCE9dSYmKGw9dVtyXSk/KFJpKHQsbixsLHIscykscmUoZSkmJmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1EZShlLHQpOzE2Jm5bMl18fChuWzJdfD02NCl9KG4sZS5pbmRleCkpOjMmZS50eXBlJiYocj0iY2xhc3MiPT09KGg9cik/ImNsYXNzTmFtZSI6ImZvciI9PT1oPyJodG1sRm9yIjoiZm9ybWFjdGlvbiI9PT1oPyJmb3JtQWN0aW9uIjoiaW5uZXJIdG1sIj09PWg/ImlubmVySFRNTCI6InJlYWRvbmx5Ij09PWg/InJlYWRPbmx5IjoidGFiaW5kZXgiPT09aD8idGFiSW5kZXgiOmgscz1udWxsIT1vP28ocyxlLnZhbHVlfHwiIixyKTpzLG1lKGkpP2kuc2V0UHJvcGVydHkoYyxyLHMpOnluKHIpfHwoYy5zZXRQcm9wZXJ0eT9jLnNldFByb3BlcnR5KHIscyk6Y1tyXT1zKSl9KE9lKCksc24oKSxyLHQsZSxyWzExXSxuKSxtb31mdW5jdGlvbiB5byh0LGUsbixyLHMpe2NvbnN0IGk9cz8iY2xhc3MiOiJzdHlsZSI7UmkodCxuLGUuaW5wdXRzW2ldLGkscil9ZnVuY3Rpb24gdm8odCxlLG4scil7Y29uc3Qgcz1JZSgpLGk9T2UoKSxvPUt0K3QsYT1zWzExXSxjPXNbb109Y3MoYSxlLGtlLmxGcmFtZS5jdXJyZW50TmFtZXNwYWNlKSxsPWkuZmlyc3RDcmVhdGVQYXNzP2Z1bmN0aW9uKHQsZSxuLHIscyxpLG8pe2NvbnN0IGE9ZS5jb25zdHMsYz1LcyhlLHQsMixzLHhlKGEsaSkpO3JldHVybiBoaShlLG4sYyx4ZShhLG8pKSxudWxsIT09Yy5hdHRycyYmTGkoYyxjLmF0dHJzLCExKSxudWxsIT09Yy5tZXJnZWRBdHRycyYmTGkoYyxjLm1lcmdlZEF0dHJzLCEwKSxudWxsIT09ZS5xdWVyaWVzJiZlLnF1ZXJpZXMuZWxlbWVudFN0YXJ0KGUsYyksY30obyxpLHMsMCxlLG4scik6aS5kYXRhW29dO0JlKGwsITApO2NvbnN0IHU9bC5tZXJnZWRBdHRycztudWxsIT09dSYmZ24oYSxjLHUpO2NvbnN0IGg9bC5jbGFzc2VzO251bGwhPT1oJiZUcyhhLGMsaCk7Y29uc3QgZD1sLnN0eWxlcztudWxsIT09ZCYmQXMoYSxjLGQpLDY0IT0oNjQmbC5mbGFncykmJkNzKGkscyxjLGwpLDA9PT1rZS5sRnJhbWUuZWxlbWVudERlcHRoQ291bnQmJkdyKGMscyksa2UubEZyYW1lLmVsZW1lbnREZXB0aENvdW50Kyssc2UobCkmJihpaShpLHMsbCksc2koaSxsLHMpKSxudWxsIT09ciYmb2kocyxsKX1mdW5jdGlvbiBibygpe2xldCB0PVJlKCk7amUoKT9NZSgpOih0PXQucGFyZW50LEJlKHQsITEpKTtjb25zdCBlPXQ7a2UubEZyYW1lLmVsZW1lbnREZXB0aENvdW50LS07Y29uc3Qgbj1PZSgpO24uZmlyc3RDcmVhdGVQYXNzJiYoYW4obix0KSxuZSh0KSYmbi5xdWVyaWVzLmVsZW1lbnRFbmQodCkpLG51bGwhPWUuY2xhc3Nlc1dpdGhvdXRIb3N0JiZmdW5jdGlvbih0KXtyZXR1cm4gMCE9KDE2JnQuZmxhZ3MpfShlKSYmeW8obixlLEllKCksZS5jbGFzc2VzV2l0aG91dEhvc3QsITApLG51bGwhPWUuc3R5bGVzV2l0aG91dEhvc3QmJmZ1bmN0aW9uKHQpe3JldHVybiAwIT0oMzImdC5mbGFncyl9KGUpJiZ5byhuLGUsSWUoKSxlLnN0eWxlc1dpdGhvdXRIb3N0LCExKX1mdW5jdGlvbiBDbyh0LGUsbixyKXt2byh0LGUsbixyKSxibygpfWZ1bmN0aW9uIHdvKHQsZSxuKXsoZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9SWUoKSxzPU9lKCksaT10K0t0LG89cy5maXJzdENyZWF0ZVBhc3M/ZnVuY3Rpb24odCxlLG4scixzKXtjb25zdCBpPWUuY29uc3RzLG89eGUoaSxyKSxhPUtzKGUsdCw4LCJuZy1jb250YWluZXIiLG8pO3JldHVybiBudWxsIT09byYmTGkoYSxvLCEwKSxoaShlLG4sYSx4ZShpLHMpKSxudWxsIT09ZS5xdWVyaWVzJiZlLnF1ZXJpZXMuZWxlbWVudFN0YXJ0KGUsYSksYX0oaSxzLHIsZSxuKTpzLmRhdGFbaV07QmUobywhMCk7Y29uc3QgYT1yW2ldPXJbMTFdLmNyZWF0ZUNvbW1lbnQoIiIpO0NzKHMscixhLG8pLEdyKGEsciksc2UobykmJihpaShzLHIsbyksc2kocyxvLHIpKSxudWxsIT1uJiZvaShyLG8pfSkodCxlLG4pLGZ1bmN0aW9uKCl7bGV0IHQ9UmUoKTtjb25zdCBlPU9lKCk7amUoKT9NZSgpOih0PXQucGFyZW50LEJlKHQsITEpKSxlLmZpcnN0Q3JlYXRlUGFzcyYmKGFuKGUsdCksbmUodCkmJmUucXVlcmllcy5lbGVtZW50RW5kKHQpKX0oKX1mdW5jdGlvbiBfbygpe3JldHVybiBJZSgpfWZ1bmN0aW9uIERvKHQpe3JldHVybiEhdCYmImZ1bmN0aW9uIj09dHlwZW9mIHQudGhlbn1mdW5jdGlvbiBFbyh0KXtyZXR1cm4hIXQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LnN1YnNjcmliZX1jb25zdCBTbz1FbztmdW5jdGlvbiB4byh0LGUsbixyKXtjb25zdCBzPUllKCksaT1PZSgpLG89UmUoKTtyZXR1cm4gZnVuY3Rpb24odCxlLG4scixzLGksbyxhKXtjb25zdCBjPXNlKHIpLGw9dC5maXJzdENyZWF0ZVBhc3MmJk9pKHQpLHU9SWkoZSk7bGV0IGg9ITA7aWYoMyZyLnR5cGV8fGEpe2NvbnN0IGQ9Q2UocixlKSxwPWE/YShkKTpkLGY9dS5sZW5ndGgsZz1hP3Q9PmEodmUodFtyLmluZGV4XSkpOnIuaW5kZXg7aWYobWUobikpe2xldCBvPW51bGw7aWYoIWEmJmMmJihvPWZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9dC5jbGVhbnVwO2lmKG51bGwhPXMpZm9yKGxldCBpPTA7aTxzLmxlbmd0aC0xO2krPTIpe2NvbnN0IHQ9c1tpXTtpZih0PT09biYmc1tpKzFdPT09cil7Y29uc3QgdD1lWzddLG49c1tpKzJdO3JldHVybiB0Lmxlbmd0aD5uP3Rbbl06bnVsbH0ic3RyaW5nIj09dHlwZW9mIHQmJihpKz0yKX1yZXR1cm4gbnVsbH0odCxlLHMsci5pbmRleCkpLG51bGwhPT1vKShvLl9fbmdMYXN0TGlzdGVuZXJGbl9ffHxvKS5fX25nTmV4dExpc3RlbmVyRm5fXz1pLG8uX19uZ0xhc3RMaXN0ZW5lckZuX189aSxoPSExO2Vsc2V7aT1UbyhyLGUsMCxpLCExKTtjb25zdCB0PW4ubGlzdGVuKHAscyxpKTt1LnB1c2goaSx0KSxsJiZsLnB1c2gocyxnLGYsZisxKX19ZWxzZSBpPVRvKHIsZSwwLGksITApLHAuYWRkRXZlbnRMaXN0ZW5lcihzLGksbyksdS5wdXNoKGkpLGwmJmwucHVzaChzLGcsZixvKX1lbHNlIGk9VG8ocixlLDAsaSwhMSk7Y29uc3QgZD1yLm91dHB1dHM7bGV0IHA7aWYoaCYmbnVsbCE9PWQmJihwPWRbc10pKXtjb25zdCB0PXAubGVuZ3RoO2lmKHQpZm9yKGxldCBuPTA7bjx0O24rPTIpe2NvbnN0IHQ9ZVtwW25dXVtwW24rMV1dLnN1YnNjcmliZShpKSxvPXUubGVuZ3RoO3UucHVzaChpLHQpLGwmJmwucHVzaChzLHIuaW5kZXgsbywtKG8rMSkpfX19KGkscyxzWzExXSxvLHQsZSwhIW4scikseG99ZnVuY3Rpb24gQW8odCxlLG4scil7dHJ5e3JldHVybiExIT09bihyKX1jYXRjaChzKXtyZXR1cm4gUGkodCxzKSwhMX19ZnVuY3Rpb24gVG8odCxlLG4scixzKXtyZXR1cm4gZnVuY3Rpb24gbihpKXtpZihpPT09RnVuY3Rpb24pcmV0dXJuIHI7Y29uc3Qgbz0yJnQuZmxhZ3M/RGUodC5pbmRleCxlKTplOzA9PSgzMiZlWzJdKSYmeGkobyk7bGV0IGE9QW8oZSwwLHIsaSksYz1uLl9fbmdOZXh0TGlzdGVuZXJGbl9fO2Zvcig7YzspYT1BbyhlLDAsYyxpKSYmYSxjPWMuX19uZ05leHRMaXN0ZW5lckZuX187cmV0dXJuIHMmJiExPT09YSYmKGkucHJldmVudERlZmF1bHQoKSxpLnJldHVyblZhbHVlPSExKSxhfX1mdW5jdGlvbiBrbyh0PTEpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4oa2UubEZyYW1lLmNvbnRleHRMVmlldz1mdW5jdGlvbih0LGUpe2Zvcig7dD4wOyllPWVbMTVdLHQtLTtyZXR1cm4gZX0odCxrZS5sRnJhbWUuY29udGV4dExWaWV3KSlbOF19KHQpfWZ1bmN0aW9uIEZvKHQsZSl7bGV0IG49bnVsbDtjb25zdCByPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5hdHRycztpZihudWxsIT1lKXtjb25zdCB0PWUuaW5kZXhPZig1KTtpZigwPT0oMSZ0KSlyZXR1cm4gZVt0KzFdfXJldHVybiBudWxsfSh0KTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7Y29uc3QgaT1lW3NdO2lmKCIqIiE9PWkpe2lmKG51bGw9PT1yP2pzKHQsaSwhMCk6TXMocixpKSlyZXR1cm4gc31lbHNlIG49c31yZXR1cm4gbn1mdW5jdGlvbiBJbyh0KXtjb25zdCBlPUllKClbMTZdWzZdO2lmKCFlLnByb2plY3Rpb24pe2NvbnN0IG49ZS5wcm9qZWN0aW9uPUpuKHQ/dC5sZW5ndGg6MSxudWxsKSxyPW4uc2xpY2UoKTtsZXQgcz1lLmNoaWxkO2Zvcig7bnVsbCE9PXM7KXtjb25zdCBlPXQ/Rm8ocyx0KTowO251bGwhPT1lJiYocltlXT9yW2VdLnByb2plY3Rpb25OZXh0PXM6bltlXT1zLHJbZV09cykscz1zLm5leHR9fX1mdW5jdGlvbiBPbyh0LGU9MCxuKXtjb25zdCByPUllKCkscz1PZSgpLGk9S3MocyxLdCt0LDE2LG51bGwsbnx8bnVsbCk7bnVsbD09PWkucHJvamVjdGlvbiYmKGkucHJvamVjdGlvbj1lKSxNZSgpLDY0IT0oNjQmaS5mbGFncykmJmZ1bmN0aW9uKHQsZSxuKXt4cyhlWzExXSwwLGUsbixwcyh0LG4sZSksdnMobi5wYXJlbnR8fGVbNl0sbixlKSl9KHMscixpKX1mdW5jdGlvbiBQbyh0LGUsbixyLHMpe2NvbnN0IGk9dFtuKzFdLG89bnVsbD09PWU7bGV0IGE9cj9XcyhpKTpxcyhpKSxjPSExO2Zvcig7MCE9PWEmJighMT09PWN8fG8pOyl7Y29uc3Qgbj10W2ErMV07Um8odFthXSxlKSYmKGM9ITAsdFthKzFdPXI/WXMobik6R3MobikpLGE9cj9XcyhuKTpxcyhuKX1jJiYodFtuKzFdPXI/R3MoaSk6WXMoaSkpfWZ1bmN0aW9uIFJvKHQsZSl7cmV0dXJuIG51bGw9PT10fHxudWxsPT1lfHwoQXJyYXkuaXNBcnJheSh0KT90WzFdOnQpPT09ZXx8ISghQXJyYXkuaXNBcnJheSh0KXx8InN0cmluZyIhPXR5cGVvZiBlKSYmbnIodCxlKT49MH1jb25zdCBMbz17dGV4dEVuZDowLGtleTowLGtleUVuZDowLHZhbHVlOjAsdmFsdWVFbmQ6MH07ZnVuY3Rpb24gQm8odCl7cmV0dXJuIHQuc3Vic3RyaW5nKExvLmtleSxMby5rZXlFbmQpfWZ1bmN0aW9uIGpvKHQsZSl7Y29uc3Qgbj1Mby50ZXh0RW5kO3JldHVybiBuPT09ZT8tMTooZT1Mby5rZXlFbmQ9ZnVuY3Rpb24odCxlLG4pe2Zvcig7ZTxuJiZ0LmNoYXJDb2RlQXQoZSk+MzI7KWUrKztyZXR1cm4gZX0odCxMby5rZXk9ZSxuKSxNbyh0LGUsbikpfWZ1bmN0aW9uIE1vKHQsZSxuKXtmb3IoO2U8biYmdC5jaGFyQ29kZUF0KGUpPD0zMjspZSsrO3JldHVybiBlfWZ1bmN0aW9uIE5vKHQsZSxuKXtyZXR1cm4gJG8odCxlLG4sITEpLE5vfWZ1bmN0aW9uIEhvKHQsZSl7cmV0dXJuICRvKHQsZSxudWxsLCEwKSxIb31mdW5jdGlvbiBWbyh0KXtVbyh0cix6byx0LCEwKX1mdW5jdGlvbiB6byh0LGUpe2ZvcihsZXQgbj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7TG8ua2V5PTAsTG8ua2V5RW5kPTAsTG8udmFsdWU9MCxMby52YWx1ZUVuZD0wLExvLnRleHRFbmQ9dC5sZW5ndGh9KHQpLGpvKHQsTW8odCwwLExvLnRleHRFbmQpKX0oZSk7bj49MDtuPWpvKGUsbikpdHIodCxCbyhlKSwhMCl9ZnVuY3Rpb24gJG8odCxlLG4scil7Y29uc3Qgcz1JZSgpLGk9T2UoKSxvPSRlKDIpO2kuZmlyc3RVcGRhdGVQYXNzJiZHbyhpLHQsbyxyKSxlIT09VnMmJmxvKHMsbyxlKSYmWW8oaSxpLmRhdGFbbm4oKV0scyxzWzExXSx0LHNbbysxXT1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10fHwoInN0cmluZyI9PXR5cGVvZiBlP3QrPWU6Im9iamVjdCI9PXR5cGVvZiB0JiYodD1ldCh3cih0KSkpKSx0fShlLG4pLHIsbyl9ZnVuY3Rpb24gVW8odCxlLG4scil7Y29uc3Qgcz1PZSgpLGk9JGUoMik7cy5maXJzdFVwZGF0ZVBhc3MmJkdvKHMsbnVsbCxpLHIpO2NvbnN0IG89SWUoKTtpZihuIT09VnMmJmxvKG8saSxuKSl7Y29uc3QgYT1zLmRhdGFbbm4oKV07aWYoS28oYSxyKSYmIVdvKHMsaSkpe2xldCB0PXI/YS5jbGFzc2VzV2l0aG91dEhvc3Q6YS5zdHlsZXNXaXRob3V0SG9zdDtudWxsIT09dCYmKG49bnQodCxufHwiIikpLHlvKHMsYSxvLG4scil9ZWxzZSFmdW5jdGlvbih0LGUsbixyLHMsaSxvLGEpe3M9PT1WcyYmKHM9UHQpO2xldCBjPTAsbD0wLHU9MDxzLmxlbmd0aD9zWzBdOm51bGwsaD0wPGkubGVuZ3RoP2lbMF06bnVsbDtmb3IoO251bGwhPT11fHxudWxsIT09aDspe2NvbnN0IGQ9YzxzLmxlbmd0aD9zW2MrMV06dm9pZCAwLHA9bDxpLmxlbmd0aD9pW2wrMV06dm9pZCAwO2xldCBmLGc9bnVsbDt1PT09aD8oYys9MixsKz0yLGQhPT1wJiYoZz1oLGY9cCkpOm51bGw9PT1ofHxudWxsIT09dSYmdTxoPyhjKz0yLGc9dSk6KGwrPTIsZz1oLGY9cCksbnVsbCE9PWcmJllvKHQsZSxuLHIsZyxmLG8sYSksdT1jPHMubGVuZ3RoP3NbY106bnVsbCxoPWw8aS5sZW5ndGg/aVtsXTpudWxsfX0ocyxhLG8sb1sxMV0sb1tpKzFdLG9baSsxXT1mdW5jdGlvbih0LGUsbil7aWYobnVsbD09bnx8IiI9PT1uKXJldHVybiBQdDtjb25zdCByPVtdLHM9d3Iobik7aWYoQXJyYXkuaXNBcnJheShzKSlmb3IobGV0IGk9MDtpPHMubGVuZ3RoO2krKyl0KHIsc1tpXSwhMCk7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIHMpZm9yKGNvbnN0IGkgaW4gcylzLmhhc093blByb3BlcnR5KGkpJiZ0KHIsaSxzW2ldKTtlbHNlInN0cmluZyI9PXR5cGVvZiBzJiZlKHIscyk7cmV0dXJuIHJ9KHQsZSxuKSxyLGkpfX1mdW5jdGlvbiBXbyh0LGUpe3JldHVybiBlPj10LmV4cGFuZG9TdGFydEluZGV4fWZ1bmN0aW9uIEdvKHQsZSxuLHIpe2NvbnN0IHM9dC5kYXRhO2lmKG51bGw9PT1zW24rMV0pe2NvbnN0IGk9c1tubigpXSxvPVdvKHQsbik7S28oaSxyKSYmbnVsbD09PWUmJiFvJiYoZT0hMSksZT1mdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPWZ1bmN0aW9uKHQpe2NvbnN0IGU9a2UubEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleDtyZXR1cm4tMT09PWU/bnVsbDp0W2VdfSh0KTtsZXQgaT1yP2UucmVzaWR1YWxDbGFzc2VzOmUucmVzaWR1YWxTdHlsZXM7aWYobnVsbD09PXMpMD09PShyP2UuY2xhc3NCaW5kaW5nczplLnN0eWxlQmluZGluZ3MpJiYobj1YbyhuPXFvKG51bGwsdCxlLG4sciksZS5hdHRycyxyKSxpPW51bGwpO2Vsc2V7Y29uc3Qgbz1lLmRpcmVjdGl2ZVN0eWxpbmdMYXN0O2lmKC0xPT09b3x8dFtvXSE9PXMpaWYobj1xbyhzLHQsZSxuLHIpLG51bGw9PT1pKXtsZXQgbj1mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1uP2UuY2xhc3NCaW5kaW5nczplLnN0eWxlQmluZGluZ3M7aWYoMCE9PXFzKHIpKXJldHVybiB0W1dzKHIpXX0odCxlLHIpO3ZvaWQgMCE9PW4mJkFycmF5LmlzQXJyYXkobikmJihuPXFvKG51bGwsdCxlLG5bMV0sciksbj1YbyhuLGUuYXR0cnMsciksZnVuY3Rpb24odCxlLG4scil7dFtXcyhuP2UuY2xhc3NCaW5kaW5nczplLnN0eWxlQmluZGluZ3MpXT1yfSh0LGUscixuKSl9ZWxzZSBpPWZ1bmN0aW9uKHQsZSxuKXtsZXQgcjtjb25zdCBzPWUuZGlyZWN0aXZlRW5kO2ZvcihsZXQgaT0xK2UuZGlyZWN0aXZlU3R5bGluZ0xhc3Q7aTxzO2krKylyPVhvKHIsdFtpXS5ob3N0QXR0cnMsbik7cmV0dXJuIFhvKHIsZS5hdHRycyxuKX0odCxlLHIpfXJldHVybiB2b2lkIDAhPT1pJiYocj9lLnJlc2lkdWFsQ2xhc3Nlcz1pOmUucmVzaWR1YWxTdHlsZXM9aSksbn0ocyxpLGUsciksZnVuY3Rpb24odCxlLG4scixzLGkpe2xldCBvPWk/ZS5jbGFzc0JpbmRpbmdzOmUuc3R5bGVCaW5kaW5ncyxhPVdzKG8pLGM9cXMobyk7dFtyXT1uO2xldCBsLHU9ITE7aWYoQXJyYXkuaXNBcnJheShuKSl7Y29uc3QgdD1uO2w9dFsxXSwobnVsbD09PWx8fG5yKHQsbCk+MCkmJih1PSEwKX1lbHNlIGw9bjtpZihzKWlmKDAhPT1jKXtjb25zdCBlPVdzKHRbYSsxXSk7dFtyKzFdPVVzKGUsYSksMCE9PWUmJih0W2UrMV09WHModFtlKzFdLHIpKSx0W2ErMV09MTMxMDcxJnRbYSsxXXxyPDwxN31lbHNlIHRbcisxXT1VcyhhLDApLDAhPT1hJiYodFthKzFdPVhzKHRbYSsxXSxyKSksYT1yO2Vsc2UgdFtyKzFdPVVzKGMsMCksMD09PWE/YT1yOnRbYysxXT1Ycyh0W2MrMV0sciksYz1yO3UmJih0W3IrMV09R3ModFtyKzFdKSksUG8odCxsLHIsITApLFBvKHQsbCxyLCExKSxmdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9cz90LnJlc2lkdWFsQ2xhc3Nlczp0LnJlc2lkdWFsU3R5bGVzO251bGwhPWkmJiJzdHJpbmciPT10eXBlb2YgZSYmbnIoaSxlKT49MCYmKG5bcisxXT1ZcyhuW3IrMV0pKX0oZSxsLHQscixpKSxvPVVzKGEsYyksaT9lLmNsYXNzQmluZGluZ3M9bzplLnN0eWxlQmluZGluZ3M9b30ocyxpLGUsbixvLHIpfX1mdW5jdGlvbiBxbyh0LGUsbixyLHMpe2xldCBpPW51bGw7Y29uc3Qgbz1uLmRpcmVjdGl2ZUVuZDtsZXQgYT1uLmRpcmVjdGl2ZVN0eWxpbmdMYXN0O2ZvcigtMT09PWE/YT1uLmRpcmVjdGl2ZVN0YXJ0OmErKzthPG8mJihpPWVbYV0scj1YbyhyLGkuaG9zdEF0dHJzLHMpLGkhPT10KTspYSsrO3JldHVybiBudWxsIT09dCYmKG4uZGlyZWN0aXZlU3R5bGluZ0xhc3Q9YSkscn1mdW5jdGlvbiBYbyh0LGUsbil7Y29uc3Qgcj1uPzE6MjtsZXQgcz0tMTtpZihudWxsIT09ZSlmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbz1lW2ldOyJudW1iZXIiPT10eXBlb2Ygbz9zPW86cz09PXImJihBcnJheS5pc0FycmF5KHQpfHwodD12b2lkIDA9PT10P1tdOlsiIix0XSksdHIodCxvLCEhbnx8ZVsrK2ldKSl9cmV0dXJuIHZvaWQgMD09PXQ/bnVsbDp0fWZ1bmN0aW9uIFlvKHQsZSxuLHIscyxpLG8sYSl7aWYoISgzJmUudHlwZSkpcmV0dXJuO2NvbnN0IGM9dC5kYXRhLGw9Y1thKzFdO1FvKDE9PSgxJmwpP1pvKGMsZSxuLHMscXMobCksbyk6dm9pZCAwKXx8KFFvKGkpfHwyPT0oMiZsKSYmKGk9Wm8oYyxudWxsLG4scyxhLG8pKSxmdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9bWUodCk7aWYoZSlzP2k/dC5hZGRDbGFzcyhuLHIpOm4uY2xhc3NMaXN0LmFkZChyKTppP3QucmVtb3ZlQ2xhc3MobixyKTpuLmNsYXNzTGlzdC5yZW1vdmUocik7ZWxzZXtsZXQgZT0tMT09PXIuaW5kZXhPZigiLSIpP3ZvaWQgMDplcy5EYXNoQ2FzZTtpZihudWxsPT1zKWk/dC5yZW1vdmVTdHlsZShuLHIsZSk6bi5zdHlsZS5yZW1vdmVQcm9wZXJ0eShyKTtlbHNle2NvbnN0IG89InN0cmluZyI9PXR5cGVvZiBzJiZzLmVuZHNXaXRoKCIhaW1wb3J0YW50Iik7byYmKHM9cy5zbGljZSgwLC0xMCksZXw9ZXMuSW1wb3J0YW50KSxpP3Quc2V0U3R5bGUobixyLHMsZSk6bi5zdHlsZS5zZXRQcm9wZXJ0eShyLHMsbz8iaW1wb3J0YW50IjoiIil9fX0ocixvLGJlKG5uKCksbikscyxpKSl9ZnVuY3Rpb24gWm8odCxlLG4scixzLGkpe2NvbnN0IG89bnVsbD09PWU7bGV0IGE7Zm9yKDtzPjA7KXtjb25zdCBlPXRbc10saT1BcnJheS5pc0FycmF5KGUpLGM9aT9lWzFdOmUsbD1udWxsPT09YztsZXQgdT1uW3MrMV07dT09PVZzJiYodT1sP1B0OnZvaWQgMCk7bGV0IGg9bD9lcih1LHIpOmM9PT1yP3U6dm9pZCAwO2lmKGkmJiFRbyhoKSYmKGg9ZXIoZSxyKSksUW8oaCkmJihhPWgsbykpcmV0dXJuIGE7Y29uc3QgZD10W3MrMV07cz1vP1dzKGQpOnFzKGQpfWlmKG51bGwhPT1lKXtsZXQgdD1pP2UucmVzaWR1YWxDbGFzc2VzOmUucmVzaWR1YWxTdHlsZXM7bnVsbCE9dCYmKGE9ZXIodCxyKSl9cmV0dXJuIGF9ZnVuY3Rpb24gUW8odCl7cmV0dXJuIHZvaWQgMCE9PXR9ZnVuY3Rpb24gS28odCxlKXtyZXR1cm4gMCE9KHQuZmxhZ3MmKGU/MTY6MzIpKX1mdW5jdGlvbiBKbyh0LGU9IiIpe2NvbnN0IG49SWUoKSxyPU9lKCkscz10K0t0LGk9ci5maXJzdENyZWF0ZVBhc3M/S3MocixzLDEsZSxudWxsKTpyLmRhdGFbc10sbz1uW3NdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG1lKHQpP3QuY3JlYXRlVGV4dChlKTp0LmNyZWF0ZVRleHROb2RlKGUpfShuWzExXSxlKTtDcyhyLG4sbyxpKSxCZShpLCExKX1mdW5jdGlvbiB0YSh0KXtyZXR1cm4gZWEoIiIsdCwiIiksdGF9ZnVuY3Rpb24gZWEodCxlLG4pe2NvbnN0IHI9SWUoKSxzPWhvKHIsdCxlLG4pO3JldHVybiBzIT09VnMmJmZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPWJlKGUsdCk7IWZ1bmN0aW9uKHQsZSxuKXttZSh0KT90LnNldFZhbHVlKGUsbik6ZS50ZXh0Q29udGVudD1ufSh0WzExXSxyLG4pfShyLG5uKCkscyksZWF9ZnVuY3Rpb24gbmEodCxlLG4pe1VvKHRyLHpvLGhvKEllKCksdCxlLG4pLCEwKX1jb25zdCByYT12b2lkIDA7dmFyIHNhPVsiZW4iLFtbImEiLCJwIl0sWyJBTSIsIlBNIl0scmFdLFtbIkFNIiwiUE0iXSxyYSxyYV0sW1siUyIsIk0iLCJUIiwiVyIsIlQiLCJGIiwiUyJdLFsiU3VuIiwiTW9uIiwiVHVlIiwiV2VkIiwiVGh1IiwiRnJpIiwiU2F0Il0sWyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLFsiU3UiLCJNbyIsIlR1IiwiV2UiLCJUaCIsIkZyIiwiU2EiXV0scmEsW1siSiIsIkYiLCJNIiwiQSIsIk0iLCJKIiwiSiIsIkEiLCJTIiwiTyIsIk4iLCJEIl0sWyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXSxbIkphbnVhcnkiLCJGZWJydWFyeSIsIk1hcmNoIiwiQXByaWwiLCJNYXkiLCJKdW5lIiwiSnVseSIsIkF1Z3VzdCIsIlNlcHRlbWJlciIsIk9jdG9iZXIiLCJOb3ZlbWJlciIsIkRlY2VtYmVyIl1dLHJhLFtbIkIiLCJBIl0sWyJCQyIsIkFEIl0sWyJCZWZvcmUgQ2hyaXN0IiwiQW5ubyBEb21pbmkiXV0sMCxbNiwwXSxbIk0vZC95eSIsIk1NTSBkLCB5IiwiTU1NTSBkLCB5IiwiRUVFRSwgTU1NTSBkLCB5Il0sWyJoOm1tIGEiLCJoOm1tOnNzIGEiLCJoOm1tOnNzIGEgeiIsImg6bW06c3MgYSB6enp6Il0sWyJ7MX0sIHswfSIscmEsInsxfSAnYXQnIHswfSIscmFdLFsiLiIsIiwiLCI7IiwiJSIsIisiLCItIiwiRSIsIlx4ZDciLCJcdTIwMzAiLCJcdTIyMWUiLCJOYU4iLCI6Il0sWyIjLCMjMC4jIyMiLCIjLCMjMCUiLCJceGE0IywjIzAuMDAiLCIjRTAiXSwiVVNEIiwiJCIsIlVTIERvbGxhciIse30sImx0ciIsZnVuY3Rpb24odCl7bGV0IGU9TWF0aC5mbG9vcihNYXRoLmFicyh0KSksbj10LnRvU3RyaW5nKCkucmVwbGFjZSgvXlteLl0qXC4/LywiIikubGVuZ3RoO3JldHVybiAxPT09ZSYmMD09PW4/MTo1fV07bGV0IGlhPXt9O2Z1bmN0aW9uIG9hKHQpe2NvbnN0IGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csIi0iKX0odCk7bGV0IG49YWEoZSk7aWYobilyZXR1cm4gbjtjb25zdCByPWUuc3BsaXQoIi0iKVswXTtpZihuPWFhKHIpLG4pcmV0dXJuIG47aWYoImVuIj09PXIpcmV0dXJuIHNhO3Rocm93IG5ldyBFcnJvcihgTWlzc2luZyBsb2NhbGUgZGF0YSBmb3IgdGhlIGxvY2FsZSAiJHt0fSIuYCl9ZnVuY3Rpb24gYWEodCl7cmV0dXJuIHQgaW4gaWF8fChpYVt0XT1JdC5uZyYmSXQubmcuY29tbW9uJiZJdC5uZy5jb21tb24ubG9jYWxlcyYmSXQubmcuY29tbW9uLmxvY2FsZXNbdF0pLGlhW3RdfXZhciBjYT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkxvY2FsZUlkPTBdPSJMb2NhbGVJZCIsdFt0LkRheVBlcmlvZHNGb3JtYXQ9MV09IkRheVBlcmlvZHNGb3JtYXQiLHRbdC5EYXlQZXJpb2RzU3RhbmRhbG9uZT0yXT0iRGF5UGVyaW9kc1N0YW5kYWxvbmUiLHRbdC5EYXlzRm9ybWF0PTNdPSJEYXlzRm9ybWF0Iix0W3QuRGF5c1N0YW5kYWxvbmU9NF09IkRheXNTdGFuZGFsb25lIix0W3QuTW9udGhzRm9ybWF0PTVdPSJNb250aHNGb3JtYXQiLHRbdC5Nb250aHNTdGFuZGFsb25lPTZdPSJNb250aHNTdGFuZGFsb25lIix0W3QuRXJhcz03XT0iRXJhcyIsdFt0LkZpcnN0RGF5T2ZXZWVrPThdPSJGaXJzdERheU9mV2VlayIsdFt0LldlZWtlbmRSYW5nZT05XT0iV2Vla2VuZFJhbmdlIix0W3QuRGF0ZUZvcm1hdD0xMF09IkRhdGVGb3JtYXQiLHRbdC5UaW1lRm9ybWF0PTExXT0iVGltZUZvcm1hdCIsdFt0LkRhdGVUaW1lRm9ybWF0PTEyXT0iRGF0ZVRpbWVGb3JtYXQiLHRbdC5OdW1iZXJTeW1ib2xzPTEzXT0iTnVtYmVyU3ltYm9scyIsdFt0Lk51bWJlckZvcm1hdHM9MTRdPSJOdW1iZXJGb3JtYXRzIix0W3QuQ3VycmVuY3lDb2RlPTE1XT0iQ3VycmVuY3lDb2RlIix0W3QuQ3VycmVuY3lTeW1ib2w9MTZdPSJDdXJyZW5jeVN5bWJvbCIsdFt0LkN1cnJlbmN5TmFtZT0xN109IkN1cnJlbmN5TmFtZSIsdFt0LkN1cnJlbmNpZXM9MThdPSJDdXJyZW5jaWVzIix0W3QuRGlyZWN0aW9uYWxpdHk9MTldPSJEaXJlY3Rpb25hbGl0eSIsdFt0LlBsdXJhbENhc2U9MjBdPSJQbHVyYWxDYXNlIix0W3QuRXh0cmFEYXRhPTIxXT0iRXh0cmFEYXRhIix0fSh7fSk7Y29uc3QgbGE9ImVuLVVTIjtsZXQgdWE9bGE7ZnVuY3Rpb24gaGEodCl7dmFyIGUsbjtuPSJFeHBlY3RlZCBsb2NhbGVJZCB0byBiZSBkZWZpbmVkIixudWxsPT0oZT10KSYmZnVuY3Rpb24odCxlLG4scil7dGhyb3cgbmV3IEVycm9yKGBBU1NFUlRJT04gRVJST1I6ICR7dH0gW0V4cGVjdGVkPT4gbnVsbCAhPSAke2V9IDw9QWN0dWFsXWApfShuLGUpLCJzdHJpbmciPT10eXBlb2YgdCYmKHVhPXQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csIi0iKSl9ZnVuY3Rpb24gZGEodCxlLG4scixzKXtpZih0PWl0KHQpLEFycmF5LmlzQXJyYXkodCkpZm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspZGEodFtpXSxlLG4scixzKTtlbHNle2NvbnN0IGk9T2UoKSxvPUllKCk7bGV0IGE9WWkodCk/dDppdCh0LnByb3ZpZGUpLGM9R2kodCk7Y29uc3QgbD1SZSgpLHU9MTA0ODU3NSZsLnByb3ZpZGVySW5kZXhlcyxoPWwuZGlyZWN0aXZlU3RhcnQsZD1sLnByb3ZpZGVySW5kZXhlcz4+MjA7aWYoWWkodCl8fCF0Lm11bHRpKXtjb25zdCByPW5ldyBmbihjLHMsZ28pLHA9Z2EoYSxlLHM/dTp1K2QsaCk7LTE9PT1wPyhGbih4bihsLG8pLGksYSkscGEoaSx0LGUubGVuZ3RoKSxlLnB1c2goYSksbC5kaXJlY3RpdmVTdGFydCsrLGwuZGlyZWN0aXZlRW5kKysscyYmKGwucHJvdmlkZXJJbmRleGVzKz0xMDQ4NTc2KSxuLnB1c2gociksby5wdXNoKHIpKToobltwXT1yLG9bcF09cil9ZWxzZXtjb25zdCBwPWdhKGEsZSx1K2QsaCksZj1nYShhLGUsdSx1K2QpLGc9cD49MCYmbltwXSxtPWY+PTAmJm5bZl07aWYocyYmIW18fCFzJiYhZyl7Rm4oeG4obCxvKSxpLGEpO2NvbnN0IHU9ZnVuY3Rpb24odCxlLG4scixzKXtjb25zdCBpPW5ldyBmbih0LG4sZ28pO3JldHVybiBpLm11bHRpPVtdLGkuaW5kZXg9ZSxpLmNvbXBvbmVudFByb3ZpZGVycz0wLGZhKGkscyxyJiYhbiksaX0ocz95YTptYSxuLmxlbmd0aCxzLHIsYyk7IXMmJm0mJihuW2ZdLnByb3ZpZGVyRmFjdG9yeT11KSxwYShpLHQsZS5sZW5ndGgsMCksZS5wdXNoKGEpLGwuZGlyZWN0aXZlU3RhcnQrKyxsLmRpcmVjdGl2ZUVuZCsrLHMmJihsLnByb3ZpZGVySW5kZXhlcys9MTA0ODU3Niksbi5wdXNoKHUpLG8ucHVzaCh1KX1lbHNlIHBhKGksdCxwPi0xP3A6ZixmYShuW3M/ZjpwXSxjLCFzJiZyKSk7IXMmJnImJm0mJm5bZl0uY29tcG9uZW50UHJvdmlkZXJzKyt9fX1mdW5jdGlvbiBwYSh0LGUsbixyKXtjb25zdCBzPVlpKGUpO2lmKHN8fGUudXNlQ2xhc3Mpe2NvbnN0IGk9KGUudXNlQ2xhc3N8fGUpLnByb3RvdHlwZS5uZ09uRGVzdHJveTtpZihpKXtjb25zdCBvPXQuZGVzdHJveUhvb2tzfHwodC5kZXN0cm95SG9va3M9W10pO2lmKCFzJiZlLm11bHRpKXtjb25zdCB0PW8uaW5kZXhPZihuKTstMT09PXQ/by5wdXNoKG4sW3IsaV0pOm9bdCsxXS5wdXNoKHIsaSl9ZWxzZSBvLnB1c2gobixpKX19fWZ1bmN0aW9uIGZhKHQsZSxuKXtyZXR1cm4gbiYmdC5jb21wb25lbnRQcm92aWRlcnMrKyx0Lm11bHRpLnB1c2goZSktMX1mdW5jdGlvbiBnYSh0LGUsbixyKXtmb3IobGV0IHM9bjtzPHI7cysrKWlmKGVbc109PT10KXJldHVybiBzO3JldHVybi0xfWZ1bmN0aW9uIG1hKHQsZSxuLHIpe3JldHVybiB2YSh0aGlzLm11bHRpLFtdKX1mdW5jdGlvbiB5YSh0LGUsbixyKXtjb25zdCBzPXRoaXMubXVsdGk7bGV0IGk7aWYodGhpcy5wcm92aWRlckZhY3Rvcnkpe2NvbnN0IHQ9dGhpcy5wcm92aWRlckZhY3RvcnkuY29tcG9uZW50UHJvdmlkZXJzLGU9TW4obixuWzFdLHRoaXMucHJvdmlkZXJGYWN0b3J5LmluZGV4LHIpO2k9ZS5zbGljZSgwLHQpLHZhKHMsaSk7Zm9yKGxldCBuPXQ7bjxlLmxlbmd0aDtuKyspaS5wdXNoKGVbbl0pfWVsc2UgaT1bXSx2YShzLGkpO3JldHVybiBpfWZ1bmN0aW9uIHZhKHQsZSl7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZS5wdXNoKCgwLHRbbl0pKCkpO3JldHVybiBlfWZ1bmN0aW9uIGJhKHQsZT1bXSl7cmV0dXJuIG49PntuLnByb3ZpZGVyc1Jlc29sdmVyPShuLHIpPT5mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1PZSgpO2lmKHIuZmlyc3RDcmVhdGVQYXNzKXtjb25zdCBzPWllKHQpO2RhKG4sci5kYXRhLHIuYmx1ZXByaW50LHMsITApLGRhKGUsci5kYXRhLHIuYmx1ZXByaW50LHMsITEpfX0obixyP3IodCk6dCxlKX19Y2xhc3MgQ2F7fWNsYXNzIHdhe3Jlc29sdmVDb21wb25lbnRGYWN0b3J5KHQpe3Rocm93IGZ1bmN0aW9uKHQpe2NvbnN0IGU9RXJyb3IoYE5vIGNvbXBvbmVudCBmYWN0b3J5IGZvdW5kIGZvciAke2V0KHQpfS4gRGlkIHlvdSBhZGQgaXQgdG8gQE5nTW9kdWxlLmVudHJ5Q29tcG9uZW50cz9gKTtyZXR1cm4gZS5uZ0NvbXBvbmVudD10LGV9KHQpfX1sZXQgX2E9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuTlVMTD1uZXcgd2EsdH0pKCk7ZnVuY3Rpb24gRGEoLi4udCl7fWZ1bmN0aW9uIEVhKHQsZSl7cmV0dXJuIG5ldyB4YShDZSh0LGUpKX1jb25zdCBTYT1mdW5jdGlvbigpe3JldHVybiBFYShSZSgpLEllKCkpfTtsZXQgeGE9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLm5hdGl2ZUVsZW1lbnQ9dH19cmV0dXJuIHQuX19OR19FTEVNRU5UX0lEX189U2EsdH0pKCk7ZnVuY3Rpb24gQWEodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB4YT90Lm5hdGl2ZUVsZW1lbnQ6dH1jbGFzcyBUYXt9bGV0IGthPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Ll9fTkdfRUxFTUVOVF9JRF9fPSgpPT5GYSgpLHR9KSgpO2NvbnN0IEZhPWZ1bmN0aW9uKCl7Y29uc3QgdD1JZSgpLGU9RGUoUmUoKS5pbmRleCx0KTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHRbMTFdfSh0ZShlKT9lOnQpfTtsZXQgSWE9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxwcm92aWRlZEluOiJyb290IixmYWN0b3J5OigpPT5udWxsfSksdH0pKCk7Y2xhc3MgT2F7Y29uc3RydWN0b3IodCl7dGhpcy5mdWxsPXQsdGhpcy5tYWpvcj10LnNwbGl0KCIuIilbMF0sdGhpcy5taW5vcj10LnNwbGl0KCIuIilbMV0sdGhpcy5wYXRjaD10LnNwbGl0KCIuIikuc2xpY2UoMikuam9pbigiLiIpfX1jb25zdCBQYT1uZXcgT2EoIjEyLjAuNSIpO2NsYXNzIFJhe2NvbnN0cnVjdG9yKCl7fXN1cHBvcnRzKHQpe3JldHVybiBhbyh0KX1jcmVhdGUodCl7cmV0dXJuIG5ldyBCYSh0KX19Y29uc3QgTGE9KHQsZSk9PmU7Y2xhc3MgQmF7Y29uc3RydWN0b3IodCl7dGhpcy5sZW5ndGg9MCx0aGlzLl9saW5rZWRSZWNvcmRzPW51bGwsdGhpcy5fdW5saW5rZWRSZWNvcmRzPW51bGwsdGhpcy5fcHJldmlvdXNJdEhlYWQ9bnVsbCx0aGlzLl9pdEhlYWQ9bnVsbCx0aGlzLl9pdFRhaWw9bnVsbCx0aGlzLl9hZGRpdGlvbnNIZWFkPW51bGwsdGhpcy5fYWRkaXRpb25zVGFpbD1udWxsLHRoaXMuX21vdmVzSGVhZD1udWxsLHRoaXMuX21vdmVzVGFpbD1udWxsLHRoaXMuX3JlbW92YWxzSGVhZD1udWxsLHRoaXMuX3JlbW92YWxzVGFpbD1udWxsLHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQ9bnVsbCx0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsPW51bGwsdGhpcy5fdHJhY2tCeUZuPXR8fExhfWZvckVhY2hJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX2l0SGVhZDtudWxsIT09ZTtlPWUuX25leHQpdChlKX1mb3JFYWNoT3BlcmF0aW9uKHQpe2xldCBlPXRoaXMuX2l0SGVhZCxuPXRoaXMuX3JlbW92YWxzSGVhZCxyPTAscz1udWxsO2Zvcig7ZXx8bjspe2NvbnN0IGk9IW58fGUmJmUuY3VycmVudEluZGV4PEhhKG4scixzKT9lOm4sbz1IYShpLHIscyksYT1pLmN1cnJlbnRJbmRleDtpZihpPT09bilyLS0sbj1uLl9uZXh0UmVtb3ZlZDtlbHNlIGlmKGU9ZS5fbmV4dCxudWxsPT1pLnByZXZpb3VzSW5kZXgpcisrO2Vsc2V7c3x8KHM9W10pO2NvbnN0IHQ9by1yLGU9YS1yO2lmKHQhPWUpe2ZvcihsZXQgbj0wO248dDtuKyspe2NvbnN0IHI9bjxzLmxlbmd0aD9zW25dOnNbbl09MCxpPXIrbjtlPD1pJiZpPHQmJihzW25dPXIrMSl9c1tpLnByZXZpb3VzSW5kZXhdPWUtdH19byE9PWEmJnQoaSxvLGEpfX1mb3JFYWNoUHJldmlvdXNJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX3ByZXZpb3VzSXRIZWFkO251bGwhPT1lO2U9ZS5fbmV4dFByZXZpb3VzKXQoZSl9Zm9yRWFjaEFkZGVkSXRlbSh0KXtsZXQgZTtmb3IoZT10aGlzLl9hZGRpdGlvbnNIZWFkO251bGwhPT1lO2U9ZS5fbmV4dEFkZGVkKXQoZSl9Zm9yRWFjaE1vdmVkSXRlbSh0KXtsZXQgZTtmb3IoZT10aGlzLl9tb3Zlc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0TW92ZWQpdChlKX1mb3JFYWNoUmVtb3ZlZEl0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5fcmVtb3ZhbHNIZWFkO251bGwhPT1lO2U9ZS5fbmV4dFJlbW92ZWQpdChlKX1mb3JFYWNoSWRlbnRpdHlDaGFuZ2UodCl7bGV0IGU7Zm9yKGU9dGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZDtudWxsIT09ZTtlPWUuX25leHRJZGVudGl0eUNoYW5nZSl0KGUpfWRpZmYodCl7aWYobnVsbD09dCYmKHQ9W10pLCFhbyh0KSl0aHJvdyBuZXcgRXJyb3IoYEVycm9yIHRyeWluZyB0byBkaWZmICcke2V0KHQpfScuIE9ubHkgYXJyYXlzIGFuZCBpdGVyYWJsZXMgYXJlIGFsbG93ZWRgKTtyZXR1cm4gdGhpcy5jaGVjayh0KT90aGlzOm51bGx9b25EZXN0cm95KCl7fWNoZWNrKHQpe3RoaXMuX3Jlc2V0KCk7bGV0IGUsbixyLHM9dGhpcy5faXRIZWFkLGk9ITE7aWYoQXJyYXkuaXNBcnJheSh0KSl7dGhpcy5sZW5ndGg9dC5sZW5ndGg7Zm9yKGxldCBlPTA7ZTx0aGlzLmxlbmd0aDtlKyspbj10W2VdLHI9dGhpcy5fdHJhY2tCeUZuKGUsbiksbnVsbCE9PXMmJk9iamVjdC5pcyhzLnRyYWNrQnlJZCxyKT8oaSYmKHM9dGhpcy5fdmVyaWZ5UmVpbnNlcnRpb24ocyxuLHIsZSkpLE9iamVjdC5pcyhzLml0ZW0sbil8fHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHMsbikpOihzPXRoaXMuX21pc21hdGNoKHMsbixyLGUpLGk9ITApLHM9cy5fbmV4dH1lbHNlIGU9MCxmdW5jdGlvbih0LGUpe2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZSh0W25dKTtlbHNle2NvbnN0IG49dFtpbygpXSgpO2xldCByO2Zvcig7IShyPW4ubmV4dCgpKS5kb25lOyllKHIudmFsdWUpfX0odCx0PT57cj10aGlzLl90cmFja0J5Rm4oZSx0KSxudWxsIT09cyYmT2JqZWN0LmlzKHMudHJhY2tCeUlkLHIpPyhpJiYocz10aGlzLl92ZXJpZnlSZWluc2VydGlvbihzLHQscixlKSksT2JqZWN0LmlzKHMuaXRlbSx0KXx8dGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2Uocyx0KSk6KHM9dGhpcy5fbWlzbWF0Y2gocyx0LHIsZSksaT0hMCkscz1zLl9uZXh0LGUrK30pLHRoaXMubGVuZ3RoPWU7cmV0dXJuIHRoaXMuX3RydW5jYXRlKHMpLHRoaXMuY29sbGVjdGlvbj10LHRoaXMuaXNEaXJ0eX1nZXQgaXNEaXJ0eSgpe3JldHVybiBudWxsIT09dGhpcy5fYWRkaXRpb25zSGVhZHx8bnVsbCE9PXRoaXMuX21vdmVzSGVhZHx8bnVsbCE9PXRoaXMuX3JlbW92YWxzSGVhZHx8bnVsbCE9PXRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWR9X3Jlc2V0KCl7aWYodGhpcy5pc0RpcnR5KXtsZXQgdDtmb3IodD10aGlzLl9wcmV2aW91c0l0SGVhZD10aGlzLl9pdEhlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0KXQuX25leHRQcmV2aW91cz10Ll9uZXh0O2Zvcih0PXRoaXMuX2FkZGl0aW9uc0hlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0QWRkZWQpdC5wcmV2aW91c0luZGV4PXQuY3VycmVudEluZGV4O2Zvcih0aGlzLl9hZGRpdGlvbnNIZWFkPXRoaXMuX2FkZGl0aW9uc1RhaWw9bnVsbCx0PXRoaXMuX21vdmVzSGVhZDtudWxsIT09dDt0PXQuX25leHRNb3ZlZCl0LnByZXZpb3VzSW5kZXg9dC5jdXJyZW50SW5kZXg7dGhpcy5fbW92ZXNIZWFkPXRoaXMuX21vdmVzVGFpbD1udWxsLHRoaXMuX3JlbW92YWxzSGVhZD10aGlzLl9yZW1vdmFsc1RhaWw9bnVsbCx0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkPXRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWw9bnVsbH19X21pc21hdGNoKHQsZSxuLHIpe2xldCBzO3JldHVybiBudWxsPT09dD9zPXRoaXMuX2l0VGFpbDoocz10Ll9wcmV2LHRoaXMuX3JlbW92ZSh0KSksbnVsbCE9PSh0PW51bGw9PT10aGlzLl91bmxpbmtlZFJlY29yZHM/bnVsbDp0aGlzLl91bmxpbmtlZFJlY29yZHMuZ2V0KG4sbnVsbCkpPyhPYmplY3QuaXModC5pdGVtLGUpfHx0aGlzLl9hZGRJZGVudGl0eUNoYW5nZSh0LGUpLHRoaXMuX3JlaW5zZXJ0QWZ0ZXIodCxzLHIpKTpudWxsIT09KHQ9bnVsbD09PXRoaXMuX2xpbmtlZFJlY29yZHM/bnVsbDp0aGlzLl9saW5rZWRSZWNvcmRzLmdldChuLHIpKT8oT2JqZWN0LmlzKHQuaXRlbSxlKXx8dGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UodCxlKSx0aGlzLl9tb3ZlQWZ0ZXIodCxzLHIpKTp0PXRoaXMuX2FkZEFmdGVyKG5ldyBqYShlLG4pLHMsciksdH1fdmVyaWZ5UmVpbnNlcnRpb24odCxlLG4scil7bGV0IHM9bnVsbD09PXRoaXMuX3VubGlua2VkUmVjb3Jkcz9udWxsOnRoaXMuX3VubGlua2VkUmVjb3Jkcy5nZXQobixudWxsKTtyZXR1cm4gbnVsbCE9PXM/dD10aGlzLl9yZWluc2VydEFmdGVyKHMsdC5fcHJldixyKTp0LmN1cnJlbnRJbmRleCE9ciYmKHQuY3VycmVudEluZGV4PXIsdGhpcy5fYWRkVG9Nb3Zlcyh0LHIpKSx0fV90cnVuY2F0ZSh0KXtmb3IoO251bGwhPT10Oyl7Y29uc3QgZT10Ll9uZXh0O3RoaXMuX2FkZFRvUmVtb3ZhbHModGhpcy5fdW5saW5rKHQpKSx0PWV9bnVsbCE9PXRoaXMuX3VubGlua2VkUmVjb3JkcyYmdGhpcy5fdW5saW5rZWRSZWNvcmRzLmNsZWFyKCksbnVsbCE9PXRoaXMuX2FkZGl0aW9uc1RhaWwmJih0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQ9bnVsbCksbnVsbCE9PXRoaXMuX21vdmVzVGFpbCYmKHRoaXMuX21vdmVzVGFpbC5fbmV4dE1vdmVkPW51bGwpLG51bGwhPT10aGlzLl9pdFRhaWwmJih0aGlzLl9pdFRhaWwuX25leHQ9bnVsbCksbnVsbCE9PXRoaXMuX3JlbW92YWxzVGFpbCYmKHRoaXMuX3JlbW92YWxzVGFpbC5fbmV4dFJlbW92ZWQ9bnVsbCksbnVsbCE9PXRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwmJih0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsLl9uZXh0SWRlbnRpdHlDaGFuZ2U9bnVsbCl9X3JlaW5zZXJ0QWZ0ZXIodCxlLG4pe251bGwhPT10aGlzLl91bmxpbmtlZFJlY29yZHMmJnRoaXMuX3VubGlua2VkUmVjb3Jkcy5yZW1vdmUodCk7Y29uc3Qgcj10Ll9wcmV2UmVtb3ZlZCxzPXQuX25leHRSZW1vdmVkO3JldHVybiBudWxsPT09cj90aGlzLl9yZW1vdmFsc0hlYWQ9czpyLl9uZXh0UmVtb3ZlZD1zLG51bGw9PT1zP3RoaXMuX3JlbW92YWxzVGFpbD1yOnMuX3ByZXZSZW1vdmVkPXIsdGhpcy5faW5zZXJ0QWZ0ZXIodCxlLG4pLHRoaXMuX2FkZFRvTW92ZXModCxuKSx0fV9tb3ZlQWZ0ZXIodCxlLG4pe3JldHVybiB0aGlzLl91bmxpbmsodCksdGhpcy5faW5zZXJ0QWZ0ZXIodCxlLG4pLHRoaXMuX2FkZFRvTW92ZXModCxuKSx0fV9hZGRBZnRlcih0LGUsbil7cmV0dXJuIHRoaXMuX2luc2VydEFmdGVyKHQsZSxuKSx0aGlzLl9hZGRpdGlvbnNUYWlsPW51bGw9PT10aGlzLl9hZGRpdGlvbnNUYWlsP3RoaXMuX2FkZGl0aW9uc0hlYWQ9dDp0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQ9dCx0fV9pbnNlcnRBZnRlcih0LGUsbil7Y29uc3Qgcj1udWxsPT09ZT90aGlzLl9pdEhlYWQ6ZS5fbmV4dDtyZXR1cm4gdC5fbmV4dD1yLHQuX3ByZXY9ZSxudWxsPT09cj90aGlzLl9pdFRhaWw9dDpyLl9wcmV2PXQsbnVsbD09PWU/dGhpcy5faXRIZWFkPXQ6ZS5fbmV4dD10LG51bGw9PT10aGlzLl9saW5rZWRSZWNvcmRzJiYodGhpcy5fbGlua2VkUmVjb3Jkcz1uZXcgTmEpLHRoaXMuX2xpbmtlZFJlY29yZHMucHV0KHQpLHQuY3VycmVudEluZGV4PW4sdH1fcmVtb3ZlKHQpe3JldHVybiB0aGlzLl9hZGRUb1JlbW92YWxzKHRoaXMuX3VubGluayh0KSl9X3VubGluayh0KXtudWxsIT09dGhpcy5fbGlua2VkUmVjb3JkcyYmdGhpcy5fbGlua2VkUmVjb3Jkcy5yZW1vdmUodCk7Y29uc3QgZT10Ll9wcmV2LG49dC5fbmV4dDtyZXR1cm4gbnVsbD09PWU/dGhpcy5faXRIZWFkPW46ZS5fbmV4dD1uLG51bGw9PT1uP3RoaXMuX2l0VGFpbD1lOm4uX3ByZXY9ZSx0fV9hZGRUb01vdmVzKHQsZSl7cmV0dXJuIHQucHJldmlvdXNJbmRleD09PWV8fCh0aGlzLl9tb3Zlc1RhaWw9bnVsbD09PXRoaXMuX21vdmVzVGFpbD90aGlzLl9tb3Zlc0hlYWQ9dDp0aGlzLl9tb3Zlc1RhaWwuX25leHRNb3ZlZD10KSx0fV9hZGRUb1JlbW92YWxzKHQpe3JldHVybiBudWxsPT09dGhpcy5fdW5saW5rZWRSZWNvcmRzJiYodGhpcy5fdW5saW5rZWRSZWNvcmRzPW5ldyBOYSksdGhpcy5fdW5saW5rZWRSZWNvcmRzLnB1dCh0KSx0LmN1cnJlbnRJbmRleD1udWxsLHQuX25leHRSZW1vdmVkPW51bGwsbnVsbD09PXRoaXMuX3JlbW92YWxzVGFpbD8odGhpcy5fcmVtb3ZhbHNUYWlsPXRoaXMuX3JlbW92YWxzSGVhZD10LHQuX3ByZXZSZW1vdmVkPW51bGwpOih0Ll9wcmV2UmVtb3ZlZD10aGlzLl9yZW1vdmFsc1RhaWwsdGhpcy5fcmVtb3ZhbHNUYWlsPXRoaXMuX3JlbW92YWxzVGFpbC5fbmV4dFJlbW92ZWQ9dCksdH1fYWRkSWRlbnRpdHlDaGFuZ2UodCxlKXtyZXR1cm4gdC5pdGVtPWUsdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbD1udWxsPT09dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbD90aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkPXQ6dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbC5fbmV4dElkZW50aXR5Q2hhbmdlPXQsdH19Y2xhc3MgamF7Y29uc3RydWN0b3IodCxlKXt0aGlzLml0ZW09dCx0aGlzLnRyYWNrQnlJZD1lLHRoaXMuY3VycmVudEluZGV4PW51bGwsdGhpcy5wcmV2aW91c0luZGV4PW51bGwsdGhpcy5fbmV4dFByZXZpb3VzPW51bGwsdGhpcy5fcHJldj1udWxsLHRoaXMuX25leHQ9bnVsbCx0aGlzLl9wcmV2RHVwPW51bGwsdGhpcy5fbmV4dER1cD1udWxsLHRoaXMuX3ByZXZSZW1vdmVkPW51bGwsdGhpcy5fbmV4dFJlbW92ZWQ9bnVsbCx0aGlzLl9uZXh0QWRkZWQ9bnVsbCx0aGlzLl9uZXh0TW92ZWQ9bnVsbCx0aGlzLl9uZXh0SWRlbnRpdHlDaGFuZ2U9bnVsbH19Y2xhc3MgTWF7Y29uc3RydWN0b3IoKXt0aGlzLl9oZWFkPW51bGwsdGhpcy5fdGFpbD1udWxsfWFkZCh0KXtudWxsPT09dGhpcy5faGVhZD8odGhpcy5faGVhZD10aGlzLl90YWlsPXQsdC5fbmV4dER1cD1udWxsLHQuX3ByZXZEdXA9bnVsbCk6KHRoaXMuX3RhaWwuX25leHREdXA9dCx0Ll9wcmV2RHVwPXRoaXMuX3RhaWwsdC5fbmV4dER1cD1udWxsLHRoaXMuX3RhaWw9dCl9Z2V0KHQsZSl7bGV0IG47Zm9yKG49dGhpcy5faGVhZDtudWxsIT09bjtuPW4uX25leHREdXApaWYoKG51bGw9PT1lfHxlPD1uLmN1cnJlbnRJbmRleCkmJk9iamVjdC5pcyhuLnRyYWNrQnlJZCx0KSlyZXR1cm4gbjtyZXR1cm4gbnVsbH1yZW1vdmUodCl7Y29uc3QgZT10Ll9wcmV2RHVwLG49dC5fbmV4dER1cDtyZXR1cm4gbnVsbD09PWU/dGhpcy5faGVhZD1uOmUuX25leHREdXA9bixudWxsPT09bj90aGlzLl90YWlsPWU6bi5fcHJldkR1cD1lLG51bGw9PT10aGlzLl9oZWFkfX1jbGFzcyBOYXtjb25zdHJ1Y3Rvcigpe3RoaXMubWFwPW5ldyBNYXB9cHV0KHQpe2NvbnN0IGU9dC50cmFja0J5SWQ7bGV0IG49dGhpcy5tYXAuZ2V0KGUpO258fChuPW5ldyBNYSx0aGlzLm1hcC5zZXQoZSxuKSksbi5hZGQodCl9Z2V0KHQsZSl7Y29uc3Qgbj10aGlzLm1hcC5nZXQodCk7cmV0dXJuIG4/bi5nZXQodCxlKTpudWxsfXJlbW92ZSh0KXtjb25zdCBlPXQudHJhY2tCeUlkO3JldHVybiB0aGlzLm1hcC5nZXQoZSkucmVtb3ZlKHQpJiZ0aGlzLm1hcC5kZWxldGUoZSksdH1nZXQgaXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5tYXAuc2l6ZX1jbGVhcigpe3RoaXMubWFwLmNsZWFyKCl9fWZ1bmN0aW9uIEhhKHQsZSxuKXtjb25zdCByPXQucHJldmlvdXNJbmRleDtpZihudWxsPT09cilyZXR1cm4gcjtsZXQgcz0wO3JldHVybiBuJiZyPG4ubGVuZ3RoJiYocz1uW3JdKSxyK2Urc31jbGFzcyBWYXtjb25zdHJ1Y3Rvcigpe31zdXBwb3J0cyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE1hcHx8Y28odCl9Y3JlYXRlKCl7cmV0dXJuIG5ldyB6YX19Y2xhc3MgemF7Y29uc3RydWN0b3IoKXt0aGlzLl9yZWNvcmRzPW5ldyBNYXAsdGhpcy5fbWFwSGVhZD1udWxsLHRoaXMuX2FwcGVuZEFmdGVyPW51bGwsdGhpcy5fcHJldmlvdXNNYXBIZWFkPW51bGwsdGhpcy5fY2hhbmdlc0hlYWQ9bnVsbCx0aGlzLl9jaGFuZ2VzVGFpbD1udWxsLHRoaXMuX2FkZGl0aW9uc0hlYWQ9bnVsbCx0aGlzLl9hZGRpdGlvbnNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPW51bGwsdGhpcy5fcmVtb3ZhbHNUYWlsPW51bGx9Z2V0IGlzRGlydHkoKXtyZXR1cm4gbnVsbCE9PXRoaXMuX2FkZGl0aW9uc0hlYWR8fG51bGwhPT10aGlzLl9jaGFuZ2VzSGVhZHx8bnVsbCE9PXRoaXMuX3JlbW92YWxzSGVhZH1mb3JFYWNoSXRlbSh0KXtsZXQgZTtmb3IoZT10aGlzLl9tYXBIZWFkO251bGwhPT1lO2U9ZS5fbmV4dCl0KGUpfWZvckVhY2hQcmV2aW91c0l0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5fcHJldmlvdXNNYXBIZWFkO251bGwhPT1lO2U9ZS5fbmV4dFByZXZpb3VzKXQoZSl9Zm9yRWFjaENoYW5nZWRJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX2NoYW5nZXNIZWFkO251bGwhPT1lO2U9ZS5fbmV4dENoYW5nZWQpdChlKX1mb3JFYWNoQWRkZWRJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX2FkZGl0aW9uc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0QWRkZWQpdChlKX1mb3JFYWNoUmVtb3ZlZEl0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5fcmVtb3ZhbHNIZWFkO251bGwhPT1lO2U9ZS5fbmV4dFJlbW92ZWQpdChlKX1kaWZmKHQpe2lmKHQpe2lmKCEodCBpbnN0YW5jZW9mIE1hcHx8Y28odCkpKXRocm93IG5ldyBFcnJvcihgRXJyb3IgdHJ5aW5nIHRvIGRpZmYgJyR7ZXQodCl9Jy4gT25seSBtYXBzIGFuZCBvYmplY3RzIGFyZSBhbGxvd2VkYCl9ZWxzZSB0PW5ldyBNYXA7cmV0dXJuIHRoaXMuY2hlY2sodCk/dGhpczpudWxsfW9uRGVzdHJveSgpe31jaGVjayh0KXt0aGlzLl9yZXNldCgpO2xldCBlPXRoaXMuX21hcEhlYWQ7aWYodGhpcy5fYXBwZW5kQWZ0ZXI9bnVsbCx0aGlzLl9mb3JFYWNoKHQsKHQsbik9PntpZihlJiZlLmtleT09PW4pdGhpcy5fbWF5YmVBZGRUb0NoYW5nZXMoZSx0KSx0aGlzLl9hcHBlbmRBZnRlcj1lLGU9ZS5fbmV4dDtlbHNle2NvbnN0IHI9dGhpcy5fZ2V0T3JDcmVhdGVSZWNvcmRGb3JLZXkobix0KTtlPXRoaXMuX2luc2VydEJlZm9yZU9yQXBwZW5kKGUscil9fSksZSl7ZS5fcHJldiYmKGUuX3ByZXYuX25leHQ9bnVsbCksdGhpcy5fcmVtb3ZhbHNIZWFkPWU7Zm9yKGxldCB0PWU7bnVsbCE9PXQ7dD10Ll9uZXh0UmVtb3ZlZCl0PT09dGhpcy5fbWFwSGVhZCYmKHRoaXMuX21hcEhlYWQ9bnVsbCksdGhpcy5fcmVjb3Jkcy5kZWxldGUodC5rZXkpLHQuX25leHRSZW1vdmVkPXQuX25leHQsdC5wcmV2aW91c1ZhbHVlPXQuY3VycmVudFZhbHVlLHQuY3VycmVudFZhbHVlPW51bGwsdC5fcHJldj1udWxsLHQuX25leHQ9bnVsbH1yZXR1cm4gdGhpcy5fY2hhbmdlc1RhaWwmJih0aGlzLl9jaGFuZ2VzVGFpbC5fbmV4dENoYW5nZWQ9bnVsbCksdGhpcy5fYWRkaXRpb25zVGFpbCYmKHRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZD1udWxsKSx0aGlzLmlzRGlydHl9X2luc2VydEJlZm9yZU9yQXBwZW5kKHQsZSl7aWYodCl7Y29uc3Qgbj10Ll9wcmV2O3JldHVybiBlLl9uZXh0PXQsZS5fcHJldj1uLHQuX3ByZXY9ZSxuJiYobi5fbmV4dD1lKSx0PT09dGhpcy5fbWFwSGVhZCYmKHRoaXMuX21hcEhlYWQ9ZSksdGhpcy5fYXBwZW5kQWZ0ZXI9dCx0fXJldHVybiB0aGlzLl9hcHBlbmRBZnRlcj8odGhpcy5fYXBwZW5kQWZ0ZXIuX25leHQ9ZSxlLl9wcmV2PXRoaXMuX2FwcGVuZEFmdGVyKTp0aGlzLl9tYXBIZWFkPWUsdGhpcy5fYXBwZW5kQWZ0ZXI9ZSxudWxsfV9nZXRPckNyZWF0ZVJlY29yZEZvcktleSh0LGUpe2lmKHRoaXMuX3JlY29yZHMuaGFzKHQpKXtjb25zdCBuPXRoaXMuX3JlY29yZHMuZ2V0KHQpO3RoaXMuX21heWJlQWRkVG9DaGFuZ2VzKG4sZSk7Y29uc3Qgcj1uLl9wcmV2LHM9bi5fbmV4dDtyZXR1cm4gciYmKHIuX25leHQ9cykscyYmKHMuX3ByZXY9ciksbi5fbmV4dD1udWxsLG4uX3ByZXY9bnVsbCxufWNvbnN0IG49bmV3ICRhKHQpO3JldHVybiB0aGlzLl9yZWNvcmRzLnNldCh0LG4pLG4uY3VycmVudFZhbHVlPWUsdGhpcy5fYWRkVG9BZGRpdGlvbnMobiksbn1fcmVzZXQoKXtpZih0aGlzLmlzRGlydHkpe2xldCB0O2Zvcih0aGlzLl9wcmV2aW91c01hcEhlYWQ9dGhpcy5fbWFwSGVhZCx0PXRoaXMuX3ByZXZpb3VzTWFwSGVhZDtudWxsIT09dDt0PXQuX25leHQpdC5fbmV4dFByZXZpb3VzPXQuX25leHQ7Zm9yKHQ9dGhpcy5fY2hhbmdlc0hlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0Q2hhbmdlZCl0LnByZXZpb3VzVmFsdWU9dC5jdXJyZW50VmFsdWU7Zm9yKHQ9dGhpcy5fYWRkaXRpb25zSGVhZDtudWxsIT10O3Q9dC5fbmV4dEFkZGVkKXQucHJldmlvdXNWYWx1ZT10LmN1cnJlbnRWYWx1ZTt0aGlzLl9jaGFuZ2VzSGVhZD10aGlzLl9jaGFuZ2VzVGFpbD1udWxsLHRoaXMuX2FkZGl0aW9uc0hlYWQ9dGhpcy5fYWRkaXRpb25zVGFpbD1udWxsLHRoaXMuX3JlbW92YWxzSGVhZD1udWxsfX1fbWF5YmVBZGRUb0NoYW5nZXModCxlKXtPYmplY3QuaXMoZSx0LmN1cnJlbnRWYWx1ZSl8fCh0LnByZXZpb3VzVmFsdWU9dC5jdXJyZW50VmFsdWUsdC5jdXJyZW50VmFsdWU9ZSx0aGlzLl9hZGRUb0NoYW5nZXModCkpfV9hZGRUb0FkZGl0aW9ucyh0KXtudWxsPT09dGhpcy5fYWRkaXRpb25zSGVhZD90aGlzLl9hZGRpdGlvbnNIZWFkPXRoaXMuX2FkZGl0aW9uc1RhaWw9dDoodGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkPXQsdGhpcy5fYWRkaXRpb25zVGFpbD10KX1fYWRkVG9DaGFuZ2VzKHQpe251bGw9PT10aGlzLl9jaGFuZ2VzSGVhZD90aGlzLl9jaGFuZ2VzSGVhZD10aGlzLl9jaGFuZ2VzVGFpbD10Oih0aGlzLl9jaGFuZ2VzVGFpbC5fbmV4dENoYW5nZWQ9dCx0aGlzLl9jaGFuZ2VzVGFpbD10KX1fZm9yRWFjaCh0LGUpe3QgaW5zdGFuY2VvZiBNYXA/dC5mb3JFYWNoKGUpOk9iamVjdC5rZXlzKHQpLmZvckVhY2gobj0+ZSh0W25dLG4pKX19Y2xhc3MgJGF7Y29uc3RydWN0b3IodCl7dGhpcy5rZXk9dCx0aGlzLnByZXZpb3VzVmFsdWU9bnVsbCx0aGlzLmN1cnJlbnRWYWx1ZT1udWxsLHRoaXMuX25leHRQcmV2aW91cz1udWxsLHRoaXMuX25leHQ9bnVsbCx0aGlzLl9wcmV2PW51bGwsdGhpcy5fbmV4dEFkZGVkPW51bGwsdGhpcy5fbmV4dFJlbW92ZWQ9bnVsbCx0aGlzLl9uZXh0Q2hhbmdlZD1udWxsfX1mdW5jdGlvbiBVYSgpe3JldHVybiBuZXcgV2EoW25ldyBSYV0pfWxldCBXYT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuZmFjdG9yaWVzPXR9c3RhdGljIGNyZWF0ZShlLG4pe2lmKG51bGwhPW4pe2NvbnN0IHQ9bi5mYWN0b3JpZXMuc2xpY2UoKTtlPWUuY29uY2F0KHQpfXJldHVybiBuZXcgdChlKX1zdGF0aWMgZXh0ZW5kKGUpe3JldHVybntwcm92aWRlOnQsdXNlRmFjdG9yeTpuPT50LmNyZWF0ZShlLG58fFVhKCkpLGRlcHM6W1t0LG5ldyBncixuZXcgZnJdXX19ZmluZCh0KXtjb25zdCBlPXRoaXMuZmFjdG9yaWVzLmZpbmQoZT0+ZS5zdXBwb3J0cyh0KSk7aWYobnVsbCE9ZSlyZXR1cm4gZTt0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIGEgZGlmZmVyIHN1cHBvcnRpbmcgb2JqZWN0ICcke3R9JyBvZiB0eXBlICcke249dCxuLm5hbWV8fHR5cGVvZiBufSdgKTt2YXIgbn19cmV0dXJuIHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxwcm92aWRlZEluOiJyb290IixmYWN0b3J5OlVhfSksdH0pKCk7ZnVuY3Rpb24gR2EoKXtyZXR1cm4gbmV3IHFhKFtuZXcgVmFdKX1sZXQgcWE9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmZhY3Rvcmllcz10fXN0YXRpYyBjcmVhdGUoZSxuKXtpZihuKXtjb25zdCB0PW4uZmFjdG9yaWVzLnNsaWNlKCk7ZT1lLmNvbmNhdCh0KX1yZXR1cm4gbmV3IHQoZSl9c3RhdGljIGV4dGVuZChlKXtyZXR1cm57cHJvdmlkZTp0LHVzZUZhY3Rvcnk6bj0+dC5jcmVhdGUoZSxufHxHYSgpKSxkZXBzOltbdCxuZXcgZ3IsbmV3IGZyXV19fWZpbmQodCl7Y29uc3QgZT10aGlzLmZhY3Rvcmllcy5maW5kKGU9PmUuc3VwcG9ydHModCkpO2lmKGUpcmV0dXJuIGU7dGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCBhIGRpZmZlciBzdXBwb3J0aW5nIG9iamVjdCAnJHt0fSdgKX19cmV0dXJuIHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxwcm92aWRlZEluOiJyb290IixmYWN0b3J5OkdhfSksdH0pKCk7ZnVuY3Rpb24gWGEodCxlLG4scixzPSExKXtmb3IoO251bGwhPT1uOyl7Y29uc3QgaT1lW24uaW5kZXhdO2lmKG51bGwhPT1pJiZyLnB1c2godmUoaSkpLGVlKGkpKWZvcihsZXQgdD1KdDt0PGkubGVuZ3RoO3QrKyl7Y29uc3QgZT1pW3RdLG49ZVsxXS5maXJzdENoaWxkO251bGwhPT1uJiZYYShlWzFdLGUsbixyKX1jb25zdCBvPW4udHlwZTtpZig4Jm8pWGEodCxlLG4uY2hpbGQscik7ZWxzZSBpZigzMiZvKXtjb25zdCB0PW5zKG4sZSk7bGV0IHM7Zm9yKDtzPXQoKTspci5wdXNoKHMpfWVsc2UgaWYoMTYmbyl7Y29uc3QgdD1fcyhlLG4pO2lmKEFycmF5LmlzQXJyYXkodCkpci5wdXNoKC4uLnQpO2Vsc2V7Y29uc3Qgbj1ycyhlWzE2XSk7WGEoblsxXSxuLHQsciwhMCl9fW49cz9uLnByb2plY3Rpb25OZXh0Om4ubmV4dH1yZXR1cm4gcn1jbGFzcyBZYXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX2xWaWV3PXQsdGhpcy5fY2RSZWZJbmplY3RpbmdWaWV3PWUsdGhpcy5fYXBwUmVmPW51bGwsdGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXI9ITF9Z2V0IHJvb3ROb2Rlcygpe2NvbnN0IHQ9dGhpcy5fbFZpZXcsZT10WzFdO3JldHVybiBYYShlLHQsZS5maXJzdENoaWxkLFtdKX1nZXQgY29udGV4dCgpe3JldHVybiB0aGlzLl9sVmlld1s4XX1zZXQgY29udGV4dCh0KXt0aGlzLl9sVmlld1s4XT10fWdldCBkZXN0cm95ZWQoKXtyZXR1cm4gMjU2PT0oMjU2JnRoaXMuX2xWaWV3WzJdKX1kZXN0cm95KCl7aWYodGhpcy5fYXBwUmVmKXRoaXMuX2FwcFJlZi5kZXRhY2hWaWV3KHRoaXMpO2Vsc2UgaWYodGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXIpe2NvbnN0IHQ9dGhpcy5fbFZpZXdbM107aWYoZWUodCkpe2NvbnN0IGU9dFs4XSxuPWU/ZS5pbmRleE9mKHRoaXMpOi0xO24+LTEmJih1cyh0LG4pLEtuKGUsbikpfXRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyPSExfWhzKHRoaXMuX2xWaWV3WzFdLHRoaXMuX2xWaWV3KX1vbkRlc3Ryb3kodCl7bGkodGhpcy5fbFZpZXdbMV0sdGhpcy5fbFZpZXcsbnVsbCx0KX1tYXJrRm9yQ2hlY2soKXt4aSh0aGlzLl9jZFJlZkluamVjdGluZ1ZpZXd8fHRoaXMuX2xWaWV3KX1kZXRhY2goKXt0aGlzLl9sVmlld1syXSY9LTEyOX1yZWF0dGFjaCgpe3RoaXMuX2xWaWV3WzJdfD0xMjh9ZGV0ZWN0Q2hhbmdlcygpe0FpKHRoaXMuX2xWaWV3WzFdLHRoaXMuX2xWaWV3LHRoaXMuY29udGV4dCl9Y2hlY2tOb0NoYW5nZXMoKXshZnVuY3Rpb24odCxlLG4pe0hlKCEwKTt0cnl7QWkodCxlLG4pfWZpbmFsbHl7SGUoITEpfX0odGhpcy5fbFZpZXdbMV0sdGhpcy5fbFZpZXcsdGhpcy5jb250ZXh0KX1hdHRhY2hUb1ZpZXdDb250YWluZXJSZWYoKXtpZih0aGlzLl9hcHBSZWYpdGhyb3cgbmV3IEVycm9yKCJUaGlzIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGUgQXBwbGljYXRpb25SZWYhIik7dGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXI9ITB9ZGV0YWNoRnJvbUFwcFJlZigpe3ZhciB0O3RoaXMuX2FwcFJlZj1udWxsLFNzKHRoaXMuX2xWaWV3WzFdLHQ9dGhpcy5fbFZpZXcsdFsxMV0sMixudWxsLG51bGwpfWF0dGFjaFRvQXBwUmVmKHQpe2lmKHRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyKXRocm93IG5ldyBFcnJvcigiVGhpcyB2aWV3IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBWaWV3Q29udGFpbmVyISIpO3RoaXMuX2FwcFJlZj10fX1jbGFzcyBaYSBleHRlbmRzIFlhe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX3ZpZXc9dH1kZXRlY3RDaGFuZ2VzKCl7VGkodGhpcy5fdmlldyl9Y2hlY2tOb0NoYW5nZXMoKXshZnVuY3Rpb24odCl7SGUoITApO3RyeXtUaSh0KX1maW5hbGx5e0hlKCExKX19KHRoaXMuX3ZpZXcpfWdldCBjb250ZXh0KCl7cmV0dXJuIG51bGx9fWNvbnN0IFFhPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUsbil7aWYocmUodCkmJiFuKXtjb25zdCBuPURlKHQuaW5kZXgsZSk7cmV0dXJuIG5ldyBZYShuLG4pfXJldHVybiA0NyZ0LnR5cGU/bmV3IFlhKGVbMTZdLGUpOm51bGx9KFJlKCksSWUoKSwxNj09KDE2JnQpKX07bGV0IEthPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Ll9fTkdfRUxFTUVOVF9JRF9fPVFhLHR9KSgpO2NvbnN0IEphPVtuZXcgVmFdLHRjPW5ldyBXYShbbmV3IFJhXSksZWM9bmV3IHFhKEphKSxuYz1mdW5jdGlvbigpe3JldHVybiBvYyhSZSgpLEllKCkpfTtsZXQgcmM9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuX19OR19FTEVNRU5UX0lEX189bmMsdH0pKCk7Y29uc3Qgc2M9cmMsaWM9Y2xhc3MgZXh0ZW5kcyBzY3tjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIoKSx0aGlzLl9kZWNsYXJhdGlvbkxWaWV3PXQsdGhpcy5fZGVjbGFyYXRpb25UQ29udGFpbmVyPWUsdGhpcy5lbGVtZW50UmVmPW59Y3JlYXRlRW1iZWRkZWRWaWV3KHQpe2NvbnN0IGU9dGhpcy5fZGVjbGFyYXRpb25UQ29udGFpbmVyLnRWaWV3cyxuPVFzKHRoaXMuX2RlY2xhcmF0aW9uTFZpZXcsZSx0LDE2LG51bGwsZS5kZWNsVE5vZGUsbnVsbCxudWxsLG51bGwsbnVsbCk7blsxN109dGhpcy5fZGVjbGFyYXRpb25MVmlld1t0aGlzLl9kZWNsYXJhdGlvblRDb250YWluZXIuaW5kZXhdO2NvbnN0IHI9dGhpcy5fZGVjbGFyYXRpb25MVmlld1sxOV07cmV0dXJuIG51bGwhPT1yJiYoblsxOV09ci5jcmVhdGVFbWJlZGRlZFZpZXcoZSkpLHRpKGUsbix0KSxuZXcgWWEobil9fTtmdW5jdGlvbiBvYyh0LGUpe3JldHVybiA0JnQudHlwZT9uZXcgaWMoZSx0LEVhKHQsZSkpOm51bGx9Y2xhc3MgYWN7fWNsYXNzIGNje31jb25zdCBsYz1mdW5jdGlvbigpe3JldHVybiBnYyhSZSgpLEllKCkpfTtsZXQgdWM9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuX19OR19FTEVNRU5UX0lEX189bGMsdH0pKCk7Y29uc3QgaGM9dWMsZGM9Y2xhc3MgZXh0ZW5kcyBoY3tjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIoKSx0aGlzLl9sQ29udGFpbmVyPXQsdGhpcy5faG9zdFROb2RlPWUsdGhpcy5faG9zdExWaWV3PW59Z2V0IGVsZW1lbnQoKXtyZXR1cm4gRWEodGhpcy5faG9zdFROb2RlLHRoaXMuX2hvc3RMVmlldyl9Z2V0IGluamVjdG9yKCl7cmV0dXJuIG5ldyBWbih0aGlzLl9ob3N0VE5vZGUsdGhpcy5faG9zdExWaWV3KX1nZXQgcGFyZW50SW5qZWN0b3IoKXtjb25zdCB0PWtuKHRoaXMuX2hvc3RUTm9kZSx0aGlzLl9ob3N0TFZpZXcpO2lmKENuKHQpKXtjb25zdCBlPV9uKHQsdGhpcy5faG9zdExWaWV3KSxuPXduKHQpO3JldHVybiBuZXcgVm4oZVsxXS5kYXRhW24rOF0sZSl9cmV0dXJuIG5ldyBWbihudWxsLHRoaXMuX2hvc3RMVmlldyl9Y2xlYXIoKXtmb3IoO3RoaXMubGVuZ3RoPjA7KXRoaXMucmVtb3ZlKHRoaXMubGVuZ3RoLTEpfWdldCh0KXtjb25zdCBlPXBjKHRoaXMuX2xDb250YWluZXIpO3JldHVybiBudWxsIT09ZSYmZVt0XXx8bnVsbH1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2xDb250YWluZXIubGVuZ3RoLUp0fWNyZWF0ZUVtYmVkZGVkVmlldyh0LGUsbil7Y29uc3Qgcj10LmNyZWF0ZUVtYmVkZGVkVmlldyhlfHx7fSk7cmV0dXJuIHRoaXMuaW5zZXJ0KHIsbikscn1jcmVhdGVDb21wb25lbnQodCxlLG4scixzKXtjb25zdCBpPW58fHRoaXMucGFyZW50SW5qZWN0b3I7aWYoIXMmJm51bGw9PXQubmdNb2R1bGUmJmkpe2NvbnN0IHQ9aS5nZXQoYWMsbnVsbCk7dCYmKHM9dCl9Y29uc3Qgbz10LmNyZWF0ZShpLHIsdm9pZCAwLHMpO3JldHVybiB0aGlzLmluc2VydChvLmhvc3RWaWV3LGUpLG99aW5zZXJ0KHQsZSl7Y29uc3Qgbj10Ll9sVmlldyxyPW5bMV07aWYoZWUoblszXSkpe2NvbnN0IGU9dGhpcy5pbmRleE9mKHQpO2lmKC0xIT09ZSl0aGlzLmRldGFjaChlKTtlbHNle2NvbnN0IGU9blszXSxyPW5ldyBkYyhlLGVbNl0sZVszXSk7ci5kZXRhY2goci5pbmRleE9mKHQpKX19Y29uc3Qgcz10aGlzLl9hZGp1c3RJbmRleChlKSxpPXRoaXMuX2xDb250YWluZXI7IWZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9SnQrcixpPW4ubGVuZ3RoO3I+MCYmKG5bcy0xXVs0XT1lKSxyPGktSnQ/KGVbNF09bltzXSxRbihuLEp0K3IsZSkpOihuLnB1c2goZSksZVs0XT1udWxsKSxlWzNdPW47Y29uc3Qgbz1lWzE3XTtudWxsIT09byYmbiE9PW8mJmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10WzldO2VbMTZdIT09ZVszXVszXVsxNl0mJih0WzJdPSEwKSxudWxsPT09bj90WzldPVtlXTpuLnB1c2goZSl9KG8sZSk7Y29uc3QgYT1lWzE5XTtudWxsIT09YSYmYS5pbnNlcnRWaWV3KHQpLGVbMl18PTEyOH0ocixuLGkscyk7Y29uc3Qgbz1EcyhzLGkpLGE9blsxMV0sYz15cyhhLGlbN10pO3JldHVybiBudWxsIT09YyYmZnVuY3Rpb24odCxlLG4scixzLGkpe3JbMF09cyxyWzZdPWUsU3ModCxyLG4sMSxzLGkpfShyLGlbNl0sYSxuLGMsbyksdC5hdHRhY2hUb1ZpZXdDb250YWluZXJSZWYoKSxRbihmYyhpKSxzLHQpLHR9bW92ZSh0LGUpe3JldHVybiB0aGlzLmluc2VydCh0LGUpfWluZGV4T2YodCl7Y29uc3QgZT1wYyh0aGlzLl9sQ29udGFpbmVyKTtyZXR1cm4gbnVsbCE9PWU/ZS5pbmRleE9mKHQpOi0xfXJlbW92ZSh0KXtjb25zdCBlPXRoaXMuX2FkanVzdEluZGV4KHQsLTEpLG49dXModGhpcy5fbENvbnRhaW5lcixlKTtuJiYoS24oZmModGhpcy5fbENvbnRhaW5lciksZSksaHMoblsxXSxuKSl9ZGV0YWNoKHQpe2NvbnN0IGU9dGhpcy5fYWRqdXN0SW5kZXgodCwtMSksbj11cyh0aGlzLl9sQ29udGFpbmVyLGUpO3JldHVybiBuJiZudWxsIT1LbihmYyh0aGlzLl9sQ29udGFpbmVyKSxlKT9uZXcgWWEobik6bnVsbH1fYWRqdXN0SW5kZXgodCxlPTApe3JldHVybiBudWxsPT10P3RoaXMubGVuZ3RoK2U6dH19O2Z1bmN0aW9uIHBjKHQpe3JldHVybiB0WzhdfWZ1bmN0aW9uIGZjKHQpe3JldHVybiB0WzhdfHwodFs4XT1bXSl9ZnVuY3Rpb24gZ2ModCxlKXtsZXQgbjtjb25zdCByPWVbdC5pbmRleF07aWYoZWUocikpbj1yO2Vsc2V7bGV0IHM7aWYoOCZ0LnR5cGUpcz12ZShyKTtlbHNle2NvbnN0IG49ZVsxMV07cz1uLmNyZWF0ZUNvbW1lbnQoIiIpO2NvbnN0IHI9Q2UodCxlKTtmcyhuLHlzKG4scikscyxmdW5jdGlvbih0LGUpe3JldHVybiBtZSh0KT90Lm5leHRTaWJsaW5nKGUpOmUubmV4dFNpYmxpbmd9KG4sciksITEpfWVbdC5pbmRleF09bj13aShyLGUscyx0KSxTaShlLG4pfXJldHVybiBuZXcgZGMobix0LGUpfWNvbnN0IG1jPXt9O2NsYXNzIHljIGV4dGVuZHMgX2F7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLm5nTW9kdWxlPXR9cmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodCl7Y29uc3QgZT1adCh0KTtyZXR1cm4gbmV3IENjKGUsdGhpcy5uZ01vZHVsZSl9fWZ1bmN0aW9uIHZjKHQpe2NvbnN0IGU9W107Zm9yKGxldCBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmZS5wdXNoKHtwcm9wTmFtZTp0W25dLHRlbXBsYXRlTmFtZTpufSk7cmV0dXJuIGV9Y29uc3QgYmM9bmV3IEduKCJTQ0hFRFVMRVJfVE9LRU4iLHtwcm92aWRlZEluOiJyb290IixmYWN0b3J5OigpPT5Lcn0pO2NsYXNzIENjIGV4dGVuZHMgQ2F7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMuY29tcG9uZW50RGVmPXQsdGhpcy5uZ01vZHVsZT1lLHRoaXMuY29tcG9uZW50VHlwZT10LnR5cGUsdGhpcy5zZWxlY3Rvcj10LnNlbGVjdG9ycy5tYXAoSHMpLmpvaW4oIiwiKSx0aGlzLm5nQ29udGVudFNlbGVjdG9ycz10Lm5nQ29udGVudFNlbGVjdG9ycz90Lm5nQ29udGVudFNlbGVjdG9yczpbXSx0aGlzLmlzQm91bmRUb01vZHVsZT0hIWV9Z2V0IGlucHV0cygpe3JldHVybiB2Yyh0aGlzLmNvbXBvbmVudERlZi5pbnB1dHMpfWdldCBvdXRwdXRzKCl7cmV0dXJuIHZjKHRoaXMuY29tcG9uZW50RGVmLm91dHB1dHMpfWNyZWF0ZSh0LGUsbixyKXtjb25zdCBzPShyPXJ8fHRoaXMubmdNb2R1bGUpP2Z1bmN0aW9uKHQsZSl7cmV0dXJue2dldDoobixyLHMpPT57Y29uc3QgaT10LmdldChuLG1jLHMpO3JldHVybiBpIT09bWN8fHI9PT1tYz9pOmUuZ2V0KG4scixzKX19fSh0LHIuaW5qZWN0b3IpOnQsaT1zLmdldChUYSx5ZSksbz1zLmdldChJYSxudWxsKSxhPWkuY3JlYXRlUmVuZGVyZXIobnVsbCx0aGlzLmNvbXBvbmVudERlZiksYz10aGlzLmNvbXBvbmVudERlZi5zZWxlY3RvcnNbMF1bMF18fCJkaXYiLGw9bj9mdW5jdGlvbih0LGUsbil7aWYobWUodCkpcmV0dXJuIHQuc2VsZWN0Um9vdEVsZW1lbnQoZSxuPT09eHQuU2hhZG93RG9tKTtsZXQgcj0ic3RyaW5nIj09dHlwZW9mIGU/dC5xdWVyeVNlbGVjdG9yKGUpOmU7cmV0dXJuIHIudGV4dENvbnRlbnQ9IiIscn0oYSxuLHRoaXMuY29tcG9uZW50RGVmLmVuY2Fwc3VsYXRpb24pOmNzKGkuY3JlYXRlUmVuZGVyZXIobnVsbCx0aGlzLmNvbXBvbmVudERlZiksYyxmdW5jdGlvbih0KXtjb25zdCBlPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4ic3ZnIj09PWU/cGU6Im1hdGgiPT09ZT8iaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoTUwvIjpudWxsfShjKSksdT10aGlzLmNvbXBvbmVudERlZi5vblB1c2g/NTc2OjUyOCxoPXtjb21wb25lbnRzOltdLHNjaGVkdWxlcjpLcixjbGVhbjpGaSxwbGF5ZXJIYW5kbGVyOm51bGwsZmxhZ3M6MH0sZD1jaSgwLG51bGwsbnVsbCwxLDAsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsKSxwPVFzKG51bGwsZCxoLHUsbnVsbCxudWxsLGksYSxvLHMpO2xldCBmLGc7WmUocCk7dHJ5e2NvbnN0IHQ9ZnVuY3Rpb24odCxlLG4scixzLGkpe2NvbnN0IG89blsxXTtuWzIwXT10O2NvbnN0IGE9S3MobywyMCwyLCIjaG9zdCIsbnVsbCksYz1hLm1lcmdlZEF0dHJzPWUuaG9zdEF0dHJzO251bGwhPT1jJiYoTGkoYSxjLCEwKSxudWxsIT09dCYmKGduKHMsdCxjKSxudWxsIT09YS5jbGFzc2VzJiZUcyhzLHQsYS5jbGFzc2VzKSxudWxsIT09YS5zdHlsZXMmJkFzKHMsdCxhLnN0eWxlcykpKTtjb25zdCBsPXIuY3JlYXRlUmVuZGVyZXIodCxlKSx1PVFzKG4sYWkoZSksbnVsbCxlLm9uUHVzaD82NDoxNixuWzIwXSxhLHIsbCxudWxsLG51bGwpO3JldHVybiBvLmZpcnN0Q3JlYXRlUGFzcyYmKEZuKHhuKGEsbiksbyxlLnR5cGUpLGZpKG8sYSksbWkoYSxuLmxlbmd0aCwxKSksU2kobix1KSxuWzIwXT11fShsLHRoaXMuY29tcG9uZW50RGVmLHAsaSxhKTtpZihsKWlmKG4pZ24oYSxsLFsibmctdmVyc2lvbiIsUGEuZnVsbF0pO2Vsc2V7Y29uc3R7YXR0cnM6dCxjbGFzc2VzOmV9PWZ1bmN0aW9uKHQpe2NvbnN0IGU9W10sbj1bXTtsZXQgcj0xLHM9Mjtmb3IoO3I8dC5sZW5ndGg7KXtsZXQgaT10W3JdO2lmKCJzdHJpbmciPT10eXBlb2YgaSkyPT09cz8iIiE9PWkmJmUucHVzaChpLHRbKytyXSk6OD09PXMmJm4ucHVzaChpKTtlbHNle2lmKCFMcyhzKSlicmVhaztzPWl9cisrfXJldHVybnthdHRyczplLGNsYXNzZXM6bn19KHRoaXMuY29tcG9uZW50RGVmLnNlbGVjdG9yc1swXSk7dCYmZ24oYSxsLHQpLGUmJmUubGVuZ3RoPjAmJlRzKGEsbCxlLmpvaW4oIiAiKSl9aWYoZz13ZShkLEt0KSx2b2lkIDAhPT1lKXtjb25zdCB0PWcucHJvamVjdGlvbj1bXTtmb3IobGV0IG49MDtuPHRoaXMubmdDb250ZW50U2VsZWN0b3JzLmxlbmd0aDtuKyspe2NvbnN0IHI9ZVtuXTt0LnB1c2gobnVsbCE9cj9BcnJheS5mcm9tKHIpOm51bGwpfX1mPWZ1bmN0aW9uKHQsZSxuLHIscyl7Y29uc3QgaT1uWzFdLG89ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9UmUoKTt0LmZpcnN0Q3JlYXRlUGFzcyYmKG4ucHJvdmlkZXJzUmVzb2x2ZXImJm4ucHJvdmlkZXJzUmVzb2x2ZXIobikseWkodCxyLGUsSnModCxlLDEsbnVsbCksbikpO2NvbnN0IHM9TW4oZSx0LHIuZGlyZWN0aXZlU3RhcnQscik7R3IocyxlKTtjb25zdCBpPUNlKHIsZSk7cmV0dXJuIGkmJkdyKGksZSksc30oaSxuLGUpO2lmKHIuY29tcG9uZW50cy5wdXNoKG8pLHRbOF09byxzJiZzLmZvckVhY2godD0+dChvLGUpKSxlLmNvbnRlbnRRdWVyaWVzKXtjb25zdCB0PVJlKCk7ZS5jb250ZW50UXVlcmllcygxLG8sdC5kaXJlY3RpdmVTdGFydCl9Y29uc3QgYT1SZSgpO3JldHVybiFpLmZpcnN0Q3JlYXRlUGFzc3x8bnVsbD09PWUuaG9zdEJpbmRpbmdzJiZudWxsPT09ZS5ob3N0QXR0cnN8fChybihhLmluZGV4KSxkaShuWzFdLGEsMCxhLmRpcmVjdGl2ZVN0YXJ0LGEuZGlyZWN0aXZlRW5kLGUpLHBpKGUsbykpLG99KHQsdGhpcy5jb21wb25lbnREZWYscCxoLFtLaV0pLHRpKGQscCxudWxsKX1maW5hbGx5e2VuKCl9cmV0dXJuIG5ldyB3Yyh0aGlzLmNvbXBvbmVudFR5cGUsZixFYShnLHApLHAsZyl9fWNsYXNzIHdjIGV4dGVuZHMgY2xhc3N7fXtjb25zdHJ1Y3Rvcih0LGUsbixyLHMpe3N1cGVyKCksdGhpcy5sb2NhdGlvbj1uLHRoaXMuX3Jvb3RMVmlldz1yLHRoaXMuX3ROb2RlPXMsdGhpcy5pbnN0YW5jZT1lLHRoaXMuaG9zdFZpZXc9dGhpcy5jaGFuZ2VEZXRlY3RvclJlZj1uZXcgWmEociksdGhpcy5jb21wb25lbnRUeXBlPXR9Z2V0IGluamVjdG9yKCl7cmV0dXJuIG5ldyBWbih0aGlzLl90Tm9kZSx0aGlzLl9yb290TFZpZXcpfWRlc3Ryb3koKXt0aGlzLmhvc3RWaWV3LmRlc3Ryb3koKX1vbkRlc3Ryb3kodCl7dGhpcy5ob3N0Vmlldy5vbkRlc3Ryb3kodCl9fWNvbnN0IF9jPW5ldyBNYXA7Y2xhc3MgRGMgZXh0ZW5kcyBhY3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5fcGFyZW50PWUsdGhpcy5fYm9vdHN0cmFwQ29tcG9uZW50cz1bXSx0aGlzLmluamVjdG9yPXRoaXMsdGhpcy5kZXN0cm95Q2JzPVtdLHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyPW5ldyB5Yyh0aGlzKTtjb25zdCBuPVF0KHQpLHI9dFtNdF18fG51bGw7ciYmaGEociksdGhpcy5fYm9vdHN0cmFwQ29tcG9uZW50cz10cyhuLmJvb3RzdHJhcCksdGhpcy5fcjNJbmplY3Rvcj0kaSh0LGUsW3twcm92aWRlOmFjLHVzZVZhbHVlOnRoaXN9LHtwcm92aWRlOl9hLHVzZVZhbHVlOnRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyfV0sZXQodCkpLHRoaXMuX3IzSW5qZWN0b3IuX3Jlc29sdmVJbmplY3RvckRlZlR5cGVzKCksdGhpcy5pbnN0YW5jZT10aGlzLmdldCh0KX1nZXQodCxlPVFpLlRIUk9XX0lGX05PVF9GT1VORCxuPUN0LkRlZmF1bHQpe3JldHVybiB0PT09UWl8fHQ9PT1hY3x8dD09PUJpP3RoaXM6dGhpcy5fcjNJbmplY3Rvci5nZXQodCxlLG4pfWRlc3Ryb3koKXtjb25zdCB0PXRoaXMuX3IzSW5qZWN0b3I7IXQuZGVzdHJveWVkJiZ0LmRlc3Ryb3koKSx0aGlzLmRlc3Ryb3lDYnMuZm9yRWFjaCh0PT50KCkpLHRoaXMuZGVzdHJveUNicz1udWxsfW9uRGVzdHJveSh0KXt0aGlzLmRlc3Ryb3lDYnMucHVzaCh0KX19Y2xhc3MgRWMgZXh0ZW5kcyBjY3tjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMubW9kdWxlVHlwZT10LG51bGwhPT1RdCh0KSYmZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgU2V0OyFmdW5jdGlvbiB0KG4pe2NvbnN0IHI9UXQobiwhMCkscz1yLmlkO251bGwhPT1zJiYoZnVuY3Rpb24odCxlLG4pe2lmKGUmJmUhPT1uKXRocm93IG5ldyBFcnJvcihgRHVwbGljYXRlIG1vZHVsZSByZWdpc3RlcmVkIGZvciAke3R9IC0gJHtldChlKX0gdnMgJHtldChlLm5hbWUpfWApfShzLF9jLmdldChzKSxuKSxfYy5zZXQocyxuKSk7Y29uc3QgaT10cyhyLmltcG9ydHMpO2Zvcihjb25zdCBvIG9mIGkpZS5oYXMobyl8fChlLmFkZChvKSx0KG8pKX0odCl9KHQpfWNyZWF0ZSh0KXtyZXR1cm4gbmV3IERjKHRoaXMubW9kdWxlVHlwZSx0KX19ZnVuY3Rpb24gU2ModCxlLG4pe2NvbnN0IHI9dCtLdCxzPUllKCksaT1fZShzLHIpO3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiBvby5pc1dyYXBwZWQoZSkmJihlPW9vLnVud3JhcChlKSx0W1ZlKCldPVZzKSxlfShzLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMV0uZGF0YVtlXS5wdXJlfShzLHIpP2Z1bmN0aW9uKHQsZSxuLHIscyxpKXtjb25zdCBvPWUrbjtyZXR1cm4gbG8odCxvLHMpP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1ufSh0LG8rMSxpP3IuY2FsbChpLHMpOnIocykpOmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10W2VdO3JldHVybiBuPT09VnM/dm9pZCAwOm59KHQsbysxKX0ocyxmdW5jdGlvbigpe2NvbnN0IHQ9a2UubEZyYW1lO2xldCBlPXQuYmluZGluZ1Jvb3RJbmRleDtyZXR1cm4tMT09PWUmJihlPXQuYmluZGluZ1Jvb3RJbmRleD10LnRWaWV3LmJpbmRpbmdTdGFydEluZGV4KSxlfSgpLGUsaS50cmFuc2Zvcm0sbixpKTppLnRyYW5zZm9ybShuKSl9ZnVuY3Rpb24geGModCl7cmV0dXJuIGU9PntzZXRUaW1lb3V0KHQsdm9pZCAwLGUpfX1jb25zdCBBYz1jbGFzcyBleHRlbmRzIER7Y29uc3RydWN0b3IodD0hMSl7c3VwZXIoKSx0aGlzLl9faXNBc3luYz10fWVtaXQodCl7c3VwZXIubmV4dCh0KX1zdWJzY3JpYmUodCxlLG4pe3ZhciByLHMsaTtsZXQgbz10LGE9ZXx8KCgpPT5udWxsKSxjPW47aWYodCYmIm9iamVjdCI9PXR5cGVvZiB0KXtjb25zdCBlPXQ7bz1udWxsPT09KHI9ZS5uZXh0KXx8dm9pZCAwPT09cj92b2lkIDA6ci5iaW5kKGUpLGE9bnVsbD09PShzPWUuZXJyb3IpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmJpbmQoZSksYz1udWxsPT09KGk9ZS5jb21wbGV0ZSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuYmluZChlKX10aGlzLl9faXNBc3luYyYmKGE9eGMoYSksbyYmKG89eGMobykpLGMmJihjPXhjKGMpKSk7Y29uc3QgbD1zdXBlci5zdWJzY3JpYmUoe25leHQ6byxlcnJvcjphLGNvbXBsZXRlOmN9KTtyZXR1cm4gdCBpbnN0YW5jZW9mIGgmJnQuYWRkKGwpLGx9fTtmdW5jdGlvbiBUYygpe3JldHVybiB0aGlzLl9yZXN1bHRzW2lvKCldKCl9Y2xhc3Mga2N7Y29uc3RydWN0b3IodD0hMSl7dGhpcy5fZW1pdERpc3RpbmN0Q2hhbmdlc09ubHk9dCx0aGlzLmRpcnR5PSEwLHRoaXMuX3Jlc3VsdHM9W10sdGhpcy5fY2hhbmdlc0RldGVjdGVkPSExLHRoaXMuX2NoYW5nZXM9bnVsbCx0aGlzLmxlbmd0aD0wLHRoaXMuZmlyc3Q9dm9pZCAwLHRoaXMubGFzdD12b2lkIDA7Y29uc3QgZT1pbygpLG49a2MucHJvdG90eXBlO25bZV18fChuW2VdPVRjKX1nZXQgY2hhbmdlcygpe3JldHVybiB0aGlzLl9jaGFuZ2VzfHwodGhpcy5fY2hhbmdlcz1uZXcgQWMpfWdldCh0KXtyZXR1cm4gdGhpcy5fcmVzdWx0c1t0XX1tYXAodCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMubWFwKHQpfWZpbHRlcih0KXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5maWx0ZXIodCl9ZmluZCh0KXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5maW5kKHQpfXJlZHVjZSh0LGUpe3JldHVybiB0aGlzLl9yZXN1bHRzLnJlZHVjZSh0LGUpfWZvckVhY2godCl7dGhpcy5fcmVzdWx0cy5mb3JFYWNoKHQpfXNvbWUodCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMuc29tZSh0KX10b0FycmF5KCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMuc2xpY2UoKX10b1N0cmluZygpe3JldHVybiB0aGlzLl9yZXN1bHRzLnRvU3RyaW5nKCl9cmVzZXQodCxlKXtjb25zdCBuPXRoaXM7bi5kaXJ0eT0hMTtjb25zdCByPVluKHQpOyh0aGlzLl9jaGFuZ2VzRGV0ZWN0ZWQ9IWZ1bmN0aW9uKHQsZSxuKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtsZXQgcz10W3JdLGk9ZVtyXTtpZihuJiYocz1uKHMpLGk9bihpKSksaSE9PXMpcmV0dXJuITF9cmV0dXJuITB9KG4uX3Jlc3VsdHMscixlKSkmJihuLl9yZXN1bHRzPXIsbi5sZW5ndGg9ci5sZW5ndGgsbi5sYXN0PXJbdGhpcy5sZW5ndGgtMV0sbi5maXJzdD1yWzBdKX1ub3RpZnlPbkNoYW5nZXMoKXshdGhpcy5fY2hhbmdlc3x8IXRoaXMuX2NoYW5nZXNEZXRlY3RlZCYmdGhpcy5fZW1pdERpc3RpbmN0Q2hhbmdlc09ubHl8fHRoaXMuX2NoYW5nZXMuZW1pdCh0aGlzKX1zZXREaXJ0eSgpe3RoaXMuZGlydHk9ITB9ZGVzdHJveSgpe3RoaXMuY2hhbmdlcy5jb21wbGV0ZSgpLHRoaXMuY2hhbmdlcy51bnN1YnNjcmliZSgpfX1jbGFzcyBGY3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnF1ZXJ5TGlzdD10LHRoaXMubWF0Y2hlcz1udWxsfWNsb25lKCl7cmV0dXJuIG5ldyBGYyh0aGlzLnF1ZXJ5TGlzdCl9c2V0RGlydHkoKXt0aGlzLnF1ZXJ5TGlzdC5zZXREaXJ0eSgpfX1jbGFzcyBJY3tjb25zdHJ1Y3Rvcih0PVtdKXt0aGlzLnF1ZXJpZXM9dH1jcmVhdGVFbWJlZGRlZFZpZXcodCl7Y29uc3QgZT10LnF1ZXJpZXM7aWYobnVsbCE9PWUpe2NvbnN0IG49bnVsbCE9PXQuY29udGVudFF1ZXJpZXM/dC5jb250ZW50UXVlcmllc1swXTplLmxlbmd0aCxyPVtdO2ZvcihsZXQgdD0wO3Q8bjt0Kyspe2NvbnN0IG49ZS5nZXRCeUluZGV4KHQpO3IucHVzaCh0aGlzLnF1ZXJpZXNbbi5pbmRleEluRGVjbGFyYXRpb25WaWV3XS5jbG9uZSgpKX1yZXR1cm4gbmV3IEljKHIpfXJldHVybiBudWxsfWluc2VydFZpZXcodCl7dGhpcy5kaXJ0eVF1ZXJpZXNXaXRoTWF0Y2hlcyh0KX1kZXRhY2hWaWV3KHQpe3RoaXMuZGlydHlRdWVyaWVzV2l0aE1hdGNoZXModCl9ZGlydHlRdWVyaWVzV2l0aE1hdGNoZXModCl7Zm9yKGxldCBlPTA7ZTx0aGlzLnF1ZXJpZXMubGVuZ3RoO2UrKyludWxsIT09VWModCxlKS5tYXRjaGVzJiZ0aGlzLnF1ZXJpZXNbZV0uc2V0RGlydHkoKX19Y2xhc3MgT2N7Y29uc3RydWN0b3IodCxlLG49bnVsbCl7dGhpcy5wcmVkaWNhdGU9dCx0aGlzLmZsYWdzPWUsdGhpcy5yZWFkPW59fWNsYXNzIFBje2NvbnN0cnVjdG9yKHQ9W10pe3RoaXMucXVlcmllcz10fWVsZW1lbnRTdGFydCh0LGUpe2ZvcihsZXQgbj0wO248dGhpcy5xdWVyaWVzLmxlbmd0aDtuKyspdGhpcy5xdWVyaWVzW25dLmVsZW1lbnRTdGFydCh0LGUpfWVsZW1lbnRFbmQodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLnF1ZXJpZXMubGVuZ3RoO2UrKyl0aGlzLnF1ZXJpZXNbZV0uZWxlbWVudEVuZCh0KX1lbWJlZGRlZFRWaWV3KHQpe2xldCBlPW51bGw7Zm9yKGxldCBuPTA7bjx0aGlzLmxlbmd0aDtuKyspe2NvbnN0IHI9bnVsbCE9PWU/ZS5sZW5ndGg6MCxzPXRoaXMuZ2V0QnlJbmRleChuKS5lbWJlZGRlZFRWaWV3KHQscik7cyYmKHMuaW5kZXhJbkRlY2xhcmF0aW9uVmlldz1uLG51bGwhPT1lP2UucHVzaChzKTplPVtzXSl9cmV0dXJuIG51bGwhPT1lP25ldyBQYyhlKTpudWxsfXRlbXBsYXRlKHQsZSl7Zm9yKGxldCBuPTA7bjx0aGlzLnF1ZXJpZXMubGVuZ3RoO24rKyl0aGlzLnF1ZXJpZXNbbl0udGVtcGxhdGUodCxlKX1nZXRCeUluZGV4KHQpe3JldHVybiB0aGlzLnF1ZXJpZXNbdF19Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLnF1ZXJpZXMubGVuZ3RofXRyYWNrKHQpe3RoaXMucXVlcmllcy5wdXNoKHQpfX1jbGFzcyBSY3tjb25zdHJ1Y3Rvcih0LGU9LTEpe3RoaXMubWV0YWRhdGE9dCx0aGlzLm1hdGNoZXM9bnVsbCx0aGlzLmluZGV4SW5EZWNsYXJhdGlvblZpZXc9LTEsdGhpcy5jcm9zc2VzTmdUZW1wbGF0ZT0hMSx0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZT0hMCx0aGlzLl9kZWNsYXJhdGlvbk5vZGVJbmRleD1lfWVsZW1lbnRTdGFydCh0LGUpe3RoaXMuaXNBcHBseWluZ1RvTm9kZShlKSYmdGhpcy5tYXRjaFROb2RlKHQsZSl9ZWxlbWVudEVuZCh0KXt0aGlzLl9kZWNsYXJhdGlvbk5vZGVJbmRleD09PXQuaW5kZXgmJih0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZT0hMSl9dGVtcGxhdGUodCxlKXt0aGlzLmVsZW1lbnRTdGFydCh0LGUpfWVtYmVkZGVkVFZpZXcodCxlKXtyZXR1cm4gdGhpcy5pc0FwcGx5aW5nVG9Ob2RlKHQpPyh0aGlzLmNyb3NzZXNOZ1RlbXBsYXRlPSEwLHRoaXMuYWRkTWF0Y2goLXQuaW5kZXgsZSksbmV3IFJjKHRoaXMubWV0YWRhdGEpKTpudWxsfWlzQXBwbHlpbmdUb05vZGUodCl7aWYodGhpcy5fYXBwbGllc1RvTmV4dE5vZGUmJjEhPSgxJnRoaXMubWV0YWRhdGEuZmxhZ3MpKXtjb25zdCBlPXRoaXMuX2RlY2xhcmF0aW9uTm9kZUluZGV4O2xldCBuPXQucGFyZW50O2Zvcig7bnVsbCE9PW4mJjgmbi50eXBlJiZuLmluZGV4IT09ZTspbj1uLnBhcmVudDtyZXR1cm4gZT09PShudWxsIT09bj9uLmluZGV4Oi0xKX1yZXR1cm4gdGhpcy5fYXBwbGllc1RvTmV4dE5vZGV9bWF0Y2hUTm9kZSh0LGUpe2NvbnN0IG49dGhpcy5tZXRhZGF0YS5wcmVkaWNhdGU7aWYoQXJyYXkuaXNBcnJheShuKSlmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrKyl7Y29uc3Qgcz1uW3JdO3RoaXMubWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHQsZSxMYyhlLHMpKSx0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0LGUsam4oZSx0LHMsITEsITEpKX1lbHNlIG49PT1yYz80JmUudHlwZSYmdGhpcy5tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24odCxlLC0xKTp0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0LGUsam4oZSx0LG4sITEsITEpKX1tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24odCxlLG4pe2lmKG51bGwhPT1uKXtjb25zdCByPXRoaXMubWV0YWRhdGEucmVhZDtpZihudWxsIT09cilpZihyPT09eGF8fHI9PT11Y3x8cj09PXJjJiY0JmUudHlwZSl0aGlzLmFkZE1hdGNoKGUuaW5kZXgsLTIpO2Vsc2V7Y29uc3Qgbj1qbihlLHQsciwhMSwhMSk7bnVsbCE9PW4mJnRoaXMuYWRkTWF0Y2goZS5pbmRleCxuKX1lbHNlIHRoaXMuYWRkTWF0Y2goZS5pbmRleCxuKX19YWRkTWF0Y2godCxlKXtudWxsPT09dGhpcy5tYXRjaGVzP3RoaXMubWF0Y2hlcz1bdCxlXTp0aGlzLm1hdGNoZXMucHVzaCh0LGUpfX1mdW5jdGlvbiBMYyh0LGUpe2NvbnN0IG49dC5sb2NhbE5hbWVzO2lmKG51bGwhPT1uKWZvcihsZXQgcj0wO3I8bi5sZW5ndGg7cis9MilpZihuW3JdPT09ZSlyZXR1cm4gbltyKzFdO3JldHVybiBudWxsfWZ1bmN0aW9uIEJjKHQsZSxuLHIpe3JldHVybi0xPT09bj9mdW5jdGlvbih0LGUpe3JldHVybiAxMSZ0LnR5cGU/RWEodCxlKTo0JnQudHlwZT9vYyh0LGUpOm51bGx9KGUsdCk6LTI9PT1uP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbj09PXhhP0VhKGUsdCk6bj09PXJjP29jKGUsdCk6bj09PXVjP2djKGUsdCk6dm9pZCAwfSh0LGUscik6TW4odCx0WzFdLG4sZSl9ZnVuY3Rpb24gamModCxlLG4scil7Y29uc3Qgcz1lWzE5XS5xdWVyaWVzW3JdO2lmKG51bGw9PT1zLm1hdGNoZXMpe2NvbnN0IHI9dC5kYXRhLGk9bi5tYXRjaGVzLG89W107Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0Kz0yKXtjb25zdCBzPWlbdF07by5wdXNoKHM8MD9udWxsOkJjKGUscltzXSxpW3QrMV0sbi5tZXRhZGF0YS5yZWFkKSl9cy5tYXRjaGVzPW99cmV0dXJuIHMubWF0Y2hlc31mdW5jdGlvbiBNYyh0LGUsbixyKXtjb25zdCBzPXQucXVlcmllcy5nZXRCeUluZGV4KG4pLGk9cy5tYXRjaGVzO2lmKG51bGwhPT1pKXtjb25zdCBvPWpjKHQsZSxzLG4pO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCs9Mil7Y29uc3Qgbj1pW3RdO2lmKG4+MClyLnB1c2gob1t0LzJdKTtlbHNle2NvbnN0IHM9aVt0KzFdLG89ZVstbl07Zm9yKGxldCB0PUp0O3Q8by5sZW5ndGg7dCsrKXtjb25zdCBlPW9bdF07ZVsxN109PT1lWzNdJiZNYyhlWzFdLGUscyxyKX1pZihudWxsIT09b1s5XSl7Y29uc3QgdD1vWzldO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBuPXRbZV07TWMoblsxXSxuLHMscil9fX19fXJldHVybiByfWZ1bmN0aW9uIE5jKHQpe2NvbnN0IGU9SWUoKSxuPU9lKCkscj1HZSgpO3FlKHIrMSk7Y29uc3Qgcz1VYyhuLHIpO2lmKHQuZGlydHkmJkVlKGUpPT09KDI9PSgyJnMubWV0YWRhdGEuZmxhZ3MpKSl7aWYobnVsbD09PXMubWF0Y2hlcyl0LnJlc2V0KFtdKTtlbHNle2NvbnN0IGk9cy5jcm9zc2VzTmdUZW1wbGF0ZT9NYyhuLGUscixbXSk6amMobixlLHMscik7dC5yZXNldChpLEFhKSx0Lm5vdGlmeU9uQ2hhbmdlcygpfXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEhjKHQsZSxuKXtjb25zdCByPU9lKCk7ci5maXJzdENyZWF0ZVBhc3MmJigkYyhyLG5ldyBPYyh0LGUsbiksLTEpLDI9PSgyJmUpJiYoci5zdGF0aWNWaWV3UXVlcmllcz0hMCkpLHpjKHIsSWUoKSxlKX1mdW5jdGlvbiBWYygpe3JldHVybiB0PUllKCksZT1HZSgpLHRbMTldLnF1ZXJpZXNbZV0ucXVlcnlMaXN0O3ZhciB0LGV9ZnVuY3Rpb24gemModCxlLG4pe2NvbnN0IHI9bmV3IGtjKDQ9PSg0Jm4pKTtsaSh0LGUscixyLmRlc3Ryb3kpLG51bGw9PT1lWzE5XSYmKGVbMTldPW5ldyBJYyksZVsxOV0ucXVlcmllcy5wdXNoKG5ldyBGYyhyKSl9ZnVuY3Rpb24gJGModCxlLG4pe251bGw9PT10LnF1ZXJpZXMmJih0LnF1ZXJpZXM9bmV3IFBjKSx0LnF1ZXJpZXMudHJhY2sobmV3IFJjKGUsbikpfWZ1bmN0aW9uIFVjKHQsZSl7cmV0dXJuIHQucXVlcmllcy5nZXRCeUluZGV4KGUpfWZ1bmN0aW9uIFdjKHQsZSl7cmV0dXJuIG9jKHQsZSl9Y29uc3QgR2M9bmV3IEduKCJBcHBsaWNhdGlvbiBJbml0aWFsaXplciIpO2xldCBxYz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuYXBwSW5pdHM9dCx0aGlzLnJlc29sdmU9RGEsdGhpcy5yZWplY3Q9RGEsdGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLmRvbmU9ITEsdGhpcy5kb25lUHJvbWlzZT1uZXcgUHJvbWlzZSgodCxlKT0+e3RoaXMucmVzb2x2ZT10LHRoaXMucmVqZWN0PWV9KX1ydW5Jbml0aWFsaXplcnMoKXtpZih0aGlzLmluaXRpYWxpemVkKXJldHVybjtjb25zdCB0PVtdLGU9KCk9Pnt0aGlzLmRvbmU9ITAsdGhpcy5yZXNvbHZlKCl9O2lmKHRoaXMuYXBwSW5pdHMpZm9yKGxldCBuPTA7bjx0aGlzLmFwcEluaXRzLmxlbmd0aDtuKyspe2NvbnN0IGU9dGhpcy5hcHBJbml0c1tuXSgpO2lmKERvKGUpKXQucHVzaChlKTtlbHNlIGlmKFNvKGUpKXtjb25zdCBuPW5ldyBQcm9taXNlKCh0LG4pPT57ZS5zdWJzY3JpYmUoe2NvbXBsZXRlOnQsZXJyb3I6bn0pfSk7dC5wdXNoKG4pfX1Qcm9taXNlLmFsbCh0KS50aGVuKCgpPT57ZSgpfSkuY2F0Y2godD0+e3RoaXMucmVqZWN0KHQpfSksMD09PXQubGVuZ3RoJiZlKCksdGhpcy5pbml0aWFsaXplZD0hMH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodXIoR2MsOCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IFhjPW5ldyBHbigiQXBwSWQiKSxZYz17cHJvdmlkZTpYYyx1c2VGYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuYCR7WmMoKX0ke1pjKCl9JHtaYygpfWB9LGRlcHM6W119O2Z1bmN0aW9uIFpjKCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoOTcrTWF0aC5mbG9vcigyNSpNYXRoLnJhbmRvbSgpKSl9Y29uc3QgUWM9bmV3IEduKCJQbGF0Zm9ybSBJbml0aWFsaXplciIpLEtjPW5ldyBHbigiUGxhdGZvcm0gSUQiKSxKYz1uZXcgR24oImFwcEJvb3RzdHJhcExpc3RlbmVyIik7bGV0IHRsPSgoKT0+e2NsYXNzIHR7bG9nKHQpe2NvbnNvbGUubG9nKHQpfXdhcm4odCl7Y29uc29sZS53YXJuKHQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCBlbD1uZXcgR24oIkxvY2FsZUlkIiksbmw9bmV3IEduKCJEZWZhdWx0Q3VycmVuY3lDb2RlIik7Y2xhc3Mgcmx7Y29uc3RydWN0b3IodCxlKXt0aGlzLm5nTW9kdWxlRmFjdG9yeT10LHRoaXMuY29tcG9uZW50RmFjdG9yaWVzPWV9fWNvbnN0IHNsPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRWModCl9LGlsPXNsLG9sPWZ1bmN0aW9uKHQpe3JldHVybiBQcm9taXNlLnJlc29sdmUoc2wodCkpfSxhbD1mdW5jdGlvbih0KXtjb25zdCBlPXNsKHQpLG49dHMoUXQodCkuZGVjbGFyYXRpb25zKS5yZWR1Y2UoKHQsZSk9Pntjb25zdCBuPVp0KGUpO3JldHVybiBuJiZ0LnB1c2gobmV3IENjKG4pKSx0fSxbXSk7cmV0dXJuIG5ldyBybChlLG4pfSxjbD1hbCxsbD1mdW5jdGlvbih0KXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGFsKHQpKX07bGV0IHVsPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmNvbXBpbGVNb2R1bGVTeW5jPWlsLHRoaXMuY29tcGlsZU1vZHVsZUFzeW5jPW9sLHRoaXMuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jPWNsLHRoaXMuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luYz1sbH1jbGVhckNhY2hlKCl7fWNsZWFyQ2FjaGVGb3IodCl7fWdldE1vZHVsZUlkKHQpe319cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y29uc3QgaGw9KCgpPT5Qcm9taXNlLnJlc29sdmUoMCkpKCk7ZnVuY3Rpb24gZGwodCl7InVuZGVmaW5lZCI9PXR5cGVvZiBab25lP2hsLnRoZW4oKCk9Pnt0JiZ0LmFwcGx5KG51bGwsbnVsbCl9KTpab25lLmN1cnJlbnQuc2NoZWR1bGVNaWNyb1Rhc2soInNjaGVkdWxlTWljcm90YXNrIix0KX1jbGFzcyBwbHtjb25zdHJ1Y3Rvcih7ZW5hYmxlTG9uZ1N0YWNrVHJhY2U6dD0hMSxzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uOmU9ITEsc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb246bj0hMX0pe2lmKHRoaXMuaGFzUGVuZGluZ01hY3JvdGFza3M9ITEsdGhpcy5oYXNQZW5kaW5nTWljcm90YXNrcz0hMSx0aGlzLmlzU3RhYmxlPSEwLHRoaXMub25VbnN0YWJsZT1uZXcgQWMoITEpLHRoaXMub25NaWNyb3Rhc2tFbXB0eT1uZXcgQWMoITEpLHRoaXMub25TdGFibGU9bmV3IEFjKCExKSx0aGlzLm9uRXJyb3I9bmV3IEFjKCExKSwidW5kZWZpbmVkIj09dHlwZW9mIFpvbmUpdGhyb3cgbmV3IEVycm9yKCJJbiB0aGlzIGNvbmZpZ3VyYXRpb24gQW5ndWxhciByZXF1aXJlcyBab25lLmpzIik7Wm9uZS5hc3NlcnRab25lUGF0Y2hlZCgpO2NvbnN0IHI9dGhpcztyLl9uZXN0aW5nPTAsci5fb3V0ZXI9ci5faW5uZXI9Wm9uZS5jdXJyZW50LFpvbmUuVGFza1RyYWNraW5nWm9uZVNwZWMmJihyLl9pbm5lcj1yLl9pbm5lci5mb3JrKG5ldyBab25lLlRhc2tUcmFja2luZ1pvbmVTcGVjKSksdCYmWm9uZS5sb25nU3RhY2tUcmFjZVpvbmVTcGVjJiYoci5faW5uZXI9ci5faW5uZXIuZm9yayhab25lLmxvbmdTdGFja1RyYWNlWm9uZVNwZWMpKSxyLnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb249IW4mJmUsci5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbj1uLHIubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkPS0xLHIubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7bGV0IHQ9SXQucmVxdWVzdEFuaW1hdGlvbkZyYW1lLGU9SXQuY2FuY2VsQW5pbWF0aW9uRnJhbWU7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBab25lJiZ0JiZlKXtjb25zdCBuPXRbWm9uZS5fX3N5bWJvbF9fKCJPcmlnaW5hbERlbGVnYXRlIildO24mJih0PW4pO2NvbnN0IHI9ZVtab25lLl9fc3ltYm9sX18oIk9yaWdpbmFsRGVsZWdhdGUiKV07ciYmKGU9cil9cmV0dXJue25hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZTp0LG5hdGl2ZUNhbmNlbEFuaW1hdGlvbkZyYW1lOmV9fSgpLm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSxmdW5jdGlvbih0KXtjb25zdCBlPSgpPT57IWZ1bmN0aW9uKHQpe3QuaXNDaGVja1N0YWJsZVJ1bm5pbmd8fC0xIT09dC5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWR8fCh0Lmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZD10Lm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZS5jYWxsKEl0LCgpPT57dC5mYWtlVG9wRXZlbnRUYXNrfHwodC5mYWtlVG9wRXZlbnRUYXNrPVpvbmUucm9vdC5zY2hlZHVsZUV2ZW50VGFzaygiZmFrZVRvcEV2ZW50VGFzayIsKCk9Pnt0Lmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZD0tMSxtbCh0KSx0LmlzQ2hlY2tTdGFibGVSdW5uaW5nPSEwLGdsKHQpLHQuaXNDaGVja1N0YWJsZVJ1bm5pbmc9ITF9LHZvaWQgMCwoKT0+e30sKCk9Pnt9KSksdC5mYWtlVG9wRXZlbnRUYXNrLmludm9rZSgpfSksbWwodCkpfSh0KX07dC5faW5uZXI9dC5faW5uZXIuZm9yayh7bmFtZToiYW5ndWxhciIscHJvcGVydGllczp7aXNBbmd1bGFyWm9uZTohMH0sb25JbnZva2VUYXNrOihuLHIscyxpLG8sYSk9Pnt0cnl7cmV0dXJuIHlsKHQpLG4uaW52b2tlVGFzayhzLGksbyxhKX1maW5hbGx5eyh0LnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24mJiJldmVudFRhc2siPT09aS50eXBlfHx0LnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uKSYmZSgpLHZsKHQpfX0sb25JbnZva2U6KG4scixzLGksbyxhLGMpPT57dHJ5e3JldHVybiB5bCh0KSxuLmludm9rZShzLGksbyxhLGMpfWZpbmFsbHl7dC5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiYmZSgpLHZsKHQpfX0sb25IYXNUYXNrOihlLG4scixzKT0+e2UuaGFzVGFzayhyLHMpLG49PT1yJiYoIm1pY3JvVGFzayI9PXMuY2hhbmdlPyh0Ll9oYXNQZW5kaW5nTWljcm90YXNrcz1zLm1pY3JvVGFzayxtbCh0KSxnbCh0KSk6Im1hY3JvVGFzayI9PXMuY2hhbmdlJiYodC5oYXNQZW5kaW5nTWFjcm90YXNrcz1zLm1hY3JvVGFzaykpfSxvbkhhbmRsZUVycm9yOihlLG4scixzKT0+KGUuaGFuZGxlRXJyb3IocixzKSx0LnJ1bk91dHNpZGVBbmd1bGFyKCgpPT50Lm9uRXJyb3IuZW1pdChzKSksITEpfSl9KHIpfXN0YXRpYyBpc0luQW5ndWxhclpvbmUoKXtyZXR1cm4hMD09PVpvbmUuY3VycmVudC5nZXQoImlzQW5ndWxhclpvbmUiKX1zdGF0aWMgYXNzZXJ0SW5Bbmd1bGFyWm9uZSgpe2lmKCFwbC5pc0luQW5ndWxhclpvbmUoKSl0aHJvdyBuZXcgRXJyb3IoIkV4cGVjdGVkIHRvIGJlIGluIEFuZ3VsYXIgWm9uZSwgYnV0IGl0IGlzIG5vdCEiKX1zdGF0aWMgYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpe2lmKHBsLmlzSW5Bbmd1bGFyWm9uZSgpKXRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgdG8gbm90IGJlIGluIEFuZ3VsYXIgWm9uZSwgYnV0IGl0IGlzISIpfXJ1bih0LGUsbil7cmV0dXJuIHRoaXMuX2lubmVyLnJ1bih0LGUsbil9cnVuVGFzayh0LGUsbixyKXtjb25zdCBzPXRoaXMuX2lubmVyLGk9cy5zY2hlZHVsZUV2ZW50VGFzaygiTmdab25lRXZlbnQ6ICIrcix0LGZsLERhLERhKTt0cnl7cmV0dXJuIHMucnVuVGFzayhpLGUsbil9ZmluYWxseXtzLmNhbmNlbFRhc2soaSl9fXJ1bkd1YXJkZWQodCxlLG4pe3JldHVybiB0aGlzLl9pbm5lci5ydW5HdWFyZGVkKHQsZSxuKX1ydW5PdXRzaWRlQW5ndWxhcih0KXtyZXR1cm4gdGhpcy5fb3V0ZXIucnVuKHQpfX1jb25zdCBmbD17fTtmdW5jdGlvbiBnbCh0KXtpZigwPT10Ll9uZXN0aW5nJiYhdC5oYXNQZW5kaW5nTWljcm90YXNrcyYmIXQuaXNTdGFibGUpdHJ5e3QuX25lc3RpbmcrKyx0Lm9uTWljcm90YXNrRW1wdHkuZW1pdChudWxsKX1maW5hbGx5e2lmKHQuX25lc3RpbmctLSwhdC5oYXNQZW5kaW5nTWljcm90YXNrcyl0cnl7dC5ydW5PdXRzaWRlQW5ndWxhcigoKT0+dC5vblN0YWJsZS5lbWl0KG51bGwpKX1maW5hbGx5e3QuaXNTdGFibGU9ITB9fX1mdW5jdGlvbiBtbCh0KXt0Lmhhc1BlbmRpbmdNaWNyb3Rhc2tzPSEhKHQuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzfHwodC5zaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9ufHx0LnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uKSYmLTEhPT10Lmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCl9ZnVuY3Rpb24geWwodCl7dC5fbmVzdGluZysrLHQuaXNTdGFibGUmJih0LmlzU3RhYmxlPSExLHQub25VbnN0YWJsZS5lbWl0KG51bGwpKX1mdW5jdGlvbiB2bCh0KXt0Ll9uZXN0aW5nLS0sZ2wodCl9Y2xhc3MgYmx7Y29uc3RydWN0b3IoKXt0aGlzLmhhc1BlbmRpbmdNaWNyb3Rhc2tzPSExLHRoaXMuaGFzUGVuZGluZ01hY3JvdGFza3M9ITEsdGhpcy5pc1N0YWJsZT0hMCx0aGlzLm9uVW5zdGFibGU9bmV3IEFjLHRoaXMub25NaWNyb3Rhc2tFbXB0eT1uZXcgQWMsdGhpcy5vblN0YWJsZT1uZXcgQWMsdGhpcy5vbkVycm9yPW5ldyBBY31ydW4odCxlLG4pe3JldHVybiB0LmFwcGx5KGUsbil9cnVuR3VhcmRlZCh0LGUsbil7cmV0dXJuIHQuYXBwbHkoZSxuKX1ydW5PdXRzaWRlQW5ndWxhcih0KXtyZXR1cm4gdCgpfXJ1blRhc2sodCxlLG4scil7cmV0dXJuIHQuYXBwbHkoZSxuKX19bGV0IENsPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5fbmdab25lPXQsdGhpcy5fcGVuZGluZ0NvdW50PTAsdGhpcy5faXNab25lU3RhYmxlPSEwLHRoaXMuX2RpZFdvcms9ITEsdGhpcy5fY2FsbGJhY2tzPVtdLHRoaXMudGFza1RyYWNraW5nWm9uZT1udWxsLHRoaXMuX3dhdGNoQW5ndWxhckV2ZW50cygpLHQucnVuKCgpPT57dGhpcy50YXNrVHJhY2tpbmdab25lPSJ1bmRlZmluZWQiPT10eXBlb2YgWm9uZT9udWxsOlpvbmUuY3VycmVudC5nZXQoIlRhc2tUcmFja2luZ1pvbmUiKX0pfV93YXRjaEFuZ3VsYXJFdmVudHMoKXt0aGlzLl9uZ1pvbmUub25VbnN0YWJsZS5zdWJzY3JpYmUoe25leHQ6KCk9Pnt0aGlzLl9kaWRXb3JrPSEwLHRoaXMuX2lzWm9uZVN0YWJsZT0hMX19KSx0aGlzLl9uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9Pnt0aGlzLl9uZ1pvbmUub25TdGFibGUuc3Vic2NyaWJlKHtuZXh0OigpPT57cGwuYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpLGRsKCgpPT57dGhpcy5faXNab25lU3RhYmxlPSEwLHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKX0pfX0pfSl9aW5jcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50KCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudCs9MSx0aGlzLl9kaWRXb3JrPSEwLHRoaXMuX3BlbmRpbmdDb3VudH1kZWNyZWFzZVBlbmRpbmdSZXF1ZXN0Q291bnQoKXtpZih0aGlzLl9wZW5kaW5nQ291bnQtPTEsdGhpcy5fcGVuZGluZ0NvdW50PDApdGhyb3cgbmV3IEVycm9yKCJwZW5kaW5nIGFzeW5jIHJlcXVlc3RzIGJlbG93IHplcm8iKTtyZXR1cm4gdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpLHRoaXMuX3BlbmRpbmdDb3VudH1pc1N0YWJsZSgpe3JldHVybiB0aGlzLl9pc1pvbmVTdGFibGUmJjA9PT10aGlzLl9wZW5kaW5nQ291bnQmJiF0aGlzLl9uZ1pvbmUuaGFzUGVuZGluZ01hY3JvdGFza3N9X3J1bkNhbGxiYWNrc0lmUmVhZHkoKXtpZih0aGlzLmlzU3RhYmxlKCkpZGwoKCk9Pntmb3IoOzAhPT10aGlzLl9jYWxsYmFja3MubGVuZ3RoOyl7bGV0IHQ9dGhpcy5fY2FsbGJhY2tzLnBvcCgpO2NsZWFyVGltZW91dCh0LnRpbWVvdXRJZCksdC5kb25lQ2IodGhpcy5fZGlkV29yayl9dGhpcy5fZGlkV29yaz0hMX0pO2Vsc2V7bGV0IHQ9dGhpcy5nZXRQZW5kaW5nVGFza3MoKTt0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzLmZpbHRlcihlPT4hZS51cGRhdGVDYnx8IWUudXBkYXRlQ2IodCl8fChjbGVhclRpbWVvdXQoZS50aW1lb3V0SWQpLCExKSksdGhpcy5fZGlkV29yaz0hMH19Z2V0UGVuZGluZ1Rhc2tzKCl7cmV0dXJuIHRoaXMudGFza1RyYWNraW5nWm9uZT90aGlzLnRhc2tUcmFja2luZ1pvbmUubWFjcm9UYXNrcy5tYXAodD0+KHtzb3VyY2U6dC5zb3VyY2UsY3JlYXRpb25Mb2NhdGlvbjp0LmNyZWF0aW9uTG9jYXRpb24sZGF0YTp0LmRhdGF9KSk6W119YWRkQ2FsbGJhY2sodCxlLG4pe2xldCByPS0xO2UmJmU+MCYmKHI9c2V0VGltZW91dCgoKT0+e3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3MuZmlsdGVyKHQ9PnQudGltZW91dElkIT09ciksdCh0aGlzLl9kaWRXb3JrLHRoaXMuZ2V0UGVuZGluZ1Rhc2tzKCkpfSxlKSksdGhpcy5fY2FsbGJhY2tzLnB1c2goe2RvbmVDYjp0LHRpbWVvdXRJZDpyLHVwZGF0ZUNiOm59KX13aGVuU3RhYmxlKHQsZSxuKXtpZihuJiYhdGhpcy50YXNrVHJhY2tpbmdab25lKXRocm93IG5ldyBFcnJvcignVGFzayB0cmFja2luZyB6b25lIGlzIHJlcXVpcmVkIHdoZW4gcGFzc2luZyBhbiB1cGRhdGUgY2FsbGJhY2sgdG8gd2hlblN0YWJsZSgpLiBJcyAiem9uZS5qcy9wbHVnaW5zL3Rhc2stdHJhY2tpbmciIGxvYWRlZD8nKTt0aGlzLmFkZENhbGxiYWNrKHQsZSxuKSx0aGlzLl9ydW5DYWxsYmFja3NJZlJlYWR5KCl9Z2V0UGVuZGluZ1JlcXVlc3RDb3VudCgpe3JldHVybiB0aGlzLl9wZW5kaW5nQ291bnR9ZmluZFByb3ZpZGVycyh0LGUsbil7cmV0dXJuW119fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHVyKHBsKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksd2w9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuX2FwcGxpY2F0aW9ucz1uZXcgTWFwLEVsLmFkZFRvV2luZG93KHRoaXMpfXJlZ2lzdGVyQXBwbGljYXRpb24odCxlKXt0aGlzLl9hcHBsaWNhdGlvbnMuc2V0KHQsZSl9dW5yZWdpc3RlckFwcGxpY2F0aW9uKHQpe3RoaXMuX2FwcGxpY2F0aW9ucy5kZWxldGUodCl9dW5yZWdpc3RlckFsbEFwcGxpY2F0aW9ucygpe3RoaXMuX2FwcGxpY2F0aW9ucy5jbGVhcigpfWdldFRlc3RhYmlsaXR5KHQpe3JldHVybiB0aGlzLl9hcHBsaWNhdGlvbnMuZ2V0KHQpfHxudWxsfWdldEFsbFRlc3RhYmlsaXRpZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9hcHBsaWNhdGlvbnMudmFsdWVzKCkpfWdldEFsbFJvb3RFbGVtZW50cygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX2FwcGxpY2F0aW9ucy5rZXlzKCkpfWZpbmRUZXN0YWJpbGl0eUluVHJlZSh0LGU9ITApe3JldHVybiBFbC5maW5kVGVzdGFiaWxpdHlJblRyZWUodGhpcyx0LGUpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjbGFzcyBfbHthZGRUb1dpbmRvdyh0KXt9ZmluZFRlc3RhYmlsaXR5SW5UcmVlKHQsZSxuKXtyZXR1cm4gbnVsbH19bGV0IERsLEVsPW5ldyBfbCxTbD0hMCx4bD0hMTtjb25zdCBBbD1uZXcgR24oIkFsbG93TXVsdGlwbGVUb2tlbiIpO2NsYXNzIFRse2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5uYW1lPXQsdGhpcy50b2tlbj1lfX1mdW5jdGlvbiBrbCh0LGUsbj1bXSl7Y29uc3Qgcj1gUGxhdGZvcm06ICR7ZX1gLHM9bmV3IEduKHIpO3JldHVybihlPVtdKT0+e2xldCBpPUZsKCk7aWYoIWl8fGkuaW5qZWN0b3IuZ2V0KEFsLCExKSlpZih0KXQobi5jb25jYXQoZSkuY29uY2F0KHtwcm92aWRlOnMsdXNlVmFsdWU6ITB9KSk7ZWxzZXtjb25zdCB0PW4uY29uY2F0KGUpLmNvbmNhdCh7cHJvdmlkZTpzLHVzZVZhbHVlOiEwfSx7cHJvdmlkZTpNaSx1c2VWYWx1ZToicGxhdGZvcm0ifSk7IWZ1bmN0aW9uKHQpe2lmKERsJiYhRGwuZGVzdHJveWVkJiYhRGwuaW5qZWN0b3IuZ2V0KEFsLCExKSl0aHJvdyBuZXcgRXJyb3IoIlRoZXJlIGNhbiBiZSBvbmx5IG9uZSBwbGF0Zm9ybS4gRGVzdHJveSB0aGUgcHJldmlvdXMgb25lIHRvIGNyZWF0ZSBhIG5ldyBvbmUuIik7RGw9dC5nZXQoSWwpO2NvbnN0IGU9dC5nZXQoUWMsbnVsbCk7ZSYmZS5mb3JFYWNoKHQ9PnQoKSl9KFFpLmNyZWF0ZSh7cHJvdmlkZXJzOnQsbmFtZTpyfSkpfXJldHVybiBmdW5jdGlvbih0KXtjb25zdCBlPUZsKCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJObyBwbGF0Zm9ybSBleGlzdHMhIik7aWYoIWUuaW5qZWN0b3IuZ2V0KHQsbnVsbCkpdGhyb3cgbmV3IEVycm9yKCJBIHBsYXRmb3JtIHdpdGggYSBkaWZmZXJlbnQgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBjcmVhdGVkLiBQbGVhc2UgZGVzdHJveSBpdCBmaXJzdC4iKTtyZXR1cm4gZX0ocyl9fWZ1bmN0aW9uIEZsKCl7cmV0dXJuIERsJiYhRGwuZGVzdHJveWVkP0RsOm51bGx9bGV0IElsPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5faW5qZWN0b3I9dCx0aGlzLl9tb2R1bGVzPVtdLHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnM9W10sdGhpcy5fZGVzdHJveWVkPSExfWJvb3RzdHJhcE1vZHVsZUZhY3RvcnkodCxlKXtjb25zdCBuPWZ1bmN0aW9uKHQsZSl7bGV0IG47cmV0dXJuIG49Im5vb3AiPT09dD9uZXcgYmw6KCJ6b25lLmpzIj09PXQ/dm9pZCAwOnQpfHxuZXcgcGwoe2VuYWJsZUxvbmdTdGFja1RyYWNlOih4bD0hMCxTbCksc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbjohIShudWxsPT1lP3ZvaWQgMDplLm5nWm9uZUV2ZW50Q29hbGVzY2luZyksc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb246ISEobnVsbD09ZT92b2lkIDA6ZS5uZ1pvbmVSdW5Db2FsZXNjaW5nKX0pLG59KGU/ZS5uZ1pvbmU6dm9pZCAwLHtuZ1pvbmVFdmVudENvYWxlc2Npbmc6ZSYmZS5uZ1pvbmVFdmVudENvYWxlc2Npbmd8fCExLG5nWm9uZVJ1bkNvYWxlc2Npbmc6ZSYmZS5uZ1pvbmVSdW5Db2FsZXNjaW5nfHwhMX0pLHI9W3twcm92aWRlOnBsLHVzZVZhbHVlOm59XTtyZXR1cm4gbi5ydW4oKCk9Pntjb25zdCBlPVFpLmNyZWF0ZSh7cHJvdmlkZXJzOnIscGFyZW50OnRoaXMuaW5qZWN0b3IsbmFtZTp0Lm1vZHVsZVR5cGUubmFtZX0pLHM9dC5jcmVhdGUoZSksaT1zLmluamVjdG9yLmdldChRcixudWxsKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoIk5vIEVycm9ySGFuZGxlci4gSXMgcGxhdGZvcm0gbW9kdWxlIChCcm93c2VyTW9kdWxlKSBpbmNsdWRlZD8iKTtyZXR1cm4gbi5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e2NvbnN0IHQ9bi5vbkVycm9yLnN1YnNjcmliZSh7bmV4dDp0PT57aS5oYW5kbGVFcnJvcih0KX19KTtzLm9uRGVzdHJveSgoKT0+e1JsKHRoaXMuX21vZHVsZXMscyksdC51bnN1YnNjcmliZSgpfSl9KSxmdW5jdGlvbih0LGUsbil7dHJ5e2NvbnN0IHI9bigpO3JldHVybiBEbyhyKT9yLmNhdGNoKG49Pnt0aHJvdyBlLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT50LmhhbmRsZUVycm9yKG4pKSxufSk6cn1jYXRjaChyKXt0aHJvdyBlLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT50LmhhbmRsZUVycm9yKHIpKSxyfX0oaSxuLCgpPT57Y29uc3QgdD1zLmluamVjdG9yLmdldChxYyk7cmV0dXJuIHQucnVuSW5pdGlhbGl6ZXJzKCksdC5kb25lUHJvbWlzZS50aGVuKCgpPT4oaGEocy5pbmplY3Rvci5nZXQoZWwsbGEpfHxsYSksdGhpcy5fbW9kdWxlRG9Cb290c3RyYXAocykscykpfSl9KX1ib290c3RyYXBNb2R1bGUodCxlPVtdKXtjb25zdCBuPU9sKHt9LGUpO3JldHVybiBmdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1uZXcgRWMobik7cmV0dXJuIFByb21pc2UucmVzb2x2ZShyKX0oMCwwLHQpLnRoZW4odD0+dGhpcy5ib290c3RyYXBNb2R1bGVGYWN0b3J5KHQsbikpfV9tb2R1bGVEb0Jvb3RzdHJhcCh0KXtjb25zdCBlPXQuaW5qZWN0b3IuZ2V0KFBsKTtpZih0Ll9ib290c3RyYXBDb21wb25lbnRzLmxlbmd0aD4wKXQuX2Jvb3RzdHJhcENvbXBvbmVudHMuZm9yRWFjaCh0PT5lLmJvb3RzdHJhcCh0KSk7ZWxzZXtpZighdC5pbnN0YW5jZS5uZ0RvQm9vdHN0cmFwKXRocm93IG5ldyBFcnJvcihgVGhlIG1vZHVsZSAke2V0KHQuaW5zdGFuY2UuY29uc3RydWN0b3IpfSB3YXMgYm9vdHN0cmFwcGVkLCBidXQgaXQgZG9lcyBub3QgZGVjbGFyZSAiQE5nTW9kdWxlLmJvb3RzdHJhcCIgY29tcG9uZW50cyBub3IgYSAibmdEb0Jvb3RzdHJhcCIgbWV0aG9kLiBQbGVhc2UgZGVmaW5lIG9uZSBvZiB0aGVzZS5gKTt0Lmluc3RhbmNlLm5nRG9Cb290c3RyYXAoZSl9dGhpcy5fbW9kdWxlcy5wdXNoKHQpfW9uRGVzdHJveSh0KXt0aGlzLl9kZXN0cm95TGlzdGVuZXJzLnB1c2godCl9Z2V0IGluamVjdG9yKCl7cmV0dXJuIHRoaXMuX2luamVjdG9yfWRlc3Ryb3koKXtpZih0aGlzLl9kZXN0cm95ZWQpdGhyb3cgbmV3IEVycm9yKCJUaGUgcGxhdGZvcm0gaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWQhIik7dGhpcy5fbW9kdWxlcy5zbGljZSgpLmZvckVhY2godD0+dC5kZXN0cm95KCkpLHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMuZm9yRWFjaCh0PT50KCkpLHRoaXMuX2Rlc3Ryb3llZD0hMH1nZXQgZGVzdHJveWVkKCl7cmV0dXJuIHRoaXMuX2Rlc3Ryb3llZH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodXIoUWkpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtmdW5jdGlvbiBPbCh0LGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2UucmVkdWNlKE9sLHQpOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSxlKX1sZXQgUGw9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbixyLHMpe3RoaXMuX3pvbmU9dCx0aGlzLl9pbmplY3Rvcj1lLHRoaXMuX2V4Y2VwdGlvbkhhbmRsZXI9bix0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI9cix0aGlzLl9pbml0U3RhdHVzPXMsdGhpcy5fYm9vdHN0cmFwTGlzdGVuZXJzPVtdLHRoaXMuX3ZpZXdzPVtdLHRoaXMuX3J1bm5pbmdUaWNrPSExLHRoaXMuX3N0YWJsZT0hMCx0aGlzLmNvbXBvbmVudFR5cGVzPVtdLHRoaXMuY29tcG9uZW50cz1bXSx0aGlzLl9vbk1pY3JvdGFza0VtcHR5U3Vic2NyaXB0aW9uPXRoaXMuX3pvbmUub25NaWNyb3Rhc2tFbXB0eS5zdWJzY3JpYmUoe25leHQ6KCk9Pnt0aGlzLl96b25lLnJ1bigoKT0+e3RoaXMudGljaygpfSl9fSk7Y29uc3QgaT1uZXcgdih0PT57dGhpcy5fc3RhYmxlPXRoaXMuX3pvbmUuaXNTdGFibGUmJiF0aGlzLl96b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzJiYhdGhpcy5fem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcyx0aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT57dC5uZXh0KHRoaXMuX3N0YWJsZSksdC5jb21wbGV0ZSgpfSl9KSxvPW5ldyB2KHQ9PntsZXQgZTt0aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT57ZT10aGlzLl96b25lLm9uU3RhYmxlLnN1YnNjcmliZSgoKT0+e3BsLmFzc2VydE5vdEluQW5ndWxhclpvbmUoKSxkbCgoKT0+e3RoaXMuX3N0YWJsZXx8dGhpcy5fem9uZS5oYXNQZW5kaW5nTWFjcm90YXNrc3x8dGhpcy5fem9uZS5oYXNQZW5kaW5nTWljcm90YXNrc3x8KHRoaXMuX3N0YWJsZT0hMCx0Lm5leHQoITApKX0pfSl9KTtjb25zdCBuPXRoaXMuX3pvbmUub25VbnN0YWJsZS5zdWJzY3JpYmUoKCk9PntwbC5hc3NlcnRJbkFuZ3VsYXJab25lKCksdGhpcy5fc3RhYmxlJiYodGhpcy5fc3RhYmxlPSExLHRoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9Pnt0Lm5leHQoITEpfSkpfSk7cmV0dXJuKCk9PntlLnVuc3Vic2NyaWJlKCksbi51bnN1YnNjcmliZSgpfX0pO3RoaXMuaXNTdGFibGU9VyhpLG8ucGlwZSh0PT57cmV0dXJuIEcoKSgoZT1LLGZ1bmN0aW9uKHQpe2xldCBuO249ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpmdW5jdGlvbigpe3JldHVybiBlfTtjb25zdCByPU9iamVjdC5jcmVhdGUodCxaKTtyZXR1cm4gci5zb3VyY2U9dCxyLnN1YmplY3RGYWN0b3J5PW4scn0pKHQpKTt2YXIgZX0pKX1ib290c3RyYXAodCxlKXtpZighdGhpcy5faW5pdFN0YXR1cy5kb25lKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGJvb3RzdHJhcCBhcyB0aGVyZSBhcmUgc3RpbGwgYXN5bmNocm9ub3VzIGluaXRpYWxpemVycyBydW5uaW5nLiBCb290c3RyYXAgY29tcG9uZW50cyBpbiB0aGUgYG5nRG9Cb290c3RyYXBgIG1ldGhvZCBvZiB0aGUgcm9vdCBtb2R1bGUuIik7bGV0IG47bj10IGluc3RhbmNlb2YgQ2E/dDp0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodCksdGhpcy5jb21wb25lbnRUeXBlcy5wdXNoKG4uY29tcG9uZW50VHlwZSk7Y29uc3Qgcj1uLmlzQm91bmRUb01vZHVsZT92b2lkIDA6dGhpcy5faW5qZWN0b3IuZ2V0KGFjKSxzPW4uY3JlYXRlKFFpLk5VTEwsW10sZXx8bi5zZWxlY3RvcixyKSxpPXMubG9jYXRpb24ubmF0aXZlRWxlbWVudCxvPXMuaW5qZWN0b3IuZ2V0KENsLG51bGwpLGE9byYmcy5pbmplY3Rvci5nZXQod2wpO3JldHVybiBvJiZhJiZhLnJlZ2lzdGVyQXBwbGljYXRpb24oaSxvKSxzLm9uRGVzdHJveSgoKT0+e3RoaXMuZGV0YWNoVmlldyhzLmhvc3RWaWV3KSxSbCh0aGlzLmNvbXBvbmVudHMscyksYSYmYS51bnJlZ2lzdGVyQXBwbGljYXRpb24oaSl9KSx0aGlzLl9sb2FkQ29tcG9uZW50KHMpLHN9dGljaygpe2lmKHRoaXMuX3J1bm5pbmdUaWNrKXRocm93IG5ldyBFcnJvcigiQXBwbGljYXRpb25SZWYudGljayBpcyBjYWxsZWQgcmVjdXJzaXZlbHkiKTt0cnl7dGhpcy5fcnVubmluZ1RpY2s9ITA7Zm9yKGxldCB0IG9mIHRoaXMuX3ZpZXdzKXQuZGV0ZWN0Q2hhbmdlcygpfWNhdGNoKHQpe3RoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PnRoaXMuX2V4Y2VwdGlvbkhhbmRsZXIuaGFuZGxlRXJyb3IodCkpfWZpbmFsbHl7dGhpcy5fcnVubmluZ1RpY2s9ITF9fWF0dGFjaFZpZXcodCl7Y29uc3QgZT10O3RoaXMuX3ZpZXdzLnB1c2goZSksZS5hdHRhY2hUb0FwcFJlZih0aGlzKX1kZXRhY2hWaWV3KHQpe2NvbnN0IGU9dDtSbCh0aGlzLl92aWV3cyxlKSxlLmRldGFjaEZyb21BcHBSZWYoKX1fbG9hZENvbXBvbmVudCh0KXt0aGlzLmF0dGFjaFZpZXcodC5ob3N0VmlldyksdGhpcy50aWNrKCksdGhpcy5jb21wb25lbnRzLnB1c2godCksdGhpcy5faW5qZWN0b3IuZ2V0KEpjLFtdKS5jb25jYXQodGhpcy5fYm9vdHN0cmFwTGlzdGVuZXJzKS5mb3JFYWNoKGU9PmUodCkpfW5nT25EZXN0cm95KCl7dGhpcy5fdmlld3Muc2xpY2UoKS5mb3JFYWNoKHQ9PnQuZGVzdHJveSgpKSx0aGlzLl9vbk1pY3JvdGFza0VtcHR5U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCl9Z2V0IHZpZXdDb3VudCgpe3JldHVybiB0aGlzLl92aWV3cy5sZW5ndGh9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHVyKHBsKSx1cihRaSksdXIoUXIpLHVyKF9hKSx1cihxYykpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2Z1bmN0aW9uIFJsKHQsZSl7Y29uc3Qgbj10LmluZGV4T2YoZSk7bj4tMSYmdC5zcGxpY2UobiwxKX1jbGFzcyBMbHt9Y2xhc3MgQmx7fWNvbnN0IGpsPXtmYWN0b3J5UGF0aFByZWZpeDoiIixmYWN0b3J5UGF0aFN1ZmZpeDoiLm5nZmFjdG9yeSJ9O2xldCBNbD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fY29tcGlsZXI9dCx0aGlzLl9jb25maWc9ZXx8amx9bG9hZCh0KXtyZXR1cm4gdGhpcy5sb2FkQW5kQ29tcGlsZSh0KX1sb2FkQW5kQ29tcGlsZSh0KXtsZXRbZSxyXT10LnNwbGl0KCIjIik7cmV0dXJuIHZvaWQgMD09PXImJihyPSJkZWZhdWx0Iiksbig2MjEpKGUpLnRoZW4odD0+dFtyXSkudGhlbih0PT5ObCh0LGUscikpLnRoZW4odD0+dGhpcy5fY29tcGlsZXIuY29tcGlsZU1vZHVsZUFzeW5jKHQpKX1sb2FkRmFjdG9yeSh0KXtsZXRbZSxyXT10LnNwbGl0KCIjIikscz0iTmdGYWN0b3J5IjtyZXR1cm4gdm9pZCAwPT09ciYmKHI9ImRlZmF1bHQiLHM9IiIpLG4oNjIxKSh0aGlzLl9jb25maWcuZmFjdG9yeVBhdGhQcmVmaXgrZSt0aGlzLl9jb25maWcuZmFjdG9yeVBhdGhTdWZmaXgpLnRoZW4odD0+dFtyK3NdKS50aGVuKHQ9Pk5sKHQsZSxyKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHVyKHVsKSx1cihCbCw4KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7ZnVuY3Rpb24gTmwodCxlLG4pe2lmKCF0KXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgJyR7bn0nIGluICcke2V9J2ApO3JldHVybiB0fWNvbnN0IEhsPWtsKG51bGwsImNvcmUiLFt7cHJvdmlkZTpLYyx1c2VWYWx1ZToidW5rbm93biJ9LHtwcm92aWRlOklsLGRlcHM6W1FpXX0se3Byb3ZpZGU6d2wsZGVwczpbXX0se3Byb3ZpZGU6dGwsZGVwczpbXX1dKSxWbD1be3Byb3ZpZGU6UGwsdXNlQ2xhc3M6UGwsZGVwczpbcGwsUWksUXIsX2EscWNdfSx7cHJvdmlkZTpiYyxkZXBzOltwbF0sdXNlRmFjdG9yeTpmdW5jdGlvbih0KXtsZXQgZT1bXTtyZXR1cm4gdC5vblN0YWJsZS5zdWJzY3JpYmUoKCk9Pntmb3IoO2UubGVuZ3RoOyllLnBvcCgpKCl9KSxmdW5jdGlvbih0KXtlLnB1c2godCl9fX0se3Byb3ZpZGU6cWMsdXNlQ2xhc3M6cWMsZGVwczpbW25ldyBmcixHY11dfSx7cHJvdmlkZTp1bCx1c2VDbGFzczp1bCxkZXBzOltdfSxZYyx7cHJvdmlkZTpXYSx1c2VGYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIHRjfSxkZXBzOltdfSx7cHJvdmlkZTpxYSx1c2VGYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIGVjfSxkZXBzOltdfSx7cHJvdmlkZTplbCx1c2VGYWN0b3J5OmZ1bmN0aW9uKHQpe3JldHVybiBoYSh0PXR8fCJ1bmRlZmluZWQiIT10eXBlb2YgJGxvY2FsaXplJiYkbG9jYWxpemUubG9jYWxlfHxsYSksdH0sZGVwczpbW25ldyBwcihlbCksbmV3IGZyLG5ldyBncl1dfSx7cHJvdmlkZTpubCx1c2VWYWx1ZToiVVNEIn1dO2xldCB6bD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe319cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodXIoUGwpKX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6Vmx9KSx0fSkoKSwkbD1udWxsO2Z1bmN0aW9uIFVsKCl7cmV0dXJuICRsfWNvbnN0IFdsPW5ldyBHbigiRG9jdW1lbnRUb2tlbiIpO2xldCBHbD0oKCk9PntjbGFzcyB0e2hpc3RvcnlHbyh0KXt0aHJvdyBuZXcgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZCIpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5OnFsLHRva2VuOnQscHJvdmlkZWRJbjoicGxhdGZvcm0ifSksdH0pKCk7ZnVuY3Rpb24gcWwoKXtyZXR1cm4gdXIoWWwpfWNvbnN0IFhsPW5ldyBHbigiTG9jYXRpb24gSW5pdGlhbGl6ZWQiKTtsZXQgWWw9KCgpPT57Y2xhc3MgdCBleHRlbmRzIEdse2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5fZG9jPXQsdGhpcy5faW5pdCgpfV9pbml0KCl7dGhpcy5sb2NhdGlvbj13aW5kb3cubG9jYXRpb24sdGhpcy5faGlzdG9yeT13aW5kb3cuaGlzdG9yeX1nZXRCYXNlSHJlZkZyb21ET00oKXtyZXR1cm4gVWwoKS5nZXRCYXNlSHJlZih0aGlzLl9kb2MpfW9uUG9wU3RhdGUodCl7Y29uc3QgZT1VbCgpLmdldEdsb2JhbEV2ZW50VGFyZ2V0KHRoaXMuX2RvYywid2luZG93Iik7cmV0dXJuIGUuYWRkRXZlbnRMaXN0ZW5lcigicG9wc3RhdGUiLHQsITEpLCgpPT5lLnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvcHN0YXRlIix0KX1vbkhhc2hDaGFuZ2UodCl7Y29uc3QgZT1VbCgpLmdldEdsb2JhbEV2ZW50VGFyZ2V0KHRoaXMuX2RvYywid2luZG93Iik7cmV0dXJuIGUuYWRkRXZlbnRMaXN0ZW5lcigiaGFzaGNoYW5nZSIsdCwhMSksKCk9PmUucmVtb3ZlRXZlbnRMaXN0ZW5lcigiaGFzaGNoYW5nZSIsdCl9Z2V0IGhyZWYoKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5ocmVmfWdldCBwcm90b2NvbCgpe3JldHVybiB0aGlzLmxvY2F0aW9uLnByb3RvY29sfWdldCBob3N0bmFtZSgpe3JldHVybiB0aGlzLmxvY2F0aW9uLmhvc3RuYW1lfWdldCBwb3J0KCl7cmV0dXJuIHRoaXMubG9jYXRpb24ucG9ydH1nZXQgcGF0aG5hbWUoKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5wYXRobmFtZX1nZXQgc2VhcmNoKCl7cmV0dXJuIHRoaXMubG9jYXRpb24uc2VhcmNofWdldCBoYXNoKCl7cmV0dXJuIHRoaXMubG9jYXRpb24uaGFzaH1zZXQgcGF0aG5hbWUodCl7dGhpcy5sb2NhdGlvbi5wYXRobmFtZT10fXB1c2hTdGF0ZSh0LGUsbil7WmwoKT90aGlzLl9oaXN0b3J5LnB1c2hTdGF0ZSh0LGUsbik6dGhpcy5sb2NhdGlvbi5oYXNoPW59cmVwbGFjZVN0YXRlKHQsZSxuKXtabCgpP3RoaXMuX2hpc3RvcnkucmVwbGFjZVN0YXRlKHQsZSxuKTp0aGlzLmxvY2F0aW9uLmhhc2g9bn1mb3J3YXJkKCl7dGhpcy5faGlzdG9yeS5mb3J3YXJkKCl9YmFjaygpe3RoaXMuX2hpc3RvcnkuYmFjaygpfWhpc3RvcnlHbyh0PTApe3RoaXMuX2hpc3RvcnkuZ28odCl9Z2V0U3RhdGUoKXtyZXR1cm4gdGhpcy5faGlzdG9yeS5zdGF0ZX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodXIoV2wpKX0sdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5OlFsLHRva2VuOnQscHJvdmlkZWRJbjoicGxhdGZvcm0ifSksdH0pKCk7ZnVuY3Rpb24gWmwoKXtyZXR1cm4hIXdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZX1mdW5jdGlvbiBRbCgpe3JldHVybiBuZXcgWWwodXIoV2wpKX1mdW5jdGlvbiBLbCh0LGUpe2lmKDA9PXQubGVuZ3RoKXJldHVybiBlO2lmKDA9PWUubGVuZ3RoKXJldHVybiB0O2xldCBuPTA7cmV0dXJuIHQuZW5kc1dpdGgoIi8iKSYmbisrLGUuc3RhcnRzV2l0aCgiLyIpJiZuKyssMj09bj90K2Uuc3Vic3RyaW5nKDEpOjE9PW4/dCtlOnQrIi8iK2V9ZnVuY3Rpb24gSmwodCl7Y29uc3QgZT10Lm1hdGNoKC8jfFw/fCQvKSxuPWUmJmUuaW5kZXh8fHQubGVuZ3RoO3JldHVybiB0LnNsaWNlKDAsbi0oIi8iPT09dFtuLTFdPzE6MCkpK3Quc2xpY2Uobil9ZnVuY3Rpb24gdHUodCl7cmV0dXJuIHQmJiI/IiE9PXRbMF0/Ij8iK3Q6dH1sZXQgZXU9KCgpPT57Y2xhc3MgdHtoaXN0b3J5R28odCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpudSx0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QifSksdH0pKCk7ZnVuY3Rpb24gbnUodCl7Y29uc3QgZT11cihXbCkubG9jYXRpb247cmV0dXJuIG5ldyBzdSh1cihHbCksZSYmZS5vcmlnaW58fCIiKX1jb25zdCBydT1uZXcgR24oImFwcEJhc2VIcmVmIik7bGV0IHN1PSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBldXtjb25zdHJ1Y3Rvcih0LGUpe2lmKHN1cGVyKCksdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbj10LHRoaXMuX3JlbW92ZUxpc3RlbmVyRm5zPVtdLG51bGw9PWUmJihlPXRoaXMuX3BsYXRmb3JtTG9jYXRpb24uZ2V0QmFzZUhyZWZGcm9tRE9NKCkpLG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKCJObyBiYXNlIGhyZWYgc2V0LiBQbGVhc2UgcHJvdmlkZSBhIHZhbHVlIGZvciB0aGUgQVBQX0JBU0VfSFJFRiB0b2tlbiBvciBhZGQgYSBiYXNlIGVsZW1lbnQgdG8gdGhlIGRvY3VtZW50LiIpO3RoaXMuX2Jhc2VIcmVmPWV9bmdPbkRlc3Ryb3koKXtmb3IoO3RoaXMuX3JlbW92ZUxpc3RlbmVyRm5zLmxlbmd0aDspdGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnMucG9wKCkoKX1vblBvcFN0YXRlKHQpe3RoaXMuX3JlbW92ZUxpc3RlbmVyRm5zLnB1c2godGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5vblBvcFN0YXRlKHQpLHRoaXMuX3BsYXRmb3JtTG9jYXRpb24ub25IYXNoQ2hhbmdlKHQpKX1nZXRCYXNlSHJlZigpe3JldHVybiB0aGlzLl9iYXNlSHJlZn1wcmVwYXJlRXh0ZXJuYWxVcmwodCl7cmV0dXJuIEtsKHRoaXMuX2Jhc2VIcmVmLHQpfXBhdGgodD0hMSl7Y29uc3QgZT10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnBhdGhuYW1lK3R1KHRoaXMuX3BsYXRmb3JtTG9jYXRpb24uc2VhcmNoKSxuPXRoaXMuX3BsYXRmb3JtTG9jYXRpb24uaGFzaDtyZXR1cm4gbiYmdD9gJHtlfSR7bn1gOmV9cHVzaFN0YXRlKHQsZSxuLHIpe2NvbnN0IHM9dGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwobit0dShyKSk7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5wdXNoU3RhdGUodCxlLHMpfXJlcGxhY2VTdGF0ZSh0LGUsbixyKXtjb25zdCBzPXRoaXMucHJlcGFyZUV4dGVybmFsVXJsKG4rdHUocikpO3RoaXMuX3BsYXRmb3JtTG9jYXRpb24ucmVwbGFjZVN0YXRlKHQsZSxzKX1mb3J3YXJkKCl7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5mb3J3YXJkKCl9YmFjaygpe3RoaXMuX3BsYXRmb3JtTG9jYXRpb24uYmFjaygpfWhpc3RvcnlHbyh0PTApe3ZhciBlLG47bnVsbD09PShuPShlPXRoaXMuX3BsYXRmb3JtTG9jYXRpb24pLmhpc3RvcnlHbyl8fHZvaWQgMD09PW58fG4uY2FsbChlLHQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh1cihHbCksdXIocnUsOCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLGl1PSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBldXtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbj10LHRoaXMuX2Jhc2VIcmVmPSIiLHRoaXMuX3JlbW92ZUxpc3RlbmVyRm5zPVtdLG51bGwhPWUmJih0aGlzLl9iYXNlSHJlZj1lKX1uZ09uRGVzdHJveSgpe2Zvcig7dGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnMubGVuZ3RoOyl0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5wb3AoKSgpfW9uUG9wU3RhdGUodCl7dGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnMucHVzaCh0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLm9uUG9wU3RhdGUodCksdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5vbkhhc2hDaGFuZ2UodCkpfWdldEJhc2VIcmVmKCl7cmV0dXJuIHRoaXMuX2Jhc2VIcmVmfXBhdGgodD0hMSl7bGV0IGU9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5oYXNoO3JldHVybiBudWxsPT1lJiYoZT0iIyIpLGUubGVuZ3RoPjA/ZS5zdWJzdHJpbmcoMSk6ZX1wcmVwYXJlRXh0ZXJuYWxVcmwodCl7Y29uc3QgZT1LbCh0aGlzLl9iYXNlSHJlZix0KTtyZXR1cm4gZS5sZW5ndGg+MD8iIyIrZTplfXB1c2hTdGF0ZSh0LGUsbixyKXtsZXQgcz10aGlzLnByZXBhcmVFeHRlcm5hbFVybChuK3R1KHIpKTswPT1zLmxlbmd0aCYmKHM9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5wYXRobmFtZSksdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5wdXNoU3RhdGUodCxlLHMpfXJlcGxhY2VTdGF0ZSh0LGUsbixyKXtsZXQgcz10aGlzLnByZXBhcmVFeHRlcm5hbFVybChuK3R1KHIpKTswPT1zLmxlbmd0aCYmKHM9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5wYXRobmFtZSksdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5yZXBsYWNlU3RhdGUodCxlLHMpfWZvcndhcmQoKXt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmZvcndhcmQoKX1iYWNrKCl7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5iYWNrKCl9aGlzdG9yeUdvKHQ9MCl7dmFyIGUsbjtudWxsPT09KG49KGU9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbikuaGlzdG9yeUdvKXx8dm9pZCAwPT09bnx8bi5jYWxsKGUsdCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHVyKEdsKSx1cihydSw4KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksb3U9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX3N1YmplY3Q9bmV3IEFjLHRoaXMuX3VybENoYW5nZUxpc3RlbmVycz1bXSx0aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5PXQ7Y29uc3Qgbj10aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5LmdldEJhc2VIcmVmKCk7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbj1lLHRoaXMuX2Jhc2VIcmVmPUpsKGN1KG4pKSx0aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5Lm9uUG9wU3RhdGUodD0+e3RoaXMuX3N1YmplY3QuZW1pdCh7dXJsOnRoaXMucGF0aCghMCkscG9wOiEwLHN0YXRlOnQuc3RhdGUsdHlwZTp0LnR5cGV9KX0pfXBhdGgodD0hMSl7cmV0dXJuIHRoaXMubm9ybWFsaXplKHRoaXMuX3BsYXRmb3JtU3RyYXRlZ3kucGF0aCh0KSl9Z2V0U3RhdGUoKXtyZXR1cm4gdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5nZXRTdGF0ZSgpfWlzQ3VycmVudFBhdGhFcXVhbFRvKHQsZT0iIil7cmV0dXJuIHRoaXMucGF0aCgpPT10aGlzLm5vcm1hbGl6ZSh0K3R1KGUpKX1ub3JtYWxpemUoZSl7cmV0dXJuIHQuc3RyaXBUcmFpbGluZ1NsYXNoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJmUuc3RhcnRzV2l0aCh0KT9lLnN1YnN0cmluZyh0Lmxlbmd0aCk6ZX0odGhpcy5fYmFzZUhyZWYsY3UoZSkpKX1wcmVwYXJlRXh0ZXJuYWxVcmwodCl7cmV0dXJuIHQmJiIvIiE9PXRbMF0mJih0PSIvIit0KSx0aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5LnByZXBhcmVFeHRlcm5hbFVybCh0KX1nbyh0LGU9IiIsbj1udWxsKXt0aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5LnB1c2hTdGF0ZShuLCIiLHQsZSksdGhpcy5fbm90aWZ5VXJsQ2hhbmdlTGlzdGVuZXJzKHRoaXMucHJlcGFyZUV4dGVybmFsVXJsKHQrdHUoZSkpLG4pfXJlcGxhY2VTdGF0ZSh0LGU9IiIsbj1udWxsKXt0aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5LnJlcGxhY2VTdGF0ZShuLCIiLHQsZSksdGhpcy5fbm90aWZ5VXJsQ2hhbmdlTGlzdGVuZXJzKHRoaXMucHJlcGFyZUV4dGVybmFsVXJsKHQrdHUoZSkpLG4pfWZvcndhcmQoKXt0aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5LmZvcndhcmQoKX1iYWNrKCl7dGhpcy5fcGxhdGZvcm1TdHJhdGVneS5iYWNrKCl9aGlzdG9yeUdvKHQ9MCl7dmFyIGUsbjtudWxsPT09KG49KGU9dGhpcy5fcGxhdGZvcm1TdHJhdGVneSkuaGlzdG9yeUdvKXx8dm9pZCAwPT09bnx8bi5jYWxsKGUsdCl9b25VcmxDaGFuZ2UodCl7dGhpcy5fdXJsQ2hhbmdlTGlzdGVuZXJzLnB1c2godCksdGhpcy5fdXJsQ2hhbmdlU3Vic2NyaXB0aW9ufHwodGhpcy5fdXJsQ2hhbmdlU3Vic2NyaXB0aW9uPXRoaXMuc3Vic2NyaWJlKHQ9Pnt0aGlzLl9ub3RpZnlVcmxDaGFuZ2VMaXN0ZW5lcnModC51cmwsdC5zdGF0ZSl9KSl9X25vdGlmeVVybENoYW5nZUxpc3RlbmVycyh0PSIiLGUpe3RoaXMuX3VybENoYW5nZUxpc3RlbmVycy5mb3JFYWNoKG49Pm4odCxlKSl9c3Vic2NyaWJlKHQsZSxuKXtyZXR1cm4gdGhpcy5fc3ViamVjdC5zdWJzY3JpYmUoe25leHQ6dCxlcnJvcjplLGNvbXBsZXRlOm59KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodXIoZXUpLHVyKEdsKSl9LHQubm9ybWFsaXplUXVlcnlQYXJhbXM9dHUsdC5qb2luV2l0aFNsYXNoPUtsLHQuc3RyaXBUcmFpbGluZ1NsYXNoPUpsLHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTphdSx0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QifSksdH0pKCk7ZnVuY3Rpb24gYXUoKXtyZXR1cm4gbmV3IG91KHVyKGV1KSx1cihHbCkpfWZ1bmN0aW9uIGN1KHQpe3JldHVybiB0LnJlcGxhY2UoL1wvaW5kZXguaHRtbCQvLCIiKX1jb25zdCBsdT17QURQOlt2b2lkIDAsdm9pZCAwLDBdLEFGTjpbdm9pZCAwLHZvaWQgMCwwXSxBTEw6W3ZvaWQgMCx2b2lkIDAsMF0sQU1EOlt2b2lkIDAsdm9pZCAwLDJdLEFPQTpbdm9pZCAwLCJLeiJdLEFSUzpbdm9pZCAwLCIkIl0sQVVEOlsiQSQiLCIkIl0sQkFNOlt2b2lkIDAsIktNIl0sQkJEOlt2b2lkIDAsIiQiXSxCRFQ6W3ZvaWQgMCwiXHUwOWYzIl0sQkhEOlt2b2lkIDAsdm9pZCAwLDNdLEJJRjpbdm9pZCAwLHZvaWQgMCwwXSxCTUQ6W3ZvaWQgMCwiJCJdLEJORDpbdm9pZCAwLCIkIl0sQk9COlt2b2lkIDAsIkJzIl0sQlJMOlsiUiQiXSxCU0Q6W3ZvaWQgMCwiJCJdLEJXUDpbdm9pZCAwLCJQIl0sQllOOlt2b2lkIDAsIlx1MDQ0MC4iLDJdLEJZUjpbdm9pZCAwLHZvaWQgMCwwXSxCWkQ6W3ZvaWQgMCwiJCJdLENBRDpbIkNBJCIsIiQiLDJdLENIRjpbdm9pZCAwLHZvaWQgMCwyXSxDTEY6W3ZvaWQgMCx2b2lkIDAsNF0sQ0xQOlt2b2lkIDAsIiQiLDBdLENOWTpbIkNOXHhhNSIsIlx4YTUiXSxDT1A6W3ZvaWQgMCwiJCIsMl0sQ1JDOlt2b2lkIDAsIlx1MjBhMSIsMl0sQ1VDOlt2b2lkIDAsIiQiXSxDVVA6W3ZvaWQgMCwiJCJdLENaSzpbdm9pZCAwLCJLXHUwMTBkIiwyXSxESkY6W3ZvaWQgMCx2b2lkIDAsMF0sREtLOlt2b2lkIDAsImtyIiwyXSxET1A6W3ZvaWQgMCwiJCJdLEVHUDpbdm9pZCAwLCJFXHhhMyJdLEVTUDpbdm9pZCAwLCJcdTIwYTciLDBdLEVVUjpbIlx1MjBhYyJdLEZKRDpbdm9pZCAwLCIkIl0sRktQOlt2b2lkIDAsIlx4YTMiXSxHQlA6WyJceGEzIl0sR0VMOlt2b2lkIDAsIlx1MjBiZSJdLEdJUDpbdm9pZCAwLCJceGEzIl0sR05GOlt2b2lkIDAsIkZHIiwwXSxHVFE6W3ZvaWQgMCwiUSJdLEdZRDpbdm9pZCAwLCIkIiwyXSxIS0Q6WyJISyQiLCIkIl0sSE5MOlt2b2lkIDAsIkwiXSxIUks6W3ZvaWQgMCwia24iXSxIVUY6W3ZvaWQgMCwiRnQiLDJdLElEUjpbdm9pZCAwLCJScCIsMl0sSUxTOlsiXHUyMGFhIl0sSU5SOlsiXHUyMGI5Il0sSVFEOlt2b2lkIDAsdm9pZCAwLDBdLElSUjpbdm9pZCAwLHZvaWQgMCwwXSxJU0s6W3ZvaWQgMCwia3IiLDBdLElUTDpbdm9pZCAwLHZvaWQgMCwwXSxKTUQ6W3ZvaWQgMCwiJCJdLEpPRDpbdm9pZCAwLHZvaWQgMCwzXSxKUFk6WyJceGE1Iix2b2lkIDAsMF0sS0hSOlt2b2lkIDAsIlx1MTdkYiJdLEtNRjpbdm9pZCAwLCJDRiIsMF0sS1BXOlt2b2lkIDAsIlx1MjBhOSIsMF0sS1JXOlsiXHUyMGE5Iix2b2lkIDAsMF0sS1dEOlt2b2lkIDAsdm9pZCAwLDNdLEtZRDpbdm9pZCAwLCIkIl0sS1pUOlt2b2lkIDAsIlx1MjBiOCJdLExBSzpbdm9pZCAwLCJcdTIwYWQiLDBdLExCUDpbdm9pZCAwLCJMXHhhMyIsMF0sTEtSOlt2b2lkIDAsIlJzIl0sTFJEOlt2b2lkIDAsIiQiXSxMVEw6W3ZvaWQgMCwiTHQiXSxMVUY6W3ZvaWQgMCx2b2lkIDAsMF0sTFZMOlt2b2lkIDAsIkxzIl0sTFlEOlt2b2lkIDAsdm9pZCAwLDNdLE1HQTpbdm9pZCAwLCJBciIsMF0sTUdGOlt2b2lkIDAsdm9pZCAwLDBdLE1NSzpbdm9pZCAwLCJLIiwwXSxNTlQ6W3ZvaWQgMCwiXHUyMGFlIiwyXSxNUk86W3ZvaWQgMCx2b2lkIDAsMF0sTVVSOlt2b2lkIDAsIlJzIiwyXSxNWE46WyJNWCQiLCIkIl0sTVlSOlt2b2lkIDAsIlJNIl0sTkFEOlt2b2lkIDAsIiQiXSxOR046W3ZvaWQgMCwiXHUyMGE2Il0sTklPOlt2b2lkIDAsIkMkIl0sTk9LOlt2b2lkIDAsImtyIiwyXSxOUFI6W3ZvaWQgMCwiUnMiXSxOWkQ6WyJOWiQiLCIkIl0sT01SOlt2b2lkIDAsdm9pZCAwLDNdLFBIUDpbdm9pZCAwLCJcdTIwYjEiXSxQS1I6W3ZvaWQgMCwiUnMiLDJdLFBMTjpbdm9pZCAwLCJ6XHUwMTQyIl0sUFlHOlt2b2lkIDAsIlx1MjBiMiIsMF0sUk9OOlt2b2lkIDAsImxlaSJdLFJTRDpbdm9pZCAwLHZvaWQgMCwwXSxSVUI6W3ZvaWQgMCwiXHUyMGJkIl0sUlVSOlt2b2lkIDAsIlx1MDQ0MC4iXSxSV0Y6W3ZvaWQgMCwiUkYiLDBdLFNCRDpbdm9pZCAwLCIkIl0sU0VLOlt2b2lkIDAsImtyIiwyXSxTR0Q6W3ZvaWQgMCwiJCJdLFNIUDpbdm9pZCAwLCJceGEzIl0sU0xMOlt2b2lkIDAsdm9pZCAwLDBdLFNPUzpbdm9pZCAwLHZvaWQgMCwwXSxTUkQ6W3ZvaWQgMCwiJCJdLFNTUDpbdm9pZCAwLCJceGEzIl0sU1REOlt2b2lkIDAsdm9pZCAwLDBdLFNUTjpbdm9pZCAwLCJEYiJdLFNZUDpbdm9pZCAwLCJceGEzIiwwXSxUSEI6W3ZvaWQgMCwiXHUwZTNmIl0sVE1NOlt2b2lkIDAsdm9pZCAwLDBdLFRORDpbdm9pZCAwLHZvaWQgMCwzXSxUT1A6W3ZvaWQgMCwiVCQiXSxUUkw6W3ZvaWQgMCx2b2lkIDAsMF0sVFJZOlt2b2lkIDAsIlx1MjBiYSJdLFRURDpbdm9pZCAwLCIkIl0sVFdEOlsiTlQkIiwiJCIsMl0sVFpTOlt2b2lkIDAsdm9pZCAwLDJdLFVBSDpbdm9pZCAwLCJcdTIwYjQiXSxVR1g6W3ZvaWQgMCx2b2lkIDAsMF0sVVNEOlsiJCJdLFVZSTpbdm9pZCAwLHZvaWQgMCwwXSxVWVU6W3ZvaWQgMCwiJCJdLFVZVzpbdm9pZCAwLHZvaWQgMCw0XSxVWlM6W3ZvaWQgMCx2b2lkIDAsMl0sVkVGOlt2b2lkIDAsIkJzIiwyXSxWTkQ6WyJcdTIwYWIiLHZvaWQgMCwwXSxWVVY6W3ZvaWQgMCx2b2lkIDAsMF0sWEFGOlsiRkNGQSIsdm9pZCAwLDBdLFhDRDpbIkVDJCIsIiQiXSxYT0Y6WyJDRkEiLHZvaWQgMCwwXSxYUEY6WyJDRlBGIix2b2lkIDAsMF0sWFhYOlsiXHhhNCJdLFlFUjpbdm9pZCAwLHZvaWQgMCwwXSxaQVI6W3ZvaWQgMCwiUiJdLFpNSzpbdm9pZCAwLHZvaWQgMCwwXSxaTVc6W3ZvaWQgMCwiWksiXSxaV0Q6W3ZvaWQgMCx2b2lkIDAsMF19O3ZhciB1dT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkRlY2ltYWw9MF09IkRlY2ltYWwiLHRbdC5QZXJjZW50PTFdPSJQZXJjZW50Iix0W3QuQ3VycmVuY3k9Ml09IkN1cnJlbmN5Iix0W3QuU2NpZW50aWZpYz0zXT0iU2NpZW50aWZpYyIsdH0oe30pLGh1PWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuWmVybz0wXT0iWmVybyIsdFt0Lk9uZT0xXT0iT25lIix0W3QuVHdvPTJdPSJUd28iLHRbdC5GZXc9M109IkZldyIsdFt0Lk1hbnk9NF09Ik1hbnkiLHRbdC5PdGhlcj01XT0iT3RoZXIiLHR9KHt9KSxkdT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkZvcm1hdD0wXT0iRm9ybWF0Iix0W3QuU3RhbmRhbG9uZT0xXT0iU3RhbmRhbG9uZSIsdH0oe30pLHB1PWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuTmFycm93PTBdPSJOYXJyb3ciLHRbdC5BYmJyZXZpYXRlZD0xXT0iQWJicmV2aWF0ZWQiLHRbdC5XaWRlPTJdPSJXaWRlIix0W3QuU2hvcnQ9M109IlNob3J0Iix0fSh7fSksZnU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5TaG9ydD0wXT0iU2hvcnQiLHRbdC5NZWRpdW09MV09Ik1lZGl1bSIsdFt0Lkxvbmc9Ml09IkxvbmciLHRbdC5GdWxsPTNdPSJGdWxsIix0fSh7fSksZ3U9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5EZWNpbWFsPTBdPSJEZWNpbWFsIix0W3QuR3JvdXA9MV09Ikdyb3VwIix0W3QuTGlzdD0yXT0iTGlzdCIsdFt0LlBlcmNlbnRTaWduPTNdPSJQZXJjZW50U2lnbiIsdFt0LlBsdXNTaWduPTRdPSJQbHVzU2lnbiIsdFt0Lk1pbnVzU2lnbj01XT0iTWludXNTaWduIix0W3QuRXhwb25lbnRpYWw9Nl09IkV4cG9uZW50aWFsIix0W3QuU3VwZXJzY3JpcHRpbmdFeHBvbmVudD03XT0iU3VwZXJzY3JpcHRpbmdFeHBvbmVudCIsdFt0LlBlck1pbGxlPThdPSJQZXJNaWxsZSIsdFt0WzEvMF09OV09IkluZmluaXR5Iix0W3QuTmFOPTEwXT0iTmFOIix0W3QuVGltZVNlcGFyYXRvcj0xMV09IlRpbWVTZXBhcmF0b3IiLHRbdC5DdXJyZW5jeURlY2ltYWw9MTJdPSJDdXJyZW5jeURlY2ltYWwiLHRbdC5DdXJyZW5jeUdyb3VwPTEzXT0iQ3VycmVuY3lHcm91cCIsdH0oe30pO2Z1bmN0aW9uIG11KHQsZSl7cmV0dXJuIF91KG9hKHQpW2NhLkRhdGVGb3JtYXRdLGUpfWZ1bmN0aW9uIHl1KHQsZSl7cmV0dXJuIF91KG9hKHQpW2NhLlRpbWVGb3JtYXRdLGUpfWZ1bmN0aW9uIHZ1KHQsZSl7cmV0dXJuIF91KG9hKHQpW2NhLkRhdGVUaW1lRm9ybWF0XSxlKX1mdW5jdGlvbiBidSh0LGUpe2NvbnN0IG49b2EodCkscj1uW2NhLk51bWJlclN5bWJvbHNdW2VdO2lmKHZvaWQgMD09PXIpe2lmKGU9PT1ndS5DdXJyZW5jeURlY2ltYWwpcmV0dXJuIG5bY2EuTnVtYmVyU3ltYm9sc11bZ3UuRGVjaW1hbF07aWYoZT09PWd1LkN1cnJlbmN5R3JvdXApcmV0dXJuIG5bY2EuTnVtYmVyU3ltYm9sc11bZ3UuR3JvdXBdfXJldHVybiByfWZ1bmN0aW9uIEN1KHQsZSl7cmV0dXJuIG9hKHQpW2NhLk51bWJlckZvcm1hdHNdW2VdfWZ1bmN0aW9uIHd1KHQpe2lmKCF0W2NhLkV4dHJhRGF0YV0pdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIGV4dHJhIGxvY2FsZSBkYXRhIGZvciB0aGUgbG9jYWxlICIke3RbY2EuTG9jYWxlSWRdfSIuIFVzZSAicmVnaXN0ZXJMb2NhbGVEYXRhIiB0byBsb2FkIG5ldyBkYXRhLiBTZWUgdGhlICJJMThuIGd1aWRlIiBvbiBhbmd1bGFyLmlvIHRvIGtub3cgbW9yZS5gKX1mdW5jdGlvbiBfdSh0LGUpe2ZvcihsZXQgbj1lO24+LTE7bi0tKWlmKHZvaWQgMCE9PXRbbl0pcmV0dXJuIHRbbl07dGhyb3cgbmV3IEVycm9yKCJMb2NhbGUgZGF0YSBBUEk6IGxvY2FsZSBkYXRhIHVuZGVmaW5lZCIpfWZ1bmN0aW9uIER1KHQpe2NvbnN0W2Usbl09dC5zcGxpdCgiOiIpO3JldHVybntob3VyczorZSxtaW51dGVzOitufX1jb25zdCBFdT0vXihcZHs0fSktPyhcZFxkKS0/KFxkXGQpKD86VChcZFxkKSg/Ojo/KFxkXGQpKD86Oj8oXGRcZCkoPzpcLihcZCspKT8pPyk/KFp8KFsrLV0pKFxkXGQpOj8oXGRcZCkpPyk/JC8sU3U9e30seHU9LygoPzpbXkJFR0hMTU9TV1laYWJjZGhtc3d5eiddKyl8KD86Jyg/OlteJ118JycpKicpfCg/Okd7MSw1fXx5ezEsNH18WXsxLDR9fE17MSw1fXxMezEsNX18d3sxLDJ9fFd7MX18ZHsxLDJ9fEV7MSw2fXxjezEsNn18YXsxLDV9fGJ7MSw1fXxCezEsNX18aHsxLDJ9fEh7MSwyfXxtezEsMn18c3sxLDJ9fFN7MSwzfXx6ezEsNH18WnsxLDV9fE97MSw0fSkpKFtcc1xTXSopLzt2YXIgQXU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5TaG9ydD0wXT0iU2hvcnQiLHRbdC5TaG9ydEdNVD0xXT0iU2hvcnRHTVQiLHRbdC5Mb25nPTJdPSJMb25nIix0W3QuRXh0ZW5kZWQ9M109IkV4dGVuZGVkIix0fSh7fSksVHU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5GdWxsWWVhcj0wXT0iRnVsbFllYXIiLHRbdC5Nb250aD0xXT0iTW9udGgiLHRbdC5EYXRlPTJdPSJEYXRlIix0W3QuSG91cnM9M109IkhvdXJzIix0W3QuTWludXRlcz00XT0iTWludXRlcyIsdFt0LlNlY29uZHM9NV09IlNlY29uZHMiLHRbdC5GcmFjdGlvbmFsU2Vjb25kcz02XT0iRnJhY3Rpb25hbFNlY29uZHMiLHRbdC5EYXk9N109IkRheSIsdH0oe30pLGt1PWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRGF5UGVyaW9kcz0wXT0iRGF5UGVyaW9kcyIsdFt0LkRheXM9MV09IkRheXMiLHRbdC5Nb250aHM9Ml09Ik1vbnRocyIsdFt0LkVyYXM9M109IkVyYXMiLHR9KHt9KTtmdW5jdGlvbiBGdSh0LGUsbixyKXtsZXQgcz1mdW5jdGlvbih0KXtpZigkdSh0KSlyZXR1cm4gdDtpZigibnVtYmVyIj09dHlwZW9mIHQmJiFpc05hTih0KSlyZXR1cm4gbmV3IERhdGUodCk7aWYoInN0cmluZyI9PXR5cGVvZiB0KXtpZih0PXQudHJpbSgpLC9eKFxkezR9KC1cZHsxLDJ9KC1cZHsxLDJ9KT8pPykkLy50ZXN0KHQpKXtjb25zdFtlLG49MSxyPTFdPXQuc3BsaXQoIi0iKS5tYXAodD0+K3QpO3JldHVybiBJdShlLG4tMSxyKX1jb25zdCBlPXBhcnNlRmxvYXQodCk7aWYoIWlzTmFOKHQtZSkpcmV0dXJuIG5ldyBEYXRlKGUpO2xldCBuO2lmKG49dC5tYXRjaChFdSkpcmV0dXJuIGZ1bmN0aW9uKHQpe2NvbnN0IGU9bmV3IERhdGUoMCk7bGV0IG49MCxyPTA7Y29uc3Qgcz10WzhdP2Uuc2V0VVRDRnVsbFllYXI6ZS5zZXRGdWxsWWVhcixpPXRbOF0/ZS5zZXRVVENIb3VyczplLnNldEhvdXJzO3RbOV0mJihuPU51bWJlcih0WzldK3RbMTBdKSxyPU51bWJlcih0WzldK3RbMTFdKSkscy5jYWxsKGUsTnVtYmVyKHRbMV0pLE51bWJlcih0WzJdKS0xLE51bWJlcih0WzNdKSk7Y29uc3Qgbz1OdW1iZXIodFs0XXx8MCktbixhPU51bWJlcih0WzVdfHwwKS1yLGM9TnVtYmVyKHRbNl18fDApLGw9TWF0aC5mbG9vcigxZTMqcGFyc2VGbG9hdCgiMC4iKyh0WzddfHwwKSkpO3JldHVybiBpLmNhbGwoZSxvLGEsYyxsKSxlfShuKX1jb25zdCBlPW5ldyBEYXRlKHQpO2lmKCEkdShlKSl0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjb252ZXJ0ICIke3R9IiBpbnRvIGEgZGF0ZWApO3JldHVybiBlfSh0KTtlPU91KG4sZSl8fGU7bGV0IGksbz1bXTtmb3IoO2U7KXtpZihpPXh1LmV4ZWMoZSksIWkpe28ucHVzaChlKTticmVha317bz1vLmNvbmNhdChpLnNsaWNlKDEpKTtjb25zdCB0PW8ucG9wKCk7aWYoIXQpYnJlYWs7ZT10fX1sZXQgYT1zLmdldFRpbWV6b25lT2Zmc2V0KCk7ciYmKGE9enUocixhKSxzPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPXQuZ2V0VGltZXpvbmVPZmZzZXQoKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4odD1uZXcgRGF0ZSh0LmdldFRpbWUoKSkpLnNldE1pbnV0ZXModC5nZXRNaW51dGVzKCkrZSksdH0odCwtMSooenUoZSxyKS1yKSl9KHMscikpO2xldCBjPSIiO3JldHVybiBvLmZvckVhY2godD0+e2NvbnN0IGU9ZnVuY3Rpb24odCl7aWYoVnVbdF0pcmV0dXJuIFZ1W3RdO2xldCBlO3N3aXRjaCh0KXtjYXNlIkciOmNhc2UiR0ciOmNhc2UiR0dHIjplPUJ1KGt1LkVyYXMscHUuQWJicmV2aWF0ZWQpO2JyZWFrO2Nhc2UiR0dHRyI6ZT1CdShrdS5FcmFzLHB1LldpZGUpO2JyZWFrO2Nhc2UiR0dHR0ciOmU9QnUoa3UuRXJhcyxwdS5OYXJyb3cpO2JyZWFrO2Nhc2UieSI6ZT1MdShUdS5GdWxsWWVhciwxLDAsITEsITApO2JyZWFrO2Nhc2UieXkiOmU9THUoVHUuRnVsbFllYXIsMiwwLCEwLCEwKTticmVhaztjYXNlInl5eSI6ZT1MdShUdS5GdWxsWWVhciwzLDAsITEsITApO2JyZWFrO2Nhc2UieXl5eSI6ZT1MdShUdS5GdWxsWWVhciw0LDAsITEsITApO2JyZWFrO2Nhc2UiWSI6ZT1IdSgxKTticmVhaztjYXNlIllZIjplPUh1KDIsITApO2JyZWFrO2Nhc2UiWVlZIjplPUh1KDMpO2JyZWFrO2Nhc2UiWVlZWSI6ZT1IdSg0KTticmVhaztjYXNlIk0iOmNhc2UiTCI6ZT1MdShUdS5Nb250aCwxLDEpO2JyZWFrO2Nhc2UiTU0iOmNhc2UiTEwiOmU9THUoVHUuTW9udGgsMiwxKTticmVhaztjYXNlIk1NTSI6ZT1CdShrdS5Nb250aHMscHUuQWJicmV2aWF0ZWQpO2JyZWFrO2Nhc2UiTU1NTSI6ZT1CdShrdS5Nb250aHMscHUuV2lkZSk7YnJlYWs7Y2FzZSJNTU1NTSI6ZT1CdShrdS5Nb250aHMscHUuTmFycm93KTticmVhaztjYXNlIkxMTCI6ZT1CdShrdS5Nb250aHMscHUuQWJicmV2aWF0ZWQsZHUuU3RhbmRhbG9uZSk7YnJlYWs7Y2FzZSJMTExMIjplPUJ1KGt1Lk1vbnRocyxwdS5XaWRlLGR1LlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UiTExMTEwiOmU9QnUoa3UuTW9udGhzLHB1Lk5hcnJvdyxkdS5TdGFuZGFsb25lKTticmVhaztjYXNlInciOmU9TnUoMSk7YnJlYWs7Y2FzZSJ3dyI6ZT1OdSgyKTticmVhaztjYXNlIlciOmU9TnUoMSwhMCk7YnJlYWs7Y2FzZSJkIjplPUx1KFR1LkRhdGUsMSk7YnJlYWs7Y2FzZSJkZCI6ZT1MdShUdS5EYXRlLDIpO2JyZWFrO2Nhc2UiYyI6Y2FzZSJjYyI6ZT1MdShUdS5EYXksMSk7YnJlYWs7Y2FzZSJjY2MiOmU9QnUoa3UuRGF5cyxwdS5BYmJyZXZpYXRlZCxkdS5TdGFuZGFsb25lKTticmVhaztjYXNlImNjY2MiOmU9QnUoa3UuRGF5cyxwdS5XaWRlLGR1LlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UiY2NjY2MiOmU9QnUoa3UuRGF5cyxwdS5OYXJyb3csZHUuU3RhbmRhbG9uZSk7YnJlYWs7Y2FzZSJjY2NjY2MiOmU9QnUoa3UuRGF5cyxwdS5TaG9ydCxkdS5TdGFuZGFsb25lKTticmVhaztjYXNlIkUiOmNhc2UiRUUiOmNhc2UiRUVFIjplPUJ1KGt1LkRheXMscHUuQWJicmV2aWF0ZWQpO2JyZWFrO2Nhc2UiRUVFRSI6ZT1CdShrdS5EYXlzLHB1LldpZGUpO2JyZWFrO2Nhc2UiRUVFRUUiOmU9QnUoa3UuRGF5cyxwdS5OYXJyb3cpO2JyZWFrO2Nhc2UiRUVFRUVFIjplPUJ1KGt1LkRheXMscHUuU2hvcnQpO2JyZWFrO2Nhc2UiYSI6Y2FzZSJhYSI6Y2FzZSJhYWEiOmU9QnUoa3UuRGF5UGVyaW9kcyxwdS5BYmJyZXZpYXRlZCk7YnJlYWs7Y2FzZSJhYWFhIjplPUJ1KGt1LkRheVBlcmlvZHMscHUuV2lkZSk7YnJlYWs7Y2FzZSJhYWFhYSI6ZT1CdShrdS5EYXlQZXJpb2RzLHB1Lk5hcnJvdyk7YnJlYWs7Y2FzZSJiIjpjYXNlImJiIjpjYXNlImJiYiI6ZT1CdShrdS5EYXlQZXJpb2RzLHB1LkFiYnJldmlhdGVkLGR1LlN0YW5kYWxvbmUsITApO2JyZWFrO2Nhc2UiYmJiYiI6ZT1CdShrdS5EYXlQZXJpb2RzLHB1LldpZGUsZHUuU3RhbmRhbG9uZSwhMCk7YnJlYWs7Y2FzZSJiYmJiYiI6ZT1CdShrdS5EYXlQZXJpb2RzLHB1Lk5hcnJvdyxkdS5TdGFuZGFsb25lLCEwKTticmVhaztjYXNlIkIiOmNhc2UiQkIiOmNhc2UiQkJCIjplPUJ1KGt1LkRheVBlcmlvZHMscHUuQWJicmV2aWF0ZWQsZHUuRm9ybWF0LCEwKTticmVhaztjYXNlIkJCQkIiOmU9QnUoa3UuRGF5UGVyaW9kcyxwdS5XaWRlLGR1LkZvcm1hdCwhMCk7YnJlYWs7Y2FzZSJCQkJCQiI6ZT1CdShrdS5EYXlQZXJpb2RzLHB1Lk5hcnJvdyxkdS5Gb3JtYXQsITApO2JyZWFrO2Nhc2UiaCI6ZT1MdShUdS5Ib3VycywxLC0xMik7YnJlYWs7Y2FzZSJoaCI6ZT1MdShUdS5Ib3VycywyLC0xMik7YnJlYWs7Y2FzZSJIIjplPUx1KFR1LkhvdXJzLDEpO2JyZWFrO2Nhc2UiSEgiOmU9THUoVHUuSG91cnMsMik7YnJlYWs7Y2FzZSJtIjplPUx1KFR1Lk1pbnV0ZXMsMSk7YnJlYWs7Y2FzZSJtbSI6ZT1MdShUdS5NaW51dGVzLDIpO2JyZWFrO2Nhc2UicyI6ZT1MdShUdS5TZWNvbmRzLDEpO2JyZWFrO2Nhc2Uic3MiOmU9THUoVHUuU2Vjb25kcywyKTticmVhaztjYXNlIlMiOmU9THUoVHUuRnJhY3Rpb25hbFNlY29uZHMsMSk7YnJlYWs7Y2FzZSJTUyI6ZT1MdShUdS5GcmFjdGlvbmFsU2Vjb25kcywyKTticmVhaztjYXNlIlNTUyI6ZT1MdShUdS5GcmFjdGlvbmFsU2Vjb25kcywzKTticmVhaztjYXNlIloiOmNhc2UiWloiOmNhc2UiWlpaIjplPWp1KEF1LlNob3J0KTticmVhaztjYXNlIlpaWlpaIjplPWp1KEF1LkV4dGVuZGVkKTticmVhaztjYXNlIk8iOmNhc2UiT08iOmNhc2UiT09PIjpjYXNlInoiOmNhc2UienoiOmNhc2Uienp6IjplPWp1KEF1LlNob3J0R01UKTticmVhaztjYXNlIk9PT08iOmNhc2UiWlpaWiI6Y2FzZSJ6enp6IjplPWp1KEF1LkxvbmcpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIG51bGx9cmV0dXJuIFZ1W3RdPWUsZX0odCk7Yys9ZT9lKHMsbixhKToiJyciPT09dD8iJyI6dC5yZXBsYWNlKC8oXid8JyQpL2csIiIpLnJlcGxhY2UoLycnL2csIiciKX0pLGN9ZnVuY3Rpb24gSXUodCxlLG4pe2NvbnN0IHI9bmV3IERhdGUoMCk7cmV0dXJuIHIuc2V0RnVsbFllYXIodCxlLG4pLHIuc2V0SG91cnMoMCwwLDApLHJ9ZnVuY3Rpb24gT3UodCxlKXtjb25zdCBuPWZ1bmN0aW9uKHQpe3JldHVybiBvYSh0KVtjYS5Mb2NhbGVJZF19KHQpO2lmKFN1W25dPVN1W25dfHx7fSxTdVtuXVtlXSlyZXR1cm4gU3Vbbl1bZV07bGV0IHI9IiI7c3dpdGNoKGUpe2Nhc2Uic2hvcnREYXRlIjpyPW11KHQsZnUuU2hvcnQpO2JyZWFrO2Nhc2UibWVkaXVtRGF0ZSI6cj1tdSh0LGZ1Lk1lZGl1bSk7YnJlYWs7Y2FzZSJsb25nRGF0ZSI6cj1tdSh0LGZ1LkxvbmcpO2JyZWFrO2Nhc2UiZnVsbERhdGUiOnI9bXUodCxmdS5GdWxsKTticmVhaztjYXNlInNob3J0VGltZSI6cj15dSh0LGZ1LlNob3J0KTticmVhaztjYXNlIm1lZGl1bVRpbWUiOnI9eXUodCxmdS5NZWRpdW0pO2JyZWFrO2Nhc2UibG9uZ1RpbWUiOnI9eXUodCxmdS5Mb25nKTticmVhaztjYXNlImZ1bGxUaW1lIjpyPXl1KHQsZnUuRnVsbCk7YnJlYWs7Y2FzZSJzaG9ydCI6Y29uc3QgZT1PdSh0LCJzaG9ydFRpbWUiKSxuPU91KHQsInNob3J0RGF0ZSIpO3I9UHUodnUodCxmdS5TaG9ydCksW2Usbl0pO2JyZWFrO2Nhc2UibWVkaXVtIjpjb25zdCBzPU91KHQsIm1lZGl1bVRpbWUiKSxpPU91KHQsIm1lZGl1bURhdGUiKTtyPVB1KHZ1KHQsZnUuTWVkaXVtKSxbcyxpXSk7YnJlYWs7Y2FzZSJsb25nIjpjb25zdCBvPU91KHQsImxvbmdUaW1lIiksYT1PdSh0LCJsb25nRGF0ZSIpO3I9UHUodnUodCxmdS5Mb25nKSxbbyxhXSk7YnJlYWs7Y2FzZSJmdWxsIjpjb25zdCBjPU91KHQsImZ1bGxUaW1lIiksbD1PdSh0LCJmdWxsRGF0ZSIpO3I9UHUodnUodCxmdS5GdWxsKSxbYyxsXSl9cmV0dXJuIHImJihTdVtuXVtlXT1yKSxyfWZ1bmN0aW9uIFB1KHQsZSl7cmV0dXJuIGUmJih0PXQucmVwbGFjZSgvXHsoW159XSspfS9nLGZ1bmN0aW9uKHQsbil7cmV0dXJuIG51bGwhPWUmJm4gaW4gZT9lW25dOnR9KSksdH1mdW5jdGlvbiBSdSh0LGUsbj0iLSIscixzKXtsZXQgaT0iIjsodDwwfHxzJiZ0PD0wKSYmKHM/dD0xLXQ6KHQ9LXQsaT1uKSk7bGV0IG89U3RyaW5nKHQpO2Zvcig7by5sZW5ndGg8ZTspbz0iMCIrbztyZXR1cm4gciYmKG89by5zdWJzdHIoby5sZW5ndGgtZSkpLGkrb31mdW5jdGlvbiBMdSh0LGUsbj0wLHI9ITEscz0hMSl7cmV0dXJuIGZ1bmN0aW9uKGksbyl7bGV0IGE9ZnVuY3Rpb24odCxlKXtzd2l0Y2godCl7Y2FzZSBUdS5GdWxsWWVhcjpyZXR1cm4gZS5nZXRGdWxsWWVhcigpO2Nhc2UgVHUuTW9udGg6cmV0dXJuIGUuZ2V0TW9udGgoKTtjYXNlIFR1LkRhdGU6cmV0dXJuIGUuZ2V0RGF0ZSgpO2Nhc2UgVHUuSG91cnM6cmV0dXJuIGUuZ2V0SG91cnMoKTtjYXNlIFR1Lk1pbnV0ZXM6cmV0dXJuIGUuZ2V0TWludXRlcygpO2Nhc2UgVHUuU2Vjb25kczpyZXR1cm4gZS5nZXRTZWNvbmRzKCk7Y2FzZSBUdS5GcmFjdGlvbmFsU2Vjb25kczpyZXR1cm4gZS5nZXRNaWxsaXNlY29uZHMoKTtjYXNlIFR1LkRheTpyZXR1cm4gZS5nZXREYXkoKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biBEYXRlVHlwZSB2YWx1ZSAiJHt0fSIuYCl9fSh0LGkpO2lmKChuPjB8fGE+LW4pJiYoYSs9biksdD09PVR1LkhvdXJzKTA9PT1hJiYtMTI9PT1uJiYoYT0xMik7ZWxzZSBpZih0PT09VHUuRnJhY3Rpb25hbFNlY29uZHMpcmV0dXJuIGM9ZSxSdShhLDMpLnN1YnN0cigwLGMpO3ZhciBjO2NvbnN0IGw9YnUobyxndS5NaW51c1NpZ24pO3JldHVybiBSdShhLGUsbCxyLHMpfX1mdW5jdGlvbiBCdSh0LGUsbj1kdS5Gb3JtYXQscj0hMSl7cmV0dXJuIGZ1bmN0aW9uKHMsaSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIscyxpKXtzd2l0Y2gobil7Y2FzZSBrdS5Nb250aHM6cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPW9hKHQpLHM9X3UoW3JbY2EuTW9udGhzRm9ybWF0XSxyW2NhLk1vbnRoc1N0YW5kYWxvbmVdXSxlKTtyZXR1cm4gX3UocyxuKX0oZSxzLHIpW3QuZ2V0TW9udGgoKV07Y2FzZSBrdS5EYXlzOnJldHVybiBmdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1vYSh0KSxzPV91KFtyW2NhLkRheXNGb3JtYXRdLHJbY2EuRGF5c1N0YW5kYWxvbmVdXSxlKTtyZXR1cm4gX3UocyxuKX0oZSxzLHIpW3QuZ2V0RGF5KCldO2Nhc2Uga3UuRGF5UGVyaW9kczpjb25zdCBvPXQuZ2V0SG91cnMoKSxhPXQuZ2V0TWludXRlcygpO2lmKGkpe2NvbnN0IHQ9ZnVuY3Rpb24odCl7Y29uc3QgZT1vYSh0KTtyZXR1cm4gd3UoZSksKGVbY2EuRXh0cmFEYXRhXVsyXXx8W10pLm1hcCh0PT4ic3RyaW5nIj09dHlwZW9mIHQ/RHUodCk6W0R1KHRbMF0pLER1KHRbMV0pXSl9KGUpLG49ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9b2EodCk7d3Uocik7Y29uc3Qgcz1fdShbcltjYS5FeHRyYURhdGFdWzBdLHJbY2EuRXh0cmFEYXRhXVsxXV0sZSl8fFtdO3JldHVybiBfdShzLG4pfHxbXX0oZSxzLHIpLGk9dC5maW5kSW5kZXgodD0+e2lmKEFycmF5LmlzQXJyYXkodCkpe2NvbnN0W2Usbl09dCxyPW8+PWUuaG91cnMmJmE+PWUubWludXRlcyxzPW88bi5ob3Vyc3x8bz09PW4uaG91cnMmJmE8bi5taW51dGVzO2lmKGUuaG91cnM8bi5ob3Vycyl7aWYociYmcylyZXR1cm4hMH1lbHNlIGlmKHJ8fHMpcmV0dXJuITB9ZWxzZSBpZih0LmhvdXJzPT09byYmdC5taW51dGVzPT09YSlyZXR1cm4hMDtyZXR1cm4hMX0pO2lmKC0xIT09aSlyZXR1cm4gbltpXX1yZXR1cm4gZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9b2EodCkscz1fdShbcltjYS5EYXlQZXJpb2RzRm9ybWF0XSxyW2NhLkRheVBlcmlvZHNTdGFuZGFsb25lXV0sZSk7cmV0dXJuIF91KHMsbil9KGUscyxyKVtvPDEyPzA6MV07Y2FzZSBrdS5FcmFzOnJldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiBfdShvYSh0KVtjYS5FcmFzXSxlKX0oZSxyKVt0LmdldEZ1bGxZZWFyKCk8PTA/MDoxXTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5leHBlY3RlZCB0cmFuc2xhdGlvbiB0eXBlICR7bn1gKX19KHMsaSx0LGUsbixyKX19ZnVuY3Rpb24ganUodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtjb25zdCBzPS0xKnIsaT1idShuLGd1Lk1pbnVzU2lnbiksbz1zPjA/TWF0aC5mbG9vcihzLzYwKTpNYXRoLmNlaWwocy82MCk7c3dpdGNoKHQpe2Nhc2UgQXUuU2hvcnQ6cmV0dXJuKHM+PTA/IisiOiIiKStSdShvLDIsaSkrUnUoTWF0aC5hYnMocyU2MCksMixpKTtjYXNlIEF1LlNob3J0R01UOnJldHVybiJHTVQiKyhzPj0wPyIrIjoiIikrUnUobywxLGkpO2Nhc2UgQXUuTG9uZzpyZXR1cm4iR01UIisocz49MD8iKyI6IiIpK1J1KG8sMixpKSsiOiIrUnUoTWF0aC5hYnMocyU2MCksMixpKTtjYXNlIEF1LkV4dGVuZGVkOnJldHVybiAwPT09cj8iWiI6KHM+PTA/IisiOiIiKStSdShvLDIsaSkrIjoiK1J1KE1hdGguYWJzKHMlNjApLDIsaSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gem9uZSB3aWR0aCAiJHt0fSJgKX19fWZ1bmN0aW9uIE11KHQpe3JldHVybiBJdSh0LmdldEZ1bGxZZWFyKCksdC5nZXRNb250aCgpLHQuZ2V0RGF0ZSgpKyg0LXQuZ2V0RGF5KCkpKX1mdW5jdGlvbiBOdSh0LGU9ITEpe3JldHVybiBmdW5jdGlvbihuLHIpe2xldCBzO2lmKGUpe2NvbnN0IHQ9bmV3IERhdGUobi5nZXRGdWxsWWVhcigpLG4uZ2V0TW9udGgoKSwxKS5nZXREYXkoKS0xLGU9bi5nZXREYXRlKCk7cz0xK01hdGguZmxvb3IoKGUrdCkvNyl9ZWxzZXtjb25zdCB0PU11KG4pLGU9ZnVuY3Rpb24odCl7Y29uc3QgZT1JdSh0LDAsMSkuZ2V0RGF5KCk7cmV0dXJuIEl1KHQsMCwxKyhlPD00PzQ6MTEpLWUpfSh0LmdldEZ1bGxZZWFyKCkpLHI9dC5nZXRUaW1lKCktZS5nZXRUaW1lKCk7cz0xK01hdGgucm91bmQoci82MDQ4ZTUpfXJldHVybiBSdShzLHQsYnUocixndS5NaW51c1NpZ24pKX19ZnVuY3Rpb24gSHUodCxlPSExKXtyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gUnUoTXUobikuZ2V0RnVsbFllYXIoKSx0LGJ1KHIsZ3UuTWludXNTaWduKSxlKX19Y29uc3QgVnU9e307ZnVuY3Rpb24genUodCxlKXt0PXQucmVwbGFjZSgvOi9nLCIiKTtjb25zdCBuPURhdGUucGFyc2UoIkphbiAwMSwgMTk3MCAwMDowMDowMCAiK3QpLzZlNDtyZXR1cm4gaXNOYU4obik/ZTpufWZ1bmN0aW9uICR1KHQpe3JldHVybiB0IGluc3RhbmNlb2YgRGF0ZSYmIWlzTmFOKHQudmFsdWVPZigpKX1jb25zdCBVdT0vXihcZCspP1wuKChcZCspKC0oXGQrKSk/KT8kLyxXdT0iLiIsR3U9IjAiO2Z1bmN0aW9uIHF1KHQsZSxuLHIscyxpLG89ITEpe2xldCBhPSIiLGM9ITE7aWYoaXNGaW5pdGUodCkpe2xldCBsPWZ1bmN0aW9uKHQpe2xldCBlLG4scixzLGksbz1NYXRoLmFicyh0KSsiIixhPTA7Zm9yKChuPW8uaW5kZXhPZihXdSkpPi0xJiYobz1vLnJlcGxhY2UoV3UsIiIpKSwocj1vLnNlYXJjaCgvZS9pKSk+MD8objwwJiYobj1yKSxuKz0rby5zbGljZShyKzEpLG89by5zdWJzdHJpbmcoMCxyKSk6bjwwJiYobj1vLmxlbmd0aCkscj0wO28uY2hhckF0KHIpPT09R3U7cisrKTtpZihyPT09KGk9by5sZW5ndGgpKWU9WzBdLG49MTtlbHNle2ZvcihpLS07by5jaGFyQXQoaSk9PT1HdTspaS0tO2ZvcihuLT1yLGU9W10scz0wO3I8PWk7cisrLHMrKyllW3NdPU51bWJlcihvLmNoYXJBdChyKSl9cmV0dXJuIG4+MjImJihlPWUuc3BsaWNlKDAsMjEpLGE9bi0xLG49MSkse2RpZ2l0czplLGV4cG9uZW50OmEsaW50ZWdlckxlbjpufX0odCk7byYmKGw9ZnVuY3Rpb24odCl7aWYoMD09PXQuZGlnaXRzWzBdKXJldHVybiB0O2NvbnN0IGU9dC5kaWdpdHMubGVuZ3RoLXQuaW50ZWdlckxlbjtyZXR1cm4gdC5leHBvbmVudD90LmV4cG9uZW50Kz0yOigwPT09ZT90LmRpZ2l0cy5wdXNoKDAsMCk6MT09PWUmJnQuZGlnaXRzLnB1c2goMCksdC5pbnRlZ2VyTGVuKz0yKSx0fShsKSk7bGV0IHU9ZS5taW5JbnQsaD1lLm1pbkZyYWMsZD1lLm1heEZyYWM7aWYoaSl7Y29uc3QgdD1pLm1hdGNoKFV1KTtpZihudWxsPT09dCl0aHJvdyBuZXcgRXJyb3IoYCR7aX0gaXMgbm90IGEgdmFsaWQgZGlnaXQgaW5mb2ApO2NvbnN0IGU9dFsxXSxuPXRbM10scj10WzVdO251bGwhPWUmJih1PVl1KGUpKSxudWxsIT1uJiYoaD1ZdShuKSksbnVsbCE9cj9kPVl1KHIpOm51bGwhPW4mJmg+ZCYmKGQ9aCl9IWZ1bmN0aW9uKHQsZSxuKXtpZihlPm4pdGhyb3cgbmV3IEVycm9yKGBUaGUgbWluaW11bSBudW1iZXIgb2YgZGlnaXRzIGFmdGVyIGZyYWN0aW9uICgke2V9KSBpcyBoaWdoZXIgdGhhbiB0aGUgbWF4aW11bSAoJHtufSkuYCk7bGV0IHI9dC5kaWdpdHMscz1yLmxlbmd0aC10LmludGVnZXJMZW47Y29uc3QgaT1NYXRoLm1pbihNYXRoLm1heChlLHMpLG4pO2xldCBvPWkrdC5pbnRlZ2VyTGVuLGE9cltvXTtpZihvPjApe3Iuc3BsaWNlKE1hdGgubWF4KHQuaW50ZWdlckxlbixvKSk7Zm9yKGxldCB0PW87dDxyLmxlbmd0aDt0Kyspclt0XT0wfWVsc2V7cz1NYXRoLm1heCgwLHMpLHQuaW50ZWdlckxlbj0xLHIubGVuZ3RoPU1hdGgubWF4KDEsbz1pKzEpLHJbMF09MDtmb3IobGV0IHQ9MTt0PG87dCsrKXJbdF09MH1pZihhPj01KWlmKG8tMTwwKXtmb3IobGV0IGU9MDtlPm87ZS0tKXIudW5zaGlmdCgwKSx0LmludGVnZXJMZW4rKztyLnVuc2hpZnQoMSksdC5pbnRlZ2VyTGVuKyt9ZWxzZSByW28tMV0rKztmb3IoO3M8TWF0aC5tYXgoMCxpKTtzKyspci5wdXNoKDApO2xldCBjPTAhPT1pO2NvbnN0IGw9ZSt0LmludGVnZXJMZW4sdT1yLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiByW25dPShlKz10KTwxMD9lOmUtMTAsYyYmKDA9PT1yW25dJiZuPj1sP3IucG9wKCk6Yz0hMSksZT49MTA/MTowfSwwKTt1JiYoci51bnNoaWZ0KHUpLHQuaW50ZWdlckxlbisrKX0obCxoLGQpO2xldCBwPWwuZGlnaXRzLGY9bC5pbnRlZ2VyTGVuO2NvbnN0IGc9bC5leHBvbmVudDtsZXQgbT1bXTtmb3IoYz1wLmV2ZXJ5KHQ9PiF0KTtmPHU7ZisrKXAudW5zaGlmdCgwKTtmb3IoO2Y8MDtmKyspcC51bnNoaWZ0KDApO2Y+MD9tPXAuc3BsaWNlKGYscC5sZW5ndGgpOihtPXAscD1bMF0pO2NvbnN0IHk9W107Zm9yKHAubGVuZ3RoPj1lLmxnU2l6ZSYmeS51bnNoaWZ0KHAuc3BsaWNlKC1lLmxnU2l6ZSxwLmxlbmd0aCkuam9pbigiIikpO3AubGVuZ3RoPmUuZ1NpemU7KXkudW5zaGlmdChwLnNwbGljZSgtZS5nU2l6ZSxwLmxlbmd0aCkuam9pbigiIikpO3AubGVuZ3RoJiZ5LnVuc2hpZnQocC5qb2luKCIiKSksYT15LmpvaW4oYnUobixyKSksbS5sZW5ndGgmJihhKz1idShuLHMpK20uam9pbigiIikpLGcmJihhKz1idShuLGd1LkV4cG9uZW50aWFsKSsiKyIrZyl9ZWxzZSBhPWJ1KG4sZ3UuSW5maW5pdHkpO3JldHVybiBhPXQ8MCYmIWM/ZS5uZWdQcmUrYStlLm5lZ1N1ZjplLnBvc1ByZSthK2UucG9zU3VmLGF9ZnVuY3Rpb24gWHUodCxlPSItIil7Y29uc3Qgbj17bWluSW50OjEsbWluRnJhYzowLG1heEZyYWM6MCxwb3NQcmU6IiIscG9zU3VmOiIiLG5lZ1ByZToiIixuZWdTdWY6IiIsZ1NpemU6MCxsZ1NpemU6MH0scj10LnNwbGl0KCI7Iikscz1yWzBdLGk9clsxXSxvPS0xIT09cy5pbmRleE9mKFd1KT9zLnNwbGl0KFd1KTpbcy5zdWJzdHJpbmcoMCxzLmxhc3RJbmRleE9mKEd1KSsxKSxzLnN1YnN0cmluZyhzLmxhc3RJbmRleE9mKEd1KSsxKV0sYT1vWzBdLGM9b1sxXXx8IiI7bi5wb3NQcmU9YS5zdWJzdHIoMCxhLmluZGV4T2YoIiMiKSk7Zm9yKGxldCB1PTA7dTxjLmxlbmd0aDt1Kyspe2NvbnN0IHQ9Yy5jaGFyQXQodSk7dD09PUd1P24ubWluRnJhYz1uLm1heEZyYWM9dSsxOiIjIj09PXQ/bi5tYXhGcmFjPXUrMTpuLnBvc1N1Zis9dH1jb25zdCBsPWEuc3BsaXQoIiwiKTtpZihuLmdTaXplPWxbMV0/bFsxXS5sZW5ndGg6MCxuLmxnU2l6ZT1sWzJdfHxsWzFdPyhsWzJdfHxsWzFdKS5sZW5ndGg6MCxpKXtjb25zdCB0PXMubGVuZ3RoLW4ucG9zUHJlLmxlbmd0aC1uLnBvc1N1Zi5sZW5ndGgsZT1pLmluZGV4T2YoIiMiKTtuLm5lZ1ByZT1pLnN1YnN0cigwLGUpLnJlcGxhY2UoLycvZywiIiksbi5uZWdTdWY9aS5zdWJzdHIoZSt0KS5yZXBsYWNlKC8nL2csIiIpfWVsc2Ugbi5uZWdQcmU9ZStuLnBvc1ByZSxuLm5lZ1N1Zj1uLnBvc1N1ZjtyZXR1cm4gbn1mdW5jdGlvbiBZdSh0KXtjb25zdCBlPXBhcnNlSW50KHQpO2lmKGlzTmFOKGUpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnRlZ2VyIGxpdGVyYWwgd2hlbiBwYXJzaW5nICIrdCk7cmV0dXJuIGV9Y2xhc3MgWnV7fWxldCBRdT0oKCk9PntjbGFzcyB0IGV4dGVuZHMgWnV7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmxvY2FsZT10fWdldFBsdXJhbENhdGVnb3J5KHQsZSl7c3dpdGNoKGZ1bmN0aW9uKHQpe3JldHVybiBvYSh0KVtjYS5QbHVyYWxDYXNlXX0oZXx8dGhpcy5sb2NhbGUpKHQpKXtjYXNlIGh1Llplcm86cmV0dXJuInplcm8iO2Nhc2UgaHUuT25lOnJldHVybiJvbmUiO2Nhc2UgaHUuVHdvOnJldHVybiJ0d28iO2Nhc2UgaHUuRmV3OnJldHVybiJmZXciO2Nhc2UgaHUuTWFueTpyZXR1cm4ibWFueSI7ZGVmYXVsdDpyZXR1cm4ib3RoZXIifX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodXIoZWwpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtmdW5jdGlvbiBLdSh0LGUpe2U9ZW5jb2RlVVJJQ29tcG9uZW50KGUpO2Zvcihjb25zdCBuIG9mIHQuc3BsaXQoIjsiKSl7Y29uc3QgdD1uLmluZGV4T2YoIj0iKSxbcixzXT0tMT09dD9bbiwiIl06W24uc2xpY2UoMCx0KSxuLnNsaWNlKHQrMSldO2lmKHIudHJpbSgpPT09ZSlyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHMpfXJldHVybiBudWxsfWxldCBKdT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuLHIpe3RoaXMuX2l0ZXJhYmxlRGlmZmVycz10LHRoaXMuX2tleVZhbHVlRGlmZmVycz1lLHRoaXMuX25nRWw9bix0aGlzLl9yZW5kZXJlcj1yLHRoaXMuX2l0ZXJhYmxlRGlmZmVyPW51bGwsdGhpcy5fa2V5VmFsdWVEaWZmZXI9bnVsbCx0aGlzLl9pbml0aWFsQ2xhc3Nlcz1bXSx0aGlzLl9yYXdDbGFzcz1udWxsfXNldCBrbGFzcyh0KXt0aGlzLl9yZW1vdmVDbGFzc2VzKHRoaXMuX2luaXRpYWxDbGFzc2VzKSx0aGlzLl9pbml0aWFsQ2xhc3Nlcz0ic3RyaW5nIj09dHlwZW9mIHQ/dC5zcGxpdCgvXHMrLyk6W10sdGhpcy5fYXBwbHlDbGFzc2VzKHRoaXMuX2luaXRpYWxDbGFzc2VzKSx0aGlzLl9hcHBseUNsYXNzZXModGhpcy5fcmF3Q2xhc3MpfXNldCBuZ0NsYXNzKHQpe3RoaXMuX3JlbW92ZUNsYXNzZXModGhpcy5fcmF3Q2xhc3MpLHRoaXMuX2FwcGx5Q2xhc3Nlcyh0aGlzLl9pbml0aWFsQ2xhc3NlcyksdGhpcy5faXRlcmFibGVEaWZmZXI9bnVsbCx0aGlzLl9rZXlWYWx1ZURpZmZlcj1udWxsLHRoaXMuX3Jhd0NsYXNzPSJzdHJpbmciPT10eXBlb2YgdD90LnNwbGl0KC9ccysvKTp0LHRoaXMuX3Jhd0NsYXNzJiYoYW8odGhpcy5fcmF3Q2xhc3MpP3RoaXMuX2l0ZXJhYmxlRGlmZmVyPXRoaXMuX2l0ZXJhYmxlRGlmZmVycy5maW5kKHRoaXMuX3Jhd0NsYXNzKS5jcmVhdGUoKTp0aGlzLl9rZXlWYWx1ZURpZmZlcj10aGlzLl9rZXlWYWx1ZURpZmZlcnMuZmluZCh0aGlzLl9yYXdDbGFzcykuY3JlYXRlKCkpfW5nRG9DaGVjaygpe2lmKHRoaXMuX2l0ZXJhYmxlRGlmZmVyKXtjb25zdCB0PXRoaXMuX2l0ZXJhYmxlRGlmZmVyLmRpZmYodGhpcy5fcmF3Q2xhc3MpO3QmJnRoaXMuX2FwcGx5SXRlcmFibGVDaGFuZ2VzKHQpfWVsc2UgaWYodGhpcy5fa2V5VmFsdWVEaWZmZXIpe2NvbnN0IHQ9dGhpcy5fa2V5VmFsdWVEaWZmZXIuZGlmZih0aGlzLl9yYXdDbGFzcyk7dCYmdGhpcy5fYXBwbHlLZXlWYWx1ZUNoYW5nZXModCl9fV9hcHBseUtleVZhbHVlQ2hhbmdlcyh0KXt0LmZvckVhY2hBZGRlZEl0ZW0odD0+dGhpcy5fdG9nZ2xlQ2xhc3ModC5rZXksdC5jdXJyZW50VmFsdWUpKSx0LmZvckVhY2hDaGFuZ2VkSXRlbSh0PT50aGlzLl90b2dnbGVDbGFzcyh0LmtleSx0LmN1cnJlbnRWYWx1ZSkpLHQuZm9yRWFjaFJlbW92ZWRJdGVtKHQ9Pnt0LnByZXZpb3VzVmFsdWUmJnRoaXMuX3RvZ2dsZUNsYXNzKHQua2V5LCExKX0pfV9hcHBseUl0ZXJhYmxlQ2hhbmdlcyh0KXt0LmZvckVhY2hBZGRlZEl0ZW0odD0+e2lmKCJzdHJpbmciIT10eXBlb2YgdC5pdGVtKXRocm93IG5ldyBFcnJvcihgTmdDbGFzcyBjYW4gb25seSB0b2dnbGUgQ1NTIGNsYXNzZXMgZXhwcmVzc2VkIGFzIHN0cmluZ3MsIGdvdCAke2V0KHQuaXRlbSl9YCk7dGhpcy5fdG9nZ2xlQ2xhc3ModC5pdGVtLCEwKX0pLHQuZm9yRWFjaFJlbW92ZWRJdGVtKHQ9PnRoaXMuX3RvZ2dsZUNsYXNzKHQuaXRlbSwhMSkpfV9hcHBseUNsYXNzZXModCl7dCYmKEFycmF5LmlzQXJyYXkodCl8fHQgaW5zdGFuY2VvZiBTZXQ/dC5mb3JFYWNoKHQ9PnRoaXMuX3RvZ2dsZUNsYXNzKHQsITApKTpPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGU9PnRoaXMuX3RvZ2dsZUNsYXNzKGUsISF0W2VdKSkpfV9yZW1vdmVDbGFzc2VzKHQpe3QmJihBcnJheS5pc0FycmF5KHQpfHx0IGluc3RhbmNlb2YgU2V0P3QuZm9yRWFjaCh0PT50aGlzLl90b2dnbGVDbGFzcyh0LCExKSk6T2JqZWN0LmtleXModCkuZm9yRWFjaCh0PT50aGlzLl90b2dnbGVDbGFzcyh0LCExKSkpfV90b2dnbGVDbGFzcyh0LGUpeyh0PXQudHJpbSgpKSYmdC5zcGxpdCgvXHMrL2cpLmZvckVhY2godD0+e2U/dGhpcy5fcmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5fbmdFbC5uYXRpdmVFbGVtZW50LHQpOnRoaXMuX3JlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMuX25nRWwubmF0aXZlRWxlbWVudCx0KX0pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyhXYSksZ28ocWEpLGdvKHhhKSxnbyhrYSkpfSx0Llx1MDI3NWRpcj1YdCh7dHlwZTp0LHNlbGVjdG9yczpbWyIiLCJuZ0NsYXNzIiwiIl1dLGlucHV0czp7a2xhc3M6WyJjbGFzcyIsImtsYXNzIl0sbmdDbGFzczoibmdDbGFzcyJ9fSksdH0pKCk7Y2xhc3MgdGh7Y29uc3RydWN0b3IodCxlLG4scil7dGhpcy4kaW1wbGljaXQ9dCx0aGlzLm5nRm9yT2Y9ZSx0aGlzLmluZGV4PW4sdGhpcy5jb3VudD1yfWdldCBmaXJzdCgpe3JldHVybiAwPT09dGhpcy5pbmRleH1nZXQgbGFzdCgpe3JldHVybiB0aGlzLmluZGV4PT09dGhpcy5jb3VudC0xfWdldCBldmVuKCl7cmV0dXJuIHRoaXMuaW5kZXglMj09MH1nZXQgb2RkKCl7cmV0dXJuIXRoaXMuZXZlbn19bGV0IGVoPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMuX3ZpZXdDb250YWluZXI9dCx0aGlzLl90ZW1wbGF0ZT1lLHRoaXMuX2RpZmZlcnM9bix0aGlzLl9uZ0Zvck9mPW51bGwsdGhpcy5fbmdGb3JPZkRpcnR5PSEwLHRoaXMuX2RpZmZlcj1udWxsfXNldCBuZ0Zvck9mKHQpe3RoaXMuX25nRm9yT2Y9dCx0aGlzLl9uZ0Zvck9mRGlydHk9ITB9c2V0IG5nRm9yVHJhY2tCeSh0KXt0aGlzLl90cmFja0J5Rm49dH1nZXQgbmdGb3JUcmFja0J5KCl7cmV0dXJuIHRoaXMuX3RyYWNrQnlGbn1zZXQgbmdGb3JUZW1wbGF0ZSh0KXt0JiYodGhpcy5fdGVtcGxhdGU9dCl9bmdEb0NoZWNrKCl7aWYodGhpcy5fbmdGb3JPZkRpcnR5KXt0aGlzLl9uZ0Zvck9mRGlydHk9ITE7Y29uc3Qgbj10aGlzLl9uZ0Zvck9mO2lmKCF0aGlzLl9kaWZmZXImJm4pdHJ5e3RoaXMuX2RpZmZlcj10aGlzLl9kaWZmZXJzLmZpbmQobikuY3JlYXRlKHRoaXMubmdGb3JUcmFja0J5KX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIGEgZGlmZmVyIHN1cHBvcnRpbmcgb2JqZWN0ICcke259JyBvZiB0eXBlICcke3Q9bix0Lm5hbWV8fHR5cGVvZiB0fScuIE5nRm9yIG9ubHkgc3VwcG9ydHMgYmluZGluZyB0byBJdGVyYWJsZXMgc3VjaCBhcyBBcnJheXMuYCl9fXZhciB0O2lmKHRoaXMuX2RpZmZlcil7Y29uc3QgdD10aGlzLl9kaWZmZXIuZGlmZih0aGlzLl9uZ0Zvck9mKTt0JiZ0aGlzLl9hcHBseUNoYW5nZXModCl9fV9hcHBseUNoYW5nZXModCl7Y29uc3QgZT1bXTt0LmZvckVhY2hPcGVyYXRpb24oKHQsbixyKT0+e2lmKG51bGw9PXQucHJldmlvdXNJbmRleCl7Y29uc3Qgbj10aGlzLl92aWV3Q29udGFpbmVyLmNyZWF0ZUVtYmVkZGVkVmlldyh0aGlzLl90ZW1wbGF0ZSxuZXcgdGgobnVsbCx0aGlzLl9uZ0Zvck9mLC0xLC0xKSxudWxsPT09cj92b2lkIDA6cikscz1uZXcgbmgodCxuKTtlLnB1c2gocyl9ZWxzZSBpZihudWxsPT1yKXRoaXMuX3ZpZXdDb250YWluZXIucmVtb3ZlKG51bGw9PT1uP3ZvaWQgMDpuKTtlbHNlIGlmKG51bGwhPT1uKXtjb25zdCBzPXRoaXMuX3ZpZXdDb250YWluZXIuZ2V0KG4pO3RoaXMuX3ZpZXdDb250YWluZXIubW92ZShzLHIpO2NvbnN0IGk9bmV3IG5oKHQscyk7ZS5wdXNoKGkpfX0pO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXRoaXMuX3BlclZpZXdDaGFuZ2UoZVtuXS52aWV3LGVbbl0ucmVjb3JkKTtmb3IobGV0IG49MCxyPXRoaXMuX3ZpZXdDb250YWluZXIubGVuZ3RoO248cjtuKyspe2NvbnN0IHQ9dGhpcy5fdmlld0NvbnRhaW5lci5nZXQobik7dC5jb250ZXh0LmluZGV4PW4sdC5jb250ZXh0LmNvdW50PXIsdC5jb250ZXh0Lm5nRm9yT2Y9dGhpcy5fbmdGb3JPZn10LmZvckVhY2hJZGVudGl0eUNoYW5nZSh0PT57dGhpcy5fdmlld0NvbnRhaW5lci5nZXQodC5jdXJyZW50SW5kZXgpLmNvbnRleHQuJGltcGxpY2l0PXQuaXRlbX0pfV9wZXJWaWV3Q2hhbmdlKHQsZSl7dC5jb250ZXh0LiRpbXBsaWNpdD1lLml0ZW19c3RhdGljIG5nVGVtcGxhdGVDb250ZXh0R3VhcmQodCxlKXtyZXR1cm4hMH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoZ28odWMpLGdvKHJjKSxnbyhXYSkpfSx0Llx1MDI3NWRpcj1YdCh7dHlwZTp0LHNlbGVjdG9yczpbWyIiLCJuZ0ZvciIsIiIsIm5nRm9yT2YiLCIiXV0saW5wdXRzOntuZ0Zvck9mOiJuZ0Zvck9mIixuZ0ZvclRyYWNrQnk6Im5nRm9yVHJhY2tCeSIsbmdGb3JUZW1wbGF0ZToibmdGb3JUZW1wbGF0ZSJ9fSksdH0pKCk7Y2xhc3Mgbmh7Y29uc3RydWN0b3IodCxlKXt0aGlzLnJlY29yZD10LHRoaXMudmlldz1lfX1sZXQgcmg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX3ZpZXdDb250YWluZXI9dCx0aGlzLl9jb250ZXh0PW5ldyBzaCx0aGlzLl90aGVuVGVtcGxhdGVSZWY9bnVsbCx0aGlzLl9lbHNlVGVtcGxhdGVSZWY9bnVsbCx0aGlzLl90aGVuVmlld1JlZj1udWxsLHRoaXMuX2Vsc2VWaWV3UmVmPW51bGwsdGhpcy5fdGhlblRlbXBsYXRlUmVmPWV9c2V0IG5nSWYodCl7dGhpcy5fY29udGV4dC4kaW1wbGljaXQ9dGhpcy5fY29udGV4dC5uZ0lmPXQsdGhpcy5fdXBkYXRlVmlldygpfXNldCBuZ0lmVGhlbih0KXtpaCgibmdJZlRoZW4iLHQpLHRoaXMuX3RoZW5UZW1wbGF0ZVJlZj10LHRoaXMuX3RoZW5WaWV3UmVmPW51bGwsdGhpcy5fdXBkYXRlVmlldygpfXNldCBuZ0lmRWxzZSh0KXtpaCgibmdJZkVsc2UiLHQpLHRoaXMuX2Vsc2VUZW1wbGF0ZVJlZj10LHRoaXMuX2Vsc2VWaWV3UmVmPW51bGwsdGhpcy5fdXBkYXRlVmlldygpfV91cGRhdGVWaWV3KCl7dGhpcy5fY29udGV4dC4kaW1wbGljaXQ/dGhpcy5fdGhlblZpZXdSZWZ8fCh0aGlzLl92aWV3Q29udGFpbmVyLmNsZWFyKCksdGhpcy5fZWxzZVZpZXdSZWY9bnVsbCx0aGlzLl90aGVuVGVtcGxhdGVSZWYmJih0aGlzLl90aGVuVmlld1JlZj10aGlzLl92aWV3Q29udGFpbmVyLmNyZWF0ZUVtYmVkZGVkVmlldyh0aGlzLl90aGVuVGVtcGxhdGVSZWYsdGhpcy5fY29udGV4dCkpKTp0aGlzLl9lbHNlVmlld1JlZnx8KHRoaXMuX3ZpZXdDb250YWluZXIuY2xlYXIoKSx0aGlzLl90aGVuVmlld1JlZj1udWxsLHRoaXMuX2Vsc2VUZW1wbGF0ZVJlZiYmKHRoaXMuX2Vsc2VWaWV3UmVmPXRoaXMuX3ZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuX2Vsc2VUZW1wbGF0ZVJlZix0aGlzLl9jb250ZXh0KSkpfXN0YXRpYyBuZ1RlbXBsYXRlQ29udGV4dEd1YXJkKHQsZSl7cmV0dXJuITB9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGdvKHVjKSxnbyhyYykpfSx0Llx1MDI3NWRpcj1YdCh7dHlwZTp0LHNlbGVjdG9yczpbWyIiLCJuZ0lmIiwiIl1dLGlucHV0czp7bmdJZjoibmdJZiIsbmdJZlRoZW46Im5nSWZUaGVuIixuZ0lmRWxzZToibmdJZkVsc2UifX0pLHR9KSgpO2NsYXNzIHNoe2NvbnN0cnVjdG9yKCl7dGhpcy4kaW1wbGljaXQ9bnVsbCx0aGlzLm5nSWY9bnVsbH19ZnVuY3Rpb24gaWgodCxlKXtpZihlJiYhZS5jcmVhdGVFbWJlZGRlZFZpZXcpdGhyb3cgbmV3IEVycm9yKGAke3R9IG11c3QgYmUgYSBUZW1wbGF0ZVJlZiwgYnV0IHJlY2VpdmVkICcke2V0KGUpfScuYCl9bGV0IG9oPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMuX25nRWw9dCx0aGlzLl9kaWZmZXJzPWUsdGhpcy5fcmVuZGVyZXI9bix0aGlzLl9uZ1N0eWxlPW51bGwsdGhpcy5fZGlmZmVyPW51bGx9c2V0IG5nU3R5bGUodCl7dGhpcy5fbmdTdHlsZT10LCF0aGlzLl9kaWZmZXImJnQmJih0aGlzLl9kaWZmZXI9dGhpcy5fZGlmZmVycy5maW5kKHQpLmNyZWF0ZSgpKX1uZ0RvQ2hlY2soKXtpZih0aGlzLl9kaWZmZXIpe2NvbnN0IHQ9dGhpcy5fZGlmZmVyLmRpZmYodGhpcy5fbmdTdHlsZSk7dCYmdGhpcy5fYXBwbHlDaGFuZ2VzKHQpfX1fc2V0U3R5bGUodCxlKXtjb25zdFtuLHJdPXQuc3BsaXQoIi4iKTtudWxsIT0oZT1udWxsIT1lJiZyP2Ake2V9JHtyfWA6ZSk/dGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUodGhpcy5fbmdFbC5uYXRpdmVFbGVtZW50LG4sZSk6dGhpcy5fcmVuZGVyZXIucmVtb3ZlU3R5bGUodGhpcy5fbmdFbC5uYXRpdmVFbGVtZW50LG4pfV9hcHBseUNoYW5nZXModCl7dC5mb3JFYWNoUmVtb3ZlZEl0ZW0odD0+dGhpcy5fc2V0U3R5bGUodC5rZXksbnVsbCkpLHQuZm9yRWFjaEFkZGVkSXRlbSh0PT50aGlzLl9zZXRTdHlsZSh0LmtleSx0LmN1cnJlbnRWYWx1ZSkpLHQuZm9yRWFjaENoYW5nZWRJdGVtKHQ9PnRoaXMuX3NldFN0eWxlKHQua2V5LHQuY3VycmVudFZhbHVlKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGdvKHhhKSxnbyhxYSksZ28oa2EpKX0sdC5cdTAyNzVkaXI9WHQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwibmdTdHlsZSIsIiJdXSxpbnB1dHM6e25nU3R5bGU6Im5nU3R5bGUifX0pLHR9KSgpLGFoPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5fdmlld0NvbnRhaW5lclJlZj10LHRoaXMuX3ZpZXdSZWY9bnVsbCx0aGlzLm5nVGVtcGxhdGVPdXRsZXRDb250ZXh0PW51bGwsdGhpcy5uZ1RlbXBsYXRlT3V0bGV0PW51bGx9bmdPbkNoYW5nZXModCl7aWYodC5uZ1RlbXBsYXRlT3V0bGV0KXtjb25zdCB0PXRoaXMuX3ZpZXdDb250YWluZXJSZWY7dGhpcy5fdmlld1JlZiYmdC5yZW1vdmUodC5pbmRleE9mKHRoaXMuX3ZpZXdSZWYpKSx0aGlzLl92aWV3UmVmPXRoaXMubmdUZW1wbGF0ZU91dGxldD90LmNyZWF0ZUVtYmVkZGVkVmlldyh0aGlzLm5nVGVtcGxhdGVPdXRsZXQsdGhpcy5uZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCk6bnVsbH1lbHNlIHRoaXMuX3ZpZXdSZWYmJnQubmdUZW1wbGF0ZU91dGxldENvbnRleHQmJnRoaXMubmdUZW1wbGF0ZU91dGxldENvbnRleHQmJih0aGlzLl92aWV3UmVmLmNvbnRleHQ9dGhpcy5uZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGdvKHVjKSl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsIm5nVGVtcGxhdGVPdXRsZXQiLCIiXV0saW5wdXRzOntuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dDoibmdUZW1wbGF0ZU91dGxldENvbnRleHQiLG5nVGVtcGxhdGVPdXRsZXQ6Im5nVGVtcGxhdGVPdXRsZXQifSxmZWF0dXJlczpbY2VdfSksdH0pKCk7ZnVuY3Rpb24gY2godCxlKXtyZXR1cm4gRXJyb3IoYEludmFsaWRQaXBlQXJndW1lbnQ6ICcke2V9JyBmb3IgcGlwZSAnJHtldCh0KX0nYCl9Y2xhc3MgbGh7Y3JlYXRlU3Vic2NyaXB0aW9uKHQsZSl7cmV0dXJuIHQuc3Vic2NyaWJlKHtuZXh0OmUsZXJyb3I6dD0+e3Rocm93IHR9fSl9ZGlzcG9zZSh0KXt0LnVuc3Vic2NyaWJlKCl9b25EZXN0cm95KHQpe3QudW5zdWJzY3JpYmUoKX19Y2xhc3MgdWh7Y3JlYXRlU3Vic2NyaXB0aW9uKHQsZSl7cmV0dXJuIHQudGhlbihlLHQ9Pnt0aHJvdyB0fSl9ZGlzcG9zZSh0KXt9b25EZXN0cm95KHQpe319Y29uc3QgaGg9bmV3IHVoLGRoPW5ldyBsaDtsZXQgcGg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9yZWY9dCx0aGlzLl9sYXRlc3RWYWx1ZT1udWxsLHRoaXMuX3N1YnNjcmlwdGlvbj1udWxsLHRoaXMuX29iaj1udWxsLHRoaXMuX3N0cmF0ZWd5PW51bGx9bmdPbkRlc3Ryb3koKXt0aGlzLl9zdWJzY3JpcHRpb24mJnRoaXMuX2Rpc3Bvc2UoKX10cmFuc2Zvcm0odCl7cmV0dXJuIHRoaXMuX29iaj90IT09dGhpcy5fb2JqPyh0aGlzLl9kaXNwb3NlKCksdGhpcy50cmFuc2Zvcm0odCkpOnRoaXMuX2xhdGVzdFZhbHVlOih0JiZ0aGlzLl9zdWJzY3JpYmUodCksdGhpcy5fbGF0ZXN0VmFsdWUpfV9zdWJzY3JpYmUodCl7dGhpcy5fb2JqPXQsdGhpcy5fc3RyYXRlZ3k9dGhpcy5fc2VsZWN0U3RyYXRlZ3kodCksdGhpcy5fc3Vic2NyaXB0aW9uPXRoaXMuX3N0cmF0ZWd5LmNyZWF0ZVN1YnNjcmlwdGlvbih0LGU9PnRoaXMuX3VwZGF0ZUxhdGVzdFZhbHVlKHQsZSkpfV9zZWxlY3RTdHJhdGVneShlKXtpZihEbyhlKSlyZXR1cm4gaGg7aWYoRW8oZSkpcmV0dXJuIGRoO3Rocm93IGNoKHQsZSl9X2Rpc3Bvc2UoKXt0aGlzLl9zdHJhdGVneS5kaXNwb3NlKHRoaXMuX3N1YnNjcmlwdGlvbiksdGhpcy5fbGF0ZXN0VmFsdWU9bnVsbCx0aGlzLl9zdWJzY3JpcHRpb249bnVsbCx0aGlzLl9vYmo9bnVsbH1fdXBkYXRlTGF0ZXN0VmFsdWUodCxlKXt0PT09dGhpcy5fb2JqJiYodGhpcy5fbGF0ZXN0VmFsdWU9ZSx0aGlzLl9yZWYubWFya0ZvckNoZWNrKCkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyhLYSwxNikpfSx0Llx1MDI3NXBpcGU9WXQoe25hbWU6ImFzeW5jIix0eXBlOnQscHVyZTohMX0pLHR9KSgpO2NvbnN0IGZoPS8oPzpbQS1aYS16XHhBQVx4QjVceEJBXHhDMC1ceEQ2XHhEOC1ceEY2XHhGOC1cdTAyQzFcdTAyQzYtXHUwMkQxXHUwMkUwLVx1MDJFNFx1MDJFQ1x1MDJFRVx1MDM3MC1cdTAzNzRcdTAzNzZcdTAzNzdcdTAzN0EtXHUwMzdEXHUwMzdGXHUwMzg2XHUwMzg4LVx1MDM4QVx1MDM4Q1x1MDM4RS1cdTAzQTFcdTAzQTMtXHUwM0Y1XHUwM0Y3LVx1MDQ4MVx1MDQ4QS1cdTA1MkZcdTA1MzEtXHUwNTU2XHUwNTU5XHUwNTYxLVx1MDU4N1x1MDVEMC1cdTA1RUFcdTA1RjAtXHUwNUYyXHUwNjIwLVx1MDY0QVx1MDY2RVx1MDY2Rlx1MDY3MS1cdTA2RDNcdTA2RDVcdTA2RTVcdTA2RTZcdTA2RUVcdTA2RUZcdTA2RkEtXHUwNkZDXHUwNkZGXHUwNzEwXHUwNzEyLVx1MDcyRlx1MDc0RC1cdTA3QTVcdTA3QjFcdTA3Q0EtXHUwN0VBXHUwN0Y0XHUwN0Y1XHUwN0ZBXHUwODAwLVx1MDgxNVx1MDgxQVx1MDgyNFx1MDgyOFx1MDg0MC1cdTA4NThcdTA4NjAtXHUwODZBXHUwOEEwLVx1MDhCNFx1MDhCNi1cdTA4QkRcdTA5MDQtXHUwOTM5XHUwOTNEXHUwOTUwXHUwOTU4LVx1MDk2MVx1MDk3MS1cdTA5ODBcdTA5ODUtXHUwOThDXHUwOThGXHUwOTkwXHUwOTkzLVx1MDlBOFx1MDlBQS1cdTA5QjBcdTA5QjJcdTA5QjYtXHUwOUI5XHUwOUJEXHUwOUNFXHUwOURDXHUwOUREXHUwOURGLVx1MDlFMVx1MDlGMFx1MDlGMVx1MDlGQ1x1MEEwNS1cdTBBMEFcdTBBMEZcdTBBMTBcdTBBMTMtXHUwQTI4XHUwQTJBLVx1MEEzMFx1MEEzMlx1MEEzM1x1MEEzNVx1MEEzNlx1MEEzOFx1MEEzOVx1MEE1OS1cdTBBNUNcdTBBNUVcdTBBNzItXHUwQTc0XHUwQTg1LVx1MEE4RFx1MEE4Ri1cdTBBOTFcdTBBOTMtXHUwQUE4XHUwQUFBLVx1MEFCMFx1MEFCMlx1MEFCM1x1MEFCNS1cdTBBQjlcdTBBQkRcdTBBRDBcdTBBRTBcdTBBRTFcdTBBRjlcdTBCMDUtXHUwQjBDXHUwQjBGXHUwQjEwXHUwQjEzLVx1MEIyOFx1MEIyQS1cdTBCMzBcdTBCMzJcdTBCMzNcdTBCMzUtXHUwQjM5XHUwQjNEXHUwQjVDXHUwQjVEXHUwQjVGLVx1MEI2MVx1MEI3MVx1MEI4M1x1MEI4NS1cdTBCOEFcdTBCOEUtXHUwQjkwXHUwQjkyLVx1MEI5NVx1MEI5OVx1MEI5QVx1MEI5Q1x1MEI5RVx1MEI5Rlx1MEJBM1x1MEJBNFx1MEJBOC1cdTBCQUFcdTBCQUUtXHUwQkI5XHUwQkQwXHUwQzA1LVx1MEMwQ1x1MEMwRS1cdTBDMTBcdTBDMTItXHUwQzI4XHUwQzJBLVx1MEMzOVx1MEMzRFx1MEM1OC1cdTBDNUFcdTBDNjBcdTBDNjFcdTBDODBcdTBDODUtXHUwQzhDXHUwQzhFLVx1MEM5MFx1MEM5Mi1cdTBDQThcdTBDQUEtXHUwQ0IzXHUwQ0I1LVx1MENCOVx1MENCRFx1MENERVx1MENFMFx1MENFMVx1MENGMVx1MENGMlx1MEQwNS1cdTBEMENcdTBEMEUtXHUwRDEwXHUwRDEyLVx1MEQzQVx1MEQzRFx1MEQ0RVx1MEQ1NC1cdTBENTZcdTBENUYtXHUwRDYxXHUwRDdBLVx1MEQ3Rlx1MEQ4NS1cdTBEOTZcdTBEOUEtXHUwREIxXHUwREIzLVx1MERCQlx1MERCRFx1MERDMC1cdTBEQzZcdTBFMDEtXHUwRTMwXHUwRTMyXHUwRTMzXHUwRTQwLVx1MEU0Nlx1MEU4MVx1MEU4Mlx1MEU4NFx1MEU4N1x1MEU4OFx1MEU4QVx1MEU4RFx1MEU5NC1cdTBFOTdcdTBFOTktXHUwRTlGXHUwRUExLVx1MEVBM1x1MEVBNVx1MEVBN1x1MEVBQVx1MEVBQlx1MEVBRC1cdTBFQjBcdTBFQjJcdTBFQjNcdTBFQkRcdTBFQzAtXHUwRUM0XHUwRUM2XHUwRURDLVx1MEVERlx1MEYwMFx1MEY0MC1cdTBGNDdcdTBGNDktXHUwRjZDXHUwRjg4LVx1MEY4Q1x1MTAwMC1cdTEwMkFcdTEwM0ZcdTEwNTAtXHUxMDU1XHUxMDVBLVx1MTA1RFx1MTA2MVx1MTA2NVx1MTA2Nlx1MTA2RS1cdTEwNzBcdTEwNzUtXHUxMDgxXHUxMDhFXHUxMEEwLVx1MTBDNVx1MTBDN1x1MTBDRFx1MTBEMC1cdTEwRkFcdTEwRkMtXHUxMjQ4XHUxMjRBLVx1MTI0RFx1MTI1MC1cdTEyNTZcdTEyNThcdTEyNUEtXHUxMjVEXHUxMjYwLVx1MTI4OFx1MTI4QS1cdTEyOERcdTEyOTAtXHUxMkIwXHUxMkIyLVx1MTJCNVx1MTJCOC1cdTEyQkVcdTEyQzBcdTEyQzItXHUxMkM1XHUxMkM4LVx1MTJENlx1MTJEOC1cdTEzMTBcdTEzMTItXHUxMzE1XHUxMzE4LVx1MTM1QVx1MTM4MC1cdTEzOEZcdTEzQTAtXHUxM0Y1XHUxM0Y4LVx1MTNGRFx1MTQwMS1cdTE2NkNcdTE2NkYtXHUxNjdGXHUxNjgxLVx1MTY5QVx1MTZBMC1cdTE2RUFcdTE2RjEtXHUxNkY4XHUxNzAwLVx1MTcwQ1x1MTcwRS1cdTE3MTFcdTE3MjAtXHUxNzMxXHUxNzQwLVx1MTc1MVx1MTc2MC1cdTE3NkNcdTE3NkUtXHUxNzcwXHUxNzgwLVx1MTdCM1x1MTdEN1x1MTdEQ1x1MTgyMC1cdTE4NzdcdTE4ODAtXHUxODg0XHUxODg3LVx1MThBOFx1MThBQVx1MThCMC1cdTE4RjVcdTE5MDAtXHUxOTFFXHUxOTUwLVx1MTk2RFx1MTk3MC1cdTE5NzRcdTE5ODAtXHUxOUFCXHUxOUIwLVx1MTlDOVx1MUEwMC1cdTFBMTZcdTFBMjAtXHUxQTU0XHUxQUE3XHUxQjA1LVx1MUIzM1x1MUI0NS1cdTFCNEJcdTFCODMtXHUxQkEwXHUxQkFFXHUxQkFGXHUxQkJBLVx1MUJFNVx1MUMwMC1cdTFDMjNcdTFDNEQtXHUxQzRGXHUxQzVBLVx1MUM3RFx1MUM4MC1cdTFDODhcdTFDRTktXHUxQ0VDXHUxQ0VFLVx1MUNGMVx1MUNGNVx1MUNGNlx1MUQwMC1cdTFEQkZcdTFFMDAtXHUxRjE1XHUxRjE4LVx1MUYxRFx1MUYyMC1cdTFGNDVcdTFGNDgtXHUxRjREXHUxRjUwLVx1MUY1N1x1MUY1OVx1MUY1Qlx1MUY1RFx1MUY1Ri1cdTFGN0RcdTFGODAtXHUxRkI0XHUxRkI2LVx1MUZCQ1x1MUZCRVx1MUZDMi1cdTFGQzRcdTFGQzYtXHUxRkNDXHUxRkQwLVx1MUZEM1x1MUZENi1cdTFGREJcdTFGRTAtXHUxRkVDXHUxRkYyLVx1MUZGNFx1MUZGNi1cdTFGRkNcdTIwNzFcdTIwN0ZcdTIwOTAtXHUyMDlDXHUyMTAyXHUyMTA3XHUyMTBBLVx1MjExM1x1MjExNVx1MjExOS1cdTIxMURcdTIxMjRcdTIxMjZcdTIxMjhcdTIxMkEtXHUyMTJEXHUyMTJGLVx1MjEzOVx1MjEzQy1cdTIxM0ZcdTIxNDUtXHUyMTQ5XHUyMTRFXHUyMTgzXHUyMTg0XHUyQzAwLVx1MkMyRVx1MkMzMC1cdTJDNUVcdTJDNjAtXHUyQ0U0XHUyQ0VCLVx1MkNFRVx1MkNGMlx1MkNGM1x1MkQwMC1cdTJEMjVcdTJEMjdcdTJEMkRcdTJEMzAtXHUyRDY3XHUyRDZGXHUyRDgwLVx1MkQ5Nlx1MkRBMC1cdTJEQTZcdTJEQTgtXHUyREFFXHUyREIwLVx1MkRCNlx1MkRCOC1cdTJEQkVcdTJEQzAtXHUyREM2XHUyREM4LVx1MkRDRVx1MkREMC1cdTJERDZcdTJERDgtXHUyRERFXHUyRTJGXHUzMDA1XHUzMDA2XHUzMDMxLVx1MzAzNVx1MzAzQlx1MzAzQ1x1MzA0MS1cdTMwOTZcdTMwOUQtXHUzMDlGXHUzMEExLVx1MzBGQVx1MzBGQy1cdTMwRkZcdTMxMDUtXHUzMTJFXHUzMTMxLVx1MzE4RVx1MzFBMC1cdTMxQkFcdTMxRjAtXHUzMUZGXHUzNDAwLVx1NERCNVx1NEUwMC1cdTlGRUFcdUEwMDAtXHVBNDhDXHVBNEQwLVx1QTRGRFx1QTUwMC1cdUE2MENcdUE2MTAtXHVBNjFGXHVBNjJBXHVBNjJCXHVBNjQwLVx1QTY2RVx1QTY3Ri1cdUE2OURcdUE2QTAtXHVBNkU1XHVBNzE3LVx1QTcxRlx1QTcyMi1cdUE3ODhcdUE3OEItXHVBN0FFXHVBN0IwLVx1QTdCN1x1QTdGNy1cdUE4MDFcdUE4MDMtXHVBODA1XHVBODA3LVx1QTgwQVx1QTgwQy1cdUE4MjJcdUE4NDAtXHVBODczXHVBODgyLVx1QThCM1x1QThGMi1cdUE4RjdcdUE4RkJcdUE4RkRcdUE5MEEtXHVBOTI1XHVBOTMwLVx1QTk0Nlx1QTk2MC1cdUE5N0NcdUE5ODQtXHVBOUIyXHVBOUNGXHVBOUUwLVx1QTlFNFx1QTlFNi1cdUE5RUZcdUE5RkEtXHVBOUZFXHVBQTAwLVx1QUEyOFx1QUE0MC1cdUFBNDJcdUFBNDQtXHVBQTRCXHVBQTYwLVx1QUE3Nlx1QUE3QVx1QUE3RS1cdUFBQUZcdUFBQjFcdUFBQjVcdUFBQjZcdUFBQjktXHVBQUJEXHVBQUMwXHVBQUMyXHVBQURCLVx1QUFERFx1QUFFMC1cdUFBRUFcdUFBRjItXHVBQUY0XHVBQjAxLVx1QUIwNlx1QUIwOS1cdUFCMEVcdUFCMTEtXHVBQjE2XHVBQjIwLVx1QUIyNlx1QUIyOC1cdUFCMkVcdUFCMzAtXHVBQjVBXHVBQjVDLVx1QUI2NVx1QUI3MC1cdUFCRTJcdUFDMDAtXHVEN0EzXHVEN0IwLVx1RDdDNlx1RDdDQi1cdUQ3RkJcdUY5MDAtXHVGQTZEXHVGQTcwLVx1RkFEOVx1RkIwMC1cdUZCMDZcdUZCMTMtXHVGQjE3XHVGQjFEXHVGQjFGLVx1RkIyOFx1RkIyQS1cdUZCMzZcdUZCMzgtXHVGQjNDXHVGQjNFXHVGQjQwXHVGQjQxXHVGQjQzXHVGQjQ0XHVGQjQ2LVx1RkJCMVx1RkJEMy1cdUZEM0RcdUZENTAtXHVGRDhGXHVGRDkyLVx1RkRDN1x1RkRGMC1cdUZERkJcdUZFNzAtXHVGRTc0XHVGRTc2LVx1RkVGQ1x1RkYyMS1cdUZGM0FcdUZGNDEtXHVGRjVBXHVGRjY2LVx1RkZCRVx1RkZDMi1cdUZGQzdcdUZGQ0EtXHVGRkNGXHVGRkQyLVx1RkZEN1x1RkZEQS1cdUZGRENdfFx1RDgwMFtcdURDMDAtXHVEQzBCXHVEQzBELVx1REMyNlx1REMyOC1cdURDM0FcdURDM0NcdURDM0RcdURDM0YtXHVEQzREXHVEQzUwLVx1REM1RFx1REM4MC1cdURDRkFcdURFODAtXHVERTlDXHVERUEwLVx1REVEMFx1REYwMC1cdURGMUZcdURGMkQtXHVERjQwXHVERjQyLVx1REY0OVx1REY1MC1cdURGNzVcdURGODAtXHVERjlEXHVERkEwLVx1REZDM1x1REZDOC1cdURGQ0ZdfFx1RDgwMVtcdURDMDAtXHVEQzlEXHVEQ0IwLVx1RENEM1x1RENEOC1cdURDRkJcdUREMDAtXHVERDI3XHVERDMwLVx1REQ2M1x1REUwMC1cdURGMzZcdURGNDAtXHVERjU1XHVERjYwLVx1REY2N118XHVEODAyW1x1REMwMC1cdURDMDVcdURDMDhcdURDMEEtXHVEQzM1XHVEQzM3XHVEQzM4XHVEQzNDXHVEQzNGLVx1REM1NVx1REM2MC1cdURDNzZcdURDODAtXHVEQzlFXHVEQ0UwLVx1RENGMlx1RENGNFx1RENGNVx1REQwMC1cdUREMTVcdUREMjAtXHVERDM5XHVERDgwLVx1RERCN1x1RERCRVx1RERCRlx1REUwMFx1REUxMC1cdURFMTNcdURFMTUtXHVERTE3XHVERTE5LVx1REUzM1x1REU2MC1cdURFN0NcdURFODAtXHVERTlDXHVERUMwLVx1REVDN1x1REVDOS1cdURFRTRcdURGMDAtXHVERjM1XHVERjQwLVx1REY1NVx1REY2MC1cdURGNzJcdURGODAtXHVERjkxXXxcdUQ4MDNbXHVEQzAwLVx1REM0OFx1REM4MC1cdURDQjJcdURDQzAtXHVEQ0YyXXxcdUQ4MDRbXHVEQzAzLVx1REMzN1x1REM4My1cdURDQUZcdURDRDAtXHVEQ0U4XHVERDAzLVx1REQyNlx1REQ1MC1cdURENzJcdURENzZcdUREODMtXHVEREIyXHVEREMxLVx1RERDNFx1REREQVx1REREQ1x1REUwMC1cdURFMTFcdURFMTMtXHVERTJCXHVERTgwLVx1REU4Nlx1REU4OFx1REU4QS1cdURFOERcdURFOEYtXHVERTlEXHVERTlGLVx1REVBOFx1REVCMC1cdURFREVcdURGMDUtXHVERjBDXHVERjBGXHVERjEwXHVERjEzLVx1REYyOFx1REYyQS1cdURGMzBcdURGMzJcdURGMzNcdURGMzUtXHVERjM5XHVERjNEXHVERjUwXHVERjVELVx1REY2MV18XHVEODA1W1x1REMwMC1cdURDMzRcdURDNDctXHVEQzRBXHVEQzgwLVx1RENBRlx1RENDNFx1RENDNVx1RENDN1x1REQ4MC1cdUREQUVcdURERDgtXHVERERCXHVERTAwLVx1REUyRlx1REU0NFx1REU4MC1cdURFQUFcdURGMDAtXHVERjE5XXxcdUQ4MDZbXHVEQ0EwLVx1RENERlx1RENGRlx1REUwMFx1REUwQi1cdURFMzJcdURFM0FcdURFNTBcdURFNUMtXHVERTgzXHVERTg2LVx1REU4OVx1REVDMC1cdURFRjhdfFx1RDgwN1tcdURDMDAtXHVEQzA4XHVEQzBBLVx1REMyRVx1REM0MFx1REM3Mi1cdURDOEZcdUREMDAtXHVERDA2XHVERDA4XHVERDA5XHVERDBCLVx1REQzMFx1REQ0Nl18XHVEODA4W1x1REMwMC1cdURGOTldfFx1RDgwOVtcdURDODAtXHVERDQzXXxbXHVEODBDXHVEODFDLVx1RDgyMFx1RDg0MC1cdUQ4NjhcdUQ4NkEtXHVEODZDXHVEODZGLVx1RDg3Mlx1RDg3NC1cdUQ4NzldW1x1REMwMC1cdURGRkZdfFx1RDgwRFtcdURDMDAtXHVEQzJFXXxcdUQ4MTFbXHVEQzAwLVx1REU0Nl18XHVEODFBW1x1REMwMC1cdURFMzhcdURFNDAtXHVERTVFXHVERUQwLVx1REVFRFx1REYwMC1cdURGMkZcdURGNDAtXHVERjQzXHVERjYzLVx1REY3N1x1REY3RC1cdURGOEZdfFx1RDgxQltcdURGMDAtXHVERjQ0XHVERjUwXHVERjkzLVx1REY5Rlx1REZFMFx1REZFMV18XHVEODIxW1x1REMwMC1cdURGRUNdfFx1RDgyMltcdURDMDAtXHVERUYyXXxcdUQ4MkNbXHVEQzAwLVx1REQxRVx1REQ3MC1cdURFRkJdfFx1RDgyRltcdURDMDAtXHVEQzZBXHVEQzcwLVx1REM3Q1x1REM4MC1cdURDODhcdURDOTAtXHVEQzk5XXxcdUQ4MzVbXHVEQzAwLVx1REM1NFx1REM1Ni1cdURDOUNcdURDOUVcdURDOUZcdURDQTJcdURDQTVcdURDQTZcdURDQTktXHVEQ0FDXHVEQ0FFLVx1RENCOVx1RENCQlx1RENCRC1cdURDQzNcdURDQzUtXHVERDA1XHVERDA3LVx1REQwQVx1REQwRC1cdUREMTRcdUREMTYtXHVERDFDXHVERDFFLVx1REQzOVx1REQzQi1cdUREM0VcdURENDAtXHVERDQ0XHVERDQ2XHVERDRBLVx1REQ1MFx1REQ1Mi1cdURFQTVcdURFQTgtXHVERUMwXHVERUMyLVx1REVEQVx1REVEQy1cdURFRkFcdURFRkMtXHVERjE0XHVERjE2LVx1REYzNFx1REYzNi1cdURGNEVcdURGNTAtXHVERjZFXHVERjcwLVx1REY4OFx1REY4QS1cdURGQThcdURGQUEtXHVERkMyXHVERkM0LVx1REZDQl18XHVEODNBW1x1REMwMC1cdURDQzRcdUREMDAtXHVERDQzXXxcdUQ4M0JbXHVERTAwLVx1REUwM1x1REUwNS1cdURFMUZcdURFMjFcdURFMjJcdURFMjRcdURFMjdcdURFMjktXHVERTMyXHVERTM0LVx1REUzN1x1REUzOVx1REUzQlx1REU0Mlx1REU0N1x1REU0OVx1REU0Qlx1REU0RC1cdURFNEZcdURFNTFcdURFNTJcdURFNTRcdURFNTdcdURFNTlcdURFNUJcdURFNURcdURFNUZcdURFNjFcdURFNjJcdURFNjRcdURFNjctXHVERTZBXHVERTZDLVx1REU3Mlx1REU3NC1cdURFNzdcdURFNzktXHVERTdDXHVERTdFXHVERTgwLVx1REU4OVx1REU4Qi1cdURFOUJcdURFQTEtXHVERUEzXHVERUE1LVx1REVBOVx1REVBQi1cdURFQkJdfFx1RDg2OVtcdURDMDAtXHVERUQ2XHVERjAwLVx1REZGRl18XHVEODZEW1x1REMwMC1cdURGMzRcdURGNDAtXHVERkZGXXxcdUQ4NkVbXHVEQzAwLVx1REMxRFx1REMyMC1cdURGRkZdfFx1RDg3M1tcdURDMDAtXHVERUExXHVERUIwLVx1REZGRl18XHVEODdBW1x1REMwMC1cdURGRTBdfFx1RDg3RVtcdURDMDAtXHVERTFEXSlcUyovZztsZXQgZ2g9KCgpPT57Y2xhc3MgdHt0cmFuc2Zvcm0oZSl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgY2godCxlKTtyZXR1cm4gZS5yZXBsYWNlKGZoLHQ9PnRbMF0udG9VcHBlckNhc2UoKSt0LnN1YnN0cigxKS50b0xvd2VyQ2FzZSgpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cGlwZT1ZdCh7bmFtZToidGl0bGVjYXNlIix0eXBlOnQscHVyZTohMH0pLHR9KSgpLG1oPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5sb2NhbGU9dH10cmFuc2Zvcm0oZSxuPSJtZWRpdW1EYXRlIixyLHMpe2lmKG51bGw9PWV8fCIiPT09ZXx8ZSE9ZSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIEZ1KGUsbixzfHx0aGlzLmxvY2FsZSxyKX1jYXRjaChpKXt0aHJvdyBjaCh0LGkubWVzc2FnZSl9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyhlbCwxNikpfSx0Llx1MDI3NXBpcGU9WXQoe25hbWU6ImRhdGUiLHR5cGU6dCxwdXJlOiEwfSksdH0pKCkseWg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9sb2NhbGU9dH10cmFuc2Zvcm0oZSxuLHIpe2lmKCFiaChlKSlyZXR1cm4gbnVsbDtyPXJ8fHRoaXMuX2xvY2FsZTt0cnl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gcXUodCxYdShDdShlLHV1LkRlY2ltYWwpLGJ1KGUsZ3UuTWludXNTaWduKSksZSxndS5Hcm91cCxndS5EZWNpbWFsLG4pfShDaChlKSxyLG4pfWNhdGNoKHMpe3Rocm93IGNoKHQscy5tZXNzYWdlKX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGdvKGVsLDE2KSl9LHQuXHUwMjc1cGlwZT1ZdCh7bmFtZToibnVtYmVyIix0eXBlOnQscHVyZTohMH0pLHR9KSgpLHZoPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlPSJVU0QiKXt0aGlzLl9sb2NhbGU9dCx0aGlzLl9kZWZhdWx0Q3VycmVuY3lDb2RlPWV9dHJhbnNmb3JtKGUsbj10aGlzLl9kZWZhdWx0Q3VycmVuY3lDb2RlLHI9InN5bWJvbCIscyxpKXtpZighYmgoZSkpcmV0dXJuIG51bGw7aT1pfHx0aGlzLl9sb2NhbGUsImJvb2xlYW4iPT10eXBlb2YgciYmKHI9cj8ic3ltYm9sIjoiY29kZSIpO2xldCBvPW58fHRoaXMuX2RlZmF1bHRDdXJyZW5jeUNvZGU7ImNvZGUiIT09ciYmKG89InN5bWJvbCI9PT1yfHwic3ltYm9sLW5hcnJvdyI9PT1yP2Z1bmN0aW9uKHQsZSxuPSJlbiIpe2NvbnN0IHI9ZnVuY3Rpb24odCl7cmV0dXJuIG9hKHQpW2NhLkN1cnJlbmNpZXNdfShuKVt0XXx8bHVbdF18fFtdLHM9clsxXTtyZXR1cm4ibmFycm93Ij09PWUmJiJzdHJpbmciPT10eXBlb2Ygcz9zOnJbMF18fHR9KG8sInN5bWJvbCI9PT1yPyJ3aWRlIjoibmFycm93IixpKTpyKTt0cnl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIscyl7Y29uc3QgaT1YdShDdShlLHV1LkN1cnJlbmN5KSxidShlLGd1Lk1pbnVzU2lnbikpO3JldHVybiBpLm1pbkZyYWM9ZnVuY3Rpb24odCl7bGV0IGU7Y29uc3Qgbj1sdVt0XTtyZXR1cm4gbiYmKGU9blsyXSksIm51bWJlciI9PXR5cGVvZiBlP2U6Mn0ociksaS5tYXhGcmFjPWkubWluRnJhYyxxdSh0LGksZSxndS5DdXJyZW5jeUdyb3VwLGd1LkN1cnJlbmN5RGVjaW1hbCxzKS5yZXBsYWNlKCJceGE0IixuKS5yZXBsYWNlKCJceGE0IiwiIikudHJpbSgpfShDaChlKSxpLG8sbixzKX1jYXRjaChhKXt0aHJvdyBjaCh0LGEubWVzc2FnZSl9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyhlbCwxNiksZ28obmwsMTYpKX0sdC5cdTAyNzVwaXBlPVl0KHtuYW1lOiJjdXJyZW5jeSIsdHlwZTp0LHB1cmU6ITB9KSx0fSkoKTtmdW5jdGlvbiBiaCh0KXtyZXR1cm4hKG51bGw9PXR8fCIiPT09dHx8dCE9dCl9ZnVuY3Rpb24gQ2godCl7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYhaXNOYU4oTnVtYmVyKHQpLXBhcnNlRmxvYXQodCkpKXJldHVybiBOdW1iZXIodCk7aWYoIm51bWJlciIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihgJHt0fSBpcyBub3QgYSBudW1iZXJgKTtyZXR1cm4gdH1sZXQgd2g9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOlt7cHJvdmlkZTpadSx1c2VDbGFzczpRdX1dfSksdH0pKCksX2g9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxwcm92aWRlZEluOiJyb290IixmYWN0b3J5OigpPT5uZXcgRGgodXIoV2wpLHdpbmRvdyl9KSx0fSkoKTtjbGFzcyBEaHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuZG9jdW1lbnQ9dCx0aGlzLndpbmRvdz1lLHRoaXMub2Zmc2V0PSgpPT5bMCwwXX1zZXRPZmZzZXQodCl7dGhpcy5vZmZzZXQ9QXJyYXkuaXNBcnJheSh0KT8oKT0+dDp0fWdldFNjcm9sbFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuc3VwcG9ydHNTY3JvbGxpbmcoKT9bdGhpcy53aW5kb3cucGFnZVhPZmZzZXQsdGhpcy53aW5kb3cucGFnZVlPZmZzZXRdOlswLDBdfXNjcm9sbFRvUG9zaXRpb24odCl7dGhpcy5zdXBwb3J0c1Njcm9sbGluZygpJiZ0aGlzLndpbmRvdy5zY3JvbGxUbyh0WzBdLHRbMV0pfXNjcm9sbFRvQW5jaG9yKHQpe2lmKCF0aGlzLnN1cHBvcnRzU2Nyb2xsaW5nKCkpcmV0dXJuO2NvbnN0IGU9ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuZ2V0RWxlbWVudEJ5SWQoZSl8fHQuZ2V0RWxlbWVudHNCeU5hbWUoZSlbMF07aWYobilyZXR1cm4gbjtpZigiZnVuY3Rpb24iPT10eXBlb2YgdC5jcmVhdGVUcmVlV2Fsa2VyJiZ0LmJvZHkmJih0LmJvZHkuY3JlYXRlU2hhZG93Um9vdHx8dC5ib2R5LmF0dGFjaFNoYWRvdykpe2NvbnN0IG49dC5jcmVhdGVUcmVlV2Fsa2VyKHQuYm9keSxOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCk7bGV0IHI9bi5jdXJyZW50Tm9kZTtmb3IoO3I7KXtjb25zdCB0PXIuc2hhZG93Um9vdDtpZih0KXtjb25zdCBuPXQuZ2V0RWxlbWVudEJ5SWQoZSl8fHQucXVlcnlTZWxlY3RvcihgW25hbWU9IiR7ZX0iXWApO2lmKG4pcmV0dXJuIG59cj1uLm5leHROb2RlKCl9fXJldHVybiBudWxsfSh0aGlzLmRvY3VtZW50LHQpO2UmJih0aGlzLnNjcm9sbFRvRWxlbWVudChlKSx0aGlzLmF0dGVtcHRGb2N1cyhlKSl9c2V0SGlzdG9yeVNjcm9sbFJlc3RvcmF0aW9uKHQpe2lmKHRoaXMuc3VwcG9ydFNjcm9sbFJlc3RvcmF0aW9uKCkpe2NvbnN0IGU9dGhpcy53aW5kb3cuaGlzdG9yeTtlJiZlLnNjcm9sbFJlc3RvcmF0aW9uJiYoZS5zY3JvbGxSZXN0b3JhdGlvbj10KX19c2Nyb2xsVG9FbGVtZW50KHQpe2NvbnN0IGU9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPWUubGVmdCt0aGlzLndpbmRvdy5wYWdlWE9mZnNldCxyPWUudG9wK3RoaXMud2luZG93LnBhZ2VZT2Zmc2V0LHM9dGhpcy5vZmZzZXQoKTt0aGlzLndpbmRvdy5zY3JvbGxUbyhuLXNbMF0sci1zWzFdKX1hdHRlbXB0Rm9jdXModCl7cmV0dXJuIHQuZm9jdXMoKSx0aGlzLmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT10fXN1cHBvcnRTY3JvbGxSZXN0b3JhdGlvbigpe3RyeXtpZighdGhpcy5zdXBwb3J0c1Njcm9sbGluZygpKXJldHVybiExO2NvbnN0IHQ9RWgodGhpcy53aW5kb3cuaGlzdG9yeSl8fEVoKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzLndpbmRvdy5oaXN0b3J5KSk7cmV0dXJuISghdHx8IXQud3JpdGFibGUmJiF0LnNldCl9Y2F0Y2godCl7cmV0dXJuITF9fXN1cHBvcnRzU2Nyb2xsaW5nKCl7dHJ5e3JldHVybiEhdGhpcy53aW5kb3cmJiEhdGhpcy53aW5kb3cuc2Nyb2xsVG8mJiJwYWdlWE9mZnNldCJpbiB0aGlzLndpbmRvd31jYXRjaCh0KXtyZXR1cm4hMX19fWZ1bmN0aW9uIEVoKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsInNjcm9sbFJlc3RvcmF0aW9uIil9Y2xhc3MgU2h7fWNsYXNzIHhoIGV4dGVuZHMgY2xhc3MgZXh0ZW5kcyBjbGFzc3t9e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnN1cHBvcnRzRE9NRXZlbnRzPSEwfX17c3RhdGljIG1ha2VDdXJyZW50KCl7dmFyIHQ7dD1uZXcgeGgsJGx8fCgkbD10KX1vbkFuZENhbmNlbCh0LGUsbil7cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcihlLG4sITEpLCgpPT57dC5yZW1vdmVFdmVudExpc3RlbmVyKGUsbiwhMSl9fWRpc3BhdGNoRXZlbnQodCxlKXt0LmRpc3BhdGNoRXZlbnQoZSl9cmVtb3ZlKHQpe3QucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpfWNyZWF0ZUVsZW1lbnQodCxlKXtyZXR1cm4oZT1lfHx0aGlzLmdldERlZmF1bHREb2N1bWVudCgpKS5jcmVhdGVFbGVtZW50KHQpfWNyZWF0ZUh0bWxEb2N1bWVudCgpe3JldHVybiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoImZha2VUaXRsZSIpfWdldERlZmF1bHREb2N1bWVudCgpe3JldHVybiBkb2N1bWVudH1pc0VsZW1lbnROb2RlKHQpe3JldHVybiB0Lm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREV9aXNTaGFkb3dSb290KHQpe3JldHVybiB0IGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudH1nZXRHbG9iYWxFdmVudFRhcmdldCh0LGUpe3JldHVybiJ3aW5kb3ciPT09ZT93aW5kb3c6ImRvY3VtZW50Ij09PWU/dDoiYm9keSI9PT1lP3QuYm9keTpudWxsfWdldEJhc2VIcmVmKHQpe2NvbnN0IGU9KFRoPVRofHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJiYXNlIiksVGg/VGguZ2V0QXR0cmlidXRlKCJocmVmIik6bnVsbCk7cmV0dXJuIG51bGw9PWU/bnVsbDpmdW5jdGlvbih0KXtBaD1BaHx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLEFoLnNldEF0dHJpYnV0ZSgiaHJlZiIsdCk7Y29uc3QgZT1BaC5wYXRobmFtZTtyZXR1cm4iLyI9PT1lLmNoYXJBdCgwKT9lOmAvJHtlfWB9KGUpfXJlc2V0QmFzZUVsZW1lbnQoKXtUaD1udWxsfWdldFVzZXJBZ2VudCgpe3JldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudH1nZXRDb29raWUodCl7cmV0dXJuIEt1KGRvY3VtZW50LmNvb2tpZSx0KX19bGV0IEFoLFRoPW51bGw7Y29uc3Qga2g9bmV3IEduKCJUUkFOU0lUSU9OX0lEIiksRmg9W3twcm92aWRlOkdjLHVzZUZhY3Rvcnk6ZnVuY3Rpb24odCxlLG4pe3JldHVybigpPT57bi5nZXQocWMpLmRvbmVQcm9taXNlLnRoZW4oKCk9Pntjb25zdCBuPVVsKCk7QXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGUucXVlcnlTZWxlY3RvckFsbCgic3R5bGVbbmctdHJhbnNpdGlvbl0iKSkuZmlsdGVyKGU9PmUuZ2V0QXR0cmlidXRlKCJuZy10cmFuc2l0aW9uIik9PT10KS5mb3JFYWNoKHQ9Pm4ucmVtb3ZlKHQpKX0pfX0sZGVwczpba2gsV2wsUWldLG11bHRpOiEwfV07Y2xhc3MgSWh7c3RhdGljIGluaXQoKXshZnVuY3Rpb24odCl7RWw9dH0obmV3IEloKX1hZGRUb1dpbmRvdyh0KXtJdC5nZXRBbmd1bGFyVGVzdGFiaWxpdHk9KGUsbj0hMCk9Pntjb25zdCByPXQuZmluZFRlc3RhYmlsaXR5SW5UcmVlKGUsbik7aWYobnVsbD09cil0aHJvdyBuZXcgRXJyb3IoIkNvdWxkIG5vdCBmaW5kIHRlc3RhYmlsaXR5IGZvciBlbGVtZW50LiIpO3JldHVybiByfSxJdC5nZXRBbGxBbmd1bGFyVGVzdGFiaWxpdGllcz0oKT0+dC5nZXRBbGxUZXN0YWJpbGl0aWVzKCksSXQuZ2V0QWxsQW5ndWxhclJvb3RFbGVtZW50cz0oKT0+dC5nZXRBbGxSb290RWxlbWVudHMoKSxJdC5mcmFtZXdvcmtTdGFiaWxpemVyc3x8KEl0LmZyYW1ld29ya1N0YWJpbGl6ZXJzPVtdKSxJdC5mcmFtZXdvcmtTdGFiaWxpemVycy5wdXNoKHQ9Pntjb25zdCBlPUl0LmdldEFsbEFuZ3VsYXJUZXN0YWJpbGl0aWVzKCk7bGV0IG49ZS5sZW5ndGgscj0hMTtjb25zdCBzPWZ1bmN0aW9uKGUpe3I9cnx8ZSxuLS0sMD09biYmdChyKX07ZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Qud2hlblN0YWJsZShzKX0pfSl9ZmluZFRlc3RhYmlsaXR5SW5UcmVlKHQsZSxuKXtpZihudWxsPT1lKXJldHVybiBudWxsO2NvbnN0IHI9dC5nZXRUZXN0YWJpbGl0eShlKTtyZXR1cm4gbnVsbCE9cj9yOm4/VWwoKS5pc1NoYWRvd1Jvb3QoZSk/dGhpcy5maW5kVGVzdGFiaWxpdHlJblRyZWUodCxlLmhvc3QsITApOnRoaXMuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHQsZS5wYXJlbnRFbGVtZW50LCEwKTpudWxsfX1sZXQgT2g9KCgpPT57Y2xhc3MgdHtidWlsZCgpe3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3R9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IFBoPW5ldyBHbigiRXZlbnRNYW5hZ2VyUGx1Z2lucyIpO2xldCBSaD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fem9uZT1lLHRoaXMuX2V2ZW50TmFtZVRvUGx1Z2luPW5ldyBNYXAsdC5mb3JFYWNoKHQ9PnQubWFuYWdlcj10aGlzKSx0aGlzLl9wbHVnaW5zPXQuc2xpY2UoKS5yZXZlcnNlKCl9YWRkRXZlbnRMaXN0ZW5lcih0LGUsbil7cmV0dXJuIHRoaXMuX2ZpbmRQbHVnaW5Gb3IoZSkuYWRkRXZlbnRMaXN0ZW5lcih0LGUsbil9YWRkR2xvYmFsRXZlbnRMaXN0ZW5lcih0LGUsbil7cmV0dXJuIHRoaXMuX2ZpbmRQbHVnaW5Gb3IoZSkuYWRkR2xvYmFsRXZlbnRMaXN0ZW5lcih0LGUsbil9Z2V0Wm9uZSgpe3JldHVybiB0aGlzLl96b25lfV9maW5kUGx1Z2luRm9yKHQpe2NvbnN0IGU9dGhpcy5fZXZlbnROYW1lVG9QbHVnaW4uZ2V0KHQpO2lmKGUpcmV0dXJuIGU7Y29uc3Qgbj10aGlzLl9wbHVnaW5zO2ZvcihsZXQgcj0wO3I8bi5sZW5ndGg7cisrKXtjb25zdCBlPW5bcl07aWYoZS5zdXBwb3J0cyh0KSlyZXR1cm4gdGhpcy5fZXZlbnROYW1lVG9QbHVnaW4uc2V0KHQsZSksZX10aHJvdyBuZXcgRXJyb3IoYE5vIGV2ZW50IG1hbmFnZXIgcGx1Z2luIGZvdW5kIGZvciBldmVudCAke3R9YCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHVyKFBoKSx1cihwbCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NsYXNzIExoe2NvbnN0cnVjdG9yKHQpe3RoaXMuX2RvYz10fWFkZEdsb2JhbEV2ZW50TGlzdGVuZXIodCxlLG4pe2NvbnN0IHI9VWwoKS5nZXRHbG9iYWxFdmVudFRhcmdldCh0aGlzLl9kb2MsdCk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBldmVudCB0YXJnZXQgJHtyfSBmb3IgZXZlbnQgJHtlfWApO3JldHVybiB0aGlzLmFkZEV2ZW50TGlzdGVuZXIocixlLG4pfX1sZXQgQmg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuX3N0eWxlc1NldD1uZXcgU2V0fWFkZFN0eWxlcyh0KXtjb25zdCBlPW5ldyBTZXQ7dC5mb3JFYWNoKHQ9Pnt0aGlzLl9zdHlsZXNTZXQuaGFzKHQpfHwodGhpcy5fc3R5bGVzU2V0LmFkZCh0KSxlLmFkZCh0KSl9KSx0aGlzLm9uU3R5bGVzQWRkZWQoZSl9b25TdHlsZXNBZGRlZCh0KXt9Z2V0QWxsU3R5bGVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fc3R5bGVzU2V0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksamg9KCgpPT57Y2xhc3MgdCBleHRlbmRzIEJoe2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5fZG9jPXQsdGhpcy5faG9zdE5vZGVzPW5ldyBNYXAsdGhpcy5faG9zdE5vZGVzLnNldCh0LmhlYWQsW10pfV9hZGRTdHlsZXNUb0hvc3QodCxlLG4pe3QuZm9yRWFjaCh0PT57Y29uc3Qgcj10aGlzLl9kb2MuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyLnRleHRDb250ZW50PXQsbi5wdXNoKGUuYXBwZW5kQ2hpbGQocikpfSl9YWRkSG9zdCh0KXtjb25zdCBlPVtdO3RoaXMuX2FkZFN0eWxlc1RvSG9zdCh0aGlzLl9zdHlsZXNTZXQsdCxlKSx0aGlzLl9ob3N0Tm9kZXMuc2V0KHQsZSl9cmVtb3ZlSG9zdCh0KXtjb25zdCBlPXRoaXMuX2hvc3ROb2Rlcy5nZXQodCk7ZSYmZS5mb3JFYWNoKE1oKSx0aGlzLl9ob3N0Tm9kZXMuZGVsZXRlKHQpfW9uU3R5bGVzQWRkZWQodCl7dGhpcy5faG9zdE5vZGVzLmZvckVhY2goKGUsbik9Pnt0aGlzLl9hZGRTdHlsZXNUb0hvc3QodCxuLGUpfSl9bmdPbkRlc3Ryb3koKXt0aGlzLl9ob3N0Tm9kZXMuZm9yRWFjaCh0PT50LmZvckVhY2goTWgpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodXIoV2wpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtmdW5jdGlvbiBNaCh0KXtVbCgpLnJlbW92ZSh0KX1jb25zdCBOaD17c3ZnOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIseGh0bWw6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIix4bWw6Imh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSIseG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIn0sSGg9LyVDT01QJS9nO2Z1bmN0aW9uIFZoKHQsZSxuKXtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyl7bGV0IHM9ZVtyXTtBcnJheS5pc0FycmF5KHMpP1ZoKHQscyxuKToocz1zLnJlcGxhY2UoSGgsdCksbi5wdXNoKHMpKX1yZXR1cm4gbn1mdW5jdGlvbiB6aCh0KXtyZXR1cm4gZT0+e2lmKCJfX25nVW53cmFwX18iPT09ZSlyZXR1cm4gdDshMT09PXQoZSkmJihlLnByZXZlbnREZWZhdWx0KCksZS5yZXR1cm5WYWx1ZT0hMSl9fWxldCAkaD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLmV2ZW50TWFuYWdlcj10LHRoaXMuc2hhcmVkU3R5bGVzSG9zdD1lLHRoaXMuYXBwSWQ9bix0aGlzLnJlbmRlcmVyQnlDb21wSWQ9bmV3IE1hcCx0aGlzLmRlZmF1bHRSZW5kZXJlcj1uZXcgVWgodCl9Y3JlYXRlUmVuZGVyZXIodCxlKXtpZighdHx8IWUpcmV0dXJuIHRoaXMuZGVmYXVsdFJlbmRlcmVyO3N3aXRjaChlLmVuY2Fwc3VsYXRpb24pe2Nhc2UgeHQuRW11bGF0ZWQ6e2xldCBuPXRoaXMucmVuZGVyZXJCeUNvbXBJZC5nZXQoZS5pZCk7cmV0dXJuIG58fChuPW5ldyBXaCh0aGlzLmV2ZW50TWFuYWdlcix0aGlzLnNoYXJlZFN0eWxlc0hvc3QsZSx0aGlzLmFwcElkKSx0aGlzLnJlbmRlcmVyQnlDb21wSWQuc2V0KGUuaWQsbikpLG4uYXBwbHlUb0hvc3QodCksbn1jYXNlIDE6Y2FzZSB4dC5TaGFkb3dEb206cmV0dXJuIG5ldyBHaCh0aGlzLmV2ZW50TWFuYWdlcix0aGlzLnNoYXJlZFN0eWxlc0hvc3QsdCxlKTtkZWZhdWx0OmlmKCF0aGlzLnJlbmRlcmVyQnlDb21wSWQuaGFzKGUuaWQpKXtjb25zdCB0PVZoKGUuaWQsZS5zdHlsZXMsW10pO3RoaXMuc2hhcmVkU3R5bGVzSG9zdC5hZGRTdHlsZXModCksdGhpcy5yZW5kZXJlckJ5Q29tcElkLnNldChlLmlkLHRoaXMuZGVmYXVsdFJlbmRlcmVyKX1yZXR1cm4gdGhpcy5kZWZhdWx0UmVuZGVyZXJ9fWJlZ2luKCl7fWVuZCgpe319cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodXIoUmgpLHVyKGpoKSx1cihYYykpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NsYXNzIFVoe2NvbnN0cnVjdG9yKHQpe3RoaXMuZXZlbnRNYW5hZ2VyPXQsdGhpcy5kYXRhPU9iamVjdC5jcmVhdGUobnVsbCl9ZGVzdHJveSgpe31jcmVhdGVFbGVtZW50KHQsZSl7cmV0dXJuIGU/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKE5oW2VdfHxlLHQpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodCl9Y3JlYXRlQ29tbWVudCh0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCh0KX1jcmVhdGVUZXh0KHQpe3JldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0KX1hcHBlbmRDaGlsZCh0LGUpe3QuYXBwZW5kQ2hpbGQoZSl9aW5zZXJ0QmVmb3JlKHQsZSxuKXt0JiZ0Lmluc2VydEJlZm9yZShlLG4pfXJlbW92ZUNoaWxkKHQsZSl7dCYmdC5yZW1vdmVDaGlsZChlKX1zZWxlY3RSb290RWxlbWVudCh0LGUpe2xldCBuPSJzdHJpbmciPT10eXBlb2YgdD9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpOnQ7aWYoIW4pdGhyb3cgbmV3IEVycm9yKGBUaGUgc2VsZWN0b3IgIiR7dH0iIGRpZCBub3QgbWF0Y2ggYW55IGVsZW1lbnRzYCk7cmV0dXJuIGV8fChuLnRleHRDb250ZW50PSIiKSxufXBhcmVudE5vZGUodCl7cmV0dXJuIHQucGFyZW50Tm9kZX1uZXh0U2libGluZyh0KXtyZXR1cm4gdC5uZXh0U2libGluZ31zZXRBdHRyaWJ1dGUodCxlLG4scil7aWYocil7ZT1yKyI6IitlO2NvbnN0IHM9Tmhbcl07cz90LnNldEF0dHJpYnV0ZU5TKHMsZSxuKTp0LnNldEF0dHJpYnV0ZShlLG4pfWVsc2UgdC5zZXRBdHRyaWJ1dGUoZSxuKX1yZW1vdmVBdHRyaWJ1dGUodCxlLG4pe2lmKG4pe2NvbnN0IHI9Tmhbbl07cj90LnJlbW92ZUF0dHJpYnV0ZU5TKHIsZSk6dC5yZW1vdmVBdHRyaWJ1dGUoYCR7bn06JHtlfWApfWVsc2UgdC5yZW1vdmVBdHRyaWJ1dGUoZSl9YWRkQ2xhc3ModCxlKXt0LmNsYXNzTGlzdC5hZGQoZSl9cmVtb3ZlQ2xhc3ModCxlKXt0LmNsYXNzTGlzdC5yZW1vdmUoZSl9c2V0U3R5bGUodCxlLG4scil7ciYoZXMuRGFzaENhc2V8ZXMuSW1wb3J0YW50KT90LnN0eWxlLnNldFByb3BlcnR5KGUsbixyJmVzLkltcG9ydGFudD8iaW1wb3J0YW50IjoiIik6dC5zdHlsZVtlXT1ufXJlbW92ZVN0eWxlKHQsZSxuKXtuJmVzLkRhc2hDYXNlP3Quc3R5bGUucmVtb3ZlUHJvcGVydHkoZSk6dC5zdHlsZVtlXT0iIn1zZXRQcm9wZXJ0eSh0LGUsbil7dFtlXT1ufXNldFZhbHVlKHQsZSl7dC5ub2RlVmFsdWU9ZX1saXN0ZW4odCxlLG4pe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90aGlzLmV2ZW50TWFuYWdlci5hZGRHbG9iYWxFdmVudExpc3RlbmVyKHQsZSx6aChuKSk6dGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0LGUsemgobikpfX1jbGFzcyBXaCBleHRlbmRzIFVoe2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKHQpLHRoaXMuY29tcG9uZW50PW47Y29uc3Qgcz1WaChyKyItIituLmlkLG4uc3R5bGVzLFtdKTtlLmFkZFN0eWxlcyhzKSx0aGlzLmNvbnRlbnRBdHRyPSJfbmdjb250ZW50LSVDT01QJSIucmVwbGFjZShIaCxyKyItIituLmlkKSx0aGlzLmhvc3RBdHRyPSJfbmdob3N0LSVDT01QJSIucmVwbGFjZShIaCxyKyItIituLmlkKX1hcHBseVRvSG9zdCh0KXtzdXBlci5zZXRBdHRyaWJ1dGUodCx0aGlzLmhvc3RBdHRyLCIiKX1jcmVhdGVFbGVtZW50KHQsZSl7Y29uc3Qgbj1zdXBlci5jcmVhdGVFbGVtZW50KHQsZSk7cmV0dXJuIHN1cGVyLnNldEF0dHJpYnV0ZShuLHRoaXMuY29udGVudEF0dHIsIiIpLG59fWNsYXNzIEdoIGV4dGVuZHMgVWh7Y29uc3RydWN0b3IodCxlLG4scil7c3VwZXIodCksdGhpcy5zaGFyZWRTdHlsZXNIb3N0PWUsdGhpcy5ob3N0RWw9bix0aGlzLnNoYWRvd1Jvb3Q9bi5hdHRhY2hTaGFkb3coe21vZGU6Im9wZW4ifSksdGhpcy5zaGFyZWRTdHlsZXNIb3N0LmFkZEhvc3QodGhpcy5zaGFkb3dSb290KTtjb25zdCBzPVZoKHIuaWQsci5zdHlsZXMsW10pO2ZvcihsZXQgaT0wO2k8cy5sZW5ndGg7aSsrKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7dC50ZXh0Q29udGVudD1zW2ldLHRoaXMuc2hhZG93Um9vdC5hcHBlbmRDaGlsZCh0KX19bm9kZU9yU2hhZG93Um9vdCh0KXtyZXR1cm4gdD09PXRoaXMuaG9zdEVsP3RoaXMuc2hhZG93Um9vdDp0fWRlc3Ryb3koKXt0aGlzLnNoYXJlZFN0eWxlc0hvc3QucmVtb3ZlSG9zdCh0aGlzLnNoYWRvd1Jvb3QpfWFwcGVuZENoaWxkKHQsZSl7cmV0dXJuIHN1cGVyLmFwcGVuZENoaWxkKHRoaXMubm9kZU9yU2hhZG93Um9vdCh0KSxlKX1pbnNlcnRCZWZvcmUodCxlLG4pe3JldHVybiBzdXBlci5pbnNlcnRCZWZvcmUodGhpcy5ub2RlT3JTaGFkb3dSb290KHQpLGUsbil9cmVtb3ZlQ2hpbGQodCxlKXtyZXR1cm4gc3VwZXIucmVtb3ZlQ2hpbGQodGhpcy5ub2RlT3JTaGFkb3dSb290KHQpLGUpfXBhcmVudE5vZGUodCl7cmV0dXJuIHRoaXMubm9kZU9yU2hhZG93Um9vdChzdXBlci5wYXJlbnROb2RlKHRoaXMubm9kZU9yU2hhZG93Um9vdCh0KSkpfX1sZXQgcWg9KCgpPT57Y2xhc3MgdCBleHRlbmRzIExoe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfXN1cHBvcnRzKHQpe3JldHVybiEwfWFkZEV2ZW50TGlzdGVuZXIodCxlLG4pe3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoZSxuLCExKSwoKT0+dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHQsZSxuKX1yZW1vdmVFdmVudExpc3RlbmVyKHQsZSxuKXtyZXR1cm4gdC5yZW1vdmVFdmVudExpc3RlbmVyKGUsbil9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHVyKFdsKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y29uc3QgWGg9WyJhbHQiLCJjb250cm9sIiwibWV0YSIsInNoaWZ0Il0sWWg9eyJcYiI6IkJhY2tzcGFjZSIsIlx0IjoiVGFiIiwiXHg3ZiI6IkRlbGV0ZSIsIlx4MWIiOiJFc2NhcGUiLERlbDoiRGVsZXRlIixFc2M6IkVzY2FwZSIsTGVmdDoiQXJyb3dMZWZ0IixSaWdodDoiQXJyb3dSaWdodCIsVXA6IkFycm93VXAiLERvd246IkFycm93RG93biIsTWVudToiQ29udGV4dE1lbnUiLFNjcm9sbDoiU2Nyb2xsTG9jayIsV2luOiJPUyJ9LFpoPXtBOiIxIixCOiIyIixDOiIzIixEOiI0IixFOiI1IixGOiI2IixHOiI3IixIOiI4IixJOiI5IixKOiIqIixLOiIrIixNOiItIixOOiIuIixPOiIvIiwiYCI6IjAiLCJceDkwIjoiTnVtTG9jayJ9LFFoPXthbHQ6dD0+dC5hbHRLZXksY29udHJvbDp0PT50LmN0cmxLZXksbWV0YTp0PT50Lm1ldGFLZXksc2hpZnQ6dD0+dC5zaGlmdEtleX07bGV0IEtoPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBMaHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1zdXBwb3J0cyhlKXtyZXR1cm4gbnVsbCE9dC5wYXJzZUV2ZW50TmFtZShlKX1hZGRFdmVudExpc3RlbmVyKGUsbixyKXtjb25zdCBzPXQucGFyc2VFdmVudE5hbWUobiksaT10LmV2ZW50Q2FsbGJhY2socy5mdWxsS2V5LHIsdGhpcy5tYW5hZ2VyLmdldFpvbmUoKSk7cmV0dXJuIHRoaXMubWFuYWdlci5nZXRab25lKCkucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PlVsKCkub25BbmRDYW5jZWwoZSxzLmRvbUV2ZW50TmFtZSxpKSl9c3RhdGljIHBhcnNlRXZlbnROYW1lKGUpe2NvbnN0IG49ZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCIuIikscj1uLnNoaWZ0KCk7aWYoMD09PW4ubGVuZ3RofHwia2V5ZG93biIhPT1yJiYia2V5dXAiIT09cilyZXR1cm4gbnVsbDtjb25zdCBzPXQuX25vcm1hbGl6ZUtleShuLnBvcCgpKTtsZXQgaT0iIjtpZihYaC5mb3JFYWNoKHQ9Pntjb25zdCBlPW4uaW5kZXhPZih0KTtlPi0xJiYobi5zcGxpY2UoZSwxKSxpKz10KyIuIil9KSxpKz1zLDAhPW4ubGVuZ3RofHwwPT09cy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3Qgbz17fTtyZXR1cm4gby5kb21FdmVudE5hbWU9cixvLmZ1bGxLZXk9aSxvfXN0YXRpYyBnZXRFdmVudEZ1bGxLZXkodCl7bGV0IGU9IiIsbj1mdW5jdGlvbih0KXtsZXQgZT10LmtleTtpZihudWxsPT1lKXtpZihlPXQua2V5SWRlbnRpZmllcixudWxsPT1lKXJldHVybiJVbmlkZW50aWZpZWQiO2Uuc3RhcnRzV2l0aCgiVSsiKSYmKGU9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChlLnN1YnN0cmluZygyKSwxNikpLDM9PT10LmxvY2F0aW9uJiZaaC5oYXNPd25Qcm9wZXJ0eShlKSYmKGU9WmhbZV0pKX1yZXR1cm4gWWhbZV18fGV9KHQpO3JldHVybiBuPW4udG9Mb3dlckNhc2UoKSwiICI9PT1uP249InNwYWNlIjoiLiI9PT1uJiYobj0iZG90IiksWGguZm9yRWFjaChyPT57ciE9biYmKDAsUWhbcl0pKHQpJiYoZSs9cisiLiIpfSksZSs9bixlfXN0YXRpYyBldmVudENhbGxiYWNrKGUsbixyKXtyZXR1cm4gcz0+e3QuZ2V0RXZlbnRGdWxsS2V5KHMpPT09ZSYmci5ydW5HdWFyZGVkKCgpPT5uKHMpKX19c3RhdGljIF9ub3JtYWxpemVLZXkodCl7c3dpdGNoKHQpe2Nhc2UiZXNjIjpyZXR1cm4iZXNjYXBlIjtkZWZhdWx0OnJldHVybiB0fX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodXIoV2wpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCBKaD1rbChIbCwiYnJvd3NlciIsW3twcm92aWRlOktjLHVzZVZhbHVlOiJicm93c2VyIn0se3Byb3ZpZGU6UWMsdXNlVmFsdWU6ZnVuY3Rpb24oKXt4aC5tYWtlQ3VycmVudCgpLEloLmluaXQoKX0sbXVsdGk6ITB9LHtwcm92aWRlOldsLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7ZmU9dH0oZG9jdW1lbnQpLGRvY3VtZW50fSxkZXBzOltdfV0pLHRkPVtbXSx7cHJvdmlkZTpNaSx1c2VWYWx1ZToicm9vdCJ9LHtwcm92aWRlOlFyLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFFyfSxkZXBzOltdfSx7cHJvdmlkZTpQaCx1c2VDbGFzczpxaCxtdWx0aTohMCxkZXBzOltXbCxwbCxLY119LHtwcm92aWRlOlBoLHVzZUNsYXNzOktoLG11bHRpOiEwLGRlcHM6W1dsXX0sW10se3Byb3ZpZGU6JGgsdXNlQ2xhc3M6JGgsZGVwczpbUmgsamgsWGNdfSx7cHJvdmlkZTpUYSx1c2VFeGlzdGluZzokaH0se3Byb3ZpZGU6QmgsdXNlRXhpc3Rpbmc6amh9LHtwcm92aWRlOmpoLHVzZUNsYXNzOmpoLGRlcHM6W1dsXX0se3Byb3ZpZGU6Q2wsdXNlQ2xhc3M6Q2wsZGVwczpbcGxdfSx7cHJvdmlkZTpSaCx1c2VDbGFzczpSaCxkZXBzOltQaCxwbF19LHtwcm92aWRlOlNoLHVzZUNsYXNzOk9oLGRlcHM6W119LFtdXTtsZXQgZWQ9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXtpZih0KXRocm93IG5ldyBFcnJvcigiQnJvd3Nlck1vZHVsZSBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZC4gSWYgeW91IG5lZWQgYWNjZXNzIHRvIGNvbW1vbiBkaXJlY3RpdmVzIHN1Y2ggYXMgTmdJZiBhbmQgTmdGb3IgZnJvbSBhIGxhenkgbG9hZGVkIG1vZHVsZSwgaW1wb3J0IENvbW1vbk1vZHVsZSBpbnN0ZWFkLiIpfXN0YXRpYyB3aXRoU2VydmVyVHJhbnNpdGlvbihlKXtyZXR1cm57bmdNb2R1bGU6dCxwcm92aWRlcnM6W3twcm92aWRlOlhjLHVzZVZhbHVlOmUuYXBwSWR9LHtwcm92aWRlOmtoLHVzZUV4aXN0aW5nOlhjfSxGaF19fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh1cih0LDEyKSl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOnRkLGltcG9ydHM6W3doLHpsXX0pLHR9KSgpOyJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3c7Y2xhc3MgbmQgZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKX1zY2hlZHVsZSh0LGU9MCl7cmV0dXJuIHRoaXN9fWNsYXNzIHJkIGV4dGVuZHMgbmR7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLHRoaXMuc2NoZWR1bGVyPXQsdGhpcy53b3JrPWUsdGhpcy5wZW5kaW5nPSExfXNjaGVkdWxlKHQsZT0wKXtpZih0aGlzLmNsb3NlZClyZXR1cm4gdGhpczt0aGlzLnN0YXRlPXQ7Y29uc3Qgbj10aGlzLmlkLHI9dGhpcy5zY2hlZHVsZXI7cmV0dXJuIG51bGwhPW4mJih0aGlzLmlkPXRoaXMucmVjeWNsZUFzeW5jSWQocixuLGUpKSx0aGlzLnBlbmRpbmc9ITAsdGhpcy5kZWxheT1lLHRoaXMuaWQ9dGhpcy5pZHx8dGhpcy5yZXF1ZXN0QXN5bmNJZChyLHRoaXMuaWQsZSksdGhpc31yZXF1ZXN0QXN5bmNJZCh0LGUsbj0wKXtyZXR1cm4gc2V0SW50ZXJ2YWwodC5mbHVzaC5iaW5kKHQsdGhpcyksbil9cmVjeWNsZUFzeW5jSWQodCxlLG49MCl7aWYobnVsbCE9PW4mJnRoaXMuZGVsYXk9PT1uJiYhMT09PXRoaXMucGVuZGluZylyZXR1cm4gZTtjbGVhckludGVydmFsKGUpfWV4ZWN1dGUodCxlKXtpZih0aGlzLmNsb3NlZClyZXR1cm4gbmV3IEVycm9yKCJleGVjdXRpbmcgYSBjYW5jZWxsZWQgYWN0aW9uIik7dGhpcy5wZW5kaW5nPSExO2NvbnN0IG49dGhpcy5fZXhlY3V0ZSh0LGUpO2lmKG4pcmV0dXJuIG47ITE9PT10aGlzLnBlbmRpbmcmJm51bGwhPXRoaXMuaWQmJih0aGlzLmlkPXRoaXMucmVjeWNsZUFzeW5jSWQodGhpcy5zY2hlZHVsZXIsdGhpcy5pZCxudWxsKSl9X2V4ZWN1dGUodCxlKXtsZXQgbixyPSExO3RyeXt0aGlzLndvcmsodCl9Y2F0Y2gocyl7cj0hMCxuPSEhcyYmc3x8bmV3IEVycm9yKHMpfWlmKHIpcmV0dXJuIHRoaXMudW5zdWJzY3JpYmUoKSxufV91bnN1YnNjcmliZSgpe2NvbnN0IHQ9dGhpcy5pZCxlPXRoaXMuc2NoZWR1bGVyLG49ZS5hY3Rpb25zLHI9bi5pbmRleE9mKHRoaXMpO3RoaXMud29yaz1udWxsLHRoaXMuc3RhdGU9bnVsbCx0aGlzLnBlbmRpbmc9ITEsdGhpcy5zY2hlZHVsZXI9bnVsbCwtMSE9PXImJm4uc3BsaWNlKHIsMSksbnVsbCE9dCYmKHRoaXMuaWQ9dGhpcy5yZWN5Y2xlQXN5bmNJZChlLHQsbnVsbCkpLHRoaXMuZGVsYXk9bnVsbH19Y2xhc3Mgc2QgZXh0ZW5kcyByZHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSksdGhpcy5zY2hlZHVsZXI9dCx0aGlzLndvcms9ZX1zY2hlZHVsZSh0LGU9MCl7cmV0dXJuIGU+MD9zdXBlci5zY2hlZHVsZSh0LGUpOih0aGlzLmRlbGF5PWUsdGhpcy5zdGF0ZT10LHRoaXMuc2NoZWR1bGVyLmZsdXNoKHRoaXMpLHRoaXMpfWV4ZWN1dGUodCxlKXtyZXR1cm4gZT4wfHx0aGlzLmNsb3NlZD9zdXBlci5leGVjdXRlKHQsZSk6dGhpcy5fZXhlY3V0ZSh0LGUpfXJlcXVlc3RBc3luY0lkKHQsZSxuPTApe3JldHVybiBudWxsIT09biYmbj4wfHxudWxsPT09biYmdGhpcy5kZWxheT4wP3N1cGVyLnJlcXVlc3RBc3luY0lkKHQsZSxuKTp0LmZsdXNoKHRoaXMpfX1sZXQgaWQ9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3RvcihlLG49dC5ub3cpe3RoaXMuU2NoZWR1bGVyQWN0aW9uPWUsdGhpcy5ub3c9bn1zY2hlZHVsZSh0LGU9MCxuKXtyZXR1cm4gbmV3IHRoaXMuU2NoZWR1bGVyQWN0aW9uKHRoaXMsdCkuc2NoZWR1bGUobixlKX19cmV0dXJuIHQubm93PSgpPT5EYXRlLm5vdygpLHR9KSgpO2NsYXNzIG9kIGV4dGVuZHMgaWR7Y29uc3RydWN0b3IodCxlPWlkLm5vdyl7c3VwZXIodCwoKT0+b2QuZGVsZWdhdGUmJm9kLmRlbGVnYXRlIT09dGhpcz9vZC5kZWxlZ2F0ZS5ub3coKTplKCkpLHRoaXMuYWN0aW9ucz1bXSx0aGlzLmFjdGl2ZT0hMSx0aGlzLnNjaGVkdWxlZD12b2lkIDB9c2NoZWR1bGUodCxlPTAsbil7cmV0dXJuIG9kLmRlbGVnYXRlJiZvZC5kZWxlZ2F0ZSE9PXRoaXM/b2QuZGVsZWdhdGUuc2NoZWR1bGUodCxlLG4pOnN1cGVyLnNjaGVkdWxlKHQsZSxuKX1mbHVzaCh0KXtjb25zdHthY3Rpb25zOmV9PXRoaXM7aWYodGhpcy5hY3RpdmUpcmV0dXJuIHZvaWQgZS5wdXNoKHQpO2xldCBuO3RoaXMuYWN0aXZlPSEwO2Rve2lmKG49dC5leGVjdXRlKHQuc3RhdGUsdC5kZWxheSkpYnJlYWt9d2hpbGUodD1lLnNoaWZ0KCkpO2lmKHRoaXMuYWN0aXZlPSExLG4pe2Zvcig7dD1lLnNoaWZ0KCk7KXQudW5zdWJzY3JpYmUoKTt0aHJvdyBufX19Y2xhc3MgYWQgZXh0ZW5kcyBvZHt9Y29uc3QgY2Q9bmV3IGFkKHNkKSxsZD1uZXcgdih0PT50LmNvbXBsZXRlKCkpO2Z1bmN0aW9uIHVkKHQpe3JldHVybiB0P2Z1bmN0aW9uKHQpe3JldHVybiBuZXcgdihlPT50LnNjaGVkdWxlKCgpPT5lLmNvbXBsZXRlKCkpKX0odCk6bGR9ZnVuY3Rpb24gaGQoLi4udCl7bGV0IGU9dFt0Lmxlbmd0aC0xXTtyZXR1cm4gUyhlKT8odC5wb3AoKSxMKHQsZSkpOlUodCl9ZnVuY3Rpb24gZGQodCxlKXtyZXR1cm4gbmV3IHYoZT9uPT5lLnNjaGVkdWxlKHBkLDAse2Vycm9yOnQsc3Vic2NyaWJlcjpufSk6ZT0+ZS5lcnJvcih0KSl9ZnVuY3Rpb24gcGQoe2Vycm9yOnQsc3Vic2NyaWJlcjplfSl7ZS5lcnJvcih0KX1sZXQgZmQ9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5raW5kPXQsdGhpcy52YWx1ZT1lLHRoaXMuZXJyb3I9bix0aGlzLmhhc1ZhbHVlPSJOIj09PXR9b2JzZXJ2ZSh0KXtzd2l0Y2godGhpcy5raW5kKXtjYXNlIk4iOnJldHVybiB0Lm5leHQmJnQubmV4dCh0aGlzLnZhbHVlKTtjYXNlIkUiOnJldHVybiB0LmVycm9yJiZ0LmVycm9yKHRoaXMuZXJyb3IpO2Nhc2UiQyI6cmV0dXJuIHQuY29tcGxldGUmJnQuY29tcGxldGUoKX19ZG8odCxlLG4pe3N3aXRjaCh0aGlzLmtpbmQpe2Nhc2UiTiI6cmV0dXJuIHQmJnQodGhpcy52YWx1ZSk7Y2FzZSJFIjpyZXR1cm4gZSYmZSh0aGlzLmVycm9yKTtjYXNlIkMiOnJldHVybiBuJiZuKCl9fWFjY2VwdCh0LGUsbil7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0Lm5leHQ/dGhpcy5vYnNlcnZlKHQpOnRoaXMuZG8odCxlLG4pfXRvT2JzZXJ2YWJsZSgpe3N3aXRjaCh0aGlzLmtpbmQpe2Nhc2UiTiI6cmV0dXJuIGhkKHRoaXMudmFsdWUpO2Nhc2UiRSI6cmV0dXJuIGRkKHRoaXMuZXJyb3IpO2Nhc2UiQyI6cmV0dXJuIHVkKCl9dGhyb3cgbmV3IEVycm9yKCJ1bmV4cGVjdGVkIG5vdGlmaWNhdGlvbiBraW5kIHZhbHVlIil9c3RhdGljIGNyZWF0ZU5leHQoZSl7cmV0dXJuIHZvaWQgMCE9PWU/bmV3IHQoIk4iLGUpOnQudW5kZWZpbmVkVmFsdWVOb3RpZmljYXRpb259c3RhdGljIGNyZWF0ZUVycm9yKGUpe3JldHVybiBuZXcgdCgiRSIsdm9pZCAwLGUpfXN0YXRpYyBjcmVhdGVDb21wbGV0ZSgpe3JldHVybiB0LmNvbXBsZXRlTm90aWZpY2F0aW9ufX1yZXR1cm4gdC5jb21wbGV0ZU5vdGlmaWNhdGlvbj1uZXcgdCgiQyIpLHQudW5kZWZpbmVkVmFsdWVOb3RpZmljYXRpb249bmV3IHQoIk4iLHZvaWQgMCksdH0pKCk7Y2xhc3MgZ2QgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSxuPTApe3N1cGVyKHQpLHRoaXMuc2NoZWR1bGVyPWUsdGhpcy5kZWxheT1ufXN0YXRpYyBkaXNwYXRjaCh0KXtjb25zdHtub3RpZmljYXRpb246ZSxkZXN0aW5hdGlvbjpufT10O2Uub2JzZXJ2ZShuKSx0aGlzLnVuc3Vic2NyaWJlKCl9c2NoZWR1bGVNZXNzYWdlKHQpe3RoaXMuZGVzdGluYXRpb24uYWRkKHRoaXMuc2NoZWR1bGVyLnNjaGVkdWxlKGdkLmRpc3BhdGNoLHRoaXMuZGVsYXksbmV3IG1kKHQsdGhpcy5kZXN0aW5hdGlvbikpKX1fbmV4dCh0KXt0aGlzLnNjaGVkdWxlTWVzc2FnZShmZC5jcmVhdGVOZXh0KHQpKX1fZXJyb3IodCl7dGhpcy5zY2hlZHVsZU1lc3NhZ2UoZmQuY3JlYXRlRXJyb3IodCkpLHRoaXMudW5zdWJzY3JpYmUoKX1fY29tcGxldGUoKXt0aGlzLnNjaGVkdWxlTWVzc2FnZShmZC5jcmVhdGVDb21wbGV0ZSgpKSx0aGlzLnVuc3Vic2NyaWJlKCl9fWNsYXNzIG1ke2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5ub3RpZmljYXRpb249dCx0aGlzLmRlc3RpbmF0aW9uPWV9fWNsYXNzIHlkIGV4dGVuZHMgRHtjb25zdHJ1Y3Rvcih0PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxuKXtzdXBlcigpLHRoaXMuc2NoZWR1bGVyPW4sdGhpcy5fZXZlbnRzPVtdLHRoaXMuX2luZmluaXRlVGltZVdpbmRvdz0hMSx0aGlzLl9idWZmZXJTaXplPXQ8MT8xOnQsdGhpcy5fd2luZG93VGltZT1lPDE/MTplLGU9PT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk/KHRoaXMuX2luZmluaXRlVGltZVdpbmRvdz0hMCx0aGlzLm5leHQ9dGhpcy5uZXh0SW5maW5pdGVUaW1lV2luZG93KTp0aGlzLm5leHQ9dGhpcy5uZXh0VGltZVdpbmRvd31uZXh0SW5maW5pdGVUaW1lV2luZG93KHQpe2lmKCF0aGlzLmlzU3RvcHBlZCl7Y29uc3QgZT10aGlzLl9ldmVudHM7ZS5wdXNoKHQpLGUubGVuZ3RoPnRoaXMuX2J1ZmZlclNpemUmJmUuc2hpZnQoKX1zdXBlci5uZXh0KHQpfW5leHRUaW1lV2luZG93KHQpe3RoaXMuaXNTdG9wcGVkfHwodGhpcy5fZXZlbnRzLnB1c2gobmV3IHZkKHRoaXMuX2dldE5vdygpLHQpKSx0aGlzLl90cmltQnVmZmVyVGhlbkdldEV2ZW50cygpKSxzdXBlci5uZXh0KHQpfV9zdWJzY3JpYmUodCl7Y29uc3QgZT10aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3csbj1lP3RoaXMuX2V2ZW50czp0aGlzLl90cmltQnVmZmVyVGhlbkdldEV2ZW50cygpLHI9dGhpcy5zY2hlZHVsZXIscz1uLmxlbmd0aDtsZXQgaTtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgQztpZih0aGlzLmlzU3RvcHBlZHx8dGhpcy5oYXNFcnJvcj9pPWguRU1QVFk6KHRoaXMub2JzZXJ2ZXJzLnB1c2godCksaT1uZXcgdyh0aGlzLHQpKSxyJiZ0LmFkZCh0PW5ldyBnZCh0LHIpKSxlKWZvcihsZXQgbz0wO288cyYmIXQuY2xvc2VkO28rKyl0Lm5leHQobltvXSk7ZWxzZSBmb3IobGV0IG89MDtvPHMmJiF0LmNsb3NlZDtvKyspdC5uZXh0KG5bb10udmFsdWUpO3JldHVybiB0aGlzLmhhc0Vycm9yP3QuZXJyb3IodGhpcy50aHJvd25FcnJvcik6dGhpcy5pc1N0b3BwZWQmJnQuY29tcGxldGUoKSxpfV9nZXROb3coKXtyZXR1cm4odGhpcy5zY2hlZHVsZXJ8fGNkKS5ub3coKX1fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMoKXtjb25zdCB0PXRoaXMuX2dldE5vdygpLGU9dGhpcy5fYnVmZmVyU2l6ZSxuPXRoaXMuX3dpbmRvd1RpbWUscj10aGlzLl9ldmVudHMscz1yLmxlbmd0aDtsZXQgaT0wO2Zvcig7aTxzJiYhKHQtcltpXS50aW1lPG4pOylpKys7cmV0dXJuIHM+ZSYmKGk9TWF0aC5tYXgoaSxzLWUpKSxpPjAmJnIuc3BsaWNlKDAsaSkscn19Y2xhc3MgdmR7Y29uc3RydWN0b3IodCxlKXt0aGlzLnRpbWU9dCx0aGlzLnZhbHVlPWV9fWZ1bmN0aW9uIGJkKHQsZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGU/bj0+bi5waXBlKGJkKChuLHIpPT5CKHQobixyKSkucGlwZSh4KCh0LHMpPT5lKG4sdCxyLHMpKSkpKTplPT5lLmxpZnQobmV3IENkKHQpKX1jbGFzcyBDZHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnByb2plY3Q9dH1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyB3ZCh0LHRoaXMucHJvamVjdCkpfX1jbGFzcyB3ZCBleHRlbmRzIE17Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLnByb2plY3Q9ZSx0aGlzLmluZGV4PTB9X25leHQodCl7bGV0IGU7Y29uc3Qgbj10aGlzLmluZGV4Kys7dHJ5e2U9dGhpcy5wcm9qZWN0KHQsbil9Y2F0Y2gocil7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihyKX10aGlzLl9pbm5lclN1YihlKX1faW5uZXJTdWIodCl7Y29uc3QgZT10aGlzLmlubmVyU3Vic2NyaXB0aW9uO2UmJmUudW5zdWJzY3JpYmUoKTtjb25zdCBuPW5ldyBqKHRoaXMpLHI9dGhpcy5kZXN0aW5hdGlvbjtyLmFkZChuKSx0aGlzLmlubmVyU3Vic2NyaXB0aW9uPU4odCxuKSx0aGlzLmlubmVyU3Vic2NyaXB0aW9uIT09biYmci5hZGQodGhpcy5pbm5lclN1YnNjcmlwdGlvbil9X2NvbXBsZXRlKCl7Y29uc3R7aW5uZXJTdWJzY3JpcHRpb246dH09dGhpczt0JiYhdC5jbG9zZWR8fHN1cGVyLl9jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX1fdW5zdWJzY3JpYmUoKXt0aGlzLmlubmVyU3Vic2NyaXB0aW9uPXZvaWQgMH1ub3RpZnlDb21wbGV0ZSgpe3RoaXMuaW5uZXJTdWJzY3JpcHRpb249dm9pZCAwLHRoaXMuaXNTdG9wcGVkJiZzdXBlci5fY29tcGxldGUoKX1ub3RpZnlOZXh0KHQpe3RoaXMuZGVzdGluYXRpb24ubmV4dCh0KX19Y29uc3QgX2Q9e3NjaGVkdWxlKHQsZSl7Y29uc3Qgbj1zZXRUaW1lb3V0KHQsZSk7cmV0dXJuKCk9PmNsZWFyVGltZW91dChuKX0sc2NoZWR1bGVCZWZvcmVSZW5kZXIodCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3cpcmV0dXJuIF9kLnNjaGVkdWxlKHQsMCk7aWYodm9pZCAwPT09d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSlyZXR1cm4gX2Quc2NoZWR1bGUodCwxNik7Y29uc3QgZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHQpO3JldHVybigpPT53aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoZSl9fTtsZXQgRGQ7ZnVuY3Rpb24gRWQodCxlLG4pe2xldCByPW47cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiEhdCYmdC5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFfSh0KSYmZS5zb21lKChlLG4pPT4hKCIqIj09PWV8fCFmdW5jdGlvbih0LGUpe2lmKCFEZCl7Y29uc3QgdD1FbGVtZW50LnByb3RvdHlwZTtEZD10Lm1hdGNoZXN8fHQubWF0Y2hlc1NlbGVjdG9yfHx0Lm1vek1hdGNoZXNTZWxlY3Rvcnx8dC5tc01hdGNoZXNTZWxlY3Rvcnx8dC5vTWF0Y2hlc1NlbGVjdG9yfHx0LndlYmtpdE1hdGNoZXNTZWxlY3Rvcn1yZXR1cm4gdC5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiZEZC5jYWxsKHQsZSl9KHQsZSl8fChyPW4sMCkpKSxyfWNsYXNzIFNke2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5jb21wb25lbnRGYWN0b3J5PWUuZ2V0KF9hKS5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh0KX1jcmVhdGUodCl7cmV0dXJuIG5ldyB4ZCh0aGlzLmNvbXBvbmVudEZhY3RvcnksdCl9fWNsYXNzIHhke2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5jb21wb25lbnRGYWN0b3J5PXQsdGhpcy5pbmplY3Rvcj1lLHRoaXMuZXZlbnRFbWl0dGVycz1uZXcgeWQoMSksdGhpcy5ldmVudHM9dGhpcy5ldmVudEVtaXR0ZXJzLnBpcGUoYmQodD0+VyguLi50KSkpLHRoaXMuY29tcG9uZW50UmVmPW51bGwsdGhpcy52aWV3Q2hhbmdlRGV0ZWN0b3JSZWY9bnVsbCx0aGlzLmlucHV0Q2hhbmdlcz1udWxsLHRoaXMuaGFzSW5wdXRDaGFuZ2VzPSExLHRoaXMuaW1wbGVtZW50c09uQ2hhbmdlcz0hMSx0aGlzLnNjaGVkdWxlZENoYW5nZURldGVjdGlvbkZuPW51bGwsdGhpcy5zY2hlZHVsZWREZXN0cm95Rm49bnVsbCx0aGlzLmluaXRpYWxJbnB1dFZhbHVlcz1uZXcgTWFwLHRoaXMudW5jaGFuZ2VkSW5wdXRzPW5ldyBTZXQodGhpcy5jb21wb25lbnRGYWN0b3J5LmlucHV0cy5tYXAoKHtwcm9wTmFtZTp0fSk9PnQpKSx0aGlzLm5nWm9uZT10aGlzLmluamVjdG9yLmdldChwbCksdGhpcy5lbGVtZW50Wm9uZT0idW5kZWZpbmVkIj09dHlwZW9mIFpvbmU/bnVsbDp0aGlzLm5nWm9uZS5ydW4oKCk9PlpvbmUuY3VycmVudCl9Y29ubmVjdCh0KXt0aGlzLnJ1bkluWm9uZSgoKT0+e2lmKG51bGwhPT10aGlzLnNjaGVkdWxlZERlc3Ryb3lGbilyZXR1cm4gdGhpcy5zY2hlZHVsZWREZXN0cm95Rm4oKSx2b2lkKHRoaXMuc2NoZWR1bGVkRGVzdHJveUZuPW51bGwpO251bGw9PT10aGlzLmNvbXBvbmVudFJlZiYmdGhpcy5pbml0aWFsaXplQ29tcG9uZW50KHQpfSl9ZGlzY29ubmVjdCgpe3RoaXMucnVuSW5ab25lKCgpPT57bnVsbCE9PXRoaXMuY29tcG9uZW50UmVmJiZudWxsPT09dGhpcy5zY2hlZHVsZWREZXN0cm95Rm4mJih0aGlzLnNjaGVkdWxlZERlc3Ryb3lGbj1fZC5zY2hlZHVsZSgoKT0+e251bGwhPT10aGlzLmNvbXBvbmVudFJlZiYmKHRoaXMuY29tcG9uZW50UmVmLmRlc3Ryb3koKSx0aGlzLmNvbXBvbmVudFJlZj1udWxsLHRoaXMudmlld0NoYW5nZURldGVjdG9yUmVmPW51bGwpfSwxMCkpfSl9Z2V0SW5wdXRWYWx1ZSh0KXtyZXR1cm4gdGhpcy5ydW5JblpvbmUoKCk9Pm51bGw9PT10aGlzLmNvbXBvbmVudFJlZj90aGlzLmluaXRpYWxJbnB1dFZhbHVlcy5nZXQodCk6dGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2VbdF0pfXNldElucHV0VmFsdWUodCxlKXt0aGlzLnJ1bkluWm9uZSgoKT0+e3ZhciBuLHI7bnVsbCE9PXRoaXMuY29tcG9uZW50UmVmPygobj1lKSE9PShyPXRoaXMuZ2V0SW5wdXRWYWx1ZSh0KSkmJihuPT1ufHxyPT1yKXx8dm9pZCAwPT09ZSYmdGhpcy51bmNoYW5nZWRJbnB1dHMuaGFzKHQpKSYmKHRoaXMucmVjb3JkSW5wdXRDaGFuZ2UodCxlKSx0aGlzLnVuY2hhbmdlZElucHV0cy5kZWxldGUodCksdGhpcy5oYXNJbnB1dENoYW5nZXM9ITAsdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2VbdF09ZSx0aGlzLnNjaGVkdWxlRGV0ZWN0Q2hhbmdlcygpKTp0aGlzLmluaXRpYWxJbnB1dFZhbHVlcy5zZXQodCxlKX0pfWluaXRpYWxpemVDb21wb25lbnQodCl7Y29uc3QgZT1RaS5jcmVhdGUoe3Byb3ZpZGVyczpbXSxwYXJlbnQ6dGhpcy5pbmplY3Rvcn0pLG49ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuY2hpbGROb2RlcyxyPWUubWFwKCgpPT5bXSk7bGV0IHM9LTE7ZS5zb21lKCh0LGUpPT4iKiI9PT10JiYocz1lLCEwKSk7Zm9yKGxldCBpPTAsbz1uLmxlbmd0aDtpPG87KytpKXtjb25zdCB0PW5baV0sbz1FZCh0LGUscyk7LTEhPT1vJiZyW29dLnB1c2godCl9cmV0dXJuIHJ9KHQsdGhpcy5jb21wb25lbnRGYWN0b3J5Lm5nQ29udGVudFNlbGVjdG9ycyk7dGhpcy5jb21wb25lbnRSZWY9dGhpcy5jb21wb25lbnRGYWN0b3J5LmNyZWF0ZShlLG4sdCksdGhpcy52aWV3Q2hhbmdlRGV0ZWN0b3JSZWY9dGhpcy5jb21wb25lbnRSZWYuaW5qZWN0b3IuZ2V0KEthKSx0aGlzLmltcGxlbWVudHNPbkNoYW5nZXM9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlLm5nT25DaGFuZ2VzLHRoaXMuaW5pdGlhbGl6ZUlucHV0cygpLHRoaXMuaW5pdGlhbGl6ZU91dHB1dHModGhpcy5jb21wb25lbnRSZWYpLHRoaXMuZGV0ZWN0Q2hhbmdlcygpLHRoaXMuaW5qZWN0b3IuZ2V0KFBsKS5hdHRhY2hWaWV3KHRoaXMuY29tcG9uZW50UmVmLmhvc3RWaWV3KX1pbml0aWFsaXplSW5wdXRzKCl7dGhpcy5jb21wb25lbnRGYWN0b3J5LmlucHV0cy5mb3JFYWNoKCh7cHJvcE5hbWU6dH0pPT57dGhpcy5pbml0aWFsSW5wdXRWYWx1ZXMuaGFzKHQpJiZ0aGlzLnNldElucHV0VmFsdWUodCx0aGlzLmluaXRpYWxJbnB1dFZhbHVlcy5nZXQodCkpfSksdGhpcy5pbml0aWFsSW5wdXRWYWx1ZXMuY2xlYXIoKX1pbml0aWFsaXplT3V0cHV0cyh0KXtjb25zdCBlPXRoaXMuY29tcG9uZW50RmFjdG9yeS5vdXRwdXRzLm1hcCgoe3Byb3BOYW1lOmUsdGVtcGxhdGVOYW1lOm59KT0+dC5pbnN0YW5jZVtlXS5waXBlKHgodD0+KHtuYW1lOm4sdmFsdWU6dH0pKSkpO3RoaXMuZXZlbnRFbWl0dGVycy5uZXh0KGUpfWNhbGxOZ09uQ2hhbmdlcyh0KXtpZighdGhpcy5pbXBsZW1lbnRzT25DaGFuZ2VzfHxudWxsPT09dGhpcy5pbnB1dENoYW5nZXMpcmV0dXJuO2NvbnN0IGU9dGhpcy5pbnB1dENoYW5nZXM7dGhpcy5pbnB1dENoYW5nZXM9bnVsbCx0Lmluc3RhbmNlLm5nT25DaGFuZ2VzKGUpfW1hcmtWaWV3Rm9yQ2hlY2sodCl7dGhpcy5oYXNJbnB1dENoYW5nZXMmJih0aGlzLmhhc0lucHV0Q2hhbmdlcz0hMSx0Lm1hcmtGb3JDaGVjaygpKX1zY2hlZHVsZURldGVjdENoYW5nZXMoKXt0aGlzLnNjaGVkdWxlZENoYW5nZURldGVjdGlvbkZufHwodGhpcy5zY2hlZHVsZWRDaGFuZ2VEZXRlY3Rpb25Gbj1fZC5zY2hlZHVsZUJlZm9yZVJlbmRlcigoKT0+e3RoaXMuc2NoZWR1bGVkQ2hhbmdlRGV0ZWN0aW9uRm49bnVsbCx0aGlzLmRldGVjdENoYW5nZXMoKX0pKX1yZWNvcmRJbnB1dENoYW5nZSh0LGUpe2lmKCF0aGlzLmltcGxlbWVudHNPbkNoYW5nZXMpcmV0dXJuO251bGw9PT10aGlzLmlucHV0Q2hhbmdlcyYmKHRoaXMuaW5wdXRDaGFuZ2VzPXt9KTtjb25zdCBuPXRoaXMuaW5wdXRDaGFuZ2VzW3RdO2lmKG4pcmV0dXJuIHZvaWQobi5jdXJyZW50VmFsdWU9ZSk7Y29uc3Qgcj10aGlzLnVuY2hhbmdlZElucHV0cy5oYXModCkscz1yP3ZvaWQgMDp0aGlzLmdldElucHV0VmFsdWUodCk7dGhpcy5pbnB1dENoYW5nZXNbdF09bmV3IGFlKHMsZSxyKX1kZXRlY3RDaGFuZ2VzKCl7bnVsbCE9PXRoaXMuY29tcG9uZW50UmVmJiYodGhpcy5jYWxsTmdPbkNoYW5nZXModGhpcy5jb21wb25lbnRSZWYpLHRoaXMubWFya1ZpZXdGb3JDaGVjayh0aGlzLnZpZXdDaGFuZ2VEZXRlY3RvclJlZiksdGhpcy5jb21wb25lbnRSZWYuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpKX1ydW5JblpvbmUodCl7cmV0dXJuIHRoaXMuZWxlbWVudFpvbmUmJlpvbmUuY3VycmVudCE9PXRoaXMuZWxlbWVudFpvbmU/dGhpcy5uZ1pvbmUucnVuKHQpOnQoKX19Y2xhc3MgQWQgZXh0ZW5kcyBIVE1MRWxlbWVudHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5uZ0VsZW1lbnRFdmVudHNTdWJzY3JpcHRpb249bnVsbH19ZnVuY3Rpb24gVGQodCxlLG4scyl7cmV0dXJuIHIobikmJihzPW4sbj12b2lkIDApLHM/VGQodCxlLG4pLnBpcGUoeCh0PT5jKHQpP3MoLi4udCk6cyh0KSkpOm5ldyB2KHI9PntrZCh0LGUsZnVuY3Rpb24odCl7ci5uZXh0KGFyZ3VtZW50cy5sZW5ndGg+MT9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOnQpfSxyLG4pfSl9ZnVuY3Rpb24ga2QodCxlLG4scixzKXtsZXQgaTtpZihmdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIHQuYWRkRXZlbnRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcn0odCkpe2NvbnN0IHI9dDt0LmFkZEV2ZW50TGlzdGVuZXIoZSxuLHMpLGk9KCk9PnIucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4scyl9ZWxzZSBpZihmdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIHQub24mJiJmdW5jdGlvbiI9PXR5cGVvZiB0Lm9mZn0odCkpe2NvbnN0IHI9dDt0Lm9uKGUsbiksaT0oKT0+ci5vZmYoZSxuKX1lbHNlIGlmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5hZGRMaXN0ZW5lciYmImZ1bmN0aW9uIj09dHlwZW9mIHQucmVtb3ZlTGlzdGVuZXJ9KHQpKXtjb25zdCByPXQ7dC5hZGRMaXN0ZW5lcihlLG4pLGk9KCk9PnIucmVtb3ZlTGlzdGVuZXIoZSxuKX1lbHNle2lmKCF0fHwhdC5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBldmVudCB0YXJnZXQiKTtmb3IobGV0IGk9MCxvPXQubGVuZ3RoO2k8bztpKyspa2QodFtpXSxlLG4scixzKX1yLmFkZChpKX1uZXcgT2EoIjEyLjAuNSIpO2NvbnN0IEZkPW5ldyBvZChyZCk7ZnVuY3Rpb24gSWQodCl7cmV0dXJuIWModCkmJnQtcGFyc2VGbG9hdCh0KSsxPj0wfWZ1bmN0aW9uIE9kKHQ9MCxlLG4pe2xldCByPS0xO3JldHVybiBJZChlKT9yPU51bWJlcihlKTwxPzE6TnVtYmVyKGUpOlMoZSkmJihuPWUpLFMobil8fChuPUZkKSxuZXcgdihlPT57Y29uc3Qgcz1JZCh0KT90Oit0LW4ubm93KCk7cmV0dXJuIG4uc2NoZWR1bGUoUGQscyx7aW5kZXg6MCxwZXJpb2Q6cixzdWJzY3JpYmVyOmV9KX0pfWZ1bmN0aW9uIFBkKHQpe2NvbnN0e2luZGV4OmUscGVyaW9kOm4sc3Vic2NyaWJlcjpyfT10O2lmKHIubmV4dChlKSwhci5jbG9zZWQpe2lmKC0xPT09bilyZXR1cm4gci5jb21wbGV0ZSgpO3QuaW5kZXg9ZSsxLHRoaXMuc2NoZWR1bGUodCxuKX19ZnVuY3Rpb24gUmQodCxlPW51bGwpe3JldHVybnt0eXBlOjQsc3R5bGVzOmUsdGltaW5nczp0fX1mdW5jdGlvbiBMZCh0KXtyZXR1cm57dHlwZTo2LHN0eWxlczp0LG9mZnNldDpudWxsfX1mdW5jdGlvbiBCZCh0LGUsbj1udWxsKXtyZXR1cm57dHlwZToxLGV4cHI6dCxhbmltYXRpb246ZSxvcHRpb25zOm59fWNsYXNzIGpkIGV4dGVuZHMgRHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuX3ZhbHVlPXR9Z2V0IHZhbHVlKCl7cmV0dXJuIHRoaXMuZ2V0VmFsdWUoKX1fc3Vic2NyaWJlKHQpe2NvbnN0IGU9c3VwZXIuX3N1YnNjcmliZSh0KTtyZXR1cm4gZSYmIWUuY2xvc2VkJiZ0Lm5leHQodGhpcy5fdmFsdWUpLGV9Z2V0VmFsdWUoKXtpZih0aGlzLmhhc0Vycm9yKXRocm93IHRoaXMudGhyb3duRXJyb3I7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEM7cmV0dXJuIHRoaXMuX3ZhbHVlfW5leHQodCl7c3VwZXIubmV4dCh0aGlzLl92YWx1ZT10KX19Y2xhc3MgTWQgZXh0ZW5kcyBme25vdGlmeU5leHQodCxlLG4scixzKXt0aGlzLmRlc3RpbmF0aW9uLm5leHQoZSl9bm90aWZ5RXJyb3IodCxlKXt0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpfW5vdGlmeUNvbXBsZXRlKHQpe3RoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX19Y2xhc3MgTmQgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcigpLHRoaXMucGFyZW50PXQsdGhpcy5vdXRlclZhbHVlPWUsdGhpcy5vdXRlckluZGV4PW4sdGhpcy5pbmRleD0wfV9uZXh0KHQpe3RoaXMucGFyZW50Lm5vdGlmeU5leHQodGhpcy5vdXRlclZhbHVlLHQsdGhpcy5vdXRlckluZGV4LHRoaXMuaW5kZXgrKyx0aGlzKX1fZXJyb3IodCl7dGhpcy5wYXJlbnQubm90aWZ5RXJyb3IodCx0aGlzKSx0aGlzLnVuc3Vic2NyaWJlKCl9X2NvbXBsZXRlKCl7dGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUodGhpcyksdGhpcy51bnN1YnNjcmliZSgpfX1mdW5jdGlvbiBIZCh0LGUsbixyLHM9bmV3IE5kKHQsbixyKSl7aWYoIXMuY2xvc2VkKXJldHVybiBlIGluc3RhbmNlb2Ygdj9lLnN1YnNjcmliZShzKTpSKGUpKHMpfWNvbnN0IFZkPXt9O2NsYXNzIHpke2NvbnN0cnVjdG9yKHQpe3RoaXMucmVzdWx0U2VsZWN0b3I9dH1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyAkZCh0LHRoaXMucmVzdWx0U2VsZWN0b3IpKX19Y2xhc3MgJGQgZXh0ZW5kcyBNZHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMucmVzdWx0U2VsZWN0b3I9ZSx0aGlzLmFjdGl2ZT0wLHRoaXMudmFsdWVzPVtdLHRoaXMub2JzZXJ2YWJsZXM9W119X25leHQodCl7dGhpcy52YWx1ZXMucHVzaChWZCksdGhpcy5vYnNlcnZhYmxlcy5wdXNoKHQpfV9jb21wbGV0ZSgpe2NvbnN0IHQ9dGhpcy5vYnNlcnZhYmxlcyxlPXQubGVuZ3RoO2lmKDA9PT1lKXRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtlbHNle3RoaXMuYWN0aXZlPWUsdGhpcy50b1Jlc3BvbmQ9ZTtmb3IobGV0IG49MDtuPGU7bisrKXRoaXMuYWRkKEhkKHRoaXMsdFtuXSx2b2lkIDAsbikpfX1ub3RpZnlDb21wbGV0ZSh0KXswPT0odGhpcy5hY3RpdmUtPTEpJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9bm90aWZ5TmV4dCh0LGUsbil7Y29uc3Qgcj10aGlzLnZhbHVlcyxzPXRoaXMudG9SZXNwb25kP3Jbbl09PT1WZD8tLXRoaXMudG9SZXNwb25kOnRoaXMudG9SZXNwb25kOjA7cltuXT1lLDA9PT1zJiYodGhpcy5yZXN1bHRTZWxlY3Rvcj90aGlzLl90cnlSZXN1bHRTZWxlY3RvcihyKTp0aGlzLmRlc3RpbmF0aW9uLm5leHQoci5zbGljZSgpKSl9X3RyeVJlc3VsdFNlbGVjdG9yKHQpe2xldCBlO3RyeXtlPXRoaXMucmVzdWx0U2VsZWN0b3IuYXBwbHkodGhpcyx0KX1jYXRjaChuKXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKG4pfXRoaXMuZGVzdGluYXRpb24ubmV4dChlKX19Y29uc3QgVWQ9KCgpPT57ZnVuY3Rpb24gdCgpe3JldHVybiBFcnJvci5jYWxsKHRoaXMpLHRoaXMubWVzc2FnZT0ibm8gZWxlbWVudHMgaW4gc2VxdWVuY2UiLHRoaXMubmFtZT0iRW1wdHlFcnJvciIsdGhpc31yZXR1cm4gdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLHR9KSgpO2Z1bmN0aW9uIFdkKC4uLnQpe3JldHVybiAkKDEpKGhkKC4uLnQpKX1mdW5jdGlvbiBHZCh0KXtyZXR1cm4gbmV3IHYoZT0+e2xldCBuO3RyeXtuPXQoKX1jYXRjaChyKXtyZXR1cm4gdm9pZCBlLmVycm9yKHIpfXJldHVybihuP0Iobik6dWQoKSkuc3Vic2NyaWJlKGUpfSl9Y29uc3QgcWQ9KCgpPT57ZnVuY3Rpb24gdCgpe3JldHVybiBFcnJvci5jYWxsKHRoaXMpLHRoaXMubWVzc2FnZT0iYXJndW1lbnQgb3V0IG9mIHJhbmdlIix0aGlzLm5hbWU9IkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIix0aGlzfXJldHVybiB0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksdH0pKCk7ZnVuY3Rpb24gWGQodCl7cmV0dXJuIGU9PjA9PT10P3VkKCk6ZS5saWZ0KG5ldyBZZCh0KSl9Y2xhc3MgWWR7Y29uc3RydWN0b3IodCl7aWYodGhpcy50b3RhbD10LHRoaXMudG90YWw8MCl0aHJvdyBuZXcgcWR9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgWmQodCx0aGlzLnRvdGFsKSl9fWNsYXNzIFpkIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMudG90YWw9ZSx0aGlzLmNvdW50PTB9X25leHQodCl7Y29uc3QgZT10aGlzLnRvdGFsLG49Kyt0aGlzLmNvdW50O248PWUmJih0aGlzLmRlc3RpbmF0aW9uLm5leHQodCksbj09PWUmJih0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCksdGhpcy51bnN1YnNjcmliZSgpKSl9fWZ1bmN0aW9uIFFkKHQsZSl7bGV0IG49ITE7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+PTImJihuPSEwKSxmdW5jdGlvbihyKXtyZXR1cm4gci5saWZ0KG5ldyBLZCh0LGUsbikpfX1jbGFzcyBLZHtjb25zdHJ1Y3Rvcih0LGUsbj0hMSl7dGhpcy5hY2N1bXVsYXRvcj10LHRoaXMuc2VlZD1lLHRoaXMuaGFzU2VlZD1ufWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IEpkKHQsdGhpcy5hY2N1bXVsYXRvcix0aGlzLnNlZWQsdGhpcy5oYXNTZWVkKSl9fWNsYXNzIEpkIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcih0KSx0aGlzLmFjY3VtdWxhdG9yPWUsdGhpcy5fc2VlZD1uLHRoaXMuaGFzU2VlZD1yLHRoaXMuaW5kZXg9MH1nZXQgc2VlZCgpe3JldHVybiB0aGlzLl9zZWVkfXNldCBzZWVkKHQpe3RoaXMuaGFzU2VlZD0hMCx0aGlzLl9zZWVkPXR9X25leHQodCl7aWYodGhpcy5oYXNTZWVkKXJldHVybiB0aGlzLl90cnlOZXh0KHQpO3RoaXMuc2VlZD10LHRoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1fdHJ5TmV4dCh0KXtjb25zdCBlPXRoaXMuaW5kZXgrKztsZXQgbjt0cnl7bj10aGlzLmFjY3VtdWxhdG9yKHRoaXMuc2VlZCx0LGUpfWNhdGNoKHIpe3RoaXMuZGVzdGluYXRpb24uZXJyb3Iocil9dGhpcy5zZWVkPW4sdGhpcy5kZXN0aW5hdGlvbi5uZXh0KG4pfX1mdW5jdGlvbiB0cCh0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbi5saWZ0KG5ldyBlcCh0LGUpKX19Y2xhc3MgZXB7Y29uc3RydWN0b3IodCxlKXt0aGlzLnByZWRpY2F0ZT10LHRoaXMudGhpc0FyZz1lfWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IG5wKHQsdGhpcy5wcmVkaWNhdGUsdGhpcy50aGlzQXJnKSl9fWNsYXNzIG5wIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCksdGhpcy5wcmVkaWNhdGU9ZSx0aGlzLnRoaXNBcmc9bix0aGlzLmNvdW50PTB9X25leHQodCl7bGV0IGU7dHJ5e2U9dGhpcy5wcmVkaWNhdGUuY2FsbCh0aGlzLnRoaXNBcmcsdCx0aGlzLmNvdW50KyspfWNhdGNoKG4pe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iobil9ZSYmdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfX1mdW5jdGlvbiBycCh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7Y29uc3Qgbj1uZXcgc3AodCkscj1lLmxpZnQobik7cmV0dXJuIG4uY2F1Z2h0PXJ9fWNsYXNzIHNwe2NvbnN0cnVjdG9yKHQpe3RoaXMuc2VsZWN0b3I9dH1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyBpcCh0LHRoaXMuc2VsZWN0b3IsdGhpcy5jYXVnaHQpKX19Y2xhc3MgaXAgZXh0ZW5kcyBNe2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0KSx0aGlzLnNlbGVjdG9yPWUsdGhpcy5jYXVnaHQ9bn1lcnJvcih0KXtpZighdGhpcy5pc1N0b3BwZWQpe2xldCBuO3RyeXtuPXRoaXMuc2VsZWN0b3IodCx0aGlzLmNhdWdodCl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgc3VwZXIuZXJyb3IoZSl9dGhpcy5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlKCk7Y29uc3Qgcj1uZXcgaih0aGlzKTt0aGlzLmFkZChyKTtjb25zdCBzPU4obixyKTtzIT09ciYmdGhpcy5hZGQocyl9fX1mdW5jdGlvbiBvcCh0LGUpe3JldHVybiBIKHQsZSwxKX1mdW5jdGlvbiBhcCh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT10P3VkKCk6ZS5saWZ0KG5ldyBjcCh0KSl9fWNsYXNzIGNwe2NvbnN0cnVjdG9yKHQpe2lmKHRoaXMudG90YWw9dCx0aGlzLnRvdGFsPDApdGhyb3cgbmV3IHFkfWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IGxwKHQsdGhpcy50b3RhbCkpfX1jbGFzcyBscCBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLnRvdGFsPWUsdGhpcy5yaW5nPW5ldyBBcnJheSx0aGlzLmNvdW50PTB9X25leHQodCl7Y29uc3QgZT10aGlzLnJpbmcsbj10aGlzLnRvdGFsLHI9dGhpcy5jb3VudCsrO2UubGVuZ3RoPG4/ZS5wdXNoKHQpOmVbciVuXT10fV9jb21wbGV0ZSgpe2NvbnN0IHQ9dGhpcy5kZXN0aW5hdGlvbjtsZXQgZT10aGlzLmNvdW50O2lmKGU+MCl7Y29uc3Qgbj10aGlzLmNvdW50Pj10aGlzLnRvdGFsP3RoaXMudG90YWw6dGhpcy5jb3VudCxyPXRoaXMucmluZztmb3IobGV0IHM9MDtzPG47cysrKXtjb25zdCBzPWUrKyVuO3QubmV4dChyW3NdKX19dC5jb21wbGV0ZSgpfX1mdW5jdGlvbiB1cCh0PXBwKXtyZXR1cm4gZT0+ZS5saWZ0KG5ldyBocCh0KSl9Y2xhc3MgaHB7Y29uc3RydWN0b3IodCl7dGhpcy5lcnJvckZhY3Rvcnk9dH1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyBkcCh0LHRoaXMuZXJyb3JGYWN0b3J5KSl9fWNsYXNzIGRwIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuZXJyb3JGYWN0b3J5PWUsdGhpcy5oYXNWYWx1ZT0hMX1fbmV4dCh0KXt0aGlzLmhhc1ZhbHVlPSEwLHRoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1fY29tcGxldGUoKXtpZih0aGlzLmhhc1ZhbHVlKXJldHVybiB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7e2xldCBlO3RyeXtlPXRoaXMuZXJyb3JGYWN0b3J5KCl9Y2F0Y2godCl7ZT10fXRoaXMuZGVzdGluYXRpb24uZXJyb3IoZSl9fX1mdW5jdGlvbiBwcCgpe3JldHVybiBuZXcgVWR9ZnVuY3Rpb24gZnAodD1udWxsKXtyZXR1cm4gZT0+ZS5saWZ0KG5ldyBncCh0KSl9Y2xhc3MgZ3B7Y29uc3RydWN0b3IodCl7dGhpcy5kZWZhdWx0VmFsdWU9dH1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyBtcCh0LHRoaXMuZGVmYXVsdFZhbHVlKSl9fWNsYXNzIG1wIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuZGVmYXVsdFZhbHVlPWUsdGhpcy5pc0VtcHR5PSEwfV9uZXh0KHQpe3RoaXMuaXNFbXB0eT0hMSx0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9X2NvbXBsZXRlKCl7dGhpcy5pc0VtcHR5JiZ0aGlzLmRlc3RpbmF0aW9uLm5leHQodGhpcy5kZWZhdWx0VmFsdWUpLHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX19ZnVuY3Rpb24geXAodCxlKXtjb25zdCBuPWFyZ3VtZW50cy5sZW5ndGg+PTI7cmV0dXJuIHI9PnIucGlwZSh0P3RwKChlLG4pPT50KGUsbixyKSk6eSxYZCgxKSxuP2ZwKGUpOnVwKCgpPT5uZXcgVWQpKX1mdW5jdGlvbiB2cCgpe31mdW5jdGlvbiBicCh0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiByLmxpZnQobmV3IENwKHQsZSxuKSl9fWNsYXNzIENwe2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLm5leHRPck9ic2VydmVyPXQsdGhpcy5lcnJvcj1lLHRoaXMuY29tcGxldGU9bn1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyB3cCh0LHRoaXMubmV4dE9yT2JzZXJ2ZXIsdGhpcy5lcnJvcix0aGlzLmNvbXBsZXRlKSl9fWNsYXNzIHdwIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUsbixzKXtzdXBlcih0KSx0aGlzLl90YXBOZXh0PXZwLHRoaXMuX3RhcEVycm9yPXZwLHRoaXMuX3RhcENvbXBsZXRlPXZwLHRoaXMuX3RhcEVycm9yPW58fHZwLHRoaXMuX3RhcENvbXBsZXRlPXN8fHZwLHIoZSk/KHRoaXMuX2NvbnRleHQ9dGhpcyx0aGlzLl90YXBOZXh0PWUpOmUmJih0aGlzLl9jb250ZXh0PWUsdGhpcy5fdGFwTmV4dD1lLm5leHR8fHZwLHRoaXMuX3RhcEVycm9yPWUuZXJyb3J8fHZwLHRoaXMuX3RhcENvbXBsZXRlPWUuY29tcGxldGV8fHZwKX1fbmV4dCh0KXt0cnl7dGhpcy5fdGFwTmV4dC5jYWxsKHRoaXMuX2NvbnRleHQsdCl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlKX10aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9X2Vycm9yKHQpe3RyeXt0aGlzLl90YXBFcnJvci5jYWxsKHRoaXMuX2NvbnRleHQsdCl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX10aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpfV9jb21wbGV0ZSgpe3RyeXt0aGlzLl90YXBDb21wbGV0ZS5jYWxsKHRoaXMuX2NvbnRleHQpfWNhdGNoKHQpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9cmV0dXJuIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX19Y2xhc3MgX3B7Y29uc3RydWN0b3IodCl7dGhpcy5jYWxsYmFjaz10fWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IERwKHQsdGhpcy5jYWxsYmFjaykpfX1jbGFzcyBEcCBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLmFkZChuZXcgaChlKSl9fWNsYXNzIEVwe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5pZD10LHRoaXMudXJsPWV9fWNsYXNzIFNwIGV4dGVuZHMgRXB7Y29uc3RydWN0b3IodCxlLG49ImltcGVyYXRpdmUiLHI9bnVsbCl7c3VwZXIodCxlKSx0aGlzLm5hdmlnYXRpb25UcmlnZ2VyPW4sdGhpcy5yZXN0b3JlZFN0YXRlPXJ9dG9TdHJpbmcoKXtyZXR1cm5gTmF2aWdhdGlvblN0YXJ0KGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScpYH19Y2xhc3MgeHAgZXh0ZW5kcyBFcHtjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCxlKSx0aGlzLnVybEFmdGVyUmVkaXJlY3RzPW59dG9TdHJpbmcoKXtyZXR1cm5gTmF2aWdhdGlvbkVuZChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nKWB9fWNsYXNzIEFwIGV4dGVuZHMgRXB7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQsZSksdGhpcy5yZWFzb249bn10b1N0cmluZygpe3JldHVybmBOYXZpZ2F0aW9uQ2FuY2VsKGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScpYH19Y2xhc3MgVHAgZXh0ZW5kcyBFcHtjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCxlKSx0aGlzLmVycm9yPW59dG9TdHJpbmcoKXtyZXR1cm5gTmF2aWdhdGlvbkVycm9yKGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIGVycm9yOiAke3RoaXMuZXJyb3J9KWB9fWNsYXNzIGtwIGV4dGVuZHMgRXB7Y29uc3RydWN0b3IodCxlLG4scil7c3VwZXIodCxlKSx0aGlzLnVybEFmdGVyUmVkaXJlY3RzPW4sdGhpcy5zdGF0ZT1yfXRvU3RyaW5nKCl7cmV0dXJuYFJvdXRlc1JlY29nbml6ZWQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgdXJsQWZ0ZXJSZWRpcmVjdHM6ICcke3RoaXMudXJsQWZ0ZXJSZWRpcmVjdHN9Jywgc3RhdGU6ICR7dGhpcy5zdGF0ZX0pYH19Y2xhc3MgRnAgZXh0ZW5kcyBFcHtjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcih0LGUpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bix0aGlzLnN0YXRlPXJ9dG9TdHJpbmcoKXtyZXR1cm5gR3VhcmRzQ2hlY2tTdGFydChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nLCBzdGF0ZTogJHt0aGlzLnN0YXRlfSlgfX1jbGFzcyBJcCBleHRlbmRzIEVwe2NvbnN0cnVjdG9yKHQsZSxuLHIscyl7c3VwZXIodCxlKSx0aGlzLnVybEFmdGVyUmVkaXJlY3RzPW4sdGhpcy5zdGF0ZT1yLHRoaXMuc2hvdWxkQWN0aXZhdGU9c310b1N0cmluZygpe3JldHVybmBHdWFyZHNDaGVja0VuZChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nLCBzdGF0ZTogJHt0aGlzLnN0YXRlfSwgc2hvdWxkQWN0aXZhdGU6ICR7dGhpcy5zaG91bGRBY3RpdmF0ZX0pYH19Y2xhc3MgT3AgZXh0ZW5kcyBFcHtjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcih0LGUpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bix0aGlzLnN0YXRlPXJ9dG9TdHJpbmcoKXtyZXR1cm5gUmVzb2x2ZVN0YXJ0KGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIHVybEFmdGVyUmVkaXJlY3RzOiAnJHt0aGlzLnVybEFmdGVyUmVkaXJlY3RzfScsIHN0YXRlOiAke3RoaXMuc3RhdGV9KWB9fWNsYXNzIFBwIGV4dGVuZHMgRXB7Y29uc3RydWN0b3IodCxlLG4scil7c3VwZXIodCxlKSx0aGlzLnVybEFmdGVyUmVkaXJlY3RzPW4sdGhpcy5zdGF0ZT1yfXRvU3RyaW5nKCl7cmV0dXJuYFJlc29sdmVFbmQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgdXJsQWZ0ZXJSZWRpcmVjdHM6ICcke3RoaXMudXJsQWZ0ZXJSZWRpcmVjdHN9Jywgc3RhdGU6ICR7dGhpcy5zdGF0ZX0pYH19Y2xhc3MgUnB7Y29uc3RydWN0b3IodCl7dGhpcy5yb3V0ZT10fXRvU3RyaW5nKCl7cmV0dXJuYFJvdXRlQ29uZmlnTG9hZFN0YXJ0KHBhdGg6ICR7dGhpcy5yb3V0ZS5wYXRofSlgfX1jbGFzcyBMcHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnJvdXRlPXR9dG9TdHJpbmcoKXtyZXR1cm5gUm91dGVDb25maWdMb2FkRW5kKHBhdGg6ICR7dGhpcy5yb3V0ZS5wYXRofSlgfX1jbGFzcyBCcHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnNuYXBzaG90PXR9dG9TdHJpbmcoKXtyZXR1cm5gQ2hpbGRBY3RpdmF0aW9uU3RhcnQocGF0aDogJyR7dGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZyYmdGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZy5wYXRofHwiIn0nKWB9fWNsYXNzIGpwe2NvbnN0cnVjdG9yKHQpe3RoaXMuc25hcHNob3Q9dH10b1N0cmluZygpe3JldHVybmBDaGlsZEFjdGl2YXRpb25FbmQocGF0aDogJyR7dGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZyYmdGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZy5wYXRofHwiIn0nKWB9fWNsYXNzIE1we2NvbnN0cnVjdG9yKHQpe3RoaXMuc25hcHNob3Q9dH10b1N0cmluZygpe3JldHVybmBBY3RpdmF0aW9uU3RhcnQocGF0aDogJyR7dGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZyYmdGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZy5wYXRofHwiIn0nKWB9fWNsYXNzIE5we2NvbnN0cnVjdG9yKHQpe3RoaXMuc25hcHNob3Q9dH10b1N0cmluZygpe3JldHVybmBBY3RpdmF0aW9uRW5kKHBhdGg6ICcke3RoaXMuc25hcHNob3Qucm91dGVDb25maWcmJnRoaXMuc25hcHNob3Qucm91dGVDb25maWcucGF0aHx8IiJ9JylgfX1jbGFzcyBIcHtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5yb3V0ZXJFdmVudD10LHRoaXMucG9zaXRpb249ZSx0aGlzLmFuY2hvcj1ufXRvU3RyaW5nKCl7cmV0dXJuYFNjcm9sbChhbmNob3I6ICcke3RoaXMuYW5jaG9yfScsIHBvc2l0aW9uOiAnJHt0aGlzLnBvc2l0aW9uP2Ake3RoaXMucG9zaXRpb25bMF19LCAke3RoaXMucG9zaXRpb25bMV19YDpudWxsfScpYH19Y29uc3QgVnA9InByaW1hcnkiO2NsYXNzIHpwe2NvbnN0cnVjdG9yKHQpe3RoaXMucGFyYW1zPXR8fHt9fWhhcyh0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMucGFyYW1zLHQpfWdldCh0KXtpZih0aGlzLmhhcyh0KSl7Y29uc3QgZT10aGlzLnBhcmFtc1t0XTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lWzBdOmV9cmV0dXJuIG51bGx9Z2V0QWxsKHQpe2lmKHRoaXMuaGFzKHQpKXtjb25zdCBlPXRoaXMucGFyYW1zW3RdO3JldHVybiBBcnJheS5pc0FycmF5KGUpP2U6W2VdfXJldHVybltdfWdldCBrZXlzKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKX19ZnVuY3Rpb24gJHAodCl7cmV0dXJuIG5ldyB6cCh0KX1mdW5jdGlvbiBVcCh0KXtjb25zdCBlPUVycm9yKCJOYXZpZ2F0aW9uQ2FuY2VsaW5nRXJyb3I6ICIrdCk7cmV0dXJuIGUubmdOYXZpZ2F0aW9uQ2FuY2VsaW5nRXJyb3I9ITAsZX1mdW5jdGlvbiBXcCh0LGUsbil7Y29uc3Qgcj1uLnBhdGguc3BsaXQoIi8iKTtpZihyLmxlbmd0aD50Lmxlbmd0aClyZXR1cm4gbnVsbDtpZigiZnVsbCI9PT1uLnBhdGhNYXRjaCYmKGUuaGFzQ2hpbGRyZW4oKXx8ci5sZW5ndGg8dC5sZW5ndGgpKXJldHVybiBudWxsO2NvbnN0IHM9e307Zm9yKGxldCBpPTA7aTxyLmxlbmd0aDtpKyspe2NvbnN0IGU9cltpXSxuPXRbaV07aWYoZS5zdGFydHNXaXRoKCI6Iikpc1tlLnN1YnN0cmluZygxKV09bjtlbHNlIGlmKGUhPT1uLnBhdGgpcmV0dXJuIG51bGx9cmV0dXJue2NvbnN1bWVkOnQuc2xpY2UoMCxyLmxlbmd0aCkscG9zUGFyYW1zOnN9fWZ1bmN0aW9uIEdwKHQsZSl7Y29uc3Qgbj10P09iamVjdC5rZXlzKHQpOnZvaWQgMCxyPWU/T2JqZWN0LmtleXMoZSk6dm9pZCAwO2lmKCFufHwhcnx8bi5sZW5ndGghPXIubGVuZ3RoKXJldHVybiExO2xldCBzO2ZvcihsZXQgaT0wO2k8bi5sZW5ndGg7aSsrKWlmKHM9bltpXSwhcXAodFtzXSxlW3NdKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBxcCh0LGUpe2lmKEFycmF5LmlzQXJyYXkodCkmJkFycmF5LmlzQXJyYXkoZSkpe2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Y29uc3Qgbj1bLi4udF0uc29ydCgpLHI9Wy4uLmVdLnNvcnQoKTtyZXR1cm4gbi5ldmVyeSgodCxlKT0+cltlXT09PXQpfXJldHVybiB0PT09ZX1mdW5jdGlvbiBYcCh0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSx0KX1mdW5jdGlvbiBZcCh0KXtyZXR1cm4gdC5sZW5ndGg+MD90W3QubGVuZ3RoLTFdOm51bGx9ZnVuY3Rpb24gWnAodCxlKXtmb3IoY29uc3QgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJmUodFtuXSxuKX1mdW5jdGlvbiBRcCh0KXtyZXR1cm4gU28odCk/dDpEbyh0KT9CKFByb21pc2UucmVzb2x2ZSh0KSk6aGQodCl9Y29uc3QgS3A9e2V4YWN0OmZ1bmN0aW9uIHQoZSxuLHIpe2lmKCFjZihlLnNlZ21lbnRzLG4uc2VnbWVudHMpKXJldHVybiExO2lmKCFyZihlLnNlZ21lbnRzLG4uc2VnbWVudHMscikpcmV0dXJuITE7aWYoZS5udW1iZXJPZkNoaWxkcmVuIT09bi5udW1iZXJPZkNoaWxkcmVuKXJldHVybiExO2Zvcihjb25zdCBzIGluIG4uY2hpbGRyZW4pe2lmKCFlLmNoaWxkcmVuW3NdKXJldHVybiExO2lmKCF0KGUuY2hpbGRyZW5bc10sbi5jaGlsZHJlbltzXSxyKSlyZXR1cm4hMX1yZXR1cm4hMH0sc3Vic2V0OmVmfSxKcD17ZXhhY3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gR3AodCxlKX0sc3Vic2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmxlbmd0aDw9T2JqZWN0LmtleXModCkubGVuZ3RoJiZPYmplY3Qua2V5cyhlKS5ldmVyeShuPT5xcCh0W25dLGVbbl0pKX0saWdub3JlZDooKT0+ITB9O2Z1bmN0aW9uIHRmKHQsZSxuKXtyZXR1cm4gS3Bbbi5wYXRoc10odC5yb290LGUucm9vdCxuLm1hdHJpeFBhcmFtcykmJkpwW24ucXVlcnlQYXJhbXNdKHQucXVlcnlQYXJhbXMsZS5xdWVyeVBhcmFtcykmJiEoImV4YWN0Ij09PW4uZnJhZ21lbnQmJnQuZnJhZ21lbnQhPT1lLmZyYWdtZW50KX1mdW5jdGlvbiBlZih0LGUsbil7cmV0dXJuIG5mKHQsZSxlLnNlZ21lbnRzLG4pfWZ1bmN0aW9uIG5mKHQsZSxuLHIpe2lmKHQuc2VnbWVudHMubGVuZ3RoPm4ubGVuZ3RoKXtjb25zdCBzPXQuc2VnbWVudHMuc2xpY2UoMCxuLmxlbmd0aCk7cmV0dXJuISFjZihzLG4pJiYhZS5oYXNDaGlsZHJlbigpJiYhIXJmKHMsbixyKX1pZih0LnNlZ21lbnRzLmxlbmd0aD09PW4ubGVuZ3RoKXtpZighY2YodC5zZWdtZW50cyxuKSlyZXR1cm4hMTtpZighcmYodC5zZWdtZW50cyxuLHIpKXJldHVybiExO2Zvcihjb25zdCBuIGluIGUuY2hpbGRyZW4pe2lmKCF0LmNoaWxkcmVuW25dKXJldHVybiExO2lmKCFlZih0LmNoaWxkcmVuW25dLGUuY2hpbGRyZW5bbl0scikpcmV0dXJuITF9cmV0dXJuITB9e2NvbnN0IHM9bi5zbGljZSgwLHQuc2VnbWVudHMubGVuZ3RoKSxpPW4uc2xpY2UodC5zZWdtZW50cy5sZW5ndGgpO3JldHVybiEhY2YodC5zZWdtZW50cyxzKSYmISFyZih0LnNlZ21lbnRzLHMscikmJiEhdC5jaGlsZHJlbi5wcmltYXJ5JiZuZih0LmNoaWxkcmVuLnByaW1hcnksZSxpLHIpfX1mdW5jdGlvbiByZih0LGUsbil7cmV0dXJuIGUuZXZlcnkoKGUscik9PkpwW25dKHRbcl0ucGFyYW1ldGVycyxlLnBhcmFtZXRlcnMpKX1jbGFzcyBzZntjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5yb290PXQsdGhpcy5xdWVyeVBhcmFtcz1lLHRoaXMuZnJhZ21lbnQ9bn1nZXQgcXVlcnlQYXJhbU1hcCgpe3JldHVybiB0aGlzLl9xdWVyeVBhcmFtTWFwfHwodGhpcy5fcXVlcnlQYXJhbU1hcD0kcCh0aGlzLnF1ZXJ5UGFyYW1zKSksdGhpcy5fcXVlcnlQYXJhbU1hcH10b1N0cmluZygpe3JldHVybiBoZi5zZXJpYWxpemUodGhpcyl9fWNsYXNzIG9me2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5zZWdtZW50cz10LHRoaXMuY2hpbGRyZW49ZSx0aGlzLnBhcmVudD1udWxsLFpwKGUsKHQsZSk9PnQucGFyZW50PXRoaXMpfWhhc0NoaWxkcmVuKCl7cmV0dXJuIHRoaXMubnVtYmVyT2ZDaGlsZHJlbj4wfWdldCBudW1iZXJPZkNoaWxkcmVuKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuY2hpbGRyZW4pLmxlbmd0aH10b1N0cmluZygpe3JldHVybiBkZih0aGlzKX19Y2xhc3MgYWZ7Y29uc3RydWN0b3IodCxlKXt0aGlzLnBhdGg9dCx0aGlzLnBhcmFtZXRlcnM9ZX1nZXQgcGFyYW1ldGVyTWFwKCl7cmV0dXJuIHRoaXMuX3BhcmFtZXRlck1hcHx8KHRoaXMuX3BhcmFtZXRlck1hcD0kcCh0aGlzLnBhcmFtZXRlcnMpKSx0aGlzLl9wYXJhbWV0ZXJNYXB9dG9TdHJpbmcoKXtyZXR1cm4gYmYodGhpcyl9fWZ1bmN0aW9uIGNmKHQsZSl7cmV0dXJuIHQubGVuZ3RoPT09ZS5sZW5ndGgmJnQuZXZlcnkoKHQsbik9PnQucGF0aD09PWVbbl0ucGF0aCl9Y2xhc3MgbGZ7fWNsYXNzIHVme3BhcnNlKHQpe2NvbnN0IGU9bmV3IEVmKHQpO3JldHVybiBuZXcgc2YoZS5wYXJzZVJvb3RTZWdtZW50KCksZS5wYXJzZVF1ZXJ5UGFyYW1zKCksZS5wYXJzZUZyYWdtZW50KCkpfXNlcmlhbGl6ZSh0KXt2YXIgZTtyZXR1cm5gLyR7cGYodC5yb290LCEwKX0ke2Z1bmN0aW9uKHQpe2NvbnN0IGU9T2JqZWN0LmtleXModCkubWFwKGU9Pntjb25zdCBuPXRbZV07cmV0dXJuIEFycmF5LmlzQXJyYXkobik/bi5tYXAodD0+YCR7Z2YoZSl9PSR7Z2YodCl9YCkuam9pbigiJiIpOmAke2dmKGUpfT0ke2dmKG4pfWB9KS5maWx0ZXIodD0+ISF0KTtyZXR1cm4gZS5sZW5ndGg/YD8ke2Uuam9pbigiJiIpfWA6IiJ9KHQucXVlcnlQYXJhbXMpfSR7InN0cmluZyI9PXR5cGVvZiB0LmZyYWdtZW50P2AjJHtlPXQuZnJhZ21lbnQsZW5jb2RlVVJJKGUpfWA6IiJ9YH19Y29uc3QgaGY9bmV3IHVmO2Z1bmN0aW9uIGRmKHQpe3JldHVybiB0LnNlZ21lbnRzLm1hcCh0PT5iZih0KSkuam9pbigiLyIpfWZ1bmN0aW9uIHBmKHQsZSl7aWYoIXQuaGFzQ2hpbGRyZW4oKSlyZXR1cm4gZGYodCk7aWYoZSl7Y29uc3QgZT10LmNoaWxkcmVuLnByaW1hcnk/cGYodC5jaGlsZHJlbi5wcmltYXJ5LCExKToiIixuPVtdO3JldHVybiBacCh0LmNoaWxkcmVuLCh0LGUpPT57ZSE9PVZwJiZuLnB1c2goYCR7ZX06JHtwZih0LCExKX1gKX0pLG4ubGVuZ3RoPjA/YCR7ZX0oJHtuLmpvaW4oIi8vIil9KWA6ZX17Y29uc3QgZT1mdW5jdGlvbih0LGUpe2xldCBuPVtdO3JldHVybiBacCh0LmNoaWxkcmVuLCh0LHIpPT57cj09PVZwJiYobj1uLmNvbmNhdChlKHQscikpKX0pLFpwKHQuY2hpbGRyZW4sKHQscik9PntyIT09VnAmJihuPW4uY29uY2F0KGUodCxyKSkpfSksbn0odCwoZSxuKT0+bj09PVZwP1twZih0LmNoaWxkcmVuLnByaW1hcnksITEpXTpbYCR7bn06JHtwZihlLCExKX1gXSk7cmV0dXJuIDE9PT1PYmplY3Qua2V5cyh0LmNoaWxkcmVuKS5sZW5ndGgmJm51bGwhPXQuY2hpbGRyZW4ucHJpbWFyeT9gJHtkZih0KX0vJHtlWzBdfWA6YCR7ZGYodCl9Lygke2Uuam9pbigiLy8iKX0pYH19ZnVuY3Rpb24gZmYodCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0KS5yZXBsYWNlKC8lNDAvZywiQCIpLnJlcGxhY2UoLyUzQS9naSwiOiIpLnJlcGxhY2UoLyUyNC9nLCIkIikucmVwbGFjZSgvJTJDL2dpLCIsIil9ZnVuY3Rpb24gZ2YodCl7cmV0dXJuIGZmKHQpLnJlcGxhY2UoLyUzQi9naSwiOyIpfWZ1bmN0aW9uIG1mKHQpe3JldHVybiBmZih0KS5yZXBsYWNlKC9cKC9nLCIlMjgiKS5yZXBsYWNlKC9cKS9nLCIlMjkiKS5yZXBsYWNlKC8lMjYvZ2ksIiYiKX1mdW5jdGlvbiB5Zih0KXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHQpfWZ1bmN0aW9uIHZmKHQpe3JldHVybiB5Zih0LnJlcGxhY2UoL1wrL2csIiUyMCIpKX1mdW5jdGlvbiBiZih0KXtyZXR1cm5gJHttZih0LnBhdGgpfSR7ZT10LnBhcmFtZXRlcnMsT2JqZWN0LmtleXMoZSkubWFwKHQ9PmA7JHttZih0KX09JHttZihlW3RdKX1gKS5qb2luKCIiKX1gO3ZhciBlfWNvbnN0IENmPS9eW15cLygpPzs9I10rLztmdW5jdGlvbiB3Zih0KXtjb25zdCBlPXQubWF0Y2goQ2YpO3JldHVybiBlP2VbMF06IiJ9Y29uc3QgX2Y9L15bXj0/JiNdKy8sRGY9L15bXj8mI10rLztjbGFzcyBFZntjb25zdHJ1Y3Rvcih0KXt0aGlzLnVybD10LHRoaXMucmVtYWluaW5nPXR9cGFyc2VSb290U2VnbWVudCgpe3JldHVybiB0aGlzLmNvbnN1bWVPcHRpb25hbCgiLyIpLCIiPT09dGhpcy5yZW1haW5pbmd8fHRoaXMucGVla1N0YXJ0c1dpdGgoIj8iKXx8dGhpcy5wZWVrU3RhcnRzV2l0aCgiIyIpP25ldyBvZihbXSx7fSk6bmV3IG9mKFtdLHRoaXMucGFyc2VDaGlsZHJlbigpKX1wYXJzZVF1ZXJ5UGFyYW1zKCl7Y29uc3QgdD17fTtpZih0aGlzLmNvbnN1bWVPcHRpb25hbCgiPyIpKWRve3RoaXMucGFyc2VRdWVyeVBhcmFtKHQpfXdoaWxlKHRoaXMuY29uc3VtZU9wdGlvbmFsKCImIikpO3JldHVybiB0fXBhcnNlRnJhZ21lbnQoKXtyZXR1cm4gdGhpcy5jb25zdW1lT3B0aW9uYWwoIiMiKT9kZWNvZGVVUklDb21wb25lbnQodGhpcy5yZW1haW5pbmcpOm51bGx9cGFyc2VDaGlsZHJlbigpe2lmKCIiPT09dGhpcy5yZW1haW5pbmcpcmV0dXJue307dGhpcy5jb25zdW1lT3B0aW9uYWwoIi8iKTtjb25zdCB0PVtdO2Zvcih0aGlzLnBlZWtTdGFydHNXaXRoKCIoIil8fHQucHVzaCh0aGlzLnBhcnNlU2VnbWVudCgpKTt0aGlzLnBlZWtTdGFydHNXaXRoKCIvIikmJiF0aGlzLnBlZWtTdGFydHNXaXRoKCIvLyIpJiYhdGhpcy5wZWVrU3RhcnRzV2l0aCgiLygiKTspdGhpcy5jYXB0dXJlKCIvIiksdC5wdXNoKHRoaXMucGFyc2VTZWdtZW50KCkpO2xldCBlPXt9O3RoaXMucGVla1N0YXJ0c1dpdGgoIi8oIikmJih0aGlzLmNhcHR1cmUoIi8iKSxlPXRoaXMucGFyc2VQYXJlbnMoITApKTtsZXQgbj17fTtyZXR1cm4gdGhpcy5wZWVrU3RhcnRzV2l0aCgiKCIpJiYobj10aGlzLnBhcnNlUGFyZW5zKCExKSksKHQubGVuZ3RoPjB8fE9iamVjdC5rZXlzKGUpLmxlbmd0aD4wKSYmKG4ucHJpbWFyeT1uZXcgb2YodCxlKSksbn1wYXJzZVNlZ21lbnQoKXtjb25zdCB0PXdmKHRoaXMucmVtYWluaW5nKTtpZigiIj09PXQmJnRoaXMucGVla1N0YXJ0c1dpdGgoIjsiKSl0aHJvdyBuZXcgRXJyb3IoYEVtcHR5IHBhdGggdXJsIHNlZ21lbnQgY2Fubm90IGhhdmUgcGFyYW1ldGVyczogJyR7dGhpcy5yZW1haW5pbmd9Jy5gKTtyZXR1cm4gdGhpcy5jYXB0dXJlKHQpLG5ldyBhZih5Zih0KSx0aGlzLnBhcnNlTWF0cml4UGFyYW1zKCkpfXBhcnNlTWF0cml4UGFyYW1zKCl7Y29uc3QgdD17fTtmb3IoO3RoaXMuY29uc3VtZU9wdGlvbmFsKCI7Iik7KXRoaXMucGFyc2VQYXJhbSh0KTtyZXR1cm4gdH1wYXJzZVBhcmFtKHQpe2NvbnN0IGU9d2YodGhpcy5yZW1haW5pbmcpO2lmKCFlKXJldHVybjt0aGlzLmNhcHR1cmUoZSk7bGV0IG49IiI7aWYodGhpcy5jb25zdW1lT3B0aW9uYWwoIj0iKSl7Y29uc3QgdD13Zih0aGlzLnJlbWFpbmluZyk7dCYmKG49dCx0aGlzLmNhcHR1cmUobikpfXRbeWYoZSldPXlmKG4pfXBhcnNlUXVlcnlQYXJhbSh0KXtjb25zdCBlPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5tYXRjaChfZik7cmV0dXJuIGU/ZVswXToiIn0odGhpcy5yZW1haW5pbmcpO2lmKCFlKXJldHVybjt0aGlzLmNhcHR1cmUoZSk7bGV0IG49IiI7aWYodGhpcy5jb25zdW1lT3B0aW9uYWwoIj0iKSl7Y29uc3QgdD1mdW5jdGlvbih0KXtjb25zdCBlPXQubWF0Y2goRGYpO3JldHVybiBlP2VbMF06IiJ9KHRoaXMucmVtYWluaW5nKTt0JiYobj10LHRoaXMuY2FwdHVyZShuKSl9Y29uc3Qgcj12ZihlKSxzPXZmKG4pO2lmKHQuaGFzT3duUHJvcGVydHkocikpe2xldCBlPXRbcl07QXJyYXkuaXNBcnJheShlKXx8KGU9W2VdLHRbcl09ZSksZS5wdXNoKHMpfWVsc2UgdFtyXT1zfXBhcnNlUGFyZW5zKHQpe2NvbnN0IGU9e307Zm9yKHRoaXMuY2FwdHVyZSgiKCIpOyF0aGlzLmNvbnN1bWVPcHRpb25hbCgiKSIpJiZ0aGlzLnJlbWFpbmluZy5sZW5ndGg+MDspe2NvbnN0IG49d2YodGhpcy5yZW1haW5pbmcpLHI9dGhpcy5yZW1haW5pbmdbbi5sZW5ndGhdO2lmKCIvIiE9PXImJiIpIiE9PXImJiI7IiE9PXIpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcGFyc2UgdXJsICcke3RoaXMudXJsfSdgKTtsZXQgcztuLmluZGV4T2YoIjoiKT4tMT8ocz1uLnN1YnN0cigwLG4uaW5kZXhPZigiOiIpKSx0aGlzLmNhcHR1cmUocyksdGhpcy5jYXB0dXJlKCI6IikpOnQmJihzPVZwKTtjb25zdCBpPXRoaXMucGFyc2VDaGlsZHJlbigpO2Vbc109MT09PU9iamVjdC5rZXlzKGkpLmxlbmd0aD9pLnByaW1hcnk6bmV3IG9mKFtdLGkpLHRoaXMuY29uc3VtZU9wdGlvbmFsKCIvLyIpfXJldHVybiBlfXBlZWtTdGFydHNXaXRoKHQpe3JldHVybiB0aGlzLnJlbWFpbmluZy5zdGFydHNXaXRoKHQpfWNvbnN1bWVPcHRpb25hbCh0KXtyZXR1cm4hIXRoaXMucGVla1N0YXJ0c1dpdGgodCkmJih0aGlzLnJlbWFpbmluZz10aGlzLnJlbWFpbmluZy5zdWJzdHJpbmcodC5sZW5ndGgpLCEwKX1jYXB0dXJlKHQpe2lmKCF0aGlzLmNvbnN1bWVPcHRpb25hbCh0KSl0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkICIke3R9Ii5gKX19Y2xhc3MgU2Z7Y29uc3RydWN0b3IodCl7dGhpcy5fcm9vdD10fWdldCByb290KCl7cmV0dXJuIHRoaXMuX3Jvb3QudmFsdWV9cGFyZW50KHQpe2NvbnN0IGU9dGhpcy5wYXRoRnJvbVJvb3QodCk7cmV0dXJuIGUubGVuZ3RoPjE/ZVtlLmxlbmd0aC0yXTpudWxsfWNoaWxkcmVuKHQpe2NvbnN0IGU9eGYodCx0aGlzLl9yb290KTtyZXR1cm4gZT9lLmNoaWxkcmVuLm1hcCh0PT50LnZhbHVlKTpbXX1maXJzdENoaWxkKHQpe2NvbnN0IGU9eGYodCx0aGlzLl9yb290KTtyZXR1cm4gZSYmZS5jaGlsZHJlbi5sZW5ndGg+MD9lLmNoaWxkcmVuWzBdLnZhbHVlOm51bGx9c2libGluZ3ModCl7Y29uc3QgZT1BZih0LHRoaXMuX3Jvb3QpO3JldHVybiBlLmxlbmd0aDwyP1tdOmVbZS5sZW5ndGgtMl0uY2hpbGRyZW4ubWFwKHQ9PnQudmFsdWUpLmZpbHRlcihlPT5lIT09dCl9cGF0aEZyb21Sb290KHQpe3JldHVybiBBZih0LHRoaXMuX3Jvb3QpLm1hcCh0PT50LnZhbHVlKX19ZnVuY3Rpb24geGYodCxlKXtpZih0PT09ZS52YWx1ZSlyZXR1cm4gZTtmb3IoY29uc3QgbiBvZiBlLmNoaWxkcmVuKXtjb25zdCBlPXhmKHQsbik7aWYoZSlyZXR1cm4gZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBBZih0LGUpe2lmKHQ9PT1lLnZhbHVlKXJldHVybltlXTtmb3IoY29uc3QgbiBvZiBlLmNoaWxkcmVuKXtjb25zdCByPUFmKHQsbik7aWYoci5sZW5ndGgpcmV0dXJuIHIudW5zaGlmdChlKSxyfXJldHVybltdfWNsYXNzIFRme2NvbnN0cnVjdG9yKHQsZSl7dGhpcy52YWx1ZT10LHRoaXMuY2hpbGRyZW49ZX10b1N0cmluZygpe3JldHVybmBUcmVlTm9kZSgke3RoaXMudmFsdWV9KWB9fWZ1bmN0aW9uIGtmKHQpe2NvbnN0IGU9e307cmV0dXJuIHQmJnQuY2hpbGRyZW4uZm9yRWFjaCh0PT5lW3QudmFsdWUub3V0bGV0XT10KSxlfWNsYXNzIEZmIGV4dGVuZHMgU2Z7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLnNuYXBzaG90PWUsQmYodGhpcyx0KX10b1N0cmluZygpe3JldHVybiB0aGlzLnNuYXBzaG90LnRvU3RyaW5nKCl9fWZ1bmN0aW9uIElmKHQsZSl7Y29uc3Qgbj1mdW5jdGlvbih0LGUpe2NvbnN0IG49bmV3IFJmKFtdLHt9LHt9LCIiLHt9LFZwLGUsbnVsbCx0LnJvb3QsLTEse30pO3JldHVybiBuZXcgTGYoIiIsbmV3IFRmKG4sW10pKX0odCxlKSxyPW5ldyBqZChbbmV3IGFmKCIiLHt9KV0pLHM9bmV3IGpkKHt9KSxpPW5ldyBqZCh7fSksbz1uZXcgamQoe30pLGE9bmV3IGpkKCIiKSxjPW5ldyBPZihyLHMsbyxhLGksVnAsZSxuLnJvb3QpO3JldHVybiBjLnNuYXBzaG90PW4ucm9vdCxuZXcgRmYobmV3IFRmKGMsW10pLG4pfWNsYXNzIE9me2NvbnN0cnVjdG9yKHQsZSxuLHIscyxpLG8sYSl7dGhpcy51cmw9dCx0aGlzLnBhcmFtcz1lLHRoaXMucXVlcnlQYXJhbXM9bix0aGlzLmZyYWdtZW50PXIsdGhpcy5kYXRhPXMsdGhpcy5vdXRsZXQ9aSx0aGlzLmNvbXBvbmVudD1vLHRoaXMuX2Z1dHVyZVNuYXBzaG90PWF9Z2V0IHJvdXRlQ29uZmlnKCl7cmV0dXJuIHRoaXMuX2Z1dHVyZVNuYXBzaG90LnJvdXRlQ29uZmlnfWdldCByb290KCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnJvb3R9Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXJlbnQodGhpcyl9Z2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuZmlyc3RDaGlsZCh0aGlzKX1nZXQgY2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuY2hpbGRyZW4odGhpcyl9Z2V0IHBhdGhGcm9tUm9vdCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXRoRnJvbVJvb3QodGhpcyl9Z2V0IHBhcmFtTWFwKCl7cmV0dXJuIHRoaXMuX3BhcmFtTWFwfHwodGhpcy5fcGFyYW1NYXA9dGhpcy5wYXJhbXMucGlwZSh4KHQ9PiRwKHQpKSkpLHRoaXMuX3BhcmFtTWFwfWdldCBxdWVyeVBhcmFtTWFwKCl7cmV0dXJuIHRoaXMuX3F1ZXJ5UGFyYW1NYXB8fCh0aGlzLl9xdWVyeVBhcmFtTWFwPXRoaXMucXVlcnlQYXJhbXMucGlwZSh4KHQ9PiRwKHQpKSkpLHRoaXMuX3F1ZXJ5UGFyYW1NYXB9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5zbmFwc2hvdD90aGlzLnNuYXBzaG90LnRvU3RyaW5nKCk6YEZ1dHVyZSgke3RoaXMuX2Z1dHVyZVNuYXBzaG90fSlgfX1mdW5jdGlvbiBQZih0LGU9ImVtcHR5T25seSIpe2NvbnN0IG49dC5wYXRoRnJvbVJvb3Q7bGV0IHI9MDtpZigiYWx3YXlzIiE9PWUpZm9yKHI9bi5sZW5ndGgtMTtyPj0xOyl7Y29uc3QgdD1uW3JdLGU9bltyLTFdO2lmKHQucm91dGVDb25maWcmJiIiPT09dC5yb3V0ZUNvbmZpZy5wYXRoKXItLTtlbHNle2lmKGUuY29tcG9uZW50KWJyZWFrO3ItLX19cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlZHVjZSgodCxlKT0+KHtwYXJhbXM6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQucGFyYW1zKSxlLnBhcmFtcyksZGF0YTpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdC5kYXRhKSxlLmRhdGEpLHJlc29sdmU6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQucmVzb2x2ZSksZS5fcmVzb2x2ZWREYXRhKX0pLHtwYXJhbXM6e30sZGF0YTp7fSxyZXNvbHZlOnt9fSl9KG4uc2xpY2UocikpfWNsYXNzIFJme2NvbnN0cnVjdG9yKHQsZSxuLHIscyxpLG8sYSxjLGwsdSl7dGhpcy51cmw9dCx0aGlzLnBhcmFtcz1lLHRoaXMucXVlcnlQYXJhbXM9bix0aGlzLmZyYWdtZW50PXIsdGhpcy5kYXRhPXMsdGhpcy5vdXRsZXQ9aSx0aGlzLmNvbXBvbmVudD1vLHRoaXMucm91dGVDb25maWc9YSx0aGlzLl91cmxTZWdtZW50PWMsdGhpcy5fbGFzdFBhdGhJbmRleD1sLHRoaXMuX3Jlc29sdmU9dX1nZXQgcm9vdCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5yb290fWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUucGFyZW50KHRoaXMpfWdldCBmaXJzdENoaWxkKCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLmZpcnN0Q2hpbGQodGhpcyl9Z2V0IGNoaWxkcmVuKCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLmNoaWxkcmVuKHRoaXMpfWdldCBwYXRoRnJvbVJvb3QoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUucGF0aEZyb21Sb290KHRoaXMpfWdldCBwYXJhbU1hcCgpe3JldHVybiB0aGlzLl9wYXJhbU1hcHx8KHRoaXMuX3BhcmFtTWFwPSRwKHRoaXMucGFyYW1zKSksdGhpcy5fcGFyYW1NYXB9Z2V0IHF1ZXJ5UGFyYW1NYXAoKXtyZXR1cm4gdGhpcy5fcXVlcnlQYXJhbU1hcHx8KHRoaXMuX3F1ZXJ5UGFyYW1NYXA9JHAodGhpcy5xdWVyeVBhcmFtcykpLHRoaXMuX3F1ZXJ5UGFyYW1NYXB9dG9TdHJpbmcoKXtyZXR1cm5gUm91dGUodXJsOicke3RoaXMudXJsLm1hcCh0PT50LnRvU3RyaW5nKCkpLmpvaW4oIi8iKX0nLCBwYXRoOicke3RoaXMucm91dGVDb25maWc/dGhpcy5yb3V0ZUNvbmZpZy5wYXRoOiIifScpYH19Y2xhc3MgTGYgZXh0ZW5kcyBTZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGUpLHRoaXMudXJsPXQsQmYodGhpcyxlKX10b1N0cmluZygpe3JldHVybiBqZih0aGlzLl9yb290KX19ZnVuY3Rpb24gQmYodCxlKXtlLnZhbHVlLl9yb3V0ZXJTdGF0ZT10LGUuY2hpbGRyZW4uZm9yRWFjaChlPT5CZih0LGUpKX1mdW5jdGlvbiBqZih0KXtjb25zdCBlPXQuY2hpbGRyZW4ubGVuZ3RoPjA/YCB7ICR7dC5jaGlsZHJlbi5tYXAoamYpLmpvaW4oIiwgIil9IH0gYDoiIjtyZXR1cm5gJHt0LnZhbHVlfSR7ZX1gfWZ1bmN0aW9uIE1mKHQpe2lmKHQuc25hcHNob3Qpe2NvbnN0IGU9dC5zbmFwc2hvdCxuPXQuX2Z1dHVyZVNuYXBzaG90O3Quc25hcHNob3Q9bixHcChlLnF1ZXJ5UGFyYW1zLG4ucXVlcnlQYXJhbXMpfHx0LnF1ZXJ5UGFyYW1zLm5leHQobi5xdWVyeVBhcmFtcyksZS5mcmFnbWVudCE9PW4uZnJhZ21lbnQmJnQuZnJhZ21lbnQubmV4dChuLmZyYWdtZW50KSxHcChlLnBhcmFtcyxuLnBhcmFtcyl8fHQucGFyYW1zLm5leHQobi5wYXJhbXMpLGZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IG49MDtuPHQubGVuZ3RoOysrbilpZighR3AodFtuXSxlW25dKSlyZXR1cm4hMTtyZXR1cm4hMH0oZS51cmwsbi51cmwpfHx0LnVybC5uZXh0KG4udXJsKSxHcChlLmRhdGEsbi5kYXRhKXx8dC5kYXRhLm5leHQobi5kYXRhKX1lbHNlIHQuc25hcHNob3Q9dC5fZnV0dXJlU25hcHNob3QsdC5kYXRhLm5leHQodC5fZnV0dXJlU25hcHNob3QuZGF0YSl9ZnVuY3Rpb24gTmYodCxlKXt2YXIgbixyO3JldHVybiBHcCh0LnBhcmFtcyxlLnBhcmFtcykmJmNmKG49dC51cmwscj1lLnVybCkmJm4uZXZlcnkoKHQsZSk9PkdwKHQucGFyYW1ldGVycyxyW2VdLnBhcmFtZXRlcnMpKSYmISghdC5wYXJlbnQhPSFlLnBhcmVudCkmJighdC5wYXJlbnR8fE5mKHQucGFyZW50LGUucGFyZW50KSl9ZnVuY3Rpb24gSGYodCxlLG4pe2lmKG4mJnQuc2hvdWxkUmV1c2VSb3V0ZShlLnZhbHVlLG4udmFsdWUuc25hcHNob3QpKXtjb25zdCByPW4udmFsdWU7ci5fZnV0dXJlU25hcHNob3Q9ZS52YWx1ZTtjb25zdCBzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZS5jaGlsZHJlbi5tYXAoZT0+e2Zvcihjb25zdCByIG9mIG4uY2hpbGRyZW4paWYodC5zaG91bGRSZXVzZVJvdXRlKGUudmFsdWUsci52YWx1ZS5zbmFwc2hvdCkpcmV0dXJuIEhmKHQsZSxyKTtyZXR1cm4gSGYodCxlKX0pfSh0LGUsbik7cmV0dXJuIG5ldyBUZihyLHMpfXtpZih0LnNob3VsZEF0dGFjaChlLnZhbHVlKSl7Y29uc3Qgbj10LnJldHJpZXZlKGUudmFsdWUpO2lmKG51bGwhPT1uKXtjb25zdCB0PW4ucm91dGU7cmV0dXJuIFZmKGUsdCksdH19Y29uc3Qgbj1uZXcgT2YobmV3IGpkKChyPWUudmFsdWUpLnVybCksbmV3IGpkKHIucGFyYW1zKSxuZXcgamQoci5xdWVyeVBhcmFtcyksbmV3IGpkKHIuZnJhZ21lbnQpLG5ldyBqZChyLmRhdGEpLHIub3V0bGV0LHIuY29tcG9uZW50LHIpLHM9ZS5jaGlsZHJlbi5tYXAoZT0+SGYodCxlKSk7cmV0dXJuIG5ldyBUZihuLHMpfXZhciByfWZ1bmN0aW9uIFZmKHQsZSl7aWYodC52YWx1ZS5yb3V0ZUNvbmZpZyE9PWUudmFsdWUucm91dGVDb25maWcpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgcmVhdHRhY2ggQWN0aXZhdGVkUm91dGVTbmFwc2hvdCBjcmVhdGVkIGZyb20gYSBkaWZmZXJlbnQgcm91dGUiKTtpZih0LmNoaWxkcmVuLmxlbmd0aCE9PWUuY2hpbGRyZW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHJlYXR0YWNoIEFjdGl2YXRlZFJvdXRlU25hcHNob3Qgd2l0aCBhIGRpZmZlcmVudCBudW1iZXIgb2YgY2hpbGRyZW4iKTtlLnZhbHVlLl9mdXR1cmVTbmFwc2hvdD10LnZhbHVlO2ZvcihsZXQgbj0wO248dC5jaGlsZHJlbi5sZW5ndGg7KytuKVZmKHQuY2hpbGRyZW5bbl0sZS5jaGlsZHJlbltuXSl9ZnVuY3Rpb24gemYodCl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10JiYhdC5vdXRsZXRzJiYhdC5zZWdtZW50UGF0aH1mdW5jdGlvbiAkZih0KXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIHQmJm51bGwhPXQmJnQub3V0bGV0c31mdW5jdGlvbiBVZih0LGUsbixyLHMpe2xldCBpPXt9O3JldHVybiByJiZacChyLCh0LGUpPT57aVtlXT1BcnJheS5pc0FycmF5KHQpP3QubWFwKHQ9PmAke3R9YCk6YCR7dH1gfSksbmV3IHNmKG4ucm9vdD09PXQ/ZTpXZihuLnJvb3QsdCxlKSxpLHMpfWZ1bmN0aW9uIFdmKHQsZSxuKXtjb25zdCByPXt9O3JldHVybiBacCh0LmNoaWxkcmVuLCh0LHMpPT57cltzXT10PT09ZT9uOldmKHQsZSxuKX0pLG5ldyBvZih0LnNlZ21lbnRzLHIpfWNsYXNzIEdme2NvbnN0cnVjdG9yKHQsZSxuKXtpZih0aGlzLmlzQWJzb2x1dGU9dCx0aGlzLm51bWJlck9mRG91YmxlRG90cz1lLHRoaXMuY29tbWFuZHM9bix0JiZuLmxlbmd0aD4wJiZ6ZihuWzBdKSl0aHJvdyBuZXcgRXJyb3IoIlJvb3Qgc2VnbWVudCBjYW5ub3QgaGF2ZSBtYXRyaXggcGFyYW1ldGVycyIpO2NvbnN0IHI9bi5maW5kKCRmKTtpZihyJiZyIT09WXAobikpdGhyb3cgbmV3IEVycm9yKCJ7b3V0bGV0czp7fX0gaGFzIHRvIGJlIHRoZSBsYXN0IGNvbW1hbmQiKX10b1Jvb3QoKXtyZXR1cm4gdGhpcy5pc0Fic29sdXRlJiYxPT09dGhpcy5jb21tYW5kcy5sZW5ndGgmJiIvIj09dGhpcy5jb21tYW5kc1swXX19Y2xhc3MgcWZ7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMuc2VnbWVudEdyb3VwPXQsdGhpcy5wcm9jZXNzQ2hpbGRyZW49ZSx0aGlzLmluZGV4PW59fWZ1bmN0aW9uIFhmKHQsZSxuKXtpZih0fHwodD1uZXcgb2YoW10se30pKSwwPT09dC5zZWdtZW50cy5sZW5ndGgmJnQuaGFzQ2hpbGRyZW4oKSlyZXR1cm4gWWYodCxlLG4pO2NvbnN0IHI9ZnVuY3Rpb24odCxlLG4pe2xldCByPTAscz1lO2NvbnN0IGk9e21hdGNoOiExLHBhdGhJbmRleDowLGNvbW1hbmRJbmRleDowfTtmb3IoO3M8dC5zZWdtZW50cy5sZW5ndGg7KXtpZihyPj1uLmxlbmd0aClyZXR1cm4gaTtjb25zdCBlPXQuc2VnbWVudHNbc10sbz1uW3JdO2lmKCRmKG8pKWJyZWFrO2NvbnN0IGE9YCR7b31gLGM9cjxuLmxlbmd0aC0xP25bcisxXTpudWxsO2lmKHM+MCYmdm9pZCAwPT09YSlicmVhaztpZihhJiZjJiYib2JqZWN0Ij09dHlwZW9mIGMmJnZvaWQgMD09PWMub3V0bGV0cyl7aWYoIUpmKGEsYyxlKSlyZXR1cm4gaTtyKz0yfWVsc2V7aWYoIUpmKGEse30sZSkpcmV0dXJuIGk7cisrfXMrK31yZXR1cm57bWF0Y2g6ITAscGF0aEluZGV4OnMsY29tbWFuZEluZGV4OnJ9fSh0LGUsbikscz1uLnNsaWNlKHIuY29tbWFuZEluZGV4KTtpZihyLm1hdGNoJiZyLnBhdGhJbmRleDx0LnNlZ21lbnRzLmxlbmd0aCl7Y29uc3QgZT1uZXcgb2YodC5zZWdtZW50cy5zbGljZSgwLHIucGF0aEluZGV4KSx7fSk7cmV0dXJuIGUuY2hpbGRyZW4ucHJpbWFyeT1uZXcgb2YodC5zZWdtZW50cy5zbGljZShyLnBhdGhJbmRleCksdC5jaGlsZHJlbiksWWYoZSwwLHMpfXJldHVybiByLm1hdGNoJiYwPT09cy5sZW5ndGg/bmV3IG9mKHQuc2VnbWVudHMse30pOnIubWF0Y2gmJiF0Lmhhc0NoaWxkcmVuKCk/WmYodCxlLG4pOnIubWF0Y2g/WWYodCwwLHMpOlpmKHQsZSxuKX1mdW5jdGlvbiBZZih0LGUsbil7aWYoMD09PW4ubGVuZ3RoKXJldHVybiBuZXcgb2YodC5zZWdtZW50cyx7fSk7e2NvbnN0IHI9ZnVuY3Rpb24odCl7cmV0dXJuICRmKHRbMF0pP3RbMF0ub3V0bGV0czp7W1ZwXTp0fX0obikscz17fTtyZXR1cm4gWnAociwobixyKT0+eyJzdHJpbmciPT10eXBlb2YgbiYmKG49W25dKSxudWxsIT09biYmKHNbcl09WGYodC5jaGlsZHJlbltyXSxlLG4pKX0pLFpwKHQuY2hpbGRyZW4sKHQsZSk9Pnt2b2lkIDA9PT1yW2VdJiYoc1tlXT10KX0pLG5ldyBvZih0LnNlZ21lbnRzLHMpfX1mdW5jdGlvbiBaZih0LGUsbil7Y29uc3Qgcj10LnNlZ21lbnRzLnNsaWNlKDAsZSk7bGV0IHM9MDtmb3IoO3M8bi5sZW5ndGg7KXtjb25zdCBpPW5bc107aWYoJGYoaSkpe2NvbnN0IHQ9UWYoaS5vdXRsZXRzKTtyZXR1cm4gbmV3IG9mKHIsdCl9aWYoMD09PXMmJnpmKG5bMF0pKXtyLnB1c2gobmV3IGFmKHQuc2VnbWVudHNbZV0ucGF0aCxLZihuWzBdKSkpLHMrKztjb250aW51ZX1jb25zdCBvPSRmKGkpP2kub3V0bGV0cy5wcmltYXJ5OmAke2l9YCxhPXM8bi5sZW5ndGgtMT9uW3MrMV06bnVsbDtvJiZhJiZ6ZihhKT8oci5wdXNoKG5ldyBhZihvLEtmKGEpKSkscys9Mik6KHIucHVzaChuZXcgYWYobyx7fSkpLHMrKyl9cmV0dXJuIG5ldyBvZihyLHt9KX1mdW5jdGlvbiBRZih0KXtjb25zdCBlPXt9O3JldHVybiBacCh0LCh0LG4pPT57InN0cmluZyI9PXR5cGVvZiB0JiYodD1bdF0pLG51bGwhPT10JiYoZVtuXT1aZihuZXcgb2YoW10se30pLDAsdCkpfSksZX1mdW5jdGlvbiBLZih0KXtjb25zdCBlPXt9O3JldHVybiBacCh0LCh0LG4pPT5lW25dPWAke3R9YCksZX1mdW5jdGlvbiBKZih0LGUsbil7cmV0dXJuIHQ9PW4ucGF0aCYmR3AoZSxuLnBhcmFtZXRlcnMpfWNsYXNzIHRne2NvbnN0cnVjdG9yKHQsZSxuLHIpe3RoaXMucm91dGVSZXVzZVN0cmF0ZWd5PXQsdGhpcy5mdXR1cmVTdGF0ZT1lLHRoaXMuY3VyclN0YXRlPW4sdGhpcy5mb3J3YXJkRXZlbnQ9cn1hY3RpdmF0ZSh0KXtjb25zdCBlPXRoaXMuZnV0dXJlU3RhdGUuX3Jvb3Qsbj10aGlzLmN1cnJTdGF0ZT90aGlzLmN1cnJTdGF0ZS5fcm9vdDpudWxsO3RoaXMuZGVhY3RpdmF0ZUNoaWxkUm91dGVzKGUsbix0KSxNZih0aGlzLmZ1dHVyZVN0YXRlLnJvb3QpLHRoaXMuYWN0aXZhdGVDaGlsZFJvdXRlcyhlLG4sdCl9ZGVhY3RpdmF0ZUNoaWxkUm91dGVzKHQsZSxuKXtjb25zdCByPWtmKGUpO3QuY2hpbGRyZW4uZm9yRWFjaCh0PT57Y29uc3QgZT10LnZhbHVlLm91dGxldDt0aGlzLmRlYWN0aXZhdGVSb3V0ZXModCxyW2VdLG4pLGRlbGV0ZSByW2VdfSksWnAociwodCxlKT0+e3RoaXMuZGVhY3RpdmF0ZVJvdXRlQW5kSXRzQ2hpbGRyZW4odCxuKX0pfWRlYWN0aXZhdGVSb3V0ZXModCxlLG4pe2NvbnN0IHI9dC52YWx1ZSxzPWU/ZS52YWx1ZTpudWxsO2lmKHI9PT1zKWlmKHIuY29tcG9uZW50KXtjb25zdCBzPW4uZ2V0Q29udGV4dChyLm91dGxldCk7cyYmdGhpcy5kZWFjdGl2YXRlQ2hpbGRSb3V0ZXModCxlLHMuY2hpbGRyZW4pfWVsc2UgdGhpcy5kZWFjdGl2YXRlQ2hpbGRSb3V0ZXModCxlLG4pO2Vsc2UgcyYmdGhpcy5kZWFjdGl2YXRlUm91dGVBbmRJdHNDaGlsZHJlbihlLG4pfWRlYWN0aXZhdGVSb3V0ZUFuZEl0c0NoaWxkcmVuKHQsZSl7dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuc2hvdWxkRGV0YWNoKHQudmFsdWUuc25hcHNob3QpP3RoaXMuZGV0YWNoQW5kU3RvcmVSb3V0ZVN1YnRyZWUodCxlKTp0aGlzLmRlYWN0aXZhdGVSb3V0ZUFuZE91dGxldCh0LGUpfWRldGFjaEFuZFN0b3JlUm91dGVTdWJ0cmVlKHQsZSl7Y29uc3Qgbj1lLmdldENvbnRleHQodC52YWx1ZS5vdXRsZXQpO2lmKG4mJm4ub3V0bGV0KXtjb25zdCBlPW4ub3V0bGV0LmRldGFjaCgpLHI9bi5jaGlsZHJlbi5vbk91dGxldERlYWN0aXZhdGVkKCk7dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuc3RvcmUodC52YWx1ZS5zbmFwc2hvdCx7Y29tcG9uZW50UmVmOmUscm91dGU6dCxjb250ZXh0czpyfSl9fWRlYWN0aXZhdGVSb3V0ZUFuZE91dGxldCh0LGUpe2NvbnN0IG49ZS5nZXRDb250ZXh0KHQudmFsdWUub3V0bGV0KSxyPW4mJnQudmFsdWUuY29tcG9uZW50P24uY2hpbGRyZW46ZSxzPWtmKHQpO2Zvcihjb25zdCBpIG9mIE9iamVjdC5rZXlzKHMpKXRoaXMuZGVhY3RpdmF0ZVJvdXRlQW5kSXRzQ2hpbGRyZW4oc1tpXSxyKTtuJiZuLm91dGxldCYmKG4ub3V0bGV0LmRlYWN0aXZhdGUoKSxuLmNoaWxkcmVuLm9uT3V0bGV0RGVhY3RpdmF0ZWQoKSxuLmF0dGFjaFJlZj1udWxsLG4ucmVzb2x2ZXI9bnVsbCxuLnJvdXRlPW51bGwpfWFjdGl2YXRlQ2hpbGRSb3V0ZXModCxlLG4pe2NvbnN0IHI9a2YoZSk7dC5jaGlsZHJlbi5mb3JFYWNoKHQ9Pnt0aGlzLmFjdGl2YXRlUm91dGVzKHQsclt0LnZhbHVlLm91dGxldF0sbiksdGhpcy5mb3J3YXJkRXZlbnQobmV3IE5wKHQudmFsdWUuc25hcHNob3QpKX0pLHQuY2hpbGRyZW4ubGVuZ3RoJiZ0aGlzLmZvcndhcmRFdmVudChuZXcganAodC52YWx1ZS5zbmFwc2hvdCkpfWFjdGl2YXRlUm91dGVzKHQsZSxuKXtjb25zdCByPXQudmFsdWUscz1lP2UudmFsdWU6bnVsbDtpZihNZihyKSxyPT09cylpZihyLmNvbXBvbmVudCl7Y29uc3Qgcz1uLmdldE9yQ3JlYXRlQ29udGV4dChyLm91dGxldCk7dGhpcy5hY3RpdmF0ZUNoaWxkUm91dGVzKHQsZSxzLmNoaWxkcmVuKX1lbHNlIHRoaXMuYWN0aXZhdGVDaGlsZFJvdXRlcyh0LGUsbik7ZWxzZSBpZihyLmNvbXBvbmVudCl7Y29uc3QgZT1uLmdldE9yQ3JlYXRlQ29udGV4dChyLm91dGxldCk7aWYodGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuc2hvdWxkQXR0YWNoKHIuc25hcHNob3QpKXtjb25zdCB0PXRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LnJldHJpZXZlKHIuc25hcHNob3QpO3RoaXMucm91dGVSZXVzZVN0cmF0ZWd5LnN0b3JlKHIuc25hcHNob3QsbnVsbCksZS5jaGlsZHJlbi5vbk91dGxldFJlQXR0YWNoZWQodC5jb250ZXh0cyksZS5hdHRhY2hSZWY9dC5jb21wb25lbnRSZWYsZS5yb3V0ZT10LnJvdXRlLnZhbHVlLGUub3V0bGV0JiZlLm91dGxldC5hdHRhY2godC5jb21wb25lbnRSZWYsdC5yb3V0ZS52YWx1ZSksZWcodC5yb3V0ZSl9ZWxzZXtjb25zdCBuPWZ1bmN0aW9uKHQpe2ZvcihsZXQgZT10LnBhcmVudDtlO2U9ZS5wYXJlbnQpe2NvbnN0IHQ9ZS5yb3V0ZUNvbmZpZztpZih0JiZ0Ll9sb2FkZWRDb25maWcpcmV0dXJuIHQuX2xvYWRlZENvbmZpZztpZih0JiZ0LmNvbXBvbmVudClyZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH0oci5zbmFwc2hvdCkscz1uP24ubW9kdWxlLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjpudWxsO2UuYXR0YWNoUmVmPW51bGwsZS5yb3V0ZT1yLGUucmVzb2x2ZXI9cyxlLm91dGxldCYmZS5vdXRsZXQuYWN0aXZhdGVXaXRoKHIscyksdGhpcy5hY3RpdmF0ZUNoaWxkUm91dGVzKHQsbnVsbCxlLmNoaWxkcmVuKX19ZWxzZSB0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXModCxudWxsLG4pfX1mdW5jdGlvbiBlZyh0KXtNZih0LnZhbHVlKSx0LmNoaWxkcmVuLmZvckVhY2goZWcpfWNsYXNzIG5ne2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5yb3V0ZXM9dCx0aGlzLm1vZHVsZT1lfX1mdW5jdGlvbiByZyh0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdH1mdW5jdGlvbiBzZyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHNmfWNvbnN0IGlnPVN5bWJvbCgiSU5JVElBTF9WQUxVRSIpO2Z1bmN0aW9uIG9nKCl7cmV0dXJuIGJkKHQ9PmZ1bmN0aW9uKC4uLnQpe2xldCBlLG47cmV0dXJuIFModFt0Lmxlbmd0aC0xXSkmJihuPXQucG9wKCkpLCJmdW5jdGlvbiI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdJiYoZT10LnBvcCgpKSwxPT09dC5sZW5ndGgmJmModFswXSkmJih0PXRbMF0pLFUodCxuKS5saWZ0KG5ldyB6ZChlKSl9KHQubWFwKHQ9PnQucGlwZShYZCgxKSxmdW5jdGlvbiguLi50KXtjb25zdCBlPXRbdC5sZW5ndGgtMV07cmV0dXJuIFMoZSk/KHQucG9wKCksbj0+V2QodCxuLGUpKTplPT5XZCh0LGUpfShpZykpKSkucGlwZShRZCgodCxlKT0+e2xldCBuPSExO3JldHVybiBlLnJlZHVjZSgodCxyLHMpPT57aWYodCE9PWlnKXJldHVybiB0O2lmKHI9PT1pZyYmKG49ITApLCFuKXtpZighMT09PXIpcmV0dXJuIHI7aWYocz09PWUubGVuZ3RoLTF8fHNnKHIpKXJldHVybiByfXJldHVybiB0fSx0KX0saWcpLHRwKHQ9PnQhPT1pZykseCh0PT5zZyh0KT90OiEwPT09dCksWGQoMSkpKX1sZXQgYWc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIm5nLWNvbXBvbmVudCJdXSxkZWNsczoxLHZhcnM6MCx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmQ28oMCwicm91dGVyLW91dGxldCIpfSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW2VtXX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCk7ZnVuY3Rpb24gY2codCxlPSIiKXtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgcj10W25dO2xnKHIsdWcoZSxyKSl9fWZ1bmN0aW9uIGxnKHQsZSl7dC5jaGlsZHJlbiYmY2codC5jaGlsZHJlbixlKX1mdW5jdGlvbiB1Zyh0LGUpe3JldHVybiBlP3R8fGUucGF0aD90JiYhZS5wYXRoP2Ake3R9L2A6IXQmJmUucGF0aD9lLnBhdGg6YCR7dH0vJHtlLnBhdGh9YDoiIjp0fWZ1bmN0aW9uIGhnKHQpe2NvbnN0IGU9dC5jaGlsZHJlbiYmdC5jaGlsZHJlbi5tYXAoaGcpLG49ZT9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse2NoaWxkcmVuOmV9KTpPYmplY3QuYXNzaWduKHt9LHQpO3JldHVybiFuLmNvbXBvbmVudCYmKGV8fG4ubG9hZENoaWxkcmVuKSYmbi5vdXRsZXQmJm4ub3V0bGV0IT09VnAmJihuLmNvbXBvbmVudD1hZyksbn1mdW5jdGlvbiBkZyh0KXtyZXR1cm4gdC5vdXRsZXR8fFZwfWZ1bmN0aW9uIHBnKHQsZSl7Y29uc3Qgbj10LmZpbHRlcih0PT5kZyh0KT09PWUpO3JldHVybiBuLnB1c2goLi4udC5maWx0ZXIodD0+ZGcodCkhPT1lKSksbn1jb25zdCBmZz17bWF0Y2hlZDohMSxjb25zdW1lZFNlZ21lbnRzOltdLGxhc3RDaGlsZDowLHBhcmFtZXRlcnM6e30scG9zaXRpb25hbFBhcmFtU2VnbWVudHM6e319O2Z1bmN0aW9uIGdnKHQsZSxuKXt2YXIgcjtpZigiIj09PWUucGF0aClyZXR1cm4iZnVsbCI9PT1lLnBhdGhNYXRjaCYmKHQuaGFzQ2hpbGRyZW4oKXx8bi5sZW5ndGg+MCk/T2JqZWN0LmFzc2lnbih7fSxmZyk6e21hdGNoZWQ6ITAsY29uc3VtZWRTZWdtZW50czpbXSxsYXN0Q2hpbGQ6MCxwYXJhbWV0ZXJzOnt9LHBvc2l0aW9uYWxQYXJhbVNlZ21lbnRzOnt9fTtjb25zdCBzPShlLm1hdGNoZXJ8fFdwKShuLHQsZSk7aWYoIXMpcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZmcpO2NvbnN0IGk9e307WnAocy5wb3NQYXJhbXMsKHQsZSk9PntpW2VdPXQucGF0aH0pO2NvbnN0IG89cy5jb25zdW1lZC5sZW5ndGg+MD9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30saSkscy5jb25zdW1lZFtzLmNvbnN1bWVkLmxlbmd0aC0xXS5wYXJhbWV0ZXJzKTppO3JldHVybnttYXRjaGVkOiEwLGNvbnN1bWVkU2VnbWVudHM6cy5jb25zdW1lZCxsYXN0Q2hpbGQ6cy5jb25zdW1lZC5sZW5ndGgscGFyYW1ldGVyczpvLHBvc2l0aW9uYWxQYXJhbVNlZ21lbnRzOm51bGwhPT0ocj1zLnBvc1BhcmFtcykmJnZvaWQgMCE9PXI/cjp7fX19ZnVuY3Rpb24gbWcodCxlLG4scixzPSJjb3JyZWN0ZWQiKXtpZihuLmxlbmd0aD4wJiZmdW5jdGlvbih0LGUsbil7cmV0dXJuIG4uc29tZShuPT55Zyh0LGUsbikmJmRnKG4pIT09VnApfSh0LG4scikpe2NvbnN0IHM9bmV3IG9mKGUsZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz17fTtzLnByaW1hcnk9cixyLl9zb3VyY2VTZWdtZW50PXQsci5fc2VnbWVudEluZGV4U2hpZnQ9ZS5sZW5ndGg7Zm9yKGNvbnN0IGkgb2YgbilpZigiIj09PWkucGF0aCYmZGcoaSkhPT1WcCl7Y29uc3Qgbj1uZXcgb2YoW10se30pO24uX3NvdXJjZVNlZ21lbnQ9dCxuLl9zZWdtZW50SW5kZXhTaGlmdD1lLmxlbmd0aCxzW2RnKGkpXT1ufXJldHVybiBzfSh0LGUscixuZXcgb2Yobix0LmNoaWxkcmVuKSkpO3JldHVybiBzLl9zb3VyY2VTZWdtZW50PXQscy5fc2VnbWVudEluZGV4U2hpZnQ9ZS5sZW5ndGgse3NlZ21lbnRHcm91cDpzLHNsaWNlZFNlZ21lbnRzOltdfX1pZigwPT09bi5sZW5ndGgmJmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbi5zb21lKG49PnlnKHQsZSxuKSl9KHQsbixyKSl7Y29uc3QgaT1uZXcgb2YodC5zZWdtZW50cyxmdW5jdGlvbih0LGUsbixyLHMsaSl7Y29uc3Qgbz17fTtmb3IoY29uc3QgYSBvZiByKWlmKHlnKHQsbixhKSYmIXNbZGcoYSldKXtjb25zdCBuPW5ldyBvZihbXSx7fSk7bi5fc291cmNlU2VnbWVudD10LG4uX3NlZ21lbnRJbmRleFNoaWZ0PSJsZWdhY3kiPT09aT90LnNlZ21lbnRzLmxlbmd0aDplLmxlbmd0aCxvW2RnKGEpXT1ufXJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scyksbyl9KHQsZSxuLHIsdC5jaGlsZHJlbixzKSk7cmV0dXJuIGkuX3NvdXJjZVNlZ21lbnQ9dCxpLl9zZWdtZW50SW5kZXhTaGlmdD1lLmxlbmd0aCx7c2VnbWVudEdyb3VwOmksc2xpY2VkU2VnbWVudHM6bn19Y29uc3QgaT1uZXcgb2YodC5zZWdtZW50cyx0LmNoaWxkcmVuKTtyZXR1cm4gaS5fc291cmNlU2VnbWVudD10LGkuX3NlZ21lbnRJbmRleFNoaWZ0PWUubGVuZ3RoLHtzZWdtZW50R3JvdXA6aSxzbGljZWRTZWdtZW50czpufX1mdW5jdGlvbiB5Zyh0LGUsbil7cmV0dXJuKCEodC5oYXNDaGlsZHJlbigpfHxlLmxlbmd0aD4wKXx8ImZ1bGwiIT09bi5wYXRoTWF0Y2gpJiYiIj09PW4ucGF0aH1mdW5jdGlvbiB2Zyh0LGUsbixyKXtyZXR1cm4hIShkZyh0KT09PXJ8fHIhPT1WcCYmeWcoZSxuLHQpKSYmKCIqKiI9PT10LnBhdGh8fGdnKGUsdCxuKS5tYXRjaGVkKX1mdW5jdGlvbiBiZyh0LGUsbil7cmV0dXJuIDA9PT1lLmxlbmd0aCYmIXQuY2hpbGRyZW5bbl19Y2xhc3MgQ2d7Y29uc3RydWN0b3IodCl7dGhpcy5zZWdtZW50R3JvdXA9dHx8bnVsbH19Y2xhc3Mgd2d7Y29uc3RydWN0b3IodCl7dGhpcy51cmxUcmVlPXR9fWZ1bmN0aW9uIF9nKHQpe3JldHVybiBuZXcgdihlPT5lLmVycm9yKG5ldyBDZyh0KSkpfWZ1bmN0aW9uIERnKHQpe3JldHVybiBuZXcgdihlPT5lLmVycm9yKG5ldyB3Zyh0KSkpfWZ1bmN0aW9uIEVnKHQpe3JldHVybiBuZXcgdihlPT5lLmVycm9yKG5ldyBFcnJvcihgT25seSBhYnNvbHV0ZSByZWRpcmVjdHMgY2FuIGhhdmUgbmFtZWQgb3V0bGV0cy4gcmVkaXJlY3RUbzogJyR7dH0nYCkpKX1jbGFzcyBTZ3tjb25zdHJ1Y3Rvcih0LGUsbixyLHMpe3RoaXMuY29uZmlnTG9hZGVyPWUsdGhpcy51cmxTZXJpYWxpemVyPW4sdGhpcy51cmxUcmVlPXIsdGhpcy5jb25maWc9cyx0aGlzLmFsbG93UmVkaXJlY3RzPSEwLHRoaXMubmdNb2R1bGU9dC5nZXQoYWMpfWFwcGx5KCl7Y29uc3QgdD1tZyh0aGlzLnVybFRyZWUucm9vdCxbXSxbXSx0aGlzLmNvbmZpZykuc2VnbWVudEdyb3VwLGU9bmV3IG9mKHQuc2VnbWVudHMsdC5jaGlsZHJlbik7cmV0dXJuIHRoaXMuZXhwYW5kU2VnbWVudEdyb3VwKHRoaXMubmdNb2R1bGUsdGhpcy5jb25maWcsZSxWcCkucGlwZSh4KHQ9PnRoaXMuY3JlYXRlVXJsVHJlZSh4Zyh0KSx0aGlzLnVybFRyZWUucXVlcnlQYXJhbXMsdGhpcy51cmxUcmVlLmZyYWdtZW50KSkpLnBpcGUocnAodD0+e2lmKHQgaW5zdGFuY2VvZiB3ZylyZXR1cm4gdGhpcy5hbGxvd1JlZGlyZWN0cz0hMSx0aGlzLm1hdGNoKHQudXJsVHJlZSk7aWYodCBpbnN0YW5jZW9mIENnKXRocm93IHRoaXMubm9NYXRjaEVycm9yKHQpO3Rocm93IHR9KSl9bWF0Y2godCl7cmV0dXJuIHRoaXMuZXhwYW5kU2VnbWVudEdyb3VwKHRoaXMubmdNb2R1bGUsdGhpcy5jb25maWcsdC5yb290LFZwKS5waXBlKHgoZT0+dGhpcy5jcmVhdGVVcmxUcmVlKHhnKGUpLHQucXVlcnlQYXJhbXMsdC5mcmFnbWVudCkpKS5waXBlKHJwKHQ9PntpZih0IGluc3RhbmNlb2YgQ2cpdGhyb3cgdGhpcy5ub01hdGNoRXJyb3IodCk7dGhyb3cgdH0pKX1ub01hdGNoRXJyb3IodCl7cmV0dXJuIG5ldyBFcnJvcihgQ2Fubm90IG1hdGNoIGFueSByb3V0ZXMuIFVSTCBTZWdtZW50OiAnJHt0LnNlZ21lbnRHcm91cH0nYCl9Y3JlYXRlVXJsVHJlZSh0LGUsbil7Y29uc3Qgcj10LnNlZ21lbnRzLmxlbmd0aD4wP25ldyBvZihbXSx7W1ZwXTp0fSk6dDtyZXR1cm4gbmV3IHNmKHIsZSxuKX1leHBhbmRTZWdtZW50R3JvdXAodCxlLG4scil7cmV0dXJuIDA9PT1uLnNlZ21lbnRzLmxlbmd0aCYmbi5oYXNDaGlsZHJlbigpP3RoaXMuZXhwYW5kQ2hpbGRyZW4odCxlLG4pLnBpcGUoeCh0PT5uZXcgb2YoW10sdCkpKTp0aGlzLmV4cGFuZFNlZ21lbnQodCxuLGUsbi5zZWdtZW50cyxyLCEwKX1leHBhbmRDaGlsZHJlbih0LGUsbil7Y29uc3Qgcj1bXTtmb3IoY29uc3QgcyBvZiBPYmplY3Qua2V5cyhuLmNoaWxkcmVuKSkicHJpbWFyeSI9PT1zP3IudW5zaGlmdChzKTpyLnB1c2gocyk7cmV0dXJuIEIocikucGlwZShvcChyPT57Y29uc3Qgcz1uLmNoaWxkcmVuW3JdLGk9cGcoZSxyKTtyZXR1cm4gdGhpcy5leHBhbmRTZWdtZW50R3JvdXAodCxpLHMscikucGlwZSh4KHQ9Pih7c2VnbWVudDp0LG91dGxldDpyfSkpKX0pLFFkKCh0LGUpPT4odFtlLm91dGxldF09ZS5zZWdtZW50LHQpLHt9KSxmdW5jdGlvbih0LGUpe2NvbnN0IG49YXJndW1lbnRzLmxlbmd0aD49MjtyZXR1cm4gcj0+ci5waXBlKHQ/dHAoKGUsbik9PnQoZSxuLHIpKTp5LGFwKDEpLG4/ZnAoZSk6dXAoKCk9Pm5ldyBVZCkpfSgpKX1leHBhbmRTZWdtZW50KHQsZSxuLHIscyxpKXtyZXR1cm4gQihuKS5waXBlKG9wKG89PnRoaXMuZXhwYW5kU2VnbWVudEFnYWluc3RSb3V0ZSh0LGUsbixvLHIscyxpKS5waXBlKHJwKHQ9PntpZih0IGluc3RhbmNlb2YgQ2cpcmV0dXJuIGhkKG51bGwpO3Rocm93IHR9KSkpLHlwKHQ9PiEhdCkscnAoKHQsbik9PntpZih0IGluc3RhbmNlb2YgVWR8fCJFbXB0eUVycm9yIj09PXQubmFtZSl7aWYoYmcoZSxyLHMpKXJldHVybiBoZChuZXcgb2YoW10se30pKTt0aHJvdyBuZXcgQ2coZSl9dGhyb3cgdH0pKX1leHBhbmRTZWdtZW50QWdhaW5zdFJvdXRlKHQsZSxuLHIscyxpLG8pe3JldHVybiB2ZyhyLGUscyxpKT92b2lkIDA9PT1yLnJlZGlyZWN0VG8/dGhpcy5tYXRjaFNlZ21lbnRBZ2FpbnN0Um91dGUodCxlLHIscyxpKTpvJiZ0aGlzLmFsbG93UmVkaXJlY3RzP3RoaXMuZXhwYW5kU2VnbWVudEFnYWluc3RSb3V0ZVVzaW5nUmVkaXJlY3QodCxlLG4scixzLGkpOl9nKGUpOl9nKGUpfWV4cGFuZFNlZ21lbnRBZ2FpbnN0Um91dGVVc2luZ1JlZGlyZWN0KHQsZSxuLHIscyxpKXtyZXR1cm4iKioiPT09ci5wYXRoP3RoaXMuZXhwYW5kV2lsZENhcmRXaXRoUGFyYW1zQWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdCh0LG4scixpKTp0aGlzLmV4cGFuZFJlZ3VsYXJTZWdtZW50QWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdCh0LGUsbixyLHMsaSl9ZXhwYW5kV2lsZENhcmRXaXRoUGFyYW1zQWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdCh0LGUsbixyKXtjb25zdCBzPXRoaXMuYXBwbHlSZWRpcmVjdENvbW1hbmRzKFtdLG4ucmVkaXJlY3RUbyx7fSk7cmV0dXJuIG4ucmVkaXJlY3RUby5zdGFydHNXaXRoKCIvIik/RGcocyk6dGhpcy5saW5lcmFsaXplU2VnbWVudHMobixzKS5waXBlKEgobj0+e2NvbnN0IHM9bmV3IG9mKG4se30pO3JldHVybiB0aGlzLmV4cGFuZFNlZ21lbnQodCxzLGUsbixyLCExKX0pKX1leHBhbmRSZWd1bGFyU2VnbWVudEFnYWluc3RSb3V0ZVVzaW5nUmVkaXJlY3QodCxlLG4scixzLGkpe2NvbnN0e21hdGNoZWQ6byxjb25zdW1lZFNlZ21lbnRzOmEsbGFzdENoaWxkOmMscG9zaXRpb25hbFBhcmFtU2VnbWVudHM6bH09Z2coZSxyLHMpO2lmKCFvKXJldHVybiBfZyhlKTtjb25zdCB1PXRoaXMuYXBwbHlSZWRpcmVjdENvbW1hbmRzKGEsci5yZWRpcmVjdFRvLGwpO3JldHVybiByLnJlZGlyZWN0VG8uc3RhcnRzV2l0aCgiLyIpP0RnKHUpOnRoaXMubGluZXJhbGl6ZVNlZ21lbnRzKHIsdSkucGlwZShIKHI9PnRoaXMuZXhwYW5kU2VnbWVudCh0LGUsbixyLmNvbmNhdChzLnNsaWNlKGMpKSxpLCExKSkpfW1hdGNoU2VnbWVudEFnYWluc3RSb3V0ZSh0LGUsbixyLHMpe2lmKCIqKiI9PT1uLnBhdGgpcmV0dXJuIG4ubG9hZENoaWxkcmVuPyhuLl9sb2FkZWRDb25maWc/aGQobi5fbG9hZGVkQ29uZmlnKTp0aGlzLmNvbmZpZ0xvYWRlci5sb2FkKHQuaW5qZWN0b3IsbikpLnBpcGUoeCh0PT4obi5fbG9hZGVkQ29uZmlnPXQsbmV3IG9mKHIse30pKSkpOmhkKG5ldyBvZihyLHt9KSk7Y29uc3R7bWF0Y2hlZDppLGNvbnN1bWVkU2VnbWVudHM6byxsYXN0Q2hpbGQ6YX09Z2coZSxuLHIpO2lmKCFpKXJldHVybiBfZyhlKTtjb25zdCBjPXIuc2xpY2UoYSk7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb25maWcodCxuLHIpLnBpcGUoSCh0PT57Y29uc3Qgcj10Lm1vZHVsZSxpPXQucm91dGVzLHtzZWdtZW50R3JvdXA6YSxzbGljZWRTZWdtZW50czpsfT1tZyhlLG8sYyxpKSx1PW5ldyBvZihhLnNlZ21lbnRzLGEuY2hpbGRyZW4pO2lmKDA9PT1sLmxlbmd0aCYmdS5oYXNDaGlsZHJlbigpKXJldHVybiB0aGlzLmV4cGFuZENoaWxkcmVuKHIsaSx1KS5waXBlKHgodD0+bmV3IG9mKG8sdCkpKTtpZigwPT09aS5sZW5ndGgmJjA9PT1sLmxlbmd0aClyZXR1cm4gaGQobmV3IG9mKG8se30pKTtjb25zdCBoPWRnKG4pPT09cztyZXR1cm4gdGhpcy5leHBhbmRTZWdtZW50KHIsdSxpLGwsaD9WcDpzLCEwKS5waXBlKHgodD0+bmV3IG9mKG8uY29uY2F0KHQuc2VnbWVudHMpLHQuY2hpbGRyZW4pKSl9KSl9Z2V0Q2hpbGRDb25maWcodCxlLG4pe3JldHVybiBlLmNoaWxkcmVuP2hkKG5ldyBuZyhlLmNoaWxkcmVuLHQpKTplLmxvYWRDaGlsZHJlbj92b2lkIDAhPT1lLl9sb2FkZWRDb25maWc/aGQoZS5fbG9hZGVkQ29uZmlnKTp0aGlzLnJ1bkNhbkxvYWRHdWFyZHModC5pbmplY3RvcixlLG4pLnBpcGUoSChuPT5uP3RoaXMuY29uZmlnTG9hZGVyLmxvYWQodC5pbmplY3RvcixlKS5waXBlKHgodD0+KGUuX2xvYWRlZENvbmZpZz10LHQpKSk6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB2KGU9PmUuZXJyb3IoVXAoYENhbm5vdCBsb2FkIGNoaWxkcmVuIGJlY2F1c2UgdGhlIGd1YXJkIG9mIHRoZSByb3V0ZSAicGF0aDogJyR7dC5wYXRofSciIHJldHVybmVkIGZhbHNlYCkpKX0oZSkpKTpoZChuZXcgbmcoW10sdCkpfXJ1bkNhbkxvYWRHdWFyZHModCxlLG4pe2NvbnN0IHI9ZS5jYW5Mb2FkO3JldHVybiByJiYwIT09ci5sZW5ndGg/aGQoci5tYXAocj0+e2NvbnN0IHM9dC5nZXQocik7bGV0IGk7aWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnJnKHQuY2FuTG9hZCl9KHMpKWk9cy5jYW5Mb2FkKGUsbik7ZWxzZXtpZighcmcocykpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIENhbkxvYWQgZ3VhcmQiKTtpPXMoZSxuKX1yZXR1cm4gUXAoaSl9KSkucGlwZShvZygpLGJwKHQ9PntpZighc2codCkpcmV0dXJuO2NvbnN0IGU9VXAoYFJlZGlyZWN0aW5nIHRvICIke3RoaXMudXJsU2VyaWFsaXplci5zZXJpYWxpemUodCl9ImApO3Rocm93IGUudXJsPXQsZX0pLHgodD0+ITA9PT10KSk6aGQoITApfWxpbmVyYWxpemVTZWdtZW50cyh0LGUpe2xldCBuPVtdLHI9ZS5yb290O2Zvcig7Oyl7aWYobj1uLmNvbmNhdChyLnNlZ21lbnRzKSwwPT09ci5udW1iZXJPZkNoaWxkcmVuKXJldHVybiBoZChuKTtpZihyLm51bWJlck9mQ2hpbGRyZW4+MXx8IXIuY2hpbGRyZW4ucHJpbWFyeSlyZXR1cm4gRWcodC5yZWRpcmVjdFRvKTtyPXIuY2hpbGRyZW4ucHJpbWFyeX19YXBwbHlSZWRpcmVjdENvbW1hbmRzKHQsZSxuKXtyZXR1cm4gdGhpcy5hcHBseVJlZGlyZWN0Q3JlYXRyZVVybFRyZWUoZSx0aGlzLnVybFNlcmlhbGl6ZXIucGFyc2UoZSksdCxuKX1hcHBseVJlZGlyZWN0Q3JlYXRyZVVybFRyZWUodCxlLG4scil7Y29uc3Qgcz10aGlzLmNyZWF0ZVNlZ21lbnRHcm91cCh0LGUucm9vdCxuLHIpO3JldHVybiBuZXcgc2Yocyx0aGlzLmNyZWF0ZVF1ZXJ5UGFyYW1zKGUucXVlcnlQYXJhbXMsdGhpcy51cmxUcmVlLnF1ZXJ5UGFyYW1zKSxlLmZyYWdtZW50KX1jcmVhdGVRdWVyeVBhcmFtcyh0LGUpe2NvbnN0IG49e307cmV0dXJuIFpwKHQsKHQscik9PntpZigic3RyaW5nIj09dHlwZW9mIHQmJnQuc3RhcnRzV2l0aCgiOiIpKXtjb25zdCBzPXQuc3Vic3RyaW5nKDEpO25bcl09ZVtzXX1lbHNlIG5bcl09dH0pLG59Y3JlYXRlU2VnbWVudEdyb3VwKHQsZSxuLHIpe2NvbnN0IHM9dGhpcy5jcmVhdGVTZWdtZW50cyh0LGUuc2VnbWVudHMsbixyKTtsZXQgaT17fTtyZXR1cm4gWnAoZS5jaGlsZHJlbiwoZSxzKT0+e2lbc109dGhpcy5jcmVhdGVTZWdtZW50R3JvdXAodCxlLG4scil9KSxuZXcgb2YocyxpKX1jcmVhdGVTZWdtZW50cyh0LGUsbixyKXtyZXR1cm4gZS5tYXAoZT0+ZS5wYXRoLnN0YXJ0c1dpdGgoIjoiKT90aGlzLmZpbmRQb3NQYXJhbSh0LGUscik6dGhpcy5maW5kT3JSZXR1cm4oZSxuKSl9ZmluZFBvc1BhcmFtKHQsZSxuKXtjb25zdCByPW5bZS5wYXRoLnN1YnN0cmluZygxKV07aWYoIXIpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcmVkaXJlY3QgdG8gJyR7dH0nLiBDYW5ub3QgZmluZCAnJHtlLnBhdGh9Jy5gKTtyZXR1cm4gcn1maW5kT3JSZXR1cm4odCxlKXtsZXQgbj0wO2Zvcihjb25zdCByIG9mIGUpe2lmKHIucGF0aD09PXQucGF0aClyZXR1cm4gZS5zcGxpY2UobikscjtuKyt9cmV0dXJuIHR9fWZ1bmN0aW9uIHhnKHQpe2NvbnN0IGU9e307Zm9yKGNvbnN0IG4gb2YgT2JqZWN0LmtleXModC5jaGlsZHJlbikpe2NvbnN0IHI9eGcodC5jaGlsZHJlbltuXSk7KHIuc2VnbWVudHMubGVuZ3RoPjB8fHIuaGFzQ2hpbGRyZW4oKSkmJihlW25dPXIpfXJldHVybiBmdW5jdGlvbih0KXtpZigxPT09dC5udW1iZXJPZkNoaWxkcmVuJiZ0LmNoaWxkcmVuLnByaW1hcnkpe2NvbnN0IGU9dC5jaGlsZHJlbi5wcmltYXJ5O3JldHVybiBuZXcgb2YodC5zZWdtZW50cy5jb25jYXQoZS5zZWdtZW50cyksZS5jaGlsZHJlbil9cmV0dXJuIHR9KG5ldyBvZih0LnNlZ21lbnRzLGUpKX1jbGFzcyBBZ3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnBhdGg9dCx0aGlzLnJvdXRlPXRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdfX1jbGFzcyBUZ3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuY29tcG9uZW50PXQsdGhpcy5yb3V0ZT1lfX1mdW5jdGlvbiBrZyh0LGUsbil7Y29uc3Qgcj10Ll9yb290O3JldHVybiBJZyhyLGU/ZS5fcm9vdDpudWxsLG4sW3IudmFsdWVdKX1mdW5jdGlvbiBGZyh0LGUsbil7Y29uc3Qgcj1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gbnVsbDtmb3IobGV0IGU9dC5wYXJlbnQ7ZTtlPWUucGFyZW50KXtjb25zdCB0PWUucm91dGVDb25maWc7aWYodCYmdC5fbG9hZGVkQ29uZmlnKXJldHVybiB0Ll9sb2FkZWRDb25maWd9cmV0dXJuIG51bGx9KGUpO3JldHVybihyP3IubW9kdWxlLmluamVjdG9yOm4pLmdldCh0KX1mdW5jdGlvbiBJZyh0LGUsbixyLHM9e2NhbkRlYWN0aXZhdGVDaGVja3M6W10sY2FuQWN0aXZhdGVDaGVja3M6W119KXtjb25zdCBpPWtmKGUpO3JldHVybiB0LmNoaWxkcmVuLmZvckVhY2godD0+eyFmdW5jdGlvbih0LGUsbixyLHM9e2NhbkRlYWN0aXZhdGVDaGVja3M6W10sY2FuQWN0aXZhdGVDaGVja3M6W119KXtjb25zdCBpPXQudmFsdWUsbz1lP2UudmFsdWU6bnVsbCxhPW4/bi5nZXRDb250ZXh0KHQudmFsdWUub3V0bGV0KTpudWxsO2lmKG8mJmkucm91dGVDb25maWc9PT1vLnJvdXRlQ29uZmlnKXtjb25zdCBjPWZ1bmN0aW9uKHQsZSxuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgbilyZXR1cm4gbih0LGUpO3N3aXRjaChuKXtjYXNlInBhdGhQYXJhbXNDaGFuZ2UiOnJldHVybiFjZih0LnVybCxlLnVybCk7Y2FzZSJwYXRoUGFyYW1zT3JRdWVyeVBhcmFtc0NoYW5nZSI6cmV0dXJuIWNmKHQudXJsLGUudXJsKXx8IUdwKHQucXVlcnlQYXJhbXMsZS5xdWVyeVBhcmFtcyk7Y2FzZSJhbHdheXMiOnJldHVybiEwO2Nhc2UicGFyYW1zT3JRdWVyeVBhcmFtc0NoYW5nZSI6cmV0dXJuIU5mKHQsZSl8fCFHcCh0LnF1ZXJ5UGFyYW1zLGUucXVlcnlQYXJhbXMpO2Nhc2UicGFyYW1zQ2hhbmdlIjpkZWZhdWx0OnJldHVybiFOZih0LGUpfX0obyxpLGkucm91dGVDb25maWcucnVuR3VhcmRzQW5kUmVzb2x2ZXJzKTtjP3MuY2FuQWN0aXZhdGVDaGVja3MucHVzaChuZXcgQWcocikpOihpLmRhdGE9by5kYXRhLGkuX3Jlc29sdmVkRGF0YT1vLl9yZXNvbHZlZERhdGEpLElnKHQsZSxpLmNvbXBvbmVudD9hP2EuY2hpbGRyZW46bnVsbDpuLHIscyksYyYmYSYmYS5vdXRsZXQmJmEub3V0bGV0LmlzQWN0aXZhdGVkJiZzLmNhbkRlYWN0aXZhdGVDaGVja3MucHVzaChuZXcgVGcoYS5vdXRsZXQuY29tcG9uZW50LG8pKX1lbHNlIG8mJk9nKGUsYSxzKSxzLmNhbkFjdGl2YXRlQ2hlY2tzLnB1c2gobmV3IEFnKHIpKSxJZyh0LG51bGwsaS5jb21wb25lbnQ/YT9hLmNoaWxkcmVuOm51bGw6bixyLHMpfSh0LGlbdC52YWx1ZS5vdXRsZXRdLG4sci5jb25jYXQoW3QudmFsdWVdKSxzKSxkZWxldGUgaVt0LnZhbHVlLm91dGxldF19KSxacChpLCh0LGUpPT5PZyh0LG4uZ2V0Q29udGV4dChlKSxzKSksc31mdW5jdGlvbiBPZyh0LGUsbil7Y29uc3Qgcj1rZih0KSxzPXQudmFsdWU7WnAociwodCxyKT0+e09nKHQscy5jb21wb25lbnQ/ZT9lLmNoaWxkcmVuLmdldENvbnRleHQocik6bnVsbDplLG4pfSksbi5jYW5EZWFjdGl2YXRlQ2hlY2tzLnB1c2gobmV3IFRnKHMuY29tcG9uZW50JiZlJiZlLm91dGxldCYmZS5vdXRsZXQuaXNBY3RpdmF0ZWQ/ZS5vdXRsZXQuY29tcG9uZW50Om51bGwscykpfWNsYXNzIFBne31mdW5jdGlvbiBSZyh0KXtyZXR1cm4gbmV3IHYoZT0+ZS5lcnJvcih0KSl9Y2xhc3MgTGd7Y29uc3RydWN0b3IodCxlLG4scixzLGkpe3RoaXMucm9vdENvbXBvbmVudFR5cGU9dCx0aGlzLmNvbmZpZz1lLHRoaXMudXJsVHJlZT1uLHRoaXMudXJsPXIsdGhpcy5wYXJhbXNJbmhlcml0YW5jZVN0cmF0ZWd5PXMsdGhpcy5yZWxhdGl2ZUxpbmtSZXNvbHV0aW9uPWl9cmVjb2duaXplKCl7Y29uc3QgdD1tZyh0aGlzLnVybFRyZWUucm9vdCxbXSxbXSx0aGlzLmNvbmZpZy5maWx0ZXIodD0+dm9pZCAwPT09dC5yZWRpcmVjdFRvKSx0aGlzLnJlbGF0aXZlTGlua1Jlc29sdXRpb24pLnNlZ21lbnRHcm91cCxlPXRoaXMucHJvY2Vzc1NlZ21lbnRHcm91cCh0aGlzLmNvbmZpZyx0LFZwKTtpZihudWxsPT09ZSlyZXR1cm4gbnVsbDtjb25zdCBuPW5ldyBSZihbXSxPYmplY3QuZnJlZXplKHt9KSxPYmplY3QuZnJlZXplKE9iamVjdC5hc3NpZ24oe30sdGhpcy51cmxUcmVlLnF1ZXJ5UGFyYW1zKSksdGhpcy51cmxUcmVlLmZyYWdtZW50LHt9LFZwLHRoaXMucm9vdENvbXBvbmVudFR5cGUsbnVsbCx0aGlzLnVybFRyZWUucm9vdCwtMSx7fSkscj1uZXcgVGYobixlKSxzPW5ldyBMZih0aGlzLnVybCxyKTtyZXR1cm4gdGhpcy5pbmhlcml0UGFyYW1zQW5kRGF0YShzLl9yb290KSxzfWluaGVyaXRQYXJhbXNBbmREYXRhKHQpe2NvbnN0IGU9dC52YWx1ZSxuPVBmKGUsdGhpcy5wYXJhbXNJbmhlcml0YW5jZVN0cmF0ZWd5KTtlLnBhcmFtcz1PYmplY3QuZnJlZXplKG4ucGFyYW1zKSxlLmRhdGE9T2JqZWN0LmZyZWV6ZShuLmRhdGEpLHQuY2hpbGRyZW4uZm9yRWFjaCh0PT50aGlzLmluaGVyaXRQYXJhbXNBbmREYXRhKHQpKX1wcm9jZXNzU2VnbWVudEdyb3VwKHQsZSxuKXtyZXR1cm4gMD09PWUuc2VnbWVudHMubGVuZ3RoJiZlLmhhc0NoaWxkcmVuKCk/dGhpcy5wcm9jZXNzQ2hpbGRyZW4odCxlKTp0aGlzLnByb2Nlc3NTZWdtZW50KHQsZSxlLnNlZ21lbnRzLG4pfXByb2Nlc3NDaGlsZHJlbih0LGUpe2NvbnN0IG49W107Zm9yKGNvbnN0IHMgb2YgT2JqZWN0LmtleXMoZS5jaGlsZHJlbikpe2NvbnN0IHI9ZS5jaGlsZHJlbltzXSxpPXBnKHQscyksbz10aGlzLnByb2Nlc3NTZWdtZW50R3JvdXAoaSxyLHMpO2lmKG51bGw9PT1vKXJldHVybiBudWxsO24ucHVzaCguLi5vKX1jb25zdCByPWpnKG4pO3JldHVybiByLnNvcnQoKHQsZSk9PnQudmFsdWUub3V0bGV0PT09VnA/LTE6ZS52YWx1ZS5vdXRsZXQ9PT1WcD8xOnQudmFsdWUub3V0bGV0LmxvY2FsZUNvbXBhcmUoZS52YWx1ZS5vdXRsZXQpKSxyfXByb2Nlc3NTZWdtZW50KHQsZSxuLHIpe2Zvcihjb25zdCBzIG9mIHQpe2NvbnN0IHQ9dGhpcy5wcm9jZXNzU2VnbWVudEFnYWluc3RSb3V0ZShzLGUsbixyKTtpZihudWxsIT09dClyZXR1cm4gdH1yZXR1cm4gYmcoZSxuLHIpP1tdOm51bGx9cHJvY2Vzc1NlZ21lbnRBZ2FpbnN0Um91dGUodCxlLG4scil7aWYodC5yZWRpcmVjdFRvfHwhdmcodCxlLG4scikpcmV0dXJuIG51bGw7bGV0IHMsaT1bXSxvPVtdO2lmKCIqKiI9PT10LnBhdGgpe2NvbnN0IHI9bi5sZW5ndGg+MD9ZcChuKS5wYXJhbWV0ZXJzOnt9O3M9bmV3IFJmKG4scixPYmplY3QuZnJlZXplKE9iamVjdC5hc3NpZ24oe30sdGhpcy51cmxUcmVlLnF1ZXJ5UGFyYW1zKSksdGhpcy51cmxUcmVlLmZyYWdtZW50LEhnKHQpLGRnKHQpLHQuY29tcG9uZW50LHQsTWcoZSksTmcoZSkrbi5sZW5ndGgsVmcodCkpfWVsc2V7Y29uc3Qgcj1nZyhlLHQsbik7aWYoIXIubWF0Y2hlZClyZXR1cm4gbnVsbDtpPXIuY29uc3VtZWRTZWdtZW50cyxvPW4uc2xpY2Uoci5sYXN0Q2hpbGQpLHM9bmV3IFJmKGksci5wYXJhbWV0ZXJzLE9iamVjdC5mcmVlemUoT2JqZWN0LmFzc2lnbih7fSx0aGlzLnVybFRyZWUucXVlcnlQYXJhbXMpKSx0aGlzLnVybFRyZWUuZnJhZ21lbnQsSGcodCksZGcodCksdC5jb21wb25lbnQsdCxNZyhlKSxOZyhlKStpLmxlbmd0aCxWZyh0KSl9Y29uc3QgYT1mdW5jdGlvbih0KXtyZXR1cm4gdC5jaGlsZHJlbj90LmNoaWxkcmVuOnQubG9hZENoaWxkcmVuP3QuX2xvYWRlZENvbmZpZy5yb3V0ZXM6W119KHQpLHtzZWdtZW50R3JvdXA6YyxzbGljZWRTZWdtZW50czpsfT1tZyhlLGksbyxhLmZpbHRlcih0PT52b2lkIDA9PT10LnJlZGlyZWN0VG8pLHRoaXMucmVsYXRpdmVMaW5rUmVzb2x1dGlvbik7aWYoMD09PWwubGVuZ3RoJiZjLmhhc0NoaWxkcmVuKCkpe2NvbnN0IHQ9dGhpcy5wcm9jZXNzQ2hpbGRyZW4oYSxjKTtyZXR1cm4gbnVsbD09PXQ/bnVsbDpbbmV3IFRmKHMsdCldfWlmKDA9PT1hLmxlbmd0aCYmMD09PWwubGVuZ3RoKXJldHVybltuZXcgVGYocyxbXSldO2NvbnN0IHU9ZGcodCk9PT1yLGg9dGhpcy5wcm9jZXNzU2VnbWVudChhLGMsbCx1P1ZwOnIpO3JldHVybiBudWxsPT09aD9udWxsOltuZXcgVGYocyxoKV19fWZ1bmN0aW9uIEJnKHQpe2NvbnN0IGU9dC52YWx1ZS5yb3V0ZUNvbmZpZztyZXR1cm4gZSYmIiI9PT1lLnBhdGgmJnZvaWQgMD09PWUucmVkaXJlY3RUb31mdW5jdGlvbiBqZyh0KXtjb25zdCBlPVtdLG49bmV3IFNldDtmb3IoY29uc3QgciBvZiB0KXtpZighQmcocikpe2UucHVzaChyKTtjb250aW51ZX1jb25zdCB0PWUuZmluZCh0PT5yLnZhbHVlLnJvdXRlQ29uZmlnPT09dC52YWx1ZS5yb3V0ZUNvbmZpZyk7dm9pZCAwIT09dD8odC5jaGlsZHJlbi5wdXNoKC4uLnIuY2hpbGRyZW4pLG4uYWRkKHQpKTplLnB1c2gocil9Zm9yKGNvbnN0IHIgb2Ygbil7Y29uc3QgdD1qZyhyLmNoaWxkcmVuKTtlLnB1c2gobmV3IFRmKHIudmFsdWUsdCkpfXJldHVybiBlLmZpbHRlcih0PT4hbi5oYXModCkpfWZ1bmN0aW9uIE1nKHQpe2xldCBlPXQ7Zm9yKDtlLl9zb3VyY2VTZWdtZW50OyllPWUuX3NvdXJjZVNlZ21lbnQ7cmV0dXJuIGV9ZnVuY3Rpb24gTmcodCl7bGV0IGU9dCxuPWUuX3NlZ21lbnRJbmRleFNoaWZ0P2UuX3NlZ21lbnRJbmRleFNoaWZ0OjA7Zm9yKDtlLl9zb3VyY2VTZWdtZW50OyllPWUuX3NvdXJjZVNlZ21lbnQsbis9ZS5fc2VnbWVudEluZGV4U2hpZnQ/ZS5fc2VnbWVudEluZGV4U2hpZnQ6MDtyZXR1cm4gbi0xfWZ1bmN0aW9uIEhnKHQpe3JldHVybiB0LmRhdGF8fHt9fWZ1bmN0aW9uIFZnKHQpe3JldHVybiB0LnJlc29sdmV8fHt9fWZ1bmN0aW9uIHpnKHQpe3JldHVybiBiZChlPT57Y29uc3Qgbj10KGUpO3JldHVybiBuP0IobikucGlwZSh4KCgpPT5lKSk6aGQoZSl9KX1jbGFzcyAkZyBleHRlbmRzIGNsYXNze3Nob3VsZERldGFjaCh0KXtyZXR1cm4hMX1zdG9yZSh0LGUpe31zaG91bGRBdHRhY2godCl7cmV0dXJuITF9cmV0cmlldmUodCl7cmV0dXJuIG51bGx9c2hvdWxkUmV1c2VSb3V0ZSh0LGUpe3JldHVybiB0LnJvdXRlQ29uZmlnPT09ZS5yb3V0ZUNvbmZpZ319e31jb25zdCBVZz1uZXcgR24oIlJPVVRFUyIpO2NsYXNzIFdne2NvbnN0cnVjdG9yKHQsZSxuLHIpe3RoaXMubG9hZGVyPXQsdGhpcy5jb21waWxlcj1lLHRoaXMub25Mb2FkU3RhcnRMaXN0ZW5lcj1uLHRoaXMub25Mb2FkRW5kTGlzdGVuZXI9cn1sb2FkKHQsZSl7aWYoZS5fbG9hZGVyJClyZXR1cm4gZS5fbG9hZGVyJDt0aGlzLm9uTG9hZFN0YXJ0TGlzdGVuZXImJnRoaXMub25Mb2FkU3RhcnRMaXN0ZW5lcihlKTtjb25zdCBuPXRoaXMubG9hZE1vZHVsZUZhY3RvcnkoZS5sb2FkQ2hpbGRyZW4pLnBpcGUoeChuPT57dGhpcy5vbkxvYWRFbmRMaXN0ZW5lciYmdGhpcy5vbkxvYWRFbmRMaXN0ZW5lcihlKTtjb25zdCByPW4uY3JlYXRlKHQpO3JldHVybiBuZXcgbmcoWHAoci5pbmplY3Rvci5nZXQoVWcsdm9pZCAwLEN0LlNlbGZ8Q3QuT3B0aW9uYWwpKS5tYXAoaGcpLHIpfSkscnAodD0+e3Rocm93IGUuX2xvYWRlciQ9dm9pZCAwLHR9KSk7cmV0dXJuIGUuX2xvYWRlciQ9bmV3IFkobiwoKT0+bmV3IEQpLnBpcGUoRygpKSxlLl9sb2FkZXIkfWxvYWRNb2R1bGVGYWN0b3J5KHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9CKHRoaXMubG9hZGVyLmxvYWQodCkpOlFwKHQoKSkucGlwZShIKHQ9PnQgaW5zdGFuY2VvZiBjYz9oZCh0KTpCKHRoaXMuY29tcGlsZXIuY29tcGlsZU1vZHVsZUFzeW5jKHQpKSkpfX1jbGFzcyBHZ3tjb25zdHJ1Y3Rvcigpe3RoaXMub3V0bGV0PW51bGwsdGhpcy5yb3V0ZT1udWxsLHRoaXMucmVzb2x2ZXI9bnVsbCx0aGlzLmNoaWxkcmVuPW5ldyBxZyx0aGlzLmF0dGFjaFJlZj1udWxsfX1jbGFzcyBxZ3tjb25zdHJ1Y3Rvcigpe3RoaXMuY29udGV4dHM9bmV3IE1hcH1vbkNoaWxkT3V0bGV0Q3JlYXRlZCh0LGUpe2NvbnN0IG49dGhpcy5nZXRPckNyZWF0ZUNvbnRleHQodCk7bi5vdXRsZXQ9ZSx0aGlzLmNvbnRleHRzLnNldCh0LG4pfW9uQ2hpbGRPdXRsZXREZXN0cm95ZWQodCl7Y29uc3QgZT10aGlzLmdldENvbnRleHQodCk7ZSYmKGUub3V0bGV0PW51bGwpfW9uT3V0bGV0RGVhY3RpdmF0ZWQoKXtjb25zdCB0PXRoaXMuY29udGV4dHM7cmV0dXJuIHRoaXMuY29udGV4dHM9bmV3IE1hcCx0fW9uT3V0bGV0UmVBdHRhY2hlZCh0KXt0aGlzLmNvbnRleHRzPXR9Z2V0T3JDcmVhdGVDb250ZXh0KHQpe2xldCBlPXRoaXMuZ2V0Q29udGV4dCh0KTtyZXR1cm4gZXx8KGU9bmV3IEdnLHRoaXMuY29udGV4dHMuc2V0KHQsZSkpLGV9Z2V0Q29udGV4dCh0KXtyZXR1cm4gdGhpcy5jb250ZXh0cy5nZXQodCl8fG51bGx9fWNsYXNzIFhne3Nob3VsZFByb2Nlc3NVcmwodCl7cmV0dXJuITB9ZXh0cmFjdCh0KXtyZXR1cm4gdH1tZXJnZSh0LGUpe3JldHVybiB0fX1mdW5jdGlvbiBZZyh0KXt0aHJvdyB0fWZ1bmN0aW9uIFpnKHQsZSxuKXtyZXR1cm4gZS5wYXJzZSgiLyIpfWZ1bmN0aW9uIFFnKHQsZSl7cmV0dXJuIGhkKG51bGwpfWNvbnN0IEtnPXtwYXRoczoiZXhhY3QiLGZyYWdtZW50OiJpZ25vcmVkIixtYXRyaXhQYXJhbXM6Imlnbm9yZWQiLHF1ZXJ5UGFyYW1zOiJleGFjdCJ9LEpnPXtwYXRoczoic3Vic2V0IixmcmFnbWVudDoiaWdub3JlZCIsbWF0cml4UGFyYW1zOiJpZ25vcmVkIixxdWVyeVBhcmFtczoic3Vic2V0In07bGV0IHRtPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4scixzLGksbyxhKXt0aGlzLnJvb3RDb21wb25lbnRUeXBlPXQsdGhpcy51cmxTZXJpYWxpemVyPWUsdGhpcy5yb290Q29udGV4dHM9bix0aGlzLmxvY2F0aW9uPXIsdGhpcy5jb25maWc9YSx0aGlzLmxhc3RTdWNjZXNzZnVsTmF2aWdhdGlvbj1udWxsLHRoaXMuY3VycmVudE5hdmlnYXRpb249bnVsbCx0aGlzLmRpc3Bvc2VkPSExLHRoaXMubGFzdExvY2F0aW9uQ2hhbmdlSW5mbz1udWxsLHRoaXMubmF2aWdhdGlvbklkPTAsdGhpcy5jdXJyZW50UGFnZUlkPTAsdGhpcy5pc05nWm9uZUVuYWJsZWQ9ITEsdGhpcy5ldmVudHM9bmV3IEQsdGhpcy5lcnJvckhhbmRsZXI9WWcsdGhpcy5tYWxmb3JtZWRVcmlFcnJvckhhbmRsZXI9WmcsdGhpcy5uYXZpZ2F0ZWQ9ITEsdGhpcy5sYXN0U3VjY2Vzc2Z1bElkPS0xLHRoaXMuaG9va3M9e2JlZm9yZVByZWFjdGl2YXRpb246UWcsYWZ0ZXJQcmVhY3RpdmF0aW9uOlFnfSx0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3k9bmV3IFhnLHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5PW5ldyAkZyx0aGlzLm9uU2FtZVVybE5hdmlnYXRpb249Imlnbm9yZSIsdGhpcy5wYXJhbXNJbmhlcml0YW5jZVN0cmF0ZWd5PSJlbXB0eU9ubHkiLHRoaXMudXJsVXBkYXRlU3RyYXRlZ3k9ImRlZmVycmVkIix0aGlzLnJlbGF0aXZlTGlua1Jlc29sdXRpb249ImNvcnJlY3RlZCIsdGhpcy5jYW5jZWxlZE5hdmlnYXRpb25SZXNvbHV0aW9uPSJyZXBsYWNlIix0aGlzLm5nTW9kdWxlPXMuZ2V0KGFjKSx0aGlzLmNvbnNvbGU9cy5nZXQodGwpO2NvbnN0IGM9cy5nZXQocGwpO3RoaXMuaXNOZ1pvbmVFbmFibGVkPWMgaW5zdGFuY2VvZiBwbCYmcGwuaXNJbkFuZ3VsYXJab25lKCksdGhpcy5yZXNldENvbmZpZyhhKSx0aGlzLmN1cnJlbnRVcmxUcmVlPW5ldyBzZihuZXcgb2YoW10se30pLHt9LG51bGwpLHRoaXMucmF3VXJsVHJlZT10aGlzLmN1cnJlbnRVcmxUcmVlLHRoaXMuYnJvd3NlclVybFRyZWU9dGhpcy5jdXJyZW50VXJsVHJlZSx0aGlzLmNvbmZpZ0xvYWRlcj1uZXcgV2coaSxvLHQ9PnRoaXMudHJpZ2dlckV2ZW50KG5ldyBScCh0KSksdD0+dGhpcy50cmlnZ2VyRXZlbnQobmV3IExwKHQpKSksdGhpcy5yb3V0ZXJTdGF0ZT1JZih0aGlzLmN1cnJlbnRVcmxUcmVlLHRoaXMucm9vdENvbXBvbmVudFR5cGUpLHRoaXMudHJhbnNpdGlvbnM9bmV3IGpkKHtpZDowLHRhcmdldFBhZ2VJZDowLGN1cnJlbnRVcmxUcmVlOnRoaXMuY3VycmVudFVybFRyZWUsY3VycmVudFJhd1VybDp0aGlzLmN1cnJlbnRVcmxUcmVlLGV4dHJhY3RlZFVybDp0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuZXh0cmFjdCh0aGlzLmN1cnJlbnRVcmxUcmVlKSx1cmxBZnRlclJlZGlyZWN0czp0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuZXh0cmFjdCh0aGlzLmN1cnJlbnRVcmxUcmVlKSxyYXdVcmw6dGhpcy5jdXJyZW50VXJsVHJlZSxleHRyYXM6e30scmVzb2x2ZTpudWxsLHJlamVjdDpudWxsLHByb21pc2U6UHJvbWlzZS5yZXNvbHZlKCEwKSxzb3VyY2U6ImltcGVyYXRpdmUiLHJlc3RvcmVkU3RhdGU6bnVsbCxjdXJyZW50U25hcHNob3Q6dGhpcy5yb3V0ZXJTdGF0ZS5zbmFwc2hvdCx0YXJnZXRTbmFwc2hvdDpudWxsLGN1cnJlbnRSb3V0ZXJTdGF0ZTp0aGlzLnJvdXRlclN0YXRlLHRhcmdldFJvdXRlclN0YXRlOm51bGwsZ3VhcmRzOntjYW5BY3RpdmF0ZUNoZWNrczpbXSxjYW5EZWFjdGl2YXRlQ2hlY2tzOltdfSxndWFyZHNSZXN1bHQ6bnVsbH0pLHRoaXMubmF2aWdhdGlvbnM9dGhpcy5zZXR1cE5hdmlnYXRpb25zKHRoaXMudHJhbnNpdGlvbnMpLHRoaXMucHJvY2Vzc05hdmlnYXRpb25zKCl9c2V0dXBOYXZpZ2F0aW9ucyh0KXtjb25zdCBlPXRoaXMuZXZlbnRzO3JldHVybiB0LnBpcGUodHAodD0+MCE9PXQuaWQpLHgodD0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHtleHRyYWN0ZWRVcmw6dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5LmV4dHJhY3QodC5yYXdVcmwpfSkpLGJkKHQ9PntsZXQgbj0hMSxyPSExO3JldHVybiBoZCh0KS5waXBlKGJwKHQ9Pnt0aGlzLmN1cnJlbnROYXZpZ2F0aW9uPXtpZDp0LmlkLGluaXRpYWxVcmw6dC5jdXJyZW50UmF3VXJsLGV4dHJhY3RlZFVybDp0LmV4dHJhY3RlZFVybCx0cmlnZ2VyOnQuc291cmNlLGV4dHJhczp0LmV4dHJhcyxwcmV2aW91c05hdmlnYXRpb246dGhpcy5sYXN0U3VjY2Vzc2Z1bE5hdmlnYXRpb24/T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMubGFzdFN1Y2Nlc3NmdWxOYXZpZ2F0aW9uKSx7cHJldmlvdXNOYXZpZ2F0aW9uOm51bGx9KTpudWxsfX0pLGJkKHQ9Pntjb25zdCBuPSF0aGlzLm5hdmlnYXRlZHx8dC5leHRyYWN0ZWRVcmwudG9TdHJpbmcoKSE9PXRoaXMuYnJvd3NlclVybFRyZWUudG9TdHJpbmcoKTtpZigoInJlbG9hZCI9PT10aGlzLm9uU2FtZVVybE5hdmlnYXRpb258fG4pJiZ0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuc2hvdWxkUHJvY2Vzc1VybCh0LnJhd1VybCkpcmV0dXJuIGhkKHQpLnBpcGUoYmQodD0+e2NvbnN0IG49dGhpcy50cmFuc2l0aW9ucy5nZXRWYWx1ZSgpO3JldHVybiBlLm5leHQobmV3IFNwKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLHQuc291cmNlLHQucmVzdG9yZWRTdGF0ZSkpLG4hPT10aGlzLnRyYW5zaXRpb25zLmdldFZhbHVlKCk/bGQ6UHJvbWlzZS5yZXNvbHZlKHQpfSksZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGJkKHM9PmZ1bmN0aW9uKHQsZSxuLHIscyl7cmV0dXJuIG5ldyBTZyh0LGUsbixyLHMpLmFwcGx5KCl9KHQsZSxuLHMuZXh0cmFjdGVkVXJsLHIpLnBpcGUoeCh0PT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scykse3VybEFmdGVyUmVkaXJlY3RzOnR9KSkpKX0odGhpcy5uZ01vZHVsZS5pbmplY3Rvcix0aGlzLmNvbmZpZ0xvYWRlcix0aGlzLnVybFNlcmlhbGl6ZXIsdGhpcy5jb25maWcpLGJwKHQ9Pnt0aGlzLmN1cnJlbnROYXZpZ2F0aW9uPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLmN1cnJlbnROYXZpZ2F0aW9uKSx7ZmluYWxVcmw6dC51cmxBZnRlclJlZGlyZWN0c30pfSksZnVuY3Rpb24odCxlLG4scixzKXtyZXR1cm4gSChpPT5mdW5jdGlvbih0LGUsbixyLHM9ImVtcHR5T25seSIsaT0ibGVnYWN5Iil7dHJ5e2NvbnN0IG89bmV3IExnKHQsZSxuLHIscyxpKS5yZWNvZ25pemUoKTtyZXR1cm4gbnVsbD09PW8/UmcobmV3IFBnKTpoZChvKX1jYXRjaChvKXtyZXR1cm4gUmcobyl9fSh0LGUsaS51cmxBZnRlclJlZGlyZWN0cyxuKGkudXJsQWZ0ZXJSZWRpcmVjdHMpLHIscykucGlwZSh4KHQ9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxpKSx7dGFyZ2V0U25hcHNob3Q6dH0pKSkpfSh0aGlzLnJvb3RDb21wb25lbnRUeXBlLHRoaXMuY29uZmlnLHQ9PnRoaXMuc2VyaWFsaXplVXJsKHQpLHRoaXMucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneSx0aGlzLnJlbGF0aXZlTGlua1Jlc29sdXRpb24pLGJwKHQ9PnsiZWFnZXIiPT09dGhpcy51cmxVcGRhdGVTdHJhdGVneSYmKHQuZXh0cmFzLnNraXBMb2NhdGlvbkNoYW5nZXx8dGhpcy5zZXRCcm93c2VyVXJsKHQudXJsQWZ0ZXJSZWRpcmVjdHMsdCksdGhpcy5icm93c2VyVXJsVHJlZT10LnVybEFmdGVyUmVkaXJlY3RzKTtjb25zdCBuPW5ldyBrcCh0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSx0aGlzLnNlcmlhbGl6ZVVybCh0LnVybEFmdGVyUmVkaXJlY3RzKSx0LnRhcmdldFNuYXBzaG90KTtlLm5leHQobil9KSk7aWYobiYmdGhpcy5yYXdVcmxUcmVlJiZ0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuc2hvdWxkUHJvY2Vzc1VybCh0aGlzLnJhd1VybFRyZWUpKXtjb25zdHtpZDpuLGV4dHJhY3RlZFVybDpyLHNvdXJjZTpzLHJlc3RvcmVkU3RhdGU6aSxleHRyYXM6b309dCxhPW5ldyBTcChuLHRoaXMuc2VyaWFsaXplVXJsKHIpLHMsaSk7ZS5uZXh0KGEpO2NvbnN0IGM9SWYocix0aGlzLnJvb3RDb21wb25lbnRUeXBlKS5zbmFwc2hvdDtyZXR1cm4gaGQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHt0YXJnZXRTbmFwc2hvdDpjLHVybEFmdGVyUmVkaXJlY3RzOnIsZXh0cmFzOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxvKSx7c2tpcExvY2F0aW9uQ2hhbmdlOiExLHJlcGxhY2VVcmw6ITF9KX0pKX1yZXR1cm4gdGhpcy5yYXdVcmxUcmVlPXQucmF3VXJsLHRoaXMuYnJvd3NlclVybFRyZWU9dC51cmxBZnRlclJlZGlyZWN0cyx0LnJlc29sdmUobnVsbCksbGR9KSx6Zyh0PT57Y29uc3R7dGFyZ2V0U25hcHNob3Q6ZSxpZDpuLGV4dHJhY3RlZFVybDpyLHJhd1VybDpzLGV4dHJhczp7c2tpcExvY2F0aW9uQ2hhbmdlOmkscmVwbGFjZVVybDpvfX09dDtyZXR1cm4gdGhpcy5ob29rcy5iZWZvcmVQcmVhY3RpdmF0aW9uKGUse25hdmlnYXRpb25JZDpuLGFwcGxpZWRVcmxUcmVlOnIscmF3VXJsVHJlZTpzLHNraXBMb2NhdGlvbkNoYW5nZTohIWkscmVwbGFjZVVybDohIW99KX0pLGJwKHQ9Pntjb25zdCBlPW5ldyBGcCh0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSx0aGlzLnNlcmlhbGl6ZVVybCh0LnVybEFmdGVyUmVkaXJlY3RzKSx0LnRhcmdldFNuYXBzaG90KTt0aGlzLnRyaWdnZXJFdmVudChlKX0pLHgodD0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHtndWFyZHM6a2codC50YXJnZXRTbmFwc2hvdCx0LmN1cnJlbnRTbmFwc2hvdCx0aGlzLnJvb3RDb250ZXh0cyl9KSksZnVuY3Rpb24odCxlKXtyZXR1cm4gSChuPT57Y29uc3R7dGFyZ2V0U25hcHNob3Q6cixjdXJyZW50U25hcHNob3Q6cyxndWFyZHM6e2NhbkFjdGl2YXRlQ2hlY2tzOmksY2FuRGVhY3RpdmF0ZUNoZWNrczpvfX09bjtyZXR1cm4gMD09PW8ubGVuZ3RoJiYwPT09aS5sZW5ndGg/aGQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHtndWFyZHNSZXN1bHQ6ITB9KSk6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIEIodCkucGlwZShIKHQ9PmZ1bmN0aW9uKHQsZSxuLHIscyl7Y29uc3QgaT1lJiZlLnJvdXRlQ29uZmlnP2Uucm91dGVDb25maWcuY2FuRGVhY3RpdmF0ZTpudWxsO3JldHVybiBpJiYwIT09aS5sZW5ndGg/aGQoaS5tYXAoaT0+e2NvbnN0IG89RmcoaSxlLHMpO2xldCBhO2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZyZyh0LmNhbkRlYWN0aXZhdGUpfShvKSlhPVFwKG8uY2FuRGVhY3RpdmF0ZSh0LGUsbixyKSk7ZWxzZXtpZighcmcobykpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIENhbkRlYWN0aXZhdGUgZ3VhcmQiKTthPVFwKG8odCxlLG4scikpfXJldHVybiBhLnBpcGUoeXAoKSl9KSkucGlwZShvZygpKTpoZCghMCl9KHQuY29tcG9uZW50LHQucm91dGUsbixlLHIpKSx5cCh0PT4hMCE9PXQsITApKX0obyxyLHMsdCkucGlwZShIKG49Pm4mJiJib29sZWFuIj09dHlwZW9mIG4/ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIEIoZSkucGlwZShvcChlPT5XZChmdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT09dCYmZSYmZShuZXcgQnAodCkpLGhkKCEwKX0oZS5yb3V0ZS5wYXJlbnQsciksZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9PXQmJmUmJmUobmV3IE1wKHQpKSxoZCghMCl9KGUucm91dGUsciksZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9ZVtlLmxlbmd0aC0xXSxzPWUuc2xpY2UoMCxlLmxlbmd0aC0xKS5yZXZlcnNlKCkubWFwKHQ9PmZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5yb3V0ZUNvbmZpZz90LnJvdXRlQ29uZmlnLmNhbkFjdGl2YXRlQ2hpbGQ6bnVsbDtyZXR1cm4gZSYmMCE9PWUubGVuZ3RoP3tub2RlOnQsZ3VhcmRzOmV9Om51bGx9KHQpKS5maWx0ZXIodD0+bnVsbCE9PXQpLm1hcChlPT5HZCgoKT0+aGQoZS5ndWFyZHMubWFwKHM9Pntjb25zdCBpPUZnKHMsZS5ub2RlLG4pO2xldCBvO2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZyZyh0LmNhbkFjdGl2YXRlQ2hpbGQpfShpKSlvPVFwKGkuY2FuQWN0aXZhdGVDaGlsZChyLHQpKTtlbHNle2lmKCFyZyhpKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgQ2FuQWN0aXZhdGVDaGlsZCBndWFyZCIpO289UXAoaShyLHQpKX1yZXR1cm4gby5waXBlKHlwKCkpfSkpLnBpcGUob2coKSkpKTtyZXR1cm4gaGQocykucGlwZShvZygpKX0odCxlLnBhdGgsbiksZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9ZS5yb3V0ZUNvbmZpZz9lLnJvdXRlQ29uZmlnLmNhbkFjdGl2YXRlOm51bGw7cmV0dXJuIHImJjAhPT1yLmxlbmd0aD9oZChyLm1hcChyPT5HZCgoKT0+e2NvbnN0IHM9RmcocixlLG4pO2xldCBpO2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZyZyh0LmNhbkFjdGl2YXRlKX0ocykpaT1RcChzLmNhbkFjdGl2YXRlKGUsdCkpO2Vsc2V7aWYoIXJnKHMpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBDYW5BY3RpdmF0ZSBndWFyZCIpO2k9UXAocyhlLHQpKX1yZXR1cm4gaS5waXBlKHlwKCkpfSkpKS5waXBlKG9nKCkpOmhkKCEwKX0odCxlLnJvdXRlLG4pKSkseXAodD0+ITAhPT10LCEwKSl9KHIsaSx0LGUpOmhkKG4pKSx4KHQ9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7Z3VhcmRzUmVzdWx0OnR9KSkpfSl9KHRoaXMubmdNb2R1bGUuaW5qZWN0b3IsdD0+dGhpcy50cmlnZ2VyRXZlbnQodCkpLGJwKHQ9PntpZihzZyh0Lmd1YXJkc1Jlc3VsdCkpe2NvbnN0IGU9VXAoYFJlZGlyZWN0aW5nIHRvICIke3RoaXMuc2VyaWFsaXplVXJsKHQuZ3VhcmRzUmVzdWx0KX0iYCk7dGhyb3cgZS51cmw9dC5ndWFyZHNSZXN1bHQsZX1jb25zdCBlPW5ldyBJcCh0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSx0aGlzLnNlcmlhbGl6ZVVybCh0LnVybEFmdGVyUmVkaXJlY3RzKSx0LnRhcmdldFNuYXBzaG90LCEhdC5ndWFyZHNSZXN1bHQpO3RoaXMudHJpZ2dlckV2ZW50KGUpfSksdHAodD0+ISF0Lmd1YXJkc1Jlc3VsdHx8KHRoaXMuY2FuY2VsTmF2aWdhdGlvblRyYW5zaXRpb24odCwiIiksITEpKSx6Zyh0PT57aWYodC5ndWFyZHMuY2FuQWN0aXZhdGVDaGVja3MubGVuZ3RoKXJldHVybiBoZCh0KS5waXBlKGJwKHQ9Pntjb25zdCBlPW5ldyBPcCh0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSx0aGlzLnNlcmlhbGl6ZVVybCh0LnVybEFmdGVyUmVkaXJlY3RzKSx0LnRhcmdldFNuYXBzaG90KTt0aGlzLnRyaWdnZXJFdmVudChlKX0pLGJkKHQ9PntsZXQgZT0hMTtyZXR1cm4gaGQodCkucGlwZSgobj10aGlzLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3kscj10aGlzLm5nTW9kdWxlLmluamVjdG9yLEgodD0+e2NvbnN0e3RhcmdldFNuYXBzaG90OmUsZ3VhcmRzOntjYW5BY3RpdmF0ZUNoZWNrczpzfX09dDtpZighcy5sZW5ndGgpcmV0dXJuIGhkKHQpO2xldCBpPTA7cmV0dXJuIEIocykucGlwZShvcCh0PT5mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz1PYmplY3Qua2V5cyh0KTtpZigwPT09cy5sZW5ndGgpcmV0dXJuIGhkKHt9KTtjb25zdCBpPXt9O3JldHVybiBCKHMpLnBpcGUoSChzPT5mdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPUZnKHQsZSxyKTtyZXR1cm4gUXAocy5yZXNvbHZlP3MucmVzb2x2ZShlLG4pOnMoZSxuKSl9KHRbc10sZSxuLHIpLnBpcGUoYnAodD0+e2lbc109dH0pKSksYXAoMSksSCgoKT0+T2JqZWN0LmtleXMoaSkubGVuZ3RoPT09cy5sZW5ndGg/aGQoaSk6bGQpKX0odC5fcmVzb2x2ZSx0LGUscikucGlwZSh4KGU9Pih0Ll9yZXNvbHZlZERhdGE9ZSx0LmRhdGE9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQuZGF0YSksUGYodCxuKS5yZXNvbHZlKSxudWxsKSkpfSh0LnJvdXRlLGUsbixyKSksYnAoKCk9PmkrKyksYXAoMSksSChlPT5pPT09cy5sZW5ndGg/aGQodCk6bGQpKX0pKSxicCh7bmV4dDooKT0+ZT0hMCxjb21wbGV0ZTooKT0+e2V8fHRoaXMuY2FuY2VsTmF2aWdhdGlvblRyYW5zaXRpb24odCwiQXQgbGVhc3Qgb25lIHJvdXRlIHJlc29sdmVyIGRpZG4ndCBlbWl0IGFueSB2YWx1ZS4iKX19KSk7dmFyIG4scn0pLGJwKHQ9Pntjb25zdCBlPW5ldyBQcCh0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSx0aGlzLnNlcmlhbGl6ZVVybCh0LnVybEFmdGVyUmVkaXJlY3RzKSx0LnRhcmdldFNuYXBzaG90KTt0aGlzLnRyaWdnZXJFdmVudChlKX0pKX0pLHpnKHQ9Pntjb25zdHt0YXJnZXRTbmFwc2hvdDplLGlkOm4sZXh0cmFjdGVkVXJsOnIscmF3VXJsOnMsZXh0cmFzOntza2lwTG9jYXRpb25DaGFuZ2U6aSxyZXBsYWNlVXJsOm99fT10O3JldHVybiB0aGlzLmhvb2tzLmFmdGVyUHJlYWN0aXZhdGlvbihlLHtuYXZpZ2F0aW9uSWQ6bixhcHBsaWVkVXJsVHJlZTpyLHJhd1VybFRyZWU6cyxza2lwTG9jYXRpb25DaGFuZ2U6ISFpLHJlcGxhY2VVcmw6ISFvfSl9KSx4KHQ9Pntjb25zdCBlPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPUhmKHQsZS5fcm9vdCxuP24uX3Jvb3Q6dm9pZCAwKTtyZXR1cm4gbmV3IEZmKHIsZSl9KHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LHQudGFyZ2V0U25hcHNob3QsdC5jdXJyZW50Um91dGVyU3RhdGUpO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse3RhcmdldFJvdXRlclN0YXRlOmV9KX0pLGJwKHQ9Pnt0aGlzLmN1cnJlbnRVcmxUcmVlPXQudXJsQWZ0ZXJSZWRpcmVjdHMsdGhpcy5yYXdVcmxUcmVlPXRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5tZXJnZSh0aGlzLmN1cnJlbnRVcmxUcmVlLHQucmF3VXJsKSx0aGlzLnJvdXRlclN0YXRlPXQudGFyZ2V0Um91dGVyU3RhdGUsImRlZmVycmVkIj09PXRoaXMudXJsVXBkYXRlU3RyYXRlZ3kmJih0LmV4dHJhcy5za2lwTG9jYXRpb25DaGFuZ2V8fHRoaXMuc2V0QnJvd3NlclVybCh0aGlzLnJhd1VybFRyZWUsdCksdGhpcy5icm93c2VyVXJsVHJlZT10LnVybEFmdGVyUmVkaXJlY3RzKX0pLChpPXRoaXMucm9vdENvbnRleHRzLG89dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3ksYT10PT50aGlzLnRyaWdnZXJFdmVudCh0KSx4KHQ9PihuZXcgdGcobyx0LnRhcmdldFJvdXRlclN0YXRlLHQuY3VycmVudFJvdXRlclN0YXRlLGEpLmFjdGl2YXRlKGkpLHQpKSksYnAoe25leHQoKXtuPSEwfSxjb21wbGV0ZSgpe249ITB9fSksKHM9KCk9PntufHxyfHx0aGlzLmNhbmNlbE5hdmlnYXRpb25UcmFuc2l0aW9uKHQsYE5hdmlnYXRpb24gSUQgJHt0LmlkfSBpcyBub3QgZXF1YWwgdG8gdGhlIGN1cnJlbnQgbmF2aWdhdGlvbiBpZCAke3RoaXMubmF2aWdhdGlvbklkfWApLHRoaXMuY3VycmVudE5hdmlnYXRpb249bnVsbH0sdD0+dC5saWZ0KG5ldyBfcChzKSkpLHJwKG49PntpZihyPSEwLChzPW4pJiZzLm5nTmF2aWdhdGlvbkNhbmNlbGluZ0Vycm9yKXtjb25zdCByPXNnKG4udXJsKTtyfHwodGhpcy5uYXZpZ2F0ZWQ9ITAsdGhpcy5yZXNldFN0YXRlQW5kVXJsKHQuY3VycmVudFJvdXRlclN0YXRlLHQuY3VycmVudFVybFRyZWUsdC5yYXdVcmwpKTtjb25zdCBzPW5ldyBBcCh0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSxuLm1lc3NhZ2UpO2UubmV4dChzKSxyP3NldFRpbWVvdXQoKCk9Pntjb25zdCBlPXRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5tZXJnZShuLnVybCx0aGlzLnJhd1VybFRyZWUpO3RoaXMuc2NoZWR1bGVOYXZpZ2F0aW9uKGUsImltcGVyYXRpdmUiLG51bGwse3NraXBMb2NhdGlvbkNoYW5nZTp0LmV4dHJhcy5za2lwTG9jYXRpb25DaGFuZ2UscmVwbGFjZVVybDoiZWFnZXIiPT09dGhpcy51cmxVcGRhdGVTdHJhdGVneX0se3Jlc29sdmU6dC5yZXNvbHZlLHJlamVjdDp0LnJlamVjdCxwcm9taXNlOnQucHJvbWlzZX0pfSwwKTp0LnJlc29sdmUoITEpfWVsc2V7dGhpcy5yZXNldFN0YXRlQW5kVXJsKHQuY3VycmVudFJvdXRlclN0YXRlLHQuY3VycmVudFVybFRyZWUsdC5yYXdVcmwpO2NvbnN0IHI9bmV3IFRwKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLG4pO2UubmV4dChyKTt0cnl7dC5yZXNvbHZlKHRoaXMuZXJyb3JIYW5kbGVyKG4pKX1jYXRjaChpKXt0LnJlamVjdChpKX19dmFyIHM7cmV0dXJuIGxkfSkpO3ZhciBzLGksbyxhfSkpfXJlc2V0Um9vdENvbXBvbmVudFR5cGUodCl7dGhpcy5yb290Q29tcG9uZW50VHlwZT10LHRoaXMucm91dGVyU3RhdGUucm9vdC5jb21wb25lbnQ9dGhpcy5yb290Q29tcG9uZW50VHlwZX1nZXRUcmFuc2l0aW9uKCl7Y29uc3QgdD10aGlzLnRyYW5zaXRpb25zLnZhbHVlO3JldHVybiB0LnVybEFmdGVyUmVkaXJlY3RzPXRoaXMuYnJvd3NlclVybFRyZWUsdH1zZXRUcmFuc2l0aW9uKHQpe3RoaXMudHJhbnNpdGlvbnMubmV4dChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5nZXRUcmFuc2l0aW9uKCkpLHQpKX1pbml0aWFsTmF2aWdhdGlvbigpe3RoaXMuc2V0VXBMb2NhdGlvbkNoYW5nZUxpc3RlbmVyKCksMD09PXRoaXMubmF2aWdhdGlvbklkJiZ0aGlzLm5hdmlnYXRlQnlVcmwodGhpcy5sb2NhdGlvbi5wYXRoKCEwKSx7cmVwbGFjZVVybDohMH0pfXNldFVwTG9jYXRpb25DaGFuZ2VMaXN0ZW5lcigpe3RoaXMubG9jYXRpb25TdWJzY3JpcHRpb258fCh0aGlzLmxvY2F0aW9uU3Vic2NyaXB0aW9uPXRoaXMubG9jYXRpb24uc3Vic2NyaWJlKHQ9Pntjb25zdCBlPXRoaXMuZXh0cmFjdExvY2F0aW9uQ2hhbmdlSW5mb0Zyb21FdmVudCh0KTt0aGlzLnNob3VsZFNjaGVkdWxlTmF2aWdhdGlvbih0aGlzLmxhc3RMb2NhdGlvbkNoYW5nZUluZm8sZSkmJnNldFRpbWVvdXQoKCk9Pntjb25zdHtzb3VyY2U6dCxzdGF0ZTpuLHVybFRyZWU6cn09ZSxzPXtyZXBsYWNlVXJsOiEwfTtpZihuKXtjb25zdCB0PU9iamVjdC5hc3NpZ24oe30sbik7ZGVsZXRlIHQubmF2aWdhdGlvbklkLGRlbGV0ZSB0Llx1MDI3NXJvdXRlclBhZ2VJZCwwIT09T2JqZWN0LmtleXModCkubGVuZ3RoJiYocy5zdGF0ZT10KX10aGlzLnNjaGVkdWxlTmF2aWdhdGlvbihyLHQsbixzKX0sMCksdGhpcy5sYXN0TG9jYXRpb25DaGFuZ2VJbmZvPWV9KSl9ZXh0cmFjdExvY2F0aW9uQ2hhbmdlSW5mb0Zyb21FdmVudCh0KXt2YXIgZTtyZXR1cm57c291cmNlOiJwb3BzdGF0ZSI9PT10LnR5cGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsdXJsVHJlZTp0aGlzLnBhcnNlVXJsKHQudXJsKSxzdGF0ZToobnVsbD09PShlPXQuc3RhdGUpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm5hdmlnYXRpb25JZCk/dC5zdGF0ZTpudWxsLHRyYW5zaXRpb25JZDp0aGlzLmdldFRyYW5zaXRpb24oKS5pZH19c2hvdWxkU2NoZWR1bGVOYXZpZ2F0aW9uKHQsZSl7aWYoIXQpcmV0dXJuITA7Y29uc3Qgbj1lLnVybFRyZWUudG9TdHJpbmcoKT09PXQudXJsVHJlZS50b1N0cmluZygpO3JldHVybiEoZS50cmFuc2l0aW9uSWQ9PT10LnRyYW5zaXRpb25JZCYmbiYmKCJoYXNoY2hhbmdlIj09PWUuc291cmNlJiYicG9wc3RhdGUiPT09dC5zb3VyY2V8fCJwb3BzdGF0ZSI9PT1lLnNvdXJjZSYmImhhc2hjaGFuZ2UiPT09dC5zb3VyY2UpKX1nZXQgdXJsKCl7cmV0dXJuIHRoaXMuc2VyaWFsaXplVXJsKHRoaXMuY3VycmVudFVybFRyZWUpfWdldEN1cnJlbnROYXZpZ2F0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudE5hdmlnYXRpb259dHJpZ2dlckV2ZW50KHQpe3RoaXMuZXZlbnRzLm5leHQodCl9cmVzZXRDb25maWcodCl7Y2codCksdGhpcy5jb25maWc9dC5tYXAoaGcpLHRoaXMubmF2aWdhdGVkPSExLHRoaXMubGFzdFN1Y2Nlc3NmdWxJZD0tMX1uZ09uRGVzdHJveSgpe3RoaXMuZGlzcG9zZSgpfWRpc3Bvc2UoKXt0aGlzLnRyYW5zaXRpb25zLmNvbXBsZXRlKCksdGhpcy5sb2NhdGlvblN1YnNjcmlwdGlvbiYmKHRoaXMubG9jYXRpb25TdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSx0aGlzLmxvY2F0aW9uU3Vic2NyaXB0aW9uPXZvaWQgMCksdGhpcy5kaXNwb3NlZD0hMH1jcmVhdGVVcmxUcmVlKHQsZT17fSl7Y29uc3R7cmVsYXRpdmVUbzpuLHF1ZXJ5UGFyYW1zOnIsZnJhZ21lbnQ6cyxxdWVyeVBhcmFtc0hhbmRsaW5nOmkscHJlc2VydmVGcmFnbWVudDpvfT1lLGE9bnx8dGhpcy5yb3V0ZXJTdGF0ZS5yb290LGM9bz90aGlzLmN1cnJlbnRVcmxUcmVlLmZyYWdtZW50OnM7bGV0IGw9bnVsbDtzd2l0Y2goaSl7Y2FzZSJtZXJnZSI6bD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtcykscik7YnJlYWs7Y2FzZSJwcmVzZXJ2ZSI6bD10aGlzLmN1cnJlbnRVcmxUcmVlLnF1ZXJ5UGFyYW1zO2JyZWFrO2RlZmF1bHQ6bD1yfHxudWxsfXJldHVybiBudWxsIT09bCYmKGw9dGhpcy5yZW1vdmVFbXB0eVByb3BzKGwpKSxmdW5jdGlvbih0LGUsbixyLHMpe2lmKDA9PT1uLmxlbmd0aClyZXR1cm4gVWYoZS5yb290LGUucm9vdCxlLHIscyk7Y29uc3QgaT1mdW5jdGlvbih0KXtpZigic3RyaW5nIj09dHlwZW9mIHRbMF0mJjE9PT10Lmxlbmd0aCYmIi8iPT09dFswXSlyZXR1cm4gbmV3IEdmKCEwLDAsdCk7bGV0IGU9MCxuPSExO2NvbnN0IHI9dC5yZWR1Y2UoKHQscixzKT0+e2lmKCJvYmplY3QiPT10eXBlb2YgciYmbnVsbCE9cil7aWYoci5vdXRsZXRzKXtjb25zdCBlPXt9O3JldHVybiBacChyLm91dGxldHMsKHQsbik9PntlW25dPSJzdHJpbmciPT10eXBlb2YgdD90LnNwbGl0KCIvIik6dH0pLFsuLi50LHtvdXRsZXRzOmV9XX1pZihyLnNlZ21lbnRQYXRoKXJldHVyblsuLi50LHIuc2VnbWVudFBhdGhdfXJldHVybiJzdHJpbmciIT10eXBlb2Ygcj9bLi4udCxyXTowPT09cz8oci5zcGxpdCgiLyIpLmZvckVhY2goKHIscyk9PnswPT1zJiYiLiI9PT1yfHwoMD09cyYmIiI9PT1yP249ITA6Ii4uIj09PXI/ZSsrOiIiIT1yJiZ0LnB1c2gocikpfSksdCk6Wy4uLnQscl19LFtdKTtyZXR1cm4gbmV3IEdmKG4sZSxyKX0obik7aWYoaS50b1Jvb3QoKSlyZXR1cm4gVWYoZS5yb290LG5ldyBvZihbXSx7fSksZSxyLHMpO2NvbnN0IG89ZnVuY3Rpb24odCxlLG4pe2lmKHQuaXNBYnNvbHV0ZSlyZXR1cm4gbmV3IHFmKGUucm9vdCwhMCwwKTtpZigtMT09PW4uc25hcHNob3QuX2xhc3RQYXRoSW5kZXgpe2NvbnN0IHQ9bi5zbmFwc2hvdC5fdXJsU2VnbWVudDtyZXR1cm4gbmV3IHFmKHQsdD09PWUucm9vdCwwKX1jb25zdCByPXpmKHQuY29tbWFuZHNbMF0pPzA6MTtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2xldCByPXQscz1lLGk9bjtmb3IoO2k+czspe2lmKGktPXMscj1yLnBhcmVudCwhcil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgbnVtYmVyIG9mICcuLi8nIik7cz1yLnNlZ21lbnRzLmxlbmd0aH1yZXR1cm4gbmV3IHFmKHIsITEscy1pKX0obi5zbmFwc2hvdC5fdXJsU2VnbWVudCxuLnNuYXBzaG90Ll9sYXN0UGF0aEluZGV4K3IsdC5udW1iZXJPZkRvdWJsZURvdHMpfShpLGUsdCksYT1vLnByb2Nlc3NDaGlsZHJlbj9ZZihvLnNlZ21lbnRHcm91cCxvLmluZGV4LGkuY29tbWFuZHMpOlhmKG8uc2VnbWVudEdyb3VwLG8uaW5kZXgsaS5jb21tYW5kcyk7cmV0dXJuIFVmKG8uc2VnbWVudEdyb3VwLGEsZSxyLHMpfShhLHRoaXMuY3VycmVudFVybFRyZWUsdCxsLG51bGwhPWM/YzpudWxsKX1uYXZpZ2F0ZUJ5VXJsKHQsZT17c2tpcExvY2F0aW9uQ2hhbmdlOiExfSl7Y29uc3Qgbj1zZyh0KT90OnRoaXMucGFyc2VVcmwodCkscj10aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kubWVyZ2Uobix0aGlzLnJhd1VybFRyZWUpO2xldCBzPW51bGw7cmV0dXJuImNvbXB1dGVkIj09PXRoaXMuY2FuY2VsZWROYXZpZ2F0aW9uUmVzb2x1dGlvbiYmKDA9PT10aGlzLmN1cnJlbnRQYWdlSWR8fGUuc2tpcExvY2F0aW9uQ2hhbmdlfHxlLnJlcGxhY2VVcmwpJiYocz10aGlzLmxvY2F0aW9uLmdldFN0YXRlKCkpLHRoaXMuc2NoZWR1bGVOYXZpZ2F0aW9uKHIsImltcGVyYXRpdmUiLHMsZSl9bmF2aWdhdGUodCxlPXtza2lwTG9jYXRpb25DaGFuZ2U6ITF9KXtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IG49dFtlXTtpZihudWxsPT1uKXRocm93IG5ldyBFcnJvcihgVGhlIHJlcXVlc3RlZCBwYXRoIGNvbnRhaW5zICR7bn0gc2VnbWVudCBhdCBpbmRleCAke2V9YCl9fSh0KSx0aGlzLm5hdmlnYXRlQnlVcmwodGhpcy5jcmVhdGVVcmxUcmVlKHQsZSksZSl9c2VyaWFsaXplVXJsKHQpe3JldHVybiB0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKHQpfXBhcnNlVXJsKHQpe2xldCBlO3RyeXtlPXRoaXMudXJsU2VyaWFsaXplci5wYXJzZSh0KX1jYXRjaChuKXtlPXRoaXMubWFsZm9ybWVkVXJpRXJyb3JIYW5kbGVyKG4sdGhpcy51cmxTZXJpYWxpemVyLHQpfXJldHVybiBlfWlzQWN0aXZlKHQsZSl7bGV0IG47aWYobj0hMD09PWU/T2JqZWN0LmFzc2lnbih7fSxLZyk6ITE9PT1lP09iamVjdC5hc3NpZ24oe30sSmcpOmUsc2codCkpcmV0dXJuIHRmKHRoaXMuY3VycmVudFVybFRyZWUsdCxuKTtjb25zdCByPXRoaXMucGFyc2VVcmwodCk7cmV0dXJuIHRmKHRoaXMuY3VycmVudFVybFRyZWUscixuKX1yZW1vdmVFbXB0eVByb3BzKHQpe3JldHVybiBPYmplY3Qua2V5cyh0KS5yZWR1Y2UoKGUsbik9Pntjb25zdCByPXRbbl07cmV0dXJuIG51bGwhPXImJihlW25dPXIpLGV9LHt9KX1wcm9jZXNzTmF2aWdhdGlvbnMoKXt0aGlzLm5hdmlnYXRpb25zLnN1YnNjcmliZSh0PT57dGhpcy5uYXZpZ2F0ZWQ9ITAsdGhpcy5sYXN0U3VjY2Vzc2Z1bElkPXQuaWQsdGhpcy5jdXJyZW50UGFnZUlkPXQudGFyZ2V0UGFnZUlkLHRoaXMuZXZlbnRzLm5leHQobmV3IHhwKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLHRoaXMuc2VyaWFsaXplVXJsKHRoaXMuY3VycmVudFVybFRyZWUpKSksdGhpcy5sYXN0U3VjY2Vzc2Z1bE5hdmlnYXRpb249dGhpcy5jdXJyZW50TmF2aWdhdGlvbix0LnJlc29sdmUoITApfSx0PT57dGhpcy5jb25zb2xlLndhcm4oIlVuaGFuZGxlZCBOYXZpZ2F0aW9uIEVycm9yOiAiKX0pfXNjaGVkdWxlTmF2aWdhdGlvbih0LGUsbixyLHMpe2lmKHRoaXMuZGlzcG9zZWQpcmV0dXJuIFByb21pc2UucmVzb2x2ZSghMSk7Y29uc3QgaT10aGlzLmdldFRyYW5zaXRpb24oKSxvPSJpbXBlcmF0aXZlIiE9PWUmJiJpbXBlcmF0aXZlIj09PShudWxsPT1pP3ZvaWQgMDppLnNvdXJjZSksYT0odGhpcy5sYXN0U3VjY2Vzc2Z1bElkPT09aS5pZHx8dGhpcy5jdXJyZW50TmF2aWdhdGlvbj9pLnJhd1VybDppLnVybEFmdGVyUmVkaXJlY3RzKS50b1N0cmluZygpPT09dC50b1N0cmluZygpO2lmKG8mJmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSghMCk7bGV0IGMsbCx1O3M/KGM9cy5yZXNvbHZlLGw9cy5yZWplY3QsdT1zLnByb21pc2UpOnU9bmV3IFByb21pc2UoKHQsZSk9PntjPXQsbD1lfSk7Y29uc3QgaD0rK3RoaXMubmF2aWdhdGlvbklkO2xldCBkO3JldHVybiBkPSJjb21wdXRlZCI9PT10aGlzLmNhbmNlbGVkTmF2aWdhdGlvblJlc29sdXRpb24/biYmbi5cdTAyNzVyb3V0ZXJQYWdlSWQ/bi5cdTAyNzVyb3V0ZXJQYWdlSWQ6dGhpcy5jdXJyZW50UGFnZUlkKzE6MCx0aGlzLnNldFRyYW5zaXRpb24oe2lkOmgsdGFyZ2V0UGFnZUlkOmQsc291cmNlOmUscmVzdG9yZWRTdGF0ZTpuLGN1cnJlbnRVcmxUcmVlOnRoaXMuY3VycmVudFVybFRyZWUsY3VycmVudFJhd1VybDp0aGlzLnJhd1VybFRyZWUscmF3VXJsOnQsZXh0cmFzOnIscmVzb2x2ZTpjLHJlamVjdDpsLHByb21pc2U6dSxjdXJyZW50U25hcHNob3Q6dGhpcy5yb3V0ZXJTdGF0ZS5zbmFwc2hvdCxjdXJyZW50Um91dGVyU3RhdGU6dGhpcy5yb3V0ZXJTdGF0ZX0pLHUuY2F0Y2godD0+UHJvbWlzZS5yZWplY3QodCkpfXNldEJyb3dzZXJVcmwodCxlKXtjb25zdCBuPXRoaXMudXJsU2VyaWFsaXplci5zZXJpYWxpemUodCkscj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5leHRyYXMuc3RhdGUpLHRoaXMuZ2VuZXJhdGVOZ1JvdXRlclN0YXRlKGUuaWQsZS50YXJnZXRQYWdlSWQpKTt0aGlzLmxvY2F0aW9uLmlzQ3VycmVudFBhdGhFcXVhbFRvKG4pfHxlLmV4dHJhcy5yZXBsYWNlVXJsP3RoaXMubG9jYXRpb24ucmVwbGFjZVN0YXRlKG4sIiIscik6dGhpcy5sb2NhdGlvbi5nbyhuLCIiLHIpfXJlc2V0U3RhdGVBbmRVcmwodCxlLG4pe3RoaXMucm91dGVyU3RhdGU9dCx0aGlzLmN1cnJlbnRVcmxUcmVlPWUsdGhpcy5yYXdVcmxUcmVlPXRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5tZXJnZSh0aGlzLmN1cnJlbnRVcmxUcmVlLG4pLHRoaXMucmVzZXRVcmxUb0N1cnJlbnRVcmxUcmVlKCl9cmVzZXRVcmxUb0N1cnJlbnRVcmxUcmVlKCl7dGhpcy5sb2NhdGlvbi5yZXBsYWNlU3RhdGUodGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh0aGlzLnJhd1VybFRyZWUpLCIiLHRoaXMuZ2VuZXJhdGVOZ1JvdXRlclN0YXRlKHRoaXMubGFzdFN1Y2Nlc3NmdWxJZCx0aGlzLmN1cnJlbnRQYWdlSWQpKX1jYW5jZWxOYXZpZ2F0aW9uVHJhbnNpdGlvbih0LGUpeyJjb21wdXRlZCI9PT10aGlzLmNhbmNlbGVkTmF2aWdhdGlvblJlc29sdXRpb24/InBvcHN0YXRlIiE9PXQuc291cmNlJiYiZWFnZXIiIT09dGhpcy51cmxVcGRhdGVTdHJhdGVneXx8dGhpcy5sb2NhdGlvbi5oaXN0b3J5R28odGhpcy5jdXJyZW50UGFnZUlkLXQudGFyZ2V0UGFnZUlkKTp0aGlzLnJlc2V0VXJsVG9DdXJyZW50VXJsVHJlZSgpO2NvbnN0IG49bmV3IEFwKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLGUpO3RoaXMudHJpZ2dlckV2ZW50KG4pLHQucmVzb2x2ZSghMSl9Z2VuZXJhdGVOZ1JvdXRlclN0YXRlKHQsZSl7cmV0dXJuImNvbXB1dGVkIj09PXRoaXMuY2FuY2VsZWROYXZpZ2F0aW9uUmVzb2x1dGlvbj97bmF2aWdhdGlvbklkOnQsIlx1MDI3NXJvdXRlclBhZ2VJZCI6ZX06e25hdmlnYXRpb25JZDp0fX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodXIoWG4pLHVyKGxmKSx1cihxZyksdXIob3UpLHVyKFFpKSx1cihMbCksdXIodWwpLHVyKHZvaWQgMCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLGVtPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4scixzKXt0aGlzLnBhcmVudENvbnRleHRzPXQsdGhpcy5sb2NhdGlvbj1lLHRoaXMucmVzb2x2ZXI9bix0aGlzLmNoYW5nZURldGVjdG9yPXMsdGhpcy5hY3RpdmF0ZWQ9bnVsbCx0aGlzLl9hY3RpdmF0ZWRSb3V0ZT1udWxsLHRoaXMuYWN0aXZhdGVFdmVudHM9bmV3IEFjLHRoaXMuZGVhY3RpdmF0ZUV2ZW50cz1uZXcgQWMsdGhpcy5uYW1lPXJ8fFZwLHQub25DaGlsZE91dGxldENyZWF0ZWQodGhpcy5uYW1lLHRoaXMpfW5nT25EZXN0cm95KCl7dGhpcy5wYXJlbnRDb250ZXh0cy5vbkNoaWxkT3V0bGV0RGVzdHJveWVkKHRoaXMubmFtZSl9bmdPbkluaXQoKXtpZighdGhpcy5hY3RpdmF0ZWQpe2NvbnN0IHQ9dGhpcy5wYXJlbnRDb250ZXh0cy5nZXRDb250ZXh0KHRoaXMubmFtZSk7dCYmdC5yb3V0ZSYmKHQuYXR0YWNoUmVmP3RoaXMuYXR0YWNoKHQuYXR0YWNoUmVmLHQucm91dGUpOnRoaXMuYWN0aXZhdGVXaXRoKHQucm91dGUsdC5yZXNvbHZlcnx8bnVsbCkpfX1nZXQgaXNBY3RpdmF0ZWQoKXtyZXR1cm4hIXRoaXMuYWN0aXZhdGVkfWdldCBjb21wb25lbnQoKXtpZighdGhpcy5hY3RpdmF0ZWQpdGhyb3cgbmV3IEVycm9yKCJPdXRsZXQgaXMgbm90IGFjdGl2YXRlZCIpO3JldHVybiB0aGlzLmFjdGl2YXRlZC5pbnN0YW5jZX1nZXQgYWN0aXZhdGVkUm91dGUoKXtpZighdGhpcy5hY3RpdmF0ZWQpdGhyb3cgbmV3IEVycm9yKCJPdXRsZXQgaXMgbm90IGFjdGl2YXRlZCIpO3JldHVybiB0aGlzLl9hY3RpdmF0ZWRSb3V0ZX1nZXQgYWN0aXZhdGVkUm91dGVEYXRhKCl7cmV0dXJuIHRoaXMuX2FjdGl2YXRlZFJvdXRlP3RoaXMuX2FjdGl2YXRlZFJvdXRlLnNuYXBzaG90LmRhdGE6e319ZGV0YWNoKCl7aWYoIXRoaXMuYWN0aXZhdGVkKXRocm93IG5ldyBFcnJvcigiT3V0bGV0IGlzIG5vdCBhY3RpdmF0ZWQiKTt0aGlzLmxvY2F0aW9uLmRldGFjaCgpO2NvbnN0IHQ9dGhpcy5hY3RpdmF0ZWQ7cmV0dXJuIHRoaXMuYWN0aXZhdGVkPW51bGwsdGhpcy5fYWN0aXZhdGVkUm91dGU9bnVsbCx0fWF0dGFjaCh0LGUpe3RoaXMuYWN0aXZhdGVkPXQsdGhpcy5fYWN0aXZhdGVkUm91dGU9ZSx0aGlzLmxvY2F0aW9uLmluc2VydCh0Lmhvc3RWaWV3KX1kZWFjdGl2YXRlKCl7aWYodGhpcy5hY3RpdmF0ZWQpe2NvbnN0IHQ9dGhpcy5jb21wb25lbnQ7dGhpcy5hY3RpdmF0ZWQuZGVzdHJveSgpLHRoaXMuYWN0aXZhdGVkPW51bGwsdGhpcy5fYWN0aXZhdGVkUm91dGU9bnVsbCx0aGlzLmRlYWN0aXZhdGVFdmVudHMuZW1pdCh0KX19YWN0aXZhdGVXaXRoKHQsZSl7aWYodGhpcy5pc0FjdGl2YXRlZCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBhY3RpdmF0ZSBhbiBhbHJlYWR5IGFjdGl2YXRlZCBvdXRsZXQiKTt0aGlzLl9hY3RpdmF0ZWRSb3V0ZT10O2NvbnN0IG49KGU9ZXx8dGhpcy5yZXNvbHZlcikucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodC5fZnV0dXJlU25hcHNob3Qucm91dGVDb25maWcuY29tcG9uZW50KSxyPXRoaXMucGFyZW50Q29udGV4dHMuZ2V0T3JDcmVhdGVDb250ZXh0KHRoaXMubmFtZSkuY2hpbGRyZW4scz1uZXcgbm0odCxyLHRoaXMubG9jYXRpb24uaW5qZWN0b3IpO3RoaXMuYWN0aXZhdGVkPXRoaXMubG9jYXRpb24uY3JlYXRlQ29tcG9uZW50KG4sdGhpcy5sb2NhdGlvbi5sZW5ndGgscyksdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKSx0aGlzLmFjdGl2YXRlRXZlbnRzLmVtaXQodGhpcy5hY3RpdmF0ZWQuaW5zdGFuY2UpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyhxZyksZ28odWMpLGdvKF9hKSwoIm5hbWUiLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmF0dHJzO2lmKG4pe2NvbnN0IHQ9bi5sZW5ndGg7bGV0IHI9MDtmb3IoO3I8dDspe2NvbnN0IHM9bltyXTtpZihtbihzKSlicmVhaztpZigwPT09cylyKz0yO2Vsc2UgaWYoIm51bWJlciI9PXR5cGVvZiBzKWZvcihyKys7cjx0JiYic3RyaW5nIj09dHlwZW9mIG5bcl07KXIrKztlbHNle2lmKHM9PT1lKXJldHVybiBuW3IrMV07cis9Mn19fXJldHVybiBudWxsfShSZSgpLCJuYW1lIikpLGdvKEthKSl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsc2VsZWN0b3JzOltbInJvdXRlci1vdXRsZXQiXV0sb3V0cHV0czp7YWN0aXZhdGVFdmVudHM6ImFjdGl2YXRlIixkZWFjdGl2YXRlRXZlbnRzOiJkZWFjdGl2YXRlIn0sZXhwb3J0QXM6WyJvdXRsZXQiXX0pLHR9KSgpO2NsYXNzIG5te2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLnJvdXRlPXQsdGhpcy5jaGlsZENvbnRleHRzPWUsdGhpcy5wYXJlbnQ9bn1nZXQodCxlKXtyZXR1cm4gdD09PU9mP3RoaXMucm91dGU6dD09PXFnP3RoaXMuY2hpbGRDb250ZXh0czp0aGlzLnBhcmVudC5nZXQodCxlKX19Y2xhc3Mgcm17fWNsYXNzIHNte3ByZWxvYWQodCxlKXtyZXR1cm4gaGQobnVsbCl9fWxldCBpbT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuLHIscyl7dGhpcy5yb3V0ZXI9dCx0aGlzLmluamVjdG9yPXIsdGhpcy5wcmVsb2FkaW5nU3RyYXRlZ3k9cyx0aGlzLmxvYWRlcj1uZXcgV2coZSxuLGU9PnQudHJpZ2dlckV2ZW50KG5ldyBScChlKSksZT0+dC50cmlnZ2VyRXZlbnQobmV3IExwKGUpKSl9c2V0VXBQcmVsb2FkaW5nKCl7dGhpcy5zdWJzY3JpcHRpb249dGhpcy5yb3V0ZXIuZXZlbnRzLnBpcGUodHAodD0+dCBpbnN0YW5jZW9mIHhwKSxvcCgoKT0+dGhpcy5wcmVsb2FkKCkpKS5zdWJzY3JpYmUoKCk9Pnt9KX1wcmVsb2FkKCl7Y29uc3QgdD10aGlzLmluamVjdG9yLmdldChhYyk7cmV0dXJuIHRoaXMucHJvY2Vzc1JvdXRlcyh0LHRoaXMucm91dGVyLmNvbmZpZyl9bmdPbkRlc3Ryb3koKXt0aGlzLnN1YnNjcmlwdGlvbiYmdGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX1wcm9jZXNzUm91dGVzKHQsZSl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgciBvZiBlKWlmKHIubG9hZENoaWxkcmVuJiYhci5jYW5Mb2FkJiZyLl9sb2FkZWRDb25maWcpe2NvbnN0IHQ9ci5fbG9hZGVkQ29uZmlnO24ucHVzaCh0aGlzLnByb2Nlc3NSb3V0ZXModC5tb2R1bGUsdC5yb3V0ZXMpKX1lbHNlIHIubG9hZENoaWxkcmVuJiYhci5jYW5Mb2FkP24ucHVzaCh0aGlzLnByZWxvYWRDb25maWcodCxyKSk6ci5jaGlsZHJlbiYmbi5wdXNoKHRoaXMucHJvY2Vzc1JvdXRlcyh0LHIuY2hpbGRyZW4pKTtyZXR1cm4gQihuKS5waXBlKCQoKSx4KHQ9Pnt9KSl9cHJlbG9hZENvbmZpZyh0LGUpe3JldHVybiB0aGlzLnByZWxvYWRpbmdTdHJhdGVneS5wcmVsb2FkKGUsKCk9PihlLl9sb2FkZWRDb25maWc/aGQoZS5fbG9hZGVkQ29uZmlnKTp0aGlzLmxvYWRlci5sb2FkKHQuaW5qZWN0b3IsZSkpLnBpcGUoSCh0PT4oZS5fbG9hZGVkQ29uZmlnPXQsdGhpcy5wcm9jZXNzUm91dGVzKHQubW9kdWxlLHQucm91dGVzKSkpKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHVyKHRtKSx1cihMbCksdXIodWwpLHVyKFFpKSx1cihybSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLG9tPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG49e30pe3RoaXMucm91dGVyPXQsdGhpcy52aWV3cG9ydFNjcm9sbGVyPWUsdGhpcy5vcHRpb25zPW4sdGhpcy5sYXN0SWQ9MCx0aGlzLmxhc3RTb3VyY2U9ImltcGVyYXRpdmUiLHRoaXMucmVzdG9yZWRJZD0wLHRoaXMuc3RvcmU9e30sbi5zY3JvbGxQb3NpdGlvblJlc3RvcmF0aW9uPW4uc2Nyb2xsUG9zaXRpb25SZXN0b3JhdGlvbnx8ImRpc2FibGVkIixuLmFuY2hvclNjcm9sbGluZz1uLmFuY2hvclNjcm9sbGluZ3x8ImRpc2FibGVkIn1pbml0KCl7ImRpc2FibGVkIiE9PXRoaXMub3B0aW9ucy5zY3JvbGxQb3NpdGlvblJlc3RvcmF0aW9uJiZ0aGlzLnZpZXdwb3J0U2Nyb2xsZXIuc2V0SGlzdG9yeVNjcm9sbFJlc3RvcmF0aW9uKCJtYW51YWwiKSx0aGlzLnJvdXRlckV2ZW50c1N1YnNjcmlwdGlvbj10aGlzLmNyZWF0ZVNjcm9sbEV2ZW50cygpLHRoaXMuc2Nyb2xsRXZlbnRzU3Vic2NyaXB0aW9uPXRoaXMuY29uc3VtZVNjcm9sbEV2ZW50cygpfWNyZWF0ZVNjcm9sbEV2ZW50cygpe3JldHVybiB0aGlzLnJvdXRlci5ldmVudHMuc3Vic2NyaWJlKHQ9Pnt0IGluc3RhbmNlb2YgU3A/KHRoaXMuc3RvcmVbdGhpcy5sYXN0SWRdPXRoaXMudmlld3BvcnRTY3JvbGxlci5nZXRTY3JvbGxQb3NpdGlvbigpLHRoaXMubGFzdFNvdXJjZT10Lm5hdmlnYXRpb25UcmlnZ2VyLHRoaXMucmVzdG9yZWRJZD10LnJlc3RvcmVkU3RhdGU/dC5yZXN0b3JlZFN0YXRlLm5hdmlnYXRpb25JZDowKTp0IGluc3RhbmNlb2YgeHAmJih0aGlzLmxhc3RJZD10LmlkLHRoaXMuc2NoZWR1bGVTY3JvbGxFdmVudCh0LHRoaXMucm91dGVyLnBhcnNlVXJsKHQudXJsQWZ0ZXJSZWRpcmVjdHMpLmZyYWdtZW50KSl9KX1jb25zdW1lU2Nyb2xsRXZlbnRzKCl7cmV0dXJuIHRoaXMucm91dGVyLmV2ZW50cy5zdWJzY3JpYmUodD0+e3QgaW5zdGFuY2VvZiBIcCYmKHQucG9zaXRpb24/InRvcCI9PT10aGlzLm9wdGlvbnMuc2Nyb2xsUG9zaXRpb25SZXN0b3JhdGlvbj90aGlzLnZpZXdwb3J0U2Nyb2xsZXIuc2Nyb2xsVG9Qb3NpdGlvbihbMCwwXSk6ImVuYWJsZWQiPT09dGhpcy5vcHRpb25zLnNjcm9sbFBvc2l0aW9uUmVzdG9yYXRpb24mJnRoaXMudmlld3BvcnRTY3JvbGxlci5zY3JvbGxUb1Bvc2l0aW9uKHQucG9zaXRpb24pOnQuYW5jaG9yJiYiZW5hYmxlZCI9PT10aGlzLm9wdGlvbnMuYW5jaG9yU2Nyb2xsaW5nP3RoaXMudmlld3BvcnRTY3JvbGxlci5zY3JvbGxUb0FuY2hvcih0LmFuY2hvcik6ImRpc2FibGVkIiE9PXRoaXMub3B0aW9ucy5zY3JvbGxQb3NpdGlvblJlc3RvcmF0aW9uJiZ0aGlzLnZpZXdwb3J0U2Nyb2xsZXIuc2Nyb2xsVG9Qb3NpdGlvbihbMCwwXSkpfSl9c2NoZWR1bGVTY3JvbGxFdmVudCh0LGUpe3RoaXMucm91dGVyLnRyaWdnZXJFdmVudChuZXcgSHAodCwicG9wc3RhdGUiPT09dGhpcy5sYXN0U291cmNlP3RoaXMuc3RvcmVbdGhpcy5yZXN0b3JlZElkXTpudWxsLGUpKX1uZ09uRGVzdHJveSgpe3RoaXMucm91dGVyRXZlbnRzU3Vic2NyaXB0aW9uJiZ0aGlzLnJvdXRlckV2ZW50c1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpLHRoaXMuc2Nyb2xsRXZlbnRzU3Vic2NyaXB0aW9uJiZ0aGlzLnNjcm9sbEV2ZW50c1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh1cih0bSksdXIoX2gpLHVyKHZvaWQgMCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IGFtPW5ldyBHbigiUk9VVEVSX0NPTkZJR1VSQVRJT04iKSxjbT1uZXcgR24oIlJPVVRFUl9GT1JST09UX0dVQVJEIiksbG09W291LHtwcm92aWRlOmxmLHVzZUNsYXNzOnVmfSx7cHJvdmlkZTp0bSx1c2VGYWN0b3J5OmZ1bmN0aW9uKHQsZSxuLHIscyxpLG8sYT17fSxjLGwpe2NvbnN0IHU9bmV3IHRtKG51bGwsdCxlLG4scixzLGksWHAobykpO3JldHVybiBjJiYodS51cmxIYW5kbGluZ1N0cmF0ZWd5PWMpLGwmJih1LnJvdXRlUmV1c2VTdHJhdGVneT1sKSxmdW5jdGlvbih0LGUpe3QuZXJyb3JIYW5kbGVyJiYoZS5lcnJvckhhbmRsZXI9dC5lcnJvckhhbmRsZXIpLHQubWFsZm9ybWVkVXJpRXJyb3JIYW5kbGVyJiYoZS5tYWxmb3JtZWRVcmlFcnJvckhhbmRsZXI9dC5tYWxmb3JtZWRVcmlFcnJvckhhbmRsZXIpLHQub25TYW1lVXJsTmF2aWdhdGlvbiYmKGUub25TYW1lVXJsTmF2aWdhdGlvbj10Lm9uU2FtZVVybE5hdmlnYXRpb24pLHQucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneSYmKGUucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneT10LnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3kpLHQucmVsYXRpdmVMaW5rUmVzb2x1dGlvbiYmKGUucmVsYXRpdmVMaW5rUmVzb2x1dGlvbj10LnJlbGF0aXZlTGlua1Jlc29sdXRpb24pLHQudXJsVXBkYXRlU3RyYXRlZ3kmJihlLnVybFVwZGF0ZVN0cmF0ZWd5PXQudXJsVXBkYXRlU3RyYXRlZ3kpfShhLHUpLGEuZW5hYmxlVHJhY2luZyYmdS5ldmVudHMuc3Vic2NyaWJlKHQ9Pnt2YXIgZSxuO251bGw9PT0oZT1jb25zb2xlLmdyb3VwKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKGNvbnNvbGUsYFJvdXRlciBFdmVudDogJHt0LmNvbnN0cnVjdG9yLm5hbWV9YCksY29uc29sZS5sb2codC50b1N0cmluZygpKSxjb25zb2xlLmxvZyh0KSxudWxsPT09KG49Y29uc29sZS5ncm91cEVuZCl8fHZvaWQgMD09PW58fG4uY2FsbChjb25zb2xlKX0pLHV9LGRlcHM6W2xmLHFnLG91LFFpLExsLHVsLFVnLGFtLFtjbGFzc3t9LG5ldyBmcl0sW2NsYXNze30sbmV3IGZyXV19LHFnLHtwcm92aWRlOk9mLHVzZUZhY3Rvcnk6ZnVuY3Rpb24odCl7cmV0dXJuIHQucm91dGVyU3RhdGUucm9vdH0sZGVwczpbdG1dfSx7cHJvdmlkZTpMbCx1c2VDbGFzczpNbH0saW0sc20sY2xhc3N7cHJlbG9hZCh0LGUpe3JldHVybiBlKCkucGlwZShycCgoKT0+aGQobnVsbCkpKX19LHtwcm92aWRlOmFtLHVzZVZhbHVlOntlbmFibGVUcmFjaW5nOiExfX1dO2Z1bmN0aW9uIHVtKCl7cmV0dXJuIG5ldyBUbCgiUm91dGVyIix0bSl9bGV0IGhtPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt9c3RhdGljIGZvclJvb3QoZSxuKXtyZXR1cm57bmdNb2R1bGU6dCxwcm92aWRlcnM6W2xtLGdtKGUpLHtwcm92aWRlOmNtLHVzZUZhY3Rvcnk6Zm0sZGVwczpbW3RtLG5ldyBmcixuZXcgZ3JdXX0se3Byb3ZpZGU6YW0sdXNlVmFsdWU6bnx8e319LHtwcm92aWRlOmV1LHVzZUZhY3Rvcnk6cG0sZGVwczpbR2wsW25ldyBwcihydSksbmV3IGZyXSxhbV19LHtwcm92aWRlOm9tLHVzZUZhY3Rvcnk6ZG0sZGVwczpbdG0sX2gsYW1dfSx7cHJvdmlkZTpybSx1c2VFeGlzdGluZzpuJiZuLnByZWxvYWRpbmdTdHJhdGVneT9uLnByZWxvYWRpbmdTdHJhdGVneTpzbX0se3Byb3ZpZGU6VGwsbXVsdGk6ITAsdXNlRmFjdG9yeTp1bX0sW21tLHtwcm92aWRlOkdjLG11bHRpOiEwLHVzZUZhY3Rvcnk6eW0sZGVwczpbbW1dfSx7cHJvdmlkZTpibSx1c2VGYWN0b3J5OnZtLGRlcHM6W21tXX0se3Byb3ZpZGU6SmMsbXVsdGk6ITAsdXNlRXhpc3Rpbmc6Ym19XV19fXN0YXRpYyBmb3JDaGlsZChlKXtyZXR1cm57bmdNb2R1bGU6dCxwcm92aWRlcnM6W2dtKGUpXX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHVyKGNtLDgpLHVyKHRtLDgpKX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHt9KSx0fSkoKTtmdW5jdGlvbiBkbSh0LGUsbil7cmV0dXJuIG4uc2Nyb2xsT2Zmc2V0JiZlLnNldE9mZnNldChuLnNjcm9sbE9mZnNldCksbmV3IG9tKHQsZSxuKX1mdW5jdGlvbiBwbSh0LGUsbj17fSl7cmV0dXJuIG4udXNlSGFzaD9uZXcgaXUodCxlKTpuZXcgc3UodCxlKX1mdW5jdGlvbiBmbSh0KXtyZXR1cm4iZ3VhcmRlZCJ9ZnVuY3Rpb24gZ20odCl7cmV0dXJuW3twcm92aWRlOnFuLG11bHRpOiEwLHVzZVZhbHVlOnR9LHtwcm92aWRlOlVnLG11bHRpOiEwLHVzZVZhbHVlOnR9XX1sZXQgbW09KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmluamVjdG9yPXQsdGhpcy5pbml0TmF2aWdhdGlvbj0hMSx0aGlzLnJlc3VsdE9mUHJlYWN0aXZhdGlvbkRvbmU9bmV3IER9YXBwSW5pdGlhbGl6ZXIoKXtyZXR1cm4gdGhpcy5pbmplY3Rvci5nZXQoWGwsUHJvbWlzZS5yZXNvbHZlKG51bGwpKS50aGVuKCgpPT57bGV0IHQ9bnVsbDtjb25zdCBlPW5ldyBQcm9taXNlKGU9PnQ9ZSksbj10aGlzLmluamVjdG9yLmdldCh0bSkscj10aGlzLmluamVjdG9yLmdldChhbSk7cmV0dXJuImRpc2FibGVkIj09PXIuaW5pdGlhbE5hdmlnYXRpb24/KG4uc2V0VXBMb2NhdGlvbkNoYW5nZUxpc3RlbmVyKCksdCghMCkpOiJlbmFibGVkIj09PXIuaW5pdGlhbE5hdmlnYXRpb258fCJlbmFibGVkQmxvY2tpbmciPT09ci5pbml0aWFsTmF2aWdhdGlvbj8obi5ob29rcy5hZnRlclByZWFjdGl2YXRpb249KCk9PnRoaXMuaW5pdE5hdmlnYXRpb24/aGQobnVsbCk6KHRoaXMuaW5pdE5hdmlnYXRpb249ITAsdCghMCksdGhpcy5yZXN1bHRPZlByZWFjdGl2YXRpb25Eb25lKSxuLmluaXRpYWxOYXZpZ2F0aW9uKCkpOnQoITApLGV9KX1ib290c3RyYXBMaXN0ZW5lcih0KXtjb25zdCBlPXRoaXMuaW5qZWN0b3IuZ2V0KGFtKSxuPXRoaXMuaW5qZWN0b3IuZ2V0KGltKSxyPXRoaXMuaW5qZWN0b3IuZ2V0KG9tKSxzPXRoaXMuaW5qZWN0b3IuZ2V0KHRtKSxpPXRoaXMuaW5qZWN0b3IuZ2V0KFBsKTt0PT09aS5jb21wb25lbnRzWzBdJiYoImVuYWJsZWROb25CbG9ja2luZyIhPT1lLmluaXRpYWxOYXZpZ2F0aW9uJiZ2b2lkIDAhPT1lLmluaXRpYWxOYXZpZ2F0aW9ufHxzLmluaXRpYWxOYXZpZ2F0aW9uKCksbi5zZXRVcFByZWxvYWRpbmcoKSxyLmluaXQoKSxzLnJlc2V0Um9vdENvbXBvbmVudFR5cGUoaS5jb21wb25lbnRUeXBlc1swXSksdGhpcy5yZXN1bHRPZlByZWFjdGl2YXRpb25Eb25lLm5leHQobnVsbCksdGhpcy5yZXN1bHRPZlByZWFjdGl2YXRpb25Eb25lLmNvbXBsZXRlKCkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh1cihRaSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2Z1bmN0aW9uIHltKHQpe3JldHVybiB0LmFwcEluaXRpYWxpemVyLmJpbmQodCl9ZnVuY3Rpb24gdm0odCl7cmV0dXJuIHQuYm9vdHN0cmFwTGlzdGVuZXIuYmluZCh0KX1jb25zdCBibT1uZXcgR24oIlJvdXRlciBJbml0aWFsaXplciIpO2NsYXNzIENte31jbGFzcyB3bXt9Y2xhc3MgX217Y29uc3RydWN0b3IodCl7dGhpcy5ub3JtYWxpemVkTmFtZXM9bmV3IE1hcCx0aGlzLmxhenlVcGRhdGU9bnVsbCx0P3RoaXMubGF6eUluaXQ9InN0cmluZyI9PXR5cGVvZiB0PygpPT57dGhpcy5oZWFkZXJzPW5ldyBNYXAsdC5zcGxpdCgiXG4iKS5mb3JFYWNoKHQ9Pntjb25zdCBlPXQuaW5kZXhPZigiOiIpO2lmKGU+MCl7Y29uc3Qgbj10LnNsaWNlKDAsZSkscj1uLnRvTG93ZXJDYXNlKCkscz10LnNsaWNlKGUrMSkudHJpbSgpO3RoaXMubWF5YmVTZXROb3JtYWxpemVkTmFtZShuLHIpLHRoaXMuaGVhZGVycy5oYXMocik/dGhpcy5oZWFkZXJzLmdldChyKS5wdXNoKHMpOnRoaXMuaGVhZGVycy5zZXQocixbc10pfX0pfTooKT0+e3RoaXMuaGVhZGVycz1uZXcgTWFwLE9iamVjdC5rZXlzKHQpLmZvckVhY2goZT0+e2xldCBuPXRbZV07Y29uc3Qgcj1lLnRvTG93ZXJDYXNlKCk7InN0cmluZyI9PXR5cGVvZiBuJiYobj1bbl0pLG4ubGVuZ3RoPjAmJih0aGlzLmhlYWRlcnMuc2V0KHIsbiksdGhpcy5tYXliZVNldE5vcm1hbGl6ZWROYW1lKGUscikpfSl9OnRoaXMuaGVhZGVycz1uZXcgTWFwfWhhcyh0KXtyZXR1cm4gdGhpcy5pbml0KCksdGhpcy5oZWFkZXJzLmhhcyh0LnRvTG93ZXJDYXNlKCkpfWdldCh0KXt0aGlzLmluaXQoKTtjb25zdCBlPXRoaXMuaGVhZGVycy5nZXQodC50b0xvd2VyQ2FzZSgpKTtyZXR1cm4gZSYmZS5sZW5ndGg+MD9lWzBdOm51bGx9a2V5cygpe3JldHVybiB0aGlzLmluaXQoKSxBcnJheS5mcm9tKHRoaXMubm9ybWFsaXplZE5hbWVzLnZhbHVlcygpKX1nZXRBbGwodCl7cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXMuaGVhZGVycy5nZXQodC50b0xvd2VyQ2FzZSgpKXx8bnVsbH1hcHBlbmQodCxlKXtyZXR1cm4gdGhpcy5jbG9uZSh7bmFtZTp0LHZhbHVlOmUsb3A6ImEifSl9c2V0KHQsZSl7cmV0dXJuIHRoaXMuY2xvbmUoe25hbWU6dCx2YWx1ZTplLG9wOiJzIn0pfWRlbGV0ZSh0LGUpe3JldHVybiB0aGlzLmNsb25lKHtuYW1lOnQsdmFsdWU6ZSxvcDoiZCJ9KX1tYXliZVNldE5vcm1hbGl6ZWROYW1lKHQsZSl7dGhpcy5ub3JtYWxpemVkTmFtZXMuaGFzKGUpfHx0aGlzLm5vcm1hbGl6ZWROYW1lcy5zZXQoZSx0KX1pbml0KCl7dGhpcy5sYXp5SW5pdCYmKHRoaXMubGF6eUluaXQgaW5zdGFuY2VvZiBfbT90aGlzLmNvcHlGcm9tKHRoaXMubGF6eUluaXQpOnRoaXMubGF6eUluaXQoKSx0aGlzLmxhenlJbml0PW51bGwsdGhpcy5sYXp5VXBkYXRlJiYodGhpcy5sYXp5VXBkYXRlLmZvckVhY2godD0+dGhpcy5hcHBseVVwZGF0ZSh0KSksdGhpcy5sYXp5VXBkYXRlPW51bGwpKX1jb3B5RnJvbSh0KXt0LmluaXQoKSxBcnJheS5mcm9tKHQuaGVhZGVycy5rZXlzKCkpLmZvckVhY2goZT0+e3RoaXMuaGVhZGVycy5zZXQoZSx0LmhlYWRlcnMuZ2V0KGUpKSx0aGlzLm5vcm1hbGl6ZWROYW1lcy5zZXQoZSx0Lm5vcm1hbGl6ZWROYW1lcy5nZXQoZSkpfSl9Y2xvbmUodCl7Y29uc3QgZT1uZXcgX207cmV0dXJuIGUubGF6eUluaXQ9dGhpcy5sYXp5SW5pdCYmdGhpcy5sYXp5SW5pdCBpbnN0YW5jZW9mIF9tP3RoaXMubGF6eUluaXQ6dGhpcyxlLmxhenlVcGRhdGU9KHRoaXMubGF6eVVwZGF0ZXx8W10pLmNvbmNhdChbdF0pLGV9YXBwbHlVcGRhdGUodCl7Y29uc3QgZT10Lm5hbWUudG9Mb3dlckNhc2UoKTtzd2l0Y2godC5vcCl7Y2FzZSJhIjpjYXNlInMiOmxldCBuPXQudmFsdWU7aWYoInN0cmluZyI9PXR5cGVvZiBuJiYobj1bbl0pLDA9PT1uLmxlbmd0aClyZXR1cm47dGhpcy5tYXliZVNldE5vcm1hbGl6ZWROYW1lKHQubmFtZSxlKTtjb25zdCByPSgiYSI9PT10Lm9wP3RoaXMuaGVhZGVycy5nZXQoZSk6dm9pZCAwKXx8W107ci5wdXNoKC4uLm4pLHRoaXMuaGVhZGVycy5zZXQoZSxyKTticmVhaztjYXNlImQiOmNvbnN0IHM9dC52YWx1ZTtpZihzKXtsZXQgdD10aGlzLmhlYWRlcnMuZ2V0KGUpO2lmKCF0KXJldHVybjt0PXQuZmlsdGVyKHQ9Pi0xPT09cy5pbmRleE9mKHQpKSwwPT09dC5sZW5ndGg/KHRoaXMuaGVhZGVycy5kZWxldGUoZSksdGhpcy5ub3JtYWxpemVkTmFtZXMuZGVsZXRlKGUpKTp0aGlzLmhlYWRlcnMuc2V0KGUsdCl9ZWxzZSB0aGlzLmhlYWRlcnMuZGVsZXRlKGUpLHRoaXMubm9ybWFsaXplZE5hbWVzLmRlbGV0ZShlKX19Zm9yRWFjaCh0KXt0aGlzLmluaXQoKSxBcnJheS5mcm9tKHRoaXMubm9ybWFsaXplZE5hbWVzLmtleXMoKSkuZm9yRWFjaChlPT50KHRoaXMubm9ybWFsaXplZE5hbWVzLmdldChlKSx0aGlzLmhlYWRlcnMuZ2V0KGUpKSl9fWNsYXNzIERte2VuY29kZUtleSh0KXtyZXR1cm4gRW0odCl9ZW5jb2RlVmFsdWUodCl7cmV0dXJuIEVtKHQpfWRlY29kZUtleSh0KXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHQpfWRlY29kZVZhbHVlKHQpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQodCl9fWZ1bmN0aW9uIEVtKHQpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodCkucmVwbGFjZSgvJTQwL2dpLCJAIikucmVwbGFjZSgvJTNBL2dpLCI6IikucmVwbGFjZSgvJTI0L2dpLCIkIikucmVwbGFjZSgvJTJDL2dpLCIsIikucmVwbGFjZSgvJTNCL2dpLCI7IikucmVwbGFjZSgvJTJCL2dpLCIrIikucmVwbGFjZSgvJTNEL2dpLCI9IikucmVwbGFjZSgvJTNGL2dpLCI/IikucmVwbGFjZSgvJTJGL2dpLCIvIil9ZnVuY3Rpb24gU20odCl7cmV0dXJuYCR7dH1gfWNsYXNzIHhte2NvbnN0cnVjdG9yKHQ9e30pe2lmKHRoaXMudXBkYXRlcz1udWxsLHRoaXMuY2xvbmVGcm9tPW51bGwsdGhpcy5lbmNvZGVyPXQuZW5jb2Rlcnx8bmV3IERtLHQuZnJvbVN0cmluZyl7aWYodC5mcm9tT2JqZWN0KXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHNwZWNpZnkgYm90aCBmcm9tU3RyaW5nIGFuZCBmcm9tT2JqZWN0LiIpO3RoaXMubWFwPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1uZXcgTWFwO3JldHVybiB0Lmxlbmd0aD4wJiZ0LnJlcGxhY2UoL15cPy8sIiIpLnNwbGl0KCImIikuZm9yRWFjaCh0PT57Y29uc3Qgcj10LmluZGV4T2YoIj0iKSxbcyxpXT0tMT09cj9bZS5kZWNvZGVLZXkodCksIiJdOltlLmRlY29kZUtleSh0LnNsaWNlKDAscikpLGUuZGVjb2RlVmFsdWUodC5zbGljZShyKzEpKV0sbz1uLmdldChzKXx8W107by5wdXNoKGkpLG4uc2V0KHMsbyl9KSxufSh0LmZyb21TdHJpbmcsdGhpcy5lbmNvZGVyKX1lbHNlIHQuZnJvbU9iamVjdD8odGhpcy5tYXA9bmV3IE1hcCxPYmplY3Qua2V5cyh0LmZyb21PYmplY3QpLmZvckVhY2goZT0+e2NvbnN0IG49dC5mcm9tT2JqZWN0W2VdO3RoaXMubWFwLnNldChlLEFycmF5LmlzQXJyYXkobik/bjpbbl0pfSkpOnRoaXMubWFwPW51bGx9aGFzKHQpe3JldHVybiB0aGlzLmluaXQoKSx0aGlzLm1hcC5oYXModCl9Z2V0KHQpe3RoaXMuaW5pdCgpO2NvbnN0IGU9dGhpcy5tYXAuZ2V0KHQpO3JldHVybiBlP2VbMF06bnVsbH1nZXRBbGwodCl7cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXMubWFwLmdldCh0KXx8bnVsbH1rZXlzKCl7cmV0dXJuIHRoaXMuaW5pdCgpLEFycmF5LmZyb20odGhpcy5tYXAua2V5cygpKX1hcHBlbmQodCxlKXtyZXR1cm4gdGhpcy5jbG9uZSh7cGFyYW06dCx2YWx1ZTplLG9wOiJhIn0pfWFwcGVuZEFsbCh0KXtjb25zdCBlPVtdO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKG49Pntjb25zdCByPXRbbl07QXJyYXkuaXNBcnJheShyKT9yLmZvckVhY2godD0+e2UucHVzaCh7cGFyYW06bix2YWx1ZTp0LG9wOiJhIn0pfSk6ZS5wdXNoKHtwYXJhbTpuLHZhbHVlOnIsb3A6ImEifSl9KSx0aGlzLmNsb25lKGUpfXNldCh0LGUpe3JldHVybiB0aGlzLmNsb25lKHtwYXJhbTp0LHZhbHVlOmUsb3A6InMifSl9ZGVsZXRlKHQsZSl7cmV0dXJuIHRoaXMuY2xvbmUoe3BhcmFtOnQsdmFsdWU6ZSxvcDoiZCJ9KX10b1N0cmluZygpe3JldHVybiB0aGlzLmluaXQoKSx0aGlzLmtleXMoKS5tYXAodD0+e2NvbnN0IGU9dGhpcy5lbmNvZGVyLmVuY29kZUtleSh0KTtyZXR1cm4gdGhpcy5tYXAuZ2V0KHQpLm1hcCh0PT5lKyI9Iit0aGlzLmVuY29kZXIuZW5jb2RlVmFsdWUodCkpLmpvaW4oIiYiKX0pLmZpbHRlcih0PT4iIiE9PXQpLmpvaW4oIiYiKX1jbG9uZSh0KXtjb25zdCBlPW5ldyB4bSh7ZW5jb2Rlcjp0aGlzLmVuY29kZXJ9KTtyZXR1cm4gZS5jbG9uZUZyb209dGhpcy5jbG9uZUZyb218fHRoaXMsZS51cGRhdGVzPSh0aGlzLnVwZGF0ZXN8fFtdKS5jb25jYXQodCksZX1pbml0KCl7bnVsbD09PXRoaXMubWFwJiYodGhpcy5tYXA9bmV3IE1hcCksbnVsbCE9PXRoaXMuY2xvbmVGcm9tJiYodGhpcy5jbG9uZUZyb20uaW5pdCgpLHRoaXMuY2xvbmVGcm9tLmtleXMoKS5mb3JFYWNoKHQ9PnRoaXMubWFwLnNldCh0LHRoaXMuY2xvbmVGcm9tLm1hcC5nZXQodCkpKSx0aGlzLnVwZGF0ZXMuZm9yRWFjaCh0PT57c3dpdGNoKHQub3Ape2Nhc2UiYSI6Y2FzZSJzIjpjb25zdCBlPSgiYSI9PT10Lm9wP3RoaXMubWFwLmdldCh0LnBhcmFtKTp2b2lkIDApfHxbXTtlLnB1c2goU20odC52YWx1ZSkpLHRoaXMubWFwLnNldCh0LnBhcmFtLGUpO2JyZWFrO2Nhc2UiZCI6aWYodm9pZCAwPT09dC52YWx1ZSl7dGhpcy5tYXAuZGVsZXRlKHQucGFyYW0pO2JyZWFrfXtsZXQgZT10aGlzLm1hcC5nZXQodC5wYXJhbSl8fFtdO2NvbnN0IG49ZS5pbmRleE9mKFNtKHQudmFsdWUpKTstMSE9PW4mJmUuc3BsaWNlKG4sMSksZS5sZW5ndGg+MD90aGlzLm1hcC5zZXQodC5wYXJhbSxlKTp0aGlzLm1hcC5kZWxldGUodC5wYXJhbSl9fX0pLHRoaXMuY2xvbmVGcm9tPXRoaXMudXBkYXRlcz1udWxsKX19Y2xhc3MgQW17Y29uc3RydWN0b3IoKXt0aGlzLm1hcD1uZXcgTWFwfXNldCh0LGUpe3JldHVybiB0aGlzLm1hcC5zZXQodCxlKSx0aGlzfWdldCh0KXtyZXR1cm4gdGhpcy5tYXAuaGFzKHQpfHx0aGlzLm1hcC5zZXQodCx0LmRlZmF1bHRWYWx1ZSgpKSx0aGlzLm1hcC5nZXQodCl9ZGVsZXRlKHQpe3JldHVybiB0aGlzLm1hcC5kZWxldGUodCksdGhpc31rZXlzKCl7cmV0dXJuIHRoaXMubWFwLmtleXMoKX19ZnVuY3Rpb24gVG0odCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfWZ1bmN0aW9uIGttKHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQmxvYiYmdCBpbnN0YW5jZW9mIEJsb2J9ZnVuY3Rpb24gRm0odCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBGb3JtRGF0YSYmdCBpbnN0YW5jZW9mIEZvcm1EYXRhfWNsYXNzIElte2NvbnN0cnVjdG9yKHQsZSxuLHIpe2xldCBzO2lmKHRoaXMudXJsPWUsdGhpcy5ib2R5PW51bGwsdGhpcy5yZXBvcnRQcm9ncmVzcz0hMSx0aGlzLndpdGhDcmVkZW50aWFscz0hMSx0aGlzLnJlc3BvbnNlVHlwZT0ianNvbiIsdGhpcy5tZXRob2Q9dC50b1VwcGVyQ2FzZSgpLGZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIkRFTEVURSI6Y2FzZSJHRVQiOmNhc2UiSEVBRCI6Y2FzZSJPUFRJT05TIjpjYXNlIkpTT05QIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiEwfX0odGhpcy5tZXRob2QpfHxyPyh0aGlzLmJvZHk9dm9pZCAwIT09bj9uOm51bGwscz1yKTpzPW4scyYmKHRoaXMucmVwb3J0UHJvZ3Jlc3M9ISFzLnJlcG9ydFByb2dyZXNzLHRoaXMud2l0aENyZWRlbnRpYWxzPSEhcy53aXRoQ3JlZGVudGlhbHMscy5yZXNwb25zZVR5cGUmJih0aGlzLnJlc3BvbnNlVHlwZT1zLnJlc3BvbnNlVHlwZSkscy5oZWFkZXJzJiYodGhpcy5oZWFkZXJzPXMuaGVhZGVycykscy5jb250ZXh0JiYodGhpcy5jb250ZXh0PXMuY29udGV4dCkscy5wYXJhbXMmJih0aGlzLnBhcmFtcz1zLnBhcmFtcykpLHRoaXMuaGVhZGVyc3x8KHRoaXMuaGVhZGVycz1uZXcgX20pLHRoaXMuY29udGV4dHx8KHRoaXMuY29udGV4dD1uZXcgQW0pLHRoaXMucGFyYW1zKXtjb25zdCB0PXRoaXMucGFyYW1zLnRvU3RyaW5nKCk7aWYoMD09PXQubGVuZ3RoKXRoaXMudXJsV2l0aFBhcmFtcz1lO2Vsc2V7Y29uc3Qgbj1lLmluZGV4T2YoIj8iKTt0aGlzLnVybFdpdGhQYXJhbXM9ZSsoLTE9PT1uPyI/IjpuPGUubGVuZ3RoLTE/IiYiOiIiKSt0fX1lbHNlIHRoaXMucGFyYW1zPW5ldyB4bSx0aGlzLnVybFdpdGhQYXJhbXM9ZX1zZXJpYWxpemVCb2R5KCl7cmV0dXJuIG51bGw9PT10aGlzLmJvZHk/bnVsbDpUbSh0aGlzLmJvZHkpfHxrbSh0aGlzLmJvZHkpfHxGbSh0aGlzLmJvZHkpfHwic3RyaW5nIj09dHlwZW9mIHRoaXMuYm9keT90aGlzLmJvZHk6dGhpcy5ib2R5IGluc3RhbmNlb2YgeG0/dGhpcy5ib2R5LnRvU3RyaW5nKCk6Im9iamVjdCI9PXR5cGVvZiB0aGlzLmJvZHl8fCJib29sZWFuIj09dHlwZW9mIHRoaXMuYm9keXx8QXJyYXkuaXNBcnJheSh0aGlzLmJvZHkpP0pTT04uc3RyaW5naWZ5KHRoaXMuYm9keSk6dGhpcy5ib2R5LnRvU3RyaW5nKCl9ZGV0ZWN0Q29udGVudFR5cGVIZWFkZXIoKXtyZXR1cm4gbnVsbD09PXRoaXMuYm9keXx8Rm0odGhpcy5ib2R5KT9udWxsOmttKHRoaXMuYm9keSk/dGhpcy5ib2R5LnR5cGV8fG51bGw6VG0odGhpcy5ib2R5KT9udWxsOiJzdHJpbmciPT10eXBlb2YgdGhpcy5ib2R5PyJ0ZXh0L3BsYWluIjp0aGlzLmJvZHkgaW5zdGFuY2VvZiB4bT8iYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgiOiJvYmplY3QiPT10eXBlb2YgdGhpcy5ib2R5fHwibnVtYmVyIj09dHlwZW9mIHRoaXMuYm9keXx8ImJvb2xlYW4iPT10eXBlb2YgdGhpcy5ib2R5PyJhcHBsaWNhdGlvbi9qc29uIjpudWxsfWNsb25lKHQ9e30pe3ZhciBlO2NvbnN0IG49dC5tZXRob2R8fHRoaXMubWV0aG9kLHI9dC51cmx8fHRoaXMudXJsLHM9dC5yZXNwb25zZVR5cGV8fHRoaXMucmVzcG9uc2VUeXBlLGk9dm9pZCAwIT09dC5ib2R5P3QuYm9keTp0aGlzLmJvZHksbz12b2lkIDAhPT10LndpdGhDcmVkZW50aWFscz90LndpdGhDcmVkZW50aWFsczp0aGlzLndpdGhDcmVkZW50aWFscyxhPXZvaWQgMCE9PXQucmVwb3J0UHJvZ3Jlc3M/dC5yZXBvcnRQcm9ncmVzczp0aGlzLnJlcG9ydFByb2dyZXNzO2xldCBjPXQuaGVhZGVyc3x8dGhpcy5oZWFkZXJzLGw9dC5wYXJhbXN8fHRoaXMucGFyYW1zO2NvbnN0IHU9bnVsbCE9PShlPXQuY29udGV4dCkmJnZvaWQgMCE9PWU/ZTp0aGlzLmNvbnRleHQ7cmV0dXJuIHZvaWQgMCE9PXQuc2V0SGVhZGVycyYmKGM9T2JqZWN0LmtleXModC5zZXRIZWFkZXJzKS5yZWR1Y2UoKGUsbik9PmUuc2V0KG4sdC5zZXRIZWFkZXJzW25dKSxjKSksdC5zZXRQYXJhbXMmJihsPU9iamVjdC5rZXlzKHQuc2V0UGFyYW1zKS5yZWR1Y2UoKGUsbik9PmUuc2V0KG4sdC5zZXRQYXJhbXNbbl0pLGwpKSxuZXcgSW0obixyLGkse3BhcmFtczpsLGhlYWRlcnM6Yyxjb250ZXh0OnUscmVwb3J0UHJvZ3Jlc3M6YSxyZXNwb25zZVR5cGU6cyx3aXRoQ3JlZGVudGlhbHM6b30pfX12YXIgT209ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5TZW50PTBdPSJTZW50Iix0W3QuVXBsb2FkUHJvZ3Jlc3M9MV09IlVwbG9hZFByb2dyZXNzIix0W3QuUmVzcG9uc2VIZWFkZXI9Ml09IlJlc3BvbnNlSGVhZGVyIix0W3QuRG93bmxvYWRQcm9ncmVzcz0zXT0iRG93bmxvYWRQcm9ncmVzcyIsdFt0LlJlc3BvbnNlPTRdPSJSZXNwb25zZSIsdFt0LlVzZXI9NV09IlVzZXIiLHR9KHt9KTtjbGFzcyBQbXtjb25zdHJ1Y3Rvcih0LGU9MjAwLG49Ik9LIil7dGhpcy5oZWFkZXJzPXQuaGVhZGVyc3x8bmV3IF9tLHRoaXMuc3RhdHVzPXZvaWQgMCE9PXQuc3RhdHVzP3Quc3RhdHVzOmUsdGhpcy5zdGF0dXNUZXh0PXQuc3RhdHVzVGV4dHx8bix0aGlzLnVybD10LnVybHx8bnVsbCx0aGlzLm9rPXRoaXMuc3RhdHVzPj0yMDAmJnRoaXMuc3RhdHVzPDMwMH19Y2xhc3MgUm0gZXh0ZW5kcyBQbXtjb25zdHJ1Y3Rvcih0PXt9KXtzdXBlcih0KSx0aGlzLnR5cGU9T20uUmVzcG9uc2VIZWFkZXJ9Y2xvbmUodD17fSl7cmV0dXJuIG5ldyBSbSh7aGVhZGVyczp0LmhlYWRlcnN8fHRoaXMuaGVhZGVycyxzdGF0dXM6dm9pZCAwIT09dC5zdGF0dXM/dC5zdGF0dXM6dGhpcy5zdGF0dXMsc3RhdHVzVGV4dDp0LnN0YXR1c1RleHR8fHRoaXMuc3RhdHVzVGV4dCx1cmw6dC51cmx8fHRoaXMudXJsfHx2b2lkIDB9KX19Y2xhc3MgTG0gZXh0ZW5kcyBQbXtjb25zdHJ1Y3Rvcih0PXt9KXtzdXBlcih0KSx0aGlzLnR5cGU9T20uUmVzcG9uc2UsdGhpcy5ib2R5PXZvaWQgMCE9PXQuYm9keT90LmJvZHk6bnVsbH1jbG9uZSh0PXt9KXtyZXR1cm4gbmV3IExtKHtib2R5OnZvaWQgMCE9PXQuYm9keT90LmJvZHk6dGhpcy5ib2R5LGhlYWRlcnM6dC5oZWFkZXJzfHx0aGlzLmhlYWRlcnMsc3RhdHVzOnZvaWQgMCE9PXQuc3RhdHVzP3Quc3RhdHVzOnRoaXMuc3RhdHVzLHN0YXR1c1RleHQ6dC5zdGF0dXNUZXh0fHx0aGlzLnN0YXR1c1RleHQsdXJsOnQudXJsfHx0aGlzLnVybHx8dm9pZCAwfSl9fWNsYXNzIEJtIGV4dGVuZHMgUG17Y29uc3RydWN0b3IodCl7c3VwZXIodCwwLCJVbmtub3duIEVycm9yIiksdGhpcy5uYW1lPSJIdHRwRXJyb3JSZXNwb25zZSIsdGhpcy5vaz0hMSx0aGlzLm1lc3NhZ2U9dGhpcy5zdGF0dXM+PTIwMCYmdGhpcy5zdGF0dXM8MzAwP2BIdHRwIGZhaWx1cmUgZHVyaW5nIHBhcnNpbmcgZm9yICR7dC51cmx8fCIodW5rbm93biB1cmwpIn1gOmBIdHRwIGZhaWx1cmUgcmVzcG9uc2UgZm9yICR7dC51cmx8fCIodW5rbm93biB1cmwpIn06ICR7dC5zdGF0dXN9ICR7dC5zdGF0dXNUZXh0fWAsdGhpcy5lcnJvcj10LmVycm9yfHxudWxsfX1mdW5jdGlvbiBqbSh0LGUpe3JldHVybntib2R5OmUsaGVhZGVyczp0LmhlYWRlcnMsY29udGV4dDp0LmNvbnRleHQsb2JzZXJ2ZTp0Lm9ic2VydmUscGFyYW1zOnQucGFyYW1zLHJlcG9ydFByb2dyZXNzOnQucmVwb3J0UHJvZ3Jlc3MscmVzcG9uc2VUeXBlOnQucmVzcG9uc2VUeXBlLHdpdGhDcmVkZW50aWFsczp0LndpdGhDcmVkZW50aWFsc319bGV0IE1tPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5oYW5kbGVyPXR9cmVxdWVzdCh0LGUsbj17fSl7bGV0IHI7aWYodCBpbnN0YW5jZW9mIEltKXI9dDtlbHNle2xldCBzLGk7cz1uLmhlYWRlcnMgaW5zdGFuY2VvZiBfbT9uLmhlYWRlcnM6bmV3IF9tKG4uaGVhZGVycyksbi5wYXJhbXMmJihpPW4ucGFyYW1zIGluc3RhbmNlb2YgeG0/bi5wYXJhbXM6bmV3IHhtKHtmcm9tT2JqZWN0Om4ucGFyYW1zfSkpLHI9bmV3IEltKHQsZSx2b2lkIDAhPT1uLmJvZHk/bi5ib2R5Om51bGwse2hlYWRlcnM6cyxjb250ZXh0Om4uY29udGV4dCxwYXJhbXM6aSxyZXBvcnRQcm9ncmVzczpuLnJlcG9ydFByb2dyZXNzLHJlc3BvbnNlVHlwZTpuLnJlc3BvbnNlVHlwZXx8Impzb24iLHdpdGhDcmVkZW50aWFsczpuLndpdGhDcmVkZW50aWFsc30pfWNvbnN0IHM9aGQocikucGlwZShvcCh0PT50aGlzLmhhbmRsZXIuaGFuZGxlKHQpKSk7aWYodCBpbnN0YW5jZW9mIEltfHwiZXZlbnRzIj09PW4ub2JzZXJ2ZSlyZXR1cm4gcztjb25zdCBpPXMucGlwZSh0cCh0PT50IGluc3RhbmNlb2YgTG0pKTtzd2l0Y2gobi5vYnNlcnZlfHwiYm9keSIpe2Nhc2UiYm9keSI6c3dpdGNoKHIucmVzcG9uc2VUeXBlKXtjYXNlImFycmF5YnVmZmVyIjpyZXR1cm4gaS5waXBlKHgodD0+e2lmKG51bGwhPT10LmJvZHkmJiEodC5ib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKXRocm93IG5ldyBFcnJvcigiUmVzcG9uc2UgaXMgbm90IGFuIEFycmF5QnVmZmVyLiIpO3JldHVybiB0LmJvZHl9KSk7Y2FzZSJibG9iIjpyZXR1cm4gaS5waXBlKHgodD0+e2lmKG51bGwhPT10LmJvZHkmJiEodC5ib2R5IGluc3RhbmNlb2YgQmxvYikpdGhyb3cgbmV3IEVycm9yKCJSZXNwb25zZSBpcyBub3QgYSBCbG9iLiIpO3JldHVybiB0LmJvZHl9KSk7Y2FzZSJ0ZXh0IjpyZXR1cm4gaS5waXBlKHgodD0+e2lmKG51bGwhPT10LmJvZHkmJiJzdHJpbmciIT10eXBlb2YgdC5ib2R5KXRocm93IG5ldyBFcnJvcigiUmVzcG9uc2UgaXMgbm90IGEgc3RyaW5nLiIpO3JldHVybiB0LmJvZHl9KSk7Y2FzZSJqc29uIjpkZWZhdWx0OnJldHVybiBpLnBpcGUoeCh0PT50LmJvZHkpKX1jYXNlInJlc3BvbnNlIjpyZXR1cm4gaTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5yZWFjaGFibGU6IHVuaGFuZGxlZCBvYnNlcnZlIHR5cGUgJHtuLm9ic2VydmV9fWApfX1kZWxldGUodCxlPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJERUxFVEUiLHQsZSl9Z2V0KHQsZT17fSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiR0VUIix0LGUpfWhlYWQodCxlPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJIRUFEIix0LGUpfWpzb25wKHQsZSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiSlNPTlAiLHQse3BhcmFtczoobmV3IHhtKS5hcHBlbmQoZSwiSlNPTlBfQ0FMTEJBQ0siKSxvYnNlcnZlOiJib2R5IixyZXNwb25zZVR5cGU6Impzb24ifSl9b3B0aW9ucyh0LGU9e30pe3JldHVybiB0aGlzLnJlcXVlc3QoIk9QVElPTlMiLHQsZSl9cGF0Y2godCxlLG49e30pe3JldHVybiB0aGlzLnJlcXVlc3QoIlBBVENIIix0LGptKG4sZSkpfXBvc3QodCxlLG49e30pe3JldHVybiB0aGlzLnJlcXVlc3QoIlBPU1QiLHQsam0obixlKSl9cHV0KHQsZSxuPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJQVVQiLHQsam0obixlKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHVyKENtKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y2xhc3MgTm17Y29uc3RydWN0b3IodCxlKXt0aGlzLm5leHQ9dCx0aGlzLmludGVyY2VwdG9yPWV9aGFuZGxlKHQpe3JldHVybiB0aGlzLmludGVyY2VwdG9yLmludGVyY2VwdCh0LHRoaXMubmV4dCl9fWNvbnN0IEhtPW5ldyBHbigiSFRUUF9JTlRFUkNFUFRPUlMiKTtsZXQgVm09KCgpPT57Y2xhc3MgdHtpbnRlcmNlcHQodCxlKXtyZXR1cm4gZS5oYW5kbGUodCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IHptPS9eXClcXVx9Jyw/XG4vO2xldCAkbT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMueGhyRmFjdG9yeT10fWhhbmRsZSh0KXtpZigiSlNPTlAiPT09dC5tZXRob2QpdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gY29uc3RydWN0IEpzb25wIHJlcXVlc3Qgd2l0aG91dCBIdHRwQ2xpZW50SnNvbnBNb2R1bGUgaW5zdGFsbGVkLiIpO3JldHVybiBuZXcgdihlPT57Y29uc3Qgbj10aGlzLnhockZhY3RvcnkuYnVpbGQoKTtpZihuLm9wZW4odC5tZXRob2QsdC51cmxXaXRoUGFyYW1zKSx0LndpdGhDcmVkZW50aWFscyYmKG4ud2l0aENyZWRlbnRpYWxzPSEwKSx0LmhlYWRlcnMuZm9yRWFjaCgodCxlKT0+bi5zZXRSZXF1ZXN0SGVhZGVyKHQsZS5qb2luKCIsIikpKSx0LmhlYWRlcnMuaGFzKCJBY2NlcHQiKXx8bi5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyoiKSwhdC5oZWFkZXJzLmhhcygiQ29udGVudC1UeXBlIikpe2NvbnN0IGU9dC5kZXRlY3RDb250ZW50VHlwZUhlYWRlcigpO251bGwhPT1lJiZuLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsZSl9aWYodC5yZXNwb25zZVR5cGUpe2NvbnN0IGU9dC5yZXNwb25zZVR5cGUudG9Mb3dlckNhc2UoKTtuLnJlc3BvbnNlVHlwZT0ianNvbiIhPT1lP2U6InRleHQifWNvbnN0IHI9dC5zZXJpYWxpemVCb2R5KCk7bGV0IHM9bnVsbDtjb25zdCBpPSgpPT57aWYobnVsbCE9PXMpcmV0dXJuIHM7Y29uc3QgZT0xMjIzPT09bi5zdGF0dXM/MjA0Om4uc3RhdHVzLHI9bi5zdGF0dXNUZXh0fHwiT0siLGk9bmV3IF9tKG4uZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpLG89ZnVuY3Rpb24odCl7cmV0dXJuInJlc3BvbnNlVVJMImluIHQmJnQucmVzcG9uc2VVUkw/dC5yZXNwb25zZVVSTDovXlgtUmVxdWVzdC1VUkw6L20udGVzdCh0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpKT90LmdldFJlc3BvbnNlSGVhZGVyKCJYLVJlcXVlc3QtVVJMIik6bnVsbH0obil8fHQudXJsO3JldHVybiBzPW5ldyBSbSh7aGVhZGVyczppLHN0YXR1czplLHN0YXR1c1RleHQ6cix1cmw6b30pLHN9LG89KCk9PntsZXR7aGVhZGVyczpyLHN0YXR1czpzLHN0YXR1c1RleHQ6byx1cmw6YX09aSgpLGM9bnVsbDsyMDQhPT1zJiYoYz12b2lkIDA9PT1uLnJlc3BvbnNlP24ucmVzcG9uc2VUZXh0Om4ucmVzcG9uc2UpLDA9PT1zJiYocz1jPzIwMDowKTtsZXQgbD1zPj0yMDAmJnM8MzAwO2lmKCJqc29uIj09PXQucmVzcG9uc2VUeXBlJiYic3RyaW5nIj09dHlwZW9mIGMpe2NvbnN0IHQ9YztjPWMucmVwbGFjZSh6bSwiIik7dHJ5e2M9IiIhPT1jP0pTT04ucGFyc2UoYyk6bnVsbH1jYXRjaCh1KXtjPXQsbCYmKGw9ITEsYz17ZXJyb3I6dSx0ZXh0OmN9KX19bD8oZS5uZXh0KG5ldyBMbSh7Ym9keTpjLGhlYWRlcnM6cixzdGF0dXM6cyxzdGF0dXNUZXh0Om8sdXJsOmF8fHZvaWQgMH0pKSxlLmNvbXBsZXRlKCkpOmUuZXJyb3IobmV3IEJtKHtlcnJvcjpjLGhlYWRlcnM6cixzdGF0dXM6cyxzdGF0dXNUZXh0Om8sdXJsOmF8fHZvaWQgMH0pKX0sYT10PT57Y29uc3R7dXJsOnJ9PWkoKSxzPW5ldyBCbSh7ZXJyb3I6dCxzdGF0dXM6bi5zdGF0dXN8fDAsc3RhdHVzVGV4dDpuLnN0YXR1c1RleHR8fCJVbmtub3duIEVycm9yIix1cmw6cnx8dm9pZCAwfSk7ZS5lcnJvcihzKX07bGV0IGM9ITE7Y29uc3QgbD1yPT57Y3x8KGUubmV4dChpKCkpLGM9ITApO2xldCBzPXt0eXBlOk9tLkRvd25sb2FkUHJvZ3Jlc3MsbG9hZGVkOnIubG9hZGVkfTtyLmxlbmd0aENvbXB1dGFibGUmJihzLnRvdGFsPXIudG90YWwpLCJ0ZXh0Ij09PXQucmVzcG9uc2VUeXBlJiZuLnJlc3BvbnNlVGV4dCYmKHMucGFydGlhbFRleHQ9bi5yZXNwb25zZVRleHQpLGUubmV4dChzKX0sdT10PT57bGV0IG49e3R5cGU6T20uVXBsb2FkUHJvZ3Jlc3MsbG9hZGVkOnQubG9hZGVkfTt0Lmxlbmd0aENvbXB1dGFibGUmJihuLnRvdGFsPXQudG90YWwpLGUubmV4dChuKX07cmV0dXJuIG4uYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsbyksbi5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsYSksbi5hZGRFdmVudExpc3RlbmVyKCJ0aW1lb3V0IixhKSxuLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IixhKSx0LnJlcG9ydFByb2dyZXNzJiYobi5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsbCksbnVsbCE9PXImJm4udXBsb2FkJiZuLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsdSkpLG4uc2VuZChyKSxlLm5leHQoe3R5cGU6T20uU2VudH0pLCgpPT57bi5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsYSksbi5yZW1vdmVFdmVudExpc3RlbmVyKCJhYm9ydCIsYSksbi5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixvKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRpbWVvdXQiLGEpLHQucmVwb3J0UHJvZ3Jlc3MmJihuLnJlbW92ZUV2ZW50TGlzdGVuZXIoInByb2dyZXNzIixsKSxudWxsIT09ciYmbi51cGxvYWQmJm4udXBsb2FkLnJlbW92ZUV2ZW50TGlzdGVuZXIoInByb2dyZXNzIix1KSksbi5yZWFkeVN0YXRlIT09bi5ET05FJiZuLmFib3J0KCl9fSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHVyKFNoKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y29uc3QgVW09bmV3IEduKCJYU1JGX0NPT0tJRV9OQU1FIiksV209bmV3IEduKCJYU1JGX0hFQURFUl9OQU1FIik7Y2xhc3MgR217fWxldCBxbT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLmRvYz10LHRoaXMucGxhdGZvcm09ZSx0aGlzLmNvb2tpZU5hbWU9bix0aGlzLmxhc3RDb29raWVTdHJpbmc9IiIsdGhpcy5sYXN0VG9rZW49bnVsbCx0aGlzLnBhcnNlQ291bnQ9MH1nZXRUb2tlbigpe2lmKCJzZXJ2ZXIiPT09dGhpcy5wbGF0Zm9ybSlyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuZG9jLmNvb2tpZXx8IiI7cmV0dXJuIHQhPT10aGlzLmxhc3RDb29raWVTdHJpbmcmJih0aGlzLnBhcnNlQ291bnQrKyx0aGlzLmxhc3RUb2tlbj1LdSh0LHRoaXMuY29va2llTmFtZSksdGhpcy5sYXN0Q29va2llU3RyaW5nPXQpLHRoaXMubGFzdFRva2VufX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh1cihXbCksdXIoS2MpLHVyKFVtKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksWG09KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudG9rZW5TZXJ2aWNlPXQsdGhpcy5oZWFkZXJOYW1lPWV9aW50ZXJjZXB0KHQsZSl7Y29uc3Qgbj10LnVybC50b0xvd2VyQ2FzZSgpO2lmKCJHRVQiPT09dC5tZXRob2R8fCJIRUFEIj09PXQubWV0aG9kfHxuLnN0YXJ0c1dpdGgoImh0dHA6Ly8iKXx8bi5zdGFydHNXaXRoKCJodHRwczovLyIpKXJldHVybiBlLmhhbmRsZSh0KTtjb25zdCByPXRoaXMudG9rZW5TZXJ2aWNlLmdldFRva2VuKCk7cmV0dXJuIG51bGw9PT1yfHx0LmhlYWRlcnMuaGFzKHRoaXMuaGVhZGVyTmFtZSl8fCh0PXQuY2xvbmUoe2hlYWRlcnM6dC5oZWFkZXJzLnNldCh0aGlzLmhlYWRlck5hbWUscil9KSksZS5oYW5kbGUodCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHVyKEdtKSx1cihXbSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLFltPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLmJhY2tlbmQ9dCx0aGlzLmluamVjdG9yPWUsdGhpcy5jaGFpbj1udWxsfWhhbmRsZSh0KXtpZihudWxsPT09dGhpcy5jaGFpbil7Y29uc3QgdD10aGlzLmluamVjdG9yLmdldChIbSxbXSk7dGhpcy5jaGFpbj10LnJlZHVjZVJpZ2h0KCh0LGUpPT5uZXcgTm0odCxlKSx0aGlzLmJhY2tlbmQpfXJldHVybiB0aGlzLmNoYWluLmhhbmRsZSh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodXIod20pLHVyKFFpKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksWm09KCgpPT57Y2xhc3MgdHtzdGF0aWMgZGlzYWJsZSgpe3JldHVybntuZ01vZHVsZTp0LHByb3ZpZGVyczpbe3Byb3ZpZGU6WG0sdXNlQ2xhc3M6Vm19XX19c3RhdGljIHdpdGhPcHRpb25zKGU9e30pe3JldHVybntuZ01vZHVsZTp0LHByb3ZpZGVyczpbZS5jb29raWVOYW1lP3twcm92aWRlOlVtLHVzZVZhbHVlOmUuY29va2llTmFtZX06W10sZS5oZWFkZXJOYW1lP3twcm92aWRlOldtLHVzZVZhbHVlOmUuaGVhZGVyTmFtZX06W11dfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltYbSx7cHJvdmlkZTpIbSx1c2VFeGlzdGluZzpYbSxtdWx0aTohMH0se3Byb3ZpZGU6R20sdXNlQ2xhc3M6cW19LHtwcm92aWRlOlVtLHVzZVZhbHVlOiJYU1JGLVRPS0VOIn0se3Byb3ZpZGU6V20sdXNlVmFsdWU6IlgtWFNSRi1UT0tFTiJ9XX0pLHR9KSgpLFFtPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbTW0se3Byb3ZpZGU6Q20sdXNlQ2xhc3M6WW19LCRtLHtwcm92aWRlOndtLHVzZUV4aXN0aW5nOiRtfV0saW1wb3J0czpbW1ptLndpdGhPcHRpb25zKHtjb29raWVOYW1lOiJYU1JGLVRPS0VOIixoZWFkZXJOYW1lOiJYLVhTUkYtVE9LRU4ifSldXX0pLHR9KSgpO2Z1bmN0aW9uIEttKHQsZSl7dmFyIG49e307Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJmUuaW5kZXhPZihyKTwwJiYobltyXT10W3JdKTtpZihudWxsIT10JiYiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHM9MDtmb3Iocj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO3M8ci5sZW5ndGg7cysrKWUuaW5kZXhPZihyW3NdKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodCxyW3NdKSYmKG5bcltzXV09dFtyW3NdXSl9cmV0dXJuIG59ZnVuY3Rpb24gSm0odCxlLG4scil7dmFyIHMsaT1hcmd1bWVudHMubGVuZ3RoLG89aTwzP2U6bnVsbD09PXI/cj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik6cjtpZigib2JqZWN0Ij09dHlwZW9mIFJlZmxlY3QmJiJmdW5jdGlvbiI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKW89UmVmbGVjdC5kZWNvcmF0ZSh0LGUsbixyKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShzPXRbYV0pJiYobz0oaTwzP3Mobyk6aT4zP3MoZSxuLG8pOnMoZSxuKSl8fG8pO3JldHVybiBpPjMmJm8mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4sbyksb31sZXQgdHk9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7fSksdH0pKCksZXk9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3R5XV19KSx0fSkoKSxueT0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltleV19KSx0fSkoKTtmdW5jdGlvbiByeSh0LGU9RmQpe3JldHVybiBuPT5uLmxpZnQobmV3IHN5KHQsZSkpfWNsYXNzIHN5e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5kdWVUaW1lPXQsdGhpcy5zY2hlZHVsZXI9ZX1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyBpeSh0LHRoaXMuZHVlVGltZSx0aGlzLnNjaGVkdWxlcikpfX1jbGFzcyBpeSBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQpLHRoaXMuZHVlVGltZT1lLHRoaXMuc2NoZWR1bGVyPW4sdGhpcy5kZWJvdW5jZWRTdWJzY3JpcHRpb249bnVsbCx0aGlzLmxhc3RWYWx1ZT1udWxsLHRoaXMuaGFzVmFsdWU9ITF9X25leHQodCl7dGhpcy5jbGVhckRlYm91bmNlKCksdGhpcy5sYXN0VmFsdWU9dCx0aGlzLmhhc1ZhbHVlPSEwLHRoaXMuYWRkKHRoaXMuZGVib3VuY2VkU3Vic2NyaXB0aW9uPXRoaXMuc2NoZWR1bGVyLnNjaGVkdWxlKG95LHRoaXMuZHVlVGltZSx0aGlzKSl9X2NvbXBsZXRlKCl7dGhpcy5kZWJvdW5jZWROZXh0KCksdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfWRlYm91bmNlZE5leHQoKXtpZih0aGlzLmNsZWFyRGVib3VuY2UoKSx0aGlzLmhhc1ZhbHVlKXtjb25zdHtsYXN0VmFsdWU6dH09dGhpczt0aGlzLmxhc3RWYWx1ZT1udWxsLHRoaXMuaGFzVmFsdWU9ITEsdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfX1jbGVhckRlYm91bmNlKCl7Y29uc3QgdD10aGlzLmRlYm91bmNlZFN1YnNjcmlwdGlvbjtudWxsIT09dCYmKHRoaXMucmVtb3ZlKHQpLHQudW5zdWJzY3JpYmUoKSx0aGlzLmRlYm91bmNlZFN1YnNjcmlwdGlvbj1udWxsKX19ZnVuY3Rpb24gb3kodCl7dC5kZWJvdW5jZWROZXh0KCl9Y2xhc3MgYXl7Y29uc3RydWN0b3IodCl7dGhpcy52YWx1ZT10fWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IGN5KHQsdGhpcy52YWx1ZSkpfX1jbGFzcyBjeSBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLnZhbHVlPWV9X25leHQodCl7dGhpcy5kZXN0aW5hdGlvbi5uZXh0KHRoaXMudmFsdWUpfX1jbGFzcyBseXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucHJlZGljYXRlPXQsdGhpcy5pbmNsdXNpdmU9ZX1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyB1eSh0LHRoaXMucHJlZGljYXRlLHRoaXMuaW5jbHVzaXZlKSl9fWNsYXNzIHV5IGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCksdGhpcy5wcmVkaWNhdGU9ZSx0aGlzLmluY2x1c2l2ZT1uLHRoaXMuaW5kZXg9MH1fbmV4dCh0KXtjb25zdCBlPXRoaXMuZGVzdGluYXRpb247bGV0IG47dHJ5e249dGhpcy5wcmVkaWNhdGUodCx0aGlzLmluZGV4KyspfWNhdGNoKHIpe3JldHVybiB2b2lkIGUuZXJyb3Iocil9dGhpcy5uZXh0T3JDb21wbGV0ZSh0LG4pfW5leHRPckNvbXBsZXRlKHQsZSl7Y29uc3Qgbj10aGlzLmRlc3RpbmF0aW9uO0Jvb2xlYW4oZSk/bi5uZXh0KHQpOih0aGlzLmluY2x1c2l2ZSYmbi5uZXh0KHQpLG4uY29tcGxldGUoKSl9fWZ1bmN0aW9uIGh5KHQsZSl7MSZ0JiZPbygwKX1jb25zdCBkeT1bIioiXTtmdW5jdGlvbiBweSh0LGUpezEmdCYmd28oMCl9ZnVuY3Rpb24gZnkodCxlKXtpZigxJnQpe2NvbnN0IHQ9X28oKTt2bygwLCJzZWN0aW9uIiwyKSx2bygxLCJwby1hY2NvcmRpb24taXRlbS1oZWFkZXIiLDMpLHhvKCJwLXRvZ2dsZSIsZnVuY3Rpb24oZSl7Y29uc3Qgbj1QZSh0KS4kaW1wbGljaXQ7cmV0dXJuIGtvKCkuaGVhZGVyVG9nZ2xlKGUsbil9KSxibygpLHZvKDIsInBvLWFjY29yZGlvbi1pdGVtLWJvZHkiLDQpLHBvKDMscHksMSwwLCJuZy1jb250YWluZXIiLDUpLGJvKCksYm8oKX1pZigyJnQpe2NvbnN0IHQ9ZS4kaW1wbGljaXQ7SG8oInBvLWFjY29yZGlvbi1pdGVtLWFjdGl2ZSIsdC5leHBhbmRlZCksenMoMSksbW8oInAtZXhwYW5kZWQiLHQuZXhwYW5kZWQpKCJwLWxhYmVsIix0LmxhYmVsKSx6cygxKSxtbygicC1leHBhbmRlZCIsdC5leHBhbmRlZCksenMoMSksbW8oIm5nVGVtcGxhdGVPdXRsZXQiLHQudGVtcGxhdGVSZWYpfX1mdW5jdGlvbiBneSh0LGUpezEmdCYmKHZvKDAsImRpdiIsMSksdm8oMSwiZGl2IiwyKSxPbygyKSxibygpLGJvKCkpLDImdCYmbW8oIkB0b2dnbGVCb2R5Iix2b2lkIDApfWZ1bmN0aW9uIG15KHQsZSl7MSZ0JiZ3bygwKX1mdW5jdGlvbiB5eSh0LGUpezEmdCYmQ28oMCwiaSIsMiksMiZ0JiZWbyhrbygpLmNsYXNzKX1mdW5jdGlvbiB2eSh0LGUpe2lmKDEmdCYmKHZvKDAsInNwYW4iLDIpLEpvKDEpLGJvKCkpLDImdCl7Y29uc3QgdD1rbygpO3pzKDEpLHRhKHQudGV4dCl9fWNvbnN0IGJ5PVsiYnV0dG9uIl07ZnVuY3Rpb24gQ3kodCxlKXsxJnQmJih2bygwLCJkaXYiLDUpLENvKDEsInBvLWxvYWRpbmctaWNvbiIsNiksYm8oKSl9ZnVuY3Rpb24gd3kodCxlKXsxJnQmJkNvKDAsInBvLWljb24iLDcpLDImdCYmbW8oInAtaWNvbiIsa28oKS5pY29uKX1mdW5jdGlvbiBfeSh0LGUpe2lmKDEmdCYmKHZvKDAsInNwYW4iLDgpLEpvKDEpLGJvKCkpLDImdCl7Y29uc3QgdD1rbygpO3pzKDEpLHRhKHQubGFiZWwpfX1jb25zdCBEeT1bImNoYXJ0TGluZSJdLEV5PVsicG8tY2hhcnQtYXJlYSIsIiJdO2Z1bmN0aW9uIFN5KHQsZSl7aWYoMSZ0KXtjb25zdCB0PV9vKCk7b24oKSx2bygwLCJnIiwyKSx4bygibW91c2VlbnRlciIsZnVuY3Rpb24oKXtjb25zdCBlPVBlKHQpLmluZGV4O3JldHVybiBrbygpLm9uRW50ZXIoZSl9KSgibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXtjb25zdCBlPVBlKHQpLmluZGV4O3JldHVybiBrbygpLm9uTGVhdmUoZSl9KSxDbygxLCJnIiwzKSx2bygyLCJnIiw0KSx4bygicC1wb2ludC1jbGljayIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLGtvKCkub25TZXJpZVBvaW50Q2xpY2soZSl9KSgicC1wb2ludC1ob3ZlciIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLGtvKCkub25TZXJpZVBvaW50SG92ZXIoZSl9KSxibygpLGJvKCl9aWYoMiZ0KXtjb25zdCB0PWUuJGltcGxpY2l0LG49ZS5pbmRleCxyPWtvKCk7Vm8oInBvLWNoYXJ0LWxpbmUtcGF0aC1ncm91cC0iK24pLHpzKDEpLG1vKCJwLWNoYXJ0LWxpbmUiLCJsaW5lIj09PXIuY2hhcnRUeXBlKSgicC1hbmltYXRlIixyLmFuaW1hdGUpKCJwLWNvbG9yIix0LmNvbG9yKSgicC1jb29yZGluYXRlcyIsbnVsbD09dD9udWxsOnQuY29vcmRpbmF0ZXMpKCJwLWlzLWFjdGl2ZSIsdC5pc0FjdGl2ZSksdW8oImtleSIsInBvLWNoYXJ0LWxpbmUtcGF0aC0iK24pLHpzKDEpLG1vKCJwLWFuaW1hdGUiLHIuYW5pbWF0ZSkoInAtY2hhcnQtbGluZSIsImxpbmUiPT09ci5jaGFydFR5cGUpKCJwLWNvbG9yIix0LmNvbG9yKSgicC1jb29yZGluYXRlcyIsci5zZXJpZXNQb2ludHNDb29yZGluYXRlc1tuXSkoInAtaXMtYWN0aXZlIixyLmFjdGl2ZVRvb2x0aXApKCJwLXJlbGF0aXZlLXRvIiwicG8tY2hhcnQtbGluZS1wYXRoLWdyb3VwLSIrbiksdW8oImtleSIsInBvLWNoYXJ0LWxpbmUtcGF0aC1wb2ludHMtZ3JvdXAtIituKX19Y29uc3QgeHk9WyJwby1jaGFydC1heGlzIiwiIl0sQXk9WyJwby1jaGFydC1heGlzLXBhdGgiLCIiXTtmdW5jdGlvbiBUeSh0LGUpezEmdCYmKG9uKCksQ28oMCwicGF0aCIsMSkpLDImdCYmdW8oImQiLGUuJGltcGxpY2l0LmNvb3JkaW5hdGVzKX1mdW5jdGlvbiBreSh0LGUpezEmdCYmKG9uKCksQ28oMCwicGF0aCIsMSkpLDImdCYmdW8oImQiLGUuJGltcGxpY2l0LmNvb3JkaW5hdGVzKX1jb25zdCBGeT1bInBvLWNoYXJ0LWF4aXMtbGFiZWwiLCIiXTtmdW5jdGlvbiBJeSh0LGUpe2lmKDEmdCYmKG9uKCksdm8oMCwidGV4dCIsMiksSm8oMSksYm8oKSksMiZ0KXtjb25zdCB0PWUuJGltcGxpY2l0O3VvKCJ4Iix0LnhDb29yZGluYXRlKSgieSIsdC55Q29vcmRpbmF0ZSksenMoMSksZWEoIiAiLHQubGFiZWwsIiAiKX19ZnVuY3Rpb24gT3kodCxlKXtpZigxJnQmJihvbigpLHZvKDAsInRleHQiLDMpLEpvKDEpLGJvKCkpLDImdCl7Y29uc3QgdD1lLiRpbXBsaWNpdDtIbygicG8tY2hhcnQtY2VudGVyZWQtbGFiZWwiLCFrbygpLmFsaWduQnlUaGVDb3JuZXJzKSx1bygieCIsdC54Q29vcmRpbmF0ZSkoInkiLHQueUNvb3JkaW5hdGUpLHpzKDEpLGVhKCIgIix0LmxhYmVsLCIgIil9fWNvbnN0IFB5PVsicG8tY2hhcnQtYmFyIiwiIl07ZnVuY3Rpb24gUnkodCxlKXtpZigxJnQpe2NvbnN0IHQ9X28oKTtvbigpLHZvKDAsImciKSx2bygxLCJnIiwxKSx4bygicC1iYXItY2xpY2siLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxrbygpLm9uU2VyaWVCYXJDbGljayhlKX0pKCJwLWJhci1ob3ZlciIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLGtvKCkub25TZXJpZUJhckhvdmVyKGUpfSksYm8oKSxibygpfWlmKDImdCl7Y29uc3QgdD1lLiRpbXBsaWNpdCxuPWUuaW5kZXgscj1rbygpO1ZvKCJwby1jaGFydC1iYXItZ3JvdXAtIituKSx6cygxKSxtbygicC1jb2xvciIsbnVsbD09dFswXT9udWxsOnRbMF0uY29sb3IpKCJwLWNvb3JkaW5hdGVzIix0KSgicC10b29sdGlwLXBvc2l0aW9uIixyLnRvb2x0aXBQb3NpdGlvbiksdW8oImtleSIsInBvLWNoYXJ0LWJhci1wYXRoLSIrbil9fWNvbnN0IEx5PVsicG8tY2hhcnQtY29sdW1uIiwiIl07ZnVuY3Rpb24gQnkodCxlKXtpZigxJnQpe2NvbnN0IHQ9X28oKTtvbigpLHZvKDAsImciKSx2bygxLCJnIiwxKSx4bygicC1iYXItY2xpY2siLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxrbygpLm9uU2VyaWVCYXJDbGljayhlKX0pKCJwLWJhci1ob3ZlciIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLGtvKCkub25TZXJpZUJhckhvdmVyKGUpfSksYm8oKSxibygpfWlmKDImdCl7Y29uc3QgdD1lLiRpbXBsaWNpdCxuPWUuaW5kZXgscj1rbygpO1ZvKCJwby1jaGFydC1iYXItZ3JvdXAtIituKSx6cygxKSxtbygicC1jb2xvciIsbnVsbD09dFswXT9udWxsOnRbMF0uY29sb3IpKCJwLWNvb3JkaW5hdGVzIix0KSgicC10b29sdGlwLXBvc2l0aW9uIixyLnRvb2x0aXBQb3NpdGlvbiksdW8oImtleSIsInBvLWNoYXJ0LWJhci1wYXRoLSIrbil9fWNvbnN0IGp5PVsiY2hhcnRCb2R5Il0sTXk9WyJzdmdDb250YWluZXIiXSxOeT1bImRlc2NyaXB0aW9uIl07ZnVuY3Rpb24gSHkodCxlKXtpZigxJnQmJih2bygwLCJwIiw0LDUpLEpvKDIpLGJvKCkpLDImdCl7Y29uc3QgdD1rbygyKTttbygicC10b29sdGlwIix0LnRvb2x0aXApLHpzKDIpLGVhKCIgIixudWxsPT10LnNlcmllP251bGw6dC5zZXJpZS5kZXNjcmlwdGlvbiwiICIpfX1mdW5jdGlvbiBWeSh0LGUpe2lmKDEmdCYmKHZvKDAsImRpdiIsMSksdm8oMSwicCIsMiksSm8oMiksYm8oKSxwbygzLEh5LDMsMiwicCIsMyksYm8oKSksMiZ0KXtjb25zdCB0PWtvKCk7bW8oIm5nU3R5bGUiLHQubWF4RGVzY3JpcHRpb25XaWR0aCksenMoMiksdGEodC5zZXJpZVZhbHVlQ29udmVydGVkKSx6cygxKSxtbygibmdJZiIsdC5oYXNTZXJpZURlc2NyaXB0aW9uKX19ZnVuY3Rpb24genkodCxlKXtpZigxJnQmJih2bygwLCJkaXYiLDUsNiksQ28oMiwiZGl2Iiw3KSx2bygzLCJkaXYiLDgpLEpvKDQpLGJvKCksYm8oKSksMiZ0KXtjb25zdCB0PWtvKCk7enMoNCksdGEodC50b29sdGlwVGV4dCl9fWNvbnN0ICR5PVsiY2hhcnRDb250YWluZXIiXSxVeT1bImNoYXJ0SGVhZGVyIl0sV3k9WyJjaGFydExlZ2VuZCJdLEd5PVsiY2hhcnRXcmFwcGVyIl07ZnVuY3Rpb24gcXkodCxlKXtpZigxJnQpe2NvbnN0IHQ9X28oKTt2bygwLCJwby1jaGFydC1jb250YWluZXIiLDkpLHhvKCJwLXNlcmllLWNsaWNrIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksa28oKS5vblNlcmllc0NsaWNrKGUpfSkoInAtc2VyaWUtaG92ZXIiLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxrbygpLm9uU2VyaWVzSG92ZXIoZSl9KSxibygpfWlmKDImdCl7Y29uc3QgdD1rbygpO21vKCJwLW9wdGlvbnMiLHQub3B0aW9ucykoInAtdHlwZSIsdC5jaGFydFR5cGUpKCJwLXNlcmllcyIsdC5jaGFydFNlcmllcykoInAtY2F0ZWdvcmllcyIsdC5jYXRlZ29yaWVzKSgicC1jb250YWluZXItc2l6ZSIsdC5zdmdDb250YWluZXJTaXplKX19ZnVuY3Rpb24gWHkodCxlKXt9ZnVuY3Rpb24gWXkodCxlKXsxJnQmJndvKDApfWZ1bmN0aW9uIFp5KHQsZSl7aWYoMSZ0JiYodm8oMCwiZGl2IikscG8oMSxZeSwxLDAsIm5nLWNvbnRhaW5lciIsMTApLGJvKCkpLDImdCl7a28oKTtjb25zdCB0PWZvKDExKTt6cygxKSxtbygibmdUZW1wbGF0ZU91dGxldCIsdCl9fWZ1bmN0aW9uIFF5KHQsZSl7aWYoMSZ0JiZDbygwLCJwby1jaGFydC1sZWdlbmQiLDExLDEyKSwyJnQpe2NvbnN0IHQ9a28oKTttbygicC1zZXJpZXMiLHQuY2hhcnRTZXJpZXMpKCJwLXR5cGUiLHQudHlwZSl9fWNvbnN0IEt5PVsic3ZnRUxlbWVudCJdO2Z1bmN0aW9uIEp5KHQsZSl7aWYoMSZ0KXtjb25zdCB0PV9vKCk7b24oKSx2bygwLCJnIiw5KSx4bygicC1jYXRlZ29yaWVzLWNvb3JkaW5hdGVzIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksa28oKS5nZXRDYXRlZ29yaWVzQ29vcmRpbmF0ZXMoZSl9KSxibygpfWlmKDImdCl7Y29uc3QgdD1rbygpO21vKCJwLWFsaWduLWJ5LXRoZS1jb3JuZXJzIix0LmFsaWduQnlUaGVDb3JuZXJzKSgicC1yYW5nZSIsdC5yYW5nZSkoInAtdHlwZSIsdC50eXBlKSgicC1zZXJpZXMiLHQuc2VyaWVzKSgicC1jb250YWluZXItc2l6ZSIsdC5jb250YWluZXJTaXplKSgicC1vcHRpb25zIix0LmF4aXNPcHRpb25zKSgicC1jYXRlZ29yaWVzIix0LmNhdGVnb3JpZXMpfX1mdW5jdGlvbiB0dih0LGUpe2lmKDEmdCl7Y29uc3QgdD1fbygpO29uKCksdm8oMCwiZyIsMTApLHhvKCJwLWJhci1ob3ZlciIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLGtvKCkub25TZXJpZUhvdmVyKGUpfSkoInAtYmFyLWNsaWNrIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksa28oKS5vblNlcmllQ2xpY2soZSl9KSxibygpfWlmKDImdCl7Y29uc3QgdD1rbygpO21vKCJwLWFsaWduLWJ5LXRoZS1jb3JuZXJzIix0LmFsaWduQnlUaGVDb3JuZXJzKSgicC1zdmctc3BhY2UiLHQuc3ZnU3BhY2UpKCJwLWNhdGVnb3JpZXMiLHQuY2F0ZWdvcmllcykoInAtY2F0ZWdvcmllcy1jb29yZGluYXRlcyIsdC5jYXRlZ29yaWVzQ29vcmRpbmF0ZXMpKCJwLXJhbmdlIix0LnJhbmdlKSgicC1zZXJpZXMiLHQuc2VyaWVzQnlUeXBlLmFyZWEpKCJwLWNvbnRhaW5lci1zaXplIix0LmNvbnRhaW5lclNpemUpfX1mdW5jdGlvbiBldih0LGUpe2lmKDEmdCl7Y29uc3QgdD1fbygpO29uKCksdm8oMCwiZyIsMTEpLHhvKCJwLWJhci1ob3ZlciIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLGtvKCkub25TZXJpZUhvdmVyKGUpfSkoInAtYmFyLWNsaWNrIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksa28oKS5vblNlcmllQ2xpY2soZSl9KSxibygpfWlmKDImdCl7Y29uc3QgdD1rbygpO21vKCJwLWNhdGVnb3JpZXMiLHQuY2F0ZWdvcmllcykoInAtcmFuZ2UiLHQucmFuZ2UpKCJwLXNlcmllcyIsdC5zZXJpZXNCeVR5cGUuY29sdW1uKSgicC1jb250YWluZXItc2l6ZSIsdC5jb250YWluZXJTaXplKX19ZnVuY3Rpb24gbnYodCxlKXtpZigxJnQpe2NvbnN0IHQ9X28oKTtvbigpLHZvKDAsImciLDEyKSx4bygicC1wb2ludC1ob3ZlciIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLGtvKCkub25TZXJpZUhvdmVyKGUpfSkoInAtcG9pbnQtY2xpY2siLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxrbygpLm9uU2VyaWVDbGljayhlKX0pLGJvKCl9aWYoMiZ0KXtjb25zdCB0PWtvKCk7bW8oInAtY2F0ZWdvcmllcyIsdC5jYXRlZ29yaWVzKSgicC1yYW5nZSIsdC5yYW5nZSkoInAtc2VyaWVzIix0LnNlcmllc0J5VHlwZS5saW5lKSgicC1jb250YWluZXItc2l6ZSIsdC5jb250YWluZXJTaXplKX19ZnVuY3Rpb24gcnYodCxlKXtpZigxJnQpe2NvbnN0IHQ9X28oKTtvbigpLHZvKDAsImciLDEzKSx4bygicC1iYXItaG92ZXIiLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxrbygpLm9uU2VyaWVIb3ZlcihlKX0pKCJwLWJhci1jbGljayIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLGtvKCkub25TZXJpZUNsaWNrKGUpfSksYm8oKX1pZigyJnQpe2NvbnN0IHQ9a28oKTttbygicC1jYXRlZ29yaWVzIix0LmNhdGVnb3JpZXMpKCJwLXJhbmdlIix0LnJhbmdlKSgicC1zZXJpZXMiLHQuc2VyaWVzQnlUeXBlLmJhcikoInAtY29udGFpbmVyLXNpemUiLHQuY29udGFpbmVyU2l6ZSl9fWZ1bmN0aW9uIHN2KHQsZSl7aWYoMSZ0KXtjb25zdCB0PV9vKCk7b24oKSx2bygwLCJnIiwxNCkseG8oInAtY2lyY3VsYXItaG92ZXIiLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxrbygpLm9uU2VyaWVIb3ZlcihlKX0pKCJwLWNpcmN1bGFyLWNsaWNrIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksa28oKS5vblNlcmllQ2xpY2soZSl9KSxibygpfWlmKDImdCl7Y29uc3QgdD1rbygpO21vKCJwLXNlcmllcyIsdC5zZXJpZXNCeVR5cGUucGllKSgicC1jb250YWluZXItc2l6ZSIsdC5jb250YWluZXJTaXplKX19ZnVuY3Rpb24gaXYodCxlKXtpZigxJnQpe2NvbnN0IHQ9X28oKTtvbigpLHZvKDAsImciLDE1KSx4bygicC1jaXJjdWxhci1ob3ZlciIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLGtvKCkub25TZXJpZUhvdmVyKGUpfSkoInAtY2lyY3VsYXItY2xpY2siLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxrbygpLm9uU2VyaWVDbGljayhlKX0pLGJvKCl9aWYoMiZ0KXtjb25zdCB0PWtvKCk7bW8oInAtb3B0aW9ucyIsdC5vcHRpb25zKSgicC1zZXJpZXMiLHQuc2VyaWVzQnlUeXBlLmRvbnV0KSgicC1jb250YWluZXItc2l6ZSIsdC5jb250YWluZXJTaXplKX19ZnVuY3Rpb24gb3YodCxlKXtpZigxJnQmJih2bygwLCJkaXYiLDMpLENvKDEsImRpdiIsNCksdm8oMiwic3BhbiIsNSksSm8oMyksYm8oKSxibygpKSwyJnQpe2NvbnN0IHQ9ZS4kaW1wbGljaXQ7enMoMSksVm8obnVsbCE9dC5jb2xvciYmdC5jb2xvci5pbmNsdWRlcygicG8tY29sb3IiKT90LmNvbG9yOiIiKSxObygiYmFja2dyb3VuZCIsdC5jb2xvciksenMoMiksdGEodC5sYWJlbHx8dC5jYXRlZ29yeSl9fWNvbnN0IGF2PVsicG8tY2hhcnQtbGluZSIsIiJdO2Z1bmN0aW9uIGN2KHQsZSl7aWYoMSZ0KXtjb25zdCB0PV9vKCk7b24oKSx2bygwLCJnIiwyKSx4bygibW91c2VlbnRlciIsZnVuY3Rpb24oKXtjb25zdCBlPVBlKHQpLmluZGV4O3JldHVybiBrbygpLm9uRW50ZXIoZSl9KSgibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXtjb25zdCBlPVBlKHQpLmluZGV4O3JldHVybiBrbygpLm9uTGVhdmUoZSl9KSxDbygxLCJnIiwzKSx2bygyLCJnIiw0KSx4bygicC1wb2ludC1jbGljayIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLGtvKCkub25TZXJpZVBvaW50Q2xpY2soZSl9KSgicC1wb2ludC1ob3ZlciIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLGtvKCkub25TZXJpZVBvaW50SG92ZXIoZSl9KSxibygpLGJvKCl9aWYoMiZ0KXtjb25zdCB0PWUuJGltcGxpY2l0LG49ZS5pbmRleCxyPWtvKCk7Vm8oInBvLWNoYXJ0LWxpbmUtcGF0aC1ncm91cC0iK24pLHpzKDEpLG1vKCJwLWNoYXJ0LWxpbmUiLCJsaW5lIj09PXIuY2hhcnRUeXBlKSgicC1hbmltYXRlIixyLmFuaW1hdGUpKCJwLWNvbG9yIix0LmNvbG9yKSgicC1jb29yZGluYXRlcyIsbnVsbD09dD9udWxsOnQuY29vcmRpbmF0ZXMpKCJwLWlzLWFjdGl2ZSIsdC5pc0FjdGl2ZSksdW8oImtleSIsInBvLWNoYXJ0LWxpbmUtcGF0aC0iK24pLHpzKDEpLG1vKCJwLWFuaW1hdGUiLHIuYW5pbWF0ZSkoInAtY2hhcnQtbGluZSIsImxpbmUiPT09ci5jaGFydFR5cGUpKCJwLWNvbG9yIix0LmNvbG9yKSgicC1jb29yZGluYXRlcyIsci5zZXJpZXNQb2ludHNDb29yZGluYXRlc1tuXSkoInAtaXMtYWN0aXZlIixyLmFjdGl2ZVRvb2x0aXApKCJwLXJlbGF0aXZlLXRvIiwicG8tY2hhcnQtbGluZS1wYXRoLWdyb3VwLSIrbiksdW8oImtleSIsInBvLWNoYXJ0LWxpbmUtcGF0aC1wb2ludHMtZ3JvdXAtIituKX19Y29uc3QgbHY9WyJwby1jaGFydC1iYXItcGF0aCIsIiJdO2Z1bmN0aW9uIHV2KHQsZSl7aWYoMSZ0KXtjb25zdCB0PV9vKCk7b24oKSx2bygwLCJwYXRoIiwxKSx4bygibW91c2VlbnRlciIsZnVuY3Rpb24oKXtjb25zdCBlPVBlKHQpLiRpbXBsaWNpdDtyZXR1cm4ga28oKS5vbk1vdXNlRW50ZXIoZSl9KSgiY2xpY2siLGZ1bmN0aW9uKCl7Y29uc3QgZT1QZSh0KS4kaW1wbGljaXQ7cmV0dXJuIGtvKCkub25DbGljayhlKX0pLGJvKCl9aWYoMiZ0KXtjb25zdCB0PWUuJGltcGxpY2l0LG49a28oKTtWbyhudWxsIT1uLmNvbG9yJiZuLmNvbG9yLmluY2x1ZGVzKCJwby1jb2xvciIpP24uY29sb3I6IiIpLG1vKCJwLXRvb2x0aXAiLHQudG9vbHRpcExhYmVsKSgicC10b29sdGlwLXBvc2l0aW9uIixuLnRvb2x0aXBQb3NpdGlvbikoInAtYXBwZW5kLWluLWJvZHkiLCEwKSx1bygiZmlsbCIsbi5jb2xvcikoImQiLHQuY29vcmRpbmF0ZXMpfX1jb25zdCBodj1bImNoYXJ0UGF0aCJdLGR2PVsicG8tY2hhcnQtcGF0aCIsIiJdLHB2PVsicG8tY2hhcnQtc2VyaWVzLXBvaW50IiwiIl07ZnVuY3Rpb24gZnYodCxlKXtpZigxJnQpe2NvbnN0IHQ9X28oKTtvbigpLHZvKDAsImNpcmNsZSIsMSkseG8oImNsaWNrIixmdW5jdGlvbigpe2NvbnN0IGU9UGUodCkuJGltcGxpY2l0O3JldHVybiBrbygpLm9uQ2xpY2soZSl9KSgibW91c2VlbnRlciIsZnVuY3Rpb24oZSl7Y29uc3Qgbj1QZSh0KS4kaW1wbGljaXQ7cmV0dXJuIGtvKCkub25Nb3VzZUVudGVyKGUsbil9KSgibW91c2VsZWF2ZSIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLGtvKCkub25Nb3VzZUxlYXZlKGUpfSksYm8oKX1pZigyJnQpe2NvbnN0IHQ9ZS4kaW1wbGljaXQsbj1rbygpO1ZvKG51bGwhPW4uc3Ryb2tlQ29sb3ImJm4uc3Ryb2tlQ29sb3IuaW5jbHVkZXMoInBvLWJvcmRlci1jb2xvciIpP24uc3Ryb2tlQ29sb3I6IiIpLEhvKCJwby1jaGFydC1hY3RpdmUtcG9pbnQiLHQuaXNBY3RpdmUpLG1vKCJwLXRvb2x0aXAiLHQudG9vbHRpcExhYmVsKSgicC1hcHBlbmQtaW4tYm9keSIsITApKCJwLWRpc3BsYXktdG9vbHRpcCIsIW4uY2hhcnRMaW5lJiZ0LmlzQWN0aXZlKSx1bygiY3giLHQueENvb3JkaW5hdGUpKCJjeSIsdC55Q29vcmRpbmF0ZSkoInIiLG4ucmFkaXVzKSgic3Ryb2tlIixuLnN0cm9rZUNvbG9yKX19Y29uc3QgZ3Y9WyJzdmdQYXRocyJdLG12PVsic3ZnTGFiZWxzIl0seXY9WyJwby1jaGFydC1waWUiLCIiXTtmdW5jdGlvbiB2dih0LGUpe2lmKDEmdCl7Y29uc3QgdD1fbygpO29uKCksdm8oMCwiZyIpLHZvKDEsImciLDIsMykseG8oInAtb24tY2xpY2siLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxrbygpLm9uU2VyaWVDbGljayhlKX0pKCJwLW9uLWhvdmVyIixmdW5jdGlvbihlKXtyZXR1cm4gUGUodCksa28oKS5vblNlcmllSG92ZXIoZSl9KSxibygpLGJvKCl9aWYoMiZ0KXtjb25zdCB0PWUuJGltcGxpY2l0LG49ZS5pbmRleDt6cygxKSxtbygicC1zZXJpZSIsdCksdW8oImtleSIsInBvLWNoYXJ0LWNpcmN1bGFyLXBhdGgtIituKX19ZnVuY3Rpb24gYnYodCxlKXtpZigxJnQmJihvbigpLHZvKDAsImciKSxDbygxLCJnIiw0LDUpLGJvKCkpLDImdCl7Y29uc3QgdD1lLiRpbXBsaWNpdCxuPWUuaW5kZXgscj1rbygyKTt6cygxKSxtbygicC1zZXJpZSIsdCkoInAtc2hvdy1sYWJlbCIsci5zaG93TGFiZWxzKSx1bygia2V5IiwicG8tY2hhcnQtY2lyY3VsYXItbGFiZWwtIituKX19ZnVuY3Rpb24gQ3YodCxlKXtpZigxJnQmJihvbigpLHZvKDAsImciKSxwbygxLGJ2LDMsMywiZyIsMCksYm8oKSksMiZ0KXtjb25zdCB0PWtvKCk7enMoMSksbW8oIm5nRm9yT2YiLHQuc2VyaWVzTGFiZWxzKX19Y29uc3Qgd3Y9WyJwby1jaGFydC1kb251dCIsIiJdO2Z1bmN0aW9uIF92KHQsZSl7aWYoMSZ0KXtjb25zdCB0PV9vKCk7b24oKSx2bygwLCJnIiksdm8oMSwiZyIsMiwzKSx4bygicC1vbi1jbGljayIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLGtvKCkub25TZXJpZUNsaWNrKGUpfSkoInAtb24taG92ZXIiLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxrbygpLm9uU2VyaWVIb3ZlcihlKX0pLGJvKCksYm8oKX1pZigyJnQpe2NvbnN0IHQ9ZS4kaW1wbGljaXQsbj1lLmluZGV4O3pzKDEpLG1vKCJwLXNlcmllIix0KSx1bygia2V5IiwicG8tY2hhcnQtY2lyY3VsYXItcGF0aC0iK24pfX1mdW5jdGlvbiBEdih0LGUpe2lmKDEmdCYmKG9uKCksdm8oMCwiZyIpLENvKDEsImciLDQsNSksYm8oKSksMiZ0KXtjb25zdCB0PWUuJGltcGxpY2l0LG49ZS5pbmRleCxyPWtvKDIpO3pzKDEpLG1vKCJwLXNlcmllIix0KSgicC1zaG93LWxhYmVsIixyLnNob3dMYWJlbHMpLHVvKCJrZXkiLCJwby1jaGFydC1jaXJjdWxhci1sYWJlbC0iK24pfX1mdW5jdGlvbiBFdih0LGUpe2lmKDEmdCYmKG9uKCksdm8oMCwiZyIpLHBvKDEsRHYsMywzLCJnIiwwKSxibygpKSwyJnQpe2NvbnN0IHQ9a28oKTt6cygxKSxtbygibmdGb3JPZiIsdC5zZXJpZXNMYWJlbHMpfX1jb25zdCBTdj1bInN2Z0xhYmVsIl0seHY9WyJwby1jaGFydC1jaXJjdWxhci1sYWJlbCIsIiJdLEF2PVsic3ZnUGF0aCJdLFR2PVsicG8tY2hhcnQtY2lyY3VsYXItcGF0aCIsIiJdLGt2PVsibW9kYWxDb250ZW50Il07ZnVuY3Rpb24gRnYodCxlKXtpZigxJnQpe2NvbnN0IHQ9X28oKTt2bygwLCJhIiwxNCkseG8oImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBQZSh0KSxrbygyKS5jbG9zZSghMCl9KSxDbygxLCJzcGFuIiwxNSksYm8oKX19ZnVuY3Rpb24gSXYodCxlKXtpZigxJnQpe2NvbnN0IHQ9X28oKTt2bygwLCJwby1idXR0b24iLDE2KSx4bygicC1jbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gUGUodCksa28oMikuc2Vjb25kYXJ5QWN0aW9uLmFjdGlvbigpfSksYm8oKX1pZigyJnQpe2NvbnN0IHQ9a28oMik7bW8oInAtZGlzYWJsZWQiLHQuc2Vjb25kYXJ5QWN0aW9uLmRpc2FibGVkKSgicC1sYWJlbCIsdC5zZWNvbmRhcnlBY3Rpb24ubGFiZWwpKCJwLWxvYWRpbmciLHQuc2Vjb25kYXJ5QWN0aW9uLmxvYWRpbmcpKCJwLXR5cGUiLHQuZ2V0U2Vjb25kYXJ5QWN0aW9uQnV0dG9uVHlwZSgpKX19ZnVuY3Rpb24gT3YodCxlKXtpZigxJnQpe2NvbnN0IHQ9X28oKTt2bygwLCJkaXYiLDEpLHhvKCJrZXlkb3duLmVzYyIsZnVuY3Rpb24oZSl7cmV0dXJuIFBlKHQpLGtvKCkuY2xvc2VNb2RhbE9uRXNjYXBlS2V5KGUpfSksdm8oMSwiZGl2IiwyKSx2bygyLCJkaXYiLDMpLHhvKCJtb3VzZWRvd24iLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxrbygpLm9uQ2xpY2tPdXQoZSl9KSx2bygzLCJkaXYiLDQpLHZvKDQsImRpdiIsNSw2KSx2byg2LCJkaXYiLDcpLHZvKDcsImRpdiIsOCksSm8oOCksYm8oKSxwbyg5LEZ2LDIsMCwiYSIsOSksYm8oKSx2bygxMCwiZGl2IiwxMCksT28oMTEpLGJvKCksdm8oMTIsImRpdiIsMTEpLHBvKDEzLEl2LDEsNCwicG8tYnV0dG9uIiwxMiksdm8oMTQsInBvLWJ1dHRvbiIsMTMpLHhvKCJwLWNsaWNrIixmdW5jdGlvbigpe3JldHVybiBQZSh0KSxrbygpLnByaW1hcnlBY3Rpb24uYWN0aW9uKCl9KSxibygpLGJvKCksYm8oKSxibygpLGJvKCksYm8oKSxibygpfWlmKDImdCl7Y29uc3QgdD1rbygpO3pzKDQpLG5hKCJwby1tb2RhbC1jb250ZW50IHBvLW1vZGFsLSIsdC5zaXplLCIiKSx6cyg0KSxlYSgiICIsdC50aXRsZSwiICIpLHpzKDEpLG1vKCJuZ0lmIiwhdC5oaWRlQ2xvc2UpLHpzKDQpLG1vKCJuZ0lmIix0LnNlY29uZGFyeUFjdGlvbiksenMoMSksbW8oInAtZGlzYWJsZWQiLHQucHJpbWFyeUFjdGlvbi5kaXNhYmxlZCkoInAtbGFiZWwiLHQucHJpbWFyeUFjdGlvbi5sYWJlbCkoInAtbG9hZGluZyIsdC5wcmltYXJ5QWN0aW9uLmxvYWRpbmcpKCJwLXR5cGUiLHQuZ2V0UHJpbWFyeUFjdGlvbkJ1dHRvblR5cGUoKSl9fWNvbnN0IFB2PVsidG9hc3RlciJdO2Z1bmN0aW9uIFJ2KHQsZSl7aWYoMSZ0KXtjb25zdCB0PV9vKCk7dm8oMCwiZGl2Iiw3KSx4bygiY2xpY2siLGZ1bmN0aW9uKGUpe3JldHVybiBQZSh0KSxrbygpLnBvVG9hc3RlckFjdGlvbihlKX0pLEpvKDEpLGJvKCl9aWYoMiZ0KXtjb25zdCB0PWtvKCk7enMoMSksZWEoIiAiLHQuYWN0aW9uTGFiZWwsIiAiKX19ZnVuY3Rpb24gTHYodCxlKXtpZigxJnQmJih2bygwLCJkaXYiLDYpLHZvKDEsInNwYW4iLDcpLEpvKDIpLGJvKCksYm8oKSksMiZ0KXtjb25zdCB0PWtvKCk7enMoMiksdGEodC50YWdPcmllbnRhdGlvbj90LmxhYmVsKyI6Ijp0LmxhYmVsKX19ZnVuY3Rpb24gQnYodCxlKXtpZigxJnQmJkNvKDAsInBvLWljb24iLDgpLDImdCl7Y29uc3QgdD1rbygpO21vKCJwLWljb24iLHQudHlwZT90Lmljb25Gcm9tVHlwZTp0Lmljb24pfX1mdW5jdGlvbiBqdih0LGUpe2lmKDEmdCYmKHZvKDAsImRpdiIsNiksQ28oMSwicG8tdGFnIiw3KSxibygpKSwyJnQpe2NvbnN0IHQ9a28oKS4kaW1wbGljaXQsZT1rbygpO3pzKDEpLG1vKCJwLWNvbG9yIixlLnR5cGVDb2xvcih0LnR5cGUpKSgicC12YWx1ZSIsZS50eXBlVmFsdWUodC50eXBlKSl9fWZ1bmN0aW9uIE12KHQsZSl7aWYoMSZ0JiYodm8oMCwicG8tYWNjb3JkaW9uLWl0ZW0iLDQpLHBvKDEsanYsMiwyLCJkaXYiLDUpLHZvKDIsImRpdiIsMSksdm8oMywicCIpLEpvKDQpLGJvKCksYm8oKSxibygpKSwyJnQpe2NvbnN0IHQ9ZS4kaW1wbGljaXQ7bW8oInAtbGFiZWwiLGtvKCkuZm9ybWF0RGV0YWlsSXRlbVRpdGxlKHQpKSx6cygxKSxtbygibmdJZiIsdC50eXBlKSx6cygzKSx0YSh0LmRldGFpbGVkTWVzc2FnZSl9fWxldCBOdj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5zdWJqZWN0Q2hpbGQ9bmV3IER9cmVjZWl2ZUZyb21DaGlsZEFjY29yZGlvbkNsaWNrZWQoKXtyZXR1cm4gdGhpcy5zdWJqZWN0Q2hpbGQuYXNPYnNlcnZhYmxlKCl9c2VuZFRvUGFyZW50QWNjb3JkaW9uSXRlbUNsaWNrZWQodCl7dGhpcy5zdWJqZWN0Q2hpbGQubmV4dCh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksSHY9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmFjY29yZGlvblNlcnZpY2U9dH1jb2xsYXBzZSgpe3RoaXMuZXhwYW5kZWQ9ITEsdGhpcy5hY2NvcmRpb25TZXJ2aWNlLnNlbmRUb1BhcmVudEFjY29yZGlvbkl0ZW1DbGlja2VkKHRoaXMpfWV4cGFuZCgpe3RoaXMuZXhwYW5kZWQ9ITAsdGhpcy5hY2NvcmRpb25TZXJ2aWNlLnNlbmRUb1BhcmVudEFjY29yZGlvbkl0ZW1DbGlja2VkKHRoaXMpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyhOdikpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1hY2NvcmRpb24taXRlbSJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJkhjKHJjLDcpLDImdCl7bGV0IHQ7TmModD1WYygpKSYmKGUudGVtcGxhdGVSZWY9dC5maXJzdCl9fSxpbnB1dHM6e2xhYmVsOlsicC1sYWJlbCIsImxhYmVsIl19LG5nQ29udGVudFNlbGVjdG9yczpkeSxkZWNsczoxLHZhcnM6MCx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKElvKCkscG8oMCxoeSwxLDAsIm5nLXRlbXBsYXRlIikpfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxWdj0oKCk9PntjbGFzcyB0IGV4dGVuZHMgY2xhc3N7fXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuYWNjb3JkaW9uU2VydmljZT10LHRoaXMucmVjZWl2ZUZyb21DaGlsZEFjY29yZGlvblN1YnNjcmlwdGlvbigpfW5nT25EZXN0cm95KCl7dGhpcy5hY2NvcmRpb25TZXJ2aWNlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCl9aGVhZGVyVG9nZ2xlKHQsZSl7ZS5leHBhbmRlZD10LHRoaXMudG9nZ2xlKGUpfXJlY2VpdmVGcm9tQ2hpbGRBY2NvcmRpb25TdWJzY3JpcHRpb24oKXt0aGlzLmFjY29yZGlvblNlcnZpY2VTdWJzY3JpcHRpb249dGhpcy5hY2NvcmRpb25TZXJ2aWNlLnJlY2VpdmVGcm9tQ2hpbGRBY2NvcmRpb25DbGlja2VkKCkuc3Vic2NyaWJlKHQ9PnRoaXMudG9nZ2xlKHQpKX10b2dnbGUodCl7dC5leHBhbmRlZD8odGhpcy5leHBhbmRlZEFjdGl2ZUFjY29yZGlvbkl0ZW0mJnRoaXMuZXhwYW5kZWRBY3RpdmVBY2NvcmRpb25JdGVtLmNvbGxhcHNlKCksdGhpcy5leHBhbmRlZEFjdGl2ZUFjY29yZGlvbkl0ZW09dCk6dGhpcy5leHBhbmRlZEFjdGl2ZUFjY29yZGlvbkl0ZW09bnVsbH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoZ28oTnYpKX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tYWNjb3JkaW9uIl1dLGNvbnRlbnRRdWVyaWVzOmZ1bmN0aW9uKHQsZSxuKXtpZigxJnQmJmZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9T2UoKTtpZihzLmZpcnN0Q3JlYXRlUGFzcyl7Y29uc3Qgbj1SZSgpOyRjKHMsbmV3IE9jKGUsNCx2b2lkIDApLG4uaW5kZXgpLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmNvbnRlbnRRdWVyaWVzfHwodC5jb250ZW50UXVlcmllcz1bXSk7ZSE9PShuLmxlbmd0aD9uW24ubGVuZ3RoLTFdOi0xKSYmbi5wdXNoKHQucXVlcmllcy5sZW5ndGgtMSxlKX0ocyx0KX16YyhzLEllKCksNCl9KG4sSHYpLDImdCl7bGV0IHQ7TmModD1WYygpKSYmKGUucG9BY2NvcmRpb25JdGVtcz10KX19LGZlYXR1cmVzOltiYShbTnZdKSxKaV0sZGVjbHM6Mix2YXJzOjEsY29uc3RzOltbMSwicG8tYWNjb3JkaW9uIiwicG8tY29udGFpbmVyIiwicG8tY29udGFpbmVyLW5vLXBhZGRpbmciXSxbImNsYXNzIiwicG8tYWNjb3JkaW9uLWl0ZW0iLDMsInBvLWFjY29yZGlvbi1pdGVtLWFjdGl2ZSIsNCwibmdGb3IiLCJuZ0Zvck9mIl0sWzEsInBvLWFjY29yZGlvbi1pdGVtIl0sWzMsInAtZXhwYW5kZWQiLCJwLWxhYmVsIiwicC10b2dnbGUiXSxbMywicC1leHBhbmRlZCJdLFs0LCJuZ1RlbXBsYXRlT3V0bGV0Il1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYodm8oMCwiZGl2IiwwKSxwbygxLGZ5LDQsNiwic2VjdGlvbiIsMSksYm8oKSksMiZ0JiYoenMoMSksbW8oIm5nRm9yT2YiLGUucG9BY2NvcmRpb25JdGVtcykpfSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW2VoLCR2LHp2LGFoXX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksenY9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuZXhwYW5kZWQ9ITF9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1hY2NvcmRpb24taXRlbS1ib2R5Il1dLGlucHV0czp7ZXhwYW5kZWQ6WyJwLWV4cGFuZGVkIiwiZXhwYW5kZWQiXX0sbmdDb250ZW50U2VsZWN0b3JzOmR5LGRlY2xzOjEsdmFyczoxLGNvbnN0czpbWyJjbGFzcyIsInBvLWFjY29yZGlvbi1pdGVtLWJvZHkiLDQsIm5nSWYiXSxbMSwicG8tYWNjb3JkaW9uLWl0ZW0tYm9keSJdLFsxLCJwby1hY2NvcmRpb24taXRlbS1ib2R5LWNvbnRlbnQiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihJbygpLHBvKDAsZ3ksMywxLCJkaXYiLDApKSwyJnQmJm1vKCJuZ0lmIixlLmV4cGFuZGVkKX0sZGlyZWN0aXZlczpbcmhdLGVuY2Fwc3VsYXRpb246MixkYXRhOnthbmltYXRpb246WygidG9nZ2xlQm9keSIsZT1bQmQoIiogPT4gdm9pZCIsW0xkKHtoZWlnaHQ6IioifSksUmQoMjAwLExkKHtoZWlnaHQ6MH0pKV0pLEJkKCJ2b2lkID0+ICoiLFtMZCh7aGVpZ2h0OiIwIn0pLFJkKDIwMCxMZCh7aGVpZ2h0OiIqIn0pKV0pXSx7dHlwZTo3LG5hbWU6InRvZ2dsZUJvZHkiLGRlZmluaXRpb25zOmUsb3B0aW9uczp7fX0pXX19KSx0O3ZhciBlfSkoKSwkdj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5leHBhbmRlZD0hMSx0aGlzLnRvZ2dsZT1uZXcgQWN9b25DbGljaygpe3RoaXMuZXhwYW5kZWQ9IXRoaXMuZXhwYW5kZWQsdGhpcy50b2dnbGUuZW1pdCh0aGlzLmV4cGFuZGVkKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWFjY29yZGlvbi1pdGVtLWhlYWRlciJdXSxpbnB1dHM6e2V4cGFuZGVkOlsicC1leHBhbmRlZCIsImV4cGFuZGVkIl0sbGFiZWw6WyJwLWxhYmVsIiwibGFiZWwiXX0sb3V0cHV0czp7dG9nZ2xlOiJwLXRvZ2dsZSJ9LGRlY2xzOjYsdmFyczoxLGNvbnN0czpbWzEsInBvLWFjY29yZGlvbi1pdGVtLWhlYWRlciJdLFsxLCJwby1hY2NvcmRpb24taXRlbS1oZWFkZXItYnV0dG9uIiwicG8tY2xpY2thYmxlIiwzLCJjbGljayJdLFsxLCJwby10ZXh0LWVsbGlwc2lzIiwicG8tYWNjb3JkaW9uLWl0ZW0taGVhZGVyLXRpdGxlIl0sWzEsInBvLWljb24iLCJwby1hY2NvcmRpb24taXRlbS1oZWFkZXItaWNvbiIsInBvLWljb24tYXJyb3ctZG93biJdLFsiaWNvbiIsIiJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKHZvKDAsImhlYWRlciIsMCksdm8oMSwiYnV0dG9uIiwxKSx4bygiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25DbGljaygpfSksdm8oMiwiZGl2IiwyKSxKbygzKSxibygpLENvKDQsInNwYW4iLDMsNCksYm8oKSxibygpKSwyJnQmJih6cygzKSx0YShlLmxhYmVsKSl9LGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpLFV2PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t3aF1dfSksdH0pKCksV3Y9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3doXV19KSx0fSkoKTtjb25zdCBHdj1be2Rlc2NyaXB0aW9uOiJFbmdsaXNoIixsYW5ndWFnZToiZW4ifSx7ZGVzY3JpcHRpb246IkVzcGFceGYxb2wiLGxhbmd1YWdlOiJlcyJ9LHtkZXNjcmlwdGlvbjoiUG9ydHVndVx4ZWFzIixsYW5ndWFnZToicHQifSx7ZGVzY3JpcHRpb246IlBcdTA0NDNcdTA0NDFcdTA0NDFcdTA0M2FcdTA0MzhcdTA0MzkiLGxhbmd1YWdlOiJydSJ9XS5tYXAodD0+dC5sYW5ndWFnZSkscXY9InB0IixYdj1be3NlcGFyYXRvcjoiLiIsbGFuZ3VhZ2U6ImVuIn0se3NlcGFyYXRvcjoiLCIsbGFuZ3VhZ2U6ImVzIn0se3NlcGFyYXRvcjoiLCIsbGFuZ3VhZ2U6InB0In0se3NlcGFyYXRvcjoiLCIsbGFuZ3VhZ2U6InJ1In1dLFl2PVt7c2VwYXJhdG9yOiIsIixsYW5ndWFnZToiZW4ifSx7c2VwYXJhdG9yOiIuIixsYW5ndWFnZToiZXMifSx7c2VwYXJhdG9yOiIuIixsYW5ndWFnZToicHQifSx7c2VwYXJhdG9yOiIgIixsYW5ndWFnZToicnUifV07ZnVuY3Rpb24gWnYodCl7cmV0dXJuKHR8fHF2KS50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygwLDIpfWZ1bmN0aW9uIFF2KHQpe3JldHVybiBuZXcgUmVnRXhwKCJeW2Etel17Mn0oLVthLXpdezJ9KT8kIiwiaSIpLnRlc3QodCl9ZnVuY3Rpb24gS3YodCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0PyJ0cnVlIj09PSh0PXQudG9Mb3dlckNhc2UoKS50cmltKCkpfHwib24iPT09dHx8IiI9PT10OiJudW1iZXIiPT10eXBlb2YgdD8xPT09dDohIXR9ZnVuY3Rpb24gSnYodCxlKXtyZXR1cm4gdHlwZW9mIHQ9PT1lfWZ1bmN0aW9uIHRiKCl7Y29uc3QgdD13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4vbXNpZVxzfHRyaWRlbnQvaS50ZXN0KHQpfWZ1bmN0aW9uIGViKHQsZSl7Y29uc3Qgbj0hdCYmMCE9PXR8fGlzTmFOKHQpP3ZvaWQgMDpwYXJzZUZsb2F0KHQpO3RyeXtyZXR1cm4gcGFyc2VGbG9hdChuLnRvRml4ZWQoZSkpfWNhdGNoKHIpe3JldHVybiBufX1jb25zdCBuYj0iUE9fREVGQVVMVF9MQU5HVUFHRSIscmI9IlBPX1VTRVJfTE9DQUxFIjtsZXQgc2I9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe31zZXQgbGFuZ3VhZ2VEZWZhdWx0KHQpe3QmJlF2KHQpJiZsb2NhbFN0b3JhZ2Uuc2V0SXRlbShuYix0KX1nZXQgbGFuZ3VhZ2VEZWZhdWx0KCl7cmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKG5iKX1nZXRMYW5ndWFnZSgpe2NvbnN0IHQ9bG9jYWxTdG9yYWdlLmdldEl0ZW0ocmIpfHx0aGlzLmxhbmd1YWdlRGVmYXVsdHx8ZnVuY3Rpb24oKXtjb25zdCB0PW5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZSxlPVp2KHQpO3JldHVybiBHdi5pbmNsdWRlcyhlKT90OnF2fSgpO3JldHVybiB0JiZ0LnRvTG93ZXJDYXNlKCl9Z2V0TGFuZ3VhZ2VEZWZhdWx0KCl7cmV0dXJuIHRoaXMubGFuZ3VhZ2VEZWZhdWx0fWdldFNob3J0TGFuZ3VhZ2UoKXtjb25zdCB0PVp2KHRoaXMuZ2V0TGFuZ3VhZ2UoKSk7cmV0dXJuIEd2LmluY2x1ZGVzKHQpP3Q6cXZ9c2V0TGFuZ3VhZ2UodCl7UXYodCkmJmxvY2FsU3RvcmFnZS5zZXRJdGVtKHJiLHQudG9Mb3dlckNhc2UoKSl9c2V0TGFuZ3VhZ2VEZWZhdWx0KHQpe3RoaXMubGFuZ3VhZ2VEZWZhdWx0PXR9Z2V0TnVtYmVyU2VwYXJhdG9ycyh0KXt2YXIgZSxuLHIsczt0PXR8fHRoaXMuZ2V0U2hvcnRMYW5ndWFnZSgpO2NvbnN0IGk9bnVsbCE9PShlPVh2LmZpbmQoZT0+ZS5sYW5ndWFnZT09PXQpKSYmdm9pZCAwIT09ZT9lOnt9LG89bnVsbCE9PShuPVl2LmZpbmQoZT0+ZS5sYW5ndWFnZT09PXQpKSYmdm9pZCAwIT09bj9uOnt9O3JldHVybntkZWNpbWFsU2VwYXJhdG9yOm51bGwhPT0ocj1pLnNlcGFyYXRvcikmJnZvaWQgMCE9PXI/cjoiLCIsdGhvdXNhbmRTZXBhcmF0b3I6bnVsbCE9PShzPW8uc2VwYXJhdG9yKSYmdm9pZCAwIT09cz9zOiIuIn19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHR9LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKSxpYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbd2gsaG1dXX0pLHR9KSgpLG9iPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt9c2V0IGljb24odCl7InN0cmluZyI9PXR5cGVvZiB0P3RoaXMuYWRkQ2xhc3Nlcyh0KTp0IGluc3RhbmNlb2YgcmMmJih0aGlzLl9pY29uPXQpfWdldCBpY29uKCl7cmV0dXJuIHRoaXMuX2ljb259YWRkQ2xhc3Nlcyh0KXt0aGlzLmNsYXNzPXRoaXMuY2xhc3M9dC5zdGFydHNXaXRoKCJwby1pY29uLSIpP2Bwby1pY29uICR7dH1gOmBwby1mb250cy1pY29uICR7dH1gfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8taWNvbiJdXSxpbnB1dHM6e2ljb246WyJwLWljb24iLCJpY29uIl19LGRlY2xzOjMsdmFyczozLGNvbnN0czpbWzQsIm5nSWYiLCJuZ0lmVGhlbiIsIm5nSWZFbHNlIl0sWyJmb250VGVtcGxhdGUiLCIiXSxbImFyaWEtaGlkZGVuIiwidHJ1ZSJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmKHBvKDAsbXksMSwwLCJuZy1jb250YWluZXIiLDApLHBvKDEseXksMSwyLCJuZy10ZW1wbGF0ZSIsbnVsbCwxLFdjKSksMiZ0KXtjb25zdCB0PWZvKDIpO21vKCJuZ0lmIixlLmNsYXNzKSgibmdJZlRoZW4iLHQpKCJuZ0lmRWxzZSIsZS5pY29uKX19LGRpcmVjdGl2ZXM6W3JoXSxlbmNhcHN1bGF0aW9uOjIsY2hhbmdlRGV0ZWN0aW9uOjB9KSx0fSkoKSxhYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbd2hdXX0pLHR9KSgpO2NvbnN0IGNiPXtlbjp7bG9hZGluZzoiTG9hZGluZyJ9LGVzOntsb2FkaW5nOiJDYXJnYW5kbyJ9LHB0Ontsb2FkaW5nOiJDYXJyZWdhbmRvIn0scnU6e2xvYWRpbmc6Ilx1MDQzZlx1MDQzZVx1MDQzM1x1MDQ0MFx1MDQ0M1x1MDQzN1x1MDQzYVx1MDQzMCJ9fTtsZXQgbGI9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmxhbmd1YWdlU2VydmljZT10LHRoaXMuX3NjcmVlbkxvY2s9ITEsdGhpcy50ZXh0PXRoaXMuZ2V0VGV4dERlZmF1bHQoKX1zZXQgc2NyZWVuTG9jayh0KXt0aGlzLl9zY3JlZW5Mb2NrPUt2KHQpfWdldCBzY3JlZW5Mb2NrKCl7cmV0dXJuIHRoaXMuX3NjcmVlbkxvY2t9c2V0IHRleHQodCl7dGhpcy5fdGV4dD10fHx0aGlzLmdldFRleHREZWZhdWx0KCl9Z2V0IHRleHQoKXtyZXR1cm4gdGhpcy5fdGV4dH1nZXRUZXh0RGVmYXVsdCgpe2NvbnN0IHQ9dGhpcy5sYW5ndWFnZVNlcnZpY2UuZ2V0U2hvcnRMYW5ndWFnZSgpO3JldHVybiBjYlt0XS5sb2FkaW5nfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyhzYikpfSx0Llx1MDI3NWRpcj1YdCh7dHlwZTp0LGlucHV0czp7dGV4dDpbInAtdGV4dCIsInRleHQiXSxzY3JlZW5Mb2NrOlsicC1zY3JlZW4tbG9jayIsInNjcmVlbkxvY2siXX19KSx0fSkoKSx1Yj0oKCk9PntjbGFzcyB0IGV4dGVuZHMgbGJ7Y29uc3RydWN0b3IodCxlKXtzdXBlcihlKSx0aGlzLmNoYW5nZURldGVjdG9yPXR9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGdvKEthKSxnbyhzYikpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1sb2FkaW5nLW92ZXJsYXkiXV0sZmVhdHVyZXM6W0ppXSxkZWNsczoyLHZhcnM6NSxjb25zdHM6W1sxLCJwby1sb2FkaW5nLW92ZXJsYXktY29udGVudCIsMywicC10ZXh0Il1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYodm8oMCwiZGl2IiksQ28oMSwicG8tbG9hZGluZyIsMCksYm8oKSksMiZ0JiYoSG8oInBvLW92ZXJsYXktYWJzb2x1dGUiLCFlLnNjcmVlbkxvY2spKCJwby1vdmVybGF5LWZpeGVkIixlLnNjcmVlbkxvY2spLHpzKDEpLG1vKCJwLXRleHQiLGUudGV4dCkpfSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW3BiXX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksaGI9KCgpPT57Y2xhc3MgdHtzZXQgbmV1dHJhbENvbG9yKHQpe3RoaXMuX25ldXRyYWxDb2xvcj1Ldih0KX1nZXQgbmV1dHJhbENvbG9yKCl7cmV0dXJuIHRoaXMuX25ldXRyYWxDb2xvcn19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWxvYWRpbmctaWNvbiJdXSxpbnB1dHM6e25ldXRyYWxDb2xvcjpbInAtbmV1dHJhbC1jb2xvciIsIm5ldXRyYWxDb2xvciJdfSxkZWNsczo5LHZhcnM6Mixjb25zdHM6W1sxLCJwby1sb2FkaW5nLWljb24iXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItMSJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci0yIl0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTMiXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItNCJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci01Il0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTYiXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItNyJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci04Il1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYodm8oMCwiZGl2IiwwKSxDbygxLCJzcGFuIiwxKSxDbygyLCJzcGFuIiwyKSxDbygzLCJzcGFuIiwzKSxDbyg0LCJzcGFuIiw0KSxDbyg1LCJzcGFuIiw1KSxDbyg2LCJzcGFuIiw2KSxDbyg3LCJzcGFuIiw3KSxDbyg4LCJzcGFuIiw4KSxibygpKSwyJnQmJkhvKCJwby1sb2FkaW5nLWljb24tbmV1dHJhbC1jb2xvciIsZS5uZXV0cmFsQ29sb3IpfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxkYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy50ZXh0PSJDYXJyZWdhbmRvIn19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsaW5wdXRzOnt0ZXh0OlsicC10ZXh0IiwidGV4dCJdfX0pLHR9KSgpLHBiPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBkYnt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKCl7bGV0IGU7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybihlfHwoZT16bih0KSkpKG58fHQpfX0oKSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1sb2FkaW5nIl1dLGZlYXR1cmVzOltKaV0sZGVjbHM6Myx2YXJzOjEsY29uc3RzOltbMSwicG8tbG9hZGluZyJdLFsiY2xhc3MiLCJwby1sb2FkaW5nLWxhYmVsIHBvLXRleHQtZWxsaXBzaXMiLDQsIm5nSWYiXSxbMSwicG8tbG9hZGluZy1sYWJlbCIsInBvLXRleHQtZWxsaXBzaXMiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJih2bygwLCJkaXYiLDApLENvKDEsInBvLWxvYWRpbmctaWNvbiIpLHBvKDIsdnksMiwxLCJzcGFuIiwxKSxibygpKSwyJnQmJih6cygyKSxtbygibmdJZiIsZS50ZXh0KSl9LGRpcmVjdGl2ZXM6W2hiLHJoXSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxmYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W3NiXX0pLHR9KSgpLGdiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t3aCxmYl1dfSksdH0pKCk7ZnVuY3Rpb24gbWIodCxlLG4pe3JldHVybiBmdW5jdGlvbihyKXt0JiZ0LnNldCYmdC5zZXQuYmluZCh0aGlzKShlKHIpKSx0aGlzW25dPWUocil9fWZ1bmN0aW9uIHliKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQmJnQuZ2V0P3QuZ2V0LmJpbmQodGhpcykoKTp0aGlzW2VdfX1mdW5jdGlvbiB2Yigpe3JldHVybiBmdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtjb25zdHt0YXJnZXQ6cixwcm9wZXJ0eTpzLG9yaWdpbmFsRGVzY3JpcHRvcjppfT10LG89ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9YCQkX18ke2V9YDtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJmNvbnNvbGUud2FybihgVGhlIHByb3AgIiR7cn0iIGlzIGFscmVhZHkgZXhpc3QsIGl0IHdpbGwgYmUgb3ZlcnJpZGVkIGJ5IElucHV0Qm9vbGVhbiBkZWNvcmF0b3IuYCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscix7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSkscn0ocixzKTtyZXR1cm57Z2V0OnliKGksbyksc2V0Om1iKGksbixvKX19KHt0YXJnZXQ6dCxwcm9wZXJ0eTplLG9yaWdpbmFsRGVzY3JpcHRvcjpufSwwLEt2KX19Y29uc3QgYmI9WyJkZWZhdWx0IiwicHJpbWFyeSIsImRhbmdlciIsImxpbmsiXTtsZXQgQ2I9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuYXV0b0ZvY3VzPSExLHRoaXMuY2xpY2s9bmV3IEFjLHRoaXMuX2Rpc2FibGVkPSExLHRoaXMuX2xvYWRpbmc9ITEsdGhpcy5fc21hbGw9ITEsdGhpcy5fdHlwZT0iZGVmYXVsdCJ9c2V0IGxvYWRpbmcodCl7dGhpcy5fbG9hZGluZz1Ldih0KX1nZXQgbG9hZGluZygpe3JldHVybiB0aGlzLl9sb2FkaW5nfXNldCBzbWFsbCh0KXt0aGlzLl9zbWFsbD0iIj09PXR8fEt2KHQpfWdldCBzbWFsbCgpe3JldHVybiB0aGlzLl9zbWFsbH1zZXQgdHlwZSh0KXt0aGlzLl90eXBlPWJiLmluY2x1ZGVzKHQpP3Q6ImRlZmF1bHQifWdldCB0eXBlKCl7cmV0dXJuIHRoaXMuX3R5cGV9c2V0IGRpc2FibGVkKHQpe3RoaXMuX2Rpc2FibGVkPSIiPT09dHx8S3YodCl9Z2V0IGRpc2FibGVkKCl7cmV0dXJuIHRoaXMuX2Rpc2FibGVkfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVkaXI9WHQoe3R5cGU6dCxpbnB1dHM6e2F1dG9Gb2N1czpbInAtYXV0by1mb2N1cyIsImF1dG9Gb2N1cyJdLGxvYWRpbmc6WyJwLWxvYWRpbmciLCJsb2FkaW5nIl0sc21hbGw6WyJwLXNtYWxsIiwic21hbGwiXSx0eXBlOlsicC10eXBlIiwidHlwZSJdLGRpc2FibGVkOlsicC1kaXNhYmxlZCIsImRpc2FibGVkIl0sbGFiZWw6WyJwLWxhYmVsIiwibGFiZWwiXSxpY29uOlsicC1pY29uIiwiaWNvbiJdfSxvdXRwdXRzOntjbGljazoicC1jbGljayJ9fSksSm0oW3ZiKCldLHQucHJvdG90eXBlLCJhdXRvRm9jdXMiLHZvaWQgMCksdH0pKCksd2I9KCgpPT57Y2xhc3MgdCBleHRlbmRzIENie25nQWZ0ZXJWaWV3SW5pdCgpe3RoaXMuYXV0b0ZvY3VzJiZ0aGlzLmZvY3VzKCl9Zm9jdXMoKXt0aGlzLmRpc2FibGVkfHx0aGlzLmJ1dHRvbkVsZW1lbnQubmF0aXZlRWxlbWVudC5mb2N1cygpfW9uQ2xpY2soKXt0aGlzLmNsaWNrLmVtaXQobnVsbCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbigpe2xldCBlO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oZXx8KGU9em4odCkpKShufHx0KX19KCksdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tYnV0dG9uIl1dLHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmSGMoYnksNyksMiZ0KXtsZXQgdDtOYyh0PVZjKCkpJiYoZS5idXR0b25FbGVtZW50PXQuZmlyc3QpfX0sZmVhdHVyZXM6W0ppXSxkZWNsczo1LHZhcnM6MTQsY29uc3RzOltbInR5cGUiLCJidXR0b24iLDEsInBvLWJ1dHRvbiIsInBvLXRleHQtZWxsaXBzaXMiLDMsImRpc2FibGVkIiwiY2xpY2siXSxbImJ1dHRvbiIsIiJdLFsiY2xhc3MiLCJwby1idXR0b24tbG9hZGluZy1pY29uIiw0LCJuZ0lmIl0sWyJjbGFzcyIsInBvLWJ1dHRvbi1pY29uIiwzLCJwLWljb24iLDQsIm5nSWYiXSxbImNsYXNzIiwicG8tYnV0dG9uLWxhYmVsIiw0LCJuZ0lmIl0sWzEsInBvLWJ1dHRvbi1sb2FkaW5nLWljb24iXSxbInAtbmV1dHJhbC1jb2xvciIsIiJdLFsxLCJwby1idXR0b24taWNvbiIsMywicC1pY29uIl0sWzEsInBvLWJ1dHRvbi1sYWJlbCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKHZvKDAsImJ1dHRvbiIsMCwxKSx4bygiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25DbGljaygpfSkscG8oMixDeSwyLDAsImRpdiIsMikscG8oMyx3eSwxLDEsInBvLWljb24iLDMpLHBvKDQsX3ksMiwxLCJzcGFuIiw0KSxibygpKSwyJnQmJihIbygicG8tYnV0dG9uLWRhbmdlciIsImRhbmdlciI9PT1lLnR5cGUpKCJwby1idXR0b24tbGluayIsImxpbmsiPT09ZS50eXBlKSgicG8tYnV0dG9uLXByaW1hcnkiLCJwcmltYXJ5Ij09PWUudHlwZSkoInBvLWJ1dHRvbi1zbSIsZS5zbWFsbCkoInBvLWNsaWNrYWJsZSIsImxpbmsiPT09ZS50eXBlKSxtbygiZGlzYWJsZWQiLGUuZGlzYWJsZWR8fGUubG9hZGluZyksenMoMiksbW8oIm5nSWYiLGUubG9hZGluZyksenMoMSksbW8oIm5nSWYiLGUuaWNvbiksenMoMSksbW8oIm5nSWYiLGUubGFiZWwpKX0sZGlyZWN0aXZlczpbcmgsaGIsb2JdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpLF9iPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t3aCxnYixhYl1dfSksdH0pKCk7Y29uc3QgRGI9WyJyaWdodCIsInJpZ2h0LXRvcCIsInJpZ2h0LWJvdHRvbSIsInRvcCIsInRvcC1sZWZ0IiwidG9wLXJpZ2h0IiwibGVmdCIsImxlZnQtdG9wIiwibGVmdC1ib3R0b20iLCJib3R0b20iLCJib3R0b20tbGVmdCIsImJvdHRvbS1yaWdodCJdO2xldCBFYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5hcHBlbmRJbkJvZHk9ITEsdGhpcy5fdG9vbHRpcFBvc2l0aW9uPSJib3R0b20iLHRoaXMuX2Rpc3BsYXlUb29sdGlwPSExLHRoaXMuX3Rvb2x0aXA9IiJ9c2V0IHRvb2x0aXAodCl7dGhpcy5fdG9vbHRpcD10JiZ0Lmxlbmd0aD4xNDA/dC5zdWJzdHJpbmcoMCwxNDApOnR9Z2V0IHRvb2x0aXAoKXtyZXR1cm4gdGhpcy5fdG9vbHRpcH1zZXQgdG9vbHRpcFBvc2l0aW9uKHQpe3RoaXMuX3Rvb2x0aXBQb3NpdGlvbj1EYi5pbmNsdWRlcyh0KT90OiJib3R0b20ifWdldCB0b29sdGlwUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fdG9vbHRpcFBvc2l0aW9ufXNldCBkaXNwbGF5VG9vbHRpcCh0KXt0aGlzLl9kaXNwbGF5VG9vbHRpcD10LHRoaXMuX2Rpc3BsYXlUb29sdGlwP3RoaXMuYWRkVG9vbHRpcEFjdGlvbigpOnRoaXMucmVtb3ZlVG9vbHRpcEFjdGlvbigpfWdldCBkaXNwbGF5VG9vbHRpcCgpe3JldHVybiB0aGlzLl9kaXNwbGF5VG9vbHRpcH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsaW5wdXRzOnthcHBlbmRJbkJvZHk6WyJwLWFwcGVuZC1pbi1ib2R5IiwiYXBwZW5kSW5Cb2R5Il0sdG9vbHRpcDpbInAtdG9vbHRpcCIsInRvb2x0aXAiXSx0b29sdGlwUG9zaXRpb246WyJwLXRvb2x0aXAtcG9zaXRpb24iLCJ0b29sdGlwUG9zaXRpb24iXSxkaXNwbGF5VG9vbHRpcDpbInAtZGlzcGxheS10b29sdGlwIiwiZGlzcGxheVRvb2x0aXAiXX19KSxKbShbdmIoKV0sdC5wcm90b3R5cGUsImFwcGVuZEluQm9keSIsdm9pZCAwKSxKbShbdmIoKV0sdC5wcm90b3R5cGUsImRpc3BsYXlUb29sdGlwIixudWxsKSx0fSkoKTtjb25zdCBTYj1bImJvdHRvbSIsImJvdHRvbS1sZWZ0IiwiYm90dG9tLXJpZ2h0IiwibGVmdCIsImxlZnQtdG9wIiwibGVmdC1ib3R0b20iLCJ0b3AiLCJ0b3AtcmlnaHQiLCJ0b3AtbGVmdCIsInJpZ2h0IiwicmlnaHQtYm90dG9tIiwicmlnaHQtdG9wIl07bGV0IHhiPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmRpZmZlcmVuY2VEaWFnb25hbFRvV2lkdGhBcnJvdz0zLHRoaXMuaXNTZXRFbGVtZW50V2lkdGg9ITEsdGhpcy5vZmZzZXRBcnJvdz0xMn1hZGp1c3RQb3NpdGlvbih0KXtjb25zdCBlPXR8fCJib3R0b20iO3RoaXMuZWxlbWVudFBvc2l0aW9uKGUpLHRoaXMuY3VzdG9tUG9zaXRpb25zJiZ0aGlzLmN1c3RvbVBvc2l0aW9ucy5sZW5ndGg/dGhpcy5hZGp1c3RDdXN0b21Qb3NpdGlvbihlKTp0aGlzLmFkanVzdERlZmF1bHRQb3NpdGlvbihlKX1nZXRBcnJvd0RpcmVjdGlvbigpe3JldHVybiB0aGlzLmFycm93RGlyZWN0aW9ufXNldEVsZW1lbnRzKHQsZSxuLHIscz0hMSxpPSExKXt0aGlzLmVsZW1lbnQ9dCBpbnN0YW5jZW9mIHhhP3QubmF0aXZlRWxlbWVudDp0LHRoaXMudGFyZ2V0RWxlbWVudD1uIGluc3RhbmNlb2YgeGE/bi5uYXRpdmVFbGVtZW50Om4sdGhpcy5lbGVtZW50T2Zmc2V0PWUsdGhpcy5jdXN0b21Qb3NpdGlvbnM9cix0aGlzLmlzU2V0RWxlbWVudFdpZHRoPXMsdGhpcy5pc0Nvcm5lckFsaWduZWQ9aX1hZGp1c3RDdXN0b21Qb3NpdGlvbih0KXtjb25zdCBlPXRoaXMuY3VzdG9tUG9zaXRpb25zLmxlbmd0aDtsZXQgbj0wO2Zvcig7bisrPGU7KXRoaXMub3ZlcmZsb3dBbGxTaWRlcyh0KSYmKHQ9dGhpcy5uZXh0UG9zaXRpb24odCx0aGlzLmN1c3RvbVBvc2l0aW9ucyksdGhpcy5lbGVtZW50UG9zaXRpb24odCkpfWFkanVzdERlZmF1bHRQb3NpdGlvbih0KXtjb25zdCBlPXRoaXMuZ2V0TWFpblBvc2l0aW9ucygpLG49ZS5sZW5ndGg7bGV0IHI9MDtmb3IoO3IrKzxuOyl7Y29uc3Qgbj10aGlzLmdldE1haW5Qb3NpdGlvbih0KTtpZih0aGlzLmVsZW1lbnRQb3NpdGlvbih0KSwhdGhpcy5vdmVyZmxvd01haW4obikpcmV0dXJuIHRoaXMub3ZlcmZsb3dBbGxTaWRlcyh0KT92b2lkIHRoaXMudmVyaWZ5U3ViUG9zaXRpb25zKHQpOnZvaWQgMDt0PXRoaXMubmV4dFBvc2l0aW9uKG4sZSl9fWVsZW1lbnRQb3NpdGlvbih0KXt0aGlzLmlzQ29ybmVyQWxpZ25lZD90aGlzLnNldEFsaWduZWRFbGVtZW50UG9zaXRpb24odCk6dGhpcy5zZXRFbGVtZW50UG9zaXRpb24odCl9Z2V0TWFpblBvc2l0aW9uKHQpe3JldHVybiB0LmluZGV4T2YoIi0iKT4tMT90LnN1YnN0cmluZygwLHQuaW5kZXhPZigiLSIpKTp0fWdldE1haW5Qb3NpdGlvbnMoKXtyZXR1cm4gdGhpcy5jdXN0b21Qb3NpdGlvbnMmJnRoaXMuY3VzdG9tUG9zaXRpb25zLmxlbmd0aD90aGlzLmdldE1haW5Qb3NpdGlvbnNCeUN1c3RvbVBvc2l0aW9ucyh0aGlzLmN1c3RvbVBvc2l0aW9ucyk6WyJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiXX1nZXRNYWluUG9zaXRpb25zQnlDdXN0b21Qb3NpdGlvbnModCl7Y29uc3QgZT1bXSxuPXQubGVuZ3RoO2ZvcihsZXQgcj0wO3I8bjtyKyspe2NvbnN0IG49dGhpcy5nZXRNYWluUG9zaXRpb24odFtyXSk7ZS5pbmNsdWRlcyhuKXx8ZS5wdXNoKG4pfXJldHVybiBlfWdldE92ZXJmbG93cygpe2NvbnN0IHQ9dGhpcy5nZXRTaXplc0FuZFBvc2l0aW9ucygpO3JldHVybntyaWdodDp0LmVsZW1lbnQucmlnaHQ+dC53aW5kb3cuaW5uZXJXaWR0aCx0b3A6dC5lbGVtZW50LnRvcDw9MCxsZWZ0OnQuZWxlbWVudC5sZWZ0PD0wLGJvdHRvbTp0LmVsZW1lbnQuYm90dG9tPnQud2luZG93LmlubmVySGVpZ2h0fX1nZXRTaXplc0FuZFBvc2l0aW9ucygpe3JldHVybnt3aW5kb3c6e3Njcm9sbFk6d2luZG93LnNjcm9sbFksc2Nyb2xsWDp3aW5kb3cuc2Nyb2xsWCxpbm5lcldpZHRoOndpbmRvdy5pbm5lcldpZHRoLGlubmVySGVpZ2h0OndpbmRvdy5pbm5lckhlaWdodH0sZWxlbWVudDp0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdGFyZ2V0OnRoaXMudGFyZ2V0RWxlbWVudD90aGlzLnRhcmdldEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6e3RvcDowLGJvdHRvbTowLHJpZ2h0OjAsbGVmdDowfX19bmV4dFBvc2l0aW9uKHQsZT1bXSl7Y29uc3Qgbj1lLmluZGV4T2YodCkscj1uKzE7cmV0dXJuIG4+LTEmJnI8ZS5sZW5ndGg/ZVtyXTplWzBdfW92ZXJmbG93QWxsU2lkZXModCl7Y29uc3QgZT10aGlzLmdldE92ZXJmbG93cygpO3N3aXRjaCh0KXtjYXNlInRvcCI6Y2FzZSJ0b3AtcmlnaHQiOnJldHVybiBlLnRvcHx8ZS5yaWdodHx8ZS5sZWZ0O2Nhc2UidG9wLWxlZnQiOnJldHVybiBlLnRvcHx8ZS5sZWZ0fHxlLnJpZ2h0O2Nhc2UicmlnaHQiOnJldHVybiBlLnJpZ2h0fHxlLnRvcHx8ZS5ib3R0b207Y2FzZSJyaWdodC10b3AiOnJldHVybiBlLnJpZ2h0fHxlLnRvcDtjYXNlInJpZ2h0LWJvdHRvbSI6cmV0dXJuIGUucmlnaHR8fGUuYm90dG9tO2Nhc2UiYm90dG9tIjpjYXNlImJvdHRvbS1yaWdodCI6cmV0dXJuIGUuYm90dG9tfHxlLnJpZ2h0fHxlLmxlZnQ7Y2FzZSJib3R0b20tbGVmdCI6cmV0dXJuIGUuYm90dG9tfHxlLmxlZnR8fGUucmlnaHQ7Y2FzZSJsZWZ0IjpyZXR1cm4gZS5sZWZ0fHxlLnRvcHx8ZS5ib3R0b207Y2FzZSJsZWZ0LXRvcCI6cmV0dXJuIGUubGVmdHx8ZS50b3A7Y2FzZSJsZWZ0LWJvdHRvbSI6cmV0dXJuIGUubGVmdHx8ZS5ib3R0b219fW92ZXJmbG93TWFpbih0KXtjb25zdCBlPXRoaXMuZ2V0T3ZlcmZsb3dzKCk7c3dpdGNoKHQpe2Nhc2UidG9wIjpyZXR1cm4gZS50b3A7Y2FzZSJyaWdodCI6cmV0dXJuIGUucmlnaHQ7Y2FzZSJib3R0b20iOnJldHVybiBlLmJvdHRvbTtjYXNlImxlZnQiOnJldHVybiBlLmxlZnR9fXNldEFsaWduZWRBcnJvd0RpcmVjdGlvbih0KXtzd2l0Y2godCl7Y2FzZSJ0b3AtbGVmdCI6cmV0dXJuImJvdHRvbS1sZWZ0IjtjYXNlInRvcC1yaWdodCI6cmV0dXJuImJvdHRvbS1yaWdodCI7Y2FzZSJib3R0b20tcmlnaHQiOnJldHVybiJ0b3AtcmlnaHQiO2Nhc2UiYm90dG9tLWxlZnQiOnJldHVybiJ0b3AtbGVmdCJ9fXNldEFsaWduZWRCb3R0b21Qb3NpdGlvbnModCxlKXt0aGlzLmVsZW1lbnQuc3R5bGUudG9wPWUudGFyZ2V0LmJvdHRvbSt0aGlzLmVsZW1lbnRPZmZzZXQrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD1lLnRhcmdldC5sZWZ0LXQrInB4In1zZXRBbGlnbmVkRWxlbWVudFBvc2l0aW9uKHQpe3RoaXMuc2V0RWxlbWVudFdpZHRoKCk7Y29uc3QgZT10aGlzLmdldFNpemVzQW5kUG9zaXRpb25zKCk7c3dpdGNoKHQpe2Nhc2UiYm90dG9tLWxlZnQiOnRoaXMuc2V0QWxpZ25lZEJvdHRvbVBvc2l0aW9ucygwLGUpO2JyZWFrO2Nhc2UiYm90dG9tLXJpZ2h0Ijp0aGlzLnNldEFsaWduZWRCb3R0b21Qb3NpdGlvbnMoZS5lbGVtZW50LndpZHRoLWUudGFyZ2V0LndpZHRoLGUpO2JyZWFrO2Nhc2UidG9wLWxlZnQiOnRoaXMuc2V0QWxpZ25lZFRvcFBvc2l0aW9ucygwLGUpO2JyZWFrO2Nhc2UidG9wLXJpZ2h0Ijp0aGlzLnNldEFsaWduZWRUb3BQb3NpdGlvbnMoZS5lbGVtZW50LndpZHRoLWUudGFyZ2V0LndpZHRoLGUpfXRoaXMuYXJyb3dEaXJlY3Rpb249dGhpcy5zZXRBbGlnbmVkQXJyb3dEaXJlY3Rpb24odCl9c2V0QWxpZ25lZFRvcFBvc2l0aW9ucyh0LGUpe3RoaXMuZWxlbWVudC5zdHlsZS50b3A9ZS50YXJnZXQudG9wLWUuZWxlbWVudC5oZWlnaHQtdGhpcy5lbGVtZW50T2Zmc2V0KyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9ZS50YXJnZXQubGVmdC10KyJweCJ9c2V0QXJyb3dEaXJlY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UidG9wIjpyZXR1cm4iYm90dG9tIjtjYXNlInRvcC1sZWZ0IjpyZXR1cm4iYm90dG9tLXJpZ2h0IjtjYXNlInRvcC1yaWdodCI6cmV0dXJuImJvdHRvbS1sZWZ0IjtjYXNlInJpZ2h0IjpyZXR1cm4ibGVmdCI7Y2FzZSJyaWdodC10b3AiOnJldHVybiJsZWZ0LWJvdHRvbSI7Y2FzZSJyaWdodC1ib3R0b20iOnJldHVybiJsZWZ0LXRvcCI7Y2FzZSJib3R0b20iOnJldHVybiJ0b3AiO2Nhc2UiYm90dG9tLXJpZ2h0IjpyZXR1cm4idG9wLWxlZnQiO2Nhc2UiYm90dG9tLWxlZnQiOnJldHVybiJ0b3AtcmlnaHQiO2Nhc2UibGVmdCI6cmV0dXJuInJpZ2h0IjtjYXNlImxlZnQtYm90dG9tIjpyZXR1cm4icmlnaHQtdG9wIjtjYXNlImxlZnQtdG9wIjpyZXR1cm4icmlnaHQtYm90dG9tIn19c2V0Qm90dG9tUG9zaXRpb25zKHQsZSl7dGhpcy5lbGVtZW50LnN0eWxlLnRvcD1lLnRhcmdldC5ib3R0b20rdGhpcy5lbGVtZW50T2Zmc2V0KyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9ZS50YXJnZXQubGVmdCtlLnRhcmdldC53aWR0aC8yLXQrInB4In1zZXRFbGVtZW50UG9zaXRpb24odCl7dGhpcy5zZXRFbGVtZW50V2lkdGgoKTtjb25zdCBlPXRoaXMuZ2V0U2l6ZXNBbmRQb3NpdGlvbnMoKTtzd2l0Y2godCl7Y2FzZSJ0b3AiOnRoaXMuc2V0VG9wUG9zaXRpb25zKGUuZWxlbWVudC53aWR0aC8yLGUpO2JyZWFrO2Nhc2UidG9wLWxlZnQiOnRoaXMuc2V0VG9wUG9zaXRpb25zKGUuZWxlbWVudC53aWR0aC10aGlzLm9mZnNldEFycm93LXRoaXMuZGlmZmVyZW5jZURpYWdvbmFsVG9XaWR0aEFycm93LGUpO2JyZWFrO2Nhc2UidG9wLXJpZ2h0Ijp0aGlzLnNldFRvcFBvc2l0aW9ucyh0aGlzLm9mZnNldEFycm93K3RoaXMuZGlmZmVyZW5jZURpYWdvbmFsVG9XaWR0aEFycm93LGUpO2JyZWFrO2Nhc2UicmlnaHQiOnRoaXMuc2V0UmlnaHRQb3NpdGlvbnMoZS5lbGVtZW50LmhlaWdodC8yLGUpO2JyZWFrO2Nhc2UicmlnaHQtdG9wIjp0aGlzLnNldFJpZ2h0UG9zaXRpb25zKGUuZWxlbWVudC5oZWlnaHQtdGhpcy5vZmZzZXRBcnJvdy10aGlzLmRpZmZlcmVuY2VEaWFnb25hbFRvV2lkdGhBcnJvdyxlKTticmVhaztjYXNlInJpZ2h0LWJvdHRvbSI6dGhpcy5zZXRSaWdodFBvc2l0aW9ucyh0aGlzLm9mZnNldEFycm93LGUpO2JyZWFrO2Nhc2UiYm90dG9tIjp0aGlzLnNldEJvdHRvbVBvc2l0aW9ucyhlLmVsZW1lbnQud2lkdGgvMixlKTticmVhaztjYXNlImJvdHRvbS1yaWdodCI6dGhpcy5zZXRCb3R0b21Qb3NpdGlvbnModGhpcy5vZmZzZXRBcnJvdyt0aGlzLmRpZmZlcmVuY2VEaWFnb25hbFRvV2lkdGhBcnJvdyxlKTticmVhaztjYXNlImJvdHRvbS1sZWZ0Ijp0aGlzLnNldEJvdHRvbVBvc2l0aW9ucyhlLmVsZW1lbnQud2lkdGgtdGhpcy5vZmZzZXRBcnJvdy10aGlzLmRpZmZlcmVuY2VEaWFnb25hbFRvV2lkdGhBcnJvdyxlKTticmVhaztjYXNlImxlZnQiOnRoaXMuc2V0TGVmdFBvc2l0aW9ucyhlLmVsZW1lbnQuaGVpZ2h0LzIsZSk7YnJlYWs7Y2FzZSJsZWZ0LWJvdHRvbSI6dGhpcy5zZXRMZWZ0UG9zaXRpb25zKHRoaXMub2Zmc2V0QXJyb3csZSk7YnJlYWs7Y2FzZSJsZWZ0LXRvcCI6dGhpcy5zZXRMZWZ0UG9zaXRpb25zKGUuZWxlbWVudC5oZWlnaHQtdGhpcy5vZmZzZXRBcnJvdyxlKX10aGlzLmFycm93RGlyZWN0aW9uPXRoaXMuc2V0QXJyb3dEaXJlY3Rpb24odCl9c2V0RWxlbWVudFdpZHRoKCl7dGhpcy5pc1NldEVsZW1lbnRXaWR0aCYmdGhpcy50YXJnZXRFbGVtZW50JiYodGhpcy5lbGVtZW50LnN0eWxlLndpZHRoPWAke3RoaXMudGFyZ2V0RWxlbWVudC5jbGllbnRXaWR0aH1weGApfXNldExlZnRQb3NpdGlvbnModCxlKXt0aGlzLmVsZW1lbnQuc3R5bGUudG9wPWUudGFyZ2V0LnRvcC10K2UudGFyZ2V0LmhlaWdodC8yKyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9ZS50YXJnZXQubGVmdC1lLmVsZW1lbnQud2lkdGgtdGhpcy5lbGVtZW50T2Zmc2V0KyJweCJ9c2V0UmlnaHRQb3NpdGlvbnModCxlKXt0aGlzLmVsZW1lbnQuc3R5bGUudG9wPWUudGFyZ2V0LnRvcC10K2UudGFyZ2V0LmhlaWdodC8yKyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9ZS50YXJnZXQucmlnaHQrdGhpcy5lbGVtZW50T2Zmc2V0KyJweCJ9c2V0VG9wUG9zaXRpb25zKHQsZSl7dGhpcy5lbGVtZW50LnN0eWxlLnRvcD1lLnRhcmdldC50b3AtZS5lbGVtZW50LmhlaWdodC10aGlzLmVsZW1lbnRPZmZzZXQrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD1lLnRhcmdldC5sZWZ0K2UudGFyZ2V0LndpZHRoLzItdCsicHgifXZlcmlmeVN1YlBvc2l0aW9ucyh0KXt0LmluZGV4T2YoIi0iKT4tMSYmKHQ9dC5zdWJzdHJpbmcoMCx0LmluZGV4T2YoIi0iKSksdGhpcy5lbGVtZW50UG9zaXRpb24odCkpO2xldCBlPTA7Zm9yKDtlKys8Mzspe2lmKCF0aGlzLm92ZXJmbG93QWxsU2lkZXModCkpcmV0dXJuIG51bGw7dD10aGlzLm5leHRQb3NpdGlvbih0LFNiKSx0aGlzLmVsZW1lbnRQb3NpdGlvbih0KX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLEFiPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyB4Ynt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKCl7bGV0IGU7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybihlfHwoZT16bih0KSkpKG58fHQpfX0oKSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLFRiPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBFYntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIoKSx0aGlzLmVsZW1lbnRSZWY9dCx0aGlzLnJlbmRlcmVyPWUsdGhpcy5wb0NvbnRyb2xQb3NpdGlvbj1uLHRoaXMudG9vbHRpcE9mZnNldD04fW9uTW91c2VFbnRlcigpe3RoaXMuZGlzcGxheVRvb2x0aXB8fHRoaXMuYWRkVG9vbHRpcEFjdGlvbigpfW9uTW91c2VMZWF2ZSgpe3RoaXMuZGlzcGxheVRvb2x0aXB8fHRoaXMucmVtb3ZlVG9vbHRpcEFjdGlvbigpfW5nT25Jbml0KCl7dGhpcy5pbml0U2Nyb2xsRXZlbnRMaXN0ZW5lckZ1bmN0aW9uKCl9YWRkVG9vbHRpcEFjdGlvbigpe3NldFRpbWVvdXQoKCk9Pnt0aGlzLnRvb2x0aXAmJih0aGlzLnRvb2x0aXBDb250ZW50P3RoaXMuc2hvd1Rvb2x0aXAoKTp0aGlzLmNyZWF0ZVRvb2x0aXAoKSx0aGlzLnJlbW92ZUFycm93KHRoaXMuYXJyb3dEaXJlY3Rpb24pLHRoaXMucG9Db250cm9sUG9zaXRpb24uYWRqdXN0UG9zaXRpb24odGhpcy50b29sdGlwUG9zaXRpb24pLHRoaXMuYXJyb3dEaXJlY3Rpb249dGhpcy5wb0NvbnRyb2xQb3NpdGlvbi5nZXRBcnJvd0RpcmVjdGlvbigpLHRoaXMuYWRkQXJyb3codGhpcy5hcnJvd0RpcmVjdGlvbiksdGhpcy5sYXN0VG9vbHRpcFRleHQ9dGhpcy50b29sdGlwKX0pfXJlbW92ZVRvb2x0aXBBY3Rpb24oKXtzZXRUaW1lb3V0KCgpPT57dGhpcy5hcHBlbmRJbkJvZHkmJnRoaXMudG9vbHRpcENvbnRlbnQ/KHRoaXMucmVuZGVyZXIucmVtb3ZlQ2hpbGQoZG9jdW1lbnQuYm9keSx0aGlzLnRvb2x0aXBDb250ZW50KSx0aGlzLnRvb2x0aXBDb250ZW50PXZvaWQgMCk6dGhpcy5oaWRlVG9vbHRpcCgpfSl9YWRkQXJyb3codCl7dGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmRpdkFycm93LGBwby1hcnJvdy0ke3R9YCl9YWRkU2Nyb2xsRXZlbnRMaXN0ZW5lcigpe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLHRoaXMuZXZlbnRMaXN0ZW5lckZ1bmN0aW9uLCEwKX1jcmVhdGVUb29sdGlwKCl7dGhpcy50b29sdGlwQ29udGVudD10aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy50b29sdGlwQ29udGVudCwicG8tdG9vbHRpcCIpLHRoaXMuZGl2QXJyb3c9dGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZGl2QXJyb3csInBvLXRvb2x0aXAtYXJyb3ciKSx0aGlzLmRpdkNvbnRlbnQ9dGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZGl2Q29udGVudCwicG8tdG9vbHRpcC1jb250ZW50IiksdGhpcy50ZXh0Q29udGVudD10aGlzLnJlbmRlcmVyLmNyZWF0ZVRleHQodGhpcy50b29sdGlwKSx0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMuZGl2Q29udGVudCx0aGlzLnRleHRDb250ZW50KSx0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMudG9vbHRpcENvbnRlbnQsdGhpcy5kaXZBcnJvdyksdGhpcy5yZW5kZXJlci5hcHBlbmRDaGlsZCh0aGlzLnRvb2x0aXBDb250ZW50LHRoaXMuZGl2Q29udGVudCk7Y29uc3QgdD10aGlzLmFwcGVuZEluQm9keT9kb2N1bWVudC5ib2R5OnRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O3RoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodCx0aGlzLnRvb2x0aXBDb250ZW50KSx0aGlzLnBvQ29udHJvbFBvc2l0aW9uLnNldEVsZW1lbnRzKHRoaXMudG9vbHRpcENvbnRlbnQsdGhpcy50b29sdGlwT2Zmc2V0LHRoaXMuZWxlbWVudFJlZiksdGhpcy5hZGRTY3JvbGxFdmVudExpc3RlbmVyKCl9aW5pdFNjcm9sbEV2ZW50TGlzdGVuZXJGdW5jdGlvbigpe3RoaXMuZXZlbnRMaXN0ZW5lckZ1bmN0aW9uPSgpPT57dGhpcy5pc0hpZGRlbnx8c2V0VGltZW91dCgoKT0+e3RoaXMucG9Db250cm9sUG9zaXRpb24uYWRqdXN0UG9zaXRpb24odGhpcy50b29sdGlwUG9zaXRpb24pfSl9fWhpZGVUb29sdGlwKCl7dGhpcy50b29sdGlwQ29udGVudCYmKHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy50b29sdGlwQ29udGVudCwicG8taW52aXNpYmxlIiksdGhpcy5pc0hpZGRlbj0hMCx0aGlzLnJlbW92ZVNjcm9sbEV2ZW50TGlzdGVuZXIoKSl9cmVtb3ZlQXJyb3codCl7dGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLnBvLWFycm93LSR7dH1gKSYmdGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmRpdkFycm93LGBwby1hcnJvdy0ke3R9YCl9cmVtb3ZlU2Nyb2xsRXZlbnRMaXN0ZW5lcigpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLHRoaXMuZXZlbnRMaXN0ZW5lckZ1bmN0aW9uLCEwKX1zaG93VG9vbHRpcCgpe3RoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy50b29sdGlwQ29udGVudCwicG8taW52aXNpYmxlIiksdGhpcy51cGRhdGVUZXh0Q29udGVudCgpLHRoaXMuaXNIaWRkZW49ITEsdGhpcy5hZGRTY3JvbGxFdmVudExpc3RlbmVyKCl9dXBkYXRlVGV4dENvbnRlbnQoKXt0aGlzLmxhc3RUb29sdGlwVGV4dCE9PXRoaXMudG9vbHRpcCYmKHRoaXMucmVuZGVyZXIucmVtb3ZlQ2hpbGQodGhpcy5kaXZDb250ZW50LHRoaXMudGV4dENvbnRlbnQpLHRoaXMudGV4dENvbnRlbnQ9dGhpcy5yZW5kZXJlci5jcmVhdGVUZXh0KHRoaXMudG9vbHRpcCksdGhpcy5yZW5kZXJlci5hcHBlbmRDaGlsZCh0aGlzLmRpdkNvbnRlbnQsdGhpcy50ZXh0Q29udGVudCkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyh4YSksZ28oa2EpLGdvKEFiKSl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsInAtdG9vbHRpcCIsIiJdXSxob3N0QmluZGluZ3M6ZnVuY3Rpb24odCxlKXsxJnQmJnhvKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe3JldHVybiBlLm9uTW91c2VFbnRlcigpfSkoIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25Nb3VzZUxlYXZlKCl9KX0sZmVhdHVyZXM6W2JhKFtBYl0pLEppXX0pLHR9KSgpLGtiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t3aF1dfSksdH0pKCksRmI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3doLF9iLGtiXV19KSx0fSkoKSxJYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5kYXRlUmVnZXg9bmV3IFJlZ0V4cCgiXig/OlswLTldKVxcZHsxfSg/OlswLTldKVxcZHsxfS0oPzowWzEtOV18MVswLTJdKS0oPzowWzEtOV18WzEyXVxcZHwzWzAxXSkkIiksdGhpcy5pc29SZWdleD1uZXcgUmVnRXhwKCJeKD86WzAtOV0pXFxkezF9KD86WzAtOV0pXFxkezF9LSg/OjBbMS05XXwxWzAtMl0pLSg/OjBbMS05XXxbMTJdXFxkfDNbMDFdKVQoPzpbMDFdXFxkfDJbMC0zXSk6WzAtNV1cXGQ6WzAtNV1cXGQoPzpafC0wWzEtOV18LTFcXGR8LTJbMC0zXXwtMDA6Pyg/OjBbMS05XXxbMC01XVxcZCl8XFwrWzAxXVxcZHxcXCsyWzAtM10pKD86fDo/WzAtNV1cXGQpJCIpfWNvbnZlcnRJc29Ub0RhdGUodCxlLG4pe2lmKHQpe2NvbnN0e3llYXI6cixtb250aDpzLGRheTppfT10aGlzLmdldERhdGVGcm9tSXNvKHQpO2lmKGUpe2NvbnN0IHQ9bmV3IERhdGUocixzLTEsaSwwLDAsMCk7cmV0dXJuIHRoaXMuc2V0WWVhckZyb20wVG8xMDAodCxyKSx0fWlmKG4pe2NvbnN0IHQ9bmV3IERhdGUocixzLTEsaSwyMyw1OSw1OSk7cmV0dXJuIHRoaXMuc2V0WWVhckZyb20wVG8xMDAodCxyKSx0fXtjb25zdCBlPURhdGUucGFyc2UodCksbj02ZTQqKG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpO3JldHVybiBuZXcgRGF0ZShlK24pfX19Y29udmVydERhdGVUb0lTTyh0KXtpZih0KXtjb25zdCBlPXQuZ2V0RnVsbFllYXIoKSxuPXQuZ2V0TW9udGgoKSsxLHI9dC5nZXREYXRlKCk8MTA/IjAiK3QuZ2V0RGF0ZSgpOnQuZ2V0RGF0ZSgpLHM9bjwxMD8iMCIrbjpuO3JldHVybiB0aGlzLmZvcm1hdFllYXIoZSkrIi0iK3MrIi0iK3J9cmV0dXJuIG51bGx9Zm9ybWF0WWVhcih0KXtyZXR1cm4gdD45OTk/dC50b1N0cmluZygpOnQ+OTkmJnQ8MWUzP2AwJHt0fWA6dD45JiZ0PDEwMD9gMDAke3R9YDp0Pj0wJiZ0PDEwP2AwMDAke3R9YDp2b2lkIDB9Z2V0RGF0ZUZyb21Jc28odCl7Y29uc3QgZT1wYXJzZUludCh0LnN1YnN0cmluZyg4LDEwKSwxMCksbj1wYXJzZUludCh0LnN1YnN0cmluZyg1LDcpLDEwKTtyZXR1cm57eWVhcjpwYXJzZUludCh0LnN1YnN0cmluZygwLDQpLDEwKSxtb250aDpuLGRheTplfX1nZXREYXRlRm9yRGF0ZVJhbmdlKHQsZSl7Y29uc3Qgbj1lP1swLDAsMF06WzIzLDU5LDU5XTtpZih0IGluc3RhbmNlb2YgRGF0ZSl7Y29uc3R7eWVhcjplLG1vbnRoOnIsZGF5OnN9PXRoaXMuc3BsaXREYXRlKHQpLGk9bmV3IERhdGUoZSxyLHMsLi4ubik7cmV0dXJuIHRoaXMuc2V0WWVhckZyb20wVG8xMDAoaSxlKSxpfWlmKHRoaXMuaXNWYWxpZElzbyh0KSlyZXR1cm4gdGhpcy5jb252ZXJ0SXNvVG9EYXRlKHQsZSwhZSl9aXNEYXRlUmFuZ2VWYWxpZCh0PSIiLGU9IiIpe2NvbnN0IG49dC5zcGxpdCgiLSIpLm1hcCh0PT5wYXJzZUludCh0LDEwKSkscj1lLnNwbGl0KCItIikubWFwKHQ9PnBhcnNlSW50KHQsMTApKTtmb3IobGV0IHM9MDtzPD1uLmxlbmd0aDtzKyspe2lmKG5bc10+cltzXSlyZXR1cm4hMDtpZihuW3NdPHJbc10pcmV0dXJuITF9cmV0dXJuITB9aXNWYWxpZElzbyh0KXtyZXR1cm4gdGhpcy5kYXRlUmVnZXgudGVzdCh0KXx8dGhpcy5pc29SZWdleC50ZXN0KHQpfXNldFllYXJGcm9tMFRvMTAwKHQsZSl7ZT49MCYmZTwxMDAmJnQuc2V0RnVsbFllYXIoZSl9c3BsaXREYXRlKHQpe3JldHVybnt5ZWFyOnQuZ2V0RnVsbFllYXIoKSxtb250aDp0LmdldE1vbnRoKCksZGF5OnQuZ2V0RGF0ZSgpfX12YWxpZGF0ZURhdGVSYW5nZSh0LGUsbil7cmV0dXJuIGUmJm4/dD49ZSYmdDw9bjplJiYhbj90Pj1lOiEoIWUmJm4pfHx0PD1ufXZhbGlkYXRlRGF0ZSh0KXtjb25zdCBlPXQgaW5zdGFuY2VvZiBEYXRlP3RoaXMuY29udmVydERhdGVUb0lTTyh0KTp0O3JldHVybiB0aGlzLmlzVmFsaWRJc28oZSk/ZTp2b2lkIDB9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHR9LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKSxPYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W0liXX0pLHR9KSgpLFBiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t3aF1dfSksdH0pKCk7dmFyIFJiPWZ1bmN0aW9uKHQpe3JldHVybiB0LkFyZWE9ImFyZWEiLHQuRG9udXQ9ImRvbnV0Iix0LkdhdWdlPSJnYXVnZSIsdC5QaWU9InBpZSIsdC5MaW5lPSJsaW5lIix0LkNvbHVtbj0iY29sdW1uIix0LkJhcj0iYmFyIix0fSh7fSk7Y29uc3QgTGI9LU1hdGguUEkvMixCYj0xZS00LGpiPTIqTWF0aC5QSS9NYXRoLmZsb29yKDI1KTtsZXQgTWI9KCgpPT57Y2xhc3MgdHtjYWxjdWxhdGVNaW5BbmRNYXhWYWx1ZXModCxlPSEwKXtjb25zdCBuPXRoaXMuZ2V0RG9tYWluKHQsIm1pbiIpLHI9dGhpcy5nZXREb21haW4odCwibWF4Iik7cmV0dXJue21pblZhbHVlOiFlJiZuPDA/MDpuLG1heFZhbHVlOmUmJnI8MD8wOnJ9fWdldExvbmdlc3REYXRhVmFsdWUodD1bXSxlLG4pe3JldHVybiBlPT09UmIuQmFyP3RoaXMuZ2V0TG9uZ2VzdERhdGEodCk6dGhpcy5nZXRBeGlzWExhYmVsTG9uZ2VzdFZhbHVlKHQsdGhpcy5hbW91bnRPZkdyaWRMaW5lcyhudWxsPT1uP3ZvaWQgMDpuLmF4aXMpKX1zZXJpZXNHcmVhdGVyTGVuZ3RoKHQpe3JldHVybiB0LnJlZHVjZSgodCxlKT0+dD5lLmRhdGEubGVuZ3RoP3Q6ZS5kYXRhLmxlbmd0aCwwKX1nZXRTZXJpZVBlcmNlbnRhZ2UodCxlKXtjb25zdHttaW5WYWx1ZTpuLG1heFZhbHVlOnJ9PXQscz0oZS1uKS8oci1uKTtyZXR1cm4gaXNOYU4ocyk/MDpzfXJhbmdlKHQsZT01KXtjb25zdHttaW5WYWx1ZTpuLG1heFZhbHVlOnJ9PXQscz1bXSxpPXRoaXMuZ2V0R3JpZExpbmVBcmVhKHQsZSk7Zm9yKGxldCBvPW47bzw9cjtvPSgxMCpvKzEwKmkpLzEwKXMucHVzaChvKTtyZXR1cm4gc312ZXJpZnlJZkZsb2F0T3JJbnRlZ2VyKHQpe2NvbnN0IGU9ImJvb2xlYW4iIT10eXBlb2YgdCxuPXQhPT0xLzAscj1OdW1iZXIodCk9PT10JiZ0JTE9PTAmJm4scz1OdW1iZXIodCk9PT10JiZ0JTEhPTAmJm47cmV0dXJuIGUmJnJ8fGUmJnN9YW1vdW50T2ZHcmlkTGluZXModCl7dmFyIGU7Y29uc3Qgbj1udWxsIT09KGU9bnVsbD09dD92b2lkIDA6dC5ncmlkTGluZXMpJiZ2b2lkIDAhPT1lP2U6NTtyZXR1cm4gbiYmbj49MiYmbjw9MTA/bjo1fWdldEF4aXNYTGFiZWxMb25nZXN0VmFsdWUodCxlKXtjb25zdCBuPXQuZXZlcnkodD0+dC50eXBlPT09UmIuTGluZSkscj10aGlzLmNhbGN1bGF0ZU1pbkFuZE1heFZhbHVlcyh0LG4pLHM9dGhpcy5yYW5nZShyLGUpO3JldHVybiB0aGlzLmdldExvbmdlc3REYXRhKHMpfWdldEdyaWRMaW5lQXJlYSh0LGUpe2NvbnN0IG49dGhpcy5nZXRGcmFjdGlvbkZyb21JbnQoZS0xKSx7bWluVmFsdWU6cixtYXhWYWx1ZTpzfT10LGk9bioocy1yKS8xMDA7cmV0dXJuIDA9PT1pPzE6aX1nZXREb21haW4odCxlKXtjb25zdCBuPU1hdGhbZV0oLi4udC5tYXAodD0+e2lmKEFycmF5LmlzQXJyYXkodC5kYXRhKSlyZXR1cm4gTWF0aFtlXSguLi50LmRhdGEpfSkpO3JldHVybiBpc05hTihuKT8wOm59Z2V0RnJhY3Rpb25Gcm9tSW50KHQpe3JldHVybiAxL3QqMTAwfWdldExvbmdlc3REYXRhKHQpe3JldHVyblsuLi50XS5zb3J0KCh0LGUpPT5lLnRvU3RyaW5nKCkubGVuZ3RoLXQudG9TdHJpbmcoKS5sZW5ndGgpWzBdfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0fSx0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QifSksdH0pKCksTmI9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5tYXRoc1NlcnZpY2U9dCx0aGlzLnJlbmRlcmVyPWUsdGhpcy5lbGVtZW50UmVmPW4sdGhpcy5hbGlnbkJ5VGhlQ29ybmVycz0hMSx0aGlzLnBvaW50Q2xpY2s9bmV3IEFjLHRoaXMucG9pbnRIb3Zlcj1uZXcgQWMsdGhpcy5hbmltYXRlPSEwLHRoaXMuc2VyaWVzUG9pbnRzQ29vcmRpbmF0ZXM9W10sdGhpcy5fY29udGFpbmVyU2l6ZT17fSx0aGlzLl9yYW5nZT17fSx0aGlzLl9zZXJpZXM9W119c2V0IHJhbmdlKHQpe3QgaW5zdGFuY2VvZiBPYmplY3QmJiEodCBpbnN0YW5jZW9mIEFycmF5KSYmKHRoaXMuX3JhbmdlPXQsdGhpcy5zZXJpZVBhdGhQb2ludHNEZWZpbml0aW9uKHRoaXMuY29udGFpbmVyU2l6ZSx0aGlzLl9zZXJpZXMsdGhpcy5fcmFuZ2UpKX1nZXQgcmFuZ2UoKXtyZXR1cm4gdGhpcy5fcmFuZ2V9c2V0IGNvbnRhaW5lclNpemUodCl7dGhpcy5fY29udGFpbmVyU2l6ZT10LHRoaXMuc2VyaWVQYXRoUG9pbnRzRGVmaW5pdGlvbih0aGlzLl9jb250YWluZXJTaXplLHRoaXMuc2VyaWVzLHRoaXMucmFuZ2UpfWdldCBjb250YWluZXJTaXplKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lclNpemV9c2V0IHNlcmllcyh0KXtjb25zdCBlPXQuZmlsdGVyKHQ9PkFycmF5LmlzQXJyYXkodC5kYXRhKSk7ZS5sZW5ndGg/KHRoaXMuX3Nlcmllcz1lLHRoaXMuYW5pbWF0ZT0hMCx0aGlzLnNlcmllc0xlbmd0aD10aGlzLm1hdGhzU2VydmljZS5zZXJpZXNHcmVhdGVyTGVuZ3RoKHRoaXMuc2VyaWVzKSx0aGlzLmNoYXJ0VHlwZT10aGlzLl9zZXJpZXNbMF0udHlwZSx0aGlzLnNlcmllUGF0aFBvaW50c0RlZmluaXRpb24odGhpcy5jb250YWluZXJTaXplLGUsdGhpcy5yYW5nZSkpOnRoaXMuX3Nlcmllcz1bXX1nZXQgc2VyaWVzKCl7cmV0dXJuIHRoaXMuX3Nlcmllc31vblNlcmllUG9pbnRDbGljayh0KXt0aGlzLnBvaW50Q2xpY2suZW1pdCh0KX10cmFja0J5KHQpe3JldHVybiB0fWdldFRvb2x0aXBMYWJlbCh0LGUsbil7Y29uc3Qgcj1lP2Ake2V9OiBgOiIiLHM9dC50b1N0cmluZygpO3JldHVybiBufHxgJHtyfSR7c31gfXN2Z1BhdGhDb21tYW5kKCl7Y29uc3QgdD10aGlzLmZpcnN0VmFsaWRJdGVtRnJvbVNlcmllQXJyYXk/Ik0iOiJMIjtyZXR1cm4gdGhpcy5maXJzdFZhbGlkSXRlbUZyb21TZXJpZUFycmF5PSExLHR9eENvb3JkaW5hdGUodCxlKXtjb25zdCBuPXRoaXMuYWxpZ25CeVRoZUNvcm5lcnM/MDooZS5zdmdXaWR0aC1lLmF4aXNYTGFiZWxXaWR0aCkvdGhpcy5zZXJpZXNMZW5ndGgvMixyPXQvKHRoaXMuYWxpZ25CeVRoZUNvcm5lcnM/dGhpcy5zZXJpZXNMZW5ndGgtMTp0aGlzLnNlcmllc0xlbmd0aCkscz1pc05hTihyKT8wOnI7cmV0dXJuIE1hdGguZmxvb3IoZS5heGlzWExhYmVsV2lkdGgrbisoZS5zdmdXaWR0aC1lLmF4aXNYTGFiZWxXaWR0aCkqcyl9c2VyaWVDYXRlZ29yeSh0LGU9W10pe3ZhciBuO3JldHVybiBudWxsIT09KG49ZVt0XSkmJnZvaWQgMCE9PW4/bjp2b2lkIDB9c2VyaWVQYXRoUG9pbnRzRGVmaW5pdGlvbih0LGUsbil7dGhpcy5zZXJpZXNQb2ludHNDb29yZGluYXRlcz1bXSx0aGlzLnNlcmllc1BhdGhzQ29vcmRpbmF0ZXM9ZS5tYXAoZT0+e2lmKEFycmF5LmlzQXJyYXkoZS5kYXRhKSl7bGV0IHI9IiIscz1bXTtjb25zdCBpPWUuY29sb3I7cmV0dXJuIHRoaXMuZmlyc3RWYWxpZEl0ZW1Gcm9tU2VyaWVBcnJheT0hMCxlLmRhdGEuZm9yRWFjaCgobyxhKT0+e2lmKHRoaXMubWF0aHNTZXJ2aWNlLnZlcmlmeUlmRmxvYXRPckludGVnZXIobykpe2NvbnN0IGM9dGhpcy5zdmdQYXRoQ29tbWFuZCgpLGw9dGhpcy54Q29vcmRpbmF0ZShhLHQpLHU9dGhpcy55Q29vcmRpbmF0ZShuLG8sdCksaD10aGlzLnNlcmllQ2F0ZWdvcnkoYSx0aGlzLmNhdGVnb3JpZXMpLGQ9ZS5sYWJlbCxwPXRoaXMuZ2V0VG9vbHRpcExhYmVsKG8sZCxlLnRvb2x0aXApLGY9dGhpcy5jaGFydFR5cGU9PT1SYi5MaW5lO3M9Wy4uLnMse2NhdGVnb3J5OmgsbGFiZWw6ZCx0b29sdGlwTGFiZWw6cCxkYXRhOm8seENvb3JkaW5hdGU6bCx5Q29vcmRpbmF0ZTp1LGNvbG9yOmksaXNBY3RpdmU6Zn1dLHIrPWAgJHtjfSR7bH0gJHt1fWB9fSkscj10aGlzLnZlcmlmeUlmQ2xvc2VQYXRoKHIsZS5kYXRhLmxlbmd0aC0xLG4sMCx0KSx0aGlzLnNlcmllc1BvaW50c0Nvb3JkaW5hdGVzPVsuLi50aGlzLnNlcmllc1BvaW50c0Nvb3JkaW5hdGVzLHNdLHtjb29yZGluYXRlczpyLGNvbG9yOmksaXNBY3RpdmU6ITB9fX0pfXZlcmlmeUlmQ2xvc2VQYXRoKHQsZSxuLHIscyl7Y29uc3R7YXhpc1hMYWJlbFdpZHRoOmksc3ZnV2lkdGg6b309cztpZih0aGlzLmNoYXJ0VHlwZT09PVJiLkFyZWEpe2NvbnN0IGE9dGhpcy54Q29vcmRpbmF0ZShlLHMpLGM9dGhpcy55Q29vcmRpbmF0ZShuLHIscyk7cmV0dXJuYCR7dH0gJHthfSAke2N9IEwke01hdGguZmxvb3IodGhpcy5hbGlnbkJ5VGhlQ29ybmVycz9pOmkrKG8taSkvdGhpcy5zZXJpZXNMZW5ndGgvMil9ICR7Y30gWmB9cmV0dXJuIHR9eUNvb3JkaW5hdGUodCxlLG4pe2NvbnN0IHI9dGhpcy5tYXRoc1NlcnZpY2UuZ2V0U2VyaWVQZXJjZW50YWdlKHQsZSk7cmV0dXJuIE1hdGguZmxvb3Iobi5zdmdQbG90dGluZ0FyZWFIZWlnaHQtbi5zdmdQbG90dGluZ0FyZWFIZWlnaHQqcis4KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoZ28oTWIpLGdvKGthKSxnbyh4YSkpfSx0Llx1MDI3NWRpcj1YdCh7dHlwZTp0LHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmSGMoRHksNSksMiZ0KXtsZXQgdDtOYyh0PVZjKCkpJiYoZS5jaGFydExpbmU9dC5maXJzdCl9fSxpbnB1dHM6e2FsaWduQnlUaGVDb3JuZXJzOlsicC1hbGlnbi1ieS10aGUtY29ybmVycyIsImFsaWduQnlUaGVDb3JuZXJzIl0scmFuZ2U6WyJwLXJhbmdlIiwicmFuZ2UiXSxjb250YWluZXJTaXplOlsicC1jb250YWluZXItc2l6ZSIsImNvbnRhaW5lclNpemUiXSxzZXJpZXM6WyJwLXNlcmllcyIsInNlcmllcyJdLGNhdGVnb3JpZXM6WyJwLWNhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIl0sY2F0ZWdvcmllc0Nvb3JkaW5hdGVzOlsicC1jYXRlZ29yaWVzLWNvb3JkaW5hdGVzIiwiY2F0ZWdvcmllc0Nvb3JkaW5hdGVzIl0sc3ZnU3BhY2U6WyJwLXN2Zy1zcGFjZSIsInN2Z1NwYWNlIl19LG91dHB1dHM6e3BvaW50Q2xpY2s6InAtcG9pbnQtY2xpY2siLHBvaW50SG92ZXI6InAtcG9pbnQtaG92ZXIifX0pLHR9KSgpLEhiPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBOYntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCxlLG4pLHRoaXMubWF0aHNTZXJ2aWNlPXQsdGhpcy5yZW5kZXJlcj1lLHRoaXMuZWxlbWVudFJlZj1ufW9uRW50ZXIodCl7dGhpcy5hcHBseUFjdGl2ZUl0ZW0odGhpcy5zZXJpZXNQYXRoc0Nvb3JkaW5hdGVzLHQpLHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVyKHQpLHRoaXMuYWN0aXZlVG9vbHRpcD0hMH1vbkxlYXZlKHQpe3RoaXMucmVtb3ZlTGlzdGVuZXIoKSx0aGlzLmFwcGx5QWN0aXZlSXRlbSh0aGlzLnNlcmllc1BhdGhzQ29vcmRpbmF0ZXMpLHRoaXMuYXBwbHlBY3RpdmVJdGVtKHRoaXMuc2VyaWVzUG9pbnRzQ29vcmRpbmF0ZXNbdF0sbnVsbCl9b25TZXJpZVBvaW50SG92ZXIodCl7Y29uc3QgZT1LbSh0LFsicmVsYXRpdmVUbyJdKTt0aGlzLnBvaW50SG92ZXIuZW1pdChlKX1hcHBseUFjdGl2ZUl0ZW0odCxlKXt0LmZvckVhY2goKHQsbik9Pnt0LmlzQWN0aXZlPXZvaWQgMD09PWV8fGU9PT1ufSl9Z2V0TW91c2VDb29yZGluYXRlcyh0KXt0LnByZXZlbnREZWZhdWx0KCk7Y29uc3R7c3ZnRG9tTWF0cml4OmUsc3ZnUG9pbnQ6bn09dGhpcy5zdmdTcGFjZTtyZXR1cm4gbi54PXQuY2xpZW50WCxuLnk9dC5jbGllbnRZLG4ubWF0cml4VHJhbnNmb3JtKGUpfWluaXRpYWxpemVMaXN0ZW5lcih0KXtsZXQgZTt0aGlzLnByZXZpb3VzQWN0aXZlU2VyaWVJbmRleD12b2lkIDAsdGhpcy5tb3VzZU1vdmVTdWJzY3JpcHRpb24kPVRkKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LCJtb3VzZW1vdmUiKS5waXBlKHJ5KDEwKSxicCh0PT5lPXRoaXMuZ2V0TW91c2VDb29yZGluYXRlcyh0KSksYmQoKCk9PmhkKHRoaXMudmVyaWZ5QWN0aXZlQXJlYShlKSkpKS5zdWJzY3JpYmUoZT0+e3ZvaWQgMCE9PWUmJnRoaXMuYXBwbHlBY3RpdmVJdGVtKHRoaXMuc2VyaWVzUG9pbnRzQ29vcmRpbmF0ZXNbdF0sZSl9KX1yZW1vdmVMaXN0ZW5lcigpe3RoaXMubW91c2VNb3ZlU3Vic2NyaXB0aW9uJC51bnN1YnNjcmliZSgpfXZlcmlmeUFjdGl2ZUFyZWEodCl7Y29uc3R7eDplfT10O2lmKHRoaXMuY3VycmVudEFjdGl2ZVNlcmllSW5kZXg9dGhpcy5jYXRlZ29yaWVzQ29vcmRpbmF0ZXMuZmluZEluZGV4KCh0LG4pPT5lPj10JiZuPT09dGhpcy5jYXRlZ29yaWVzQ29vcmRpbmF0ZXMubGVuZ3RoLTF8fGU+PXQmJmU8PXRoaXMuY2F0ZWdvcmllc0Nvb3JkaW5hdGVzW24rMV0pLHRoaXMuY3VycmVudEFjdGl2ZVNlcmllSW5kZXg+PTAmJnRoaXMuY3VycmVudEFjdGl2ZVNlcmllSW5kZXghPT10aGlzLnByZXZpb3VzQWN0aXZlU2VyaWVJbmRleClyZXR1cm4gdGhpcy5wcmV2aW91c0FjdGl2ZVNlcmllSW5kZXg9dGhpcy5jdXJyZW50QWN0aXZlU2VyaWVJbmRleCx0aGlzLmN1cnJlbnRBY3RpdmVTZXJpZUluZGV4fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyhNYiksZ28oa2EpLGdvKHhhKSl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsInBvLWNoYXJ0LWFyZWEiLCIiXV0sZmVhdHVyZXM6W0ppXSxhdHRyczpFeSxkZWNsczozLHZhcnM6Mixjb25zdHM6W1siY2hhcnRMaW5lIiwiIl0sWzMsImNsYXNzIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLDQsIm5nRm9yIiwibmdGb3JPZiIsIm5nRm9yVHJhY2tCeSJdLFszLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSJdLFsicG8tY2hhcnQtcGF0aCIsIiIsMywicC1jaGFydC1saW5lIiwicC1hbmltYXRlIiwicC1jb2xvciIsInAtY29vcmRpbmF0ZXMiLCJwLWlzLWFjdGl2ZSJdLFsicG8tY2hhcnQtc2VyaWVzLXBvaW50IiwiIiwzLCJwLWFuaW1hdGUiLCJwLWNoYXJ0LWxpbmUiLCJwLWNvbG9yIiwicC1jb29yZGluYXRlcyIsInAtaXMtYWN0aXZlIiwicC1yZWxhdGl2ZS10byIsInAtcG9pbnQtY2xpY2siLCJwLXBvaW50LWhvdmVyIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYob24oKSx2bygwLCJnIixudWxsLDApLHBvKDIsU3ksMywxNSwiZyIsMSksYm8oKSksMiZ0JiYoenMoMiksbW8oIm5nRm9yT2YiLGUuc2VyaWVzUGF0aHNDb29yZGluYXRlcykoIm5nRm9yVHJhY2tCeSIsZS50cmFja0J5KSl9LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5bZWgscEMsZkNdfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxWYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMubWF0aHNTZXJ2aWNlPXQsdGhpcy5hbGlnbkJ5VGhlQ29ybmVycz0hMSx0aGlzLmNhdGVnb3JpZXNDb29yZGluYXRlcz1uZXcgQWMsdGhpcy5heGlzWExhYmVscz1bXSx0aGlzLmF4aXNZTGFiZWxzPVtdLHRoaXMuZ3JpZExpbmVzPTUsdGhpcy5zZXJpZXNMZW5ndGg9MCx0aGlzLl9jYXRlZ29yaWVzPVtdLHRoaXMuX2NvbnRhaW5lclNpemU9e30sdGhpcy5fc2VyaWVzPVtdfXNldCBzZXJpZXModCl7Y29uc3QgZT10LmZpbHRlcih0PT5BcnJheS5pc0FycmF5KHQuZGF0YSkpO2UubGVuZ3RoPyh0aGlzLl9zZXJpZXM9ZSx0aGlzLnNlcmllc0xlbmd0aD10aGlzLm1hdGhzU2VydmljZS5zZXJpZXNHcmVhdGVyTGVuZ3RoKHRoaXMuc2VyaWVzKSx0aGlzLmNoZWNrQXhpc09wdGlvbnModGhpcy5heGlzT3B0aW9ucyksdGhpcy5zZXRBeGlzWENvb3JkaW5hdGVzKHRoaXMuZ3JpZExpbmVzLHRoaXMuc2VyaWVzTGVuZ3RoLHRoaXMuY29udGFpbmVyU2l6ZSx0aGlzLnJhbmdlLHRoaXMudHlwZSksdGhpcy5zZXRBeGlzWUNvb3JkaW5hdGVzKHRoaXMuZ3JpZExpbmVzLHRoaXMuc2VyaWVzTGVuZ3RoLHRoaXMuY29udGFpbmVyU2l6ZSx0aGlzLnJhbmdlLHRoaXMudHlwZSkpOih0aGlzLl9zZXJpZXM9W10sdGhpcy5jbGVhblVwQ29vcmRpbmF0ZXMoKSl9Z2V0IHNlcmllcygpe3JldHVybiB0aGlzLl9zZXJpZXN9c2V0IGNhdGVnb3JpZXModCl7dGhpcy5fY2F0ZWdvcmllcz10LHRoaXMudHlwZT09PVJiLkJhcj90aGlzLnNldEF4aXNYQ29vcmRpbmF0ZXModGhpcy5ncmlkTGluZXMsdGhpcy5zZXJpZXNMZW5ndGgsdGhpcy5jb250YWluZXJTaXplLHRoaXMucmFuZ2UsdGhpcy50eXBlKTp0aGlzLnNldEF4aXNZQ29vcmRpbmF0ZXModGhpcy5ncmlkTGluZXMsdGhpcy5zZXJpZXNMZW5ndGgsdGhpcy5jb250YWluZXJTaXplLHRoaXMucmFuZ2UsdGhpcy50eXBlKX1nZXQgY2F0ZWdvcmllcygpe3JldHVybiB0aGlzLl9jYXRlZ29yaWVzfXNldCBjb250YWluZXJTaXplKHQpe3RoaXMuX2NvbnRhaW5lclNpemU9dCx0aGlzLmNoZWNrQXhpc09wdGlvbnModGhpcy5heGlzT3B0aW9ucyksdGhpcy5zZXRBeGlzWENvb3JkaW5hdGVzKHRoaXMuZ3JpZExpbmVzLHRoaXMuc2VyaWVzTGVuZ3RoLHRoaXMuX2NvbnRhaW5lclNpemUsdGhpcy5yYW5nZSx0aGlzLnR5cGUpLHRoaXMuc2V0QXhpc1lDb29yZGluYXRlcyh0aGlzLmdyaWRMaW5lcyx0aGlzLnNlcmllc0xlbmd0aCx0aGlzLl9jb250YWluZXJTaXplLHRoaXMucmFuZ2UsdGhpcy50eXBlKX1nZXQgY29udGFpbmVyU2l6ZSgpe3JldHVybiB0aGlzLl9jb250YWluZXJTaXplfXNldCBheGlzT3B0aW9ucyh0KXt0aGlzLl9heGlzT3B0aW9ucz10LHRoaXMuY2hlY2tBeGlzT3B0aW9ucyh0aGlzLl9heGlzT3B0aW9ucyksdGhpcy50eXBlPT09UmIuQmFyP3RoaXMuc2V0QXhpc1lDb29yZGluYXRlcyh0aGlzLmdyaWRMaW5lcyx0aGlzLnNlcmllc0xlbmd0aCx0aGlzLmNvbnRhaW5lclNpemUsdGhpcy5yYW5nZSx0aGlzLnR5cGUpOnRoaXMuc2V0QXhpc1hDb29yZGluYXRlcyh0aGlzLmdyaWRMaW5lcyx0aGlzLnNlcmllc0xlbmd0aCx0aGlzLmNvbnRhaW5lclNpemUsdGhpcy5yYW5nZSx0aGlzLnR5cGUpfWdldCBheGlzT3B0aW9ucygpe3JldHVybiB0aGlzLl9heGlzT3B0aW9uc31zZXRBeGlzWENvb3JkaW5hdGVzKHQsZSxuLHIscyl7ZSYmdGhpcy5jYWxjdWxhdGVBeGlzWExhYmVsQ29vcmRpbmF0ZXMocz09PVJiLkJhcj9lOnQsbixyLHMpO2NvbnN0IGk9dGhpcy5hbW91bnRPZkF4aXNYTGluZXMoZSx0LHMpO3RoaXMuY2FsY3VsYXRlQXhpc1hDb29yZGluYXRlcyhpLG4scil9YW1vdW50T2ZBeGlzWExpbmVzKHQsZSxuKXtyZXR1cm4gbj09PVJiLkJhcj90PD0xPzI6dCsxOjA9PT1lPzE6ZX1zZXRBeGlzWUNvb3JkaW5hdGVzKHQsZSxuLHIscyl7Y29uc3QgaT1zPT09UmIuQmFyP3Q6ZTtlJiZ0aGlzLmNhbGN1bGF0ZUF4aXNZTGFiZWxDb29yZGluYXRlcyhpLG4scixzKSxzPT09UmIuQXJlYSYmdGhpcy5nZXRDYXRlZ29yaWVzUmFuZ2VGb3JNb3VzZU1vdmUoaSxuKSx0aGlzLmNhbGN1bGF0ZUF4aXNZQ29vcmRpbmF0ZXMoaSxuLHMscil9Y2FsY3VsYXRlQXhpc1hDb29yZGluYXRlcyh0LGUsbil7Y29uc3Qgcj1lLmF4aXNYTGFiZWxXaWR0aCxzPWUuc3ZnV2lkdGg7bGV0IGksbz1bLi4uQXJyYXkodCldLm1hcCgobixpKT0+e2NvbnN0IG89dGhpcy5jYWxjdWxhdGVBeGlzWENvb3JkaW5hdGVZKHQsZSxpKTtyZXR1cm57Y29vcmRpbmF0ZXM6YE0ke3J9ICR7b30gTCR7c30sICR7b31gfX0pO3RoaXMudHlwZSE9PVJiLkJhciYmbi5taW5WYWx1ZTwwJiYhdGhpcy5heGlzWExhYmVscy5pbmNsdWRlcygiMCIpJiYoaT10aGlzLmdldENvb3JkaW5hdGVzUmVsYXRlZFRvWmVybyhlLG4scixzKSxvPVsuLi5vLGldKSx0aGlzLmF4aXNYQ29vcmRpbmF0ZXM9b31nZXRDb29yZGluYXRlc1JlbGF0ZWRUb1plcm8odCxlLG4scixzPSExKXtjb25zdCBpPXM/UmIuQmFyOlJiLkNvbHVtbixvPXRoaXMuYXhpc0Nvb3JkaW5hdGVzRm9yVmFsdWVaZXJvKGUsMCx0LHMpLGE9e2NvbHVtbjp7c3RhcnRYOm4sZW5kWDpyLHN0YXJ0WTpvLGVuZFk6b30sYmFyOntzdGFydFg6byxlbmRYOm8sc3RhcnRZOm4sZW5kWTpyfX07cmV0dXJue2Nvb3JkaW5hdGVzOmBNJHthW2ldLnN0YXJ0WH0gJHthW2ldLnN0YXJ0WX0gTCR7YVtpXS5lbmRYfSAke2FbaV0uZW5kWX1gfX1heGlzQ29vcmRpbmF0ZXNGb3JWYWx1ZVplcm8odCxlLG4scil7Y29uc3R7YXhpc1hMYWJlbFdpZHRoOnMsc3ZnV2lkdGg6aSxzdmdQbG90dGluZ0FyZWFIZWlnaHQ6b309bixhPXRoaXMubWF0aHNTZXJ2aWNlLmdldFNlcmllUGVyY2VudGFnZSh0LGUpO3JldHVybiBNYXRoLmZsb29yKHI/cysoaS1zKSphOm8tbyphKzgpfWNhbGN1bGF0ZUF4aXNYTGFiZWxDb29yZGluYXRlcyh0LGUsbixyKXt0aGlzLmF4aXNYTGFiZWxzPXRoaXMuZ2V0QXhpc1hMYWJlbHMocixuLHQpLHRoaXMuYXhpc1hMYWJlbENvb3JkaW5hdGVzPVsuLi5BcnJheSh0KV0ubWFwKChuLHMpPT4oe2xhYmVsOnRoaXMuYXhpc1hMYWJlbHNbc10seENvb3JkaW5hdGU6dGhpcy5jYWxjdWxhdGVBeGlzWExhYmVsWENvb3JkaW5hdGUoZS5heGlzWExhYmVsV2lkdGgpLHlDb29yZGluYXRlOnRoaXMuY2FsY3VsYXRlQXhpc1hMYWJlbFlDb29yZGluYXRlKHQsZSxyLHMpfSkpfWNhbGN1bGF0ZUF4aXNZQ29vcmRpbmF0ZXModCxlLG4scil7Y29uc3Qgcz1lLnN2Z1Bsb3R0aW5nQXJlYUhlaWdodCs4O2xldCBpLG89Wy4uLkFycmF5KDA9PT10fHxuPT09UmIuQmFyP3Q6dCsxKV0ubWFwKChuLHIpPT57Y29uc3QgaT10aGlzLmNhbGN1bGF0ZUF4aXNZQ29vcmRpbmF0ZVgoZSx0LHIpO3JldHVybntjb29yZGluYXRlczpgTSR7aX0gOCBMJHtpfSwgJHtzfWB9fSk7bj09PVJiLkJhciYmci5taW5WYWx1ZTwwJiYhdGhpcy5heGlzWUxhYmVscy5pbmNsdWRlcygiMCIpJiYoaT10aGlzLmdldENvb3JkaW5hdGVzUmVsYXRlZFRvWmVybyhlLHIsOCxzLCEwKSxvPVsuLi5vLGldKSx0aGlzLmF4aXNZQ29vcmRpbmF0ZXM9Wy4uLm9dfWNhbGN1bGF0ZUF4aXNZTGFiZWxDb29yZGluYXRlcyh0LGUsbixyKXt0aGlzLmF4aXNZTGFiZWxzPXRoaXMuZ2V0QXhpc1lMYWJlbHMocixuLHQpLHRoaXMuYXhpc1lMYWJlbENvb3JkaW5hdGVzPVsuLi5BcnJheSh0KV0ubWFwKChuLHMpPT4oe2xhYmVsOnRoaXMuYXhpc1lMYWJlbHNbc10seENvb3JkaW5hdGU6dGhpcy5nZXRBeGlzWENvb3JkaW5hdGVzKGUsdCxyLHMpLHlDb29yZGluYXRlOnRoaXMuY2FsY3VsYXRlQXhpc1lMYWJlbFlDb29yZGluYXRlKGUpfSkpfWNhbGN1bGF0ZUF4aXNYTGFiZWxYQ29vcmRpbmF0ZSh0KXtyZXR1cm4gdC04fWNhbGN1bGF0ZUF4aXNYTGFiZWxZQ29vcmRpbmF0ZSh0LGUsbixyKXtjb25zdCBzPXIvKG49PT1SYi5CYXI/dDp0LTEpO3JldHVybiBuIT09UmIuQmFyP2Uuc3ZnUGxvdHRpbmdBcmVhSGVpZ2h0LWUuc3ZnUGxvdHRpbmdBcmVhSGVpZ2h0KnMrODplLnN2Z1Bsb3R0aW5nQXJlYUhlaWdodC1lLnN2Z1Bsb3R0aW5nQXJlYUhlaWdodC90LzItZS5zdmdQbG90dGluZ0FyZWFIZWlnaHQqcys4fWNhbGN1bGF0ZUF4aXNYQ29vcmRpbmF0ZVkodCxlLG4pe3JldHVybiBlLnN2Z1Bsb3R0aW5nQXJlYUhlaWdodC1lLnN2Z1Bsb3R0aW5nQXJlYUhlaWdodCoobi8odC0xKSkrOH1jYWxjdWxhdGVBeGlzWUxhYmVsWUNvb3JkaW5hdGUodCl7cmV0dXJuIHQuc3ZnSGVpZ2h0LTh9Y2VudGVyZWRJbkNhdGVnb3J5QXJlYSh0LGUsbixyKXtjb25zdCBzPXIvKG49PT1SYi5CYXI/ZS0xOmUpO3JldHVybiBuPT09UmIuQmFyP01hdGgucm91bmQodC5heGlzWExhYmVsV2lkdGgrKHQuc3ZnV2lkdGgtdC5heGlzWExhYmVsV2lkdGgpKnMpOk1hdGgucm91bmQodC5heGlzWExhYmVsV2lkdGgrKHQuc3ZnV2lkdGgtdC5heGlzWExhYmVsV2lkdGgpL2UvMisodC5zdmdXaWR0aC10LmF4aXNYTGFiZWxXaWR0aCkqcyl9Y2FsY3VsYXRlQXhpc1lDb29yZGluYXRlWCh0LGUsbixyPSExKXtjb25zdCBzPW4vKHRoaXMuYWxpZ25CeVRoZUNvcm5lcnM/ZS0xOmUpO3JldHVybiBNYXRoLnJvdW5kKHQuYXhpc1hMYWJlbFdpZHRoKyh0LnN2Z1dpZHRoLXQuYXhpc1hMYWJlbFdpZHRoKSoocz09PTEvMD8wOnMpLSh0aGlzLmFsaWduQnlUaGVDb3JuZXJzJiZyPyh0LnN2Z1dpZHRoLXQuYXhpc1hMYWJlbFdpZHRoKS8oZS0xKS8yOjApKX1jaGVja0F4aXNPcHRpb25zKHQ9e30pe3RoaXMuZ3JpZExpbmVzPXQuZ3JpZExpbmVzJiZ0aGlzLmlzVmFsaWRHcmlkTGluZXNMZW5ndGhPcHRpb24odC5ncmlkTGluZXMpP3QuZ3JpZExpbmVzOjV9Y2xlYW5VcENvb3JkaW5hdGVzKCl7dGhpcy5heGlzWENvb3JkaW5hdGVzPVtdLHRoaXMuYXhpc1lDb29yZGluYXRlcz1bXSx0aGlzLmF4aXNYTGFiZWxDb29yZGluYXRlcz1bXSx0aGlzLmF4aXNZTGFiZWxDb29yZGluYXRlcz1bXSx0aGlzLnNlcmllc0xlbmd0aD0wfWdldEF4aXNYQ29vcmRpbmF0ZXModCxlLG4scil7cmV0dXJuIHRoaXMuYWxpZ25CeVRoZUNvcm5lcnM/dGhpcy5jYWxjdWxhdGVBeGlzWUNvb3JkaW5hdGVYKHQsZSxyKTp0aGlzLmNlbnRlcmVkSW5DYXRlZ29yeUFyZWEodCxlLG4scil9Z2V0Q2F0ZWdvcmllc1JhbmdlRm9yTW91c2VNb3ZlKHQsZSl7Y29uc3Qgbj1bLi4uQXJyYXkodCldLm1hcCgobixyKT0+dGhpcy5jYWxjdWxhdGVBeGlzWUNvb3JkaW5hdGVYKGUsdCxyLCEwKSk7dGhpcy5jYXRlZ29yaWVzQ29vcmRpbmF0ZXMuZW1pdChuKX1pc1ZhbGlkR3JpZExpbmVzTGVuZ3RoT3B0aW9uKHQpe3JldHVybiB0Pj0yJiZ0PD0xMH1nZXRBeGlzWExhYmVscyh0LGUsbil7cmV0dXJuIHQ9PT1SYi5CYXI/dGhpcy5mb3JtYXRDYXRlZ29yaWVzTGFiZWxzKG4sdGhpcy5jYXRlZ29yaWVzKS5yZXZlcnNlKCk6dGhpcy5nZW5lcmF0ZUF2ZXJhZ2VPZkxhYmVscyhlLG4pfWdldEF4aXNZTGFiZWxzKHQsZSxuKXtyZXR1cm4gdD09PVJiLkJhcj90aGlzLmdlbmVyYXRlQXZlcmFnZU9mTGFiZWxzKGUsbik6dGhpcy5mb3JtYXRDYXRlZ29yaWVzTGFiZWxzKG4sdGhpcy5jYXRlZ29yaWVzKX1mb3JtYXRDYXRlZ29yaWVzTGFiZWxzKHQsZT1bXSl7cmV0dXJuWy4uLkFycmF5KHQpXS5tYXAoKHQsbik9Pnt2YXIgcjtyZXR1cm4gbnVsbCE9PShyPWVbbl0pJiZ2b2lkIDAhPT1yP3I6Ii0ifSl9Z2VuZXJhdGVBdmVyYWdlT2ZMYWJlbHModCxlKXtyZXR1cm4gdGhpcy5tYXRoc1NlcnZpY2UucmFuZ2UodCxlKS5tYXAodD0+dC50b0ZpeGVkKHQlMSYmMikucmVwbGFjZSgvXC4wMCQvLCIiKS5yZXBsYWNlKC9cLTAkLywwKS50b1N0cmluZygpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoZ28oTWIpKX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwicG8tY2hhcnQtYXhpcyIsIiJdXSxpbnB1dHM6e2FsaWduQnlUaGVDb3JuZXJzOlsicC1hbGlnbi1ieS10aGUtY29ybmVycyIsImFsaWduQnlUaGVDb3JuZXJzIl0sc2VyaWVzOlsicC1zZXJpZXMiLCJzZXJpZXMiXSxjYXRlZ29yaWVzOlsicC1jYXRlZ29yaWVzIiwiY2F0ZWdvcmllcyJdLGNvbnRhaW5lclNpemU6WyJwLWNvbnRhaW5lci1zaXplIiwiY29udGFpbmVyU2l6ZSJdLGF4aXNPcHRpb25zOlsicC1vcHRpb25zIiwiYXhpc09wdGlvbnMiXSx0eXBlOlsicC10eXBlIiwidHlwZSJdLHJhbmdlOlsicC1yYW5nZSIsInJhbmdlIl19LG91dHB1dHM6e2NhdGVnb3JpZXNDb29yZGluYXRlczoicC1jYXRlZ29yaWVzLWNvb3JkaW5hdGVzIn0sYXR0cnM6eHksZGVjbHM6Mix2YXJzOjYsY29uc3RzOltbInBvLWNoYXJ0LWF4aXMtcGF0aCIsIiIsMywicC1heGlzLXgtY29vcmRpbmF0ZXMiLCJwLWF4aXMteS1jb29yZGluYXRlcyJdLFsicG8tY2hhcnQtYXhpcy1sYWJlbCIsIiIsMywicC1hbGlnbi1ieS10aGUtY29ybmVycyIsInAtYXhpcy14LWxhYmVsLWNvb3JkaW5hdGVzIiwicC1heGlzLXktbGFiZWwtY29vcmRpbmF0ZXMiLCJwLXR5cGUiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihvbigpLENvKDAsImciLDApLENvKDEsImciLDEpKSwyJnQmJihtbygicC1heGlzLXgtY29vcmRpbmF0ZXMiLGUuYXhpc1hDb29yZGluYXRlcykoInAtYXhpcy15LWNvb3JkaW5hdGVzIixlLmF4aXNZQ29vcmRpbmF0ZXMpLHpzKDEpLG1vKCJwLWFsaWduLWJ5LXRoZS1jb3JuZXJzIixlLmFsaWduQnlUaGVDb3JuZXJzKSgicC1heGlzLXgtbGFiZWwtY29vcmRpbmF0ZXMiLGUuYXhpc1hMYWJlbENvb3JkaW5hdGVzKSgicC1heGlzLXktbGFiZWwtY29vcmRpbmF0ZXMiLGUuYXhpc1lMYWJlbENvb3JkaW5hdGVzKSgicC10eXBlIixlLnR5cGUpKX0sZGlyZWN0aXZlczpmdW5jdGlvbigpe3JldHVyblt6YiwkYl19LGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLHpiPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt9dHJhY2tCeSh0KXtyZXR1cm4gdH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsInBvLWNoYXJ0LWF4aXMtcGF0aCIsIiJdXSxpbnB1dHM6e2F4aXNYQ29vcmRpbmF0ZXM6WyJwLWF4aXMteC1jb29yZGluYXRlcyIsImF4aXNYQ29vcmRpbmF0ZXMiXSxheGlzWUNvb3JkaW5hdGVzOlsicC1heGlzLXktY29vcmRpbmF0ZXMiLCJheGlzWUNvb3JkaW5hdGVzIl19LGF0dHJzOkF5LGRlY2xzOjQsdmFyczo0LGNvbnN0czpbWyJjbGFzcyIsInBvLWNoYXJ0LWF4aXMtcGF0aCIsNCwibmdGb3IiLCJuZ0Zvck9mIiwibmdGb3JUcmFja0J5Il0sWzEsInBvLWNoYXJ0LWF4aXMtcGF0aCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKG9uKCksdm8oMCwiZyIpLHBvKDEsVHksMSwxLCJwYXRoIiwwKSxibygpLHZvKDIsImciKSxwbygzLGt5LDEsMSwicGF0aCIsMCksYm8oKSksMiZ0JiYoenMoMSksbW8oIm5nRm9yT2YiLGUuYXhpc1hDb29yZGluYXRlcykoIm5nRm9yVHJhY2tCeSIsZS50cmFja0J5KSx6cygyKSxtbygibmdGb3JPZiIsZS5heGlzWUNvb3JkaW5hdGVzKSgibmdGb3JUcmFja0J5IixlLnRyYWNrQnkpKX0sZGlyZWN0aXZlczpbZWhdLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLCRiPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmFsaWduQnlUaGVDb3JuZXJzPSExfXRyYWNrQnkodCl7cmV0dXJuIHR9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyIiLCJwby1jaGFydC1heGlzLWxhYmVsIiwiIl1dLGlucHV0czp7YWxpZ25CeVRoZUNvcm5lcnM6WyJwLWFsaWduLWJ5LXRoZS1jb3JuZXJzIiwiYWxpZ25CeVRoZUNvcm5lcnMiXSxheGlzWExhYmVsQ29vcmRpbmF0ZXM6WyJwLWF4aXMteC1sYWJlbC1jb29yZGluYXRlcyIsImF4aXNYTGFiZWxDb29yZGluYXRlcyJdLGF4aXNZTGFiZWxDb29yZGluYXRlczpbInAtYXhpcy15LWxhYmVsLWNvb3JkaW5hdGVzIiwiYXhpc1lMYWJlbENvb3JkaW5hdGVzIl0sdHlwZTpbInAtdHlwZSIsInR5cGUiXX0sYXR0cnM6RnksZGVjbHM6NCx2YXJzOjQsY29uc3RzOltbImNsYXNzIiwicG8tY2hhcnQtYXhpcy14LWxhYmVsIiwiZG9taW5hbnQtYmFzZWxpbmUiLCJtaWRkbGUiLDQsIm5nRm9yIiwibmdGb3JPZiIsIm5nRm9yVHJhY2tCeSJdLFsiY2xhc3MiLCJwby1jaGFydC1heGlzLXktbGFiZWwiLDMsInBvLWNoYXJ0LWNlbnRlcmVkLWxhYmVsIiw0LCJuZ0ZvciIsIm5nRm9yT2YiLCJuZ0ZvclRyYWNrQnkiXSxbImRvbWluYW50LWJhc2VsaW5lIiwibWlkZGxlIiwxLCJwby1jaGFydC1heGlzLXgtbGFiZWwiXSxbMSwicG8tY2hhcnQtYXhpcy15LWxhYmVsIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYob24oKSx2bygwLCJnIikscG8oMSxJeSwyLDMsInRleHQiLDApLGJvKCksdm8oMiwiZyIpLHBvKDMsT3ksMiw1LCJ0ZXh0IiwxKSxibygpKSwyJnQmJih6cygxKSxtbygibmdGb3JPZiIsZS5heGlzWExhYmVsQ29vcmRpbmF0ZXMpKCJuZ0ZvclRyYWNrQnkiLGUudHJhY2tCeSksenMoMiksbW8oIm5nRm9yT2YiLGUuYXhpc1lMYWJlbENvb3JkaW5hdGVzKSgibmdGb3JUcmFja0J5IixlLnRyYWNrQnkpKX0sZGlyZWN0aXZlczpbZWhdLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLFViPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5tYXRoc1NlcnZpY2U9dCx0aGlzLmJhckNsaWNrPW5ldyBBYyx0aGlzLmJhckhvdmVyPW5ldyBBYyx0aGlzLl9jb250YWluZXJTaXplPXt9LHRoaXMuX3JhbmdlPXt9LHRoaXMuX3Nlcmllcz1bXX1zZXQgcmFuZ2UodCl7dCBpbnN0YW5jZW9mIE9iamVjdCYmISh0IGluc3RhbmNlb2YgQXJyYXkpJiYodGhpcy5fcmFuZ2U9dCx0aGlzLmNhbGN1bGF0ZVNlcmllc1BhdGhzQ29vcmRpbmF0ZXModGhpcy5jb250YWluZXJTaXplLHRoaXMuX3Nlcmllcyx0aGlzLl9yYW5nZSkpfWdldCByYW5nZSgpe3JldHVybiB0aGlzLl9yYW5nZX1zZXQgY29udGFpbmVyU2l6ZSh0KXt0aGlzLl9jb250YWluZXJTaXplPXQsdGhpcy5jYWxjdWxhdGVTZXJpZXNQYXRoc0Nvb3JkaW5hdGVzKHRoaXMuX2NvbnRhaW5lclNpemUsdGhpcy5zZXJpZXMsdGhpcy5yYW5nZSl9Z2V0IGNvbnRhaW5lclNpemUoKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyU2l6ZX1zZXQgc2VyaWVzKHQpe2NvbnN0IGU9dC5maWx0ZXIodD0+QXJyYXkuaXNBcnJheSh0LmRhdGEpKTtlLmxlbmd0aD8odGhpcy5fc2VyaWVzPWUsdGhpcy5zZXJpZXNHcmVhdGVyTGVuZ3RoPXRoaXMubWF0aHNTZXJ2aWNlLnNlcmllc0dyZWF0ZXJMZW5ndGgodGhpcy5zZXJpZXMpLHRoaXMuY2FsY3VsYXRlU2VyaWVzUGF0aHNDb29yZGluYXRlcyh0aGlzLmNvbnRhaW5lclNpemUsZSx0aGlzLnJhbmdlKSk6dGhpcy5fc2VyaWVzPVtdfWdldCBzZXJpZXMoKXtyZXR1cm4gdGhpcy5fc2VyaWVzfW9uU2VyaWVCYXJDbGljayh0KXt0aGlzLmJhckNsaWNrLmVtaXQodCl9b25TZXJpZUJhckhvdmVyKHQpe3RoaXMuYmFySG92ZXIuZW1pdCh0KX10cmFja0J5KHQpe3JldHVybiB0fWNhbGN1bGF0ZVNlcmllc1BhdGhzQ29vcmRpbmF0ZXModCxlLG4pe3RoaXMuc2VyaWVzUGF0aHNDb29yZGluYXRlcz1lLm1hcCgoZSxyKT0+e2lmKEFycmF5LmlzQXJyYXkoZS5kYXRhKSl7bGV0IHM9W107cmV0dXJuIGUuZGF0YS5mb3JFYWNoKChpLG8pPT57aWYodGhpcy5tYXRoc1NlcnZpY2UudmVyaWZ5SWZGbG9hdE9ySW50ZWdlcihpKSl7Y29uc3QgYT10aGlzLmJhckNvb3JkaW5hdGVzKHIsbyx0LG4saSksYz10aGlzLnNlcmllQ2F0ZWdvcnkobyx0aGlzLmNhdGVnb3JpZXMpLGw9ZS5sYWJlbCx1PWUuY29sb3IsaD10aGlzLmdldFRvb2x0aXBMYWJlbChpLGwsZS50b29sdGlwKTtzPVsuLi5zLHtjYXRlZ29yeTpjLGNvbG9yOnUsbGFiZWw6bCx0b29sdGlwTGFiZWw6aCxkYXRhOmksY29vcmRpbmF0ZXM6YX1dfX0pLHN9fSl9Z2V0VG9vbHRpcExhYmVsKHQsZSxuKXtjb25zdCByPWU/YCR7ZX06IGA6IiIscz10LnRvU3RyaW5nKCk7cmV0dXJuIG58fGAke3J9JHtzfWB9c2VyaWVDYXRlZ29yeSh0LGU9W10pe3ZhciBuO3JldHVybiBudWxsIT09KG49ZVt0XSkmJnZvaWQgMCE9PW4/bjp2b2lkIDB9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGdvKE1iKSl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsaW5wdXRzOntyYW5nZTpbInAtcmFuZ2UiLCJyYW5nZSJdLGNvbnRhaW5lclNpemU6WyJwLWNvbnRhaW5lci1zaXplIiwiY29udGFpbmVyU2l6ZSJdLHNlcmllczpbInAtc2VyaWVzIiwic2VyaWVzIl0sY2F0ZWdvcmllczpbInAtY2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiXX0sb3V0cHV0czp7YmFyQ2xpY2s6InAtYmFyLWNsaWNrIixiYXJIb3ZlcjoicC1iYXItaG92ZXIifX0pLHR9KSgpLFdiPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBVYntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLm1hdGhzU2VydmljZT10LHRoaXMudG9vbHRpcFBvc2l0aW9uPSJyaWdodCJ9YmFyQ29vcmRpbmF0ZXModCxlLG4scixzKXtjb25zdHtzdmdQbG90dGluZ0FyZWFXaWR0aDppLGJhckhlaWdodDpvLHNwYWNlQmV0d2VlbkJhcnM6YX09dGhpcy5jYWxjdWxhdGVFbGVtZW50c01lYXN1cmVtZW50cyhuKSx7eDE6Yyx4MjpsfT10aGlzLnhDb29yZGluYXRlcyhyLGksbi5heGlzWExhYmVsV2lkdGgsbi5zdmdXaWR0aCxzKSx7eTE6dSx5MjpofT10aGlzLnlDb29yZGluYXRlcyh0LGUsbi5zdmdQbG90dGluZ0FyZWFIZWlnaHQsbyxhKTtyZXR1cm5bIk0iLGMsaCwiTCIsbCxoLCJMIixsLHUsIkwiLGMsdSwieiJdLmpvaW4oIiAiKX1jYWxjdWxhdGVFbGVtZW50c01lYXN1cmVtZW50cyh0KXtjb25zdHtzdmdXaWR0aDplLHN2Z1Bsb3R0aW5nQXJlYUhlaWdodDpuLGF4aXNYTGFiZWxXaWR0aDpyfT10LHM9bi90aGlzLnNlcmllc0dyZWF0ZXJMZW5ndGgvKHRoaXMuc2VyaWVzLmxlbmd0aCsyKSxpPXRoaXMuc2VyaWVzLmxlbmd0aD4xP3MvKHRoaXMuc2VyaWVzLmxlbmd0aCsyKTowO3JldHVybntzdmdQbG90dGluZ0FyZWFXaWR0aDplLXIsYmFySGVpZ2h0OnMtaSoodGhpcy5zZXJpZXMubGVuZ3RoLTEpLyh0aGlzLnNlcmllcy5sZW5ndGgrMiksc3BhY2VCZXR3ZWVuQmFyczppfX14Q29vcmRpbmF0ZXModCxlLG4scixzKXtjb25zdHttaW5WYWx1ZTppfT10LG89bisoci1uKSp0aGlzLm1hdGhzU2VydmljZS5nZXRTZXJpZVBlcmNlbnRhZ2UodCxpPDA/MDppKSxhPXRoaXMubWF0aHNTZXJ2aWNlLmdldFNlcmllUGVyY2VudGFnZSh0LHMpO3JldHVybnt4MTpvLHgyOk1hdGgucm91bmQoZSphK24pfX15Q29vcmRpbmF0ZXModCxlLG4scixzKXtjb25zdCBpPU1hdGgucm91bmQoOCtuKihlL3RoaXMuc2VyaWVzR3JlYXRlckxlbmd0aCkrcityKnQrcyp0KTtyZXR1cm57eTE6aSx5MjpNYXRoLnJvdW5kKGkrcil9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyhNYikpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyIiLCJwby1jaGFydC1iYXIiLCIiXV0sZmVhdHVyZXM6W0ppXSxhdHRyczpQeSxkZWNsczoyLHZhcnM6Mixjb25zdHM6W1szLCJjbGFzcyIsNCwibmdGb3IiLCJuZ0Zvck9mIiwibmdGb3JUcmFja0J5Il0sWyJwby1jaGFydC1iYXItcGF0aCIsIiIsMywicC1jb2xvciIsInAtY29vcmRpbmF0ZXMiLCJwLXRvb2x0aXAtcG9zaXRpb24iLCJwLWJhci1jbGljayIsInAtYmFyLWhvdmVyIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYob24oKSx2bygwLCJnIikscG8oMSxSeSwyLDYsImciLDApLGJvKCkpLDImdCYmKHpzKDEpLG1vKCJuZ0Zvck9mIixlLnNlcmllc1BhdGhzQ29vcmRpbmF0ZXMpKCJuZ0ZvclRyYWNrQnkiLGUudHJhY2tCeSkpfSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW2VoLGRDXX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksR2I9KCgpPT57Y2xhc3MgdCBleHRlbmRzIFVie2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMubWF0aHNTZXJ2aWNlPXQsdGhpcy50b29sdGlwUG9zaXRpb249InRvcCJ9YmFyQ29vcmRpbmF0ZXModCxlLG4scixzKXtjb25zdHtzdmdXaWR0aDppLGF4aXNYTGFiZWxXaWR0aDpvLHN2Z1Bsb3R0aW5nQXJlYUhlaWdodDphfT1uLHtjaGFydEJhclBsb3RBcmVhOmMsYmFyV2lkdGg6bCxzcGFjZUJldHdlZW5CYXJzOnV9PXRoaXMuY2FsY3VsYXRlRWxlbWVudHNNZWFzdXJlbWVudHMoaSxvKSx7eDE6aCx4MjpkfT10aGlzLnhDb29yZGluYXRlcyh0LGUsYyxsLHUsbykse3kxOnAseTI6Zn09dGhpcy55Q29vcmRpbmF0ZXMocixhLHMpO3JldHVyblsiTSIsaCxmLCJMIixkLGYsIkwiLGQscCwiTCIsaCxwLCJ6Il0uam9pbigiICIpfWNhbGN1bGF0ZUVsZW1lbnRzTWVhc3VyZW1lbnRzKHQsZSl7Y29uc3Qgbj10LWUscj1uL3RoaXMuc2VyaWVzR3JlYXRlckxlbmd0aC8odGhpcy5zZXJpZXMubGVuZ3RoKzIpLHM9dGhpcy5zZXJpZXMubGVuZ3RoPjE/ci8odGhpcy5zZXJpZXMubGVuZ3RoKzIpOjA7cmV0dXJue2NoYXJ0QmFyUGxvdEFyZWE6bixiYXJXaWR0aDpyLXMqKHRoaXMuc2VyaWVzLmxlbmd0aC0xKS8odGhpcy5zZXJpZXMubGVuZ3RoKzIpLHNwYWNlQmV0d2VlbkJhcnM6c319eENvb3JkaW5hdGVzKHQsZSxuLHIscyxpKXtjb25zdCBvPU1hdGgucm91bmQoaStuKihlL3RoaXMuc2VyaWVzR3JlYXRlckxlbmd0aCkrcityKnQrcyp0KTtyZXR1cm57eDE6byx4MjpNYXRoLnJvdW5kKG8rcil9fXlDb29yZGluYXRlcyh0LGUsbil7Y29uc3R7bWluVmFsdWU6cn09dCxzPXRoaXMubWF0aHNTZXJ2aWNlLmdldFNlcmllUGVyY2VudGFnZSh0LHI8MD8wOnIpLGk9TWF0aC5yb3VuZChlLWUqcys4KSxvPXRoaXMubWF0aHNTZXJ2aWNlLmdldFNlcmllUGVyY2VudGFnZSh0LG4pO3JldHVybnt5MTppLHkyOk1hdGgucm91bmQoZS1lKm8rOCl9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyhNYikpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyIiLCJwby1jaGFydC1jb2x1bW4iLCIiXV0sZmVhdHVyZXM6W0ppXSxhdHRyczpMeSxkZWNsczoyLHZhcnM6Mixjb25zdHM6W1szLCJjbGFzcyIsNCwibmdGb3IiLCJuZ0Zvck9mIiwibmdGb3JUcmFja0J5Il0sWyJwby1jaGFydC1iYXItcGF0aCIsIiIsMywicC1jb2xvciIsInAtY29vcmRpbmF0ZXMiLCJwLXRvb2x0aXAtcG9zaXRpb24iLCJwLWJhci1jbGljayIsInAtYmFyLWhvdmVyIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYob24oKSx2bygwLCJnIikscG8oMSxCeSwyLDYsImciLDApLGJvKCkpLDImdCYmKHpzKDEpLG1vKCJuZ0Zvck9mIixlLnNlcmllc1BhdGhzQ29vcmRpbmF0ZXMpKCJuZ0ZvclRyYWNrQnkiLGUudHJhY2tCeSkpfSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW2VoLGRDXX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCk7Y29uc3QgcWI9W1siIzI5QjZDNSJdLFsiIzBDNkM5NCIsIiMyOUI2QzUiXSxbIiMwQzZDOTQiLCIjMjlCNkM1IiwiI0M5RUNGMCJdLFsiIzBDNkM5NCIsIiMwQjkyQjQiLCIjMjlCNkM1IiwiIzk0REFFMiJdLFsiIzBDNkM5NCIsIiMwQjkyQjQiLCIjMjlCNkM1IiwiIzk0REFFMiIsIiNDOUVDRjAiXSxbIiMwQzZDOTQiLCIjMDBBNUM1IiwiIzAwODJBOCIsIiMzMTYyOEQiLCIjMzY0NDczIiwiIzMyMjg1QyJdLFsiIzBDNkM5NCIsIiMwMEFBQ0IiLCIjMDE4REFFIiwiIzI3NzA5OSIsIiMzMjU3ODMiLCIjMzU0MjZFIiwiIzMyMjg1RCJdLFsiIzBDNkM5NCIsIiMwMEFGQ0UiLCIjMDE5NEI2IiwiIzExN0ZBMiIsIiMwMDg4QUMiLCIjMjM3ODlGIiwiIzJCNjk5MiIsIiMzMjI4NUMiXSxbIiMwQzZDOTQiLCIjMDBCQUQ1IiwiIzAwQTdDNyIsIiMwMTk3QjgiLCIjMDA4OEFDIiwiIzIzNzg5RiIsIiMyQjY5OTIiLCIjMzE1Qzg3IiwiIzMyMjg1QyJdLFsiIzBDNkM5NCIsIiMwMEJBRDUiLCIjMDBBN0M3IiwiIzAxOTdCOCIsIiMwMDg4QUMiLCIjMjM3ODlGIiwiIzJCNjk5MiIsIiMzMTVDODciLCIjMzY0RTdDIiwiIzMyMjg1QyJdLFsiIzBDNkM5NCIsIiMwMEJBRDUiLCIjMDBBN0M3IiwiIzAxOTdCOCIsIiMwMDg4QUMiLCIjMjM3ODlGIiwiIzJCNjk5MiIsIiMzMTVDODciLCIjMzY0RTdDIiwiIzM2NDM2RiIsIiMzMjI4NUMiXSxbIiMwQzZDOTQiLCIjMDBCQUQ1IiwiIzAwQTdDNyIsIiMwMTk3QjgiLCIjMDA4OEFDIiwiIzIzNzg5RiIsIiMyQjY5OTIiLCIjMzE1Qzg3IiwiIzM2NEU3QyIsIiMzNjQzNkYiLCIjMzMzNTY1IiwiIzMyMjg1QyJdXSxYYj1bIiM5NERBRTIiLCIjQzlFQ0YwIl07dmFyIFliPWZ1bmN0aW9uKHQpe3JldHVybiB0LkNvbG9yMDE9ImNvbG9yLTAxIix0LkNvbG9yMDI9ImNvbG9yLTAyIix0LkNvbG9yMDM9ImNvbG9yLTAzIix0LkNvbG9yMDQ9ImNvbG9yLTA0Iix0LkNvbG9yMDU9ImNvbG9yLTA1Iix0LkNvbG9yMDY9ImNvbG9yLTA2Iix0LkNvbG9yMDc9ImNvbG9yLTA3Iix0LkNvbG9yMDg9ImNvbG9yLTA4Iix0LkNvbG9yMDk9ImNvbG9yLTA5Iix0LkNvbG9yMTA9ImNvbG9yLTEwIix0LkNvbG9yMTE9ImNvbG9yLTExIix0LkNvbG9yMTI9ImNvbG9yLTEyIix0fSh7fSk7Y29uc3QgWmI9T2JqZWN0LnZhbHVlcyhZYik7bGV0IFFiPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmRlZmF1bHRDb2xvcnM9W119Z2V0Q29sb3JzKHQpe3JldHVybiB0aGlzLnZlcmlmeUlmSGFzQ29sb3JQcm9wZXJ0eSh0KSx0Lm1hcCgodCxlKT0+e2lmKHQuY29sb3IpcmV0dXJuIHQuY29sb3I9dGhpcy52ZXJpZnlJZklzUG9Db2xvclBhbGV0dGUodC5jb2xvciksdDtjb25zdCBuPXRoaXMuZGVmYXVsdENvbG9yc1tlXTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHtjb2xvcjpufSl9KX12ZXJpZnlJZkhhc0NvbG9yUHJvcGVydHkodCl7dC5ldmVyeSh0PT57dmFyIGU7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoImNvbG9yIikmJihudWxsPT09KGU9dC5jb2xvcil8fHZvaWQgMD09PWU/dm9pZCAwOmUubGVuZ3RoKT4wfSl8fCh0aGlzLmRlZmF1bHRDb2xvcnM9dGhpcy5nZXREZWZhdWx0Q29sb3JzKHQubGVuZ3RoKSl9dmVyaWZ5SWZJc1BvQ29sb3JQYWxldHRlKHQpe3JldHVybiBaYi5pbmNsdWRlcyh0KT9gcG8tJHt0fWA6dH1nZXREZWZhdWx0Q29sb3JzKHQpe2lmKDE9PT10KXJldHVybiBxYlswXTtjb25zdCBlPXFiLmxlbmd0aDtpZih0PmUpe2NvbnN0IG49dC9lO2xldCByPXFiW2UtMV07Zm9yKGxldCB0PTA7dDw9bjt0Kyspcj1yLmNvbmNhdChxYltlXSk7cmV0dXJuIHJ9cmV0dXJuIHFiW3QtMV19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHR9LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKSxLYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuY29sb3JTZXJ2aWNlPXQsdGhpcy5zZXJpZXNDbGljaz1uZXcgQWMsdGhpcy5zZXJpZXNIb3Zlcj1uZXcgQWMsdGhpcy5jaGFydFNlcmllcz1bXX1zZXQgaGVpZ2h0KHQpe2NvbnN0IGU9ZnVuY3Rpb24odCxlKXtjb25zdCBuPXBhcnNlSW50KHQsMTApLHI9cGFyc2VJbnQodm9pZCAwLDEwKTtyZXR1cm4gbnx8MD09PW4/bjpyfHwwPT09cj9yOnZvaWQgMH0odCk7bGV0IG47bj1Kdih0LCJudW1iZXIiKT9lPD0yMDA/MjAwOmU6dGhpcy5zZXREZWZhdWx0SGVpZ2h0KCksdGhpcy5faGVpZ2h0PW4sdGhpcy5nZXRTdmdDb250YWluZXJTaXplKCksdGhpcy5yZWJ1aWxkQ29tcG9uZW50UmVmKCl9Z2V0IGhlaWdodCgpe3JldHVybiB0aGlzLl9oZWlnaHR8fHRoaXMuc2V0RGVmYXVsdEhlaWdodCgpfXNldCB0eXBlKHQpe3RoaXMuX3R5cGU9T2JqZWN0LnZhbHVlcyhSYikuaW5jbHVkZXModCk/dDp2b2lkIDAsdGhpcy5yZWJ1aWxkQ29tcG9uZW50UmVmKCl9Z2V0IHR5cGUoKXtyZXR1cm4gdGhpcy5fdHlwZX1zZXQgc2VyaWVzKHQpe3RoaXMuX3Nlcmllcz10fHxbXSxBcnJheS5pc0FycmF5KHRoaXMuX3NlcmllcykmJnRoaXMuX3Nlcmllcy5sZW5ndGg/dGhpcy5zZXRUeXBlRGVmYXVsdCh0aGlzLl9zZXJpZXNbMF0pOih0aGlzLnRyYW5zZm9ybU9iamVjdFRvQXJyYXlPYmplY3QodGhpcy5zZXJpZXMpLHRoaXMucmVidWlsZENvbXBvbmVudFJlZigpKX1nZXQgc2VyaWVzKCl7cmV0dXJuIHRoaXMuX3Nlcmllc31zZXQgY2F0ZWdvcmllcyh0KXtBcnJheS5pc0FycmF5KHQpJiYodGhpcy5fY2F0ZWdvcmllcz10KX1nZXQgY2F0ZWdvcmllcygpe3JldHVybiB0aGlzLl9jYXRlZ29yaWVzfXNldCBvcHRpb25zKHQpe3QgaW5zdGFuY2VvZiBPYmplY3QmJiEodCBpbnN0YW5jZW9mIEFycmF5KSYmKHRoaXMuX29wdGlvbnM9dCx0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KCJsZWdlbmQiKSYmImJvb2xlYW4iPT10eXBlb2YgdGhpcy5fb3B0aW9ucy5sZWdlbmQmJnRoaXMuZ2V0U3ZnQ29udGFpbmVyU2l6ZSgpKX1nZXQgb3B0aW9ucygpe3JldHVybiB0aGlzLl9vcHRpb25zfWdldCBpc1R5cGVDaXJjdWxhcigpe3JldHVybiB0aGlzLmRlZmF1bHRUeXBlPT09UmIuUGllfHx0aGlzLmRlZmF1bHRUeXBlPT09UmIuRG9udXR9bmdPbkNoYW5nZXModCl7Y29uc3QgZT1BcnJheS5pc0FycmF5KHRoaXMuc2VyaWVzKSYmdGhpcy5zZXJpZXMubGVuZ3RoPjA7KHQuc2VyaWVzJiZlfHx0LnR5cGUmJmV8fHQuY2F0ZWdvcmllcyYmZSkmJnRoaXMudmFsaWRhdGVTZXJpZUFuZEFkZFR5cGUodGhpcy5zZXJpZXMpLCh0LnR5cGUmJiF0aGlzLmlzVHlwZUNpcmN1bGFyfHx0LmNhdGVnb3JpZXMmJiF0aGlzLmlzVHlwZUNpcmN1bGFyKSYmKHRoaXMuc3ZnQ29udGFpbmVyU2l6ZT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5zdmdDb250YWluZXJTaXplKSx7YXhpc1hMYWJlbFdpZHRoOnRoaXMuY2FsY3VsYXRlQXhpc1hMYWJlbEFyZWEoKX0pKX1vblNlcmllc0NsaWNrKHQpe3RoaXMuc2VyaWVzQ2xpY2suZW1pdCh0KX1vblNlcmllc0hvdmVyKHQpe3RoaXMuc2VyaWVzSG92ZXIuZW1pdCh0KX1zZXREZWZhdWx0SGVpZ2h0KCl7cmV0dXJuIHRoaXMudHlwZT09PVJiLkdhdWdlPzIwMDo0MDB9dHJhbnNmb3JtT2JqZWN0VG9BcnJheU9iamVjdCh0KXt0aGlzLmNoYXJ0U2VyaWVzPSJvYmplY3QiPT10eXBlb2YgdCYmT2JqZWN0LmtleXModCkubGVuZ3RoP1tPYmplY3QuYXNzaWduKHt9LHQpXTpbXX1zZXRUeXBlRGVmYXVsdCh0KXt2YXIgZTtjb25zdCBuPW51bGwhPT0oZT10LmRhdGEpJiZ2b2lkIDAhPT1lP2U6dC52YWx1ZSxyPU9iamVjdC52YWx1ZXMoUmIpLmluY2x1ZGVzKHQudHlwZSk/dC50eXBlOnZvaWQgMDt0aGlzLmRlZmF1bHRUeXBlPXJ8fChBcnJheS5pc0FycmF5KG4pP1JiLkNvbHVtbjpSYi5QaWUpfXZhbGlkYXRlU2VyaWVBbmRBZGRUeXBlKHQpe2NvbnN0IGU9dC5maWx0ZXIodD0+dGhpcy5pc1R5cGVDaXJjdWxhcj8ibnVtYmVyIj09dHlwZW9mIHQuZGF0YXx8Im51bWJlciI9PXR5cGVvZiB0LnZhbHVlOkFycmF5LmlzQXJyYXkodC5kYXRhKSk7dGhpcy5jaGFydFNlcmllcz10aGlzLmFwcGVuZFR5cGUodGhpcy5hcHBlbmRDb2xvcnMoZSkpfWFwcGVuZENvbG9ycyh0KXtyZXR1cm4gdGhpcy5jb2xvclNlcnZpY2UuZ2V0Q29sb3JzKHQpfWFwcGVuZFR5cGUodCl7cmV0dXJuIHQubWFwKCh0LGUpPT4oMD09PWUmJih0aGlzLmNoYXJ0VHlwZT1PYmplY3QudmFsdWVzKFJiKS5pbmNsdWRlcyh0LnR5cGUpP3QudHlwZTp0aGlzLnR5cGV8fHRoaXMuZGVmYXVsdFR5cGUpLE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7dHlwZTp0LnR5cGV8fHRoaXMuY2hhcnRUeXBlfSkpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoZ28oUWIpKX0sdC5cdTAyNzVkaXI9WHQoe3R5cGU6dCxpbnB1dHM6e2hlaWdodDpbInAtaGVpZ2h0IiwiaGVpZ2h0Il0sdHlwZTpbInAtdHlwZSIsInR5cGUiXSxzZXJpZXM6WyJwLXNlcmllcyIsInNlcmllcyJdLGNhdGVnb3JpZXM6WyJwLWNhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIl0sb3B0aW9uczpbInAtb3B0aW9ucyIsIm9wdGlvbnMiXSx0aXRsZTpbInAtdGl0bGUiLCJ0aXRsZSJdfSxvdXRwdXRzOntzZXJpZXNDbGljazoicC1zZXJpZXMtY2xpY2siLHNlcmllc0hvdmVyOiJwLXNlcmllcy1ob3ZlciJ9LGZlYXR1cmVzOltjZV19KSx0fSkoKSxKYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7fWNhbGN1bGF0ZVNWR0NvbnRhaW5lck1lYXN1cmVtZW50cyh0PTAsZT0wLG49MCxyPTApe2NvbnN0IHM9dGhpcy5zdmdXaWR0aChlKSxpPXRoaXMuY2VudGVyKGUpLG89dGhpcy5zdmdIZWlnaHQodCxuLHIpO3JldHVybntzdmdXaWR0aDpzLHN2Z0hlaWdodDpvLGNlbnRlclg6aSxjZW50ZXJZOnRoaXMuY2VudGVyKG8pLHN2Z1Bsb3R0aW5nQXJlYUhlaWdodDp0aGlzLnN2Z1Bsb3R0aW5nQXJlYUhlaWdodChvKX19c3ZnV2lkdGgodCl7Y29uc3QgZT10LTQ4O3JldHVybiBlPjA/ZTowfWNlbnRlcih0KXtyZXR1cm4gdC8yfXN2Z0hlaWdodCh0LGUsbil7Y29uc3Qgcj10LWUtbi00ODtyZXR1cm4gcjw9MD8wOnJ9c3ZnUGxvdHRpbmdBcmVhSGVpZ2h0KHQpe3JldHVybiB0LTI0LTh9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHR9LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKTtjb25zdCB0Qz0yKk1hdGguUEkvTWF0aC5mbG9vcigyNSksZUM9LU1hdGguUEksbkM9LU1hdGguUEkvMixyQz0uMDY7bGV0IHNDPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmlubmVyUmFkaXVzPTAsdGhpcy5vblNlcmllQ2xpY2s9bmV3IEQsdGhpcy5vblNlcmllSG92ZXI9bmV3IEQsdGhpcy5fc2VyaWVzPVtdfWdldCBpc0NoYXJ0R2F1Z2VUeXBlKCl7cmV0dXJuIHRoaXMudHlwZT09PVJiLkdhdWdlfWNhbGN1bGF0ZVNWR0NvbnRhaW5lckRpbWVuc2lvbnModCxlLG4pe2NvbnN0IHI9dGhpcy5oZWlnaHQtZS1uLTQ4O3RoaXMuc3ZnSGVpZ2h0PXI8PTA/MDpyLHRoaXMuY2VudGVyWD10LzJ9Y2FsY3VsYXRlVG90YWxWYWx1ZSgpe3RoaXMudG90YWxWYWx1ZT10aGlzLnR5cGU9PT1SYi5HYXVnZT8xMDA6dGhpcy5zZXJpZXMucmVkdWNlKCh0LGUpPT50KyhlLmRhdGE/ZS5kYXRhOmUudmFsdWUpLDApfXNldCBzZXJpZXModCl7dGhpcy5fc2VyaWVzPXRoaXMuZ2V0U2VyaWVzV2l0aFZhbHVlKHQpfWdldCBzZXJpZXMoKXtyZXR1cm4gdGhpcy5fc2VyaWVzfWdldFNlcmllc1dpdGhWYWx1ZSh0KXtyZXR1cm4gdH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiYoSGMoanksNyksSGMoTXksNykpLDImdCl7bGV0IHQ7TmModD1WYygpKSYmKGUuY2hhcnRCb2R5PXQuZmlyc3QpLE5jKHQ9VmMoKSkmJihlLnN2Z0NvbnRhaW5lcj10LmZpcnN0KX19fSksdH0pKCksaUM9KCgpPT57Y2xhc3MgdCBleHRlbmRzIHNDe2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcigpLHRoaXMuZWw9dCx0aGlzLm5nWm9uZT1lLHRoaXMucmVuZGVyZXI9bix0aGlzLmNoYXJ0SXRlbVN0YXJ0QW5nbGU9bkMsdGhpcy53aW5kb3dSZXNpemVFbWl0dGVyPW5ldyBELHRoaXMuY2hhcnRJdGVtc0VuZEFuZ2xlTGlzdD1bXSx0aGlzLnN2Z1BhdGhFbGVtZW50c0xpc3Q9W10sdGhpcy5zdmdUZXh0RWxlbWVudHNMaXN0PVtdfW5nT25EZXN0cm95KCl7dGhpcy5yZW1vdmVXaW5kb3dSZXNpemVMaXN0ZW5lcigpLHRoaXMucmVtb3ZlV2luZG93U2Nyb2xsTGlzdGVuZXIoKSx0aGlzLmFuaW1hdGlvblJ1bm5pbmc9ITF9bmdPbkluaXQoKXt0aGlzLmNoYXJ0SW5pdFNldHVwKCksdGhpcy5zZXRFdmVudExpc3RlbmVycygpfXJlbW92ZVRvb2x0aXAoKXt0aGlzLnRvb2x0aXBFbGVtZW50JiZ0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMudG9vbHRpcEVsZW1lbnQsInBvLWludmlzaWJsZSIpfWRyYXdQYXRoKHQsZSxuKXtjb25zdCByPU1hdGguc2luKGUpLHM9TWF0aC5jb3MoZSksaT1NYXRoLnNpbihuKSxvPU1hdGguY29zKG4pLGE9dGhpcy5jZW50ZXJYK3MqdGhpcy5jZW50ZXJYLGM9dGhpcy5jZW50ZXJYK3IqdGhpcy5jZW50ZXJYLGw9WyJNIixhLGMsIkEiLHRoaXMuY2VudGVyWCx0aGlzLmNlbnRlclgsMCwiMCwxIix0aGlzLmNlbnRlclgrbyp0aGlzLmNlbnRlclgsdGhpcy5jZW50ZXJYK2kqdGhpcy5jZW50ZXJYLCJBIiwxLDEsMCwiMCwxIix0aGlzLmNlbnRlclgrbyp0aGlzLmlubmVyUmFkaXVzLHRoaXMuY2VudGVyWCtpKnRoaXMuaW5uZXJSYWRpdXMsIkEiLHRoaXMuaW5uZXJSYWRpdXMsdGhpcy5pbm5lclJhZGl1cywwLCIwLDAiLHRoaXMuY2VudGVyWCtzKnRoaXMuaW5uZXJSYWRpdXMsdGhpcy5jZW50ZXJYK3IqdGhpcy5pbm5lclJhZGl1cywiQSIsMSwxLDAsIjAsMSIsYSxjLCJaIl0uam9pbigiICIpO3JldHVybiB0LnNldEF0dHJpYnV0ZSgiZCIsbCl9Z2V0U2VyaWVzV2l0aFZhbHVlKHQpe2NvbnN0IGU9W107cmV0dXJuIHQuZm9yRWFjaCgodCxuKT0+e3ZhciByOyhudWxsIT09KHI9dC5kYXRhKSYmdm9pZCAwIT09cj9yOnQudmFsdWUpPjAmJmUucHVzaChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse2NvbG9yOnRoaXMuY29sb3JzW25dfSkpfSksZX1hbmltYXRpb25TZXR1cCgpe3RoaXMuY2hhcnRJdGVtRW5kQW5nbGU9dGhpcy5jaGFydEl0ZW1zRW5kQW5nbGVMaXN0WzBdLHRoaXMuYW5pbWF0aW9uUnVubmluZz0hMCx0aGlzLmRyYXdQYXRoSW5pdCgpfWFwcGVuZEdhdWdlQmFja2dyb3VuZFBhdGhFbGVtZW50KHQpe2NvbnN0IGU9dGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KCJzdmc6cGF0aCIsInN2ZyIpO3RoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKGUsImNsYXNzIiwicG8tY2hhcnQtZ2F1Z2UtYmFzZS1wYXRoIiksdC5hcHBlbmRDaGlsZChlKSx0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMuc3ZnRWxlbWVudCx0KX1jYWxjdWxhdGVBbmdsZVJhZGlhbnMoKXt0aGlzLnNlcmllcy5mb3JFYWNoKCh0LGUpPT57dmFyIG47Y29uc3Qgcj1udWxsIT09KG49dC5kYXRhKSYmdm9pZCAwIT09bj9uOnQudmFsdWU7dGhpcy5jaGFydEl0ZW1zRW5kQW5nbGVMaXN0W2VdPXRoaXMuY2FsY3VsYXRlRW5kQW5nbGUocix0aGlzLnRvdGFsVmFsdWUpfSl9Y2FsY3VsYXRlQ3VycmVudEVuZEFuZ2xlKHQpe3JldHVybiB0aGlzLmNoYXJ0SXRlbVN0YXJ0QW5nbGUrdD50aGlzLmNoYXJ0SXRlbVN0YXJ0QW5nbGUrdGhpcy5jaGFydEl0ZW1FbmRBbmdsZT90aGlzLmNoYXJ0SXRlbVN0YXJ0QW5nbGUrdGhpcy5jaGFydEl0ZW1FbmRBbmdsZS0xZS00OnRoaXMuY2hhcnRJdGVtU3RhcnRBbmdsZSt0fWNhbGN1bGF0ZUVuZEFuZ2xlKHQsZSl7Y29uc3Qgbj10L2UqKDIqTWF0aC5QSSk7cmV0dXJuIHRoaXMuaXNDaGFydEdhdWdlVHlwZT9uLzI6bn1jYWxjdWxhdGVTVkdEaW1lbnNpb25zKCl7dGhpcy5jYWxjdWxhdGVTVkdDb250YWluZXJEaW1lbnNpb25zKHRoaXMuY2hhcnRXcmFwcGVyLHRoaXMuY2hhcnRIZWFkZXIsdGhpcy5jaGFydExlZ2VuZCksdGhpcy5pbm5lclJhZGl1cz10aGlzLnNldElubmVyUmFkaXVzKHRoaXMudHlwZSl9Y2hhbmdlVG9vbHRpcFBvc2l0aW9uKHQpe3RoaXMudG9vbHRpcEVsZW1lbnQmJnRoaXMudG9vbHRpcEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJwby1pbnZpc2libGUiKSYmdGhpcy5zaG93VG9vbHRpcCgpO2NvbnN0IGU9dGhpcy5zZXRUb29sdGlwUG9zaXRpb25zKHQpO3RoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy50b29sdGlwRWxlbWVudCwibGVmdCIsYCR7ZS5sZWZ0fXB4YCksdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLnRvb2x0aXBFbGVtZW50LCJ0b3AiLGAke2UudG9wfXB4YCl9Y2hhcnRJbml0U2V0dXAoKXt0aGlzLmNhbGN1bGF0ZVNWR0RpbWVuc2lvbnMoKSx0aGlzLmNhbGN1bGF0ZVRvdGFsVmFsdWUoKSx0aGlzLmNhbGN1bGF0ZUFuZ2xlUmFkaWFucygpLHRoaXMuY3JlYXRlU1ZHRWxlbWVudHMoKSx0aGlzLmFuaW1hdGlvblNldHVwKCl9Y2hlY2tpbmdJZlNjcm9sbHNXaXRoUG9QYWdlKCl7Y29uc3QgdD1kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJwby1wYWdlLWNvbnRlbnQiKTtyZXR1cm4gdC5sZW5ndGg/dFswXTp3aW5kb3d9Y3JlYXRlUGF0aCh0LGUpe2NvbnN0IG49dGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KCJzdmc6cGF0aCIsInN2ZyIpO3RoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKG4sImNsYXNzIiwicG8tcGF0aC1pdGVtIiksdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUobiwiZmlsbCIsdC5jb2xvciksdGhpcy5zZXRFbGVtZW50QXR0cmlidXRlcyhuLHQpLGUuYXBwZW5kQ2hpbGQobiksdGhpcy5yZW5kZXJlci5hcHBlbmRDaGlsZCh0aGlzLnN2Z0VsZW1lbnQsZSksdGhpcy5zdmdQYXRoRWxlbWVudHNMaXN0LnB1c2gobil9Y3JlYXRlUGF0aHMoKXtjb25zdCB0PXRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudCgic3ZnOmciLCJzdmciKTt0aGlzLmlzQ2hhcnRHYXVnZVR5cGUmJih0aGlzLmFwcGVuZEdhdWdlQmFja2dyb3VuZFBhdGhFbGVtZW50KHQpLHRoaXMuaXNTZXJpZVZhbHVlRXF1YWxaZXJvKCkpfHx0aGlzLnNlcmllcy5mb3JFYWNoKGU9PnRoaXMuY3JlYXRlUGF0aChlLHQpKX1jcmVhdGVUZXh0KHQpe2NvbnN0IGU9dC52YWx1ZSxuPXRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudCgic3ZnOmciLCJzdmciKSxyPXRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudCgic3ZnOnRleHQiLCJzdmciKSxzPXRoaXMuZ2V0Rm9udFNpemUoKSxpPXRoaXMuZ2V0VGV4dENvbG9yKHQuY29sb3IpO3IudGV4dENvbnRlbnQ9dGhpcy5nZXRQZXJjZW50VmFsdWUoZSx0aGlzLnRvdGFsVmFsdWUpKyIlIix0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZShyLCJjbGFzcyIsInBvLXBhdGgtaXRlbSIpLHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHIsImZpbGwiLGkpLHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHIsImZvbnQtc2l6ZSIscyksdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUociwiZmlsbC1vcGFjaXR5IiwiMCIpLHRoaXMuc2V0RWxlbWVudEF0dHJpYnV0ZXMocix0KSx0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKG4sciksdGhpcy5yZW5kZXJlci5hcHBlbmRDaGlsZCh0aGlzLnN2Z0VsZW1lbnQsbiksdGhpcy5zdmdUZXh0RWxlbWVudHNMaXN0LnB1c2gocil9Y3JlYXRlVGV4dHMoKXt0aGlzLnR5cGU9PT1SYi5Eb251dCYmdGhpcy5zZXJpZXMuZm9yRWFjaCh0PT50aGlzLmNyZWF0ZVRleHQodCkpfWNyZWF0ZVNWR0VsZW1lbnRzKCl7Y29uc3QgdD10aGlzLmlzQ2hhcnRHYXVnZVR5cGU/dGhpcy5jZW50ZXJYK3RoaXMuY2VudGVyWCpyQzp0aGlzLmNoYXJ0V3JhcHBlcixlPXRoaXMuaXNDaGFydEdhdWdlVHlwZT8ieE1pZFlNYXgiOiJ4TWlkWU1pbiI7dGhpcy5zdmdFbGVtZW50PXRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudCgic3ZnOnN2ZyIsInN2ZyIpLHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHRoaXMuc3ZnRWxlbWVudCwidmlld0JveCIsYDAgMCAke3RoaXMuY2hhcnRXcmFwcGVyfSAke3R9YCksdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodGhpcy5zdmdFbGVtZW50LCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIixgJHtlfSBtZWV0YCksdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodGhpcy5zdmdFbGVtZW50LCJjbGFzcyIsInBvLWNoYXJ0LXN2Zy1lbGVtZW50IiksdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodGhpcy5zdmdFbGVtZW50LCJ3aWR0aCIsYCR7dGhpcy5jZW50ZXJYfWApLHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHRoaXMuc3ZnRWxlbWVudCwiaGVpZ2h0IixgJHt0aGlzLnN2Z0hlaWdodH1gKSx0aGlzLnN2Z0NvbnRhaW5lci5uYXRpdmVFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuc3ZnRWxlbWVudCksdGhpcy5jcmVhdGVQYXRocygpLHRoaXMuY3JlYXRlVGV4dHMoKX1kcmF3UGF0aEluaXQoKXt0aGlzLmFuaW1hdGlvblJ1bm5pbmcmJnRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT50aGlzLmRyYXdTZXJpZXMoKSl9ZHJhd1Nlcmllcyh0PTAsZT0wKXt0PT09dGhpcy5zdmdQYXRoRWxlbWVudHNMaXN0Lmxlbmd0aHx8KGU+dGhpcy5jaGFydEl0ZW1FbmRBbmdsZT8odGhpcy5jaGFydEl0ZW1TdGFydEFuZ2xlPXRoaXMuY2hhcnRJdGVtU3RhcnRBbmdsZSt0aGlzLmNoYXJ0SXRlbUVuZEFuZ2xlLHQrKyx0aGlzLmNoYXJ0SXRlbUVuZEFuZ2xlPXRoaXMuY2hhcnRJdGVtc0VuZEFuZ2xlTGlzdFt0XSxlPTApOih0aGlzLmRyYXdQYXRoKHRoaXMuc3ZnUGF0aEVsZW1lbnRzTGlzdFt0XSx0aGlzLmNoYXJ0SXRlbVN0YXJ0QW5nbGUsdGhpcy5jYWxjdWxhdGVDdXJyZW50RW5kQW5nbGUoZSs9dEMpKSx0aGlzLnNldFRleHRQcm9wZXJ0aWVzKHRoaXMuc3ZnVGV4dEVsZW1lbnRzTGlzdFt0XSx0aGlzLmNoYXJ0SXRlbVN0YXJ0QW5nbGUsdGhpcy5jYWxjdWxhdGVDdXJyZW50RW5kQW5nbGUoZSkpKSx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZHJhd1Nlcmllcy5iaW5kKHRoaXMsdCxlKSkpfWVtaXRFdmVudE9uRW50ZXIodCl7dGhpcy5vblNlcmllSG92ZXIubmV4dCh0KX1nZXRGb250U2l6ZSgpe3JldHVybmAkeyguMDQqdGhpcy5jaGFydFdyYXBwZXIpLnRvRml4ZWQoMCl9cHhgfWdldFBlcmNlbnRWYWx1ZSh0LGUpe2NvbnN0IG49ZWIodC9lKjEwMCwyKTtyZXR1cm4gU3RyaW5nKG4pLnJlcGxhY2UoIi4iLCIsIil9Z2V0VGV4dENvbG9yKHQpe3JldHVybiBYYi5pbmNsdWRlcyh0KT8iIzAwMDAwMCI6IiNmZmZmZmYifWdldFRvb2x0aXBWYWx1ZSh0KXtyZXR1cm4gdGhpcy50eXBlPT09UmIuUGllP3QudG9TdHJpbmcoKTp0aGlzLmdldFBlcmNlbnRWYWx1ZSh0LHRoaXMudG90YWxWYWx1ZSkrIiUifWlzU2VyaWVWYWx1ZUVxdWFsWmVybygpe3JldHVybiB0aGlzLnNlcmllcy5sZW5ndGgmJjA9PT10aGlzLnNlcmllc1swXS52YWx1ZX1vbk1vdXNlQ2xpY2soKXtsZXQgdDt0PUttKHRoaXMuc2VyaWVzWzBdLFsiY29sb3IiXSksdGhpcy5vblNlcmllQ2xpY2submV4dCh0KX1vbk1vdXNlRW50ZXIodCl7bGV0IGU7Y29uc3Qgbj1LbSh0aGlzLnNlcmllc1swXSxbImNvbG9yIl0pO3RoaXMuY2hhcnRFbGVtZW50RGVzY3JpcHRpb249dC50YXJnZXQuZ2V0QXR0cmlidXRlTlMobnVsbCwiZGF0YS10b29sdGlwLWNhdGVnb3J5IiksZT1uLHRoaXMuZW1pdEV2ZW50T25FbnRlcihlKX1vbldpbmRvd1Jlc2l6ZSgpe3RoaXMuY2FsY3VsYXRlU1ZHRGltZW5zaW9ucygpLHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHRoaXMuc3ZnRWxlbWVudCwid2lkdGgiLGAke3RoaXMuY2VudGVyWH1gKSx0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZSh0aGlzLnN2Z0VsZW1lbnQsImhlaWdodCIsYCR7dGhpcy5zdmdIZWlnaHR9YCksdGhpcy53aW5kb3dSZXNpemVFbWl0dGVyLm5leHQoKX1yZW1vdmVXaW5kb3dSZXNpemVMaXN0ZW5lcigpe3RoaXMud2luZG93UmVzaXplTGlzdGVuZXImJnRoaXMud2luZG93UmVzaXplTGlzdGVuZXIoKX1yZW1vdmVXaW5kb3dTY3JvbGxMaXN0ZW5lcigpe3RoaXMud2luZG93U2Nyb2xsTGlzdGVuZXImJnRoaXMud2luZG93U2Nyb2xsTGlzdGVuZXIoKX1zZXRFdmVudExpc3RlbmVycygpe2xldCB0PXRoaXMuZWwubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCIucG8tcGF0aC1pdGVtIik7dD1BcnJheS5mcm9tKHQpLHQuZm9yRWFjaCh0PT57dGhpcy5yZW5kZXJlci5saXN0ZW4odCwiY2xpY2siLHRoaXMub25Nb3VzZUNsaWNrLmJpbmQodGhpcykpLHRoaXMucmVuZGVyZXIubGlzdGVuKHQsIm1vdXNlZW50ZXIiLHRoaXMub25Nb3VzZUVudGVyLmJpbmQodGhpcykpLHRoaXMuaXNDaGFydEdhdWdlVHlwZXx8KHRoaXMucmVuZGVyZXIubGlzdGVuKHQsIm1vdXNlbW92ZSIsdGhpcy5jaGFuZ2VUb29sdGlwUG9zaXRpb24uYmluZCh0aGlzKSksdGhpcy5yZW5kZXJlci5saXN0ZW4odCwibW91c2VsZWF2ZSIsdGhpcy5yZW1vdmVUb29sdGlwLmJpbmQodGhpcykpKX0pLHRoaXMud2luZG93UmVzaXplTGlzdGVuZXI9dGhpcy5yZW5kZXJlci5saXN0ZW4od2luZG93LCJyZXNpemUiLHRoaXMub25XaW5kb3dSZXNpemUuYmluZCh0aGlzKSksdGhpcy53aW5kb3dTY3JvbGxMaXN0ZW5lcj10aGlzLnJlbmRlcmVyLmxpc3Rlbih0aGlzLmNoZWNraW5nSWZTY3JvbGxzV2l0aFBvUGFnZSgpLCJzY3JvbGwiLHRoaXMucmVtb3ZlVG9vbHRpcC5iaW5kKHRoaXMpKX1zZXRJbm5lclJhZGl1cyh0KXtsZXQgZTtzd2l0Y2godCl7Y2FzZSBSYi5Eb251dDplPS4yNzticmVhaztjYXNlIFJiLkdhdWdlOmU9ckM7YnJlYWs7Y2FzZSBSYi5QaWU6cmV0dXJuIDB9cmV0dXJuIHRoaXMuY2VudGVyWC10aGlzLmNlbnRlclgqZX1zZXRUZXh0UHJvcGVydGllcyh0LGUsbil7aWYodGhpcy50eXBlPT09UmIuRG9udXQmJnQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpe2NvbnN0IHI9KGUrbikvMixzPXQuZ2V0QkJveCgpLGk9cy53aWR0aC8yLG89cy5oZWlnaHQvMixhPXRoaXMuaW5uZXJSYWRpdXMrKHRoaXMuY2VudGVyWC10aGlzLmlubmVyUmFkaXVzKS8yLGM9YSpNYXRoLmNvcyhyKSt0aGlzLmNlbnRlclgtaSxsPWEqTWF0aC5zaW4ocikrdGhpcy5jZW50ZXJYK28vMjt0LnNldEF0dHJpYnV0ZSgieCIsYyksdC5zZXRBdHRyaWJ1dGUoInkiLGwpLHQuc2V0QXR0cmlidXRlKCJmaWxsLW9wYWNpdHkiLCIxIil9fXNldFRvb2x0aXBQb3NpdGlvbnModCl7cmV0dXJue2xlZnQ6dC5jbGllbnRYLXRoaXMudG9vbHRpcEVsZW1lbnQub2Zmc2V0V2lkdGgvMix0b3A6dC5jbGllbnRZLXRoaXMudG9vbHRpcEVsZW1lbnQub2Zmc2V0SGVpZ2h0LTh9fXNldEVsZW1lbnRBdHRyaWJ1dGVzKHQsZSl7dmFyIG4scjtjb25zdHt0b29sdGlwOnN9PWUsaT1udWxsIT09KG49ZS5kYXRhKSYmdm9pZCAwIT09bj9uOmUudmFsdWUsbz1udWxsIT09KHI9ZS5sYWJlbCkmJnZvaWQgMCE9PXI/cjplLmRlc2NyaXB0aW9ufHxlLmNhdGVnb3J5O2lmKHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHQsImRhdGEtdG9vbHRpcC12YWx1ZSIsYCR7aX1gKSx0aGlzLmlzQ2hhcnRHYXVnZVR5cGUpdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodCwiZGF0YS10b29sdGlwLWRlc2NyaXB0aW9uIixvKTtlbHNle2NvbnN0IGU9dGhpcy5nZXRUb29sdGlwVmFsdWUoaSk7dGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodCwiZGF0YS10b29sdGlwLWNhdGVnb3J5IixvKSx0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZSh0LCJkYXRhLXRvb2x0aXAtdGV4dCIsc3x8YCR7b306ICR7ZX1gKX19c2hvd1Rvb2x0aXAoKXt0aGlzLnJlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMudG9vbHRpcEVsZW1lbnQsInBvLWludmlzaWJsZSIpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyh4YSksZ28ocGwpLGdvKGthKSl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsZmVhdHVyZXM6W0ppXX0pLHR9KSgpLG9DPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5jaGFuZ2VEZXRlY3Rpb249dH1zZXQgZ2F1Z2VXaWR0aCh0KXt0aGlzLl9nYXVnZVdpZHRoPXQsdGhpcy5jaGVja1RleHREZXNjcmlwdGlvblNpemUoKX1nZXQgZ2F1Z2VXaWR0aCgpe3JldHVybiB0aGlzLl9nYXVnZVdpZHRofXNldCBzZXJpZSh0KXt0Pyh0aGlzLnNlcmllVmFsdWVDb252ZXJ0ZWQ9dGhpcy5jb252ZXJ0VmFsdWVJblBlcmNlbnRGb3JtYXQodC52YWx1ZSksdGhpcy5fc2VyaWU9T2JqZWN0LmFzc2lnbih7fSx0KSk6dGhpcy5fc2VyaWU9dm9pZCAwfWdldCBzZXJpZSgpe3JldHVybiB0aGlzLl9zZXJpZX1nZXQgaGFzU2VyaWVEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLnNlcmllJiZ0aGlzLnNlcmllLmRlc2NyaXB0aW9ufWdldCBoYXNTZXJpZVZhbHVlKCl7cmV0dXJuIHRoaXMuc2VyaWUmJnRoaXMuc2VyaWUudmFsdWU+PTB9Z2V0IG1heERlc2NyaXB0aW9uV2lkdGgoKXtyZXR1cm57Im1heC13aWR0aCI6dGhpcy5nYXVnZVdpZHRoLXRoaXMuZ2F1Z2VXaWR0aCpyQyoyKjIrInB4In19bmdBZnRlclZpZXdJbml0KCl7dGhpcy5jaGVja1RleHREZXNjcmlwdGlvblNpemUoKX1jaGVja1RleHREZXNjcmlwdGlvblNpemUoKXt0aGlzLmRlc2NyaXB0aW9uRWxlbWVudCYmKHNldFRpbWVvdXQoKCk9Pnt0aGlzLnRvb2x0aXA9dGhpcy5pc0VsbGlwc2lzQWN0aXZlKCl9KSx0aGlzLmNoYW5nZURldGVjdGlvbi5kZXRlY3RDaGFuZ2VzKCkpfWNvbnZlcnRWYWx1ZUluUGVyY2VudEZvcm1hdCh0KXtyZXR1cm5gJHtTdHJpbmcoZWIodCwxKSkucmVwbGFjZSgiLiIsIiwiKX0lYH1pc0VsbGlwc2lzQWN0aXZlKCl7cmV0dXJuIHRoaXMuZGVzY3JpcHRpb25FbGVtZW50Lm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg8dGhpcy5kZXNjcmlwdGlvbkVsZW1lbnQubmF0aXZlRWxlbWVudC5zY3JvbGxXaWR0aD90aGlzLnNlcmllLmRlc2NyaXB0aW9uOnZvaWQgMH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoZ28oS2EpKX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tY2hhcnQtZ2F1Z2UtdGV4dC1jb250ZW50Il1dLHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmSGMoTnksNSx4YSksMiZ0KXtsZXQgdDtOYyh0PVZjKCkpJiYoZS5kZXNjcmlwdGlvbkVsZW1lbnQ9dC5maXJzdCl9fSxpbnB1dHM6e2dhdWdlV2lkdGg6WyJwLWdhdWdlLXdpZHRoIiwiZ2F1Z2VXaWR0aCJdLHNlcmllOlsicC1zZXJpZSIsInNlcmllIl19LGRlY2xzOjEsdmFyczoxLGNvbnN0czpbWyJjbGFzcyIsInBvLWNoYXJ0LWdhdWdlLXRleHQtY29udGVudCIsInRhYmluZGV4IiwiMCIsMywibmdTdHlsZSIsNCwibmdJZiJdLFsidGFiaW5kZXgiLCIwIiwxLCJwby1jaGFydC1nYXVnZS10ZXh0LWNvbnRlbnQiLDMsIm5nU3R5bGUiXSxbMSwicG8tY2hhcnQtZ2F1Z2UtdGV4dC12YWx1ZSJdLFsiY2xhc3MiLCJwby1jaGFydC1nYXVnZS10ZXh0LWRlc2NyaXB0aW9uIiwzLCJwLXRvb2x0aXAiLDQsIm5nSWYiXSxbMSwicG8tY2hhcnQtZ2F1Z2UtdGV4dC1kZXNjcmlwdGlvbiIsMywicC10b29sdGlwIl0sWyJkZXNjcmlwdGlvbiIsIiJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmcG8oMCxWeSw0LDMsImRpdiIsMCksMiZ0JiZtbygibmdJZiIsZS5oYXNTZXJpZVZhbHVlKX0sZGlyZWN0aXZlczpbcmgsb2gsVGJdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpLGFDPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBpQ3tjb25zdHJ1Y3Rvcih0LGUsbixyLHMpe3N1cGVyKG4scixzKSx0aGlzLmNoYW5nZURldGVjdGlvbj10LHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyPWUsdGhpcy5jaGFydEl0ZW1TdGFydEFuZ2xlPWVDLHRoaXMuX3Nlcmllcz1bXX1zZXQgc2VyaWVzKHQpe3RoaXMuX3Nlcmllcz10aGlzLmdldEdhdWdlU2VyaWUodCl9Z2V0IHNlcmllcygpe3JldHVybiB0aGlzLl9zZXJpZXN9bmdBZnRlclZpZXdJbml0KCl7dGhpcy5kcmF3QmFzZVBhdGgoKSx0aGlzLmNyZWF0ZUNvbXBvbmVudCgpfWNyZWF0ZUNvbXBvbmVudCgpe2NvbnN0IHQ9dGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3Rvcnkob0MpLGU9dGhpcy5zdmdDb250YWluZXJSZWYuY3JlYXRlQ29tcG9uZW50KHQpLmluc3RhbmNlO2Uuc2VyaWU9dGhpcy5zZXJpZXMubGVuZ3RoJiZ0aGlzLnNlcmllc1swXSxlLmdhdWdlV2lkdGg9dGhpcy5nZXRHYXVnZUJhc2VXaWR0aCgpLHRoaXMucmVzaXplTGlzdGVuZXJTdWJzY3JpcHRpb24oZSl9Y2hlY2tHYXVnZVZhbHVlTGltaXRzKHQpe3JldHVybiB0PD0wPzA6dD49MTAwPzEwMDp0fWRyYXdCYXNlUGF0aCgpe2NvbnN0IHQ9dGhpcy5lbC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wby1jaGFydC1nYXVnZS1iYXNlLXBhdGgiKTt0aGlzLmRyYXdQYXRoKHQsdGhpcy5jaGFydEl0ZW1TdGFydEFuZ2xlLDApfWdldEdhdWdlQmFzZVdpZHRoKCl7Y29uc3QgdD10aGlzLmVsLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcigiLnBvLWNoYXJ0LWdhdWdlLWJhc2UtcGF0aCIpO2lmKHQpcmV0dXJuIHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGh9Z2V0R2F1Z2VTZXJpZSh0PVtdKXtjb25zdFtlXT10O3JldHVybiBlJiYib2JqZWN0Ij09dHlwZW9mIGU/W09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7Y29sb3I6dGhpcy5jb2xvcnNbMF0sdmFsdWU6dGhpcy5jaGVja0dhdWdlVmFsdWVMaW1pdHMoZS52YWx1ZSl9KV06W119cmVzaXplTGlzdGVuZXJTdWJzY3JpcHRpb24odCl7dGhpcy53aW5kb3dSZXNpemVFbWl0dGVyLnN1YnNjcmliZSgoKT0+e3QuZ2F1Z2VXaWR0aD10aGlzLmdldEdhdWdlQmFzZVdpZHRoKCksdGhpcy5jaGFuZ2VEZXRlY3Rpb24uZGV0ZWN0Q2hhbmdlcygpfSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGdvKEthKSxnbyhfYSksZ28oeGEpLGdvKHBsKSxnbyhrYSkpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1jaGFydC1nYXVnZSJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJkhjKE15LDcsdWMpLDImdCl7bGV0IHQ7TmModD1WYygpKSYmKGUuc3ZnQ29udGFpbmVyUmVmPXQuZmlyc3QpfX0sZmVhdHVyZXM6W0ppXSxkZWNsczo1LHZhcnM6MSxjb25zdHM6W1sxLCJwby1jaGFydC1ib2R5Il0sWyJjaGFydEJvZHkiLCIiXSxbMSwicG8tY2hhcnQtc3ZnLWNvbnRhaW5lciJdLFsic3ZnQ29udGFpbmVyIiwiIl0sWyJjbGFzcyIsInBvLWNoYXJ0LXRvb2x0aXAgcG8tdG9vbHRpcCBwby1pbnZpc2libGUiLDQsIm5nSWYiXSxbMSwicG8tY2hhcnQtdG9vbHRpcCIsInBvLXRvb2x0aXAiLCJwby1pbnZpc2libGUiXSxbInRvb2x0aXBFbGVtZW50IiwiIl0sWzEsInBvLXRvb2x0aXAtYXJyb3ciLCJwby1hcnJvdy1ib3R0b20iXSxbMSwicG8tdG9vbHRpcC1jb250ZW50Il1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYodm8oMCwiZGl2IiwwLDEpLENvKDIsImRpdiIsMiwzKSxwbyg0LHp5LDUsMSwiZGl2Iiw0KSxibygpKSwyJnQmJih6cyg0KSxtbygibmdJZiIsIWUuaXNDaGFydEdhdWdlVHlwZSkpfSxkaXJlY3RpdmVzOltyaF0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksY0M9KCgpPT57Y2xhc3MgdCBleHRlbmRzIEtie2NvbnN0cnVjdG9yKHQsZSxuLHIscyxpLG8pe3N1cGVyKHQpLHRoaXMuY29sb3JTZXJ2aWNlPXQsdGhpcy5jaGFuZ2VEZXRlY3Rvcj1lLHRoaXMuY29udGFpbmVyU2VydmljZT1uLHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyPXIsdGhpcy5lbGVtZW50UmVmPXMsdGhpcy5tYXRoc1NlcnZpY2U9aSx0aGlzLnJlbmRlcmVyPW8sdGhpcy5jYWxjdWxhdGVkQ29tcG9uZW50UmVmRWxlbWVudD0hMSx0aGlzLmNhbGN1bGF0ZWRTdmdDb250YWluZXJFbGVtZW50PSExLHRoaXMuaW5pdGlhbGl6ZWQ9ITEsdGhpcy53aW5kb3dSZXNpemVMaXN0ZW5lcj1uZXcgRCx0aGlzLnN1YnNjcmlwdGlvbj1uZXcgaCx0aGlzLm1hcHBpbmdzPXtbUmIuR2F1Z2VdOmFDfSx0aGlzLm9uUmVzaXplPSgpPT57dGhpcy5nZXRTdmdDb250YWluZXJTaXplKCksdGhpcy53aW5kb3dSZXNpemVMaXN0ZW5lci5uZXh0KCl9fWdldCBpc0NoYXJ0R2F1Z2VUeXBlKCl7cmV0dXJuIHRoaXMudHlwZT09PVJiLkdhdWdlfW5nQWZ0ZXJWaWV3SW5pdCgpe3RoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5nZXRTdmdDb250YWluZXJTaXplKCl9bmdEb0NoZWNrKCl7Y29uc3QgdD10aGlzLmNoYXJ0V3JhcHBlci5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoLGU9dGhpcy5nZXRDb21wb25lbnRUeXBlKHRoaXMudHlwZSk7dCYmdGhpcy5pbml0aWFsaXplZCYmKGV8fHRoaXMuY2FsY3VsYXRlZFN2Z0NvbnRhaW5lckVsZW1lbnQ/ZSYmIXRoaXMuY2FsY3VsYXRlZENvbXBvbmVudFJlZkVsZW1lbnQmJih0aGlzLmR5bmFtaWNDb21wb25lbnRTZXR0aW5nKCksdGhpcy5jYWxjdWxhdGVkQ29tcG9uZW50UmVmRWxlbWVudD0hMCk6KHRoaXMuZ2V0U3ZnQ29udGFpbmVyU2l6ZSgpLHRoaXMuY2FsY3VsYXRlZFN2Z0NvbnRhaW5lckVsZW1lbnQ9ITApKX1uZ09uRGVzdHJveSgpe3RoaXMuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCksdGhpcy5yZW1vdmVXaW5kb3dSZXNpemVMaXN0ZW5lcigpfXJlc2l6ZUFjdGlvbigpe3RoaXMuZ2V0U3ZnQ29udGFpbmVyU2l6ZSgpLHRoaXMud2luZG93UmVzaXplTGlzdGVuZXIubmV4dCgpLHRoaXMuY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpfW5nT25Jbml0KCl7dGhpcy5nZXRTdmdDb250YWluZXJTaXplKCl9cmVidWlsZENvbXBvbmVudFJlZigpe3RoaXMuY29tcG9uZW50UmVmJiYodGhpcy5jb21wb25lbnRSZWYuZGVzdHJveSgpLHRoaXMuaXNDaGFydEdhdWdlVHlwZSYmdGhpcy5keW5hbWljQ29tcG9uZW50U2V0dGluZygpKX1jYWxjdWxhdGVBeGlzWExhYmVsQXJlYSgpe3JldHVybiB0aGlzLmdldEF4aXNYTGFiZWxBcmVhKHRoaXMubWF0aHNTZXJ2aWNlLmdldExvbmdlc3REYXRhVmFsdWUodGhpcy5jaGFydFR5cGU9PT1SYi5CYXI/dGhpcy5jYXRlZ29yaWVzOnRoaXMuY2hhcnRTZXJpZXMsdGhpcy5jaGFydFR5cGUsdGhpcy5vcHRpb25zKSl9Z2V0U3ZnQ29udGFpbmVyU2l6ZSgpe2xldCB0O2NvbnN0e2NoYXJ0SGVhZGVySGVpZ2h0OmUsY2hhcnRMZWdlbmRIZWlnaHQ6bixjaGFydFdyYXBwZXJXaWR0aDpyfT10aGlzLmdldENoYXJ0TWVhc3VyZW1lbnRzKCk7dGhpcy5pc1R5cGVDaXJjdWxhcnx8KHQ9dGhpcy5jYWxjdWxhdGVBeGlzWExhYmVsQXJlYSgpKSx0aGlzLnN2Z0NvbnRhaW5lclNpemU9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuY29udGFpbmVyU2VydmljZS5jYWxjdWxhdGVTVkdDb250YWluZXJNZWFzdXJlbWVudHModGhpcy5oZWlnaHQscixlLG4pKSx7YXhpc1hMYWJlbFdpZHRoOnR9KX1jaGFydExlZ2VuZEhlaWdodCh0KXtyZXR1cm4gdD90Lm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0OjB9Y3JlYXRlQ29tcG9uZW50KCl7Y29uc3QgdD10aGlzLmdldENvbXBvbmVudFR5cGUodGhpcy50eXBlKSxlPXRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHQpO3RoaXMuY29tcG9uZW50UmVmPXRoaXMuY2hhcnRDb250YWluZXIuY3JlYXRlQ29tcG9uZW50KGUpO2NvbnN0IG49dGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2U7cmV0dXJuIHRoaXMuc2V0Q29tcG9uZW50UmVmUHJvcGVydGllcyhuKSxufWR5bmFtaWNDb21wb25lbnRTZXR0aW5nKCl7Y29uc3QgdD10aGlzLmNyZWF0ZUNvbXBvbmVudCgpO3RoaXMuc2V0UmVzaXplTGlzdGVuZXJTdWJzY3JpYmUodCksdGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCksdGhpcy5zZXRDbGlja1N1YnNjcmliZSh0KSx0aGlzLnNldEhvdmVyU3Vic2NyaWJlKHQpfWdldEF4aXNYTGFiZWxBcmVhKHQpe2NvbnN0IGU9dGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KCJzcGFuIik7dGhpcy5yZW5kZXJlci5hZGRDbGFzcyhlLCJwby1jaGFydC1heGlzLXgtbGFiZWwiKSxlLmlubmVySFRNTD10LHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsZSk7Y29uc3Qgbj1NYXRoLmNlaWwoZS5vZmZzZXRXaWR0aCkrODtyZXR1cm4gdGhpcy5yZW5kZXJlci5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCxlKSxuPjU2P246NTZ9Z2V0Q29tcG9uZW50VHlwZSh0KXtyZXR1cm4gdGhpcy5tYXBwaW5nc1t0XX1nZXRDaGFydE1lYXN1cmVtZW50cygpe3JldHVybntjaGFydFdyYXBwZXJXaWR0aDp0aGlzLmNoYXJ0V3JhcHBlci5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoLGNoYXJ0SGVhZGVySGVpZ2h0OnRoaXMuY2hhcnRIZWFkZXIubmF0aXZlRWxlbWVudC5vZmZzZXRIZWlnaHQsY2hhcnRMZWdlbmRIZWlnaHQ6dGhpcy5jaGFydExlZ2VuZEhlaWdodCh0aGlzLmNoYXJ0TGVnZW5kKX19cmVtb3ZlV2luZG93UmVzaXplTGlzdGVuZXIoKXt0aGlzLm9uUmVzaXplJiYodGhpcy5vblJlc2l6ZT0oKT0+e30pfXNldENvbXBvbmVudFJlZlByb3BlcnRpZXModCl7Y29uc3R7Y2hhcnRIZWFkZXJIZWlnaHQ6ZSxjaGFydExlZ2VuZEhlaWdodDpuLGNoYXJ0V3JhcHBlcldpZHRoOnJ9PXRoaXMuZ2V0Q2hhcnRNZWFzdXJlbWVudHMoKTt0LmNoYXJ0SGVhZGVyPWUsdC5jaGFydExlZ2VuZD1uLHQuY2hhcnRXcmFwcGVyPXIsdC5jb2xvcnM9cWJbMF0sdC5oZWlnaHQ9dGhpcy5oZWlnaHQsdC50eXBlPXRoaXMudHlwZSx0LnNlcmllcz10aGlzLmNoYXJ0U2VyaWVzfHxbXX1zZXRDbGlja1N1YnNjcmliZSh0KXt0aGlzLnN1YnNjcmlwdGlvbi5hZGQodC5vblNlcmllQ2xpY2suc3Vic2NyaWJlKHQ9Pnt0aGlzLm9uU2VyaWVzQ2xpY2sodCl9KSl9c2V0SG92ZXJTdWJzY3JpYmUodCl7dGhpcy5zdWJzY3JpcHRpb24uYWRkKHQub25TZXJpZUhvdmVyLnN1YnNjcmliZSh0PT57dGhpcy5vblNlcmllc0hvdmVyKHQpfSkpfXNldFJlc2l6ZUxpc3RlbmVyU3Vic2NyaWJlKHQpe3RoaXMuc3Vic2NyaXB0aW9uLmFkZCh0aGlzLndpbmRvd1Jlc2l6ZUxpc3RlbmVyLnN1YnNjcmliZSgoKT0+e2NvbnN0IGU9dGhpcy5nZXRDaGFydE1lYXN1cmVtZW50cygpO3QuY2hhcnRXcmFwcGVyPWUuY2hhcnRXcmFwcGVyV2lkdGgsdC5jaGFydEhlYWRlcj1lLmNoYXJ0SGVhZGVySGVpZ2h0LHQuY2hhcnRMZWdlbmQ9ZS5jaGFydExlZ2VuZEhlaWdodH0pKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoZ28oUWIpLGdvKEthKSxnbyhKYiksZ28oX2EpLGdvKHhhKSxnbyhNYiksZ28oa2EpKX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tY2hhcnQiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiYoSGMoJHksNyx1YyksSGMoVXksNyksSGMoV3ksNSx4YSksSGMoR3ksNykpLDImdCl7bGV0IHQ7TmModD1WYygpKSYmKGUuY2hhcnRDb250YWluZXI9dC5maXJzdCksTmModD1WYygpKSYmKGUuY2hhcnRIZWFkZXI9dC5maXJzdCksTmModD1WYygpKSYmKGUuY2hhcnRMZWdlbmQ9dC5maXJzdCksTmModD1WYygpKSYmKGUuY2hhcnRXcmFwcGVyPXQuZmlyc3QpfX0saG9zdEJpbmRpbmdzOmZ1bmN0aW9uKHQsZSl7MSZ0JiZ4bygicmVzaXplIixmdW5jdGlvbigpe3JldHVybiBlLm9uUmVzaXplKCl9LCExLEpyKX0sZmVhdHVyZXM6W0ppXSxkZWNsczoxMix2YXJzOjMsY29uc3RzOltbMSwicG8tY2hhcnQtd3JhcHBlciIsMywicC1yZXNpemUtb2JzZXJ2ZXIiXSxbImNoYXJ0V3JhcHBlciIsIiJdLFsxLCJwby1jaGFydC1oZWFkZXIiXSxbImNoYXJ0SGVhZGVyIiwiIl0sWzEsInBvLWNoYXJ0LXRpdGxlIl0sWzMsInAtb3B0aW9ucyIsInAtdHlwZSIsInAtc2VyaWVzIiwicC1jYXRlZ29yaWVzIiwicC1jb250YWluZXItc2l6ZSIsInAtc2VyaWUtY2xpY2siLCJwLXNlcmllLWhvdmVyIiw0LCJuZ0lmIl0sWyJjaGFydENvbnRhaW5lciIsIiJdLFs0LCJuZ0lmIl0sWyJjaGFydExlZ2VuZEdyb3VwIiwiIl0sWzMsInAtb3B0aW9ucyIsInAtdHlwZSIsInAtc2VyaWVzIiwicC1jYXRlZ29yaWVzIiwicC1jb250YWluZXItc2l6ZSIsInAtc2VyaWUtY2xpY2siLCJwLXNlcmllLWhvdmVyIl0sWzQsIm5nVGVtcGxhdGVPdXRsZXQiXSxbMywicC1zZXJpZXMiLCJwLXR5cGUiXSxbImNoYXJ0TGVnZW5kIiwiIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYodm8oMCwiZGl2IiwwLDEpLHhvKCJwLXJlc2l6ZS1vYnNlcnZlciIsZnVuY3Rpb24oKXtyZXR1cm4gZS5yZXNpemVBY3Rpb24oKX0pLHZvKDIsImRpdiIsMiwzKSx2byg0LCJkaXYiLDQpLEpvKDUpLGJvKCksYm8oKSxwbyg2LHF5LDEsNSwicG8tY2hhcnQtY29udGFpbmVyIiw1KSxwbyg3LFh5LDAsMCwibmctdGVtcGxhdGUiLG51bGwsNixXYykscG8oOSxaeSwyLDEsImRpdiIsNyksYm8oKSxwbygxMCxReSwyLDIsIm5nLXRlbXBsYXRlIixudWxsLDgsV2MpKSwyJnQmJih6cyg1KSx0YShlLnRpdGxlKSx6cygxKSxtbygibmdJZiIsIWUuaXNDaGFydEdhdWdlVHlwZSksenMoMyksbW8oIm5nSWYiLCFlLmlzQ2hhcnRHYXVnZVR5cGUmJiExIT09KG51bGw9PWUub3B0aW9ucz9udWxsOmUub3B0aW9ucy5sZWdlbmQpKSl9LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5bd0MscmgsbEMsYWgsdUNdfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxsQz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMubWF0aHNTZXJ2aWNlPXQsdGhpcy5zZXJpZUNsaWNrPW5ldyBBYyx0aGlzLnNlcmllSG92ZXI9bmV3IEFjLHRoaXMuX3Nlcmllcz1bXX1zZXQgb3B0aW9ucyh0KXt0IGluc3RhbmNlb2YgT2JqZWN0JiYhKHQgaW5zdGFuY2VvZiBBcnJheSkmJih0aGlzLl9vcHRpb25zPXQsdGhpcy52ZXJpZnlBeGlzT3B0aW9ucyh0aGlzLl9vcHRpb25zKSl9Z2V0IG9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fb3B0aW9uc31zZXQgc2VyaWVzKHQpe3RoaXMuX3Nlcmllcz10LHRoaXMuc2V0QWxpZ25CeVRoZUNvcm5lcnModGhpcy5fc2VyaWVzKSx0aGlzLnNldFNlcmllc0J5VHlwZSh0aGlzLl9zZXJpZXMpLHRoaXMuc2V0UmFuZ2UodGhpcy5fc2VyaWVzLHRoaXMub3B0aW9ucyl9Z2V0IHNlcmllcygpe3JldHVybiB0aGlzLl9zZXJpZXN9Z2V0IGlzVHlwZUNpcmN1bGFyKCl7cmV0dXJuIHRoaXMudHlwZT09PVJiLlBpZXx8dGhpcy50eXBlPT09UmIuRG9udXR9bmdPbkNoYW5nZXModCl7KHQudHlwZXx8dC5jb250YWluZXJTaXplKSYmKHRoaXMuc2V0Vmlld0JveCgpLHRoaXMuc2V0U3ZnU3BhY2UoKSl9Z2V0Q2F0ZWdvcmllc0Nvb3JkaW5hdGVzKHQpe3RoaXMuY2F0ZWdvcmllc0Nvb3JkaW5hdGVzPXR9b25TZXJpZUNsaWNrKHQpe3RoaXMuc2VyaWVDbGljay5lbWl0KHQpfW9uU2VyaWVIb3Zlcih0KXt0aGlzLnNlcmllSG92ZXIuZW1pdCh0KX1nZXRSYW5nZSh0LGU9e30pe3ZhciBuLHIscztjb25zdCBpPXRoaXMubWF0aHNTZXJ2aWNlLmNhbGN1bGF0ZU1pbkFuZE1heFZhbHVlcyh0KSxvPXttaW5WYWx1ZTohKG51bGw9PT0obj1lLmF4aXMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm1pblJhbmdlKSYmaS5taW5WYWx1ZT4wPzA6KG51bGw9PT0ocj1lLmF4aXMpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLm1pblJhbmdlKTxpLm1pblZhbHVlP2UuYXhpcy5taW5SYW5nZTppLm1pblZhbHVlLG1heFZhbHVlOihudWxsPT09KHM9ZS5heGlzKXx8dm9pZCAwPT09cz92b2lkIDA6cy5tYXhSYW5nZSk+aS5tYXhWYWx1ZT9lLmF4aXMubWF4UmFuZ2U6aS5tYXhWYWx1ZX07cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxpKSxvKX1zZXRTdmdTcGFjZSgpe3ZhciB0O2NvbnN0IGU9dGhpcy5zdmdFTGVtZW50Lm5hdGl2ZUVsZW1lbnQuY3JlYXRlU1ZHUG9pbnQoKSxuPW51bGw9PT0odD10aGlzLnN2Z0VMZW1lbnQubmF0aXZlRWxlbWVudC5nZXRTY3JlZW5DVE0oKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaW52ZXJzZSgpO3RoaXMuc3ZnU3BhY2U9e3N2Z1BvaW50OmUsc3ZnRG9tTWF0cml4Om59fXNldEFsaWduQnlUaGVDb3JuZXJzKHQpe3RoaXMuYWxpZ25CeVRoZUNvcm5lcnM9dC5ldmVyeSh0PT50LnR5cGU9PT1SYi5BcmVhfHx0LnR5cGU9PT1SYi5CYXIpfXNldFJhbmdlKHQsZT17fSl7dGhpcy5pc1R5cGVDaXJjdWxhcnx8KHRoaXMucmFuZ2U9dGhpcy5nZXRSYW5nZSh0LGUpKX1zZXRTZXJpZXNCeVR5cGUodCl7dGhpcy5zZXJpZXNCeVR5cGU9e1tSYi5BcmVhXTp0LmZpbHRlcih0PT50LnR5cGU9PT1SYi5BcmVhKSxbUmIuQ29sdW1uXTp0LmZpbHRlcih0PT50LnR5cGU9PT1SYi5Db2x1bW4pLFtSYi5CYXJdOnQuZmlsdGVyKHQ9PnQudHlwZT09PVJiLkJhciksW1JiLkxpbmVdOnQuZmlsdGVyKHQ9PnQudHlwZT09PVJiLkxpbmUpLFtSYi5Eb251dF06dC5maWx0ZXIodD0+dC50eXBlPT09UmIuRG9udXQpLFtSYi5QaWVdOnQuZmlsdGVyKHQ9PnQudHlwZT09PVJiLlBpZSl9fXNldFZpZXdCb3goKXtjb25zdHtzdmdXaWR0aDp0LHN2Z0hlaWdodDplfT10aGlzLmNvbnRhaW5lclNpemU7dGhpcy52aWV3Qm94PWAxIC0xICR7dGhpcy5pc1R5cGVDaXJjdWxhcj9lOnR9ICR7dGhpcy5jb250YWluZXJTaXplLnN2Z0hlaWdodH1gfXZlcmlmeUF4aXNPcHRpb25zKHQpeyF0aGlzLmlzVHlwZUNpcmN1bGFyJiZ0Lmhhc093blByb3BlcnR5KCJheGlzIikmJih0aGlzLnJhbmdlPXRoaXMuZ2V0UmFuZ2UodGhpcy5zZXJpZXMsdGhpcy5vcHRpb25zKSx0aGlzLmF4aXNPcHRpb25zPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLmF4aXNPcHRpb25zKSx0LmF4aXMpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoZ28oTWIpKX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tY2hhcnQtY29udGFpbmVyIl1dLHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmSGMoS3ksNyksMiZ0KXtsZXQgdDtOYyh0PVZjKCkpJiYoZS5zdmdFTGVtZW50PXQuZmlyc3QpfX0saW5wdXRzOntvcHRpb25zOlsicC1vcHRpb25zIiwib3B0aW9ucyJdLHNlcmllczpbInAtc2VyaWVzIiwic2VyaWVzIl0sY2F0ZWdvcmllczpbInAtY2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiXSx0eXBlOlsicC10eXBlIiwidHlwZSJdLGNvbnRhaW5lclNpemU6WyJwLWNvbnRhaW5lci1zaXplIiwiY29udGFpbmVyU2l6ZSJdfSxvdXRwdXRzOntzZXJpZUNsaWNrOiJwLXNlcmllLWNsaWNrIixzZXJpZUhvdmVyOiJwLXNlcmllLWhvdmVyIn0sZmVhdHVyZXM6W2NlXSxkZWNsczo5LHZhcnM6MTAsY29uc3RzOltbInByZXNlcnZlQXNwZWN0UmF0aW8iLCJ4TWlkWU1pbiBtZWV0IiwxLCJwby1jaGFydC1zdmctZWxlbWVudCJdLFsic3ZnRUxlbWVudCIsIiJdLFsicG8tY2hhcnQtYXhpcyIsIiIsMywicC1hbGlnbi1ieS10aGUtY29ybmVycyIsInAtcmFuZ2UiLCJwLXR5cGUiLCJwLXNlcmllcyIsInAtY29udGFpbmVyLXNpemUiLCJwLW9wdGlvbnMiLCJwLWNhdGVnb3JpZXMiLCJwLWNhdGVnb3JpZXMtY29vcmRpbmF0ZXMiLDQsIm5nSWYiXSxbInBvLWNoYXJ0LWFyZWEiLCIiLDMsInAtYWxpZ24tYnktdGhlLWNvcm5lcnMiLCJwLXN2Zy1zcGFjZSIsInAtY2F0ZWdvcmllcyIsInAtY2F0ZWdvcmllcy1jb29yZGluYXRlcyIsInAtcmFuZ2UiLCJwLXNlcmllcyIsInAtY29udGFpbmVyLXNpemUiLCJwLWJhci1ob3ZlciIsInAtYmFyLWNsaWNrIiw0LCJuZ0lmIl0sWyJwby1jaGFydC1jb2x1bW4iLCIiLDMsInAtY2F0ZWdvcmllcyIsInAtcmFuZ2UiLCJwLXNlcmllcyIsInAtY29udGFpbmVyLXNpemUiLCJwLWJhci1ob3ZlciIsInAtYmFyLWNsaWNrIiw0LCJuZ0lmIl0sWyJwby1jaGFydC1saW5lIiwiIiwzLCJwLWNhdGVnb3JpZXMiLCJwLXJhbmdlIiwicC1zZXJpZXMiLCJwLWNvbnRhaW5lci1zaXplIiwicC1wb2ludC1ob3ZlciIsInAtcG9pbnQtY2xpY2siLDQsIm5nSWYiXSxbInBvLWNoYXJ0LWJhciIsIiIsMywicC1jYXRlZ29yaWVzIiwicC1yYW5nZSIsInAtc2VyaWVzIiwicC1jb250YWluZXItc2l6ZSIsInAtYmFyLWhvdmVyIiwicC1iYXItY2xpY2siLDQsIm5nSWYiXSxbInBvLWNoYXJ0LXBpZSIsIiIsMywicC1zZXJpZXMiLCJwLWNvbnRhaW5lci1zaXplIiwicC1jaXJjdWxhci1ob3ZlciIsInAtY2lyY3VsYXItY2xpY2siLDQsIm5nSWYiXSxbInBvLWNoYXJ0LWRvbnV0IiwiIiwzLCJwLW9wdGlvbnMiLCJwLXNlcmllcyIsInAtY29udGFpbmVyLXNpemUiLCJwLWNpcmN1bGFyLWhvdmVyIiwicC1jaXJjdWxhci1jbGljayIsNCwibmdJZiJdLFsicG8tY2hhcnQtYXhpcyIsIiIsMywicC1hbGlnbi1ieS10aGUtY29ybmVycyIsInAtcmFuZ2UiLCJwLXR5cGUiLCJwLXNlcmllcyIsInAtY29udGFpbmVyLXNpemUiLCJwLW9wdGlvbnMiLCJwLWNhdGVnb3JpZXMiLCJwLWNhdGVnb3JpZXMtY29vcmRpbmF0ZXMiXSxbInBvLWNoYXJ0LWFyZWEiLCIiLDMsInAtYWxpZ24tYnktdGhlLWNvcm5lcnMiLCJwLXN2Zy1zcGFjZSIsInAtY2F0ZWdvcmllcyIsInAtY2F0ZWdvcmllcy1jb29yZGluYXRlcyIsInAtcmFuZ2UiLCJwLXNlcmllcyIsInAtY29udGFpbmVyLXNpemUiLCJwLWJhci1ob3ZlciIsInAtYmFyLWNsaWNrIl0sWyJwby1jaGFydC1jb2x1bW4iLCIiLDMsInAtY2F0ZWdvcmllcyIsInAtcmFuZ2UiLCJwLXNlcmllcyIsInAtY29udGFpbmVyLXNpemUiLCJwLWJhci1ob3ZlciIsInAtYmFyLWNsaWNrIl0sWyJwby1jaGFydC1saW5lIiwiIiwzLCJwLWNhdGVnb3JpZXMiLCJwLXJhbmdlIiwicC1zZXJpZXMiLCJwLWNvbnRhaW5lci1zaXplIiwicC1wb2ludC1ob3ZlciIsInAtcG9pbnQtY2xpY2siXSxbInBvLWNoYXJ0LWJhciIsIiIsMywicC1jYXRlZ29yaWVzIiwicC1yYW5nZSIsInAtc2VyaWVzIiwicC1jb250YWluZXItc2l6ZSIsInAtYmFyLWhvdmVyIiwicC1iYXItY2xpY2siXSxbInBvLWNoYXJ0LXBpZSIsIiIsMywicC1zZXJpZXMiLCJwLWNvbnRhaW5lci1zaXplIiwicC1jaXJjdWxhci1ob3ZlciIsInAtY2lyY3VsYXItY2xpY2siXSxbInBvLWNoYXJ0LWRvbnV0IiwiIiwzLCJwLW9wdGlvbnMiLCJwLXNlcmllcyIsInAtY29udGFpbmVyLXNpemUiLCJwLWNpcmN1bGFyLWhvdmVyIiwicC1jaXJjdWxhci1jbGljayJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKG9uKCksdm8oMCwic3ZnIiwwLDEpLHBvKDIsSnksMSw3LCJnIiwyKSxwbygzLHR2LDEsNywiZyIsMykscG8oNCxldiwxLDQsImciLDQpLHBvKDUsbnYsMSw0LCJnIiw1KSxwbyg2LHJ2LDEsNCwiZyIsNikscG8oNyxzdiwxLDIsImciLDcpLHBvKDgsaXYsMSwzLCJnIiw4KSxibygpKSwyJnQmJih1bygidmlld0JveCIsZS52aWV3Qm94KSgid2lkdGgiLGUuY29udGFpbmVyU2l6ZS5zdmdXaWR0aCkoImhlaWdodCIsZS5jb250YWluZXJTaXplLnN2Z0hlaWdodCksenMoMiksbW8oIm5nSWYiLCFlLmlzVHlwZUNpcmN1bGFyKSx6cygxKSxtbygibmdJZiIsKCJhcmVhIj09PWUudHlwZXx8ImxpbmUiPT09ZS50eXBlfHwiY29sdW1uIj09PWUudHlwZSkmJmUuc2VyaWVzQnlUeXBlLmFyZWEubGVuZ3RoKSx6cygxKSxtbygibmdJZiIsKCJhcmVhIj09PWUudHlwZXx8ImxpbmUiPT09ZS50eXBlfHwiY29sdW1uIj09PWUudHlwZSkmJmUuc2VyaWVzQnlUeXBlLmNvbHVtbi5sZW5ndGgpLHpzKDEpLG1vKCJuZ0lmIiwoImFyZWEiPT09ZS50eXBlfHwibGluZSI9PT1lLnR5cGV8fCJjb2x1bW4iPT09ZS50eXBlKSYmZS5zZXJpZXNCeVR5cGUubGluZS5sZW5ndGgpLHpzKDEpLG1vKCJuZ0lmIiwiYmFyIj09PWUudHlwZSksenMoMSksbW8oIm5nSWYiLCJwaWUiPT09ZS50eXBlKSx6cygxKSxtbygibmdJZiIsImRvbnV0Ij09PWUudHlwZSkpfSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW3JoLFZiLEhiLEdiLGhDLFdiLG1DLHlDXX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksdUM9KCgpPT57Y2xhc3MgdHtzZXQgc2VyaWVzKHQpe3RoaXMuX3Nlcmllcz10fWdldCBzZXJpZXMoKXtyZXR1cm4gdGhpcy5fc2VyaWVzfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tY2hhcnQtbGVnZW5kIl1dLGlucHV0czp7c2VyaWVzOlsicC1zZXJpZXMiLCJzZXJpZXMiXSx0eXBlOlsicC10eXBlIiwidHlwZSJdfSxkZWNsczozLHZhcnM6MSxjb25zdHM6W1sxLCJwby1jaGFydC1sZWdlbmQiXSxbMSwicG8tY2hhcnQtbGVnZW5kLWNvbnRhaW5lciJdLFsiY2xhc3MiLCJwby1jaGFydC1sZWdlbmQtaXRlbSIsNCwibmdGb3IiLCJuZ0Zvck9mIl0sWzEsInBvLWNoYXJ0LWxlZ2VuZC1pdGVtIl0sWzEsInBvLWNoYXJ0LWxlZ2VuZC1zcXVhcmUiXSxbMSwicG8tY2hhcnQtbGVnZW5kLXRleHQiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJih2bygwLCJkaXYiLDApLHZvKDEsImRpdiIsMSkscG8oMixvdiw0LDUsImRpdiIsMiksYm8oKSxibygpKSwyJnQmJih6cygyKSxtbygibmdGb3JPZiIsZS5zZXJpZXMpKX0sZGlyZWN0aXZlczpbZWhdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpLGhDPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBOYntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCxlLG4pLHRoaXMubWF0aHNTZXJ2aWNlPXQsdGhpcy5yZW5kZXJlcj1lLHRoaXMuZWxlbWVudFJlZj1ufW9uRW50ZXIodCl7cmV0dXJuIG51bGx9b25MZWF2ZSh0KXtyZXR1cm4gbnVsbH1vblNlcmllUG9pbnRIb3Zlcih0KXtjb25zdHtyZWxhdGl2ZVRvOmV9PXQsbj1LbSh0LFsicmVsYXRpdmVUbyJdKTt0aGlzLnJlb3JkZXJTVkdHcm91cChlKSx0aGlzLnBvaW50SG92ZXIuZW1pdChuKX1yZW9yZGVyU1ZHR3JvdXAodCl7Y29uc3QgZT10aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHt0fWApO3RoaXMuYW5pbWF0ZT0hMSx0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMuY2hhcnRMaW5lLm5hdGl2ZUVsZW1lbnQsZVswXSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGdvKE1iKSxnbyhrYSksZ28oeGEpKX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwicG8tY2hhcnQtbGluZSIsIiJdXSxmZWF0dXJlczpbSmldLGF0dHJzOmF2LGRlY2xzOjMsdmFyczoyLGNvbnN0czpbWyJjaGFydExpbmUiLCIiXSxbMywiY2xhc3MiLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsNCwibmdGb3IiLCJuZ0Zvck9mIiwibmdGb3JUcmFja0J5Il0sWzMsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIl0sWyJwby1jaGFydC1wYXRoIiwiIiwzLCJwLWNoYXJ0LWxpbmUiLCJwLWFuaW1hdGUiLCJwLWNvbG9yIiwicC1jb29yZGluYXRlcyIsInAtaXMtYWN0aXZlIl0sWyJwby1jaGFydC1zZXJpZXMtcG9pbnQiLCIiLDMsInAtYW5pbWF0ZSIsInAtY2hhcnQtbGluZSIsInAtY29sb3IiLCJwLWNvb3JkaW5hdGVzIiwicC1pcy1hY3RpdmUiLCJwLXJlbGF0aXZlLXRvIiwicC1wb2ludC1jbGljayIsInAtcG9pbnQtaG92ZXIiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihvbigpLHZvKDAsImciLG51bGwsMCkscG8oMixjdiwzLDE1LCJnIiwxKSxibygpKSwyJnQmJih6cygyKSxtbygibmdGb3JPZiIsZS5zZXJpZXNQYXRoc0Nvb3JkaW5hdGVzKSgibmdGb3JUcmFja0J5IixlLnRyYWNrQnkpKX0sZGlyZWN0aXZlczpmdW5jdGlvbigpe3JldHVybltlaCxwQyxmQ119LGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLGRDPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmJhckNsaWNrPW5ldyBBYyx0aGlzLmJhckhvdmVyPW5ldyBBY310cmFja0J5KHQpe3JldHVybiB0fW9uQ2xpY2sodCl7dGhpcy5iYXJDbGljay5lbWl0KHtsYWJlbDp0LmxhYmVsLGRhdGE6dC5kYXRhLGNhdGVnb3J5OnQuY2F0ZWdvcnl9KX1vbk1vdXNlRW50ZXIodCl7dGhpcy5iYXJIb3Zlci5lbWl0KHtsYWJlbDp0LmxhYmVsLGRhdGE6dC5kYXRhLGNhdGVnb3J5OnQuY2F0ZWdvcnl9KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsInBvLWNoYXJ0LWJhci1wYXRoIiwiIl1dLGlucHV0czp7Y29sb3I6WyJwLWNvbG9yIiwiY29sb3IiXSxjb29yZGluYXRlczpbInAtY29vcmRpbmF0ZXMiLCJjb29yZGluYXRlcyJdLHRvb2x0aXBQb3NpdGlvbjpbInAtdG9vbHRpcC1wb3NpdGlvbiIsInRvb2x0aXBQb3NpdGlvbiJdfSxvdXRwdXRzOntiYXJDbGljazoicC1iYXItY2xpY2siLGJhckhvdmVyOiJwLWJhci1ob3ZlciJ9LGF0dHJzOmx2LGRlY2xzOjEsdmFyczoyLGNvbnN0czpbWyJjbGFzcyIsInBvLWNoYXJ0LWJhci1wYXRoIiwzLCJwLXRvb2x0aXAiLCJwLXRvb2x0aXAtcG9zaXRpb24iLCJwLWFwcGVuZC1pbi1ib2R5IiwiY2xhc3MiLCJtb3VzZWVudGVyIiwiY2xpY2siLDQsIm5nRm9yIiwibmdGb3JPZiIsIm5nRm9yVHJhY2tCeSJdLFsxLCJwby1jaGFydC1iYXItcGF0aCIsMywicC10b29sdGlwIiwicC10b29sdGlwLXBvc2l0aW9uIiwicC1hcHBlbmQtaW4tYm9keSIsIm1vdXNlZW50ZXIiLCJjbGljayJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmcG8oMCx1diwxLDcsInBhdGgiLDApLDImdCYmbW8oIm5nRm9yT2YiLGUuY29vcmRpbmF0ZXMpKCJuZ0ZvclRyYWNrQnkiLGUudHJhY2tCeSl9LGRpcmVjdGl2ZXM6W2VoLFRiXSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxwQz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuY2hhbmdlRGV0ZWN0b3I9dCx0aGlzLmlzQWN0aXZlPSEwLHRoaXMuY2hhcnRMaW5lPSExfXNldCBjb2xvcih0KXt0aGlzLl9jb2xvcj10LmluY2x1ZGVzKCJwby1jb2xvciIpJiZ0aGlzLmNoYXJ0TGluZT90LnJlcGxhY2UoInBvLWNvbG9yIiwicG8tYm9yZGVyLWNvbG9yIik6dH1nZXQgY29sb3IoKXtyZXR1cm4gdGhpcy5fY29sb3J9c2V0IGFuaW1hdGUodCl7dGhpcy5fYW5pbWF0ZT10LHRoaXMuYW5pbWF0ZXx8KHRoaXMucGF0aFdpZHRoPTApfWdldCBhbmltYXRlKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGV9bmdBZnRlclZpZXdJbml0KCl7dGIoKXx8dGhpcy5wYXRoQW5pbWF0aW9uKCl9cGF0aEFuaW1hdGlvbigpe3RoaXMucGF0aFdpZHRoPXRoaXMuY2hhcnRQYXRoLm5hdGl2ZUVsZW1lbnQuZ2V0VG90YWxMZW5ndGgoKSx0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKSxzZXRUaW1lb3V0KHRoaXMucHJldmVudHNBbmltYXRpbmdBZ2Fpbi5iaW5kKHRoaXMpLDcwMCl9cHJldmVudHNBbmltYXRpbmdBZ2Fpbigpe3RoaXMucGF0aFdpZHRoPTB9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGdvKEthKSl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsInBvLWNoYXJ0LXBhdGgiLCIiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZIYyhodiw3KSwyJnQpe2xldCB0O05jKHQ9VmMoKSkmJihlLmNoYXJ0UGF0aD10LmZpcnN0KX19LGlucHV0czp7aXNBY3RpdmU6WyJwLWlzLWFjdGl2ZSIsImlzQWN0aXZlIl0sY2hhcnRMaW5lOlsicC1jaGFydC1saW5lIiwiY2hhcnRMaW5lIl0sY29sb3I6WyJwLWNvbG9yIiwiY29sb3IiXSxhbmltYXRlOlsicC1hbmltYXRlIiwiYW5pbWF0ZSJdLGNvb3JkaW5hdGVzOlsicC1jb29yZGluYXRlcyIsImNvb3JkaW5hdGVzIl19LGF0dHJzOmR2LGRlY2xzOjIsdmFyczoxMSxjb25zdHM6W1sxLCJwby1jaGFydC1wYXRoIl0sWyJjaGFydFBhdGgiLCIiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihvbigpLENvKDAsInBhdGgiLDAsMSkpLDImdCYmKFZvKG51bGwhPWUuY29sb3ImJmUuY29sb3IuaW5jbHVkZXMoInBvLWJvcmRlci1jb2xvciIpfHxudWxsIT1lLmNvbG9yJiZlLmNvbG9yLmluY2x1ZGVzKCJwby1jb2xvciIpP2UuY29sb3I6IiIpLEhvKCJwby1jaGFydC1hY3RpdmUtcGF0aCIsZS5pc0FjdGl2ZSkoInBvLWNoYXJ0LWxpbmUtcGF0aCIsZS5jaGFydExpbmUpLHVvKCJmaWxsIixlLmNoYXJ0TGluZT8ibm9uZSI6ZS5jb2xvcikoInN0cm9rZS1kYXNoYXJyYXkiLGUucGF0aFdpZHRoKSgic3Ryb2tlLWRhc2hvZmZzZXQiLGUucGF0aFdpZHRoKSgic3Ryb2tlIixlLmNoYXJ0TGluZT9lLmNvbG9yOiIiKSgiZCIsZS5jb29yZGluYXRlcykpfSxlbmNhcHN1bGF0aW9uOjJ9KSxKbShbdmIoKV0sdC5wcm90b3R5cGUsImlzQWN0aXZlIix2b2lkIDApLEptKFt2YigpXSx0LnByb3RvdHlwZSwiY2hhcnRMaW5lIix2b2lkIDApLHR9KSgpLGZDPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLnJlbmRlcmVyPXQsdGhpcy5lbGVtZW50UmVmPWUsdGhpcy5jaGFydExpbmU9ITEsdGhpcy5wb2ludENsaWNrPW5ldyBBYyx0aGlzLnBvaW50SG92ZXI9bmV3IEFjLHRoaXMucmFkaXVzPTUsdGhpcy5fY29vcmRpbmF0ZXM9W10sdGhpcy5hbmltYXRpb25TdGF0ZT0hMH1zZXQgY29sb3IodCl7dGhpcy5zdHJva2VDb2xvcj10LmluY2x1ZGVzKCJwby1jb2xvciIpP3QucmVwbGFjZSgicG8tY29sb3IiLCJwby1ib3JkZXItY29sb3IiKTp0LHRoaXMuX2NvbG9yPXR9Z2V0IGNvbG9yKCl7cmV0dXJuIHRoaXMuX2NvbG9yfXNldCBjb29yZGluYXRlcyh0KXt0aGlzLl9jb29yZGluYXRlcz10LHRoaXMuY29vcmRpbmF0ZXMkPXRoaXMuZGlzcGxheVBvaW50c1dpdGhEZWxheSh0aGlzLl9jb29yZGluYXRlcyl9Z2V0IGNvb3JkaW5hdGVzKCl7cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVzfXRyYWNrQnkodCl7cmV0dXJuIHR9b25DbGljayh0KXt0aGlzLnBvaW50Q2xpY2suZW1pdCh7bGFiZWw6dC5sYWJlbCxkYXRhOnQuZGF0YSxjYXRlZ29yeTp0LmNhdGVnb3J5fSl9b25Nb3VzZUVudGVyKHQsZSl7dGhpcy5zZXRQb2ludEF0dHJpYnV0ZSh0LnRhcmdldCwhMCksdGhpcy5wb2ludEhvdmVyLmVtaXQoT2JqZWN0LmFzc2lnbih7cmVsYXRpdmVUbzp0aGlzLnJlbGF0aXZlVG99LHtsYWJlbDplLmxhYmVsLGRhdGE6ZS5kYXRhLGNhdGVnb3J5OmUuY2F0ZWdvcnl9KSl9b25Nb3VzZUxlYXZlKHQpe3RoaXMuc2V0UG9pbnRBdHRyaWJ1dGUodC50YXJnZXQsITEpfWRpc3BsYXlQb2ludHNXaXRoRGVsYXkodCl7aWYodGhpcy5hbmltYXRpb25TdGF0ZSYmIXRiKCkpe2NvbnN0IGU9NzAwL3QubGVuZ3RoO3JldHVybiBCKHQpLnBpcGUob3AoKHQsbik9PntyZXR1cm4gT2QoMCE9PW4mJnRoaXMuYW5pbWF0ZT9lOjApLnBpcGUoKHI9dCx0PT50LmxpZnQobmV3IGF5KHIpKSkpO3ZhciByfSksUWQoKHQsZSk9PnQuY29uY2F0KGUpLFtdKSxicCgoKT0+dGhpcy5hbmltYXRpb25TdGF0ZT0hMSkpfXJldHVybiBCKFt0XSl9c2V0UG9pbnRBdHRyaWJ1dGUodCxlKXt0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZSh0LCJyIixlPzEwLi50b1N0cmluZygpOjUuLnRvU3RyaW5nKCkpLHRoaXMuY29sb3IuaW5jbHVkZXMoInBvLWNvbG9yIik/dGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodCwiY2xhc3MiLGU/YCR7dGhpcy5zdHJva2VDb2xvcn0gJHt0aGlzLmNvbG9yfWA6YHBvLWNoYXJ0LWxpbmUtcG9pbnQgcG8tY2hhcnQtYWN0aXZlLXBvaW50ICR7dGhpcy5zdHJva2VDb2xvcn1gKTp0aGlzLnJlbmRlcmVyW2U/InNldFN0eWxlIjoicmVtb3ZlU3R5bGUiXSh0LCJmaWxsIixlP3RoaXMuY29sb3I6dm9pZCAwKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoZ28oa2EpLGdvKHhhKSl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsInBvLWNoYXJ0LXNlcmllcy1wb2ludCIsIiJdXSxpbnB1dHM6e2NoYXJ0TGluZTpbInAtY2hhcnQtbGluZSIsImNoYXJ0TGluZSJdLGNvbG9yOlsicC1jb2xvciIsImNvbG9yIl0sY29vcmRpbmF0ZXM6WyJwLWNvb3JkaW5hdGVzIiwiY29vcmRpbmF0ZXMiXSxhbmltYXRlOlsicC1hbmltYXRlIiwiYW5pbWF0ZSJdLGlzQWN0aXZlOlsicC1pcy1hY3RpdmUiLCJpc0FjdGl2ZSJdLHJlbGF0aXZlVG86WyJwLXJlbGF0aXZlLXRvIiwicmVsYXRpdmVUbyJdfSxvdXRwdXRzOntwb2ludENsaWNrOiJwLXBvaW50LWNsaWNrIixwb2ludEhvdmVyOiJwLXBvaW50LWhvdmVyIn0sYXR0cnM6cHYsZGVjbHM6Mix2YXJzOjQsY29uc3RzOltbInAtdG9vbHRpcC1wb3NpdGlvbiIsInRvcCIsImNsYXNzIiwicG8tY2hhcnQtbGluZS1wb2ludCIsMywicC10b29sdGlwIiwicC1hcHBlbmQtaW4tYm9keSIsInAtZGlzcGxheS10b29sdGlwIiwiY2xhc3MiLCJwby1jaGFydC1hY3RpdmUtcG9pbnQiLCJjbGljayIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIiw0LCJuZ0ZvciIsIm5nRm9yT2YiLCJuZ0ZvclRyYWNrQnkiXSxbInAtdG9vbHRpcC1wb3NpdGlvbiIsInRvcCIsMSwicG8tY2hhcnQtbGluZS1wb2ludCIsMywicC10b29sdGlwIiwicC1hcHBlbmQtaW4tYm9keSIsInAtZGlzcGxheS10b29sdGlwIiwiY2xpY2siLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKHBvKDAsZnYsMSwxMSwiY2lyY2xlIiwwKSxmdW5jdGlvbih0LGUpe2NvbnN0IG49T2UoKTtsZXQgcjtuLmZpcnN0Q3JlYXRlUGFzcz8ocj1mdW5jdGlvbih0LGUpe2lmKGUpZm9yKGxldCBuPWUubGVuZ3RoLTE7bj49MDtuLS0pe2NvbnN0IHI9ZVtuXTtpZih0PT09ci5uYW1lKXJldHVybiByfXRocm93IG5ldyBhdCgiMzAyIiwiVGhlIHBpcGUgJ2FzeW5jJyBjb3VsZCBub3QgYmUgZm91bmQhIil9KCJhc3luYyIsbi5waXBlUmVnaXN0cnkpLG4uZGF0YVsyMV09cixyLm9uRGVzdHJveSYmKG4uZGVzdHJveUhvb2tzfHwobi5kZXN0cm95SG9va3M9W10pKS5wdXNoKDIxLHIub25EZXN0cm95KSk6cj1uLmRhdGFbMjFdO2NvbnN0IHM9ci5mYWN0b3J5fHwoci5mYWN0b3J5PW9lKHIudHlwZSkpLGk9X3QoZ28pO3RyeXtjb25zdCB0PUVuKCExKSxlPXMoKTtFbih0KSxmdW5jdGlvbih0LGUsbixyKXsyMT49dC5kYXRhLmxlbmd0aCYmKHQuZGF0YVsyMV09bnVsbCx0LmJsdWVwcmludFsyMV09bnVsbCksZVsyMV09cn0obixJZSgpLDAsZSl9ZmluYWxseXtfdChpKX19KCkpLDImdCYmbW8oIm5nRm9yT2YiLFNjKDEsMixlLmNvb3JkaW5hdGVzJCkpKCJuZ0ZvclRyYWNrQnkiLGUudHJhY2tCeSl9LGRpcmVjdGl2ZXM6W2VoLFRiXSxwaXBlczpbcGhdLGVuY2Fwc3VsYXRpb246Mn0pLEptKFt2YigpXSx0LnByb3RvdHlwZSwiaXNBY3RpdmUiLHZvaWQgMCksSm0oW3ZiKCldLHQucHJvdG90eXBlLCJjaGFydExpbmUiLHZvaWQgMCksdH0pKCksZ0M9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMubmdab25lPXQsdGhpcy5jaGFuZ2VEZXRlY3Rvcj1lLHRoaXMuY2lyY3VsYXJDbGljaz1uZXcgQWMsdGhpcy5jaXJjdWxhckhvdmVyPW5ldyBBYyx0aGlzLmNhbkRpc3BsYXlMYWJlbHM9ITEsdGhpcy5zZXJpZXNMYWJlbHM9W10sdGhpcy5zaG93TGFiZWxzPSExfXNldCBvcHRpb25zKHQpe2lzTmFOKG51bGw9PXQ/dm9pZCAwOnQuaW5uZXJSYWRpdXMpfHwodGhpcy5fb3B0aW9ucz10LHRoaXMuaW5uZXJSYWRpdXM9TWF0aC5taW4oTWF0aC5tYXgodGhpcy5fb3B0aW9ucy5pbm5lclJhZGl1cywwKSwxMDApKX1nZXQgb3B0aW9ucygpe3JldHVybiB0aGlzLl9vcHRpb25zfXNldCBzZXJpZXModCl7dGhpcy5fc2VyaWVzPXQsdGhpcy5hbmltYXRlPSEwfWdldCBzZXJpZXMoKXtyZXR1cm4gdGhpcy5fc2VyaWVzfW9uU2VyaWVDbGljayh0KXt0aGlzLmNpcmN1bGFyQ2xpY2suZW1pdCh0KX1vblNlcmllSG92ZXIodCl7dGhpcy5jaXJjdWxhckhvdmVyLmVtaXQodCl9Y2FsY3VsYXRlQW5nbGUodCxlKXtyZXR1cm4gdC9lKigyKk1hdGguUEkpfWRyYXdTZXJpZXModD1bXSxlKXt0aGlzLnNlcmllc0xpc3Q9W10sdGhpcy5zaG93TGFiZWxzPSExLHRoaXMudG90YWxWYWx1ZT10aGlzLmNhbGN1bGF0ZVRvdGFsVmFsdWUodCksdGhpcy50b3RhbFZhbHVlJiZ0aGlzLnRvdGFsVmFsdWU+MCYmKHRoaXMuc2VyaWVzTGlzdD10aGlzLnZhbGlkYXRlU2VyaWVzKHQpLHRoaXMuY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpLHRoaXMuc2VyaWVzTGlzdC5sZW5ndGgmJnRoaXMuc3ZnUGF0aHMmJnRoaXMuaW5pdERyYXdQYXRocyh0aGlzLnNlcmllc0xpc3QsdGhpcy50b3RhbFZhbHVlLGUpKX1jYWxjdWxhdGVUb3RhbFZhbHVlKHQpe3JldHVybiB0LnJlZHVjZSgodCxlKT0+e2NvbnN0IG49ZS5kYXRhP2UuZGF0YTplLnZhbHVlO3JldHVybiB0KyhuPjA/bjowKX0sMCl9Y2FsY3VsYXRlU2VyaWVDb29yZGluYXRlcyh0LGUsbil7bGV0IHIscz1MYjt0LmZvckVhY2goKHQsaSk9PntyPXMscz1yK3RoaXMuY2FsY3VsYXRlQW5nbGUodC5kYXRhLGUpLUJiO2NvbnN0IG89dGhpcy5jYWxjdWxhdGVDb29yZGluYXRlcyhuLHIscyk7dGhpcy5zdmdQYXRocy50b0FycmF5KClbaV0uYXBwbHlDb29yZGluYXRlcyhvKSx0aGlzLnNob3dMYWJlbHM9dGhpcy5jYW5EaXNwbGF5TGFiZWxzfSl9Y2FsY3VsYXRlQ29vcmRpbmF0ZXNXaXRoQW5pbWF0aW9uKHQsZSxuLHIscyxpPTAsbz0wKXtjb25zdCBhPWk+cztpZihvPT09dC5sZW5ndGgpdGhpcy5hbmltYXRlPSExO2Vsc2V7aWYoYSl0aGlzLnNldFNlcmllTGFiZWxDb29yZGluYXRlcyhvKSxpPTAscis9cyxzPSsrbzx0Lmxlbmd0aD90aGlzLmNhbGN1bGF0ZUFuZ2xlKHRbb10uZGF0YSxlKTp2b2lkIDA7ZWxzZXtjb25zdCB0PXRoaXMuY2FsY3VsYXRlQ3VycmVudEVuZEFuZ2xlKGkrPWpiLHIscyksZT10aGlzLmNhbGN1bGF0ZUNvb3JkaW5hdGVzKG4scix0KTt0aGlzLnN2Z1BhdGhzLnRvQXJyYXkoKVtvXS5hcHBseUNvb3JkaW5hdGVzKGUpfXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5jYWxjdWxhdGVDb29yZGluYXRlc1dpdGhBbmltYXRpb24uYmluZCh0aGlzLHQsZSxuLHIscyxpLG8pKX19Y2FsY3VsYXRlQ3VycmVudEVuZEFuZ2xlKHQsZSxuKXtyZXR1cm4gZSt0PmUrbj9lK24tQmI6ZSt0fWluaXREcmF3UGF0aHModCxlLG4pe2lmKHRoaXMuYW5pbWF0ZSl7Y29uc3Qgcj1MYixzPXRoaXMuY2FsY3VsYXRlQW5nbGUodFswXS5kYXRhLGUpO3RoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT50aGlzLmNhbGN1bGF0ZUNvb3JkaW5hdGVzV2l0aEFuaW1hdGlvbih0LGUsbixyLHMpKX1lbHNlIHRoaXMuY2FsY3VsYXRlU2VyaWVDb29yZGluYXRlcyh0LGUsbil9c2V0U2VyaWVMYWJlbENvb3JkaW5hdGVzKHQpe3RoaXMuc3ZnTGFiZWxzLnRvQXJyYXkoKS5sZW5ndGgmJnRoaXMuc3ZnTGFiZWxzLnRvQXJyYXkoKVt0XS5hcHBseUNvb3JkaW5hdGVzKHRoaXMuc2VyaWVzTGFiZWxzW3RdKX12YWxpZGF0ZVNlcmllcyh0KXtyZXR1cm4gdC5yZWR1Y2UoKHQsZSk9Pnt2YXIgbjtjb25zdCByPW51bGwhPT0obj1lLmRhdGEpJiZ2b2lkIDAhPT1uP246ZS52YWx1ZTtpZihyJiZyPjApe2NvbnN0IG49ZS5jb2xvcixzPWUubGFiZWwsaT10aGlzLmdldFRvb2x0aXBMYWJlbChyLHMsZS50b29sdGlwKTt0PVsuLi50LHtkYXRhOnIsY29sb3I6bixsYWJlbDpzLHRvb2x0aXBMYWJlbDppfV19cmV0dXJuIHR9LFtdKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoZ28ocGwpLGdvKEthKSl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiYoSGMoZ3YsNSksSGMobXYsNSkpLDImdCl7bGV0IHQ7TmModD1WYygpKSYmKGUuc3ZnUGF0aHM9dCksTmModD1WYygpKSYmKGUuc3ZnTGFiZWxzPXQpfX0saW5wdXRzOntvcHRpb25zOlsicC1vcHRpb25zIiwib3B0aW9ucyJdLHNlcmllczpbInAtc2VyaWVzIiwic2VyaWVzIl0sY29udGFpbmVyU2l6ZTpbInAtY29udGFpbmVyLXNpemUiLCJjb250YWluZXJTaXplIl19LG91dHB1dHM6e2NpcmN1bGFyQ2xpY2s6InAtY2lyY3VsYXItY2xpY2siLGNpcmN1bGFySG92ZXI6InAtY2lyY3VsYXItaG92ZXIifX0pLHR9KSgpLG1DPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBnQ3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSl9bmdPbkNoYW5nZXModCl7KHQuc2VyaWVzfHx0LmNvbnRhaW5lclNpemUpJiZ0aGlzLmRyYXdTZXJpZXModGhpcy5zZXJpZXMsdGhpcy5jb250YWluZXJTaXplLnN2Z0hlaWdodCl9Y2FsY3VsYXRlQ29vcmRpbmF0ZXModCxlLG4pe2NvbnN0IHI9dC8yLHM9TWF0aC5zaW4oZSksaT1NYXRoLmNvcyhlKSxvPU1hdGguc2luKG4pLGE9TWF0aC5jb3Mobik7cmV0dXJuWyJNIixyK2kqcixyK3MqciwiQSIscixyLDAsbi1lPk1hdGguUEk/IjEsMSI6IjAsMSIscithKnIscitvKnIsIkwiLHIsciwiWiJdLmpvaW4oIiAiKX1nZXRUb29sdGlwTGFiZWwodCxlLG4pe2NvbnN0IHI9ZT9gJHtlfTogYDoiIixzPXQudG9TdHJpbmcoKTtyZXR1cm4gbnx8YCR7cn0ke3N9YH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoZ28ocGwpLGdvKEthKSl9LHQuXHUwMjc1Y21wPXp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsInBvLWNoYXJ0LXBpZSIsIiJdXSxmZWF0dXJlczpbSmksY2VdLGF0dHJzOnl2LGRlY2xzOjMsdmFyczoyLGNvbnN0czpbWzQsIm5nRm9yIiwibmdGb3JPZiJdLFs0LCJuZ0lmIl0sWyJwby1jaGFydC1jaXJjdWxhci1wYXRoIiwiIiwzLCJwLXNlcmllIiwicC1vbi1jbGljayIsInAtb24taG92ZXIiXSxbInN2Z1BhdGhzIiwiIl0sWyJwby1jaGFydC1jaXJjdWxhci1sYWJlbCIsIiIsMywicC1zZXJpZSIsInAtc2hvdy1sYWJlbCJdLFsic3ZnTGFiZWxzIiwiIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYob24oKSx2bygwLCJnIikscG8oMSx2diwzLDIsImciLDApLHBvKDIsQ3YsMiwxLCJnIiwxKSxibygpKSwyJnQmJih6cygxKSxtbygibmdGb3JPZiIsZS5zZXJpZXNMaXN0KSx6cygxKSxtbygibmdJZiIsZS5jYW5EaXNwbGF5TGFiZWxzKSl9LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5bZWgscmgsYkMsdkNdfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSx5Qz0oKCk9PntjbGFzcyB0IGV4dGVuZHMgZ0N7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLHRoaXMucG9DaGFydEJsYWNrQ29sb3I9IiMwMDAwMDAiLHRoaXMucG9DaGFydFdoaXRlQ29sb3I9IiNmZmZmZmYifW5nT25DaGFuZ2VzKHQpeyh0LnNlcmllc3x8dC5jb250YWluZXJTaXplfHx0Lm9wdGlvbnMpJiYodGhpcy5kcmF3U2VyaWVzKHRoaXMuc2VyaWVzLHRoaXMuY29udGFpbmVyU2l6ZS5zdmdIZWlnaHQpLHRoaXMuYXBwbHlTZXJpZXNMYWJlbHModGhpcy5zZXJpZXNMaXN0LHRoaXMuY29udGFpbmVyU2l6ZS5zdmdIZWlnaHQpKX1jYWxjdWxhdGVDb29yZGluYXRlcyh0LGUsbil7Y29uc3Qgcj10LzIscz10aGlzLmdldElubmVyUmFkaXVzKHIpLGk9TWF0aC5zaW4oZSksbz1NYXRoLmNvcyhlKSxhPU1hdGguc2luKG4pLGM9TWF0aC5jb3MobiksbD1yK28qcix1PXIraSpyLGg9citjKnIsZD1yK2EqcixwPXIrbypzLGY9citpKnMsZz1yK2MqcyxtPXIrYSpzLHk9bi1lPk1hdGguUEk7cmV0dXJuIHRoaXMudmVyaWZ5RGlzcGxheUxhYmVscyhyLHMpLFsiTSIsbCx1LCJBIixyLHIsMCx5PyIxLDEiOiIwLDEiLGgsZCwiTCIsZyxtLCJBIixzLHMsMCx5PyIxLDAiOiIwLDAiLHAsZiwiWiJdLmpvaW4oIiAiKX1nZXRUb29sdGlwTGFiZWwodCxlLG4pe2NvbnN0IHI9ZT9gJHtlfTogYDoiIixzPXRoaXMuZ2V0UGVyY2VudFZhbHVlKHQsdGhpcy50b3RhbFZhbHVlKSsiJSI7cmV0dXJuIG58fGAke3J9JHtzfWB9YXBwbHlTZXJpZXNMYWJlbHModCxlKXtsZXQgbj1MYixyPUxiO3RoaXMuc2VyaWVzTGFiZWxzPXQubWFwKHQ9PntuPXIscj1uK3RoaXMuY2FsY3VsYXRlQW5nbGUodC5kYXRhLHRoaXMudG90YWxWYWx1ZSk7Y29uc3Qgcz10aGlzLmdldFBlcmNlbnRWYWx1ZSh0LmRhdGEsdGhpcy50b3RhbFZhbHVlKSsiJSAiLGk9dGhpcy5nZXRUZXh0Q29sb3IodC5jb2xvciksbz10aGlzLmNhbGN1bGF0ZUxhYmVsQ29vcmRpbmF0ZXMoZSxuLHIpO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbykse2xhYmVsOnMsY29sb3I6aX0pfSl9Y2FsY3VsYXRlTGFiZWxDb29yZGluYXRlcyh0LGUsbil7Y29uc3Qgcj10LzIscz10aGlzLmdldElubmVyUmFkaXVzKHIpLGk9KGUrbikvMixvPXMrKHItcykvMjtyZXR1cm57eENvb3JkaW5hdGU6bypNYXRoLmNvcyhpKStyLHlDb29yZGluYXRlOm8qTWF0aC5zaW4oaSkrcn19Z2V0SW5uZXJSYWRpdXModCl7cmV0dXJuIHRoaXMuaW5uZXJSYWRpdXM+PTA/dGhpcy5pbm5lclJhZGl1cy8xMDAqdDp0LTQwfWdldFBlcmNlbnRWYWx1ZSh0LGUpe2NvbnN0IG49ZWIodC9lKjEwMCwyKTtyZXR1cm4gU3RyaW5nKG4pLnJlcGxhY2UoIi4iLCIsIil9Z2V0VGV4dENvbG9yKHQpe3JldHVybiBYYi5pbmNsdWRlcyh0KT90aGlzLnBvQ2hhcnRCbGFja0NvbG9yOnRoaXMucG9DaGFydFdoaXRlQ29sb3J9dmVyaWZ5RGlzcGxheUxhYmVscyh0LGUpe3RoaXMuY2FuRGlzcGxheUxhYmVscz10LWU+PXQtKHQtNDApfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyhwbCksZ28oS2EpKX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwicG8tY2hhcnQtZG9udXQiLCIiXV0sZmVhdHVyZXM6W0ppLGNlXSxhdHRyczp3dixkZWNsczozLHZhcnM6Mixjb25zdHM6W1s0LCJuZ0ZvciIsIm5nRm9yT2YiXSxbNCwibmdJZiJdLFsicG8tY2hhcnQtY2lyY3VsYXItcGF0aCIsIiIsMywicC1zZXJpZSIsInAtb24tY2xpY2siLCJwLW9uLWhvdmVyIl0sWyJzdmdQYXRocyIsIiJdLFsicG8tY2hhcnQtY2lyY3VsYXItbGFiZWwiLCIiLDMsInAtc2VyaWUiLCJwLXNob3ctbGFiZWwiXSxbInN2Z0xhYmVscyIsIiJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKG9uKCksdm8oMCwiZyIpLHBvKDEsX3YsMywyLCJnIiwwKSxwbygyLEV2LDIsMSwiZyIsMSksYm8oKSksMiZ0JiYoenMoMSksbW8oIm5nRm9yT2YiLGUuc2VyaWVzTGlzdCksenMoMSksbW8oIm5nSWYiLGUuY2FuRGlzcGxheUxhYmVscykpfSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW2VoLHJoLGJDLHZDXX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksdkM9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuY2hhbmdlRGV0ZWN0aW9uPXQsdGhpcy5yZW5kZXJlcj1lfWFwcGx5Q29vcmRpbmF0ZXModCl7dGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodGhpcy5zdmdMYWJlbC5uYXRpdmVFbGVtZW50LCJ4Iix0LnhDb29yZGluYXRlLnRvU3RyaW5nKCkpLHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHRoaXMuc3ZnTGFiZWwubmF0aXZlRWxlbWVudCwieSIsdC55Q29vcmRpbmF0ZS50b1N0cmluZygpKSx0aGlzLnNob3dMYWJlbD0hMCx0aGlzLmNoYW5nZURldGVjdGlvbi5kZXRlY3RDaGFuZ2VzKCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGdvKEthKSxnbyhrYSkpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyIiLCJwby1jaGFydC1jaXJjdWxhci1sYWJlbCIsIiJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJkhjKFN2LDUseGEpLDImdCl7bGV0IHQ7TmModD1WYygpKSYmKGUuc3ZnTGFiZWw9dC5maXJzdCl9fSxpbnB1dHM6e3Nob3dMYWJlbDpbInAtc2hvdy1sYWJlbCIsInNob3dMYWJlbCJdLHNlcmllOlsicC1zZXJpZSIsInNlcmllIl19LGF0dHJzOnh2LGRlY2xzOjMsdmFyczo2LGNvbnN0czpbWyJkb21pbmFudC1iYXNlbGluZSIsIm1pZGRsZSIsMSwicG8tY2hhcnQtbGFiZWwiXSxbInN2Z0xhYmVsIiwiIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYob24oKSx2bygwLCJ0ZXh0IiwwLDEpLEpvKDIpLGJvKCkpLDImdCYmKEhvKCJwby1pbnZpc2libGUiLCFlLnNob3dMYWJlbCksdW8oImZpbGwiLG51bGw9PWUuc2VyaWU/bnVsbDplLnNlcmllLmNvbG9yKSgieCIsbnVsbD09ZS5zZXJpZT9udWxsOmUuc2VyaWUueENvb3JkaW5hdGUpKCJ5IixudWxsPT1lLnNlcmllP251bGw6ZS5zZXJpZS55Q29vcmRpbmF0ZSksenMoMiksZWEoIiAiLG51bGw9PWUuc2VyaWU/bnVsbDplLnNlcmllLmxhYmVsLCJcbiIpKX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksYkM9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnJlbmRlcmVyPXQsdGhpcy5vbkNsaWNrPW5ldyBBYyx0aGlzLm9uSG92ZXI9bmV3IEFjfWFwcGx5Q29vcmRpbmF0ZXModCl7dGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodGhpcy5zdmdQYXRoLm5hdGl2ZUVsZW1lbnQsImQiLHQpfW9uTW91c2VDbGljaygpe2NvbnN0e2xhYmVsOnQsZGF0YTplfT10aGlzLnNlcmllO3RoaXMub25DbGljay5lbWl0KHtsYWJlbDp0LGRhdGE6ZX0pfW9uTW91c2VFbnRlcigpe2NvbnN0e2xhYmVsOnQsZGF0YTplfT10aGlzLnNlcmllO3RoaXMub25Ib3Zlci5lbWl0KHtsYWJlbDp0LGRhdGE6ZX0pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyhrYSkpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyIiLCJwby1jaGFydC1jaXJjdWxhci1wYXRoIiwiIl1dLHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmSGMoQXYsNSx4YSksMiZ0KXtsZXQgdDtOYyh0PVZjKCkpJiYoZS5zdmdQYXRoPXQuZmlyc3QpfX0saW5wdXRzOntzZXJpZTpbInAtc2VyaWUiLCJzZXJpZSJdfSxvdXRwdXRzOntvbkNsaWNrOiJwLW9uLWNsaWNrIixvbkhvdmVyOiJwLW9uLWhvdmVyIn0sYXR0cnM6VHYsZGVjbHM6Mix2YXJzOjQsY29uc3RzOltbMSwicG8tcGF0aC1pdGVtIiwzLCJwLWNoYXJ0LXRvb2x0aXAiLCJjbGljayIsIm1vdXNlZW50ZXIiXSxbInN2Z1BhdGgiLCIiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihvbigpLHZvKDAsInBhdGgiLDAsMSkseG8oImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBlLm9uTW91c2VDbGljaygpfSkoIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25Nb3VzZUVudGVyKCl9KSxibygpKSwyJnQmJihWbyhudWxsIT1lLnNlcmllJiZlLnNlcmllLmNvbG9yLmluY2x1ZGVzKCJwby1jb2xvciIpP2Uuc2VyaWUuY29sb3I6IiIpLG1vKCJwLWNoYXJ0LXRvb2x0aXAiLG51bGw9PWUuc2VyaWU/bnVsbDplLnNlcmllLnRvb2x0aXBMYWJlbCksdW8oImZpbGwiLG51bGw9PWUuc2VyaWU/bnVsbDplLnNlcmllLmNvbG9yKSl9LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5bQ0NdfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxDQz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5lbGVtZW50UmVmPXQsdGhpcy5yZW5kZXJlcj1lfW9uTW91c2VFbnRlcih0KXt0aGlzLnRvb2x0aXBFbGVtZW50P3RoaXMuc2hvd1Rvb2x0aXAoKTp0aGlzLmNyZWF0ZVRvb2x0aXAoKSx0aGlzLnRvb2x0aXBQb3NpdGlvbih0KSx0aGlzLmxhc3RUb29sdGlwVGV4dD10aGlzLnRvb2x0aXB9b25Nb3VzZUxlYXZlKCl7dGhpcy5oaWRlVG9vbHRpcCgpfW9uTW91c2VNb3ZlKHQpe3RoaXMudG9vbHRpcFBvc2l0aW9uKHQpfWNhbGN1bGF0ZVRvb2x0aXBQb3NpdGlvbih0KXtyZXR1cm57bGVmdDp0LmNsaWVudFgtdGhpcy50b29sdGlwRWxlbWVudC5vZmZzZXRXaWR0aC8yLHRvcDp0LmNsaWVudFktdGhpcy50b29sdGlwRWxlbWVudC5vZmZzZXRIZWlnaHQtMTJ9fWNyZWF0ZVRvb2x0aXAoKXtjb25zdCB0PXRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmNsb3Nlc3QoIi5wby1jaGFydC13cmFwcGVyIik7dGhpcy50b29sdGlwRWxlbWVudD10aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy50b29sdGlwRWxlbWVudCwicG8tY2hhcnQtdG9vbHRpcCIpLHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy50b29sdGlwRWxlbWVudCwicG8tdG9vbHRpcCIpO2NvbnN0IGU9dGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLnJlbmRlcmVyLmFkZENsYXNzKGUsInBvLXRvb2x0aXAtYXJyb3ciKSx0aGlzLnJlbmRlcmVyLmFkZENsYXNzKGUsInBvLWFycm93LWJvdHRvbSIpLHRoaXMudG9vbHRpcFRleHQ9dGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KCJwIiksdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLnRvb2x0aXBUZXh0LCJwby10b29sdGlwLWNvbnRlbnQiKSx0aGlzLnRvb2x0aXBUZXh0Q29udGVudD10aGlzLnJlbmRlcmVyLmNyZWF0ZVRleHQodGhpcy50b29sdGlwKSx0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMudG9vbHRpcFRleHQsdGhpcy50b29sdGlwVGV4dENvbnRlbnQpLHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwRWxlbWVudCxlKSx0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMudG9vbHRpcEVsZW1lbnQsdGhpcy50b29sdGlwVGV4dCksdGhpcy5yZW5kZXJlci5hcHBlbmRDaGlsZCh0LHRoaXMudG9vbHRpcEVsZW1lbnQpfWhpZGVUb29sdGlwKCl7dGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLnRvb2x0aXBFbGVtZW50LCJwby1pbnZpc2libGUiKX1zaG93VG9vbHRpcCgpe3RoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy50b29sdGlwRWxlbWVudCwicG8taW52aXNpYmxlIiksdGhpcy51cGRhdGV0b29sdGlwVGV4dENvbnRlbnQoKX10b29sdGlwUG9zaXRpb24odCl7Y29uc3QgZT10aGlzLmNhbGN1bGF0ZVRvb2x0aXBQb3NpdGlvbih0KTt0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMudG9vbHRpcEVsZW1lbnQsImxlZnQiLGAke2UubGVmdH1weGApLHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy50b29sdGlwRWxlbWVudCwidG9wIixgJHtlLnRvcH1weGApfXVwZGF0ZXRvb2x0aXBUZXh0Q29udGVudCgpe3RoaXMubGFzdFRvb2x0aXBUZXh0IT09dGhpcy50b29sdGlwJiYodGhpcy5yZW5kZXJlci5yZW1vdmVDaGlsZCh0aGlzLnRvb2x0aXBUZXh0LHRoaXMudG9vbHRpcFRleHRDb250ZW50KSx0aGlzLnRvb2x0aXBUZXh0Q29udGVudD10aGlzLnJlbmRlcmVyLmNyZWF0ZVRleHQodGhpcy50b29sdGlwKSx0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMudG9vbHRpcFRleHQsdGhpcy50b29sdGlwVGV4dENvbnRlbnQpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoZ28oeGEpLGdvKGthKSl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsInAtY2hhcnQtdG9vbHRpcCIsIiJdXSxob3N0QmluZGluZ3M6ZnVuY3Rpb24odCxlKXsxJnQmJnhvKCJtb3VzZWVudGVyIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbk1vdXNlRW50ZXIodCl9KSgibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vbk1vdXNlTGVhdmUoKX0pKCJtb3VzZW1vdmUiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VNb3ZlKHQpfSl9LGlucHV0czp7dG9vbHRpcDpbInAtY2hhcnQtdG9vbHRpcCIsInRvb2x0aXAiXX19KSx0fSkoKSx3Qz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuZWxlbWVudFJlZj10LHRoaXMucmVzaXplPW5ldyBBYyx0aGlzLnN1YnNjcmlwdGlvbj1uZXcgaCx0aGlzLmNoYXJ0V2lkdGhSZXNpemUkPW5ldyBEfW5nT25EZXN0cm95KCl7dGhpcy5pc1Jlc2l6ZU9ic2VydmVyU3VwcG9ydGVkJiYodGhpcy5vYnNlcnZlci51bm9ic2VydmUodGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpLHRoaXMuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCkpfW5nT25Jbml0KCl7dGhpcy5pc1Jlc2l6ZU9ic2VydmVyU3VwcG9ydGVkJiYodGhpcy5vYnNlcnZlcj1uZXcgd2luZG93LlJlc2l6ZU9ic2VydmVyKCgpPT57dGhpcy5jaGFydFdpZHRoUmVzaXplJC5uZXh0KCl9KSx0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpLHRoaXMuc3Vic2NyaXB0aW9uLmFkZCh0aGlzLmNoYXJ0V2lkdGhSZXNpemUkLnBpcGUocnkoMjApKS5zdWJzY3JpYmUodD0+e3RoaXMucmVzaXplLmVtaXQoKX0pKSl9Z2V0IGlzUmVzaXplT2JzZXJ2ZXJTdXBwb3J0ZWQoKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygd2luZG93LlJlc2l6ZU9ic2VydmVyfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyh4YSkpfSx0Llx1MDI3NWRpcj1YdCh7dHlwZTp0LHNlbGVjdG9yczpbWyIiLCJwLXJlc2l6ZS1vYnNlcnZlciIsIiJdXSxvdXRwdXRzOntyZXNpemU6InAtcmVzaXplLW9ic2VydmVyIn19KSx0fSkoKSxfQz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbd2gsa2JdXX0pLHR9KSgpLERDPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t3aF1dfSksdH0pKCksRUM9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3doXV19KSx0fSkoKSxTQz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbd2gsRUNdXX0pLHR9KSgpLHhDPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t3aF1dfSksdH0pKCksQUM9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1t3aCxhYl1dfSksdH0pKCksVEM9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3doLEFDXV19KSx0fSkoKSxrQz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbd2hdXX0pLHR9KSgpLEZDPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t3aCxueSxrQ11dfSksdH0pKCksSUM9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3doXV19KSx0fSkoKSxPQz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbd2gsbnksa0MsSUMsUGJdXX0pLHR9KSgpO2NvbnN0IFBDPXtlbjp7Y2xvc2U6IkNsb3NlIn0sZXM6e2Nsb3NlOiJDZXJyYXIifSxwdDp7Y2xvc2U6IkZlY2hhciJ9LHJ1OntjbG9zZToiXHUwNDMxXHUwNDNiXHUwNDM4XHUwNDM3XHUwNDNhXHUwNDNlIn19O2xldCBSQz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuaXNIaWRkZW49ITAsdGhpcy5vblhDbG9zZWQ9bmV3IEFjLHRoaXMuX2hpZGVDbG9zZT0hMSx0aGlzLl9zaXplPSJtZCIsdGhpcy5jbGlja091dD0hMSx0aGlzLmxhbmd1YWdlPXQuZ2V0U2hvcnRMYW5ndWFnZSgpLHRoaXMubGl0ZXJhbHM9T2JqZWN0LmFzc2lnbih7fSxQQ1t0aGlzLmxhbmd1YWdlXSl9c2V0IHNpemUodCl7dGhpcy5fc2l6ZT1bInNtIiwibWQiLCJsZyIsInhsIiwiYXV0byJdLmluZGV4T2YodCk+LTE/dDoibWQifWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX3NpemV9c2V0IHNldENsaWNrT3V0KHQpe3RoaXMuY2xpY2tPdXQ9IiIhPT10JiZLdih0KX1zZXQgaGlkZUNsb3NlKHQpe3RoaXMuX2hpZGVDbG9zZT1Ldih0KX1nZXQgaGlkZUNsb3NlKCl7cmV0dXJuIHRoaXMuX2hpZGVDbG9zZX1jbG9zZSh0PSExKXt0aGlzLmlzSGlkZGVuPSEwLHQmJnRoaXMub25YQ2xvc2VkLmVtaXQodCl9b3Blbigpe3RoaXMudmFsaWRQcmltYXJ5QWN0aW9uKCksdGhpcy5pc0hpZGRlbj0hMX12YWxpZFByaW1hcnlBY3Rpb24oKXt0aGlzLnByaW1hcnlBY3Rpb258fCh0aGlzLnByaW1hcnlBY3Rpb249e2FjdGlvbjooKT0+dGhpcy5jbG9zZSgpLGxhYmVsOnRoaXMubGl0ZXJhbHMuY2xvc2V9KSx0aGlzLnByaW1hcnlBY3Rpb24uYWN0aW9ufHwodGhpcy5wcmltYXJ5QWN0aW9uLmFjdGlvbj0oKT0+dGhpcy5jbG9zZSgpKSx0aGlzLnByaW1hcnlBY3Rpb24ubGFiZWx8fCh0aGlzLnByaW1hcnlBY3Rpb24ubGFiZWw9dGhpcy5saXRlcmFscy5jbG9zZSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGdvKHNiKSl9LHQuXHUwMjc1ZGlyPVh0KHt0eXBlOnQsaW5wdXRzOntzaXplOlsicC1zaXplIiwic2l6ZSJdLHNldENsaWNrT3V0OlsicC1jbGljay1vdXQiLCJzZXRDbGlja091dCJdLGhpZGVDbG9zZTpbInAtaGlkZS1jbG9zZSIsImhpZGVDbG9zZSJdLHByaW1hcnlBY3Rpb246WyJwLXByaW1hcnktYWN0aW9uIiwicHJpbWFyeUFjdGlvbiJdLHRpdGxlOlsicC10aXRsZSIsInRpdGxlIl0sc2Vjb25kYXJ5QWN0aW9uOlsicC1zZWNvbmRhcnktYWN0aW9uIiwic2Vjb25kYXJ5QWN0aW9uIl19fSksdH0pKCksTEM9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuYWN0aXZlT3ZlcmxheT1bXX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgdH0sdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpLEJDPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBSQ3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGUpLHRoaXMucG9BY3RpdmVPdmVybGF5U2VydmljZT10LHRoaXMuZm9jdXNhYmxlRWxlbWVudHM9ImlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCBhIix0aGlzLmlkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3JldHVybiBNYXRoLmZsb29yKDY1NTM2KigxK01hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpfXJldHVybiB0KCkrdCgpKyItIit0KCkrIi0iK3QoKSsiLSIrdCgpKyItIit0KCkrdCgpK3QoKX0oKX1jbG9zZSh0PSExKXt0aGlzLnBvQWN0aXZlT3ZlcmxheVNlcnZpY2UuYWN0aXZlT3ZlcmxheS5wb3AoKSxzdXBlci5jbG9zZSh0KSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCksdGhpcy5zb3VyY2VFbGVtZW50JiZ0aGlzLnNvdXJjZUVsZW1lbnQuZm9jdXMoKX1jbG9zZU1vZGFsT25Fc2NhcGVLZXkodCl7dGhpcy5oaWRlQ2xvc2V8fCh0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLmNsb3NlKCkpfWdldFByaW1hcnlBY3Rpb25CdXR0b25UeXBlKCl7cmV0dXJuIHRoaXMucHJpbWFyeUFjdGlvbi5kYW5nZXI/ImRhbmdlciI6InByaW1hcnkifWdldFNlY29uZGFyeUFjdGlvbkJ1dHRvblR5cGUoKXtyZXR1cm4gdGhpcy5zZWNvbmRhcnlBY3Rpb24mJnRoaXMuc2Vjb25kYXJ5QWN0aW9uLmRhbmdlciYmIXRoaXMucHJpbWFyeUFjdGlvbi5kYW5nZXI/ImRhbmdlciI6ImRlZmF1bHQifW9uQ2xpY2tPdXQodCl7dGhpcy5jbGlja091dCYmIXRoaXMubW9kYWxDb250ZW50Lm5hdGl2ZUVsZW1lbnQuY29udGFpbnModC50YXJnZXQpJiZ0aGlzLmNsb3NlKCl9b3Blbigpe3RoaXMuc291cmNlRWxlbWVudD1kb2N1bWVudC5hY3RpdmVFbGVtZW50LHN1cGVyLm9wZW4oKSx0aGlzLmhhbmRsZUZvY3VzKCl9aGFuZGxlRm9jdXMoKXt0aGlzLnBvQWN0aXZlT3ZlcmxheVNlcnZpY2UuYWN0aXZlT3ZlcmxheS5wdXNoKHRoaXMuaWQpLHNldFRpbWVvdXQoKCk9Pnt0aGlzLm1vZGFsQ29udGVudCYmKHRoaXMuaW5pdEZvY3VzKCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuZm9jdXNGdW5jdGlvbiwhMCkpfSl9aW5pdEZvY3VzKCl7dGhpcy5mb2N1c0Z1bmN0aW9uPXQ9Pnt0aGlzLm1vZGFsQ29udGVudC5uYXRpdmVFbGVtZW50LmNvbnRhaW5zKHQudGFyZ2V0KXx8dGhpcy5wb0FjdGl2ZU92ZXJsYXlTZXJ2aWNlLmFjdGl2ZU92ZXJsYXlbdGhpcy5wb0FjdGl2ZU92ZXJsYXlTZXJ2aWNlLmFjdGl2ZU92ZXJsYXkubGVuZ3RoLTFdIT09dGhpcy5pZHx8KHQuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5maXJzdEVsZW1lbnQuZm9jdXMoKSl9LHRoaXMuc2V0Rmlyc3RFbGVtZW50KCksdGhpcy5oaWRlQ2xvc2U/dGhpcy5maXJzdEVsZW1lbnQuZm9jdXMoKToodGhpcy5tb2RhbENvbnRlbnQubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuZm9jdXNhYmxlRWxlbWVudHMpWzFdfHx0aGlzLm1vZGFsQ29udGVudC5uYXRpdmVFbGVtZW50KS5mb2N1cygpfXJlbW92ZUV2ZW50TGlzdGVuZXJzKCl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuZm9jdXNGdW5jdGlvbiwhMCl9c2V0Rmlyc3RFbGVtZW50KCl7dGhpcy5maXJzdEVsZW1lbnQ9dGhpcy5tb2RhbENvbnRlbnQubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuZm9jdXNhYmxlRWxlbWVudHMpfHx0aGlzLm1vZGFsQ29udGVudC5uYXRpdmVFbGVtZW50fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyhMQyksZ28oc2IpKX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tbW9kYWwiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZIYyhrdiw1LHhhKSwyJnQpe2xldCB0O05jKHQ9VmMoKSkmJihlLm1vZGFsQ29udGVudD10LmZpcnN0KX19LGZlYXR1cmVzOltKaV0sbmdDb250ZW50U2VsZWN0b3JzOmR5LGRlY2xzOjEsdmFyczoxLGNvbnN0czpbWyJjbGFzcyIsInBvLW1vZGFsIiwidGFiaW5kZXgiLCIwIiwzLCJrZXlkb3duLmVzYyIsNCwibmdJZiJdLFsidGFiaW5kZXgiLCIwIiwxLCJwby1tb2RhbCIsMywia2V5ZG93bi5lc2MiXSxbMSwicG8tbW9kYWwtb3ZlcmxheSJdLFsxLCJwby1tb2RhbC1jb250YWluZXIiLCJwby1wYi0yIiwicG8tcHQtMiIsMywibW91c2Vkb3duIl0sWzEsInBvLW1vZGFsLXZlcnRpY2FsLWFsaWduIl0sWyJ0YWJpbmRleCIsIi0xIl0sWyJtb2RhbENvbnRlbnQiLCIiXSxbMSwicG8tbW9kYWwtaGVhZGVyIl0sWzEsInBvLW1vZGFsLXRpdGxlIiwicG8tdGV4dC1lbGxpcHNpcyJdLFsiY2xhc3MiLCJwby1tb2RhbC1oZWFkZXItY2xvc2UtYnV0dG9uIiwidGFiaW5kZXgiLCIwIiwzLCJjbGljayIsNCwibmdJZiJdLFsxLCJwby1tb2RhbC1ib2R5Il0sWzEsInBvLW1vZGFsLWZvb3RlciJdLFszLCJwLWRpc2FibGVkIiwicC1sYWJlbCIsInAtbG9hZGluZyIsInAtdHlwZSIsInAtY2xpY2siLDQsIm5nSWYiXSxbMSwicG8tYnV0dG9uLW1vZGFsLWZpcnN0LWFjdGlvbiIsMywicC1kaXNhYmxlZCIsInAtbGFiZWwiLCJwLWxvYWRpbmciLCJwLXR5cGUiLCJwLWNsaWNrIl0sWyJ0YWJpbmRleCIsIjAiLDEsInBvLW1vZGFsLWhlYWRlci1jbG9zZS1idXR0b24iLDMsImNsaWNrIl0sWzEsInBvLWljb24iLCJwby1pY29uLWNsb3NlIl0sWzMsInAtZGlzYWJsZWQiLCJwLWxhYmVsIiwicC1sb2FkaW5nIiwicC10eXBlIiwicC1jbGljayJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKElvKCkscG8oMCxPdiwxNSwxMCwiZGl2IiwwKSksMiZ0JiZtbygibmdJZiIsIWUuaXNIaWRkZW4pfSxkaXJlY3RpdmVzOltyaCx3Yl0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksakM9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3doLF9iXV19KSx0fSkoKSxNQz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbd2hdXX0pLHR9KSgpLE5DPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbTENdfSksdH0pKCksSEM9KCgpPT57Y2xhc3MgdHtnZXRDb2xvcih0KXtyZXR1cm4gT2JqZWN0LnZhbHVlcyhZYikuaW5jbHVkZXModC5jb2xvcik/dC5jb2xvcjp0aGlzLmdldENvbG9yRnJvbVR5cGUodC50eXBlfHx0LmNvbG9yKX1nZXRDb2xvckZyb21UeXBlKHQpe3N3aXRjaCh0KXtjYXNlImRhbmdlciI6cmV0dXJuIFliLkNvbG9yMDc7Y2FzZSJzdWNjZXNzIjpyZXR1cm4gWWIuQ29sb3IxMTtjYXNlIndhcm5pbmciOnJldHVybiBZYi5Db2xvcjA4O2RlZmF1bHQ6cmV0dXJuIFliLkNvbG9yMDF9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxWQz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W0hDXX0pLHR9KSgpLHpDPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMuY29tcG9uZW50UmVzb2x2ZXI9dCx0aGlzLmFwcGxpY2F0aW9uUmVmPWUsdGhpcy5pbmplY3Rvcj1ufWNyZWF0ZUNvbXBvbmVudEluQXBwbGljYXRpb24odCl7Y29uc3QgZT10aGlzLmNvbXBvbmVudFJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHQpLmNyZWF0ZSh0aGlzLmluamVjdG9yKTtyZXR1cm4gdGhpcy5hcHBsaWNhdGlvblJlZi5hdHRhY2hWaWV3KGUuaG9zdFZpZXcpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZS5ob3N0Vmlldy5yb290Tm9kZXNbMF0pLGV9ZGVzdHJveUNvbXBvbmVudEluQXBwbGljYXRpb24odCl7dGhpcy5hcHBsaWNhdGlvblJlZi5kZXRhY2hWaWV3KHQuaG9zdFZpZXcpLHQuZGVzdHJveSgpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh1cihfYSksdXIoUGwpLHVyKFFpKSl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgdCh1cihfYSksdXIoUGwpLHVyKEJpKSl9LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKSwkQz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W3pDXSxpbXBvcnRzOltbXV19KSx0fSkoKSxVQz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W3hiXX0pLHR9KSgpO3ZhciBXQz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkFsZXJ0PTBdPSJBbGVydCIsdFt0LkNvbmZpcm09MV09IkNvbmZpcm0iLHR9KHt9KTtjb25zdCBHQz17ZW46e29rOiJPayJ9LGVzOntvazoiT2sifSxwdDp7b2s6Ik9rIn0scnU6e29rOiJcdTA0MWVcdTA0M2EifX0scUM9e2VuOntjYW5jZWw6IkNhbmNlbCIsY29uZmlybToiQ29uZmlybSJ9LGVzOntjYW5jZWw6IkNhbmNlbGFyIixjb25maXJtOiJDb25maXJtYXIifSxwdDp7Y2FuY2VsOiJDYW5jZWxhciIsY29uZmlybToiQ29uZmlybWFyIn0scnU6e2NhbmNlbDoiXHUwNDNlXHUwNDQyXHUwNDNjXHUwNDM1XHUwNDNkXHUwNDM4XHUwNDQyXHUwNDRjIixjb25maXJtOiJcdTA0M2ZcdTA0M2VcdTA0MzRcdTA0NDJcdTA0MzJcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzhcdTA0NDJcdTA0NGMifX07bGV0IFhDPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5wcmltYXJ5QWN0aW9uPXtsYWJlbDoib2siLGFjdGlvbjooKT0+e319LHRoaXMubGFuZ3VhZ2U9dC5nZXRTaG9ydExhbmd1YWdlKCl9bmdPbkRlc3Ryb3koKXt0aGlzLmNsb3NlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCl9bmdPbkluaXQoKXt0aGlzLmNsb3NlU3Vic2NyaXB0aW9uPXRoaXMucG9Nb2RhbC5vblhDbG9zZWQuc3Vic2NyaWJlKHQ9PnRoaXMuY2xvc2UoITApKX1jbG9zZSh0PSExKXt0JiZ0aGlzLmNsb3NlQWN0aW9uJiZ0aGlzLmNsb3NlQWN0aW9uKCksdGhpcy5wb01vZGFsLmNsb3NlKCksdGhpcy5kZXN0cm95KCl9ZGVzdHJveSgpe3RoaXMuY29tcG9uZW50UmVmJiZ0aGlzLmNvbXBvbmVudFJlZi5kZXN0cm95KCl9Y29uZmlnRGlhbG9nKHQsZSxuLHIscyl7dGhpcy5wcmltYXJ5QWN0aW9uPXtsYWJlbDp0LGFjdGlvbjooKT0+e2UmJmUoKSx0aGlzLmNsb3NlKCl9fSxuJiYodGhpcy5zZWNvbmRhcnlBY3Rpb249e2xhYmVsOm4sYWN0aW9uOigpPT57ciYmcigpLHRoaXMuY2xvc2UoKX19KSx0aGlzLmNsb3NlQWN0aW9uPXN9b3Blbih0LGUsbil7c3dpdGNoKHRoaXMudGl0bGU9dC50aXRsZSx0aGlzLm1lc3NhZ2U9dC5tZXNzYWdlLHRoaXMuY29tcG9uZW50UmVmPW4sdGhpcy5zZXREaWFsb2dMaXRlcmFscyh0LGUpLGUpe2Nhc2UgV0MuQ29uZmlybTp0aGlzLmNvbmZpZ0RpYWxvZyh0aGlzLmxpdGVyYWxzQ29uZmlybS5jb25maXJtLHQuY29uZmlybSx0aGlzLmxpdGVyYWxzQ29uZmlybS5jYW5jZWwsdC5jYW5jZWwsdC5jbG9zZSk7YnJlYWs7Y2FzZSBXQy5BbGVydDp0aGlzLmNvbmZpZ0RpYWxvZyh0aGlzLmxpdGVyYWxzQWxlcnQub2ssdC5vayl9dGhpcy5wb01vZGFsLm9wZW4oKX1zZXREaWFsb2dMaXRlcmFscyh0LGUpe2NvbnN0IG49R0Mscj1xQyxzPXQubGl0ZXJhbHM7ZT09PVdDLkFsZXJ0P3RoaXMubGl0ZXJhbHNBbGVydD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuLnB0KSxuW3RoaXMubGFuZ3VhZ2VdKSxzKTp0aGlzLmxpdGVyYWxzQ29uZmlybT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyLnB0KSxyW3RoaXMubGFuZ3VhZ2VdKSxzKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoZ28oc2IpKX0sdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1sibmctY29tcG9uZW50Il1dLHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmSGMoQkMsNyksMiZ0KXtsZXQgdDtOYyh0PVZjKCkpJiYoZS5wb01vZGFsPXQuZmlyc3QpfX0sZGVjbHM6Mix2YXJzOjQsY29uc3RzOltbMywicC10aXRsZSIsInAtcHJpbWFyeS1hY3Rpb24iLCJwLXNlY29uZGFyeS1hY3Rpb24iXSxbMywiaW5uZXJIdG1sIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYodm8oMCwicG8tbW9kYWwiLDApLENvKDEsImRpdiIsMSksYm8oKSksMiZ0JiYobW8oInAtdGl0bGUiLGUudGl0bGUpKCJwLXByaW1hcnktYWN0aW9uIixlLnByaW1hcnlBY3Rpb24pKCJwLXNlY29uZGFyeS1hY3Rpb24iLGUuc2Vjb25kYXJ5QWN0aW9uKSx6cygxKSxtbygiaW5uZXJIdG1sIixlLm1lc3NhZ2UsV3IpKX0sZGlyZWN0aXZlczpbQkNdLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLFlDPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBjbGFzc3tjb25maXJtKHQpe3RoaXMub3BlbkRpYWxvZyhXQy5Db25maXJtLHQpfWFsZXJ0KHQpe3RoaXMub3BlbkRpYWxvZyhXQy5BbGVydCx0KX19e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5wb0NvbXBvbmVudEluamVjdG9yPXR9b3BlbkRpYWxvZyh0LGUpe2NvbnN0IG49dGhpcy5wb0NvbXBvbmVudEluamVjdG9yLmNyZWF0ZUNvbXBvbmVudEluQXBwbGljYXRpb24oWEMpO24uY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpLG4uaW5zdGFuY2Uub3BlbihlLHQsbil9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHVyKHpDKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksWkM9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltZQ10saW1wb3J0czpbW2pDXV19KSx0fSkoKTt2YXIgUUM9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5Cb3R0b209MF09IkJvdHRvbSIsdFt0LlRvcD0xXT0iVG9wIix0fSh7fSksS0M9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5FcnJvcj0wXT0iRXJyb3IiLHRbdC5JbmZvcm1hdGlvbj0xXT0iSW5mb3JtYXRpb24iLHRbdC5TdWNjZXNzPTJdPSJTdWNjZXNzIix0W3QuV2FybmluZz0zXT0iV2FybmluZyIsdH0oe30pO2xldCBKQz0oKCk9PntjbGFzcyB0IGV4dGVuZHMgY2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLm9yaWVudGF0aW9uPVFDLkJvdHRvbX19e2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKCksdGhpcy5jaGFuZ2VEZXRlY3Rvcj1lLHRoaXMuZWxlbWVudGVSZWY9bix0aGlzLnJlbmRlcmVyPXIsdGhpcy5hbGl2ZT0hMCx0aGlzLm1hcmdpbj0yMCx0aGlzLm9ic2VydmFibGVPbkNsb3NlPW5ldyBELHRoaXMudG9hc3RlclBvc2l0aW9uPSJwby10b2FzdGVyLWJvdHRvbSJ9bmdPbkRlc3Ryb3koKXt0aGlzLmFsaXZlPSExfW5nQWZ0ZXJWaWV3SW5pdCgpe3NldFRpbWVvdXQoKCk9PnRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy50b2FzdGVyLm5hdGl2ZUVsZW1lbnQsInBvLXRvYXN0ZXItdmlzaWJsZSIpKX1jaGFuZ2VQb3NpdGlvbih0KXt0aGlzLmVsZW1lbnRlUmVmLm5hdGl2ZUVsZW1lbnQuc3R5bGUuZGlzcGxheT0idGFibGUiLHRoaXMubWFyZ2luPTYrNDQqdCs2KnQsdGhpcy5vcmllbnRhdGlvbj09PVFDLlRvcD90aGlzLnRvYXN0ZXIubmF0aXZlRWxlbWVudC5zdHlsZS50b3A9dGhpcy5tYXJnaW4rInB4Ijp0aGlzLnRvYXN0ZXIubmF0aXZlRWxlbWVudC5zdHlsZS5ib3R0b209dGhpcy5tYXJnaW4rInB4In1jbG9zZSgpe3RoaXMub2JzZXJ2YWJsZU9uQ2xvc2UubmV4dCghMCl9c2V0RmFkZU91dCgpe3RoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy50b2FzdGVyLm5hdGl2ZUVsZW1lbnQsInBvLXRvYXN0ZXItdmlzaWJsZSIpLHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy50b2FzdGVyLm5hdGl2ZUVsZW1lbnQsInBvLXRvYXN0ZXItaW52aXNpYmxlIil9Y29uZmlnVG9hc3Rlcih0KXtzd2l0Y2godGhpcy50eXBlPXQudHlwZSx0aGlzLm1lc3NhZ2U9dC5tZXNzYWdlLHRoaXMub3JpZW50YXRpb249dC5vcmllbnRhdGlvbix0aGlzLnBvc2l0aW9uPXQucG9zaXRpb24sdGhpcy5hY3Rpb249dC5hY3Rpb24sdGhpcy5hY3Rpb25MYWJlbD10LmFjdGlvbkxhYmVsLHRoaXMuY29tcG9uZW50UmVmPXQuY29tcG9uZW50UmVmLHRoaXMub3JpZW50YXRpb249PT1RQy5Ub3AmJih0aGlzLnRvYXN0ZXJQb3NpdGlvbj0icG8tdG9hc3Rlci10b3AiKSx0aGlzLmNoYW5nZVBvc2l0aW9uKHRoaXMucG9zaXRpb24pLHRoaXMudHlwZSl7Y2FzZSBLQy5FcnJvcjp0aGlzLnRvYXN0ZXJUeXBlPSJwby10b2FzdGVyLWVycm9yIix0aGlzLmljb249InBvLWljb24td2FybmluZyI7YnJlYWs7Y2FzZSBLQy5JbmZvcm1hdGlvbjp0aGlzLnRvYXN0ZXJUeXBlPSJwby10b2FzdGVyLWluZm8iLHRoaXMuaWNvbj0icG8taWNvbi1pbmZvIjticmVhaztjYXNlIEtDLlN1Y2Nlc3M6dGhpcy50b2FzdGVyVHlwZT0icG8tdG9hc3Rlci1zdWNjZXNzIix0aGlzLmljb249InBvLWljb24tb2siO2JyZWFrO2Nhc2UgS0MuV2FybmluZzp0aGlzLnRvYXN0ZXJUeXBlPSJwby10b2FzdGVyLXdhcm5pbmciLHRoaXMuaWNvbj0icG8taWNvbi13YXJuaW5nIn10aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKX1nZXRJY29uKCl7cmV0dXJuIHRoaXMuaWNvbn1nZXRUb2FzdGVyUG9zaXRpb24oKXtyZXR1cm4gdGhpcy50b2FzdGVyUG9zaXRpb259Z2V0VG9hc3RlclR5cGUoKXtyZXR1cm4gdGhpcy50b2FzdGVyVHlwZX1vbkJ1dHRvbkNsb3NlKHQpe3QucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuYWN0aW9uJiYhdGhpcy5hY3Rpb25MYWJlbD90aGlzLnBvVG9hc3RlckFjdGlvbih0KTp0aGlzLmNsb3NlKCl9cG9Ub2FzdGVyQWN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuYWN0aW9uKHRoaXMpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyhzYiksZ28oS2EpLGdvKHhhKSxnbyhrYSkpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby10b2FzdGVyIl1dLHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmSGMoUHYsNSksMiZ0KXtsZXQgdDtOYyh0PVZjKCkpJiYoZS50b2FzdGVyPXQuZmlyc3QpfX0sZmVhdHVyZXM6W0ppXSxkZWNsczo5LHZhcnM6OSxjb25zdHM6W1szLCJjbGljayJdLFsidG9hc3RlciIsIiJdLFsxLCJwby10b2FzdGVyLWljb24iXSxbMSwicG8tdG9hc3Rlci1tZXNzYWdlIl0sWyJjbGFzcyIsInBvLXRvYXN0ZXItYWN0aW9uIiwzLCJjbGljayIsNCwibmdJZiJdLFsxLCJwby10b2FzdGVyLWNsb3NlIiwzLCJjbGljayJdLFsxLCJwby1pY29uIiwicG8taWNvbi1jbG9zZSJdLFsxLCJwby10b2FzdGVyLWFjdGlvbiIsMywiY2xpY2siXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbixyOzEmdCYmKHZvKDAsImRpdiIsMCwxKSx4bygiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIGUuY2xvc2UoKX0pLHZvKDIsImRpdiIsMiksQ28oMywic3BhbiIpLGJvKCksdm8oNCwiZGl2IiwzKSxKbyg1KSxibygpLHBvKDYsUnYsMiwxLCJkaXYiLDQpLHZvKDcsImJ1dHRvbiIsNSkseG8oImNsaWNrIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbkJ1dHRvbkNsb3NlKHQpfSksQ28oOCwic3BhbiIsNiksYm8oKSxibygpKSwyJnQmJigicG8tdG9hc3RlciAiLG49ZS5nZXRUb2FzdGVyVHlwZSgpLCIgIixyPWUuZ2V0VG9hc3RlclBvc2l0aW9uKCksIiBwby1jbGlja2FibGUiLFVvKHRyLHpvLGZ1bmN0aW9uKHQsZSxuLHIscyxpKXtjb25zdCBvPWZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9bG8odCxlLG4pO3JldHVybiBsbyh0LGUrMSxyKXx8c30odCxWZSgpLG4scyk7cmV0dXJuICRlKDIpLG8/ZStjdChuKStyK2N0KHMpK2k6VnN9KEllKCksInBvLXRvYXN0ZXIgIixuLCIgIixyLCIgcG8tY2xpY2thYmxlIiksITApLHpzKDMpLG5hKCJwby1pY29uICIsZS5nZXRJY29uKCksIiIpLHpzKDIpLHRhKGUubWVzc2FnZSksenMoMSksbW8oIm5nSWYiLGUuYWN0aW9uJiZlLmFjdGlvbkxhYmVsKSl9LGRpcmVjdGl2ZXM6W3JoXSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSx0dz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW3doXV19KSx0fSkoKSxldz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW05DLFZDLCRDLFVDLE9iLFpDLGZiLHR3XSxOQyxWQywkQyxVQyxPYixaQyx0d119KSx0fSkoKSxudz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbd2hdXX0pLHR9KSgpLHJ3PSgoKT0+e2NsYXNzIHR7dHJhbnNmb3JtKHQsZSl7aWYoSnYodCwic3RyaW5nIikmJi9eKChbMC0xXVswLTldKXwoMlswLTNdKSk6WzAtNV1bMC05XTpbMC01XVswLTldW1wuXT8oWzAtOV17MSw2fSk/JC9nLnRlc3QodCkpe2NvbnN0IG49ZT9lLmxhc3RJbmRleE9mKCJmIiktZS5pbmRleE9mKCJmIikrMTowLHI9dGhpcy5hZGREb3RNaWxpc2Vjb25kcyh0LnN1YnN0cmluZyg5LDkrbiksbikscz10aGlzLmdldEZvcm1hdE1pbGlzZWNvbmRzKG4pO3JldHVybiB0aGlzLmZvcm1hdFZhbHVlKHQsZSxzLHIpfXJldHVybiBudWxsfWFkZERvdE1pbGlzZWNvbmRzKHQsZSl7cmV0dXJuIHQmJmUmJih0PSIuIit0KSx0fWZvcm1hdFZhbHVlKHQsZSxuLHIpe2lmKHQmJmUpe2NvbnN0IHM9dC5zdWJzdHJpbmcoMCwyKSxpPXQuc3Vic3RyaW5nKDMsNSksbz10LnN1YnN0cmluZyg2LDgpO3JldHVybihlPShlPShlPWUucmVwbGFjZSgiSEgiLHMpKS5yZXBsYWNlKCJtbSIsaSkpLnJlcGxhY2UoInNzIixvKSkucmVwbGFjZShgLiR7bn1gLHIpfXJldHVybiB0fWdldEZvcm1hdE1pbGlzZWNvbmRzKHQpe2xldCBlPSIiO2ZvcihsZXQgbj0wO248dDtuKyspZSs9ImYiO3JldHVybiBlfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwaXBlPVl0KHtuYW1lOiJwb190aW1lIix0eXBlOnQscHVyZTohMH0pLHR9KSgpLHN3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbXV19KSx0fSkoKSxpdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W3loXSxpbXBvcnRzOltbd2gsbnksaG0sX2IsRkMsREMsZ2IsakMsbncsQUMsc3csa2IsYWJdXX0pLHR9KSgpO2NsYXNzIG93e2NvbnN0cnVjdG9yKHQpe3RoaXMuaHR0cD10fWV4ZWN1dGUodCxlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/dGhpcy5wb3N0KHQsZSk6aGQodChlKSl9cG9zdCh0LGUpe3JldHVybiB0aGlzLmh0dHAucG9zdCh0LGUpfXNldEZvcm1EZWZhdWx0SWZFbXB0eSh0KXtyZXR1cm4gdHx8e3ZhbHVlOnt9LGZpZWxkczpbXSxmb2N1czp2b2lkIDB9fX1sZXQgYXc9KCgpPT57Y2xhc3MgdCBleHRlbmRzIG93e2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWNyZWF0ZUFuZFVwZGF0ZUZpZWxkc0Zvcm0odD1bXSxlPVtdKXtyZXR1cm5bLi4udF0ucmVkdWNlKCh0LG4pPT57Y29uc3Qgcj10LmZpbmRJbmRleCh0PT50LnByb3BlcnR5PT09bi5wcm9wZXJ0eSk7cmV0dXJuIHI+PTA/dFtyXT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZVtyXSksbik6dC5wdXNoKG4pLHR9LFsuLi5lXSl9ZXhlY3V0ZUxvYWQodCxlKXtyZXR1cm4gdGhpcy5leGVjdXRlKHQsZSkucGlwZSh4KHQ9PnRoaXMuc2V0Rm9ybURlZmF1bHRJZkVtcHR5KHQpKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHVyKE1tKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksY3c9KCgpPT57Y2xhc3MgdCBleHRlbmRzIG93e2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfXNlbmRGaWVsZENoYW5nZSh0LGUpe3JldHVybiB0aGlzLmV4ZWN1dGUodC52YWxpZGF0ZSx7cHJvcGVydHk6dC5wcm9wZXJ0eSx2YWx1ZTplfSkucGlwZSh4KHQ9PnRoaXMuc2V0RmllbGREZWZhdWx0SWZFbXB0eSh0KSkpfXNlbmRGb3JtQ2hhbmdlKHQsZSxuKXtyZXR1cm4gdGhpcy5leGVjdXRlKHQse3Byb3BlcnR5OmUucHJvcGVydHksdmFsdWU6bn0pLnBpcGUoeCh0PT50aGlzLnNldEZvcm1EZWZhdWx0SWZFbXB0eSh0KSkpfXVwZGF0ZUZpZWxkc0Zvcm0odD1bXSxlPVtdKXtyZXR1cm5bLi4udF0ucmVkdWNlKCh0LG4pPT57Y29uc3Qgcj10LmZpbmRJbmRleCh0PT50LnByb3BlcnR5PT09bi5wcm9wZXJ0eSk7cmV0dXJuIHI+PTAmJih0W3JdPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlW3JdKSxuKSksdH0sWy4uLmVdKX1zZXRGaWVsZERlZmF1bHRJZkVtcHR5KHQpe3JldHVybiB0fHx7ZmllbGQ6e319fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh1cihNbSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLGx3PSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBjbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuc3RhY2tUb3A9W10sdGhpcy5zdGFja0JvdHRvbT1bXSx0aGlzLmRlZmF1bHREdXJhdGlvbj0xZTR9c3VjY2Vzcyh0KXt0aGlzLmNyZWF0ZVRvYXN0ZXIodGhpcy5idWlsZFRvYXN0ZXIodCxLQy5TdWNjZXNzKSl9d2FybmluZyh0KXt0aGlzLmNyZWF0ZVRvYXN0ZXIodGhpcy5idWlsZFRvYXN0ZXIodCxLQy5XYXJuaW5nKSl9ZXJyb3IodCl7dGhpcy5jcmVhdGVUb2FzdGVyKHRoaXMuYnVpbGRUb2FzdGVyKHQsS0MuRXJyb3IpKX1pbmZvcm1hdGlvbih0KXt0aGlzLmNyZWF0ZVRvYXN0ZXIodGhpcy5idWlsZFRvYXN0ZXIodCxLQy5JbmZvcm1hdGlvbikpfXNldERlZmF1bHREdXJhdGlvbih0KXt0aGlzLmRlZmF1bHREdXJhdGlvbj10fWJ1aWxkVG9hc3Rlcih0LGUpe2xldCBuLHI9MDt2b2lkIDA9PT10Lm9yaWVudGF0aW9ufHx0Lm9yaWVudGF0aW9uPT09UUMuQm90dG9tPyhyPXRoaXMuc3RhY2tCb3R0b20ubGVuZ3RoLG49UUMuQm90dG9tKToocj10aGlzLnN0YWNrVG9wLmxlbmd0aCxuPVFDLlRvcCk7Y29uc3Qgcz17Y29tcG9uZW50UmVmOnZvaWQgMCxtZXNzYWdlOnQubWVzc2FnZXx8dCx0eXBlOmUsb3JpZW50YXRpb246bixhY3Rpb246dC5hY3Rpb24sYWN0aW9uTGFiZWw6dC5hY3Rpb25MYWJlbCxwb3NpdGlvbjpyLGR1cmF0aW9uOnQuZHVyYXRpb258fHRoaXMuZGVmYXVsdER1cmF0aW9ufTtyZXR1cm4gdC5hY3Rpb24mJihzLmFjdGlvbj1lPT57dC5hY3Rpb24oKSx0aGlzLmRlc3Ryb3lUb2FzdGVyKGUuY29tcG9uZW50UmVmKX0pLHN9fXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMucG9Db21wb25lbnRJbmplY3Rvcj10fWNyZWF0ZVRvYXN0ZXIodCl7Y29uc3QgZT10aGlzLnBvQ29tcG9uZW50SW5qZWN0b3IuY3JlYXRlQ29tcG9uZW50SW5BcHBsaWNhdGlvbihKQyk7dC5jb21wb25lbnRSZWY9ZSxlLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKSxlLmluc3RhbmNlLmNvbmZpZ1RvYXN0ZXIodCk7Y29uc3Qgbj10Lm9yaWVudGF0aW9uPT09UUMuVG9wP3RoaXMuc3RhY2tUb3A6dGhpcy5zdGFja0JvdHRvbTtuLnB1c2goZSksdGhpcy52ZXJpZnlMaW1pdFRvYXN0ZXIobiksdGhpcy5vYnNlcnZhYmxlT25DbG9zZShlKSx0LmFjdGlvbiYmdC5hY3Rpb25MYWJlbHx8T2QodC5kdXJhdGlvbikucGlwZShmdW5jdGlvbih0LGU9ITEpe3JldHVybiBuPT5uLmxpZnQobmV3IGx5KHQsZSkpfSgoKT0+ZS5pbnN0YW5jZS5hbGl2ZSkpLnN1YnNjcmliZSgoKT0+e3RoaXMuZGVzdHJveVRvYXN0ZXIoZSl9KX1kZXN0cm95VG9hc3Rlcih0KXtsZXQgZTtlPXQuaW5zdGFuY2Uub3JpZW50YXRpb249PT1RQy5Ub3A/dGhpcy5zdGFja1RvcDp0aGlzLnN0YWNrQm90dG9tLHQuaW5zdGFuY2Uuc2V0RmFkZU91dCgpO2NvbnN0IG49ZS5pbmRleE9mKHQpO2Uuc3BsaWNlKG4sMSksc2V0VGltZW91dCgoKT0+e3RoaXMucG9Db21wb25lbnRJbmplY3Rvci5kZXN0cm95Q29tcG9uZW50SW5BcHBsaWNhdGlvbih0KTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdLmluc3RhbmNlLmNoYW5nZVBvc2l0aW9uKHQpfSwyMDApfW9ic2VydmFibGVPbkNsb3NlKHQpe3QuaW5zdGFuY2Uub2JzZXJ2YWJsZU9uQ2xvc2Uuc3Vic2NyaWJlKCgpPT57dGhpcy5kZXN0cm95VG9hc3Rlcih0KX0pfXZlcmlmeUxpbWl0VG9hc3Rlcih0KXt0Lmxlbmd0aD41JiZ0aGlzLmRlc3Ryb3lUb2FzdGVyKHRbMF0pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh1cih6QykpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodXIoekMpKX0sdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpLHV3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbd2gsbnksUW0sRmIsX2IsSUMsUGIsRkMsREMsT0MsU0MsRUMsa0MsZ2IsakMsTUMsZXcsaXcsa2IsYWJdLEZDLElDLE9DLGtDXX0pLHR9KSgpLGh3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbd2gsaG1dXX0pLHR9KSgpO3ZhciBkdz1mdW5jdGlvbih0KXtyZXR1cm4gdC5Ib3Jpem9udGFsPSJob3Jpem9udGFsIix0LlZlcnRpY2FsPSJ2ZXJ0aWNhbCIsdH0oe30pLHB3PWZ1bmN0aW9uKHQpe3JldHVybiB0LkRhbmdlcj0iZGFuZ2VyIix0LkluZm89ImluZm8iLHQuU3VjY2Vzcz0ic3VjY2VzcyIsdC5XYXJuaW5nPSJ3YXJuaW5nIix0fSh7fSk7Y29uc3QgZnc9T2JqZWN0LnZhbHVlcyhZYiksZ3c9ZHcuVmVydGljYWw7bGV0IG13PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmNsaWNrPW5ldyBBYyx0aGlzLnBvVGFnT3JpZW50YXRpb249ZHcsdGhpcy5fb3JpZW50YXRpb249Z3d9c2V0IGNvbG9yKHQpe3RoaXMuX2NvbG9yPWZ3LmluY2x1ZGVzKHQpP3Q6dm9pZCAwfWdldCBjb2xvcigpe3JldHVybiB0aGlzLl9jb2xvcn1zZXQgaWNvbih0KXt0aGlzLl9pY29uPXRoaXMudHlwZT9Ldih0KTp0fWdldCBpY29uKCl7cmV0dXJuIHRoaXMuX2ljb259c2V0IGludmVyc2UodCl7dGhpcy5faW52ZXJzZT1Ldih0KX1nZXQgaW52ZXJzZSgpe3JldHVybiB0aGlzLl9pbnZlcnNlfXNldCBvcmllbnRhdGlvbih0KXt0aGlzLl9vcmllbnRhdGlvbj1PYmplY3QudmFsdWVzKGR3KS5pbmNsdWRlcyh0KT90Omd3fWdldCBvcmllbnRhdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnRhdGlvbn1zZXQgdHlwZSh0KXt0aGlzLl90eXBlPU9iamVjdC52YWx1ZXMocHcpLmluY2x1ZGVzKHQpP3Q6dm9pZCAwfWdldCB0eXBlKCl7cmV0dXJuIHRoaXMuX3R5cGV9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWRpcj1YdCh7dHlwZTp0LGlucHV0czp7Y29sb3I6WyJwLWNvbG9yIiwiY29sb3IiXSxpY29uOlsicC1pY29uIiwiaWNvbiJdLGludmVyc2U6WyJwLWludmVyc2UiLCJpbnZlcnNlIl0sb3JpZW50YXRpb246WyJwLW9yaWVudGF0aW9uIiwib3JpZW50YXRpb24iXSx0eXBlOlsicC10eXBlIiwidHlwZSJdLGxhYmVsOlsicC1sYWJlbCIsImxhYmVsIl0sdmFsdWU6WyJwLXZhbHVlIiwidmFsdWUiXX0sb3V0cHV0czp7Y2xpY2s6InAtY2xpY2sifX0pLHR9KSgpO3ZhciB5dz1mdW5jdGlvbih0KXtyZXR1cm4gdC5EYW5nZXI9InBvLWljb24tY2xvc2UiLHQuSW5mbz0icG8taWNvbi1pbmZvIix0LlN1Y2Nlc3M9InBvLWljb24tb2siLHQuV2FybmluZz0icG8taWNvbi13YXJuaW5nIix0fSh7fSk7Y29uc3Qgdnc9InBvLXRhZy0iK3B3LkluZm87bGV0IGJ3PSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBtd3tuZ09uSW5pdCgpe3RoaXMuaXNDbGlja2FibGU9dGhpcy5jbGljay5vYnNlcnZlcnMubGVuZ3RoPjB9Z2V0IGljb25Gcm9tVHlwZSgpe3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgcHcuRGFuZ2VyOnJldHVybiB5dy5EYW5nZXI7Y2FzZSBwdy5JbmZvOnJldHVybiB5dy5JbmZvO2Nhc2UgcHcuU3VjY2VzczpyZXR1cm4geXcuU3VjY2VzcztjYXNlIHB3Lldhcm5pbmc6cmV0dXJuIHl3Lldhcm5pbmd9fWdldCB0YWdDb2xvcigpe3JldHVybiB0aGlzLnR5cGU/dGhpcy5pbnZlcnNlP2Bwby10YWctJHt0aGlzLnR5cGV9LWludmVyc2VgOmBwby10YWctJHt0aGlzLnR5cGV9YDp0aGlzLmNvbG9yP3RoaXMuaW52ZXJzZT9gcG8tdGV4dC0ke3RoaXMuY29sb3J9YDpgcG8tJHt0aGlzLmNvbG9yfWA6dGhpcy5pbnZlcnNlP2Ake3Z3fS1pbnZlcnNlYDp2d31nZXQgdGFnT3JpZW50YXRpb24oKXtyZXR1cm4gdGhpcy5vcmllbnRhdGlvbj09PXRoaXMucG9UYWdPcmllbnRhdGlvbi5Ib3Jpem9udGFsfW9uQ2xpY2soKXt0aGlzLmNsaWNrLmVtaXQoe3ZhbHVlOnRoaXMudmFsdWUsdHlwZTp0aGlzLnR5cGV9KX1vbktleVByZXNzZWQodCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5vbkNsaWNrKCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbigpe2xldCBlO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oZXx8KGU9em4odCkpKShufHx0KX19KCksdC5cdTAyNzVjbXA9enQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tdGFnIl1dLGZlYXR1cmVzOltKaV0sZGVjbHM6Nyx2YXJzOjEwLGNvbnN0czpbWzEsInBvLXRhZy1jb250YWluZXIiXSxbImNsYXNzIiwicG8tdGFnLXRpdGxlIHBvLXRleHQtbm93cmFwIiw0LCJuZ0lmIl0sWzEsInBvLXRhZy1zdWItY29udGFpbmVyIl0sWyJ0YWJpbmRleCIsIjAiLDEsInBvLXRhZyIsMywibmdDbGFzcyIsImNsaWNrIiwia2V5ZG93bi5lbnRlciIsImtleWRvd24uc3BhY2UiLCJrZXl1cC5zcGFjZSJdLFsiY2xhc3MiLCJwby10YWctaWNvbiIsMywicC1pY29uIiw0LCJuZ0lmIl0sWzEsInBvLXRhZy12YWx1ZSJdLFsxLCJwby10YWctdGl0bGUiLCJwby10ZXh0LW5vd3JhcCJdLFsxLCJwby10YWctbGFiZWwiXSxbMSwicG8tdGFnLWljb24iLDMsInAtaWNvbiJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKHZvKDAsImRpdiIsMCkscG8oMSxMdiwzLDEsImRpdiIsMSksdm8oMiwiZGl2IiwyKSx2bygzLCJkaXYiLDMpLHhvKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vbkNsaWNrKCl9KSgia2V5ZG93bi5lbnRlciIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25LZXlQcmVzc2VkKHQpfSkoImtleWRvd24uc3BhY2UiLGZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCl9KSgia2V5dXAuc3BhY2UiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uS2V5UHJlc3NlZCh0KX0pLHBvKDQsQnYsMSwxLCJwby1pY29uIiw0KSx2byg1LCJzcGFuIiw1KSxKbyg2KSxibygpLGJvKCksYm8oKSxibygpKSwyJnQmJihIbygicG8tdGFnLWNvbnRhaW5lci1ob3Jpem9udGFsIixlLnRhZ09yaWVudGF0aW9uKSx6cygxKSxtbygibmdJZiIsZS5sYWJlbCksenMoMiksSG8oInBvLWNsaWNrYWJsZSIsZS5pc0NsaWNrYWJsZSkoInBvLXRhZy1pbnZlcnNlIixlLmludmVyc2UpLG1vKCJuZ0NsYXNzIixlLnRhZ0NvbG9yKSx6cygxKSxtbygibmdJZiIsZS5pY29uKSx6cygyKSx0YShlLnZhbHVlKSl9LGRpcmVjdGl2ZXM6W3JoLEp1LG9iXSxlbmNhcHN1bGF0aW9uOjIsY2hhbmdlRGV0ZWN0aW9uOjB9KSx0fSkoKSxDdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW3doLGFiXV19KSx0fSkoKSx3dz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuaHR0cD10fW9uTG9hZCh0LGUpe3JldHVybiB0aGlzLmh0dHAucG9zdCh0LGUpLnRvUHJvbWlzZSgpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh1cihNbSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLF93PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbdmgsbWgseWgscncsZ2gsYXcsY3csd3ddLGltcG9ydHM6W1t3aCxueSx4Qyxodyx1dyxDdyxzd11dfSksdH0pKCk7TWF0aDtsZXQgRHc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3doLGtiXV19KSx0fSkoKSxFdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbd2gsbnksdXddXX0pLHR9KSgpLFN3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbd2gsaG0sX2IsQUNdXX0pLHR9KSgpLHh3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t3aF1dfSksdH0pKCksQXc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3doLGhtLHh3LHV3LGdiLGFiXV19KSx0fSkoKSxUdz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5zdWJqZWN0Q2hpbGQ9bmV3IEQsdGhpcy5zdWJqZWN0UGFyZW50PW5ldyBEfXJlY2VpdmVGcm9tQ2hpbGRNZW51Q2xpY2tlZCgpe3JldHVybiB0aGlzLnN1YmplY3RDaGlsZC5hc09ic2VydmFibGUoKX1yZWNlaXZlRnJvbVBhcmVudE1lbnVDbGlja2VkKCl7cmV0dXJuIHRoaXMuc3ViamVjdFBhcmVudC5hc09ic2VydmFibGUoKX1zZW5kVG9QYXJlbnRNZW51Q2xpY2tlZCh0KXt0aGlzLnN1YmplY3RDaGlsZC5uZXh0KHQpfXNlbmRUb0NoaWxkTWVudUNsaWNrZWQodCl7dGhpcy5zdWJqZWN0UGFyZW50Lm5leHQodCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLGt3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbVHddLGltcG9ydHM6W1t3aCxobSx1dyxrYl1dfSksdH0pKCksRnc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3doLEFDLGtiLGFiXV19KSx0fSkoKSxJdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbd2gsaG1dXX0pLHR9KSgpLE93PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t3aCxobV1dfSksdH0pKCksUHc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3doLEZ3LEl3LE93LEF3LGFiXV19KSx0fSkoKSxSdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbd2gsbnksaG0saWIsX2IsU0MsVEMsdXcsZmIsakNdXX0pLHR9KSgpLEx3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbd2gsaG0sRENdXX0pLHR9KSgpLEJ3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t3aF1dfSksdH0pKCksanc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3doLG53XV19KSx0fSkoKSxNdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW3doLFd2LEFDLGFiXV19KSx0fSkoKSxOdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9R3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbd2gsbnksREMsdXddXX0pLHR9KSgpLEh3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t3aCxEQ11dfSksdH0pKCksVnc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tVdixXdixpYixfYixGYixQYixfQyxEQyxTQyxFQyx4QyxUQyxfdyx1dyxEdyxFdyxhYixodyxTdyxnYixBdyxrdyxqQyxQdyxSdyxudyxBQyxNQyxMdyxCdyxpdyxqdyxDdyxNdyxOdyxId10sVXYsV3YsaWIsX2IsRmIsUGIsX0MsREMsU0MsRUMseEMsVEMsX3csdXcsRHcsRXcsYWIsaHcsU3csZ2IsQXcsa3csakMsUHcsUncsbncsQUMsTUMsTHcsQncsaXcsancsQ3csTXcsTncsSHddfSksdH0pKCksenc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1trYl0sa2JdfSksdH0pKCksJHc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tdXX0pLHR9KSgpO2NvbnN0IFV3PXtlbjp7Y2xvc2VCdXR0b246IkNsb3NlIixkZXRhaWxzOiJEZXRhaWxzIixkZXRhaWw6IkRldGFpbCIsZXJyb3I6IkVycm9yIix3YXJuaW5nOiJXYXJuaW5nIixpbmZvcm1hdGlvbjoiSW5mb3JtYXRpb24iLHN1Y2Nlc3M6IlN1Y2Nlc3MifSxlczp7Y2xvc2VCdXR0b246IkNlcnJhciIsZGV0YWlsczoiRGV0YWxsZXMiLGRldGFpbDoiRGV0YWxsZSIsZXJyb3I6IkVycm9yIix3YXJuaW5nOiJBZHZlcnRlbmNpYSIsaW5mb3JtYXRpb246IkluZm9ybWFjaW9uIixzdWNjZXNzOiJceGM5eGl0byJ9LHB0OntjbG9zZUJ1dHRvbjoiRmVjaGFyIixkZXRhaWxzOiJEZXRhbGhlcyIsZGV0YWlsOiJEZXRhbGhlIixlcnJvcjoiRXJybyIsd2FybmluZzoiQXZpc28iLGluZm9ybWF0aW9uOiJJbmZvcm1hXHhlN1x4ZTNvIixzdWNjZXNzOiJTdWNlc3NvIn0scnU6e2Nsb3NlQnV0dG9uOiJcdTA0MTdcdTA0MzBcdTA0M2FcdTA0NDBcdTA0NGJcdTA0MzJcdTA0MzBcdTA0NDJcdTA0NGMiLGRldGFpbHM6Ilx1MDQxNFx1MDQzNVx1MDQ0Mlx1MDQzMFx1MDQzYlx1MDQzOCIsZGV0YWlsOiJcdTA0MTRcdTA0MzVcdTA0NDJcdTA0MzBcdTA0M2JcdTA0NGMiLGVycm9yOiJcdTA0MWVcdTA0NDhcdTA0MzhcdTA0MzFcdTA0M2FcdTA0MzAiLHdhcm5pbmc6Ilx1MDQxZlx1MDQ0MFx1MDQzNVx1MDQzNFx1MDQ0M1x1MDQzZlx1MDQ0MFx1MDQzNVx1MDQzNlx1MDQzNFx1MDQzNVx1MDQzZFx1MDQzOFx1MDQzNSIsaW5mb3JtYXRpb246Ilx1MDQxOFx1MDQzZFx1MDQ0NFx1MDQzZVx1MDQ0MFx1MDQzY1x1MDQzMFx1MDQ0Nlx1MDQzOFx1MDQ0ZiIsc3VjY2VzczoiWVx1MDQ0MVx1MDQzZlx1MDQzNVx1MDQ0NSJ9fSxXdz17c3VjY2VzczoiY29sb3ItMTEiLGVycm9yOiJjb2xvci0wNyIsd2FybmluZzoiY29sb3ItMDgiLGluZm86IiJ9O2xldCBHdz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMubGFuZ3VhZ2VTZXJ2aWNlPXQsdGhpcy5jbG9zZWQ9bmV3IEFjLHRoaXMuZGV0YWlscz1bXSx0aGlzLmxhbmd1YWdlPXRoaXMubGFuZ3VhZ2VTZXJ2aWNlLmdldFNob3J0TGFuZ3VhZ2UoKSx0aGlzLmxpdGVyYWxzPVV3W3RoaXMubGFuZ3VhZ2VdLHRoaXMucHJpbWFyeUFjdGlvbj17YWN0aW9uOigpPT50aGlzLmNsb3NlKCksbGFiZWw6dGhpcy5saXRlcmFscy5jbG9zZUJ1dHRvbn19c2V0IGRldGFpbCh0KXt0JiZ0Lmxlbmd0aCYmKHRoaXMuZGV0YWlscz10aGlzLmZpbHRlckJ5VmFsaWREZXRhaWxzKHQpKSx0aGlzLnRpdGxlPXRoaXMuZm9ybWF0VGl0bGUodGhpcy5kZXRhaWxzKX1jbG9zZSgpe3RoaXMubW9kYWwuY2xvc2UoKSx0aGlzLmNsb3NlZC5lbWl0KCl9Zm9ybWF0RGV0YWlsSXRlbVRpdGxlKHQpe3JldHVybiB0LmNvZGU/YCR7dC5jb2RlfSAtICR7dC5tZXNzYWdlfWA6dC5tZXNzYWdlfW9wZW4oKXt0aGlzLm1vZGFsLm9wZW4oKX10eXBlQ29sb3IodCl7cmV0dXJuIFd3W3RdfXR5cGVWYWx1ZSh0KXtyZXR1cm4gVXdbdGhpcy5sYW5ndWFnZV1bdF18fHR9YWRkVmFsaWREZXRhaWwodCxlKXtyZXR1cm4gZS5tZXNzYWdlP3QuY29uY2F0KHRoaXMuZ2V0VmFsaWREZXRhaWxQcm9wZXJ0aWVzKGUpKTp0fWdldFZhbGlkRGV0YWlsUHJvcGVydGllcyh7Y29kZTp0LG1lc3NhZ2U6ZSxkZXRhaWxlZE1lc3NhZ2U6bix0eXBlOnJ9KXtyZXR1cm57Y29kZTp0LG1lc3NhZ2U6ZSxkZXRhaWxlZE1lc3NhZ2U6bix0eXBlOnJ9fWZpbHRlckJ5VmFsaWREZXRhaWxzKHQpe3JldHVybiB0LnJlZHVjZSgodCxlKT0+dGhpcy5hZGRWYWxpZERldGFpbCh0LGUpLFtdKX1mb3JtYXRUaXRsZSh0KXtyZXR1cm4gdC5sZW5ndGg+MT9gJHt0aGlzLmxpdGVyYWxzLmRldGFpbHN9ICgke3QubGVuZ3RofSlgOnRoaXMubGl0ZXJhbHMuZGV0YWlsfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShnbyhzYikpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1odHRwLWludGVyY2VwdG9yLWRldGFpbCJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJkhjKEJDLDcpLDImdCl7bGV0IHQ7TmModD1WYygpKSYmKGUubW9kYWw9dC5maXJzdCl9fSxkZWNsczo0LHZhcnM6Myxjb25zdHM6W1sicC1oaWRlLWNsb3NlIiwiIiwicC1zaXplIiwibGciLDMsInAtcHJpbWFyeS1hY3Rpb24iLCJwLXRpdGxlIl0sWzEsInBvLXJvdyJdLFsxLCJwby1tZC0xMiIsInBvLW10LTEiLCJwby1tYi0xIl0sWzMsInAtbGFiZWwiLDQsIm5nRm9yIiwibmdGb3JPZiJdLFszLCJwLWxhYmVsIl0sWyJjbGFzcyIsInBvLXJvdyBwby1tYi0xIiw0LCJuZ0lmIl0sWzEsInBvLXJvdyIsInBvLW1iLTEiXSxbMywicC1jb2xvciIsInAtdmFsdWUiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJih2bygwLCJwby1tb2RhbCIsMCksdm8oMSwiZGl2IiwxKSx2bygyLCJwby1hY2NvcmRpb24iLDIpLHBvKDMsTXYsNSwzLCJwby1hY2NvcmRpb24taXRlbSIsMyksYm8oKSxibygpLGJvKCkpLDImdCYmKG1vKCJwLXByaW1hcnktYWN0aW9uIixlLnByaW1hcnlBY3Rpb24pKCJwLXRpdGxlIixlLnRpdGxlKSx6cygzKSxtbygibmdGb3JPZiIsZS5kZXRhaWxzKSl9LGRpcmVjdGl2ZXM6W0JDLFZ2LGVoLEh2LHJoLGJ3XSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKTtjb25zdCBxdz17cHQ6e2hlbHA6IkFqdWRhIixkZXRhaWxzOiJEZXRhbGhlcyIsc2VydmVyTm90UmVzcG9uc2U6IlNlcnZpZG9yIG5ceGUzbyBlc3RceGUxIHJlc3BvbmRlbmRvIn0sZW46e2hlbHA6IkhlbHAiLGRldGFpbHM6IkRldGFpbHMiLHNlcnZlck5vdFJlc3BvbnNlOiJTZXJ2ZXIgaXMgbm90IHJlc3BvbmRpbmcifSxlczp7aGVscDoiQXl1ZGEiLGRldGFpbHM6IkRldGFsbGVzIixzZXJ2ZXJOb3RSZXNwb25zZToiRWwgc2Vydmlkb3Igbm8gZXN0XHhlMSByZXNwb25kaWVuZG8ifSxydTp7aGVscDoiXHUwNDFmXHUwNDNlXHUwNDNjXHUwNDNlXHUwNDMzXHUwNDM4XHUwNDQyXHUwNDM1IixkZXRhaWxzOiJcdTA0MTRcdTA0MzVcdTA0NDJcdTA0MzBcdTA0M2JcdTA0MzgiLHNlcnZlck5vdFJlc3BvbnNlOiJcdTA0MjFcdTA0MzVcdTA0NDBcdTA0MzJcdTA0MzVcdTA0NDAgXHUwNDNkXHUwNDM1IFx1MDQzZVx1MDQ0Mlx1MDQzMlx1MDQzNVx1MDQ0N1x1MDQzMFx1MDQzNVx1MDQ0MiJ9fSxYdz0iWC1QTy1Oby1FcnJvciIsWXc9IlgtUE8tTm8tTWVzc2FnZSI7bGV0IFp3PSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBjbGFzc3tjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5jb21wb25lbnRJbmplY3Rvcj10LHRoaXMubm90aWZpY2F0aW9uPWUsdGhpcy5sYW5ndWFnZVNlcnZpY2U9bix0aGlzLm5vdGlmaWNhdGlvblR5cGVzPVsic3VjY2VzcyIsIndhcm5pbmciLCJlcnJvciIsImluZm9ybWF0aW9uIl0sdGhpcy5saXRlcmFscz1xd1t0aGlzLmxhbmd1YWdlU2VydmljZS5nZXRTaG9ydExhbmd1YWdlKCldLHRoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50PXZvaWQgMH1pbnRlcmNlcHQodCxlKXtjb25zdCBuPXQuY2xvbmUoKTtyZXR1cm4gdD10JiZ0aGlzLmhhc1BhcmFtZXRlcnModCk/dGhpcy5jbG9uZVJlcXVlc3RXaXRob3V0UGFyYW1ldGVycyh0KTp0LGUuaGFuZGxlKHQpLnBpcGUoYnAodD0+e3QgaW5zdGFuY2VvZiBMbSYmdGhpcy5wcm9jZXNzUmVzcG9uc2UodCxuKX0sdD0+e3RoaXMucHJvY2Vzc0Vycm9yUmVzcG9uc2UodCxuKX0pKX1wcm9jZXNzUmVzcG9uc2UodCxlKXtpZighdGhpcy5oYXNOb01lc3NhZ2VQYXJhbShlKSYmdC5ib2R5JiZ0LmJvZHkuX21lc3NhZ2VzKXtjb25zdCBlPXQuYm9keS5fbWVzc2FnZXM7ZSBpbnN0YW5jZW9mIEFycmF5P2UuZm9yRWFjaCh0PT57dGhpcy5zaG93Tm90aWZpY2F0aW9uKHQpfSk6dGhpcy5zaG93Tm90aWZpY2F0aW9uKGUpfX1wcm9jZXNzRXJyb3JSZXNwb25zZSh0LGUpe2NvbnN0IG49MCE9PXQuc3RhdHVzP3QuZXJyb3I6e2NvZGU6MCxtZXNzYWdlOnRoaXMubGl0ZXJhbHMuc2VydmVyTm90UmVzcG9uc2UsZGV0YWlsZWRNZXNzYWdlOnQubWVzc2FnZX0scj10aGlzLmhhc05vRXJyb3JQYXJhbShlKSxzPXRoaXMuaGFzTm9NZXNzYWdlUGFyYW0oZSksaT10aGlzLm5vdGlmaWNhdGlvblR5cGVzLnNsaWNlKDEpO24mJm4ubWVzc2FnZSYmIXImJiFzJiZ0aGlzLnNob3dOb3RpZmljYXRpb24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHt0eXBlOmkuaW5jbHVkZXMobi50eXBlKT9uLnR5cGU6ImVycm9yIn0pKX1jbG9uZVJlcXVlc3RXaXRob3V0UGFyYW1ldGVycyh0KXtjb25zdCBlPXQuaGVhZGVycy5kZWxldGUoWHcpLmRlbGV0ZShZdyk7cmV0dXJuIHQuY2xvbmUoe2hlYWRlcnM6ZX0pfWNyZWF0ZU1vZGFsKHQpe2NvbnN0IGU9dC5kZXRhaWxzP1t0LC4uLnQuZGV0YWlsc106W3RdO3RoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50PXRoaXMuY29tcG9uZW50SW5qZWN0b3IuY3JlYXRlQ29tcG9uZW50SW5BcHBsaWNhdGlvbihHdyksdGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQuaW5zdGFuY2UuZGV0YWlsPWUsdGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQuaW5zdGFuY2UuY2xvc2VkLnN1YnNjcmliZSgoKT0+dGhpcy5kZXN0cm95TW9kYWwoKSksdGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQuaW5zdGFuY2Uub3BlbigpfWRlc3Ryb3lNb2RhbCgpe3RoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50JiYodGhpcy5jb21wb25lbnRJbmplY3Rvci5kZXN0cm95Q29tcG9uZW50SW5BcHBsaWNhdGlvbih0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudCksdGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQ9dm9pZCAwKX1oYXNNZXNzYWdlKHQpe3JldHVybiB0JiZ0Lm1lc3NhZ2V9aGFzTm9FcnJvclBhcmFtKHQpe2NvbnN0IGU9dCYmdC5oZWFkZXJzLmdldChYdyk7cmV0dXJuIGUmJiJ0cnVlIj09PWUudG9TdHJpbmcoKS50b0xvY2FsZUxvd2VyQ2FzZSgpfWhhc05vTWVzc2FnZVBhcmFtKHQpe2NvbnN0IGU9dCYmdC5oZWFkZXJzLmdldChZdyk7cmV0dXJuIGUmJiJ0cnVlIj09PWUudG9TdHJpbmcoKS50b0xvY2FsZUxvd2VyQ2FzZSgpfWhhc1BhcmFtZXRlcnModCl7cmV0dXJuIHQuaGVhZGVycy5oYXMoWHcpfHx0LmhlYWRlcnMuaGFzKFl3KX1zaG93Tm90aWZpY2F0aW9uKHQpe2lmKCF0aGlzLmhhc01lc3NhZ2UodCkpcmV0dXJuO2NvbnN0IGU9dGhpcy5ub3RpZmljYXRpb25UeXBlcy5pbmNsdWRlcyh0LnR5cGUpP3QudHlwZToiaW5mb3JtYXRpb24iLG49dGhpcy5nZW5lcmF0ZU5vdGlmaWNhdGlvbkFjdGlvbih0KTt0aGlzLm5vdGlmaWNhdGlvbltlXSh7bWVzc2FnZTp0Lm1lc3NhZ2UsYWN0aW9uTGFiZWw6bi5sYWJlbCxhY3Rpb246bi5hY3Rpb259KX1nZW5lcmF0ZURldGFpbE1vZGFsKHQpe3JldHVybigpPT57dGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnR8fHRoaXMuY3JlYXRlTW9kYWwodCl9fWdlbmVyYXRlTm90aWZpY2F0aW9uQWN0aW9uKHQpe2xldCBlLG47cmV0dXJuIXQuaGVscFVybHx8dC5kZXRhaWxlZE1lc3NhZ2V8fHQuZGV0YWlscz8odC5kZXRhaWxlZE1lc3NhZ2V8fHQuZGV0YWlscykmJihuPXRoaXMubGl0ZXJhbHMuZGV0YWlscyxlPXRoaXMuZ2VuZXJhdGVEZXRhaWxNb2RhbCh0KSk6KG49dGhpcy5saXRlcmFscy5oZWxwLGU9dGhpcy5nZW5lcmF0ZVVybEhlbHBGdW5jdGlvbih0LmhlbHBVcmwpKSx7bGFiZWw6bixhY3Rpb246ZX19Z2VuZXJhdGVVcmxIZWxwRnVuY3Rpb24odCl7cmV0dXJuKCk9Pnt3aW5kb3cub3Blbih0LCJfYmxhbmsiKX19fXtjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIoZSx0LG4pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh1cihsdyksdXIoekMpLHVyKHNiKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksUXc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltadyxsdyx7cHJvdmlkZTpIbSx1c2VDbGFzczpadyxtdWx0aTohMH1dLGltcG9ydHM6W1t3aCxVdixqQyx0dyxDd11dfSksdH0pKCksS3c9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuY29udHJvbEh0dHBSZXF1ZXN0PW5ldyBEfWdldENvbnRyb2xIdHRwUmVxdWVzdCgpe3JldHVybiB0aGlzLmNvbnRyb2xIdHRwUmVxdWVzdC5hc09ic2VydmFibGUoKX1zZW5kKHQ9MCl7dGhpcy5jb250cm9sSHR0cFJlcXVlc3QubmV4dCh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y29uc3QgSnc9IlgtUE8tTm8tQ291bnQtUGVuZGluZy1SZXF1ZXN0cyIsdF89IlgtUE8tU2NyZWVuLUxvY2siO2xldCBlXz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5jb250cm9sSHR0cFJlcXVlc3Q9dCx0aGlzLnBvQ29tcG9uZW50SW5qZWN0b3I9ZSx0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50PXZvaWQgMCx0aGlzLnBlbmRpbmdSZXF1ZXN0cz0wLHRoaXMub3ZlcmxheVJlcXVlc3RzPTB9aW50ZXJjZXB0KHQsZSl7Y29uc3Qgbj10LmNsb25lKCk7cmV0dXJuIHQ9dGhpcy5yZXF1ZXN0Q2xvbmVXaXRob3V0SGVhZGVyUGFyYW0oW0p3LHRfXSx0KSx0aGlzLnNldENvdW50UGVuZGluZ1JlcXVlc3RzKCEwLG4pLHRoaXMuc2V0Q291bnRPdmVybGF5UmVxdWVzdHMoITAsbiksZS5oYW5kbGUodCkucGlwZShicCh0PT57dCBpbnN0YW5jZW9mIExtJiYodGhpcy5zZXRDb3VudFBlbmRpbmdSZXF1ZXN0cyghMSxuKSx0aGlzLnNldENvdW50T3ZlcmxheVJlcXVlc3RzKCExLG4pKX0pLHJwKHQ9Pih0aGlzLnNldENvdW50UGVuZGluZ1JlcXVlc3RzKCExLG4pLHRoaXMuc2V0Q291bnRPdmVybGF5UmVxdWVzdHMoITEsbiksZGQodCkpKSl9Z2V0Q291bnRQZW5kaW5nUmVxdWVzdHMoKXtyZXR1cm4gdGhpcy5jb250cm9sSHR0cFJlcXVlc3QuZ2V0Q29udHJvbEh0dHBSZXF1ZXN0KCl9YnVpbGRMb2FkaW5nKCl7dGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudHx8KHRoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnQ9dGhpcy5wb0NvbXBvbmVudEluamVjdG9yLmNyZWF0ZUNvbXBvbmVudEluQXBwbGljYXRpb24odWIpLHRoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnQuaW5zdGFuY2Uuc2NyZWVuTG9jaz0hMCx0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50Lmluc3RhbmNlLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKSl9ZGVzdHJveUxvYWRpbmcoKXt0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50JiYodGhpcy5wb0NvbXBvbmVudEluamVjdG9yLmRlc3Ryb3lDb21wb25lbnRJbkFwcGxpY2F0aW9uKHRoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnQpLHRoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnQ9dm9pZCAwKX1yZXF1ZXN0Q2xvbmVXaXRob3V0SGVhZGVyUGFyYW0odCxlKXtsZXQgbj0hMTtyZXR1cm4gdC5mb3JFYWNoKHQ9PntlLmhlYWRlcnMuaGFzKHQpJiYoZS5oZWFkZXJzLmRlbGV0ZSh0KSxuPSEwKX0pLG4/ZS5jbG9uZSh7aGVhZGVyczplLmhlYWRlcnN9KTplfXNldENvdW50UGVuZGluZ1JlcXVlc3RzKHQsZSl7Y29uc3Qgbj1lLmhlYWRlcnMuaGFzKEp3KSxyPWUuaGVhZGVycy5nZXQoSncpO24mJiJ0cnVlIj09PXIudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpfHwodGhpcy5wZW5kaW5nUmVxdWVzdHMrPXQ/MTotMSx0aGlzLmNvbnRyb2xIdHRwUmVxdWVzdC5zZW5kKHRoaXMucGVuZGluZ1JlcXVlc3RzKSl9c2V0Q291bnRPdmVybGF5UmVxdWVzdHModCxlKXtpZihlLmhlYWRlcnMuaGFzKHRfKSl7aWYoImZhbHNlIj09PWUuaGVhZGVycy5nZXQodF8pLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSlyZXR1cm47dGhpcy5vdmVybGF5UmVxdWVzdHMrPXQ/MTotMSx0aGlzLm92ZXJsYXlSZXF1ZXN0cz4wP3RoaXMuYnVpbGRMb2FkaW5nKCk6dGhpcy5kZXN0cm95TG9hZGluZygpfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkodXIoS3cpLHVyKHpDKSl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgdCh1cihLdyksdXIoekMpKX0sdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpLG5fPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbS3csZV8sekMse3Byb3ZpZGU6SG0sdXNlQ2xhc3M6ZV8sbXVsdGk6ITB9XSxpbXBvcnRzOltbZ2JdXX0pLHR9KSgpLHJfPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbUXcsbl9dLFF3LG5fXX0pLHR9KSgpLHNfPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbc3ddLHN3XX0pLHR9KSgpLGlfPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1HdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbbHddLGltcG9ydHM6W1tWdyx6dywkdyxyXyxzXyxld10sVncsencscl8sJHcsc18sZXddfSksdH0pKCk7bmV3IEduKCJJMThOX0NPTkZJRyIpO2xldCBvXz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy50aXRsZT0iY2hhcnQiLHRoaXMuc2VyaWVzPVt7bGFiZWw6IkFuZ3VsYXIiLGRhdGE6MTAwfSx7bGFiZWw6IlJlYWN0IixkYXRhOjEwfV19bm90aWZ5KHQsZSl7Y29uc3R7Y2hhcnQ6bn09dCx7dGVzdGU6cn09ZTtjb25zb2xlLmxvZyhuLHIpLHRoaXMuc2VyaWVzPW59fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWNtcD16dCh7dHlwZTp0LHNlbGVjdG9yczpbWyJjaGFydC1yb290Il1dLGRlY2xzOjEsdmFyczoxLGNvbnN0czpbWzMsInAtc2VyaWVzIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiZDbygwLCJwby1jaGFydCIsMCksMiZ0JiZtbygicC1zZXJpZXMiLGUuc2VyaWVzKX0sZGlyZWN0aXZlczpbY0NdLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLGFfPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7Y29uc3QgZT1mdW5jdGlvbih0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5nZXQoX2EpLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHQpLmlucHV0c30odCxlLmluamVjdG9yKSxyPWUuc3RyYXRlZ3lGYWN0b3J5fHxuZXcgU2QodCxlLmluamVjdG9yKSxzPWZ1bmN0aW9uKHQpe2NvbnN0IGU9e307cmV0dXJuIHQuZm9yRWFjaCgoe3Byb3BOYW1lOnQsdGVtcGxhdGVOYW1lOm59KT0+e3ZhciByO2VbKHI9bixyLnJlcGxhY2UoL1tBLVpdL2csdD0+YC0ke3QudG9Mb3dlckNhc2UoKX1gKSldPXR9KSxlfShuKTtjbGFzcyBpIGV4dGVuZHMgQWR7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmluamVjdG9yPXR9Z2V0IG5nRWxlbWVudFN0cmF0ZWd5KCl7aWYoIXRoaXMuX25nRWxlbWVudFN0cmF0ZWd5KXtjb25zdCB0PXRoaXMuX25nRWxlbWVudFN0cmF0ZWd5PXIuY3JlYXRlKHRoaXMuaW5qZWN0b3J8fGUuaW5qZWN0b3IpO24uZm9yRWFjaCgoe3Byb3BOYW1lOmV9KT0+e2lmKCF0aGlzLmhhc093blByb3BlcnR5KGUpKXJldHVybjtjb25zdCBuPXRoaXNbZV07ZGVsZXRlIHRoaXNbZV0sdC5zZXRJbnB1dFZhbHVlKGUsbil9KX1yZXR1cm4gdGhpcy5fbmdFbGVtZW50U3RyYXRlZ3l9YXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKHQsZSxuLHIpe3RoaXMubmdFbGVtZW50U3RyYXRlZ3kuc2V0SW5wdXRWYWx1ZShzW3RdLG4pfWNvbm5lY3RlZENhbGxiYWNrKCl7bGV0IHQ9ITE7dGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5ldmVudHMmJih0aGlzLnN1YnNjcmliZVRvRXZlbnRzKCksdD0hMCksdGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5jb25uZWN0KHRoaXMpLHR8fHRoaXMuc3Vic2NyaWJlVG9FdmVudHMoKX1kaXNjb25uZWN0ZWRDYWxsYmFjaygpe3RoaXMuX25nRWxlbWVudFN0cmF0ZWd5JiZ0aGlzLl9uZ0VsZW1lbnRTdHJhdGVneS5kaXNjb25uZWN0KCksdGhpcy5uZ0VsZW1lbnRFdmVudHNTdWJzY3JpcHRpb24mJih0aGlzLm5nRWxlbWVudEV2ZW50c1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpLHRoaXMubmdFbGVtZW50RXZlbnRzU3Vic2NyaXB0aW9uPW51bGwpfXN1YnNjcmliZVRvRXZlbnRzKCl7dGhpcy5uZ0VsZW1lbnRFdmVudHNTdWJzY3JpcHRpb249dGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5ldmVudHMuc3Vic2NyaWJlKHQ9Pntjb25zdCBlPWZ1bmN0aW9uKHQsZSxuKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgQ3VzdG9tRXZlbnQpe2NvbnN0IHI9dC5jcmVhdGVFdmVudCgiQ3VzdG9tRXZlbnQiKTtyZXR1cm4gci5pbml0Q3VzdG9tRXZlbnQoZSwhMSwhMSxuKSxyfXJldHVybiBuZXcgQ3VzdG9tRXZlbnQoZSx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDpufSl9KHRoaXMub3duZXJEb2N1bWVudCx0Lm5hbWUsdC52YWx1ZSk7dGhpcy5kaXNwYXRjaEV2ZW50KGUpfSl9fXJldHVybiBpLm9ic2VydmVkQXR0cmlidXRlcz1PYmplY3Qua2V5cyhzKSxuLmZvckVhY2goKHtwcm9wTmFtZTp0fSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsdCx7Z2V0KCl7cmV0dXJuIHRoaXMubmdFbGVtZW50U3RyYXRlZ3kuZ2V0SW5wdXRWYWx1ZSh0KX0sc2V0KGUpe3RoaXMubmdFbGVtZW50U3RyYXRlZ3kuc2V0SW5wdXRWYWx1ZSh0LGUpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfSksaX0ob18se2luamVjdG9yOnR9KTtjdXN0b21FbGVtZW50cy5kZWZpbmUoImNoYXJ0LXJvb3QiLGUpfW5nRG9Cb290c3RyYXAoKXt9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHVyKFFpKSl9LHQuXHUwMjc1bW9kPUd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tlZCxpXyxfQ11dfSksdH0pKCk7KGZ1bmN0aW9uKCl7aWYoeGwpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZW5hYmxlIHByb2QgbW9kZSBhZnRlciBwbGF0Zm9ybSBzZXR1cC4iKTtTbD0hMX0pKCksSmgoKS5ib290c3RyYXBNb2R1bGUoYV8pLmNhdGNoKHQ9PmNvbnNvbGUuZXJyb3IodCkpfSw2MjE6dD0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCk9Pnt2YXIgZT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIit0KyInIik7dGhyb3cgZS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixlfSl9ZS5rZXlzPSgpPT5bXSxlLnJlc29sdmU9ZSxlLmlkPTYyMSx0LmV4cG9ydHM9ZX19LHQ9PnsidXNlIHN0cmljdCI7dCh0LnM9MTIwKX1dKTs=';