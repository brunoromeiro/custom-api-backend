export const externalDashboardTile =
  'IWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4ocil7aWYodFtyXSlyZXR1cm4gdFtyXS5leHBvcnRzO3ZhciBvPXRbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubD0hMCxvLmV4cG9ydHN9bi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxyKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCwiYSIsdCksdH0sbi5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxuLnA9IiIsbihuLnM9Mil9KFtmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgdD1uZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIG1vZHVsZSAiJytlKyciLicpO3Rocm93IHQuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsdH0pfW4ua2V5cz1mdW5jdGlvbigpe3JldHVybltdfSxuLnJlc29sdmU9bixlLmV4cG9ydHM9bixuLmlkPTB9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5yKHQpO3ZhciByPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9KShlLHQpfTtmdW5jdGlvbiBvKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1yKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfXZhciBpPWZ1bmN0aW9uKCl7cmV0dXJuKGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49MSxyPWFyZ3VtZW50cy5sZW5ndGg7bjxyO24rKylmb3IodmFyIG8gaW4gdD1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbykmJihlW29dPXRbb10pO3JldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmdW5jdGlvbiBzKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXSxuPTA7cmV0dXJuIHQ/dC5jYWxsKGUpOntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJm4+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW24rK10sZG9uZTohZX19fX1mdW5jdGlvbiB1KGUsdCl7dmFyIG49ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCFuKXJldHVybiBlO3ZhciByLG8saT1uLmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09dHx8dC0tID4wKSYmIShyPWkubmV4dCgpKS5kb25lOylzLnB1c2goci52YWx1ZSl9Y2F0Y2goZSl7bz17ZXJyb3I6ZX19ZmluYWxseXt0cnl7ciYmIXIuZG9uZSYmKG49aS5yZXR1cm4pJiZuLmNhbGwoaSl9ZmluYWxseXtpZihvKXRocm93IG8uZXJyb3J9fXJldHVybiBzfWZ1bmN0aW9uIGEoKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZT1lLmNvbmNhdCh1KGFyZ3VtZW50c1t0XSkpO3JldHVybiBlfWZ1bmN0aW9uIGMoZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9dmFyIGw9ITEsZD17UHJvbWlzZTp2b2lkIDAsc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcoZSl7ZSYmKG5ldyBFcnJvcikuc3RhY2ssbD1lfSxnZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZygpe3JldHVybiBsfX07ZnVuY3Rpb24gZihlKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfXZhciBwPXtjbG9zZWQ6ITAsbmV4dDpmdW5jdGlvbihlKXt9LGVycm9yOmZ1bmN0aW9uKGUpe2lmKGQudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyl0aHJvdyBlO2YoZSl9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7fX0saD1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aH07ZnVuY3Rpb24gdihlKXtyZXR1cm4gbnVsbCE9ZSYmIm9iamVjdCI9PXR5cGVvZiBlfXZhciB5LGc9e2U6e319O2Z1bmN0aW9uIG0oKXt0cnl7cmV0dXJuIHkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKGUpe3JldHVybiBnLmU9ZSxnfX1mdW5jdGlvbiBiKGUpe3JldHVybiB5PWUsbX12YXIgXz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KG4pe3ZhciByPWUuY2FsbCh0aGlzLG4/bi5sZW5ndGgrIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxuICAiK24ubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQrMSsiKSAiK2UudG9TdHJpbmcoKX0pLmpvaW4oIlxuICAiKToiIil8fHRoaXM7cmV0dXJuIHIuZXJyb3JzPW4sci5uYW1lPSJVbnN1YnNjcmlwdGlvbkVycm9yIixPYmplY3Quc2V0UHJvdG90eXBlT2Yocix0LnByb3RvdHlwZSkscn1yZXR1cm4gbyh0LGUpLHR9KEVycm9yKSx3PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmNsb3NlZD0hMSx0aGlzLl9wYXJlbnQ9bnVsbCx0aGlzLl9wYXJlbnRzPW51bGwsdGhpcy5fc3Vic2NyaXB0aW9ucz1udWxsLGUmJih0aGlzLl91bnN1YnNjcmliZT1lKX1yZXR1cm4gZS5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt2YXIgZSx0PSExO2lmKCF0aGlzLmNsb3NlZCl7dmFyIG49dGhpcy5fcGFyZW50LHI9dGhpcy5fcGFyZW50cyxvPXRoaXMuX3Vuc3Vic2NyaWJlLGk9dGhpcy5fc3Vic2NyaXB0aW9uczt0aGlzLmNsb3NlZD0hMCx0aGlzLl9wYXJlbnQ9bnVsbCx0aGlzLl9wYXJlbnRzPW51bGwsdGhpcy5fc3Vic2NyaXB0aW9ucz1udWxsO2Zvcih2YXIgcz0tMSx1PXI/ci5sZW5ndGg6MDtuOyluLnJlbW92ZSh0aGlzKSxuPSsrczx1JiZyW3NdfHxudWxsO2lmKGMobykmJmIobykuY2FsbCh0aGlzKT09PWcmJih0PSEwLGU9ZXx8KGcuZSBpbnN0YW5jZW9mIF8/RShnLmUuZXJyb3JzKTpbZy5lXSkpLGgoaSkpZm9yKHM9LTEsdT1pLmxlbmd0aDsrK3M8dTspe3ZhciBhPWlbc107aWYodihhKSYmYihhLnVuc3Vic2NyaWJlKS5jYWxsKGEpPT09Zyl7dD0hMCxlPWV8fFtdO3ZhciBsPWcuZTtsIGluc3RhbmNlb2YgXz9lPWUuY29uY2F0KEUobC5lcnJvcnMpKTplLnB1c2gobCl9fWlmKHQpdGhyb3cgbmV3IF8oZSl9fSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7aWYoIXR8fHQ9PT1lLkVNUFRZKXJldHVybiBlLkVNUFRZO2lmKHQ9PT10aGlzKXJldHVybiB0aGlzO3ZhciBuPXQ7c3dpdGNoKHR5cGVvZiB0KXtjYXNlImZ1bmN0aW9uIjpuPW5ldyBlKHQpO2Nhc2Uib2JqZWN0IjppZihuLmNsb3NlZHx8ImZ1bmN0aW9uIiE9dHlwZW9mIG4udW5zdWJzY3JpYmUpcmV0dXJuIG47aWYodGhpcy5jbG9zZWQpcmV0dXJuIG4udW5zdWJzY3JpYmUoKSxuO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBuLl9hZGRQYXJlbnQpe3ZhciByPW47KG49bmV3IGUpLl9zdWJzY3JpcHRpb25zPVtyXX1icmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigidW5yZWNvZ25pemVkIHRlYXJkb3duICIrdCsiIGFkZGVkIHRvIFN1YnNjcmlwdGlvbi4iKX1yZXR1cm4odGhpcy5fc3Vic2NyaXB0aW9uc3x8KHRoaXMuX3N1YnNjcmlwdGlvbnM9W10pKS5wdXNoKG4pLG4uX2FkZFBhcmVudCh0aGlzKSxufSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fc3Vic2NyaXB0aW9ucztpZih0KXt2YXIgbj10LmluZGV4T2YoZSk7LTEhPT1uJiZ0LnNwbGljZShuLDEpfX0sZS5wcm90b3R5cGUuX2FkZFBhcmVudD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9wYXJlbnQsbj10aGlzLl9wYXJlbnRzO3QmJnQhPT1lP24/LTE9PT1uLmluZGV4T2YoZSkmJm4ucHVzaChlKTp0aGlzLl9wYXJlbnRzPVtlXTp0aGlzLl9wYXJlbnQ9ZX0sZS5FTVBUWT1mdW5jdGlvbihlKXtyZXR1cm4gZS5jbG9zZWQ9ITAsZX0obmV3IGUpLGV9KCk7ZnVuY3Rpb24gRShlKXtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodCBpbnN0YW5jZW9mIF8/dC5lcnJvcnM6dCl9LFtdKX12YXIgQz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sLmZvcj9TeW1ib2wuZm9yKCJyeFN1YnNjcmliZXIiKToiQEByeFN1YnNjcmliZXIiLHg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4scil7dmFyIG89ZS5jYWxsKHRoaXMpfHx0aGlzO3N3aXRjaChvLnN5bmNFcnJvclZhbHVlPW51bGwsby5zeW5jRXJyb3JUaHJvd249ITEsby5zeW5jRXJyb3JUaHJvd2FibGU9ITEsby5pc1N0b3BwZWQ9ITEsYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOm8uZGVzdGluYXRpb249cDticmVhaztjYXNlIDE6aWYoIXQpe28uZGVzdGluYXRpb249cDticmVha31pZigib2JqZWN0Ij09dHlwZW9mIHQpe2lmKHQgaW5zdGFuY2VvZiB4fHwic3luY0Vycm9yVGhyb3dhYmxlImluIHQmJnRbQ10pe3ZhciBpPXRbQ10oKTtvLnN5bmNFcnJvclRocm93YWJsZT1pLnN5bmNFcnJvclRocm93YWJsZSxvLmRlc3RpbmF0aW9uPWksaS5hZGQobyl9ZWxzZSBvLnN5bmNFcnJvclRocm93YWJsZT0hMCxvLmRlc3RpbmF0aW9uPW5ldyBUKG8sdCk7YnJlYWt9ZGVmYXVsdDpvLnN5bmNFcnJvclRocm93YWJsZT0hMCxvLmRlc3RpbmF0aW9uPW5ldyBUKG8sdCxuLHIpfXJldHVybiBvfXJldHVybiBvKHQsZSksdC5wcm90b3R5cGVbQ109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdC5jcmVhdGU9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPW5ldyB0KGUsbixyKTtyZXR1cm4gby5zeW5jRXJyb3JUaHJvd2FibGU9ITEsb30sdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihlKXt0aGlzLmlzU3RvcHBlZHx8dGhpcy5fbmV4dChlKX0sdC5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oZSl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLl9lcnJvcihlKSl9LHQucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLl9jb21wbGV0ZSgpKX0sdC5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLmNsb3NlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLGUucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcykpfSx0LnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbihlKXt0aGlzLmRlc3RpbmF0aW9uLm5leHQoZSl9LHQucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbihlKXt0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpLHRoaXMudW5zdWJzY3JpYmUoKX0sdC5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX0sdC5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3BhcmVudCx0PXRoaXMuX3BhcmVudHM7cmV0dXJuIHRoaXMuX3BhcmVudD1udWxsLHRoaXMuX3BhcmVudHM9bnVsbCx0aGlzLnVuc3Vic2NyaWJlKCksdGhpcy5jbG9zZWQ9ITEsdGhpcy5pc1N0b3BwZWQ9ITEsdGhpcy5fcGFyZW50PWUsdGhpcy5fcGFyZW50cz10LHRoaXN9LHR9KHcpLFQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4scixvKXt2YXIgaSxzPWUuY2FsbCh0aGlzKXx8dGhpcztzLl9wYXJlbnRTdWJzY3JpYmVyPXQ7dmFyIHU9cztyZXR1cm4gYyhuKT9pPW46biYmKGk9bi5uZXh0LHI9bi5lcnJvcixvPW4uY29tcGxldGUsbiE9PXAmJihjKCh1PU9iamVjdC5jcmVhdGUobikpLnVuc3Vic2NyaWJlKSYmcy5hZGQodS51bnN1YnNjcmliZS5iaW5kKHUpKSx1LnVuc3Vic2NyaWJlPXMudW5zdWJzY3JpYmUuYmluZChzKSkpLHMuX2NvbnRleHQ9dSxzLl9uZXh0PWkscy5fZXJyb3I9cixzLl9jb21wbGV0ZT1vLHN9cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmlzU3RvcHBlZCYmdGhpcy5fbmV4dCl7dmFyIHQ9dGhpcy5fcGFyZW50U3Vic2NyaWJlcjtkLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJnQuc3luY0Vycm9yVGhyb3dhYmxlP3RoaXMuX190cnlPclNldEVycm9yKHQsdGhpcy5fbmV4dCxlKSYmdGhpcy51bnN1YnNjcmliZSgpOnRoaXMuX190cnlPclVuc3ViKHRoaXMuX25leHQsZSl9fSx0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXtpZighdGhpcy5pc1N0b3BwZWQpe3ZhciB0PXRoaXMuX3BhcmVudFN1YnNjcmliZXIsbj1kLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc7aWYodGhpcy5fZXJyb3IpbiYmdC5zeW5jRXJyb3JUaHJvd2FibGU/KHRoaXMuX190cnlPclNldEVycm9yKHQsdGhpcy5fZXJyb3IsZSksdGhpcy51bnN1YnNjcmliZSgpKToodGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fZXJyb3IsZSksdGhpcy51bnN1YnNjcmliZSgpKTtlbHNlIGlmKHQuc3luY0Vycm9yVGhyb3dhYmxlKW4/KHQuc3luY0Vycm9yVmFsdWU9ZSx0LnN5bmNFcnJvclRocm93bj0hMCk6ZihlKSx0aGlzLnVuc3Vic2NyaWJlKCk7ZWxzZXtpZih0aGlzLnVuc3Vic2NyaWJlKCksbil0aHJvdyBlO2YoZSl9fX0sdC5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKCF0aGlzLmlzU3RvcHBlZCl7dmFyIHQ9dGhpcy5fcGFyZW50U3Vic2NyaWJlcjtpZih0aGlzLl9jb21wbGV0ZSl7dmFyIG49ZnVuY3Rpb24oKXtyZXR1cm4gZS5fY29tcGxldGUuY2FsbChlLl9jb250ZXh0KX07ZC51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nJiZ0LnN5bmNFcnJvclRocm93YWJsZT8odGhpcy5fX3RyeU9yU2V0RXJyb3IodCxuKSx0aGlzLnVuc3Vic2NyaWJlKCkpOih0aGlzLl9fdHJ5T3JVbnN1YihuKSx0aGlzLnVuc3Vic2NyaWJlKCkpfWVsc2UgdGhpcy51bnN1YnNjcmliZSgpfX0sdC5wcm90b3R5cGUuX190cnlPclVuc3ViPWZ1bmN0aW9uKGUsdCl7dHJ5e2UuY2FsbCh0aGlzLl9jb250ZXh0LHQpfWNhdGNoKGUpe2lmKHRoaXMudW5zdWJzY3JpYmUoKSxkLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgZTtmKGUpfX0sdC5wcm90b3R5cGUuX190cnlPclNldEVycm9yPWZ1bmN0aW9uKGUsdCxuKXtpZighZC51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKXRocm93IG5ldyBFcnJvcigiYmFkIGNhbGwiKTt0cnl7dC5jYWxsKHRoaXMuX2NvbnRleHQsbil9Y2F0Y2godCl7cmV0dXJuIGQudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZz8oZS5zeW5jRXJyb3JWYWx1ZT10LGUuc3luY0Vycm9yVGhyb3duPSEwLCEwKTooZih0KSwhMCl9cmV0dXJuITF9LHQucHJvdG90eXBlLl91bnN1YnNjcmliZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3BhcmVudFN1YnNjcmliZXI7dGhpcy5fY29udGV4dD1udWxsLHRoaXMuX3BhcmVudFN1YnNjcmliZXI9bnVsbCxlLnVuc3Vic2NyaWJlKCl9LHR9KHgpLGs9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLm9ic2VydmFibGV8fCJAQG9ic2VydmFibGUiO2Z1bmN0aW9uIEkoKXt9dmFyIFM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2lzU2NhbGFyPSExLGUmJih0aGlzLl9zdWJzY3JpYmU9ZSl9cmV0dXJuIGUucHJvdG90eXBlLmxpZnQ9ZnVuY3Rpb24odCl7dmFyIG49bmV3IGU7cmV0dXJuIG4uc291cmNlPXRoaXMsbi5vcGVyYXRvcj10LG59LGUucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5vcGVyYXRvcixvPWZ1bmN0aW9uKGUsdCxuKXtpZihlKXtpZihlIGluc3RhbmNlb2YgeClyZXR1cm4gZTtpZihlW0NdKXJldHVybiBlW0NdKCl9cmV0dXJuIGV8fHR8fG4/bmV3IHgoZSx0LG4pOm5ldyB4KHApfShlLHQsbik7aWYocj9yLmNhbGwobyx0aGlzLnNvdXJjZSk6by5hZGQodGhpcy5zb3VyY2V8fGQudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyYmIW8uc3luY0Vycm9yVGhyb3dhYmxlP3RoaXMuX3N1YnNjcmliZShvKTp0aGlzLl90cnlTdWJzY3JpYmUobykpLGQudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyYmby5zeW5jRXJyb3JUaHJvd2FibGUmJihvLnN5bmNFcnJvclRocm93YWJsZT0hMSxvLnN5bmNFcnJvclRocm93bikpdGhyb3cgby5zeW5jRXJyb3JWYWx1ZTtyZXR1cm4gb30sZS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIHRoaXMuX3N1YnNjcmliZShlKX1jYXRjaCh0KXtkLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJihlLnN5bmNFcnJvclRocm93bj0hMCxlLnN5bmNFcnJvclZhbHVlPXQpLGUuZXJyb3IodCl9fSxlLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gbmV3KHQ9Tih0KSkoZnVuY3Rpb24odCxyKXt2YXIgbztvPW4uc3Vic2NyaWJlKGZ1bmN0aW9uKHQpe3RyeXtlKHQpfWNhdGNoKGUpe3IoZSksbyYmby51bnN1YnNjcmliZSgpfX0scix0KX0pfSxlLnByb3RvdHlwZS5fc3Vic2NyaWJlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc291cmNlO3JldHVybiB0JiZ0LnN1YnNjcmliZShlKX0sZS5wcm90b3R5cGVba109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gMD09PWUubGVuZ3RoP3RoaXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/MT09PWUubGVuZ3RoP2VbMF06ZnVuY3Rpb24odCl7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQoZSl9LHQpfTpJfShlKSh0aGlzKX0sZS5wcm90b3R5cGUudG9Qcm9taXNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyhlPU4oZSkpKGZ1bmN0aW9uKGUsbil7dmFyIHI7dC5zdWJzY3JpYmUoZnVuY3Rpb24oZSl7cmV0dXJuIHI9ZX0sZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9LGZ1bmN0aW9uKCl7cmV0dXJuIGUocil9KX0pfSxlLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGV9KCk7ZnVuY3Rpb24gTihlKXtpZihlfHwoZT1kLlByb21pc2V8fFByb21pc2UpLCFlKXRocm93IG5ldyBFcnJvcigibm8gUHJvbWlzZSBpbXBsIGZvdW5kIik7cmV0dXJuIGV9dmFyIEE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4scil7dmFyIG89ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBvLnBhcmVudD10LG8ub3V0ZXJWYWx1ZT1uLG8ub3V0ZXJJbmRleD1yLG8uaW5kZXg9MCxvfXJldHVybiBvKHQsZSksdC5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnQubm90aWZ5TmV4dCh0aGlzLm91dGVyVmFsdWUsZSx0aGlzLm91dGVySW5kZXgsdGhpcy5pbmRleCsrLHRoaXMpfSx0LnByb3RvdHlwZS5fZXJyb3I9ZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnQubm90aWZ5RXJyb3IoZSx0aGlzKSx0aGlzLnVuc3Vic2NyaWJlKCl9LHQucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMucGFyZW50Lm5vdGlmeUNvbXBsZXRlKHRoaXMpLHRoaXMudW5zdWJzY3JpYmUoKX0sdH0oeCksRD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHImJiF0LmNsb3NlZDtuKyspdC5uZXh0KGVbbl0pO3QuY2xvc2VkfHx0LmNvbXBsZXRlKCl9fSxPPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS50aGVuKGZ1bmN0aW9uKGUpe3QuY2xvc2VkfHwodC5uZXh0KGUpLHQuY29tcGxldGUoKSl9LGZ1bmN0aW9uKGUpe3JldHVybiB0LmVycm9yKGUpfSkudGhlbihudWxsLGYpLHR9fSxQPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcj9TeW1ib2wuaXRlcmF0b3I6IkBAaXRlcmF0b3IiLFI9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1lW1BdKCk7Oyl7dmFyIHI9bi5uZXh0KCk7aWYoci5kb25lKXt0LmNvbXBsZXRlKCk7YnJlYWt9aWYodC5uZXh0KHIudmFsdWUpLHQuY2xvc2VkKWJyZWFrfXJldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuLnJldHVybiYmdC5hZGQoZnVuY3Rpb24oKXtuLnJldHVybiYmbi5yZXR1cm4oKX0pLHR9fSxNPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj1lW2tdKCk7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIG4uc3Vic2NyaWJlKXRocm93IG5ldyBUeXBlRXJyb3IoIlByb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlIik7cmV0dXJuIG4uc3Vic2NyaWJlKHQpfX0sVj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aCYmImZ1bmN0aW9uIiE9dHlwZW9mIGV9O2Z1bmN0aW9uIGooZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlLnN1YnNjcmliZSYmImZ1bmN0aW9uIj09dHlwZW9mIGUudGhlbn12YXIgSD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgUylyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuX2lzU2NhbGFyPyh0Lm5leHQoZS52YWx1ZSksdm9pZCB0LmNvbXBsZXRlKCkpOmUuc3Vic2NyaWJlKHQpfTtpZihlJiYiZnVuY3Rpb24iPT10eXBlb2YgZVtrXSlyZXR1cm4gTShlKTtpZihWKGUpKXJldHVybiBEKGUpO2lmKGooZSkpcmV0dXJuIE8oZSk7aWYoZSYmImZ1bmN0aW9uIj09dHlwZW9mIGVbUF0pcmV0dXJuIFIoZSk7dmFyIHQ9dihlKT8iYW4gaW52YWxpZCBvYmplY3QiOiInIitlKyInIjt0aHJvdyBuZXcgVHlwZUVycm9yKCJZb3UgcHJvdmlkZWQgIit0KyIgd2hlcmUgYSBzdHJlYW0gd2FzIGV4cGVjdGVkLiBZb3UgY2FuIHByb3ZpZGUgYW4gT2JzZXJ2YWJsZSwgUHJvbWlzZSwgQXJyYXksIG9yIEl0ZXJhYmxlLiIpfSxGPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBvKHQsZSksdC5wcm90b3R5cGUubm90aWZ5TmV4dD1mdW5jdGlvbihlLHQsbixyLG8pe3RoaXMuZGVzdGluYXRpb24ubmV4dCh0KX0sdC5wcm90b3R5cGUubm90aWZ5RXJyb3I9ZnVuY3Rpb24oZSx0KXt0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpfSx0LnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZT1mdW5jdGlvbihlKXt0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9LHR9KHgpO2Z1bmN0aW9uIEwoZSx0KXtyZXR1cm4gZnVuY3Rpb24obil7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb24uIEFyZSB5b3UgbG9va2luZyBmb3IgYG1hcFRvKClgPyIpO3JldHVybiBuLmxpZnQobmV3IEIoZSx0KSl9fXZhciBCPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMucHJvamVjdD1lLHRoaXMudGhpc0FyZz10fXJldHVybiBlLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuc3Vic2NyaWJlKG5ldyB6KGUsdGhpcy5wcm9qZWN0LHRoaXMudGhpc0FyZykpfSxlfSgpLHo9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4scil7dmFyIG89ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIG8ucHJvamVjdD1uLG8uY291bnQ9MCxvLnRoaXNBcmc9cnx8byxvfXJldHVybiBvKHQsZSksdC5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e3Q9dGhpcy5wcm9qZWN0LmNhbGwodGhpcy50aGlzQXJnLGUsdGhpcy5jb3VudCsrKX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpfXRoaXMuZGVzdGluYXRpb24ubmV4dCh0KX0sdH0oeCk7ZnVuY3Rpb24gVShlLHQpe3JldHVybiBuZXcgUyh0P2Z1bmN0aW9uKG4pe3ZhciByPW5ldyB3LG89MDtyZXR1cm4gci5hZGQodC5zY2hlZHVsZShmdW5jdGlvbigpe28hPT1lLmxlbmd0aD8obi5uZXh0KGVbbysrXSksbi5jbG9zZWR8fHIuYWRkKHRoaXMuc2NoZWR1bGUoKSkpOm4uY29tcGxldGUoKX0pKSxyfTpEKGUpKX12YXIgWj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2b2lkIDA9PT10JiYodD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLHRoaXMucHJvamVjdD1lLHRoaXMuY29uY3VycmVudD10fXJldHVybiBlLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuc3Vic2NyaWJlKG5ldyBxKGUsdGhpcy5wcm9qZWN0LHRoaXMuY29uY3VycmVudCkpfSxlfSgpLHE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4scil7dm9pZCAwPT09ciYmKHI9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTt2YXIgbz1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gby5wcm9qZWN0PW4sby5jb25jdXJyZW50PXIsby5oYXNDb21wbGV0ZWQ9ITEsby5idWZmZXI9W10sby5hY3RpdmU9MCxvLmluZGV4PTAsb31yZXR1cm4gbyh0LGUpLHQucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKGUpe3RoaXMuYWN0aXZlPHRoaXMuY29uY3VycmVudD90aGlzLl90cnlOZXh0KGUpOnRoaXMuYnVmZmVyLnB1c2goZSl9LHQucHJvdG90eXBlLl90cnlOZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcy5pbmRleCsrO3RyeXt0PXRoaXMucHJvamVjdChlLG4pfWNhdGNoKGUpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZSl9dGhpcy5hY3RpdmUrKyx0aGlzLl9pbm5lclN1Yih0LGUsbil9LHQucHJvdG90eXBlLl9pbm5lclN1Yj1mdW5jdGlvbihlLHQsbil7dGhpcy5hZGQoZnVuY3Rpb24oZSx0LG4scil7dmFyIG89bmV3IEEoZSxuLHIpO3JldHVybiBIKHQpKG8pfSh0aGlzLGUsdCxuKSl9LHQucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuaGFzQ29tcGxldGVkPSEwLDA9PT10aGlzLmFjdGl2ZSYmMD09PXRoaXMuYnVmZmVyLmxlbmd0aCYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfSx0LnByb3RvdHlwZS5ub3RpZnlOZXh0PWZ1bmN0aW9uKGUsdCxuLHIsbyl7dGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfSx0LnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmJ1ZmZlcjt0aGlzLnJlbW92ZShlKSx0aGlzLmFjdGl2ZS0tLHQubGVuZ3RoPjA/dGhpcy5fbmV4dCh0LnNoaWZ0KCkpOjA9PT10aGlzLmFjdGl2ZSYmdGhpcy5oYXNDb21wbGV0ZWQmJnRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX0sdH0oRik7ZnVuY3Rpb24gUShlKXtyZXR1cm4gZX1mdW5jdGlvbiBXKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLGZ1bmN0aW9uIGUodCxuLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLCJmdW5jdGlvbiI9PXR5cGVvZiBuP2Z1bmN0aW9uKG8pe3JldHVybiBvLnBpcGUoZShmdW5jdGlvbihlLHIpe3JldHVybiBmdW5jdGlvbihlLHQpe2lmKCF0KXJldHVybiBlIGluc3RhbmNlb2YgUz9lOm5ldyBTKEgoZSkpO2lmKG51bGwhPWUpe2lmKGZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgZVtrXX0oZSkpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBTKHQ/ZnVuY3Rpb24obil7dmFyIHI9bmV3IHc7cmV0dXJuIHIuYWRkKHQuc2NoZWR1bGUoZnVuY3Rpb24oKXt2YXIgbz1lW2tdKCk7ci5hZGQoby5zdWJzY3JpYmUoe25leHQ6ZnVuY3Rpb24oZSl7ci5hZGQodC5zY2hlZHVsZShmdW5jdGlvbigpe3JldHVybiBuLm5leHQoZSl9KSl9LGVycm9yOmZ1bmN0aW9uKGUpe3IuYWRkKHQuc2NoZWR1bGUoZnVuY3Rpb24oKXtyZXR1cm4gbi5lcnJvcihlKX0pKX0sY29tcGxldGU6ZnVuY3Rpb24oKXtyLmFkZCh0LnNjaGVkdWxlKGZ1bmN0aW9uKCl7cmV0dXJuIG4uY29tcGxldGUoKX0pKX19KSl9KSkscn06TShlKSl9KGUsdCk7aWYoaihlKSlyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFModD9mdW5jdGlvbihuKXt2YXIgcj1uZXcgdztyZXR1cm4gci5hZGQodC5zY2hlZHVsZShmdW5jdGlvbigpe3JldHVybiBlLnRoZW4oZnVuY3Rpb24oZSl7ci5hZGQodC5zY2hlZHVsZShmdW5jdGlvbigpe24ubmV4dChlKSxyLmFkZCh0LnNjaGVkdWxlKGZ1bmN0aW9uKCl7cmV0dXJuIG4uY29tcGxldGUoKX0pKX0pKX0sZnVuY3Rpb24oZSl7ci5hZGQodC5zY2hlZHVsZShmdW5jdGlvbigpe3JldHVybiBuLmVycm9yKGUpfSkpfSl9KSkscn06TyhlKSl9KGUsdCk7aWYoVihlKSlyZXR1cm4gVShlLHQpO2lmKGZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgZVtQXX0oZSl8fCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIkl0ZXJhYmxlIGNhbm5vdCBiZSBudWxsIik7cmV0dXJuIG5ldyBTKHQ/ZnVuY3Rpb24obil7dmFyIHIsbz1uZXcgdztyZXR1cm4gby5hZGQoZnVuY3Rpb24oKXtyJiYiZnVuY3Rpb24iPT10eXBlb2Ygci5yZXR1cm4mJnIucmV0dXJuKCl9KSxvLmFkZCh0LnNjaGVkdWxlKGZ1bmN0aW9uKCl7cj1lW1BdKCksby5hZGQodC5zY2hlZHVsZShmdW5jdGlvbigpe2lmKCFuLmNsb3NlZCl7dmFyIGUsdDt0cnl7dmFyIG89ci5uZXh0KCk7ZT1vLnZhbHVlLHQ9by5kb25lfWNhdGNoKGUpe3JldHVybiB2b2lkIG4uZXJyb3IoZSl9dD9uLmNvbXBsZXRlKCk6KG4ubmV4dChlKSx0aGlzLnNjaGVkdWxlKCkpfX0pKX0pKSxvfTpSKGUpKX0oZSx0KX10aHJvdyBuZXcgVHlwZUVycm9yKChudWxsIT09ZSYmdHlwZW9mIGV8fGUpKyIgaXMgbm90IG9ic2VydmFibGUiKX0odChlLHIpKS5waXBlKEwoZnVuY3Rpb24odCxvKXtyZXR1cm4gbihlLHQscixvKX0pKX0scikpfTooIm51bWJlciI9PXR5cGVvZiBuJiYocj1uKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5saWZ0KG5ldyBaKHQscikpfSl9KFEsZSl9ZnVuY3Rpb24gSygpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgbj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkscj1udWxsLG89ZVtlLmxlbmd0aC0xXTtyZXR1cm4gbyYmImZ1bmN0aW9uIj09dHlwZW9mIG8uc2NoZWR1bGU/KHI9ZS5wb3AoKSxlLmxlbmd0aD4xJiYibnVtYmVyIj09dHlwZW9mIGVbZS5sZW5ndGgtMV0mJihuPWUucG9wKCkpKToibnVtYmVyIj09dHlwZW9mIG8mJihuPWUucG9wKCkpLG51bGw9PT1yJiYxPT09ZS5sZW5ndGgmJmVbMF1pbnN0YW5jZW9mIFM/ZVswXTpXKG4pKFUoZSxyKSl9dmFyIEc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBuPWUuY2FsbCh0aGlzLCJvYmplY3QgdW5zdWJzY3JpYmVkIil8fHRoaXM7cmV0dXJuIG4ubmFtZT0iT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IiLE9iamVjdC5zZXRQcm90b3R5cGVPZihuLHQucHJvdG90eXBlKSxufXJldHVybiBvKHQsZSksdH0oRXJyb3IpLFk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5zdWJqZWN0PXQsci5zdWJzY3JpYmVyPW4sci5jbG9zZWQ9ITEscn1yZXR1cm4gbyh0LGUpLHQucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuY2xvc2VkKXt0aGlzLmNsb3NlZD0hMDt2YXIgZT10aGlzLnN1YmplY3QsdD1lLm9ic2VydmVycztpZih0aGlzLnN1YmplY3Q9bnVsbCx0JiYwIT09dC5sZW5ndGgmJiFlLmlzU3RvcHBlZCYmIWUuY2xvc2VkKXt2YXIgbj10LmluZGV4T2YodGhpcy5zdWJzY3JpYmVyKTstMSE9PW4mJnQuc3BsaWNlKG4sMSl9fX0sdH0odyksSj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBuLmRlc3RpbmF0aW9uPXQsbn1yZXR1cm4gbyh0LGUpLHR9KHgpLCQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC5vYnNlcnZlcnM9W10sdC5jbG9zZWQ9ITEsdC5pc1N0b3BwZWQ9ITEsdC5oYXNFcnJvcj0hMSx0LnRocm93bkVycm9yPW51bGwsdH1yZXR1cm4gbyh0LGUpLHQucHJvdG90eXBlW0NdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBKKHRoaXMpfSx0LnByb3RvdHlwZS5saWZ0PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBYKHRoaXMsdGhpcyk7cmV0dXJuIHQub3BlcmF0b3I9ZSx0fSx0LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGUpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBHO2lmKCF0aGlzLmlzU3RvcHBlZClmb3IodmFyIHQ9dGhpcy5vYnNlcnZlcnMsbj10Lmxlbmd0aCxyPXQuc2xpY2UoKSxvPTA7bzxuO28rKylyW29dLm5leHQoZSl9LHQucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKGUpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBHO3RoaXMuaGFzRXJyb3I9ITAsdGhpcy50aHJvd25FcnJvcj1lLHRoaXMuaXNTdG9wcGVkPSEwO2Zvcih2YXIgdD10aGlzLm9ic2VydmVycyxuPXQubGVuZ3RoLHI9dC5zbGljZSgpLG89MDtvPG47bysrKXJbb10uZXJyb3IoZSk7dGhpcy5vYnNlcnZlcnMubGVuZ3RoPTB9LHQucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEc7dGhpcy5pc1N0b3BwZWQ9ITA7Zm9yKHZhciBlPXRoaXMub2JzZXJ2ZXJzLHQ9ZS5sZW5ndGgsbj1lLnNsaWNlKCkscj0wO3I8dDtyKyspbltyXS5jb21wbGV0ZSgpO3RoaXMub2JzZXJ2ZXJzLmxlbmd0aD0wfSx0LnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3RoaXMuaXNTdG9wcGVkPSEwLHRoaXMuY2xvc2VkPSEwLHRoaXMub2JzZXJ2ZXJzPW51bGx9LHQucHJvdG90eXBlLl90cnlTdWJzY3JpYmU9ZnVuY3Rpb24odCl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEc7cmV0dXJuIGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmUuY2FsbCh0aGlzLHQpfSx0LnByb3RvdHlwZS5fc3Vic2NyaWJlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBHO3JldHVybiB0aGlzLmhhc0Vycm9yPyhlLmVycm9yKHRoaXMudGhyb3duRXJyb3IpLHcuRU1QVFkpOnRoaXMuaXNTdG9wcGVkPyhlLmNvbXBsZXRlKCksdy5FTVBUWSk6KHRoaXMub2JzZXJ2ZXJzLnB1c2goZSksbmV3IFkodGhpcyxlKSl9LHQucHJvdG90eXBlLmFzT2JzZXJ2YWJsZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBTO3JldHVybiBlLnNvdXJjZT10aGlzLGV9LHQuY3JlYXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBYKGUsdCl9LHR9KFMpLFg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5kZXN0aW5hdGlvbj10LHIuc291cmNlPW4scn1yZXR1cm4gbyh0LGUpLHQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kZXN0aW5hdGlvbjt0JiZ0Lm5leHQmJnQubmV4dChlKX0sdC5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kZXN0aW5hdGlvbjt0JiZ0LmVycm9yJiZ0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpfSx0LnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZGVzdGluYXRpb247ZSYmZS5jb21wbGV0ZSYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfSx0LnByb3RvdHlwZS5fc3Vic2NyaWJlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNvdXJjZT90aGlzLnNvdXJjZS5zdWJzY3JpYmUoZSk6dy5FTVBUWX0sdH0oJCk7ZnVuY3Rpb24gZWUoKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlmdChuZXcgdGUoZSkpfX12YXIgdGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuY29ubmVjdGFibGU9ZX1yZXR1cm4gZS5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY29ubmVjdGFibGU7bi5fcmVmQ291bnQrKzt2YXIgcj1uZXcgbmUoZSxuKSxvPXQuc3Vic2NyaWJlKHIpO3JldHVybiByLmNsb3NlZHx8KHIuY29ubmVjdGlvbj1uLmNvbm5lY3QoKSksb30sZX0oKSxuZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIuY29ubmVjdGFibGU9bixyfXJldHVybiBvKHQsZSksdC5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb25uZWN0YWJsZTtpZihlKXt0aGlzLmNvbm5lY3RhYmxlPW51bGw7dmFyIHQ9ZS5fcmVmQ291bnQ7aWYodDw9MCl0aGlzLmNvbm5lY3Rpb249bnVsbDtlbHNlIGlmKGUuX3JlZkNvdW50PXQtMSx0PjEpdGhpcy5jb25uZWN0aW9uPW51bGw7ZWxzZXt2YXIgbj10aGlzLmNvbm5lY3Rpb24scj1lLl9jb25uZWN0aW9uO3RoaXMuY29ubmVjdGlvbj1udWxsLCFyfHxuJiZyIT09bnx8ci51bnN1YnNjcmliZSgpfX1lbHNlIHRoaXMuY29ubmVjdGlvbj1udWxsfSx0fSh4KSxyZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLnNvdXJjZT10LHIuc3ViamVjdEZhY3Rvcnk9bixyLl9yZWZDb3VudD0wLHIuX2lzQ29tcGxldGU9ITEscn1yZXR1cm4gbyh0LGUpLHQucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0U3ViamVjdCgpLnN1YnNjcmliZShlKX0sdC5wcm90b3R5cGUuZ2V0U3ViamVjdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3N1YmplY3Q7cmV0dXJuIGUmJiFlLmlzU3RvcHBlZHx8KHRoaXMuX3N1YmplY3Q9dGhpcy5zdWJqZWN0RmFjdG9yeSgpKSx0aGlzLl9zdWJqZWN0fSx0LnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fY29ubmVjdGlvbjtyZXR1cm4gZXx8KHRoaXMuX2lzQ29tcGxldGU9ITEsKGU9dGhpcy5fY29ubmVjdGlvbj1uZXcgdykuYWRkKHRoaXMuc291cmNlLnN1YnNjcmliZShuZXcgaWUodGhpcy5nZXRTdWJqZWN0KCksdGhpcykpKSxlLmNsb3NlZD8odGhpcy5fY29ubmVjdGlvbj1udWxsLGU9dy5FTVBUWSk6dGhpcy5fY29ubmVjdGlvbj1lKSxlfSx0LnByb3RvdHlwZS5yZWZDb3VudD1mdW5jdGlvbigpe3JldHVybiBlZSgpKHRoaXMpfSx0fShTKS5wcm90b3R5cGUsb2U9e29wZXJhdG9yOnt2YWx1ZTpudWxsfSxfcmVmQ291bnQ6e3ZhbHVlOjAsd3JpdGFibGU6ITB9LF9zdWJqZWN0Ont2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSxfY29ubmVjdGlvbjp7dmFsdWU6bnVsbCx3cml0YWJsZTohMH0sX3N1YnNjcmliZTp7dmFsdWU6cmUuX3N1YnNjcmliZX0sX2lzQ29tcGxldGU6e3ZhbHVlOnJlLl9pc0NvbXBsZXRlLHdyaXRhYmxlOiEwfSxnZXRTdWJqZWN0Ont2YWx1ZTpyZS5nZXRTdWJqZWN0fSxjb25uZWN0Ont2YWx1ZTpyZS5jb25uZWN0fSxyZWZDb3VudDp7dmFsdWU6cmUucmVmQ291bnR9fSxpZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIuY29ubmVjdGFibGU9bixyfXJldHVybiBvKHQsZSksdC5wcm90b3R5cGUuX2Vycm9yPWZ1bmN0aW9uKHQpe3RoaXMuX3Vuc3Vic2NyaWJlKCksZS5wcm90b3R5cGUuX2Vycm9yLmNhbGwodGhpcyx0KX0sdC5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5jb25uZWN0YWJsZS5faXNDb21wbGV0ZT0hMCx0aGlzLl91bnN1YnNjcmliZSgpLGUucHJvdG90eXBlLl9jb21wbGV0ZS5jYWxsKHRoaXMpfSx0LnByb3RvdHlwZS5fdW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvbm5lY3RhYmxlO2lmKGUpe3RoaXMuY29ubmVjdGFibGU9bnVsbDt2YXIgdD1lLl9jb25uZWN0aW9uO2UuX3JlZkNvdW50PTAsZS5fc3ViamVjdD1udWxsLGUuX2Nvbm5lY3Rpb249bnVsbCx0JiZ0LnVuc3Vic2NyaWJlKCl9fSx0fShKKTshZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5zdWJqZWN0RmFjdG9yeT1lLHRoaXMuc2VsZWN0b3I9dH1lLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zZWxlY3RvcixyPXRoaXMuc3ViamVjdEZhY3RvcnkoKSxvPW4ocikuc3Vic2NyaWJlKGUpO3JldHVybiBvLmFkZCh0LnN1YnNjcmliZShyKSksb319KCk7ZnVuY3Rpb24gc2UoKXtyZXR1cm4gbmV3ICR9ZnVuY3Rpb24gdWUoZSl7cmV0dXJue3Byb3ZpZGVkSW46ZS5wcm92aWRlZElufHxudWxsLGZhY3Rvcnk6ZS5mYWN0b3J5LHZhbHVlOnZvaWQgMH19dmFyIGFlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuX2Rlc2M9ZSx0aGlzLm5nTWV0YWRhdGFOYW1lPSJJbmplY3Rpb25Ub2tlbiIsdGhpcy5uZ0luamVjdGFibGVEZWY9dm9pZCAwIT09dD91ZSh7cHJvdmlkZWRJbjp0LnByb3ZpZGVkSW58fCJyb290IixmYWN0b3J5OnQuZmFjdG9yeX0pOnZvaWQgMH1yZXR1cm4gZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iSW5qZWN0aW9uVG9rZW4gIit0aGlzLl9kZXNjfSxlfSgpLGNlPSJfX3BhcmFtZXRlcnNfXyI7ZnVuY3Rpb24gbGUoZSx0LG4pe3ZhciByPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W25dPWFyZ3VtZW50c1tuXTtpZihlKXt2YXIgcj1lLmFwcGx5KHZvaWQgMCxhKHQpKTtmb3IodmFyIG8gaW4gcil0aGlzW29dPXJbb119fX0odCk7ZnVuY3Rpb24gbygpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtpZih0aGlzIGluc3RhbmNlb2YgbylyZXR1cm4gci5hcHBseSh0aGlzLGUpLHRoaXM7dmFyIG4saT1uZXcoKG49bykuYmluZC5hcHBseShuLGEoW3ZvaWQgMF0sZSkpKTtyZXR1cm4gcy5hbm5vdGF0aW9uPWkscztmdW5jdGlvbiBzKGUsdCxuKXtmb3IodmFyIHI9ZS5oYXNPd25Qcm9wZXJ0eShjZSk/ZVtjZV06T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsY2Use3ZhbHVlOltdfSlbY2VdO3IubGVuZ3RoPD1uOylyLnB1c2gobnVsbCk7cmV0dXJuKHJbbl09cltuXXx8W10pLnB1c2goaSksZX19cmV0dXJuIG4mJihvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSksby5wcm90b3R5cGUubmdNZXRhZGF0YU5hbWU9ZSxvLmFubm90YXRpb25DbHM9byxvfXZhciBkZT0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LGZlPSJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmInVuZGVmaW5lZCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZzZWxmLHBlPSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwsaGU9ZGV8fHBlfHxmZSx2ZT1Qcm9taXNlLnJlc29sdmUoMCkseWU9bnVsbDtmdW5jdGlvbiBnZSgpe2lmKCF5ZSl7dmFyIGU9aGUuU3ltYm9sO2lmKGUmJmUuaXRlcmF0b3IpeWU9ZS5pdGVyYXRvcjtlbHNlIGZvcih2YXIgdD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhNYXAucHJvdG90eXBlKSxuPTA7bjx0Lmxlbmd0aDsrK24pe3ZhciByPXRbbl07ImVudHJpZXMiIT09ciYmInNpemUiIT09ciYmTWFwLnByb3RvdHlwZVtyXT09PU1hcC5wcm90b3R5cGUuZW50cmllcyYmKHllPXIpfX1yZXR1cm4geWV9ZnVuY3Rpb24gbWUoZSl7InVuZGVmaW5lZCI9PXR5cGVvZiBab25lP3ZlLnRoZW4oZnVuY3Rpb24oKXtlJiZlLmFwcGx5KG51bGwsbnVsbCl9KTpab25lLmN1cnJlbnQuc2NoZWR1bGVNaWNyb1Rhc2soInNjaGVkdWxlTWljcm90YXNrIixlKX1mdW5jdGlvbiBiZShlLHQpe3JldHVybiBlPT09dHx8Im51bWJlciI9PXR5cGVvZiBlJiYibnVtYmVyIj09dHlwZW9mIHQmJmlzTmFOKGUpJiZpc05hTih0KX1mdW5jdGlvbiBfZShlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGU7aWYoZSBpbnN0YW5jZW9mIEFycmF5KXJldHVybiJbIitlLm1hcChfZSkuam9pbigiLCAiKSsiXSI7aWYobnVsbD09ZSlyZXR1cm4iIitlO2lmKGUub3ZlcnJpZGRlbk5hbWUpcmV0dXJuIiIrZS5vdmVycmlkZGVuTmFtZTtpZihlLm5hbWUpcmV0dXJuIiIrZS5uYW1lO3ZhciB0PWUudG9TdHJpbmcoKTtpZihudWxsPT10KXJldHVybiIiK3Q7dmFyIG49dC5pbmRleE9mKCJcbiIpO3JldHVybi0xPT09bj90OnQuc3Vic3RyaW5nKDAsbil9ZnVuY3Rpb24gd2UoZSl7cmV0dXJuIGUuX19mb3J3YXJkX3JlZl9fPXdlLGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gX2UodGhpcygpKX0sZX1mdW5jdGlvbiBFZShlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5oYXNPd25Qcm9wZXJ0eSgiX19mb3J3YXJkX3JlZl9fIikmJmUuX19mb3J3YXJkX3JlZl9fPT09d2U/ZSgpOmV9dmFyIENlPWxlKCJJbmplY3QiLGZ1bmN0aW9uKGUpe3JldHVybnt0b2tlbjplfX0pLHhlPWxlKCJPcHRpb25hbCIpLFRlPWxlKCJTZWxmIiksa2U9bGUoIlNraXBTZWxmIiksSWU9Il9fc291cmNlIixTZT1uZXcgT2JqZWN0LE5lPW5ldyBhZSgiSU5KRUNUT1IiKSxBZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PVNlKSx0PT09U2UpdGhyb3cgbmV3IEVycm9yKCJOdWxsSW5qZWN0b3JFcnJvcjogTm8gcHJvdmlkZXIgZm9yICIrX2UoZSkrIiEiKTtyZXR1cm4gdH0sZX0oKSxEZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuY3JlYXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/bmV3IHplKGUsdCk6bmV3IHplKGUucHJvdmlkZXJzLGUucGFyZW50LGUubmFtZXx8bnVsbCl9LGUuVEhST1dfSUZfTk9UX0ZPVU5EPVNlLGUuTlVMTD1uZXcgQWUsZS5uZ0luamVjdGFibGVEZWY9dWUoe3Byb3ZpZGVkSW46ImFueSIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PVFlKXRocm93IG5ldyBFcnJvcigiaW5qZWN0KCkgbXVzdCBiZSBjYWxsZWQgZnJvbSBhbiBpbmplY3Rpb24gY29udGV4dCIpO2lmKG51bGw9PT1RZSl7dmFyIG49ZS5uZ0luamVjdGFibGVEZWY7aWYobiYmInJvb3QiPT1uLnByb3ZpZGVkSW4pcmV0dXJuIHZvaWQgMD09PW4udmFsdWU/bi52YWx1ZT1uLmZhY3RvcnkoKTpuLnZhbHVlO3Rocm93IG5ldyBFcnJvcigiSW5qZWN0b3I6IE5PVF9GT1VORCBbIitfZShlKSsiXSIpfXJldHVybiBRZS5nZXQoZSw4JnQ/bnVsbDp2b2lkIDAsdCl9KE5lKX19KSxlfSgpLE9lPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxQZT1bXSxSZT1PZSxNZT1mdW5jdGlvbigpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpfSxWZT17fSxqZT1mdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSlpZihlW3RdPT09VmUpcmV0dXJuIHQ7dGhyb3cgRXJyb3IoIiFwcm9wIil9KHtwcm92aWRlOlN0cmluZyx1c2VWYWx1ZTpWZX0pLEhlPSJuZ1RlbXBUb2tlblBhdGgiLEZlPURlLk5VTEwsTGU9L1xuL2dtLEJlPSLJtSIsemU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt2b2lkIDA9PT10JiYodD1GZSksdm9pZCAwPT09biYmKG49bnVsbCksdGhpcy5wYXJlbnQ9dCx0aGlzLnNvdXJjZT1uO3ZhciByPXRoaXMuX3JlY29yZHM9bmV3IE1hcDtyLnNldChEZSx7dG9rZW46RGUsZm46T2UsZGVwczpQZSx2YWx1ZTp0aGlzLHVzZU5ldzohMX0pLHIuc2V0KE5lLHt0b2tlbjpOZSxmbjpPZSxkZXBzOlBlLHZhbHVlOnRoaXMsdXNlTmV3OiExfSksZnVuY3Rpb24gZSh0LG4pe2lmKG4paWYoKG49RWUobikpaW5zdGFuY2VvZiBBcnJheSlmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyllKHQsbltyXSk7ZWxzZXtpZigiZnVuY3Rpb24iPT10eXBlb2Ygbil0aHJvdyBxZSgiRnVuY3Rpb24vQ2xhc3Mgbm90IHN1cHBvcnRlZCIsbik7aWYoIW58fCJvYmplY3QiIT10eXBlb2Ygbnx8IW4ucHJvdmlkZSl0aHJvdyBxZSgiVW5leHBlY3RlZCBwcm92aWRlciIsbik7dmFyIG89RWUobi5wcm92aWRlKSxpPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciB0PVBlLG49ZS5kZXBzO2lmKG4mJm4ubGVuZ3RoKXt0PVtdO2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz02O2lmKChhPUVlKG5bcl0pKWluc3RhbmNlb2YgQXJyYXkpZm9yKHZhciBpPTAscz1hO2k8cy5sZW5ndGg7aSsrKXt2YXIgdT1zW2ldO3UgaW5zdGFuY2VvZiB4ZXx8dT09eGU/b3w9MTp1IGluc3RhbmNlb2Yga2V8fHU9PWtlP28mPS0zOnUgaW5zdGFuY2VvZiBUZXx8dT09VGU/byY9LTU6YT11IGluc3RhbmNlb2YgQ2U/dS50b2tlbjpFZSh1KX10LnB1c2goe3Rva2VuOmEsb3B0aW9uczpvfSl9fWVsc2UgaWYoZS51c2VFeGlzdGluZyl7dmFyIGE7dD1be3Rva2VuOmE9RWUoZS51c2VFeGlzdGluZyksb3B0aW9uczo2fV19ZWxzZSBpZighKG58fGplIGluIGUpKXRocm93IHFlKCInZGVwcycgcmVxdWlyZWQiLGUpO3JldHVybiB0fShlKSxuPU9lLHI9UGUsbz0hMSxpPUVlKGUucHJvdmlkZSk7aWYoamUgaW4gZSlyPWUudXNlVmFsdWU7ZWxzZSBpZihlLnVzZUZhY3Rvcnkpbj1lLnVzZUZhY3Rvcnk7ZWxzZSBpZihlLnVzZUV4aXN0aW5nKTtlbHNlIGlmKGUudXNlQ2xhc3Mpbz0hMCxuPUVlKGUudXNlQ2xhc3MpO2Vsc2V7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGkpdGhyb3cgcWUoIlN0YXRpY1Byb3ZpZGVyIGRvZXMgbm90IGhhdmUgW3VzZVZhbHVlfHVzZUZhY3Rvcnl8dXNlRXhpc3Rpbmd8dXNlQ2xhc3NdIG9yIFtwcm92aWRlXSBpcyBub3QgbmV3YWJsZSIsZSk7bz0hMCxuPWl9cmV0dXJue2RlcHM6dCxmbjpuLHVzZU5ldzpvLHZhbHVlOnJ9fShuKTtpZighMD09PW4ubXVsdGkpe3ZhciBzPXQuZ2V0KG8pO2lmKHMpe2lmKHMuZm4hPT1NZSl0aHJvdyBVZShvKX1lbHNlIHQuc2V0KG8scz17dG9rZW46bi5wcm92aWRlLGRlcHM6W10sdXNlTmV3OiExLGZuOk1lLHZhbHVlOlBlfSk7bz1uLHMuZGVwcy5wdXNoKHt0b2tlbjpvLG9wdGlvbnM6Nn0pfXZhciB1PXQuZ2V0KG8pO2lmKHUmJnUuZm49PU1lKXRocm93IFVlKG8pO3Quc2V0KG8saSl9fShyLGUpfXJldHVybiBlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PW4mJihuPTApO3ZhciByPXRoaXMuX3JlY29yZHMuZ2V0KGUpO3RyeXtyZXR1cm4gZnVuY3Rpb24gZSh0LG4scixvLGkscyl7dHJ5e3JldHVybiBmdW5jdGlvbih0LG4scixvLGkscyl7dmFyIHUsYztpZighbnx8NCZzKTImc3x8KHU9by5nZXQodCxpLDApKTtlbHNle2lmKCh1PW4udmFsdWUpPT1SZSl0aHJvdyBFcnJvcihCZSsiQ2lyY3VsYXIgZGVwZW5kZW5jeSIpO2lmKHU9PT1QZSl7bi52YWx1ZT1SZTt2YXIgbD1uLnVzZU5ldyxkPW4uZm4sZj1uLmRlcHMscD1QZTtpZihmLmxlbmd0aCl7cD1bXTtmb3IodmFyIGg9MDtoPGYubGVuZ3RoO2grKyl7dmFyIHY9ZltoXSx5PXYub3B0aW9ucyxnPTImeT9yLmdldCh2LnRva2VuKTp2b2lkIDA7cC5wdXNoKGUodi50b2tlbixnLHIsZ3x8NCZ5P286RmUsMSZ5P251bGw6RGUuVEhST1dfSUZfTk9UX0ZPVU5ELDApKX19bi52YWx1ZT11PWw/bmV3KChjPWQpLmJpbmQuYXBwbHkoYyxhKFt2b2lkIDBdLHApKSk6ZC5hcHBseSh2b2lkIDAscCl9fXJldHVybiB1fSh0LG4scixvLGkscyl9Y2F0Y2gocil7dGhyb3cgciBpbnN0YW5jZW9mIEVycm9yfHwocj1uZXcgRXJyb3IocikpLChyW0hlXT1yW0hlXXx8W10pLnVuc2hpZnQodCksbiYmbi52YWx1ZT09UmUmJihuLnZhbHVlPVBlKSxyfX0oZSxyLHRoaXMuX3JlY29yZHMsdGhpcy5wYXJlbnQsdCxuKX1jYXRjaCh0KXt2YXIgbz10W0hlXTt0aHJvdyBlW0llXSYmby51bnNoaWZ0KGVbSWVdKSx0Lm1lc3NhZ2U9WmUoIlxuIit0Lm1lc3NhZ2Usbyx0aGlzLnNvdXJjZSksdC5uZ1Rva2VuUGF0aD1vLHRbSGVdPW51bGwsdH19LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuX3JlY29yZHMuZm9yRWFjaChmdW5jdGlvbih0LG4pe3JldHVybiBlLnB1c2goX2UobikpfSksIlN0YXRpY0luamVjdG9yWyIrZS5qb2luKCIsICIpKyJdIn0sZX0oKTtmdW5jdGlvbiBVZShlKXtyZXR1cm4gcWUoIkNhbm5vdCBtaXggbXVsdGkgcHJvdmlkZXJzIGFuZCByZWd1bGFyIHByb3ZpZGVycyIsZSl9ZnVuY3Rpb24gWmUoZSx0LG4pe3ZvaWQgMD09PW4mJihuPW51bGwpLGU9ZSYmIlxuIj09PWUuY2hhckF0KDApJiZlLmNoYXJBdCgxKT09QmU/ZS5zdWJzdHIoMik6ZTt2YXIgcj1fZSh0KTtpZih0IGluc3RhbmNlb2YgQXJyYXkpcj10Lm1hcChfZSkuam9pbigiIC0+ICIpO2Vsc2UgaWYoIm9iamVjdCI9PXR5cGVvZiB0KXt2YXIgbz1bXTtmb3IodmFyIGkgaW4gdClpZih0Lmhhc093blByb3BlcnR5KGkpKXt2YXIgcz10W2ldO28ucHVzaChpKyI6IisoInN0cmluZyI9PXR5cGVvZiBzP0pTT04uc3RyaW5naWZ5KHMpOl9lKHMpKSl9cj0ieyIrby5qb2luKCIsICIpKyJ9In1yZXR1cm4iU3RhdGljSW5qZWN0b3JFcnJvciIrKG4/IigiK24rIikiOiIiKSsiWyIrcisiXTogIitlLnJlcGxhY2UoTGUsIlxuICAiKX1mdW5jdGlvbiBxZShlLHQpe3JldHVybiBuZXcgRXJyb3IoWmUoZSx0KSl9dmFyIFFlPXZvaWQgMDtmdW5jdGlvbiBXZShlKXt2YXIgdD1RZTtyZXR1cm4gUWU9ZSx0fXZhciBLZT1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLkVtdWxhdGVkPTBdPSJFbXVsYXRlZCIsZVtlLk5hdGl2ZT0xXT0iTmF0aXZlIixlW2UuTm9uZT0yXT0iTm9uZSIsZX0oe30pLEdlPW5ldyBmdW5jdGlvbihlKXt0aGlzLmZ1bGw9ZSx0aGlzLm1ham9yPWUuc3BsaXQoIi4iKVswXSx0aGlzLm1pbm9yPWUuc3BsaXQoIi4iKVsxXSx0aGlzLnBhdGNoPWUuc3BsaXQoIi4iKS5zbGljZSgyKS5qb2luKCIuIil9KCI2LjAuNyIpLFllPSJuZ0RlYnVnQ29udGV4dCIsSmU9Im5nT3JpZ2luYWxFcnJvciIsJGU9Im5nRXJyb3JMb2dnZXIiO2Z1bmN0aW9uIFhlKGUpe3JldHVybiBlW1llXX1mdW5jdGlvbiBldChlKXtyZXR1cm4gZVtKZV19ZnVuY3Rpb24gdHQoZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07ZS5lcnJvci5hcHBseShlLGEodCkpfXZhciBudD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9jb25zb2xlPWNvbnNvbGV9cmV0dXJuIGUucHJvdG90eXBlLmhhbmRsZUVycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2ZpbmRPcmlnaW5hbEVycm9yKGUpLG49dGhpcy5fZmluZENvbnRleHQoZSkscj1mdW5jdGlvbihlKXtyZXR1cm4gZVskZV18fHR0fShlKTtyKHRoaXMuX2NvbnNvbGUsIkVSUk9SIixlKSx0JiZyKHRoaXMuX2NvbnNvbGUsIk9SSUdJTkFMIEVSUk9SIix0KSxuJiZyKHRoaXMuX2NvbnNvbGUsIkVSUk9SIENPTlRFWFQiLG4pfSxlLnByb3RvdHlwZS5fZmluZENvbnRleHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/WGUoZSk/WGUoZSk6dGhpcy5fZmluZENvbnRleHQoZXQoZSkpOm51bGx9LGUucHJvdG90eXBlLl9maW5kT3JpZ2luYWxFcnJvcj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZXQoZSk7dCYmZXQodCk7KXQ9ZXQodCk7cmV0dXJuIHR9LGV9KCkscnQ9bmV3IGFlKCJUaGUgcHJlc2VuY2Ugb2YgdGhpcyB0b2tlbiBtYXJrcyBhbiBpbmplY3RvciBhcyBiZWluZyB0aGUgcm9vdCBpbmplY3Rvci4iKTtmdW5jdGlvbiBvdChlKXtyZXR1cm4hIWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnRoZW59dmFyIGl0PW5ldyBhZSgiQXBwbGljYXRpb24gSW5pdGlhbGl6ZXIiKSxzdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHQ9dGhpczt0aGlzLmFwcEluaXRzPWUsdGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLmRvbmU9ITEsdGhpcy5kb25lUHJvbWlzZT1uZXcgUHJvbWlzZShmdW5jdGlvbihlLG4pe3QucmVzb2x2ZT1lLHQucmVqZWN0PW59KX1yZXR1cm4gZS5wcm90b3R5cGUucnVuSW5pdGlhbGl6ZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5pbml0aWFsaXplZCl7dmFyIHQ9W10sbj1mdW5jdGlvbigpe2UuZG9uZT0hMCxlLnJlc29sdmUoKX07aWYodGhpcy5hcHBJbml0cylmb3IodmFyIHI9MDtyPHRoaXMuYXBwSW5pdHMubGVuZ3RoO3IrKyl7dmFyIG89dGhpcy5hcHBJbml0c1tyXSgpO290KG8pJiZ0LnB1c2gobyl9UHJvbWlzZS5hbGwodCkudGhlbihmdW5jdGlvbigpe24oKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2UucmVqZWN0KHQpfSksMD09PXQubGVuZ3RoJiZuKCksdGhpcy5pbml0aWFsaXplZD0hMH19LGV9KCksdXQ9bmV3IGFlKCJBcHBJZCIpO2Z1bmN0aW9uIGF0KCl7cmV0dXJuIiIrY3QoKStjdCgpK2N0KCl9ZnVuY3Rpb24gY3QoKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg5NytNYXRoLmZsb29yKDI1Kk1hdGgucmFuZG9tKCkpKX12YXIgbHQ9bmV3IGFlKCJQbGF0Zm9ybSBJbml0aWFsaXplciIpLGR0PW5ldyBhZSgiUGxhdGZvcm0gSUQiKSxmdD1uZXcgYWUoImFwcEJvb3RzdHJhcExpc3RlbmVyIikscHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coZSl9LGUucHJvdG90eXBlLndhcm49ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKGUpfSxlfSgpO2Z1bmN0aW9uIGh0KCl7dGhyb3cgbmV3IEVycm9yKCJSdW50aW1lIGNvbXBpbGVyIGlzIG5vdCBsb2FkZWQiKX12YXIgdnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5jb21waWxlTW9kdWxlU3luYz1mdW5jdGlvbihlKXt0aHJvdyBodCgpfSxlLnByb3RvdHlwZS5jb21waWxlTW9kdWxlQXN5bmM9ZnVuY3Rpb24oZSl7dGhyb3cgaHQoKX0sZS5wcm90b3R5cGUuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jPWZ1bmN0aW9uKGUpe3Rocm93IGh0KCl9LGUucHJvdG90eXBlLmNvbXBpbGVNb2R1bGVBbmRBbGxDb21wb25lbnRzQXN5bmM9ZnVuY3Rpb24oZSl7dGhyb3cgaHQoKX0sZS5wcm90b3R5cGUuY2xlYXJDYWNoZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuY2xlYXJDYWNoZUZvcj1mdW5jdGlvbihlKXt9LGV9KCkseXQ9ZnVuY3Rpb24oKXt9LGd0PWZ1bmN0aW9uKCl7fSxtdD1mdW5jdGlvbigpe307ZnVuY3Rpb24gYnQoZSl7dmFyIHQ9RXJyb3IoIk5vIGNvbXBvbmVudCBmYWN0b3J5IGZvdW5kIGZvciAiK19lKGUpKyIuIERpZCB5b3UgYWRkIGl0IHRvIEBOZ01vZHVsZS5lbnRyeUNvbXBvbmVudHM/Iik7cmV0dXJuIHRbRXRdPWUsdH12YXIgX3Qsd3QsRXQ9Im5nQ29tcG9uZW50IixDdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLnJlc29sdmVDb21wb25lbnRGYWN0b3J5PWZ1bmN0aW9uKGUpe3Rocm93IGJ0KGUpfSxlfSgpLHh0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5OVUxMPW5ldyBDdCxlfSgpLFR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dGhpcy5fcGFyZW50PXQsdGhpcy5fbmdNb2R1bGU9bix0aGlzLl9mYWN0b3JpZXM9bmV3IE1hcDtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXTt0aGlzLl9mYWN0b3JpZXMuc2V0KG8uY29tcG9uZW50VHlwZSxvKX19cmV0dXJuIGUucHJvdG90eXBlLnJlc29sdmVDb21wb25lbnRGYWN0b3J5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2ZhY3Rvcmllcy5nZXQoZSk7aWYoIXQmJnRoaXMuX3BhcmVudCYmKHQ9dGhpcy5fcGFyZW50LnJlc29sdmVDb21wb25lbnRGYWN0b3J5KGUpKSwhdCl0aHJvdyBidChlKTtyZXR1cm4gbmV3IGt0KHQsdGhpcy5fbmdNb2R1bGUpfSxlfSgpLGt0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuZmFjdG9yeT10LHIubmdNb2R1bGU9bixyLnNlbGVjdG9yPXQuc2VsZWN0b3Isci5jb21wb25lbnRUeXBlPXQuY29tcG9uZW50VHlwZSxyLm5nQ29udGVudFNlbGVjdG9ycz10Lm5nQ29udGVudFNlbGVjdG9ycyxyLmlucHV0cz10LmlucHV0cyxyLm91dHB1dHM9dC5vdXRwdXRzLHJ9cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmFjdG9yeS5jcmVhdGUoZSx0LG4scnx8dGhpcy5uZ01vZHVsZSl9LHR9KG10KSxJdD1mdW5jdGlvbigpe30sU3Q9ZnVuY3Rpb24oKXt9LE50PWZ1bmN0aW9uKCl7dmFyIGU9aGUud3RmO3JldHVybiEoIWV8fCEoX3Q9ZS50cmFjZSl8fCh3dD1fdC5ldmVudHMsMCkpfSgpO2Z1bmN0aW9uIEF0KGUsdCl7cmV0dXJuIG51bGx9dmFyIER0PU50P2Z1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW51bGwpLHd0LmNyZWF0ZVNjb3BlKGUsdCl9OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEF0fSxPdD1OdD9mdW5jdGlvbihlLHQpe3JldHVybiBfdC5sZWF2ZVNjb3BlKGUsdCksdH06ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0sUHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD0hMSk7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLl9faXNBc3luYz10LG59cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQpe2UucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLHQpfSx0LnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24odCxuLHIpe3ZhciBvLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGx9LHM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07dCYmIm9iamVjdCI9PXR5cGVvZiB0PyhvPXRoaXMuX19pc0FzeW5jP2Z1bmN0aW9uKGUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdC5uZXh0KGUpfSl9OmZ1bmN0aW9uKGUpe3QubmV4dChlKX0sdC5lcnJvciYmKGk9dGhpcy5fX2lzQXN5bmM/ZnVuY3Rpb24oZSl7c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0LmVycm9yKGUpfSl9OmZ1bmN0aW9uKGUpe3QuZXJyb3IoZSl9KSx0LmNvbXBsZXRlJiYocz10aGlzLl9faXNBc3luYz9mdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdC5jb21wbGV0ZSgpfSl9OmZ1bmN0aW9uKCl7dC5jb21wbGV0ZSgpfSkpOihvPXRoaXMuX19pc0FzeW5jP2Z1bmN0aW9uKGUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdChlKX0pfTpmdW5jdGlvbihlKXt0KGUpfSxuJiYoaT10aGlzLl9faXNBc3luYz9mdW5jdGlvbihlKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIG4oZSl9KX06ZnVuY3Rpb24oZSl7bihlKX0pLHImJihzPXRoaXMuX19pc0FzeW5jP2Z1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiByKCl9KX06ZnVuY3Rpb24oKXtyKCl9KSk7dmFyIHU9ZS5wcm90b3R5cGUuc3Vic2NyaWJlLmNhbGwodGhpcyxvLGkscyk7cmV0dXJuIHQgaW5zdGFuY2VvZiB3JiZ0LmFkZCh1KSx1fSx0fSgkKSxSdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHQ9ZS5lbmFibGVMb25nU3RhY2tUcmFjZSxuPXZvaWQgMCE9PXQmJnQ7aWYodGhpcy5oYXNQZW5kaW5nTWljcm90YXNrcz0hMSx0aGlzLmhhc1BlbmRpbmdNYWNyb3Rhc2tzPSExLHRoaXMuaXNTdGFibGU9ITAsdGhpcy5vblVuc3RhYmxlPW5ldyBQdCghMSksdGhpcy5vbk1pY3JvdGFza0VtcHR5PW5ldyBQdCghMSksdGhpcy5vblN0YWJsZT1uZXcgUHQoITEpLHRoaXMub25FcnJvcj1uZXcgUHQoITEpLCJ1bmRlZmluZWQiPT10eXBlb2YgWm9uZSl0aHJvdyBuZXcgRXJyb3IoIkluIHRoaXMgY29uZmlndXJhdGlvbiBBbmd1bGFyIHJlcXVpcmVzIFpvbmUuanMiKTtab25lLmFzc2VydFpvbmVQYXRjaGVkKCksdGhpcy5fbmVzdGluZz0wLHRoaXMuX291dGVyPXRoaXMuX2lubmVyPVpvbmUuY3VycmVudCxab25lLnd0ZlpvbmVTcGVjJiYodGhpcy5faW5uZXI9dGhpcy5faW5uZXIuZm9yayhab25lLnd0ZlpvbmVTcGVjKSksWm9uZS5UYXNrVHJhY2tpbmdab25lU3BlYyYmKHRoaXMuX2lubmVyPXRoaXMuX2lubmVyLmZvcmsobmV3IFpvbmUuVGFza1RyYWNraW5nWm9uZVNwZWMpKSxuJiZab25lLmxvbmdTdGFja1RyYWNlWm9uZVNwZWMmJih0aGlzLl9pbm5lcj10aGlzLl9pbm5lci5mb3JrKFpvbmUubG9uZ1N0YWNrVHJhY2Vab25lU3BlYykpLGZ1bmN0aW9uKGUpe2UuX2lubmVyPWUuX2lubmVyLmZvcmsoe25hbWU6ImFuZ3VsYXIiLHByb3BlcnRpZXM6e2lzQW5ndWxhclpvbmU6ITB9LG9uSW52b2tlVGFzazpmdW5jdGlvbih0LG4scixvLGkscyl7dHJ5e3JldHVybiBIdChlKSx0Lmludm9rZVRhc2socixvLGkscyl9ZmluYWxseXtGdChlKX19LG9uSW52b2tlOmZ1bmN0aW9uKHQsbixyLG8saSxzLHUpe3RyeXtyZXR1cm4gSHQoZSksdC5pbnZva2UocixvLGkscyx1KX1maW5hbGx5e0Z0KGUpfX0sb25IYXNUYXNrOmZ1bmN0aW9uKHQsbixyLG8pe3QuaGFzVGFzayhyLG8pLG49PT1yJiYoIm1pY3JvVGFzayI9PW8uY2hhbmdlPyhlLmhhc1BlbmRpbmdNaWNyb3Rhc2tzPW8ubWljcm9UYXNrLGp0KGUpKToibWFjcm9UYXNrIj09by5jaGFuZ2UmJihlLmhhc1BlbmRpbmdNYWNyb3Rhc2tzPW8ubWFjcm9UYXNrKSl9LG9uSGFuZGxlRXJyb3I6ZnVuY3Rpb24odCxuLHIsbyl7cmV0dXJuIHQuaGFuZGxlRXJyb3IocixvKSxlLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7cmV0dXJuIGUub25FcnJvci5lbWl0KG8pfSksITF9fSl9KHRoaXMpfXJldHVybiBlLmlzSW5Bbmd1bGFyWm9uZT1mdW5jdGlvbigpe3JldHVybiEwPT09Wm9uZS5jdXJyZW50LmdldCgiaXNBbmd1bGFyWm9uZSIpfSxlLmFzc2VydEluQW5ndWxhclpvbmU9ZnVuY3Rpb24oKXtpZighZS5pc0luQW5ndWxhclpvbmUoKSl0aHJvdyBuZXcgRXJyb3IoIkV4cGVjdGVkIHRvIGJlIGluIEFuZ3VsYXIgWm9uZSwgYnV0IGl0IGlzIG5vdCEiKX0sZS5hc3NlcnROb3RJbkFuZ3VsYXJab25lPWZ1bmN0aW9uKCl7aWYoZS5pc0luQW5ndWxhclpvbmUoKSl0aHJvdyBuZXcgRXJyb3IoIkV4cGVjdGVkIHRvIG5vdCBiZSBpbiBBbmd1bGFyIFpvbmUsIGJ1dCBpdCBpcyEiKX0sZS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5faW5uZXIucnVuKGUsdCxuKX0sZS5wcm90b3R5cGUucnVuVGFzaz1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz10aGlzLl9pbm5lcixpPW8uc2NoZWR1bGVFdmVudFRhc2soIk5nWm9uZUV2ZW50OiAiK3IsZSxWdCxNdCxNdCk7dHJ5e3JldHVybiBvLnJ1blRhc2soaSx0LG4pfWZpbmFsbHl7by5jYW5jZWxUYXNrKGkpfX0sZS5wcm90b3R5cGUucnVuR3VhcmRlZD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuX2lubmVyLnJ1bkd1YXJkZWQoZSx0LG4pfSxlLnByb3RvdHlwZS5ydW5PdXRzaWRlQW5ndWxhcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fb3V0ZXIucnVuKGUpfSxlfSgpO2Z1bmN0aW9uIE10KCl7fXZhciBWdD17fTtmdW5jdGlvbiBqdChlKXtpZigwPT1lLl9uZXN0aW5nJiYhZS5oYXNQZW5kaW5nTWljcm90YXNrcyYmIWUuaXNTdGFibGUpdHJ5e2UuX25lc3RpbmcrKyxlLm9uTWljcm90YXNrRW1wdHkuZW1pdChudWxsKX1maW5hbGx5e2lmKGUuX25lc3RpbmctLSwhZS5oYXNQZW5kaW5nTWljcm90YXNrcyl0cnl7ZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbigpe3JldHVybiBlLm9uU3RhYmxlLmVtaXQobnVsbCl9KX1maW5hbGx5e2UuaXNTdGFibGU9ITB9fX1mdW5jdGlvbiBIdChlKXtlLl9uZXN0aW5nKyssZS5pc1N0YWJsZSYmKGUuaXNTdGFibGU9ITEsZS5vblVuc3RhYmxlLmVtaXQobnVsbCkpfWZ1bmN0aW9uIEZ0KGUpe2UuX25lc3RpbmctLSxqdChlKX12YXIgTHQsQnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5oYXNQZW5kaW5nTWljcm90YXNrcz0hMSx0aGlzLmhhc1BlbmRpbmdNYWNyb3Rhc2tzPSExLHRoaXMuaXNTdGFibGU9ITAsdGhpcy5vblVuc3RhYmxlPW5ldyBQdCx0aGlzLm9uTWljcm90YXNrRW1wdHk9bmV3IFB0LHRoaXMub25TdGFibGU9bmV3IFB0LHRoaXMub25FcnJvcj1uZXcgUHR9cmV0dXJuIGUucHJvdG90eXBlLnJ1bj1mdW5jdGlvbihlKXtyZXR1cm4gZSgpfSxlLnByb3RvdHlwZS5ydW5HdWFyZGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlKCl9LGUucHJvdG90eXBlLnJ1bk91dHNpZGVBbmd1bGFyPWZ1bmN0aW9uKGUpe3JldHVybiBlKCl9LGUucHJvdG90eXBlLnJ1blRhc2s9ZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0sZX0oKSx6dD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHQ9dGhpczt0aGlzLl9uZ1pvbmU9ZSx0aGlzLl9wZW5kaW5nQ291bnQ9MCx0aGlzLl9pc1pvbmVTdGFibGU9ITAsdGhpcy5fZGlkV29yaz0hMSx0aGlzLl9jYWxsYmFja3M9W10sdGhpcy5fd2F0Y2hBbmd1bGFyRXZlbnRzKCksZS5ydW4oZnVuY3Rpb24oKXt0LnRhc2tUcmFja2luZ1pvbmU9Wm9uZS5jdXJyZW50LmdldCgiVGFza1RyYWNraW5nWm9uZSIpfSl9cmV0dXJuIGUucHJvdG90eXBlLl93YXRjaEFuZ3VsYXJFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX25nWm9uZS5vblVuc3RhYmxlLnN1YnNjcmliZSh7bmV4dDpmdW5jdGlvbigpe2UuX2RpZFdvcms9ITAsZS5faXNab25lU3RhYmxlPSExfX0pLHRoaXMuX25nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbigpe2UuX25nWm9uZS5vblN0YWJsZS5zdWJzY3JpYmUoe25leHQ6ZnVuY3Rpb24oKXtSdC5hc3NlcnROb3RJbkFuZ3VsYXJab25lKCksbWUoZnVuY3Rpb24oKXtlLl9pc1pvbmVTdGFibGU9ITAsZS5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpfSl9fSl9KX0sZS5wcm90b3R5cGUuaW5jcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudCs9MSx0aGlzLl9kaWRXb3JrPSEwLHRoaXMuX3BlbmRpbmdDb3VudH0sZS5wcm90b3R5cGUuZGVjcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50PWZ1bmN0aW9uKCl7aWYodGhpcy5fcGVuZGluZ0NvdW50LT0xLHRoaXMuX3BlbmRpbmdDb3VudDwwKXRocm93IG5ldyBFcnJvcigicGVuZGluZyBhc3luYyByZXF1ZXN0cyBiZWxvdyB6ZXJvIik7cmV0dXJuIHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKSx0aGlzLl9wZW5kaW5nQ291bnR9LGUucHJvdG90eXBlLmlzU3RhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzWm9uZVN0YWJsZSYmMD09PXRoaXMuX3BlbmRpbmdDb3VudCYmIXRoaXMuX25nWm9uZS5oYXNQZW5kaW5nTWFjcm90YXNrc30sZS5wcm90b3R5cGUuX3J1bkNhbGxiYWNrc0lmUmVhZHk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuaXNTdGFibGUoKSltZShmdW5jdGlvbigpe2Zvcig7MCE9PWUuX2NhbGxiYWNrcy5sZW5ndGg7KXt2YXIgdD1lLl9jYWxsYmFja3MucG9wKCk7Y2xlYXJUaW1lb3V0KHQudGltZW91dElkKSx0LmRvbmVDYihlLl9kaWRXb3JrKX1lLl9kaWRXb3JrPSExfSk7ZWxzZXt2YXIgdD10aGlzLmdldFBlbmRpbmdUYXNrcygpO3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3MuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFlLnVwZGF0ZUNifHwhZS51cGRhdGVDYih0KXx8KGNsZWFyVGltZW91dChlLnRpbWVvdXRJZCksITEpfSksdGhpcy5fZGlkV29yaz0hMH19LGUucHJvdG90eXBlLmdldFBlbmRpbmdUYXNrcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhc2tUcmFja2luZ1pvbmU/dGhpcy50YXNrVHJhY2tpbmdab25lLm1hY3JvVGFza3MubWFwKGZ1bmN0aW9uKGUpe3JldHVybntzb3VyY2U6ZS5zb3VyY2UsaXNQZXJpb2RpYzplLmRhdGEuaXNQZXJpb2RpYyxkZWxheTplLmRhdGEuZGVsYXksY3JlYXRpb25Mb2NhdGlvbjplLmNyZWF0aW9uTG9jYXRpb24seGhyOmUuZGF0YS50YXJnZXR9fSk6W119LGUucHJvdG90eXBlLmFkZENhbGxiYWNrPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLG89LTE7dCYmdD4wJiYobz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5fY2FsbGJhY2tzPXIuX2NhbGxiYWNrcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGltZW91dElkIT09b30pLGUoci5fZGlkV29yayxyLmdldFBlbmRpbmdUYXNrcygpKX0sdCkpLHRoaXMuX2NhbGxiYWNrcy5wdXNoKHtkb25lQ2I6ZSx0aW1lb3V0SWQ6byx1cGRhdGVDYjpufSl9LGUucHJvdG90eXBlLndoZW5TdGFibGU9ZnVuY3Rpb24oZSx0LG4pe2lmKG4mJiF0aGlzLnRhc2tUcmFja2luZ1pvbmUpdGhyb3cgbmV3IEVycm9yKCdUYXNrIHRyYWNraW5nIHpvbmUgaXMgcmVxdWlyZWQgd2hlbiBwYXNzaW5nIGFuIHVwZGF0ZSBjYWxsYmFjayB0byB3aGVuU3RhYmxlKCkuIElzICJ6b25lLmpzL2Rpc3QvdGFzay10cmFja2luZy5qcyIgbG9hZGVkPycpO3RoaXMuYWRkQ2FsbGJhY2soZSx0LG4pLHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKX0sZS5wcm90b3R5cGUuZ2V0UGVuZGluZ1JlcXVlc3RDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wZW5kaW5nQ291bnR9LGUucHJvdG90eXBlLmZpbmRQcm92aWRlcnM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybltdfSxlfSgpLFV0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2FwcGxpY2F0aW9ucz1uZXcgTWFwLFp0LmFkZFRvV2luZG93KHRoaXMpfXJldHVybiBlLnByb3RvdHlwZS5yZWdpc3RlckFwcGxpY2F0aW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy5fYXBwbGljYXRpb25zLnNldChlLHQpfSxlLnByb3RvdHlwZS51bnJlZ2lzdGVyQXBwbGljYXRpb249ZnVuY3Rpb24oZSl7dGhpcy5fYXBwbGljYXRpb25zLmRlbGV0ZShlKX0sZS5wcm90b3R5cGUudW5yZWdpc3RlckFsbEFwcGxpY2F0aW9ucz1mdW5jdGlvbigpe3RoaXMuX2FwcGxpY2F0aW9ucy5jbGVhcigpfSxlLnByb3RvdHlwZS5nZXRUZXN0YWJpbGl0eT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYXBwbGljYXRpb25zLmdldChlKXx8bnVsbH0sZS5wcm90b3R5cGUuZ2V0QWxsVGVzdGFiaWxpdGllcz1mdW5jdGlvbigpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX2FwcGxpY2F0aW9ucy52YWx1ZXMoKSl9LGUucHJvdG90eXBlLmdldEFsbFJvb3RFbGVtZW50cz1mdW5jdGlvbigpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX2FwcGxpY2F0aW9ucy5rZXlzKCkpfSxlLnByb3RvdHlwZS5maW5kVGVzdGFiaWxpdHlJblRyZWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITApLFp0LmZpbmRUZXN0YWJpbGl0eUluVHJlZSh0aGlzLGUsdCl9LGUuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZX0oKSxadD1uZXcoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5hZGRUb1dpbmRvdz1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLmZpbmRUZXN0YWJpbGl0eUluVHJlZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGx9LGV9KCkpLHF0PSEwLFF0PSExLFd0PW5ldyBhZSgiQWxsb3dNdWx0aXBsZVRva2VuIik7ZnVuY3Rpb24gS3QoKXtyZXR1cm4gUXQ9ITAscXR9dmFyIEd0PWZ1bmN0aW9uKGUsdCl7dGhpcy5uYW1lPWUsdGhpcy50b2tlbj10fTtmdW5jdGlvbiBZdChlLHQsbil7dm9pZCAwPT09biYmKG49W10pO3ZhciByPSJQbGF0Zm9ybTogIit0LG89bmV3IGFlKHIpO3JldHVybiBmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD1bXSk7dmFyIGk9SnQoKTtpZighaXx8aS5pbmplY3Rvci5nZXQoV3QsITEpKWlmKGUpZShuLmNvbmNhdCh0KS5jb25jYXQoe3Byb3ZpZGU6byx1c2VWYWx1ZTohMH0pKTtlbHNle3ZhciBzPW4uY29uY2F0KHQpLmNvbmNhdCh7cHJvdmlkZTpvLHVzZVZhbHVlOiEwfSk7IWZ1bmN0aW9uKGUpe2lmKEx0JiYhTHQuZGVzdHJveWVkJiYhTHQuaW5qZWN0b3IuZ2V0KFd0LCExKSl0aHJvdyBuZXcgRXJyb3IoIlRoZXJlIGNhbiBiZSBvbmx5IG9uZSBwbGF0Zm9ybS4gRGVzdHJveSB0aGUgcHJldmlvdXMgb25lIHRvIGNyZWF0ZSBhIG5ldyBvbmUuIik7THQ9ZS5nZXQoJHQpO3ZhciB0PWUuZ2V0KGx0LG51bGwpO3QmJnQuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSl9KERlLmNyZWF0ZSh7cHJvdmlkZXJzOnMsbmFtZTpyfSkpfXJldHVybiBmdW5jdGlvbihlKXt2YXIgdD1KdCgpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiTm8gcGxhdGZvcm0gZXhpc3RzISIpO2lmKCF0LmluamVjdG9yLmdldChlLG51bGwpKXRocm93IG5ldyBFcnJvcigiQSBwbGF0Zm9ybSB3aXRoIGEgZGlmZmVyZW50IGNvbmZpZ3VyYXRpb24gaGFzIGJlZW4gY3JlYXRlZC4gUGxlYXNlIGRlc3Ryb3kgaXQgZmlyc3QuIik7cmV0dXJuIHR9KG8pfX1mdW5jdGlvbiBKdCgpe3JldHVybiBMdCYmIUx0LmRlc3Ryb3llZD9MdDpudWxsfXZhciAkdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5faW5qZWN0b3I9ZSx0aGlzLl9tb2R1bGVzPVtdLHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnM9W10sdGhpcy5fZGVzdHJveWVkPSExfXJldHVybiBlLnByb3RvdHlwZS5ib290c3RyYXBNb2R1bGVGYWN0b3J5PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPWZ1bmN0aW9uKGUpe3JldHVybiJub29wIj09PWU/bmV3IEJ0Oigiem9uZS5qcyI9PT1lP3ZvaWQgMDplKXx8bmV3IFJ0KHtlbmFibGVMb25nU3RhY2tUcmFjZTpLdCgpfSl9KHQ/dC5uZ1pvbmU6dm9pZCAwKSxvPVt7cHJvdmlkZTpSdCx1c2VWYWx1ZTpyfV07cmV0dXJuIHIucnVuKGZ1bmN0aW9uKCl7dmFyIHQ9RGUuY3JlYXRlKHtwcm92aWRlcnM6byxwYXJlbnQ6bi5pbmplY3RvcixuYW1lOmUubW9kdWxlVHlwZS5uYW1lfSksaT1lLmNyZWF0ZSh0KSxzPWkuaW5qZWN0b3IuZ2V0KG50LG51bGwpO2lmKCFzKXRocm93IG5ldyBFcnJvcigiTm8gRXJyb3JIYW5kbGVyLiBJcyBwbGF0Zm9ybSBtb2R1bGUgKEJyb3dzZXJNb2R1bGUpIGluY2x1ZGVkPyIpO3JldHVybiBpLm9uRGVzdHJveShmdW5jdGlvbigpe3JldHVybiB0bihuLl9tb2R1bGVzLGkpfSksci5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbigpe3JldHVybiByLm9uRXJyb3Iuc3Vic2NyaWJlKHtuZXh0OmZ1bmN0aW9uKGUpe3MuaGFuZGxlRXJyb3IoZSl9fSl9KSxmdW5jdGlvbihlLHQsbil7dHJ5e3ZhciByPW4oKTtyZXR1cm4gb3Qocik/ci5jYXRjaChmdW5jdGlvbihuKXt0aHJvdyB0LnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7cmV0dXJuIGUuaGFuZGxlRXJyb3Iobil9KSxufSk6cn1jYXRjaChuKXt0aHJvdyB0LnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7cmV0dXJuIGUuaGFuZGxlRXJyb3Iobil9KSxufX0ocyxyLGZ1bmN0aW9uKCl7dmFyIGU9aS5pbmplY3Rvci5nZXQoc3QpO3JldHVybiBlLnJ1bkluaXRpYWxpemVycygpLGUuZG9uZVByb21pc2UudGhlbihmdW5jdGlvbigpe3JldHVybiBuLl9tb2R1bGVEb0Jvb3RzdHJhcChpKSxpfSl9KX0pfSxlLnByb3RvdHlwZS5ib290c3RyYXBNb2R1bGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3ZvaWQgMD09PXQmJih0PVtdKTt2YXIgcj10aGlzLmluamVjdG9yLmdldCh5dCksbz1YdCh7fSx0KTtyZXR1cm4gci5jcmVhdGVDb21waWxlcihbb10pLmNvbXBpbGVNb2R1bGVBc3luYyhlKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuLmJvb3RzdHJhcE1vZHVsZUZhY3RvcnkoZSxvKX0pfSxlLnByb3RvdHlwZS5fbW9kdWxlRG9Cb290c3RyYXA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmplY3Rvci5nZXQoZW4pO2lmKGUuX2Jvb3RzdHJhcENvbXBvbmVudHMubGVuZ3RoPjApZS5fYm9vdHN0cmFwQ29tcG9uZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmJvb3RzdHJhcChlKX0pO2Vsc2V7aWYoIWUuaW5zdGFuY2UubmdEb0Jvb3RzdHJhcCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBtb2R1bGUgIitfZShlLmluc3RhbmNlLmNvbnN0cnVjdG9yKSsnIHdhcyBib290c3RyYXBwZWQsIGJ1dCBpdCBkb2VzIG5vdCBkZWNsYXJlICJATmdNb2R1bGUuYm9vdHN0cmFwIiBjb21wb25lbnRzIG5vciBhICJuZ0RvQm9vdHN0cmFwIiBtZXRob2QuIFBsZWFzZSBkZWZpbmUgb25lIG9mIHRoZXNlLicpO2UuaW5zdGFuY2UubmdEb0Jvb3RzdHJhcCh0KX10aGlzLl9tb2R1bGVzLnB1c2goZSl9LGUucHJvdG90eXBlLm9uRGVzdHJveT1mdW5jdGlvbihlKXt0aGlzLl9kZXN0cm95TGlzdGVuZXJzLnB1c2goZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaW5qZWN0b3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5qZWN0b3J9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2lmKHRoaXMuX2Rlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBwbGF0Zm9ybSBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZCEiKTt0aGlzLl9tb2R1bGVzLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5kZXN0cm95KCl9KSx0aGlzLl9kZXN0cm95TGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0pLHRoaXMuX2Rlc3Ryb3llZD0hMH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJkZXN0cm95ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVzdHJveWVkfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGV9KCk7ZnVuY3Rpb24gWHQoZSx0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90LnJlZHVjZShYdCxlKTppKHt9LGUsdCl9dmFyIGVuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixyLG8saSl7dmFyIHM9dGhpczt0aGlzLl96b25lPWUsdGhpcy5fY29uc29sZT10LHRoaXMuX2luamVjdG9yPW4sdGhpcy5fZXhjZXB0aW9uSGFuZGxlcj1yLHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcj1vLHRoaXMuX2luaXRTdGF0dXM9aSx0aGlzLl9ib290c3RyYXBMaXN0ZW5lcnM9W10sdGhpcy5fdmlld3M9W10sdGhpcy5fcnVubmluZ1RpY2s9ITEsdGhpcy5fZW5mb3JjZU5vTmV3Q2hhbmdlcz0hMSx0aGlzLl9zdGFibGU9ITAsdGhpcy5jb21wb25lbnRUeXBlcz1bXSx0aGlzLmNvbXBvbmVudHM9W10sdGhpcy5fZW5mb3JjZU5vTmV3Q2hhbmdlcz1LdCgpLHRoaXMuX3pvbmUub25NaWNyb3Rhc2tFbXB0eS5zdWJzY3JpYmUoe25leHQ6ZnVuY3Rpb24oKXtzLl96b25lLnJ1bihmdW5jdGlvbigpe3MudGljaygpfSl9fSk7dmFyIHU9bmV3IFMoZnVuY3Rpb24oZSl7cy5fc3RhYmxlPXMuX3pvbmUuaXNTdGFibGUmJiFzLl96b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzJiYhcy5fem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcyxzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7ZS5uZXh0KHMuX3N0YWJsZSksZS5jb21wbGV0ZSgpfSl9KSxhPW5ldyBTKGZ1bmN0aW9uKGUpe3ZhciB0O3MuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24oKXt0PXMuX3pvbmUub25TdGFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uKCl7UnQuYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpLG1lKGZ1bmN0aW9uKCl7cy5fc3RhYmxlfHxzLl96b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzfHxzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzfHwocy5fc3RhYmxlPSEwLGUubmV4dCghMCkpfSl9KX0pO3ZhciBuPXMuX3pvbmUub25VbnN0YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24oKXtSdC5hc3NlcnRJbkFuZ3VsYXJab25lKCkscy5fc3RhYmxlJiYocy5fc3RhYmxlPSExLHMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24oKXtlLm5leHQoITEpfSkpfSk7cmV0dXJuIGZ1bmN0aW9uKCl7dC51bnN1YnNjcmliZSgpLG4udW5zdWJzY3JpYmUoKX19KTt0aGlzLmlzU3RhYmxlPUsodSxhLnBpcGUoZnVuY3Rpb24oZSl7cmV0dXJuIGVlKCkoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG47bj0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3ZhciByPU9iamVjdC5jcmVhdGUodCxvZSk7cmV0dXJuIHIuc291cmNlPXQsci5zdWJqZWN0RmFjdG9yeT1uLHJ9fShzZSkoZSkpfSkpfXJldHVybiBlLnByb3RvdHlwZS5ib290c3RyYXA9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPXRoaXM7aWYoIXRoaXMuX2luaXRTdGF0dXMuZG9uZSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBib290c3RyYXAgYXMgdGhlcmUgYXJlIHN0aWxsIGFzeW5jaHJvbm91cyBpbml0aWFsaXplcnMgcnVubmluZy4gQm9vdHN0cmFwIGNvbXBvbmVudHMgaW4gdGhlIGBuZ0RvQm9vdHN0cmFwYCBtZXRob2Qgb2YgdGhlIHJvb3QgbW9kdWxlLiIpO249ZSBpbnN0YW5jZW9mIG10P2U6dGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KGUpLHRoaXMuY29tcG9uZW50VHlwZXMucHVzaChuLmNvbXBvbmVudFR5cGUpO3ZhciBvPW4gaW5zdGFuY2VvZiBrdD9udWxsOnRoaXMuX2luamVjdG9yLmdldChJdCksaT10fHxuLnNlbGVjdG9yLHM9bi5jcmVhdGUoRGUuTlVMTCxbXSxpLG8pO3Mub25EZXN0cm95KGZ1bmN0aW9uKCl7ci5fdW5sb2FkQ29tcG9uZW50KHMpfSk7dmFyIHU9cy5pbmplY3Rvci5nZXQoenQsbnVsbCk7cmV0dXJuIHUmJnMuaW5qZWN0b3IuZ2V0KFV0KS5yZWdpc3RlckFwcGxpY2F0aW9uKHMubG9jYXRpb24ubmF0aXZlRWxlbWVudCx1KSx0aGlzLl9sb2FkQ29tcG9uZW50KHMpLEt0KCkmJnRoaXMuX2NvbnNvbGUubG9nKCJBbmd1bGFyIGlzIHJ1bm5pbmcgaW4gdGhlIGRldmVsb3BtZW50IG1vZGUuIENhbGwgZW5hYmxlUHJvZE1vZGUoKSB0byBlbmFibGUgdGhlIHByb2R1Y3Rpb24gbW9kZS4iKSxzfSxlLnByb3RvdHlwZS50aWNrPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLl9ydW5uaW5nVGljayl0aHJvdyBuZXcgRXJyb3IoIkFwcGxpY2F0aW9uUmVmLnRpY2sgaXMgY2FsbGVkIHJlY3Vyc2l2ZWx5Iik7dmFyIG49ZS5fdGlja1Njb3BlKCk7dHJ5e3RoaXMuX3J1bm5pbmdUaWNrPSEwLHRoaXMuX3ZpZXdzLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGV0ZWN0Q2hhbmdlcygpfSksdGhpcy5fZW5mb3JjZU5vTmV3Q2hhbmdlcyYmdGhpcy5fdmlld3MuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGVja05vQ2hhbmdlcygpfSl9Y2F0Y2goZSl7dGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbigpe3JldHVybiB0Ll9leGNlcHRpb25IYW5kbGVyLmhhbmRsZUVycm9yKGUpfSl9ZmluYWxseXt0aGlzLl9ydW5uaW5nVGljaz0hMSxPdChuKX19LGUucHJvdG90eXBlLmF0dGFjaFZpZXc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTt0aGlzLl92aWV3cy5wdXNoKHQpLHQuYXR0YWNoVG9BcHBSZWYodGhpcyl9LGUucHJvdG90eXBlLmRldGFjaFZpZXc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTt0bih0aGlzLl92aWV3cyx0KSx0LmRldGFjaEZyb21BcHBSZWYoKX0sZS5wcm90b3R5cGUuX2xvYWRDb21wb25lbnQ9ZnVuY3Rpb24oZSl7dGhpcy5hdHRhY2hWaWV3KGUuaG9zdFZpZXcpLHRoaXMudGljaygpLHRoaXMuY29tcG9uZW50cy5wdXNoKGUpLHRoaXMuX2luamVjdG9yLmdldChmdCxbXSkuY29uY2F0KHRoaXMuX2Jvb3RzdHJhcExpc3RlbmVycykuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdChlKX0pfSxlLnByb3RvdHlwZS5fdW5sb2FkQ29tcG9uZW50PWZ1bmN0aW9uKGUpe3RoaXMuZGV0YWNoVmlldyhlLmhvc3RWaWV3KSx0bih0aGlzLmNvbXBvbmVudHMsZSl9LGUucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fdmlld3Muc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRlc3Ryb3koKX0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInZpZXdDb3VudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3cy5sZW5ndGh9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5fdGlja1Njb3BlPUR0KCJBcHBsaWNhdGlvblJlZiN0aWNrKCkiKSxlfSgpO2Z1bmN0aW9uIHRuKGUsdCl7dmFyIG49ZS5pbmRleE9mKHQpO24+LTEmJmUuc3BsaWNlKG4sMSl9dmFyIG5uPWZ1bmN0aW9uKCl7fSxybj1mdW5jdGlvbigpe30sb249ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5JbXBvcnRhbnQ9MV09IkltcG9ydGFudCIsZVtlLkRhc2hDYXNlPTJdPSJEYXNoQ2FzZSIsZX0oe30pLHNuPWZ1bmN0aW9uKCl7fSx1bj1mdW5jdGlvbihlKXt0aGlzLm5hdGl2ZUVsZW1lbnQ9ZX0sYW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5kaXJ0eT0hMCx0aGlzLl9yZXN1bHRzPVtdLHRoaXMuY2hhbmdlcz1uZXcgUHQsdGhpcy5sZW5ndGg9MH1yZXR1cm4gZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9yZXN1bHRzLm1hcChlKX0sZS5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9yZXN1bHRzLmZpbHRlcihlKX0sZS5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5maW5kKGUpfSxlLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5yZWR1Y2UoZSx0KX0sZS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXt0aGlzLl9yZXN1bHRzLmZvckVhY2goZSl9LGUucHJvdG90eXBlLnNvbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMuc29tZShlKX0sZS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXN1bHRzLnNsaWNlKCl9LGUucHJvdG90eXBlW2dlKCldPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHNbZ2UoKV0oKX0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVzdWx0cy50b1N0cmluZygpfSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbihlKXt0aGlzLl9yZXN1bHRzPWZ1bmN0aW9uIGUodCl7cmV0dXJuIHQucmVkdWNlKGZ1bmN0aW9uKHQsbil7dmFyIHI9QXJyYXkuaXNBcnJheShuKT9lKG4pOm47cmV0dXJuIHQuY29uY2F0KHIpfSxbXSl9KGUpLHRoaXMuZGlydHk9ITEsdGhpcy5sZW5ndGg9dGhpcy5fcmVzdWx0cy5sZW5ndGgsdGhpcy5sYXN0PXRoaXMuX3Jlc3VsdHNbdGhpcy5sZW5ndGgtMV0sdGhpcy5maXJzdD10aGlzLl9yZXN1bHRzWzBdfSxlLnByb3RvdHlwZS5ub3RpZnlPbkNoYW5nZXM9ZnVuY3Rpb24oKXt0aGlzLmNoYW5nZXMuZW1pdCh0aGlzKX0sZS5wcm90b3R5cGUuc2V0RGlydHk9ZnVuY3Rpb24oKXt0aGlzLmRpcnR5PSEwfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5jaGFuZ2VzLmNvbXBsZXRlKCksdGhpcy5jaGFuZ2VzLnVuc3Vic2NyaWJlKCl9LGV9KCksY249ZnVuY3Rpb24oKXt9LGxuPWZ1bmN0aW9uKCl7fSxkbj1mdW5jdGlvbigpe30sZm49ZnVuY3Rpb24oZSx0KXt0aGlzLm5hbWU9ZSx0aGlzLmNhbGxiYWNrPXR9LHBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dGhpcy5fZGVidWdDb250ZXh0PW4sdGhpcy5uYXRpdmVOb2RlPWUsdCYmdCBpbnN0YW5jZW9mIGhuP3QuYWRkQ2hpbGQodGhpcyk6dGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmxpc3RlbmVycz1bXX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpbmplY3RvciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWJ1Z0NvbnRleHQuaW5qZWN0b3J9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjb21wb25lbnRJbnN0YW5jZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWJ1Z0NvbnRleHQuY29tcG9uZW50fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29udGV4dCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWJ1Z0NvbnRleHQuY29udGV4dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlZmVyZW5jZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVidWdDb250ZXh0LnJlZmVyZW5jZXN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwcm92aWRlclRva2VucyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWJ1Z0NvbnRleHQucHJvdmlkZXJUb2tlbnN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZX0oKSxobj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixyKXt2YXIgbz1lLmNhbGwodGhpcyx0LG4scil8fHRoaXM7cmV0dXJuIG8ucHJvcGVydGllcz17fSxvLmF0dHJpYnV0ZXM9e30sby5jbGFzc2VzPXt9LG8uc3R5bGVzPXt9LG8uY2hpbGROb2Rlcz1bXSxvLm5hdGl2ZUVsZW1lbnQ9dCxvfXJldHVybiBvKHQsZSksdC5wcm90b3R5cGUuYWRkQ2hpbGQ9ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuY2hpbGROb2Rlcy5wdXNoKGUpLGUucGFyZW50PXRoaXMpfSx0LnByb3RvdHlwZS5yZW1vdmVDaGlsZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNoaWxkTm9kZXMuaW5kZXhPZihlKTstMSE9PXQmJihlLnBhcmVudD1udWxsLHRoaXMuY2hpbGROb2Rlcy5zcGxpY2UodCwxKSl9LHQucHJvdG90eXBlLmluc2VydENoaWxkcmVuQWZ0ZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPXRoaXMsbz10aGlzLmNoaWxkTm9kZXMuaW5kZXhPZihlKTstMSE9PW8mJigobj10aGlzLmNoaWxkTm9kZXMpLnNwbGljZS5hcHBseShuLGEoW28rMSwwXSx0KSksdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucGFyZW50JiZlLnBhcmVudC5yZW1vdmVDaGlsZChlKSxlLnBhcmVudD1yfSkpfSx0LnByb3RvdHlwZS5pbnNlcnRCZWZvcmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNoaWxkTm9kZXMuaW5kZXhPZihlKTstMT09PW4/dGhpcy5hZGRDaGlsZCh0KToodC5wYXJlbnQmJnQucGFyZW50LnJlbW92ZUNoaWxkKHQpLHQucGFyZW50PXRoaXMsdGhpcy5jaGlsZE5vZGVzLnNwbGljZShuLDAsdCkpfSx0LnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5xdWVyeUFsbChlKVswXXx8bnVsbH0sdC5wcm90b3R5cGUucXVlcnlBbGw9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuLHIpe3QuY2hpbGROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBobiYmKG4odCkmJnIucHVzaCh0KSxlKHQsbixyKSl9KX0odGhpcyxlLHQpLHR9LHQucHJvdG90eXBlLnF1ZXJ5QWxsTm9kZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuLHIpe3QgaW5zdGFuY2VvZiBobiYmdC5jaGlsZE5vZGVzLmZvckVhY2goZnVuY3Rpb24odCl7bih0KSYmci5wdXNoKHQpLHQgaW5zdGFuY2VvZiBobiYmZSh0LG4scil9KX0odGhpcyxlLHQpLHR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiY2hpbGRyZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZE5vZGVzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHR9KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50cmlnZ2VyRXZlbnRIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7dGhpcy5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihuKXtuLm5hbWU9PWUmJm4uY2FsbGJhY2sodCl9KX0sdH0ocG4pLHZuPW5ldyBNYXA7ZnVuY3Rpb24geW4oZSl7cmV0dXJuIHZuLmdldChlKXx8bnVsbH1mdW5jdGlvbiBnbihlKXt2bi5zZXQoZS5uYXRpdmVOb2RlLGUpfWZ1bmN0aW9uIG1uKGUsdCl7dmFyIG49d24oZSkscj13bih0KTtyZXR1cm4gbiYmcj9mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPWVbZ2UoKV0oKSxvPXRbZ2UoKV0oKTs7KXt2YXIgaT1yLm5leHQoKSxzPW8ubmV4dCgpO2lmKGkuZG9uZSYmcy5kb25lKXJldHVybiEwO2lmKGkuZG9uZXx8cy5kb25lKXJldHVybiExO2lmKCFuKGkudmFsdWUscy52YWx1ZSkpcmV0dXJuITF9fShlLHQsbW4pOiEobnx8IWV8fCJvYmplY3QiIT10eXBlb2YgZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGV8fHJ8fCF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXx8YmUoZSx0KX12YXIgYm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMud3JhcHBlZD1lfXJldHVybiBlLndyYXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpfSxlLnVud3JhcD1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc1dyYXBwZWQodCk/dC53cmFwcGVkOnR9LGUuaXNXcmFwcGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZX0sZX0oKSxfbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4pe3RoaXMucHJldmlvdXNWYWx1ZT1lLHRoaXMuY3VycmVudFZhbHVlPXQsdGhpcy5maXJzdENoYW5nZT1ufXJldHVybiBlLnByb3RvdHlwZS5pc0ZpcnN0Q2hhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlyc3RDaGFuZ2V9LGV9KCk7ZnVuY3Rpb24gd24oZSl7cmV0dXJuISFFbihlKSYmKEFycmF5LmlzQXJyYXkoZSl8fCEoZSBpbnN0YW5jZW9mIE1hcCkmJmdlKClpbiBlKX1mdW5jdGlvbiBFbihlKXtyZXR1cm4gbnVsbCE9PWUmJigiZnVuY3Rpb24iPT10eXBlb2YgZXx8Im9iamVjdCI9PXR5cGVvZiBlKX12YXIgQ249ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5zdXBwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gd24oZSl9LGUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFRuKGUpfSxlfSgpLHhuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9LFRuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmxlbmd0aD0wLHRoaXMuX2xpbmtlZFJlY29yZHM9bnVsbCx0aGlzLl91bmxpbmtlZFJlY29yZHM9bnVsbCx0aGlzLl9wcmV2aW91c0l0SGVhZD1udWxsLHRoaXMuX2l0SGVhZD1udWxsLHRoaXMuX2l0VGFpbD1udWxsLHRoaXMuX2FkZGl0aW9uc0hlYWQ9bnVsbCx0aGlzLl9hZGRpdGlvbnNUYWlsPW51bGwsdGhpcy5fbW92ZXNIZWFkPW51bGwsdGhpcy5fbW92ZXNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPW51bGwsdGhpcy5fcmVtb3ZhbHNUYWlsPW51bGwsdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZD1udWxsLHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWw9bnVsbCx0aGlzLl90cmFja0J5Rm49ZXx8eG59cmV0dXJuIGUucHJvdG90eXBlLmZvckVhY2hJdGVtPWZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0PXRoaXMuX2l0SGVhZDtudWxsIT09dDt0PXQuX25leHQpZSh0KX0sZS5wcm90b3R5cGUuZm9yRWFjaE9wZXJhdGlvbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5faXRIZWFkLG49dGhpcy5fcmVtb3ZhbHNIZWFkLHI9MCxvPW51bGw7dHx8bjspe3ZhciBpPSFufHx0JiZ0LmN1cnJlbnRJbmRleDxObihuLHIsbyk/dDpuLHM9Tm4oaSxyLG8pLHU9aS5jdXJyZW50SW5kZXg7aWYoaT09PW4pci0tLG49bi5fbmV4dFJlbW92ZWQ7ZWxzZSBpZih0PXQuX25leHQsbnVsbD09aS5wcmV2aW91c0luZGV4KXIrKztlbHNle298fChvPVtdKTt2YXIgYT1zLXIsYz11LXI7aWYoYSE9Yyl7Zm9yKHZhciBsPTA7bDxhO2wrKyl7dmFyIGQ9bDxvLmxlbmd0aD9vW2xdOm9bbF09MCxmPWQrbDtjPD1mJiZmPGEmJihvW2xdPWQrMSl9b1tpLnByZXZpb3VzSW5kZXhdPWMtYX19cyE9PXUmJmUoaSxzLHUpfX0sZS5wcm90b3R5cGUuZm9yRWFjaFByZXZpb3VzSXRlbT1mdW5jdGlvbihlKXt2YXIgdDtmb3IodD10aGlzLl9wcmV2aW91c0l0SGVhZDtudWxsIT09dDt0PXQuX25leHRQcmV2aW91cyllKHQpfSxlLnByb3RvdHlwZS5mb3JFYWNoQWRkZWRJdGVtPWZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0PXRoaXMuX2FkZGl0aW9uc0hlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0QWRkZWQpZSh0KX0sZS5wcm90b3R5cGUuZm9yRWFjaE1vdmVkSXRlbT1mdW5jdGlvbihlKXt2YXIgdDtmb3IodD10aGlzLl9tb3Zlc0hlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0TW92ZWQpZSh0KX0sZS5wcm90b3R5cGUuZm9yRWFjaFJlbW92ZWRJdGVtPWZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0PXRoaXMuX3JlbW92YWxzSGVhZDtudWxsIT09dDt0PXQuX25leHRSZW1vdmVkKWUodCl9LGUucHJvdG90eXBlLmZvckVhY2hJZGVudGl0eUNoYW5nZT1mdW5jdGlvbihlKXt2YXIgdDtmb3IodD10aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkO251bGwhPT10O3Q9dC5fbmV4dElkZW50aXR5Q2hhbmdlKWUodCl9LGUucHJvdG90eXBlLmRpZmY9ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSYmKGU9W10pLCF3bihlKSl0aHJvdyBuZXcgRXJyb3IoIkVycm9yIHRyeWluZyB0byBkaWZmICciK19lKGUpKyInLiBPbmx5IGFycmF5cyBhbmQgaXRlcmFibGVzIGFyZSBhbGxvd2VkIik7cmV0dXJuIHRoaXMuY2hlY2soZSk/dGhpczpudWxsfSxlLnByb3RvdHlwZS5vbkRlc3Ryb3k9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmNoZWNrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fcmVzZXQoKTt2YXIgbixyLG8saT10aGlzLl9pdEhlYWQscz0hMTtpZihBcnJheS5pc0FycmF5KGUpKXt0aGlzLmxlbmd0aD1lLmxlbmd0aDtmb3IodmFyIHU9MDt1PHRoaXMubGVuZ3RoO3UrKylyPWVbdV0sbz10aGlzLl90cmFja0J5Rm4odSxyKSxudWxsIT09aSYmYmUoaS50cmFja0J5SWQsbyk/KHMmJihpPXRoaXMuX3ZlcmlmeVJlaW5zZXJ0aW9uKGkscixvLHUpKSxiZShpLml0ZW0scil8fHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKGkscikpOihpPXRoaXMuX21pc21hdGNoKGkscixvLHUpLHM9ITApLGk9aS5fbmV4dH1lbHNlIG49MCxmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdChlW25dKTtlbHNlIGZvcih2YXIgcj1lW2dlKCldKCksbz12b2lkIDA7IShvPXIubmV4dCgpKS5kb25lOyl0KG8udmFsdWUpfShlLGZ1bmN0aW9uKGUpe289dC5fdHJhY2tCeUZuKG4sZSksbnVsbCE9PWkmJmJlKGkudHJhY2tCeUlkLG8pPyhzJiYoaT10Ll92ZXJpZnlSZWluc2VydGlvbihpLGUsbyxuKSksYmUoaS5pdGVtLGUpfHx0Ll9hZGRJZGVudGl0eUNoYW5nZShpLGUpKTooaT10Ll9taXNtYXRjaChpLGUsbyxuKSxzPSEwKSxpPWkuX25leHQsbisrfSksdGhpcy5sZW5ndGg9bjtyZXR1cm4gdGhpcy5fdHJ1bmNhdGUoaSksdGhpcy5jb2xsZWN0aW9uPWUsdGhpcy5pc0RpcnR5fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzRGlydHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuX2FkZGl0aW9uc0hlYWR8fG51bGwhPT10aGlzLl9tb3Zlc0hlYWR8fG51bGwhPT10aGlzLl9yZW1vdmFsc0hlYWR8fG51bGwhPT10aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9yZXNldD1mdW5jdGlvbigpe2lmKHRoaXMuaXNEaXJ0eSl7dmFyIGU9dm9pZCAwLHQ9dm9pZCAwO2ZvcihlPXRoaXMuX3ByZXZpb3VzSXRIZWFkPXRoaXMuX2l0SGVhZDtudWxsIT09ZTtlPWUuX25leHQpZS5fbmV4dFByZXZpb3VzPWUuX25leHQ7Zm9yKGU9dGhpcy5fYWRkaXRpb25zSGVhZDtudWxsIT09ZTtlPWUuX25leHRBZGRlZCllLnByZXZpb3VzSW5kZXg9ZS5jdXJyZW50SW5kZXg7Zm9yKHRoaXMuX2FkZGl0aW9uc0hlYWQ9dGhpcy5fYWRkaXRpb25zVGFpbD1udWxsLGU9dGhpcy5fbW92ZXNIZWFkO251bGwhPT1lO2U9dCllLnByZXZpb3VzSW5kZXg9ZS5jdXJyZW50SW5kZXgsdD1lLl9uZXh0TW92ZWQ7dGhpcy5fbW92ZXNIZWFkPXRoaXMuX21vdmVzVGFpbD1udWxsLHRoaXMuX3JlbW92YWxzSGVhZD10aGlzLl9yZW1vdmFsc1RhaWw9bnVsbCx0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkPXRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWw9bnVsbH19LGUucHJvdG90eXBlLl9taXNtYXRjaD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbztyZXR1cm4gbnVsbD09PWU/bz10aGlzLl9pdFRhaWw6KG89ZS5fcHJldix0aGlzLl9yZW1vdmUoZSkpLG51bGwhPT0oZT1udWxsPT09dGhpcy5fbGlua2VkUmVjb3Jkcz9udWxsOnRoaXMuX2xpbmtlZFJlY29yZHMuZ2V0KG4scikpPyhiZShlLml0ZW0sdCl8fHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKGUsdCksdGhpcy5fbW92ZUFmdGVyKGUsbyxyKSk6bnVsbCE9PShlPW51bGw9PT10aGlzLl91bmxpbmtlZFJlY29yZHM/bnVsbDp0aGlzLl91bmxpbmtlZFJlY29yZHMuZ2V0KG4sbnVsbCkpPyhiZShlLml0ZW0sdCl8fHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKGUsdCksdGhpcy5fcmVpbnNlcnRBZnRlcihlLG8scikpOmU9dGhpcy5fYWRkQWZ0ZXIobmV3IGtuKHQsbiksbyxyKSxlfSxlLnByb3RvdHlwZS5fdmVyaWZ5UmVpbnNlcnRpb249ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89bnVsbD09PXRoaXMuX3VubGlua2VkUmVjb3Jkcz9udWxsOnRoaXMuX3VubGlua2VkUmVjb3Jkcy5nZXQobixudWxsKTtyZXR1cm4gbnVsbCE9PW8/ZT10aGlzLl9yZWluc2VydEFmdGVyKG8sZS5fcHJldixyKTplLmN1cnJlbnRJbmRleCE9ciYmKGUuY3VycmVudEluZGV4PXIsdGhpcy5fYWRkVG9Nb3ZlcyhlLHIpKSxlfSxlLnByb3RvdHlwZS5fdHJ1bmNhdGU9ZnVuY3Rpb24oZSl7Zm9yKDtudWxsIT09ZTspe3ZhciB0PWUuX25leHQ7dGhpcy5fYWRkVG9SZW1vdmFscyh0aGlzLl91bmxpbmsoZSkpLGU9dH1udWxsIT09dGhpcy5fdW5saW5rZWRSZWNvcmRzJiZ0aGlzLl91bmxpbmtlZFJlY29yZHMuY2xlYXIoKSxudWxsIT09dGhpcy5fYWRkaXRpb25zVGFpbCYmKHRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZD1udWxsKSxudWxsIT09dGhpcy5fbW92ZXNUYWlsJiYodGhpcy5fbW92ZXNUYWlsLl9uZXh0TW92ZWQ9bnVsbCksbnVsbCE9PXRoaXMuX2l0VGFpbCYmKHRoaXMuX2l0VGFpbC5fbmV4dD1udWxsKSxudWxsIT09dGhpcy5fcmVtb3ZhbHNUYWlsJiYodGhpcy5fcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZD1udWxsKSxudWxsIT09dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCYmKHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwuX25leHRJZGVudGl0eUNoYW5nZT1udWxsKX0sZS5wcm90b3R5cGUuX3JlaW5zZXJ0QWZ0ZXI9ZnVuY3Rpb24oZSx0LG4pe251bGwhPT10aGlzLl91bmxpbmtlZFJlY29yZHMmJnRoaXMuX3VubGlua2VkUmVjb3Jkcy5yZW1vdmUoZSk7dmFyIHI9ZS5fcHJldlJlbW92ZWQsbz1lLl9uZXh0UmVtb3ZlZDtyZXR1cm4gbnVsbD09PXI/dGhpcy5fcmVtb3ZhbHNIZWFkPW86ci5fbmV4dFJlbW92ZWQ9byxudWxsPT09bz90aGlzLl9yZW1vdmFsc1RhaWw9cjpvLl9wcmV2UmVtb3ZlZD1yLHRoaXMuX2luc2VydEFmdGVyKGUsdCxuKSx0aGlzLl9hZGRUb01vdmVzKGUsbiksZX0sZS5wcm90b3R5cGUuX21vdmVBZnRlcj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuX3VubGluayhlKSx0aGlzLl9pbnNlcnRBZnRlcihlLHQsbiksdGhpcy5fYWRkVG9Nb3ZlcyhlLG4pLGV9LGUucHJvdG90eXBlLl9hZGRBZnRlcj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuX2luc2VydEFmdGVyKGUsdCxuKSxudWxsPT09dGhpcy5fYWRkaXRpb25zVGFpbD90aGlzLl9hZGRpdGlvbnNUYWlsPXRoaXMuX2FkZGl0aW9uc0hlYWQ9ZTp0aGlzLl9hZGRpdGlvbnNUYWlsPXRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZD1lLGV9LGUucHJvdG90eXBlLl9pbnNlcnRBZnRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9bnVsbD09PXQ/dGhpcy5faXRIZWFkOnQuX25leHQ7cmV0dXJuIGUuX25leHQ9cixlLl9wcmV2PXQsbnVsbD09PXI/dGhpcy5faXRUYWlsPWU6ci5fcHJldj1lLG51bGw9PT10P3RoaXMuX2l0SGVhZD1lOnQuX25leHQ9ZSxudWxsPT09dGhpcy5fbGlua2VkUmVjb3JkcyYmKHRoaXMuX2xpbmtlZFJlY29yZHM9bmV3IFNuKSx0aGlzLl9saW5rZWRSZWNvcmRzLnB1dChlKSxlLmN1cnJlbnRJbmRleD1uLGV9LGUucHJvdG90eXBlLl9yZW1vdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2FkZFRvUmVtb3ZhbHModGhpcy5fdW5saW5rKGUpKX0sZS5wcm90b3R5cGUuX3VubGluaz1mdW5jdGlvbihlKXtudWxsIT09dGhpcy5fbGlua2VkUmVjb3JkcyYmdGhpcy5fbGlua2VkUmVjb3Jkcy5yZW1vdmUoZSk7dmFyIHQ9ZS5fcHJldixuPWUuX25leHQ7cmV0dXJuIG51bGw9PT10P3RoaXMuX2l0SGVhZD1uOnQuX25leHQ9bixudWxsPT09bj90aGlzLl9pdFRhaWw9dDpuLl9wcmV2PXQsZX0sZS5wcm90b3R5cGUuX2FkZFRvTW92ZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5wcmV2aW91c0luZGV4PT09dD9lOihudWxsPT09dGhpcy5fbW92ZXNUYWlsP3RoaXMuX21vdmVzVGFpbD10aGlzLl9tb3Zlc0hlYWQ9ZTp0aGlzLl9tb3Zlc1RhaWw9dGhpcy5fbW92ZXNUYWlsLl9uZXh0TW92ZWQ9ZSxlKX0sZS5wcm90b3R5cGUuX2FkZFRvUmVtb3ZhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT10aGlzLl91bmxpbmtlZFJlY29yZHMmJih0aGlzLl91bmxpbmtlZFJlY29yZHM9bmV3IFNuKSx0aGlzLl91bmxpbmtlZFJlY29yZHMucHV0KGUpLGUuY3VycmVudEluZGV4PW51bGwsZS5fbmV4dFJlbW92ZWQ9bnVsbCxudWxsPT09dGhpcy5fcmVtb3ZhbHNUYWlsPyh0aGlzLl9yZW1vdmFsc1RhaWw9dGhpcy5fcmVtb3ZhbHNIZWFkPWUsZS5fcHJldlJlbW92ZWQ9bnVsbCk6KGUuX3ByZXZSZW1vdmVkPXRoaXMuX3JlbW92YWxzVGFpbCx0aGlzLl9yZW1vdmFsc1RhaWw9dGhpcy5fcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZD1lKSxlfSxlLnByb3RvdHlwZS5fYWRkSWRlbnRpdHlDaGFuZ2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pdGVtPXQsbnVsbD09PXRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWw/dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbD10aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkPWU6dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbD10aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsLl9uZXh0SWRlbnRpdHlDaGFuZ2U9ZSxlfSxlfSgpLGtuPWZ1bmN0aW9uKGUsdCl7dGhpcy5pdGVtPWUsdGhpcy50cmFja0J5SWQ9dCx0aGlzLmN1cnJlbnRJbmRleD1udWxsLHRoaXMucHJldmlvdXNJbmRleD1udWxsLHRoaXMuX25leHRQcmV2aW91cz1udWxsLHRoaXMuX3ByZXY9bnVsbCx0aGlzLl9uZXh0PW51bGwsdGhpcy5fcHJldkR1cD1udWxsLHRoaXMuX25leHREdXA9bnVsbCx0aGlzLl9wcmV2UmVtb3ZlZD1udWxsLHRoaXMuX25leHRSZW1vdmVkPW51bGwsdGhpcy5fbmV4dEFkZGVkPW51bGwsdGhpcy5fbmV4dE1vdmVkPW51bGwsdGhpcy5fbmV4dElkZW50aXR5Q2hhbmdlPW51bGx9LEluPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2hlYWQ9bnVsbCx0aGlzLl90YWlsPW51bGx9cmV0dXJuIGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtudWxsPT09dGhpcy5faGVhZD8odGhpcy5faGVhZD10aGlzLl90YWlsPWUsZS5fbmV4dER1cD1udWxsLGUuX3ByZXZEdXA9bnVsbCk6KHRoaXMuX3RhaWwuX25leHREdXA9ZSxlLl9wcmV2RHVwPXRoaXMuX3RhaWwsZS5fbmV4dER1cD1udWxsLHRoaXMuX3RhaWw9ZSl9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe3ZhciBuO2ZvcihuPXRoaXMuX2hlYWQ7bnVsbCE9PW47bj1uLl9uZXh0RHVwKWlmKChudWxsPT09dHx8dDw9bi5jdXJyZW50SW5kZXgpJiZiZShuLnRyYWNrQnlJZCxlKSlyZXR1cm4gbjtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuX3ByZXZEdXAsbj1lLl9uZXh0RHVwO3JldHVybiBudWxsPT09dD90aGlzLl9oZWFkPW46dC5fbmV4dER1cD1uLG51bGw9PT1uP3RoaXMuX3RhaWw9dDpuLl9wcmV2RHVwPXQsbnVsbD09PXRoaXMuX2hlYWR9LGV9KCksU249ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5tYXA9bmV3IE1hcH1yZXR1cm4gZS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGUpe3ZhciB0PWUudHJhY2tCeUlkLG49dGhpcy5tYXAuZ2V0KHQpO258fChuPW5ldyBJbix0aGlzLm1hcC5zZXQodCxuKSksbi5hZGQoZSl9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe3ZhciBuPWUscj10aGlzLm1hcC5nZXQobik7cmV0dXJuIHI/ci5nZXQoZSx0KTpudWxsfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50cmFja0J5SWQ7cmV0dXJuIHRoaXMubWFwLmdldCh0KS5yZW1vdmUoZSkmJnRoaXMubWFwLmRlbGV0ZSh0KSxlfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzRW1wdHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMubWFwLnNpemV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLm1hcC5jbGVhcigpfSxlfSgpO2Z1bmN0aW9uIE5uKGUsdCxuKXt2YXIgcj1lLnByZXZpb3VzSW5kZXg7aWYobnVsbD09PXIpcmV0dXJuIHI7dmFyIG89MDtyZXR1cm4gbiYmcjxuLmxlbmd0aCYmKG89bltyXSkscit0K299dmFyIEFuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuc3VwcG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBNYXB8fEVuKGUpfSxlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERufSxlfSgpLERuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX3JlY29yZHM9bmV3IE1hcCx0aGlzLl9tYXBIZWFkPW51bGwsdGhpcy5fYXBwZW5kQWZ0ZXI9bnVsbCx0aGlzLl9wcmV2aW91c01hcEhlYWQ9bnVsbCx0aGlzLl9jaGFuZ2VzSGVhZD1udWxsLHRoaXMuX2NoYW5nZXNUYWlsPW51bGwsdGhpcy5fYWRkaXRpb25zSGVhZD1udWxsLHRoaXMuX2FkZGl0aW9uc1RhaWw9bnVsbCx0aGlzLl9yZW1vdmFsc0hlYWQ9bnVsbCx0aGlzLl9yZW1vdmFsc1RhaWw9bnVsbH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0RpcnR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLl9hZGRpdGlvbnNIZWFkfHxudWxsIT09dGhpcy5fY2hhbmdlc0hlYWR8fG51bGwhPT10aGlzLl9yZW1vdmFsc0hlYWR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZm9yRWFjaEl0ZW09ZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQ9dGhpcy5fbWFwSGVhZDtudWxsIT09dDt0PXQuX25leHQpZSh0KX0sZS5wcm90b3R5cGUuZm9yRWFjaFByZXZpb3VzSXRlbT1mdW5jdGlvbihlKXt2YXIgdDtmb3IodD10aGlzLl9wcmV2aW91c01hcEhlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0UHJldmlvdXMpZSh0KX0sZS5wcm90b3R5cGUuZm9yRWFjaENoYW5nZWRJdGVtPWZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0PXRoaXMuX2NoYW5nZXNIZWFkO251bGwhPT10O3Q9dC5fbmV4dENoYW5nZWQpZSh0KX0sZS5wcm90b3R5cGUuZm9yRWFjaEFkZGVkSXRlbT1mdW5jdGlvbihlKXt2YXIgdDtmb3IodD10aGlzLl9hZGRpdGlvbnNIZWFkO251bGwhPT10O3Q9dC5fbmV4dEFkZGVkKWUodCl9LGUucHJvdG90eXBlLmZvckVhY2hSZW1vdmVkSXRlbT1mdW5jdGlvbihlKXt2YXIgdDtmb3IodD10aGlzLl9yZW1vdmFsc0hlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0UmVtb3ZlZCllKHQpfSxlLnByb3RvdHlwZS5kaWZmPWZ1bmN0aW9uKGUpe2lmKGUpe2lmKCEoZSBpbnN0YW5jZW9mIE1hcHx8RW4oZSkpKXRocm93IG5ldyBFcnJvcigiRXJyb3IgdHJ5aW5nIHRvIGRpZmYgJyIrX2UoZSkrIicuIE9ubHkgbWFwcyBhbmQgb2JqZWN0cyBhcmUgYWxsb3dlZCIpfWVsc2UgZT1uZXcgTWFwO3JldHVybiB0aGlzLmNoZWNrKGUpP3RoaXM6bnVsbH0sZS5wcm90b3R5cGUub25EZXN0cm95PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX3Jlc2V0KCk7dmFyIG49dGhpcy5fbWFwSGVhZDtpZih0aGlzLl9hcHBlbmRBZnRlcj1udWxsLHRoaXMuX2ZvckVhY2goZSxmdW5jdGlvbihlLHIpe2lmKG4mJm4ua2V5PT09cil0Ll9tYXliZUFkZFRvQ2hhbmdlcyhuLGUpLHQuX2FwcGVuZEFmdGVyPW4sbj1uLl9uZXh0O2Vsc2V7dmFyIG89dC5fZ2V0T3JDcmVhdGVSZWNvcmRGb3JLZXkocixlKTtuPXQuX2luc2VydEJlZm9yZU9yQXBwZW5kKG4sbyl9fSksbil7bi5fcHJldiYmKG4uX3ByZXYuX25leHQ9bnVsbCksdGhpcy5fcmVtb3ZhbHNIZWFkPW47Zm9yKHZhciByPW47bnVsbCE9PXI7cj1yLl9uZXh0UmVtb3ZlZClyPT09dGhpcy5fbWFwSGVhZCYmKHRoaXMuX21hcEhlYWQ9bnVsbCksdGhpcy5fcmVjb3Jkcy5kZWxldGUoci5rZXkpLHIuX25leHRSZW1vdmVkPXIuX25leHQsci5wcmV2aW91c1ZhbHVlPXIuY3VycmVudFZhbHVlLHIuY3VycmVudFZhbHVlPW51bGwsci5fcHJldj1udWxsLHIuX25leHQ9bnVsbH1yZXR1cm4gdGhpcy5fY2hhbmdlc1RhaWwmJih0aGlzLl9jaGFuZ2VzVGFpbC5fbmV4dENoYW5nZWQ9bnVsbCksdGhpcy5fYWRkaXRpb25zVGFpbCYmKHRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZD1udWxsKSx0aGlzLmlzRGlydHl9LGUucHJvdG90eXBlLl9pbnNlcnRCZWZvcmVPckFwcGVuZD1mdW5jdGlvbihlLHQpe2lmKGUpe3ZhciBuPWUuX3ByZXY7cmV0dXJuIHQuX25leHQ9ZSx0Ll9wcmV2PW4sZS5fcHJldj10LG4mJihuLl9uZXh0PXQpLGU9PT10aGlzLl9tYXBIZWFkJiYodGhpcy5fbWFwSGVhZD10KSx0aGlzLl9hcHBlbmRBZnRlcj1lLGV9cmV0dXJuIHRoaXMuX2FwcGVuZEFmdGVyPyh0aGlzLl9hcHBlbmRBZnRlci5fbmV4dD10LHQuX3ByZXY9dGhpcy5fYXBwZW5kQWZ0ZXIpOnRoaXMuX21hcEhlYWQ9dCx0aGlzLl9hcHBlbmRBZnRlcj10LG51bGx9LGUucHJvdG90eXBlLl9nZXRPckNyZWF0ZVJlY29yZEZvcktleT1mdW5jdGlvbihlLHQpe2lmKHRoaXMuX3JlY29yZHMuaGFzKGUpKXt2YXIgbj10aGlzLl9yZWNvcmRzLmdldChlKTt0aGlzLl9tYXliZUFkZFRvQ2hhbmdlcyhuLHQpO3ZhciByPW4uX3ByZXYsbz1uLl9uZXh0O3JldHVybiByJiYoci5fbmV4dD1vKSxvJiYoby5fcHJldj1yKSxuLl9uZXh0PW51bGwsbi5fcHJldj1udWxsLG59dmFyIGk9bmV3IE9uKGUpO3JldHVybiB0aGlzLl9yZWNvcmRzLnNldChlLGkpLGkuY3VycmVudFZhbHVlPXQsdGhpcy5fYWRkVG9BZGRpdGlvbnMoaSksaX0sZS5wcm90b3R5cGUuX3Jlc2V0PWZ1bmN0aW9uKCl7aWYodGhpcy5pc0RpcnR5KXt2YXIgZT12b2lkIDA7Zm9yKHRoaXMuX3ByZXZpb3VzTWFwSGVhZD10aGlzLl9tYXBIZWFkLGU9dGhpcy5fcHJldmlvdXNNYXBIZWFkO251bGwhPT1lO2U9ZS5fbmV4dCllLl9uZXh0UHJldmlvdXM9ZS5fbmV4dDtmb3IoZT10aGlzLl9jaGFuZ2VzSGVhZDtudWxsIT09ZTtlPWUuX25leHRDaGFuZ2VkKWUucHJldmlvdXNWYWx1ZT1lLmN1cnJlbnRWYWx1ZTtmb3IoZT10aGlzLl9hZGRpdGlvbnNIZWFkO251bGwhPWU7ZT1lLl9uZXh0QWRkZWQpZS5wcmV2aW91c1ZhbHVlPWUuY3VycmVudFZhbHVlO3RoaXMuX2NoYW5nZXNIZWFkPXRoaXMuX2NoYW5nZXNUYWlsPW51bGwsdGhpcy5fYWRkaXRpb25zSGVhZD10aGlzLl9hZGRpdGlvbnNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPW51bGx9fSxlLnByb3RvdHlwZS5fbWF5YmVBZGRUb0NoYW5nZXM9ZnVuY3Rpb24oZSx0KXtiZSh0LGUuY3VycmVudFZhbHVlKXx8KGUucHJldmlvdXNWYWx1ZT1lLmN1cnJlbnRWYWx1ZSxlLmN1cnJlbnRWYWx1ZT10LHRoaXMuX2FkZFRvQ2hhbmdlcyhlKSl9LGUucHJvdG90eXBlLl9hZGRUb0FkZGl0aW9ucz1mdW5jdGlvbihlKXtudWxsPT09dGhpcy5fYWRkaXRpb25zSGVhZD90aGlzLl9hZGRpdGlvbnNIZWFkPXRoaXMuX2FkZGl0aW9uc1RhaWw9ZToodGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkPWUsdGhpcy5fYWRkaXRpb25zVGFpbD1lKX0sZS5wcm90b3R5cGUuX2FkZFRvQ2hhbmdlcz1mdW5jdGlvbihlKXtudWxsPT09dGhpcy5fY2hhbmdlc0hlYWQ/dGhpcy5fY2hhbmdlc0hlYWQ9dGhpcy5fY2hhbmdlc1RhaWw9ZToodGhpcy5fY2hhbmdlc1RhaWwuX25leHRDaGFuZ2VkPWUsdGhpcy5fY2hhbmdlc1RhaWw9ZSl9LGUucHJvdG90eXBlLl9mb3JFYWNoPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIE1hcD9lLmZvckVhY2godCk6T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihuKXtyZXR1cm4gdChlW25dLG4pfSl9LGV9KCksT249ZnVuY3Rpb24oZSl7dGhpcy5rZXk9ZSx0aGlzLnByZXZpb3VzVmFsdWU9bnVsbCx0aGlzLmN1cnJlbnRWYWx1ZT1udWxsLHRoaXMuX25leHRQcmV2aW91cz1udWxsLHRoaXMuX25leHQ9bnVsbCx0aGlzLl9wcmV2PW51bGwsdGhpcy5fbmV4dEFkZGVkPW51bGwsdGhpcy5fbmV4dFJlbW92ZWQ9bnVsbCx0aGlzLl9uZXh0Q2hhbmdlZD1udWxsfSxQbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5mYWN0b3JpZXM9ZX1yZXR1cm4gZS5jcmVhdGU9ZnVuY3Rpb24odCxuKXtpZihudWxsIT1uKXt2YXIgcj1uLmZhY3Rvcmllcy5zbGljZSgpO3Q9dC5jb25jYXQocil9cmV0dXJuIG5ldyBlKHQpfSxlLmV4dGVuZD1mdW5jdGlvbih0KXtyZXR1cm57cHJvdmlkZTplLHVzZUZhY3Rvcnk6ZnVuY3Rpb24obil7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZXh0ZW5kIEl0ZXJhYmxlRGlmZmVycyB3aXRob3V0IGEgcGFyZW50IGluamVjdG9yIik7cmV0dXJuIGUuY3JlYXRlKHQsbil9LGRlcHM6W1tlLG5ldyBrZSxuZXcgeGVdXX19LGUucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5mYWN0b3JpZXMuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdXBwb3J0cyhlKX0pO2lmKG51bGwhPXQpcmV0dXJuIHQ7dGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZmluZCBhIGRpZmZlciBzdXBwb3J0aW5nIG9iamVjdCAnIitlKyInIG9mIHR5cGUgJyIrZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZXx8dHlwZW9mIGV9KGUpKyInIil9LGUubmdJbmplY3RhYmxlRGVmPXVlKHtwcm92aWRlZEluOiJyb290IixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKFtuZXcgQ25dKX19KSxlfSgpLFJuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmZhY3Rvcmllcz1lfXJldHVybiBlLmNyZWF0ZT1mdW5jdGlvbih0LG4pe2lmKG4pe3ZhciByPW4uZmFjdG9yaWVzLnNsaWNlKCk7dD10LmNvbmNhdChyKX1yZXR1cm4gbmV3IGUodCl9LGUuZXh0ZW5kPWZ1bmN0aW9uKHQpe3JldHVybntwcm92aWRlOmUsdXNlRmFjdG9yeTpmdW5jdGlvbihuKXtpZighbil0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBleHRlbmQgS2V5VmFsdWVEaWZmZXJzIHdpdGhvdXQgYSBwYXJlbnQgaW5qZWN0b3IiKTtyZXR1cm4gZS5jcmVhdGUodCxuKX0sZGVwczpbW2UsbmV3IGtlLG5ldyB4ZV1dfX0sZS5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmZhY3Rvcmllcy5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN1cHBvcnRzKGUpfSk7aWYodClyZXR1cm4gdDt0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBmaW5kIGEgZGlmZmVyIHN1cHBvcnRpbmcgb2JqZWN0ICciK2UrIiciKX0sZX0oKSxNbj1bbmV3IEFuXSxWbj1uZXcgUG4oW25ldyBDbl0pLGpuPW5ldyBSbihNbiksSG49WXQobnVsbCwiY29yZSIsW3twcm92aWRlOmR0LHVzZVZhbHVlOiJ1bmtub3duIn0se3Byb3ZpZGU6JHQsZGVwczpbRGVdfSx7cHJvdmlkZTpVdCxkZXBzOltdfSx7cHJvdmlkZTpwdCxkZXBzOltdfV0pLEZuPW5ldyBhZSgiTG9jYWxlSWQiKTtmdW5jdGlvbiBMbigpe3JldHVybiBWbn1mdW5jdGlvbiBCbigpe3JldHVybiBqbn1mdW5jdGlvbiB6bihlKXtyZXR1cm4gZXx8ImVuLVVTIn12YXIgVW49ZnVuY3Rpb24oZSl7fSxabj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYodGhpcy5kZWZhdWx0RG9jPWUsdGhpcy5pbmVydERvY3VtZW50PXRoaXMuZGVmYXVsdERvYy5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoInNhbml0aXphdGlvbi1pbmVydCIpLHRoaXMuaW5lcnRCb2R5RWxlbWVudD10aGlzLmluZXJ0RG9jdW1lbnQuYm9keSxudWxsPT10aGlzLmluZXJ0Qm9keUVsZW1lbnQpe3ZhciB0PXRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCJodG1sIik7dGhpcy5pbmVydERvY3VtZW50LmFwcGVuZENoaWxkKHQpLHRoaXMuaW5lcnRCb2R5RWxlbWVudD10aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYm9keSIpLHQuYXBwZW5kQ2hpbGQodGhpcy5pbmVydEJvZHlFbGVtZW50KX10aGlzLmluZXJ0Qm9keUVsZW1lbnQuaW5uZXJIVE1MPSc8c3ZnPjxnIG9ubG9hZD0idGhpcy5wYXJlbnROb2RlLnJlbW92ZSgpIj48L2c+PC9zdmc+JywhdGhpcy5pbmVydEJvZHlFbGVtZW50LnF1ZXJ5U2VsZWN0b3J8fHRoaXMuaW5lcnRCb2R5RWxlbWVudC5xdWVyeVNlbGVjdG9yKCJzdmciKT8odGhpcy5pbmVydEJvZHlFbGVtZW50LmlubmVySFRNTD0nPHN2Zz48cD48c3R5bGU+PGltZyBzcmM9Ijwvc3R5bGU+PGltZyBzcmM9eCBvbmVycm9yPWFsZXJ0KDEpLy8iPicsdGhpcy5pbmVydEJvZHlFbGVtZW50LnF1ZXJ5U2VsZWN0b3ImJnRoaXMuaW5lcnRCb2R5RWxlbWVudC5xdWVyeVNlbGVjdG9yKCJzdmcgaW1nIikmJmZ1bmN0aW9uKCl7dHJ5e3JldHVybiEhd2luZG93LkRPTVBhcnNlcn1jYXRjaChlKXtyZXR1cm4hMX19KCk/dGhpcy5nZXRJbmVydEJvZHlFbGVtZW50PXRoaXMuZ2V0SW5lcnRCb2R5RWxlbWVudF9ET01QYXJzZXI6dGhpcy5nZXRJbmVydEJvZHlFbGVtZW50PXRoaXMuZ2V0SW5lcnRCb2R5RWxlbWVudF9JbmVydERvY3VtZW50KTp0aGlzLmdldEluZXJ0Qm9keUVsZW1lbnQ9dGhpcy5nZXRJbmVydEJvZHlFbGVtZW50X1hIUn1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0SW5lcnRCb2R5RWxlbWVudF9YSFI9ZnVuY3Rpb24oZSl7ZT0iPGJvZHk+PHJlbW92ZT48L3JlbW92ZT4iK2UrIjwvYm9keT4iO3RyeXtlPWVuY29kZVVSSShlKX1jYXRjaChlKXtyZXR1cm4gbnVsbH12YXIgdD1uZXcgWE1MSHR0cFJlcXVlc3Q7dC5yZXNwb25zZVR5cGU9ImRvY3VtZW50Iix0Lm9wZW4oIkdFVCIsImRhdGE6dGV4dC9odG1sO2NoYXJzZXQ9dXRmLTgsIitlLCExKSx0LnNlbmQobnVsbCk7dmFyIG49dC5yZXNwb25zZS5ib2R5O3JldHVybiBuLnJlbW92ZUNoaWxkKG4uZmlyc3RDaGlsZCksbn0sZS5wcm90b3R5cGUuZ2V0SW5lcnRCb2R5RWxlbWVudF9ET01QYXJzZXI9ZnVuY3Rpb24oZSl7ZT0iPGJvZHk+PHJlbW92ZT48L3JlbW92ZT4iK2UrIjwvYm9keT4iO3RyeXt2YXIgdD0obmV3IHdpbmRvdy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L2h0bWwiKS5ib2R5O3JldHVybiB0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCksdH1jYXRjaChlKXtyZXR1cm4gbnVsbH19LGUucHJvdG90eXBlLmdldEluZXJ0Qm9keUVsZW1lbnRfSW5lcnREb2N1bWVudD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTtyZXR1cm4iY29udGVudCJpbiB0Pyh0LmlubmVySFRNTD1lLHQpOih0aGlzLmluZXJ0Qm9keUVsZW1lbnQuaW5uZXJIVE1MPWUsdGhpcy5kZWZhdWx0RG9jLmRvY3VtZW50TW9kZSYmdGhpcy5zdHJpcEN1c3RvbU5zQXR0cnModGhpcy5pbmVydEJvZHlFbGVtZW50KSx0aGlzLmluZXJ0Qm9keUVsZW1lbnQpfSxlLnByb3RvdHlwZS5zdHJpcEN1c3RvbU5zQXR0cnM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuYXR0cmlidXRlcyxuPXQubGVuZ3RoLTE7MDxuO24tLSl7dmFyIHI9dC5pdGVtKG4pLm5hbWU7InhtbG5zOm5zMSIhPT1yJiYwIT09ci5pbmRleE9mKCJuczE6Iil8fGUucmVtb3ZlQXR0cmlidXRlKHIpfWZvcih2YXIgbz1lLmZpcnN0Q2hpbGQ7bzspby5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiZ0aGlzLnN0cmlwQ3VzdG9tTnNBdHRycyhvKSxvPW8ubmV4dFNpYmxpbmd9LGV9KCkscW49L14oPzooPzpodHRwcz98bWFpbHRvfGZ0cHx0ZWx8ZmlsZSk6fFteJjpcLz8jXSooPzpbXC8/I118JCkpL2dpLFFuPS9eZGF0YTooPzppbWFnZVwvKD86Ym1wfGdpZnxqcGVnfGpwZ3xwbmd8dGlmZnx3ZWJwKXx2aWRlb1wvKD86bXBlZ3xtcDR8b2dnfHdlYm0pfGF1ZGlvXC8oPzptcDN8b2dhfG9nZ3xvcHVzKSk7YmFzZTY0LFthLXowLTkrXC9dKz0qJC9pO2Z1bmN0aW9uIFduKGUpe3JldHVybihlPVN0cmluZyhlKSkubWF0Y2gocW4pfHxlLm1hdGNoKFFuKT9lOihLdCgpJiZjb25zb2xlLndhcm4oIldBUk5JTkc6IHNhbml0aXppbmcgdW5zYWZlIFVSTCB2YWx1ZSAiK2UrIiAoc2VlIGh0dHA6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcykiKSwidW5zYWZlOiIrZSl9ZnVuY3Rpb24gS24oZSl7cmV0dXJuKGU9U3RyaW5nKGUpKS5zcGxpdCgiLCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gV24oZS50cmltKCkpfSkuam9pbigiLCAiKX1mdW5jdGlvbiBHbihlKXt2YXIgdCxuLHI9e307dHJ5e2Zvcih2YXIgbz1zKGUuc3BsaXQoIiwiKSksaT1vLm5leHQoKTshaS5kb25lO2k9by5uZXh0KCkpcltpLnZhbHVlXT0hMH1jYXRjaChlKXt0PXtlcnJvcjplfX1maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYobj1vLnJldHVybikmJm4uY2FsbChvKX1maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19cmV0dXJuIHJ9ZnVuY3Rpb24gWW4oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIG4scixvPXt9O3RyeXtmb3IodmFyIGk9cyhlKSx1PWkubmV4dCgpOyF1LmRvbmU7dT1pLm5leHQoKSl7dmFyIGE9dS52YWx1ZTtmb3IodmFyIGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiYob1tjXT0hMCl9fWNhdGNoKGUpe249e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e3UmJiF1LmRvbmUmJihyPWkucmV0dXJuKSYmci5jYWxsKGkpfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX1yZXR1cm4gb312YXIgSm4sJG49R24oImFyZWEsYnIsY29sLGhyLGltZyx3YnIiKSxYbj1HbigiY29sZ3JvdXAsZGQsZHQsbGkscCx0Ym9keSx0ZCx0Zm9vdCx0aCx0aGVhZCx0ciIpLGVyPUduKCJycCxydCIpLHRyPVluKGVyLFhuKSxucj1ZbigkbixZbihYbixHbigiYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGJsb2NrcXVvdGUsY2FwdGlvbixjZW50ZXIsZGVsLGRldGFpbHMsZGlhbG9nLGRpcixkaXYsZGwsZmlndXJlLGZpZ2NhcHRpb24sZm9vdGVyLGgxLGgyLGgzLGg0LGg1LGg2LGhlYWRlcixoZ3JvdXAsaHIsaW5zLG1haW4sbWFwLG1lbnUsbmF2LG9sLHByZSxzZWN0aW9uLHN1bW1hcnksdGFibGUsdWwiKSksWW4oZXIsR24oImEsYWJicixhY3JvbnltLGF1ZGlvLGIsYmRpLGJkbyxiaWcsYnIsY2l0ZSxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGltZyxpbnMsa2JkLGxhYmVsLG1hcCxtYXJrLHBpY3R1cmUscSxydWJ5LHJwLHJ0LHMsc2FtcCxzbWFsbCxzb3VyY2Usc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdGltZSx0cmFjayx0dCx1LHZhcix2aWRlbyIpKSx0cikscnI9R24oImJhY2tncm91bmQsY2l0ZSxocmVmLGl0ZW10eXBlLGxvbmdkZXNjLHBvc3RlcixzcmMseGxpbms6aHJlZiIpLG9yPUduKCJzcmNzZXQiKSxpcj1ZbihycixvcixHbigiYWJicixhY2Nlc3NrZXksYWxpZ24sYWx0LGF1dG9wbGF5LGF4aXMsYmdjb2xvcixib3JkZXIsY2VsbHBhZGRpbmcsY2VsbHNwYWNpbmcsY2xhc3MsY2xlYXIsY29sb3IsY29scyxjb2xzcGFuLGNvbXBhY3QsY29udHJvbHMsY29vcmRzLGRhdGV0aW1lLGRlZmF1bHQsZGlyLGRvd25sb2FkLGZhY2UsaGVhZGVycyxoZWlnaHQsaGlkZGVuLGhyZWZsYW5nLGhzcGFjZSxpc21hcCxpdGVtc2NvcGUsaXRlbXByb3Asa2luZCxsYWJlbCxsYW5nLGxhbmd1YWdlLGxvb3AsbWVkaWEsbXV0ZWQsbm9ocmVmLG5vd3JhcCxvcGVuLHByZWxvYWQscmVsLHJldixyb2xlLHJvd3Mscm93c3BhbixydWxlcyxzY29wZSxzY3JvbGxpbmcsc2hhcGUsc2l6ZSxzaXplcyxzcGFuLHNyY2xhbmcsc3RhcnQsc3VtbWFyeSx0YWJpbmRleCx0YXJnZXQsdGl0bGUsdHJhbnNsYXRlLHR5cGUsdXNlbWFwLHZhbGlnbix2YWx1ZSx2c3BhY2Usd2lkdGgiKSksc3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5zYW5pdGl6ZWRTb21ldGhpbmc9ITEsdGhpcy5idWY9W119cmV0dXJuIGUucHJvdG90eXBlLnNhbml0aXplQ2hpbGRyZW49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuZmlyc3RDaGlsZDt0OylpZih0Lm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREU/dGhpcy5zdGFydEVsZW1lbnQodCk6dC5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFP3RoaXMuY2hhcnModC5ub2RlVmFsdWUpOnRoaXMuc2FuaXRpemVkU29tZXRoaW5nPSEwLHQuZmlyc3RDaGlsZCl0PXQuZmlyc3RDaGlsZDtlbHNlIGZvcig7dDspe3Qubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmdGhpcy5lbmRFbGVtZW50KHQpO3ZhciBuPXRoaXMuY2hlY2tDbG9iYmVyZWRFbGVtZW50KHQsdC5uZXh0U2libGluZyk7aWYobil7dD1uO2JyZWFrfXQ9dGhpcy5jaGVja0Nsb2JiZXJlZEVsZW1lbnQodCx0LnBhcmVudE5vZGUpfXJldHVybiB0aGlzLmJ1Zi5qb2luKCIiKX0sZS5wcm90b3R5cGUuc3RhcnRFbGVtZW50PWZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihuci5oYXNPd25Qcm9wZXJ0eSh0KSl7dGhpcy5idWYucHVzaCgiPCIpLHRoaXMuYnVmLnB1c2godCk7Zm9yKHZhciBuPWUuYXR0cmlidXRlcyxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW4uaXRlbShyKSxpPW8ubmFtZSxzPWkudG9Mb3dlckNhc2UoKTtpZihpci5oYXNPd25Qcm9wZXJ0eShzKSl7dmFyIHU9by52YWx1ZTtycltzXSYmKHU9V24odSkpLG9yW3NdJiYodT1Lbih1KSksdGhpcy5idWYucHVzaCgiICIsaSwnPSInLGNyKHUpLCciJyl9ZWxzZSB0aGlzLnNhbml0aXplZFNvbWV0aGluZz0hMH10aGlzLmJ1Zi5wdXNoKCI+Iil9ZWxzZSB0aGlzLnNhbml0aXplZFNvbWV0aGluZz0hMH0sZS5wcm90b3R5cGUuZW5kRWxlbWVudD1mdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7bnIuaGFzT3duUHJvcGVydHkodCkmJiEkbi5oYXNPd25Qcm9wZXJ0eSh0KSYmKHRoaXMuYnVmLnB1c2goIjwvIiksdGhpcy5idWYucHVzaCh0KSx0aGlzLmJ1Zi5wdXNoKCI+IikpfSxlLnByb3RvdHlwZS5jaGFycz1mdW5jdGlvbihlKXt0aGlzLmJ1Zi5wdXNoKGNyKGUpKX0sZS5wcm90b3R5cGUuY2hlY2tDbG9iYmVyZWRFbGVtZW50PWZ1bmN0aW9uKGUsdCl7aWYodCYmKGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCkmTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkpPT09Tm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gc2FuaXRpemUgaHRtbCBiZWNhdXNlIHRoZSBlbGVtZW50IGlzIGNsb2JiZXJlZDogIitlLm91dGVySFRNTCk7cmV0dXJuIHR9LGV9KCksdXI9L1tcdUQ4MDAtXHVEQkZGXVtcdURDMDAtXHVERkZGXS9nLGFyPS8oW15cIy1+IHwhXSkvZztmdW5jdGlvbiBjcihlKXtyZXR1cm4gZS5yZXBsYWNlKC8mL2csIiZhbXA7IikucmVwbGFjZSh1cixmdW5jdGlvbihlKXtyZXR1cm4iJiMiKygxMDI0KihlLmNoYXJDb2RlQXQoMCktNTUyOTYpKyhlLmNoYXJDb2RlQXQoMSktNTYzMjApKzY1NTM2KSsiOyJ9KS5yZXBsYWNlKGFyLGZ1bmN0aW9uKGUpe3JldHVybiImIyIrZS5jaGFyQ29kZUF0KDApKyI7In0pLnJlcGxhY2UoLzwvZywiJmx0OyIpLnJlcGxhY2UoLz4vZywiJmd0OyIpfWZ1bmN0aW9uIGxyKGUpe3JldHVybiJjb250ZW50ImluIGUmJmZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJiJURU1QTEFURSI9PT1lLm5vZGVOYW1lfShlKT9lLmNvbnRlbnQ6bnVsbH12YXIgZHI9bmV3IFJlZ0V4cCgiXihbLSwuXCInJV8hIyBhLXpBLVowLTldK3woPzooPzptYXRyaXh8dHJhbnNsYXRlfHNjYWxlfHJvdGF0ZXxza2V3fHBlcnNwZWN0aXZlKSg/Olh8WXwzZCk/fCg/OnJnYnxoc2wpYT98KD86cmVwZWF0aW5nLSk/KD86bGluZWFyfHJhZGlhbCktZ3JhZGllbnR8KD86Y2FsY3xhdHRyKSlcXChbLTAtOS4lLCAjYS16QS1aXStcXCkpJCIsImciKSxmcj0vXnVybFwoKFteKV0rKVwpJC87dmFyIHByPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuTk9ORT0wXT0iTk9ORSIsZVtlLkhUTUw9MV09IkhUTUwiLGVbZS5TVFlMRT0yXT0iU1RZTEUiLGVbZS5TQ1JJUFQ9M109IlNDUklQVCIsZVtlLlVSTD00XT0iVVJMIixlW2UuUkVTT1VSQ0VfVVJMPTVdPSJSRVNPVVJDRV9VUkwiLGV9KHt9KSxocj1mdW5jdGlvbigpe307ZnVuY3Rpb24gdnIoZSx0LG4pe3ZhciByPWUuc3RhdGUsbz0xNzkyJnI7cmV0dXJuIG89PT10PyhlLnN0YXRlPS0xNzkzJnJ8bixlLmluaXRJbmRleD0tMSwhMCk6bz09PW59ZnVuY3Rpb24geXIoZSx0LG4pe3JldHVybigxNzkyJmUuc3RhdGUpPT09dCYmZS5pbml0SW5kZXg8PW4mJihlLmluaXRJbmRleD1uKzEsITApfWZ1bmN0aW9uIGdyKGUsdCl7cmV0dXJuIGUubm9kZXNbdF19ZnVuY3Rpb24gbXIoZSx0KXtyZXR1cm4gZS5ub2Rlc1t0XX1mdW5jdGlvbiBicihlLHQpe3JldHVybiBlLm5vZGVzW3RdfWZ1bmN0aW9uIF9yKGUsdCl7cmV0dXJuIGUubm9kZXNbdF19ZnVuY3Rpb24gd3IoZSx0KXtyZXR1cm4gZS5ub2Rlc1t0XX12YXIgRXI9e3NldEN1cnJlbnROb2RlOnZvaWQgMCxjcmVhdGVSb290Vmlldzp2b2lkIDAsY3JlYXRlRW1iZWRkZWRWaWV3OnZvaWQgMCxjcmVhdGVDb21wb25lbnRWaWV3OnZvaWQgMCxjcmVhdGVOZ01vZHVsZVJlZjp2b2lkIDAsb3ZlcnJpZGVQcm92aWRlcjp2b2lkIDAsb3ZlcnJpZGVDb21wb25lbnRWaWV3OnZvaWQgMCxjbGVhck92ZXJyaWRlczp2b2lkIDAsY2hlY2tBbmRVcGRhdGVWaWV3OnZvaWQgMCxjaGVja05vQ2hhbmdlc1ZpZXc6dm9pZCAwLGRlc3Ryb3lWaWV3OnZvaWQgMCxyZXNvbHZlRGVwOnZvaWQgMCxjcmVhdGVEZWJ1Z0NvbnRleHQ6dm9pZCAwLGhhbmRsZUV2ZW50OnZvaWQgMCx1cGRhdGVEaXJlY3RpdmVzOnZvaWQgMCx1cGRhdGVSZW5kZXJlcjp2b2lkIDAsZGlydHlQYXJlbnRRdWVyaWVzOnZvaWQgMH07ZnVuY3Rpb24gQ3IoZSx0LG4scil7dmFyIG89IkV4cHJlc3Npb25DaGFuZ2VkQWZ0ZXJJdEhhc0JlZW5DaGVja2VkRXJyb3I6IEV4cHJlc3Npb24gaGFzIGNoYW5nZWQgYWZ0ZXIgaXQgd2FzIGNoZWNrZWQuIFByZXZpb3VzIHZhbHVlOiAnIit0KyInLiBDdXJyZW50IHZhbHVlOiAnIituKyInLiI7cmV0dXJuIHImJihvKz0iIEl0IHNlZW1zIGxpa2UgdGhlIHZpZXcgaGFzIGJlZW4gY3JlYXRlZCBhZnRlciBpdHMgcGFyZW50IGFuZCBpdHMgY2hpbGRyZW4gaGF2ZSBiZWVuIGRpcnR5IGNoZWNrZWQuIEhhcyBpdCBiZWVuIGNyZWF0ZWQgaW4gYSBjaGFuZ2UgZGV0ZWN0aW9uIGhvb2sgPyIpLGZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IEVycm9yKG8pO3JldHVybiB4cihuLHQpLG59KDAsZSl9ZnVuY3Rpb24geHIoZSx0KXtlW1llXT10LGVbJGVdPXQubG9nRXJyb3IuYmluZCh0KX1mdW5jdGlvbiBUcihlKXtyZXR1cm4gbmV3IEVycm9yKCJWaWV3RGVzdHJveWVkRXJyb3I6IEF0dGVtcHQgdG8gdXNlIGEgZGVzdHJveWVkIHZpZXc6ICIrZSl9dmFyIGtyPWZ1bmN0aW9uKCl7fSxJcj1uZXcgTWFwO2Z1bmN0aW9uIFNyKGUpe3ZhciB0PUlyLmdldChlKTtyZXR1cm4gdHx8KHQ9X2UoZSkrIl8iK0lyLnNpemUsSXIuc2V0KGUsdCkpLHR9dmFyIE5yPSIkJHVuZGVmaW5lZCIsQXI9IiQkZW1wdHkiLERyPTA7ZnVuY3Rpb24gT3IoZSx0LG4scil7dmFyIG89ZS5vbGRWYWx1ZXM7cmV0dXJuISghKDImZS5zdGF0ZSkmJmJlKG9bdC5iaW5kaW5nSW5kZXgrbl0scikpfWZ1bmN0aW9uIFByKGUsdCxuLHIpe3JldHVybiEhT3IoZSx0LG4scikmJihlLm9sZFZhbHVlc1t0LmJpbmRpbmdJbmRleCtuXT1yLCEwKX1mdW5jdGlvbiBScihlLHQsbixyKXt2YXIgbz1lLm9sZFZhbHVlc1t0LmJpbmRpbmdJbmRleCtuXTtpZigxJmUuc3RhdGV8fCFtbihvLHIpKXt2YXIgaT10LmJpbmRpbmdzW25dLm5hbWU7dGhyb3cgQ3IoRXIuY3JlYXRlRGVidWdDb250ZXh0KGUsdC5ub2RlSW5kZXgpLGkrIjogIitvLGkrIjogIityLDAhPSgxJmUuc3RhdGUpKX19ZnVuY3Rpb24gTXIoZSl7Zm9yKHZhciB0PWU7dDspMiZ0LmRlZi5mbGFncyYmKHQuc3RhdGV8PTgpLHQ9dC52aWV3Q29udGFpbmVyUGFyZW50fHx0LnBhcmVudH1mdW5jdGlvbiBWcihlLHQpe2Zvcih2YXIgbj1lO24mJm4hPT10OyluLnN0YXRlfD02NCxuPW4udmlld0NvbnRhaW5lclBhcmVudHx8bi5wYXJlbnR9ZnVuY3Rpb24ganIoZSx0LG4scil7dHJ5e3JldHVybiBNcigzMzU1NDQzMiZlLmRlZi5ub2Rlc1t0XS5mbGFncz9tcihlLHQpLmNvbXBvbmVudFZpZXc6ZSksRXIuaGFuZGxlRXZlbnQoZSx0LG4scil9Y2F0Y2godCl7ZS5yb290LmVycm9ySGFuZGxlci5oYW5kbGVFcnJvcih0KX19ZnVuY3Rpb24gSHIoZSl7cmV0dXJuIGUucGFyZW50P21yKGUucGFyZW50LGUucGFyZW50Tm9kZURlZi5ub2RlSW5kZXgpOm51bGx9ZnVuY3Rpb24gRnIoZSl7cmV0dXJuIGUucGFyZW50P2UucGFyZW50Tm9kZURlZi5wYXJlbnQ6bnVsbH1mdW5jdGlvbiBMcihlLHQpe3N3aXRjaCgyMDEzNDcwNjcmdC5mbGFncyl7Y2FzZSAxOnJldHVybiBtcihlLHQubm9kZUluZGV4KS5yZW5kZXJFbGVtZW50O2Nhc2UgMjpyZXR1cm4gZ3IoZSx0Lm5vZGVJbmRleCkucmVuZGVyVGV4dH19ZnVuY3Rpb24gQnIoZSx0KXtyZXR1cm4gZT9lKyI6Iit0OnR9ZnVuY3Rpb24genIoZSl7cmV0dXJuISFlLnBhcmVudCYmISEoMzI3NjgmZS5wYXJlbnROb2RlRGVmLmZsYWdzKX1mdW5jdGlvbiBVcihlKXtyZXR1cm4hKCFlLnBhcmVudHx8MzI3NjgmZS5wYXJlbnROb2RlRGVmLmZsYWdzKX1mdW5jdGlvbiBacihlKXt2YXIgdD17fSxuPTAscj17fTtyZXR1cm4gZSYmZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBvPXUoZSwyKSxpPW9bMF0scz1vWzFdOyJudW1iZXIiPT10eXBlb2YgaT8odFtpXT1zLG58PWZ1bmN0aW9uKGUpe3JldHVybiAxPDxlJTMyfShpKSk6cltpXT1zfSkse21hdGNoZWRRdWVyaWVzOnQscmVmZXJlbmNlczpyLG1hdGNoZWRRdWVyeUlkczpufX1mdW5jdGlvbiBxcihlLHQpe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXt2YXIgbixyLG87cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/KHI9KG89dShlLDIpKVswXSxuPW9bMV0pOihyPTAsbj1lKSxuJiYoImZ1bmN0aW9uIj09dHlwZW9mIG58fCJvYmplY3QiPT10eXBlb2YgbikmJnQmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLEllLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMH0pLHtmbGFnczpyLHRva2VuOm4sdG9rZW5LZXk6U3Iobil9fSl9ZnVuY3Rpb24gUXIoZSx0LG4pe3ZhciByPW4ucmVuZGVyUGFyZW50O3JldHVybiByPzA9PSgxJnIuZmxhZ3MpfHwwPT0oMzM1NTQ0MzImci5mbGFncyl8fHIuZWxlbWVudC5jb21wb25lbnRSZW5kZXJlclR5cGUmJnIuZWxlbWVudC5jb21wb25lbnRSZW5kZXJlclR5cGUuZW5jYXBzdWxhdGlvbj09PUtlLk5hdGl2ZT9tcihlLG4ucmVuZGVyUGFyZW50Lm5vZGVJbmRleCkucmVuZGVyRWxlbWVudDp2b2lkIDA6dH12YXIgV3I9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gS3IoZSl7dmFyIHQ9V3IuZ2V0KGUpO3JldHVybiB0fHwoKHQ9ZShmdW5jdGlvbigpe3JldHVybiBrcn0pKS5mYWN0b3J5PWUsV3Iuc2V0KGUsdCkpLHR9ZnVuY3Rpb24gR3IoZSx0LG4scixvKXszPT09dCYmKG49ZS5yZW5kZXJlci5wYXJlbnROb2RlKExyKGUsZS5kZWYubGFzdFJlbmRlclJvb3ROb2RlKSkpLFlyKGUsdCwwLGUuZGVmLm5vZGVzLmxlbmd0aC0xLG4scixvKX1mdW5jdGlvbiBZcihlLHQsbixyLG8saSxzKXtmb3IodmFyIHU9bjt1PD1yO3UrKyl7dmFyIGE9ZS5kZWYubm9kZXNbdV07MTEmYS5mbGFncyYmJHIoZSxhLHQsbyxpLHMpLHUrPWEuY2hpbGRDb3VudH19ZnVuY3Rpb24gSnIoZSx0LG4scixvLGkpe2Zvcih2YXIgcz1lO3MmJiF6cihzKTspcz1zLnBhcmVudDtmb3IodmFyIHU9cy5wYXJlbnQsYT1GcihzKSxjPWEubm9kZUluZGV4KzEsbD1hLm5vZGVJbmRleCthLmNoaWxkQ291bnQsZD1jO2Q8PWw7ZCsrKXt2YXIgZj11LmRlZi5ub2Rlc1tkXTtmLm5nQ29udGVudEluZGV4PT09dCYmJHIodSxmLG4scixvLGkpLGQrPWYuY2hpbGRDb3VudH1pZighdS5wYXJlbnQpe3ZhciBwPWUucm9vdC5wcm9qZWN0YWJsZU5vZGVzW3RdO2lmKHApZm9yKGQ9MDtkPHAubGVuZ3RoO2QrKylYcihlLHBbZF0sbixyLG8saSl9fWZ1bmN0aW9uICRyKGUsdCxuLHIsbyxpKXtpZig4JnQuZmxhZ3MpSnIoZSx0Lm5nQ29udGVudC5pbmRleCxuLHIsbyxpKTtlbHNle3ZhciBzPUxyKGUsdCk7aWYoMz09PW4mJjMzNTU0NDMyJnQuZmxhZ3MmJjQ4JnQuYmluZGluZ0ZsYWdzPygxNiZ0LmJpbmRpbmdGbGFncyYmWHIoZSxzLG4scixvLGkpLDMyJnQuYmluZGluZ0ZsYWdzJiZYcihtcihlLHQubm9kZUluZGV4KS5jb21wb25lbnRWaWV3LHMsbixyLG8saSkpOlhyKGUscyxuLHIsbyxpKSwxNjc3NzIxNiZ0LmZsYWdzKWZvcih2YXIgdT1tcihlLHQubm9kZUluZGV4KS52aWV3Q29udGFpbmVyLl9lbWJlZGRlZFZpZXdzLGE9MDthPHUubGVuZ3RoO2ErKylHcih1W2FdLG4scixvLGkpOzEmdC5mbGFncyYmIXQuZWxlbWVudC5uYW1lJiZZcihlLG4sdC5ub2RlSW5kZXgrMSx0Lm5vZGVJbmRleCt0LmNoaWxkQ291bnQscixvLGkpfX1mdW5jdGlvbiBYcihlLHQsbixyLG8saSl7dmFyIHM9ZS5yZW5kZXJlcjtzd2l0Y2gobil7Y2FzZSAxOnMuYXBwZW5kQ2hpbGQocix0KTticmVhaztjYXNlIDI6cy5pbnNlcnRCZWZvcmUocix0LG8pO2JyZWFrO2Nhc2UgMzpzLnJlbW92ZUNoaWxkKHIsdCk7YnJlYWs7Y2FzZSAwOmkucHVzaCh0KX19dmFyIGVvPS9eOihbXjpdKyk6KC4rKSQvO2Z1bmN0aW9uIHRvKGUpe2lmKCI6Ij09PWVbMF0pe3ZhciB0PWUubWF0Y2goZW8pO3JldHVyblt0WzFdLHRbMl1dfXJldHVyblsiIixlXX1mdW5jdGlvbiBubyhlKXtmb3IodmFyIHQ9MCxuPTA7bjxlLmxlbmd0aDtuKyspdHw9ZVtuXS5mbGFncztyZXR1cm4gdH1mdW5jdGlvbiBybyhlLHQsbixyLG8saSxzLGEsYyxsLGQsZil7dm9pZCAwPT09cyYmKHM9W10pLGx8fChsPWtyKTt2YXIgcD1acihuKSxoPXAubWF0Y2hlZFF1ZXJpZXMsdj1wLnJlZmVyZW5jZXMseT1wLm1hdGNoZWRRdWVyeUlkcyxnPW51bGwsbT1udWxsO2kmJihnPShSPXUodG8oaSksMikpWzBdLG09UlsxXSksYT1hfHxbXTtmb3IodmFyIGI9bmV3IEFycmF5KGEubGVuZ3RoKSxfPTA7XzxhLmxlbmd0aDtfKyspe3ZhciB3PXUoYVtfXSwzKSxFPXdbMF0sQz13WzFdLHg9d1syXSxUPXUodG8oQyksMiksaz1UWzBdLEk9VFsxXSxTPXZvaWQgMCxOPXZvaWQgMDtzd2l0Y2goMTUmRSl7Y2FzZSA0Ok49eDticmVhaztjYXNlIDE6Y2FzZSA4OlM9eH1iW19dPXtmbGFnczpFLG5zOmssbmFtZTpJLG5vbk1pbmlmaWVkTmFtZTpJLHNlY3VyaXR5Q29udGV4dDpTLHN1ZmZpeDpOfX1jPWN8fFtdO3ZhciBBPW5ldyBBcnJheShjLmxlbmd0aCk7Zm9yKF89MDtfPGMubGVuZ3RoO18rKyl7dmFyIEQ9dShjW19dLDIpLE89RFswXSxQPURbMV07QVtfXT17dHlwZTowLHRhcmdldDpPLGV2ZW50TmFtZTpQLHByb3BOYW1lOm51bGx9fXZhciBSLE09KHM9c3x8W10pLm1hcChmdW5jdGlvbihlKXt2YXIgdD11KGUsMiksbj10WzBdLHI9dFsxXSxvPXUodG8obiksMik7cmV0dXJuW29bMF0sb1sxXSxyXX0pO3JldHVybiBmPWZ1bmN0aW9uKGUpe2lmKGUmJmUuaWQ9PT1Ocil7dmFyIHQ9bnVsbCE9ZS5lbmNhcHN1bGF0aW9uJiZlLmVuY2Fwc3VsYXRpb24hPT1LZS5Ob25lfHxlLnN0eWxlcy5sZW5ndGh8fE9iamVjdC5rZXlzKGUuZGF0YSkubGVuZ3RoO2UuaWQ9dD8iYyIrRHIrKzpBcn1yZXR1cm4gZSYmZS5pZD09PUFyJiYoZT1udWxsKSxlfHxudWxsfShmKSxkJiYodHw9MzM1NTQ0MzIpLHtub2RlSW5kZXg6LTEscGFyZW50Om51bGwscmVuZGVyUGFyZW50Om51bGwsYmluZGluZ0luZGV4Oi0xLG91dHB1dEluZGV4Oi0xLGNoZWNrSW5kZXg6ZSxmbGFnczp0fD0xLGNoaWxkRmxhZ3M6MCxkaXJlY3RDaGlsZEZsYWdzOjAsY2hpbGRNYXRjaGVkUXVlcmllczowLG1hdGNoZWRRdWVyaWVzOmgsbWF0Y2hlZFF1ZXJ5SWRzOnkscmVmZXJlbmNlczp2LG5nQ29udGVudEluZGV4OnIsY2hpbGRDb3VudDpvLGJpbmRpbmdzOmIsYmluZGluZ0ZsYWdzOm5vKGIpLG91dHB1dHM6QSxlbGVtZW50OntuczpnLG5hbWU6bSxhdHRyczpNLHRlbXBsYXRlOm51bGwsY29tcG9uZW50UHJvdmlkZXI6bnVsbCxjb21wb25lbnRWaWV3OmR8fG51bGwsY29tcG9uZW50UmVuZGVyZXJUeXBlOmYscHVibGljUHJvdmlkZXJzOm51bGwsYWxsUHJvdmlkZXJzOm51bGwsaGFuZGxlRXZlbnQ6bHx8a3J9LHByb3ZpZGVyOm51bGwsdGV4dDpudWxsLHF1ZXJ5Om51bGwsbmdDb250ZW50Om51bGx9fWZ1bmN0aW9uIG9vKGUsdCxuKXt2YXIgcixvPW4uZWxlbWVudCxpPWUucm9vdC5zZWxlY3Rvck9yTm9kZSxzPWUucmVuZGVyZXI7aWYoZS5wYXJlbnR8fCFpKXtyPW8ubmFtZT9zLmNyZWF0ZUVsZW1lbnQoby5uYW1lLG8ubnMpOnMuY3JlYXRlQ29tbWVudCgiIik7dmFyIGE9UXIoZSx0LG4pO2EmJnMuYXBwZW5kQ2hpbGQoYSxyKX1lbHNlIHI9cy5zZWxlY3RSb290RWxlbWVudChpKTtpZihvLmF0dHJzKWZvcih2YXIgYz0wO2M8by5hdHRycy5sZW5ndGg7YysrKXt2YXIgbD11KG8uYXR0cnNbY10sMyksZD1sWzBdLGY9bFsxXSxwPWxbMl07cy5zZXRBdHRyaWJ1dGUocixmLHAsZCl9cmV0dXJuIHJ9ZnVuY3Rpb24gaW8oZSx0LG4scil7Zm9yKHZhciBvPTA7bzxuLm91dHB1dHMubGVuZ3RoO28rKyl7dmFyIGk9bi5vdXRwdXRzW29dLHM9c28oZSxuLm5vZGVJbmRleCxCcihpLnRhcmdldCxpLmV2ZW50TmFtZSkpLHU9aS50YXJnZXQsYT1lOyJjb21wb25lbnQiPT09aS50YXJnZXQmJih1PW51bGwsYT10KTt2YXIgYz1hLnJlbmRlcmVyLmxpc3Rlbih1fHxyLGkuZXZlbnROYW1lLHMpO2UuZGlzcG9zYWJsZXNbbi5vdXRwdXRJbmRleCtvXT1jfX1mdW5jdGlvbiBzbyhlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBqcihlLHQsbixyKX19ZnVuY3Rpb24gdW8oZSx0LG4scil7aWYoIVByKGUsdCxuLHIpKXJldHVybiExO3ZhciBvPXQuYmluZGluZ3Nbbl0saT1tcihlLHQubm9kZUluZGV4KSxzPWkucmVuZGVyRWxlbWVudCx1PW8ubmFtZTtzd2l0Y2goMTUmby5mbGFncyl7Y2FzZSAxOiFmdW5jdGlvbihlLHQsbixyLG8saSl7dmFyIHM9dC5zZWN1cml0eUNvbnRleHQsdT1zP2Uucm9vdC5zYW5pdGl6ZXIuc2FuaXRpemUocyxpKTppO3U9bnVsbCE9dT91LnRvU3RyaW5nKCk6bnVsbDt2YXIgYT1lLnJlbmRlcmVyO251bGwhPWk/YS5zZXRBdHRyaWJ1dGUobixvLHUscik6YS5yZW1vdmVBdHRyaWJ1dGUobixvLHIpfShlLG8scyxvLm5zLHUscik7YnJlYWs7Y2FzZSAyOiFmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1lLnJlbmRlcmVyO3I/by5hZGRDbGFzcyh0LG4pOm8ucmVtb3ZlQ2xhc3ModCxuKX0oZSxzLHUscik7YnJlYWs7Y2FzZSA0OiFmdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPWUucm9vdC5zYW5pdGl6ZXIuc2FuaXRpemUocHIuU1RZTEUsbyk7aWYobnVsbCE9aSl7aT1pLnRvU3RyaW5nKCk7dmFyIHM9dC5zdWZmaXg7bnVsbCE9cyYmKGkrPXMpfWVsc2UgaT1udWxsO3ZhciB1PWUucmVuZGVyZXI7bnVsbCE9aT91LnNldFN0eWxlKG4scixpKTp1LnJlbW92ZVN0eWxlKG4scil9KGUsbyxzLHUscik7YnJlYWs7Y2FzZSA4OiFmdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPXQuc2VjdXJpdHlDb250ZXh0LHM9aT9lLnJvb3Quc2FuaXRpemVyLnNhbml0aXplKGksbyk6bztlLnJlbmRlcmVyLnNldFByb3BlcnR5KG4scixzKX0oMzM1NTQ0MzImdC5mbGFncyYmMzImby5mbGFncz9pLmNvbXBvbmVudFZpZXc6ZSxvLHMsdSxyKX1yZXR1cm4hMH12YXIgYW89bmV3IE9iamVjdCxjbz1TcihEZSksbG89U3IoTmUpLGZvPVNyKEl0KTtmdW5jdGlvbiBwbyhlLHQsbixyKXtyZXR1cm4gbj1FZShuKSx7aW5kZXg6LTEsZGVwczpxcihyLF9lKHQpKSxmbGFnczplLHRva2VuOnQsdmFsdWU6bn19ZnVuY3Rpb24gaG8oZSx0LG4pe3ZvaWQgMD09PW4mJihuPURlLlRIUk9XX0lGX05PVF9GT1VORCk7dmFyIHI9V2UoZSk7dHJ5e2lmKDgmdC5mbGFncylyZXR1cm4gdC50b2tlbjtpZigyJnQuZmxhZ3MmJihuPW51bGwpLDEmdC5mbGFncylyZXR1cm4gZS5fcGFyZW50LmdldCh0LnRva2VuLG4pO3ZhciBvPXQudG9rZW5LZXk7c3dpdGNoKG8pe2Nhc2UgY286Y2FzZSBsbzpjYXNlIGZvOnJldHVybiBlfXZhciBpPWUuX2RlZi5wcm92aWRlcnNCeUtleVtvXTtpZihpKXt2YXIgcz1lLl9wcm92aWRlcnNbaS5pbmRleF07cmV0dXJuIHZvaWQgMD09PXMmJihzPWUuX3Byb3ZpZGVyc1tpLmluZGV4XT12byhlLGkpKSxzPT09YW8/dm9pZCAwOnN9aWYodC50b2tlbi5uZ0luamVjdGFibGVEZWYmJmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGwhPXQucHJvdmlkZWRJbiYmKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX2RlZi5tb2R1bGVzLmluZGV4T2YodCk+LTF9KGUsdC5wcm92aWRlZEluKXx8InJvb3QiPT09dC5wcm92aWRlZEluJiZlLl9kZWYuaXNSb290KX0oZSx0LnRva2VuLm5nSW5qZWN0YWJsZURlZikpe3ZhciB1PXQudG9rZW4ubmdJbmplY3RhYmxlRGVmLGE9ZS5fcHJvdmlkZXJzLmxlbmd0aDtyZXR1cm4gZS5fZGVmLnByb3ZpZGVyc0J5S2V5W3QudG9rZW5LZXldPXtmbGFnczo1MTIwLHZhbHVlOnUuZmFjdG9yeSxkZXBzOltdLGluZGV4OmEsdG9rZW46dC50b2tlbn0sZS5fcHJvdmlkZXJzW2FdPWFvLGUuX3Byb3ZpZGVyc1thXT12byhlLGUuX2RlZi5wcm92aWRlcnNCeUtleVt0LnRva2VuS2V5XSl9cmV0dXJuIDQmdC5mbGFncz9uOmUuX3BhcmVudC5nZXQodC50b2tlbixuKX1maW5hbGx5e1dlKHIpfX1mdW5jdGlvbiB2byhlLHQpe3ZhciBuO3N3aXRjaCgyMDEzNDcwNjcmdC5mbGFncyl7Y2FzZSA1MTI6bj1mdW5jdGlvbihlLHQsbil7dmFyIHI9bi5sZW5ndGg7c3dpdGNoKHIpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChobyhlLG5bMF0pKTtjYXNlIDI6cmV0dXJuIG5ldyB0KGhvKGUsblswXSksaG8oZSxuWzFdKSk7Y2FzZSAzOnJldHVybiBuZXcgdChobyhlLG5bMF0pLGhvKGUsblsxXSksaG8oZSxuWzJdKSk7ZGVmYXVsdDpmb3IodmFyIG89bmV3IEFycmF5KHIpLGk9MDtpPHI7aSsrKW9baV09aG8oZSxuW2ldKTtyZXR1cm4gbmV3KHQuYmluZC5hcHBseSh0LGEoW3ZvaWQgMF0sbykpKX19KGUsdC52YWx1ZSx0LmRlcHMpO2JyZWFrO2Nhc2UgMTAyNDpuPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uLmxlbmd0aDtzd2l0Y2gocil7Y2FzZSAwOnJldHVybiB0KCk7Y2FzZSAxOnJldHVybiB0KGhvKGUsblswXSkpO2Nhc2UgMjpyZXR1cm4gdChobyhlLG5bMF0pLGhvKGUsblsxXSkpO2Nhc2UgMzpyZXR1cm4gdChobyhlLG5bMF0pLGhvKGUsblsxXSksaG8oZSxuWzJdKSk7ZGVmYXVsdDpmb3IodmFyIG89QXJyYXkociksaT0wO2k8cjtpKyspb1tpXT1obyhlLG5baV0pO3JldHVybiB0LmFwcGx5KHZvaWQgMCxhKG8pKX19KGUsdC52YWx1ZSx0LmRlcHMpO2JyZWFrO2Nhc2UgMjA0ODpuPWhvKGUsdC5kZXBzWzBdKTticmVhaztjYXNlIDI1NjpuPXQudmFsdWV9cmV0dXJuIG49PT1hb3x8bnVsbD09bnx8Im9iamVjdCIhPXR5cGVvZiBufHwxMzEwNzImdC5mbGFnc3x8ImZ1bmN0aW9uIiE9dHlwZW9mIG4ubmdPbkRlc3Ryb3l8fCh0LmZsYWdzfD0xMzEwNzIpLHZvaWQgMD09PW4/YW86bn1mdW5jdGlvbiB5byhlLHQpe3ZhciBuPWUudmlld0NvbnRhaW5lci5fZW1iZWRkZWRWaWV3cztpZigobnVsbD09dHx8dD49bi5sZW5ndGgpJiYodD1uLmxlbmd0aC0xKSx0PDApcmV0dXJuIG51bGw7dmFyIHI9blt0XTtyZXR1cm4gci52aWV3Q29udGFpbmVyUGFyZW50PW51bGwsX28obix0KSxFci5kaXJ0eVBhcmVudFF1ZXJpZXMociksbW8ocikscn1mdW5jdGlvbiBnbyhlLHQsbil7dmFyIHI9dD9Mcih0LHQuZGVmLmxhc3RSZW5kZXJSb290Tm9kZSk6ZS5yZW5kZXJFbGVtZW50O0dyKG4sMixuLnJlbmRlcmVyLnBhcmVudE5vZGUociksbi5yZW5kZXJlci5uZXh0U2libGluZyhyKSx2b2lkIDApfWZ1bmN0aW9uIG1vKGUpe0dyKGUsMyxudWxsLG51bGwsdm9pZCAwKX1mdW5jdGlvbiBibyhlLHQsbil7dD49ZS5sZW5ndGg/ZS5wdXNoKG4pOmUuc3BsaWNlKHQsMCxuKX1mdW5jdGlvbiBfbyhlLHQpe3Q+PWUubGVuZ3RoLTE/ZS5wb3AoKTplLnNwbGljZSh0LDEpfXZhciB3bz1uZXcgT2JqZWN0LEVvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuLHIsbyxpLHMpe3ZhciB1PWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdS5zZWxlY3Rvcj10LHUuY29tcG9uZW50VHlwZT1uLHUuX2lucHV0cz1vLHUuX291dHB1dHM9aSx1Lm5nQ29udGVudFNlbGVjdG9ycz1zLHUudmlld0RlZkZhY3Rvcnk9cix1fXJldHVybiBvKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJpbnB1dHMiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXRoaXMuX2lucHV0cztmb3IodmFyIG4gaW4gdCl7dmFyIHI9dFtuXTtlLnB1c2goe3Byb3BOYW1lOm4sdGVtcGxhdGVOYW1lOnJ9KX1yZXR1cm4gZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm91dHB1dHMiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1bXTtmb3IodmFyIHQgaW4gdGhpcy5fb3V0cHV0cyl7dmFyIG49dGhpcy5fb3V0cHV0c1t0XTtlLnB1c2goe3Byb3BOYW1lOnQsdGVtcGxhdGVOYW1lOm59KX1yZXR1cm4gZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oZSx0LG4scil7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJuZ01vZHVsZSBzaG91bGQgYmUgcHJvdmlkZWQiKTt2YXIgbz1Lcih0aGlzLnZpZXdEZWZGYWN0b3J5KSxpPW8ubm9kZXNbMF0uZWxlbWVudC5jb21wb25lbnRQcm92aWRlci5ub2RlSW5kZXgscz1Fci5jcmVhdGVSb290VmlldyhlLHR8fFtdLG4sbyxyLHdvKSx1PWJyKHMsaSkuaW5zdGFuY2U7cmV0dXJuIG4mJnMucmVuZGVyZXIuc2V0QXR0cmlidXRlKG1yKHMsMCkucmVuZGVyRWxlbWVudCwibmctdmVyc2lvbiIsR2UuZnVsbCksbmV3IENvKHMsbmV3IElvKHMpLHUpfSx0fShtdCksQ289ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4scil7dmFyIG89ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBvLl92aWV3PXQsby5fdmlld1JlZj1uLG8uX2NvbXBvbmVudD1yLG8uX2VsRGVmPW8uX3ZpZXcuZGVmLm5vZGVzWzBdLG8uaG9zdFZpZXc9bixvLmNoYW5nZURldGVjdG9yUmVmPW4sby5pbnN0YW5jZT1yLG99cmV0dXJuIG8odCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImxvY2F0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1bihtcih0aGlzLl92aWV3LHRoaXMuX2VsRGVmLm5vZGVJbmRleCkucmVuZGVyRWxlbWVudCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJpbmplY3RvciIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgRG8odGhpcy5fdmlldyx0aGlzLl9lbERlZil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJjb21wb25lbnRUeXBlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudC5jb25zdHJ1Y3Rvcn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fdmlld1JlZi5kZXN0cm95KCl9LHQucHJvdG90eXBlLm9uRGVzdHJveT1mdW5jdGlvbihlKXt0aGlzLl92aWV3UmVmLm9uRGVzdHJveShlKX0sdH0oZ3QpO2Z1bmN0aW9uIHhvKGUsdCxuKXtyZXR1cm4gbmV3IFRvKGUsdCxuKX12YXIgVG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt0aGlzLl92aWV3PWUsdGhpcy5fZWxEZWY9dCx0aGlzLl9kYXRhPW4sdGhpcy5fZW1iZWRkZWRWaWV3cz1bXX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJlbGVtZW50Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1bih0aGlzLl9kYXRhLnJlbmRlckVsZW1lbnQpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaW5qZWN0b3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERvKHRoaXMuX3ZpZXcsdGhpcy5fZWxEZWYpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicGFyZW50SW5qZWN0b3IiLHtnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5fdmlldyx0PXRoaXMuX2VsRGVmLnBhcmVudDshdCYmZTspdD1GcihlKSxlPWUucGFyZW50O3JldHVybiBlP25ldyBEbyhlLHQpOm5ldyBEbyh0aGlzLl92aWV3LG51bGwpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX2VtYmVkZGVkVmlld3MubGVuZ3RoLTE7ZT49MDtlLS0pe3ZhciB0PXlvKHRoaXMuX2RhdGEsZSk7RXIuZGVzdHJveVZpZXcodCl9fSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZW1iZWRkZWRWaWV3c1tlXTtpZih0KXt2YXIgbj1uZXcgSW8odCk7cmV0dXJuIG4uYXR0YWNoVG9WaWV3Q29udGFpbmVyUmVmKHRoaXMpLG59cmV0dXJuIG51bGx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VtYmVkZGVkVmlld3MubGVuZ3RofSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNyZWF0ZUVtYmVkZGVkVmlldz1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5jcmVhdGVFbWJlZGRlZFZpZXcodHx8e30pO3JldHVybiB0aGlzLmluc2VydChyLG4pLHJ9LGUucHJvdG90eXBlLmNyZWF0ZUNvbXBvbmVudD1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPW58fHRoaXMucGFyZW50SW5qZWN0b3I7b3x8ZSBpbnN0YW5jZW9mIGt0fHwobz1pLmdldChJdCkpO3ZhciBzPWUuY3JlYXRlKGkscix2b2lkIDAsbyk7cmV0dXJuIHRoaXMuaW5zZXJ0KHMuaG9zdFZpZXcsdCksc30sZS5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKGUsdCl7aWYoZS5kZXN0cm95ZWQpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgaW5zZXJ0IGEgZGVzdHJveWVkIFZpZXcgaW4gYSBWaWV3Q29udGFpbmVyISIpO3ZhciBuPWUscj1uLl92aWV3O3JldHVybiBmdW5jdGlvbihlLHQsbixyKXt2YXIgbz10LnZpZXdDb250YWluZXIuX2VtYmVkZGVkVmlld3M7bnVsbCE9bnx8KG49by5sZW5ndGgpLHIudmlld0NvbnRhaW5lclBhcmVudD1lLGJvKG8sbixyKSxmdW5jdGlvbihlLHQpe3ZhciBuPUhyKHQpO2lmKG4mJm4hPT1lJiYhKDE2JnQuc3RhdGUpKXt0LnN0YXRlfD0xNjt2YXIgcj1uLnRlbXBsYXRlLl9wcm9qZWN0ZWRWaWV3cztyfHwocj1uLnRlbXBsYXRlLl9wcm9qZWN0ZWRWaWV3cz1bXSksci5wdXNoKHQpLGZ1bmN0aW9uKGUsdCl7aWYoISg0JnQuZmxhZ3MpKXtlLm5vZGVGbGFnc3w9NCx0LmZsYWdzfD00O2Zvcih2YXIgbj10LnBhcmVudDtuOyluLmNoaWxkRmxhZ3N8PTQsbj1uLnBhcmVudH19KHQucGFyZW50LmRlZix0LnBhcmVudE5vZGVEZWYpfX0odCxyKSxFci5kaXJ0eVBhcmVudFF1ZXJpZXMociksZ28odCxuPjA/b1tuLTFdOm51bGwscil9KHRoaXMuX3ZpZXcsdGhpcy5fZGF0YSx0LHIpLG4uYXR0YWNoVG9WaWV3Q29udGFpbmVyUmVmKHRoaXMpLGV9LGUucHJvdG90eXBlLm1vdmU9ZnVuY3Rpb24oZSx0KXtpZihlLmRlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBtb3ZlIGEgZGVzdHJveWVkIFZpZXcgaW4gYSBWaWV3Q29udGFpbmVyISIpO3ZhciBuPXRoaXMuX2VtYmVkZGVkVmlld3MuaW5kZXhPZihlLl92aWV3KTtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUudmlld0NvbnRhaW5lci5fZW1iZWRkZWRWaWV3cyxvPXJbdF07X28ocix0KSxudWxsPT1uJiYobj1yLmxlbmd0aCksYm8ocixuLG8pLEVyLmRpcnR5UGFyZW50UXVlcmllcyhvKSxtbyhvKSxnbyhlLG4+MD9yW24tMV06bnVsbCxvKX0odGhpcy5fZGF0YSxuLHQpLGV9LGUucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2VtYmVkZGVkVmlld3MuaW5kZXhPZihlLl92aWV3KX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PXlvKHRoaXMuX2RhdGEsZSk7dCYmRXIuZGVzdHJveVZpZXcodCl9LGUucHJvdG90eXBlLmRldGFjaD1mdW5jdGlvbihlKXt2YXIgdD15byh0aGlzLl9kYXRhLGUpO3JldHVybiB0P25ldyBJbyh0KTpudWxsfSxlfSgpO2Z1bmN0aW9uIGtvKGUpe3JldHVybiBuZXcgSW8oZSl9dmFyIElvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl92aWV3PWUsdGhpcy5fdmlld0NvbnRhaW5lclJlZj1udWxsLHRoaXMuX2FwcFJlZj1udWxsfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJvb3ROb2RlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiBHcih0aGlzLl92aWV3LDAsdm9pZCAwLHZvaWQgMCxlPVtdKSxlO3ZhciBlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29udGV4dCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aWV3LmNvbnRleHR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJkZXN0cm95ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMCE9KDEyOCZ0aGlzLl92aWV3LnN0YXRlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5tYXJrRm9yQ2hlY2s9ZnVuY3Rpb24oKXtNcih0aGlzLl92aWV3KX0sZS5wcm90b3R5cGUuZGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5fdmlldy5zdGF0ZSY9LTV9LGUucHJvdG90eXBlLmRldGVjdENoYW5nZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl92aWV3LnJvb3QucmVuZGVyZXJGYWN0b3J5O2UuYmVnaW4mJmUuYmVnaW4oKTt0cnl7RXIuY2hlY2tBbmRVcGRhdGVWaWV3KHRoaXMuX3ZpZXcpfWZpbmFsbHl7ZS5lbmQmJmUuZW5kKCl9fSxlLnByb3RvdHlwZS5jaGVja05vQ2hhbmdlcz1mdW5jdGlvbigpe0VyLmNoZWNrTm9DaGFuZ2VzVmlldyh0aGlzLl92aWV3KX0sZS5wcm90b3R5cGUucmVhdHRhY2g9ZnVuY3Rpb24oKXt0aGlzLl92aWV3LnN0YXRlfD00fSxlLnByb3RvdHlwZS5vbkRlc3Ryb3k9ZnVuY3Rpb24oZSl7dGhpcy5fdmlldy5kaXNwb3NhYmxlc3x8KHRoaXMuX3ZpZXcuZGlzcG9zYWJsZXM9W10pLHRoaXMuX3ZpZXcuZGlzcG9zYWJsZXMucHVzaChlKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX2FwcFJlZj90aGlzLl9hcHBSZWYuZGV0YWNoVmlldyh0aGlzKTp0aGlzLl92aWV3Q29udGFpbmVyUmVmJiZ0aGlzLl92aWV3Q29udGFpbmVyUmVmLmRldGFjaCh0aGlzLl92aWV3Q29udGFpbmVyUmVmLmluZGV4T2YodGhpcykpLEVyLmRlc3Ryb3lWaWV3KHRoaXMuX3ZpZXcpfSxlLnByb3RvdHlwZS5kZXRhY2hGcm9tQXBwUmVmPWZ1bmN0aW9uKCl7dGhpcy5fYXBwUmVmPW51bGwsbW8odGhpcy5fdmlldyksRXIuZGlydHlQYXJlbnRRdWVyaWVzKHRoaXMuX3ZpZXcpfSxlLnByb3RvdHlwZS5hdHRhY2hUb0FwcFJlZj1mdW5jdGlvbihlKXtpZih0aGlzLl92aWV3Q29udGFpbmVyUmVmKXRocm93IG5ldyBFcnJvcigiVGhpcyB2aWV3IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBWaWV3Q29udGFpbmVyISIpO3RoaXMuX2FwcFJlZj1lfSxlLnByb3RvdHlwZS5hdHRhY2hUb1ZpZXdDb250YWluZXJSZWY9ZnVuY3Rpb24oZSl7aWYodGhpcy5fYXBwUmVmKXRocm93IG5ldyBFcnJvcigiVGhpcyB2aWV3IGlzIGFscmVhZHkgYXR0YWNoZWQgZGlyZWN0bHkgdG8gdGhlIEFwcGxpY2F0aW9uUmVmISIpO3RoaXMuX3ZpZXdDb250YWluZXJSZWY9ZX0sZX0oKTtmdW5jdGlvbiBTbyhlLHQpe3JldHVybiBuZXcgTm8oZSx0KX12YXIgTm89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5fcGFyZW50Vmlldz10LHIuX2RlZj1uLHJ9cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5jcmVhdGVFbWJlZGRlZFZpZXc9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBJbyhFci5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5fcGFyZW50Vmlldyx0aGlzLl9kZWYsdGhpcy5fZGVmLmVsZW1lbnQudGVtcGxhdGUsZSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImVsZW1lbnRSZWYiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHVuKG1yKHRoaXMuX3BhcmVudFZpZXcsdGhpcy5fZGVmLm5vZGVJbmRleCkucmVuZGVyRWxlbWVudCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdH0oY24pO2Z1bmN0aW9uIEFvKGUsdCl7cmV0dXJuIG5ldyBEbyhlLHQpfXZhciBEbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLnZpZXc9ZSx0aGlzLmVsRGVmPXR9cmV0dXJuIGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PURlLlRIUk9XX0lGX05PVF9GT1VORCk7dmFyIG49ISF0aGlzLmVsRGVmJiYwIT0oMzM1NTQ0MzImdGhpcy5lbERlZi5mbGFncyk7cmV0dXJuIEVyLnJlc29sdmVEZXAodGhpcy52aWV3LHRoaXMuZWxEZWYsbix7ZmxhZ3M6MCx0b2tlbjplLHRva2VuS2V5OlNyKGUpfSx0KX0sZX0oKTtmdW5jdGlvbiBPbyhlKXtyZXR1cm4gbmV3IFBvKGUucmVuZGVyZXIpfXZhciBQbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5kZWxlZ2F0ZT1lfXJldHVybiBlLnByb3RvdHlwZS5zZWxlY3RSb290RWxlbWVudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZS5zZWxlY3RSb290RWxlbWVudChlKX0sZS5wcm90b3R5cGUuY3JlYXRlRWxlbWVudD1mdW5jdGlvbihlLHQpe3ZhciBuPXUodG8odCksMikscj1uWzBdLG89blsxXSxpPXRoaXMuZGVsZWdhdGUuY3JlYXRlRWxlbWVudChvLHIpO3JldHVybiBlJiZ0aGlzLmRlbGVnYXRlLmFwcGVuZENoaWxkKGUsaSksaX0sZS5wcm90b3R5cGUuY3JlYXRlVmlld1Jvb3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGUucHJvdG90eXBlLmNyZWF0ZVRlbXBsYXRlQW5jaG9yPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGVsZWdhdGUuY3JlYXRlQ29tbWVudCgiIik7cmV0dXJuIGUmJnRoaXMuZGVsZWdhdGUuYXBwZW5kQ2hpbGQoZSx0KSx0fSxlLnByb3RvdHlwZS5jcmVhdGVUZXh0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5kZWxlZ2F0ZS5jcmVhdGVUZXh0KHQpO3JldHVybiBlJiZ0aGlzLmRlbGVnYXRlLmFwcGVuZENoaWxkKGUsbiksbn0sZS5wcm90b3R5cGUucHJvamVjdE5vZGVzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspdGhpcy5kZWxlZ2F0ZS5hcHBlbmRDaGlsZChlLHRbbl0pfSxlLnByb3RvdHlwZS5hdHRhY2hWaWV3QWZ0ZXI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy5kZWxlZ2F0ZS5wYXJlbnROb2RlKGUpLHI9dGhpcy5kZWxlZ2F0ZS5uZXh0U2libGluZyhlKSxvPTA7bzx0Lmxlbmd0aDtvKyspdGhpcy5kZWxlZ2F0ZS5pbnNlcnRCZWZvcmUobix0W29dLHIpfSxlLnByb3RvdHlwZS5kZXRhY2hWaWV3PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdLHI9dGhpcy5kZWxlZ2F0ZS5wYXJlbnROb2RlKG4pO3RoaXMuZGVsZWdhdGUucmVtb3ZlQ2hpbGQocixuKX19LGUucHJvdG90eXBlLmRlc3Ryb3lWaWV3PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspdGhpcy5kZWxlZ2F0ZS5kZXN0cm95Tm9kZSh0W25dKX0sZS5wcm90b3R5cGUubGlzdGVuPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZS5saXN0ZW4oZSx0LG4pfSxlLnByb3RvdHlwZS5saXN0ZW5HbG9iYWw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLmRlbGVnYXRlLmxpc3RlbihlLHQsbil9LGUucHJvdG90eXBlLnNldEVsZW1lbnRQcm9wZXJ0eT1mdW5jdGlvbihlLHQsbil7dGhpcy5kZWxlZ2F0ZS5zZXRQcm9wZXJ0eShlLHQsbil9LGUucHJvdG90eXBlLnNldEVsZW1lbnRBdHRyaWJ1dGU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXUodG8odCksMiksbz1yWzBdLGk9clsxXTtudWxsIT1uP3RoaXMuZGVsZWdhdGUuc2V0QXR0cmlidXRlKGUsaSxuLG8pOnRoaXMuZGVsZWdhdGUucmVtb3ZlQXR0cmlidXRlKGUsaSxvKX0sZS5wcm90b3R5cGUuc2V0QmluZGluZ0RlYnVnSW5mbz1mdW5jdGlvbihlLHQsbil7fSxlLnByb3RvdHlwZS5zZXRFbGVtZW50Q2xhc3M9ZnVuY3Rpb24oZSx0LG4pe24/dGhpcy5kZWxlZ2F0ZS5hZGRDbGFzcyhlLHQpOnRoaXMuZGVsZWdhdGUucmVtb3ZlQ2xhc3MoZSx0KX0sZS5wcm90b3R5cGUuc2V0RWxlbWVudFN0eWxlPWZ1bmN0aW9uKGUsdCxuKXtudWxsIT1uP3RoaXMuZGVsZWdhdGUuc2V0U3R5bGUoZSx0LG4pOnRoaXMuZGVsZWdhdGUucmVtb3ZlU3R5bGUoZSx0KX0sZS5wcm90b3R5cGUuaW52b2tlRWxlbWVudE1ldGhvZD1mdW5jdGlvbihlLHQsbil7ZVt0XS5hcHBseShlLG4pfSxlLnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKGUsdCl7dGhpcy5kZWxlZ2F0ZS5zZXRWYWx1ZShlLHQpfSxlLnByb3RvdHlwZS5hbmltYXRlPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJSZW5kZXJlci5hbmltYXRlIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQhIil9LGV9KCk7ZnVuY3Rpb24gUm8oZSx0LG4scil7cmV0dXJuIG5ldyBNbyhlLHQsbixyKX12YXIgTW89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLHIpe3RoaXMuX21vZHVsZVR5cGU9ZSx0aGlzLl9wYXJlbnQ9dCx0aGlzLl9ib290c3RyYXBDb21wb25lbnRzPW4sdGhpcy5fZGVmPXIsdGhpcy5fZGVzdHJveUxpc3RlbmVycz1bXSx0aGlzLl9kZXN0cm95ZWQ9ITEsdGhpcy5pbmplY3Rvcj10aGlzLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLl9kZWYsbj1lLl9wcm92aWRlcnM9bmV3IEFycmF5KHQucHJvdmlkZXJzLmxlbmd0aCkscj0wO3I8dC5wcm92aWRlcnMubGVuZ3RoO3IrKyl7dmFyIG89dC5wcm92aWRlcnNbcl07NDA5NiZvLmZsYWdzfHx2b2lkIDA9PT1uW3JdJiYobltyXT12byhlLG8pKX19KHRoaXMpfXJldHVybiBlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PXQmJih0PURlLlRIUk9XX0lGX05PVF9GT1VORCksdm9pZCAwPT09biYmKG49MCk7dmFyIHI9MDtyZXR1cm4gNCZuP3J8PTE6MiZuJiYocnw9NCksaG8odGhpcyx7dG9rZW46ZSx0b2tlbktleTpTcihlKSxmbGFnczpyfSx0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpbnN0YW5jZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCh0aGlzLl9tb2R1bGVUeXBlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCh4dCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2lmKHRoaXMuX2Rlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBuZyBtb2R1bGUgIitfZSh0aGlzLmluc3RhbmNlLmNvbnN0cnVjdG9yKSsiIGhhcyBhbHJlYWR5IGJlZW4gZGVzdHJveWVkLiIpO3RoaXMuX2Rlc3Ryb3llZD0hMCxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLl9kZWYscj1uZXcgU2V0LG89MDtvPG4ucHJvdmlkZXJzLmxlbmd0aDtvKyspaWYoMTMxMDcyJm4ucHJvdmlkZXJzW29dLmZsYWdzKXt2YXIgaT1lLl9wcm92aWRlcnNbb107aWYoaSYmaSE9PWFvKXt2YXIgcz1pLm5nT25EZXN0cm95OyJmdW5jdGlvbiIhPXR5cGVvZiBzfHxyLmhhcyhpKXx8KHMuYXBwbHkoaSksci5hZGQoaSkpfX19KHRoaXMpLHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSl9LGUucHJvdG90eXBlLm9uRGVzdHJveT1mdW5jdGlvbihlKXt0aGlzLl9kZXN0cm95TGlzdGVuZXJzLnB1c2goZSl9LGV9KCksVm89U3Iobm4pLGpvPVNyKHNuKSxIbz1Tcih1biksRm89U3IobG4pLExvPVNyKGNuKSxCbz1Tcihkbiksem89U3IoRGUpLFVvPVNyKE5lKTtmdW5jdGlvbiBabyhlLHQpe3JldHVybiBLbyhlLHQpfWZ1bmN0aW9uIHFvKGUsdCl7Zm9yKHZhciBuPWU7bi5wYXJlbnQmJiF6cihuKTspbj1uLnBhcmVudDtyZXR1cm4gR28obi5wYXJlbnQsRnIobiksITAsdC5wcm92aWRlci52YWx1ZSx0LnByb3ZpZGVyLmRlcHMpfWZ1bmN0aW9uIFFvKGUsdCl7dmFyIG49KDMyNzY4JnQuZmxhZ3MpPjAscj1HbyhlLHQucGFyZW50LG4sdC5wcm92aWRlci52YWx1ZSx0LnByb3ZpZGVyLmRlcHMpO2lmKHQub3V0cHV0cy5sZW5ndGgpZm9yKHZhciBvPTA7bzx0Lm91dHB1dHMubGVuZ3RoO28rKyl7dmFyIGk9dC5vdXRwdXRzW29dLHM9cltpLnByb3BOYW1lXS5zdWJzY3JpYmUoV28oZSx0LnBhcmVudC5ub2RlSW5kZXgsaS5ldmVudE5hbWUpKTtlLmRpc3Bvc2FibGVzW3Qub3V0cHV0SW5kZXgrb109cy51bnN1YnNjcmliZS5iaW5kKHMpfXJldHVybiByfWZ1bmN0aW9uIFdvKGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGpyKGUsdCxuLHIpfX1mdW5jdGlvbiBLbyhlLHQpe3ZhciBuPSg4MTkyJnQuZmxhZ3MpPjAscj10LnByb3ZpZGVyO3N3aXRjaCgyMDEzNDcwNjcmdC5mbGFncyl7Y2FzZSA1MTI6cmV0dXJuIEdvKGUsdC5wYXJlbnQsbixyLnZhbHVlLHIuZGVwcyk7Y2FzZSAxMDI0OnJldHVybiBmdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPW8ubGVuZ3RoO3N3aXRjaChpKXtjYXNlIDA6cmV0dXJuIHIoKTtjYXNlIDE6cmV0dXJuIHIoSm8oZSx0LG4sb1swXSkpO2Nhc2UgMjpyZXR1cm4gcihKbyhlLHQsbixvWzBdKSxKbyhlLHQsbixvWzFdKSk7Y2FzZSAzOnJldHVybiByKEpvKGUsdCxuLG9bMF0pLEpvKGUsdCxuLG9bMV0pLEpvKGUsdCxuLG9bMl0pKTtkZWZhdWx0OmZvcih2YXIgcz1BcnJheShpKSx1PTA7dTxpO3UrKylzW3VdPUpvKGUsdCxuLG9bdV0pO3JldHVybiByLmFwcGx5KHZvaWQgMCxhKHMpKX19KGUsdC5wYXJlbnQsbixyLnZhbHVlLHIuZGVwcyk7Y2FzZSAyMDQ4OnJldHVybiBKbyhlLHQucGFyZW50LG4sci5kZXBzWzBdKTtjYXNlIDI1NjpyZXR1cm4gci52YWx1ZX19ZnVuY3Rpb24gR28oZSx0LG4scixvKXt2YXIgaT1vLmxlbmd0aDtzd2l0Y2goaSl7Y2FzZSAwOnJldHVybiBuZXcgcjtjYXNlIDE6cmV0dXJuIG5ldyByKEpvKGUsdCxuLG9bMF0pKTtjYXNlIDI6cmV0dXJuIG5ldyByKEpvKGUsdCxuLG9bMF0pLEpvKGUsdCxuLG9bMV0pKTtjYXNlIDM6cmV0dXJuIG5ldyByKEpvKGUsdCxuLG9bMF0pLEpvKGUsdCxuLG9bMV0pLEpvKGUsdCxuLG9bMl0pKTtkZWZhdWx0OmZvcih2YXIgcz1uZXcgQXJyYXkoaSksdT0wO3U8aTt1Kyspc1t1XT1KbyhlLHQsbixvW3VdKTtyZXR1cm4gbmV3KHIuYmluZC5hcHBseShyLGEoW3ZvaWQgMF0scykpKX19dmFyIFlvPXt9O2Z1bmN0aW9uIEpvKGUsdCxuLHIsbyl7aWYodm9pZCAwPT09byYmKG89RGUuVEhST1dfSUZfTk9UX0ZPVU5EKSw4JnIuZmxhZ3MpcmV0dXJuIHIudG9rZW47dmFyIGk9ZTsyJnIuZmxhZ3MmJihvPW51bGwpO3ZhciBzPXIudG9rZW5LZXk7cz09PUJvJiYobj0hKCF0fHwhdC5lbGVtZW50LmNvbXBvbmVudFZpZXcpKSx0JiYxJnIuZmxhZ3MmJihuPSExLHQ9dC5wYXJlbnQpO2Zvcih2YXIgdT1lO3U7KXtpZih0KXN3aXRjaChzKXtjYXNlIFZvOnJldHVybiBPbygkbyh1LHQsbikpO2Nhc2Ugam86cmV0dXJuICRvKHUsdCxuKS5yZW5kZXJlcjtjYXNlIEhvOnJldHVybiBuZXcgdW4obXIodSx0Lm5vZGVJbmRleCkucmVuZGVyRWxlbWVudCk7Y2FzZSBGbzpyZXR1cm4gbXIodSx0Lm5vZGVJbmRleCkudmlld0NvbnRhaW5lcjtjYXNlIExvOmlmKHQuZWxlbWVudC50ZW1wbGF0ZSlyZXR1cm4gbXIodSx0Lm5vZGVJbmRleCkudGVtcGxhdGU7YnJlYWs7Y2FzZSBCbzpyZXR1cm4ga28oJG8odSx0LG4pKTtjYXNlIHpvOmNhc2UgVW86cmV0dXJuIEFvKHUsdCk7ZGVmYXVsdDp2YXIgYT0obj90LmVsZW1lbnQuYWxsUHJvdmlkZXJzOnQuZWxlbWVudC5wdWJsaWNQcm92aWRlcnMpW3NdO2lmKGEpe3ZhciBjPWJyKHUsYS5ub2RlSW5kZXgpO3JldHVybiBjfHwoYz17aW5zdGFuY2U6S28odSxhKX0sdS5ub2Rlc1thLm5vZGVJbmRleF09YyksYy5pbnN0YW5jZX19bj16cih1KSx0PUZyKHUpLHU9dS5wYXJlbnQsNCZyLmZsYWdzJiYodT1udWxsKX12YXIgbD1pLnJvb3QuaW5qZWN0b3IuZ2V0KHIudG9rZW4sWW8pO3JldHVybiBsIT09WW98fG89PT1Zbz9sOmkucm9vdC5uZ01vZHVsZS5pbmplY3Rvci5nZXQoci50b2tlbixvKX1mdW5jdGlvbiAkbyhlLHQsbil7dmFyIHI7aWYobilyPW1yKGUsdC5ub2RlSW5kZXgpLmNvbXBvbmVudFZpZXc7ZWxzZSBmb3Iocj1lO3IucGFyZW50JiYhenIocik7KXI9ci5wYXJlbnQ7cmV0dXJuIHJ9ZnVuY3Rpb24gWG8oZSx0LG4scixvLGkpe2lmKDMyNzY4Jm4uZmxhZ3Mpe3ZhciBzPW1yKGUsbi5wYXJlbnQubm9kZUluZGV4KS5jb21wb25lbnRWaWV3OzImcy5kZWYuZmxhZ3MmJihzLnN0YXRlfD04KX12YXIgdT1uLmJpbmRpbmdzW3JdLm5hbWU7aWYodC5pbnN0YW5jZVt1XT1vLDUyNDI4OCZuLmZsYWdzKXtpPWl8fHt9O3ZhciBhPWJuLnVud3JhcChlLm9sZFZhbHVlc1tuLmJpbmRpbmdJbmRleCtyXSk7aVtuLmJpbmRpbmdzW3JdLm5vbk1pbmlmaWVkTmFtZV09bmV3IF9uKGEsbywwIT0oMiZlLnN0YXRlKSl9cmV0dXJuIGUub2xkVmFsdWVzW24uYmluZGluZ0luZGV4K3JdPW8saX1mdW5jdGlvbiBlaShlLHQpe2lmKGUuZGVmLm5vZGVGbGFncyZ0KWZvcih2YXIgbj1lLmRlZi5ub2RlcyxyPTAsbz0wO288bi5sZW5ndGg7bysrKXt2YXIgaT1uW29dLHM9aS5wYXJlbnQ7Zm9yKCFzJiZpLmZsYWdzJnQmJm5pKGUsbyxpLmZsYWdzJnQscisrKSwwPT0oaS5jaGlsZEZsYWdzJnQpJiYobys9aS5jaGlsZENvdW50KTtzJiYxJnMuZmxhZ3MmJm89PT1zLm5vZGVJbmRleCtzLmNoaWxkQ291bnQ7KXMuZGlyZWN0Q2hpbGRGbGFncyZ0JiYocj10aShlLHMsdCxyKSkscz1zLnBhcmVudH19ZnVuY3Rpb24gdGkoZSx0LG4scil7Zm9yKHZhciBvPXQubm9kZUluZGV4KzE7bzw9dC5ub2RlSW5kZXgrdC5jaGlsZENvdW50O28rKyl7dmFyIGk9ZS5kZWYubm9kZXNbb107aS5mbGFncyZuJiZuaShlLG8saS5mbGFncyZuLHIrKyksbys9aS5jaGlsZENvdW50fXJldHVybiByfWZ1bmN0aW9uIG5pKGUsdCxuLHIpe3ZhciBvPWJyKGUsdCk7aWYobyl7dmFyIGk9by5pbnN0YW5jZTtpJiYoRXIuc2V0Q3VycmVudE5vZGUoZSx0KSwxMDQ4NTc2Jm4mJnlyKGUsNTEyLHIpJiZpLm5nQWZ0ZXJDb250ZW50SW5pdCgpLDIwOTcxNTImbiYmaS5uZ0FmdGVyQ29udGVudENoZWNrZWQoKSw0MTk0MzA0Jm4mJnlyKGUsNzY4LHIpJiZpLm5nQWZ0ZXJWaWV3SW5pdCgpLDgzODg2MDgmbiYmaS5uZ0FmdGVyVmlld0NoZWNrZWQoKSwxMzEwNzImbiYmaS5uZ09uRGVzdHJveSgpKX19ZnVuY3Rpb24gcmkoZSl7Zm9yKHZhciB0PWUuZGVmLm5vZGVNYXRjaGVkUXVlcmllcztlLnBhcmVudCYmVXIoZSk7KXt2YXIgbj1lLnBhcmVudE5vZGVEZWY7ZT1lLnBhcmVudDtmb3IodmFyIHI9bi5ub2RlSW5kZXgrbi5jaGlsZENvdW50LG89MDtvPD1yO28rKyk2NzEwODg2NCYoaT1lLmRlZi5ub2Rlc1tvXSkuZmxhZ3MmJjUzNjg3MDkxMiZpLmZsYWdzJiYoaS5xdWVyeS5maWx0ZXJJZCZ0KT09PWkucXVlcnkuZmlsdGVySWQmJndyKGUsbykuc2V0RGlydHkoKSwhKDEmaS5mbGFncyYmbytpLmNoaWxkQ291bnQ8bi5ub2RlSW5kZXgpJiY2NzEwODg2NCZpLmNoaWxkRmxhZ3MmJjUzNjg3MDkxMiZpLmNoaWxkRmxhZ3N8fChvKz1pLmNoaWxkQ291bnQpfWlmKDEzNDIxNzcyOCZlLmRlZi5ub2RlRmxhZ3MpZm9yKG89MDtvPGUuZGVmLm5vZGVzLmxlbmd0aDtvKyspe3ZhciBpOzEzNDIxNzcyOCYoaT1lLmRlZi5ub2Rlc1tvXSkuZmxhZ3MmJjUzNjg3MDkxMiZpLmZsYWdzJiZ3cihlLG8pLnNldERpcnR5KCksbys9aS5jaGlsZENvdW50fX1mdW5jdGlvbiBvaShlLHQpe3ZhciBuPXdyKGUsdC5ub2RlSW5kZXgpO2lmKG4uZGlydHkpe3ZhciByLG89dm9pZCAwO2lmKDY3MTA4ODY0JnQuZmxhZ3Mpe3ZhciBpPXQucGFyZW50LnBhcmVudDtvPWlpKGUsaS5ub2RlSW5kZXgsaS5ub2RlSW5kZXgraS5jaGlsZENvdW50LHQucXVlcnksW10pLHI9YnIoZSx0LnBhcmVudC5ub2RlSW5kZXgpLmluc3RhbmNlfWVsc2UgMTM0MjE3NzI4JnQuZmxhZ3MmJihvPWlpKGUsMCxlLmRlZi5ub2Rlcy5sZW5ndGgtMSx0LnF1ZXJ5LFtdKSxyPWUuY29tcG9uZW50KTtuLnJlc2V0KG8pO2Zvcih2YXIgcz10LnF1ZXJ5LmJpbmRpbmdzLHU9ITEsYT0wO2E8cy5sZW5ndGg7YSsrKXt2YXIgYz1zW2FdLGw9dm9pZCAwO3N3aXRjaChjLmJpbmRpbmdUeXBlKXtjYXNlIDA6bD1uLmZpcnN0O2JyZWFrO2Nhc2UgMTpsPW4sdT0hMH1yW2MucHJvcE5hbWVdPWx9dSYmbi5ub3RpZnlPbkNoYW5nZXMoKX19ZnVuY3Rpb24gaWkoZSx0LG4scixvKXtmb3IodmFyIGk9dDtpPD1uO2krKyl7dmFyIHM9ZS5kZWYubm9kZXNbaV0sdT1zLm1hdGNoZWRRdWVyaWVzW3IuaWRdO2lmKG51bGwhPXUmJm8ucHVzaChzaShlLHMsdSkpLDEmcy5mbGFncyYmcy5lbGVtZW50LnRlbXBsYXRlJiYocy5lbGVtZW50LnRlbXBsYXRlLm5vZGVNYXRjaGVkUXVlcmllcyZyLmZpbHRlcklkKT09PXIuZmlsdGVySWQpe3ZhciBhPW1yKGUsaSk7aWYoKHMuY2hpbGRNYXRjaGVkUXVlcmllcyZyLmZpbHRlcklkKT09PXIuZmlsdGVySWQmJihpaShlLGkrMSxpK3MuY2hpbGRDb3VudCxyLG8pLGkrPXMuY2hpbGRDb3VudCksMTY3NzcyMTYmcy5mbGFncylmb3IodmFyIGM9YS52aWV3Q29udGFpbmVyLl9lbWJlZGRlZFZpZXdzLGw9MDtsPGMubGVuZ3RoO2wrKyl7dmFyIGQ9Y1tsXSxmPUhyKGQpO2YmJmY9PT1hJiZpaShkLDAsZC5kZWYubm9kZXMubGVuZ3RoLTEscixvKX12YXIgcD1hLnRlbXBsYXRlLl9wcm9qZWN0ZWRWaWV3cztpZihwKWZvcihsPTA7bDxwLmxlbmd0aDtsKyspe3ZhciBoPXBbbF07aWkoaCwwLGguZGVmLm5vZGVzLmxlbmd0aC0xLHIsbyl9fShzLmNoaWxkTWF0Y2hlZFF1ZXJpZXMmci5maWx0ZXJJZCkhPT1yLmZpbHRlcklkJiYoaSs9cy5jaGlsZENvdW50KX1yZXR1cm4gb31mdW5jdGlvbiBzaShlLHQsbil7aWYobnVsbCE9bilzd2l0Y2gobil7Y2FzZSAxOnJldHVybiBtcihlLHQubm9kZUluZGV4KS5yZW5kZXJFbGVtZW50O2Nhc2UgMDpyZXR1cm4gbmV3IHVuKG1yKGUsdC5ub2RlSW5kZXgpLnJlbmRlckVsZW1lbnQpO2Nhc2UgMjpyZXR1cm4gbXIoZSx0Lm5vZGVJbmRleCkudGVtcGxhdGU7Y2FzZSAzOnJldHVybiBtcihlLHQubm9kZUluZGV4KS52aWV3Q29udGFpbmVyO2Nhc2UgNDpyZXR1cm4gYnIoZSx0Lm5vZGVJbmRleCkuaW5zdGFuY2V9fWZ1bmN0aW9uIHVpKGUsdCxuKXt2YXIgcj1RcihlLHQsbik7ciYmSnIoZSxuLm5nQ29udGVudC5pbmRleCwxLHIsbnVsbCx2b2lkIDApfWZ1bmN0aW9uIGFpKGUsdCxuKXtmb3IodmFyIHI9bmV3IEFycmF5KG4ubGVuZ3RoLTEpLG89MTtvPG4ubGVuZ3RoO28rKylyW28tMV09e2ZsYWdzOjgsbmFtZTpudWxsLG5zOm51bGwsbm9uTWluaWZpZWROYW1lOm51bGwsc2VjdXJpdHlDb250ZXh0Om51bGwsc3VmZml4Om5bb119O3JldHVybntub2RlSW5kZXg6LTEscGFyZW50Om51bGwscmVuZGVyUGFyZW50Om51bGwsYmluZGluZ0luZGV4Oi0xLG91dHB1dEluZGV4Oi0xLGNoZWNrSW5kZXg6ZSxmbGFnczoyLGNoaWxkRmxhZ3M6MCxkaXJlY3RDaGlsZEZsYWdzOjAsY2hpbGRNYXRjaGVkUXVlcmllczowLG1hdGNoZWRRdWVyaWVzOnt9LG1hdGNoZWRRdWVyeUlkczowLHJlZmVyZW5jZXM6e30sbmdDb250ZW50SW5kZXg6dCxjaGlsZENvdW50OjAsYmluZGluZ3M6cixiaW5kaW5nRmxhZ3M6OCxvdXRwdXRzOltdLGVsZW1lbnQ6bnVsbCxwcm92aWRlcjpudWxsLHRleHQ6e3ByZWZpeDpuWzBdfSxxdWVyeTpudWxsLG5nQ29udGVudDpudWxsfX1mdW5jdGlvbiBjaShlLHQsbil7dmFyIHIsbz1lLnJlbmRlcmVyO3I9by5jcmVhdGVUZXh0KG4udGV4dC5wcmVmaXgpO3ZhciBpPVFyKGUsdCxuKTtyZXR1cm4gaSYmby5hcHBlbmRDaGlsZChpLHIpLHtyZW5kZXJUZXh0OnJ9fWZ1bmN0aW9uIGxpKGUsdCl7cmV0dXJuKG51bGwhPWU/ZS50b1N0cmluZygpOiIiKSt0LnN1ZmZpeH1mdW5jdGlvbiBkaShlLHQsbixyKXtmb3IodmFyIG89MCxpPTAscz0wLHU9MCxhPTAsYz1udWxsLGw9bnVsbCxkPSExLGY9ITEscD1udWxsLGg9MDtoPHQubGVuZ3RoO2grKyl7dmFyIHY9dFtoXTtpZih2Lm5vZGVJbmRleD1oLHYucGFyZW50PWMsdi5iaW5kaW5nSW5kZXg9byx2Lm91dHB1dEluZGV4PWksdi5yZW5kZXJQYXJlbnQ9bCxzfD12LmZsYWdzLGF8PXYubWF0Y2hlZFF1ZXJ5SWRzLHYuZWxlbWVudCl7dmFyIHk9di5lbGVtZW50O3kucHVibGljUHJvdmlkZXJzPWM/Yy5lbGVtZW50LnB1YmxpY1Byb3ZpZGVyczpPYmplY3QuY3JlYXRlKG51bGwpLHkuYWxsUHJvdmlkZXJzPXkucHVibGljUHJvdmlkZXJzLGQ9ITEsZj0hMSx2LmVsZW1lbnQudGVtcGxhdGUmJihhfD12LmVsZW1lbnQudGVtcGxhdGUubm9kZU1hdGNoZWRRdWVyaWVzKX1pZihwaShjLHYsdC5sZW5ndGgpLG8rPXYuYmluZGluZ3MubGVuZ3RoLGkrPXYub3V0cHV0cy5sZW5ndGgsIWwmJjMmdi5mbGFncyYmKHA9diksMjAyMjQmdi5mbGFncyl7ZHx8KGQ9ITAsYy5lbGVtZW50LnB1YmxpY1Byb3ZpZGVycz1PYmplY3QuY3JlYXRlKGMuZWxlbWVudC5wdWJsaWNQcm92aWRlcnMpLGMuZWxlbWVudC5hbGxQcm92aWRlcnM9Yy5lbGVtZW50LnB1YmxpY1Byb3ZpZGVycyk7dmFyIGc9MCE9KDgxOTImdi5mbGFncyksbT0wIT0oMzI3Njgmdi5mbGFncyk7IWd8fG0/Yy5lbGVtZW50LnB1YmxpY1Byb3ZpZGVyc1tTcih2LnByb3ZpZGVyLnRva2VuKV09djooZnx8KGY9ITAsYy5lbGVtZW50LmFsbFByb3ZpZGVycz1PYmplY3QuY3JlYXRlKGMuZWxlbWVudC5wdWJsaWNQcm92aWRlcnMpKSxjLmVsZW1lbnQuYWxsUHJvdmlkZXJzW1NyKHYucHJvdmlkZXIudG9rZW4pXT12KSxtJiYoYy5lbGVtZW50LmNvbXBvbmVudFByb3ZpZGVyPXYpfWlmKGM/KGMuY2hpbGRGbGFnc3w9di5mbGFncyxjLmRpcmVjdENoaWxkRmxhZ3N8PXYuZmxhZ3MsYy5jaGlsZE1hdGNoZWRRdWVyaWVzfD12Lm1hdGNoZWRRdWVyeUlkcyx2LmVsZW1lbnQmJnYuZWxlbWVudC50ZW1wbGF0ZSYmKGMuY2hpbGRNYXRjaGVkUXVlcmllc3w9di5lbGVtZW50LnRlbXBsYXRlLm5vZGVNYXRjaGVkUXVlcmllcykpOnV8PXYuZmxhZ3Msdi5jaGlsZENvdW50PjApYz12LGZpKHYpfHwobD12KTtlbHNlIGZvcig7YyYmaD09PWMubm9kZUluZGV4K2MuY2hpbGRDb3VudDspe3ZhciBiPWMucGFyZW50O2ImJihiLmNoaWxkRmxhZ3N8PWMuY2hpbGRGbGFncyxiLmNoaWxkTWF0Y2hlZFF1ZXJpZXN8PWMuY2hpbGRNYXRjaGVkUXVlcmllcyksbD0oYz1iKSYmZmkoYyk/Yy5yZW5kZXJQYXJlbnQ6Y319cmV0dXJue2ZhY3Rvcnk6bnVsbCxub2RlRmxhZ3M6cyxyb290Tm9kZUZsYWdzOnUsbm9kZU1hdGNoZWRRdWVyaWVzOmEsZmxhZ3M6ZSxub2Rlczp0LHVwZGF0ZURpcmVjdGl2ZXM6bnx8a3IsdXBkYXRlUmVuZGVyZXI6cnx8a3IsaGFuZGxlRXZlbnQ6ZnVuY3Rpb24oZSxuLHIsbyl7cmV0dXJuIHRbbl0uZWxlbWVudC5oYW5kbGVFdmVudChlLHIsbyl9LGJpbmRpbmdDb3VudDpvLG91dHB1dENvdW50OmksbGFzdFJlbmRlclJvb3ROb2RlOnB9fWZ1bmN0aW9uIGZpKGUpe3JldHVybiAwIT0oMSZlLmZsYWdzKSYmbnVsbD09PWUuZWxlbWVudC5uYW1lfWZ1bmN0aW9uIHBpKGUsdCxuKXt2YXIgcj10LmVsZW1lbnQmJnQuZWxlbWVudC50ZW1wbGF0ZTtpZihyKXtpZighci5sYXN0UmVuZGVyUm9vdE5vZGUpdGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIFN0YXRlOiBFbWJlZGRlZCB0ZW1wbGF0ZXMgd2l0aG91dCBub2RlcyBhcmUgbm90IGFsbG93ZWQhIik7aWYoci5sYXN0UmVuZGVyUm9vdE5vZGUmJjE2Nzc3MjE2JnIubGFzdFJlbmRlclJvb3ROb2RlLmZsYWdzKXRocm93IG5ldyBFcnJvcigiSWxsZWdhbCBTdGF0ZTogTGFzdCByb290IG5vZGUgb2YgYSB0ZW1wbGF0ZSBjYW4ndCBoYXZlIGVtYmVkZGVkIHZpZXdzLCBhdCBpbmRleCAiK3Qubm9kZUluZGV4KyIhIil9aWYoMjAyMjQmdC5mbGFncyYmMD09KDEmKGU/ZS5mbGFnczowKSkpdGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIFN0YXRlOiBTdGF0aWNQcm92aWRlci9EaXJlY3RpdmUgbm9kZXMgbmVlZCB0byBiZSBjaGlsZHJlbiBvZiBlbGVtZW50cyBvciBhbmNob3JzLCBhdCBpbmRleCAiK3Qubm9kZUluZGV4KyIhIik7aWYodC5xdWVyeSl7aWYoNjcxMDg4NjQmdC5mbGFncyYmKCFlfHwwPT0oMTYzODQmZS5mbGFncykpKXRocm93IG5ldyBFcnJvcigiSWxsZWdhbCBTdGF0ZTogQ29udGVudCBRdWVyeSBub2RlcyBuZWVkIHRvIGJlIGNoaWxkcmVuIG9mIGRpcmVjdGl2ZXMsIGF0IGluZGV4ICIrdC5ub2RlSW5kZXgrIiEiKTtpZigxMzQyMTc3MjgmdC5mbGFncyYmZSl0aHJvdyBuZXcgRXJyb3IoIklsbGVnYWwgU3RhdGU6IFZpZXcgUXVlcnkgbm9kZXMgaGF2ZSB0byBiZSB0b3AgbGV2ZWwgbm9kZXMsIGF0IGluZGV4ICIrdC5ub2RlSW5kZXgrIiEiKX1pZih0LmNoaWxkQ291bnQpe3ZhciBvPWU/ZS5ub2RlSW5kZXgrZS5jaGlsZENvdW50Om4tMTtpZih0Lm5vZGVJbmRleDw9byYmdC5ub2RlSW5kZXgrdC5jaGlsZENvdW50Pm8pdGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIFN0YXRlOiBjaGlsZENvdW50IG9mIG5vZGUgbGVhZHMgb3V0c2lkZSBvZiBwYXJlbnQsIGF0IGluZGV4ICIrdC5ub2RlSW5kZXgrIiEiKX19ZnVuY3Rpb24gaGkoZSx0LG4scil7dmFyIG89Z2koZS5yb290LGUucmVuZGVyZXIsZSx0LG4pO3JldHVybiBtaShvLGUuY29tcG9uZW50LHIpLGJpKG8pLG99ZnVuY3Rpb24gdmkoZSx0LG4pe3ZhciByPWdpKGUsZS5yZW5kZXJlcixudWxsLG51bGwsdCk7cmV0dXJuIG1pKHIsbixuKSxiaShyKSxyfWZ1bmN0aW9uIHlpKGUsdCxuLHIpe3ZhciBvLGk9dC5lbGVtZW50LmNvbXBvbmVudFJlbmRlcmVyVHlwZTtyZXR1cm4gbz1pP2Uucm9vdC5yZW5kZXJlckZhY3RvcnkuY3JlYXRlUmVuZGVyZXIocixpKTplLnJvb3QucmVuZGVyZXIsZ2koZS5yb290LG8sZSx0LmVsZW1lbnQuY29tcG9uZW50UHJvdmlkZXIsbil9ZnVuY3Rpb24gZ2koZSx0LG4scixvKXt2YXIgaT1uZXcgQXJyYXkoby5ub2Rlcy5sZW5ndGgpLHM9by5vdXRwdXRDb3VudD9uZXcgQXJyYXkoby5vdXRwdXRDb3VudCk6bnVsbDtyZXR1cm57ZGVmOm8scGFyZW50Om4sdmlld0NvbnRhaW5lclBhcmVudDpudWxsLHBhcmVudE5vZGVEZWY6cixjb250ZXh0Om51bGwsY29tcG9uZW50Om51bGwsbm9kZXM6aSxzdGF0ZToxMyxyb290OmUscmVuZGVyZXI6dCxvbGRWYWx1ZXM6bmV3IEFycmF5KG8uYmluZGluZ0NvdW50KSxkaXNwb3NhYmxlczpzLGluaXRJbmRleDotMX19ZnVuY3Rpb24gbWkoZSx0LG4pe2UuY29tcG9uZW50PXQsZS5jb250ZXh0PW59ZnVuY3Rpb24gYmkoZSl7dmFyIHQ7aWYoenIoZSkpe3ZhciBuPWUucGFyZW50Tm9kZURlZjt0PW1yKGUucGFyZW50LG4ucGFyZW50Lm5vZGVJbmRleCkucmVuZGVyRWxlbWVudH1mb3IodmFyIHI9ZS5kZWYsbz1lLm5vZGVzLGk9MDtpPHIubm9kZXMubGVuZ3RoO2krKyl7dmFyIHM9ci5ub2Rlc1tpXTtFci5zZXRDdXJyZW50Tm9kZShlLGkpO3ZhciB1PXZvaWQgMDtzd2l0Y2goMjAxMzQ3MDY3JnMuZmxhZ3Mpe2Nhc2UgMTp2YXIgYT1vbyhlLHQscyksYz12b2lkIDA7aWYoMzM1NTQ0MzImcy5mbGFncyl7dmFyIGw9S3Iocy5lbGVtZW50LmNvbXBvbmVudFZpZXcpO2M9RXIuY3JlYXRlQ29tcG9uZW50VmlldyhlLHMsbCxhKX1pbyhlLGMscyxhKSx1PXtyZW5kZXJFbGVtZW50OmEsY29tcG9uZW50VmlldzpjLHZpZXdDb250YWluZXI6bnVsbCx0ZW1wbGF0ZTpzLmVsZW1lbnQudGVtcGxhdGU/U28oZSxzKTp2b2lkIDB9LDE2Nzc3MjE2JnMuZmxhZ3MmJih1LnZpZXdDb250YWluZXI9eG8oZSxzLHUpKTticmVhaztjYXNlIDI6dT1jaShlLHQscyk7YnJlYWs7Y2FzZSA1MTI6Y2FzZSAxMDI0OmNhc2UgMjA0ODpjYXNlIDI1NjoodT1vW2ldKXx8NDA5NiZzLmZsYWdzfHwodT17aW5zdGFuY2U6Wm8oZSxzKX0pO2JyZWFrO2Nhc2UgMTY6dT17aW5zdGFuY2U6cW8oZSxzKX07YnJlYWs7Y2FzZSAxNjM4NDoodT1vW2ldKXx8KHU9e2luc3RhbmNlOlFvKGUscyl9KSwzMjc2OCZzLmZsYWdzJiZtaShtcihlLHMucGFyZW50Lm5vZGVJbmRleCkuY29tcG9uZW50Vmlldyx1Lmluc3RhbmNlLHUuaW5zdGFuY2UpO2JyZWFrO2Nhc2UgMzI6Y2FzZSA2NDpjYXNlIDEyODp1PXt2YWx1ZTp2b2lkIDB9O2JyZWFrO2Nhc2UgNjcxMDg4NjQ6Y2FzZSAxMzQyMTc3Mjg6dT1uZXcgYW47YnJlYWs7Y2FzZSA4OnVpKGUsdCxzKSx1PXZvaWQgMH1vW2ldPXV9U2koZSxJaS5DcmVhdGVWaWV3Tm9kZXMpLE9pKGUsMjAxMzI2NTkyLDI2ODQzNTQ1NiwwKX1mdW5jdGlvbiBfaShlKXtDaShlKSxFci51cGRhdGVEaXJlY3RpdmVzKGUsMSksTmkoZSxJaS5DaGVja05vQ2hhbmdlcyksRXIudXBkYXRlUmVuZGVyZXIoZSwxKSxTaShlLElpLkNoZWNrTm9DaGFuZ2VzKSxlLnN0YXRlJj0tOTd9ZnVuY3Rpb24gd2koZSl7MSZlLnN0YXRlPyhlLnN0YXRlJj0tMixlLnN0YXRlfD0yKTplLnN0YXRlJj0tMyx2cihlLDAsMjU2KSxDaShlKSxFci51cGRhdGVEaXJlY3RpdmVzKGUsMCksTmkoZSxJaS5DaGVja0FuZFVwZGF0ZSksT2koZSw2NzEwODg2NCw1MzY4NzA5MTIsMCk7dmFyIHQ9dnIoZSwyNTYsNTEyKTtlaShlLDIwOTcxNTJ8KHQ/MTA0ODU3NjowKSksRXIudXBkYXRlUmVuZGVyZXIoZSwwKSxTaShlLElpLkNoZWNrQW5kVXBkYXRlKSxPaShlLDEzNDIxNzcyOCw1MzY4NzA5MTIsMCksZWkoZSw4Mzg4NjA4fCgodD12cihlLDUxMiw3NjgpKT80MTk0MzA0OjApKSwyJmUuZGVmLmZsYWdzJiYoZS5zdGF0ZSY9LTkpLGUuc3RhdGUmPS05Nyx2cihlLDc2OCwxMDI0KX1mdW5jdGlvbiBFaShlLHQsbixyLG8saSxzLHUsYyxsLGQsZixwKXtyZXR1cm4gMD09PW4/ZnVuY3Rpb24oZSx0LG4scixvLGkscyx1LGEsYyxsLGQpe3N3aXRjaCgyMDEzNDcwNjcmdC5mbGFncyl7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihlLHQsbixyLG8saSxzLHUsYSxjLGwsZCl7dmFyIGY9dC5iaW5kaW5ncy5sZW5ndGgscD0hMTtyZXR1cm4gZj4wJiZ1byhlLHQsMCxuKSYmKHA9ITApLGY+MSYmdW8oZSx0LDEscikmJihwPSEwKSxmPjImJnVvKGUsdCwyLG8pJiYocD0hMCksZj4zJiZ1byhlLHQsMyxpKSYmKHA9ITApLGY+NCYmdW8oZSx0LDQscykmJihwPSEwKSxmPjUmJnVvKGUsdCw1LHUpJiYocD0hMCksZj42JiZ1byhlLHQsNixhKSYmKHA9ITApLGY+NyYmdW8oZSx0LDcsYykmJihwPSEwKSxmPjgmJnVvKGUsdCw4LGwpJiYocD0hMCksZj45JiZ1byhlLHQsOSxkKSYmKHA9ITApLHB9KGUsdCxuLHIsbyxpLHMsdSxhLGMsbCxkKTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIsbyxpLHMsdSxhLGMsbCxkKXt2YXIgZj0hMSxwPXQuYmluZGluZ3MsaD1wLmxlbmd0aDtpZihoPjAmJlByKGUsdCwwLG4pJiYoZj0hMCksaD4xJiZQcihlLHQsMSxyKSYmKGY9ITApLGg+MiYmUHIoZSx0LDIsbykmJihmPSEwKSxoPjMmJlByKGUsdCwzLGkpJiYoZj0hMCksaD40JiZQcihlLHQsNCxzKSYmKGY9ITApLGg+NSYmUHIoZSx0LDUsdSkmJihmPSEwKSxoPjYmJlByKGUsdCw2LGEpJiYoZj0hMCksaD43JiZQcihlLHQsNyxjKSYmKGY9ITApLGg+OCYmUHIoZSx0LDgsbCkmJihmPSEwKSxoPjkmJlByKGUsdCw5LGQpJiYoZj0hMCksZil7dmFyIHY9dC50ZXh0LnByZWZpeDtoPjAmJih2Kz1saShuLHBbMF0pKSxoPjEmJih2Kz1saShyLHBbMV0pKSxoPjImJih2Kz1saShvLHBbMl0pKSxoPjMmJih2Kz1saShpLHBbM10pKSxoPjQmJih2Kz1saShzLHBbNF0pKSxoPjUmJih2Kz1saSh1LHBbNV0pKSxoPjYmJih2Kz1saShhLHBbNl0pKSxoPjcmJih2Kz1saShjLHBbN10pKSxoPjgmJih2Kz1saShsLHBbOF0pKSxoPjkmJih2Kz1saShkLHBbOV0pKTt2YXIgeT1ncihlLHQubm9kZUluZGV4KS5yZW5kZXJUZXh0O2UucmVuZGVyZXIuc2V0VmFsdWUoeSx2KX1yZXR1cm4gZn0oZSx0LG4scixvLGkscyx1LGEsYyxsLGQpO2Nhc2UgMTYzODQ6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIsbyxpLHMsdSxhLGMsbCxkKXt2YXIgZj1icihlLHQubm9kZUluZGV4KSxwPWYuaW5zdGFuY2UsaD0hMSx2PXZvaWQgMCx5PXQuYmluZGluZ3MubGVuZ3RoO3JldHVybiB5PjAmJk9yKGUsdCwwLG4pJiYoaD0hMCx2PVhvKGUsZix0LDAsbix2KSkseT4xJiZPcihlLHQsMSxyKSYmKGg9ITAsdj1YbyhlLGYsdCwxLHIsdikpLHk+MiYmT3IoZSx0LDIsbykmJihoPSEwLHY9WG8oZSxmLHQsMixvLHYpKSx5PjMmJk9yKGUsdCwzLGkpJiYoaD0hMCx2PVhvKGUsZix0LDMsaSx2KSkseT40JiZPcihlLHQsNCxzKSYmKGg9ITAsdj1YbyhlLGYsdCw0LHMsdikpLHk+NSYmT3IoZSx0LDUsdSkmJihoPSEwLHY9WG8oZSxmLHQsNSx1LHYpKSx5PjYmJk9yKGUsdCw2LGEpJiYoaD0hMCx2PVhvKGUsZix0LDYsYSx2KSkseT43JiZPcihlLHQsNyxjKSYmKGg9ITAsdj1YbyhlLGYsdCw3LGMsdikpLHk+OCYmT3IoZSx0LDgsbCkmJihoPSEwLHY9WG8oZSxmLHQsOCxsLHYpKSx5PjkmJk9yKGUsdCw5LGQpJiYoaD0hMCx2PVhvKGUsZix0LDksZCx2KSksdiYmcC5uZ09uQ2hhbmdlcyh2KSw2NTUzNiZ0LmZsYWdzJiZ5cihlLDI1Nix0Lm5vZGVJbmRleCkmJnAubmdPbkluaXQoKSwyNjIxNDQmdC5mbGFncyYmcC5uZ0RvQ2hlY2soKSxofShlLHQsbixyLG8saSxzLHUsYSxjLGwsZCk7Y2FzZSAzMjpjYXNlIDY0OmNhc2UgMTI4OnJldHVybiBmdW5jdGlvbihlLHQsbixyLG8saSxzLHUsYSxjLGwsZCl7dmFyIGY9dC5iaW5kaW5ncyxwPSExLGg9Zi5sZW5ndGg7aWYoaD4wJiZQcihlLHQsMCxuKSYmKHA9ITApLGg+MSYmUHIoZSx0LDEscikmJihwPSEwKSxoPjImJlByKGUsdCwyLG8pJiYocD0hMCksaD4zJiZQcihlLHQsMyxpKSYmKHA9ITApLGg+NCYmUHIoZSx0LDQscykmJihwPSEwKSxoPjUmJlByKGUsdCw1LHUpJiYocD0hMCksaD42JiZQcihlLHQsNixhKSYmKHA9ITApLGg+NyYmUHIoZSx0LDcsYykmJihwPSEwKSxoPjgmJlByKGUsdCw4LGwpJiYocD0hMCksaD45JiZQcihlLHQsOSxkKSYmKHA9ITApLHApe3ZhciB2PV9yKGUsdC5ub2RlSW5kZXgpLHk9dm9pZCAwO3N3aXRjaCgyMDEzNDcwNjcmdC5mbGFncyl7Y2FzZSAzMjp5PW5ldyBBcnJheShmLmxlbmd0aCksaD4wJiYoeVswXT1uKSxoPjEmJih5WzFdPXIpLGg+MiYmKHlbMl09byksaD4zJiYoeVszXT1pKSxoPjQmJih5WzRdPXMpLGg+NSYmKHlbNV09dSksaD42JiYoeVs2XT1hKSxoPjcmJih5WzddPWMpLGg+OCYmKHlbOF09bCksaD45JiYoeVs5XT1kKTticmVhaztjYXNlIDY0Onk9e30saD4wJiYoeVtmWzBdLm5hbWVdPW4pLGg+MSYmKHlbZlsxXS5uYW1lXT1yKSxoPjImJih5W2ZbMl0ubmFtZV09byksaD4zJiYoeVtmWzNdLm5hbWVdPWkpLGg+NCYmKHlbZls0XS5uYW1lXT1zKSxoPjUmJih5W2ZbNV0ubmFtZV09dSksaD42JiYoeVtmWzZdLm5hbWVdPWEpLGg+NyYmKHlbZls3XS5uYW1lXT1jKSxoPjgmJih5W2ZbOF0ubmFtZV09bCksaD45JiYoeVtmWzldLm5hbWVdPWQpO2JyZWFrO2Nhc2UgMTI4OnZhciBnPW47c3dpdGNoKGgpe2Nhc2UgMTp5PWcudHJhbnNmb3JtKG4pO2JyZWFrO2Nhc2UgMjp5PWcudHJhbnNmb3JtKHIpO2JyZWFrO2Nhc2UgMzp5PWcudHJhbnNmb3JtKHIsbyk7YnJlYWs7Y2FzZSA0Onk9Zy50cmFuc2Zvcm0ocixvLGkpO2JyZWFrO2Nhc2UgNTp5PWcudHJhbnNmb3JtKHIsbyxpLHMpO2JyZWFrO2Nhc2UgNjp5PWcudHJhbnNmb3JtKHIsbyxpLHMsdSk7YnJlYWs7Y2FzZSA3Onk9Zy50cmFuc2Zvcm0ocixvLGkscyx1LGEpO2JyZWFrO2Nhc2UgODp5PWcudHJhbnNmb3JtKHIsbyxpLHMsdSxhLGMpO2JyZWFrO2Nhc2UgOTp5PWcudHJhbnNmb3JtKHIsbyxpLHMsdSxhLGMsbCk7YnJlYWs7Y2FzZSAxMDp5PWcudHJhbnNmb3JtKHIsbyxpLHMsdSxhLGMsbCxkKX19di52YWx1ZT15fXJldHVybiBwfShlLHQsbixyLG8saSxzLHUsYSxjLGwsZCk7ZGVmYXVsdDp0aHJvdyJ1bnJlYWNoYWJsZSJ9fShlLHQscixvLGkscyx1LGMsbCxkLGYscCk6ZnVuY3Rpb24oZSx0LG4pe3N3aXRjaCgyMDEzNDcwNjcmdC5mbGFncyl7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPSExLG89MDtvPG4ubGVuZ3RoO28rKyl1byhlLHQsbyxuW29dKSYmKHI9ITApO3JldHVybiByfShlLHQsbik7Y2FzZSAyOnJldHVybiBmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPXQuYmluZGluZ3Msbz0hMSxpPTA7aTxuLmxlbmd0aDtpKyspUHIoZSx0LGksbltpXSkmJihvPSEwKTtpZihvKXt2YXIgcz0iIjtmb3IoaT0wO2k8bi5sZW5ndGg7aSsrKXMrPWxpKG5baV0scltpXSk7cz10LnRleHQucHJlZml4K3M7dmFyIHU9Z3IoZSx0Lm5vZGVJbmRleCkucmVuZGVyVGV4dDtlLnJlbmRlcmVyLnNldFZhbHVlKHUscyl9cmV0dXJuIG99KGUsdCxuKTtjYXNlIDE2Mzg0OnJldHVybiBmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPWJyKGUsdC5ub2RlSW5kZXgpLG89ci5pbnN0YW5jZSxpPSExLHM9dm9pZCAwLHU9MDt1PG4ubGVuZ3RoO3UrKylPcihlLHQsdSxuW3VdKSYmKGk9ITAscz1YbyhlLHIsdCx1LG5bdV0scykpO3JldHVybiBzJiZvLm5nT25DaGFuZ2VzKHMpLDY1NTM2JnQuZmxhZ3MmJnlyKGUsMjU2LHQubm9kZUluZGV4KSYmby5uZ09uSW5pdCgpLDI2MjE0NCZ0LmZsYWdzJiZvLm5nRG9DaGVjaygpLGl9KGUsdCxuKTtjYXNlIDMyOmNhc2UgNjQ6Y2FzZSAxMjg6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9dC5iaW5kaW5ncyxvPSExLGk9MDtpPG4ubGVuZ3RoO2krKylQcihlLHQsaSxuW2ldKSYmKG89ITApO2lmKG8pe3ZhciBzPV9yKGUsdC5ub2RlSW5kZXgpLHU9dm9pZCAwO3N3aXRjaCgyMDEzNDcwNjcmdC5mbGFncyl7Y2FzZSAzMjp1PW47YnJlYWs7Y2FzZSA2NDpmb3IodT17fSxpPTA7aTxuLmxlbmd0aDtpKyspdVtyW2ldLm5hbWVdPW5baV07YnJlYWs7Y2FzZSAxMjg6dmFyIGM9blswXSxsPW4uc2xpY2UoMSk7dT1jLnRyYW5zZm9ybS5hcHBseShjLGEobCkpfXMudmFsdWU9dX1yZXR1cm4gb30oZSx0LG4pO2RlZmF1bHQ6dGhyb3cidW5yZWFjaGFibGUifX0oZSx0LHIpfWZ1bmN0aW9uIENpKGUpe3ZhciB0PWUuZGVmO2lmKDQmdC5ub2RlRmxhZ3MpZm9yKHZhciBuPTA7bjx0Lm5vZGVzLmxlbmd0aDtuKyspe3ZhciByPXQubm9kZXNbbl07aWYoNCZyLmZsYWdzKXt2YXIgbz1tcihlLG4pLnRlbXBsYXRlLl9wcm9qZWN0ZWRWaWV3cztpZihvKWZvcih2YXIgaT0wO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldO3Muc3RhdGV8PTMyLFZyKHMsZSl9fWVsc2UgMD09KDQmci5jaGlsZEZsYWdzKSYmKG4rPXIuY2hpbGRDb3VudCl9fWZ1bmN0aW9uIHhpKGUsdCxuLHIsbyxpLHMsdSxhLGMsbCxkLGYpe3JldHVybiAwPT09bj9mdW5jdGlvbihlLHQsbixyLG8saSxzLHUsYSxjLGwsZCl7dmFyIGY9dC5iaW5kaW5ncy5sZW5ndGg7Zj4wJiZScihlLHQsMCxuKSxmPjEmJlJyKGUsdCwxLHIpLGY+MiYmUnIoZSx0LDIsbyksZj4zJiZScihlLHQsMyxpKSxmPjQmJlJyKGUsdCw0LHMpLGY+NSYmUnIoZSx0LDUsdSksZj42JiZScihlLHQsNixhKSxmPjcmJlJyKGUsdCw3LGMpLGY+OCYmUnIoZSx0LDgsbCksZj45JiZScihlLHQsOSxkKX0oZSx0LHIsbyxpLHMsdSxhLGMsbCxkLGYpOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKylScihlLHQscixuW3JdKX0oZSx0LHIpLCExfWZ1bmN0aW9uIFRpKGUsdCl7aWYod3IoZSx0Lm5vZGVJbmRleCkuZGlydHkpdGhyb3cgQ3IoRXIuY3JlYXRlRGVidWdDb250ZXh0KGUsdC5ub2RlSW5kZXgpLCJRdWVyeSAiK3QucXVlcnkuaWQrIiBub3QgZGlydHkiLCJRdWVyeSAiK3QucXVlcnkuaWQrIiBkaXJ0eSIsMCE9KDEmZS5zdGF0ZSkpfWZ1bmN0aW9uIGtpKGUpe2lmKCEoMTI4JmUuc3RhdGUpKXtpZihOaShlLElpLkRlc3Ryb3kpLFNpKGUsSWkuRGVzdHJveSksZWkoZSwxMzEwNzIpLGUuZGlzcG9zYWJsZXMpZm9yKHZhciB0PTA7dDxlLmRpc3Bvc2FibGVzLmxlbmd0aDt0KyspZS5kaXNwb3NhYmxlc1t0XSgpOyFmdW5jdGlvbihlKXtpZigxNiZlLnN0YXRlKXt2YXIgdD1IcihlKTtpZih0KXt2YXIgbj10LnRlbXBsYXRlLl9wcm9qZWN0ZWRWaWV3cztuJiYoX28obixuLmluZGV4T2YoZSkpLEVyLmRpcnR5UGFyZW50UXVlcmllcyhlKSl9fX0oZSksZS5yZW5kZXJlci5kZXN0cm95Tm9kZSYmZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuZGVmLm5vZGVzLmxlbmd0aCxuPTA7bjx0O24rKyl7dmFyIHI9ZS5kZWYubm9kZXNbbl07MSZyLmZsYWdzP2UucmVuZGVyZXIuZGVzdHJveU5vZGUobXIoZSxuKS5yZW5kZXJFbGVtZW50KToyJnIuZmxhZ3M/ZS5yZW5kZXJlci5kZXN0cm95Tm9kZShncihlLG4pLnJlbmRlclRleHQpOig2NzEwODg2NCZyLmZsYWdzfHwxMzQyMTc3Mjgmci5mbGFncykmJndyKGUsbikuZGVzdHJveSgpfX0oZSksenIoZSkmJmUucmVuZGVyZXIuZGVzdHJveSgpLGUuc3RhdGV8PTEyOH19dmFyIElpPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuQ3JlYXRlVmlld05vZGVzPTBdPSJDcmVhdGVWaWV3Tm9kZXMiLGVbZS5DaGVja05vQ2hhbmdlcz0xXT0iQ2hlY2tOb0NoYW5nZXMiLGVbZS5DaGVja05vQ2hhbmdlc1Byb2plY3RlZFZpZXdzPTJdPSJDaGVja05vQ2hhbmdlc1Byb2plY3RlZFZpZXdzIixlW2UuQ2hlY2tBbmRVcGRhdGU9M109IkNoZWNrQW5kVXBkYXRlIixlW2UuQ2hlY2tBbmRVcGRhdGVQcm9qZWN0ZWRWaWV3cz00XT0iQ2hlY2tBbmRVcGRhdGVQcm9qZWN0ZWRWaWV3cyIsZVtlLkRlc3Ryb3k9NV09IkRlc3Ryb3kiLGV9KHt9KTtmdW5jdGlvbiBTaShlLHQpe3ZhciBuPWUuZGVmO2lmKDMzNTU0NDMyJm4ubm9kZUZsYWdzKWZvcih2YXIgcj0wO3I8bi5ub2Rlcy5sZW5ndGg7cisrKXt2YXIgbz1uLm5vZGVzW3JdOzMzNTU0NDMyJm8uZmxhZ3M/QWkobXIoZSxyKS5jb21wb25lbnRWaWV3LHQpOjA9PSgzMzU1NDQzMiZvLmNoaWxkRmxhZ3MpJiYocis9by5jaGlsZENvdW50KX19ZnVuY3Rpb24gTmkoZSx0KXt2YXIgbj1lLmRlZjtpZigxNjc3NzIxNiZuLm5vZGVGbGFncylmb3IodmFyIHI9MDtyPG4ubm9kZXMubGVuZ3RoO3IrKyl7dmFyIG89bi5ub2Rlc1tyXTtpZigxNjc3NzIxNiZvLmZsYWdzKWZvcih2YXIgaT1tcihlLHIpLnZpZXdDb250YWluZXIuX2VtYmVkZGVkVmlld3Mscz0wO3M8aS5sZW5ndGg7cysrKUFpKGlbc10sdCk7ZWxzZSAwPT0oMTY3NzcyMTYmby5jaGlsZEZsYWdzKSYmKHIrPW8uY2hpbGRDb3VudCl9fWZ1bmN0aW9uIEFpKGUsdCl7dmFyIG49ZS5zdGF0ZTtzd2l0Y2godCl7Y2FzZSBJaS5DaGVja05vQ2hhbmdlczowPT0oMTI4Jm4pJiYoMTI9PSgxMiZuKT9faShlKTo2NCZuJiZEaShlLElpLkNoZWNrTm9DaGFuZ2VzUHJvamVjdGVkVmlld3MpKTticmVhaztjYXNlIElpLkNoZWNrTm9DaGFuZ2VzUHJvamVjdGVkVmlld3M6MD09KDEyOCZuKSYmKDMyJm4/X2koZSk6NjQmbiYmRGkoZSx0KSk7YnJlYWs7Y2FzZSBJaS5DaGVja0FuZFVwZGF0ZTowPT0oMTI4Jm4pJiYoMTI9PSgxMiZuKT93aShlKTo2NCZuJiZEaShlLElpLkNoZWNrQW5kVXBkYXRlUHJvamVjdGVkVmlld3MpKTticmVhaztjYXNlIElpLkNoZWNrQW5kVXBkYXRlUHJvamVjdGVkVmlld3M6MD09KDEyOCZuKSYmKDMyJm4/d2koZSk6NjQmbiYmRGkoZSx0KSk7YnJlYWs7Y2FzZSBJaS5EZXN0cm95OmtpKGUpO2JyZWFrO2Nhc2UgSWkuQ3JlYXRlVmlld05vZGVzOmJpKGUpfX1mdW5jdGlvbiBEaShlLHQpe05pKGUsdCksU2koZSx0KX1mdW5jdGlvbiBPaShlLHQsbixyKXtpZihlLmRlZi5ub2RlRmxhZ3MmdCYmZS5kZWYubm9kZUZsYWdzJm4pZm9yKHZhciBvPWUuZGVmLm5vZGVzLmxlbmd0aCxpPTA7aTxvO2krKyl7dmFyIHM9ZS5kZWYubm9kZXNbaV07aWYocy5mbGFncyZ0JiZzLmZsYWdzJm4pc3dpdGNoKEVyLnNldEN1cnJlbnROb2RlKGUscy5ub2RlSW5kZXgpLHIpe2Nhc2UgMDpvaShlLHMpO2JyZWFrO2Nhc2UgMTpUaShlLHMpfXMuY2hpbGRGbGFncyZ0JiZzLmNoaWxkRmxhZ3Mmbnx8KGkrPXMuY2hpbGRDb3VudCl9fXZhciBQaT0hMTtmdW5jdGlvbiBSaShlLHQsbixyLG8saSl7cmV0dXJuIHZpKFZpKGUsbyxvLmluamVjdG9yLmdldChybiksdCxuKSxyLGkpfWZ1bmN0aW9uIE1pKGUsdCxuLHIsbyxpKXt2YXIgcz1vLmluamVjdG9yLmdldChybiksdT1WaShlLG8sbmV3IGdzKHMpLHQsbiksYT1RaShyKTtyZXR1cm4gdnModHMuY3JlYXRlLHZpLG51bGwsW3UsYSxpXSl9ZnVuY3Rpb24gVmkoZSx0LG4scixvKXt2YXIgaT10LmluamVjdG9yLmdldChocikscz10LmluamVjdG9yLmdldChudCk7cmV0dXJue25nTW9kdWxlOnQsaW5qZWN0b3I6ZSxwcm9qZWN0YWJsZU5vZGVzOnIsc2VsZWN0b3JPck5vZGU6byxzYW5pdGl6ZXI6aSxyZW5kZXJlckZhY3Rvcnk6bixyZW5kZXJlcjpuLmNyZWF0ZVJlbmRlcmVyKG51bGwsbnVsbCksZXJyb3JIYW5kbGVyOnN9fWZ1bmN0aW9uIGppKGUsdCxuLHIpe3ZhciBvPVFpKG4pO3JldHVybiB2cyh0cy5jcmVhdGUsaGksbnVsbCxbZSx0LG8scl0pfWZ1bmN0aW9uIEhpKGUsdCxuLHIpe3JldHVybiBuPXppLmdldCh0LmVsZW1lbnQuY29tcG9uZW50UHJvdmlkZXIucHJvdmlkZXIudG9rZW4pfHxRaShuKSx2cyh0cy5jcmVhdGUseWksbnVsbCxbZSx0LG4scl0pfWZ1bmN0aW9uIEZpKGUsdCxuLHIpe3JldHVybiBSbyhlLHQsbixmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXt2YXIgdD0hMSxuPSExO3JldHVybiAwPT09TGkuc2l6ZT97aGFzT3ZlcnJpZGVzOnQsaGFzRGVwcmVjYXRlZE92ZXJyaWRlczpufTooZS5wcm92aWRlcnMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj1MaS5nZXQoZS50b2tlbik7Mzg0MCZlLmZsYWdzJiZyJiYodD0hMCxuPW58fHIuZGVwcmVjYXRlZEJlaGF2aW9yKX0pLGUubW9kdWxlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe0JpLmZvckVhY2goZnVuY3Rpb24ocixvKXtvLm5nSW5qZWN0YWJsZURlZi5wcm92aWRlZEluPT09ZSYmKHQ9ITAsbj1ufHxyLmRlcHJlY2F0ZWRCZWhhdmlvcil9KX0pLHtoYXNPdmVycmlkZXM6dCxoYXNEZXByZWNhdGVkT3ZlcnJpZGVzOm59KX0oZSksbj10Lmhhc092ZXJyaWRlcyxyPXQuaGFzRGVwcmVjYXRlZE92ZXJyaWRlcztyZXR1cm4gbj8oZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLnByb3ZpZGVycy5sZW5ndGg7dCsrKXt2YXIgbj1lLnByb3ZpZGVyc1t0XTtyJiYobi5mbGFnc3w9NDA5Nik7dmFyIG89TGkuZ2V0KG4udG9rZW4pO28mJihuLmZsYWdzPS0zODQxJm4uZmxhZ3N8by5mbGFncyxuLmRlcHM9cXIoby5kZXBzKSxuLnZhbHVlPW8udmFsdWUpfWlmKEJpLnNpemU+MCl7dmFyIGk9bmV3IFNldChlLm1vZHVsZXMpO0JpLmZvckVhY2goZnVuY3Rpb24odCxuKXtpZihpLmhhcyhuLm5nSW5qZWN0YWJsZURlZi5wcm92aWRlZEluKSl7dmFyIG89e3Rva2VuOm4sZmxhZ3M6dC5mbGFnc3wocj80MDk2OjApLGRlcHM6cXIodC5kZXBzKSx2YWx1ZTp0LnZhbHVlLGluZGV4OmUucHJvdmlkZXJzLmxlbmd0aH07ZS5wcm92aWRlcnMucHVzaChvKSxlLnByb3ZpZGVyc0J5S2V5W1NyKG4pXT1vfX0pfX0oZT1lLmZhY3RvcnkoZnVuY3Rpb24oKXtyZXR1cm4ga3J9KSksZSk6ZX0ocikpfXZhciBMaT1uZXcgTWFwLEJpPW5ldyBNYXAsemk9bmV3IE1hcDtmdW5jdGlvbiBVaShlKXtMaS5zZXQoZS50b2tlbixlKSwiZnVuY3Rpb24iPT10eXBlb2YgZS50b2tlbiYmZS50b2tlbi5uZ0luamVjdGFibGVEZWYmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnRva2VuLm5nSW5qZWN0YWJsZURlZi5wcm92aWRlZEluJiZCaS5zZXQoZS50b2tlbixlKX1mdW5jdGlvbiBaaShlLHQpe3ZhciBuPUtyKEtyKHQudmlld0RlZkZhY3RvcnkpLm5vZGVzWzBdLmVsZW1lbnQuY29tcG9uZW50Vmlldyk7emkuc2V0KGUsbil9ZnVuY3Rpb24gcWkoKXtMaS5jbGVhcigpLEJpLmNsZWFyKCksemkuY2xlYXIoKX1mdW5jdGlvbiBRaShlKXtpZigwPT09TGkuc2l6ZSlyZXR1cm4gZTt2YXIgdD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj1udWxsLHI9MDtyPGUubm9kZXMubGVuZ3RoO3IrKyl7dmFyIG89ZS5ub2Rlc1tyXTsxJm8uZmxhZ3MmJihuPW8pLG4mJjM4NDAmby5mbGFncyYmTGkuaGFzKG8ucHJvdmlkZXIudG9rZW4pJiYodC5wdXNoKG4ubm9kZUluZGV4KSxuPW51bGwpfXJldHVybiB0fShlKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIGU7ZT1lLmZhY3RvcnkoZnVuY3Rpb24oKXtyZXR1cm4ga3J9KTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylyKGUsdFtuXSk7cmV0dXJuIGU7ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgbj10KzE7bjxlLm5vZGVzLmxlbmd0aDtuKyspe3ZhciByPWUubm9kZXNbbl07aWYoMSZyLmZsYWdzKXJldHVybjtpZigzODQwJnIuZmxhZ3Mpe3ZhciBvPXIucHJvdmlkZXIsaT1MaS5nZXQoby50b2tlbik7aSYmKHIuZmxhZ3M9LTM4NDEmci5mbGFnc3xpLmZsYWdzLG8uZGVwcz1xcihpLmRlcHMpLG8udmFsdWU9aS52YWx1ZSl9fX19ZnVuY3Rpb24gV2koZSx0LG4scixvLGkscyx1LGEsYyxsLGQsZil7dmFyIHA9ZS5kZWYubm9kZXNbdF07cmV0dXJuIEVpKGUscCxuLHIsbyxpLHMsdSxhLGMsbCxkLGYpLDIyNCZwLmZsYWdzP19yKGUsdCkudmFsdWU6dm9pZCAwfWZ1bmN0aW9uIEtpKGUsdCxuLHIsbyxpLHMsdSxhLGMsbCxkLGYpe3ZhciBwPWUuZGVmLm5vZGVzW3RdO3JldHVybiB4aShlLHAsbixyLG8saSxzLHUsYSxjLGwsZCxmKSwyMjQmcC5mbGFncz9fcihlLHQpLnZhbHVlOnZvaWQgMH1mdW5jdGlvbiBHaShlKXtyZXR1cm4gdnModHMuZGV0ZWN0Q2hhbmdlcyx3aSxudWxsLFtlXSl9ZnVuY3Rpb24gWWkoZSl7cmV0dXJuIHZzKHRzLmNoZWNrTm9DaGFuZ2VzLF9pLG51bGwsW2VdKX1mdW5jdGlvbiBKaShlKXtyZXR1cm4gdnModHMuZGVzdHJveSxraSxudWxsLFtlXSl9dmFyICRpLFhpLGVzLHRzPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuY3JlYXRlPTBdPSJjcmVhdGUiLGVbZS5kZXRlY3RDaGFuZ2VzPTFdPSJkZXRlY3RDaGFuZ2VzIixlW2UuY2hlY2tOb0NoYW5nZXM9Ml09ImNoZWNrTm9DaGFuZ2VzIixlW2UuZGVzdHJveT0zXT0iZGVzdHJveSIsZVtlLmhhbmRsZUV2ZW50PTRdPSJoYW5kbGVFdmVudCIsZX0oe30pO2Z1bmN0aW9uIG5zKGUsdCl7WGk9ZSxlcz10fWZ1bmN0aW9uIHJzKGUsdCxuLHIpe3JldHVybiBucyhlLHQpLHZzKHRzLmhhbmRsZUV2ZW50LGUuZGVmLmhhbmRsZUV2ZW50LG51bGwsW2UsdCxuLHJdKX1mdW5jdGlvbiBvcyhlLHQpe2lmKDEyOCZlLnN0YXRlKXRocm93IFRyKHRzWyRpXSk7cmV0dXJuIG5zKGUsZHMoZSwwKSksZS5kZWYudXBkYXRlRGlyZWN0aXZlcyhmdW5jdGlvbihlLG4scil7Zm9yKHZhciBvPVtdLGk9MztpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKW9baS0zXT1hcmd1bWVudHNbaV07dmFyIHM9ZS5kZWYubm9kZXNbbl07cmV0dXJuIDA9PT10P3NzKGUscyxyLG8pOnVzKGUscyxyLG8pLDE2Mzg0JnMuZmxhZ3MmJm5zKGUsZHMoZSxuKSksMjI0JnMuZmxhZ3M/X3IoZSxzLm5vZGVJbmRleCkudmFsdWU6dm9pZCAwfSxlKX1mdW5jdGlvbiBpcyhlLHQpe2lmKDEyOCZlLnN0YXRlKXRocm93IFRyKHRzWyRpXSk7cmV0dXJuIG5zKGUsZnMoZSwwKSksZS5kZWYudXBkYXRlUmVuZGVyZXIoZnVuY3Rpb24oZSxuLHIpe2Zvcih2YXIgbz1bXSxpPTM7aTxhcmd1bWVudHMubGVuZ3RoO2krKylvW2ktM109YXJndW1lbnRzW2ldO3ZhciBzPWUuZGVmLm5vZGVzW25dO3JldHVybiAwPT09dD9zcyhlLHMscixvKTp1cyhlLHMscixvKSwzJnMuZmxhZ3MmJm5zKGUsZnMoZSxuKSksMjI0JnMuZmxhZ3M/X3IoZSxzLm5vZGVJbmRleCkudmFsdWU6dm9pZCAwfSxlKX1mdW5jdGlvbiBzcyhlLHQsbixyKXtpZihFaS5hcHBseSh2b2lkIDAsYShbZSx0LG5dLHIpKSl7dmFyIG89MT09PW4/clswXTpyO2lmKDE2Mzg0JnQuZmxhZ3Mpe2Zvcih2YXIgaT17fSxzPTA7czx0LmJpbmRpbmdzLmxlbmd0aDtzKyspe3ZhciB1PXQuYmluZGluZ3Nbc10sYz1vW3NdOzgmdS5mbGFncyYmKGlbYXModS5ub25NaW5pZmllZE5hbWUpXT1scyhjKSl9dmFyIGw9dC5wYXJlbnQsZD1tcihlLGwubm9kZUluZGV4KS5yZW5kZXJFbGVtZW50O2lmKGwuZWxlbWVudC5uYW1lKWZvcih2YXIgZiBpbiBpKW51bGwhPShjPWlbZl0pP2UucmVuZGVyZXIuc2V0QXR0cmlidXRlKGQsZixjKTplLnJlbmRlcmVyLnJlbW92ZUF0dHJpYnV0ZShkLGYpO2Vsc2UgZS5yZW5kZXJlci5zZXRWYWx1ZShkLCJiaW5kaW5ncz0iK0pTT04uc3RyaW5naWZ5KGksbnVsbCwyKSl9fX1mdW5jdGlvbiB1cyhlLHQsbixyKXt4aS5hcHBseSh2b2lkIDAsYShbZSx0LG5dLHIpKX1mdW5jdGlvbiBhcyhlKXtyZXR1cm4ibmctcmVmbGVjdC0iK2Z1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoY3MsZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIi0iK2VbMV0udG9Mb3dlckNhc2UoKX0pfShlLnJlcGxhY2UoL1skQF0vZywiXyIpKX12YXIgY3M9LyhbQS1aXSkvZztmdW5jdGlvbiBscyhlKXt0cnl7cmV0dXJuIG51bGwhPWU/ZS50b1N0cmluZygpLnNsaWNlKDAsMzApOmV9Y2F0Y2goZSl7cmV0dXJuIltFUlJPUl0gRXhjZXB0aW9uIHdoaWxlIHRyeWluZyB0byBzZXJpYWxpemUgdGhlIHZhbHVlIn19ZnVuY3Rpb24gZHMoZSx0KXtmb3IodmFyIG49dDtuPGUuZGVmLm5vZGVzLmxlbmd0aDtuKyspe3ZhciByPWUuZGVmLm5vZGVzW25dO2lmKDE2Mzg0JnIuZmxhZ3MmJnIuYmluZGluZ3MmJnIuYmluZGluZ3MubGVuZ3RoKXJldHVybiBufXJldHVybiBudWxsfWZ1bmN0aW9uIGZzKGUsdCl7Zm9yKHZhciBuPXQ7bjxlLmRlZi5ub2Rlcy5sZW5ndGg7bisrKXt2YXIgcj1lLmRlZi5ub2Rlc1tuXTtpZigzJnIuZmxhZ3MmJnIuYmluZGluZ3MmJnIuYmluZGluZ3MubGVuZ3RoKXJldHVybiBufXJldHVybiBudWxsfXZhciBwcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLnZpZXc9ZSx0aGlzLm5vZGVJbmRleD10LG51bGw9PXQmJih0aGlzLm5vZGVJbmRleD10PTApLHRoaXMubm9kZURlZj1lLmRlZi5ub2Rlc1t0XTtmb3IodmFyIG49dGhpcy5ub2RlRGVmLHI9ZTtuJiYwPT0oMSZuLmZsYWdzKTspbj1uLnBhcmVudDtpZighbilmb3IoOyFuJiZyOyluPUZyKHIpLHI9ci5wYXJlbnQ7dGhpcy5lbERlZj1uLHRoaXMuZWxWaWV3PXJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZWxPckNvbXBWaWV3Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG1yKHRoaXMuZWxWaWV3LHRoaXMuZWxEZWYubm9kZUluZGV4KS5jb21wb25lbnRWaWV3fHx0aGlzLnZpZXd9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpbmplY3RvciIse2dldDpmdW5jdGlvbigpe3JldHVybiBBbyh0aGlzLmVsVmlldyx0aGlzLmVsRGVmKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvbXBvbmVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsT3JDb21wVmlldy5jb21wb25lbnR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjb250ZXh0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxPckNvbXBWaWV3LmNvbnRleHR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwcm92aWRlclRva2VucyIse2dldDpmdW5jdGlvbigpe3ZhciBlPVtdO2lmKHRoaXMuZWxEZWYpZm9yKHZhciB0PXRoaXMuZWxEZWYubm9kZUluZGV4KzE7dDw9dGhpcy5lbERlZi5ub2RlSW5kZXgrdGhpcy5lbERlZi5jaGlsZENvdW50O3QrKyl7dmFyIG49dGhpcy5lbFZpZXcuZGVmLm5vZGVzW3RdOzIwMjI0Jm4uZmxhZ3MmJmUucHVzaChuLnByb3ZpZGVyLnRva2VuKSx0Kz1uLmNoaWxkQ291bnR9cmV0dXJuIGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyZWZlcmVuY2VzIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9e307aWYodGhpcy5lbERlZil7aHModGhpcy5lbFZpZXcsdGhpcy5lbERlZixlKTtmb3IodmFyIHQ9dGhpcy5lbERlZi5ub2RlSW5kZXgrMTt0PD10aGlzLmVsRGVmLm5vZGVJbmRleCt0aGlzLmVsRGVmLmNoaWxkQ291bnQ7dCsrKXt2YXIgbj10aGlzLmVsVmlldy5kZWYubm9kZXNbdF07MjAyMjQmbi5mbGFncyYmaHModGhpcy5lbFZpZXcsbixlKSx0Kz1uLmNoaWxkQ291bnR9fXJldHVybiBlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29tcG9uZW50UmVuZGVyRWxlbWVudCIse2dldDpmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUpe2Zvcig7ZSYmIXpyKGUpOyllPWUucGFyZW50O3JldHVybiBlLnBhcmVudD9tcihlLnBhcmVudCxGcihlKS5ub2RlSW5kZXgpOm51bGx9KHRoaXMuZWxPckNvbXBWaWV3KTtyZXR1cm4gZT9lLnJlbmRlckVsZW1lbnQ6dm9pZCAwfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVuZGVyTm9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiAyJnRoaXMubm9kZURlZi5mbGFncz9Mcih0aGlzLnZpZXcsdGhpcy5ub2RlRGVmKTpMcih0aGlzLmVsVmlldyx0aGlzLmVsRGVmKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5sb2dFcnJvcj1mdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPVtdLG89MTtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKXJbby0xXT1hcmd1bWVudHNbb107MiZ0aGlzLm5vZGVEZWYuZmxhZ3M/KHQ9dGhpcy52aWV3LmRlZixuPXRoaXMubm9kZURlZi5ub2RlSW5kZXgpOih0PXRoaXMuZWxWaWV3LmRlZixuPXRoaXMuZWxEZWYubm9kZUluZGV4KTt2YXIgaT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0tMSxyPTA7cjw9dDtyKyspezMmZS5ub2Rlc1tyXS5mbGFncyYmbisrfXJldHVybiBufSh0LG4pLHM9LTE7dC5mYWN0b3J5KGZ1bmN0aW9uKCl7cmV0dXJuKytzPT09aT8odD1lLmVycm9yKS5iaW5kLmFwcGx5KHQsYShbZV0scikpOmtyO3ZhciB0fSksczxpJiYoZS5lcnJvcigiSWxsZWdhbCBzdGF0ZTogdGhlIFZpZXdEZWZpbml0aW9uRmFjdG9yeSBkaWQgbm90IGNhbGwgdGhlIGxvZ2dlciEiKSxlLmVycm9yLmFwcGx5KGUsYShyKSkpfSxlfSgpO2Z1bmN0aW9uIGhzKGUsdCxuKXtmb3IodmFyIHIgaW4gdC5yZWZlcmVuY2VzKW5bcl09c2koZSx0LHQucmVmZXJlbmNlc1tyXSl9ZnVuY3Rpb24gdnMoZSx0LG4scil7dmFyIG89JGksaT1YaSxzPWVzO3RyeXskaT1lO3ZhciB1PXQuYXBwbHkobixyKTtyZXR1cm4gWGk9aSxlcz1zLCRpPW8sdX1jYXRjaChlKXtpZihmdW5jdGlvbihlKXtyZXR1cm4hIVhlKGUpfShlKXx8IVhpKXRocm93IGU7dGhyb3cgZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIEVycm9yfHwoZT1uZXcgRXJyb3IoZS50b1N0cmluZygpKSkseHIoZSx0KSxlfShlLHlzKCkpfX1mdW5jdGlvbiB5cygpe3JldHVybiBYaT9uZXcgcHMoWGksZXMpOm51bGx9dmFyIGdzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmRlbGVnYXRlPWV9cmV0dXJuIGUucHJvdG90eXBlLmNyZWF0ZVJlbmRlcmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBtcyh0aGlzLmRlbGVnYXRlLmNyZWF0ZVJlbmRlcmVyKGUsdCkpfSxlLnByb3RvdHlwZS5iZWdpbj1mdW5jdGlvbigpe3RoaXMuZGVsZWdhdGUuYmVnaW4mJnRoaXMuZGVsZWdhdGUuYmVnaW4oKX0sZS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5kZWxlZ2F0ZS5lbmQmJnRoaXMuZGVsZWdhdGUuZW5kKCl9LGUucHJvdG90eXBlLndoZW5SZW5kZXJpbmdEb25lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsZWdhdGUud2hlblJlbmRlcmluZ0RvbmU/dGhpcy5kZWxlZ2F0ZS53aGVuUmVuZGVyaW5nRG9uZSgpOlByb21pc2UucmVzb2x2ZShudWxsKX0sZX0oKSxtcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5kZWxlZ2F0ZT1lLHRoaXMuZGF0YT10aGlzLmRlbGVnYXRlLmRhdGF9cmV0dXJuIGUucHJvdG90eXBlLmRlc3Ryb3lOb2RlPWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXt2bi5kZWxldGUoZS5uYXRpdmVOb2RlKX0oeW4oZSkpLHRoaXMuZGVsZWdhdGUuZGVzdHJveU5vZGUmJnRoaXMuZGVsZWdhdGUuZGVzdHJveU5vZGUoZSl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRlbGVnYXRlLmRlc3Ryb3koKX0sZS5wcm90b3R5cGUuY3JlYXRlRWxlbWVudD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZGVsZWdhdGUuY3JlYXRlRWxlbWVudChlLHQpLHI9eXMoKTtpZihyKXt2YXIgbz1uZXcgaG4obixudWxsLHIpO28ubmFtZT1lLGduKG8pfXJldHVybiBufSxlLnByb3RvdHlwZS5jcmVhdGVDb21tZW50PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGVsZWdhdGUuY3JlYXRlQ29tbWVudChlKSxuPXlzKCk7cmV0dXJuIG4mJmduKG5ldyBwbih0LG51bGwsbikpLHR9LGUucHJvdG90eXBlLmNyZWF0ZVRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kZWxlZ2F0ZS5jcmVhdGVUZXh0KGUpLG49eXMoKTtyZXR1cm4gbiYmZ24obmV3IHBuKHQsbnVsbCxuKSksdH0sZS5wcm90b3R5cGUuYXBwZW5kQ2hpbGQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj15bihlKSxyPXluKHQpO24mJnImJm4gaW5zdGFuY2VvZiBobiYmbi5hZGRDaGlsZChyKSx0aGlzLmRlbGVnYXRlLmFwcGVuZENoaWxkKGUsdCl9LGUucHJvdG90eXBlLmluc2VydEJlZm9yZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9eW4oZSksbz15bih0KSxpPXluKG4pO3ImJm8mJnIgaW5zdGFuY2VvZiBobiYmci5pbnNlcnRCZWZvcmUoaSxvKSx0aGlzLmRlbGVnYXRlLmluc2VydEJlZm9yZShlLHQsbil9LGUucHJvdG90eXBlLnJlbW92ZUNoaWxkPWZ1bmN0aW9uKGUsdCl7dmFyIG49eW4oZSkscj15bih0KTtuJiZyJiZuIGluc3RhbmNlb2YgaG4mJm4ucmVtb3ZlQ2hpbGQociksdGhpcy5kZWxlZ2F0ZS5yZW1vdmVDaGlsZChlLHQpfSxlLnByb3RvdHlwZS5zZWxlY3RSb290RWxlbWVudD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmRlbGVnYXRlLnNlbGVjdFJvb3RFbGVtZW50KGUpLG49eXMoKTtyZXR1cm4gbiYmZ24obmV3IGhuKHQsbnVsbCxuKSksdH0sZS5wcm90b3R5cGUuc2V0QXR0cmlidXRlPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXluKGUpO2lmKG8mJm8gaW5zdGFuY2VvZiBobil7dmFyIGk9cj9yKyI6Iit0OnQ7by5hdHRyaWJ1dGVzW2ldPW59dGhpcy5kZWxlZ2F0ZS5zZXRBdHRyaWJ1dGUoZSx0LG4scil9LGUucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9eW4oZSk7aWYociYmciBpbnN0YW5jZW9mIGhuKXt2YXIgbz1uP24rIjoiK3Q6dDtyLmF0dHJpYnV0ZXNbb109bnVsbH10aGlzLmRlbGVnYXRlLnJlbW92ZUF0dHJpYnV0ZShlLHQsbil9LGUucHJvdG90eXBlLmFkZENsYXNzPWZ1bmN0aW9uKGUsdCl7dmFyIG49eW4oZSk7biYmbiBpbnN0YW5jZW9mIGhuJiYobi5jbGFzc2VzW3RdPSEwKSx0aGlzLmRlbGVnYXRlLmFkZENsYXNzKGUsdCl9LGUucHJvdG90eXBlLnJlbW92ZUNsYXNzPWZ1bmN0aW9uKGUsdCl7dmFyIG49eW4oZSk7biYmbiBpbnN0YW5jZW9mIGhuJiYobi5jbGFzc2VzW3RdPSExKSx0aGlzLmRlbGVnYXRlLnJlbW92ZUNsYXNzKGUsdCl9LGUucHJvdG90eXBlLnNldFN0eWxlPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXluKGUpO28mJm8gaW5zdGFuY2VvZiBobiYmKG8uc3R5bGVzW3RdPW4pLHRoaXMuZGVsZWdhdGUuc2V0U3R5bGUoZSx0LG4scil9LGUucHJvdG90eXBlLnJlbW92ZVN0eWxlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj15bihlKTtyJiZyIGluc3RhbmNlb2YgaG4mJihyLnN0eWxlc1t0XT1udWxsKSx0aGlzLmRlbGVnYXRlLnJlbW92ZVN0eWxlKGUsdCxuKX0sZS5wcm90b3R5cGUuc2V0UHJvcGVydHk9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXluKGUpO3ImJnIgaW5zdGFuY2VvZiBobiYmKHIucHJvcGVydGllc1t0XT1uKSx0aGlzLmRlbGVnYXRlLnNldFByb3BlcnR5KGUsdCxuKX0sZS5wcm90b3R5cGUubGlzdGVuPWZ1bmN0aW9uKGUsdCxuKXtpZigic3RyaW5nIiE9dHlwZW9mIGUpe3ZhciByPXluKGUpO3ImJnIubGlzdGVuZXJzLnB1c2gobmV3IGZuKHQsbikpfXJldHVybiB0aGlzLmRlbGVnYXRlLmxpc3RlbihlLHQsbil9LGUucHJvdG90eXBlLnBhcmVudE5vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGVsZWdhdGUucGFyZW50Tm9kZShlKX0sZS5wcm90b3R5cGUubmV4dFNpYmxpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGVsZWdhdGUubmV4dFNpYmxpbmcoZSl9LGUucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZGVsZWdhdGUuc2V0VmFsdWUoZSx0KX0sZX0oKSxicz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixyKXt2YXIgbz1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG8ubW9kdWxlVHlwZT10LG8uX2Jvb3RzdHJhcENvbXBvbmVudHM9bixvLl9uZ01vZHVsZURlZkZhY3Rvcnk9cixvfXJldHVybiBvKHQsZSksdC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGUpeyFmdW5jdGlvbigpe2lmKCFQaSl7UGk9ITA7dmFyIGU9S3QoKT97c2V0Q3VycmVudE5vZGU6bnMsY3JlYXRlUm9vdFZpZXc6TWksY3JlYXRlRW1iZWRkZWRWaWV3OmppLGNyZWF0ZUNvbXBvbmVudFZpZXc6SGksY3JlYXRlTmdNb2R1bGVSZWY6Rmksb3ZlcnJpZGVQcm92aWRlcjpVaSxvdmVycmlkZUNvbXBvbmVudFZpZXc6WmksY2xlYXJPdmVycmlkZXM6cWksY2hlY2tBbmRVcGRhdGVWaWV3OkdpLGNoZWNrTm9DaGFuZ2VzVmlldzpZaSxkZXN0cm95VmlldzpKaSxjcmVhdGVEZWJ1Z0NvbnRleHQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHBzKGUsdCl9LGhhbmRsZUV2ZW50OnJzLHVwZGF0ZURpcmVjdGl2ZXM6b3MsdXBkYXRlUmVuZGVyZXI6aXN9OntzZXRDdXJyZW50Tm9kZTpmdW5jdGlvbigpe30sY3JlYXRlUm9vdFZpZXc6UmksY3JlYXRlRW1iZWRkZWRWaWV3OmhpLGNyZWF0ZUNvbXBvbmVudFZpZXc6eWksY3JlYXRlTmdNb2R1bGVSZWY6Um8sb3ZlcnJpZGVQcm92aWRlcjprcixvdmVycmlkZUNvbXBvbmVudFZpZXc6a3IsY2xlYXJPdmVycmlkZXM6a3IsY2hlY2tBbmRVcGRhdGVWaWV3OndpLGNoZWNrTm9DaGFuZ2VzVmlldzpfaSxkZXN0cm95VmlldzpraSxjcmVhdGVEZWJ1Z0NvbnRleHQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHBzKGUsdCl9LGhhbmRsZUV2ZW50OmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBlLmRlZi5oYW5kbGVFdmVudChlLHQsbixyKX0sdXBkYXRlRGlyZWN0aXZlczpmdW5jdGlvbihlLHQpe3JldHVybiBlLmRlZi51cGRhdGVEaXJlY3RpdmVzKDA9PT10P1dpOktpLGUpfSx1cGRhdGVSZW5kZXJlcjpmdW5jdGlvbihlLHQpe3JldHVybiBlLmRlZi51cGRhdGVSZW5kZXJlcigwPT09dD9XaTpLaSxlKX19O0VyLnNldEN1cnJlbnROb2RlPWUuc2V0Q3VycmVudE5vZGUsRXIuY3JlYXRlUm9vdFZpZXc9ZS5jcmVhdGVSb290VmlldyxFci5jcmVhdGVFbWJlZGRlZFZpZXc9ZS5jcmVhdGVFbWJlZGRlZFZpZXcsRXIuY3JlYXRlQ29tcG9uZW50Vmlldz1lLmNyZWF0ZUNvbXBvbmVudFZpZXcsRXIuY3JlYXRlTmdNb2R1bGVSZWY9ZS5jcmVhdGVOZ01vZHVsZVJlZixFci5vdmVycmlkZVByb3ZpZGVyPWUub3ZlcnJpZGVQcm92aWRlcixFci5vdmVycmlkZUNvbXBvbmVudFZpZXc9ZS5vdmVycmlkZUNvbXBvbmVudFZpZXcsRXIuY2xlYXJPdmVycmlkZXM9ZS5jbGVhck92ZXJyaWRlcyxFci5jaGVja0FuZFVwZGF0ZVZpZXc9ZS5jaGVja0FuZFVwZGF0ZVZpZXcsRXIuY2hlY2tOb0NoYW5nZXNWaWV3PWUuY2hlY2tOb0NoYW5nZXNWaWV3LEVyLmRlc3Ryb3lWaWV3PWUuZGVzdHJveVZpZXcsRXIucmVzb2x2ZURlcD1KbyxFci5jcmVhdGVEZWJ1Z0NvbnRleHQ9ZS5jcmVhdGVEZWJ1Z0NvbnRleHQsRXIuaGFuZGxlRXZlbnQ9ZS5oYW5kbGVFdmVudCxFci51cGRhdGVEaXJlY3RpdmVzPWUudXBkYXRlRGlyZWN0aXZlcyxFci51cGRhdGVSZW5kZXJlcj1lLnVwZGF0ZVJlbmRlcmVyLEVyLmRpcnR5UGFyZW50UXVlcmllcz1yaX19KCk7dmFyIHQ9S3IodGhpcy5fbmdNb2R1bGVEZWZGYWN0b3J5KTtyZXR1cm4gRXIuY3JlYXRlTmdNb2R1bGVSZWYodGhpcy5tb2R1bGVUeXBlLGV8fERlLk5VTEwsdGhpcy5fYm9vdHN0cmFwQ29tcG9uZW50cyx0KX0sdH0oU3QpO2Z1bmN0aW9uIF9zKGUsdCxuKXtlIT10JiZDcyhuKX1mdW5jdGlvbiB3cyhlLHQpe251bGwhPWUmJkNzKHQpfWZ1bmN0aW9uIEVzKGUsdCl7bnVsbD09ZSYmQ3ModCl9ZnVuY3Rpb24gQ3MoZSl7dGhyb3cgbmV3IEVycm9yKCJBU1NFUlRJT04gRVJST1I6ICIrZSl9ZnVuY3Rpb24geHMoZSx0LG4scil7dmFyIG89cj90Om47byYmZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rPTIpdFtuKzFdLmNhbGwoZVt0W25dXSl9KGUsbyl9InVuZGVmaW5lZCI9PXR5cGVvZiBuZ0Rldk1vZGUmJigidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5uZ0Rldk1vZGU9ITApLCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmKHNlbGYubmdEZXZNb2RlPSEwKSwidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbCYmKGdsb2JhbC5uZ0Rldk1vZGU9ITApKTt2YXIgVHMsa3MsSXMsU3MsTnMsQXMsRHMsT3MsUHMsUnM9Il9fbmdIb3N0TE5vZGVfXyIsTXM9UHJvbWlzZS5yZXNvbHZlKG51bGwpLFZzPVswLDBdLGpzPW51bGwsSHM9ITE7ZnVuY3Rpb24gRnMoZSx0KXt2YXIgbj1qcztyZXR1cm4gT3M9ZSYmZS5kYXRhLFBzPWUmJmUuZGlyZWN0aXZlcyxOcz1lJiZlLnRWaWV3LmRhdGEsRHM9ZSYmMT09KDEmZS5mbGFncyksZSYmZS50Vmlldy5maXJzdFRlbXBsYXRlUGFzcyxlJiZlLmNsZWFudXAsVHM9ZSYmZS5yZW5kZXJlcixlJiZlLmJpbmRpbmdJbmRleDwwJiYoZS5iaW5kaW5nSW5kZXg9ZS5iaW5kaW5nU3RhcnRJbmRleCksbnVsbCE9dCYmKElzPXQsU3M9ITApLGpzPWUsQXM9ZSYmZS5xdWVyaWVzLG59ZnVuY3Rpb24gTHMoZSl7SHN8fHhzKFBzLGpzLnRWaWV3LnZpZXdIb29rcyxqcy50Vmlldy52aWV3Q2hlY2tIb29rcyxEcyksanMuZmxhZ3MmPS02LGpzLmxpZmVjeWNsZVN0YWdlPTEsanMuYmluZGluZ0luZGV4PS0xLEZzKGUsbnVsbCl9ZnVuY3Rpb24gQnMoKXtVcygpO3ZhciBlPWpzLnRWaWV3O2UuZmlyc3RUZW1wbGF0ZVBhc3M9ITEsenMoZS5ob3N0QmluZGluZ3MpLGZ1bmN0aW9uKGUpe2lmKG51bGwhPWUpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kz0yKUtzKGVbdF0sZVt0KzFdKX0oZS5jb21wb25lbnRzKX1mdW5jdGlvbiB6cyhlKXtpZihudWxsIT1lKWZvcih2YXIgdD1qcy50Vmlldy5kaXJlY3RpdmVzLG49MDtuPGUubGVuZ3RoO24rPTIpe3ZhciByPWVbbl0sbz10W3JdO28uaG9zdEJpbmRpbmdzJiZvLmhvc3RCaW5kaW5ncyhyLGVbbisxXSl9fWZ1bmN0aW9uIFVzKCl7aWYoIUhzKXt2YXIgZT1qcy50VmlldzsoZnVuY3Rpb24oZSx0LG4pezE9PT1lLmxpZmVjeWNsZVN0YWdlJiYoeHMoZS5kaXJlY3RpdmVzLHQuaW5pdEhvb2tzLHQuY2hlY2tIb29rcyxuKSxlLmxpZmVjeWNsZVN0YWdlPTIpfSkoanMsZSxEcykseHMoUHMsZS5jb250ZW50SG9va3MsZS5jb250ZW50Q2hlY2tIb29rcyxEcyl9fWZ1bmN0aW9uIFpzKGUsdCxuLHIpe3ZhciBvPVNzP0lzOklzJiZJcy5wYXJlbnQsaT0oU3M/QXM6SXMmJklzLnF1ZXJpZXMpfHxvJiZvLnF1ZXJpZXMmJm8ucXVlcmllcy5jaGlsZCgpLHM9bnVsbCE9cix1PWZ1bmN0aW9uKGUsdCxuLHIsbyxpKXtyZXR1cm57dHlwZTplLG5hdGl2ZTpyLHZpZXc6dCxwYXJlbnQ6bixjaGlsZDpudWxsLG5leHQ6bnVsbCxub2RlSW5qZWN0b3I6bj9uLm5vZGVJbmplY3RvcjpudWxsLGRhdGE6byxxdWVyaWVzOmksdE5vZGU6bnVsbCxwTmV4dE9yUGFyZW50Om51bGwsZHluYW1pY0xDb250YWluZXJOb2RlOm51bGx9fSh0LGpzLG8sbixzP3I6bnVsbCxpKTtyZXR1cm4gMj09KDImdCkmJnMmJihuZ0Rldk1vZGUmJndzKHIubm9kZSwiTFZpZXcubm9kZSBzaG91bGQgbm90IGhhdmUgYmVlbiBpbml0aWFsaXplZCIpLHIubm9kZT11KSxudWxsIT1lJiYobmdEZXZNb2RlJiZmdW5jdGlvbihlLHQpe251bGw9PXQmJih0PU9zKSxfcyh0Lmxlbmd0aCxlLCJpbmRleCAiK2UrIiBleHBlY3RlZCB0byBiZSBhdCB0aGUgZW5kIG9mIGFyciAobGVuZ3RoICIrdC5sZW5ndGgrIikiKX0oZSksT3NbZV09dSxlPj1Ocy5sZW5ndGg/TnNbZV09bnVsbDp1LnROb2RlPU5zW2VdLFNzPyhBcz1udWxsLElzLnZpZXchPT1qcyYmMiE9PUlzLnR5cGV8fChuZ0Rldk1vZGUmJndzKElzLmNoaWxkLCJwcmV2aW91c09yUGFyZW50Tm9kZSdzIGNoaWxkIHNob3VsZCBub3QgaGF2ZSBiZWVuIHNldC4iKSxJcy5jaGlsZD11KSk6SXMmJihuZ0Rldk1vZGUmJndzKElzLm5leHQsInByZXZpb3VzT3JQYXJlbnROb2RlJ3MgbmV4dCBwcm9wZXJ0eSBzaG91bGQgbm90IGhhdmUgYmVlbiBzZXQgIitlKyIuIiksSXMubmV4dD11LElzLmR5bmFtaWNMQ29udGFpbmVyTm9kZSYmKElzLmR5bmFtaWNMQ29udGFpbmVyTm9kZS5uZXh0PXUpKSksSXM9dSxTcz0hMCx1fWZ1bmN0aW9uIHFzKGUsdCxuLHIsbyxpKXt2YXIgcyx1PVNzLGE9SXM7dHJ5e1NzPSEwLElzPW51bGw7dmFyIGM9MjtudWxsPT1lJiYoZT1acyhudWxsLDIsbnVsbCxmdW5jdGlvbihlLHQsbixyLG8saSl7cmV0dXJue3BhcmVudDpqcyxpZDplLGZsYWdzOjl8aSxub2RlOm51bGwsZGF0YTpbXSxkaXJlY3RpdmVzOm51bGwsdFZpZXc6bixjbGVhbnVwOm51bGwscmVuZGVyZXI6dCxjaGlsZDpudWxsLHRhaWw6bnVsbCxuZXh0Om51bGwsYmluZGluZ1N0YXJ0SW5kZXg6LTEsYmluZGluZ0luZGV4Oi0xLHRlbXBsYXRlOnIsY29udGV4dDpvLGR5bmFtaWNWaWV3Q291bnQ6MCxsaWZlY3ljbGVTdGFnZToxLHF1ZXJpZXM6bnVsbCxpbmplY3RvcjpqcyYmanMuaW5qZWN0b3J9fSgtMSxyLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5uZ1ByaXZhdGVEYXRhfHwoZS5uZ1ByaXZhdGVEYXRhPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2RhdGE6W10sZGlyZWN0aXZlczpudWxsLGZpcnN0VGVtcGxhdGVQYXNzOiEwLGluaXRIb29rczpudWxsLGNoZWNrSG9va3M6bnVsbCxjb250ZW50SG9va3M6bnVsbCxjb250ZW50Q2hlY2tIb29rczpudWxsLHZpZXdIb29rczpudWxsLHZpZXdDaGVja0hvb2tzOm51bGwsZGVzdHJveUhvb2tzOm51bGwscGlwZURlc3Ryb3lIb29rczpudWxsLGhvc3RCaW5kaW5nczpudWxsLGNvbXBvbmVudHM6bnVsbCxkaXJlY3RpdmVSZWdpc3RyeToiZnVuY3Rpb24iPT10eXBlb2YgZT9lKCk6ZSxwaXBlUmVnaXN0cnk6ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dCgpOnQsY3VycmVudE1hdGNoZXM6bnVsbH19KHQsbikpfSh0LG98fG51bGwsaXx8bnVsbCksdCxuLDIpKSxjPTEpLHM9RnMoZS5kYXRhLGUpLHQoYyxuKSxCcygpLFdzKCl9ZmluYWxseXtMcyhzKSxTcz11LElzPWF9cmV0dXJuIGV9ZnVuY3Rpb24gUXMoZSl7cmV0dXJuIDEmZS5mbGFncz8zOjJ9ZnVuY3Rpb24gV3MoKXtmb3IodmFyIGU9anMuY2hpbGQ7bnVsbCE9PWU7ZT1lLm5leHQpaWYoMCE9PWUuZHluYW1pY1ZpZXdDb3VudCYmZS52aWV3cylmb3IodmFyIHQ9ZSxuPTA7bjx0LnZpZXdzLmxlbmd0aDtuKyspe3ZhciByPXQudmlld3Nbbl07cXMocixyLmRhdGEudGVtcGxhdGUsci5kYXRhLmNvbnRleHQsVHMpfX1mdW5jdGlvbiBLcyhlLHQpe25nRGV2TW9kZSYmJHModCk7dmFyIG49T3NbdF07bmdEZXZNb2RlJiZmdW5jdGlvbihlLHQpe0VzKGUsInNob3VsZCBiZSBjYWxsZWQgd2l0aCBhIG5vZGUiKSxfcyhlLnR5cGUsdCwic2hvdWxkIGJlIGEgIitmdW5jdGlvbihlKXtyZXR1cm4gMT09ZT8iUHJvamVjdGlvbiI6MD09ZT8iQ29udGFpbmVyIjoyPT1lPyJWaWV3IjozPT1lPyJFbGVtZW50IjoiPHVua25vd24+In0odCkpfShuLDMpLG5nRGV2TW9kZSYmRXMobi5kYXRhLCJDb21wb25lbnQncyBob3N0IG5vZGUgc2hvdWxkIGhhdmUgYW4gTFZpZXcgYXR0YWNoZWQuIik7dmFyIHI9bi5kYXRhOzg9PSg4JnIuZmxhZ3MpJiY2JnIuZmxhZ3MmJihuZ0Rldk1vZGUmJiRzKGUsUHMpLEpzKHIsbixqcy50Vmlldy5kaXJlY3RpdmVzW2VdLGZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2VbMF06ZX0oUHNbZV0pKSl9ZnVuY3Rpb24gR3MoZSl7Zm9yKHZhciB0PWU7bnVsbCE9dC5wYXJlbnQ7KXQuZmxhZ3N8PTQsdD10LnBhcmVudDt0LmZsYWdzfD00LG5nRGV2TW9kZSYmRXModC5jb250ZXh0LCJyb290Q29udGV4dCIpLGZ1bmN0aW9uKGUpe3ZhciB0O2UuY2xlYW49PU1zJiYoZS5jbGVhbj1uZXcgUHJvbWlzZShmdW5jdGlvbihlKXtyZXR1cm4gdD1lfSksZS5zY2hlZHVsZXIoZnVuY3Rpb24oKXshZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7bmdEZXZNb2RlJiZFcyhlLCJjb21wb25lbnQiKTtmb3IodmFyIHQ9WHMoZSkudmlldzt0LnBhcmVudDspdD10LnBhcmVudDtyZXR1cm4gdH0oZSksbj10LmNvbnRleHQuY29tcG9uZW50LHI9WHMobik7bmdEZXZNb2RlJiZFcyhyLmRhdGEsIkNvbXBvbmVudCBob3N0IG5vZGUgc2hvdWxkIGJlIGF0dGFjaGVkIHRvIGFuIExWaWV3IiksZnVuY3Rpb24oZSx0LG4scil7dmFyIG89RnModCxlKTt0cnl7a3MuYmVnaW4mJmtzLmJlZ2luKCksVXMoKSx6cyhWcyksS3MoMCwwKX1maW5hbGx5e2tzLmVuZCYma3MuZW5kKCksTHMobyl9fShyLHQpfShlLmNvbXBvbmVudCksdChudWxsKSxlLmNsZWFuPU1zfSkpfSh0LmNvbnRleHQpfWZ1bmN0aW9uIFlzKGUpe3ZhciB0PVhzKGUpO25nRGV2TW9kZSYmRXModC5kYXRhLCJDb21wb25lbnQgaG9zdCBub2RlIHNob3VsZCBiZSBhdHRhY2hlZCB0byBhbiBMVmlldyIpO3ZhciBuPXQudE5vZGUuZmxhZ3M+PjEzLHI9dC52aWV3LnRWaWV3LmRpcmVjdGl2ZXNbbl07SnModC5kYXRhLHQscixlKX1mdW5jdGlvbiBKcyhlLHQsbixyKXt2YXIgbz1GcyhlLHQpLGk9bi50ZW1wbGF0ZTt0cnl7aShRcyhlKSxyKSxCcygpLFdzKCl9ZmluYWxseXtMcyhvKX19ZnVuY3Rpb24gJHMoZSx0KXtudWxsPT10JiYodD1PcyksZnVuY3Rpb24oZSx0LG4pe2U+PXQmJkNzKG4pfShlLHQ/dC5sZW5ndGg6MCwiaW5kZXggZXhwZWN0ZWQgdG8gYmUgYSB2YWxpZCBkYXRhIGluZGV4Iil9ZnVuY3Rpb24gWHMoZSl7bmdEZXZNb2RlJiZFcyhlLCJleHBlY3RpbmcgY29tcG9uZW50IGdvdCBudWxsIik7dmFyIHQ9ZVtSc107cmV0dXJuIG5nRGV2TW9kZSYmRXMoZSwib2JqZWN0IGlzIG5vdCBhIGNvbXBvbmVudCIpLHR9IWZ1bmN0aW9uKGUpe28oZnVuY3Rpb24odCxuLHIpe3ZhciBvPWUuY2FsbCh0aGlzLHQuZGF0YSxyKXx8dGhpcztyZXR1cm4gby5fbFZpZXdOb2RlPXQsb30sZSl9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuX3ZpZXc9ZSx0aGlzLmNvbnRleHQ9dH1yZXR1cm4gZS5wcm90b3R5cGUuX3NldENvbXBvbmVudENvbnRleHQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl92aWV3PWUsdGhpcy5jb250ZXh0PXR9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLm9uRGVzdHJveT1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLm1hcmtGb3JDaGVjaz1mdW5jdGlvbigpe0dzKHRoaXMuX3ZpZXcpfSxlLnByb3RvdHlwZS5kZXRhY2g9ZnVuY3Rpb24oKXt0aGlzLl92aWV3LmZsYWdzJj0tOX0sZS5wcm90b3R5cGUucmVhdHRhY2g9ZnVuY3Rpb24oKXt0aGlzLl92aWV3LmZsYWdzfD04fSxlLnByb3RvdHlwZS5kZXRlY3RDaGFuZ2VzPWZ1bmN0aW9uKCl7WXModGhpcy5jb250ZXh0KX0sZS5wcm90b3R5cGUuY2hlY2tOb0NoYW5nZXM9ZnVuY3Rpb24oKXshZnVuY3Rpb24oZSl7SHM9ITA7dHJ5e1lzKGUpfWZpbmFsbHl7SHM9ITF9fSh0aGlzLmNvbnRleHQpfSxlfSgpKTt2YXIgZXU9ZnVuY3Rpb24oKXt9LHR1PUVsZW1lbnQucHJvdG90eXBlLG51PXR1Lm1hdGNoZXN8fHR1Lm1hdGNoZXNTZWxlY3Rvcnx8dHUubW96TWF0Y2hlc1NlbGVjdG9yfHx0dS5tc01hdGNoZXNTZWxlY3Rvcnx8dHUub01hdGNoZXNTZWxlY3Rvcnx8dHUud2Via2l0TWF0Y2hlc1NlbGVjdG9yLHJ1PXtzY2hlZHVsZTpmdW5jdGlvbihlLHQpe3ZhciBuPXNldFRpbWVvdXQoZSx0KTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gY2xlYXJUaW1lb3V0KG4pfX0sc2NoZWR1bGVCZWZvcmVSZW5kZXI6ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3cpcmV0dXJuIHJ1LnNjaGVkdWxlKGUsMCk7aWYodm9pZCAwPT09d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSlyZXR1cm4gcnUuc2NoZWR1bGUoZSwxNik7dmFyIHQ9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShlKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHQpfX19O2Z1bmN0aW9uIG91KGUsdCxuKXt2YXIgcj1uO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFfShlKSYmdC5zb21lKGZ1bmN0aW9uKHQsbil7cmV0dXJuISgiKiI9PT10fHwhZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnUuY2FsbChlLHQpfShlLHQpfHwocj1uLDApKX0pLHJ9dmFyIGl1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuY29tcG9uZW50PWUsdGhpcy5pbmplY3Rvcj10LHRoaXMuY29tcG9uZW50RmFjdG9yeT10LmdldCh4dCkucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoZSl9cmV0dXJuIGUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHN1KHRoaXMuY29tcG9uZW50RmFjdG9yeSxlKX0sZX0oKSxzdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmNvbXBvbmVudEZhY3Rvcnk9ZSx0aGlzLmluamVjdG9yPXQsdGhpcy5pbnB1dENoYW5nZXM9bnVsbCx0aGlzLmltcGxlbWVudHNPbkNoYW5nZXM9ITEsdGhpcy5zY2hlZHVsZWRDaGFuZ2VEZXRlY3Rpb25Gbj1udWxsLHRoaXMuc2NoZWR1bGVkRGVzdHJveUZuPW51bGwsdGhpcy5pbml0aWFsSW5wdXRWYWx1ZXM9bmV3IE1hcCx0aGlzLnVuaW5pdGlhbGl6ZWRJbnB1dHM9bmV3IFNldH1yZXR1cm4gZS5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihlKXtpZihudWxsIT09dGhpcy5zY2hlZHVsZWREZXN0cm95Rm4pcmV0dXJuIHRoaXMuc2NoZWR1bGVkRGVzdHJveUZuKCksdm9pZCh0aGlzLnNjaGVkdWxlZERlc3Ryb3lGbj1udWxsKTt0aGlzLmNvbXBvbmVudFJlZnx8dGhpcy5pbml0aWFsaXplQ29tcG9uZW50KGUpfSxlLnByb3RvdHlwZS5kaXNjb25uZWN0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmNvbXBvbmVudFJlZiYmbnVsbD09PXRoaXMuc2NoZWR1bGVkRGVzdHJveUZuJiYodGhpcy5zY2hlZHVsZWREZXN0cm95Rm49cnUuc2NoZWR1bGUoZnVuY3Rpb24oKXtlLmNvbXBvbmVudFJlZiYmKGUuY29tcG9uZW50UmVmLmRlc3Ryb3koKSxlLmNvbXBvbmVudFJlZj1udWxsKX0sMTApKX0sZS5wcm90b3R5cGUuZ2V0SW5wdXRWYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wb25lbnRSZWY/dGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2VbZV06dGhpcy5pbml0aWFsSW5wdXRWYWx1ZXMuZ2V0KGUpfSxlLnByb3RvdHlwZS5zZXRJbnB1dFZhbHVlPWZ1bmN0aW9uKGUsdCl7KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10fHxlIT1lJiZ0IT10fSkodCx0aGlzLmdldElucHV0VmFsdWUoZSkpfHwodGhpcy5jb21wb25lbnRSZWY/KHRoaXMucmVjb3JkSW5wdXRDaGFuZ2UoZSx0KSx0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZVtlXT10LHRoaXMuc2NoZWR1bGVEZXRlY3RDaGFuZ2VzKCkpOnRoaXMuaW5pdGlhbElucHV0VmFsdWVzLnNldChlLHQpKX0sZS5wcm90b3R5cGUuaW5pdGlhbGl6ZUNvbXBvbmVudD1mdW5jdGlvbihlKXt2YXIgdD1EZS5jcmVhdGUoe3Byb3ZpZGVyczpbXSxwYXJlbnQ6dGhpcy5pbmplY3Rvcn0pLG49ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmNoaWxkTm9kZXMscj10Lm1hcChmdW5jdGlvbigpe3JldHVybltdfSksbz0tMTt0LnNvbWUoZnVuY3Rpb24oZSx0KXtyZXR1cm4iKiI9PT1lJiYobz10LCEwKX0pO2Zvcih2YXIgaT0wLHM9bi5sZW5ndGg7aTxzOysraSl7dmFyIHU9bltpXSxhPW91KHUsdCxvKTstMSE9PWEmJnJbYV0ucHVzaCh1KX1yZXR1cm4gcn0oZSx0aGlzLmNvbXBvbmVudEZhY3RvcnkubmdDb250ZW50U2VsZWN0b3JzKTt0aGlzLmNvbXBvbmVudFJlZj10aGlzLmNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKHQsbixlKSx0aGlzLmltcGxlbWVudHNPbkNoYW5nZXM9ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9KHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlLm5nT25DaGFuZ2VzKSx0aGlzLmluaXRpYWxpemVJbnB1dHMoKSx0aGlzLmluaXRpYWxpemVPdXRwdXRzKCksdGhpcy5kZXRlY3RDaGFuZ2VzKCksdGhpcy5pbmplY3Rvci5nZXQoZW4pLmF0dGFjaFZpZXcodGhpcy5jb21wb25lbnRSZWYuaG9zdFZpZXcpfSxlLnByb3RvdHlwZS5pbml0aWFsaXplSW5wdXRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmNvbXBvbmVudEZhY3RvcnkuaW5wdXRzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49dC5wcm9wTmFtZSxyPWUuaW5pdGlhbElucHV0VmFsdWVzLmdldChuKTtyP2Uuc2V0SW5wdXRWYWx1ZShuLHIpOmUudW5pbml0aWFsaXplZElucHV0cy5hZGQobil9KSx0aGlzLmluaXRpYWxJbnB1dFZhbHVlcy5jbGVhcigpfSxlLnByb3RvdHlwZS5pbml0aWFsaXplT3V0cHV0cz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmNvbXBvbmVudEZhY3Rvcnkub3V0cHV0cy5tYXAoZnVuY3Rpb24odCl7dmFyIG49dC5wcm9wTmFtZSxyPXQudGVtcGxhdGVOYW1lO3JldHVybiBlLmNvbXBvbmVudFJlZi5pbnN0YW5jZVtuXS5waXBlKEwoZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6cix2YWx1ZTplfX0pKX0pO3RoaXMuZXZlbnRzPUsuYXBwbHkodm9pZCAwLGEodCkpfSxlLnByb3RvdHlwZS5jYWxsTmdPbkNoYW5nZXM9ZnVuY3Rpb24oKXtpZih0aGlzLmltcGxlbWVudHNPbkNoYW5nZXMmJm51bGwhPT10aGlzLmlucHV0Q2hhbmdlcyl7dmFyIGU9dGhpcy5pbnB1dENoYW5nZXM7dGhpcy5pbnB1dENoYW5nZXM9bnVsbCx0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5uZ09uQ2hhbmdlcyhlKX19LGUucHJvdG90eXBlLnNjaGVkdWxlRGV0ZWN0Q2hhbmdlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zY2hlZHVsZWRDaGFuZ2VEZXRlY3Rpb25Gbnx8KHRoaXMuc2NoZWR1bGVkQ2hhbmdlRGV0ZWN0aW9uRm49cnUuc2NoZWR1bGVCZWZvcmVSZW5kZXIoZnVuY3Rpb24oKXtlLnNjaGVkdWxlZENoYW5nZURldGVjdGlvbkZuPW51bGwsZS5kZXRlY3RDaGFuZ2VzKCl9KSl9LGUucHJvdG90eXBlLnJlY29yZElucHV0Q2hhbmdlPWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuY29tcG9uZW50UmVmfHx0aGlzLmltcGxlbWVudHNPbkNoYW5nZXMpe251bGw9PT10aGlzLmlucHV0Q2hhbmdlcyYmKHRoaXMuaW5wdXRDaGFuZ2VzPXt9KTt2YXIgbj10aGlzLmlucHV0Q2hhbmdlc1tlXTtpZihuKW4uY3VycmVudFZhbHVlPXQ7ZWxzZXt2YXIgcj10aGlzLnVuaW5pdGlhbGl6ZWRJbnB1dHMuaGFzKGUpO3RoaXMudW5pbml0aWFsaXplZElucHV0cy5kZWxldGUoZSk7dmFyIG89cj92b2lkIDA6dGhpcy5nZXRJbnB1dFZhbHVlKGUpO3RoaXMuaW5wdXRDaGFuZ2VzW2VdPW5ldyBfbihvLHQscil9fX0sZS5wcm90b3R5cGUuZGV0ZWN0Q2hhbmdlcz1mdW5jdGlvbigpe3RoaXMuY29tcG9uZW50UmVmJiYodGhpcy5jYWxsTmdPbkNoYW5nZXMoKSx0aGlzLmNvbXBvbmVudFJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCkpfSxlfSgpLHV1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQubmdFbGVtZW50RXZlbnRzU3Vic2NyaXB0aW9uPW51bGwsdH1yZXR1cm4gbyh0LGUpLHR9KEhUTUxFbGVtZW50KTt2YXIgYXU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuaW5qZWN0b3I9ZX1yZXR1cm4gZS5wcm90b3R5cGUubmdEb0Jvb3RzdHJhcD1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5nZXQoeHQpLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KGUpLmlucHV0c30oZSx0LmluamVjdG9yKSxyPXQuc3RyYXRlZ3lGYWN0b3J5fHxuZXcgaXUoZSx0LmluamVjdG9yKSxpPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBuLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49ZS5wcm9wTmFtZSxyPWUudGVtcGxhdGVOYW1lO3Rbci5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGUpe3JldHVybiItIitlLnRvTG93ZXJDYXNlKCl9KV09bn0pLHR9KCkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKG4pe3ZhciBvPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby5uZ0VsZW1lbnRTdHJhdGVneT1yLmNyZWF0ZShufHx0LmluamVjdG9yKSxvfXJldHVybiBvKG4sZSksbi5wcm90b3R5cGUuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrPWZ1bmN0aW9uKGUsbixvLHMpe3RoaXMubmdFbGVtZW50U3RyYXRlZ3l8fCh0aGlzLm5nRWxlbWVudFN0cmF0ZWd5PXIuY3JlYXRlKHQuaW5qZWN0b3IpKTt2YXIgdT1pW2VdO3RoaXMubmdFbGVtZW50U3RyYXRlZ3kuc2V0SW5wdXRWYWx1ZSh1LG8pfSxuLnByb3RvdHlwZS5jb25uZWN0ZWRDYWxsYmFjaz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5uZ0VsZW1lbnRTdHJhdGVneXx8KHRoaXMubmdFbGVtZW50U3RyYXRlZ3k9ci5jcmVhdGUodC5pbmplY3RvcikpLHRoaXMubmdFbGVtZW50U3RyYXRlZ3kuY29ubmVjdCh0aGlzKSx0aGlzLm5nRWxlbWVudEV2ZW50c1N1YnNjcmlwdGlvbj10aGlzLm5nRWxlbWVudFN0cmF0ZWd5LmV2ZW50cy5zdWJzY3JpYmUoZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24oZSx0LG4pe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBDdXN0b21FdmVudCl7dmFyIHI9ZS5jcmVhdGVFdmVudCgiQ3VzdG9tRXZlbnQiKTtyZXR1cm4gci5pbml0Q3VzdG9tRXZlbnQodCwhMSwhMSxuKSxyfXJldHVybiBuZXcgQ3VzdG9tRXZlbnQodCx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDpufSl9KGUub3duZXJEb2N1bWVudCx0Lm5hbWUsdC52YWx1ZSk7ZS5kaXNwYXRjaEV2ZW50KG4pfSl9LG4ucHJvdG90eXBlLmRpc2Nvbm5lY3RlZENhbGxiYWNrPWZ1bmN0aW9uKCl7dGhpcy5uZ0VsZW1lbnRTdHJhdGVneSYmdGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5kaXNjb25uZWN0KCksdGhpcy5uZ0VsZW1lbnRFdmVudHNTdWJzY3JpcHRpb24mJih0aGlzLm5nRWxlbWVudEV2ZW50c1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpLHRoaXMubmdFbGVtZW50RXZlbnRzU3Vic2NyaXB0aW9uPW51bGwpfSxuLm9ic2VydmVkQXR0cmlidXRlcz1PYmplY3Qua2V5cyhpKSxufSh1dSk7cmV0dXJuIG4ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnByb3BOYW1lfSkuZm9yRWFjaChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsZSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmdFbGVtZW50U3RyYXRlZ3kuZ2V0SW5wdXRWYWx1ZShlKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMubmdFbGVtZW50U3RyYXRlZ3kuc2V0SW5wdXRWYWx1ZShlLHQpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfSksc30oZXUse2luamVjdG9yOnRoaXMuaW5qZWN0b3J9KTtjdXN0b21FbGVtZW50cy5kZWZpbmUoImV4dGVybmFsLWRhc2hib2FyZC10aWxlIixlKX0sZX0oKSxjdT1mdW5jdGlvbihlKXtyZXR1cm57aWQ6TnIsc3R5bGVzOmUuc3R5bGVzLGVuY2Fwc3VsYXRpb246ZS5lbmNhcHN1bGF0aW9uLGRhdGE6ZS5kYXRhfX0oe2VuY2Fwc3VsYXRpb246MCxzdHlsZXM6W1siIl1dLGRhdGE6e319KTtmdW5jdGlvbiBsdShlKXtyZXR1cm4gZGkoMCxbKGUoKSgpLHJvKDAsMCxudWxsLG51bGwsMjMsImRpdiIsW1siY2xhc3MiLCJjYXJkIl1dLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCkpLChlKCkoKSxybygxLDAsbnVsbCxudWxsLDIsImRpdiIsW1siY2xhc3MiLCJoZWFkZXIiXV0sbnVsbCxudWxsLG51bGwsbnVsbCxudWxsKSksKGUoKSgpLHJvKDIsMCxudWxsLG51bGwsMSwiaDEiLFtbImNsYXNzIiwidGl0bGUiXV0sbnVsbCxudWxsLG51bGwsbnVsbCxudWxsKSksKGUoKSgpLGFpKC0xLG51bGwsWyJFeHRlcm5hbCJdKSksKGUoKSgpLHJvKDQsMCxudWxsLG51bGwsMTksImRpdiIsW1siY2xhc3MiLCJjb250ZW50Il1dLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCkpLChlKCkoKSxybyg1LDAsbnVsbCxudWxsLDE4LCJkaXYiLFtbInN0eWxlIiwiaGVpZ2h0OjIwMHB4OyJdXSxudWxsLG51bGwsbnVsbCxudWxsLG51bGwpKSwoZSgpKCkscm8oNiwwLG51bGwsbnVsbCwwLCJiciIsW10sbnVsbCxudWxsLG51bGwsbnVsbCxudWxsKSksKGUoKSgpLHJvKDcsMCxudWxsLG51bGwsMTYsInRhYmxlIixbWyJjbGFzcyIsInRhYmxlIHRhYmxlLWNvbnRlbnNlZCJdXSxudWxsLG51bGwsbnVsbCxudWxsLG51bGwpKSwoZSgpKCkscm8oOCwwLG51bGwsbnVsbCwxNSwidGJvZHkiLFtdLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCkpLChlKCkoKSxybyg5LDAsbnVsbCxudWxsLDQsInRyIixbXSxudWxsLG51bGwsbnVsbCxudWxsLG51bGwpKSwoZSgpKCkscm8oMTAsMCxudWxsLG51bGwsMSwidGQiLFtdLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCkpLChlKCkoKSxhaSgtMSxudWxsLFsiQSJdKSksKGUoKSgpLHJvKDEyLDAsbnVsbCxudWxsLDEsInRkIixbXSxudWxsLG51bGwsbnVsbCxudWxsLG51bGwpKSwoZSgpKCksYWkoMTMsbnVsbCxbIiIsIiJdKSksKGUoKSgpLHJvKDE0LDAsbnVsbCxudWxsLDQsInRyIixbXSxudWxsLG51bGwsbnVsbCxudWxsLG51bGwpKSwoZSgpKCkscm8oMTUsMCxudWxsLG51bGwsMSwidGQiLFtdLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCkpLChlKCkoKSxhaSgtMSxudWxsLFsiQiJdKSksKGUoKSgpLHJvKDE3LDAsbnVsbCxudWxsLDEsInRkIixbXSxudWxsLG51bGwsbnVsbCxudWxsLG51bGwpKSwoZSgpKCksYWkoMTgsbnVsbCxbIiIsIiJdKSksKGUoKSgpLHJvKDE5LDAsbnVsbCxudWxsLDQsInRyIixbXSxudWxsLG51bGwsbnVsbCxudWxsLG51bGwpKSwoZSgpKCkscm8oMjAsMCxudWxsLG51bGwsMSwidGQiLFtdLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCkpLChlKCkoKSxhaSgtMSxudWxsLFsiQyJdKSksKGUoKSgpLHJvKDIyLDAsbnVsbCxudWxsLDEsInRkIixbXSxudWxsLG51bGwsbnVsbCxudWxsLG51bGwpKSwoZSgpKCksYWkoMjMsbnVsbCxbIiIsIiJdKSldLG51bGwsZnVuY3Rpb24oZSx0KXt2YXIgbj10LmNvbXBvbmVudDtlKHQsMTMsMCxuLmEpLGUodCwxOCwwLG4uYiksZSh0LDIzLDAsbi5jKX0pfXZhciBkdT1uZXcgRW8oIm5nLWNvbXBvbmVudCIsZXUsZnVuY3Rpb24oZSl7cmV0dXJuIGRpKDAsWyhlKCkoKSxybygwLDAsbnVsbCxudWxsLDEsIm5nLWNvbXBvbmVudCIsW10sbnVsbCxudWxsLG51bGwsbHUsY3UpKSwodD00OTE1MixuPWV1LHI9W10sbz1bXSxmdW5jdGlvbihlLHQsbixyLG8saSxzLHUsYSl7dmFyIGM9WnIobiksbD1jLm1hdGNoZWRRdWVyaWVzLGQ9Yy5yZWZlcmVuY2VzLGY9Yy5tYXRjaGVkUXVlcnlJZHM7YXx8KGE9W10pLHV8fCh1PVtdKSxpPUVlKGkpO3ZhciBwPXFyKHMsX2UobykpO3JldHVybntub2RlSW5kZXg6LTEscGFyZW50Om51bGwscmVuZGVyUGFyZW50Om51bGwsYmluZGluZ0luZGV4Oi0xLG91dHB1dEluZGV4Oi0xLGNoZWNrSW5kZXg6ZSxmbGFnczp0LGNoaWxkRmxhZ3M6MCxkaXJlY3RDaGlsZEZsYWdzOjAsY2hpbGRNYXRjaGVkUXVlcmllczowLG1hdGNoZWRRdWVyaWVzOmwsbWF0Y2hlZFF1ZXJ5SWRzOmYscmVmZXJlbmNlczpkLG5nQ29udGVudEluZGV4Oi0xLGNoaWxkQ291bnQ6cixiaW5kaW5nczp1LGJpbmRpbmdGbGFnczpubyh1KSxvdXRwdXRzOmEsZWxlbWVudDpudWxsLHByb3ZpZGVyOnt0b2tlbjpvLHZhbHVlOmksZGVwczpwfSx0ZXh0Om51bGwscXVlcnk6bnVsbCxuZ0NvbnRlbnQ6bnVsbH19KDEsdHw9MTYzODQsbnVsbCwwLG4sbixbXSxyLG8pKV0sbnVsbCxudWxsKTt2YXIgdCxuLHIsb30se2E6ImEiLGI6ImIiLGM6ImMifSx7fSxbXSksZnU9ZnVuY3Rpb24oKXt9LHB1PXZvaWQgMCxodT1bImVuIixbWyJhIiwicCJdLFsiQU0iLCJQTSJdLHB1XSxbWyJBTSIsIlBNIl0scHUscHVdLFtbIlMiLCJNIiwiVCIsIlciLCJUIiwiRiIsIlMiXSxbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdLFsiU3VuZGF5IiwiTW9uZGF5IiwiVHVlc2RheSIsIldlZG5lc2RheSIsIlRodXJzZGF5IiwiRnJpZGF5IiwiU2F0dXJkYXkiXSxbIlN1IiwiTW8iLCJUdSIsIldlIiwiVGgiLCJGciIsIlNhIl1dLHB1LFtbIkoiLCJGIiwiTSIsIkEiLCJNIiwiSiIsIkoiLCJBIiwiUyIsIk8iLCJOIiwiRCJdLFsiSmFuIiwiRmViIiwiTWFyIiwiQXByIiwiTWF5IiwiSnVuIiwiSnVsIiwiQXVnIiwiU2VwIiwiT2N0IiwiTm92IiwiRGVjIl0sWyJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciJdXSxwdSxbWyJCIiwiQSJdLFsiQkMiLCJBRCJdLFsiQmVmb3JlIENocmlzdCIsIkFubm8gRG9taW5pIl1dLDAsWzYsMF0sWyJNL2QveXkiLCJNTU0gZCwgeSIsIk1NTU0gZCwgeSIsIkVFRUUsIE1NTU0gZCwgeSJdLFsiaDptbSBhIiwiaDptbTpzcyBhIiwiaDptbTpzcyBhIHoiLCJoOm1tOnNzIGEgenp6eiJdLFsiezF9LCB7MH0iLHB1LCJ7MX0gJ2F0JyB7MH0iLHB1XSxbIi4iLCIsIiwiOyIsIiUiLCIrIiwiLSIsIkUiLCLDlyIsIuKAsCIsIuKIniIsIk5hTiIsIjoiXSxbIiMsIyMwLiMjIyIsIiMsIyMwJSIsIsKkIywjIzAuMDAiLCIjRTAiXSwiJCIsIlVTIERvbGxhciIse30sZnVuY3Rpb24oZSl7dmFyIHQ9TWF0aC5mbG9vcihNYXRoLmFicyhlKSksbj1lLnRvU3RyaW5nKCkucmVwbGFjZSgvXlteLl0qXC4/LywiIikubGVuZ3RoO3JldHVybiAxPT09dCYmMD09PW4/MTo1fV0sdnU9e30seXU9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5aZXJvPTBdPSJaZXJvIixlW2UuT25lPTFdPSJPbmUiLGVbZS5Ud289Ml09IlR3byIsZVtlLkZldz0zXT0iRmV3IixlW2UuTWFueT00XT0iTWFueSIsZVtlLk90aGVyPTVdPSJPdGhlciIsZX0oe30pO3ZhciBndT1uZXcgYWUoIlVzZVY0UGx1cmFscyIpLG11PWZ1bmN0aW9uKCl7fSxidT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLmxvY2FsZT10LHIuZGVwcmVjYXRlZFBsdXJhbEZuPW4scn1yZXR1cm4gbyh0LGUpLHQucHJvdG90eXBlLmdldFBsdXJhbENhdGVnb3J5PWZ1bmN0aW9uKGUsdCl7c3dpdGNoKHRoaXMuZGVwcmVjYXRlZFBsdXJhbEZuP3RoaXMuZGVwcmVjYXRlZFBsdXJhbEZuKHR8fHRoaXMubG9jYWxlLGUpOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCItIiksbj12dVt0XTtpZihuKXJldHVybiBuO3ZhciByPXQuc3BsaXQoIi0iKVswXTtpZihuPXZ1W3JdKXJldHVybiBuO2lmKCJlbiI9PT1yKXJldHVybiBodTt0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgbG9jYWxlIGRhdGEgZm9yIHRoZSBsb2NhbGUgIicrZSsnIi4nKX0oZSlbMThdfSh0fHx0aGlzLmxvY2FsZSkoZSkpe2Nhc2UgeXUuWmVybzpyZXR1cm4iemVybyI7Y2FzZSB5dS5PbmU6cmV0dXJuIm9uZSI7Y2FzZSB5dS5Ud286cmV0dXJuInR3byI7Y2FzZSB5dS5GZXc6cmV0dXJuImZldyI7Y2FzZSB5dS5NYW55OnJldHVybiJtYW55IjtkZWZhdWx0OnJldHVybiJvdGhlciJ9fSx0fShtdSksX3U9ZnVuY3Rpb24oKXt9LHd1PW5ldyBhZSgiRG9jdW1lbnRUb2tlbiIpLEV1PSJzZXJ2ZXIiLEN1PW51bGw7ZnVuY3Rpb24geHUoKXtyZXR1cm4gQ3V9dmFyIFR1LGt1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1lLmNhbGwodGhpcyl8fHRoaXM7dC5fYW5pbWF0aW9uUHJlZml4PW51bGwsdC5fdHJhbnNpdGlvbkVuZD1udWxsO3RyeXt2YXIgbj10LmNyZWF0ZUVsZW1lbnQoImRpdiIsZG9jdW1lbnQpO2lmKG51bGwhPXQuZ2V0U3R5bGUobiwiYW5pbWF0aW9uTmFtZSIpKXQuX2FuaW1hdGlvblByZWZpeD0iIjtlbHNlIGZvcih2YXIgcj1bIldlYmtpdCIsIk1veiIsIk8iLCJtcyJdLG89MDtvPHIubGVuZ3RoO28rKylpZihudWxsIT10LmdldFN0eWxlKG4scltvXSsiQW5pbWF0aW9uTmFtZSIpKXt0Ll9hbmltYXRpb25QcmVmaXg9Ii0iK3Jbb10udG9Mb3dlckNhc2UoKSsiLSI7YnJlYWt9dmFyIGk9e1dlYmtpdFRyYW5zaXRpb246IndlYmtpdFRyYW5zaXRpb25FbmQiLE1velRyYW5zaXRpb246InRyYW5zaXRpb25lbmQiLE9UcmFuc2l0aW9uOiJvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCIsdHJhbnNpdGlvbjoidHJhbnNpdGlvbmVuZCJ9O09iamVjdC5rZXlzKGkpLmZvckVhY2goZnVuY3Rpb24oZSl7bnVsbCE9dC5nZXRTdHlsZShuLGUpJiYodC5fdHJhbnNpdGlvbkVuZD1pW2VdKX0pfWNhdGNoKGUpe3QuX2FuaW1hdGlvblByZWZpeD1udWxsLHQuX3RyYW5zaXRpb25FbmQ9bnVsbH1yZXR1cm4gdH1yZXR1cm4gbyh0LGUpLHQucHJvdG90eXBlLmdldERpc3RyaWJ1dGVkTm9kZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0RGlzdHJpYnV0ZWROb2RlcygpfSx0LnByb3RvdHlwZS5yZXNvbHZlQW5kU2V0SHJlZj1mdW5jdGlvbihlLHQsbil7ZS5ocmVmPW51bGw9PW4/dDp0KyIvLi4vIitufSx0LnByb3RvdHlwZS5zdXBwb3J0c0RPTUV2ZW50cz1mdW5jdGlvbigpe3JldHVybiEwfSx0LnByb3RvdHlwZS5zdXBwb3J0c05hdGl2ZVNoYWRvd0RPTT1mdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBkb2N1bWVudC5ib2R5LmNyZWF0ZVNoYWRvd1Jvb3R9LHQucHJvdG90eXBlLmdldEFuaW1hdGlvblByZWZpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbmltYXRpb25QcmVmaXg/dGhpcy5fYW5pbWF0aW9uUHJlZml4OiIifSx0LnByb3RvdHlwZS5nZXRUcmFuc2l0aW9uRW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25FbmQ/dGhpcy5fdHJhbnNpdGlvbkVuZDoiIn0sdC5wcm90b3R5cGUuc3VwcG9ydHNBbmltYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5fYW5pbWF0aW9uUHJlZml4JiZudWxsIT10aGlzLl90cmFuc2l0aW9uRW5kfSx0fShmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnJlc291cmNlTG9hZGVyVHlwZT1udWxsfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImF0dHJUb1Byb3BNYXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXR0clRvUHJvcE1hcH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2F0dHJUb1Byb3BNYXA9ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlfSgpKSxJdT17Y2xhc3M6ImNsYXNzTmFtZSIsaW5uZXJIdG1sOiJpbm5lckhUTUwiLHJlYWRvbmx5OiJyZWFkT25seSIsdGFiaW5kZXg6InRhYkluZGV4In0sU3U9eyJcYiI6IkJhY2tzcGFjZSIsIlx0IjoiVGFiIiwifyI6IkRlbGV0ZSIsIhsiOiJFc2NhcGUiLERlbDoiRGVsZXRlIixFc2M6IkVzY2FwZSIsTGVmdDoiQXJyb3dMZWZ0IixSaWdodDoiQXJyb3dSaWdodCIsVXA6IkFycm93VXAiLERvd246IkFycm93RG93biIsTWVudToiQ29udGV4dE1lbnUiLFNjcm9sbDoiU2Nyb2xsTG9jayIsV2luOiJPUyJ9LE51PXtBOiIxIixCOiIyIixDOiIzIixEOiI0IixFOiI1IixGOiI2IixHOiI3IixIOiI4IixJOiI5IixKOiIqIixLOiIrIixNOiItIixOOiIuIixPOiIvIiwiYCI6IjAiLCLCkCI6Ik51bUxvY2sifTtoZS5Ob2RlJiYoVHU9aGUuTm9kZS5wcm90b3R5cGUuY29udGFpbnN8fGZ1bmN0aW9uKGUpe3JldHVybiEhKDE2JnRoaXMuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZSkpfSk7dmFyIEF1LER1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBvKHQsZSksdC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJwYXJzZSBub3QgaW1wbGVtZW50ZWQiKX0sdC5tYWtlQ3VycmVudD1mdW5jdGlvbigpe3ZhciBlO2U9bmV3IHQsQ3V8fChDdT1lKX0sdC5wcm90b3R5cGUuaGFzUHJvcGVydHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCBpbiBlfSx0LnByb3RvdHlwZS5zZXRQcm9wZXJ0eT1mdW5jdGlvbihlLHQsbil7ZVt0XT1ufSx0LnByb3RvdHlwZS5nZXRQcm9wZXJ0eT1mdW5jdGlvbihlLHQpe3JldHVybiBlW3RdfSx0LnByb3RvdHlwZS5pbnZva2U9ZnVuY3Rpb24oZSx0LG4pe3ZhciByOyhyPWUpW3RdLmFwcGx5KHIsYShuKSl9LHQucHJvdG90eXBlLmxvZ0Vycm9yPWZ1bmN0aW9uKGUpe3dpbmRvdy5jb25zb2xlJiYoY29uc29sZS5lcnJvcj9jb25zb2xlLmVycm9yKGUpOmNvbnNvbGUubG9nKGUpKX0sdC5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKGUpe3dpbmRvdy5jb25zb2xlJiZ3aW5kb3cuY29uc29sZS5sb2cmJndpbmRvdy5jb25zb2xlLmxvZyhlKX0sdC5wcm90b3R5cGUubG9nR3JvdXA9ZnVuY3Rpb24oZSl7d2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmdyb3VwJiZ3aW5kb3cuY29uc29sZS5ncm91cChlKX0sdC5wcm90b3R5cGUubG9nR3JvdXBFbmQ9ZnVuY3Rpb24oKXt3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUuZ3JvdXBFbmQmJndpbmRvdy5jb25zb2xlLmdyb3VwRW5kKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiYXR0clRvUHJvcE1hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiBJdX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlLHQpe3JldHVybiBUdS5jYWxsKGUsdCl9LHQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3I9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5xdWVyeVNlbGVjdG9yKHQpfSx0LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucXVlcnlTZWxlY3RvckFsbCh0KX0sdC5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0LG4pe2UuYWRkRXZlbnRMaXN0ZW5lcih0LG4sITEpfSx0LnByb3RvdHlwZS5vbkFuZENhbmNlbD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuYWRkRXZlbnRMaXN0ZW5lcih0LG4sITEpLGZ1bmN0aW9uKCl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbiwhMSl9fSx0LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGUsdCl7ZS5kaXNwYXRjaEV2ZW50KHQpfSx0LnByb3RvdHlwZS5jcmVhdGVNb3VzZUV2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0RGVmYXVsdERvY3VtZW50KCkuY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnQiKTtyZXR1cm4gdC5pbml0RXZlbnQoZSwhMCwhMCksdH0sdC5wcm90b3R5cGUuY3JlYXRlRXZlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXREZWZhdWx0RG9jdW1lbnQoKS5jcmVhdGVFdmVudCgiRXZlbnQiKTtyZXR1cm4gdC5pbml0RXZlbnQoZSwhMCwhMCksdH0sdC5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUucmV0dXJuVmFsdWU9ITF9LHQucHJvdG90eXBlLmlzUHJldmVudGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlLmRlZmF1bHRQcmV2ZW50ZWR8fG51bGwhPWUucmV0dXJuVmFsdWUmJiFlLnJldHVyblZhbHVlfSx0LnByb3RvdHlwZS5nZXRJbm5lckhUTUw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MfSx0LnByb3RvdHlwZS5nZXRUZW1wbGF0ZUNvbnRlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuImNvbnRlbnQiaW4gZSYmdGhpcy5pc1RlbXBsYXRlRWxlbWVudChlKT9lLmNvbnRlbnQ6bnVsbH0sdC5wcm90b3R5cGUuZ2V0T3V0ZXJIVE1MPWZ1bmN0aW9uKGUpe3JldHVybiBlLm91dGVySFRNTH0sdC5wcm90b3R5cGUubm9kZU5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWV9LHQucHJvdG90eXBlLm5vZGVWYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlVmFsdWV9LHQucHJvdG90eXBlLnR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZX0sdC5wcm90b3R5cGUuY29udGVudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5oYXNQcm9wZXJ0eShlLCJjb250ZW50Iik/ZS5jb250ZW50OmV9LHQucHJvdG90eXBlLmZpcnN0Q2hpbGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZmlyc3RDaGlsZH0sdC5wcm90b3R5cGUubmV4dFNpYmxpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubmV4dFNpYmxpbmd9LHQucHJvdG90eXBlLnBhcmVudEVsZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZX0sdC5wcm90b3R5cGUuY2hpbGROb2Rlcz1mdW5jdGlvbihlKXtyZXR1cm4gZS5jaGlsZE5vZGVzfSx0LnByb3RvdHlwZS5jaGlsZE5vZGVzQXNMaXN0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmNoaWxkTm9kZXMsbj1uZXcgQXJyYXkodC5sZW5ndGgpLHI9MDtyPHQubGVuZ3RoO3IrKyluW3JdPXRbcl07cmV0dXJuIG59LHQucHJvdG90eXBlLmNsZWFyTm9kZXM9ZnVuY3Rpb24oZSl7Zm9yKDtlLmZpcnN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKX0sdC5wcm90b3R5cGUuYXBwZW5kQ2hpbGQ9ZnVuY3Rpb24oZSx0KXtlLmFwcGVuZENoaWxkKHQpfSx0LnByb3RvdHlwZS5yZW1vdmVDaGlsZD1mdW5jdGlvbihlLHQpe2UucmVtb3ZlQ2hpbGQodCl9LHQucHJvdG90eXBlLnJlcGxhY2VDaGlsZD1mdW5jdGlvbihlLHQsbil7ZS5yZXBsYWNlQ2hpbGQodCxuKX0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxlfSx0LnByb3RvdHlwZS5pbnNlcnRCZWZvcmU9ZnVuY3Rpb24oZSx0LG4pe2UuaW5zZXJ0QmVmb3JlKG4sdCl9LHQucHJvdG90eXBlLmluc2VydEFsbEJlZm9yZT1mdW5jdGlvbihlLHQsbil7bi5mb3JFYWNoKGZ1bmN0aW9uKG4pe3JldHVybiBlLmluc2VydEJlZm9yZShuLHQpfSl9LHQucHJvdG90eXBlLmluc2VydEFmdGVyPWZ1bmN0aW9uKGUsdCxuKXtlLmluc2VydEJlZm9yZShuLHQubmV4dFNpYmxpbmcpfSx0LnByb3RvdHlwZS5zZXRJbm5lckhUTUw9ZnVuY3Rpb24oZSx0KXtlLmlubmVySFRNTD10fSx0LnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnRleHRDb250ZW50fSx0LnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKGUsdCl7ZS50ZXh0Q29udGVudD10fSx0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gZS52YWx1ZX0sdC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oZSx0KXtlLnZhbHVlPXR9LHQucHJvdG90eXBlLmdldENoZWNrZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hlY2tlZH0sdC5wcm90b3R5cGUuc2V0Q2hlY2tlZD1mdW5jdGlvbihlLHQpe2UuY2hlY2tlZD10fSx0LnByb3RvdHlwZS5jcmVhdGVDb21tZW50PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldERlZmF1bHREb2N1bWVudCgpLmNyZWF0ZUNvbW1lbnQoZSl9LHQucHJvdG90eXBlLmNyZWF0ZVRlbXBsYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0RGVmYXVsdERvY3VtZW50KCkuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTtyZXR1cm4gdC5pbm5lckhUTUw9ZSx0fSx0LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQ9dHx8dGhpcy5nZXREZWZhdWx0RG9jdW1lbnQoKSkuY3JlYXRlRWxlbWVudChlKX0sdC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudE5TPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4obj1ufHx0aGlzLmdldERlZmF1bHREb2N1bWVudCgpKS5jcmVhdGVFbGVtZW50TlMoZSx0KX0sdC5wcm90b3R5cGUuY3JlYXRlVGV4dE5vZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4odD10fHx0aGlzLmdldERlZmF1bHREb2N1bWVudCgpKS5jcmVhdGVUZXh0Tm9kZShlKX0sdC5wcm90b3R5cGUuY3JlYXRlU2NyaXB0VGFnPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0obj1ufHx0aGlzLmdldERlZmF1bHREb2N1bWVudCgpKS5jcmVhdGVFbGVtZW50KCJTQ1JJUFQiKTtyZXR1cm4gci5zZXRBdHRyaWJ1dGUoZSx0KSxyfSx0LnByb3RvdHlwZS5jcmVhdGVTdHlsZUVsZW1lbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj0odD10fHx0aGlzLmdldERlZmF1bHREb2N1bWVudCgpKS5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3JldHVybiB0aGlzLmFwcGVuZENoaWxkKG4sdGhpcy5jcmVhdGVUZXh0Tm9kZShlLHQpKSxufSx0LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290PWZ1bmN0aW9uKGUpe3JldHVybiBlLmNyZWF0ZVNoYWRvd1Jvb3QoKX0sdC5wcm90b3R5cGUuZ2V0U2hhZG93Um9vdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5zaGFkb3dSb290fSx0LnByb3RvdHlwZS5nZXRIb3N0PWZ1bmN0aW9uKGUpe3JldHVybiBlLmhvc3R9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNsb25lTm9kZSghMCl9LHQucHJvdG90eXBlLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHQpfSx0LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnTmFtZT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lKHQpfSx0LnByb3RvdHlwZS5jbGFzc0xpc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUuY2xhc3NMaXN0LDApfSx0LnByb3RvdHlwZS5hZGRDbGFzcz1mdW5jdGlvbihlLHQpe2UuY2xhc3NMaXN0LmFkZCh0KX0sdC5wcm90b3R5cGUucmVtb3ZlQ2xhc3M9ZnVuY3Rpb24oZSx0KXtlLmNsYXNzTGlzdC5yZW1vdmUodCl9LHQucHJvdG90eXBlLmhhc0NsYXNzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY2xhc3NMaXN0LmNvbnRhaW5zKHQpfSx0LnByb3RvdHlwZS5zZXRTdHlsZT1mdW5jdGlvbihlLHQsbil7ZS5zdHlsZVt0XT1ufSx0LnByb3RvdHlwZS5yZW1vdmVTdHlsZT1mdW5jdGlvbihlLHQpe2Uuc3R5bGVbdF09IiJ9LHQucHJvdG90eXBlLmdldFN0eWxlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3R5bGVbdF19LHQucHJvdG90eXBlLmhhc1N0eWxlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLmdldFN0eWxlKGUsdCl8fCIiO3JldHVybiBuP3I9PW46ci5sZW5ndGg+MH0sdC5wcm90b3R5cGUudGFnTmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gZS50YWdOYW1lfSx0LnByb3RvdHlwZS5hdHRyaWJ1dGVNYXA9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBNYXAsbj1lLmF0dHJpYnV0ZXMscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz1uLml0ZW0ocik7dC5zZXQoby5uYW1lLG8udmFsdWUpfXJldHVybiB0fSx0LnByb3RvdHlwZS5oYXNBdHRyaWJ1dGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5oYXNBdHRyaWJ1dGUodCl9LHQucHJvdG90eXBlLmhhc0F0dHJpYnV0ZU5TPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5oYXNBdHRyaWJ1dGVOUyh0LG4pfSx0LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUodCl9LHQucHJvdG90eXBlLmdldEF0dHJpYnV0ZU5TPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGVOUyh0LG4pfSx0LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oZSx0LG4pe2Uuc2V0QXR0cmlidXRlKHQsbil9LHQucHJvdG90eXBlLnNldEF0dHJpYnV0ZU5TPWZ1bmN0aW9uKGUsdCxuLHIpe2Uuc2V0QXR0cmlidXRlTlModCxuLHIpfSx0LnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24oZSx0KXtlLnJlbW92ZUF0dHJpYnV0ZSh0KX0sdC5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlTlM9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlQXR0cmlidXRlTlModCxuKX0sdC5wcm90b3R5cGUudGVtcGxhdGVBd2FyZVJvb3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNUZW1wbGF0ZUVsZW1lbnQoZSk/dGhpcy5jb250ZW50KGUpOmV9LHQucHJvdG90eXBlLmNyZWF0ZUh0bWxEb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoImZha2VUaXRsZSIpfSx0LnByb3RvdHlwZS5nZXREZWZhdWx0RG9jdW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnR9LHQucHJvdG90eXBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdD1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9Y2F0Y2goZSl7cmV0dXJue3RvcDowLGJvdHRvbTowLGxlZnQ6MCxyaWdodDowLHdpZHRoOjAsaGVpZ2h0OjB9fX0sdC5wcm90b3R5cGUuZ2V0VGl0bGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudGl0bGV9LHQucHJvdG90eXBlLnNldFRpdGxlPWZ1bmN0aW9uKGUsdCl7ZS50aXRsZT10fHwiIn0sdC5wcm90b3R5cGUuZWxlbWVudE1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIXRoaXMuaXNFbGVtZW50Tm9kZShlKSYmKGUubWF0Y2hlcyYmZS5tYXRjaGVzKHQpfHxlLm1zTWF0Y2hlc1NlbGVjdG9yJiZlLm1zTWF0Y2hlc1NlbGVjdG9yKHQpfHxlLndlYmtpdE1hdGNoZXNTZWxlY3RvciYmZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IodCkpfSx0LnByb3RvdHlwZS5pc1RlbXBsYXRlRWxlbWVudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pc0VsZW1lbnROb2RlKGUpJiYiVEVNUExBVEUiPT09ZS5ub2RlTmFtZX0sdC5wcm90b3R5cGUuaXNUZXh0Tm9kZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFfSx0LnByb3RvdHlwZS5pc0NvbW1lbnROb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVUeXBlPT09Tm9kZS5DT01NRU5UX05PREV9LHQucHJvdG90eXBlLmlzRWxlbWVudE5vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERX0sdC5wcm90b3R5cGUuaGFzU2hhZG93Um9vdD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZS5zaGFkb3dSb290JiZlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnR9LHQucHJvdG90eXBlLmlzU2hhZG93Um9vdD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnR9LHQucHJvdG90eXBlLmltcG9ydEludG9Eb2M9ZnVuY3Rpb24oZSl7cmV0dXJuIGRvY3VtZW50LmltcG9ydE5vZGUodGhpcy50ZW1wbGF0ZUF3YXJlUm9vdChlKSwhMCl9LHQucHJvdG90eXBlLmFkb3B0Tm9kZT1mdW5jdGlvbihlKXtyZXR1cm4gZG9jdW1lbnQuYWRvcHROb2RlKGUpfSx0LnByb3RvdHlwZS5nZXRIcmVmPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSx0LnByb3RvdHlwZS5nZXRFdmVudEtleT1mdW5jdGlvbihlKXt2YXIgdD1lLmtleTtpZihudWxsPT10KXtpZihudWxsPT0odD1lLmtleUlkZW50aWZpZXIpKXJldHVybiJVbmlkZW50aWZpZWQiO3Quc3RhcnRzV2l0aCgiVSsiKSYmKHQ9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludCh0LnN1YnN0cmluZygyKSwxNikpLDM9PT1lLmxvY2F0aW9uJiZOdS5oYXNPd25Qcm9wZXJ0eSh0KSYmKHQ9TnVbdF0pKX1yZXR1cm4gU3VbdF18fHR9LHQucHJvdG90eXBlLmdldEdsb2JhbEV2ZW50VGFyZ2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIndpbmRvdyI9PT10P3dpbmRvdzoiZG9jdW1lbnQiPT09dD9lOiJib2R5Ij09PXQ/ZS5ib2R5Om51bGx9LHQucHJvdG90eXBlLmdldEhpc3Rvcnk9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93Lmhpc3Rvcnl9LHQucHJvdG90eXBlLmdldExvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5sb2NhdGlvbn0sdC5wcm90b3R5cGUuZ2V0QmFzZUhyZWY9ZnVuY3Rpb24oZSl7dmFyIHQ9T3V8fChPdT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJiYXNlIikpP091LmdldEF0dHJpYnV0ZSgiaHJlZiIpOm51bGw7cmV0dXJuIG51bGw9PXQ/bnVsbDpmdW5jdGlvbihlKXtyZXR1cm4gQXV8fChBdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpLEF1LnNldEF0dHJpYnV0ZSgiaHJlZiIsZSksIi8iPT09QXUucGF0aG5hbWUuY2hhckF0KDApP0F1LnBhdGhuYW1lOiIvIitBdS5wYXRobmFtZX0odCl9LHQucHJvdG90eXBlLnJlc2V0QmFzZUVsZW1lbnQ9ZnVuY3Rpb24oKXtPdT1udWxsfSx0LnByb3RvdHlwZS5nZXRVc2VyQWdlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnR9LHQucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuc2V0QXR0cmlidXRlKGUsImRhdGEtIit0LG4pfSx0LnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKGUsImRhdGEtIit0KX0sdC5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRTdHlsZT1mdW5jdGlvbihlKXtyZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShlKX0sdC5wcm90b3R5cGUuc3VwcG9ydHNXZWJBbmltYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgRWxlbWVudC5wcm90b3R5cGUuYW5pbWF0ZX0sdC5wcm90b3R5cGUucGVyZm9ybWFuY2VOb3c9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3coKToobmV3IERhdGUpLmdldFRpbWUoKX0sdC5wcm90b3R5cGUuc3VwcG9ydHNDb29raWVzPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHQucHJvdG90eXBlLmdldENvb2tpZT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt0PWVuY29kZVVSSUNvbXBvbmVudCh0KTt0cnl7Zm9yKHZhciBuPXMoZS5zcGxpdCgiOyIpKSxyPW4ubmV4dCgpOyFyLmRvbmU7cj1uLm5leHQoKSl7dmFyIG89ci52YWx1ZSxpPW8uaW5kZXhPZigiPSIpLGE9dSgtMT09aT9bbywiIl06W28uc2xpY2UoMCxpKSxvLnNsaWNlKGkrMSldLDIpLGM9YVswXSxsPWFbMV07aWYoYy50cmltKCk9PT10KXJldHVybiBkZWNvZGVVUklDb21wb25lbnQobCl9fWNhdGNoKGUpe2Q9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e3ImJiFyLmRvbmUmJihmPW4ucmV0dXJuKSYmZi5jYWxsKG4pfWZpbmFsbHl7aWYoZCl0aHJvdyBkLmVycm9yfX1yZXR1cm4gbnVsbDt2YXIgZCxmfShkb2N1bWVudC5jb29raWUsZSl9LHQucHJvdG90eXBlLnNldENvb2tpZT1mdW5jdGlvbihlLHQpe2RvY3VtZW50LmNvb2tpZT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudCh0KX0sdH0oa3UpLE91PW51bGwsUHU9d3U7ZnVuY3Rpb24gUnUoKXtyZXR1cm4hIXdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZX12YXIgTXU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uX2RvYz10LG4uX2luaXQoKSxufXJldHVybiBvKHQsZSksdC5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXt0aGlzLmxvY2F0aW9uPXh1KCkuZ2V0TG9jYXRpb24oKSx0aGlzLl9oaXN0b3J5PXh1KCkuZ2V0SGlzdG9yeSgpfSx0LnByb3RvdHlwZS5nZXRCYXNlSHJlZkZyb21ET009ZnVuY3Rpb24oKXtyZXR1cm4geHUoKS5nZXRCYXNlSHJlZih0aGlzLl9kb2MpfSx0LnByb3RvdHlwZS5vblBvcFN0YXRlPWZ1bmN0aW9uKGUpe3h1KCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQodGhpcy5fZG9jLCJ3aW5kb3ciKS5hZGRFdmVudExpc3RlbmVyKCJwb3BzdGF0ZSIsZSwhMSl9LHQucHJvdG90eXBlLm9uSGFzaENoYW5nZT1mdW5jdGlvbihlKXt4dSgpLmdldEdsb2JhbEV2ZW50VGFyZ2V0KHRoaXMuX2RvYywid2luZG93IikuYWRkRXZlbnRMaXN0ZW5lcigiaGFzaGNoYW5nZSIsZSwhMSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwicGF0aG5hbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5wYXRobmFtZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMubG9jYXRpb24ucGF0aG5hbWU9ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInNlYXJjaCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2F0aW9uLnNlYXJjaH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsImhhc2giLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5oYXNofSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnB1c2hTdGF0ZT1mdW5jdGlvbihlLHQsbil7UnUoKT90aGlzLl9oaXN0b3J5LnB1c2hTdGF0ZShlLHQsbik6dGhpcy5sb2NhdGlvbi5oYXNoPW59LHQucHJvdG90eXBlLnJlcGxhY2VTdGF0ZT1mdW5jdGlvbihlLHQsbil7UnUoKT90aGlzLl9oaXN0b3J5LnJlcGxhY2VTdGF0ZShlLHQsbik6dGhpcy5sb2NhdGlvbi5oYXNoPW59LHQucHJvdG90eXBlLmZvcndhcmQ9ZnVuY3Rpb24oKXt0aGlzLl9oaXN0b3J5LmZvcndhcmQoKX0sdC5wcm90b3R5cGUuYmFjaz1mdW5jdGlvbigpe3RoaXMuX2hpc3RvcnkuYmFjaygpfSx0LmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOnZvaWQgMCxkZWNvcmF0b3JzOlt7dHlwZTpDZSxhcmdzOltQdV19XX1dfSx0fShmdSksVnU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2RvYz1lLHRoaXMuX2RvbT14dSgpfXJldHVybiBlLnByb3RvdHlwZS5hZGRUYWc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITEpLGU/dGhpcy5fZ2V0T3JDcmVhdGVFbGVtZW50KGUsdCk6bnVsbH0sZS5wcm90b3R5cGUuYWRkVGFncz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHZvaWQgMD09PXQmJih0PSExKSxlP2UucmVkdWNlKGZ1bmN0aW9uKGUscil7cmV0dXJuIHImJmUucHVzaChuLl9nZXRPckNyZWF0ZUVsZW1lbnQocix0KSksZX0sW10pOltdfSxlLnByb3RvdHlwZS5nZXRUYWc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMuX2RvbS5xdWVyeVNlbGVjdG9yKHRoaXMuX2RvYywibWV0YVsiK2UrIl0iKXx8bnVsbH0sZS5wcm90b3R5cGUuZ2V0VGFncz1mdW5jdGlvbihlKXtpZighZSlyZXR1cm5bXTt2YXIgdD10aGlzLl9kb20ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9kb2MsIm1ldGFbIitlKyJdIik7cmV0dXJuIHQ/W10uc2xpY2UuY2FsbCh0KTpbXX0sZS5wcm90b3R5cGUudXBkYXRlVGFnPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuIG51bGw7dD10fHx0aGlzLl9wYXJzZVNlbGVjdG9yKGUpO3ZhciBuPXRoaXMuZ2V0VGFnKHQpO3JldHVybiBuP3RoaXMuX3NldE1ldGFFbGVtZW50QXR0cmlidXRlcyhlLG4pOnRoaXMuX2dldE9yQ3JlYXRlRWxlbWVudChlLCEwKX0sZS5wcm90b3R5cGUucmVtb3ZlVGFnPWZ1bmN0aW9uKGUpe3RoaXMucmVtb3ZlVGFnRWxlbWVudCh0aGlzLmdldFRhZyhlKSl9LGUucHJvdG90eXBlLnJlbW92ZVRhZ0VsZW1lbnQ9ZnVuY3Rpb24oZSl7ZSYmdGhpcy5fZG9tLnJlbW92ZShlKX0sZS5wcm90b3R5cGUuX2dldE9yQ3JlYXRlRWxlbWVudD1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PSExKSwhdCl7dmFyIG49dGhpcy5fcGFyc2VTZWxlY3RvcihlKSxyPXRoaXMuZ2V0VGFnKG4pO2lmKHImJnRoaXMuX2NvbnRhaW5zQXR0cmlidXRlcyhlLHIpKXJldHVybiByfXZhciBvPXRoaXMuX2RvbS5jcmVhdGVFbGVtZW50KCJtZXRhIik7dGhpcy5fc2V0TWV0YUVsZW1lbnRBdHRyaWJ1dGVzKGUsbyk7dmFyIGk9dGhpcy5fZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRoaXMuX2RvYywiaGVhZCIpWzBdO3JldHVybiB0aGlzLl9kb20uYXBwZW5kQ2hpbGQoaSxvKSxvfSxlLnByb3RvdHlwZS5fc2V0TWV0YUVsZW1lbnRBdHRyaWJ1dGVzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihyKXtyZXR1cm4gbi5fZG9tLnNldEF0dHJpYnV0ZSh0LHIsZVtyXSl9KSx0fSxlLnByb3RvdHlwZS5fcGFyc2VTZWxlY3Rvcj1mdW5jdGlvbihlKXt2YXIgdD1lLm5hbWU/Im5hbWUiOiJwcm9wZXJ0eSI7cmV0dXJuIHQrJz0iJytlW3RdKyciJ30sZS5wcm90b3R5cGUuX2NvbnRhaW5zQXR0cmlidXRlcz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmV2ZXJ5KGZ1bmN0aW9uKHIpe3JldHVybiBuLl9kb20uZ2V0QXR0cmlidXRlKHQscik9PT1lW3JdfSl9LGV9KCksanU9bmV3IGFlKCJUUkFOU0lUSU9OX0lEIiksSHU9W3twcm92aWRlOml0LHVzZUZhY3Rvcnk6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbigpe24uZ2V0KHN0KS5kb25lUHJvbWlzZS50aGVuKGZ1bmN0aW9uKCl7dmFyIG49eHUoKTtBcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkobi5xdWVyeVNlbGVjdG9yQWxsKHQsInN0eWxlW25nLXRyYW5zaXRpb25dIikpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gbi5nZXRBdHRyaWJ1dGUodCwibmctdHJhbnNpdGlvbiIpPT09ZX0pLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIG4ucmVtb3ZlKGUpfSl9KX19LGRlcHM6W2p1LFB1LERlXSxtdWx0aTohMH1dLEZ1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5pbml0PWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGUpe1p0PWV9KG5ldyBlKX0sZS5wcm90b3R5cGUuYWRkVG9XaW5kb3c9ZnVuY3Rpb24oZSl7aGUuZ2V0QW5ndWxhclRlc3RhYmlsaXR5PWZ1bmN0aW9uKHQsbil7dm9pZCAwPT09biYmKG49ITApO3ZhciByPWUuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHQsbik7aWYobnVsbD09cil0aHJvdyBuZXcgRXJyb3IoIkNvdWxkIG5vdCBmaW5kIHRlc3RhYmlsaXR5IGZvciBlbGVtZW50LiIpO3JldHVybiByfSxoZS5nZXRBbGxBbmd1bGFyVGVzdGFiaWxpdGllcz1mdW5jdGlvbigpe3JldHVybiBlLmdldEFsbFRlc3RhYmlsaXRpZXMoKX0saGUuZ2V0QWxsQW5ndWxhclJvb3RFbGVtZW50cz1mdW5jdGlvbigpe3JldHVybiBlLmdldEFsbFJvb3RFbGVtZW50cygpfSxoZS5mcmFtZXdvcmtTdGFiaWxpemVyc3x8KGhlLmZyYW1ld29ya1N0YWJpbGl6ZXJzPVtdKSxoZS5mcmFtZXdvcmtTdGFiaWxpemVycy5wdXNoKGZ1bmN0aW9uKGUpe3ZhciB0PWhlLmdldEFsbEFuZ3VsYXJUZXN0YWJpbGl0aWVzKCksbj10Lmxlbmd0aCxyPSExLG89ZnVuY3Rpb24odCl7cj1yfHx0LDA9PS0tbiYmZShyKX07dC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uud2hlblN0YWJsZShvKX0pfSl9LGUucHJvdG90eXBlLmZpbmRUZXN0YWJpbGl0eUluVHJlZT1mdW5jdGlvbihlLHQsbil7aWYobnVsbD09dClyZXR1cm4gbnVsbDt2YXIgcj1lLmdldFRlc3RhYmlsaXR5KHQpO3JldHVybiBudWxsIT1yP3I6bj94dSgpLmlzU2hhZG93Um9vdCh0KT90aGlzLmZpbmRUZXN0YWJpbGl0eUluVHJlZShlLHh1KCkuZ2V0SG9zdCh0KSwhMCk6dGhpcy5maW5kVGVzdGFiaWxpdHlJblRyZWUoZSx4dSgpLnBhcmVudEVsZW1lbnQodCksITApOm51bGx9LGV9KCksTHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2RvYz1lfXJldHVybiBlLnByb3RvdHlwZS5nZXRUaXRsZT1mdW5jdGlvbigpe3JldHVybiB4dSgpLmdldFRpdGxlKHRoaXMuX2RvYyl9LGUucHJvdG90eXBlLnNldFRpdGxlPWZ1bmN0aW9uKGUpe3h1KCkuc2V0VGl0bGUodGhpcy5fZG9jLGUpfSxlfSgpO2Z1bmN0aW9uIEJ1KGUsdCl7InVuZGVmaW5lZCIhPXR5cGVvZiBDT01QSUxFRCYmQ09NUElMRUR8fCgoaGUubmc9aGUubmd8fHt9KVtlXT10KX12YXIgenU9e0FwcGxpY2F0aW9uUmVmOmVuLE5nWm9uZTpSdH0sVXU9InByb2JlIixadT0iY29yZVRva2VucyI7ZnVuY3Rpb24gcXUoZSl7cmV0dXJuIHluKGUpfWZ1bmN0aW9uIFF1KGUpe3JldHVybiBCdShVdSxxdSksQnUoWnUsaSh7fSx6dSxmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0Lm5hbWVdPXQudG9rZW4sZX0se30pfShlfHxbXSkpKSxmdW5jdGlvbigpe3JldHVybiBxdX19dmFyIFd1PW5ldyBhZSgiRXZlbnRNYW5hZ2VyUGx1Z2lucyIpLEt1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZhciBuPXRoaXM7dGhpcy5fem9uZT10LHRoaXMuX2V2ZW50TmFtZVRvUGx1Z2luPW5ldyBNYXAsZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1hbmFnZXI9bn0pLHRoaXMuX3BsdWdpbnM9ZS5zbGljZSgpLnJldmVyc2UoKX1yZXR1cm4gZS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuX2ZpbmRQbHVnaW5Gb3IodCkuYWRkRXZlbnRMaXN0ZW5lcihlLHQsbil9LGUucHJvdG90eXBlLmFkZEdsb2JhbEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLl9maW5kUGx1Z2luRm9yKHQpLmFkZEdsb2JhbEV2ZW50TGlzdGVuZXIoZSx0LG4pfSxlLnByb3RvdHlwZS5nZXRab25lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pvbmV9LGUucHJvdG90eXBlLl9maW5kUGx1Z2luRm9yPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2V2ZW50TmFtZVRvUGx1Z2luLmdldChlKTtpZih0KXJldHVybiB0O2Zvcih2YXIgbj10aGlzLl9wbHVnaW5zLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXTtpZihvLnN1cHBvcnRzKGUpKXJldHVybiB0aGlzLl9ldmVudE5hbWVUb1BsdWdpbi5zZXQoZSxvKSxvfXRocm93IG5ldyBFcnJvcigiTm8gZXZlbnQgbWFuYWdlciBwbHVnaW4gZm91bmQgZm9yIGV2ZW50ICIrZSl9LGV9KCksR3U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2RvYz1lfXJldHVybiBlLnByb3RvdHlwZS5hZGRHbG9iYWxFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj14dSgpLmdldEdsb2JhbEV2ZW50VGFyZ2V0KHRoaXMuX2RvYyxlKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIGV2ZW50IHRhcmdldCAiK3IrIiBmb3IgZXZlbnQgIit0KTtyZXR1cm4gdGhpcy5hZGRFdmVudExpc3RlbmVyKHIsdCxuKX0sZX0oKSxZdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9zdHlsZXNTZXQ9bmV3IFNldH1yZXR1cm4gZS5wcm90b3R5cGUuYWRkU3R5bGVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1uZXcgU2V0O2UuZm9yRWFjaChmdW5jdGlvbihlKXt0Ll9zdHlsZXNTZXQuaGFzKGUpfHwodC5fc3R5bGVzU2V0LmFkZChlKSxuLmFkZChlKSl9KSx0aGlzLm9uU3R5bGVzQWRkZWQobil9LGUucHJvdG90eXBlLm9uU3R5bGVzQWRkZWQ9ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5nZXRBbGxTdHlsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9zdHlsZXNTZXQpfSxlfSgpLEp1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLl9kb2M9dCxuLl9ob3N0Tm9kZXM9bmV3IFNldCxuLl9zdHlsZU5vZGVzPW5ldyBTZXQsbi5faG9zdE5vZGVzLmFkZCh0LmhlYWQpLG59cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5fYWRkU3R5bGVzVG9Ib3N0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9bi5fZG9jLmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7ci50ZXh0Q29udGVudD1lLG4uX3N0eWxlTm9kZXMuYWRkKHQuYXBwZW5kQ2hpbGQocikpfSl9LHQucHJvdG90eXBlLmFkZEhvc3Q9ZnVuY3Rpb24oZSl7dGhpcy5fYWRkU3R5bGVzVG9Ib3N0KHRoaXMuX3N0eWxlc1NldCxlKSx0aGlzLl9ob3N0Tm9kZXMuYWRkKGUpfSx0LnByb3RvdHlwZS5yZW1vdmVIb3N0PWZ1bmN0aW9uKGUpe3RoaXMuX2hvc3ROb2Rlcy5kZWxldGUoZSl9LHQucHJvdG90eXBlLm9uU3R5bGVzQWRkZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9ob3N0Tm9kZXMuZm9yRWFjaChmdW5jdGlvbihuKXtyZXR1cm4gdC5fYWRkU3R5bGVzVG9Ib3N0KGUsbil9KX0sdC5wcm90b3R5cGUubmdPbkRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9zdHlsZU5vZGVzLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHh1KCkucmVtb3ZlKGUpfSl9LHR9KFl1KSwkdT17c3ZnOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIseGh0bWw6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIix4bWw6Imh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSIseG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIn0sWHU9LyVDT01QJS9nLGVhPSJfbmdob3N0LSVDT01QJSIsdGE9Il9uZ2NvbnRlbnQtJUNPTVAlIjtmdW5jdGlvbiBuYShlLHQsbil7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07QXJyYXkuaXNBcnJheShvKT9uYShlLG8sbik6KG89by5yZXBsYWNlKFh1LGUpLG4ucHVzaChvKSl9cmV0dXJuIG59ZnVuY3Rpb24gcmEoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpeyExPT09ZSh0KSYmKHQucHJldmVudERlZmF1bHQoKSx0LnJldHVyblZhbHVlPSExKX19dmFyIG9hPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuZXZlbnRNYW5hZ2VyPWUsdGhpcy5zaGFyZWRTdHlsZXNIb3N0PXQsdGhpcy5yZW5kZXJlckJ5Q29tcElkPW5ldyBNYXAsdGhpcy5kZWZhdWx0UmVuZGVyZXI9bmV3IGlhKGUpfXJldHVybiBlLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJlcj1mdW5jdGlvbihlLHQpe2lmKCFlfHwhdClyZXR1cm4gdGhpcy5kZWZhdWx0UmVuZGVyZXI7c3dpdGNoKHQuZW5jYXBzdWxhdGlvbil7Y2FzZSBLZS5FbXVsYXRlZDp2YXIgbj10aGlzLnJlbmRlcmVyQnlDb21wSWQuZ2V0KHQuaWQpO3JldHVybiBufHwobj1uZXcgY2EodGhpcy5ldmVudE1hbmFnZXIsdGhpcy5zaGFyZWRTdHlsZXNIb3N0LHQpLHRoaXMucmVuZGVyZXJCeUNvbXBJZC5zZXQodC5pZCxuKSksbi5hcHBseVRvSG9zdChlKSxuO2Nhc2UgS2UuTmF0aXZlOnJldHVybiBuZXcgbGEodGhpcy5ldmVudE1hbmFnZXIsdGhpcy5zaGFyZWRTdHlsZXNIb3N0LGUsdCk7ZGVmYXVsdDppZighdGhpcy5yZW5kZXJlckJ5Q29tcElkLmhhcyh0LmlkKSl7dmFyIHI9bmEodC5pZCx0LnN0eWxlcyxbXSk7dGhpcy5zaGFyZWRTdHlsZXNIb3N0LmFkZFN0eWxlcyhyKSx0aGlzLnJlbmRlcmVyQnlDb21wSWQuc2V0KHQuaWQsdGhpcy5kZWZhdWx0UmVuZGVyZXIpfXJldHVybiB0aGlzLmRlZmF1bHRSZW5kZXJlcn19LGUucHJvdG90eXBlLmJlZ2luPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt9LGV9KCksaWE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuZXZlbnRNYW5hZ2VyPWUsdGhpcy5kYXRhPU9iamVjdC5jcmVhdGUobnVsbCl9cmV0dXJuIGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJHVbdF0sZSk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKX0sZS5wcm90b3R5cGUuY3JlYXRlQ29tbWVudD1mdW5jdGlvbihlKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudChlKX0sZS5wcm90b3R5cGUuY3JlYXRlVGV4dD1mdW5jdGlvbihlKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSl9LGUucHJvdG90eXBlLmFwcGVuZENoaWxkPWZ1bmN0aW9uKGUsdCl7ZS5hcHBlbmRDaGlsZCh0KX0sZS5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlPWZ1bmN0aW9uKGUsdCxuKXtlJiZlLmluc2VydEJlZm9yZSh0LG4pfSxlLnByb3RvdHlwZS5yZW1vdmVDaGlsZD1mdW5jdGlvbihlLHQpe2UmJmUucmVtb3ZlQ2hpbGQodCl9LGUucHJvdG90eXBlLnNlbGVjdFJvb3RFbGVtZW50PWZ1bmN0aW9uKGUpe3ZhciB0PSJzdHJpbmciPT10eXBlb2YgZT9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpOmU7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCdUaGUgc2VsZWN0b3IgIicrZSsnIiBkaWQgbm90IG1hdGNoIGFueSBlbGVtZW50cycpO3JldHVybiB0LnRleHRDb250ZW50PSIiLHR9LGUucHJvdG90eXBlLnBhcmVudE5vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZX0sZS5wcm90b3R5cGUubmV4dFNpYmxpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubmV4dFNpYmxpbmd9LGUucHJvdG90eXBlLnNldEF0dHJpYnV0ZT1mdW5jdGlvbihlLHQsbixyKXtpZihyKXt0PXIrIjoiK3Q7dmFyIG89JHVbcl07bz9lLnNldEF0dHJpYnV0ZU5TKG8sdCxuKTplLnNldEF0dHJpYnV0ZSh0LG4pfWVsc2UgZS5zZXRBdHRyaWJ1dGUodCxuKX0sZS5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKGUsdCxuKXtpZihuKXt2YXIgcj0kdVtuXTtyP2UucmVtb3ZlQXR0cmlidXRlTlMocix0KTplLnJlbW92ZUF0dHJpYnV0ZShuKyI6Iit0KX1lbHNlIGUucmVtb3ZlQXR0cmlidXRlKHQpfSxlLnByb3RvdHlwZS5hZGRDbGFzcz1mdW5jdGlvbihlLHQpe2UuY2xhc3NMaXN0LmFkZCh0KX0sZS5wcm90b3R5cGUucmVtb3ZlQ2xhc3M9ZnVuY3Rpb24oZSx0KXtlLmNsYXNzTGlzdC5yZW1vdmUodCl9LGUucHJvdG90eXBlLnNldFN0eWxlPWZ1bmN0aW9uKGUsdCxuLHIpe3Imb24uRGFzaENhc2U/ZS5zdHlsZS5zZXRQcm9wZXJ0eSh0LG4sciZvbi5JbXBvcnRhbnQ/ImltcG9ydGFudCI6IiIpOmUuc3R5bGVbdF09bn0sZS5wcm90b3R5cGUucmVtb3ZlU3R5bGU9ZnVuY3Rpb24oZSx0LG4pe24mb24uRGFzaENhc2U/ZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSh0KTplLnN0eWxlW3RdPSIifSxlLnByb3RvdHlwZS5zZXRQcm9wZXJ0eT1mdW5jdGlvbihlLHQsbil7dWEodCwicHJvcGVydHkiKSxlW3RdPW59LGUucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUsdCl7ZS5ub2RlVmFsdWU9dH0sZS5wcm90b3R5cGUubGlzdGVuPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdWEodCwibGlzdGVuZXIiKSwic3RyaW5nIj09dHlwZW9mIGU/dGhpcy5ldmVudE1hbmFnZXIuYWRkR2xvYmFsRXZlbnRMaXN0ZW5lcihlLHQscmEobikpOnRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZSx0LHJhKG4pKX0sZX0oKSxzYT0iQCIuY2hhckNvZGVBdCgwKTtmdW5jdGlvbiB1YShlLHQpe2lmKGUuY2hhckNvZGVBdCgwKT09PXNhKXRocm93IG5ldyBFcnJvcigiRm91bmQgdGhlIHN5bnRoZXRpYyAiK3QrIiAiK2UrJy4gUGxlYXNlIGluY2x1ZGUgZWl0aGVyICJCcm93c2VyQW5pbWF0aW9uc01vZHVsZSIgb3IgIk5vb3BBbmltYXRpb25zTW9kdWxlIiBpbiB5b3VyIGFwcGxpY2F0aW9uLicpfXZhciBhYSxjYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixyKXt2YXIgbz1lLmNhbGwodGhpcyx0KXx8dGhpcztvLmNvbXBvbmVudD1yO3ZhciBpPW5hKHIuaWQsci5zdHlsZXMsW10pO3JldHVybiBuLmFkZFN0eWxlcyhpKSxvLmNvbnRlbnRBdHRyPWZ1bmN0aW9uKGUpe3JldHVybiB0YS5yZXBsYWNlKFh1LGUpfShyLmlkKSxvLmhvc3RBdHRyPWZ1bmN0aW9uKGUpe3JldHVybiBlYS5yZXBsYWNlKFh1LGUpfShyLmlkKSxvfXJldHVybiBvKHQsZSksdC5wcm90b3R5cGUuYXBwbHlUb0hvc3Q9ZnVuY3Rpb24odCl7ZS5wcm90b3R5cGUuc2V0QXR0cmlidXRlLmNhbGwodGhpcyx0LHRoaXMuaG9zdEF0dHIsIiIpfSx0LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKHQsbil7dmFyIHI9ZS5wcm90b3R5cGUuY3JlYXRlRWxlbWVudC5jYWxsKHRoaXMsdCxuKTtyZXR1cm4gZS5wcm90b3R5cGUuc2V0QXR0cmlidXRlLmNhbGwodGhpcyxyLHRoaXMuY29udGVudEF0dHIsIiIpLHJ9LHR9KGlhKSxsYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixyLG8pe3ZhciBpPWUuY2FsbCh0aGlzLHQpfHx0aGlzO2kuc2hhcmVkU3R5bGVzSG9zdD1uLGkuaG9zdEVsPXIsaS5jb21wb25lbnQ9byxpLnNoYWRvd1Jvb3Q9ci5jcmVhdGVTaGFkb3dSb290KCksaS5zaGFyZWRTdHlsZXNIb3N0LmFkZEhvc3QoaS5zaGFkb3dSb290KTtmb3IodmFyIHM9bmEoby5pZCxvLnN0eWxlcyxbXSksdT0wO3U8cy5sZW5ndGg7dSsrKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2EudGV4dENvbnRlbnQ9c1t1XSxpLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQoYSl9cmV0dXJuIGl9cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5ub2RlT3JTaGFkb3dSb290PWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dGhpcy5ob3N0RWw/dGhpcy5zaGFkb3dSb290OmV9LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnNoYXJlZFN0eWxlc0hvc3QucmVtb3ZlSG9zdCh0aGlzLnNoYWRvd1Jvb3QpfSx0LnByb3RvdHlwZS5hcHBlbmRDaGlsZD1mdW5jdGlvbih0LG4pe3JldHVybiBlLnByb3RvdHlwZS5hcHBlbmRDaGlsZC5jYWxsKHRoaXMsdGhpcy5ub2RlT3JTaGFkb3dSb290KHQpLG4pfSx0LnByb3RvdHlwZS5pbnNlcnRCZWZvcmU9ZnVuY3Rpb24odCxuLHIpe3JldHVybiBlLnByb3RvdHlwZS5pbnNlcnRCZWZvcmUuY2FsbCh0aGlzLHRoaXMubm9kZU9yU2hhZG93Um9vdCh0KSxuLHIpfSx0LnByb3RvdHlwZS5yZW1vdmVDaGlsZD1mdW5jdGlvbih0LG4pe3JldHVybiBlLnByb3RvdHlwZS5yZW1vdmVDaGlsZC5jYWxsKHRoaXMsdGhpcy5ub2RlT3JTaGFkb3dSb290KHQpLG4pfSx0LnByb3RvdHlwZS5wYXJlbnROb2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5vZGVPclNoYWRvd1Jvb3QoZS5wcm90b3R5cGUucGFyZW50Tm9kZS5jYWxsKHRoaXMsdGhpcy5ub2RlT3JTaGFkb3dSb290KHQpKSl9LHR9KGlhKSxkYT0idW5kZWZpbmVkIiE9dHlwZW9mIFpvbmUmJlpvbmUuX19zeW1ib2xfX3x8ZnVuY3Rpb24oZSl7cmV0dXJuIl9fem9uZV9zeW1ib2xfXyIrZX0sZmE9ZGEoImFkZEV2ZW50TGlzdGVuZXIiKSxwYT1kYSgicmVtb3ZlRXZlbnRMaXN0ZW5lciIpLGhhPXt9LHZhPSJfX3pvbmVfc3ltYm9sX19wcm9wYWdhdGlvblN0b3BwZWQiOyJ1bmRlZmluZWQiIT10eXBlb2YgWm9uZSYmWm9uZVtkYSgiQkxBQ0tfTElTVEVEX0VWRU5UUyIpXSYmKGFhPXt9KTt2YXIgeWE9ZnVuY3Rpb24oZSl7cmV0dXJuISFhYSYmYWEuaGFzT3duUHJvcGVydHkoZSl9LGdhPWZ1bmN0aW9uKGUpe3ZhciB0PWhhW2UudHlwZV07aWYodCl7dmFyIG49dGhpc1t0XTtpZihuKXt2YXIgcj1bZV07aWYoMT09PW4ubGVuZ3RoKXJldHVybihzPW5bMF0pLnpvbmUhPT1ab25lLmN1cnJlbnQ/cy56b25lLnJ1bihzLmhhbmRsZXIsdGhpcyxyKTpzLmhhbmRsZXIuYXBwbHkodGhpcyxyKTtmb3IodmFyIG89bi5zbGljZSgpLGk9MDtpPG8ubGVuZ3RoJiYhMCE9PWVbdmFdO2krKyl7dmFyIHM7KHM9b1tpXSkuem9uZSE9PVpvbmUuY3VycmVudD9zLnpvbmUucnVuKHMuaGFuZGxlcix0aGlzLHIpOnMuaGFuZGxlci5hcHBseSh0aGlzLHIpfX19fSxtYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixyKXt2YXIgbz1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gby5uZ1pvbmU9bixyJiZyPT09RXV8fG8ucGF0Y2hFdmVudCgpLG99cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5wYXRjaEV2ZW50PWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBFdmVudCYmRXZlbnQmJkV2ZW50LnByb3RvdHlwZSYmIUV2ZW50LnByb3RvdHlwZS5fX3pvbmVfc3ltYm9sX19zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24pe3ZhciBlPUV2ZW50LnByb3RvdHlwZS5fX3pvbmVfc3ltYm9sX19zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249RXZlbnQucHJvdG90eXBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjtFdmVudC5wcm90b3R5cGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcyYmKHRoaXNbdmFdPSEwKSxlJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSx0LnByb3RvdHlwZS5zdXBwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4hMH0sdC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcyxvPW47aWYoIWVbZmFdfHxSdC5pc0luQW5ndWxhclpvbmUoKSYmIXlhKHQpKWUuYWRkRXZlbnRMaXN0ZW5lcih0LG8sITEpO2Vsc2V7dmFyIGk9aGFbdF07aXx8KGk9aGFbdF09ZGEoIkFOR1VMQVIiK3QrIkZBTFNFIikpO3ZhciBzPWVbaV0sdT1zJiZzLmxlbmd0aD4wO3N8fChzPWVbaV09W10pO3ZhciBhPXlhKHQpP1pvbmUucm9vdDpab25lLmN1cnJlbnQ7aWYoMD09PXMubGVuZ3RoKXMucHVzaCh7em9uZTphLGhhbmRsZXI6b30pO2Vsc2V7Zm9yKHZhciBjPSExLGw9MDtsPHMubGVuZ3RoO2wrKylpZihzW2xdLmhhbmRsZXI9PT1vKXtjPSEwO2JyZWFrfWN8fHMucHVzaCh7em9uZTphLGhhbmRsZXI6b30pfXV8fGVbZmFdKHQsZ2EsITEpfXJldHVybiBmdW5jdGlvbigpe3JldHVybiByLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0LG8pfX0sdC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZVtwYV07aWYoIXIpcmV0dXJuIGUucmVtb3ZlRXZlbnRMaXN0ZW5lci5hcHBseShlLFt0LG4sITFdKTt2YXIgbz1oYVt0XSxpPW8mJmVbb107aWYoIWkpcmV0dXJuIGUucmVtb3ZlRXZlbnRMaXN0ZW5lci5hcHBseShlLFt0LG4sITFdKTtmb3IodmFyIHM9ITEsdT0wO3U8aS5sZW5ndGg7dSsrKWlmKGlbdV0uaGFuZGxlcj09PW4pe3M9ITAsaS5zcGxpY2UodSwxKTticmVha31zPzA9PT1pLmxlbmd0aCYmci5hcHBseShlLFt0LGdhLCExXSk6ZS5yZW1vdmVFdmVudExpc3RlbmVyLmFwcGx5KGUsW3QsbiwhMV0pfSx0fShHdSksYmE9e3BhbjohMCxwYW5zdGFydDohMCxwYW5tb3ZlOiEwLHBhbmVuZDohMCxwYW5jYW5jZWw6ITAscGFubGVmdDohMCxwYW5yaWdodDohMCxwYW51cDohMCxwYW5kb3duOiEwLHBpbmNoOiEwLHBpbmNoc3RhcnQ6ITAscGluY2htb3ZlOiEwLHBpbmNoZW5kOiEwLHBpbmNoY2FuY2VsOiEwLHBpbmNoaW46ITAscGluY2hvdXQ6ITAscHJlc3M6ITAscHJlc3N1cDohMCxyb3RhdGU6ITAscm90YXRlc3RhcnQ6ITAscm90YXRlbW92ZTohMCxyb3RhdGVlbmQ6ITAscm90YXRlY2FuY2VsOiEwLHN3aXBlOiEwLHN3aXBlbGVmdDohMCxzd2lwZXJpZ2h0OiEwLHN3aXBldXA6ITAsc3dpcGVkb3duOiEwLHRhcDohMH0sX2E9bmV3IGFlKCJIYW1tZXJHZXN0dXJlQ29uZmlnIiksd2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5ldmVudHM9W10sdGhpcy5vdmVycmlkZXM9e319cmV0dXJuIGUucHJvdG90eXBlLmJ1aWxkSGFtbWVyPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBIYW1tZXIoZSx0aGlzLm9wdGlvbnMpO2Zvcih2YXIgbiBpbiB0LmdldCgicGluY2giKS5zZXQoe2VuYWJsZTohMH0pLHQuZ2V0KCJyb3RhdGUiKS5zZXQoe2VuYWJsZTohMH0pLHRoaXMub3ZlcnJpZGVzKXQuZ2V0KG4pLnNldCh0aGlzLm92ZXJyaWRlc1tuXSk7cmV0dXJuIHR9LGV9KCksRWE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4scil7dmFyIG89ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIG8uX2NvbmZpZz1uLG8uY29uc29sZT1yLG99cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5zdXBwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4hKCFiYS5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpJiYhdGhpcy5pc0N1c3RvbUV2ZW50KGUpfHwhd2luZG93LkhhbW1lciYmKHRoaXMuY29uc29sZS53YXJuKCJIYW1tZXIuanMgaXMgbm90IGxvYWRlZCwgY2FuIG5vdCBiaW5kICciK2UrIicgZXZlbnQuIiksMSkpfSx0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLG89dGhpcy5tYW5hZ2VyLmdldFpvbmUoKTtyZXR1cm4gdD10LnRvTG93ZXJDYXNlKCksby5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbigpe3ZhciBpPXIuX2NvbmZpZy5idWlsZEhhbW1lcihlKSxzPWZ1bmN0aW9uKGUpe28ucnVuR3VhcmRlZChmdW5jdGlvbigpe24oZSl9KX07cmV0dXJuIGkub24odCxzKSxmdW5jdGlvbigpe3JldHVybiBpLm9mZih0LHMpfX0pfSx0LnByb3RvdHlwZS5pc0N1c3RvbUV2ZW50PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jb25maWcuZXZlbnRzLmluZGV4T2YoZSk+LTF9LHR9KEd1KSxDYT1bImFsdCIsImNvbnRyb2wiLCJtZXRhIiwic2hpZnQiXSx4YT17YWx0OmZ1bmN0aW9uKGUpe3JldHVybiBlLmFsdEtleX0sY29udHJvbDpmdW5jdGlvbihlKXtyZXR1cm4gZS5jdHJsS2V5fSxtZXRhOmZ1bmN0aW9uKGUpe3JldHVybiBlLm1ldGFLZXl9LHNoaWZ0OmZ1bmN0aW9uKGUpe3JldHVybiBlLnNoaWZ0S2V5fX0sVGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5jYWxsKHRoaXMsdCl8fHRoaXN9cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5zdXBwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9dC5wYXJzZUV2ZW50TmFtZShlKX0sdC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLG4scil7dmFyIG89dC5wYXJzZUV2ZW50TmFtZShuKSxpPXQuZXZlbnRDYWxsYmFjayhvLmZ1bGxLZXkscix0aGlzLm1hbmFnZXIuZ2V0Wm9uZSgpKTtyZXR1cm4gdGhpcy5tYW5hZ2VyLmdldFpvbmUoKS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbigpe3JldHVybiB4dSgpLm9uQW5kQ2FuY2VsKGUsby5kb21FdmVudE5hbWUsaSl9KX0sdC5wYXJzZUV2ZW50TmFtZT1mdW5jdGlvbihlKXt2YXIgbj1lLnRvTG93ZXJDYXNlKCkuc3BsaXQoIi4iKSxyPW4uc2hpZnQoKTtpZigwPT09bi5sZW5ndGh8fCJrZXlkb3duIiE9PXImJiJrZXl1cCIhPT1yKXJldHVybiBudWxsO3ZhciBvPXQuX25vcm1hbGl6ZUtleShuLnBvcCgpKSxpPSIiO2lmKENhLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5pbmRleE9mKGUpO3Q+LTEmJihuLnNwbGljZSh0LDEpLGkrPWUrIi4iKX0pLGkrPW8sMCE9bi5sZW5ndGh8fDA9PT1vLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgcz17fTtyZXR1cm4gcy5kb21FdmVudE5hbWU9cixzLmZ1bGxLZXk9aSxzfSx0LmdldEV2ZW50RnVsbEtleT1mdW5jdGlvbihlKXt2YXIgdD0iIixuPXh1KCkuZ2V0RXZlbnRLZXkoZSk7cmV0dXJuIiAiPT09KG49bi50b0xvd2VyQ2FzZSgpKT9uPSJzcGFjZSI6Ii4iPT09biYmKG49ImRvdCIpLENhLmZvckVhY2goZnVuY3Rpb24ocil7ciE9biYmKDAseGFbcl0pKGUpJiYodCs9cisiLiIpfSksdCs9bn0sdC5ldmVudENhbGxiYWNrPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gZnVuY3Rpb24obyl7dC5nZXRFdmVudEZ1bGxLZXkobyk9PT1lJiZyLnJ1bkd1YXJkZWQoZnVuY3Rpb24oKXtyZXR1cm4gbihvKX0pfX0sdC5fbm9ybWFsaXplS2V5PWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlImVzYyI6cmV0dXJuImVzY2FwZSI7ZGVmYXVsdDpyZXR1cm4gZX19LHR9KEd1KSxrYT1mdW5jdGlvbigpe30sSWE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uX2RvYz10LG59cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5zYW5pdGl6ZT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PXQpcmV0dXJuIG51bGw7c3dpdGNoKGUpe2Nhc2UgcHIuTk9ORTpyZXR1cm4gdDtjYXNlIHByLkhUTUw6cmV0dXJuIHQgaW5zdGFuY2VvZiBOYT90LmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHk6KHRoaXMuY2hlY2tOb3RTYWZlVmFsdWUodCwiSFRNTCIpLGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbDt0cnl7Sm49Sm58fG5ldyBabihlKTt2YXIgcj10P1N0cmluZyh0KToiIjtuPUpuLmdldEluZXJ0Qm9keUVsZW1lbnQocik7dmFyIG89NSxpPXI7ZG97aWYoMD09PW8pdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gc2FuaXRpemUgaHRtbCBiZWNhdXNlIHRoZSBpbnB1dCBpcyB1bnN0YWJsZSIpO28tLSxyPWksaT1uLmlubmVySFRNTCxuPUpuLmdldEluZXJ0Qm9keUVsZW1lbnQocil9d2hpbGUociE9PWkpO3ZhciBzPW5ldyBzcix1PXMuc2FuaXRpemVDaGlsZHJlbihscihuKXx8bik7cmV0dXJuIEt0KCkmJnMuc2FuaXRpemVkU29tZXRoaW5nJiZjb25zb2xlLndhcm4oIldBUk5JTkc6IHNhbml0aXppbmcgSFRNTCBzdHJpcHBlZCBzb21lIGNvbnRlbnQgKHNlZSBodHRwOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpLiIpLHV9ZmluYWxseXtpZihuKWZvcih2YXIgYT1scihuKXx8bjthLmZpcnN0Q2hpbGQ7KWEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKX19KHRoaXMuX2RvYyxTdHJpbmcodCkpKTtjYXNlIHByLlNUWUxFOnJldHVybiB0IGluc3RhbmNlb2YgQWE/dC5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5Oih0aGlzLmNoZWNrTm90U2FmZVZhbHVlKHQsIlN0eWxlIiksZnVuY3Rpb24oZSl7aWYoIShlPVN0cmluZyhlKS50cmltKCkpKXJldHVybiIiO3ZhciB0PWUubWF0Y2goZnIpO3JldHVybiB0JiZXbih0WzFdKT09PXRbMV18fGUubWF0Y2goZHIpJiZmdW5jdGlvbihlKXtmb3IodmFyIHQ9ITAsbj0hMCxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPWUuY2hhckF0KHIpOyInIj09PW8mJm4/dD0hdDonIic9PT1vJiZ0JiYobj0hbil9cmV0dXJuIHQmJm59KGUpP2U6KEt0KCkmJmNvbnNvbGUud2FybigiV0FSTklORzogc2FuaXRpemluZyB1bnNhZmUgc3R5bGUgdmFsdWUgIitlKyIgKHNlZSBodHRwOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpLiIpLCJ1bnNhZmUiKX0odCkpO2Nhc2UgcHIuU0NSSVBUOmlmKHQgaW5zdGFuY2VvZiBEYSlyZXR1cm4gdC5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5O3Rocm93IHRoaXMuY2hlY2tOb3RTYWZlVmFsdWUodCwiU2NyaXB0IiksbmV3IEVycm9yKCJ1bnNhZmUgdmFsdWUgdXNlZCBpbiBhIHNjcmlwdCBjb250ZXh0Iik7Y2FzZSBwci5VUkw6cmV0dXJuIHQgaW5zdGFuY2VvZiBQYXx8dCBpbnN0YW5jZW9mIE9hP3QuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eToodGhpcy5jaGVja05vdFNhZmVWYWx1ZSh0LCJVUkwiKSxXbihTdHJpbmcodCkpKTtjYXNlIHByLlJFU09VUkNFX1VSTDppZih0IGluc3RhbmNlb2YgUGEpcmV0dXJuIHQuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eTt0aHJvdyB0aGlzLmNoZWNrTm90U2FmZVZhbHVlKHQsIlJlc291cmNlVVJMIiksbmV3IEVycm9yKCJ1bnNhZmUgdmFsdWUgdXNlZCBpbiBhIHJlc291cmNlIFVSTCBjb250ZXh0IChzZWUgaHR0cDovL2cuY28vbmcvc2VjdXJpdHkjeHNzKSIpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIFNlY3VyaXR5Q29udGV4dCAiK2UrIiAoc2VlIGh0dHA6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcykiKX19LHQucHJvdG90eXBlLmNoZWNrTm90U2FmZVZhbHVlPWZ1bmN0aW9uKGUsdCl7aWYoZSBpbnN0YW5jZW9mIFNhKXRocm93IG5ldyBFcnJvcigiUmVxdWlyZWQgYSBzYWZlICIrdCsiLCBnb3QgYSAiK2UuZ2V0VHlwZU5hbWUoKSsiIChzZWUgaHR0cDovL2cuY28vbmcvc2VjdXJpdHkjeHNzKSIpfSx0LnByb3RvdHlwZS5ieXBhc3NTZWN1cml0eVRydXN0SHRtbD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE5hKGUpfSx0LnByb3RvdHlwZS5ieXBhc3NTZWN1cml0eVRydXN0U3R5bGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBBYShlKX0sdC5wcm90b3R5cGUuYnlwYXNzU2VjdXJpdHlUcnVzdFNjcmlwdD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IERhKGUpfSx0LnByb3RvdHlwZS5ieXBhc3NTZWN1cml0eVRydXN0VXJsPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgT2EoZSl9LHQucHJvdG90eXBlLmJ5cGFzc1NlY3VyaXR5VHJ1c3RSZXNvdXJjZVVybD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFBhKGUpfSx0fShrYSksU2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eT1lfXJldHVybiBlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJTYWZlVmFsdWUgbXVzdCB1c2UgW3Byb3BlcnR5XT1iaW5kaW5nOiAiK3RoaXMuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eSsiIChzZWUgaHR0cDovL2cuY28vbmcvc2VjdXJpdHkjeHNzKSJ9LGV9KCksTmE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5nZXRUeXBlTmFtZT1mdW5jdGlvbigpe3JldHVybiJIVE1MIn0sdH0oU2EpLEFhPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBvKHQsZSksdC5wcm90b3R5cGUuZ2V0VHlwZU5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iU3R5bGUifSx0fShTYSksRGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5nZXRUeXBlTmFtZT1mdW5jdGlvbigpe3JldHVybiJTY3JpcHQifSx0fShTYSksT2E9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5nZXRUeXBlTmFtZT1mdW5jdGlvbigpe3JldHVybiJVUkwifSx0fShTYSksUGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG8odCxlKSx0LnByb3RvdHlwZS5nZXRUeXBlTmFtZT1mdW5jdGlvbigpe3JldHVybiJSZXNvdXJjZVVSTCJ9LHR9KFNhKSxSYT1ZdChIbiwiYnJvd3NlciIsW3twcm92aWRlOmR0LHVzZVZhbHVlOiJicm93c2VyIn0se3Byb3ZpZGU6bHQsdXNlVmFsdWU6ZnVuY3Rpb24oKXtEdS5tYWtlQ3VycmVudCgpLEZ1LmluaXQoKX0sbXVsdGk6ITB9LHtwcm92aWRlOmZ1LHVzZUNsYXNzOk11LGRlcHM6W1B1XX0se3Byb3ZpZGU6UHUsdXNlRmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudH0sZGVwczpbXX1dKTtmdW5jdGlvbiBNYSgpe3JldHVybiBuZXcgbnR9dmFyIFZhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZihlKXRocm93IG5ldyBFcnJvcigiQnJvd3Nlck1vZHVsZSBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZC4gSWYgeW91IG5lZWQgYWNjZXNzIHRvIGNvbW1vbiBkaXJlY3RpdmVzIHN1Y2ggYXMgTmdJZiBhbmQgTmdGb3IgZnJvbSBhIGxhenkgbG9hZGVkIG1vZHVsZSwgaW1wb3J0IENvbW1vbk1vZHVsZSBpbnN0ZWFkLiIpfXJldHVybiBlLndpdGhTZXJ2ZXJUcmFuc2l0aW9uPWZ1bmN0aW9uKHQpe3JldHVybntuZ01vZHVsZTplLHByb3ZpZGVyczpbe3Byb3ZpZGU6dXQsdXNlVmFsdWU6dC5hcHBJZH0se3Byb3ZpZGU6anUsdXNlRXhpc3Rpbmc6dXR9LEh1XX19LGV9KCk7InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdzt2YXIgamE9bmV3IGJzKGF1LFtdLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHQ9e30sbj1bXSxyPSExLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGk9ZVtvXTtpLnRva2VuPT09cnQmJihyPSEwKSwxMDczNzQxODI0JmkuZmxhZ3MmJm4ucHVzaChpLnRva2VuKSxpLmluZGV4PW8sdFtTcihpLnRva2VuKV09aX1yZXR1cm57ZmFjdG9yeTpudWxsLHByb3ZpZGVyc0J5S2V5OnQscHJvdmlkZXJzOmUsbW9kdWxlczpuLGlzUm9vdDpyfX0oW3BvKDUxMix4dCxUdCxbWzgsW2R1XV0sWzMseHRdLEl0XSkscG8oNTEyMCxGbix6bixbWzMsRm5dXSkscG8oNDYwOCxtdSxidSxbRm4sWzIsZ3VdXSkscG8oNDYwOCx2dCx2dCxbXSkscG8oNTEyMCx1dCxhdCxbXSkscG8oNTEyMCxQbixMbixbXSkscG8oNTEyMCxSbixCbixbXSkscG8oNDYwOCxrYSxJYSxbd3VdKSxwbyg2MTQ0LGhyLG51bGwsW2thXSkscG8oNDYwOCxfYSx3YSxbXSkscG8oNTEyMCxXdSxmdW5jdGlvbihlLHQsbixyLG8saSxzKXtyZXR1cm5bbmV3IG1hKGUsdCxuKSxuZXcgVGEociksbmV3IEVhKG8saSxzKV19LFt3dSxSdCxbMixkdF0sd3Usd3UsX2EscHRdKSxwbyg0NjA4LEt1LEt1LFtXdSxSdF0pLHBvKDEzNTY4MCxKdSxKdSxbd3VdKSxwbyg0NjA4LG9hLG9hLFtLdSxKdV0pLHBvKDYxNDQscm4sbnVsbCxbb2FdKSxwbyg2MTQ0LFl1LG51bGwsW0p1XSkscG8oNDYwOCx6dCx6dCxbUnRdKSxwbyg0NjA4LFZ1LFZ1LFt3dV0pLHBvKDQ2MDgsTHUsTHUsW3d1XSkscG8oMTA3Mzc0MjMzNixfdSxfdSxbXSkscG8oMTAyNCxudCxNYSxbXSkscG8oMTAyNCxpdCxmdW5jdGlvbihlKXtyZXR1cm5bUXUoZSldfSxbWzIsR3RdXSkscG8oNTEyLHN0LHN0LFtbMixpdF1dKSxwbygxMzE1ODQsZW4sZW4sW1J0LHB0LERlLG50LHh0LHN0XSkscG8oMTA3Mzc0MjMzNixVbixVbixbZW5dKSxwbygxMDczNzQyMzM2LFZhLFZhLFtbMyxWYV1dKSxwbygxMDczNzQyMzM2LGF1LGF1LFtEZV0pLHBvKDI1NixydCwhMCxbXSldKX0pOyhmdW5jdGlvbigpe2lmKFF0KXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGVuYWJsZSBwcm9kIG1vZGUgYWZ0ZXIgcGxhdGZvcm0gc2V0dXAuIik7cXQ9ITF9KSgpLFJhKCkuYm9vdHN0cmFwTW9kdWxlRmFjdG9yeShqYSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUubG9nKGUpfSl9LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9bigxKX1dKTsK';
