export const pocCPF = 'KCgpPT57InVzZSBzdHJpY3QiO3ZhciBlLHI9e30sbj17fTtmdW5jdGlvbiB0KGUpe3ZhciBvPW5bZV07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBhPW5bZV09e2V4cG9ydHM6e319O3JldHVybiByW2VdKGEsYS5leHBvcnRzLHQpLGEuZXhwb3J0c310Lm09cixlPVtdLHQuTz0ocixuLG8sYSk9PntpZighbil7dmFyIGw9MS8wO2Zvcih1PTA7dTxlLmxlbmd0aDt1Kyspe2Zvcih2YXJbbixvLGFdPWVbdV0scz0hMCxwPTA7cDxuLmxlbmd0aDtwKyspKCExJmF8fGw+PWEpJiZPYmplY3Qua2V5cyh0Lk8pLmV2ZXJ5KGU9PnQuT1tlXShuW3BdKSk/bi5zcGxpY2UocC0tLDEpOihzPSExLGE8bCYmKGw9YSkpO3MmJihlLnNwbGljZSh1LS0sMSkscj1vKCkpfXJldHVybiByfWE9YXx8MDtmb3IodmFyIHU9ZS5sZW5ndGg7dT4wJiZlW3UtMV1bMl0+YTt1LS0pZVt1XT1lW3UtMV07ZVt1XT1bbixvLGFdfSx0Lm49ZT0+e3ZhciByPWUmJmUuX19lc01vZHVsZT8oKT0+ZS5kZWZhdWx0OigpPT5lO3JldHVybiB0LmQocix7YTpyfSkscn0sdC5kPShlLHIpPT57Zm9yKHZhciBuIGluIHIpdC5vKHIsbikmJiF0Lm8oZSxuKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTohMCxnZXQ6cltuXX0pfSx0Lm89KGUscik9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpLCgoKT0+e3ZhciBlPXs2NjY6MH07dC5PLmo9cj0+MD09PWVbcl07dmFyIHI9KHIsbik9Pnt2YXIgbyxhLFtsLHMscF09bix1PTA7Zm9yKG8gaW4gcyl0Lm8ocyxvKSYmKHQubVtvXT1zW29dKTtpZihwKXZhciBmPXAodCk7Zm9yKHImJnIobik7dTxsLmxlbmd0aDt1KyspdC5vKGUsYT1sW3VdKSYmZVthXSYmZVthXVswXSgpLGVbbFt1XV09MDtyZXR1cm4gdC5PKGYpfSxuPXNlbGYud2VicGFja0NodW5rcG9jX25nX2VsZW1lbnRzPXNlbGYud2VicGFja0NodW5rcG9jX25nX2VsZW1lbnRzfHxbXTtuLmZvckVhY2goci5iaW5kKG51bGwsMCkpLG4ucHVzaD1yLmJpbmQobnVsbCxuLnB1c2guYmluZChuKSl9KSgpfSkoKTsoc2VsZi53ZWJwYWNrQ2h1bmtwb2NfbmdfZWxlbWVudHM9c2VsZi53ZWJwYWNrQ2h1bmtwb2NfbmdfZWxlbWVudHN8fFtdKS5wdXNoKFtbNDI5XSx7MTY3OigpPT57InVzZSBzdHJpY3QiOyFmdW5jdGlvbihlKXtjb25zdCB0PWUucGVyZm9ybWFuY2U7ZnVuY3Rpb24gbihlKXt0JiZ0Lm1hcmsmJnQubWFyayhlKX1mdW5jdGlvbiBvKGUsbil7dCYmdC5tZWFzdXJlJiZ0Lm1lYXN1cmUoZSxuKX1uKCJab25lIik7Y29uc3Qgcj1lLl9fWm9uZV9zeW1ib2xfcHJlZml4fHwiX196b25lX3N5bWJvbF9fIjtmdW5jdGlvbiBzKGUpe3JldHVybiByK2V9Y29uc3QgYT0hMD09PWVbcygiZm9yY2VEdXBsaWNhdGVab25lQ2hlY2siKV07aWYoZS5ab25lKXtpZihhfHwiZnVuY3Rpb24iIT10eXBlb2YgZS5ab25lLl9fc3ltYm9sX18pdGhyb3cgbmV3IEVycm9yKCJab25lIGFscmVhZHkgbG9hZGVkLiIpO3JldHVybiBlLlpvbmV9Y2xhc3MgaXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX3BhcmVudD1lLHRoaXMuX25hbWU9dD90Lm5hbWV8fCJ1bm5hbWVkIjoiPHJvb3Q+Iix0aGlzLl9wcm9wZXJ0aWVzPXQmJnQucHJvcGVydGllc3x8e30sdGhpcy5fem9uZURlbGVnYXRlPW5ldyBsKHRoaXMsdGhpcy5fcGFyZW50JiZ0aGlzLl9wYXJlbnQuX3pvbmVEZWxlZ2F0ZSx0KX1zdGF0aWMgYXNzZXJ0Wm9uZVBhdGNoZWQoKXtpZihlLlByb21pc2UhPT1PLlpvbmVBd2FyZVByb21pc2UpdGhyb3cgbmV3IEVycm9yKCJab25lLmpzIGhhcyBkZXRlY3RlZCB0aGF0IFpvbmVBd2FyZVByb21pc2UgYCh3aW5kb3d8Z2xvYmFsKS5Qcm9taXNlYCBoYXMgYmVlbiBvdmVyd3JpdHRlbi5cbk1vc3QgbGlrZWx5IGNhdXNlIGlzIHRoYXQgYSBQcm9taXNlIHBvbHlmaWxsIGhhcyBiZWVuIGxvYWRlZCBhZnRlciBab25lLmpzIChQb2x5ZmlsbGluZyBQcm9taXNlIGFwaSBpcyBub3QgbmVjZXNzYXJ5IHdoZW4gem9uZS5qcyBpcyBsb2FkZWQuIElmIHlvdSBtdXN0IGxvYWQgb25lLCBkbyBzbyBiZWZvcmUgbG9hZGluZyB6b25lLmpzLikiKX1zdGF0aWMgZ2V0IHJvb3QoKXtsZXQgZT1pLmN1cnJlbnQ7Zm9yKDtlLnBhcmVudDspZT1lLnBhcmVudDtyZXR1cm4gZX1zdGF0aWMgZ2V0IGN1cnJlbnQoKXtyZXR1cm4gei56b25lfXN0YXRpYyBnZXQgY3VycmVudFRhc2soKXtyZXR1cm4gan1zdGF0aWMgX19sb2FkX3BhdGNoKHQscixzPSExKXtpZihPLmhhc093blByb3BlcnR5KHQpKXtpZighcyYmYSl0aHJvdyBFcnJvcigiQWxyZWFkeSBsb2FkZWQgcGF0Y2g6ICIrdCl9ZWxzZSBpZighZVsiX19ab25lX2Rpc2FibGVfIit0XSl7Y29uc3Qgcz0iWm9uZToiK3Q7bihzKSxPW3RdPXIoZSxpLEMpLG8ocyxzKX19Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLl9wYXJlbnR9Z2V0IG5hbWUoKXtyZXR1cm4gdGhpcy5fbmFtZX1nZXQoZSl7Y29uc3QgdD10aGlzLmdldFpvbmVXaXRoKGUpO2lmKHQpcmV0dXJuIHQuX3Byb3BlcnRpZXNbZV19Z2V0Wm9uZVdpdGgoZSl7bGV0IHQ9dGhpcztmb3IoO3Q7KXtpZih0Ll9wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGUpKXJldHVybiB0O3Q9dC5fcGFyZW50fXJldHVybiBudWxsfWZvcmsoZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJab25lU3BlYyByZXF1aXJlZCEiKTtyZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmZvcmsodGhpcyxlKX13cmFwKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RpbmcgZnVuY3Rpb24gZ290OiAiK2UpO2NvbnN0IG49dGhpcy5fem9uZURlbGVnYXRlLmludGVyY2VwdCh0aGlzLGUsdCksbz10aGlzO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBvLnJ1bkd1YXJkZWQobix0aGlzLGFyZ3VtZW50cyx0KX19cnVuKGUsdCxuLG8pe3o9e3BhcmVudDp6LHpvbmU6dGhpc307dHJ5e3JldHVybiB0aGlzLl96b25lRGVsZWdhdGUuaW52b2tlKHRoaXMsZSx0LG4sbyl9ZmluYWxseXt6PXoucGFyZW50fX1ydW5HdWFyZGVkKGUsdD1udWxsLG4sbyl7ej17cGFyZW50Onosem9uZTp0aGlzfTt0cnl7dHJ5e3JldHVybiB0aGlzLl96b25lRGVsZWdhdGUuaW52b2tlKHRoaXMsZSx0LG4sbyl9Y2F0Y2gocil7aWYodGhpcy5fem9uZURlbGVnYXRlLmhhbmRsZUVycm9yKHRoaXMscikpdGhyb3cgcn19ZmluYWxseXt6PXoucGFyZW50fX1ydW5UYXNrKGUsdCxuKXtpZihlLnpvbmUhPXRoaXMpdGhyb3cgbmV3IEVycm9yKCJBIHRhc2sgY2FuIG9ubHkgYmUgcnVuIGluIHRoZSB6b25lIG9mIGNyZWF0aW9uISAoQ3JlYXRpb246ICIrKGUuem9uZXx8eSkubmFtZSsiOyBFeGVjdXRpb246ICIrdGhpcy5uYW1lKyIpIik7aWYoZS5zdGF0ZT09PXYmJihlLnR5cGU9PT1QfHxlLnR5cGU9PT1EKSlyZXR1cm47Y29uc3Qgbz1lLnN0YXRlIT1FO28mJmUuX3RyYW5zaXRpb25UbyhFLGIpLGUucnVuQ291bnQrKztjb25zdCByPWo7aj1lLHo9e3BhcmVudDp6LHpvbmU6dGhpc307dHJ5e2UudHlwZT09RCYmZS5kYXRhJiYhZS5kYXRhLmlzUGVyaW9kaWMmJihlLmNhbmNlbEZuPXZvaWQgMCk7dHJ5e3JldHVybiB0aGlzLl96b25lRGVsZWdhdGUuaW52b2tlVGFzayh0aGlzLGUsdCxuKX1jYXRjaChzKXtpZih0aGlzLl96b25lRGVsZWdhdGUuaGFuZGxlRXJyb3IodGhpcyxzKSl0aHJvdyBzfX1maW5hbGx5e2Uuc3RhdGUhPT12JiZlLnN0YXRlIT09WiYmKGUudHlwZT09UHx8ZS5kYXRhJiZlLmRhdGEuaXNQZXJpb2RpYz9vJiZlLl90cmFuc2l0aW9uVG8oYixFKTooZS5ydW5Db3VudD0wLHRoaXMuX3VwZGF0ZVRhc2tDb3VudChlLC0xKSxvJiZlLl90cmFuc2l0aW9uVG8odixFLHYpKSksej16LnBhcmVudCxqPXJ9fXNjaGVkdWxlVGFzayhlKXtpZihlLnpvbmUmJmUuem9uZSE9PXRoaXMpe2xldCB0PXRoaXM7Zm9yKDt0Oyl7aWYodD09PWUuem9uZSl0aHJvdyBFcnJvcihgY2FuIG5vdCByZXNjaGVkdWxlIHRhc2sgdG8gJHt0aGlzLm5hbWV9IHdoaWNoIGlzIGRlc2NlbmRhbnRzIG9mIHRoZSBvcmlnaW5hbCB6b25lICR7ZS56b25lLm5hbWV9YCk7dD10LnBhcmVudH19ZS5fdHJhbnNpdGlvblRvKFQsdik7Y29uc3QgdD1bXTtlLl96b25lRGVsZWdhdGVzPXQsZS5fem9uZT10aGlzO3RyeXtlPXRoaXMuX3pvbmVEZWxlZ2F0ZS5zY2hlZHVsZVRhc2sodGhpcyxlKX1jYXRjaChuKXt0aHJvdyBlLl90cmFuc2l0aW9uVG8oWixULHYpLHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLG4pLG59cmV0dXJuIGUuX3pvbmVEZWxlZ2F0ZXM9PT10JiZ0aGlzLl91cGRhdGVUYXNrQ291bnQoZSwxKSxlLnN0YXRlPT1UJiZlLl90cmFuc2l0aW9uVG8oYixUKSxlfXNjaGVkdWxlTWljcm9UYXNrKGUsdCxuLG8pe3JldHVybiB0aGlzLnNjaGVkdWxlVGFzayhuZXcgdShTLGUsdCxuLG8sdm9pZCAwKSl9c2NoZWR1bGVNYWNyb1Rhc2soZSx0LG4sbyxyKXtyZXR1cm4gdGhpcy5zY2hlZHVsZVRhc2sobmV3IHUoRCxlLHQsbixvLHIpKX1zY2hlZHVsZUV2ZW50VGFzayhlLHQsbixvLHIpe3JldHVybiB0aGlzLnNjaGVkdWxlVGFzayhuZXcgdShQLGUsdCxuLG8scikpfWNhbmNlbFRhc2soZSl7aWYoZS56b25lIT10aGlzKXRocm93IG5ldyBFcnJvcigiQSB0YXNrIGNhbiBvbmx5IGJlIGNhbmNlbGxlZCBpbiB0aGUgem9uZSBvZiBjcmVhdGlvbiEgKENyZWF0aW9uOiAiKyhlLnpvbmV8fHkpLm5hbWUrIjsgRXhlY3V0aW9uOiAiK3RoaXMubmFtZSsiKSIpO2UuX3RyYW5zaXRpb25Ubyh3LGIsRSk7dHJ5e3RoaXMuX3pvbmVEZWxlZ2F0ZS5jYW5jZWxUYXNrKHRoaXMsZSl9Y2F0Y2godCl7dGhyb3cgZS5fdHJhbnNpdGlvblRvKFosdyksdGhpcy5fem9uZURlbGVnYXRlLmhhbmRsZUVycm9yKHRoaXMsdCksdH1yZXR1cm4gdGhpcy5fdXBkYXRlVGFza0NvdW50KGUsLTEpLGUuX3RyYW5zaXRpb25Ubyh2LHcpLGUucnVuQ291bnQ9MCxlfV91cGRhdGVUYXNrQ291bnQoZSx0KXtjb25zdCBuPWUuX3pvbmVEZWxlZ2F0ZXM7LTE9PXQmJihlLl96b25lRGVsZWdhdGVzPW51bGwpO2ZvcihsZXQgbz0wO288bi5sZW5ndGg7bysrKW5bb10uX3VwZGF0ZVRhc2tDb3VudChlLnR5cGUsdCl9fWkuX19zeW1ib2xfXz1zO2NvbnN0IGM9e25hbWU6IiIsb25IYXNUYXNrOihlLHQsbixvKT0+ZS5oYXNUYXNrKG4sbyksb25TY2hlZHVsZVRhc2s6KGUsdCxuLG8pPT5lLnNjaGVkdWxlVGFzayhuLG8pLG9uSW52b2tlVGFzazooZSx0LG4sbyxyLHMpPT5lLmludm9rZVRhc2sobixvLHIscyksb25DYW5jZWxUYXNrOihlLHQsbixvKT0+ZS5jYW5jZWxUYXNrKG4sbyl9O2NsYXNzIGx7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuX3Rhc2tDb3VudHM9e21pY3JvVGFzazowLG1hY3JvVGFzazowLGV2ZW50VGFzazowfSx0aGlzLnpvbmU9ZSx0aGlzLl9wYXJlbnREZWxlZ2F0ZT10LHRoaXMuX2ZvcmtaUz1uJiYobiYmbi5vbkZvcms/bjp0Ll9mb3JrWlMpLHRoaXMuX2ZvcmtEbGd0PW4mJihuLm9uRm9yaz90OnQuX2ZvcmtEbGd0KSx0aGlzLl9mb3JrQ3VyclpvbmU9biYmKG4ub25Gb3JrP3RoaXMuem9uZTp0Ll9mb3JrQ3VyclpvbmUpLHRoaXMuX2ludGVyY2VwdFpTPW4mJihuLm9uSW50ZXJjZXB0P246dC5faW50ZXJjZXB0WlMpLHRoaXMuX2ludGVyY2VwdERsZ3Q9biYmKG4ub25JbnRlcmNlcHQ/dDp0Ll9pbnRlcmNlcHREbGd0KSx0aGlzLl9pbnRlcmNlcHRDdXJyWm9uZT1uJiYobi5vbkludGVyY2VwdD90aGlzLnpvbmU6dC5faW50ZXJjZXB0Q3VyclpvbmUpLHRoaXMuX2ludm9rZVpTPW4mJihuLm9uSW52b2tlP246dC5faW52b2tlWlMpLHRoaXMuX2ludm9rZURsZ3Q9biYmKG4ub25JbnZva2U/dDp0Ll9pbnZva2VEbGd0KSx0aGlzLl9pbnZva2VDdXJyWm9uZT1uJiYobi5vbkludm9rZT90aGlzLnpvbmU6dC5faW52b2tlQ3VyclpvbmUpLHRoaXMuX2hhbmRsZUVycm9yWlM9biYmKG4ub25IYW5kbGVFcnJvcj9uOnQuX2hhbmRsZUVycm9yWlMpLHRoaXMuX2hhbmRsZUVycm9yRGxndD1uJiYobi5vbkhhbmRsZUVycm9yP3Q6dC5faGFuZGxlRXJyb3JEbGd0KSx0aGlzLl9oYW5kbGVFcnJvckN1cnJab25lPW4mJihuLm9uSGFuZGxlRXJyb3I/dGhpcy56b25lOnQuX2hhbmRsZUVycm9yQ3VyclpvbmUpLHRoaXMuX3NjaGVkdWxlVGFza1pTPW4mJihuLm9uU2NoZWR1bGVUYXNrP246dC5fc2NoZWR1bGVUYXNrWlMpLHRoaXMuX3NjaGVkdWxlVGFza0RsZ3Q9biYmKG4ub25TY2hlZHVsZVRhc2s/dDp0Ll9zY2hlZHVsZVRhc2tEbGd0KSx0aGlzLl9zY2hlZHVsZVRhc2tDdXJyWm9uZT1uJiYobi5vblNjaGVkdWxlVGFzaz90aGlzLnpvbmU6dC5fc2NoZWR1bGVUYXNrQ3VyclpvbmUpLHRoaXMuX2ludm9rZVRhc2taUz1uJiYobi5vbkludm9rZVRhc2s/bjp0Ll9pbnZva2VUYXNrWlMpLHRoaXMuX2ludm9rZVRhc2tEbGd0PW4mJihuLm9uSW52b2tlVGFzaz90OnQuX2ludm9rZVRhc2tEbGd0KSx0aGlzLl9pbnZva2VUYXNrQ3VyclpvbmU9biYmKG4ub25JbnZva2VUYXNrP3RoaXMuem9uZTp0Ll9pbnZva2VUYXNrQ3VyclpvbmUpLHRoaXMuX2NhbmNlbFRhc2taUz1uJiYobi5vbkNhbmNlbFRhc2s/bjp0Ll9jYW5jZWxUYXNrWlMpLHRoaXMuX2NhbmNlbFRhc2tEbGd0PW4mJihuLm9uQ2FuY2VsVGFzaz90OnQuX2NhbmNlbFRhc2tEbGd0KSx0aGlzLl9jYW5jZWxUYXNrQ3VyclpvbmU9biYmKG4ub25DYW5jZWxUYXNrP3RoaXMuem9uZTp0Ll9jYW5jZWxUYXNrQ3VyclpvbmUpLHRoaXMuX2hhc1Rhc2taUz1udWxsLHRoaXMuX2hhc1Rhc2tEbGd0PW51bGwsdGhpcy5faGFzVGFza0RsZ3RPd25lcj1udWxsLHRoaXMuX2hhc1Rhc2tDdXJyWm9uZT1udWxsO2NvbnN0IG89biYmbi5vbkhhc1Rhc2s7KG98fHQmJnQuX2hhc1Rhc2taUykmJih0aGlzLl9oYXNUYXNrWlM9bz9uOmMsdGhpcy5faGFzVGFza0RsZ3Q9dCx0aGlzLl9oYXNUYXNrRGxndE93bmVyPXRoaXMsdGhpcy5faGFzVGFza0N1cnJab25lPWUsbi5vblNjaGVkdWxlVGFza3x8KHRoaXMuX3NjaGVkdWxlVGFza1pTPWMsdGhpcy5fc2NoZWR1bGVUYXNrRGxndD10LHRoaXMuX3NjaGVkdWxlVGFza0N1cnJab25lPXRoaXMuem9uZSksbi5vbkludm9rZVRhc2t8fCh0aGlzLl9pbnZva2VUYXNrWlM9Yyx0aGlzLl9pbnZva2VUYXNrRGxndD10LHRoaXMuX2ludm9rZVRhc2tDdXJyWm9uZT10aGlzLnpvbmUpLG4ub25DYW5jZWxUYXNrfHwodGhpcy5fY2FuY2VsVGFza1pTPWMsdGhpcy5fY2FuY2VsVGFza0RsZ3Q9dCx0aGlzLl9jYW5jZWxUYXNrQ3VyclpvbmU9dGhpcy56b25lKSl9Zm9yayhlLHQpe3JldHVybiB0aGlzLl9mb3JrWlM/dGhpcy5fZm9ya1pTLm9uRm9yayh0aGlzLl9mb3JrRGxndCx0aGlzLnpvbmUsZSx0KTpuZXcgaShlLHQpfWludGVyY2VwdChlLHQsbil7cmV0dXJuIHRoaXMuX2ludGVyY2VwdFpTP3RoaXMuX2ludGVyY2VwdFpTLm9uSW50ZXJjZXB0KHRoaXMuX2ludGVyY2VwdERsZ3QsdGhpcy5faW50ZXJjZXB0Q3VyclpvbmUsZSx0LG4pOnR9aW52b2tlKGUsdCxuLG8scil7cmV0dXJuIHRoaXMuX2ludm9rZVpTP3RoaXMuX2ludm9rZVpTLm9uSW52b2tlKHRoaXMuX2ludm9rZURsZ3QsdGhpcy5faW52b2tlQ3VyclpvbmUsZSx0LG4sbyxyKTp0LmFwcGx5KG4sbyl9aGFuZGxlRXJyb3IoZSx0KXtyZXR1cm4hdGhpcy5faGFuZGxlRXJyb3JaU3x8dGhpcy5faGFuZGxlRXJyb3JaUy5vbkhhbmRsZUVycm9yKHRoaXMuX2hhbmRsZUVycm9yRGxndCx0aGlzLl9oYW5kbGVFcnJvckN1cnJab25lLGUsdCl9c2NoZWR1bGVUYXNrKGUsdCl7bGV0IG49dDtpZih0aGlzLl9zY2hlZHVsZVRhc2taUyl0aGlzLl9oYXNUYXNrWlMmJm4uX3pvbmVEZWxlZ2F0ZXMucHVzaCh0aGlzLl9oYXNUYXNrRGxndE93bmVyKSxuPXRoaXMuX3NjaGVkdWxlVGFza1pTLm9uU2NoZWR1bGVUYXNrKHRoaXMuX3NjaGVkdWxlVGFza0RsZ3QsdGhpcy5fc2NoZWR1bGVUYXNrQ3VyclpvbmUsZSx0KSxufHwobj10KTtlbHNlIGlmKHQuc2NoZWR1bGVGbil0LnNjaGVkdWxlRm4odCk7ZWxzZXtpZih0LnR5cGUhPVMpdGhyb3cgbmV3IEVycm9yKCJUYXNrIGlzIG1pc3Npbmcgc2NoZWR1bGVGbi4iKTtrKHQpfXJldHVybiBufWludm9rZVRhc2soZSx0LG4sbyl7cmV0dXJuIHRoaXMuX2ludm9rZVRhc2taUz90aGlzLl9pbnZva2VUYXNrWlMub25JbnZva2VUYXNrKHRoaXMuX2ludm9rZVRhc2tEbGd0LHRoaXMuX2ludm9rZVRhc2tDdXJyWm9uZSxlLHQsbixvKTp0LmNhbGxiYWNrLmFwcGx5KG4sbyl9Y2FuY2VsVGFzayhlLHQpe2xldCBuO2lmKHRoaXMuX2NhbmNlbFRhc2taUyluPXRoaXMuX2NhbmNlbFRhc2taUy5vbkNhbmNlbFRhc2sodGhpcy5fY2FuY2VsVGFza0RsZ3QsdGhpcy5fY2FuY2VsVGFza0N1cnJab25lLGUsdCk7ZWxzZXtpZighdC5jYW5jZWxGbil0aHJvdyBFcnJvcigiVGFzayBpcyBub3QgY2FuY2VsYWJsZSIpO249dC5jYW5jZWxGbih0KX1yZXR1cm4gbn1oYXNUYXNrKGUsdCl7dHJ5e3RoaXMuX2hhc1Rhc2taUyYmdGhpcy5faGFzVGFza1pTLm9uSGFzVGFzayh0aGlzLl9oYXNUYXNrRGxndCx0aGlzLl9oYXNUYXNrQ3VyclpvbmUsZSx0KX1jYXRjaChuKXt0aGlzLmhhbmRsZUVycm9yKGUsbil9fV91cGRhdGVUYXNrQ291bnQoZSx0KXtjb25zdCBuPXRoaXMuX3Rhc2tDb3VudHMsbz1uW2VdLHI9bltlXT1vK3Q7aWYocjwwKXRocm93IG5ldyBFcnJvcigiTW9yZSB0YXNrcyBleGVjdXRlZCB0aGVuIHdlcmUgc2NoZWR1bGVkLiIpOzAhPW8mJjAhPXJ8fHRoaXMuaGFzVGFzayh0aGlzLnpvbmUse21pY3JvVGFzazpuLm1pY3JvVGFzaz4wLG1hY3JvVGFzazpuLm1hY3JvVGFzaz4wLGV2ZW50VGFzazpuLmV2ZW50VGFzaz4wLGNoYW5nZTplfSl9fWNsYXNzIHV7Y29uc3RydWN0b3IodCxuLG8scixzLGEpe2lmKHRoaXMuX3pvbmU9bnVsbCx0aGlzLnJ1bkNvdW50PTAsdGhpcy5fem9uZURlbGVnYXRlcz1udWxsLHRoaXMuX3N0YXRlPSJub3RTY2hlZHVsZWQiLHRoaXMudHlwZT10LHRoaXMuc291cmNlPW4sdGhpcy5kYXRhPXIsdGhpcy5zY2hlZHVsZUZuPXMsdGhpcy5jYW5jZWxGbj1hLCFvKXRocm93IG5ldyBFcnJvcigiY2FsbGJhY2sgaXMgbm90IGRlZmluZWQiKTt0aGlzLmNhbGxiYWNrPW87Y29uc3QgaT10aGlzO3RoaXMuaW52b2tlPXQ9PT1QJiZyJiZyLnVzZUc/dS5pbnZva2VUYXNrOmZ1bmN0aW9uKCl7cmV0dXJuIHUuaW52b2tlVGFzay5jYWxsKGUsaSx0aGlzLGFyZ3VtZW50cyl9fXN0YXRpYyBpbnZva2VUYXNrKGUsdCxuKXtlfHwoZT10aGlzKSxJKys7dHJ5e3JldHVybiBlLnJ1bkNvdW50KyssZS56b25lLnJ1blRhc2soZSx0LG4pfWZpbmFsbHl7MT09SSYmbSgpLEktLX19Z2V0IHpvbmUoKXtyZXR1cm4gdGhpcy5fem9uZX1nZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9Y2FuY2VsU2NoZWR1bGVSZXF1ZXN0KCl7dGhpcy5fdHJhbnNpdGlvblRvKHYsVCl9X3RyYW5zaXRpb25UbyhlLHQsbil7aWYodGhpcy5fc3RhdGUhPT10JiZ0aGlzLl9zdGF0ZSE9PW4pdGhyb3cgbmV3IEVycm9yKGAke3RoaXMudHlwZX0gJyR7dGhpcy5zb3VyY2V9JzogY2FuIG5vdCB0cmFuc2l0aW9uIHRvICcke2V9JywgZXhwZWN0aW5nIHN0YXRlICcke3R9JyR7bj8iIG9yICciK24rIiciOiIifSwgd2FzICcke3RoaXMuX3N0YXRlfScuYCk7dGhpcy5fc3RhdGU9ZSxlPT12JiYodGhpcy5fem9uZURlbGVnYXRlcz1udWxsKX10b1N0cmluZygpe3JldHVybiB0aGlzLmRhdGEmJnZvaWQgMCE9PXRoaXMuZGF0YS5oYW5kbGVJZD90aGlzLmRhdGEuaGFuZGxlSWQudG9TdHJpbmcoKTpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcyl9dG9KU09OKCl7cmV0dXJue3R5cGU6dGhpcy50eXBlLHN0YXRlOnRoaXMuc3RhdGUsc291cmNlOnRoaXMuc291cmNlLHpvbmU6dGhpcy56b25lLm5hbWUscnVuQ291bnQ6dGhpcy5ydW5Db3VudH19fWNvbnN0IGg9cygic2V0VGltZW91dCIpLHA9cygiUHJvbWlzZSIpLGY9cygidGhlbiIpO2xldCBkLGc9W10sXz0hMTtmdW5jdGlvbiBrKHQpe2lmKDA9PT1JJiYwPT09Zy5sZW5ndGgpaWYoZHx8ZVtwXSYmKGQ9ZVtwXS5yZXNvbHZlKDApKSxkKXtsZXQgZT1kW2ZdO2V8fChlPWQudGhlbiksZS5jYWxsKGQsbSl9ZWxzZSBlW2hdKG0sMCk7dCYmZy5wdXNoKHQpfWZ1bmN0aW9uIG0oKXtpZighXyl7Zm9yKF89ITA7Zy5sZW5ndGg7KXtjb25zdCB0PWc7Zz1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgbz10W25dO3RyeXtvLnpvbmUucnVuVGFzayhvLG51bGwsbnVsbCl9Y2F0Y2goZSl7Qy5vblVuaGFuZGxlZEVycm9yKGUpfX19Qy5taWNyb3Rhc2tEcmFpbkRvbmUoKSxfPSExfX1jb25zdCB5PXtuYW1lOiJOTyBaT05FIn0sdj0ibm90U2NoZWR1bGVkIixUPSJzY2hlZHVsaW5nIixiPSJzY2hlZHVsZWQiLEU9InJ1bm5pbmciLHc9ImNhbmNlbGluZyIsWj0idW5rbm93biIsUz0ibWljcm9UYXNrIixEPSJtYWNyb1Rhc2siLFA9ImV2ZW50VGFzayIsTz17fSxDPXtzeW1ib2w6cyxjdXJyZW50Wm9uZUZyYW1lOigpPT56LG9uVW5oYW5kbGVkRXJyb3I6UixtaWNyb3Rhc2tEcmFpbkRvbmU6UixzY2hlZHVsZU1pY3JvVGFzazprLHNob3dVbmNhdWdodEVycm9yOigpPT4haVtzKCJpZ25vcmVDb25zb2xlRXJyb3JVbmNhdWdodEVycm9yIildLHBhdGNoRXZlbnRUYXJnZXQ6KCk9PltdLHBhdGNoT25Qcm9wZXJ0aWVzOlIscGF0Y2hNZXRob2Q6KCk9PlIsYmluZEFyZ3VtZW50czooKT0+W10scGF0Y2hUaGVuOigpPT5SLHBhdGNoTWFjcm9UYXNrOigpPT5SLHBhdGNoRXZlbnRQcm90b3R5cGU6KCk9PlIsaXNJRU9yRWRnZTooKT0+ITEsZ2V0R2xvYmFsT2JqZWN0czooKT0+e30sT2JqZWN0RGVmaW5lUHJvcGVydHk6KCk9PlIsT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOigpPT57fSxPYmplY3RDcmVhdGU6KCk9Pnt9LEFycmF5U2xpY2U6KCk9PltdLHBhdGNoQ2xhc3M6KCk9PlIsd3JhcFdpdGhDdXJyZW50Wm9uZTooKT0+UixmaWx0ZXJQcm9wZXJ0aWVzOigpPT5bXSxhdHRhY2hPcmlnaW5Ub1BhdGNoZWQ6KCk9PlIsX3JlZGVmaW5lUHJvcGVydHk6KCk9PlIscGF0Y2hDYWxsYmFja3M6KCk9PlJ9O2xldCB6PXtwYXJlbnQ6bnVsbCx6b25lOm5ldyBpKG51bGwsbnVsbCl9LGo9bnVsbCxJPTA7ZnVuY3Rpb24gUigpe31vKCJab25lIiwiWm9uZSIpLGUuWm9uZT1pfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93fHwidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGZ8fGdsb2JhbCk7Y29uc3QgZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LG49T2JqZWN0LmdldFByb3RvdHlwZU9mLG89T2JqZWN0LmNyZWF0ZSxyPUFycmF5LnByb3RvdHlwZS5zbGljZSxzPSJhZGRFdmVudExpc3RlbmVyIixhPSJyZW1vdmVFdmVudExpc3RlbmVyIixpPVpvbmUuX19zeW1ib2xfXyhzKSxjPVpvbmUuX19zeW1ib2xfXyhhKSxsPSJ0cnVlIix1PSJmYWxzZSIsaD1ab25lLl9fc3ltYm9sX18oIiIpO2Z1bmN0aW9uIHAoZSx0KXtyZXR1cm4gWm9uZS5jdXJyZW50LndyYXAoZSx0KX1mdW5jdGlvbiBmKGUsdCxuLG8scil7cmV0dXJuIFpvbmUuY3VycmVudC5zY2hlZHVsZU1hY3JvVGFzayhlLHQsbixvLHIpfWNvbnN0IGQ9Wm9uZS5fX3N5bWJvbF9fLGc9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3csXz1nP3dpbmRvdzp2b2lkIDAsaz1nJiZffHwib2JqZWN0Ij09dHlwZW9mIHNlbGYmJnNlbGZ8fGdsb2JhbCxtPVtudWxsXTtmdW5jdGlvbiB5KGUsdCl7Zm9yKGxldCBuPWUubGVuZ3RoLTE7bj49MDtuLS0pImZ1bmN0aW9uIj09dHlwZW9mIGVbbl0mJihlW25dPXAoZVtuXSx0KyJfIituKSk7cmV0dXJuIGV9ZnVuY3Rpb24gdihlKXtyZXR1cm4hZXx8ITEhPT1lLndyaXRhYmxlJiYhKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldCYmdm9pZCAwPT09ZS5zZXQpfWNvbnN0IFQ9InVuZGVmaW5lZCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlLGI9ISgibnciaW4gaykmJnZvaWQgMCE9PWsucHJvY2VzcyYmIltvYmplY3QgcHJvY2Vzc10iPT09e30udG9TdHJpbmcuY2FsbChrLnByb2Nlc3MpLEU9IWImJiFUJiYhKCFnfHwhXy5IVE1MRWxlbWVudCksdz12b2lkIDAhPT1rLnByb2Nlc3MmJiJbb2JqZWN0IHByb2Nlc3NdIj09PXt9LnRvU3RyaW5nLmNhbGwoay5wcm9jZXNzKSYmIVQmJiEoIWd8fCFfLkhUTUxFbGVtZW50KSxaPXt9LFM9ZnVuY3Rpb24oZSl7aWYoIShlPWV8fGsuZXZlbnQpKXJldHVybjtsZXQgdD1aW2UudHlwZV07dHx8KHQ9WltlLnR5cGVdPWQoIk9OX1BST1BFUlRZIitlLnR5cGUpKTtjb25zdCBuPXRoaXN8fGUudGFyZ2V0fHxrLG89blt0XTtsZXQgcjtpZihFJiZuPT09XyYmImVycm9yIj09PWUudHlwZSl7Y29uc3QgdD1lO3I9byYmby5jYWxsKHRoaXMsdC5tZXNzYWdlLHQuZmlsZW5hbWUsdC5saW5lbm8sdC5jb2xubyx0LmVycm9yKSwhMD09PXImJmUucHJldmVudERlZmF1bHQoKX1lbHNlIHI9byYmby5hcHBseSh0aGlzLGFyZ3VtZW50cyksbnVsbD09cnx8cnx8ZS5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiByfTtmdW5jdGlvbiBEKG4sbyxyKXtsZXQgcz1lKG4sbyk7aWYoIXMmJnImJmUocixvKSYmKHM9e2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksIXN8fCFzLmNvbmZpZ3VyYWJsZSlyZXR1cm47Y29uc3QgYT1kKCJvbiIrbysicGF0Y2hlZCIpO2lmKG4uaGFzT3duUHJvcGVydHkoYSkmJm5bYV0pcmV0dXJuO2RlbGV0ZSBzLndyaXRhYmxlLGRlbGV0ZSBzLnZhbHVlO2NvbnN0IGk9cy5nZXQsYz1zLnNldCxsPW8uc3Vic3RyKDIpO2xldCB1PVpbbF07dXx8KHU9WltsXT1kKCJPTl9QUk9QRVJUWSIrbCkpLHMuc2V0PWZ1bmN0aW9uKGUpe2xldCB0PXRoaXM7dHx8biE9PWt8fCh0PWspLHQmJih0W3VdJiZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIobCxTKSxjJiZjLmFwcGx5KHQsbSksImZ1bmN0aW9uIj09dHlwZW9mIGU/KHRbdV09ZSx0LmFkZEV2ZW50TGlzdGVuZXIobCxTLCExKSk6dFt1XT1udWxsKX0scy5nZXQ9ZnVuY3Rpb24oKXtsZXQgZT10aGlzO2lmKGV8fG4hPT1rfHwoZT1rKSwhZSlyZXR1cm4gbnVsbDtjb25zdCB0PWVbdV07aWYodClyZXR1cm4gdDtpZihpKXtsZXQgdD1pJiZpLmNhbGwodGhpcyk7aWYodClyZXR1cm4gcy5zZXQuY2FsbCh0aGlzLHQpLCJmdW5jdGlvbiI9PXR5cGVvZiBlLnJlbW92ZUF0dHJpYnV0ZSYmZS5yZW1vdmVBdHRyaWJ1dGUobyksdH1yZXR1cm4gbnVsbH0sdChuLG8scyksblthXT0hMH1mdW5jdGlvbiBQKGUsdCxuKXtpZih0KWZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKUQoZSwib24iK3Rbb10sbik7ZWxzZXtjb25zdCB0PVtdO2Zvcihjb25zdCBuIGluIGUpIm9uIj09bi5zdWJzdHIoMCwyKSYmdC5wdXNoKG4pO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKUQoZSx0W29dLG4pfX1jb25zdCBPPWQoIm9yaWdpbmFsSW5zdGFuY2UiKTtmdW5jdGlvbiBDKGUpe2NvbnN0IG49a1tlXTtpZighbilyZXR1cm47a1tkKGUpXT1uLGtbZV09ZnVuY3Rpb24oKXtjb25zdCB0PXkoYXJndW1lbnRzLGUpO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnRoaXNbT109bmV3IG47YnJlYWs7Y2FzZSAxOnRoaXNbT109bmV3IG4odFswXSk7YnJlYWs7Y2FzZSAyOnRoaXNbT109bmV3IG4odFswXSx0WzFdKTticmVhaztjYXNlIDM6dGhpc1tPXT1uZXcgbih0WzBdLHRbMV0sdFsyXSk7YnJlYWs7Y2FzZSA0OnRoaXNbT109bmV3IG4odFswXSx0WzFdLHRbMl0sdFszXSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkFyZyBsaXN0IHRvbyBsb25nLiIpfX0sSShrW2VdLG4pO2NvbnN0IG89bmV3IG4oZnVuY3Rpb24oKXt9KTtsZXQgcjtmb3IociBpbiBvKSJYTUxIdHRwUmVxdWVzdCI9PT1lJiYicmVzcG9uc2VCbG9iIj09PXJ8fGZ1bmN0aW9uKG4peyJmdW5jdGlvbiI9PXR5cGVvZiBvW25dP2tbZV0ucHJvdG90eXBlW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbT11bbl0uYXBwbHkodGhpc1tPXSxhcmd1bWVudHMpfTp0KGtbZV0ucHJvdG90eXBlLG4se3NldDpmdW5jdGlvbih0KXsiZnVuY3Rpb24iPT10eXBlb2YgdD8odGhpc1tPXVtuXT1wKHQsZSsiLiIrbiksSSh0aGlzW09dW25dLHQpKTp0aGlzW09dW25dPXR9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzW09dW25dfX0pfShyKTtmb3IociBpbiBuKSJwcm90b3R5cGUiIT09ciYmbi5oYXNPd25Qcm9wZXJ0eShyKSYmKGtbZV1bcl09bltyXSl9ZnVuY3Rpb24geih0LG8scil7bGV0IHM9dDtmb3IoO3MmJiFzLmhhc093blByb3BlcnR5KG8pOylzPW4ocyk7IXMmJnRbb10mJihzPXQpO2NvbnN0IGE9ZChvKTtsZXQgaT1udWxsO2lmKHMmJighKGk9c1thXSl8fCFzLmhhc093blByb3BlcnR5KGEpKSYmKGk9c1thXT1zW29dLHYocyYmZShzLG8pKSkpe2NvbnN0IGU9cihpLGEsbyk7c1tvXT1mdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzKX0sSShzW29dLGkpfXJldHVybiBpfWZ1bmN0aW9uIGooZSx0LG4pe2xldCBvPW51bGw7ZnVuY3Rpb24gcihlKXtjb25zdCB0PWUuZGF0YTtyZXR1cm4gdC5hcmdzW3QuY2JJZHhdPWZ1bmN0aW9uKCl7ZS5pbnZva2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvLmFwcGx5KHQudGFyZ2V0LHQuYXJncyksZX1vPXooZSx0LGU9PmZ1bmN0aW9uKHQsbyl7Y29uc3Qgcz1uKHQsbyk7cmV0dXJuIHMuY2JJZHg+PTAmJiJmdW5jdGlvbiI9PXR5cGVvZiBvW3MuY2JJZHhdP2Yocy5uYW1lLG9bcy5jYklkeF0scyxyKTplLmFwcGx5KHQsbyl9KX1mdW5jdGlvbiBJKGUsdCl7ZVtkKCJPcmlnaW5hbERlbGVnYXRlIildPXR9bGV0IFI9ITEsTT0hMTtmdW5jdGlvbiBOKCl7dHJ5e2NvbnN0IGU9Xy5uYXZpZ2F0b3IudXNlckFnZW50O2lmKC0xIT09ZS5pbmRleE9mKCJNU0lFICIpfHwtMSE9PWUuaW5kZXhPZigiVHJpZGVudC8iKSlyZXR1cm4hMH1jYXRjaChlKXt9cmV0dXJuITF9ZnVuY3Rpb24geCgpe2lmKFIpcmV0dXJuIE07Uj0hMDt0cnl7Y29uc3QgZT1fLm5hdmlnYXRvci51c2VyQWdlbnQ7LTE9PT1lLmluZGV4T2YoIk1TSUUgIikmJi0xPT09ZS5pbmRleE9mKCJUcmlkZW50LyIpJiYtMT09PWUuaW5kZXhPZigiRWRnZS8iKXx8KE09ITApfWNhdGNoKGUpe31yZXR1cm4gTX1ab25lLl9fbG9hZF9wYXRjaCgiWm9uZUF3YXJlUHJvbWlzZSIsKGUsdCxuKT0+e2NvbnN0IG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixyPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxzPW4uc3ltYm9sLGE9W10saT0hMD09PWVbcygiRElTQUJMRV9XUkFQUElOR19VTkNBVUdIVF9QUk9NSVNFX1JFSkVDVElPTiIpXSxjPXMoIlByb21pc2UiKSxsPXMoInRoZW4iKTtuLm9uVW5oYW5kbGVkRXJyb3I9ZT0+e2lmKG4uc2hvd1VuY2F1Z2h0RXJyb3IoKSl7Y29uc3QgdD1lJiZlLnJlamVjdGlvbjt0P2NvbnNvbGUuZXJyb3IoIlVuaGFuZGxlZCBQcm9taXNlIHJlamVjdGlvbjoiLHQgaW5zdGFuY2VvZiBFcnJvcj90Lm1lc3NhZ2U6dCwiOyBab25lOiIsZS56b25lLm5hbWUsIjsgVGFzazoiLGUudGFzayYmZS50YXNrLnNvdXJjZSwiOyBWYWx1ZToiLHQsdCBpbnN0YW5jZW9mIEVycm9yP3Quc3RhY2s6dm9pZCAwKTpjb25zb2xlLmVycm9yKGUpfX0sbi5taWNyb3Rhc2tEcmFpbkRvbmU9KCk9Pntmb3IoO2EubGVuZ3RoOyl7Y29uc3QgdD1hLnNoaWZ0KCk7dHJ5e3Quem9uZS5ydW5HdWFyZGVkKCgpPT57aWYodC50aHJvd09yaWdpbmFsKXRocm93IHQucmVqZWN0aW9uO3Rocm93IHR9KX1jYXRjaChlKXtoKGUpfX19O2NvbnN0IHU9cygidW5oYW5kbGVkUHJvbWlzZVJlamVjdGlvbkhhbmRsZXIiKTtmdW5jdGlvbiBoKGUpe24ub25VbmhhbmRsZWRFcnJvcihlKTt0cnl7Y29uc3Qgbj10W3VdOyJmdW5jdGlvbiI9PXR5cGVvZiBuJiZuLmNhbGwodGhpcyxlKX1jYXRjaChvKXt9fWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGUmJmUudGhlbn1mdW5jdGlvbiBmKGUpe3JldHVybiBlfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIEMucmVqZWN0KGUpfWNvbnN0IGc9cygic3RhdGUiKSxfPXMoInZhbHVlIiksaz1zKCJmaW5hbGx5IiksbT1zKCJwYXJlbnRQcm9taXNlVmFsdWUiKSx5PXMoInBhcmVudFByb21pc2VTdGF0ZSIpLHY9bnVsbCxUPSEwLGI9ITE7ZnVuY3Rpb24gRShlLHQpe3JldHVybiBuPT57dHJ5e1ooZSx0LG4pfWNhdGNoKG8pe1ooZSwhMSxvKX19fWNvbnN0IHc9cygiY3VycmVudFRhc2tUcmFjZSIpO2Z1bmN0aW9uIFooZSxvLHMpe2NvbnN0IGM9ZnVuY3Rpb24oKXtsZXQgZT0hMTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7ZXx8KGU9ITAsdC5hcHBseShudWxsLGFyZ3VtZW50cykpfX19KCk7aWYoZT09PXMpdGhyb3cgbmV3IFR5cGVFcnJvcigiUHJvbWlzZSByZXNvbHZlZCB3aXRoIGl0c2VsZiIpO2lmKGVbZ109PT12KXtsZXQgaD1udWxsO3RyeXsib2JqZWN0IiE9dHlwZW9mIHMmJiJmdW5jdGlvbiIhPXR5cGVvZiBzfHwoaD1zJiZzLnRoZW4pfWNhdGNoKHUpe3JldHVybiBjKCgpPT57WihlLCExLHUpfSkoKSxlfWlmKG8hPT1iJiZzIGluc3RhbmNlb2YgQyYmcy5oYXNPd25Qcm9wZXJ0eShnKSYmcy5oYXNPd25Qcm9wZXJ0eShfKSYmc1tnXSE9PXYpRChzKSxaKGUsc1tnXSxzW19dKTtlbHNlIGlmKG8hPT1iJiYiZnVuY3Rpb24iPT10eXBlb2YgaCl0cnl7aC5jYWxsKHMsYyhFKGUsbykpLGMoRShlLCExKSkpfWNhdGNoKHUpe2MoKCk9PntaKGUsITEsdSl9KSgpfWVsc2V7ZVtnXT1vO2NvbnN0IGM9ZVtfXTtpZihlW19dPXMsZVtrXT09PWsmJm89PT1UJiYoZVtnXT1lW3ldLGVbX109ZVttXSksbz09PWImJnMgaW5zdGFuY2VvZiBFcnJvcil7Y29uc3QgZT10LmN1cnJlbnRUYXNrJiZ0LmN1cnJlbnRUYXNrLmRhdGEmJnQuY3VycmVudFRhc2suZGF0YS5fX2NyZWF0aW9uVHJhY2VfXztlJiZyKHMsdyx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfWZvcihsZXQgdD0wO3Q8Yy5sZW5ndGg7KVAoZSxjW3QrK10sY1t0KytdLGNbdCsrXSxjW3QrK10pO2lmKDA9PWMubGVuZ3RoJiZvPT1iKXtlW2ddPTA7bGV0IG89czt0cnl7dGhyb3cgbmV3IEVycm9yKCJVbmNhdWdodCAoaW4gcHJvbWlzZSk6ICIrKChsPXMpJiZsLnRvU3RyaW5nPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZz8obC5jb25zdHJ1Y3RvciYmbC5jb25zdHJ1Y3Rvci5uYW1lfHwiIikrIjogIitKU09OLnN0cmluZ2lmeShsKTpsP2wudG9TdHJpbmcoKTpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobCkpKyhzJiZzLnN0YWNrPyJcbiIrcy5zdGFjazoiIikpfWNhdGNoKHUpe289dX1pJiYoby50aHJvd09yaWdpbmFsPSEwKSxvLnJlamVjdGlvbj1zLG8ucHJvbWlzZT1lLG8uem9uZT10LmN1cnJlbnQsby50YXNrPXQuY3VycmVudFRhc2ssYS5wdXNoKG8pLG4uc2NoZWR1bGVNaWNyb1Rhc2soKX19fXZhciBsO3JldHVybiBlfWNvbnN0IFM9cygicmVqZWN0aW9uSGFuZGxlZEhhbmRsZXIiKTtmdW5jdGlvbiBEKGUpe2lmKDA9PT1lW2ddKXt0cnl7Y29uc3Qgbj10W1NdO24mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiZuLmNhbGwodGhpcyx7cmVqZWN0aW9uOmVbX10scHJvbWlzZTplfSl9Y2F0Y2gobil7fWVbZ109Yjtmb3IobGV0IHQ9MDt0PGEubGVuZ3RoO3QrKyllPT09YVt0XS5wcm9taXNlJiZhLnNwbGljZSh0LDEpfX1mdW5jdGlvbiBQKGUsdCxuLG8scil7RChlKTtjb25zdCBzPWVbZ10sYT1zPyJmdW5jdGlvbiI9PXR5cGVvZiBvP286ZjoiZnVuY3Rpb24iPT10eXBlb2Ygcj9yOmQ7dC5zY2hlZHVsZU1pY3JvVGFzaygiUHJvbWlzZS50aGVuIiwoKT0+e3RyeXtjb25zdCBvPWVbX10scj0hIW4mJms9PT1uW2tdO3ImJihuW21dPW8sblt5XT1zKTtjb25zdCBpPXQucnVuKGEsdm9pZCAwLHImJmEhPT1kJiZhIT09Zj9bXTpbb10pO1oobiwhMCxpKX1jYXRjaChvKXtaKG4sITEsbyl9fSxuKX1jb25zdCBPPWZ1bmN0aW9uKCl7fTtjbGFzcyBDe3N0YXRpYyB0b1N0cmluZygpe3JldHVybiJmdW5jdGlvbiBab25lQXdhcmVQcm9taXNlKCkgeyBbbmF0aXZlIGNvZGVdIH0ifXN0YXRpYyByZXNvbHZlKGUpe3JldHVybiBaKG5ldyB0aGlzKG51bGwpLFQsZSl9c3RhdGljIHJlamVjdChlKXtyZXR1cm4gWihuZXcgdGhpcyhudWxsKSxiLGUpfXN0YXRpYyByYWNlKGUpe2xldCB0LG4sbz1uZXcgdGhpcygoZSxvKT0+e3Q9ZSxuPW99KTtmdW5jdGlvbiByKGUpe3QoZSl9ZnVuY3Rpb24gcyhlKXtuKGUpfWZvcihsZXQgYSBvZiBlKXAoYSl8fChhPXRoaXMucmVzb2x2ZShhKSksYS50aGVuKHIscyk7cmV0dXJuIG99c3RhdGljIGFsbChlKXtyZXR1cm4gQy5hbGxXaXRoQ2FsbGJhY2soZSl9c3RhdGljIGFsbFNldHRsZWQoZSl7cmV0dXJuKHRoaXMmJnRoaXMucHJvdG90eXBlIGluc3RhbmNlb2YgQz90aGlzOkMpLmFsbFdpdGhDYWxsYmFjayhlLHt0aGVuQ2FsbGJhY2s6ZT0+KHtzdGF0dXM6ImZ1bGZpbGxlZCIsdmFsdWU6ZX0pLGVycm9yQ2FsbGJhY2s6ZT0+KHtzdGF0dXM6InJlamVjdGVkIixyZWFzb246ZX0pfSl9c3RhdGljIGFsbFdpdGhDYWxsYmFjayhlLHQpe2xldCBuLG8scj1uZXcgdGhpcygoZSx0KT0+e249ZSxvPXR9KSxzPTIsYT0wO2NvbnN0IGk9W107Zm9yKGxldCBsIG9mIGUpe3AobCl8fChsPXRoaXMucmVzb2x2ZShsKSk7Y29uc3QgZT1hO3RyeXtsLnRoZW4obz0+e2lbZV09dD90LnRoZW5DYWxsYmFjayhvKTpvLHMtLSwwPT09cyYmbihpKX0scj0+e3Q/KGlbZV09dC5lcnJvckNhbGxiYWNrKHIpLHMtLSwwPT09cyYmbihpKSk6byhyKX0pfWNhdGNoKGMpe28oYyl9cysrLGErK31yZXR1cm4gcy09MiwwPT09cyYmbihpKSxyfWNvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9dGhpcztpZighKHQgaW5zdGFuY2VvZiBDKSl0aHJvdyBuZXcgRXJyb3IoIk11c3QgYmUgYW4gaW5zdGFuY2VvZiBQcm9taXNlLiIpO3RbZ109dix0W19dPVtdO3RyeXtlJiZlKEUodCxUKSxFKHQsYikpfWNhdGNoKG4pe1oodCwhMSxuKX19Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iUHJvbWlzZSJ9Z2V0W1N5bWJvbC5zcGVjaWVzXSgpe3JldHVybiBDfXRoZW4oZSxuKXtsZXQgbz10aGlzLmNvbnN0cnVjdG9yW1N5bWJvbC5zcGVjaWVzXTtvJiYiZnVuY3Rpb24iPT10eXBlb2Ygb3x8KG89dGhpcy5jb25zdHJ1Y3Rvcnx8Qyk7Y29uc3Qgcj1uZXcgbyhPKSxzPXQuY3VycmVudDtyZXR1cm4gdGhpc1tnXT09dj90aGlzW19dLnB1c2gocyxyLGUsbik6UCh0aGlzLHMscixlLG4pLHJ9Y2F0Y2goZSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGUpfWZpbmFsbHkoZSl7bGV0IG49dGhpcy5jb25zdHJ1Y3RvcltTeW1ib2wuc3BlY2llc107biYmImZ1bmN0aW9uIj09dHlwZW9mIG58fChuPUMpO2NvbnN0IG89bmV3IG4oTyk7b1trXT1rO2NvbnN0IHI9dC5jdXJyZW50O3JldHVybiB0aGlzW2ddPT12P3RoaXNbX10ucHVzaChyLG8sZSxlKTpQKHRoaXMscixvLGUsZSksb319Qy5yZXNvbHZlPUMucmVzb2x2ZSxDLnJlamVjdD1DLnJlamVjdCxDLnJhY2U9Qy5yYWNlLEMuYWxsPUMuYWxsO2NvbnN0IGo9ZVtjXT1lLlByb21pc2U7ZS5Qcm9taXNlPUM7Y29uc3QgST1zKCJ0aGVuUGF0Y2hlZCIpO2Z1bmN0aW9uIFIoZSl7Y29uc3QgdD1lLnByb3RvdHlwZSxuPW8odCwidGhlbiIpO2lmKG4mJighMT09PW4ud3JpdGFibGV8fCFuLmNvbmZpZ3VyYWJsZSkpcmV0dXJuO2NvbnN0IHI9dC50aGVuO3RbbF09cixlLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBDKChlLHQpPT57ci5jYWxsKHRoaXMsZSx0KX0pLnRoZW4oZSx0KX0sZVtJXT0hMH1yZXR1cm4gbi5wYXRjaFRoZW49UixqJiYoUihqKSx6KGUsImZldGNoIixlPT57cmV0dXJuIHQ9ZSxmdW5jdGlvbihlLG4pe2xldCBvPXQuYXBwbHkoZSxuKTtpZihvIGluc3RhbmNlb2YgQylyZXR1cm4gbztsZXQgcj1vLmNvbnN0cnVjdG9yO3JldHVybiByW0ldfHxSKHIpLG99O3ZhciB0fSkpLFByb21pc2VbdC5fX3N5bWJvbF9fKCJ1bmNhdWdodFByb21pc2VFcnJvcnMiKV09YSxDfSksWm9uZS5fX2xvYWRfcGF0Y2goInRvU3RyaW5nIixlPT57Y29uc3QgdD1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcsbj1kKCJPcmlnaW5hbERlbGVnYXRlIiksbz1kKCJQcm9taXNlIikscj1kKCJFcnJvciIpLHM9ZnVuY3Rpb24oKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdGhpcyl7Y29uc3Qgcz10aGlzW25dO2lmKHMpcmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHM/dC5jYWxsKHMpOk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzKTtpZih0aGlzPT09UHJvbWlzZSl7Y29uc3Qgbj1lW29dO2lmKG4pcmV0dXJuIHQuY2FsbChuKX1pZih0aGlzPT09RXJyb3Ipe2NvbnN0IG49ZVtyXTtpZihuKXJldHVybiB0LmNhbGwobil9fXJldHVybiB0LmNhbGwodGhpcyl9O3Nbbl09dCxGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc9cztjb25zdCBhPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBQcm9taXNlJiZ0aGlzIGluc3RhbmNlb2YgUHJvbWlzZT8iW29iamVjdCBQcm9taXNlXSI6YS5jYWxsKHRoaXMpfX0pO2xldCBMPSExO2lmKCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93KXRyeXtjb25zdCBlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwicGFzc2l2ZSIse2dldDpmdW5jdGlvbigpe0w9ITB9fSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInRlc3QiLGUsZSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRlc3QiLGUsZSl9Y2F0Y2goaGUpe0w9ITF9Y29uc3QgQT17dXNlRzohMH0sSD17fSxGPXt9LHE9bmV3IFJlZ0V4cCgiXiIraCsiKFxcdyspKHRydWV8ZmFsc2UpJCIpLEc9ZCgicHJvcGFnYXRpb25TdG9wcGVkIik7ZnVuY3Rpb24gQihlLHQpe2NvbnN0IG49KHQ/dChlKTplKSt1LG89KHQ/dChlKTplKStsLHI9aCtuLHM9aCtvO0hbZV09e30sSFtlXS5mYWxzZT1yLEhbZV0udHJ1ZT1zfWZ1bmN0aW9uIFcoZSx0LG8pe2NvbnN0IHI9byYmby5hZGR8fHMsaT1vJiZvLnJtfHxhLGM9byYmby5saXN0ZW5lcnN8fCJldmVudExpc3RlbmVycyIscD1vJiZvLnJtQWxsfHwicmVtb3ZlQWxsTGlzdGVuZXJzIixmPWQociksZz0iLiIrcisiOiIsXz1mdW5jdGlvbihlLHQsbil7aWYoZS5pc1JlbW92ZWQpcmV0dXJuO2NvbnN0IG89ZS5jYWxsYmFjazsib2JqZWN0Ij09dHlwZW9mIG8mJm8uaGFuZGxlRXZlbnQmJihlLmNhbGxiYWNrPWU9Pm8uaGFuZGxlRXZlbnQoZSksZS5vcmlnaW5hbERlbGVnYXRlPW8pLGUuaW52b2tlKGUsdCxbbl0pO2NvbnN0IHI9ZS5vcHRpb25zO3ImJiJvYmplY3QiPT10eXBlb2YgciYmci5vbmNlJiZ0W2ldLmNhbGwodCxuLnR5cGUsZS5vcmlnaW5hbERlbGVnYXRlP2Uub3JpZ2luYWxEZWxlZ2F0ZTplLmNhbGxiYWNrLHIpfSxrPWZ1bmN0aW9uKHQpe2lmKCEodD10fHxlLmV2ZW50KSlyZXR1cm47Y29uc3Qgbj10aGlzfHx0LnRhcmdldHx8ZSxvPW5bSFt0LnR5cGVdLmZhbHNlXTtpZihvKWlmKDE9PT1vLmxlbmd0aClfKG9bMF0sbix0KTtlbHNle2NvbnN0IGU9by5zbGljZSgpO2ZvcihsZXQgbz0wO288ZS5sZW5ndGgmJighdHx8ITAhPT10W0ddKTtvKyspXyhlW29dLG4sdCl9fSxtPWZ1bmN0aW9uKHQpe2lmKCEodD10fHxlLmV2ZW50KSlyZXR1cm47Y29uc3Qgbj10aGlzfHx0LnRhcmdldHx8ZSxvPW5bSFt0LnR5cGVdLnRydWVdO2lmKG8paWYoMT09PW8ubGVuZ3RoKV8ob1swXSxuLHQpO2Vsc2V7Y29uc3QgZT1vLnNsaWNlKCk7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aCYmKCF0fHwhMCE9PXRbR10pO28rKylfKGVbb10sbix0KX19O2Z1bmN0aW9uIHkodCxvKXtpZighdClyZXR1cm4hMTtsZXQgcz0hMDtvJiZ2b2lkIDAhPT1vLnVzZUcmJihzPW8udXNlRyk7Y29uc3QgYT1vJiZvLnZoO2xldCBfPSEwO28mJnZvaWQgMCE9PW8uY2hrRHVwJiYoXz1vLmNoa0R1cCk7bGV0IHk9ITE7byYmdm9pZCAwIT09by5ydCYmKHk9by5ydCk7bGV0IHY9dDtmb3IoO3YmJiF2Lmhhc093blByb3BlcnR5KHIpOyl2PW4odik7aWYoIXYmJnRbcl0mJih2PXQpLCF2KXJldHVybiExO2lmKHZbZl0pcmV0dXJuITE7Y29uc3QgVD1vJiZvLmV2ZW50TmFtZVRvU3RyaW5nLEU9e30sdz12W2ZdPXZbcl0sWj12W2QoaSldPXZbaV0sUz12W2QoYyldPXZbY10sRD12W2QocCldPXZbcF07bGV0IFA7ZnVuY3Rpb24gTyhlLHQpe3JldHVybiFMJiYib2JqZWN0Ij09dHlwZW9mIGUmJmU/ISFlLmNhcHR1cmU6TCYmdD8iYm9vbGVhbiI9PXR5cGVvZiBlP3tjYXB0dXJlOmUscGFzc2l2ZTohMH06ZT8ib2JqZWN0Ij09dHlwZW9mIGUmJiExIT09ZS5wYXNzaXZlP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7cGFzc2l2ZTohMH0pOmU6e3Bhc3NpdmU6ITB9OmV9byYmby5wcmVwZW5kJiYoUD12W2Qoby5wcmVwZW5kKV09dltvLnByZXBlbmRdKTtjb25zdCBDPXM/ZnVuY3Rpb24oZSl7aWYoIUUuaXNFeGlzdGluZylyZXR1cm4gdy5jYWxsKEUudGFyZ2V0LEUuZXZlbnROYW1lLEUuY2FwdHVyZT9tOmssRS5vcHRpb25zKX06ZnVuY3Rpb24oZSl7cmV0dXJuIHcuY2FsbChFLnRhcmdldCxFLmV2ZW50TmFtZSxlLmludm9rZSxFLm9wdGlvbnMpfSx6PXM/ZnVuY3Rpb24oZSl7aWYoIWUuaXNSZW1vdmVkKXtjb25zdCB0PUhbZS5ldmVudE5hbWVdO2xldCBuO3QmJihuPXRbZS5jYXB0dXJlP2w6dV0pO2NvbnN0IG89biYmZS50YXJnZXRbbl07aWYobylmb3IobGV0IHI9MDtyPG8ubGVuZ3RoO3IrKylpZihvW3JdPT09ZSl7by5zcGxpY2UociwxKSxlLmlzUmVtb3ZlZD0hMCwwPT09by5sZW5ndGgmJihlLmFsbFJlbW92ZWQ9ITAsZS50YXJnZXRbbl09bnVsbCk7YnJlYWt9fWlmKGUuYWxsUmVtb3ZlZClyZXR1cm4gWi5jYWxsKGUudGFyZ2V0LGUuZXZlbnROYW1lLGUuY2FwdHVyZT9tOmssZS5vcHRpb25zKX06ZnVuY3Rpb24oZSl7cmV0dXJuIFouY2FsbChlLnRhcmdldCxlLmV2ZW50TmFtZSxlLmludm9rZSxlLm9wdGlvbnMpfSxqPW8mJm8uZGlmZj9vLmRpZmY6ZnVuY3Rpb24oZSx0KXtjb25zdCBuPXR5cGVvZiB0O3JldHVybiJmdW5jdGlvbiI9PT1uJiZlLmNhbGxiYWNrPT09dHx8Im9iamVjdCI9PT1uJiZlLm9yaWdpbmFsRGVsZWdhdGU9PT10fSxSPVpvbmVbZCgiVU5QQVRDSEVEX0VWRU5UUyIpXSxNPWVbZCgiUEFTU0lWRV9FVkVOVFMiKV0sTj1mdW5jdGlvbih0LG4scixpLGM9ITEsaD0hMSl7cmV0dXJuIGZ1bmN0aW9uKCl7Y29uc3QgcD10aGlzfHxlO2xldCBmPWFyZ3VtZW50c1swXTtvJiZvLnRyYW5zZmVyRXZlbnROYW1lJiYoZj1vLnRyYW5zZmVyRXZlbnROYW1lKGYpKTtsZXQgZD1hcmd1bWVudHNbMV07aWYoIWQpcmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKGImJiJ1bmNhdWdodEV4Y2VwdGlvbiI9PT1mKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtsZXQgZz0hMTtpZigiZnVuY3Rpb24iIT10eXBlb2YgZCl7aWYoIWQuaGFuZGxlRXZlbnQpcmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2c9ITB9aWYoYSYmIWEodCxkLHAsYXJndW1lbnRzKSlyZXR1cm47Y29uc3Qgaz1MJiYhIU0mJi0xIT09TS5pbmRleE9mKGYpLG09Tyhhcmd1bWVudHNbMl0sayk7aWYoUilmb3IobGV0IGU9MDtlPFIubGVuZ3RoO2UrKylpZihmPT09UltlXSlyZXR1cm4gaz90LmNhbGwocCxmLGQsbSk6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Y29uc3QgeT0hIW0mJigiYm9vbGVhbiI9PXR5cGVvZiBtfHxtLmNhcHR1cmUpLHY9ISghbXx8Im9iamVjdCIhPXR5cGVvZiBtKSYmbS5vbmNlLHc9Wm9uZS5jdXJyZW50O2xldCBaPUhbZl07Wnx8KEIoZixUKSxaPUhbZl0pO2NvbnN0IFM9Wlt5P2w6dV07bGV0IEQsUD1wW1NdLEM9ITE7aWYoUCl7aWYoQz0hMCxfKWZvcihsZXQgZT0wO2U8UC5sZW5ndGg7ZSsrKWlmKGooUFtlXSxkKSlyZXR1cm59ZWxzZSBQPXBbU109W107Y29uc3Qgej1wLmNvbnN0cnVjdG9yLm5hbWUsST1GW3pdO0kmJihEPUlbZl0pLER8fChEPXorbisoVD9UKGYpOmYpKSxFLm9wdGlvbnM9bSx2JiYoRS5vcHRpb25zLm9uY2U9ITEpLEUudGFyZ2V0PXAsRS5jYXB0dXJlPXksRS5ldmVudE5hbWU9ZixFLmlzRXhpc3Rpbmc9Qztjb25zdCBOPXM/QTp2b2lkIDA7TiYmKE4udGFza0RhdGE9RSk7Y29uc3QgeD13LnNjaGVkdWxlRXZlbnRUYXNrKEQsZCxOLHIsaSk7cmV0dXJuIEUudGFyZ2V0PW51bGwsTiYmKE4udGFza0RhdGE9bnVsbCksdiYmKG0ub25jZT0hMCksKEx8fCJib29sZWFuIiE9dHlwZW9mIHgub3B0aW9ucykmJih4Lm9wdGlvbnM9bSkseC50YXJnZXQ9cCx4LmNhcHR1cmU9eSx4LmV2ZW50TmFtZT1mLGcmJih4Lm9yaWdpbmFsRGVsZWdhdGU9ZCksaD9QLnVuc2hpZnQoeCk6UC5wdXNoKHgpLGM/cDp2b2lkIDB9fTtyZXR1cm4gdltyXT1OKHcsZyxDLHoseSksUCYmKHYucHJlcGVuZExpc3RlbmVyPU4oUCwiLnByZXBlbmRMaXN0ZW5lcjoiLGZ1bmN0aW9uKGUpe3JldHVybiBQLmNhbGwoRS50YXJnZXQsRS5ldmVudE5hbWUsZS5pbnZva2UsRS5vcHRpb25zKX0seix5LCEwKSksdltpXT1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpc3x8ZTtsZXQgbj1hcmd1bWVudHNbMF07byYmby50cmFuc2ZlckV2ZW50TmFtZSYmKG49by50cmFuc2ZlckV2ZW50TmFtZShuKSk7Y29uc3Qgcj1hcmd1bWVudHNbMl0scz0hIXImJigiYm9vbGVhbiI9PXR5cGVvZiByfHxyLmNhcHR1cmUpLGk9YXJndW1lbnRzWzFdO2lmKCFpKXJldHVybiBaLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihhJiYhYShaLGksdCxhcmd1bWVudHMpKXJldHVybjtjb25zdCBjPUhbbl07bGV0IHA7YyYmKHA9Y1tzP2w6dV0pO2NvbnN0IGY9cCYmdFtwXTtpZihmKWZvcihsZXQgZT0wO2U8Zi5sZW5ndGg7ZSsrKXtjb25zdCBvPWZbZV07aWYoaihvLGkpKXJldHVybiBmLnNwbGljZShlLDEpLG8uaXNSZW1vdmVkPSEwLDA9PT1mLmxlbmd0aCYmKG8uYWxsUmVtb3ZlZD0hMCx0W3BdPW51bGwsInN0cmluZyI9PXR5cGVvZiBuKSYmKHRbaCsiT05fUFJPUEVSVFkiK25dPW51bGwpLG8uem9uZS5jYW5jZWxUYXNrKG8pLHk/dDp2b2lkIDB9cmV0dXJuIFouYXBwbHkodGhpcyxhcmd1bWVudHMpfSx2W2NdPWZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzfHxlO2xldCBuPWFyZ3VtZW50c1swXTtvJiZvLnRyYW5zZmVyRXZlbnROYW1lJiYobj1vLnRyYW5zZmVyRXZlbnROYW1lKG4pKTtjb25zdCByPVtdLHM9VSh0LFQ/VChuKTpuKTtmb3IobGV0IGU9MDtlPHMubGVuZ3RoO2UrKyl7Y29uc3QgdD1zW2VdO3IucHVzaCh0Lm9yaWdpbmFsRGVsZWdhdGU/dC5vcmlnaW5hbERlbGVnYXRlOnQuY2FsbGJhY2spfXJldHVybiByfSx2W3BdPWZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzfHxlO2xldCBuPWFyZ3VtZW50c1swXTtpZihuKXtvJiZvLnRyYW5zZmVyRXZlbnROYW1lJiYobj1vLnRyYW5zZmVyRXZlbnROYW1lKG4pKTtjb25zdCBlPUhbbl07aWYoZSl7Y29uc3Qgbz10W2UuZmFsc2VdLHI9dFtlLnRydWVdO2lmKG8pe2NvbnN0IGU9by5zbGljZSgpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBvPWVbdF07dGhpc1tpXS5jYWxsKHRoaXMsbixvLm9yaWdpbmFsRGVsZWdhdGU/by5vcmlnaW5hbERlbGVnYXRlOm8uY2FsbGJhY2ssby5vcHRpb25zKX19aWYocil7Y29uc3QgZT1yLnNsaWNlKCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG89ZVt0XTt0aGlzW2ldLmNhbGwodGhpcyxuLG8ub3JpZ2luYWxEZWxlZ2F0ZT9vLm9yaWdpbmFsRGVsZWdhdGU6by5jYWxsYmFjayxvLm9wdGlvbnMpfX19fWVsc2V7Y29uc3QgZT1PYmplY3Qua2V5cyh0KTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbj1xLmV4ZWMoZVt0XSk7bGV0IG89biYmblsxXTtvJiYicmVtb3ZlTGlzdGVuZXIiIT09byYmdGhpc1twXS5jYWxsKHRoaXMsbyl9dGhpc1twXS5jYWxsKHRoaXMsInJlbW92ZUxpc3RlbmVyIil9aWYoeSlyZXR1cm4gdGhpc30sSSh2W3JdLHcpLEkodltpXSxaKSxEJiZJKHZbcF0sRCksUyYmSSh2W2NdLFMpLCEwfWxldCB2PVtdO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXZbbl09eSh0W25dLG8pO3JldHVybiB2fWZ1bmN0aW9uIFUoZSx0KXtpZighdCl7Y29uc3Qgbj1bXTtmb3IobGV0IG8gaW4gZSl7Y29uc3Qgcj1xLmV4ZWMobyk7bGV0IHM9ciYmclsxXTtpZihzJiYoIXR8fHM9PT10KSl7Y29uc3QgdD1lW29dO2lmKHQpZm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspbi5wdXNoKHRbZV0pfX1yZXR1cm4gbn1sZXQgbj1IW3RdO258fChCKHQpLG49SFt0XSk7Y29uc3Qgbz1lW24uZmFsc2VdLHI9ZVtuLnRydWVdO3JldHVybiBvP3I/by5jb25jYXQocik6by5zbGljZSgpOnI/ci5zbGljZSgpOltdfWZ1bmN0aW9uIFYoZSx0KXtjb25zdCBuPWUuRXZlbnQ7biYmbi5wcm90b3R5cGUmJnQucGF0Y2hNZXRob2Qobi5wcm90b3R5cGUsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsZT0+ZnVuY3Rpb24odCxuKXt0W0ddPSEwLGUmJmUuYXBwbHkodCxuKX0pfWZ1bmN0aW9uICQoZSx0LG4sbyxyKXtjb25zdCBzPVpvbmUuX19zeW1ib2xfXyhvKTtpZih0W3NdKXJldHVybjtjb25zdCBhPXRbc109dFtvXTt0W29dPWZ1bmN0aW9uKHMsaSxjKXtyZXR1cm4gaSYmaS5wcm90b3R5cGUmJnIuZm9yRWFjaChmdW5jdGlvbih0KXtjb25zdCByPWAke259LiR7b306OmArdCxzPWkucHJvdG90eXBlO2lmKHMuaGFzT3duUHJvcGVydHkodCkpe2NvbnN0IG49ZS5PYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocyx0KTtuJiZuLnZhbHVlPyhuLnZhbHVlPWUud3JhcFdpdGhDdXJyZW50Wm9uZShuLnZhbHVlLHIpLGUuX3JlZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsdCxuKSk6c1t0XSYmKHNbdF09ZS53cmFwV2l0aEN1cnJlbnRab25lKHNbdF0scikpfWVsc2Ugc1t0XSYmKHNbdF09ZS53cmFwV2l0aEN1cnJlbnRab25lKHNbdF0scikpfSksYS5jYWxsKHQscyxpLGMpfSxlLmF0dGFjaE9yaWdpblRvUGF0Y2hlZCh0W29dLGEpfWNvbnN0IFg9WyJhYnNvbHV0ZWRldmljZW9yaWVudGF0aW9uIiwiYWZ0ZXJpbnB1dCIsImFmdGVycHJpbnQiLCJhcHBpbnN0YWxsZWQiLCJiZWZvcmVpbnN0YWxscHJvbXB0IiwiYmVmb3JlcHJpbnQiLCJiZWZvcmV1bmxvYWQiLCJkZXZpY2VsaWdodCIsImRldmljZW1vdGlvbiIsImRldmljZW9yaWVudGF0aW9uIiwiZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZSIsImRldmljZXByb3hpbWl0eSIsImhhc2hjaGFuZ2UiLCJsYW5ndWFnZWNoYW5nZSIsIm1lc3NhZ2UiLCJtb3piZWZvcmVwYWludCIsIm9mZmxpbmUiLCJvbmxpbmUiLCJwYWludCIsInBhZ2VzaG93IiwicGFnZWhpZGUiLCJwb3BzdGF0ZSIsInJlamVjdGlvbmhhbmRsZWQiLCJzdG9yYWdlIiwidW5oYW5kbGVkcmVqZWN0aW9uIiwidW5sb2FkIiwidXNlcnByb3hpbWl0eSIsInZyZGlzcGxheWNvbm5lY3RlZCIsInZyZGlzcGxheWRpc2Nvbm5lY3RlZCIsInZyZGlzcGxheXByZXNlbnRjaGFuZ2UiXSxZPVsiZW5jcnlwdGVkIiwid2FpdGluZ2ZvcmtleSIsIm1zbmVlZGtleSIsIm1vemludGVycnVwdGJlZ2luIiwibW96aW50ZXJydXB0ZW5kIl0sSj1bImxvYWQiXSxLPVsiYmx1ciIsImVycm9yIiwiZm9jdXMiLCJsb2FkIiwicmVzaXplIiwic2Nyb2xsIiwibWVzc2FnZWVycm9yIl0sUT1bImJvdW5jZSIsImZpbmlzaCIsInN0YXJ0Il0sZWU9WyJsb2Fkc3RhcnQiLCJwcm9ncmVzcyIsImFib3J0IiwiZXJyb3IiLCJsb2FkIiwicHJvZ3Jlc3MiLCJ0aW1lb3V0IiwibG9hZGVuZCIsInJlYWR5c3RhdGVjaGFuZ2UiXSx0ZT1bInVwZ3JhZGVuZWVkZWQiLCJjb21wbGV0ZSIsImFib3J0Iiwic3VjY2VzcyIsImVycm9yIiwiYmxvY2tlZCIsInZlcnNpb25jaGFuZ2UiLCJjbG9zZSJdLG5lPVsiY2xvc2UiLCJlcnJvciIsIm9wZW4iLCJtZXNzYWdlIl0sb2U9WyJlcnJvciIsIm1lc3NhZ2UiXSxyZT1bImFib3J0IiwiYW5pbWF0aW9uY2FuY2VsIiwiYW5pbWF0aW9uZW5kIiwiYW5pbWF0aW9uaXRlcmF0aW9uIiwiYXV4Y2xpY2siLCJiZWZvcmVpbnB1dCIsImJsdXIiLCJjYW5jZWwiLCJjYW5wbGF5IiwiY2FucGxheXRocm91Z2giLCJjaGFuZ2UiLCJjb21wb3NpdGlvbnN0YXJ0IiwiY29tcG9zaXRpb251cGRhdGUiLCJjb21wb3NpdGlvbmVuZCIsImN1ZWNoYW5nZSIsImNsaWNrIiwiY2xvc2UiLCJjb250ZXh0bWVudSIsImN1cmVjaGFuZ2UiLCJkYmxjbGljayIsImRyYWciLCJkcmFnZW5kIiwiZHJhZ2VudGVyIiwiZHJhZ2V4aXQiLCJkcmFnbGVhdmUiLCJkcmFnb3ZlciIsImRyb3AiLCJkdXJhdGlvbmNoYW5nZSIsImVtcHRpZWQiLCJlbmRlZCIsImVycm9yIiwiZm9jdXMiLCJmb2N1c2luIiwiZm9jdXNvdXQiLCJnb3Rwb2ludGVyY2FwdHVyZSIsImlucHV0IiwiaW52YWxpZCIsImtleWRvd24iLCJrZXlwcmVzcyIsImtleXVwIiwibG9hZCIsImxvYWRzdGFydCIsImxvYWRlZGRhdGEiLCJsb2FkZWRtZXRhZGF0YSIsImxvc3Rwb2ludGVyY2FwdHVyZSIsIm1vdXNlZG93biIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIiwibW91c2Vtb3ZlIiwibW91c2VvdXQiLCJtb3VzZW92ZXIiLCJtb3VzZXVwIiwibW91c2V3aGVlbCIsIm9yaWVudGF0aW9uY2hhbmdlIiwicGF1c2UiLCJwbGF5IiwicGxheWluZyIsInBvaW50ZXJjYW5jZWwiLCJwb2ludGVyZG93biIsInBvaW50ZXJlbnRlciIsInBvaW50ZXJsZWF2ZSIsInBvaW50ZXJsb2NrY2hhbmdlIiwibW96cG9pbnRlcmxvY2tjaGFuZ2UiLCJ3ZWJraXRwb2ludGVybG9ja2VyY2hhbmdlIiwicG9pbnRlcmxvY2tlcnJvciIsIm1venBvaW50ZXJsb2NrZXJyb3IiLCJ3ZWJraXRwb2ludGVybG9ja2Vycm9yIiwicG9pbnRlcm1vdmUiLCJwb2ludG91dCIsInBvaW50ZXJvdmVyIiwicG9pbnRlcnVwIiwicHJvZ3Jlc3MiLCJyYXRlY2hhbmdlIiwicmVzZXQiLCJyZXNpemUiLCJzY3JvbGwiLCJzZWVrZWQiLCJzZWVraW5nIiwic2VsZWN0Iiwic2VsZWN0aW9uY2hhbmdlIiwic2VsZWN0c3RhcnQiLCJzaG93Iiwic29ydCIsInN0YWxsZWQiLCJzdWJtaXQiLCJzdXNwZW5kIiwidGltZXVwZGF0ZSIsInZvbHVtZWNoYW5nZSIsInRvdWNoY2FuY2VsIiwidG91Y2htb3ZlIiwidG91Y2hzdGFydCIsInRvdWNoZW5kIiwidHJhbnNpdGlvbmNhbmNlbCIsInRyYW5zaXRpb25lbmQiLCJ3YWl0aW5nIiwid2hlZWwiXS5jb25jYXQoWyJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsIndlYmdsY29udGV4dGxvc3QiLCJ3ZWJnbGNvbnRleHRjcmVhdGlvbmVycm9yIl0sWyJhdXRvY29tcGxldGUiLCJhdXRvY29tcGxldGVlcnJvciJdLFsidG9nZ2xlIl0sWyJhZnRlcnNjcmlwdGV4ZWN1dGUiLCJiZWZvcmVzY3JpcHRleGVjdXRlIiwiRE9NQ29udGVudExvYWRlZCIsImZyZWV6ZSIsImZ1bGxzY3JlZW5jaGFuZ2UiLCJtb3pmdWxsc2NyZWVuY2hhbmdlIiwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZSIsIm1zZnVsbHNjcmVlbmNoYW5nZSIsImZ1bGxzY3JlZW5lcnJvciIsIm1vemZ1bGxzY3JlZW5lcnJvciIsIndlYmtpdGZ1bGxzY3JlZW5lcnJvciIsIm1zZnVsbHNjcmVlbmVycm9yIiwicmVhZHlzdGF0ZWNoYW5nZSIsInZpc2liaWxpdHljaGFuZ2UiLCJyZXN1bWUiXSxYLFsiYmVmb3JlY29weSIsImJlZm9yZWN1dCIsImJlZm9yZXBhc3RlIiwiY29weSIsImN1dCIsInBhc3RlIiwiZHJhZ3N0YXJ0IiwibG9hZGVuZCIsImFuaW1hdGlvbnN0YXJ0Iiwic2VhcmNoIiwidHJhbnNpdGlvbnJ1biIsInRyYW5zaXRpb25zdGFydCIsIndlYmtpdGFuaW1hdGlvbmVuZCIsIndlYmtpdGFuaW1hdGlvbml0ZXJhdGlvbiIsIndlYmtpdGFuaW1hdGlvbnN0YXJ0Iiwid2Via2l0dHJhbnNpdGlvbmVuZCJdLFsiYWN0aXZhdGUiLCJhZnRlcnVwZGF0ZSIsImFyaWFyZXF1ZXN0IiwiYmVmb3JlYWN0aXZhdGUiLCJiZWZvcmVkZWFjdGl2YXRlIiwiYmVmb3JlZWRpdGZvY3VzIiwiYmVmb3JldXBkYXRlIiwiY2VsbGNoYW5nZSIsImNvbnRyb2xzZWxlY3QiLCJkYXRhYXZhaWxhYmxlIiwiZGF0YXNldGNoYW5nZWQiLCJkYXRhc2V0Y29tcGxldGUiLCJlcnJvcnVwZGF0ZSIsImZpbHRlcmNoYW5nZSIsImxheW91dGNvbXBsZXRlIiwibG9zZWNhcHR1cmUiLCJtb3ZlIiwibW92ZWVuZCIsIm1vdmVzdGFydCIsInByb3BlcnR5Y2hhbmdlIiwicmVzaXplZW5kIiwicmVzaXplc3RhcnQiLCJyb3dlbnRlciIsInJvd2V4aXQiLCJyb3dzZGVsZXRlIiwicm93c2luc2VydGVkIiwiY29tbWFuZCIsImNvbXBhc3NuZWVkc2NhbGlicmF0aW9uIiwiZGVhY3RpdmF0ZSIsImhlbHAiLCJtc2NvbnRlbnR6b29tIiwibXNtYW5pcHVsYXRpb25zdGF0ZWNoYW5nZWQiLCJtc2dlc3R1cmVjaGFuZ2UiLCJtc2dlc3R1cmVkb3VibGV0YXAiLCJtc2dlc3R1cmVlbmQiLCJtc2dlc3R1cmVob2xkIiwibXNnZXN0dXJlc3RhcnQiLCJtc2dlc3R1cmV0YXAiLCJtc2dvdHBvaW50ZXJjYXB0dXJlIiwibXNpbmVydGlhc3RhcnQiLCJtc2xvc3Rwb2ludGVyY2FwdHVyZSIsIm1zcG9pbnRlcmNhbmNlbCIsIm1zcG9pbnRlcmRvd24iLCJtc3BvaW50ZXJlbnRlciIsIm1zcG9pbnRlcmhvdmVyIiwibXNwb2ludGVybGVhdmUiLCJtc3BvaW50ZXJtb3ZlIiwibXNwb2ludGVyb3V0IiwibXNwb2ludGVyb3ZlciIsIm1zcG9pbnRlcnVwIiwicG9pbnRlcm91dCIsIm1zc2l0ZW1vZGVqdW1wbGlzdGl0ZW1yZW1vdmVkIiwibXN0aHVtYm5haWxjbGljayIsInN0b3AiLCJzdG9yYWdlY29tbWl0Il0pO2Z1bmN0aW9uIHNlKGUsdCxuKXtpZighbnx8MD09PW4ubGVuZ3RoKXJldHVybiB0O2NvbnN0IG89bi5maWx0ZXIodD0+dC50YXJnZXQ9PT1lKTtpZighb3x8MD09PW8ubGVuZ3RoKXJldHVybiB0O2NvbnN0IHI9b1swXS5pZ25vcmVQcm9wZXJ0aWVzO3JldHVybiB0LmZpbHRlcihlPT4tMT09PXIuaW5kZXhPZihlKSl9ZnVuY3Rpb24gYWUoZSx0LG4sbyl7ZSYmUChlLHNlKGUsdCxuKSxvKX1mdW5jdGlvbiBpZShlLHQpe2lmKGImJiF3KXJldHVybjtpZihab25lW2Uuc3ltYm9sKCJwYXRjaEV2ZW50cyIpXSlyZXR1cm47Y29uc3Qgbz0idW5kZWZpbmVkIiE9dHlwZW9mIFdlYlNvY2tldCxyPXQuX19ab25lX2lnbm9yZV9vbl9wcm9wZXJ0aWVzO2lmKEUpe2NvbnN0IGU9d2luZG93LHQ9TigpP1t7dGFyZ2V0OmUsaWdub3JlUHJvcGVydGllczpbImVycm9yIl19XTpbXTthZShlLHJlLmNvbmNhdChbIm1lc3NhZ2VlcnJvciJdKSxyP3IuY29uY2F0KHQpOnIsbihlKSksYWUoRG9jdW1lbnQucHJvdG90eXBlLHJlLHIpLHZvaWQgMCE9PWUuU1ZHRWxlbWVudCYmYWUoZS5TVkdFbGVtZW50LnByb3RvdHlwZSxyZSxyKSxhZShFbGVtZW50LnByb3RvdHlwZSxyZSxyKSxhZShIVE1MRWxlbWVudC5wcm90b3R5cGUscmUsciksYWUoSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUsWSxyKSxhZShIVE1MRnJhbWVTZXRFbGVtZW50LnByb3RvdHlwZSxYLmNvbmNhdChLKSxyKSxhZShIVE1MQm9keUVsZW1lbnQucHJvdG90eXBlLFguY29uY2F0KEspLHIpLGFlKEhUTUxGcmFtZUVsZW1lbnQucHJvdG90eXBlLEosciksYWUoSFRNTElGcmFtZUVsZW1lbnQucHJvdG90eXBlLEoscik7Y29uc3Qgbz1lLkhUTUxNYXJxdWVlRWxlbWVudDtvJiZhZShvLnByb3RvdHlwZSxRLHIpO2NvbnN0IHM9ZS5Xb3JrZXI7cyYmYWUocy5wcm90b3R5cGUsb2Uscil9Y29uc3Qgcz10LlhNTEh0dHBSZXF1ZXN0O3MmJmFlKHMucHJvdG90eXBlLGVlLHIpO2NvbnN0IGE9dC5YTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0O2EmJmFlKGEmJmEucHJvdG90eXBlLGVlLHIpLCJ1bmRlZmluZWQiIT10eXBlb2YgSURCSW5kZXgmJihhZShJREJJbmRleC5wcm90b3R5cGUsdGUsciksYWUoSURCUmVxdWVzdC5wcm90b3R5cGUsdGUsciksYWUoSURCT3BlbkRCUmVxdWVzdC5wcm90b3R5cGUsdGUsciksYWUoSURCRGF0YWJhc2UucHJvdG90eXBlLHRlLHIpLGFlKElEQlRyYW5zYWN0aW9uLnByb3RvdHlwZSx0ZSxyKSxhZShJREJDdXJzb3IucHJvdG90eXBlLHRlLHIpKSxvJiZhZShXZWJTb2NrZXQucHJvdG90eXBlLG5lLHIpfVpvbmUuX19sb2FkX3BhdGNoKCJ1dGlsIiwobixpLGMpPT57Yy5wYXRjaE9uUHJvcGVydGllcz1QLGMucGF0Y2hNZXRob2Q9eixjLmJpbmRBcmd1bWVudHM9eSxjLnBhdGNoTWFjcm9UYXNrPWo7Y29uc3QgZj1pLl9fc3ltYm9sX18oIkJMQUNLX0xJU1RFRF9FVkVOVFMiKSxkPWkuX19zeW1ib2xfXygiVU5QQVRDSEVEX0VWRU5UUyIpO25bZF0mJihuW2ZdPW5bZF0pLG5bZl0mJihpW2ZdPWlbZF09bltmXSksYy5wYXRjaEV2ZW50UHJvdG90eXBlPVYsYy5wYXRjaEV2ZW50VGFyZ2V0PVcsYy5pc0lFT3JFZGdlPXgsYy5PYmplY3REZWZpbmVQcm9wZXJ0eT10LGMuT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yPWUsYy5PYmplY3RDcmVhdGU9byxjLkFycmF5U2xpY2U9cixjLnBhdGNoQ2xhc3M9QyxjLndyYXBXaXRoQ3VycmVudFpvbmU9cCxjLmZpbHRlclByb3BlcnRpZXM9c2UsYy5hdHRhY2hPcmlnaW5Ub1BhdGNoZWQ9SSxjLl9yZWRlZmluZVByb3BlcnR5PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxjLnBhdGNoQ2FsbGJhY2tzPSQsYy5nZXRHbG9iYWxPYmplY3RzPSgpPT4oe2dsb2JhbFNvdXJjZXM6Rix6b25lU3ltYm9sRXZlbnROYW1lczpILGV2ZW50TmFtZXM6cmUsaXNCcm93c2VyOkUsaXNNaXg6dyxpc05vZGU6YixUUlVFX1NUUjpsLEZBTFNFX1NUUjp1LFpPTkVfU1lNQk9MX1BSRUZJWDpoLEFERF9FVkVOVF9MSVNURU5FUl9TVFI6cyxSRU1PVkVfRVZFTlRfTElTVEVORVJfU1RSOmF9KX0pO2NvbnN0IGNlPWQoInpvbmVUYXNrIik7ZnVuY3Rpb24gbGUoZSx0LG4sbyl7bGV0IHI9bnVsbCxzPW51bGw7bis9bztjb25zdCBhPXt9O2Z1bmN0aW9uIGkodCl7Y29uc3Qgbj10LmRhdGE7cmV0dXJuIG4uYXJnc1swXT1mdW5jdGlvbigpe3JldHVybiB0Lmludm9rZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG4uaGFuZGxlSWQ9ci5hcHBseShlLG4uYXJncyksdH1mdW5jdGlvbiBjKHQpe3JldHVybiBzLmNhbGwoZSx0LmRhdGEuaGFuZGxlSWQpfXI9eihlLHQrPW8sbj0+ZnVuY3Rpb24ocixzKXtpZigiZnVuY3Rpb24iPT10eXBlb2Ygc1swXSl7Y29uc3QgZT17aXNQZXJpb2RpYzoiSW50ZXJ2YWwiPT09byxkZWxheToiVGltZW91dCI9PT1vfHwiSW50ZXJ2YWwiPT09bz9zWzFdfHwwOnZvaWQgMCxhcmdzOnN9LG49c1swXTtzWzBdPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1maW5hbGx5e2UuaXNQZXJpb2RpY3x8KCJudW1iZXIiPT10eXBlb2YgZS5oYW5kbGVJZD9kZWxldGUgYVtlLmhhbmRsZUlkXTplLmhhbmRsZUlkJiYoZS5oYW5kbGVJZFtjZV09bnVsbCkpfX07Y29uc3Qgcj1mKHQsc1swXSxlLGksYyk7aWYoIXIpcmV0dXJuIHI7Y29uc3QgbD1yLmRhdGEuaGFuZGxlSWQ7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBsP2FbbF09cjpsJiYobFtjZV09ciksbCYmbC5yZWYmJmwudW5yZWYmJiJmdW5jdGlvbiI9PXR5cGVvZiBsLnJlZiYmImZ1bmN0aW9uIj09dHlwZW9mIGwudW5yZWYmJihyLnJlZj1sLnJlZi5iaW5kKGwpLHIudW5yZWY9bC51bnJlZi5iaW5kKGwpKSwibnVtYmVyIj09dHlwZW9mIGx8fGw/bDpyfXJldHVybiBuLmFwcGx5KGUscyl9KSxzPXooZSxuLHQ9PmZ1bmN0aW9uKG4sbyl7Y29uc3Qgcj1vWzBdO2xldCBzOyJudW1iZXIiPT10eXBlb2Ygcj9zPWFbcl06KHM9ciYmcltjZV0sc3x8KHM9cikpLHMmJiJzdHJpbmciPT10eXBlb2Ygcy50eXBlPyJub3RTY2hlZHVsZWQiIT09cy5zdGF0ZSYmKHMuY2FuY2VsRm4mJnMuZGF0YS5pc1BlcmlvZGljfHwwPT09cy5ydW5Db3VudCkmJigibnVtYmVyIj09dHlwZW9mIHI/ZGVsZXRlIGFbcl06ciYmKHJbY2VdPW51bGwpLHMuem9uZS5jYW5jZWxUYXNrKHMpKTp0LmFwcGx5KGUsbyl9KX1mdW5jdGlvbiB1ZShlLHQpe2lmKFpvbmVbdC5zeW1ib2woInBhdGNoRXZlbnRUYXJnZXQiKV0pcmV0dXJuO2NvbnN0e2V2ZW50TmFtZXM6bix6b25lU3ltYm9sRXZlbnROYW1lczpvLFRSVUVfU1RSOnIsRkFMU0VfU1RSOnMsWk9ORV9TWU1CT0xfUFJFRklYOmF9PXQuZ2V0R2xvYmFsT2JqZWN0cygpO2ZvcihsZXQgYz0wO2M8bi5sZW5ndGg7YysrKXtjb25zdCBlPW5bY10sdD1hKyhlK3MpLGk9YSsoZStyKTtvW2VdPXt9LG9bZV1bc109dCxvW2VdW3JdPWl9Y29uc3QgaT1lLkV2ZW50VGFyZ2V0O3JldHVybiBpJiZpLnByb3RvdHlwZT8odC5wYXRjaEV2ZW50VGFyZ2V0KGUsW2kmJmkucHJvdG90eXBlXSksITApOnZvaWQgMH1ab25lLl9fbG9hZF9wYXRjaCgibGVnYWN5IixlPT57Y29uc3QgdD1lW1pvbmUuX19zeW1ib2xfXygibGVnYWN5UGF0Y2giKV07dCYmdCgpfSksWm9uZS5fX2xvYWRfcGF0Y2goInF1ZXVlTWljcm90YXNrIiwoZSx0LG4pPT57bi5wYXRjaE1ldGhvZChlLCJxdWV1ZU1pY3JvdGFzayIsZT0+ZnVuY3Rpb24oZSxuKXt0LmN1cnJlbnQuc2NoZWR1bGVNaWNyb1Rhc2soInF1ZXVlTWljcm90YXNrIixuWzBdKX0pfSksWm9uZS5fX2xvYWRfcGF0Y2goInRpbWVycyIsZT0+e2NvbnN0IHQ9InNldCIsbj0iY2xlYXIiO2xlKGUsdCxuLCJUaW1lb3V0IiksbGUoZSx0LG4sIkludGVydmFsIiksbGUoZSx0LG4sIkltbWVkaWF0ZSIpfSksWm9uZS5fX2xvYWRfcGF0Y2goInJlcXVlc3RBbmltYXRpb25GcmFtZSIsZT0+e2xlKGUsInJlcXVlc3QiLCJjYW5jZWwiLCJBbmltYXRpb25GcmFtZSIpLGxlKGUsIm1velJlcXVlc3QiLCJtb3pDYW5jZWwiLCJBbmltYXRpb25GcmFtZSIpLGxlKGUsIndlYmtpdFJlcXVlc3QiLCJ3ZWJraXRDYW5jZWwiLCJBbmltYXRpb25GcmFtZSIpfSksWm9uZS5fX2xvYWRfcGF0Y2goImJsb2NraW5nIiwoZSx0KT0+e2NvbnN0IG49WyJhbGVydCIsInByb21wdCIsImNvbmZpcm0iXTtmb3IobGV0IG89MDtvPG4ubGVuZ3RoO28rKyl6KGUsbltvXSwobixvLHIpPT5mdW5jdGlvbihvLHMpe3JldHVybiB0LmN1cnJlbnQucnVuKG4sZSxzLHIpfSl9KSxab25lLl9fbG9hZF9wYXRjaCgiRXZlbnRUYXJnZXQiLChlLHQsbik9PnshZnVuY3Rpb24oZSx0KXt0LnBhdGNoRXZlbnRQcm90b3R5cGUoZSx0KX0oZSxuKSx1ZShlLG4pO2NvbnN0IG89ZS5YTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0O28mJm8ucHJvdG90eXBlJiZuLnBhdGNoRXZlbnRUYXJnZXQoZSxbby5wcm90b3R5cGVdKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJNdXRhdGlvbk9ic2VydmVyIiwoZSx0LG4pPT57QygiTXV0YXRpb25PYnNlcnZlciIpLEMoIldlYktpdE11dGF0aW9uT2JzZXJ2ZXIiKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsKGUsdCxuKT0+e0MoIkludGVyc2VjdGlvbk9ic2VydmVyIil9KSxab25lLl9fbG9hZF9wYXRjaCgiRmlsZVJlYWRlciIsKGUsdCxuKT0+e0MoIkZpbGVSZWFkZXIiKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJvbl9wcm9wZXJ0eSIsKGUsdCxuKT0+e2llKG4sZSl9KSxab25lLl9fbG9hZF9wYXRjaCgiY3VzdG9tRWxlbWVudHMiLChlLHQsbik9PnshZnVuY3Rpb24oZSx0KXtjb25zdHtpc0Jyb3dzZXI6bixpc01peDpvfT10LmdldEdsb2JhbE9iamVjdHMoKTsobnx8bykmJmUuY3VzdG9tRWxlbWVudHMmJiJjdXN0b21FbGVtZW50cyJpbiBlJiZ0LnBhdGNoQ2FsbGJhY2tzKHQsZS5jdXN0b21FbGVtZW50cywiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiLFsiY29ubmVjdGVkQ2FsbGJhY2siLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsImFkb3B0ZWRDYWxsYmFjayIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayJdKX0oZSxuKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJYSFIiLChlLHQpPT57IWZ1bmN0aW9uKGUpe2NvbnN0IHU9ZS5YTUxIdHRwUmVxdWVzdDtpZighdSlyZXR1cm47Y29uc3QgaD11LnByb3RvdHlwZTtsZXQgcD1oW2ldLGc9aFtjXTtpZighcCl7Y29uc3QgdD1lLlhNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQ7aWYodCl7Y29uc3QgZT10LnByb3RvdHlwZTtwPWVbaV0sZz1lW2NdfX1jb25zdCBfPSJyZWFkeXN0YXRlY2hhbmdlIixrPSJzY2hlZHVsZWQiO2Z1bmN0aW9uIG0oZSl7Y29uc3Qgbz1lLmRhdGEsYT1vLnRhcmdldDthW3NdPSExLGFbbF09ITE7Y29uc3QgdT1hW3JdO3B8fChwPWFbaV0sZz1hW2NdKSx1JiZnLmNhbGwoYSxfLHUpO2NvbnN0IGg9YVtyXT0oKT0+e2lmKGEucmVhZHlTdGF0ZT09PWEuRE9ORSlpZighby5hYm9ydGVkJiZhW3NdJiZlLnN0YXRlPT09ayl7Y29uc3Qgbj1hW3QuX19zeW1ib2xfXygibG9hZGZhbHNlIildO2lmKDAhPT1hLnN0YXR1cyYmbiYmbi5sZW5ndGg+MCl7Y29uc3Qgcj1lLmludm9rZTtlLmludm9rZT1mdW5jdGlvbigpe2NvbnN0IG49YVt0Ll9fc3ltYm9sX18oImxvYWRmYWxzZSIpXTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyluW3RdPT09ZSYmbi5zcGxpY2UodCwxKTtvLmFib3J0ZWR8fGUuc3RhdGUhPT1rfHxyLmNhbGwoZSl9LG4ucHVzaChlKX1lbHNlIGUuaW52b2tlKCl9ZWxzZSBvLmFib3J0ZWR8fCExIT09YVtzXXx8KGFbbF09ITApfTtyZXR1cm4gcC5jYWxsKGEsXyxoKSxhW25dfHwoYVtuXT1lKSx3LmFwcGx5KGEsby5hcmdzKSxhW3NdPSEwLGV9ZnVuY3Rpb24geSgpe31mdW5jdGlvbiB2KGUpe2NvbnN0IHQ9ZS5kYXRhO3JldHVybiB0LmFib3J0ZWQ9ITAsWi5hcHBseSh0LnRhcmdldCx0LmFyZ3MpfWNvbnN0IFQ9eihoLCJvcGVuIiwoKT0+ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVtvXT0wPT10WzJdLGVbYV09dFsxXSxULmFwcGx5KGUsdCl9KSxiPWQoImZldGNoVGFza0Fib3J0aW5nIiksRT1kKCJmZXRjaFRhc2tTY2hlZHVsaW5nIiksdz16KGgsInNlbmQiLCgpPT5mdW5jdGlvbihlLG4pe2lmKCEwPT09dC5jdXJyZW50W0VdKXJldHVybiB3LmFwcGx5KGUsbik7aWYoZVtvXSlyZXR1cm4gdy5hcHBseShlLG4pO3tjb25zdCB0PXt0YXJnZXQ6ZSx1cmw6ZVthXSxpc1BlcmlvZGljOiExLGFyZ3M6bixhYm9ydGVkOiExfSxvPWYoIlhNTEh0dHBSZXF1ZXN0LnNlbmQiLHksdCxtLHYpO2UmJiEwPT09ZVtsXSYmIXQuYWJvcnRlZCYmby5zdGF0ZT09PWsmJm8uaW52b2tlKCl9fSksWj16KGgsImFib3J0IiwoKT0+ZnVuY3Rpb24oZSxvKXtjb25zdCByPWVbbl07aWYociYmInN0cmluZyI9PXR5cGVvZiByLnR5cGUpe2lmKG51bGw9PXIuY2FuY2VsRm58fHIuZGF0YSYmci5kYXRhLmFib3J0ZWQpcmV0dXJuO3Iuem9uZS5jYW5jZWxUYXNrKHIpfWVsc2UgaWYoITA9PT10LmN1cnJlbnRbYl0pcmV0dXJuIFouYXBwbHkoZSxvKX0pfShlKTtjb25zdCBuPWQoInhoclRhc2siKSxvPWQoInhoclN5bmMiKSxyPWQoInhockxpc3RlbmVyIikscz1kKCJ4aHJTY2hlZHVsZWQiKSxhPWQoInhoclVSTCIpLGw9ZCgieGhyRXJyb3JCZWZvcmVTY2hlZHVsZWQiKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJnZW9sb2NhdGlvbiIsdD0+e3QubmF2aWdhdG9yJiZ0Lm5hdmlnYXRvci5nZW9sb2NhdGlvbiYmZnVuY3Rpb24odCxuKXtjb25zdCBvPXQuY29uc3RydWN0b3IubmFtZTtmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrKyl7Y29uc3Qgcz1uW3JdLGE9dFtzXTtpZihhKXtpZighdihlKHQscykpKWNvbnRpbnVlO3Rbc109KGU9Pntjb25zdCB0PWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodGhpcyx5KGFyZ3VtZW50cyxvKyIuIitzKSl9O3JldHVybiBJKHQsZSksdH0pKGEpfX19KHQubmF2aWdhdG9yLmdlb2xvY2F0aW9uLFsiZ2V0Q3VycmVudFBvc2l0aW9uIiwid2F0Y2hQb3NpdGlvbiJdKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJQcm9taXNlUmVqZWN0aW9uRXZlbnQiLChlLHQpPT57ZnVuY3Rpb24gbih0KXtyZXR1cm4gZnVuY3Rpb24obil7VShlLHQpLmZvckVhY2gobz0+e2NvbnN0IHI9ZS5Qcm9taXNlUmVqZWN0aW9uRXZlbnQ7aWYocil7Y29uc3QgZT1uZXcgcih0LHtwcm9taXNlOm4ucHJvbWlzZSxyZWFzb246bi5yZWplY3Rpb259KTtvLmludm9rZShlKX19KX19ZS5Qcm9taXNlUmVqZWN0aW9uRXZlbnQmJih0W2QoInVuaGFuZGxlZFByb21pc2VSZWplY3Rpb25IYW5kbGVyIildPW4oInVuaGFuZGxlZHJlamVjdGlvbiIpLHRbZCgicmVqZWN0aW9uSGFuZGxlZEhhbmRsZXIiKV09bigicmVqZWN0aW9uaGFuZGxlZCIpKX0pfSw1NjE6KGUsdCxuKT0+eyJ1c2Ugc3RyaWN0IjtuKDE2Nyl9fSxlPT57InVzZSBzdHJpY3QiO2UoZS5zPTU2MSl9XSk7KHNlbGYud2VicGFja0NodW5rcG9jX25nX2VsZW1lbnRzPXNlbGYud2VicGFja0NodW5rcG9jX25nX2VsZW1lbnRzfHxbXSkucHVzaChbWzE3OV0sezUxNjooZSx0LG4pPT57InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGkoZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9bGV0IHM9ITE7Y29uc3Qgbz17UHJvbWlzZTp2b2lkIDAsc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcoZSl7aWYoZSl7Y29uc3QgZT1uZXcgRXJyb3I7Y29uc29sZS53YXJuKCJERVBSRUNBVEVEISBSeEpTIHdhcyBzZXQgdG8gdXNlIGRlcHJlY2F0ZWQgc3luY2hyb25vdXMgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IgYnkgY29kZSBhdDogXG4iK2Uuc3RhY2spfWVsc2UgcyYmY29uc29sZS5sb2coIlJ4SlM6IEJhY2sgdG8gYSBiZXR0ZXIgZXJyb3IgYmVoYXZpb3IuIFRoYW5rIHlvdS4gPDMiKTtzPWV9LGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCl7cmV0dXJuIHN9fTtmdW5jdGlvbiByKGUpe3NldFRpbWVvdXQoKCk9Pnt0aHJvdyBlfSwwKX1jb25zdCBhPXtjbG9zZWQ6ITAsbmV4dChlKXt9LGVycm9yKGUpe2lmKG8udXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyl0aHJvdyBlO3IoZSl9LGNvbXBsZXRlKCl7fX0sbD0oKCk9PkFycmF5LmlzQXJyYXl8fChlPT5lJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKSkoKTtmdW5jdGlvbiBjKGUpe3JldHVybiBudWxsIT09ZSYmIm9iamVjdCI9PXR5cGVvZiBlfWNvbnN0IHU9KCgpPT57ZnVuY3Rpb24gZShlKXtyZXR1cm4gRXJyb3IuY2FsbCh0aGlzKSx0aGlzLm1lc3NhZ2U9ZT9gJHtlLmxlbmd0aH0gZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcbiR7ZS5tYXAoKGUsdCk9PmAke3QrMX0pICR7ZS50b1N0cmluZygpfWApLmpvaW4oIlxuICAiKX1gOiIiLHRoaXMubmFtZT0iVW5zdWJzY3JpcHRpb25FcnJvciIsdGhpcy5lcnJvcnM9ZSx0aGlzfXJldHVybiBlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksZX0pKCk7bGV0IGg9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmNsb3NlZD0hMSx0aGlzLl9wYXJlbnRPclBhcmVudHM9bnVsbCx0aGlzLl9zdWJzY3JpcHRpb25zPW51bGwsZSYmKHRoaXMuX2N0b3JVbnN1YnNjcmliZT0hMCx0aGlzLl91bnN1YnNjcmliZT1lKX11bnN1YnNjcmliZSgpe2xldCB0O2lmKHRoaXMuY2xvc2VkKXJldHVybjtsZXR7X3BhcmVudE9yUGFyZW50czpuLF9jdG9yVW5zdWJzY3JpYmU6cyxfdW5zdWJzY3JpYmU6byxfc3Vic2NyaXB0aW9uczpyfT10aGlzO2lmKHRoaXMuY2xvc2VkPSEwLHRoaXMuX3BhcmVudE9yUGFyZW50cz1udWxsLHRoaXMuX3N1YnNjcmlwdGlvbnM9bnVsbCxuIGluc3RhbmNlb2YgZSluLnJlbW92ZSh0aGlzKTtlbHNlIGlmKG51bGwhPT1uKWZvcihsZXQgZT0wO2U8bi5sZW5ndGg7KytlKW5bZV0ucmVtb3ZlKHRoaXMpO2lmKGkobykpe3MmJih0aGlzLl91bnN1YnNjcmliZT12b2lkIDApO3RyeXtvLmNhbGwodGhpcyl9Y2F0Y2goYSl7dD1hIGluc3RhbmNlb2YgdT9kKGEuZXJyb3JzKTpbYV19fWlmKGwocikpe2xldCBlPS0xLG49ci5sZW5ndGg7Zm9yKDsrK2U8bjspe2NvbnN0IG49cltlXTtpZihjKG4pKXRyeXtuLnVuc3Vic2NyaWJlKCl9Y2F0Y2goYSl7dD10fHxbXSxhIGluc3RhbmNlb2YgdT90PXQuY29uY2F0KGQoYS5lcnJvcnMpKTp0LnB1c2goYSl9fX1pZih0KXRocm93IG5ldyB1KHQpfWFkZCh0KXtsZXQgbj10O2lmKCF0KXJldHVybiBlLkVNUFRZO3N3aXRjaCh0eXBlb2YgdCl7Y2FzZSJmdW5jdGlvbiI6bj1uZXcgZSh0KTtjYXNlIm9iamVjdCI6aWYobj09PXRoaXN8fG4uY2xvc2VkfHwiZnVuY3Rpb24iIT10eXBlb2Ygbi51bnN1YnNjcmliZSlyZXR1cm4gbjtpZih0aGlzLmNsb3NlZClyZXR1cm4gbi51bnN1YnNjcmliZSgpLG47aWYoIShuIGluc3RhbmNlb2YgZSkpe2NvbnN0IHQ9bjtuPW5ldyBlLG4uX3N1YnNjcmlwdGlvbnM9W3RdfWJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJ1bnJlY29nbml6ZWQgdGVhcmRvd24gIit0KyIgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLiIpfWxldHtfcGFyZW50T3JQYXJlbnRzOml9PW47aWYobnVsbD09PWkpbi5fcGFyZW50T3JQYXJlbnRzPXRoaXM7ZWxzZSBpZihpIGluc3RhbmNlb2YgZSl7aWYoaT09PXRoaXMpcmV0dXJuIG47bi5fcGFyZW50T3JQYXJlbnRzPVtpLHRoaXNdfWVsc2V7aWYoLTEhPT1pLmluZGV4T2YodGhpcykpcmV0dXJuIG47aS5wdXNoKHRoaXMpfWNvbnN0IHM9dGhpcy5fc3Vic2NyaXB0aW9ucztyZXR1cm4gbnVsbD09PXM/dGhpcy5fc3Vic2NyaXB0aW9ucz1bbl06cy5wdXNoKG4pLG59cmVtb3ZlKGUpe2NvbnN0IHQ9dGhpcy5fc3Vic2NyaXB0aW9ucztpZih0KXtjb25zdCBuPXQuaW5kZXhPZihlKTstMSE9PW4mJnQuc3BsaWNlKG4sMSl9fX1yZXR1cm4gZS5FTVBUWT1mdW5jdGlvbihlKXtyZXR1cm4gZS5jbG9zZWQ9ITAsZX0obmV3IGUpLGV9KSgpO2Z1bmN0aW9uIGQoZSl7cmV0dXJuIGUucmVkdWNlKChlLHQpPT5lLmNvbmNhdCh0IGluc3RhbmNlb2YgdT90LmVycm9yczp0KSxbXSl9Y29uc3QgcD0oKCk9PiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sKCJyeFN1YnNjcmliZXIiKToiQEByeFN1YnNjcmliZXJfIitNYXRoLnJhbmRvbSgpKSgpO2NsYXNzIGYgZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKGUsdCxuKXtzd2l0Y2goc3VwZXIoKSx0aGlzLnN5bmNFcnJvclZhbHVlPW51bGwsdGhpcy5zeW5jRXJyb3JUaHJvd249ITEsdGhpcy5zeW5jRXJyb3JUaHJvd2FibGU9ITEsdGhpcy5pc1N0b3BwZWQ9ITEsYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnRoaXMuZGVzdGluYXRpb249YTticmVhaztjYXNlIDE6aWYoIWUpe3RoaXMuZGVzdGluYXRpb249YTticmVha31pZigib2JqZWN0Ij09dHlwZW9mIGUpe2UgaW5zdGFuY2VvZiBmPyh0aGlzLnN5bmNFcnJvclRocm93YWJsZT1lLnN5bmNFcnJvclRocm93YWJsZSx0aGlzLmRlc3RpbmF0aW9uPWUsZS5hZGQodGhpcykpOih0aGlzLnN5bmNFcnJvclRocm93YWJsZT0hMCx0aGlzLmRlc3RpbmF0aW9uPW5ldyBnKHRoaXMsZSkpO2JyZWFrfWRlZmF1bHQ6dGhpcy5zeW5jRXJyb3JUaHJvd2FibGU9ITAsdGhpcy5kZXN0aW5hdGlvbj1uZXcgZyh0aGlzLGUsdCxuKX19W3BdKCl7cmV0dXJuIHRoaXN9c3RhdGljIGNyZWF0ZShlLHQsbil7Y29uc3QgaT1uZXcgZihlLHQsbik7cmV0dXJuIGkuc3luY0Vycm9yVGhyb3dhYmxlPSExLGl9bmV4dChlKXt0aGlzLmlzU3RvcHBlZHx8dGhpcy5fbmV4dChlKX1lcnJvcihlKXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMuX2Vycm9yKGUpKX1jb21wbGV0ZSgpe3RoaXMuaXNTdG9wcGVkfHwodGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5fY29tcGxldGUoKSl9dW5zdWJzY3JpYmUoKXt0aGlzLmNsb3NlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHN1cGVyLnVuc3Vic2NyaWJlKCkpfV9uZXh0KGUpe3RoaXMuZGVzdGluYXRpb24ubmV4dChlKX1fZXJyb3IoZSl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlKSx0aGlzLnVuc3Vic2NyaWJlKCl9X2NvbXBsZXRlKCl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX1fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlKCl7Y29uc3R7X3BhcmVudE9yUGFyZW50czplfT10aGlzO3JldHVybiB0aGlzLl9wYXJlbnRPclBhcmVudHM9bnVsbCx0aGlzLnVuc3Vic2NyaWJlKCksdGhpcy5jbG9zZWQ9ITEsdGhpcy5pc1N0b3BwZWQ9ITEsdGhpcy5fcGFyZW50T3JQYXJlbnRzPWUsdGhpc319Y2xhc3MgZyBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0LG4scyl7bGV0IG87c3VwZXIoKSx0aGlzLl9wYXJlbnRTdWJzY3JpYmVyPWU7bGV0IHI9dGhpcztpKHQpP289dDp0JiYobz10Lm5leHQsbj10LmVycm9yLHM9dC5jb21wbGV0ZSx0IT09YSYmKHI9T2JqZWN0LmNyZWF0ZSh0KSxpKHIudW5zdWJzY3JpYmUpJiZ0aGlzLmFkZChyLnVuc3Vic2NyaWJlLmJpbmQocikpLHIudW5zdWJzY3JpYmU9dGhpcy51bnN1YnNjcmliZS5iaW5kKHRoaXMpKSksdGhpcy5fY29udGV4dD1yLHRoaXMuX25leHQ9byx0aGlzLl9lcnJvcj1uLHRoaXMuX2NvbXBsZXRlPXN9bmV4dChlKXtpZighdGhpcy5pc1N0b3BwZWQmJnRoaXMuX25leHQpe2NvbnN0e19wYXJlbnRTdWJzY3JpYmVyOnR9PXRoaXM7by51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nJiZ0LnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9fdHJ5T3JTZXRFcnJvcih0LHRoaXMuX25leHQsZSkmJnRoaXMudW5zdWJzY3JpYmUoKTp0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9uZXh0LGUpfX1lcnJvcihlKXtpZighdGhpcy5pc1N0b3BwZWQpe2NvbnN0e19wYXJlbnRTdWJzY3JpYmVyOnR9PXRoaXMse3VzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc6bn09bztpZih0aGlzLl9lcnJvciluJiZ0LnN5bmNFcnJvclRocm93YWJsZT8odGhpcy5fX3RyeU9yU2V0RXJyb3IodCx0aGlzLl9lcnJvcixlKSx0aGlzLnVuc3Vic2NyaWJlKCkpOih0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvcixlKSx0aGlzLnVuc3Vic2NyaWJlKCkpO2Vsc2UgaWYodC5zeW5jRXJyb3JUaHJvd2FibGUpbj8odC5zeW5jRXJyb3JWYWx1ZT1lLHQuc3luY0Vycm9yVGhyb3duPSEwKTpyKGUpLHRoaXMudW5zdWJzY3JpYmUoKTtlbHNle2lmKHRoaXMudW5zdWJzY3JpYmUoKSxuKXRocm93IGU7cihlKX19fWNvbXBsZXRlKCl7aWYoIXRoaXMuaXNTdG9wcGVkKXtjb25zdHtfcGFyZW50U3Vic2NyaWJlcjplfT10aGlzO2lmKHRoaXMuX2NvbXBsZXRlKXtjb25zdCB0PSgpPT50aGlzLl9jb21wbGV0ZS5jYWxsKHRoaXMuX2NvbnRleHQpO28udXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyYmZS5zeW5jRXJyb3JUaHJvd2FibGU/KHRoaXMuX190cnlPclNldEVycm9yKGUsdCksdGhpcy51bnN1YnNjcmliZSgpKToodGhpcy5fX3RyeU9yVW5zdWIodCksdGhpcy51bnN1YnNjcmliZSgpKX1lbHNlIHRoaXMudW5zdWJzY3JpYmUoKX19X190cnlPclVuc3ViKGUsdCl7dHJ5e2UuY2FsbCh0aGlzLl9jb250ZXh0LHQpfWNhdGNoKG4pe2lmKHRoaXMudW5zdWJzY3JpYmUoKSxvLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgbjtyKG4pfX1fX3RyeU9yU2V0RXJyb3IoZSx0LG4pe2lmKCFvLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgbmV3IEVycm9yKCJiYWQgY2FsbCIpO3RyeXt0LmNhbGwodGhpcy5fY29udGV4dCxuKX1jYXRjaChpKXtyZXR1cm4gby51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nPyhlLnN5bmNFcnJvclZhbHVlPWksZS5zeW5jRXJyb3JUaHJvd249ITAsITApOihyKGkpLCEwKX1yZXR1cm4hMX1fdW5zdWJzY3JpYmUoKXtjb25zdHtfcGFyZW50U3Vic2NyaWJlcjplfT10aGlzO3RoaXMuX2NvbnRleHQ9bnVsbCx0aGlzLl9wYXJlbnRTdWJzY3JpYmVyPW51bGwsZS51bnN1YnNjcmliZSgpfX1jb25zdCBtPSgoKT0+ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLm9ic2VydmFibGV8fCJAQG9ic2VydmFibGUiKSgpO2Z1bmN0aW9uIHYoZSl7cmV0dXJuIGV9bGV0IGI9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9pc1NjYWxhcj0hMSxlJiYodGhpcy5fc3Vic2NyaWJlPWUpfWxpZnQodCl7Y29uc3Qgbj1uZXcgZTtyZXR1cm4gbi5zb3VyY2U9dGhpcyxuLm9wZXJhdG9yPXQsbn1zdWJzY3JpYmUoZSx0LG4pe2NvbnN0e29wZXJhdG9yOml9PXRoaXMscz1mdW5jdGlvbihlLHQsbil7aWYoZSl7aWYoZSBpbnN0YW5jZW9mIGYpcmV0dXJuIGU7aWYoZVtwXSlyZXR1cm4gZVtwXSgpfXJldHVybiBlfHx0fHxuP25ldyBmKGUsdCxuKTpuZXcgZihhKX0oZSx0LG4pO2lmKHMuYWRkKGk/aS5jYWxsKHMsdGhpcy5zb3VyY2UpOnRoaXMuc291cmNlfHxvLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJiFzLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9zdWJzY3JpYmUocyk6dGhpcy5fdHJ5U3Vic2NyaWJlKHMpKSxvLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJnMuc3luY0Vycm9yVGhyb3dhYmxlJiYocy5zeW5jRXJyb3JUaHJvd2FibGU9ITEscy5zeW5jRXJyb3JUaHJvd24pKXRocm93IHMuc3luY0Vycm9yVmFsdWU7cmV0dXJuIHN9X3RyeVN1YnNjcmliZShlKXt0cnl7cmV0dXJuIHRoaXMuX3N1YnNjcmliZShlKX1jYXRjaCh0KXtvLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJihlLnN5bmNFcnJvclRocm93bj0hMCxlLnN5bmNFcnJvclZhbHVlPXQpLGZ1bmN0aW9uKGUpe2Zvcig7ZTspe2NvbnN0e2Nsb3NlZDp0LGRlc3RpbmF0aW9uOm4saXNTdG9wcGVkOml9PWU7aWYodHx8aSlyZXR1cm4hMTtlPW4mJm4gaW5zdGFuY2VvZiBmP246bnVsbH1yZXR1cm4hMH0oZSk/ZS5lcnJvcih0KTpjb25zb2xlLndhcm4odCl9fWZvckVhY2goZSx0KXtyZXR1cm4gbmV3KHQ9eSh0KSkoKHQsbik9PntsZXQgaTtpPXRoaXMuc3Vic2NyaWJlKHQ9Pnt0cnl7ZSh0KX1jYXRjaChzKXtuKHMpLGkmJmkudW5zdWJzY3JpYmUoKX19LG4sdCl9KX1fc3Vic2NyaWJlKGUpe2NvbnN0e3NvdXJjZTp0fT10aGlzO3JldHVybiB0JiZ0LnN1YnNjcmliZShlKX1bbV0oKXtyZXR1cm4gdGhpc31waXBlKC4uLmUpe3JldHVybiAwPT09ZS5sZW5ndGg/dGhpczooMD09PSh0PWUpLmxlbmd0aD92OjE9PT10Lmxlbmd0aD90WzBdOmZ1bmN0aW9uKGUpe3JldHVybiB0LnJlZHVjZSgoZSx0KT0+dChlKSxlKX0pKHRoaXMpO3ZhciB0fXRvUHJvbWlzZShlKXtyZXR1cm4gbmV3KGU9eShlKSkoKGUsdCk9PntsZXQgbjt0aGlzLnN1YnNjcmliZShlPT5uPWUsZT0+dChlKSwoKT0+ZShuKSl9KX19cmV0dXJuIGUuY3JlYXRlPXQ9Pm5ldyBlKHQpLGV9KSgpO2Z1bmN0aW9uIHkoZSl7aWYoZXx8KGU9by5Qcm9taXNlfHxQcm9taXNlKSwhZSl0aHJvdyBuZXcgRXJyb3IoIm5vIFByb21pc2UgaW1wbCBmb3VuZCIpO3JldHVybiBlfWNvbnN0IEM9KCgpPT57ZnVuY3Rpb24gZSgpe3JldHVybiBFcnJvci5jYWxsKHRoaXMpLHRoaXMubWVzc2FnZT0ib2JqZWN0IHVuc3Vic2NyaWJlZCIsdGhpcy5uYW1lPSJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsdGhpc31yZXR1cm4gZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLGV9KSgpO2NsYXNzIHcgZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSx0aGlzLnN1YmplY3Q9ZSx0aGlzLnN1YnNjcmliZXI9dCx0aGlzLmNsb3NlZD0hMX11bnN1YnNjcmliZSgpe2lmKHRoaXMuY2xvc2VkKXJldHVybjt0aGlzLmNsb3NlZD0hMDtjb25zdCBlPXRoaXMuc3ViamVjdCx0PWUub2JzZXJ2ZXJzO2lmKHRoaXMuc3ViamVjdD1udWxsLCF0fHwwPT09dC5sZW5ndGh8fGUuaXNTdG9wcGVkfHxlLmNsb3NlZClyZXR1cm47Y29uc3Qgbj10LmluZGV4T2YodGhpcy5zdWJzY3JpYmVyKTstMSE9PW4mJnQuc3BsaWNlKG4sMSl9fWNsYXNzIF8gZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZGVzdGluYXRpb249ZX19bGV0IEQ9KCgpPT57Y2xhc3MgZSBleHRlbmRzIGJ7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMub2JzZXJ2ZXJzPVtdLHRoaXMuY2xvc2VkPSExLHRoaXMuaXNTdG9wcGVkPSExLHRoaXMuaGFzRXJyb3I9ITEsdGhpcy50aHJvd25FcnJvcj1udWxsfVtwXSgpe3JldHVybiBuZXcgXyh0aGlzKX1saWZ0KGUpe2NvbnN0IHQ9bmV3IFModGhpcyx0aGlzKTtyZXR1cm4gdC5vcGVyYXRvcj1lLHR9bmV4dChlKXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgQztpZighdGhpcy5pc1N0b3BwZWQpe2NvbnN0e29ic2VydmVyczp0fT10aGlzLG49dC5sZW5ndGgsaT10LnNsaWNlKCk7Zm9yKGxldCBzPTA7czxuO3MrKylpW3NdLm5leHQoZSl9fWVycm9yKGUpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBDO3RoaXMuaGFzRXJyb3I9ITAsdGhpcy50aHJvd25FcnJvcj1lLHRoaXMuaXNTdG9wcGVkPSEwO2NvbnN0e29ic2VydmVyczp0fT10aGlzLG49dC5sZW5ndGgsaT10LnNsaWNlKCk7Zm9yKGxldCBzPTA7czxuO3MrKylpW3NdLmVycm9yKGUpO3RoaXMub2JzZXJ2ZXJzLmxlbmd0aD0wfWNvbXBsZXRlKCl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEM7dGhpcy5pc1N0b3BwZWQ9ITA7Y29uc3R7b2JzZXJ2ZXJzOmV9PXRoaXMsdD1lLmxlbmd0aCxuPWUuc2xpY2UoKTtmb3IobGV0IGk9MDtpPHQ7aSsrKW5baV0uY29tcGxldGUoKTt0aGlzLm9ic2VydmVycy5sZW5ndGg9MH11bnN1YnNjcmliZSgpe3RoaXMuaXNTdG9wcGVkPSEwLHRoaXMuY2xvc2VkPSEwLHRoaXMub2JzZXJ2ZXJzPW51bGx9X3RyeVN1YnNjcmliZShlKXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgQztyZXR1cm4gc3VwZXIuX3RyeVN1YnNjcmliZShlKX1fc3Vic2NyaWJlKGUpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBDO3JldHVybiB0aGlzLmhhc0Vycm9yPyhlLmVycm9yKHRoaXMudGhyb3duRXJyb3IpLGguRU1QVFkpOnRoaXMuaXNTdG9wcGVkPyhlLmNvbXBsZXRlKCksaC5FTVBUWSk6KHRoaXMub2JzZXJ2ZXJzLnB1c2goZSksbmV3IHcodGhpcyxlKSl9YXNPYnNlcnZhYmxlKCl7Y29uc3QgZT1uZXcgYjtyZXR1cm4gZS5zb3VyY2U9dGhpcyxlfX1yZXR1cm4gZS5jcmVhdGU9KGUsdCk9Pm5ldyBTKGUsdCksZX0pKCk7Y2xhc3MgUyBleHRlbmRzIER7Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLHRoaXMuZGVzdGluYXRpb249ZSx0aGlzLnNvdXJjZT10fW5leHQoZSl7Y29uc3R7ZGVzdGluYXRpb246dH09dGhpczt0JiZ0Lm5leHQmJnQubmV4dChlKX1lcnJvcihlKXtjb25zdHtkZXN0aW5hdGlvbjp0fT10aGlzO3QmJnQuZXJyb3ImJnRoaXMuZGVzdGluYXRpb24uZXJyb3IoZSl9Y29tcGxldGUoKXtjb25zdHtkZXN0aW5hdGlvbjplfT10aGlzO2UmJmUuY29tcGxldGUmJnRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX1fc3Vic2NyaWJlKGUpe2NvbnN0e3NvdXJjZTp0fT10aGlzO3JldHVybiB0P3RoaXMuc291cmNlLnN1YnNjcmliZShlKTpoLkVNUFRZfX1mdW5jdGlvbiBFKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5zY2hlZHVsZX1mdW5jdGlvbiBrKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoImFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLiBBcmUgeW91IGxvb2tpbmcgZm9yIGBtYXBUbygpYD8iKTtyZXR1cm4gbi5saWZ0KG5ldyB4KGUsdCkpfX1jbGFzcyB4e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wcm9qZWN0PWUsdGhpcy50aGlzQXJnPXR9Y2FsbChlLHQpe3JldHVybiB0LnN1YnNjcmliZShuZXcgQShlLHRoaXMucHJvamVjdCx0aGlzLnRoaXNBcmcpKX19Y2xhc3MgQSBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0LG4pe3N1cGVyKGUpLHRoaXMucHJvamVjdD10LHRoaXMuY291bnQ9MCx0aGlzLnRoaXNBcmc9bnx8dGhpc31fbmV4dChlKXtsZXQgdDt0cnl7dD10aGlzLnByb2plY3QuY2FsbCh0aGlzLnRoaXNBcmcsZSx0aGlzLmNvdW50KyspfWNhdGNoKG4pe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iobil9dGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfX1jb25zdCBPPWU9PnQ9Pntmb3IobGV0IG49MCxpPWUubGVuZ3RoO248aSYmIXQuY2xvc2VkO24rKyl0Lm5leHQoZVtuXSk7dC5jb21wbGV0ZSgpfTtmdW5jdGlvbiBUKCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yP1N5bWJvbC5pdGVyYXRvcjoiQEBpdGVyYXRvciJ9Y29uc3QgRj1UKCksST1lPT5lJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoJiYiZnVuY3Rpb24iIT10eXBlb2YgZTtmdW5jdGlvbiBNKGUpe3JldHVybiEhZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuc3Vic2NyaWJlJiYiZnVuY3Rpb24iPT10eXBlb2YgZS50aGVufWNvbnN0IFA9ZT0+e2lmKGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlW21dKXJldHVybiBuPWUsZT0+e2NvbnN0IHQ9blttXSgpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0LnN1YnNjcmliZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZSIpO3JldHVybiB0LnN1YnNjcmliZShlKX07aWYoSShlKSlyZXR1cm4gTyhlKTtpZihNKGUpKXJldHVybihlPT50PT4oZS50aGVuKGU9Pnt0LmNsb3NlZHx8KHQubmV4dChlKSx0LmNvbXBsZXRlKCkpfSxlPT50LmVycm9yKGUpKS50aGVuKG51bGwsciksdCkpKGUpO2lmKGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlW0ZdKXJldHVybiB0PWUsZT0+e2NvbnN0IG49dFtGXSgpO2Zvcig7Oyl7bGV0IHQ7dHJ5e3Q9bi5uZXh0KCl9Y2F0Y2goaSl7cmV0dXJuIGUuZXJyb3IoaSksZX1pZih0LmRvbmUpe2UuY29tcGxldGUoKTticmVha31pZihlLm5leHQodC52YWx1ZSksZS5jbG9zZWQpYnJlYWt9cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG4ucmV0dXJuJiZlLmFkZCgoKT0+e24ucmV0dXJuJiZuLnJldHVybigpfSksZX07e2NvbnN0IHQ9YyhlKT8iYW4gaW52YWxpZCBvYmplY3QiOmAnJHtlfSdgO3Rocm93IG5ldyBUeXBlRXJyb3IoYFlvdSBwcm92aWRlZCAke3R9IHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIEFycmF5LCBvciBJdGVyYWJsZS5gKX12YXIgdCxufTtmdW5jdGlvbiBWKGUsdCl7cmV0dXJuIG5ldyBiKG49Pntjb25zdCBpPW5ldyBoO2xldCBzPTA7cmV0dXJuIGkuYWRkKHQuc2NoZWR1bGUoZnVuY3Rpb24oKXtzIT09ZS5sZW5ndGg/KG4ubmV4dChlW3MrK10pLG4uY2xvc2VkfHxpLmFkZCh0aGlzLnNjaGVkdWxlKCkpKTpuLmNvbXBsZXRlKCl9KSksaX0pfWZ1bmN0aW9uIEwoZSx0KXtyZXR1cm4gdD9mdW5jdGlvbihlLHQpe2lmKG51bGwhPWUpe2lmKGZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgZVttXX0oZSkpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBiKG49Pntjb25zdCBpPW5ldyBoO3JldHVybiBpLmFkZCh0LnNjaGVkdWxlKCgpPT57Y29uc3Qgcz1lW21dKCk7aS5hZGQocy5zdWJzY3JpYmUoe25leHQoZSl7aS5hZGQodC5zY2hlZHVsZSgoKT0+bi5uZXh0KGUpKSl9LGVycm9yKGUpe2kuYWRkKHQuc2NoZWR1bGUoKCk9Pm4uZXJyb3IoZSkpKX0sY29tcGxldGUoKXtpLmFkZCh0LnNjaGVkdWxlKCgpPT5uLmNvbXBsZXRlKCkpKX19KSl9KSksaX0pfShlLHQpO2lmKE0oZSkpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBiKG49Pntjb25zdCBpPW5ldyBoO3JldHVybiBpLmFkZCh0LnNjaGVkdWxlKCgpPT5lLnRoZW4oZT0+e2kuYWRkKHQuc2NoZWR1bGUoKCk9PntuLm5leHQoZSksaS5hZGQodC5zY2hlZHVsZSgoKT0+bi5jb21wbGV0ZSgpKSl9KSl9LGU9PntpLmFkZCh0LnNjaGVkdWxlKCgpPT5uLmVycm9yKGUpKSl9KSkpLGl9KX0oZSx0KTtpZihJKGUpKXJldHVybiBWKGUsdCk7aWYoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlW0ZdfShlKXx8InN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBmdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiSXRlcmFibGUgY2Fubm90IGJlIG51bGwiKTtyZXR1cm4gbmV3IGIobj0+e2NvbnN0IGk9bmV3IGg7bGV0IHM7cmV0dXJuIGkuYWRkKCgpPT57cyYmImZ1bmN0aW9uIj09dHlwZW9mIHMucmV0dXJuJiZzLnJldHVybigpfSksaS5hZGQodC5zY2hlZHVsZSgoKT0+e3M9ZVtGXSgpLGkuYWRkKHQuc2NoZWR1bGUoZnVuY3Rpb24oKXtpZihuLmNsb3NlZClyZXR1cm47bGV0IGUsdDt0cnl7Y29uc3Qgbj1zLm5leHQoKTtlPW4udmFsdWUsdD1uLmRvbmV9Y2F0Y2goaSl7cmV0dXJuIHZvaWQgbi5lcnJvcihpKX10P24uY29tcGxldGUoKToobi5uZXh0KGUpLHRoaXMuc2NoZWR1bGUoKSl9KSl9KSksaX0pfShlLHQpfXRocm93IG5ldyBUeXBlRXJyb3IoKG51bGwhPT1lJiZ0eXBlb2YgZXx8ZSkrIiBpcyBub3Qgb2JzZXJ2YWJsZSIpfShlLHQpOmUgaW5zdGFuY2VvZiBiP2U6bmV3IGIoUChlKSl9Y2xhc3MgUiBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLnBhcmVudD1lfV9uZXh0KGUpe3RoaXMucGFyZW50Lm5vdGlmeU5leHQoZSl9X2Vycm9yKGUpe3RoaXMucGFyZW50Lm5vdGlmeUVycm9yKGUpLHRoaXMudW5zdWJzY3JpYmUoKX1fY29tcGxldGUoKXt0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX19Y2xhc3MgaiBleHRlbmRzIGZ7bm90aWZ5TmV4dChlKXt0aGlzLmRlc3RpbmF0aW9uLm5leHQoZSl9bm90aWZ5RXJyb3IoZSl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlKX1ub3RpZnlDb21wbGV0ZSgpe3RoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX19ZnVuY3Rpb24gTihlLHQpe2lmKHQuY2xvc2VkKXJldHVybjtpZihlIGluc3RhbmNlb2YgYilyZXR1cm4gZS5zdWJzY3JpYmUodCk7bGV0IG47dHJ5e249UChlKSh0KX1jYXRjaChpKXt0LmVycm9yKGkpfXJldHVybiBufWZ1bmN0aW9uIEIoZSx0LG49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdD9pPT5pLnBpcGUoQigobixpKT0+TChlKG4saSkpLnBpcGUoaygoZSxzKT0+dChuLGUsaSxzKSkpLG4pKTooIm51bWJlciI9PXR5cGVvZiB0JiYobj10KSx0PT50LmxpZnQobmV3ICQoZSxuKSkpfWNsYXNzICR7Y29uc3RydWN0b3IoZSx0PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSl7dGhpcy5wcm9qZWN0PWUsdGhpcy5jb25jdXJyZW50PXR9Y2FsbChlLHQpe3JldHVybiB0LnN1YnNjcmliZShuZXcgSChlLHRoaXMucHJvamVjdCx0aGlzLmNvbmN1cnJlbnQpKX19Y2xhc3MgSCBleHRlbmRzIGp7Y29uc3RydWN0b3IoZSx0LG49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXtzdXBlcihlKSx0aGlzLnByb2plY3Q9dCx0aGlzLmNvbmN1cnJlbnQ9bix0aGlzLmhhc0NvbXBsZXRlZD0hMSx0aGlzLmJ1ZmZlcj1bXSx0aGlzLmFjdGl2ZT0wLHRoaXMuaW5kZXg9MH1fbmV4dChlKXt0aGlzLmFjdGl2ZTx0aGlzLmNvbmN1cnJlbnQ/dGhpcy5fdHJ5TmV4dChlKTp0aGlzLmJ1ZmZlci5wdXNoKGUpfV90cnlOZXh0KGUpe2xldCB0O2NvbnN0IG49dGhpcy5pbmRleCsrO3RyeXt0PXRoaXMucHJvamVjdChlLG4pfWNhdGNoKGkpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoaSl9dGhpcy5hY3RpdmUrKyx0aGlzLl9pbm5lclN1Yih0KX1faW5uZXJTdWIoZSl7Y29uc3QgdD1uZXcgUih0aGlzKSxuPXRoaXMuZGVzdGluYXRpb247bi5hZGQodCk7Y29uc3QgaT1OKGUsdCk7aSE9PXQmJm4uYWRkKGkpfV9jb21wbGV0ZSgpe3RoaXMuaGFzQ29tcGxldGVkPSEwLDA9PT10aGlzLmFjdGl2ZSYmMD09PXRoaXMuYnVmZmVyLmxlbmd0aCYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX1ub3RpZnlOZXh0KGUpe3RoaXMuZGVzdGluYXRpb24ubmV4dChlKX1ub3RpZnlDb21wbGV0ZSgpe2NvbnN0IGU9dGhpcy5idWZmZXI7dGhpcy5hY3RpdmUtLSxlLmxlbmd0aD4wP3RoaXMuX25leHQoZS5zaGlmdCgpKTowPT09dGhpcy5hY3RpdmUmJnRoaXMuaGFzQ29tcGxldGVkJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9fWZ1bmN0aW9uIFUoZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpe3JldHVybiBCKHYsZSl9ZnVuY3Rpb24gcShlLHQpe3JldHVybiB0P1YoZSx0KTpuZXcgYihPKGUpKX1mdW5jdGlvbiB6KC4uLmUpe2xldCB0PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxuPW51bGwsaT1lW2UubGVuZ3RoLTFdO3JldHVybiBFKGkpPyhuPWUucG9wKCksZS5sZW5ndGg+MSYmIm51bWJlciI9PXR5cGVvZiBlW2UubGVuZ3RoLTFdJiYodD1lLnBvcCgpKSk6Im51bWJlciI9PXR5cGVvZiBpJiYodD1lLnBvcCgpKSxudWxsPT09biYmMT09PWUubGVuZ3RoJiZlWzBdaW5zdGFuY2VvZiBiP2VbMF06VSh0KShxKGUsbikpfWZ1bmN0aW9uIFcoKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlmdChuZXcgRyhlKSl9fWNsYXNzIEd7Y29uc3RydWN0b3IoZSl7dGhpcy5jb25uZWN0YWJsZT1lfWNhbGwoZSx0KXtjb25zdHtjb25uZWN0YWJsZTpufT10aGlzO24uX3JlZkNvdW50Kys7Y29uc3QgaT1uZXcgSyhlLG4pLHM9dC5zdWJzY3JpYmUoaSk7cmV0dXJuIGkuY2xvc2VkfHwoaS5jb25uZWN0aW9uPW4uY29ubmVjdCgpKSxzfX1jbGFzcyBLIGV4dGVuZHMgZntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuY29ubmVjdGFibGU9dH1fdW5zdWJzY3JpYmUoKXtjb25zdHtjb25uZWN0YWJsZTplfT10aGlzO2lmKCFlKXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTt0aGlzLmNvbm5lY3RhYmxlPW51bGw7Y29uc3QgdD1lLl9yZWZDb3VudDtpZih0PD0wKXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTtpZihlLl9yZWZDb3VudD10LTEsdD4xKXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTtjb25zdHtjb25uZWN0aW9uOm59PXRoaXMsaT1lLl9jb25uZWN0aW9uO3RoaXMuY29ubmVjdGlvbj1udWxsLCFpfHxuJiZpIT09bnx8aS51bnN1YnNjcmliZSgpfX1jbGFzcyBZIGV4dGVuZHMgYntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksdGhpcy5zb3VyY2U9ZSx0aGlzLnN1YmplY3RGYWN0b3J5PXQsdGhpcy5fcmVmQ291bnQ9MCx0aGlzLl9pc0NvbXBsZXRlPSExfV9zdWJzY3JpYmUoZSl7cmV0dXJuIHRoaXMuZ2V0U3ViamVjdCgpLnN1YnNjcmliZShlKX1nZXRTdWJqZWN0KCl7Y29uc3QgZT10aGlzLl9zdWJqZWN0O3JldHVybiBlJiYhZS5pc1N0b3BwZWR8fCh0aGlzLl9zdWJqZWN0PXRoaXMuc3ViamVjdEZhY3RvcnkoKSksdGhpcy5fc3ViamVjdH1jb25uZWN0KCl7bGV0IGU9dGhpcy5fY29ubmVjdGlvbjtyZXR1cm4gZXx8KHRoaXMuX2lzQ29tcGxldGU9ITEsZT10aGlzLl9jb25uZWN0aW9uPW5ldyBoLGUuYWRkKHRoaXMuc291cmNlLnN1YnNjcmliZShuZXcgUSh0aGlzLmdldFN1YmplY3QoKSx0aGlzKSkpLGUuY2xvc2VkJiYodGhpcy5fY29ubmVjdGlvbj1udWxsLGU9aC5FTVBUWSkpLGV9cmVmQ291bnQoKXtyZXR1cm4gVygpKHRoaXMpfX1jb25zdCBaPSgoKT0+e2NvbnN0IGU9WS5wcm90b3R5cGU7cmV0dXJue29wZXJhdG9yOnt2YWx1ZTpudWxsfSxfcmVmQ291bnQ6e3ZhbHVlOjAsd3JpdGFibGU6ITB9LF9zdWJqZWN0Ont2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSxfY29ubmVjdGlvbjp7dmFsdWU6bnVsbCx3cml0YWJsZTohMH0sX3N1YnNjcmliZTp7dmFsdWU6ZS5fc3Vic2NyaWJlfSxfaXNDb21wbGV0ZTp7dmFsdWU6ZS5faXNDb21wbGV0ZSx3cml0YWJsZTohMH0sZ2V0U3ViamVjdDp7dmFsdWU6ZS5nZXRTdWJqZWN0fSxjb25uZWN0Ont2YWx1ZTplLmNvbm5lY3R9LHJlZkNvdW50Ont2YWx1ZTplLnJlZkNvdW50fX19KSgpO2NsYXNzIFEgZXh0ZW5kcyBfe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSksdGhpcy5jb25uZWN0YWJsZT10fV9lcnJvcihlKXt0aGlzLl91bnN1YnNjcmliZSgpLHN1cGVyLl9lcnJvcihlKX1fY29tcGxldGUoKXt0aGlzLmNvbm5lY3RhYmxlLl9pc0NvbXBsZXRlPSEwLHRoaXMuX3Vuc3Vic2NyaWJlKCksc3VwZXIuX2NvbXBsZXRlKCl9X3Vuc3Vic2NyaWJlKCl7Y29uc3QgZT10aGlzLmNvbm5lY3RhYmxlO2lmKGUpe3RoaXMuY29ubmVjdGFibGU9bnVsbDtjb25zdCB0PWUuX2Nvbm5lY3Rpb247ZS5fcmVmQ291bnQ9MCxlLl9zdWJqZWN0PW51bGwsZS5fY29ubmVjdGlvbj1udWxsLHQmJnQudW5zdWJzY3JpYmUoKX19fWZ1bmN0aW9uIEooKXtyZXR1cm4gbmV3IER9ZnVuY3Rpb24gWChlKXtmb3IobGV0IHQgaW4gZSlpZihlW3RdPT09WClyZXR1cm4gdDt0aHJvdyBFcnJvcigiQ291bGQgbm90IGZpbmQgcmVuYW1lZCBwcm9wZXJ0eSBvbiB0YXJnZXQgb2JqZWN0LiIpfWZ1bmN0aW9uIGVlKGUsdCl7Zm9yKGNvbnN0IG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYhZS5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9ZnVuY3Rpb24gdGUoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBlO2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIlsiK2UubWFwKHRlKS5qb2luKCIsICIpKyJdIjtpZihudWxsPT1lKXJldHVybiIiK2U7aWYoZS5vdmVycmlkZGVuTmFtZSlyZXR1cm5gJHtlLm92ZXJyaWRkZW5OYW1lfWA7aWYoZS5uYW1lKXJldHVybmAke2UubmFtZX1gO2NvbnN0IHQ9ZS50b1N0cmluZygpO2lmKG51bGw9PXQpcmV0dXJuIiIrdDtjb25zdCBuPXQuaW5kZXhPZigiXG4iKTtyZXR1cm4tMT09PW4/dDp0LnN1YnN0cmluZygwLG4pfWZ1bmN0aW9uIG5lKGUsdCl7cmV0dXJuIG51bGw9PWV8fCIiPT09ZT9udWxsPT09dD8iIjp0Om51bGw9PXR8fCIiPT09dD9lOmUrIiAiK3R9Y29uc3QgaWU9WCh7X19mb3J3YXJkX3JlZl9fOlh9KTtmdW5jdGlvbiBzZShlKXtyZXR1cm4gZS5fX2ZvcndhcmRfcmVmX189c2UsZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0ZSh0aGlzKCkpfSxlfWZ1bmN0aW9uIG9lKGUpe3JldHVybiByZShlKT9lKCk6ZX1mdW5jdGlvbiByZShlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5oYXNPd25Qcm9wZXJ0eShpZSkmJmUuX19mb3J3YXJkX3JlZl9fPT09c2V9Y2xhc3MgYWUgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGZ1bmN0aW9uKGUsdCl7cmV0dXJuYCR7ZT9gTkcwJHtlfTogYDoiIn0ke3R9YH0oZSx0KSksdGhpcy5jb2RlPWV9fWZ1bmN0aW9uIGxlKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT9lOm51bGw9PWU/IiI6U3RyaW5nKGUpfWZ1bmN0aW9uIGNlKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP2UubmFtZXx8ZS50b1N0cmluZygpOiJvYmplY3QiPT10eXBlb2YgZSYmbnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIGUudHlwZT9lLnR5cGUubmFtZXx8ZS50eXBlLnRvU3RyaW5nKCk6bGUoZSl9ZnVuY3Rpb24gdWUoZSx0KXtjb25zdCBuPXQ/YCBpbiAke3R9YDoiIjt0aHJvdyBuZXcgYWUoIjIwMSIsYE5vIHByb3ZpZGVyIGZvciAke2NlKGUpfSBmb3VuZCR7bn1gKX1mdW5jdGlvbiBoZShlKXtyZXR1cm57dG9rZW46ZS50b2tlbixwcm92aWRlZEluOmUucHJvdmlkZWRJbnx8bnVsbCxmYWN0b3J5OmUuZmFjdG9yeSx2YWx1ZTp2b2lkIDB9fWZ1bmN0aW9uIGRlKGUpe3JldHVybntwcm92aWRlcnM6ZS5wcm92aWRlcnN8fFtdLGltcG9ydHM6ZS5pbXBvcnRzfHxbXX19ZnVuY3Rpb24gcGUoZSl7cmV0dXJuIGZlKGUsbWUpfHxmZShlLGJlKX1mdW5jdGlvbiBmZShlLHQpe3JldHVybiBlLmhhc093blByb3BlcnR5KHQpP2VbdF06bnVsbH1mdW5jdGlvbiBnZShlKXtyZXR1cm4gZSYmKGUuaGFzT3duUHJvcGVydHkodmUpfHxlLmhhc093blByb3BlcnR5KHllKSk/ZVt2ZV06bnVsbH1jb25zdCBtZT1YKHsiXHUwMjc1cHJvdiI6WH0pLHZlPVgoeyJcdTAyNzVpbmoiOlh9KSxiZT1YKHtuZ0luamVjdGFibGVEZWY6WH0pLHllPVgoe25nSW5qZWN0b3JEZWY6WH0pO3ZhciBDZT1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLkRlZmF1bHQ9MF09IkRlZmF1bHQiLGVbZS5Ib3N0PTFdPSJIb3N0IixlW2UuU2VsZj0yXT0iU2VsZiIsZVtlLlNraXBTZWxmPTRdPSJTa2lwU2VsZiIsZVtlLk9wdGlvbmFsPThdPSJPcHRpb25hbCIsZX0oe30pO2xldCB3ZTtmdW5jdGlvbiBfZShlKXtjb25zdCB0PXdlO3JldHVybiB3ZT1lLHR9ZnVuY3Rpb24gRGUoZSx0LG4pe2NvbnN0IGk9cGUoZSk7cmV0dXJuIGkmJiJyb290Ij09aS5wcm92aWRlZEluP3ZvaWQgMD09PWkudmFsdWU/aS52YWx1ZT1pLmZhY3RvcnkoKTppLnZhbHVlOm4mQ2UuT3B0aW9uYWw/bnVsbDp2b2lkIDAhPT10P3Q6dm9pZCB1ZSh0ZShlKSwiSW5qZWN0b3IiKX1mdW5jdGlvbiBTZShlKXtyZXR1cm57dG9TdHJpbmc6ZX0udG9TdHJpbmcoKX12YXIgRWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5PblB1c2g9MF09Ik9uUHVzaCIsZVtlLkRlZmF1bHQ9MV09IkRlZmF1bHQiLGV9KHt9KSxrZT1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLkVtdWxhdGVkPTBdPSJFbXVsYXRlZCIsZVtlLk5vbmU9Ml09Ik5vbmUiLGVbZS5TaGFkb3dEb209M109IlNoYWRvd0RvbSIsZX0oe30pO2NvbnN0IHhlPSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyxBZT0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LE9lPSJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmInVuZGVmaW5lZCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZzZWxmLFRlPSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwsRmU9eGV8fFRlfHxBZXx8T2UsSWU9e30sTWU9W10sUGU9WCh7Ilx1MDI3NWNtcCI6WH0pLFZlPVgoeyJcdTAyNzVkaXIiOlh9KSxMZT1YKHsiXHUwMjc1cGlwZSI6WH0pLFJlPVgoeyJcdTAyNzVtb2QiOlh9KSxqZT1YKHsiXHUwMjc1bG9jIjpYfSksTmU9WCh7Ilx1MDI3NWZhYyI6WH0pLEJlPVgoe19fTkdfRUxFTUVOVF9JRF9fOlh9KTtsZXQgJGU9MDtmdW5jdGlvbiBIZShlKXtyZXR1cm4gU2UoKCk9Pntjb25zdCB0PXt9LG49e3R5cGU6ZS50eXBlLHByb3ZpZGVyc1Jlc29sdmVyOm51bGwsZGVjbHM6ZS5kZWNscyx2YXJzOmUudmFycyxmYWN0b3J5Om51bGwsdGVtcGxhdGU6ZS50ZW1wbGF0ZXx8bnVsbCxjb25zdHM6ZS5jb25zdHN8fG51bGwsbmdDb250ZW50U2VsZWN0b3JzOmUubmdDb250ZW50U2VsZWN0b3JzLGhvc3RCaW5kaW5nczplLmhvc3RCaW5kaW5nc3x8bnVsbCxob3N0VmFyczplLmhvc3RWYXJzfHwwLGhvc3RBdHRyczplLmhvc3RBdHRyc3x8bnVsbCxjb250ZW50UXVlcmllczplLmNvbnRlbnRRdWVyaWVzfHxudWxsLGRlY2xhcmVkSW5wdXRzOnQsaW5wdXRzOm51bGwsb3V0cHV0czpudWxsLGV4cG9ydEFzOmUuZXhwb3J0QXN8fG51bGwsb25QdXNoOmUuY2hhbmdlRGV0ZWN0aW9uPT09RWUuT25QdXNoLGRpcmVjdGl2ZURlZnM6bnVsbCxwaXBlRGVmczpudWxsLHNlbGVjdG9yczplLnNlbGVjdG9yc3x8TWUsdmlld1F1ZXJ5OmUudmlld1F1ZXJ5fHxudWxsLGZlYXR1cmVzOmUuZmVhdHVyZXN8fG51bGwsZGF0YTplLmRhdGF8fHt9LGVuY2Fwc3VsYXRpb246ZS5lbmNhcHN1bGF0aW9ufHxrZS5FbXVsYXRlZCxpZDoiYyIsc3R5bGVzOmUuc3R5bGVzfHxNZSxfOm51bGwsc2V0SW5wdXQ6bnVsbCxzY2hlbWFzOmUuc2NoZW1hc3x8bnVsbCx0VmlldzpudWxsfSxpPWUuZGlyZWN0aXZlcyxzPWUuZmVhdHVyZXMsbz1lLnBpcGVzO3JldHVybiBuLmlkKz0kZSsrLG4uaW5wdXRzPUdlKGUuaW5wdXRzLHQpLG4ub3V0cHV0cz1HZShlLm91dHB1dHMpLHMmJnMuZm9yRWFjaChlPT5lKG4pKSxuLmRpcmVjdGl2ZURlZnM9aT8oKT0+KCJmdW5jdGlvbiI9PXR5cGVvZiBpP2koKTppKS5tYXAoVWUpOm51bGwsbi5waXBlRGVmcz1vPygpPT4oImZ1bmN0aW9uIj09dHlwZW9mIG8/bygpOm8pLm1hcChxZSk6bnVsbCxufSl9ZnVuY3Rpb24gVWUoZSl7cmV0dXJuIFplKGUpfHxmdW5jdGlvbihlKXtyZXR1cm4gZVtWZV18fG51bGx9KGUpfWZ1bmN0aW9uIHFlKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZVtMZV18fG51bGx9KGUpfWNvbnN0IHplPXt9O2Z1bmN0aW9uIFdlKGUpe2NvbnN0IHQ9e3R5cGU6ZS50eXBlLGJvb3RzdHJhcDplLmJvb3RzdHJhcHx8TWUsZGVjbGFyYXRpb25zOmUuZGVjbGFyYXRpb25zfHxNZSxpbXBvcnRzOmUuaW1wb3J0c3x8TWUsZXhwb3J0czplLmV4cG9ydHN8fE1lLHRyYW5zaXRpdmVDb21waWxlU2NvcGVzOm51bGwsc2NoZW1hczplLnNjaGVtYXN8fG51bGwsaWQ6ZS5pZHx8bnVsbH07cmV0dXJuIG51bGwhPWUuaWQmJlNlKCgpPT57emVbZS5pZF09ZS50eXBlfSksdH1mdW5jdGlvbiBHZShlLHQpe2lmKG51bGw9PWUpcmV0dXJuIEllO2NvbnN0IG49e307Zm9yKGNvbnN0IGkgaW4gZSlpZihlLmhhc093blByb3BlcnR5KGkpKXtsZXQgcz1lW2ldLG89cztBcnJheS5pc0FycmF5KHMpJiYobz1zWzFdLHM9c1swXSksbltzXT1pLHQmJih0W3NdPW8pfXJldHVybiBufWNvbnN0IEtlPUhlO2Z1bmN0aW9uIFllKGUpe3JldHVybnt0eXBlOmUudHlwZSxuYW1lOmUubmFtZSxmYWN0b3J5Om51bGwscHVyZTohMSE9PWUucHVyZSxvbkRlc3Ryb3k6ZS50eXBlLnByb3RvdHlwZS5uZ09uRGVzdHJveXx8bnVsbH19ZnVuY3Rpb24gWmUoZSl7cmV0dXJuIGVbUGVdfHxudWxsfWZ1bmN0aW9uIFFlKGUsdCl7Y29uc3Qgbj1lW1JlXXx8bnVsbDtpZighbiYmITA9PT10KXRocm93IG5ldyBFcnJvcihgVHlwZSAke3RlKGUpfSBkb2VzIG5vdCBoYXZlICdcdTAyNzVtb2QnIHByb3BlcnR5LmApO3JldHVybiBufWNvbnN0IEplPTIwLFhlPTEwO2Z1bmN0aW9uIGV0KGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiYib2JqZWN0Ij09dHlwZW9mIGVbMV19ZnVuY3Rpb24gdHQoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJiEwPT09ZVsxXX1mdW5jdGlvbiBudChlKXtyZXR1cm4gMCE9KDgmZS5mbGFncyl9ZnVuY3Rpb24gaXQoZSl7cmV0dXJuIDI9PSgyJmUuZmxhZ3MpfWZ1bmN0aW9uIHN0KGUpe3JldHVybiAxPT0oMSZlLmZsYWdzKX1mdW5jdGlvbiBvdChlKXtyZXR1cm4gbnVsbCE9PWUudGVtcGxhdGV9ZnVuY3Rpb24gcnQoZSx0KXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eShOZSk/ZVtOZV06bnVsbH1jbGFzcyBhdHtjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5wcmV2aW91c1ZhbHVlPWUsdGhpcy5jdXJyZW50VmFsdWU9dCx0aGlzLmZpcnN0Q2hhbmdlPW59aXNGaXJzdENoYW5nZSgpe3JldHVybiB0aGlzLmZpcnN0Q2hhbmdlfX1mdW5jdGlvbiBsdCgpe3JldHVybiBjdH1mdW5jdGlvbiBjdChlKXtyZXR1cm4gZS50eXBlLnByb3RvdHlwZS5uZ09uQ2hhbmdlcyYmKGUuc2V0SW5wdXQ9aHQpLHV0fWZ1bmN0aW9uIHV0KCl7Y29uc3QgZT1kdCh0aGlzKSx0PW51bGw9PWU/dm9pZCAwOmUuY3VycmVudDtpZih0KXtjb25zdCBuPWUucHJldmlvdXM7aWYobj09PUllKWUucHJldmlvdXM9dDtlbHNlIGZvcihsZXQgZSBpbiB0KW5bZV09dFtlXTtlLmN1cnJlbnQ9bnVsbCx0aGlzLm5nT25DaGFuZ2VzKHQpfX1mdW5jdGlvbiBodChlLHQsbixpKXtjb25zdCBzPWR0KGUpfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fbmdTaW1wbGVDaGFuZ2VzX189dH0oZSx7cHJldmlvdXM6SWUsY3VycmVudDpudWxsfSksbz1zLmN1cnJlbnR8fChzLmN1cnJlbnQ9e30pLHI9cy5wcmV2aW91cyxhPXRoaXMuZGVjbGFyZWRJbnB1dHNbbl0sbD1yW2FdO29bYV09bmV3IGF0KGwmJmwuY3VycmVudFZhbHVlLHQscj09PUllKSxlW2ldPXR9ZnVuY3Rpb24gZHQoZSl7cmV0dXJuIGUuX19uZ1NpbXBsZUNoYW5nZXNfX3x8bnVsbH1sZXQgcHQ7ZnVuY3Rpb24gZnQoKXtyZXR1cm4gdm9pZCAwIT09cHQ/cHQ6InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudDp2b2lkIDB9ZnVuY3Rpb24gZ3QoZSl7cmV0dXJuISFlLmxpc3Rlbn1sdC5uZ0luaGVyaXQ9ITA7Y29uc3QgbXQ9e2NyZWF0ZVJlbmRlcmVyOihlLHQpPT5mdCgpfTtmdW5jdGlvbiB2dChlKXtmb3IoO0FycmF5LmlzQXJyYXkoZSk7KWU9ZVswXTtyZXR1cm4gZX1mdW5jdGlvbiBidChlLHQpe3JldHVybiB2dCh0W2VdKX1mdW5jdGlvbiB5dChlLHQpe3JldHVybiB2dCh0W2UuaW5kZXhdKX1mdW5jdGlvbiBDdChlLHQpe3JldHVybiBlLmRhdGFbdF19ZnVuY3Rpb24gd3QoZSx0KXtyZXR1cm4gZVt0XX1mdW5jdGlvbiBfdChlLHQpe2NvbnN0IG49dFtlXTtyZXR1cm4gZXQobik/bjpuWzBdfWZ1bmN0aW9uIER0KGUpe3JldHVybiA0PT0oNCZlWzJdKX1mdW5jdGlvbiBTdChlKXtyZXR1cm4gMTI4PT0oMTI4JmVbMl0pfWZ1bmN0aW9uIEV0KGUsdCl7cmV0dXJuIG51bGw9PXQ/bnVsbDplW3RdfWZ1bmN0aW9uIGt0KGUpe2VbMThdPTB9ZnVuY3Rpb24geHQoZSx0KXtlWzVdKz10O2xldCBuPWUsaT1lWzNdO2Zvcig7bnVsbCE9PWkmJigxPT09dCYmMT09PW5bNV18fC0xPT09dCYmMD09PW5bNV0pOylpWzVdKz10LG49aSxpPWlbM119Y29uc3QgQXQ9e2xGcmFtZTpKdChudWxsKSxiaW5kaW5nc0VuYWJsZWQ6ITAsaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZTohMX07ZnVuY3Rpb24gT3QoKXtyZXR1cm4gQXQuYmluZGluZ3NFbmFibGVkfWZ1bmN0aW9uIFR0KCl7cmV0dXJuIEF0LmxGcmFtZS5sVmlld31mdW5jdGlvbiBGdCgpe3JldHVybiBBdC5sRnJhbWUudFZpZXd9ZnVuY3Rpb24gSXQoZSl7cmV0dXJuIEF0LmxGcmFtZS5jb250ZXh0TFZpZXc9ZSxlWzhdfWZ1bmN0aW9uIE10KCl7bGV0IGU9UHQoKTtmb3IoO251bGwhPT1lJiY2ND09PWUudHlwZTspZT1lLnBhcmVudDtyZXR1cm4gZX1mdW5jdGlvbiBQdCgpe3JldHVybiBBdC5sRnJhbWUuY3VycmVudFROb2RlfWZ1bmN0aW9uIFZ0KGUsdCl7Y29uc3Qgbj1BdC5sRnJhbWU7bi5jdXJyZW50VE5vZGU9ZSxuLmlzUGFyZW50PXR9ZnVuY3Rpb24gTHQoKXtyZXR1cm4gQXQubEZyYW1lLmlzUGFyZW50fWZ1bmN0aW9uIFJ0KCl7QXQubEZyYW1lLmlzUGFyZW50PSExfWZ1bmN0aW9uIGp0KCl7cmV0dXJuIEF0LmlzSW5DaGVja05vQ2hhbmdlc01vZGV9ZnVuY3Rpb24gTnQoZSl7QXQuaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZT1lfWZ1bmN0aW9uIEJ0KCl7Y29uc3QgZT1BdC5sRnJhbWU7bGV0IHQ9ZS5iaW5kaW5nUm9vdEluZGV4O3JldHVybi0xPT09dCYmKHQ9ZS5iaW5kaW5nUm9vdEluZGV4PWUudFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgpLHR9ZnVuY3Rpb24gJHQoKXtyZXR1cm4gQXQubEZyYW1lLmJpbmRpbmdJbmRleH1mdW5jdGlvbiBIdCgpe3JldHVybiBBdC5sRnJhbWUuYmluZGluZ0luZGV4Kyt9ZnVuY3Rpb24gVXQoZSl7Y29uc3QgdD1BdC5sRnJhbWUsbj10LmJpbmRpbmdJbmRleDtyZXR1cm4gdC5iaW5kaW5nSW5kZXg9dC5iaW5kaW5nSW5kZXgrZSxufWZ1bmN0aW9uIHF0KGUsdCl7Y29uc3Qgbj1BdC5sRnJhbWU7bi5iaW5kaW5nSW5kZXg9bi5iaW5kaW5nUm9vdEluZGV4PWUsenQodCl9ZnVuY3Rpb24genQoZSl7QXQubEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleD1lfWZ1bmN0aW9uIFd0KCl7cmV0dXJuIEF0LmxGcmFtZS5jdXJyZW50UXVlcnlJbmRleH1mdW5jdGlvbiBHdChlKXtBdC5sRnJhbWUuY3VycmVudFF1ZXJ5SW5kZXg9ZX1mdW5jdGlvbiBLdChlKXtjb25zdCB0PWVbMV07cmV0dXJuIDI9PT10LnR5cGU/dC5kZWNsVE5vZGU6MT09PXQudHlwZT9lWzZdOm51bGx9ZnVuY3Rpb24gWXQoZSx0LG4pe2lmKG4mQ2UuU2tpcFNlbGYpe2xldCBpPXQscz1lO2Zvcig7aT1pLnBhcmVudCwhKG51bGwhPT1pfHxuJkNlLkhvc3R8fChpPUt0KHMpLG51bGw9PT1pKXx8KHM9c1sxNV0sMTAmaS50eXBlKSk7KTtpZihudWxsPT09aSlyZXR1cm4hMTt0PWksZT1zfWNvbnN0IGk9QXQubEZyYW1lPVF0KCk7cmV0dXJuIGkuY3VycmVudFROb2RlPXQsaS5sVmlldz1lLCEwfWZ1bmN0aW9uIFp0KGUpe2NvbnN0IHQ9UXQoKSxuPWVbMV07QXQubEZyYW1lPXQsdC5jdXJyZW50VE5vZGU9bi5maXJzdENoaWxkLHQubFZpZXc9ZSx0LnRWaWV3PW4sdC5jb250ZXh0TFZpZXc9ZSx0LmJpbmRpbmdJbmRleD1uLmJpbmRpbmdTdGFydEluZGV4LHQuaW5JMThuPSExfWZ1bmN0aW9uIFF0KCl7Y29uc3QgZT1BdC5sRnJhbWUsdD1udWxsPT09ZT9udWxsOmUuY2hpbGQ7cmV0dXJuIG51bGw9PT10P0p0KGUpOnR9ZnVuY3Rpb24gSnQoZSl7Y29uc3QgdD17Y3VycmVudFROb2RlOm51bGwsaXNQYXJlbnQ6ITAsbFZpZXc6bnVsbCx0VmlldzpudWxsLHNlbGVjdGVkSW5kZXg6LTEsY29udGV4dExWaWV3Om51bGwsZWxlbWVudERlcHRoQ291bnQ6MCxjdXJyZW50TmFtZXNwYWNlOm51bGwsY3VycmVudERpcmVjdGl2ZUluZGV4Oi0xLGJpbmRpbmdSb290SW5kZXg6LTEsYmluZGluZ0luZGV4Oi0xLGN1cnJlbnRRdWVyeUluZGV4OjAscGFyZW50OmUsY2hpbGQ6bnVsbCxpbkkxOG46ITF9O3JldHVybiBudWxsIT09ZSYmKGUuY2hpbGQ9dCksdH1mdW5jdGlvbiBYdCgpe2NvbnN0IGU9QXQubEZyYW1lO3JldHVybiBBdC5sRnJhbWU9ZS5wYXJlbnQsZS5jdXJyZW50VE5vZGU9bnVsbCxlLmxWaWV3PW51bGwsZX1jb25zdCBlbj1YdDtmdW5jdGlvbiB0bigpe2NvbnN0IGU9WHQoKTtlLmlzUGFyZW50PSEwLGUudFZpZXc9bnVsbCxlLnNlbGVjdGVkSW5kZXg9LTEsZS5jb250ZXh0TFZpZXc9bnVsbCxlLmVsZW1lbnREZXB0aENvdW50PTAsZS5jdXJyZW50RGlyZWN0aXZlSW5kZXg9LTEsZS5jdXJyZW50TmFtZXNwYWNlPW51bGwsZS5iaW5kaW5nUm9vdEluZGV4PS0xLGUuYmluZGluZ0luZGV4PS0xLGUuY3VycmVudFF1ZXJ5SW5kZXg9MH1mdW5jdGlvbiBubigpe3JldHVybiBBdC5sRnJhbWUuc2VsZWN0ZWRJbmRleH1mdW5jdGlvbiBzbihlKXtBdC5sRnJhbWUuc2VsZWN0ZWRJbmRleD1lfWZ1bmN0aW9uIG9uKCl7Y29uc3QgZT1BdC5sRnJhbWU7cmV0dXJuIEN0KGUudFZpZXcsZS5zZWxlY3RlZEluZGV4KX1mdW5jdGlvbiBybihlLHQpe2ZvcihsZXQgbj10LmRpcmVjdGl2ZVN0YXJ0LGk9dC5kaXJlY3RpdmVFbmQ7bjxpO24rKyl7Y29uc3QgdD1lLmRhdGFbbl0udHlwZS5wcm90b3R5cGUse25nQWZ0ZXJDb250ZW50SW5pdDppLG5nQWZ0ZXJDb250ZW50Q2hlY2tlZDpzLG5nQWZ0ZXJWaWV3SW5pdDpvLG5nQWZ0ZXJWaWV3Q2hlY2tlZDpyLG5nT25EZXN0cm95OmF9PXQ7aSYmKGUuY29udGVudEhvb2tzfHwoZS5jb250ZW50SG9va3M9W10pKS5wdXNoKC1uLGkpLHMmJigoZS5jb250ZW50SG9va3N8fChlLmNvbnRlbnRIb29rcz1bXSkpLnB1c2gobixzKSwoZS5jb250ZW50Q2hlY2tIb29rc3x8KGUuY29udGVudENoZWNrSG9va3M9W10pKS5wdXNoKG4scykpLG8mJihlLnZpZXdIb29rc3x8KGUudmlld0hvb2tzPVtdKSkucHVzaCgtbixvKSxyJiYoKGUudmlld0hvb2tzfHwoZS52aWV3SG9va3M9W10pKS5wdXNoKG4sciksKGUudmlld0NoZWNrSG9va3N8fChlLnZpZXdDaGVja0hvb2tzPVtdKSkucHVzaChuLHIpKSxudWxsIT1hJiYoZS5kZXN0cm95SG9va3N8fChlLmRlc3Ryb3lIb29rcz1bXSkpLnB1c2gobixhKX19ZnVuY3Rpb24gYW4oZSx0LG4pe3VuKGUsdCwzLG4pfWZ1bmN0aW9uIGxuKGUsdCxuLGkpeygzJmVbMl0pPT09biYmdW4oZSx0LG4saSl9ZnVuY3Rpb24gY24oZSx0KXtsZXQgbj1lWzJdOygzJm4pPT09dCYmKG4mPTIwNDcsbis9MSxlWzJdPW4pfWZ1bmN0aW9uIHVuKGUsdCxuLGkpe2NvbnN0IHM9bnVsbCE9aT9pOi0xLG89dC5sZW5ndGgtMTtsZXQgcj0wO2ZvcihsZXQgYT12b2lkIDAhPT1pPzY1NTM1JmVbMThdOjA7YTxvO2ErKylpZigibnVtYmVyIj09dHlwZW9mIHRbYSsxXSl7aWYocj10W2FdLG51bGwhPWkmJnI+PWkpYnJlYWt9ZWxzZSB0W2FdPDAmJihlWzE4XSs9NjU1MzYpLChyPHN8fC0xPT1zKSYmKGhuKGUsbix0LGEpLGVbMThdPSg0Mjk0OTAxNzYwJmVbMThdKSthKzIpLGErK31mdW5jdGlvbiBobihlLHQsbixpKXtjb25zdCBzPW5baV08MCxvPW5baSsxXSxyPWVbcz8tbltpXTpuW2ldXTtpZihzKXtpZihlWzJdPj4xMTxlWzE4XT4+MTYmJigzJmVbMl0pPT09dCl7ZVsyXSs9MjA0ODt0cnl7by5jYWxsKHIpfWZpbmFsbHl7fX19ZWxzZSB0cnl7by5jYWxsKHIpfWZpbmFsbHl7fX1jb25zdCBkbj0tMTtjbGFzcyBwbntjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5mYWN0b3J5PWUsdGhpcy5yZXNvbHZpbmc9ITEsdGhpcy5jYW5TZWVWaWV3UHJvdmlkZXJzPXQsdGhpcy5pbmplY3RJbXBsPW59fWZ1bmN0aW9uIGZuKGUsdCxuKXtjb25zdCBpPWd0KGUpO2xldCBzPTA7Zm9yKDtzPG4ubGVuZ3RoOyl7Y29uc3Qgbz1uW3NdO2lmKCJudW1iZXIiPT10eXBlb2Ygbyl7aWYoMCE9PW8pYnJlYWs7cysrO2NvbnN0IHI9bltzKytdLGE9bltzKytdLGw9bltzKytdO2k/ZS5zZXRBdHRyaWJ1dGUodCxhLGwscik6dC5zZXRBdHRyaWJ1dGVOUyhyLGEsbCl9ZWxzZXtjb25zdCByPW8sYT1uWysrc107bW4ocik/aSYmZS5zZXRQcm9wZXJ0eSh0LHIsYSk6aT9lLnNldEF0dHJpYnV0ZSh0LHIsYSk6dC5zZXRBdHRyaWJ1dGUocixhKSxzKyt9fXJldHVybiBzfWZ1bmN0aW9uIGduKGUpe3JldHVybiAzPT09ZXx8ND09PWV8fDY9PT1lfWZ1bmN0aW9uIG1uKGUpe3JldHVybiA2ND09PWUuY2hhckNvZGVBdCgwKX1mdW5jdGlvbiB2bihlLHQpe2lmKG51bGw9PT10fHwwPT09dC5sZW5ndGgpO2Vsc2UgaWYobnVsbD09PWV8fDA9PT1lLmxlbmd0aCllPXQuc2xpY2UoKTtlbHNle2xldCBuPS0xO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBzPXRbaV07Im51bWJlciI9PXR5cGVvZiBzP249czowPT09bnx8Ym4oZSxuLHMsbnVsbCwtMT09PW58fDI9PT1uP3RbKytpXTpudWxsKX19cmV0dXJuIGV9ZnVuY3Rpb24gYm4oZSx0LG4saSxzKXtsZXQgbz0wLHI9ZS5sZW5ndGg7aWYoLTE9PT10KXI9LTE7ZWxzZSBmb3IoO288ZS5sZW5ndGg7KXtjb25zdCBuPWVbbysrXTtpZigibnVtYmVyIj09dHlwZW9mIG4pe2lmKG49PT10KXtyPS0xO2JyZWFrfWlmKG4+dCl7cj1vLTE7YnJlYWt9fX1mb3IoO288ZS5sZW5ndGg7KXtjb25zdCB0PWVbb107aWYoIm51bWJlciI9PXR5cGVvZiB0KWJyZWFrO2lmKHQ9PT1uKXtpZihudWxsPT09aSlyZXR1cm4gdm9pZChudWxsIT09cyYmKGVbbysxXT1zKSk7aWYoaT09PWVbbysxXSlyZXR1cm4gdm9pZChlW28rMl09cyl9bysrLG51bGwhPT1pJiZvKyssbnVsbCE9PXMmJm8rK30tMSE9PXImJihlLnNwbGljZShyLDAsdCksbz1yKzEpLGUuc3BsaWNlKG8rKywwLG4pLG51bGwhPT1pJiZlLnNwbGljZShvKyssMCxpKSxudWxsIT09cyYmZS5zcGxpY2UobysrLDAscyl9ZnVuY3Rpb24geW4oZSl7cmV0dXJuIGUhPT1kbn1mdW5jdGlvbiBDbihlKXtyZXR1cm4gMzI3NjcmZX1mdW5jdGlvbiB3bihlLHQpe2xldCBuPWU+PjE2LGk9dDtmb3IoO24+MDspaT1pWzE1XSxuLS07cmV0dXJuIGl9bGV0IF9uPSEwO2Z1bmN0aW9uIERuKGUpe2NvbnN0IHQ9X247cmV0dXJuIF9uPWUsdH1sZXQgU249MDtmdW5jdGlvbiBFbihlLHQpe2NvbnN0IG49eG4oZSx0KTtpZigtMSE9PW4pcmV0dXJuIG47Y29uc3QgaT10WzFdO2kuZmlyc3RDcmVhdGVQYXNzJiYoZS5pbmplY3RvckluZGV4PXQubGVuZ3RoLGtuKGkuZGF0YSxlKSxrbih0LG51bGwpLGtuKGkuYmx1ZXByaW50LG51bGwpKTtjb25zdCBzPUFuKGUsdCksbz1lLmluamVjdG9ySW5kZXg7aWYoeW4ocykpe2NvbnN0IGU9Q24ocyksbj13bihzLHQpLGk9blsxXS5kYXRhO2ZvcihsZXQgcz0wO3M8ODtzKyspdFtvK3NdPW5bZStzXXxpW2Urc119cmV0dXJuIHRbbys4XT1zLG99ZnVuY3Rpb24ga24oZSx0KXtlLnB1c2goMCwwLDAsMCwwLDAsMCwwLHQpfWZ1bmN0aW9uIHhuKGUsdCl7cmV0dXJuLTE9PT1lLmluamVjdG9ySW5kZXh8fGUucGFyZW50JiZlLnBhcmVudC5pbmplY3RvckluZGV4PT09ZS5pbmplY3RvckluZGV4fHxudWxsPT09dFtlLmluamVjdG9ySW5kZXgrOF0/LTE6ZS5pbmplY3RvckluZGV4fWZ1bmN0aW9uIEFuKGUsdCl7aWYoZS5wYXJlbnQmJi0xIT09ZS5wYXJlbnQuaW5qZWN0b3JJbmRleClyZXR1cm4gZS5wYXJlbnQuaW5qZWN0b3JJbmRleDtsZXQgbj0wLGk9bnVsbCxzPXQ7Zm9yKDtudWxsIT09czspe2NvbnN0IGU9c1sxXSx0PWUudHlwZTtpZihpPTI9PT10P2UuZGVjbFROb2RlOjE9PT10P3NbNl06bnVsbCxudWxsPT09aSlyZXR1cm4gZG47aWYobisrLHM9c1sxNV0sLTEhPT1pLmluamVjdG9ySW5kZXgpcmV0dXJuIGkuaW5qZWN0b3JJbmRleHxuPDwxNn1yZXR1cm4gZG59ZnVuY3Rpb24gT24oZSx0LG4peyFmdW5jdGlvbihlLHQsbil7bGV0IGk7InN0cmluZyI9PXR5cGVvZiBuP2k9bi5jaGFyQ29kZUF0KDApfHwwOm4uaGFzT3duUHJvcGVydHkoQmUpJiYoaT1uW0JlXSksbnVsbD09aSYmKGk9bltCZV09U24rKyk7Y29uc3Qgcz0yNTUmaTt0LmRhdGFbZSsocz4+NSldfD0xPDxzfShlLHQsbil9ZnVuY3Rpb24gVG4oZSx0LG4pe2lmKG4mQ2UuT3B0aW9uYWwpcmV0dXJuIGU7dWUodCwiTm9kZUluamVjdG9yIil9ZnVuY3Rpb24gRm4oZSx0LG4saSl7aWYobiZDZS5PcHRpb25hbCYmdm9pZCAwPT09aSYmKGk9bnVsbCksMD09KG4mKENlLlNlbGZ8Q2UuSG9zdCkpKXtjb25zdCBzPWVbOV0sbz1fZSh2b2lkIDApO3RyeXtyZXR1cm4gcz9zLmdldCh0LGksbiZDZS5PcHRpb25hbCk6RGUodCxpLG4mQ2UuT3B0aW9uYWwpfWZpbmFsbHl7X2Uobyl9fXJldHVybiBUbihpLHQsbil9ZnVuY3Rpb24gSW4oZSx0LG4saT1DZS5EZWZhdWx0LHMpe2lmKG51bGwhPT1lKXtjb25zdCBvPWZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZS5jaGFyQ29kZUF0KDApfHwwO2NvbnN0IHQ9ZS5oYXNPd25Qcm9wZXJ0eShCZSk/ZVtCZV06dm9pZCAwO3JldHVybiJudW1iZXIiPT10eXBlb2YgdD90Pj0wPzI1NSZ0OlBuOnR9KG4pO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBvKXtpZighWXQodCxlLGkpKXJldHVybiBpJkNlLkhvc3Q/VG4ocyxuLGkpOkZuKHQsbixpLHMpO3RyeXtjb25zdCBlPW8oaSk7aWYobnVsbCE9ZXx8aSZDZS5PcHRpb25hbClyZXR1cm4gZTt1ZShuKX1maW5hbGx5e2VuKCl9fWVsc2UgaWYoIm51bWJlciI9PXR5cGVvZiBvKXtsZXQgcz1udWxsLHI9eG4oZSx0KSxhPWRuLGw9aSZDZS5Ib3N0P3RbMTZdWzZdOm51bGw7Zm9yKCgtMT09PXJ8fGkmQ2UuU2tpcFNlbGYpJiYoYT0tMT09PXI/QW4oZSx0KTp0W3IrOF0sYSE9PWRuJiZObihpLCExKT8ocz10WzFdLHI9Q24oYSksdD13bihhLHQpKTpyPS0xKTstMSE9PXI7KXtjb25zdCBlPXRbMV07aWYoam4obyxyLGUuZGF0YSkpe2NvbnN0IGU9Vm4ocix0LG4scyxpLGwpO2lmKGUhPT1NbilyZXR1cm4gZX1hPXRbcis4XSxhIT09ZG4mJk5uKGksdFsxXS5kYXRhW3IrOF09PT1sKSYmam4obyxyLHQpPyhzPWUscj1DbihhKSx0PXduKGEsdCkpOnI9LTF9fX1yZXR1cm4gRm4odCxuLGkscyl9Y29uc3QgTW49e307ZnVuY3Rpb24gUG4oKXtyZXR1cm4gbmV3IEJuKE10KCksVHQoKSl9ZnVuY3Rpb24gVm4oZSx0LG4saSxzLG8pe2NvbnN0IHI9dFsxXSxhPXIuZGF0YVtlKzhdLGw9TG4oYSxyLG4sbnVsbD09aT9pdChhKSYmX246aSE9ciYmMCE9KDMmYS50eXBlKSxzJkNlLkhvc3QmJm89PT1hKTtyZXR1cm4gbnVsbCE9PWw/Um4odCxyLGwsYSk6TW59ZnVuY3Rpb24gTG4oZSx0LG4saSxzKXtjb25zdCBvPWUucHJvdmlkZXJJbmRleGVzLHI9dC5kYXRhLGE9MTA0ODU3NSZvLGw9ZS5kaXJlY3RpdmVTdGFydCxjPW8+PjIwLHU9cz9hK2M6ZS5kaXJlY3RpdmVFbmQ7Zm9yKGxldCBoPWk/YTphK2M7aDx1O2grKyl7Y29uc3QgZT1yW2hdO2lmKGg8bCYmbj09PWV8fGg+PWwmJmUudHlwZT09PW4pcmV0dXJuIGh9aWYocyl7Y29uc3QgZT1yW2xdO2lmKGUmJm90KGUpJiZlLnR5cGU9PT1uKXJldHVybiBsfXJldHVybiBudWxsfWZ1bmN0aW9uIFJuKGUsdCxuLGkpe2xldCBzPWVbbl07Y29uc3Qgbz10LmRhdGE7aWYocyBpbnN0YW5jZW9mIHBuKXtjb25zdCByPXM7ci5yZXNvbHZpbmcmJmZ1bmN0aW9uKGUsdCl7dGhyb3cgbmV3IGFlKCIyMDAiLGBDaXJjdWxhciBkZXBlbmRlbmN5IGluIERJIGRldGVjdGVkIGZvciAke2V9YCl9KGNlKG9bbl0pKTtjb25zdCBhPURuKHIuY2FuU2VlVmlld1Byb3ZpZGVycyk7ci5yZXNvbHZpbmc9ITA7Y29uc3QgbD1yLmluamVjdEltcGw/X2Uoci5pbmplY3RJbXBsKTpudWxsO1l0KGUsaSxDZS5EZWZhdWx0KTt0cnl7cz1lW25dPXIuZmFjdG9yeSh2b2lkIDAsbyxlLGkpLHQuZmlyc3RDcmVhdGVQYXNzJiZuPj1pLmRpcmVjdGl2ZVN0YXJ0JiZmdW5jdGlvbihlLHQsbil7Y29uc3R7bmdPbkNoYW5nZXM6aSxuZ09uSW5pdDpzLG5nRG9DaGVjazpvfT10LnR5cGUucHJvdG90eXBlO2lmKGkpe2NvbnN0IGk9Y3QodCk7KG4ucHJlT3JkZXJIb29rc3x8KG4ucHJlT3JkZXJIb29rcz1bXSkpLnB1c2goZSxpKSwobi5wcmVPcmRlckNoZWNrSG9va3N8fChuLnByZU9yZGVyQ2hlY2tIb29rcz1bXSkpLnB1c2goZSxpKX1zJiYobi5wcmVPcmRlckhvb2tzfHwobi5wcmVPcmRlckhvb2tzPVtdKSkucHVzaCgwLWUscyksbyYmKChuLnByZU9yZGVySG9va3N8fChuLnByZU9yZGVySG9va3M9W10pKS5wdXNoKGUsbyksKG4ucHJlT3JkZXJDaGVja0hvb2tzfHwobi5wcmVPcmRlckNoZWNrSG9va3M9W10pKS5wdXNoKGUsbykpfShuLG9bbl0sdCl9ZmluYWxseXtudWxsIT09bCYmX2UobCksRG4oYSksci5yZXNvbHZpbmc9ITEsZW4oKX19cmV0dXJuIHN9ZnVuY3Rpb24gam4oZSx0LG4pe3JldHVybiEhKG5bdCsoZT4+NSldJjE8PGUpfWZ1bmN0aW9uIE5uKGUsdCl7cmV0dXJuIShlJkNlLlNlbGZ8fGUmQ2UuSG9zdCYmdCl9Y2xhc3MgQm57Y29uc3RydWN0b3IoZSx0KXt0aGlzLl90Tm9kZT1lLHRoaXMuX2xWaWV3PXR9Z2V0KGUsdCl7cmV0dXJuIEluKHRoaXMuX3ROb2RlLHRoaXMuX2xWaWV3LGUsdm9pZCAwLHQpfX1mdW5jdGlvbiAkbihlKXtyZXR1cm4gU2UoKCk9Pntjb25zdCB0PWUucHJvdG90eXBlLmNvbnN0cnVjdG9yLG49dFtOZV18fEhuKHQpLGk9T2JqZWN0LnByb3RvdHlwZTtsZXQgcz1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO2Zvcig7cyYmcyE9PWk7KXtjb25zdCBlPXNbTmVdfHxIbihzKTtpZihlJiZlIT09bilyZXR1cm4gZTtzPU9iamVjdC5nZXRQcm90b3R5cGVPZihzKX1yZXR1cm4gZT0+bmV3IGV9KX1mdW5jdGlvbiBIbihlKXtyZXR1cm4gcmUoZSk/KCk9Pntjb25zdCB0PUhuKG9lKGUpKTtyZXR1cm4gdCYmdCgpfTpydChlKX1jb25zdCBVbj0iX19wYXJhbWV0ZXJzX18iO2Z1bmN0aW9uIHFuKGUsdCxuKXtyZXR1cm4gU2UoKCk9Pntjb25zdCBpPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbiguLi50KXtpZihlKXtjb25zdCBuPWUoLi4udCk7Zm9yKGNvbnN0IGUgaW4gbil0aGlzW2VdPW5bZV19fX0odCk7ZnVuY3Rpb24gcyguLi5lKXtpZih0aGlzIGluc3RhbmNlb2YgcylyZXR1cm4gaS5hcHBseSh0aGlzLGUpLHRoaXM7Y29uc3QgdD1uZXcgcyguLi5lKTtyZXR1cm4gbi5hbm5vdGF0aW9uPXQsbjtmdW5jdGlvbiBuKGUsbixpKXtjb25zdCBzPWUuaGFzT3duUHJvcGVydHkoVW4pP2VbVW5dOk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFVuLHt2YWx1ZTpbXX0pW1VuXTtmb3IoO3MubGVuZ3RoPD1pOylzLnB1c2gobnVsbCk7cmV0dXJuKHNbaV09c1tpXXx8W10pLnB1c2godCksZX19cmV0dXJuIG4mJihzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSkscy5wcm90b3R5cGUubmdNZXRhZGF0YU5hbWU9ZSxzLmFubm90YXRpb25DbHM9cyxzfSl9Y2xhc3Mgem57Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9kZXNjPWUsdGhpcy5uZ01ldGFkYXRhTmFtZT0iSW5qZWN0aW9uVG9rZW4iLHRoaXMuXHUwMjc1cHJvdj12b2lkIDAsIm51bWJlciI9PXR5cGVvZiB0P3RoaXMuX19OR19FTEVNRU5UX0lEX189dDp2b2lkIDAhPT10JiYodGhpcy5cdTAyNzVwcm92PWhlKHt0b2tlbjp0aGlzLHByb3ZpZGVkSW46dC5wcm92aWRlZElufHwicm9vdCIsZmFjdG9yeTp0LmZhY3Rvcnl9KSl9dG9TdHJpbmcoKXtyZXR1cm5gSW5qZWN0aW9uVG9rZW4gJHt0aGlzLl9kZXNjfWB9fWNvbnN0IFduPW5ldyB6bigiQW5hbHl6ZUZvckVudHJ5Q29tcG9uZW50cyIpLEduPUZ1bmN0aW9uO2Z1bmN0aW9uIEtuKGUsdCl7dm9pZCAwPT09dCYmKHQ9ZSk7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2xldCBpPWVbbl07QXJyYXkuaXNBcnJheShpKT8odD09PWUmJih0PWUuc2xpY2UoMCxuKSksS24oaSx0KSk6dCE9PWUmJnQucHVzaChpKX1yZXR1cm4gdH1mdW5jdGlvbiBZbihlLHQpe2UuZm9yRWFjaChlPT5BcnJheS5pc0FycmF5KGUpP1luKGUsdCk6dChlKSl9ZnVuY3Rpb24gWm4oZSx0LG4pe3Q+PWUubGVuZ3RoP2UucHVzaChuKTplLnNwbGljZSh0LDAsbil9ZnVuY3Rpb24gUW4oZSx0KXtyZXR1cm4gdD49ZS5sZW5ndGgtMT9lLnBvcCgpOmUuc3BsaWNlKHQsMSlbMF19ZnVuY3Rpb24gSm4oZSx0KXtjb25zdCBuPVtdO2ZvcihsZXQgaT0wO2k8ZTtpKyspbi5wdXNoKHQpO3JldHVybiBufWZ1bmN0aW9uIFhuKGUsdCxuKXtsZXQgaT10aShlLHQpO3JldHVybiBpPj0wP2VbMXxpXT1uOihpPX5pLGZ1bmN0aW9uKGUsdCxuLGkpe2xldCBzPWUubGVuZ3RoO2lmKHM9PXQpZS5wdXNoKG4saSk7ZWxzZSBpZigxPT09cyllLnB1c2goaSxlWzBdKSxlWzBdPW47ZWxzZXtmb3Iocy0tLGUucHVzaChlW3MtMV0sZVtzXSk7cz50OyllW3NdPWVbcy0yXSxzLS07ZVt0XT1uLGVbdCsxXT1pfX0oZSxpLHQsbikpLGl9ZnVuY3Rpb24gZWkoZSx0KXtjb25zdCBuPXRpKGUsdCk7aWYobj49MClyZXR1cm4gZVsxfG5dfWZ1bmN0aW9uIHRpKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtsZXQgaT0wLHM9ZS5sZW5ndGg+PjE7Zm9yKDtzIT09aTspe2NvbnN0IG49aSsocy1pPj4xKSxvPWVbbjw8MV07aWYodD09PW8pcmV0dXJuIG48PDE7bz50P3M9bjppPW4rMX1yZXR1cm5+KHM8PDEpfShlLHQpfWNvbnN0IG5pPXt9LGlpPS9cbi9nbSxzaT0iX19zb3VyY2UiLG9pPVgoe3Byb3ZpZGU6U3RyaW5nLHVzZVZhbHVlOlh9KTtsZXQgcmk7ZnVuY3Rpb24gYWkoZSl7Y29uc3QgdD1yaTtyZXR1cm4gcmk9ZSx0fWZ1bmN0aW9uIGxpKGUsdD1DZS5EZWZhdWx0KXtpZih2b2lkIDA9PT1yaSl0aHJvdyBuZXcgRXJyb3IoImluamVjdCgpIG11c3QgYmUgY2FsbGVkIGZyb20gYW4gaW5qZWN0aW9uIGNvbnRleHQiKTtyZXR1cm4gbnVsbD09PXJpP0RlKGUsdm9pZCAwLHQpOnJpLmdldChlLHQmQ2UuT3B0aW9uYWw/bnVsbDp2b2lkIDAsdCl9ZnVuY3Rpb24gY2koZSx0PUNlLkRlZmF1bHQpe3JldHVybih3ZXx8bGkpKG9lKGUpLHQpfWZ1bmN0aW9uIHVpKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IGk9b2UoZVtuXSk7aWYoQXJyYXkuaXNBcnJheShpKSl7aWYoMD09PWkubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiQXJndW1lbnRzIGFycmF5IG11c3QgaGF2ZSBhcmd1bWVudHMuIik7bGV0IGUsbj1DZS5EZWZhdWx0O2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKXtjb25zdCBzPWlbdF0sbz1zLl9fTkdfRElfRkxBR19fOyJudW1iZXIiPT10eXBlb2Ygbz8tMT09PW8/ZT1zLnRva2VuOm58PW86ZT1zfXQucHVzaChjaShlLG4pKX1lbHNlIHQucHVzaChjaShpKSl9cmV0dXJuIHR9ZnVuY3Rpb24gaGkoZSx0KXtyZXR1cm4gZS5fX05HX0RJX0ZMQUdfXz10LGUucHJvdG90eXBlLl9fTkdfRElfRkxBR19fPXQsZX1jb25zdCBkaT1oaShxbigiSW5qZWN0IixlPT4oe3Rva2VuOmV9KSksLTEpLHBpPWhpKHFuKCJPcHRpb25hbCIpLDgpLGZpPWhpKHFuKCJTa2lwU2VsZiIpLDQpO2xldCBnaSxtaTtmdW5jdGlvbiB2aShlKXt2YXIgdDtyZXR1cm4obnVsbD09PSh0PWZ1bmN0aW9uKCl7aWYodm9pZCAwPT09Z2kmJihnaT1udWxsLEZlLnRydXN0ZWRUeXBlcykpdHJ5e2dpPUZlLnRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3koImFuZ3VsYXIiLHtjcmVhdGVIVE1MOmU9PmUsY3JlYXRlU2NyaXB0OmU9PmUsY3JlYXRlU2NyaXB0VVJMOmU9PmV9KX1jYXRjaCh0KXt9cmV0dXJuIGdpfSgpKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jcmVhdGVIVE1MKGUpKXx8ZX1mdW5jdGlvbiBiaShlKXt2YXIgdDtyZXR1cm4obnVsbD09PSh0PWZ1bmN0aW9uKCl7aWYodm9pZCAwPT09bWkmJihtaT1udWxsLEZlLnRydXN0ZWRUeXBlcykpdHJ5e21pPUZlLnRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3koImFuZ3VsYXIjdW5zYWZlLWJ5cGFzcyIse2NyZWF0ZUhUTUw6ZT0+ZSxjcmVhdGVTY3JpcHQ6ZT0+ZSxjcmVhdGVTY3JpcHRVUkw6ZT0+ZX0pfWNhdGNoKHQpe31yZXR1cm4gbWl9KCkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNyZWF0ZUhUTUwoZSkpfHxlfWNsYXNzIHlpe2NvbnN0cnVjdG9yKGUpe3RoaXMuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eT1lfXRvU3RyaW5nKCl7cmV0dXJuYFNhZmVWYWx1ZSBtdXN0IHVzZSBbcHJvcGVydHldPWJpbmRpbmc6ICR7dGhpcy5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5fSAoc2VlIGh0dHBzOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpYH19Y2xhc3MgQ2kgZXh0ZW5kcyB5aXtnZXRUeXBlTmFtZSgpe3JldHVybiJIVE1MIn19Y2xhc3Mgd2kgZXh0ZW5kcyB5aXtnZXRUeXBlTmFtZSgpe3JldHVybiJTdHlsZSJ9fWNsYXNzIF9pIGV4dGVuZHMgeWl7Z2V0VHlwZU5hbWUoKXtyZXR1cm4iU2NyaXB0In19Y2xhc3MgRGkgZXh0ZW5kcyB5aXtnZXRUeXBlTmFtZSgpe3JldHVybiJVUkwifX1jbGFzcyBTaSBleHRlbmRzIHlpe2dldFR5cGVOYW1lKCl7cmV0dXJuIlJlc291cmNlVVJMIn19ZnVuY3Rpb24gRWkoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB5aT9lLmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHk6ZX1mdW5jdGlvbiBraShlLHQpe2NvbnN0IG49eGkoZSk7aWYobnVsbCE9biYmbiE9PXQpe2lmKCJSZXNvdXJjZVVSTCI9PT1uJiYiVVJMIj09PXQpcmV0dXJuITA7dGhyb3cgbmV3IEVycm9yKGBSZXF1aXJlZCBhIHNhZmUgJHt0fSwgZ290IGEgJHtufSAoc2VlIGh0dHBzOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpYCl9cmV0dXJuIG49PT10fWZ1bmN0aW9uIHhpKGUpe3JldHVybiBlIGluc3RhbmNlb2YgeWkmJmUuZ2V0VHlwZU5hbWUoKXx8bnVsbH1jbGFzcyBBaXtjb25zdHJ1Y3RvcihlKXt0aGlzLmluZXJ0RG9jdW1lbnRIZWxwZXI9ZX1nZXRJbmVydEJvZHlFbGVtZW50KGUpe2U9Ijxib2R5PjxyZW1vdmU+PC9yZW1vdmU+IitlO3RyeXtjb25zdCB0PShuZXcgd2luZG93LkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHZpKGUpLCJ0ZXh0L2h0bWwiKS5ib2R5O3JldHVybiBudWxsPT09dD90aGlzLmluZXJ0RG9jdW1lbnRIZWxwZXIuZ2V0SW5lcnRCb2R5RWxlbWVudChlKToodC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpLHQpfWNhdGNoKHQpe3JldHVybiBudWxsfX19Y2xhc3MgT2l7Y29uc3RydWN0b3IoZSl7aWYodGhpcy5kZWZhdWx0RG9jPWUsdGhpcy5pbmVydERvY3VtZW50PXRoaXMuZGVmYXVsdERvYy5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoInNhbml0aXphdGlvbi1pbmVydCIpLG51bGw9PXRoaXMuaW5lcnREb2N1bWVudC5ib2R5KXtjb25zdCBlPXRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCJodG1sIik7dGhpcy5pbmVydERvY3VtZW50LmFwcGVuZENoaWxkKGUpO2NvbnN0IHQ9dGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJvZHkiKTtlLmFwcGVuZENoaWxkKHQpfX1nZXRJbmVydEJvZHlFbGVtZW50KGUpe2NvbnN0IHQ9dGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7aWYoImNvbnRlbnQiaW4gdClyZXR1cm4gdC5pbm5lckhUTUw9dmkoZSksdDtjb25zdCBuPXRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCJib2R5Iik7cmV0dXJuIG4uaW5uZXJIVE1MPXZpKGUpLHRoaXMuZGVmYXVsdERvYy5kb2N1bWVudE1vZGUmJnRoaXMuc3RyaXBDdXN0b21Oc0F0dHJzKG4pLG59c3RyaXBDdXN0b21Oc0F0dHJzKGUpe2NvbnN0IHQ9ZS5hdHRyaWJ1dGVzO2ZvcihsZXQgaT10Lmxlbmd0aC0xOzA8aTtpLS0pe2NvbnN0IG49dC5pdGVtKGkpLm5hbWU7InhtbG5zOm5zMSIhPT1uJiYwIT09bi5pbmRleE9mKCJuczE6Iil8fGUucmVtb3ZlQXR0cmlidXRlKG4pfWxldCBuPWUuZmlyc3RDaGlsZDtmb3IoO247KW4ubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmdGhpcy5zdHJpcEN1c3RvbU5zQXR0cnMobiksbj1uLm5leHRTaWJsaW5nfX1jb25zdCBUaT0vXig/Oig/Omh0dHBzP3xtYWlsdG98ZnRwfHRlbHxmaWxlfHNtcyk6fFteJjovPyNdKig/OlsvPyNdfCQpKS9naSxGaT0vXmRhdGE6KD86aW1hZ2VcLyg/OmJtcHxnaWZ8anBlZ3xqcGd8cG5nfHRpZmZ8d2VicCl8dmlkZW9cLyg/Om1wZWd8bXA0fG9nZ3x3ZWJtKXxhdWRpb1wvKD86bXAzfG9nYXxvZ2d8b3B1cykpO2Jhc2U2NCxbYS16MC05K1wvXSs9KiQvaTtmdW5jdGlvbiBJaShlKXtyZXR1cm4oZT1TdHJpbmcoZSkpLm1hdGNoKFRpKXx8ZS5tYXRjaChGaSk/ZToidW5zYWZlOiIrZX1mdW5jdGlvbiBNaShlKXtjb25zdCB0PXt9O2Zvcihjb25zdCBuIG9mIGUuc3BsaXQoIiwiKSl0W25dPSEwO3JldHVybiB0fWZ1bmN0aW9uIFBpKC4uLmUpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IG4gb2YgZSlmb3IoY29uc3QgZSBpbiBuKW4uaGFzT3duUHJvcGVydHkoZSkmJih0W2VdPSEwKTtyZXR1cm4gdH1jb25zdCBWaT1NaSgiYXJlYSxicixjb2wsaHIsaW1nLHdiciIpLExpPU1pKCJjb2xncm91cCxkZCxkdCxsaSxwLHRib2R5LHRkLHRmb290LHRoLHRoZWFkLHRyIiksUmk9TWkoInJwLHJ0Iiksamk9UGkoUmksTGkpLE5pPVBpKFZpLFBpKExpLE1pKCJhZGRyZXNzLGFydGljbGUsYXNpZGUsYmxvY2txdW90ZSxjYXB0aW9uLGNlbnRlcixkZWwsZGV0YWlscyxkaWFsb2csZGlyLGRpdixkbCxmaWd1cmUsZmlnY2FwdGlvbixmb290ZXIsaDEsaDIsaDMsaDQsaDUsaDYsaGVhZGVyLGhncm91cCxocixpbnMsbWFpbixtYXAsbWVudSxuYXYsb2wscHJlLHNlY3Rpb24sc3VtbWFyeSx0YWJsZSx1bCIpKSxQaShSaSxNaSgiYSxhYmJyLGFjcm9ueW0sYXVkaW8sYixiZGksYmRvLGJpZyxicixjaXRlLGNvZGUsZGVsLGRmbixlbSxmb250LGksaW1nLGlucyxrYmQsbGFiZWwsbWFwLG1hcmsscGljdHVyZSxxLHJ1YnkscnAscnQscyxzYW1wLHNtYWxsLHNvdXJjZSxzcGFuLHN0cmlrZSxzdHJvbmcsc3ViLHN1cCx0aW1lLHRyYWNrLHR0LHUsdmFyLHZpZGVvIikpLGppKSxCaT1NaSgiYmFja2dyb3VuZCxjaXRlLGhyZWYsaXRlbXR5cGUsbG9uZ2Rlc2MscG9zdGVyLHNyYyx4bGluazpocmVmIiksJGk9TWkoInNyY3NldCIpLEhpPVBpKEJpLCRpLE1pKCJhYmJyLGFjY2Vzc2tleSxhbGlnbixhbHQsYXV0b3BsYXksYXhpcyxiZ2NvbG9yLGJvcmRlcixjZWxscGFkZGluZyxjZWxsc3BhY2luZyxjbGFzcyxjbGVhcixjb2xvcixjb2xzLGNvbHNwYW4sY29tcGFjdCxjb250cm9scyxjb29yZHMsZGF0ZXRpbWUsZGVmYXVsdCxkaXIsZG93bmxvYWQsZmFjZSxoZWFkZXJzLGhlaWdodCxoaWRkZW4saHJlZmxhbmcsaHNwYWNlLGlzbWFwLGl0ZW1zY29wZSxpdGVtcHJvcCxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbG9vcCxtZWRpYSxtdXRlZCxub2hyZWYsbm93cmFwLG9wZW4scHJlbG9hZCxyZWwscmV2LHJvbGUscm93cyxyb3dzcGFuLHJ1bGVzLHNjb3BlLHNjcm9sbGluZyxzaGFwZSxzaXplLHNpemVzLHNwYW4sc3JjbGFuZyxzdGFydCxzdW1tYXJ5LHRhYmluZGV4LHRhcmdldCx0aXRsZSx0cmFuc2xhdGUsdHlwZSx1c2VtYXAsdmFsaWduLHZhbHVlLHZzcGFjZSx3aWR0aCIpLE1pKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQsYXJpYS1hdG9taWMsYXJpYS1hdXRvY29tcGxldGUsYXJpYS1idXN5LGFyaWEtY2hlY2tlZCxhcmlhLWNvbGNvdW50LGFyaWEtY29saW5kZXgsYXJpYS1jb2xzcGFuLGFyaWEtY29udHJvbHMsYXJpYS1jdXJyZW50LGFyaWEtZGVzY3JpYmVkYnksYXJpYS1kZXRhaWxzLGFyaWEtZGlzYWJsZWQsYXJpYS1kcm9wZWZmZWN0LGFyaWEtZXJyb3JtZXNzYWdlLGFyaWEtZXhwYW5kZWQsYXJpYS1mbG93dG8sYXJpYS1ncmFiYmVkLGFyaWEtaGFzcG9wdXAsYXJpYS1oaWRkZW4sYXJpYS1pbnZhbGlkLGFyaWEta2V5c2hvcnRjdXRzLGFyaWEtbGFiZWwsYXJpYS1sYWJlbGxlZGJ5LGFyaWEtbGV2ZWwsYXJpYS1saXZlLGFyaWEtbW9kYWwsYXJpYS1tdWx0aWxpbmUsYXJpYS1tdWx0aXNlbGVjdGFibGUsYXJpYS1vcmllbnRhdGlvbixhcmlhLW93bnMsYXJpYS1wbGFjZWhvbGRlcixhcmlhLXBvc2luc2V0LGFyaWEtcHJlc3NlZCxhcmlhLXJlYWRvbmx5LGFyaWEtcmVsZXZhbnQsYXJpYS1yZXF1aXJlZCxhcmlhLXJvbGVkZXNjcmlwdGlvbixhcmlhLXJvd2NvdW50LGFyaWEtcm93aW5kZXgsYXJpYS1yb3dzcGFuLGFyaWEtc2VsZWN0ZWQsYXJpYS1zZXRzaXplLGFyaWEtc29ydCxhcmlhLXZhbHVlbWF4LGFyaWEtdmFsdWVtaW4sYXJpYS12YWx1ZW5vdyxhcmlhLXZhbHVldGV4dCIpKSxVaT1NaSgic2NyaXB0LHN0eWxlLHRlbXBsYXRlIik7Y2xhc3MgcWl7Y29uc3RydWN0b3IoKXt0aGlzLnNhbml0aXplZFNvbWV0aGluZz0hMSx0aGlzLmJ1Zj1bXX1zYW5pdGl6ZUNoaWxkcmVuKGUpe2xldCB0PWUuZmlyc3RDaGlsZCxuPSEwO2Zvcig7dDspaWYodC5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFP249dGhpcy5zdGFydEVsZW1lbnQodCk6dC5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFP3RoaXMuY2hhcnModC5ub2RlVmFsdWUpOnRoaXMuc2FuaXRpemVkU29tZXRoaW5nPSEwLG4mJnQuZmlyc3RDaGlsZCl0PXQuZmlyc3RDaGlsZDtlbHNlIGZvcig7dDspe3Qubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmdGhpcy5lbmRFbGVtZW50KHQpO2xldCBlPXRoaXMuY2hlY2tDbG9iYmVyZWRFbGVtZW50KHQsdC5uZXh0U2libGluZyk7aWYoZSl7dD1lO2JyZWFrfXQ9dGhpcy5jaGVja0Nsb2JiZXJlZEVsZW1lbnQodCx0LnBhcmVudE5vZGUpfXJldHVybiB0aGlzLmJ1Zi5qb2luKCIiKX1zdGFydEVsZW1lbnQoZSl7Y29uc3QgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoIU5pLmhhc093blByb3BlcnR5KHQpKXJldHVybiB0aGlzLnNhbml0aXplZFNvbWV0aGluZz0hMCwhVWkuaGFzT3duUHJvcGVydHkodCk7dGhpcy5idWYucHVzaCgiPCIpLHRoaXMuYnVmLnB1c2godCk7Y29uc3Qgbj1lLmF0dHJpYnV0ZXM7Zm9yKGxldCBzPTA7czxuLmxlbmd0aDtzKyspe2NvbnN0IGU9bi5pdGVtKHMpLHQ9ZS5uYW1lLG89dC50b0xvd2VyQ2FzZSgpO2lmKCFIaS5oYXNPd25Qcm9wZXJ0eShvKSl7dGhpcy5zYW5pdGl6ZWRTb21ldGhpbmc9ITA7Y29udGludWV9bGV0IHI9ZS52YWx1ZTtCaVtvXSYmKHI9SWkocikpLCRpW29dJiYoaT1yLHI9KGk9U3RyaW5nKGkpKS5zcGxpdCgiLCIpLm1hcChlPT5JaShlLnRyaW0oKSkpLmpvaW4oIiwgIikpLHRoaXMuYnVmLnB1c2goIiAiLHQsJz0iJyxHaShyKSwnIicpfXZhciBpO3JldHVybiB0aGlzLmJ1Zi5wdXNoKCI+IiksITB9ZW5kRWxlbWVudChlKXtjb25zdCB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtOaS5oYXNPd25Qcm9wZXJ0eSh0KSYmIVZpLmhhc093blByb3BlcnR5KHQpJiYodGhpcy5idWYucHVzaCgiPC8iKSx0aGlzLmJ1Zi5wdXNoKHQpLHRoaXMuYnVmLnB1c2goIj4iKSl9Y2hhcnMoZSl7dGhpcy5idWYucHVzaChHaShlKSl9Y2hlY2tDbG9iYmVyZWRFbGVtZW50KGUsdCl7aWYodCYmKGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCkmTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkpPT09Tm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkpdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2FuaXRpemUgaHRtbCBiZWNhdXNlIHRoZSBlbGVtZW50IGlzIGNsb2JiZXJlZDogJHtlLm91dGVySFRNTH1gKTtyZXR1cm4gdH19Y29uc3Qgemk9L1tcdUQ4MDAtXHVEQkZGXVtcdURDMDAtXHVERkZGXS9nLFdpPS8oW15cIy1+IHwhXSkvZztmdW5jdGlvbiBHaShlKXtyZXR1cm4gZS5yZXBsYWNlKC8mL2csIiZhbXA7IikucmVwbGFjZSh6aSxmdW5jdGlvbihlKXtyZXR1cm4iJiMiKygxMDI0KihlLmNoYXJDb2RlQXQoMCktNTUyOTYpKyhlLmNoYXJDb2RlQXQoMSktNTYzMjApKzY1NTM2KSsiOyJ9KS5yZXBsYWNlKFdpLGZ1bmN0aW9uKGUpe3JldHVybiImIyIrZS5jaGFyQ29kZUF0KDApKyI7In0pLnJlcGxhY2UoLzwvZywiJmx0OyIpLnJlcGxhY2UoLz4vZywiJmd0OyIpfWxldCBLaTtmdW5jdGlvbiBZaShlLHQpe2xldCBuPW51bGw7dHJ5e0tpPUtpfHxmdW5jdGlvbihlKXtjb25zdCB0PW5ldyBPaShlKTtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7cmV0dXJuISEobmV3IHdpbmRvdy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyh2aSgiIiksInRleHQvaHRtbCIpfWNhdGNoKGUpe3JldHVybiExfX0oKT9uZXcgQWkodCk6dH0oZSk7bGV0IGk9dD9TdHJpbmcodCk6IiI7bj1LaS5nZXRJbmVydEJvZHlFbGVtZW50KGkpO2xldCBzPTUsbz1pO2Rve2lmKDA9PT1zKXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIHNhbml0aXplIGh0bWwgYmVjYXVzZSB0aGUgaW5wdXQgaXMgdW5zdGFibGUiKTtzLS0saT1vLG89bi5pbm5lckhUTUwsbj1LaS5nZXRJbmVydEJvZHlFbGVtZW50KGkpfXdoaWxlKGkhPT1vKTtyZXR1cm4gdmkoKG5ldyBxaSkuc2FuaXRpemVDaGlsZHJlbihaaShuKXx8bikpfWZpbmFsbHl7aWYobil7Y29uc3QgZT1aaShuKXx8bjtmb3IoO2UuZmlyc3RDaGlsZDspZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpfX19ZnVuY3Rpb24gWmkoZSl7cmV0dXJuImNvbnRlbnQiaW4gZSYmZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmIlRFTVBMQVRFIj09PWUubm9kZU5hbWV9KGUpP2UuY29udGVudDpudWxsfXZhciBRaT1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLk5PTkU9MF09Ik5PTkUiLGVbZS5IVE1MPTFdPSJIVE1MIixlW2UuU1RZTEU9Ml09IlNUWUxFIixlW2UuU0NSSVBUPTNdPSJTQ1JJUFQiLGVbZS5VUkw9NF09IlVSTCIsZVtlLlJFU09VUkNFX1VSTD01XT0iUkVTT1VSQ0VfVVJMIixlfSh7fSk7ZnVuY3Rpb24gSmkoZSl7Y29uc3QgdD1lcygpO3JldHVybiB0P2JpKHQuc2FuaXRpemUoUWkuSFRNTCxlKXx8IiIpOmtpKGUsIkhUTUwiKT9iaShFaShlKSk6WWkoZnQoKSxsZShlKSl9ZnVuY3Rpb24gWGkoZSl7Y29uc3QgdD1lcygpO3JldHVybiB0P3Quc2FuaXRpemUoUWkuVVJMLGUpfHwiIjpraShlLCJVUkwiKT9FaShlKTpJaShsZShlKSl9ZnVuY3Rpb24gZXMoKXtjb25zdCBlPVR0KCk7cmV0dXJuIGUmJmVbMTJdfWZ1bmN0aW9uIHRzKGUsdCl7ZS5fX25nQ29udGV4dF9fPXR9ZnVuY3Rpb24gbnMoZSl7Y29uc3QgdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5fX25nQ29udGV4dF9ffHxudWxsfShlKTtyZXR1cm4gdD9BcnJheS5pc0FycmF5KHQpP3Q6dC5sVmlldzpudWxsfWZ1bmN0aW9uIGlzKGUpe3JldHVybiBlLm5nRGVidWdDb250ZXh0fWZ1bmN0aW9uIHNzKGUpe3JldHVybiBlLm5nT3JpZ2luYWxFcnJvcn1mdW5jdGlvbiBvcyhlLC4uLnQpe2UuZXJyb3IoLi4udCl9Y2xhc3MgcnN7Y29uc3RydWN0b3IoKXt0aGlzLl9jb25zb2xlPWNvbnNvbGV9aGFuZGxlRXJyb3IoZSl7Y29uc3QgdD10aGlzLl9maW5kT3JpZ2luYWxFcnJvcihlKSxuPXRoaXMuX2ZpbmRDb250ZXh0KGUpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubmdFcnJvckxvZ2dlcnx8b3N9KGUpO2kodGhpcy5fY29uc29sZSwiRVJST1IiLGUpLHQmJmkodGhpcy5fY29uc29sZSwiT1JJR0lOQUwgRVJST1IiLHQpLG4mJmkodGhpcy5fY29uc29sZSwiRVJST1IgQ09OVEVYVCIsbil9X2ZpbmRDb250ZXh0KGUpe3JldHVybiBlP2lzKGUpP2lzKGUpOnRoaXMuX2ZpbmRDb250ZXh0KHNzKGUpKTpudWxsfV9maW5kT3JpZ2luYWxFcnJvcihlKXtsZXQgdD1zcyhlKTtmb3IoO3QmJnNzKHQpOyl0PXNzKHQpO3JldHVybiB0fX1jb25zdCBhcz0oKCk9PigidW5kZWZpbmVkIiE9dHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSYmcmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxzZXRUaW1lb3V0KS5iaW5kKEZlKSkoKTtmdW5jdGlvbiBscyhlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEZ1bmN0aW9uP2UoKTplfXZhciBjcz1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLkltcG9ydGFudD0xXT0iSW1wb3J0YW50IixlW2UuRGFzaENhc2U9Ml09IkRhc2hDYXNlIixlfSh7fSk7ZnVuY3Rpb24gdXMoZSx0KXtyZXR1cm4odm9pZCAwKShlLHQpfWZ1bmN0aW9uIGhzKGUpe2NvbnN0IHQ9ZVszXTtyZXR1cm4gdHQodCk/dFszXTp0fWZ1bmN0aW9uIGRzKGUpe3JldHVybiBmcyhlWzEzXSl9ZnVuY3Rpb24gcHMoZSl7cmV0dXJuIGZzKGVbNF0pfWZ1bmN0aW9uIGZzKGUpe2Zvcig7bnVsbCE9PWUmJiF0dChlKTspZT1lWzRdO3JldHVybiBlfWZ1bmN0aW9uIGdzKGUsdCxuLGkscyl7aWYobnVsbCE9aSl7bGV0IG8scj0hMTt0dChpKT9vPWk6ZXQoaSkmJihyPSEwLGk9aVswXSk7Y29uc3QgYT12dChpKTswPT09ZSYmbnVsbCE9PW4/bnVsbD09cz9Ecyh0LG4sYSk6X3ModCxuLGEsc3x8bnVsbCwhMCk6MT09PWUmJm51bGwhPT1uP19zKHQsbixhLHN8fG51bGwsITApOjI9PT1lP2Z1bmN0aW9uKGUsdCxuKXtjb25zdCBpPUVzKGUsdCk7aSYmZnVuY3Rpb24oZSx0LG4saSl7Z3QoZSk/ZS5yZW1vdmVDaGlsZCh0LG4saSk6dC5yZW1vdmVDaGlsZChuKX0oZSxpLHQsbil9KHQsYSxyKTozPT09ZSYmdC5kZXN0cm95Tm9kZShhKSxudWxsIT1vJiZmdW5jdGlvbihlLHQsbixpLHMpe2NvbnN0IG89bls3XTtvIT09dnQobikmJmdzKHQsZSxpLG8scyk7Zm9yKGxldCByPVhlO3I8bi5sZW5ndGg7cisrKXtjb25zdCBzPW5bcl07TXMoc1sxXSxzLGUsdCxpLG8pfX0odCxlLG8sbixzKX19ZnVuY3Rpb24gbXMoZSx0LG4pe3JldHVybiBndChlKT9lLmNyZWF0ZUVsZW1lbnQodCxuKTpudWxsPT09bj9lLmNyZWF0ZUVsZW1lbnQodCk6ZS5jcmVhdGVFbGVtZW50TlMobix0KX1mdW5jdGlvbiB2cyhlLHQpe2NvbnN0IG49ZVs5XSxpPW4uaW5kZXhPZih0KSxzPXRbM107MTAyNCZ0WzJdJiYodFsyXSY9LTEwMjUseHQocywtMSkpLG4uc3BsaWNlKGksMSl9ZnVuY3Rpb24gYnMoZSx0KXtpZihlLmxlbmd0aDw9WGUpcmV0dXJuO2NvbnN0IG49WGUrdCxpPWVbbl07aWYoaSl7Y29uc3Qgbz1pWzE3XTtudWxsIT09byYmbyE9PWUmJnZzKG8saSksdD4wJiYoZVtuLTFdWzRdPWlbNF0pO2NvbnN0IHI9UW4oZSxYZSt0KTtNcyhpWzFdLHM9aSxzWzExXSwyLG51bGwsbnVsbCksc1swXT1udWxsLHNbNl09bnVsbDtjb25zdCBhPXJbMTldO251bGwhPT1hJiZhLmRldGFjaFZpZXcoclsxXSksaVszXT1udWxsLGlbNF09bnVsbCxpWzJdJj0tMTI5fXZhciBzO3JldHVybiBpfWZ1bmN0aW9uIHlzKGUsdCl7aWYoISgyNTYmdFsyXSkpe2NvbnN0IG49dFsxMV07Z3QobikmJm4uZGVzdHJveU5vZGUmJk1zKGUsdCxuLDMsbnVsbCxudWxsKSxmdW5jdGlvbihlKXtsZXQgdD1lWzEzXTtpZighdClyZXR1cm4gQ3MoZVsxXSxlKTtmb3IoO3Q7KXtsZXQgbj1udWxsO2lmKGV0KHQpKW49dFsxM107ZWxzZXtjb25zdCBlPXRbMTBdO2UmJihuPWUpfWlmKCFuKXtmb3IoO3QmJiF0WzRdJiZ0IT09ZTspZXQodCkmJkNzKHRbMV0sdCksdD10WzNdO251bGw9PT10JiYodD1lKSxldCh0KSYmQ3ModFsxXSx0KSxuPXQmJnRbNF19dD1ufX0odCl9fWZ1bmN0aW9uIENzKGUsdCl7aWYoISgyNTYmdFsyXSkpe3RbMl0mPS0xMjksdFsyXXw9MjU2LGZ1bmN0aW9uKGUsdCl7bGV0IG47aWYobnVsbCE9ZSYmbnVsbCE9KG49ZS5kZXN0cm95SG9va3MpKWZvcihsZXQgaT0wO2k8bi5sZW5ndGg7aSs9Mil7Y29uc3QgZT10W25baV1dO2lmKCEoZSBpbnN0YW5jZW9mIHBuKSl7Y29uc3QgdD1uW2krMV07aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rPTIpe2NvbnN0IGk9ZVt0W25dXSxzPXRbbisxXTt0cnl7cy5jYWxsKGkpfWZpbmFsbHl7fX1lbHNlIHRyeXt0LmNhbGwoZSl9ZmluYWxseXt9fX19KGUsdCksZnVuY3Rpb24oZSx0KXtjb25zdCBuPWUuY2xlYW51cCxpPXRbN107bGV0IHM9LTE7aWYobnVsbCE9PW4pZm9yKGxldCBvPTA7bzxuLmxlbmd0aC0xO28rPTIpaWYoInN0cmluZyI9PXR5cGVvZiBuW29dKXtjb25zdCBlPW5bbysxXSxyPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2UodCk6dnQodFtlXSksYT1pW3M9bltvKzJdXSxsPW5bbyszXTsiYm9vbGVhbiI9PXR5cGVvZiBsP3IucmVtb3ZlRXZlbnRMaXN0ZW5lcihuW29dLGEsbCk6bD49MD9pW3M9bF0oKTppW3M9LWxdLnVuc3Vic2NyaWJlKCksbys9Mn1lbHNle2NvbnN0IGU9aVtzPW5bbysxXV07bltvXS5jYWxsKGUpfWlmKG51bGwhPT1pKXtmb3IobGV0IGU9cysxO2U8aS5sZW5ndGg7ZSsrKSgwLGlbZV0pKCk7dFs3XT1udWxsfX0oZSx0KSwxPT09dFsxXS50eXBlJiZndCh0WzExXSkmJnRbMTFdLmRlc3Ryb3koKTtjb25zdCBuPXRbMTddO2lmKG51bGwhPT1uJiZ0dCh0WzNdKSl7biE9PXRbM10mJnZzKG4sdCk7Y29uc3QgaT10WzE5XTtudWxsIT09aSYmaS5kZXRhY2hWaWV3KGUpfX19ZnVuY3Rpb24gd3MoZSx0LG4pe3JldHVybiBmdW5jdGlvbihlLHQsbil7bGV0IGk9dDtmb3IoO251bGwhPT1pJiY0MCZpLnR5cGU7KWk9KHQ9aSkucGFyZW50O2lmKG51bGw9PT1pKXJldHVybiBuWzBdO2lmKDImaS5mbGFncyl7Y29uc3QgdD1lLmRhdGFbaS5kaXJlY3RpdmVTdGFydF0uZW5jYXBzdWxhdGlvbjtpZih0PT09a2UuTm9uZXx8dD09PWtlLkVtdWxhdGVkKXJldHVybiBudWxsfXJldHVybiB5dChpLG4pfShlLHQucGFyZW50LG4pfWZ1bmN0aW9uIF9zKGUsdCxuLGkscyl7Z3QoZSk/ZS5pbnNlcnRCZWZvcmUodCxuLGkscyk6dC5pbnNlcnRCZWZvcmUobixpLHMpfWZ1bmN0aW9uIERzKGUsdCxuKXtndChlKT9lLmFwcGVuZENoaWxkKHQsbik6dC5hcHBlbmRDaGlsZChuKX1mdW5jdGlvbiBTcyhlLHQsbixpLHMpe251bGwhPT1pP19zKGUsdCxuLGkscyk6RHMoZSx0LG4pfWZ1bmN0aW9uIEVzKGUsdCl7cmV0dXJuIGd0KGUpP2UucGFyZW50Tm9kZSh0KTp0LnBhcmVudE5vZGV9ZnVuY3Rpb24ga3MoZSx0LG4pe3JldHVybiB4cyhlLHQsbil9bGV0IHhzPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gNDAmZS50eXBlP3l0KGUsbik6bnVsbH07ZnVuY3Rpb24gQXMoZSx0LG4saSl7Y29uc3Qgcz13cyhlLGksdCksbz10WzExXSxyPWtzKGkucGFyZW50fHx0WzZdLGksdCk7aWYobnVsbCE9cylpZihBcnJheS5pc0FycmF5KG4pKWZvcihsZXQgYT0wO2E8bi5sZW5ndGg7YSsrKVNzKG8scyxuW2FdLHIsITEpO2Vsc2UgU3MobyxzLG4sciwhMSl9ZnVuY3Rpb24gT3MoZSx0KXtpZihudWxsIT09dCl7Y29uc3Qgbj10LnR5cGU7aWYoMyZuKXJldHVybiB5dCh0LGUpO2lmKDQmbilyZXR1cm4gRnMoLTEsZVt0LmluZGV4XSk7aWYoOCZuKXtjb25zdCBuPXQuY2hpbGQ7aWYobnVsbCE9PW4pcmV0dXJuIE9zKGUsbik7e2NvbnN0IG49ZVt0LmluZGV4XTtyZXR1cm4gdHQobik/RnMoLTEsbik6dnQobil9fWlmKDMyJm4pcmV0dXJuIHVzKHQsZSkoKXx8dnQoZVt0LmluZGV4XSk7e2NvbnN0IG49VHMoZSx0KTtyZXR1cm4gbnVsbCE9PW4/QXJyYXkuaXNBcnJheShuKT9uWzBdOk9zKGhzKGVbMTZdKSxuKTpPcyhlLHQubmV4dCl9fXJldHVybiBudWxsfWZ1bmN0aW9uIFRzKGUsdCl7cmV0dXJuIG51bGwhPT10P2VbMTZdWzZdLnByb2plY3Rpb25bdC5wcm9qZWN0aW9uXTpudWxsfWZ1bmN0aW9uIEZzKGUsdCl7Y29uc3Qgbj1YZStlKzE7aWYobjx0Lmxlbmd0aCl7Y29uc3QgZT10W25dLGk9ZVsxXS5maXJzdENoaWxkO2lmKG51bGwhPT1pKXJldHVybiBPcyhlLGkpfXJldHVybiB0WzddfWZ1bmN0aW9uIElzKGUsdCxuLGkscyxvLHIpe2Zvcig7bnVsbCE9bjspe2NvbnN0IGE9aVtuLmluZGV4XSxsPW4udHlwZTtpZihyJiYwPT09dCYmKGEmJnRzKHZ0KGEpLGkpLG4uZmxhZ3N8PTQpLDY0IT0oNjQmbi5mbGFncykpaWYoOCZsKUlzKGUsdCxuLmNoaWxkLGkscyxvLCExKSxncyh0LGUscyxhLG8pO2Vsc2UgaWYoMzImbCl7Y29uc3Qgcj11cyhuLGkpO2xldCBsO2Zvcig7bD1yKCk7KWdzKHQsZSxzLGwsbyk7Z3ModCxlLHMsYSxvKX1lbHNlIDE2Jmw/UHMoZSx0LGksbixzLG8pOmdzKHQsZSxzLGEsbyk7bj1yP24ucHJvamVjdGlvbk5leHQ6bi5uZXh0fX1mdW5jdGlvbiBNcyhlLHQsbixpLHMsbyl7SXMobixpLGUuZmlyc3RDaGlsZCx0LHMsbywhMSl9ZnVuY3Rpb24gUHMoZSx0LG4saSxzLG8pe2NvbnN0IHI9blsxNl0sYT1yWzZdLnByb2plY3Rpb25baS5wcm9qZWN0aW9uXTtpZihBcnJheS5pc0FycmF5KGEpKWZvcihsZXQgbD0wO2w8YS5sZW5ndGg7bCsrKWdzKHQsZSxzLGFbbF0sbyk7ZWxzZSBJcyhlLHQsYSxyWzNdLHMsbywhMCl9ZnVuY3Rpb24gVnMoZSx0LG4pe2d0KGUpP2Uuc2V0QXR0cmlidXRlKHQsInN0eWxlIixuKTp0LnN0eWxlLmNzc1RleHQ9bn1mdW5jdGlvbiBMcyhlLHQsbil7Z3QoZSk/IiI9PT1uP2UucmVtb3ZlQXR0cmlidXRlKHQsImNsYXNzIik6ZS5zZXRBdHRyaWJ1dGUodCwiY2xhc3MiLG4pOnQuY2xhc3NOYW1lPW59ZnVuY3Rpb24gUnMoZSx0LG4pe2xldCBpPWUubGVuZ3RoO2Zvcig7Oyl7Y29uc3Qgcz1lLmluZGV4T2YodCxuKTtpZigtMT09PXMpcmV0dXJuIHM7aWYoMD09PXN8fGUuY2hhckNvZGVBdChzLTEpPD0zMil7Y29uc3Qgbj10Lmxlbmd0aDtpZihzK249PT1pfHxlLmNoYXJDb2RlQXQocytuKTw9MzIpcmV0dXJuIHN9bj1zKzF9fWNvbnN0IGpzPSJuZy10ZW1wbGF0ZSI7ZnVuY3Rpb24gTnMoZSx0LG4pe2xldCBpPTA7Zm9yKDtpPGUubGVuZ3RoOyl7bGV0IHM9ZVtpKytdO2lmKG4mJiJjbGFzcyI9PT1zKXtpZihzPWVbaV0sLTEhPT1ScyhzLnRvTG93ZXJDYXNlKCksdCwwKSlyZXR1cm4hMH1lbHNlIGlmKDE9PT1zKXtmb3IoO2k8ZS5sZW5ndGgmJiJzdHJpbmciPT10eXBlb2Yocz1lW2krK10pOylpZihzLnRvTG93ZXJDYXNlKCk9PT10KXJldHVybiEwO3JldHVybiExfX1yZXR1cm4hMX1mdW5jdGlvbiBCcyhlKXtyZXR1cm4gND09PWUudHlwZSYmZS52YWx1ZSE9PWpzfWZ1bmN0aW9uICRzKGUsdCxuKXtyZXR1cm4gdD09PSg0IT09ZS50eXBlfHxuP2UudmFsdWU6anMpfWZ1bmN0aW9uIEhzKGUsdCxuKXtsZXQgaT00O2NvbnN0IHM9ZS5hdHRyc3x8W10sbz1mdW5jdGlvbihlKXtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylpZihnbihlW3RdKSlyZXR1cm4gdDtyZXR1cm4gZS5sZW5ndGh9KHMpO2xldCByPSExO2ZvcihsZXQgYT0wO2E8dC5sZW5ndGg7YSsrKXtjb25zdCBsPXRbYV07aWYoIm51bWJlciIhPXR5cGVvZiBsKXtpZighcilpZig0Jmkpe2lmKGk9MnwxJmksIiIhPT1sJiYhJHMoZSxsLG4pfHwiIj09PWwmJjE9PT10Lmxlbmd0aCl7aWYoVXMoaSkpcmV0dXJuITE7cj0hMH19ZWxzZXtjb25zdCBjPTgmaT9sOnRbKythXTtpZig4JmkmJm51bGwhPT1lLmF0dHJzKXtpZighTnMoZS5hdHRycyxjLG4pKXtpZihVcyhpKSlyZXR1cm4hMTtyPSEwfWNvbnRpbnVlfWNvbnN0IHU9cXMoOCZpPyJjbGFzcyI6bCxzLEJzKGUpLG4pO2lmKC0xPT09dSl7aWYoVXMoaSkpcmV0dXJuITE7cj0hMDtjb250aW51ZX1pZigiIiE9PWMpe2xldCBlO2U9dT5vPyIiOnNbdSsxXS50b0xvd2VyQ2FzZSgpO2NvbnN0IHQ9OCZpP2U6bnVsbDtpZih0JiYtMSE9PVJzKHQsYywwKXx8MiZpJiZjIT09ZSl7aWYoVXMoaSkpcmV0dXJuITE7cj0hMH19fX1lbHNle2lmKCFyJiYhVXMoaSkmJiFVcyhsKSlyZXR1cm4hMTtpZihyJiZVcyhsKSljb250aW51ZTtyPSExLGk9bHwxJml9fXJldHVybiBVcyhpKXx8cn1mdW5jdGlvbiBVcyhlKXtyZXR1cm4gMD09KDEmZSl9ZnVuY3Rpb24gcXMoZSx0LG4saSl7aWYobnVsbD09PXQpcmV0dXJuLTE7bGV0IHM9MDtpZihpfHwhbil7bGV0IG49ITE7Zm9yKDtzPHQubGVuZ3RoOyl7Y29uc3QgaT10W3NdO2lmKGk9PT1lKXJldHVybiBzO2lmKDM9PT1pfHw2PT09aSluPSEwO2Vsc2V7aWYoMT09PWl8fDI9PT1pKXtsZXQgZT10Wysrc107Zm9yKDsic3RyaW5nIj09dHlwZW9mIGU7KWU9dFsrK3NdO2NvbnRpbnVlfWlmKDQ9PT1pKWJyZWFrO2lmKDA9PT1pKXtzKz00O2NvbnRpbnVlfX1zKz1uPzE6Mn1yZXR1cm4tMX1yZXR1cm4gZnVuY3Rpb24oZSx0KXtsZXQgbj1lLmluZGV4T2YoNCk7aWYobj4tMSlmb3IobisrO248ZS5sZW5ndGg7KXtjb25zdCBpPWVbbl07aWYoIm51bWJlciI9PXR5cGVvZiBpKXJldHVybi0xO2lmKGk9PT10KXJldHVybiBuO24rK31yZXR1cm4tMX0odCxlKX1mdW5jdGlvbiB6cyhlLHQsbj0hMSl7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspaWYoSHMoZSx0W2ldLG4pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFdzKGUsdCl7ZTpmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3QgaT10W25dO2lmKGUubGVuZ3RoPT09aS5sZW5ndGgpe2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKGVbdF0hPT1pW3RdKWNvbnRpbnVlIGU7cmV0dXJuITB9fXJldHVybiExfWZ1bmN0aW9uIEdzKGUsdCl7cmV0dXJuIGU/Ijpub3QoIit0LnRyaW0oKSsiKSI6dH1mdW5jdGlvbiBLcyhlKXtsZXQgdD1lWzBdLG49MSxpPTIscz0iIixvPSExO2Zvcig7bjxlLmxlbmd0aDspe2xldCByPWVbbl07aWYoInN0cmluZyI9PXR5cGVvZiByKWlmKDImaSl7Y29uc3QgdD1lWysrbl07cys9IlsiK3IrKHQubGVuZ3RoPjA/Jz0iJyt0KyciJzoiIikrIl0ifWVsc2UgOCZpP3MrPSIuIityOjQmaSYmKHMrPSIgIityKTtlbHNlIiI9PT1zfHxVcyhyKXx8KHQrPUdzKG8scykscz0iIiksaT1yLG89b3x8IVVzKGkpO24rK31yZXR1cm4iIiE9PXMmJih0Kz1HcyhvLHMpKSx0fWNvbnN0IFlzPXt9O2Z1bmN0aW9uIFpzKGUpe1FzKEZ0KCksVHQoKSxubigpK2UsanQoKSl9ZnVuY3Rpb24gUXMoZSx0LG4saSl7aWYoIWkpaWYoMz09KDMmdFsyXSkpe2NvbnN0IGk9ZS5wcmVPcmRlckNoZWNrSG9va3M7bnVsbCE9PWkmJmFuKHQsaSxuKX1lbHNle2NvbnN0IGk9ZS5wcmVPcmRlckhvb2tzO251bGwhPT1pJiZsbih0LGksMCxuKX1zbihuKX1mdW5jdGlvbiBKcyhlLHQpe3JldHVybiBlPDwxN3x0PDwyfWZ1bmN0aW9uIFhzKGUpe3JldHVybiBlPj4xNyYzMjc2N31mdW5jdGlvbiBlbyhlKXtyZXR1cm4gMnxlfWZ1bmN0aW9uIHRvKGUpe3JldHVybigxMzEwNjgmZSk+PjJ9ZnVuY3Rpb24gbm8oZSx0KXtyZXR1cm4tMTMxMDY5JmV8dDw8Mn1mdW5jdGlvbiBpbyhlKXtyZXR1cm4gMXxlfWZ1bmN0aW9uIHNvKGUsdCl7Y29uc3Qgbj1lLmNvbnRlbnRRdWVyaWVzO2lmKG51bGwhPT1uKWZvcihsZXQgaT0wO2k8bi5sZW5ndGg7aSs9Mil7Y29uc3Qgcz1uW2ldLG89bltpKzFdO2lmKC0xIT09byl7Y29uc3Qgbj1lLmRhdGFbb107R3Qocyksbi5jb250ZW50UXVlcmllcygyLHRbb10sbyl9fX1mdW5jdGlvbiBvbyhlLHQsbixpLHMsbyxyLGEsbCxjKXtjb25zdCB1PXQuYmx1ZXByaW50LnNsaWNlKCk7cmV0dXJuIHVbMF09cyx1WzJdPTE0MHxpLGt0KHUpLHVbM109dVsxNV09ZSx1WzhdPW4sdVsxMF09cnx8ZSYmZVsxMF0sdVsxMV09YXx8ZSYmZVsxMV0sdVsxMl09bHx8ZSYmZVsxMl18fG51bGwsdVs5XT1jfHxlJiZlWzldfHxudWxsLHVbNl09byx1WzE2XT0yPT10LnR5cGU/ZVsxNl06dSx1fWZ1bmN0aW9uIHJvKGUsdCxuLGkscyl7bGV0IG89ZS5kYXRhW3RdO2lmKG51bGw9PT1vKW89ZnVuY3Rpb24oZSx0LG4saSxzKXtjb25zdCBvPVB0KCkscj1MdCgpLGE9ZS5kYXRhW3RdPWZ1bmN0aW9uKGUsdCxuLGkscyxvKXtyZXR1cm57dHlwZTpuLGluZGV4OmksaW5zZXJ0QmVmb3JlSW5kZXg6bnVsbCxpbmplY3RvckluZGV4OnQ/dC5pbmplY3RvckluZGV4Oi0xLGRpcmVjdGl2ZVN0YXJ0Oi0xLGRpcmVjdGl2ZUVuZDotMSxkaXJlY3RpdmVTdHlsaW5nTGFzdDotMSxwcm9wZXJ0eUJpbmRpbmdzOm51bGwsZmxhZ3M6MCxwcm92aWRlckluZGV4ZXM6MCx2YWx1ZTpzLGF0dHJzOm8sbWVyZ2VkQXR0cnM6bnVsbCxsb2NhbE5hbWVzOm51bGwsaW5pdGlhbElucHV0czp2b2lkIDAsaW5wdXRzOm51bGwsb3V0cHV0czpudWxsLHRWaWV3czpudWxsLG5leHQ6bnVsbCxwcm9qZWN0aW9uTmV4dDpudWxsLGNoaWxkOm51bGwscGFyZW50OnQscHJvamVjdGlvbjpudWxsLHN0eWxlczpudWxsLHN0eWxlc1dpdGhvdXRIb3N0Om51bGwscmVzaWR1YWxTdHlsZXM6dm9pZCAwLGNsYXNzZXM6bnVsbCxjbGFzc2VzV2l0aG91dEhvc3Q6bnVsbCxyZXNpZHVhbENsYXNzZXM6dm9pZCAwLGNsYXNzQmluZGluZ3M6MCxzdHlsZUJpbmRpbmdzOjB9fSgwLHI/bzpvJiZvLnBhcmVudCxuLHQsaSxzKTtyZXR1cm4gbnVsbD09PWUuZmlyc3RDaGlsZCYmKGUuZmlyc3RDaGlsZD1hKSxudWxsIT09byYmKHI/bnVsbD09by5jaGlsZCYmbnVsbCE9PWEucGFyZW50JiYoby5jaGlsZD1hKTpudWxsPT09by5uZXh0JiYoby5uZXh0PWEpKSxhfShlLHQsbixpLHMpLEF0LmxGcmFtZS5pbkkxOG4mJihvLmZsYWdzfD02NCk7ZWxzZSBpZig2NCZvLnR5cGUpe28udHlwZT1uLG8udmFsdWU9aSxvLmF0dHJzPXM7Y29uc3QgZT1mdW5jdGlvbigpe2NvbnN0IGU9QXQubEZyYW1lLHQ9ZS5jdXJyZW50VE5vZGU7cmV0dXJuIGUuaXNQYXJlbnQ/dDp0LnBhcmVudH0oKTtvLmluamVjdG9ySW5kZXg9bnVsbD09PWU/LTE6ZS5pbmplY3RvckluZGV4fXJldHVybiBWdChvLCEwKSxvfWZ1bmN0aW9uIGFvKGUsdCxuLGkpe2lmKDA9PT1uKXJldHVybi0xO2NvbnN0IHM9dC5sZW5ndGg7Zm9yKGxldCBvPTA7bzxuO28rKyl0LnB1c2goaSksZS5ibHVlcHJpbnQucHVzaChpKSxlLmRhdGEucHVzaChudWxsKTtyZXR1cm4gc31mdW5jdGlvbiBsbyhlLHQsbil7WnQodCk7dHJ5e2NvbnN0IGk9ZS52aWV3UXVlcnk7bnVsbCE9PWkmJk5vKDEsaSxuKTtjb25zdCBzPWUudGVtcGxhdGU7bnVsbCE9PXMmJmhvKGUsdCxzLDEsbiksZS5maXJzdENyZWF0ZVBhc3MmJihlLmZpcnN0Q3JlYXRlUGFzcz0hMSksZS5zdGF0aWNDb250ZW50UXVlcmllcyYmc28oZSx0KSxlLnN0YXRpY1ZpZXdRdWVyaWVzJiZObygyLGUudmlld1F1ZXJ5LG4pO2NvbnN0IG89ZS5jb21wb25lbnRzO251bGwhPT1vJiZmdW5jdGlvbihlLHQpe2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKVBvKGUsdFtuXSl9KHQsbyl9Y2F0Y2goaSl7dGhyb3cgZS5maXJzdENyZWF0ZVBhc3MmJihlLmluY29tcGxldGVGaXJzdFBhc3M9ITApLGl9ZmluYWxseXt0WzJdJj0tNSx0bigpfX1mdW5jdGlvbiBjbyhlLHQsbixpKXtjb25zdCBzPXRbMl07aWYoMjU2PT0oMjU2JnMpKXJldHVybjtadCh0KTtjb25zdCBvPWp0KCk7dHJ5e2t0KHQpLEF0LmxGcmFtZS5iaW5kaW5nSW5kZXg9ZS5iaW5kaW5nU3RhcnRJbmRleCxudWxsIT09biYmaG8oZSx0LG4sMixpKTtjb25zdCByPTM9PSgzJnMpO2lmKCFvKWlmKHIpe2NvbnN0IG49ZS5wcmVPcmRlckNoZWNrSG9va3M7bnVsbCE9PW4mJmFuKHQsbixudWxsKX1lbHNle2NvbnN0IG49ZS5wcmVPcmRlckhvb2tzO251bGwhPT1uJiZsbih0LG4sMCxudWxsKSxjbih0LDApfWlmKGZ1bmN0aW9uKGUpe2ZvcihsZXQgdD1kcyhlKTtudWxsIT09dDt0PXBzKHQpKXtpZighdFsyXSljb250aW51ZTtjb25zdCBlPXRbOV07Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG49ZVt0XSxpPW5bM107MD09KDEwMjQmblsyXSkmJnh0KGksMSksblsyXXw9MTAyNH19fSh0KSxmdW5jdGlvbihlKXtmb3IobGV0IHQ9ZHMoZSk7bnVsbCE9PXQ7dD1wcyh0KSlmb3IobGV0IGU9WGU7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IG49dFtlXSxpPW5bMV07U3QobikmJmNvKGksbixpLnRlbXBsYXRlLG5bOF0pfX0odCksbnVsbCE9PWUuY29udGVudFF1ZXJpZXMmJnNvKGUsdCksIW8paWYocil7Y29uc3Qgbj1lLmNvbnRlbnRDaGVja0hvb2tzO251bGwhPT1uJiZhbih0LG4pfWVsc2V7Y29uc3Qgbj1lLmNvbnRlbnRIb29rcztudWxsIT09biYmbG4odCxuLDEpLGNuKHQsMSl9IWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1lLmhvc3RCaW5kaW5nT3BDb2RlcztpZihudWxsIT09bil0cnl7Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspe2NvbnN0IGk9bltlXTtpZihpPDApc24ofmkpO2Vsc2V7Y29uc3Qgcz1pLG89blsrK2VdLHI9blsrK2VdO3F0KG8scykscigyLHRbc10pfX19ZmluYWxseXtzbigtMSl9fShlLHQpO2NvbnN0IGE9ZS5jb21wb25lbnRzO251bGwhPT1hJiZmdW5jdGlvbihlLHQpe2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKUlvKGUsdFtuXSl9KHQsYSk7Y29uc3QgbD1lLnZpZXdRdWVyeTtpZihudWxsIT09bCYmTm8oMixsLGkpLCFvKWlmKHIpe2NvbnN0IG49ZS52aWV3Q2hlY2tIb29rcztudWxsIT09biYmYW4odCxuKX1lbHNle2NvbnN0IG49ZS52aWV3SG9va3M7bnVsbCE9PW4mJmxuKHQsbiwyKSxjbih0LDIpfSEwPT09ZS5maXJzdFVwZGF0ZVBhc3MmJihlLmZpcnN0VXBkYXRlUGFzcz0hMSksb3x8KHRbMl0mPS03MyksMTAyNCZ0WzJdJiYodFsyXSY9LTEwMjUseHQodFszXSwtMSkpfWZpbmFsbHl7dG4oKX19ZnVuY3Rpb24gdW8oZSx0LG4saSl7Y29uc3Qgcz10WzEwXSxvPSFqdCgpLHI9RHQodCk7dHJ5e28mJiFyJiZzLmJlZ2luJiZzLmJlZ2luKCksciYmbG8oZSx0LGkpLGNvKGUsdCxuLGkpfWZpbmFsbHl7byYmIXImJnMuZW5kJiZzLmVuZCgpfX1mdW5jdGlvbiBobyhlLHQsbixpLHMpe2NvbnN0IG89bm4oKSxyPTImaTt0cnl7c24oLTEpLHImJnQubGVuZ3RoPkplJiZRcyhlLHQsSmUsanQoKSksbihpLHMpfWZpbmFsbHl7c24obyl9fWZ1bmN0aW9uIHBvKGUsdCxuKXtpZihudCh0KSl7Y29uc3QgaT10LmRpcmVjdGl2ZUVuZDtmb3IobGV0IHM9dC5kaXJlY3RpdmVTdGFydDtzPGk7cysrKXtjb25zdCB0PWUuZGF0YVtzXTt0LmNvbnRlbnRRdWVyaWVzJiZ0LmNvbnRlbnRRdWVyaWVzKDEsbltzXSxzKX19fWZ1bmN0aW9uIGZvKGUsdCxuKXtPdCgpJiYoZnVuY3Rpb24oZSx0LG4saSl7Y29uc3Qgcz1uLmRpcmVjdGl2ZVN0YXJ0LG89bi5kaXJlY3RpdmVFbmQ7ZS5maXJzdENyZWF0ZVBhc3N8fEVuKG4sdCksdHMoaSx0KTtjb25zdCByPW4uaW5pdGlhbElucHV0cztmb3IobGV0IGE9czthPG87YSsrKXtjb25zdCBpPWUuZGF0YVthXSxvPW90KGkpO28mJkFvKHQsbixpKTtjb25zdCBsPVJuKHQsZSxhLG4pO3RzKGwsdCksbnVsbCE9PXImJk9vKDAsYS1zLGwsaSwwLHIpLG8mJihfdChuLmluZGV4LHQpWzhdPWwpfX0oZSx0LG4seXQobix0KSksMTI4PT0oMTI4Jm4uZmxhZ3MpJiZmdW5jdGlvbihlLHQsbil7Y29uc3QgaT1uLmRpcmVjdGl2ZVN0YXJ0LHM9bi5kaXJlY3RpdmVFbmQsbz1uLmluZGV4LHI9QXQubEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleDt0cnl7c24obyk7Zm9yKGxldCBuPWk7bjxzO24rKyl7Y29uc3QgaT1lLmRhdGFbbl0scz10W25dO3p0KG4pLG51bGw9PT1pLmhvc3RCaW5kaW5ncyYmMD09PWkuaG9zdFZhcnMmJm51bGw9PT1pLmhvc3RBdHRyc3x8RG8oaSxzKX19ZmluYWxseXtzbigtMSksenQocil9fShlLHQsbikpfWZ1bmN0aW9uIGdvKGUsdCxuPXl0KXtjb25zdCBpPXQubG9jYWxOYW1lcztpZihudWxsIT09aSl7bGV0IHM9dC5pbmRleCsxO2ZvcihsZXQgbz0wO288aS5sZW5ndGg7bys9Mil7Y29uc3Qgcj1pW28rMV0sYT0tMT09PXI/bih0LGUpOmVbcl07ZVtzKytdPWF9fX1mdW5jdGlvbiBtbyhlKXtjb25zdCB0PWUudFZpZXc7cmV0dXJuIG51bGw9PT10fHx0LmluY29tcGxldGVGaXJzdFBhc3M/ZS50Vmlldz12bygxLG51bGwsZS50ZW1wbGF0ZSxlLmRlY2xzLGUudmFycyxlLmRpcmVjdGl2ZURlZnMsZS5waXBlRGVmcyxlLnZpZXdRdWVyeSxlLnNjaGVtYXMsZS5jb25zdHMpOnR9ZnVuY3Rpb24gdm8oZSx0LG4saSxzLG8scixhLGwsYyl7Y29uc3QgdT1KZStpLGg9dStzLGQ9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPVtdO2ZvcihsZXQgaT0wO2k8dDtpKyspbi5wdXNoKGk8ZT9udWxsOllzKTtyZXR1cm4gbn0odSxoKSxwPSJmdW5jdGlvbiI9PXR5cGVvZiBjP2MoKTpjO3JldHVybiBkWzFdPXt0eXBlOmUsYmx1ZXByaW50OmQsdGVtcGxhdGU6bixxdWVyaWVzOm51bGwsdmlld1F1ZXJ5OmEsZGVjbFROb2RlOnQsZGF0YTpkLnNsaWNlKCkuZmlsbChudWxsLHUpLGJpbmRpbmdTdGFydEluZGV4OnUsZXhwYW5kb1N0YXJ0SW5kZXg6aCxob3N0QmluZGluZ09wQ29kZXM6bnVsbCxmaXJzdENyZWF0ZVBhc3M6ITAsZmlyc3RVcGRhdGVQYXNzOiEwLHN0YXRpY1ZpZXdRdWVyaWVzOiExLHN0YXRpY0NvbnRlbnRRdWVyaWVzOiExLHByZU9yZGVySG9va3M6bnVsbCxwcmVPcmRlckNoZWNrSG9va3M6bnVsbCxjb250ZW50SG9va3M6bnVsbCxjb250ZW50Q2hlY2tIb29rczpudWxsLHZpZXdIb29rczpudWxsLHZpZXdDaGVja0hvb2tzOm51bGwsZGVzdHJveUhvb2tzOm51bGwsY2xlYW51cDpudWxsLGNvbnRlbnRRdWVyaWVzOm51bGwsY29tcG9uZW50czpudWxsLGRpcmVjdGl2ZVJlZ2lzdHJ5OiJmdW5jdGlvbiI9PXR5cGVvZiBvP28oKTpvLHBpcGVSZWdpc3RyeToiZnVuY3Rpb24iPT10eXBlb2Ygcj9yKCk6cixmaXJzdENoaWxkOm51bGwsc2NoZW1hczpsLGNvbnN0czpwLGluY29tcGxldGVGaXJzdFBhc3M6ITF9fWZ1bmN0aW9uIGJvKGUsdCxuLGkpe2NvbnN0IHM9JG8odCk7bnVsbD09PW4/cy5wdXNoKGkpOihzLnB1c2gobiksZS5maXJzdENyZWF0ZVBhc3MmJkhvKGUpLnB1c2goaSxzLmxlbmd0aC0xKSl9ZnVuY3Rpb24geW8oZSx0LG4pe2ZvcihsZXQgaSBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkoaSkpe2NvbnN0IHM9ZVtpXTsobj1udWxsPT09bj97fTpuKS5oYXNPd25Qcm9wZXJ0eShpKT9uW2ldLnB1c2godCxzKTpuW2ldPVt0LHNdfXJldHVybiBufWZ1bmN0aW9uIENvKGUsdCxuLGkscyxvLHIsYSl7Y29uc3QgbD15dCh0LG4pO2xldCBjLHU9dC5pbnB1dHM7dmFyIGg7IWEmJm51bGwhPXUmJihjPXVbaV0pPyhxbyhlLG4sYyxpLHMpLGl0KHQpJiZmdW5jdGlvbihlLHQpe2NvbnN0IG49X3QodCxlKTsxNiZuWzJdfHwoblsyXXw9NjQpfShuLHQuaW5kZXgpKTozJnQudHlwZSYmKGk9ImNsYXNzIj09PShoPWkpPyJjbGFzc05hbWUiOiJmb3IiPT09aD8iaHRtbEZvciI6ImZvcm1hY3Rpb24iPT09aD8iZm9ybUFjdGlvbiI6ImlubmVySHRtbCI9PT1oPyJpbm5lckhUTUwiOiJyZWFkb25seSI9PT1oPyJyZWFkT25seSI6InRhYmluZGV4Ij09PWg/InRhYkluZGV4IjpoLHM9bnVsbCE9cj9yKHMsdC52YWx1ZXx8IiIsaSk6cyxndChvKT9vLnNldFByb3BlcnR5KGwsaSxzKTptbihpKXx8KGwuc2V0UHJvcGVydHk/bC5zZXRQcm9wZXJ0eShpLHMpOmxbaV09cykpfWZ1bmN0aW9uIHdvKGUsdCxuLGkpe2xldCBzPSExO2lmKE90KCkpe2NvbnN0IG89ZnVuY3Rpb24oZSx0LG4pe2NvbnN0IGk9ZS5kaXJlY3RpdmVSZWdpc3RyeTtsZXQgcz1udWxsO2lmKGkpZm9yKGxldCBvPTA7bzxpLmxlbmd0aDtvKyspe2NvbnN0IHI9aVtvXTt6cyhuLHIuc2VsZWN0b3JzLCExKSYmKHN8fChzPVtdKSxPbihFbihuLHQpLGUsci50eXBlKSxvdChyKT8oU28oZSxuKSxzLnVuc2hpZnQocikpOnMucHVzaChyKSl9cmV0dXJuIHN9KGUsdCxuKSxyPW51bGw9PT1pP251bGw6eyIiOi0xfTtpZihudWxsIT09byl7cz0hMCxrbyhuLGUuZGF0YS5sZW5ndGgsby5sZW5ndGgpO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKXtjb25zdCB0PW9bZV07dC5wcm92aWRlcnNSZXNvbHZlciYmdC5wcm92aWRlcnNSZXNvbHZlcih0KX1sZXQgaT0hMSxhPSExLGw9YW8oZSx0LG8ubGVuZ3RoLG51bGwpO2ZvcihsZXQgcz0wO3M8by5sZW5ndGg7cysrKXtjb25zdCBjPW9bc107bi5tZXJnZWRBdHRycz12bihuLm1lcmdlZEF0dHJzLGMuaG9zdEF0dHJzKSx4byhlLG4sdCxsLGMpLEVvKGwsYyxyKSxudWxsIT09Yy5jb250ZW50UXVlcmllcyYmKG4uZmxhZ3N8PTgpLG51bGw9PT1jLmhvc3RCaW5kaW5ncyYmbnVsbD09PWMuaG9zdEF0dHJzJiYwPT09Yy5ob3N0VmFyc3x8KG4uZmxhZ3N8PTEyOCk7Y29uc3QgdT1jLnR5cGUucHJvdG90eXBlOyFpJiYodS5uZ09uQ2hhbmdlc3x8dS5uZ09uSW5pdHx8dS5uZ0RvQ2hlY2spJiYoKGUucHJlT3JkZXJIb29rc3x8KGUucHJlT3JkZXJIb29rcz1bXSkpLnB1c2gobi5pbmRleCksaT0hMCksYXx8IXUubmdPbkNoYW5nZXMmJiF1Lm5nRG9DaGVja3x8KChlLnByZU9yZGVyQ2hlY2tIb29rc3x8KGUucHJlT3JkZXJDaGVja0hvb2tzPVtdKSkucHVzaChuLmluZGV4KSxhPSEwKSxsKyt9IWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj10LmRpcmVjdGl2ZUVuZCxpPWUuZGF0YSxzPXQuYXR0cnMsbz1bXTtsZXQgcj1udWxsLGE9bnVsbDtmb3IobGV0IGw9dC5kaXJlY3RpdmVTdGFydDtsPG47bCsrKXtjb25zdCBlPWlbbF0sbj1lLmlucHV0cyxjPW51bGw9PT1zfHxCcyh0KT9udWxsOlRvKG4scyk7by5wdXNoKGMpLHI9eW8obixsLHIpLGE9eW8oZS5vdXRwdXRzLGwsYSl9bnVsbCE9PXImJihyLmhhc093blByb3BlcnR5KCJjbGFzcyIpJiYodC5mbGFnc3w9MTYpLHIuaGFzT3duUHJvcGVydHkoInN0eWxlIikmJih0LmZsYWdzfD0zMikpLHQuaW5pdGlhbElucHV0cz1vLHQuaW5wdXRzPXIsdC5vdXRwdXRzPWF9KGUsbil9ciYmZnVuY3Rpb24oZSx0LG4pe2lmKHQpe2NvbnN0IGk9ZS5sb2NhbE5hbWVzPVtdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSs9Mil7Y29uc3Qgcz1uW3RbZSsxXV07aWYobnVsbD09cyl0aHJvdyBuZXcgYWUoIjMwMSIsYEV4cG9ydCBvZiBuYW1lICcke3RbZSsxXX0nIG5vdCBmb3VuZCFgKTtpLnB1c2godFtlXSxzKX19fShuLGkscil9cmV0dXJuIG4ubWVyZ2VkQXR0cnM9dm4obi5tZXJnZWRBdHRycyxuLmF0dHJzKSxzfWZ1bmN0aW9uIF9vKGUsdCxuLGkscyxvKXtjb25zdCByPW8uaG9zdEJpbmRpbmdzO2lmKHIpe2xldCBuPWUuaG9zdEJpbmRpbmdPcENvZGVzO251bGw9PT1uJiYobj1lLmhvc3RCaW5kaW5nT3BDb2Rlcz1bXSk7Y29uc3Qgbz1+dC5pbmRleDsoZnVuY3Rpb24oZSl7bGV0IHQ9ZS5sZW5ndGg7Zm9yKDt0PjA7KXtjb25zdCBuPWVbLS10XTtpZigibnVtYmVyIj09dHlwZW9mIG4mJm48MClyZXR1cm4gbn1yZXR1cm4gMH0pKG4pIT1vJiZuLnB1c2gobyksbi5wdXNoKGkscyxyKX19ZnVuY3Rpb24gRG8oZSx0KXtudWxsIT09ZS5ob3N0QmluZGluZ3MmJmUuaG9zdEJpbmRpbmdzKDEsdCl9ZnVuY3Rpb24gU28oZSx0KXt0LmZsYWdzfD0yLChlLmNvbXBvbmVudHN8fChlLmNvbXBvbmVudHM9W10pKS5wdXNoKHQuaW5kZXgpfWZ1bmN0aW9uIEVvKGUsdCxuKXtpZihuKXtpZih0LmV4cG9ydEFzKWZvcihsZXQgaT0wO2k8dC5leHBvcnRBcy5sZW5ndGg7aSsrKW5bdC5leHBvcnRBc1tpXV09ZTtvdCh0KSYmKG5bIiJdPWUpfX1mdW5jdGlvbiBrbyhlLHQsbil7ZS5mbGFnc3w9MSxlLmRpcmVjdGl2ZVN0YXJ0PXQsZS5kaXJlY3RpdmVFbmQ9dCtuLGUucHJvdmlkZXJJbmRleGVzPXR9ZnVuY3Rpb24geG8oZSx0LG4saSxzKXtlLmRhdGFbaV09cztjb25zdCBvPXMuZmFjdG9yeXx8KHMuZmFjdG9yeT1ydChzLnR5cGUpKSxyPW5ldyBwbihvLG90KHMpLG51bGwpO2UuYmx1ZXByaW50W2ldPXIsbltpXT1yLF9vKGUsdCwwLGksYW8oZSxuLHMuaG9zdFZhcnMsWXMpLHMpfWZ1bmN0aW9uIEFvKGUsdCxuKXtjb25zdCBpPXl0KHQsZSkscz1tbyhuKSxvPWVbMTBdLHI9Vm8oZSxvbyhlLHMsbnVsbCxuLm9uUHVzaD82NDoxNixpLHQsbyxvLmNyZWF0ZVJlbmRlcmVyKGksbiksbnVsbCxudWxsKSk7ZVt0LmluZGV4XT1yfWZ1bmN0aW9uIE9vKGUsdCxuLGkscyxvKXtjb25zdCByPW9bdF07aWYobnVsbCE9PXIpe2NvbnN0IGU9aS5zZXRJbnB1dDtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoOyl7Y29uc3Qgcz1yW3QrK10sbz1yW3QrK10sYT1yW3QrK107bnVsbCE9PWU/aS5zZXRJbnB1dChuLGEscyxvKTpuW29dPWF9fX1mdW5jdGlvbiBUbyhlLHQpe2xldCBuPW51bGwsaT0wO2Zvcig7aTx0Lmxlbmd0aDspe2NvbnN0IHM9dFtpXTtpZigwIT09cylpZig1IT09cyl7aWYoIm51bWJlciI9PXR5cGVvZiBzKWJyZWFrO2UuaGFzT3duUHJvcGVydHkocykmJihudWxsPT09biYmKG49W10pLG4ucHVzaChzLGVbc10sdFtpKzFdKSksaSs9Mn1lbHNlIGkrPTI7ZWxzZSBpKz00fXJldHVybiBufWZ1bmN0aW9uIEZvKGUsdCxuLGkpe3JldHVybiBuZXcgQXJyYXkoZSwhMCwhMSx0LG51bGwsMCxpLG4sbnVsbCxudWxsKX1mdW5jdGlvbiBJbyhlLHQpe2NvbnN0IG49X3QodCxlKTtpZihTdChuKSl7Y29uc3QgZT1uWzFdOzgwJm5bMl0/Y28oZSxuLGUudGVtcGxhdGUsbls4XSk6bls1XT4wJiZNbyhuKX19ZnVuY3Rpb24gTW8oZSl7Zm9yKGxldCBuPWRzKGUpO251bGwhPT1uO249cHMobikpZm9yKGxldCBlPVhlO2U8bi5sZW5ndGg7ZSsrKXtjb25zdCB0PW5bZV07aWYoMTAyNCZ0WzJdKXtjb25zdCBlPXRbMV07Y28oZSx0LGUudGVtcGxhdGUsdFs4XSl9ZWxzZSB0WzVdPjAmJk1vKHQpfWNvbnN0IHQ9ZVsxXS5jb21wb25lbnRzO2lmKG51bGwhPT10KWZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCBpPV90KHRbbl0sZSk7U3QoaSkmJmlbNV0+MCYmTW8oaSl9fWZ1bmN0aW9uIFBvKGUsdCl7Y29uc3Qgbj1fdCh0LGUpLGk9blsxXTshZnVuY3Rpb24oZSx0KXtmb3IobGV0IG49dC5sZW5ndGg7bjxlLmJsdWVwcmludC5sZW5ndGg7bisrKXQucHVzaChlLmJsdWVwcmludFtuXSl9KGksbiksbG8oaSxuLG5bOF0pfWZ1bmN0aW9uIFZvKGUsdCl7cmV0dXJuIGVbMTNdP2VbMTRdWzRdPXQ6ZVsxM109dCxlWzE0XT10LHR9ZnVuY3Rpb24gTG8oZSl7Zm9yKDtlOyl7ZVsyXXw9NjQ7Y29uc3QgdD1ocyhlKTtpZigwIT0oNTEyJmVbMl0pJiYhdClyZXR1cm4gZTtlPXR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gUm8oZSx0LG4pe2NvbnN0IGk9dFsxMF07aS5iZWdpbiYmaS5iZWdpbigpO3RyeXtjbyhlLHQsZS50ZW1wbGF0ZSxuKX1jYXRjaChzKXt0aHJvdyBVbyh0LHMpLHN9ZmluYWxseXtpLmVuZCYmaS5lbmQoKX19ZnVuY3Rpb24gam8oZSl7IWZ1bmN0aW9uKGUpe2ZvcihsZXQgdD0wO3Q8ZS5jb21wb25lbnRzLmxlbmd0aDt0Kyspe2NvbnN0IG49ZS5jb21wb25lbnRzW3RdLGk9bnMobikscz1pWzFdO3VvKHMsaSxzLnRlbXBsYXRlLG4pfX0oZVs4XSl9ZnVuY3Rpb24gTm8oZSx0LG4pe0d0KDApLHQoZSxuKX1jb25zdCBCbz0oKCk9PlByb21pc2UucmVzb2x2ZShudWxsKSkoKTtmdW5jdGlvbiAkbyhlKXtyZXR1cm4gZVs3XXx8KGVbN109W10pfWZ1bmN0aW9uIEhvKGUpe3JldHVybiBlLmNsZWFudXB8fChlLmNsZWFudXA9W10pfWZ1bmN0aW9uIFVvKGUsdCl7Y29uc3Qgbj1lWzldLGk9bj9uLmdldChycyxudWxsKTpudWxsO2kmJmkuaGFuZGxlRXJyb3IodCl9ZnVuY3Rpb24gcW8oZSx0LG4saSxzKXtmb3IobGV0IG89MDtvPG4ubGVuZ3RoOyl7Y29uc3Qgcj1uW28rK10sYT1uW28rK10sbD10W3JdLGM9ZS5kYXRhW3JdO251bGwhPT1jLnNldElucHV0P2Muc2V0SW5wdXQobCxzLGksYSk6bFthXT1zfX1mdW5jdGlvbiB6byhlLHQsbil7Y29uc3QgaT1idCh0LGUpOyFmdW5jdGlvbihlLHQsbil7Z3QoZSk/ZS5zZXRWYWx1ZSh0LG4pOnQudGV4dENvbnRlbnQ9bn0oZVsxMV0saSxuKX1mdW5jdGlvbiBXbyhlLHQsbil7bGV0IGk9bj9lLnN0eWxlczpudWxsLHM9bj9lLmNsYXNzZXM6bnVsbCxvPTA7aWYobnVsbCE9PXQpZm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IGU9dFtyXTsibnVtYmVyIj09dHlwZW9mIGU/bz1lOjE9PW8/cz1uZShzLGUpOjI9PW8mJihpPW5lKGksZSsiOiAiK3RbKytyXSsiOyIpKX1uP2Uuc3R5bGVzPWk6ZS5zdHlsZXNXaXRob3V0SG9zdD1pLG4/ZS5jbGFzc2VzPXM6ZS5jbGFzc2VzV2l0aG91dEhvc3Q9c31jb25zdCBHbz1uZXcgem4oIklOSkVDVE9SIiwtMSk7Y2xhc3MgS297Z2V0KGUsdD1uaSl7aWYodD09PW5pKXtjb25zdCB0PW5ldyBFcnJvcihgTnVsbEluamVjdG9yRXJyb3I6IE5vIHByb3ZpZGVyIGZvciAke3RlKGUpfSFgKTt0aHJvdyB0Lm5hbWU9Ik51bGxJbmplY3RvckVycm9yIix0fXJldHVybiB0fX1jb25zdCBZbz1uZXcgem4oIlNldCBJbmplY3RvciBzY29wZS4iKSxabz17fSxRbz17fTtsZXQgSm87ZnVuY3Rpb24gWG8oKXtyZXR1cm4gdm9pZCAwPT09Sm8mJihKbz1uZXcgS28pLEpvfWZ1bmN0aW9uIGVyKGUsdD1udWxsLG49bnVsbCxpKXtyZXR1cm4gbmV3IHRyKGUsbix0fHxYbygpLGkpfWNsYXNzIHRye2NvbnN0cnVjdG9yKGUsdCxuLGk9bnVsbCl7dGhpcy5wYXJlbnQ9bix0aGlzLnJlY29yZHM9bmV3IE1hcCx0aGlzLmluamVjdG9yRGVmVHlwZXM9bmV3IFNldCx0aGlzLm9uRGVzdHJveT1uZXcgU2V0LHRoaXMuX2Rlc3Ryb3llZD0hMTtjb25zdCBzPVtdO3QmJlluKHQsbj0+dGhpcy5wcm9jZXNzUHJvdmlkZXIobixlLHQpKSxZbihbZV0sZT0+dGhpcy5wcm9jZXNzSW5qZWN0b3JUeXBlKGUsW10scykpLHRoaXMucmVjb3Jkcy5zZXQoR28sc3Iodm9pZCAwLHRoaXMpKTtjb25zdCBvPXRoaXMucmVjb3Jkcy5nZXQoWW8pO3RoaXMuc2NvcGU9bnVsbCE9bz9vLnZhbHVlOm51bGwsdGhpcy5zb3VyY2U9aXx8KCJvYmplY3QiPT10eXBlb2YgZT9udWxsOnRlKGUpKX1nZXQgZGVzdHJveWVkKCl7cmV0dXJuIHRoaXMuX2Rlc3Ryb3llZH1kZXN0cm95KCl7dGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKSx0aGlzLl9kZXN0cm95ZWQ9ITA7dHJ5e3RoaXMub25EZXN0cm95LmZvckVhY2goZT0+ZS5uZ09uRGVzdHJveSgpKX1maW5hbGx5e3RoaXMucmVjb3Jkcy5jbGVhcigpLHRoaXMub25EZXN0cm95LmNsZWFyKCksdGhpcy5pbmplY3RvckRlZlR5cGVzLmNsZWFyKCl9fWdldChlLHQ9bmksbj1DZS5EZWZhdWx0KXt0aGlzLmFzc2VydE5vdERlc3Ryb3llZCgpO2NvbnN0IGk9YWkodGhpcyk7dHJ5e2lmKCEobiZDZS5Ta2lwU2VsZikpe2xldCB0PXRoaXMucmVjb3Jkcy5nZXQoZSk7aWYodm9pZCAwPT09dCl7Y29uc3Qgbj0oImZ1bmN0aW9uIj09dHlwZW9mKHM9ZSl8fCJvYmplY3QiPT10eXBlb2YgcyYmcyBpbnN0YW5jZW9mIHpuKSYmcGUoZSk7dD1uJiZ0aGlzLmluamVjdGFibGVEZWZJblNjb3BlKG4pP3NyKG5yKGUpLFpvKTpudWxsLHRoaXMucmVjb3Jkcy5zZXQoZSx0KX1pZihudWxsIT10KXJldHVybiB0aGlzLmh5ZHJhdGUoZSx0KX1yZXR1cm4obiZDZS5TZWxmP1hvKCk6dGhpcy5wYXJlbnQpLmdldChlLHQ9biZDZS5PcHRpb25hbCYmdD09PW5pP251bGw6dCl9Y2F0Y2gobyl7aWYoIk51bGxJbmplY3RvckVycm9yIj09PW8ubmFtZSl7aWYoKG8ubmdUZW1wVG9rZW5QYXRoPW8ubmdUZW1wVG9rZW5QYXRofHxbXSkudW5zaGlmdCh0ZShlKSksaSl0aHJvdyBvO3JldHVybiBmdW5jdGlvbihlLHQsbixpKXtjb25zdCBzPWUubmdUZW1wVG9rZW5QYXRoO3Rocm93IHRbc2ldJiZzLnVuc2hpZnQodFtzaV0pLGUubWVzc2FnZT1mdW5jdGlvbihlLHQsbixpPW51bGwpe2U9ZSYmIlxuIj09PWUuY2hhckF0KDApJiYiXHUwMjc1Ij09ZS5jaGFyQXQoMSk/ZS5zdWJzdHIoMik6ZTtsZXQgcz10ZSh0KTtpZihBcnJheS5pc0FycmF5KHQpKXM9dC5tYXAodGUpLmpvaW4oIiAtPiAiKTtlbHNlIGlmKCJvYmplY3QiPT10eXBlb2YgdCl7bGV0IGU9W107Zm9yKGxldCBuIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShuKSl7bGV0IGk9dFtuXTtlLnB1c2gobisiOiIrKCJzdHJpbmciPT10eXBlb2YgaT9KU09OLnN0cmluZ2lmeShpKTp0ZShpKSkpfXM9YHske2Uuam9pbigiLCAiKX19YH1yZXR1cm5gJHtufSR7aT8iKCIraSsiKSI6IiJ9WyR7c31dOiAke2UucmVwbGFjZShpaSwiXG4gICIpfWB9KCJcbiIrZS5tZXNzYWdlLHMsbixpKSxlLm5nVG9rZW5QYXRoPXMsZS5uZ1RlbXBUb2tlblBhdGg9bnVsbCxlfShvLGUsIlIzSW5qZWN0b3JFcnJvciIsdGhpcy5zb3VyY2UpfXRocm93IG99ZmluYWxseXthaShpKX12YXIgc31fcmVzb2x2ZUluamVjdG9yRGVmVHlwZXMoKXt0aGlzLmluamVjdG9yRGVmVHlwZXMuZm9yRWFjaChlPT50aGlzLmdldChlKSl9dG9TdHJpbmcoKXtjb25zdCBlPVtdO3JldHVybiB0aGlzLnJlY29yZHMuZm9yRWFjaCgodCxuKT0+ZS5wdXNoKHRlKG4pKSksYFIzSW5qZWN0b3JbJHtlLmpvaW4oIiwgIil9XWB9YXNzZXJ0Tm90RGVzdHJveWVkKCl7aWYodGhpcy5fZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcigiSW5qZWN0b3IgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWQuIil9cHJvY2Vzc0luamVjdG9yVHlwZShlLHQsbil7aWYoIShlPW9lKGUpKSlyZXR1cm4hMTtsZXQgaT1nZShlKTtjb25zdCBzPW51bGw9PWkmJmUubmdNb2R1bGV8fHZvaWQgMCxvPXZvaWQgMD09PXM/ZTpzLHI9LTEhPT1uLmluZGV4T2Yobyk7aWYodm9pZCAwIT09cyYmKGk9Z2UocykpLG51bGw9PWkpcmV0dXJuITE7aWYobnVsbCE9aS5pbXBvcnRzJiYhcil7bGV0IGU7bi5wdXNoKG8pO3RyeXtZbihpLmltcG9ydHMsaT0+e3RoaXMucHJvY2Vzc0luamVjdG9yVHlwZShpLHQsbikmJih2b2lkIDA9PT1lJiYoZT1bXSksZS5wdXNoKGkpKX0pfWZpbmFsbHl7fWlmKHZvaWQgMCE9PWUpZm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0e25nTW9kdWxlOm4scHJvdmlkZXJzOml9PWVbdF07WW4oaSxlPT50aGlzLnByb2Nlc3NQcm92aWRlcihlLG4saXx8TWUpKX19dGhpcy5pbmplY3RvckRlZlR5cGVzLmFkZChvKTtjb25zdCBhPXJ0KG8pfHwoKCk9Pm5ldyBvKTt0aGlzLnJlY29yZHMuc2V0KG8sc3IoYSxabykpO2NvbnN0IGw9aS5wcm92aWRlcnM7aWYobnVsbCE9bCYmIXIpe2NvbnN0IHQ9ZTtZbihsLGU9PnRoaXMucHJvY2Vzc1Byb3ZpZGVyKGUsdCxsKSl9cmV0dXJuIHZvaWQgMCE9PXMmJnZvaWQgMCE9PWUucHJvdmlkZXJzfXByb2Nlc3NQcm92aWRlcihlLHQsbil7bGV0IGk9cnIoZT1vZShlKSk/ZTpvZShlJiZlLnByb3ZpZGUpO2NvbnN0IHM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBvcihlKT9zcih2b2lkIDAsZS51c2VWYWx1ZSk6c3IoaXIoZSksWm8pfShlKTtpZihycihlKXx8ITAhPT1lLm11bHRpKXRoaXMucmVjb3Jkcy5nZXQoaSk7ZWxzZXtsZXQgdD10aGlzLnJlY29yZHMuZ2V0KGkpO3R8fCh0PXNyKHZvaWQgMCxabywhMCksdC5mYWN0b3J5PSgpPT51aSh0Lm11bHRpKSx0aGlzLnJlY29yZHMuc2V0KGksdCkpLGk9ZSx0Lm11bHRpLnB1c2goZSl9dGhpcy5yZWNvcmRzLnNldChpLHMpfWh5ZHJhdGUoZSx0KXt2YXIgbjtyZXR1cm4gdC52YWx1ZT09PVpvJiYodC52YWx1ZT1Rbyx0LnZhbHVlPXQuZmFjdG9yeSgpKSwib2JqZWN0Ij09dHlwZW9mIHQudmFsdWUmJnQudmFsdWUmJm51bGwhPT0obj10LnZhbHVlKSYmIm9iamVjdCI9PXR5cGVvZiBuJiYiZnVuY3Rpb24iPT10eXBlb2Ygbi5uZ09uRGVzdHJveSYmdGhpcy5vbkRlc3Ryb3kuYWRkKHQudmFsdWUpLHQudmFsdWV9aW5qZWN0YWJsZURlZkluU2NvcGUoZSl7aWYoIWUucHJvdmlkZWRJbilyZXR1cm4hMTtjb25zdCB0PW9lKGUucHJvdmlkZWRJbik7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0PyJhbnkiPT09dHx8dD09PXRoaXMuc2NvcGU6dGhpcy5pbmplY3RvckRlZlR5cGVzLmhhcyh0KX19ZnVuY3Rpb24gbnIoZSl7Y29uc3QgdD1wZShlKSxuPW51bGwhPT10P3QuZmFjdG9yeTpydChlKTtpZihudWxsIT09bilyZXR1cm4gbjtpZihlIGluc3RhbmNlb2Ygem4pdGhyb3cgbmV3IEVycm9yKGBUb2tlbiAke3RlKGUpfSBpcyBtaXNzaW5nIGEgXHUwMjc1cHJvdiBkZWZpbml0aW9uLmApO2lmKGUgaW5zdGFuY2VvZiBGdW5jdGlvbilyZXR1cm4gZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmxlbmd0aDtpZih0PjApe2NvbnN0IG49Sm4odCwiPyIpO3Rocm93IG5ldyBFcnJvcihgQ2FuJ3QgcmVzb2x2ZSBhbGwgcGFyYW1ldGVycyBmb3IgJHt0ZShlKX06ICgke24uam9pbigiLCAiKX0pLmApfWNvbnN0IG49ZnVuY3Rpb24oZSl7Y29uc3QgdD1lJiYoZVttZV18fGVbYmVdKTtpZih0KXtjb25zdCBuPWZ1bmN0aW9uKGUpe2lmKGUuaGFzT3duUHJvcGVydHkoIm5hbWUiKSlyZXR1cm4gZS5uYW1lO2NvbnN0IHQ9KCIiK2UpLm1hdGNoKC9eZnVuY3Rpb25ccyooW15ccyhdKykvKTtyZXR1cm4gbnVsbD09PXQ/IiI6dFsxXX0oZSk7cmV0dXJuIGNvbnNvbGUud2FybihgREVQUkVDQVRFRDogREkgaXMgaW5zdGFudGlhdGluZyBhIHRva2VuICIke259IiB0aGF0IGluaGVyaXRzIGl0cyBASW5qZWN0YWJsZSBkZWNvcmF0b3IgYnV0IGRvZXMgbm90IHByb3ZpZGUgb25lIGl0c2VsZi5cblRoaXMgd2lsbCBiZWNvbWUgYW4gZXJyb3IgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBBbmd1bGFyLiBQbGVhc2UgYWRkIEBJbmplY3RhYmxlKCkgdG8gdGhlICIke259IiBjbGFzcy5gKSx0fXJldHVybiBudWxsfShlKTtyZXR1cm4gbnVsbCE9PW4/KCk9Pm4uZmFjdG9yeShlKTooKT0+bmV3IGV9KGUpO3Rocm93IG5ldyBFcnJvcigidW5yZWFjaGFibGUiKX1mdW5jdGlvbiBpcihlLHQsbil7bGV0IGk7aWYocnIoZSkpe2NvbnN0IHQ9b2UoZSk7cmV0dXJuIHJ0KHQpfHxucih0KX1pZihvcihlKSlpPSgpPT5vZShlLnVzZVZhbHVlKTtlbHNlIGlmKChzPWUpJiZzLnVzZUZhY3RvcnkpaT0oKT0+ZS51c2VGYWN0b3J5KC4uLnVpKGUuZGVwc3x8W10pKTtlbHNlIGlmKGZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLnVzZUV4aXN0aW5nKX0oZSkpaT0oKT0+Y2kob2UoZS51c2VFeGlzdGluZykpO2Vsc2V7Y29uc3QgdD1vZShlJiYoZS51c2VDbGFzc3x8ZS5wcm92aWRlKSk7aWYoIWZ1bmN0aW9uKGUpe3JldHVybiEhZS5kZXBzfShlKSlyZXR1cm4gcnQodCl8fG5yKHQpO2k9KCk9Pm5ldyB0KC4uLnVpKGUuZGVwcykpfXZhciBzO3JldHVybiBpfWZ1bmN0aW9uIHNyKGUsdCxuPSExKXtyZXR1cm57ZmFjdG9yeTplLHZhbHVlOnQsbXVsdGk6bj9bXTp2b2lkIDB9fWZ1bmN0aW9uIG9yKGUpe3JldHVybiBudWxsIT09ZSYmIm9iamVjdCI9PXR5cGVvZiBlJiZvaSBpbiBlfWZ1bmN0aW9uIHJyKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlfWNvbnN0IGFyPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24oZSx0PW51bGwsbj1udWxsLGkpe2NvbnN0IHM9ZXIoZSx0LG4saSk7cmV0dXJuIHMuX3Jlc29sdmVJbmplY3RvckRlZlR5cGVzKCksc30oe25hbWU6bn0sdCxlLG4pfTtsZXQgbHI9KCgpPT57Y2xhc3MgZXtzdGF0aWMgY3JlYXRlKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/YXIoZSx0LCIiKTphcihlLnByb3ZpZGVycyxlLnBhcmVudCxlLm5hbWV8fCIiKX19cmV0dXJuIGUuVEhST1dfSUZfTk9UX0ZPVU5EPW5pLGUuTlVMTD1uZXcgS28sZS5cdTAyNzVwcm92PWhlKHt0b2tlbjplLHByb3ZpZGVkSW46ImFueSIsZmFjdG9yeTooKT0+Y2koR28pfSksZS5fX05HX0VMRU1FTlRfSURfXz0tMSxlfSkoKTtmdW5jdGlvbiBjcihlLHQpe3JuKG5zKGUpWzFdLE10KCkpfWZ1bmN0aW9uIHVyKGUpe2xldCB0PU9iamVjdC5nZXRQcm90b3R5cGVPZihlLnR5cGUucHJvdG90eXBlKS5jb25zdHJ1Y3RvcixuPSEwO2NvbnN0IGk9W2VdO2Zvcig7dDspe2xldCBzO2lmKG90KGUpKXM9dC5cdTAyNzVjbXB8fHQuXHUwMjc1ZGlyO2Vsc2V7aWYodC5cdTAyNzVjbXApdGhyb3cgbmV3IEVycm9yKCJEaXJlY3RpdmVzIGNhbm5vdCBpbmhlcml0IENvbXBvbmVudHMiKTtzPXQuXHUwMjc1ZGlyfWlmKHMpe2lmKG4pe2kucHVzaChzKTtjb25zdCB0PWU7dC5pbnB1dHM9aHIoZS5pbnB1dHMpLHQuZGVjbGFyZWRJbnB1dHM9aHIoZS5kZWNsYXJlZElucHV0cyksdC5vdXRwdXRzPWhyKGUub3V0cHV0cyk7Y29uc3Qgbj1zLmhvc3RCaW5kaW5ncztuJiZmcihlLG4pO2NvbnN0IG89cy52aWV3UXVlcnkscj1zLmNvbnRlbnRRdWVyaWVzO2lmKG8mJmRyKGUsbyksciYmcHIoZSxyKSxlZShlLmlucHV0cyxzLmlucHV0cyksZWUoZS5kZWNsYXJlZElucHV0cyxzLmRlY2xhcmVkSW5wdXRzKSxlZShlLm91dHB1dHMscy5vdXRwdXRzKSxvdChzKSYmcy5kYXRhLmFuaW1hdGlvbil7Y29uc3QgdD1lLmRhdGE7dC5hbmltYXRpb249KHQuYW5pbWF0aW9ufHxbXSkuY29uY2F0KHMuZGF0YS5hbmltYXRpb24pfX1jb25zdCB0PXMuZmVhdHVyZXM7aWYodClmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgcz10W2ldO3MmJnMubmdJbmhlcml0JiZzKGUpLHM9PT11ciYmKG49ITEpfX10PU9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0hZnVuY3Rpb24oZSl7bGV0IHQ9MCxuPW51bGw7Zm9yKGxldCBpPWUubGVuZ3RoLTE7aT49MDtpLS0pe2NvbnN0IHM9ZVtpXTtzLmhvc3RWYXJzPXQrPXMuaG9zdFZhcnMscy5ob3N0QXR0cnM9dm4ocy5ob3N0QXR0cnMsbj12bihuLHMuaG9zdEF0dHJzKSl9fShpKX1mdW5jdGlvbiBocihlKXtyZXR1cm4gZT09PUllP3t9OmU9PT1NZT9bXTplfWZ1bmN0aW9uIGRyKGUsdCl7Y29uc3Qgbj1lLnZpZXdRdWVyeTtlLnZpZXdRdWVyeT1uPyhlLGkpPT57dChlLGkpLG4oZSxpKX06dH1mdW5jdGlvbiBwcihlLHQpe2NvbnN0IG49ZS5jb250ZW50UXVlcmllcztlLmNvbnRlbnRRdWVyaWVzPW4/KGUsaSxzKT0+e3QoZSxpLHMpLG4oZSxpLHMpfTp0fWZ1bmN0aW9uIGZyKGUsdCl7Y29uc3Qgbj1lLmhvc3RCaW5kaW5ncztlLmhvc3RCaW5kaW5ncz1uPyhlLGkpPT57dChlLGkpLG4oZSxpKX06dH1sZXQgZ3I9bnVsbDtmdW5jdGlvbiBtcigpe2lmKCFncil7Y29uc3QgZT1GZS5TeW1ib2w7aWYoZSYmZS5pdGVyYXRvcilncj1lLml0ZXJhdG9yO2Vsc2V7Y29uc3QgZT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhNYXAucHJvdG90eXBlKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoOysrdCl7Y29uc3Qgbj1lW3RdOyJlbnRyaWVzIiE9PW4mJiJzaXplIiE9PW4mJk1hcC5wcm90b3R5cGVbbl09PT1NYXAucHJvdG90eXBlLmVudHJpZXMmJihncj1uKX19fXJldHVybiBncn1jbGFzcyB2cntjb25zdHJ1Y3RvcihlKXt0aGlzLndyYXBwZWQ9ZX1zdGF0aWMgd3JhcChlKXtyZXR1cm4gbmV3IHZyKGUpfXN0YXRpYyB1bndyYXAoZSl7cmV0dXJuIHZyLmlzV3JhcHBlZChlKT9lLndyYXBwZWQ6ZX1zdGF0aWMgaXNXcmFwcGVkKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdnJ9fWZ1bmN0aW9uIGJyKGUpe3JldHVybiEheXIoZSkmJihBcnJheS5pc0FycmF5KGUpfHwhKGUgaW5zdGFuY2VvZiBNYXApJiZtcigpaW4gZSl9ZnVuY3Rpb24geXIoZSl7cmV0dXJuIG51bGwhPT1lJiYoImZ1bmN0aW9uIj09dHlwZW9mIGV8fCJvYmplY3QiPT10eXBlb2YgZSl9ZnVuY3Rpb24gQ3IoZSx0LG4pe3JldHVybiBlW3RdPW59ZnVuY3Rpb24gd3IoZSx0LG4pe3JldHVybiFPYmplY3QuaXMoZVt0XSxuKSYmKGVbdF09biwhMCl9ZnVuY3Rpb24gX3IoZSx0LG4saSl7Y29uc3Qgcz13cihlLHQsbik7cmV0dXJuIHdyKGUsdCsxLGkpfHxzfWZ1bmN0aW9uIERyKGUsdCxuLGkpe2NvbnN0IHM9VHQoKTtyZXR1cm4gd3IocyxIdCgpLHQpJiYoRnQoKSxmdW5jdGlvbihlLHQsbixpLHMsbyl7Y29uc3Qgcj15dChlLHQpOyFmdW5jdGlvbihlLHQsbixpLHMsbyxyKXtpZihudWxsPT1vKWd0KGUpP2UucmVtb3ZlQXR0cmlidXRlKHQscyxuKTp0LnJlbW92ZUF0dHJpYnV0ZShzKTtlbHNle2NvbnN0IGE9bnVsbD09cj9sZShvKTpyKG8saXx8IiIscyk7Z3QoZSk/ZS5zZXRBdHRyaWJ1dGUodCxzLGEsbik6bj90LnNldEF0dHJpYnV0ZU5TKG4scyxhKTp0LnNldEF0dHJpYnV0ZShzLGEpfX0odFsxMV0scixvLGUudmFsdWUsbixpLHMpfShvbigpLHMsZSx0LG4saSkpLERyfWZ1bmN0aW9uIFNyKGUsdCxuLGkpe3JldHVybiB3cihlLEh0KCksbik/dCtsZShuKStpOllzfWZ1bmN0aW9uIEVyKGUsdCxuLGkscyxvKXtjb25zdCByPV9yKGUsJHQoKSxuLHMpO3JldHVybiBVdCgyKSxyP3QrbGUobikraStsZShzKStvOllzfWZ1bmN0aW9uIGtyKGUsdCxuLGkscyxvLHIsYSl7Y29uc3QgbD1UdCgpLGM9RnQoKSx1PWUrSmUsaD1jLmZpcnN0Q3JlYXRlUGFzcz9mdW5jdGlvbihlLHQsbixpLHMsbyxyLGEsbCl7Y29uc3QgYz10LmNvbnN0cyx1PXJvKHQsZSw0LHJ8fG51bGwsRXQoYyxhKSk7d28odCxuLHUsRXQoYyxsKSkscm4odCx1KTtjb25zdCBoPXUudFZpZXdzPXZvKDIsdSxpLHMsbyx0LmRpcmVjdGl2ZVJlZ2lzdHJ5LHQucGlwZVJlZ2lzdHJ5LG51bGwsdC5zY2hlbWFzLGMpO3JldHVybiBudWxsIT09dC5xdWVyaWVzJiYodC5xdWVyaWVzLnRlbXBsYXRlKHQsdSksaC5xdWVyaWVzPXQucXVlcmllcy5lbWJlZGRlZFRWaWV3KHUpKSx1fSh1LGMsbCx0LG4saSxzLG8scik6Yy5kYXRhW3VdO1Z0KGgsITEpO2NvbnN0IGQ9bFsxMV0uY3JlYXRlQ29tbWVudCgiIik7QXMoYyxsLGQsaCksdHMoZCxsKSxWbyhsLGxbdV09Rm8oZCxsLGQsaCkpLHN0KGgpJiZmbyhjLGwsaCksbnVsbCE9ciYmZ28obCxoLGEpfWZ1bmN0aW9uIHhyKGUpe3JldHVybiB3dChBdC5sRnJhbWUuY29udGV4dExWaWV3LEplK2UpfWZ1bmN0aW9uIEFyKGUsdD1DZS5EZWZhdWx0KXtjb25zdCBuPVR0KCk7cmV0dXJuIG51bGw9PT1uP2NpKGUsdCk6SW4oTXQoKSxuLG9lKGUpLHQpfWZ1bmN0aW9uIE9yKGUsdCxuKXtjb25zdCBpPVR0KCk7cmV0dXJuIHdyKGksSHQoKSx0KSYmQ28oRnQoKSxvbigpLGksZSx0LGlbMTFdLG4sITEpLE9yfWZ1bmN0aW9uIFRyKGUsdCxuLGkscyl7Y29uc3Qgbz1zPyJjbGFzcyI6InN0eWxlIjtxbyhlLG4sdC5pbnB1dHNbb10sbyxpKX1mdW5jdGlvbiBGcihlLHQsbixpKXtjb25zdCBzPVR0KCksbz1GdCgpLHI9SmUrZSxhPXNbMTFdLGw9c1tyXT1tcyhhLHQsQXQubEZyYW1lLmN1cnJlbnROYW1lc3BhY2UpLGM9by5maXJzdENyZWF0ZVBhc3M/ZnVuY3Rpb24oZSx0LG4saSxzLG8scil7Y29uc3QgYT10LmNvbnN0cyxsPXJvKHQsZSwyLHMsRXQoYSxvKSk7cmV0dXJuIHdvKHQsbixsLEV0KGEscikpLG51bGwhPT1sLmF0dHJzJiZXbyhsLGwuYXR0cnMsITEpLG51bGwhPT1sLm1lcmdlZEF0dHJzJiZXbyhsLGwubWVyZ2VkQXR0cnMsITApLG51bGwhPT10LnF1ZXJpZXMmJnQucXVlcmllcy5lbGVtZW50U3RhcnQodCxsKSxsfShyLG8scywwLHQsbixpKTpvLmRhdGFbcl07VnQoYywhMCk7Y29uc3QgdT1jLm1lcmdlZEF0dHJzO251bGwhPT11JiZmbihhLGwsdSk7Y29uc3QgaD1jLmNsYXNzZXM7bnVsbCE9PWgmJkxzKGEsbCxoKTtjb25zdCBkPWMuc3R5bGVzO251bGwhPT1kJiZWcyhhLGwsZCksNjQhPSg2NCZjLmZsYWdzKSYmQXMobyxzLGwsYyksMD09PUF0LmxGcmFtZS5lbGVtZW50RGVwdGhDb3VudCYmdHMobCxzKSxBdC5sRnJhbWUuZWxlbWVudERlcHRoQ291bnQrKyxzdChjKSYmKGZvKG8scyxjKSxwbyhvLGMscykpLG51bGwhPT1pJiZnbyhzLGMpfWZ1bmN0aW9uIElyKCl7bGV0IGU9TXQoKTtMdCgpP1J0KCk6KGU9ZS5wYXJlbnQsVnQoZSwhMSkpO2NvbnN0IHQ9ZTtBdC5sRnJhbWUuZWxlbWVudERlcHRoQ291bnQtLTtjb25zdCBuPUZ0KCk7bi5maXJzdENyZWF0ZVBhc3MmJihybihuLGUpLG50KGUpJiZuLnF1ZXJpZXMuZWxlbWVudEVuZChlKSksbnVsbCE9dC5jbGFzc2VzV2l0aG91dEhvc3QmJmZ1bmN0aW9uKGUpe3JldHVybiAwIT0oMTYmZS5mbGFncyl9KHQpJiZUcihuLHQsVHQoKSx0LmNsYXNzZXNXaXRob3V0SG9zdCwhMCksbnVsbCE9dC5zdHlsZXNXaXRob3V0SG9zdCYmZnVuY3Rpb24oZSl7cmV0dXJuIDAhPSgzMiZlLmZsYWdzKX0odCkmJlRyKG4sdCxUdCgpLHQuc3R5bGVzV2l0aG91dEhvc3QsITEpfWZ1bmN0aW9uIE1yKGUsdCxuLGkpe0ZyKGUsdCxuLGkpLElyKCl9ZnVuY3Rpb24gUHIoZSx0LG4pe2NvbnN0IGk9VHQoKSxzPUZ0KCksbz1lK0plLHI9cy5maXJzdENyZWF0ZVBhc3M/ZnVuY3Rpb24oZSx0LG4saSxzKXtjb25zdCBvPXQuY29uc3RzLHI9RXQobyxpKSxhPXJvKHQsZSw4LCJuZy1jb250YWluZXIiLHIpO3JldHVybiBudWxsIT09ciYmV28oYSxyLCEwKSx3byh0LG4sYSxFdChvLHMpKSxudWxsIT09dC5xdWVyaWVzJiZ0LnF1ZXJpZXMuZWxlbWVudFN0YXJ0KHQsYSksYX0obyxzLGksdCxuKTpzLmRhdGFbb107VnQociwhMCk7Y29uc3QgYT1pW29dPWlbMTFdLmNyZWF0ZUNvbW1lbnQoIiIpO0FzKHMsaSxhLHIpLHRzKGEsaSksc3QocikmJihmbyhzLGkscikscG8ocyxyLGkpKSxudWxsIT1uJiZnbyhpLHIpfWZ1bmN0aW9uIFZyKCl7bGV0IGU9TXQoKTtjb25zdCB0PUZ0KCk7THQoKT9SdCgpOihlPWUucGFyZW50LFZ0KGUsITEpKSx0LmZpcnN0Q3JlYXRlUGFzcyYmKHJuKHQsZSksbnQoZSkmJnQucXVlcmllcy5lbGVtZW50RW5kKGUpKX1mdW5jdGlvbiBMcihlLHQsbil7UHIoZSx0LG4pLFZyKCl9ZnVuY3Rpb24gUnIoKXtyZXR1cm4gVHQoKX1mdW5jdGlvbiBqcihlKXtyZXR1cm4hIWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnRoZW59Y29uc3QgTnI9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5zdWJzY3JpYmV9O2Z1bmN0aW9uIEJyKGUsdCxuLGkpe2NvbnN0IHM9VHQoKSxvPUZ0KCkscj1NdCgpO3JldHVybiBmdW5jdGlvbihlLHQsbixpLHMsbyxyLGEpe2NvbnN0IGw9c3QoaSksYz1lLmZpcnN0Q3JlYXRlUGFzcyYmSG8oZSksdT0kbyh0KTtsZXQgaD0hMDtpZigzJmkudHlwZXx8YSl7Y29uc3QgZD15dChpLHQpLHA9YT9hKGQpOmQsZj11Lmxlbmd0aCxnPWE/ZT0+YSh2dChlW2kuaW5kZXhdKSk6aS5pbmRleDtpZihndChuKSl7bGV0IHI9bnVsbDtpZighYSYmbCYmKHI9ZnVuY3Rpb24oZSx0LG4saSl7Y29uc3Qgcz1lLmNsZWFudXA7aWYobnVsbCE9cylmb3IobGV0IG89MDtvPHMubGVuZ3RoLTE7bys9Mil7Y29uc3QgZT1zW29dO2lmKGU9PT1uJiZzW28rMV09PT1pKXtjb25zdCBlPXRbN10sbj1zW28rMl07cmV0dXJuIGUubGVuZ3RoPm4/ZVtuXTpudWxsfSJzdHJpbmciPT10eXBlb2YgZSYmKG8rPTIpfXJldHVybiBudWxsfShlLHQscyxpLmluZGV4KSksbnVsbCE9PXIpKHIuX19uZ0xhc3RMaXN0ZW5lckZuX198fHIpLl9fbmdOZXh0TGlzdGVuZXJGbl9fPW8sci5fX25nTGFzdExpc3RlbmVyRm5fXz1vLGg9ITE7ZWxzZXtvPUhyKGksdCwwLG8sITEpO2NvbnN0IGU9bi5saXN0ZW4ocCxzLG8pO3UucHVzaChvLGUpLGMmJmMucHVzaChzLGcsZixmKzEpfX1lbHNlIG89SHIoaSx0LDAsbywhMCkscC5hZGRFdmVudExpc3RlbmVyKHMsbyxyKSx1LnB1c2gobyksYyYmYy5wdXNoKHMsZyxmLHIpfWVsc2Ugbz1IcihpLHQsMCxvLCExKTtjb25zdCBkPWkub3V0cHV0cztsZXQgcDtpZihoJiZudWxsIT09ZCYmKHA9ZFtzXSkpe2NvbnN0IGU9cC5sZW5ndGg7aWYoZSlmb3IobGV0IG49MDtuPGU7bis9Mil7Y29uc3QgZT10W3Bbbl1dW3BbbisxXV0uc3Vic2NyaWJlKG8pLHI9dS5sZW5ndGg7dS5wdXNoKG8sZSksYyYmYy5wdXNoKHMsaS5pbmRleCxyLC0ocisxKSl9fX0obyxzLHNbMTFdLHIsZSx0LCEhbixpKSxCcn1mdW5jdGlvbiAkcihlLHQsbixpKXt0cnl7cmV0dXJuITEhPT1uKGkpfWNhdGNoKHMpe3JldHVybiBVbyhlLHMpLCExfX1mdW5jdGlvbiBIcihlLHQsbixpLHMpe3JldHVybiBmdW5jdGlvbiBuKG8pe2lmKG89PT1GdW5jdGlvbilyZXR1cm4gaTtjb25zdCByPTImZS5mbGFncz9fdChlLmluZGV4LHQpOnQ7MD09KDMyJnRbMl0pJiZMbyhyKTtsZXQgYT0kcih0LDAsaSxvKSxsPW4uX19uZ05leHRMaXN0ZW5lckZuX187Zm9yKDtsOylhPSRyKHQsMCxsLG8pJiZhLGw9bC5fX25nTmV4dExpc3RlbmVyRm5fXztyZXR1cm4gcyYmITE9PT1hJiYoby5wcmV2ZW50RGVmYXVsdCgpLG8ucmV0dXJuVmFsdWU9ITEpLGF9fWZ1bmN0aW9uIFVyKGU9MSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybihBdC5sRnJhbWUuY29udGV4dExWaWV3PWZ1bmN0aW9uKGUsdCl7Zm9yKDtlPjA7KXQ9dFsxNV0sZS0tO3JldHVybiB0fShlLEF0LmxGcmFtZS5jb250ZXh0TFZpZXcpKVs4XX0oZSl9ZnVuY3Rpb24gcXIoZSx0KXtsZXQgbj1udWxsO2NvbnN0IGk9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmF0dHJzO2lmKG51bGwhPXQpe2NvbnN0IGU9dC5pbmRleE9mKDUpO2lmKDA9PSgxJmUpKXJldHVybiB0W2UrMV19cmV0dXJuIG51bGx9KGUpO2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7cysrKXtjb25zdCBvPXRbc107aWYoIioiIT09byl7aWYobnVsbD09PWk/enMoZSxvLCEwKTpXcyhpLG8pKXJldHVybiBzfWVsc2Ugbj1zfXJldHVybiBufWZ1bmN0aW9uIHpyKGUpe2NvbnN0IHQ9VHQoKVsxNl1bNl07aWYoIXQucHJvamVjdGlvbil7Y29uc3Qgbj10LnByb2plY3Rpb249Sm4oZT9lLmxlbmd0aDoxLG51bGwpLGk9bi5zbGljZSgpO2xldCBzPXQuY2hpbGQ7Zm9yKDtudWxsIT09czspe2NvbnN0IHQ9ZT9xcihzLGUpOjA7bnVsbCE9PXQmJihpW3RdP2lbdF0ucHJvamVjdGlvbk5leHQ9czpuW3RdPXMsaVt0XT1zKSxzPXMubmV4dH19fWZ1bmN0aW9uIFdyKGUsdD0wLG4pe2NvbnN0IGk9VHQoKSxzPUZ0KCksbz1ybyhzLEplK2UsMTYsbnVsbCxufHxudWxsKTtudWxsPT09by5wcm9qZWN0aW9uJiYoby5wcm9qZWN0aW9uPXQpLFJ0KCksNjQhPSg2NCZvLmZsYWdzKSYmZnVuY3Rpb24oZSx0LG4pe1BzKHRbMTFdLDAsdCxuLHdzKGUsbix0KSxrcyhuLnBhcmVudHx8dFs2XSxuLHQpKX0ocyxpLG8pfWZ1bmN0aW9uIEdyKGUsdCxuLGkscyl7Y29uc3Qgbz1lW24rMV0scj1udWxsPT09dDtsZXQgYT1pP1hzKG8pOnRvKG8pLGw9ITE7Zm9yKDswIT09YSYmKCExPT09bHx8cik7KXtjb25zdCBuPWVbYSsxXTtLcihlW2FdLHQpJiYobD0hMCxlW2ErMV09aT9pbyhuKTplbyhuKSksYT1pP1hzKG4pOnRvKG4pfWwmJihlW24rMV09aT9lbyhvKTppbyhvKSl9ZnVuY3Rpb24gS3IoZSx0KXtyZXR1cm4gbnVsbD09PWV8fG51bGw9PXR8fChBcnJheS5pc0FycmF5KGUpP2VbMV06ZSk9PT10fHwhKCFBcnJheS5pc0FycmF5KGUpfHwic3RyaW5nIiE9dHlwZW9mIHQpJiZ0aShlLHQpPj0wfWNvbnN0IFlyPXt0ZXh0RW5kOjAsa2V5OjAsa2V5RW5kOjAsdmFsdWU6MCx2YWx1ZUVuZDowfTtmdW5jdGlvbiBacihlKXtyZXR1cm4gZS5zdWJzdHJpbmcoWXIua2V5LFlyLmtleUVuZCl9ZnVuY3Rpb24gUXIoZSx0KXtjb25zdCBuPVlyLnRleHRFbmQ7cmV0dXJuIG49PT10Py0xOih0PVlyLmtleUVuZD1mdW5jdGlvbihlLHQsbil7Zm9yKDt0PG4mJmUuY2hhckNvZGVBdCh0KT4zMjspdCsrO3JldHVybiB0fShlLFlyLmtleT10LG4pLEpyKGUsdCxuKSl9ZnVuY3Rpb24gSnIoZSx0LG4pe2Zvcig7dDxuJiZlLmNoYXJDb2RlQXQodCk8PTMyOyl0Kys7cmV0dXJuIHR9ZnVuY3Rpb24gWHIoZSx0LG4pe3JldHVybiBpYShlLHQsbiwhMSksWHJ9ZnVuY3Rpb24gZWEoZSx0KXtyZXR1cm4gaWEoZSx0LG51bGwsITApLGVhfWZ1bmN0aW9uIHRhKGUpe3NhKFhuLG5hLGUsITApfWZ1bmN0aW9uIG5hKGUsdCl7Zm9yKGxldCBuPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtZci5rZXk9MCxZci5rZXlFbmQ9MCxZci52YWx1ZT0wLFlyLnZhbHVlRW5kPTAsWXIudGV4dEVuZD1lLmxlbmd0aH0oZSksUXIoZSxKcihlLDAsWXIudGV4dEVuZCkpfSh0KTtuPj0wO249UXIodCxuKSlYbihlLFpyKHQpLCEwKX1mdW5jdGlvbiBpYShlLHQsbixpKXtjb25zdCBzPVR0KCksbz1GdCgpLHI9VXQoMik7by5maXJzdFVwZGF0ZVBhc3MmJnJhKG8sZSxyLGkpLHQhPT1ZcyYmd3IocyxyLHQpJiZjYShvLG8uZGF0YVtubigpXSxzLHNbMTFdLGUsc1tyKzFdPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWV8fCgic3RyaW5nIj09dHlwZW9mIHQ/ZSs9dDoib2JqZWN0Ij09dHlwZW9mIGUmJihlPXRlKEVpKGUpKSkpLGV9KHQsbiksaSxyKX1mdW5jdGlvbiBzYShlLHQsbixpKXtjb25zdCBzPUZ0KCksbz1VdCgyKTtzLmZpcnN0VXBkYXRlUGFzcyYmcmEocyxudWxsLG8saSk7Y29uc3Qgcj1UdCgpO2lmKG4hPT1ZcyYmd3IocixvLG4pKXtjb25zdCBhPXMuZGF0YVtubigpXTtpZihkYShhLGkpJiYhb2EocyxvKSl7bGV0IGU9aT9hLmNsYXNzZXNXaXRob3V0SG9zdDphLnN0eWxlc1dpdGhvdXRIb3N0O251bGwhPT1lJiYobj1uZShlLG58fCIiKSksVHIocyxhLHIsbixpKX1lbHNlIWZ1bmN0aW9uKGUsdCxuLGkscyxvLHIsYSl7cz09PVlzJiYocz1NZSk7bGV0IGw9MCxjPTAsdT0wPHMubGVuZ3RoP3NbMF06bnVsbCxoPTA8by5sZW5ndGg/b1swXTpudWxsO2Zvcig7bnVsbCE9PXV8fG51bGwhPT1oOyl7Y29uc3QgZD1sPHMubGVuZ3RoP3NbbCsxXTp2b2lkIDAscD1jPG8ubGVuZ3RoP29bYysxXTp2b2lkIDA7bGV0IGYsZz1udWxsO3U9PT1oPyhsKz0yLGMrPTIsZCE9PXAmJihnPWgsZj1wKSk6bnVsbD09PWh8fG51bGwhPT11JiZ1PGg/KGwrPTIsZz11KTooYys9MixnPWgsZj1wKSxudWxsIT09ZyYmY2EoZSx0LG4saSxnLGYscixhKSx1PWw8cy5sZW5ndGg/c1tsXTpudWxsLGg9YzxvLmxlbmd0aD9vW2NdOm51bGx9fShzLGEscixyWzExXSxyW28rMV0scltvKzFdPWZ1bmN0aW9uKGUsdCxuKXtpZihudWxsPT1ufHwiIj09PW4pcmV0dXJuIE1lO2NvbnN0IGk9W10scz1FaShuKTtpZihBcnJheS5pc0FycmF5KHMpKWZvcihsZXQgbz0wO288cy5sZW5ndGg7bysrKWUoaSxzW29dLCEwKTtlbHNlIGlmKCJvYmplY3QiPT10eXBlb2Ygcylmb3IoY29uc3QgbyBpbiBzKXMuaGFzT3duUHJvcGVydHkobykmJmUoaSxvLHNbb10pO2Vsc2Uic3RyaW5nIj09dHlwZW9mIHMmJnQoaSxzKTtyZXR1cm4gaX0oZSx0LG4pLGksbyl9fWZ1bmN0aW9uIG9hKGUsdCl7cmV0dXJuIHQ+PWUuZXhwYW5kb1N0YXJ0SW5kZXh9ZnVuY3Rpb24gcmEoZSx0LG4saSl7Y29uc3Qgcz1lLmRhdGE7aWYobnVsbD09PXNbbisxXSl7Y29uc3Qgbz1zW25uKCldLHI9b2EoZSxuKTtkYShvLGkpJiZudWxsPT09dCYmIXImJih0PSExKSx0PWZ1bmN0aW9uKGUsdCxuLGkpe2NvbnN0IHM9ZnVuY3Rpb24oZSl7Y29uc3QgdD1BdC5sRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4O3JldHVybi0xPT09dD9udWxsOmVbdF19KGUpO2xldCBvPWk/dC5yZXNpZHVhbENsYXNzZXM6dC5yZXNpZHVhbFN0eWxlcztpZihudWxsPT09cykwPT09KGk/dC5jbGFzc0JpbmRpbmdzOnQuc3R5bGVCaW5kaW5ncykmJihuPWxhKG49YWEobnVsbCxlLHQsbixpKSx0LmF0dHJzLGkpLG89bnVsbCk7ZWxzZXtjb25zdCByPXQuZGlyZWN0aXZlU3R5bGluZ0xhc3Q7aWYoLTE9PT1yfHxlW3JdIT09cylpZihuPWFhKHMsZSx0LG4saSksbnVsbD09PW8pe2xldCBuPWZ1bmN0aW9uKGUsdCxuKXtjb25zdCBpPW4/dC5jbGFzc0JpbmRpbmdzOnQuc3R5bGVCaW5kaW5ncztpZigwIT09dG8oaSkpcmV0dXJuIGVbWHMoaSldfShlLHQsaSk7dm9pZCAwIT09biYmQXJyYXkuaXNBcnJheShuKSYmKG49YWEobnVsbCxlLHQsblsxXSxpKSxuPWxhKG4sdC5hdHRycyxpKSxmdW5jdGlvbihlLHQsbixpKXtlW1hzKG4/dC5jbGFzc0JpbmRpbmdzOnQuc3R5bGVCaW5kaW5ncyldPWl9KGUsdCxpLG4pKX1lbHNlIG89ZnVuY3Rpb24oZSx0LG4pe2xldCBpO2NvbnN0IHM9dC5kaXJlY3RpdmVFbmQ7Zm9yKGxldCBvPTErdC5kaXJlY3RpdmVTdHlsaW5nTGFzdDtvPHM7bysrKWk9bGEoaSxlW29dLmhvc3RBdHRycyxuKTtyZXR1cm4gbGEoaSx0LmF0dHJzLG4pfShlLHQsaSl9cmV0dXJuIHZvaWQgMCE9PW8mJihpP3QucmVzaWR1YWxDbGFzc2VzPW86dC5yZXNpZHVhbFN0eWxlcz1vKSxufShzLG8sdCxpKSxmdW5jdGlvbihlLHQsbixpLHMsbyl7bGV0IHI9bz90LmNsYXNzQmluZGluZ3M6dC5zdHlsZUJpbmRpbmdzLGE9WHMociksbD10byhyKTtlW2ldPW47bGV0IGMsdT0hMTtpZihBcnJheS5pc0FycmF5KG4pKXtjb25zdCBlPW47Yz1lWzFdLChudWxsPT09Y3x8dGkoZSxjKT4wKSYmKHU9ITApfWVsc2UgYz1uO2lmKHMpaWYoMCE9PWwpe2NvbnN0IHQ9WHMoZVthKzFdKTtlW2krMV09SnModCxhKSwwIT09dCYmKGVbdCsxXT1ubyhlW3QrMV0saSkpLGVbYSsxXT0xMzEwNzEmZVthKzFdfGk8PDE3fWVsc2UgZVtpKzFdPUpzKGEsMCksMCE9PWEmJihlW2ErMV09bm8oZVthKzFdLGkpKSxhPWk7ZWxzZSBlW2krMV09SnMobCwwKSwwPT09YT9hPWk6ZVtsKzFdPW5vKGVbbCsxXSxpKSxsPWk7dSYmKGVbaSsxXT1lbyhlW2krMV0pKSxHcihlLGMsaSwhMCksR3IoZSxjLGksITEpLGZ1bmN0aW9uKGUsdCxuLGkscyl7Y29uc3Qgbz1zP2UucmVzaWR1YWxDbGFzc2VzOmUucmVzaWR1YWxTdHlsZXM7bnVsbCE9byYmInN0cmluZyI9PXR5cGVvZiB0JiZ0aShvLHQpPj0wJiYobltpKzFdPWlvKG5baSsxXSkpfSh0LGMsZSxpLG8pLHI9SnMoYSxsKSxvP3QuY2xhc3NCaW5kaW5ncz1yOnQuc3R5bGVCaW5kaW5ncz1yfShzLG8sdCxuLHIsaSl9fWZ1bmN0aW9uIGFhKGUsdCxuLGkscyl7bGV0IG89bnVsbDtjb25zdCByPW4uZGlyZWN0aXZlRW5kO2xldCBhPW4uZGlyZWN0aXZlU3R5bGluZ0xhc3Q7Zm9yKC0xPT09YT9hPW4uZGlyZWN0aXZlU3RhcnQ6YSsrO2E8ciYmKG89dFthXSxpPWxhKGksby5ob3N0QXR0cnMscyksbyE9PWUpOylhKys7cmV0dXJuIG51bGwhPT1lJiYobi5kaXJlY3RpdmVTdHlsaW5nTGFzdD1hKSxpfWZ1bmN0aW9uIGxhKGUsdCxuKXtjb25zdCBpPW4/MToyO2xldCBzPS0xO2lmKG51bGwhPT10KWZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKXtjb25zdCByPXRbb107Im51bWJlciI9PXR5cGVvZiByP3M9cjpzPT09aSYmKEFycmF5LmlzQXJyYXkoZSl8fChlPXZvaWQgMD09PWU/W106WyIiLGVdKSxYbihlLHIsISFufHx0Wysrb10pKX1yZXR1cm4gdm9pZCAwPT09ZT9udWxsOmV9ZnVuY3Rpb24gY2EoZSx0LG4saSxzLG8scixhKXtpZighKDMmdC50eXBlKSlyZXR1cm47Y29uc3QgbD1lLmRhdGEsYz1sW2ErMV07aGEoMT09KDEmYyk/dWEobCx0LG4scyx0byhjKSxyKTp2b2lkIDApfHwoaGEobyl8fDI9PSgyJmMpJiYobz11YShsLG51bGwsbixzLGEscikpLGZ1bmN0aW9uKGUsdCxuLGkscyl7Y29uc3Qgbz1ndChlKTtpZih0KXM/bz9lLmFkZENsYXNzKG4saSk6bi5jbGFzc0xpc3QuYWRkKGkpOm8/ZS5yZW1vdmVDbGFzcyhuLGkpOm4uY2xhc3NMaXN0LnJlbW92ZShpKTtlbHNle2xldCB0PS0xPT09aS5pbmRleE9mKCItIik/dm9pZCAwOmNzLkRhc2hDYXNlO2lmKG51bGw9PXMpbz9lLnJlbW92ZVN0eWxlKG4saSx0KTpuLnN0eWxlLnJlbW92ZVByb3BlcnR5KGkpO2Vsc2V7Y29uc3Qgcj0ic3RyaW5nIj09dHlwZW9mIHMmJnMuZW5kc1dpdGgoIiFpbXBvcnRhbnQiKTtyJiYocz1zLnNsaWNlKDAsLTEwKSx0fD1jcy5JbXBvcnRhbnQpLG8/ZS5zZXRTdHlsZShuLGkscyx0KTpuLnN0eWxlLnNldFByb3BlcnR5KGkscyxyPyJpbXBvcnRhbnQiOiIiKX19fShpLHIsYnQobm4oKSxuKSxzLG8pKX1mdW5jdGlvbiB1YShlLHQsbixpLHMsbyl7Y29uc3Qgcj1udWxsPT09dDtsZXQgYTtmb3IoO3M+MDspe2NvbnN0IHQ9ZVtzXSxvPUFycmF5LmlzQXJyYXkodCksbD1vP3RbMV06dCxjPW51bGw9PT1sO2xldCB1PW5bcysxXTt1PT09WXMmJih1PWM/TWU6dm9pZCAwKTtsZXQgaD1jP2VpKHUsaSk6bD09PWk/dTp2b2lkIDA7aWYobyYmIWhhKGgpJiYoaD1laSh0LGkpKSxoYShoKSYmKGE9aCxyKSlyZXR1cm4gYTtjb25zdCBkPWVbcysxXTtzPXI/WHMoZCk6dG8oZCl9aWYobnVsbCE9PXQpe2xldCBlPW8/dC5yZXNpZHVhbENsYXNzZXM6dC5yZXNpZHVhbFN0eWxlcztudWxsIT1lJiYoYT1laShlLGkpKX1yZXR1cm4gYX1mdW5jdGlvbiBoYShlKXtyZXR1cm4gdm9pZCAwIT09ZX1mdW5jdGlvbiBkYShlLHQpe3JldHVybiAwIT0oZS5mbGFncyYodD8xNjozMikpfWZ1bmN0aW9uIHBhKGUsdD0iIil7Y29uc3Qgbj1UdCgpLGk9RnQoKSxzPWUrSmUsbz1pLmZpcnN0Q3JlYXRlUGFzcz9ybyhpLHMsMSx0LG51bGwpOmkuZGF0YVtzXSxyPW5bc109ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZ3QoZSk/ZS5jcmVhdGVUZXh0KHQpOmUuY3JlYXRlVGV4dE5vZGUodCl9KG5bMTFdLHQpO0FzKGksbixyLG8pLFZ0KG8sITEpfWZ1bmN0aW9uIGZhKGUpe3JldHVybiBnYSgiIixlLCIiKSxmYX1mdW5jdGlvbiBnYShlLHQsbil7Y29uc3QgaT1UdCgpLHM9U3IoaSxlLHQsbik7cmV0dXJuIHMhPT1ZcyYmem8oaSxubigpLHMpLGdhfWZ1bmN0aW9uIG1hKGUsdCxuLGkscyl7Y29uc3Qgbz1UdCgpLHI9RXIobyxlLHQsbixpLHMpO3JldHVybiByIT09WXMmJnpvKG8sbm4oKSxyKSxtYX1mdW5jdGlvbiB2YShlLHQsbil7c2EoWG4sbmEsU3IoVHQoKSxlLHQsbiksITApfWZ1bmN0aW9uIGJhKGUsdCxuLGkscyl7c2EoWG4sbmEsRXIoVHQoKSxlLHQsbixpLHMpLCEwKX1mdW5jdGlvbiB5YShlLHQsbil7Y29uc3QgaT1UdCgpO3JldHVybiB3cihpLEh0KCksdCkmJkNvKEZ0KCksb24oKSxpLGUsdCxpWzExXSxuLCEwKSx5YX1jb25zdCBDYT12b2lkIDA7dmFyIHdhPVsiZW4iLFtbImEiLCJwIl0sWyJBTSIsIlBNIl0sQ2FdLFtbIkFNIiwiUE0iXSxDYSxDYV0sW1siUyIsIk0iLCJUIiwiVyIsIlQiLCJGIiwiUyJdLFsiU3VuIiwiTW9uIiwiVHVlIiwiV2VkIiwiVGh1IiwiRnJpIiwiU2F0Il0sWyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLFsiU3UiLCJNbyIsIlR1IiwiV2UiLCJUaCIsIkZyIiwiU2EiXV0sQ2EsW1siSiIsIkYiLCJNIiwiQSIsIk0iLCJKIiwiSiIsIkEiLCJTIiwiTyIsIk4iLCJEIl0sWyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXSxbIkphbnVhcnkiLCJGZWJydWFyeSIsIk1hcmNoIiwiQXByaWwiLCJNYXkiLCJKdW5lIiwiSnVseSIsIkF1Z3VzdCIsIlNlcHRlbWJlciIsIk9jdG9iZXIiLCJOb3ZlbWJlciIsIkRlY2VtYmVyIl1dLENhLFtbIkIiLCJBIl0sWyJCQyIsIkFEIl0sWyJCZWZvcmUgQ2hyaXN0IiwiQW5ubyBEb21pbmkiXV0sMCxbNiwwXSxbIk0vZC95eSIsIk1NTSBkLCB5IiwiTU1NTSBkLCB5IiwiRUVFRSwgTU1NTSBkLCB5Il0sWyJoOm1tIGEiLCJoOm1tOnNzIGEiLCJoOm1tOnNzIGEgeiIsImg6bW06c3MgYSB6enp6Il0sWyJ7MX0sIHswfSIsQ2EsInsxfSAnYXQnIHswfSIsQ2FdLFsiLiIsIiwiLCI7IiwiJSIsIisiLCItIiwiRSIsIlx4ZDciLCJcdTIwMzAiLCJcdTIyMWUiLCJOYU4iLCI6Il0sWyIjLCMjMC4jIyMiLCIjLCMjMCUiLCJceGE0IywjIzAuMDAiLCIjRTAiXSwiVVNEIiwiJCIsIlVTIERvbGxhciIse30sImx0ciIsZnVuY3Rpb24oZSl7bGV0IHQ9TWF0aC5mbG9vcihNYXRoLmFicyhlKSksbj1lLnRvU3RyaW5nKCkucmVwbGFjZSgvXlteLl0qXC4/LywiIikubGVuZ3RoO3JldHVybiAxPT09dCYmMD09PW4/MTo1fV07bGV0IF9hPXt9O2Z1bmN0aW9uIERhKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csIi0iKX0oZSk7bGV0IG49U2EodCk7aWYobilyZXR1cm4gbjtjb25zdCBpPXQuc3BsaXQoIi0iKVswXTtpZihuPVNhKGkpLG4pcmV0dXJuIG47aWYoImVuIj09PWkpcmV0dXJuIHdhO3Rocm93IG5ldyBFcnJvcihgTWlzc2luZyBsb2NhbGUgZGF0YSBmb3IgdGhlIGxvY2FsZSAiJHtlfSIuYCl9ZnVuY3Rpb24gU2EoZSl7cmV0dXJuIGUgaW4gX2F8fChfYVtlXT1GZS5uZyYmRmUubmcuY29tbW9uJiZGZS5uZy5jb21tb24ubG9jYWxlcyYmRmUubmcuY29tbW9uLmxvY2FsZXNbZV0pLF9hW2VdfXZhciBFYT1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLkxvY2FsZUlkPTBdPSJMb2NhbGVJZCIsZVtlLkRheVBlcmlvZHNGb3JtYXQ9MV09IkRheVBlcmlvZHNGb3JtYXQiLGVbZS5EYXlQZXJpb2RzU3RhbmRhbG9uZT0yXT0iRGF5UGVyaW9kc1N0YW5kYWxvbmUiLGVbZS5EYXlzRm9ybWF0PTNdPSJEYXlzRm9ybWF0IixlW2UuRGF5c1N0YW5kYWxvbmU9NF09IkRheXNTdGFuZGFsb25lIixlW2UuTW9udGhzRm9ybWF0PTVdPSJNb250aHNGb3JtYXQiLGVbZS5Nb250aHNTdGFuZGFsb25lPTZdPSJNb250aHNTdGFuZGFsb25lIixlW2UuRXJhcz03XT0iRXJhcyIsZVtlLkZpcnN0RGF5T2ZXZWVrPThdPSJGaXJzdERheU9mV2VlayIsZVtlLldlZWtlbmRSYW5nZT05XT0iV2Vla2VuZFJhbmdlIixlW2UuRGF0ZUZvcm1hdD0xMF09IkRhdGVGb3JtYXQiLGVbZS5UaW1lRm9ybWF0PTExXT0iVGltZUZvcm1hdCIsZVtlLkRhdGVUaW1lRm9ybWF0PTEyXT0iRGF0ZVRpbWVGb3JtYXQiLGVbZS5OdW1iZXJTeW1ib2xzPTEzXT0iTnVtYmVyU3ltYm9scyIsZVtlLk51bWJlckZvcm1hdHM9MTRdPSJOdW1iZXJGb3JtYXRzIixlW2UuQ3VycmVuY3lDb2RlPTE1XT0iQ3VycmVuY3lDb2RlIixlW2UuQ3VycmVuY3lTeW1ib2w9MTZdPSJDdXJyZW5jeVN5bWJvbCIsZVtlLkN1cnJlbmN5TmFtZT0xN109IkN1cnJlbmN5TmFtZSIsZVtlLkN1cnJlbmNpZXM9MThdPSJDdXJyZW5jaWVzIixlW2UuRGlyZWN0aW9uYWxpdHk9MTldPSJEaXJlY3Rpb25hbGl0eSIsZVtlLlBsdXJhbENhc2U9MjBdPSJQbHVyYWxDYXNlIixlW2UuRXh0cmFEYXRhPTIxXT0iRXh0cmFEYXRhIixlfSh7fSk7Y29uc3Qga2E9ImVuLVVTIjtsZXQgeGE9a2E7ZnVuY3Rpb24gQWEoZSl7dmFyIHQsbjtuPSJFeHBlY3RlZCBsb2NhbGVJZCB0byBiZSBkZWZpbmVkIixudWxsPT0odD1lKSYmZnVuY3Rpb24oZSx0LG4saSl7dGhyb3cgbmV3IEVycm9yKGBBU1NFUlRJT04gRVJST1I6ICR7ZX0gW0V4cGVjdGVkPT4gbnVsbCAhPSAke3R9IDw9QWN0dWFsXWApfShuLHQpLCJzdHJpbmciPT10eXBlb2YgZSYmKHhhPWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csIi0iKSl9ZnVuY3Rpb24gT2EoZSx0LG4saSxzKXtpZihlPW9lKGUpLEFycmF5LmlzQXJyYXkoZSkpZm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspT2EoZVtvXSx0LG4saSxzKTtlbHNle2NvbnN0IG89RnQoKSxyPVR0KCk7bGV0IGE9cnIoZSk/ZTpvZShlLnByb3ZpZGUpLGw9aXIoZSk7Y29uc3QgYz1NdCgpLHU9MTA0ODU3NSZjLnByb3ZpZGVySW5kZXhlcyxoPWMuZGlyZWN0aXZlU3RhcnQsZD1jLnByb3ZpZGVySW5kZXhlcz4+MjA7aWYocnIoZSl8fCFlLm11bHRpKXtjb25zdCBpPW5ldyBwbihsLHMsQXIpLHA9SWEoYSx0LHM/dTp1K2QsaCk7LTE9PT1wPyhPbihFbihjLHIpLG8sYSksVGEobyxlLHQubGVuZ3RoKSx0LnB1c2goYSksYy5kaXJlY3RpdmVTdGFydCsrLGMuZGlyZWN0aXZlRW5kKysscyYmKGMucHJvdmlkZXJJbmRleGVzKz0xMDQ4NTc2KSxuLnB1c2goaSksci5wdXNoKGkpKToobltwXT1pLHJbcF09aSl9ZWxzZXtjb25zdCBwPUlhKGEsdCx1K2QsaCksZj1JYShhLHQsdSx1K2QpLGc9cD49MCYmbltwXSxtPWY+PTAmJm5bZl07aWYocyYmIW18fCFzJiYhZyl7T24oRW4oYyxyKSxvLGEpO2NvbnN0IHU9ZnVuY3Rpb24oZSx0LG4saSxzKXtjb25zdCBvPW5ldyBwbihlLG4sQXIpO3JldHVybiBvLm11bHRpPVtdLG8uaW5kZXg9dCxvLmNvbXBvbmVudFByb3ZpZGVycz0wLEZhKG8scyxpJiYhbiksb30ocz9QYTpNYSxuLmxlbmd0aCxzLGksbCk7IXMmJm0mJihuW2ZdLnByb3ZpZGVyRmFjdG9yeT11KSxUYShvLGUsdC5sZW5ndGgsMCksdC5wdXNoKGEpLGMuZGlyZWN0aXZlU3RhcnQrKyxjLmRpcmVjdGl2ZUVuZCsrLHMmJihjLnByb3ZpZGVySW5kZXhlcys9MTA0ODU3Niksbi5wdXNoKHUpLHIucHVzaCh1KX1lbHNlIFRhKG8sZSxwPi0xP3A6ZixGYShuW3M/ZjpwXSxsLCFzJiZpKSk7IXMmJmkmJm0mJm5bZl0uY29tcG9uZW50UHJvdmlkZXJzKyt9fX1mdW5jdGlvbiBUYShlLHQsbixpKXtjb25zdCBzPXJyKHQpO2lmKHN8fHQudXNlQ2xhc3Mpe2NvbnN0IG89KHQudXNlQ2xhc3N8fHQpLnByb3RvdHlwZS5uZ09uRGVzdHJveTtpZihvKXtjb25zdCByPWUuZGVzdHJveUhvb2tzfHwoZS5kZXN0cm95SG9va3M9W10pO2lmKCFzJiZ0Lm11bHRpKXtjb25zdCBlPXIuaW5kZXhPZihuKTstMT09PWU/ci5wdXNoKG4sW2ksb10pOnJbZSsxXS5wdXNoKGksbyl9ZWxzZSByLnB1c2gobixvKX19fWZ1bmN0aW9uIEZhKGUsdCxuKXtyZXR1cm4gbiYmZS5jb21wb25lbnRQcm92aWRlcnMrKyxlLm11bHRpLnB1c2godCktMX1mdW5jdGlvbiBJYShlLHQsbixpKXtmb3IobGV0IHM9bjtzPGk7cysrKWlmKHRbc109PT1lKXJldHVybiBzO3JldHVybi0xfWZ1bmN0aW9uIE1hKGUsdCxuLGkpe3JldHVybiBWYSh0aGlzLm11bHRpLFtdKX1mdW5jdGlvbiBQYShlLHQsbixpKXtjb25zdCBzPXRoaXMubXVsdGk7bGV0IG87aWYodGhpcy5wcm92aWRlckZhY3Rvcnkpe2NvbnN0IGU9dGhpcy5wcm92aWRlckZhY3RvcnkuY29tcG9uZW50UHJvdmlkZXJzLHQ9Um4obixuWzFdLHRoaXMucHJvdmlkZXJGYWN0b3J5LmluZGV4LGkpO289dC5zbGljZSgwLGUpLFZhKHMsbyk7Zm9yKGxldCBuPWU7bjx0Lmxlbmd0aDtuKyspby5wdXNoKHRbbl0pfWVsc2Ugbz1bXSxWYShzLG8pO3JldHVybiBvfWZ1bmN0aW9uIFZhKGUsdCl7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspdC5wdXNoKCgwLGVbbl0pKCkpO3JldHVybiB0fWZ1bmN0aW9uIExhKGUsdD1bXSl7cmV0dXJuIG49PntuLnByb3ZpZGVyc1Jlc29sdmVyPShuLGkpPT5mdW5jdGlvbihlLHQsbil7Y29uc3QgaT1GdCgpO2lmKGkuZmlyc3RDcmVhdGVQYXNzKXtjb25zdCBzPW90KGUpO09hKG4saS5kYXRhLGkuYmx1ZXByaW50LHMsITApLE9hKHQsaS5kYXRhLGkuYmx1ZXByaW50LHMsITEpfX0obixpP2koZSk6ZSx0KX19Y2xhc3MgUmF7fWNsYXNzIGphe3Jlc29sdmVDb21wb25lbnRGYWN0b3J5KGUpe3Rocm93IGZ1bmN0aW9uKGUpe2NvbnN0IHQ9RXJyb3IoYE5vIGNvbXBvbmVudCBmYWN0b3J5IGZvdW5kIGZvciAke3RlKGUpfS4gRGlkIHlvdSBhZGQgaXQgdG8gQE5nTW9kdWxlLmVudHJ5Q29tcG9uZW50cz9gKTtyZXR1cm4gdC5uZ0NvbXBvbmVudD1lLHR9KGUpfX1sZXQgTmE9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuTlVMTD1uZXcgamEsZX0pKCk7ZnVuY3Rpb24gQmEoLi4uZSl7fWZ1bmN0aW9uICRhKGUsdCl7cmV0dXJuIG5ldyBVYSh5dChlLHQpKX1jb25zdCBIYT1mdW5jdGlvbigpe3JldHVybiAkYShNdCgpLFR0KCkpfTtsZXQgVWE9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLm5hdGl2ZUVsZW1lbnQ9ZX19cmV0dXJuIGUuX19OR19FTEVNRU5UX0lEX189SGEsZX0pKCk7ZnVuY3Rpb24gcWEoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBVYT9lLm5hdGl2ZUVsZW1lbnQ6ZX1jbGFzcyB6YXt9bGV0IFdhPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLl9fTkdfRUxFTUVOVF9JRF9fPSgpPT5HYSgpLGV9KSgpO2NvbnN0IEdhPWZ1bmN0aW9uKCl7Y29uc3QgZT1UdCgpLHQ9X3QoTXQoKS5pbmRleCxlKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGVbMTFdfShldCh0KT90OmUpfTtsZXQgS2E9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxwcm92aWRlZEluOiJyb290IixmYWN0b3J5OigpPT5udWxsfSksZX0pKCk7Y2xhc3MgWWF7Y29uc3RydWN0b3IoZSl7dGhpcy5mdWxsPWUsdGhpcy5tYWpvcj1lLnNwbGl0KCIuIilbMF0sdGhpcy5taW5vcj1lLnNwbGl0KCIuIilbMV0sdGhpcy5wYXRjaD1lLnNwbGl0KCIuIikuc2xpY2UoMikuam9pbigiLiIpfX1jb25zdCBaYT1uZXcgWWEoIjEyLjAuMSIpO2NsYXNzIFFhe2NvbnN0cnVjdG9yKCl7fXN1cHBvcnRzKGUpe3JldHVybiBicihlKX1jcmVhdGUoZSl7cmV0dXJuIG5ldyBYYShlKX19Y29uc3QgSmE9KGUsdCk9PnQ7Y2xhc3MgWGF7Y29uc3RydWN0b3IoZSl7dGhpcy5sZW5ndGg9MCx0aGlzLl9saW5rZWRSZWNvcmRzPW51bGwsdGhpcy5fdW5saW5rZWRSZWNvcmRzPW51bGwsdGhpcy5fcHJldmlvdXNJdEhlYWQ9bnVsbCx0aGlzLl9pdEhlYWQ9bnVsbCx0aGlzLl9pdFRhaWw9bnVsbCx0aGlzLl9hZGRpdGlvbnNIZWFkPW51bGwsdGhpcy5fYWRkaXRpb25zVGFpbD1udWxsLHRoaXMuX21vdmVzSGVhZD1udWxsLHRoaXMuX21vdmVzVGFpbD1udWxsLHRoaXMuX3JlbW92YWxzSGVhZD1udWxsLHRoaXMuX3JlbW92YWxzVGFpbD1udWxsLHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQ9bnVsbCx0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsPW51bGwsdGhpcy5fdHJhY2tCeUZuPWV8fEphfWZvckVhY2hJdGVtKGUpe2xldCB0O2Zvcih0PXRoaXMuX2l0SGVhZDtudWxsIT09dDt0PXQuX25leHQpZSh0KX1mb3JFYWNoT3BlcmF0aW9uKGUpe2xldCB0PXRoaXMuX2l0SGVhZCxuPXRoaXMuX3JlbW92YWxzSGVhZCxpPTAscz1udWxsO2Zvcig7dHx8bjspe2NvbnN0IG89IW58fHQmJnQuY3VycmVudEluZGV4PGlsKG4saSxzKT90Om4scj1pbChvLGkscyksYT1vLmN1cnJlbnRJbmRleDtpZihvPT09bilpLS0sbj1uLl9uZXh0UmVtb3ZlZDtlbHNlIGlmKHQ9dC5fbmV4dCxudWxsPT1vLnByZXZpb3VzSW5kZXgpaSsrO2Vsc2V7c3x8KHM9W10pO2NvbnN0IGU9ci1pLHQ9YS1pO2lmKGUhPXQpe2ZvcihsZXQgbj0wO248ZTtuKyspe2NvbnN0IGk9bjxzLmxlbmd0aD9zW25dOnNbbl09MCxvPWkrbjt0PD1vJiZvPGUmJihzW25dPWkrMSl9c1tvLnByZXZpb3VzSW5kZXhdPXQtZX19ciE9PWEmJmUobyxyLGEpfX1mb3JFYWNoUHJldmlvdXNJdGVtKGUpe2xldCB0O2Zvcih0PXRoaXMuX3ByZXZpb3VzSXRIZWFkO251bGwhPT10O3Q9dC5fbmV4dFByZXZpb3VzKWUodCl9Zm9yRWFjaEFkZGVkSXRlbShlKXtsZXQgdDtmb3IodD10aGlzLl9hZGRpdGlvbnNIZWFkO251bGwhPT10O3Q9dC5fbmV4dEFkZGVkKWUodCl9Zm9yRWFjaE1vdmVkSXRlbShlKXtsZXQgdDtmb3IodD10aGlzLl9tb3Zlc0hlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0TW92ZWQpZSh0KX1mb3JFYWNoUmVtb3ZlZEl0ZW0oZSl7bGV0IHQ7Zm9yKHQ9dGhpcy5fcmVtb3ZhbHNIZWFkO251bGwhPT10O3Q9dC5fbmV4dFJlbW92ZWQpZSh0KX1mb3JFYWNoSWRlbnRpdHlDaGFuZ2UoZSl7bGV0IHQ7Zm9yKHQ9dGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZDtudWxsIT09dDt0PXQuX25leHRJZGVudGl0eUNoYW5nZSllKHQpfWRpZmYoZSl7aWYobnVsbD09ZSYmKGU9W10pLCFicihlKSl0aHJvdyBuZXcgRXJyb3IoYEVycm9yIHRyeWluZyB0byBkaWZmICcke3RlKGUpfScuIE9ubHkgYXJyYXlzIGFuZCBpdGVyYWJsZXMgYXJlIGFsbG93ZWRgKTtyZXR1cm4gdGhpcy5jaGVjayhlKT90aGlzOm51bGx9b25EZXN0cm95KCl7fWNoZWNrKGUpe3RoaXMuX3Jlc2V0KCk7bGV0IHQsbixpLHM9dGhpcy5faXRIZWFkLG89ITE7aWYoQXJyYXkuaXNBcnJheShlKSl7dGhpcy5sZW5ndGg9ZS5sZW5ndGg7Zm9yKGxldCB0PTA7dDx0aGlzLmxlbmd0aDt0Kyspbj1lW3RdLGk9dGhpcy5fdHJhY2tCeUZuKHQsbiksbnVsbCE9PXMmJk9iamVjdC5pcyhzLnRyYWNrQnlJZCxpKT8obyYmKHM9dGhpcy5fdmVyaWZ5UmVpbnNlcnRpb24ocyxuLGksdCkpLE9iamVjdC5pcyhzLml0ZW0sbil8fHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHMsbikpOihzPXRoaXMuX21pc21hdGNoKHMsbixpLHQpLG89ITApLHM9cy5fbmV4dH1lbHNlIHQ9MCxmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkoZSkpZm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspdChlW25dKTtlbHNle2NvbnN0IG49ZVttcigpXSgpO2xldCBpO2Zvcig7IShpPW4ubmV4dCgpKS5kb25lOyl0KGkudmFsdWUpfX0oZSxlPT57aT10aGlzLl90cmFja0J5Rm4odCxlKSxudWxsIT09cyYmT2JqZWN0LmlzKHMudHJhY2tCeUlkLGkpPyhvJiYocz10aGlzLl92ZXJpZnlSZWluc2VydGlvbihzLGUsaSx0KSksT2JqZWN0LmlzKHMuaXRlbSxlKXx8dGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UocyxlKSk6KHM9dGhpcy5fbWlzbWF0Y2gocyxlLGksdCksbz0hMCkscz1zLl9uZXh0LHQrK30pLHRoaXMubGVuZ3RoPXQ7cmV0dXJuIHRoaXMuX3RydW5jYXRlKHMpLHRoaXMuY29sbGVjdGlvbj1lLHRoaXMuaXNEaXJ0eX1nZXQgaXNEaXJ0eSgpe3JldHVybiBudWxsIT09dGhpcy5fYWRkaXRpb25zSGVhZHx8bnVsbCE9PXRoaXMuX21vdmVzSGVhZHx8bnVsbCE9PXRoaXMuX3JlbW92YWxzSGVhZHx8bnVsbCE9PXRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWR9X3Jlc2V0KCl7aWYodGhpcy5pc0RpcnR5KXtsZXQgZTtmb3IoZT10aGlzLl9wcmV2aW91c0l0SGVhZD10aGlzLl9pdEhlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0KWUuX25leHRQcmV2aW91cz1lLl9uZXh0O2ZvcihlPXRoaXMuX2FkZGl0aW9uc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0QWRkZWQpZS5wcmV2aW91c0luZGV4PWUuY3VycmVudEluZGV4O2Zvcih0aGlzLl9hZGRpdGlvbnNIZWFkPXRoaXMuX2FkZGl0aW9uc1RhaWw9bnVsbCxlPXRoaXMuX21vdmVzSGVhZDtudWxsIT09ZTtlPWUuX25leHRNb3ZlZCllLnByZXZpb3VzSW5kZXg9ZS5jdXJyZW50SW5kZXg7dGhpcy5fbW92ZXNIZWFkPXRoaXMuX21vdmVzVGFpbD1udWxsLHRoaXMuX3JlbW92YWxzSGVhZD10aGlzLl9yZW1vdmFsc1RhaWw9bnVsbCx0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkPXRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWw9bnVsbH19X21pc21hdGNoKGUsdCxuLGkpe2xldCBzO3JldHVybiBudWxsPT09ZT9zPXRoaXMuX2l0VGFpbDoocz1lLl9wcmV2LHRoaXMuX3JlbW92ZShlKSksbnVsbCE9PShlPW51bGw9PT10aGlzLl91bmxpbmtlZFJlY29yZHM/bnVsbDp0aGlzLl91bmxpbmtlZFJlY29yZHMuZ2V0KG4sbnVsbCkpPyhPYmplY3QuaXMoZS5pdGVtLHQpfHx0aGlzLl9hZGRJZGVudGl0eUNoYW5nZShlLHQpLHRoaXMuX3JlaW5zZXJ0QWZ0ZXIoZSxzLGkpKTpudWxsIT09KGU9bnVsbD09PXRoaXMuX2xpbmtlZFJlY29yZHM/bnVsbDp0aGlzLl9saW5rZWRSZWNvcmRzLmdldChuLGkpKT8oT2JqZWN0LmlzKGUuaXRlbSx0KXx8dGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UoZSx0KSx0aGlzLl9tb3ZlQWZ0ZXIoZSxzLGkpKTplPXRoaXMuX2FkZEFmdGVyKG5ldyBlbCh0LG4pLHMsaSksZX1fdmVyaWZ5UmVpbnNlcnRpb24oZSx0LG4saSl7bGV0IHM9bnVsbD09PXRoaXMuX3VubGlua2VkUmVjb3Jkcz9udWxsOnRoaXMuX3VubGlua2VkUmVjb3Jkcy5nZXQobixudWxsKTtyZXR1cm4gbnVsbCE9PXM/ZT10aGlzLl9yZWluc2VydEFmdGVyKHMsZS5fcHJldixpKTplLmN1cnJlbnRJbmRleCE9aSYmKGUuY3VycmVudEluZGV4PWksdGhpcy5fYWRkVG9Nb3ZlcyhlLGkpKSxlfV90cnVuY2F0ZShlKXtmb3IoO251bGwhPT1lOyl7Y29uc3QgdD1lLl9uZXh0O3RoaXMuX2FkZFRvUmVtb3ZhbHModGhpcy5fdW5saW5rKGUpKSxlPXR9bnVsbCE9PXRoaXMuX3VubGlua2VkUmVjb3JkcyYmdGhpcy5fdW5saW5rZWRSZWNvcmRzLmNsZWFyKCksbnVsbCE9PXRoaXMuX2FkZGl0aW9uc1RhaWwmJih0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQ9bnVsbCksbnVsbCE9PXRoaXMuX21vdmVzVGFpbCYmKHRoaXMuX21vdmVzVGFpbC5fbmV4dE1vdmVkPW51bGwpLG51bGwhPT10aGlzLl9pdFRhaWwmJih0aGlzLl9pdFRhaWwuX25leHQ9bnVsbCksbnVsbCE9PXRoaXMuX3JlbW92YWxzVGFpbCYmKHRoaXMuX3JlbW92YWxzVGFpbC5fbmV4dFJlbW92ZWQ9bnVsbCksbnVsbCE9PXRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwmJih0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsLl9uZXh0SWRlbnRpdHlDaGFuZ2U9bnVsbCl9X3JlaW5zZXJ0QWZ0ZXIoZSx0LG4pe251bGwhPT10aGlzLl91bmxpbmtlZFJlY29yZHMmJnRoaXMuX3VubGlua2VkUmVjb3Jkcy5yZW1vdmUoZSk7Y29uc3QgaT1lLl9wcmV2UmVtb3ZlZCxzPWUuX25leHRSZW1vdmVkO3JldHVybiBudWxsPT09aT90aGlzLl9yZW1vdmFsc0hlYWQ9czppLl9uZXh0UmVtb3ZlZD1zLG51bGw9PT1zP3RoaXMuX3JlbW92YWxzVGFpbD1pOnMuX3ByZXZSZW1vdmVkPWksdGhpcy5faW5zZXJ0QWZ0ZXIoZSx0LG4pLHRoaXMuX2FkZFRvTW92ZXMoZSxuKSxlfV9tb3ZlQWZ0ZXIoZSx0LG4pe3JldHVybiB0aGlzLl91bmxpbmsoZSksdGhpcy5faW5zZXJ0QWZ0ZXIoZSx0LG4pLHRoaXMuX2FkZFRvTW92ZXMoZSxuKSxlfV9hZGRBZnRlcihlLHQsbil7cmV0dXJuIHRoaXMuX2luc2VydEFmdGVyKGUsdCxuKSx0aGlzLl9hZGRpdGlvbnNUYWlsPW51bGw9PT10aGlzLl9hZGRpdGlvbnNUYWlsP3RoaXMuX2FkZGl0aW9uc0hlYWQ9ZTp0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQ9ZSxlfV9pbnNlcnRBZnRlcihlLHQsbil7Y29uc3QgaT1udWxsPT09dD90aGlzLl9pdEhlYWQ6dC5fbmV4dDtyZXR1cm4gZS5fbmV4dD1pLGUuX3ByZXY9dCxudWxsPT09aT90aGlzLl9pdFRhaWw9ZTppLl9wcmV2PWUsbnVsbD09PXQ/dGhpcy5faXRIZWFkPWU6dC5fbmV4dD1lLG51bGw9PT10aGlzLl9saW5rZWRSZWNvcmRzJiYodGhpcy5fbGlua2VkUmVjb3Jkcz1uZXcgbmwpLHRoaXMuX2xpbmtlZFJlY29yZHMucHV0KGUpLGUuY3VycmVudEluZGV4PW4sZX1fcmVtb3ZlKGUpe3JldHVybiB0aGlzLl9hZGRUb1JlbW92YWxzKHRoaXMuX3VubGluayhlKSl9X3VubGluayhlKXtudWxsIT09dGhpcy5fbGlua2VkUmVjb3JkcyYmdGhpcy5fbGlua2VkUmVjb3Jkcy5yZW1vdmUoZSk7Y29uc3QgdD1lLl9wcmV2LG49ZS5fbmV4dDtyZXR1cm4gbnVsbD09PXQ/dGhpcy5faXRIZWFkPW46dC5fbmV4dD1uLG51bGw9PT1uP3RoaXMuX2l0VGFpbD10Om4uX3ByZXY9dCxlfV9hZGRUb01vdmVzKGUsdCl7cmV0dXJuIGUucHJldmlvdXNJbmRleD09PXR8fCh0aGlzLl9tb3Zlc1RhaWw9bnVsbD09PXRoaXMuX21vdmVzVGFpbD90aGlzLl9tb3Zlc0hlYWQ9ZTp0aGlzLl9tb3Zlc1RhaWwuX25leHRNb3ZlZD1lKSxlfV9hZGRUb1JlbW92YWxzKGUpe3JldHVybiBudWxsPT09dGhpcy5fdW5saW5rZWRSZWNvcmRzJiYodGhpcy5fdW5saW5rZWRSZWNvcmRzPW5ldyBubCksdGhpcy5fdW5saW5rZWRSZWNvcmRzLnB1dChlKSxlLmN1cnJlbnRJbmRleD1udWxsLGUuX25leHRSZW1vdmVkPW51bGwsbnVsbD09PXRoaXMuX3JlbW92YWxzVGFpbD8odGhpcy5fcmVtb3ZhbHNUYWlsPXRoaXMuX3JlbW92YWxzSGVhZD1lLGUuX3ByZXZSZW1vdmVkPW51bGwpOihlLl9wcmV2UmVtb3ZlZD10aGlzLl9yZW1vdmFsc1RhaWwsdGhpcy5fcmVtb3ZhbHNUYWlsPXRoaXMuX3JlbW92YWxzVGFpbC5fbmV4dFJlbW92ZWQ9ZSksZX1fYWRkSWRlbnRpdHlDaGFuZ2UoZSx0KXtyZXR1cm4gZS5pdGVtPXQsdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbD1udWxsPT09dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbD90aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkPWU6dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbC5fbmV4dElkZW50aXR5Q2hhbmdlPWUsZX19Y2xhc3MgZWx7Y29uc3RydWN0b3IoZSx0KXt0aGlzLml0ZW09ZSx0aGlzLnRyYWNrQnlJZD10LHRoaXMuY3VycmVudEluZGV4PW51bGwsdGhpcy5wcmV2aW91c0luZGV4PW51bGwsdGhpcy5fbmV4dFByZXZpb3VzPW51bGwsdGhpcy5fcHJldj1udWxsLHRoaXMuX25leHQ9bnVsbCx0aGlzLl9wcmV2RHVwPW51bGwsdGhpcy5fbmV4dER1cD1udWxsLHRoaXMuX3ByZXZSZW1vdmVkPW51bGwsdGhpcy5fbmV4dFJlbW92ZWQ9bnVsbCx0aGlzLl9uZXh0QWRkZWQ9bnVsbCx0aGlzLl9uZXh0TW92ZWQ9bnVsbCx0aGlzLl9uZXh0SWRlbnRpdHlDaGFuZ2U9bnVsbH19Y2xhc3MgdGx7Y29uc3RydWN0b3IoKXt0aGlzLl9oZWFkPW51bGwsdGhpcy5fdGFpbD1udWxsfWFkZChlKXtudWxsPT09dGhpcy5faGVhZD8odGhpcy5faGVhZD10aGlzLl90YWlsPWUsZS5fbmV4dER1cD1udWxsLGUuX3ByZXZEdXA9bnVsbCk6KHRoaXMuX3RhaWwuX25leHREdXA9ZSxlLl9wcmV2RHVwPXRoaXMuX3RhaWwsZS5fbmV4dER1cD1udWxsLHRoaXMuX3RhaWw9ZSl9Z2V0KGUsdCl7bGV0IG47Zm9yKG49dGhpcy5faGVhZDtudWxsIT09bjtuPW4uX25leHREdXApaWYoKG51bGw9PT10fHx0PD1uLmN1cnJlbnRJbmRleCkmJk9iamVjdC5pcyhuLnRyYWNrQnlJZCxlKSlyZXR1cm4gbjtyZXR1cm4gbnVsbH1yZW1vdmUoZSl7Y29uc3QgdD1lLl9wcmV2RHVwLG49ZS5fbmV4dER1cDtyZXR1cm4gbnVsbD09PXQ/dGhpcy5faGVhZD1uOnQuX25leHREdXA9bixudWxsPT09bj90aGlzLl90YWlsPXQ6bi5fcHJldkR1cD10LG51bGw9PT10aGlzLl9oZWFkfX1jbGFzcyBubHtjb25zdHJ1Y3Rvcigpe3RoaXMubWFwPW5ldyBNYXB9cHV0KGUpe2NvbnN0IHQ9ZS50cmFja0J5SWQ7bGV0IG49dGhpcy5tYXAuZ2V0KHQpO258fChuPW5ldyB0bCx0aGlzLm1hcC5zZXQodCxuKSksbi5hZGQoZSl9Z2V0KGUsdCl7Y29uc3Qgbj10aGlzLm1hcC5nZXQoZSk7cmV0dXJuIG4/bi5nZXQoZSx0KTpudWxsfXJlbW92ZShlKXtjb25zdCB0PWUudHJhY2tCeUlkO3JldHVybiB0aGlzLm1hcC5nZXQodCkucmVtb3ZlKGUpJiZ0aGlzLm1hcC5kZWxldGUodCksZX1nZXQgaXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5tYXAuc2l6ZX1jbGVhcigpe3RoaXMubWFwLmNsZWFyKCl9fWZ1bmN0aW9uIGlsKGUsdCxuKXtjb25zdCBpPWUucHJldmlvdXNJbmRleDtpZihudWxsPT09aSlyZXR1cm4gaTtsZXQgcz0wO3JldHVybiBuJiZpPG4ubGVuZ3RoJiYocz1uW2ldKSxpK3Qrc31jbGFzcyBzbHtjb25zdHJ1Y3Rvcigpe31zdXBwb3J0cyhlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE1hcHx8eXIoZSl9Y3JlYXRlKCl7cmV0dXJuIG5ldyBvbH19Y2xhc3Mgb2x7Y29uc3RydWN0b3IoKXt0aGlzLl9yZWNvcmRzPW5ldyBNYXAsdGhpcy5fbWFwSGVhZD1udWxsLHRoaXMuX2FwcGVuZEFmdGVyPW51bGwsdGhpcy5fcHJldmlvdXNNYXBIZWFkPW51bGwsdGhpcy5fY2hhbmdlc0hlYWQ9bnVsbCx0aGlzLl9jaGFuZ2VzVGFpbD1udWxsLHRoaXMuX2FkZGl0aW9uc0hlYWQ9bnVsbCx0aGlzLl9hZGRpdGlvbnNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPW51bGwsdGhpcy5fcmVtb3ZhbHNUYWlsPW51bGx9Z2V0IGlzRGlydHkoKXtyZXR1cm4gbnVsbCE9PXRoaXMuX2FkZGl0aW9uc0hlYWR8fG51bGwhPT10aGlzLl9jaGFuZ2VzSGVhZHx8bnVsbCE9PXRoaXMuX3JlbW92YWxzSGVhZH1mb3JFYWNoSXRlbShlKXtsZXQgdDtmb3IodD10aGlzLl9tYXBIZWFkO251bGwhPT10O3Q9dC5fbmV4dCllKHQpfWZvckVhY2hQcmV2aW91c0l0ZW0oZSl7bGV0IHQ7Zm9yKHQ9dGhpcy5fcHJldmlvdXNNYXBIZWFkO251bGwhPT10O3Q9dC5fbmV4dFByZXZpb3VzKWUodCl9Zm9yRWFjaENoYW5nZWRJdGVtKGUpe2xldCB0O2Zvcih0PXRoaXMuX2NoYW5nZXNIZWFkO251bGwhPT10O3Q9dC5fbmV4dENoYW5nZWQpZSh0KX1mb3JFYWNoQWRkZWRJdGVtKGUpe2xldCB0O2Zvcih0PXRoaXMuX2FkZGl0aW9uc0hlYWQ7bnVsbCE9PXQ7dD10Ll9uZXh0QWRkZWQpZSh0KX1mb3JFYWNoUmVtb3ZlZEl0ZW0oZSl7bGV0IHQ7Zm9yKHQ9dGhpcy5fcmVtb3ZhbHNIZWFkO251bGwhPT10O3Q9dC5fbmV4dFJlbW92ZWQpZSh0KX1kaWZmKGUpe2lmKGUpe2lmKCEoZSBpbnN0YW5jZW9mIE1hcHx8eXIoZSkpKXRocm93IG5ldyBFcnJvcihgRXJyb3IgdHJ5aW5nIHRvIGRpZmYgJyR7dGUoZSl9Jy4gT25seSBtYXBzIGFuZCBvYmplY3RzIGFyZSBhbGxvd2VkYCl9ZWxzZSBlPW5ldyBNYXA7cmV0dXJuIHRoaXMuY2hlY2soZSk/dGhpczpudWxsfW9uRGVzdHJveSgpe31jaGVjayhlKXt0aGlzLl9yZXNldCgpO2xldCB0PXRoaXMuX21hcEhlYWQ7aWYodGhpcy5fYXBwZW5kQWZ0ZXI9bnVsbCx0aGlzLl9mb3JFYWNoKGUsKGUsbik9PntpZih0JiZ0LmtleT09PW4pdGhpcy5fbWF5YmVBZGRUb0NoYW5nZXModCxlKSx0aGlzLl9hcHBlbmRBZnRlcj10LHQ9dC5fbmV4dDtlbHNle2NvbnN0IGk9dGhpcy5fZ2V0T3JDcmVhdGVSZWNvcmRGb3JLZXkobixlKTt0PXRoaXMuX2luc2VydEJlZm9yZU9yQXBwZW5kKHQsaSl9fSksdCl7dC5fcHJldiYmKHQuX3ByZXYuX25leHQ9bnVsbCksdGhpcy5fcmVtb3ZhbHNIZWFkPXQ7Zm9yKGxldCBlPXQ7bnVsbCE9PWU7ZT1lLl9uZXh0UmVtb3ZlZCllPT09dGhpcy5fbWFwSGVhZCYmKHRoaXMuX21hcEhlYWQ9bnVsbCksdGhpcy5fcmVjb3Jkcy5kZWxldGUoZS5rZXkpLGUuX25leHRSZW1vdmVkPWUuX25leHQsZS5wcmV2aW91c1ZhbHVlPWUuY3VycmVudFZhbHVlLGUuY3VycmVudFZhbHVlPW51bGwsZS5fcHJldj1udWxsLGUuX25leHQ9bnVsbH1yZXR1cm4gdGhpcy5fY2hhbmdlc1RhaWwmJih0aGlzLl9jaGFuZ2VzVGFpbC5fbmV4dENoYW5nZWQ9bnVsbCksdGhpcy5fYWRkaXRpb25zVGFpbCYmKHRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZD1udWxsKSx0aGlzLmlzRGlydHl9X2luc2VydEJlZm9yZU9yQXBwZW5kKGUsdCl7aWYoZSl7Y29uc3Qgbj1lLl9wcmV2O3JldHVybiB0Ll9uZXh0PWUsdC5fcHJldj1uLGUuX3ByZXY9dCxuJiYobi5fbmV4dD10KSxlPT09dGhpcy5fbWFwSGVhZCYmKHRoaXMuX21hcEhlYWQ9dCksdGhpcy5fYXBwZW5kQWZ0ZXI9ZSxlfXJldHVybiB0aGlzLl9hcHBlbmRBZnRlcj8odGhpcy5fYXBwZW5kQWZ0ZXIuX25leHQ9dCx0Ll9wcmV2PXRoaXMuX2FwcGVuZEFmdGVyKTp0aGlzLl9tYXBIZWFkPXQsdGhpcy5fYXBwZW5kQWZ0ZXI9dCxudWxsfV9nZXRPckNyZWF0ZVJlY29yZEZvcktleShlLHQpe2lmKHRoaXMuX3JlY29yZHMuaGFzKGUpKXtjb25zdCBuPXRoaXMuX3JlY29yZHMuZ2V0KGUpO3RoaXMuX21heWJlQWRkVG9DaGFuZ2VzKG4sdCk7Y29uc3QgaT1uLl9wcmV2LHM9bi5fbmV4dDtyZXR1cm4gaSYmKGkuX25leHQ9cykscyYmKHMuX3ByZXY9aSksbi5fbmV4dD1udWxsLG4uX3ByZXY9bnVsbCxufWNvbnN0IG49bmV3IHJsKGUpO3JldHVybiB0aGlzLl9yZWNvcmRzLnNldChlLG4pLG4uY3VycmVudFZhbHVlPXQsdGhpcy5fYWRkVG9BZGRpdGlvbnMobiksbn1fcmVzZXQoKXtpZih0aGlzLmlzRGlydHkpe2xldCBlO2Zvcih0aGlzLl9wcmV2aW91c01hcEhlYWQ9dGhpcy5fbWFwSGVhZCxlPXRoaXMuX3ByZXZpb3VzTWFwSGVhZDtudWxsIT09ZTtlPWUuX25leHQpZS5fbmV4dFByZXZpb3VzPWUuX25leHQ7Zm9yKGU9dGhpcy5fY2hhbmdlc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0Q2hhbmdlZCllLnByZXZpb3VzVmFsdWU9ZS5jdXJyZW50VmFsdWU7Zm9yKGU9dGhpcy5fYWRkaXRpb25zSGVhZDtudWxsIT1lO2U9ZS5fbmV4dEFkZGVkKWUucHJldmlvdXNWYWx1ZT1lLmN1cnJlbnRWYWx1ZTt0aGlzLl9jaGFuZ2VzSGVhZD10aGlzLl9jaGFuZ2VzVGFpbD1udWxsLHRoaXMuX2FkZGl0aW9uc0hlYWQ9dGhpcy5fYWRkaXRpb25zVGFpbD1udWxsLHRoaXMuX3JlbW92YWxzSGVhZD1udWxsfX1fbWF5YmVBZGRUb0NoYW5nZXMoZSx0KXtPYmplY3QuaXModCxlLmN1cnJlbnRWYWx1ZSl8fChlLnByZXZpb3VzVmFsdWU9ZS5jdXJyZW50VmFsdWUsZS5jdXJyZW50VmFsdWU9dCx0aGlzLl9hZGRUb0NoYW5nZXMoZSkpfV9hZGRUb0FkZGl0aW9ucyhlKXtudWxsPT09dGhpcy5fYWRkaXRpb25zSGVhZD90aGlzLl9hZGRpdGlvbnNIZWFkPXRoaXMuX2FkZGl0aW9uc1RhaWw9ZToodGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkPWUsdGhpcy5fYWRkaXRpb25zVGFpbD1lKX1fYWRkVG9DaGFuZ2VzKGUpe251bGw9PT10aGlzLl9jaGFuZ2VzSGVhZD90aGlzLl9jaGFuZ2VzSGVhZD10aGlzLl9jaGFuZ2VzVGFpbD1lOih0aGlzLl9jaGFuZ2VzVGFpbC5fbmV4dENoYW5nZWQ9ZSx0aGlzLl9jaGFuZ2VzVGFpbD1lKX1fZm9yRWFjaChlLHQpe2UgaW5zdGFuY2VvZiBNYXA/ZS5mb3JFYWNoKHQpOk9iamVjdC5rZXlzKGUpLmZvckVhY2gobj0+dChlW25dLG4pKX19Y2xhc3Mgcmx7Y29uc3RydWN0b3IoZSl7dGhpcy5rZXk9ZSx0aGlzLnByZXZpb3VzVmFsdWU9bnVsbCx0aGlzLmN1cnJlbnRWYWx1ZT1udWxsLHRoaXMuX25leHRQcmV2aW91cz1udWxsLHRoaXMuX25leHQ9bnVsbCx0aGlzLl9wcmV2PW51bGwsdGhpcy5fbmV4dEFkZGVkPW51bGwsdGhpcy5fbmV4dFJlbW92ZWQ9bnVsbCx0aGlzLl9uZXh0Q2hhbmdlZD1udWxsfX1mdW5jdGlvbiBhbCgpe3JldHVybiBuZXcgbGwoW25ldyBRYV0pfWxldCBsbD0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUpe3RoaXMuZmFjdG9yaWVzPWV9c3RhdGljIGNyZWF0ZSh0LG4pe2lmKG51bGwhPW4pe2NvbnN0IGU9bi5mYWN0b3JpZXMuc2xpY2UoKTt0PXQuY29uY2F0KGUpfXJldHVybiBuZXcgZSh0KX1zdGF0aWMgZXh0ZW5kKHQpe3JldHVybntwcm92aWRlOmUsdXNlRmFjdG9yeTpuPT5lLmNyZWF0ZSh0LG58fGFsKCkpLGRlcHM6W1tlLG5ldyBmaSxuZXcgcGldXX19ZmluZChlKXtjb25zdCB0PXRoaXMuZmFjdG9yaWVzLmZpbmQodD0+dC5zdXBwb3J0cyhlKSk7aWYobnVsbCE9dClyZXR1cm4gdDt0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIGEgZGlmZmVyIHN1cHBvcnRpbmcgb2JqZWN0ICcke2V9JyBvZiB0eXBlICcke249ZSxuLm5hbWV8fHR5cGVvZiBufSdgKTt2YXIgbn19cmV0dXJuIGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxwcm92aWRlZEluOiJyb290IixmYWN0b3J5OmFsfSksZX0pKCk7ZnVuY3Rpb24gY2woKXtyZXR1cm4gbmV3IHVsKFtuZXcgc2xdKX1sZXQgdWw9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmZhY3Rvcmllcz1lfXN0YXRpYyBjcmVhdGUodCxuKXtpZihuKXtjb25zdCBlPW4uZmFjdG9yaWVzLnNsaWNlKCk7dD10LmNvbmNhdChlKX1yZXR1cm4gbmV3IGUodCl9c3RhdGljIGV4dGVuZCh0KXtyZXR1cm57cHJvdmlkZTplLHVzZUZhY3Rvcnk6bj0+ZS5jcmVhdGUodCxufHxjbCgpKSxkZXBzOltbZSxuZXcgZmksbmV3IHBpXV19fWZpbmQoZSl7Y29uc3QgdD10aGlzLmZhY3Rvcmllcy5maW5kKHQ9PnQuc3VwcG9ydHMoZSkpO2lmKHQpcmV0dXJuIHQ7dGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCBhIGRpZmZlciBzdXBwb3J0aW5nIG9iamVjdCAnJHtlfSdgKX19cmV0dXJuIGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxwcm92aWRlZEluOiJyb290IixmYWN0b3J5OmNsfSksZX0pKCk7ZnVuY3Rpb24gaGwoZSx0LG4saSxzPSExKXtmb3IoO251bGwhPT1uOyl7Y29uc3Qgbz10W24uaW5kZXhdO2lmKG51bGwhPT1vJiZpLnB1c2godnQobykpLHR0KG8pKWZvcihsZXQgZT1YZTtlPG8ubGVuZ3RoO2UrKyl7Y29uc3QgdD1vW2VdLG49dFsxXS5maXJzdENoaWxkO251bGwhPT1uJiZobCh0WzFdLHQsbixpKX1jb25zdCByPW4udHlwZTtpZig4JnIpaGwoZSx0LG4uY2hpbGQsaSk7ZWxzZSBpZigzMiZyKXtjb25zdCBlPXVzKG4sdCk7bGV0IHM7Zm9yKDtzPWUoKTspaS5wdXNoKHMpfWVsc2UgaWYoMTYmcil7Y29uc3QgZT1Ucyh0LG4pO2lmKEFycmF5LmlzQXJyYXkoZSkpaS5wdXNoKC4uLmUpO2Vsc2V7Y29uc3Qgbj1ocyh0WzE2XSk7aGwoblsxXSxuLGUsaSwhMCl9fW49cz9uLnByb2plY3Rpb25OZXh0Om4ubmV4dH1yZXR1cm4gaX1jbGFzcyBkbHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX2xWaWV3PWUsdGhpcy5fY2RSZWZJbmplY3RpbmdWaWV3PXQsdGhpcy5fYXBwUmVmPW51bGwsdGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXI9ITF9Z2V0IHJvb3ROb2Rlcygpe2NvbnN0IGU9dGhpcy5fbFZpZXcsdD1lWzFdO3JldHVybiBobCh0LGUsdC5maXJzdENoaWxkLFtdKX1nZXQgY29udGV4dCgpe3JldHVybiB0aGlzLl9sVmlld1s4XX1zZXQgY29udGV4dChlKXt0aGlzLl9sVmlld1s4XT1lfWdldCBkZXN0cm95ZWQoKXtyZXR1cm4gMjU2PT0oMjU2JnRoaXMuX2xWaWV3WzJdKX1kZXN0cm95KCl7aWYodGhpcy5fYXBwUmVmKXRoaXMuX2FwcFJlZi5kZXRhY2hWaWV3KHRoaXMpO2Vsc2UgaWYodGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXIpe2NvbnN0IGU9dGhpcy5fbFZpZXdbM107aWYodHQoZSkpe2NvbnN0IHQ9ZVs4XSxuPXQ/dC5pbmRleE9mKHRoaXMpOi0xO24+LTEmJihicyhlLG4pLFFuKHQsbikpfXRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyPSExfXlzKHRoaXMuX2xWaWV3WzFdLHRoaXMuX2xWaWV3KX1vbkRlc3Ryb3koZSl7Ym8odGhpcy5fbFZpZXdbMV0sdGhpcy5fbFZpZXcsbnVsbCxlKX1tYXJrRm9yQ2hlY2soKXtMbyh0aGlzLl9jZFJlZkluamVjdGluZ1ZpZXd8fHRoaXMuX2xWaWV3KX1kZXRhY2goKXt0aGlzLl9sVmlld1syXSY9LTEyOX1yZWF0dGFjaCgpe3RoaXMuX2xWaWV3WzJdfD0xMjh9ZGV0ZWN0Q2hhbmdlcygpe1JvKHRoaXMuX2xWaWV3WzFdLHRoaXMuX2xWaWV3LHRoaXMuY29udGV4dCl9Y2hlY2tOb0NoYW5nZXMoKXshZnVuY3Rpb24oZSx0LG4pe050KCEwKTt0cnl7Um8oZSx0LG4pfWZpbmFsbHl7TnQoITEpfX0odGhpcy5fbFZpZXdbMV0sdGhpcy5fbFZpZXcsdGhpcy5jb250ZXh0KX1hdHRhY2hUb1ZpZXdDb250YWluZXJSZWYoKXtpZih0aGlzLl9hcHBSZWYpdGhyb3cgbmV3IEVycm9yKCJUaGlzIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGUgQXBwbGljYXRpb25SZWYhIik7dGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXI9ITB9ZGV0YWNoRnJvbUFwcFJlZigpe3ZhciBlO3RoaXMuX2FwcFJlZj1udWxsLE1zKHRoaXMuX2xWaWV3WzFdLGU9dGhpcy5fbFZpZXcsZVsxMV0sMixudWxsLG51bGwpfWF0dGFjaFRvQXBwUmVmKGUpe2lmKHRoaXMuX2F0dGFjaGVkVG9WaWV3Q29udGFpbmVyKXRocm93IG5ldyBFcnJvcigiVGhpcyB2aWV3IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBWaWV3Q29udGFpbmVyISIpO3RoaXMuX2FwcFJlZj1lfX1jbGFzcyBwbCBleHRlbmRzIGRse2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3ZpZXc9ZX1kZXRlY3RDaGFuZ2VzKCl7am8odGhpcy5fdmlldyl9Y2hlY2tOb0NoYW5nZXMoKXshZnVuY3Rpb24oZSl7TnQoITApO3RyeXtqbyhlKX1maW5hbGx5e050KCExKX19KHRoaXMuX3ZpZXcpfWdldCBjb250ZXh0KCl7cmV0dXJuIG51bGx9fWNvbnN0IGZsPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQsbil7aWYoaXQoZSkmJiFuKXtjb25zdCBuPV90KGUuaW5kZXgsdCk7cmV0dXJuIG5ldyBkbChuLG4pfXJldHVybiA0NyZlLnR5cGU/bmV3IGRsKHRbMTZdLHQpOm51bGx9KE10KCksVHQoKSwxNj09KDE2JmUpKX07bGV0IGdsPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLl9fTkdfRUxFTUVOVF9JRF9fPWZsLGV9KSgpO2NvbnN0IG1sPVtuZXcgc2xdLHZsPW5ldyBsbChbbmV3IFFhXSksYmw9bmV3IHVsKG1sKSx5bD1mdW5jdGlvbigpe3JldHVybiBEbChNdCgpLFR0KCkpfTtsZXQgQ2w9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuX19OR19FTEVNRU5UX0lEX189eWwsZX0pKCk7Y29uc3Qgd2w9Q2wsX2w9Y2xhc3MgZXh0ZW5kcyB3bHtjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoKSx0aGlzLl9kZWNsYXJhdGlvbkxWaWV3PWUsdGhpcy5fZGVjbGFyYXRpb25UQ29udGFpbmVyPXQsdGhpcy5lbGVtZW50UmVmPW59Y3JlYXRlRW1iZWRkZWRWaWV3KGUpe2NvbnN0IHQ9dGhpcy5fZGVjbGFyYXRpb25UQ29udGFpbmVyLnRWaWV3cyxuPW9vKHRoaXMuX2RlY2xhcmF0aW9uTFZpZXcsdCxlLDE2LG51bGwsdC5kZWNsVE5vZGUsbnVsbCxudWxsLG51bGwsbnVsbCk7blsxN109dGhpcy5fZGVjbGFyYXRpb25MVmlld1t0aGlzLl9kZWNsYXJhdGlvblRDb250YWluZXIuaW5kZXhdO2NvbnN0IGk9dGhpcy5fZGVjbGFyYXRpb25MVmlld1sxOV07cmV0dXJuIG51bGwhPT1pJiYoblsxOV09aS5jcmVhdGVFbWJlZGRlZFZpZXcodCkpLGxvKHQsbixlKSxuZXcgZGwobil9fTtmdW5jdGlvbiBEbChlLHQpe3JldHVybiA0JmUudHlwZT9uZXcgX2wodCxlLCRhKGUsdCkpOm51bGx9Y2xhc3MgU2x7fWNsYXNzIEVse31jb25zdCBrbD1mdW5jdGlvbigpe3JldHVybiBJbChNdCgpLFR0KCkpfTtsZXQgeGw9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuX19OR19FTEVNRU5UX0lEX189a2wsZX0pKCk7Y29uc3QgQWw9eGwsT2w9Y2xhc3MgZXh0ZW5kcyBBbHtjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoKSx0aGlzLl9sQ29udGFpbmVyPWUsdGhpcy5faG9zdFROb2RlPXQsdGhpcy5faG9zdExWaWV3PW59Z2V0IGVsZW1lbnQoKXtyZXR1cm4gJGEodGhpcy5faG9zdFROb2RlLHRoaXMuX2hvc3RMVmlldyl9Z2V0IGluamVjdG9yKCl7cmV0dXJuIG5ldyBCbih0aGlzLl9ob3N0VE5vZGUsdGhpcy5faG9zdExWaWV3KX1nZXQgcGFyZW50SW5qZWN0b3IoKXtjb25zdCBlPUFuKHRoaXMuX2hvc3RUTm9kZSx0aGlzLl9ob3N0TFZpZXcpO2lmKHluKGUpKXtjb25zdCB0PXduKGUsdGhpcy5faG9zdExWaWV3KSxuPUNuKGUpO3JldHVybiBuZXcgQm4odFsxXS5kYXRhW24rOF0sdCl9cmV0dXJuIG5ldyBCbihudWxsLHRoaXMuX2hvc3RMVmlldyl9Y2xlYXIoKXtmb3IoO3RoaXMubGVuZ3RoPjA7KXRoaXMucmVtb3ZlKHRoaXMubGVuZ3RoLTEpfWdldChlKXtjb25zdCB0PVRsKHRoaXMuX2xDb250YWluZXIpO3JldHVybiBudWxsIT09dCYmdFtlXXx8bnVsbH1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2xDb250YWluZXIubGVuZ3RoLVhlfWNyZWF0ZUVtYmVkZGVkVmlldyhlLHQsbil7Y29uc3QgaT1lLmNyZWF0ZUVtYmVkZGVkVmlldyh0fHx7fSk7cmV0dXJuIHRoaXMuaW5zZXJ0KGksbiksaX1jcmVhdGVDb21wb25lbnQoZSx0LG4saSxzKXtjb25zdCBvPW58fHRoaXMucGFyZW50SW5qZWN0b3I7aWYoIXMmJm51bGw9PWUubmdNb2R1bGUmJm8pe2NvbnN0IGU9by5nZXQoU2wsbnVsbCk7ZSYmKHM9ZSl9Y29uc3Qgcj1lLmNyZWF0ZShvLGksdm9pZCAwLHMpO3JldHVybiB0aGlzLmluc2VydChyLmhvc3RWaWV3LHQpLHJ9aW5zZXJ0KGUsdCl7Y29uc3Qgbj1lLl9sVmlldyxpPW5bMV07aWYodHQoblszXSkpe2NvbnN0IHQ9dGhpcy5pbmRleE9mKGUpO2lmKC0xIT09dCl0aGlzLmRldGFjaCh0KTtlbHNle2NvbnN0IHQ9blszXSxpPW5ldyBPbCh0LHRbNl0sdFszXSk7aS5kZXRhY2goaS5pbmRleE9mKGUpKX19Y29uc3Qgcz10aGlzLl9hZGp1c3RJbmRleCh0KSxvPXRoaXMuX2xDb250YWluZXI7IWZ1bmN0aW9uKGUsdCxuLGkpe2NvbnN0IHM9WGUraSxvPW4ubGVuZ3RoO2k+MCYmKG5bcy0xXVs0XT10KSxpPG8tWGU/KHRbNF09bltzXSxabihuLFhlK2ksdCkpOihuLnB1c2godCksdFs0XT1udWxsKSx0WzNdPW47Y29uc3Qgcj10WzE3XTtudWxsIT09ciYmbiE9PXImJmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1lWzldO3RbMTZdIT09dFszXVszXVsxNl0mJihlWzJdPSEwKSxudWxsPT09bj9lWzldPVt0XTpuLnB1c2godCl9KHIsdCk7Y29uc3QgYT10WzE5XTtudWxsIT09YSYmYS5pbnNlcnRWaWV3KGUpLHRbMl18PTEyOH0oaSxuLG8scyk7Y29uc3Qgcj1GcyhzLG8pLGE9blsxMV0sbD1FcyhhLG9bN10pO3JldHVybiBudWxsIT09bCYmZnVuY3Rpb24oZSx0LG4saSxzLG8pe2lbMF09cyxpWzZdPXQsTXMoZSxpLG4sMSxzLG8pfShpLG9bNl0sYSxuLGwsciksZS5hdHRhY2hUb1ZpZXdDb250YWluZXJSZWYoKSxabihGbChvKSxzLGUpLGV9bW92ZShlLHQpe3JldHVybiB0aGlzLmluc2VydChlLHQpfWluZGV4T2YoZSl7Y29uc3QgdD1UbCh0aGlzLl9sQ29udGFpbmVyKTtyZXR1cm4gbnVsbCE9PXQ/dC5pbmRleE9mKGUpOi0xfXJlbW92ZShlKXtjb25zdCB0PXRoaXMuX2FkanVzdEluZGV4KGUsLTEpLG49YnModGhpcy5fbENvbnRhaW5lcix0KTtuJiYoUW4oRmwodGhpcy5fbENvbnRhaW5lciksdCkseXMoblsxXSxuKSl9ZGV0YWNoKGUpe2NvbnN0IHQ9dGhpcy5fYWRqdXN0SW5kZXgoZSwtMSksbj1icyh0aGlzLl9sQ29udGFpbmVyLHQpO3JldHVybiBuJiZudWxsIT1RbihGbCh0aGlzLl9sQ29udGFpbmVyKSx0KT9uZXcgZGwobik6bnVsbH1fYWRqdXN0SW5kZXgoZSx0PTApe3JldHVybiBudWxsPT1lP3RoaXMubGVuZ3RoK3Q6ZX19O2Z1bmN0aW9uIFRsKGUpe3JldHVybiBlWzhdfWZ1bmN0aW9uIEZsKGUpe3JldHVybiBlWzhdfHwoZVs4XT1bXSl9ZnVuY3Rpb24gSWwoZSx0KXtsZXQgbjtjb25zdCBpPXRbZS5pbmRleF07aWYodHQoaSkpbj1pO2Vsc2V7bGV0IHM7aWYoOCZlLnR5cGUpcz12dChpKTtlbHNle2NvbnN0IG49dFsxMV07cz1uLmNyZWF0ZUNvbW1lbnQoIiIpO2NvbnN0IGk9eXQoZSx0KTtfcyhuLEVzKG4saSkscyxmdW5jdGlvbihlLHQpe3JldHVybiBndChlKT9lLm5leHRTaWJsaW5nKHQpOnQubmV4dFNpYmxpbmd9KG4saSksITEpfXRbZS5pbmRleF09bj1GbyhpLHQscyxlKSxWbyh0LG4pfXJldHVybiBuZXcgT2wobixlLHQpfWNvbnN0IE1sPXt9O2NsYXNzIFBsIGV4dGVuZHMgTmF7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLm5nTW9kdWxlPWV9cmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoZSl7Y29uc3QgdD1aZShlKTtyZXR1cm4gbmV3IFJsKHQsdGhpcy5uZ01vZHVsZSl9fWZ1bmN0aW9uIFZsKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmdC5wdXNoKHtwcm9wTmFtZTplW25dLHRlbXBsYXRlTmFtZTpufSk7cmV0dXJuIHR9Y29uc3QgTGw9bmV3IHpuKCJTQ0hFRFVMRVJfVE9LRU4iLHtwcm92aWRlZEluOiJyb290IixmYWN0b3J5OigpPT5hc30pO2NsYXNzIFJsIGV4dGVuZHMgUmF7Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLHRoaXMuY29tcG9uZW50RGVmPWUsdGhpcy5uZ01vZHVsZT10LHRoaXMuY29tcG9uZW50VHlwZT1lLnR5cGUsdGhpcy5zZWxlY3Rvcj1lLnNlbGVjdG9ycy5tYXAoS3MpLmpvaW4oIiwiKSx0aGlzLm5nQ29udGVudFNlbGVjdG9ycz1lLm5nQ29udGVudFNlbGVjdG9ycz9lLm5nQ29udGVudFNlbGVjdG9yczpbXSx0aGlzLmlzQm91bmRUb01vZHVsZT0hIXR9Z2V0IGlucHV0cygpe3JldHVybiBWbCh0aGlzLmNvbXBvbmVudERlZi5pbnB1dHMpfWdldCBvdXRwdXRzKCl7cmV0dXJuIFZsKHRoaXMuY29tcG9uZW50RGVmLm91dHB1dHMpfWNyZWF0ZShlLHQsbixpKXtjb25zdCBzPShpPWl8fHRoaXMubmdNb2R1bGUpP2Z1bmN0aW9uKGUsdCl7cmV0dXJue2dldDoobixpLHMpPT57Y29uc3Qgbz1lLmdldChuLE1sLHMpO3JldHVybiBvIT09TWx8fGk9PT1NbD9vOnQuZ2V0KG4saSxzKX19fShlLGkuaW5qZWN0b3IpOmUsbz1zLmdldCh6YSxtdCkscj1zLmdldChLYSxudWxsKSxhPW8uY3JlYXRlUmVuZGVyZXIobnVsbCx0aGlzLmNvbXBvbmVudERlZiksbD10aGlzLmNvbXBvbmVudERlZi5zZWxlY3RvcnNbMF1bMF18fCJkaXYiLGM9bj9mdW5jdGlvbihlLHQsbil7aWYoZ3QoZSkpcmV0dXJuIGUuc2VsZWN0Um9vdEVsZW1lbnQodCxuPT09a2UuU2hhZG93RG9tKTtsZXQgaT0ic3RyaW5nIj09dHlwZW9mIHQ/ZS5xdWVyeVNlbGVjdG9yKHQpOnQ7cmV0dXJuIGkudGV4dENvbnRlbnQ9IiIsaX0oYSxuLHRoaXMuY29tcG9uZW50RGVmLmVuY2Fwc3VsYXRpb24pOm1zKG8uY3JlYXRlUmVuZGVyZXIobnVsbCx0aGlzLmNvbXBvbmVudERlZiksbCxmdW5jdGlvbihlKXtjb25zdCB0PWUudG9Mb3dlckNhc2UoKTtyZXR1cm4ic3ZnIj09PXQ/Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjoibWF0aCI9PT10PyJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGhNTC8iOm51bGx9KGwpKSx1PXRoaXMuY29tcG9uZW50RGVmLm9uUHVzaD81NzY6NTI4LGg9e2NvbXBvbmVudHM6W10sc2NoZWR1bGVyOmFzLGNsZWFuOkJvLHBsYXllckhhbmRsZXI6bnVsbCxmbGFnczowfSxkPXZvKDAsbnVsbCxudWxsLDEsMCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwpLHA9b28obnVsbCxkLGgsdSxudWxsLG51bGwsbyxhLHIscyk7bGV0IGYsZztadChwKTt0cnl7Y29uc3QgZT1mdW5jdGlvbihlLHQsbixpLHMsbyl7Y29uc3Qgcj1uWzFdO25bMjBdPWU7Y29uc3QgYT1ybyhyLDIwLDIsIiNob3N0IixudWxsKSxsPWEubWVyZ2VkQXR0cnM9dC5ob3N0QXR0cnM7bnVsbCE9PWwmJihXbyhhLGwsITApLG51bGwhPT1lJiYoZm4ocyxlLGwpLG51bGwhPT1hLmNsYXNzZXMmJkxzKHMsZSxhLmNsYXNzZXMpLG51bGwhPT1hLnN0eWxlcyYmVnMocyxlLGEuc3R5bGVzKSkpO2NvbnN0IGM9aS5jcmVhdGVSZW5kZXJlcihlLHQpLHU9b28obixtbyh0KSxudWxsLHQub25QdXNoPzY0OjE2LG5bMjBdLGEsaSxjLG51bGwsbnVsbCk7cmV0dXJuIHIuZmlyc3RDcmVhdGVQYXNzJiYoT24oRW4oYSxuKSxyLHQudHlwZSksU28ocixhKSxrbyhhLG4ubGVuZ3RoLDEpKSxWbyhuLHUpLG5bMjBdPXV9KGMsdGhpcy5jb21wb25lbnREZWYscCxvLGEpO2lmKGMpaWYobilmbihhLGMsWyJuZy12ZXJzaW9uIixaYS5mdWxsXSk7ZWxzZXtjb25zdHthdHRyczplLGNsYXNzZXM6dH09ZnVuY3Rpb24oZSl7Y29uc3QgdD1bXSxuPVtdO2xldCBpPTEscz0yO2Zvcig7aTxlLmxlbmd0aDspe2xldCBvPWVbaV07aWYoInN0cmluZyI9PXR5cGVvZiBvKTI9PT1zPyIiIT09byYmdC5wdXNoKG8sZVsrK2ldKTo4PT09cyYmbi5wdXNoKG8pO2Vsc2V7aWYoIVVzKHMpKWJyZWFrO3M9b31pKyt9cmV0dXJue2F0dHJzOnQsY2xhc3NlczpufX0odGhpcy5jb21wb25lbnREZWYuc2VsZWN0b3JzWzBdKTtlJiZmbihhLGMsZSksdCYmdC5sZW5ndGg+MCYmTHMoYSxjLHQuam9pbigiICIpKX1pZihnPUN0KGQsSmUpLHZvaWQgMCE9PXQpe2NvbnN0IGU9Zy5wcm9qZWN0aW9uPVtdO2ZvcihsZXQgbj0wO248dGhpcy5uZ0NvbnRlbnRTZWxlY3RvcnMubGVuZ3RoO24rKyl7Y29uc3QgaT10W25dO2UucHVzaChudWxsIT1pP0FycmF5LmZyb20oaSk6bnVsbCl9fWY9ZnVuY3Rpb24oZSx0LG4saSxzKXtjb25zdCBvPW5bMV0scj1mdW5jdGlvbihlLHQsbil7Y29uc3QgaT1NdCgpO2UuZmlyc3RDcmVhdGVQYXNzJiYobi5wcm92aWRlcnNSZXNvbHZlciYmbi5wcm92aWRlcnNSZXNvbHZlcihuKSx4byhlLGksdCxhbyhlLHQsMSxudWxsKSxuKSk7Y29uc3Qgcz1Sbih0LGUsaS5kaXJlY3RpdmVTdGFydCxpKTt0cyhzLHQpO2NvbnN0IG89eXQoaSx0KTtyZXR1cm4gbyYmdHMobyx0KSxzfShvLG4sdCk7aWYoaS5jb21wb25lbnRzLnB1c2gociksZVs4XT1yLHMmJnMuZm9yRWFjaChlPT5lKHIsdCkpLHQuY29udGVudFF1ZXJpZXMpe2NvbnN0IGU9TXQoKTt0LmNvbnRlbnRRdWVyaWVzKDEscixlLmRpcmVjdGl2ZVN0YXJ0KX1jb25zdCBhPU10KCk7cmV0dXJuIW8uZmlyc3RDcmVhdGVQYXNzfHxudWxsPT09dC5ob3N0QmluZGluZ3MmJm51bGw9PT10Lmhvc3RBdHRyc3x8KHNuKGEuaW5kZXgpLF9vKG5bMV0sYSwwLGEuZGlyZWN0aXZlU3RhcnQsYS5kaXJlY3RpdmVFbmQsdCksRG8odCxyKSkscn0oZSx0aGlzLmNvbXBvbmVudERlZixwLGgsW2NyXSksbG8oZCxwLG51bGwpfWZpbmFsbHl7dG4oKX1yZXR1cm4gbmV3IGpsKHRoaXMuY29tcG9uZW50VHlwZSxmLCRhKGcscCkscCxnKX19Y2xhc3MgamwgZXh0ZW5kcyBjbGFzc3t9e2NvbnN0cnVjdG9yKGUsdCxuLGkscyl7c3VwZXIoKSx0aGlzLmxvY2F0aW9uPW4sdGhpcy5fcm9vdExWaWV3PWksdGhpcy5fdE5vZGU9cyx0aGlzLmluc3RhbmNlPXQsdGhpcy5ob3N0Vmlldz10aGlzLmNoYW5nZURldGVjdG9yUmVmPW5ldyBwbChpKSx0aGlzLmNvbXBvbmVudFR5cGU9ZX1nZXQgaW5qZWN0b3IoKXtyZXR1cm4gbmV3IEJuKHRoaXMuX3ROb2RlLHRoaXMuX3Jvb3RMVmlldyl9ZGVzdHJveSgpe3RoaXMuaG9zdFZpZXcuZGVzdHJveSgpfW9uRGVzdHJveShlKXt0aGlzLmhvc3RWaWV3Lm9uRGVzdHJveShlKX19Y29uc3QgTmw9bmV3IE1hcDtjbGFzcyBCbCBleHRlbmRzIFNse2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSx0aGlzLl9wYXJlbnQ9dCx0aGlzLl9ib290c3RyYXBDb21wb25lbnRzPVtdLHRoaXMuaW5qZWN0b3I9dGhpcyx0aGlzLmRlc3Ryb3lDYnM9W10sdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI9bmV3IFBsKHRoaXMpO2NvbnN0IG49UWUoZSksaT1lW2plXXx8bnVsbDtpJiZBYShpKSx0aGlzLl9ib290c3RyYXBDb21wb25lbnRzPWxzKG4uYm9vdHN0cmFwKSx0aGlzLl9yM0luamVjdG9yPWVyKGUsdCxbe3Byb3ZpZGU6U2wsdXNlVmFsdWU6dGhpc30se3Byb3ZpZGU6TmEsdXNlVmFsdWU6dGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXJ9XSx0ZShlKSksdGhpcy5fcjNJbmplY3Rvci5fcmVzb2x2ZUluamVjdG9yRGVmVHlwZXMoKSx0aGlzLmluc3RhbmNlPXRoaXMuZ2V0KGUpfWdldChlLHQ9bHIuVEhST1dfSUZfTk9UX0ZPVU5ELG49Q2UuRGVmYXVsdCl7cmV0dXJuIGU9PT1scnx8ZT09PVNsfHxlPT09R28/dGhpczp0aGlzLl9yM0luamVjdG9yLmdldChlLHQsbil9ZGVzdHJveSgpe2NvbnN0IGU9dGhpcy5fcjNJbmplY3RvcjshZS5kZXN0cm95ZWQmJmUuZGVzdHJveSgpLHRoaXMuZGVzdHJveUNicy5mb3JFYWNoKGU9PmUoKSksdGhpcy5kZXN0cm95Q2JzPW51bGx9b25EZXN0cm95KGUpe3RoaXMuZGVzdHJveUNicy5wdXNoKGUpfX1jbGFzcyAkbCBleHRlbmRzIEVse2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5tb2R1bGVUeXBlPWUsbnVsbCE9PVFlKGUpJiZmdW5jdGlvbihlKXtjb25zdCB0PW5ldyBTZXQ7IWZ1bmN0aW9uIGUobil7Y29uc3QgaT1RZShuLCEwKSxzPWkuaWQ7bnVsbCE9PXMmJihmdW5jdGlvbihlLHQsbil7aWYodCYmdCE9PW4pdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgbW9kdWxlIHJlZ2lzdGVyZWQgZm9yICR7ZX0gLSAke3RlKHQpfSB2cyAke3RlKHQubmFtZSl9YCl9KHMsTmwuZ2V0KHMpLG4pLE5sLnNldChzLG4pKTtjb25zdCBvPWxzKGkuaW1wb3J0cyk7Zm9yKGNvbnN0IHIgb2Ygbyl0LmhhcyhyKXx8KHQuYWRkKHIpLGUocikpfShlKX0oZSl9Y3JlYXRlKGUpe3JldHVybiBuZXcgQmwodGhpcy5tb2R1bGVUeXBlLGUpfX1mdW5jdGlvbiBIbChlLHQsbil7Y29uc3QgaT1CdCgpK2Uscz1UdCgpO3JldHVybiBzW2ldPT09WXM/Q3IocyxpLG4/dC5jYWxsKG4pOnQoKSk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XX0ocyxpKX1mdW5jdGlvbiBVbChlLHQsbixpKXtyZXR1cm4gV2woVHQoKSxCdCgpLGUsdCxuLGkpfWZ1bmN0aW9uIHFsKGUsdCxuLGkscyl7cmV0dXJuIEdsKFR0KCksQnQoKSxlLHQsbixpLHMpfWZ1bmN0aW9uIHpsKGUsdCl7Y29uc3Qgbj1lW3RdO3JldHVybiBuPT09WXM/dm9pZCAwOm59ZnVuY3Rpb24gV2woZSx0LG4saSxzLG8pe2NvbnN0IHI9dCtuO3JldHVybiB3cihlLHIscyk/Q3IoZSxyKzEsbz9pLmNhbGwobyxzKTppKHMpKTp6bChlLHIrMSl9ZnVuY3Rpb24gR2woZSx0LG4saSxzLG8scil7Y29uc3QgYT10K247cmV0dXJuIF9yKGUsYSxzLG8pP0NyKGUsYSsyLHI/aS5jYWxsKHIscyxvKTppKHMsbykpOnpsKGUsYSsyKX1mdW5jdGlvbiBLbChlLHQpe2NvbnN0IG49RnQoKTtsZXQgaTtjb25zdCBzPWUrSmU7bi5maXJzdENyZWF0ZVBhc3M/KGk9ZnVuY3Rpb24oZSx0KXtpZih0KWZvcihsZXQgbj10Lmxlbmd0aC0xO24+PTA7bi0tKXtjb25zdCBpPXRbbl07aWYoZT09PWkubmFtZSlyZXR1cm4gaX10aHJvdyBuZXcgYWUoIjMwMiIsYFRoZSBwaXBlICcke2V9JyBjb3VsZCBub3QgYmUgZm91bmQhYCl9KHQsbi5waXBlUmVnaXN0cnkpLG4uZGF0YVtzXT1pLGkub25EZXN0cm95JiYobi5kZXN0cm95SG9va3N8fChuLmRlc3Ryb3lIb29rcz1bXSkpLnB1c2gocyxpLm9uRGVzdHJveSkpOmk9bi5kYXRhW3NdO2NvbnN0IG89aS5mYWN0b3J5fHwoaS5mYWN0b3J5PXJ0KGkudHlwZSkpLHI9X2UoQXIpO3RyeXtjb25zdCBlPURuKCExKSx0PW8oKTtyZXR1cm4gRG4oZSksZnVuY3Rpb24oZSx0LG4saSl7bj49ZS5kYXRhLmxlbmd0aCYmKGUuZGF0YVtuXT1udWxsLGUuYmx1ZXByaW50W25dPW51bGwpLHRbbl09aX0obixUdCgpLHMsdCksdH1maW5hbGx5e19lKHIpfX1mdW5jdGlvbiBZbChlLHQsbixpKXtjb25zdCBzPWUrSmUsbz1UdCgpLHI9d3QobyxzKTtyZXR1cm4gSmwobyxRbChvLHMpP0dsKG8sQnQoKSx0LHIudHJhbnNmb3JtLG4saSxyKTpyLnRyYW5zZm9ybShuLGkpKX1mdW5jdGlvbiBabChlLHQsbixpLHMsbyl7Y29uc3Qgcj1lK0plLGE9VHQoKSxsPXd0KGEscik7cmV0dXJuIEpsKGEsUWwoYSxyKT9mdW5jdGlvbihlLHQsbixpLHMsbyxyLGEsbCl7Y29uc3QgYz10K247cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLGkscyxvKXtjb25zdCByPV9yKGUsdCxuLGkpO3JldHVybiBfcihlLHQrMixzLG8pfHxyfShlLGMscyxvLHIsYSk/Q3IoZSxjKzQsbD9pLmNhbGwobCxzLG8scixhKTppKHMsbyxyLGEpKTp6bChlLGMrNCl9KGEsQnQoKSx0LGwudHJhbnNmb3JtLG4saSxzLG8sbCk6bC50cmFuc2Zvcm0obixpLHMsbykpfWZ1bmN0aW9uIFFsKGUsdCl7cmV0dXJuIGVbMV0uZGF0YVt0XS5wdXJlfWZ1bmN0aW9uIEpsKGUsdCl7cmV0dXJuIHZyLmlzV3JhcHBlZCh0KSYmKHQ9dnIudW53cmFwKHQpLGVbJHQoKV09WXMpLHR9ZnVuY3Rpb24gWGwoZSl7cmV0dXJuIHQ9PntzZXRUaW1lb3V0KGUsdm9pZCAwLHQpfX1jb25zdCBlYz1jbGFzcyBleHRlbmRzIER7Y29uc3RydWN0b3IoZT0hMSl7c3VwZXIoKSx0aGlzLl9faXNBc3luYz1lfWVtaXQoZSl7c3VwZXIubmV4dChlKX1zdWJzY3JpYmUoZSx0LG4pe3ZhciBpLHMsbztsZXQgcj1lLGE9dHx8KCgpPT5udWxsKSxsPW47aWYoZSYmIm9iamVjdCI9PXR5cGVvZiBlKXtjb25zdCB0PWU7cj1udWxsPT09KGk9dC5uZXh0KXx8dm9pZCAwPT09aT92b2lkIDA6aS5iaW5kKHQpLGE9bnVsbD09PShzPXQuZXJyb3IpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmJpbmQodCksbD1udWxsPT09KG89dC5jb21wbGV0ZSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uYmluZCh0KX10aGlzLl9faXNBc3luYyYmKGE9WGwoYSksciYmKHI9WGwocikpLGwmJihsPVhsKGwpKSk7Y29uc3QgYz1zdXBlci5zdWJzY3JpYmUoe25leHQ6cixlcnJvcjphLGNvbXBsZXRlOmx9KTtyZXR1cm4gZSBpbnN0YW5jZW9mIGgmJmUuYWRkKGMpLGN9fTtmdW5jdGlvbiB0Yygpe3JldHVybiB0aGlzLl9yZXN1bHRzW21yKCldKCl9Y2xhc3MgbmN7Y29uc3RydWN0b3IoZT0hMSl7dGhpcy5fZW1pdERpc3RpbmN0Q2hhbmdlc09ubHk9ZSx0aGlzLmRpcnR5PSEwLHRoaXMuX3Jlc3VsdHM9W10sdGhpcy5fY2hhbmdlc0RldGVjdGVkPSExLHRoaXMuX2NoYW5nZXM9bnVsbCx0aGlzLmxlbmd0aD0wLHRoaXMuZmlyc3Q9dm9pZCAwLHRoaXMubGFzdD12b2lkIDA7Y29uc3QgdD1tcigpLG49bmMucHJvdG90eXBlO25bdF18fChuW3RdPXRjKX1nZXQgY2hhbmdlcygpe3JldHVybiB0aGlzLl9jaGFuZ2VzfHwodGhpcy5fY2hhbmdlcz1uZXcgZWMpfWdldChlKXtyZXR1cm4gdGhpcy5fcmVzdWx0c1tlXX1tYXAoZSl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMubWFwKGUpfWZpbHRlcihlKXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5maWx0ZXIoZSl9ZmluZChlKXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5maW5kKGUpfXJlZHVjZShlLHQpe3JldHVybiB0aGlzLl9yZXN1bHRzLnJlZHVjZShlLHQpfWZvckVhY2goZSl7dGhpcy5fcmVzdWx0cy5mb3JFYWNoKGUpfXNvbWUoZSl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMuc29tZShlKX10b0FycmF5KCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMuc2xpY2UoKX10b1N0cmluZygpe3JldHVybiB0aGlzLl9yZXN1bHRzLnRvU3RyaW5nKCl9cmVzZXQoZSx0KXtjb25zdCBuPXRoaXM7bi5kaXJ0eT0hMTtjb25zdCBpPUtuKGUpOyh0aGlzLl9jaGFuZ2VzRGV0ZWN0ZWQ9IWZ1bmN0aW9uKGUsdCxuKXtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtsZXQgcz1lW2ldLG89dFtpXTtpZihuJiYocz1uKHMpLG89bihvKSksbyE9PXMpcmV0dXJuITF9cmV0dXJuITB9KG4uX3Jlc3VsdHMsaSx0KSkmJihuLl9yZXN1bHRzPWksbi5sZW5ndGg9aS5sZW5ndGgsbi5sYXN0PWlbdGhpcy5sZW5ndGgtMV0sbi5maXJzdD1pWzBdKX1ub3RpZnlPbkNoYW5nZXMoKXshdGhpcy5fY2hhbmdlc3x8IXRoaXMuX2NoYW5nZXNEZXRlY3RlZCYmdGhpcy5fZW1pdERpc3RpbmN0Q2hhbmdlc09ubHl8fHRoaXMuX2NoYW5nZXMuZW1pdCh0aGlzKX1zZXREaXJ0eSgpe3RoaXMuZGlydHk9ITB9ZGVzdHJveSgpe3RoaXMuY2hhbmdlcy5jb21wbGV0ZSgpLHRoaXMuY2hhbmdlcy51bnN1YnNjcmliZSgpfX1jbGFzcyBpY3tjb25zdHJ1Y3RvcihlKXt0aGlzLnF1ZXJ5TGlzdD1lLHRoaXMubWF0Y2hlcz1udWxsfWNsb25lKCl7cmV0dXJuIG5ldyBpYyh0aGlzLnF1ZXJ5TGlzdCl9c2V0RGlydHkoKXt0aGlzLnF1ZXJ5TGlzdC5zZXREaXJ0eSgpfX1jbGFzcyBzY3tjb25zdHJ1Y3RvcihlPVtdKXt0aGlzLnF1ZXJpZXM9ZX1jcmVhdGVFbWJlZGRlZFZpZXcoZSl7Y29uc3QgdD1lLnF1ZXJpZXM7aWYobnVsbCE9PXQpe2NvbnN0IG49bnVsbCE9PWUuY29udGVudFF1ZXJpZXM/ZS5jb250ZW50UXVlcmllc1swXTp0Lmxlbmd0aCxpPVtdO2ZvcihsZXQgZT0wO2U8bjtlKyspe2NvbnN0IG49dC5nZXRCeUluZGV4KGUpO2kucHVzaCh0aGlzLnF1ZXJpZXNbbi5pbmRleEluRGVjbGFyYXRpb25WaWV3XS5jbG9uZSgpKX1yZXR1cm4gbmV3IHNjKGkpfXJldHVybiBudWxsfWluc2VydFZpZXcoZSl7dGhpcy5kaXJ0eVF1ZXJpZXNXaXRoTWF0Y2hlcyhlKX1kZXRhY2hWaWV3KGUpe3RoaXMuZGlydHlRdWVyaWVzV2l0aE1hdGNoZXMoZSl9ZGlydHlRdWVyaWVzV2l0aE1hdGNoZXMoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnF1ZXJpZXMubGVuZ3RoO3QrKyludWxsIT09YmMoZSx0KS5tYXRjaGVzJiZ0aGlzLnF1ZXJpZXNbdF0uc2V0RGlydHkoKX19Y2xhc3Mgb2N7Y29uc3RydWN0b3IoZSx0LG49bnVsbCl7dGhpcy5wcmVkaWNhdGU9ZSx0aGlzLmZsYWdzPXQsdGhpcy5yZWFkPW59fWNsYXNzIHJje2NvbnN0cnVjdG9yKGU9W10pe3RoaXMucXVlcmllcz1lfWVsZW1lbnRTdGFydChlLHQpe2ZvcihsZXQgbj0wO248dGhpcy5xdWVyaWVzLmxlbmd0aDtuKyspdGhpcy5xdWVyaWVzW25dLmVsZW1lbnRTdGFydChlLHQpfWVsZW1lbnRFbmQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnF1ZXJpZXMubGVuZ3RoO3QrKyl0aGlzLnF1ZXJpZXNbdF0uZWxlbWVudEVuZChlKX1lbWJlZGRlZFRWaWV3KGUpe2xldCB0PW51bGw7Zm9yKGxldCBuPTA7bjx0aGlzLmxlbmd0aDtuKyspe2NvbnN0IGk9bnVsbCE9PXQ/dC5sZW5ndGg6MCxzPXRoaXMuZ2V0QnlJbmRleChuKS5lbWJlZGRlZFRWaWV3KGUsaSk7cyYmKHMuaW5kZXhJbkRlY2xhcmF0aW9uVmlldz1uLG51bGwhPT10P3QucHVzaChzKTp0PVtzXSl9cmV0dXJuIG51bGwhPT10P25ldyByYyh0KTpudWxsfXRlbXBsYXRlKGUsdCl7Zm9yKGxldCBuPTA7bjx0aGlzLnF1ZXJpZXMubGVuZ3RoO24rKyl0aGlzLnF1ZXJpZXNbbl0udGVtcGxhdGUoZSx0KX1nZXRCeUluZGV4KGUpe3JldHVybiB0aGlzLnF1ZXJpZXNbZV19Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLnF1ZXJpZXMubGVuZ3RofXRyYWNrKGUpe3RoaXMucXVlcmllcy5wdXNoKGUpfX1jbGFzcyBhY3tjb25zdHJ1Y3RvcihlLHQ9LTEpe3RoaXMubWV0YWRhdGE9ZSx0aGlzLm1hdGNoZXM9bnVsbCx0aGlzLmluZGV4SW5EZWNsYXJhdGlvblZpZXc9LTEsdGhpcy5jcm9zc2VzTmdUZW1wbGF0ZT0hMSx0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZT0hMCx0aGlzLl9kZWNsYXJhdGlvbk5vZGVJbmRleD10fWVsZW1lbnRTdGFydChlLHQpe3RoaXMuaXNBcHBseWluZ1RvTm9kZSh0KSYmdGhpcy5tYXRjaFROb2RlKGUsdCl9ZWxlbWVudEVuZChlKXt0aGlzLl9kZWNsYXJhdGlvbk5vZGVJbmRleD09PWUuaW5kZXgmJih0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZT0hMSl9dGVtcGxhdGUoZSx0KXt0aGlzLmVsZW1lbnRTdGFydChlLHQpfWVtYmVkZGVkVFZpZXcoZSx0KXtyZXR1cm4gdGhpcy5pc0FwcGx5aW5nVG9Ob2RlKGUpPyh0aGlzLmNyb3NzZXNOZ1RlbXBsYXRlPSEwLHRoaXMuYWRkTWF0Y2goLWUuaW5kZXgsdCksbmV3IGFjKHRoaXMubWV0YWRhdGEpKTpudWxsfWlzQXBwbHlpbmdUb05vZGUoZSl7aWYodGhpcy5fYXBwbGllc1RvTmV4dE5vZGUmJjEhPSgxJnRoaXMubWV0YWRhdGEuZmxhZ3MpKXtjb25zdCB0PXRoaXMuX2RlY2xhcmF0aW9uTm9kZUluZGV4O2xldCBuPWUucGFyZW50O2Zvcig7bnVsbCE9PW4mJjgmbi50eXBlJiZuLmluZGV4IT09dDspbj1uLnBhcmVudDtyZXR1cm4gdD09PShudWxsIT09bj9uLmluZGV4Oi0xKX1yZXR1cm4gdGhpcy5fYXBwbGllc1RvTmV4dE5vZGV9bWF0Y2hUTm9kZShlLHQpe2NvbnN0IG49dGhpcy5tZXRhZGF0YS5wcmVkaWNhdGU7aWYoQXJyYXkuaXNBcnJheShuKSlmb3IobGV0IGk9MDtpPG4ubGVuZ3RoO2krKyl7Y29uc3Qgcz1uW2ldO3RoaXMubWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKGUsdCxsYyh0LHMpKSx0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbihlLHQsTG4odCxlLHMsITEsITEpKX1lbHNlIG49PT1DbD80JnQudHlwZSYmdGhpcy5tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24oZSx0LC0xKTp0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbihlLHQsTG4odCxlLG4sITEsITEpKX1tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24oZSx0LG4pe2lmKG51bGwhPT1uKXtjb25zdCBpPXRoaXMubWV0YWRhdGEucmVhZDtpZihudWxsIT09aSlpZihpPT09VWF8fGk9PT14bHx8aT09PUNsJiY0JnQudHlwZSl0aGlzLmFkZE1hdGNoKHQuaW5kZXgsLTIpO2Vsc2V7Y29uc3Qgbj1Mbih0LGUsaSwhMSwhMSk7bnVsbCE9PW4mJnRoaXMuYWRkTWF0Y2godC5pbmRleCxuKX1lbHNlIHRoaXMuYWRkTWF0Y2godC5pbmRleCxuKX19YWRkTWF0Y2goZSx0KXtudWxsPT09dGhpcy5tYXRjaGVzP3RoaXMubWF0Y2hlcz1bZSx0XTp0aGlzLm1hdGNoZXMucHVzaChlLHQpfX1mdW5jdGlvbiBsYyhlLHQpe2NvbnN0IG49ZS5sb2NhbE5hbWVzO2lmKG51bGwhPT1uKWZvcihsZXQgaT0wO2k8bi5sZW5ndGg7aSs9MilpZihuW2ldPT09dClyZXR1cm4gbltpKzFdO3JldHVybiBudWxsfWZ1bmN0aW9uIGNjKGUsdCxuLGkpe3JldHVybi0xPT09bj9mdW5jdGlvbihlLHQpe3JldHVybiAxMSZlLnR5cGU/JGEoZSx0KTo0JmUudHlwZT9EbChlLHQpOm51bGx9KHQsZSk6LTI9PT1uP2Z1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbj09PVVhPyRhKHQsZSk6bj09PUNsP0RsKHQsZSk6bj09PXhsP0lsKHQsZSk6dm9pZCAwfShlLHQsaSk6Um4oZSxlWzFdLG4sdCl9ZnVuY3Rpb24gdWMoZSx0LG4saSl7Y29uc3Qgcz10WzE5XS5xdWVyaWVzW2ldO2lmKG51bGw9PT1zLm1hdGNoZXMpe2NvbnN0IGk9ZS5kYXRhLG89bi5tYXRjaGVzLHI9W107Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDtlKz0yKXtjb25zdCBzPW9bZV07ci5wdXNoKHM8MD9udWxsOmNjKHQsaVtzXSxvW2UrMV0sbi5tZXRhZGF0YS5yZWFkKSl9cy5tYXRjaGVzPXJ9cmV0dXJuIHMubWF0Y2hlc31mdW5jdGlvbiBoYyhlLHQsbixpKXtjb25zdCBzPWUucXVlcmllcy5nZXRCeUluZGV4KG4pLG89cy5tYXRjaGVzO2lmKG51bGwhPT1vKXtjb25zdCByPXVjKGUsdCxzLG4pO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSs9Mil7Y29uc3Qgbj1vW2VdO2lmKG4+MClpLnB1c2gocltlLzJdKTtlbHNle2NvbnN0IHM9b1tlKzFdLHI9dFstbl07Zm9yKGxldCBlPVhlO2U8ci5sZW5ndGg7ZSsrKXtjb25zdCB0PXJbZV07dFsxN109PT10WzNdJiZoYyh0WzFdLHQscyxpKX1pZihudWxsIT09cls5XSl7Y29uc3QgZT1yWzldO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBuPWVbdF07aGMoblsxXSxuLHMsaSl9fX19fXJldHVybiBpfWZ1bmN0aW9uIGRjKGUpe2NvbnN0IHQ9VHQoKSxuPUZ0KCksaT1XdCgpO0d0KGkrMSk7Y29uc3Qgcz1iYyhuLGkpO2lmKGUuZGlydHkmJkR0KHQpPT09KDI9PSgyJnMubWV0YWRhdGEuZmxhZ3MpKSl7aWYobnVsbD09PXMubWF0Y2hlcyllLnJlc2V0KFtdKTtlbHNle2NvbnN0IG89cy5jcm9zc2VzTmdUZW1wbGF0ZT9oYyhuLHQsaSxbXSk6dWMobix0LHMsaSk7ZS5yZXNldChvLHFhKSxlLm5vdGlmeU9uQ2hhbmdlcygpfXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIHBjKGUsdCxuKXtjb25zdCBpPUZ0KCk7aS5maXJzdENyZWF0ZVBhc3MmJih2YyhpLG5ldyBvYyhlLHQsbiksLTEpLDI9PSgyJnQpJiYoaS5zdGF0aWNWaWV3UXVlcmllcz0hMCkpLG1jKGksVHQoKSx0KX1mdW5jdGlvbiBmYyhlLHQsbixpKXtjb25zdCBzPUZ0KCk7aWYocy5maXJzdENyZWF0ZVBhc3Mpe2NvbnN0IG89TXQoKTt2YyhzLG5ldyBvYyh0LG4saSksby5pbmRleCksZnVuY3Rpb24oZSx0KXtjb25zdCBuPWUuY29udGVudFF1ZXJpZXN8fChlLmNvbnRlbnRRdWVyaWVzPVtdKTt0IT09KG4ubGVuZ3RoP25bbi5sZW5ndGgtMV06LTEpJiZuLnB1c2goZS5xdWVyaWVzLmxlbmd0aC0xLHQpfShzLGUpLDI9PSgyJm4pJiYocy5zdGF0aWNDb250ZW50UXVlcmllcz0hMCl9bWMocyxUdCgpLG4pfWZ1bmN0aW9uIGdjKCl7cmV0dXJuIGU9VHQoKSx0PVd0KCksZVsxOV0ucXVlcmllc1t0XS5xdWVyeUxpc3Q7dmFyIGUsdH1mdW5jdGlvbiBtYyhlLHQsbil7Y29uc3QgaT1uZXcgbmMoND09KDQmbikpO2JvKGUsdCxpLGkuZGVzdHJveSksbnVsbD09PXRbMTldJiYodFsxOV09bmV3IHNjKSx0WzE5XS5xdWVyaWVzLnB1c2gobmV3IGljKGkpKX1mdW5jdGlvbiB2YyhlLHQsbil7bnVsbD09PWUucXVlcmllcyYmKGUucXVlcmllcz1uZXcgcmMpLGUucXVlcmllcy50cmFjayhuZXcgYWModCxuKSl9ZnVuY3Rpb24gYmMoZSx0KXtyZXR1cm4gZS5xdWVyaWVzLmdldEJ5SW5kZXgodCl9ZnVuY3Rpb24geWMoZSx0KXtyZXR1cm4gRGwoZSx0KX1jb25zdCBDYz1uZXcgem4oIkFwcGxpY2F0aW9uIEluaXRpYWxpemVyIik7bGV0IHdjPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSl7dGhpcy5hcHBJbml0cz1lLHRoaXMucmVzb2x2ZT1CYSx0aGlzLnJlamVjdD1CYSx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuZG9uZT0hMSx0aGlzLmRvbmVQcm9taXNlPW5ldyBQcm9taXNlKChlLHQpPT57dGhpcy5yZXNvbHZlPWUsdGhpcy5yZWplY3Q9dH0pfXJ1bkluaXRpYWxpemVycygpe2lmKHRoaXMuaW5pdGlhbGl6ZWQpcmV0dXJuO2NvbnN0IGU9W10sdD0oKT0+e3RoaXMuZG9uZT0hMCx0aGlzLnJlc29sdmUoKX07aWYodGhpcy5hcHBJbml0cylmb3IobGV0IG49MDtuPHRoaXMuYXBwSW5pdHMubGVuZ3RoO24rKyl7Y29uc3QgdD10aGlzLmFwcEluaXRzW25dKCk7aWYoanIodCkpZS5wdXNoKHQpO2Vsc2UgaWYoTnIodCkpe2NvbnN0IG49bmV3IFByb21pc2UoKGUsbik9Pnt0LnN1YnNjcmliZSh7Y29tcGxldGU6ZSxlcnJvcjpufSl9KTtlLnB1c2gobil9fVByb21pc2UuYWxsKGUpLnRoZW4oKCk9Pnt0KCl9KS5jYXRjaChlPT57dGhpcy5yZWplY3QoZSl9KSwwPT09ZS5sZW5ndGgmJnQoKSx0aGlzLmluaXRpYWxpemVkPSEwfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaShDYyw4KSl9LGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxmYWN0b3J5OmUuXHUwMjc1ZmFjfSksZX0pKCk7Y29uc3QgX2M9bmV3IHpuKCJBcHBJZCIpLERjPXtwcm92aWRlOl9jLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm5gJHtTYygpfSR7U2MoKX0ke1NjKCl9YH0sZGVwczpbXX07ZnVuY3Rpb24gU2MoKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg5NytNYXRoLmZsb29yKDI1Kk1hdGgucmFuZG9tKCkpKX1jb25zdCBFYz1uZXcgem4oIlBsYXRmb3JtIEluaXRpYWxpemVyIiksa2M9bmV3IHpuKCJQbGF0Zm9ybSBJRCIpLHhjPW5ldyB6bigiYXBwQm9vdHN0cmFwTGlzdGVuZXIiKTtsZXQgQWM9KCgpPT57Y2xhc3MgZXtsb2coZSl7Y29uc29sZS5sb2coZSl9d2FybihlKXtjb25zb2xlLndhcm4oZSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpO2NvbnN0IE9jPW5ldyB6bigiTG9jYWxlSWQiKSxUYz1uZXcgem4oIkRlZmF1bHRDdXJyZW5jeUNvZGUiKTtjbGFzcyBGY3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMubmdNb2R1bGVGYWN0b3J5PWUsdGhpcy5jb21wb25lbnRGYWN0b3JpZXM9dH19Y29uc3QgSWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyAkbChlKX0sTWM9SWMsUGM9ZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShJYyhlKSl9LFZjPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9SWMoZSksbj1scyhRZShlKS5kZWNsYXJhdGlvbnMpLnJlZHVjZSgoZSx0KT0+e2NvbnN0IG49WmUodCk7cmV0dXJuIG4mJmUucHVzaChuZXcgUmwobikpLGV9LFtdKTtyZXR1cm4gbmV3IEZjKHQsbil9LExjPVZjLFJjPWZ1bmN0aW9uKGUpe3JldHVybiBQcm9taXNlLnJlc29sdmUoVmMoZSkpfTtsZXQgamM9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuY29tcGlsZU1vZHVsZVN5bmM9TWMsdGhpcy5jb21waWxlTW9kdWxlQXN5bmM9UGMsdGhpcy5jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c1N5bmM9TGMsdGhpcy5jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c0FzeW5jPVJjfWNsZWFyQ2FjaGUoKXt9Y2xlYXJDYWNoZUZvcihlKXt9Z2V0TW9kdWxlSWQoZSl7fX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVwcm92PWhlKHt0b2tlbjplLGZhY3Rvcnk6ZS5cdTAyNzVmYWN9KSxlfSkoKTtjb25zdCBOYz0oKCk9PlByb21pc2UucmVzb2x2ZSgwKSkoKTtmdW5jdGlvbiBCYyhlKXsidW5kZWZpbmVkIj09dHlwZW9mIFpvbmU/TmMudGhlbigoKT0+e2UmJmUuYXBwbHkobnVsbCxudWxsKX0pOlpvbmUuY3VycmVudC5zY2hlZHVsZU1pY3JvVGFzaygic2NoZWR1bGVNaWNyb3Rhc2siLGUpfWNsYXNzICRje2NvbnN0cnVjdG9yKHtlbmFibGVMb25nU3RhY2tUcmFjZTplPSExLHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb246dD0hMSxzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbjpuPSExfSl7aWYodGhpcy5oYXNQZW5kaW5nTWFjcm90YXNrcz0hMSx0aGlzLmhhc1BlbmRpbmdNaWNyb3Rhc2tzPSExLHRoaXMuaXNTdGFibGU9ITAsdGhpcy5vblVuc3RhYmxlPW5ldyBlYyghMSksdGhpcy5vbk1pY3JvdGFza0VtcHR5PW5ldyBlYyghMSksdGhpcy5vblN0YWJsZT1uZXcgZWMoITEpLHRoaXMub25FcnJvcj1uZXcgZWMoITEpLCJ1bmRlZmluZWQiPT10eXBlb2YgWm9uZSl0aHJvdyBuZXcgRXJyb3IoIkluIHRoaXMgY29uZmlndXJhdGlvbiBBbmd1bGFyIHJlcXVpcmVzIFpvbmUuanMiKTtab25lLmFzc2VydFpvbmVQYXRjaGVkKCk7Y29uc3QgaT10aGlzO2kuX25lc3Rpbmc9MCxpLl9vdXRlcj1pLl9pbm5lcj1ab25lLmN1cnJlbnQsWm9uZS5UYXNrVHJhY2tpbmdab25lU3BlYyYmKGkuX2lubmVyPWkuX2lubmVyLmZvcmsobmV3IFpvbmUuVGFza1RyYWNraW5nWm9uZVNwZWMpKSxlJiZab25lLmxvbmdTdGFja1RyYWNlWm9uZVNwZWMmJihpLl9pbm5lcj1pLl9pbm5lci5mb3JrKFpvbmUubG9uZ1N0YWNrVHJhY2Vab25lU3BlYykpLGkuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbj0hbiYmdCxpLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uPW4saS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQ9LTEsaS5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtsZXQgZT1GZS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsdD1GZS5jYW5jZWxBbmltYXRpb25GcmFtZTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFpvbmUmJmUmJnQpe2NvbnN0IG49ZVtab25lLl9fc3ltYm9sX18oIk9yaWdpbmFsRGVsZWdhdGUiKV07biYmKGU9bik7Y29uc3QgaT10W1pvbmUuX19zeW1ib2xfXygiT3JpZ2luYWxEZWxlZ2F0ZSIpXTtpJiYodD1pKX1yZXR1cm57bmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lOmUsbmF0aXZlQ2FuY2VsQW5pbWF0aW9uRnJhbWU6dH19KCkubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lLGZ1bmN0aW9uKGUpe2NvbnN0IHQ9KCk9PnshZnVuY3Rpb24oZSl7ZS5pc0NoZWNrU3RhYmxlUnVubmluZ3x8LTEhPT1lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZHx8KGUubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkPWUubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lLmNhbGwoRmUsKCk9PntlLmZha2VUb3BFdmVudFRhc2t8fChlLmZha2VUb3BFdmVudFRhc2s9Wm9uZS5yb290LnNjaGVkdWxlRXZlbnRUYXNrKCJmYWtlVG9wRXZlbnRUYXNrIiwoKT0+e2UubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkPS0xLHFjKGUpLGUuaXNDaGVja1N0YWJsZVJ1bm5pbmc9ITAsVWMoZSksZS5pc0NoZWNrU3RhYmxlUnVubmluZz0hMX0sdm9pZCAwLCgpPT57fSwoKT0+e30pKSxlLmZha2VUb3BFdmVudFRhc2suaW52b2tlKCl9KSxxYyhlKSl9KGUpfTtlLl9pbm5lcj1lLl9pbm5lci5mb3JrKHtuYW1lOiJhbmd1bGFyIixwcm9wZXJ0aWVzOntpc0FuZ3VsYXJab25lOiEwfSxvbkludm9rZVRhc2s6KG4saSxzLG8scixhKT0+e3RyeXtyZXR1cm4gemMoZSksbi5pbnZva2VUYXNrKHMsbyxyLGEpfWZpbmFsbHl7KGUuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiYmImV2ZW50VGFzayI9PT1vLnR5cGV8fGUuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24pJiZ0KCksV2MoZSl9fSxvbkludm9rZToobixpLHMsbyxyLGEsbCk9Pnt0cnl7cmV0dXJuIHpjKGUpLG4uaW52b2tlKHMsbyxyLGEsbCl9ZmluYWxseXtlLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uJiZ0KCksV2MoZSl9fSxvbkhhc1Rhc2s6KHQsbixpLHMpPT57dC5oYXNUYXNrKGkscyksbj09PWkmJigibWljcm9UYXNrIj09cy5jaGFuZ2U/KGUuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzPXMubWljcm9UYXNrLHFjKGUpLFVjKGUpKToibWFjcm9UYXNrIj09cy5jaGFuZ2UmJihlLmhhc1BlbmRpbmdNYWNyb3Rhc2tzPXMubWFjcm9UYXNrKSl9LG9uSGFuZGxlRXJyb3I6KHQsbixpLHMpPT4odC5oYW5kbGVFcnJvcihpLHMpLGUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PmUub25FcnJvci5lbWl0KHMpKSwhMSl9KX0oaSl9c3RhdGljIGlzSW5Bbmd1bGFyWm9uZSgpe3JldHVybiEwPT09Wm9uZS5jdXJyZW50LmdldCgiaXNBbmd1bGFyWm9uZSIpfXN0YXRpYyBhc3NlcnRJbkFuZ3VsYXJab25lKCl7aWYoISRjLmlzSW5Bbmd1bGFyWm9uZSgpKXRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgdG8gYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMgbm90ISIpfXN0YXRpYyBhc3NlcnROb3RJbkFuZ3VsYXJab25lKCl7aWYoJGMuaXNJbkFuZ3VsYXJab25lKCkpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCB0byBub3QgYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMhIil9cnVuKGUsdCxuKXtyZXR1cm4gdGhpcy5faW5uZXIucnVuKGUsdCxuKX1ydW5UYXNrKGUsdCxuLGkpe2NvbnN0IHM9dGhpcy5faW5uZXIsbz1zLnNjaGVkdWxlRXZlbnRUYXNrKCJOZ1pvbmVFdmVudDogIitpLGUsSGMsQmEsQmEpO3RyeXtyZXR1cm4gcy5ydW5UYXNrKG8sdCxuKX1maW5hbGx5e3MuY2FuY2VsVGFzayhvKX19cnVuR3VhcmRlZChlLHQsbil7cmV0dXJuIHRoaXMuX2lubmVyLnJ1bkd1YXJkZWQoZSx0LG4pfXJ1bk91dHNpZGVBbmd1bGFyKGUpe3JldHVybiB0aGlzLl9vdXRlci5ydW4oZSl9fWNvbnN0IEhjPXt9O2Z1bmN0aW9uIFVjKGUpe2lmKDA9PWUuX25lc3RpbmcmJiFlLmhhc1BlbmRpbmdNaWNyb3Rhc2tzJiYhZS5pc1N0YWJsZSl0cnl7ZS5fbmVzdGluZysrLGUub25NaWNyb3Rhc2tFbXB0eS5lbWl0KG51bGwpfWZpbmFsbHl7aWYoZS5fbmVzdGluZy0tLCFlLmhhc1BlbmRpbmdNaWNyb3Rhc2tzKXRyeXtlLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT5lLm9uU3RhYmxlLmVtaXQobnVsbCkpfWZpbmFsbHl7ZS5pc1N0YWJsZT0hMH19fWZ1bmN0aW9uIHFjKGUpe2UuaGFzUGVuZGluZ01pY3JvdGFza3M9ISEoZS5faGFzUGVuZGluZ01pY3JvdGFza3N8fChlLnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb258fGUuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24pJiYtMSE9PWUubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkKX1mdW5jdGlvbiB6YyhlKXtlLl9uZXN0aW5nKyssZS5pc1N0YWJsZSYmKGUuaXNTdGFibGU9ITEsZS5vblVuc3RhYmxlLmVtaXQobnVsbCkpfWZ1bmN0aW9uIFdjKGUpe2UuX25lc3RpbmctLSxVYyhlKX1jbGFzcyBHY3tjb25zdHJ1Y3Rvcigpe3RoaXMuaGFzUGVuZGluZ01pY3JvdGFza3M9ITEsdGhpcy5oYXNQZW5kaW5nTWFjcm90YXNrcz0hMSx0aGlzLmlzU3RhYmxlPSEwLHRoaXMub25VbnN0YWJsZT1uZXcgZWMsdGhpcy5vbk1pY3JvdGFza0VtcHR5PW5ldyBlYyx0aGlzLm9uU3RhYmxlPW5ldyBlYyx0aGlzLm9uRXJyb3I9bmV3IGVjfXJ1bihlLHQsbil7cmV0dXJuIGUuYXBwbHkodCxuKX1ydW5HdWFyZGVkKGUsdCxuKXtyZXR1cm4gZS5hcHBseSh0LG4pfXJ1bk91dHNpZGVBbmd1bGFyKGUpe3JldHVybiBlKCl9cnVuVGFzayhlLHQsbixpKXtyZXR1cm4gZS5hcHBseSh0LG4pfX1sZXQgS2M9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9uZ1pvbmU9ZSx0aGlzLl9wZW5kaW5nQ291bnQ9MCx0aGlzLl9pc1pvbmVTdGFibGU9ITAsdGhpcy5fZGlkV29yaz0hMSx0aGlzLl9jYWxsYmFja3M9W10sdGhpcy50YXNrVHJhY2tpbmdab25lPW51bGwsdGhpcy5fd2F0Y2hBbmd1bGFyRXZlbnRzKCksZS5ydW4oKCk9Pnt0aGlzLnRhc2tUcmFja2luZ1pvbmU9InVuZGVmaW5lZCI9PXR5cGVvZiBab25lP251bGw6Wm9uZS5jdXJyZW50LmdldCgiVGFza1RyYWNraW5nWm9uZSIpfSl9X3dhdGNoQW5ndWxhckV2ZW50cygpe3RoaXMuX25nWm9uZS5vblVuc3RhYmxlLnN1YnNjcmliZSh7bmV4dDooKT0+e3RoaXMuX2RpZFdvcms9ITAsdGhpcy5faXNab25lU3RhYmxlPSExfX0pLHRoaXMuX25nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e3RoaXMuX25nWm9uZS5vblN0YWJsZS5zdWJzY3JpYmUoe25leHQ6KCk9PnskYy5hc3NlcnROb3RJbkFuZ3VsYXJab25lKCksQmMoKCk9Pnt0aGlzLl9pc1pvbmVTdGFibGU9ITAsdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpfSl9fSl9KX1pbmNyZWFzZVBlbmRpbmdSZXF1ZXN0Q291bnQoKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50Kz0xLHRoaXMuX2RpZFdvcms9ITAsdGhpcy5fcGVuZGluZ0NvdW50fWRlY3JlYXNlUGVuZGluZ1JlcXVlc3RDb3VudCgpe2lmKHRoaXMuX3BlbmRpbmdDb3VudC09MSx0aGlzLl9wZW5kaW5nQ291bnQ8MCl0aHJvdyBuZXcgRXJyb3IoInBlbmRpbmcgYXN5bmMgcmVxdWVzdHMgYmVsb3cgemVybyIpO3JldHVybiB0aGlzLl9ydW5DYWxsYmFja3NJZlJlYWR5KCksdGhpcy5fcGVuZGluZ0NvdW50fWlzU3RhYmxlKCl7cmV0dXJuIHRoaXMuX2lzWm9uZVN0YWJsZSYmMD09PXRoaXMuX3BlbmRpbmdDb3VudCYmIXRoaXMuX25nWm9uZS5oYXNQZW5kaW5nTWFjcm90YXNrc31fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpe2lmKHRoaXMuaXNTdGFibGUoKSlCYygoKT0+e2Zvcig7MCE9PXRoaXMuX2NhbGxiYWNrcy5sZW5ndGg7KXtsZXQgZT10aGlzLl9jYWxsYmFja3MucG9wKCk7Y2xlYXJUaW1lb3V0KGUudGltZW91dElkKSxlLmRvbmVDYih0aGlzLl9kaWRXb3JrKX10aGlzLl9kaWRXb3JrPSExfSk7ZWxzZXtsZXQgZT10aGlzLmdldFBlbmRpbmdUYXNrcygpO3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3MuZmlsdGVyKHQ9PiF0LnVwZGF0ZUNifHwhdC51cGRhdGVDYihlKXx8KGNsZWFyVGltZW91dCh0LnRpbWVvdXRJZCksITEpKSx0aGlzLl9kaWRXb3JrPSEwfX1nZXRQZW5kaW5nVGFza3MoKXtyZXR1cm4gdGhpcy50YXNrVHJhY2tpbmdab25lP3RoaXMudGFza1RyYWNraW5nWm9uZS5tYWNyb1Rhc2tzLm1hcChlPT4oe3NvdXJjZTplLnNvdXJjZSxjcmVhdGlvbkxvY2F0aW9uOmUuY3JlYXRpb25Mb2NhdGlvbixkYXRhOmUuZGF0YX0pKTpbXX1hZGRDYWxsYmFjayhlLHQsbil7bGV0IGk9LTE7dCYmdD4wJiYoaT1zZXRUaW1lb3V0KCgpPT57dGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrcy5maWx0ZXIoZT0+ZS50aW1lb3V0SWQhPT1pKSxlKHRoaXMuX2RpZFdvcmssdGhpcy5nZXRQZW5kaW5nVGFza3MoKSl9LHQpKSx0aGlzLl9jYWxsYmFja3MucHVzaCh7ZG9uZUNiOmUsdGltZW91dElkOmksdXBkYXRlQ2I6bn0pfXdoZW5TdGFibGUoZSx0LG4pe2lmKG4mJiF0aGlzLnRhc2tUcmFja2luZ1pvbmUpdGhyb3cgbmV3IEVycm9yKCdUYXNrIHRyYWNraW5nIHpvbmUgaXMgcmVxdWlyZWQgd2hlbiBwYXNzaW5nIGFuIHVwZGF0ZSBjYWxsYmFjayB0byB3aGVuU3RhYmxlKCkuIElzICJ6b25lLmpzL3BsdWdpbnMvdGFzay10cmFja2luZyIgbG9hZGVkPycpO3RoaXMuYWRkQ2FsbGJhY2soZSx0LG4pLHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKX1nZXRQZW5kaW5nUmVxdWVzdENvdW50KCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudH1maW5kUHJvdmlkZXJzKGUsdCxuKXtyZXR1cm5bXX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoY2koJGMpKX0sZS5cdTAyNzVwcm92PWhlKHt0b2tlbjplLGZhY3Rvcnk6ZS5cdTAyNzVmYWN9KSxlfSkoKSxZYz0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKCl7dGhpcy5fYXBwbGljYXRpb25zPW5ldyBNYXAsSmMuYWRkVG9XaW5kb3codGhpcyl9cmVnaXN0ZXJBcHBsaWNhdGlvbihlLHQpe3RoaXMuX2FwcGxpY2F0aW9ucy5zZXQoZSx0KX11bnJlZ2lzdGVyQXBwbGljYXRpb24oZSl7dGhpcy5fYXBwbGljYXRpb25zLmRlbGV0ZShlKX11bnJlZ2lzdGVyQWxsQXBwbGljYXRpb25zKCl7dGhpcy5fYXBwbGljYXRpb25zLmNsZWFyKCl9Z2V0VGVzdGFiaWxpdHkoZSl7cmV0dXJuIHRoaXMuX2FwcGxpY2F0aW9ucy5nZXQoZSl8fG51bGx9Z2V0QWxsVGVzdGFiaWxpdGllcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX2FwcGxpY2F0aW9ucy52YWx1ZXMoKSl9Z2V0QWxsUm9vdEVsZW1lbnRzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fYXBwbGljYXRpb25zLmtleXMoKSl9ZmluZFRlc3RhYmlsaXR5SW5UcmVlKGUsdD0hMCl7cmV0dXJuIEpjLmZpbmRUZXN0YWJpbGl0eUluVHJlZSh0aGlzLGUsdCl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpO2NsYXNzIFpje2FkZFRvV2luZG93KGUpe31maW5kVGVzdGFiaWxpdHlJblRyZWUoZSx0LG4pe3JldHVybiBudWxsfX1sZXQgUWMsSmM9bmV3IFpjLFhjPSEwLGV1PSExO2NvbnN0IHR1PW5ldyB6bigiQWxsb3dNdWx0aXBsZVRva2VuIik7Y2xhc3MgbnV7Y29uc3RydWN0b3IoZSx0KXt0aGlzLm5hbWU9ZSx0aGlzLnRva2VuPXR9fWZ1bmN0aW9uIGl1KGUsdCxuPVtdKXtjb25zdCBpPWBQbGF0Zm9ybTogJHt0fWAscz1uZXcgem4oaSk7cmV0dXJuKHQ9W10pPT57bGV0IG89c3UoKTtpZighb3x8by5pbmplY3Rvci5nZXQodHUsITEpKWlmKGUpZShuLmNvbmNhdCh0KS5jb25jYXQoe3Byb3ZpZGU6cyx1c2VWYWx1ZTohMH0pKTtlbHNle2NvbnN0IGU9bi5jb25jYXQodCkuY29uY2F0KHtwcm92aWRlOnMsdXNlVmFsdWU6ITB9LHtwcm92aWRlOllvLHVzZVZhbHVlOiJwbGF0Zm9ybSJ9KTshZnVuY3Rpb24oZSl7aWYoUWMmJiFRYy5kZXN0cm95ZWQmJiFRYy5pbmplY3Rvci5nZXQodHUsITEpKXRocm93IG5ldyBFcnJvcigiVGhlcmUgY2FuIGJlIG9ubHkgb25lIHBsYXRmb3JtLiBEZXN0cm95IHRoZSBwcmV2aW91cyBvbmUgdG8gY3JlYXRlIGEgbmV3IG9uZS4iKTtRYz1lLmdldChvdSk7Y29uc3QgdD1lLmdldChFYyxudWxsKTt0JiZ0LmZvckVhY2goZT0+ZSgpKX0obHIuY3JlYXRlKHtwcm92aWRlcnM6ZSxuYW1lOml9KSl9cmV0dXJuIGZ1bmN0aW9uKGUpe2NvbnN0IHQ9c3UoKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIk5vIHBsYXRmb3JtIGV4aXN0cyEiKTtpZighdC5pbmplY3Rvci5nZXQoZSxudWxsKSl0aHJvdyBuZXcgRXJyb3IoIkEgcGxhdGZvcm0gd2l0aCBhIGRpZmZlcmVudCBjb25maWd1cmF0aW9uIGhhcyBiZWVuIGNyZWF0ZWQuIFBsZWFzZSBkZXN0cm95IGl0IGZpcnN0LiIpO3JldHVybiB0fShzKX19ZnVuY3Rpb24gc3UoKXtyZXR1cm4gUWMmJiFRYy5kZXN0cm95ZWQ/UWM6bnVsbH1sZXQgb3U9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9pbmplY3Rvcj1lLHRoaXMuX21vZHVsZXM9W10sdGhpcy5fZGVzdHJveUxpc3RlbmVycz1bXSx0aGlzLl9kZXN0cm95ZWQ9ITF9Ym9vdHN0cmFwTW9kdWxlRmFjdG9yeShlLHQpe2NvbnN0IG49ZnVuY3Rpb24oZSx0KXtsZXQgbjtyZXR1cm4gbj0ibm9vcCI9PT1lP25ldyBHYzooInpvbmUuanMiPT09ZT92b2lkIDA6ZSl8fG5ldyAkYyh7ZW5hYmxlTG9uZ1N0YWNrVHJhY2U6KGV1PSEwLFhjKSxzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uOiEhKG51bGw9PXQ/dm9pZCAwOnQubmdab25lRXZlbnRDb2FsZXNjaW5nKSxzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbjohIShudWxsPT10P3ZvaWQgMDp0Lm5nWm9uZVJ1bkNvYWxlc2NpbmcpfSksbn0odD90Lm5nWm9uZTp2b2lkIDAse25nWm9uZUV2ZW50Q29hbGVzY2luZzp0JiZ0Lm5nWm9uZUV2ZW50Q29hbGVzY2luZ3x8ITEsbmdab25lUnVuQ29hbGVzY2luZzp0JiZ0Lm5nWm9uZVJ1bkNvYWxlc2Npbmd8fCExfSksaT1be3Byb3ZpZGU6JGMsdXNlVmFsdWU6bn1dO3JldHVybiBuLnJ1bigoKT0+e2NvbnN0IHQ9bHIuY3JlYXRlKHtwcm92aWRlcnM6aSxwYXJlbnQ6dGhpcy5pbmplY3RvcixuYW1lOmUubW9kdWxlVHlwZS5uYW1lfSkscz1lLmNyZWF0ZSh0KSxvPXMuaW5qZWN0b3IuZ2V0KHJzLG51bGwpO2lmKCFvKXRocm93IG5ldyBFcnJvcigiTm8gRXJyb3JIYW5kbGVyLiBJcyBwbGF0Zm9ybSBtb2R1bGUgKEJyb3dzZXJNb2R1bGUpIGluY2x1ZGVkPyIpO3JldHVybiBuLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT57Y29uc3QgZT1uLm9uRXJyb3Iuc3Vic2NyaWJlKHtuZXh0OmU9PntvLmhhbmRsZUVycm9yKGUpfX0pO3Mub25EZXN0cm95KCgpPT57bHUodGhpcy5fbW9kdWxlcyxzKSxlLnVuc3Vic2NyaWJlKCl9KX0pLGZ1bmN0aW9uKGUsdCxuKXt0cnl7Y29uc3QgaT1uKCk7cmV0dXJuIGpyKGkpP2kuY2F0Y2gobj0+e3Rocm93IHQucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PmUuaGFuZGxlRXJyb3IobikpLG59KTppfWNhdGNoKGkpe3Rocm93IHQucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PmUuaGFuZGxlRXJyb3IoaSkpLGl9fShvLG4sKCk9Pntjb25zdCBlPXMuaW5qZWN0b3IuZ2V0KHdjKTtyZXR1cm4gZS5ydW5Jbml0aWFsaXplcnMoKSxlLmRvbmVQcm9taXNlLnRoZW4oKCk9PihBYShzLmluamVjdG9yLmdldChPYyxrYSl8fGthKSx0aGlzLl9tb2R1bGVEb0Jvb3RzdHJhcChzKSxzKSl9KX0pfWJvb3RzdHJhcE1vZHVsZShlLHQ9W10pe2NvbnN0IG49cnUoe30sdCk7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtjb25zdCBpPW5ldyAkbChuKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGkpfSgwLDAsZSkudGhlbihlPT50aGlzLmJvb3RzdHJhcE1vZHVsZUZhY3RvcnkoZSxuKSl9X21vZHVsZURvQm9vdHN0cmFwKGUpe2NvbnN0IHQ9ZS5pbmplY3Rvci5nZXQoYXUpO2lmKGUuX2Jvb3RzdHJhcENvbXBvbmVudHMubGVuZ3RoPjApZS5fYm9vdHN0cmFwQ29tcG9uZW50cy5mb3JFYWNoKGU9PnQuYm9vdHN0cmFwKGUpKTtlbHNle2lmKCFlLmluc3RhbmNlLm5nRG9Cb290c3RyYXApdGhyb3cgbmV3IEVycm9yKGBUaGUgbW9kdWxlICR7dGUoZS5pbnN0YW5jZS5jb25zdHJ1Y3Rvcil9IHdhcyBib290c3RyYXBwZWQsIGJ1dCBpdCBkb2VzIG5vdCBkZWNsYXJlICJATmdNb2R1bGUuYm9vdHN0cmFwIiBjb21wb25lbnRzIG5vciBhICJuZ0RvQm9vdHN0cmFwIiBtZXRob2QuIFBsZWFzZSBkZWZpbmUgb25lIG9mIHRoZXNlLmApO2UuaW5zdGFuY2UubmdEb0Jvb3RzdHJhcCh0KX10aGlzLl9tb2R1bGVzLnB1c2goZSl9b25EZXN0cm95KGUpe3RoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMucHVzaChlKX1nZXQgaW5qZWN0b3IoKXtyZXR1cm4gdGhpcy5faW5qZWN0b3J9ZGVzdHJveSgpe2lmKHRoaXMuX2Rlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBwbGF0Zm9ybSBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZCEiKTt0aGlzLl9tb2R1bGVzLnNsaWNlKCkuZm9yRWFjaChlPT5lLmRlc3Ryb3koKSksdGhpcy5fZGVzdHJveUxpc3RlbmVycy5mb3JFYWNoKGU9PmUoKSksdGhpcy5fZGVzdHJveWVkPSEwfWdldCBkZXN0cm95ZWQoKXtyZXR1cm4gdGhpcy5fZGVzdHJveWVkfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaShscikpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpO2Z1bmN0aW9uIHJ1KGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5yZWR1Y2UocnUsZSk6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHQpfWxldCBhdT0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUsdCxuLGkscyl7dGhpcy5fem9uZT1lLHRoaXMuX2luamVjdG9yPXQsdGhpcy5fZXhjZXB0aW9uSGFuZGxlcj1uLHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcj1pLHRoaXMuX2luaXRTdGF0dXM9cyx0aGlzLl9ib290c3RyYXBMaXN0ZW5lcnM9W10sdGhpcy5fdmlld3M9W10sdGhpcy5fcnVubmluZ1RpY2s9ITEsdGhpcy5fc3RhYmxlPSEwLHRoaXMuY29tcG9uZW50VHlwZXM9W10sdGhpcy5jb21wb25lbnRzPVtdLHRoaXMuX29uTWljcm90YXNrRW1wdHlTdWJzY3JpcHRpb249dGhpcy5fem9uZS5vbk1pY3JvdGFza0VtcHR5LnN1YnNjcmliZSh7bmV4dDooKT0+e3RoaXMuX3pvbmUucnVuKCgpPT57dGhpcy50aWNrKCl9KX19KTtjb25zdCBvPW5ldyBiKGU9Pnt0aGlzLl9zdGFibGU9dGhpcy5fem9uZS5pc1N0YWJsZSYmIXRoaXMuX3pvbmUuaGFzUGVuZGluZ01hY3JvdGFza3MmJiF0aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzLHRoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PntlLm5leHQodGhpcy5fc3RhYmxlKSxlLmNvbXBsZXRlKCl9KX0pLHI9bmV3IGIoZT0+e2xldCB0O3RoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9Pnt0PXRoaXMuX3pvbmUub25TdGFibGUuc3Vic2NyaWJlKCgpPT57JGMuYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpLEJjKCgpPT57dGhpcy5fc3RhYmxlfHx0aGlzLl96b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzfHx0aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzfHwodGhpcy5fc3RhYmxlPSEwLGUubmV4dCghMCkpfSl9KX0pO2NvbnN0IG49dGhpcy5fem9uZS5vblVuc3RhYmxlLnN1YnNjcmliZSgoKT0+eyRjLmFzc2VydEluQW5ndWxhclpvbmUoKSx0aGlzLl9zdGFibGUmJih0aGlzLl9zdGFibGU9ITEsdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e2UubmV4dCghMSl9KSl9KTtyZXR1cm4oKT0+e3QudW5zdWJzY3JpYmUoKSxuLnVuc3Vic2NyaWJlKCl9fSk7dGhpcy5pc1N0YWJsZT16KG8sci5waXBlKGU9PntyZXR1cm4gVygpKCh0PUosZnVuY3Rpb24oZSl7bGV0IG47bj0iZnVuY3Rpb24iPT10eXBlb2YgdD90OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O2NvbnN0IGk9T2JqZWN0LmNyZWF0ZShlLFopO3JldHVybiBpLnNvdXJjZT1lLGkuc3ViamVjdEZhY3Rvcnk9bixpfSkoZSkpO3ZhciB0fSkpfWJvb3RzdHJhcChlLHQpe2lmKCF0aGlzLl9pbml0U3RhdHVzLmRvbmUpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgYm9vdHN0cmFwIGFzIHRoZXJlIGFyZSBzdGlsbCBhc3luY2hyb25vdXMgaW5pdGlhbGl6ZXJzIHJ1bm5pbmcuIEJvb3RzdHJhcCBjb21wb25lbnRzIGluIHRoZSBgbmdEb0Jvb3RzdHJhcGAgbWV0aG9kIG9mIHRoZSByb290IG1vZHVsZS4iKTtsZXQgbjtuPWUgaW5zdGFuY2VvZiBSYT9lOnRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShlKSx0aGlzLmNvbXBvbmVudFR5cGVzLnB1c2gobi5jb21wb25lbnRUeXBlKTtjb25zdCBpPW4uaXNCb3VuZFRvTW9kdWxlP3ZvaWQgMDp0aGlzLl9pbmplY3Rvci5nZXQoU2wpLHM9bi5jcmVhdGUobHIuTlVMTCxbXSx0fHxuLnNlbGVjdG9yLGkpLG89cy5sb2NhdGlvbi5uYXRpdmVFbGVtZW50LHI9cy5pbmplY3Rvci5nZXQoS2MsbnVsbCksYT1yJiZzLmluamVjdG9yLmdldChZYyk7cmV0dXJuIHImJmEmJmEucmVnaXN0ZXJBcHBsaWNhdGlvbihvLHIpLHMub25EZXN0cm95KCgpPT57dGhpcy5kZXRhY2hWaWV3KHMuaG9zdFZpZXcpLGx1KHRoaXMuY29tcG9uZW50cyxzKSxhJiZhLnVucmVnaXN0ZXJBcHBsaWNhdGlvbihvKX0pLHRoaXMuX2xvYWRDb21wb25lbnQocyksc310aWNrKCl7aWYodGhpcy5fcnVubmluZ1RpY2spdGhyb3cgbmV3IEVycm9yKCJBcHBsaWNhdGlvblJlZi50aWNrIGlzIGNhbGxlZCByZWN1cnNpdmVseSIpO3RyeXt0aGlzLl9ydW5uaW5nVGljaz0hMDtmb3IobGV0IGUgb2YgdGhpcy5fdmlld3MpZS5kZXRlY3RDaGFuZ2VzKCl9Y2F0Y2goZSl7dGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+dGhpcy5fZXhjZXB0aW9uSGFuZGxlci5oYW5kbGVFcnJvcihlKSl9ZmluYWxseXt0aGlzLl9ydW5uaW5nVGljaz0hMX19YXR0YWNoVmlldyhlKXtjb25zdCB0PWU7dGhpcy5fdmlld3MucHVzaCh0KSx0LmF0dGFjaFRvQXBwUmVmKHRoaXMpfWRldGFjaFZpZXcoZSl7Y29uc3QgdD1lO2x1KHRoaXMuX3ZpZXdzLHQpLHQuZGV0YWNoRnJvbUFwcFJlZigpfV9sb2FkQ29tcG9uZW50KGUpe3RoaXMuYXR0YWNoVmlldyhlLmhvc3RWaWV3KSx0aGlzLnRpY2soKSx0aGlzLmNvbXBvbmVudHMucHVzaChlKSx0aGlzLl9pbmplY3Rvci5nZXQoeGMsW10pLmNvbmNhdCh0aGlzLl9ib290c3RyYXBMaXN0ZW5lcnMpLmZvckVhY2godD0+dChlKSl9bmdPbkRlc3Ryb3koKXt0aGlzLl92aWV3cy5zbGljZSgpLmZvckVhY2goZT0+ZS5kZXN0cm95KCkpLHRoaXMuX29uTWljcm90YXNrRW1wdHlTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX1nZXQgdmlld0NvdW50KCl7cmV0dXJuIHRoaXMuX3ZpZXdzLmxlbmd0aH19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoY2koJGMpLGNpKGxyKSxjaShycyksY2koTmEpLGNpKHdjKSl9LGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxmYWN0b3J5OmUuXHUwMjc1ZmFjfSksZX0pKCk7ZnVuY3Rpb24gbHUoZSx0KXtjb25zdCBuPWUuaW5kZXhPZih0KTtuPi0xJiZlLnNwbGljZShuLDEpfWNsYXNzIGN1e31jbGFzcyB1dXt9Y29uc3QgaHU9e2ZhY3RvcnlQYXRoUHJlZml4OiIiLGZhY3RvcnlQYXRoU3VmZml4OiIubmdmYWN0b3J5In07bGV0IGR1PSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9jb21waWxlcj1lLHRoaXMuX2NvbmZpZz10fHxodX1sb2FkKGUpe3JldHVybiB0aGlzLmxvYWRBbmRDb21waWxlKGUpfWxvYWRBbmRDb21waWxlKGUpe2xldFt0LGldPWUuc3BsaXQoIiMiKTtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ImRlZmF1bHQiKSxuKDM1OCkodCkudGhlbihlPT5lW2ldKS50aGVuKGU9PnB1KGUsdCxpKSkudGhlbihlPT50aGlzLl9jb21waWxlci5jb21waWxlTW9kdWxlQXN5bmMoZSkpfWxvYWRGYWN0b3J5KGUpe2xldFt0LGldPWUuc3BsaXQoIiMiKSxzPSJOZ0ZhY3RvcnkiO3JldHVybiB2b2lkIDA9PT1pJiYoaT0iZGVmYXVsdCIscz0iIiksbigzNTgpKHRoaXMuX2NvbmZpZy5mYWN0b3J5UGF0aFByZWZpeCt0K3RoaXMuX2NvbmZpZy5mYWN0b3J5UGF0aFN1ZmZpeCkudGhlbihlPT5lW2krc10pLnRoZW4oZT0+cHUoZSx0LGkpKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoY2koamMpLGNpKHV1LDgpKX0sZS5cdTAyNzVwcm92PWhlKHt0b2tlbjplLGZhY3Rvcnk6ZS5cdTAyNzVmYWN9KSxlfSkoKTtmdW5jdGlvbiBwdShlLHQsbil7aWYoIWUpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCAnJHtufScgaW4gJyR7dH0nYCk7cmV0dXJuIGV9Y29uc3QgZnU9aXUobnVsbCwiY29yZSIsW3twcm92aWRlOmtjLHVzZVZhbHVlOiJ1bmtub3duIn0se3Byb3ZpZGU6b3UsZGVwczpbbHJdfSx7cHJvdmlkZTpZYyxkZXBzOltdfSx7cHJvdmlkZTpBYyxkZXBzOltdfV0pLGd1PVt7cHJvdmlkZTphdSx1c2VDbGFzczphdSxkZXBzOlskYyxscixycyxOYSx3Y119LHtwcm92aWRlOkxsLGRlcHM6WyRjXSx1c2VGYWN0b3J5OmZ1bmN0aW9uKGUpe2xldCB0PVtdO3JldHVybiBlLm9uU3RhYmxlLnN1YnNjcmliZSgoKT0+e2Zvcig7dC5sZW5ndGg7KXQucG9wKCkoKX0pLGZ1bmN0aW9uKGUpe3QucHVzaChlKX19fSx7cHJvdmlkZTp3Yyx1c2VDbGFzczp3YyxkZXBzOltbbmV3IHBpLENjXV19LHtwcm92aWRlOmpjLHVzZUNsYXNzOmpjLGRlcHM6W119LERjLHtwcm92aWRlOmxsLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gdmx9LGRlcHM6W119LHtwcm92aWRlOnVsLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gYmx9LGRlcHM6W119LHtwcm92aWRlOk9jLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oZSl7cmV0dXJuIEFhKGU9ZXx8InVuZGVmaW5lZCIhPXR5cGVvZiAkbG9jYWxpemUmJiRsb2NhbGl6ZS5sb2NhbGV8fGthKSxlfSxkZXBzOltbbmV3IGRpKE9jKSxuZXcgcGksbmV3IGZpXV19LHtwcm92aWRlOlRjLHVzZVZhbHVlOiJVU0QifV07bGV0IG11PSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSl7fX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaShhdSkpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe3Byb3ZpZGVyczpndX0pLGV9KSgpLHZ1PW51bGw7ZnVuY3Rpb24gYnUoKXtyZXR1cm4gdnV9Y29uc3QgeXU9bmV3IHpuKCJEb2N1bWVudFRva2VuIik7bGV0IEN1PSgoKT0+e2NsYXNzIGV7aGlzdG9yeUdvKGUpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NXByb3Y9aGUoe2ZhY3Rvcnk6d3UsdG9rZW46ZSxwcm92aWRlZEluOiJwbGF0Zm9ybSJ9KSxlfSkoKTtmdW5jdGlvbiB3dSgpe3JldHVybiBjaShEdSl9Y29uc3QgX3U9bmV3IHpuKCJMb2NhdGlvbiBJbml0aWFsaXplZCIpO2xldCBEdT0oKCk9PntjbGFzcyBlIGV4dGVuZHMgQ3V7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLl9kb2M9ZSx0aGlzLl9pbml0KCl9X2luaXQoKXt0aGlzLmxvY2F0aW9uPXdpbmRvdy5sb2NhdGlvbix0aGlzLl9oaXN0b3J5PXdpbmRvdy5oaXN0b3J5fWdldEJhc2VIcmVmRnJvbURPTSgpe3JldHVybiBidSgpLmdldEJhc2VIcmVmKHRoaXMuX2RvYyl9b25Qb3BTdGF0ZShlKXtjb25zdCB0PWJ1KCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQodGhpcy5fZG9jLCJ3aW5kb3ciKTtyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKCJwb3BzdGF0ZSIsZSwhMSksKCk9PnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9wc3RhdGUiLGUpfW9uSGFzaENoYW5nZShlKXtjb25zdCB0PWJ1KCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQodGhpcy5fZG9jLCJ3aW5kb3ciKTtyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIixlLCExKSwoKT0+dC5yZW1vdmVFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIixlKX1nZXQgaHJlZigpe3JldHVybiB0aGlzLmxvY2F0aW9uLmhyZWZ9Z2V0IHByb3RvY29sKCl7cmV0dXJuIHRoaXMubG9jYXRpb24ucHJvdG9jb2x9Z2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMubG9jYXRpb24uaG9zdG5hbWV9Z2V0IHBvcnQoKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5wb3J0fWdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLmxvY2F0aW9uLnBhdGhuYW1lfWdldCBzZWFyY2goKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5zZWFyY2h9Z2V0IGhhc2goKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5oYXNofXNldCBwYXRobmFtZShlKXt0aGlzLmxvY2F0aW9uLnBhdGhuYW1lPWV9cHVzaFN0YXRlKGUsdCxuKXtTdSgpP3RoaXMuX2hpc3RvcnkucHVzaFN0YXRlKGUsdCxuKTp0aGlzLmxvY2F0aW9uLmhhc2g9bn1yZXBsYWNlU3RhdGUoZSx0LG4pe1N1KCk/dGhpcy5faGlzdG9yeS5yZXBsYWNlU3RhdGUoZSx0LG4pOnRoaXMubG9jYXRpb24uaGFzaD1ufWZvcndhcmQoKXt0aGlzLl9oaXN0b3J5LmZvcndhcmQoKX1iYWNrKCl7dGhpcy5faGlzdG9yeS5iYWNrKCl9aGlzdG9yeUdvKGU9MCl7dGhpcy5faGlzdG9yeS5nbyhlKX1nZXRTdGF0ZSgpe3JldHVybiB0aGlzLl9oaXN0b3J5LnN0YXRlfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaSh5dSkpfSxlLlx1MDI3NXByb3Y9aGUoe2ZhY3Rvcnk6RXUsdG9rZW46ZSxwcm92aWRlZEluOiJwbGF0Zm9ybSJ9KSxlfSkoKTtmdW5jdGlvbiBTdSgpe3JldHVybiEhd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlfWZ1bmN0aW9uIEV1KCl7cmV0dXJuIG5ldyBEdShjaSh5dSkpfWZ1bmN0aW9uIGt1KGUsdCl7aWYoMD09ZS5sZW5ndGgpcmV0dXJuIHQ7aWYoMD09dC5sZW5ndGgpcmV0dXJuIGU7bGV0IG49MDtyZXR1cm4gZS5lbmRzV2l0aCgiLyIpJiZuKyssdC5zdGFydHNXaXRoKCIvIikmJm4rKywyPT1uP2UrdC5zdWJzdHJpbmcoMSk6MT09bj9lK3Q6ZSsiLyIrdH1mdW5jdGlvbiB4dShlKXtjb25zdCB0PWUubWF0Y2goLyN8XD98JC8pLG49dCYmdC5pbmRleHx8ZS5sZW5ndGg7cmV0dXJuIGUuc2xpY2UoMCxuLSgiLyI9PT1lW24tMV0/MTowKSkrZS5zbGljZShuKX1mdW5jdGlvbiBBdShlKXtyZXR1cm4gZSYmIj8iIT09ZVswXT8iPyIrZTplfWxldCBPdT0oKCk9PntjbGFzcyBle2hpc3RvcnlHbyhlKXt0aHJvdyBuZXcgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZCIpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVwcm92PWhlKHtmYWN0b3J5OlR1LHRva2VuOmUscHJvdmlkZWRJbjoicm9vdCJ9KSxlfSkoKTtmdW5jdGlvbiBUdShlKXtjb25zdCB0PWNpKHl1KS5sb2NhdGlvbjtyZXR1cm4gbmV3IEl1KGNpKEN1KSx0JiZ0Lm9yaWdpbnx8IiIpfWNvbnN0IEZ1PW5ldyB6bigiYXBwQmFzZUhyZWYiKTtsZXQgSXU9KCgpPT57Y2xhc3MgZSBleHRlbmRzIE91e2NvbnN0cnVjdG9yKGUsdCl7aWYoc3VwZXIoKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uPWUsdGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnM9W10sbnVsbD09dCYmKHQ9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5nZXRCYXNlSHJlZkZyb21ET00oKSksbnVsbD09dCl0aHJvdyBuZXcgRXJyb3IoIk5vIGJhc2UgaHJlZiBzZXQuIFBsZWFzZSBwcm92aWRlIGEgdmFsdWUgZm9yIHRoZSBBUFBfQkFTRV9IUkVGIHRva2VuIG9yIGFkZCBhIGJhc2UgZWxlbWVudCB0byB0aGUgZG9jdW1lbnQuIik7dGhpcy5fYmFzZUhyZWY9dH1uZ09uRGVzdHJveSgpe2Zvcig7dGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnMubGVuZ3RoOyl0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5wb3AoKSgpfW9uUG9wU3RhdGUoZSl7dGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnMucHVzaCh0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLm9uUG9wU3RhdGUoZSksdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5vbkhhc2hDaGFuZ2UoZSkpfWdldEJhc2VIcmVmKCl7cmV0dXJuIHRoaXMuX2Jhc2VIcmVmfXByZXBhcmVFeHRlcm5hbFVybChlKXtyZXR1cm4ga3UodGhpcy5fYmFzZUhyZWYsZSl9cGF0aChlPSExKXtjb25zdCB0PXRoaXMuX3BsYXRmb3JtTG9jYXRpb24ucGF0aG5hbWUrQXUodGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5zZWFyY2gpLG49dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5oYXNoO3JldHVybiBuJiZlP2Ake3R9JHtufWA6dH1wdXNoU3RhdGUoZSx0LG4saSl7Y29uc3Qgcz10aGlzLnByZXBhcmVFeHRlcm5hbFVybChuK0F1KGkpKTt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnB1c2hTdGF0ZShlLHQscyl9cmVwbGFjZVN0YXRlKGUsdCxuLGkpe2NvbnN0IHM9dGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwobitBdShpKSk7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5yZXBsYWNlU3RhdGUoZSx0LHMpfWZvcndhcmQoKXt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmZvcndhcmQoKX1iYWNrKCl7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5iYWNrKCl9aGlzdG9yeUdvKGU9MCl7dmFyIHQsbjtudWxsPT09KG49KHQ9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbikuaGlzdG9yeUdvKXx8dm9pZCAwPT09bnx8bi5jYWxsKHQsZSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKGNpKEN1KSxjaShGdSw4KSl9LGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxmYWN0b3J5OmUuXHUwMjc1ZmFjfSksZX0pKCksTXU9KCgpPT57Y2xhc3MgZSBleHRlbmRzIE91e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uPWUsdGhpcy5fYmFzZUhyZWY9IiIsdGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnM9W10sbnVsbCE9dCYmKHRoaXMuX2Jhc2VIcmVmPXQpfW5nT25EZXN0cm95KCl7Zm9yKDt0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5sZW5ndGg7KXRoaXMuX3JlbW92ZUxpc3RlbmVyRm5zLnBvcCgpKCl9b25Qb3BTdGF0ZShlKXt0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5wdXNoKHRoaXMuX3BsYXRmb3JtTG9jYXRpb24ub25Qb3BTdGF0ZShlKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLm9uSGFzaENoYW5nZShlKSl9Z2V0QmFzZUhyZWYoKXtyZXR1cm4gdGhpcy5fYmFzZUhyZWZ9cGF0aChlPSExKXtsZXQgdD10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmhhc2g7cmV0dXJuIG51bGw9PXQmJih0PSIjIiksdC5sZW5ndGg+MD90LnN1YnN0cmluZygxKTp0fXByZXBhcmVFeHRlcm5hbFVybChlKXtjb25zdCB0PWt1KHRoaXMuX2Jhc2VIcmVmLGUpO3JldHVybiB0Lmxlbmd0aD4wPyIjIit0OnR9cHVzaFN0YXRlKGUsdCxuLGkpe2xldCBzPXRoaXMucHJlcGFyZUV4dGVybmFsVXJsKG4rQXUoaSkpOzA9PXMubGVuZ3RoJiYocz10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnBhdGhuYW1lKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnB1c2hTdGF0ZShlLHQscyl9cmVwbGFjZVN0YXRlKGUsdCxuLGkpe2xldCBzPXRoaXMucHJlcGFyZUV4dGVybmFsVXJsKG4rQXUoaSkpOzA9PXMubGVuZ3RoJiYocz10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnBhdGhuYW1lKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnJlcGxhY2VTdGF0ZShlLHQscyl9Zm9yd2FyZCgpe3RoaXMuX3BsYXRmb3JtTG9jYXRpb24uZm9yd2FyZCgpfWJhY2soKXt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmJhY2soKX1oaXN0b3J5R28oZT0wKXt2YXIgdCxuO251bGw9PT0obj0odD10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uKS5oaXN0b3J5R28pfHx2b2lkIDA9PT1ufHxuLmNhbGwodCxlKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoY2koQ3UpLGNpKEZ1LDgpKX0sZS5cdTAyNzVwcm92PWhlKHt0b2tlbjplLGZhY3Rvcnk6ZS5cdTAyNzVmYWN9KSxlfSkoKSxQdT0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fc3ViamVjdD1uZXcgZWMsdGhpcy5fdXJsQ2hhbmdlTGlzdGVuZXJzPVtdLHRoaXMuX3BsYXRmb3JtU3RyYXRlZ3k9ZTtjb25zdCBuPXRoaXMuX3BsYXRmb3JtU3RyYXRlZ3kuZ2V0QmFzZUhyZWYoKTt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uPXQsdGhpcy5fYmFzZUhyZWY9eHUoTHUobikpLHRoaXMuX3BsYXRmb3JtU3RyYXRlZ3kub25Qb3BTdGF0ZShlPT57dGhpcy5fc3ViamVjdC5lbWl0KHt1cmw6dGhpcy5wYXRoKCEwKSxwb3A6ITAsc3RhdGU6ZS5zdGF0ZSx0eXBlOmUudHlwZX0pfSl9cGF0aChlPSExKXtyZXR1cm4gdGhpcy5ub3JtYWxpemUodGhpcy5fcGxhdGZvcm1TdHJhdGVneS5wYXRoKGUpKX1nZXRTdGF0ZSgpe3JldHVybiB0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmdldFN0YXRlKCl9aXNDdXJyZW50UGF0aEVxdWFsVG8oZSx0PSIiKXtyZXR1cm4gdGhpcy5wYXRoKCk9PXRoaXMubm9ybWFsaXplKGUrQXUodCkpfW5vcm1hbGl6ZSh0KXtyZXR1cm4gZS5zdHJpcFRyYWlsaW5nU2xhc2goZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmdC5zdGFydHNXaXRoKGUpP3Quc3Vic3RyaW5nKGUubGVuZ3RoKTp0fSh0aGlzLl9iYXNlSHJlZixMdSh0KSkpfXByZXBhcmVFeHRlcm5hbFVybChlKXtyZXR1cm4gZSYmIi8iIT09ZVswXSYmKGU9Ii8iK2UpLHRoaXMuX3BsYXRmb3JtU3RyYXRlZ3kucHJlcGFyZUV4dGVybmFsVXJsKGUpfWdvKGUsdD0iIixuPW51bGwpe3RoaXMuX3BsYXRmb3JtU3RyYXRlZ3kucHVzaFN0YXRlKG4sIiIsZSx0KSx0aGlzLl9ub3RpZnlVcmxDaGFuZ2VMaXN0ZW5lcnModGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwoZStBdSh0KSksbil9cmVwbGFjZVN0YXRlKGUsdD0iIixuPW51bGwpe3RoaXMuX3BsYXRmb3JtU3RyYXRlZ3kucmVwbGFjZVN0YXRlKG4sIiIsZSx0KSx0aGlzLl9ub3RpZnlVcmxDaGFuZ2VMaXN0ZW5lcnModGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwoZStBdSh0KSksbil9Zm9yd2FyZCgpe3RoaXMuX3BsYXRmb3JtU3RyYXRlZ3kuZm9yd2FyZCgpfWJhY2soKXt0aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5LmJhY2soKX1oaXN0b3J5R28oZT0wKXt2YXIgdCxuO251bGw9PT0obj0odD10aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5KS5oaXN0b3J5R28pfHx2b2lkIDA9PT1ufHxuLmNhbGwodCxlKX1vblVybENoYW5nZShlKXt0aGlzLl91cmxDaGFuZ2VMaXN0ZW5lcnMucHVzaChlKSx0aGlzLl91cmxDaGFuZ2VTdWJzY3JpcHRpb258fCh0aGlzLl91cmxDaGFuZ2VTdWJzY3JpcHRpb249dGhpcy5zdWJzY3JpYmUoZT0+e3RoaXMuX25vdGlmeVVybENoYW5nZUxpc3RlbmVycyhlLnVybCxlLnN0YXRlKX0pKX1fbm90aWZ5VXJsQ2hhbmdlTGlzdGVuZXJzKGU9IiIsdCl7dGhpcy5fdXJsQ2hhbmdlTGlzdGVuZXJzLmZvckVhY2gobj0+bihlLHQpKX1zdWJzY3JpYmUoZSx0LG4pe3JldHVybiB0aGlzLl9zdWJqZWN0LnN1YnNjcmliZSh7bmV4dDplLGVycm9yOnQsY29tcGxldGU6bn0pfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaShPdSksY2koQ3UpKX0sZS5ub3JtYWxpemVRdWVyeVBhcmFtcz1BdSxlLmpvaW5XaXRoU2xhc2g9a3UsZS5zdHJpcFRyYWlsaW5nU2xhc2g9eHUsZS5cdTAyNzVwcm92PWhlKHtmYWN0b3J5OlZ1LHRva2VuOmUscHJvdmlkZWRJbjoicm9vdCJ9KSxlfSkoKTtmdW5jdGlvbiBWdSgpe3JldHVybiBuZXcgUHUoY2koT3UpLGNpKEN1KSl9ZnVuY3Rpb24gTHUoZSl7cmV0dXJuIGUucmVwbGFjZSgvXC9pbmRleC5odG1sJC8sIiIpfWNvbnN0IFJ1PXtBRFA6W3ZvaWQgMCx2b2lkIDAsMF0sQUZOOlt2b2lkIDAsdm9pZCAwLDBdLEFMTDpbdm9pZCAwLHZvaWQgMCwwXSxBTUQ6W3ZvaWQgMCx2b2lkIDAsMl0sQU9BOlt2b2lkIDAsIkt6Il0sQVJTOlt2b2lkIDAsIiQiXSxBVUQ6WyJBJCIsIiQiXSxCQU06W3ZvaWQgMCwiS00iXSxCQkQ6W3ZvaWQgMCwiJCJdLEJEVDpbdm9pZCAwLCJcdTA5ZjMiXSxCSEQ6W3ZvaWQgMCx2b2lkIDAsM10sQklGOlt2b2lkIDAsdm9pZCAwLDBdLEJNRDpbdm9pZCAwLCIkIl0sQk5EOlt2b2lkIDAsIiQiXSxCT0I6W3ZvaWQgMCwiQnMiXSxCUkw6WyJSJCJdLEJTRDpbdm9pZCAwLCIkIl0sQldQOlt2b2lkIDAsIlAiXSxCWU46W3ZvaWQgMCwiXHUwNDQwLiIsMl0sQllSOlt2b2lkIDAsdm9pZCAwLDBdLEJaRDpbdm9pZCAwLCIkIl0sQ0FEOlsiQ0EkIiwiJCIsMl0sQ0hGOlt2b2lkIDAsdm9pZCAwLDJdLENMRjpbdm9pZCAwLHZvaWQgMCw0XSxDTFA6W3ZvaWQgMCwiJCIsMF0sQ05ZOlsiQ05ceGE1IiwiXHhhNSJdLENPUDpbdm9pZCAwLCIkIiwyXSxDUkM6W3ZvaWQgMCwiXHUyMGExIiwyXSxDVUM6W3ZvaWQgMCwiJCJdLENVUDpbdm9pZCAwLCIkIl0sQ1pLOlt2b2lkIDAsIktcdTAxMGQiLDJdLERKRjpbdm9pZCAwLHZvaWQgMCwwXSxES0s6W3ZvaWQgMCwia3IiLDJdLERPUDpbdm9pZCAwLCIkIl0sRUdQOlt2b2lkIDAsIkVceGEzIl0sRVNQOlt2b2lkIDAsIlx1MjBhNyIsMF0sRVVSOlsiXHUyMGFjIl0sRkpEOlt2b2lkIDAsIiQiXSxGS1A6W3ZvaWQgMCwiXHhhMyJdLEdCUDpbIlx4YTMiXSxHRUw6W3ZvaWQgMCwiXHUyMGJlIl0sR0lQOlt2b2lkIDAsIlx4YTMiXSxHTkY6W3ZvaWQgMCwiRkciLDBdLEdUUTpbdm9pZCAwLCJRIl0sR1lEOlt2b2lkIDAsIiQiLDJdLEhLRDpbIkhLJCIsIiQiXSxITkw6W3ZvaWQgMCwiTCJdLEhSSzpbdm9pZCAwLCJrbiJdLEhVRjpbdm9pZCAwLCJGdCIsMl0sSURSOlt2b2lkIDAsIlJwIiwyXSxJTFM6WyJcdTIwYWEiXSxJTlI6WyJcdTIwYjkiXSxJUUQ6W3ZvaWQgMCx2b2lkIDAsMF0sSVJSOlt2b2lkIDAsdm9pZCAwLDBdLElTSzpbdm9pZCAwLCJrciIsMF0sSVRMOlt2b2lkIDAsdm9pZCAwLDBdLEpNRDpbdm9pZCAwLCIkIl0sSk9EOlt2b2lkIDAsdm9pZCAwLDNdLEpQWTpbIlx4YTUiLHZvaWQgMCwwXSxLSFI6W3ZvaWQgMCwiXHUxN2RiIl0sS01GOlt2b2lkIDAsIkNGIiwwXSxLUFc6W3ZvaWQgMCwiXHUyMGE5IiwwXSxLUlc6WyJcdTIwYTkiLHZvaWQgMCwwXSxLV0Q6W3ZvaWQgMCx2b2lkIDAsM10sS1lEOlt2b2lkIDAsIiQiXSxLWlQ6W3ZvaWQgMCwiXHUyMGI4Il0sTEFLOlt2b2lkIDAsIlx1MjBhZCIsMF0sTEJQOlt2b2lkIDAsIkxceGEzIiwwXSxMS1I6W3ZvaWQgMCwiUnMiXSxMUkQ6W3ZvaWQgMCwiJCJdLExUTDpbdm9pZCAwLCJMdCJdLExVRjpbdm9pZCAwLHZvaWQgMCwwXSxMVkw6W3ZvaWQgMCwiTHMiXSxMWUQ6W3ZvaWQgMCx2b2lkIDAsM10sTUdBOlt2b2lkIDAsIkFyIiwwXSxNR0Y6W3ZvaWQgMCx2b2lkIDAsMF0sTU1LOlt2b2lkIDAsIksiLDBdLE1OVDpbdm9pZCAwLCJcdTIwYWUiLDJdLE1STzpbdm9pZCAwLHZvaWQgMCwwXSxNVVI6W3ZvaWQgMCwiUnMiLDJdLE1YTjpbIk1YJCIsIiQiXSxNWVI6W3ZvaWQgMCwiUk0iXSxOQUQ6W3ZvaWQgMCwiJCJdLE5HTjpbdm9pZCAwLCJcdTIwYTYiXSxOSU86W3ZvaWQgMCwiQyQiXSxOT0s6W3ZvaWQgMCwia3IiLDJdLE5QUjpbdm9pZCAwLCJScyJdLE5aRDpbIk5aJCIsIiQiXSxPTVI6W3ZvaWQgMCx2b2lkIDAsM10sUEhQOlt2b2lkIDAsIlx1MjBiMSJdLFBLUjpbdm9pZCAwLCJScyIsMl0sUExOOlt2b2lkIDAsInpcdTAxNDIiXSxQWUc6W3ZvaWQgMCwiXHUyMGIyIiwwXSxST046W3ZvaWQgMCwibGVpIl0sUlNEOlt2b2lkIDAsdm9pZCAwLDBdLFJVQjpbdm9pZCAwLCJcdTIwYmQiXSxSVVI6W3ZvaWQgMCwiXHUwNDQwLiJdLFJXRjpbdm9pZCAwLCJSRiIsMF0sU0JEOlt2b2lkIDAsIiQiXSxTRUs6W3ZvaWQgMCwia3IiLDJdLFNHRDpbdm9pZCAwLCIkIl0sU0hQOlt2b2lkIDAsIlx4YTMiXSxTTEw6W3ZvaWQgMCx2b2lkIDAsMF0sU09TOlt2b2lkIDAsdm9pZCAwLDBdLFNSRDpbdm9pZCAwLCIkIl0sU1NQOlt2b2lkIDAsIlx4YTMiXSxTVEQ6W3ZvaWQgMCx2b2lkIDAsMF0sU1ROOlt2b2lkIDAsIkRiIl0sU1lQOlt2b2lkIDAsIlx4YTMiLDBdLFRIQjpbdm9pZCAwLCJcdTBlM2YiXSxUTU06W3ZvaWQgMCx2b2lkIDAsMF0sVE5EOlt2b2lkIDAsdm9pZCAwLDNdLFRPUDpbdm9pZCAwLCJUJCJdLFRSTDpbdm9pZCAwLHZvaWQgMCwwXSxUUlk6W3ZvaWQgMCwiXHUyMGJhIl0sVFREOlt2b2lkIDAsIiQiXSxUV0Q6WyJOVCQiLCIkIiwyXSxUWlM6W3ZvaWQgMCx2b2lkIDAsMl0sVUFIOlt2b2lkIDAsIlx1MjBiNCJdLFVHWDpbdm9pZCAwLHZvaWQgMCwwXSxVU0Q6WyIkIl0sVVlJOlt2b2lkIDAsdm9pZCAwLDBdLFVZVTpbdm9pZCAwLCIkIl0sVVlXOlt2b2lkIDAsdm9pZCAwLDRdLFVaUzpbdm9pZCAwLHZvaWQgMCwyXSxWRUY6W3ZvaWQgMCwiQnMiLDJdLFZORDpbIlx1MjBhYiIsdm9pZCAwLDBdLFZVVjpbdm9pZCAwLHZvaWQgMCwwXSxYQUY6WyJGQ0ZBIix2b2lkIDAsMF0sWENEOlsiRUMkIiwiJCJdLFhPRjpbIkNGQSIsdm9pZCAwLDBdLFhQRjpbIkNGUEYiLHZvaWQgMCwwXSxYWFg6WyJceGE0Il0sWUVSOlt2b2lkIDAsdm9pZCAwLDBdLFpBUjpbdm9pZCAwLCJSIl0sWk1LOlt2b2lkIDAsdm9pZCAwLDBdLFpNVzpbdm9pZCAwLCJaSyJdLFpXRDpbdm9pZCAwLHZvaWQgMCwwXX07dmFyIGp1PWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuRGVjaW1hbD0wXT0iRGVjaW1hbCIsZVtlLlBlcmNlbnQ9MV09IlBlcmNlbnQiLGVbZS5DdXJyZW5jeT0yXT0iQ3VycmVuY3kiLGVbZS5TY2llbnRpZmljPTNdPSJTY2llbnRpZmljIixlfSh7fSksTnU9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5aZXJvPTBdPSJaZXJvIixlW2UuT25lPTFdPSJPbmUiLGVbZS5Ud289Ml09IlR3byIsZVtlLkZldz0zXT0iRmV3IixlW2UuTWFueT00XT0iTWFueSIsZVtlLk90aGVyPTVdPSJPdGhlciIsZX0oe30pLEJ1PWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuRm9ybWF0PTBdPSJGb3JtYXQiLGVbZS5TdGFuZGFsb25lPTFdPSJTdGFuZGFsb25lIixlfSh7fSksJHU9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5OYXJyb3c9MF09Ik5hcnJvdyIsZVtlLkFiYnJldmlhdGVkPTFdPSJBYmJyZXZpYXRlZCIsZVtlLldpZGU9Ml09IldpZGUiLGVbZS5TaG9ydD0zXT0iU2hvcnQiLGV9KHt9KSxIdT1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLlNob3J0PTBdPSJTaG9ydCIsZVtlLk1lZGl1bT0xXT0iTWVkaXVtIixlW2UuTG9uZz0yXT0iTG9uZyIsZVtlLkZ1bGw9M109IkZ1bGwiLGV9KHt9KSxVdT1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLkRlY2ltYWw9MF09IkRlY2ltYWwiLGVbZS5Hcm91cD0xXT0iR3JvdXAiLGVbZS5MaXN0PTJdPSJMaXN0IixlW2UuUGVyY2VudFNpZ249M109IlBlcmNlbnRTaWduIixlW2UuUGx1c1NpZ249NF09IlBsdXNTaWduIixlW2UuTWludXNTaWduPTVdPSJNaW51c1NpZ24iLGVbZS5FeHBvbmVudGlhbD02XT0iRXhwb25lbnRpYWwiLGVbZS5TdXBlcnNjcmlwdGluZ0V4cG9uZW50PTddPSJTdXBlcnNjcmlwdGluZ0V4cG9uZW50IixlW2UuUGVyTWlsbGU9OF09IlBlck1pbGxlIixlW2VbMS8wXT05XT0iSW5maW5pdHkiLGVbZS5OYU49MTBdPSJOYU4iLGVbZS5UaW1lU2VwYXJhdG9yPTExXT0iVGltZVNlcGFyYXRvciIsZVtlLkN1cnJlbmN5RGVjaW1hbD0xMl09IkN1cnJlbmN5RGVjaW1hbCIsZVtlLkN1cnJlbmN5R3JvdXA9MTNdPSJDdXJyZW5jeUdyb3VwIixlfSh7fSk7ZnVuY3Rpb24gcXUoZSx0KXtyZXR1cm4gWnUoRGEoZSlbRWEuRGF0ZUZvcm1hdF0sdCl9ZnVuY3Rpb24genUoZSx0KXtyZXR1cm4gWnUoRGEoZSlbRWEuVGltZUZvcm1hdF0sdCl9ZnVuY3Rpb24gV3UoZSx0KXtyZXR1cm4gWnUoRGEoZSlbRWEuRGF0ZVRpbWVGb3JtYXRdLHQpfWZ1bmN0aW9uIEd1KGUsdCl7Y29uc3Qgbj1EYShlKSxpPW5bRWEuTnVtYmVyU3ltYm9sc11bdF07aWYodm9pZCAwPT09aSl7aWYodD09PVV1LkN1cnJlbmN5RGVjaW1hbClyZXR1cm4gbltFYS5OdW1iZXJTeW1ib2xzXVtVdS5EZWNpbWFsXTtpZih0PT09VXUuQ3VycmVuY3lHcm91cClyZXR1cm4gbltFYS5OdW1iZXJTeW1ib2xzXVtVdS5Hcm91cF19cmV0dXJuIGl9ZnVuY3Rpb24gS3UoZSx0KXtyZXR1cm4gRGEoZSlbRWEuTnVtYmVyRm9ybWF0c11bdF19ZnVuY3Rpb24gWXUoZSl7aWYoIWVbRWEuRXh0cmFEYXRhXSl0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgZXh0cmEgbG9jYWxlIGRhdGEgZm9yIHRoZSBsb2NhbGUgIiR7ZVtFYS5Mb2NhbGVJZF19Ii4gVXNlICJyZWdpc3RlckxvY2FsZURhdGEiIHRvIGxvYWQgbmV3IGRhdGEuIFNlZSB0aGUgIkkxOG4gZ3VpZGUiIG9uIGFuZ3VsYXIuaW8gdG8ga25vdyBtb3JlLmApfWZ1bmN0aW9uIFp1KGUsdCl7Zm9yKGxldCBuPXQ7bj4tMTtuLS0paWYodm9pZCAwIT09ZVtuXSlyZXR1cm4gZVtuXTt0aHJvdyBuZXcgRXJyb3IoIkxvY2FsZSBkYXRhIEFQSTogbG9jYWxlIGRhdGEgdW5kZWZpbmVkIil9ZnVuY3Rpb24gUXUoZSl7Y29uc3RbdCxuXT1lLnNwbGl0KCI6Iik7cmV0dXJue2hvdXJzOit0LG1pbnV0ZXM6K259fWNvbnN0IEp1PS9eKFxkezR9KS0/KFxkXGQpLT8oXGRcZCkoPzpUKFxkXGQpKD86Oj8oXGRcZCkoPzo6PyhcZFxkKSg/OlwuKFxkKykpPyk/KT8oWnwoWystXSkoXGRcZCk6PyhcZFxkKSk/KT8kLyxYdT17fSxlaD0vKCg/OlteQkVHSExNT1NXWVphYmNkaG1zd3l6J10rKXwoPzonKD86W14nXXwnJykqJyl8KD86R3sxLDV9fHl7MSw0fXxZezEsNH18TXsxLDV9fEx7MSw1fXx3ezEsMn18V3sxfXxkezEsMn18RXsxLDZ9fGN7MSw2fXxhezEsNX18YnsxLDV9fEJ7MSw1fXxoezEsMn18SHsxLDJ9fG17MSwyfXxzezEsMn18U3sxLDN9fHp7MSw0fXxaezEsNX18T3sxLDR9KSkoW1xzXFNdKikvO3ZhciB0aD1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLlNob3J0PTBdPSJTaG9ydCIsZVtlLlNob3J0R01UPTFdPSJTaG9ydEdNVCIsZVtlLkxvbmc9Ml09IkxvbmciLGVbZS5FeHRlbmRlZD0zXT0iRXh0ZW5kZWQiLGV9KHt9KSxuaD1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLkZ1bGxZZWFyPTBdPSJGdWxsWWVhciIsZVtlLk1vbnRoPTFdPSJNb250aCIsZVtlLkRhdGU9Ml09IkRhdGUiLGVbZS5Ib3Vycz0zXT0iSG91cnMiLGVbZS5NaW51dGVzPTRdPSJNaW51dGVzIixlW2UuU2Vjb25kcz01XT0iU2Vjb25kcyIsZVtlLkZyYWN0aW9uYWxTZWNvbmRzPTZdPSJGcmFjdGlvbmFsU2Vjb25kcyIsZVtlLkRheT03XT0iRGF5IixlfSh7fSksaWg9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5EYXlQZXJpb2RzPTBdPSJEYXlQZXJpb2RzIixlW2UuRGF5cz0xXT0iRGF5cyIsZVtlLk1vbnRocz0yXT0iTW9udGhzIixlW2UuRXJhcz0zXT0iRXJhcyIsZX0oe30pO2Z1bmN0aW9uIHNoKGUsdCxuLGkpe2xldCBzPWZ1bmN0aW9uKGUpe2lmKHZoKGUpKXJldHVybiBlO2lmKCJudW1iZXIiPT10eXBlb2YgZSYmIWlzTmFOKGUpKXJldHVybiBuZXcgRGF0ZShlKTtpZigic3RyaW5nIj09dHlwZW9mIGUpe2lmKGU9ZS50cmltKCksL14oXGR7NH0oLVxkezEsMn0oLVxkezEsMn0pPyk/KSQvLnRlc3QoZSkpe2NvbnN0W3Qsbj0xLGk9MV09ZS5zcGxpdCgiLSIpLm1hcChlPT4rZSk7cmV0dXJuIG9oKHQsbi0xLGkpfWNvbnN0IHQ9cGFyc2VGbG9hdChlKTtpZighaXNOYU4oZS10KSlyZXR1cm4gbmV3IERhdGUodCk7bGV0IG47aWYobj1lLm1hdGNoKEp1KSlyZXR1cm4gZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgRGF0ZSgwKTtsZXQgbj0wLGk9MDtjb25zdCBzPWVbOF0/dC5zZXRVVENGdWxsWWVhcjp0LnNldEZ1bGxZZWFyLG89ZVs4XT90LnNldFVUQ0hvdXJzOnQuc2V0SG91cnM7ZVs5XSYmKG49TnVtYmVyKGVbOV0rZVsxMF0pLGk9TnVtYmVyKGVbOV0rZVsxMV0pKSxzLmNhbGwodCxOdW1iZXIoZVsxXSksTnVtYmVyKGVbMl0pLTEsTnVtYmVyKGVbM10pKTtjb25zdCByPU51bWJlcihlWzRdfHwwKS1uLGE9TnVtYmVyKGVbNV18fDApLWksbD1OdW1iZXIoZVs2XXx8MCksYz1NYXRoLmZsb29yKDFlMypwYXJzZUZsb2F0KCIwLiIrKGVbN118fDApKSk7cmV0dXJuIG8uY2FsbCh0LHIsYSxsLGMpLHR9KG4pfWNvbnN0IHQ9bmV3IERhdGUoZSk7aWYoIXZoKHQpKXRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNvbnZlcnQgIiR7ZX0iIGludG8gYSBkYXRlYCk7cmV0dXJuIHR9KGUpO3Q9cmgobix0KXx8dDtsZXQgbyxyPVtdO2Zvcig7dDspe2lmKG89ZWguZXhlYyh0KSwhbyl7ci5wdXNoKHQpO2JyZWFrfXtyPXIuY29uY2F0KG8uc2xpY2UoMSkpO2NvbnN0IGU9ci5wb3AoKTtpZighZSlicmVhazt0PWV9fWxldCBhPXMuZ2V0VGltZXpvbmVPZmZzZXQoKTtpJiYoYT1taChpLGEpLHM9ZnVuY3Rpb24oZSx0LG4pe2NvbnN0IGk9ZS5nZXRUaW1lem9uZU9mZnNldCgpO3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybihlPW5ldyBEYXRlKGUuZ2V0VGltZSgpKSkuc2V0TWludXRlcyhlLmdldE1pbnV0ZXMoKSt0KSxlfShlLC0xKihtaCh0LGkpLWkpKX0ocyxpKSk7bGV0IGw9IiI7cmV0dXJuIHIuZm9yRWFjaChlPT57Y29uc3QgdD1mdW5jdGlvbihlKXtpZihnaFtlXSlyZXR1cm4gZ2hbZV07bGV0IHQ7c3dpdGNoKGUpe2Nhc2UiRyI6Y2FzZSJHRyI6Y2FzZSJHR0ciOnQ9dWgoaWguRXJhcywkdS5BYmJyZXZpYXRlZCk7YnJlYWs7Y2FzZSJHR0dHIjp0PXVoKGloLkVyYXMsJHUuV2lkZSk7YnJlYWs7Y2FzZSJHR0dHRyI6dD11aChpaC5FcmFzLCR1Lk5hcnJvdyk7YnJlYWs7Y2FzZSJ5Ijp0PWNoKG5oLkZ1bGxZZWFyLDEsMCwhMSwhMCk7YnJlYWs7Y2FzZSJ5eSI6dD1jaChuaC5GdWxsWWVhciwyLDAsITAsITApO2JyZWFrO2Nhc2UieXl5Ijp0PWNoKG5oLkZ1bGxZZWFyLDMsMCwhMSwhMCk7YnJlYWs7Y2FzZSJ5eXl5Ijp0PWNoKG5oLkZ1bGxZZWFyLDQsMCwhMSwhMCk7YnJlYWs7Y2FzZSJZIjp0PWZoKDEpO2JyZWFrO2Nhc2UiWVkiOnQ9ZmgoMiwhMCk7YnJlYWs7Y2FzZSJZWVkiOnQ9ZmgoMyk7YnJlYWs7Y2FzZSJZWVlZIjp0PWZoKDQpO2JyZWFrO2Nhc2UiTSI6Y2FzZSJMIjp0PWNoKG5oLk1vbnRoLDEsMSk7YnJlYWs7Y2FzZSJNTSI6Y2FzZSJMTCI6dD1jaChuaC5Nb250aCwyLDEpO2JyZWFrO2Nhc2UiTU1NIjp0PXVoKGloLk1vbnRocywkdS5BYmJyZXZpYXRlZCk7YnJlYWs7Y2FzZSJNTU1NIjp0PXVoKGloLk1vbnRocywkdS5XaWRlKTticmVhaztjYXNlIk1NTU1NIjp0PXVoKGloLk1vbnRocywkdS5OYXJyb3cpO2JyZWFrO2Nhc2UiTExMIjp0PXVoKGloLk1vbnRocywkdS5BYmJyZXZpYXRlZCxCdS5TdGFuZGFsb25lKTticmVhaztjYXNlIkxMTEwiOnQ9dWgoaWguTW9udGhzLCR1LldpZGUsQnUuU3RhbmRhbG9uZSk7YnJlYWs7Y2FzZSJMTExMTCI6dD11aChpaC5Nb250aHMsJHUuTmFycm93LEJ1LlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UidyI6dD1waCgxKTticmVhaztjYXNlInd3Ijp0PXBoKDIpO2JyZWFrO2Nhc2UiVyI6dD1waCgxLCEwKTticmVhaztjYXNlImQiOnQ9Y2gobmguRGF0ZSwxKTticmVhaztjYXNlImRkIjp0PWNoKG5oLkRhdGUsMik7YnJlYWs7Y2FzZSJjIjpjYXNlImNjIjp0PWNoKG5oLkRheSwxKTticmVhaztjYXNlImNjYyI6dD11aChpaC5EYXlzLCR1LkFiYnJldmlhdGVkLEJ1LlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UiY2NjYyI6dD11aChpaC5EYXlzLCR1LldpZGUsQnUuU3RhbmRhbG9uZSk7YnJlYWs7Y2FzZSJjY2NjYyI6dD11aChpaC5EYXlzLCR1Lk5hcnJvdyxCdS5TdGFuZGFsb25lKTticmVhaztjYXNlImNjY2NjYyI6dD11aChpaC5EYXlzLCR1LlNob3J0LEJ1LlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UiRSI6Y2FzZSJFRSI6Y2FzZSJFRUUiOnQ9dWgoaWguRGF5cywkdS5BYmJyZXZpYXRlZCk7YnJlYWs7Y2FzZSJFRUVFIjp0PXVoKGloLkRheXMsJHUuV2lkZSk7YnJlYWs7Y2FzZSJFRUVFRSI6dD11aChpaC5EYXlzLCR1Lk5hcnJvdyk7YnJlYWs7Y2FzZSJFRUVFRUUiOnQ9dWgoaWguRGF5cywkdS5TaG9ydCk7YnJlYWs7Y2FzZSJhIjpjYXNlImFhIjpjYXNlImFhYSI6dD11aChpaC5EYXlQZXJpb2RzLCR1LkFiYnJldmlhdGVkKTticmVhaztjYXNlImFhYWEiOnQ9dWgoaWguRGF5UGVyaW9kcywkdS5XaWRlKTticmVhaztjYXNlImFhYWFhIjp0PXVoKGloLkRheVBlcmlvZHMsJHUuTmFycm93KTticmVhaztjYXNlImIiOmNhc2UiYmIiOmNhc2UiYmJiIjp0PXVoKGloLkRheVBlcmlvZHMsJHUuQWJicmV2aWF0ZWQsQnUuU3RhbmRhbG9uZSwhMCk7YnJlYWs7Y2FzZSJiYmJiIjp0PXVoKGloLkRheVBlcmlvZHMsJHUuV2lkZSxCdS5TdGFuZGFsb25lLCEwKTticmVhaztjYXNlImJiYmJiIjp0PXVoKGloLkRheVBlcmlvZHMsJHUuTmFycm93LEJ1LlN0YW5kYWxvbmUsITApO2JyZWFrO2Nhc2UiQiI6Y2FzZSJCQiI6Y2FzZSJCQkIiOnQ9dWgoaWguRGF5UGVyaW9kcywkdS5BYmJyZXZpYXRlZCxCdS5Gb3JtYXQsITApO2JyZWFrO2Nhc2UiQkJCQiI6dD11aChpaC5EYXlQZXJpb2RzLCR1LldpZGUsQnUuRm9ybWF0LCEwKTticmVhaztjYXNlIkJCQkJCIjp0PXVoKGloLkRheVBlcmlvZHMsJHUuTmFycm93LEJ1LkZvcm1hdCwhMCk7YnJlYWs7Y2FzZSJoIjp0PWNoKG5oLkhvdXJzLDEsLTEyKTticmVhaztjYXNlImhoIjp0PWNoKG5oLkhvdXJzLDIsLTEyKTticmVhaztjYXNlIkgiOnQ9Y2gobmguSG91cnMsMSk7YnJlYWs7Y2FzZSJISCI6dD1jaChuaC5Ib3VycywyKTticmVhaztjYXNlIm0iOnQ9Y2gobmguTWludXRlcywxKTticmVhaztjYXNlIm1tIjp0PWNoKG5oLk1pbnV0ZXMsMik7YnJlYWs7Y2FzZSJzIjp0PWNoKG5oLlNlY29uZHMsMSk7YnJlYWs7Y2FzZSJzcyI6dD1jaChuaC5TZWNvbmRzLDIpO2JyZWFrO2Nhc2UiUyI6dD1jaChuaC5GcmFjdGlvbmFsU2Vjb25kcywxKTticmVhaztjYXNlIlNTIjp0PWNoKG5oLkZyYWN0aW9uYWxTZWNvbmRzLDIpO2JyZWFrO2Nhc2UiU1NTIjp0PWNoKG5oLkZyYWN0aW9uYWxTZWNvbmRzLDMpO2JyZWFrO2Nhc2UiWiI6Y2FzZSJaWiI6Y2FzZSJaWloiOnQ9aGgodGguU2hvcnQpO2JyZWFrO2Nhc2UiWlpaWloiOnQ9aGgodGguRXh0ZW5kZWQpO2JyZWFrO2Nhc2UiTyI6Y2FzZSJPTyI6Y2FzZSJPT08iOmNhc2UieiI6Y2FzZSJ6eiI6Y2FzZSJ6enoiOnQ9aGgodGguU2hvcnRHTVQpO2JyZWFrO2Nhc2UiT09PTyI6Y2FzZSJaWlpaIjpjYXNlInp6enoiOnQ9aGgodGguTG9uZyk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gbnVsbH1yZXR1cm4gZ2hbZV09dCx0fShlKTtsKz10P3QocyxuLGEpOiInJyI9PT1lPyInIjplLnJlcGxhY2UoLyheJ3wnJCkvZywiIikucmVwbGFjZSgvJycvZywiJyIpfSksbH1mdW5jdGlvbiBvaChlLHQsbil7Y29uc3QgaT1uZXcgRGF0ZSgwKTtyZXR1cm4gaS5zZXRGdWxsWWVhcihlLHQsbiksaS5zZXRIb3VycygwLDAsMCksaX1mdW5jdGlvbiByaChlLHQpe2NvbnN0IG49ZnVuY3Rpb24oZSl7cmV0dXJuIERhKGUpW0VhLkxvY2FsZUlkXX0oZSk7aWYoWHVbbl09WHVbbl18fHt9LFh1W25dW3RdKXJldHVybiBYdVtuXVt0XTtsZXQgaT0iIjtzd2l0Y2godCl7Y2FzZSJzaG9ydERhdGUiOmk9cXUoZSxIdS5TaG9ydCk7YnJlYWs7Y2FzZSJtZWRpdW1EYXRlIjppPXF1KGUsSHUuTWVkaXVtKTticmVhaztjYXNlImxvbmdEYXRlIjppPXF1KGUsSHUuTG9uZyk7YnJlYWs7Y2FzZSJmdWxsRGF0ZSI6aT1xdShlLEh1LkZ1bGwpO2JyZWFrO2Nhc2Uic2hvcnRUaW1lIjppPXp1KGUsSHUuU2hvcnQpO2JyZWFrO2Nhc2UibWVkaXVtVGltZSI6aT16dShlLEh1Lk1lZGl1bSk7YnJlYWs7Y2FzZSJsb25nVGltZSI6aT16dShlLEh1LkxvbmcpO2JyZWFrO2Nhc2UiZnVsbFRpbWUiOmk9enUoZSxIdS5GdWxsKTticmVhaztjYXNlInNob3J0Ijpjb25zdCB0PXJoKGUsInNob3J0VGltZSIpLG49cmgoZSwic2hvcnREYXRlIik7aT1haChXdShlLEh1LlNob3J0KSxbdCxuXSk7YnJlYWs7Y2FzZSJtZWRpdW0iOmNvbnN0IHM9cmgoZSwibWVkaXVtVGltZSIpLG89cmgoZSwibWVkaXVtRGF0ZSIpO2k9YWgoV3UoZSxIdS5NZWRpdW0pLFtzLG9dKTticmVhaztjYXNlImxvbmciOmNvbnN0IHI9cmgoZSwibG9uZ1RpbWUiKSxhPXJoKGUsImxvbmdEYXRlIik7aT1haChXdShlLEh1LkxvbmcpLFtyLGFdKTticmVhaztjYXNlImZ1bGwiOmNvbnN0IGw9cmgoZSwiZnVsbFRpbWUiKSxjPXJoKGUsImZ1bGxEYXRlIik7aT1haChXdShlLEh1LkZ1bGwpLFtsLGNdKX1yZXR1cm4gaSYmKFh1W25dW3RdPWkpLGl9ZnVuY3Rpb24gYWgoZSx0KXtyZXR1cm4gdCYmKGU9ZS5yZXBsYWNlKC9ceyhbXn1dKyl9L2csZnVuY3Rpb24oZSxuKXtyZXR1cm4gbnVsbCE9dCYmbiBpbiB0P3Rbbl06ZX0pKSxlfWZ1bmN0aW9uIGxoKGUsdCxuPSItIixpLHMpe2xldCBvPSIiOyhlPDB8fHMmJmU8PTApJiYocz9lPTEtZTooZT0tZSxvPW4pKTtsZXQgcj1TdHJpbmcoZSk7Zm9yKDtyLmxlbmd0aDx0OylyPSIwIityO3JldHVybiBpJiYocj1yLnN1YnN0cihyLmxlbmd0aC10KSksbytyfWZ1bmN0aW9uIGNoKGUsdCxuPTAsaT0hMSxzPSExKXtyZXR1cm4gZnVuY3Rpb24obyxyKXtsZXQgYT1mdW5jdGlvbihlLHQpe3N3aXRjaChlKXtjYXNlIG5oLkZ1bGxZZWFyOnJldHVybiB0LmdldEZ1bGxZZWFyKCk7Y2FzZSBuaC5Nb250aDpyZXR1cm4gdC5nZXRNb250aCgpO2Nhc2UgbmguRGF0ZTpyZXR1cm4gdC5nZXREYXRlKCk7Y2FzZSBuaC5Ib3VyczpyZXR1cm4gdC5nZXRIb3VycygpO2Nhc2UgbmguTWludXRlczpyZXR1cm4gdC5nZXRNaW51dGVzKCk7Y2FzZSBuaC5TZWNvbmRzOnJldHVybiB0LmdldFNlY29uZHMoKTtjYXNlIG5oLkZyYWN0aW9uYWxTZWNvbmRzOnJldHVybiB0LmdldE1pbGxpc2Vjb25kcygpO2Nhc2UgbmguRGF5OnJldHVybiB0LmdldERheSgpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIERhdGVUeXBlIHZhbHVlICIke2V9Ii5gKX19KGUsbyk7aWYoKG4+MHx8YT4tbikmJihhKz1uKSxlPT09bmguSG91cnMpMD09PWEmJi0xMj09PW4mJihhPTEyKTtlbHNlIGlmKGU9PT1uaC5GcmFjdGlvbmFsU2Vjb25kcylyZXR1cm4gbD10LGxoKGEsMykuc3Vic3RyKDAsbCk7dmFyIGw7Y29uc3QgYz1HdShyLFV1Lk1pbnVzU2lnbik7cmV0dXJuIGxoKGEsdCxjLGkscyl9fWZ1bmN0aW9uIHVoKGUsdCxuPUJ1LkZvcm1hdCxpPSExKXtyZXR1cm4gZnVuY3Rpb24ocyxvKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4saSxzLG8pe3N3aXRjaChuKXtjYXNlIGloLk1vbnRoczpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe2NvbnN0IGk9RGEoZSkscz1adShbaVtFYS5Nb250aHNGb3JtYXRdLGlbRWEuTW9udGhzU3RhbmRhbG9uZV1dLHQpO3JldHVybiBadShzLG4pfSh0LHMsaSlbZS5nZXRNb250aCgpXTtjYXNlIGloLkRheXM6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtjb25zdCBpPURhKGUpLHM9WnUoW2lbRWEuRGF5c0Zvcm1hdF0saVtFYS5EYXlzU3RhbmRhbG9uZV1dLHQpO3JldHVybiBadShzLG4pfSh0LHMsaSlbZS5nZXREYXkoKV07Y2FzZSBpaC5EYXlQZXJpb2RzOmNvbnN0IHI9ZS5nZXRIb3VycygpLGE9ZS5nZXRNaW51dGVzKCk7aWYobyl7Y29uc3QgZT1mdW5jdGlvbihlKXtjb25zdCB0PURhKGUpO3JldHVybiBZdSh0KSwodFtFYS5FeHRyYURhdGFdWzJdfHxbXSkubWFwKGU9PiJzdHJpbmciPT10eXBlb2YgZT9RdShlKTpbUXUoZVswXSksUXUoZVsxXSldKX0odCksbj1mdW5jdGlvbihlLHQsbil7Y29uc3QgaT1EYShlKTtZdShpKTtjb25zdCBzPVp1KFtpW0VhLkV4dHJhRGF0YV1bMF0saVtFYS5FeHRyYURhdGFdWzFdXSx0KXx8W107cmV0dXJuIFp1KHMsbil8fFtdfSh0LHMsaSksbz1lLmZpbmRJbmRleChlPT57aWYoQXJyYXkuaXNBcnJheShlKSl7Y29uc3RbdCxuXT1lLGk9cj49dC5ob3VycyYmYT49dC5taW51dGVzLHM9cjxuLmhvdXJzfHxyPT09bi5ob3VycyYmYTxuLm1pbnV0ZXM7aWYodC5ob3VyczxuLmhvdXJzKXtpZihpJiZzKXJldHVybiEwfWVsc2UgaWYoaXx8cylyZXR1cm4hMH1lbHNlIGlmKGUuaG91cnM9PT1yJiZlLm1pbnV0ZXM9PT1hKXJldHVybiEwO3JldHVybiExfSk7aWYoLTEhPT1vKXJldHVybiBuW29dfXJldHVybiBmdW5jdGlvbihlLHQsbil7Y29uc3QgaT1EYShlKSxzPVp1KFtpW0VhLkRheVBlcmlvZHNGb3JtYXRdLGlbRWEuRGF5UGVyaW9kc1N0YW5kYWxvbmVdXSx0KTtyZXR1cm4gWnUocyxuKX0odCxzLGkpW3I8MTI/MDoxXTtjYXNlIGloLkVyYXM6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFp1KERhKGUpW0VhLkVyYXNdLHQpfSh0LGkpW2UuZ2V0RnVsbFllYXIoKTw9MD8wOjFdO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bmV4cGVjdGVkIHRyYW5zbGF0aW9uIHR5cGUgJHtufWApfX0ocyxvLGUsdCxuLGkpfX1mdW5jdGlvbiBoaChlKXtyZXR1cm4gZnVuY3Rpb24odCxuLGkpe2NvbnN0IHM9LTEqaSxvPUd1KG4sVXUuTWludXNTaWduKSxyPXM+MD9NYXRoLmZsb29yKHMvNjApOk1hdGguY2VpbChzLzYwKTtzd2l0Y2goZSl7Y2FzZSB0aC5TaG9ydDpyZXR1cm4ocz49MD8iKyI6IiIpK2xoKHIsMixvKStsaChNYXRoLmFicyhzJTYwKSwyLG8pO2Nhc2UgdGguU2hvcnRHTVQ6cmV0dXJuIkdNVCIrKHM+PTA/IisiOiIiKStsaChyLDEsbyk7Y2FzZSB0aC5Mb25nOnJldHVybiJHTVQiKyhzPj0wPyIrIjoiIikrbGgociwyLG8pKyI6IitsaChNYXRoLmFicyhzJTYwKSwyLG8pO2Nhc2UgdGguRXh0ZW5kZWQ6cmV0dXJuIDA9PT1pPyJaIjoocz49MD8iKyI6IiIpK2xoKHIsMixvKSsiOiIrbGgoTWF0aC5hYnMocyU2MCksMixvKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biB6b25lIHdpZHRoICIke2V9ImApfX19ZnVuY3Rpb24gZGgoZSl7cmV0dXJuIG9oKGUuZ2V0RnVsbFllYXIoKSxlLmdldE1vbnRoKCksZS5nZXREYXRlKCkrKDQtZS5nZXREYXkoKSkpfWZ1bmN0aW9uIHBoKGUsdD0hMSl7cmV0dXJuIGZ1bmN0aW9uKG4saSl7bGV0IHM7aWYodCl7Y29uc3QgZT1uZXcgRGF0ZShuLmdldEZ1bGxZZWFyKCksbi5nZXRNb250aCgpLDEpLmdldERheSgpLTEsdD1uLmdldERhdGUoKTtzPTErTWF0aC5mbG9vcigodCtlKS83KX1lbHNle2NvbnN0IGU9ZGgobiksdD1mdW5jdGlvbihlKXtjb25zdCB0PW9oKGUsMCwxKS5nZXREYXkoKTtyZXR1cm4gb2goZSwwLDErKHQ8PTQ/NDoxMSktdCl9KGUuZ2V0RnVsbFllYXIoKSksaT1lLmdldFRpbWUoKS10LmdldFRpbWUoKTtzPTErTWF0aC5yb3VuZChpLzYwNDhlNSl9cmV0dXJuIGxoKHMsZSxHdShpLFV1Lk1pbnVzU2lnbikpfX1mdW5jdGlvbiBmaChlLHQ9ITEpe3JldHVybiBmdW5jdGlvbihuLGkpe3JldHVybiBsaChkaChuKS5nZXRGdWxsWWVhcigpLGUsR3UoaSxVdS5NaW51c1NpZ24pLHQpfX1jb25zdCBnaD17fTtmdW5jdGlvbiBtaChlLHQpe2U9ZS5yZXBsYWNlKC86L2csIiIpO2NvbnN0IG49RGF0ZS5wYXJzZSgiSmFuIDAxLCAxOTcwIDAwOjAwOjAwICIrZSkvNmU0O3JldHVybiBpc05hTihuKT90Om59ZnVuY3Rpb24gdmgoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBEYXRlJiYhaXNOYU4oZS52YWx1ZU9mKCkpfWNvbnN0IGJoPS9eKFxkKyk/XC4oKFxkKykoLShcZCspKT8pPyQvLHloPSIuIixDaD0iMCI7ZnVuY3Rpb24gd2goZSx0LG4saSxzLG8scj0hMSl7bGV0IGE9IiIsbD0hMTtpZihpc0Zpbml0ZShlKSl7bGV0IGM9ZnVuY3Rpb24oZSl7bGV0IHQsbixpLHMsbyxyPU1hdGguYWJzKGUpKyIiLGE9MDtmb3IoKG49ci5pbmRleE9mKHloKSk+LTEmJihyPXIucmVwbGFjZSh5aCwiIikpLChpPXIuc2VhcmNoKC9lL2kpKT4wPyhuPDAmJihuPWkpLG4rPStyLnNsaWNlKGkrMSkscj1yLnN1YnN0cmluZygwLGkpKTpuPDAmJihuPXIubGVuZ3RoKSxpPTA7ci5jaGFyQXQoaSk9PT1DaDtpKyspO2lmKGk9PT0obz1yLmxlbmd0aCkpdD1bMF0sbj0xO2Vsc2V7Zm9yKG8tLTtyLmNoYXJBdChvKT09PUNoOylvLS07Zm9yKG4tPWksdD1bXSxzPTA7aTw9bztpKysscysrKXRbc109TnVtYmVyKHIuY2hhckF0KGkpKX1yZXR1cm4gbj4yMiYmKHQ9dC5zcGxpY2UoMCwyMSksYT1uLTEsbj0xKSx7ZGlnaXRzOnQsZXhwb25lbnQ6YSxpbnRlZ2VyTGVuOm59fShlKTtyJiYoYz1mdW5jdGlvbihlKXtpZigwPT09ZS5kaWdpdHNbMF0pcmV0dXJuIGU7Y29uc3QgdD1lLmRpZ2l0cy5sZW5ndGgtZS5pbnRlZ2VyTGVuO3JldHVybiBlLmV4cG9uZW50P2UuZXhwb25lbnQrPTI6KDA9PT10P2UuZGlnaXRzLnB1c2goMCwwKToxPT09dCYmZS5kaWdpdHMucHVzaCgwKSxlLmludGVnZXJMZW4rPTIpLGV9KGMpKTtsZXQgdT10Lm1pbkludCxoPXQubWluRnJhYyxkPXQubWF4RnJhYztpZihvKXtjb25zdCBlPW8ubWF0Y2goYmgpO2lmKG51bGw9PT1lKXRocm93IG5ldyBFcnJvcihgJHtvfSBpcyBub3QgYSB2YWxpZCBkaWdpdCBpbmZvYCk7Y29uc3QgdD1lWzFdLG49ZVszXSxpPWVbNV07bnVsbCE9dCYmKHU9RGgodCkpLG51bGwhPW4mJihoPURoKG4pKSxudWxsIT1pP2Q9RGgoaSk6bnVsbCE9biYmaD5kJiYoZD1oKX0hZnVuY3Rpb24oZSx0LG4pe2lmKHQ+bil0aHJvdyBuZXcgRXJyb3IoYFRoZSBtaW5pbXVtIG51bWJlciBvZiBkaWdpdHMgYWZ0ZXIgZnJhY3Rpb24gKCR7dH0pIGlzIGhpZ2hlciB0aGFuIHRoZSBtYXhpbXVtICgke259KS5gKTtsZXQgaT1lLmRpZ2l0cyxzPWkubGVuZ3RoLWUuaW50ZWdlckxlbjtjb25zdCBvPU1hdGgubWluKE1hdGgubWF4KHQscyksbik7bGV0IHI9bytlLmludGVnZXJMZW4sYT1pW3JdO2lmKHI+MCl7aS5zcGxpY2UoTWF0aC5tYXgoZS5pbnRlZ2VyTGVuLHIpKTtmb3IobGV0IGU9cjtlPGkubGVuZ3RoO2UrKylpW2VdPTB9ZWxzZXtzPU1hdGgubWF4KDAscyksZS5pbnRlZ2VyTGVuPTEsaS5sZW5ndGg9TWF0aC5tYXgoMSxyPW8rMSksaVswXT0wO2ZvcihsZXQgZT0xO2U8cjtlKyspaVtlXT0wfWlmKGE+PTUpaWYoci0xPDApe2ZvcihsZXQgdD0wO3Q+cjt0LS0paS51bnNoaWZ0KDApLGUuaW50ZWdlckxlbisrO2kudW5zaGlmdCgxKSxlLmludGVnZXJMZW4rK31lbHNlIGlbci0xXSsrO2Zvcig7czxNYXRoLm1heCgwLG8pO3MrKylpLnB1c2goMCk7bGV0IGw9MCE9PW87Y29uc3QgYz10K2UuaW50ZWdlckxlbix1PWkucmVkdWNlUmlnaHQoZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIGlbbl09KHQrPWUpPDEwP3Q6dC0xMCxsJiYoMD09PWlbbl0mJm4+PWM/aS5wb3AoKTpsPSExKSx0Pj0xMD8xOjB9LDApO3UmJihpLnVuc2hpZnQodSksZS5pbnRlZ2VyTGVuKyspfShjLGgsZCk7bGV0IHA9Yy5kaWdpdHMsZj1jLmludGVnZXJMZW47Y29uc3QgZz1jLmV4cG9uZW50O2xldCBtPVtdO2ZvcihsPXAuZXZlcnkoZT0+IWUpO2Y8dTtmKyspcC51bnNoaWZ0KDApO2Zvcig7ZjwwO2YrKylwLnVuc2hpZnQoMCk7Zj4wP209cC5zcGxpY2UoZixwLmxlbmd0aCk6KG09cCxwPVswXSk7Y29uc3Qgdj1bXTtmb3IocC5sZW5ndGg+PXQubGdTaXplJiZ2LnVuc2hpZnQocC5zcGxpY2UoLXQubGdTaXplLHAubGVuZ3RoKS5qb2luKCIiKSk7cC5sZW5ndGg+dC5nU2l6ZTspdi51bnNoaWZ0KHAuc3BsaWNlKC10LmdTaXplLHAubGVuZ3RoKS5qb2luKCIiKSk7cC5sZW5ndGgmJnYudW5zaGlmdChwLmpvaW4oIiIpKSxhPXYuam9pbihHdShuLGkpKSxtLmxlbmd0aCYmKGErPUd1KG4scykrbS5qb2luKCIiKSksZyYmKGErPUd1KG4sVXUuRXhwb25lbnRpYWwpKyIrIitnKX1lbHNlIGE9R3UobixVdS5JbmZpbml0eSk7cmV0dXJuIGE9ZTwwJiYhbD90Lm5lZ1ByZSthK3QubmVnU3VmOnQucG9zUHJlK2ErdC5wb3NTdWYsYX1mdW5jdGlvbiBfaChlLHQ9Ii0iKXtjb25zdCBuPXttaW5JbnQ6MSxtaW5GcmFjOjAsbWF4RnJhYzowLHBvc1ByZToiIixwb3NTdWY6IiIsbmVnUHJlOiIiLG5lZ1N1ZjoiIixnU2l6ZTowLGxnU2l6ZTowfSxpPWUuc3BsaXQoIjsiKSxzPWlbMF0sbz1pWzFdLHI9LTEhPT1zLmluZGV4T2YoeWgpP3Muc3BsaXQoeWgpOltzLnN1YnN0cmluZygwLHMubGFzdEluZGV4T2YoQ2gpKzEpLHMuc3Vic3RyaW5nKHMubGFzdEluZGV4T2YoQ2gpKzEpXSxhPXJbMF0sbD1yWzFdfHwiIjtuLnBvc1ByZT1hLnN1YnN0cigwLGEuaW5kZXhPZigiIyIpKTtmb3IobGV0IHU9MDt1PGwubGVuZ3RoO3UrKyl7Y29uc3QgZT1sLmNoYXJBdCh1KTtlPT09Q2g/bi5taW5GcmFjPW4ubWF4RnJhYz11KzE6IiMiPT09ZT9uLm1heEZyYWM9dSsxOm4ucG9zU3VmKz1lfWNvbnN0IGM9YS5zcGxpdCgiLCIpO2lmKG4uZ1NpemU9Y1sxXT9jWzFdLmxlbmd0aDowLG4ubGdTaXplPWNbMl18fGNbMV0/KGNbMl18fGNbMV0pLmxlbmd0aDowLG8pe2NvbnN0IGU9cy5sZW5ndGgtbi5wb3NQcmUubGVuZ3RoLW4ucG9zU3VmLmxlbmd0aCx0PW8uaW5kZXhPZigiIyIpO24ubmVnUHJlPW8uc3Vic3RyKDAsdCkucmVwbGFjZSgvJy9nLCIiKSxuLm5lZ1N1Zj1vLnN1YnN0cih0K2UpLnJlcGxhY2UoLycvZywiIil9ZWxzZSBuLm5lZ1ByZT10K24ucG9zUHJlLG4ubmVnU3VmPW4ucG9zU3VmO3JldHVybiBufWZ1bmN0aW9uIERoKGUpe2NvbnN0IHQ9cGFyc2VJbnQoZSk7aWYoaXNOYU4odCkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGludGVnZXIgbGl0ZXJhbCB3aGVuIHBhcnNpbmcgIitlKTtyZXR1cm4gdH1jbGFzcyBTaHt9bGV0IEVoPSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBTaHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMubG9jYWxlPWV9Z2V0UGx1cmFsQ2F0ZWdvcnkoZSx0KXtzd2l0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIERhKGUpW0VhLlBsdXJhbENhc2VdfSh0fHx0aGlzLmxvY2FsZSkoZSkpe2Nhc2UgTnUuWmVybzpyZXR1cm4iemVybyI7Y2FzZSBOdS5PbmU6cmV0dXJuIm9uZSI7Y2FzZSBOdS5Ud286cmV0dXJuInR3byI7Y2FzZSBOdS5GZXc6cmV0dXJuImZldyI7Y2FzZSBOdS5NYW55OnJldHVybiJtYW55IjtkZWZhdWx0OnJldHVybiJvdGhlciJ9fX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaShPYykpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpO2Z1bmN0aW9uIGtoKGUsdCl7dD1lbmNvZGVVUklDb21wb25lbnQodCk7Zm9yKGNvbnN0IG4gb2YgZS5zcGxpdCgiOyIpKXtjb25zdCBlPW4uaW5kZXhPZigiPSIpLFtpLHNdPS0xPT1lP1tuLCIiXTpbbi5zbGljZSgwLGUpLG4uc2xpY2UoZSsxKV07aWYoaS50cmltKCk9PT10KXJldHVybiBkZWNvZGVVUklDb21wb25lbnQocyl9cmV0dXJuIG51bGx9bGV0IHhoPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSx0LG4saSl7dGhpcy5faXRlcmFibGVEaWZmZXJzPWUsdGhpcy5fa2V5VmFsdWVEaWZmZXJzPXQsdGhpcy5fbmdFbD1uLHRoaXMuX3JlbmRlcmVyPWksdGhpcy5faXRlcmFibGVEaWZmZXI9bnVsbCx0aGlzLl9rZXlWYWx1ZURpZmZlcj1udWxsLHRoaXMuX2luaXRpYWxDbGFzc2VzPVtdLHRoaXMuX3Jhd0NsYXNzPW51bGx9c2V0IGtsYXNzKGUpe3RoaXMuX3JlbW92ZUNsYXNzZXModGhpcy5faW5pdGlhbENsYXNzZXMpLHRoaXMuX2luaXRpYWxDbGFzc2VzPSJzdHJpbmciPT10eXBlb2YgZT9lLnNwbGl0KC9ccysvKTpbXSx0aGlzLl9hcHBseUNsYXNzZXModGhpcy5faW5pdGlhbENsYXNzZXMpLHRoaXMuX2FwcGx5Q2xhc3Nlcyh0aGlzLl9yYXdDbGFzcyl9c2V0IG5nQ2xhc3MoZSl7dGhpcy5fcmVtb3ZlQ2xhc3Nlcyh0aGlzLl9yYXdDbGFzcyksdGhpcy5fYXBwbHlDbGFzc2VzKHRoaXMuX2luaXRpYWxDbGFzc2VzKSx0aGlzLl9pdGVyYWJsZURpZmZlcj1udWxsLHRoaXMuX2tleVZhbHVlRGlmZmVyPW51bGwsdGhpcy5fcmF3Q2xhc3M9InN0cmluZyI9PXR5cGVvZiBlP2Uuc3BsaXQoL1xzKy8pOmUsdGhpcy5fcmF3Q2xhc3MmJihicih0aGlzLl9yYXdDbGFzcyk/dGhpcy5faXRlcmFibGVEaWZmZXI9dGhpcy5faXRlcmFibGVEaWZmZXJzLmZpbmQodGhpcy5fcmF3Q2xhc3MpLmNyZWF0ZSgpOnRoaXMuX2tleVZhbHVlRGlmZmVyPXRoaXMuX2tleVZhbHVlRGlmZmVycy5maW5kKHRoaXMuX3Jhd0NsYXNzKS5jcmVhdGUoKSl9bmdEb0NoZWNrKCl7aWYodGhpcy5faXRlcmFibGVEaWZmZXIpe2NvbnN0IGU9dGhpcy5faXRlcmFibGVEaWZmZXIuZGlmZih0aGlzLl9yYXdDbGFzcyk7ZSYmdGhpcy5fYXBwbHlJdGVyYWJsZUNoYW5nZXMoZSl9ZWxzZSBpZih0aGlzLl9rZXlWYWx1ZURpZmZlcil7Y29uc3QgZT10aGlzLl9rZXlWYWx1ZURpZmZlci5kaWZmKHRoaXMuX3Jhd0NsYXNzKTtlJiZ0aGlzLl9hcHBseUtleVZhbHVlQ2hhbmdlcyhlKX19X2FwcGx5S2V5VmFsdWVDaGFuZ2VzKGUpe2UuZm9yRWFjaEFkZGVkSXRlbShlPT50aGlzLl90b2dnbGVDbGFzcyhlLmtleSxlLmN1cnJlbnRWYWx1ZSkpLGUuZm9yRWFjaENoYW5nZWRJdGVtKGU9PnRoaXMuX3RvZ2dsZUNsYXNzKGUua2V5LGUuY3VycmVudFZhbHVlKSksZS5mb3JFYWNoUmVtb3ZlZEl0ZW0oZT0+e2UucHJldmlvdXNWYWx1ZSYmdGhpcy5fdG9nZ2xlQ2xhc3MoZS5rZXksITEpfSl9X2FwcGx5SXRlcmFibGVDaGFuZ2VzKGUpe2UuZm9yRWFjaEFkZGVkSXRlbShlPT57aWYoInN0cmluZyIhPXR5cGVvZiBlLml0ZW0pdGhyb3cgbmV3IEVycm9yKGBOZ0NsYXNzIGNhbiBvbmx5IHRvZ2dsZSBDU1MgY2xhc3NlcyBleHByZXNzZWQgYXMgc3RyaW5ncywgZ290ICR7dGUoZS5pdGVtKX1gKTt0aGlzLl90b2dnbGVDbGFzcyhlLml0ZW0sITApfSksZS5mb3JFYWNoUmVtb3ZlZEl0ZW0oZT0+dGhpcy5fdG9nZ2xlQ2xhc3MoZS5pdGVtLCExKSl9X2FwcGx5Q2xhc3NlcyhlKXtlJiYoQXJyYXkuaXNBcnJheShlKXx8ZSBpbnN0YW5jZW9mIFNldD9lLmZvckVhY2goZT0+dGhpcy5fdG9nZ2xlQ2xhc3MoZSwhMCkpOk9iamVjdC5rZXlzKGUpLmZvckVhY2godD0+dGhpcy5fdG9nZ2xlQ2xhc3ModCwhIWVbdF0pKSl9X3JlbW92ZUNsYXNzZXMoZSl7ZSYmKEFycmF5LmlzQXJyYXkoZSl8fGUgaW5zdGFuY2VvZiBTZXQ/ZS5mb3JFYWNoKGU9PnRoaXMuX3RvZ2dsZUNsYXNzKGUsITEpKTpPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGU9PnRoaXMuX3RvZ2dsZUNsYXNzKGUsITEpKSl9X3RvZ2dsZUNsYXNzKGUsdCl7KGU9ZS50cmltKCkpJiZlLnNwbGl0KC9ccysvZykuZm9yRWFjaChlPT57dD90aGlzLl9yZW5kZXJlci5hZGRDbGFzcyh0aGlzLl9uZ0VsLm5hdGl2ZUVsZW1lbnQsZSk6dGhpcy5fcmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5fbmdFbC5uYXRpdmVFbGVtZW50LGUpfSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKGxsKSxBcih1bCksQXIoVWEpLEFyKFdhKSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsc2VsZWN0b3JzOltbIiIsIm5nQ2xhc3MiLCIiXV0saW5wdXRzOntrbGFzczpbImNsYXNzIiwia2xhc3MiXSxuZ0NsYXNzOiJuZ0NsYXNzIn19KSxlfSkoKTtjbGFzcyBBaHtjb25zdHJ1Y3RvcihlLHQsbixpKXt0aGlzLiRpbXBsaWNpdD1lLHRoaXMubmdGb3JPZj10LHRoaXMuaW5kZXg9bix0aGlzLmNvdW50PWl9Z2V0IGZpcnN0KCl7cmV0dXJuIDA9PT10aGlzLmluZGV4fWdldCBsYXN0KCl7cmV0dXJuIHRoaXMuaW5kZXg9PT10aGlzLmNvdW50LTF9Z2V0IGV2ZW4oKXtyZXR1cm4gdGhpcy5pbmRleCUyPT0wfWdldCBvZGQoKXtyZXR1cm4hdGhpcy5ldmVufX1sZXQgT2g9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5fdmlld0NvbnRhaW5lcj1lLHRoaXMuX3RlbXBsYXRlPXQsdGhpcy5fZGlmZmVycz1uLHRoaXMuX25nRm9yT2Y9bnVsbCx0aGlzLl9uZ0Zvck9mRGlydHk9ITAsdGhpcy5fZGlmZmVyPW51bGx9c2V0IG5nRm9yT2YoZSl7dGhpcy5fbmdGb3JPZj1lLHRoaXMuX25nRm9yT2ZEaXJ0eT0hMH1zZXQgbmdGb3JUcmFja0J5KGUpe3RoaXMuX3RyYWNrQnlGbj1lfWdldCBuZ0ZvclRyYWNrQnkoKXtyZXR1cm4gdGhpcy5fdHJhY2tCeUZufXNldCBuZ0ZvclRlbXBsYXRlKGUpe2UmJih0aGlzLl90ZW1wbGF0ZT1lKX1uZ0RvQ2hlY2soKXtpZih0aGlzLl9uZ0Zvck9mRGlydHkpe3RoaXMuX25nRm9yT2ZEaXJ0eT0hMTtjb25zdCBuPXRoaXMuX25nRm9yT2Y7aWYoIXRoaXMuX2RpZmZlciYmbil0cnl7dGhpcy5fZGlmZmVyPXRoaXMuX2RpZmZlcnMuZmluZChuKS5jcmVhdGUodGhpcy5uZ0ZvclRyYWNrQnkpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgYSBkaWZmZXIgc3VwcG9ydGluZyBvYmplY3QgJyR7bn0nIG9mIHR5cGUgJyR7ZT1uLGUubmFtZXx8dHlwZW9mIGV9Jy4gTmdGb3Igb25seSBzdXBwb3J0cyBiaW5kaW5nIHRvIEl0ZXJhYmxlcyBzdWNoIGFzIEFycmF5cy5gKX19dmFyIGU7aWYodGhpcy5fZGlmZmVyKXtjb25zdCBlPXRoaXMuX2RpZmZlci5kaWZmKHRoaXMuX25nRm9yT2YpO2UmJnRoaXMuX2FwcGx5Q2hhbmdlcyhlKX19X2FwcGx5Q2hhbmdlcyhlKXtjb25zdCB0PVtdO2UuZm9yRWFjaE9wZXJhdGlvbigoZSxuLGkpPT57aWYobnVsbD09ZS5wcmV2aW91c0luZGV4KXtjb25zdCBuPXRoaXMuX3ZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuX3RlbXBsYXRlLG5ldyBBaChudWxsLHRoaXMuX25nRm9yT2YsLTEsLTEpLG51bGw9PT1pP3ZvaWQgMDppKSxzPW5ldyBUaChlLG4pO3QucHVzaChzKX1lbHNlIGlmKG51bGw9PWkpdGhpcy5fdmlld0NvbnRhaW5lci5yZW1vdmUobnVsbD09PW4/dm9pZCAwOm4pO2Vsc2UgaWYobnVsbCE9PW4pe2NvbnN0IHM9dGhpcy5fdmlld0NvbnRhaW5lci5nZXQobik7dGhpcy5fdmlld0NvbnRhaW5lci5tb3ZlKHMsaSk7Y29uc3Qgbz1uZXcgVGgoZSxzKTt0LnB1c2gobyl9fSk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspdGhpcy5fcGVyVmlld0NoYW5nZSh0W25dLnZpZXcsdFtuXS5yZWNvcmQpO2ZvcihsZXQgbj0wLGk9dGhpcy5fdmlld0NvbnRhaW5lci5sZW5ndGg7bjxpO24rKyl7Y29uc3QgZT10aGlzLl92aWV3Q29udGFpbmVyLmdldChuKTtlLmNvbnRleHQuaW5kZXg9bixlLmNvbnRleHQuY291bnQ9aSxlLmNvbnRleHQubmdGb3JPZj10aGlzLl9uZ0Zvck9mfWUuZm9yRWFjaElkZW50aXR5Q2hhbmdlKGU9Pnt0aGlzLl92aWV3Q29udGFpbmVyLmdldChlLmN1cnJlbnRJbmRleCkuY29udGV4dC4kaW1wbGljaXQ9ZS5pdGVtfSl9X3BlclZpZXdDaGFuZ2UoZSx0KXtlLmNvbnRleHQuJGltcGxpY2l0PXQuaXRlbX1zdGF0aWMgbmdUZW1wbGF0ZUNvbnRleHRHdWFyZChlLHQpe3JldHVybiEwfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShBcih4bCksQXIoQ2wpLEFyKGxsKSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsc2VsZWN0b3JzOltbIiIsIm5nRm9yIiwiIiwibmdGb3JPZiIsIiJdXSxpbnB1dHM6e25nRm9yT2Y6Im5nRm9yT2YiLG5nRm9yVHJhY2tCeToibmdGb3JUcmFja0J5IixuZ0ZvclRlbXBsYXRlOiJuZ0ZvclRlbXBsYXRlIn19KSxlfSkoKTtjbGFzcyBUaHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucmVjb3JkPWUsdGhpcy52aWV3PXR9fWxldCBGaD0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fdmlld0NvbnRhaW5lcj1lLHRoaXMuX2NvbnRleHQ9bmV3IEloLHRoaXMuX3RoZW5UZW1wbGF0ZVJlZj1udWxsLHRoaXMuX2Vsc2VUZW1wbGF0ZVJlZj1udWxsLHRoaXMuX3RoZW5WaWV3UmVmPW51bGwsdGhpcy5fZWxzZVZpZXdSZWY9bnVsbCx0aGlzLl90aGVuVGVtcGxhdGVSZWY9dH1zZXQgbmdJZihlKXt0aGlzLl9jb250ZXh0LiRpbXBsaWNpdD10aGlzLl9jb250ZXh0Lm5nSWY9ZSx0aGlzLl91cGRhdGVWaWV3KCl9c2V0IG5nSWZUaGVuKGUpe01oKCJuZ0lmVGhlbiIsZSksdGhpcy5fdGhlblRlbXBsYXRlUmVmPWUsdGhpcy5fdGhlblZpZXdSZWY9bnVsbCx0aGlzLl91cGRhdGVWaWV3KCl9c2V0IG5nSWZFbHNlKGUpe01oKCJuZ0lmRWxzZSIsZSksdGhpcy5fZWxzZVRlbXBsYXRlUmVmPWUsdGhpcy5fZWxzZVZpZXdSZWY9bnVsbCx0aGlzLl91cGRhdGVWaWV3KCl9X3VwZGF0ZVZpZXcoKXt0aGlzLl9jb250ZXh0LiRpbXBsaWNpdD90aGlzLl90aGVuVmlld1JlZnx8KHRoaXMuX3ZpZXdDb250YWluZXIuY2xlYXIoKSx0aGlzLl9lbHNlVmlld1JlZj1udWxsLHRoaXMuX3RoZW5UZW1wbGF0ZVJlZiYmKHRoaXMuX3RoZW5WaWV3UmVmPXRoaXMuX3ZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuX3RoZW5UZW1wbGF0ZVJlZix0aGlzLl9jb250ZXh0KSkpOnRoaXMuX2Vsc2VWaWV3UmVmfHwodGhpcy5fdmlld0NvbnRhaW5lci5jbGVhcigpLHRoaXMuX3RoZW5WaWV3UmVmPW51bGwsdGhpcy5fZWxzZVRlbXBsYXRlUmVmJiYodGhpcy5fZWxzZVZpZXdSZWY9dGhpcy5fdmlld0NvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5fZWxzZVRlbXBsYXRlUmVmLHRoaXMuX2NvbnRleHQpKSl9c3RhdGljIG5nVGVtcGxhdGVDb250ZXh0R3VhcmQoZSx0KXtyZXR1cm4hMH19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoeGwpLEFyKENsKSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsc2VsZWN0b3JzOltbIiIsIm5nSWYiLCIiXV0saW5wdXRzOntuZ0lmOiJuZ0lmIixuZ0lmVGhlbjoibmdJZlRoZW4iLG5nSWZFbHNlOiJuZ0lmRWxzZSJ9fSksZX0pKCk7Y2xhc3MgSWh7Y29uc3RydWN0b3IoKXt0aGlzLiRpbXBsaWNpdD1udWxsLHRoaXMubmdJZj1udWxsfX1mdW5jdGlvbiBNaChlLHQpe2lmKHQmJiF0LmNyZWF0ZUVtYmVkZGVkVmlldyl0aHJvdyBuZXcgRXJyb3IoYCR7ZX0gbXVzdCBiZSBhIFRlbXBsYXRlUmVmLCBidXQgcmVjZWl2ZWQgJyR7dGUodCl9Jy5gKX1jbGFzcyBQaHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX3ZpZXdDb250YWluZXJSZWY9ZSx0aGlzLl90ZW1wbGF0ZVJlZj10LHRoaXMuX2NyZWF0ZWQ9ITF9Y3JlYXRlKCl7dGhpcy5fY3JlYXRlZD0hMCx0aGlzLl92aWV3Q29udGFpbmVyUmVmLmNyZWF0ZUVtYmVkZGVkVmlldyh0aGlzLl90ZW1wbGF0ZVJlZil9ZGVzdHJveSgpe3RoaXMuX2NyZWF0ZWQ9ITEsdGhpcy5fdmlld0NvbnRhaW5lclJlZi5jbGVhcigpfWVuZm9yY2VTdGF0ZShlKXtlJiYhdGhpcy5fY3JlYXRlZD90aGlzLmNyZWF0ZSgpOiFlJiZ0aGlzLl9jcmVhdGVkJiZ0aGlzLmRlc3Ryb3koKX19bGV0IFZoPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLl9kZWZhdWx0VXNlZD0hMSx0aGlzLl9jYXNlQ291bnQ9MCx0aGlzLl9sYXN0Q2FzZUNoZWNrSW5kZXg9MCx0aGlzLl9sYXN0Q2FzZXNNYXRjaGVkPSExfXNldCBuZ1N3aXRjaChlKXt0aGlzLl9uZ1N3aXRjaD1lLDA9PT10aGlzLl9jYXNlQ291bnQmJnRoaXMuX3VwZGF0ZURlZmF1bHRDYXNlcyghMCl9X2FkZENhc2UoKXtyZXR1cm4gdGhpcy5fY2FzZUNvdW50Kyt9X2FkZERlZmF1bHQoZSl7dGhpcy5fZGVmYXVsdFZpZXdzfHwodGhpcy5fZGVmYXVsdFZpZXdzPVtdKSx0aGlzLl9kZWZhdWx0Vmlld3MucHVzaChlKX1fbWF0Y2hDYXNlKGUpe2NvbnN0IHQ9ZT09dGhpcy5fbmdTd2l0Y2g7cmV0dXJuIHRoaXMuX2xhc3RDYXNlc01hdGNoZWQ9dGhpcy5fbGFzdENhc2VzTWF0Y2hlZHx8dCx0aGlzLl9sYXN0Q2FzZUNoZWNrSW5kZXgrKyx0aGlzLl9sYXN0Q2FzZUNoZWNrSW5kZXg9PT10aGlzLl9jYXNlQ291bnQmJih0aGlzLl91cGRhdGVEZWZhdWx0Q2FzZXMoIXRoaXMuX2xhc3RDYXNlc01hdGNoZWQpLHRoaXMuX2xhc3RDYXNlQ2hlY2tJbmRleD0wLHRoaXMuX2xhc3RDYXNlc01hdGNoZWQ9ITEpLHR9X3VwZGF0ZURlZmF1bHRDYXNlcyhlKXtpZih0aGlzLl9kZWZhdWx0Vmlld3MmJmUhPT10aGlzLl9kZWZhdWx0VXNlZCl7dGhpcy5fZGVmYXVsdFVzZWQ9ZTtmb3IobGV0IHQ9MDt0PHRoaXMuX2RlZmF1bHRWaWV3cy5sZW5ndGg7dCsrKXRoaXMuX2RlZmF1bHRWaWV3c1t0XS5lbmZvcmNlU3RhdGUoZSl9fX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVkaXI9S2Uoe3R5cGU6ZSxzZWxlY3RvcnM6W1siIiwibmdTd2l0Y2giLCIiXV0saW5wdXRzOntuZ1N3aXRjaDoibmdTd2l0Y2gifX0pLGV9KSgpLExoPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMubmdTd2l0Y2g9bixuLl9hZGRDYXNlKCksdGhpcy5fdmlldz1uZXcgUGgoZSx0KX1uZ0RvQ2hlY2soKXt0aGlzLl92aWV3LmVuZm9yY2VTdGF0ZSh0aGlzLm5nU3dpdGNoLl9tYXRjaENhc2UodGhpcy5uZ1N3aXRjaENhc2UpKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoeGwpLEFyKENsKSxBcihWaCw5KSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsc2VsZWN0b3JzOltbIiIsIm5nU3dpdGNoQ2FzZSIsIiJdXSxpbnB1dHM6e25nU3dpdGNoQ2FzZToibmdTd2l0Y2hDYXNlIn19KSxlfSkoKSxSaD0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUsdCxuKXtuLl9hZGREZWZhdWx0KG5ldyBQaChlLHQpKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoeGwpLEFyKENsKSxBcihWaCw5KSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsc2VsZWN0b3JzOltbIiIsIm5nU3dpdGNoRGVmYXVsdCIsIiJdXX0pLGV9KSgpLGpoPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSl7dGhpcy5fdmlld0NvbnRhaW5lclJlZj1lLHRoaXMuX3ZpZXdSZWY9bnVsbCx0aGlzLm5nVGVtcGxhdGVPdXRsZXRDb250ZXh0PW51bGwsdGhpcy5uZ1RlbXBsYXRlT3V0bGV0PW51bGx9bmdPbkNoYW5nZXMoZSl7aWYoZS5uZ1RlbXBsYXRlT3V0bGV0KXtjb25zdCBlPXRoaXMuX3ZpZXdDb250YWluZXJSZWY7dGhpcy5fdmlld1JlZiYmZS5yZW1vdmUoZS5pbmRleE9mKHRoaXMuX3ZpZXdSZWYpKSx0aGlzLl92aWV3UmVmPXRoaXMubmdUZW1wbGF0ZU91dGxldD9lLmNyZWF0ZUVtYmVkZGVkVmlldyh0aGlzLm5nVGVtcGxhdGVPdXRsZXQsdGhpcy5uZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCk6bnVsbH1lbHNlIHRoaXMuX3ZpZXdSZWYmJmUubmdUZW1wbGF0ZU91dGxldENvbnRleHQmJnRoaXMubmdUZW1wbGF0ZU91dGxldENvbnRleHQmJih0aGlzLl92aWV3UmVmLmNvbnRleHQ9dGhpcy5uZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKHhsKSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsc2VsZWN0b3JzOltbIiIsIm5nVGVtcGxhdGVPdXRsZXQiLCIiXV0saW5wdXRzOntuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dDoibmdUZW1wbGF0ZU91dGxldENvbnRleHQiLG5nVGVtcGxhdGVPdXRsZXQ6Im5nVGVtcGxhdGVPdXRsZXQifSxmZWF0dXJlczpbbHRdfSksZX0pKCk7ZnVuY3Rpb24gTmgoZSx0KXtyZXR1cm4gRXJyb3IoYEludmFsaWRQaXBlQXJndW1lbnQ6ICcke3R9JyBmb3IgcGlwZSAnJHt0ZShlKX0nYCl9Y29uc3QgQmg9Lyg/OltBLVphLXpceEFBXHhCNVx4QkFceEMwLVx4RDZceEQ4LVx4RjZceEY4LVx1MDJDMVx1MDJDNi1cdTAyRDFcdTAyRTAtXHUwMkU0XHUwMkVDXHUwMkVFXHUwMzcwLVx1MDM3NFx1MDM3Nlx1MDM3N1x1MDM3QS1cdTAzN0RcdTAzN0ZcdTAzODZcdTAzODgtXHUwMzhBXHUwMzhDXHUwMzhFLVx1MDNBMVx1MDNBMy1cdTAzRjVcdTAzRjctXHUwNDgxXHUwNDhBLVx1MDUyRlx1MDUzMS1cdTA1NTZcdTA1NTlcdTA1NjEtXHUwNTg3XHUwNUQwLVx1MDVFQVx1MDVGMC1cdTA1RjJcdTA2MjAtXHUwNjRBXHUwNjZFXHUwNjZGXHUwNjcxLVx1MDZEM1x1MDZENVx1MDZFNVx1MDZFNlx1MDZFRVx1MDZFRlx1MDZGQS1cdTA2RkNcdTA2RkZcdTA3MTBcdTA3MTItXHUwNzJGXHUwNzRELVx1MDdBNVx1MDdCMVx1MDdDQS1cdTA3RUFcdTA3RjRcdTA3RjVcdTA3RkFcdTA4MDAtXHUwODE1XHUwODFBXHUwODI0XHUwODI4XHUwODQwLVx1MDg1OFx1MDg2MC1cdTA4NkFcdTA4QTAtXHUwOEI0XHUwOEI2LVx1MDhCRFx1MDkwNC1cdTA5MzlcdTA5M0RcdTA5NTBcdTA5NTgtXHUwOTYxXHUwOTcxLVx1MDk4MFx1MDk4NS1cdTA5OENcdTA5OEZcdTA5OTBcdTA5OTMtXHUwOUE4XHUwOUFBLVx1MDlCMFx1MDlCMlx1MDlCNi1cdTA5QjlcdTA5QkRcdTA5Q0VcdTA5RENcdTA5RERcdTA5REYtXHUwOUUxXHUwOUYwXHUwOUYxXHUwOUZDXHUwQTA1LVx1MEEwQVx1MEEwRlx1MEExMFx1MEExMy1cdTBBMjhcdTBBMkEtXHUwQTMwXHUwQTMyXHUwQTMzXHUwQTM1XHUwQTM2XHUwQTM4XHUwQTM5XHUwQTU5LVx1MEE1Q1x1MEE1RVx1MEE3Mi1cdTBBNzRcdTBBODUtXHUwQThEXHUwQThGLVx1MEE5MVx1MEE5My1cdTBBQThcdTBBQUEtXHUwQUIwXHUwQUIyXHUwQUIzXHUwQUI1LVx1MEFCOVx1MEFCRFx1MEFEMFx1MEFFMFx1MEFFMVx1MEFGOVx1MEIwNS1cdTBCMENcdTBCMEZcdTBCMTBcdTBCMTMtXHUwQjI4XHUwQjJBLVx1MEIzMFx1MEIzMlx1MEIzM1x1MEIzNS1cdTBCMzlcdTBCM0RcdTBCNUNcdTBCNURcdTBCNUYtXHUwQjYxXHUwQjcxXHUwQjgzXHUwQjg1LVx1MEI4QVx1MEI4RS1cdTBCOTBcdTBCOTItXHUwQjk1XHUwQjk5XHUwQjlBXHUwQjlDXHUwQjlFXHUwQjlGXHUwQkEzXHUwQkE0XHUwQkE4LVx1MEJBQVx1MEJBRS1cdTBCQjlcdTBCRDBcdTBDMDUtXHUwQzBDXHUwQzBFLVx1MEMxMFx1MEMxMi1cdTBDMjhcdTBDMkEtXHUwQzM5XHUwQzNEXHUwQzU4LVx1MEM1QVx1MEM2MFx1MEM2MVx1MEM4MFx1MEM4NS1cdTBDOENcdTBDOEUtXHUwQzkwXHUwQzkyLVx1MENBOFx1MENBQS1cdTBDQjNcdTBDQjUtXHUwQ0I5XHUwQ0JEXHUwQ0RFXHUwQ0UwXHUwQ0UxXHUwQ0YxXHUwQ0YyXHUwRDA1LVx1MEQwQ1x1MEQwRS1cdTBEMTBcdTBEMTItXHUwRDNBXHUwRDNEXHUwRDRFXHUwRDU0LVx1MEQ1Nlx1MEQ1Ri1cdTBENjFcdTBEN0EtXHUwRDdGXHUwRDg1LVx1MEQ5Nlx1MEQ5QS1cdTBEQjFcdTBEQjMtXHUwREJCXHUwREJEXHUwREMwLVx1MERDNlx1MEUwMS1cdTBFMzBcdTBFMzJcdTBFMzNcdTBFNDAtXHUwRTQ2XHUwRTgxXHUwRTgyXHUwRTg0XHUwRTg3XHUwRTg4XHUwRThBXHUwRThEXHUwRTk0LVx1MEU5N1x1MEU5OS1cdTBFOUZcdTBFQTEtXHUwRUEzXHUwRUE1XHUwRUE3XHUwRUFBXHUwRUFCXHUwRUFELVx1MEVCMFx1MEVCMlx1MEVCM1x1MEVCRFx1MEVDMC1cdTBFQzRcdTBFQzZcdTBFREMtXHUwRURGXHUwRjAwXHUwRjQwLVx1MEY0N1x1MEY0OS1cdTBGNkNcdTBGODgtXHUwRjhDXHUxMDAwLVx1MTAyQVx1MTAzRlx1MTA1MC1cdTEwNTVcdTEwNUEtXHUxMDVEXHUxMDYxXHUxMDY1XHUxMDY2XHUxMDZFLVx1MTA3MFx1MTA3NS1cdTEwODFcdTEwOEVcdTEwQTAtXHUxMEM1XHUxMEM3XHUxMENEXHUxMEQwLVx1MTBGQVx1MTBGQy1cdTEyNDhcdTEyNEEtXHUxMjREXHUxMjUwLVx1MTI1Nlx1MTI1OFx1MTI1QS1cdTEyNURcdTEyNjAtXHUxMjg4XHUxMjhBLVx1MTI4RFx1MTI5MC1cdTEyQjBcdTEyQjItXHUxMkI1XHUxMkI4LVx1MTJCRVx1MTJDMFx1MTJDMi1cdTEyQzVcdTEyQzgtXHUxMkQ2XHUxMkQ4LVx1MTMxMFx1MTMxMi1cdTEzMTVcdTEzMTgtXHUxMzVBXHUxMzgwLVx1MTM4Rlx1MTNBMC1cdTEzRjVcdTEzRjgtXHUxM0ZEXHUxNDAxLVx1MTY2Q1x1MTY2Ri1cdTE2N0ZcdTE2ODEtXHUxNjlBXHUxNkEwLVx1MTZFQVx1MTZGMS1cdTE2RjhcdTE3MDAtXHUxNzBDXHUxNzBFLVx1MTcxMVx1MTcyMC1cdTE3MzFcdTE3NDAtXHUxNzUxXHUxNzYwLVx1MTc2Q1x1MTc2RS1cdTE3NzBcdTE3ODAtXHUxN0IzXHUxN0Q3XHUxN0RDXHUxODIwLVx1MTg3N1x1MTg4MC1cdTE4ODRcdTE4ODctXHUxOEE4XHUxOEFBXHUxOEIwLVx1MThGNVx1MTkwMC1cdTE5MUVcdTE5NTAtXHUxOTZEXHUxOTcwLVx1MTk3NFx1MTk4MC1cdTE5QUJcdTE5QjAtXHUxOUM5XHUxQTAwLVx1MUExNlx1MUEyMC1cdTFBNTRcdTFBQTdcdTFCMDUtXHUxQjMzXHUxQjQ1LVx1MUI0Qlx1MUI4My1cdTFCQTBcdTFCQUVcdTFCQUZcdTFCQkEtXHUxQkU1XHUxQzAwLVx1MUMyM1x1MUM0RC1cdTFDNEZcdTFDNUEtXHUxQzdEXHUxQzgwLVx1MUM4OFx1MUNFOS1cdTFDRUNcdTFDRUUtXHUxQ0YxXHUxQ0Y1XHUxQ0Y2XHUxRDAwLVx1MURCRlx1MUUwMC1cdTFGMTVcdTFGMTgtXHUxRjFEXHUxRjIwLVx1MUY0NVx1MUY0OC1cdTFGNERcdTFGNTAtXHUxRjU3XHUxRjU5XHUxRjVCXHUxRjVEXHUxRjVGLVx1MUY3RFx1MUY4MC1cdTFGQjRcdTFGQjYtXHUxRkJDXHUxRkJFXHUxRkMyLVx1MUZDNFx1MUZDNi1cdTFGQ0NcdTFGRDAtXHUxRkQzXHUxRkQ2LVx1MUZEQlx1MUZFMC1cdTFGRUNcdTFGRjItXHUxRkY0XHUxRkY2LVx1MUZGQ1x1MjA3MVx1MjA3Rlx1MjA5MC1cdTIwOUNcdTIxMDJcdTIxMDdcdTIxMEEtXHUyMTEzXHUyMTE1XHUyMTE5LVx1MjExRFx1MjEyNFx1MjEyNlx1MjEyOFx1MjEyQS1cdTIxMkRcdTIxMkYtXHUyMTM5XHUyMTNDLVx1MjEzRlx1MjE0NS1cdTIxNDlcdTIxNEVcdTIxODNcdTIxODRcdTJDMDAtXHUyQzJFXHUyQzMwLVx1MkM1RVx1MkM2MC1cdTJDRTRcdTJDRUItXHUyQ0VFXHUyQ0YyXHUyQ0YzXHUyRDAwLVx1MkQyNVx1MkQyN1x1MkQyRFx1MkQzMC1cdTJENjdcdTJENkZcdTJEODAtXHUyRDk2XHUyREEwLVx1MkRBNlx1MkRBOC1cdTJEQUVcdTJEQjAtXHUyREI2XHUyREI4LVx1MkRCRVx1MkRDMC1cdTJEQzZcdTJEQzgtXHUyRENFXHUyREQwLVx1MkRENlx1MkREOC1cdTJEREVcdTJFMkZcdTMwMDVcdTMwMDZcdTMwMzEtXHUzMDM1XHUzMDNCXHUzMDNDXHUzMDQxLVx1MzA5Nlx1MzA5RC1cdTMwOUZcdTMwQTEtXHUzMEZBXHUzMEZDLVx1MzBGRlx1MzEwNS1cdTMxMkVcdTMxMzEtXHUzMThFXHUzMUEwLVx1MzFCQVx1MzFGMC1cdTMxRkZcdTM0MDAtXHU0REI1XHU0RTAwLVx1OUZFQVx1QTAwMC1cdUE0OENcdUE0RDAtXHVBNEZEXHVBNTAwLVx1QTYwQ1x1QTYxMC1cdUE2MUZcdUE2MkFcdUE2MkJcdUE2NDAtXHVBNjZFXHVBNjdGLVx1QTY5RFx1QTZBMC1cdUE2RTVcdUE3MTctXHVBNzFGXHVBNzIyLVx1QTc4OFx1QTc4Qi1cdUE3QUVcdUE3QjAtXHVBN0I3XHVBN0Y3LVx1QTgwMVx1QTgwMy1cdUE4MDVcdUE4MDctXHVBODBBXHVBODBDLVx1QTgyMlx1QTg0MC1cdUE4NzNcdUE4ODItXHVBOEIzXHVBOEYyLVx1QThGN1x1QThGQlx1QThGRFx1QTkwQS1cdUE5MjVcdUE5MzAtXHVBOTQ2XHVBOTYwLVx1QTk3Q1x1QTk4NC1cdUE5QjJcdUE5Q0ZcdUE5RTAtXHVBOUU0XHVBOUU2LVx1QTlFRlx1QTlGQS1cdUE5RkVcdUFBMDAtXHVBQTI4XHVBQTQwLVx1QUE0Mlx1QUE0NC1cdUFBNEJcdUFBNjAtXHVBQTc2XHVBQTdBXHVBQTdFLVx1QUFBRlx1QUFCMVx1QUFCNVx1QUFCNlx1QUFCOS1cdUFBQkRcdUFBQzBcdUFBQzJcdUFBREItXHVBQUREXHVBQUUwLVx1QUFFQVx1QUFGMi1cdUFBRjRcdUFCMDEtXHVBQjA2XHVBQjA5LVx1QUIwRVx1QUIxMS1cdUFCMTZcdUFCMjAtXHVBQjI2XHVBQjI4LVx1QUIyRVx1QUIzMC1cdUFCNUFcdUFCNUMtXHVBQjY1XHVBQjcwLVx1QUJFMlx1QUMwMC1cdUQ3QTNcdUQ3QjAtXHVEN0M2XHVEN0NCLVx1RDdGQlx1RjkwMC1cdUZBNkRcdUZBNzAtXHVGQUQ5XHVGQjAwLVx1RkIwNlx1RkIxMy1cdUZCMTdcdUZCMURcdUZCMUYtXHVGQjI4XHVGQjJBLVx1RkIzNlx1RkIzOC1cdUZCM0NcdUZCM0VcdUZCNDBcdUZCNDFcdUZCNDNcdUZCNDRcdUZCNDYtXHVGQkIxXHVGQkQzLVx1RkQzRFx1RkQ1MC1cdUZEOEZcdUZEOTItXHVGREM3XHVGREYwLVx1RkRGQlx1RkU3MC1cdUZFNzRcdUZFNzYtXHVGRUZDXHVGRjIxLVx1RkYzQVx1RkY0MS1cdUZGNUFcdUZGNjYtXHVGRkJFXHVGRkMyLVx1RkZDN1x1RkZDQS1cdUZGQ0ZcdUZGRDItXHVGRkQ3XHVGRkRBLVx1RkZEQ118XHVEODAwW1x1REMwMC1cdURDMEJcdURDMEQtXHVEQzI2XHVEQzI4LVx1REMzQVx1REMzQ1x1REMzRFx1REMzRi1cdURDNERcdURDNTAtXHVEQzVEXHVEQzgwLVx1RENGQVx1REU4MC1cdURFOUNcdURFQTAtXHVERUQwXHVERjAwLVx1REYxRlx1REYyRC1cdURGNDBcdURGNDItXHVERjQ5XHVERjUwLVx1REY3NVx1REY4MC1cdURGOURcdURGQTAtXHVERkMzXHVERkM4LVx1REZDRl18XHVEODAxW1x1REMwMC1cdURDOURcdURDQjAtXHVEQ0QzXHVEQ0Q4LVx1RENGQlx1REQwMC1cdUREMjdcdUREMzAtXHVERDYzXHVERTAwLVx1REYzNlx1REY0MC1cdURGNTVcdURGNjAtXHVERjY3XXxcdUQ4MDJbXHVEQzAwLVx1REMwNVx1REMwOFx1REMwQS1cdURDMzVcdURDMzdcdURDMzhcdURDM0NcdURDM0YtXHVEQzU1XHVEQzYwLVx1REM3Nlx1REM4MC1cdURDOUVcdURDRTAtXHVEQ0YyXHVEQ0Y0XHVEQ0Y1XHVERDAwLVx1REQxNVx1REQyMC1cdUREMzlcdUREODAtXHVEREI3XHVEREJFXHVEREJGXHVERTAwXHVERTEwLVx1REUxM1x1REUxNS1cdURFMTdcdURFMTktXHVERTMzXHVERTYwLVx1REU3Q1x1REU4MC1cdURFOUNcdURFQzAtXHVERUM3XHVERUM5LVx1REVFNFx1REYwMC1cdURGMzVcdURGNDAtXHVERjU1XHVERjYwLVx1REY3Mlx1REY4MC1cdURGOTFdfFx1RDgwM1tcdURDMDAtXHVEQzQ4XHVEQzgwLVx1RENCMlx1RENDMC1cdURDRjJdfFx1RDgwNFtcdURDMDMtXHVEQzM3XHVEQzgzLVx1RENBRlx1RENEMC1cdURDRThcdUREMDMtXHVERDI2XHVERDUwLVx1REQ3Mlx1REQ3Nlx1REQ4My1cdUREQjJcdUREQzEtXHVEREM0XHVERERBXHVERERDXHVERTAwLVx1REUxMVx1REUxMy1cdURFMkJcdURFODAtXHVERTg2XHVERTg4XHVERThBLVx1REU4RFx1REU4Ri1cdURFOURcdURFOUYtXHVERUE4XHVERUIwLVx1REVERVx1REYwNS1cdURGMENcdURGMEZcdURGMTBcdURGMTMtXHVERjI4XHVERjJBLVx1REYzMFx1REYzMlx1REYzM1x1REYzNS1cdURGMzlcdURGM0RcdURGNTBcdURGNUQtXHVERjYxXXxcdUQ4MDVbXHVEQzAwLVx1REMzNFx1REM0Ny1cdURDNEFcdURDODAtXHVEQ0FGXHVEQ0M0XHVEQ0M1XHVEQ0M3XHVERDgwLVx1RERBRVx1REREOC1cdUREREJcdURFMDAtXHVERTJGXHVERTQ0XHVERTgwLVx1REVBQVx1REYwMC1cdURGMTldfFx1RDgwNltcdURDQTAtXHVEQ0RGXHVEQ0ZGXHVERTAwXHVERTBCLVx1REUzMlx1REUzQVx1REU1MFx1REU1Qy1cdURFODNcdURFODYtXHVERTg5XHVERUMwLVx1REVGOF18XHVEODA3W1x1REMwMC1cdURDMDhcdURDMEEtXHVEQzJFXHVEQzQwXHVEQzcyLVx1REM4Rlx1REQwMC1cdUREMDZcdUREMDhcdUREMDlcdUREMEItXHVERDMwXHVERDQ2XXxcdUQ4MDhbXHVEQzAwLVx1REY5OV18XHVEODA5W1x1REM4MC1cdURENDNdfFtcdUQ4MENcdUQ4MUMtXHVEODIwXHVEODQwLVx1RDg2OFx1RDg2QS1cdUQ4NkNcdUQ4NkYtXHVEODcyXHVEODc0LVx1RDg3OV1bXHVEQzAwLVx1REZGRl18XHVEODBEW1x1REMwMC1cdURDMkVdfFx1RDgxMVtcdURDMDAtXHVERTQ2XXxcdUQ4MUFbXHVEQzAwLVx1REUzOFx1REU0MC1cdURFNUVcdURFRDAtXHVERUVEXHVERjAwLVx1REYyRlx1REY0MC1cdURGNDNcdURGNjMtXHVERjc3XHVERjdELVx1REY4Rl18XHVEODFCW1x1REYwMC1cdURGNDRcdURGNTBcdURGOTMtXHVERjlGXHVERkUwXHVERkUxXXxcdUQ4MjFbXHVEQzAwLVx1REZFQ118XHVEODIyW1x1REMwMC1cdURFRjJdfFx1RDgyQ1tcdURDMDAtXHVERDFFXHVERDcwLVx1REVGQl18XHVEODJGW1x1REMwMC1cdURDNkFcdURDNzAtXHVEQzdDXHVEQzgwLVx1REM4OFx1REM5MC1cdURDOTldfFx1RDgzNVtcdURDMDAtXHVEQzU0XHVEQzU2LVx1REM5Q1x1REM5RVx1REM5Rlx1RENBMlx1RENBNVx1RENBNlx1RENBOS1cdURDQUNcdURDQUUtXHVEQ0I5XHVEQ0JCXHVEQ0JELVx1RENDM1x1RENDNS1cdUREMDVcdUREMDctXHVERDBBXHVERDBELVx1REQxNFx1REQxNi1cdUREMUNcdUREMUUtXHVERDM5XHVERDNCLVx1REQzRVx1REQ0MC1cdURENDRcdURENDZcdURENEEtXHVERDUwXHVERDUyLVx1REVBNVx1REVBOC1cdURFQzBcdURFQzItXHVERURBXHVERURDLVx1REVGQVx1REVGQy1cdURGMTRcdURGMTYtXHVERjM0XHVERjM2LVx1REY0RVx1REY1MC1cdURGNkVcdURGNzAtXHVERjg4XHVERjhBLVx1REZBOFx1REZBQS1cdURGQzJcdURGQzQtXHVERkNCXXxcdUQ4M0FbXHVEQzAwLVx1RENDNFx1REQwMC1cdURENDNdfFx1RDgzQltcdURFMDAtXHVERTAzXHVERTA1LVx1REUxRlx1REUyMVx1REUyMlx1REUyNFx1REUyN1x1REUyOS1cdURFMzJcdURFMzQtXHVERTM3XHVERTM5XHVERTNCXHVERTQyXHVERTQ3XHVERTQ5XHVERTRCXHVERTRELVx1REU0Rlx1REU1MVx1REU1Mlx1REU1NFx1REU1N1x1REU1OVx1REU1Qlx1REU1RFx1REU1Rlx1REU2MVx1REU2Mlx1REU2NFx1REU2Ny1cdURFNkFcdURFNkMtXHVERTcyXHVERTc0LVx1REU3N1x1REU3OS1cdURFN0NcdURFN0VcdURFODAtXHVERTg5XHVERThCLVx1REU5Qlx1REVBMS1cdURFQTNcdURFQTUtXHVERUE5XHVERUFCLVx1REVCQl18XHVEODY5W1x1REMwMC1cdURFRDZcdURGMDAtXHVERkZGXXxcdUQ4NkRbXHVEQzAwLVx1REYzNFx1REY0MC1cdURGRkZdfFx1RDg2RVtcdURDMDAtXHVEQzFEXHVEQzIwLVx1REZGRl18XHVEODczW1x1REMwMC1cdURFQTFcdURFQjAtXHVERkZGXXxcdUQ4N0FbXHVEQzAwLVx1REZFMF18XHVEODdFW1x1REMwMC1cdURFMURdKVxTKi9nO2xldCAkaD0oKCk9PntjbGFzcyBle3RyYW5zZm9ybSh0KXtpZihudWxsPT10KXJldHVybiBudWxsO2lmKCJzdHJpbmciIT10eXBlb2YgdCl0aHJvdyBOaChlLHQpO3JldHVybiB0LnJlcGxhY2UoQmgsZT0+ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCkpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVwaXBlPVllKHtuYW1lOiJ0aXRsZWNhc2UiLHR5cGU6ZSxwdXJlOiEwfSksZX0pKCksSGg9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmxvY2FsZT1lfXRyYW5zZm9ybSh0LG49Im1lZGl1bURhdGUiLGkscyl7aWYobnVsbD09dHx8IiI9PT10fHx0IT10KXJldHVybiBudWxsO3RyeXtyZXR1cm4gc2godCxuLHN8fHRoaXMubG9jYWxlLGkpfWNhdGNoKG8pe3Rocm93IE5oKGUsby5tZXNzYWdlKX19fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKE9jLDE2KSl9LGUuXHUwMjc1cGlwZT1ZZSh7bmFtZToiZGF0ZSIsdHlwZTplLHB1cmU6ITB9KSxlfSkoKSxVaD0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUpe3RoaXMuX2xvY2FsZT1lfXRyYW5zZm9ybSh0LG4saSl7aWYoIXpoKHQpKXJldHVybiBudWxsO2k9aXx8dGhpcy5fbG9jYWxlO3RyeXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3JldHVybiB3aChlLF9oKEt1KHQsanUuRGVjaW1hbCksR3UodCxVdS5NaW51c1NpZ24pKSx0LFV1Lkdyb3VwLFV1LkRlY2ltYWwsbil9KFdoKHQpLGksbil9Y2F0Y2gocyl7dGhyb3cgTmgoZSxzLm1lc3NhZ2UpfX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoT2MsMTYpKX0sZS5cdTAyNzVwaXBlPVllKHtuYW1lOiJudW1iZXIiLHR5cGU6ZSxwdXJlOiEwfSksZX0pKCkscWg9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlLHQ9IlVTRCIpe3RoaXMuX2xvY2FsZT1lLHRoaXMuX2RlZmF1bHRDdXJyZW5jeUNvZGU9dH10cmFuc2Zvcm0odCxuLGk9InN5bWJvbCIscyxvKXtpZighemgodCkpcmV0dXJuIG51bGw7bz1vfHx0aGlzLl9sb2NhbGUsImJvb2xlYW4iPT10eXBlb2YgaSYmKGk9aT8ic3ltYm9sIjoiY29kZSIpO2xldCByPW58fHRoaXMuX2RlZmF1bHRDdXJyZW5jeUNvZGU7ImNvZGUiIT09aSYmKHI9InN5bWJvbCI9PT1pfHwic3ltYm9sLW5hcnJvdyI9PT1pP2Z1bmN0aW9uKGUsdCxuPSJlbiIpe2NvbnN0IGk9ZnVuY3Rpb24oZSl7cmV0dXJuIERhKGUpW0VhLkN1cnJlbmNpZXNdfShuKVtlXXx8UnVbZV18fFtdLHM9aVsxXTtyZXR1cm4ibmFycm93Ij09PXQmJiJzdHJpbmciPT10eXBlb2Ygcz9zOmlbMF18fGV9KHIsInN5bWJvbCI9PT1pPyJ3aWRlIjoibmFycm93IixvKTppKTt0cnl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLGkscyl7Y29uc3Qgbz1faChLdSh0LGp1LkN1cnJlbmN5KSxHdSh0LFV1Lk1pbnVzU2lnbikpO3JldHVybiBvLm1pbkZyYWM9ZnVuY3Rpb24oZSl7bGV0IHQ7Y29uc3Qgbj1SdVtlXTtyZXR1cm4gbiYmKHQ9blsyXSksIm51bWJlciI9PXR5cGVvZiB0P3Q6Mn0oaSksby5tYXhGcmFjPW8ubWluRnJhYyx3aChlLG8sdCxVdS5DdXJyZW5jeUdyb3VwLFV1LkN1cnJlbmN5RGVjaW1hbCxzKS5yZXBsYWNlKCJceGE0IixuKS5yZXBsYWNlKCJceGE0IiwiIikudHJpbSgpfShXaCh0KSxvLHIsbixzKX1jYXRjaChhKXt0aHJvdyBOaChlLGEubWVzc2FnZSl9fX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShBcihPYywxNiksQXIoVGMsMTYpKX0sZS5cdTAyNzVwaXBlPVllKHtuYW1lOiJjdXJyZW5jeSIsdHlwZTplLHB1cmU6ITB9KSxlfSkoKTtmdW5jdGlvbiB6aChlKXtyZXR1cm4hKG51bGw9PWV8fCIiPT09ZXx8ZSE9ZSl9ZnVuY3Rpb24gV2goZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlJiYhaXNOYU4oTnVtYmVyKGUpLXBhcnNlRmxvYXQoZSkpKXJldHVybiBOdW1iZXIoZSk7aWYoIm51bWJlciIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihgJHtlfSBpcyBub3QgYSBudW1iZXJgKTtyZXR1cm4gZX1sZXQgR2g9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7cHJvdmlkZXJzOlt7cHJvdmlkZTpTaCx1c2VDbGFzczpFaH1dfSksZX0pKCksS2g9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxwcm92aWRlZEluOiJyb290IixmYWN0b3J5OigpPT5uZXcgWWgoY2koeXUpLHdpbmRvdyl9KSxlfSkoKTtjbGFzcyBZaHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuZG9jdW1lbnQ9ZSx0aGlzLndpbmRvdz10LHRoaXMub2Zmc2V0PSgpPT5bMCwwXX1zZXRPZmZzZXQoZSl7dGhpcy5vZmZzZXQ9QXJyYXkuaXNBcnJheShlKT8oKT0+ZTplfWdldFNjcm9sbFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuc3VwcG9ydHNTY3JvbGxpbmcoKT9bdGhpcy53aW5kb3cucGFnZVhPZmZzZXQsdGhpcy53aW5kb3cucGFnZVlPZmZzZXRdOlswLDBdfXNjcm9sbFRvUG9zaXRpb24oZSl7dGhpcy5zdXBwb3J0c1Njcm9sbGluZygpJiZ0aGlzLndpbmRvdy5zY3JvbGxUbyhlWzBdLGVbMV0pfXNjcm9sbFRvQW5jaG9yKGUpe2lmKCF0aGlzLnN1cHBvcnRzU2Nyb2xsaW5nKCkpcmV0dXJuO2NvbnN0IHQ9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPWUuZ2V0RWxlbWVudEJ5SWQodCl8fGUuZ2V0RWxlbWVudHNCeU5hbWUodClbMF07aWYobilyZXR1cm4gbjtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5jcmVhdGVUcmVlV2Fsa2VyJiZlLmJvZHkmJihlLmJvZHkuY3JlYXRlU2hhZG93Um9vdHx8ZS5ib2R5LmF0dGFjaFNoYWRvdykpe2NvbnN0IG49ZS5jcmVhdGVUcmVlV2Fsa2VyKGUuYm9keSxOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCk7bGV0IGk9bi5jdXJyZW50Tm9kZTtmb3IoO2k7KXtjb25zdCBlPWkuc2hhZG93Um9vdDtpZihlKXtjb25zdCBuPWUuZ2V0RWxlbWVudEJ5SWQodCl8fGUucXVlcnlTZWxlY3RvcihgW25hbWU9IiR7dH0iXWApO2lmKG4pcmV0dXJuIG59aT1uLm5leHROb2RlKCl9fXJldHVybiBudWxsfSh0aGlzLmRvY3VtZW50LGUpO3QmJih0aGlzLnNjcm9sbFRvRWxlbWVudCh0KSx0aGlzLmF0dGVtcHRGb2N1cyh0KSl9c2V0SGlzdG9yeVNjcm9sbFJlc3RvcmF0aW9uKGUpe2lmKHRoaXMuc3VwcG9ydFNjcm9sbFJlc3RvcmF0aW9uKCkpe2NvbnN0IHQ9dGhpcy53aW5kb3cuaGlzdG9yeTt0JiZ0LnNjcm9sbFJlc3RvcmF0aW9uJiYodC5zY3JvbGxSZXN0b3JhdGlvbj1lKX19c2Nyb2xsVG9FbGVtZW50KGUpe2NvbnN0IHQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPXQubGVmdCt0aGlzLndpbmRvdy5wYWdlWE9mZnNldCxpPXQudG9wK3RoaXMud2luZG93LnBhZ2VZT2Zmc2V0LHM9dGhpcy5vZmZzZXQoKTt0aGlzLndpbmRvdy5zY3JvbGxUbyhuLXNbMF0saS1zWzFdKX1hdHRlbXB0Rm9jdXMoZSl7cmV0dXJuIGUuZm9jdXMoKSx0aGlzLmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT1lfXN1cHBvcnRTY3JvbGxSZXN0b3JhdGlvbigpe3RyeXtpZighdGhpcy5zdXBwb3J0c1Njcm9sbGluZygpKXJldHVybiExO2NvbnN0IGU9WmgodGhpcy53aW5kb3cuaGlzdG9yeSl8fFpoKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzLndpbmRvdy5oaXN0b3J5KSk7cmV0dXJuISghZXx8IWUud3JpdGFibGUmJiFlLnNldCl9Y2F0Y2goZSl7cmV0dXJuITF9fXN1cHBvcnRzU2Nyb2xsaW5nKCl7dHJ5e3JldHVybiEhdGhpcy53aW5kb3cmJiEhdGhpcy53aW5kb3cuc2Nyb2xsVG8mJiJwYWdlWE9mZnNldCJpbiB0aGlzLndpbmRvd31jYXRjaChlKXtyZXR1cm4hMX19fWZ1bmN0aW9uIFpoKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsInNjcm9sbFJlc3RvcmF0aW9uIil9Y2xhc3MgUWh7fWNsYXNzIEpoIGV4dGVuZHMgY2xhc3MgZXh0ZW5kcyBjbGFzc3t9e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnN1cHBvcnRzRE9NRXZlbnRzPSEwfX17c3RhdGljIG1ha2VDdXJyZW50KCl7dmFyIGU7ZT1uZXcgSmgsdnV8fCh2dT1lKX1vbkFuZENhbmNlbChlLHQsbil7cmV0dXJuIGUuYWRkRXZlbnRMaXN0ZW5lcih0LG4sITEpLCgpPT57ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbiwhMSl9fWRpc3BhdGNoRXZlbnQoZSx0KXtlLmRpc3BhdGNoRXZlbnQodCl9cmVtb3ZlKGUpe2UucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfWNyZWF0ZUVsZW1lbnQoZSx0KXtyZXR1cm4odD10fHx0aGlzLmdldERlZmF1bHREb2N1bWVudCgpKS5jcmVhdGVFbGVtZW50KGUpfWNyZWF0ZUh0bWxEb2N1bWVudCgpe3JldHVybiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoImZha2VUaXRsZSIpfWdldERlZmF1bHREb2N1bWVudCgpe3JldHVybiBkb2N1bWVudH1pc0VsZW1lbnROb2RlKGUpe3JldHVybiBlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREV9aXNTaGFkb3dSb290KGUpe3JldHVybiBlIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudH1nZXRHbG9iYWxFdmVudFRhcmdldChlLHQpe3JldHVybiJ3aW5kb3ciPT09dD93aW5kb3c6ImRvY3VtZW50Ij09PXQ/ZToiYm9keSI9PT10P2UuYm9keTpudWxsfWdldEJhc2VIcmVmKGUpe2NvbnN0IHQ9KGVkPWVkfHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJiYXNlIiksZWQ/ZWQuZ2V0QXR0cmlidXRlKCJocmVmIik6bnVsbCk7cmV0dXJuIG51bGw9PXQ/bnVsbDpmdW5jdGlvbihlKXtYaD1YaHx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLFhoLnNldEF0dHJpYnV0ZSgiaHJlZiIsZSk7Y29uc3QgdD1YaC5wYXRobmFtZTtyZXR1cm4iLyI9PT10LmNoYXJBdCgwKT90OmAvJHt0fWB9KHQpfXJlc2V0QmFzZUVsZW1lbnQoKXtlZD1udWxsfWdldFVzZXJBZ2VudCgpe3JldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudH1nZXRDb29raWUoZSl7cmV0dXJuIGtoKGRvY3VtZW50LmNvb2tpZSxlKX19bGV0IFhoLGVkPW51bGw7Y29uc3QgdGQ9bmV3IHpuKCJUUkFOU0lUSU9OX0lEIiksbmQ9W3twcm92aWRlOkNjLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oZSx0LG4pe3JldHVybigpPT57bi5nZXQod2MpLmRvbmVQcm9taXNlLnRoZW4oKCk9Pntjb25zdCBuPWJ1KCk7QXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KHQucXVlcnlTZWxlY3RvckFsbCgic3R5bGVbbmctdHJhbnNpdGlvbl0iKSkuZmlsdGVyKHQ9PnQuZ2V0QXR0cmlidXRlKCJuZy10cmFuc2l0aW9uIik9PT1lKS5mb3JFYWNoKGU9Pm4ucmVtb3ZlKGUpKX0pfX0sZGVwczpbdGQseXUsbHJdLG11bHRpOiEwfV07Y2xhc3MgaWR7c3RhdGljIGluaXQoKXshZnVuY3Rpb24oZSl7SmM9ZX0obmV3IGlkKX1hZGRUb1dpbmRvdyhlKXtGZS5nZXRBbmd1bGFyVGVzdGFiaWxpdHk9KHQsbj0hMCk9Pntjb25zdCBpPWUuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHQsbik7aWYobnVsbD09aSl0aHJvdyBuZXcgRXJyb3IoIkNvdWxkIG5vdCBmaW5kIHRlc3RhYmlsaXR5IGZvciBlbGVtZW50LiIpO3JldHVybiBpfSxGZS5nZXRBbGxBbmd1bGFyVGVzdGFiaWxpdGllcz0oKT0+ZS5nZXRBbGxUZXN0YWJpbGl0aWVzKCksRmUuZ2V0QWxsQW5ndWxhclJvb3RFbGVtZW50cz0oKT0+ZS5nZXRBbGxSb290RWxlbWVudHMoKSxGZS5mcmFtZXdvcmtTdGFiaWxpemVyc3x8KEZlLmZyYW1ld29ya1N0YWJpbGl6ZXJzPVtdKSxGZS5mcmFtZXdvcmtTdGFiaWxpemVycy5wdXNoKGU9Pntjb25zdCB0PUZlLmdldEFsbEFuZ3VsYXJUZXN0YWJpbGl0aWVzKCk7bGV0IG49dC5sZW5ndGgsaT0hMTtjb25zdCBzPWZ1bmN0aW9uKHQpe2k9aXx8dCxuLS0sMD09biYmZShpKX07dC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uud2hlblN0YWJsZShzKX0pfSl9ZmluZFRlc3RhYmlsaXR5SW5UcmVlKGUsdCxuKXtpZihudWxsPT10KXJldHVybiBudWxsO2NvbnN0IGk9ZS5nZXRUZXN0YWJpbGl0eSh0KTtyZXR1cm4gbnVsbCE9aT9pOm4/YnUoKS5pc1NoYWRvd1Jvb3QodCk/dGhpcy5maW5kVGVzdGFiaWxpdHlJblRyZWUoZSx0Lmhvc3QsITApOnRoaXMuZmluZFRlc3RhYmlsaXR5SW5UcmVlKGUsdC5wYXJlbnRFbGVtZW50LCEwKTpudWxsfX1sZXQgc2Q9KCgpPT57Y2xhc3MgZXtidWlsZCgpe3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3R9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpO2NvbnN0IG9kPW5ldyB6bigiRXZlbnRNYW5hZ2VyUGx1Z2lucyIpO2xldCByZD0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fem9uZT10LHRoaXMuX2V2ZW50TmFtZVRvUGx1Z2luPW5ldyBNYXAsZS5mb3JFYWNoKGU9PmUubWFuYWdlcj10aGlzKSx0aGlzLl9wbHVnaW5zPWUuc2xpY2UoKS5yZXZlcnNlKCl9YWRkRXZlbnRMaXN0ZW5lcihlLHQsbil7cmV0dXJuIHRoaXMuX2ZpbmRQbHVnaW5Gb3IodCkuYWRkRXZlbnRMaXN0ZW5lcihlLHQsbil9YWRkR2xvYmFsRXZlbnRMaXN0ZW5lcihlLHQsbil7cmV0dXJuIHRoaXMuX2ZpbmRQbHVnaW5Gb3IodCkuYWRkR2xvYmFsRXZlbnRMaXN0ZW5lcihlLHQsbil9Z2V0Wm9uZSgpe3JldHVybiB0aGlzLl96b25lfV9maW5kUGx1Z2luRm9yKGUpe2NvbnN0IHQ9dGhpcy5fZXZlbnROYW1lVG9QbHVnaW4uZ2V0KGUpO2lmKHQpcmV0dXJuIHQ7Y29uc3Qgbj10aGlzLl9wbHVnaW5zO2ZvcihsZXQgaT0wO2k8bi5sZW5ndGg7aSsrKXtjb25zdCB0PW5baV07aWYodC5zdXBwb3J0cyhlKSlyZXR1cm4gdGhpcy5fZXZlbnROYW1lVG9QbHVnaW4uc2V0KGUsdCksdH10aHJvdyBuZXcgRXJyb3IoYE5vIGV2ZW50IG1hbmFnZXIgcGx1Z2luIGZvdW5kIGZvciBldmVudCAke2V9YCl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKGNpKG9kKSxjaSgkYykpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpO2NsYXNzIGFke2NvbnN0cnVjdG9yKGUpe3RoaXMuX2RvYz1lfWFkZEdsb2JhbEV2ZW50TGlzdGVuZXIoZSx0LG4pe2NvbnN0IGk9YnUoKS5nZXRHbG9iYWxFdmVudFRhcmdldCh0aGlzLl9kb2MsZSk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBldmVudCB0YXJnZXQgJHtpfSBmb3IgZXZlbnQgJHt0fWApO3JldHVybiB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoaSx0LG4pfX1sZXQgbGQ9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuX3N0eWxlc1NldD1uZXcgU2V0fWFkZFN0eWxlcyhlKXtjb25zdCB0PW5ldyBTZXQ7ZS5mb3JFYWNoKGU9Pnt0aGlzLl9zdHlsZXNTZXQuaGFzKGUpfHwodGhpcy5fc3R5bGVzU2V0LmFkZChlKSx0LmFkZChlKSl9KSx0aGlzLm9uU3R5bGVzQWRkZWQodCl9b25TdHlsZXNBZGRlZChlKXt9Z2V0QWxsU3R5bGVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fc3R5bGVzU2V0KX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxmYWN0b3J5OmUuXHUwMjc1ZmFjfSksZX0pKCksY2Q9KCgpPT57Y2xhc3MgZSBleHRlbmRzIGxke2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fZG9jPWUsdGhpcy5faG9zdE5vZGVzPW5ldyBNYXAsdGhpcy5faG9zdE5vZGVzLnNldChlLmhlYWQsW10pfV9hZGRTdHlsZXNUb0hvc3QoZSx0LG4pe2UuZm9yRWFjaChlPT57Y29uc3QgaT10aGlzLl9kb2MuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtpLnRleHRDb250ZW50PWUsbi5wdXNoKHQuYXBwZW5kQ2hpbGQoaSkpfSl9YWRkSG9zdChlKXtjb25zdCB0PVtdO3RoaXMuX2FkZFN0eWxlc1RvSG9zdCh0aGlzLl9zdHlsZXNTZXQsZSx0KSx0aGlzLl9ob3N0Tm9kZXMuc2V0KGUsdCl9cmVtb3ZlSG9zdChlKXtjb25zdCB0PXRoaXMuX2hvc3ROb2Rlcy5nZXQoZSk7dCYmdC5mb3JFYWNoKHVkKSx0aGlzLl9ob3N0Tm9kZXMuZGVsZXRlKGUpfW9uU3R5bGVzQWRkZWQoZSl7dGhpcy5faG9zdE5vZGVzLmZvckVhY2goKHQsbik9Pnt0aGlzLl9hZGRTdHlsZXNUb0hvc3QoZSxuLHQpfSl9bmdPbkRlc3Ryb3koKXt0aGlzLl9ob3N0Tm9kZXMuZm9yRWFjaChlPT5lLmZvckVhY2godWQpKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoY2koeXUpKX0sZS5cdTAyNzVwcm92PWhlKHt0b2tlbjplLGZhY3Rvcnk6ZS5cdTAyNzVmYWN9KSxlfSkoKTtmdW5jdGlvbiB1ZChlKXtidSgpLnJlbW92ZShlKX1jb25zdCBoZD17c3ZnOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIseGh0bWw6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIix4bWw6Imh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSIseG1sbnM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIn0sZGQ9LyVDT01QJS9nO2Z1bmN0aW9uIHBkKGUsdCxuKXtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7bGV0IHM9dFtpXTtBcnJheS5pc0FycmF5KHMpP3BkKGUscyxuKToocz1zLnJlcGxhY2UoZGQsZSksbi5wdXNoKHMpKX1yZXR1cm4gbn1mdW5jdGlvbiBmZChlKXtyZXR1cm4gdD0+e2lmKCJfX25nVW53cmFwX18iPT09dClyZXR1cm4gZTshMT09PWUodCkmJih0LnByZXZlbnREZWZhdWx0KCksdC5yZXR1cm5WYWx1ZT0hMSl9fWxldCBnZD0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLmV2ZW50TWFuYWdlcj1lLHRoaXMuc2hhcmVkU3R5bGVzSG9zdD10LHRoaXMuYXBwSWQ9bix0aGlzLnJlbmRlcmVyQnlDb21wSWQ9bmV3IE1hcCx0aGlzLmRlZmF1bHRSZW5kZXJlcj1uZXcgbWQoZSl9Y3JlYXRlUmVuZGVyZXIoZSx0KXtpZighZXx8IXQpcmV0dXJuIHRoaXMuZGVmYXVsdFJlbmRlcmVyO3N3aXRjaCh0LmVuY2Fwc3VsYXRpb24pe2Nhc2Uga2UuRW11bGF0ZWQ6e2xldCBuPXRoaXMucmVuZGVyZXJCeUNvbXBJZC5nZXQodC5pZCk7cmV0dXJuIG58fChuPW5ldyB2ZCh0aGlzLmV2ZW50TWFuYWdlcix0aGlzLnNoYXJlZFN0eWxlc0hvc3QsdCx0aGlzLmFwcElkKSx0aGlzLnJlbmRlcmVyQnlDb21wSWQuc2V0KHQuaWQsbikpLG4uYXBwbHlUb0hvc3QoZSksbn1jYXNlIDE6Y2FzZSBrZS5TaGFkb3dEb206cmV0dXJuIG5ldyBiZCh0aGlzLmV2ZW50TWFuYWdlcix0aGlzLnNoYXJlZFN0eWxlc0hvc3QsZSx0KTtkZWZhdWx0OmlmKCF0aGlzLnJlbmRlcmVyQnlDb21wSWQuaGFzKHQuaWQpKXtjb25zdCBlPXBkKHQuaWQsdC5zdHlsZXMsW10pO3RoaXMuc2hhcmVkU3R5bGVzSG9zdC5hZGRTdHlsZXMoZSksdGhpcy5yZW5kZXJlckJ5Q29tcElkLnNldCh0LmlkLHRoaXMuZGVmYXVsdFJlbmRlcmVyKX1yZXR1cm4gdGhpcy5kZWZhdWx0UmVuZGVyZXJ9fWJlZ2luKCl7fWVuZCgpe319cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoY2kocmQpLGNpKGNkKSxjaShfYykpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpO2NsYXNzIG1ke2NvbnN0cnVjdG9yKGUpe3RoaXMuZXZlbnRNYW5hZ2VyPWUsdGhpcy5kYXRhPU9iamVjdC5jcmVhdGUobnVsbCl9ZGVzdHJveSgpe31jcmVhdGVFbGVtZW50KGUsdCl7cmV0dXJuIHQ/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGhkW3RdfHx0LGUpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSl9Y3JlYXRlQ29tbWVudChlKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudChlKX1jcmVhdGVUZXh0KGUpe3JldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKX1hcHBlbmRDaGlsZChlLHQpe2UuYXBwZW5kQ2hpbGQodCl9aW5zZXJ0QmVmb3JlKGUsdCxuKXtlJiZlLmluc2VydEJlZm9yZSh0LG4pfXJlbW92ZUNoaWxkKGUsdCl7ZSYmZS5yZW1vdmVDaGlsZCh0KX1zZWxlY3RSb290RWxlbWVudChlLHQpe2xldCBuPSJzdHJpbmciPT10eXBlb2YgZT9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpOmU7aWYoIW4pdGhyb3cgbmV3IEVycm9yKGBUaGUgc2VsZWN0b3IgIiR7ZX0iIGRpZCBub3QgbWF0Y2ggYW55IGVsZW1lbnRzYCk7cmV0dXJuIHR8fChuLnRleHRDb250ZW50PSIiKSxufXBhcmVudE5vZGUoZSl7cmV0dXJuIGUucGFyZW50Tm9kZX1uZXh0U2libGluZyhlKXtyZXR1cm4gZS5uZXh0U2libGluZ31zZXRBdHRyaWJ1dGUoZSx0LG4saSl7aWYoaSl7dD1pKyI6Iit0O2NvbnN0IHM9aGRbaV07cz9lLnNldEF0dHJpYnV0ZU5TKHMsdCxuKTplLnNldEF0dHJpYnV0ZSh0LG4pfWVsc2UgZS5zZXRBdHRyaWJ1dGUodCxuKX1yZW1vdmVBdHRyaWJ1dGUoZSx0LG4pe2lmKG4pe2NvbnN0IGk9aGRbbl07aT9lLnJlbW92ZUF0dHJpYnV0ZU5TKGksdCk6ZS5yZW1vdmVBdHRyaWJ1dGUoYCR7bn06JHt0fWApfWVsc2UgZS5yZW1vdmVBdHRyaWJ1dGUodCl9YWRkQ2xhc3MoZSx0KXtlLmNsYXNzTGlzdC5hZGQodCl9cmVtb3ZlQ2xhc3MoZSx0KXtlLmNsYXNzTGlzdC5yZW1vdmUodCl9c2V0U3R5bGUoZSx0LG4saSl7aSYoY3MuRGFzaENhc2V8Y3MuSW1wb3J0YW50KT9lLnN0eWxlLnNldFByb3BlcnR5KHQsbixpJmNzLkltcG9ydGFudD8iaW1wb3J0YW50IjoiIik6ZS5zdHlsZVt0XT1ufXJlbW92ZVN0eWxlKGUsdCxuKXtuJmNzLkRhc2hDYXNlP2Uuc3R5bGUucmVtb3ZlUHJvcGVydHkodCk6ZS5zdHlsZVt0XT0iIn1zZXRQcm9wZXJ0eShlLHQsbil7ZVt0XT1ufXNldFZhbHVlKGUsdCl7ZS5ub2RlVmFsdWU9dH1saXN0ZW4oZSx0LG4pe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT90aGlzLmV2ZW50TWFuYWdlci5hZGRHbG9iYWxFdmVudExpc3RlbmVyKGUsdCxmZChuKSk6dGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihlLHQsZmQobikpfX1jbGFzcyB2ZCBleHRlbmRzIG1ke2NvbnN0cnVjdG9yKGUsdCxuLGkpe3N1cGVyKGUpLHRoaXMuY29tcG9uZW50PW47Y29uc3Qgcz1wZChpKyItIituLmlkLG4uc3R5bGVzLFtdKTt0LmFkZFN0eWxlcyhzKSx0aGlzLmNvbnRlbnRBdHRyPSJfbmdjb250ZW50LSVDT01QJSIucmVwbGFjZShkZCxpKyItIituLmlkKSx0aGlzLmhvc3RBdHRyPSJfbmdob3N0LSVDT01QJSIucmVwbGFjZShkZCxpKyItIituLmlkKX1hcHBseVRvSG9zdChlKXtzdXBlci5zZXRBdHRyaWJ1dGUoZSx0aGlzLmhvc3RBdHRyLCIiKX1jcmVhdGVFbGVtZW50KGUsdCl7Y29uc3Qgbj1zdXBlci5jcmVhdGVFbGVtZW50KGUsdCk7cmV0dXJuIHN1cGVyLnNldEF0dHJpYnV0ZShuLHRoaXMuY29udGVudEF0dHIsIiIpLG59fWNsYXNzIGJkIGV4dGVuZHMgbWR7Y29uc3RydWN0b3IoZSx0LG4saSl7c3VwZXIoZSksdGhpcy5zaGFyZWRTdHlsZXNIb3N0PXQsdGhpcy5ob3N0RWw9bix0aGlzLnNoYWRvd1Jvb3Q9bi5hdHRhY2hTaGFkb3coe21vZGU6Im9wZW4ifSksdGhpcy5zaGFyZWRTdHlsZXNIb3N0LmFkZEhvc3QodGhpcy5zaGFkb3dSb290KTtjb25zdCBzPXBkKGkuaWQsaS5zdHlsZXMsW10pO2ZvcihsZXQgbz0wO288cy5sZW5ndGg7bysrKXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7ZS50ZXh0Q29udGVudD1zW29dLHRoaXMuc2hhZG93Um9vdC5hcHBlbmRDaGlsZChlKX19bm9kZU9yU2hhZG93Um9vdChlKXtyZXR1cm4gZT09PXRoaXMuaG9zdEVsP3RoaXMuc2hhZG93Um9vdDplfWRlc3Ryb3koKXt0aGlzLnNoYXJlZFN0eWxlc0hvc3QucmVtb3ZlSG9zdCh0aGlzLnNoYWRvd1Jvb3QpfWFwcGVuZENoaWxkKGUsdCl7cmV0dXJuIHN1cGVyLmFwcGVuZENoaWxkKHRoaXMubm9kZU9yU2hhZG93Um9vdChlKSx0KX1pbnNlcnRCZWZvcmUoZSx0LG4pe3JldHVybiBzdXBlci5pbnNlcnRCZWZvcmUodGhpcy5ub2RlT3JTaGFkb3dSb290KGUpLHQsbil9cmVtb3ZlQ2hpbGQoZSx0KXtyZXR1cm4gc3VwZXIucmVtb3ZlQ2hpbGQodGhpcy5ub2RlT3JTaGFkb3dSb290KGUpLHQpfXBhcmVudE5vZGUoZSl7cmV0dXJuIHRoaXMubm9kZU9yU2hhZG93Um9vdChzdXBlci5wYXJlbnROb2RlKHRoaXMubm9kZU9yU2hhZG93Um9vdChlKSkpfX1sZXQgeWQ9KCgpPT57Y2xhc3MgZSBleHRlbmRzIGFke2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfXN1cHBvcnRzKGUpe3JldHVybiEwfWFkZEV2ZW50TGlzdGVuZXIoZSx0LG4pe3JldHVybiBlLmFkZEV2ZW50TGlzdGVuZXIodCxuLCExKSwoKT0+dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGUsdCxuKX1yZW1vdmVFdmVudExpc3RlbmVyKGUsdCxuKXtyZXR1cm4gZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKGNpKHl1KSl9LGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxmYWN0b3J5OmUuXHUwMjc1ZmFjfSksZX0pKCk7Y29uc3QgQ2Q9WyJhbHQiLCJjb250cm9sIiwibWV0YSIsInNoaWZ0Il0sd2Q9eyJcYiI6IkJhY2tzcGFjZSIsIlx0IjoiVGFiIiwiXHg3ZiI6IkRlbGV0ZSIsIlx4MWIiOiJFc2NhcGUiLERlbDoiRGVsZXRlIixFc2M6IkVzY2FwZSIsTGVmdDoiQXJyb3dMZWZ0IixSaWdodDoiQXJyb3dSaWdodCIsVXA6IkFycm93VXAiLERvd246IkFycm93RG93biIsTWVudToiQ29udGV4dE1lbnUiLFNjcm9sbDoiU2Nyb2xsTG9jayIsV2luOiJPUyJ9LF9kPXtBOiIxIixCOiIyIixDOiIzIixEOiI0IixFOiI1IixGOiI2IixHOiI3IixIOiI4IixJOiI5IixKOiIqIixLOiIrIixNOiItIixOOiIuIixPOiIvIiwiYCI6IjAiLCJceDkwIjoiTnVtTG9jayJ9LERkPXthbHQ6ZT0+ZS5hbHRLZXksY29udHJvbDplPT5lLmN0cmxLZXksbWV0YTplPT5lLm1ldGFLZXksc2hpZnQ6ZT0+ZS5zaGlmdEtleX07bGV0IFNkPSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBhZHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1zdXBwb3J0cyh0KXtyZXR1cm4gbnVsbCE9ZS5wYXJzZUV2ZW50TmFtZSh0KX1hZGRFdmVudExpc3RlbmVyKHQsbixpKXtjb25zdCBzPWUucGFyc2VFdmVudE5hbWUobiksbz1lLmV2ZW50Q2FsbGJhY2socy5mdWxsS2V5LGksdGhpcy5tYW5hZ2VyLmdldFpvbmUoKSk7cmV0dXJuIHRoaXMubWFuYWdlci5nZXRab25lKCkucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PmJ1KCkub25BbmRDYW5jZWwodCxzLmRvbUV2ZW50TmFtZSxvKSl9c3RhdGljIHBhcnNlRXZlbnROYW1lKHQpe2NvbnN0IG49dC50b0xvd2VyQ2FzZSgpLnNwbGl0KCIuIiksaT1uLnNoaWZ0KCk7aWYoMD09PW4ubGVuZ3RofHwia2V5ZG93biIhPT1pJiYia2V5dXAiIT09aSlyZXR1cm4gbnVsbDtjb25zdCBzPWUuX25vcm1hbGl6ZUtleShuLnBvcCgpKTtsZXQgbz0iIjtpZihDZC5mb3JFYWNoKGU9Pntjb25zdCB0PW4uaW5kZXhPZihlKTt0Pi0xJiYobi5zcGxpY2UodCwxKSxvKz1lKyIuIil9KSxvKz1zLDAhPW4ubGVuZ3RofHwwPT09cy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3Qgcj17fTtyZXR1cm4gci5kb21FdmVudE5hbWU9aSxyLmZ1bGxLZXk9byxyfXN0YXRpYyBnZXRFdmVudEZ1bGxLZXkoZSl7bGV0IHQ9IiIsbj1mdW5jdGlvbihlKXtsZXQgdD1lLmtleTtpZihudWxsPT10KXtpZih0PWUua2V5SWRlbnRpZmllcixudWxsPT10KXJldHVybiJVbmlkZW50aWZpZWQiO3Quc3RhcnRzV2l0aCgiVSsiKSYmKHQ9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludCh0LnN1YnN0cmluZygyKSwxNikpLDM9PT1lLmxvY2F0aW9uJiZfZC5oYXNPd25Qcm9wZXJ0eSh0KSYmKHQ9X2RbdF0pKX1yZXR1cm4gd2RbdF18fHR9KGUpO3JldHVybiBuPW4udG9Mb3dlckNhc2UoKSwiICI9PT1uP249InNwYWNlIjoiLiI9PT1uJiYobj0iZG90IiksQ2QuZm9yRWFjaChpPT57aSE9biYmKDAsRGRbaV0pKGUpJiYodCs9aSsiLiIpfSksdCs9bix0fXN0YXRpYyBldmVudENhbGxiYWNrKHQsbixpKXtyZXR1cm4gcz0+e2UuZ2V0RXZlbnRGdWxsS2V5KHMpPT09dCYmaS5ydW5HdWFyZGVkKCgpPT5uKHMpKX19c3RhdGljIF9ub3JtYWxpemVLZXkoZSl7c3dpdGNoKGUpe2Nhc2UiZXNjIjpyZXR1cm4iZXNjYXBlIjtkZWZhdWx0OnJldHVybiBlfX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoY2koeXUpKX0sZS5cdTAyNzVwcm92PWhlKHt0b2tlbjplLGZhY3Rvcnk6ZS5cdTAyNzVmYWN9KSxlfSkoKSxFZD0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVwcm92PWhlKHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIGNpKHhkKX0sdG9rZW46ZSxwcm92aWRlZEluOiJyb290In0pLGV9KSgpO2Z1bmN0aW9uIGtkKGUpe3JldHVybiBuZXcgeGQoZS5nZXQoeXUpKX1sZXQgeGQ9KCgpPT57Y2xhc3MgZSBleHRlbmRzIEVke2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fZG9jPWV9c2FuaXRpemUoZSx0KXtpZihudWxsPT10KXJldHVybiBudWxsO3N3aXRjaChlKXtjYXNlIFFpLk5PTkU6cmV0dXJuIHQ7Y2FzZSBRaS5IVE1MOnJldHVybiBraSh0LCJIVE1MIik/RWkodCk6WWkodGhpcy5fZG9jLFN0cmluZyh0KSkudG9TdHJpbmcoKTtjYXNlIFFpLlNUWUxFOnJldHVybiBraSh0LCJTdHlsZSIpP0VpKHQpOnQ7Y2FzZSBRaS5TQ1JJUFQ6aWYoa2kodCwiU2NyaXB0IikpcmV0dXJuIEVpKHQpO3Rocm93IG5ldyBFcnJvcigidW5zYWZlIHZhbHVlIHVzZWQgaW4gYSBzY3JpcHQgY29udGV4dCIpO2Nhc2UgUWkuVVJMOnJldHVybiB4aSh0KSxraSh0LCJVUkwiKT9FaSh0KTpJaShTdHJpbmcodCkpO2Nhc2UgUWkuUkVTT1VSQ0VfVVJMOmlmKGtpKHQsIlJlc291cmNlVVJMIikpcmV0dXJuIEVpKHQpO3Rocm93IG5ldyBFcnJvcigidW5zYWZlIHZhbHVlIHVzZWQgaW4gYSByZXNvdXJjZSBVUkwgY29udGV4dCAoc2VlIGh0dHBzOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpIik7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgU2VjdXJpdHlDb250ZXh0ICR7ZX0gKHNlZSBodHRwczovL2cuY28vbmcvc2VjdXJpdHkjeHNzKWApfX1ieXBhc3NTZWN1cml0eVRydXN0SHRtbChlKXtyZXR1cm4gbmV3IENpKGUpfWJ5cGFzc1NlY3VyaXR5VHJ1c3RTdHlsZShlKXtyZXR1cm4gbmV3IHdpKGUpfWJ5cGFzc1NlY3VyaXR5VHJ1c3RTY3JpcHQoZSl7cmV0dXJuIG5ldyBfaShlKX1ieXBhc3NTZWN1cml0eVRydXN0VXJsKGUpe3JldHVybiBuZXcgRGkoZSl9YnlwYXNzU2VjdXJpdHlUcnVzdFJlc291cmNlVXJsKGUpe3JldHVybiBuZXcgU2koZSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKGNpKHl1KSl9LGUuXHUwMjc1cHJvdj1oZSh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBrZChjaShHbykpfSx0b2tlbjplLHByb3ZpZGVkSW46InJvb3QifSksZX0pKCk7Y29uc3QgQWQ9aXUoZnUsImJyb3dzZXIiLFt7cHJvdmlkZTprYyx1c2VWYWx1ZToiYnJvd3NlciJ9LHtwcm92aWRlOkVjLHVzZVZhbHVlOmZ1bmN0aW9uKCl7SmgubWFrZUN1cnJlbnQoKSxpZC5pbml0KCl9LG11bHRpOiEwfSx7cHJvdmlkZTp5dSx1c2VGYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3B0PWV9KGRvY3VtZW50KSxkb2N1bWVudH0sZGVwczpbXX1dKSxPZD1bW10se3Byb3ZpZGU6WW8sdXNlVmFsdWU6InJvb3QifSx7cHJvdmlkZTpycyx1c2VGYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByc30sZGVwczpbXX0se3Byb3ZpZGU6b2QsdXNlQ2xhc3M6eWQsbXVsdGk6ITAsZGVwczpbeXUsJGMsa2NdfSx7cHJvdmlkZTpvZCx1c2VDbGFzczpTZCxtdWx0aTohMCxkZXBzOlt5dV19LFtdLHtwcm92aWRlOmdkLHVzZUNsYXNzOmdkLGRlcHM6W3JkLGNkLF9jXX0se3Byb3ZpZGU6emEsdXNlRXhpc3Rpbmc6Z2R9LHtwcm92aWRlOmxkLHVzZUV4aXN0aW5nOmNkfSx7cHJvdmlkZTpjZCx1c2VDbGFzczpjZCxkZXBzOlt5dV19LHtwcm92aWRlOktjLHVzZUNsYXNzOktjLGRlcHM6WyRjXX0se3Byb3ZpZGU6cmQsdXNlQ2xhc3M6cmQsZGVwczpbb2QsJGNdfSx7cHJvdmlkZTpRaCx1c2VDbGFzczpzZCxkZXBzOltdfSxbXV07bGV0IFRkPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSl7aWYoZSl0aHJvdyBuZXcgRXJyb3IoIkJyb3dzZXJNb2R1bGUgaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQuIElmIHlvdSBuZWVkIGFjY2VzcyB0byBjb21tb24gZGlyZWN0aXZlcyBzdWNoIGFzIE5nSWYgYW5kIE5nRm9yIGZyb20gYSBsYXp5IGxvYWRlZCBtb2R1bGUsIGltcG9ydCBDb21tb25Nb2R1bGUgaW5zdGVhZC4iKX1zdGF0aWMgd2l0aFNlcnZlclRyYW5zaXRpb24odCl7cmV0dXJue25nTW9kdWxlOmUscHJvdmlkZXJzOlt7cHJvdmlkZTpfYyx1c2VWYWx1ZTp0LmFwcElkfSx7cHJvdmlkZTp0ZCx1c2VFeGlzdGluZzpfY30sbmRdfX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoY2koZSwxMikpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe3Byb3ZpZGVyczpPZCxpbXBvcnRzOltHaCxtdV19KSxlfSkoKTsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93O2NsYXNzIEZkIGV4dGVuZHMgaHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCl9c2NoZWR1bGUoZSx0PTApe3JldHVybiB0aGlzfX1jbGFzcyBJZCBleHRlbmRzIEZke2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnNjaGVkdWxlcj1lLHRoaXMud29yaz10LHRoaXMucGVuZGluZz0hMX1zY2hlZHVsZShlLHQ9MCl7aWYodGhpcy5jbG9zZWQpcmV0dXJuIHRoaXM7dGhpcy5zdGF0ZT1lO2NvbnN0IG49dGhpcy5pZCxpPXRoaXMuc2NoZWR1bGVyO3JldHVybiBudWxsIT1uJiYodGhpcy5pZD10aGlzLnJlY3ljbGVBc3luY0lkKGksbix0KSksdGhpcy5wZW5kaW5nPSEwLHRoaXMuZGVsYXk9dCx0aGlzLmlkPXRoaXMuaWR8fHRoaXMucmVxdWVzdEFzeW5jSWQoaSx0aGlzLmlkLHQpLHRoaXN9cmVxdWVzdEFzeW5jSWQoZSx0LG49MCl7cmV0dXJuIHNldEludGVydmFsKGUuZmx1c2guYmluZChlLHRoaXMpLG4pfXJlY3ljbGVBc3luY0lkKGUsdCxuPTApe2lmKG51bGwhPT1uJiZ0aGlzLmRlbGF5PT09biYmITE9PT10aGlzLnBlbmRpbmcpcmV0dXJuIHQ7Y2xlYXJJbnRlcnZhbCh0KX1leGVjdXRlKGUsdCl7aWYodGhpcy5jbG9zZWQpcmV0dXJuIG5ldyBFcnJvcigiZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbiIpO3RoaXMucGVuZGluZz0hMTtjb25zdCBuPXRoaXMuX2V4ZWN1dGUoZSx0KTtpZihuKXJldHVybiBuOyExPT09dGhpcy5wZW5kaW5nJiZudWxsIT10aGlzLmlkJiYodGhpcy5pZD10aGlzLnJlY3ljbGVBc3luY0lkKHRoaXMuc2NoZWR1bGVyLHRoaXMuaWQsbnVsbCkpfV9leGVjdXRlKGUsdCl7bGV0IG4saT0hMTt0cnl7dGhpcy53b3JrKGUpfWNhdGNoKHMpe2k9ITAsbj0hIXMmJnN8fG5ldyBFcnJvcihzKX1pZihpKXJldHVybiB0aGlzLnVuc3Vic2NyaWJlKCksbn1fdW5zdWJzY3JpYmUoKXtjb25zdCBlPXRoaXMuaWQsdD10aGlzLnNjaGVkdWxlcixuPXQuYWN0aW9ucyxpPW4uaW5kZXhPZih0aGlzKTt0aGlzLndvcms9bnVsbCx0aGlzLnN0YXRlPW51bGwsdGhpcy5wZW5kaW5nPSExLHRoaXMuc2NoZWR1bGVyPW51bGwsLTEhPT1pJiZuLnNwbGljZShpLDEpLG51bGwhPWUmJih0aGlzLmlkPXRoaXMucmVjeWNsZUFzeW5jSWQodCxlLG51bGwpKSx0aGlzLmRlbGF5PW51bGx9fWNsYXNzIE1kIGV4dGVuZHMgSWR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuc2NoZWR1bGVyPWUsdGhpcy53b3JrPXR9c2NoZWR1bGUoZSx0PTApe3JldHVybiB0PjA/c3VwZXIuc2NoZWR1bGUoZSx0KToodGhpcy5kZWxheT10LHRoaXMuc3RhdGU9ZSx0aGlzLnNjaGVkdWxlci5mbHVzaCh0aGlzKSx0aGlzKX1leGVjdXRlKGUsdCl7cmV0dXJuIHQ+MHx8dGhpcy5jbG9zZWQ/c3VwZXIuZXhlY3V0ZShlLHQpOnRoaXMuX2V4ZWN1dGUoZSx0KX1yZXF1ZXN0QXN5bmNJZChlLHQsbj0wKXtyZXR1cm4gbnVsbCE9PW4mJm4+MHx8bnVsbD09PW4mJnRoaXMuZGVsYXk+MD9zdXBlci5yZXF1ZXN0QXN5bmNJZChlLHQsbik6ZS5mbHVzaCh0aGlzKX19bGV0IFBkPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IodCxuPWUubm93KXt0aGlzLlNjaGVkdWxlckFjdGlvbj10LHRoaXMubm93PW59c2NoZWR1bGUoZSx0PTAsbil7cmV0dXJuIG5ldyB0aGlzLlNjaGVkdWxlckFjdGlvbih0aGlzLGUpLnNjaGVkdWxlKG4sdCl9fXJldHVybiBlLm5vdz0oKT0+RGF0ZS5ub3coKSxlfSkoKTtjbGFzcyBWZCBleHRlbmRzIFBke2NvbnN0cnVjdG9yKGUsdD1QZC5ub3cpe3N1cGVyKGUsKCk9PlZkLmRlbGVnYXRlJiZWZC5kZWxlZ2F0ZSE9PXRoaXM/VmQuZGVsZWdhdGUubm93KCk6dCgpKSx0aGlzLmFjdGlvbnM9W10sdGhpcy5hY3RpdmU9ITEsdGhpcy5zY2hlZHVsZWQ9dm9pZCAwfXNjaGVkdWxlKGUsdD0wLG4pe3JldHVybiBWZC5kZWxlZ2F0ZSYmVmQuZGVsZWdhdGUhPT10aGlzP1ZkLmRlbGVnYXRlLnNjaGVkdWxlKGUsdCxuKTpzdXBlci5zY2hlZHVsZShlLHQsbil9Zmx1c2goZSl7Y29uc3R7YWN0aW9uczp0fT10aGlzO2lmKHRoaXMuYWN0aXZlKXJldHVybiB2b2lkIHQucHVzaChlKTtsZXQgbjt0aGlzLmFjdGl2ZT0hMDtkb3tpZihuPWUuZXhlY3V0ZShlLnN0YXRlLGUuZGVsYXkpKWJyZWFrfXdoaWxlKGU9dC5zaGlmdCgpKTtpZih0aGlzLmFjdGl2ZT0hMSxuKXtmb3IoO2U9dC5zaGlmdCgpOyllLnVuc3Vic2NyaWJlKCk7dGhyb3cgbn19fWNsYXNzIExkIGV4dGVuZHMgVmR7fWNvbnN0IFJkPW5ldyBMZChNZCksamQ9bmV3IGIoZT0+ZS5jb21wbGV0ZSgpKTtmdW5jdGlvbiBOZChlKXtyZXR1cm4gZT9mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGIodD0+ZS5zY2hlZHVsZSgoKT0+dC5jb21wbGV0ZSgpKSl9KGUpOmpkfWZ1bmN0aW9uIEJkKC4uLmUpe2xldCB0PWVbZS5sZW5ndGgtMV07cmV0dXJuIEUodCk/KGUucG9wKCksVihlLHQpKTpxKGUpfWZ1bmN0aW9uICRkKGUsdCl7cmV0dXJuIG5ldyBiKHQ/bj0+dC5zY2hlZHVsZShIZCwwLHtlcnJvcjplLHN1YnNjcmliZXI6bn0pOnQ9PnQuZXJyb3IoZSkpfWZ1bmN0aW9uIEhkKHtlcnJvcjplLHN1YnNjcmliZXI6dH0pe3QuZXJyb3IoZSl9bGV0IFVkPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMua2luZD1lLHRoaXMudmFsdWU9dCx0aGlzLmVycm9yPW4sdGhpcy5oYXNWYWx1ZT0iTiI9PT1lfW9ic2VydmUoZSl7c3dpdGNoKHRoaXMua2luZCl7Y2FzZSJOIjpyZXR1cm4gZS5uZXh0JiZlLm5leHQodGhpcy52YWx1ZSk7Y2FzZSJFIjpyZXR1cm4gZS5lcnJvciYmZS5lcnJvcih0aGlzLmVycm9yKTtjYXNlIkMiOnJldHVybiBlLmNvbXBsZXRlJiZlLmNvbXBsZXRlKCl9fWRvKGUsdCxuKXtzd2l0Y2godGhpcy5raW5kKXtjYXNlIk4iOnJldHVybiBlJiZlKHRoaXMudmFsdWUpO2Nhc2UiRSI6cmV0dXJuIHQmJnQodGhpcy5lcnJvcik7Y2FzZSJDIjpyZXR1cm4gbiYmbigpfX1hY2NlcHQoZSx0LG4pe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5uZXh0P3RoaXMub2JzZXJ2ZShlKTp0aGlzLmRvKGUsdCxuKX10b09ic2VydmFibGUoKXtzd2l0Y2godGhpcy5raW5kKXtjYXNlIk4iOnJldHVybiBCZCh0aGlzLnZhbHVlKTtjYXNlIkUiOnJldHVybiAkZCh0aGlzLmVycm9yKTtjYXNlIkMiOnJldHVybiBOZCgpfXRocm93IG5ldyBFcnJvcigidW5leHBlY3RlZCBub3RpZmljYXRpb24ga2luZCB2YWx1ZSIpfXN0YXRpYyBjcmVhdGVOZXh0KHQpe3JldHVybiB2b2lkIDAhPT10P25ldyBlKCJOIix0KTplLnVuZGVmaW5lZFZhbHVlTm90aWZpY2F0aW9ufXN0YXRpYyBjcmVhdGVFcnJvcih0KXtyZXR1cm4gbmV3IGUoIkUiLHZvaWQgMCx0KX1zdGF0aWMgY3JlYXRlQ29tcGxldGUoKXtyZXR1cm4gZS5jb21wbGV0ZU5vdGlmaWNhdGlvbn19cmV0dXJuIGUuY29tcGxldGVOb3RpZmljYXRpb249bmV3IGUoIkMiKSxlLnVuZGVmaW5lZFZhbHVlTm90aWZpY2F0aW9uPW5ldyBlKCJOIix2b2lkIDApLGV9KSgpO2NsYXNzIHFkIGV4dGVuZHMgZntjb25zdHJ1Y3RvcihlLHQsbj0wKXtzdXBlcihlKSx0aGlzLnNjaGVkdWxlcj10LHRoaXMuZGVsYXk9bn1zdGF0aWMgZGlzcGF0Y2goZSl7Y29uc3R7bm90aWZpY2F0aW9uOnQsZGVzdGluYXRpb246bn09ZTt0Lm9ic2VydmUobiksdGhpcy51bnN1YnNjcmliZSgpfXNjaGVkdWxlTWVzc2FnZShlKXt0aGlzLmRlc3RpbmF0aW9uLmFkZCh0aGlzLnNjaGVkdWxlci5zY2hlZHVsZShxZC5kaXNwYXRjaCx0aGlzLmRlbGF5LG5ldyB6ZChlLHRoaXMuZGVzdGluYXRpb24pKSl9X25leHQoZSl7dGhpcy5zY2hlZHVsZU1lc3NhZ2UoVWQuY3JlYXRlTmV4dChlKSl9X2Vycm9yKGUpe3RoaXMuc2NoZWR1bGVNZXNzYWdlKFVkLmNyZWF0ZUVycm9yKGUpKSx0aGlzLnVuc3Vic2NyaWJlKCl9X2NvbXBsZXRlKCl7dGhpcy5zY2hlZHVsZU1lc3NhZ2UoVWQuY3JlYXRlQ29tcGxldGUoKSksdGhpcy51bnN1YnNjcmliZSgpfX1jbGFzcyB6ZHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMubm90aWZpY2F0aW9uPWUsdGhpcy5kZXN0aW5hdGlvbj10fX1jbGFzcyBXZCBleHRlbmRzIER7Y29uc3RydWN0b3IoZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksdD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbil7c3VwZXIoKSx0aGlzLnNjaGVkdWxlcj1uLHRoaXMuX2V2ZW50cz1bXSx0aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3c9ITEsdGhpcy5fYnVmZmVyU2l6ZT1lPDE/MTplLHRoaXMuX3dpbmRvd1RpbWU9dDwxPzE6dCx0PT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZPyh0aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3c9ITAsdGhpcy5uZXh0PXRoaXMubmV4dEluZmluaXRlVGltZVdpbmRvdyk6dGhpcy5uZXh0PXRoaXMubmV4dFRpbWVXaW5kb3d9bmV4dEluZmluaXRlVGltZVdpbmRvdyhlKXtpZighdGhpcy5pc1N0b3BwZWQpe2NvbnN0IHQ9dGhpcy5fZXZlbnRzO3QucHVzaChlKSx0Lmxlbmd0aD50aGlzLl9idWZmZXJTaXplJiZ0LnNoaWZ0KCl9c3VwZXIubmV4dChlKX1uZXh0VGltZVdpbmRvdyhlKXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuX2V2ZW50cy5wdXNoKG5ldyBHZCh0aGlzLl9nZXROb3coKSxlKSksdGhpcy5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMoKSksc3VwZXIubmV4dChlKX1fc3Vic2NyaWJlKGUpe2NvbnN0IHQ9dGhpcy5faW5maW5pdGVUaW1lV2luZG93LG49dD90aGlzLl9ldmVudHM6dGhpcy5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMoKSxpPXRoaXMuc2NoZWR1bGVyLHM9bi5sZW5ndGg7bGV0IG87aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEM7aWYodGhpcy5pc1N0b3BwZWR8fHRoaXMuaGFzRXJyb3I/bz1oLkVNUFRZOih0aGlzLm9ic2VydmVycy5wdXNoKGUpLG89bmV3IHcodGhpcyxlKSksaSYmZS5hZGQoZT1uZXcgcWQoZSxpKSksdClmb3IobGV0IHI9MDtyPHMmJiFlLmNsb3NlZDtyKyspZS5uZXh0KG5bcl0pO2Vsc2UgZm9yKGxldCByPTA7cjxzJiYhZS5jbG9zZWQ7cisrKWUubmV4dChuW3JdLnZhbHVlKTtyZXR1cm4gdGhpcy5oYXNFcnJvcj9lLmVycm9yKHRoaXMudGhyb3duRXJyb3IpOnRoaXMuaXNTdG9wcGVkJiZlLmNvbXBsZXRlKCksb31fZ2V0Tm93KCl7cmV0dXJuKHRoaXMuc2NoZWR1bGVyfHxSZCkubm93KCl9X3RyaW1CdWZmZXJUaGVuR2V0RXZlbnRzKCl7Y29uc3QgZT10aGlzLl9nZXROb3coKSx0PXRoaXMuX2J1ZmZlclNpemUsbj10aGlzLl93aW5kb3dUaW1lLGk9dGhpcy5fZXZlbnRzLHM9aS5sZW5ndGg7bGV0IG89MDtmb3IoO288cyYmIShlLWlbb10udGltZTxuKTspbysrO3JldHVybiBzPnQmJihvPU1hdGgubWF4KG8scy10KSksbz4wJiZpLnNwbGljZSgwLG8pLGl9fWNsYXNzIEdke2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50aW1lPWUsdGhpcy52YWx1ZT10fX1mdW5jdGlvbiBLZChlLHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0P249Pm4ucGlwZShLZCgobixpKT0+TChlKG4saSkpLnBpcGUoaygoZSxzKT0+dChuLGUsaSxzKSkpKSk6dD0+dC5saWZ0KG5ldyBZZChlKSl9Y2xhc3MgWWR7Y29uc3RydWN0b3IoZSl7dGhpcy5wcm9qZWN0PWV9Y2FsbChlLHQpe3JldHVybiB0LnN1YnNjcmliZShuZXcgWmQoZSx0aGlzLnByb2plY3QpKX19Y2xhc3MgWmQgZXh0ZW5kcyBqe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSksdGhpcy5wcm9qZWN0PXQsdGhpcy5pbmRleD0wfV9uZXh0KGUpe2xldCB0O2NvbnN0IG49dGhpcy5pbmRleCsrO3RyeXt0PXRoaXMucHJvamVjdChlLG4pfWNhdGNoKGkpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoaSl9dGhpcy5faW5uZXJTdWIodCl9X2lubmVyU3ViKGUpe2NvbnN0IHQ9dGhpcy5pbm5lclN1YnNjcmlwdGlvbjt0JiZ0LnVuc3Vic2NyaWJlKCk7Y29uc3Qgbj1uZXcgUih0aGlzKSxpPXRoaXMuZGVzdGluYXRpb247aS5hZGQobiksdGhpcy5pbm5lclN1YnNjcmlwdGlvbj1OKGUsbiksdGhpcy5pbm5lclN1YnNjcmlwdGlvbiE9PW4mJmkuYWRkKHRoaXMuaW5uZXJTdWJzY3JpcHRpb24pfV9jb21wbGV0ZSgpe2NvbnN0e2lubmVyU3Vic2NyaXB0aW9uOmV9PXRoaXM7ZSYmIWUuY2xvc2VkfHxzdXBlci5fY29tcGxldGUoKSx0aGlzLnVuc3Vic2NyaWJlKCl9X3Vuc3Vic2NyaWJlKCl7dGhpcy5pbm5lclN1YnNjcmlwdGlvbj12b2lkIDB9bm90aWZ5Q29tcGxldGUoKXt0aGlzLmlubmVyU3Vic2NyaXB0aW9uPXZvaWQgMCx0aGlzLmlzU3RvcHBlZCYmc3VwZXIuX2NvbXBsZXRlKCl9bm90aWZ5TmV4dChlKXt0aGlzLmRlc3RpbmF0aW9uLm5leHQoZSl9fWNvbnN0IFFkPXtzY2hlZHVsZShlLHQpe2NvbnN0IG49c2V0VGltZW91dChlLHQpO3JldHVybigpPT5jbGVhclRpbWVvdXQobil9LHNjaGVkdWxlQmVmb3JlUmVuZGVyKGUpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93KXJldHVybiBRZC5zY2hlZHVsZShlLDApO2lmKHZvaWQgMD09PXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpcmV0dXJuIFFkLnNjaGVkdWxlKGUsMTYpO2NvbnN0IHQ9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShlKTtyZXR1cm4oKT0+d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHQpfX07bGV0IEpkO2Z1bmN0aW9uIFhkKGUsdCxuKXtsZXQgaT1uO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hIWUmJmUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERX0oZSkmJnQuc29tZSgodCxuKT0+ISgiKiI9PT10fHwhZnVuY3Rpb24oZSx0KXtpZighSmQpe2NvbnN0IGU9RWxlbWVudC5wcm90b3R5cGU7SmQ9ZS5tYXRjaGVzfHxlLm1hdGNoZXNTZWxlY3Rvcnx8ZS5tb3pNYXRjaGVzU2VsZWN0b3J8fGUubXNNYXRjaGVzU2VsZWN0b3J8fGUub01hdGNoZXNTZWxlY3Rvcnx8ZS53ZWJraXRNYXRjaGVzU2VsZWN0b3J9cmV0dXJuIGUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmSmQuY2FsbChlLHQpfShlLHQpfHwoaT1uLDApKSksaX1jbGFzcyBlcHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuY29tcG9uZW50RmFjdG9yeT10LmdldChOYSkucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoZSl9Y3JlYXRlKGUpe3JldHVybiBuZXcgdHAodGhpcy5jb21wb25lbnRGYWN0b3J5LGUpfX1jbGFzcyB0cHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuY29tcG9uZW50RmFjdG9yeT1lLHRoaXMuaW5qZWN0b3I9dCx0aGlzLmV2ZW50RW1pdHRlcnM9bmV3IFdkKDEpLHRoaXMuZXZlbnRzPXRoaXMuZXZlbnRFbWl0dGVycy5waXBlKEtkKGU9PnooLi4uZSkpKSx0aGlzLmNvbXBvbmVudFJlZj1udWxsLHRoaXMudmlld0NoYW5nZURldGVjdG9yUmVmPW51bGwsdGhpcy5pbnB1dENoYW5nZXM9bnVsbCx0aGlzLmhhc0lucHV0Q2hhbmdlcz0hMSx0aGlzLmltcGxlbWVudHNPbkNoYW5nZXM9ITEsdGhpcy5zY2hlZHVsZWRDaGFuZ2VEZXRlY3Rpb25Gbj1udWxsLHRoaXMuc2NoZWR1bGVkRGVzdHJveUZuPW51bGwsdGhpcy5pbml0aWFsSW5wdXRWYWx1ZXM9bmV3IE1hcCx0aGlzLnVuY2hhbmdlZElucHV0cz1uZXcgU2V0KHRoaXMuY29tcG9uZW50RmFjdG9yeS5pbnB1dHMubWFwKCh7cHJvcE5hbWU6ZX0pPT5lKSksdGhpcy5uZ1pvbmU9dGhpcy5pbmplY3Rvci5nZXQoJGMpLHRoaXMuZWxlbWVudFpvbmU9InVuZGVmaW5lZCI9PXR5cGVvZiBab25lP251bGw6dGhpcy5uZ1pvbmUucnVuKCgpPT5ab25lLmN1cnJlbnQpfWNvbm5lY3QoZSl7dGhpcy5ydW5JblpvbmUoKCk9PntpZihudWxsIT09dGhpcy5zY2hlZHVsZWREZXN0cm95Rm4pcmV0dXJuIHRoaXMuc2NoZWR1bGVkRGVzdHJveUZuKCksdm9pZCh0aGlzLnNjaGVkdWxlZERlc3Ryb3lGbj1udWxsKTtudWxsPT09dGhpcy5jb21wb25lbnRSZWYmJnRoaXMuaW5pdGlhbGl6ZUNvbXBvbmVudChlKX0pfWRpc2Nvbm5lY3QoKXt0aGlzLnJ1bkluWm9uZSgoKT0+e251bGwhPT10aGlzLmNvbXBvbmVudFJlZiYmbnVsbD09PXRoaXMuc2NoZWR1bGVkRGVzdHJveUZuJiYodGhpcy5zY2hlZHVsZWREZXN0cm95Rm49UWQuc2NoZWR1bGUoKCk9PntudWxsIT09dGhpcy5jb21wb25lbnRSZWYmJih0aGlzLmNvbXBvbmVudFJlZi5kZXN0cm95KCksdGhpcy5jb21wb25lbnRSZWY9bnVsbCx0aGlzLnZpZXdDaGFuZ2VEZXRlY3RvclJlZj1udWxsKX0sMTApKX0pfWdldElucHV0VmFsdWUoZSl7cmV0dXJuIHRoaXMucnVuSW5ab25lKCgpPT5udWxsPT09dGhpcy5jb21wb25lbnRSZWY/dGhpcy5pbml0aWFsSW5wdXRWYWx1ZXMuZ2V0KGUpOnRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlW2VdKX1zZXRJbnB1dFZhbHVlKGUsdCl7dGhpcy5ydW5JblpvbmUoKCk9Pnt2YXIgbixpO251bGwhPT10aGlzLmNvbXBvbmVudFJlZj8oKG49dCkhPT0oaT10aGlzLmdldElucHV0VmFsdWUoZSkpJiYobj09bnx8aT09aSl8fHZvaWQgMD09PXQmJnRoaXMudW5jaGFuZ2VkSW5wdXRzLmhhcyhlKSkmJih0aGlzLnJlY29yZElucHV0Q2hhbmdlKGUsdCksdGhpcy51bmNoYW5nZWRJbnB1dHMuZGVsZXRlKGUpLHRoaXMuaGFzSW5wdXRDaGFuZ2VzPSEwLHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlW2VdPXQsdGhpcy5zY2hlZHVsZURldGVjdENoYW5nZXMoKSk6dGhpcy5pbml0aWFsSW5wdXRWYWx1ZXMuc2V0KGUsdCl9KX1pbml0aWFsaXplQ29tcG9uZW50KGUpe2NvbnN0IHQ9bHIuY3JlYXRlKHtwcm92aWRlcnM6W10scGFyZW50OnRoaXMuaW5qZWN0b3J9KSxuPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1lLmNoaWxkTm9kZXMsaT10Lm1hcCgoKT0+W10pO2xldCBzPS0xO3Quc29tZSgoZSx0KT0+IioiPT09ZSYmKHM9dCwhMCkpO2ZvcihsZXQgbz0wLHI9bi5sZW5ndGg7bzxyOysrbyl7Y29uc3QgZT1uW29dLHI9WGQoZSx0LHMpOy0xIT09ciYmaVtyXS5wdXNoKGUpfXJldHVybiBpfShlLHRoaXMuY29tcG9uZW50RmFjdG9yeS5uZ0NvbnRlbnRTZWxlY3RvcnMpO3RoaXMuY29tcG9uZW50UmVmPXRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUodCxuLGUpLHRoaXMudmlld0NoYW5nZURldGVjdG9yUmVmPXRoaXMuY29tcG9uZW50UmVmLmluamVjdG9yLmdldChnbCksdGhpcy5pbXBsZW1lbnRzT25DaGFuZ2VzPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5uZ09uQ2hhbmdlcyx0aGlzLmluaXRpYWxpemVJbnB1dHMoKSx0aGlzLmluaXRpYWxpemVPdXRwdXRzKHRoaXMuY29tcG9uZW50UmVmKSx0aGlzLmRldGVjdENoYW5nZXMoKSx0aGlzLmluamVjdG9yLmdldChhdSkuYXR0YWNoVmlldyh0aGlzLmNvbXBvbmVudFJlZi5ob3N0Vmlldyl9aW5pdGlhbGl6ZUlucHV0cygpe3RoaXMuY29tcG9uZW50RmFjdG9yeS5pbnB1dHMuZm9yRWFjaCgoe3Byb3BOYW1lOmV9KT0+e3RoaXMuaW5pdGlhbElucHV0VmFsdWVzLmhhcyhlKSYmdGhpcy5zZXRJbnB1dFZhbHVlKGUsdGhpcy5pbml0aWFsSW5wdXRWYWx1ZXMuZ2V0KGUpKX0pLHRoaXMuaW5pdGlhbElucHV0VmFsdWVzLmNsZWFyKCl9aW5pdGlhbGl6ZU91dHB1dHMoZSl7Y29uc3QgdD10aGlzLmNvbXBvbmVudEZhY3Rvcnkub3V0cHV0cy5tYXAoKHtwcm9wTmFtZTp0LHRlbXBsYXRlTmFtZTpufSk9PmUuaW5zdGFuY2VbdF0ucGlwZShrKGU9Pih7bmFtZTpuLHZhbHVlOmV9KSkpKTt0aGlzLmV2ZW50RW1pdHRlcnMubmV4dCh0KX1jYWxsTmdPbkNoYW5nZXMoZSl7aWYoIXRoaXMuaW1wbGVtZW50c09uQ2hhbmdlc3x8bnVsbD09PXRoaXMuaW5wdXRDaGFuZ2VzKXJldHVybjtjb25zdCB0PXRoaXMuaW5wdXRDaGFuZ2VzO3RoaXMuaW5wdXRDaGFuZ2VzPW51bGwsZS5pbnN0YW5jZS5uZ09uQ2hhbmdlcyh0KX1tYXJrVmlld0ZvckNoZWNrKGUpe3RoaXMuaGFzSW5wdXRDaGFuZ2VzJiYodGhpcy5oYXNJbnB1dENoYW5nZXM9ITEsZS5tYXJrRm9yQ2hlY2soKSl9c2NoZWR1bGVEZXRlY3RDaGFuZ2VzKCl7dGhpcy5zY2hlZHVsZWRDaGFuZ2VEZXRlY3Rpb25Gbnx8KHRoaXMuc2NoZWR1bGVkQ2hhbmdlRGV0ZWN0aW9uRm49UWQuc2NoZWR1bGVCZWZvcmVSZW5kZXIoKCk9Pnt0aGlzLnNjaGVkdWxlZENoYW5nZURldGVjdGlvbkZuPW51bGwsdGhpcy5kZXRlY3RDaGFuZ2VzKCl9KSl9cmVjb3JkSW5wdXRDaGFuZ2UoZSx0KXtpZighdGhpcy5pbXBsZW1lbnRzT25DaGFuZ2VzKXJldHVybjtudWxsPT09dGhpcy5pbnB1dENoYW5nZXMmJih0aGlzLmlucHV0Q2hhbmdlcz17fSk7Y29uc3Qgbj10aGlzLmlucHV0Q2hhbmdlc1tlXTtpZihuKXJldHVybiB2b2lkKG4uY3VycmVudFZhbHVlPXQpO2NvbnN0IGk9dGhpcy51bmNoYW5nZWRJbnB1dHMuaGFzKGUpLHM9aT92b2lkIDA6dGhpcy5nZXRJbnB1dFZhbHVlKGUpO3RoaXMuaW5wdXRDaGFuZ2VzW2VdPW5ldyBhdChzLHQsaSl9ZGV0ZWN0Q2hhbmdlcygpe251bGwhPT10aGlzLmNvbXBvbmVudFJlZiYmKHRoaXMuY2FsbE5nT25DaGFuZ2VzKHRoaXMuY29tcG9uZW50UmVmKSx0aGlzLm1hcmtWaWV3Rm9yQ2hlY2sodGhpcy52aWV3Q2hhbmdlRGV0ZWN0b3JSZWYpLHRoaXMuY29tcG9uZW50UmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKSl9cnVuSW5ab25lKGUpe3JldHVybiB0aGlzLmVsZW1lbnRab25lJiZab25lLmN1cnJlbnQhPT10aGlzLmVsZW1lbnRab25lP3RoaXMubmdab25lLnJ1bihlKTplKCl9fWNsYXNzIG5wIGV4dGVuZHMgSFRNTEVsZW1lbnR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMubmdFbGVtZW50RXZlbnRzU3Vic2NyaXB0aW9uPW51bGx9fWZ1bmN0aW9uIGlwKGUsdCxuLHMpe3JldHVybiBpKG4pJiYocz1uLG49dm9pZCAwKSxzP2lwKGUsdCxuKS5waXBlKGsoZT0+bChlKT9zKC4uLmUpOnMoZSkpKTpuZXcgYihpPT57c3AoZSx0LGZ1bmN0aW9uKGUpe2kubmV4dChhcmd1bWVudHMubGVuZ3RoPjE/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTplKX0saSxuKX0pfWZ1bmN0aW9uIHNwKGUsdCxuLGkscyl7bGV0IG87aWYoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnJlbW92ZUV2ZW50TGlzdGVuZXJ9KGUpKXtjb25zdCBpPWU7ZS5hZGRFdmVudExpc3RlbmVyKHQsbixzKSxvPSgpPT5pLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuLHMpfWVsc2UgaWYoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLm9uJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5vZmZ9KGUpKXtjb25zdCBpPWU7ZS5vbih0LG4pLG89KCk9Pmkub2ZmKHQsbil9ZWxzZSBpZihmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuYWRkTGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnJlbW92ZUxpc3RlbmVyfShlKSl7Y29uc3QgaT1lO2UuYWRkTGlzdGVuZXIodCxuKSxvPSgpPT5pLnJlbW92ZUxpc3RlbmVyKHQsbil9ZWxzZXtpZighZXx8IWUubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgZXZlbnQgdGFyZ2V0Iik7Zm9yKGxldCBvPTAscj1lLmxlbmd0aDtvPHI7bysrKXNwKGVbb10sdCxuLGkscyl9aS5hZGQobyl9bmV3IFlhKCIxMi4wLjUiKTtjb25zdCBvcD1uZXcgVmQoSWQpO2Z1bmN0aW9uIHJwKGUpe3JldHVybiFsKGUpJiZlLXBhcnNlRmxvYXQoZSkrMT49MH1mdW5jdGlvbiBhcChlKXtjb25zdHtpbmRleDp0LHBlcmlvZDpuLHN1YnNjcmliZXI6aX09ZTtpZihpLm5leHQodCksIWkuY2xvc2VkKXtpZigtMT09PW4pcmV0dXJuIGkuY29tcGxldGUoKTtlLmluZGV4PXQrMSx0aGlzLnNjaGVkdWxlKGUsbil9fWZ1bmN0aW9uIGxwKGUsdD1udWxsKXtyZXR1cm57dHlwZTo0LHN0eWxlczp0LHRpbWluZ3M6ZX19ZnVuY3Rpb24gY3AoZSl7cmV0dXJue3R5cGU6NixzdHlsZXM6ZSxvZmZzZXQ6bnVsbH19ZnVuY3Rpb24gdXAoZSx0LG49bnVsbCl7cmV0dXJue3R5cGU6MSxleHByOmUsYW5pbWF0aW9uOnQsb3B0aW9uczpufX1jbGFzcyBocCBleHRlbmRzIER7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLl92YWx1ZT1lfWdldCB2YWx1ZSgpe3JldHVybiB0aGlzLmdldFZhbHVlKCl9X3N1YnNjcmliZShlKXtjb25zdCB0PXN1cGVyLl9zdWJzY3JpYmUoZSk7cmV0dXJuIHQmJiF0LmNsb3NlZCYmZS5uZXh0KHRoaXMuX3ZhbHVlKSx0fWdldFZhbHVlKCl7aWYodGhpcy5oYXNFcnJvcil0aHJvdyB0aGlzLnRocm93bkVycm9yO2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBDO3JldHVybiB0aGlzLl92YWx1ZX1uZXh0KGUpe3N1cGVyLm5leHQodGhpcy5fdmFsdWU9ZSl9fWNsYXNzIGRwIGV4dGVuZHMgZntub3RpZnlOZXh0KGUsdCxuLGkscyl7dGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfW5vdGlmeUVycm9yKGUsdCl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlKX1ub3RpZnlDb21wbGV0ZShlKXt0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9fWNsYXNzIHBwIGV4dGVuZHMgZntjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoKSx0aGlzLnBhcmVudD1lLHRoaXMub3V0ZXJWYWx1ZT10LHRoaXMub3V0ZXJJbmRleD1uLHRoaXMuaW5kZXg9MH1fbmV4dChlKXt0aGlzLnBhcmVudC5ub3RpZnlOZXh0KHRoaXMub3V0ZXJWYWx1ZSxlLHRoaXMub3V0ZXJJbmRleCx0aGlzLmluZGV4KyssdGhpcyl9X2Vycm9yKGUpe3RoaXMucGFyZW50Lm5vdGlmeUVycm9yKGUsdGhpcyksdGhpcy51bnN1YnNjcmliZSgpfV9jb21wbGV0ZSgpe3RoaXMucGFyZW50Lm5vdGlmeUNvbXBsZXRlKHRoaXMpLHRoaXMudW5zdWJzY3JpYmUoKX19ZnVuY3Rpb24gZnAoZSx0LG4saSxzPW5ldyBwcChlLG4saSkpe2lmKCFzLmNsb3NlZClyZXR1cm4gdCBpbnN0YW5jZW9mIGI/dC5zdWJzY3JpYmUocyk6UCh0KShzKX1jb25zdCBncD17fTtjbGFzcyBtcHtjb25zdHJ1Y3RvcihlKXt0aGlzLnJlc3VsdFNlbGVjdG9yPWV9Y2FsbChlLHQpe3JldHVybiB0LnN1YnNjcmliZShuZXcgdnAoZSx0aGlzLnJlc3VsdFNlbGVjdG9yKSl9fWNsYXNzIHZwIGV4dGVuZHMgZHB7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKSx0aGlzLnJlc3VsdFNlbGVjdG9yPXQsdGhpcy5hY3RpdmU9MCx0aGlzLnZhbHVlcz1bXSx0aGlzLm9ic2VydmFibGVzPVtdfV9uZXh0KGUpe3RoaXMudmFsdWVzLnB1c2goZ3ApLHRoaXMub2JzZXJ2YWJsZXMucHVzaChlKX1fY29tcGxldGUoKXtjb25zdCBlPXRoaXMub2JzZXJ2YWJsZXMsdD1lLmxlbmd0aDtpZigwPT09dCl0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7ZWxzZXt0aGlzLmFjdGl2ZT10LHRoaXMudG9SZXNwb25kPXQ7Zm9yKGxldCBuPTA7bjx0O24rKyl0aGlzLmFkZChmcCh0aGlzLGVbbl0sdm9pZCAwLG4pKX19bm90aWZ5Q29tcGxldGUoZSl7MD09KHRoaXMuYWN0aXZlLT0xKSYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfW5vdGlmeU5leHQoZSx0LG4pe2NvbnN0IGk9dGhpcy52YWx1ZXMscz10aGlzLnRvUmVzcG9uZD9pW25dPT09Z3A/LS10aGlzLnRvUmVzcG9uZDp0aGlzLnRvUmVzcG9uZDowO2lbbl09dCwwPT09cyYmKHRoaXMucmVzdWx0U2VsZWN0b3I/dGhpcy5fdHJ5UmVzdWx0U2VsZWN0b3IoaSk6dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGkuc2xpY2UoKSkpfV90cnlSZXN1bHRTZWxlY3RvcihlKXtsZXQgdDt0cnl7dD10aGlzLnJlc3VsdFNlbGVjdG9yLmFwcGx5KHRoaXMsZSl9Y2F0Y2gobil7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihuKX10aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9fWNvbnN0IGJwPSgoKT0+e2Z1bmN0aW9uIGUoKXtyZXR1cm4gRXJyb3IuY2FsbCh0aGlzKSx0aGlzLm1lc3NhZ2U9Im5vIGVsZW1lbnRzIGluIHNlcXVlbmNlIix0aGlzLm5hbWU9IkVtcHR5RXJyb3IiLHRoaXN9cmV0dXJuIGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSxlfSkoKTtmdW5jdGlvbiB5cCguLi5lKXtyZXR1cm4gVSgxKShCZCguLi5lKSl9ZnVuY3Rpb24gQ3AoZSl7cmV0dXJuIG5ldyBiKHQ9PntsZXQgbjt0cnl7bj1lKCl9Y2F0Y2goaSl7cmV0dXJuIHZvaWQgdC5lcnJvcihpKX1yZXR1cm4obj9MKG4pOk5kKCkpLnN1YnNjcmliZSh0KX0pfWNvbnN0IHdwPSgoKT0+e2Z1bmN0aW9uIGUoKXtyZXR1cm4gRXJyb3IuY2FsbCh0aGlzKSx0aGlzLm1lc3NhZ2U9ImFyZ3VtZW50IG91dCBvZiByYW5nZSIsdGhpcy5uYW1lPSJBcmd1bWVudE91dE9mUmFuZ2VFcnJvciIsdGhpc31yZXR1cm4gZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLGV9KSgpO2Z1bmN0aW9uIF9wKGUpe3JldHVybiB0PT4wPT09ZT9OZCgpOnQubGlmdChuZXcgRHAoZSkpfWNsYXNzIERwe2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMudG90YWw9ZSx0aGlzLnRvdGFsPDApdGhyb3cgbmV3IHdwfWNhbGwoZSx0KXtyZXR1cm4gdC5zdWJzY3JpYmUobmV3IFNwKGUsdGhpcy50b3RhbCkpfX1jbGFzcyBTcCBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKSx0aGlzLnRvdGFsPXQsdGhpcy5jb3VudD0wfV9uZXh0KGUpe2NvbnN0IHQ9dGhpcy50b3RhbCxuPSsrdGhpcy5jb3VudDtuPD10JiYodGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpLG49PT10JiYodGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKSkpfX1mdW5jdGlvbiBFcChlLHQpe2xldCBuPSExO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPj0yJiYobj0hMCksZnVuY3Rpb24oaSl7cmV0dXJuIGkubGlmdChuZXcga3AoZSx0LG4pKX19Y2xhc3Mga3B7Y29uc3RydWN0b3IoZSx0LG49ITEpe3RoaXMuYWNjdW11bGF0b3I9ZSx0aGlzLnNlZWQ9dCx0aGlzLmhhc1NlZWQ9bn1jYWxsKGUsdCl7cmV0dXJuIHQuc3Vic2NyaWJlKG5ldyB4cChlLHRoaXMuYWNjdW11bGF0b3IsdGhpcy5zZWVkLHRoaXMuaGFzU2VlZCkpfX1jbGFzcyB4cCBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0LG4saSl7c3VwZXIoZSksdGhpcy5hY2N1bXVsYXRvcj10LHRoaXMuX3NlZWQ9bix0aGlzLmhhc1NlZWQ9aSx0aGlzLmluZGV4PTB9Z2V0IHNlZWQoKXtyZXR1cm4gdGhpcy5fc2VlZH1zZXQgc2VlZChlKXt0aGlzLmhhc1NlZWQ9ITAsdGhpcy5fc2VlZD1lfV9uZXh0KGUpe2lmKHRoaXMuaGFzU2VlZClyZXR1cm4gdGhpcy5fdHJ5TmV4dChlKTt0aGlzLnNlZWQ9ZSx0aGlzLmRlc3RpbmF0aW9uLm5leHQoZSl9X3RyeU5leHQoZSl7Y29uc3QgdD10aGlzLmluZGV4Kys7bGV0IG47dHJ5e249dGhpcy5hY2N1bXVsYXRvcih0aGlzLnNlZWQsZSx0KX1jYXRjaChpKXt0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGkpfXRoaXMuc2VlZD1uLHRoaXMuZGVzdGluYXRpb24ubmV4dChuKX19ZnVuY3Rpb24gQXAoZSx0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4ubGlmdChuZXcgT3AoZSx0KSl9fWNsYXNzIE9we2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wcmVkaWNhdGU9ZSx0aGlzLnRoaXNBcmc9dH1jYWxsKGUsdCl7cmV0dXJuIHQuc3Vic2NyaWJlKG5ldyBUcChlLHRoaXMucHJlZGljYXRlLHRoaXMudGhpc0FyZykpfX1jbGFzcyBUcCBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0LG4pe3N1cGVyKGUpLHRoaXMucHJlZGljYXRlPXQsdGhpcy50aGlzQXJnPW4sdGhpcy5jb3VudD0wfV9uZXh0KGUpe2xldCB0O3RyeXt0PXRoaXMucHJlZGljYXRlLmNhbGwodGhpcy50aGlzQXJnLGUsdGhpcy5jb3VudCsrKX1jYXRjaChuKXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKG4pfXQmJnRoaXMuZGVzdGluYXRpb24ubmV4dChlKX19ZnVuY3Rpb24gRnAoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2NvbnN0IG49bmV3IElwKGUpLGk9dC5saWZ0KG4pO3JldHVybiBuLmNhdWdodD1pfX1jbGFzcyBJcHtjb25zdHJ1Y3RvcihlKXt0aGlzLnNlbGVjdG9yPWV9Y2FsbChlLHQpe3JldHVybiB0LnN1YnNjcmliZShuZXcgTXAoZSx0aGlzLnNlbGVjdG9yLHRoaXMuY2F1Z2h0KSl9fWNsYXNzIE1wIGV4dGVuZHMgantjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoZSksdGhpcy5zZWxlY3Rvcj10LHRoaXMuY2F1Z2h0PW59ZXJyb3IoZSl7aWYoIXRoaXMuaXNTdG9wcGVkKXtsZXQgbjt0cnl7bj10aGlzLnNlbGVjdG9yKGUsdGhpcy5jYXVnaHQpfWNhdGNoKHQpe3JldHVybiB2b2lkIHN1cGVyLmVycm9yKHQpfXRoaXMuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSgpO2NvbnN0IGk9bmV3IFIodGhpcyk7dGhpcy5hZGQoaSk7Y29uc3Qgcz1OKG4saSk7cyE9PWkmJnRoaXMuYWRkKHMpfX19ZnVuY3Rpb24gUHAoZSx0KXtyZXR1cm4gQihlLHQsMSl9ZnVuY3Rpb24gVnAoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiAwPT09ZT9OZCgpOnQubGlmdChuZXcgTHAoZSkpfX1jbGFzcyBMcHtjb25zdHJ1Y3RvcihlKXtpZih0aGlzLnRvdGFsPWUsdGhpcy50b3RhbDwwKXRocm93IG5ldyB3cH1jYWxsKGUsdCl7cmV0dXJuIHQuc3Vic2NyaWJlKG5ldyBScChlLHRoaXMudG90YWwpKX19Y2xhc3MgUnAgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSksdGhpcy50b3RhbD10LHRoaXMucmluZz1uZXcgQXJyYXksdGhpcy5jb3VudD0wfV9uZXh0KGUpe2NvbnN0IHQ9dGhpcy5yaW5nLG49dGhpcy50b3RhbCxpPXRoaXMuY291bnQrKzt0Lmxlbmd0aDxuP3QucHVzaChlKTp0W2klbl09ZX1fY29tcGxldGUoKXtjb25zdCBlPXRoaXMuZGVzdGluYXRpb247bGV0IHQ9dGhpcy5jb3VudDtpZih0PjApe2NvbnN0IG49dGhpcy5jb3VudD49dGhpcy50b3RhbD90aGlzLnRvdGFsOnRoaXMuY291bnQsaT10aGlzLnJpbmc7Zm9yKGxldCBzPTA7czxuO3MrKyl7Y29uc3Qgcz10KyslbjtlLm5leHQoaVtzXSl9fWUuY29tcGxldGUoKX19ZnVuY3Rpb24ganAoZT0kcCl7cmV0dXJuIHQ9PnQubGlmdChuZXcgTnAoZSkpfWNsYXNzIE5we2NvbnN0cnVjdG9yKGUpe3RoaXMuZXJyb3JGYWN0b3J5PWV9Y2FsbChlLHQpe3JldHVybiB0LnN1YnNjcmliZShuZXcgQnAoZSx0aGlzLmVycm9yRmFjdG9yeSkpfX1jbGFzcyBCcCBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKSx0aGlzLmVycm9yRmFjdG9yeT10LHRoaXMuaGFzVmFsdWU9ITF9X25leHQoZSl7dGhpcy5oYXNWYWx1ZT0hMCx0aGlzLmRlc3RpbmF0aW9uLm5leHQoZSl9X2NvbXBsZXRlKCl7aWYodGhpcy5oYXNWYWx1ZSlyZXR1cm4gdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO3tsZXQgdDt0cnl7dD10aGlzLmVycm9yRmFjdG9yeSgpfWNhdGNoKGUpe3Q9ZX10aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpfX19ZnVuY3Rpb24gJHAoKXtyZXR1cm4gbmV3IGJwfWZ1bmN0aW9uIEhwKGU9bnVsbCl7cmV0dXJuIHQ9PnQubGlmdChuZXcgVXAoZSkpfWNsYXNzIFVwe2NvbnN0cnVjdG9yKGUpe3RoaXMuZGVmYXVsdFZhbHVlPWV9Y2FsbChlLHQpe3JldHVybiB0LnN1YnNjcmliZShuZXcgcXAoZSx0aGlzLmRlZmF1bHRWYWx1ZSkpfX1jbGFzcyBxcCBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKSx0aGlzLmRlZmF1bHRWYWx1ZT10LHRoaXMuaXNFbXB0eT0hMH1fbmV4dChlKXt0aGlzLmlzRW1wdHk9ITEsdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpfV9jb21wbGV0ZSgpe3RoaXMuaXNFbXB0eSYmdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHRoaXMuZGVmYXVsdFZhbHVlKSx0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9fWZ1bmN0aW9uIHpwKGUsdCl7Y29uc3Qgbj1hcmd1bWVudHMubGVuZ3RoPj0yO3JldHVybiBpPT5pLnBpcGUoZT9BcCgodCxuKT0+ZSh0LG4saSkpOnYsX3AoMSksbj9IcCh0KTpqcCgoKT0+bmV3IGJwKSl9ZnVuY3Rpb24gV3AoKXt9ZnVuY3Rpb24gR3AoZSx0LG4pe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gaS5saWZ0KG5ldyBLcChlLHQsbikpfX1jbGFzcyBLcHtjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5uZXh0T3JPYnNlcnZlcj1lLHRoaXMuZXJyb3I9dCx0aGlzLmNvbXBsZXRlPW59Y2FsbChlLHQpe3JldHVybiB0LnN1YnNjcmliZShuZXcgWXAoZSx0aGlzLm5leHRPck9ic2VydmVyLHRoaXMuZXJyb3IsdGhpcy5jb21wbGV0ZSkpfX1jbGFzcyBZcCBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0LG4scyl7c3VwZXIoZSksdGhpcy5fdGFwTmV4dD1XcCx0aGlzLl90YXBFcnJvcj1XcCx0aGlzLl90YXBDb21wbGV0ZT1XcCx0aGlzLl90YXBFcnJvcj1ufHxXcCx0aGlzLl90YXBDb21wbGV0ZT1zfHxXcCxpKHQpPyh0aGlzLl9jb250ZXh0PXRoaXMsdGhpcy5fdGFwTmV4dD10KTp0JiYodGhpcy5fY29udGV4dD10LHRoaXMuX3RhcE5leHQ9dC5uZXh0fHxXcCx0aGlzLl90YXBFcnJvcj10LmVycm9yfHxXcCx0aGlzLl90YXBDb21wbGV0ZT10LmNvbXBsZXRlfHxXcCl9X25leHQoZSl7dHJ5e3RoaXMuX3RhcE5leHQuY2FsbCh0aGlzLl9jb250ZXh0LGUpfWNhdGNoKHQpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpfV9lcnJvcihlKXt0cnl7dGhpcy5fdGFwRXJyb3IuY2FsbCh0aGlzLl9jb250ZXh0LGUpfWNhdGNoKGUpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZSl9dGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlKX1fY29tcGxldGUoKXt0cnl7dGhpcy5fdGFwQ29tcGxldGUuY2FsbCh0aGlzLl9jb250ZXh0KX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpfXJldHVybiB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9fWZ1bmN0aW9uIFpwKGUpe3JldHVybiB0PT50LmxpZnQobmV3IFFwKGUpKX1jbGFzcyBRcHtjb25zdHJ1Y3RvcihlKXt0aGlzLmNhbGxiYWNrPWV9Y2FsbChlLHQpe3JldHVybiB0LnN1YnNjcmliZShuZXcgSnAoZSx0aGlzLmNhbGxiYWNrKSl9fWNsYXNzIEpwIGV4dGVuZHMgZntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuYWRkKG5ldyBoKHQpKX19Y2xhc3MgWHB7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmlkPWUsdGhpcy51cmw9dH19Y2xhc3MgZWYgZXh0ZW5kcyBYcHtjb25zdHJ1Y3RvcihlLHQsbj0iaW1wZXJhdGl2ZSIsaT1udWxsKXtzdXBlcihlLHQpLHRoaXMubmF2aWdhdGlvblRyaWdnZXI9bix0aGlzLnJlc3RvcmVkU3RhdGU9aX10b1N0cmluZygpe3JldHVybmBOYXZpZ2F0aW9uU3RhcnQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JylgfX1jbGFzcyB0ZiBleHRlbmRzIFhwe2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihlLHQpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bn10b1N0cmluZygpe3JldHVybmBOYXZpZ2F0aW9uRW5kKGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIHVybEFmdGVyUmVkaXJlY3RzOiAnJHt0aGlzLnVybEFmdGVyUmVkaXJlY3RzfScpYH19Y2xhc3MgbmYgZXh0ZW5kcyBYcHtjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoZSx0KSx0aGlzLnJlYXNvbj1ufXRvU3RyaW5nKCl7cmV0dXJuYE5hdmlnYXRpb25DYW5jZWwoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JylgfX1jbGFzcyBzZiBleHRlbmRzIFhwe2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihlLHQpLHRoaXMuZXJyb3I9bn10b1N0cmluZygpe3JldHVybmBOYXZpZ2F0aW9uRXJyb3IoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgZXJyb3I6ICR7dGhpcy5lcnJvcn0pYH19Y2xhc3Mgb2YgZXh0ZW5kcyBYcHtjb25zdHJ1Y3RvcihlLHQsbixpKXtzdXBlcihlLHQpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bix0aGlzLnN0YXRlPWl9dG9TdHJpbmcoKXtyZXR1cm5gUm91dGVzUmVjb2duaXplZChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nLCBzdGF0ZTogJHt0aGlzLnN0YXRlfSlgfX1jbGFzcyByZiBleHRlbmRzIFhwe2NvbnN0cnVjdG9yKGUsdCxuLGkpe3N1cGVyKGUsdCksdGhpcy51cmxBZnRlclJlZGlyZWN0cz1uLHRoaXMuc3RhdGU9aX10b1N0cmluZygpe3JldHVybmBHdWFyZHNDaGVja1N0YXJ0KGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIHVybEFmdGVyUmVkaXJlY3RzOiAnJHt0aGlzLnVybEFmdGVyUmVkaXJlY3RzfScsIHN0YXRlOiAke3RoaXMuc3RhdGV9KWB9fWNsYXNzIGFmIGV4dGVuZHMgWHB7Y29uc3RydWN0b3IoZSx0LG4saSxzKXtzdXBlcihlLHQpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bix0aGlzLnN0YXRlPWksdGhpcy5zaG91bGRBY3RpdmF0ZT1zfXRvU3RyaW5nKCl7cmV0dXJuYEd1YXJkc0NoZWNrRW5kKGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIHVybEFmdGVyUmVkaXJlY3RzOiAnJHt0aGlzLnVybEFmdGVyUmVkaXJlY3RzfScsIHN0YXRlOiAke3RoaXMuc3RhdGV9LCBzaG91bGRBY3RpdmF0ZTogJHt0aGlzLnNob3VsZEFjdGl2YXRlfSlgfX1jbGFzcyBsZiBleHRlbmRzIFhwe2NvbnN0cnVjdG9yKGUsdCxuLGkpe3N1cGVyKGUsdCksdGhpcy51cmxBZnRlclJlZGlyZWN0cz1uLHRoaXMuc3RhdGU9aX10b1N0cmluZygpe3JldHVybmBSZXNvbHZlU3RhcnQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgdXJsQWZ0ZXJSZWRpcmVjdHM6ICcke3RoaXMudXJsQWZ0ZXJSZWRpcmVjdHN9Jywgc3RhdGU6ICR7dGhpcy5zdGF0ZX0pYH19Y2xhc3MgY2YgZXh0ZW5kcyBYcHtjb25zdHJ1Y3RvcihlLHQsbixpKXtzdXBlcihlLHQpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bix0aGlzLnN0YXRlPWl9dG9TdHJpbmcoKXtyZXR1cm5gUmVzb2x2ZUVuZChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nLCBzdGF0ZTogJHt0aGlzLnN0YXRlfSlgfX1jbGFzcyB1Zntjb25zdHJ1Y3RvcihlKXt0aGlzLnJvdXRlPWV9dG9TdHJpbmcoKXtyZXR1cm5gUm91dGVDb25maWdMb2FkU3RhcnQocGF0aDogJHt0aGlzLnJvdXRlLnBhdGh9KWB9fWNsYXNzIGhme2NvbnN0cnVjdG9yKGUpe3RoaXMucm91dGU9ZX10b1N0cmluZygpe3JldHVybmBSb3V0ZUNvbmZpZ0xvYWRFbmQocGF0aDogJHt0aGlzLnJvdXRlLnBhdGh9KWB9fWNsYXNzIGRme2NvbnN0cnVjdG9yKGUpe3RoaXMuc25hcHNob3Q9ZX10b1N0cmluZygpe3JldHVybmBDaGlsZEFjdGl2YXRpb25TdGFydChwYXRoOiAnJHt0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnJiZ0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnLnBhdGh8fCIifScpYH19Y2xhc3MgcGZ7Y29uc3RydWN0b3IoZSl7dGhpcy5zbmFwc2hvdD1lfXRvU3RyaW5nKCl7cmV0dXJuYENoaWxkQWN0aXZhdGlvbkVuZChwYXRoOiAnJHt0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnJiZ0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnLnBhdGh8fCIifScpYH19Y2xhc3MgZmZ7Y29uc3RydWN0b3IoZSl7dGhpcy5zbmFwc2hvdD1lfXRvU3RyaW5nKCl7cmV0dXJuYEFjdGl2YXRpb25TdGFydChwYXRoOiAnJHt0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnJiZ0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnLnBhdGh8fCIifScpYH19Y2xhc3MgZ2Z7Y29uc3RydWN0b3IoZSl7dGhpcy5zbmFwc2hvdD1lfXRvU3RyaW5nKCl7cmV0dXJuYEFjdGl2YXRpb25FbmQocGF0aDogJyR7dGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZyYmdGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZy5wYXRofHwiIn0nKWB9fWNsYXNzIG1me2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnJvdXRlckV2ZW50PWUsdGhpcy5wb3NpdGlvbj10LHRoaXMuYW5jaG9yPW59dG9TdHJpbmcoKXtyZXR1cm5gU2Nyb2xsKGFuY2hvcjogJyR7dGhpcy5hbmNob3J9JywgcG9zaXRpb246ICcke3RoaXMucG9zaXRpb24/YCR7dGhpcy5wb3NpdGlvblswXX0sICR7dGhpcy5wb3NpdGlvblsxXX1gOm51bGx9JylgfX1jb25zdCB2Zj0icHJpbWFyeSI7Y2xhc3MgYmZ7Y29uc3RydWN0b3IoZSl7dGhpcy5wYXJhbXM9ZXx8e319aGFzKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5wYXJhbXMsZSl9Z2V0KGUpe2lmKHRoaXMuaGFzKGUpKXtjb25zdCB0PXRoaXMucGFyYW1zW2VdO3JldHVybiBBcnJheS5pc0FycmF5KHQpP3RbMF06dH1yZXR1cm4gbnVsbH1nZXRBbGwoZSl7aWYodGhpcy5oYXMoZSkpe2NvbnN0IHQ9dGhpcy5wYXJhbXNbZV07cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dDpbdF19cmV0dXJuW119Z2V0IGtleXMoKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpfX1mdW5jdGlvbiB5ZihlKXtyZXR1cm4gbmV3IGJmKGUpfWZ1bmN0aW9uIENmKGUpe2NvbnN0IHQ9RXJyb3IoIk5hdmlnYXRpb25DYW5jZWxpbmdFcnJvcjogIitlKTtyZXR1cm4gdC5uZ05hdmlnYXRpb25DYW5jZWxpbmdFcnJvcj0hMCx0fWZ1bmN0aW9uIHdmKGUsdCxuKXtjb25zdCBpPW4ucGF0aC5zcGxpdCgiLyIpO2lmKGkubGVuZ3RoPmUubGVuZ3RoKXJldHVybiBudWxsO2lmKCJmdWxsIj09PW4ucGF0aE1hdGNoJiYodC5oYXNDaGlsZHJlbigpfHxpLmxlbmd0aDxlLmxlbmd0aCkpcmV0dXJuIG51bGw7Y29uc3Qgcz17fTtmb3IobGV0IG89MDtvPGkubGVuZ3RoO28rKyl7Y29uc3QgdD1pW29dLG49ZVtvXTtpZih0LnN0YXJ0c1dpdGgoIjoiKSlzW3Quc3Vic3RyaW5nKDEpXT1uO2Vsc2UgaWYodCE9PW4ucGF0aClyZXR1cm4gbnVsbH1yZXR1cm57Y29uc3VtZWQ6ZS5zbGljZSgwLGkubGVuZ3RoKSxwb3NQYXJhbXM6c319ZnVuY3Rpb24gX2YoZSx0KXtjb25zdCBuPWU/T2JqZWN0LmtleXMoZSk6dm9pZCAwLGk9dD9PYmplY3Qua2V5cyh0KTp2b2lkIDA7aWYoIW58fCFpfHxuLmxlbmd0aCE9aS5sZW5ndGgpcmV0dXJuITE7bGV0IHM7Zm9yKGxldCBvPTA7bzxuLmxlbmd0aDtvKyspaWYocz1uW29dLCFEZihlW3NdLHRbc10pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIERmKGUsdCl7aWYoQXJyYXkuaXNBcnJheShlKSYmQXJyYXkuaXNBcnJheSh0KSl7aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtjb25zdCBuPVsuLi5lXS5zb3J0KCksaT1bLi4udF0uc29ydCgpO3JldHVybiBuLmV2ZXJ5KChlLHQpPT5pW3RdPT09ZSl9cmV0dXJuIGU9PT10fWZ1bmN0aW9uIFNmKGUpe3JldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLGUpfWZ1bmN0aW9uIEVmKGUpe3JldHVybiBlLmxlbmd0aD4wP2VbZS5sZW5ndGgtMV06bnVsbH1mdW5jdGlvbiBrZihlLHQpe2Zvcihjb25zdCBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmdChlW25dLG4pfWZ1bmN0aW9uIHhmKGUpe3JldHVybiBOcihlKT9lOmpyKGUpP0woUHJvbWlzZS5yZXNvbHZlKGUpKTpCZChlKX1jb25zdCBBZj17ZXhhY3Q6ZnVuY3Rpb24gZSh0LG4saSl7aWYoIVJmKHQuc2VnbWVudHMsbi5zZWdtZW50cykpcmV0dXJuITE7aWYoIU1mKHQuc2VnbWVudHMsbi5zZWdtZW50cyxpKSlyZXR1cm4hMTtpZih0Lm51bWJlck9mQ2hpbGRyZW4hPT1uLm51bWJlck9mQ2hpbGRyZW4pcmV0dXJuITE7Zm9yKGNvbnN0IHMgaW4gbi5jaGlsZHJlbil7aWYoIXQuY2hpbGRyZW5bc10pcmV0dXJuITE7aWYoIWUodC5jaGlsZHJlbltzXSxuLmNoaWxkcmVuW3NdLGkpKXJldHVybiExfXJldHVybiEwfSxzdWJzZXQ6RmZ9LE9mPXtleGFjdDpmdW5jdGlvbihlLHQpe3JldHVybiBfZihlLHQpfSxzdWJzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LmtleXModCkubGVuZ3RoPD1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJk9iamVjdC5rZXlzKHQpLmV2ZXJ5KG49PkRmKGVbbl0sdFtuXSkpfSxpZ25vcmVkOigpPT4hMH07ZnVuY3Rpb24gVGYoZSx0LG4pe3JldHVybiBBZltuLnBhdGhzXShlLnJvb3QsdC5yb290LG4ubWF0cml4UGFyYW1zKSYmT2Zbbi5xdWVyeVBhcmFtc10oZS5xdWVyeVBhcmFtcyx0LnF1ZXJ5UGFyYW1zKSYmISgiZXhhY3QiPT09bi5mcmFnbWVudCYmZS5mcmFnbWVudCE9PXQuZnJhZ21lbnQpfWZ1bmN0aW9uIEZmKGUsdCxuKXtyZXR1cm4gSWYoZSx0LHQuc2VnbWVudHMsbil9ZnVuY3Rpb24gSWYoZSx0LG4saSl7aWYoZS5zZWdtZW50cy5sZW5ndGg+bi5sZW5ndGgpe2NvbnN0IHM9ZS5zZWdtZW50cy5zbGljZSgwLG4ubGVuZ3RoKTtyZXR1cm4hIVJmKHMsbikmJiF0Lmhhc0NoaWxkcmVuKCkmJiEhTWYocyxuLGkpfWlmKGUuc2VnbWVudHMubGVuZ3RoPT09bi5sZW5ndGgpe2lmKCFSZihlLnNlZ21lbnRzLG4pKXJldHVybiExO2lmKCFNZihlLnNlZ21lbnRzLG4saSkpcmV0dXJuITE7Zm9yKGNvbnN0IG4gaW4gdC5jaGlsZHJlbil7aWYoIWUuY2hpbGRyZW5bbl0pcmV0dXJuITE7aWYoIUZmKGUuY2hpbGRyZW5bbl0sdC5jaGlsZHJlbltuXSxpKSlyZXR1cm4hMX1yZXR1cm4hMH17Y29uc3Qgcz1uLnNsaWNlKDAsZS5zZWdtZW50cy5sZW5ndGgpLG89bi5zbGljZShlLnNlZ21lbnRzLmxlbmd0aCk7cmV0dXJuISFSZihlLnNlZ21lbnRzLHMpJiYhIU1mKGUuc2VnbWVudHMscyxpKSYmISFlLmNoaWxkcmVuLnByaW1hcnkmJklmKGUuY2hpbGRyZW4ucHJpbWFyeSx0LG8saSl9fWZ1bmN0aW9uIE1mKGUsdCxuKXtyZXR1cm4gdC5ldmVyeSgodCxpKT0+T2Zbbl0oZVtpXS5wYXJhbWV0ZXJzLHQucGFyYW1ldGVycykpfWNsYXNzIFBme2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnJvb3Q9ZSx0aGlzLnF1ZXJ5UGFyYW1zPXQsdGhpcy5mcmFnbWVudD1ufWdldCBxdWVyeVBhcmFtTWFwKCl7cmV0dXJuIHRoaXMuX3F1ZXJ5UGFyYW1NYXB8fCh0aGlzLl9xdWVyeVBhcmFtTWFwPXlmKHRoaXMucXVlcnlQYXJhbXMpKSx0aGlzLl9xdWVyeVBhcmFtTWFwfXRvU3RyaW5nKCl7cmV0dXJuIEJmLnNlcmlhbGl6ZSh0aGlzKX19Y2xhc3MgVmZ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnNlZ21lbnRzPWUsdGhpcy5jaGlsZHJlbj10LHRoaXMucGFyZW50PW51bGwsa2YodCwoZSx0KT0+ZS5wYXJlbnQ9dGhpcyl9aGFzQ2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5udW1iZXJPZkNoaWxkcmVuPjB9Z2V0IG51bWJlck9mQ2hpbGRyZW4oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5jaGlsZHJlbikubGVuZ3RofXRvU3RyaW5nKCl7cmV0dXJuICRmKHRoaXMpfX1jbGFzcyBMZntjb25zdHJ1Y3RvcihlLHQpe3RoaXMucGF0aD1lLHRoaXMucGFyYW1ldGVycz10fWdldCBwYXJhbWV0ZXJNYXAoKXtyZXR1cm4gdGhpcy5fcGFyYW1ldGVyTWFwfHwodGhpcy5fcGFyYW1ldGVyTWFwPXlmKHRoaXMucGFyYW1ldGVycykpLHRoaXMuX3BhcmFtZXRlck1hcH10b1N0cmluZygpe3JldHVybiBLZih0aGlzKX19ZnVuY3Rpb24gUmYoZSx0KXtyZXR1cm4gZS5sZW5ndGg9PT10Lmxlbmd0aCYmZS5ldmVyeSgoZSxuKT0+ZS5wYXRoPT09dFtuXS5wYXRoKX1jbGFzcyBqZnt9Y2xhc3MgTmZ7cGFyc2UoZSl7Y29uc3QgdD1uZXcgWGYoZSk7cmV0dXJuIG5ldyBQZih0LnBhcnNlUm9vdFNlZ21lbnQoKSx0LnBhcnNlUXVlcnlQYXJhbXMoKSx0LnBhcnNlRnJhZ21lbnQoKSl9c2VyaWFsaXplKGUpe3ZhciB0O3JldHVybmAvJHtIZihlLnJvb3QsITApfSR7ZnVuY3Rpb24oZSl7Y29uc3QgdD1PYmplY3Qua2V5cyhlKS5tYXAodD0+e2NvbnN0IG49ZVt0XTtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT9uLm1hcChlPT5gJHtxZih0KX09JHtxZihlKX1gKS5qb2luKCImIik6YCR7cWYodCl9PSR7cWYobil9YH0pO3JldHVybiB0Lmxlbmd0aD9gPyR7dC5qb2luKCImIil9YDoiIn0oZS5xdWVyeVBhcmFtcyl9JHsic3RyaW5nIj09dHlwZW9mIGUuZnJhZ21lbnQ/YCMke3Q9ZS5mcmFnbWVudCxlbmNvZGVVUkkodCl9YDoiIn1gfX1jb25zdCBCZj1uZXcgTmY7ZnVuY3Rpb24gJGYoZSl7cmV0dXJuIGUuc2VnbWVudHMubWFwKGU9PktmKGUpKS5qb2luKCIvIil9ZnVuY3Rpb24gSGYoZSx0KXtpZighZS5oYXNDaGlsZHJlbigpKXJldHVybiAkZihlKTtpZih0KXtjb25zdCB0PWUuY2hpbGRyZW4ucHJpbWFyeT9IZihlLmNoaWxkcmVuLnByaW1hcnksITEpOiIiLG49W107cmV0dXJuIGtmKGUuY2hpbGRyZW4sKGUsdCk9Pnt0IT09dmYmJm4ucHVzaChgJHt0fToke0hmKGUsITEpfWApfSksbi5sZW5ndGg+MD9gJHt0fSgke24uam9pbigiLy8iKX0pYDp0fXtjb25zdCB0PWZ1bmN0aW9uKGUsdCl7bGV0IG49W107cmV0dXJuIGtmKGUuY2hpbGRyZW4sKGUsaSk9PntpPT09dmYmJihuPW4uY29uY2F0KHQoZSxpKSkpfSksa2YoZS5jaGlsZHJlbiwoZSxpKT0+e2khPT12ZiYmKG49bi5jb25jYXQodChlLGkpKSl9KSxufShlLCh0LG4pPT5uPT09dmY/W0hmKGUuY2hpbGRyZW4ucHJpbWFyeSwhMSldOltgJHtufToke0hmKHQsITEpfWBdKTtyZXR1cm4gMT09PU9iamVjdC5rZXlzKGUuY2hpbGRyZW4pLmxlbmd0aCYmbnVsbCE9ZS5jaGlsZHJlbi5wcmltYXJ5P2AkeyRmKGUpfS8ke3RbMF19YDpgJHskZihlKX0vKCR7dC5qb2luKCIvLyIpfSlgfX1mdW5jdGlvbiBVZihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoLyU0MC9nLCJAIikucmVwbGFjZSgvJTNBL2dpLCI6IikucmVwbGFjZSgvJTI0L2csIiQiKS5yZXBsYWNlKC8lMkMvZ2ksIiwiKX1mdW5jdGlvbiBxZihlKXtyZXR1cm4gVWYoZSkucmVwbGFjZSgvJTNCL2dpLCI7Iil9ZnVuY3Rpb24gemYoZSl7cmV0dXJuIFVmKGUpLnJlcGxhY2UoL1woL2csIiUyOCIpLnJlcGxhY2UoL1wpL2csIiUyOSIpLnJlcGxhY2UoLyUyNi9naSwiJiIpfWZ1bmN0aW9uIFdmKGUpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9ZnVuY3Rpb24gR2YoZSl7cmV0dXJuIFdmKGUucmVwbGFjZSgvXCsvZywiJTIwIikpfWZ1bmN0aW9uIEtmKGUpe3JldHVybmAke3pmKGUucGF0aCl9JHt0PWUucGFyYW1ldGVycyxPYmplY3Qua2V5cyh0KS5tYXAoZT0+YDske3pmKGUpfT0ke3pmKHRbZV0pfWApLmpvaW4oIiIpfWA7dmFyIHR9Y29uc3QgWWY9L15bXlwvKCk/Oz0jXSsvO2Z1bmN0aW9uIFpmKGUpe2NvbnN0IHQ9ZS5tYXRjaChZZik7cmV0dXJuIHQ/dFswXToiIn1jb25zdCBRZj0vXltePT8mI10rLyxKZj0vXltePyYjXSsvO2NsYXNzIFhme2NvbnN0cnVjdG9yKGUpe3RoaXMudXJsPWUsdGhpcy5yZW1haW5pbmc9ZX1wYXJzZVJvb3RTZWdtZW50KCl7cmV0dXJuIHRoaXMuY29uc3VtZU9wdGlvbmFsKCIvIiksIiI9PT10aGlzLnJlbWFpbmluZ3x8dGhpcy5wZWVrU3RhcnRzV2l0aCgiPyIpfHx0aGlzLnBlZWtTdGFydHNXaXRoKCIjIik/bmV3IFZmKFtdLHt9KTpuZXcgVmYoW10sdGhpcy5wYXJzZUNoaWxkcmVuKCkpfXBhcnNlUXVlcnlQYXJhbXMoKXtjb25zdCBlPXt9O2lmKHRoaXMuY29uc3VtZU9wdGlvbmFsKCI/IikpZG97dGhpcy5wYXJzZVF1ZXJ5UGFyYW0oZSl9d2hpbGUodGhpcy5jb25zdW1lT3B0aW9uYWwoIiYiKSk7cmV0dXJuIGV9cGFyc2VGcmFnbWVudCgpe3JldHVybiB0aGlzLmNvbnN1bWVPcHRpb25hbCgiIyIpP2RlY29kZVVSSUNvbXBvbmVudCh0aGlzLnJlbWFpbmluZyk6bnVsbH1wYXJzZUNoaWxkcmVuKCl7aWYoIiI9PT10aGlzLnJlbWFpbmluZylyZXR1cm57fTt0aGlzLmNvbnN1bWVPcHRpb25hbCgiLyIpO2NvbnN0IGU9W107Zm9yKHRoaXMucGVla1N0YXJ0c1dpdGgoIigiKXx8ZS5wdXNoKHRoaXMucGFyc2VTZWdtZW50KCkpO3RoaXMucGVla1N0YXJ0c1dpdGgoIi8iKSYmIXRoaXMucGVla1N0YXJ0c1dpdGgoIi8vIikmJiF0aGlzLnBlZWtTdGFydHNXaXRoKCIvKCIpOyl0aGlzLmNhcHR1cmUoIi8iKSxlLnB1c2godGhpcy5wYXJzZVNlZ21lbnQoKSk7bGV0IHQ9e307dGhpcy5wZWVrU3RhcnRzV2l0aCgiLygiKSYmKHRoaXMuY2FwdHVyZSgiLyIpLHQ9dGhpcy5wYXJzZVBhcmVucyghMCkpO2xldCBuPXt9O3JldHVybiB0aGlzLnBlZWtTdGFydHNXaXRoKCIoIikmJihuPXRoaXMucGFyc2VQYXJlbnMoITEpKSwoZS5sZW5ndGg+MHx8T2JqZWN0LmtleXModCkubGVuZ3RoPjApJiYobi5wcmltYXJ5PW5ldyBWZihlLHQpKSxufXBhcnNlU2VnbWVudCgpe2NvbnN0IGU9WmYodGhpcy5yZW1haW5pbmcpO2lmKCIiPT09ZSYmdGhpcy5wZWVrU3RhcnRzV2l0aCgiOyIpKXRocm93IG5ldyBFcnJvcihgRW1wdHkgcGF0aCB1cmwgc2VnbWVudCBjYW5ub3QgaGF2ZSBwYXJhbWV0ZXJzOiAnJHt0aGlzLnJlbWFpbmluZ30nLmApO3JldHVybiB0aGlzLmNhcHR1cmUoZSksbmV3IExmKFdmKGUpLHRoaXMucGFyc2VNYXRyaXhQYXJhbXMoKSl9cGFyc2VNYXRyaXhQYXJhbXMoKXtjb25zdCBlPXt9O2Zvcig7dGhpcy5jb25zdW1lT3B0aW9uYWwoIjsiKTspdGhpcy5wYXJzZVBhcmFtKGUpO3JldHVybiBlfXBhcnNlUGFyYW0oZSl7Y29uc3QgdD1aZih0aGlzLnJlbWFpbmluZyk7aWYoIXQpcmV0dXJuO3RoaXMuY2FwdHVyZSh0KTtsZXQgbj0iIjtpZih0aGlzLmNvbnN1bWVPcHRpb25hbCgiPSIpKXtjb25zdCBlPVpmKHRoaXMucmVtYWluaW5nKTtlJiYobj1lLHRoaXMuY2FwdHVyZShuKSl9ZVtXZih0KV09V2Yobil9cGFyc2VRdWVyeVBhcmFtKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLm1hdGNoKFFmKTtyZXR1cm4gdD90WzBdOiIifSh0aGlzLnJlbWFpbmluZyk7aWYoIXQpcmV0dXJuO3RoaXMuY2FwdHVyZSh0KTtsZXQgbj0iIjtpZih0aGlzLmNvbnN1bWVPcHRpb25hbCgiPSIpKXtjb25zdCBlPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5tYXRjaChKZik7cmV0dXJuIHQ/dFswXToiIn0odGhpcy5yZW1haW5pbmcpO2UmJihuPWUsdGhpcy5jYXB0dXJlKG4pKX1jb25zdCBpPUdmKHQpLHM9R2Yobik7aWYoZS5oYXNPd25Qcm9wZXJ0eShpKSl7bGV0IHQ9ZVtpXTtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0sZVtpXT10KSx0LnB1c2gocyl9ZWxzZSBlW2ldPXN9cGFyc2VQYXJlbnMoZSl7Y29uc3QgdD17fTtmb3IodGhpcy5jYXB0dXJlKCIoIik7IXRoaXMuY29uc3VtZU9wdGlvbmFsKCIpIikmJnRoaXMucmVtYWluaW5nLmxlbmd0aD4wOyl7Y29uc3Qgbj1aZih0aGlzLnJlbWFpbmluZyksaT10aGlzLnJlbWFpbmluZ1tuLmxlbmd0aF07aWYoIi8iIT09aSYmIikiIT09aSYmIjsiIT09aSl0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBwYXJzZSB1cmwgJyR7dGhpcy51cmx9J2ApO2xldCBzO24uaW5kZXhPZigiOiIpPi0xPyhzPW4uc3Vic3RyKDAsbi5pbmRleE9mKCI6IikpLHRoaXMuY2FwdHVyZShzKSx0aGlzLmNhcHR1cmUoIjoiKSk6ZSYmKHM9dmYpO2NvbnN0IG89dGhpcy5wYXJzZUNoaWxkcmVuKCk7dFtzXT0xPT09T2JqZWN0LmtleXMobykubGVuZ3RoP28ucHJpbWFyeTpuZXcgVmYoW10sbyksdGhpcy5jb25zdW1lT3B0aW9uYWwoIi8vIil9cmV0dXJuIHR9cGVla1N0YXJ0c1dpdGgoZSl7cmV0dXJuIHRoaXMucmVtYWluaW5nLnN0YXJ0c1dpdGgoZSl9Y29uc3VtZU9wdGlvbmFsKGUpe3JldHVybiEhdGhpcy5wZWVrU3RhcnRzV2l0aChlKSYmKHRoaXMucmVtYWluaW5nPXRoaXMucmVtYWluaW5nLnN1YnN0cmluZyhlLmxlbmd0aCksITApfWNhcHR1cmUoZSl7aWYoIXRoaXMuY29uc3VtZU9wdGlvbmFsKGUpKXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgIiR7ZX0iLmApfX1jbGFzcyBlZ3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9yb290PWV9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy5fcm9vdC52YWx1ZX1wYXJlbnQoZSl7Y29uc3QgdD10aGlzLnBhdGhGcm9tUm9vdChlKTtyZXR1cm4gdC5sZW5ndGg+MT90W3QubGVuZ3RoLTJdOm51bGx9Y2hpbGRyZW4oZSl7Y29uc3QgdD10ZyhlLHRoaXMuX3Jvb3QpO3JldHVybiB0P3QuY2hpbGRyZW4ubWFwKGU9PmUudmFsdWUpOltdfWZpcnN0Q2hpbGQoZSl7Y29uc3QgdD10ZyhlLHRoaXMuX3Jvb3QpO3JldHVybiB0JiZ0LmNoaWxkcmVuLmxlbmd0aD4wP3QuY2hpbGRyZW5bMF0udmFsdWU6bnVsbH1zaWJsaW5ncyhlKXtjb25zdCB0PW5nKGUsdGhpcy5fcm9vdCk7cmV0dXJuIHQubGVuZ3RoPDI/W106dFt0Lmxlbmd0aC0yXS5jaGlsZHJlbi5tYXAoZT0+ZS52YWx1ZSkuZmlsdGVyKHQ9PnQhPT1lKX1wYXRoRnJvbVJvb3QoZSl7cmV0dXJuIG5nKGUsdGhpcy5fcm9vdCkubWFwKGU9PmUudmFsdWUpfX1mdW5jdGlvbiB0ZyhlLHQpe2lmKGU9PT10LnZhbHVlKXJldHVybiB0O2Zvcihjb25zdCBuIG9mIHQuY2hpbGRyZW4pe2NvbnN0IHQ9dGcoZSxuKTtpZih0KXJldHVybiB0fXJldHVybiBudWxsfWZ1bmN0aW9uIG5nKGUsdCl7aWYoZT09PXQudmFsdWUpcmV0dXJuW3RdO2Zvcihjb25zdCBuIG9mIHQuY2hpbGRyZW4pe2NvbnN0IGk9bmcoZSxuKTtpZihpLmxlbmd0aClyZXR1cm4gaS51bnNoaWZ0KHQpLGl9cmV0dXJuW119Y2xhc3MgaWd7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnZhbHVlPWUsdGhpcy5jaGlsZHJlbj10fXRvU3RyaW5nKCl7cmV0dXJuYFRyZWVOb2RlKCR7dGhpcy52YWx1ZX0pYH19ZnVuY3Rpb24gc2coZSl7Y29uc3QgdD17fTtyZXR1cm4gZSYmZS5jaGlsZHJlbi5mb3JFYWNoKGU9PnRbZS52YWx1ZS5vdXRsZXRdPWUpLHR9Y2xhc3Mgb2cgZXh0ZW5kcyBlZ3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuc25hcHNob3Q9dCxoZyh0aGlzLGUpfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMuc25hcHNob3QudG9TdHJpbmcoKX19ZnVuY3Rpb24gcmcoZSx0KXtjb25zdCBuPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1uZXcgY2coW10se30se30sIiIse30sdmYsdCxudWxsLGUucm9vdCwtMSx7fSk7cmV0dXJuIG5ldyB1ZygiIixuZXcgaWcobixbXSkpfShlLHQpLGk9bmV3IGhwKFtuZXcgTGYoIiIse30pXSkscz1uZXcgaHAoe30pLG89bmV3IGhwKHt9KSxyPW5ldyBocCh7fSksYT1uZXcgaHAoIiIpLGw9bmV3IGFnKGkscyxyLGEsbyx2Zix0LG4ucm9vdCk7cmV0dXJuIGwuc25hcHNob3Q9bi5yb290LG5ldyBvZyhuZXcgaWcobCxbXSksbil9Y2xhc3MgYWd7Y29uc3RydWN0b3IoZSx0LG4saSxzLG8scixhKXt0aGlzLnVybD1lLHRoaXMucGFyYW1zPXQsdGhpcy5xdWVyeVBhcmFtcz1uLHRoaXMuZnJhZ21lbnQ9aSx0aGlzLmRhdGE9cyx0aGlzLm91dGxldD1vLHRoaXMuY29tcG9uZW50PXIsdGhpcy5fZnV0dXJlU25hcHNob3Q9YX1nZXQgcm91dGVDb25maWcoKXtyZXR1cm4gdGhpcy5fZnV0dXJlU25hcHNob3Qucm91dGVDb25maWd9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUucm9vdH1nZXQgcGFyZW50KCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnBhcmVudCh0aGlzKX1nZXQgZmlyc3RDaGlsZCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5maXJzdENoaWxkKHRoaXMpfWdldCBjaGlsZHJlbigpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5jaGlsZHJlbih0aGlzKX1nZXQgcGF0aEZyb21Sb290KCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnBhdGhGcm9tUm9vdCh0aGlzKX1nZXQgcGFyYW1NYXAoKXtyZXR1cm4gdGhpcy5fcGFyYW1NYXB8fCh0aGlzLl9wYXJhbU1hcD10aGlzLnBhcmFtcy5waXBlKGsoZT0+eWYoZSkpKSksdGhpcy5fcGFyYW1NYXB9Z2V0IHF1ZXJ5UGFyYW1NYXAoKXtyZXR1cm4gdGhpcy5fcXVlcnlQYXJhbU1hcHx8KHRoaXMuX3F1ZXJ5UGFyYW1NYXA9dGhpcy5xdWVyeVBhcmFtcy5waXBlKGsoZT0+eWYoZSkpKSksdGhpcy5fcXVlcnlQYXJhbU1hcH10b1N0cmluZygpe3JldHVybiB0aGlzLnNuYXBzaG90P3RoaXMuc25hcHNob3QudG9TdHJpbmcoKTpgRnV0dXJlKCR7dGhpcy5fZnV0dXJlU25hcHNob3R9KWB9fWZ1bmN0aW9uIGxnKGUsdD0iZW1wdHlPbmx5Iil7Y29uc3Qgbj1lLnBhdGhGcm9tUm9vdDtsZXQgaT0wO2lmKCJhbHdheXMiIT09dClmb3IoaT1uLmxlbmd0aC0xO2k+PTE7KXtjb25zdCBlPW5baV0sdD1uW2ktMV07aWYoZS5yb3V0ZUNvbmZpZyYmIiI9PT1lLnJvdXRlQ29uZmlnLnBhdGgpaS0tO2Vsc2V7aWYodC5jb21wb25lbnQpYnJlYWs7aS0tfX1yZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVkdWNlKChlLHQpPT4oe3BhcmFtczpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5wYXJhbXMpLHQucGFyYW1zKSxkYXRhOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlLmRhdGEpLHQuZGF0YSkscmVzb2x2ZTpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5yZXNvbHZlKSx0Ll9yZXNvbHZlZERhdGEpfSkse3BhcmFtczp7fSxkYXRhOnt9LHJlc29sdmU6e319KX0obi5zbGljZShpKSl9Y2xhc3MgY2d7Y29uc3RydWN0b3IoZSx0LG4saSxzLG8scixhLGwsYyx1KXt0aGlzLnVybD1lLHRoaXMucGFyYW1zPXQsdGhpcy5xdWVyeVBhcmFtcz1uLHRoaXMuZnJhZ21lbnQ9aSx0aGlzLmRhdGE9cyx0aGlzLm91dGxldD1vLHRoaXMuY29tcG9uZW50PXIsdGhpcy5yb3V0ZUNvbmZpZz1hLHRoaXMuX3VybFNlZ21lbnQ9bCx0aGlzLl9sYXN0UGF0aEluZGV4PWMsdGhpcy5fcmVzb2x2ZT11fWdldCByb290KCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnJvb3R9Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXJlbnQodGhpcyl9Z2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuZmlyc3RDaGlsZCh0aGlzKX1nZXQgY2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuY2hpbGRyZW4odGhpcyl9Z2V0IHBhdGhGcm9tUm9vdCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXRoRnJvbVJvb3QodGhpcyl9Z2V0IHBhcmFtTWFwKCl7cmV0dXJuIHRoaXMuX3BhcmFtTWFwfHwodGhpcy5fcGFyYW1NYXA9eWYodGhpcy5wYXJhbXMpKSx0aGlzLl9wYXJhbU1hcH1nZXQgcXVlcnlQYXJhbU1hcCgpe3JldHVybiB0aGlzLl9xdWVyeVBhcmFtTWFwfHwodGhpcy5fcXVlcnlQYXJhbU1hcD15Zih0aGlzLnF1ZXJ5UGFyYW1zKSksdGhpcy5fcXVlcnlQYXJhbU1hcH10b1N0cmluZygpe3JldHVybmBSb3V0ZSh1cmw6JyR7dGhpcy51cmwubWFwKGU9PmUudG9TdHJpbmcoKSkuam9pbigiLyIpfScsIHBhdGg6JyR7dGhpcy5yb3V0ZUNvbmZpZz90aGlzLnJvdXRlQ29uZmlnLnBhdGg6IiJ9JylgfX1jbGFzcyB1ZyBleHRlbmRzIGVne2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIodCksdGhpcy51cmw9ZSxoZyh0aGlzLHQpfXRvU3RyaW5nKCl7cmV0dXJuIGRnKHRoaXMuX3Jvb3QpfX1mdW5jdGlvbiBoZyhlLHQpe3QudmFsdWUuX3JvdXRlclN0YXRlPWUsdC5jaGlsZHJlbi5mb3JFYWNoKHQ9PmhnKGUsdCkpfWZ1bmN0aW9uIGRnKGUpe2NvbnN0IHQ9ZS5jaGlsZHJlbi5sZW5ndGg+MD9gIHsgJHtlLmNoaWxkcmVuLm1hcChkZykuam9pbigiLCAiKX0gfSBgOiIiO3JldHVybmAke2UudmFsdWV9JHt0fWB9ZnVuY3Rpb24gcGcoZSl7aWYoZS5zbmFwc2hvdCl7Y29uc3QgdD1lLnNuYXBzaG90LG49ZS5fZnV0dXJlU25hcHNob3Q7ZS5zbmFwc2hvdD1uLF9mKHQucXVlcnlQYXJhbXMsbi5xdWVyeVBhcmFtcyl8fGUucXVlcnlQYXJhbXMubmV4dChuLnF1ZXJ5UGFyYW1zKSx0LmZyYWdtZW50IT09bi5mcmFnbWVudCYmZS5mcmFnbWVudC5uZXh0KG4uZnJhZ21lbnQpLF9mKHQucGFyYW1zLG4ucGFyYW1zKXx8ZS5wYXJhbXMubmV4dChuLnBhcmFtcyksZnVuY3Rpb24oZSx0KXtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7KytuKWlmKCFfZihlW25dLHRbbl0pKXJldHVybiExO3JldHVybiEwfSh0LnVybCxuLnVybCl8fGUudXJsLm5leHQobi51cmwpLF9mKHQuZGF0YSxuLmRhdGEpfHxlLmRhdGEubmV4dChuLmRhdGEpfWVsc2UgZS5zbmFwc2hvdD1lLl9mdXR1cmVTbmFwc2hvdCxlLmRhdGEubmV4dChlLl9mdXR1cmVTbmFwc2hvdC5kYXRhKX1mdW5jdGlvbiBmZyhlLHQpe3ZhciBuLGk7cmV0dXJuIF9mKGUucGFyYW1zLHQucGFyYW1zKSYmUmYobj1lLnVybCxpPXQudXJsKSYmbi5ldmVyeSgoZSx0KT0+X2YoZS5wYXJhbWV0ZXJzLGlbdF0ucGFyYW1ldGVycykpJiYhKCFlLnBhcmVudCE9IXQucGFyZW50KSYmKCFlLnBhcmVudHx8ZmcoZS5wYXJlbnQsdC5wYXJlbnQpKX1mdW5jdGlvbiBnZyhlLHQsbil7aWYobiYmZS5zaG91bGRSZXVzZVJvdXRlKHQudmFsdWUsbi52YWx1ZS5zbmFwc2hvdCkpe2NvbnN0IGk9bi52YWx1ZTtpLl9mdXR1cmVTbmFwc2hvdD10LnZhbHVlO2NvbnN0IHM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0LmNoaWxkcmVuLm1hcCh0PT57Zm9yKGNvbnN0IGkgb2Ygbi5jaGlsZHJlbilpZihlLnNob3VsZFJldXNlUm91dGUodC52YWx1ZSxpLnZhbHVlLnNuYXBzaG90KSlyZXR1cm4gZ2coZSx0LGkpO3JldHVybiBnZyhlLHQpfSl9KGUsdCxuKTtyZXR1cm4gbmV3IGlnKGkscyl9e2lmKGUuc2hvdWxkQXR0YWNoKHQudmFsdWUpKXtjb25zdCBuPWUucmV0cmlldmUodC52YWx1ZSk7aWYobnVsbCE9PW4pe2NvbnN0IGU9bi5yb3V0ZTtyZXR1cm4gbWcodCxlKSxlfX1jb25zdCBuPW5ldyBhZyhuZXcgaHAoKGk9dC52YWx1ZSkudXJsKSxuZXcgaHAoaS5wYXJhbXMpLG5ldyBocChpLnF1ZXJ5UGFyYW1zKSxuZXcgaHAoaS5mcmFnbWVudCksbmV3IGhwKGkuZGF0YSksaS5vdXRsZXQsaS5jb21wb25lbnQsaSkscz10LmNoaWxkcmVuLm1hcCh0PT5nZyhlLHQpKTtyZXR1cm4gbmV3IGlnKG4scyl9dmFyIGl9ZnVuY3Rpb24gbWcoZSx0KXtpZihlLnZhbHVlLnJvdXRlQ29uZmlnIT09dC52YWx1ZS5yb3V0ZUNvbmZpZyl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCByZWF0dGFjaCBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90IGNyZWF0ZWQgZnJvbSBhIGRpZmZlcmVudCByb3V0ZSIpO2lmKGUuY2hpbGRyZW4ubGVuZ3RoIT09dC5jaGlsZHJlbi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgcmVhdHRhY2ggQWN0aXZhdGVkUm91dGVTbmFwc2hvdCB3aXRoIGEgZGlmZmVyZW50IG51bWJlciBvZiBjaGlsZHJlbiIpO3QudmFsdWUuX2Z1dHVyZVNuYXBzaG90PWUudmFsdWU7Zm9yKGxldCBuPTA7bjxlLmNoaWxkcmVuLmxlbmd0aDsrK24pbWcoZS5jaGlsZHJlbltuXSx0LmNoaWxkcmVuW25dKX1mdW5jdGlvbiB2ZyhlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPWUmJiFlLm91dGxldHMmJiFlLnNlZ21lbnRQYXRofWZ1bmN0aW9uIGJnKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZSYmbnVsbCE9ZSYmZS5vdXRsZXRzfWZ1bmN0aW9uIHlnKGUsdCxuLGkscyl7bGV0IG89e307cmV0dXJuIGkmJmtmKGksKGUsdCk9PntvW3RdPUFycmF5LmlzQXJyYXkoZSk/ZS5tYXAoZT0+YCR7ZX1gKTpgJHtlfWB9KSxuZXcgUGYobi5yb290PT09ZT90OkNnKG4ucm9vdCxlLHQpLG8scyl9ZnVuY3Rpb24gQ2coZSx0LG4pe2NvbnN0IGk9e307cmV0dXJuIGtmKGUuY2hpbGRyZW4sKGUscyk9PntpW3NdPWU9PT10P246Q2coZSx0LG4pfSksbmV3IFZmKGUuc2VnbWVudHMsaSl9Y2xhc3Mgd2d7Y29uc3RydWN0b3IoZSx0LG4pe2lmKHRoaXMuaXNBYnNvbHV0ZT1lLHRoaXMubnVtYmVyT2ZEb3VibGVEb3RzPXQsdGhpcy5jb21tYW5kcz1uLGUmJm4ubGVuZ3RoPjAmJnZnKG5bMF0pKXRocm93IG5ldyBFcnJvcigiUm9vdCBzZWdtZW50IGNhbm5vdCBoYXZlIG1hdHJpeCBwYXJhbWV0ZXJzIik7Y29uc3QgaT1uLmZpbmQoYmcpO2lmKGkmJmkhPT1FZihuKSl0aHJvdyBuZXcgRXJyb3IoIntvdXRsZXRzOnt9fSBoYXMgdG8gYmUgdGhlIGxhc3QgY29tbWFuZCIpfXRvUm9vdCgpe3JldHVybiB0aGlzLmlzQWJzb2x1dGUmJjE9PT10aGlzLmNvbW1hbmRzLmxlbmd0aCYmIi8iPT10aGlzLmNvbW1hbmRzWzBdfX1jbGFzcyBfZ3tjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5zZWdtZW50R3JvdXA9ZSx0aGlzLnByb2Nlc3NDaGlsZHJlbj10LHRoaXMuaW5kZXg9bn19ZnVuY3Rpb24gRGcoZSx0LG4pe2lmKGV8fChlPW5ldyBWZihbXSx7fSkpLDA9PT1lLnNlZ21lbnRzLmxlbmd0aCYmZS5oYXNDaGlsZHJlbigpKXJldHVybiBTZyhlLHQsbik7Y29uc3QgaT1mdW5jdGlvbihlLHQsbil7bGV0IGk9MCxzPXQ7Y29uc3Qgbz17bWF0Y2g6ITEscGF0aEluZGV4OjAsY29tbWFuZEluZGV4OjB9O2Zvcig7czxlLnNlZ21lbnRzLmxlbmd0aDspe2lmKGk+PW4ubGVuZ3RoKXJldHVybiBvO2NvbnN0IHQ9ZS5zZWdtZW50c1tzXSxyPW5baV07aWYoYmcocikpYnJlYWs7Y29uc3QgYT1gJHtyfWAsbD1pPG4ubGVuZ3RoLTE/bltpKzFdOm51bGw7aWYocz4wJiZ2b2lkIDA9PT1hKWJyZWFrO2lmKGEmJmwmJiJvYmplY3QiPT10eXBlb2YgbCYmdm9pZCAwPT09bC5vdXRsZXRzKXtpZighQWcoYSxsLHQpKXJldHVybiBvO2krPTJ9ZWxzZXtpZighQWcoYSx7fSx0KSlyZXR1cm4gbztpKyt9cysrfXJldHVybnttYXRjaDohMCxwYXRoSW5kZXg6cyxjb21tYW5kSW5kZXg6aX19KGUsdCxuKSxzPW4uc2xpY2UoaS5jb21tYW5kSW5kZXgpO2lmKGkubWF0Y2gmJmkucGF0aEluZGV4PGUuc2VnbWVudHMubGVuZ3RoKXtjb25zdCB0PW5ldyBWZihlLnNlZ21lbnRzLnNsaWNlKDAsaS5wYXRoSW5kZXgpLHt9KTtyZXR1cm4gdC5jaGlsZHJlbi5wcmltYXJ5PW5ldyBWZihlLnNlZ21lbnRzLnNsaWNlKGkucGF0aEluZGV4KSxlLmNoaWxkcmVuKSxTZyh0LDAscyl9cmV0dXJuIGkubWF0Y2gmJjA9PT1zLmxlbmd0aD9uZXcgVmYoZS5zZWdtZW50cyx7fSk6aS5tYXRjaCYmIWUuaGFzQ2hpbGRyZW4oKT9FZyhlLHQsbik6aS5tYXRjaD9TZyhlLDAscyk6RWcoZSx0LG4pfWZ1bmN0aW9uIFNnKGUsdCxuKXtpZigwPT09bi5sZW5ndGgpcmV0dXJuIG5ldyBWZihlLnNlZ21lbnRzLHt9KTt7Y29uc3QgaT1mdW5jdGlvbihlKXtyZXR1cm4gYmcoZVswXSk/ZVswXS5vdXRsZXRzOntbdmZdOmV9fShuKSxzPXt9O3JldHVybiBrZihpLChuLGkpPT57InN0cmluZyI9PXR5cGVvZiBuJiYobj1bbl0pLG51bGwhPT1uJiYoc1tpXT1EZyhlLmNoaWxkcmVuW2ldLHQsbikpfSksa2YoZS5jaGlsZHJlbiwoZSx0KT0+e3ZvaWQgMD09PWlbdF0mJihzW3RdPWUpfSksbmV3IFZmKGUuc2VnbWVudHMscyl9fWZ1bmN0aW9uIEVnKGUsdCxuKXtjb25zdCBpPWUuc2VnbWVudHMuc2xpY2UoMCx0KTtsZXQgcz0wO2Zvcig7czxuLmxlbmd0aDspe2NvbnN0IG89bltzXTtpZihiZyhvKSl7Y29uc3QgZT1rZyhvLm91dGxldHMpO3JldHVybiBuZXcgVmYoaSxlKX1pZigwPT09cyYmdmcoblswXSkpe2kucHVzaChuZXcgTGYoZS5zZWdtZW50c1t0XS5wYXRoLHhnKG5bMF0pKSkscysrO2NvbnRpbnVlfWNvbnN0IHI9Ymcobyk/by5vdXRsZXRzLnByaW1hcnk6YCR7b31gLGE9czxuLmxlbmd0aC0xP25bcysxXTpudWxsO3ImJmEmJnZnKGEpPyhpLnB1c2gobmV3IExmKHIseGcoYSkpKSxzKz0yKTooaS5wdXNoKG5ldyBMZihyLHt9KSkscysrKX1yZXR1cm4gbmV3IFZmKGkse30pfWZ1bmN0aW9uIGtnKGUpe2NvbnN0IHQ9e307cmV0dXJuIGtmKGUsKGUsbik9Pnsic3RyaW5nIj09dHlwZW9mIGUmJihlPVtlXSksbnVsbCE9PWUmJih0W25dPUVnKG5ldyBWZihbXSx7fSksMCxlKSl9KSx0fWZ1bmN0aW9uIHhnKGUpe2NvbnN0IHQ9e307cmV0dXJuIGtmKGUsKGUsbik9PnRbbl09YCR7ZX1gKSx0fWZ1bmN0aW9uIEFnKGUsdCxuKXtyZXR1cm4gZT09bi5wYXRoJiZfZih0LG4ucGFyYW1ldGVycyl9Y2xhc3MgT2d7Y29uc3RydWN0b3IoZSx0LG4saSl7dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3k9ZSx0aGlzLmZ1dHVyZVN0YXRlPXQsdGhpcy5jdXJyU3RhdGU9bix0aGlzLmZvcndhcmRFdmVudD1pfWFjdGl2YXRlKGUpe2NvbnN0IHQ9dGhpcy5mdXR1cmVTdGF0ZS5fcm9vdCxuPXRoaXMuY3VyclN0YXRlP3RoaXMuY3VyclN0YXRlLl9yb290Om51bGw7dGhpcy5kZWFjdGl2YXRlQ2hpbGRSb3V0ZXModCxuLGUpLHBnKHRoaXMuZnV0dXJlU3RhdGUucm9vdCksdGhpcy5hY3RpdmF0ZUNoaWxkUm91dGVzKHQsbixlKX1kZWFjdGl2YXRlQ2hpbGRSb3V0ZXMoZSx0LG4pe2NvbnN0IGk9c2codCk7ZS5jaGlsZHJlbi5mb3JFYWNoKGU9Pntjb25zdCB0PWUudmFsdWUub3V0bGV0O3RoaXMuZGVhY3RpdmF0ZVJvdXRlcyhlLGlbdF0sbiksZGVsZXRlIGlbdF19KSxrZihpLChlLHQpPT57dGhpcy5kZWFjdGl2YXRlUm91dGVBbmRJdHNDaGlsZHJlbihlLG4pfSl9ZGVhY3RpdmF0ZVJvdXRlcyhlLHQsbil7Y29uc3QgaT1lLnZhbHVlLHM9dD90LnZhbHVlOm51bGw7aWYoaT09PXMpaWYoaS5jb21wb25lbnQpe2NvbnN0IHM9bi5nZXRDb250ZXh0KGkub3V0bGV0KTtzJiZ0aGlzLmRlYWN0aXZhdGVDaGlsZFJvdXRlcyhlLHQscy5jaGlsZHJlbil9ZWxzZSB0aGlzLmRlYWN0aXZhdGVDaGlsZFJvdXRlcyhlLHQsbik7ZWxzZSBzJiZ0aGlzLmRlYWN0aXZhdGVSb3V0ZUFuZEl0c0NoaWxkcmVuKHQsbil9ZGVhY3RpdmF0ZVJvdXRlQW5kSXRzQ2hpbGRyZW4oZSx0KXt0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5zaG91bGREZXRhY2goZS52YWx1ZS5zbmFwc2hvdCk/dGhpcy5kZXRhY2hBbmRTdG9yZVJvdXRlU3VidHJlZShlLHQpOnRoaXMuZGVhY3RpdmF0ZVJvdXRlQW5kT3V0bGV0KGUsdCl9ZGV0YWNoQW5kU3RvcmVSb3V0ZVN1YnRyZWUoZSx0KXtjb25zdCBuPXQuZ2V0Q29udGV4dChlLnZhbHVlLm91dGxldCk7aWYobiYmbi5vdXRsZXQpe2NvbnN0IHQ9bi5vdXRsZXQuZGV0YWNoKCksaT1uLmNoaWxkcmVuLm9uT3V0bGV0RGVhY3RpdmF0ZWQoKTt0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5zdG9yZShlLnZhbHVlLnNuYXBzaG90LHtjb21wb25lbnRSZWY6dCxyb3V0ZTplLGNvbnRleHRzOml9KX19ZGVhY3RpdmF0ZVJvdXRlQW5kT3V0bGV0KGUsdCl7Y29uc3Qgbj10LmdldENvbnRleHQoZS52YWx1ZS5vdXRsZXQpLGk9biYmZS52YWx1ZS5jb21wb25lbnQ/bi5jaGlsZHJlbjp0LHM9c2coZSk7Zm9yKGNvbnN0IG8gb2YgT2JqZWN0LmtleXMocykpdGhpcy5kZWFjdGl2YXRlUm91dGVBbmRJdHNDaGlsZHJlbihzW29dLGkpO24mJm4ub3V0bGV0JiYobi5vdXRsZXQuZGVhY3RpdmF0ZSgpLG4uY2hpbGRyZW4ub25PdXRsZXREZWFjdGl2YXRlZCgpLG4uYXR0YWNoUmVmPW51bGwsbi5yZXNvbHZlcj1udWxsLG4ucm91dGU9bnVsbCl9YWN0aXZhdGVDaGlsZFJvdXRlcyhlLHQsbil7Y29uc3QgaT1zZyh0KTtlLmNoaWxkcmVuLmZvckVhY2goZT0+e3RoaXMuYWN0aXZhdGVSb3V0ZXMoZSxpW2UudmFsdWUub3V0bGV0XSxuKSx0aGlzLmZvcndhcmRFdmVudChuZXcgZ2YoZS52YWx1ZS5zbmFwc2hvdCkpfSksZS5jaGlsZHJlbi5sZW5ndGgmJnRoaXMuZm9yd2FyZEV2ZW50KG5ldyBwZihlLnZhbHVlLnNuYXBzaG90KSl9YWN0aXZhdGVSb3V0ZXMoZSx0LG4pe2NvbnN0IGk9ZS52YWx1ZSxzPXQ/dC52YWx1ZTpudWxsO2lmKHBnKGkpLGk9PT1zKWlmKGkuY29tcG9uZW50KXtjb25zdCBzPW4uZ2V0T3JDcmVhdGVDb250ZXh0KGkub3V0bGV0KTt0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXMoZSx0LHMuY2hpbGRyZW4pfWVsc2UgdGhpcy5hY3RpdmF0ZUNoaWxkUm91dGVzKGUsdCxuKTtlbHNlIGlmKGkuY29tcG9uZW50KXtjb25zdCB0PW4uZ2V0T3JDcmVhdGVDb250ZXh0KGkub3V0bGV0KTtpZih0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5zaG91bGRBdHRhY2goaS5zbmFwc2hvdCkpe2NvbnN0IGU9dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kucmV0cmlldmUoaS5zbmFwc2hvdCk7dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuc3RvcmUoaS5zbmFwc2hvdCxudWxsKSx0LmNoaWxkcmVuLm9uT3V0bGV0UmVBdHRhY2hlZChlLmNvbnRleHRzKSx0LmF0dGFjaFJlZj1lLmNvbXBvbmVudFJlZix0LnJvdXRlPWUucm91dGUudmFsdWUsdC5vdXRsZXQmJnQub3V0bGV0LmF0dGFjaChlLmNvbXBvbmVudFJlZixlLnJvdXRlLnZhbHVlKSxUZyhlLnJvdXRlKX1lbHNle2NvbnN0IG49ZnVuY3Rpb24oZSl7Zm9yKGxldCB0PWUucGFyZW50O3Q7dD10LnBhcmVudCl7Y29uc3QgZT10LnJvdXRlQ29uZmlnO2lmKGUmJmUuX2xvYWRlZENvbmZpZylyZXR1cm4gZS5fbG9hZGVkQ29uZmlnO2lmKGUmJmUuY29tcG9uZW50KXJldHVybiBudWxsfXJldHVybiBudWxsfShpLnNuYXBzaG90KSxzPW4/bi5tb2R1bGUuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyOm51bGw7dC5hdHRhY2hSZWY9bnVsbCx0LnJvdXRlPWksdC5yZXNvbHZlcj1zLHQub3V0bGV0JiZ0Lm91dGxldC5hY3RpdmF0ZVdpdGgoaSxzKSx0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXMoZSxudWxsLHQuY2hpbGRyZW4pfX1lbHNlIHRoaXMuYWN0aXZhdGVDaGlsZFJvdXRlcyhlLG51bGwsbil9fWZ1bmN0aW9uIFRnKGUpe3BnKGUudmFsdWUpLGUuY2hpbGRyZW4uZm9yRWFjaChUZyl9Y2xhc3MgRmd7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnJvdXRlcz1lLHRoaXMubW9kdWxlPXR9fWZ1bmN0aW9uIElnKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlfWZ1bmN0aW9uIE1nKGUpe3JldHVybiBlIGluc3RhbmNlb2YgUGZ9Y29uc3QgUGc9U3ltYm9sKCJJTklUSUFMX1ZBTFVFIik7ZnVuY3Rpb24gVmcoKXtyZXR1cm4gS2QoZT0+ZnVuY3Rpb24oLi4uZSl7bGV0IHQsbjtyZXR1cm4gRShlW2UubGVuZ3RoLTFdKSYmKG49ZS5wb3AoKSksImZ1bmN0aW9uIj09dHlwZW9mIGVbZS5sZW5ndGgtMV0mJih0PWUucG9wKCkpLDE9PT1lLmxlbmd0aCYmbChlWzBdKSYmKGU9ZVswXSkscShlLG4pLmxpZnQobmV3IG1wKHQpKX0oZS5tYXAoZT0+ZS5waXBlKF9wKDEpLGZ1bmN0aW9uKC4uLmUpe2NvbnN0IHQ9ZVtlLmxlbmd0aC0xXTtyZXR1cm4gRSh0KT8oZS5wb3AoKSxuPT55cChlLG4sdCkpOnQ9PnlwKGUsdCl9KFBnKSkpKS5waXBlKEVwKChlLHQpPT57bGV0IG49ITE7cmV0dXJuIHQucmVkdWNlKChlLGkscyk9PntpZihlIT09UGcpcmV0dXJuIGU7aWYoaT09PVBnJiYobj0hMCksIW4pe2lmKCExPT09aSlyZXR1cm4gaTtpZihzPT09dC5sZW5ndGgtMXx8TWcoaSkpcmV0dXJuIGl9cmV0dXJuIGV9LGUpfSxQZyksQXAoZT0+ZSE9PVBnKSxrKGU9Pk1nKGUpP2U6ITA9PT1lKSxfcCgxKSkpfWxldCBMZz0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sibmctY29tcG9uZW50Il1dLGRlY2xzOjEsdmFyczowLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiZNcigwLCJyb3V0ZXItb3V0bGV0Iil9LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5bSW1dfSxlbmNhcHN1bGF0aW9uOjJ9KSxlfSkoKTtmdW5jdGlvbiBSZyhlLHQ9IiIpe2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBpPWVbbl07amcoaSxOZyh0LGkpKX19ZnVuY3Rpb24gamcoZSx0KXtlLmNoaWxkcmVuJiZSZyhlLmNoaWxkcmVuLHQpfWZ1bmN0aW9uIE5nKGUsdCl7cmV0dXJuIHQ/ZXx8dC5wYXRoP2UmJiF0LnBhdGg/YCR7ZX0vYDohZSYmdC5wYXRoP3QucGF0aDpgJHtlfS8ke3QucGF0aH1gOiIiOmV9ZnVuY3Rpb24gQmcoZSl7Y29uc3QgdD1lLmNoaWxkcmVuJiZlLmNoaWxkcmVuLm1hcChCZyksbj10P09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7Y2hpbGRyZW46dH0pOk9iamVjdC5hc3NpZ24oe30sZSk7cmV0dXJuIW4uY29tcG9uZW50JiYodHx8bi5sb2FkQ2hpbGRyZW4pJiZuLm91dGxldCYmbi5vdXRsZXQhPT12ZiYmKG4uY29tcG9uZW50PUxnKSxufWZ1bmN0aW9uICRnKGUpe3JldHVybiBlLm91dGxldHx8dmZ9ZnVuY3Rpb24gSGcoZSx0KXtjb25zdCBuPWUuZmlsdGVyKGU9PiRnKGUpPT09dCk7cmV0dXJuIG4ucHVzaCguLi5lLmZpbHRlcihlPT4kZyhlKSE9PXQpKSxufWNvbnN0IFVnPXttYXRjaGVkOiExLGNvbnN1bWVkU2VnbWVudHM6W10sbGFzdENoaWxkOjAscGFyYW1ldGVyczp7fSxwb3NpdGlvbmFsUGFyYW1TZWdtZW50czp7fX07ZnVuY3Rpb24gcWcoZSx0LG4pe3ZhciBpO2lmKCIiPT09dC5wYXRoKXJldHVybiJmdWxsIj09PXQucGF0aE1hdGNoJiYoZS5oYXNDaGlsZHJlbigpfHxuLmxlbmd0aD4wKT9PYmplY3QuYXNzaWduKHt9LFVnKTp7bWF0Y2hlZDohMCxjb25zdW1lZFNlZ21lbnRzOltdLGxhc3RDaGlsZDowLHBhcmFtZXRlcnM6e30scG9zaXRpb25hbFBhcmFtU2VnbWVudHM6e319O2NvbnN0IHM9KHQubWF0Y2hlcnx8d2YpKG4sZSx0KTtpZighcylyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxVZyk7Y29uc3Qgbz17fTtrZihzLnBvc1BhcmFtcywoZSx0KT0+e29bdF09ZS5wYXRofSk7Y29uc3Qgcj1zLmNvbnN1bWVkLmxlbmd0aD4wP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxvKSxzLmNvbnN1bWVkW3MuY29uc3VtZWQubGVuZ3RoLTFdLnBhcmFtZXRlcnMpOm87cmV0dXJue21hdGNoZWQ6ITAsY29uc3VtZWRTZWdtZW50czpzLmNvbnN1bWVkLGxhc3RDaGlsZDpzLmNvbnN1bWVkLmxlbmd0aCxwYXJhbWV0ZXJzOnIscG9zaXRpb25hbFBhcmFtU2VnbWVudHM6bnVsbCE9PShpPXMucG9zUGFyYW1zKSYmdm9pZCAwIT09aT9pOnt9fX1mdW5jdGlvbiB6ZyhlLHQsbixpLHM9ImNvcnJlY3RlZCIpe2lmKG4ubGVuZ3RoPjAmJmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbi5zb21lKG49PldnKGUsdCxuKSYmJGcobikhPT12Zil9KGUsbixpKSl7Y29uc3Qgcz1uZXcgVmYodCxmdW5jdGlvbihlLHQsbixpKXtjb25zdCBzPXt9O3MucHJpbWFyeT1pLGkuX3NvdXJjZVNlZ21lbnQ9ZSxpLl9zZWdtZW50SW5kZXhTaGlmdD10Lmxlbmd0aDtmb3IoY29uc3QgbyBvZiBuKWlmKCIiPT09by5wYXRoJiYkZyhvKSE9PXZmKXtjb25zdCBuPW5ldyBWZihbXSx7fSk7bi5fc291cmNlU2VnbWVudD1lLG4uX3NlZ21lbnRJbmRleFNoaWZ0PXQubGVuZ3RoLHNbJGcobyldPW59cmV0dXJuIHN9KGUsdCxpLG5ldyBWZihuLGUuY2hpbGRyZW4pKSk7cmV0dXJuIHMuX3NvdXJjZVNlZ21lbnQ9ZSxzLl9zZWdtZW50SW5kZXhTaGlmdD10Lmxlbmd0aCx7c2VnbWVudEdyb3VwOnMsc2xpY2VkU2VnbWVudHM6W119fWlmKDA9PT1uLmxlbmd0aCYmZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuLnNvbWUobj0+V2coZSx0LG4pKX0oZSxuLGkpKXtjb25zdCBvPW5ldyBWZihlLnNlZ21lbnRzLGZ1bmN0aW9uKGUsdCxuLGkscyxvKXtjb25zdCByPXt9O2Zvcihjb25zdCBhIG9mIGkpaWYoV2coZSxuLGEpJiYhc1skZyhhKV0pe2NvbnN0IG49bmV3IFZmKFtdLHt9KTtuLl9zb3VyY2VTZWdtZW50PWUsbi5fc2VnbWVudEluZGV4U2hpZnQ9ImxlZ2FjeSI9PT1vP2Uuc2VnbWVudHMubGVuZ3RoOnQubGVuZ3RoLHJbJGcoYSldPW59cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxzKSxyKX0oZSx0LG4saSxlLmNoaWxkcmVuLHMpKTtyZXR1cm4gby5fc291cmNlU2VnbWVudD1lLG8uX3NlZ21lbnRJbmRleFNoaWZ0PXQubGVuZ3RoLHtzZWdtZW50R3JvdXA6byxzbGljZWRTZWdtZW50czpufX1jb25zdCBvPW5ldyBWZihlLnNlZ21lbnRzLGUuY2hpbGRyZW4pO3JldHVybiBvLl9zb3VyY2VTZWdtZW50PWUsby5fc2VnbWVudEluZGV4U2hpZnQ9dC5sZW5ndGgse3NlZ21lbnRHcm91cDpvLHNsaWNlZFNlZ21lbnRzOm59fWZ1bmN0aW9uIFdnKGUsdCxuKXtyZXR1cm4oIShlLmhhc0NoaWxkcmVuKCl8fHQubGVuZ3RoPjApfHwiZnVsbCIhPT1uLnBhdGhNYXRjaCkmJiIiPT09bi5wYXRofWZ1bmN0aW9uIEdnKGUsdCxuLGkpe3JldHVybiEhKCRnKGUpPT09aXx8aSE9PXZmJiZXZyh0LG4sZSkpJiYoIioqIj09PWUucGF0aHx8cWcodCxlLG4pLm1hdGNoZWQpfWZ1bmN0aW9uIEtnKGUsdCxuKXtyZXR1cm4gMD09PXQubGVuZ3RoJiYhZS5jaGlsZHJlbltuXX1jbGFzcyBZZ3tjb25zdHJ1Y3RvcihlKXt0aGlzLnNlZ21lbnRHcm91cD1lfHxudWxsfX1jbGFzcyBaZ3tjb25zdHJ1Y3RvcihlKXt0aGlzLnVybFRyZWU9ZX19ZnVuY3Rpb24gUWcoZSl7cmV0dXJuIG5ldyBiKHQ9PnQuZXJyb3IobmV3IFlnKGUpKSl9ZnVuY3Rpb24gSmcoZSl7cmV0dXJuIG5ldyBiKHQ9PnQuZXJyb3IobmV3IFpnKGUpKSl9ZnVuY3Rpb24gWGcoZSl7cmV0dXJuIG5ldyBiKHQ9PnQuZXJyb3IobmV3IEVycm9yKGBPbmx5IGFic29sdXRlIHJlZGlyZWN0cyBjYW4gaGF2ZSBuYW1lZCBvdXRsZXRzLiByZWRpcmVjdFRvOiAnJHtlfSdgKSkpfWNsYXNzIGVte2NvbnN0cnVjdG9yKGUsdCxuLGkscyl7dGhpcy5jb25maWdMb2FkZXI9dCx0aGlzLnVybFNlcmlhbGl6ZXI9bix0aGlzLnVybFRyZWU9aSx0aGlzLmNvbmZpZz1zLHRoaXMuYWxsb3dSZWRpcmVjdHM9ITAsdGhpcy5uZ01vZHVsZT1lLmdldChTbCl9YXBwbHkoKXtjb25zdCBlPXpnKHRoaXMudXJsVHJlZS5yb290LFtdLFtdLHRoaXMuY29uZmlnKS5zZWdtZW50R3JvdXAsdD1uZXcgVmYoZS5zZWdtZW50cyxlLmNoaWxkcmVuKTtyZXR1cm4gdGhpcy5leHBhbmRTZWdtZW50R3JvdXAodGhpcy5uZ01vZHVsZSx0aGlzLmNvbmZpZyx0LHZmKS5waXBlKGsoZT0+dGhpcy5jcmVhdGVVcmxUcmVlKHRtKGUpLHRoaXMudXJsVHJlZS5xdWVyeVBhcmFtcyx0aGlzLnVybFRyZWUuZnJhZ21lbnQpKSkucGlwZShGcChlPT57aWYoZSBpbnN0YW5jZW9mIFpnKXJldHVybiB0aGlzLmFsbG93UmVkaXJlY3RzPSExLHRoaXMubWF0Y2goZS51cmxUcmVlKTtpZihlIGluc3RhbmNlb2YgWWcpdGhyb3cgdGhpcy5ub01hdGNoRXJyb3IoZSk7dGhyb3cgZX0pKX1tYXRjaChlKXtyZXR1cm4gdGhpcy5leHBhbmRTZWdtZW50R3JvdXAodGhpcy5uZ01vZHVsZSx0aGlzLmNvbmZpZyxlLnJvb3QsdmYpLnBpcGUoayh0PT50aGlzLmNyZWF0ZVVybFRyZWUodG0odCksZS5xdWVyeVBhcmFtcyxlLmZyYWdtZW50KSkpLnBpcGUoRnAoZT0+e2lmKGUgaW5zdGFuY2VvZiBZZyl0aHJvdyB0aGlzLm5vTWF0Y2hFcnJvcihlKTt0aHJvdyBlfSkpfW5vTWF0Y2hFcnJvcihlKXtyZXR1cm4gbmV3IEVycm9yKGBDYW5ub3QgbWF0Y2ggYW55IHJvdXRlcy4gVVJMIFNlZ21lbnQ6ICcke2Uuc2VnbWVudEdyb3VwfSdgKX1jcmVhdGVVcmxUcmVlKGUsdCxuKXtjb25zdCBpPWUuc2VnbWVudHMubGVuZ3RoPjA/bmV3IFZmKFtdLHtbdmZdOmV9KTplO3JldHVybiBuZXcgUGYoaSx0LG4pfWV4cGFuZFNlZ21lbnRHcm91cChlLHQsbixpKXtyZXR1cm4gMD09PW4uc2VnbWVudHMubGVuZ3RoJiZuLmhhc0NoaWxkcmVuKCk/dGhpcy5leHBhbmRDaGlsZHJlbihlLHQsbikucGlwZShrKGU9Pm5ldyBWZihbXSxlKSkpOnRoaXMuZXhwYW5kU2VnbWVudChlLG4sdCxuLnNlZ21lbnRzLGksITApfWV4cGFuZENoaWxkcmVuKGUsdCxuKXtjb25zdCBpPVtdO2Zvcihjb25zdCBzIG9mIE9iamVjdC5rZXlzKG4uY2hpbGRyZW4pKSJwcmltYXJ5Ij09PXM/aS51bnNoaWZ0KHMpOmkucHVzaChzKTtyZXR1cm4gTChpKS5waXBlKFBwKGk9Pntjb25zdCBzPW4uY2hpbGRyZW5baV0sbz1IZyh0LGkpO3JldHVybiB0aGlzLmV4cGFuZFNlZ21lbnRHcm91cChlLG8scyxpKS5waXBlKGsoZT0+KHtzZWdtZW50OmUsb3V0bGV0Oml9KSkpfSksRXAoKGUsdCk9PihlW3Qub3V0bGV0XT10LnNlZ21lbnQsZSkse30pLGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1hcmd1bWVudHMubGVuZ3RoPj0yO3JldHVybiBpPT5pLnBpcGUoZT9BcCgodCxuKT0+ZSh0LG4saSkpOnYsVnAoMSksbj9IcCh0KTpqcCgoKT0+bmV3IGJwKSl9KCkpfWV4cGFuZFNlZ21lbnQoZSx0LG4saSxzLG8pe3JldHVybiBMKG4pLnBpcGUoUHAocj0+dGhpcy5leHBhbmRTZWdtZW50QWdhaW5zdFJvdXRlKGUsdCxuLHIsaSxzLG8pLnBpcGUoRnAoZT0+e2lmKGUgaW5zdGFuY2VvZiBZZylyZXR1cm4gQmQobnVsbCk7dGhyb3cgZX0pKSksenAoZT0+ISFlKSxGcCgoZSxuKT0+e2lmKGUgaW5zdGFuY2VvZiBicHx8IkVtcHR5RXJyb3IiPT09ZS5uYW1lKXtpZihLZyh0LGkscykpcmV0dXJuIEJkKG5ldyBWZihbXSx7fSkpO3Rocm93IG5ldyBZZyh0KX10aHJvdyBlfSkpfWV4cGFuZFNlZ21lbnRBZ2FpbnN0Um91dGUoZSx0LG4saSxzLG8scil7cmV0dXJuIEdnKGksdCxzLG8pP3ZvaWQgMD09PWkucmVkaXJlY3RUbz90aGlzLm1hdGNoU2VnbWVudEFnYWluc3RSb3V0ZShlLHQsaSxzLG8pOnImJnRoaXMuYWxsb3dSZWRpcmVjdHM/dGhpcy5leHBhbmRTZWdtZW50QWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdChlLHQsbixpLHMsbyk6UWcodCk6UWcodCl9ZXhwYW5kU2VnbWVudEFnYWluc3RSb3V0ZVVzaW5nUmVkaXJlY3QoZSx0LG4saSxzLG8pe3JldHVybiIqKiI9PT1pLnBhdGg/dGhpcy5leHBhbmRXaWxkQ2FyZFdpdGhQYXJhbXNBZ2FpbnN0Um91dGVVc2luZ1JlZGlyZWN0KGUsbixpLG8pOnRoaXMuZXhwYW5kUmVndWxhclNlZ21lbnRBZ2FpbnN0Um91dGVVc2luZ1JlZGlyZWN0KGUsdCxuLGkscyxvKX1leHBhbmRXaWxkQ2FyZFdpdGhQYXJhbXNBZ2FpbnN0Um91dGVVc2luZ1JlZGlyZWN0KGUsdCxuLGkpe2NvbnN0IHM9dGhpcy5hcHBseVJlZGlyZWN0Q29tbWFuZHMoW10sbi5yZWRpcmVjdFRvLHt9KTtyZXR1cm4gbi5yZWRpcmVjdFRvLnN0YXJ0c1dpdGgoIi8iKT9KZyhzKTp0aGlzLmxpbmVyYWxpemVTZWdtZW50cyhuLHMpLnBpcGUoQihuPT57Y29uc3Qgcz1uZXcgVmYobix7fSk7cmV0dXJuIHRoaXMuZXhwYW5kU2VnbWVudChlLHMsdCxuLGksITEpfSkpfWV4cGFuZFJlZ3VsYXJTZWdtZW50QWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdChlLHQsbixpLHMsbyl7Y29uc3R7bWF0Y2hlZDpyLGNvbnN1bWVkU2VnbWVudHM6YSxsYXN0Q2hpbGQ6bCxwb3NpdGlvbmFsUGFyYW1TZWdtZW50czpjfT1xZyh0LGkscyk7aWYoIXIpcmV0dXJuIFFnKHQpO2NvbnN0IHU9dGhpcy5hcHBseVJlZGlyZWN0Q29tbWFuZHMoYSxpLnJlZGlyZWN0VG8sYyk7cmV0dXJuIGkucmVkaXJlY3RUby5zdGFydHNXaXRoKCIvIik/SmcodSk6dGhpcy5saW5lcmFsaXplU2VnbWVudHMoaSx1KS5waXBlKEIoaT0+dGhpcy5leHBhbmRTZWdtZW50KGUsdCxuLGkuY29uY2F0KHMuc2xpY2UobCkpLG8sITEpKSl9bWF0Y2hTZWdtZW50QWdhaW5zdFJvdXRlKGUsdCxuLGkscyl7aWYoIioqIj09PW4ucGF0aClyZXR1cm4gbi5sb2FkQ2hpbGRyZW4/KG4uX2xvYWRlZENvbmZpZz9CZChuLl9sb2FkZWRDb25maWcpOnRoaXMuY29uZmlnTG9hZGVyLmxvYWQoZS5pbmplY3RvcixuKSkucGlwZShrKGU9PihuLl9sb2FkZWRDb25maWc9ZSxuZXcgVmYoaSx7fSkpKSk6QmQobmV3IFZmKGkse30pKTtjb25zdHttYXRjaGVkOm8sY29uc3VtZWRTZWdtZW50czpyLGxhc3RDaGlsZDphfT1xZyh0LG4saSk7aWYoIW8pcmV0dXJuIFFnKHQpO2NvbnN0IGw9aS5zbGljZShhKTtyZXR1cm4gdGhpcy5nZXRDaGlsZENvbmZpZyhlLG4saSkucGlwZShCKGU9Pntjb25zdCBpPWUubW9kdWxlLG89ZS5yb3V0ZXMse3NlZ21lbnRHcm91cDphLHNsaWNlZFNlZ21lbnRzOmN9PXpnKHQscixsLG8pLHU9bmV3IFZmKGEuc2VnbWVudHMsYS5jaGlsZHJlbik7aWYoMD09PWMubGVuZ3RoJiZ1Lmhhc0NoaWxkcmVuKCkpcmV0dXJuIHRoaXMuZXhwYW5kQ2hpbGRyZW4oaSxvLHUpLnBpcGUoayhlPT5uZXcgVmYocixlKSkpO2lmKDA9PT1vLmxlbmd0aCYmMD09PWMubGVuZ3RoKXJldHVybiBCZChuZXcgVmYocix7fSkpO2NvbnN0IGg9JGcobik9PT1zO3JldHVybiB0aGlzLmV4cGFuZFNlZ21lbnQoaSx1LG8sYyxoP3ZmOnMsITApLnBpcGUoayhlPT5uZXcgVmYoci5jb25jYXQoZS5zZWdtZW50cyksZS5jaGlsZHJlbikpKX0pKX1nZXRDaGlsZENvbmZpZyhlLHQsbil7cmV0dXJuIHQuY2hpbGRyZW4/QmQobmV3IEZnKHQuY2hpbGRyZW4sZSkpOnQubG9hZENoaWxkcmVuP3ZvaWQgMCE9PXQuX2xvYWRlZENvbmZpZz9CZCh0Ll9sb2FkZWRDb25maWcpOnRoaXMucnVuQ2FuTG9hZEd1YXJkcyhlLmluamVjdG9yLHQsbikucGlwZShCKG49Pm4/dGhpcy5jb25maWdMb2FkZXIubG9hZChlLmluamVjdG9yLHQpLnBpcGUoayhlPT4odC5fbG9hZGVkQ29uZmlnPWUsZSkpKTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGIodD0+dC5lcnJvcihDZihgQ2Fubm90IGxvYWQgY2hpbGRyZW4gYmVjYXVzZSB0aGUgZ3VhcmQgb2YgdGhlIHJvdXRlICJwYXRoOiAnJHtlLnBhdGh9JyIgcmV0dXJuZWQgZmFsc2VgKSkpfSh0KSkpOkJkKG5ldyBGZyhbXSxlKSl9cnVuQ2FuTG9hZEd1YXJkcyhlLHQsbil7Y29uc3QgaT10LmNhbkxvYWQ7cmV0dXJuIGkmJjAhPT1pLmxlbmd0aD9CZChpLm1hcChpPT57Y29uc3Qgcz1lLmdldChpKTtsZXQgbztpZihmdW5jdGlvbihlKXtyZXR1cm4gZSYmSWcoZS5jYW5Mb2FkKX0ocykpbz1zLmNhbkxvYWQodCxuKTtlbHNle2lmKCFJZyhzKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgQ2FuTG9hZCBndWFyZCIpO289cyh0LG4pfXJldHVybiB4ZihvKX0pKS5waXBlKFZnKCksR3AoZT0+e2lmKCFNZyhlKSlyZXR1cm47Y29uc3QgdD1DZihgUmVkaXJlY3RpbmcgdG8gIiR7dGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZShlKX0iYCk7dGhyb3cgdC51cmw9ZSx0fSksayhlPT4hMD09PWUpKTpCZCghMCl9bGluZXJhbGl6ZVNlZ21lbnRzKGUsdCl7bGV0IG49W10saT10LnJvb3Q7Zm9yKDs7KXtpZihuPW4uY29uY2F0KGkuc2VnbWVudHMpLDA9PT1pLm51bWJlck9mQ2hpbGRyZW4pcmV0dXJuIEJkKG4pO2lmKGkubnVtYmVyT2ZDaGlsZHJlbj4xfHwhaS5jaGlsZHJlbi5wcmltYXJ5KXJldHVybiBYZyhlLnJlZGlyZWN0VG8pO2k9aS5jaGlsZHJlbi5wcmltYXJ5fX1hcHBseVJlZGlyZWN0Q29tbWFuZHMoZSx0LG4pe3JldHVybiB0aGlzLmFwcGx5UmVkaXJlY3RDcmVhdHJlVXJsVHJlZSh0LHRoaXMudXJsU2VyaWFsaXplci5wYXJzZSh0KSxlLG4pfWFwcGx5UmVkaXJlY3RDcmVhdHJlVXJsVHJlZShlLHQsbixpKXtjb25zdCBzPXRoaXMuY3JlYXRlU2VnbWVudEdyb3VwKGUsdC5yb290LG4saSk7cmV0dXJuIG5ldyBQZihzLHRoaXMuY3JlYXRlUXVlcnlQYXJhbXModC5xdWVyeVBhcmFtcyx0aGlzLnVybFRyZWUucXVlcnlQYXJhbXMpLHQuZnJhZ21lbnQpfWNyZWF0ZVF1ZXJ5UGFyYW1zKGUsdCl7Y29uc3Qgbj17fTtyZXR1cm4ga2YoZSwoZSxpKT0+e2lmKCJzdHJpbmciPT10eXBlb2YgZSYmZS5zdGFydHNXaXRoKCI6Iikpe2NvbnN0IHM9ZS5zdWJzdHJpbmcoMSk7bltpXT10W3NdfWVsc2UgbltpXT1lfSksbn1jcmVhdGVTZWdtZW50R3JvdXAoZSx0LG4saSl7Y29uc3Qgcz10aGlzLmNyZWF0ZVNlZ21lbnRzKGUsdC5zZWdtZW50cyxuLGkpO2xldCBvPXt9O3JldHVybiBrZih0LmNoaWxkcmVuLCh0LHMpPT57b1tzXT10aGlzLmNyZWF0ZVNlZ21lbnRHcm91cChlLHQsbixpKX0pLG5ldyBWZihzLG8pfWNyZWF0ZVNlZ21lbnRzKGUsdCxuLGkpe3JldHVybiB0Lm1hcCh0PT50LnBhdGguc3RhcnRzV2l0aCgiOiIpP3RoaXMuZmluZFBvc1BhcmFtKGUsdCxpKTp0aGlzLmZpbmRPclJldHVybih0LG4pKX1maW5kUG9zUGFyYW0oZSx0LG4pe2NvbnN0IGk9blt0LnBhdGguc3Vic3RyaW5nKDEpXTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZWRpcmVjdCB0byAnJHtlfScuIENhbm5vdCBmaW5kICcke3QucGF0aH0nLmApO3JldHVybiBpfWZpbmRPclJldHVybihlLHQpe2xldCBuPTA7Zm9yKGNvbnN0IGkgb2YgdCl7aWYoaS5wYXRoPT09ZS5wYXRoKXJldHVybiB0LnNwbGljZShuKSxpO24rK31yZXR1cm4gZX19ZnVuY3Rpb24gdG0oZSl7Y29uc3QgdD17fTtmb3IoY29uc3QgbiBvZiBPYmplY3Qua2V5cyhlLmNoaWxkcmVuKSl7Y29uc3QgaT10bShlLmNoaWxkcmVuW25dKTsoaS5zZWdtZW50cy5sZW5ndGg+MHx8aS5oYXNDaGlsZHJlbigpKSYmKHRbbl09aSl9cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKDE9PT1lLm51bWJlck9mQ2hpbGRyZW4mJmUuY2hpbGRyZW4ucHJpbWFyeSl7Y29uc3QgdD1lLmNoaWxkcmVuLnByaW1hcnk7cmV0dXJuIG5ldyBWZihlLnNlZ21lbnRzLmNvbmNhdCh0LnNlZ21lbnRzKSx0LmNoaWxkcmVuKX1yZXR1cm4gZX0obmV3IFZmKGUuc2VnbWVudHMsdCkpfWNsYXNzIG5te2NvbnN0cnVjdG9yKGUpe3RoaXMucGF0aD1lLHRoaXMucm91dGU9dGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGgtMV19fWNsYXNzIGlte2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5jb21wb25lbnQ9ZSx0aGlzLnJvdXRlPXR9fWZ1bmN0aW9uIHNtKGUsdCxuKXtjb25zdCBpPWUuX3Jvb3Q7cmV0dXJuIHJtKGksdD90Ll9yb290Om51bGwsbixbaS52YWx1ZV0pfWZ1bmN0aW9uIG9tKGUsdCxuKXtjb25zdCBpPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiBudWxsO2ZvcihsZXQgdD1lLnBhcmVudDt0O3Q9dC5wYXJlbnQpe2NvbnN0IGU9dC5yb3V0ZUNvbmZpZztpZihlJiZlLl9sb2FkZWRDb25maWcpcmV0dXJuIGUuX2xvYWRlZENvbmZpZ31yZXR1cm4gbnVsbH0odCk7cmV0dXJuKGk/aS5tb2R1bGUuaW5qZWN0b3I6bikuZ2V0KGUpfWZ1bmN0aW9uIHJtKGUsdCxuLGkscz17Y2FuRGVhY3RpdmF0ZUNoZWNrczpbXSxjYW5BY3RpdmF0ZUNoZWNrczpbXX0pe2NvbnN0IG89c2codCk7cmV0dXJuIGUuY2hpbGRyZW4uZm9yRWFjaChlPT57IWZ1bmN0aW9uKGUsdCxuLGkscz17Y2FuRGVhY3RpdmF0ZUNoZWNrczpbXSxjYW5BY3RpdmF0ZUNoZWNrczpbXX0pe2NvbnN0IG89ZS52YWx1ZSxyPXQ/dC52YWx1ZTpudWxsLGE9bj9uLmdldENvbnRleHQoZS52YWx1ZS5vdXRsZXQpOm51bGw7aWYociYmby5yb3V0ZUNvbmZpZz09PXIucm91dGVDb25maWcpe2NvbnN0IGw9ZnVuY3Rpb24oZSx0LG4pe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuKXJldHVybiBuKGUsdCk7c3dpdGNoKG4pe2Nhc2UicGF0aFBhcmFtc0NoYW5nZSI6cmV0dXJuIVJmKGUudXJsLHQudXJsKTtjYXNlInBhdGhQYXJhbXNPclF1ZXJ5UGFyYW1zQ2hhbmdlIjpyZXR1cm4hUmYoZS51cmwsdC51cmwpfHwhX2YoZS5xdWVyeVBhcmFtcyx0LnF1ZXJ5UGFyYW1zKTtjYXNlImFsd2F5cyI6cmV0dXJuITA7Y2FzZSJwYXJhbXNPclF1ZXJ5UGFyYW1zQ2hhbmdlIjpyZXR1cm4hZmcoZSx0KXx8IV9mKGUucXVlcnlQYXJhbXMsdC5xdWVyeVBhcmFtcyk7Y2FzZSJwYXJhbXNDaGFuZ2UiOmRlZmF1bHQ6cmV0dXJuIWZnKGUsdCl9fShyLG8sby5yb3V0ZUNvbmZpZy5ydW5HdWFyZHNBbmRSZXNvbHZlcnMpO2w/cy5jYW5BY3RpdmF0ZUNoZWNrcy5wdXNoKG5ldyBubShpKSk6KG8uZGF0YT1yLmRhdGEsby5fcmVzb2x2ZWREYXRhPXIuX3Jlc29sdmVkRGF0YSkscm0oZSx0LG8uY29tcG9uZW50P2E/YS5jaGlsZHJlbjpudWxsOm4saSxzKSxsJiZhJiZhLm91dGxldCYmYS5vdXRsZXQuaXNBY3RpdmF0ZWQmJnMuY2FuRGVhY3RpdmF0ZUNoZWNrcy5wdXNoKG5ldyBpbShhLm91dGxldC5jb21wb25lbnQscikpfWVsc2UgciYmYW0odCxhLHMpLHMuY2FuQWN0aXZhdGVDaGVja3MucHVzaChuZXcgbm0oaSkpLHJtKGUsbnVsbCxvLmNvbXBvbmVudD9hP2EuY2hpbGRyZW46bnVsbDpuLGkscyl9KGUsb1tlLnZhbHVlLm91dGxldF0sbixpLmNvbmNhdChbZS52YWx1ZV0pLHMpLGRlbGV0ZSBvW2UudmFsdWUub3V0bGV0XX0pLGtmKG8sKGUsdCk9PmFtKGUsbi5nZXRDb250ZXh0KHQpLHMpKSxzfWZ1bmN0aW9uIGFtKGUsdCxuKXtjb25zdCBpPXNnKGUpLHM9ZS52YWx1ZTtrZihpLChlLGkpPT57YW0oZSxzLmNvbXBvbmVudD90P3QuY2hpbGRyZW4uZ2V0Q29udGV4dChpKTpudWxsOnQsbil9KSxuLmNhbkRlYWN0aXZhdGVDaGVja3MucHVzaChuZXcgaW0ocy5jb21wb25lbnQmJnQmJnQub3V0bGV0JiZ0Lm91dGxldC5pc0FjdGl2YXRlZD90Lm91dGxldC5jb21wb25lbnQ6bnVsbCxzKSl9Y2xhc3MgbG17fWZ1bmN0aW9uIGNtKGUpe3JldHVybiBuZXcgYih0PT50LmVycm9yKGUpKX1jbGFzcyB1bXtjb25zdHJ1Y3RvcihlLHQsbixpLHMsbyl7dGhpcy5yb290Q29tcG9uZW50VHlwZT1lLHRoaXMuY29uZmlnPXQsdGhpcy51cmxUcmVlPW4sdGhpcy51cmw9aSx0aGlzLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3k9cyx0aGlzLnJlbGF0aXZlTGlua1Jlc29sdXRpb249b31yZWNvZ25pemUoKXtjb25zdCBlPXpnKHRoaXMudXJsVHJlZS5yb290LFtdLFtdLHRoaXMuY29uZmlnLmZpbHRlcihlPT52b2lkIDA9PT1lLnJlZGlyZWN0VG8pLHRoaXMucmVsYXRpdmVMaW5rUmVzb2x1dGlvbikuc2VnbWVudEdyb3VwLHQ9dGhpcy5wcm9jZXNzU2VnbWVudEdyb3VwKHRoaXMuY29uZmlnLGUsdmYpO2lmKG51bGw9PT10KXJldHVybiBudWxsO2NvbnN0IG49bmV3IGNnKFtdLE9iamVjdC5mcmVlemUoe30pLE9iamVjdC5mcmVlemUoT2JqZWN0LmFzc2lnbih7fSx0aGlzLnVybFRyZWUucXVlcnlQYXJhbXMpKSx0aGlzLnVybFRyZWUuZnJhZ21lbnQse30sdmYsdGhpcy5yb290Q29tcG9uZW50VHlwZSxudWxsLHRoaXMudXJsVHJlZS5yb290LC0xLHt9KSxpPW5ldyBpZyhuLHQpLHM9bmV3IHVnKHRoaXMudXJsLGkpO3JldHVybiB0aGlzLmluaGVyaXRQYXJhbXNBbmREYXRhKHMuX3Jvb3QpLHN9aW5oZXJpdFBhcmFtc0FuZERhdGEoZSl7Y29uc3QgdD1lLnZhbHVlLG49bGcodCx0aGlzLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3kpO3QucGFyYW1zPU9iamVjdC5mcmVlemUobi5wYXJhbXMpLHQuZGF0YT1PYmplY3QuZnJlZXplKG4uZGF0YSksZS5jaGlsZHJlbi5mb3JFYWNoKGU9PnRoaXMuaW5oZXJpdFBhcmFtc0FuZERhdGEoZSkpfXByb2Nlc3NTZWdtZW50R3JvdXAoZSx0LG4pe3JldHVybiAwPT09dC5zZWdtZW50cy5sZW5ndGgmJnQuaGFzQ2hpbGRyZW4oKT90aGlzLnByb2Nlc3NDaGlsZHJlbihlLHQpOnRoaXMucHJvY2Vzc1NlZ21lbnQoZSx0LHQuc2VnbWVudHMsbil9cHJvY2Vzc0NoaWxkcmVuKGUsdCl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgcyBvZiBPYmplY3Qua2V5cyh0LmNoaWxkcmVuKSl7Y29uc3QgaT10LmNoaWxkcmVuW3NdLG89SGcoZSxzKSxyPXRoaXMucHJvY2Vzc1NlZ21lbnRHcm91cChvLGkscyk7aWYobnVsbD09PXIpcmV0dXJuIG51bGw7bi5wdXNoKC4uLnIpfWNvbnN0IGk9ZG0obik7cmV0dXJuIGkuc29ydCgoZSx0KT0+ZS52YWx1ZS5vdXRsZXQ9PT12Zj8tMTp0LnZhbHVlLm91dGxldD09PXZmPzE6ZS52YWx1ZS5vdXRsZXQubG9jYWxlQ29tcGFyZSh0LnZhbHVlLm91dGxldCkpLGl9cHJvY2Vzc1NlZ21lbnQoZSx0LG4saSl7Zm9yKGNvbnN0IHMgb2YgZSl7Y29uc3QgZT10aGlzLnByb2Nlc3NTZWdtZW50QWdhaW5zdFJvdXRlKHMsdCxuLGkpO2lmKG51bGwhPT1lKXJldHVybiBlfXJldHVybiBLZyh0LG4saSk/W106bnVsbH1wcm9jZXNzU2VnbWVudEFnYWluc3RSb3V0ZShlLHQsbixpKXtpZihlLnJlZGlyZWN0VG98fCFHZyhlLHQsbixpKSlyZXR1cm4gbnVsbDtsZXQgcyxvPVtdLHI9W107aWYoIioqIj09PWUucGF0aCl7Y29uc3QgaT1uLmxlbmd0aD4wP0VmKG4pLnBhcmFtZXRlcnM6e307cz1uZXcgY2cobixpLE9iamVjdC5mcmVlemUoT2JqZWN0LmFzc2lnbih7fSx0aGlzLnVybFRyZWUucXVlcnlQYXJhbXMpKSx0aGlzLnVybFRyZWUuZnJhZ21lbnQsZ20oZSksJGcoZSksZS5jb21wb25lbnQsZSxwbSh0KSxmbSh0KStuLmxlbmd0aCxtbShlKSl9ZWxzZXtjb25zdCBpPXFnKHQsZSxuKTtpZighaS5tYXRjaGVkKXJldHVybiBudWxsO289aS5jb25zdW1lZFNlZ21lbnRzLHI9bi5zbGljZShpLmxhc3RDaGlsZCkscz1uZXcgY2cobyxpLnBhcmFtZXRlcnMsT2JqZWN0LmZyZWV6ZShPYmplY3QuYXNzaWduKHt9LHRoaXMudXJsVHJlZS5xdWVyeVBhcmFtcykpLHRoaXMudXJsVHJlZS5mcmFnbWVudCxnbShlKSwkZyhlKSxlLmNvbXBvbmVudCxlLHBtKHQpLGZtKHQpK28ubGVuZ3RoLG1tKGUpKX1jb25zdCBhPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNoaWxkcmVuP2UuY2hpbGRyZW46ZS5sb2FkQ2hpbGRyZW4/ZS5fbG9hZGVkQ29uZmlnLnJvdXRlczpbXX0oZSkse3NlZ21lbnRHcm91cDpsLHNsaWNlZFNlZ21lbnRzOmN9PXpnKHQsbyxyLGEuZmlsdGVyKGU9PnZvaWQgMD09PWUucmVkaXJlY3RUbyksdGhpcy5yZWxhdGl2ZUxpbmtSZXNvbHV0aW9uKTtpZigwPT09Yy5sZW5ndGgmJmwuaGFzQ2hpbGRyZW4oKSl7Y29uc3QgZT10aGlzLnByb2Nlc3NDaGlsZHJlbihhLGwpO3JldHVybiBudWxsPT09ZT9udWxsOltuZXcgaWcocyxlKV19aWYoMD09PWEubGVuZ3RoJiYwPT09Yy5sZW5ndGgpcmV0dXJuW25ldyBpZyhzLFtdKV07Y29uc3QgdT0kZyhlKT09PWksaD10aGlzLnByb2Nlc3NTZWdtZW50KGEsbCxjLHU/dmY6aSk7cmV0dXJuIG51bGw9PT1oP251bGw6W25ldyBpZyhzLGgpXX19ZnVuY3Rpb24gaG0oZSl7Y29uc3QgdD1lLnZhbHVlLnJvdXRlQ29uZmlnO3JldHVybiB0JiYiIj09PXQucGF0aCYmdm9pZCAwPT09dC5yZWRpcmVjdFRvfWZ1bmN0aW9uIGRtKGUpe2NvbnN0IHQ9W10sbj1uZXcgU2V0O2Zvcihjb25zdCBpIG9mIGUpe2lmKCFobShpKSl7dC5wdXNoKGkpO2NvbnRpbnVlfWNvbnN0IGU9dC5maW5kKGU9PmkudmFsdWUucm91dGVDb25maWc9PT1lLnZhbHVlLnJvdXRlQ29uZmlnKTt2b2lkIDAhPT1lPyhlLmNoaWxkcmVuLnB1c2goLi4uaS5jaGlsZHJlbiksbi5hZGQoZSkpOnQucHVzaChpKX1mb3IoY29uc3QgaSBvZiBuKXtjb25zdCBlPWRtKGkuY2hpbGRyZW4pO3QucHVzaChuZXcgaWcoaS52YWx1ZSxlKSl9cmV0dXJuIHQuZmlsdGVyKGU9PiFuLmhhcyhlKSl9ZnVuY3Rpb24gcG0oZSl7bGV0IHQ9ZTtmb3IoO3QuX3NvdXJjZVNlZ21lbnQ7KXQ9dC5fc291cmNlU2VnbWVudDtyZXR1cm4gdH1mdW5jdGlvbiBmbShlKXtsZXQgdD1lLG49dC5fc2VnbWVudEluZGV4U2hpZnQ/dC5fc2VnbWVudEluZGV4U2hpZnQ6MDtmb3IoO3QuX3NvdXJjZVNlZ21lbnQ7KXQ9dC5fc291cmNlU2VnbWVudCxuKz10Ll9zZWdtZW50SW5kZXhTaGlmdD90Ll9zZWdtZW50SW5kZXhTaGlmdDowO3JldHVybiBuLTF9ZnVuY3Rpb24gZ20oZSl7cmV0dXJuIGUuZGF0YXx8e319ZnVuY3Rpb24gbW0oZSl7cmV0dXJuIGUucmVzb2x2ZXx8e319ZnVuY3Rpb24gdm0oZSl7cmV0dXJuIEtkKHQ9Pntjb25zdCBuPWUodCk7cmV0dXJuIG4/TChuKS5waXBlKGsoKCk9PnQpKTpCZCh0KX0pfWNsYXNzIGJtIGV4dGVuZHMgY2xhc3N7c2hvdWxkRGV0YWNoKGUpe3JldHVybiExfXN0b3JlKGUsdCl7fXNob3VsZEF0dGFjaChlKXtyZXR1cm4hMX1yZXRyaWV2ZShlKXtyZXR1cm4gbnVsbH1zaG91bGRSZXVzZVJvdXRlKGUsdCl7cmV0dXJuIGUucm91dGVDb25maWc9PT10LnJvdXRlQ29uZmlnfX17fWNvbnN0IHltPW5ldyB6bigiUk9VVEVTIik7Y2xhc3MgQ217Y29uc3RydWN0b3IoZSx0LG4saSl7dGhpcy5sb2FkZXI9ZSx0aGlzLmNvbXBpbGVyPXQsdGhpcy5vbkxvYWRTdGFydExpc3RlbmVyPW4sdGhpcy5vbkxvYWRFbmRMaXN0ZW5lcj1pfWxvYWQoZSx0KXtpZih0Ll9sb2FkZXIkKXJldHVybiB0Ll9sb2FkZXIkO3RoaXMub25Mb2FkU3RhcnRMaXN0ZW5lciYmdGhpcy5vbkxvYWRTdGFydExpc3RlbmVyKHQpO2NvbnN0IG49dGhpcy5sb2FkTW9kdWxlRmFjdG9yeSh0LmxvYWRDaGlsZHJlbikucGlwZShrKG49Pnt0aGlzLm9uTG9hZEVuZExpc3RlbmVyJiZ0aGlzLm9uTG9hZEVuZExpc3RlbmVyKHQpO2NvbnN0IGk9bi5jcmVhdGUoZSk7cmV0dXJuIG5ldyBGZyhTZihpLmluamVjdG9yLmdldCh5bSx2b2lkIDAsQ2UuU2VsZnxDZS5PcHRpb25hbCkpLm1hcChCZyksaSl9KSxGcChlPT57dGhyb3cgdC5fbG9hZGVyJD12b2lkIDAsZX0pKTtyZXR1cm4gdC5fbG9hZGVyJD1uZXcgWShuLCgpPT5uZXcgRCkucGlwZShXKCkpLHQuX2xvYWRlciR9bG9hZE1vZHVsZUZhY3RvcnkoZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP0wodGhpcy5sb2FkZXIubG9hZChlKSk6eGYoZSgpKS5waXBlKEIoZT0+ZSBpbnN0YW5jZW9mIEVsP0JkKGUpOkwodGhpcy5jb21waWxlci5jb21waWxlTW9kdWxlQXN5bmMoZSkpKSl9fWNsYXNzIHdte2NvbnN0cnVjdG9yKCl7dGhpcy5vdXRsZXQ9bnVsbCx0aGlzLnJvdXRlPW51bGwsdGhpcy5yZXNvbHZlcj1udWxsLHRoaXMuY2hpbGRyZW49bmV3IF9tLHRoaXMuYXR0YWNoUmVmPW51bGx9fWNsYXNzIF9te2NvbnN0cnVjdG9yKCl7dGhpcy5jb250ZXh0cz1uZXcgTWFwfW9uQ2hpbGRPdXRsZXRDcmVhdGVkKGUsdCl7Y29uc3Qgbj10aGlzLmdldE9yQ3JlYXRlQ29udGV4dChlKTtuLm91dGxldD10LHRoaXMuY29udGV4dHMuc2V0KGUsbil9b25DaGlsZE91dGxldERlc3Ryb3llZChlKXtjb25zdCB0PXRoaXMuZ2V0Q29udGV4dChlKTt0JiYodC5vdXRsZXQ9bnVsbCl9b25PdXRsZXREZWFjdGl2YXRlZCgpe2NvbnN0IGU9dGhpcy5jb250ZXh0cztyZXR1cm4gdGhpcy5jb250ZXh0cz1uZXcgTWFwLGV9b25PdXRsZXRSZUF0dGFjaGVkKGUpe3RoaXMuY29udGV4dHM9ZX1nZXRPckNyZWF0ZUNvbnRleHQoZSl7bGV0IHQ9dGhpcy5nZXRDb250ZXh0KGUpO3JldHVybiB0fHwodD1uZXcgd20sdGhpcy5jb250ZXh0cy5zZXQoZSx0KSksdH1nZXRDb250ZXh0KGUpe3JldHVybiB0aGlzLmNvbnRleHRzLmdldChlKXx8bnVsbH19Y2xhc3MgRG17c2hvdWxkUHJvY2Vzc1VybChlKXtyZXR1cm4hMH1leHRyYWN0KGUpe3JldHVybiBlfW1lcmdlKGUsdCl7cmV0dXJuIGV9fWZ1bmN0aW9uIFNtKGUpe3Rocm93IGV9ZnVuY3Rpb24gRW0oZSx0LG4pe3JldHVybiB0LnBhcnNlKCIvIil9ZnVuY3Rpb24ga20oZSx0KXtyZXR1cm4gQmQobnVsbCl9Y29uc3QgeG09e3BhdGhzOiJleGFjdCIsZnJhZ21lbnQ6Imlnbm9yZWQiLG1hdHJpeFBhcmFtczoiaWdub3JlZCIscXVlcnlQYXJhbXM6ImV4YWN0In0sQW09e3BhdGhzOiJzdWJzZXQiLGZyYWdtZW50OiJpZ25vcmVkIixtYXRyaXhQYXJhbXM6Imlnbm9yZWQiLHF1ZXJ5UGFyYW1zOiJzdWJzZXQifTtsZXQgT209KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlLHQsbixpLHMsbyxyLGEpe3RoaXMucm9vdENvbXBvbmVudFR5cGU9ZSx0aGlzLnVybFNlcmlhbGl6ZXI9dCx0aGlzLnJvb3RDb250ZXh0cz1uLHRoaXMubG9jYXRpb249aSx0aGlzLmNvbmZpZz1hLHRoaXMubGFzdFN1Y2Nlc3NmdWxOYXZpZ2F0aW9uPW51bGwsdGhpcy5jdXJyZW50TmF2aWdhdGlvbj1udWxsLHRoaXMuZGlzcG9zZWQ9ITEsdGhpcy5sYXN0TG9jYXRpb25DaGFuZ2VJbmZvPW51bGwsdGhpcy5uYXZpZ2F0aW9uSWQ9MCx0aGlzLmlzTmdab25lRW5hYmxlZD0hMSx0aGlzLmV2ZW50cz1uZXcgRCx0aGlzLmVycm9ySGFuZGxlcj1TbSx0aGlzLm1hbGZvcm1lZFVyaUVycm9ySGFuZGxlcj1FbSx0aGlzLm5hdmlnYXRlZD0hMSx0aGlzLmxhc3RTdWNjZXNzZnVsSWQ9LTEsdGhpcy5ob29rcz17YmVmb3JlUHJlYWN0aXZhdGlvbjprbSxhZnRlclByZWFjdGl2YXRpb246a219LHRoaXMudXJsSGFuZGxpbmdTdHJhdGVneT1uZXcgRG0sdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3k9bmV3IGJtLHRoaXMub25TYW1lVXJsTmF2aWdhdGlvbj0iaWdub3JlIix0aGlzLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3k9ImVtcHR5T25seSIsdGhpcy51cmxVcGRhdGVTdHJhdGVneT0iZGVmZXJyZWQiLHRoaXMucmVsYXRpdmVMaW5rUmVzb2x1dGlvbj0iY29ycmVjdGVkIix0aGlzLm5nTW9kdWxlPXMuZ2V0KFNsKSx0aGlzLmNvbnNvbGU9cy5nZXQoQWMpO2NvbnN0IGw9cy5nZXQoJGMpO3RoaXMuaXNOZ1pvbmVFbmFibGVkPWwgaW5zdGFuY2VvZiAkYyYmJGMuaXNJbkFuZ3VsYXJab25lKCksdGhpcy5yZXNldENvbmZpZyhhKSx0aGlzLmN1cnJlbnRVcmxUcmVlPW5ldyBQZihuZXcgVmYoW10se30pLHt9LG51bGwpLHRoaXMucmF3VXJsVHJlZT10aGlzLmN1cnJlbnRVcmxUcmVlLHRoaXMuYnJvd3NlclVybFRyZWU9dGhpcy5jdXJyZW50VXJsVHJlZSx0aGlzLmNvbmZpZ0xvYWRlcj1uZXcgQ20obyxyLGU9PnRoaXMudHJpZ2dlckV2ZW50KG5ldyB1ZihlKSksZT0+dGhpcy50cmlnZ2VyRXZlbnQobmV3IGhmKGUpKSksdGhpcy5yb3V0ZXJTdGF0ZT1yZyh0aGlzLmN1cnJlbnRVcmxUcmVlLHRoaXMucm9vdENvbXBvbmVudFR5cGUpLHRoaXMudHJhbnNpdGlvbnM9bmV3IGhwKHtpZDowLGN1cnJlbnRVcmxUcmVlOnRoaXMuY3VycmVudFVybFRyZWUsY3VycmVudFJhd1VybDp0aGlzLmN1cnJlbnRVcmxUcmVlLGV4dHJhY3RlZFVybDp0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuZXh0cmFjdCh0aGlzLmN1cnJlbnRVcmxUcmVlKSx1cmxBZnRlclJlZGlyZWN0czp0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuZXh0cmFjdCh0aGlzLmN1cnJlbnRVcmxUcmVlKSxyYXdVcmw6dGhpcy5jdXJyZW50VXJsVHJlZSxleHRyYXM6e30scmVzb2x2ZTpudWxsLHJlamVjdDpudWxsLHByb21pc2U6UHJvbWlzZS5yZXNvbHZlKCEwKSxzb3VyY2U6ImltcGVyYXRpdmUiLHJlc3RvcmVkU3RhdGU6bnVsbCxjdXJyZW50U25hcHNob3Q6dGhpcy5yb3V0ZXJTdGF0ZS5zbmFwc2hvdCx0YXJnZXRTbmFwc2hvdDpudWxsLGN1cnJlbnRSb3V0ZXJTdGF0ZTp0aGlzLnJvdXRlclN0YXRlLHRhcmdldFJvdXRlclN0YXRlOm51bGwsZ3VhcmRzOntjYW5BY3RpdmF0ZUNoZWNrczpbXSxjYW5EZWFjdGl2YXRlQ2hlY2tzOltdfSxndWFyZHNSZXN1bHQ6bnVsbH0pLHRoaXMubmF2aWdhdGlvbnM9dGhpcy5zZXR1cE5hdmlnYXRpb25zKHRoaXMudHJhbnNpdGlvbnMpLHRoaXMucHJvY2Vzc05hdmlnYXRpb25zKCl9c2V0dXBOYXZpZ2F0aW9ucyhlKXtjb25zdCB0PXRoaXMuZXZlbnRzO3JldHVybiBlLnBpcGUoQXAoZT0+MCE9PWUuaWQpLGsoZT0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtleHRyYWN0ZWRVcmw6dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5LmV4dHJhY3QoZS5yYXdVcmwpfSkpLEtkKGU9PntsZXQgbj0hMSxpPSExO3JldHVybiBCZChlKS5waXBlKEdwKGU9Pnt0aGlzLmN1cnJlbnROYXZpZ2F0aW9uPXtpZDplLmlkLGluaXRpYWxVcmw6ZS5jdXJyZW50UmF3VXJsLGV4dHJhY3RlZFVybDplLmV4dHJhY3RlZFVybCx0cmlnZ2VyOmUuc291cmNlLGV4dHJhczplLmV4dHJhcyxwcmV2aW91c05hdmlnYXRpb246dGhpcy5sYXN0U3VjY2Vzc2Z1bE5hdmlnYXRpb24/T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMubGFzdFN1Y2Nlc3NmdWxOYXZpZ2F0aW9uKSx7cHJldmlvdXNOYXZpZ2F0aW9uOm51bGx9KTpudWxsfX0pLEtkKGU9Pntjb25zdCBuPSF0aGlzLm5hdmlnYXRlZHx8ZS5leHRyYWN0ZWRVcmwudG9TdHJpbmcoKSE9PXRoaXMuYnJvd3NlclVybFRyZWUudG9TdHJpbmcoKTtpZigoInJlbG9hZCI9PT10aGlzLm9uU2FtZVVybE5hdmlnYXRpb258fG4pJiZ0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuc2hvdWxkUHJvY2Vzc1VybChlLnJhd1VybCkpcmV0dXJuIEJkKGUpLnBpcGUoS2QoZT0+e2NvbnN0IG49dGhpcy50cmFuc2l0aW9ucy5nZXRWYWx1ZSgpO3JldHVybiB0Lm5leHQobmV3IGVmKGUuaWQsdGhpcy5zZXJpYWxpemVVcmwoZS5leHRyYWN0ZWRVcmwpLGUuc291cmNlLGUucmVzdG9yZWRTdGF0ZSkpLG4hPT10aGlzLnRyYW5zaXRpb25zLmdldFZhbHVlKCk/amQ6UHJvbWlzZS5yZXNvbHZlKGUpfSksZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIEtkKHM9PmZ1bmN0aW9uKGUsdCxuLGkscyl7cmV0dXJuIG5ldyBlbShlLHQsbixpLHMpLmFwcGx5KCl9KGUsdCxuLHMuZXh0cmFjdGVkVXJsLGkpLnBpcGUoayhlPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scykse3VybEFmdGVyUmVkaXJlY3RzOmV9KSkpKX0odGhpcy5uZ01vZHVsZS5pbmplY3Rvcix0aGlzLmNvbmZpZ0xvYWRlcix0aGlzLnVybFNlcmlhbGl6ZXIsdGhpcy5jb25maWcpLEdwKGU9Pnt0aGlzLmN1cnJlbnROYXZpZ2F0aW9uPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLmN1cnJlbnROYXZpZ2F0aW9uKSx7ZmluYWxVcmw6ZS51cmxBZnRlclJlZGlyZWN0c30pfSksZnVuY3Rpb24oZSx0LG4saSxzKXtyZXR1cm4gQihvPT5mdW5jdGlvbihlLHQsbixpLHM9ImVtcHR5T25seSIsbz0ibGVnYWN5Iil7dHJ5e2NvbnN0IHI9bmV3IHVtKGUsdCxuLGkscyxvKS5yZWNvZ25pemUoKTtyZXR1cm4gbnVsbD09PXI/Y20obmV3IGxtKTpCZChyKX1jYXRjaChyKXtyZXR1cm4gY20ocil9fShlLHQsby51cmxBZnRlclJlZGlyZWN0cyxuKG8udXJsQWZ0ZXJSZWRpcmVjdHMpLGkscykucGlwZShrKGU9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxvKSx7dGFyZ2V0U25hcHNob3Q6ZX0pKSkpfSh0aGlzLnJvb3RDb21wb25lbnRUeXBlLHRoaXMuY29uZmlnLGU9PnRoaXMuc2VyaWFsaXplVXJsKGUpLHRoaXMucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneSx0aGlzLnJlbGF0aXZlTGlua1Jlc29sdXRpb24pLEdwKGU9PnsiZWFnZXIiPT09dGhpcy51cmxVcGRhdGVTdHJhdGVneSYmKGUuZXh0cmFzLnNraXBMb2NhdGlvbkNoYW5nZXx8dGhpcy5zZXRCcm93c2VyVXJsKGUudXJsQWZ0ZXJSZWRpcmVjdHMsISFlLmV4dHJhcy5yZXBsYWNlVXJsLGUuaWQsZS5leHRyYXMuc3RhdGUpLHRoaXMuYnJvd3NlclVybFRyZWU9ZS51cmxBZnRlclJlZGlyZWN0cyk7Y29uc3Qgbj1uZXcgb2YoZS5pZCx0aGlzLnNlcmlhbGl6ZVVybChlLmV4dHJhY3RlZFVybCksdGhpcy5zZXJpYWxpemVVcmwoZS51cmxBZnRlclJlZGlyZWN0cyksZS50YXJnZXRTbmFwc2hvdCk7dC5uZXh0KG4pfSkpO2lmKG4mJnRoaXMucmF3VXJsVHJlZSYmdGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5LnNob3VsZFByb2Nlc3NVcmwodGhpcy5yYXdVcmxUcmVlKSl7Y29uc3R7aWQ6bixleHRyYWN0ZWRVcmw6aSxzb3VyY2U6cyxyZXN0b3JlZFN0YXRlOm8sZXh0cmFzOnJ9PWUsYT1uZXcgZWYobix0aGlzLnNlcmlhbGl6ZVVybChpKSxzLG8pO3QubmV4dChhKTtjb25zdCBsPXJnKGksdGhpcy5yb290Q29tcG9uZW50VHlwZSkuc25hcHNob3Q7cmV0dXJuIEJkKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7dGFyZ2V0U25hcHNob3Q6bCx1cmxBZnRlclJlZGlyZWN0czppLGV4dHJhczpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3NraXBMb2NhdGlvbkNoYW5nZTohMSxyZXBsYWNlVXJsOiExfSl9KSl9cmV0dXJuIHRoaXMucmF3VXJsVHJlZT1lLnJhd1VybCx0aGlzLmJyb3dzZXJVcmxUcmVlPWUudXJsQWZ0ZXJSZWRpcmVjdHMsZS5yZXNvbHZlKG51bGwpLGpkfSksdm0oZT0+e2NvbnN0e3RhcmdldFNuYXBzaG90OnQsaWQ6bixleHRyYWN0ZWRVcmw6aSxyYXdVcmw6cyxleHRyYXM6e3NraXBMb2NhdGlvbkNoYW5nZTpvLHJlcGxhY2VVcmw6cn19PWU7cmV0dXJuIHRoaXMuaG9va3MuYmVmb3JlUHJlYWN0aXZhdGlvbih0LHtuYXZpZ2F0aW9uSWQ6bixhcHBsaWVkVXJsVHJlZTppLHJhd1VybFRyZWU6cyxza2lwTG9jYXRpb25DaGFuZ2U6ISFvLHJlcGxhY2VVcmw6ISFyfSl9KSxHcChlPT57Y29uc3QgdD1uZXcgcmYoZS5pZCx0aGlzLnNlcmlhbGl6ZVVybChlLmV4dHJhY3RlZFVybCksdGhpcy5zZXJpYWxpemVVcmwoZS51cmxBZnRlclJlZGlyZWN0cyksZS50YXJnZXRTbmFwc2hvdCk7dGhpcy50cmlnZ2VyRXZlbnQodCl9KSxrKGU9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7Z3VhcmRzOnNtKGUudGFyZ2V0U25hcHNob3QsZS5jdXJyZW50U25hcHNob3QsdGhpcy5yb290Q29udGV4dHMpfSkpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEIobj0+e2NvbnN0e3RhcmdldFNuYXBzaG90OmksY3VycmVudFNuYXBzaG90OnMsZ3VhcmRzOntjYW5BY3RpdmF0ZUNoZWNrczpvLGNhbkRlYWN0aXZhdGVDaGVja3M6cn19PW47cmV0dXJuIDA9PT1yLmxlbmd0aCYmMD09PW8ubGVuZ3RoP0JkKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7Z3VhcmRzUmVzdWx0OiEwfSkpOmZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBMKGUpLnBpcGUoQihlPT5mdW5jdGlvbihlLHQsbixpLHMpe2NvbnN0IG89dCYmdC5yb3V0ZUNvbmZpZz90LnJvdXRlQ29uZmlnLmNhbkRlYWN0aXZhdGU6bnVsbDtyZXR1cm4gbyYmMCE9PW8ubGVuZ3RoP0JkKG8ubWFwKG89Pntjb25zdCByPW9tKG8sdCxzKTtsZXQgYTtpZihmdW5jdGlvbihlKXtyZXR1cm4gZSYmSWcoZS5jYW5EZWFjdGl2YXRlKX0ocikpYT14ZihyLmNhbkRlYWN0aXZhdGUoZSx0LG4saSkpO2Vsc2V7aWYoIUlnKHIpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBDYW5EZWFjdGl2YXRlIGd1YXJkIik7YT14ZihyKGUsdCxuLGkpKX1yZXR1cm4gYS5waXBlKHpwKCkpfSkpLnBpcGUoVmcoKSk6QmQoITApfShlLmNvbXBvbmVudCxlLnJvdXRlLG4sdCxpKSksenAoZT0+ITAhPT1lLCEwKSl9KHIsaSxzLGUpLnBpcGUoQihuPT5uJiYiYm9vbGVhbiI9PXR5cGVvZiBuP2Z1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBMKHQpLnBpcGUoUHAodD0+eXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbCE9PWUmJnQmJnQobmV3IGRmKGUpKSxCZCghMCl9KHQucm91dGUucGFyZW50LGkpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGwhPT1lJiZ0JiZ0KG5ldyBmZihlKSksQmQoITApfSh0LnJvdXRlLGkpLGZ1bmN0aW9uKGUsdCxuKXtjb25zdCBpPXRbdC5sZW5ndGgtMV0scz10LnNsaWNlKDAsdC5sZW5ndGgtMSkucmV2ZXJzZSgpLm1hcChlPT5mdW5jdGlvbihlKXtjb25zdCB0PWUucm91dGVDb25maWc/ZS5yb3V0ZUNvbmZpZy5jYW5BY3RpdmF0ZUNoaWxkOm51bGw7cmV0dXJuIHQmJjAhPT10Lmxlbmd0aD97bm9kZTplLGd1YXJkczp0fTpudWxsfShlKSkuZmlsdGVyKGU9Pm51bGwhPT1lKS5tYXAodD0+Q3AoKCk9PkJkKHQuZ3VhcmRzLm1hcChzPT57Y29uc3Qgbz1vbShzLHQubm9kZSxuKTtsZXQgcjtpZihmdW5jdGlvbihlKXtyZXR1cm4gZSYmSWcoZS5jYW5BY3RpdmF0ZUNoaWxkKX0obykpcj14ZihvLmNhbkFjdGl2YXRlQ2hpbGQoaSxlKSk7ZWxzZXtpZighSWcobykpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIENhbkFjdGl2YXRlQ2hpbGQgZ3VhcmQiKTtyPXhmKG8oaSxlKSl9cmV0dXJuIHIucGlwZSh6cCgpKX0pKS5waXBlKFZnKCkpKSk7cmV0dXJuIEJkKHMpLnBpcGUoVmcoKSl9KGUsdC5wYXRoLG4pLGZ1bmN0aW9uKGUsdCxuKXtjb25zdCBpPXQucm91dGVDb25maWc/dC5yb3V0ZUNvbmZpZy5jYW5BY3RpdmF0ZTpudWxsO3JldHVybiBpJiYwIT09aS5sZW5ndGg/QmQoaS5tYXAoaT0+Q3AoKCk9Pntjb25zdCBzPW9tKGksdCxuKTtsZXQgbztpZihmdW5jdGlvbihlKXtyZXR1cm4gZSYmSWcoZS5jYW5BY3RpdmF0ZSl9KHMpKW89eGYocy5jYW5BY3RpdmF0ZSh0LGUpKTtlbHNle2lmKCFJZyhzKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgQ2FuQWN0aXZhdGUgZ3VhcmQiKTtvPXhmKHModCxlKSl9cmV0dXJuIG8ucGlwZSh6cCgpKX0pKSkucGlwZShWZygpKTpCZCghMCl9KGUsdC5yb3V0ZSxuKSkpLHpwKGU9PiEwIT09ZSwhMCkpfShpLG8sZSx0KTpCZChuKSksayhlPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbikse2d1YXJkc1Jlc3VsdDplfSkpKX0pfSh0aGlzLm5nTW9kdWxlLmluamVjdG9yLGU9PnRoaXMudHJpZ2dlckV2ZW50KGUpKSxHcChlPT57aWYoTWcoZS5ndWFyZHNSZXN1bHQpKXtjb25zdCB0PUNmKGBSZWRpcmVjdGluZyB0byAiJHt0aGlzLnNlcmlhbGl6ZVVybChlLmd1YXJkc1Jlc3VsdCl9ImApO3Rocm93IHQudXJsPWUuZ3VhcmRzUmVzdWx0LHR9Y29uc3QgdD1uZXcgYWYoZS5pZCx0aGlzLnNlcmlhbGl6ZVVybChlLmV4dHJhY3RlZFVybCksdGhpcy5zZXJpYWxpemVVcmwoZS51cmxBZnRlclJlZGlyZWN0cyksZS50YXJnZXRTbmFwc2hvdCwhIWUuZ3VhcmRzUmVzdWx0KTt0aGlzLnRyaWdnZXJFdmVudCh0KX0pLEFwKGU9PntpZighZS5ndWFyZHNSZXN1bHQpe3RoaXMucmVzZXRVcmxUb0N1cnJlbnRVcmxUcmVlKCk7Y29uc3Qgbj1uZXcgbmYoZS5pZCx0aGlzLnNlcmlhbGl6ZVVybChlLmV4dHJhY3RlZFVybCksIiIpO3JldHVybiB0Lm5leHQobiksZS5yZXNvbHZlKCExKSwhMX1yZXR1cm4hMH0pLHZtKGU9PntpZihlLmd1YXJkcy5jYW5BY3RpdmF0ZUNoZWNrcy5sZW5ndGgpcmV0dXJuIEJkKGUpLnBpcGUoR3AoZT0+e2NvbnN0IHQ9bmV3IGxmKGUuaWQsdGhpcy5zZXJpYWxpemVVcmwoZS5leHRyYWN0ZWRVcmwpLHRoaXMuc2VyaWFsaXplVXJsKGUudXJsQWZ0ZXJSZWRpcmVjdHMpLGUudGFyZ2V0U25hcHNob3QpO3RoaXMudHJpZ2dlckV2ZW50KHQpfSksS2QoZT0+e2xldCBuPSExO3JldHVybiBCZChlKS5waXBlKChpPXRoaXMucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneSxzPXRoaXMubmdNb2R1bGUuaW5qZWN0b3IsQihlPT57Y29uc3R7dGFyZ2V0U25hcHNob3Q6dCxndWFyZHM6e2NhbkFjdGl2YXRlQ2hlY2tzOm59fT1lO2lmKCFuLmxlbmd0aClyZXR1cm4gQmQoZSk7bGV0IG89MDtyZXR1cm4gTChuKS5waXBlKFBwKGU9PmZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBmdW5jdGlvbihlLHQsbixpKXtjb25zdCBzPU9iamVjdC5rZXlzKGUpO2lmKDA9PT1zLmxlbmd0aClyZXR1cm4gQmQoe30pO2NvbnN0IG89e307cmV0dXJuIEwocykucGlwZShCKHM9PmZ1bmN0aW9uKGUsdCxuLGkpe2NvbnN0IHM9b20oZSx0LGkpO3JldHVybiB4ZihzLnJlc29sdmU/cy5yZXNvbHZlKHQsbik6cyh0LG4pKX0oZVtzXSx0LG4saSkucGlwZShHcChlPT57b1tzXT1lfSkpKSxWcCgxKSxCKCgpPT5PYmplY3Qua2V5cyhvKS5sZW5ndGg9PT1zLmxlbmd0aD9CZChvKTpqZCkpfShlLl9yZXNvbHZlLGUsdCxpKS5waXBlKGsodD0+KGUuX3Jlc29sdmVkRGF0YT10LGUuZGF0YT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5kYXRhKSxsZyhlLG4pLnJlc29sdmUpLG51bGwpKSl9KGUucm91dGUsdCxpLHMpKSxHcCgoKT0+bysrKSxWcCgxKSxCKHQ9Pm89PT1uLmxlbmd0aD9CZChlKTpqZCkpfSkpLEdwKHtuZXh0OigpPT5uPSEwLGNvbXBsZXRlOigpPT57aWYoIW4pe2NvbnN0IG49bmV3IG5mKGUuaWQsdGhpcy5zZXJpYWxpemVVcmwoZS5leHRyYWN0ZWRVcmwpLCJBdCBsZWFzdCBvbmUgcm91dGUgcmVzb2x2ZXIgZGlkbid0IGVtaXQgYW55IHZhbHVlLiIpO3QubmV4dChuKSxlLnJlc29sdmUoITEpfX19KSk7dmFyIGksc30pLEdwKGU9Pntjb25zdCB0PW5ldyBjZihlLmlkLHRoaXMuc2VyaWFsaXplVXJsKGUuZXh0cmFjdGVkVXJsKSx0aGlzLnNlcmlhbGl6ZVVybChlLnVybEFmdGVyUmVkaXJlY3RzKSxlLnRhcmdldFNuYXBzaG90KTt0aGlzLnRyaWdnZXJFdmVudCh0KX0pKX0pLHZtKGU9Pntjb25zdHt0YXJnZXRTbmFwc2hvdDp0LGlkOm4sZXh0cmFjdGVkVXJsOmkscmF3VXJsOnMsZXh0cmFzOntza2lwTG9jYXRpb25DaGFuZ2U6byxyZXBsYWNlVXJsOnJ9fT1lO3JldHVybiB0aGlzLmhvb2tzLmFmdGVyUHJlYWN0aXZhdGlvbih0LHtuYXZpZ2F0aW9uSWQ6bixhcHBsaWVkVXJsVHJlZTppLHJhd1VybFRyZWU6cyxza2lwTG9jYXRpb25DaGFuZ2U6ISFvLHJlcGxhY2VVcmw6ISFyfSl9KSxrKGU9Pntjb25zdCB0PWZ1bmN0aW9uKGUsdCxuKXtjb25zdCBpPWdnKGUsdC5fcm9vdCxuP24uX3Jvb3Q6dm9pZCAwKTtyZXR1cm4gbmV3IG9nKGksdCl9KHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LGUudGFyZ2V0U25hcHNob3QsZS5jdXJyZW50Um91dGVyU3RhdGUpO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse3RhcmdldFJvdXRlclN0YXRlOnR9KX0pLEdwKGU9Pnt0aGlzLmN1cnJlbnRVcmxUcmVlPWUudXJsQWZ0ZXJSZWRpcmVjdHMsdGhpcy5yYXdVcmxUcmVlPXRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5tZXJnZSh0aGlzLmN1cnJlbnRVcmxUcmVlLGUucmF3VXJsKSx0aGlzLnJvdXRlclN0YXRlPWUudGFyZ2V0Um91dGVyU3RhdGUsImRlZmVycmVkIj09PXRoaXMudXJsVXBkYXRlU3RyYXRlZ3kmJihlLmV4dHJhcy5za2lwTG9jYXRpb25DaGFuZ2V8fHRoaXMuc2V0QnJvd3NlclVybCh0aGlzLnJhd1VybFRyZWUsISFlLmV4dHJhcy5yZXBsYWNlVXJsLGUuaWQsZS5leHRyYXMuc3RhdGUpLHRoaXMuYnJvd3NlclVybFRyZWU9ZS51cmxBZnRlclJlZGlyZWN0cyl9KSwocz10aGlzLnJvb3RDb250ZXh0cyxvPXRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LHI9ZT0+dGhpcy50cmlnZ2VyRXZlbnQoZSksayhlPT4obmV3IE9nKG8sZS50YXJnZXRSb3V0ZXJTdGF0ZSxlLmN1cnJlbnRSb3V0ZXJTdGF0ZSxyKS5hY3RpdmF0ZShzKSxlKSkpLEdwKHtuZXh0KCl7bj0hMH0sY29tcGxldGUoKXtuPSEwfX0pLFpwKCgpPT57aWYoIW4mJiFpKXt0aGlzLnJlc2V0VXJsVG9DdXJyZW50VXJsVHJlZSgpO2NvbnN0IG49bmV3IG5mKGUuaWQsdGhpcy5zZXJpYWxpemVVcmwoZS5leHRyYWN0ZWRVcmwpLGBOYXZpZ2F0aW9uIElEICR7ZS5pZH0gaXMgbm90IGVxdWFsIHRvIHRoZSBjdXJyZW50IG5hdmlnYXRpb24gaWQgJHt0aGlzLm5hdmlnYXRpb25JZH1gKTt0Lm5leHQobiksZS5yZXNvbHZlKCExKX10aGlzLmN1cnJlbnROYXZpZ2F0aW9uPW51bGx9KSxGcChuPT57aWYoaT0hMCwocz1uKSYmcy5uZ05hdmlnYXRpb25DYW5jZWxpbmdFcnJvcil7Y29uc3QgaT1NZyhuLnVybCk7aXx8KHRoaXMubmF2aWdhdGVkPSEwLHRoaXMucmVzZXRTdGF0ZUFuZFVybChlLmN1cnJlbnRSb3V0ZXJTdGF0ZSxlLmN1cnJlbnRVcmxUcmVlLGUucmF3VXJsKSk7Y29uc3Qgcz1uZXcgbmYoZS5pZCx0aGlzLnNlcmlhbGl6ZVVybChlLmV4dHJhY3RlZFVybCksbi5tZXNzYWdlKTt0Lm5leHQocyksaT9zZXRUaW1lb3V0KCgpPT57Y29uc3QgdD10aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kubWVyZ2Uobi51cmwsdGhpcy5yYXdVcmxUcmVlKTt0aGlzLnNjaGVkdWxlTmF2aWdhdGlvbih0LCJpbXBlcmF0aXZlIixudWxsLHtza2lwTG9jYXRpb25DaGFuZ2U6ZS5leHRyYXMuc2tpcExvY2F0aW9uQ2hhbmdlLHJlcGxhY2VVcmw6ImVhZ2VyIj09PXRoaXMudXJsVXBkYXRlU3RyYXRlZ3l9LHtyZXNvbHZlOmUucmVzb2x2ZSxyZWplY3Q6ZS5yZWplY3QscHJvbWlzZTplLnByb21pc2V9KX0sMCk6ZS5yZXNvbHZlKCExKX1lbHNle3RoaXMucmVzZXRTdGF0ZUFuZFVybChlLmN1cnJlbnRSb3V0ZXJTdGF0ZSxlLmN1cnJlbnRVcmxUcmVlLGUucmF3VXJsKTtjb25zdCBpPW5ldyBzZihlLmlkLHRoaXMuc2VyaWFsaXplVXJsKGUuZXh0cmFjdGVkVXJsKSxuKTt0Lm5leHQoaSk7dHJ5e2UucmVzb2x2ZSh0aGlzLmVycm9ySGFuZGxlcihuKSl9Y2F0Y2gobyl7ZS5yZWplY3Qobyl9fXZhciBzO3JldHVybiBqZH0pKTt2YXIgcyxvLHJ9KSl9cmVzZXRSb290Q29tcG9uZW50VHlwZShlKXt0aGlzLnJvb3RDb21wb25lbnRUeXBlPWUsdGhpcy5yb3V0ZXJTdGF0ZS5yb290LmNvbXBvbmVudD10aGlzLnJvb3RDb21wb25lbnRUeXBlfWdldFRyYW5zaXRpb24oKXtjb25zdCBlPXRoaXMudHJhbnNpdGlvbnMudmFsdWU7cmV0dXJuIGUudXJsQWZ0ZXJSZWRpcmVjdHM9dGhpcy5icm93c2VyVXJsVHJlZSxlfXNldFRyYW5zaXRpb24oZSl7dGhpcy50cmFuc2l0aW9ucy5uZXh0KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldFRyYW5zaXRpb24oKSksZSkpfWluaXRpYWxOYXZpZ2F0aW9uKCl7dGhpcy5zZXRVcExvY2F0aW9uQ2hhbmdlTGlzdGVuZXIoKSwwPT09dGhpcy5uYXZpZ2F0aW9uSWQmJnRoaXMubmF2aWdhdGVCeVVybCh0aGlzLmxvY2F0aW9uLnBhdGgoITApLHtyZXBsYWNlVXJsOiEwfSl9c2V0VXBMb2NhdGlvbkNoYW5nZUxpc3RlbmVyKCl7dGhpcy5sb2NhdGlvblN1YnNjcmlwdGlvbnx8KHRoaXMubG9jYXRpb25TdWJzY3JpcHRpb249dGhpcy5sb2NhdGlvbi5zdWJzY3JpYmUoZT0+e2NvbnN0IHQ9dGhpcy5leHRyYWN0TG9jYXRpb25DaGFuZ2VJbmZvRnJvbUV2ZW50KGUpO3RoaXMuc2hvdWxkU2NoZWR1bGVOYXZpZ2F0aW9uKHRoaXMubGFzdExvY2F0aW9uQ2hhbmdlSW5mbyx0KSYmc2V0VGltZW91dCgoKT0+e2NvbnN0e3NvdXJjZTplLHN0YXRlOm4sdXJsVHJlZTppfT10LHM9e3JlcGxhY2VVcmw6ITB9O2lmKG4pe2NvbnN0IGU9T2JqZWN0LmFzc2lnbih7fSxuKTtkZWxldGUgZS5uYXZpZ2F0aW9uSWQsMCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aCYmKHMuc3RhdGU9ZSl9dGhpcy5zY2hlZHVsZU5hdmlnYXRpb24oaSxlLG4scyl9LDApLHRoaXMubGFzdExvY2F0aW9uQ2hhbmdlSW5mbz10fSkpfWV4dHJhY3RMb2NhdGlvbkNoYW5nZUluZm9Gcm9tRXZlbnQoZSl7dmFyIHQ7cmV0dXJue3NvdXJjZToicG9wc3RhdGUiPT09ZS50eXBlPyJwb3BzdGF0ZSI6Imhhc2hjaGFuZ2UiLHVybFRyZWU6dGhpcy5wYXJzZVVybChlLnVybCksc3RhdGU6KG51bGw9PT0odD1lLnN0YXRlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5uYXZpZ2F0aW9uSWQpP2Uuc3RhdGU6bnVsbCx0cmFuc2l0aW9uSWQ6dGhpcy5nZXRUcmFuc2l0aW9uKCkuaWR9fXNob3VsZFNjaGVkdWxlTmF2aWdhdGlvbihlLHQpe2lmKCFlKXJldHVybiEwO2NvbnN0IG49dC51cmxUcmVlLnRvU3RyaW5nKCk9PT1lLnVybFRyZWUudG9TdHJpbmcoKTtyZXR1cm4hKHQudHJhbnNpdGlvbklkPT09ZS50cmFuc2l0aW9uSWQmJm4mJigiaGFzaGNoYW5nZSI9PT10LnNvdXJjZSYmInBvcHN0YXRlIj09PWUuc291cmNlfHwicG9wc3RhdGUiPT09dC5zb3VyY2UmJiJoYXNoY2hhbmdlIj09PWUuc291cmNlKSl9Z2V0IHVybCgpe3JldHVybiB0aGlzLnNlcmlhbGl6ZVVybCh0aGlzLmN1cnJlbnRVcmxUcmVlKX1nZXRDdXJyZW50TmF2aWdhdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnROYXZpZ2F0aW9ufXRyaWdnZXJFdmVudChlKXt0aGlzLmV2ZW50cy5uZXh0KGUpfXJlc2V0Q29uZmlnKGUpe1JnKGUpLHRoaXMuY29uZmlnPWUubWFwKEJnKSx0aGlzLm5hdmlnYXRlZD0hMSx0aGlzLmxhc3RTdWNjZXNzZnVsSWQ9LTF9bmdPbkRlc3Ryb3koKXt0aGlzLmRpc3Bvc2UoKX1kaXNwb3NlKCl7dGhpcy50cmFuc2l0aW9ucy5jb21wbGV0ZSgpLHRoaXMubG9jYXRpb25TdWJzY3JpcHRpb24mJih0aGlzLmxvY2F0aW9uU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCksdGhpcy5sb2NhdGlvblN1YnNjcmlwdGlvbj12b2lkIDApLHRoaXMuZGlzcG9zZWQ9ITB9Y3JlYXRlVXJsVHJlZShlLHQ9e30pe2NvbnN0e3JlbGF0aXZlVG86bixxdWVyeVBhcmFtczppLGZyYWdtZW50OnMscXVlcnlQYXJhbXNIYW5kbGluZzpvLHByZXNlcnZlRnJhZ21lbnQ6cn09dCxhPW58fHRoaXMucm91dGVyU3RhdGUucm9vdCxsPXI/dGhpcy5jdXJyZW50VXJsVHJlZS5mcmFnbWVudDpzO2xldCBjPW51bGw7c3dpdGNoKG8pe2Nhc2UibWVyZ2UiOmM9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuY3VycmVudFVybFRyZWUucXVlcnlQYXJhbXMpLGkpO2JyZWFrO2Nhc2UicHJlc2VydmUiOmM9dGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtczticmVhaztkZWZhdWx0OmM9aXx8bnVsbH1yZXR1cm4gbnVsbCE9PWMmJihjPXRoaXMucmVtb3ZlRW1wdHlQcm9wcyhjKSksZnVuY3Rpb24oZSx0LG4saSxzKXtpZigwPT09bi5sZW5ndGgpcmV0dXJuIHlnKHQucm9vdCx0LnJvb3QsdCxpLHMpO2NvbnN0IG89ZnVuY3Rpb24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlWzBdJiYxPT09ZS5sZW5ndGgmJiIvIj09PWVbMF0pcmV0dXJuIG5ldyB3ZyghMCwwLGUpO2xldCB0PTAsbj0hMTtjb25zdCBpPWUucmVkdWNlKChlLGkscyk9PntpZigib2JqZWN0Ij09dHlwZW9mIGkmJm51bGwhPWkpe2lmKGkub3V0bGV0cyl7Y29uc3QgdD17fTtyZXR1cm4ga2YoaS5vdXRsZXRzLChlLG4pPT57dFtuXT0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiLyIpOmV9KSxbLi4uZSx7b3V0bGV0czp0fV19aWYoaS5zZWdtZW50UGF0aClyZXR1cm5bLi4uZSxpLnNlZ21lbnRQYXRoXX1yZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGk/Wy4uLmUsaV06MD09PXM/KGkuc3BsaXQoIi8iKS5mb3JFYWNoKChpLHMpPT57MD09cyYmIi4iPT09aXx8KDA9PXMmJiIiPT09aT9uPSEwOiIuLiI9PT1pP3QrKzoiIiE9aSYmZS5wdXNoKGkpKX0pLGUpOlsuLi5lLGldfSxbXSk7cmV0dXJuIG5ldyB3ZyhuLHQsaSl9KG4pO2lmKG8udG9Sb290KCkpcmV0dXJuIHlnKHQucm9vdCxuZXcgVmYoW10se30pLHQsaSxzKTtjb25zdCByPWZ1bmN0aW9uKGUsdCxuKXtpZihlLmlzQWJzb2x1dGUpcmV0dXJuIG5ldyBfZyh0LnJvb3QsITAsMCk7aWYoLTE9PT1uLnNuYXBzaG90Ll9sYXN0UGF0aEluZGV4KXtjb25zdCBlPW4uc25hcHNob3QuX3VybFNlZ21lbnQ7cmV0dXJuIG5ldyBfZyhlLGU9PT10LnJvb3QsMCl9Y29uc3QgaT12ZyhlLmNvbW1hbmRzWzBdKT8wOjE7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtsZXQgaT1lLHM9dCxvPW47Zm9yKDtvPnM7KXtpZihvLT1zLGk9aS5wYXJlbnQsIWkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIG51bWJlciBvZiAnLi4vJyIpO3M9aS5zZWdtZW50cy5sZW5ndGh9cmV0dXJuIG5ldyBfZyhpLCExLHMtbyl9KG4uc25hcHNob3QuX3VybFNlZ21lbnQsbi5zbmFwc2hvdC5fbGFzdFBhdGhJbmRleCtpLGUubnVtYmVyT2ZEb3VibGVEb3RzKX0obyx0LGUpLGE9ci5wcm9jZXNzQ2hpbGRyZW4/U2coci5zZWdtZW50R3JvdXAsci5pbmRleCxvLmNvbW1hbmRzKTpEZyhyLnNlZ21lbnRHcm91cCxyLmluZGV4LG8uY29tbWFuZHMpO3JldHVybiB5ZyhyLnNlZ21lbnRHcm91cCxhLHQsaSxzKX0oYSx0aGlzLmN1cnJlbnRVcmxUcmVlLGUsYyxudWxsIT1sP2w6bnVsbCl9bmF2aWdhdGVCeVVybChlLHQ9e3NraXBMb2NhdGlvbkNoYW5nZTohMX0pe2NvbnN0IG49TWcoZSk/ZTp0aGlzLnBhcnNlVXJsKGUpLGk9dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5Lm1lcmdlKG4sdGhpcy5yYXdVcmxUcmVlKTtyZXR1cm4gdGhpcy5zY2hlZHVsZU5hdmlnYXRpb24oaSwiaW1wZXJhdGl2ZSIsbnVsbCx0KX1uYXZpZ2F0ZShlLHQ9e3NraXBMb2NhdGlvbkNoYW5nZTohMX0pe3JldHVybiBmdW5jdGlvbihlKXtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbj1lW3RdO2lmKG51bGw9PW4pdGhyb3cgbmV3IEVycm9yKGBUaGUgcmVxdWVzdGVkIHBhdGggY29udGFpbnMgJHtufSBzZWdtZW50IGF0IGluZGV4ICR7dH1gKX19KGUpLHRoaXMubmF2aWdhdGVCeVVybCh0aGlzLmNyZWF0ZVVybFRyZWUoZSx0KSx0KX1zZXJpYWxpemVVcmwoZSl7cmV0dXJuIHRoaXMudXJsU2VyaWFsaXplci5zZXJpYWxpemUoZSl9cGFyc2VVcmwoZSl7bGV0IHQ7dHJ5e3Q9dGhpcy51cmxTZXJpYWxpemVyLnBhcnNlKGUpfWNhdGNoKG4pe3Q9dGhpcy5tYWxmb3JtZWRVcmlFcnJvckhhbmRsZXIobix0aGlzLnVybFNlcmlhbGl6ZXIsZSl9cmV0dXJuIHR9aXNBY3RpdmUoZSx0KXtsZXQgbjtpZihuPSEwPT09dD9PYmplY3QuYXNzaWduKHt9LHhtKTohMT09PXQ/T2JqZWN0LmFzc2lnbih7fSxBbSk6dCxNZyhlKSlyZXR1cm4gVGYodGhpcy5jdXJyZW50VXJsVHJlZSxlLG4pO2NvbnN0IGk9dGhpcy5wYXJzZVVybChlKTtyZXR1cm4gVGYodGhpcy5jdXJyZW50VXJsVHJlZSxpLG4pfXJlbW92ZUVtcHR5UHJvcHMoZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLnJlZHVjZSgodCxuKT0+e2NvbnN0IGk9ZVtuXTtyZXR1cm4gbnVsbCE9aSYmKHRbbl09aSksdH0se30pfXByb2Nlc3NOYXZpZ2F0aW9ucygpe3RoaXMubmF2aWdhdGlvbnMuc3Vic2NyaWJlKGU9Pnt0aGlzLm5hdmlnYXRlZD0hMCx0aGlzLmxhc3RTdWNjZXNzZnVsSWQ9ZS5pZCx0aGlzLmV2ZW50cy5uZXh0KG5ldyB0ZihlLmlkLHRoaXMuc2VyaWFsaXplVXJsKGUuZXh0cmFjdGVkVXJsKSx0aGlzLnNlcmlhbGl6ZVVybCh0aGlzLmN1cnJlbnRVcmxUcmVlKSkpLHRoaXMubGFzdFN1Y2Nlc3NmdWxOYXZpZ2F0aW9uPXRoaXMuY3VycmVudE5hdmlnYXRpb24sZS5yZXNvbHZlKCEwKX0sZT0+e3RoaXMuY29uc29sZS53YXJuKCJVbmhhbmRsZWQgTmF2aWdhdGlvbiBFcnJvcjogIil9KX1zY2hlZHVsZU5hdmlnYXRpb24oZSx0LG4saSxzKXtpZih0aGlzLmRpc3Bvc2VkKXJldHVybiBQcm9taXNlLnJlc29sdmUoITEpO2NvbnN0IG89dGhpcy5nZXRUcmFuc2l0aW9uKCkscj0iaW1wZXJhdGl2ZSIhPT10JiYiaW1wZXJhdGl2ZSI9PT0obnVsbD09bz92b2lkIDA6by5zb3VyY2UpLGE9KHRoaXMubGFzdFN1Y2Nlc3NmdWxJZD09PW8uaWR8fHRoaXMuY3VycmVudE5hdmlnYXRpb24/by5yYXdVcmw6by51cmxBZnRlclJlZGlyZWN0cykudG9TdHJpbmcoKT09PWUudG9TdHJpbmcoKTtpZihyJiZhKXJldHVybiBQcm9taXNlLnJlc29sdmUoITApO2xldCBsLGMsdTtzPyhsPXMucmVzb2x2ZSxjPXMucmVqZWN0LHU9cy5wcm9taXNlKTp1PW5ldyBQcm9taXNlKChlLHQpPT57bD1lLGM9dH0pO2NvbnN0IGg9Kyt0aGlzLm5hdmlnYXRpb25JZDtyZXR1cm4gdGhpcy5zZXRUcmFuc2l0aW9uKHtpZDpoLHNvdXJjZTp0LHJlc3RvcmVkU3RhdGU6bixjdXJyZW50VXJsVHJlZTp0aGlzLmN1cnJlbnRVcmxUcmVlLGN1cnJlbnRSYXdVcmw6dGhpcy5yYXdVcmxUcmVlLHJhd1VybDplLGV4dHJhczppLHJlc29sdmU6bCxyZWplY3Q6Yyxwcm9taXNlOnUsY3VycmVudFNuYXBzaG90OnRoaXMucm91dGVyU3RhdGUuc25hcHNob3QsY3VycmVudFJvdXRlclN0YXRlOnRoaXMucm91dGVyU3RhdGV9KSx1LmNhdGNoKGU9PlByb21pc2UucmVqZWN0KGUpKX1zZXRCcm93c2VyVXJsKGUsdCxuLGkpe2NvbnN0IHM9dGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZShlKTtpPWl8fHt9LHRoaXMubG9jYXRpb24uaXNDdXJyZW50UGF0aEVxdWFsVG8ocyl8fHQ/dGhpcy5sb2NhdGlvbi5yZXBsYWNlU3RhdGUocywiIixPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30saSkse25hdmlnYXRpb25JZDpufSkpOnRoaXMubG9jYXRpb24uZ28ocywiIixPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30saSkse25hdmlnYXRpb25JZDpufSkpfXJlc2V0U3RhdGVBbmRVcmwoZSx0LG4pe3RoaXMucm91dGVyU3RhdGU9ZSx0aGlzLmN1cnJlbnRVcmxUcmVlPXQsdGhpcy5yYXdVcmxUcmVlPXRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5tZXJnZSh0aGlzLmN1cnJlbnRVcmxUcmVlLG4pLHRoaXMucmVzZXRVcmxUb0N1cnJlbnRVcmxUcmVlKCl9cmVzZXRVcmxUb0N1cnJlbnRVcmxUcmVlKCl7dGhpcy5sb2NhdGlvbi5yZXBsYWNlU3RhdGUodGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh0aGlzLnJhd1VybFRyZWUpLCIiLHtuYXZpZ2F0aW9uSWQ6dGhpcy5sYXN0U3VjY2Vzc2Z1bElkfSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKGNpKEduKSxjaShqZiksY2koX20pLGNpKFB1KSxjaShsciksY2koY3UpLGNpKGpjKSxjaSh2b2lkIDApKX0sZS5cdTAyNzVwcm92PWhlKHt0b2tlbjplLGZhY3Rvcnk6ZS5cdTAyNzVmYWN9KSxlfSkoKSxUbT0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnJvdXRlcj1lLHRoaXMucm91dGU9dCx0aGlzLmxvY2F0aW9uU3RyYXRlZ3k9bix0aGlzLmNvbW1hbmRzPVtdLHRoaXMub25DaGFuZ2VzPW5ldyBELHRoaXMuc3Vic2NyaXB0aW9uPWUuZXZlbnRzLnN1YnNjcmliZShlPT57ZSBpbnN0YW5jZW9mIHRmJiZ0aGlzLnVwZGF0ZVRhcmdldFVybEFuZEhyZWYoKX0pfXNldCByb3V0ZXJMaW5rKGUpe3RoaXMuY29tbWFuZHM9bnVsbCE9ZT9BcnJheS5pc0FycmF5KGUpP2U6W2VdOltdfW5nT25DaGFuZ2VzKGUpe3RoaXMudXBkYXRlVGFyZ2V0VXJsQW5kSHJlZigpLHRoaXMub25DaGFuZ2VzLm5leHQodGhpcyl9bmdPbkRlc3Ryb3koKXt0aGlzLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfW9uQ2xpY2soZSx0LG4saSxzKXtpZigwIT09ZXx8dHx8bnx8aXx8cylyZXR1cm4hMDtpZigic3RyaW5nIj09dHlwZW9mIHRoaXMudGFyZ2V0JiYiX3NlbGYiIT10aGlzLnRhcmdldClyZXR1cm4hMDtjb25zdCBvPXtza2lwTG9jYXRpb25DaGFuZ2U6Rm0odGhpcy5za2lwTG9jYXRpb25DaGFuZ2UpLHJlcGxhY2VVcmw6Rm0odGhpcy5yZXBsYWNlVXJsKSxzdGF0ZTp0aGlzLnN0YXRlfTtyZXR1cm4gdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybCh0aGlzLnVybFRyZWUsbyksITF9dXBkYXRlVGFyZ2V0VXJsQW5kSHJlZigpe3RoaXMuaHJlZj10aGlzLmxvY2F0aW9uU3RyYXRlZ3kucHJlcGFyZUV4dGVybmFsVXJsKHRoaXMucm91dGVyLnNlcmlhbGl6ZVVybCh0aGlzLnVybFRyZWUpKX1nZXQgdXJsVHJlZSgpe3JldHVybiB0aGlzLnJvdXRlci5jcmVhdGVVcmxUcmVlKHRoaXMuY29tbWFuZHMse3JlbGF0aXZlVG86dm9pZCAwIT09dGhpcy5yZWxhdGl2ZVRvP3RoaXMucmVsYXRpdmVUbzp0aGlzLnJvdXRlLHF1ZXJ5UGFyYW1zOnRoaXMucXVlcnlQYXJhbXMsZnJhZ21lbnQ6dGhpcy5mcmFnbWVudCxxdWVyeVBhcmFtc0hhbmRsaW5nOnRoaXMucXVlcnlQYXJhbXNIYW5kbGluZyxwcmVzZXJ2ZUZyYWdtZW50OkZtKHRoaXMucHJlc2VydmVGcmFnbWVudCl9KX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoT20pLEFyKGFnKSxBcihPdSkpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLHNlbGVjdG9yczpbWyJhIiwicm91dGVyTGluayIsIiJdLFsiYXJlYSIsInJvdXRlckxpbmsiLCIiXV0saG9zdFZhcnM6Mixob3N0QmluZGluZ3M6ZnVuY3Rpb24oZSx0KXsxJmUmJkJyKCJjbGljayIsZnVuY3Rpb24oZSl7cmV0dXJuIHQub25DbGljayhlLmJ1dHRvbixlLmN0cmxLZXksZS5zaGlmdEtleSxlLmFsdEtleSxlLm1ldGFLZXkpfSksMiZlJiYoeWEoImhyZWYiLHQuaHJlZixYaSksRHIoInRhcmdldCIsdC50YXJnZXQpKX0saW5wdXRzOntyb3V0ZXJMaW5rOiJyb3V0ZXJMaW5rIix0YXJnZXQ6InRhcmdldCIscXVlcnlQYXJhbXM6InF1ZXJ5UGFyYW1zIixmcmFnbWVudDoiZnJhZ21lbnQiLHF1ZXJ5UGFyYW1zSGFuZGxpbmc6InF1ZXJ5UGFyYW1zSGFuZGxpbmciLHByZXNlcnZlRnJhZ21lbnQ6InByZXNlcnZlRnJhZ21lbnQiLHNraXBMb2NhdGlvbkNoYW5nZToic2tpcExvY2F0aW9uQ2hhbmdlIixyZXBsYWNlVXJsOiJyZXBsYWNlVXJsIixzdGF0ZToic3RhdGUiLHJlbGF0aXZlVG86InJlbGF0aXZlVG8ifSxmZWF0dXJlczpbbHRdfSksZX0pKCk7ZnVuY3Rpb24gRm0oZSl7cmV0dXJuIiI9PT1lfHwhIWV9bGV0IEltPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSx0LG4saSxzKXt0aGlzLnBhcmVudENvbnRleHRzPWUsdGhpcy5sb2NhdGlvbj10LHRoaXMucmVzb2x2ZXI9bix0aGlzLmNoYW5nZURldGVjdG9yPXMsdGhpcy5hY3RpdmF0ZWQ9bnVsbCx0aGlzLl9hY3RpdmF0ZWRSb3V0ZT1udWxsLHRoaXMuYWN0aXZhdGVFdmVudHM9bmV3IGVjLHRoaXMuZGVhY3RpdmF0ZUV2ZW50cz1uZXcgZWMsdGhpcy5uYW1lPWl8fHZmLGUub25DaGlsZE91dGxldENyZWF0ZWQodGhpcy5uYW1lLHRoaXMpfW5nT25EZXN0cm95KCl7dGhpcy5wYXJlbnRDb250ZXh0cy5vbkNoaWxkT3V0bGV0RGVzdHJveWVkKHRoaXMubmFtZSl9bmdPbkluaXQoKXtpZighdGhpcy5hY3RpdmF0ZWQpe2NvbnN0IGU9dGhpcy5wYXJlbnRDb250ZXh0cy5nZXRDb250ZXh0KHRoaXMubmFtZSk7ZSYmZS5yb3V0ZSYmKGUuYXR0YWNoUmVmP3RoaXMuYXR0YWNoKGUuYXR0YWNoUmVmLGUucm91dGUpOnRoaXMuYWN0aXZhdGVXaXRoKGUucm91dGUsZS5yZXNvbHZlcnx8bnVsbCkpfX1nZXQgaXNBY3RpdmF0ZWQoKXtyZXR1cm4hIXRoaXMuYWN0aXZhdGVkfWdldCBjb21wb25lbnQoKXtpZighdGhpcy5hY3RpdmF0ZWQpdGhyb3cgbmV3IEVycm9yKCJPdXRsZXQgaXMgbm90IGFjdGl2YXRlZCIpO3JldHVybiB0aGlzLmFjdGl2YXRlZC5pbnN0YW5jZX1nZXQgYWN0aXZhdGVkUm91dGUoKXtpZighdGhpcy5hY3RpdmF0ZWQpdGhyb3cgbmV3IEVycm9yKCJPdXRsZXQgaXMgbm90IGFjdGl2YXRlZCIpO3JldHVybiB0aGlzLl9hY3RpdmF0ZWRSb3V0ZX1nZXQgYWN0aXZhdGVkUm91dGVEYXRhKCl7cmV0dXJuIHRoaXMuX2FjdGl2YXRlZFJvdXRlP3RoaXMuX2FjdGl2YXRlZFJvdXRlLnNuYXBzaG90LmRhdGE6e319ZGV0YWNoKCl7aWYoIXRoaXMuYWN0aXZhdGVkKXRocm93IG5ldyBFcnJvcigiT3V0bGV0IGlzIG5vdCBhY3RpdmF0ZWQiKTt0aGlzLmxvY2F0aW9uLmRldGFjaCgpO2NvbnN0IGU9dGhpcy5hY3RpdmF0ZWQ7cmV0dXJuIHRoaXMuYWN0aXZhdGVkPW51bGwsdGhpcy5fYWN0aXZhdGVkUm91dGU9bnVsbCxlfWF0dGFjaChlLHQpe3RoaXMuYWN0aXZhdGVkPWUsdGhpcy5fYWN0aXZhdGVkUm91dGU9dCx0aGlzLmxvY2F0aW9uLmluc2VydChlLmhvc3RWaWV3KX1kZWFjdGl2YXRlKCl7aWYodGhpcy5hY3RpdmF0ZWQpe2NvbnN0IGU9dGhpcy5jb21wb25lbnQ7dGhpcy5hY3RpdmF0ZWQuZGVzdHJveSgpLHRoaXMuYWN0aXZhdGVkPW51bGwsdGhpcy5fYWN0aXZhdGVkUm91dGU9bnVsbCx0aGlzLmRlYWN0aXZhdGVFdmVudHMuZW1pdChlKX19YWN0aXZhdGVXaXRoKGUsdCl7aWYodGhpcy5pc0FjdGl2YXRlZCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBhY3RpdmF0ZSBhbiBhbHJlYWR5IGFjdGl2YXRlZCBvdXRsZXQiKTt0aGlzLl9hY3RpdmF0ZWRSb3V0ZT1lO2NvbnN0IG49KHQ9dHx8dGhpcy5yZXNvbHZlcikucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoZS5fZnV0dXJlU25hcHNob3Qucm91dGVDb25maWcuY29tcG9uZW50KSxpPXRoaXMucGFyZW50Q29udGV4dHMuZ2V0T3JDcmVhdGVDb250ZXh0KHRoaXMubmFtZSkuY2hpbGRyZW4scz1uZXcgTW0oZSxpLHRoaXMubG9jYXRpb24uaW5qZWN0b3IpO3RoaXMuYWN0aXZhdGVkPXRoaXMubG9jYXRpb24uY3JlYXRlQ29tcG9uZW50KG4sdGhpcy5sb2NhdGlvbi5sZW5ndGgscyksdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKSx0aGlzLmFjdGl2YXRlRXZlbnRzLmVtaXQodGhpcy5hY3RpdmF0ZWQuaW5zdGFuY2UpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShBcihfbSksQXIoeGwpLEFyKE5hKSwoIm5hbWUiLGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1lLmF0dHJzO2lmKG4pe2NvbnN0IGU9bi5sZW5ndGg7bGV0IGk9MDtmb3IoO2k8ZTspe2NvbnN0IHM9bltpXTtpZihnbihzKSlicmVhaztpZigwPT09cylpKz0yO2Vsc2UgaWYoIm51bWJlciI9PXR5cGVvZiBzKWZvcihpKys7aTxlJiYic3RyaW5nIj09dHlwZW9mIG5baV07KWkrKztlbHNle2lmKHM9PT10KXJldHVybiBuW2krMV07aSs9Mn19fXJldHVybiBudWxsfShNdCgpLCJuYW1lIikpLEFyKGdsKSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsc2VsZWN0b3JzOltbInJvdXRlci1vdXRsZXQiXV0sb3V0cHV0czp7YWN0aXZhdGVFdmVudHM6ImFjdGl2YXRlIixkZWFjdGl2YXRlRXZlbnRzOiJkZWFjdGl2YXRlIn0sZXhwb3J0QXM6WyJvdXRsZXQiXX0pLGV9KSgpO2NsYXNzIE1te2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnJvdXRlPWUsdGhpcy5jaGlsZENvbnRleHRzPXQsdGhpcy5wYXJlbnQ9bn1nZXQoZSx0KXtyZXR1cm4gZT09PWFnP3RoaXMucm91dGU6ZT09PV9tP3RoaXMuY2hpbGRDb250ZXh0czp0aGlzLnBhcmVudC5nZXQoZSx0KX19Y2xhc3MgUG17fWNsYXNzIFZte3ByZWxvYWQoZSx0KXtyZXR1cm4gQmQobnVsbCl9fWxldCBMbT0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUsdCxuLGkscyl7dGhpcy5yb3V0ZXI9ZSx0aGlzLmluamVjdG9yPWksdGhpcy5wcmVsb2FkaW5nU3RyYXRlZ3k9cyx0aGlzLmxvYWRlcj1uZXcgQ20odCxuLHQ9PmUudHJpZ2dlckV2ZW50KG5ldyB1Zih0KSksdD0+ZS50cmlnZ2VyRXZlbnQobmV3IGhmKHQpKSl9c2V0VXBQcmVsb2FkaW5nKCl7dGhpcy5zdWJzY3JpcHRpb249dGhpcy5yb3V0ZXIuZXZlbnRzLnBpcGUoQXAoZT0+ZSBpbnN0YW5jZW9mIHRmKSxQcCgoKT0+dGhpcy5wcmVsb2FkKCkpKS5zdWJzY3JpYmUoKCk9Pnt9KX1wcmVsb2FkKCl7Y29uc3QgZT10aGlzLmluamVjdG9yLmdldChTbCk7cmV0dXJuIHRoaXMucHJvY2Vzc1JvdXRlcyhlLHRoaXMucm91dGVyLmNvbmZpZyl9bmdPbkRlc3Ryb3koKXt0aGlzLnN1YnNjcmlwdGlvbiYmdGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX1wcm9jZXNzUm91dGVzKGUsdCl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgaSBvZiB0KWlmKGkubG9hZENoaWxkcmVuJiYhaS5jYW5Mb2FkJiZpLl9sb2FkZWRDb25maWcpe2NvbnN0IGU9aS5fbG9hZGVkQ29uZmlnO24ucHVzaCh0aGlzLnByb2Nlc3NSb3V0ZXMoZS5tb2R1bGUsZS5yb3V0ZXMpKX1lbHNlIGkubG9hZENoaWxkcmVuJiYhaS5jYW5Mb2FkP24ucHVzaCh0aGlzLnByZWxvYWRDb25maWcoZSxpKSk6aS5jaGlsZHJlbiYmbi5wdXNoKHRoaXMucHJvY2Vzc1JvdXRlcyhlLGkuY2hpbGRyZW4pKTtyZXR1cm4gTChuKS5waXBlKFUoKSxrKGU9Pnt9KSl9cHJlbG9hZENvbmZpZyhlLHQpe3JldHVybiB0aGlzLnByZWxvYWRpbmdTdHJhdGVneS5wcmVsb2FkKHQsKCk9Pih0Ll9sb2FkZWRDb25maWc/QmQodC5fbG9hZGVkQ29uZmlnKTp0aGlzLmxvYWRlci5sb2FkKGUuaW5qZWN0b3IsdCkpLnBpcGUoQihlPT4odC5fbG9hZGVkQ29uZmlnPWUsdGhpcy5wcm9jZXNzUm91dGVzKGUubW9kdWxlLGUucm91dGVzKSkpKSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKGNpKE9tKSxjaShjdSksY2koamMpLGNpKGxyKSxjaShQbSkpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpLFJtPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSx0LG49e30pe3RoaXMucm91dGVyPWUsdGhpcy52aWV3cG9ydFNjcm9sbGVyPXQsdGhpcy5vcHRpb25zPW4sdGhpcy5sYXN0SWQ9MCx0aGlzLmxhc3RTb3VyY2U9ImltcGVyYXRpdmUiLHRoaXMucmVzdG9yZWRJZD0wLHRoaXMuc3RvcmU9e30sbi5zY3JvbGxQb3NpdGlvblJlc3RvcmF0aW9uPW4uc2Nyb2xsUG9zaXRpb25SZXN0b3JhdGlvbnx8ImRpc2FibGVkIixuLmFuY2hvclNjcm9sbGluZz1uLmFuY2hvclNjcm9sbGluZ3x8ImRpc2FibGVkIn1pbml0KCl7ImRpc2FibGVkIiE9PXRoaXMub3B0aW9ucy5zY3JvbGxQb3NpdGlvblJlc3RvcmF0aW9uJiZ0aGlzLnZpZXdwb3J0U2Nyb2xsZXIuc2V0SGlzdG9yeVNjcm9sbFJlc3RvcmF0aW9uKCJtYW51YWwiKSx0aGlzLnJvdXRlckV2ZW50c1N1YnNjcmlwdGlvbj10aGlzLmNyZWF0ZVNjcm9sbEV2ZW50cygpLHRoaXMuc2Nyb2xsRXZlbnRzU3Vic2NyaXB0aW9uPXRoaXMuY29uc3VtZVNjcm9sbEV2ZW50cygpfWNyZWF0ZVNjcm9sbEV2ZW50cygpe3JldHVybiB0aGlzLnJvdXRlci5ldmVudHMuc3Vic2NyaWJlKGU9PntlIGluc3RhbmNlb2YgZWY/KHRoaXMuc3RvcmVbdGhpcy5sYXN0SWRdPXRoaXMudmlld3BvcnRTY3JvbGxlci5nZXRTY3JvbGxQb3NpdGlvbigpLHRoaXMubGFzdFNvdXJjZT1lLm5hdmlnYXRpb25UcmlnZ2VyLHRoaXMucmVzdG9yZWRJZD1lLnJlc3RvcmVkU3RhdGU/ZS5yZXN0b3JlZFN0YXRlLm5hdmlnYXRpb25JZDowKTplIGluc3RhbmNlb2YgdGYmJih0aGlzLmxhc3RJZD1lLmlkLHRoaXMuc2NoZWR1bGVTY3JvbGxFdmVudChlLHRoaXMucm91dGVyLnBhcnNlVXJsKGUudXJsQWZ0ZXJSZWRpcmVjdHMpLmZyYWdtZW50KSl9KX1jb25zdW1lU2Nyb2xsRXZlbnRzKCl7cmV0dXJuIHRoaXMucm91dGVyLmV2ZW50cy5zdWJzY3JpYmUoZT0+e2UgaW5zdGFuY2VvZiBtZiYmKGUucG9zaXRpb24/InRvcCI9PT10aGlzLm9wdGlvbnMuc2Nyb2xsUG9zaXRpb25SZXN0b3JhdGlvbj90aGlzLnZpZXdwb3J0U2Nyb2xsZXIuc2Nyb2xsVG9Qb3NpdGlvbihbMCwwXSk6ImVuYWJsZWQiPT09dGhpcy5vcHRpb25zLnNjcm9sbFBvc2l0aW9uUmVzdG9yYXRpb24mJnRoaXMudmlld3BvcnRTY3JvbGxlci5zY3JvbGxUb1Bvc2l0aW9uKGUucG9zaXRpb24pOmUuYW5jaG9yJiYiZW5hYmxlZCI9PT10aGlzLm9wdGlvbnMuYW5jaG9yU2Nyb2xsaW5nP3RoaXMudmlld3BvcnRTY3JvbGxlci5zY3JvbGxUb0FuY2hvcihlLmFuY2hvcik6ImRpc2FibGVkIiE9PXRoaXMub3B0aW9ucy5zY3JvbGxQb3NpdGlvblJlc3RvcmF0aW9uJiZ0aGlzLnZpZXdwb3J0U2Nyb2xsZXIuc2Nyb2xsVG9Qb3NpdGlvbihbMCwwXSkpfSl9c2NoZWR1bGVTY3JvbGxFdmVudChlLHQpe3RoaXMucm91dGVyLnRyaWdnZXJFdmVudChuZXcgbWYoZSwicG9wc3RhdGUiPT09dGhpcy5sYXN0U291cmNlP3RoaXMuc3RvcmVbdGhpcy5yZXN0b3JlZElkXTpudWxsLHQpKX1uZ09uRGVzdHJveSgpe3RoaXMucm91dGVyRXZlbnRzU3Vic2NyaXB0aW9uJiZ0aGlzLnJvdXRlckV2ZW50c1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpLHRoaXMuc2Nyb2xsRXZlbnRzU3Vic2NyaXB0aW9uJiZ0aGlzLnNjcm9sbEV2ZW50c1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaShPbSksY2koS2gpLGNpKHZvaWQgMCkpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpO2NvbnN0IGptPW5ldyB6bigiUk9VVEVSX0NPTkZJR1VSQVRJT04iKSxObT1uZXcgem4oIlJPVVRFUl9GT1JST09UX0dVQVJEIiksQm09W1B1LHtwcm92aWRlOmpmLHVzZUNsYXNzOk5mfSx7cHJvdmlkZTpPbSx1c2VGYWN0b3J5OmZ1bmN0aW9uKGUsdCxuLGkscyxvLHIsYT17fSxsLGMpe2NvbnN0IHU9bmV3IE9tKG51bGwsZSx0LG4saSxzLG8sU2YocikpO3JldHVybiBsJiYodS51cmxIYW5kbGluZ1N0cmF0ZWd5PWwpLGMmJih1LnJvdXRlUmV1c2VTdHJhdGVneT1jKSxmdW5jdGlvbihlLHQpe2UuZXJyb3JIYW5kbGVyJiYodC5lcnJvckhhbmRsZXI9ZS5lcnJvckhhbmRsZXIpLGUubWFsZm9ybWVkVXJpRXJyb3JIYW5kbGVyJiYodC5tYWxmb3JtZWRVcmlFcnJvckhhbmRsZXI9ZS5tYWxmb3JtZWRVcmlFcnJvckhhbmRsZXIpLGUub25TYW1lVXJsTmF2aWdhdGlvbiYmKHQub25TYW1lVXJsTmF2aWdhdGlvbj1lLm9uU2FtZVVybE5hdmlnYXRpb24pLGUucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneSYmKHQucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneT1lLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3kpLGUucmVsYXRpdmVMaW5rUmVzb2x1dGlvbiYmKHQucmVsYXRpdmVMaW5rUmVzb2x1dGlvbj1lLnJlbGF0aXZlTGlua1Jlc29sdXRpb24pLGUudXJsVXBkYXRlU3RyYXRlZ3kmJih0LnVybFVwZGF0ZVN0cmF0ZWd5PWUudXJsVXBkYXRlU3RyYXRlZ3kpfShhLHUpLGEuZW5hYmxlVHJhY2luZyYmdS5ldmVudHMuc3Vic2NyaWJlKGU9Pnt2YXIgdCxuO251bGw9PT0odD1jb25zb2xlLmdyb3VwKXx8dm9pZCAwPT09dHx8dC5jYWxsKGNvbnNvbGUsYFJvdXRlciBFdmVudDogJHtlLmNvbnN0cnVjdG9yLm5hbWV9YCksY29uc29sZS5sb2coZS50b1N0cmluZygpKSxjb25zb2xlLmxvZyhlKSxudWxsPT09KG49Y29uc29sZS5ncm91cEVuZCl8fHZvaWQgMD09PW58fG4uY2FsbChjb25zb2xlKX0pLHV9LGRlcHM6W2pmLF9tLFB1LGxyLGN1LGpjLHltLGptLFtjbGFzc3t9LG5ldyBwaV0sW2NsYXNze30sbmV3IHBpXV19LF9tLHtwcm92aWRlOmFnLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucm91dGVyU3RhdGUucm9vdH0sZGVwczpbT21dfSx7cHJvdmlkZTpjdSx1c2VDbGFzczpkdX0sTG0sVm0sY2xhc3N7cHJlbG9hZChlLHQpe3JldHVybiB0KCkucGlwZShGcCgoKT0+QmQobnVsbCkpKX19LHtwcm92aWRlOmptLHVzZVZhbHVlOntlbmFibGVUcmFjaW5nOiExfX1dO2Z1bmN0aW9uICRtKCl7cmV0dXJuIG5ldyBudSgiUm91dGVyIixPbSl9bGV0IEhtPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSx0KXt9c3RhdGljIGZvclJvb3QodCxuKXtyZXR1cm57bmdNb2R1bGU6ZSxwcm92aWRlcnM6W0JtLFdtKHQpLHtwcm92aWRlOk5tLHVzZUZhY3Rvcnk6em0sZGVwczpbW09tLG5ldyBwaSxuZXcgZmldXX0se3Byb3ZpZGU6am0sdXNlVmFsdWU6bnx8e319LHtwcm92aWRlOk91LHVzZUZhY3Rvcnk6cW0sZGVwczpbQ3UsW25ldyBkaShGdSksbmV3IHBpXSxqbV19LHtwcm92aWRlOlJtLHVzZUZhY3Rvcnk6VW0sZGVwczpbT20sS2gsam1dfSx7cHJvdmlkZTpQbSx1c2VFeGlzdGluZzpuJiZuLnByZWxvYWRpbmdTdHJhdGVneT9uLnByZWxvYWRpbmdTdHJhdGVneTpWbX0se3Byb3ZpZGU6bnUsbXVsdGk6ITAsdXNlRmFjdG9yeTokbX0sW0dtLHtwcm92aWRlOkNjLG11bHRpOiEwLHVzZUZhY3Rvcnk6S20sZGVwczpbR21dfSx7cHJvdmlkZTpabSx1c2VGYWN0b3J5OlltLGRlcHM6W0dtXX0se3Byb3ZpZGU6eGMsbXVsdGk6ITAsdXNlRXhpc3Rpbmc6Wm19XV19fXN0YXRpYyBmb3JDaGlsZCh0KXtyZXR1cm57bmdNb2R1bGU6ZSxwcm92aWRlcnM6W1dtKHQpXX19fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKGNpKE5tLDgpLGNpKE9tLDgpKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHt9KSxlfSkoKTtmdW5jdGlvbiBVbShlLHQsbil7cmV0dXJuIG4uc2Nyb2xsT2Zmc2V0JiZ0LnNldE9mZnNldChuLnNjcm9sbE9mZnNldCksbmV3IFJtKGUsdCxuKX1mdW5jdGlvbiBxbShlLHQsbj17fSl7cmV0dXJuIG4udXNlSGFzaD9uZXcgTXUoZSx0KTpuZXcgSXUoZSx0KX1mdW5jdGlvbiB6bShlKXtyZXR1cm4iZ3VhcmRlZCJ9ZnVuY3Rpb24gV20oZSl7cmV0dXJuW3twcm92aWRlOlduLG11bHRpOiEwLHVzZVZhbHVlOmV9LHtwcm92aWRlOnltLG11bHRpOiEwLHVzZVZhbHVlOmV9XX1sZXQgR209KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmluamVjdG9yPWUsdGhpcy5pbml0TmF2aWdhdGlvbj0hMSx0aGlzLnJlc3VsdE9mUHJlYWN0aXZhdGlvbkRvbmU9bmV3IER9YXBwSW5pdGlhbGl6ZXIoKXtyZXR1cm4gdGhpcy5pbmplY3Rvci5nZXQoX3UsUHJvbWlzZS5yZXNvbHZlKG51bGwpKS50aGVuKCgpPT57bGV0IGU9bnVsbDtjb25zdCB0PW5ldyBQcm9taXNlKHQ9PmU9dCksbj10aGlzLmluamVjdG9yLmdldChPbSksaT10aGlzLmluamVjdG9yLmdldChqbSk7cmV0dXJuImRpc2FibGVkIj09PWkuaW5pdGlhbE5hdmlnYXRpb24/KG4uc2V0VXBMb2NhdGlvbkNoYW5nZUxpc3RlbmVyKCksZSghMCkpOiJlbmFibGVkIj09PWkuaW5pdGlhbE5hdmlnYXRpb258fCJlbmFibGVkQmxvY2tpbmciPT09aS5pbml0aWFsTmF2aWdhdGlvbj8obi5ob29rcy5hZnRlclByZWFjdGl2YXRpb249KCk9PnRoaXMuaW5pdE5hdmlnYXRpb24/QmQobnVsbCk6KHRoaXMuaW5pdE5hdmlnYXRpb249ITAsZSghMCksdGhpcy5yZXN1bHRPZlByZWFjdGl2YXRpb25Eb25lKSxuLmluaXRpYWxOYXZpZ2F0aW9uKCkpOmUoITApLHR9KX1ib290c3RyYXBMaXN0ZW5lcihlKXtjb25zdCB0PXRoaXMuaW5qZWN0b3IuZ2V0KGptKSxuPXRoaXMuaW5qZWN0b3IuZ2V0KExtKSxpPXRoaXMuaW5qZWN0b3IuZ2V0KFJtKSxzPXRoaXMuaW5qZWN0b3IuZ2V0KE9tKSxvPXRoaXMuaW5qZWN0b3IuZ2V0KGF1KTtlPT09by5jb21wb25lbnRzWzBdJiYoImVuYWJsZWROb25CbG9ja2luZyIhPT10LmluaXRpYWxOYXZpZ2F0aW9uJiZ2b2lkIDAhPT10LmluaXRpYWxOYXZpZ2F0aW9ufHxzLmluaXRpYWxOYXZpZ2F0aW9uKCksbi5zZXRVcFByZWxvYWRpbmcoKSxpLmluaXQoKSxzLnJlc2V0Um9vdENvbXBvbmVudFR5cGUoby5jb21wb25lbnRUeXBlc1swXSksdGhpcy5yZXN1bHRPZlByZWFjdGl2YXRpb25Eb25lLm5leHQobnVsbCksdGhpcy5yZXN1bHRPZlByZWFjdGl2YXRpb25Eb25lLmNvbXBsZXRlKCkpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaShscikpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpO2Z1bmN0aW9uIEttKGUpe3JldHVybiBlLmFwcEluaXRpYWxpemVyLmJpbmQoZSl9ZnVuY3Rpb24gWW0oZSl7cmV0dXJuIGUuYm9vdHN0cmFwTGlzdGVuZXIuYmluZChlKX1jb25zdCBabT1uZXcgem4oIlJvdXRlciBJbml0aWFsaXplciIpO2NsYXNzIFFte31jbGFzcyBKbXt9Y2xhc3MgWG17Y29uc3RydWN0b3IoZSl7dGhpcy5ub3JtYWxpemVkTmFtZXM9bmV3IE1hcCx0aGlzLmxhenlVcGRhdGU9bnVsbCxlP3RoaXMubGF6eUluaXQ9InN0cmluZyI9PXR5cGVvZiBlPygpPT57dGhpcy5oZWFkZXJzPW5ldyBNYXAsZS5zcGxpdCgiXG4iKS5mb3JFYWNoKGU9Pntjb25zdCB0PWUuaW5kZXhPZigiOiIpO2lmKHQ+MCl7Y29uc3Qgbj1lLnNsaWNlKDAsdCksaT1uLnRvTG93ZXJDYXNlKCkscz1lLnNsaWNlKHQrMSkudHJpbSgpO3RoaXMubWF5YmVTZXROb3JtYWxpemVkTmFtZShuLGkpLHRoaXMuaGVhZGVycy5oYXMoaSk/dGhpcy5oZWFkZXJzLmdldChpKS5wdXNoKHMpOnRoaXMuaGVhZGVycy5zZXQoaSxbc10pfX0pfTooKT0+e3RoaXMuaGVhZGVycz1uZXcgTWFwLE9iamVjdC5rZXlzKGUpLmZvckVhY2godD0+e2xldCBuPWVbdF07Y29uc3QgaT10LnRvTG93ZXJDYXNlKCk7InN0cmluZyI9PXR5cGVvZiBuJiYobj1bbl0pLG4ubGVuZ3RoPjAmJih0aGlzLmhlYWRlcnMuc2V0KGksbiksdGhpcy5tYXliZVNldE5vcm1hbGl6ZWROYW1lKHQsaSkpfSl9OnRoaXMuaGVhZGVycz1uZXcgTWFwfWhhcyhlKXtyZXR1cm4gdGhpcy5pbml0KCksdGhpcy5oZWFkZXJzLmhhcyhlLnRvTG93ZXJDYXNlKCkpfWdldChlKXt0aGlzLmluaXQoKTtjb25zdCB0PXRoaXMuaGVhZGVycy5nZXQoZS50b0xvd2VyQ2FzZSgpKTtyZXR1cm4gdCYmdC5sZW5ndGg+MD90WzBdOm51bGx9a2V5cygpe3JldHVybiB0aGlzLmluaXQoKSxBcnJheS5mcm9tKHRoaXMubm9ybWFsaXplZE5hbWVzLnZhbHVlcygpKX1nZXRBbGwoZSl7cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXMuaGVhZGVycy5nZXQoZS50b0xvd2VyQ2FzZSgpKXx8bnVsbH1hcHBlbmQoZSx0KXtyZXR1cm4gdGhpcy5jbG9uZSh7bmFtZTplLHZhbHVlOnQsb3A6ImEifSl9c2V0KGUsdCl7cmV0dXJuIHRoaXMuY2xvbmUoe25hbWU6ZSx2YWx1ZTp0LG9wOiJzIn0pfWRlbGV0ZShlLHQpe3JldHVybiB0aGlzLmNsb25lKHtuYW1lOmUsdmFsdWU6dCxvcDoiZCJ9KX1tYXliZVNldE5vcm1hbGl6ZWROYW1lKGUsdCl7dGhpcy5ub3JtYWxpemVkTmFtZXMuaGFzKHQpfHx0aGlzLm5vcm1hbGl6ZWROYW1lcy5zZXQodCxlKX1pbml0KCl7dGhpcy5sYXp5SW5pdCYmKHRoaXMubGF6eUluaXQgaW5zdGFuY2VvZiBYbT90aGlzLmNvcHlGcm9tKHRoaXMubGF6eUluaXQpOnRoaXMubGF6eUluaXQoKSx0aGlzLmxhenlJbml0PW51bGwsdGhpcy5sYXp5VXBkYXRlJiYodGhpcy5sYXp5VXBkYXRlLmZvckVhY2goZT0+dGhpcy5hcHBseVVwZGF0ZShlKSksdGhpcy5sYXp5VXBkYXRlPW51bGwpKX1jb3B5RnJvbShlKXtlLmluaXQoKSxBcnJheS5mcm9tKGUuaGVhZGVycy5rZXlzKCkpLmZvckVhY2godD0+e3RoaXMuaGVhZGVycy5zZXQodCxlLmhlYWRlcnMuZ2V0KHQpKSx0aGlzLm5vcm1hbGl6ZWROYW1lcy5zZXQodCxlLm5vcm1hbGl6ZWROYW1lcy5nZXQodCkpfSl9Y2xvbmUoZSl7Y29uc3QgdD1uZXcgWG07cmV0dXJuIHQubGF6eUluaXQ9dGhpcy5sYXp5SW5pdCYmdGhpcy5sYXp5SW5pdCBpbnN0YW5jZW9mIFhtP3RoaXMubGF6eUluaXQ6dGhpcyx0LmxhenlVcGRhdGU9KHRoaXMubGF6eVVwZGF0ZXx8W10pLmNvbmNhdChbZV0pLHR9YXBwbHlVcGRhdGUoZSl7Y29uc3QgdD1lLm5hbWUudG9Mb3dlckNhc2UoKTtzd2l0Y2goZS5vcCl7Y2FzZSJhIjpjYXNlInMiOmxldCBuPWUudmFsdWU7aWYoInN0cmluZyI9PXR5cGVvZiBuJiYobj1bbl0pLDA9PT1uLmxlbmd0aClyZXR1cm47dGhpcy5tYXliZVNldE5vcm1hbGl6ZWROYW1lKGUubmFtZSx0KTtjb25zdCBpPSgiYSI9PT1lLm9wP3RoaXMuaGVhZGVycy5nZXQodCk6dm9pZCAwKXx8W107aS5wdXNoKC4uLm4pLHRoaXMuaGVhZGVycy5zZXQodCxpKTticmVhaztjYXNlImQiOmNvbnN0IHM9ZS52YWx1ZTtpZihzKXtsZXQgZT10aGlzLmhlYWRlcnMuZ2V0KHQpO2lmKCFlKXJldHVybjtlPWUuZmlsdGVyKGU9Pi0xPT09cy5pbmRleE9mKGUpKSwwPT09ZS5sZW5ndGg/KHRoaXMuaGVhZGVycy5kZWxldGUodCksdGhpcy5ub3JtYWxpemVkTmFtZXMuZGVsZXRlKHQpKTp0aGlzLmhlYWRlcnMuc2V0KHQsZSl9ZWxzZSB0aGlzLmhlYWRlcnMuZGVsZXRlKHQpLHRoaXMubm9ybWFsaXplZE5hbWVzLmRlbGV0ZSh0KX19Zm9yRWFjaChlKXt0aGlzLmluaXQoKSxBcnJheS5mcm9tKHRoaXMubm9ybWFsaXplZE5hbWVzLmtleXMoKSkuZm9yRWFjaCh0PT5lKHRoaXMubm9ybWFsaXplZE5hbWVzLmdldCh0KSx0aGlzLmhlYWRlcnMuZ2V0KHQpKSl9fWNsYXNzIGV2e2VuY29kZUtleShlKXtyZXR1cm4gdHYoZSl9ZW5jb2RlVmFsdWUoZSl7cmV0dXJuIHR2KGUpfWRlY29kZUtleShlKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGUpfWRlY29kZVZhbHVlKGUpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9fWZ1bmN0aW9uIHR2KGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSkucmVwbGFjZSgvJTQwL2dpLCJAIikucmVwbGFjZSgvJTNBL2dpLCI6IikucmVwbGFjZSgvJTI0L2dpLCIkIikucmVwbGFjZSgvJTJDL2dpLCIsIikucmVwbGFjZSgvJTNCL2dpLCI7IikucmVwbGFjZSgvJTJCL2dpLCIrIikucmVwbGFjZSgvJTNEL2dpLCI9IikucmVwbGFjZSgvJTNGL2dpLCI/IikucmVwbGFjZSgvJTJGL2dpLCIvIil9ZnVuY3Rpb24gbnYoZSl7cmV0dXJuYCR7ZX1gfWNsYXNzIGl2e2NvbnN0cnVjdG9yKGU9e30pe2lmKHRoaXMudXBkYXRlcz1udWxsLHRoaXMuY2xvbmVGcm9tPW51bGwsdGhpcy5lbmNvZGVyPWUuZW5jb2Rlcnx8bmV3IGV2LGUuZnJvbVN0cmluZyl7aWYoZS5mcm9tT2JqZWN0KXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHNwZWNpZnkgYm90aCBmcm9tU3RyaW5nIGFuZCBmcm9tT2JqZWN0LiIpO3RoaXMubWFwPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1uZXcgTWFwO3JldHVybiBlLmxlbmd0aD4wJiZlLnJlcGxhY2UoL15cPy8sIiIpLnNwbGl0KCImIikuZm9yRWFjaChlPT57Y29uc3QgaT1lLmluZGV4T2YoIj0iKSxbcyxvXT0tMT09aT9bdC5kZWNvZGVLZXkoZSksIiJdOlt0LmRlY29kZUtleShlLnNsaWNlKDAsaSkpLHQuZGVjb2RlVmFsdWUoZS5zbGljZShpKzEpKV0scj1uLmdldChzKXx8W107ci5wdXNoKG8pLG4uc2V0KHMscil9KSxufShlLmZyb21TdHJpbmcsdGhpcy5lbmNvZGVyKX1lbHNlIGUuZnJvbU9iamVjdD8odGhpcy5tYXA9bmV3IE1hcCxPYmplY3Qua2V5cyhlLmZyb21PYmplY3QpLmZvckVhY2godD0+e2NvbnN0IG49ZS5mcm9tT2JqZWN0W3RdO3RoaXMubWFwLnNldCh0LEFycmF5LmlzQXJyYXkobik/bjpbbl0pfSkpOnRoaXMubWFwPW51bGx9aGFzKGUpe3JldHVybiB0aGlzLmluaXQoKSx0aGlzLm1hcC5oYXMoZSl9Z2V0KGUpe3RoaXMuaW5pdCgpO2NvbnN0IHQ9dGhpcy5tYXAuZ2V0KGUpO3JldHVybiB0P3RbMF06bnVsbH1nZXRBbGwoZSl7cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXMubWFwLmdldChlKXx8bnVsbH1rZXlzKCl7cmV0dXJuIHRoaXMuaW5pdCgpLEFycmF5LmZyb20odGhpcy5tYXAua2V5cygpKX1hcHBlbmQoZSx0KXtyZXR1cm4gdGhpcy5jbG9uZSh7cGFyYW06ZSx2YWx1ZTp0LG9wOiJhIn0pfWFwcGVuZEFsbChlKXtjb25zdCB0PVtdO3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKG49Pntjb25zdCBpPWVbbl07QXJyYXkuaXNBcnJheShpKT9pLmZvckVhY2goZT0+e3QucHVzaCh7cGFyYW06bix2YWx1ZTplLG9wOiJhIn0pfSk6dC5wdXNoKHtwYXJhbTpuLHZhbHVlOmksb3A6ImEifSl9KSx0aGlzLmNsb25lKHQpfXNldChlLHQpe3JldHVybiB0aGlzLmNsb25lKHtwYXJhbTplLHZhbHVlOnQsb3A6InMifSl9ZGVsZXRlKGUsdCl7cmV0dXJuIHRoaXMuY2xvbmUoe3BhcmFtOmUsdmFsdWU6dCxvcDoiZCJ9KX10b1N0cmluZygpe3JldHVybiB0aGlzLmluaXQoKSx0aGlzLmtleXMoKS5tYXAoZT0+e2NvbnN0IHQ9dGhpcy5lbmNvZGVyLmVuY29kZUtleShlKTtyZXR1cm4gdGhpcy5tYXAuZ2V0KGUpLm1hcChlPT50KyI9Iit0aGlzLmVuY29kZXIuZW5jb2RlVmFsdWUoZSkpLmpvaW4oIiYiKX0pLmZpbHRlcihlPT4iIiE9PWUpLmpvaW4oIiYiKX1jbG9uZShlKXtjb25zdCB0PW5ldyBpdih7ZW5jb2Rlcjp0aGlzLmVuY29kZXJ9KTtyZXR1cm4gdC5jbG9uZUZyb209dGhpcy5jbG9uZUZyb218fHRoaXMsdC51cGRhdGVzPSh0aGlzLnVwZGF0ZXN8fFtdKS5jb25jYXQoZSksdH1pbml0KCl7bnVsbD09PXRoaXMubWFwJiYodGhpcy5tYXA9bmV3IE1hcCksbnVsbCE9PXRoaXMuY2xvbmVGcm9tJiYodGhpcy5jbG9uZUZyb20uaW5pdCgpLHRoaXMuY2xvbmVGcm9tLmtleXMoKS5mb3JFYWNoKGU9PnRoaXMubWFwLnNldChlLHRoaXMuY2xvbmVGcm9tLm1hcC5nZXQoZSkpKSx0aGlzLnVwZGF0ZXMuZm9yRWFjaChlPT57c3dpdGNoKGUub3Ape2Nhc2UiYSI6Y2FzZSJzIjpjb25zdCB0PSgiYSI9PT1lLm9wP3RoaXMubWFwLmdldChlLnBhcmFtKTp2b2lkIDApfHxbXTt0LnB1c2gobnYoZS52YWx1ZSkpLHRoaXMubWFwLnNldChlLnBhcmFtLHQpO2JyZWFrO2Nhc2UiZCI6aWYodm9pZCAwPT09ZS52YWx1ZSl7dGhpcy5tYXAuZGVsZXRlKGUucGFyYW0pO2JyZWFrfXtsZXQgdD10aGlzLm1hcC5nZXQoZS5wYXJhbSl8fFtdO2NvbnN0IG49dC5pbmRleE9mKG52KGUudmFsdWUpKTstMSE9PW4mJnQuc3BsaWNlKG4sMSksdC5sZW5ndGg+MD90aGlzLm1hcC5zZXQoZS5wYXJhbSx0KTp0aGlzLm1hcC5kZWxldGUoZS5wYXJhbSl9fX0pLHRoaXMuY2xvbmVGcm9tPXRoaXMudXBkYXRlcz1udWxsKX19Y2xhc3Mgc3Z7Y29uc3RydWN0b3IoKXt0aGlzLm1hcD1uZXcgTWFwfXNldChlLHQpe3JldHVybiB0aGlzLm1hcC5zZXQoZSx0KSx0aGlzfWdldChlKXtyZXR1cm4gdGhpcy5tYXAuaGFzKGUpfHx0aGlzLm1hcC5zZXQoZSxlLmRlZmF1bHRWYWx1ZSgpKSx0aGlzLm1hcC5nZXQoZSl9ZGVsZXRlKGUpe3JldHVybiB0aGlzLm1hcC5kZWxldGUoZSksdGhpc31rZXlzKCl7cmV0dXJuIHRoaXMubWFwLmtleXMoKX19ZnVuY3Rpb24gb3YoZSl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfWZ1bmN0aW9uIHJ2KGUpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQmxvYiYmZSBpbnN0YW5jZW9mIEJsb2J9ZnVuY3Rpb24gYXYoZSl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBGb3JtRGF0YSYmZSBpbnN0YW5jZW9mIEZvcm1EYXRhfWNsYXNzIGx2e2NvbnN0cnVjdG9yKGUsdCxuLGkpe2xldCBzO2lmKHRoaXMudXJsPXQsdGhpcy5ib2R5PW51bGwsdGhpcy5yZXBvcnRQcm9ncmVzcz0hMSx0aGlzLndpdGhDcmVkZW50aWFscz0hMSx0aGlzLnJlc3BvbnNlVHlwZT0ianNvbiIsdGhpcy5tZXRob2Q9ZS50b1VwcGVyQ2FzZSgpLGZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIkRFTEVURSI6Y2FzZSJHRVQiOmNhc2UiSEVBRCI6Y2FzZSJPUFRJT05TIjpjYXNlIkpTT05QIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiEwfX0odGhpcy5tZXRob2QpfHxpPyh0aGlzLmJvZHk9dm9pZCAwIT09bj9uOm51bGwscz1pKTpzPW4scyYmKHRoaXMucmVwb3J0UHJvZ3Jlc3M9ISFzLnJlcG9ydFByb2dyZXNzLHRoaXMud2l0aENyZWRlbnRpYWxzPSEhcy53aXRoQ3JlZGVudGlhbHMscy5yZXNwb25zZVR5cGUmJih0aGlzLnJlc3BvbnNlVHlwZT1zLnJlc3BvbnNlVHlwZSkscy5oZWFkZXJzJiYodGhpcy5oZWFkZXJzPXMuaGVhZGVycykscy5jb250ZXh0JiYodGhpcy5jb250ZXh0PXMuY29udGV4dCkscy5wYXJhbXMmJih0aGlzLnBhcmFtcz1zLnBhcmFtcykpLHRoaXMuaGVhZGVyc3x8KHRoaXMuaGVhZGVycz1uZXcgWG0pLHRoaXMuY29udGV4dHx8KHRoaXMuY29udGV4dD1uZXcgc3YpLHRoaXMucGFyYW1zKXtjb25zdCBlPXRoaXMucGFyYW1zLnRvU3RyaW5nKCk7aWYoMD09PWUubGVuZ3RoKXRoaXMudXJsV2l0aFBhcmFtcz10O2Vsc2V7Y29uc3Qgbj10LmluZGV4T2YoIj8iKTt0aGlzLnVybFdpdGhQYXJhbXM9dCsoLTE9PT1uPyI/IjpuPHQubGVuZ3RoLTE/IiYiOiIiKStlfX1lbHNlIHRoaXMucGFyYW1zPW5ldyBpdix0aGlzLnVybFdpdGhQYXJhbXM9dH1zZXJpYWxpemVCb2R5KCl7cmV0dXJuIG51bGw9PT10aGlzLmJvZHk/bnVsbDpvdih0aGlzLmJvZHkpfHxydih0aGlzLmJvZHkpfHxhdih0aGlzLmJvZHkpfHwic3RyaW5nIj09dHlwZW9mIHRoaXMuYm9keT90aGlzLmJvZHk6dGhpcy5ib2R5IGluc3RhbmNlb2YgaXY/dGhpcy5ib2R5LnRvU3RyaW5nKCk6Im9iamVjdCI9PXR5cGVvZiB0aGlzLmJvZHl8fCJib29sZWFuIj09dHlwZW9mIHRoaXMuYm9keXx8QXJyYXkuaXNBcnJheSh0aGlzLmJvZHkpP0pTT04uc3RyaW5naWZ5KHRoaXMuYm9keSk6dGhpcy5ib2R5LnRvU3RyaW5nKCl9ZGV0ZWN0Q29udGVudFR5cGVIZWFkZXIoKXtyZXR1cm4gbnVsbD09PXRoaXMuYm9keXx8YXYodGhpcy5ib2R5KT9udWxsOnJ2KHRoaXMuYm9keSk/dGhpcy5ib2R5LnR5cGV8fG51bGw6b3YodGhpcy5ib2R5KT9udWxsOiJzdHJpbmciPT10eXBlb2YgdGhpcy5ib2R5PyJ0ZXh0L3BsYWluIjp0aGlzLmJvZHkgaW5zdGFuY2VvZiBpdj8iYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgiOiJvYmplY3QiPT10eXBlb2YgdGhpcy5ib2R5fHwibnVtYmVyIj09dHlwZW9mIHRoaXMuYm9keXx8ImJvb2xlYW4iPT10eXBlb2YgdGhpcy5ib2R5PyJhcHBsaWNhdGlvbi9qc29uIjpudWxsfWNsb25lKGU9e30pe3ZhciB0O2NvbnN0IG49ZS5tZXRob2R8fHRoaXMubWV0aG9kLGk9ZS51cmx8fHRoaXMudXJsLHM9ZS5yZXNwb25zZVR5cGV8fHRoaXMucmVzcG9uc2VUeXBlLG89dm9pZCAwIT09ZS5ib2R5P2UuYm9keTp0aGlzLmJvZHkscj12b2lkIDAhPT1lLndpdGhDcmVkZW50aWFscz9lLndpdGhDcmVkZW50aWFsczp0aGlzLndpdGhDcmVkZW50aWFscyxhPXZvaWQgMCE9PWUucmVwb3J0UHJvZ3Jlc3M/ZS5yZXBvcnRQcm9ncmVzczp0aGlzLnJlcG9ydFByb2dyZXNzO2xldCBsPWUuaGVhZGVyc3x8dGhpcy5oZWFkZXJzLGM9ZS5wYXJhbXN8fHRoaXMucGFyYW1zO2NvbnN0IHU9bnVsbCE9PSh0PWUuY29udGV4dCkmJnZvaWQgMCE9PXQ/dDp0aGlzLmNvbnRleHQ7cmV0dXJuIHZvaWQgMCE9PWUuc2V0SGVhZGVycyYmKGw9T2JqZWN0LmtleXMoZS5zZXRIZWFkZXJzKS5yZWR1Y2UoKHQsbik9PnQuc2V0KG4sZS5zZXRIZWFkZXJzW25dKSxsKSksZS5zZXRQYXJhbXMmJihjPU9iamVjdC5rZXlzKGUuc2V0UGFyYW1zKS5yZWR1Y2UoKHQsbik9PnQuc2V0KG4sZS5zZXRQYXJhbXNbbl0pLGMpKSxuZXcgbHYobixpLG8se3BhcmFtczpjLGhlYWRlcnM6bCxjb250ZXh0OnUscmVwb3J0UHJvZ3Jlc3M6YSxyZXNwb25zZVR5cGU6cyx3aXRoQ3JlZGVudGlhbHM6cn0pfX12YXIgY3Y9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5TZW50PTBdPSJTZW50IixlW2UuVXBsb2FkUHJvZ3Jlc3M9MV09IlVwbG9hZFByb2dyZXNzIixlW2UuUmVzcG9uc2VIZWFkZXI9Ml09IlJlc3BvbnNlSGVhZGVyIixlW2UuRG93bmxvYWRQcm9ncmVzcz0zXT0iRG93bmxvYWRQcm9ncmVzcyIsZVtlLlJlc3BvbnNlPTRdPSJSZXNwb25zZSIsZVtlLlVzZXI9NV09IlVzZXIiLGV9KHt9KTtjbGFzcyB1dntjb25zdHJ1Y3RvcihlLHQ9MjAwLG49Ik9LIil7dGhpcy5oZWFkZXJzPWUuaGVhZGVyc3x8bmV3IFhtLHRoaXMuc3RhdHVzPXZvaWQgMCE9PWUuc3RhdHVzP2Uuc3RhdHVzOnQsdGhpcy5zdGF0dXNUZXh0PWUuc3RhdHVzVGV4dHx8bix0aGlzLnVybD1lLnVybHx8bnVsbCx0aGlzLm9rPXRoaXMuc3RhdHVzPj0yMDAmJnRoaXMuc3RhdHVzPDMwMH19Y2xhc3MgaHYgZXh0ZW5kcyB1dntjb25zdHJ1Y3RvcihlPXt9KXtzdXBlcihlKSx0aGlzLnR5cGU9Y3YuUmVzcG9uc2VIZWFkZXJ9Y2xvbmUoZT17fSl7cmV0dXJuIG5ldyBodih7aGVhZGVyczplLmhlYWRlcnN8fHRoaXMuaGVhZGVycyxzdGF0dXM6dm9pZCAwIT09ZS5zdGF0dXM/ZS5zdGF0dXM6dGhpcy5zdGF0dXMsc3RhdHVzVGV4dDplLnN0YXR1c1RleHR8fHRoaXMuc3RhdHVzVGV4dCx1cmw6ZS51cmx8fHRoaXMudXJsfHx2b2lkIDB9KX19Y2xhc3MgZHYgZXh0ZW5kcyB1dntjb25zdHJ1Y3RvcihlPXt9KXtzdXBlcihlKSx0aGlzLnR5cGU9Y3YuUmVzcG9uc2UsdGhpcy5ib2R5PXZvaWQgMCE9PWUuYm9keT9lLmJvZHk6bnVsbH1jbG9uZShlPXt9KXtyZXR1cm4gbmV3IGR2KHtib2R5OnZvaWQgMCE9PWUuYm9keT9lLmJvZHk6dGhpcy5ib2R5LGhlYWRlcnM6ZS5oZWFkZXJzfHx0aGlzLmhlYWRlcnMsc3RhdHVzOnZvaWQgMCE9PWUuc3RhdHVzP2Uuc3RhdHVzOnRoaXMuc3RhdHVzLHN0YXR1c1RleHQ6ZS5zdGF0dXNUZXh0fHx0aGlzLnN0YXR1c1RleHQsdXJsOmUudXJsfHx0aGlzLnVybHx8dm9pZCAwfSl9fWNsYXNzIHB2IGV4dGVuZHMgdXZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSwwLCJVbmtub3duIEVycm9yIiksdGhpcy5uYW1lPSJIdHRwRXJyb3JSZXNwb25zZSIsdGhpcy5vaz0hMSx0aGlzLm1lc3NhZ2U9dGhpcy5zdGF0dXM+PTIwMCYmdGhpcy5zdGF0dXM8MzAwP2BIdHRwIGZhaWx1cmUgZHVyaW5nIHBhcnNpbmcgZm9yICR7ZS51cmx8fCIodW5rbm93biB1cmwpIn1gOmBIdHRwIGZhaWx1cmUgcmVzcG9uc2UgZm9yICR7ZS51cmx8fCIodW5rbm93biB1cmwpIn06ICR7ZS5zdGF0dXN9ICR7ZS5zdGF0dXNUZXh0fWAsdGhpcy5lcnJvcj1lLmVycm9yfHxudWxsfX1mdW5jdGlvbiBmdihlLHQpe3JldHVybntib2R5OnQsaGVhZGVyczplLmhlYWRlcnMsY29udGV4dDplLmNvbnRleHQsb2JzZXJ2ZTplLm9ic2VydmUscGFyYW1zOmUucGFyYW1zLHJlcG9ydFByb2dyZXNzOmUucmVwb3J0UHJvZ3Jlc3MscmVzcG9uc2VUeXBlOmUucmVzcG9uc2VUeXBlLHdpdGhDcmVkZW50aWFsczplLndpdGhDcmVkZW50aWFsc319bGV0IGd2PSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSl7dGhpcy5oYW5kbGVyPWV9cmVxdWVzdChlLHQsbj17fSl7bGV0IGk7aWYoZSBpbnN0YW5jZW9mIGx2KWk9ZTtlbHNle2xldCBzLG87cz1uLmhlYWRlcnMgaW5zdGFuY2VvZiBYbT9uLmhlYWRlcnM6bmV3IFhtKG4uaGVhZGVycyksbi5wYXJhbXMmJihvPW4ucGFyYW1zIGluc3RhbmNlb2YgaXY/bi5wYXJhbXM6bmV3IGl2KHtmcm9tT2JqZWN0Om4ucGFyYW1zfSkpLGk9bmV3IGx2KGUsdCx2b2lkIDAhPT1uLmJvZHk/bi5ib2R5Om51bGwse2hlYWRlcnM6cyxjb250ZXh0Om4uY29udGV4dCxwYXJhbXM6byxyZXBvcnRQcm9ncmVzczpuLnJlcG9ydFByb2dyZXNzLHJlc3BvbnNlVHlwZTpuLnJlc3BvbnNlVHlwZXx8Impzb24iLHdpdGhDcmVkZW50aWFsczpuLndpdGhDcmVkZW50aWFsc30pfWNvbnN0IHM9QmQoaSkucGlwZShQcChlPT50aGlzLmhhbmRsZXIuaGFuZGxlKGUpKSk7aWYoZSBpbnN0YW5jZW9mIGx2fHwiZXZlbnRzIj09PW4ub2JzZXJ2ZSlyZXR1cm4gcztjb25zdCBvPXMucGlwZShBcChlPT5lIGluc3RhbmNlb2YgZHYpKTtzd2l0Y2gobi5vYnNlcnZlfHwiYm9keSIpe2Nhc2UiYm9keSI6c3dpdGNoKGkucmVzcG9uc2VUeXBlKXtjYXNlImFycmF5YnVmZmVyIjpyZXR1cm4gby5waXBlKGsoZT0+e2lmKG51bGwhPT1lLmJvZHkmJiEoZS5ib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKXRocm93IG5ldyBFcnJvcigiUmVzcG9uc2UgaXMgbm90IGFuIEFycmF5QnVmZmVyLiIpO3JldHVybiBlLmJvZHl9KSk7Y2FzZSJibG9iIjpyZXR1cm4gby5waXBlKGsoZT0+e2lmKG51bGwhPT1lLmJvZHkmJiEoZS5ib2R5IGluc3RhbmNlb2YgQmxvYikpdGhyb3cgbmV3IEVycm9yKCJSZXNwb25zZSBpcyBub3QgYSBCbG9iLiIpO3JldHVybiBlLmJvZHl9KSk7Y2FzZSJ0ZXh0IjpyZXR1cm4gby5waXBlKGsoZT0+e2lmKG51bGwhPT1lLmJvZHkmJiJzdHJpbmciIT10eXBlb2YgZS5ib2R5KXRocm93IG5ldyBFcnJvcigiUmVzcG9uc2UgaXMgbm90IGEgc3RyaW5nLiIpO3JldHVybiBlLmJvZHl9KSk7Y2FzZSJqc29uIjpkZWZhdWx0OnJldHVybiBvLnBpcGUoayhlPT5lLmJvZHkpKX1jYXNlInJlc3BvbnNlIjpyZXR1cm4gbztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5yZWFjaGFibGU6IHVuaGFuZGxlZCBvYnNlcnZlIHR5cGUgJHtuLm9ic2VydmV9fWApfX1kZWxldGUoZSx0PXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJERUxFVEUiLGUsdCl9Z2V0KGUsdD17fSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiR0VUIixlLHQpfWhlYWQoZSx0PXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJIRUFEIixlLHQpfWpzb25wKGUsdCl7cmV0dXJuIHRoaXMucmVxdWVzdCgiSlNPTlAiLGUse3BhcmFtczoobmV3IGl2KS5hcHBlbmQodCwiSlNPTlBfQ0FMTEJBQ0siKSxvYnNlcnZlOiJib2R5IixyZXNwb25zZVR5cGU6Impzb24ifSl9b3B0aW9ucyhlLHQ9e30pe3JldHVybiB0aGlzLnJlcXVlc3QoIk9QVElPTlMiLGUsdCl9cGF0Y2goZSx0LG49e30pe3JldHVybiB0aGlzLnJlcXVlc3QoIlBBVENIIixlLGZ2KG4sdCkpfXBvc3QoZSx0LG49e30pe3JldHVybiB0aGlzLnJlcXVlc3QoIlBPU1QiLGUsZnYobix0KSl9cHV0KGUsdCxuPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJQVVQiLGUsZnYobix0KSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKGNpKFFtKSl9LGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxmYWN0b3J5OmUuXHUwMjc1ZmFjfSksZX0pKCk7Y2xhc3MgbXZ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLm5leHQ9ZSx0aGlzLmludGVyY2VwdG9yPXR9aGFuZGxlKGUpe3JldHVybiB0aGlzLmludGVyY2VwdG9yLmludGVyY2VwdChlLHRoaXMubmV4dCl9fWNvbnN0IHZ2PW5ldyB6bigiSFRUUF9JTlRFUkNFUFRPUlMiKTtsZXQgYnY9KCgpPT57Y2xhc3MgZXtpbnRlcmNlcHQoZSx0KXtyZXR1cm4gdC5oYW5kbGUoZSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpO2NvbnN0IHl2PS9eXClcXVx9Jyw/XG4vO2xldCBDdj0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUpe3RoaXMueGhyRmFjdG9yeT1lfWhhbmRsZShlKXtpZigiSlNPTlAiPT09ZS5tZXRob2QpdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gY29uc3RydWN0IEpzb25wIHJlcXVlc3Qgd2l0aG91dCBIdHRwQ2xpZW50SnNvbnBNb2R1bGUgaW5zdGFsbGVkLiIpO3JldHVybiBuZXcgYih0PT57Y29uc3Qgbj10aGlzLnhockZhY3RvcnkuYnVpbGQoKTtpZihuLm9wZW4oZS5tZXRob2QsZS51cmxXaXRoUGFyYW1zKSxlLndpdGhDcmVkZW50aWFscyYmKG4ud2l0aENyZWRlbnRpYWxzPSEwKSxlLmhlYWRlcnMuZm9yRWFjaCgoZSx0KT0+bi5zZXRSZXF1ZXN0SGVhZGVyKGUsdC5qb2luKCIsIikpKSxlLmhlYWRlcnMuaGFzKCJBY2NlcHQiKXx8bi5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyoiKSwhZS5oZWFkZXJzLmhhcygiQ29udGVudC1UeXBlIikpe2NvbnN0IHQ9ZS5kZXRlY3RDb250ZW50VHlwZUhlYWRlcigpO251bGwhPT10JiZuLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsdCl9aWYoZS5yZXNwb25zZVR5cGUpe2NvbnN0IHQ9ZS5yZXNwb25zZVR5cGUudG9Mb3dlckNhc2UoKTtuLnJlc3BvbnNlVHlwZT0ianNvbiIhPT10P3Q6InRleHQifWNvbnN0IGk9ZS5zZXJpYWxpemVCb2R5KCk7bGV0IHM9bnVsbDtjb25zdCBvPSgpPT57aWYobnVsbCE9PXMpcmV0dXJuIHM7Y29uc3QgdD0xMjIzPT09bi5zdGF0dXM/MjA0Om4uc3RhdHVzLGk9bi5zdGF0dXNUZXh0fHwiT0siLG89bmV3IFhtKG4uZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpLHI9ZnVuY3Rpb24oZSl7cmV0dXJuInJlc3BvbnNlVVJMImluIGUmJmUucmVzcG9uc2VVUkw/ZS5yZXNwb25zZVVSTDovXlgtUmVxdWVzdC1VUkw6L20udGVzdChlLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKT9lLmdldFJlc3BvbnNlSGVhZGVyKCJYLVJlcXVlc3QtVVJMIik6bnVsbH0obil8fGUudXJsO3JldHVybiBzPW5ldyBodih7aGVhZGVyczpvLHN0YXR1czp0LHN0YXR1c1RleHQ6aSx1cmw6cn0pLHN9LHI9KCk9PntsZXR7aGVhZGVyczppLHN0YXR1czpzLHN0YXR1c1RleHQ6cix1cmw6YX09bygpLGw9bnVsbDsyMDQhPT1zJiYobD12b2lkIDA9PT1uLnJlc3BvbnNlP24ucmVzcG9uc2VUZXh0Om4ucmVzcG9uc2UpLDA9PT1zJiYocz1sPzIwMDowKTtsZXQgYz1zPj0yMDAmJnM8MzAwO2lmKCJqc29uIj09PWUucmVzcG9uc2VUeXBlJiYic3RyaW5nIj09dHlwZW9mIGwpe2NvbnN0IGU9bDtsPWwucmVwbGFjZSh5diwiIik7dHJ5e2w9IiIhPT1sP0pTT04ucGFyc2UobCk6bnVsbH1jYXRjaCh1KXtsPWUsYyYmKGM9ITEsbD17ZXJyb3I6dSx0ZXh0Omx9KX19Yz8odC5uZXh0KG5ldyBkdih7Ym9keTpsLGhlYWRlcnM6aSxzdGF0dXM6cyxzdGF0dXNUZXh0OnIsdXJsOmF8fHZvaWQgMH0pKSx0LmNvbXBsZXRlKCkpOnQuZXJyb3IobmV3IHB2KHtlcnJvcjpsLGhlYWRlcnM6aSxzdGF0dXM6cyxzdGF0dXNUZXh0OnIsdXJsOmF8fHZvaWQgMH0pKX0sYT1lPT57Y29uc3R7dXJsOml9PW8oKSxzPW5ldyBwdih7ZXJyb3I6ZSxzdGF0dXM6bi5zdGF0dXN8fDAsc3RhdHVzVGV4dDpuLnN0YXR1c1RleHR8fCJVbmtub3duIEVycm9yIix1cmw6aXx8dm9pZCAwfSk7dC5lcnJvcihzKX07bGV0IGw9ITE7Y29uc3QgYz1pPT57bHx8KHQubmV4dChvKCkpLGw9ITApO2xldCBzPXt0eXBlOmN2LkRvd25sb2FkUHJvZ3Jlc3MsbG9hZGVkOmkubG9hZGVkfTtpLmxlbmd0aENvbXB1dGFibGUmJihzLnRvdGFsPWkudG90YWwpLCJ0ZXh0Ij09PWUucmVzcG9uc2VUeXBlJiZuLnJlc3BvbnNlVGV4dCYmKHMucGFydGlhbFRleHQ9bi5yZXNwb25zZVRleHQpLHQubmV4dChzKX0sdT1lPT57bGV0IG49e3R5cGU6Y3YuVXBsb2FkUHJvZ3Jlc3MsbG9hZGVkOmUubG9hZGVkfTtlLmxlbmd0aENvbXB1dGFibGUmJihuLnRvdGFsPWUudG90YWwpLHQubmV4dChuKX07cmV0dXJuIG4uYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsciksbi5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsYSksbi5hZGRFdmVudExpc3RlbmVyKCJ0aW1lb3V0IixhKSxuLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IixhKSxlLnJlcG9ydFByb2dyZXNzJiYobi5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsYyksbnVsbCE9PWkmJm4udXBsb2FkJiZuLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsdSkpLG4uc2VuZChpKSx0Lm5leHQoe3R5cGU6Y3YuU2VudH0pLCgpPT57bi5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsYSksbi5yZW1vdmVFdmVudExpc3RlbmVyKCJhYm9ydCIsYSksbi5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixyKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRpbWVvdXQiLGEpLGUucmVwb3J0UHJvZ3Jlc3MmJihuLnJlbW92ZUV2ZW50TGlzdGVuZXIoInByb2dyZXNzIixjKSxudWxsIT09aSYmbi51cGxvYWQmJm4udXBsb2FkLnJlbW92ZUV2ZW50TGlzdGVuZXIoInByb2dyZXNzIix1KSksbi5yZWFkeVN0YXRlIT09bi5ET05FJiZuLmFib3J0KCl9fSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKGNpKFFoKSl9LGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxmYWN0b3J5OmUuXHUwMjc1ZmFjfSksZX0pKCk7Y29uc3Qgd3Y9bmV3IHpuKCJYU1JGX0NPT0tJRV9OQU1FIiksX3Y9bmV3IHpuKCJYU1JGX0hFQURFUl9OQU1FIik7Y2xhc3MgRHZ7fWxldCBTdj0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLmRvYz1lLHRoaXMucGxhdGZvcm09dCx0aGlzLmNvb2tpZU5hbWU9bix0aGlzLmxhc3RDb29raWVTdHJpbmc9IiIsdGhpcy5sYXN0VG9rZW49bnVsbCx0aGlzLnBhcnNlQ291bnQ9MH1nZXRUb2tlbigpe2lmKCJzZXJ2ZXIiPT09dGhpcy5wbGF0Zm9ybSlyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMuZG9jLmNvb2tpZXx8IiI7cmV0dXJuIGUhPT10aGlzLmxhc3RDb29raWVTdHJpbmcmJih0aGlzLnBhcnNlQ291bnQrKyx0aGlzLmxhc3RUb2tlbj1raChlLHRoaXMuY29va2llTmFtZSksdGhpcy5sYXN0Q29va2llU3RyaW5nPWUpLHRoaXMubGFzdFRva2VufX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaSh5dSksY2koa2MpLGNpKHd2KSl9LGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxmYWN0b3J5OmUuXHUwMjc1ZmFjfSksZX0pKCksRXY9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMudG9rZW5TZXJ2aWNlPWUsdGhpcy5oZWFkZXJOYW1lPXR9aW50ZXJjZXB0KGUsdCl7Y29uc3Qgbj1lLnVybC50b0xvd2VyQ2FzZSgpO2lmKCJHRVQiPT09ZS5tZXRob2R8fCJIRUFEIj09PWUubWV0aG9kfHxuLnN0YXJ0c1dpdGgoImh0dHA6Ly8iKXx8bi5zdGFydHNXaXRoKCJodHRwczovLyIpKXJldHVybiB0LmhhbmRsZShlKTtjb25zdCBpPXRoaXMudG9rZW5TZXJ2aWNlLmdldFRva2VuKCk7cmV0dXJuIG51bGw9PT1pfHxlLmhlYWRlcnMuaGFzKHRoaXMuaGVhZGVyTmFtZSl8fChlPWUuY2xvbmUoe2hlYWRlcnM6ZS5oZWFkZXJzLnNldCh0aGlzLmhlYWRlck5hbWUsaSl9KSksdC5oYW5kbGUoZSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKGNpKER2KSxjaShfdikpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpLGt2PSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmJhY2tlbmQ9ZSx0aGlzLmluamVjdG9yPXQsdGhpcy5jaGFpbj1udWxsfWhhbmRsZShlKXtpZihudWxsPT09dGhpcy5jaGFpbil7Y29uc3QgZT10aGlzLmluamVjdG9yLmdldCh2dixbXSk7dGhpcy5jaGFpbj1lLnJlZHVjZVJpZ2h0KChlLHQpPT5uZXcgbXYoZSx0KSx0aGlzLmJhY2tlbmQpfXJldHVybiB0aGlzLmNoYWluLmhhbmRsZShlKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoY2koSm0pLGNpKGxyKSl9LGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxmYWN0b3J5OmUuXHUwMjc1ZmFjfSksZX0pKCkseHY9KCgpPT57Y2xhc3MgZXtzdGF0aWMgZGlzYWJsZSgpe3JldHVybntuZ01vZHVsZTplLHByb3ZpZGVyczpbe3Byb3ZpZGU6RXYsdXNlQ2xhc3M6YnZ9XX19c3RhdGljIHdpdGhPcHRpb25zKHQ9e30pe3JldHVybntuZ01vZHVsZTplLHByb3ZpZGVyczpbdC5jb29raWVOYW1lP3twcm92aWRlOnd2LHVzZVZhbHVlOnQuY29va2llTmFtZX06W10sdC5oZWFkZXJOYW1lP3twcm92aWRlOl92LHVzZVZhbHVlOnQuaGVhZGVyTmFtZX06W11dfX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7cHJvdmlkZXJzOltFdix7cHJvdmlkZTp2dix1c2VFeGlzdGluZzpFdixtdWx0aTohMH0se3Byb3ZpZGU6RHYsdXNlQ2xhc3M6U3Z9LHtwcm92aWRlOnd2LHVzZVZhbHVlOiJYU1JGLVRPS0VOIn0se3Byb3ZpZGU6X3YsdXNlVmFsdWU6IlgtWFNSRi1UT0tFTiJ9XX0pLGV9KSgpLEF2PSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe3Byb3ZpZGVyczpbZ3Yse3Byb3ZpZGU6UW0sdXNlQ2xhc3M6a3Z9LEN2LHtwcm92aWRlOkptLHVzZUV4aXN0aW5nOkN2fV0saW1wb3J0czpbW3h2LndpdGhPcHRpb25zKHtjb29raWVOYW1lOiJYU1JGLVRPS0VOIixoZWFkZXJOYW1lOiJYLVhTUkYtVE9LRU4ifSldXX0pLGV9KSgpO2Z1bmN0aW9uIE92KGUsdCxuLGkpe3ZhciBzLG89YXJndW1lbnRzLmxlbmd0aCxyPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pOmk7aWYoIm9iamVjdCI9PXR5cGVvZiBSZWZsZWN0JiYiZnVuY3Rpb24iPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlyPVJlZmxlY3QuZGVjb3JhdGUoZSx0LG4saSk7ZWxzZSBmb3IodmFyIGE9ZS5sZW5ndGgtMTthPj0wO2EtLSkocz1lW2FdKSYmKHI9KG88Mz9zKHIpOm8+Mz9zKHQsbixyKTpzKHQsbikpfHxyKTtyZXR1cm4gbz4zJiZyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHIpLHJ9ZnVuY3Rpb24gVHYoZSx0LG4saSl7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoZnVuY3Rpb24ocyxvKXtmdW5jdGlvbiByKGUpe3RyeXtsKGkubmV4dChlKSl9Y2F0Y2godCl7byh0KX19ZnVuY3Rpb24gYShlKXt0cnl7bChpLnRocm93KGUpKX1jYXRjaCh0KXtvKHQpfX1mdW5jdGlvbiBsKGUpe3ZhciB0O2UuZG9uZT9zKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbihmdW5jdGlvbihlKXtlKHQpfSkpLnRoZW4ocixhKX1sKChpPWkuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KX1mdW5jdGlvbiBGdihlLHQpe3JldHVybiBuZXcgYihuPT57Y29uc3QgaT1lLmxlbmd0aDtpZigwPT09aSlyZXR1cm4gdm9pZCBuLmNvbXBsZXRlKCk7Y29uc3Qgcz1uZXcgQXJyYXkoaSk7bGV0IG89MCxyPTA7Zm9yKGxldCBhPTA7YTxpO2ErKyl7Y29uc3QgbD1MKGVbYV0pO2xldCBjPSExO24uYWRkKGwuc3Vic2NyaWJlKHtuZXh0OmU9PntjfHwoYz0hMCxyKyspLHNbYV09ZX0sZXJyb3I6ZT0+bi5lcnJvcihlKSxjb21wbGV0ZTooKT0+e28rKyxvIT09aSYmY3x8KHI9PT1pJiZuLm5leHQodD90LnJlZHVjZSgoZSx0LG4pPT4oZVt0XT1zW25dLGUpLHt9KTpzKSxuLmNvbXBsZXRlKCkpfX0pKX19KX1sZXQgSXY9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX3JlbmRlcmVyPWUsdGhpcy5fZWxlbWVudFJlZj10LHRoaXMub25DaGFuZ2U9ZT0+e30sdGhpcy5vblRvdWNoZWQ9KCk9Pnt9fXNldFByb3BlcnR5KGUsdCl7dGhpcy5fcmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LGUsdCl9cmVnaXN0ZXJPblRvdWNoZWQoZSl7dGhpcy5vblRvdWNoZWQ9ZX1yZWdpc3Rlck9uQ2hhbmdlKGUpe3RoaXMub25DaGFuZ2U9ZX1zZXREaXNhYmxlZFN0YXRlKGUpe3RoaXMuc2V0UHJvcGVydHkoImRpc2FibGVkIixlKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoV2EpLEFyKFVhKSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmV9KSxlfSkoKSxNdj0oKCk9PntjbGFzcyBlIGV4dGVuZHMgSXZ7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbigpe2xldCB0O3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4odHx8KHQ9JG4oZSkpKShufHxlKX19KCksZS5cdTAyNzVkaXI9S2Uoe3R5cGU6ZSxmZWF0dXJlczpbdXJdfSksZX0pKCk7Y29uc3QgUHY9bmV3IHpuKCJOZ1ZhbHVlQWNjZXNzb3IiKSxWdj17cHJvdmlkZTpQdix1c2VFeGlzdGluZzpzZSgoKT0+UnYpLG11bHRpOiEwfSxMdj1uZXcgem4oIkNvbXBvc2l0aW9uRXZlbnRNb2RlIik7bGV0IFJ2PSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBJdntjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoZSx0KSx0aGlzLl9jb21wb3NpdGlvbk1vZGU9bix0aGlzLl9jb21wb3Npbmc9ITEsbnVsbD09dGhpcy5fY29tcG9zaXRpb25Nb2RlJiYodGhpcy5fY29tcG9zaXRpb25Nb2RlPSFmdW5jdGlvbigpe2NvbnN0IGU9YnUoKT9idSgpLmdldFVzZXJBZ2VudCgpOiIiO3JldHVybi9hbmRyb2lkIChcZCspLy50ZXN0KGUudG9Mb3dlckNhc2UoKSl9KCkpfXdyaXRlVmFsdWUoZSl7dGhpcy5zZXRQcm9wZXJ0eSgidmFsdWUiLG51bGw9PWU/IiI6ZSl9X2hhbmRsZUlucHV0KGUpeyghdGhpcy5fY29tcG9zaXRpb25Nb2RlfHx0aGlzLl9jb21wb3NpdGlvbk1vZGUmJiF0aGlzLl9jb21wb3NpbmcpJiZ0aGlzLm9uQ2hhbmdlKGUpfV9jb21wb3NpdGlvblN0YXJ0KCl7dGhpcy5fY29tcG9zaW5nPSEwfV9jb21wb3NpdGlvbkVuZChlKXt0aGlzLl9jb21wb3Npbmc9ITEsdGhpcy5fY29tcG9zaXRpb25Nb2RlJiZ0aGlzLm9uQ2hhbmdlKGUpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShBcihXYSksQXIoVWEpLEFyKEx2LDgpKX0sZS5cdTAyNzVkaXI9S2Uoe3R5cGU6ZSxzZWxlY3RvcnM6W1siaW5wdXQiLCJmb3JtQ29udHJvbE5hbWUiLCIiLDMsInR5cGUiLCJjaGVja2JveCJdLFsidGV4dGFyZWEiLCJmb3JtQ29udHJvbE5hbWUiLCIiXSxbImlucHV0IiwiZm9ybUNvbnRyb2wiLCIiLDMsInR5cGUiLCJjaGVja2JveCJdLFsidGV4dGFyZWEiLCJmb3JtQ29udHJvbCIsIiJdLFsiaW5wdXQiLCJuZ01vZGVsIiwiIiwzLCJ0eXBlIiwiY2hlY2tib3giXSxbInRleHRhcmVhIiwibmdNb2RlbCIsIiJdLFsiIiwibmdEZWZhdWx0Q29udHJvbCIsIiJdXSxob3N0QmluZGluZ3M6ZnVuY3Rpb24oZSx0KXsxJmUmJkJyKCJpbnB1dCIsZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2hhbmRsZUlucHV0KGUudGFyZ2V0LnZhbHVlKX0pKCJibHVyIixmdW5jdGlvbigpe3JldHVybiB0Lm9uVG91Y2hlZCgpfSkoImNvbXBvc2l0aW9uc3RhcnQiLGZ1bmN0aW9uKCl7cmV0dXJuIHQuX2NvbXBvc2l0aW9uU3RhcnQoKX0pKCJjb21wb3NpdGlvbmVuZCIsZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2NvbXBvc2l0aW9uRW5kKGUudGFyZ2V0LnZhbHVlKX0pfSxmZWF0dXJlczpbTGEoW1Z2XSksdXJdfSksZX0pKCk7Y29uc3QganY9bmV3IHpuKCJOZ1ZhbGlkYXRvcnMiKSxOdj1uZXcgem4oIk5nQXN5bmNWYWxpZGF0b3JzIik7ZnVuY3Rpb24gQnYoZSl7cmV0dXJuIG51bGwhPWV9ZnVuY3Rpb24gJHYoZSl7Y29uc3QgdD1qcihlKT9MKGUpOmU7cmV0dXJuIE5yKHQpLHR9ZnVuY3Rpb24gSHYoZSl7bGV0IHQ9e307cmV0dXJuIGUuZm9yRWFjaChlPT57dD1udWxsIT1lP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSxlKTp0fSksMD09PU9iamVjdC5rZXlzKHQpLmxlbmd0aD9udWxsOnR9ZnVuY3Rpb24gVXYoZSx0KXtyZXR1cm4gdC5tYXAodD0+dChlKSl9ZnVuY3Rpb24gcXYoZSl7cmV0dXJuIGUubWFwKGU9PmZ1bmN0aW9uKGUpe3JldHVybiFlLnZhbGlkYXRlfShlKT9lOnQ9PmUudmFsaWRhdGUodCkpfWZ1bmN0aW9uIHp2KGUpe3JldHVybiBudWxsIT1lP2Z1bmN0aW9uKGUpe2lmKCFlKXJldHVybiBudWxsO2NvbnN0IHQ9ZS5maWx0ZXIoQnYpO3JldHVybiAwPT10Lmxlbmd0aD9udWxsOmZ1bmN0aW9uKGUpe3JldHVybiBIdihVdihlLHQpKX19KHF2KGUpKTpudWxsfWZ1bmN0aW9uIFd2KGUpe3JldHVybiBudWxsIT1lP2Z1bmN0aW9uKGUpe2lmKCFlKXJldHVybiBudWxsO2NvbnN0IHQ9ZS5maWx0ZXIoQnYpO3JldHVybiAwPT10Lmxlbmd0aD9udWxsOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbiguLi5lKXtpZigxPT09ZS5sZW5ndGgpe2NvbnN0IHQ9ZVswXTtpZihsKHQpKXJldHVybiBGdih0LG51bGwpO2lmKGModCkmJk9iamVjdC5nZXRQcm90b3R5cGVPZih0KT09PU9iamVjdC5wcm90b3R5cGUpe2NvbnN0IGU9T2JqZWN0LmtleXModCk7cmV0dXJuIEZ2KGUubWFwKGU9PnRbZV0pLGUpfX1pZigiZnVuY3Rpb24iPT10eXBlb2YgZVtlLmxlbmd0aC0xXSl7Y29uc3QgdD1lLnBvcCgpO3JldHVybiBGdihlPTE9PT1lLmxlbmd0aCYmbChlWzBdKT9lWzBdOmUsbnVsbCkucGlwZShrKGU9PnQoLi4uZSkpKX1yZXR1cm4gRnYoZSxudWxsKX0oVXYoZSx0KS5tYXAoJHYpKS5waXBlKGsoSHYpKX19KHF2KGUpKTpudWxsfWZ1bmN0aW9uIEd2KGUsdCl7cmV0dXJuIG51bGw9PT1lP1t0XTpBcnJheS5pc0FycmF5KGUpP1suLi5lLHRdOltlLHRdfWxldCBLdj0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKCl7dGhpcy5fcmF3VmFsaWRhdG9ycz1bXSx0aGlzLl9yYXdBc3luY1ZhbGlkYXRvcnM9W10sdGhpcy5fb25EZXN0cm95Q2FsbGJhY2tzPVtdfWdldCB2YWx1ZSgpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLnZhbHVlOm51bGx9Z2V0IHZhbGlkKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wudmFsaWQ6bnVsbH1nZXQgaW52YWxpZCgpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLmludmFsaWQ6bnVsbH1nZXQgcGVuZGluZygpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLnBlbmRpbmc6bnVsbH1nZXQgZGlzYWJsZWQoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5kaXNhYmxlZDpudWxsfWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wuZW5hYmxlZDpudWxsfWdldCBlcnJvcnMoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5lcnJvcnM6bnVsbH1nZXQgcHJpc3RpbmUoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5wcmlzdGluZTpudWxsfWdldCBkaXJ0eSgpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLmRpcnR5Om51bGx9Z2V0IHRvdWNoZWQoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC50b3VjaGVkOm51bGx9Z2V0IHN0YXR1cygpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLnN0YXR1czpudWxsfWdldCB1bnRvdWNoZWQoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC51bnRvdWNoZWQ6bnVsbH1nZXQgc3RhdHVzQ2hhbmdlcygpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLnN0YXR1c0NoYW5nZXM6bnVsbH1nZXQgdmFsdWVDaGFuZ2VzKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wudmFsdWVDaGFuZ2VzOm51bGx9Z2V0IHBhdGgoKXtyZXR1cm4gbnVsbH1fc2V0VmFsaWRhdG9ycyhlKXt0aGlzLl9yYXdWYWxpZGF0b3JzPWV8fFtdLHRoaXMuX2NvbXBvc2VkVmFsaWRhdG9yRm49enYodGhpcy5fcmF3VmFsaWRhdG9ycyl9X3NldEFzeW5jVmFsaWRhdG9ycyhlKXt0aGlzLl9yYXdBc3luY1ZhbGlkYXRvcnM9ZXx8W10sdGhpcy5fY29tcG9zZWRBc3luY1ZhbGlkYXRvckZuPVd2KHRoaXMuX3Jhd0FzeW5jVmFsaWRhdG9ycyl9Z2V0IHZhbGlkYXRvcigpe3JldHVybiB0aGlzLl9jb21wb3NlZFZhbGlkYXRvckZufHxudWxsfWdldCBhc3luY1ZhbGlkYXRvcigpe3JldHVybiB0aGlzLl9jb21wb3NlZEFzeW5jVmFsaWRhdG9yRm58fG51bGx9X3JlZ2lzdGVyT25EZXN0cm95KGUpe3RoaXMuX29uRGVzdHJveUNhbGxiYWNrcy5wdXNoKGUpfV9pbnZva2VPbkRlc3Ryb3lDYWxsYmFja3MoKXt0aGlzLl9vbkRlc3Ryb3lDYWxsYmFja3MuZm9yRWFjaChlPT5lKCkpLHRoaXMuX29uRGVzdHJveUNhbGxiYWNrcz1bXX1yZXNldChlKXt0aGlzLmNvbnRyb2wmJnRoaXMuY29udHJvbC5yZXNldChlKX1oYXNFcnJvcihlLHQpe3JldHVybiEhdGhpcy5jb250cm9sJiZ0aGlzLmNvbnRyb2wuaGFzRXJyb3IoZSx0KX1nZXRFcnJvcihlLHQpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLmdldEVycm9yKGUsdCk6bnVsbH19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmV9KSxlfSkoKSxZdj0oKCk9PntjbGFzcyBlIGV4dGVuZHMgS3Z7Z2V0IGZvcm1EaXJlY3RpdmUoKXtyZXR1cm4gbnVsbH1nZXQgcGF0aCgpe3JldHVybiBudWxsfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24oKXtsZXQgdDtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKHR8fCh0PSRuKGUpKSkobnx8ZSl9fSgpLGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsZmVhdHVyZXM6W3VyXX0pLGV9KSgpO2NsYXNzIFp2IGV4dGVuZHMgS3Z7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX3BhcmVudD1udWxsLHRoaXMubmFtZT1udWxsLHRoaXMudmFsdWVBY2Nlc3Nvcj1udWxsfX1jbGFzcyBRdntjb25zdHJ1Y3RvcihlKXt0aGlzLl9jZD1lfWlzKGUpe3ZhciB0LG47cmV0dXJuISEobnVsbD09PShuPW51bGw9PT0odD10aGlzLl9jZCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY29udHJvbCl8fHZvaWQgMD09PW4/dm9pZCAwOm5bZV0pfX1sZXQgSnY9KCgpPT57Y2xhc3MgZSBleHRlbmRzIFF2e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShBcihadiwyKSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsc2VsZWN0b3JzOltbIiIsImZvcm1Db250cm9sTmFtZSIsIiJdLFsiIiwibmdNb2RlbCIsIiJdLFsiIiwiZm9ybUNvbnRyb2wiLCIiXV0saG9zdFZhcnM6MTQsaG9zdEJpbmRpbmdzOmZ1bmN0aW9uKGUsdCl7MiZlJiZlYSgibmctdW50b3VjaGVkIix0LmlzKCJ1bnRvdWNoZWQiKSkoIm5nLXRvdWNoZWQiLHQuaXMoInRvdWNoZWQiKSkoIm5nLXByaXN0aW5lIix0LmlzKCJwcmlzdGluZSIpKSgibmctZGlydHkiLHQuaXMoImRpcnR5IikpKCJuZy12YWxpZCIsdC5pcygidmFsaWQiKSkoIm5nLWludmFsaWQiLHQuaXMoImludmFsaWQiKSkoIm5nLXBlbmRpbmciLHQuaXMoInBlbmRpbmciKSl9LGZlYXR1cmVzOlt1cl19KSxlfSkoKSxYdj0oKCk9PntjbGFzcyBlIGV4dGVuZHMgUXZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKFl2LDEwKSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsc2VsZWN0b3JzOltbIiIsImZvcm1Hcm91cE5hbWUiLCIiXSxbIiIsImZvcm1BcnJheU5hbWUiLCIiXSxbIiIsIm5nTW9kZWxHcm91cCIsIiJdLFsiIiwiZm9ybUdyb3VwIiwiIl0sWyJmb3JtIiwzLCJuZ05vRm9ybSIsIiJdLFsiIiwibmdGb3JtIiwiIl1dLGhvc3RWYXJzOjE0LGhvc3RCaW5kaW5nczpmdW5jdGlvbihlLHQpezImZSYmZWEoIm5nLXVudG91Y2hlZCIsdC5pcygidW50b3VjaGVkIikpKCJuZy10b3VjaGVkIix0LmlzKCJ0b3VjaGVkIikpKCJuZy1wcmlzdGluZSIsdC5pcygicHJpc3RpbmUiKSkoIm5nLWRpcnR5Iix0LmlzKCJkaXJ0eSIpKSgibmctdmFsaWQiLHQuaXMoInZhbGlkIikpKCJuZy1pbnZhbGlkIix0LmlzKCJpbnZhbGlkIikpKCJuZy1wZW5kaW5nIix0LmlzKCJwZW5kaW5nIikpfSxmZWF0dXJlczpbdXJdfSksZX0pKCk7ZnVuY3Rpb24gZWIoZSx0KXtuYihlLHQpLHQudmFsdWVBY2Nlc3Nvci53cml0ZVZhbHVlKGUudmFsdWUpLGZ1bmN0aW9uKGUsdCl7dC52YWx1ZUFjY2Vzc29yLnJlZ2lzdGVyT25DaGFuZ2Uobj0+e2UuX3BlbmRpbmdWYWx1ZT1uLGUuX3BlbmRpbmdDaGFuZ2U9ITAsZS5fcGVuZGluZ0RpcnR5PSEwLCJjaGFuZ2UiPT09ZS51cGRhdGVPbiYmaWIoZSx0KX0pfShlLHQpLGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj0oZSxuKT0+e3QudmFsdWVBY2Nlc3Nvci53cml0ZVZhbHVlKGUpLG4mJnQudmlld1RvTW9kZWxVcGRhdGUoZSl9O2UucmVnaXN0ZXJPbkNoYW5nZShuKSx0Ll9yZWdpc3Rlck9uRGVzdHJveSgoKT0+e2UuX3VucmVnaXN0ZXJPbkNoYW5nZShuKX0pfShlLHQpLGZ1bmN0aW9uKGUsdCl7dC52YWx1ZUFjY2Vzc29yLnJlZ2lzdGVyT25Ub3VjaGVkKCgpPT57ZS5fcGVuZGluZ1RvdWNoZWQ9ITAsImJsdXIiPT09ZS51cGRhdGVPbiYmZS5fcGVuZGluZ0NoYW5nZSYmaWIoZSx0KSwic3VibWl0IiE9PWUudXBkYXRlT24mJmUubWFya0FzVG91Y2hlZCgpfSl9KGUsdCksZnVuY3Rpb24oZSx0KXtpZih0LnZhbHVlQWNjZXNzb3Iuc2V0RGlzYWJsZWRTdGF0ZSl7Y29uc3Qgbj1lPT57dC52YWx1ZUFjY2Vzc29yLnNldERpc2FibGVkU3RhdGUoZSl9O2UucmVnaXN0ZXJPbkRpc2FibGVkQ2hhbmdlKG4pLHQuX3JlZ2lzdGVyT25EZXN0cm95KCgpPT57ZS5fdW5yZWdpc3Rlck9uRGlzYWJsZWRDaGFuZ2Uobil9KX19KGUsdCl9ZnVuY3Rpb24gdGIoZSx0KXtlLmZvckVhY2goZT0+e2UucmVnaXN0ZXJPblZhbGlkYXRvckNoYW5nZSYmZS5yZWdpc3Rlck9uVmFsaWRhdG9yQ2hhbmdlKHQpfSl9ZnVuY3Rpb24gbmIoZSx0KXtjb25zdCBuPWZ1bmN0aW9uKGUpe3JldHVybiBlLl9yYXdWYWxpZGF0b3JzfShlKTtudWxsIT09dC52YWxpZGF0b3I/ZS5zZXRWYWxpZGF0b3JzKEd2KG4sdC52YWxpZGF0b3IpKToiZnVuY3Rpb24iPT10eXBlb2YgbiYmZS5zZXRWYWxpZGF0b3JzKFtuXSk7Y29uc3QgaT1mdW5jdGlvbihlKXtyZXR1cm4gZS5fcmF3QXN5bmNWYWxpZGF0b3JzfShlKTtudWxsIT09dC5hc3luY1ZhbGlkYXRvcj9lLnNldEFzeW5jVmFsaWRhdG9ycyhHdihpLHQuYXN5bmNWYWxpZGF0b3IpKToiZnVuY3Rpb24iPT10eXBlb2YgaSYmZS5zZXRBc3luY1ZhbGlkYXRvcnMoW2ldKTtjb25zdCBzPSgpPT5lLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoKTt0Yih0Ll9yYXdWYWxpZGF0b3JzLHMpLHRiKHQuX3Jhd0FzeW5jVmFsaWRhdG9ycyxzKX1mdW5jdGlvbiBpYihlLHQpe2UuX3BlbmRpbmdEaXJ0eSYmZS5tYXJrQXNEaXJ0eSgpLGUuc2V0VmFsdWUoZS5fcGVuZGluZ1ZhbHVlLHtlbWl0TW9kZWxUb1ZpZXdDaGFuZ2U6ITF9KSx0LnZpZXdUb01vZGVsVXBkYXRlKGUuX3BlbmRpbmdWYWx1ZSksZS5fcGVuZGluZ0NoYW5nZT0hMX1mdW5jdGlvbiBzYihlLHQpe2NvbnN0IG49ZS5pbmRleE9mKHQpO24+LTEmJmUuc3BsaWNlKG4sMSl9Y29uc3Qgb2I9IlZBTElEIixyYj0iSU5WQUxJRCIsYWI9IlBFTkRJTkciLGxiPSJESVNBQkxFRCI7ZnVuY3Rpb24gY2IoZSl7cmV0dXJuKHBiKGUpP2UudmFsaWRhdG9yczplKXx8bnVsbH1mdW5jdGlvbiB1YihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT96dihlKTplfHxudWxsfWZ1bmN0aW9uIGhiKGUsdCl7cmV0dXJuKHBiKHQpP3QuYXN5bmNWYWxpZGF0b3JzOmUpfHxudWxsfWZ1bmN0aW9uIGRiKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP1d2KGUpOmV8fG51bGx9ZnVuY3Rpb24gcGIoZSl7cmV0dXJuIG51bGwhPWUmJiFBcnJheS5pc0FycmF5KGUpJiYib2JqZWN0Ij09dHlwZW9mIGV9Y2xhc3MgZmJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9oYXNPd25QZW5kaW5nQXN5bmNWYWxpZGF0b3I9ITEsdGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlPSgpPT57fSx0aGlzLl9wYXJlbnQ9bnVsbCx0aGlzLnByaXN0aW5lPSEwLHRoaXMudG91Y2hlZD0hMSx0aGlzLl9vbkRpc2FibGVkQ2hhbmdlPVtdLHRoaXMuX3Jhd1ZhbGlkYXRvcnM9ZSx0aGlzLl9yYXdBc3luY1ZhbGlkYXRvcnM9dCx0aGlzLl9jb21wb3NlZFZhbGlkYXRvckZuPXViKHRoaXMuX3Jhd1ZhbGlkYXRvcnMpLHRoaXMuX2NvbXBvc2VkQXN5bmNWYWxpZGF0b3JGbj1kYih0aGlzLl9yYXdBc3luY1ZhbGlkYXRvcnMpfWdldCB2YWxpZGF0b3IoKXtyZXR1cm4gdGhpcy5fY29tcG9zZWRWYWxpZGF0b3JGbn1zZXQgdmFsaWRhdG9yKGUpe3RoaXMuX3Jhd1ZhbGlkYXRvcnM9dGhpcy5fY29tcG9zZWRWYWxpZGF0b3JGbj1lfWdldCBhc3luY1ZhbGlkYXRvcigpe3JldHVybiB0aGlzLl9jb21wb3NlZEFzeW5jVmFsaWRhdG9yRm59c2V0IGFzeW5jVmFsaWRhdG9yKGUpe3RoaXMuX3Jhd0FzeW5jVmFsaWRhdG9ycz10aGlzLl9jb21wb3NlZEFzeW5jVmFsaWRhdG9yRm49ZX1nZXQgcGFyZW50KCl7cmV0dXJuIHRoaXMuX3BhcmVudH1nZXQgdmFsaWQoKXtyZXR1cm4gdGhpcy5zdGF0dXM9PT1vYn1nZXQgaW52YWxpZCgpe3JldHVybiB0aGlzLnN0YXR1cz09PXJifWdldCBwZW5kaW5nKCl7cmV0dXJuIHRoaXMuc3RhdHVzPT1hYn1nZXQgZGlzYWJsZWQoKXtyZXR1cm4gdGhpcy5zdGF0dXM9PT1sYn1nZXQgZW5hYmxlZCgpe3JldHVybiB0aGlzLnN0YXR1cyE9PWxifWdldCBkaXJ0eSgpe3JldHVybiF0aGlzLnByaXN0aW5lfWdldCB1bnRvdWNoZWQoKXtyZXR1cm4hdGhpcy50b3VjaGVkfWdldCB1cGRhdGVPbigpe3JldHVybiB0aGlzLl91cGRhdGVPbj90aGlzLl91cGRhdGVPbjp0aGlzLnBhcmVudD90aGlzLnBhcmVudC51cGRhdGVPbjoiY2hhbmdlIn1zZXRWYWxpZGF0b3JzKGUpe3RoaXMuX3Jhd1ZhbGlkYXRvcnM9ZSx0aGlzLl9jb21wb3NlZFZhbGlkYXRvckZuPXViKGUpfXNldEFzeW5jVmFsaWRhdG9ycyhlKXt0aGlzLl9yYXdBc3luY1ZhbGlkYXRvcnM9ZSx0aGlzLl9jb21wb3NlZEFzeW5jVmFsaWRhdG9yRm49ZGIoZSl9Y2xlYXJWYWxpZGF0b3JzKCl7dGhpcy52YWxpZGF0b3I9bnVsbH1jbGVhckFzeW5jVmFsaWRhdG9ycygpe3RoaXMuYXN5bmNWYWxpZGF0b3I9bnVsbH1tYXJrQXNUb3VjaGVkKGU9e30pe3RoaXMudG91Y2hlZD0hMCx0aGlzLl9wYXJlbnQmJiFlLm9ubHlTZWxmJiZ0aGlzLl9wYXJlbnQubWFya0FzVG91Y2hlZChlKX1tYXJrQWxsQXNUb3VjaGVkKCl7dGhpcy5tYXJrQXNUb3VjaGVkKHtvbmx5U2VsZjohMH0pLHRoaXMuX2ZvckVhY2hDaGlsZChlPT5lLm1hcmtBbGxBc1RvdWNoZWQoKSl9bWFya0FzVW50b3VjaGVkKGU9e30pe3RoaXMudG91Y2hlZD0hMSx0aGlzLl9wZW5kaW5nVG91Y2hlZD0hMSx0aGlzLl9mb3JFYWNoQ2hpbGQoZT0+e2UubWFya0FzVW50b3VjaGVkKHtvbmx5U2VsZjohMH0pfSksdGhpcy5fcGFyZW50JiYhZS5vbmx5U2VsZiYmdGhpcy5fcGFyZW50Ll91cGRhdGVUb3VjaGVkKGUpfW1hcmtBc0RpcnR5KGU9e30pe3RoaXMucHJpc3RpbmU9ITEsdGhpcy5fcGFyZW50JiYhZS5vbmx5U2VsZiYmdGhpcy5fcGFyZW50Lm1hcmtBc0RpcnR5KGUpfW1hcmtBc1ByaXN0aW5lKGU9e30pe3RoaXMucHJpc3RpbmU9ITAsdGhpcy5fcGVuZGluZ0RpcnR5PSExLHRoaXMuX2ZvckVhY2hDaGlsZChlPT57ZS5tYXJrQXNQcmlzdGluZSh7b25seVNlbGY6ITB9KX0pLHRoaXMuX3BhcmVudCYmIWUub25seVNlbGYmJnRoaXMuX3BhcmVudC5fdXBkYXRlUHJpc3RpbmUoZSl9bWFya0FzUGVuZGluZyhlPXt9KXt0aGlzLnN0YXR1cz1hYiwhMSE9PWUuZW1pdEV2ZW50JiZ0aGlzLnN0YXR1c0NoYW5nZXMuZW1pdCh0aGlzLnN0YXR1cyksdGhpcy5fcGFyZW50JiYhZS5vbmx5U2VsZiYmdGhpcy5fcGFyZW50Lm1hcmtBc1BlbmRpbmcoZSl9ZGlzYWJsZShlPXt9KXtjb25zdCB0PXRoaXMuX3BhcmVudE1hcmtlZERpcnR5KGUub25seVNlbGYpO3RoaXMuc3RhdHVzPWxiLHRoaXMuZXJyb3JzPW51bGwsdGhpcy5fZm9yRWFjaENoaWxkKHQ9Pnt0LmRpc2FibGUoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtvbmx5U2VsZjohMH0pKX0pLHRoaXMuX3VwZGF0ZVZhbHVlKCksITEhPT1lLmVtaXRFdmVudCYmKHRoaXMudmFsdWVDaGFuZ2VzLmVtaXQodGhpcy52YWx1ZSksdGhpcy5zdGF0dXNDaGFuZ2VzLmVtaXQodGhpcy5zdGF0dXMpKSx0aGlzLl91cGRhdGVBbmNlc3RvcnMoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtza2lwUHJpc3RpbmVDaGVjazp0fSkpLHRoaXMuX29uRGlzYWJsZWRDaGFuZ2UuZm9yRWFjaChlPT5lKCEwKSl9ZW5hYmxlKGU9e30pe2NvbnN0IHQ9dGhpcy5fcGFyZW50TWFya2VkRGlydHkoZS5vbmx5U2VsZik7dGhpcy5zdGF0dXM9b2IsdGhpcy5fZm9yRWFjaENoaWxkKHQ9Pnt0LmVuYWJsZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse29ubHlTZWxmOiEwfSkpfSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6ZS5lbWl0RXZlbnR9KSx0aGlzLl91cGRhdGVBbmNlc3RvcnMoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtza2lwUHJpc3RpbmVDaGVjazp0fSkpLHRoaXMuX29uRGlzYWJsZWRDaGFuZ2UuZm9yRWFjaChlPT5lKCExKSl9X3VwZGF0ZUFuY2VzdG9ycyhlKXt0aGlzLl9wYXJlbnQmJiFlLm9ubHlTZWxmJiYodGhpcy5fcGFyZW50LnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoZSksZS5za2lwUHJpc3RpbmVDaGVja3x8dGhpcy5fcGFyZW50Ll91cGRhdGVQcmlzdGluZSgpLHRoaXMuX3BhcmVudC5fdXBkYXRlVG91Y2hlZCgpKX1zZXRQYXJlbnQoZSl7dGhpcy5fcGFyZW50PWV9dXBkYXRlVmFsdWVBbmRWYWxpZGl0eShlPXt9KXt0aGlzLl9zZXRJbml0aWFsU3RhdHVzKCksdGhpcy5fdXBkYXRlVmFsdWUoKSx0aGlzLmVuYWJsZWQmJih0aGlzLl9jYW5jZWxFeGlzdGluZ1N1YnNjcmlwdGlvbigpLHRoaXMuZXJyb3JzPXRoaXMuX3J1blZhbGlkYXRvcigpLHRoaXMuc3RhdHVzPXRoaXMuX2NhbGN1bGF0ZVN0YXR1cygpLHRoaXMuc3RhdHVzIT09b2ImJnRoaXMuc3RhdHVzIT09YWJ8fHRoaXMuX3J1bkFzeW5jVmFsaWRhdG9yKGUuZW1pdEV2ZW50KSksITEhPT1lLmVtaXRFdmVudCYmKHRoaXMudmFsdWVDaGFuZ2VzLmVtaXQodGhpcy52YWx1ZSksdGhpcy5zdGF0dXNDaGFuZ2VzLmVtaXQodGhpcy5zdGF0dXMpKSx0aGlzLl9wYXJlbnQmJiFlLm9ubHlTZWxmJiZ0aGlzLl9wYXJlbnQudXBkYXRlVmFsdWVBbmRWYWxpZGl0eShlKX1fdXBkYXRlVHJlZVZhbGlkaXR5KGU9e2VtaXRFdmVudDohMH0pe3RoaXMuX2ZvckVhY2hDaGlsZCh0PT50Ll91cGRhdGVUcmVlVmFsaWRpdHkoZSkpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7b25seVNlbGY6ITAsZW1pdEV2ZW50OmUuZW1pdEV2ZW50fSl9X3NldEluaXRpYWxTdGF0dXMoKXt0aGlzLnN0YXR1cz10aGlzLl9hbGxDb250cm9sc0Rpc2FibGVkKCk/bGI6b2J9X3J1blZhbGlkYXRvcigpe3JldHVybiB0aGlzLnZhbGlkYXRvcj90aGlzLnZhbGlkYXRvcih0aGlzKTpudWxsfV9ydW5Bc3luY1ZhbGlkYXRvcihlKXtpZih0aGlzLmFzeW5jVmFsaWRhdG9yKXt0aGlzLnN0YXR1cz1hYix0aGlzLl9oYXNPd25QZW5kaW5nQXN5bmNWYWxpZGF0b3I9ITA7Y29uc3QgdD0kdih0aGlzLmFzeW5jVmFsaWRhdG9yKHRoaXMpKTt0aGlzLl9hc3luY1ZhbGlkYXRpb25TdWJzY3JpcHRpb249dC5zdWJzY3JpYmUodD0+e3RoaXMuX2hhc093blBlbmRpbmdBc3luY1ZhbGlkYXRvcj0hMSx0aGlzLnNldEVycm9ycyh0LHtlbWl0RXZlbnQ6ZX0pfSl9fV9jYW5jZWxFeGlzdGluZ1N1YnNjcmlwdGlvbigpe3RoaXMuX2FzeW5jVmFsaWRhdGlvblN1YnNjcmlwdGlvbiYmKHRoaXMuX2FzeW5jVmFsaWRhdGlvblN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpLHRoaXMuX2hhc093blBlbmRpbmdBc3luY1ZhbGlkYXRvcj0hMSl9c2V0RXJyb3JzKGUsdD17fSl7dGhpcy5lcnJvcnM9ZSx0aGlzLl91cGRhdGVDb250cm9sc0Vycm9ycyghMSE9PXQuZW1pdEV2ZW50KX1nZXQoZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtpZihudWxsPT10KXJldHVybiBudWxsO2lmKEFycmF5LmlzQXJyYXkodCl8fCh0PXQuc3BsaXQoIi4iKSksQXJyYXkuaXNBcnJheSh0KSYmMD09PXQubGVuZ3RoKXJldHVybiBudWxsO2xldCBpPWU7cmV0dXJuIHQuZm9yRWFjaChlPT57aT1pIGluc3RhbmNlb2YgbWI/aS5jb250cm9scy5oYXNPd25Qcm9wZXJ0eShlKT9pLmNvbnRyb2xzW2VdOm51bGw6aSBpbnN0YW5jZW9mIHZiJiZpLmF0KGUpfHxudWxsfSksaX0odGhpcyxlKX1nZXRFcnJvcihlLHQpe2NvbnN0IG49dD90aGlzLmdldCh0KTp0aGlzO3JldHVybiBuJiZuLmVycm9ycz9uLmVycm9yc1tlXTpudWxsfWhhc0Vycm9yKGUsdCl7cmV0dXJuISF0aGlzLmdldEVycm9yKGUsdCl9Z2V0IHJvb3QoKXtsZXQgZT10aGlzO2Zvcig7ZS5fcGFyZW50OyllPWUuX3BhcmVudDtyZXR1cm4gZX1fdXBkYXRlQ29udHJvbHNFcnJvcnMoZSl7dGhpcy5zdGF0dXM9dGhpcy5fY2FsY3VsYXRlU3RhdHVzKCksZSYmdGhpcy5zdGF0dXNDaGFuZ2VzLmVtaXQodGhpcy5zdGF0dXMpLHRoaXMuX3BhcmVudCYmdGhpcy5fcGFyZW50Ll91cGRhdGVDb250cm9sc0Vycm9ycyhlKX1faW5pdE9ic2VydmFibGVzKCl7dGhpcy52YWx1ZUNoYW5nZXM9bmV3IGVjLHRoaXMuc3RhdHVzQ2hhbmdlcz1uZXcgZWN9X2NhbGN1bGF0ZVN0YXR1cygpe3JldHVybiB0aGlzLl9hbGxDb250cm9sc0Rpc2FibGVkKCk/bGI6dGhpcy5lcnJvcnM/cmI6dGhpcy5faGFzT3duUGVuZGluZ0FzeW5jVmFsaWRhdG9yfHx0aGlzLl9hbnlDb250cm9sc0hhdmVTdGF0dXMoYWIpP2FiOnRoaXMuX2FueUNvbnRyb2xzSGF2ZVN0YXR1cyhyYik/cmI6b2J9X2FueUNvbnRyb2xzSGF2ZVN0YXR1cyhlKXtyZXR1cm4gdGhpcy5fYW55Q29udHJvbHModD0+dC5zdGF0dXM9PT1lKX1fYW55Q29udHJvbHNEaXJ0eSgpe3JldHVybiB0aGlzLl9hbnlDb250cm9scyhlPT5lLmRpcnR5KX1fYW55Q29udHJvbHNUb3VjaGVkKCl7cmV0dXJuIHRoaXMuX2FueUNvbnRyb2xzKGU9PmUudG91Y2hlZCl9X3VwZGF0ZVByaXN0aW5lKGU9e30pe3RoaXMucHJpc3RpbmU9IXRoaXMuX2FueUNvbnRyb2xzRGlydHkoKSx0aGlzLl9wYXJlbnQmJiFlLm9ubHlTZWxmJiZ0aGlzLl9wYXJlbnQuX3VwZGF0ZVByaXN0aW5lKGUpfV91cGRhdGVUb3VjaGVkKGU9e30pe3RoaXMudG91Y2hlZD10aGlzLl9hbnlDb250cm9sc1RvdWNoZWQoKSx0aGlzLl9wYXJlbnQmJiFlLm9ubHlTZWxmJiZ0aGlzLl9wYXJlbnQuX3VwZGF0ZVRvdWNoZWQoZSl9X2lzQm94ZWRWYWx1ZShlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPT1lJiYyPT09T2JqZWN0LmtleXMoZSkubGVuZ3RoJiYidmFsdWUiaW4gZSYmImRpc2FibGVkImluIGV9X3JlZ2lzdGVyT25Db2xsZWN0aW9uQ2hhbmdlKGUpe3RoaXMuX29uQ29sbGVjdGlvbkNoYW5nZT1lfV9zZXRVcGRhdGVTdHJhdGVneShlKXtwYihlKSYmbnVsbCE9ZS51cGRhdGVPbiYmKHRoaXMuX3VwZGF0ZU9uPWUudXBkYXRlT24pfV9wYXJlbnRNYXJrZWREaXJ0eShlKXtyZXR1cm4hZSYmISghdGhpcy5fcGFyZW50fHwhdGhpcy5fcGFyZW50LmRpcnR5KSYmIXRoaXMuX3BhcmVudC5fYW55Q29udHJvbHNEaXJ0eSgpfX1jbGFzcyBnYiBleHRlbmRzIGZie2NvbnN0cnVjdG9yKGU9bnVsbCx0LG4pe3N1cGVyKGNiKHQpLGhiKG4sdCkpLHRoaXMuX29uQ2hhbmdlPVtdLHRoaXMuX2FwcGx5Rm9ybVN0YXRlKGUpLHRoaXMuX3NldFVwZGF0ZVN0cmF0ZWd5KHQpLHRoaXMuX2luaXRPYnNlcnZhYmxlcygpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7b25seVNlbGY6ITAsZW1pdEV2ZW50OiEhbn0pfXNldFZhbHVlKGUsdD17fSl7dGhpcy52YWx1ZT10aGlzLl9wZW5kaW5nVmFsdWU9ZSx0aGlzLl9vbkNoYW5nZS5sZW5ndGgmJiExIT09dC5lbWl0TW9kZWxUb1ZpZXdDaGFuZ2UmJnRoaXMuX29uQ2hhbmdlLmZvckVhY2goZT0+ZSh0aGlzLnZhbHVlLCExIT09dC5lbWl0Vmlld1RvTW9kZWxDaGFuZ2UpKSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkodCl9cGF0Y2hWYWx1ZShlLHQ9e30pe3RoaXMuc2V0VmFsdWUoZSx0KX1yZXNldChlPW51bGwsdD17fSl7dGhpcy5fYXBwbHlGb3JtU3RhdGUoZSksdGhpcy5tYXJrQXNQcmlzdGluZSh0KSx0aGlzLm1hcmtBc1VudG91Y2hlZCh0KSx0aGlzLnNldFZhbHVlKHRoaXMudmFsdWUsdCksdGhpcy5fcGVuZGluZ0NoYW5nZT0hMX1fdXBkYXRlVmFsdWUoKXt9X2FueUNvbnRyb2xzKGUpe3JldHVybiExfV9hbGxDb250cm9sc0Rpc2FibGVkKCl7cmV0dXJuIHRoaXMuZGlzYWJsZWR9cmVnaXN0ZXJPbkNoYW5nZShlKXt0aGlzLl9vbkNoYW5nZS5wdXNoKGUpfV91bnJlZ2lzdGVyT25DaGFuZ2UoZSl7c2IodGhpcy5fb25DaGFuZ2UsZSl9cmVnaXN0ZXJPbkRpc2FibGVkQ2hhbmdlKGUpe3RoaXMuX29uRGlzYWJsZWRDaGFuZ2UucHVzaChlKX1fdW5yZWdpc3Rlck9uRGlzYWJsZWRDaGFuZ2UoZSl7c2IodGhpcy5fb25EaXNhYmxlZENoYW5nZSxlKX1fZm9yRWFjaENoaWxkKGUpe31fc3luY1BlbmRpbmdDb250cm9scygpe3JldHVybiEoInN1Ym1pdCIhPT10aGlzLnVwZGF0ZU9ufHwodGhpcy5fcGVuZGluZ0RpcnR5JiZ0aGlzLm1hcmtBc0RpcnR5KCksdGhpcy5fcGVuZGluZ1RvdWNoZWQmJnRoaXMubWFya0FzVG91Y2hlZCgpLCF0aGlzLl9wZW5kaW5nQ2hhbmdlKXx8KHRoaXMuc2V0VmFsdWUodGhpcy5fcGVuZGluZ1ZhbHVlLHtvbmx5U2VsZjohMCxlbWl0TW9kZWxUb1ZpZXdDaGFuZ2U6ITF9KSwwKSl9X2FwcGx5Rm9ybVN0YXRlKGUpe3RoaXMuX2lzQm94ZWRWYWx1ZShlKT8odGhpcy52YWx1ZT10aGlzLl9wZW5kaW5nVmFsdWU9ZS52YWx1ZSxlLmRpc2FibGVkP3RoaXMuZGlzYWJsZSh7b25seVNlbGY6ITAsZW1pdEV2ZW50OiExfSk6dGhpcy5lbmFibGUoe29ubHlTZWxmOiEwLGVtaXRFdmVudDohMX0pKTp0aGlzLnZhbHVlPXRoaXMuX3BlbmRpbmdWYWx1ZT1lfX1jbGFzcyBtYiBleHRlbmRzIGZie2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihjYih0KSxoYihuLHQpKSx0aGlzLmNvbnRyb2xzPWUsdGhpcy5faW5pdE9ic2VydmFibGVzKCksdGhpcy5fc2V0VXBkYXRlU3RyYXRlZ3kodCksdGhpcy5fc2V0VXBDb250cm9scygpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7b25seVNlbGY6ITAsZW1pdEV2ZW50OiEhbn0pfXJlZ2lzdGVyQ29udHJvbChlLHQpe3JldHVybiB0aGlzLmNvbnRyb2xzW2VdP3RoaXMuY29udHJvbHNbZV06KHRoaXMuY29udHJvbHNbZV09dCx0LnNldFBhcmVudCh0aGlzKSx0Ll9yZWdpc3Rlck9uQ29sbGVjdGlvbkNoYW5nZSh0aGlzLl9vbkNvbGxlY3Rpb25DaGFuZ2UpLHQpfWFkZENvbnRyb2woZSx0LG49e30pe3RoaXMucmVnaXN0ZXJDb250cm9sKGUsdCksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6bi5lbWl0RXZlbnR9KSx0aGlzLl9vbkNvbGxlY3Rpb25DaGFuZ2UoKX1yZW1vdmVDb250cm9sKGUsdD17fSl7dGhpcy5jb250cm9sc1tlXSYmdGhpcy5jb250cm9sc1tlXS5fcmVnaXN0ZXJPbkNvbGxlY3Rpb25DaGFuZ2UoKCk9Pnt9KSxkZWxldGUgdGhpcy5jb250cm9sc1tlXSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDp0LmVtaXRFdmVudH0pLHRoaXMuX29uQ29sbGVjdGlvbkNoYW5nZSgpfXNldENvbnRyb2woZSx0LG49e30pe3RoaXMuY29udHJvbHNbZV0mJnRoaXMuY29udHJvbHNbZV0uX3JlZ2lzdGVyT25Db2xsZWN0aW9uQ2hhbmdlKCgpPT57fSksZGVsZXRlIHRoaXMuY29udHJvbHNbZV0sdCYmdGhpcy5yZWdpc3RlckNvbnRyb2woZSx0KSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDpuLmVtaXRFdmVudH0pLHRoaXMuX29uQ29sbGVjdGlvbkNoYW5nZSgpfWNvbnRhaW5zKGUpe3JldHVybiB0aGlzLmNvbnRyb2xzLmhhc093blByb3BlcnR5KGUpJiZ0aGlzLmNvbnRyb2xzW2VdLmVuYWJsZWR9c2V0VmFsdWUoZSx0PXt9KXt0aGlzLl9jaGVja0FsbFZhbHVlc1ByZXNlbnQoZSksT2JqZWN0LmtleXMoZSkuZm9yRWFjaChuPT57dGhpcy5fdGhyb3dJZkNvbnRyb2xNaXNzaW5nKG4pLHRoaXMuY29udHJvbHNbbl0uc2V0VmFsdWUoZVtuXSx7b25seVNlbGY6ITAsZW1pdEV2ZW50OnQuZW1pdEV2ZW50fSl9KSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkodCl9cGF0Y2hWYWx1ZShlLHQ9e30pe251bGwhPWUmJihPYmplY3Qua2V5cyhlKS5mb3JFYWNoKG49Pnt0aGlzLmNvbnRyb2xzW25dJiZ0aGlzLmNvbnRyb2xzW25dLnBhdGNoVmFsdWUoZVtuXSx7b25seVNlbGY6ITAsZW1pdEV2ZW50OnQuZW1pdEV2ZW50fSl9KSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkodCkpfXJlc2V0KGU9e30sdD17fSl7dGhpcy5fZm9yRWFjaENoaWxkKChuLGkpPT57bi5yZXNldChlW2ldLHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6dC5lbWl0RXZlbnR9KX0pLHRoaXMuX3VwZGF0ZVByaXN0aW5lKHQpLHRoaXMuX3VwZGF0ZVRvdWNoZWQodCksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHQpfWdldFJhd1ZhbHVlKCl7cmV0dXJuIHRoaXMuX3JlZHVjZUNoaWxkcmVuKHt9LChlLHQsbik9PihlW25dPXQgaW5zdGFuY2VvZiBnYj90LnZhbHVlOnQuZ2V0UmF3VmFsdWUoKSxlKSl9X3N5bmNQZW5kaW5nQ29udHJvbHMoKXtsZXQgZT10aGlzLl9yZWR1Y2VDaGlsZHJlbighMSwoZSx0KT0+ISF0Ll9zeW5jUGVuZGluZ0NvbnRyb2xzKCl8fGUpO3JldHVybiBlJiZ0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe29ubHlTZWxmOiEwfSksZX1fdGhyb3dJZkNvbnRyb2xNaXNzaW5nKGUpe2lmKCFPYmplY3Qua2V5cyh0aGlzLmNvbnRyb2xzKS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJcbiAgICAgICAgVGhlcmUgYXJlIG5vIGZvcm0gY29udHJvbHMgcmVnaXN0ZXJlZCB3aXRoIHRoaXMgZ3JvdXAgeWV0LiBJZiB5b3UncmUgdXNpbmcgbmdNb2RlbCxcbiAgICAgICAgeW91IG1heSB3YW50IHRvIGNoZWNrIG5leHQgdGljayAoZS5nLiB1c2Ugc2V0VGltZW91dCkuXG4gICAgICAiKTtpZighdGhpcy5jb250cm9sc1tlXSl0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIGZvcm0gY29udHJvbCB3aXRoIG5hbWU6ICR7ZX0uYCl9X2ZvckVhY2hDaGlsZChlKXtPYmplY3Qua2V5cyh0aGlzLmNvbnRyb2xzKS5mb3JFYWNoKHQ9Pntjb25zdCBuPXRoaXMuY29udHJvbHNbdF07biYmZShuLHQpfSl9X3NldFVwQ29udHJvbHMoKXt0aGlzLl9mb3JFYWNoQ2hpbGQoZT0+e2Uuc2V0UGFyZW50KHRoaXMpLGUuX3JlZ2lzdGVyT25Db2xsZWN0aW9uQ2hhbmdlKHRoaXMuX29uQ29sbGVjdGlvbkNoYW5nZSl9KX1fdXBkYXRlVmFsdWUoKXt0aGlzLnZhbHVlPXRoaXMuX3JlZHVjZVZhbHVlKCl9X2FueUNvbnRyb2xzKGUpe2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHRoaXMuY29udHJvbHMpKXtjb25zdCBuPXRoaXMuY29udHJvbHNbdF07aWYodGhpcy5jb250YWlucyh0KSYmZShuKSlyZXR1cm4hMH1yZXR1cm4hMX1fcmVkdWNlVmFsdWUoKXtyZXR1cm4gdGhpcy5fcmVkdWNlQ2hpbGRyZW4oe30sKGUsdCxuKT0+KCh0LmVuYWJsZWR8fHRoaXMuZGlzYWJsZWQpJiYoZVtuXT10LnZhbHVlKSxlKSl9X3JlZHVjZUNoaWxkcmVuKGUsdCl7bGV0IG49ZTtyZXR1cm4gdGhpcy5fZm9yRWFjaENoaWxkKChlLGkpPT57bj10KG4sZSxpKX0pLG59X2FsbENvbnRyb2xzRGlzYWJsZWQoKXtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyh0aGlzLmNvbnRyb2xzKSlpZih0aGlzLmNvbnRyb2xzW2VdLmVuYWJsZWQpcmV0dXJuITE7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuY29udHJvbHMpLmxlbmd0aD4wfHx0aGlzLmRpc2FibGVkfV9jaGVja0FsbFZhbHVlc1ByZXNlbnQoZSl7dGhpcy5fZm9yRWFjaENoaWxkKCh0LG4pPT57aWYodm9pZCAwPT09ZVtuXSl0aHJvdyBuZXcgRXJyb3IoYE11c3Qgc3VwcGx5IGEgdmFsdWUgZm9yIGZvcm0gY29udHJvbCB3aXRoIG5hbWU6ICcke259Jy5gKX0pfX1jbGFzcyB2YiBleHRlbmRzIGZie2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihjYih0KSxoYihuLHQpKSx0aGlzLmNvbnRyb2xzPWUsdGhpcy5faW5pdE9ic2VydmFibGVzKCksdGhpcy5fc2V0VXBkYXRlU3RyYXRlZ3kodCksdGhpcy5fc2V0VXBDb250cm9scygpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7b25seVNlbGY6ITAsZW1pdEV2ZW50OiEhbn0pfWF0KGUpe3JldHVybiB0aGlzLmNvbnRyb2xzW2VdfXB1c2goZSx0PXt9KXt0aGlzLmNvbnRyb2xzLnB1c2goZSksdGhpcy5fcmVnaXN0ZXJDb250cm9sKGUpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7ZW1pdEV2ZW50OnQuZW1pdEV2ZW50fSksdGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlKCl9aW5zZXJ0KGUsdCxuPXt9KXt0aGlzLmNvbnRyb2xzLnNwbGljZShlLDAsdCksdGhpcy5fcmVnaXN0ZXJDb250cm9sKHQpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7ZW1pdEV2ZW50Om4uZW1pdEV2ZW50fSl9cmVtb3ZlQXQoZSx0PXt9KXt0aGlzLmNvbnRyb2xzW2VdJiZ0aGlzLmNvbnRyb2xzW2VdLl9yZWdpc3Rlck9uQ29sbGVjdGlvbkNoYW5nZSgoKT0+e30pLHRoaXMuY29udHJvbHMuc3BsaWNlKGUsMSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6dC5lbWl0RXZlbnR9KX1zZXRDb250cm9sKGUsdCxuPXt9KXt0aGlzLmNvbnRyb2xzW2VdJiZ0aGlzLmNvbnRyb2xzW2VdLl9yZWdpc3Rlck9uQ29sbGVjdGlvbkNoYW5nZSgoKT0+e30pLHRoaXMuY29udHJvbHMuc3BsaWNlKGUsMSksdCYmKHRoaXMuY29udHJvbHMuc3BsaWNlKGUsMCx0KSx0aGlzLl9yZWdpc3RlckNvbnRyb2wodCkpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7ZW1pdEV2ZW50Om4uZW1pdEV2ZW50fSksdGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlKCl9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLmNvbnRyb2xzLmxlbmd0aH1zZXRWYWx1ZShlLHQ9e30pe3RoaXMuX2NoZWNrQWxsVmFsdWVzUHJlc2VudChlKSxlLmZvckVhY2goKGUsbik9Pnt0aGlzLl90aHJvd0lmQ29udHJvbE1pc3NpbmcobiksdGhpcy5hdChuKS5zZXRWYWx1ZShlLHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6dC5lbWl0RXZlbnR9KX0pLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh0KX1wYXRjaFZhbHVlKGUsdD17fSl7bnVsbCE9ZSYmKGUuZm9yRWFjaCgoZSxuKT0+e3RoaXMuYXQobikmJnRoaXMuYXQobikucGF0Y2hWYWx1ZShlLHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6dC5lbWl0RXZlbnR9KX0pLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh0KSl9cmVzZXQoZT1bXSx0PXt9KXt0aGlzLl9mb3JFYWNoQ2hpbGQoKG4saSk9PntuLnJlc2V0KGVbaV0se29ubHlTZWxmOiEwLGVtaXRFdmVudDp0LmVtaXRFdmVudH0pfSksdGhpcy5fdXBkYXRlUHJpc3RpbmUodCksdGhpcy5fdXBkYXRlVG91Y2hlZCh0KSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkodCl9Z2V0UmF3VmFsdWUoKXtyZXR1cm4gdGhpcy5jb250cm9scy5tYXAoZT0+ZSBpbnN0YW5jZW9mIGdiP2UudmFsdWU6ZS5nZXRSYXdWYWx1ZSgpKX1jbGVhcihlPXt9KXt0aGlzLmNvbnRyb2xzLmxlbmd0aDwxfHwodGhpcy5fZm9yRWFjaENoaWxkKGU9PmUuX3JlZ2lzdGVyT25Db2xsZWN0aW9uQ2hhbmdlKCgpPT57fSkpLHRoaXMuY29udHJvbHMuc3BsaWNlKDApLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7ZW1pdEV2ZW50OmUuZW1pdEV2ZW50fSkpfV9zeW5jUGVuZGluZ0NvbnRyb2xzKCl7bGV0IGU9dGhpcy5jb250cm9scy5yZWR1Y2UoKGUsdCk9PiEhdC5fc3luY1BlbmRpbmdDb250cm9scygpfHxlLCExKTtyZXR1cm4gZSYmdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtvbmx5U2VsZjohMH0pLGV9X3Rocm93SWZDb250cm9sTWlzc2luZyhlKXtpZighdGhpcy5jb250cm9scy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJcbiAgICAgICAgVGhlcmUgYXJlIG5vIGZvcm0gY29udHJvbHMgcmVnaXN0ZXJlZCB3aXRoIHRoaXMgYXJyYXkgeWV0LiBJZiB5b3UncmUgdXNpbmcgbmdNb2RlbCxcbiAgICAgICAgeW91IG1heSB3YW50IHRvIGNoZWNrIG5leHQgdGljayAoZS5nLiB1c2Ugc2V0VGltZW91dCkuXG4gICAgICAiKTtpZighdGhpcy5hdChlKSl0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIGZvcm0gY29udHJvbCBhdCBpbmRleCAke2V9YCl9X2ZvckVhY2hDaGlsZChlKXt0aGlzLmNvbnRyb2xzLmZvckVhY2goKHQsbik9PntlKHQsbil9KX1fdXBkYXRlVmFsdWUoKXt0aGlzLnZhbHVlPXRoaXMuY29udHJvbHMuZmlsdGVyKGU9PmUuZW5hYmxlZHx8dGhpcy5kaXNhYmxlZCkubWFwKGU9PmUudmFsdWUpfV9hbnlDb250cm9scyhlKXtyZXR1cm4gdGhpcy5jb250cm9scy5zb21lKHQ9PnQuZW5hYmxlZCYmZSh0KSl9X3NldFVwQ29udHJvbHMoKXt0aGlzLl9mb3JFYWNoQ2hpbGQoZT0+dGhpcy5fcmVnaXN0ZXJDb250cm9sKGUpKX1fY2hlY2tBbGxWYWx1ZXNQcmVzZW50KGUpe3RoaXMuX2ZvckVhY2hDaGlsZCgodCxuKT0+e2lmKHZvaWQgMD09PWVbbl0pdGhyb3cgbmV3IEVycm9yKGBNdXN0IHN1cHBseSBhIHZhbHVlIGZvciBmb3JtIGNvbnRyb2wgYXQgaW5kZXg6ICR7bn0uYCl9KX1fYWxsQ29udHJvbHNEaXNhYmxlZCgpe2Zvcihjb25zdCBlIG9mIHRoaXMuY29udHJvbHMpaWYoZS5lbmFibGVkKXJldHVybiExO3JldHVybiB0aGlzLmNvbnRyb2xzLmxlbmd0aD4wfHx0aGlzLmRpc2FibGVkfV9yZWdpc3RlckNvbnRyb2woZSl7ZS5zZXRQYXJlbnQodGhpcyksZS5fcmVnaXN0ZXJPbkNvbGxlY3Rpb25DaGFuZ2UodGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlKX19Y29uc3QgYmI9e3Byb3ZpZGU6WXYsdXNlRXhpc3Rpbmc6c2UoKCk9PkNiKX0seWI9KCgpPT5Qcm9taXNlLnJlc29sdmUobnVsbCkpKCk7bGV0IENiPSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBZdntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksdGhpcy5zdWJtaXR0ZWQ9ITEsdGhpcy5fZGlyZWN0aXZlcz1bXSx0aGlzLm5nU3VibWl0PW5ldyBlYyx0aGlzLmZvcm09bmV3IG1iKHt9LHp2KGUpLFd2KHQpKX1uZ0FmdGVyVmlld0luaXQoKXt0aGlzLl9zZXRVcGRhdGVTdHJhdGVneSgpfWdldCBmb3JtRGlyZWN0aXZlKCl7cmV0dXJuIHRoaXN9Z2V0IGNvbnRyb2woKXtyZXR1cm4gdGhpcy5mb3JtfWdldCBwYXRoKCl7cmV0dXJuW119Z2V0IGNvbnRyb2xzKCl7cmV0dXJuIHRoaXMuZm9ybS5jb250cm9sc31hZGRDb250cm9sKGUpe3liLnRoZW4oKCk9Pntjb25zdCB0PXRoaXMuX2ZpbmRDb250YWluZXIoZS5wYXRoKTtlLmNvbnRyb2w9dC5yZWdpc3RlckNvbnRyb2woZS5uYW1lLGUuY29udHJvbCksZWIoZS5jb250cm9sLGUpLGUuY29udHJvbC51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6ITF9KSx0aGlzLl9kaXJlY3RpdmVzLnB1c2goZSl9KX1nZXRDb250cm9sKGUpe3JldHVybiB0aGlzLmZvcm0uZ2V0KGUucGF0aCl9cmVtb3ZlQ29udHJvbChlKXt5Yi50aGVuKCgpPT57Y29uc3QgdD10aGlzLl9maW5kQ29udGFpbmVyKGUucGF0aCk7dCYmdC5yZW1vdmVDb250cm9sKGUubmFtZSksc2IodGhpcy5fZGlyZWN0aXZlcyxlKX0pfWFkZEZvcm1Hcm91cChlKXt5Yi50aGVuKCgpPT57Y29uc3QgdD10aGlzLl9maW5kQ29udGFpbmVyKGUucGF0aCksbj1uZXcgbWIoe30pOyhmdW5jdGlvbihlLHQpe25iKGUsdCl9KShuLGUpLHQucmVnaXN0ZXJDb250cm9sKGUubmFtZSxuKSxuLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDohMX0pfSl9cmVtb3ZlRm9ybUdyb3VwKGUpe3liLnRoZW4oKCk9Pntjb25zdCB0PXRoaXMuX2ZpbmRDb250YWluZXIoZS5wYXRoKTt0JiZ0LnJlbW92ZUNvbnRyb2woZS5uYW1lKX0pfWdldEZvcm1Hcm91cChlKXtyZXR1cm4gdGhpcy5mb3JtLmdldChlLnBhdGgpfXVwZGF0ZU1vZGVsKGUsdCl7eWIudGhlbigoKT0+e3RoaXMuZm9ybS5nZXQoZS5wYXRoKS5zZXRWYWx1ZSh0KX0pfXNldFZhbHVlKGUpe3RoaXMuY29udHJvbC5zZXRWYWx1ZShlKX1vblN1Ym1pdChlKXtyZXR1cm4gdGhpcy5zdWJtaXR0ZWQ9ITAsdD10aGlzLl9kaXJlY3RpdmVzLHRoaXMuZm9ybS5fc3luY1BlbmRpbmdDb250cm9scygpLHQuZm9yRWFjaChlPT57Y29uc3QgdD1lLmNvbnRyb2w7InN1Ym1pdCI9PT10LnVwZGF0ZU9uJiZ0Ll9wZW5kaW5nQ2hhbmdlJiYoZS52aWV3VG9Nb2RlbFVwZGF0ZSh0Ll9wZW5kaW5nVmFsdWUpLHQuX3BlbmRpbmdDaGFuZ2U9ITEpfSksdGhpcy5uZ1N1Ym1pdC5lbWl0KGUpLCExO3ZhciB0fW9uUmVzZXQoKXt0aGlzLnJlc2V0Rm9ybSgpfXJlc2V0Rm9ybShlKXt0aGlzLmZvcm0ucmVzZXQoZSksdGhpcy5zdWJtaXR0ZWQ9ITF9X3NldFVwZGF0ZVN0cmF0ZWd5KCl7dGhpcy5vcHRpb25zJiZudWxsIT10aGlzLm9wdGlvbnMudXBkYXRlT24mJih0aGlzLmZvcm0uX3VwZGF0ZU9uPXRoaXMub3B0aW9ucy51cGRhdGVPbil9X2ZpbmRDb250YWluZXIoZSl7cmV0dXJuIGUucG9wKCksZS5sZW5ndGg/dGhpcy5mb3JtLmdldChlKTp0aGlzLmZvcm19fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKGp2LDEwKSxBcihOdiwxMCkpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLHNlbGVjdG9yczpbWyJmb3JtIiwzLCJuZ05vRm9ybSIsIiIsMywiZm9ybUdyb3VwIiwiIl0sWyJuZy1mb3JtIl0sWyIiLCJuZ0Zvcm0iLCIiXV0saG9zdEJpbmRpbmdzOmZ1bmN0aW9uKGUsdCl7MSZlJiZCcigic3VibWl0IixmdW5jdGlvbihlKXtyZXR1cm4gdC5vblN1Ym1pdChlKX0pKCJyZXNldCIsZnVuY3Rpb24oKXtyZXR1cm4gdC5vblJlc2V0KCl9KX0saW5wdXRzOntvcHRpb25zOlsibmdGb3JtT3B0aW9ucyIsIm9wdGlvbnMiXX0sb3V0cHV0czp7bmdTdWJtaXQ6Im5nU3VibWl0In0sZXhwb3J0QXM6WyJuZ0Zvcm0iXSxmZWF0dXJlczpbTGEoW2JiXSksdXJdfSksZX0pKCk7Y29uc3Qgd2I9e3Byb3ZpZGU6WnYsdXNlRXhpc3Rpbmc6c2UoKCk9PkRiKX0sX2I9KCgpPT5Qcm9taXNlLnJlc29sdmUobnVsbCkpKCk7bGV0IERiPSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBadntjb25zdHJ1Y3RvcihlLHQsbixpKXtzdXBlcigpLHRoaXMuY29udHJvbD1uZXcgZ2IsdGhpcy5fcmVnaXN0ZXJlZD0hMSx0aGlzLnVwZGF0ZT1uZXcgZWMsdGhpcy5fcGFyZW50PWUsdGhpcy5fc2V0VmFsaWRhdG9ycyh0KSx0aGlzLl9zZXRBc3luY1ZhbGlkYXRvcnMobiksdGhpcy52YWx1ZUFjY2Vzc29yPWZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuIG51bGw7bGV0IG4saSxzO3JldHVybiBBcnJheS5pc0FycmF5KHQpLHQuZm9yRWFjaChlPT57ZS5jb25zdHJ1Y3Rvcj09PVJ2P249ZTpPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5jb25zdHJ1Y3Rvcik9PT1Ndj9pPWU6cz1lfSksc3x8aXx8bnx8bnVsbH0oMCxpKX1uZ09uQ2hhbmdlcyhlKXt0aGlzLl9jaGVja0ZvckVycm9ycygpLHRoaXMuX3JlZ2lzdGVyZWR8fHRoaXMuX3NldFVwQ29udHJvbCgpLCJpc0Rpc2FibGVkImluIGUmJnRoaXMuX3VwZGF0ZURpc2FibGVkKGUpLGZ1bmN0aW9uKGUsdCl7aWYoIWUuaGFzT3duUHJvcGVydHkoIm1vZGVsIikpcmV0dXJuITE7Y29uc3Qgbj1lLm1vZGVsO3JldHVybiEhbi5pc0ZpcnN0Q2hhbmdlKCl8fCFPYmplY3QuaXModCxuLmN1cnJlbnRWYWx1ZSl9KGUsdGhpcy52aWV3TW9kZWwpJiYodGhpcy5fdXBkYXRlVmFsdWUodGhpcy5tb2RlbCksdGhpcy52aWV3TW9kZWw9dGhpcy5tb2RlbCl9bmdPbkRlc3Ryb3koKXt0aGlzLmZvcm1EaXJlY3RpdmUmJnRoaXMuZm9ybURpcmVjdGl2ZS5yZW1vdmVDb250cm9sKHRoaXMpfWdldCBwYXRoKCl7cmV0dXJuIHRoaXMuX3BhcmVudD9bLi4udGhpcy5fcGFyZW50LnBhdGgsdGhpcy5uYW1lXTpbdGhpcy5uYW1lXX1nZXQgZm9ybURpcmVjdGl2ZSgpe3JldHVybiB0aGlzLl9wYXJlbnQ/dGhpcy5fcGFyZW50LmZvcm1EaXJlY3RpdmU6bnVsbH12aWV3VG9Nb2RlbFVwZGF0ZShlKXt0aGlzLnZpZXdNb2RlbD1lLHRoaXMudXBkYXRlLmVtaXQoZSl9X3NldFVwQ29udHJvbCgpe3RoaXMuX3NldFVwZGF0ZVN0cmF0ZWd5KCksdGhpcy5faXNTdGFuZGFsb25lKCk/dGhpcy5fc2V0VXBTdGFuZGFsb25lKCk6dGhpcy5mb3JtRGlyZWN0aXZlLmFkZENvbnRyb2wodGhpcyksdGhpcy5fcmVnaXN0ZXJlZD0hMH1fc2V0VXBkYXRlU3RyYXRlZ3koKXt0aGlzLm9wdGlvbnMmJm51bGwhPXRoaXMub3B0aW9ucy51cGRhdGVPbiYmKHRoaXMuY29udHJvbC5fdXBkYXRlT249dGhpcy5vcHRpb25zLnVwZGF0ZU9uKX1faXNTdGFuZGFsb25lKCl7cmV0dXJuIXRoaXMuX3BhcmVudHx8ISghdGhpcy5vcHRpb25zfHwhdGhpcy5vcHRpb25zLnN0YW5kYWxvbmUpfV9zZXRVcFN0YW5kYWxvbmUoKXtlYih0aGlzLmNvbnRyb2wsdGhpcyksdGhpcy5jb250cm9sLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDohMX0pfV9jaGVja0ZvckVycm9ycygpe3RoaXMuX2lzU3RhbmRhbG9uZSgpfHx0aGlzLl9jaGVja1BhcmVudFR5cGUoKSx0aGlzLl9jaGVja05hbWUoKX1fY2hlY2tQYXJlbnRUeXBlKCl7fV9jaGVja05hbWUoKXt0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5uYW1lJiYodGhpcy5uYW1lPXRoaXMub3B0aW9ucy5uYW1lKSx0aGlzLl9pc1N0YW5kYWxvbmUoKX1fdXBkYXRlVmFsdWUoZSl7X2IudGhlbigoKT0+e3RoaXMuY29udHJvbC5zZXRWYWx1ZShlLHtlbWl0Vmlld1RvTW9kZWxDaGFuZ2U6ITF9KX0pfV91cGRhdGVEaXNhYmxlZChlKXtjb25zdCB0PWUuaXNEaXNhYmxlZC5jdXJyZW50VmFsdWUsbj0iIj09PXR8fHQmJiJmYWxzZSIhPT10O19iLnRoZW4oKCk9PntuJiYhdGhpcy5jb250cm9sLmRpc2FibGVkP3RoaXMuY29udHJvbC5kaXNhYmxlKCk6IW4mJnRoaXMuY29udHJvbC5kaXNhYmxlZCYmdGhpcy5jb250cm9sLmVuYWJsZSgpfSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKFl2LDkpLEFyKGp2LDEwKSxBcihOdiwxMCksQXIoUHYsMTApKX0sZS5cdTAyNzVkaXI9S2Uoe3R5cGU6ZSxzZWxlY3RvcnM6W1siIiwibmdNb2RlbCIsIiIsMywiZm9ybUNvbnRyb2xOYW1lIiwiIiwzLCJmb3JtQ29udHJvbCIsIiJdXSxpbnB1dHM6e25hbWU6Im5hbWUiLGlzRGlzYWJsZWQ6WyJkaXNhYmxlZCIsImlzRGlzYWJsZWQiXSxtb2RlbDpbIm5nTW9kZWwiLCJtb2RlbCJdLG9wdGlvbnM6WyJuZ01vZGVsT3B0aW9ucyIsIm9wdGlvbnMiXX0sb3V0cHV0czp7dXBkYXRlOiJuZ01vZGVsQ2hhbmdlIn0sZXhwb3J0QXM6WyJuZ01vZGVsIl0sZmVhdHVyZXM6W0xhKFt3Yl0pLHVyLGx0XX0pLGV9KSgpLFNiPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLHNlbGVjdG9yczpbWyJmb3JtIiwzLCJuZ05vRm9ybSIsIiIsMywibmdOYXRpdmVWYWxpZGF0ZSIsIiJdXSxob3N0QXR0cnM6WyJub3ZhbGlkYXRlIiwiIl19KSxlfSkoKSxFYj0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHt9KSxlfSkoKTtjb25zdCBrYj17cHJvdmlkZTpQdix1c2VFeGlzdGluZzpzZSgoKT0+QWIpLG11bHRpOiEwfTtmdW5jdGlvbiB4YihlLHQpe3JldHVybiBudWxsPT1lP2Ake3R9YDoodCYmIm9iamVjdCI9PXR5cGVvZiB0JiYodD0iT2JqZWN0IiksYCR7ZX06ICR7dH1gLnNsaWNlKDAsNTApKX1sZXQgQWI9KCgpPT57Y2xhc3MgZSBleHRlbmRzIE12e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9vcHRpb25NYXA9bmV3IE1hcCx0aGlzLl9pZENvdW50ZXI9MCx0aGlzLl9jb21wYXJlV2l0aD1PYmplY3QuaXN9c2V0IGNvbXBhcmVXaXRoKGUpe3RoaXMuX2NvbXBhcmVXaXRoPWV9d3JpdGVWYWx1ZShlKXt0aGlzLnZhbHVlPWU7Y29uc3QgdD10aGlzLl9nZXRPcHRpb25JZChlKTtudWxsPT10JiZ0aGlzLnNldFByb3BlcnR5KCJzZWxlY3RlZEluZGV4IiwtMSk7Y29uc3Qgbj14Yih0LGUpO3RoaXMuc2V0UHJvcGVydHkoInZhbHVlIixuKX1yZWdpc3Rlck9uQ2hhbmdlKGUpe3RoaXMub25DaGFuZ2U9dD0+e3RoaXMudmFsdWU9dGhpcy5fZ2V0T3B0aW9uVmFsdWUodCksZSh0aGlzLnZhbHVlKX19X3JlZ2lzdGVyT3B0aW9uKCl7cmV0dXJuKHRoaXMuX2lkQ291bnRlcisrKS50b1N0cmluZygpfV9nZXRPcHRpb25JZChlKXtmb3IoY29uc3QgdCBvZiBBcnJheS5mcm9tKHRoaXMuX29wdGlvbk1hcC5rZXlzKCkpKWlmKHRoaXMuX2NvbXBhcmVXaXRoKHRoaXMuX29wdGlvbk1hcC5nZXQodCksZSkpcmV0dXJuIHQ7cmV0dXJuIG51bGx9X2dldE9wdGlvblZhbHVlKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoIjoiKVswXX0oZSk7cmV0dXJuIHRoaXMuX29wdGlvbk1hcC5oYXModCk/dGhpcy5fb3B0aW9uTWFwLmdldCh0KTplfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24oKXtsZXQgdDtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKHR8fCh0PSRuKGUpKSkobnx8ZSl9fSgpLGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsc2VsZWN0b3JzOltbInNlbGVjdCIsImZvcm1Db250cm9sTmFtZSIsIiIsMywibXVsdGlwbGUiLCIiXSxbInNlbGVjdCIsImZvcm1Db250cm9sIiwiIiwzLCJtdWx0aXBsZSIsIiJdLFsic2VsZWN0IiwibmdNb2RlbCIsIiIsMywibXVsdGlwbGUiLCIiXV0saG9zdEJpbmRpbmdzOmZ1bmN0aW9uKGUsdCl7MSZlJiZCcigiY2hhbmdlIixmdW5jdGlvbihlKXtyZXR1cm4gdC5vbkNoYW5nZShlLnRhcmdldC52YWx1ZSl9KSgiYmx1ciIsZnVuY3Rpb24oKXtyZXR1cm4gdC5vblRvdWNoZWQoKX0pfSxpbnB1dHM6e2NvbXBhcmVXaXRoOiJjb21wYXJlV2l0aCJ9LGZlYXR1cmVzOltMYShba2JdKSx1cl19KSxlfSkoKSxPYj0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLl9lbGVtZW50PWUsdGhpcy5fcmVuZGVyZXI9dCx0aGlzLl9zZWxlY3Q9bix0aGlzLl9zZWxlY3QmJih0aGlzLmlkPXRoaXMuX3NlbGVjdC5fcmVnaXN0ZXJPcHRpb24oKSl9c2V0IG5nVmFsdWUoZSl7bnVsbCE9dGhpcy5fc2VsZWN0JiYodGhpcy5fc2VsZWN0Ll9vcHRpb25NYXAuc2V0KHRoaXMuaWQsZSksdGhpcy5fc2V0RWxlbWVudFZhbHVlKHhiKHRoaXMuaWQsZSkpLHRoaXMuX3NlbGVjdC53cml0ZVZhbHVlKHRoaXMuX3NlbGVjdC52YWx1ZSkpfXNldCB2YWx1ZShlKXt0aGlzLl9zZXRFbGVtZW50VmFsdWUoZSksdGhpcy5fc2VsZWN0JiZ0aGlzLl9zZWxlY3Qud3JpdGVWYWx1ZSh0aGlzLl9zZWxlY3QudmFsdWUpfV9zZXRFbGVtZW50VmFsdWUoZSl7dGhpcy5fcmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy5fZWxlbWVudC5uYXRpdmVFbGVtZW50LCJ2YWx1ZSIsZSl9bmdPbkRlc3Ryb3koKXt0aGlzLl9zZWxlY3QmJih0aGlzLl9zZWxlY3QuX29wdGlvbk1hcC5kZWxldGUodGhpcy5pZCksdGhpcy5fc2VsZWN0LndyaXRlVmFsdWUodGhpcy5fc2VsZWN0LnZhbHVlKSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKFVhKSxBcihXYSksQXIoQWIsOSkpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLHNlbGVjdG9yczpbWyJvcHRpb24iXV0saW5wdXRzOntuZ1ZhbHVlOiJuZ1ZhbHVlIix2YWx1ZToidmFsdWUifX0pLGV9KSgpO2NvbnN0IFRiPXtwcm92aWRlOlB2LHVzZUV4aXN0aW5nOnNlKCgpPT5JYiksbXVsdGk6ITB9O2Z1bmN0aW9uIEZiKGUsdCl7cmV0dXJuIG51bGw9PWU/YCR7dH1gOigic3RyaW5nIj09dHlwZW9mIHQmJih0PWAnJHt0fSdgKSx0JiYib2JqZWN0Ij09dHlwZW9mIHQmJih0PSJPYmplY3QiKSxgJHtlfTogJHt0fWAuc2xpY2UoMCw1MCkpfWxldCBJYj0oKCk9PntjbGFzcyBlIGV4dGVuZHMgTXZ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX29wdGlvbk1hcD1uZXcgTWFwLHRoaXMuX2lkQ291bnRlcj0wLHRoaXMuX2NvbXBhcmVXaXRoPU9iamVjdC5pc31zZXQgY29tcGFyZVdpdGgoZSl7dGhpcy5fY29tcGFyZVdpdGg9ZX13cml0ZVZhbHVlKGUpe2xldCB0O2lmKHRoaXMudmFsdWU9ZSxBcnJheS5pc0FycmF5KGUpKXtjb25zdCBuPWUubWFwKGU9PnRoaXMuX2dldE9wdGlvbklkKGUpKTt0PShlLHQpPT57ZS5fc2V0U2VsZWN0ZWQobi5pbmRleE9mKHQudG9TdHJpbmcoKSk+LTEpfX1lbHNlIHQ9KGUsdCk9PntlLl9zZXRTZWxlY3RlZCghMSl9O3RoaXMuX29wdGlvbk1hcC5mb3JFYWNoKHQpfXJlZ2lzdGVyT25DaGFuZ2UoZSl7dGhpcy5vbkNoYW5nZT10PT57Y29uc3Qgbj1bXTtpZih2b2lkIDAhPT10LnNlbGVjdGVkT3B0aW9ucyl7Y29uc3QgZT10LnNlbGVjdGVkT3B0aW9ucztmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3QgaT1lLml0ZW0odCkscz10aGlzLl9nZXRPcHRpb25WYWx1ZShpLnZhbHVlKTtuLnB1c2gocyl9fWVsc2V7Y29uc3QgZT10Lm9wdGlvbnM7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IGk9ZS5pdGVtKHQpO2lmKGkuc2VsZWN0ZWQpe2NvbnN0IGU9dGhpcy5fZ2V0T3B0aW9uVmFsdWUoaS52YWx1ZSk7bi5wdXNoKGUpfX19dGhpcy52YWx1ZT1uLGUobil9fV9yZWdpc3Rlck9wdGlvbihlKXtjb25zdCB0PSh0aGlzLl9pZENvdW50ZXIrKykudG9TdHJpbmcoKTtyZXR1cm4gdGhpcy5fb3B0aW9uTWFwLnNldCh0LGUpLHR9X2dldE9wdGlvbklkKGUpe2Zvcihjb25zdCB0IG9mIEFycmF5LmZyb20odGhpcy5fb3B0aW9uTWFwLmtleXMoKSkpaWYodGhpcy5fY29tcGFyZVdpdGgodGhpcy5fb3B0aW9uTWFwLmdldCh0KS5fdmFsdWUsZSkpcmV0dXJuIHQ7cmV0dXJuIG51bGx9X2dldE9wdGlvblZhbHVlKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoIjoiKVswXX0oZSk7cmV0dXJuIHRoaXMuX29wdGlvbk1hcC5oYXModCk/dGhpcy5fb3B0aW9uTWFwLmdldCh0KS5fdmFsdWU6ZX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKCl7bGV0IHQ7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybih0fHwodD0kbihlKSkpKG58fGUpfX0oKSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLHNlbGVjdG9yczpbWyJzZWxlY3QiLCJtdWx0aXBsZSIsIiIsImZvcm1Db250cm9sTmFtZSIsIiJdLFsic2VsZWN0IiwibXVsdGlwbGUiLCIiLCJmb3JtQ29udHJvbCIsIiJdLFsic2VsZWN0IiwibXVsdGlwbGUiLCIiLCJuZ01vZGVsIiwiIl1dLGhvc3RCaW5kaW5nczpmdW5jdGlvbihlLHQpezEmZSYmQnIoImNoYW5nZSIsZnVuY3Rpb24oZSl7cmV0dXJuIHQub25DaGFuZ2UoZS50YXJnZXQpfSkoImJsdXIiLGZ1bmN0aW9uKCl7cmV0dXJuIHQub25Ub3VjaGVkKCl9KX0saW5wdXRzOntjb21wYXJlV2l0aDoiY29tcGFyZVdpdGgifSxmZWF0dXJlczpbTGEoW1RiXSksdXJdfSksZX0pKCksTWI9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5fZWxlbWVudD1lLHRoaXMuX3JlbmRlcmVyPXQsdGhpcy5fc2VsZWN0PW4sdGhpcy5fc2VsZWN0JiYodGhpcy5pZD10aGlzLl9zZWxlY3QuX3JlZ2lzdGVyT3B0aW9uKHRoaXMpKX1zZXQgbmdWYWx1ZShlKXtudWxsIT10aGlzLl9zZWxlY3QmJih0aGlzLl92YWx1ZT1lLHRoaXMuX3NldEVsZW1lbnRWYWx1ZShGYih0aGlzLmlkLGUpKSx0aGlzLl9zZWxlY3Qud3JpdGVWYWx1ZSh0aGlzLl9zZWxlY3QudmFsdWUpKX1zZXQgdmFsdWUoZSl7dGhpcy5fc2VsZWN0Pyh0aGlzLl92YWx1ZT1lLHRoaXMuX3NldEVsZW1lbnRWYWx1ZShGYih0aGlzLmlkLGUpKSx0aGlzLl9zZWxlY3Qud3JpdGVWYWx1ZSh0aGlzLl9zZWxlY3QudmFsdWUpKTp0aGlzLl9zZXRFbGVtZW50VmFsdWUoZSl9X3NldEVsZW1lbnRWYWx1ZShlKXt0aGlzLl9yZW5kZXJlci5zZXRQcm9wZXJ0eSh0aGlzLl9lbGVtZW50Lm5hdGl2ZUVsZW1lbnQsInZhbHVlIixlKX1fc2V0U2VsZWN0ZWQoZSl7dGhpcy5fcmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy5fZWxlbWVudC5uYXRpdmVFbGVtZW50LCJzZWxlY3RlZCIsZSl9bmdPbkRlc3Ryb3koKXt0aGlzLl9zZWxlY3QmJih0aGlzLl9zZWxlY3QuX29wdGlvbk1hcC5kZWxldGUodGhpcy5pZCksdGhpcy5fc2VsZWN0LndyaXRlVmFsdWUodGhpcy5fc2VsZWN0LnZhbHVlKSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKFVhKSxBcihXYSksQXIoSWIsOSkpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLHNlbGVjdG9yczpbWyJvcHRpb24iXV0saW5wdXRzOntuZ1ZhbHVlOiJuZ1ZhbHVlIix2YWx1ZToidmFsdWUifX0pLGV9KSgpLFBiPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe2ltcG9ydHM6W1tFYl1dfSksZX0pKCksVmI9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7aW1wb3J0czpbUGJdfSksZX0pKCk7ZnVuY3Rpb24gTGIoZSx0PW9wKXtyZXR1cm4gbj0+bi5saWZ0KG5ldyBSYihlLHQpKX1jbGFzcyBSYntjb25zdHJ1Y3RvcihlLHQpe3RoaXMuZHVlVGltZT1lLHRoaXMuc2NoZWR1bGVyPXR9Y2FsbChlLHQpe3JldHVybiB0LnN1YnNjcmliZShuZXcgamIoZSx0aGlzLmR1ZVRpbWUsdGhpcy5zY2hlZHVsZXIpKX19Y2xhc3MgamIgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihlKSx0aGlzLmR1ZVRpbWU9dCx0aGlzLnNjaGVkdWxlcj1uLHRoaXMuZGVib3VuY2VkU3Vic2NyaXB0aW9uPW51bGwsdGhpcy5sYXN0VmFsdWU9bnVsbCx0aGlzLmhhc1ZhbHVlPSExfV9uZXh0KGUpe3RoaXMuY2xlYXJEZWJvdW5jZSgpLHRoaXMubGFzdFZhbHVlPWUsdGhpcy5oYXNWYWx1ZT0hMCx0aGlzLmFkZCh0aGlzLmRlYm91bmNlZFN1YnNjcmlwdGlvbj10aGlzLnNjaGVkdWxlci5zY2hlZHVsZShOYix0aGlzLmR1ZVRpbWUsdGhpcykpfV9jb21wbGV0ZSgpe3RoaXMuZGVib3VuY2VkTmV4dCgpLHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX1kZWJvdW5jZWROZXh0KCl7aWYodGhpcy5jbGVhckRlYm91bmNlKCksdGhpcy5oYXNWYWx1ZSl7Y29uc3R7bGFzdFZhbHVlOmV9PXRoaXM7dGhpcy5sYXN0VmFsdWU9bnVsbCx0aGlzLmhhc1ZhbHVlPSExLHRoaXMuZGVzdGluYXRpb24ubmV4dChlKX19Y2xlYXJEZWJvdW5jZSgpe2NvbnN0IGU9dGhpcy5kZWJvdW5jZWRTdWJzY3JpcHRpb247bnVsbCE9PWUmJih0aGlzLnJlbW92ZShlKSxlLnVuc3Vic2NyaWJlKCksdGhpcy5kZWJvdW5jZWRTdWJzY3JpcHRpb249bnVsbCl9fWZ1bmN0aW9uIE5iKGUpe2UuZGVib3VuY2VkTmV4dCgpfWZ1bmN0aW9uIEJiKGUsdCl7cmV0dXJuIG49Pm4ubGlmdChuZXcgJGIoZSx0KSl9Y2xhc3MgJGJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmNvbXBhcmU9ZSx0aGlzLmtleVNlbGVjdG9yPXR9Y2FsbChlLHQpe3JldHVybiB0LnN1YnNjcmliZShuZXcgSGIoZSx0aGlzLmNvbXBhcmUsdGhpcy5rZXlTZWxlY3RvcikpfX1jbGFzcyBIYiBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0LG4pe3N1cGVyKGUpLHRoaXMua2V5U2VsZWN0b3I9bix0aGlzLmhhc0tleT0hMSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHRoaXMuY29tcGFyZT10KX1jb21wYXJlKGUsdCl7cmV0dXJuIGU9PT10fV9uZXh0KGUpe2xldCB0O3RyeXtjb25zdHtrZXlTZWxlY3RvcjpufT10aGlzO3Q9bj9uKGUpOmV9Y2F0Y2goaSl7cmV0dXJuIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoaSl9bGV0IG49ITE7aWYodGhpcy5oYXNLZXkpdHJ5e2NvbnN0e2NvbXBhcmU6ZX09dGhpcztuPWUodGhpcy5rZXksdCl9Y2F0Y2goaSl7cmV0dXJuIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoaSl9ZWxzZSB0aGlzLmhhc0tleT0hMDtufHwodGhpcy5rZXk9dCx0aGlzLmRlc3RpbmF0aW9uLm5leHQoZSkpfX1jbGFzcyBVYntjb25zdHJ1Y3RvcihlLHQpe3RoaXMucHJlZGljYXRlPWUsdGhpcy5pbmNsdXNpdmU9dH1jYWxsKGUsdCl7cmV0dXJuIHQuc3Vic2NyaWJlKG5ldyBxYihlLHRoaXMucHJlZGljYXRlLHRoaXMuaW5jbHVzaXZlKSl9fWNsYXNzIHFiIGV4dGVuZHMgZntjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoZSksdGhpcy5wcmVkaWNhdGU9dCx0aGlzLmluY2x1c2l2ZT1uLHRoaXMuaW5kZXg9MH1fbmV4dChlKXtjb25zdCB0PXRoaXMuZGVzdGluYXRpb247bGV0IG47dHJ5e249dGhpcy5wcmVkaWNhdGUoZSx0aGlzLmluZGV4KyspfWNhdGNoKGkpe3JldHVybiB2b2lkIHQuZXJyb3IoaSl9dGhpcy5uZXh0T3JDb21wbGV0ZShlLG4pfW5leHRPckNvbXBsZXRlKGUsdCl7Y29uc3Qgbj10aGlzLmRlc3RpbmF0aW9uO0Jvb2xlYW4odCk/bi5uZXh0KGUpOih0aGlzLmluY2x1c2l2ZSYmbi5uZXh0KGUpLG4uY29tcGxldGUoKSl9fWZ1bmN0aW9uIHpiKGUsdCl7MSZlJiZXcigwKX1jb25zdCBXYj1bIioiXTtmdW5jdGlvbiBHYihlLHQpezEmZSYmTHIoMCl9ZnVuY3Rpb24gS2IoZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJzZWN0aW9uIiwyKSxGcigxLCJwby1hY2NvcmRpb24taXRlbS1oZWFkZXIiLDMpLEJyKCJwLXRvZ2dsZSIsZnVuY3Rpb24odCl7Y29uc3Qgbj1JdChlKS4kaW1wbGljaXQ7cmV0dXJuIFVyKCkuaGVhZGVyVG9nZ2xlKHQsbil9KSxJcigpLEZyKDIsInBvLWFjY29yZGlvbi1pdGVtLWJvZHkiLDQpLGtyKDMsR2IsMSwwLCJuZy1jb250YWluZXIiLDUpLElyKCksSXIoKX1pZigyJmUpe2NvbnN0IGU9dC4kaW1wbGljaXQ7ZWEoInBvLWFjY29yZGlvbi1pdGVtLWFjdGl2ZSIsZS5leHBhbmRlZCksWnMoMSksT3IoInAtZXhwYW5kZWQiLGUuZXhwYW5kZWQpKCJwLWxhYmVsIixlLmxhYmVsKSxacygxKSxPcigicC1leHBhbmRlZCIsZS5leHBhbmRlZCksWnMoMSksT3IoIm5nVGVtcGxhdGVPdXRsZXQiLGUudGVtcGxhdGVSZWYpfX1mdW5jdGlvbiBZYihlLHQpezEmZSYmKEZyKDAsImRpdiIsMSksRnIoMSwiZGl2IiwyKSxXcigyKSxJcigpLElyKCkpLDImZSYmT3IoIkB0b2dnbGVCb2R5Iix2b2lkIDApfWZ1bmN0aW9uIFpiKGUsdCl7MSZlJiZMcigwKX1mdW5jdGlvbiBRYihlLHQpezEmZSYmTXIoMCwiaSIsMiksMiZlJiZ0YShVcigpLmNsYXNzKX1mdW5jdGlvbiBKYihlLHQpe2lmKDEmZSYmKEZyKDAsInNwYW4iLDIpLHBhKDEpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpO1pzKDEpLGZhKGUudGV4dCl9fWNvbnN0IFhiPVsiYnV0dG9uIl07ZnVuY3Rpb24gZXkoZSx0KXsxJmUmJihGcigwLCJkaXYiLDUpLE1yKDEsInBvLWxvYWRpbmctaWNvbiIsNiksSXIoKSl9ZnVuY3Rpb24gdHkoZSx0KXsxJmUmJk1yKDAsInBvLWljb24iLDcpLDImZSYmT3IoInAtaWNvbiIsVXIoKS5pY29uKX1mdW5jdGlvbiBueShlLHQpe2lmKDEmZSYmKEZyKDAsInNwYW4iLDgpLHBhKDEpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpO1pzKDEpLGZhKGUubGFiZWwpfX1mdW5jdGlvbiBpeShlLHQpezEmZSYmTHIoMCl9ZnVuY3Rpb24gc3koZSx0KXsxJmUmJkxyKDApfWZ1bmN0aW9uIG95KGUsdCl7MSZlJiZMcigwKX1jb25zdCByeT1mdW5jdGlvbigpe3JldHVybntwYXJ0VHlwZToiZW5kIn19O2Z1bmN0aW9uIGF5KGUsdCl7aWYoMSZlJiYoUHIoMCksa3IoMSxveSwxLDAsIm5nLWNvbnRhaW5lciIsNSksVnIoKSksMiZlKXtVcigyKTtjb25zdCBlPXhyKDYpO1pzKDEpLE9yKCJuZ1RlbXBsYXRlT3V0bGV0IixlKSgibmdUZW1wbGF0ZU91dGxldENvbnRleHQiLEhsKDIscnkpKX19Y29uc3QgbHk9ZnVuY3Rpb24oKXtyZXR1cm57cGFydFR5cGU6InN0YXJ0In19O2Z1bmN0aW9uIGN5KGUsdCl7aWYoMSZlJiYoRnIoMCwiZGl2Iiw0KSxrcigxLHN5LDEsMCwibmctY29udGFpbmVyIiw1KSxrcigyLGF5LDIsMywibmctY29udGFpbmVyIiw2KSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKSx0PXhyKDYpO1pzKDEpLE9yKCJuZ1RlbXBsYXRlT3V0bGV0Iix0KSgibmdUZW1wbGF0ZU91dGxldENvbnRleHQiLEhsKDMsbHkpKSxacygxKSxPcigibmdJZiIsIWUuaXNSZXNwb25zaXZlKX19ZnVuY3Rpb24gdXkoZSx0KXt9ZnVuY3Rpb24gaHkoZSx0KXtpZigxJmUmJihGcigwLCJkaXYiLDcpLGtyKDEsdXksMCwwLCJuZy10ZW1wbGF0ZSIsOCksSXIoKSksMiZlKXtVcigpO2NvbnN0IGU9eHIoNik7WnMoMSksT3IoIm5nVGVtcGxhdGVPdXRsZXQiLGUpfX1mdW5jdGlvbiBkeShlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsInBvLWNhbGVuZGFyLXdyYXBwZXIiLDkpLEJyKCJwLWhlYWRlci1jaGFuZ2UiLGZ1bmN0aW9uKHQpe2NvbnN0IG49SXQoZSkucGFydFR5cGU7cmV0dXJuIFVyKCkub25IZWFkZXJDaGFuZ2UodCxuKX0pKCJwLXNlbGVjdC1kYXRlIixmdW5jdGlvbih0KXtjb25zdCBuPUl0KGUpLnBhcnRUeXBlO3JldHVybiBVcigpLm9uU2VsZWN0RGF0ZSh0LG4pfSksSXIoKX1pZigyJmUpe2NvbnN0IGU9dC5wYXJ0VHlwZSxuPVVyKCk7T3IoInAtdmFsdWUiLG4uZ2V0VmFsdWUoZSkpKCJwLWFjdGl2YXRlLWRhdGUiLG4uZ2V0QWN0aXZhdGVEYXRlKGUpKSgicC1sb2NhbGUiLG4ubG9jYWxlKSgicC1taW4tZGF0ZSIsbi5taW5EYXRlKSgicC1tYXgtZGF0ZSIsbi5tYXhEYXRlKSgicC1wYXJ0LXR5cGUiLGUpKCJwLXJhbmdlIixuLmlzUmFuZ2UpKCJwLXJlc3BvbnNpdmUiLG4uaXNSZXNwb25zaXZlKSgicC1zZWxlY3RlZC12YWx1ZSIsbi52YWx1ZSl9fWZ1bmN0aW9uIHB5KGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwic3BhbiIsNCksQnIoImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBJdChlKSxVcigpLnByZXZpb3VzLmVtaXQoKX0pLElyKCl9fWZ1bmN0aW9uIGZ5KGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwic3BhbiIsNSksQnIoImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBJdChlKSxVcigpLm5leHQuZW1pdCgpfSksSXIoKX19ZnVuY3Rpb24gZ3koZSx0KXtpZigxJmUmJihGcigwLCJkaXYiLDEwKSxwYSgxKSxJcigpKSwyJmUpe2NvbnN0IGU9dC4kaW1wbGljaXQ7WnMoMSksZ2EoIiAiLGUsIiAiKX19ZnVuY3Rpb24gbXkoZSx0KXtpZigxJmUmJihGcigwLCJzcGFuIiwxMykscGEoMSksSXIoKSksMiZlKXtjb25zdCBlPVVyKCkuJGltcGxpY2l0O09yKCJuZ0NsYXNzIixVcigyKS5nZXREYXlGb3JlZ3JvdW5kQ29sb3IoZSkpLFpzKDEpLGdhKCIgIixlLmdldERhdGUoKSwiICIpfX1mdW5jdGlvbiB2eShlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsImRpdiIsMTEpLEJyKCJjbGljayIsZnVuY3Rpb24oKXtjb25zdCB0PUl0KGUpLiRpbXBsaWNpdDtyZXR1cm4gVXIoMikub25TZWxlY3REYXRlKHQpfSksa3IoMSxteSwyLDIsInNwYW4iLDEyKSxJcigpfWlmKDImZSl7Y29uc3QgZT10LiRpbXBsaWNpdDtPcigibmdDbGFzcyIsVXIoMikuZ2V0RGF5QmFja2dyb3VuZENvbG9yKGUpKSxacygxKSxPcigibmdJZiIsMCE9PWUpfX1mdW5jdGlvbiBieShlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO1ByKDApLEZyKDEsInBvLWNhbGVuZGFyLWhlYWRlciIsMiksQnIoInAtcHJldmlvdXMiLGZ1bmN0aW9uKCl7cmV0dXJuIEl0KGUpLFVyKCkub25QcmV2aW91c01vbnRoKCl9KSgicC1uZXh0IixmdW5jdGlvbigpe3JldHVybiBJdChlKSxVcigpLm9uTmV4dE1vbnRoKCl9KSxGcigyLCJzcGFuIiwzKSxCcigiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIEl0KGUpLFVyKCkuc2VsZWN0RGlzcGxheU1vZGUoIm1vbnRoIil9KSxwYSgzKSxJcigpLEZyKDQsInNwYW4iLDQpLEJyKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gSXQoZSksVXIoKS5zZWxlY3REaXNwbGF5TW9kZSgieWVhciIpfSkscGEoNSksSXIoKSxJcigpLEZyKDYsImRpdiIsNSksRnIoNywiZGl2Iiw2KSxrcig4LGd5LDIsMSwiZGl2Iiw3KSxJcigpLEZyKDksImRpdiIsOCksa3IoMTAsdnksMiwyLCJkaXYiLDkpLElyKCksSXIoKSxWcigpfWlmKDImZSl7Y29uc3QgZT1VcigpO1pzKDEpLE9yKCJwLWhpZGUtcHJldmlvdXMiLGUuaXNFbmRQYXJ0KSgicC1oaWRlLW5leHQiLGUuaXNTdGFydFBhcnQmJiFlLnJlc3BvbnNpdmUpLFpzKDIpLGZhKGUuZGlzcGxheU1vbnRoKSxacygyKSxmYShlLmRpc3BsYXlZZWFyKSxacygzKSxPcigibmdGb3JPZiIsZS5kaXNwbGF5V2Vla0RheXMpLFpzKDIpLE9yKCJuZ0Zvck9mIixlLmRpc3BsYXlEYXlzKX19ZnVuY3Rpb24geXkoZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJkaXYiLDE3KSxCcigiY2xpY2siLGZ1bmN0aW9uKCl7Y29uc3QgdD1JdChlKS5pbmRleCxuPVVyKDIpO3JldHVybiBuLm9uU2VsZWN0TW9udGgobi5kaXNwbGF5WWVhcix0KX0pLEZyKDEsInNwYW4iLDEzKSxwYSgyKSxJcigpLElyKCl9aWYoMiZlKXtjb25zdCBlPXQuJGltcGxpY2l0LG49dC5pbmRleCxpPVVyKDIpO09yKCJuZ0NsYXNzIixpLmdldEJhY2tncm91bmRDb2xvcihuLGkuZGlzcGxheU1vbnRoTnVtYmVyKSksWnMoMSksT3IoIm5nQ2xhc3MiLGkuZ2V0Rm9yZWdyb3VuZENvbG9yKG4saS5kaXNwbGF5TW9udGhOdW1iZXIpKSxacygxKSxnYSgiICIsZSwiICIpfX1mdW5jdGlvbiBDeShlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO1ByKDApLEZyKDEsInBvLWNhbGVuZGFyLWhlYWRlciIsMTQpLEJyKCJwLXByZXZpb3VzIixmdW5jdGlvbigpe3JldHVybiBJdChlKSxVcigpLnVwZGF0ZVllYXIoLTEpfSkoInAtbmV4dCIsZnVuY3Rpb24oKXtyZXR1cm4gSXQoZSksVXIoKS51cGRhdGVZZWFyKDEpfSksRnIoMiwic3BhbiIsNCksQnIoImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBJdChlKSxVcigpLnNlbGVjdERpc3BsYXlNb2RlKCJ5ZWFyIil9KSxwYSgzKSxJcigpLElyKCksRnIoNCwiZGl2Iiw1KSxGcig1LCJkaXYiLDYpLEZyKDYsImRpdiIsMTApLHBhKDcpLElyKCksSXIoKSxGcig4LCJkaXYiLDE1KSxrcig5LHl5LDMsMywiZGl2IiwxNiksSXIoKSxJcigpLFZyKCl9aWYoMiZlKXtjb25zdCBlPVVyKCk7WnMoMyksZ2EoIiAiLGUuZGlzcGxheVllYXIsIiAiKSxacyg0KSxnYSgiICIsZS5tb250aExhYmVsLCIgIiksWnMoMiksT3IoIm5nRm9yT2YiLGUuZGlzcGxheU1vbnRocyl9fWZ1bmN0aW9uIHd5KGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwiZGl2IiwyMCksQnIoImNsaWNrIixmdW5jdGlvbigpe2NvbnN0IHQ9SXQoZSkuJGltcGxpY2l0LG49VXIoMik7cmV0dXJuIG4ub25TZWxlY3RZZWFyKHQsbi5kaXNwbGF5TW9udGhOdW1iZXIpfSksRnIoMSwic3BhbiIsMTMpLHBhKDIpLElyKCksSXIoKX1pZigyJmUpe2NvbnN0IGU9dC4kaW1wbGljaXQsbj1VcigyKTtPcigibmdDbGFzcyIsbi5nZXRCYWNrZ3JvdW5kQ29sb3IoZSxuLmN1cnJlbnRZZWFyKSksWnMoMSksT3IoIm5nQ2xhc3MiLG4uZ2V0Rm9yZWdyb3VuZENvbG9yKGUsbi5jdXJyZW50WWVhcikpLFpzKDEpLGdhKCIgIixlLCIgIil9fWZ1bmN0aW9uIF95KGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7UHIoMCksRnIoMSwicG8tY2FsZW5kYXItaGVhZGVyIiwxNCksQnIoInAtcHJldmlvdXMiLGZ1bmN0aW9uKCl7cmV0dXJuIEl0KGUpLFVyKCkudXBkYXRlWWVhcigtMTApfSkoInAtbmV4dCIsZnVuY3Rpb24oKXtyZXR1cm4gSXQoZSksVXIoKS51cGRhdGVZZWFyKDEwKX0pLHBhKDIpLElyKCksRnIoMywiZGl2Iiw1KSxGcig0LCJkaXYiLDYpLEZyKDUsImRpdiIsMTApLHBhKDYpLElyKCksSXIoKSxGcig3LCJkaXYiLDE4KSxrcig4LHd5LDMsMywiZGl2IiwxOSksSXIoKSxJcigpLFZyKCl9aWYoMiZlKXtjb25zdCBlPVVyKCk7WnMoMiksbWEoIiAiLGUuZGlzcGxheVN0YXJ0RGVjYWRlLCIgLSAiLGUuZGlzcGxheUZpbmFsRGVjYWRlLCIgIiksWnMoNCksZ2EoIiAiLGUueWVhckxhYmVsLCIgIiksWnMoMiksT3IoIm5nRm9yT2YiLGUuZGlzcGxheURlY2FkZSl9fWZ1bmN0aW9uIER5KGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwic3BhbiIsNCksQnIoImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBJdChlKSxVcigyKS5jbG9zZSgpfSkoImtleWRvd24iLGZ1bmN0aW9uKHQpe3JldHVybiBJdChlKSxVcigyKS5vbktleVByZXNzKHQpfSksSXIoKX0yJmUmJmVhKCJwby1kaXNjbGFpbWVyLXJlbW92ZS1kYW5nZXIiLCJkYW5nZXIiPT09VXIoMikudHlwZSl9ZnVuY3Rpb24gU3koZSx0KXtpZigxJmUmJihGcigwLCJkaXYiLDEpLEZyKDEsInNwYW4iLDIpLHBhKDIpLElyKCksa3IoMyxEeSwxLDIsInNwYW4iLDMpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpO1pzKDEpLGVhKCJwby1kaXNjbGFpbWVyLWxhYmVsLWRhbmdlciIsImRhbmdlciI9PT1lLnR5cGUpLFpzKDEpLGdhKCIgIixlLmdldExhYmVsKCksIiAiKSxacygxKSxPcigibmdJZiIsITE9PT1lLmhpZGVDbG9zZSl9fWZ1bmN0aW9uIEV5KGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwicG8tZGlzY2xhaW1lci1yZW1vdmUiLDUpLEJyKCJrZXlkb3duIixmdW5jdGlvbih0KXtyZXR1cm4gSXQoZSksVXIoMikub25LZXlQcmVzcyh0KX0pKCJwLXJlbW92ZS1hbGwtYWN0aW9uIixmdW5jdGlvbigpe3JldHVybiBJdChlKSxVcigyKS5yZW1vdmVBbGxJdGVtcygpfSksSXIoKX0yJmUmJk9yKCJwLWxhYmVsIixVcigyKS5saXRlcmFscy5yZW1vdmVBbGwpfWZ1bmN0aW9uIGt5KGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwicG8tZGlzY2xhaW1lciIsNiksQnIoInAtY2xvc2UtYWN0aW9uIixmdW5jdGlvbigpe2NvbnN0IHQ9SXQoZSkuJGltcGxpY2l0O3JldHVybiBVcigyKS5vbkNsb3NlQWN0aW9uKHQpfSksSXIoKX1pZigyJmUpe2NvbnN0IGU9dC4kaW1wbGljaXQ7T3IoInAtaGlkZS1jbG9zZSIsZS5oaWRlQ2xvc2UpKCJwLWxhYmVsIixlLmxhYmVsKSgicC1wcm9wZXJ0eSIsZS5wcm9wZXJ0eSkoInAtdmFsdWUiLGUudmFsdWUpfX1mdW5jdGlvbiB4eShlLHQpe2lmKDEmZSYmKEZyKDAsImRpdiIsMSksRnIoMSwiZGl2IiwyKSxwYSgyKSxJcigpLGtyKDMsRXksMSwxLCJwby1kaXNjbGFpbWVyLXJlbW92ZSIsMyksa3IoNCxreSwxLDQsInBvLWRpc2NsYWltZXIiLDQpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpO1pzKDIpLGZhKGUudGl0bGUpLFpzKDEpLE9yKCJuZ0lmIixlLmlzUmVtb3ZlQWxsKCkpLFpzKDEpLE9yKCJuZ0Zvck9mIixlLmRpc2NsYWltZXJzKX19ZnVuY3Rpb24gQXkoZSx0KXtpZigxJmUmJihGcigwLCJkaXYiLDIpLHBhKDEpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpO1pzKDEpLGZhKGUubGFiZWwpfX1jb25zdCBPeT1bInBvcHVwUmVmIl07ZnVuY3Rpb24gVHkoZSx0KXsxJmUmJk1yKDAsImRpdiIpLDImZSYmdmEoInBvLXBvcHVwLWFycm93IHBvLWFycm93LSIsVXIoMikuYXJyb3dEaXJlY3Rpb24sIiIpfWZ1bmN0aW9uIEZ5KGUsdCl7MSZlJiZNcigwLCJwby1pY29uIiw5KSwyJmUmJk9yKCJwLWljb24iLFVyKDIpLiRpbXBsaWNpdC5pY29uKX1mdW5jdGlvbiBJeShlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsImRpdiIsNyksQnIoImNsaWNrIixmdW5jdGlvbigpe0l0KGUpO2NvbnN0IHQ9VXIoKS4kaW1wbGljaXQ7cmV0dXJuIFVyKDIpLm9uQWN0aW9uQ2xpY2sodCl9KSxrcigxLEZ5LDEsMSwicG8taWNvbiIsOCkscGEoMiksSXIoKX1pZigyJmUpe2NvbnN0IGU9VXIoKSx0PWUuJGltcGxpY2l0LG49ZS5pbmRleCxpPVVyKDIpO2VhKCJwby1wb3B1cC1pdGVtLWRlZmF1bHQiLCJkYW5nZXIiIT09dC50eXBlKSgicG8tcG9wdXAtaXRlbS1kYW5nZXIiLCJkYW5nZXIiPT09dC50eXBlKSgicG8tcG9wdXAtaXRlbS1kaXNhYmxlZCIsaS5yZXR1cm5Cb29sZWFuVmFsdWUodCwiZGlzYWJsZWQiKSkoInBvLXBvcHVwLWl0ZW0tc2VwYXJhdG9yIix0LnNlcGFyYXRvciYmMCE9PW4pKCJwby1wb3B1cC1pdGVtLXNlbGVjdGVkIix0LnNlbGVjdGVkKSxacygxKSxPcigibmdJZiIsdC5pY29uKSxacygxKSxnYSgiICIsdC5sYWJlbCwiICIpfX1mdW5jdGlvbiBNeShlLHQpe2lmKDEmZSYmKFByKDApLGtyKDEsSXksMywxMiwiZGl2Iiw2KSxWcigpKSwyJmUpe2NvbnN0IGU9dC4kaW1wbGljaXQ7WnMoMSksT3IoIm5nSWYiLCExIT09ZS52aXNpYmxlKX19ZnVuY3Rpb24gUHkoZSx0KXtpZigxJmUmJihGcigwLCJkaXYiLDEsMiksa3IoMixUeSwxLDMsImRpdiIsMyksV3IoMyksRnIoNCwiZGl2Iiw0KSxrcig1LE15LDIsMSwibmctY29udGFpbmVyIiw1KSxJcigpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpO1pzKDIpLE9yKCJuZ0lmIiwhZS5oaWRlQXJyb3cpLFpzKDMpLE9yKCJuZ0Zvck9mIixlLmFjdGlvbnMpfX1jb25zdCBWeT1bW1siIiwicC1wb3B1cC1oZWFkZXItdGVtcGxhdGUiLCIiXV1dLEx5PVsiW3AtcG9wdXAtaGVhZGVyLXRlbXBsYXRlXSJdO2Z1bmN0aW9uIFJ5KGUsdCl7aWYoMSZlJiYoRnIoMCwic3BhbiIsMiksTXIoMSwic3BhbiIsMykscGEoMiksSXIoKSksMiZlKXtjb25zdCBlPVVyKCk7WnMoMiksZ2EoIiAiLGUuZXJyb3JQYXR0ZXJuLCIgIil9fWZ1bmN0aW9uIGp5KGUsdCl7aWYoMSZlJiYoRnIoMCwic3BhbiIsNSkscGEoMSksSXIoKSksMiZlKXtjb25zdCBlPVVyKCk7WnMoMSksZmEoZS5saXRlcmFscy5vcHRpb25hbCl9fWZ1bmN0aW9uIE55KGUsdCl7aWYoMSZlJiYoRnIoMCwiZGl2Iiw2KSxwYSgxKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKTtacygxKSxmYShlLmhlbHApfX1jb25zdCBCeT1bImNoZWNrYm94TGFiZWwiXTtmdW5jdGlvbiAkeShlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsImRpdiIpLE1yKDEsImlucHV0Iiw0KSxGcigyLCJsYWJlbCIsNSw2KSxCcigiY2xpY2siLGZ1bmN0aW9uKCl7Y29uc3QgdD1JdChlKS4kaW1wbGljaXQ7cmV0dXJuIFVyKCkuY2hlY2tPcHRpb24odCl9KSgia2V5ZG93biIsZnVuY3Rpb24odCl7Y29uc3Qgbj1JdChlKS4kaW1wbGljaXQ7cmV0dXJuIFVyKCkub25LZXlEb3duKHQsbil9KSxwYSg0KSxJcigpLElyKCl9aWYoMiZlKXtjb25zdCBlPXQuJGltcGxpY2l0LG49VXIoKTtiYSgicG8tY2hlY2tib3gtZ3JvdXAtaXRlbSBwby1tZC0iLG4ubWRDb2x1bW5zLCIgcG8tbGctIixuLmNvbHVtbnMsIiIpLGVhKCJwby1jaGVja2JveC1ncm91cC1pdGVtLWRpc2FibGVkIixlLmRpc2FibGVkfHxuLmRpc2FibGVkKSxacygxKSxlYSgicG8tY2hlY2tib3gtZ3JvdXAtaW5wdXQtY2hlY2tlZCIsbi5jaGVja2VkT3B0aW9uc1tlLnZhbHVlXSkoInBvLWNoZWNrYm94LWdyb3VwLWlucHV0LWluZGV0ZXJtaW5hdGUiLG51bGw9PT1uLmNoZWNrZWRPcHRpb25zW2UudmFsdWVdKSxPcigiY2hlY2tlZCIsZS52YWx1ZSkoImRpc2FibGVkIixlLmRpc2FibGVkfHxuLmRpc2FibGVkKSgiaWQiLGUuaWQpKCJyZXF1aXJlZCIsbi5yZXF1aXJlZCkoInZhbHVlIixlLnZhbHVlKSxacygxKSxlYSgicG8tY2xpY2thYmxlIiwhZS5kaXNhYmxlZCYmIW4uZGlzYWJsZWQpLE9yKCJmb3IiLGUuaWQpKCJ0YWJpbmRleCIsZS5kaXNhYmxlZHx8bi5kaXNhYmxlZD8tMTowKSxacygyKSxnYSgiICIsZS5sYWJlbCwiICIpfX1mdW5jdGlvbiBIeShlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsInNwYW4iLDEpLEJyKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gSXQoZSksVXIoKS5jbGVhcigpfSksSXIoKX19Y29uc3QgVXk9WyJjYWxlbmRhciJdLHF5PVsiZGlhbG9nUGlja2VyIl0senk9WyJpY29uRGF0ZXBpY2tlciJdLFd5PVsiaW5wIl07ZnVuY3Rpb24gR3koZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJwby1jbGVhbiIsMTMpLEJyKCJwLWNoYW5nZS1ldmVudCIsZnVuY3Rpb24oKXtyZXR1cm4gSXQoZSksVXIoKS5jbGVhcigpfSksSXIoKX0yJmUmJk9yKCJwLWVsZW1lbnQtcmVmIixVcigpLmlucHV0RWwpfWZ1bmN0aW9uIEt5KGUsdCl7MSZlJiZNcigwLCJkaXYiLDE0KX1jb25zdCBZeT1bIm1vZGFsQ29udGVudCJdO2Z1bmN0aW9uIFp5KGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwiYSIsMTQpLEJyKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gSXQoZSksVXIoMikuY2xvc2UoITApfSksTXIoMSwic3BhbiIsMTUpLElyKCl9fWZ1bmN0aW9uIFF5KGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwicG8tYnV0dG9uIiwxNiksQnIoInAtY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIEl0KGUpLFVyKDIpLnNlY29uZGFyeUFjdGlvbi5hY3Rpb24oKX0pLElyKCl9aWYoMiZlKXtjb25zdCBlPVVyKDIpO09yKCJwLWRpc2FibGVkIixlLnNlY29uZGFyeUFjdGlvbi5kaXNhYmxlZCkoInAtbGFiZWwiLGUuc2Vjb25kYXJ5QWN0aW9uLmxhYmVsKSgicC1sb2FkaW5nIixlLnNlY29uZGFyeUFjdGlvbi5sb2FkaW5nKSgicC10eXBlIixlLmdldFNlY29uZGFyeUFjdGlvbkJ1dHRvblR5cGUoKSl9fWZ1bmN0aW9uIEp5KGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwiZGl2IiwxKSxCcigia2V5ZG93bi5lc2MiLGZ1bmN0aW9uKHQpe3JldHVybiBJdChlKSxVcigpLmNsb3NlTW9kYWxPbkVzY2FwZUtleSh0KX0pLEZyKDEsImRpdiIsMiksRnIoMiwiZGl2IiwzKSxCcigibW91c2Vkb3duIixmdW5jdGlvbih0KXtyZXR1cm4gSXQoZSksVXIoKS5vbkNsaWNrT3V0KHQpfSksRnIoMywiZGl2Iiw0KSxGcig0LCJkaXYiLDUsNiksRnIoNiwiZGl2Iiw3KSxGcig3LCJkaXYiLDgpLHBhKDgpLElyKCksa3IoOSxaeSwyLDAsImEiLDkpLElyKCksRnIoMTAsImRpdiIsMTApLFdyKDExKSxJcigpLEZyKDEyLCJkaXYiLDExKSxrcigxMyxReSwxLDQsInBvLWJ1dHRvbiIsMTIpLEZyKDE0LCJwby1idXR0b24iLDEzKSxCcigicC1jbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gSXQoZSksVXIoKS5wcmltYXJ5QWN0aW9uLmFjdGlvbigpfSksSXIoKSxJcigpLElyKCksSXIoKSxJcigpLElyKCksSXIoKX1pZigyJmUpe2NvbnN0IGU9VXIoKTtacyg0KSx2YSgicG8tbW9kYWwtY29udGVudCBwby1tb2RhbC0iLGUuc2l6ZSwiIiksWnMoNCksZ2EoIiAiLGUudGl0bGUsIiAiKSxacygxKSxPcigibmdJZiIsIWUuaGlkZUNsb3NlKSxacyg0KSxPcigibmdJZiIsZS5zZWNvbmRhcnlBY3Rpb24pLFpzKDEpLE9yKCJwLWRpc2FibGVkIixlLnByaW1hcnlBY3Rpb24uZGlzYWJsZWQpKCJwLWxhYmVsIixlLnByaW1hcnlBY3Rpb24ubGFiZWwpKCJwLWxvYWRpbmciLGUucHJpbWFyeUFjdGlvbi5sb2FkaW5nKSgicC10eXBlIixlLmdldFByaW1hcnlBY3Rpb25CdXR0b25UeXBlKCkpfX1jb25zdCBYeT1bInRvYXN0ZXIiXTtmdW5jdGlvbiBlQyhlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsImRpdiIsNyksQnIoImNsaWNrIixmdW5jdGlvbih0KXtyZXR1cm4gSXQoZSksVXIoKS5wb1RvYXN0ZXJBY3Rpb24odCl9KSxwYSgxKSxJcigpfWlmKDImZSl7Y29uc3QgZT1VcigpO1pzKDEpLGdhKCIgIixlLmFjdGlvbkxhYmVsLCIgIil9fWNvbnN0IHRDPVsicG9wb3ZlckVsZW1lbnQiXTtmdW5jdGlvbiBuQyhlLHQpezEmZSYmTXIoMCwiZGl2IiksMiZlJiZ2YSgicG8tcG9wb3Zlci1hcnJvdyBwby1hcnJvdy0iLFVyKCkuYXJyb3dEaXJlY3Rpb24sIiIpfWZ1bmN0aW9uIGlDKGUsdCl7aWYoMSZlJiYoRnIoMCwic3BhbiIsNSkscGEoMSksSXIoKSksMiZlKXtjb25zdCBlPVVyKCk7WnMoMSksZmEoZS50aXRsZSl9fWZ1bmN0aW9uIHNDKGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwicG8tdGFibGUtaWNvbiIsMSksQnIoInAtY2xpY2siLGZ1bmN0aW9uKHQpe2NvbnN0IG49SXQoZSkuJGltcGxpY2l0O3JldHVybiBVcigpLmNsaWNrKG4sdCl9KSxJcigpfWlmKDImZSl7Y29uc3QgZT10LiRpbXBsaWNpdCxuPVVyKCk7T3IoInAtY2xpY2thYmxlIixuLmlzQ2xpY2thYmxlKGUpKSgicC1jb2xvciIsbi5nZXRDb2xvcihlKSkoInAtZGlzYWJsZWQiLG4uaXNEaXNhYmxlZChlKSkoInAtaWNvbiIsbi5nZXRJY29uKGUpKSgicC1pY29uLXRvb2x0aXAiLGUudG9vbHRpcCl9fWZ1bmN0aW9uIG9DKGUsdCl7aWYoMSZlJiYoRnIoMCwicCIsNSkscGEoMSksSXIoKSksMiZlKXtjb25zdCBlPVVyKCk7WnMoMSksZmEoZS52YWx1ZSl9fWZ1bmN0aW9uIHJDKGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwiYSIsNiksQnIoImNsaWNrIixmdW5jdGlvbigpe0l0KGUpO2NvbnN0IHQ9VXIoKTtyZXR1cm4gdC5hY3Rpb24odC52YWx1ZSx0LnJvdyl9KSxwYSgxKSxJcigpfWlmKDImZSl7Y29uc3QgZT1VcigpO1pzKDEpLGZhKGUudmFsdWUpfX1mdW5jdGlvbiBhQyhlLHQpe2lmKDEmZSYmKEZyKDAsImEiLDcpLHBhKDEpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpO09yKCJocmVmIixlLmxpbmssWGkpLFpzKDEpLGZhKGUudmFsdWUpfX1mdW5jdGlvbiBsQyhlLHQpe2lmKDEmZSYmKEZyKDAsImEiLDgpLHBhKDEpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpO09yKCJyb3V0ZXJMaW5rIixlLmxpbmspLFpzKDEpLGZhKGUudmFsdWUpfX1mdW5jdGlvbiBjQyhlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsInBvLXBvcG92ZXIiLDEsMiksQnIoInAtY2xvc2UiLGZ1bmN0aW9uKCl7cmV0dXJuIEl0KGUpLFVyKCkuY2hlY2tDaGFuZ2VzKFtdLCEwKX0pLEZyKDIsImRpdiIsMyksRnIoMywiZGl2Iiw0KSxwYSg0KSxJcigpLEZyKDUsImRpdiIsNSksRnIoNiwiYnV0dG9uIiw2KSxCcigiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIEl0KGUpLHhyKDEpLmNsb3NlKCl9KSxJcigpLElyKCksSXIoKSxGcig3LCJkaXYiLDcpLEZyKDgsInBvLWNoZWNrYm94LWdyb3VwIiw4KSxCcigibmdNb2RlbENoYW5nZSIsZnVuY3Rpb24odCl7cmV0dXJuIEl0KGUpLFVyKCkudmlzaWJsZUNvbHVtbnM9dH0pKCJwLWNoYW5nZSIsZnVuY3Rpb24odCl7cmV0dXJuIEl0KGUpLFVyKCkuY2hlY2tDaGFuZ2VzKHQsITEpfSksSXIoKSxJcigpLEZyKDksImRpdiIsOSksRnIoMTAsInBvLWJ1dHRvbiIsMTApLEJyKCJwLWNsaWNrIixmdW5jdGlvbigpe3JldHVybiBJdChlKSxVcigpLnJlc3RvcmUoKX0pLElyKCksSXIoKSxJcigpfWlmKDImZSl7Y29uc3QgZT1VcigpO09yKCJwLXRhcmdldCIsZS50YXJnZXQpLFpzKDQpLGZhKGUubGl0ZXJhbHMuY29sdW1uc01hbmFnZXIpLFpzKDQpLE9yKCJuZ01vZGVsIixlLnZpc2libGVDb2x1bW5zKSgicC1vcHRpb25zIixlLmNvbHVtbnNPcHRpb25zKSxacygyKSxPcigicC1sYWJlbCIsZS5saXRlcmFscy5yZXN0b3JlRGVmYXVsdCl9fWNvbnN0IHVDPVsiY29sdW1uTWFuYWdlclRhcmdldCJdLGhDPVsibm9Db2x1bW5zSGVhZGVyIl0sZEM9WyJwb3B1cCJdLHBDPVsidGFibGVGb290ZXIiXSxmQz1bInRhYmxlV3JhcHBlciJdLGdDPVsicG9UYWJsZVRib2R5Il0sbUM9WyJhY3Rpb25zSWNvbkVsZW1lbnQiXSx2Qz1bImFjdGlvbnNFbGVtZW50Il0sYkM9WyJoZWFkZXJzVGFibGUiXTtmdW5jdGlvbiB5QyhlLHQpezEmZSYmTHIoMCl9ZnVuY3Rpb24gQ0MoZSx0KXtpZigxJmUmJihGcigwLCJwby1jb250YWluZXIiLDEzKSxrcigxLHlDLDEsMCwibmctY29udGFpbmVyIiwxNCksSXIoKSksMiZlKXtjb25zdCBlPVVyKCksdD14cigyKTtPcigicC1uby1zaGFkb3ciLCJib3JkZXIiPT09ZS5jb250YWluZXIpLFpzKDEpLE9yKCJuZ1RlbXBsYXRlT3V0bGV0Iix0KX19ZnVuY3Rpb24gd0MoZSx0KXtpZigxJmUmJihGcigwLCJkaXYiLDIyKSxNcigxLCJwby1sb2FkaW5nIiwyMyksSXIoKSksMiZlKXtjb25zdCBlPVVyKDIpO1pzKDEpLE9yKCJwLXRleHQiLGUubGl0ZXJhbHMubG9hZGluZ0RhdGEpfX1mdW5jdGlvbiBfQyhlLHQpezEmZSYmTHIoMCl9ZnVuY3Rpb24gREMoZSx0KXtpZigxJmUmJihGcigwLCJkaXYiLDI0KSxNcigxLCJkaXYiLDI1KSxGcigyLCJkaXYiLDI2LDI3KSxrcig0LF9DLDEsMCwibmctY29udGFpbmVyIiwxNCksSXIoKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoMiksdD14cig1KTtYcigiaGVpZ2h0IixlLmhlaWdodFRhYmxlQ29udGFpbmVyLCJweCIpLFpzKDQpLE9yKCJuZ1RlbXBsYXRlT3V0bGV0Iix0KX19ZnVuY3Rpb24gU0MoZSx0KXsxJmUmJkxyKDApfWZ1bmN0aW9uIEVDKGUsdCl7aWYoMSZlJiYoRnIoMCwiZGl2Iiksa3IoMSxTQywxLDAsIm5nLWNvbnRhaW5lciIsMTQpLElyKCkpLDImZSl7VXIoMik7Y29uc3QgZT14cig1KTtacygxKSxPcigibmdUZW1wbGF0ZU91dGxldCIsZSl9fWZ1bmN0aW9uIGtDKGUsdCl7aWYoMSZlJiYoUHIoMCksTXIoMSwicG8tdGFibGUtc3VidGl0bGUtZm9vdGVyIiwzMCksVnIoKSksMiZlKXtjb25zdCBlPXQuJGltcGxpY2l0LG49VXIoMyk7WnMoMSksT3IoInAtbGl0ZXJhbHMiLG4ubGl0ZXJhbHMpKCJwLXN1YnRpdGxlcyIsZS5zdWJ0aXRsZXMpfX1mdW5jdGlvbiB4QyhlLHQpe2lmKDEmZSYmKEZyKDAsImRpdiIsMjgpLGtyKDEsa0MsMiwyLCJuZy1jb250YWluZXIiLDI5KSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoMik7WnMoMSksT3IoIm5nRm9yT2YiLGUuc3VidGl0bGVDb2x1bW5zKSgibmdGb3JUcmFja0J5IixlLnRyYWNrQnkpfX1mdW5jdGlvbiBBQyhlLHQpe2lmKDEmZSYmKEZyKDAsImRpdiIpLGtyKDEsd0MsMiwxLCJkaXYiLDE1KSxGcigyLCJkaXYiLDE2KSxGcigzLCJkaXYiLDE3LDE4KSxrcig1LERDLDUsMywiZGl2IiwxOSksa3IoNixFQywyLDEsImRpdiIsMjApLElyKCksSXIoKSxJcigpLGtyKDcseEMsMiwyLCJkaXYiLDIxKSksMiZlKXtjb25zdCBlPVVyKCk7ZWEoInBvLXRhYmxlLWNvbnRhaW5lci1yZWxhdGl2ZSIsZS5sb2FkaW5nKSxacygxKSxPcigibmdJZiIsZS5sb2FkaW5nKSxacygyKSxYcigib3BhY2l0eSIsZS50YWJsZU9wYWNpdHkpLGVhKCJwby10YWJsZS1oZWFkZXItZml4ZWQtY29sdW1ucy1waXhlbHMiLGUuYWxsQ29sdW1uc1dpZHRoUGl4ZWxzKSxacygyKSxPcigibmdJZiIsZS5oZWlnaHQpLFpzKDEpLE9yKCJuZ0lmIiwhZS5oZWlnaHQpLFpzKDEpLE9yKCJuZ0lmIixlLmhhc0Zvb3Rlcil9fWZ1bmN0aW9uIE9DKGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwiZGl2IiwzMSwzMiksRnIoMiwicG8tYnV0dG9uIiwzMyksQnIoInAtY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIEl0KGUpLFVyKCkub25TaG93TW9yZSgpfSksSXIoKSxJcigpfWlmKDImZSl7Y29uc3QgZT1VcigpO2VhKCJwby1pbnZpc2libGUiLDA9PT1lLnNob3dNb3JlLm9ic2VydmVycy5sZW5ndGgmJiFlLmhhc1NlcnZpY2UpLFpzKDIpLE9yKCJwLWRpc2FibGVkIixlLnNob3dNb3JlRGlzYWJsZWQpKCJwLWxhYmVsIixlLmxpdGVyYWxzLmxvYWRNb3JlRGF0YSkoInAtbG9hZGluZyIsZS5sb2FkaW5nU2hvd01vcmUpfX1mdW5jdGlvbiBUQyhlLHQpe2lmKDEmZSYmTXIoMCwiaW5wdXQiLDQ1KSwyJmUpe2NvbnN0IGU9VXIoMyk7ZWEoInBvLXRhYmxlLWNoZWNrYm94LWNoZWNrZWQiLGUuc2VsZWN0QWxsKSgicG8tdGFibGUtY2hlY2tib3gtaW5kZXRlcm1pbmF0ZSIsbnVsbD09PWUuc2VsZWN0QWxsKX19ZnVuY3Rpb24gRkMoZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJsYWJlbCIsNDYpLEJyKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gSXQoZSksVXIoMykuc2VsZWN0QWxsUm93cygpfSksSXIoKX19ZnVuY3Rpb24gSUMoZSx0KXtpZigxJmUmJihGcigwLCJ0aCIsNDIpLEZyKDEsImRpdiIpLGtyKDIsVEMsMSw0LCJpbnB1dCIsNDMpLGtyKDMsRkMsMSwwLCJsYWJlbCIsNDQpLElyKCksSXIoKSksMiZlKXtjb25zdCBlPVVyKDIpO1pzKDEpLGVhKCJwby10YWJsZS1oZWFkZXItZml4ZWQtaW5uZXIiLGUuaGVpZ2h0KSxacygxKSxPcigibmdJZiIsIWUuaGlkZVNlbGVjdEFsbCksWnMoMSksT3IoIm5nSWYiLCFlLmhpZGVTZWxlY3RBbGwpfX1mdW5jdGlvbiBNQyhlLHQpezEmZSYmTXIoMCwidGgiLDQ3KX1mdW5jdGlvbiBQQyhlLHQpezEmZSYmTHIoMCl9ZnVuY3Rpb24gVkMoZSx0KXtpZigxJmUmJihGcigwLCJ0aCIsNDgsNDkpLGtyKDIsUEMsMSwwLCJuZy1jb250YWluZXIiLDUwKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoMiksdD14cigxNyksbj14cigxOSk7WnMoMiksT3IoIm5nSWYiLGUuaGVpZ2h0KSgibmdJZlRoZW4iLHQpKCJuZ0lmRWxzZSIsbil9fWZ1bmN0aW9uIExDKGUsdCl7MSZlJiZMcigwKX1jb25zdCBSQz1mdW5jdGlvbihlKXtyZXR1cm57JGltcGxpY2l0OmV9fTtmdW5jdGlvbiBqQyhlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsInRoIiw1MSw1MiksQnIoImNsaWNrIixmdW5jdGlvbigpe2NvbnN0IHQ9SXQoZSkuJGltcGxpY2l0O3JldHVybiBVcigyKS5zb3J0Q29sdW1uKHQpfSksRnIoMiwiZGl2Iiw1Myksa3IoMyxMQywxLDAsIm5nLWNvbnRhaW5lciIsNTQpLElyKCksSXIoKX1pZigyJmUpe2NvbnN0IGU9dC4kaW1wbGljaXQsbj1VcigyKSxpPXhyKDE1KTtYcigid2lkdGgiLGUud2lkdGgpKCJtYXgtd2lkdGgiLGUud2lkdGgpKCJtaW4td2lkdGgiLGUud2lkdGgpLGVhKCJwby1jbGlja2FibGUiLG4uc29ydHx8bi5oYXNTZXJ2aWNlKSgicG8tdGFibGUtaGVhZGVyLXN1YnRpdGxlIiwic3VidGl0bGUiPT09ZS50eXBlKSxacygyKSxlYSgicG8tdGFibGUtaGVhZGVyLWZpeGVkLWlubmVyIixuLmhlaWdodCkoInBvLXRhYmxlLWhlYWRlci1mbGV4LXJpZ2h0IiwiY3VycmVuY3kiPT09ZS50eXBlfHwibnVtYmVyIj09PWUudHlwZSkoInBvLXRhYmxlLWhlYWRlci1mbGV4LWNlbnRlciIsInN1YnRpdGxlIj09PWUudHlwZSksWnMoMSksT3IoIm5nVGVtcGxhdGVPdXRsZXQiLGkpKCJuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCIsVWwoMTgsUkMsZSkpfX1mdW5jdGlvbiBOQyhlLHQpezEmZSYmTXIoMCwidGgiLDQ3KX1mdW5jdGlvbiBCQyhlLHQpe2lmKDEmZSYmTXIoMCwidGgiKSwyJmUpe2NvbnN0IGU9VXIoMik7ZWEoInBvLXRhYmxlLWhlYWRlci1zaW5nbGUtYWN0aW9uIixlLmlzU2luZ2xlQWN0aW9uKSgicG8tdGFibGUtaGVhZGVyLWFjdGlvbnMiLCFlLmlzU2luZ2xlQWN0aW9uKX19ZnVuY3Rpb24gJEMoZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJ0aCIsbnVsbCw1NSksRnIoMiwiZGl2IiksRnIoMywiYnV0dG9uIiw1Niw1NyksQnIoImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBJdChlKSxVcigyKS5vbk9wZW5Db2x1bW5NYW5hZ2VyKCl9KSxJcigpLElyKCksSXIoKX1pZigyJmUpe2NvbnN0IGU9eHIoMSksdD1VcigyKTtlYSgicG8tdGFibGUtaGVhZGVyLWNvbHVtbi1tYW5hZ2VyIiwhdC5pc1NpbmdsZUFjdGlvbikoInBvLXRhYmxlLWhlYWRlci1jb2x1bW4tbWFuYWdlci1ib3JkZXIiLCF0LmhlaWdodCYmdC5jb250YWluZXIpKCJwby10YWJsZS1oZWFkZXItc2luZ2xlLWFjdGlvbiIsdC5pc1NpbmdsZUFjdGlvbiksWnMoMiksWHIoIndpZHRoIix0LmhlaWdodCYmdC52aXNpYmxlQWN0aW9ucy5sZW5ndGg/ZS5vZmZzZXRXaWR0aDp2b2lkIDAsInB4IiksZWEoInBvLXRhYmxlLWhlYWRlci1jb2x1bW4tbWFuYWdlci1ib3JkZXIiLHQuaGVpZ2h0JiZ0LmNvbnRhaW5lcikoInBvLXRhYmxlLWhlYWRlci1jb2x1bW4tbWFuYWdlci1maXhlZC1pbm5lciIsdC5oZWlnaHQpLFpzKDEpLE9yKCJwLXRvb2x0aXAiLHQubGl0ZXJhbHMuY29sdW1uc01hbmFnZXIpfX1mdW5jdGlvbiBIQyhlLHQpe2lmKDEmZSYmKEZyKDAsInRib2R5Iiw1OCksRnIoMSwidHIiLDU5KSxGcigyLCJ0ZCIsNjApLEZyKDMsInNwYW4iKSxwYSg0KSxJcigpLElyKCksSXIoKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoMik7WnMoMiksT3IoImNvbFNwYW4iLGUuY29sdW1uQ291bnQpLFpzKDIpLGdhKCIgIixlLmxpdGVyYWxzLm5vRGF0YSwiICIpfX1mdW5jdGlvbiBVQyhlLHQpezEmZSYmTHIoMCl9ZnVuY3Rpb24gcUMoZSx0KXtpZigxJmUmJihGcigwLCJ0ZCIsNjgpLGtyKDEsVUMsMSwwLCJuZy1jb250YWluZXIiLDU0KSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKS4kaW1wbGljaXQsdD1VcigzKSxuPXhyKDExKSxpPXhyKDEzKTtacygxKSxPcigibmdUZW1wbGF0ZU91dGxldCIsdC5zaW5nbGVTZWxlY3Q/bjppKSgibmdUZW1wbGF0ZU91dGxldENvbnRleHQiLFVsKDIsUkMsZSkpfX1mdW5jdGlvbiB6QyhlLHQpe31jb25zdCBXQz1mdW5jdGlvbihlLHQpe3JldHVybntyb3c6ZSxyb3dJbmRleDp0fX07ZnVuY3Rpb24gR0MoZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJ0ZCIsNjkpLEJyKCJjbGljayIsZnVuY3Rpb24oKXtJdChlKTtjb25zdCB0PVVyKCkuJGltcGxpY2l0O3JldHVybiBVcigzKS50b2dnbGVEZXRhaWwodCl9KSxrcigxLHpDLDAsMCwibmctdGVtcGxhdGUiLDcwKSxJcigpfWlmKDImZSl7Y29uc3QgZT1VcigpLHQ9ZS4kaW1wbGljaXQsbj1lLmluZGV4O1VyKDMpO2NvbnN0IGk9eHIoOSk7WnMoMSksT3IoIm5nVGVtcGxhdGVPdXRsZXQiLGkpKCJuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCIscWwoMixXQyx0LG4pKX19ZnVuY3Rpb24gS0MoZSx0KXt9ZnVuY3Rpb24gWUMoZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJ0ZCIsNjkpLEJyKCJjbGljayIsZnVuY3Rpb24oKXtJdChlKTtjb25zdCB0PVVyKCkuJGltcGxpY2l0O3JldHVybiBVcigzKS50b2dnbGVEZXRhaWwodCl9KSxrcigxLEtDLDAsMCwibmctdGVtcGxhdGUiLDcwKSxJcigpfWlmKDImZSl7Y29uc3QgZT1VcigpLHQ9ZS4kaW1wbGljaXQsbj1lLmluZGV4O1VyKDMpO2NvbnN0IGk9eHIoOSk7WnMoMSksT3IoIm5nVGVtcGxhdGVPdXRsZXQiLGkpKCJuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCIscWwoMixXQyx0LG4pKX19ZnVuY3Rpb24gWkMoZSx0KXsxJmUmJkxyKDApfWZ1bmN0aW9uIFFDKGUsdCl7aWYoMSZlJiYoRnIoMCwic3BhbiIpLGtyKDEsWkMsMSwwLCJuZy1jb250YWluZXIiLDU0KSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKS4kaW1wbGljaXQsdD1VcigpLiRpbXBsaWNpdCxuPVVyKDMpO1pzKDEpLE9yKCJuZ1RlbXBsYXRlT3V0bGV0IixuLmdldFRlbXBsYXRlKGUpKSgibmdUZW1wbGF0ZU91dGxldENvbnRleHQiLFVsKDIsUkMsdFtlLnByb3BlcnR5XSkpfX1mdW5jdGlvbiBKQyhlLHQpezEmZSYmTHIoMCl9Y29uc3QgWEM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57cm93OmUsY29sdW1uOnR9fTtmdW5jdGlvbiBldyhlLHQpe2lmKDEmZSYmKEZyKDAsInNwYW4iKSxrcigxLEpDLDEsMCwibmctY29udGFpbmVyIiw1NCksSXIoKSksMiZlKXtjb25zdCBlPVVyKCkuJGltcGxpY2l0LHQ9VXIoKS4kaW1wbGljaXQsbj1VcigzKTtacygxKSxPcigibmdUZW1wbGF0ZU91dGxldCIsbnVsbD09bi50YWJsZUNlbGxUZW1wbGF0ZT9udWxsOm4udGFibGVDZWxsVGVtcGxhdGUudGVtcGxhdGVSZWYpKCJuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCIscWwoMixYQyx0LGUpKX19ZnVuY3Rpb24gdHcoZSx0KXtpZigxJmUmJihGcigwLCJzcGFuIikscGEoMSksSXIoKSksMiZlKXtjb25zdCBlPVVyKCkuJGltcGxpY2l0LHQ9VXIoKS4kaW1wbGljaXQsbj1VcigzKTtacygxKSxnYSgiICIsbi5nZXRCb29sZWFuTGFiZWwodFtlLnByb3BlcnR5XSxlKSwiICIpfX1mdW5jdGlvbiBudyhlLHQpe2lmKDEmZSYmKEZyKDAsInNwYW4iKSxwYSgxKSxLbCgyLCJjdXJyZW5jeSIpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpLiRpbXBsaWNpdCx0PVVyKCkuJGltcGxpY2l0O1pzKDEpLGdhKCIgIixabCgyLDEsdFtlLnByb3BlcnR5XSxlLmZvcm1hdCwic3ltYm9sIiwiMS4yLTIiKSwiICIpfX1mdW5jdGlvbiBpdyhlLHQpe2lmKDEmZSYmKEZyKDAsInNwYW4iKSxwYSgxKSxLbCgyLCJkYXRlIiksSXIoKSksMiZlKXtjb25zdCBlPVVyKCkuJGltcGxpY2l0LHQ9VXIoKS4kaW1wbGljaXQ7WnMoMSksZ2EoIiAiLFlsKDIsMSx0W2UucHJvcGVydHldLGUuZm9ybWF0fHwiZGQvTU0veXl5eSIpLCIgIil9fWZ1bmN0aW9uIHN3KGUsdCl7aWYoMSZlJiYoRnIoMCwic3BhbiIpLHBhKDEpLEtsKDIsInBvX3RpbWUiKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKS4kaW1wbGljaXQsdD1VcigpLiRpbXBsaWNpdDtacygxKSxnYSgiICIsWWwoMiwxLHRbZS5wcm9wZXJ0eV0sZS5mb3JtYXR8fCJISDptbTpzcy5mZmZmZmYiKSwiICIpfX1mdW5jdGlvbiBvdyhlLHQpe2lmKDEmZSYmKEZyKDAsInNwYW4iKSxwYSgxKSxLbCgyLCJkYXRlIiksSXIoKSksMiZlKXtjb25zdCBlPVVyKCkuJGltcGxpY2l0LHQ9VXIoKS4kaW1wbGljaXQ7WnMoMSksZ2EoIiAiLFlsKDIsMSx0W2UucHJvcGVydHldLGUuZm9ybWF0fHwiZGQvTU0veXl5eSBISDptbTpzcyIpLCIgIil9fWZ1bmN0aW9uIHJ3KGUsdCl7aWYoMSZlJiYoRnIoMCwic3BhbiIpLHBhKDEpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpLiRpbXBsaWNpdCx0PVVyKCkuJGltcGxpY2l0LG49VXIoMyk7WnMoMSksZ2EoIiAiLG4uZm9ybWF0TnVtYmVyKHRbZS5wcm9wZXJ0eV0sZS5mb3JtYXQpLCIgIil9fWZ1bmN0aW9uIGF3KGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwicG8tdGFibGUtY29sdW1uLWxpbmsiLDc3KSxCcigiY2xpY2siLGZ1bmN0aW9uKHQpe0l0KGUpO2NvbnN0IG49VXIoKS4kaW1wbGljaXQsaT1VcigpLiRpbXBsaWNpdDtyZXR1cm4gVXIoMykub25DbGlja0xpbmsodCxpLG4pfSksSXIoKX1pZigyJmUpe2NvbnN0IGU9VXIoKS4kaW1wbGljaXQsdD1VcigpLiRpbXBsaWNpdCxuPVVyKDMpO09yKCJwLWFjdGlvbiIsZS5hY3Rpb24pKCJwLWRpc2FibGVkIixuLmNoZWNrRGlzYWJsZWQodCxlKSkoInAtbGluayIsdFtlLmxpbmtdKSgicC1yb3ciLHQpKCJwLXZhbHVlIix0W2UucHJvcGVydHldKX19ZnVuY3Rpb24gbHcoZSx0KXtpZigxJmUmJk1yKDAsInBvLXRhYmxlLWNvbHVtbi1pY29uIiw3OCksMiZlKXtjb25zdCBlPVVyKCkuJGltcGxpY2l0LHQ9VXIoKS4kaW1wbGljaXQsbj1VcigzKTtPcigicC1jb2x1bW4iLGUpKCJwLWljb25zIixuLmdldENvbHVtbkljb25zKHQsZSkpKCJwLXJvdyIsdCl9fWZ1bmN0aW9uIGN3KGUsdCl7aWYoMSZlJiYoRnIoMCwic3BhbiIpLE1yKDEsInBvLXRhYmxlLXN1YnRpdGxlLWNpcmNsZSIsNzkpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpLiRpbXBsaWNpdCx0PVVyKCkuJGltcGxpY2l0LG49VXIoMyk7WnMoMSksT3IoInAtc3VidGl0bGUiLG4uZ2V0U3VidGl0bGVDb2x1bW4odCxlKSl9fWZ1bmN0aW9uIHV3KGUsdCl7aWYoMSZlJiYoRnIoMCwic3BhbiIpLE1yKDEsInBvLXRhYmxlLWNvbHVtbi1sYWJlbCIsODApLElyKCkpLDImZSl7Y29uc3QgZT1VcigpLiRpbXBsaWNpdCx0PVVyKCkuJGltcGxpY2l0LG49VXIoMyk7WnMoMSksT3IoInAtdmFsdWUiLG4uZ2V0Q29sdW1uTGFiZWwodCxlKSl9fWZ1bmN0aW9uIGh3KGUsdCl7aWYoMSZlJiYoRnIoMCwic3BhbiIpLHBhKDEpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpLiRpbXBsaWNpdCx0PVVyKCkuJGltcGxpY2l0O1pzKDEpLGZhKHRbZS5wcm9wZXJ0eV0pfX1mdW5jdGlvbiBkdyhlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsInRkIiw3MSksQnIoImNsaWNrIixmdW5jdGlvbigpe0l0KGUpO2NvbnN0IHQ9VXIoKS4kaW1wbGljaXQsbj1VcigzKTtyZXR1cm4gbi5zZWxlY3RhYmxlP24uc2VsZWN0Um93KHQpOiJqYXZhc2NyaXB0OjsifSksRnIoMSwiZGl2Iiw3MiksQnIoIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKHQpe2NvbnN0IG49SXQoZSkuJGltcGxpY2l0LGk9VXIoKS4kaW1wbGljaXQ7cmV0dXJuIFVyKDMpLnRvb2x0aXBNb3VzZUVudGVyKHQsbixpKX0pKCJtb3VzZWxlYXZlIixmdW5jdGlvbigpe3JldHVybiBJdChlKSxVcig0KS50b29sdGlwTW91c2VMZWF2ZSgpfSksa3IoMixRQywyLDQsInNwYW4iLDczKSxrcigzLGV3LDIsNSwic3BhbiIsNzMpLGtyKDQsdHcsMiwxLCJzcGFuIiw3Myksa3IoNSxudywzLDYsInNwYW4iLDczKSxrcig2LGl3LDMsNCwic3BhbiIsNzMpLGtyKDcsc3csMyw0LCJzcGFuIiw3Myksa3IoOCxvdywzLDQsInNwYW4iLDczKSxrcig5LHJ3LDIsMSwic3BhbiIsNzMpLGtyKDEwLGF3LDEsNSwicG8tdGFibGUtY29sdW1uLWxpbmsiLDc0KSxrcigxMSxsdywxLDMsInBvLXRhYmxlLWNvbHVtbi1pY29uIiw3NSksa3IoMTIsY3csMiwxLCJzcGFuIiw3Myksa3IoMTMsdXcsMiwxLCJzcGFuIiw3Myksa3IoMTQsaHcsMiwxLCJzcGFuIiw3NiksSXIoKSxJcigpfWlmKDImZSl7Y29uc3QgZT10LiRpbXBsaWNpdCxuPVVyKCkuJGltcGxpY2l0LGk9VXIoMyk7WHIoIndpZHRoIixlLndpZHRoKSgibWF4LXdpZHRoIixlLndpZHRoKSgibWluLXdpZHRoIixlLndpZHRoKSxlYSgicG8tdGFibGUtY29sdW1uIiwiaWNvbiIhPT1lLnR5cGUpKCJwby10YWJsZS1jb2x1bW4tcmlnaHQiLCJjdXJyZW5jeSI9PT1lLnR5cGV8fCJudW1iZXIiPT09ZS50eXBlKSgicG8tdGFibGUtY29sdW1uLWNlbnRlciIsInN1YnRpdGxlIj09PWUudHlwZSkoInBvLXRhYmxlLWNvbHVtbi1pY29ucyIsImljb24iPT09ZS50eXBlKSxPcigibmdDbGFzcyIsaS5nZXRDbGFzc0NvbG9yKG4sZSkpLFpzKDEpLGVhKCJwby10YWJsZS1ib2R5LWVsbGlwc2lzIixpLmhpZGVUZXh0T3ZlcmZsb3cpLE9yKCJuZ1N3aXRjaCIsZS50eXBlKSgicC10b29sdGlwIixpLnRvb2x0aXBUZXh0KSxacygxKSxPcigibmdTd2l0Y2hDYXNlIiwiY29sdW1uVGVtcGxhdGUiKSxacygxKSxPcigibmdTd2l0Y2hDYXNlIiwiY2VsbFRlbXBsYXRlIiksWnMoMSksT3IoIm5nU3dpdGNoQ2FzZSIsImJvb2xlYW4iKSxacygxKSxPcigibmdTd2l0Y2hDYXNlIiwiY3VycmVuY3kiKSxacygxKSxPcigibmdTd2l0Y2hDYXNlIiwiZGF0ZSIpLFpzKDEpLE9yKCJuZ1N3aXRjaENhc2UiLCJ0aW1lIiksWnMoMSksT3IoIm5nU3dpdGNoQ2FzZSIsImRhdGVUaW1lIiksWnMoMSksT3IoIm5nU3dpdGNoQ2FzZSIsIm51bWJlciIpLFpzKDEpLE9yKCJuZ1N3aXRjaENhc2UiLCJsaW5rIiksWnMoMSksT3IoIm5nU3dpdGNoQ2FzZSIsImljb24iKSxacygxKSxPcigibmdTd2l0Y2hDYXNlIiwic3VidGl0bGUiKSxacygxKSxPcigibmdTd2l0Y2hDYXNlIiwibGFiZWwiKX19ZnVuY3Rpb24gcHcoZSx0KXt9ZnVuY3Rpb24gZncoZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJ0ZCIsNjkpLEJyKCJjbGljayIsZnVuY3Rpb24oKXtJdChlKTtjb25zdCB0PVVyKCkuJGltcGxpY2l0O3JldHVybiBVcigzKS50b2dnbGVEZXRhaWwodCl9KSxrcigxLHB3LDAsMCwibmctdGVtcGxhdGUiLDcwKSxJcigpfWlmKDImZSl7Y29uc3QgZT1VcigpLHQ9ZS4kaW1wbGljaXQsbj1lLmluZGV4O1VyKDMpO2NvbnN0IGk9eHIoOSk7WnMoMSksT3IoIm5nVGVtcGxhdGVPdXRsZXQiLGkpKCJuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCIscWwoMixXQyx0LG4pKX19ZnVuY3Rpb24gZ3coZSx0KXsxJmUmJk1yKDAsInBvLWljb24iLDg1KSwyJmUmJk9yKCJwLWljb24iLFVyKDYpLmZpcnN0QWN0aW9uLmljb24pfWZ1bmN0aW9uIG13KGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwiZGl2Iiw4MyksQnIoImNsaWNrIixmdW5jdGlvbigpe0l0KGUpO2NvbnN0IHQ9VXIoMikuJGltcGxpY2l0LG49VXIoMyk7cmV0dXJuIG4uZXhlY3V0ZVRhYmxlQWN0aW9uKHQsbi5maXJzdEFjdGlvbil9KSxrcigxLGd3LDEsMSwicG8taWNvbiIsODQpLHBhKDIpLElyKCl9aWYoMiZlKXtjb25zdCBlPVVyKDIpLiRpbXBsaWNpdCx0PVVyKDMpO2VhKCJwby10YWJsZS1hY3Rpb24tZGlzYWJsZWQiLCEhdC5maXJzdEFjdGlvbi5kaXNhYmxlZCYmdC52YWxpZGF0ZVRhYmxlQWN0aW9uKGUsdC5maXJzdEFjdGlvbikpLFpzKDEpLE9yKCJuZ0lmIix0LmZpcnN0QWN0aW9uLmljb24pLFpzKDEpLGdhKCIgIix0LmZpcnN0QWN0aW9uLmxhYmVsLCIgIil9fWZ1bmN0aW9uIHZ3KGUsdCl7aWYoMSZlJiYoRnIoMCwidGQiLDgxKSxrcigxLG13LDMsNCwiZGl2Iiw4MiksSXIoKSksMiZlKXtjb25zdCBlPVVyKDQpO1pzKDEpLE9yKCJuZ0lmIiwhMSE9PWUuZmlyc3RBY3Rpb24udmlzaWJsZSl9fWZ1bmN0aW9uIGJ3KGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwidGQiLDg2KSxGcigxLCJzcGFuIiw4Nyw4OCksQnIoImNsaWNrIixmdW5jdGlvbigpe0l0KGUpO2NvbnN0IHQ9eHIoMiksbj1VcigpLiRpbXBsaWNpdDtyZXR1cm4gVXIoMykudG9nZ2xlUG9wdXAobix0KX0pLElyKCksSXIoKX19ZnVuY3Rpb24geXcoZSx0KXsxJmUmJk1yKDAsInRkIiw4OSl9ZnVuY3Rpb24gQ3coZSx0KXt9Y29uc3Qgd3c9ZnVuY3Rpb24oZSx0KXtyZXR1cm57JGltcGxpY2l0OmUscm93SW5kZXg6dH19O2Z1bmN0aW9uIF93KGUsdCl7aWYoMSZlJiYoRnIoMCwidHIiKSxGcigxLCJ0ZCIsOTApLGtyKDIsQ3csMCwwLCJuZy10ZW1wbGF0ZSIsNzApLElyKCksSXIoKSksMiZlKXtjb25zdCBlPVVyKCksdD1lLiRpbXBsaWNpdCxuPWUuaW5kZXgsaT1VcigzKTtacygxKSxPcigiY29sU3BhbiIsaS5jb2x1bW5Db3VudEZvck1hc3RlckRldGFpbCksWnMoMSksT3IoIm5nVGVtcGxhdGVPdXRsZXQiLGkudGFibGVSb3dUZW1wbGF0ZS50ZW1wbGF0ZVJlZikoIm5nVGVtcGxhdGVPdXRsZXRDb250ZXh0IixxbCgzLHd3LHQsbikpfX1mdW5jdGlvbiBEdyhlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsInRyIiksRnIoMSwidGQiLDkxKSxGcigyLCJwby10YWJsZS1kZXRhaWwiLDkyKSxCcigicC1zZWxlY3Qtcm93IixmdW5jdGlvbih0KXtyZXR1cm4gSXQoZSksVXIoNCkuc2VsZWN0RGV0YWlsUm93KHQpfSksSXIoKSxJcigpLElyKCl9aWYoMiZlKXtjb25zdCBlPVVyKCkuJGltcGxpY2l0LHQ9VXIoMyk7WnMoMSksT3IoImNvbFNwYW4iLHQuY29sdW1uQ291bnRGb3JNYXN0ZXJEZXRhaWwpLFpzKDEpLE9yKCJwLXNlbGVjdGFibGUiLHQuc2VsZWN0YWJsZSYmIXQuZGV0YWlsSGlkZVNlbGVjdCkoInAtZGV0YWlsIix0LmNvbHVtbk1hc3RlckRldGFpbC5kZXRhaWwpKCJwLWl0ZW1zIixlW3QubmFtZUNvbHVtbkRldGFpbF0pfX1mdW5jdGlvbiBTdyhlLHQpe2lmKDEmZSYmKEZyKDAsInRib2R5Iiw1OCksRnIoMSwidHIiLDU5KSxrcigyLHFDLDIsNCwidGQiLDYyKSxrcigzLEdDLDIsNSwidGQiLDYzKSxrcig0LFlDLDIsNSwidGQiLDYzKSxrcig1LGR3LDE1LDMxLCJ0ZCIsNjQpLGtyKDYsZncsMiw1LCJ0ZCIsNjMpLGtyKDcsdncsMiwxLCJ0ZCIsNjUpLGtyKDgsYncsMywwLCJ0ZCIsNjYpLGtyKDkseXcsMSwwLCJ0ZCIsNjcpLElyKCksa3IoMTAsX3csMyw2LCJ0ciIsMjApLGtyKDExLER3LDMsNCwidHIiLDIwKSxJcigpKSwyJmUpe2NvbnN0IGU9dC4kaW1wbGljaXQsbj10LmluZGV4LGk9VXIoMyk7WnMoMSksZWEoInBvLXRhYmxlLXJvdy1hY3RpdmUiLGUuJHNlbGVjdGVkfHxudWxsPT09ZS4kc2VsZWN0ZWQmJmkuc2VsZWN0YWJsZSksWnMoMSksT3IoIm5nSWYiLGkuc2VsZWN0YWJsZSksWnMoMSksT3IoIm5nSWYiLGkuY29sdW1uTWFzdGVyRGV0YWlsJiYhaS5oaWRlRGV0YWlsJiYhaS5oYXNSb3dUZW1wbGF0ZSksWnMoMSksT3IoIm5nSWYiLGkuaGFzUm93VGVtcGxhdGUmJiFpLmhhc1Jvd1RlbXBsYXRlV2l0aEFycm93RGlyZWN0aW9uUmlnaHQpLFpzKDEpLE9yKCJuZ0Zvck9mIixpLm1haW5Db2x1bW5zKSgibmdGb3JUcmFja0J5IixpLnRyYWNrQnkpLFpzKDEpLE9yKCJuZ0lmIixpLmhhc1Jvd1RlbXBsYXRlV2l0aEFycm93RGlyZWN0aW9uUmlnaHQpLFpzKDEpLE9yKCJuZ0lmIixpLmlzU2luZ2xlQWN0aW9uKSxacygxKSxPcigibmdJZiIsaS52aXNpYmxlQWN0aW9ucy5sZW5ndGg+MSksWnMoMSksT3IoIm5nSWYiLCFpLmhhc1Zpc2libGVBY3Rpb25zJiYhaS5oaWRlQ29sdW1uc01hbmFnZXImJiFpLmhhc1Jvd1RlbXBsYXRlV2l0aEFycm93RGlyZWN0aW9uUmlnaHQpLFpzKDEpLE9yKCJuZ0lmIixpLmhhc01haW5Db2x1bW5zJiZpLmhhc1Jvd1RlbXBsYXRlJiZlLiRzaG93RGV0YWlsJiZpLmlzU2hvd1Jvd1RlbXBsYXRlKGUsbikpLFpzKDEpLE9yKCJuZ0lmIixpLmhhc01haW5Db2x1bW5zJiZpLmlzU2hvd01hc3RlckRldGFpbChlKSl9fWZ1bmN0aW9uIEV3KGUsdCl7aWYoMSZlJiYoUHIoMCksa3IoMSxTdywxMiwxMywidGJvZHkiLDYxKSxWcigpKSwyJmUpe2NvbnN0IGU9VXIoMik7WnMoMSksT3IoIm5nRm9yT2YiLGUuaXRlbXMpKCJuZ0ZvclRyYWNrQnkiLGUudHJhY2tCeSl9fWZ1bmN0aW9uIGt3KGUsdCl7aWYoMSZlJiYoRnIoMCwidGFibGUiLDM0KSxGcigxLCJ0aGVhZCIpLEZyKDIsInRyIiksa3IoMyxJQyw0LDQsInRoIiwzNSksa3IoNCxNQywxLDAsInRoIiwzNiksa3IoNSxWQywzLDMsInRoIiwzNyksa3IoNixqQyw0LDIwLCJ0aCIsMzgpLGtyKDcsTkMsMSwwLCJ0aCIsMzYpLGtyKDgsQkMsMSw0LCJ0aCIsMzkpLGtyKDksJEMsNSwxMywidGgiLDQwKSxJcigpLElyKCksa3IoMTAsSEMsNSwyLCJ0Ym9keSIsNDEpLGtyKDExLEV3LDIsMiwibmctY29udGFpbmVyIiwyMCksSXIoKSksMiZlKXtjb25zdCBlPVVyKCk7ZWEoInBvLXRhYmxlLXN0cmlwZWQiLGUuc3RyaXBlZCkoInBvLXRhYmxlLWxheW91dC1maXhlZCIsZS5oaWRlVGV4dE92ZXJmbG93KSxacygyKSxlYSgicG8tdGFibGUtaGVhZGVyIiwhZS5oZWlnaHQpLFpzKDEpLE9yKCJuZ0lmIixlLmhhc1NlbGVjdGFibGVDb2x1bW4pLFpzKDEpLE9yKCJuZ0lmIiwoZS5oYXNNYXN0ZXJEZXRhaWxDb2x1bW58fGUuaGFzUm93VGVtcGxhdGUpJiYhZS5oYXNSb3dUZW1wbGF0ZVdpdGhBcnJvd0RpcmVjdGlvblJpZ2h0KSxacygxKSxPcigibmdJZiIsIWUuaGFzTWFpbkNvbHVtbnMpLFpzKDEpLE9yKCJuZ0Zvck9mIixlLm1haW5Db2x1bW5zKSgibmdGb3JUcmFja0J5IixlLnRyYWNrQnkpLFpzKDEpLE9yKCJuZ0lmIixlLmhhc1Jvd1RlbXBsYXRlV2l0aEFycm93RGlyZWN0aW9uUmlnaHQmJihlLmhhc1Zpc2libGVBY3Rpb25zfHxlLmhpZGVDb2x1bW5zTWFuYWdlcikpLFpzKDEpLE9yKCJuZ0lmIixlLmhhc1Zpc2libGVBY3Rpb25zJiZlLmhpZGVDb2x1bW5zTWFuYWdlciksWnMoMSksT3IoIm5nSWYiLGUuaGFzVmFsaWRDb2x1bW5zJiYhZS5oaWRlQ29sdW1uc01hbmFnZXIpLFpzKDEpLE9yKCJuZ0lmIiwhZS5oYXNJdGVtc3x8IWUuaGFzTWFpbkNvbHVtbnMpLFpzKDEpLE9yKCJuZ0lmIixlLmhhc01haW5Db2x1bW5zKX19ZnVuY3Rpb24geHcoZSx0KXtpZigxJmUmJk1yKDAsInNwYW4iLDk0KSwyJmUpe2NvbnN0IGU9VXIoKS5yb3c7ZWEoInBvLWljb24tYXJyb3ctdXAiLGUuJHNob3dEZXRhaWwpKCJwby1pY29uLWFycm93LWRvd24iLCFlLiRzaG93RGV0YWlsKX19ZnVuY3Rpb24gQXcoZSx0KXtpZigxJmUmJmtyKDAseHcsMSw0LCJzcGFuIiw5MyksMiZlKXtjb25zdCBlPXQucm93LG49dC5yb3dJbmRleCxpPVVyKCk7T3IoIm5nSWYiLGkuY29udGFpbnNNYXN0ZXJEZXRhaWwoZSkmJiFpLmhhc1Jvd1RlbXBsYXRlfHxpLmlzU2hvd1Jvd1RlbXBsYXRlKGUsbikmJmkuaGFzUm93VGVtcGxhdGUpfX1mdW5jdGlvbiBPdyhlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO01yKDAsImlucHV0Iiw5NSksRnIoMSwibGFiZWwiLDk2KSxCcigiY2xpY2siLGZ1bmN0aW9uKCl7Y29uc3QgdD1JdChlKS4kaW1wbGljaXQsbj1VcigpO3JldHVybiBuLnNlbGVjdGFibGU/bi5zZWxlY3RSb3codCk6ImphdmFzY3JpcHQ6OyJ9KSxJcigpfTImZSYmZWEoInBvLXRhYmxlLXJhZGlvLWNoZWNrZWQiLHQuJGltcGxpY2l0LiRzZWxlY3RlZCl9ZnVuY3Rpb24gVHcoZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtNcigwLCJpbnB1dCIsNDUpLEZyKDEsImxhYmVsIiw0NiksQnIoImNsaWNrIixmdW5jdGlvbigpe2NvbnN0IHQ9SXQoZSkuJGltcGxpY2l0LG49VXIoKTtyZXR1cm4gbi5zZWxlY3RhYmxlP24uc2VsZWN0Um93KHQpOiJqYXZhc2NyaXB0OjsifSksSXIoKX0yJmUmJmVhKCJwby10YWJsZS1jaGVja2JveC1jaGVja2VkIix0LiRpbXBsaWNpdC4kc2VsZWN0ZWQpfWZ1bmN0aW9uIEZ3KGUsdCl7aWYoMSZlJiZNcigwLCJzcGFuIiksMiZlKXtjb25zdCBlPVVyKCkuJGltcGxpY2l0LHQ9VXIoKTtlYSgicG8tdGFibGUtaGVhZGVyLWljb24tdW5zZWxlY3RlZCIsKG51bGw9PXQuc29ydGVkQ29sdW1uP251bGw6dC5zb3J0ZWRDb2x1bW4ucHJvcGVydHkpIT09ZSkoInBvLXRhYmxlLWhlYWRlci1pY29uLWRlc2NlbmRpbmciLChudWxsPT10LnNvcnRlZENvbHVtbj9udWxsOnQuc29ydGVkQ29sdW1uLnByb3BlcnR5KT09PWUmJnQuc29ydGVkQ29sdW1uLmFzY2VuZGluZykoInBvLXRhYmxlLWhlYWRlci1pY29uLWFzY2VuZGluZyIsKG51bGw9PXQuc29ydGVkQ29sdW1uP251bGw6dC5zb3J0ZWRDb2x1bW4ucHJvcGVydHkpPT09ZSYmIXQuc29ydGVkQ29sdW1uLmFzY2VuZGluZyl9fWZ1bmN0aW9uIEl3KGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwic3BhbiIsOTcsOTgpLEJyKCJtb3VzZWVudGVyIixmdW5jdGlvbih0KXtyZXR1cm4gSXQoZSksVXIoKS50b29sdGlwTW91c2VFbnRlcih0KX0pKCJtb3VzZWxlYXZlIixmdW5jdGlvbigpe3JldHVybiBJdChlKSxVcigpLnRvb2x0aXBNb3VzZUxlYXZlKCl9KSxwYSgyKSxLbCgzLCJ0aXRsZWNhc2UiKSxJcigpLGtyKDQsRncsMSw2LCJzcGFuIiw5OSl9aWYoMiZlKXtjb25zdCBlPXQuJGltcGxpY2l0LG49VXIoKTtPcigicC10b29sdGlwIixuLnRvb2x0aXBUZXh0KSxacygyKSxnYSgiICIsZS5sYWJlbHx8ZnVuY3Rpb24oZSx0LG4pe2NvbnN0IGk9VHQoKSxzPXd0KGksMjMpO3JldHVybiBKbChpLFFsKGksMjMpP1dsKGksQnQoKSwzLHMudHJhbnNmb3JtLG4scyk6cy50cmFuc2Zvcm0obikpfSgwLDAsZS5wcm9wZXJ0eSksIiAiKSxacygyKSxPcigibmdJZiIsbi5zb3J0KX19ZnVuY3Rpb24gTXcoZSx0KXtpZigxJmUmJihGcigwLCJkaXYiLDEwMCkscGEoMSksSXIoKSksMiZlKXtjb25zdCBlPVVyKCk7WHIoIndpZHRoIixudWxsPT1lLm5vQ29sdW1uc0hlYWRlcj9udWxsOmUubm9Db2x1bW5zSGVhZGVyLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGgsInB4IiksWnMoMSksZ2EoIiAiLGUuaGFzVmFsaWRDb2x1bW5zP2UubGl0ZXJhbHMubm9WaXNpYmxlQ29sdW1uOmUubGl0ZXJhbHMubm9Db2x1bW5zLCIgIil9fWZ1bmN0aW9uIFB3KGUsdCl7aWYoMSZlJiZwYSgwKSwyJmUpe2NvbnN0IGU9VXIoKTtnYSgiICIsZS5oYXNWYWxpZENvbHVtbnM/ZS5saXRlcmFscy5ub1Zpc2libGVDb2x1bW46ZS5saXRlcmFscy5ub0NvbHVtbnMsIlxuIil9fWZ1bmN0aW9uIFZ3KGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwicG8tdGFibGUtY29sdW1uLW1hbmFnZXIiLDEwMSksQnIoInAtdmlzaWJsZS1jb2x1bW5zLWNoYW5nZSIsZnVuY3Rpb24odCl7cmV0dXJuIEl0KGUpLFVyKCkub25WaXNpYmxlQ29sdW1uc0NoYW5nZSh0KX0pKCJwLWNoYW5nZS12aXNpYmxlLWNvbHVtbnMiLGZ1bmN0aW9uKHQpe3JldHVybiBJdChlKSxVcigpLm9uQ2hhbmdlVmlzaWJsZUNvbHVtbnModCl9KSxJcigpfWlmKDImZSl7Y29uc3QgZT1VcigpO09yKCJwLWNvbHVtbnMiLGUuY29sdW1ucykoInAtbWF4LWNvbHVtbnMiLGUubWF4Q29sdW1ucykoInAtdGFyZ2V0IixlLmNvbHVtbk1hbmFnZXJUYXJnZXQpKCJwLWxhc3QtdmlzaWJsZS1jb2x1bW5zLXNlbGVjdGVkIixlLmxhc3RWaXNpYmxlQ29sdW1uc1NlbGVjdGVkKX19ZnVuY3Rpb24gTHcoZSx0KXsxJmUmJk1yKDAsInRoIiw2KX1mdW5jdGlvbiBSdyhlLHQpe2lmKDEmZSYmKEZyKDAsInRoIiw3KSxwYSgxKSxJcigpKSwyJmUpe2NvbnN0IGU9dC4kaW1wbGljaXQsbj1VcigyKTtacygxKSxnYSgiICIsbi5nZXRDb2x1bW5UaXRsZUxhYmVsKGUpLCIgIil9fWZ1bmN0aW9uIGp3KGUsdCl7aWYoMSZlJiYoRnIoMCwidGhlYWQiKSxGcigxLCJ0ciIpLGtyKDIsTHcsMSwwLCJ0aCIsMyksTXIoMywidGgiLDQpLGtyKDQsUncsMiwxLCJ0aCIsNSksSXIoKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKTtacygyKSxPcigibmdJZiIsZS5pc1NlbGVjdGFibGUpLFpzKDIpLE9yKCJuZ0Zvck9mIixlLmRldGFpbC5jb2x1bW5zKX19ZnVuY3Rpb24gTncoZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtQcigwKSxNcigxLCJ0ZCIsMTIpLEZyKDIsInRkIiwxMyksTXIoMywiaW5wdXQiLDE0KSxGcig0LCJsYWJlbCIsMTUpLEJyKCJjbGljayIsZnVuY3Rpb24oKXtJdChlKTtjb25zdCB0PVVyKCkuJGltcGxpY2l0O3JldHVybiBVcigpLm9uU2VsZWN0Um93KHQpfSksSXIoKSxJcigpLFZyKCl9aWYoMiZlKXtjb25zdCBlPVVyKCkuJGltcGxpY2l0O1pzKDMpLGVhKCJwby10YWJsZS1jaGVja2JveC1jaGVja2VkIixlLiRzZWxlY3RlZCl9fWZ1bmN0aW9uIEJ3KGUsdCl7MSZlJiZNcigwLCJ0ZCIsMTYpfWZ1bmN0aW9uICR3KGUsdCl7aWYoMSZlJiYoRnIoMCwic3Ryb25nIikscGEoMSksSXIoKSksMiZlKXtjb25zdCBlPVVyKCkuJGltcGxpY2l0LHQ9VXIoMik7WnMoMSksZ2EoIiAiLHQuZ2V0Q29sdW1uVGl0bGVMYWJlbChlKSwiOiAiKX19ZnVuY3Rpb24gSHcoZSx0KXtpZigxJmUmJihGcigwLCJzcGFuIikscGEoMSksS2woMiwiY3VycmVuY3kiKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKS4kaW1wbGljaXQsdD1VcigpLiRpbXBsaWNpdDtacygxKSxmYShabCgyLDEsdFtlLnByb3BlcnR5XSxlLmZvcm1hdCwic3ltYm9sIiwiMS4yLTIiKSl9fWZ1bmN0aW9uIFV3KGUsdCl7aWYoMSZlJiYoRnIoMCwic3BhbiIpLHBhKDEpLEtsKDIsImRhdGUiKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKS4kaW1wbGljaXQsdD1VcigpLiRpbXBsaWNpdDtacygxKSxmYShZbCgyLDEsdFtlLnByb3BlcnR5XSxlLmZvcm1hdHx8ImRkL01NL3l5eXkiKSl9fWZ1bmN0aW9uIHF3KGUsdCl7aWYoMSZlJiYoRnIoMCwic3BhbiIpLHBhKDEpLEtsKDIsInBvX3RpbWUiKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKS4kaW1wbGljaXQsdD1VcigpLiRpbXBsaWNpdDtacygxKSxmYShZbCgyLDEsdFtlLnByb3BlcnR5XSxlLmZvcm1hdHx8IkhIOm1tOnNzLmZmZmZmZiIpKX19ZnVuY3Rpb24gencoZSx0KXtpZigxJmUmJihGcigwLCJzcGFuIikscGEoMSksS2woMiwiZGF0ZSIpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpLiRpbXBsaWNpdCx0PVVyKCkuJGltcGxpY2l0O1pzKDEpLGdhKCIgIixZbCgyLDEsdFtlLnByb3BlcnR5XSxlLmZvcm1hdHx8ImRkL01NL3l5eXkgSEg6bW06c3MiKSwiICIpfX1mdW5jdGlvbiBXdyhlLHQpe2lmKDEmZSYmKEZyKDAsInNwYW4iKSxwYSgxKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKS4kaW1wbGljaXQsdD1VcigpLiRpbXBsaWNpdCxuPVVyKCk7WnMoMSksZmEobi5mb3JtYXROdW1iZXJEZXRhaWwodFtlLnByb3BlcnR5XSxlLmZvcm1hdCkpfX1mdW5jdGlvbiBHdyhlLHQpe2lmKDEmZSYmKEZyKDAsInNwYW4iKSxwYSgxKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKS4kaW1wbGljaXQsdD1VcigpLiRpbXBsaWNpdDtacygxKSxmYSh0W2UucHJvcGVydHldKX19ZnVuY3Rpb24gS3coZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJ0ZCIsMTcpLEJyKCJjbGljayIsZnVuY3Rpb24oKXtJdChlKTtjb25zdCB0PVVyKCkuJGltcGxpY2l0LG49VXIoKTtyZXR1cm4gbi5pc1NlbGVjdGFibGU/bi5vblNlbGVjdFJvdyh0KToiamF2YXNjcmlwdDo7In0pLGtyKDEsJHcsMiwxLCJzdHJvbmciLDEpLFByKDIsMTgpLGtyKDMsSHcsMyw2LCJzcGFuIiwxOSksa3IoNCxVdywzLDQsInNwYW4iLDE5KSxrcig1LHF3LDMsNCwic3BhbiIsMTkpLGtyKDYsencsMyw0LCJzcGFuIiwxOSksa3IoNyxXdywyLDEsInNwYW4iLDE5KSxrcig4LEd3LDIsMSwic3BhbiIsMjApLFZyKCksSXIoKX1pZigyJmUpe2NvbnN0IGU9dC4kaW1wbGljaXQsbj1VcigyKTtacygxKSxPcigibmdJZiIsbi50eXBlSGVhZGVySW5saW5lKSxacygxKSxPcigibmdTd2l0Y2giLGUudHlwZSksWnMoMSksT3IoIm5nU3dpdGNoQ2FzZSIsImN1cnJlbmN5IiksWnMoMSksT3IoIm5nU3dpdGNoQ2FzZSIsImRhdGUiKSxacygxKSxPcigibmdTd2l0Y2hDYXNlIiwidGltZSIpLFpzKDEpLE9yKCJuZ1N3aXRjaENhc2UiLCJkYXRlVGltZSIpLFpzKDEpLE9yKCJuZ1N3aXRjaENhc2UiLCJudW1iZXIiKX19ZnVuY3Rpb24gWXcoZSx0KXtpZigxJmUmJihGcigwLCJ0ciIsOCksa3IoMSxOdyw1LDIsIm5nLWNvbnRhaW5lciIsOSksa3IoMixCdywxLDAsIm5nLXRlbXBsYXRlIixudWxsLDEwLHljKSxrcig0LEt3LDksNywidGQiLDExKSxJcigpKSwyJmUpe2NvbnN0IGU9dC4kaW1wbGljaXQsbj14cigzKSxpPVVyKCk7ZWEoInBvLXRhYmxlLXJvdy1hY3RpdmUiLGUuJHNlbGVjdGVkJiZpLmlzU2VsZWN0YWJsZSksWnMoMSksT3IoIm5nSWYiLGkuaXNTZWxlY3RhYmxlKSgibmdJZkVsc2UiLG4pLFpzKDMpLE9yKCJuZ0Zvck9mIixpLmRldGFpbENvbHVtbnMpfX1jb25zdCBadz1mdW5jdGlvbihlLHQpe3JldHVybnsicG8tY2xpY2thYmxlIjplLCJwby10YWJsZS1pY29uLWRpc2FibGVkIjp0fX07ZnVuY3Rpb24gUXcoZSx0KXtpZigxJmUmJihGcigwLCJkaXYiLDYpLE1yKDEsInBvLXRhYmxlLXN1YnRpdGxlLWNpcmNsZSIsNyksRnIoMiwic3BhbiIsOCkscGEoMyksSXIoKSxJcigpKSwyJmUpe2NvbnN0IGU9dC4kaW1wbGljaXQ7WnMoMSksT3IoInAtc3VidGl0bGUiLGUpLFpzKDIpLGZhKGUubGFiZWwpfX1mdW5jdGlvbiBKdyhlLHQpe2lmKDEmZSYmKEZyKDAsImRpdiIsMyksTXIoMSwicG8tdGFibGUtc3VidGl0bGUtY2lyY2xlIiw0KSxGcigyLCJzcGFuIiw1KSxwYSgzKSxJcigpLElyKCkpLDImZSl7Y29uc3QgZT10LiRpbXBsaWNpdDtacygxKSxPcigicC1zdWJ0aXRsZSIsZSksWnMoMiksZmEoZS5sYWJlbCl9fWZ1bmN0aW9uIFh3KGUsdCl7aWYoMSZlJiZNcigwLCJwby10YWJsZS1zaG93LXN1YnRpdGxlIiw2KSwyJmUpe2NvbnN0IGU9VXIoKTtPcigicC1saXRlcmFscyIsZS5saXRlcmFscykoInAtc3VidGl0bGVzIixlLnN1YnRpdGxlcyl9fWNvbnN0IGVfPVsiY29udGFpbmVyRWxlbWVudCJdLHRfPVsiY29udGVudEVsZW1lbnQiXSxuXz1bImljb25BcnJvdyJdO2Z1bmN0aW9uIGlfKGUsdCl7aWYoMSZlJiYoRnIoMCwiZGl2IiwxNiksTXIoMSwicG8taWNvbiIsMTcpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpO1pzKDEpLGVhKCJwby1maWVsZC1pY29uLWRpc2FibGVkIixlLmRpc2FibGVkKSxPcigicC1pY29uIixlLmljb24pfX1mdW5jdGlvbiBzXyhlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsInBvLWNsZWFuIiwxOCksQnIoInAtY2hhbmdlLWV2ZW50IixmdW5jdGlvbih0KXtyZXR1cm4gSXQoZSksVXIoKS5jbGVhcih0KX0pLElyKCl9MiZlJiZPcigicC1lbGVtZW50LXJlZiIsVXIoKS5pbnB1dEVsKX1mdW5jdGlvbiBvXyhlLHQpezEmZSYmTHIoMCl9ZnVuY3Rpb24gcl8oZSx0KXsxJmUmJihGcigwLCJkaXYiLDE5KSxNcigxLCJwby1sb2FkaW5nIiksSXIoKSl9ZnVuY3Rpb24gYV8oZSx0KXsxJmUmJkxyKDApfWZ1bmN0aW9uIGxfKGUsdCl7aWYoMSZlJiZrcigwLGFfLDEsMCwibmctY29udGFpbmVyIiwxMSksMiZlKXtjb25zdCBlPVVyKCksdD14cigxOCksbj14cigyMCk7T3IoIm5nSWYiLGUudmlzaWJsZU9wdGlvbnMubGVuZ3RoKSgibmdJZlRoZW4iLHQpKCJuZ0lmRWxzZSIsbil9fWZ1bmN0aW9uIGNfKGUsdCl7MSZlJiZMcigwKX1mdW5jdGlvbiB1XyhlLHQpe2lmKDEmZSYmKEZyKDAsImxhYmVsIiwyNykscGEoMSksSXIoKSksMiZlKXtjb25zdCBlPVVyKDIpLiRpbXBsaWNpdDtacygxKSxmYShlLmxhYmVsKX19ZnVuY3Rpb24gaF8oZSx0KXtpZigxJmUmJihGcigwLCJhIiwyOCksTXIoMSwic3BhbiIsMjkpLElyKCkpLDImZSl7Y29uc3QgZT1VcigyKS4kaW1wbGljaXQsdD1VcigyKTtacygxKSxPcigiaW5uZXJIVE1MIix0LmdldExhYmVsRm9ybWF0dGVkKG51bGw9PWU/bnVsbDplLmxhYmVsKSxKaSl9fWZ1bmN0aW9uIGRfKGUsdCl7aWYoMSZlJiYoa3IoMCx1XywyLDEsImxhYmVsIiwyNSksa3IoMSxoXywyLDEsIm5nLXRlbXBsYXRlIixudWxsLDI2LHljKSksMiZlKXtjb25zdCBlPXhyKDIpLHQ9VXIoKS4kaW1wbGljaXQ7T3IoIm5nSWYiLG51bGw9PXQ/bnVsbDp0Lm9wdGlvbnMpKCJuZ0lmRWxzZSIsZSl9fWZ1bmN0aW9uIHBfKGUsdCl7MSZlJiZMcigwKX1mdW5jdGlvbiBmXyhlLHQpe31jb25zdCBnXz1mdW5jdGlvbihlLHQpe3JldHVybnskaW1wbGljaXQ6ZSxzZWxlY3RlZDp0fX07ZnVuY3Rpb24gbV8oZSx0KXtpZigxJmUmJmtyKDAsZl8sMCwwLCJuZy10ZW1wbGF0ZSIsMzIpLDImZSl7Y29uc3QgZT1VcigyKS4kaW1wbGljaXQsdD1VcigyKTtPcigibmdUZW1wbGF0ZU91dGxldCIsbnVsbD09dC5jb21ib09wdGlvblRlbXBsYXRlP251bGw6dC5jb21ib09wdGlvblRlbXBsYXRlLnRlbXBsYXRlUmVmKSgibmdUZW1wbGF0ZU91dGxldENvbnRleHQiLHFsKDIsZ18sZSx0LmNvbXBhcmVPYmplY3RzKHQuc2VsZWN0ZWRWaWV3LGUpKSl9fWZ1bmN0aW9uIHZfKGUsdCl7fWZ1bmN0aW9uIGJfKGUsdCl7aWYoMSZlJiYoRnIoMCwiYSIsMjgpLGtyKDEsdl8sMCwwLCJuZy10ZW1wbGF0ZSIsMzIpLElyKCkpLDImZSl7Y29uc3QgZT1VcigyKS4kaW1wbGljaXQsdD1VcigyKTtacygxKSxPcigibmdUZW1wbGF0ZU91dGxldCIsbnVsbD09dC5jb21ib09wdGlvblRlbXBsYXRlP251bGw6dC5jb21ib09wdGlvblRlbXBsYXRlLnRlbXBsYXRlUmVmKSgibmdUZW1wbGF0ZU91dGxldENvbnRleHQiLFVsKDIsUkMsZSkpfX1mdW5jdGlvbiB5XyhlLHQpe2lmKDEmZSYmKGtyKDAscF8sMSwwLCJuZy1jb250YWluZXIiLDExKSxrcigxLG1fLDEsNSwibmctdGVtcGxhdGUiLG51bGwsMzAseWMpLGtyKDMsYl8sMiw0LCJuZy10ZW1wbGF0ZSIsbnVsbCwzMSx5YykpLDImZSl7Y29uc3QgZT14cigyKSx0PXhyKDQpO09yKCJuZ0lmIixVcigzKS5pc09wdGlvbkdyb3VwTGlzdCkoIm5nSWZUaGVuIixlKSgibmdJZkVsc2UiLHQpfX1mdW5jdGlvbiBDXyhlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsImxpIiw3KSxCcigiY2xpY2siLGZ1bmN0aW9uKHQpe2NvbnN0IG49SXQoZSkuJGltcGxpY2l0LGk9VXIoMik7cmV0dXJuIG51bGwhPW4mJm4ub3B0aW9ucz92b2lkIDA6aS5vbk9wdGlvbkNsaWNrKG4sdCl9KSxrcigxLGNfLDEsMCwibmctY29udGFpbmVyIiwxMSksa3IoMixkXywzLDIsIm5nLXRlbXBsYXRlIixudWxsLDIzLHljKSxrcig0LHlfLDUsMywibmctdGVtcGxhdGUiLG51bGwsMjQseWMpLElyKCl9aWYoMiZlKXtjb25zdCBlPXQuJGltcGxpY2l0LG49eHIoMyksaT14cig1KSxzPVVyKDIpO2VhKCJwby1jb21iby1pdGVtLXNlbGVjdGVkIixzLmNvbXBhcmVPYmplY3RzKHMuc2VsZWN0ZWRWaWV3LGUpKSxacygxKSxPcigibmdJZiIscy5jb21ib09wdGlvblRlbXBsYXRlKSgibmdJZlRoZW4iLGkpKCJuZ0lmRWxzZSIsbil9fWZ1bmN0aW9uIHdfKGUsdCl7aWYoMSZlJiYoRnIoMCwidWwiLDIwLDIxKSxrcigyLENfLDYsNSwibGkiLDIyKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKTtacygyKSxPcigibmdGb3JPZiIsZS52aXNpYmxlT3B0aW9ucyl9fWZ1bmN0aW9uIF9fKGUsdCl7aWYoMSZlJiYoRnIoMCwiZGl2IiwzMyksRnIoMSwiZGl2IiwzNCksRnIoMiwic3BhbiIpLHBhKDMpLElyKCksSXIoKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKTtacygzKSxnYSgiICIsZS5saXRlcmFscy5ub0RhdGEsIiAiKX19ZnVuY3Rpb24gRF8oZSx0KXtpZigxJmUmJihGcigwLCJkaXYiLDgpLE1yKDEsInBvLWljb24iLDkpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpO1pzKDEpLGVhKCJwby1maWVsZC1pY29uLWRpc2FibGVkIixlLmRpc2FibGVkKSxPcigicC1pY29uIixlLmljb24pfX1mdW5jdGlvbiBTXyhlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsInBvLWNsZWFuIiwxMCksQnIoInAtY2hhbmdlLWV2ZW50IixmdW5jdGlvbih0KXtyZXR1cm4gSXQoZSksVXIoKS5jbGVhcih0KX0pLElyKCl9MiZlJiZPcigicC1lbGVtZW50LXJlZiIsVXIoKS5pbnB1dEVsKX1jb25zdCBFXz1bImR5bmFtaWNGb3JtIl0sa189WyJmaWVsZHNDb21wb25lbnQiXTtmdW5jdGlvbiB4XyhlLHQpezEmZSYmTHIoMCl9ZnVuY3Rpb24gQV8oZSx0KXtpZigxJmUmJk1yKDAsInBvLWR5bmFtaWMtZm9ybS1maWVsZHMiLDMsNCksMiZlKXtjb25zdCBlPVVyKCk7T3IoInAtYXV0by1mb2N1cyIsZS5hdXRvRm9jdXMpKCJwLWZpZWxkcyIsZS5maWVsZHMpKCJwLXZhbHVlIixlLnZhbHVlKX19ZnVuY3Rpb24gT18oZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJmb3JtIixudWxsLDUpLEZyKDIsInBvLWR5bmFtaWMtZm9ybS1maWVsZHMiLDYsNCksQnIoInAtZmllbGRzQ2hhbmdlIixmdW5jdGlvbih0KXtyZXR1cm4gSXQoZSksVXIoKS5maWVsZHM9dH0pKCJwLW9iamVjdC12YWx1ZSIsZnVuY3Rpb24odCl7cmV0dXJuIEl0KGUpLFVyKCkuc2VuZE9iamVjdFZhbHVlKHQpfSkoInAtZm9ybS12YWxpZGF0ZSIsZnVuY3Rpb24odCl7cmV0dXJuIEl0KGUpLFVyKCkudmFsaWRhdGVGb3JtKHQpfSksSXIoKSxJcigpfWlmKDImZSl7Y29uc3QgZT1VcigpO1pzKDIpLE9yKCJwLWZpZWxkcyIsZS5maWVsZHMpKCJwLWF1dG8tZm9jdXMiLGUuYXV0b0ZvY3VzKSgicC1kaXNhYmxlZC1mb3JtIixlLmRpc2FibGVkRm9ybSkoInAtdmFsaWRhdGUiLGUudmFsaWRhdGUpKCJwLXZhbGlkYXRlLWZpZWxkcyIsZS52YWxpZGF0ZUZpZWxkcykoInAtdmFsdWUiLGUudmFsdWUpfX1jb25zdCBUXz1bImlucHNlYXJjaCJdLEZfPVsiY29udGFpbmVyIl07ZnVuY3Rpb24gSV8oZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJkaXYiLDE0KSxGcigxLCJzcGFuIiwxNSksQnIoImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBJdChlKSxVcigpLm9uQWR2YW5jZWRGaWx0ZXIoKX0pKCJrZXlkb3duLmVudGVyIixmdW5jdGlvbigpe3JldHVybiBJdChlKSxVcigpLm9uQWR2YW5jZWRGaWx0ZXIoKX0pLHBhKDIpLElyKCksSXIoKX1pZigyJmUpe2NvbnN0IGU9VXIoKTtacygyKSxnYSgiICIsZS5saXRlcmFscy5tb2RhbEFkdmFuY2VkU2VhcmNoLCIgIil9fWZ1bmN0aW9uIE1fKGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwicG8tZGlzY2xhaW1lci1ncm91cCIsMTYpLEJyKCJwLWNoYW5nZSIsZnVuY3Rpb24oKXtyZXR1cm4gSXQoZSksVXIoKS5vbkNoYW5nZURpc2NsYWltZXJHcm91cCgpfSksSXIoKX1pZigyJmUpe2NvbnN0IGU9VXIoKTtPcigicC1kaXNjbGFpbWVycyIsbnVsbD09ZS5kaXNjbGFpbWVyR3JvdXA/bnVsbDplLmRpc2NsYWltZXJHcm91cC5kaXNjbGFpbWVycykoInAtdGl0bGUiLG51bGw9PWUuZGlzY2xhaW1lckdyb3VwP251bGw6ZS5kaXNjbGFpbWVyR3JvdXAudGl0bGUpfX1jb25zdCBQXz1bInVsRWxlbWVudCJdLFZfPVsic2VhcmNoRWxlbWVudCJdO2Z1bmN0aW9uIExfKGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwicG8tbXVsdGlzZWxlY3Qtc2VhcmNoIiw4LDkpLEJyKCJwLWNoYW5nZSIsZnVuY3Rpb24odCl7cmV0dXJuIEl0KGUpLFVyKCkuY2FsbENoYW5nZVNlYXJjaCh0KX0pLElyKCl9aWYoMiZlKXtjb25zdCBlPVVyKCk7T3IoInAtbGl0ZXJhbHMiLGUubGl0ZXJhbHMpKCJwLXBsYWNlaG9sZGVyIixlLnBsYWNlaG9sZGVyU2VhcmNoKX19ZnVuY3Rpb24gUl8oZSx0KXtpZigxJmUmJihGcigwLCJkaXYiLDEwKSxGcigxLCJzcGFuIikscGEoMiksSXIoKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKTtacygyKSxnYSgiICIsZS5saXRlcmFscy5ub0RhdGEsIiIpfX1mdW5jdGlvbiBqXyhlLHQpezEmZSYmKEZyKDAsImRpdiIsMTEpLE1yKDEsInBvLWxvYWRpbmciKSxJcigpKX1mdW5jdGlvbiBOXyhlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsInBvLW11bHRpc2VsZWN0LWl0ZW0iLDEzKSxCcigicC1jaGFuZ2UiLGZ1bmN0aW9uKHQpe2NvbnN0IG49SXQoZSkuJGltcGxpY2l0O3JldHVybiBVcigyKS5jbGlja0l0ZW0odCxuKX0pLElyKCl9aWYoMiZlKXtjb25zdCBlPXQuJGltcGxpY2l0LG49VXIoMik7T3IoInAtbGFiZWwiLGUubGFiZWwpKCJwLXNlbGVjdGVkIixuLmlzU2VsZWN0ZWRJdGVtKGUpKX19ZnVuY3Rpb24gQl8oZSx0KXtpZigxJmUmJihQcigwKSxrcigxLE5fLDEsMiwicG8tbXVsdGlzZWxlY3QtaXRlbSIsMTIpLFZyKCkpLDImZSl7Y29uc3QgZT1VcigpO1pzKDEpLE9yKCJuZ0Zvck9mIixlLnZpc2libGVPcHRpb25zKX19Y29uc3QgJF89WyJkcm9wZG93bkVsZW1lbnQiXSxIXz1bImljb25FbGVtZW50Il0sVV89WyJpbnB1dEVsZW1lbnQiXTtmdW5jdGlvbiBxXyhlLHQpe2lmKDEmZSYmKEZyKDAsInNwYW4iLDExKSxwYSgxKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKTtacygxKSxnYSgiICIsZS5wbGFjZWhvbGRlciwiICIpfX1mdW5jdGlvbiB6XyhlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsInBvLWRpc2NsYWltZXIiLDEyKSxCcigiY2xpY2siLGZ1bmN0aW9uKCl7Y29uc3QgdD1JdChlKS4kaW1wbGljaXQ7cmV0dXJuIFVyKCkub3BlbkRyb3Bkb3duKCIiPT09dC52YWx1ZSl9KSgicC1jbG9zZS1hY3Rpb24iLGZ1bmN0aW9uKCl7Y29uc3QgdD1JdChlKS4kaW1wbGljaXQ7cmV0dXJuIFVyKCkuY2xvc2VEaXNjbGFpbWVyKHQudmFsdWUpfSksSXIoKX1pZigyJmUpe2NvbnN0IGU9dC4kaW1wbGljaXQsbj1VcigpO2VhKCJwby1jbGlja2FibGUiLCIiPT09ZS52YWx1ZSYmIW4uZGlzYWJsZWQpLE9yKCJwLWxhYmVsIixlLmxhYmVsKSgicC12YWx1ZSIsZS52YWx1ZSkoInAtaGlkZS1jbG9zZSIsIiI9PT1lLnZhbHVlfHxuLmRpc2FibGVkKX19ZnVuY3Rpb24gV18oZSx0KXtpZigxJmUmJihGcigwLCJkaXYiLDgpLE1yKDEsInBvLWljb24iLDkpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpO1pzKDEpLGVhKCJwby1maWVsZC1pY29uLWRpc2FibGVkIixlLmRpc2FibGVkKSxPcigicC1pY29uIixlLmljb24pfX1mdW5jdGlvbiBHXyhlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsInBvLWNsZWFuIiwxMCksQnIoInAtY2hhbmdlLWV2ZW50IixmdW5jdGlvbih0KXtyZXR1cm4gSXQoZSksVXIoKS5jbGVhcih0KX0pLElyKCl9MiZlJiZPcigicC1lbGVtZW50LXJlZiIsVXIoKS5pbnB1dEVsKX1mdW5jdGlvbiBLXyhlLHQpe2lmKDEmZSYmKEZyKDAsImRpdiIsOCksTXIoMSwicG8taWNvbiIsOSksSXIoKSksMiZlKXtjb25zdCBlPVVyKCk7WnMoMSksZWEoInBvLWZpZWxkLWljb24tZGlzYWJsZWQiLGUuZGlzYWJsZWQpLE9yKCJwLWljb24iLGUuaWNvbil9fWZ1bmN0aW9uIFlfKGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwicG8tY2xlYW4iLDEwKSxCcigicC1jaGFuZ2UtZXZlbnQiLGZ1bmN0aW9uKHQpe3JldHVybiBJdChlKSxVcigpLmNsZWFyKHQpfSksSXIoKX1pZigyJmUpe2NvbnN0IGU9VXIoKTtPcigicC1kZWZhdWx0LXZhbHVlIixudWxsKSgicC1lbGVtZW50LXJlZiIsZS5pbnB1dEVsKX19ZnVuY3Rpb24gWl8oZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJwby1jbGVhbiIsMTApLEJyKCJwLWNoYW5nZS1ldmVudCIsZnVuY3Rpb24odCl7cmV0dXJuIEl0KGUpLFVyKCkuY2xlYXIodCl9KSxJcigpfTImZSYmT3IoInAtZWxlbWVudC1yZWYiLFVyKCkuaW5wdXRFbCl9ZnVuY3Rpb24gUV8oZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJzcGFuIiwxMSksQnIoImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBJdChlKSxVcigpLnNob3dQYXNzd29yZCgpfSksSXIoKX0yJmUmJk9yKCJuZ0NsYXNzIixVcigpLnZpc2libGVQYXNzd29yZD8icG8taWNvbi1leWUiOiJwby1pY29uLWV5ZS1vZmYgcG8tZmllbGQtaWNvbi1kaXNhYmxlZCIpfWNvbnN0IEpfPVsiaW5wdXRSYWRpbyJdO2Z1bmN0aW9uIFhfKGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwiZGl2IiksRnIoMSwiaW5wdXQiLDQsNSksQnIoImtleXVwIixmdW5jdGlvbih0KXtjb25zdCBuPUl0KGUpLiRpbXBsaWNpdDtyZXR1cm4gVXIoKS5vbktleVVwKHQsbi52YWx1ZSl9KSxJcigpLEZyKDMsImxhYmVsIiw2KSxCcigiY2xpY2siLGZ1bmN0aW9uKCl7Y29uc3QgdD1JdChlKS4kaW1wbGljaXQsbj1VcigpO3JldHVybiBuLmV2ZW50Q2xpY2sodC52YWx1ZSwhMD09PXQuZGlzYWJsZWR8fG4uZGlzYWJsZWQpfSkscGEoNCksSXIoKSxJcigpfWlmKDImZSl7Y29uc3QgZT10LiRpbXBsaWNpdCxuPXhyKDIpLGk9VXIoKTtiYSgicG8tcmFkaW8tZ3JvdXAtaXRlbSBwby1tZC0iLGkubWRDb2x1bW5zLCIgcG8tbGctIixpLmNvbHVtbnMsIiIpLFpzKDEpLGVhKCJwby1yYWRpby1ncm91cC1pbnB1dC1jaGVja2VkIixpLnZhbHVlPT09ZS52YWx1ZSksT3IoImNoZWNrZWQiLGkudmFsdWU9PT1lLnZhbHVlKSgiZGlzYWJsZWQiLCEwPT09ZS5kaXNhYmxlZHx8aS5kaXNhYmxlZCkoInJlcXVpcmVkIixpLnJlcXVpcmVkKSgidmFsdWUiLGUudmFsdWUpLERyKCJuYW1lIixpLm5hbWUpLFpzKDIpLGVhKCJwby1jbGlja2FibGUiLCFuLmRpc2FibGVkKSxPcigiZm9yIixpLm5hbWUpLFpzKDEpLGdhKCIgIixlLmxhYmVsLCIgIil9fWNvbnN0IGVEPVsiY29udGVudExpc3QiXSx0RD1bImljb24iXSxuRD1bInNlbGVjdCJdLGlEPVsic2VsZWN0QnV0dG9uIl07ZnVuY3Rpb24gc0QoZSx0KXsxJmUmJk1yKDAsIm9wdGlvbiIsMTQpfWZ1bmN0aW9uIG9EKGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwib3B0aW9uIiwxNSksQnIoImNsaWNrIixmdW5jdGlvbigpe2NvbnN0IHQ9SXQoZSkuJGltcGxpY2l0O3JldHVybiBVcigpLm9uT3B0aW9uQ2xpY2sodCl9KSxwYSgxKSxJcigpfWlmKDImZSl7Y29uc3QgZT10LiRpbXBsaWNpdDtPcigiZGlzYWJsZWQiLFVyKCkucmVhZG9ubHkpKCJ2YWx1ZSIsZS52YWx1ZSksWnMoMSksZ2EoIiAiLG51bGw9PWU/bnVsbDplLmxhYmVsLCIgIil9fWZ1bmN0aW9uIHJEKGUsdCl7MSZlJiZMcigwKX1mdW5jdGlvbiBhRChlLHQpe2lmKDEmZSYmKEZyKDAsInNwYW4iKSxwYSgxKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKS4kaW1wbGljaXQ7WnMoMSksZmEobnVsbD09ZT9udWxsOmUubGFiZWwpfX1mdW5jdGlvbiBsRChlLHQpe31mdW5jdGlvbiBjRChlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsImxpIiwxNiksQnIoImNsaWNrIixmdW5jdGlvbigpe2NvbnN0IHQ9SXQoZSkuJGltcGxpY2l0O3JldHVybiBVcigpLm9uT3B0aW9uQ2xpY2sodCl9KSxGcigxLCJkaXYiLDE3KSxrcigyLHJELDEsMCwibmctY29udGFpbmVyIiwxOCksa3IoMyxhRCwyLDEsIm5nLXRlbXBsYXRlIixudWxsLDE5LHljKSxrcig1LGxELDAsMCwibmctdGVtcGxhdGUiLDIwLDIxLHljKSxJcigpLElyKCl9aWYoMiZlKXtjb25zdCBlPXQuJGltcGxpY2l0LG49eHIoNCksaT14cig2KSxzPVVyKCk7ZWEoInBvLXNlbGVjdC1pdGVtLXNlbGVjdGVkIixzLnNlbGVjdGVkVmFsdWU9PT1lLnZhbHVlKSxPcigidmFsdWUiLGUudmFsdWUpLFpzKDIpLE9yKCJuZ0lmIixzLnNlbGVjdE9wdGlvblRlbXBsYXRlKSgibmdJZlRoZW4iLGkpKCJuZ0lmRWxzZSIsbiksWnMoMyksT3IoIm5nVGVtcGxhdGVPdXRsZXQiLG51bGw9PXMuc2VsZWN0T3B0aW9uVGVtcGxhdGU/bnVsbDpzLnNlbGVjdE9wdGlvblRlbXBsYXRlLnRlbXBsYXRlUmVmKSgibmdUZW1wbGF0ZU91dGxldENvbnRleHQiLFVsKDgsUkMsZSkpfX1jb25zdCB1RD1mdW5jdGlvbihlLHQpe3JldHVybnsicG8tc2VsZWN0LW1vYmlsZSI6ZSwicG8taW52aXNpYmxlIjp0fX0saEQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm57InBvLXNlbGVjdC1idXR0b24tZGlzYWJsZWQiOmUsInBvLXNlbGVjdC1idXR0b24tcmVhZG9ubHkiOnR9fSxkRD1mdW5jdGlvbihlLHQpe3JldHVybnsicG8tZmllbGQtaWNvbi1kaXNhYmxlZCI6ZSwicG8tZmllbGQtaWNvbi1yZWFkb25seSI6dH19LHBEPWZ1bmN0aW9uKGUpe3JldHVybnsicG8taW52aXNpYmxlIjplfX0sZkQ9WyJzd2l0Y2hDb250YWluZXIiXTtmdW5jdGlvbiBnRChlLHQpe2lmKDEmZSYmKEZyKDAsImRpdiIsNiksRnIoMSwic3BhbiIsNykscGEoMiksSXIoKSxJcigpKSwyJmUpe2NvbnN0IGU9VXIoKTtacygyKSxmYShlLnRhZ09yaWVudGF0aW9uP2UubGFiZWwrIjoiOmUubGFiZWwpfX1mdW5jdGlvbiBtRChlLHQpe2lmKDEmZSYmTXIoMCwicG8taWNvbiIsOCksMiZlKXtjb25zdCBlPVVyKCk7T3IoInAtaWNvbiIsZS50eXBlP2UuaWNvbkZyb21UeXBlOmUuaWNvbil9fWNvbnN0IHZEPVsiY29tcG9uZW50Il07ZnVuY3Rpb24gYkQoZSx0KXsxJmUmJk1yKDAsInBvLWRpdmlkZXIiLDE2KSwyJmUmJk9yKCJwLWxhYmVsIixVcigpLiRpbXBsaWNpdC5kaXZpZGVyKX1mdW5jdGlvbiB5RChlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsInBvLWRhdGVwaWNrZXIiLDE3LDE4KSxCcigibmdNb2RlbENoYW5nZSIsZnVuY3Rpb24odCl7SXQoZSk7Y29uc3Qgbj1VcigpLiRpbXBsaWNpdDtyZXR1cm4gVXIoMikudmFsdWVbbi5wcm9wZXJ0eV09dH0pKCJwLWNoYW5nZSIsZnVuY3Rpb24oKXtJdChlKTtjb25zdCB0PVVyKCkuJGltcGxpY2l0O3JldHVybiBVcigyKS5vbkNoYW5nZUZpZWxkKHQpfSksSXIoKX1pZigyJmUpe2NvbnN0IGU9VXIoKS4kaW1wbGljaXQsdD1VcigyKTtPcigibmFtZSIsZS5wcm9wZXJ0eSkoIm5nTW9kZWwiLHQudmFsdWVbZS5wcm9wZXJ0eV0pKCJuZ0NsYXNzIixlLmNvbXBvbmVudENsYXNzKSgicC1kaXNhYmxlZCIsdC5pc0Rpc2FibGVkKGUpKSgicC1lcnJvci1wYXR0ZXJuIixlLmVycm9yTWVzc2FnZSkoInAtYXV0by1mb2N1cyIsZS5mb2N1cykoInAtZm9ybWF0IixlLmZvcm1hdCkoInAtaGVscCIsZS5oZWxwKSgicC1sYWJlbCIsZS5sYWJlbCkoInAtbWF4LWRhdGUiLGUubWF4VmFsdWUpKCJwLW1pbi1kYXRlIixlLm1pblZhbHVlKSgicC1vcHRpb25hbCIsZS5vcHRpb25hbCkoInAtcmVxdWlyZWQiLGUucmVxdWlyZWQpKCJwLXBsYWNlaG9sZGVyIixlLnBsYWNlaG9sZGVyKX19ZnVuY3Rpb24gQ0QoZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJwby1pbnB1dCIsMTksMTgpLEJyKCJuZ01vZGVsQ2hhbmdlIixmdW5jdGlvbih0KXtJdChlKTtjb25zdCBuPVVyKCkuJGltcGxpY2l0O3JldHVybiBVcigyKS52YWx1ZVtuLnByb3BlcnR5XT10fSkoInAtY2hhbmdlIixmdW5jdGlvbigpe0l0KGUpO2NvbnN0IHQ9VXIoKS4kaW1wbGljaXQ7cmV0dXJuIFVyKDIpLm9uQ2hhbmdlRmllbGQodCl9KSxJcigpfWlmKDImZSl7Y29uc3QgZT1VcigpLiRpbXBsaWNpdCx0PVVyKDIpO09yKCJuYW1lIixlLnByb3BlcnR5KSgibmdNb2RlbCIsdC52YWx1ZVtlLnByb3BlcnR5XSkoIm5nQ2xhc3MiLGUuY29tcG9uZW50Q2xhc3MpKCJwLWRpc2FibGVkIix0LmlzRGlzYWJsZWQoZSkpKCJwLWVycm9yLXBhdHRlcm4iLGUuZXJyb3JNZXNzYWdlKSgicC1hdXRvLWZvY3VzIixlLmZvY3VzKSgicC1oZWxwIixlLmhlbHApKCJwLWxhYmVsIixlLmxhYmVsKSgicC1tYXNrLWZvcm1hdC1tb2RlbCIsZS5tYXNrRm9ybWF0TW9kZWwpKCJwLW1hc2siLGUubWFzaykoInAtbWF4bGVuZ3RoIixlLm1heExlbmd0aCkoInAtbWlubGVuZ3RoIixlLm1pbkxlbmd0aCkoInAtb3B0aW9uYWwiLGUub3B0aW9uYWwpKCJwLXBhdHRlcm4iLGUucGF0dGVybikoInAtcmVxdWlyZWQiLGUucmVxdWlyZWQpKCJwLWljb24iLGUuaWNvbikoInAtcGxhY2Vob2xkZXIiLGUucGxhY2Vob2xkZXIpfX1mdW5jdGlvbiB3RChlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsInBvLW51bWJlciIsMjAsMTgpLEJyKCJuZ01vZGVsQ2hhbmdlIixmdW5jdGlvbih0KXtJdChlKTtjb25zdCBuPVVyKCkuJGltcGxpY2l0O3JldHVybiBVcigyKS52YWx1ZVtuLnByb3BlcnR5XT10fSkoInAtY2hhbmdlIixmdW5jdGlvbigpe0l0KGUpO2NvbnN0IHQ9VXIoKS4kaW1wbGljaXQ7cmV0dXJuIFVyKDIpLm9uQ2hhbmdlRmllbGQodCl9KSxJcigpfWlmKDImZSl7Y29uc3QgZT1VcigpLiRpbXBsaWNpdCx0PVVyKDIpO09yKCJuYW1lIixlLnByb3BlcnR5KSgibmdNb2RlbCIsdC52YWx1ZVtlLnByb3BlcnR5XSkoIm5nQ2xhc3MiLGUuY29tcG9uZW50Q2xhc3MpKCJwLWRpc2FibGVkIix0LmlzRGlzYWJsZWQoZSkpKCJwLWVycm9yLXBhdHRlcm4iLGUuZXJyb3JNZXNzYWdlKSgicC1hdXRvLWZvY3VzIixlLmZvY3VzKSgicC1oZWxwIixlLmhlbHApKCJwLWxhYmVsIixlLmxhYmVsKSgicC1taW4iLGUubWluVmFsdWUpKCJwLW1heCIsZS5tYXhWYWx1ZSkoInAtbWF4bGVuZ3RoIixlLm1heExlbmd0aCkoInAtbWlubGVuZ3RoIixlLm1pbkxlbmd0aCkoInAtb3B0aW9uYWwiLGUub3B0aW9uYWwpKCJwLXJlcXVpcmVkIixlLnJlcXVpcmVkKSgicC1pY29uIixlLmljb24pKCJwLXBsYWNlaG9sZGVyIixlLnBsYWNlaG9sZGVyKX19ZnVuY3Rpb24gX0QoZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJwby1kZWNpbWFsIiwyMSwxOCksQnIoIm5nTW9kZWxDaGFuZ2UiLGZ1bmN0aW9uKHQpe0l0KGUpO2NvbnN0IG49VXIoKS4kaW1wbGljaXQ7cmV0dXJuIFVyKDIpLnZhbHVlW24ucHJvcGVydHldPXR9KSgicC1jaGFuZ2UiLGZ1bmN0aW9uKCl7SXQoZSk7Y29uc3QgdD1VcigpLiRpbXBsaWNpdDtyZXR1cm4gVXIoMikub25DaGFuZ2VGaWVsZCh0KX0pLElyKCl9aWYoMiZlKXtjb25zdCBlPVVyKCkuJGltcGxpY2l0LHQ9VXIoMik7T3IoIm5hbWUiLGUucHJvcGVydHkpKCJuZ01vZGVsIix0LnZhbHVlW2UucHJvcGVydHldKSgibmdDbGFzcyIsZS5jb21wb25lbnRDbGFzcykoInAtZGlzYWJsZWQiLHQuaXNEaXNhYmxlZChlKSkoInAtZGVjaW1hbHMtbGVuZ3RoIixlLmRlY2ltYWxzTGVuZ3RoKSgicC10aG91c2FuZC1tYXhsZW5ndGgiLGUudGhvdXNhbmRNYXhsZW5ndGgpKCJwLWljb24iLGUuaWNvbikoInAtYXV0by1mb2N1cyIsZS5mb2N1cykoInAtaGVscCIsZS5oZWxwKSgicC1sYWJlbCIsZS5sYWJlbCkoInAtb3B0aW9uYWwiLGUub3B0aW9uYWwpKCJwLXJlcXVpcmVkIixlLnJlcXVpcmVkKSgicC1wbGFjZWhvbGRlciIsZS5wbGFjZWhvbGRlcil9fWZ1bmN0aW9uIEREKGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwicG8tc2VsZWN0IiwyMiwxOCksQnIoIm5nTW9kZWxDaGFuZ2UiLGZ1bmN0aW9uKHQpe0l0KGUpO2NvbnN0IG49VXIoKS4kaW1wbGljaXQ7cmV0dXJuIFVyKDIpLnZhbHVlW24ucHJvcGVydHldPXR9KSgicC1jaGFuZ2UiLGZ1bmN0aW9uKCl7SXQoZSk7Y29uc3QgdD1VcigpLiRpbXBsaWNpdDtyZXR1cm4gVXIoMikub25DaGFuZ2VGaWVsZCh0KX0pLElyKCl9aWYoMiZlKXtjb25zdCBlPVVyKCkuJGltcGxpY2l0LHQ9VXIoMik7T3IoIm5hbWUiLGUucHJvcGVydHkpKCJuZ01vZGVsIix0LnZhbHVlW2UucHJvcGVydHldKSgibmdDbGFzcyIsZS5jb21wb25lbnRDbGFzcykoInAtYXV0by1mb2N1cyIsZS5mb2N1cykoInAtZGlzYWJsZWQiLHQuaXNEaXNhYmxlZChlKSkoInAtaGVscCIsZS5oZWxwKSgicC1sYWJlbCIsZS5sYWJlbCkoInAtb3B0aW9uYWwiLGUub3B0aW9uYWwpKCJwLW9wdGlvbnMiLGUub3B0aW9ucykoInAtcmVxdWlyZWQiLGUucmVxdWlyZWQpKCJwLXBsYWNlaG9sZGVyIixlLnBsYWNlaG9sZGVyKX19ZnVuY3Rpb24gU0QoZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJwby1yYWRpby1ncm91cCIsMjMsMTgpLEJyKCJuZ01vZGVsQ2hhbmdlIixmdW5jdGlvbih0KXtJdChlKTtjb25zdCBuPVVyKCkuJGltcGxpY2l0O3JldHVybiBVcigyKS52YWx1ZVtuLnByb3BlcnR5XT10fSkoInAtY2hhbmdlIixmdW5jdGlvbigpe0l0KGUpO2NvbnN0IHQ9VXIoKS4kaW1wbGljaXQ7cmV0dXJuIFVyKDIpLm9uQ2hhbmdlRmllbGQodCl9KSxJcigpfWlmKDImZSl7Y29uc3QgZT1VcigpLiRpbXBsaWNpdCx0PVVyKDIpO09yKCJuYW1lIixlLnByb3BlcnR5KSgibmdNb2RlbCIsdC52YWx1ZVtlLnByb3BlcnR5XSkoIm5nQ2xhc3MiLGUuY29tcG9uZW50Q2xhc3MpKCJwLWF1dG8tZm9jdXMiLGUuZm9jdXMpKCJwLWRpc2FibGVkIix0LmlzRGlzYWJsZWQoZSkpKCJwLWhlbHAiLGUuaGVscCkoInAtbGFiZWwiLGUubGFiZWwpKCJwLW9wdGlvbmFsIixlLm9wdGlvbmFsKSgicC1vcHRpb25zIixlLm9wdGlvbnMpKCJwLXJlcXVpcmVkIixlLnJlcXVpcmVkKX19ZnVuY3Rpb24gRUQoZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJwby1zd2l0Y2giLDI0LDE4KSxCcigibmdNb2RlbENoYW5nZSIsZnVuY3Rpb24odCl7SXQoZSk7Y29uc3Qgbj1VcigpLiRpbXBsaWNpdDtyZXR1cm4gVXIoMikudmFsdWVbbi5wcm9wZXJ0eV09dH0pKCJwLWNoYW5nZSIsZnVuY3Rpb24oKXtJdChlKTtjb25zdCB0PVVyKCkuJGltcGxpY2l0O3JldHVybiBVcigyKS5vbkNoYW5nZUZpZWxkKHQpfSksSXIoKX1pZigyJmUpe2NvbnN0IGU9VXIoKS4kaW1wbGljaXQsdD1VcigyKTtPcigibmFtZSIsZS5wcm9wZXJ0eSkoIm5nTW9kZWwiLHQudmFsdWVbZS5wcm9wZXJ0eV0pKCJuZ0NsYXNzIixlLmNvbXBvbmVudENsYXNzKSgicC1hdXRvLWZvY3VzIixlLmZvY3VzKSgicC1kaXNhYmxlZCIsdC5pc0Rpc2FibGVkKGUpKSgicC1oZWxwIixlLmhlbHApKCJwLWxhYmVsIixlLmxhYmVsKSgicC1sYWJlbC1vZmYiLGUuYm9vbGVhbkZhbHNlKSgicC1sYWJlbC1vbiIsZS5ib29sZWFuVHJ1ZSl9fWZ1bmN0aW9uIGtEKGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwicG8tY29tYm8iLDI1LDE4KSxCcigibmdNb2RlbENoYW5nZSIsZnVuY3Rpb24odCl7SXQoZSk7Y29uc3Qgbj1VcigpLiRpbXBsaWNpdDtyZXR1cm4gVXIoMikudmFsdWVbbi5wcm9wZXJ0eV09dH0pKCJwLWNoYW5nZSIsZnVuY3Rpb24odCl7SXQoZSk7Y29uc3Qgbj1VcigpLiRpbXBsaWNpdDtyZXR1cm4gVXIoMikub25DaGFuZ2VGaWVsZChuLHQpfSksSXIoKX1pZigyJmUpe2NvbnN0IGU9VXIoKS4kaW1wbGljaXQsdD1VcigyKTtPcigibmFtZSIsZS5wcm9wZXJ0eSkoIm5nTW9kZWwiLHQudmFsdWVbZS5wcm9wZXJ0eV0pKCJuZ0NsYXNzIixlLmNvbXBvbmVudENsYXNzKSgicC1hdXRvLWZvY3VzIixlLmZvY3VzKSgicC1kaXNhYmxlZCIsdC5pc0Rpc2FibGVkKGUpKSgicC1maWVsZC1sYWJlbCIsZS5maWVsZExhYmVsKSgicC1maWVsZC12YWx1ZSIsZS5maWVsZFZhbHVlKSgicC1maWx0ZXItcGFyYW1zIixlLnBhcmFtcykoInAtZmlsdGVyLXNlcnZpY2UiLGUub3B0aW9uc1NlcnZpY2UpKCJwLWhlbHAiLGUuaGVscCkoInAtbGFiZWwiLGUubGFiZWwpKCJwLW9wdGlvbmFsIixlLm9wdGlvbmFsKSgicC1yZXF1aXJlZCIsZS5yZXF1aXJlZCkoInAtaWNvbiIsZS5pY29uKSgicC1wbGFjZWhvbGRlciIsZS5wbGFjZWhvbGRlcil9fWZ1bmN0aW9uIHhEKGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwicG8tbG9va3VwIiwyNiwxOCksQnIoIm5nTW9kZWxDaGFuZ2UiLGZ1bmN0aW9uKHQpe0l0KGUpO2NvbnN0IG49VXIoKS4kaW1wbGljaXQ7cmV0dXJuIFVyKDIpLnZhbHVlW24ucHJvcGVydHldPXR9KSgicC1jaGFuZ2UiLGZ1bmN0aW9uKCl7SXQoZSk7Y29uc3QgdD1VcigpLiRpbXBsaWNpdDtyZXR1cm4gVXIoMikub25DaGFuZ2VGaWVsZCh0KX0pLElyKCl9aWYoMiZlKXtjb25zdCBlPVVyKCkuJGltcGxpY2l0LHQ9VXIoMik7T3IoIm5hbWUiLGUucHJvcGVydHkpKCJuZ01vZGVsIix0LnZhbHVlW2UucHJvcGVydHldKSgibmdDbGFzcyIsZS5jb21wb25lbnRDbGFzcykoInAtY29sdW1ucyIsZS5jb2x1bW5zKSgicC1kaXNhYmxlZCIsdC5pc0Rpc2FibGVkKGUpKSgicC1maWVsZC1sYWJlbCIsZS5maWVsZExhYmVsfHwibGFiZWwiKSgicC1maWVsZC12YWx1ZSIsZS5maWVsZFZhbHVlfHwidmFsdWUiKSgicC1maWx0ZXItcGFyYW1zIixlLnBhcmFtcykoInAtZmlsdGVyLXNlcnZpY2UiLGUuc2VhcmNoU2VydmljZSkoInAtYXV0by1mb2N1cyIsZS5mb2N1cykoInAtaGVscCIsZS5oZWxwKSgicC1maWVsZC1mb3JtYXQiLGUuZm9ybWF0KSgicC1sYWJlbCIsZS5sYWJlbCkoInAtb3B0aW9uYWwiLGUub3B0aW9uYWwpKCJwLXJlcXVpcmVkIixlLnJlcXVpcmVkKSgicC1wbGFjZWhvbGRlciIsZS5wbGFjZWhvbGRlcil9fWZ1bmN0aW9uIEFEKGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwicG8tY2hlY2tib3gtZ3JvdXAiLDIzLDE4KSxCcigibmdNb2RlbENoYW5nZSIsZnVuY3Rpb24odCl7SXQoZSk7Y29uc3Qgbj1VcigpLiRpbXBsaWNpdDtyZXR1cm4gVXIoMikudmFsdWVbbi5wcm9wZXJ0eV09dH0pKCJwLWNoYW5nZSIsZnVuY3Rpb24oKXtJdChlKTtjb25zdCB0PVVyKCkuJGltcGxpY2l0O3JldHVybiBVcigyKS5vbkNoYW5nZUZpZWxkKHQpfSksSXIoKX1pZigyJmUpe2NvbnN0IGU9VXIoKS4kaW1wbGljaXQsdD1VcigyKTtPcigibmFtZSIsZS5wcm9wZXJ0eSkoIm5nTW9kZWwiLHQudmFsdWVbZS5wcm9wZXJ0eV0pKCJuZ0NsYXNzIixlLmNvbXBvbmVudENsYXNzKSgicC1hdXRvLWZvY3VzIixlLmZvY3VzKSgicC1kaXNhYmxlZCIsdC5pc0Rpc2FibGVkKGUpKSgicC1oZWxwIixlLmhlbHApKCJwLWxhYmVsIixlLmxhYmVsKSgicC1vcHRpb25hbCIsZS5vcHRpb25hbCkoInAtb3B0aW9ucyIsZS5vcHRpb25zKSgicC1yZXF1aXJlZCIsZS5yZXF1aXJlZCl9fWZ1bmN0aW9uIE9EKGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwicG8tbXVsdGlzZWxlY3QiLDI3LDE4KSxCcigibmdNb2RlbENoYW5nZSIsZnVuY3Rpb24odCl7SXQoZSk7Y29uc3Qgbj1VcigpLiRpbXBsaWNpdDtyZXR1cm4gVXIoMikudmFsdWVbbi5wcm9wZXJ0eV09dH0pKCJwLWNoYW5nZSIsZnVuY3Rpb24oKXtJdChlKTtjb25zdCB0PVVyKCkuJGltcGxpY2l0O3JldHVybiBVcigyKS5vbkNoYW5nZUZpZWxkKHQpfSksSXIoKX1pZigyJmUpe2NvbnN0IGU9VXIoKS4kaW1wbGljaXQsdD1VcigyKTtPcigibmFtZSIsZS5wcm9wZXJ0eSkoIm5nTW9kZWwiLHQudmFsdWVbZS5wcm9wZXJ0eV0pKCJuZ0NsYXNzIixlLmNvbXBvbmVudENsYXNzKSgicC1kaXNhYmxlZCIsdC5pc0Rpc2FibGVkKGUpKSgicC1hdXRvLWZvY3VzIixlLmZvY3VzKSgicC1oZWxwIixlLmhlbHApKCJwLWxhYmVsIixlLmxhYmVsKSgicC1vcHRpb25hbCIsZS5vcHRpb25hbCkoInAtb3B0aW9ucyIsZS5vcHRpb25zKSgicC1yZXF1aXJlZCIsZS5yZXF1aXJlZCkoInAtcGxhY2Vob2xkZXIiLGUucGxhY2Vob2xkZXIpfX1mdW5jdGlvbiBURChlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsInBvLXRleHRhcmVhIiwyOCwxOCksQnIoIm5nTW9kZWxDaGFuZ2UiLGZ1bmN0aW9uKHQpe0l0KGUpO2NvbnN0IG49VXIoKS4kaW1wbGljaXQ7cmV0dXJuIFVyKDIpLnZhbHVlW24ucHJvcGVydHldPXR9KSgicC1jaGFuZ2UiLGZ1bmN0aW9uKCl7SXQoZSk7Y29uc3QgdD1VcigpLiRpbXBsaWNpdDtyZXR1cm4gVXIoMikub25DaGFuZ2VGaWVsZCh0KX0pLElyKCl9aWYoMiZlKXtjb25zdCBlPVVyKCkuJGltcGxpY2l0LHQ9VXIoMik7T3IoIm5hbWUiLGUucHJvcGVydHkpKCJuZ01vZGVsIix0LnZhbHVlW2UucHJvcGVydHldKSgibmdDbGFzcyIsZS5jb21wb25lbnRDbGFzcykoInAtZGlzYWJsZWQiLHQuaXNEaXNhYmxlZChlKSkoInAtYXV0by1mb2N1cyIsZS5mb2N1cykoInAtaGVscCIsZS5oZWxwKSgicC1sYWJlbCIsZS5sYWJlbCkoInAtbWF4bGVuZ3RoIixlLm1heExlbmd0aCkoInAtbWlubGVuZ3RoIixlLm1pbkxlbmd0aCkoInAtb3B0aW9uYWwiLGUub3B0aW9uYWwpKCJwLXJlcXVpcmVkIixlLnJlcXVpcmVkKSgicC1yb3dzIixlLnJvd3MpKCJwLXBsYWNlaG9sZGVyIixlLnBsYWNlaG9sZGVyKX19ZnVuY3Rpb24gRkQoZSx0KXtpZigxJmUpe2NvbnN0IGU9UnIoKTtGcigwLCJwby1wYXNzd29yZCIsMjksMTgpLEJyKCJuZ01vZGVsQ2hhbmdlIixmdW5jdGlvbih0KXtJdChlKTtjb25zdCBuPVVyKCkuJGltcGxpY2l0O3JldHVybiBVcigyKS52YWx1ZVtuLnByb3BlcnR5XT10fSkoInAtY2hhbmdlIixmdW5jdGlvbigpe0l0KGUpO2NvbnN0IHQ9VXIoKS4kaW1wbGljaXQ7cmV0dXJuIFVyKDIpLm9uQ2hhbmdlRmllbGQodCl9KSxJcigpfWlmKDImZSl7Y29uc3QgZT1VcigpLiRpbXBsaWNpdCx0PVVyKDIpO09yKCJuYW1lIixlLnByb3BlcnR5KSgibmdNb2RlbCIsdC52YWx1ZVtlLnByb3BlcnR5XSkoIm5nQ2xhc3MiLGUuY29tcG9uZW50Q2xhc3MpKCJwLWRpc2FibGVkIix0LmlzRGlzYWJsZWQoZSkpKCJwLWVycm9yLXBhdHRlcm4iLGUuZXJyb3JNZXNzYWdlKSgicC1hdXRvLWZvY3VzIixlLmZvY3VzKSgicC1oZWxwIixlLmhlbHApKCJwLWxhYmVsIixlLmxhYmVsKSgicC1tYXhsZW5ndGgiLGUubWF4TGVuZ3RoKSgicC1taW5sZW5ndGgiLGUubWluTGVuZ3RoKSgicC1vcHRpb25hbCIsZS5vcHRpb25hbCkoInAtcGF0dGVybiIsZS5wYXR0ZXJuKSgicC1yZXF1aXJlZCIsZS5yZXF1aXJlZCkoInAtcGxhY2Vob2xkZXIiLGUucGxhY2Vob2xkZXIpfX1mdW5jdGlvbiBJRChlLHQpe2lmKDEmZSYmKFByKDApLGtyKDEsYkQsMSwxLCJwby1kaXZpZGVyIiwzKSxrcigyLHlELDIsMTQsInBvLWRhdGVwaWNrZXIiLDQpLGtyKDMsQ0QsMiwxNywicG8taW5wdXQiLDUpLGtyKDQsd0QsMiwxNiwicG8tbnVtYmVyIiw2KSxrcig1LF9ELDIsMTMsInBvLWRlY2ltYWwiLDcpLGtyKDYsREQsMiwxMSwicG8tc2VsZWN0Iiw4KSxrcig3LFNELDIsMTAsInBvLXJhZGlvLWdyb3VwIiw5KSxrcig4LEVELDIsOSwicG8tc3dpdGNoIiwxMCksa3IoOSxrRCwyLDE1LCJwby1jb21ibyIsMTEpLGtyKDEwLHhELDIsMTYsInBvLWxvb2t1cCIsMTIpLGtyKDExLEFELDIsMTAsInBvLWNoZWNrYm94LWdyb3VwIiw5KSxrcigxMixPRCwyLDExLCJwby1tdWx0aXNlbGVjdCIsMTMpLGtyKDEzLFRELDIsMTMsInBvLXRleHRhcmVhIiwxNCksa3IoMTQsRkQsMiwxNCwicG8tcGFzc3dvcmQiLDE1KSxWcigpKSwyJmUpe2NvbnN0IGU9dC4kaW1wbGljaXQsbj1VcigyKTtacygxKSxPcigibmdJZiIsbnVsbD09ZXx8bnVsbD09ZS5kaXZpZGVyP251bGw6ZS5kaXZpZGVyLnRyaW0oKSksWnMoMSksT3IoIm5nSWYiLG4uY29tcGFyZVRvKGUuY29udHJvbCwiZGF0ZXBpY2tlciIpKSxacygxKSxPcigibmdJZiIsbi5jb21wYXJlVG8oZS5jb250cm9sLCJpbnB1dCIpKSxacygxKSxPcigibmdJZiIsbi5jb21wYXJlVG8oZS5jb250cm9sLCJudW1iZXIiKSksWnMoMSksT3IoIm5nSWYiLG4uY29tcGFyZVRvKGUuY29udHJvbCwiZGVjaW1hbCIpKSxacygxKSxPcigibmdJZiIsbi5jb21wYXJlVG8oZS5jb250cm9sLCJzZWxlY3QiKSksWnMoMSksT3IoIm5nSWYiLG4uY29tcGFyZVRvKGUuY29udHJvbCwicmFkaW9Hcm91cCIpKSxacygxKSxPcigibmdJZiIsbi5jb21wYXJlVG8oZS5jb250cm9sLCJzd2l0Y2giKSksWnMoMSksT3IoIm5nSWYiLG4uY29tcGFyZVRvKGUuY29udHJvbCwiY29tYm8iKSksWnMoMSksT3IoIm5nSWYiLG4uY29tcGFyZVRvKGUuY29udHJvbCwibG9va3VwIikpLFpzKDEpLE9yKCJuZ0lmIixuLmNvbXBhcmVUbyhlLmNvbnRyb2wsImNoZWNrYm94R3JvdXAiKSksWnMoMSksT3IoIm5nSWYiLG4uY29tcGFyZVRvKGUuY29udHJvbCwibXVsdGlzZWxlY3QiKSksWnMoMSksT3IoIm5nSWYiLG4uY29tcGFyZVRvKGUuY29udHJvbCwidGV4dGFyZWEiKSksWnMoMSksT3IoIm5nSWYiLG4uY29tcGFyZVRvKGUuY29udHJvbCwicGFzc3dvcmQiKSl9fWZ1bmN0aW9uIE1EKGUsdCl7aWYoMSZlJiYoRnIoMCwiZGl2IiwxKSxrcigxLElELDE1LDE0LCJuZy1jb250YWluZXIiLDIpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpO1pzKDEpLE9yKCJuZ0Zvck9mIixlLnZpc2libGVGaWVsZHMpKCJuZ0ZvclRyYWNrQnkiLGUudHJhY2tCeSl9fWZ1bmN0aW9uIFBEKGUsdCl7aWYoMSZlJiYoRnIoMCwiZGl2Iiw2KSxNcigxLCJwby10YWciLDcpLElyKCkpLDImZSl7Y29uc3QgZT1VcigpLiRpbXBsaWNpdCx0PVVyKCk7WnMoMSksT3IoInAtY29sb3IiLHQudHlwZUNvbG9yKGUudHlwZSkpKCJwLXZhbHVlIix0LnR5cGVWYWx1ZShlLnR5cGUpKX19ZnVuY3Rpb24gVkQoZSx0KXtpZigxJmUmJihGcigwLCJwby1hY2NvcmRpb24taXRlbSIsNCksa3IoMSxQRCwyLDIsImRpdiIsNSksRnIoMiwiZGl2IiwxKSxGcigzLCJwIikscGEoNCksSXIoKSxJcigpLElyKCkpLDImZSl7Y29uc3QgZT10LiRpbXBsaWNpdDtPcigicC1sYWJlbCIsVXIoKS5mb3JtYXREZXRhaWxJdGVtVGl0bGUoZSkpLFpzKDEpLE9yKCJuZ0lmIixlLnR5cGUpLFpzKDMpLGZhKGUuZGV0YWlsZWRNZXNzYWdlKX19bGV0IExEPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLnN1YmplY3RDaGlsZD1uZXcgRH1yZWNlaXZlRnJvbUNoaWxkQWNjb3JkaW9uQ2xpY2tlZCgpe3JldHVybiB0aGlzLnN1YmplY3RDaGlsZC5hc09ic2VydmFibGUoKX1zZW5kVG9QYXJlbnRBY2NvcmRpb25JdGVtQ2xpY2tlZChlKXt0aGlzLnN1YmplY3RDaGlsZC5uZXh0KGUpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVwcm92PWhlKHt0b2tlbjplLGZhY3Rvcnk6ZS5cdTAyNzVmYWN9KSxlfSkoKSxSRD0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUpe3RoaXMuYWNjb3JkaW9uU2VydmljZT1lfWNvbGxhcHNlKCl7dGhpcy5leHBhbmRlZD0hMSx0aGlzLmFjY29yZGlvblNlcnZpY2Uuc2VuZFRvUGFyZW50QWNjb3JkaW9uSXRlbUNsaWNrZWQodGhpcyl9ZXhwYW5kKCl7dGhpcy5leHBhbmRlZD0hMCx0aGlzLmFjY29yZGlvblNlcnZpY2Uuc2VuZFRvUGFyZW50QWNjb3JkaW9uSXRlbUNsaWNrZWQodGhpcyl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKExEKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLWFjY29yZGlvbi1pdGVtIl1dLHZpZXdRdWVyeTpmdW5jdGlvbihlLHQpe2lmKDEmZSYmcGMoQ2wsNyksMiZlKXtsZXQgZTtkYyhlPWdjKCkpJiYodC50ZW1wbGF0ZVJlZj1lLmZpcnN0KX19LGlucHV0czp7bGFiZWw6WyJwLWxhYmVsIiwibGFiZWwiXX0sbmdDb250ZW50U2VsZWN0b3JzOldiLGRlY2xzOjEsdmFyczowLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoenIoKSxrcigwLHpiLDEsMCwibmctdGVtcGxhdGUiKSl9LGVuY2Fwc3VsYXRpb246Mn0pLGV9KSgpLGpEPSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBjbGFzc3t9e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5hY2NvcmRpb25TZXJ2aWNlPWUsdGhpcy5yZWNlaXZlRnJvbUNoaWxkQWNjb3JkaW9uU3Vic2NyaXB0aW9uKCl9bmdPbkRlc3Ryb3koKXt0aGlzLmFjY29yZGlvblNlcnZpY2VTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX1oZWFkZXJUb2dnbGUoZSx0KXt0LmV4cGFuZGVkPWUsdGhpcy50b2dnbGUodCl9cmVjZWl2ZUZyb21DaGlsZEFjY29yZGlvblN1YnNjcmlwdGlvbigpe3RoaXMuYWNjb3JkaW9uU2VydmljZVN1YnNjcmlwdGlvbj10aGlzLmFjY29yZGlvblNlcnZpY2UucmVjZWl2ZUZyb21DaGlsZEFjY29yZGlvbkNsaWNrZWQoKS5zdWJzY3JpYmUoZT0+dGhpcy50b2dnbGUoZSkpfXRvZ2dsZShlKXtlLmV4cGFuZGVkPyh0aGlzLmV4cGFuZGVkQWN0aXZlQWNjb3JkaW9uSXRlbSYmdGhpcy5leHBhbmRlZEFjdGl2ZUFjY29yZGlvbkl0ZW0uY29sbGFwc2UoKSx0aGlzLmV4cGFuZGVkQWN0aXZlQWNjb3JkaW9uSXRlbT1lKTp0aGlzLmV4cGFuZGVkQWN0aXZlQWNjb3JkaW9uSXRlbT1udWxsfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShBcihMRCkpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby1hY2NvcmRpb24iXV0sY29udGVudFF1ZXJpZXM6ZnVuY3Rpb24oZSx0LG4pe2lmKDEmZSYmZmMobixSRCw0KSwyJmUpe2xldCBlO2RjKGU9Z2MoKSkmJih0LnBvQWNjb3JkaW9uSXRlbXM9ZSl9fSxmZWF0dXJlczpbTGEoW0xEXSksdXJdLGRlY2xzOjIsdmFyczoxLGNvbnN0czpbWzEsInBvLWFjY29yZGlvbiIsInBvLWNvbnRhaW5lciIsInBvLWNvbnRhaW5lci1uby1wYWRkaW5nIl0sWyJjbGFzcyIsInBvLWFjY29yZGlvbi1pdGVtIiwzLCJwby1hY2NvcmRpb24taXRlbS1hY3RpdmUiLDQsIm5nRm9yIiwibmdGb3JPZiJdLFsxLCJwby1hY2NvcmRpb24taXRlbSJdLFszLCJwLWV4cGFuZGVkIiwicC1sYWJlbCIsInAtdG9nZ2xlIl0sWzMsInAtZXhwYW5kZWQiXSxbNCwibmdUZW1wbGF0ZU91dGxldCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYmKEZyKDAsImRpdiIsMCksa3IoMSxLYiw0LDYsInNlY3Rpb24iLDEpLElyKCkpLDImZSYmKFpzKDEpLE9yKCJuZ0Zvck9mIix0LnBvQWNjb3JkaW9uSXRlbXMpKX0sZGlyZWN0aXZlczpmdW5jdGlvbigpe3JldHVybltPaCxCRCxORCxqaF19LGVuY2Fwc3VsYXRpb246Mn0pLGV9KSgpLE5EPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLmV4cGFuZGVkPSExfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8tYWNjb3JkaW9uLWl0ZW0tYm9keSJdXSxpbnB1dHM6e2V4cGFuZGVkOlsicC1leHBhbmRlZCIsImV4cGFuZGVkIl19LG5nQ29udGVudFNlbGVjdG9yczpXYixkZWNsczoxLHZhcnM6MSxjb25zdHM6W1siY2xhc3MiLCJwby1hY2NvcmRpb24taXRlbS1ib2R5Iiw0LCJuZ0lmIl0sWzEsInBvLWFjY29yZGlvbi1pdGVtLWJvZHkiXSxbMSwicG8tYWNjb3JkaW9uLWl0ZW0tYm9keS1jb250ZW50Il1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoenIoKSxrcigwLFliLDMsMSwiZGl2IiwwKSksMiZlJiZPcigibmdJZiIsdC5leHBhbmRlZCl9LGRpcmVjdGl2ZXM6W0ZoXSxlbmNhcHN1bGF0aW9uOjIsZGF0YTp7YW5pbWF0aW9uOlsoInRvZ2dsZUJvZHkiLHQ9W3VwKCIqID0+IHZvaWQiLFtjcCh7aGVpZ2h0OiIqIn0pLGxwKDIwMCxjcCh7aGVpZ2h0OjB9KSldKSx1cCgidm9pZCA9PiAqIixbY3Aoe2hlaWdodDoiMCJ9KSxscCgyMDAsY3Aoe2hlaWdodDoiKiJ9KSldKV0se3R5cGU6NyxuYW1lOiJ0b2dnbGVCb2R5IixkZWZpbml0aW9uczp0LG9wdGlvbnM6e319KV19fSksZTt2YXIgdH0pKCksQkQ9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuZXhwYW5kZWQ9ITEsdGhpcy50b2dnbGU9bmV3IGVjfW9uQ2xpY2soKXt0aGlzLmV4cGFuZGVkPSF0aGlzLmV4cGFuZGVkLHRoaXMudG9nZ2xlLmVtaXQodGhpcy5leHBhbmRlZCl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby1hY2NvcmRpb24taXRlbS1oZWFkZXIiXV0saW5wdXRzOntleHBhbmRlZDpbInAtZXhwYW5kZWQiLCJleHBhbmRlZCJdLGxhYmVsOlsicC1sYWJlbCIsImxhYmVsIl19LG91dHB1dHM6e3RvZ2dsZToicC10b2dnbGUifSxkZWNsczo2LHZhcnM6MSxjb25zdHM6W1sxLCJwby1hY2NvcmRpb24taXRlbS1oZWFkZXIiXSxbMSwicG8tYWNjb3JkaW9uLWl0ZW0taGVhZGVyLWJ1dHRvbiIsInBvLWNsaWNrYWJsZSIsMywiY2xpY2siXSxbMSwicG8tdGV4dC1lbGxpcHNpcyIsInBvLWFjY29yZGlvbi1pdGVtLWhlYWRlci10aXRsZSJdLFsxLCJwby1pY29uIiwicG8tYWNjb3JkaW9uLWl0ZW0taGVhZGVyLWljb24iLCJwby1pY29uLWFycm93LWRvd24iXSxbImljb24iLCIiXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXsxJmUmJihGcigwLCJoZWFkZXIiLDApLEZyKDEsImJ1dHRvbiIsMSksQnIoImNsaWNrIixmdW5jdGlvbigpe3JldHVybiB0Lm9uQ2xpY2soKX0pLEZyKDIsImRpdiIsMikscGEoMyksSXIoKSxNcig0LCJzcGFuIiwzLDQpLElyKCksSXIoKSksMiZlJiYoWnMoMyksZmEodC5sYWJlbCkpfSxlbmNhcHN1bGF0aW9uOjIsY2hhbmdlRGV0ZWN0aW9uOjB9KSxlfSkoKSwkRD0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtpbXBvcnRzOltbR2hdXX0pLGV9KSgpLEhEPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe2ltcG9ydHM6W1tHaF1dfSksZX0pKCk7Y29uc3QgVUQ9W3tkZXNjcmlwdGlvbjoiRW5nbGlzaCIsbGFuZ3VhZ2U6ImVuIn0se2Rlc2NyaXB0aW9uOiJFc3BhXHhmMW9sIixsYW5ndWFnZToiZXMifSx7ZGVzY3JpcHRpb246IlBvcnR1Z3VceGVhcyIsbGFuZ3VhZ2U6InB0In0se2Rlc2NyaXB0aW9uOiJQXHUwNDQzXHUwNDQxXHUwNDQxXHUwNDNhXHUwNDM4XHUwNDM5IixsYW5ndWFnZToicnUifV0ubWFwKGU9PmUubGFuZ3VhZ2UpLHFEPSJwdCIsekQ9W3tzZXBhcmF0b3I6Ii4iLGxhbmd1YWdlOiJlbiJ9LHtzZXBhcmF0b3I6IiwiLGxhbmd1YWdlOiJlcyJ9LHtzZXBhcmF0b3I6IiwiLGxhbmd1YWdlOiJwdCJ9LHtzZXBhcmF0b3I6IiwiLGxhbmd1YWdlOiJydSJ9XSxXRD1be3NlcGFyYXRvcjoiLCIsbGFuZ3VhZ2U6ImVuIn0se3NlcGFyYXRvcjoiLiIsbGFuZ3VhZ2U6ImVzIn0se3NlcGFyYXRvcjoiLiIsbGFuZ3VhZ2U6InB0In0se3NlcGFyYXRvcjoiICIsbGFuZ3VhZ2U6InJ1In1dO2Z1bmN0aW9uIEdEKGUpe3JldHVybihlfHxxRCkudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoMCwyKX1mdW5jdGlvbiBLRChlKXtyZXR1cm4gbmV3IFJlZ0V4cCgiXlthLXpdezJ9KC1bYS16XXsyfSk/JCIsImkiKS50ZXN0KGUpfWZ1bmN0aW9uIFlEKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT8idHJ1ZSI9PT0oZT1lLnRvTG93ZXJDYXNlKCkudHJpbSgpKXx8Im9uIj09PWV8fCIiPT09ZToibnVtYmVyIj09dHlwZW9mIGU/MT09PWU6ISFlfWZ1bmN0aW9uIFpEKGUsdCl7Y29uc3Qgbj1wYXJzZUludChlLDEwKSxpPXBhcnNlSW50KHQsMTApO3JldHVybiBufHwwPT09bj9uOml8fDA9PT1pP2k6dm9pZCAwfWZ1bmN0aW9uIFFEKGUsdCl7cmV0dXJuIHR5cGVvZiBlPT09dH1mdW5jdGlvbiBKRChlLHQsbil7aWYoZSl7Y29uc3QgaT1wYXJzZUludChlLnN1YnN0cmluZyg4LDEwKSwxMCkscz1wYXJzZUludChlLnN1YnN0cmluZyg1LDcpLDEwKSxvPXBhcnNlSW50KGUuc3Vic3RyaW5nKDAsNCksMTApO2lmKHQpe2NvbnN0IGU9bmV3IERhdGUobyxzLTEsaSwwLDAsMCk7cmV0dXJuIGlTKGUsbyksZX1pZihuKXtjb25zdCBlPW5ldyBEYXRlKG8scy0xLGksMjMsNTksNTkpO3JldHVybiBpUyhlLG8pLGV9e2NvbnN0IHQ9RGF0ZS5wYXJzZShlKSxuPTZlNCoobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCk7cmV0dXJuIG5ldyBEYXRlKHQrbil9fX1mdW5jdGlvbiBYRChlLHQpe2lmKGUpe2NvbnN0IG49ZS5nZXRNb250aCgpKzEsaT1lLmdldERhdGUoKTwxMD8iMCIrZS5nZXREYXRlKCk6ZS5nZXREYXRlKCkscz1uPDEwPyIwIituOm4sbz1lUyhlLmdldEZ1bGxZZWFyKCkpLHI9ZS50b1N0cmluZygpO3JldHVybiBudWxsIT09dD9vKyItIitzKyItIitpK3Q6bysiLSIrcysiLSIraSsiVCIrci5zdWJzdHJpbmcoMTYsMjQpK3Iuc3Vic3RyaW5nKDI4LDMxKSsiOiIrci5zdWJzdHJpbmcoMzEsMzMpfXJldHVybiBudWxsfWZ1bmN0aW9uIGVTKGUpe3JldHVybiBlPj0xZTM/ZS50b1N0cmluZygpOmU+OTkmJmU8MWUzP2AwJHtlfWA6ZT45JiZlPDEwMD9gMDAke2V9YDplPj0wJiZlPDEwP2AwMDAke2V9YDp2b2lkIDB9ZnVuY3Rpb24gdFMoKXtyZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fFdpbmRvd3MgUGhvbmUvaSl9ZnVuY3Rpb24gblMoZSl7cmV0dXJuIDEzPT09ZS5rZXlDb2RlfHwxMz09PWUud2hpY2h9ZnVuY3Rpb24gaVMoZSx0KXt0Pj0wJiZ0PDEwMCYmZS5zZXRGdWxsWWVhcih0KX1mdW5jdGlvbiBzUyhlKXtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKykwIT09dCYmZS5maW5kSW5kZXgobj0+bi52YWx1ZT09PWVbdF0udmFsdWUpIT09dCYmKGUuc3BsaWNlKHQsMSksdC0tKX1mdW5jdGlvbiBvUyhlKXtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyludWxsPT1lW3RdLnZhbHVlJiYoZS5zcGxpY2UodCwxKSx0LS0pfWZ1bmN0aW9uIHJTKGUpe3JldHVybiBudWxsIT1lJiYiIiE9PWV8fCExPT09ZX1mdW5jdGlvbiBhUyhlKXtyZXR1cm4hIWUmJmUuc3RhcnRzV2l0aCgiaHR0cCIpfWZ1bmN0aW9uIGxTKCl7ZnVuY3Rpb24gZSgpe3JldHVybiBNYXRoLmZsb29yKDY1NTM2KigxK01hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpfXJldHVybiBlKCkrZSgpKyItIitlKCkrIi0iK2UoKSsiLSIrZSgpKyItIitlKCkrZSgpK2UoKX1mdW5jdGlvbiBjUyhlKXtyZXR1cm5gJHtlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfSR7ZS5zbGljZSgxKX1gfWZ1bmN0aW9uIHVTKGUpe3JldHVybiBRRChlLCJvYmplY3QiKSYmIUFycmF5LmlzQXJyYXkoZSk/ZTp2b2lkIDB9Y29uc3QgaFM9IlBPX0RFRkFVTFRfTEFOR1VBR0UiLGRTPSJQT19VU0VSX0xPQ0FMRSI7bGV0IHBTPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoKXt9c2V0IGxhbmd1YWdlRGVmYXVsdChlKXtlJiZLRChlKSYmbG9jYWxTdG9yYWdlLnNldEl0ZW0oaFMsZSl9Z2V0IGxhbmd1YWdlRGVmYXVsdCgpe3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShoUyl9Z2V0TGFuZ3VhZ2UoKXtjb25zdCBlPWxvY2FsU3RvcmFnZS5nZXRJdGVtKGRTKXx8dGhpcy5sYW5ndWFnZURlZmF1bHR8fGZ1bmN0aW9uKCl7Y29uc3QgZT1uYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2UsdD1HRChlKTtyZXR1cm4gVUQuaW5jbHVkZXModCk/ZTpxRH0oKTtyZXR1cm4gZSYmZS50b0xvd2VyQ2FzZSgpfWdldExhbmd1YWdlRGVmYXVsdCgpe3JldHVybiB0aGlzLmxhbmd1YWdlRGVmYXVsdH1nZXRTaG9ydExhbmd1YWdlKCl7Y29uc3QgZT1HRCh0aGlzLmdldExhbmd1YWdlKCkpO3JldHVybiBVRC5pbmNsdWRlcyhlKT9lOnFEfXNldExhbmd1YWdlKGUpe0tEKGUpJiZsb2NhbFN0b3JhZ2Uuc2V0SXRlbShkUyxlLnRvTG93ZXJDYXNlKCkpfXNldExhbmd1YWdlRGVmYXVsdChlKXt0aGlzLmxhbmd1YWdlRGVmYXVsdD1lfWdldE51bWJlclNlcGFyYXRvcnMoZSl7dmFyIHQsbixpLHM7ZT1lfHx0aGlzLmdldFNob3J0TGFuZ3VhZ2UoKTtjb25zdCBvPW51bGwhPT0odD16RC5maW5kKHQ9PnQubGFuZ3VhZ2U9PT1lKSkmJnZvaWQgMCE9PXQ/dDp7fSxyPW51bGwhPT0obj1XRC5maW5kKHQ9PnQubGFuZ3VhZ2U9PT1lKSkmJnZvaWQgMCE9PW4/bjp7fTtyZXR1cm57ZGVjaW1hbFNlcGFyYXRvcjpudWxsIT09KGk9by5zZXBhcmF0b3IpJiZ2b2lkIDAhPT1pP2k6IiwiLHRob3VzYW5kU2VwYXJhdG9yOm51bGwhPT0ocz1yLnNlcGFyYXRvcikmJnZvaWQgMCE9PXM/czoiLiJ9fX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVwcm92PWhlKHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlfSx0b2tlbjplLHByb3ZpZGVkSW46InJvb3QifSksZX0pKCksZlM9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7aW1wb3J0czpbW0doLEhtXV19KSxlfSkoKSxnUz0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKCl7fXNldCBpY29uKGUpeyJzdHJpbmciPT10eXBlb2YgZT90aGlzLmFkZENsYXNzZXMoZSk6ZSBpbnN0YW5jZW9mIENsJiYodGhpcy5faWNvbj1lKX1nZXQgaWNvbigpe3JldHVybiB0aGlzLl9pY29ufWFkZENsYXNzZXMoZSl7dGhpcy5jbGFzcz10aGlzLmNsYXNzPWUuc3RhcnRzV2l0aCgicG8taWNvbi0iKT9gcG8taWNvbiAke2V9YDpgcG8tZm9udHMtaWNvbiAke2V9YH19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLWljb24iXV0saW5wdXRzOntpY29uOlsicC1pY29uIiwiaWNvbiJdfSxkZWNsczozLHZhcnM6Myxjb25zdHM6W1s0LCJuZ0lmIiwibmdJZlRoZW4iLCJuZ0lmRWxzZSJdLFsiZm9udFRlbXBsYXRlIiwiIl0sWyJhcmlhLWhpZGRlbiIsInRydWUiXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXtpZigxJmUmJihrcigwLFpiLDEsMCwibmctY29udGFpbmVyIiwwKSxrcigxLFFiLDEsMiwibmctdGVtcGxhdGUiLG51bGwsMSx5YykpLDImZSl7Y29uc3QgZT14cigyKTtPcigibmdJZiIsdC5jbGFzcykoIm5nSWZUaGVuIixlKSgibmdJZkVsc2UiLHQuaWNvbil9fSxkaXJlY3RpdmVzOltGaF0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksZX0pKCksbVM9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7aW1wb3J0czpbW0doXV19KSxlfSkoKTtjb25zdCB2Uz17ZW46e2xvYWRpbmc6IkxvYWRpbmcifSxlczp7bG9hZGluZzoiQ2FyZ2FuZG8ifSxwdDp7bG9hZGluZzoiQ2FycmVnYW5kbyJ9LHJ1Ontsb2FkaW5nOiJcdTA0M2ZcdTA0M2VcdTA0MzNcdTA0NDBcdTA0NDNcdTA0MzdcdTA0M2FcdTA0MzAifX07bGV0IGJTPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSl7dGhpcy5sYW5ndWFnZVNlcnZpY2U9ZSx0aGlzLl9zY3JlZW5Mb2NrPSExLHRoaXMudGV4dD10aGlzLmdldFRleHREZWZhdWx0KCl9c2V0IHNjcmVlbkxvY2soZSl7dGhpcy5fc2NyZWVuTG9jaz1ZRChlKX1nZXQgc2NyZWVuTG9jaygpe3JldHVybiB0aGlzLl9zY3JlZW5Mb2NrfXNldCB0ZXh0KGUpe3RoaXMuX3RleHQ9ZXx8dGhpcy5nZXRUZXh0RGVmYXVsdCgpfWdldCB0ZXh0KCl7cmV0dXJuIHRoaXMuX3RleHR9Z2V0VGV4dERlZmF1bHQoKXtjb25zdCBlPXRoaXMubGFuZ3VhZ2VTZXJ2aWNlLmdldFNob3J0TGFuZ3VhZ2UoKTtyZXR1cm4gdlNbZV0ubG9hZGluZ319cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIocFMpKX0sZS5cdTAyNzVkaXI9S2Uoe3R5cGU6ZSxpbnB1dHM6e3RleHQ6WyJwLXRleHQiLCJ0ZXh0Il0sc2NyZWVuTG9jazpbInAtc2NyZWVuLWxvY2siLCJzY3JlZW5Mb2NrIl19fSksZX0pKCkseVM9KCgpPT57Y2xhc3MgZSBleHRlbmRzIGJTe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIodCksdGhpcy5jaGFuZ2VEZXRlY3Rvcj1lfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShBcihnbCksQXIocFMpKX0sZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8tbG9hZGluZy1vdmVybGF5Il1dLGZlYXR1cmVzOlt1cl0sZGVjbHM6Mix2YXJzOjUsY29uc3RzOltbMSwicG8tbG9hZGluZy1vdmVybGF5LWNvbnRlbnQiLDMsInAtdGV4dCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYmKEZyKDAsImRpdiIpLE1yKDEsInBvLWxvYWRpbmciLDApLElyKCkpLDImZSYmKGVhKCJwby1vdmVybGF5LWFic29sdXRlIiwhdC5zY3JlZW5Mb2NrKSgicG8tb3ZlcmxheS1maXhlZCIsdC5zY3JlZW5Mb2NrKSxacygxKSxPcigicC10ZXh0Iix0LnRleHQpKX0sZGlyZWN0aXZlczpmdW5jdGlvbigpe3JldHVybltfU119LGVuY2Fwc3VsYXRpb246Mn0pLGV9KSgpLENTPSgoKT0+e2NsYXNzIGV7c2V0IG5ldXRyYWxDb2xvcihlKXt0aGlzLl9uZXV0cmFsQ29sb3I9WUQoZSl9Z2V0IG5ldXRyYWxDb2xvcigpe3JldHVybiB0aGlzLl9uZXV0cmFsQ29sb3J9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby1sb2FkaW5nLWljb24iXV0saW5wdXRzOntuZXV0cmFsQ29sb3I6WyJwLW5ldXRyYWwtY29sb3IiLCJuZXV0cmFsQ29sb3IiXX0sZGVjbHM6OSx2YXJzOjIsY29uc3RzOltbMSwicG8tbG9hZGluZy1pY29uIl0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTEiXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItMiJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci0zIl0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTQiXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItNSJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci02Il0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTciXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItOCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYmKEZyKDAsImRpdiIsMCksTXIoMSwic3BhbiIsMSksTXIoMiwic3BhbiIsMiksTXIoMywic3BhbiIsMyksTXIoNCwic3BhbiIsNCksTXIoNSwic3BhbiIsNSksTXIoNiwic3BhbiIsNiksTXIoNywic3BhbiIsNyksTXIoOCwic3BhbiIsOCksSXIoKSksMiZlJiZlYSgicG8tbG9hZGluZy1pY29uLW5ldXRyYWwtY29sb3IiLHQubmV1dHJhbENvbG9yKX0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCksd1M9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMudGV4dD0iQ2FycmVnYW5kbyJ9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLGlucHV0czp7dGV4dDpbInAtdGV4dCIsInRleHQiXX19KSxlfSkoKSxfUz0oKCk9PntjbGFzcyBlIGV4dGVuZHMgd1N7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbigpe2xldCB0O3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4odHx8KHQ9JG4oZSkpKShufHxlKX19KCksZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8tbG9hZGluZyJdXSxmZWF0dXJlczpbdXJdLGRlY2xzOjMsdmFyczoxLGNvbnN0czpbWzEsInBvLWxvYWRpbmciXSxbImNsYXNzIiwicG8tbG9hZGluZy1sYWJlbCBwby10ZXh0LWVsbGlwc2lzIiw0LCJuZ0lmIl0sWzEsInBvLWxvYWRpbmctbGFiZWwiLCJwby10ZXh0LWVsbGlwc2lzIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoRnIoMCwiZGl2IiwwKSxNcigxLCJwby1sb2FkaW5nLWljb24iKSxrcigyLEpiLDIsMSwic3BhbiIsMSksSXIoKSksMiZlJiYoWnMoMiksT3IoIm5nSWYiLHQudGV4dCkpfSxkaXJlY3RpdmVzOltDUyxGaF0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCksRFM9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7cHJvdmlkZXJzOltwU119KSxlfSkoKSxTUz0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtpbXBvcnRzOltbR2gsRFNdXX0pLGV9KSgpO2Z1bmN0aW9uIEVTKGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24oaSl7ZSYmZS5zZXQmJmUuc2V0LmJpbmQodGhpcykodChpKSksdGhpc1tuXT10KGkpfX1mdW5jdGlvbiBrUyhlLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlJiZlLmdldD9lLmdldC5iaW5kKHRoaXMpKCk6dGhpc1t0XX19ZnVuY3Rpb24geFMoKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihlLHQsbil7Y29uc3R7dGFyZ2V0OmkscHJvcGVydHk6cyxvcmlnaW5hbERlc2NyaXB0b3I6b309ZSxyPWZ1bmN0aW9uKGUsdCxuKXtjb25zdCBpPWAkJF9fJHt0fWA7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiZjb25zb2xlLndhcm4oYFRoZSBwcm9wICIke2l9IiBpcyBhbHJlYWR5IGV4aXN0LCBpdCB3aWxsIGJlIG92ZXJyaWRlZCBieSBJbnB1dEJvb2xlYW4gZGVjb3JhdG9yLmApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLGl9KGkscyk7cmV0dXJue2dldDprUyhvLHIpLHNldDpFUyhvLG4scil9fSh7dGFyZ2V0OmUscHJvcGVydHk6dCxvcmlnaW5hbERlc2NyaXB0b3I6bn0sMCxZRCl9fWNvbnN0IEFTPVsiZGVmYXVsdCIsInByaW1hcnkiLCJkYW5nZXIiLCJsaW5rIl07bGV0IE9TPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLmF1dG9Gb2N1cz0hMSx0aGlzLmNsaWNrPW5ldyBlYyx0aGlzLl9kaXNhYmxlZD0hMSx0aGlzLl9sb2FkaW5nPSExLHRoaXMuX3NtYWxsPSExLHRoaXMuX3R5cGU9ImRlZmF1bHQifXNldCBsb2FkaW5nKGUpe3RoaXMuX2xvYWRpbmc9WUQoZSl9Z2V0IGxvYWRpbmcoKXtyZXR1cm4gdGhpcy5fbG9hZGluZ31zZXQgc21hbGwoZSl7dGhpcy5fc21hbGw9IiI9PT1lfHxZRChlKX1nZXQgc21hbGwoKXtyZXR1cm4gdGhpcy5fc21hbGx9c2V0IHR5cGUoZSl7dGhpcy5fdHlwZT1BUy5pbmNsdWRlcyhlKT9lOiJkZWZhdWx0In1nZXQgdHlwZSgpe3JldHVybiB0aGlzLl90eXBlfXNldCBkaXNhYmxlZChlKXt0aGlzLl9kaXNhYmxlZD0iIj09PWV8fFlEKGUpfWdldCBkaXNhYmxlZCgpe3JldHVybiB0aGlzLl9kaXNhYmxlZH19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsaW5wdXRzOnthdXRvRm9jdXM6WyJwLWF1dG8tZm9jdXMiLCJhdXRvRm9jdXMiXSxsb2FkaW5nOlsicC1sb2FkaW5nIiwibG9hZGluZyJdLHNtYWxsOlsicC1zbWFsbCIsInNtYWxsIl0sdHlwZTpbInAtdHlwZSIsInR5cGUiXSxkaXNhYmxlZDpbInAtZGlzYWJsZWQiLCJkaXNhYmxlZCJdLGxhYmVsOlsicC1sYWJlbCIsImxhYmVsIl0saWNvbjpbInAtaWNvbiIsImljb24iXX0sb3V0cHV0czp7Y2xpY2s6InAtY2xpY2sifX0pLE92KFt4UygpXSxlLnByb3RvdHlwZSwiYXV0b0ZvY3VzIix2b2lkIDApLGV9KSgpLFRTPSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBPU3tuZ0FmdGVyVmlld0luaXQoKXt0aGlzLmF1dG9Gb2N1cyYmdGhpcy5mb2N1cygpfWZvY3VzKCl7dGhpcy5kaXNhYmxlZHx8dGhpcy5idXR0b25FbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZm9jdXMoKX1vbkNsaWNrKCl7dGhpcy5jbGljay5lbWl0KG51bGwpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24oKXtsZXQgdDtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKHR8fCh0PSRuKGUpKSkobnx8ZSl9fSgpLGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLWJ1dHRvbiJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24oZSx0KXtpZigxJmUmJnBjKFhiLDcpLDImZSl7bGV0IGU7ZGMoZT1nYygpKSYmKHQuYnV0dG9uRWxlbWVudD1lLmZpcnN0KX19LGZlYXR1cmVzOlt1cl0sZGVjbHM6NSx2YXJzOjE0LGNvbnN0czpbWyJ0eXBlIiwiYnV0dG9uIiwxLCJwby1idXR0b24iLCJwby10ZXh0LWVsbGlwc2lzIiwzLCJkaXNhYmxlZCIsImNsaWNrIl0sWyJidXR0b24iLCIiXSxbImNsYXNzIiwicG8tYnV0dG9uLWxvYWRpbmctaWNvbiIsNCwibmdJZiJdLFsiY2xhc3MiLCJwby1idXR0b24taWNvbiIsMywicC1pY29uIiw0LCJuZ0lmIl0sWyJjbGFzcyIsInBvLWJ1dHRvbi1sYWJlbCIsNCwibmdJZiJdLFsxLCJwby1idXR0b24tbG9hZGluZy1pY29uIl0sWyJwLW5ldXRyYWwtY29sb3IiLCIiXSxbMSwicG8tYnV0dG9uLWljb24iLDMsInAtaWNvbiJdLFsxLCJwby1idXR0b24tbGFiZWwiXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXsxJmUmJihGcigwLCJidXR0b24iLDAsMSksQnIoImNsaWNrIixmdW5jdGlvbigpe3JldHVybiB0Lm9uQ2xpY2soKX0pLGtyKDIsZXksMiwwLCJkaXYiLDIpLGtyKDMsdHksMSwxLCJwby1pY29uIiwzKSxrcig0LG55LDIsMSwic3BhbiIsNCksSXIoKSksMiZlJiYoZWEoInBvLWJ1dHRvbi1kYW5nZXIiLCJkYW5nZXIiPT09dC50eXBlKSgicG8tYnV0dG9uLWxpbmsiLCJsaW5rIj09PXQudHlwZSkoInBvLWJ1dHRvbi1wcmltYXJ5IiwicHJpbWFyeSI9PT10LnR5cGUpKCJwby1idXR0b24tc20iLHQuc21hbGwpKCJwby1jbGlja2FibGUiLCJsaW5rIj09PXQudHlwZSksT3IoImRpc2FibGVkIix0LmRpc2FibGVkfHx0LmxvYWRpbmcpLFpzKDIpLE9yKCJuZ0lmIix0LmxvYWRpbmcpLFpzKDEpLE9yKCJuZ0lmIix0Lmljb24pLFpzKDEpLE9yKCJuZ0lmIix0LmxhYmVsKSl9LGRpcmVjdGl2ZXM6W0ZoLENTLGdTXSxlbmNhcHN1bGF0aW9uOjIsY2hhbmdlRGV0ZWN0aW9uOjB9KSxlfSkoKSxGUz0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtpbXBvcnRzOltbR2gsU1MsbVNdXX0pLGV9KSgpO2NvbnN0IElTPVsicmlnaHQiLCJyaWdodC10b3AiLCJyaWdodC1ib3R0b20iLCJ0b3AiLCJ0b3AtbGVmdCIsInRvcC1yaWdodCIsImxlZnQiLCJsZWZ0LXRvcCIsImxlZnQtYm90dG9tIiwiYm90dG9tIiwiYm90dG9tLWxlZnQiLCJib3R0b20tcmlnaHQiXTtsZXQgTVM9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuYXBwZW5kSW5Cb2R5PSExLHRoaXMuX3Rvb2x0aXBQb3NpdGlvbj0iYm90dG9tIix0aGlzLl9kaXNwbGF5VG9vbHRpcD0hMSx0aGlzLl90b29sdGlwPSIifXNldCB0b29sdGlwKGUpe3RoaXMuX3Rvb2x0aXA9ZSYmZS5sZW5ndGg+MTQwP2Uuc3Vic3RyaW5nKDAsMTQwKTplfWdldCB0b29sdGlwKCl7cmV0dXJuIHRoaXMuX3Rvb2x0aXB9c2V0IHRvb2x0aXBQb3NpdGlvbihlKXt0aGlzLl90b29sdGlwUG9zaXRpb249SVMuaW5jbHVkZXMoZSk/ZToiYm90dG9tIn1nZXQgdG9vbHRpcFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3Rvb2x0aXBQb3NpdGlvbn1zZXQgZGlzcGxheVRvb2x0aXAoZSl7dGhpcy5fZGlzcGxheVRvb2x0aXA9ZSx0aGlzLl9kaXNwbGF5VG9vbHRpcD90aGlzLmFkZFRvb2x0aXBBY3Rpb24oKTp0aGlzLnJlbW92ZVRvb2x0aXBBY3Rpb24oKX1nZXQgZGlzcGxheVRvb2x0aXAoKXtyZXR1cm4gdGhpcy5fZGlzcGxheVRvb2x0aXB9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLGlucHV0czp7YXBwZW5kSW5Cb2R5OlsicC1hcHBlbmQtaW4tYm9keSIsImFwcGVuZEluQm9keSJdLHRvb2x0aXA6WyJwLXRvb2x0aXAiLCJ0b29sdGlwIl0sdG9vbHRpcFBvc2l0aW9uOlsicC10b29sdGlwLXBvc2l0aW9uIiwidG9vbHRpcFBvc2l0aW9uIl0sZGlzcGxheVRvb2x0aXA6WyJwLWRpc3BsYXktdG9vbHRpcCIsImRpc3BsYXlUb29sdGlwIl19fSksT3YoW3hTKCldLGUucHJvdG90eXBlLCJhcHBlbmRJbkJvZHkiLHZvaWQgMCksT3YoW3hTKCldLGUucHJvdG90eXBlLCJkaXNwbGF5VG9vbHRpcCIsbnVsbCksZX0pKCk7Y29uc3QgUFM9WyJib3R0b20iLCJib3R0b20tbGVmdCIsImJvdHRvbS1yaWdodCIsImxlZnQiLCJsZWZ0LXRvcCIsImxlZnQtYm90dG9tIiwidG9wIiwidG9wLXJpZ2h0IiwidG9wLWxlZnQiLCJyaWdodCIsInJpZ2h0LWJvdHRvbSIsInJpZ2h0LXRvcCJdO2xldCBWUz0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKCl7dGhpcy5kaWZmZXJlbmNlRGlhZ29uYWxUb1dpZHRoQXJyb3c9Myx0aGlzLmlzU2V0RWxlbWVudFdpZHRoPSExLHRoaXMub2Zmc2V0QXJyb3c9MTJ9YWRqdXN0UG9zaXRpb24oZSl7Y29uc3QgdD1lfHwiYm90dG9tIjt0aGlzLmVsZW1lbnRQb3NpdGlvbih0KSx0aGlzLmN1c3RvbVBvc2l0aW9ucyYmdGhpcy5jdXN0b21Qb3NpdGlvbnMubGVuZ3RoP3RoaXMuYWRqdXN0Q3VzdG9tUG9zaXRpb24odCk6dGhpcy5hZGp1c3REZWZhdWx0UG9zaXRpb24odCl9Z2V0QXJyb3dEaXJlY3Rpb24oKXtyZXR1cm4gdGhpcy5hcnJvd0RpcmVjdGlvbn1zZXRFbGVtZW50cyhlLHQsbixpLHM9ITEsbz0hMSl7dGhpcy5lbGVtZW50PWUgaW5zdGFuY2VvZiBVYT9lLm5hdGl2ZUVsZW1lbnQ6ZSx0aGlzLnRhcmdldEVsZW1lbnQ9biBpbnN0YW5jZW9mIFVhP24ubmF0aXZlRWxlbWVudDpuLHRoaXMuZWxlbWVudE9mZnNldD10LHRoaXMuY3VzdG9tUG9zaXRpb25zPWksdGhpcy5pc1NldEVsZW1lbnRXaWR0aD1zLHRoaXMuaXNDb3JuZXJBbGlnbmVkPW99YWRqdXN0Q3VzdG9tUG9zaXRpb24oZSl7Y29uc3QgdD10aGlzLmN1c3RvbVBvc2l0aW9ucy5sZW5ndGg7bGV0IG49MDtmb3IoO24rKzx0Oyl0aGlzLm92ZXJmbG93QWxsU2lkZXMoZSkmJihlPXRoaXMubmV4dFBvc2l0aW9uKGUsdGhpcy5jdXN0b21Qb3NpdGlvbnMpLHRoaXMuZWxlbWVudFBvc2l0aW9uKGUpKX1hZGp1c3REZWZhdWx0UG9zaXRpb24oZSl7Y29uc3QgdD10aGlzLmdldE1haW5Qb3NpdGlvbnMoKSxuPXQubGVuZ3RoO2xldCBpPTA7Zm9yKDtpKys8bjspe2NvbnN0IG49dGhpcy5nZXRNYWluUG9zaXRpb24oZSk7aWYodGhpcy5lbGVtZW50UG9zaXRpb24oZSksIXRoaXMub3ZlcmZsb3dNYWluKG4pKXJldHVybiB0aGlzLm92ZXJmbG93QWxsU2lkZXMoZSk/dm9pZCB0aGlzLnZlcmlmeVN1YlBvc2l0aW9ucyhlKTp2b2lkIDA7ZT10aGlzLm5leHRQb3NpdGlvbihuLHQpfX1lbGVtZW50UG9zaXRpb24oZSl7dGhpcy5pc0Nvcm5lckFsaWduZWQ/dGhpcy5zZXRBbGlnbmVkRWxlbWVudFBvc2l0aW9uKGUpOnRoaXMuc2V0RWxlbWVudFBvc2l0aW9uKGUpfWdldE1haW5Qb3NpdGlvbihlKXtyZXR1cm4gZS5pbmRleE9mKCItIik+LTE/ZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIi0iKSk6ZX1nZXRNYWluUG9zaXRpb25zKCl7cmV0dXJuIHRoaXMuY3VzdG9tUG9zaXRpb25zJiZ0aGlzLmN1c3RvbVBvc2l0aW9ucy5sZW5ndGg/dGhpcy5nZXRNYWluUG9zaXRpb25zQnlDdXN0b21Qb3NpdGlvbnModGhpcy5jdXN0b21Qb3NpdGlvbnMpOlsidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0Il19Z2V0TWFpblBvc2l0aW9uc0J5Q3VzdG9tUG9zaXRpb25zKGUpe2NvbnN0IHQ9W10sbj1lLmxlbmd0aDtmb3IobGV0IGk9MDtpPG47aSsrKXtjb25zdCBuPXRoaXMuZ2V0TWFpblBvc2l0aW9uKGVbaV0pO3QuaW5jbHVkZXMobil8fHQucHVzaChuKX1yZXR1cm4gdH1nZXRPdmVyZmxvd3MoKXtjb25zdCBlPXRoaXMuZ2V0U2l6ZXNBbmRQb3NpdGlvbnMoKTtyZXR1cm57cmlnaHQ6ZS5lbGVtZW50LnJpZ2h0PmUud2luZG93LmlubmVyV2lkdGgsdG9wOmUuZWxlbWVudC50b3A8PTAsbGVmdDplLmVsZW1lbnQubGVmdDw9MCxib3R0b206ZS5lbGVtZW50LmJvdHRvbT5lLndpbmRvdy5pbm5lckhlaWdodH19Z2V0U2l6ZXNBbmRQb3NpdGlvbnMoKXtyZXR1cm57d2luZG93OntzY3JvbGxZOndpbmRvdy5zY3JvbGxZLHNjcm9sbFg6d2luZG93LnNjcm9sbFgsaW5uZXJXaWR0aDp3aW5kb3cuaW5uZXJXaWR0aCxpbm5lckhlaWdodDp3aW5kb3cuaW5uZXJIZWlnaHR9LGVsZW1lbnQ6dGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHRhcmdldDp0aGlzLnRhcmdldEVsZW1lbnQ/dGhpcy50YXJnZXRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOnt0b3A6MCxib3R0b206MCxyaWdodDowLGxlZnQ6MH19fW5leHRQb3NpdGlvbihlLHQ9W10pe2NvbnN0IG49dC5pbmRleE9mKGUpLGk9bisxO3JldHVybiBuPi0xJiZpPHQubGVuZ3RoP3RbaV06dFswXX1vdmVyZmxvd0FsbFNpZGVzKGUpe2NvbnN0IHQ9dGhpcy5nZXRPdmVyZmxvd3MoKTtzd2l0Y2goZSl7Y2FzZSJ0b3AiOmNhc2UidG9wLXJpZ2h0IjpyZXR1cm4gdC50b3B8fHQucmlnaHR8fHQubGVmdDtjYXNlInRvcC1sZWZ0IjpyZXR1cm4gdC50b3B8fHQubGVmdHx8dC5yaWdodDtjYXNlInJpZ2h0IjpyZXR1cm4gdC5yaWdodHx8dC50b3B8fHQuYm90dG9tO2Nhc2UicmlnaHQtdG9wIjpyZXR1cm4gdC5yaWdodHx8dC50b3A7Y2FzZSJyaWdodC1ib3R0b20iOnJldHVybiB0LnJpZ2h0fHx0LmJvdHRvbTtjYXNlImJvdHRvbSI6Y2FzZSJib3R0b20tcmlnaHQiOnJldHVybiB0LmJvdHRvbXx8dC5yaWdodHx8dC5sZWZ0O2Nhc2UiYm90dG9tLWxlZnQiOnJldHVybiB0LmJvdHRvbXx8dC5sZWZ0fHx0LnJpZ2h0O2Nhc2UibGVmdCI6cmV0dXJuIHQubGVmdHx8dC50b3B8fHQuYm90dG9tO2Nhc2UibGVmdC10b3AiOnJldHVybiB0LmxlZnR8fHQudG9wO2Nhc2UibGVmdC1ib3R0b20iOnJldHVybiB0LmxlZnR8fHQuYm90dG9tfX1vdmVyZmxvd01haW4oZSl7Y29uc3QgdD10aGlzLmdldE92ZXJmbG93cygpO3N3aXRjaChlKXtjYXNlInRvcCI6cmV0dXJuIHQudG9wO2Nhc2UicmlnaHQiOnJldHVybiB0LnJpZ2h0O2Nhc2UiYm90dG9tIjpyZXR1cm4gdC5ib3R0b207Y2FzZSJsZWZ0IjpyZXR1cm4gdC5sZWZ0fX1zZXRBbGlnbmVkQXJyb3dEaXJlY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UidG9wLWxlZnQiOnJldHVybiJib3R0b20tbGVmdCI7Y2FzZSJ0b3AtcmlnaHQiOnJldHVybiJib3R0b20tcmlnaHQiO2Nhc2UiYm90dG9tLXJpZ2h0IjpyZXR1cm4idG9wLXJpZ2h0IjtjYXNlImJvdHRvbS1sZWZ0IjpyZXR1cm4idG9wLWxlZnQifX1zZXRBbGlnbmVkQm90dG9tUG9zaXRpb25zKGUsdCl7dGhpcy5lbGVtZW50LnN0eWxlLnRvcD10LnRhcmdldC5ib3R0b20rdGhpcy5lbGVtZW50T2Zmc2V0KyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9dC50YXJnZXQubGVmdC1lKyJweCJ9c2V0QWxpZ25lZEVsZW1lbnRQb3NpdGlvbihlKXt0aGlzLnNldEVsZW1lbnRXaWR0aCgpO2NvbnN0IHQ9dGhpcy5nZXRTaXplc0FuZFBvc2l0aW9ucygpO3N3aXRjaChlKXtjYXNlImJvdHRvbS1sZWZ0Ijp0aGlzLnNldEFsaWduZWRCb3R0b21Qb3NpdGlvbnMoMCx0KTticmVhaztjYXNlImJvdHRvbS1yaWdodCI6dGhpcy5zZXRBbGlnbmVkQm90dG9tUG9zaXRpb25zKHQuZWxlbWVudC53aWR0aC10LnRhcmdldC53aWR0aCx0KTticmVhaztjYXNlInRvcC1sZWZ0Ijp0aGlzLnNldEFsaWduZWRUb3BQb3NpdGlvbnMoMCx0KTticmVhaztjYXNlInRvcC1yaWdodCI6dGhpcy5zZXRBbGlnbmVkVG9wUG9zaXRpb25zKHQuZWxlbWVudC53aWR0aC10LnRhcmdldC53aWR0aCx0KX10aGlzLmFycm93RGlyZWN0aW9uPXRoaXMuc2V0QWxpZ25lZEFycm93RGlyZWN0aW9uKGUpfXNldEFsaWduZWRUb3BQb3NpdGlvbnMoZSx0KXt0aGlzLmVsZW1lbnQuc3R5bGUudG9wPXQudGFyZ2V0LnRvcC10LmVsZW1lbnQuaGVpZ2h0LXRoaXMuZWxlbWVudE9mZnNldCsicHgiLHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PXQudGFyZ2V0LmxlZnQtZSsicHgifXNldEFycm93RGlyZWN0aW9uKGUpe3N3aXRjaChlKXtjYXNlInRvcCI6cmV0dXJuImJvdHRvbSI7Y2FzZSJ0b3AtbGVmdCI6cmV0dXJuImJvdHRvbS1yaWdodCI7Y2FzZSJ0b3AtcmlnaHQiOnJldHVybiJib3R0b20tbGVmdCI7Y2FzZSJyaWdodCI6cmV0dXJuImxlZnQiO2Nhc2UicmlnaHQtdG9wIjpyZXR1cm4ibGVmdC1ib3R0b20iO2Nhc2UicmlnaHQtYm90dG9tIjpyZXR1cm4ibGVmdC10b3AiO2Nhc2UiYm90dG9tIjpyZXR1cm4idG9wIjtjYXNlImJvdHRvbS1yaWdodCI6cmV0dXJuInRvcC1sZWZ0IjtjYXNlImJvdHRvbS1sZWZ0IjpyZXR1cm4idG9wLXJpZ2h0IjtjYXNlImxlZnQiOnJldHVybiJyaWdodCI7Y2FzZSJsZWZ0LWJvdHRvbSI6cmV0dXJuInJpZ2h0LXRvcCI7Y2FzZSJsZWZ0LXRvcCI6cmV0dXJuInJpZ2h0LWJvdHRvbSJ9fXNldEJvdHRvbVBvc2l0aW9ucyhlLHQpe3RoaXMuZWxlbWVudC5zdHlsZS50b3A9dC50YXJnZXQuYm90dG9tK3RoaXMuZWxlbWVudE9mZnNldCsicHgiLHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PXQudGFyZ2V0LmxlZnQrdC50YXJnZXQud2lkdGgvMi1lKyJweCJ9c2V0RWxlbWVudFBvc2l0aW9uKGUpe3RoaXMuc2V0RWxlbWVudFdpZHRoKCk7Y29uc3QgdD10aGlzLmdldFNpemVzQW5kUG9zaXRpb25zKCk7c3dpdGNoKGUpe2Nhc2UidG9wIjp0aGlzLnNldFRvcFBvc2l0aW9ucyh0LmVsZW1lbnQud2lkdGgvMix0KTticmVhaztjYXNlInRvcC1sZWZ0Ijp0aGlzLnNldFRvcFBvc2l0aW9ucyh0LmVsZW1lbnQud2lkdGgtdGhpcy5vZmZzZXRBcnJvdy10aGlzLmRpZmZlcmVuY2VEaWFnb25hbFRvV2lkdGhBcnJvdyx0KTticmVhaztjYXNlInRvcC1yaWdodCI6dGhpcy5zZXRUb3BQb3NpdGlvbnModGhpcy5vZmZzZXRBcnJvdyt0aGlzLmRpZmZlcmVuY2VEaWFnb25hbFRvV2lkdGhBcnJvdyx0KTticmVhaztjYXNlInJpZ2h0Ijp0aGlzLnNldFJpZ2h0UG9zaXRpb25zKHQuZWxlbWVudC5oZWlnaHQvMix0KTticmVhaztjYXNlInJpZ2h0LXRvcCI6dGhpcy5zZXRSaWdodFBvc2l0aW9ucyh0LmVsZW1lbnQuaGVpZ2h0LXRoaXMub2Zmc2V0QXJyb3ctdGhpcy5kaWZmZXJlbmNlRGlhZ29uYWxUb1dpZHRoQXJyb3csdCk7YnJlYWs7Y2FzZSJyaWdodC1ib3R0b20iOnRoaXMuc2V0UmlnaHRQb3NpdGlvbnModGhpcy5vZmZzZXRBcnJvdyx0KTticmVhaztjYXNlImJvdHRvbSI6dGhpcy5zZXRCb3R0b21Qb3NpdGlvbnModC5lbGVtZW50LndpZHRoLzIsdCk7YnJlYWs7Y2FzZSJib3R0b20tcmlnaHQiOnRoaXMuc2V0Qm90dG9tUG9zaXRpb25zKHRoaXMub2Zmc2V0QXJyb3crdGhpcy5kaWZmZXJlbmNlRGlhZ29uYWxUb1dpZHRoQXJyb3csdCk7YnJlYWs7Y2FzZSJib3R0b20tbGVmdCI6dGhpcy5zZXRCb3R0b21Qb3NpdGlvbnModC5lbGVtZW50LndpZHRoLXRoaXMub2Zmc2V0QXJyb3ctdGhpcy5kaWZmZXJlbmNlRGlhZ29uYWxUb1dpZHRoQXJyb3csdCk7YnJlYWs7Y2FzZSJsZWZ0Ijp0aGlzLnNldExlZnRQb3NpdGlvbnModC5lbGVtZW50LmhlaWdodC8yLHQpO2JyZWFrO2Nhc2UibGVmdC1ib3R0b20iOnRoaXMuc2V0TGVmdFBvc2l0aW9ucyh0aGlzLm9mZnNldEFycm93LHQpO2JyZWFrO2Nhc2UibGVmdC10b3AiOnRoaXMuc2V0TGVmdFBvc2l0aW9ucyh0LmVsZW1lbnQuaGVpZ2h0LXRoaXMub2Zmc2V0QXJyb3csdCl9dGhpcy5hcnJvd0RpcmVjdGlvbj10aGlzLnNldEFycm93RGlyZWN0aW9uKGUpfXNldEVsZW1lbnRXaWR0aCgpe3RoaXMuaXNTZXRFbGVtZW50V2lkdGgmJnRoaXMudGFyZ2V0RWxlbWVudCYmKHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aD1gJHt0aGlzLnRhcmdldEVsZW1lbnQuY2xpZW50V2lkdGh9cHhgKX1zZXRMZWZ0UG9zaXRpb25zKGUsdCl7dGhpcy5lbGVtZW50LnN0eWxlLnRvcD10LnRhcmdldC50b3AtZSt0LnRhcmdldC5oZWlnaHQvMisicHgiLHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PXQudGFyZ2V0LmxlZnQtdC5lbGVtZW50LndpZHRoLXRoaXMuZWxlbWVudE9mZnNldCsicHgifXNldFJpZ2h0UG9zaXRpb25zKGUsdCl7dGhpcy5lbGVtZW50LnN0eWxlLnRvcD10LnRhcmdldC50b3AtZSt0LnRhcmdldC5oZWlnaHQvMisicHgiLHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PXQudGFyZ2V0LnJpZ2h0K3RoaXMuZWxlbWVudE9mZnNldCsicHgifXNldFRvcFBvc2l0aW9ucyhlLHQpe3RoaXMuZWxlbWVudC5zdHlsZS50b3A9dC50YXJnZXQudG9wLXQuZWxlbWVudC5oZWlnaHQtdGhpcy5lbGVtZW50T2Zmc2V0KyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9dC50YXJnZXQubGVmdCt0LnRhcmdldC53aWR0aC8yLWUrInB4In12ZXJpZnlTdWJQb3NpdGlvbnMoZSl7ZS5pbmRleE9mKCItIik+LTEmJihlPWUuc3Vic3RyaW5nKDAsZS5pbmRleE9mKCItIikpLHRoaXMuZWxlbWVudFBvc2l0aW9uKGUpKTtsZXQgdD0wO2Zvcig7dCsrPDM7KXtpZighdGhpcy5vdmVyZmxvd0FsbFNpZGVzKGUpKXJldHVybiBudWxsO2U9dGhpcy5uZXh0UG9zaXRpb24oZSxQUyksdGhpcy5lbGVtZW50UG9zaXRpb24oZSl9fX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVwcm92PWhlKHt0b2tlbjplLGZhY3Rvcnk6ZS5cdTAyNzVmYWN9KSxlfSkoKSxMUz0oKCk9PntjbGFzcyBlIGV4dGVuZHMgVlN7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbigpe2xldCB0O3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4odHx8KHQ9JG4oZSkpKShufHxlKX19KCksZS5cdTAyNzVwcm92PWhlKHt0b2tlbjplLGZhY3Rvcnk6ZS5cdTAyNzVmYWN9KSxlfSkoKSxSUz0oKCk9PntjbGFzcyBlIGV4dGVuZHMgTVN7Y29uc3RydWN0b3IoZSx0LG4pe3N1cGVyKCksdGhpcy5lbGVtZW50UmVmPWUsdGhpcy5yZW5kZXJlcj10LHRoaXMucG9Db250cm9sUG9zaXRpb249bix0aGlzLnRvb2x0aXBPZmZzZXQ9OH1vbk1vdXNlRW50ZXIoKXt0aGlzLmRpc3BsYXlUb29sdGlwfHx0aGlzLmFkZFRvb2x0aXBBY3Rpb24oKX1vbk1vdXNlTGVhdmUoKXt0aGlzLmRpc3BsYXlUb29sdGlwfHx0aGlzLnJlbW92ZVRvb2x0aXBBY3Rpb24oKX1uZ09uSW5pdCgpe3RoaXMuaW5pdFNjcm9sbEV2ZW50TGlzdGVuZXJGdW5jdGlvbigpfWFkZFRvb2x0aXBBY3Rpb24oKXtzZXRUaW1lb3V0KCgpPT57dGhpcy50b29sdGlwJiYodGhpcy50b29sdGlwQ29udGVudD90aGlzLnNob3dUb29sdGlwKCk6dGhpcy5jcmVhdGVUb29sdGlwKCksdGhpcy5yZW1vdmVBcnJvdyh0aGlzLmFycm93RGlyZWN0aW9uKSx0aGlzLnBvQ29udHJvbFBvc2l0aW9uLmFkanVzdFBvc2l0aW9uKHRoaXMudG9vbHRpcFBvc2l0aW9uKSx0aGlzLmFycm93RGlyZWN0aW9uPXRoaXMucG9Db250cm9sUG9zaXRpb24uZ2V0QXJyb3dEaXJlY3Rpb24oKSx0aGlzLmFkZEFycm93KHRoaXMuYXJyb3dEaXJlY3Rpb24pLHRoaXMubGFzdFRvb2x0aXBUZXh0PXRoaXMudG9vbHRpcCl9KX1yZW1vdmVUb29sdGlwQWN0aW9uKCl7c2V0VGltZW91dCgoKT0+e3RoaXMuYXBwZW5kSW5Cb2R5JiZ0aGlzLnRvb2x0aXBDb250ZW50Pyh0aGlzLnJlbmRlcmVyLnJlbW92ZUNoaWxkKGRvY3VtZW50LmJvZHksdGhpcy50b29sdGlwQ29udGVudCksdGhpcy50b29sdGlwQ29udGVudD12b2lkIDApOnRoaXMuaGlkZVRvb2x0aXAoKX0pfWFkZEFycm93KGUpe3RoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5kaXZBcnJvdyxgcG8tYXJyb3ctJHtlfWApfWFkZFNjcm9sbEV2ZW50TGlzdGVuZXIoKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIix0aGlzLmV2ZW50TGlzdGVuZXJGdW5jdGlvbiwhMCl9Y3JlYXRlVG9vbHRpcCgpe3RoaXMudG9vbHRpcENvbnRlbnQ9dGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMudG9vbHRpcENvbnRlbnQsInBvLXRvb2x0aXAiKSx0aGlzLmRpdkFycm93PXRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmRpdkFycm93LCJwby10b29sdGlwLWFycm93IiksdGhpcy5kaXZDb250ZW50PXRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmRpdkNvbnRlbnQsInBvLXRvb2x0aXAtY29udGVudCIpLHRoaXMudGV4dENvbnRlbnQ9dGhpcy5yZW5kZXJlci5jcmVhdGVUZXh0KHRoaXMudG9vbHRpcCksdGhpcy5yZW5kZXJlci5hcHBlbmRDaGlsZCh0aGlzLmRpdkNvbnRlbnQsdGhpcy50ZXh0Q29udGVudCksdGhpcy5yZW5kZXJlci5hcHBlbmRDaGlsZCh0aGlzLnRvb2x0aXBDb250ZW50LHRoaXMuZGl2QXJyb3cpLHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwQ29udGVudCx0aGlzLmRpdkNvbnRlbnQpO2NvbnN0IGU9dGhpcy5hcHBlbmRJbkJvZHk/ZG9jdW1lbnQuYm9keTp0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudDt0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKGUsdGhpcy50b29sdGlwQ29udGVudCksdGhpcy5wb0NvbnRyb2xQb3NpdGlvbi5zZXRFbGVtZW50cyh0aGlzLnRvb2x0aXBDb250ZW50LHRoaXMudG9vbHRpcE9mZnNldCx0aGlzLmVsZW1lbnRSZWYpLHRoaXMuYWRkU2Nyb2xsRXZlbnRMaXN0ZW5lcigpfWluaXRTY3JvbGxFdmVudExpc3RlbmVyRnVuY3Rpb24oKXt0aGlzLmV2ZW50TGlzdGVuZXJGdW5jdGlvbj0oKT0+e3RoaXMuaXNIaWRkZW58fHNldFRpbWVvdXQoKCk9Pnt0aGlzLnBvQ29udHJvbFBvc2l0aW9uLmFkanVzdFBvc2l0aW9uKHRoaXMudG9vbHRpcFBvc2l0aW9uKX0pfX1oaWRlVG9vbHRpcCgpe3RoaXMudG9vbHRpcENvbnRlbnQmJih0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMudG9vbHRpcENvbnRlbnQsInBvLWludmlzaWJsZSIpLHRoaXMuaXNIaWRkZW49ITAsdGhpcy5yZW1vdmVTY3JvbGxFdmVudExpc3RlbmVyKCkpfXJlbW92ZUFycm93KGUpe3RoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wby1hcnJvdy0ke2V9YCkmJnRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5kaXZBcnJvdyxgcG8tYXJyb3ctJHtlfWApfXJlbW92ZVNjcm9sbEV2ZW50TGlzdGVuZXIoKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIix0aGlzLmV2ZW50TGlzdGVuZXJGdW5jdGlvbiwhMCl9c2hvd1Rvb2x0aXAoKXt0aGlzLnJlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMudG9vbHRpcENvbnRlbnQsInBvLWludmlzaWJsZSIpLHRoaXMudXBkYXRlVGV4dENvbnRlbnQoKSx0aGlzLmlzSGlkZGVuPSExLHRoaXMuYWRkU2Nyb2xsRXZlbnRMaXN0ZW5lcigpfXVwZGF0ZVRleHRDb250ZW50KCl7dGhpcy5sYXN0VG9vbHRpcFRleHQhPT10aGlzLnRvb2x0aXAmJih0aGlzLnJlbmRlcmVyLnJlbW92ZUNoaWxkKHRoaXMuZGl2Q29udGVudCx0aGlzLnRleHRDb250ZW50KSx0aGlzLnRleHRDb250ZW50PXRoaXMucmVuZGVyZXIuY3JlYXRlVGV4dCh0aGlzLnRvb2x0aXApLHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy5kaXZDb250ZW50LHRoaXMudGV4dENvbnRlbnQpKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoVWEpLEFyKFdhKSxBcihMUykpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLHNlbGVjdG9yczpbWyIiLCJwLXRvb2x0aXAiLCIiXV0saG9zdEJpbmRpbmdzOmZ1bmN0aW9uKGUsdCl7MSZlJiZCcigibW91c2VlbnRlciIsZnVuY3Rpb24oKXtyZXR1cm4gdC5vbk1vdXNlRW50ZXIoKX0pKCJtb3VzZWxlYXZlIixmdW5jdGlvbigpe3JldHVybiB0Lm9uTW91c2VMZWF2ZSgpfSl9LGZlYXR1cmVzOltMYShbTFNdKSx1cl19KSxlfSkoKSxqUz0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtpbXBvcnRzOltbR2hdXX0pLGV9KSgpLE5TPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe2ltcG9ydHM6W1tHaCxGUyxqU11dfSksZX0pKCksQlM9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuZGF0ZVJlZ2V4PW5ldyBSZWdFeHAoIl4oPzpbMC05XSlcXGR7MX0oPzpbMC05XSlcXGR7MX0tKD86MFsxLTldfDFbMC0yXSktKD86MFsxLTldfFsxMl1cXGR8M1swMV0pJCIpLHRoaXMuaXNvUmVnZXg9bmV3IFJlZ0V4cCgiXig/OlswLTldKVxcZHsxfSg/OlswLTldKVxcZHsxfS0oPzowWzEtOV18MVswLTJdKS0oPzowWzEtOV18WzEyXVxcZHwzWzAxXSlUKD86WzAxXVxcZHwyWzAtM10pOlswLTVdXFxkOlswLTVdXFxkKD86WnwtMFsxLTldfC0xXFxkfC0yWzAtM118LTAwOj8oPzowWzEtOV18WzAtNV1cXGQpfFxcK1swMV1cXGR8XFwrMlswLTNdKSg/Onw6P1swLTVdXFxkKSQiKX1jb252ZXJ0SXNvVG9EYXRlKGUsdCxuKXtpZihlKXtjb25zdHt5ZWFyOmksbW9udGg6cyxkYXk6b309dGhpcy5nZXREYXRlRnJvbUlzbyhlKTtpZih0KXtjb25zdCBlPW5ldyBEYXRlKGkscy0xLG8sMCwwLDApO3JldHVybiB0aGlzLnNldFllYXJGcm9tMFRvMTAwKGUsaSksZX1pZihuKXtjb25zdCBlPW5ldyBEYXRlKGkscy0xLG8sMjMsNTksNTkpO3JldHVybiB0aGlzLnNldFllYXJGcm9tMFRvMTAwKGUsaSksZX17Y29uc3QgdD1EYXRlLnBhcnNlKGUpLG49NmU0KihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtyZXR1cm4gbmV3IERhdGUodCtuKX19fWNvbnZlcnREYXRlVG9JU08oZSl7aWYoZSl7Y29uc3QgdD1lLmdldEZ1bGxZZWFyKCksbj1lLmdldE1vbnRoKCkrMSxpPWUuZ2V0RGF0ZSgpPDEwPyIwIitlLmdldERhdGUoKTplLmdldERhdGUoKSxzPW48MTA/IjAiK246bjtyZXR1cm4gdGhpcy5mb3JtYXRZZWFyKHQpKyItIitzKyItIitpfXJldHVybiBudWxsfWZvcm1hdFllYXIoZSl7cmV0dXJuIGU+OTk5P2UudG9TdHJpbmcoKTplPjk5JiZlPDFlMz9gMCR7ZX1gOmU+OSYmZTwxMDA/YDAwJHtlfWA6ZT49MCYmZTwxMD9gMDAwJHtlfWA6dm9pZCAwfWdldERhdGVGcm9tSXNvKGUpe2NvbnN0IHQ9cGFyc2VJbnQoZS5zdWJzdHJpbmcoOCwxMCksMTApLG49cGFyc2VJbnQoZS5zdWJzdHJpbmcoNSw3KSwxMCk7cmV0dXJue3llYXI6cGFyc2VJbnQoZS5zdWJzdHJpbmcoMCw0KSwxMCksbW9udGg6bixkYXk6dH19Z2V0RGF0ZUZvckRhdGVSYW5nZShlLHQpe2NvbnN0IG49dD9bMCwwLDBdOlsyMyw1OSw1OV07aWYoZSBpbnN0YW5jZW9mIERhdGUpe2NvbnN0e3llYXI6dCxtb250aDppLGRheTpzfT10aGlzLnNwbGl0RGF0ZShlKSxvPW5ldyBEYXRlKHQsaSxzLC4uLm4pO3JldHVybiB0aGlzLnNldFllYXJGcm9tMFRvMTAwKG8sdCksb31pZih0aGlzLmlzVmFsaWRJc28oZSkpcmV0dXJuIHRoaXMuY29udmVydElzb1RvRGF0ZShlLHQsIXQpfWlzRGF0ZVJhbmdlVmFsaWQoZT0iIix0PSIiKXtjb25zdCBuPWUuc3BsaXQoIi0iKS5tYXAoZT0+cGFyc2VJbnQoZSwxMCkpLGk9dC5zcGxpdCgiLSIpLm1hcChlPT5wYXJzZUludChlLDEwKSk7Zm9yKGxldCBzPTA7czw9bi5sZW5ndGg7cysrKXtpZihuW3NdPmlbc10pcmV0dXJuITA7aWYobltzXTxpW3NdKXJldHVybiExfXJldHVybiEwfWlzVmFsaWRJc28oZSl7cmV0dXJuIHRoaXMuZGF0ZVJlZ2V4LnRlc3QoZSl8fHRoaXMuaXNvUmVnZXgudGVzdChlKX1zZXRZZWFyRnJvbTBUbzEwMChlLHQpe3Q+PTAmJnQ8MTAwJiZlLnNldEZ1bGxZZWFyKHQpfXNwbGl0RGF0ZShlKXtyZXR1cm57eWVhcjplLmdldEZ1bGxZZWFyKCksbW9udGg6ZS5nZXRNb250aCgpLGRheTplLmdldERhdGUoKX19dmFsaWRhdGVEYXRlUmFuZ2UoZSx0LG4pe3JldHVybiB0JiZuP2U+PXQmJmU8PW46dCYmIW4/ZT49dDohKCF0JiZuKXx8ZTw9bn12YWxpZGF0ZURhdGUoZSl7Y29uc3QgdD1lIGluc3RhbmNlb2YgRGF0ZT90aGlzLmNvbnZlcnREYXRlVG9JU08oZSk6ZTtyZXR1cm4gdGhpcy5pc1ZhbGlkSXNvKHQpP3Q6dm9pZCAwfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVwcm92PWhlKHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlfSx0b2tlbjplLHByb3ZpZGVkSW46InJvb3QifSksZX0pKCksJFM9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7cHJvdmlkZXJzOltCU119KSxlfSkoKTt2YXIgSFM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuUmFuZ2U9InJhbmdlIixlfSh7fSk7bGV0IFVTPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnBvRGF0ZT1lLHRoaXMubGFuZ3VhZ2VTZXJ2aWNlPXQsdGhpcy5jaGFuZ2U9bmV3IGVjLHRoaXMub25Ub3VjaGVkPW51bGwsdGhpcy5wcm9wYWdhdGVDaGFuZ2U9bnVsbCx0aGlzLnRvZGF5PW5ldyBEYXRlLHRoaXMuX2xvY2FsZT10aGlzLmxhbmd1YWdlU2VydmljZS5nZXRTaG9ydExhbmd1YWdlKCksdGhpcy5zaG9ydExhbmd1YWdlPXQuZ2V0U2hvcnRMYW5ndWFnZSgpfXNldCBsb2NhbGUoZSl7dGhpcy5fbG9jYWxlPVVELmluY2x1ZGVzKGUpP2U6dGhpcy5zaG9ydExhbmd1YWdlfWdldCBsb2NhbGUoKXtyZXR1cm4gdGhpcy5fbG9jYWxlfXNldCBtYXhEYXRlKGUpe3RoaXMuX21heERhdGU9dGhpcy5wb0RhdGUuZ2V0RGF0ZUZvckRhdGVSYW5nZShlLCExKX1nZXQgbWF4RGF0ZSgpe3JldHVybiB0aGlzLl9tYXhEYXRlfXNldCBtaW5EYXRlKGUpe3RoaXMuX21pbkRhdGU9dGhpcy5wb0RhdGUuZ2V0RGF0ZUZvckRhdGVSYW5nZShlLCEwKX1nZXQgbWluRGF0ZSgpe3JldHVybiB0aGlzLl9taW5EYXRlfXNldCBtb2RlKGUpe3RoaXMuX21vZGU9ZSx0aGlzLnNldEFjdGl2YXRlRGF0ZSgpfWdldCBtb2RlKCl7cmV0dXJuIHRoaXMuX21vZGV9Z2V0IGlzUmFuZ2UoKXtyZXR1cm4gdGhpcy5tb2RlPT09SFMuUmFuZ2V9c2V0QWN0aXZhdGVEYXRlKGUpe2lmKHRoaXMuaXNSYW5nZSl7Y29uc3QgdD1uZXcgRGF0ZShlfHx0aGlzLnRvZGF5KSxuPW5ldyBEYXRlKG5ldyBEYXRlKHQpLnNldE1vbnRoKHQuZ2V0TW9udGgoKSsxKSk7dGhpcy5hY3RpdmF0ZURhdGU9e3N0YXJ0OnQsZW5kOm59fWVsc2UgdGhpcy5hY3RpdmF0ZURhdGU9ZSBpbnN0YW5jZW9mIERhdGU/bmV3IERhdGUoZSk6bmV3IERhdGUoZXx8dGhpcy50b2RheSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKEJTKSxBcihwUykpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLGlucHV0czp7bG9jYWxlOlsicC1sb2NhbGUiLCJsb2NhbGUiXSxtYXhEYXRlOlsicC1tYXgtZGF0ZSIsIm1heERhdGUiXSxtaW5EYXRlOlsicC1taW4tZGF0ZSIsIm1pbkRhdGUiXSxtb2RlOlsicC1tb2RlIiwibW9kZSJdfSxvdXRwdXRzOntjaGFuZ2U6InAtY2hhbmdlIn19KSxlfSkoKTtjb25zdCBxUz1be3Byb3ZpZGU6UHYsdXNlRXhpc3Rpbmc6c2UoKCk9PnpTKSxtdWx0aTohMH0se3Byb3ZpZGU6anYsdXNlRXhpc3Rpbmc6c2UoKCk9PnpTKSxtdWx0aTohMH1dO2xldCB6Uz0oKCk9PntjbGFzcyBlIGV4dGVuZHMgVVN7Y29uc3RydWN0b3IoZSx0LG4pe3N1cGVyKHQsbiksdGhpcy5jaGFuZ2VEZXRlY3Rvcj1lfWdldCBpc1Jlc3BvbnNpdmUoKXtyZXR1cm4gd2luZG93LmlubmVyV2lkdGg8NjAwfW5nT25Jbml0KCl7dGhpcy5zZXRBY3RpdmF0ZURhdGUoKX1nZXRBY3RpdmF0ZURhdGUoZSl7cmV0dXJuIHRoaXMuaXNSYW5nZSYmdGhpcy5hY3RpdmF0ZURhdGU/dGhpcy5hY3RpdmF0ZURhdGVbZV06dGhpcy5hY3RpdmF0ZURhdGV9Z2V0VmFsdWUoZSl7cmV0dXJuIHRoaXMuaXNSYW5nZSYmdGhpcy52YWx1ZT90aGlzLnZhbHVlW2VdOnRoaXMudmFsdWV9b25TZWxlY3REYXRlKGUsdCl7dmFyIG47bGV0IGk7dGhpcy5pc1JhbmdlPyhpPXRoaXMuZ2V0VmFsdWVGcm9tU2VsZWN0ZWREYXRlKGUpLCJlbmQiPT09dCYmKCEobnVsbD09PShuPXRoaXMudmFsdWUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnN0YXJ0KXx8dGhpcy52YWx1ZS5zdGFydCYmdGhpcy52YWx1ZS5lbmQpJiZ0aGlzLnNldEFjdGl2YXRlRGF0ZShlKSk6aT1lLHRoaXMudmFsdWU9aTtjb25zdCBzPXRoaXMuY29udmVydERhdGVUb0lTTyh0aGlzLnZhbHVlKTt0aGlzLnVwZGF0ZU1vZGVsKHMpLHRoaXMuY2hhbmdlLmVtaXQocyl9b25IZWFkZXJDaGFuZ2Uoe21vbnRoOmUseWVhcjp0fSxuKXtpZih0aGlzLmlzUmFuZ2Upe2xldCBpLHM7Y29uc3R7c3RhcnQ6byxlbmQ6cn09dGhpcy5hY3RpdmF0ZURhdGU7aWYoImVuZCI9PT1uKXtjb25zdCBuPTA9PT1lP3QtMTp0O2k9bmV3IERhdGUobmV3IERhdGUoby5zZXRNb250aChlLTEpKS5zZXRGdWxsWWVhcihuKSkscz1uZXcgRGF0ZShuZXcgRGF0ZShyLnNldE1vbnRoKGUpKS5zZXRGdWxsWWVhcih0KSl9ZWxzZXtjb25zdCBuPTExPT09ZT90KzE6dDtzPW5ldyBEYXRlKG5ldyBEYXRlKHIuc2V0TW9udGgoZSsxKSkuc2V0RnVsbFllYXIobikpLGk9bmV3IERhdGUobmV3IERhdGUoby5zZXRNb250aChlKSkuc2V0RnVsbFllYXIodCkpfXRoaXMuYWN0aXZhdGVEYXRlPXtzdGFydDppLGVuZDpzfX19cmVnaXN0ZXJPbkNoYW5nZShlKXt0aGlzLnByb3BhZ2F0ZUNoYW5nZT1lfXJlZ2lzdGVyT25Ub3VjaGVkKGUpe3RoaXMub25Ub3VjaGVkPWV9dmFsaWRhdGUoZSl7cmV0dXJuIG51bGx9d3JpdGVWYWx1ZShlKXtlP3RoaXMud3JpdGVEYXRlKGUpOnRoaXMudmFsdWU9bnVsbDtjb25zdCB0PXRoaXMuZ2V0VmFsaWRhdGVTdGFydERhdGUoZSk7dGhpcy5zZXRBY3RpdmF0ZURhdGUodCksdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKX1nZXRWYWxpZGF0ZVN0YXJ0RGF0ZShlKXtyZXR1cm4gdGhpcy5pc1JhbmdlPyhudWxsPT1lP3ZvaWQgMDplLnN0YXJ0KXx8bnVsbDplIGluc3RhbmNlb2YgRGF0ZXx8InN0cmluZyI9PXR5cGVvZiBlP2U6bnVsbH1nZXRWYWx1ZUZyb21TZWxlY3RlZERhdGUoZSl7dmFyIHQ7cmV0dXJuIShudWxsPT09KHQ9dGhpcy52YWx1ZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc3RhcnQpfHx0aGlzLnZhbHVlLnN0YXJ0PmV8fHRoaXMudmFsdWUuZW5kJiZ0aGlzLnZhbHVlLnN0YXJ0P3tzdGFydDpuZXcgRGF0ZShlKSxlbmQ6bnVsbH06e3N0YXJ0Om5ldyBEYXRlKHRoaXMudmFsdWUuc3RhcnQpLGVuZDpuZXcgRGF0ZShlKX19Y29udmVydERhdGVUb0lTTyhlKXtyZXR1cm4gdGhpcy5pc1JhbmdlP3tzdGFydDoobnVsbD09ZT92b2lkIDA6ZS5zdGFydClpbnN0YW5jZW9mIERhdGU/dGhpcy5wb0RhdGUuY29udmVydERhdGVUb0lTTyhlLnN0YXJ0KTpudWxsLGVuZDoobnVsbD09ZT92b2lkIDA6ZS5lbmQpaW5zdGFuY2VvZiBEYXRlP3RoaXMucG9EYXRlLmNvbnZlcnREYXRlVG9JU08oZS5lbmQpOm51bGx9OnRoaXMucG9EYXRlLmNvbnZlcnREYXRlVG9JU08oZSl9Y29udmVydERhdGVGcm9tSXNvKGUpe2lmKGUmJiJzdHJpbmciPT10eXBlb2YgZSl7Y29uc3R7eWVhcjp0LG1vbnRoOm4sZGF5Oml9PXRoaXMucG9EYXRlLmdldERhdGVGcm9tSXNvKGUpLHM9bmV3IERhdGUodCxuLTEsaSk7cmV0dXJuIHRoaXMucG9EYXRlLnNldFllYXJGcm9tMFRvMTAwKHMsdCksc31yZXR1cm4gbnVsbH11cGRhdGVNb2RlbChlKXt0aGlzLnByb3BhZ2F0ZUNoYW5nZSYmdGhpcy5wcm9wYWdhdGVDaGFuZ2UoZSl9d3JpdGVEYXRlKGUpe2lmKHRoaXMuaXNSYW5nZSl7Y29uc3QgdD1udWxsPT1lP3ZvaWQgMDplLnN0YXJ0LG49bnVsbD09ZT92b2lkIDA6ZS5lbmQsaT10IGluc3RhbmNlb2YgRGF0ZT9uZXcgRGF0ZSh0KTp0aGlzLmNvbnZlcnREYXRlRnJvbUlzbyh0KSxzPW4gaW5zdGFuY2VvZiBEYXRlP25ldyBEYXRlKG4pOnRoaXMuY29udmVydERhdGVGcm9tSXNvKG4pO3RoaXMudmFsdWU9e3N0YXJ0OmksZW5kOnN9fWVsc2UgdGhpcy52YWx1ZT1lIGluc3RhbmNlb2YgRGF0ZT9uZXcgRGF0ZShlKTp0aGlzLmNvbnZlcnREYXRlRnJvbUlzbyhlKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoZ2wpLEFyKEJTKSxBcihwUykpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby1jYWxlbmRhciJdXSxmZWF0dXJlczpbTGEocVMpLHVyXSxkZWNsczo3LHZhcnM6Myxjb25zdHM6W1s0LCJuZ0lmIiwibmdJZlRoZW4iLCJuZ0lmRWxzZSJdLFsicmFuZ2VUZW1wbGF0ZSIsIiJdLFsiY2FsZW5kYXJUZW1wbGF0ZSIsIiJdLFsiY2FsZW5kYXJXcmFwcGVyIiwiIl0sWzEsInBvLWNhbGVuZGFyLXJhbmdlIl0sWzQsIm5nVGVtcGxhdGVPdXRsZXQiLCJuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCJdLFs0LCJuZ0lmIl0sWzEsInBvLWNhbGVuZGFyIl0sWzMsIm5nVGVtcGxhdGVPdXRsZXQiXSxbMywicC12YWx1ZSIsInAtYWN0aXZhdGUtZGF0ZSIsInAtbG9jYWxlIiwicC1taW4tZGF0ZSIsInAtbWF4LWRhdGUiLCJwLXBhcnQtdHlwZSIsInAtcmFuZ2UiLCJwLXJlc3BvbnNpdmUiLCJwLXNlbGVjdGVkLXZhbHVlIiwicC1oZWFkZXItY2hhbmdlIiwicC1zZWxlY3QtZGF0ZSJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpe2lmKDEmZSYmKGtyKDAsaXksMSwwLCJuZy1jb250YWluZXIiLDApLGtyKDEsY3ksMyw0LCJuZy10ZW1wbGF0ZSIsbnVsbCwxLHljKSxrcigzLGh5LDIsMSwibmctdGVtcGxhdGUiLG51bGwsMix5Yyksa3IoNSxkeSwxLDksIm5nLXRlbXBsYXRlIixudWxsLDMseWMpKSwyJmUpe2NvbnN0IGU9eHIoMiksbj14cig0KTtPcigibmdJZiIsdC5pc1JhbmdlKSgibmdJZlRoZW4iLGUpKCJuZ0lmRWxzZSIsbil9fSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW0ZoLGpoLFlTXX0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksZX0pKCksV1M9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuaGlkZVByZXZpb3VzPSExLHRoaXMuaGlkZU5leHQ9ITEsdGhpcy5wcmV2aW91cz1uZXcgZWMsdGhpcy5uZXh0PW5ldyBlY319cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLWNhbGVuZGFyLWhlYWRlciJdXSxpbnB1dHM6e2hpZGVQcmV2aW91czpbInAtaGlkZS1wcmV2aW91cyIsImhpZGVQcmV2aW91cyJdLGhpZGVOZXh0OlsicC1oaWRlLW5leHQiLCJoaWRlTmV4dCJdfSxvdXRwdXRzOntwcmV2aW91czoicC1wcmV2aW91cyIsbmV4dDoicC1uZXh0In0sbmdDb250ZW50U2VsZWN0b3JzOldiLGRlY2xzOjUsdmFyczoyLGNvbnN0czpbWzEsInBvLWNhbGVuZGFyLWhlYWRlciJdLFsiY2xhc3MiLCJwby1jYWxlbmRhci1oZWFkZXItbGVmdCBwby1pY29uIHBvLWljb24tYXJyb3ctbGVmdCIsMywiY2xpY2siLDQsIm5nSWYiXSxbImF0dHItY2FsZW5kYXIiLCIiLDEsInBvLWNhbGVuZGFyLWhlYWRlci10aXRsZSJdLFsiY2xhc3MiLCJwby1jYWxlbmRhci1oZWFkZXItcmlnaHQgcG8taWNvbiBwby1pY29uLWFycm93LXJpZ2h0IiwzLCJjbGljayIsNCwibmdJZiJdLFsxLCJwby1jYWxlbmRhci1oZWFkZXItbGVmdCIsInBvLWljb24iLCJwby1pY29uLWFycm93LWxlZnQiLDMsImNsaWNrIl0sWzEsInBvLWNhbGVuZGFyLWhlYWRlci1yaWdodCIsInBvLWljb24iLCJwby1pY29uLWFycm93LXJpZ2h0IiwzLCJjbGljayJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYmKHpyKCksRnIoMCwiZGl2IiwwKSxrcigxLHB5LDEsMCwic3BhbiIsMSksRnIoMiwiZGl2IiwyKSxXcigzKSxJcigpLGtyKDQsZnksMSwwLCJzcGFuIiwzKSxJcigpKSwyJmUmJihacygxKSxPcigibmdJZiIsKG51bGw9PXQucHJldmlvdXM/bnVsbDp0LnByZXZpb3VzLm9ic2VydmVycykmJiF0LmhpZGVQcmV2aW91cyksWnMoMyksT3IoIm5nSWYiLChudWxsPT10Lm5leHQ/bnVsbDp0Lm5leHQub2JzZXJ2ZXJzLmxlbmd0aCkmJiF0LmhpZGVOZXh0KSl9LGRpcmVjdGl2ZXM6W0ZoXSxlbmNhcHN1bGF0aW9uOjIsY2hhbmdlRGV0ZWN0aW9uOjB9KSxlfSkoKSxHUz0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKCl7dGhpcy5sYW5ndWFnZT1xRCx0aGlzLm1vbnRocz1be3B0OiJKYW5laXJvIixlbjoiSmFudWFyeSIsZXM6IkVuZXJvIixydToiXHUwNDJmXHUwNDNkXHUwNDMyXHUwNDMwXHUwNDQwXHUwNDRjIn0se3B0OiJGZXZlcmVpcm8iLGVuOiJGZWJydWFyeSIsZXM6IkZlYnJlcm8iLHJ1OiJcdTA0MjRcdTA0MzVcdTA0MzJcdTA0NDBcdTA0MzBcdTA0M2JcdTA0NGMifSx7cHQ6Ik1hclx4ZTdvIixlbjoiTWFyY2giLGVzOiJNYXJ6byIscnU6Ilx1MDQxY1x1MDQzMFx1MDQ0MFx1MDQ0MiJ9LHtwdDoiQWJyaWwiLGVuOiJBcHJpbCIsZXM6IkFicmlsIixydToiXHUwNDEwXHUwNDNmXHUwNDQwXHUwNDM1XHUwNDNiXHUwNDRjIn0se3B0OiJNYWlvIixlbjoiTWF5IixlczoiTWF5byIscnU6Ilx1MDQxY1x1MDQzMFx1MDQzOSJ9LHtwdDoiSnVuaG8iLGVuOiJKdW5lIixlczoiSnVuaW8iLHJ1OiJcdTA0MThcdTA0NGVcdTA0M2RcdTA0NGMifSx7cHQ6Ikp1bGhvIixlbjoiSnVseSIsZXM6Ikp1bGlvIixydToiXHUwNDE4XHUwNDRlXHUwNDNiXHUwNDRjIn0se3B0OiJBZ29zdG8iLGVuOiJBdWd1c3QiLGVzOiJBZ29zdG8iLHJ1OiJcdTA0MTBcdTA0MzJcdTA0MzNcdTA0NDNcdTA0NDFcdTA0NDIifSx7cHQ6IlNldGVtYnJvIixlbjoiU2VwdGVtYmVyIixlczoiU2V0aWVtYnJlIixydToiXHUwNDIxXHUwNDM1XHUwNDNkXHUwNDQyXHUwNDRmXHUwNDMxXHUwNDQwXHUwNDRjIn0se3B0OiJPdXR1YnJvIixlbjoiT2N0b2JlciIsZXM6Ik9jdHVicmUiLHJ1OiJcdTA0MWVcdTA0M2FcdTA0NDJcdTA0NGZcdTA0MzFcdTA0NDBcdTA0NGMifSx7cHQ6Ik5vdmVtYnJvIixlbjoiTm92ZW1iZXIiLGVzOiJOb3ZpZW1icmUiLHJ1OiJcdTA0MWRcdTA0M2VcdTA0NGZcdTA0MzFcdTA0NDBcdTA0NGMifSx7cHQ6IkRlemVtYnJvIixlbjoiRGVjZW1iZXIiLGVzOiJEaWNpZW1icmUiLHJ1OiJcdTA0MTRcdTA0MzVcdTA0M2FcdTA0MzBcdTA0MzFcdTA0NDBcdTA0NGMifV0sdGhpcy5zaG9ydFdlZWtEYXlzPVt7cHQ6IkRvbSIsZW46IlN1biIsZXM6IkRvbSIscnU6Ilx1MDQxMlx1MDQ0MSJ9LHtwdDoiU2VnIixlbjoiTW9uIixlczoiTHVuIixydToiXHUwNDFmXHUwNDNkIn0se3B0OiJUZXIiLGVuOiJUdWUiLGVzOiJNYXIiLHJ1OiJcdTA0MTJcdTA0NDIifSx7cHQ6IlF1YSIsZW46IldlZCIsZXM6Ik1pXHhlOSIscnU6Ilx1MDQyMVx1MDQ0MCJ9LHtwdDoiUXVpIixlbjoiVGh1IixlczoiSnVlIixydToiXHUwNDI3XHUwNDQyIn0se3B0OiJTZXgiLGVuOiJGcmkiLGVzOiJWaWUiLHJ1OiJcdTA0MWZcdTA0NDIifSx7cHQ6IlNceGUxYiIsZW46IlNhdCIsZXM6IlNceGUxYiIscnU6Ilx1MDQyMVx1MDQzMSJ9XSx0aGlzLm1vbnRoTGFiZWw9e3B0OiJNXHhlYXMiLGVuOiJNb250aCIsZXM6Ik1lcyIscnU6Ilx1MDQxY1x1MDQzNVx1MDQ0MVx1MDQ0Zlx1MDQ0NiJ9LHRoaXMueWVhckxhYmVsPXtwdDoiQW5vIixlbjoiWWVhciIsZXM6IkFceGYxbyIscnU6Ilx1MDQxM1x1MDQzZVx1MDQzNCJ9fWdldE1vbnRoKGUpe3JldHVybiB0aGlzLm1vbnRoc1tlXVt0aGlzLmxhbmd1YWdlXX1nZXRNb250aExhYmVsKCl7cmV0dXJuIHRoaXMubW9udGhMYWJlbFt0aGlzLmxhbmd1YWdlXX1nZXRNb250aHNBcnJheSgpe2NvbnN0IGU9QXJyYXkoKTtmb3IobGV0IHQ9MDt0PHRoaXMubW9udGhzLmxlbmd0aDt0KyspZS5wdXNoKHRoaXMubW9udGhzW3RdW3RoaXMubGFuZ3VhZ2VdKTtyZXR1cm4gZX1nZXRXZWVrRGF5cyhlKXtyZXR1cm4gdGhpcy5zaG9ydFdlZWtEYXlzW2VdW3RoaXMubGFuZ3VhZ2VdfWdldFdlZWtEYXlzQXJyYXkoKXtjb25zdCBlPUFycmF5KCk7Zm9yKGxldCB0PTA7dDx0aGlzLnNob3J0V2Vla0RheXMubGVuZ3RoO3QrKyllLnB1c2godGhpcy5zaG9ydFdlZWtEYXlzW3RdW3RoaXMubGFuZ3VhZ2VdLnRvTG93ZXJDYXNlKCkpO3JldHVybiBlfWdldFllYXJMYWJlbCgpe3JldHVybiB0aGlzLnllYXJMYWJlbFt0aGlzLmxhbmd1YWdlXX1zZXRMYW5ndWFnZShlKXtlJiZlLmxlbmd0aD49MiYmKGU9ZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsMiksdGhpcy5sYW5ndWFnZT1VRC5pbmNsdWRlcyhlKT9lOnFEKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1cHJvdj1oZSh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgZX0sdG9rZW46ZSxwcm92aWRlZEluOiJyb290In0pLGV9KSgpLEtTPSgoKT0+e2NsYXNzIGV7bW9udGhEYXRlcyhlLHQsbj1udWxsLGk9bnVsbCl7aWYoIm51bWJlciIhPXR5cGVvZiB0fHx0PDB8fHQ+MTEpdGhyb3cgRXJyb3IoIm1vbnRoIG11c3QgYmUgYSBudW1iZXIgKEphbiBpcyAwKSIpO2NvbnN0IHM9W107bGV0IG89W10scj0wLGE9bmV3IERhdGUoZSx0LDEpO2U+PTAmJmU8MTAwJiZhLnNldEZ1bGxZZWFyKGUpLGE9dGhpcy53ZWVrU3RhcnREYXRlKGEpO2Rve2ZvcihyPTA7cjw3O3IrKylvLnB1c2gobj9uKGEpOmEpLGE9bmV3IERhdGUoYS5nZXRUaW1lKCkpLGEuc2V0RGF0ZShhLmdldERhdGUoKSsxKTtzLnB1c2goaT9pKG8pOm8pLG89W119d2hpbGUoYS5nZXRNb250aCgpPD10JiZhLmdldEZ1bGxZZWFyKCk9PT1lKTtyZXR1cm4gc31tb250aERheXMoZSx0KXtyZXR1cm4gdGhpcy5tb250aERhdGVzKGUsdCxmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRNb250aCgpPT09dD9lOjB9KX13ZWVrU3RhcnREYXRlKGUpe2NvbnN0IHQ9bmV3IERhdGUoZS5nZXRUaW1lKCkpO2Zvcig7MCE9PXQuZ2V0RGF5KCk7KXQuc2V0RGF0ZSh0LmdldERhdGUoKS0xKTtyZXR1cm4gdH19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxmYWN0b3J5OmUuXHUwMjc1ZmFjfSksZX0pKCksWVM9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlLHQsbixpKXt0aGlzLnBvQ2FsZW5kYXJTZXJ2aWNlPWUsdGhpcy5wb0NhbGVuZGFyTGFuZ1NlcnZpY2U9dCx0aGlzLnBvRGF0ZT1uLHRoaXMubGFuZ3VhZ2VTZXJ2aWNlPWksdGhpcy5tb2RlPSJkYXkiLHRoaXMucmVzcG9uc2l2ZT0hMSx0aGlzLnJhbmdlPSExLHRoaXMuYWN0aXZhdGVEYXRlPW5ldyBEYXRlLHRoaXMuaGVhZGVyQ2hhbmdlPW5ldyBlYyx0aGlzLnNlbGVjdERhdGU9bmV3IGVjLHRoaXMuZGlzcGxheU1vbnRocz1BcnJheSgpLHRoaXMuZGlzcGxheVdlZWtEYXlzPUFycmF5KCksdGhpcy50b2RheT1uZXcgRGF0ZX1zZXQgbG9jYWxlKGUpe3RoaXMuX2xvY2FsZT1lLHRoaXMuaW5pdGlhbGl6ZUxhbmd1YWdlKCl9Z2V0IGxvY2FsZSgpe3JldHVybiB0aGlzLl9sb2NhbGV9Z2V0IG1vbnRoTGFiZWwoKXtyZXR1cm4gdGhpcy5wb0NhbGVuZGFyTGFuZ1NlcnZpY2UuZ2V0TW9udGhMYWJlbCgpfWdldCB5ZWFyTGFiZWwoKXtyZXR1cm4gdGhpcy5wb0NhbGVuZGFyTGFuZ1NlcnZpY2UuZ2V0WWVhckxhYmVsKCl9Z2V0IGlzRGF5VmlzaWJsZSgpe3JldHVybiJkYXkiPT09dGhpcy5tb2RlfWdldCBpc01vbnRoVmlzaWJsZSgpe3JldHVybiJtb250aCI9PT10aGlzLm1vZGV9Z2V0IGlzWWVhclZpc2libGUoKXtyZXR1cm4ieWVhciI9PT10aGlzLm1vZGV9Z2V0IGlzU3RhcnRQYXJ0KCl7cmV0dXJuInN0YXJ0Ij09PXRoaXMucGFydFR5cGV9Z2V0IGlzRW5kUGFydCgpe3JldHVybiJlbmQiPT09dGhpcy5wYXJ0VHlwZX1uZ09uSW5pdCgpe3RoaXMuaW5pdCgpfW5nT25DaGFuZ2VzKGUpe2NvbnN0e2FjdGl2YXRlRGF0ZTp0fT1lO3QmJnRoaXMudXBkYXRlRGF0ZSh0LmN1cnJlbnRWYWx1ZSl9Z2V0QmFja2dyb3VuZENvbG9yKGUsdCl7cmV0dXJuIGU9PT10PyJwby1jYWxlbmRhci1ib3gtYmFja2dyb3VuZC1zZWxlY3RlZCI6InBvLWNhbGVuZGFyLWJveC1iYWNrZ3JvdW5kIn1nZXREYXlCYWNrZ3JvdW5kQ29sb3IoZSl7cmV0dXJuIHRoaXMuZ2V0RGF5Q29sb3IoZSwiYmFja2dyb3VuZCIpfWdldERheUZvcmVncm91bmRDb2xvcihlKXtyZXR1cm4gdGhpcy5nZXREYXlDb2xvcihlLCJmb3JlZ3JvdW5kIil9Z2V0Rm9yZWdyb3VuZENvbG9yKGUsdCl7cmV0dXJuIGU9PT10PyJwby1jYWxlbmRhci1ib3gtZm9yZWdyb3VuZC1zZWxlY3RlZCI6InBvLWNhbGVuZGFyLWJveC1mb3JlZ3JvdW5kIn1vbk5leHRNb250aCgpe3RoaXMuZGlzcGxheU1vbnRoTnVtYmVyPDExP3RoaXMudXBkYXRlRGlzcGxheSh0aGlzLmRpc3BsYXlZZWFyLHRoaXMuZGlzcGxheU1vbnRoTnVtYmVyKzEpOnRoaXMudXBkYXRlRGlzcGxheSh0aGlzLmRpc3BsYXlZZWFyKzEsMCksdGhpcy5oZWFkZXJDaGFuZ2UuZW1pdCh7bW9udGg6dGhpcy5kaXNwbGF5TW9udGhOdW1iZXIseWVhcjp0aGlzLmRpc3BsYXlZZWFyfSl9b25QcmV2aW91c01vbnRoKCl7dGhpcy5kaXNwbGF5TW9udGhOdW1iZXI+MD90aGlzLnVwZGF0ZURpc3BsYXkodGhpcy5kaXNwbGF5WWVhcix0aGlzLmRpc3BsYXlNb250aE51bWJlci0xKTp0aGlzLnVwZGF0ZURpc3BsYXkodGhpcy5kaXNwbGF5WWVhci0xLDExKSx0aGlzLmhlYWRlckNoYW5nZS5lbWl0KHttb250aDp0aGlzLmRpc3BsYXlNb250aE51bWJlcix5ZWFyOnRoaXMuZGlzcGxheVllYXJ9KX1vblNlbGVjdERhdGUoZSl7dGhpcy5zZWxlY3REYXRlLmVtaXQoZSl9b25TZWxlY3RNb250aChlLHQpe3RoaXMuc2VsZWN0RGlzcGxheU1vZGUoImRheSIpLHRoaXMudXBkYXRlRGlzcGxheShlLHQpLHRoaXMuaGVhZGVyQ2hhbmdlLmVtaXQoe21vbnRoOnQseWVhcjplfSl9b25TZWxlY3RZZWFyKGUsdCl7dGhpcy5zZWxlY3REaXNwbGF5TW9kZSgibW9udGgiPT09dGhpcy5sYXN0RGlzcGxheT8ibW9udGgiOiJkYXkiKSx0aGlzLmN1cnJlbnRZZWFyPWUsdGhpcy51cGRhdGVEaXNwbGF5KGUsdCksdGhpcy5oZWFkZXJDaGFuZ2UuZW1pdCh7bW9udGg6dCx5ZWFyOmV9KX1zZWxlY3REaXNwbGF5TW9kZShlKXt0aGlzLmxhc3REaXNwbGF5PXRoaXMubW9kZSx0aGlzLm1vZGU9ZX11cGRhdGVZZWFyKGUpe3RoaXMudXBkYXRlRGlzcGxheSh0aGlzLmRpc3BsYXlZZWFyK2UsdGhpcy5kaXNwbGF5TW9udGhOdW1iZXIpfWFkZEFsbFllYXJzSW5EZWNhZGUoZSl7bGV0IHQ7Zm9yKHQ9ZTt0PGUrMTA7dCsrKXRoaXMuZGlzcGxheURlY2FkZS5wdXNoKHQpfWVxdWFsc0RhdGUoZSx0KXt0cnl7cmV0dXJuIGUuZ2V0RnVsbFllYXIoKT09PXQuZ2V0RnVsbFllYXIoKSYmZS5nZXRNb250aCgpPT09dC5nZXRNb250aCgpJiZlLmdldERhdGUoKT09PXQuZ2V0RGF0ZSgpfWNhdGNoKG4pe3JldHVybiExfX1nZXREZWNhZGVBcnJheShlKXtpZih0aGlzLmRpc3BsYXlEZWNhZGU9QXJyYXkoKSxlJTEwIT0wKWZvcig7ZSUxMCE9MDspZS0tO3RoaXMudXBkYXRlRGVjYWRlKGUpfWdldENvbG9yRm9yRGF0ZShlLHQpe3JldHVybiB0aGlzLnBvRGF0ZS52YWxpZGF0ZURhdGVSYW5nZShlLHRoaXMubWluRGF0ZSx0aGlzLm1heERhdGUpP2Bwby1jYWxlbmRhci1ib3gtJHt0fS1zZWxlY3RlZGA6YHBvLWNhbGVuZGFyLWJveC0ke3R9LXNlbGVjdGVkLWRpc2FibGVkYH1nZXRDb2xvckZvckRlZmF1bHREYXRlKGUsdCl7cmV0dXJuIHRoaXMucG9EYXRlLnZhbGlkYXRlRGF0ZVJhbmdlKGUsdGhpcy5taW5EYXRlLHRoaXMubWF4RGF0ZSk/YHBvLWNhbGVuZGFyLWJveC0ke3R9YDpgcG8tY2FsZW5kYXItYm94LSR7dH0tZGlzYWJsZWRgfWdldENvbG9yRm9yVG9kYXkoZSx0KXtyZXR1cm4gdGhpcy5wb0RhdGUudmFsaWRhdGVEYXRlUmFuZ2UoZSx0aGlzLm1pbkRhdGUsdGhpcy5tYXhEYXRlKT9gcG8tY2FsZW5kYXItYm94LSR7dH0tdG9kYXlgOmBwby1jYWxlbmRhci1ib3gtJHt0fS10b2RheS1kaXNhYmxlZGB9Z2V0Q29sb3JGb3JEYXRlUmFuZ2UoZSx0KXtyZXR1cm4gdGhpcy5wb0RhdGUudmFsaWRhdGVEYXRlUmFuZ2UoZSx0aGlzLm1pbkRhdGUsdGhpcy5tYXhEYXRlKT9gcG8tY2FsZW5kYXItYm94LSR7dH0taW4tcmFuZ2VgOmBwby1jYWxlbmRhci1ib3gtJHt0fS1pbi1yYW5nZS1kaXNhYmxlZGB9Z2V0RGF5Q29sb3IoZSx0KXt2YXIgbixpO2NvbnN0IHM9bnVsbD09PShuPXRoaXMuc2VsZWN0ZWRWYWx1ZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uc3RhcnQsbz1udWxsPT09KGk9dGhpcy5zZWxlY3RlZFZhbHVlKXx8dm9pZCAwPT09aT92b2lkIDA6aS5lbmQ7cmV0dXJuIHRoaXMucmFuZ2UmJih0aGlzLmVxdWFsc0RhdGUoZSxzKXx8dGhpcy5lcXVhbHNEYXRlKGUsbykpP3RoaXMuZ2V0Q29sb3JGb3JEYXRlKGUsdCk6dGhpcy5yYW5nZSYmcyYmbyYmZT5zJiZlPG8/dGhpcy5nZXRDb2xvckZvckRhdGVSYW5nZShlLHQpOiF0aGlzLnJhbmdlJiZ0aGlzLmVxdWFsc0RhdGUoZSx0aGlzLnZhbHVlKT90aGlzLmdldENvbG9yRm9yRGF0ZShlLHQpOnRoaXMuZXF1YWxzRGF0ZShlLHRoaXMudG9kYXkpP3RoaXMuZ2V0Q29sb3JGb3JUb2RheShlLHQpOnRoaXMuZ2V0Q29sb3JGb3JEZWZhdWx0RGF0ZShlLHQpfWluaXQoKXt0aGlzLnVwZGF0ZURhdGUodGhpcy5hY3RpdmF0ZURhdGUpLHRoaXMuaW5pdGlhbGl6ZUxhbmd1YWdlKCksdGhpcy5zZWxlY3REaXNwbGF5TW9kZSgiZGF5Iil9aW5pdGlhbGl6ZUxhbmd1YWdlKCl7dGhpcy5wb0NhbGVuZGFyTGFuZ1NlcnZpY2Uuc2V0TGFuZ3VhZ2UodGhpcy5sb2NhbGUpLHRoaXMuZGlzcGxheVdlZWtEYXlzPXRoaXMucG9DYWxlbmRhckxhbmdTZXJ2aWNlLmdldFdlZWtEYXlzQXJyYXkoKSx0aGlzLmRpc3BsYXlNb250aHM9dGhpcy5wb0NhbGVuZGFyTGFuZ1NlcnZpY2UuZ2V0TW9udGhzQXJyYXkoKSx0aGlzLmRpc3BsYXlNb250aD10aGlzLmRpc3BsYXlNb250aHNbdGhpcy5kaXNwbGF5TW9udGhOdW1iZXJdfXVwZGF0ZURhdGUoZT1uZXcgRGF0ZSl7Y29uc3QgdD1uZXcgRGF0ZShlKTt0aGlzLmN1cnJlbnRNb250aE51bWJlcj10LmdldE1vbnRoKCksdGhpcy5jdXJyZW50WWVhcj10LmdldEZ1bGxZZWFyKCksdGhpcy51cGRhdGVEaXNwbGF5KHRoaXMuY3VycmVudFllYXIsdGhpcy5jdXJyZW50TW9udGhOdW1iZXIpfXVwZGF0ZURlY2FkZShlKXt0aGlzLmFkZEFsbFllYXJzSW5EZWNhZGUoZSksdGhpcy5kaXNwbGF5U3RhcnREZWNhZGU9ZSx0aGlzLmRpc3BsYXlGaW5hbERlY2FkZT1lKzl9dXBkYXRlRGlzcGxheShlLHQpe2NvbnN0IG49dGhpcy5wb0NhbGVuZGFyU2VydmljZS5tb250aERheXMoZSx0KTt0aGlzLmRpc3BsYXlEYXlzPVtdLmNvbmNhdC5hcHBseShbXSxuKSx0aGlzLmRpc3BsYXlNb250aE51bWJlcj10LHRoaXMuZGlzcGxheU1vbnRoPXRoaXMuZGlzcGxheU1vbnRoc1t0XSx0aGlzLmRpc3BsYXlZZWFyPWUsdGhpcy5nZXREZWNhZGVBcnJheShlKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoS1MpLEFyKEdTKSxBcihCUyksQXIocFMpKX0sZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8tY2FsZW5kYXItd3JhcHBlciJdXSxpbnB1dHM6e21vZGU6WyJwLW1vZGUiLCJtb2RlIl0scmVzcG9uc2l2ZTpbInAtcmVzcG9uc2l2ZSIsInJlc3BvbnNpdmUiXSxyYW5nZTpbInAtcmFuZ2UiLCJyYW5nZSJdLGFjdGl2YXRlRGF0ZTpbInAtYWN0aXZhdGUtZGF0ZSIsImFjdGl2YXRlRGF0ZSJdLGxvY2FsZTpbInAtbG9jYWxlIiwibG9jYWxlIl0sdmFsdWU6WyJwLXZhbHVlIiwidmFsdWUiXSxwYXJ0VHlwZTpbInAtcGFydC10eXBlIiwicGFydFR5cGUiXSxzZWxlY3RlZFZhbHVlOlsicC1zZWxlY3RlZC12YWx1ZSIsInNlbGVjdGVkVmFsdWUiXSxtaW5EYXRlOlsicC1taW4tZGF0ZSIsIm1pbkRhdGUiXSxtYXhEYXRlOlsicC1tYXgtZGF0ZSIsIm1heERhdGUiXX0sb3V0cHV0czp7aGVhZGVyQ2hhbmdlOiJwLWhlYWRlci1jaGFuZ2UiLHNlbGVjdERhdGU6InAtc2VsZWN0LWRhdGUifSxmZWF0dXJlczpbTGEoW0tTXSksbHRdLGRlY2xzOjQsdmFyczozLGNvbnN0czpbWzEsInBvLWNhbGVuZGFyLXdyYXBwZXIiXSxbNCwibmdJZiJdLFszLCJwLWhpZGUtcHJldmlvdXMiLCJwLWhpZGUtbmV4dCIsInAtcHJldmlvdXMiLCJwLW5leHQiXSxbMSwicG8tY2xpY2thYmxlIiwicG8tbXItMSIsMywiY2xpY2siXSxbMSwicG8tY2xpY2thYmxlIiwzLCJjbGljayJdLFsxLCJwby1jYWxlbmRhci1jb250ZW50Il0sWzEsInBvLWNhbGVuZGFyLWxhYmVscyJdLFsiY2xhc3MiLCJwby1jYWxlbmRhci1sYWJlbCIsNCwibmdGb3IiLCJuZ0Zvck9mIl0sWzEsInBvLWNhbGVuZGFyLWNvbnRlbnQtbGlzdC1kYXkiXSxbImNsYXNzIiwicG8tY2FsZW5kYXItZGF5IiwiYXR0ci1jYWxlbmRhciIsIiIsMywibmdDbGFzcyIsImNsaWNrIiw0LCJuZ0ZvciIsIm5nRm9yT2YiXSxbMSwicG8tY2FsZW5kYXItbGFiZWwiXSxbImF0dHItY2FsZW5kYXIiLCIiLDEsInBvLWNhbGVuZGFyLWRheSIsMywibmdDbGFzcyIsImNsaWNrIl0sWzMsIm5nQ2xhc3MiLDQsIm5nSWYiXSxbMywibmdDbGFzcyJdLFszLCJwLXByZXZpb3VzIiwicC1uZXh0Il0sWzEsInBvLWNhbGVuZGFyLWNvbnRlbnQtbGlzdC1tb250aCJdLFsiY2xhc3MiLCJwby1jYWxlbmRhci1tb250aCIsImF0dHItY2FsZW5kYXIiLCIiLDMsIm5nQ2xhc3MiLCJjbGljayIsNCwibmdGb3IiLCJuZ0Zvck9mIl0sWyJhdHRyLWNhbGVuZGFyIiwiIiwxLCJwby1jYWxlbmRhci1tb250aCIsMywibmdDbGFzcyIsImNsaWNrIl0sWzEsInBvLWNhbGVuZGFyLWNvbnRlbnQtbGlzdC15ZWFyIl0sWyJjbGFzcyIsInBvLWNhbGVuZGFyLXllYXIiLCJhdHRyLWNhbGVuZGFyIiwiIiwzLCJuZ0NsYXNzIiwiY2xpY2siLDQsIm5nRm9yIiwibmdGb3JPZiJdLFsiYXR0ci1jYWxlbmRhciIsIiIsMSwicG8tY2FsZW5kYXIteWVhciIsMywibmdDbGFzcyIsImNsaWNrIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoRnIoMCwiZGl2IiwwKSxrcigxLGJ5LDExLDYsIm5nLWNvbnRhaW5lciIsMSksa3IoMixDeSwxMCwzLCJuZy1jb250YWluZXIiLDEpLGtyKDMsX3ksOSw0LCJuZy1jb250YWluZXIiLDEpLElyKCkpLDImZSYmKFpzKDEpLE9yKCJuZ0lmIix0LmlzRGF5VmlzaWJsZSksWnMoMSksT3IoIm5nSWYiLHQuaXNNb250aFZpc2libGUpLFpzKDEpLE9yKCJuZ0lmIix0LmlzWWVhclZpc2libGUpKX0sZGlyZWN0aXZlczpbRmgsV1MsT2gseGhdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLGV9KSgpLFpTPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe2ltcG9ydHM6W1tHaF1dfSksZX0pKCk7TWF0aCxNYXRoLE1hdGguZmxvb3IoMjUpO3ZhciBRUz1mdW5jdGlvbihlKXtyZXR1cm4gZS5Db2xvcjAxPSJjb2xvci0wMSIsZS5Db2xvcjAyPSJjb2xvci0wMiIsZS5Db2xvcjAzPSJjb2xvci0wMyIsZS5Db2xvcjA0PSJjb2xvci0wNCIsZS5Db2xvcjA1PSJjb2xvci0wNSIsZS5Db2xvcjA2PSJjb2xvci0wNiIsZS5Db2xvcjA3PSJjb2xvci0wNyIsZS5Db2xvcjA4PSJjb2xvci0wOCIsZS5Db2xvcjA5PSJjb2xvci0wOSIsZS5Db2xvcjEwPSJjb2xvci0xMCIsZS5Db2xvcjExPSJjb2xvci0xMSIsZS5Db2xvcjEyPSJjb2xvci0xMiIsZX0oe30pO09iamVjdC52YWx1ZXMoUVMpLE1hdGgsTWF0aC5mbG9vcigyNSksTWF0aCxNYXRoO2xldCBKUz0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtpbXBvcnRzOltbR2gsalNdXX0pLGV9KSgpLFhTPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLl9ub0JvcmRlcj0hMSx0aGlzLl9ub1BhZGRpbmc9ITEsdGhpcy5fbm9TaGFkb3c9ITF9c2V0IGhlaWdodChlKXt0aGlzLl9oZWlnaHQ9WkQoZSl9Z2V0IGhlaWdodCgpe3JldHVybiB0aGlzLl9oZWlnaHR9c2V0IG5vQm9yZGVyKGUpe3RoaXMuX25vQm9yZGVyPVlEKGUpfWdldCBub0JvcmRlcigpe3JldHVybiB0aGlzLl9ub0JvcmRlcn1zZXQgbm9QYWRkaW5nKGUpe3RoaXMuX25vUGFkZGluZz1ZRChlKX1nZXQgbm9QYWRkaW5nKCl7cmV0dXJuIHRoaXMuX25vUGFkZGluZ31zZXQgbm9TaGFkb3coZSl7dGhpcy5fbm9TaGFkb3c9WUQoZSl9Z2V0IG5vU2hhZG93KCl7cmV0dXJuIHRoaXMuX25vU2hhZG93fX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVkaXI9S2Uoe3R5cGU6ZSxpbnB1dHM6e2hlaWdodDpbInAtaGVpZ2h0IiwiaGVpZ2h0Il0sbm9Cb3JkZXI6WyJwLW5vLWJvcmRlciIsIm5vQm9yZGVyIl0sbm9QYWRkaW5nOlsicC1uby1wYWRkaW5nIiwibm9QYWRkaW5nIl0sbm9TaGFkb3c6WyJwLW5vLXNoYWRvdyIsIm5vU2hhZG93Il19fSksZX0pKCksZUU9KCgpPT57Y2xhc3MgZSBleHRlbmRzIFhTe31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24oKXtsZXQgdDtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKHR8fCh0PSRuKGUpKSkobnx8ZSl9fSgpLGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLWNvbnRhaW5lciJdXSxmZWF0dXJlczpbdXJdLG5nQ29udGVudFNlbGVjdG9yczpXYixkZWNsczoyLHZhcnM6OCxjb25zdHM6W1sxLCJwby1jb250YWluZXIiXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXsxJmUmJih6cigpLEZyKDAsImRpdiIsMCksV3IoMSksSXIoKSksMiZlJiYoWHIoImhlaWdodCIsdC5oZWlnaHQ/dC5oZWlnaHQrInB4IjoiYXV0byIpLGVhKCJwby1jb250YWluZXItbm8tYm9yZGVyIix0Lm5vQm9yZGVyKSgicG8tY29udGFpbmVyLW5vLXBhZGRpbmciLHQubm9QYWRkaW5nKSgicG8tY29udGFpbmVyLW5vLXNoYWRvdyIsdC5ub1NoYWRvdykpfSxlbmNhcHN1bGF0aW9uOjJ9KSxlfSkoKSx0RT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtpbXBvcnRzOltbR2hdXX0pLGV9KSgpO2NvbnN0IG5FPVsiZGVmYXVsdCIsImRhbmdlciJdO2xldCBpRT0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKCl7dGhpcy5jbG9zZUFjdGlvbj1uZXcgZWMsdGhpcy5zaG93RGlzY2xhaW1lcj0hMCx0aGlzLl90eXBlPSJkZWZhdWx0Iix0aGlzLl9oaWRlQ2xvc2U9ITF9c2V0IGhpZGVDbG9zZShlKXt0aGlzLl9oaWRlQ2xvc2U9IiI9PT1lfHxZRChlKX1nZXQgaGlkZUNsb3NlKCl7cmV0dXJuIHRoaXMuX2hpZGVDbG9zZX1zZXQgdHlwZShlKXt0aGlzLl90eXBlPW5FLmluY2x1ZGVzKGUpP2U6ImRlZmF1bHQifWdldCB0eXBlKCl7cmV0dXJuIHRoaXMuX3R5cGV9Y2xvc2UoKXt0aGlzLnNob3dEaXNjbGFpbWVyPSExLHRoaXMuY2xvc2VBY3Rpb24uZW1pdCh7dmFsdWU6dGhpcy52YWx1ZSxsYWJlbDp0aGlzLmxhYmVsLHByb3BlcnR5OnRoaXMucHJvcGVydHl9KX1nZXRMYWJlbCgpe3JldHVybiB0aGlzLmxhYmVsP3RoaXMubGFiZWw6dGhpcy52YWx1ZX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsaW5wdXRzOntoaWRlQ2xvc2U6WyJwLWhpZGUtY2xvc2UiLCJoaWRlQ2xvc2UiXSx0eXBlOlsicC10eXBlIiwidHlwZSJdLGxhYmVsOlsicC1sYWJlbCIsImxhYmVsIl0sdmFsdWU6WyJwLXZhbHVlIiwidmFsdWUiXSxwcm9wZXJ0eTpbInAtcHJvcGVydHkiLCJwcm9wZXJ0eSJdfSxvdXRwdXRzOntjbG9zZUFjdGlvbjoicC1jbG9zZS1hY3Rpb24ifX0pLGV9KSgpLHNFPSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBpRXtvbktleVByZXNzKGUpe25TKGUpJiZ0aGlzLmNsb3NlKCl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbigpe2xldCB0O3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4odHx8KHQ9JG4oZSkpKShufHxlKX19KCksZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8tZGlzY2xhaW1lciJdXSxmZWF0dXJlczpbdXJdLGRlY2xzOjEsdmFyczoxLGNvbnN0czpbWyJjbGFzcyIsInBvLWRpc2NsYWltZXIiLDQsIm5nSWYiXSxbMSwicG8tZGlzY2xhaW1lciJdLFsxLCJwby1kaXNjbGFpbWVyLWxhYmVsIl0sWyJjbGFzcyIsInBvLWRpc2NsYWltZXItcmVtb3ZlIHBvLWljb24gcG8taWNvbi1jbG9zZSBwby1jbGlja2FibGUiLCJ0YWJpbmRleCIsIjAiLDMsInBvLWRpc2NsYWltZXItcmVtb3ZlLWRhbmdlciIsImNsaWNrIiwia2V5ZG93biIsNCwibmdJZiJdLFsidGFiaW5kZXgiLCIwIiwxLCJwby1kaXNjbGFpbWVyLXJlbW92ZSIsInBvLWljb24iLCJwby1pY29uLWNsb3NlIiwicG8tY2xpY2thYmxlIiwzLCJjbGljayIsImtleWRvd24iXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXsxJmUmJmtyKDAsU3ksNCw0LCJkaXYiLDApLDImZSYmT3IoIm5nSWYiLCEwPT09dC5zaG93RGlzY2xhaW1lcil9LGRpcmVjdGl2ZXM6W0ZoXSxlbmNhcHN1bGF0aW9uOjJ9KSxlfSkoKSxvRT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtpbXBvcnRzOltbR2hdXX0pLGV9KSgpO2NvbnN0IHJFPXtlbjp7cmVtb3ZlQWxsOiJSZW1vdmUgYWxsIn0sZXM6e3JlbW92ZUFsbDoiRWxpbWluYXIgdG9kb3MifSxwdDp7cmVtb3ZlQWxsOiJSZW1vdmVyIHRvZG9zIn0scnU6e3JlbW92ZUFsbDoiXHUwNDIzXHUwNDM0XHUwNDMwXHUwNDNiXHUwNDM4XHUwNDQyXHUwNDRjIFx1MDQzMlx1MDQ0MVx1MDQzNSJ9fTtsZXQgYUU9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuY2hhbmdlPW5ldyBlYyx0aGlzLnJlbW92ZT1uZXcgZWMsdGhpcy5yZW1vdmVBbGw9bmV3IGVjLHRoaXMuX2Rpc2NsYWltZXJzPVtdLHRoaXMuX2hpZGVSZW1vdmVBbGw9ITEsdGhpcy5wcmV2aW91c0Rpc2NsYWltZXJzPVtdO2NvbnN0IG49dC5nZXRTaG9ydExhbmd1YWdlKCk7dGhpcy5kaWZmZXI9ZS5maW5kKFtdKS5jcmVhdGUobnVsbCksdGhpcy5saXRlcmFscz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sckUucHQpLHJFW25dKX1zZXQgZGlzY2xhaW1lcnMoZSl7dGhpcy5wcmV2aW91c0Rpc2NsYWltZXJzPVsuLi50aGlzLmRpc2NsYWltZXJzXSx0aGlzLl9kaXNjbGFpbWVycz10aGlzLmNoZWNrRGlzY2xhaW1lcnMoZSl9Z2V0IGRpc2NsYWltZXJzKCl7cmV0dXJuIHRoaXMuX2Rpc2NsYWltZXJzfXNldCBoaWRlUmVtb3ZlQWxsKGUpe3RoaXMuX2hpZGVSZW1vdmVBbGw9IiI9PT1lfHxZRChlKX1nZXQgaGlkZVJlbW92ZUFsbCgpe3JldHVybiB0aGlzLl9oaWRlUmVtb3ZlQWxsfW5nRG9DaGVjaygpe3RoaXMuY2hlY2tDaGFuZ2VzKCl9b25DbG9zZUFjdGlvbihlKXt0aGlzLnJlbW92ZURpc2NsYWltZXIoZSksdGhpcy5lbWl0Q2hhbmdlRGlzY2xhaW1lcnMoKSx0aGlzLnJlbW92ZS5lbWl0KHtyZW1vdmVkRGlzY2xhaW1lcjpPYmplY3QuYXNzaWduKHt9LGUpLGN1cnJlbnREaXNjbGFpbWVyczpbLi4udGhpcy5kaXNjbGFpbWVyc119KX1pc1JlbW92ZUFsbCgpe3JldHVybiF0aGlzLmhpZGVSZW1vdmVBbGwmJnRoaXMuZGlzY2xhaW1lcnMuZmlsdGVyKGU9PiFlLmhpZGVDbG9zZSkubGVuZ3RoPjF9b25LZXlQcmVzcyhlKXtuUyhlKSYmdGhpcy5yZW1vdmVBbGxJdGVtcygpfXJlbW92ZUFsbEl0ZW1zKCl7Y29uc3QgZT1bXTt0aGlzLmRpc2NsYWltZXJzLmZvckVhY2godD0+e3QuaGlkZUNsb3NlfHxlLnB1c2godCl9KSxlLmZvckVhY2goZT0+dGhpcy5yZW1vdmVEaXNjbGFpbWVyKGUpKSx0aGlzLmVtaXRDaGFuZ2VEaXNjbGFpbWVycygpLHRoaXMucmVtb3ZlQWxsLmVtaXQoWy4uLmVdKX1yZW1vdmVEaXNjbGFpbWVyKGUpe2NvbnN0IHQ9dGhpcy5kaXNjbGFpbWVycy5maW5kSW5kZXgodD0+dC4kaWQ9PT1lLiRpZCk7dGhpcy5kaXNjbGFpbWVycy5zcGxpY2UodCwxKX1jaGVja0NoYW5nZXMoKXt0aGlzLmRpZmZlciYmdGhpcy5kaWZmZXIuZGlmZih0aGlzLmRpc2NsYWltZXJzKSYmdGhpcy5kaXNjbGFpbWVyc0FyZUNoYW5nZWQodGhpcy5kaXNjbGFpbWVycykmJnRoaXMuZW1pdENoYW5nZURpc2NsYWltZXJzKCl9Y2hlY2tEaXNjbGFpbWVycyhlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbj1lW3RdO24udmFsdWV8fDA9PT1uLnZhbHVlfHwhMT09PW4udmFsdWU/bi4kaWQ9bFMoKTooZS5zcGxpY2UodCwxKSx0LS0pfXJldHVybiBlfXJldHVybltdfWRpc2NsYWltZXJzQXJlQ2hhbmdlZChlKXtyZXR1cm4gZS5sZW5ndGghPT10aGlzLnByZXZpb3VzRGlzY2xhaW1lcnMubGVuZ3RofHxlLnNvbWUoKGUsdCk9PmUudmFsdWUhPT10aGlzLnByZXZpb3VzRGlzY2xhaW1lcnNbdF0udmFsdWV8fGUucHJvcGVydHkhPT10aGlzLnByZXZpb3VzRGlzY2xhaW1lcnNbdF0ucHJvcGVydHkpfWVtaXRDaGFuZ2VEaXNjbGFpbWVycygpe3NldFRpbWVvdXQoKCk9Pnt0aGlzLmNoYW5nZS5lbWl0KHRoaXMuZGlzY2xhaW1lcnMpfSksdGhpcy5wcmV2aW91c0Rpc2NsYWltZXJzPVsuLi50aGlzLl9kaXNjbGFpbWVyc119fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKGxsKSxBcihwUykpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLGlucHV0czp7ZGlzY2xhaW1lcnM6WyJwLWRpc2NsYWltZXJzIiwiZGlzY2xhaW1lcnMiXSxoaWRlUmVtb3ZlQWxsOlsicC1oaWRlLXJlbW92ZS1hbGwiLCJoaWRlUmVtb3ZlQWxsIl0sdGl0bGU6WyJwLXRpdGxlIiwidGl0bGUiXX0sb3V0cHV0czp7Y2hhbmdlOiJwLWNoYW5nZSIscmVtb3ZlOiJwLXJlbW92ZSIscmVtb3ZlQWxsOiJwLXJlbW92ZS1hbGwifX0pLGV9KSgpLGxFPSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBhRXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKGxsKSxBcihwUykpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby1kaXNjbGFpbWVyLWdyb3VwIl1dLGZlYXR1cmVzOlt1cl0sZGVjbHM6MSx2YXJzOjEsY29uc3RzOltbImNsYXNzIiwicG8tZGlzY2xhaW1lci1ncm91cCIsNCwibmdJZiJdLFsxLCJwby1kaXNjbGFpbWVyLWdyb3VwIl0sWzEsInBvLWRpc2NsYWltZXItZ3JvdXAtdGl0bGUiXSxbImNsYXNzIiwicG8tZGlzY2xhaW1lci1ncm91cC1kaXNjbGFpbWVyLWFsaWduIiwzLCJwLWxhYmVsIiwia2V5ZG93biIsInAtcmVtb3ZlLWFsbC1hY3Rpb24iLDQsIm5nSWYiXSxbImNsYXNzIiwicG8tZGlzY2xhaW1lci1ncm91cC1kaXNjbGFpbWVyLWFsaWduIiwzLCJwLWhpZGUtY2xvc2UiLCJwLWxhYmVsIiwicC1wcm9wZXJ0eSIsInAtdmFsdWUiLCJwLWNsb3NlLWFjdGlvbiIsNCwibmdGb3IiLCJuZ0Zvck9mIl0sWzEsInBvLWRpc2NsYWltZXItZ3JvdXAtZGlzY2xhaW1lci1hbGlnbiIsMywicC1sYWJlbCIsImtleWRvd24iLCJwLXJlbW92ZS1hbGwtYWN0aW9uIl0sWzEsInBvLWRpc2NsYWltZXItZ3JvdXAtZGlzY2xhaW1lci1hbGlnbiIsMywicC1oaWRlLWNsb3NlIiwicC1sYWJlbCIsInAtcHJvcGVydHkiLCJwLXZhbHVlIiwicC1jbG9zZS1hY3Rpb24iXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXsxJmUmJmtyKDAseHksNSwzLCJkaXYiLDApLDImZSYmT3IoIm5nSWYiLHQuZGlzY2xhaW1lcnMubGVuZ3RoPjApfSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW0ZoLE9oLGNFLHNFXX0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCksY0U9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMucmVtb3ZlQWxsQWN0aW9uPW5ldyBlY31yZW1vdmVBY3Rpb24oKXt0aGlzLnJlbW92ZUFsbEFjdGlvbi5lbWl0KCl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby1kaXNjbGFpbWVyLXJlbW92ZSJdXSxpbnB1dHM6e2xhYmVsOlsicC1sYWJlbCIsImxhYmVsIl19LG91dHB1dHM6e3JlbW92ZUFsbEFjdGlvbjoicC1yZW1vdmUtYWxsLWFjdGlvbiJ9LGRlY2xzOjEsdmFyczoxLGNvbnN0czpbWyJ0YWJpbmRleCIsIjAiLCJwLWhpZGUtY2xvc2UiLCJ0cnVlIiwicC10eXBlIiwiZGFuZ2VyIiwxLCJwby1jbGlja2FibGUiLDMsInAtbGFiZWwiLCJjbGljayJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYmKEZyKDAsInBvLWRpc2NsYWltZXIiLDApLEJyKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gdC5yZW1vdmVBY3Rpb24oKX0pLElyKCkpLDImZSYmT3IoInAtbGFiZWwiLHQubGFiZWwpfSxkaXJlY3RpdmVzOltzRV0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCksdUU9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7aW1wb3J0czpbW0doLG9FXV19KSxlfSkoKSxoRT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVkaXI9S2Uoe3R5cGU6ZSxpbnB1dHM6e2xhYmVsOlsicC1sYWJlbCIsImxhYmVsIl19fSksZX0pKCksZEU9KCgpPT57Y2xhc3MgZSBleHRlbmRzIGhFe31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24oKXtsZXQgdDtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKHR8fCh0PSRuKGUpKSkobnx8ZSl9fSgpLGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLWRpdmlkZXIiXV0sZmVhdHVyZXM6W3VyXSxkZWNsczoyLHZhcnM6MSxjb25zdHM6W1sxLCJwby1kaXZpZGVyIl0sWyJjbGFzcyIsInBvLWRpdmlkZXItbGFiZWwiLDQsIm5nSWYiXSxbMSwicG8tZGl2aWRlci1sYWJlbCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYmKEZyKDAsImRpdiIsMCksa3IoMSxBeSwyLDEsImRpdiIsMSksSXIoKSksMiZlJiYoWnMoMSksT3IoIm5nSWYiLHQubGFiZWwpKX0sZGlyZWN0aXZlczpbRmhdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLGV9KSgpLHBFPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe2ltcG9ydHM6W1tHaF1dfSksZX0pKCk7Y29uc3QgZkU9ImJvdHRvbS1sZWZ0IjtsZXQgZ0U9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuYXJyb3dEaXJlY3Rpb249InRvcC1yaWdodCIsdGhpcy5zaG93UG9wdXA9ITEsdGhpcy5faGlkZUFycm93PSExLHRoaXMuX2lzQ29ybmVyQWxpZ249ITEsdGhpcy5fcG9zaXRpb249ZkV9c2V0IGFjdGlvbnMoZSl7dGhpcy5fYWN0aW9ucz1BcnJheS5pc0FycmF5KGUpP2U6W119Z2V0IGFjdGlvbnMoKXtyZXR1cm4gdGhpcy5fYWN0aW9uc31zZXQgaGlkZUFycm93KGUpe3RoaXMuX2hpZGVBcnJvdz1ZRChlKX1nZXQgaGlkZUFycm93KCl7cmV0dXJuIHRoaXMuX2hpZGVBcnJvd31zZXQgaXNDb3JuZXJBbGlnbihlKXt0aGlzLl9pc0Nvcm5lckFsaWduPVlEKGUpfWdldCBpc0Nvcm5lckFsaWduKCl7cmV0dXJuIHRoaXMuX2lzQ29ybmVyQWxpZ259c2V0IHBvc2l0aW9uKGUpe3RoaXMuX3Bvc2l0aW9uPUlTLmluY2x1ZGVzKGUpP2U6ZkV9Z2V0IHBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufXNldCBjdXN0b21Qb3NpdGlvbnMoZSl7dGhpcy5fY3VzdG9tUG9zaXRpb25zPUFycmF5LmlzQXJyYXkoZSk/ZTpbXX1nZXQgY3VzdG9tUG9zaXRpb25zKCl7cmV0dXJuIHRoaXMuX2N1c3RvbVBvc2l0aW9uc31zZXQgdGFyZ2V0KGUpe3RoaXMuX3RhcmdldD1lIGluc3RhbmNlb2YgVWE/ZS5uYXRpdmVFbGVtZW50OmV9Z2V0IHRhcmdldCgpe3JldHVybiB0aGlzLl90YXJnZXR9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLGlucHV0czp7YWN0aW9uczpbInAtYWN0aW9ucyIsImFjdGlvbnMiXSxoaWRlQXJyb3c6WyJwLWhpZGUtYXJyb3ciLCJoaWRlQXJyb3ciXSxpc0Nvcm5lckFsaWduOlsicC1pcy1jb3JuZXItYWxpZ24iLCJpc0Nvcm5lckFsaWduIl0scG9zaXRpb246WyJwLXBvc2l0aW9uIiwicG9zaXRpb24iXSxjdXN0b21Qb3NpdGlvbnM6WyJwLWN1c3RvbS1wb3NpdGlvbnMiLCJjdXN0b21Qb3NpdGlvbnMiXSx0YXJnZXQ6WyJwLXRhcmdldCIsInRhcmdldCJdfX0pLGV9KSgpLG1FPSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBnRXtjb25zdHJ1Y3RvcihlLHQsbixpLHMpe3N1cGVyKCksdGhpcy5yZW5kZXJlcj10LHRoaXMucm91dGVyPW4sdGhpcy5wb0NvbnRyb2xQb3NpdGlvbj1pLHRoaXMuY2hhbmdlRGV0ZWN0b3I9cyx0aGlzLm9uU2Nyb2xsPSh7dGFyZ2V0OmV9KT0+e3RoaXMuc2hvd1BvcHVwJiYicG8tcG9wdXAtY29udGFpbmVyIiE9PWUuY2xhc3NOYW1lJiZ0aGlzLmNsb3NlKCl9fWNsb3NlKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcnMoKSx0aGlzLnNob3dQb3B1cD0hMX1vbkFjdGlvbkNsaWNrKGUpe2NvbnN0IHQ9ZSYmIXRoaXMucmV0dXJuQm9vbGVhblZhbHVlKGUsImRpc2FibGVkIik7aWYoZSYmZS5hY3Rpb24mJnQmJih0aGlzLmNsb3NlKCksZS5hY3Rpb24odGhpcy5wYXJhbXx8ZSkpLGUmJmUudXJsJiZ0KXJldHVybiB0aGlzLmNsb3NlKCksdGhpcy5vcGVuVXJsKGUudXJsKX1vcGVuKGUpe3RoaXMub2xkVGFyZ2V0PXRoaXMudGFyZ2V0LHRoaXMucGFyYW09ZSx0aGlzLnNob3dQb3B1cD0hMCx0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKSx0aGlzLnZhbGlkYXRlSW5pdGlhbENvbnRlbnQoKX1yZXR1cm5Cb29sZWFuVmFsdWUoZSx0KXtyZXR1cm4gUUQoZVt0XSwiZnVuY3Rpb24iKT9lW3RdKHRoaXMucGFyYW18fGUpOmVbdF19dG9nZ2xlKGUpe3RoaXMuc2hvd1BvcHVwJiZ0aGlzLm9sZFRhcmdldD09PXRoaXMudGFyZ2V0P3RoaXMuY2xvc2UoKTp0aGlzLm9wZW4oZSl9Y2xpY2tlZE91dERpc2FibGVkSXRlbShlKXtyZXR1cm4hKHRoaXMuZWxlbWVudENvbnRhaW5zKGUudGFyZ2V0LCJwby1wb3B1cC1pdGVtLWRpc2FibGVkIil8fHRoaXMuZWxlbWVudENvbnRhaW5zKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQsInBvLXBvcHVwLWl0ZW0tZGlzYWJsZWQiKSl9Y2xpY2tlZE91dEhlYWRlclRlbXBsYXRlKGUpe2NvbnN0IHQ9dGhpcy5wb3B1cFJlZiYmdGhpcy5wb3B1cFJlZi5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIltwLXBvcHVwLWhlYWRlci10ZW1wbGF0ZV0iKTtyZXR1cm4hKHQmJnQuY29udGFpbnMoZS50YXJnZXQpKX1jbGlja2VkT3V0VGFyZ2V0KGUpe3JldHVybiB0aGlzLnRhcmdldCYmIXRoaXMudGFyZ2V0LmNvbnRhaW5zKGUudGFyZ2V0KX1jbG9zZVBvcHVwT25DbGlja291dChlKXt0aGlzLmNsaWNrZWRPdXRUYXJnZXQoZSkmJnRoaXMuY2xpY2tlZE91dERpc2FibGVkSXRlbShlKSYmdGhpcy5jbGlja2VkT3V0SGVhZGVyVGVtcGxhdGUoZSkmJnRoaXMuY2xvc2UoKX1lbGVtZW50Q29udGFpbnMoZSx0KXtyZXR1cm4gZSYmZS5jbGFzc0xpc3QuY29udGFpbnModCl9aGFzQ29udGVudFRvU2hvdygpe3JldHVybiEoIXRoaXMucG9wdXBSZWYubmF0aXZlRWxlbWVudHx8IXRoaXMucG9wdXBSZWYubmF0aXZlRWxlbWVudC5jbGllbnRIZWlnaHQpfWluaXRpYWxpemVMaXN0ZW5lcnMoKXt0aGlzLnJlc2l6ZUxpc3RlbmVyPXRoaXMucmVuZGVyZXIubGlzdGVuKCJ3aW5kb3ciLCJyZXNpemUiLCgpPT57dGhpcy5jbG9zZSgpfSksdGhpcy5jbGlja291dExpc3RlbmVyPXRoaXMucmVuZGVyZXIubGlzdGVuKCJkb2N1bWVudCIsImNsaWNrIixlPT57dGhpcy5jbG9zZVBvcHVwT25DbGlja291dChlKX0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLHRoaXMub25TY3JvbGwsITApfW9wZW5VcmwoZSl7cmV0dXJuIGFTKGUpP2Z1bmN0aW9uKGUpe3dpbmRvdy5vcGVuKGUsIl9ibGFuayIpfShlKTplP3RoaXMucm91dGVyLm5hdmlnYXRlKFtlXSk6dm9pZCAwfXJlbW92ZUxpc3RlbmVycygpe3RoaXMuY2xpY2tvdXRMaXN0ZW5lciYmdGhpcy5jbGlja291dExpc3RlbmVyKCksdGhpcy5yZXNpemVMaXN0ZW5lciYmdGhpcy5yZXNpemVMaXN0ZW5lcigpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLHRoaXMub25TY3JvbGwsITApfXNldFBvc2l0aW9uKCl7dGhpcy5wb0NvbnRyb2xQb3NpdGlvbi5zZXRFbGVtZW50cyh0aGlzLnBvcHVwUmVmLm5hdGl2ZUVsZW1lbnQsOCx0aGlzLnRhcmdldCx0aGlzLmN1c3RvbVBvc2l0aW9ucywhMSx0aGlzLmlzQ29ybmVyQWxpZ24pLHRoaXMucG9Db250cm9sUG9zaXRpb24uYWRqdXN0UG9zaXRpb24odGhpcy5wb3NpdGlvbiksdGhpcy5hcnJvd0RpcmVjdGlvbj10aGlzLnBvQ29udHJvbFBvc2l0aW9uLmdldEFycm93RGlyZWN0aW9uKCl9dmFsaWRhdGVJbml0aWFsQ29udGVudCgpe3RoaXMuaGFzQ29udGVudFRvU2hvdygpPyh0aGlzLnNldFBvc2l0aW9uKCksdGhpcy5pbml0aWFsaXplTGlzdGVuZXJzKCkpOnRoaXMuY2xvc2UoKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoeGwpLEFyKFdhKSxBcihPbSksQXIoVlMpLEFyKGdsKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLXBvcHVwIl1dLHZpZXdRdWVyeTpmdW5jdGlvbihlLHQpe2lmKDEmZSYmcGMoT3ksNSxVYSksMiZlKXtsZXQgZTtkYyhlPWdjKCkpJiYodC5wb3B1cFJlZj1lLmZpcnN0KX19LGZlYXR1cmVzOltMYShbVlNdKSx1cl0sbmdDb250ZW50U2VsZWN0b3JzOkx5LGRlY2xzOjEsdmFyczoxLGNvbnN0czpbWyJjbGFzcyIsInBvLXBvcHVwIiw0LCJuZ0lmIl0sWzEsInBvLXBvcHVwIl0sWyJwb3B1cFJlZiIsIiJdLFszLCJjbGFzcyIsNCwibmdJZiJdLFsxLCJwby1wb3B1cC1jb250YWluZXIiXSxbNCwibmdGb3IiLCJuZ0Zvck9mIl0sWzMsInBvLXBvcHVwLWl0ZW0tZGVmYXVsdCIsInBvLXBvcHVwLWl0ZW0tZGFuZ2VyIiwicG8tcG9wdXAtaXRlbS1kaXNhYmxlZCIsInBvLXBvcHVwLWl0ZW0tc2VwYXJhdG9yIiwicG8tcG9wdXAtaXRlbS1zZWxlY3RlZCIsImNsaWNrIiw0LCJuZ0lmIl0sWzMsImNsaWNrIl0sWyJjbGFzcyIsInBvLXBvcHVwLWljb24taXRlbSBwby1pY29uIiwzLCJwLWljb24iLDQsIm5nSWYiXSxbMSwicG8tcG9wdXAtaWNvbi1pdGVtIiwicG8taWNvbiIsMywicC1pY29uIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoenIoVnkpLGtyKDAsUHksNiwyLCJkaXYiLDApKSwyJmUmJk9yKCJuZ0lmIix0LnNob3dQb3B1cCl9LGRpcmVjdGl2ZXM6W0ZoLE9oLGdTXSxlbmNhcHN1bGF0aW9uOjJ9KSxlfSkoKSx2RT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtwcm92aWRlcnM6W10saW1wb3J0czpbW0doLG1TXV19KSxlfSkoKSxiRT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtpbXBvcnRzOltbR2gsdkVdXX0pLGV9KSgpLHlFPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLmVycm9yUGF0dGVybj0iIn19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLWZpZWxkLWNvbnRhaW5lci1ib3R0b20iXV0saW5wdXRzOntlcnJvclBhdHRlcm46WyJwLWVycm9yLXBhdHRlcm4iLCJlcnJvclBhdHRlcm4iXX0sZGVjbHM6Mix2YXJzOjEsY29uc3RzOltbMSwicG8tZmllbGQtY29udGFpbmVyLWJvdHRvbSJdLFsiY2xhc3MiLCJwby1maWVsZC1jb250YWluZXItYm90dG9tLXRleHQtZXJyb3IiLDQsIm5nSWYiXSxbMSwicG8tZmllbGQtY29udGFpbmVyLWJvdHRvbS10ZXh0LWVycm9yIl0sWzEsInBvLWljb24iLCJwby1pY29uLXdhcm5pbmciLCJwby1maWVsZC1jb250YWluZXItaWNvbi1lcnJvciJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYmKEZyKDAsImRpdiIsMCksa3IoMSxSeSwzLDEsInNwYW4iLDEpLElyKCkpLDImZSYmKFpzKDEpLE9yKCJuZ0lmIix0LmVycm9yUGF0dGVybikpfSxkaXJlY3RpdmVzOltGaF0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksZX0pKCk7Y29uc3QgQ0U9e2VuOntvcHRpb25hbDoiKE9wdGlvbmFsKSJ9LGVzOntvcHRpb25hbDoiKE9wY2lvbmFsKSJ9LHB0OntvcHRpb25hbDoiKE9wY2lvbmFsKSJ9LHJ1OntvcHRpb25hbDoiKFx1MDQxZlx1MDQzZVx1MDQzNlx1MDQzNVx1MDQzYlx1MDQzMFx1MDQzZFx1MDQzOFx1MDQ0ZSkifX07bGV0IHdFPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSl7dGhpcy5fb3B0aW9uYWw9ITE7Y29uc3QgdD1lLmdldFNob3J0TGFuZ3VhZ2UoKTt0aGlzLmxpdGVyYWxzPU9iamVjdC5hc3NpZ24oe30sQ0VbdF0pfXNldCBvcHRpb25hbChlKXt0aGlzLl9vcHRpb25hbD1ZRChlKX1nZXQgb3B0aW9uYWwoKXtyZXR1cm4gdGhpcy5fb3B0aW9uYWx9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKHBTKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLWZpZWxkLWNvbnRhaW5lciJdXSxpbnB1dHM6e29wdGlvbmFsOlsicC1vcHRpb25hbCIsIm9wdGlvbmFsIl0sbGFiZWw6WyJwLWxhYmVsIiwibGFiZWwiXSxoZWxwOlsicC1oZWxwIiwiaGVscCJdfSxuZ0NvbnRlbnRTZWxlY3RvcnM6V2IsZGVjbHM6Nyx2YXJzOjMsY29uc3RzOltbMSwicG8tZmllbGQtY29udGFpbmVyIl0sWzEsInBvLWZpZWxkLWNvbnRhaW5lci10aXRsZSJdLFsxLCJwby1maWVsZC10aXRsZSJdLFsiY2xhc3MiLCJwby1maWVsZC1vcHRpb25hbCIsNCwibmdJZiJdLFsiY2xhc3MiLCJwby1maWVsZC1oZWxwIiw0LCJuZ0lmIl0sWzEsInBvLWZpZWxkLW9wdGlvbmFsIl0sWzEsInBvLWZpZWxkLWhlbHAiXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXsxJmUmJih6cigpLEZyKDAsImRpdiIsMCksRnIoMSwiZGl2IiwxKSxGcigyLCJzcGFuIiwyKSxwYSgzKSxJcigpLGtyKDQsanksMiwxLCJzcGFuIiwzKSxJcigpLGtyKDUsTnksMiwxLCJkaXYiLDQpLFdyKDYpLElyKCkpLDImZSYmKFpzKDMpLGZhKHQubGFiZWwpLFpzKDEpLE9yKCJuZ0lmIix0Lm9wdGlvbmFsJiYodC5sYWJlbHx8dC5oZWxwKSksWnMoMSksT3IoIm5nSWYiLHQuaGVscCkpfSxkaXJlY3RpdmVzOltGaF0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksZX0pKCksX0U9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7aW1wb3J0czpbW0doXV19KSxlfSkoKTtmdW5jdGlvbiBERShlLHQsbil7cmV0dXJuIGUmJiF0JiYhKCJzdHJpbmciPT10eXBlb2YgbiYmbnx8Im9iamVjdCI9PXR5cGVvZiBuJiZuJiZuLmxlbmd0aHx8Im51bWJlciI9PXR5cGVvZiBuJiYobnx8MD09PW4pfHwiYm9vbGVhbiI9PXR5cGVvZiBuJiZuKX1mdW5jdGlvbiBTRShlLHQpe2NvbnN0IG49ZXx8MD09PWUsaT0odHx8MD09PXQpJiZ0LnRvU3RyaW5nKCk7cmV0dXJuIG4mJmkmJmkubGVuZ3RoPk51bWJlcihlKX1mdW5jdGlvbiBFRShlLHQpe2NvbnN0IG49ZXx8MD09PWUsaT0odHx8MD09PXQpJiZ0LnRvU3RyaW5nKCk7cmV0dXJuIG4mJmkmJmkubGVuZ3RoPE51bWJlcihlKX1mdW5jdGlvbiBrRShlLHQpe3JldHVybih0fHwwPT09dCkmJihlfHwwPT09ZSkmJnQ8ZX1mdW5jdGlvbiB4RShlLHQpe3JldHVybih0fHwwPT09dCkmJihlfHwwPT09ZSkmJnQ+ZX1sZXQgQUU9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuYXV0b0ZvY3VzPSExLHRoaXMubmdNb2RlbENoYW5nZT1uZXcgZWMsdGhpcy5jaGFuZ2U9bmV3IGVjLHRoaXMuY2hlY2tlZE9wdGlvbnM9e30sdGhpcy5jaGVja2VkT3B0aW9uc0xpc3Q9W10sdGhpcy5tZENvbHVtbnM9Nix0aGlzLl9jb2x1bW5zPTYsdGhpcy5fZGlzYWJsZWQ9ITEsdGhpcy5faW5kZXRlcm1pbmF0ZT0hMSx0aGlzLl9yZXF1aXJlZD0hMX1zZXQgY29sdW1ucyhlKXtjb25zdCB0PVpEKGUsNik7dGhpcy5fY29sdW1ucz10aGlzLmdldEdyaWRTeXN0ZW1Db2x1bW5zKHQsNCksdGhpcy5tZENvbHVtbnM9dGhpcy5nZXRHcmlkU3lzdGVtQ29sdW1ucyh0LDIpfWdldCBjb2x1bW5zKCl7cmV0dXJuIHRoaXMuX2NvbHVtbnN9c2V0IGRpc2FibGVkKGUpe3RoaXMuX2Rpc2FibGVkPVlEKGUpLHRoaXMudmFsaWRhdGVNb2RlbCh0aGlzLmNoZWNrSW5kZXRlcm1pbmF0ZSgpKX1nZXQgZGlzYWJsZWQoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZWR9c2V0IGluZGV0ZXJtaW5hdGUoZSl7dGhpcy5faW5kZXRlcm1pbmF0ZT1ZRChlKX1nZXQgaW5kZXRlcm1pbmF0ZSgpe3JldHVybiB0aGlzLl9pbmRldGVybWluYXRlfXNldCBvcHRpb25zKGUpe3RoaXMuX29wdGlvbnM9QXJyYXkuaXNBcnJheShlKT9lOltdLHRoaXMucmVtb3ZlRHVwbGljYXRlZE9wdGlvbnMoKSx0aGlzLnNldENoZWNrYm94R3JvdXBPcHRpb25zVmlldyh0aGlzLm9wdGlvbnMpfWdldCBvcHRpb25zKCl7cmV0dXJuIHRoaXMuX29wdGlvbnN9c2V0IHJlcXVpcmVkKGUpe3RoaXMuX3JlcXVpcmVkPVlEKGUpLHRoaXMudmFsaWRhdGVNb2RlbCh0aGlzLmNoZWNrSW5kZXRlcm1pbmF0ZSgpKX1nZXQgcmVxdWlyZWQoKXtyZXR1cm4gdGhpcy5fcmVxdWlyZWR9Y2hhbmdlVmFsdWUoKXtjb25zdCBlPXRoaXMuY2hlY2tJbmRldGVybWluYXRlKCk7dGhpcy5wcm9wYWdhdGVDaGFuZ2U/dGhpcy5wcm9wYWdhdGVDaGFuZ2UoZSk6dGhpcy5uZ01vZGVsQ2hhbmdlLmVtaXQoZSksdGhpcy5jaGFuZ2UuZW1pdChlKX1jaGVja0luZGV0ZXJtaW5hdGUoKXtyZXR1cm4gdGhpcy5pbmRldGVybWluYXRlP3RoaXMuY2hlY2tlZE9wdGlvbnM6dGhpcy5jaGVja2VkT3B0aW9uc0xpc3R9Y2hlY2tPcHRpb24oZSl7dGhpcy5fZGlzYWJsZWR8fGUuZGlzYWJsZWR8fCh0aGlzLmNoZWNrT3B0aW9uTW9kZWwoZSksdGhpcy5jaGFuZ2VWYWx1ZSgpKX1zZXREaXNhYmxlZFN0YXRlKGUpe3RoaXMuZGlzYWJsZWQ9ZX1yZWdpc3Rlck9uQ2hhbmdlKGUpe3RoaXMucHJvcGFnYXRlQ2hhbmdlPWV9cmVnaXN0ZXJPblRvdWNoZWQoZSl7fXdyaXRlVmFsdWUoZSl7ZSYmdGhpcy5jaGVja2VkT3B0aW9ucyE9PWU/dGhpcy5nZW5lcmF0ZUNoZWNrT3B0aW9ucyhlKToodGhpcy5jaGVja2VkT3B0aW9uc0xpc3Q9W10sdGhpcy5jaGVja2VkT3B0aW9ucz17fSl9cmVnaXN0ZXJPblZhbGlkYXRvckNoYW5nZShlKXt0aGlzLnZhbGlkYXRvckNoYW5nZT1lfXZhbGlkYXRlKGUpe2lmKCF0aGlzLmluZGV0ZXJtaW5hdGUmJkRFKHRoaXMucmVxdWlyZWQsdGhpcy5kaXNhYmxlZCxlLnZhbHVlKXx8dGhpcy5pc0ludmFsaWRJbmRldGVybWluYXRlKCkpcmV0dXJue3JlcXVpcmVkOnt2YWxpZDohMX19fXZhbGlkYXRlTW9kZWwoZSl7dGhpcy52YWxpZGF0b3JDaGFuZ2UmJnRoaXMudmFsaWRhdG9yQ2hhbmdlKGUpfWNoZWNrQ29sdW1uc1JhbmdlKGUsdCl7cmV0dXJuIGU+PTEmJmU8PXR9Y2hlY2tPcHRpb25Nb2RlbChlKXt0aGlzLmNoZWNrZWRPcHRpb25zW2UudmFsdWVdPSF0aGlzLmNoZWNrZWRPcHRpb25zW2UudmFsdWVdLCF0aGlzLmluZGV0ZXJtaW5hdGUmJnRoaXMuY2hlY2tlZE9wdGlvbnNMaXN0LmluY2x1ZGVzKGUudmFsdWUpP3RoaXMuY2hlY2tlZE9wdGlvbnNMaXN0LnNwbGljZSh0aGlzLmNoZWNrZWRPcHRpb25zTGlzdC5pbmRleE9mKGUudmFsdWUpLDEpOnRoaXMuaW5kZXRlcm1pbmF0ZXx8dGhpcy5jaGVja2VkT3B0aW9uc0xpc3QucHVzaChlLnZhbHVlKX1nZW5lcmF0ZUNoZWNrT3B0aW9ucyhlKXt0aGlzLmNoZWNrZWRPcHRpb25zPXt9LGUgaW5zdGFuY2VvZiBBcnJheT8odGhpcy5jaGVja2VkT3B0aW9uc0xpc3Q9ZSx0aGlzLm9wdGlvbnMuZm9yRWFjaCh0PT57dGhpcy5jaGVja2VkT3B0aW9uc1t0LnZhbHVlXT1lLmluY2x1ZGVzKHQudmFsdWUpfSkpOnRoaXMub3B0aW9ucy5mb3JFYWNoKHQ9PntlW3QudmFsdWVdPXZvaWQgMCE9PWVbdC52YWx1ZV0mJmVbdC52YWx1ZV0sdGhpcy5jaGVja2VkT3B0aW9ucz1lfSl9Z2V0R3JpZFN5c3RlbUNvbHVtbnMoZSx0KXtjb25zdCBuPTEyL2U7cmV0dXJuIHRoaXMuY2hlY2tDb2x1bW5zUmFuZ2UoZSx0KT9uOjZ9aXNJbnZhbGlkSW5kZXRlcm1pbmF0ZSgpe3JldHVybiEhKHRoaXMuaW5kZXRlcm1pbmF0ZSYmdGhpcy5yZXF1aXJlZCYmdGhpcy5jaGVja2VkT3B0aW9ucykmJk9iamVjdC52YWx1ZXModGhpcy5jaGVja2VkT3B0aW9ucykuZXZlcnkoZT0+ITE9PT1lKX1yZW1vdmVEdXBsaWNhdGVkT3B0aW9ucygpe3RoaXMub3B0aW9ucy5mb3JFYWNoKChlLHQpPT57dGhpcy5vcHRpb25zLmZpbmRJbmRleCh0PT50LnZhbHVlPT09ZS52YWx1ZSk9PT10fHx0aGlzLm9wdGlvbnMuc3BsaWNlKHRoaXMub3B0aW9ucy5pbmRleE9mKGUpLDEpfSl9c2V0Q2hlY2tib3hHcm91cE9wdGlvbnNWaWV3KGUpe3RoaXMuY2hlY2tib3hHcm91cE9wdGlvbnNWaWV3PWUubWFwKGU9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7aWQ6bFMoKX0pKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsaW5wdXRzOnthdXRvRm9jdXM6WyJwLWF1dG8tZm9jdXMiLCJhdXRvRm9jdXMiXSxjb2x1bW5zOlsicC1jb2x1bW5zIiwiY29sdW1ucyJdLGRpc2FibGVkOlsicC1kaXNhYmxlZCIsImRpc2FibGVkIl0saW5kZXRlcm1pbmF0ZTpbInAtaW5kZXRlcm1pbmF0ZSIsImluZGV0ZXJtaW5hdGUiXSxvcHRpb25zOlsicC1vcHRpb25zIiwib3B0aW9ucyJdLHJlcXVpcmVkOlsicC1yZXF1aXJlZCIsInJlcXVpcmVkIl0sbmFtZToibmFtZSIsaGVscDpbInAtaGVscCIsImhlbHAiXSxsYWJlbDpbInAtbGFiZWwiLCJsYWJlbCJdLG9wdGlvbmFsOlsicC1vcHRpb25hbCIsIm9wdGlvbmFsIl19LG91dHB1dHM6e25nTW9kZWxDaGFuZ2U6Im5nTW9kZWxDaGFuZ2UiLGNoYW5nZToicC1jaGFuZ2UifX0pLE92KFt4UygpXSxlLnByb3RvdHlwZSwiYXV0b0ZvY3VzIix2b2lkIDApLGV9KSgpLE9FPSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBBRXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuY2hhbmdlRGV0ZWN0b3I9ZX1uZ0FmdGVyVmlld0NoZWNrZWQoKXt0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKX1uZ0FmdGVyVmlld0luaXQoKXt0aGlzLmF1dG9Gb2N1cyYmdGhpcy5mb2N1cygpfWZvY3VzKCl7aWYodGhpcy5jaGVja2JveExhYmVscyYmIXRoaXMuZGlzYWJsZWQpe2NvbnN0IGU9dGhpcy5jaGVja2JveExhYmVscy5maW5kKChlLHQpPT4hdGhpcy5vcHRpb25zW3RdLmRpc2FibGVkKTtlJiZlLm5hdGl2ZUVsZW1lbnQuZm9jdXMoKX19b25LZXlEb3duKGUsdCl7MzIhPT1lLndoaWNoJiYzMiE9PWUua2V5Q29kZXx8KHRoaXMuY2hlY2tPcHRpb24odCksZS5wcmV2ZW50RGVmYXVsdCgpKX10cmFja0J5Rm4oZSl7cmV0dXJuIGV9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKGdsKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLWNoZWNrYm94LWdyb3VwIl1dLHZpZXdRdWVyeTpmdW5jdGlvbihlLHQpe2lmKDEmZSYmcGMoQnksNSksMiZlKXtsZXQgZTtkYyhlPWdjKCkpJiYodC5jaGVja2JveExhYmVscz1lKX19LGZlYXR1cmVzOltMYShbe3Byb3ZpZGU6UHYsdXNlRXhpc3Rpbmc6c2UoKCk9PmUpLG11bHRpOiEwfSx7cHJvdmlkZTpqdix1c2VFeGlzdGluZzpzZSgoKT0+ZSksbXVsdGk6ITB9XSksdXJdLGRlY2xzOjUsdmFyczo1LGNvbnN0czpbWzMsInAtaGVscCIsInAtbGFiZWwiLCJwLW9wdGlvbmFsIl0sWzEsInBvLWZpZWxkLWNvbnRhaW5lci1jb250ZW50IiwicG8tY2hlY2tib3gtZ3JvdXAtY29udGVudCJdLFsxLCJwby1yb3ciLCJwby1wdC0xIiwicG8tcGItMSJdLFszLCJjbGFzcyIsInBvLWNoZWNrYm94LWdyb3VwLWl0ZW0tZGlzYWJsZWQiLDQsIm5nRm9yIiwibmdGb3JPZiIsIm5nRm9yVHJhY2tCeSJdLFsidHlwZSIsImNoZWNrYm94IiwxLCJwby1pbnB1dCIsInBvLWNoZWNrYm94LWdyb3VwLWlucHV0IiwzLCJjaGVja2VkIiwiZGlzYWJsZWQiLCJpZCIsInJlcXVpcmVkIiwidmFsdWUiXSxbMSwicG8tY2hlY2tib3gtZ3JvdXAtbGFiZWwiLDMsImZvciIsInRhYmluZGV4IiwiY2xpY2siLCJrZXlkb3duIl0sWyJjaGVja2JveExhYmVsIiwiIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoRnIoMCwicG8tZmllbGQtY29udGFpbmVyIiwwKSxGcigxLCJkaXYiLDEpLEZyKDIsImRpdiIsMiksa3IoMywkeSw1LDIwLCJkaXYiLDMpLElyKCksSXIoKSxNcig0LCJwby1maWVsZC1jb250YWluZXItYm90dG9tIiksSXIoKSksMiZlJiYoT3IoInAtaGVscCIsdC5oZWxwKSgicC1sYWJlbCIsdC5sYWJlbCkoInAtb3B0aW9uYWwiLCF0LnJlcXVpcmVkJiZ0Lm9wdGlvbmFsKSxacygzKSxPcigibmdGb3JPZiIsdC5jaGVja2JveEdyb3VwT3B0aW9uc1ZpZXcpKCJuZ0ZvclRyYWNrQnkiLHQudHJhY2tCeUZuKSl9LGRpcmVjdGl2ZXM6W3dFLE9oLHlFXSxlbmNhcHN1bGF0aW9uOjIsY2hhbmdlRGV0ZWN0aW9uOjB9KSxlfSkoKSxURT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtpbXBvcnRzOltbR2gsVmIsX0VdXX0pLGV9KSgpLEZFPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLmRlZmF1bHRWYWx1ZT0iIix0aGlzLmNoYW5nZUV2ZW50PW5ldyBlY31jbGVhcigpe3RoaXMuc2V0SW5wdXRWYWx1ZSh0aGlzLmRlZmF1bHRWYWx1ZSksdGhpcy5jaGFuZ2VFdmVudC5lbWl0KHRoaXMuZGVmYXVsdFZhbHVlKX1zaG93SWNvbigpe3JldHVybiB0aGlzLmRlZmF1bHRWYWx1ZSE9PXRoaXMuZ2V0SW5wdXRWYWx1ZSgpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVkaXI9S2Uoe3R5cGU6ZSxpbnB1dHM6e2RlZmF1bHRWYWx1ZTpbInAtZGVmYXVsdC12YWx1ZSIsImRlZmF1bHRWYWx1ZSJdLGlucHV0UmVmOlsicC1lbGVtZW50LXJlZiIsImlucHV0UmVmIl19LG91dHB1dHM6e2NoYW5nZUV2ZW50OiJwLWNoYW5nZS1ldmVudCJ9fSksZX0pKCksSUU9KCgpPT57Y2xhc3MgZSBleHRlbmRzIEZFe3NldElucHV0VmFsdWUoZSl7dGhpcy5pbnB1dFJlZiYmdGhpcy5pbnB1dFJlZi5uYXRpdmVFbGVtZW50JiYodGhpcy5pbnB1dFJlZi5uYXRpdmVFbGVtZW50LnZhbHVlPWUpfWdldElucHV0VmFsdWUoKXtpZih0aGlzLmlucHV0UmVmJiZ0aGlzLmlucHV0UmVmLm5hdGl2ZUVsZW1lbnQpcmV0dXJuIHRoaXMuaW5wdXRSZWYubmF0aXZlRWxlbWVudC52YWx1ZX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKCl7bGV0IHQ7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybih0fHwodD0kbihlKSkpKG58fGUpfX0oKSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby1jbGVhbiJdXSxmZWF0dXJlczpbdXJdLGRlY2xzOjEsdmFyczoxLGNvbnN0czpbWyJjbGFzcyIsInBvLWljb24gcG8tZmllbGQtaWNvbiBwby1pY29uLWNsb3NlIiwzLCJjbGljayIsNCwibmdJZiJdLFsxLCJwby1pY29uIiwicG8tZmllbGQtaWNvbiIsInBvLWljb24tY2xvc2UiLDMsImNsaWNrIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiZrcigwLEh5LDEsMCwic3BhbiIsMCksMiZlJiZPcigibmdJZiIsdC5zaG93SWNvbigpKX0sZGlyZWN0aXZlczpbRmhdLGVuY2Fwc3VsYXRpb246Mn0pLGV9KSgpLE1FPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe2ltcG9ydHM6W1tHaF1dfSksZX0pKCk7Y2xhc3MgUEV7Y29uc3RydWN0b3IoZSx0KXt0aGlzLm1hc2s9IiIsdGhpcy5mb3JtYXRNb2RlbD0hMSx0aGlzLmluaXRpYWxQb3NpdGlvbj0wLHRoaXMuZmluYWxQb3NpdGlvbj0wLHRoaXMucGF0dGVybj0iIix0aGlzLm1hc2s9ZSx0aGlzLmZvcm1hdE1vZGVsPXQsdGhpcy5wYXR0ZXJuPXRoaXMuZ2V0UmVnZXhGcm9tTWFzayhlKX1nZXQgZ2V0UGF0dGVybigpe3JldHVybiB0aGlzLnBhdHRlcm59Z2V0IGdldFZhbHVlVG9JbnB1dCgpe3JldHVybiB0aGlzLnZhbHVlVG9JbnB1dH1zZXQgc2V0VmFsdWVUb0lucHV0KGUpe3RoaXMudmFsdWVUb0lucHV0PWV9Z2V0IGdldFZhbHVlVG9Nb2RlbCgpe3JldHVybiB0aGlzLnZhbHVlVG9Nb2RlbH1zZXQgc2V0VmFsdWVUb01vZGVsKGUpe3RoaXMudmFsdWVUb01vZGVsPWV9a2V5dXAoZSl7aWYodGhpcy5tYXNrKXtjb25zdCB0PWUudGFyZ2V0LnZhbHVlO3N3aXRjaCgxNyE9PWUua2V5Q29kZSYmOTEhPT1lLmtleUNvZGV8fChlLnRhcmdldC52YWx1ZT10aGlzLmNvbnRyb2xGb3JtYXR0aW5nKHQpLHRoaXMucmVzZXRQb3NpdGlvbnMoZSkpLGUucHJldmVudERlZmF1bHQoKSxlLmtleUNvZGUpe2Nhc2UgMzc6dGhpcy5pbml0aWFsUG9zaXRpb24+MCYmdGhpcy5pbml0aWFsUG9zaXRpb24tLSx0aGlzLnNldFBvc2l0aW9uTm90U2hpZnRLZXkoZSksdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShlKTticmVhaztjYXNlIDM5OnRoaXMuaW5pdGlhbFBvc2l0aW9uPHQudG9TdHJpbmcoKS5sZW5ndGgmJnRoaXMuaW5pdGlhbFBvc2l0aW9uKyssdGhpcy5zZXRQb3NpdGlvbk5vdFNoaWZ0S2V5KGUpLHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2UoZSk7YnJlYWs7Y2FzZSAzNTp0aGlzLmZpbmFsUG9zaXRpb249dC50b1N0cmluZygpLmxlbmd0aCxlLnNoaWZ0S2V5fHwodGhpcy5pbml0aWFsUG9zaXRpb249dGhpcy5maW5hbFBvc2l0aW9uKSx0aGlzLnNldFBvc2l0aW9ucyhlKTticmVhaztjYXNlIDM2OmUuc2hpZnRLZXk/KHRoaXMuZmluYWxQb3NpdGlvbj10aGlzLmluaXRpYWxQb3NpdGlvbix0aGlzLmluaXRpYWxQb3NpdGlvbj0wLHRoaXMuc2V0UG9zaXRpb25zKGUpKToodGhpcy5pbml0aWFsUG9zaXRpb249MCx0aGlzLmZpbmFsUG9zaXRpb249MCx0aGlzLnNldFBvc2l0aW9ucyhlKSl9fX1zZXRQb3NpdGlvbk5vdFNoaWZ0S2V5KGUpe2Uuc2hpZnRLZXl8fCh0aGlzLmZpbmFsUG9zaXRpb249dGhpcy5pbml0aWFsUG9zaXRpb24pfXNldFNlbGVjdGlvblJhbmdlKGUpe3RoaXMuaW5pdGlhbFBvc2l0aW9uPnRoaXMuZmluYWxQb3NpdGlvbj9lLnRhcmdldC5zZXRTZWxlY3Rpb25SYW5nZSh0aGlzLmZpbmFsUG9zaXRpb24sdGhpcy5pbml0aWFsUG9zaXRpb24pOmUudGFyZ2V0LnNldFNlbGVjdGlvblJhbmdlKHRoaXMuaW5pdGlhbFBvc2l0aW9uLHRoaXMuZmluYWxQb3NpdGlvbil9a2V5ZG93bihlKXtpZih0aGlzLm1hc2spe2xldCB0PWUudGFyZ2V0LnZhbHVlO2lmKDk9PT1lLmtleUNvZGUpcmV0dXJuO2lmKGUuY3RybEtleXx8ZS5tZXRhS2V5fHxlLnByZXZlbnREZWZhdWx0KCksZS5jdHJsS2V5fHxlLm1ldGFLZXkmJjg2IT09ZS5rZXlDb2RlfHxlLmtleUNvZGU+PTM3JiZlLmtleUNvZGU8PTQwfHwxNj09PWUua2V5Q29kZXx8OT09PWUua2V5Q29kZSlyZXR1cm47aWYodGhpcy5pc0tleVZhbGlkKGUua2V5Q29kZSkpc3dpdGNoKG51bGw9PT10aGlzLmZpbmFsUG9zaXRpb24mJih0aGlzLmZpbmFsUG9zaXRpb249dGhpcy5pbml0aWFsUG9zaXRpb24pLHRoaXMucmV2ZXJ0UG9zaXRpb25zKHRoaXMuaW5pdGlhbFBvc2l0aW9uLHRoaXMuZmluYWxQb3NpdGlvbiksZS5rZXlDb2RlKXtjYXNlIDg6dGhpcy5nZXRQb3NpdGlvbihlKSx0aGlzLmluaXRpYWxQb3NpdGlvbjwwJiYodGhpcy5pbml0aWFsUG9zaXRpb249MCx0aGlzLnNldFBvc2l0aW9ucyhlKSksdGhpcy5pbml0aWFsUG9zaXRpb249PT10aGlzLmZpbmFsUG9zaXRpb24/KHRoaXMuY2hlY2tNYXNrQmVmb3JlKGUsLTEpLDAhPT10aGlzLmluaXRpYWxQb3NpdGlvbiYmKHQ9dC5zbGljZSgwLHRoaXMuaW5pdGlhbFBvc2l0aW9uLTEpK3Quc2xpY2UodGhpcy5maW5hbFBvc2l0aW9uKSx0PXRoaXMuY29udHJvbEZvcm1hdHRpbmcodCksZS50YXJnZXQudmFsdWU9dCx0aGlzLmNoYW5nZVBvc2l0aW9uKGUsLTEpLHRoaXMuY2hlY2tNYXNrQmVmb3JlKGUsLTEpLHRoaXMuc2V0UG9zaXRpb25zKGUpLHRoaXMucmVzZXRQb3NpdGlvbnMoZSkpKTp0aGlzLmNsZWFyUmFuZ2VTZWxlY3Rpb24odCxlLCEwKSx0aGlzLnNldFBvc2l0aW9ucyhlKTticmVhaztjYXNlIDQ2OnRoaXMuZ2V0UG9zaXRpb24oZSksdGhpcy5pbml0aWFsUG9zaXRpb249PT10aGlzLmZpbmFsUG9zaXRpb24/KHRoaXMuY2hlY2tNYXNrQWZ0ZXIoZSwxKSx0PXQuc2xpY2UoMCx0aGlzLmluaXRpYWxQb3NpdGlvbikrdC5zbGljZSh0aGlzLmZpbmFsUG9zaXRpb24rMSksdD10aGlzLmNvbnRyb2xGb3JtYXR0aW5nKHQpLGUudGFyZ2V0LnZhbHVlPXQsdGhpcy5zZXRQb3NpdGlvbnMoZSksdGhpcy5yZXNldFBvc2l0aW9ucyhlKSk6dGhpcy5jbGVhclJhbmdlU2VsZWN0aW9uKHQsZSwhMSksdGhpcy5zZXRQb3NpdGlvbnMoZSk7YnJlYWs7ZGVmYXVsdDp0aGlzLmdldFBvc2l0aW9uKGUpLHQ9dC5zbGljZSgwLHRoaXMuaW5pdGlhbFBvc2l0aW9uKStlLmtleSt0LnNsaWNlKHRoaXMuZmluYWxQb3NpdGlvbiksdD10aGlzLmNvbnRyb2xGb3JtYXR0aW5nKHQpLGUudGFyZ2V0LnZhbHVlPXQsdGhpcy5jaGFuZ2VQb3NpdGlvbihlLDEpLHRoaXMuY2hlY2tNYXNrQmVmb3JlKGUsMSksdGhpcy5zZXRQb3NpdGlvbnMoZSksdGhpcy5yZXNldFBvc2l0aW9ucyhlKSx0aGlzLnNldFBvc2l0aW9ucyhlKX19fWNsZWFyUmFuZ2VTZWxlY3Rpb24oZSx0LG4pe2U9ZS5zbGljZSgwLHRoaXMuaW5pdGlhbFBvc2l0aW9uKStlLnNsaWNlKHRoaXMuZmluYWxQb3NpdGlvbiksZT10aGlzLmNvbnRyb2xGb3JtYXR0aW5nKGUpLHQudGFyZ2V0LnZhbHVlPWUsbiYmdGhpcy5jaGVja01hc2tCZWZvcmUodCwtMSksdGhpcy5zZXRQb3NpdGlvbnModCksdGhpcy5yZXNldFBvc2l0aW9ucyh0KX1jbGljayhlKXt0aGlzLmluaXRpYWxQb3NpdGlvbj1lLnRhcmdldC5zZWxlY3Rpb25TdGFydCx0aGlzLmZpbmFsUG9zaXRpb249ZS50YXJnZXQuc2VsZWN0aW9uRW5kfWJsdXIoZSl7aWYodGhpcy5tYXNrKXtsZXQgdD1lLnRhcmdldC52YWx1ZTt0PXRoaXMuY29udHJvbEZvcm1hdHRpbmcodCksZS50YXJnZXQudmFsdWU9dH19cmV2ZXJ0UG9zaXRpb25zKGUsdCl7aWYoZT50KXtjb25zdCBuPWU7dGhpcy5pbml0aWFsUG9zaXRpb249dCx0aGlzLmZpbmFsUG9zaXRpb249bn19cmVzZXRQb3NpdGlvbnMoZSl7dGhpcy5pbml0aWFsUG9zaXRpb249ZS50YXJnZXQuc2VsZWN0aW9uU3RhcnQsdGhpcy5maW5hbFBvc2l0aW9uPXRoaXMuaW5pdGlhbFBvc2l0aW9ufXNldFBvc2l0aW9ucyhlKXtlLnRhcmdldC5zZXRTZWxlY3Rpb25SYW5nZSh0aGlzLmluaXRpYWxQb3NpdGlvbix0aGlzLmZpbmFsUG9zaXRpb24pfWNoYW5nZVBvc2l0aW9uKGUsdCl7dGhpcy5pbml0aWFsUG9zaXRpb249dGhpcy5pbml0aWFsUG9zaXRpb24rdCx0aGlzLmZpbmFsUG9zaXRpb249dGhpcy5maW5hbFBvc2l0aW9uK3QsdGhpcy5zZXRQb3NpdGlvbnMoZSl9Z2V0UG9zaXRpb24oZSl7dGhpcy5pbml0aWFsUG9zaXRpb249ZS50YXJnZXQuc2VsZWN0aW9uU3RhcnQsdGhpcy5maW5hbFBvc2l0aW9uPWUudGFyZ2V0LnNlbGVjdGlvbkVuZCx0aGlzLnNldFBvc2l0aW9ucyhlKX1jb250cm9sRm9ybWF0dGluZyhlKXtpZighZSlyZXR1cm4gdGhpcy52YWx1ZVRvSW5wdXQ9IiIsdGhpcy52YWx1ZVRvTW9kZWw9IiIsIiI7bGV0IHQsbj10aGlzLm1hc2s7Y29uc3QgaT1bXTtsZXQgcz0wO2Zvcig7dGhpcy5oYXNPcHRpb25hbE51bWJlcihuKTspaS5wdXNoKG4pLG49dGhpcy5yZXBsYWNlT3B0aW9uYWxOdW1iZXIobik7Zm9yKGkucHVzaChuKSxpLnJldmVyc2UoKSx0aGlzLmZvcm1hdHRpbmdFbmRzPSExOyF0aGlzLmZvcm1hdHRpbmdFbmRzJiYodGhpcy5mb3JtYXR0aW5nRW5kcz0hMCxpW3NdKTspdD10aGlzLmZvcm1hdFZhbHVlKGUsaVtzXSkscysrO3JldHVybiB0fWZvcm1hdFZhbHVlKGUsdCl7Y29uc3Qgbj0odD10LnJlcGxhY2UoL1w/L2csIiIpKS5yZXBsYWNlKHRoaXMubGlzdFZhbGlkS2V5cygpLCJfIik7bGV0IGk9MCxzPSIiO2U9dGhpcy5yZW1vdmVGb3JtYXR0aW5nVmFsdWUoZSk7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspe2NvbnN0IHI9ZVtvXTtpZighbltpXSl7dGhpcy5mb3JtYXR0aW5nRW5kcz0hMTticmVha31mb3IoO3RoaXMuaXNGaXhlZENoYXJhY3Rlckd1aWRlKG5baV0pJiZuW2ldOylzKz1uW2ldLGkrKztpZighdGhpcy5pc0tleVZhbGlkTWFzayhyLHRbaV0pKWJyZWFrO3MrPXIsaSsrfXJldHVybiB0aGlzLmZvcm1hdE1vZGVsPyh0aGlzLnZhbHVlVG9JbnB1dD1zLHRoaXMudmFsdWVUb01vZGVsPXMpOih0aGlzLnZhbHVlVG9JbnB1dD1zLHRoaXMudmFsdWVUb01vZGVsPXRoaXMucmVtb3ZlRm9ybWF0dGluZ1ZhbHVlKHMpKSxzfWNoZWNrTWFza0JlZm9yZShlLHQpe3RoaXMuaXNGaXhlZENoYXJhY3Rlckd1aWRlKGUudGFyZ2V0LnZhbHVlLnRvU3RyaW5nKCkuY2hhckF0KHRoaXMuaW5pdGlhbFBvc2l0aW9uLTEpKSYmKHRoaXMuY2hhbmdlUG9zaXRpb24oZSx0KSx0aGlzLmNoZWNrTWFza0JlZm9yZShlLHQpKX1jaGVja01hc2tBZnRlcihlLHQpe3RoaXMuaXNGaXhlZENoYXJhY3Rlckd1aWRlKGUudGFyZ2V0LnZhbHVlLnRvU3RyaW5nKCkuY2hhckF0KHRoaXMuaW5pdGlhbFBvc2l0aW9uKSkmJih0aGlzLmNoYW5nZVBvc2l0aW9uKGUsdCksdGhpcy5jaGVja01hc2tBZnRlcihlLHQpKX1yZXBsYWNlT3B0aW9uYWxOdW1iZXIoZSl7bGV0IHQ9OTtmb3IoO3Q+PTA7KXtpZihlLmluZGV4T2YodCsiPyIpPi0xKXJldHVybiBlLnJlcGxhY2UodCsiPyIsIiIpO3QtLX1yZXR1cm4gZX1pc0ZpeGVkQ2hhcmFjdGVyR3VpZGUoZSl7cmV0dXJuIHRoaXMudGVzdFJlZ2V4KGUsdGhpcy5nZXRGaXhlZENoYXJhY3Rlckd1aWRlKCkpfWdldEZpeGVkQ2hhcmFjdGVyR3VpZGUoKXtyZXR1cm4vW1xcXC8oKSArLS5cOl0vZ31saXN0VmFsaWRLZXlzKCl7cmV0dXJuL1thLXpBLVowLTldL2d9aXNLZXlWYWxpZChlKXtyZXR1cm4gdGhpcy5pc0tleUNvZGVWYWxpZChlKX1pc0tleUNvZGVWYWxpZChlKXtyZXR1cm4gZT49NDgmJmU8PTU3fHxlPj02NSYmZTw9OTB8fGU+PTk2JiZlPD0xMDV8fDg9PT1lfHw5PT09ZXx8NDY9PT1lfWlzS2V5VmFsaWRNYXNrKGUsdCl7cmV0dXJuIHRoaXMudGVzdFJlZ2V4KGUsdGhpcy5yZXBsYWNlTWFzayh0KSl9dGVzdFJlZ2V4KGUsdCl7cmV0dXJuIHQudGVzdChlKX1yZW1vdmVGb3JtYXR0aW5nVmFsdWUoZSl7cmV0dXJuIGUucmVwbGFjZSh0aGlzLmdldEZpeGVkQ2hhcmFjdGVyR3VpZGUoKSwiIil9aGFzT3B0aW9uYWxOdW1iZXIoZSl7cmV0dXJuIGUubWF0Y2goL1xkXD8vZyl9cmVwbGFjZU1hc2soZSl7bGV0IHQ9Ly4vO3N3aXRjaChlKXtjYXNlIjAiOnQ9L1swXS87YnJlYWs7Y2FzZSIxIjp0PS9bMC0xXS87YnJlYWs7Y2FzZSIyIjp0PS9bMC0yXS87YnJlYWs7Y2FzZSIzIjp0PS9bMC0zXS87YnJlYWs7Y2FzZSI0Ijp0PS9bMC00XS87YnJlYWs7Y2FzZSI1Ijp0PS9bMC01XS87YnJlYWs7Y2FzZSI2Ijp0PS9bMC02XS87YnJlYWs7Y2FzZSI3Ijp0PS9bMC03XS87YnJlYWs7Y2FzZSI4Ijp0PS9bMC04XS87YnJlYWs7Y2FzZSI5Ijp0PS9bMC05XS87YnJlYWs7Y2FzZSIgIjp0PS9ccy87YnJlYWs7Y2FzZSJAIjp0PS9bYS16QS1aXS87YnJlYWs7Y2FzZSJ3Ijp0PS9bYS16QS1aMC05XS99cmV0dXJuIHR9Z2V0UmVnZXhGcm9tTWFzayhlKXtpZihlKXtsZXQgdDtyZXR1cm4gdGhpcy5mb3JtYXRNb2RlbD8odD1lLnJlcGxhY2UoL1xcL2csIlxcXFwiKSx0PXQucmVwbGFjZSgvXCsvZywiXFwrIiksdD10LnJlcGxhY2UoL1wuL2csIlxcLiIpLHQ9dC5yZXBsYWNlKC8tL2csIi0iKSx0PXQucmVwbGFjZSgvXCgvZywiXFwoIiksdD10LnJlcGxhY2UoL1wpL2csIlxcKSIpLHQ9dC5yZXBsYWNlKC9cLy9nLCJcXC8iKSx0PXQucmVwbGFjZSgvXHMvZywiXFxzIiksdD10LnJlcGxhY2UoLzovZywiXFw6IiksdD10LnJlcGxhY2UoL1xAKD8hXHMpL2csIlxcdyIpLHQ9dC5yZXBsYWNlKC9cZC9nLCJcXHciKSk6KHQ9ZS5yZXBsYWNlKC9cXC9nLCIiKSx0PXQucmVwbGFjZSgvXCsvZywiIiksdD10LnJlcGxhY2UoL1wuL2csIiIpLHQ9dC5yZXBsYWNlKC8tL2csIiIpLHQ9dC5yZXBsYWNlKC9cKC9nLCIiKSx0PXQucmVwbGFjZSgvXCkvZywiIiksdD10LnJlcGxhY2UoL1wvL2csIiIpLHQ9dC5yZXBsYWNlKC9ccy9nLCIiKSx0PXQucmVwbGFjZSgvOi9nLCIiKSx0PXQucmVwbGFjZSgvXEAvZywiXFx3IiksdD10LnJlcGxhY2UoL1xkL2csIlxcdyIpKSx0fXJldHVybiBudWxsfX12YXIgVkU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuQmFzaWM9ImJhc2ljIixlLkV4dGVuZGVkPSJleHRlbmRlZCIsZX0oe30pO2NvbnN0IExFPSJkZC9tbS95eXl5IjtsZXQgUkU9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmxhbmd1YWdlU2VydmljZT1lLHRoaXMuYXV0b0ZvY3VzPSExLHRoaXMuZXJyb3JQYXR0ZXJuPSIiLHRoaXMub25ibHVyPW5ldyBlYyx0aGlzLm9uY2hhbmdlPW5ldyBlYyx0aGlzLmZpcnN0U3RhcnQ9ITAsdGhpcy5ob3VyPSJUMDA6MDA6MDEtMDA6MDAiLHRoaXMuaXNFeHRlbmRlZElTTz0hMSx0aGlzLm9uQ2hhbmdlTW9kZWw9bnVsbCx0aGlzLm9uVG91Y2hlZE1vZGVsPW51bGwsdGhpcy5fZm9ybWF0PUxFLHRoaXMuX25vQXV0b2NvbXBsZXRlPSExLHRoaXMuX3BsYWNlaG9sZGVyPSIiLHRoaXMuZGlzYWJsZWQ9ITEsdGhpcy5yZWFkb25seT0hMSx0aGlzLnJlcXVpcmVkPSExLHRoaXMuY2xlYW49ITEsdGhpcy5zaG9ydExhbmd1YWdlPXRoaXMubGFuZ3VhZ2VTZXJ2aWNlLmdldFNob3J0TGFuZ3VhZ2UoKX1zZXQgbm9BdXRvY29tcGxldGUoZSl7dGhpcy5fbm9BdXRvY29tcGxldGU9WUQoZSl9Z2V0IG5vQXV0b2NvbXBsZXRlKCl7cmV0dXJuIHRoaXMuX25vQXV0b2NvbXBsZXRlfXNldCBwbGFjZWhvbGRlcihlKXt0aGlzLl9wbGFjZWhvbGRlcj1RRChlLCJzdHJpbmciKT9lOiIifWdldCBwbGFjZWhvbGRlcigpe3JldHVybiB0aGlzLl9wbGFjZWhvbGRlcn1zZXQgc2V0RGlzYWJsZWQoZSl7dGhpcy5kaXNhYmxlZD0iIj09PWV8fFlEKGUpLHRoaXMudmFsaWRhdGVNb2RlbChYRCh0aGlzLmRhdGUsdGhpcy5ob3VyKSl9c2V0IHNldFJlYWRvbmx5KGUpe3RoaXMucmVhZG9ubHk9IiI9PT1lfHxZRChlKX1zZXQgc2V0UmVxdWlyZWQoZSl7dGhpcy5yZXF1aXJlZD0iIj09PWV8fFlEKGUpLHRoaXMudmFsaWRhdGVNb2RlbChYRCh0aGlzLmRhdGUsdGhpcy5ob3VyKSl9c2V0IHNldENsZWFuKGUpe3RoaXMuY2xlYW49IiI9PT1lfHxZRChlKX1zZXQgbWluRGF0ZShlKXtpZihlIGluc3RhbmNlb2YgRGF0ZSl7Y29uc3QgdD1lLmdldEZ1bGxZZWFyKCksbj1uZXcgRGF0ZSh0LGUuZ2V0TW9udGgoKSxlLmdldERhdGUoKSwwLDAsMCk7aVMobix0KSx0aGlzLl9taW5EYXRlPW59ZWxzZSB0aGlzLl9taW5EYXRlPUpEKGUsITAsITEpO3RoaXMudmFsaWRhdGVNb2RlbChYRCh0aGlzLmRhdGUsdGhpcy5ob3VyKSl9Z2V0IG1pbkRhdGUoKXtyZXR1cm4gdGhpcy5fbWluRGF0ZX1zZXQgbWF4RGF0ZShlKXtpZihlIGluc3RhbmNlb2YgRGF0ZSl7Y29uc3QgdD1lLmdldEZ1bGxZZWFyKCksbj1uZXcgRGF0ZSh0LGUuZ2V0TW9udGgoKSxlLmdldERhdGUoKSwyMyw1OSw1OSk7aVMobix0KSx0aGlzLl9tYXhEYXRlPW59ZWxzZSB0aGlzLl9tYXhEYXRlPUpEKGUsITEsITApO3RoaXMudmFsaWRhdGVNb2RlbChYRCh0aGlzLmRhdGUsdGhpcy5ob3VyKSl9Z2V0IG1heERhdGUoKXtyZXR1cm4gdGhpcy5fbWF4RGF0ZX1zZXQgZm9ybWF0KGUpe2lmKGUmJihlPWUudG9Mb3dlckNhc2UoKSkubWF0Y2goL2RkLykmJmUubWF0Y2goL21tLykmJmUubWF0Y2goL3l5eXkvKSlyZXR1cm4gdGhpcy5fZm9ybWF0PWUsdGhpcy5vYmpNYXNrPXRoaXMuYnVpbGRNYXNrKCksdm9pZCB0aGlzLnJlZnJlc2hWYWx1ZSh0aGlzLmRhdGUpO3RoaXMuX2Zvcm1hdD1MRSx0aGlzLm9iak1hc2s9dGhpcy5idWlsZE1hc2soKX1nZXQgZm9ybWF0KCl7cmV0dXJuIHRoaXMuX2Zvcm1hdH1zZXQgaXNvRm9ybWF0KGUpe09iamVjdC52YWx1ZXMoVkUpLmluY2x1ZGVzKGUpJiYodGhpcy5faXNvRm9ybWF0PWUsdGhpcy5pc0V4dGVuZGVkSVNPPWU9PT1WRS5FeHRlbmRlZCl9Z2V0IGlzb0Zvcm1hdCgpe3JldHVybiB0aGlzLl9pc29Gb3JtYXR9c2V0IGxvY2FsZShlKXt0aGlzLl9sb2NhbGU9ZT9lLmxlbmd0aD49Mj9lOnFEOnRoaXMuc2hvcnRMYW5ndWFnZX1nZXQgbG9jYWxlKCl7cmV0dXJuIHRoaXMuX2xvY2FsZXx8dGhpcy5zaG9ydExhbmd1YWdlfXNldCBkYXRlKGUpe3RoaXMuX2RhdGU9InN0cmluZyI9PXR5cGVvZiBlP0pEKGUsITEsITEpOmV9Z2V0IGRhdGUoKXtyZXR1cm4gdGhpcy5fZGF0ZX1uZ09uSW5pdCgpe3RoaXMub2JqTWFzaz10aGlzLmJ1aWxkTWFzaygpfWdldERhdGVGcm9tU3RyaW5nKGUpe2NvbnN0IHQ9cGFyc2VJbnQoZS5zdWJzdHJpbmcodGhpcy5mb3JtYXQuaW5kZXhPZigiZCIpLHRoaXMuZm9ybWF0LmluZGV4T2YoImQiKSsyKSwxMCksbj1wYXJzZUludChlLnN1YnN0cmluZyh0aGlzLmZvcm1hdC5pbmRleE9mKCJtIiksdGhpcy5mb3JtYXQuaW5kZXhPZigibSIpKzIpLDEwKS0xLGk9cGFyc2VJbnQoZS5zdWJzdHJpbmcodGhpcy5mb3JtYXQuaW5kZXhPZigieSIpLHRoaXMuZm9ybWF0LmluZGV4T2YoInkiKSs0KSwxMCkscz1uZXcgRGF0ZShpLG4sdCk7cmV0dXJuIGlTKHMsaSkscy5nZXRGdWxsWWVhcigpPT09aSYmcy5nZXRNb250aCgpPT09biYmcy5nZXREYXRlKCk9PT10P3M6bnVsbH1mb3JtYXRUb0RhdGUoZSl7bGV0IHQ9dGhpcy5mb3JtYXQ7cmV0dXJuIHQ9dC5yZXBsYWNlKCJkZCIsKCIwIitlLmdldERhdGUoKSkuc2xpY2UoLTIpKSx0PXQucmVwbGFjZSgibW0iLCgiMCIrKGUuZ2V0TW9udGgoKSsxKSkuc2xpY2UoLTIpKSx0PXQucmVwbGFjZSgieXl5eSIsZVMoZS5nZXRGdWxsWWVhcigpKSksdH1jb250cm9sTW9kZWwoZSl7dGhpcy5kYXRlPWUsdGhpcy5jYWxsT25DaGFuZ2UoZSYmdGhpcy5pc0V4dGVuZGVkSVNPP1hEKHRoaXMuZGF0ZSx0aGlzLmhvdXIpOmUmJiF0aGlzLmlzRXh0ZW5kZWRJU08/ZnVuY3Rpb24oZSl7aWYoZSl7Y29uc3QgdD1lLmdldE1vbnRoKCkrMSxuPWUuZ2V0RGF0ZSgpPDEwPyIwIitlLmdldERhdGUoKTplLmdldERhdGUoKSxpPXQ8MTA/IjAiK3Q6dDtyZXR1cm4gZVMoZS5nZXRGdWxsWWVhcigpKSsiLSIraSsiLSIrbn1yZXR1cm4gbnVsbH0odGhpcy5kYXRlKTp2b2lkIDA9PT1lPyIiOiJEYXRhIGludlx4ZTFsaWRhIil9Y2FsbE9uQ2hhbmdlKGUsdD0hMCl7dGhpcy5vbkNoYW5nZU1vZGVsJiZlIT09dGhpcy5wcmV2aW91c1ZhbHVlPyh0aGlzLm9uQ2hhbmdlTW9kZWwoZSksdGhpcy5wcmV2aW91c1ZhbHVlPWUpOnQmJnNldFRpbWVvdXQoKCk9PnRoaXMuY2FsbE9uQ2hhbmdlKGUsITEpKX1zZXREaXNhYmxlZFN0YXRlKGUpe3RoaXMuZGlzYWJsZWQ9ZX1yZWdpc3Rlck9uQ2hhbmdlKGUpe3RoaXMub25DaGFuZ2VNb2RlbD1lfXJlZ2lzdGVyT25Ub3VjaGVkKGUpe3RoaXMub25Ub3VjaGVkTW9kZWw9ZX1yZWdpc3Rlck9uVmFsaWRhdG9yQ2hhbmdlKGUpe3RoaXMudmFsaWRhdG9yQ2hhbmdlPWV9dmFsaWRhdGUoZSl7cmV0dXJuIHRoaXMuZXJyb3JQYXR0ZXJuPSJEYXRhIGludlx4ZTFsaWRhIiE9PXRoaXMuZXJyb3JQYXR0ZXJuJiYiRGF0YSBmb3JhIGRvIHBlclx4ZWRvZG8iIT09dGhpcy5lcnJvclBhdHRlcm4/dGhpcy5lcnJvclBhdHRlcm46IiIsKHQ9ZS52YWx1ZSkmJmlzTmFOKERhdGUucGFyc2UodCkpPyh0aGlzLmVycm9yUGF0dGVybj10aGlzLmVycm9yUGF0dGVybnx8IkRhdGEgaW52XHhlMWxpZGEiLHtkYXRlOnt2YWxpZDohMX19KTpERSh0aGlzLnJlcXVpcmVkLHRoaXMuZGlzYWJsZWQsZS52YWx1ZSk/e3JlcXVpcmVkOnt2YWxpZDohMX19OnRoaXMuZGF0ZSYmKG49dGhpcy5kYXRlLHM9dGhpcy5fbWF4RGF0ZSwhKChpPXRoaXMuX21pbkRhdGUpJiZzP24+PWkmJm48PXM6aSYmIXM/bj49aTppfHwhc3x8bjw9cykpPyh0aGlzLmVycm9yUGF0dGVybj10aGlzLmVycm9yUGF0dGVybnx8IkRhdGEgZm9yYSBkbyBwZXJceGVkb2RvIix7ZGF0ZTp7dmFsaWQ6ITF9fSk6bnVsbDt2YXIgdCxuLGksc312YWxpZGF0ZU1vZGVsKGUpe3RoaXMudmFsaWRhdG9yQ2hhbmdlJiZ0aGlzLnZhbGlkYXRvckNoYW5nZShlKX1idWlsZE1hc2soKXtsZXQgZT10aGlzLmZvcm1hdC50b1VwcGVyQ2FzZSgpO3JldHVybiBlPWUucmVwbGFjZSgvREQvZywiOTkiKSxlPWUucmVwbGFjZSgvTU0vZywiOTkiKSxlPWUucmVwbGFjZSgvWVlZWS9nLCI5OTk5IiksbmV3IFBFKGUsITApfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShBcihwUykpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLGlucHV0czp7YXV0b0ZvY3VzOlsicC1hdXRvLWZvY3VzIiwiYXV0b0ZvY3VzIl0sZXJyb3JQYXR0ZXJuOlsicC1lcnJvci1wYXR0ZXJuIiwiZXJyb3JQYXR0ZXJuIl0sbm9BdXRvY29tcGxldGU6WyJwLW5vLWF1dG9jb21wbGV0ZSIsIm5vQXV0b2NvbXBsZXRlIl0scGxhY2Vob2xkZXI6WyJwLXBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXIiXSxzZXREaXNhYmxlZDpbInAtZGlzYWJsZWQiLCJzZXREaXNhYmxlZCJdLHNldFJlYWRvbmx5OlsicC1yZWFkb25seSIsInNldFJlYWRvbmx5Il0sc2V0UmVxdWlyZWQ6WyJwLXJlcXVpcmVkIiwic2V0UmVxdWlyZWQiXSxzZXRDbGVhbjpbInAtY2xlYW4iLCJzZXRDbGVhbiJdLG1pbkRhdGU6WyJwLW1pbi1kYXRlIiwibWluRGF0ZSJdLG1heERhdGU6WyJwLW1heC1kYXRlIiwibWF4RGF0ZSJdLGZvcm1hdDpbInAtZm9ybWF0IiwiZm9ybWF0Il0saXNvRm9ybWF0OlsicC1pc28tZm9ybWF0IiwiaXNvRm9ybWF0Il0sbG9jYWxlOlsicC1sb2NhbGUiLCJsb2NhbGUiXSxuYW1lOiJuYW1lIixvcHRpb25hbDpbInAtb3B0aW9uYWwiLCJvcHRpb25hbCJdfSxvdXRwdXRzOntvbmJsdXI6InAtYmx1ciIsb25jaGFuZ2U6InAtY2hhbmdlIn19KSxPdihbeFMoKV0sZS5wcm90b3R5cGUsImF1dG9Gb2N1cyIsdm9pZCAwKSxlfSkoKTtjb25zdCBqRT0iYm90dG9tLWxlZnQiO2xldCBORT0oKCk9PntjbGFzcyBlIGV4dGVuZHMgUkV7Y29uc3RydWN0b3IoZSx0LG4saSl7c3VwZXIodCksdGhpcy5jb250cm9sUG9zaXRpb249ZSx0aGlzLnJlbmRlcmVyPW4sdGhpcy52aXNpYmxlPSExLHRoaXMuZGF0ZVJlZ2V4PW5ldyBSZWdFeHAoIl4oPzpbMC05XSlcXGR7MX0oPzpbMC05XSlcXGR7MX0tKD86MFsxLTldfDFbMC0yXSktKD86MFsxLTldfFsxMl1cXGR8M1swMV0pJCIpLHRoaXMuaXNvUmVnZXg9bmV3IFJlZ0V4cCgiXig/OlswLTldKVxcZHsxfSg/OlswLTldKVxcZHsxfS0oPzowWzEtOV18MVswLTJdKS0oPzowWzEtOV18WzEyXVxcZHwzWzAxXSlUKD86WzAxXVxcZHwyWzAtM10pOlswLTVdXFxkOlswLTVdXFxkKD86WnwtMFsxLTldfC0xXFxkfC0yWzAtM118LTAwOj8oPzowWzEtOV18WzAtNV1cXGQpfFxcK1swMV1cXGR8XFwrMlswLTNdKSg/Onw6P1swLTVdXFxkKSQiKSx0aGlzLm9uU2Nyb2xsPSgpPT57dGhpcy5jb250cm9sUG9zaXRpb24uYWRqdXN0UG9zaXRpb24oakUpfSx0aGlzLmVsPWl9Z2V0IGF1dG9jb21wbGV0ZSgpe3JldHVybiB0aGlzLm5vQXV0b2NvbXBsZXRlPyJvZmYiOiJvbiJ9b25LZXl1cChlKXt0aGlzLnJlYWRvbmx5fHwodGhpcy5vYmpNYXNrLmtleXVwKGUpLHRoaXMub2JqTWFzay52YWx1ZVRvTW9kZWx8fCIiPT09dGhpcy5vYmpNYXNrLnZhbHVlVG9Nb2RlbD90aGlzLm9iak1hc2sudmFsdWVUb01vZGVsLmxlbmd0aD49MTA/KHRoaXMuY29udHJvbE1vZGVsKHRoaXMuZ2V0RGF0ZUZyb21TdHJpbmcodGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWUpKSx0aGlzLmRhdGU9dGhpcy5nZXREYXRlRnJvbVN0cmluZyh0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZSkpOih0aGlzLmRhdGU9dm9pZCAwLHRoaXMuY29udHJvbE1vZGVsKHRoaXMuZGF0ZSkpOnRoaXMuZGF0ZT12b2lkIDApfW9uS2V5ZG93bihlKXt0aGlzLnJlYWRvbmx5fHx0aGlzLm9iak1hc2sua2V5ZG93bihlKX1uZ0FmdGVyVmlld0luaXQoKXt0aGlzLnNldERpYWxvZ1BpY2tlclN0eWxlRGlzcGxheSgibm9uZSIpLHRoaXMuYXV0b0ZvY3VzJiZ0aGlzLmZvY3VzKCl9bmdPbkRlc3Ryb3koKXt0aGlzLnJlbW92ZUxpc3RlbmVycygpfWZvY3VzKCl7dGhpcy5kaXNhYmxlZHx8dGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQuZm9jdXMoKX10b2dnbGVQaWNrZXIoKXt0aGlzLmRpc2FibGVkfHx0aGlzLnJlYWRvbmx5fHwodGhpcy52aXNpYmxlPyh0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC5kaXNhYmxlZD0hMSx0aGlzLmNsb3NlQ2FsZW5kYXIoKSk6KHRoaXMuc2V0Q2FsZW5kYXJQb3NpdGlvbigpLHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVycygpLHRoaXMudmlzaWJsZT0hMCkpfWRhdGVTZWxlY3RlZCgpe3RoaXMudmVyaWZ5TW9iaWxlKCl8fHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LmZvY3VzKCksdGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWU9dGhpcy5mb3JtYXRUb0RhdGUodGhpcy5kYXRlKSx0aGlzLmNvbnRyb2xNb2RlbCh0aGlzLmRhdGUpLHRoaXMuY29udHJvbENoYW5nZUVtaXR0ZXIoKSx0aGlzLmNsb3NlQ2FsZW5kYXIoKX13YXNDbGlja2VkT25QaWNrZXIoZSl7dGhpcy5kaWFsb2dQaWNrZXImJnRoaXMuaWNvbkRhdGVwaWNrZXImJih0aGlzLmRpYWxvZ1BpY2tlci5uYXRpdmVFbGVtZW50LmNvbnRhaW5zKGUudGFyZ2V0KSYmIXRoaXMuaGFzT3ZlcmxheUNsYXNzKGUudGFyZ2V0KXx8dGhpcy5pY29uRGF0ZXBpY2tlci5uYXRpdmVFbGVtZW50LmNvbnRhaW5zKGUudGFyZ2V0KXx8dGhpcy5oYXNBdHRyQ2FsZW5kYXIoZS50YXJnZXQpfHx0aGlzLmNsb3NlQ2FsZW5kYXIoKSl9aGFzSW52YWxpZENsYXNzKCl7cmV0dXJuIHRoaXMuZWwubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoIm5nLWludmFsaWQiKSYmdGhpcy5lbC5uYXRpdmVFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygibmctZGlydHkiKSYmIiIhPT10aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZX1nZXRFcnJvclBhdHRlcm4oKXtyZXR1cm4iIiE9PXRoaXMuZXJyb3JQYXR0ZXJuJiZ0aGlzLmhhc0ludmFsaWRDbGFzcygpP3RoaXMuZXJyb3JQYXR0ZXJuOiIifWNsZWFyKCl7dGhpcy52YWx1ZUJlZm9yZUNoYW5nZT10aGlzLmZvcm1hdFRvRGF0ZSh0aGlzLmRhdGUpLHRoaXMuZGF0ZT12b2lkIDAsdGhpcy5jb250cm9sTW9kZWwodGhpcy5kYXRlKSx0aGlzLmNvbnRyb2xDaGFuZ2VFbWl0dGVyKCl9ZXZlbnRPbkJsdXIoZSl7dmFyIHQ7bnVsbD09PSh0PXRoaXMub25Ub3VjaGVkTW9kZWwpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyk7Y29uc3Qgbj10aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZSxpPW4/dGhpcy5nZXREYXRlRnJvbVN0cmluZyhuKTp2b2lkIDA7dGhpcy5vYmpNYXNrLmJsdXIoZSksdGhpcy5vbmJsdXIuZW1pdCgpLHRoaXMub2JqTWFzay52YWx1ZVRvTW9kZWw/dGhpcy5vYmpNYXNrLnZhbHVlVG9Nb2RlbC5sZW5ndGg+PTEwPyh0aGlzLmNvbnRyb2xNb2RlbChpKSx0aGlzLmRhdGU9aSk6KHRoaXMuZGF0ZT1udWxsLHRoaXMuY29udHJvbE1vZGVsKHRoaXMuZGF0ZSkpOih0aGlzLmRhdGU9dm9pZCAwLHRoaXMuY2FsbE9uQ2hhbmdlKHRoaXMuZGF0ZSkpLHRoaXMuY29udHJvbENoYW5nZUVtaXR0ZXIoKX1ldmVudE9uQ2xpY2soZSl7dGhpcy52ZXJpZnlNb2JpbGUoKT8oZS50YXJnZXQuYmx1cigpLHNldFRpbWVvdXQoKCk9PnRoaXMudG9nZ2xlUGlja2VyKCksMCkpOnRoaXMub2JqTWFzay5jbGljayhlKX1mb3JtYXRUb0RhdGUoZSl7aWYoIWUpcmV0dXJuO2xldCB0PXRoaXMuZm9ybWF0O3JldHVybiB0PXQucmVwbGFjZSgiZGQiLCgiMCIrZS5nZXREYXRlKCkpLnNsaWNlKC0yKSksdD10LnJlcGxhY2UoIm1tIiwoIjAiKyhlLmdldE1vbnRoKCkrMSkpLnNsaWNlKC0yKSksdD10LnJlcGxhY2UoInl5eXkiLGVTKGUuZ2V0RnVsbFllYXIoKSkpLHR9cmVmcmVzaFZhbHVlKGUpe2UmJih0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZT10aGlzLmZvcm1hdFRvRGF0ZShlKSl9d3JpdGVWYWx1ZShlKXtpZih0aGlzLmlucHV0RWwmJmUpe2lmKGUgaW5zdGFuY2VvZiBEYXRlKXtjb25zdCB0PWUudG9TdHJpbmcoKTt0aGlzLmhvdXI9IlQiK3Quc3Vic3RyaW5nKDE2LDI0KSt0LnN1YnN0cmluZygyOCwzMSkrIjoiK3Quc3Vic3RyaW5nKDMxLDMzKSx0aGlzLmRhdGU9ZSx0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZT10aGlzLmZvcm1hdFRvRGF0ZShlKX1lbHNlIGlmKHRoaXMuaXNWYWxpZERhdGVJc28oZSl8fHRoaXMuaXNWYWxpZEV4dGVuZGVkSXNvKGUpKXt0aGlzLmlzVmFsaWRFeHRlbmRlZElzbyhlKSYmKHRoaXMuaG91cj1lLnN1YnN0cmluZygxMCwyNSkpLHZvaWQgMD09PXRoaXMuaXNvRm9ybWF0JiYodGhpcy5pc0V4dGVuZGVkSVNPPXRoaXMuaXNWYWxpZEV4dGVuZGVkSXNvKGUpKTtjb25zdCB0PXBhcnNlSW50KGUuc3Vic3RyaW5nKDgsMTApLDEwKSxuPXBhcnNlSW50KGUuc3Vic3RyaW5nKDUsNyksMTApLTEsaT1wYXJzZUludChlLnN1YnN0cmluZygwLDQpLDEwKSxzPW5ldyBEYXRlKGksbix0KTtpUyhzLGkpLHRoaXMuZGF0ZT1zLHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlPXRoaXMuZm9ybWF0VG9EYXRlKHMpfWVsc2UgdGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWU9IiIsdGhpcy5kYXRlPXZvaWQgMDt0aGlzLmNvbnRyb2xNb2RlbCh0aGlzLmRhdGUpfWVsc2UgdGhpcy5pbnB1dEVsJiYodGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWU9IiIsdGhpcy5kYXRlPXZvaWQgMCk7dGhpcy52YWx1ZUJlZm9yZUNoYW5nZT10aGlzLmZvcm1hdFRvRGF0ZSh0aGlzLmRhdGUpfWlzVmFsaWREYXRlSXNvKGUpe3JldHVybiB0aGlzLmRhdGVSZWdleC50ZXN0KGUpfWlzVmFsaWRFeHRlbmRlZElzbyhlKXtyZXR1cm4gdGhpcy5pc29SZWdleC50ZXN0KGUpfWhhc092ZXJsYXlDbGFzcyhlKXtyZXR1cm4gZS5jbGFzc0xpc3QuY29udGFpbnMoInBvLWRhdGVwaWNrZXItY2FsZW5kYXItb3ZlcmxheSIpfXZlcmlmeU1vYmlsZSgpe3JldHVybiB0UygpfWNsb3NlQ2FsZW5kYXIoKXt0aGlzLnZpc2libGU9ITEsdGhpcy5yZW1vdmVMaXN0ZW5lcnMoKSx0aGlzLnNldERpYWxvZ1BpY2tlclN0eWxlRGlzcGxheSgibm9uZSIpfWNvbnRyb2xDaGFuZ2VFbWl0dGVyKCl7Y29uc3QgZT10aGlzLmZvcm1hdFRvRGF0ZSh0aGlzLmRhdGUpO2UhPT10aGlzLnZhbHVlQmVmb3JlQ2hhbmdlJiYodGhpcy52YWx1ZUJlZm9yZUNoYW5nZT1lLGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRDaGFuZ2UpLHRoaXMudGltZW91dENoYW5nZT1zZXRUaW1lb3V0KCgpPT57dGhpcy5vbmNoYW5nZS5lbWl0KGUpfSwyMDApKX1oYXNBdHRyQ2FsZW5kYXIoZSl7Y29uc3QgdD0iYXR0ci1jYWxlbmRhciI7cmV0dXJuIGUmJmUuaGFzQXR0cmlidXRlKHQpfHxlLnBhcmVudEVsZW1lbnQmJmUucGFyZW50RWxlbWVudC5oYXNBdHRyaWJ1dGUodCl9aW5pdGlhbGl6ZUxpc3RlbmVycygpe3RoaXMuY2xpY2tMaXN0ZW5lcj10aGlzLnJlbmRlcmVyLmxpc3RlbigiZG9jdW1lbnQiLCJjbGljayIsZT0+e3RoaXMud2FzQ2xpY2tlZE9uUGlja2VyKGUpfSksdGhpcy5ldmVudFJlc2l6ZUxpc3RlbmVyPXRoaXMucmVuZGVyZXIubGlzdGVuKCJ3aW5kb3ciLCJyZXNpemUiLCgpPT57dGhpcy5jbG9zZUNhbGVuZGFyKCl9KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIix0aGlzLm9uU2Nyb2xsLCEwKX1yZW1vdmVMaXN0ZW5lcnMoKXt0aGlzLmNsaWNrTGlzdGVuZXImJnRoaXMuY2xpY2tMaXN0ZW5lcigpLHRoaXMuZXZlbnRSZXNpemVMaXN0ZW5lciYmdGhpcy5ldmVudFJlc2l6ZUxpc3RlbmVyKCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsdGhpcy5vblNjcm9sbCwhMCl9c2V0RGlhbG9nUGlja2VyU3R5bGVEaXNwbGF5KGUpe3RoaXMuZGlhbG9nUGlja2VyLm5hdGl2ZUVsZW1lbnQuc3R5bGUuZGlzcGxheT1lfXNldENhbGVuZGFyUG9zaXRpb24oKXt0aGlzLnNldERpYWxvZ1BpY2tlclN0eWxlRGlzcGxheSgiYmxvY2siKSx0aGlzLmNvbnRyb2xQb3NpdGlvbi5zZXRFbGVtZW50cyh0aGlzLmRpYWxvZ1BpY2tlci5uYXRpdmVFbGVtZW50LDgsdGhpcy5pbnB1dEVsLFsidG9wLWxlZnQiLCJ0b3AtcmlnaHQiLCJib3R0b20tbGVmdCIsImJvdHRvbS1yaWdodCJdLCExLCEwKSx0aGlzLmNvbnRyb2xQb3NpdGlvbi5hZGp1c3RQb3NpdGlvbihqRSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKFZTKSxBcihwUyksQXIoV2EpLEFyKFVhKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLWRhdGVwaWNrZXIiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiYocGMoVXksNykscGMocXksNyxVYSkscGMoenksNyxVYSkscGMoV3ksNyxVYSkpLDImZSl7bGV0IGU7ZGMoZT1nYygpKSYmKHQuY2FsZW5kYXI9ZS5maXJzdCksZGMoZT1nYygpKSYmKHQuZGlhbG9nUGlja2VyPWUuZmlyc3QpLGRjKGU9Z2MoKSkmJih0Lmljb25EYXRlcGlja2VyPWUuZmlyc3QpLGRjKGU9Z2MoKSkmJih0LmlucHV0RWw9ZS5maXJzdCl9fSxob3N0QmluZGluZ3M6ZnVuY3Rpb24oZSx0KXsxJmUmJkJyKCJrZXl1cCIsZnVuY3Rpb24oZSl7cmV0dXJuIHQub25LZXl1cChlKX0pKCJrZXlkb3duIixmdW5jdGlvbihlKXtyZXR1cm4gdC5vbktleWRvd24oZSl9KX0saW5wdXRzOntsYWJlbDpbInAtbGFiZWwiLCJsYWJlbCJdLGhlbHA6WyJwLWhlbHAiLCJoZWxwIl19LGZlYXR1cmVzOltMYShbe3Byb3ZpZGU6UHYsdXNlRXhpc3Rpbmc6c2UoKCk9PmUpLG11bHRpOiEwfSx7cHJvdmlkZTpqdix1c2VFeGlzdGluZzpzZSgoKT0+ZSksbXVsdGk6ITB9LFZTXSksdXJdLGRlY2xzOjE0LHZhcnM6MjUsY29uc3RzOltbMywicC1oZWxwIiwicC1sYWJlbCIsInAtb3B0aW9uYWwiXSxbMSwicG8tZmllbGQtY29udGFpbmVyLWNvbnRlbnQiXSxbInR5cGUiLCJ0ZXh0IiwxLCJwby1pbnB1dCIsInBvLWRhdGVwaWNrZXIiLDMsIm5nQ2xhc3MiLCJhdXRvY29tcGxldGUiLCJkaXNhYmxlZCIsInBsYWNlaG9sZGVyIiwicmVhZG9ubHkiLCJyZXF1aXJlZCIsImJsdXIiLCJjbGljayJdLFsiaW5wIiwiIl0sWzEsInBvLWZpZWxkLWljb24tY29udGFpbmVyLXJpZ2h0Il0sWzMsInAtZWxlbWVudC1yZWYiLCJwLWNoYW5nZS1ldmVudCIsNCwibmdJZiJdLFsxLCJwby1pY29uIiwicG8tZmllbGQtaWNvbiIsInBvLWljb24tY2FsZW5kYXIiLDMsImNsaWNrIl0sWyJpY29uRGF0ZXBpY2tlciIsIiJdLFsiZGlhbG9nUGlja2VyIiwiIl0sWyJjbGFzcyIsInBvLWRhdGVwaWNrZXItY2FsZW5kYXItb3ZlcmxheSIsNCwibmdJZiJdLFszLCJuZ01vZGVsIiwicC1tYXgtZGF0ZSIsInAtbWluLWRhdGUiLCJwLWxvY2FsZSIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSJdLFsiY2FsZW5kYXIiLCIiXSxbMywicC1lcnJvci1wYXR0ZXJuIl0sWzMsInAtZWxlbWVudC1yZWYiLCJwLWNoYW5nZS1ldmVudCJdLFsxLCJwby1kYXRlcGlja2VyLWNhbGVuZGFyLW92ZXJsYXkiXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXtpZigxJmUmJihGcigwLCJwby1maWVsZC1jb250YWluZXIiLDApLEZyKDEsImRpdiIsMSksRnIoMiwiaW5wdXQiLDIsMyksQnIoImJsdXIiLGZ1bmN0aW9uKGUpe3JldHVybiB0LmV2ZW50T25CbHVyKGUpfSkoImNsaWNrIixmdW5jdGlvbihlKXtyZXR1cm4gdC5ldmVudE9uQ2xpY2soZSl9KSxJcigpLEZyKDQsImRpdiIsNCksa3IoNSxHeSwxLDEsInBvLWNsZWFuIiw1KSxGcig2LCJzcGFuIiw2LDcpLEJyKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gdC50b2dnbGVQaWNrZXIoKX0pLElyKCksSXIoKSxJcigpLEZyKDgsImRpdiIsbnVsbCw4KSxrcigxMCxLeSwxLDAsImRpdiIsOSksRnIoMTEsInBvLWNhbGVuZGFyIiwxMCwxMSksQnIoIm5nTW9kZWxDaGFuZ2UiLGZ1bmN0aW9uKGUpe3JldHVybiB0LmRhdGU9ZX0pKCJwLWNoYW5nZSIsZnVuY3Rpb24oKXtyZXR1cm4gdC5kYXRlU2VsZWN0ZWQoKX0pLElyKCksSXIoKSxNcigxMywicG8tZmllbGQtY29udGFpbmVyLWJvdHRvbSIsMTIpLElyKCkpLDImZSl7Y29uc3QgZT14cigzKTtPcigicC1oZWxwIix0LmhlbHApKCJwLWxhYmVsIix0LmxhYmVsKSgicC1vcHRpb25hbCIsIXQucmVxdWlyZWQmJnQub3B0aW9uYWwpLFpzKDIpLE9yKCJuZ0NsYXNzIix0LmNsZWFuJiZlLnZhbHVlPyJwby1pbnB1dC1kb3VibGUtaWNvbi1yaWdodCI6InBvLWlucHV0LWljb24tcmlnaHQiKSgiYXV0b2NvbXBsZXRlIix0LmF1dG9jb21wbGV0ZSkoImRpc2FibGVkIix0LmRpc2FibGVkKSgicGxhY2Vob2xkZXIiLHQucGxhY2Vob2xkZXIpKCJyZWFkb25seSIsdC5yZWFkb25seSkoInJlcXVpcmVkIix0LnJlcXVpcmVkKSxEcigibmFtZSIsdC5uYW1lKSxacygzKSxPcigibmdJZiIsdC5jbGVhbiYmIXQuZGlzYWJsZWQmJiF0LnJlYWRvbmx5KSxacygxKSxlYSgicG8tZmllbGQtaWNvbiIsIXQuZGlzYWJsZWQmJiF0LnJlYWRvbmx5KSgicG8tZmllbGQtaWNvbi1kaXNhYmxlZCIsdC5kaXNhYmxlZHx8dC5yZWFkb25seSksWnMoMiksZWEoInBvLWRhdGVwaWNrZXItcG9wdXAtY2FsZW5kYXIiLCF0LnZlcmlmeU1vYmlsZSgpKSxacygyKSxPcigibmdJZiIsdC52ZXJpZnlNb2JpbGUoKSksWnMoMSksZWEoInBvLWRhdGVwaWNrZXItY2FsZW5kYXItbW9iaWxlIix0LnZlcmlmeU1vYmlsZSgpKSxPcigibmdNb2RlbCIsdC5kYXRlKSgicC1tYXgtZGF0ZSIsdC5tYXhEYXRlKSgicC1taW4tZGF0ZSIsdC5taW5EYXRlKSgicC1sb2NhbGUiLHQubG9jYWxlKSxacygyKSxPcigicC1lcnJvci1wYXR0ZXJuIix0LmdldEVycm9yUGF0dGVybigpKX19LGRpcmVjdGl2ZXM6W3dFLHhoLEZoLHpTLEp2LERiLHlFLElFXSxlbmNhcHN1bGF0aW9uOjJ9KSxlfSkoKSxCRT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtpbXBvcnRzOltbR2gsVmIsX0UsTUUsWlNdXX0pLGV9KSgpO2NvbnN0ICRFPXtlbjp7Y2xvc2U6IkNsb3NlIn0sZXM6e2Nsb3NlOiJDZXJyYXIifSxwdDp7Y2xvc2U6IkZlY2hhciJ9LHJ1OntjbG9zZToiXHUwNDMxXHUwNDNiXHUwNDM4XHUwNDM3XHUwNDNhXHUwNDNlIn19O2xldCBIRT0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUpe3RoaXMuaXNIaWRkZW49ITAsdGhpcy5vblhDbG9zZWQ9bmV3IGVjLHRoaXMuX2hpZGVDbG9zZT0hMSx0aGlzLl9zaXplPSJtZCIsdGhpcy5jbGlja091dD0hMSx0aGlzLmxhbmd1YWdlPWUuZ2V0U2hvcnRMYW5ndWFnZSgpLHRoaXMubGl0ZXJhbHM9T2JqZWN0LmFzc2lnbih7fSwkRVt0aGlzLmxhbmd1YWdlXSl9c2V0IHNpemUoZSl7dGhpcy5fc2l6ZT1bInNtIiwibWQiLCJsZyIsInhsIiwiYXV0byJdLmluZGV4T2YoZSk+LTE/ZToibWQifWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX3NpemV9c2V0IHNldENsaWNrT3V0KGUpe3RoaXMuY2xpY2tPdXQ9IiIhPT1lJiZZRChlKX1zZXQgaGlkZUNsb3NlKGUpe3RoaXMuX2hpZGVDbG9zZT1ZRChlKX1nZXQgaGlkZUNsb3NlKCl7cmV0dXJuIHRoaXMuX2hpZGVDbG9zZX1jbG9zZShlPSExKXt0aGlzLmlzSGlkZGVuPSEwLGUmJnRoaXMub25YQ2xvc2VkLmVtaXQoZSl9b3Blbigpe3RoaXMudmFsaWRQcmltYXJ5QWN0aW9uKCksdGhpcy5pc0hpZGRlbj0hMX12YWxpZFByaW1hcnlBY3Rpb24oKXt0aGlzLnByaW1hcnlBY3Rpb258fCh0aGlzLnByaW1hcnlBY3Rpb249e2FjdGlvbjooKT0+dGhpcy5jbG9zZSgpLGxhYmVsOnRoaXMubGl0ZXJhbHMuY2xvc2V9KSx0aGlzLnByaW1hcnlBY3Rpb24uYWN0aW9ufHwodGhpcy5wcmltYXJ5QWN0aW9uLmFjdGlvbj0oKT0+dGhpcy5jbG9zZSgpKSx0aGlzLnByaW1hcnlBY3Rpb24ubGFiZWx8fCh0aGlzLnByaW1hcnlBY3Rpb24ubGFiZWw9dGhpcy5saXRlcmFscy5jbG9zZSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKHBTKSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsaW5wdXRzOntzaXplOlsicC1zaXplIiwic2l6ZSJdLHNldENsaWNrT3V0OlsicC1jbGljay1vdXQiLCJzZXRDbGlja091dCJdLGhpZGVDbG9zZTpbInAtaGlkZS1jbG9zZSIsImhpZGVDbG9zZSJdLHByaW1hcnlBY3Rpb246WyJwLXByaW1hcnktYWN0aW9uIiwicHJpbWFyeUFjdGlvbiJdLHRpdGxlOlsicC10aXRsZSIsInRpdGxlIl0sc2Vjb25kYXJ5QWN0aW9uOlsicC1zZWNvbmRhcnktYWN0aW9uIiwic2Vjb25kYXJ5QWN0aW9uIl19fSksZX0pKCksVUU9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuYWN0aXZlT3ZlcmxheT1bXX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1cHJvdj1oZSh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgZX0sdG9rZW46ZSxwcm92aWRlZEluOiJyb290In0pLGV9KSgpLHFFPSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBIRXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKHQpLHRoaXMucG9BY3RpdmVPdmVybGF5U2VydmljZT1lLHRoaXMuZm9jdXNhYmxlRWxlbWVudHM9ImlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCBhIix0aGlzLmlkPWxTKCl9Y2xvc2UoZT0hMSl7dGhpcy5wb0FjdGl2ZU92ZXJsYXlTZXJ2aWNlLmFjdGl2ZU92ZXJsYXkucG9wKCksc3VwZXIuY2xvc2UoZSksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpLHRoaXMuc291cmNlRWxlbWVudCYmdGhpcy5zb3VyY2VFbGVtZW50LmZvY3VzKCl9Y2xvc2VNb2RhbE9uRXNjYXBlS2V5KGUpe3RoaXMuaGlkZUNsb3NlfHwoZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5jbG9zZSgpKX1nZXRQcmltYXJ5QWN0aW9uQnV0dG9uVHlwZSgpe3JldHVybiB0aGlzLnByaW1hcnlBY3Rpb24uZGFuZ2VyPyJkYW5nZXIiOiJwcmltYXJ5In1nZXRTZWNvbmRhcnlBY3Rpb25CdXR0b25UeXBlKCl7cmV0dXJuIHRoaXMuc2Vjb25kYXJ5QWN0aW9uJiZ0aGlzLnNlY29uZGFyeUFjdGlvbi5kYW5nZXImJiF0aGlzLnByaW1hcnlBY3Rpb24uZGFuZ2VyPyJkYW5nZXIiOiJkZWZhdWx0In1vbkNsaWNrT3V0KGUpe3RoaXMuY2xpY2tPdXQmJiF0aGlzLm1vZGFsQ29udGVudC5uYXRpdmVFbGVtZW50LmNvbnRhaW5zKGUudGFyZ2V0KSYmdGhpcy5jbG9zZSgpfW9wZW4oKXt0aGlzLnNvdXJjZUVsZW1lbnQ9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCxzdXBlci5vcGVuKCksdGhpcy5oYW5kbGVGb2N1cygpfWhhbmRsZUZvY3VzKCl7dGhpcy5wb0FjdGl2ZU92ZXJsYXlTZXJ2aWNlLmFjdGl2ZU92ZXJsYXkucHVzaCh0aGlzLmlkKSxzZXRUaW1lb3V0KCgpPT57dGhpcy5tb2RhbENvbnRlbnQmJih0aGlzLmluaXRGb2N1cygpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLmZvY3VzRnVuY3Rpb24sITApKX0pfWluaXRGb2N1cygpe3RoaXMuZm9jdXNGdW5jdGlvbj1lPT57dGhpcy5tb2RhbENvbnRlbnQubmF0aXZlRWxlbWVudC5jb250YWlucyhlLnRhcmdldCl8fHRoaXMucG9BY3RpdmVPdmVybGF5U2VydmljZS5hY3RpdmVPdmVybGF5W3RoaXMucG9BY3RpdmVPdmVybGF5U2VydmljZS5hY3RpdmVPdmVybGF5Lmxlbmd0aC0xXSE9PXRoaXMuaWR8fChlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuZmlyc3RFbGVtZW50LmZvY3VzKCkpfSx0aGlzLnNldEZpcnN0RWxlbWVudCgpLHRoaXMuaGlkZUNsb3NlP3RoaXMuZmlyc3RFbGVtZW50LmZvY3VzKCk6KHRoaXMubW9kYWxDb250ZW50Lm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLmZvY3VzYWJsZUVsZW1lbnRzKVsxXXx8dGhpcy5tb2RhbENvbnRlbnQubmF0aXZlRWxlbWVudCkuZm9jdXMoKX1yZW1vdmVFdmVudExpc3RlbmVycygpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLmZvY3VzRnVuY3Rpb24sITApfXNldEZpcnN0RWxlbWVudCgpe3RoaXMuZmlyc3RFbGVtZW50PXRoaXMubW9kYWxDb250ZW50Lm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmZvY3VzYWJsZUVsZW1lbnRzKXx8dGhpcy5tb2RhbENvbnRlbnQubmF0aXZlRWxlbWVudH19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoVUUpLEFyKHBTKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLW1vZGFsIl1dLHZpZXdRdWVyeTpmdW5jdGlvbihlLHQpe2lmKDEmZSYmcGMoWXksNSxVYSksMiZlKXtsZXQgZTtkYyhlPWdjKCkpJiYodC5tb2RhbENvbnRlbnQ9ZS5maXJzdCl9fSxmZWF0dXJlczpbdXJdLG5nQ29udGVudFNlbGVjdG9yczpXYixkZWNsczoxLHZhcnM6MSxjb25zdHM6W1siY2xhc3MiLCJwby1tb2RhbCIsInRhYmluZGV4IiwiMCIsMywia2V5ZG93bi5lc2MiLDQsIm5nSWYiXSxbInRhYmluZGV4IiwiMCIsMSwicG8tbW9kYWwiLDMsImtleWRvd24uZXNjIl0sWzEsInBvLW1vZGFsLW92ZXJsYXkiXSxbMSwicG8tbW9kYWwtY29udGFpbmVyIiwicG8tcGItMiIsInBvLXB0LTIiLDMsIm1vdXNlZG93biJdLFsxLCJwby1tb2RhbC12ZXJ0aWNhbC1hbGlnbiJdLFsidGFiaW5kZXgiLCItMSJdLFsibW9kYWxDb250ZW50IiwiIl0sWzEsInBvLW1vZGFsLWhlYWRlciJdLFsxLCJwby1tb2RhbC10aXRsZSIsInBvLXRleHQtZWxsaXBzaXMiXSxbImNsYXNzIiwicG8tbW9kYWwtaGVhZGVyLWNsb3NlLWJ1dHRvbiIsInRhYmluZGV4IiwiMCIsMywiY2xpY2siLDQsIm5nSWYiXSxbMSwicG8tbW9kYWwtYm9keSJdLFsxLCJwby1tb2RhbC1mb290ZXIiXSxbMywicC1kaXNhYmxlZCIsInAtbGFiZWwiLCJwLWxvYWRpbmciLCJwLXR5cGUiLCJwLWNsaWNrIiw0LCJuZ0lmIl0sWzEsInBvLWJ1dHRvbi1tb2RhbC1maXJzdC1hY3Rpb24iLDMsInAtZGlzYWJsZWQiLCJwLWxhYmVsIiwicC1sb2FkaW5nIiwicC10eXBlIiwicC1jbGljayJdLFsidGFiaW5kZXgiLCIwIiwxLCJwby1tb2RhbC1oZWFkZXItY2xvc2UtYnV0dG9uIiwzLCJjbGljayJdLFsxLCJwby1pY29uIiwicG8taWNvbi1jbG9zZSJdLFszLCJwLWRpc2FibGVkIiwicC1sYWJlbCIsInAtbG9hZGluZyIsInAtdHlwZSIsInAtY2xpY2siXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXsxJmUmJih6cigpLGtyKDAsSnksMTUsMTAsImRpdiIsMCkpLDImZSYmT3IoIm5nSWYiLCF0LmlzSGlkZGVuKX0sZGlyZWN0aXZlczpbRmgsVFNdLGVuY2Fwc3VsYXRpb246Mn0pLGV9KSgpLHpFPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe2ltcG9ydHM6W1tHaCxGU11dfSksZX0pKCksV0U9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7aW1wb3J0czpbW0doXV19KSxlfSkoKSxHRT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtwcm92aWRlcnM6W1VFXX0pLGV9KSgpLEtFPSgoKT0+e2NsYXNzIGV7Z2V0Q29sb3IoZSl7cmV0dXJuIE9iamVjdC52YWx1ZXMoUVMpLmluY2x1ZGVzKGUuY29sb3IpP2UuY29sb3I6dGhpcy5nZXRDb2xvckZyb21UeXBlKGUudHlwZXx8ZS5jb2xvcil9Z2V0Q29sb3JGcm9tVHlwZShlKXtzd2l0Y2goZSl7Y2FzZSJkYW5nZXIiOnJldHVybiBRUy5Db2xvcjA3O2Nhc2Uic3VjY2VzcyI6cmV0dXJuIFFTLkNvbG9yMTE7Y2FzZSJ3YXJuaW5nIjpyZXR1cm4gUVMuQ29sb3IwODtkZWZhdWx0OnJldHVybiBRUy5Db2xvcjAxfX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxmYWN0b3J5OmUuXHUwMjc1ZmFjfSksZX0pKCksWUU9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7cHJvdmlkZXJzOltLRV19KSxlfSkoKSxaRT0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLmNvbXBvbmVudFJlc29sdmVyPWUsdGhpcy5hcHBsaWNhdGlvblJlZj10LHRoaXMuaW5qZWN0b3I9bn1jcmVhdGVDb21wb25lbnRJbkFwcGxpY2F0aW9uKGUpe2NvbnN0IHQ9dGhpcy5jb21wb25lbnRSZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShlKS5jcmVhdGUodGhpcy5pbmplY3Rvcik7cmV0dXJuIHRoaXMuYXBwbGljYXRpb25SZWYuYXR0YWNoVmlldyh0Lmhvc3RWaWV3KSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQuaG9zdFZpZXcucm9vdE5vZGVzWzBdKSx0fWRlc3Ryb3lDb21wb25lbnRJbkFwcGxpY2F0aW9uKGUpe3RoaXMuYXBwbGljYXRpb25SZWYuZGV0YWNoVmlldyhlLmhvc3RWaWV3KSxlLmRlc3Ryb3koKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoY2koTmEpLGNpKGF1KSxjaShscikpfSxlLlx1MDI3NXByb3Y9aGUoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUoY2koTmEpLGNpKGF1KSxjaShHbykpfSx0b2tlbjplLHByb3ZpZGVkSW46InJvb3QifSksZX0pKCksUUU9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7cHJvdmlkZXJzOltaRV0saW1wb3J0czpbW11dfSksZX0pKCksSkU9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7cHJvdmlkZXJzOltWU119KSxlfSkoKTt2YXIgWEU9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5BbGVydD0wXT0iQWxlcnQiLGVbZS5Db25maXJtPTFdPSJDb25maXJtIixlfSh7fSk7Y29uc3QgZWs9e2VuOntvazoiT2sifSxlczp7b2s6Ik9rIn0scHQ6e29rOiJPayJ9LHJ1OntvazoiXHUwNDFlXHUwNDNhIn19LHRrPXtlbjp7Y2FuY2VsOiJDYW5jZWwiLGNvbmZpcm06IkNvbmZpcm0ifSxlczp7Y2FuY2VsOiJDYW5jZWxhciIsY29uZmlybToiQ29uZmlybWFyIn0scHQ6e2NhbmNlbDoiQ2FuY2VsYXIiLGNvbmZpcm06IkNvbmZpcm1hciJ9LHJ1OntjYW5jZWw6Ilx1MDQzZVx1MDQ0Mlx1MDQzY1x1MDQzNVx1MDQzZFx1MDQzOFx1MDQ0Mlx1MDQ0YyIsY29uZmlybToiXHUwNDNmXHUwNDNlXHUwNDM0XHUwNDQyXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDM0XHUwNDM4XHUwNDQyXHUwNDRjIn19O2xldCBuaz0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUpe3RoaXMucHJpbWFyeUFjdGlvbj17bGFiZWw6Im9rIixhY3Rpb246KCk9Pnt9fSx0aGlzLmxhbmd1YWdlPWUuZ2V0U2hvcnRMYW5ndWFnZSgpfW5nT25EZXN0cm95KCl7dGhpcy5jbG9zZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfW5nT25Jbml0KCl7dGhpcy5jbG9zZVN1YnNjcmlwdGlvbj10aGlzLnBvTW9kYWwub25YQ2xvc2VkLnN1YnNjcmliZShlPT50aGlzLmNsb3NlKCEwKSl9Y2xvc2UoZT0hMSl7ZSYmdGhpcy5jbG9zZUFjdGlvbiYmdGhpcy5jbG9zZUFjdGlvbigpLHRoaXMucG9Nb2RhbC5jbG9zZSgpLHRoaXMuZGVzdHJveSgpfWRlc3Ryb3koKXt0aGlzLmNvbXBvbmVudFJlZiYmdGhpcy5jb21wb25lbnRSZWYuZGVzdHJveSgpfWNvbmZpZ0RpYWxvZyhlLHQsbixpLHMpe3RoaXMucHJpbWFyeUFjdGlvbj17bGFiZWw6ZSxhY3Rpb246KCk9Pnt0JiZ0KCksdGhpcy5jbG9zZSgpfX0sbiYmKHRoaXMuc2Vjb25kYXJ5QWN0aW9uPXtsYWJlbDpuLGFjdGlvbjooKT0+e2kmJmkoKSx0aGlzLmNsb3NlKCl9fSksdGhpcy5jbG9zZUFjdGlvbj1zfW9wZW4oZSx0LG4pe3N3aXRjaCh0aGlzLnRpdGxlPWUudGl0bGUsdGhpcy5tZXNzYWdlPWUubWVzc2FnZSx0aGlzLmNvbXBvbmVudFJlZj1uLHRoaXMuc2V0RGlhbG9nTGl0ZXJhbHMoZSx0KSx0KXtjYXNlIFhFLkNvbmZpcm06dGhpcy5jb25maWdEaWFsb2codGhpcy5saXRlcmFsc0NvbmZpcm0uY29uZmlybSxlLmNvbmZpcm0sdGhpcy5saXRlcmFsc0NvbmZpcm0uY2FuY2VsLGUuY2FuY2VsLGUuY2xvc2UpO2JyZWFrO2Nhc2UgWEUuQWxlcnQ6dGhpcy5jb25maWdEaWFsb2codGhpcy5saXRlcmFsc0FsZXJ0Lm9rLGUub2spfXRoaXMucG9Nb2RhbC5vcGVuKCl9c2V0RGlhbG9nTGl0ZXJhbHMoZSx0KXtjb25zdCBuPWVrLGk9dGsscz1lLmxpdGVyYWxzO3Q9PT1YRS5BbGVydD90aGlzLmxpdGVyYWxzQWxlcnQ9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbi5wdCksblt0aGlzLmxhbmd1YWdlXSkscyk6dGhpcy5saXRlcmFsc0NvbmZpcm09T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30saS5wdCksaVt0aGlzLmxhbmd1YWdlXSkscyl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKHBTKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbIm5nLWNvbXBvbmVudCJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24oZSx0KXtpZigxJmUmJnBjKHFFLDcpLDImZSl7bGV0IGU7ZGMoZT1nYygpKSYmKHQucG9Nb2RhbD1lLmZpcnN0KX19LGRlY2xzOjIsdmFyczo0LGNvbnN0czpbWzMsInAtdGl0bGUiLCJwLXByaW1hcnktYWN0aW9uIiwicC1zZWNvbmRhcnktYWN0aW9uIl0sWzMsImlubmVySHRtbCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYmKEZyKDAsInBvLW1vZGFsIiwwKSxNcigxLCJkaXYiLDEpLElyKCkpLDImZSYmKE9yKCJwLXRpdGxlIix0LnRpdGxlKSgicC1wcmltYXJ5LWFjdGlvbiIsdC5wcmltYXJ5QWN0aW9uKSgicC1zZWNvbmRhcnktYWN0aW9uIix0LnNlY29uZGFyeUFjdGlvbiksWnMoMSksT3IoImlubmVySHRtbCIsdC5tZXNzYWdlLEppKSl9LGRpcmVjdGl2ZXM6W3FFXSxlbmNhcHN1bGF0aW9uOjJ9KSxlfSkoKSxpaz0oKCk9PntjbGFzcyBlIGV4dGVuZHMgY2xhc3N7Y29uZmlybShlKXt0aGlzLm9wZW5EaWFsb2coWEUuQ29uZmlybSxlKX1hbGVydChlKXt0aGlzLm9wZW5EaWFsb2coWEUuQWxlcnQsZSl9fXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMucG9Db21wb25lbnRJbmplY3Rvcj1lfW9wZW5EaWFsb2coZSx0KXtjb25zdCBuPXRoaXMucG9Db21wb25lbnRJbmplY3Rvci5jcmVhdGVDb21wb25lbnRJbkFwcGxpY2F0aW9uKG5rKTtuLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKSxuLmluc3RhbmNlLm9wZW4odCxlLG4pfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaShaRSkpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpLHNrPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe3Byb3ZpZGVyczpbaWtdLGltcG9ydHM6W1t6RV1dfSksZX0pKCk7dmFyIG9rPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuQm90dG9tPTBdPSJCb3R0b20iLGVbZS5Ub3A9MV09IlRvcCIsZX0oe30pLHJrPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuRXJyb3I9MF09IkVycm9yIixlW2UuSW5mb3JtYXRpb249MV09IkluZm9ybWF0aW9uIixlW2UuU3VjY2Vzcz0yXT0iU3VjY2VzcyIsZVtlLldhcm5pbmc9M109Ildhcm5pbmciLGV9KHt9KTtsZXQgYWs9KCgpPT57Y2xhc3MgZSBleHRlbmRzIGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5vcmllbnRhdGlvbj1vay5Cb3R0b219fXtjb25zdHJ1Y3RvcihlLHQsbixpKXtzdXBlcigpLHRoaXMuY2hhbmdlRGV0ZWN0b3I9dCx0aGlzLmVsZW1lbnRlUmVmPW4sdGhpcy5yZW5kZXJlcj1pLHRoaXMuYWxpdmU9ITAsdGhpcy5tYXJnaW49MjAsdGhpcy5vYnNlcnZhYmxlT25DbG9zZT1uZXcgRCx0aGlzLnRvYXN0ZXJQb3NpdGlvbj0icG8tdG9hc3Rlci1ib3R0b20ifW5nT25EZXN0cm95KCl7dGhpcy5hbGl2ZT0hMX1uZ0FmdGVyVmlld0luaXQoKXtzZXRUaW1lb3V0KCgpPT50aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMudG9hc3Rlci5uYXRpdmVFbGVtZW50LCJwby10b2FzdGVyLXZpc2libGUiKSl9Y2hhbmdlUG9zaXRpb24oZSl7dGhpcy5lbGVtZW50ZVJlZi5uYXRpdmVFbGVtZW50LnN0eWxlLmRpc3BsYXk9InRhYmxlIix0aGlzLm1hcmdpbj02KzQ0KmUrNiplLHRoaXMub3JpZW50YXRpb249PT1vay5Ub3A/dGhpcy50b2FzdGVyLm5hdGl2ZUVsZW1lbnQuc3R5bGUudG9wPXRoaXMubWFyZ2luKyJweCI6dGhpcy50b2FzdGVyLm5hdGl2ZUVsZW1lbnQuc3R5bGUuYm90dG9tPXRoaXMubWFyZ2luKyJweCJ9Y2xvc2UoKXt0aGlzLm9ic2VydmFibGVPbkNsb3NlLm5leHQoITApfXNldEZhZGVPdXQoKXt0aGlzLnJlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMudG9hc3Rlci5uYXRpdmVFbGVtZW50LCJwby10b2FzdGVyLXZpc2libGUiKSx0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMudG9hc3Rlci5uYXRpdmVFbGVtZW50LCJwby10b2FzdGVyLWludmlzaWJsZSIpfWNvbmZpZ1RvYXN0ZXIoZSl7c3dpdGNoKHRoaXMudHlwZT1lLnR5cGUsdGhpcy5tZXNzYWdlPWUubWVzc2FnZSx0aGlzLm9yaWVudGF0aW9uPWUub3JpZW50YXRpb24sdGhpcy5wb3NpdGlvbj1lLnBvc2l0aW9uLHRoaXMuYWN0aW9uPWUuYWN0aW9uLHRoaXMuYWN0aW9uTGFiZWw9ZS5hY3Rpb25MYWJlbCx0aGlzLmNvbXBvbmVudFJlZj1lLmNvbXBvbmVudFJlZix0aGlzLm9yaWVudGF0aW9uPT09b2suVG9wJiYodGhpcy50b2FzdGVyUG9zaXRpb249InBvLXRvYXN0ZXItdG9wIiksdGhpcy5jaGFuZ2VQb3NpdGlvbih0aGlzLnBvc2l0aW9uKSx0aGlzLnR5cGUpe2Nhc2UgcmsuRXJyb3I6dGhpcy50b2FzdGVyVHlwZT0icG8tdG9hc3Rlci1lcnJvciIsdGhpcy5pY29uPSJwby1pY29uLXdhcm5pbmciO2JyZWFrO2Nhc2UgcmsuSW5mb3JtYXRpb246dGhpcy50b2FzdGVyVHlwZT0icG8tdG9hc3Rlci1pbmZvIix0aGlzLmljb249InBvLWljb24taW5mbyI7YnJlYWs7Y2FzZSByay5TdWNjZXNzOnRoaXMudG9hc3RlclR5cGU9InBvLXRvYXN0ZXItc3VjY2VzcyIsdGhpcy5pY29uPSJwby1pY29uLW9rIjticmVhaztjYXNlIHJrLldhcm5pbmc6dGhpcy50b2FzdGVyVHlwZT0icG8tdG9hc3Rlci13YXJuaW5nIix0aGlzLmljb249InBvLWljb24td2FybmluZyJ9dGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCl9Z2V0SWNvbigpe3JldHVybiB0aGlzLmljb259Z2V0VG9hc3RlclBvc2l0aW9uKCl7cmV0dXJuIHRoaXMudG9hc3RlclBvc2l0aW9ufWdldFRvYXN0ZXJUeXBlKCl7cmV0dXJuIHRoaXMudG9hc3RlclR5cGV9b25CdXR0b25DbG9zZShlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLmFjdGlvbiYmIXRoaXMuYWN0aW9uTGFiZWw/dGhpcy5wb1RvYXN0ZXJBY3Rpb24oZSk6dGhpcy5jbG9zZSgpfXBvVG9hc3RlckFjdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLmFjdGlvbih0aGlzKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIocFMpLEFyKGdsKSxBcihVYSksQXIoV2EpKX0sZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8tdG9hc3RlciJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24oZSx0KXtpZigxJmUmJnBjKFh5LDUpLDImZSl7bGV0IGU7ZGMoZT1nYygpKSYmKHQudG9hc3Rlcj1lLmZpcnN0KX19LGZlYXR1cmVzOlt1cl0sZGVjbHM6OSx2YXJzOjksY29uc3RzOltbMywiY2xpY2siXSxbInRvYXN0ZXIiLCIiXSxbMSwicG8tdG9hc3Rlci1pY29uIl0sWzEsInBvLXRvYXN0ZXItbWVzc2FnZSJdLFsiY2xhc3MiLCJwby10b2FzdGVyLWFjdGlvbiIsMywiY2xpY2siLDQsIm5nSWYiXSxbMSwicG8tdG9hc3Rlci1jbG9zZSIsMywiY2xpY2siXSxbMSwicG8taWNvbiIsInBvLWljb24tY2xvc2UiXSxbMSwicG8tdG9hc3Rlci1hY3Rpb24iLDMsImNsaWNrIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoRnIoMCwiZGl2IiwwLDEpLEJyKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gdC5jbG9zZSgpfSksRnIoMiwiZGl2IiwyKSxNcigzLCJzcGFuIiksSXIoKSxGcig0LCJkaXYiLDMpLHBhKDUpLElyKCksa3IoNixlQywyLDEsImRpdiIsNCksRnIoNywiYnV0dG9uIiw1KSxCcigiY2xpY2siLGZ1bmN0aW9uKGUpe3JldHVybiB0Lm9uQnV0dG9uQ2xvc2UoZSl9KSxNcig4LCJzcGFuIiw2KSxJcigpLElyKCkpLDImZSYmKGJhKCJwby10b2FzdGVyICIsdC5nZXRUb2FzdGVyVHlwZSgpLCIgIix0LmdldFRvYXN0ZXJQb3NpdGlvbigpLCIgcG8tY2xpY2thYmxlIiksWnMoMyksdmEoInBvLWljb24gIix0LmdldEljb24oKSwiIiksWnMoMiksZmEodC5tZXNzYWdlKSxacygxKSxPcigibmdJZiIsdC5hY3Rpb24mJnQuYWN0aW9uTGFiZWwpKX0sZGlyZWN0aXZlczpbRmhdLGVuY2Fwc3VsYXRpb246Mn0pLGV9KSgpLGxrPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbR2hdXX0pLGV9KSgpLGNrPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbR0UsWUUsUUUsSkUsJFMsc2ssRFMsbGtdLEdFLFlFLFFFLEpFLCRTLHNrLGxrXX0pLGV9KSgpO2NvbnN0IHVrPSJyaWdodCIsaGs9ImNsaWNrIixkaz1bImNsaWNrIiwiaG92ZXIiXTtsZXQgcGs9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuY2xvc2VQb3BvdmVyPW5ldyBlYyx0aGlzLmlzSGlkZGVuPSEwLHRoaXMuX2hpZGVBcnJvdz0hMSx0aGlzLl9wb3NpdGlvbj11ayx0aGlzLl90cmlnZ2VyPWhrfXNldCBoaWRlQXJyb3coZSl7dGhpcy5faGlkZUFycm93PVlEKGUpfWdldCBoaWRlQXJyb3coKXtyZXR1cm4gdGhpcy5faGlkZUFycm93fXNldCBwb3NpdGlvbihlKXt0aGlzLl9wb3NpdGlvbj1JUy5pbmNsdWRlcyhlKT9lOnVrfWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn1zZXQgdHJpZ2dlcihlKXt0aGlzLl90cmlnZ2VyPWRrLmluY2x1ZGVzKGUpP2U6aGt9Z2V0IHRyaWdnZXIoKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcn19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsaW5wdXRzOntoaWRlQXJyb3c6WyJwLWhpZGUtYXJyb3ciLCJoaWRlQXJyb3ciXSxwb3NpdGlvbjpbInAtcG9zaXRpb24iLCJwb3NpdGlvbiJdLHRyaWdnZXI6WyJwLXRyaWdnZXIiLCJ0cmlnZ2VyIl0sdGFyZ2V0OlsicC10YXJnZXQiLCJ0YXJnZXQiXSx0aXRsZTpbInAtdGl0bGUiLCJ0aXRsZSJdfSxvdXRwdXRzOntjbG9zZVBvcG92ZXI6InAtY2xvc2UifX0pLGV9KSgpLGZrPSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBwa3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksdGhpcy5yZW5kZXJlcj1lLHRoaXMucG9Db250cm9sUG9zaXRpb249dCx0aGlzLmFycm93RGlyZWN0aW9uPSJsZWZ0In1uZ0FmdGVyVmlld0luaXQoKXt0aGlzLnRhcmdldEVsZW1lbnQ9dGhpcy50YXJnZXQgaW5zdGFuY2VvZiBVYT90aGlzLnRhcmdldC5uYXRpdmVFbGVtZW50OnRoaXMudGFyZ2V0LHRoaXMuaW5pdEV2ZW50TGlzdGVuZXJGdW5jdGlvbigpLHRoaXMuc2V0RWxlbWVudHNDb250cm9sUG9zaXRpb24oKSx0aGlzLnNldFJlbmRlcmVyTGlzdGVuSW5pdCgpfW5nT25EZXN0cm95KCl7dGhpcy5yZW1vdmVMaXN0ZW5lcnMoKX1jbG9zZSgpe3RoaXMuaXNIaWRkZW49ITAsdGhpcy5jbG9zZVBvcG92ZXIuZW1pdCgpfWRlYm91bmNlUmVzaXplKCl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dFJlc2l6ZSksdGhpcy50aW1lb3V0UmVzaXplPXNldFRpbWVvdXQoKCk9Pnt0aGlzLnNldFBvcG92ZXJQb3NpdGlvbigpfSwyMDApfW9wZW4oKXt0aGlzLmFkZFNjcm9sbEV2ZW50TGlzdGVuZXIoKSx0aGlzLmlzSGlkZGVuPSExLHRoaXMuc2V0T3BhY2l0eSgwKSxzZXRUaW1lb3V0KCgpPT57dGhpcy5zZXRFbGVtZW50c0NvbnRyb2xQb3NpdGlvbigpLHRoaXMuc2V0UG9wb3ZlclBvc2l0aW9uKCksdGhpcy5zZXRPcGFjaXR5KDEpfSl9c2V0T3BhY2l0eShlKXt0aGlzLnBvcG92ZXJFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuc3R5bGUub3BhY2l0eT1lfXNldFBvcG92ZXJQb3NpdGlvbigpe3RoaXMucG9Db250cm9sUG9zaXRpb24uYWRqdXN0UG9zaXRpb24odGhpcy5wb3NpdGlvbiksdGhpcy5hcnJvd0RpcmVjdGlvbj10aGlzLnBvQ29udHJvbFBvc2l0aW9uLmdldEFycm93RGlyZWN0aW9uKCl9c2V0UmVuZGVyZXJMaXN0ZW5Jbml0KCl7dGhpcy5yZXNpemVMaXN0ZW5lcj10aGlzLnJlbmRlcmVyLmxpc3Rlbigid2luZG93IiwicmVzaXplIixlPT57dGhpcy5pc0hpZGRlbnx8dGhpcy5kZWJvdW5jZVJlc2l6ZSgpfSksImhvdmVyIj09PXRoaXMudHJpZ2dlcj8odGhpcy5tb3VzZUVudGVyTGlzdGVuZXI9dGhpcy5yZW5kZXJlci5saXN0ZW4odGhpcy50YXJnZXRFbGVtZW50LCJtb3VzZWVudGVyIixlPT57dGhpcy5vcGVuKCl9KSx0aGlzLm1vdXNlTGVhdmVMaXN0ZW5lcj10aGlzLnJlbmRlcmVyLmxpc3Rlbih0aGlzLnRhcmdldEVsZW1lbnQsIm1vdXNlbGVhdmUiLGU9Pnt0aGlzLmNsb3NlKCl9KSk6dGhpcy5jbGlja291dExpc3RlbmVyPXRoaXMucmVuZGVyZXIubGlzdGVuKCJkb2N1bWVudCIsImNsaWNrIixlPT57dGhpcy50b2dnbGVQb3B1cChlKX0pfXRvZ2dsZVBvcHVwKGUpe3RoaXMuaXNIaWRkZW58fHRoaXMucG9wb3ZlckVsZW1lbnQubmF0aXZlRWxlbWVudC5jb250YWlucyhlLnRhcmdldCl8fHRoaXMudGFyZ2V0RWxlbWVudC5jb250YWlucyhlLnRhcmdldCk/dGhpcy50YXJnZXRFbGVtZW50LmNvbnRhaW5zKGUudGFyZ2V0KSYmKHRoaXMucG9wb3ZlckVsZW1lbnQubmF0aXZlRWxlbWVudC5oaWRkZW4/dGhpcy5vcGVuKCk6dGhpcy5jbG9zZSgpKTp0aGlzLmNsb3NlKCl9YWRkU2Nyb2xsRXZlbnRMaXN0ZW5lcigpe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLHRoaXMuZXZlbnRMaXN0ZW5lckZ1bmN0aW9uLCEwKX1pbml0RXZlbnRMaXN0ZW5lckZ1bmN0aW9uKCl7dGhpcy5ldmVudExpc3RlbmVyRnVuY3Rpb249KCk9Pnt0aGlzLnNldFBvcG92ZXJQb3NpdGlvbigpfX1yZW1vdmVMaXN0ZW5lcnMoKXt0aGlzLmNsaWNrb3V0TGlzdGVuZXImJnRoaXMuY2xpY2tvdXRMaXN0ZW5lcigpLHRoaXMubW91c2VFbnRlckxpc3RlbmVyJiZ0aGlzLm1vdXNlRW50ZXJMaXN0ZW5lcigpLHRoaXMubW91c2VMZWF2ZUxpc3RlbmVyJiZ0aGlzLm1vdXNlTGVhdmVMaXN0ZW5lcigpLHRoaXMucmVzaXplTGlzdGVuZXIoKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIix0aGlzLmV2ZW50TGlzdGVuZXJGdW5jdGlvbiwhMCl9c2V0RWxlbWVudHNDb250cm9sUG9zaXRpb24oKXt0aGlzLnBvQ29udHJvbFBvc2l0aW9uLnNldEVsZW1lbnRzKHRoaXMucG9wb3ZlckVsZW1lbnQubmF0aXZlRWxlbWVudCw4LHRoaXMudGFyZ2V0KX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoV2EpLEFyKFZTKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLXBvcG92ZXIiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiZwYyh0Qyw3LFVhKSwyJmUpe2xldCBlO2RjKGU9Z2MoKSkmJih0LnBvcG92ZXJFbGVtZW50PWUuZmlyc3QpfX0sZmVhdHVyZXM6W0xhKFtWU10pLHVyXSxuZ0NvbnRlbnRTZWxlY3RvcnM6V2IsZGVjbHM6Nix2YXJzOjMsY29uc3RzOltbMSwicG8tcG9wb3ZlciIsMywiaGlkZGVuIl0sWyJwb3BvdmVyRWxlbWVudCIsIiJdLFszLCJjbGFzcyIsNCwibmdJZiJdLFsxLCJwby1wb3BvdmVyLWNvbnRlbnQiXSxbImNsYXNzIiwicG8tcG9wb3Zlci10aXRsZSIsNCwibmdJZiJdLFsxLCJwby1wb3BvdmVyLXRpdGxlIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoenIoKSxGcigwLCJkaXYiLDAsMSksa3IoMixuQywxLDMsImRpdiIsMiksRnIoMywiZGl2IiwzKSxrcig0LGlDLDIsMSwic3BhbiIsNCksV3IoNSksSXIoKSxJcigpKSwyJmUmJihPcigiaGlkZGVuIix0LmlzSGlkZGVuKSxacygyKSxPcigibmdJZiIsIXQuaGlkZUFycm93KSxacygyKSxPcigibmdJZiIsdC50aXRsZSkpfSxkaXJlY3RpdmVzOltGaF0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCksZ2s9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7aW1wb3J0czpbW0doXV19KSxlfSkoKSxtaz0oKCk9PntjbGFzcyBle3RyYW5zZm9ybShlLHQpe2lmKFFEKGUsInN0cmluZyIpJiYvXigoWzAtMV1bMC05XSl8KDJbMC0zXSkpOlswLTVdWzAtOV06WzAtNV1bMC05XVtcLl0/KFswLTldezEsNn0pPyQvZy50ZXN0KGUpKXtjb25zdCBuPXQ/dC5sYXN0SW5kZXhPZigiZiIpLXQuaW5kZXhPZigiZiIpKzE6MCxpPXRoaXMuYWRkRG90TWlsaXNlY29uZHMoZS5zdWJzdHJpbmcoOSw5K24pLG4pLHM9dGhpcy5nZXRGb3JtYXRNaWxpc2Vjb25kcyhuKTtyZXR1cm4gdGhpcy5mb3JtYXRWYWx1ZShlLHQscyxpKX1yZXR1cm4gbnVsbH1hZGREb3RNaWxpc2Vjb25kcyhlLHQpe3JldHVybiBlJiZ0JiYoZT0iLiIrZSksZX1mb3JtYXRWYWx1ZShlLHQsbixpKXtpZihlJiZ0KXtjb25zdCBzPWUuc3Vic3RyaW5nKDAsMiksbz1lLnN1YnN0cmluZygzLDUpLHI9ZS5zdWJzdHJpbmcoNiw4KTtyZXR1cm4odD0odD0odD10LnJlcGxhY2UoIkhIIixzKSkucmVwbGFjZSgibW0iLG8pKS5yZXBsYWNlKCJzcyIscikpLnJlcGxhY2UoYC4ke259YCxpKX1yZXR1cm4gZX1nZXRGb3JtYXRNaWxpc2Vjb25kcyhlKXtsZXQgdD0iIjtmb3IobGV0IG49MDtuPGU7bisrKXQrPSJmIjtyZXR1cm4gdH19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1cGlwZT1ZZSh7bmFtZToicG9fdGltZSIsdHlwZTplLHB1cmU6ITB9KSxlfSkoKSx2az0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtwcm92aWRlcnM6W10saW1wb3J0czpbW11dfSksZX0pKCksYms9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2ljb25zPVtdfXNldCBpY29ucyhlKXt0aGlzLl9pY29ucz10aGlzLmNvbnZlcnRUb0NvbHVtbkljb24oZSl9Z2V0IGljb25zKCl7cmV0dXJuIHRoaXMuX2ljb25zfWNsaWNrKGUsdCl7IXRoaXMuaXNEaXNhYmxlZChlKSYmKGUuYWN0aW9uP2UuYWN0aW9uKHRoaXMucm93LGUpOnRoaXMuY29sdW1uLmFjdGlvbiYmdGhpcy5jb2x1bW4uYWN0aW9uKHRoaXMucm93LGUpLHQuc3RvcFByb3BhZ2F0aW9uKCkpfWdldENvbG9yKGUpe2NvbnN0IHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29sb3I/ZS5jb2xvcih0aGlzLnJvdyxlKTplLmNvbG9yO2lmKHQpcmV0dXJuYHBvLXRleHQtJHt0fWB9Z2V0SWNvbihlKXtyZXR1cm4gZS5pY29ufHxlLnZhbHVlfWlzQ2xpY2thYmxlKGUpe3JldHVybiEodGhpcy5pc0Rpc2FibGVkKGUpfHwhZS5hY3Rpb24mJiF0aGlzLmNvbHVtbi5hY3Rpb24pfWlzRGlzYWJsZWQoZSl7cmV0dXJuISFlLmRpc2FibGVkJiZlLmRpc2FibGVkKHRoaXMucm93KX10cmFja0J5RnVuY3Rpb24oZSl7cmV0dXJuIGV9Y29udmVydFRvQ29sdW1uSWNvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLm1hcChlPT4ic3RyaW5nIj09dHlwZW9mIGU/e3ZhbHVlOmV9OmUpOiJzdHJpbmciPT10eXBlb2YgZT9be3ZhbHVlOmV9XTpbXX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLXRhYmxlLWNvbHVtbi1pY29uIl1dLGlucHV0czp7aWNvbnM6WyJwLWljb25zIiwiaWNvbnMiXSxjb2x1bW46WyJwLWNvbHVtbiIsImNvbHVtbiJdLHJvdzpbInAtcm93Iiwicm93Il19LGRlY2xzOjEsdmFyczoyLGNvbnN0czpbWzMsInAtY2xpY2thYmxlIiwicC1jb2xvciIsInAtZGlzYWJsZWQiLCJwLWljb24iLCJwLWljb24tdG9vbHRpcCIsInAtY2xpY2siLDQsIm5nRm9yIiwibmdGb3JPZiIsIm5nRm9yVHJhY2tCeSJdLFszLCJwLWNsaWNrYWJsZSIsInAtY29sb3IiLCJwLWRpc2FibGVkIiwicC1pY29uIiwicC1pY29uLXRvb2x0aXAiLCJwLWNsaWNrIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiZrcigwLHNDLDEsNSwicG8tdGFibGUtaWNvbiIsMCksMiZlJiZPcigibmdGb3JPZiIsdC5pY29ucykoIm5nRm9yVHJhY2tCeSIsdC50cmFja0J5RnVuY3Rpb24pfSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW09oLFBrXX0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksZX0pKCkseWs9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLnBvQ29sb3JQYWxldHRlU2VydmljZT1lfXNldCB2YWx1ZShlKXtlJiYoZS5jb2xvcj10aGlzLnBvQ29sb3JQYWxldHRlU2VydmljZS5nZXRDb2xvcihlKSksdGhpcy5fdmFsdWU9ZX1nZXQgdmFsdWUoKXtyZXR1cm4gdGhpcy5fdmFsdWV9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKEtFKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLXRhYmxlLWNvbHVtbi1sYWJlbCJdXSxpbnB1dHM6e3ZhbHVlOlsicC12YWx1ZSIsInZhbHVlIl19LGRlY2xzOjIsdmFyczozLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoRnIoMCwic3BhbiIpLHBhKDEpLElyKCkpLDImZSYmKHRhKCJwby10YWJsZS1jb2x1bW4tbGFiZWwgcG8tIisobnVsbD09dC52YWx1ZT9udWxsOnQudmFsdWUuY29sb3IpKSxacygxKSxnYSgiICIsbnVsbD09dC52YWx1ZT9udWxsOnQudmFsdWUubGFiZWwsIlxuIikpfSxlbmNhcHN1bGF0aW9uOjIsY2hhbmdlRGV0ZWN0aW9uOjB9KSxlfSkoKSxDaz0oKCk9PntjbGFzcyBle2dldCB0eXBlKCl7cmV0dXJuIHRoaXMuZGlzYWJsZWQ/ImRpc2FibGVkIjp0aGlzLmFjdGlvbj8iYWN0aW9uIjphUyh0aGlzLmxpbmspPyJleHRlcm5hbExpbmsiOiJpbnRlcm5hbExpbmsifX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8tdGFibGUtY29sdW1uLWxpbmsiXV0saW5wdXRzOnthY3Rpb246WyJwLWFjdGlvbiIsImFjdGlvbiJdLGRpc2FibGVkOlsicC1kaXNhYmxlZCIsImRpc2FibGVkIl0sbGluazpbInAtbGluayIsImxpbmsiXSxyb3c6WyJwLXJvdyIsInJvdyJdLHZhbHVlOlsicC12YWx1ZSIsInZhbHVlIl19LGRlY2xzOjUsdmFyczo1LGNvbnN0czpbWzMsIm5nU3dpdGNoIl0sWyJjbGFzcyIsInBvLXRhYmxlLWxpbmstZGlzYWJsZWQiLDQsIm5nU3dpdGNoQ2FzZSJdLFsiY2xhc3MiLCJwby10YWJsZS1saW5rIiwzLCJjbGljayIsNCwibmdTd2l0Y2hDYXNlIl0sWyJjbGFzcyIsInBvLXRhYmxlLWxpbmsiLCJ0YXJnZXQiLCJfYmxhbmsiLDMsImhyZWYiLDQsIm5nU3dpdGNoQ2FzZSJdLFsiY2xhc3MiLCJwby10YWJsZS1saW5rIiwzLCJyb3V0ZXJMaW5rIiw0LCJuZ1N3aXRjaENhc2UiXSxbMSwicG8tdGFibGUtbGluay1kaXNhYmxlZCJdLFsxLCJwby10YWJsZS1saW5rIiwzLCJjbGljayJdLFsidGFyZ2V0IiwiX2JsYW5rIiwxLCJwby10YWJsZS1saW5rIiwzLCJocmVmIl0sWzEsInBvLXRhYmxlLWxpbmsiLDMsInJvdXRlckxpbmsiXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXsxJmUmJihQcigwLDApLGtyKDEsb0MsMiwxLCJwIiwxKSxrcigyLHJDLDIsMSwiYSIsMiksa3IoMyxhQywyLDIsImEiLDMpLGtyKDQsbEMsMiwyLCJhIiw0KSxWcigpKSwyJmUmJihPcigibmdTd2l0Y2giLHQudHlwZSksWnMoMSksT3IoIm5nU3dpdGNoQ2FzZSIsImRpc2FibGVkIiksWnMoMSksT3IoIm5nU3dpdGNoQ2FzZSIsImFjdGlvbiIpLFpzKDEpLE9yKCJuZ1N3aXRjaENhc2UiLCJleHRlcm5hbExpbmsiKSxacygxKSxPcigibmdTd2l0Y2hDYXNlIiwiaW50ZXJuYWxMaW5rIikpfSxkaXJlY3RpdmVzOltWaCxMaCxUbV0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksZX0pKCk7Y29uc3Qgd2s9e2VuOntjb2x1bW5zTWFuYWdlcjoiQ29sdW1ucyBtYW5hZ2VyIixyZXN0b3JlRGVmYXVsdDoiUmVzdG9yZSBkZWZhdWx0In0sZXM6e2NvbHVtbnNNYW5hZ2VyOiJHZXJlbnRlIGRlIGNvbHVtbmEiLHJlc3RvcmVEZWZhdWx0OiJSZXN0YXVyYXIgcG9yIGRlZmVjdG8ifSxwdDp7Y29sdW1uc01hbmFnZXI6IkdlcmVuY2lhZG9yIGRlIGNvbHVuYXMiLHJlc3RvcmVEZWZhdWx0OiJSZXN0YXVyYXIgcGFkclx4ZTNvIn0scnU6e2NvbHVtbnNNYW5hZ2VyOiJcdTA0M2NcdTA0MzVcdTA0M2RcdTA0MzVcdTA0MzRcdTA0MzZcdTA0MzVcdTA0NDAgXHUwNDNhXHUwNDNlXHUwNDNiXHUwNDNlXHUwNDNkXHUwNDNlXHUwNDNhIixyZXN0b3JlRGVmYXVsdDoiXHUwNDQxXHUwNDMxXHUwNDQwXHUwNDNlXHUwNDQxIFx1MDQzZFx1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzZVx1MDQzNVx1MDQzYSJ9fTtsZXQgX2s9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucmVuZGVyZXI9ZSx0aGlzLmNvbHVtbnM9W10sdGhpcy5sYXN0VmlzaWJsZUNvbHVtbnNTZWxlY3RlZD1bXSx0aGlzLnZpc2libGVDb2x1bW5zQ2hhbmdlPW5ldyBlYyx0aGlzLmNoYW5nZVZpc2libGVDb2x1bW5zPW5ldyBlYyx0aGlzLmNvbHVtbnNPcHRpb25zPVtdLHRoaXMudmlzaWJsZUNvbHVtbnM9W10sdGhpcy5fbWF4Q29sdW1ucz05OTk5OSx0aGlzLmRlZmF1bHRDb2x1bW5zPVtdO2NvbnN0IG49dC5nZXRTaG9ydExhbmd1YWdlKCk7dGhpcy5saXRlcmFscz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sd2sucHQpLHdrW25dKX1zZXQgbWF4Q29sdW1ucyhlKXt0aGlzLl9tYXhDb2x1bW5zPVpEKGUsOTk5OTkpfWdldCBtYXhDb2x1bW5zKCl7cmV0dXJuIHRoaXMuX21heENvbHVtbnN9bmdPbkNoYW5nZXMoZSl7Y29uc3R7Y29sdW1uczp0LG1heENvbHVtbnM6bix0YXJnZXQ6aX09ZTtpJiZpLmZpcnN0Q2hhbmdlJiZ0aGlzLmluaXRpYWxpemVMaXN0ZW5lcnMoKSx0JiZ0aGlzLm9uQ2hhbmdlQ29sdW1ucyh0KSxuJiZ0aGlzLnVwZGF0ZVZhbHVlcyh0aGlzLmNvbHVtbnMpfW5nT25EZXN0cm95KCl7dGhpcy5yZW1vdmVMaXN0ZW5lcnMoKX1jaGVja0NoYW5nZXMoZT1bXSx0PSExKXt0aGlzLnZlcmlmeVRvRW1pdENoYW5nZShlKSx0JiZ0aGlzLnZlcmlmeVRvRW1pdFZpc2libGVDb2x1bW5zKCl9cmVzdG9yZSgpe3RoaXMucmVzdG9yZURlZmF1bHRFdmVudD0hMDtjb25zdCBlPXRoaXMuZ2V0VmlzaWJsZUNvbHVtbnModGhpcy5kZWZhdWx0Q29sdW1ucyk7dGhpcy5jaGVja0NoYW5nZXMoZSx0aGlzLnJlc3RvcmVEZWZhdWx0RXZlbnQpfXZlcmlmeVRvRW1pdENoYW5nZShlKXtjb25zdCB0PVsuLi5lXTt0aGlzLmFsbG93c0NoYW5nZVZpc2libGVDb2x1bW5zKCkmJnRoaXMuZW1pdENoYW5nZXNUb1NlbGVjdGVkQ29sdW1ucyh0KX1lbWl0Q2hhbmdlc1RvU2VsZWN0ZWRDb2x1bW5zKGUpe3RoaXMudmlzaWJsZUNvbHVtbnM9Wy4uLmVdO2NvbnN0IHQ9dGhpcy5nZXRWaXNpYmxlVGFibGVDb2x1bW5zKHRoaXMudmlzaWJsZUNvbHVtbnMpO3RoaXMudmlzaWJsZUNvbHVtbnNDaGFuZ2UuZW1pdCh0KX1hbGxvd3NDaGFuZ2VWaXNpYmxlQ29sdW1ucygpe2NvbnN0IGU9dGhpcy5nZXRWaXNpYmxlVGFibGVDb2x1bW5zKHRoaXMudmlzaWJsZUNvbHVtbnMpO3JldHVybiB0aGlzLnN0cmluZ2lmeShlKSE9PXRoaXMuc3RyaW5naWZ5KHRoaXMuY29sdW1ucyl9dmVyaWZ5VG9FbWl0VmlzaWJsZUNvbHVtbnMoKXt0aGlzLnJlc3RvcmVEZWZhdWx0RXZlbnQ/dGhpcy52ZXJpZnlSZXN0b3JlVmFsdWVzKCk6dGhpcy52ZXJpZnlPbkNsb3NlKCl9dmVyaWZ5UmVzdG9yZVZhbHVlcygpe2NvbnN0IGU9Wy4uLnRoaXMuZGVmYXVsdENvbHVtbnNdLHQ9dGhpcy5nZXRWaXNpYmxlQ29sdW1ucyhlKTt0aGlzLmFsbG93c0NoYW5nZVNlbGVjdGVkQ29sdW1ucyh0KSYmdGhpcy5lbWl0Q2hhbmdlT25SZXN0b3JlKHQpLHRoaXMucmVzdG9yZURlZmF1bHRFdmVudD0hMX1lbWl0Q2hhbmdlT25SZXN0b3JlKGUpe3RoaXMudmlzaWJsZUNvbHVtbnM9Wy4uLmVdO2NvbnN0IHQ9dGhpcy5nZXRWaXNpYmxlVGFibGVDb2x1bW5zKHRoaXMudmlzaWJsZUNvbHVtbnMpO3RoaXMudmlzaWJsZUNvbHVtbnNDaGFuZ2UuZW1pdCh0KX1hbGxvd3NDaGFuZ2VTZWxlY3RlZENvbHVtbnMoZSl7Y29uc3QgdD10aGlzLmdldFZpc2libGVDb2x1bW5zKHRoaXMuY29sdW1ucyk7cmV0dXJuIXRoaXMuaXNFcXVhbEFycmF5cyhlLHQpfXZlcmlmeU9uQ2xvc2UoKXt0aGlzLmFsbG93c0VtaXNzaW9uKCkmJnRoaXMuZW1pdFZpc2libGVDb2x1bW5zKCl9ZW1pdFZpc2libGVDb2x1bW5zKCl7dGhpcy5sYXN0RW1pdHRlZFZhbHVlPVsuLi50aGlzLnZpc2libGVDb2x1bW5zXSx0aGlzLmNoYW5nZVZpc2libGVDb2x1bW5zLmVtaXQodGhpcy52aXNpYmxlQ29sdW1ucyl9YWxsb3dzRW1pc3Npb24oKXtjb25zdCBlPXRoaXMudmlzaWJsZUNvbHVtbnM/Wy4uLnRoaXMudmlzaWJsZUNvbHVtbnNdOltdLHQ9dGhpcy5sYXN0RW1pdHRlZFZhbHVlP1suLi50aGlzLmxhc3RFbWl0dGVkVmFsdWVdOltdLG49dGhpcy5sYXN0VmlzaWJsZUNvbHVtbnNTZWxlY3RlZD9bLi4udGhpcy5sYXN0VmlzaWJsZUNvbHVtbnNTZWxlY3RlZF06W10saT10aGlzLmdldFZpc2libGVDb2x1bW5zKG4pO3JldHVybiB0aGlzLmlzVXBkYXRlKGUsdCl8fHRoaXMuaXNGaXJzdFRpbWUoZSxpKX1pc0ZpcnN0VGltZShlLHQpe3JldHVybiF0aGlzLmxhc3RFbWl0dGVkVmFsdWUmJiF0aGlzLmlzRXF1YWxBcnJheXMoZSx0KX1pc1VwZGF0ZShlLHQpe3JldHVybiB0aGlzLmxhc3RFbWl0dGVkVmFsdWUmJiF0aGlzLmlzRXF1YWxBcnJheXMoZSx0KX1pc0VxdWFsQXJyYXlzKGUsdCl7Y29uc3Qgbj1lP1suLi5lXTpbXSxpPXQ/Wy4uLnRdOltdLHM9bi5zbGljZSgpLnNvcnQoKSxvPWkuc2xpY2UoKS5zb3J0KCk7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHMpPT09SlNPTi5zdHJpbmdpZnkobyl9ZGlzYWJsZUNvbHVtbnNPcHRpb25zKGU9W10pe3JldHVybiBlLm1hcChlPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse2Rpc2FibGVkOnRoaXMuaXNEaXNhYmxlQ29sdW1uKGUudmFsdWUpfSkpfWdldENvbHVtblRpdGxlTGFiZWwoZSl7cmV0dXJuIGUubGFiZWx8fGNTKGUucHJvcGVydHkpfWdldFZpc2libGVDb2x1bW5zKGUpe2xldCB0PVtdO3JldHVybiBlLmZvckVhY2goZT0+e3RoaXMuaXNWaXNpYmxlQ29sdW1uKGUsdCkmJih0PVsuLi50LGUucHJvcGVydHldKX0pLHR9aXNWaXNpYmxlQ29sdW1uKGUsdCl7cmV0dXJuITEhPT1lLnZpc2libGUmJnQubGVuZ3RoPHRoaXMubWF4Q29sdW1ucyYmImRldGFpbCIhPT1lLnR5cGV9Z2V0VmlzaWJsZVRhYmxlQ29sdW1ucyhlKXtyZXR1cm4odGhpcy5jb2x1bW5zP1suLi50aGlzLmNvbHVtbnNdOltdKS5tYXAodD0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHt2aXNpYmxlOmUuaW5jbHVkZXModC5wcm9wZXJ0eSl8fCJkZXRhaWwiPT09dC50eXBlfSkpfWluaXRpYWxpemVMaXN0ZW5lcnMoKXt0aGlzLnJlc2l6ZUxpc3RlbmVyPXRoaXMucmVuZGVyZXIubGlzdGVuKCJ3aW5kb3ciLCJyZXNpemUiLCgpPT57dGhpcy5wb3BvdmVyJiYhdGhpcy5wb3BvdmVyLmlzSGlkZGVuJiZ0aGlzLnBvcG92ZXIuY2xvc2UoKX0pfWlzRGlzYWJsZUNvbHVtbihlKXtyZXR1cm4gdGhpcy52aXNpYmxlQ29sdW1ucy5sZW5ndGg+PXRoaXMubWF4Q29sdW1ucyYmIXRoaXMudmlzaWJsZUNvbHVtbnMuaW5jbHVkZXMoZSl9bWFwVGFibGVDb2x1bW5zVG9DaGVja2JveE9wdGlvbnMoZT1bXSl7Y29uc3QgdD1bLi4uZV0sbj1bXTtyZXR1cm4gdC5mb3JFYWNoKGU9PnsiZGV0YWlsIiE9PWUudHlwZSYmbi5wdXNoKHt2YWx1ZTplLnByb3BlcnR5LGxhYmVsOnRoaXMuZ2V0Q29sdW1uVGl0bGVMYWJlbChlKSxkaXNhYmxlZDp0aGlzLmlzRGlzYWJsZUNvbHVtbihlLnByb3BlcnR5KX0pfSksbn1vbkNoYW5nZUNvbHVtbnMoZSl7Y29uc3R7Y3VycmVudFZhbHVlOnQ9W10scHJldmlvdXNWYWx1ZTpuPVtdfT1lO3RoaXMubGFzdFZpc2libGVDb2x1bW5zU2VsZWN0ZWR8fHRoaXMuc3RyaW5naWZ5KHRoaXMuZGVmYXVsdENvbHVtbnMpPT09dGhpcy5zdHJpbmdpZnkodCl8fCh0aGlzLmRlZmF1bHRDb2x1bW5zPVsuLi50XSksdGhpcy5zdHJpbmdpZnkobikhPT10aGlzLnN0cmluZ2lmeSh0KSYmdGhpcy51cGRhdGVWYWx1ZXModCl9dXBkYXRlVmFsdWVzKGUpe2NvbnN0IHQ9dGhpcy5nZXRWaXNpYmxlQ29sdW1ucyhlKTt0aGlzLnZpc2libGVDb2x1bW5zPVsuLi50XTtjb25zdCBuPXRoaXMubWFwVGFibGVDb2x1bW5zVG9DaGVja2JveE9wdGlvbnMoZSk7dGhpcy5jb2x1bW5zT3B0aW9ucz10aGlzLmRpc2FibGVDb2x1bW5zT3B0aW9ucyhuKSx0aGlzLmNoZWNrQ2hhbmdlcyh0LCExKX1yZW1vdmVMaXN0ZW5lcnMoKXt0aGlzLnJlc2l6ZUxpc3RlbmVyJiZ0aGlzLnJlc2l6ZUxpc3RlbmVyKCl9c3RyaW5naWZ5KGUpe3JldHVybiBKU09OLnN0cmluZ2lmeShlLChlLHQpPT57aWYoImljb24iIT09ZSlyZXR1cm4gdH0pfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShBcihXYSksQXIocFMpKX0sZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8tdGFibGUtY29sdW1uLW1hbmFnZXIiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiZwYyhmayw1KSwyJmUpe2xldCBlO2RjKGU9Z2MoKSkmJih0LnBvcG92ZXI9ZS5maXJzdCl9fSxpbnB1dHM6e2NvbHVtbnM6WyJwLWNvbHVtbnMiLCJjb2x1bW5zIl0sbGFzdFZpc2libGVDb2x1bW5zU2VsZWN0ZWQ6WyJwLWxhc3QtdmlzaWJsZS1jb2x1bW5zLXNlbGVjdGVkIiwibGFzdFZpc2libGVDb2x1bW5zU2VsZWN0ZWQiXSxtYXhDb2x1bW5zOlsicC1tYXgtY29sdW1ucyIsIm1heENvbHVtbnMiXSx0YXJnZXQ6WyJwLXRhcmdldCIsInRhcmdldCJdfSxvdXRwdXRzOnt2aXNpYmxlQ29sdW1uc0NoYW5nZToicC12aXNpYmxlLWNvbHVtbnMtY2hhbmdlIixjaGFuZ2VWaXNpYmxlQ29sdW1uczoicC1jaGFuZ2UtdmlzaWJsZS1jb2x1bW5zIn0sZmVhdHVyZXM6W2x0XSxkZWNsczoxLHZhcnM6MSxjb25zdHM6W1sicC1wb3NpdGlvbiIsImJvdHRvbS1sZWZ0IiwzLCJwLXRhcmdldCIsInAtY2xvc2UiLDQsIm5nSWYiXSxbInAtcG9zaXRpb24iLCJib3R0b20tbGVmdCIsMywicC10YXJnZXQiLCJwLWNsb3NlIl0sWyJwb3BvdmVyIiwiIl0sWzEsInBvLXRhYmxlLWNvbHVtbi1tYW5hZ2VyLWhlYWRlciJdLFsxLCJwby10YWJsZS1jb2x1bW4tbWFuYWdlci1oZWFkZXItdGl0bGUiXSxbMSwicG8tdGFibGUtY29sdW1uLW1hbmFnZXItaGVhZGVyLWNsb3NlIl0sWzEsInBvLXRhYmxlLWNvbHVtbi1tYW5hZ2VyLWhlYWRlci1jbG9zZS1idXR0b24iLCJwby1jbGlja2FibGUiLCJwby1pY29uIiwicG8taWNvbi1jbG9zZSIsMywiY2xpY2siXSxbMSwicG8tdGFibGUtY29sdW1uLW1hbmFnZXItYm9keSJdLFsibmFtZSIsInZpc2libGVDb2x1bW5zIiwicC1jb2x1bW5zIiwiMSIsMywibmdNb2RlbCIsInAtb3B0aW9ucyIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSJdLFsxLCJwby10YWJsZS1jb2x1bW4tbWFuYWdlci1mb290ZXIiXSxbInAtc21hbGwiLCIiLCJwLXR5cGUiLCJsaW5rIiwxLCJwby10YWJsZS1jb2x1bW4tbWFuYWdlci1mb290ZXItcmVzdG9yZSIsMywicC1sYWJlbCIsInAtY2xpY2siXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXsxJmUmJmtyKDAsY0MsMTEsNSwicG8tcG9wb3ZlciIsMCksMiZlJiZPcigibmdJZiIsdC50YXJnZXQpfSxkaXJlY3RpdmVzOltGaCxmayxPRSxKdixEYixUU10sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCk7dmFyIERrPWZ1bmN0aW9uKGUpe3JldHVybiBlLkFzY2VuZGluZz0iYXNjZW5kaW5nIixlLkRlc2NlbmRpbmc9ImRlc2NlbmRpbmciLGV9KHt9KTtsZXQgU2s9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmh0dHA9ZSx0aGlzLmhlYWRlcnM9bmV3IFhtKHsiWC1QTy1Oby1NZXNzYWdlIjoidHJ1ZSJ9KX1nZXRGaWx0ZXJlZEl0ZW1zKGUpe2NvbnN0IHQ9dGhpcy52YWxpZGF0ZVBhcmFtcyhlKTtyZXR1cm4gdGhpcy5odHRwLmdldCh0aGlzLnVybCx7aGVhZGVyczp0aGlzLmhlYWRlcnMscGFyYW1zOnR9KX1zZXRVcmwoZSl7dGhpcy51cmw9ZX1zY3JvbGxMaXN0ZW5lcihlKXtyZXR1cm4gaXAoZSwic2Nyb2xsIikucGlwZShMYigxMDApKX12YWxpZGF0ZVBhcmFtcyhlKXtyZXR1cm4gUUQoZSwib2JqZWN0IikmJiFBcnJheS5pc0FycmF5KGUpP2U6dm9pZCAwfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaShndikpfSxlLlx1MDI3NXByb3Y9aGUoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUoY2koZ3YpKX0sdG9rZW46ZSxwcm92aWRlZEluOiJyb290In0pLGV9KSgpO2NvbnN0IEVrPVsiYm9yZGVyIiwic2hhZG93Il0sa2s9e2VuOntub0NvbHVtbnM6IkNvbHVtbnMgYXJlIG5vdCBkZWZpbmVkIixub0RhdGE6Ik5vIGRhdGEgZm91bmQiLG5vVmlzaWJsZUNvbHVtbjoiTm8gdmlzaWJsZSBjb2x1bW4iLGxvYWRpbmdEYXRhOiJMb2FkaW5nIixsb2FkTW9yZURhdGE6IkxvYWQgbW9yZSBkYXRhIixzZWVDb21wbGV0ZVN1YnRpdGxlOiJTZWUgY29tcGxldGUgc3VidGl0bGUiLGNvbXBsZXRlU3VidGl0bGU6IkNvbXBsZXRlIHN1YnRpdGxlIixjb2x1bW5zTWFuYWdlcjoiQ29sdW1ucyBtYW5hZ2VyIn0sZXM6e25vQ29sdW1uczoiQ29sdW1uYXMgbm8gZGVmaW5pZGFzIixub0RhdGE6IkRhdG9zIG5vIGVuY29udHJhZG9zIixub1Zpc2libGVDb2x1bW46IlNpbiBjb2x1bW5hcyB2aXNpYmxlcyIsbG9hZGluZ0RhdGE6IkNhcmdhbmRvIGRhdG9zIixsb2FkTW9yZURhdGE6IkNhcmdhciBtXHhlMXMgcmVzdWx0YWRvcyIsc2VlQ29tcGxldGVTdWJ0aXRsZToiVmVyIHN1YnRpdHVsbyBjb21wbGV0byIsY29tcGxldGVTdWJ0aXRsZToiU3VidGl0dWxvIGNvbXBsZXRvIixjb2x1bW5zTWFuYWdlcjoiR2VyZW50ZSBkZSBjb2x1bW5hIn0scHQ6e25vQ29sdW1uczoiTmVuaHVtYSBkZWZpbmlceGU3XHhlM28gZGUgY29sdW5hcyIsbm9EYXRhOiJOZW5odW0gZGFkbyBlbmNvbnRyYWRvIixub1Zpc2libGVDb2x1bW46Ik5lbmh1bWEgY29sdW5hIHZpc1x4ZWR2ZWwiLGxvYWRpbmdEYXRhOiJDYXJyZWdhbmRvIixsb2FkTW9yZURhdGE6IkNhcnJlZ2FyIG1haXMgcmVzdWx0YWRvcyIsc2VlQ29tcGxldGVTdWJ0aXRsZToiVmVyIGxlZ2VuZGEgY29tcGxldGEiLGNvbXBsZXRlU3VidGl0bGU6IkxlZ2VuZGEgY29tcGxldGEiLGNvbHVtbnNNYW5hZ2VyOiJHZXJlbmNpYWRvciBkZSBjb2x1bmFzIn0scnU6e25vQ29sdW1uczoiXHUwNDFkXHUwNDM1XHUwNDQyIFx1MDQzZVx1MDQzZlx1MDQ0MFx1MDQzNVx1MDQzNFx1MDQzNVx1MDQzYlx1MDQzNVx1MDQzZFx1MDQzOFx1MDQ0ZiBcdTA0NDFcdTA0NDJcdTA0M2VcdTA0M2JcdTA0MzFcdTA0NDZcdTA0MzAiLG5vRGF0YToiXHUwNDE0XHUwNDMwXHUwNDNkXHUwNDNkXHUwNDRiXHUwNDM1IFx1MDQzZFx1MDQzNSBcdTA0M2RcdTA0MzBcdTA0MzlcdTA0MzRcdTA0MzVcdTA0M2RcdTA0NGIiLG5vVmlzaWJsZUNvbHVtbjoiXHUwNDNkXHUwNDM1XHUwNDQyIFx1MDQzMlx1MDQzOFx1MDQzNFx1MDQzOFx1MDQzY1x1MDQ0Ylx1MDQ0NSBcdTA0NDFcdTA0NDJcdTA0M2VcdTA0M2JcdTA0MzFcdTA0NDZcdTA0M2VcdTA0MzIiLGxvYWRpbmdEYXRhOiJcdTA0M2ZcdTA0M2VcdTA0MzNcdTA0NDBcdTA0NDNcdTA0MzdcdTA0M2FcdTA0MzAiLGxvYWRNb3JlRGF0YToiXHUwNDM3XHUwNDMwXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDM3XHUwNDNhXHUwNDMwIixzZWVDb21wbGV0ZVN1YnRpdGxlOiJcdTA0MWZcdTA0M2VcdTA0NDFcdTA0M2NcdTA0M2VcdTA0NDJcdTA0NDBcdTA0MzVcdTA0NDJcdTA0NGMgXHUwNDNmXHUwNDNlXHUwNDNiXHUwNDNkXHUwNDRiXHUwNDM5IFx1MDQ0MVx1MDQ0M1x1MDQzMVx1MDQ0Mlx1MDQzOFx1MDQ0Mlx1MDQ0MCIsY29tcGxldGVTdWJ0aXRsZToiXHUwNDFmXHUwNDNlXHUwNDNiXHUwNDNkXHUwNDRiXHUwNDM5IFx1MDQzN1x1MDQzMFx1MDQzM1x1MDQzZVx1MDQzYlx1MDQzZVx1MDQzMlx1MDQzZVx1MDQzYSIsY29sdW1uc01hbmFnZXI6Ilx1MDQzY1x1MDQzNVx1MDQzZFx1MDQzNVx1MDQzNFx1MDQzNlx1MDQzNVx1MDQ0MCBcdTA0M2FcdTA0M2VcdTA0M2JcdTA0M2VcdTA0M2RcdTA0M2VcdTA0M2EifX07bGV0IHhrPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMucG9EYXRlPWUsdGhpcy5wb1RhYmxlU2VydmljZT1uLHRoaXMuaGlkZVRleHRPdmVyZmxvdz0hMSx0aGlzLmhpZGVDb2x1bW5zTWFuYWdlcj0hMSx0aGlzLmF1dG9Db2xsYXBzZT0hMSx0aGlzLmxvYWRpbmdTaG93TW9yZT0hMSx0aGlzLnNvcnQ9ITEsdGhpcy5zaG93TW9yZURpc2FibGVkPSExLHRoaXMuc3RyaXBlZD0hMSx0aGlzLmhpZGVTZWxlY3RBbGw9ITEsdGhpcy5zaW5nbGVTZWxlY3Q9ITEsdGhpcy5hbGxTZWxlY3RlZD1uZXcgZWMsdGhpcy5hbGxVbnNlbGVjdGVkPW5ldyBlYyx0aGlzLmNvbGxhcHNlZD1uZXcgZWMsdGhpcy5leHBhbmRlZD1uZXcgZWMsdGhpcy5zZWxlY3RlZD1uZXcgZWMsdGhpcy5zaG93TW9yZT1uZXcgZWMsdGhpcy5zb3J0Qnk9bmV3IGVjLHRoaXMudW5zZWxlY3RlZD1uZXcgZWMsdGhpcy5jaGFuZ2VWaXNpYmxlQ29sdW1ucz1uZXcgZWMsdGhpcy5oYXNNYWluQ29sdW1ucz0hMSx0aGlzLm1haW5Db2x1bW5zPVtdLHRoaXMuc2VsZWN0QWxsPSExLHRoaXMuc29ydGVkQ29sdW1uPXtwcm9wZXJ0eTpudWxsLGFzY2VuZGluZzohMH0sdGhpcy5zdWJ0aXRsZUNvbHVtbnM9W10sdGhpcy5wYWdlPTEsdGhpcy5wYWdlU2l6ZT0xMCx0aGlzLmhhc1NlcnZpY2U9ITEsdGhpcy5fYWN0aW9ucz1bXSx0aGlzLl9jb2x1bW5zPVtdLHRoaXMuX2hpZGVEZXRhaWw9ITEsdGhpcy5fbG9hZGluZz0hMSx0aGlzLmxhbmd1YWdlPXFELHRoaXMuX2luZmluaXRlU2Nyb2xsRGlzdGFuY2U9MTAwLHRoaXMuX2luZmluaXRlU2Nyb2xsPSExLHRoaXMubGFuZ3VhZ2U9dC5nZXRTaG9ydExhbmd1YWdlKCl9c2V0IGl0ZW1zKGUpe3RoaXMuX2l0ZW1zPUFycmF5LmlzQXJyYXkoZSk/ZTpbXSx0aGlzLmhhc0l0ZW1zP3RoaXMuaGFzQ29sdW1uc3x8KHRoaXMuY29sdW1ucz10aGlzLmdldERlZmF1bHRDb2x1bW5zKGVbMF0pKTp0aGlzLnNlbGVjdEFsbD0hMSxzZXRUaW1lb3V0KCgpPT50aGlzLmNoZWNrSW5maW5pdGVTY3JvbGwoKSl9Z2V0IGl0ZW1zKCl7cmV0dXJuIHRoaXMuX2l0ZW1zfXNldCBjb2x1bW5zKGUpe3RoaXMuX2NvbHVtbnM9ZXx8W10sdGhpcy5fY29sdW1ucy5sZW5ndGg/KHRoaXMuc2V0Q29sdW1uTGluaygpLHRoaXMuY2FsY3VsYXRlV2lkdGhIZWFkZXJzKCkpOnRoaXMuaGFzSXRlbXMmJih0aGlzLl9jb2x1bW5zPXRoaXMuZ2V0RGVmYXVsdENvbHVtbnModGhpcy5pdGVtc1swXSkpLHRoaXMub25DaGFuZ2VDb2x1bW5zKCl9Z2V0IGNvbHVtbnMoKXtyZXR1cm4gdGhpcy5fY29sdW1uc31zZXQgY29udGFpbmVyKGUpe3RoaXMuX2NvbnRhaW5lcj1Fay5pbmNsdWRlcyhlKT9lOiJib3JkZXIifWdldCBjb250YWluZXIoKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyfXNldCBoZWlnaHQoZSl7dGhpcy5faGVpZ2h0PWUsdGhpcy5jYWxjdWxhdGVXaWR0aEhlYWRlcnMoKX1nZXQgaGVpZ2h0KCl7cmV0dXJuIHRoaXMuX2hlaWdodH1zZXQgaGlkZURldGFpbChlKXt0aGlzLl9oaWRlRGV0YWlsPW51bGwhPWUmJiIiPT09ZS50b1N0cmluZygpfHxZRChlKSx0aGlzLmNhbGN1bGF0ZVdpZHRoSGVhZGVycygpfWdldCBoaWRlRGV0YWlsKCl7cmV0dXJuIHRoaXMuX2hpZGVEZXRhaWx9c2V0IGxpdGVyYWxzKGUpe3RoaXMuX2xpdGVyYWxzPWUgaW5zdGFuY2VvZiBPYmplY3QmJiEoZSBpbnN0YW5jZW9mIEFycmF5KT9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxray5wdCksa2tbdGhpcy5sYW5ndWFnZV0pLGUpOmtrW3RoaXMubGFuZ3VhZ2VdfWdldCBsaXRlcmFscygpe3JldHVybiB0aGlzLl9saXRlcmFsc3x8a2tbdGhpcy5sYW5ndWFnZV19c2V0IGxvYWRpbmcoZSl7dGhpcy5fbG9hZGluZz1ZRChlKSx0aGlzLmNhbGN1bGF0ZVdpZHRoSGVhZGVycygpfWdldCBsb2FkaW5nKCl7cmV0dXJuIHRoaXMuX2xvYWRpbmd9c2V0IGFjdGlvbnMoZSl7dGhpcy5fYWN0aW9ucz1lLHRoaXMuY2FsY3VsYXRlV2lkdGhIZWFkZXJzKCl9Z2V0IGFjdGlvbnMoKXtyZXR1cm4gdGhpcy5fYWN0aW9uc31zZXQgc2VsZWN0YWJsZShlKXt0aGlzLl9zZWxlY3RhYmxlPSIiPT09ZXx8WUQoZSksdGhpcy5jYWxjdWxhdGVXaWR0aEhlYWRlcnMoKX1nZXQgc2VsZWN0YWJsZSgpe3JldHVybiB0aGlzLl9zZWxlY3RhYmxlfXNldCBpbmZpbml0ZVNjcm9sbChlKXt0aGlzLl9pbmZpbml0ZVNjcm9sbD1ZRChlJiZ0aGlzLmhlaWdodD4wKX1nZXQgaW5maW5pdGVTY3JvbGwoKXtyZXR1cm4gdGhpcy5faW5maW5pdGVTY3JvbGx9c2V0IGluZmluaXRlU2Nyb2xsRGlzdGFuY2UoZSl7dGhpcy5faW5maW5pdGVTY3JvbGxEaXN0YW5jZT1lPjEwMHx8ZTwwPzEwMDplfWdldCBpbmZpbml0ZVNjcm9sbERpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX2luZmluaXRlU2Nyb2xsRGlzdGFuY2V9c2V0IHNlcnZpY2VBcGkoZSl7dGhpcy5fc2VydmljZUFwaT1lLHRoaXMuc2V0U2VydmljZSh0aGlzLnNlcnZpY2VBcGkpLHRoaXMuaGFzU2VydmljZT0hIWUsdGhpcy5zaG93TW9yZURpc2FibGVkPSF0aGlzLmhhc1NlcnZpY2UsdGhpcy5wYWdlPTEsdGhpcy5pbml0aWFsaXplRGF0YSgpfWdldCBzZXJ2aWNlQXBpKCl7cmV0dXJuIHRoaXMuX3NlcnZpY2VBcGl9Z2V0IGhhc0NvbHVtbnMoKXtyZXR1cm4gdGhpcy5jb2x1bW5zJiZ0aGlzLmNvbHVtbnMubGVuZ3RoPjB9Z2V0IGhhc0l0ZW1zKCl7cmV0dXJuISghdGhpcy5pdGVtc3x8IXRoaXMuaXRlbXMubGVuZ3RoKX1nZXQgbmFtZUNvbHVtbkRldGFpbCgpe3JldHVybiB0aGlzLmNvbHVtbk1hc3RlckRldGFpbD90aGlzLmNvbHVtbk1hc3RlckRldGFpbC5wcm9wZXJ0eTpudWxsfWdldCB2YWxpZENvbHVtbnMoKXtjb25zdCBlPVsic3RyaW5nIiwibnVtYmVyIiwiYm9vbGVhbiIsImRhdGUiLCJ0aW1lIiwiZGF0ZVRpbWUiLCJjdXJyZW5jeSIsInN1YnRpdGxlIiwibGluayIsImxhYmVsIiwiaWNvbiIsImNlbGxUZW1wbGF0ZSIsImNvbHVtblRlbXBsYXRlIl07cmV0dXJuIHRoaXMuY29sdW1ucy5maWx0ZXIodD0+IXQudHlwZXx8ZS5pbmNsdWRlcyh0LnR5cGUpKX1nZXQgc29ydFR5cGUoKXtyZXR1cm4gdGhpcy5zb3J0ZWRDb2x1bW4uYXNjZW5kaW5nP0RrLkFzY2VuZGluZzpEay5EZXNjZW5kaW5nfW5nT25EZXN0cm95KCl7dmFyIGU7bnVsbD09PShlPXRoaXMucG9UYWJsZVNlcnZpY2VTdWJzY3JpcHRpb24pfHx2b2lkIDA9PT1lfHxlLnVuc3Vic2NyaWJlKCl9bmdPbkNoYW5nZXMoZSl7KHRoaXMuc2luZ2xlU2VsZWN0fHx0aGlzLmhpZGVTZWxlY3RBbGwpJiYodGhpcy5zZWxlY3RBbGw9ITEsdGhpcy5oaWRlU2VsZWN0QWxsPSEwKSxlLmhlaWdodCYmdGhpcy5jYWxjdWxhdGVIZWlnaHRUYWJsZUNvbnRhaW5lcih0aGlzLmhlaWdodCl9c2VsZWN0QWxsUm93cygpe3RoaXMuaGlkZVNlbGVjdEFsbHx8KHRoaXMuc2VsZWN0QWxsPSF0aGlzLnNlbGVjdEFsbCx0aGlzLml0ZW1zLmZvckVhY2goZT0+e2UuJHNlbGVjdGVkPXRoaXMuc2VsZWN0QWxsfSksdGhpcy5lbWl0U2VsZWN0QWxsRXZlbnRzKHRoaXMuc2VsZWN0QWxsLHRoaXMuaXRlbXMpKX1zZWxlY3RSb3coZSl7ZS4kc2VsZWN0ZWQ9IWUuJHNlbGVjdGVkLHRoaXMuZW1pdFNlbGVjdEV2ZW50cyhlKSx0aGlzLmNvbmZpZ0FmdGVyU2VsZWN0Um93KHRoaXMuaXRlbXMsZSl9c2VsZWN0RGV0YWlsUm93KGUpe3RoaXMuZW1pdFNlbGVjdEV2ZW50cyhlKX1nZXRDbGFzc0NvbG9yKGUsdCl7cmV0dXJuIHQuY29sb3I/YHBvLXRleHQtJHt0aGlzLmdldENvbHVtbkNvbG9yKGUsdCl9YDoiIn10b2dnbGVEZXRhaWwoZSl7Y29uc3QgdD1lLiRzaG93RGV0YWlsO3RoaXMuYXV0b0NvbGxhcHNlJiZ0aGlzLmNvbGxhcHNlQWxsSXRlbXModGhpcy5pdGVtcyksdGhpcy5zZXRTaG93RGV0YWlsKGUsIXQpLHRoaXMuZW1pdEV4cGFuZEV2ZW50cyhlKX10b2dnbGVSb3dBY3Rpb24oZSl7Y29uc3QgdD1lLiRzaG93QWN0aW9uO3RoaXMuaXRlbXMuZm9yRWFjaChlPT57ZS4kc2hvd0FjdGlvbiYmKGUuJHNob3dBY3Rpb249ITEpfSksZS4kc2hvd0FjdGlvbj0hdH1zb3J0Q29sdW1uKGUpe3RoaXMuc29ydCYmImRldGFpbCIhPT1lLnR5cGUmJih0aGlzLnNvcnRlZENvbHVtbi5hc2NlbmRpbmc9dGhpcy5zb3J0ZWRDb2x1bW4ucHJvcGVydHkhPT1lfHwhdGhpcy5zb3J0ZWRDb2x1bW4uYXNjZW5kaW5nLHRoaXMuc29ydEFycmF5KGUsdGhpcy5zb3J0ZWRDb2x1bW4uYXNjZW5kaW5nKSx0aGlzLnNvcnRCeS5lbWl0KHtjb2x1bW46ZSx0eXBlOnRoaXMuc29ydFR5cGV9KSx0aGlzLmhhc1NlcnZpY2UmJnRoaXMuc29ydCYmKHRoaXMuc29ydFN0b3JlPXtjb2x1bW46ZSx0eXBlOnRoaXMuc29ydFR5cGV9KSx0aGlzLnNvcnRlZENvbHVtbi5wcm9wZXJ0eT1lKX1vblNob3dNb3JlKCl7Y29uc3QgZT10aGlzLnNvcnRlZENvbHVtbi5wcm9wZXJ0eT97Y29sdW1uOnRoaXMuc29ydGVkQ29sdW1uLnByb3BlcnR5LHR5cGU6dGhpcy5zb3J0VHlwZX06dm9pZCAwO3RoaXMuaGFzU2VydmljZSYmKHRoaXMucGFnZSsrLHRoaXMubG9hZGluZz0hMCx0aGlzLmxvYWRpbmdTaG93TW9yZT0hMCx0aGlzLnBvVGFibGVTZXJ2aWNlU3Vic2NyaXB0aW9uPXRoaXMuZ2V0RmlsdGVyZWRJdGVtcygpLnN1YnNjcmliZShlPT57dGhpcy5pdGVtcz1bLi4udGhpcy5pdGVtcywuLi5lLml0ZW1zXSx0aGlzLnNob3dNb3JlRGlzYWJsZWQ9IWUuaGFzTmV4dCx0aGlzLmxvYWRpbmc9ITEsdGhpcy5sb2FkaW5nU2hvd01vcmU9ITF9KSksdGhpcy5zaG93TW9yZS5lbWl0KGUpfWdldEZpbHRlcmVkSXRlbXMoZSl7Y29uc3QgdD10aGlzLmdldEZpbHRlcmVkUGFyYW1zKGUpO3JldHVybiB0aGlzLnBvVGFibGVTZXJ2aWNlLmdldEZpbHRlcmVkSXRlbXModCl9c2V0VGFibGVSZXNwb25zZVByb3BlcnRpZXMoZSl7dGhpcy5pdGVtcz1lLml0ZW1zfHxbXSx0aGlzLnNob3dNb3JlRGlzYWJsZWQ9IWUuaGFzTmV4dCx0aGlzLmxvYWRpbmc9ITF9aW5pdGlhbGl6ZURhdGEoZSl7dGhpcy5oYXNTZXJ2aWNlJiYodGhpcy5sb2FkaW5nPSEwLHRoaXMuZ2V0RmlsdGVyZWRJdGVtcyhlKS5zdWJzY3JpYmUoZT0+e3RoaXMuc2V0VGFibGVSZXNwb25zZVByb3BlcnRpZXMoZSl9KSl9Z2V0RGVmYXVsdENvbHVtbnMoZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZpbHRlcih0PT4ib2JqZWN0IiE9dHlwZW9mIGVbdF0pLm1hcChlPT4oe2xhYmVsOmNTKGUpLHByb3BlcnR5OmV9KSl9c2V0U2hvd0RldGFpbChlLHQpeygibnVtYmVyIj09dHlwZW9mIGUmJnRoaXMuaXRlbXNbZV0/dGhpcy5pdGVtc1tlXTplKS4kc2hvd0RldGFpbD10fWNvbGxhcHNlQWxsSXRlbXMoZSl7Zm9yKGNvbnN0IHQgb2YgZSl0LiRzaG93RGV0YWlsJiYodGhpcy5zZXRTaG93RGV0YWlsKHQsITEpLHRoaXMuZW1pdEV4cGFuZEV2ZW50cyh0KSl9Y29uZmlnQWZ0ZXJTZWxlY3RSb3coZSx0KXt0aGlzLnNpbmdsZVNlbGVjdD90aGlzLnVuc2VsZWN0T3RoZXJSb3dzKGUsdCk6dGhpcy5oaWRlU2VsZWN0QWxsfHwodGhpcy5zZWxlY3RBbGw9dGhpcy5pc0V2ZXJ5U2VsZWN0ZWQoZSkpfWVtaXRFeHBhbmRFdmVudHMoZSl7ZS4kc2hvd0RldGFpbD90aGlzLmV4cGFuZGVkLmVtaXQoZSk6dGhpcy5jb2xsYXBzZWQuZW1pdChlKX1lbWl0U2VsZWN0QWxsRXZlbnRzKGUsdCl7ZT90aGlzLmFsbFNlbGVjdGVkLmVtaXQodCk6dGhpcy5hbGxVbnNlbGVjdGVkLmVtaXQodCl9ZW1pdFNlbGVjdEV2ZW50cyhlKXtlLiRzZWxlY3RlZD90aGlzLnNlbGVjdGVkLmVtaXQoZSk6dGhpcy51bnNlbGVjdGVkLmVtaXQoZSl9Z2V0Q29sdW1uQ29sb3IoZSx0KXtjb25zdCBuPXQuY29sb3I7cmV0dXJuIFFEKG4sImZ1bmN0aW9uIik/bihlLHQucHJvcGVydHkpOm59Z2V0Q29sdW1uTWFzdGVyRGV0YWlsKCl7cmV0dXJuIHRoaXMuY29sdW1ucy5maW5kKGU9PiJkZXRhaWwiPT09ZS50eXBlKX1nZXRNYWluQ29sdW1ucygpe3JldHVybiB0aGlzLnZhbGlkQ29sdW1ucy5maWx0ZXIoZT0+ITEhPT1lLnZpc2libGUpfWdldFN1YnRpdGxlQ29sdW1ucygpe3JldHVybiB0aGlzLmNvbHVtbnMuZmlsdGVyKGU9PiJzdWJ0aXRsZSI9PT1lLnR5cGUpfWlzRXZlcnlTZWxlY3RlZChlKXtyZXR1cm4hIWUuZXZlcnkoZT0+ZS4kc2VsZWN0ZWQpfHwhIWUuc29tZShlPT5lLiRzZWxlY3RlZHx8bnVsbD09PWUuJHNlbGVjdGVkKSYmbnVsbH1vbkNoYW5nZUNvbHVtbnMoKXt0aGlzLnNldE1haW5Db2x1bW5zKCksdGhpcy5zZXRDb2x1bW5NYXN0ZXJEZXRhaWwoKSx0aGlzLnNldFN1YnRpdGxlQ29sdW1ucygpfXNldENvbHVtbkxpbmsoKXt0aGlzLmNvbHVtbnMuZm9yRWFjaChlPT57ImxpbmsiIT09ZS50eXBlfHxlLmxpbmt8fChlLmxpbms9ImxpbmsiKX0pfXNldENvbHVtbk1hc3RlckRldGFpbCgpe3RoaXMuY29sdW1uTWFzdGVyRGV0YWlsPXRoaXMuZ2V0Q29sdW1uTWFzdGVyRGV0YWlsKCl9c2V0TWFpbkNvbHVtbnMoKXt0aGlzLm1haW5Db2x1bW5zPXRoaXMuZ2V0TWFpbkNvbHVtbnMoKSx0aGlzLmhhc01haW5Db2x1bW5zPSEhdGhpcy5tYWluQ29sdW1ucy5sZW5ndGgsdGhpcy5hbGxDb2x1bW5zV2lkdGhQaXhlbHM9dGhpcy52ZXJpZnlXaWR0aENvbHVtbnNQaXhlbHMoKX1zZXRTdWJ0aXRsZUNvbHVtbnMoKXt0aGlzLnN1YnRpdGxlQ29sdW1ucz10aGlzLmdldFN1YnRpdGxlQ29sdW1ucygpfXNvcnRBcnJheShlLHQpe3RoaXMuaXRlbXMuc29ydCgobixpKT0+ZnVuY3Rpb24oZSx0LG49ITApe2NvbnN0IGk9UUQoZSwic3RyaW5nIik/ZS50b0xvd2VyQ2FzZSgpOmUscz1RRCh0LCJzdHJpbmciKT90LnRvTG93ZXJDYXNlKCk6dCxvPW51bGw9PWl8fE51bWJlci5pc05hTihpKSxyPW51bGw9PXN8fE51bWJlci5pc05hTihzKTtpZihuKXtpZihpPHN8fG8pcmV0dXJuLTE7aWYoaT5zfHxyKXJldHVybiAxfWVsc2UgaWYoITE9PT1uKXtpZihpPHN8fG8pcmV0dXJuIDE7aWYoaT5zfHxyKXJldHVybi0xfXJldHVybiAwfShuW2UucHJvcGVydHldLGlbZS5wcm9wZXJ0eV0sdCkpfXVuc2VsZWN0T3RoZXJSb3dzKGUsdCl7ZS5mb3JFYWNoKGU9PntlIT09dCYmKGUuJHNlbGVjdGVkPSExKX0pfXZlcmlmeVdpZHRoQ29sdW1uc1BpeGVscygpe3JldHVybiEhdGhpcy5oYXNNYWluQ29sdW1ucyYmdGhpcy5tYWluQ29sdW1ucy5ldmVyeShlPT5lLndpZHRoJiZlLndpZHRoLmluY2x1ZGVzKCJweCIpKX1zZXRTZXJ2aWNlKGUpe2UmJlFEKGUsInN0cmluZyIpJiZ0aGlzLnBvVGFibGVTZXJ2aWNlLnNldFVybChlKX1nZXRGaWx0ZXJlZFBhcmFtcyhlKXtjb25zdHtwYWdlOnQscGFnZVNpemU6bixzb3J0U3RvcmU6aX09dGhpcyxzPXt9LG89dGhpcy5nZXRPcmRlclBhcmFtKGkpLHI9T2JqZWN0LmFzc2lnbih7cGFnZTp0LHBhZ2VTaXplOm4sb3JkZXI6b30sZSk7Zm9yKGNvbnN0IGEgaW4gcilyLmhhc093blByb3BlcnR5KGEpJiZ2b2lkIDAhPT1yW2FdJiYoc1thXT1yW2FdKTtyZXR1cm4gc31nZXRPcmRlclBhcmFtKGU9e3R5cGU6dm9pZCAwfSl7Y29uc3R7Y29sdW1uOnQsdHlwZTpufT1lO2lmKHQpcmV0dXJuIG49PT1Eay5EZXNjZW5kaW5nP2AtJHt0LnByb3BlcnR5fWA6YCR7dC5wcm9wZXJ0eX1gfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShBcihCUyksQXIocFMpLEFyKFNrKSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsaW5wdXRzOntoaWRlVGV4dE92ZXJmbG93OlsicC1oaWRlLXRleHQtb3ZlcmZsb3ciLCJoaWRlVGV4dE92ZXJmbG93Il0saGlkZUNvbHVtbnNNYW5hZ2VyOlsicC1oaWRlLWNvbHVtbnMtbWFuYWdlciIsImhpZGVDb2x1bW5zTWFuYWdlciJdLGF1dG9Db2xsYXBzZTpbInAtYXV0by1jb2xsYXBzZSIsImF1dG9Db2xsYXBzZSJdLGxvYWRpbmdTaG93TW9yZTpbInAtbG9hZGluZy1zaG93LW1vcmUiLCJsb2FkaW5nU2hvd01vcmUiXSxzb3J0OlsicC1zb3J0Iiwic29ydCJdLHNob3dNb3JlRGlzYWJsZWQ6WyJwLXNob3ctbW9yZS1kaXNhYmxlZCIsInNob3dNb3JlRGlzYWJsZWQiXSxzdHJpcGVkOlsicC1zdHJpcGVkIiwic3RyaXBlZCJdLGhpZGVTZWxlY3RBbGw6WyJwLWhpZGUtc2VsZWN0LWFsbCIsImhpZGVTZWxlY3RBbGwiXSxzaW5nbGVTZWxlY3Q6WyJwLXNpbmdsZS1zZWxlY3QiLCJzaW5nbGVTZWxlY3QiXSxpdGVtczpbInAtaXRlbXMiLCJpdGVtcyJdLGNvbHVtbnM6WyJwLWNvbHVtbnMiLCJjb2x1bW5zIl0sY29udGFpbmVyOlsicC1jb250YWluZXIiLCJjb250YWluZXIiXSxoZWlnaHQ6WyJwLWhlaWdodCIsImhlaWdodCJdLGhpZGVEZXRhaWw6WyJwLWhpZGUtZGV0YWlsIiwiaGlkZURldGFpbCJdLGxpdGVyYWxzOlsicC1saXRlcmFscyIsImxpdGVyYWxzIl0sbG9hZGluZzpbInAtbG9hZGluZyIsImxvYWRpbmciXSxhY3Rpb25zOlsicC1hY3Rpb25zIiwiYWN0aW9ucyJdLHNlbGVjdGFibGU6WyJwLXNlbGVjdGFibGUiLCJzZWxlY3RhYmxlIl0saW5maW5pdGVTY3JvbGw6WyJwLWluZmluaXRlLXNjcm9sbCIsImluZmluaXRlU2Nyb2xsIl0saW5maW5pdGVTY3JvbGxEaXN0YW5jZTpbInAtaW5maW5pdGUtc2Nyb2xsLWRpc3RhbmNlIiwiaW5maW5pdGVTY3JvbGxEaXN0YW5jZSJdLHNlcnZpY2VBcGk6WyJwLXNlcnZpY2UtYXBpIiwic2VydmljZUFwaSJdLG1heENvbHVtbnM6WyJwLW1heC1jb2x1bW5zIiwibWF4Q29sdW1ucyJdfSxvdXRwdXRzOnthbGxTZWxlY3RlZDoicC1hbGwtc2VsZWN0ZWQiLGFsbFVuc2VsZWN0ZWQ6InAtYWxsLXVuc2VsZWN0ZWQiLGNvbGxhcHNlZDoicC1jb2xsYXBzZWQiLGV4cGFuZGVkOiJwLWV4cGFuZGVkIixzZWxlY3RlZDoicC1zZWxlY3RlZCIsc2hvd01vcmU6InAtc2hvdy1tb3JlIixzb3J0Qnk6InAtc29ydC1ieSIsdW5zZWxlY3RlZDoicC11bnNlbGVjdGVkIixjaGFuZ2VWaXNpYmxlQ29sdW1uczoicC1jaGFuZ2UtdmlzaWJsZS1jb2x1bW5zIn0sZmVhdHVyZXM6W2x0XX0pLE92KFt4UygpXSxlLnByb3RvdHlwZSwiaGlkZVRleHRPdmVyZmxvdyIsdm9pZCAwKSxPdihbeFMoKV0sZS5wcm90b3R5cGUsImhpZGVDb2x1bW5zTWFuYWdlciIsdm9pZCAwKSxPdihbeFMoKV0sZS5wcm90b3R5cGUsImF1dG9Db2xsYXBzZSIsdm9pZCAwKSxPdihbeFMoKV0sZS5wcm90b3R5cGUsImxvYWRpbmdTaG93TW9yZSIsdm9pZCAwKSxPdihbeFMoKV0sZS5wcm90b3R5cGUsInNvcnQiLHZvaWQgMCksT3YoW3hTKCldLGUucHJvdG90eXBlLCJzaG93TW9yZURpc2FibGVkIix2b2lkIDApLE92KFt4UygpXSxlLnByb3RvdHlwZSwic3RyaXBlZCIsdm9pZCAwKSxPdihbeFMoKV0sZS5wcm90b3R5cGUsImhpZGVTZWxlY3RBbGwiLHZvaWQgMCksT3YoW3hTKCldLGUucHJvdG90eXBlLCJzaW5nbGVTZWxlY3QiLHZvaWQgMCksZX0pKCk7dmFyIEFrPWZ1bmN0aW9uKGUpe3JldHVybiBlLkxlZnQ9IkxFRlQiLGUuUmlnaHQ9IlJJR0hUIixlfSh7fSk7bGV0IE9rPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSl7dGhpcy50ZW1wbGF0ZVJlZj1lLHRoaXMuX3RhYmxlUm93VGVtcGxhdGVBcnJvd0RpcmVjdGlvbj1Bay5MZWZ0fXNldCB0YWJsZVJvd1RlbXBsYXRlQXJyb3dEaXJlY3Rpb24oZSl7ZT1udWxsPT1lP3ZvaWQgMDplLnRvVXBwZXJDYXNlKCksdGhpcy5fdGFibGVSb3dUZW1wbGF0ZUFycm93RGlyZWN0aW9uPU9iamVjdC52YWx1ZXMoQWspLmluY2x1ZGVzKGUpP2U6QWsuTGVmdH1nZXQgdGFibGVSb3dUZW1wbGF0ZUFycm93RGlyZWN0aW9uKCl7cmV0dXJuIHRoaXMuX3RhYmxlUm93VGVtcGxhdGVBcnJvd0RpcmVjdGlvbn19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoQ2wpKX0sZS5cdTAyNzVkaXI9S2Uoe3R5cGU6ZSxzZWxlY3RvcnM6W1siIiwicC10YWJsZS1yb3ctdGVtcGxhdGUiLCIiXV0saW5wdXRzOnt0YWJsZVJvd1RlbXBsYXRlQXJyb3dEaXJlY3Rpb246WyJwLXRhYmxlLXJvdy10ZW1wbGF0ZS1hcnJvdy1kaXJlY3Rpb24iLCJ0YWJsZVJvd1RlbXBsYXRlQXJyb3dEaXJlY3Rpb24iXSxwb1RhYmxlUm93VGVtcGxhdGVTaG93OlsicC10YWJsZS1yb3ctdGVtcGxhdGUtc2hvdyIsInBvVGFibGVSb3dUZW1wbGF0ZVNob3ciXX19KSxlfSkoKSxUaz0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUpe3RoaXMudGVtcGxhdGVSZWY9ZX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoQ2wpKX0sZS5cdTAyNzVkaXI9S2Uoe3R5cGU6ZSxzZWxlY3RvcnM6W1siIiwicC10YWJsZS1jZWxsLXRlbXBsYXRlIiwiIl1dfSksZX0pKCksRms9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLnRlbXBsYXRlUmVmPWV9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKENsKSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsc2VsZWN0b3JzOltbIiIsInAtdGFibGUtY29sdW1uLXRlbXBsYXRlIiwiIl1dLGlucHV0czp7dGFyZ2V0UHJvcGVydHk6WyJwLXByb3BlcnR5IiwidGFyZ2V0UHJvcGVydHkiXX19KSxlfSkoKSxJaz0oKCk9PntjbGFzcyBlIGV4dGVuZHMgeGt7Y29uc3RydWN0b3IoZSx0LG4saSxzLG8scixhKXtzdXBlcihlLGksYSksdGhpcy5jaGFuZ2VEZXRlY3Rvcj1zLHRoaXMuZGVjaW1hbFBpcGU9byx0aGlzLnJvdXRlcj1yLHRoaXMuZGVmYXVsdFNlcnZpY2U9YSx0aGlzLnRhYmxlT3BhY2l0eT0wLHRoaXMuaW5pdGlhbGl6ZWQ9ITEsdGhpcy52aXNpYmxlRWxlbWVudD0hMSx0aGlzLmRpZmZlcj10LmZpbmQoW10pLmNyZWF0ZShudWxsKSx0aGlzLmNsaWNrTGlzdGVuZXI9bi5saXN0ZW4oImRvY3VtZW50IiwiY2xpY2siLCgpPT57fSksdGhpcy5yZXNpemVMaXN0ZW5lcj1uLmxpc3Rlbigid2luZG93IiwicmVzaXplIixlPT57dGhpcy5kZWJvdW5jZVJlc2l6ZSgpfSl9c2V0IGNvbHVtbk1hbmFnZXJUYXJnZXQoZSl7dGhpcy5fY29sdW1uTWFuYWdlclRhcmdldD1lLHRoaXMuY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpfWdldCBjb2x1bW5NYW5hZ2VyVGFyZ2V0KCl7cmV0dXJuIHRoaXMuX2NvbHVtbk1hbmFnZXJUYXJnZXR9Z2V0IGhhc1Jvd1RlbXBsYXRlV2l0aEFycm93RGlyZWN0aW9uUmlnaHQoKXt2YXIgZTtyZXR1cm4obnVsbD09PShlPXRoaXMudGFibGVSb3dUZW1wbGF0ZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUudGFibGVSb3dUZW1wbGF0ZUFycm93RGlyZWN0aW9uKT09PUFrLlJpZ2h0fWdldCBjb2x1bW5Db3VudCgpe3JldHVybiB0aGlzLm1haW5Db2x1bW5zLmxlbmd0aCsodGhpcy5hY3Rpb25zLmxlbmd0aD4wPzE6MCkrKHRoaXMuc2VsZWN0YWJsZT8xOjApKyh0aGlzLmhpZGVEZXRhaWx8fHZvaWQgMD09PXRoaXMuY29sdW1uTWFzdGVyRGV0YWlsPzA6MSl8fDF9Z2V0IGNvbHVtbkNvdW50Rm9yTWFzdGVyRGV0YWlsKCl7cmV0dXJuIHRoaXMubWFpbkNvbHVtbnMubGVuZ3RoKzErKHRoaXMuYWN0aW9ucy5sZW5ndGg+MD8xOjApKyh0aGlzLnNlbGVjdGFibGU/MTowKSsodGhpcy5hY3Rpb25zLmxlbmd0aD8wOjEpfWdldCBkZXRhaWxIaWRlU2VsZWN0KCl7Y29uc3QgZT10aGlzLmNvbHVtbk1hc3RlckRldGFpbDtyZXR1cm4hKCFlfHwhZS5kZXRhaWwpJiZlLmRldGFpbC5oaWRlU2VsZWN0fWdldCBoYXNWaXNpYmxlQWN0aW9ucygpe3JldHVybiEhdGhpcy52aXNpYmxlQWN0aW9ucy5sZW5ndGh9Z2V0IGZpcnN0QWN0aW9uKCl7cmV0dXJuIHRoaXMudmlzaWJsZUFjdGlvbnMmJnRoaXMudmlzaWJsZUFjdGlvbnNbMF19Z2V0IGhhc0Zvb3Rlcigpe3JldHVybiB0aGlzLmhhc0l0ZW1zJiZ0aGlzLmhhc1Zpc2libGVTdWJ0aXRsZUNvbHVtbnN9Z2V0IGhhc01hc3RlckRldGFpbENvbHVtbigpe3JldHVybiB0aGlzLmhhc01haW5Db2x1bW5zJiZ0aGlzLmhhc0l0ZW1zJiYhdGhpcy5oaWRlRGV0YWlsJiYhKCF0aGlzLmNvbHVtbk1hc3RlckRldGFpbCYmIXRoaXMuaGFzUm93VGVtcGxhdGUpfWdldCBoYXNSb3dUZW1wbGF0ZSgpe3JldHVybiEhdGhpcy50YWJsZVJvd1RlbXBsYXRlfWdldCBoYXNTZWxlY3RhYmxlQ29sdW1uKCl7cmV0dXJuIHRoaXMuc2VsZWN0YWJsZSYmdGhpcy5oYXNJdGVtcyYmdGhpcy5oYXNNYWluQ29sdW1uc31nZXQgaGFzVmFsaWRDb2x1bW5zKCl7cmV0dXJuISF0aGlzLnZhbGlkQ29sdW1ucy5sZW5ndGh9Z2V0IGhhc1Zpc2libGVTdWJ0aXRsZUNvbHVtbnMoKXtyZXR1cm4gdGhpcy5zdWJ0aXRsZUNvbHVtbnMuc29tZShlPT4hMSE9PWUudmlzaWJsZSl9Z2V0IGlzU2luZ2xlQWN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLnZpc2libGVBY3Rpb25zLmxlbmd0aH1nZXQgdmlzaWJsZUFjdGlvbnMoKXtyZXR1cm4gdGhpcy5hY3Rpb25zJiZ0aGlzLmFjdGlvbnMuZmlsdGVyKGU9PmUmJiExIT09ZS52aXNpYmxlKX1uZ0FmdGVyVmlld0luaXQoKXt0aGlzLmluaXRpYWxpemVkPSEwfXNob3dNb3JlSW5maW5pdGVTY3JvbGwoe3RhcmdldDplfSl7IXRoaXMuc2hvd01vcmVEaXNhYmxlZCYmZS5vZmZzZXRIZWlnaHQrZS5zY3JvbGxUb3A+PWUuc2Nyb2xsSGVpZ2h0Kih0aGlzLmluZmluaXRlU2Nyb2xsRGlzdGFuY2UvMTEwKSYmdGhpcy5vblNob3dNb3JlKCl9bmdEb0NoZWNrKCl7dmFyIGU7dGhpcy5jaGVja0NoYW5nZXNJdGVtcygpLHRoaXMudmVyaWZ5Q2FsY3VsYXRlSGVpZ2h0VGFibGVDb250YWluZXIoKSwobnVsbD09PShlPXRoaXMudGFibGVXcmFwcGVyRWxlbWVudCl8fHZvaWQgMD09PWU/dm9pZCAwOmUubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aCkmJiF0aGlzLnZpc2libGVFbGVtZW50JiZ0aGlzLmluaXRpYWxpemVkJiYodGhpcy5kZWJvdW5jZVJlc2l6ZSgpLHRoaXMuY2hlY2tJbmZpbml0ZVNjcm9sbCgpLHRoaXMudmlzaWJsZUVsZW1lbnQ9ITApfW5nT25EZXN0cm95KCl7dGhpcy5yZW1vdmVMaXN0ZW5lcnMoKX1hcHBseUZpbHRlcnMoZSl7dGhpcy5wYWdlPTEsdGhpcy5pbml0aWFsaXplRGF0YShlKX1jb2xsYXBzZShlKXt0aGlzLnNldFNob3dEZXRhaWwoZSwhMSl9ZXhwYW5kKGUpe3RoaXMuc2V0U2hvd0RldGFpbChlLCEwKX1nZXRTZWxlY3RlZFJvd3MoKXtyZXR1cm4gdGhpcy5pdGVtcy5maWx0ZXIoZT0+ZS4kc2VsZWN0ZWQpfWdldFVuc2VsZWN0ZWRSb3dzKCl7cmV0dXJuIHRoaXMuaXRlbXMuZmlsdGVyKGU9PiFlLiRzZWxlY3RlZCl9dW5zZWxlY3RSb3dzKCl7Y29uc3QgZT10aGlzLm5hbWVDb2x1bW5EZXRhaWw7dGhpcy5pdGVtcy5mb3JFYWNoKHQ9Pntjb25zdCBuPWU/dFtlXTpudWxsO0FycmF5LmlzQXJyYXkobikmJm4uZm9yRWFjaChlPT57ZS4kc2VsZWN0ZWQ9ITF9KSx0LiRzZWxlY3RlZD0hMX0pLHRoaXMuc2VsZWN0QWxsPSExfWNoZWNrRGlzYWJsZWQoZSx0KXtyZXR1cm4hIXQuZGlzYWJsZWQmJnQuZGlzYWJsZWQoZSl9Y29udGFpbnNNYXN0ZXJEZXRhaWwoZSl7cmV0dXJuIGVbdGhpcy5uYW1lQ29sdW1uRGV0YWlsXSYmZVt0aGlzLm5hbWVDb2x1bW5EZXRhaWxdLmxlbmd0aH1leGVjdXRlVGFibGVBY3Rpb24oZSx0KXtlLmRpc2FibGVkfHx0aGlzLnZhbGlkYXRlVGFibGVBY3Rpb24oZSx0KXx8KHQuYWN0aW9uKGUpLHRoaXMudG9nZ2xlUm93QWN0aW9uKGUpKX1mb3JtYXROdW1iZXIoZSx0KXtyZXR1cm4gdD90aGlzLmRlY2ltYWxQaXBlLnRyYW5zZm9ybShlLHQpOmV9Z2V0Qm9vbGVhbkxhYmVsKGUsdCl7cmV0dXJuIGV8fCExPT09ZXx8MD09PWU/KGU9WUQoZSksdC5ib29sZWFuP2U/dC5ib29sZWFuLnRydWVMYWJlbHx8IlNpbSI6dC5ib29sZWFuLmZhbHNlTGFiZWx8fCJOXHhlM28iOmU/IlNpbSI6Ik5ceGUzbyIpOmV9Z2V0Q29sdW1uSWNvbnMoZSx0KXtjb25zdCBuPWVbdC5wcm9wZXJ0eV07cmV0dXJuIHQuaWNvbnM/QXJyYXkuaXNBcnJheShuKT90aGlzLm1lcmdlQ3VzdG9tSWNvbnMobix0Lmljb25zKTp0aGlzLmZpbmRDdXN0b21JY29uKG4sdCk6bn1nZXRDb2x1bW5MYWJlbChlLHQpe3JldHVybiB0LmxhYmVscy5maW5kKG49PmVbdC5wcm9wZXJ0eV09PT1uLnZhbHVlKX1nZXRTdWJ0aXRsZUNvbHVtbihlLHQpe3JldHVybiB0LnN1YnRpdGxlcy5maW5kKG49PmVbdC5wcm9wZXJ0eV09PT1uLnZhbHVlKX1pc1Nob3dNYXN0ZXJEZXRhaWwoZSl7cmV0dXJuIXRoaXMuaGlkZURldGFpbCYmdGhpcy5uYW1lQ29sdW1uRGV0YWlsJiZlLiRzaG93RGV0YWlsJiZ0aGlzLmNvbnRhaW5zTWFzdGVyRGV0YWlsKGUpJiYhdGhpcy5oYXNSb3dUZW1wbGF0ZX1pc1Nob3dSb3dUZW1wbGF0ZShlLHQpe3JldHVybiF0aGlzLnRhYmxlUm93VGVtcGxhdGV8fCF0aGlzLnRhYmxlUm93VGVtcGxhdGUucG9UYWJsZVJvd1RlbXBsYXRlU2hvd3x8dGhpcy50YWJsZVJvd1RlbXBsYXRlLnBvVGFibGVSb3dUZW1wbGF0ZVNob3coZSx0KX1vbkNsaWNrTGluayhlLHQsbil7dGhpcy5jaGVja0Rpc2FibGVkKHQsbil8fGUuc3RvcFByb3BhZ2F0aW9uKCl9b25DaGFuZ2VWaXNpYmxlQ29sdW1ucyhlKXt0aGlzLmNoYW5nZVZpc2libGVDb2x1bW5zLmVtaXQoZSl9b25WaXNpYmxlQ29sdW1uc0NoYW5nZShlKXt0aGlzLmNvbHVtbnM9ZSx0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKX10b29sdGlwTW91c2VFbnRlcihlLHQsbil7aWYodGhpcy50b29sdGlwVGV4dD12b2lkIDAsdGhpcy5oaWRlVGV4dE92ZXJmbG93JiZlLnRhcmdldC5vZmZzZXRXaWR0aDxlLnRhcmdldC5zY3JvbGxXaWR0aCYmZS50YXJnZXQuaW5uZXJUZXh0LnRyaW0oKSlyZXR1cm4gdGhpcy50b29sdGlwVGV4dD1lLnRhcmdldC5pbm5lclRleHQ7dCYmdGhpcy5jaGVja2luZ0lmQ29sdW1uSGFzVG9vbHRpcCh0LG4pfXRvb2x0aXBNb3VzZUxlYXZlKCl7dGhpcy50b29sdGlwVGV4dD12b2lkIDB9dG9nZ2xlUG9wdXAoZSx0KXt0aGlzLnBvcHVwVGFyZ2V0PXQsdGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCksdGhpcy5wb1BvcHVwQ29tcG9uZW50LnRvZ2dsZShlKX10cmFja0J5KGUpe3JldHVybiBlfXZhbGlkYXRlVGFibGVBY3Rpb24oZSx0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdC5kaXNhYmxlZD90LmRpc2FibGVkKGUpOnQuZGlzYWJsZWR9b25PcGVuQ29sdW1uTWFuYWdlcigpe3RoaXMubGFzdFZpc2libGVDb2x1bW5zU2VsZWN0ZWQ9Wy4uLnRoaXMuY29sdW1uc119cmVtb3ZlSXRlbShlKXtlIGluc3RhbmNlb2YgT2JqZWN0P3RoaXMuaXRlbXM9dGhpcy5pdGVtcy5maWx0ZXIodD0+dCE9PWUpOiJudW1iZXIiPT10eXBlb2YgZSYmdGhpcy5pdGVtcy5zcGxpY2UoZSwxKX11cGRhdGVJdGVtKGUsdCl7aWYoIm51bWJlciI9PXR5cGVvZiBlKXRoaXMuaXRlbXMuc3BsaWNlKGUsMSx0KTtlbHNle2NvbnN0IG49dGhpcy5pdGVtcy5maW5kSW5kZXgodD0+dD09PWUpO3RoaXMuaXRlbXMuc3BsaWNlKG4sMSx0KX19Z2V0VGVtcGxhdGUoZSl7Y29uc3QgdD10aGlzLnRhYmxlQ29sdW1uVGVtcGxhdGVzLmZpbmQodD0+dC50YXJnZXRQcm9wZXJ0eT09PWUucHJvcGVydHkpO3JldHVybiB0P3QudGVtcGxhdGVSZWY6KGNvbnNvbGUud2FybihgTlx4ZTNvIGZvaSBwb3NzXHhlZHZlbCBlbmNvbnRyYXIgbyB0ZW1wbGF0ZSBwYXJhIGEgY29sdW5hOiAke2UucHJvcGVydHl9LCBwb3IgZ2VudGlsZXphIGluZm9ybWUgYSBwcm9wcmllZGFkZSBbcC1wcm9wZXJ0eV1gKSxudWxsKX1jYWxjdWxhdGVIZWlnaHRUYWJsZUNvbnRhaW5lcihlKXtjb25zdCB0PXBhcnNlRmxvYXQoZSk7dGhpcy5oZWlnaHRUYWJsZUNvbnRhaW5lcj10P3QtdGhpcy5nZXRIZWlnaHRUYWJsZUZvb3RlcigpOnZvaWQgMCx0aGlzLnNldFRhYmxlT3BhY2l0eSgxKSx0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKX1jYWxjdWxhdGVXaWR0aEhlYWRlcnMoKXtzZXRUaW1lb3V0KCgpPT57dGhpcy5oZWlnaHQmJnRoaXMuaGVhZGVyc1RhYmxlLmZvckVhY2goZT0+e2NvbnN0IHQ9ZS5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wby10YWJsZS1oZWFkZXItZml4ZWQtaW5uZXIiKTt0JiYodC5zdHlsZS53aWR0aD1gJHtlLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGh9cHhgKX0pfSl9Y2hlY2tJbmZpbml0ZVNjcm9sbCgpe3RoaXMuaGFzSW5maW5pdGVTY3JvbGwoKSYmKHRoaXMucG9UYWJsZVRib2R5Lm5hdGl2ZUVsZW1lbnQuc2Nyb2xsSGVpZ2h0PnRoaXMuaGVpZ2h0P3RoaXMuaW5jbHVkZUluZmluaXRlU2Nyb2xsKCk6dGhpcy5pbmZpbml0ZVNjcm9sbD0hMSksdGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCl9Y2hlY2tDaGFuZ2VzSXRlbXMoKXtjb25zdCBlPXRoaXMuZGlmZmVyLmRpZmYodGhpcy5pdGVtcyk7ZSYmdGhpcy5zZWxlY3RBbGwmJih0aGlzLnNlbGVjdEFsbD1udWxsKSxlJiYhdGhpcy5oYXNDb2x1bW5zJiZ0aGlzLmhhc0l0ZW1zJiYodGhpcy5jb2x1bW5zPXRoaXMuZ2V0RGVmYXVsdENvbHVtbnModGhpcy5pdGVtc1swXSkpfWNoZWNraW5nSWZDb2x1bW5IYXNUb29sdGlwKGUsdCl7aWYoImxpbmsiPT09ZS50eXBlJiZlLnRvb2x0aXAmJiF0aGlzLmNoZWNrRGlzYWJsZWQodCxlKSlyZXR1cm4gdGhpcy50b29sdGlwVGV4dD1lLnRvb2x0aXA7aWYoImxhYmVsIj09PWUudHlwZSl7Y29uc3Qgbj10aGlzLmdldENvbHVtbkxhYmVsKHQsZSk7cmV0dXJuIHRoaXMudG9vbHRpcFRleHQ9bnVsbD09bj92b2lkIDA6bi50b29sdGlwfX1kZWJvdW5jZVJlc2l6ZSgpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRSZXNpemUpLHRoaXMudGltZW91dFJlc2l6ZT1zZXRUaW1lb3V0KCgpPT57dGhpcy5jYWxjdWxhdGVXaWR0aEhlYWRlcnMoKSx0aGlzLnNldFRhYmxlT3BhY2l0eSgxKX0pfWZpbmRDdXN0b21JY29uKGUsdCl7Y29uc3Qgbj10Lmljb25zLmZpbmQodD0+ZT09PXQudmFsdWUpO3JldHVybiBuP1tuXTp2b2lkIDB9Z2V0SGVpZ2h0VGFibGVGb290ZXIoKXtyZXR1cm4gdGhpcy50YWJsZUZvb3RlckVsZW1lbnQ/dGhpcy50YWJsZUZvb3RlckVsZW1lbnQubmF0aXZlRWxlbWVudC5vZmZzZXRIZWlnaHQ6MH1oYXNJbmZpbml0ZVNjcm9sbCgpe3JldHVybiB0aGlzLmluZmluaXRlU2Nyb2xsJiZ0aGlzLmhhc0l0ZW1zJiYhdGhpcy5zdWJzY3JpcHRpb25TY3JvbGxFdmVudCYmdGhpcy5oZWlnaHQmJnRoaXMucG9UYWJsZVRib2R5Lm5hdGl2ZUVsZW1lbnQuc2Nyb2xsSGVpZ2h0fWluY2x1ZGVJbmZpbml0ZVNjcm9sbCgpe3RoaXMuc2Nyb2xsRXZlbnQkPXRoaXMuZGVmYXVsdFNlcnZpY2Uuc2Nyb2xsTGlzdGVuZXIodGhpcy5wb1RhYmxlVGJvZHkubmF0aXZlRWxlbWVudCksdGhpcy5zdWJzY3JpcHRpb25TY3JvbGxFdmVudD10aGlzLnNjcm9sbEV2ZW50JC5zdWJzY3JpYmUoZT0+dGhpcy5zaG93TW9yZUluZmluaXRlU2Nyb2xsKGUpKX1tZXJnZUN1c3RvbUljb25zKGUsdCl7Y29uc3Qgbj1bXTtyZXR1cm4gZS5mb3JFYWNoKGU9Pntjb25zdCBpPXQuZmluZCh0PT5lPT09dC5pY29ufHxlPT09dC52YWx1ZSk7bi5wdXNoKGl8fGUpfSksbn1yZW1vdmVMaXN0ZW5lcnMoKXt0aGlzLnJlc2l6ZUxpc3RlbmVyJiZ0aGlzLnJlc2l6ZUxpc3RlbmVyKCksdGhpcy5jbGlja0xpc3RlbmVyJiZ0aGlzLmNsaWNrTGlzdGVuZXIoKSx0aGlzLnN1YnNjcmlwdGlvblNjcm9sbEV2ZW50JiZ0aGlzLnN1YnNjcmlwdGlvblNjcm9sbEV2ZW50LnVuc3Vic2NyaWJlKCl9c2V0VGFibGVPcGFjaXR5KGUpe3RoaXMudGFibGVPcGFjaXR5PWV9dmVyaWZ5Q2hhbmdlSGVpZ2h0SW5Gb290ZXIoKXtyZXR1cm4gdGhpcy5mb290ZXJIZWlnaHQhPT10aGlzLmdldEhlaWdodFRhYmxlRm9vdGVyKCl9dmVyaWZ5Q2FsY3VsYXRlSGVpZ2h0VGFibGVDb250YWluZXIoKXt0aGlzLmhlaWdodCYmdGhpcy52ZXJpZnlDaGFuZ2VIZWlnaHRJbkZvb3RlcigpJiYodGhpcy5mb290ZXJIZWlnaHQ9dGhpcy5nZXRIZWlnaHRUYWJsZUZvb3RlcigpLHRoaXMuY2FsY3VsYXRlSGVpZ2h0VGFibGVDb250YWluZXIodGhpcy5oZWlnaHQpKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoQlMpLEFyKGxsKSxBcihXYSksQXIocFMpLEFyKGdsKSxBcihVaCksQXIoT20pLEFyKFNrKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLXRhYmxlIl1dLGNvbnRlbnRRdWVyaWVzOmZ1bmN0aW9uKGUsdCxuKXtpZigxJmUmJihmYyhuLE9rLDcpLGZjKG4sVGssNSksZmMobixGayw0KSksMiZlKXtsZXQgZTtkYyhlPWdjKCkpJiYodC50YWJsZVJvd1RlbXBsYXRlPWUuZmlyc3QpLGRjKGU9Z2MoKSkmJih0LnRhYmxlQ2VsbFRlbXBsYXRlPWUuZmlyc3QpLGRjKGU9Z2MoKSkmJih0LnRhYmxlQ29sdW1uVGVtcGxhdGVzPWUpfX0sdmlld1F1ZXJ5OmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiYocGModUMsNSkscGMoaEMsNSxVYSkscGMoZEMsNSkscGMocEMsNSxVYSkscGMoZkMsNSxVYSkscGMoZ0MsNSxVYSkscGMobUMsNSxVYSkscGModkMsNSxVYSkscGMoYkMsNSkpLDImZSl7bGV0IGU7ZGMoZT1nYygpKSYmKHQuY29sdW1uTWFuYWdlclRhcmdldD1lLmZpcnN0KSxkYyhlPWdjKCkpJiYodC5ub0NvbHVtbnNIZWFkZXI9ZS5maXJzdCksZGMoZT1nYygpKSYmKHQucG9Qb3B1cENvbXBvbmVudD1lLmZpcnN0KSxkYyhlPWdjKCkpJiYodC50YWJsZUZvb3RlckVsZW1lbnQ9ZS5maXJzdCksZGMoZT1nYygpKSYmKHQudGFibGVXcmFwcGVyRWxlbWVudD1lLmZpcnN0KSxkYyhlPWdjKCkpJiYodC5wb1RhYmxlVGJvZHk9ZS5maXJzdCksZGMoZT1nYygpKSYmKHQuYWN0aW9uc0ljb25FbGVtZW50PWUpLGRjKGU9Z2MoKSkmJih0LmFjdGlvbnNFbGVtZW50PWUpLGRjKGU9Z2MoKSkmJih0LmhlYWRlcnNUYWJsZT1lKX19LGZlYXR1cmVzOltMYShbQlNdKSx1cl0sZGVjbHM6MjEsdmFyczo2LGNvbnN0czpbWyJwLW5vLXBhZGRpbmciLCIiLDMsInAtbm8tc2hhZG93Iiw0LCJuZ0lmIiwibmdJZkVsc2UiXSxbInRhYmxlQ29udGFpbmVyVGVtcGxhdGUiLCIiXSxbImNsYXNzIiwicG8tcm93IHBvLXRhYmxlLWZvb3Rlci1zaG93LW1vcmUiLDMsInBvLWludmlzaWJsZSIsNCwibmdJZiJdLFsidGFibGVUZW1wbGF0ZSIsIiJdLFszLCJwLWFjdGlvbnMiLCJwLXRhcmdldCJdLFsicG9wdXAiLCIiXSxbInBvVGFibGVDb2x1bW5EZXRhaWwiLCIiXSxbImlucHV0UmFkaW8iLCIiXSxbImlucHV0Q2hlY2tib3giLCIiXSxbImNvbnRlbnRIZWFkZXJUZW1wbGF0ZSIsIiJdLFsibm9Db2x1bW5zV2l0aEhlaWdodCIsIiJdLFsibm9Db2x1bW5zV2l0aG91dEhlaWdodCIsIiJdLFszLCJwLWNvbHVtbnMiLCJwLW1heC1jb2x1bW5zIiwicC10YXJnZXQiLCJwLWxhc3QtdmlzaWJsZS1jb2x1bW5zLXNlbGVjdGVkIiwicC12aXNpYmxlLWNvbHVtbnMtY2hhbmdlIiwicC1jaGFuZ2UtdmlzaWJsZS1jb2x1bW5zIiw0LCJuZ0lmIl0sWyJwLW5vLXBhZGRpbmciLCIiLDMsInAtbm8tc2hhZG93Il0sWzQsIm5nVGVtcGxhdGVPdXRsZXQiXSxbImNsYXNzIiwicG8tdGFibGUtb3ZlcmxheSIsNCwibmdJZiJdLFsxLCJwby10YWJsZS1tYWluLWNvbnRhaW5lciJdLFsxLCJwby10YWJsZS13cmFwcGVyIl0sWyJ0YWJsZVdyYXBwZXIiLCIiXSxbImNsYXNzIiwicG8tdGFibGUtY29udGFpbmVyIiwzLCJoZWlnaHQiLDQsIm5nSWYiXSxbNCwibmdJZiJdLFsiY2xhc3MiLCJwby10YWJsZS1mb290ZXIiLDQsIm5nSWYiXSxbMSwicG8tdGFibGUtb3ZlcmxheSJdLFsxLCJwby10YWJsZS1vdmVybGF5LWNvbnRlbnQiLDMsInAtdGV4dCJdLFsxLCJwby10YWJsZS1jb250YWluZXIiXSxbMSwicG8tdGFibGUtaGVhZGVyLWZpeGVkIiwicG8tdGFibGUtaGVhZGVyIl0sWzEsInBvLXRhYmxlLWNvbnRhaW5lci1maXhlZC1pbm5lciJdLFsicG9UYWJsZVRib2R5IiwiIl0sWzEsInBvLXRhYmxlLWZvb3RlciJdLFs0LCJuZ0ZvciIsIm5nRm9yT2YiLCJuZ0ZvclRyYWNrQnkiXSxbMywicC1saXRlcmFscyIsInAtc3VidGl0bGVzIl0sWzEsInBvLXJvdyIsInBvLXRhYmxlLWZvb3Rlci1zaG93LW1vcmUiXSxbInRhYmxlRm9vdGVyIiwiIl0sWzEsInBvLW9mZnNldC14bC00IiwicG8tb2Zmc2V0LWxnLTQiLCJwby1vZmZzZXQtbWQtMyIsInBvLWxnLTQiLCJwby1tZC02IiwzLCJwLWRpc2FibGVkIiwicC1sYWJlbCIsInAtbG9hZGluZyIsInAtY2xpY2siXSxbMSwicG8tdGFibGUiXSxbImNsYXNzIiwicG8tdGFibGUtY29sdW1uLXNlbGVjdGFibGUiLDQsIm5nSWYiXSxbImNsYXNzIiwicG8tdGFibGUtaGVhZGVyLWNvbHVtbiBwby10YWJsZS1oZWFkZXItbWFzdGVyLWRldGFpbCIsNCwibmdJZiJdLFsiY2xhc3MiLCJwby10YWJsZS1oZWFkZXItY29sdW1uIHBvLXRleHQtY2VudGVyIiw0LCJuZ0lmIl0sWyJjbGFzcyIsInBvLXRhYmxlLWhlYWRlci1lbGxpcHNpcyIsMywid2lkdGgiLCJtYXgtd2lkdGgiLCJtaW4td2lkdGgiLCJwby1jbGlja2FibGUiLCJwby10YWJsZS1oZWFkZXItc3VidGl0bGUiLCJjbGljayIsNCwibmdGb3IiLCJuZ0Zvck9mIiwibmdGb3JUcmFja0J5Il0sWzMsInBvLXRhYmxlLWhlYWRlci1zaW5nbGUtYWN0aW9uIiwicG8tdGFibGUtaGVhZGVyLWFjdGlvbnMiLDQsIm5nSWYiXSxbMywicG8tdGFibGUtaGVhZGVyLWNvbHVtbi1tYW5hZ2VyIiwicG8tdGFibGUtaGVhZGVyLWNvbHVtbi1tYW5hZ2VyLWJvcmRlciIsInBvLXRhYmxlLWhlYWRlci1zaW5nbGUtYWN0aW9uIiw0LCJuZ0lmIl0sWyJjbGFzcyIsInBvLXRhYmxlLWdyb3VwLXJvdyIsNCwibmdJZiJdLFsxLCJwby10YWJsZS1jb2x1bW4tc2VsZWN0YWJsZSJdLFsidHlwZSIsImNoZWNrYm94IiwiY2xhc3MiLCJwby10YWJsZS1jaGVja2JveCIsMywicG8tdGFibGUtY2hlY2tib3gtY2hlY2tlZCIsInBvLXRhYmxlLWNoZWNrYm94LWluZGV0ZXJtaW5hdGUiLDQsIm5nSWYiXSxbImNsYXNzIiwicG8tdGFibGUtY2hlY2tib3gtbGFiZWwgcG8tY2xpY2thYmxlIiwzLCJjbGljayIsNCwibmdJZiJdLFsidHlwZSIsImNoZWNrYm94IiwxLCJwby10YWJsZS1jaGVja2JveCJdLFsxLCJwby10YWJsZS1jaGVja2JveC1sYWJlbCIsInBvLWNsaWNrYWJsZSIsMywiY2xpY2siXSxbMSwicG8tdGFibGUtaGVhZGVyLWNvbHVtbiIsInBvLXRhYmxlLWhlYWRlci1tYXN0ZXItZGV0YWlsIl0sWzEsInBvLXRhYmxlLWhlYWRlci1jb2x1bW4iLCJwby10ZXh0LWNlbnRlciJdLFsibm9Db2x1bW5zSGVhZGVyIiwiIl0sWzQsIm5nSWYiLCJuZ0lmVGhlbiIsIm5nSWZFbHNlIl0sWzEsInBvLXRhYmxlLWhlYWRlci1lbGxpcHNpcyIsMywiY2xpY2siXSxbImhlYWRlcnNUYWJsZSIsIiJdLFsxLCJwby10YWJsZS1oZWFkZXItZmxleCJdLFs0LCJuZ1RlbXBsYXRlT3V0bGV0IiwibmdUZW1wbGF0ZU91dGxldENvbnRleHQiXSxbImNvbHVtbk1hbmFnZXIiLCIiXSxbInAtdG9vbHRpcC1wb3NpdGlvbiIsImxlZnQiLDEsInBvLXRhYmxlLWhlYWRlci1jb2x1bW4tbWFuYWdlci1idXR0b24iLCJwby1pY29uIiwicG8taWNvbi1zZXR0aW5ncyIsInBvLWNsaWNrYWJsZSIsMywicC10b29sdGlwIiwiY2xpY2siXSxbImNvbHVtbk1hbmFnZXJUYXJnZXQiLCIiXSxbMSwicG8tdGFibGUtZ3JvdXAtcm93Il0sWzEsInBvLXRhYmxlLXJvdyJdLFsxLCJwby10YWJsZS1uby1kYXRhIiwicG8tdGV4dC1jZW50ZXIiLDMsImNvbFNwYW4iXSxbImNsYXNzIiwicG8tdGFibGUtZ3JvdXAtcm93Iiw0LCJuZ0ZvciIsIm5nRm9yT2YiLCJuZ0ZvclRyYWNrQnkiXSxbImNsYXNzIiwicG8tdGFibGUtY29sdW1uIHBvLXRhYmxlLWNvbHVtbi1zZWxlY3RhYmxlIiw0LCJuZ0lmIl0sWyJjbGFzcyIsInBvLXRhYmxlLWNvbHVtbi1kZXRhaWwtdG9nZ2xlIiwzLCJjbGljayIsNCwibmdJZiJdLFszLCJ3aWR0aCIsIm1heC13aWR0aCIsIm1pbi13aWR0aCIsInBvLXRhYmxlLWNvbHVtbiIsInBvLXRhYmxlLWNvbHVtbi1yaWdodCIsInBvLXRhYmxlLWNvbHVtbi1jZW50ZXIiLCJwby10YWJsZS1jb2x1bW4taWNvbnMiLCJuZ0NsYXNzIiwiY2xpY2siLDQsIm5nRm9yIiwibmdGb3JPZiIsIm5nRm9yVHJhY2tCeSJdLFsiY2xhc3MiLCJwby10YWJsZS1jb2x1bW4gcG8tdGFibGUtY29sdW1uLXNpbmdsZS1hY3Rpb24iLDQsIm5nSWYiXSxbImNsYXNzIiwicG8tdGFibGUtY29sdW1uLWFjdGlvbnMiLDQsIm5nSWYiXSxbImNsYXNzIiwicG8tdGFibGUtY29sdW1uIiw0LCJuZ0lmIl0sWzEsInBvLXRhYmxlLWNvbHVtbiIsInBvLXRhYmxlLWNvbHVtbi1zZWxlY3RhYmxlIl0sWzEsInBvLXRhYmxlLWNvbHVtbi1kZXRhaWwtdG9nZ2xlIiwzLCJjbGljayJdLFszLCJuZ1RlbXBsYXRlT3V0bGV0IiwibmdUZW1wbGF0ZU91dGxldENvbnRleHQiXSxbMywibmdDbGFzcyIsImNsaWNrIl0sWzEsInBvLXRhYmxlLWNvbHVtbi1jZWxsIiwibm90cmFuc2xhdGUiLDMsIm5nU3dpdGNoIiwicC10b29sdGlwIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiXSxbNCwibmdTd2l0Y2hDYXNlIl0sWzMsInAtYWN0aW9uIiwicC1kaXNhYmxlZCIsInAtbGluayIsInAtcm93IiwicC12YWx1ZSIsImNsaWNrIiw0LCJuZ1N3aXRjaENhc2UiXSxbMywicC1jb2x1bW4iLCJwLWljb25zIiwicC1yb3ciLDQsIm5nU3dpdGNoQ2FzZSJdLFs0LCJuZ1N3aXRjaERlZmF1bHQiXSxbMywicC1hY3Rpb24iLCJwLWRpc2FibGVkIiwicC1saW5rIiwicC1yb3ciLCJwLXZhbHVlIiwiY2xpY2siXSxbMywicC1jb2x1bW4iLCJwLWljb25zIiwicC1yb3ciXSxbMywicC1zdWJ0aXRsZSJdLFszLCJwLXZhbHVlIl0sWzEsInBvLXRhYmxlLWNvbHVtbiIsInBvLXRhYmxlLWNvbHVtbi1zaW5nbGUtYWN0aW9uIl0sWyJjbGFzcyIsInBvLXRhYmxlLXNpbmdsZS1hY3Rpb24gcG8tY2xpY2thYmxlIiwzLCJwby10YWJsZS1hY3Rpb24tZGlzYWJsZWQiLCJjbGljayIsNCwibmdJZiJdLFsxLCJwby10YWJsZS1zaW5nbGUtYWN0aW9uIiwicG8tY2xpY2thYmxlIiwzLCJjbGljayJdLFsiY2xhc3MiLCJwby10YWJsZS1zaW5nbGUtYWN0aW9uLWNvbnRlbnQiLDMsInAtaWNvbiIsNCwibmdJZiJdLFsxLCJwby10YWJsZS1zaW5nbGUtYWN0aW9uLWNvbnRlbnQiLDMsInAtaWNvbiJdLFsxLCJwby10YWJsZS1jb2x1bW4tYWN0aW9ucyJdLFsxLCJwby1pY29uIiwicG8taWNvbi1tb3JlIiwicG8tY2xpY2thYmxlIiwzLCJjbGljayJdLFsicG9wdXBUYXJnZXQiLCIiXSxbMSwicG8tdGFibGUtY29sdW1uIl0sWzEsInBvLXRhYmxlLXJvdy10ZW1wbGF0ZS1jb250YWluZXIiLDMsImNvbFNwYW4iXSxbMSwicG8tdGFibGUtY29sdW1uLWRldGFpbCIsMywiY29sU3BhbiJdLFszLCJwLXNlbGVjdGFibGUiLCJwLWRldGFpbCIsInAtaXRlbXMiLCJwLXNlbGVjdC1yb3ciXSxbImNsYXNzIiwicG8taWNvbiBwby1jbGlja2FibGUiLDMsInBvLWljb24tYXJyb3ctdXAiLCJwby1pY29uLWFycm93LWRvd24iLDQsIm5nSWYiXSxbMSwicG8taWNvbiIsInBvLWNsaWNrYWJsZSJdLFsidHlwZSIsInJhZGlvIiwxLCJwby10YWJsZS1yYWRpbyJdLFsxLCJwby10YWJsZS1yYWRpby1sYWJlbCIsInBvLWNsaWNrYWJsZSIsMywiY2xpY2siXSxbMSwicG8tdGFibGUtaGVhZGVyLWVsbGlwc2lzIiwzLCJwLXRvb2x0aXAiLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSJdLFsiY29sdW1uSGVhZGVyIiwiIl0sWzMsInBvLXRhYmxlLWhlYWRlci1pY29uLXVuc2VsZWN0ZWQiLCJwby10YWJsZS1oZWFkZXItaWNvbi1kZXNjZW5kaW5nIiwicG8tdGFibGUtaGVhZGVyLWljb24tYXNjZW5kaW5nIiw0LCJuZ0lmIl0sWzEsInBvLXRhYmxlLWhlYWRlci1maXhlZC1pbm5lciJdLFszLCJwLWNvbHVtbnMiLCJwLW1heC1jb2x1bW5zIiwicC10YXJnZXQiLCJwLWxhc3QtdmlzaWJsZS1jb2x1bW5zLXNlbGVjdGVkIiwicC12aXNpYmxlLWNvbHVtbnMtY2hhbmdlIiwicC1jaGFuZ2UtdmlzaWJsZS1jb2x1bW5zIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiYoa3IoMCxDQywyLDIsInBvLWNvbnRhaW5lciIsMCksa3IoMSxBQyw4LDEwLCJuZy10ZW1wbGF0ZSIsbnVsbCwxLHljKSxrcigzLE9DLDMsNSwiZGl2IiwyKSxrcig0LGt3LDEyLDE2LCJuZy10ZW1wbGF0ZSIsbnVsbCwzLHljKSxNcig2LCJwby1wb3B1cCIsNCw1KSxrcig4LEF3LDEsMSwibmctdGVtcGxhdGUiLG51bGwsNix5Yyksa3IoMTAsT3csMiwyLCJuZy10ZW1wbGF0ZSIsbnVsbCw3LHljKSxrcigxMixUdywyLDIsIm5nLXRlbXBsYXRlIixudWxsLDgseWMpLGtyKDE0LEl3LDUsNSwibmctdGVtcGxhdGUiLG51bGwsOSx5Yyksa3IoMTYsTXcsMiwzLCJuZy10ZW1wbGF0ZSIsbnVsbCwxMCx5Yyksa3IoMTgsUHcsMSwxLCJuZy10ZW1wbGF0ZSIsbnVsbCwxMSx5Yyksa3IoMjAsVncsMSw0LCJwby10YWJsZS1jb2x1bW4tbWFuYWdlciIsMTIpKSwyJmUpe2NvbnN0IGU9eHIoMik7T3IoIm5nSWYiLHQuY29udGFpbmVyKSgibmdJZkVsc2UiLGUpLFpzKDMpLE9yKCJuZ0lmIiwhdC5pbmZpbml0ZVNjcm9sbCksWnMoMyksT3IoInAtYWN0aW9ucyIsdC5hY3Rpb25zKSgicC10YXJnZXQiLHQucG9wdXBUYXJnZXQpLFpzKDE0KSxPcigibmdJZiIsIXQuaGlkZUNvbHVtbnNNYW5hZ2VyKX19LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5bRmgsbUUsZUUsamgsX1MsT2gsUmssVFMsUlMseGgsVmgsTGgsUmgsQ2ssYmssTGsseWssZ1MsTWssX2tdfSxwaXBlczpmdW5jdGlvbigpe3JldHVybltxaCxIaCxtaywkaF19LGVuY2Fwc3VsYXRpb246Mn0pLGV9KSgpLE1rPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSl7dGhpcy5kZWNpbWFsUGlwZT1lLHRoaXMuaXNTZWxlY3RhYmxlPSExLHRoaXMuc2VsZWN0Um93PW5ldyBlY31zZXQgZGV0YWlsKGUpe3RoaXMuX2RldGFpbD10aGlzLnJldHVyblBvVGFibGVEZXRhaWxPYmplY3QoZSl9Z2V0IGRldGFpbCgpe3JldHVybiB0aGlzLl9kZXRhaWx9Z2V0IGRldGFpbENvbHVtbnMoKXt2YXIgZTtyZXR1cm4obnVsbD09PShlPXRoaXMuZGV0YWlsKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jb2x1bW5zKXx8W119Z2V0IHR5cGVIZWFkZXJJbmxpbmUoKXtyZXR1cm4gdGhpcy5kZXRhaWwmJiF0aGlzLmRldGFpbC50eXBlSGVhZGVyfHwiaW5saW5lIj09PXRoaXMuZGV0YWlsLnR5cGVIZWFkZXJ9Z2V0IHR5cGVIZWFkZXJUb3AoKXtyZXR1cm4gdGhpcy5kZXRhaWwmJiJ0b3AiPT09dGhpcy5kZXRhaWwudHlwZUhlYWRlcn1mb3JtYXROdW1iZXJEZXRhaWwoZSx0KXtyZXR1cm4gdD90aGlzLmRlY2ltYWxQaXBlLnRyYW5zZm9ybShlLHQpOmV9Z2V0Q29sdW1uVGl0bGVMYWJlbChlKXtyZXR1cm4gZS5sYWJlbHx8Y1MoZS5wcm9wZXJ0eSl9b25TZWxlY3RSb3coZSl7ZS4kc2VsZWN0ZWQ9IWUuJHNlbGVjdGVkLHRoaXMuc2VsZWN0Um93LmVtaXQoZSl9cmV0dXJuUG9UYWJsZURldGFpbE9iamVjdChlKXtpZihlJiZRRChlLCJvYmplY3QiKSl7aWYoZS5jb2x1bW5zJiZlLmNvbHVtbnMuZm9yRWFjaChlPT5lLnByb3BlcnR5PWUucHJvcGVydHl8fGUuY29sdW1uKSxBcnJheS5pc0FycmF5KGUpKXJldHVybntjb2x1bW5zOmV9O2lmKGUuY29sdW1ucylyZXR1cm4gZX19fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKFVoKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLXRhYmxlLWRldGFpbCJdXSxpbnB1dHM6e2lzU2VsZWN0YWJsZTpbInAtc2VsZWN0YWJsZSIsImlzU2VsZWN0YWJsZSJdLGRldGFpbDpbInAtZGV0YWlsIiwiZGV0YWlsIl0saXRlbXM6WyJwLWl0ZW1zIiwiaXRlbXMiXX0sb3V0cHV0czp7c2VsZWN0Um93OiJwLXNlbGVjdC1yb3cifSxkZWNsczo0LHZhcnM6Mixjb25zdHM6W1sxLCJwby10YWJsZS1tYXN0ZXItZGV0YWlsIl0sWzQsIm5nSWYiXSxbImNsYXNzIiwicG8tdGFibGUtZGV0YWlsLXJvdyIsMywicG8tdGFibGUtcm93LWFjdGl2ZSIsNCwibmdGb3IiLCJuZ0Zvck9mIl0sWyJjbGFzcyIsInBvLXRhYmxlLWhlYWRlciBwby10YWJsZS1jb2x1bW4tc2VsZWN0YWJsZSIsNCwibmdJZiJdLFsxLCJwby10YWJsZS1oZWFkZXIiLCJwby10YWJsZS1oZWFkZXItY29sdW1uIiwicG8tdGFibGUtaGVhZGVyLW1hc3Rlci1kZXRhaWwiXSxbImNsYXNzIiwicG8tdGFibGUtaGVhZGVyIHBvLXRhYmxlLWhlYWRlci1lbGxpcHNpcyIsNCwibmdGb3IiLCJuZ0Zvck9mIl0sWzEsInBvLXRhYmxlLWhlYWRlciIsInBvLXRhYmxlLWNvbHVtbi1zZWxlY3RhYmxlIl0sWzEsInBvLXRhYmxlLWhlYWRlciIsInBvLXRhYmxlLWhlYWRlci1lbGxpcHNpcyJdLFsxLCJwby10YWJsZS1kZXRhaWwtcm93Il0sWzQsIm5nSWYiLCJuZ0lmRWxzZSJdLFsibWFzdGVyRGV0YWlsU3BhY2UiLCIiXSxbImNsYXNzIiwicG8tdGFibGUtY29sdW1uLW1hc3Rlci1kZXRhaWwgcG8tdGFibGUtbWFzdGVyLWRldGFpbC1sYWJlbCIsMywiY2xpY2siLDQsIm5nRm9yIiwibmdGb3JPZiJdLFsxLCJwby10YWJsZS1jb2x1bW4tbWFzdGVyLWRldGFpbC1zcGFjZS1jaGVja2JveCJdLFsxLCJwby10YWJsZS1jb2x1bW4iLCJwby10YWJsZS1jb2x1bW4tc2VsZWN0YWJsZSJdLFsidHlwZSIsImNoZWNrYm94IiwxLCJwby10YWJsZS1jaGVja2JveCJdLFsxLCJwby10YWJsZS1jaGVja2JveC1sYWJlbCIsInBvLWNsaWNrYWJsZSIsMywiY2xpY2siXSxbMSwicG8tdGFibGUtY29sdW1uLW1hc3Rlci1kZXRhaWwtc3BhY2UiXSxbMSwicG8tdGFibGUtY29sdW1uLW1hc3Rlci1kZXRhaWwiLCJwby10YWJsZS1tYXN0ZXItZGV0YWlsLWxhYmVsIiwzLCJjbGljayJdLFszLCJuZ1N3aXRjaCJdLFs0LCJuZ1N3aXRjaENhc2UiXSxbNCwibmdTd2l0Y2hEZWZhdWx0Il1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoRnIoMCwidGFibGUiLDApLGtyKDEsancsNSwyLCJ0aGVhZCIsMSksRnIoMiwidGJvZHkiKSxrcigzLFl3LDUsNSwidHIiLDIpLElyKCksSXIoKSksMiZlJiYoWnMoMSksT3IoIm5nSWYiLHQudHlwZUhlYWRlclRvcCksWnMoMiksT3IoIm5nRm9yT2YiLHQuaXRlbXMpKX0sZGlyZWN0aXZlczpbRmgsT2gsVmgsTGgsUmhdLHBpcGVzOltxaCxIaCxta10sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCksUGs9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuY2xpY2s9bmV3IGVjfWdldCBhbGxvd1Rvb2x0aXAoKXtyZXR1cm4hdGhpcy5kaXNhYmxlZCYmdGhpcy5pY29uVG9vbHRpcH1vbkNsaWNrKGUpe3RoaXMuY2xpY2thYmxlJiZ0aGlzLmNsaWNrLmVtaXQoZSl9dG9vbHRpcE1vdXNlRW50ZXIoKXt0aGlzLmFsbG93VG9vbHRpcCYmKHRoaXMudG9vbHRpcD10aGlzLmljb25Ub29sdGlwKX10b29sdGlwTW91c2VMZWF2ZSgpe3RoaXMudG9vbHRpcD12b2lkIDB9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby10YWJsZS1pY29uIl1dLGlucHV0czp7Y2xpY2thYmxlOlsicC1jbGlja2FibGUiLCJjbGlja2FibGUiXSxjb2xvcjpbInAtY29sb3IiLCJjb2xvciJdLGRpc2FibGVkOlsicC1kaXNhYmxlZCIsImRpc2FibGVkIl0saWNvbjpbInAtaWNvbiIsImljb24iXSxpY29uVG9vbHRpcDpbInAtaWNvbi10b29sdGlwIiwiaWNvblRvb2x0aXAiXX0sb3V0cHV0czp7Y2xpY2s6InAtY2xpY2sifSxkZWNsczoxLHZhcnM6OSxjb25zdHM6W1szLCJuZ0NsYXNzIiwicC1pY29uIiwicC10b29sdGlwIiwiY2xpY2siLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYmKEZyKDAsInBvLWljb24iLDApLEJyKCJjbGljayIsZnVuY3Rpb24oZSl7cmV0dXJuIHQub25DbGljayhlKX0pKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe3JldHVybiB0LnRvb2x0aXBNb3VzZUVudGVyKCl9KSgibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXtyZXR1cm4gdC50b29sdGlwTW91c2VMZWF2ZSgpfSksSXIoKSksMiZlJiYodmEoInBvLXRhYmxlLWljb24tY29udGVudCAiLHQuZGlzYWJsZWQ/IiI6dC5jb2xvciwiIiksT3IoIm5nQ2xhc3MiLHFsKDYsWncsdC5jbGlja2FibGUsdC5kaXNhYmxlZCkpKCJwLWljb24iLHQuaWNvbikoInAtdG9vbHRpcCIsdC50b29sdGlwKSl9LGRpcmVjdGl2ZXM6W2dTLHhoLFJTXSxlbmNhcHN1bGF0aW9uOjIsY2hhbmdlRGV0ZWN0aW9uOjB9KSxlfSkoKSxWaz0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8tdGFibGUtc2hvdy1zdWJ0aXRsZSJdXSxpbnB1dHM6e3N1YnRpdGxlczpbInAtc3VidGl0bGVzIiwic3VidGl0bGVzIl0sbGl0ZXJhbHM6WyJwLWxpdGVyYWxzIiwibGl0ZXJhbHMiXX0sZGVjbHM6Nyx2YXJzOjMsY29uc3RzOltbMSwicG8tdGFibGUtZm9vdGVyLXNob3ctc3VidGl0bGUiLDMsImNsaWNrIl0sWzEsInBvLXRhYmxlLWZvb3Rlci1zaG93LXN1YnRpdGxlLWNvbnRhaW5lciJdLFsxLCJwby10YWJsZS1zaG93LXN1YnRpdGxlIl0sWyJwLXNpemUiLCJzbSIsMywicC10aXRsZSJdLFsibW9kYWwiLCIiXSxbImNsYXNzIiwicG8tdGFibGUtc3VidGl0bGUtZm9vdGVyLW1vZGFsIHBvLXJvdyIsNCwibmdGb3IiLCJuZ0Zvck9mIl0sWzEsInBvLXRhYmxlLXN1YnRpdGxlLWZvb3Rlci1tb2RhbCIsInBvLXJvdyJdLFsicC1oaWRlLXRpdGxlIiwidHJ1ZSIsMywicC1zdWJ0aXRsZSJdLFsxLCJwby10YWJsZS1zdWJ0aXRsZS10ZXh0Il1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7aWYoMSZlKXtjb25zdCBlPVJyKCk7RnIoMCwiZGl2IiwwKSxCcigiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIEl0KGUpLHhyKDUpLm9wZW4oKX0pLEZyKDEsImRpdiIsMSksRnIoMiwic3BhbiIsMikscGEoMyksSXIoKSxJcigpLElyKCksRnIoNCwicG8tbW9kYWwiLDMsNCksa3IoNixRdyw0LDIsImRpdiIsNSksSXIoKX0yJmUmJihacygzKSxmYSh0LmxpdGVyYWxzLnNlZUNvbXBsZXRlU3VidGl0bGUpLFpzKDEpLE9yKCJwLXRpdGxlIix0LmxpdGVyYWxzLmNvbXBsZXRlU3VidGl0bGUpLFpzKDIpLE9yKCJuZ0Zvck9mIix0LnN1YnRpdGxlcykpfSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW3FFLE9oLExrXX0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCksTGs9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLnBvQ29sb3JQYWxldHRlU2VydmljZT1lLHRoaXMuaGlkZVRpdGxlPSExfXNldCBzdWJ0aXRsZShlKXtlJiYoZS5jb2xvcj10aGlzLnBvQ29sb3JQYWxldHRlU2VydmljZS5nZXRDb2xvcihlKSksdGhpcy5fc3VidGl0bGU9ZX1nZXQgc3VidGl0bGUoKXtyZXR1cm4gdGhpcy5fc3VidGl0bGV9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKEtFKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLXRhYmxlLXN1YnRpdGxlLWNpcmNsZSJdXSxpbnB1dHM6e2hpZGVUaXRsZTpbInAtaGlkZS10aXRsZSIsImhpZGVUaXRsZSJdLHN1YnRpdGxlOlsicC1zdWJ0aXRsZSIsInN1YnRpdGxlIl19LGRlY2xzOjIsdmFyczo1LGNvbnN0czpbWzMsInRpdGxlIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoRnIoMCwic3BhbiIsMCkscGEoMSksSXIoKSksMiZlJiYodmEoInBvLXRhYmxlLXN1YnRpdGxlLWNpcmNsZSBwby0iLG51bGw9PXQuc3VidGl0bGU/bnVsbDp0LnN1YnRpdGxlLmNvbG9yLCIiKSxPcigidGl0bGUiLHQuaGlkZVRpdGxlPyIiOm51bGw9PXQuc3VidGl0bGU/bnVsbDp0LnN1YnRpdGxlLmxhYmVsKSxacygxKSxnYSgiICIsbnVsbD09dC5zdWJ0aXRsZT9udWxsOnQuc3VidGl0bGUuY29udGVudCwiXG4iKSl9LGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLGV9KSgpLFJrPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmVsZW1lbnQ9ZSx0aGlzLnJlbmRlcmVyPXR9bmdBZnRlclZpZXdJbml0KCl7dGhpcy5pbml0aWFsaXplUmVzaXplTGlzdGVuZXIoKSx0aGlzLmRlYm91bmNlUmVzaXplKCl9bmdEb0NoZWNrKCl7IXRoaXMuaXNWaXNpYmxlJiZ0aGlzLmdldENvbnRhaW5lclNpemUoKT4wJiYodGhpcy50b2dnbGVTaG93Q29tcGxldGVTdWJ0aXRsZSgpLHRoaXMuaXNWaXNpYmxlPSEwKX1uZ09uRGVzdHJveSgpe3RoaXMucmVtb3ZlUmVzaXplTGlzdGVuZXIoKX1kZWJvdW5jZVJlc2l6ZSgpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRSZXNpemUpLHRoaXMudGltZW91dFJlc2l6ZT1zZXRUaW1lb3V0KCgpPT57dGhpcy50b2dnbGVTaG93Q29tcGxldGVTdWJ0aXRsZSgpfSl9Z2V0Q29udGFpbmVyU2l6ZSgpe3JldHVybiB0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCIucG8tdGFibGUtc3VidGl0bGUtZm9vdGVyLWNvbnRhaW5lciIpLm9mZnNldFdpZHRofWdldEl0ZW1zU2l6ZSgpe2NvbnN0IGU9dGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnBvLXRhYmxlLXN1YnRpdGxlLWZvb3RlciIpO3JldHVybiBBcnJheS5mcm9tKGUpLm1hcChlPT5lLm9mZnNldFdpZHRoKS5yZWR1Y2UoKGUsdCk9PmUrdCwxNil9aW5pdGlhbGl6ZVJlc2l6ZUxpc3RlbmVyKCl7dGhpcy5yZXNpemVMaXN0ZW5lcj10aGlzLnJlbmRlcmVyLmxpc3Rlbigid2luZG93IiwicmVzaXplIixlPT57dGhpcy5kZWJvdW5jZVJlc2l6ZSgpfSl9cmVtb3ZlUmVzaXplTGlzdGVuZXIoKXt0aGlzLnJlc2l6ZUxpc3RlbmVyKCl9dG9nZ2xlU2hvd0NvbXBsZXRlU3VidGl0bGUoKXtjb25zdCBlPXRoaXMuZ2V0Q29udGFpbmVyU2l6ZSgpLHQ9dGhpcy5nZXRJdGVtc1NpemUoKTt0aGlzLnNob3dTdWJ0aXRsZT10PmV9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKFVhKSxBcihXYSkpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby10YWJsZS1zdWJ0aXRsZS1mb290ZXIiXV0saW5wdXRzOntsaXRlcmFsczpbInAtbGl0ZXJhbHMiLCJsaXRlcmFscyJdLHN1YnRpdGxlczpbInAtc3VidGl0bGVzIiwic3VidGl0bGVzIl19LGRlY2xzOjMsdmFyczoyLGNvbnN0czpbWzEsInBvLXRhYmxlLXN1YnRpdGxlLWZvb3Rlci1jb250YWluZXIiXSxbImNsYXNzIiwicG8tdGFibGUtc3VidGl0bGUtZm9vdGVyIiw0LCJuZ0ZvciIsIm5nRm9yT2YiXSxbMywicC1saXRlcmFscyIsInAtc3VidGl0bGVzIiw0LCJuZ0lmIl0sWzEsInBvLXRhYmxlLXN1YnRpdGxlLWZvb3RlciJdLFsicC1oaWRlLXRpdGxlIiwidHJ1ZSIsMywicC1zdWJ0aXRsZSJdLFsxLCJwby10YWJsZS1zdWJ0aXRsZS10ZXh0Il0sWzMsInAtbGl0ZXJhbHMiLCJwLXN1YnRpdGxlcyJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYmKEZyKDAsImRpdiIsMCksa3IoMSxKdyw0LDIsImRpdiIsMSksa3IoMixYdywxLDIsInBvLXRhYmxlLXNob3ctc3VidGl0bGUiLDIpLElyKCkpLDImZSYmKFpzKDEpLE9yKCJuZ0Zvck9mIix0LnN1YnRpdGxlcyksWnMoMSksT3IoIm5nSWYiLHQuc2hvd1N1YnRpdGxlKSl9LGRpcmVjdGl2ZXM6W09oLEZoLExrLFZrXSxlbmNhcHN1bGF0aW9uOjJ9KSxlfSkoKSxqaz0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtwcm92aWRlcnM6W1VoXSxpbXBvcnRzOltbR2gsVmIsSG0sRlMsVEUsdEUsU1MsekUsZ2ssdkUsdmssalMsbVNdXX0pLGV9KSgpO3ZhciBOaz1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLmFycm93RG93bj00MF09ImFycm93RG93biIsZVtlLmFycm93VXA9MzhdPSJhcnJvd1VwIixlW2UuYmFja3NwYWNlPThdPSJiYWNrc3BhY2UiLGVbZS5kZWxldGU9NDZdPSJkZWxldGUiLGVbZS5lbnRlcj0xM109ImVudGVyIixlW2UuZXNjPTI3XT0iZXNjIixlW2Uua2V5Sz03NV09ImtleUsiLGVbZS5rZXlMPTc2XT0ia2V5TCIsZVtlLnNwYWNlPTMyXT0ic3BhY2UiLGVbZS50YWI9OV09InRhYiIsZX0oe30pLEJrPWZ1bmN0aW9uKGUpe3JldHVybiBlW2Uuc3RhcnRzV2l0aD0wXT0ic3RhcnRzV2l0aCIsZVtlLmNvbnRhaW5zPTFdPSJjb250YWlucyIsZVtlLmVuZHNXaXRoPTJdPSJlbmRzV2l0aCIsZX0oe30pO2NvbnN0ICRrPXtlbjp7bm9EYXRhOiJObyBkYXRhIGZvdW5kIn0sZXM6e25vRGF0YToiRGF0b3Mgbm8gZW5jb250cmFkb3MifSxwdDp7bm9EYXRhOiJOZW5odW0gZGFkbyBlbmNvbnRyYWRvIn0scnU6e25vRGF0YToiXHUwNDE0XHUwNDMwXHUwNDNkXHUwNDNkXHUwNDRiXHUwNDM1IFx1MDQzZFx1MDQzNSBcdTA0M2RcdTA0MzBcdTA0MzlcdTA0MzRcdTA0MzVcdTA0M2RcdTA0NGIifX07bGV0IEhrPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSl7dGhpcy5hdXRvRm9jdXM9ITEsdGhpcy5lbWl0T2JqZWN0VmFsdWU9ITEsdGhpcy5jaGFuZ2U9bmV3IGVjLHRoaXMubmdNb2RlbENoYW5nZT1uZXcgZWMsdGhpcy5jYWNoZU9wdGlvbnM9W10sdGhpcy5maXJzdEluV3JpdGVWYWx1ZT0hMCx0aGlzLmlzRmlyc3RGaWx0ZXI9ITAsdGhpcy5pc0ZpbHRlcmluZz0hMSx0aGlzLnByZXZpb3VzU2VhcmNoVmFsdWU9IiIsdGhpcy52aXNpYmxlT3B0aW9ucz1bXSx0aGlzLmNhY2hlU3RhdGljT3B0aW9ucz1bXSx0aGlzLmNvbWJvT3B0aW9uc0xpc3Q9W10sdGhpcy5vbk1vZGVsVG91Y2hlZD1udWxsLHRoaXMuX2NoYW5nZU9uRW50ZXI9ITEsdGhpcy5fZGVib3VuY2VUaW1lPTQwMCx0aGlzLl9kaXNhYmxlZD0hMSx0aGlzLl9kaXNhYmxlZEluaXRGaWx0ZXI9ITEsdGhpcy5fZmllbGRMYWJlbD0ibGFiZWwiLHRoaXMuX2ZpZWxkVmFsdWU9InZhbHVlIix0aGlzLl9maWx0ZXJNaW5sZW5ndGg9MCx0aGlzLl9maWx0ZXJNb2RlPUJrLnN0YXJ0c1dpdGgsdGhpcy5fb3B0aW9ucz1bXSx0aGlzLl9wbGFjZWhvbGRlcj0iIix0aGlzLl9yZXF1aXJlZD0hMSx0aGlzLl9zb3J0PSExLHRoaXMuZnJvbVdyaXRlVmFsdWU9ITEsdGhpcy5sYW5ndWFnZT1lLmdldFNob3J0TGFuZ3VhZ2UoKX1zZXQgcGxhY2Vob2xkZXIoZSl7dGhpcy5fcGxhY2Vob2xkZXI9ZXx8IiJ9Z2V0IHBsYWNlaG9sZGVyKCl7cmV0dXJuIHRoaXMuX3BsYWNlaG9sZGVyfXNldCBkZWJvdW5jZVRpbWUoZSl7Y29uc3QgdD1wYXJzZUludChlLDEwKTt0aGlzLl9kZWJvdW5jZVRpbWU9IWlzTmFOKHQpJiZ0PjA/dDo0MDB9Z2V0IGRlYm91bmNlVGltZSgpe3JldHVybiB0aGlzLl9kZWJvdW5jZVRpbWV9c2V0IGRpc2FibGVkSW5pdEZpbHRlcihlKXt0aGlzLl9kaXNhYmxlZEluaXRGaWx0ZXI9WUQoZSl9Z2V0IGRpc2FibGVkSW5pdEZpbHRlcigpe3JldHVybiB0aGlzLl9kaXNhYmxlZEluaXRGaWx0ZXJ9c2V0IGZpZWxkVmFsdWUoZSl7dGhpcy5fZmllbGRWYWx1ZT1lfHwidmFsdWUiLFFEKHRoaXMuZmlsdGVyU2VydmljZSwic3RyaW5nIikmJnRoaXMuc2VydmljZSYmKHRoaXMuc2VydmljZS5maWVsZFZhbHVlPXRoaXMuX2ZpZWxkVmFsdWUpfWdldCBmaWVsZFZhbHVlKCl7cmV0dXJuIHRoaXMuX2ZpZWxkVmFsdWV9c2V0IGZpZWxkTGFiZWwoZSl7dGhpcy5fZmllbGRMYWJlbD1lfHwibGFiZWwiLFFEKHRoaXMuZmlsdGVyU2VydmljZSwic3RyaW5nIikmJnRoaXMuc2VydmljZSYmKHRoaXMuc2VydmljZS5maWVsZExhYmVsPXRoaXMuX2ZpZWxkTGFiZWwpfWdldCBmaWVsZExhYmVsKCl7cmV0dXJuIHRoaXMuX2ZpZWxkTGFiZWx9c2V0IGZpbHRlck1pbmxlbmd0aChlKXtjb25zdCB0PSJzdHJpbmciPT10eXBlb2YgZT9wYXJzZUludChlLDEwKTplO3RoaXMuX2ZpbHRlck1pbmxlbmd0aD1OdW1iZXIuaXNJbnRlZ2VyKHQpP3Q6MH1nZXQgZmlsdGVyTWlubGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2ZpbHRlck1pbmxlbmd0aH1zZXQgcmVxdWlyZWQoZSl7dGhpcy5fcmVxdWlyZWQ9WUQoZSksdGhpcy52YWxpZGF0ZU1vZGVsKHRoaXMuc2VsZWN0ZWRWYWx1ZSl9Z2V0IHJlcXVpcmVkKCl7cmV0dXJuIHRoaXMuX3JlcXVpcmVkfXNldCBjaGFuZ2VPbkVudGVyKGUpe3RoaXMuX2NoYW5nZU9uRW50ZXI9WUQoZSl9Z2V0IGNoYW5nZU9uRW50ZXIoKXtyZXR1cm4gdGhpcy5fY2hhbmdlT25FbnRlcn1zZXQgZGlzYWJsZWQoZSl7dGhpcy5fZGlzYWJsZWQ9WUQoZSksdGhpcy52YWxpZGF0ZU1vZGVsKHRoaXMuc2VsZWN0ZWRWYWx1ZSl9Z2V0IGRpc2FibGVkKCl7cmV0dXJuIHRoaXMuX2Rpc2FibGVkfXNldCBzb3J0KGUpe3RoaXMuX3NvcnQ9WUQoZSksdGhpcy5jb21ib0xpc3REZWZpbml0aW9ucygpfWdldCBzb3J0KCl7cmV0dXJuIHRoaXMuX3NvcnR9c2V0IG9wdGlvbnMoZSl7dGhpcy5fb3B0aW9ucz1BcnJheS5pc0FycmF5KGUpP2U6W10sdGhpcy5jb21ib0xpc3REZWZpbml0aW9ucygpfWdldCBvcHRpb25zKCl7cmV0dXJuIHRoaXMuX29wdGlvbnN9c2V0IGZpbHRlck1vZGUoZSl7c3dpdGNoKHRoaXMuX2ZpbHRlck1vZGU9ZSBpbiBCaz9lOkJrLnN0YXJ0c1dpdGgsdGhpcy5fZmlsdGVyTW9kZS50b1N0cmluZygpKXtjYXNlInN0YXJ0c1dpdGgiOnRoaXMuX2ZpbHRlck1vZGU9Qmsuc3RhcnRzV2l0aDticmVhaztjYXNlImNvbnRhaW5zIjp0aGlzLl9maWx0ZXJNb2RlPUJrLmNvbnRhaW5zO2JyZWFrO2Nhc2UiZW5kc1dpdGgiOnRoaXMuX2ZpbHRlck1vZGU9QmsuZW5kc1dpdGh9fWdldCBmaWx0ZXJNb2RlKCl7cmV0dXJuIHRoaXMuX2ZpbHRlck1vZGV9c2V0IGZpbHRlclBhcmFtcyhlKXt0aGlzLl9maWx0ZXJQYXJhbXM9ZXx8MD09PWV8fCExPT09ZT9lOnZvaWQgMH1nZXQgZmlsdGVyUGFyYW1zKCl7cmV0dXJuIHRoaXMuX2ZpbHRlclBhcmFtc31zZXQgbGl0ZXJhbHMoZSl7dGhpcy5fbGl0ZXJhbHM9ZSBpbnN0YW5jZW9mIE9iamVjdCYmIShlIGluc3RhbmNlb2YgQXJyYXkpP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCRrLnB0KSwka1t0aGlzLmxhbmd1YWdlXSksZSk6JGtbdGhpcy5sYW5ndWFnZV19Z2V0IGxpdGVyYWxzKCl7cmV0dXJuIHRoaXMuX2xpdGVyYWxzfHwka1t0aGlzLmxhbmd1YWdlXX1nZXQgaXNPcHRpb25Hcm91cExpc3QoKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy5sZW5ndGgmJnRoaXMuX29wdGlvbnNbMF0uaGFzT3duUHJvcGVydHkoIm9wdGlvbnMiKX1uZ09uSW5pdCgpe3RoaXMudXBkYXRlQ29tYm9MaXN0KCl9b25Jbml0U2VydmljZSgpe3RoaXMuZmlsdGVyU2VydmljZSYmKHRoaXMuc2V0U2VydmljZSh0aGlzLmZpbHRlclNlcnZpY2UpLHRoaXMuaW5pdElucHV0T2JzZXJ2YWJsZSgpKX1zZXRTZXJ2aWNlKGUpe2UmJihRRChlLCJvYmplY3QiKT90aGlzLnNlcnZpY2U9ZToodGhpcy5zZXJ2aWNlPXRoaXMuZGVmYXVsdFNlcnZpY2UsdGhpcy5zZXJ2aWNlLmNvbmZpZ1Byb3BlcnRpZXMoZSx0aGlzLmZpZWxkTGFiZWwsdGhpcy5maWVsZFZhbHVlKSkpfWNvbXBhcmVNZXRob2QoZSx0LG4pe3N3aXRjaChuKXtjYXNlIEJrLnN0YXJ0c1dpdGg6cmV0dXJuIHRoaXMuc3RhcnRzV2l0aChlLHQpO2Nhc2UgQmsuY29udGFpbnM6cmV0dXJuIHRoaXMuY29udGFpbnMoZSx0KTtjYXNlIEJrLmVuZHNXaXRoOnJldHVybiB0aGlzLmVuZHNXaXRoKGUsdCl9fXN0YXJ0c1dpdGgoZSx0KXtyZXR1cm4gdC5sYWJlbC50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoZS50b0xvd2VyQ2FzZSgpKX1jb250YWlucyhlLHQpe3JldHVybiB0LmxhYmVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihlLnRvTG93ZXJDYXNlKCkpPi0xfWVuZHNXaXRoKGUsdCl7cmV0dXJuIHQubGFiZWwudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChlLnRvTG93ZXJDYXNlKCkpfWdldE9wdGlvbkZyb21WYWx1ZShlLHQpe3JldHVybiB0P3QuZmluZCh0PT50aGlzLmlzRXF1YWwodC52YWx1ZSxlKSk6bnVsbH1nZXRPcHRpb25Gcm9tTGFiZWwoZSx0KXtyZXR1cm4gdD90LmZpbmQodD0+dC5sYWJlbC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk9PT1lLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSk6bnVsbH11cGRhdGVTZWxlY3RlZFZhbHVlKGUsdD0hMCl7Y29uc3Qgbj1lJiZlLmxhYmVsfHwiIjt0aGlzLnVwZGF0ZUludGVybmFsVmFyaWFibGVzKGUpLHRoaXMuY2hhbmdlT25FbnRlciYmdD90aGlzLnNldElucHV0VmFsdWUobik6dGhpcy5jaGFuZ2VPbkVudGVyfHx0aGlzLnNldElucHV0VmFsdWUobiksdCYmdGhpcy51cGRhdGVNb2RlbChlJiZlLnZhbHVlfHx2b2lkIDApfWNhbGxNb2RlbENoYW5nZShlKXtyZXR1cm4gdGhpcy5vbk1vZGVsQ2hhbmdlP3RoaXMub25Nb2RlbENoYW5nZShlKTp0aGlzLm5nTW9kZWxDaGFuZ2UuZW1pdChlKX1pc0VxdWFsKGUsdCl7cmV0dXJuKGV8fDA9PT1lKSYmdD9lLnRvU3RyaW5nKCk9PT10LnRvU3RyaW5nKCk6KChudWxsPT09ZSYmbnVsbCE9PXR8fHZvaWQgMD09PWUmJnZvaWQgMCE9PXQpJiYoZT1gJHtlfWApLGU9PT10KX1zZWFyY2hGb3JMYWJlbChlLHQsbil7aWYoZSYmdCYmdC5sZW5ndGgpe2NvbnN0IGk9W107bGV0IHMsbz0hMTt0LmZvckVhY2godD0+e2lmKCJvcHRpb25zImluIHQpcmV0dXJuIG89ITEscz10O3QubGFiZWwmJih0aGlzLmNvbXBhcmVNZXRob2QoZSx0LG4pfHx0aGlzLnNlcnZpY2UpJiYodGhpcy5pc09wdGlvbkdyb3VwTGlzdCYmIW8mJihpLnB1c2gocyksbz0hMCksaS5wdXNoKHQpKX0pLHRoaXMuc2VsZWN0ZWRWaWV3PWlbdGhpcy5pc09wdGlvbkdyb3VwTGlzdD8xOjBdLHRoaXMudXBkYXRlQ29tYm9MaXN0KGkpfWVsc2UgdGhpcy51cGRhdGVDb21ib0xpc3QoKX11cGRhdGVDb21ib0xpc3QoZSl7Y29uc3QgdD1lfHxbLi4udGhpcy5jb21ib09wdGlvbnNMaXN0XSxuPSFlJiZ0aGlzLnNlbGVjdGVkVmFsdWU/W09iamVjdC5hc3NpZ24oe30sdGhpcy5zZWxlY3RlZE9wdGlvbildOnQ7dGhpcy52aXNpYmxlT3B0aW9ucz1uLCF0aGlzLnNlbGVjdGVkVmlldyYmdGhpcy52aXNpYmxlT3B0aW9ucy5sZW5ndGgmJih0aGlzLnNlbGVjdGVkVmlldz10LmZpbmQoZT0+dm9pZCAwIT09ZS52YWx1ZSkpfWdldE5leHRPcHRpb24oZSx0LG49ITEpe2NvbnN0IGk9bj90LnNsaWNlKDApLnJldmVyc2UoKTp0LnNsaWNlKDApO2xldCBzPW51bGwsbz0hMTtmb3IoY29uc3QgciBvZiBpKXtpZihyLnZhbHVlJiYhcyYmKHM9ciksci52YWx1ZSYmbylyZXR1cm4gcjt0aGlzLmlzRXF1YWwoci52YWx1ZSxlKSYmKG89ITApfXJldHVybiBzfWdldEluZGV4U2VsZWN0ZWRWaWV3KCl7Zm9yKGxldCBlPTA7ZTx0aGlzLnZpc2libGVPcHRpb25zLmxlbmd0aDtlKyspaWYodGhpcy5jb21wYXJlT2JqZWN0cyh0aGlzLnZpc2libGVPcHRpb25zW2VdLHRoaXMuc2VsZWN0ZWRWaWV3KSlyZXR1cm4gZTtyZXR1cm4gbnVsbH1jb21wYXJlT2JqZWN0cyhlLHQpe3JldHVybiBKU09OLnN0cmluZ2lmeShlKT09PUpTT04uc3RyaW5naWZ5KHQpfXZlcmlmeVZhbGlkT3B0aW9uKCl7Y29uc3QgZT10aGlzLmdldElucHV0VmFsdWUoKSx0PXRoaXMuZ2V0T3B0aW9uRnJvbUxhYmVsKGUsdGhpcy5jb21ib09wdGlvbnNMaXN0KTtpZih0aGlzLnNlcnZpY2V8fHRoaXMudXBkYXRlQ29tYm9MaXN0KFsuLi50aGlzLmNhY2hlU3RhdGljT3B0aW9uc10pLHQmJnQudmFsdWUhPT10aGlzLnNlbGVjdGVkVmFsdWUpdGhpcy51cGRhdGVTZWxlY3RlZFZhbHVlKHQpLHRoaXMucHJldmlvdXNTZWFyY2hWYWx1ZT10LmxhYmVsO2Vsc2V7aWYodGhpcy5zZWxlY3RlZFZhbHVlJiZ0aGlzLnNlbGVjdGVkT3B0aW9uJiZ0aGlzLnNlbGVjdGVkT3B0aW9uLmxhYmVsIT09ZSlyZXR1cm4gdGhpcy51cGRhdGVTZWxlY3RlZFZhbHVlV2l0aE9sZE9wdGlvbigpLHZvaWQodGhpcy5wcmV2aW91c1NlYXJjaFZhbHVlPXRoaXMuc2VsZWN0ZWRPcHRpb24ubGFiZWwpO2lmKGUmJiF0KXJldHVybiB0aGlzLnVwZGF0ZVNlbGVjdGVkVmFsdWUobnVsbCwhKCF0aGlzLnNlbGVjdGVkT3B0aW9ufHx0aGlzLnNlbGVjdGVkT3B0aW9uLmxhYmVsPT09ZSl8fHRoaXMuY2hhbmdlT25FbnRlciksdm9pZCh0aGlzLnByZXZpb3VzU2VhcmNoVmFsdWU9IiIpfX13cml0ZVZhbHVlKGUpe2lmKHRoaXMuZnJvbVdyaXRlVmFsdWU9ITAsclMoZSkmJiF0aGlzLnNlcnZpY2UmJnRoaXMuY29tYm9PcHRpb25zTGlzdCYmdGhpcy5jb21ib09wdGlvbnNMaXN0Lmxlbmd0aCl7Y29uc3QgdD10aGlzLmdldE9wdGlvbkZyb21WYWx1ZShlLHRoaXMuY29tYm9PcHRpb25zTGlzdCk7cmV0dXJuIHRoaXMudXBkYXRlU2VsZWN0ZWRWYWx1ZSh0KSx2b2lkIHRoaXMudXBkYXRlQ29tYm9MaXN0KCl9aWYoZSYmdGhpcy5zZXJ2aWNlKXJldHVybiB0aGlzLmdldE9iamVjdEJ5VmFsdWUoZSk7dGhpcy51cGRhdGVTZWxlY3RlZFZhbHVlKG51bGwpLHRoaXMudXBkYXRlQ29tYm9MaXN0KCl9c2V0RGlzYWJsZWRTdGF0ZShlKXt0aGlzLmRpc2FibGVkPWV9cmVnaXN0ZXJPbkNoYW5nZShlKXt0aGlzLm9uTW9kZWxDaGFuZ2U9ZX1yZWdpc3Rlck9uVG91Y2hlZChlKXt0aGlzLm9uTW9kZWxUb3VjaGVkPWV9cmVnaXN0ZXJPblZhbGlkYXRvckNoYW5nZShlKXt0aGlzLnZhbGlkYXRvckNoYW5nZT1lfXZhbGlkYXRlKGUpe2lmKERFKHRoaXMucmVxdWlyZWQsdGhpcy5kaXNhYmxlZCxlLnZhbHVlKSlyZXR1cm57cmVxdWlyZWQ6e3ZhbGlkOiExfX19Y2xlYXIoZSl7dGhpcy5jYWxsTW9kZWxDaGFuZ2UoZSksdGhpcy51cGRhdGVTZWxlY3RlZFZhbHVlKG51bGwpLHRoaXMudXBkYXRlQ29tYm9MaXN0KCl9Y29uZmlnQWZ0ZXJTZXRGaWx0ZXJTZXJ2aWNlKGUpe2U/KHRoaXMuY29tYm9PcHRpb25zTGlzdD1bXSx0aGlzLnVuc3Vic2NyaWJlS2V5dXBPYnNlcnZhYmxlKCksdGhpcy5vbkluaXRTZXJ2aWNlKCkpOih0aGlzLnNlcnZpY2U9dm9pZCAwLHRoaXMuY29tYm9PcHRpb25zTGlzdD10aGlzLmNhY2hlU3RhdGljT3B0aW9ucyksdGhpcy52aXNpYmxlT3B0aW9ucz1bXSx0aGlzLmlzRmlyc3RGaWx0ZXI9ITB9dW5zdWJzY3JpYmVLZXl1cE9ic2VydmFibGUoKXt0aGlzLmtleXVwU3Vic2NyaWJlJiZ0aGlzLmtleXVwU3Vic2NyaWJlLnVuc3Vic2NyaWJlKCl9dmFsaWRhdGVNb2RlbChlKXt0aGlzLnZhbGlkYXRvckNoYW5nZSYmdGhpcy52YWxpZGF0b3JDaGFuZ2UoZSl9Y29tYm9MaXN0RGVmaW5pdGlvbnMoKXt0aGlzLmNvbWJvT3B0aW9uc0xpc3Q9dGhpcy5vcHRpb25zLmxlbmd0aD4wP3RoaXMubGlzdGluZ0NvbWJvT3B0aW9ucyh0aGlzLm9wdGlvbnMpOnRoaXMub3B0aW9ucyx0aGlzLmNhY2hlU3RhdGljT3B0aW9ucz10aGlzLmNvbWJvT3B0aW9uc0xpc3QsdGhpcy51cGRhdGVDb21ib0xpc3QoKX1jb21wYXJlT3B0aW9ucyhlLHQpe2NvbnN0IG49ZS5sYWJlbC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCksaT10LmxhYmVsLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtyZXR1cm4gbjxpPy0xOm4+aT8xOjB9aGFzRHVwbGljYXRlZE9wdGlvbihlLHQsbil7cmV0dXJuIGUuc29tZShlPT5lLmxhYmVsPT09dCl8fG4mJm4uc29tZShlPT5lLmxhYmVsPT09dCl9bGlzdGluZ0NvbWJvT3B0aW9ucyhlKXtjb25zdCB0PWUuY29uY2F0KCksbj10aGlzLnZlcmlmeUNvbWJvT3B0aW9ucyh0KTtyZXR1cm4gdGhpcy5zb3J0T3B0aW9ucyhuKSx0aGlzLmlzT3B0aW9uR3JvdXBMaXN0JiZuLmxlbmd0aD4wP3RoaXMudmVyaWZ5Q29tYm9PcHRpb25zR3JvdXAobik6bn1zb3J0T3B0aW9ucyhlKXtpZihlLmxlbmd0aD4wJiZ0aGlzLnNvcnQpcmV0dXJuIGUuc29ydCh0aGlzLmNvbXBhcmVPcHRpb25zKX12YWxpZGF0ZVZhbHVlKGUsdD0hMSl7Y29uc3R7bGFiZWw6bixvcHRpb25zOmksdmFsdWU6c309ZTtyZXR1cm4gdGhpcy5pc09wdGlvbkdyb3VwTGlzdD9yUyhuKSYmaSYmaS5sZW5ndGg+MHx8ITA9PT10JiZyUyhzKTpyUyhzKSYmIWl9dmVyaWZ5Q29tYm9PcHRpb25zKGUsdD0hMSxuKXtyZXR1cm4gZS5yZWR1Y2UoKGUsaSk9PnRoaXMudmVyaWZ5SWZIYXNMYWJlbChpKSYmIXRoaXMuaGFzRHVwbGljYXRlZE9wdGlvbihlLGkubGFiZWwsbikmJnRoaXMudmFsaWRhdGVWYWx1ZShpLHQpPyhlLnB1c2goaSksZSk6ZSxbXSl9dmVyaWZ5Q29tYm9PcHRpb25zR3JvdXAoZSl7cmV0dXJuIGUucmVkdWNlKChlLHQpPT57Y29uc3R7b3B0aW9uczpuLGxhYmVsOml9PXQscz10aGlzLnZlcmlmeUNvbWJvT3B0aW9ucyhuLCEwLGUpO3JldHVybiBzLmxlbmd0aD4wJiYodGhpcy5zb3J0T3B0aW9ucyhzKSxlLnB1c2goe2xhYmVsOmksb3B0aW9uczohMH0sLi4ucykpLGV9LFtdKX12ZXJpZnlJZkhhc0xhYmVsKGU9e30pe2NvbnN0e2xhYmVsOnQsb3B0aW9uczpuLHZhbHVlOml9PWU7cmV0dXJuISh0aGlzLmlzT3B0aW9uR3JvdXBMaXN0JiZuJiYhdHx8IXQmJiFpfHwhdGhpcy5pc09wdGlvbkdyb3VwTGlzdCYmbnx8KGUubGFiZWx8fChlLmxhYmVsPWUudmFsdWUudG9TdHJpbmcoKSksMCkpfXVwZGF0ZUludGVybmFsVmFyaWFibGVzKGUpe2U/KHRoaXMuc2VsZWN0ZWRWaWV3PWUsdGhpcy5zZWxlY3RlZE9wdGlvbj1lKToodGhpcy5zZWxlY3RlZFZpZXc9dm9pZCAwLHRoaXMuc2VsZWN0ZWRPcHRpb249dm9pZCAwKX11cGRhdGVNb2RlbChlKXtlIT09dGhpcy5zZWxlY3RlZFZhbHVlJiYodGhpcy5mcm9tV3JpdGVWYWx1ZXx8dGhpcy5jYWxsTW9kZWxDaGFuZ2UoZSksdGhpcy5jaGFuZ2UuZW1pdCh0aGlzLmVtaXRPYmplY3RWYWx1ZT90aGlzLnNlbGVjdGVkT3B0aW9uOmUpKSx0aGlzLnNlbGVjdGVkVmFsdWU9ZSx0aGlzLmZyb21Xcml0ZVZhbHVlPSExfXVwZGF0ZVNlbGVjdGVkVmFsdWVXaXRoT2xkT3B0aW9uKCl7Y29uc3QgZT10aGlzLmdldE9wdGlvbkZyb21WYWx1ZSh0aGlzLnNlbGVjdGVkVmFsdWUsdGhpcy5jb21ib09wdGlvbnNMaXN0KTtpZihlJiZlLmxhYmVsKXJldHVybiB0aGlzLnVwZGF0ZVNlbGVjdGVkVmFsdWUoZSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKHBTKSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsaW5wdXRzOnthdXRvRm9jdXM6WyJwLWF1dG8tZm9jdXMiLCJhdXRvRm9jdXMiXSxlbWl0T2JqZWN0VmFsdWU6WyJwLWVtaXQtb2JqZWN0LXZhbHVlIiwiZW1pdE9iamVjdFZhbHVlIl0scGxhY2Vob2xkZXI6WyJwLXBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXIiXSxkZWJvdW5jZVRpbWU6WyJwLWRlYm91bmNlLXRpbWUiLCJkZWJvdW5jZVRpbWUiXSxkaXNhYmxlZEluaXRGaWx0ZXI6WyJwLWRpc2FibGVkLWluaXQtZmlsdGVyIiwiZGlzYWJsZWRJbml0RmlsdGVyIl0sZmllbGRWYWx1ZTpbInAtZmllbGQtdmFsdWUiLCJmaWVsZFZhbHVlIl0sZmllbGRMYWJlbDpbInAtZmllbGQtbGFiZWwiLCJmaWVsZExhYmVsIl0sZmlsdGVyTWlubGVuZ3RoOlsicC1maWx0ZXItbWlubGVuZ3RoIiwiZmlsdGVyTWlubGVuZ3RoIl0scmVxdWlyZWQ6WyJwLXJlcXVpcmVkIiwicmVxdWlyZWQiXSxjaGFuZ2VPbkVudGVyOlsicC1jaGFuZ2Utb24tZW50ZXIiLCJjaGFuZ2VPbkVudGVyIl0sZGlzYWJsZWQ6WyJwLWRpc2FibGVkIiwiZGlzYWJsZWQiXSxzb3J0OlsicC1zb3J0Iiwic29ydCJdLG9wdGlvbnM6WyJwLW9wdGlvbnMiLCJvcHRpb25zIl0sZmlsdGVyTW9kZTpbInAtZmlsdGVyLW1vZGUiLCJmaWx0ZXJNb2RlIl0sZmlsdGVyUGFyYW1zOlsicC1maWx0ZXItcGFyYW1zIiwiZmlsdGVyUGFyYW1zIl0sbGl0ZXJhbHM6WyJwLWxpdGVyYWxzIiwibGl0ZXJhbHMiXSxsYWJlbDpbInAtbGFiZWwiLCJsYWJlbCJdLGhlbHA6WyJwLWhlbHAiLCJoZWxwIl0sbmFtZToibmFtZSIsZmlsdGVyU2VydmljZTpbInAtZmlsdGVyLXNlcnZpY2UiLCJmaWx0ZXJTZXJ2aWNlIl0saWNvbjpbInAtaWNvbiIsImljb24iXSxvcHRpb25hbDpbInAtb3B0aW9uYWwiLCJvcHRpb25hbCJdLGNsZWFuOlsicC1jbGVhbiIsImNsZWFuIl19LG91dHB1dHM6e2NoYW5nZToicC1jaGFuZ2UiLG5nTW9kZWxDaGFuZ2U6Im5nTW9kZWxDaGFuZ2UifX0pLE92KFt4UygpXSxlLnByb3RvdHlwZSwiYXV0b0ZvY3VzIix2b2lkIDApLE92KFt4UygpXSxlLnByb3RvdHlwZSwiY2xlYW4iLHZvaWQgMCksT3YoW3hTKCldLGUucHJvdG90eXBlLCJlbWl0T2JqZWN0VmFsdWUiLHZvaWQgMCksZX0pKCksVWs9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmh0dHA9ZSx0aGlzLmZpZWxkTGFiZWw9ImxhYmVsIix0aGlzLmZpZWxkVmFsdWU9InZhbHVlIix0aGlzLmhlYWRlcnM9bmV3IFhtKHsiWC1QTy1Oby1NZXNzYWdlIjoidHJ1ZSJ9KSx0aGlzLm1lc3NhZ2VzPVtdfWdldCB1cmwoKXtyZXR1cm4gdGhpcy5fdXJsfWdldEZpbHRlcmVkRGF0YShlLHQpe2NvbnN0IG49ZS52YWx1ZSxpPXVTKHQpLHM9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGkpLHtmaWx0ZXI6bn0pO3JldHVybiB0aGlzLmh0dHAuZ2V0KGAke3RoaXMudXJsfWAse3Jlc3BvbnNlVHlwZToianNvbiIscGFyYW1zOnMsaGVhZGVyczp0aGlzLmhlYWRlcnN9KS5waXBlKGsoZT0+dGhpcy5wYXJzZVRvQXJyYXlDb21ib09wdGlvbihlLml0ZW1zKSkpfWdldE9iamVjdEJ5VmFsdWUoZSx0KXtjb25zdCBuPXVTKHQpO3JldHVybiB0aGlzLmh0dHAuZ2V0KGAke3RoaXMudXJsfS8ke2V9YCx7cGFyYW1zOm4saGVhZGVyczp0aGlzLmhlYWRlcnN9KS5waXBlKGsoZT0+dGhpcy5wYXJzZVRvQ29tYm9PcHRpb24oZSkpKX1jb25maWdQcm9wZXJ0aWVzKGUsdCxuKXt0aGlzLl91cmw9ZSx0aGlzLmZpZWxkTGFiZWw9dCx0aGlzLmZpZWxkVmFsdWU9bn1wYXJzZVRvQXJyYXlDb21ib09wdGlvbihlKXtpZihlJiZlLmxlbmd0aD4wKXtjb25zdCB0PWUubWFwKGU9PnRoaXMucGFyc2VUb0NvbWJvT3B0aW9uKGUpKTtyZXR1cm4gdGhpcy5kaXNwbGF5TWVzc2FnZXMoKSx0fXJldHVybltdfXBhcnNlVG9Db21ib09wdGlvbihlKXtyZXR1cm4obnVsbD09ZT92b2lkIDA6ZVt0aGlzLmZpZWxkVmFsdWVdKT97bGFiZWw6ZVt0aGlzLmZpZWxkTGFiZWxdLHZhbHVlOmVbdGhpcy5maWVsZFZhbHVlXX06KHRoaXMuYWRkTWVzc2FnZShlLHRoaXMuZmllbGRWYWx1ZSkse3ZhbHVlOiIifSl9YWRkTWVzc2FnZShlLHQpe3RoaXMubWVzc2FnZXMucHVzaChgQ2Fubm90IHJlYWQgcHJvcGVydHkgIiR7dH0iIG9mICR7SlNPTi5zdHJpbmdpZnkoZSl9LFxuICAgICAgc2VlIFtwLWZpZWxkLXZhbHVlXSBwcm9wZXJ0eSBhdCBodHRwczovL3BvLXVpLmlvL2RvY3VtZW50YXRpb24vcG8tY29tYm9gKX1kaXNwbGF5TWVzc2FnZXMoKXt0aGlzLm1lc3NhZ2VzLmxlbmd0aCYmKHRoaXMubWVzc2FnZXMuZm9yRWFjaChlPT5jb25zb2xlLmVycm9yKGUpKSx0aGlzLm1lc3NhZ2VzPVtdKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoY2koZ3YpKX0sZS5cdTAyNzVwcm92PWhlKHt0b2tlbjplLGZhY3Rvcnk6ZS5cdTAyNzVmYWN9KSxlfSkoKSxxaz0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUpe3RoaXMudGVtcGxhdGVSZWY9ZX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoQ2wpKX0sZS5cdTAyNzVkaXI9S2Uoe3R5cGU6ZSxzZWxlY3RvcnM6W1siIiwicC1jb21iby1vcHRpb24tdGVtcGxhdGUiLCIiXV19KSxlfSkoKSx6az0oKCk9PntjbGFzcyBlIGV4dGVuZHMgSGt7Y29uc3RydWN0b3IoZSx0LG4saSxzLG8scixhKXtzdXBlcihhKSx0aGlzLmVsZW1lbnQ9ZSx0aGlzLmRpZmZlcnM9dCx0aGlzLmRlZmF1bHRTZXJ2aWNlPW4sdGhpcy5yZW5kZXJlcj1pLHRoaXMuY2hhbmdlRGV0ZWN0b3I9cyx0aGlzLmNvbnRyb2xQb3NpdGlvbj1vLHRoaXMuc2FuaXRpemVkPXIsdGhpcy5jb21ib0ljb249InBvLWljb24tYXJyb3ctZG93biIsdGhpcy5jb21ib09wZW49ITEsdGhpcy5pc1Byb2Nlc3NpbmdHZXRPYmplY3RCeVZhbHVlPSExLHRoaXMuc2Nyb2xsVG9wPTAsdGhpcy5zaG91bGRNYXJrTGV0dGVycz0hMCx0aGlzLl9pc1NlcnZlclNlYXJjaGluZz0hMSx0aGlzLm9uU2Nyb2xsPSgpPT57dGhpcy5hZGp1c3RDb250YWluZXJQb3NpdGlvbigpfSx0aGlzLmRpZmZlcj10LmZpbmQoW10pLmNyZWF0ZShudWxsKX1zZXQgaXNTZXJ2ZXJTZWFyY2hpbmcoZSl7ZT8odGhpcy5faXNTZXJ2ZXJTZWFyY2hpbmc9ZSx0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKSx0aGlzLnNldENvbnRhaW5lclBvc2l0aW9uKCksdGhpcy5pbml0aWFsaXplTGlzdGVuZXJzKCkpOnRoaXMuX2lzU2VydmVyU2VhcmNoaW5nPWV9Z2V0IGlzU2VydmVyU2VhcmNoaW5nKCl7cmV0dXJuIHRoaXMuX2lzU2VydmVyU2VhcmNoaW5nfW5nQWZ0ZXJWaWV3SW5pdCgpe3RoaXMuYXV0b0ZvY3VzJiZ0aGlzLmZvY3VzKCl9bmdPbkNoYW5nZXMoZSl7ZS5kZWJvdW5jZVRpbWUmJih0aGlzLnVuc3Vic2NyaWJlS2V5dXBPYnNlcnZhYmxlKCksdGhpcy5pbml0SW5wdXRPYnNlcnZhYmxlKCkpLGUuZmlsdGVyU2VydmljZSYmdGhpcy5jb25maWdBZnRlclNldEZpbHRlclNlcnZpY2UodGhpcy5maWx0ZXJTZXJ2aWNlKX1uZ09uRGVzdHJveSgpe3RoaXMucmVtb3ZlTGlzdGVuZXJzKCksdGhpcy5maWx0ZXJTdWJzY3JpcHRpb24mJnRoaXMuZmlsdGVyU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCksdGhpcy5nZXRTdWJzY3JpcHRpb24mJnRoaXMuZ2V0U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCl9Zm9jdXMoKXt0aGlzLmRpc2FibGVkfHx0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC5mb2N1cygpfW9uQmx1cigpe3ZhciBlO251bGw9PT0oZT10aGlzLm9uTW9kZWxUb3VjaGVkKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMpfW9uS2V5RG93bihlKXtjb25zdCB0PWUua2V5Q29kZSxuPWUudGFyZ2V0LnZhbHVlO2lmKHRoaXMuc2VydmljZSYmdD09PU5rLnRhYiYmbilyZXR1cm4gdGhpcy5jb250cm9sQ29tYm9WaXNpYmlsaXR5KCExKSx0aGlzLmdldE9iamVjdEJ5VmFsdWUobik7aWYodD09PU5rLmFycm93VXB8fHQ9PT1Oay5hcnJvd0Rvd24pcmV0dXJuIGUucHJldmVudERlZmF1bHQoKSx0aGlzLmNvbWJvT3BlbiYmKHQ9PT1Oay5hcnJvd1VwP3RoaXMuc2VsZWN0UHJldmlvdXNPcHRpb24oKTp0aGlzLnNlbGVjdE5leHRPcHRpb24oKSksdGhpcy5jb250cm9sQ29tYm9WaXNpYmlsaXR5KCEwKSx0aGlzLmlzRmlsdGVyaW5nPSEhdGhpcy5jaGFuZ2VPbkVudGVyJiZ0aGlzLmlzRmlsdGVyaW5nLHZvaWQodGhpcy5zaG91bGRNYXJrTGV0dGVycz0hIXRoaXMuY2hhbmdlT25FbnRlciYmdGhpcy5zaG91bGRNYXJrTGV0dGVycyk7aWYodD09PU5rLnRhYnx8dD09PU5rLmVzYylyZXR1cm4gdD09PU5rLmVzYyYmdGhpcy5jb21ib09wZW4mJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSksdGhpcy5jb250cm9sQ29tYm9WaXNpYmlsaXR5KCExKSx0aGlzLnZlcmlmeVZhbGlkT3B0aW9uKCksdm9pZCh0aGlzLnNlcnZpY2V8fCh0aGlzLnNlbGVjdGVkVmlldz10aGlzLmNoYW5nZU9uRW50ZXImJiF0aGlzLnNlbGVjdGVkVmFsdWU/dm9pZCAwOnRoaXMuc2VsZWN0ZWRWaWV3KSk7aWYodD09PU5rLmVudGVyJiZ0aGlzLnNlbGVjdGVkVmlldyYmdGhpcy5jb21ib09wZW4pe2NvbnN0IGU9dGhpcy5zZWxlY3RlZFZpZXcudmFsdWUhPT10aGlzLnNlbGVjdGVkVmFsdWV8fG4hPT10aGlzLnNlbGVjdGVkVmlldy5sYWJlbDtyZXR1cm4gdGhpcy5jb250cm9sQ29tYm9WaXNpYmlsaXR5KCExKSx0aGlzLnVwZGF0ZVNlbGVjdGVkVmFsdWUodGhpcy5zZWxlY3RlZFZpZXcsZSksdGhpcy5pc0ZpbHRlcmluZz0hMSx2b2lkKHRoaXMuc2VydmljZXx8dGhpcy51cGRhdGVDb21ib0xpc3QoWy4uLnRoaXMuY2FjaGVTdGF0aWNPcHRpb25zXSkpfXQ9PT1Oay5lbnRlciYmdGhpcy5jb250cm9sQ29tYm9WaXNpYmlsaXR5KCEwKX1vbktleVVwKGUpe2NvbnN0IHQ9ZS5rZXlDb2RlfHxlLndoaWNoLG49ZS50YXJnZXQudmFsdWU7aWYodCE9PU5rLmFycm93VXAmJnQhPT1Oay5hcnJvd0Rvd24mJnQhPT1Oay5lbnRlcil7aWYobil0aGlzLnNlcnZpY2V8fHRoaXMucHJldmlvdXNTZWFyY2hWYWx1ZT09PW58fCh0aGlzLnNob3VsZE1hcmtMZXR0ZXJzPSEwLHRoaXMuaXNGaWx0ZXJpbmc9ITAsdGhpcy5zZWFyY2hGb3JMYWJlbChuLHRoaXMuY29tYm9PcHRpb25zTGlzdCx0aGlzLmZpbHRlck1vZGUpKTtlbHNle2NvbnN0IGU9dGhpcy5zZXJ2aWNlJiZ0aGlzLnNlbGVjdGVkVmFsdWUmJnRoaXMuc2VsZWN0ZWRPcHRpb24ubGFiZWw9PT10aGlzLnByZXZpb3VzU2VhcmNoVmFsdWU7dGhpcy51cGRhdGVTZWxlY3RlZFZhbHVlKG51bGwpLHRoaXMuc2VydmljZT9lJiZ0aGlzLnVwZGF0ZUNvbWJvTGlzdChbLi4udGhpcy5jYWNoZU9wdGlvbnNdKTp0aGlzLnVwZGF0ZUNvbWJvTGlzdCgpLHRoaXMuaXNGaWx0ZXJpbmc9ITF9dGhpcy5wcmV2aW91c1NlYXJjaFZhbHVlIT09biYmKHRoaXMuY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpLHRoaXMuY29udHJvbENvbWJvVmlzaWJpbGl0eSghMCkpfXRoaXMucHJldmlvdXNTZWFyY2hWYWx1ZT1ufWluaXRJbnB1dE9ic2VydmFibGUoKXtpZih0aGlzLnNlcnZpY2Upe2NvbnN0IGU9aXAodGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQsImtleXVwIikucGlwZShBcChlPT50aGlzLmlzVmFsaWRDaGFyYWN0ZXJUb1NlYXJjaChlLmtleUNvZGUpKSxrKGU9PmUuY3VycmVudFRhcmdldC52YWx1ZSksQmIoKSxHcCgoKT0+e3RoaXMuc2hvdWxkTWFya0xldHRlcnM9ITF9KSxMYih0aGlzLmRlYm91bmNlVGltZSkpO3RoaXMua2V5dXBTdWJzY3JpYmU9ZS5zdWJzY3JpYmUoZT0+eyhlLmxlbmd0aD49dGhpcy5maWx0ZXJNaW5sZW5ndGh8fCFlKSYmdGhpcy5jb250cm9sQXBwbHlGaWx0ZXIoZSl9KX19Y29udHJvbEFwcGx5RmlsdGVyKGUpe3RoaXMuaXNQcm9jZXNzaW5nR2V0T2JqZWN0QnlWYWx1ZXx8dGhpcy5zZWxlY3RlZE9wdGlvbiYmZT09PXRoaXMuc2VsZWN0ZWRPcHRpb24ubGFiZWx8fHRoaXMuYXBwbHlGaWx0ZXIoZSl9YXBwbHlGaWx0ZXIoZSl7dGhpcy5jb250cm9sQ29tYm9WaXNpYmlsaXR5KCExKSx0aGlzLmlzU2VydmVyU2VhcmNoaW5nPSEwLHRoaXMuZmlsdGVyU3Vic2NyaXB0aW9uPXRoaXMuc2VydmljZS5nZXRGaWx0ZXJlZERhdGEoe3Byb3BlcnR5OnRoaXMuZmllbGRMYWJlbCx2YWx1ZTplfSx0aGlzLmZpbHRlclBhcmFtcykuc3Vic2NyaWJlKHQ9PnRoaXMuc2V0T3B0aW9uc0J5QXBwbHlGaWx0ZXIoZSx0KSxlPT50aGlzLm9uRXJyb3JGaWx0ZXJlZERhdGEoKSl9c2V0T3B0aW9uc0J5QXBwbHlGaWx0ZXIoZSx0KXt0aGlzLnNob3VsZE1hcmtMZXR0ZXJzPSEwLHRoaXMuaXNTZXJ2ZXJTZWFyY2hpbmc9ITEsdGhpcy5vcHRpb25zPXQsdGhpcy5zZWFyY2hGb3JMYWJlbChlLHQsdGhpcy5maWx0ZXJNb2RlKSx0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKSx0aGlzLmNvbnRyb2xDb21ib1Zpc2liaWxpdHkoITApLHRoaXMuaXNGaXJzdEZpbHRlciYmKHRoaXMuaXNGaXJzdEZpbHRlcj0hdGhpcy5pc0ZpcnN0RmlsdGVyLHRoaXMuY2FjaGVPcHRpb25zPXRoaXMuY29tYm9PcHRpb25zTGlzdCl9Z2V0T2JqZWN0QnlWYWx1ZShlKXt2YXIgdDt0aGlzLnNlbGVjdGVkVmFsdWUhPT1lJiYobnVsbD09PSh0PXRoaXMuc2VsZWN0ZWRPcHRpb24pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmxhYmVsKSE9PWUmJih0aGlzLmlzUHJvY2Vzc2luZ0dldE9iamVjdEJ5VmFsdWU9ITAsdGhpcy5nZXRTdWJzY3JpcHRpb249dGhpcy5zZXJ2aWNlLmdldE9iamVjdEJ5VmFsdWUoZSx0aGlzLmZpbHRlclBhcmFtcykuc3Vic2NyaWJlKGU9PnRoaXMudXBkYXRlT3B0aW9uQnlGaWx0ZXJlZFZhbHVlKGUpLGU9PnRoaXMub25FcnJvckdldE9iamVjdEJ5VmFsdWUoKSkpfXVwZGF0ZU9wdGlvbkJ5RmlsdGVyZWRWYWx1ZShlKXtlPyh0aGlzLm9wdGlvbnM9W2VdLHRoaXMub25PcHRpb25DbGljayhlKSk6dGhpcy51cGRhdGVTZWxlY3RlZFZhbHVlKG51bGwpLHNldFRpbWVvdXQoKCk9Pnt0aGlzLmlzUHJvY2Vzc2luZ0dldE9iamVjdEJ5VmFsdWU9ITF9LHRoaXMuZGVib3VuY2VUaW1lKX1zZWxlY3RQcmV2aW91c09wdGlvbigpe2NvbnN0IGU9dGhpcy5zZWxlY3RlZFZpZXcmJnRoaXMuc2VsZWN0ZWRWaWV3LnZhbHVlO2lmKGUpe2NvbnN0IHQ9dGhpcy5nZXROZXh0T3B0aW9uKGUsdGhpcy52aXNpYmxlT3B0aW9ucywhMCk7dGhpcy51cGRhdGVTZWxlY3RlZFZhbHVlKHQsdCYmdC52YWx1ZSE9PWUmJiF0aGlzLmNoYW5nZU9uRW50ZXIpfWVsc2UgaWYodGhpcy52aXNpYmxlT3B0aW9ucy5sZW5ndGgpe2NvbnN0IHQ9dGhpcy52aXNpYmxlT3B0aW9uc1t0aGlzLnZpc2libGVPcHRpb25zLmxlbmd0aC0xXTt0aGlzLnVwZGF0ZVNlbGVjdGVkVmFsdWUodCx0LnZhbHVlIT09ZSYmIXRoaXMuY2hhbmdlT25FbnRlcil9fXNlbGVjdE5leHRPcHRpb24oKXtjb25zdCBlPXRoaXMuc2VsZWN0ZWRWaWV3JiZ0aGlzLnNlbGVjdGVkVmlldy52YWx1ZTtpZihlKXtjb25zdCB0PXRoaXMuZ2V0TmV4dE9wdGlvbihlLHRoaXMudmlzaWJsZU9wdGlvbnMpO3RoaXMudXBkYXRlU2VsZWN0ZWRWYWx1ZSh0LHQmJnQudmFsdWUhPT1lJiYhdGhpcy5jaGFuZ2VPbkVudGVyKX1lbHNlIGlmKHRoaXMudmlzaWJsZU9wdGlvbnMubGVuZ3RoKXtjb25zdCB0PXRoaXMudmlzaWJsZU9wdGlvbnNbdGhpcy5jaGFuZ2VPbkVudGVyPzE6MF07dGhpcy51cGRhdGVTZWxlY3RlZFZhbHVlKHQsdC52YWx1ZSE9PWUmJiF0aGlzLmNoYW5nZU9uRW50ZXIpfX10b2dnbGVDb21ib1Zpc2liaWxpdHkoKXt0aGlzLmRpc2FibGVkfHwodGhpcy5zZXJ2aWNlJiYhdGhpcy5kaXNhYmxlZEluaXRGaWx0ZXImJnRoaXMuYXBwbHlGaWx0ZXJJbkZpcnN0Q2xpY2soKSx0aGlzLmNvbnRyb2xDb21ib1Zpc2liaWxpdHkoIXRoaXMuY29tYm9PcGVuKSl9YXBwbHlGaWx0ZXJJbkZpcnN0Q2xpY2soKXt0aGlzLmlzRmlyc3RGaWx0ZXImJiF0aGlzLnNlbGVjdGVkVmFsdWUmJnRoaXMuYXBwbHlGaWx0ZXIoIiIpfWNvbnRyb2xDb21ib1Zpc2liaWxpdHkoZSl7ZT90aGlzLm9wZW4oKTp0aGlzLmNsb3NlKCl9b25PcHRpb25DbGljayhlLHQpe2NvbnN0IG49dGhpcy5nZXRJbnB1dFZhbHVlKCksaT1lLnZhbHVlIT09dGhpcy5zZWxlY3RlZFZhbHVlfHwhKCF0aGlzLnNlbGVjdGVkVmlld3x8bj09PXRoaXMuc2VsZWN0ZWRWaWV3LmxhYmVsKTt0JiZ0LnN0b3BQcm9wYWdhdGlvbigpLHRoaXMudXBkYXRlU2VsZWN0ZWRWYWx1ZShlLGkpLHRoaXMuY29udHJvbENvbWJvVmlzaWJpbGl0eSghMSksdGhpcy5zZXJ2aWNlfHx0aGlzLnVwZGF0ZUNvbWJvTGlzdChbLi4udGhpcy5jYWNoZVN0YXRpY09wdGlvbnNdKSx0aGlzLnByZXZpb3VzU2VhcmNoVmFsdWU9dGhpcy5zZWxlY3RlZFZpZXcubGFiZWx9c2Nyb2xsVG8oZSl7Y29uc3QgdD10aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCIucG8tY29tYm8taXRlbS1zZWxlY3RlZCIpO3RoaXMuc2V0U2Nyb2xsVG9wKCF0Lmxlbmd0aHx8ZTw9MT8wOnRbMF0ub2Zmc2V0VG9wLTg4KX1nZXRJbnB1dFZhbHVlKCl7cmV0dXJuIHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlfXNldElucHV0VmFsdWUoZSl7dGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWU9ZX13YXNDbGlja2VkT25Ub2dnbGUoZSl7IXRoaXMuY29tYm9PcGVufHx0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC5jb250YWlucyhlLnRhcmdldCl8fHRoaXMuaWNvbkVsZW1lbnQubmF0aXZlRWxlbWVudC5jb250YWlucyhlLnRhcmdldCl8fHRoaXMuY29udGVudEVsZW1lbnQmJnRoaXMuY29udGVudEVsZW1lbnQubmF0aXZlRWxlbWVudC5jb250YWlucyhlLnRhcmdldCk/IXRoaXMuc2VydmljZXx8dGhpcy5nZXRJbnB1dFZhbHVlKCl8fHRoaXMuaXNGaXJzdEZpbHRlcnx8dGhpcy5hcHBseUZpbHRlcigiIik6KHRoaXMuY29udHJvbENvbWJvVmlzaWJpbGl0eSghMSksdGhpcy52ZXJpZnlWYWxpZE9wdGlvbigpLHRoaXMuc2VsZWN0ZWRWaWV3PXRoaXMuY2hhbmdlT25FbnRlciYmIXRoaXMuc2VsZWN0ZWRWYWx1ZT92b2lkIDA6dGhpcy5zZWxlY3RlZFZpZXcpfWdldExhYmVsRm9ybWF0dGVkKGUpe2NvbnN0IHQ9dGhpcy5zYW5pdGl6ZVRhZ0hUTUwoZSk7bGV0IG49dDtpZih0aGlzLmlzRmlsdGVyaW5nfHx0aGlzLnNlcnZpY2UmJnRoaXMuZ2V0SW5wdXRWYWx1ZSgpJiYhdGhpcy5jb21wYXJlT2JqZWN0cyh0aGlzLmNhY2hlT3B0aW9ucyx0aGlzLnZpc2libGVPcHRpb25zKSYmdGhpcy5zaG91bGRNYXJrTGV0dGVycyl7Y29uc3QgZT10aGlzLnNhbml0aXplVGFnSFRNTCh0aGlzLmdldElucHV0VmFsdWUoKS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpLGk9dC50b0xvd2VyQ2FzZSgpLHM9JzxzcGFuIGNsYXNzPSJwby1mb250LXRleHQtbGFyZ2UtYm9sZCI+JyxvPSI8L3NwYW4+IjtsZXQgcixhLGw7c3dpdGNoKHRoaXMuZmlsdGVyTW9kZSl7Y2FzZSBCay5zdGFydHNXaXRoOmNhc2UgQmsuY29udGFpbnM6Y29uc3QgYz1pLmluZGV4T2YoZSk7Yz4tMSYmKHI9dC5zdWJzdHJpbmcoMCxjKSxhPXQuc3Vic3RyaW5nKGMsYytlLmxlbmd0aCksbD10LnN1YnN0cmluZyhjK2UubGVuZ3RoKSxuPXIrcythK28rbCk7YnJlYWs7Y2FzZSBCay5lbmRzV2l0aDpjb25zdCB1PWkubGFzdEluZGV4T2YoZSk7dT4tMSYmKHI9dC5zdWJzdHJpbmcoMCx1KSxhPXQuc3Vic3RyaW5nKHUpLG49citzK2Erbyl9fXJldHVybiB0aGlzLnNhZmVIdG1sKG4pfXNhZmVIdG1sKGUpe3JldHVybiB0aGlzLnNhbml0aXplZC5ieXBhc3NTZWN1cml0eVRydXN0SHRtbChlKX1pc1ZhbGlkQ2hhcmFjdGVyVG9TZWFyY2goZSl7cmV0dXJuIDkhPT1lJiYxMyE9PWUmJjE2IT09ZSYmMTchPT1lJiYxOCE9PWUmJjIwIT09ZSYmMjchPT1lJiYzNyE9PWUmJjM4IT09ZSYmMzkhPT1lJiY0MCE9PWUmJjkzIT09ZX1zZWFyY2hPbkVudGVyKGUpe3RoaXMuc2VydmljZSYmIXRoaXMuc2VsZWN0ZWRWaWV3JiZlLmxlbmd0aD49dGhpcy5maWx0ZXJNaW5sZW5ndGgmJnRoaXMuY29udHJvbEFwcGx5RmlsdGVyKGUpfWFkanVzdENvbnRhaW5lclBvc2l0aW9uKCl7dGhpcy5jb250cm9sUG9zaXRpb24uYWRqdXN0UG9zaXRpb24oImJvdHRvbSIpfWNsb3NlKCl7dGhpcy5jb21ib09wZW49ITEsdGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCksdGhpcy5jb21ib0ljb249InBvLWljb24tYXJyb3ctZG93biIsdGhpcy5yZW1vdmVMaXN0ZW5lcnMoKSx0aGlzLmlzRmlsdGVyaW5nPSExfWluaXRpYWxpemVMaXN0ZW5lcnMoKXt0aGlzLnJlbW92ZUxpc3RlbmVycygpLHRoaXMuY2xpY2tvdXRMaXN0ZW5lcj10aGlzLnJlbmRlcmVyLmxpc3RlbigiZG9jdW1lbnQiLCJjbGljayIsZT0+e3RoaXMud2FzQ2xpY2tlZE9uVG9nZ2xlKGUpfSksdGhpcy5ldmVudFJlc2l6ZUxpc3RlbmVyPXRoaXMucmVuZGVyZXIubGlzdGVuKCJ3aW5kb3ciLCJyZXNpemUiLCgpPT57c2V0VGltZW91dCgoKT0+dGhpcy5hZGp1c3RDb250YWluZXJQb3NpdGlvbigpLDI1MCl9KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIix0aGlzLm9uU2Nyb2xsLCEwKX1vbkVycm9yR2V0T2JqZWN0QnlWYWx1ZSgpe3RoaXMudXBkYXRlT3B0aW9uQnlGaWx0ZXJlZFZhbHVlKG51bGwpfW9uRXJyb3JGaWx0ZXJlZERhdGEoKXt0aGlzLmlzU2VydmVyU2VhcmNoaW5nPSExLHRoaXMudXBkYXRlQ29tYm9MaXN0KFtdKSx0aGlzLmNvbnRyb2xDb21ib1Zpc2liaWxpdHkoITApfW9wZW4oKXt0aGlzLmNvbWJvT3Blbj0hMCx0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKSx0aGlzLmNvbWJvSWNvbj0icG8taWNvbi1hcnJvdy11cCIsdGhpcy5pbml0aWFsaXplTGlzdGVuZXJzKCksdGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQuZm9jdXMoKSx0aGlzLnNjcm9sbFRvKHRoaXMuZ2V0SW5kZXhTZWxlY3RlZFZpZXcoKSksdGhpcy5zZXRDb250YWluZXJQb3NpdGlvbigpfXJlbW92ZUxpc3RlbmVycygpe3RoaXMuY2xpY2tvdXRMaXN0ZW5lciYmdGhpcy5jbGlja291dExpc3RlbmVyKCksdGhpcy5ldmVudFJlc2l6ZUxpc3RlbmVyJiZ0aGlzLmV2ZW50UmVzaXplTGlzdGVuZXIoKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIix0aGlzLm9uU2Nyb2xsLCEwKX1zYW5pdGl6ZVRhZ0hUTUwoZT0iIil7cmV0dXJuIGUucmVwbGFjZSgvXDwvZ20sIiZsdDsiKS5yZXBsYWNlKC9cPi9nLCImZ3Q7Iil9c2V0Q29udGFpbmVyUG9zaXRpb24oKXt0aGlzLmNvbnRyb2xQb3NpdGlvbi5zZXRFbGVtZW50cyh0aGlzLmNvbnRhaW5lckVsZW1lbnQubmF0aXZlRWxlbWVudCw4LHRoaXMuaW5wdXRFbCxbInRvcCIsImJvdHRvbSJdLCEwKSx0aGlzLmFkanVzdENvbnRhaW5lclBvc2l0aW9uKCl9c2V0U2Nyb2xsVG9wKGUpe3RoaXMuY29udGVudEVsZW1lbnQmJih0aGlzLmNvbnRlbnRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuc2Nyb2xsVG9wPWUpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShBcihVYSksQXIobGwpLEFyKFVrKSxBcihXYSksQXIoZ2wpLEFyKFZTKSxBcihFZCksQXIocFMpKX0sZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8tY29tYm8iXV0sY29udGVudFF1ZXJpZXM6ZnVuY3Rpb24oZSx0LG4pe2lmKDEmZSYmZmMobixxayw3KSwyJmUpe2xldCBlO2RjKGU9Z2MoKSkmJih0LmNvbWJvT3B0aW9uVGVtcGxhdGU9ZS5maXJzdCl9fSx2aWV3UXVlcnk6ZnVuY3Rpb24oZSx0KXtpZigxJmUmJihwYyhlXyw1LFVhKSxwYyh0Xyw1LFVhKSxwYyhuXyw3LFVhKSxwYyhXeSw3LFVhKSksMiZlKXtsZXQgZTtkYyhlPWdjKCkpJiYodC5jb250YWluZXJFbGVtZW50PWUuZmlyc3QpLGRjKGU9Z2MoKSkmJih0LmNvbnRlbnRFbGVtZW50PWUuZmlyc3QpLGRjKGU9Z2MoKSkmJih0Lmljb25FbGVtZW50PWUuZmlyc3QpLGRjKGU9Z2MoKSkmJih0LmlucHV0RWw9ZS5maXJzdCl9fSxmZWF0dXJlczpbTGEoW1VrLFZTLHtwcm92aWRlOlB2LHVzZUV4aXN0aW5nOnNlKCgpPT5lKSxtdWx0aTohMH0se3Byb3ZpZGU6anYsdXNlRXhpc3Rpbmc6c2UoKCk9PmUpLG11bHRpOiEwfV0pLHVyLGx0XSxkZWNsczoyMSx2YXJzOjIzLGNvbnN0czpbWzMsInAtbGFiZWwiLCJwLWhlbHAiLCJwLW9wdGlvbmFsIl0sWzEsInBvLWZpZWxkLWNvbnRhaW5lci1jb250ZW50Il0sWyJjbGFzcyIsInBvLWZpZWxkLWljb24tY29udGFpbmVyLWxlZnQiLDQsIm5nSWYiXSxbImF1dG9jb21wbGV0ZSIsIm9mZiIsInR5cGUiLCJ0ZXh0IiwxLCJwby1pbnB1dCIsInBvLWNvbWJvLWlucHV0IiwzLCJuZ0NsYXNzIiwiZGlzYWJsZWQiLCJwbGFjZWhvbGRlciIsInJlcXVpcmVkIiwiY2xpY2siLCJrZXl1cCIsImJsdXIiLCJrZXl1cC5lbnRlciIsImtleWRvd24iXSxbImlucCIsIiJdLFsxLCJwby1maWVsZC1pY29uLWNvbnRhaW5lci1yaWdodCJdLFszLCJwLWVsZW1lbnQtcmVmIiwicC1jaGFuZ2UtZXZlbnQiLDQsIm5nSWYiXSxbMywiY2xpY2siXSxbImljb25BcnJvdyIsIiJdLFsxLCJwby1jb21iby1jb250YWluZXIiLDMsImhpZGRlbiJdLFsiY29udGFpbmVyRWxlbWVudCIsIiJdLFs0LCJuZ0lmIiwibmdJZlRoZW4iLCJuZ0lmRWxzZSJdLFsibG9hZGluZ1RlbXBsYXRlIiwiIl0sWyJvcHRpb25zVGVtcGxhdGUiLCIiXSxbInZpc2libGVPcHRpb25zVGVtcGxhdGUiLCIiXSxbIm5vRGF0YVRlbXBsYXRlIiwiIl0sWzEsInBvLWZpZWxkLWljb24tY29udGFpbmVyLWxlZnQiXSxbMSwicG8tZmllbGQtaWNvbiIsMywicC1pY29uIl0sWzMsInAtZWxlbWVudC1yZWYiLCJwLWNoYW5nZS1ldmVudCJdLFsxLCJwby1jb21iby1jb250YWluZXItbG9hZGluZyJdLFsxLCJwby1jb21iby1jb250YWluZXItY29udGVudCJdLFsiY29udGVudEVsZW1lbnQiLCIiXSxbMywicG8tY29tYm8taXRlbS1zZWxlY3RlZCIsImNsaWNrIiw0LCJuZ0ZvciIsIm5nRm9yT2YiXSxbImRlZmF1bHRPcHRpb25UZW1wbGF0ZSIsIiJdLFsib3B0aW9uVGVtcGxhdGUiLCIiXSxbImNsYXNzIiwicG8tY29tYm8taXRlbS10aXRsZSIsNCwibmdJZiIsIm5nSWZFbHNlIl0sWyJvcHRpb25MaW5rIiwiIl0sWzEsInBvLWNvbWJvLWl0ZW0tdGl0bGUiXSxbMSwicG8tY29tYm8taXRlbSJdLFszLCJpbm5lckhUTUwiXSxbIm9wdGlvbnNHcm91cFRlbXBsYXRlIiwiIl0sWyJkZWZhdWx0T3B0aW9uc1RlbXBsYXRlIiwiIl0sWzMsIm5nVGVtcGxhdGVPdXRsZXQiLCJuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCJdLFsxLCJwby1jb21iby1jb250YWluZXItbm8tZGF0YSJdLFsxLCJwby1jb21iby1uby1kYXRhIiwicG8tdGV4dC1jZW50ZXIiXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXtpZigxJmUmJihGcigwLCJwby1maWVsZC1jb250YWluZXIiLDApLEZyKDEsImRpdiIsMSksa3IoMixpXywyLDMsImRpdiIsMiksRnIoMywiaW5wdXQiLDMsNCksQnIoImNsaWNrIixmdW5jdGlvbigpe3JldHVybiB0LnRvZ2dsZUNvbWJvVmlzaWJpbGl0eSgpfSkoImtleXVwIixmdW5jdGlvbihlKXtyZXR1cm4gdC5vbktleVVwKGUpfSkoImJsdXIiLGZ1bmN0aW9uKCl7cmV0dXJuIHQub25CbHVyKCl9KSgia2V5dXAuZW50ZXIiLGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlYXJjaE9uRW50ZXIoZS50YXJnZXQudmFsdWUpfSkoImtleWRvd24iLGZ1bmN0aW9uKGUpe3JldHVybiB0Lm9uS2V5RG93bihlKX0pLElyKCksRnIoNSwiZGl2Iiw1KSxrcig2LHNfLDEsMSwicG8tY2xlYW4iLDYpLEZyKDcsInNwYW4iLDcsOCksQnIoImNsaWNrIixmdW5jdGlvbigpe3JldHVybiB0LnRvZ2dsZUNvbWJvVmlzaWJpbGl0eSgpfSksSXIoKSxJcigpLElyKCksRnIoOSwiZGl2Iiw5LDEwKSxrcigxMSxvXywxLDAsIm5nLWNvbnRhaW5lciIsMTEpLElyKCksTXIoMTIsInBvLWZpZWxkLWNvbnRhaW5lci1ib3R0b20iKSxJcigpLGtyKDEzLHJfLDIsMCwibmctdGVtcGxhdGUiLG51bGwsMTIseWMpLGtyKDE1LGxfLDEsMywibmctdGVtcGxhdGUiLG51bGwsMTMseWMpLGtyKDE3LHdfLDMsMSwibmctdGVtcGxhdGUiLG51bGwsMTQseWMpLGtyKDE5LF9fLDQsMSwibmctdGVtcGxhdGUiLG51bGwsMTUseWMpKSwyJmUpe2NvbnN0IGU9eHIoNCksbj14cigxNCksaT14cigxNik7T3IoInAtbGFiZWwiLHQubGFiZWwpKCJwLWhlbHAiLHQuaGVscCkoInAtb3B0aW9uYWwiLCF0LnJlcXVpcmVkJiZ0Lm9wdGlvbmFsKSxacygyKSxPcigibmdJZiIsdC5pY29uKSxacygxKSxlYSgicG8taW5wdXQtaWNvbi1sZWZ0Iix0Lmljb24pLE9yKCJuZ0NsYXNzIix0LmNsZWFuJiZlLnZhbHVlPyJwby1pbnB1dC1kb3VibGUtaWNvbi1yaWdodCI6InBvLWlucHV0LWljb24tcmlnaHQiKSgiZGlzYWJsZWQiLHQuZGlzYWJsZWQpKCJwbGFjZWhvbGRlciIsdC5wbGFjZWhvbGRlcikoInJlcXVpcmVkIix0LnJlcXVpcmVkKSxEcigibmFtZSIsdC5uYW1lKSxacygzKSxPcigibmdJZiIsdC5jbGVhbiYmIXQuZGlzYWJsZWQpLFpzKDEpLHZhKCJwby1pY29uIHBvLWZpZWxkLWljb24gIix0LmNvbWJvSWNvbiwiIiksZWEoInBvLWZpZWxkLWljb24tZGlzYWJsZWQiLHQuZGlzYWJsZWQpKCJwby1maWVsZC1pY29uIiwhdC5kaXNhYmxlZCksWnMoMiksT3IoImhpZGRlbiIsIXQuY29tYm9PcGVuJiYhdC5pc1NlcnZlclNlYXJjaGluZyksWnMoMiksT3IoIm5nSWYiLHQuaXNTZXJ2ZXJTZWFyY2hpbmcpKCJuZ0lmVGhlbiIsbikoIm5nSWZFbHNlIixpKX19LGRpcmVjdGl2ZXM6W3dFLEZoLHhoLHlFLGdTLElFLF9TLE9oLGpoXSxlbmNhcHN1bGF0aW9uOjJ9KSxlfSkoKSxXaz0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKCl7dGhpcy5hdXRvRm9jdXM9ITEsdGhpcy5lcnJvclBhdHRlcm49IiIsdGhpcy5ibHVyPW5ldyBlYyx0aGlzLmVudGVyPW5ldyBlYyx0aGlzLmNoYW5nZT1uZXcgZWMsdGhpcy5jaGFuZ2VNb2RlbD1uZXcgZWMsdGhpcy5vbkNoYW5nZVByb3BhZ2F0ZT1udWxsLHRoaXMub25Ub3VjaGVkPW51bGwsdGhpcy5wYXNzZWRXcml0ZVZhbHVlPSExLHRoaXMuX25vQXV0b2NvbXBsZXRlPSExLHRoaXMuX3BsYWNlaG9sZGVyPSIiLHRoaXMuZGlzYWJsZWQ9ITEsdGhpcy5yZWFkb25seT0hMSx0aGlzLnJlcXVpcmVkPSExLHRoaXMuY2xlYW49ITEsdGhpcy5tYXNrPSIiLHRoaXMubWFza0Zvcm1hdE1vZGVsPSExfXNldCBub0F1dG9jb21wbGV0ZShlKXt0aGlzLl9ub0F1dG9jb21wbGV0ZT1ZRChlKX1nZXQgbm9BdXRvY29tcGxldGUoKXtyZXR1cm4gdGhpcy5fbm9BdXRvY29tcGxldGV9c2V0IHBsYWNlaG9sZGVyKGUpe3RoaXMuX3BsYWNlaG9sZGVyPWV8fCIifWdldCBwbGFjZWhvbGRlcigpe3JldHVybiB0aGlzLl9wbGFjZWhvbGRlcn1zZXQgc2V0RGlzYWJsZWQoZSl7dGhpcy5kaXNhYmxlZD0iIj09PWV8fFlEKGUpLHRoaXMudmFsaWRhdGVNb2RlbCgpfXNldCBzZXRSZWFkb25seShlKXt0aGlzLnJlYWRvbmx5PSIiPT09ZXx8WUQoZSl9c2V0IHNldFJlcXVpcmVkKGUpe3RoaXMucmVxdWlyZWQ9IiI9PT1lfHxZRChlKSx0aGlzLnZhbGlkYXRlTW9kZWwoKX1zZXQgc2V0Q2xlYW4oZSl7dGhpcy5jbGVhbj0iIj09PWV8fFlEKGUpfXNldCBzZXRQYXR0ZXJuKGUpe3RoaXMucGF0dGVybj1lLHRoaXMudmFsaWRhdGVNb2RlbCgpfXNldCBtYXhsZW5ndGgoZSl7aXNOYU4ocGFyc2VJbnQoZSwxMCkpP2V8fCh0aGlzLl9tYXhsZW5ndGg9dm9pZCAwLHRoaXMudmFsaWRhdGVNb2RlbCgpKToodGhpcy5fbWF4bGVuZ3RoPXBhcnNlSW50KGUsMTApLHRoaXMudmFsaWRhdGVNb2RlbCgpKX1nZXQgbWF4bGVuZ3RoKCl7cmV0dXJuIHRoaXMuX21heGxlbmd0aH1zZXQgbWlubGVuZ3RoKGUpe2lzTmFOKHBhcnNlSW50KGUsMTApKT9lfHwodGhpcy5fbWlubGVuZ3RoPXZvaWQgMCx0aGlzLnZhbGlkYXRlTW9kZWwoKSk6KHRoaXMuX21pbmxlbmd0aD1wYXJzZUludChlLDEwKSx0aGlzLnZhbGlkYXRlTW9kZWwoKSl9Z2V0IG1pbmxlbmd0aCgpe3JldHVybiB0aGlzLl9taW5sZW5ndGh9c2V0IHNldE1hc2soZSl7dGhpcy5tYXNrPWUsdGhpcy5vYmpNYXNrPW5ldyBQRSh0aGlzLm1hc2ssdGhpcy5tYXNrRm9ybWF0TW9kZWwpfXNldCBzZXRNYXNrRm9ybWF0TW9kZWwoZSl7dGhpcy5tYXNrRm9ybWF0TW9kZWw9IiI9PT1lfHxZRChlKSx0aGlzLm9iak1hc2sgaW5zdGFuY2VvZiBQRSYmKHRoaXMub2JqTWFzay5mb3JtYXRNb2RlbD10aGlzLm1hc2tGb3JtYXRNb2RlbCx0aGlzLnZhbGlkYXRlTW9kZWwoKSl9Y2FsbE9uQ2hhbmdlKGUpe3RoaXMudXBkYXRlTW9kZWwoZSksdGhpcy5jb250cm9sQ2hhbmdlTW9kZWxFbWl0dGVyKGUpfWNhbGxVcGRhdGVNb2RlbFdpdGhUaW1lb3V0KGUpe3NldFRpbWVvdXQoKCk9PnRoaXMudXBkYXRlTW9kZWwoZSkpfWNvbnRyb2xDaGFuZ2VNb2RlbEVtaXR0ZXIoZSl7dGhpcy5tb2RlbExhc3RVcGRhdGUhPT1lJiYodGhpcy5jaGFuZ2VNb2RlbC5lbWl0KGUpLHRoaXMubW9kZWxMYXN0VXBkYXRlPWUpfXNldERpc2FibGVkU3RhdGUoZSl7dGhpcy5kaXNhYmxlZD1lfXJlZ2lzdGVyT25DaGFuZ2UoZSl7dGhpcy5vbkNoYW5nZVByb3BhZ2F0ZT1lfXJlZ2lzdGVyT25Ub3VjaGVkKGUpe3RoaXMub25Ub3VjaGVkPWV9cmVnaXN0ZXJPblZhbGlkYXRvckNoYW5nZShlKXt0aGlzLnZhbGlkYXRvckNoYW5nZT1lfXVwZGF0ZU1vZGVsKGUpe3RoaXMub25DaGFuZ2VQcm9wYWdhdGUmJnRoaXMub25DaGFuZ2VQcm9wYWdhdGUoZSl9dmFsaWRhdGUoZSl7cmV0dXJuIERFKHRoaXMucmVxdWlyZWQsdGhpcy5kaXNhYmxlZCx0aGlzLmdldFNjcmVlblZhbHVlKCkpP3tyZXF1aXJlZDp7dmFsaWQ6ITF9fTpTRSh0aGlzLm1heGxlbmd0aCx0aGlzLmdldFNjcmVlblZhbHVlKCkpP3ttYXhsZW5ndGg6e3ZhbGlkOiExfX06RUUodGhpcy5taW5sZW5ndGgsdGhpcy5nZXRTY3JlZW5WYWx1ZSgpKT97bWlubGVuZ3RoOnt2YWxpZDohMX19OmZ1bmN0aW9uKGUsdCl7bGV0IG47dHJ5e249bmV3IFJlZ0V4cChlKX1jYXRjaChpKXtyZXR1cm4hMH1yZXR1cm4gZSYmdCYmIW4udGVzdCh0KX0odGhpcy5wYXR0ZXJuLGUudmFsdWUpPyh0aGlzLnZhbGlkYXRlUGF0dGVybk9uV3JpdGVWYWx1ZShlLnZhbHVlKSx7cGF0dGVybjp7dmFsaWQ6ITF9fSk6dGhpcy5leHRyYVZhbGlkYXRpb24oZSl9d3JpdGVWYWx1ZShlKXt0aGlzLndyaXRlVmFsdWVNb2RlbChlKX12YWxpZGF0ZU1vZGVsKCl7dGhpcy52YWxpZGF0b3JDaGFuZ2UmJnRoaXMudmFsaWRhdG9yQ2hhbmdlKCl9dmFsaWRhdGVQYXR0ZXJuT25Xcml0ZVZhbHVlKGUpe2UmJnRoaXMucGFzc2VkV3JpdGVWYWx1ZSYmKHNldFRpbWVvdXQoKCk9Pnt0aGlzLnVwZGF0ZU1vZGVsKGUpfSksdGhpcy5wYXNzZWRXcml0ZVZhbHVlPSExKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsaW5wdXRzOnthdXRvRm9jdXM6WyJwLWF1dG8tZm9jdXMiLCJhdXRvRm9jdXMiXSxlcnJvclBhdHRlcm46WyJwLWVycm9yLXBhdHRlcm4iLCJlcnJvclBhdHRlcm4iXSxub0F1dG9jb21wbGV0ZTpbInAtbm8tYXV0b2NvbXBsZXRlIiwibm9BdXRvY29tcGxldGUiXSxwbGFjZWhvbGRlcjpbInAtcGxhY2Vob2xkZXIiLCJwbGFjZWhvbGRlciJdLHNldERpc2FibGVkOlsicC1kaXNhYmxlZCIsInNldERpc2FibGVkIl0sc2V0UmVhZG9ubHk6WyJwLXJlYWRvbmx5Iiwic2V0UmVhZG9ubHkiXSxzZXRSZXF1aXJlZDpbInAtcmVxdWlyZWQiLCJzZXRSZXF1aXJlZCJdLHNldENsZWFuOlsicC1jbGVhbiIsInNldENsZWFuIl0sc2V0UGF0dGVybjpbInAtcGF0dGVybiIsInNldFBhdHRlcm4iXSxtYXhsZW5ndGg6WyJwLW1heGxlbmd0aCIsIm1heGxlbmd0aCJdLG1pbmxlbmd0aDpbInAtbWlubGVuZ3RoIiwibWlubGVuZ3RoIl0sc2V0TWFzazpbInAtbWFzayIsInNldE1hc2siXSxzZXRNYXNrRm9ybWF0TW9kZWw6WyJwLW1hc2stZm9ybWF0LW1vZGVsIiwic2V0TWFza0Zvcm1hdE1vZGVsIl0saWNvbjpbInAtaWNvbiIsImljb24iXSxsYWJlbDpbInAtbGFiZWwiLCJsYWJlbCJdLGhlbHA6WyJwLWhlbHAiLCJoZWxwIl0sbmFtZToibmFtZSIsb3B0aW9uYWw6WyJwLW9wdGlvbmFsIiwib3B0aW9uYWwiXX0sb3V0cHV0czp7Ymx1cjoicC1ibHVyIixlbnRlcjoicC1lbnRlciIsY2hhbmdlOiJwLWNoYW5nZSIsY2hhbmdlTW9kZWw6InAtY2hhbmdlLW1vZGVsIn19KSxPdihbeFMoKV0sZS5wcm90b3R5cGUsImF1dG9Gb2N1cyIsdm9pZCAwKSxlfSkoKSxHaz0oKCk9PntjbGFzcyBlIGV4dGVuZHMgV2t7Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLHRoaXMuZWw9ZSx0aGlzLnBvTGFuZ3VhZ2VTZXJ2aWNlPXQsdGhpcy5fZGVjaW1hbHNMZW5ndGg9Mix0aGlzLl90aG91c2FuZE1heGxlbmd0aD0xMyx0aGlzLmZpcmVDaGFuZ2U9ITEsdGhpcy5pc0tleWJvYXJkQW5kcm9pZD0hMSx0aGlzLm1pbnVzU2lnbj0iLSIsdGhpcy5vbGREb3RzTGVuZ3RoPW51bGwsdGhpcy5yZWdleD17dGhvdXNhbmQ6bmV3IFJlZ0V4cCgiXFwsIiwiZyIpLGRlY2ltYWw6bmV3IFJlZ0V4cCgiXFwuIiwiZyIpfSx0aGlzLmlzS2V5Ym9hcmRBbmRyb2lkPSEhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZC9pKX1nZXQgYXV0b2NvbXBsZXRlKCl7cmV0dXJuIHRoaXMubm9BdXRvY29tcGxldGU/Im9mZiI6Im9uIn1zZXQgZGVjaW1hbHNMZW5ndGgoZSl7bGV0IHQ9WkQoZSk7dD10aGlzLmlzVmFsdWVCZXR3ZWVuQWxsb3dlZCh0LDE1KT90OjIsdGhpcy5pc0dyZWF0ZXJUaGFuVG90YWxMZW5ndGhMaW1pdCh0LHRoaXMudGhvdXNhbmRNYXhsZW5ndGgpJiYodGhpcy50aG91c2FuZE1heGxlbmd0aD0xNi10KSx0aGlzLl9kZWNpbWFsc0xlbmd0aD10fWdldCBkZWNpbWFsc0xlbmd0aCgpe3JldHVybiB0aGlzLl9kZWNpbWFsc0xlbmd0aH1zZXQgdGhvdXNhbmRNYXhsZW5ndGgoZSl7bGV0IHQ9WkQoZSk7dGhpcy5kZWNpbWFsc0xlbmd0aD4yJiYhdCYmKHQ9MTYtdGhpcy5kZWNpbWFsc0xlbmd0aCksdD10aGlzLmlzVmFsdWVCZXR3ZWVuQWxsb3dlZCh0LDEzKT90OjEzLHRoaXMuaXNHcmVhdGVyVGhhblRvdGFsTGVuZ3RoTGltaXQodGhpcy5kZWNpbWFsc0xlbmd0aCx0KSYmKHRoaXMuZGVjaW1hbHNMZW5ndGg9MTYtdCksdGhpcy5fdGhvdXNhbmRNYXhsZW5ndGg9dH1nZXQgdGhvdXNhbmRNYXhsZW5ndGgoKXtyZXR1cm4gdGhpcy5fdGhvdXNhbmRNYXhsZW5ndGh9c2V0IGxvY2FsZShlKXt0aGlzLl9sb2NhbGU9ZSx0aGlzLnNldE51bWJlcnNTZXBhcmF0b3JzKCl9c2V0IG1pbihlKXtpc05hTihlKT9lfHwodGhpcy5fbWluPXZvaWQgMCx0aGlzLnZhbGlkYXRlTW9kZWwoKSk6KHRoaXMuX21pbj1lLHRoaXMudmFsaWRhdGVNb2RlbCgpKX1nZXQgbWluKCl7cmV0dXJuIHRoaXMuX21pbn1zZXQgbWF4KGUpe2lzTmFOKGUpP2V8fCh0aGlzLl9tYXg9dm9pZCAwLHRoaXMudmFsaWRhdGVNb2RlbCgpKToodGhpcy5fbWF4PWUsdGhpcy52YWxpZGF0ZU1vZGVsKCkpfWdldCBtYXgoKXtyZXR1cm4gdGhpcy5fbWF4fW5nT25Jbml0KCl7dGhpcy5zZXROdW1iZXJzU2VwYXJhdG9ycygpfXNldE51bWJlcnNTZXBhcmF0b3JzKCl7Y29uc3R7ZGVjaW1hbFNlcGFyYXRvcjplLHRob3VzYW5kU2VwYXJhdG9yOnR9PXRoaXMucG9MYW5ndWFnZVNlcnZpY2UuZ2V0TnVtYmVyU2VwYXJhdG9ycyh0aGlzLl9sb2NhbGUpO3RoaXMuZGVjaW1hbFNlcGFyYXRvcj1lLHRoaXMudGhvdXNhbmRTZXBhcmF0b3I9dCx0aGlzLnJlZ2V4PXt0aG91c2FuZDpuZXcgUmVnRXhwKCJcXCIrdCwiZyIpLGRlY2ltYWw6bmV3IFJlZ0V4cCgiXFwiK2UsImciKX19bmdBZnRlclZpZXdJbml0KCl7dGhpcy52ZXJpZnlBdXRvRm9jdXMoKSx0aGlzLnNldFBhZGRpbmdJbnB1dCgpfWNsZWFyKGUpe3RoaXMuY2FsbE9uQ2hhbmdlKGUpLHRoaXMuY29udHJvbENoYW5nZUVtaXR0ZXIoKX1leHRyYVZhbGlkYXRpb24oZSl7cmV0dXJuIHRoaXMuZXJyb3JQYXR0ZXJuPSJWYWxvciBJbnZceGUxbGlkbyIhPT10aGlzLmVycm9yUGF0dGVybj90aGlzLmVycm9yUGF0dGVybjoiIixrRSh0aGlzLm1pbixlLnZhbHVlKT97bWluOnt2YWxpZDohMX19OnhFKHRoaXMubWF4LGUudmFsdWUpP3ttYXg6e3ZhbGlkOiExfX06bnVsbH1mb2N1cygpe3RoaXMuZGlzYWJsZWR8fHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LmZvY3VzKCl9Z2V0U2NyZWVuVmFsdWUoKXtyZXR1cm4gdGhpcy5pbnB1dEVsP3RoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlOiIifWhhc0ludmFsaWRDbGFzcygpe3JldHVybiB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJuZy1pbnZhbGlkIikmJnRoaXMuZWwubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoIm5nLWRpcnR5IikmJiIiIT09dGhpcy5nZXRTY3JlZW5WYWx1ZSgpfWhhc0xldHRlcnMoZT0iIil7cmV0dXJuIGUubWF0Y2goL1thLXpBLVo6Oys9X1x4YjRgXn4iJz8hQCMkJVx4YTgmKigpPjx7fVx4ZTdceGM3XFtcXS9cXHxdKy8pfWlzVmFsaWROdW1iZXIoZSl7Y29uc3QgdD1TdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpLG49OCE9PWUud2hpY2gmJjAhPT1lLndoaWNoO3JldHVybiF0aGlzLmhhc0xldHRlcnModCkmJm59b25CbHVyKGUpe3ZhciB0O251bGw9PT0odD10aGlzLm9uVG91Y2hlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzKTtjb25zdCBuPWUudGFyZ2V0LnZhbHVlO2lmKG4pe2lmKHRoaXMuaGFzTGV0dGVycyhuKXx8dGhpcy5jb250YWluc01vcmVUaGFuT25lRGVjaW1hbFNlcGFyYXRvcihuKSlyZXR1cm4gdGhpcy5zZXRWaWV3VmFsdWUoIiIpLHZvaWQgdGhpcy5jYWxsT25DaGFuZ2Uodm9pZCAwKTtjb25zdCBlPXRoaXMuZm9ybWF0VmFsdWVXaXRob3V0VGhvdXNhbmRTZXBhcmF0b3Iobik7dGhpcy5zZXRWaWV3VmFsdWUodGhpcy5mb3JtYXRUb1ZpZXdWYWx1ZShlKSl9dGhpcy5ibHVyLmVtaXQoKSx0aGlzLmNvbnRyb2xDaGFuZ2VFbWl0dGVyKCl9b25Gb2N1cyhlKXt0aGlzLnZhbHVlQmVmb3JlQ2hhbmdlPXRoaXMuZ2V0U2NyZWVuVmFsdWUoKSx0aGlzLmVudGVyLmVtaXQoKX1vbklucHV0KGUpe2NvbnN0IHQ9ZS50YXJnZXQuc2VsZWN0aW9uU3RhcnQsbj1lLnRhcmdldC5zZWxlY3Rpb25FbmQ7bGV0IGk7dGhpcy5pc0tleWJvYXJkQW5kcm9pZCYmdGhpcy5vbklucHV0S2V5Ym9hcmRBbmRyb2lkKGUpLGk9dGhpcy5mb3JtYXRWYWx1ZVdpdGhvdXRUaG91c2FuZFNlcGFyYXRvcihlLnRhcmdldC52YWx1ZSksaT10aGlzLmFkZFplcm9CZWZvcmUoaSk7Y29uc3Qgcz10aGlzLmZvcm1hdE1hc2soaSk7cyYmKHRoaXMuc2V0Vmlld1ZhbHVlKHMpLHRoaXMuc2V0Q3Vyc29ySW5wdXQoZSx0LG4pKSx0aGlzLmNhbGxPbkNoYW5nZSh0aGlzLmZvcm1hdFRvTW9kZWxWYWx1ZShpKSl9b25JbnB1dEtleWJvYXJkQW5kcm9pZChlKXtjb25zdCB0PWUudGFyZ2V0LnZhbHVlLG49ZS50YXJnZXQuc2VsZWN0aW9uU3RhcnQsaT10aGlzLmhhc0xldHRlcnModCk7aWYoaSlyZXR1cm4gdGhpcy5zZXRWaWV3VmFsdWUodC5yZXBsYWNlKGlbMF0sIiIpKSxlLnByZXZlbnREZWZhdWx0KCk7e2NvbnN0IGk9dC5jaGFyQXQobi0xKTt0aGlzLnNldFBvc2l0aW9uVmFsdWUoZSksdGhpcy5pc1ZhbGlkS2V5KGUsaSkmJnRoaXMuc2V0Vmlld1ZhbHVlKHQpfX1vbktleVByZXNzKGUpe3RoaXMuaXNWYWxpZEtleShlKX1zZXRQYWRkaW5nSW5wdXQoKXtzZXRUaW1lb3V0KCgpPT57bGV0IGU9dGhpcy5lbC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5wby1maWVsZC1pY29uLWNvbnRhaW5lcjpub3QoLnBvLWZpZWxkLWljb24tY29udGFpbmVyLWxlZnQpID4gLnBvLWljb24iKS5sZW5ndGg7dGhpcy5jbGVhbiYmZSsrLGUmJih0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQ9MzYqZSsicHgiKX0pfXdyaXRlVmFsdWVNb2RlbChlKXtpZih0aGlzLmlucHV0RWwpaWYoZXx8MD09PWUpe2NvbnN0IHQ9dGhpcy5mb3JtYXRUb1ZpZXdWYWx1ZShlKTt0aGlzLnNldFZpZXdWYWx1ZSh0KX1lbHNlIHRoaXMuc2V0Vmlld1ZhbHVlKCIiKTtlJiZ0aGlzLmNoYW5nZS5lbWl0KGUpfWdldEVycm9yUGF0dGVybk1lc3NhZ2UoKXtyZXR1cm4iIiE9PXRoaXMuZXJyb3JQYXR0ZXJuJiZ0aGlzLmhhc0ludmFsaWRDbGFzcygpP3RoaXMuZXJyb3JQYXR0ZXJuOiIifWFkZFplcm9CZWZvcmUoZSl7cmV0dXJuIGU9PT10aGlzLmRlY2ltYWxTZXBhcmF0b3I/YDAke2V9YDplfWNvbnRhaW5zQ29tbWEoZSl7cmV0dXJuIGUuaW5jbHVkZXModGhpcy5kZWNpbWFsU2VwYXJhdG9yKX1jb250YWluc01vcmVUaGFuT25lRGVjaW1hbFNlcGFyYXRvcihlPSIiKXtjb25zdCB0PWUubWF0Y2godGhpcy5yZWdleC5kZWNpbWFsKTtyZXR1cm4hISh0JiZ0Lmxlbmd0aD4xKX1jb250cm9sQ2hhbmdlRW1pdHRlcigpe2NvbnN0IGU9dGhpcy5nZXRTY3JlZW5WYWx1ZSgpO2UhPT10aGlzLnZhbHVlQmVmb3JlQ2hhbmdlJiYodGhpcy5maXJlQ2hhbmdlPSEwLHNldFRpbWVvdXQoKCk9Pnt0aGlzLmNoYW5nZS5lbWl0KGUpfSwyMDApKX1mb3JtYXRNYXNrKGUpe2lmKGUubWF0Y2godGhpcy5yZWdleC5kZWNpbWFsKSl7Y29uc3QgdD1uZXcgUmVnRXhwKGAoXFxkKSg/PShcXGR7M30pKyg/IVxcZCkke3RoaXMuZGVjaW1hbFNlcGFyYXRvcn0pYCwiZyIpO3JldHVybiBlLnRvU3RyaW5nKCkucmVwbGFjZSh0LGAkMSR7dGhpcy50aG91c2FuZFNlcGFyYXRvcn1gKX1yZXR1cm4gZS50b1N0cmluZygpLnJlcGxhY2UoLyhcZCkoPz0oXGR7M30pKyg/IVxkKSkvZyxgJDEke3RoaXMudGhvdXNhbmRTZXBhcmF0b3J9YCl9Zm9ybWF0VG9Nb2RlbFZhbHVlKGUpe2NvbnN0IHQ9dGhpcy5yZXBsYWNlQ29tbWFUb0RvdChlKSxuPXQ/cGFyc2VGbG9hdChOdW1iZXIodCkudG9GaXhlZCh0aGlzLmRlY2ltYWxzTGVuZ3RoKSk6dm9pZCAwO3JldHVybiAwPT09bnx8bj9uOnZvaWQgMH1mb3JtYXRUb1ZpZXdWYWx1ZShlKXtlPXRoaXMucmVwbGFjZUNvbW1hVG9Eb3QoZSk7Y29uc3QgdD1OdW1iZXIoZSkudG9GaXhlZCh0aGlzLmRlY2ltYWxzTGVuZ3RoKSxuPXRoaXMuZ2V0VmFsdWVCZWZvcmVTZXBhcmF0b3IodCwiLiIpLGk9dGhpcy5nZXRWYWx1ZUFmdGVyU2VwYXJhdG9yKHQsIi4iKSxzPXRoaXMuZm9ybWF0TWFzayhuKTtyZXR1cm4gMD09PXRoaXMuZGVjaW1hbHNMZW5ndGg/czpgJHtzfSR7dGhpcy5kZWNpbWFsU2VwYXJhdG9yfSR7aX1gfWZvcm1hdFZhbHVlV2l0aG91dFRob3VzYW5kU2VwYXJhdG9yKGU9IiIpe3JldHVybiBlLnRvU3RyaW5nKCkucmVwbGFjZSh0aGlzLnJlZ2V4LnRob3VzYW5kLCIiKX1nZXRWYWx1ZUFmdGVyU2VwYXJhdG9yKGU9IiIsdCl7cmV0dXJuIGUuc3BsaXQodClbMV18fCIifWdldFZhbHVlQmVmb3JlU2VwYXJhdG9yKGU9IiIsdCl7cmV0dXJuIGUuc3BsaXQodClbMF18fCIifWhhc0xlc3NEb3QoZSl7aWYoZSl7Y29uc3QgdD1lLm1hdGNoKHRoaXMucmVnZXgudGhvdXNhbmQpLG49dCYmdC5sZW5ndGg7aWYobjx0aGlzLm9sZERvdHNMZW5ndGgpcmV0dXJuIHRoaXMub2xkRG90c0xlbmd0aD1uLCEwfXJldHVybiBlfHwodGhpcy5vbGREb3RzTGVuZ3RoPW51bGwpLCExfWhhc01vcmVEb3QoZSl7aWYoZSl7Y29uc3QgdD1lLm1hdGNoKHRoaXMucmVnZXgudGhvdXNhbmQpLG49dCYmdC5sZW5ndGg7aWYobj50aGlzLm9sZERvdHNMZW5ndGgpcmV0dXJuIHRoaXMub2xkRG90c0xlbmd0aD1uLCEwfXJldHVybiBlfHwodGhpcy5vbGREb3RzTGVuZ3RoPW51bGwpLCExfWhhc01pbnVzU2lnbkludmFsaWRQb3NpdGlvbihlKXtyZXR1cm4gZS5rZXk9PT10aGlzLm1pbnVzU2lnbiYmMCE9PWUudGFyZ2V0LnNlbGVjdGlvblN0YXJ0fWlzSW52YWxpZEtleShlLHQpe2NvbnN0IG49IXRoaXMuaXNWYWxpZE51bWJlcihlKTtyZXR1cm4gdGhpcy52ZXJpZnlJbnNlcnRDb21tYShlKXx8dGhpcy52ZXJpZnlUaG91c2FuZExlbmd0aChlKXx8dGhpcy52ZXJpZnlWYWx1ZUFmdGVyQ29tbWEoZSl8fHRoaXMudmVyaWZ5SW5zZXJ0TWludXNTaWduKGUpfHx0aGlzLmhhc01pbnVzU2lnbkludmFsaWRQb3NpdGlvbihlKXx8bnx8dGhpcy52YWxpZGF0ZUN1cnNvclBvc2l0aW9uQmVmb3JlU2VwYXJhdG9yKGUpfHx0aGlzLnZlcmlmeURlY2ltYWxMZW5ndGhJc1plcm9BbmRLZXlQcmVzc2VkSXNDb21tYSh0KX1pc0dyZWF0ZXJUaGFuVG90YWxMZW5ndGhMaW1pdChlLHQpe3JldHVybiBlK3Q+MTZ9aXNLZXlEZWNpbWFsU2VwYXJhdG9yKGUpe3JldHVybiBlLmtleT09PXRoaXMuZGVjaW1hbFNlcGFyYXRvcnx8ZS5jaGFyPT09dGhpcy5kZWNpbWFsU2VwYXJhdG9yfWlzUG9zaXRpb25BZnRlckRlY2ltYWxTZXBhcmF0b3IoZSx0KXtjb25zdCBuPXQmJnQuaW5kZXhPZih0aGlzLmRlY2ltYWxTZXBhcmF0b3IpO2lmKG4mJnRoaXMuZGVjaW1hbHNMZW5ndGg+MClyZXR1cm4gZT5ufWlzU2VsZWN0aW9uU3RhcnREaWZmZXJlbnRTZWxlY3Rpb25FbmQoZSl7cmV0dXJuIGUuc2VsZWN0aW9uU3RhcnQhPT1lLnNlbGVjdGlvbkVuZH1pc1ZhbGlkS2V5KGUsdCl7Y29uc3Qgbj1lLndoaWNofHxlLmtleUNvZGU7aWYoOCE9PWUud2hpY2gmJjAhPT1lLndoaWNofHx0aGlzLmlzS2V5Ym9hcmRBbmRyb2lkKXJldHVybiB0JiYoZS5rZXk9dCksIXRoaXMuaXNJbnZhbGlkS2V5KGUsbil8fChlLnByZXZlbnREZWZhdWx0KCksITEpfWlzVmFsdWVCZXR3ZWVuQWxsb3dlZChlLHQpe3JldHVybiBlPj0wJiZlPD10fXZlcmlmeURlY2ltYWxMZW5ndGhJc1plcm9BbmRLZXlQcmVzc2VkSXNDb21tYShlKXtyZXR1cm4gNDQ9PT1lJiYwPT09dGhpcy5kZWNpbWFsc0xlbmd0aH12ZXJpZnlBdXRvRm9jdXMoKXt0aGlzLmF1dG9Gb2N1cyYmdGhpcy5mb2N1cygpfXNldEluaXRpYWxTZWxlY3Rpb25SYW5nZShlLHQsbil7cmV0dXJuIDE9PT10JiYxPT09bj9lLnNldFNlbGVjdGlvblJhbmdlKHQrMSxuKzEpOmUuc2V0U2VsZWN0aW9uUmFuZ2UodC0xLG4tMSl9cmVwbGFjZUF0KGUsdCxuKXtyZXR1cm4gZS5zdWJzdHJpbmcoMCx0KStuK2Uuc3Vic3RyaW5nKHQrMSl9cmVwbGFjZUNvbW1hVG9Eb3QoZT0iIil7cmV0dXJuIiwiPT09dGhpcy5kZWNpbWFsU2VwYXJhdG9yJiYoZT1lLnRvU3RyaW5nKCkucmVwbGFjZSh0aGlzLnJlZ2V4LmRlY2ltYWwsIi4iKSksZX1zZXRDdXJzb3JJbnB1dChlLHQsbil7Y29uc3QgaT1lLnRhcmdldCxzPWkudmFsdWU7cmV0dXJuIHRoaXMuaGFzTW9yZURvdChzKXx8cz09PSIwIit0aGlzLmRlY2ltYWxTZXBhcmF0b3I/aS5zZXRTZWxlY3Rpb25SYW5nZSh0KzEsbisxKToodGhpcy5oYXNMZXNzRG90KHMpJiZ0aGlzLnNldEluaXRpYWxTZWxlY3Rpb25SYW5nZShpLHQsbiksaS5zZXRTZWxlY3Rpb25SYW5nZSh0LG4pKX1zZXRQb3NpdGlvblZhbHVlKGUpe2NvbnN0IHQ9ZS50YXJnZXQudmFsdWUsbj1lLnRhcmdldC5zZWxlY3Rpb25TdGFydC0xO24+MCYmZS5rZXk9PT10aGlzLm1pbnVzU2lnbiYmKGUudGFyZ2V0LnZhbHVlPXQuc3Vic3RyaW5nKDAsbikrdC5zdWJzdHIobisxKSl9c2V0Vmlld1ZhbHVlKGUpe3RoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlPWV9dmFsaWRhdGVDdXJzb3JQb3NpdGlvbkJlZm9yZVNlcGFyYXRvcihlKXtjb25zdCB0PWUudGFyZ2V0LG49dGhpcy5mb3JtYXRWYWx1ZVdpdGhvdXRUaG91c2FuZFNlcGFyYXRvcih0LnZhbHVlKSxpPXRoaXMuZ2V0VmFsdWVCZWZvcmVTZXBhcmF0b3IodC52YWx1ZSx0aGlzLmRlY2ltYWxTZXBhcmF0b3IpLHM9dGhpcy5nZXRWYWx1ZUJlZm9yZVNlcGFyYXRvcihuLHRoaXMuZGVjaW1hbFNlcGFyYXRvcik7cmV0dXJuIXRoaXMuaXNTZWxlY3Rpb25TdGFydERpZmZlcmVudFNlbGVjdGlvbkVuZCh0KSYmdC5zZWxlY3Rpb25TdGFydDw9aS5sZW5ndGgmJnMubGVuZ3RoPT09dGhpcy50aG91c2FuZE1heGxlbmd0aCYmIXRoaXMuaXNLZXlEZWNpbWFsU2VwYXJhdG9yKGUpfXZlcmlmeVRob3VzYW5kTGVuZ3RoKGUpe2NvbnN0IHQ9ZS50YXJnZXQsbj10aGlzLmZvcm1hdFZhbHVlV2l0aG91dFRob3VzYW5kU2VwYXJhdG9yKHQudmFsdWUpLGk9dGhpcy5nZXRWYWx1ZUJlZm9yZVNlcGFyYXRvcihuLHRoaXMuZGVjaW1hbFNlcGFyYXRvcik7cmV0dXJuIXRoaXMuaXNTZWxlY3Rpb25TdGFydERpZmZlcmVudFNlbGVjdGlvbkVuZCh0KSYmaS5sZW5ndGg+PXRoaXMudGhvdXNhbmRNYXhsZW5ndGgmJiF0aGlzLmlzS2V5RGVjaW1hbFNlcGFyYXRvcihlKSYmdGhpcy5pc1Bvc2l0aW9uQWZ0ZXJEZWNpbWFsU2VwYXJhdG9yKHQuc2VsZWN0aW9uU3RhcnQtdGhpcy5kZWNpbWFsc0xlbmd0aCx0LnZhbHVlKX12ZXJpZnlJbnNlcnRDb21tYShlKXtyZXR1cm4gdGhpcy5jb250YWluc0NvbW1hKGUudGFyZ2V0LnZhbHVlKSYmZS5rZXk9PT10aGlzLmRlY2ltYWxTZXBhcmF0b3J9dmVyaWZ5SW5zZXJ0TWludXNTaWduKGUpe2NvbnN0IHQ9ZS50YXJnZXQudmFsdWUsbj0tMSE9PXQubGFzdEluZGV4T2YodGhpcy5taW51c1NpZ24pLGk9dC5sYXN0SW5kZXhPZigiLSIpLHM9dC5tYXRjaChuZXcgUmVnRXhwKCItIiwiZyIpKTtyZXR1cm4gdGhpcy5pc0tleWJvYXJkQW5kcm9pZCYmbiYmcy5sZW5ndGg+MSYmKGUudGFyZ2V0LnZhbHVlPXRoaXMucmVwbGFjZUF0KHQsaSwiIikpLG4mJmUua2V5PT09dGhpcy5taW51c1NpZ259dmVyaWZ5VmFsdWVBZnRlckNvbW1hKGUpe2NvbnN0IHQ9ZS50YXJnZXQudmFsdWUsbj1lLnRhcmdldC5zZWxlY3Rpb25TdGFydCxpPXRoaXMuZ2V0VmFsdWVBZnRlclNlcGFyYXRvcih0LHRoaXMuZGVjaW1hbFNlcGFyYXRvcik7cmV0dXJuIHRoaXMuaXNQb3NpdGlvbkFmdGVyRGVjaW1hbFNlcGFyYXRvcihuLHQpJiZpLmxlbmd0aD49dGhpcy5kZWNpbWFsc0xlbmd0aH19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoVWEpLEFyKHBTKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLWRlY2ltYWwiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiZwYyhXeSw3LFVhKSwyJmUpe2xldCBlO2RjKGU9Z2MoKSkmJih0LmlucHV0RWw9ZS5maXJzdCl9fSxpbnB1dHM6e2RlY2ltYWxzTGVuZ3RoOlsicC1kZWNpbWFscy1sZW5ndGgiLCJkZWNpbWFsc0xlbmd0aCJdLHRob3VzYW5kTWF4bGVuZ3RoOlsicC10aG91c2FuZC1tYXhsZW5ndGgiLCJ0aG91c2FuZE1heGxlbmd0aCJdLGxvY2FsZTpbInAtbG9jYWxlIiwibG9jYWxlIl0sbWluOlsicC1taW4iLCJtaW4iXSxtYXg6WyJwLW1heCIsIm1heCJdfSxmZWF0dXJlczpbTGEoW3twcm92aWRlOlB2LHVzZUV4aXN0aW5nOnNlKCgpPT5lKSxtdWx0aTohMH0se3Byb3ZpZGU6anYsdXNlRXhpc3Rpbmc6c2UoKCk9PmUpLG11bHRpOiEwfV0pLHVyXSxkZWNsczo4LHZhcnM6MTgsY29uc3RzOltbMywicC1sYWJlbCIsInAtaGVscCIsInAtb3B0aW9uYWwiXSxbMSwicG8tZmllbGQtY29udGFpbmVyLWNvbnRlbnQiXSxbImNsYXNzIiwicG8tZmllbGQtaWNvbi1jb250YWluZXItbGVmdCIsNCwibmdJZiJdLFsiaW5wdXRtb2RlIiwiZGVjaW1hbCIsInR5cGUiLCJ0ZXh0IiwxLCJwby1pbnB1dCIsMywiYXV0b2NvbXBsZXRlIiwiZGlzYWJsZWQiLCJwbGFjZWhvbGRlciIsInJlYWRvbmx5IiwicmVxdWlyZWQiLCJibHVyIiwiZm9jdXMiLCJpbnB1dCIsImtleXByZXNzIl0sWyJpbnAiLCIiXSxbMSwicG8tZmllbGQtaWNvbi1jb250YWluZXItcmlnaHQiXSxbMywicC1lbGVtZW50LXJlZiIsInAtY2hhbmdlLWV2ZW50Iiw0LCJuZ0lmIl0sWzMsInAtZXJyb3ItcGF0dGVybiJdLFsxLCJwby1maWVsZC1pY29uLWNvbnRhaW5lci1sZWZ0Il0sWzEsInBvLWZpZWxkLWljb24iLDMsInAtaWNvbiJdLFszLCJwLWVsZW1lbnQtcmVmIiwicC1jaGFuZ2UtZXZlbnQiXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXsxJmUmJihGcigwLCJwby1maWVsZC1jb250YWluZXIiLDApLEZyKDEsImRpdiIsMSksa3IoMixEXywyLDMsImRpdiIsMiksRnIoMywiaW5wdXQiLDMsNCksQnIoImJsdXIiLGZ1bmN0aW9uKGUpe3JldHVybiB0Lm9uQmx1cihlKX0pKCJmb2N1cyIsZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Gb2N1cyhlKX0pKCJpbnB1dCIsZnVuY3Rpb24oZSl7cmV0dXJuIHQub25JbnB1dChlKX0pKCJrZXlwcmVzcyIsZnVuY3Rpb24oZSl7cmV0dXJuIHQub25LZXlQcmVzcyhlKX0pLElyKCksRnIoNSwiZGl2Iiw1KSxrcig2LFNfLDEsMSwicG8tY2xlYW4iLDYpLElyKCksSXIoKSxNcig3LCJwby1maWVsZC1jb250YWluZXItYm90dG9tIiw3KSxJcigpKSwyJmUmJihPcigicC1sYWJlbCIsdC5sYWJlbCkoInAtaGVscCIsdC5oZWxwKSgicC1vcHRpb25hbCIsIXQucmVxdWlyZWQmJnQub3B0aW9uYWwpLFpzKDIpLE9yKCJuZ0lmIix0Lmljb24pLFpzKDEpLGVhKCJwby1pbnB1dC1pY29uLWxlZnQiLHQuaWNvbikoInBvLWlucHV0LWljb24tcmlnaHQiLHQuY2xlYW4pLE9yKCJhdXRvY29tcGxldGUiLHQuYXV0b2NvbXBsZXRlKSgiZGlzYWJsZWQiLHQuZGlzYWJsZWQpKCJwbGFjZWhvbGRlciIsdC5wbGFjZWhvbGRlcikoInJlYWRvbmx5Iix0LnJlYWRvbmx5KSgicmVxdWlyZWQiLHQucmVxdWlyZWQpLERyKCJtYXgiLHQubWF4KSgibWluIix0Lm1pbikoIm5hbWUiLHQubmFtZSksWnMoMyksT3IoIm5nSWYiLHQuY2xlYW4mJiF0LmRpc2FibGVkJiYhdC5yZWFkb25seSksWnMoMSksT3IoInAtZXJyb3ItcGF0dGVybiIsdC5nZXRFcnJvclBhdHRlcm5NZXNzYWdlKCkpKX0sZGlyZWN0aXZlczpbd0UsRmgseUUsZ1MsSUVdLGVuY2Fwc3VsYXRpb246Mn0pLGV9KSgpLEtrPSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBXa3tjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMudHlwZT0idGV4dCIsdGhpcy5lbD1lfWdldCBhdXRvY29tcGxldGUoKXtyZXR1cm4gdGhpcy5ub0F1dG9jb21wbGV0ZT8ib2ZmIjoib24ifW9uS2V5ZG93bihlKXt0aGlzLm1hc2smJiF0aGlzLnJlYWRvbmx5JiYyMjkhPT1lLnRhcmdldC5rZXlDb2RlJiYodGhpcy5ldmVudE9uQmx1cihlKSx0aGlzLm9iak1hc2sua2V5ZG93bihlKSl9b25LZXl1cChlKXt0aGlzLm1hc2smJiF0aGlzLnJlYWRvbmx5JiYoMjI5IT09ZS50YXJnZXQua2V5Q29kZSYmKHRoaXMuZXZlbnRPbkJsdXIoZSksdGhpcy5vYmpNYXNrLmtleXVwKGUpKSx0aGlzLmNhbGxPbkNoYW5nZSh0aGlzLm9iak1hc2sudmFsdWVUb01vZGVsKSl9bmdBZnRlclZpZXdJbml0KCl7dGhpcy5hZnRlclZpZXdJbml0KCl9YWZ0ZXJWaWV3SW5pdCgpe3RoaXMudmVyaWZ5QXV0b0ZvY3VzKCksInBhc3N3b3JkIiE9PXRoaXMudHlwZSYmdGhpcy5zZXRQYWRkaW5nSW5wdXQoKX1mb2N1cygpe3RoaXMuZGlzYWJsZWR8fHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LmZvY3VzKCl9c2V0UGFkZGluZ0lucHV0KCl7c2V0VGltZW91dCgoKT0+e2xldCBlPXRoaXMuZWwubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCIucG8tZmllbGQtaWNvbi1jb250YWluZXI6bm90KC5wby1maWVsZC1pY29uLWNvbnRhaW5lci1sZWZ0KSA+IC5wby1pY29uIikubGVuZ3RoO3RoaXMuY2xlYW4mJmUrKyxlJiYodGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0PTM2KmUrInB4Iil9KX12ZXJpZnlBdXRvRm9jdXMoKXt0aGlzLmF1dG9Gb2N1cyYmdGhpcy5mb2N1cygpfWV2ZW50T25JbnB1dChlKXtsZXQgdD0iIjt0aGlzLm1hc2s/KHRoaXMub2JqTWFzay5ibHVyKGUpLHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlPXRoaXMub2JqTWFzay52YWx1ZVRvSW5wdXQsdD10aGlzLm9iak1hc2sudmFsdWVUb01vZGVsKToodD10aGlzLnZhbGlkTWF4TGVuZ3RoKHRoaXMubWF4bGVuZ3RoLGUudGFyZ2V0LnZhbHVlKSx0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZT10KSx0aGlzLmNhbGxPbkNoYW5nZSh0KX12YWxpZE1heExlbmd0aChlLHQpe3JldHVybihlfHwwPT09ZSkmJnQubGVuZ3RoPmU/dC50b1N0cmluZygpLnN1YnN0cmluZygwLGUpOnR9ZXZlbnRPbkZvY3VzKGUpe3RoaXMudmFsdWVCZWZvcmVDaGFuZ2U9dGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWUsdGhpcy5lbnRlci5lbWl0KCl9ZXZlbnRPbkJsdXIoZSl7dmFyIHQ7bnVsbD09PSh0PXRoaXMub25Ub3VjaGVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMpLHRoaXMubWFzayYmdGhpcy5vYmpNYXNrLmJsdXIoZSksImJsdXIiPT09ZS50eXBlJiYodGhpcy5ibHVyLmVtaXQoKSx0aGlzLmNvbnRyb2xDaGFuZ2VFbWl0dGVyKCkpfWNvbnRyb2xDaGFuZ2VFbWl0dGVyKCl7Y29uc3QgZT10aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZTtlIT09dGhpcy52YWx1ZUJlZm9yZUNoYW5nZSYmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRDaGFuZ2UpLHRoaXMudGltZW91dENoYW5nZT1zZXRUaW1lb3V0KCgpPT57dGhpcy5jaGFuZ2UuZW1pdChlKX0sMjAwKSl9ZXZlbnRPbkNsaWNrKGUpe3RoaXMubWFzayYmdGhpcy5vYmpNYXNrLmNsaWNrKGUpfWhhc0ludmFsaWRDbGFzcygpe3JldHVybiB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJuZy1pbnZhbGlkIikmJnRoaXMuZWwubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoIm5nLWRpcnR5IikmJiIiIT09dGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWV9Z2V0RXJyb3JQYXR0ZXJuKCl7cmV0dXJuIiIhPT10aGlzLmVycm9yUGF0dGVybiYmdGhpcy5oYXNJbnZhbGlkQ2xhc3MoKT90aGlzLmVycm9yUGF0dGVybjoiIn12YWxpZGF0ZUNsYXNzZXNGb3JQYXR0ZXJuKCl7Y29uc3QgZT10aGlzLmdldFNjcmVlblZhbHVlKCksdD10aGlzLmVsLm5hdGl2ZUVsZW1lbnQ7ZSYmIXRoaXMudmVyaWZ5UGF0dGVybih0aGlzLnBhdHRlcm4sZSk/KHQuY2xhc3NMaXN0LmFkZCgibmctaW52YWxpZCIpLHQuY2xhc3NMaXN0LmFkZCgibmctZGlydHkiKSk6dC5jbGFzc0xpc3QucmVtb3ZlKCJuZy1pbnZhbGlkIil9dmVyaWZ5UGF0dGVybihlLHQpe3JldHVybiBuZXcgUmVnRXhwKGUpLnRlc3QodCl9Y2xlYXIoZSl7dGhpcy5jYWxsT25DaGFuZ2UoZSksdGhpcy5jb250cm9sQ2hhbmdlRW1pdHRlcigpfXdyaXRlVmFsdWVNb2RlbChlKXt0aGlzLnBhc3NlZFdyaXRlVmFsdWU9ITAsdGhpcy5pbnB1dEVsJiYoZT90aGlzLm1hc2s/KHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlPXRoaXMub2JqTWFzay5jb250cm9sRm9ybWF0dGluZyhTdHJpbmcoZSkpLHRoaXMub2JqTWFzay5mb3JtYXRNb2RlbCYmdGhpcy5jYWxsVXBkYXRlTW9kZWxXaXRoVGltZW91dCh0aGlzLm9iak1hc2sudmFsdWVUb01vZGVsKSk6dGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWU9ZTp0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZT0iIiksZSYmdGhpcy5jaGFuZ2VNb2RlbC5lbWl0KGUpfWdldFNjcmVlblZhbHVlKCl7Y29uc3QgZT10aGlzLmlucHV0RWwmJnRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlfHx2b2lkIDA7aWYoIm51bWJlciI9PT10aGlzLnR5cGUpe2NvbnN0IHQ9cGFyc2VGbG9hdChlKTtyZXR1cm4gdHx8MD09PXQ/dDpudWxsfXJldHVybiBlfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShBcihVYSkpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLHZpZXdRdWVyeTpmdW5jdGlvbihlLHQpe2lmKDEmZSYmcGMoV3ksNyxVYSksMiZlKXtsZXQgZTtkYyhlPWdjKCkpJiYodC5pbnB1dEVsPWUuZmlyc3QpfX0saG9zdEJpbmRpbmdzOmZ1bmN0aW9uKGUsdCl7MSZlJiZCcigia2V5ZG93biIsZnVuY3Rpb24oZSl7cmV0dXJuIHQub25LZXlkb3duKGUpfSkoImtleXVwIixmdW5jdGlvbihlKXtyZXR1cm4gdC5vbktleXVwKGUpfSl9LGZlYXR1cmVzOlt1cl19KSxlfSkoKSxZaz0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUpe3RoaXMuaHR0cENsaWVudD1lLHRoaXMuaGVhZGVycz1uZXcgWG0oeyJYLVBPLU5vLU1lc3NhZ2UiOiJ0cnVlIn0pfWdldEZpbHRlcmVkSXRlbXMoZSl7Y29uc3R7ZmlsdGVyUGFyYW1zOnQsYWR2YW5jZWRGaWx0ZXJzOm59PWUsaT1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2Zvcih2YXIgaSBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiZ0LmluZGV4T2YoaSk8MCYmKG5baV09ZVtpXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBzPTA7Zm9yKGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtzPGkubGVuZ3RoO3MrKyl0LmluZGV4T2YoaVtzXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsaVtzXSkmJihuW2lbc11dPWVbaVtzXV0pfXJldHVybiBufShlLFsiZmlsdGVyUGFyYW1zIiwiYWR2YW5jZWRGaWx0ZXJzIl0pLHM9dGhpcy52YWxpZGF0ZVBhcmFtcyh0KSxvPXRoaXMudmFsaWRhdGVQYXJhbXMobikscj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxpKSxzKSxvKTtyZXR1cm4gdGhpcy5odHRwQ2xpZW50LmdldCh0aGlzLnVybCx7aGVhZGVyczp0aGlzLmhlYWRlcnMscGFyYW1zOnJ9KX1nZXRPYmplY3RCeVZhbHVlKGUsdCl7Y29uc3Qgbj1lbmNvZGVVUklDb21wb25lbnQoZSksaT10aGlzLnZhbGlkYXRlUGFyYW1zKHQpO3JldHVybiB0aGlzLmh0dHBDbGllbnQuZ2V0KGAke3RoaXMudXJsfS8ke259YCx7aGVhZGVyczp0aGlzLmhlYWRlcnMscGFyYW1zOml9KX1zZXRVcmwoZSl7dGhpcy51cmw9ZX12YWxpZGF0ZVBhcmFtcyhlKXtyZXR1cm4gUUQoZSwib2JqZWN0IikmJiFBcnJheS5pc0FycmF5KGUpP2U6dm9pZCAwfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaShndikpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpLFprPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmRlZmF1bHRTZXJ2aWNlPWUsdGhpcy5pbmplY3Rvcj10LHRoaXMuYXV0b0ZvY3VzPSExLHRoaXMuaW5maW5pdGVTY3JvbGw9ITEsdGhpcy5vbkVycm9yPW5ldyBlYyx0aGlzLnNlbGVjdGVkPW5ldyBlYyx0aGlzLmNoYW5nZT1uZXcgZWMsdGhpcy5vbGRWYWx1ZT0iIix0aGlzLm9sZFZhbHVlVG9Nb2RlbD1udWxsLHRoaXMub25Ub3VjaGVkPW51bGwsdGhpcy5fZGlzYWJsZWQ9ITEsdGhpcy5fcGxhY2Vob2xkZXI9IiIsdGhpcy5fcmVxdWlyZWQ9ITEsdGhpcy5vbkNoYW5nZVByb3BhZ2F0ZT1udWxsfXNldCBwbGFjZWhvbGRlcihlKXt0aGlzLl9wbGFjZWhvbGRlcj1lfHwiIn1nZXQgcGxhY2Vob2xkZXIoKXtyZXR1cm4gdGhpcy5fcGxhY2Vob2xkZXJ9c2V0IGZpZWxkTGFiZWwoZSl7dGhpcy5fZmllbGRMYWJlbD1lLHRoaXMua2V5c0Rlc2NyaXB0aW9uPVt0aGlzLmZpZWxkTGFiZWxdfWdldCBmaWVsZExhYmVsKCl7cmV0dXJuIHRoaXMuX2ZpZWxkTGFiZWx9c2V0IGZpbHRlclNlcnZpY2UoZSl7dGhpcy5fZmlsdGVyU2VydmljZT1lLHRoaXMuc2V0U2VydmljZSh0aGlzLmZpbHRlclNlcnZpY2UpfWdldCBmaWx0ZXJTZXJ2aWNlKCl7cmV0dXJuIHRoaXMuX2ZpbHRlclNlcnZpY2V9c2V0IG5vQXV0b2NvbXBsZXRlKGUpe3RoaXMuX25vQXV0b2NvbXBsZXRlPVlEKGUpfWdldCBub0F1dG9jb21wbGV0ZSgpe3JldHVybiB0aGlzLl9ub0F1dG9jb21wbGV0ZX1zZXQgcmVxdWlyZWQoZSl7dGhpcy5fcmVxdWlyZWQ9WUQoZSksdGhpcy52YWxpZGF0ZU1vZGVsKHRoaXMudmFsdWVUb01vZGVsKX1nZXQgcmVxdWlyZWQoKXtyZXR1cm4gdGhpcy5fcmVxdWlyZWR9c2V0IGRpc2FibGVkKGUpe3RoaXMuX2Rpc2FibGVkPSIiPT09ZXx8WUQoZSl9Z2V0IGRpc2FibGVkKCl7cmV0dXJuIHRoaXMuX2Rpc2FibGVkfW5nT25EZXN0cm95KCl7dGhpcy5nZXRTdWJzY3JpcHRpb24mJnRoaXMuZ2V0U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCl9bmdPbkluaXQoKXt0aGlzLmluaXRpYWxpemVDb2x1bW4oKX1uZ0FmdGVyVmlld0luaXQoKXt0aGlzLnNldENvbnRyb2woKX1zZXREaXNhYmxlZFN0YXRlKGUpe3RoaXMuZGlzYWJsZWQ9ZX1yZWdpc3Rlck9uVmFsaWRhdG9yQ2hhbmdlKGUpe3RoaXMudmFsaWRhdG9yQ2hhbmdlPWV9cmVnaXN0ZXJPbkNoYW5nZShlKXt0aGlzLm9uQ2hhbmdlUHJvcGFnYXRlPWV9cmVnaXN0ZXJPblRvdWNoZWQoZSl7dGhpcy5vblRvdWNoZWQ9ZX1zZWxlY3RWYWx1ZShlKXt0aGlzLnZhbHVlVG9Nb2RlbD1lW3RoaXMuZmllbGRWYWx1ZV0sdGhpcy5jYWxsT25DaGFuZ2UodGhpcy52YWx1ZVRvTW9kZWwpLHRoaXMuc2VsZWN0ZWQuZW1pdChlKX1jYWxsT25DaGFuZ2UoZSl7dGhpcy5vbkNoYW5nZVByb3BhZ2F0ZSYmdGhpcy5vbkNoYW5nZVByb3BhZ2F0ZShlKSx0aGlzLm9sZFZhbHVlVG9Nb2RlbCE9PXRoaXMudmFsdWVUb01vZGVsJiZ0aGlzLmNoYW5nZS5lbWl0KHRoaXMudmFsdWVUb01vZGVsKSx0aGlzLm9sZFZhbHVlVG9Nb2RlbD10aGlzLnZhbHVlVG9Nb2RlbH1zZWFyY2hCeUlkKGUpe2xldCB0PWU7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYodD10LnRyaW0oKSksIiIhPT10KXtjb25zdCB0PXRoaXMuZGlzYWJsZWQ7dGhpcy5kaXNhYmxlZD0hMCx0aGlzLmNvbnRyb2wmJnNldFRpbWVvdXQoKCk9PnRoaXMuY29udHJvbC5tYXJrQXNQZW5kaW5nKCkpLHRoaXMuZ2V0U3Vic2NyaXB0aW9uPXRoaXMuc2VydmljZS5nZXRPYmplY3RCeVZhbHVlKGUsdGhpcy5maWx0ZXJQYXJhbXMpLnBpcGUoWnAoKCk9Pnt0aGlzLmRpc2FibGVkPXQsdGhpcy5jb250cm9sJiZ0aGlzLmNvbnRyb2wudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSgpfSkpLnN1YnNjcmliZShlPT57ZT8odGhpcy5vbGRWYWx1ZT1lW3RoaXMuZmllbGRMYWJlbF0sdGhpcy5zZWxlY3RWYWx1ZShlKSx0aGlzLnNldFZpZXdWYWx1ZSh0aGlzLmdldEZvcm1hdHRlZExhYmVsKGUpLGUpKTp0aGlzLmNsZWFuTW9kZWwoKX0sZT0+e3RoaXMuY2xlYW5Nb2RlbCgpLHRoaXMub25FcnJvci5lbWl0KGUpfSl9ZWxzZSB0aGlzLmNsZWFuTW9kZWwoKX12YWxpZGF0ZShlKXtpZihERSh0aGlzLnJlcXVpcmVkLHRoaXMuZGlzYWJsZWQsZS52YWx1ZSkpcmV0dXJue3JlcXVpcmVkOnt2YWxpZDohMX19fXdyaXRlVmFsdWUoZSl7ZSYmZSBpbnN0YW5jZW9mIE9iamVjdD8odGhpcy5vbGRWYWx1ZT1lW3RoaXMuZmllbGRMYWJlbF0sdGhpcy52YWx1ZVRvTW9kZWw9ZVt0aGlzLmZpZWxkVmFsdWVdLHRoaXMuc2V0Vmlld1ZhbHVlKHRoaXMuZ2V0Rm9ybWF0dGVkTGFiZWwoZSksZSkpOmU/dGhpcy5zZWFyY2hCeUlkKGUpOnRoaXMuY2xlYW5WaWV3VmFsdWUoKX1jbGVhbk1vZGVsKCl7dGhpcy5jbGVhblZpZXdWYWx1ZSgpLHRoaXMuY2FsbE9uQ2hhbmdlKHZvaWQgMCl9Y2xlYW5WaWV3VmFsdWUoKXt0aGlzLnNldFZpZXdWYWx1ZSgiIix7fSksdGhpcy5vbGRWYWx1ZT0iIix0aGlzLnZhbHVlVG9Nb2RlbD1udWxsfWdldEZvcm1hdHRlZExhYmVsKGUpe3JldHVybiBlP3RoaXMua2V5c0Rlc2NyaXB0aW9uLm1hcCh0PT5lW3RdKS5qb2luKCIgLSAiKToiIn1zZWxlY3RNb2RlbChlKXt0aGlzLndyaXRlVmFsdWUoZSksZSYmZSBpbnN0YW5jZW9mIE9iamVjdCYmdGhpcy5zZWxlY3RWYWx1ZShlKX12YWxpZGF0ZU1vZGVsKGUpe3RoaXMudmFsaWRhdG9yQ2hhbmdlJiZ0aGlzLnZhbGlkYXRvckNoYW5nZShlKX1zZXRTZXJ2aWNlKGUpe1FEKGUsIm9iamVjdCIpJiYodGhpcy5zZXJ2aWNlPWUpLGUmJlFEKGUsInN0cmluZyIpJiYodGhpcy5zZXJ2aWNlPXRoaXMuZGVmYXVsdFNlcnZpY2UsdGhpcy5zZXJ2aWNlLnNldFVybChlKSl9c2V0Q29udHJvbCgpe2NvbnN0IGU9dGhpcy5pbmplY3Rvci5nZXQoWnYsbnVsbCxDZS5TZWxmKTtlJiYodGhpcy5jb250cm9sPWUuY29udHJvbCl9aW5pdGlhbGl6ZUNvbHVtbigpe3RoaXMuZmllbGRMYWJlbD90aGlzLmtleXNEZXNjcmlwdGlvbj1bdGhpcy5maWVsZExhYmVsXToodGhpcy5rZXlzRGVzY3JpcHRpb249W10sdGhpcy5rZXlzRGVzY3JpcHRpb249dGhpcy5jb2x1bW5zLmZpbHRlcihlPT5lLmZpZWxkTGFiZWwpLm1hcChlPT5lLnByb3BlcnR5KSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKFlrKSxBcihscikpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLGlucHV0czp7YXV0b0ZvY3VzOlsicC1hdXRvLWZvY3VzIiwiYXV0b0ZvY3VzIl0saW5maW5pdGVTY3JvbGw6WyJwLWluZmluaXRlLXNjcm9sbCIsImluZmluaXRlU2Nyb2xsIl0scGxhY2Vob2xkZXI6WyJwLXBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXIiXSxmaWVsZExhYmVsOlsicC1maWVsZC1sYWJlbCIsImZpZWxkTGFiZWwiXSxmaWx0ZXJTZXJ2aWNlOlsicC1maWx0ZXItc2VydmljZSIsImZpbHRlclNlcnZpY2UiXSxub0F1dG9jb21wbGV0ZTpbInAtbm8tYXV0b2NvbXBsZXRlIiwibm9BdXRvY29tcGxldGUiXSxyZXF1aXJlZDpbInAtcmVxdWlyZWQiLCJyZXF1aXJlZCJdLGRpc2FibGVkOlsicC1kaXNhYmxlZCIsImRpc2FibGVkIl0sbGFiZWw6WyJwLWxhYmVsIiwibGFiZWwiXSxsaXRlcmFsczpbInAtbGl0ZXJhbHMiLCJsaXRlcmFscyJdLGhlbHA6WyJwLWhlbHAiLCJoZWxwIl0sbmFtZToibmFtZSIsZmllbGRWYWx1ZTpbInAtZmllbGQtdmFsdWUiLCJmaWVsZFZhbHVlIl0sZmlsdGVyUGFyYW1zOlsicC1maWx0ZXItcGFyYW1zIiwiZmlsdGVyUGFyYW1zIl0sZmllbGRGb3JtYXQ6WyJwLWZpZWxkLWZvcm1hdCIsImZpZWxkRm9ybWF0Il0sY29sdW1uczpbInAtY29sdW1ucyIsImNvbHVtbnMiXSxvcHRpb25hbDpbInAtb3B0aW9uYWwiLCJvcHRpb25hbCJdLGFkdmFuY2VkRmlsdGVyczpbInAtYWR2YW5jZWQtZmlsdGVycyIsImFkdmFuY2VkRmlsdGVycyJdfSxvdXRwdXRzOntvbkVycm9yOiJwLWVycm9yIixzZWxlY3RlZDoicC1zZWxlY3RlZCIsY2hhbmdlOiJwLWNoYW5nZSJ9fSksT3YoW3hTKCldLGUucHJvdG90eXBlLCJhdXRvRm9jdXMiLHZvaWQgMCksT3YoW3hTKCldLGUucHJvdG90eXBlLCJpbmZpbml0ZVNjcm9sbCIsdm9pZCAwKSxlfSkoKSxRaz0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKCl7dGhpcy5mb3JtT3V0cHV0PW5ldyBlYyx0aGlzLl9ncm91cEZvcm09ITF9c2V0IGdyb3VwRm9ybShlKXt0aGlzLl9ncm91cEZvcm09IiI9PT1lfHxZRChlKX1nZXQgZ3JvdXBGb3JtKCl7cmV0dXJuIHRoaXMuX2dyb3VwRm9ybX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsaW5wdXRzOntncm91cEZvcm06WyJwLWdyb3VwLWZvcm0iLCJncm91cEZvcm0iXSxhdXRvRm9jdXM6WyJwLWF1dG8tZm9jdXMiLCJhdXRvRm9jdXMiXSxmaWVsZHM6WyJwLWZpZWxkcyIsImZpZWxkcyJdLHZhbHVlOlsicC12YWx1ZSIsInZhbHVlIl0sbG9hZDpbInAtbG9hZCIsImxvYWQiXSx2YWxpZGF0ZTpbInAtdmFsaWRhdGUiLCJ2YWxpZGF0ZSJdLHZhbGlkYXRlRmllbGRzOlsicC12YWxpZGF0ZS1maWVsZHMiLCJ2YWxpZGF0ZUZpZWxkcyJdfSxvdXRwdXRzOntmb3JtT3V0cHV0OiJwLWZvcm0ifX0pLGV9KSgpO2NsYXNzIEpre2NvbnN0cnVjdG9yKGUpe3RoaXMuaHR0cD1lfWV4ZWN1dGUoZSx0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGU/dGhpcy5wb3N0KGUsdCk6QmQoZSh0KSl9cG9zdChlLHQpe3JldHVybiB0aGlzLmh0dHAucG9zdChlLHQpfXNldEZvcm1EZWZhdWx0SWZFbXB0eShlKXtyZXR1cm4gZXx8e3ZhbHVlOnt9LGZpZWxkczpbXSxmb2N1czp2b2lkIDB9fX1sZXQgWGs9KCgpPT57Y2xhc3MgZSBleHRlbmRzIEpre2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWNyZWF0ZUFuZFVwZGF0ZUZpZWxkc0Zvcm0oZT1bXSx0PVtdKXtyZXR1cm5bLi4uZV0ucmVkdWNlKChlLG4pPT57Y29uc3QgaT1lLmZpbmRJbmRleChlPT5lLnByb3BlcnR5PT09bi5wcm9wZXJ0eSk7cmV0dXJuIGk+PTA/ZVtpXT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdFtpXSksbik6ZS5wdXNoKG4pLGV9LFsuLi50XSl9ZXhlY3V0ZUxvYWQoZSx0KXtyZXR1cm4gdGhpcy5leGVjdXRlKGUsdCkucGlwZShrKGU9PnRoaXMuc2V0Rm9ybURlZmF1bHRJZkVtcHR5KGUpKSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKGNpKGd2KSl9LGUuXHUwMjc1cHJvdj1oZSh7dG9rZW46ZSxmYWN0b3J5OmUuXHUwMjc1ZmFjfSksZX0pKCksZXg9KCgpPT57Y2xhc3MgZSBleHRlbmRzIEpre2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfXNlbmRGaWVsZENoYW5nZShlLHQpe3JldHVybiB0aGlzLmV4ZWN1dGUoZS52YWxpZGF0ZSx7cHJvcGVydHk6ZS5wcm9wZXJ0eSx2YWx1ZTp0fSkucGlwZShrKGU9PnRoaXMuc2V0RmllbGREZWZhdWx0SWZFbXB0eShlKSkpfXNlbmRGb3JtQ2hhbmdlKGUsdCxuKXtyZXR1cm4gdGhpcy5leGVjdXRlKGUse3Byb3BlcnR5OnQucHJvcGVydHksdmFsdWU6bn0pLnBpcGUoayhlPT50aGlzLnNldEZvcm1EZWZhdWx0SWZFbXB0eShlKSkpfXVwZGF0ZUZpZWxkc0Zvcm0oZT1bXSx0PVtdKXtyZXR1cm5bLi4uZV0ucmVkdWNlKChlLG4pPT57Y29uc3QgaT1lLmZpbmRJbmRleChlPT5lLnByb3BlcnR5PT09bi5wcm9wZXJ0eSk7cmV0dXJuIGk+PTAmJihlW2ldPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0W2ldKSxuKSksZX0sWy4uLnRdKX1zZXRGaWVsZERlZmF1bHRJZkVtcHR5KGUpe3JldHVybiBlfHx7ZmllbGQ6e319fX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaShndikpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpLHR4PSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBRa3tjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoKSx0aGlzLmNoYW5nZXM9ZSx0aGlzLmxvYWRTZXJ2aWNlPXQsdGhpcy52YWxpZGF0aW9uU2VydmljZT1uLHRoaXMuY29tYm9PcHRpb25TdWJqZWN0PW5ldyBEfXNldCBmb3JtKGUpe3NldFRpbWVvdXQoKCk9Pnt0aGlzLl9mb3JtPWUsdGhpcy5lbWl0Rm9ybSgpfSl9Z2V0IGZvcm0oKXtyZXR1cm4gdGhpcy5fZm9ybXx8e319bmdPbkRlc3Ryb3koKXt0aGlzLnJlbW92ZUxpc3RlbmVycygpfW5nT25Jbml0KCl7dGhpcy5sb2FkJiZ0aGlzLmxvYWREYXRhT25Jbml0aWFsaXplKCl9Zm9jdXMoZSl7dGhpcy5maWVsZHNDb21wb25lbnQuZm9jdXMoZSl9Z2V0T2JqZWN0VmFsdWUoKXtyZXR1cm4gdGhpcy5jb21ib09wdGlvblN1YmplY3QuYXNPYnNlcnZhYmxlKCl9c2VuZE9iamVjdFZhbHVlKGUpe3RoaXMuY29tYm9PcHRpb25TdWJqZWN0Lm5leHQoZSl9dmFsaWRhdGVGb3JtKGUpe2NvbnN0IHQ9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDt0aGlzLmRpc2FibGVGb3JtKCEwKSx0aGlzLnNlbmRGb3JtU3Vic2NyaXB0aW9uPXRoaXMudmFsaWRhdGlvblNlcnZpY2Uuc2VuZEZvcm1DaGFuZ2UodGhpcy52YWxpZGF0ZSxlLHRoaXMudmFsdWUpLnN1YnNjcmliZSh0aGlzLmFwcGx5Rm9ybVZhbGlkYXRpb24odCksKCk9PnRoaXMuZGlzYWJsZUZvcm0oITEpKX1hcHBseUZvcm1VcGRhdGVzT25Mb2FkKGUpe3JldHVybiB0PT57dGhpcy51cGRhdGVNb2RlbE9uTG9hZCh0KSx0aGlzLmRpc2FibGVGb3JtKCExKSx0aGlzLnNldEZvY3VzT25GaWVsZEJ5UHJvcGVydHkodC5mb2N1cyxlKX19YXBwbHlGb3JtVmFsaWRhdGlvbihlKXtyZXR1cm4gdD0+e3RoaXMudXBkYXRlTW9kZWxXaXRoVmFsaWRhdGlvbih0KSx0aGlzLmRpc2FibGVGb3JtKCExKSx0aGlzLnNldEZvY3VzT25GaWVsZEJ5UHJvcGVydHkodC5mb2N1cyxlKX19ZGlzYWJsZUZvcm0oZSl7dGhpcy5kaXNhYmxlZEZvcm09ZSx0aGlzLmNoYW5nZXMuZGV0ZWN0Q2hhbmdlcygpfWVtaXRGb3JtKCl7IXRoaXMuZ3JvdXBGb3JtJiZ0aGlzLmZvcm1PdXRwdXQub2JzZXJ2ZXJzLmxlbmd0aCYmdGhpcy5mb3JtT3V0cHV0LmVtaXQodGhpcy5mb3JtKX1sb2FkRGF0YU9uSW5pdGlhbGl6ZSgpe2NvbnN0IGU9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDt0aGlzLmRpc2FibGVkRm9ybT0hMCx0aGlzLm9uTG9hZFN1YnNjcmlwdGlvbj10aGlzLmxvYWRTZXJ2aWNlLmV4ZWN1dGVMb2FkKHRoaXMubG9hZCx0aGlzLnZhbHVlKS5zdWJzY3JpYmUodGhpcy5hcHBseUZvcm1VcGRhdGVzT25Mb2FkKGUpLCgpPT50aGlzLmRpc2FibGVkRm9ybT0hMSl9cmVtb3ZlTGlzdGVuZXJzKCl7dGhpcy5vbkxvYWRTdWJzY3JpcHRpb24mJnRoaXMub25Mb2FkU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCksdGhpcy5zZW5kRm9ybVN1YnNjcmlwdGlvbiYmdGhpcy5zZW5kRm9ybVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfXNldEZvY3VzT25GaWVsZEJ5UHJvcGVydHkoZSx0KXtlP3NldFRpbWVvdXQoKCk9PnRoaXMuZm9jdXMoZSkpOnQuZm9jdXMoKX11cGRhdGVNb2RlbE9uTG9hZChlKXtPYmplY3QuYXNzaWduKHRoaXMudmFsdWUsZS52YWx1ZSksdGhpcy5maWVsZHM9dGhpcy5sb2FkU2VydmljZS5jcmVhdGVBbmRVcGRhdGVGaWVsZHNGb3JtKGUuZmllbGRzLHRoaXMuZmllbGRzKX11cGRhdGVNb2RlbFdpdGhWYWxpZGF0aW9uKGUpe09iamVjdC5hc3NpZ24odGhpcy52YWx1ZSxlLnZhbHVlKSx0aGlzLmZpZWxkc0NvbXBvbmVudC51cGRhdGVQcmV2aW91c1ZhbHVlKCksdGhpcy5maWVsZHM9dGhpcy52YWxpZGF0aW9uU2VydmljZS51cGRhdGVGaWVsZHNGb3JtKGUuZmllbGRzLHRoaXMuZmllbGRzKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoZ2wpLEFyKFhrKSxBcihleCkpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby1keW5hbWljLWZvcm0iXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiYocGMoRV8sNSkscGMoa18sNSkpLDImZSl7bGV0IGU7ZGMoZT1nYygpKSYmKHQuZm9ybT1lLmZpcnN0KSxkYyhlPWdjKCkpJiYodC5maWVsZHNDb21wb25lbnQ9ZS5maXJzdCl9fSxmZWF0dXJlczpbdXJdLGRlY2xzOjUsdmFyczozLGNvbnN0czpbWzQsIm5nSWYiLCJuZ0lmVGhlbiIsIm5nSWZFbHNlIl0sWyJyZXVzZUZvcm1UZW1wbGF0ZSIsIiJdLFsidW5pcXVlRm9ybVRlbXBsYXRlIiwiIl0sWzMsInAtYXV0by1mb2N1cyIsInAtZmllbGRzIiwicC12YWx1ZSJdLFsiZmllbGRzQ29tcG9uZW50IiwiIl0sWyJkeW5hbWljRm9ybSIsIm5nRm9ybSJdLFszLCJwLWZpZWxkcyIsInAtYXV0by1mb2N1cyIsInAtZGlzYWJsZWQtZm9ybSIsInAtdmFsaWRhdGUiLCJwLXZhbGlkYXRlLWZpZWxkcyIsInAtdmFsdWUiLCJwLWZpZWxkc0NoYW5nZSIsInAtb2JqZWN0LXZhbHVlIiwicC1mb3JtLXZhbGlkYXRlIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiYoa3IoMCx4XywxLDAsIm5nLWNvbnRhaW5lciIsMCksa3IoMSxBXywyLDMsIm5nLXRlbXBsYXRlIixudWxsLDEseWMpLGtyKDMsT18sNCw2LCJuZy10ZW1wbGF0ZSIsbnVsbCwyLHljKSksMiZlKXtjb25zdCBlPXhyKDIpLG49eHIoNCk7T3IoIm5nSWYiLHQuZ3JvdXBGb3JtKSgibmdJZlRoZW4iLGUpKCJuZ0lmRWxzZSIsbil9fSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW0ZoLHp4LFNiLFh2LENiXX0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCk7Y29uc3Qgbng9e2VuOnttb2RhbFByaW1hcnlBY3Rpb25MYWJlbDoiU2VsZWN0Iixtb2RhbFNlY29uZGFyeUFjdGlvbkxhYmVsOiJDYW5jZWwiLG1vZGFsUGxhY2Vob2xkZXI6IlNlYXJjaCIsbW9kYWxUaXRsZToiU2VsZWN0IGEgcmVjb3JkIixtb2RhbFRhYmxlTm9Db2x1bW5zOmtrLmVuLm5vQ29sdW1ucyxtb2RhbFRhYmxlTm9EYXRhOmtrLmVuLm5vRGF0YSxtb2RhbFRhYmxlTG9hZGluZ0RhdGE6a2suZW4ubG9hZGluZ0RhdGEsbW9kYWxUYWJsZUxvYWRNb3JlRGF0YTpray5lbi5sb2FkTW9yZURhdGEsbW9kYWxBZHZhbmNlZFNlYXJjaDoiQWR2YW5jZWQgc2VhcmNoIixtb2RhbEFkdmFuY2VkU2VhcmNoVGl0bGU6IkFkdmFuY2VkIHNlYXJjaCIsbW9kYWxBZHZhbmNlZFNlYXJjaFByaW1hcnlBY3Rpb25MYWJlbDoiRmlsdGVyIixtb2RhbEFkdmFuY2VkU2VhcmNoU2Vjb25kYXJ5QWN0aW9uTGFiZWw6IlJldHVybiIsbW9kYWxEaXNjbGFpbWVyR3JvdXBUaXRsZToiUHJlc2VudGluZyByZXN1bHRzIGZpbHRlcmVkIGJ5OiJ9LGVzOnttb2RhbFByaW1hcnlBY3Rpb25MYWJlbDoiU2VsZWNjaW9uYXIiLG1vZGFsU2Vjb25kYXJ5QWN0aW9uTGFiZWw6IkNhbmNlbGFyIixtb2RhbFBsYWNlaG9sZGVyOiJCdXNjYXIiLG1vZGFsVGl0bGU6IlNlbGVjY2lvbmUgdW4gcmVnaXN0cm8iLG1vZGFsVGFibGVOb0NvbHVtbnM6a2suZXMubm9Db2x1bW5zLG1vZGFsVGFibGVOb0RhdGE6a2suZXMubm9EYXRhLG1vZGFsVGFibGVMb2FkaW5nRGF0YTpray5lcy5sb2FkaW5nRGF0YSxtb2RhbFRhYmxlTG9hZE1vcmVEYXRhOmtrLmVzLmxvYWRNb3JlRGF0YSxtb2RhbEFkdmFuY2VkU2VhcmNoOiJCXHhmYXNxdWVkYSBBdmFuemFkYSIsbW9kYWxBZHZhbmNlZFNlYXJjaFRpdGxlOiJCXHhmYXNxdWVkYSBBdmFuemFkYSIsbW9kYWxBZHZhbmNlZFNlYXJjaFByaW1hcnlBY3Rpb25MYWJlbDoiRmlsdHJhciIsbW9kYWxBZHZhbmNlZFNlYXJjaFNlY29uZGFyeUFjdGlvbkxhYmVsOiJWdWVsdmUiLG1vZGFsRGlzY2xhaW1lckdyb3VwVGl0bGU6IlByZXNlbnRhciByZXN1bHRhZG9zIGZpbHRyYWRvcyBwb3I6In0scHQ6e21vZGFsUHJpbWFyeUFjdGlvbkxhYmVsOiJTZWxlY2lvbmFyIixtb2RhbFNlY29uZGFyeUFjdGlvbkxhYmVsOiJDYW5jZWxhciIsbW9kYWxQbGFjZWhvbGRlcjoiUGVzcXVpc2FyIixtb2RhbFRpdGxlOiJTZWxlY2lvbmUgdW0gcmVnaXN0cm8iLG1vZGFsVGFibGVOb0NvbHVtbnM6a2sucHQubm9Db2x1bW5zLG1vZGFsVGFibGVOb0RhdGE6a2sucHQubm9EYXRhLG1vZGFsVGFibGVMb2FkaW5nRGF0YTpray5wdC5sb2FkaW5nRGF0YSxtb2RhbFRhYmxlTG9hZE1vcmVEYXRhOmtrLnB0LmxvYWRNb3JlRGF0YSxtb2RhbEFkdmFuY2VkU2VhcmNoOiJCdXNjYSBhdmFuXHhlN2FkYSIsbW9kYWxBZHZhbmNlZFNlYXJjaFRpdGxlOiJCdXNjYSBBdmFuXHhlN2FkYSIsbW9kYWxBZHZhbmNlZFNlYXJjaFByaW1hcnlBY3Rpb25MYWJlbDoiRmlsdHJhciIsbW9kYWxBZHZhbmNlZFNlYXJjaFNlY29uZGFyeUFjdGlvbkxhYmVsOiJWb2x0YXIiLG1vZGFsRGlzY2xhaW1lckdyb3VwVGl0bGU6IkFwcmVzZW50YW5kbyByZXN1bHRhZG9zIGZpbHRyYWRvcyBwb3I6In0scnU6e21vZGFsUHJpbWFyeUFjdGlvbkxhYmVsOiJcdTA0MzJcdTA0NGJcdTA0MzFcdTA0MzhcdTA0NDBcdTA0MzBcdTA0NDJcdTA0NGMiLG1vZGFsU2Vjb25kYXJ5QWN0aW9uTGFiZWw6Ilx1MDQzZVx1MDQ0Mlx1MDQzY1x1MDQzNVx1MDQzZFx1MDQzOFx1MDQ0Mlx1MDQ0YyIsbW9kYWxQbGFjZWhvbGRlcjoiXHUwNDNmXHUwNDNlXHUwNDM4XHUwNDQxXHUwNDNhIixtb2RhbFRpdGxlOiJcdTA0MTJcdTA0NGJcdTA0MzFcdTA0MzVcdTA0NDBcdTA0MzhcdTA0NDJcdTA0MzUgXHUwNDM3XHUwNDMwXHUwNDNmXHUwNDM4XHUwNDQxXHUwNDRjIixtb2RhbFRhYmxlTm9Db2x1bW5zOmtrLnJ1Lm5vQ29sdW1ucyxtb2RhbFRhYmxlTm9EYXRhOmtrLnJ1Lm5vRGF0YSxtb2RhbFRhYmxlTG9hZGluZ0RhdGE6a2sucnUubG9hZGluZ0RhdGEsbW9kYWxUYWJsZUxvYWRNb3JlRGF0YTpray5ydS5sb2FkTW9yZURhdGEsbW9kYWxBZHZhbmNlZFNlYXJjaDoiXHUwNDIwXHUwNDMwXHUwNDQxXHUwNDQ4XHUwNDM4XHUwNDQwXHUwNDM1XHUwNDNkXHUwNDNkXHUwNDRiXHUwNDM5IFx1MDQzZlx1MDQzZVx1MDQzOFx1MDQ0MVx1MDQzYSIsbW9kYWxBZHZhbmNlZFNlYXJjaFRpdGxlOiJcdTA0MjBcdTA0MzBcdTA0NDFcdTA0NDhcdTA0MzhcdTA0NDBcdTA0MzVcdTA0M2RcdTA0M2RcdTA0NGJcdTA0MzkgXHUwNDNmXHUwNDNlXHUwNDM4XHUwNDQxXHUwNDNhIixtb2RhbEFkdmFuY2VkU2VhcmNoUHJpbWFyeUFjdGlvbkxhYmVsOiJcdTA0MjRcdTA0MzhcdTA0M2JcdTA0NGNcdTA0NDJcdTA0NDAiLG1vZGFsQWR2YW5jZWRTZWFyY2hTZWNvbmRhcnlBY3Rpb25MYWJlbDoiXHUwNDEyXHUwNDM1XHUwNDQwXHUwNDNkXHUwNDM4XHUwNDQxXHUwNDRjIixtb2RhbERpc2NsYWltZXJHcm91cFRpdGxlOiJcdTA0MWZcdTA0NDBcdTA0MzVcdTA0MzRcdTA0NDFcdTA0NDJcdTA0MzBcdTA0MzJcdTA0M2JcdTA0MzVcdTA0M2RcdTA0MzhcdTA0MzUgXHUwNDQwXHUwNDM1XHUwNDM3XHUwNDQzXHUwNDNiXHUwNDRjXHUwNDQyXHUwNDMwXHUwNDQyXHUwNDNlXHUwNDMyIFx1MDQzZVx1MDQ0Mlx1MDQ0NFx1MDQzOFx1MDQzYlx1MDQ0Y1x1MDQ0Mlx1MDQ0MFx1MDQzZVx1MDQzMlx1MDQzMFx1MDQzZFx1MDQzZSBcdTA0M2ZcdTA0M2U6In19O2xldCBpeD0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUpe3RoaXMuaW5maW5pdGVTY3JvbGw9ITEsdGhpcy5tb2RlbD1uZXcgZWMsdGhpcy5oYXNOZXh0PSEwLHRoaXMuaXNMb2FkaW5nPSExLHRoaXMucGFnZT0xLHRoaXMucGFnZVNpemU9MTAsdGhpcy5zZWFyY2hWYWx1ZT0iIix0aGlzLmFkdmFuY2VkRmlsdGVyTW9kYWxUaXRsZT0iIix0aGlzLmR5bmFtaWNGb3JtVmFsdWU9e30sdGhpcy5pc0FkdmFuY2VkRmlsdGVyPSExLHRoaXMubGFuZ3VhZ2U9cUQsdGhpcy5wcmltYXJ5QWN0aW9uPXthY3Rpb246KCk9Pnt0aGlzLml0ZW1zLmZvckVhY2goZT0+e2UuJHNlbGVjdGVkJiYodGhpcy5tb2RlbC5lbWl0KGUpLHRoaXMucG9Nb2RhbC5jbG9zZSgpKX0pfSxsYWJlbDp0aGlzLmxpdGVyYWxzLm1vZGFsUHJpbWFyeUFjdGlvbkxhYmVsfSx0aGlzLnNlY29uZGFyeUFjdGlvbj17YWN0aW9uOigpPT57dGhpcy5tb2RlbC5lbWl0KG51bGwpLHRoaXMucG9Nb2RhbC5jbG9zZSgpfSxsYWJlbDp0aGlzLmxpdGVyYWxzLm1vZGFsU2Vjb25kYXJ5QWN0aW9uTGFiZWx9LHRoaXMubGFuZ3VhZ2U9ZS5nZXRTaG9ydExhbmd1YWdlKCl9c2V0IGxpdGVyYWxzKGUpe2UgaW5zdGFuY2VvZiBPYmplY3QmJiEoZSBpbnN0YW5jZW9mIEFycmF5KT8odGhpcy5fbGl0ZXJhbHM9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbngucHQpLG54W3RoaXMubGFuZ3VhZ2VdKSxlKSxlLm1vZGFsVGl0bGUmJih0aGlzLnRpdGxlPXRoaXMubGl0ZXJhbHMubW9kYWxUaXRsZSkpOnRoaXMuX2xpdGVyYWxzPW54W3RoaXMubGFuZ3VhZ2VdLHRoaXMucHJpbWFyeUFjdGlvbi5sYWJlbD10aGlzLmxpdGVyYWxzLm1vZGFsUHJpbWFyeUFjdGlvbkxhYmVsLHRoaXMuc2Vjb25kYXJ5QWN0aW9uLmxhYmVsPXRoaXMubGl0ZXJhbHMubW9kYWxTZWNvbmRhcnlBY3Rpb25MYWJlbCx0aGlzLnNldFRhYmxlTGl0ZXJhbHMoKX1nZXQgbGl0ZXJhbHMoKXtyZXR1cm4gdGhpcy5fbGl0ZXJhbHN8fG54W3RoaXMubGFuZ3VhZ2VdfXNldCB0aXRsZShlKXt0aGlzLl90aXRsZT1RRChlLCJzdHJpbmciKT9lOnRoaXMubGl0ZXJhbHMubW9kYWxUaXRsZX1nZXQgdGl0bGUoKXtyZXR1cm4gdGhpcy5fdGl0bGV9bmdPbkRlc3Ryb3koKXt0aGlzLmZpbHRlclN1YnNjcmlwdGlvbiYmdGhpcy5maWx0ZXJTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSx0aGlzLnNlYXJjaFN1YnNjcmlwdGlvbiYmdGhpcy5zZWFyY2hTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSx0aGlzLnNob3dNb3JlU3Vic2NyaXB0aW9uJiZ0aGlzLnNob3dNb3JlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCl9bmdPbkluaXQoKXt0aGlzLnNldEFkdmFuY2VkRmlsdGVyTW9kYWxQcm9wZXJ0aWVzKCksdGhpcy5pbml0aWFsaXplRGF0YSgpLHRoaXMuc2V0VGFibGVMaXRlcmFscygpfWNyZWF0ZURpc2NsYWltZXIoKXt0aGlzLmRpc2NsYWltZXJHcm91cC5kaXNjbGFpbWVycz1bXSx0aGlzLnNlYXJjaFZhbHVlPSIiO2Zvcihjb25zdFtlLHRdb2YgT2JqZWN0LmVudHJpZXModGhpcy5keW5hbWljRm9ybVZhbHVlKSl0aGlzLmFkZERpc2NsYWltZXIodCxlKTtPYmplY3QudmFsdWVzKHRoaXMuZHluYW1pY0Zvcm1WYWx1ZSkuc29tZShlPT5udWxsIT1lKXx8dGhpcy5pbml0aWFsaXplRGF0YSgpfWFkZERpc2NsYWltZXIoZSx0KXt0aGlzLmRpc2NsYWltZXI9e3Byb3BlcnR5OnR9LHRoaXMuZGlzY2xhaW1lci52YWx1ZT1lLHRoaXMuZGlzY2xhaW1lckdyb3VwLmRpc2NsYWltZXJzPVsuLi50aGlzLmRpc2NsYWltZXJHcm91cC5kaXNjbGFpbWVycyx0aGlzLmRpc2NsYWltZXJdfW9uQ2hhbmdlRGlzY2xhaW1lckdyb3VwKCl7dGhpcy5zZWFyY2hWYWx1ZXx8KHRoaXMuaXNMb2FkaW5nPSEwLHRoaXMuc2VhcmNoVmFsdWU9IiIsdGhpcy5zZWFyY2hGaWx0ZXJlZEl0ZW1zKCkpfXNlYXJjaCgpe3RoaXMucGFnZT0xLHRoaXMuc2VhcmNoVmFsdWU/KHRoaXMuaXNMb2FkaW5nPSEwLHRoaXMuZGlzY2xhaW1lckdyb3VwLmRpc2NsYWltZXJzPVtdLHRoaXMuc2VhcmNoRmlsdGVyZWRJdGVtcygpKTp0aGlzLmluaXRpYWxpemVEYXRhKCl9c2VhcmNoRmlsdGVyZWRJdGVtcygpe3RoaXMuc2VhcmNoU3Vic2NyaXB0aW9uPXRoaXMuZ2V0RmlsdGVyZWRJdGVtcyh0aGlzLnNlYXJjaFZhbHVlKS5waXBlKEZwKGU9Pih0aGlzLnNldExvb2t1cFJlc3BvbnNlUHJvcGVydGllcygpLCRkKGUpKSkpLnN1YnNjcmliZShlPT50aGlzLnNldExvb2t1cFJlc3BvbnNlUHJvcGVydGllcyhlKSwoKT0+e30pfXNob3dNb3JlRXZlbnQoKXt0aGlzLnBhZ2UrKyx0aGlzLmlzTG9hZGluZz0hMCx0aGlzLnNob3dNb3JlU3Vic2NyaXB0aW9uPXRoaXMuZ2V0RmlsdGVyZWRJdGVtcyh0aGlzLnNlYXJjaFZhbHVlKS5waXBlKEZwKGU9Pih0aGlzLmhhc05leHQ9ITEsdGhpcy5pc0xvYWRpbmc9ITEsJGQoZSkpKSkuc3Vic2NyaWJlKGU9Pnt0aGlzLml0ZW1zPVsuLi50aGlzLml0ZW1zLC4uLmUuaXRlbXNdLHRoaXMuaGFzTmV4dD1lLmhhc05leHQsdGhpcy5pc0xvYWRpbmc9ITF9LCgpPT57fSl9c2V0QWR2YW5jZWRGaWx0ZXJNb2RhbFByb3BlcnRpZXMoKXt0aGlzLmFkdmFuY2VkRmlsdGVyTW9kYWxUaXRsZT10aGlzLmxpdGVyYWxzLm1vZGFsQWR2YW5jZWRTZWFyY2hUaXRsZSx0aGlzLmRpc2NsYWltZXJHcm91cD17dGl0bGU6dGhpcy5saXRlcmFscy5tb2RhbERpc2NsYWltZXJHcm91cFRpdGxlLGRpc2NsYWltZXJzOltdfSx0aGlzLnByaW1hcnlBY3Rpb25BZHZhbmNlZEZpbHRlcj17YWN0aW9uOigpPT57dGhpcy5kZXN0cm95RHluYW1pY0Zvcm0oKSx0aGlzLmlzQWR2YW5jZWRGaWx0ZXI9ITEsdGhpcy5jcmVhdGVEaXNjbGFpbWVyKCl9LGxhYmVsOnRoaXMubGl0ZXJhbHMubW9kYWxBZHZhbmNlZFNlYXJjaFByaW1hcnlBY3Rpb25MYWJlbH0sdGhpcy5zZWNvbmRhcnlBY3Rpb25BZHZhbmNlZEZpbHRlcj17YWN0aW9uOigpPT57dGhpcy5kZXN0cm95RHluYW1pY0Zvcm0oKSx0aGlzLmlzQWR2YW5jZWRGaWx0ZXI9ITF9LGxhYmVsOnRoaXMubGl0ZXJhbHMubW9kYWxBZHZhbmNlZFNlYXJjaFNlY29uZGFyeUFjdGlvbkxhYmVsfX1nZXRBZHZhbmNlZEZpbHRlcnMoZSl7aWYoZSYmZS5sZW5ndGg+MCl7Y29uc3QgdD17fTtsZXQgbjtyZXR1cm4gZS5mb3JFYWNoKGU9Pnt0W2UucHJvcGVydHldPWUudmFsdWUgaW5zdGFuY2VvZiBBcnJheT9lLnZhbHVlLmpvaW4oKTplLnZhbHVlLG49T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHQpfSksbn19Z2V0RmlsdGVyZWRJdGVtcyhlKXtjb25zdCB0PXRoaXMuZ2V0RmlsdGVyZWRQYXJhbXMoZSk7cmV0dXJuIHRoaXMuZmlsdGVyU2VydmljZS5nZXRGaWx0ZXJlZEl0ZW1zKHQpfWdldEZpbHRlcmVkUGFyYW1zKGUpe2NvbnN0e3BhZ2U6dCxwYWdlU2l6ZTpuLGZpbHRlclBhcmFtczppLHNvcnQ6c309dGhpcyxvPXt9LHI9e2ZpbHRlcjplLHBhZ2U6dCxwYWdlU2l6ZTpuLG9yZGVyOnRoaXMuZ2V0T3JkZXJQYXJhbShzKSxmaWx0ZXJQYXJhbXM6aSxhZHZhbmNlZEZpbHRlcnM6dGhpcy5nZXRBZHZhbmNlZEZpbHRlcnModGhpcy5kaXNjbGFpbWVyR3JvdXAuZGlzY2xhaW1lcnMpfTtmb3IoY29uc3QgYSBpbiByKXIuaGFzT3duUHJvcGVydHkoYSkmJnZvaWQgMCE9PXJbYV0mJihvW2FdPXJbYV0pO3JldHVybiBvfWdldE9yZGVyUGFyYW0oZT17dHlwZTp2b2lkIDB9KXtjb25zdHtjb2x1bW46dCx0eXBlOm59PWU7aWYodClyZXR1cm4gbj09PURrLkRlc2NlbmRpbmc/YC0ke3QucHJvcGVydHl9YDpgJHt0LnByb3BlcnR5fWB9aW5pdGlhbGl6ZURhdGEoKXt0aGlzLmlzTG9hZGluZz0hMCx0aGlzLmZpbHRlclN1YnNjcmlwdGlvbj10aGlzLmdldEZpbHRlcmVkSXRlbXMoIiIpLnN1YnNjcmliZShlPT57dGhpcy5zZXRMb29rdXBSZXNwb25zZVByb3BlcnRpZXMoZSl9KX1zZXRMb29rdXBSZXNwb25zZVByb3BlcnRpZXMoZSl7dmFyIHQsbjt0aGlzLml0ZW1zPW51bGwhPT0odD1udWxsPT1lP3ZvaWQgMDplLml0ZW1zKSYmdm9pZCAwIT09dD90OltdLHRoaXMuaGFzTmV4dD1udWxsIT09KG49bnVsbD09ZT92b2lkIDA6ZS5oYXNOZXh0KSYmdm9pZCAwIT09biYmbix0aGlzLmlzTG9hZGluZz0hMX1zZXRUYWJsZUxpdGVyYWxzKCl7dGhpcy50YWJsZUxpdGVyYWxzPXtub0NvbHVtbnM6dGhpcy5saXRlcmFscy5tb2RhbFRhYmxlTm9Db2x1bW5zLG5vRGF0YTp0aGlzLmxpdGVyYWxzLm1vZGFsVGFibGVOb0RhdGEsbG9hZGluZ0RhdGE6dGhpcy5saXRlcmFscy5tb2RhbFRhYmxlTG9hZGluZ0RhdGEsbG9hZE1vcmVEYXRhOnRoaXMubGl0ZXJhbHMubW9kYWxUYWJsZUxvYWRNb3JlRGF0YX19fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKHBTKSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsdmlld1F1ZXJ5OmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiZwYyhxRSw3KSwyJmUpe2xldCBlO2RjKGU9Z2MoKSkmJih0LnBvTW9kYWw9ZS5maXJzdCl9fSxpbnB1dHM6e2luZmluaXRlU2Nyb2xsOlsicC1pbmZpbml0ZS1zY3JvbGwiLCJpbmZpbml0ZVNjcm9sbCJdLGxpdGVyYWxzOlsicC1saXRlcmFscyIsImxpdGVyYWxzIl0sdGl0bGU6WyJwLXRpdGxlIiwidGl0bGUiXSxpdGVtczpbInAtaXRlbXMiLCJpdGVtcyJdLGFkdmFuY2VkRmlsdGVyczpbInAtYWR2YW5jZWQtZmlsdGVycyIsImFkdmFuY2VkRmlsdGVycyJdLGNvbHVtbnM6WyJwLWNvbHVtbnMiLCJjb2x1bW5zIl0sZmlsdGVyU2VydmljZTpbInAtZmlsdGVyLXNlcnZpY2UiLCJmaWx0ZXJTZXJ2aWNlIl0sZmlsdGVyUGFyYW1zOlsicC1maWx0ZXItcGFyYW1zIiwiZmlsdGVyUGFyYW1zIl19LG91dHB1dHM6e21vZGVsOiJwLWNoYW5nZS1tb2RlbCJ9fSksT3YoW3hTKCldLGUucHJvdG90eXBlLCJpbmZpbml0ZVNjcm9sbCIsdm9pZCAwKSxlfSkoKSxzeD0oKCk9PntjbGFzcyBlIGV4dGVuZHMgaXh7Y29uc3RydWN0b3IoZSx0KXtzdXBlcih0KSx0aGlzLmNvbXBvbmVudEZhY3Rvcnk9ZSx0aGlzLmtleVVwT2JzZXJ2YWJsZT1udWxsLHRoaXMuY29udGFpbmVySGVpZ2h0PTM3NX1uZ09uSW5pdCgpe3N1cGVyLm5nT25Jbml0KCksdGhpcy5zZXRUYWJsZUhlaWdodCgpfW5nQWZ0ZXJWaWV3SW5pdCgpe3RoaXMuaW5pdGlhbGl6ZUV2ZW50SW5wdXQoKX1pbml0aWFsaXplRXZlbnRJbnB1dCgpe3RoaXMua2V5VXBPYnNlcnZhYmxlPWlwKHRoaXMuaW5wdXRTZWFyY2hFbC5uYXRpdmVFbGVtZW50LCJrZXl1cCIpLnBpcGUoQXAoZT0+dGhpcy52YWxpZGF0ZUVudGVyUHJlc3NlZChlKSksTGIoNDAwKSksdGhpcy5rZXlVcE9ic2VydmFibGUuc3Vic2NyaWJlKCgpPT57dGhpcy5zZWFyY2goKX0pfW9wZW5Nb2RhbCgpe3RoaXMucG9Nb2RhbC5vcGVuKCl9c29ydEJ5KGUpe3RoaXMuc29ydD1lfWRlc3Ryb3lEeW5hbWljRm9ybSgpe3RoaXMuY29tcG9uZW50UmVmJiZ0aGlzLmNvbXBvbmVudFJlZi5kZXN0cm95KCl9b25BZHZhbmNlZEZpbHRlcigpe3RoaXMuc2V0dXBNb2RhbEFkdmFuY2VkRmlsdGVyKCksdGhpcy5jcmVhdGVEeW5hbWljRm9ybSgpfXNldFRhYmxlSGVpZ2h0KCl7dGhpcy50YWJsZUhlaWdodD10aGlzLmluZmluaXRlU2Nyb2xsPzMxNTozNzAsd2luZG93LmlubmVySGVpZ2h0PDYxNSYmKHRoaXMudGFibGVIZWlnaHQtPTUwLHRoaXMuY29udGFpbmVySGVpZ2h0LT01MCl9dmFsaWRhdGVFbnRlclByZXNzZWQoZSl7cmV0dXJuIDEzPT09ZS5rZXlDb2RlfXNldHVwTW9kYWxBZHZhbmNlZEZpbHRlcigpe3RoaXMuZHluYW1pY0Zvcm1WYWx1ZT17fSx0aGlzLmlzQWR2YW5jZWRGaWx0ZXI9ITB9Y3JlYXRlRHluYW1pY0Zvcm0oKXtjb25zdCBlPXRoaXMuY29tcG9uZW50RmFjdG9yeS5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh0eCk7dGhpcy5jb21wb25lbnRSZWY9dGhpcy5jb250YWluZXIuY3JlYXRlQ29tcG9uZW50KGUpLHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlLmZpZWxkcz10aGlzLmFkdmFuY2VkRmlsdGVycyx0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS52YWx1ZT10aGlzLmR5bmFtaWNGb3JtVmFsdWUsdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UuZm9ybU91dHB1dC5waXBlKEdwKGU9Pnt0aGlzLmR5bmFtaWNGb3JtPWUsdGhpcy5wcmltYXJ5QWN0aW9uQWR2YW5jZWRGaWx0ZXIuZGlzYWJsZWQ9dGhpcy5keW5hbWljRm9ybS5pbnZhbGlkfSksS2QoZT0+ZS52YWx1ZUNoYW5nZXMpKS5zdWJzY3JpYmUoKCk9Pnt0aGlzLnByaW1hcnlBY3Rpb25BZHZhbmNlZEZpbHRlci5kaXNhYmxlZD10aGlzLmR5bmFtaWNGb3JtLmludmFsaWR9KX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoTmEpLEFyKHBTKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLWxvb2t1cC1tb2RhbCJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24oZSx0KXtpZigxJmUmJihwYyhUXyw1KSxwYyhGXyw1LHhsKSksMiZlKXtsZXQgZTtkYyhlPWdjKCkpJiYodC5pbnB1dFNlYXJjaEVsPWUuZmlyc3QpLGRjKGU9Z2MoKSkmJih0LmNvbnRhaW5lcj1lLmZpcnN0KX19LGZlYXR1cmVzOlt1cl0sZGVjbHM6MTYsdmFyczoyMyxjb25zdHM6W1sicC1jbGljay1vdXQiLCJmYWxzZSIsInAtaGlkZS1jbG9zZSIsImZhbHNlIiwicC1zaXplIiwibGciLDMsInAtcHJpbWFyeS1hY3Rpb24iLCJwLXNlY29uZGFyeS1hY3Rpb24iLCJwLXRpdGxlIl0sWzMsImhpZGRlbiJdLFsxLCJwby1sb29rdXAtaGVhZGVyIiwicG8tcHVsbC1yaWdodCIsMywicC1vcHRpb25hbCJdLFsxLCJwby1sb29rdXAtZmlsdGVyLWNvbnRlbnQiXSxbMSwicG8tZmllbGQtaWNvbi1jb250YWluZXItcmlnaHQiXSxbMSwicG8taWNvbiIsInBvLWZpZWxkLWljb24iLCJwby1pY29uLXNlYXJjaCIsMywiY2xpY2siXSxbImljb25Mb29rdXAiLCIiXSxbIm5hbWUiLCJjb250ZW50U2VhcmNoIiwidHlwZSIsInRleHQiLDEsInBvLWlucHV0IiwicG8taW5wdXQtaWNvbi1yaWdodCIsMywibmdNb2RlbCIsInBsYWNlaG9sZGVyIiwibmdNb2RlbENoYW5nZSJdLFsiaW5wc2VhcmNoIiwiIl0sWyJjbGFzcyIsInBvLWxvb2t1cC1hZHZhbmNlZC1zZWFyY2giLDQsIm5nSWYiXSxbImNsYXNzIiwicG8tbWQtMTIiLDMsInAtZGlzY2xhaW1lcnMiLCJwLXRpdGxlIiwicC1jaGFuZ2UiLDQsIm5nSWYiXSxbMSwicG8tcm93IiwicG8tbG9va3VwLWNvbnRhaW5lci10YWJsZSJdLFsxLCJwby1tZC0xMiIsMywicC1zZWxlY3RhYmxlIiwicC1oaWRlLWRldGFpbCIsInAtc2luZ2xlLXNlbGVjdCIsInAtc29ydCIsInAtY29sdW1ucyIsInAtaGVpZ2h0IiwicC1pdGVtcyIsInAtbGl0ZXJhbHMiLCJwLWxvYWRpbmciLCJwLXNob3ctbW9yZS1kaXNhYmxlZCIsInAtaW5maW5pdGUtc2Nyb2xsIiwicC1zaG93LW1vcmUiLCJwLXNvcnQtYnkiXSxbImNvbnRhaW5lciIsIiJdLFsxLCJwby1sb29rdXAtYWR2YW5jZWQtc2VhcmNoIl0sWyJ0YWJpbmRleCIsIjAiLCJ0YWJpbmRleCIsIjAiLDEsInBvLWxvb2t1cC1hZHZhbmNlZC1zZWFyY2gtbGluayIsMywiY2xpY2siLCJrZXlkb3duLmVudGVyIl0sWzEsInBvLW1kLTEyIiwzLCJwLWRpc2NsYWltZXJzIiwicC10aXRsZSIsInAtY2hhbmdlIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoRnIoMCwicG8tbW9kYWwiLDApLEZyKDEsImRpdiIsMSksRnIoMiwicG8tZmllbGQtY29udGFpbmVyIiwyKSxGcigzLCJkaXYiLDMpLEZyKDQsImRpdiIsNCksRnIoNSwic3BhbiIsNSw2KSxCcigiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIHQuc2VhcmNoKCl9KSxJcigpLElyKCksRnIoNywiaW5wdXQiLDcsOCksQnIoIm5nTW9kZWxDaGFuZ2UiLGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlYXJjaFZhbHVlPWV9KSxJcigpLElyKCksa3IoOSxJXywzLDEsImRpdiIsOSksSXIoKSxrcigxMCxNXywxLDIsInBvLWRpc2NsYWltZXItZ3JvdXAiLDEwKSxGcigxMSwiZGl2IiwxMSksRnIoMTIsInBvLXRhYmxlIiwxMiksQnIoInAtc2hvdy1tb3JlIixmdW5jdGlvbigpe3JldHVybiB0LnNob3dNb3JlRXZlbnQoKX0pKCJwLXNvcnQtYnkiLGZ1bmN0aW9uKGUpe3JldHVybiB0LnNvcnRCeShlKX0pLElyKCksSXIoKSxJcigpLEZyKDEzLCJkaXYiLDEpLExyKDE0LG51bGwsMTMpLElyKCksSXIoKSksMiZlJiYoT3IoInAtcHJpbWFyeS1hY3Rpb24iLHQuaXNBZHZhbmNlZEZpbHRlcj90LnByaW1hcnlBY3Rpb25BZHZhbmNlZEZpbHRlcjp0LnByaW1hcnlBY3Rpb24pKCJwLXNlY29uZGFyeS1hY3Rpb24iLHQuaXNBZHZhbmNlZEZpbHRlcj90LnNlY29uZGFyeUFjdGlvbkFkdmFuY2VkRmlsdGVyOnQuc2Vjb25kYXJ5QWN0aW9uKSgicC10aXRsZSIsdC5pc0FkdmFuY2VkRmlsdGVyP3QuYWR2YW5jZWRGaWx0ZXJNb2RhbFRpdGxlOnQudGl0bGUpLFpzKDEpLE9yKCJoaWRkZW4iLHQuaXNBZHZhbmNlZEZpbHRlciksWnMoMSksT3IoInAtb3B0aW9uYWwiLCExKSxacyg1KSxPcigibmdNb2RlbCIsdC5zZWFyY2hWYWx1ZSkoInBsYWNlaG9sZGVyIix0LmxpdGVyYWxzLm1vZGFsUGxhY2Vob2xkZXIpLFpzKDIpLE9yKCJuZ0lmIix0LmFkdmFuY2VkRmlsdGVycyYmdC5hZHZhbmNlZEZpbHRlcnMubGVuZ3RoPjApLFpzKDEpLE9yKCJuZ0lmIiwhIXQuZGlzY2xhaW1lckdyb3VwKSxacygxKSxYcigiaGVpZ2h0Iix0LmNvbnRhaW5lckhlaWdodCwicHgiKSxacygxKSxPcigicC1zZWxlY3RhYmxlIiwhMCkoInAtaGlkZS1kZXRhaWwiLCEwKSgicC1zaW5nbGUtc2VsZWN0IiwhMCkoInAtc29ydCIsITApKCJwLWNvbHVtbnMiLHQuY29sdW1ucykoInAtaGVpZ2h0Iix0LnRhYmxlSGVpZ2h0KSgicC1pdGVtcyIsdC5pdGVtcykoInAtbGl0ZXJhbHMiLHQudGFibGVMaXRlcmFscykoInAtbG9hZGluZyIsdC5pc0xvYWRpbmcpKCJwLXNob3ctbW9yZS1kaXNhYmxlZCIsIXQuaGFzTmV4dCkoInAtaW5maW5pdGUtc2Nyb2xsIix0LmluZmluaXRlU2Nyb2xsKSxacygxKSxPcigiaGlkZGVuIiwhdC5pc0FkdmFuY2VkRmlsdGVyKSl9LGRpcmVjdGl2ZXM6W3FFLHdFLFJ2LEp2LERiLEZoLElrLGxFXSxlbmNhcHN1bGF0aW9uOjJ9KSxlfSkoKSxveD0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUpe3RoaXMucG9Db21wb25lbnRJbmplY3Rvcj1lLHRoaXMuc2VsZWN0VmFsdWVFdmVudD1uZXcgZWMsdGhpcy5jb21wb25lbnRSZWY9bnVsbH1vcGVuTW9kYWwoZSl7Y29uc3R7YWR2YW5jZWRGaWx0ZXJzOnQsc2VydmljZTpuLGNvbHVtbnM6aSxmaWx0ZXJQYXJhbXM6cyx0aXRsZTpvLGxpdGVyYWxzOnIsaW5maW5pdGVTY3JvbGw6YX09ZTt0aGlzLmNvbXBvbmVudFJlZj10aGlzLnBvQ29tcG9uZW50SW5qZWN0b3IuY3JlYXRlQ29tcG9uZW50SW5BcHBsaWNhdGlvbihzeCksdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UuYWR2YW5jZWRGaWx0ZXJzPXQsdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UudGl0bGU9byx0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5jb2x1bW5zPWksdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UuZmlsdGVyU2VydmljZT1uLHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlLmZpbHRlclBhcmFtcz1zLHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlLmxpdGVyYWxzPXIsdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UubW9kZWwuc3Vic2NyaWJlKGU9Pnt0aGlzLnNlbGVjdFZhbHVlKGUpfSksdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UuaW5maW5pdGVTY3JvbGw9YSx0aGlzLmNvbXBvbmVudFJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCksdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2Uub3Blbk1vZGFsKCl9c2VsZWN0VmFsdWUoZSl7ZSYmdGhpcy5zZWxlY3RWYWx1ZUV2ZW50LmVtaXQoZSksdGhpcy5jb21wb25lbnRSZWYuZGVzdHJveSgpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaShaRSkpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpO2NvbnN0IHJ4PVtZayxveCx7cHJvdmlkZTpQdix1c2VFeGlzdGluZzpzZSgoKT0+YXgpLG11bHRpOiEwfSx7cHJvdmlkZTpqdix1c2VFeGlzdGluZzpzZSgoKT0+YXgpLG11bHRpOiEwfV07bGV0IGF4PSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBaa3tjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoZSxuKSx0aGlzLnBvTG9va3VwTW9kYWxTZXJ2aWNlPXR9Z2V0IGF1dG9jb21wbGV0ZSgpe3JldHVybiB0aGlzLm5vQXV0b2NvbXBsZXRlPyJvZmYiOiJvbiJ9bmdBZnRlclZpZXdJbml0KCl7c3VwZXIubmdBZnRlclZpZXdJbml0KCksdGhpcy5hdXRvRm9jdXMmJnRoaXMuZm9jdXMoKX1uZ09uRGVzdHJveSgpe3RoaXMubW9kYWxTdWJzY3JpcHRpb24mJnRoaXMubW9kYWxTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX1uZ09uSW5pdCgpe3N1cGVyLm5nT25Jbml0KCl9Zm9jdXMoKXt0aGlzLmRpc2FibGVkfHx0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC5mb2N1cygpfW9wZW5Mb29rdXAoKXtpZih0aGlzLmlzQWxsb3dlZE9wZW5Nb2RhbCgpKXtjb25zdHthZHZhbmNlZEZpbHRlcnM6ZSxzZXJ2aWNlOnQsY29sdW1uczpuLGZpbHRlclBhcmFtczppLGxpdGVyYWxzOnMsaW5maW5pdGVTY3JvbGw6b309dGhpczt0aGlzLnBvTG9va3VwTW9kYWxTZXJ2aWNlLm9wZW5Nb2RhbCh7YWR2YW5jZWRGaWx0ZXJzOmUsc2VydmljZTp0LGNvbHVtbnM6bixmaWx0ZXJQYXJhbXM6aSx0aXRsZTp0aGlzLmxhYmVsLGxpdGVyYWxzOnMsaW5maW5pdGVTY3JvbGw6b30pLHRoaXMubW9kYWxTdWJzY3JpcHRpb258fCh0aGlzLm1vZGFsU3Vic2NyaXB0aW9uPXRoaXMucG9Mb29rdXBNb2RhbFNlcnZpY2Uuc2VsZWN0VmFsdWVFdmVudC5zdWJzY3JpYmUoZT0+e3RoaXMuc2VsZWN0TW9kZWwoZSl9KSl9fXNldFZpZXdWYWx1ZShlLHQpe3RoaXMuZmllbGRGb3JtYXQ/dGhpcy5zZXRJbnB1dFZhbHVlV2lwb2llbGRGb3JtYXQodCk6dGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWU9dGhpcy52YWx1ZVRvTW9kZWx8fDA9PT10aGlzLnZhbHVlVG9Nb2RlbD9lOiIifWdldFZpZXdWYWx1ZSgpe3JldHVybiB0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZX1zZWFyY2hFdmVudCgpe3ZhciBlO251bGw9PT0oZT10aGlzLm9uVG91Y2hlZCl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzKTtjb25zdCB0PXRoaXMuZ2V0Vmlld1ZhbHVlKCk7dGhpcy5vbGRWYWx1ZS50b1N0cmluZygpIT09dCYmdGhpcy5zZWFyY2hCeUlkKHQpfWlzQWxsb3dlZE9wZW5Nb2RhbCgpe3JldHVybiB0aGlzLnNlcnZpY2V8fGNvbnNvbGUud2FybigiTm8gc2VydmljZSBpbmZvcm1lZCIpLCEoIXRoaXMuc2VydmljZXx8dGhpcy5kaXNhYmxlZCl9Zm9ybWF0RmllbGRzKGUsdCl7bGV0IG47aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IoY29uc3QgaSBvZiB0KWUmJmVbaV0mJihuPW4/bisiIC0gIitlW2ldOmVbaV0pO3JldHVybiBufHwobj1lW3RoaXMuZmllbGRWYWx1ZV0pLG59c2V0SW5wdXRWYWx1ZVdpcG9pZWxkRm9ybWF0KGUpe2NvbnN0IHQ9MD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aDtsZXQgbjtuPUFycmF5LmlzQXJyYXkodGhpcy5maWVsZEZvcm1hdCk/dGhpcy5mb3JtYXRGaWVsZHMoZSx0aGlzLmZpZWxkRm9ybWF0KTp0aGlzLmZpZWxkRm9ybWF0KGUpLHRoaXMub2xkVmFsdWU9dD8iIjpuLHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlPXQ/IiI6bn19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoWWspLEFyKG94KSxBcihscikpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby1sb29rdXAiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiZwYyhXeSw3LFVhKSwyJmUpe2xldCBlO2RjKGU9Z2MoKSkmJih0LmlucHV0RWw9ZS5maXJzdCl9fSxmZWF0dXJlczpbTGEocngpLHVyXSxkZWNsczo4LHZhcnM6MTEsY29uc3RzOltbMywicC1sYWJlbCIsInAtaGVscCIsInAtb3B0aW9uYWwiXSxbMSwicG8tZmllbGQtY29udGFpbmVyLWNvbnRlbnQiXSxbInR5cGUiLCJ0ZXh0IiwxLCJwby1pbnB1dCIsInBvLWlucHV0LWljb24tcmlnaHQiLDMsImF1dG9jb21wbGV0ZSIsImRpc2FibGVkIiwicGxhY2Vob2xkZXIiLCJyZXF1aXJlZCIsImJsdXIiXSxbImlucCIsIiJdLFsxLCJwby1maWVsZC1pY29uLWNvbnRhaW5lci1yaWdodCJdLFsidGFiaW5kZXgiLCItMSIsMSwicG8taWNvbiIsInBvLWZpZWxkLWljb24iLCJwby1pY29uLXNlYXJjaCIsMywiY2xpY2siLCJmb2N1cyJdLFsiaWNvbkxvb2t1cCIsIiJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpe2lmKDEmZSl7Y29uc3QgZT1ScigpO0ZyKDAsInBvLWZpZWxkLWNvbnRhaW5lciIsMCksRnIoMSwiZGl2IiwxKSxGcigyLCJpbnB1dCIsMiwzKSxCcigiYmx1ciIsZnVuY3Rpb24oKXtyZXR1cm4gdC5zZWFyY2hFdmVudCgpfSksSXIoKSxGcig0LCJkaXYiLDQpLEZyKDUsInNwYW4iLDUsNiksQnIoImNsaWNrIixmdW5jdGlvbigpe3JldHVybiB0Lm9wZW5Mb29rdXAoKX0pKCJmb2N1cyIsZnVuY3Rpb24oKXtyZXR1cm4gSXQoZSkseHIoMykuZm9jdXMoKX0pLElyKCksSXIoKSxJcigpLE1yKDcsInBvLWZpZWxkLWNvbnRhaW5lci1ib3R0b20iKSxJcigpfTImZSYmKE9yKCJwLWxhYmVsIix0LmxhYmVsKSgicC1oZWxwIix0LmhlbHApKCJwLW9wdGlvbmFsIiwhdC5yZXF1aXJlZCYmdC5vcHRpb25hbCksWnMoMiksT3IoImF1dG9jb21wbGV0ZSIsdC5hdXRvY29tcGxldGUpKCJkaXNhYmxlZCIsdC5kaXNhYmxlZCkoInBsYWNlaG9sZGVyIix0LnBsYWNlaG9sZGVyKSgicmVxdWlyZWQiLHQucmVxdWlyZWQpLFpzKDMpLGVhKCJwby1maWVsZC1pY29uIiwhdC5kaXNhYmxlZCkoInBvLWZpZWxkLWljb24tZGlzYWJsZWQiLHQuZGlzYWJsZWQpKX0sZGlyZWN0aXZlczpbd0UseUVdLGVuY2Fwc3VsYXRpb246Mn0pLGV9KSgpLGx4PSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLmlzU2VydmVyU2VhcmNoaW5nPSExLHRoaXMuaGlkZVNlYXJjaD0hMSx0aGlzLnNlbGVjdGVkT3B0aW9ucz1bXSx0aGlzLm9wdGlvbnM9W10sdGhpcy52aXNpYmxlT3B0aW9ucz1bXSx0aGlzLmNoYW5nZVNlYXJjaD1uZXcgZWMsdGhpcy5jaGFuZ2U9bmV3IGVjLHRoaXMuY2xvc2VEcm9wZG93bj1uZXcgZWMsdGhpcy5zY3JvbGxUb3A9MCx0aGlzLnNob3c9ITF9Z2V0IGhhc09wdGlvbnMoKXt2YXIgZTtyZXR1cm4hIShudWxsPT09KGU9dGhpcy5vcHRpb25zKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5sZW5ndGgpfW9uS2V5ZG93bihlKXs5PT09ZS5rZXlDb2RlJiZ0aGlzLmNsb3NlRHJvcGRvd24uZW1pdCgpfXNjcm9sbFRvKGUpe3RoaXMuc2Nyb2xsVG9wPWU8PTI/MDo0NCplLTg4fWlzU2VsZWN0ZWRJdGVtKGUpe3JldHVybiB0aGlzLnNlbGVjdGVkT3B0aW9ucy5zb21lKHQ9PnQudmFsdWU9PT1lLnZhbHVlKX1jbGlja0l0ZW0oZSx0KXt0aGlzLnVwZGF0ZVNlbGVjdGVkVmFsdWVzKGUsdCksdGhpcy5oaWRlU2VhcmNofHx0aGlzLnNlYXJjaEVsZW1lbnQuc2V0Rm9jdXMoKX11cGRhdGVTZWxlY3RlZFZhbHVlcyhlLHQpe2U/dGhpcy5zZWxlY3RlZE9wdGlvbnMucHVzaCh0KTp0aGlzLnNlbGVjdGVkT3B0aW9ucz10aGlzLnNlbGVjdGVkT3B0aW9ucy5maWx0ZXIoZT0+ZS52YWx1ZSE9PXQudmFsdWUpLHRoaXMuY2hhbmdlLmVtaXQodGhpcy5zZWxlY3RlZE9wdGlvbnMpfWNhbGxDaGFuZ2VTZWFyY2goZSl7dGhpcy5jaGFuZ2VTZWFyY2guZW1pdChlKX1jb250cm9sVmlzaWJpbGl0eShlKXt0aGlzLnNob3c9ZSxzZXRUaW1lb3V0KCgpPT57ZSYmdGhpcy5zZWFyY2hFbGVtZW50JiYhdGhpcy5oaWRlU2VhcmNoJiYodGhpcy5zZWFyY2hFbGVtZW50LnNldEZvY3VzKCksdGhpcy5zZWFyY2hFbGVtZW50LmNsZWFuKCkpfSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby1tdWx0aXNlbGVjdC1kcm9wZG93biJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24oZSx0KXtpZigxJmUmJihwYyhGXyw3LFVhKSxwYyhQXyw3LFVhKSxwYyhWXyw1KSksMiZlKXtsZXQgZTtkYyhlPWdjKCkpJiYodC5jb250YWluZXI9ZS5maXJzdCksZGMoZT1nYygpKSYmKHQudWxFbGVtZW50PWUuZmlyc3QpLGRjKGU9Z2MoKSkmJih0LnNlYXJjaEVsZW1lbnQ9ZS5maXJzdCl9fSxob3N0QmluZGluZ3M6ZnVuY3Rpb24oZSx0KXsxJmUmJkJyKCJrZXlkb3duIixmdW5jdGlvbihlKXtyZXR1cm4gdC5vbktleWRvd24oZSl9KX0saW5wdXRzOntpc1NlcnZlclNlYXJjaGluZzpbInAtc2VhcmNoaW5nIiwiaXNTZXJ2ZXJTZWFyY2hpbmciXSxoaWRlU2VhcmNoOlsicC1oaWRlLXNlYXJjaCIsImhpZGVTZWFyY2giXSxzZWxlY3RlZE9wdGlvbnM6WyJwLXNlbGVjdGVkLW9wdGlvbnMiLCJzZWxlY3RlZE9wdGlvbnMiXSxvcHRpb25zOlsicC1vcHRpb25zIiwib3B0aW9ucyJdLHZpc2libGVPcHRpb25zOlsicC12aXNpYmxlLW9wdGlvbnMiLCJ2aXNpYmxlT3B0aW9ucyJdLGxpdGVyYWxzOlsicC1saXRlcmFscyIsImxpdGVyYWxzIl0scGxhY2Vob2xkZXJTZWFyY2g6WyJwLXBsYWNlaG9sZGVyLXNlYXJjaCIsInBsYWNlaG9sZGVyU2VhcmNoIl19LG91dHB1dHM6e2NoYW5nZVNlYXJjaDoicC1jaGFuZ2Utc2VhcmNoIixjaGFuZ2U6InAtY2hhbmdlIixjbG9zZURyb3Bkb3duOiJwLWNsb3NlLWRyb3Bkb3duIn0sZGVjbHM6OCx2YXJzOjYsY29uc3RzOltbMSwicG8tbXVsdGlzZWxlY3QtY29udGFpbmVyIiwzLCJoaWRkZW4iXSxbImNvbnRhaW5lciIsIiJdLFszLCJwLWxpdGVyYWxzIiwicC1wbGFjZWhvbGRlciIsInAtY2hhbmdlIiw0LCJuZ0lmIl0sWzEsInBvLW11bHRpc2VsZWN0LWl0ZW1zLWNvbnRhaW5lciIsMywic2Nyb2xsVG9wIl0sWyJ1bEVsZW1lbnQiLCIiXSxbImNsYXNzIiwicG8tbXVsdGlzZWxlY3QtY29udGFpbmVyLW5vLWRhdGEgcG8tdGV4dC1jZW50ZXIiLDQsIm5nSWYiXSxbImNsYXNzIiwicG8tbXVsdGlzZWxlY3QtY29udGFpbmVyLWxvYWRpbmcgcG8tdGV4dC1jZW50ZXIiLDQsIm5nSWYiXSxbNCwibmdJZiJdLFszLCJwLWxpdGVyYWxzIiwicC1wbGFjZWhvbGRlciIsInAtY2hhbmdlIl0sWyJzZWFyY2hFbGVtZW50IiwiIl0sWzEsInBvLW11bHRpc2VsZWN0LWNvbnRhaW5lci1uby1kYXRhIiwicG8tdGV4dC1jZW50ZXIiXSxbMSwicG8tbXVsdGlzZWxlY3QtY29udGFpbmVyLWxvYWRpbmciLCJwby10ZXh0LWNlbnRlciJdLFszLCJwLWxhYmVsIiwicC1zZWxlY3RlZCIsInAtY2hhbmdlIiw0LCJuZ0ZvciIsIm5nRm9yT2YiXSxbMywicC1sYWJlbCIsInAtc2VsZWN0ZWQiLCJwLWNoYW5nZSJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYmKEZyKDAsImRpdiIsMCwxKSxrcigyLExfLDIsMiwicG8tbXVsdGlzZWxlY3Qtc2VhcmNoIiwyKSxGcigzLCJ1bCIsMyw0KSxrcig1LFJfLDMsMSwiZGl2Iiw1KSxrcig2LGpfLDIsMCwiZGl2Iiw2KSxrcig3LEJfLDIsMSwibmctY29udGFpbmVyIiw3KSxJcigpLElyKCkpLDImZSYmKE9yKCJoaWRkZW4iLCF0LnNob3cpLFpzKDIpLE9yKCJuZ0lmIiwhdC5oaWRlU2VhcmNoKSxacygxKSxPcigic2Nyb2xsVG9wIix0LnNjcm9sbFRvcCksWnMoMiksT3IoIm5nSWYiLCF0LnZpc2libGVPcHRpb25zLmxlbmd0aCYmIXQuaXNTZXJ2ZXJTZWFyY2hpbmcpLFpzKDEpLE9yKCJuZ0lmIix0LmlzU2VydmVyU2VhcmNoaW5nKSxacygxKSxPcigibmdJZiIsIXQuaXNTZXJ2ZXJTZWFyY2hpbmcpKX0sZGlyZWN0aXZlczpmdW5jdGlvbigpe3JldHVybltGaCxneCxfUyxPaCxmeF19LGVuY2Fwc3VsYXRpb246Mn0pLGV9KSgpO3ZhciBjeD1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLnN0YXJ0c1dpdGg9MF09InN0YXJ0c1dpdGgiLGVbZS5jb250YWlucz0xXT0iY29udGFpbnMiLGVbZS5lbmRzV2l0aD0yXT0iZW5kc1dpdGgiLGV9KHt9KTtjb25zdCB1eD17ZW46e25vRGF0YToiTm8gZGF0YSBmb3VuZCIscGxhY2Vob2xkZXJTZWFyY2g6IlNlYXJjaCJ9LGVzOntub0RhdGE6IkRhdG9zIG5vIGVuY29udHJhZG9zIixwbGFjZWhvbGRlclNlYXJjaDoiQnVzY2EifSxwdDp7bm9EYXRhOiJOZW5odW0gZGFkbyBlbmNvbnRyYWRvIixwbGFjZWhvbGRlclNlYXJjaDoiQnVzY2FyIn0scnU6e25vRGF0YToiXHUwNDE0XHUwNDMwXHUwNDNkXHUwNDNkXHUwNDRiXHUwNDM1IFx1MDQzZFx1MDQzNSBcdTA0M2RcdTA0MzBcdTA0MzlcdTA0MzRcdTA0MzVcdTA0M2RcdTA0NGIiLHBsYWNlaG9sZGVyU2VhcmNoOiJcdTA0MzhcdTA0NDFcdTA0M2FcdTA0MzBcdTA0NDJcdTA0NGMifX07bGV0IGh4PSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoZSl7dGhpcy5hdXRvRm9jdXM9ITEsdGhpcy5wbGFjZWhvbGRlcj0iIix0aGlzLnBsYWNlaG9sZGVyU2VhcmNoPSIiLHRoaXMuY2hhbmdlPW5ldyBlYyx0aGlzLnNlbGVjdGVkT3B0aW9ucz1bXSx0aGlzLnZpc2libGVPcHRpb25zRHJvcGRvd249W10sdGhpcy52aXNpYmxlRGlzY2xhaW1lcnM9W10sdGhpcy5pc1NlcnZlclNlYXJjaGluZz0hMSx0aGlzLmlzRmlyc3RGaWx0ZXI9ITAsdGhpcy5maWx0ZXJTdWJqZWN0PW5ldyBELHRoaXMub25Nb2RlbFRvdWNoZWQ9bnVsbCx0aGlzLl9kZWJvdW5jZVRpbWU9NDAwLHRoaXMuX2Rpc2FibGVkPSExLHRoaXMuX2ZpbHRlck1vZGU9Y3guc3RhcnRzV2l0aCx0aGlzLl9oaWRlU2VhcmNoPSExLHRoaXMuX3JlcXVpcmVkPSExLHRoaXMuX3NvcnQ9ITEsdGhpcy5fYXV0b0hlaWdodD0hMSx0aGlzLmxhbmd1YWdlPWUuZ2V0U2hvcnRMYW5ndWFnZSgpfXNldCBmaWx0ZXJTZXJ2aWNlKGUpe3RoaXMuX2ZpbHRlclNlcnZpY2U9ZSx0aGlzLmF1dG9IZWlnaHQ9dm9pZCAwPT09dGhpcy5hdXRvSGVpZ2h0SW5pdGlhbFZhbHVlfHx0aGlzLmF1dG9IZWlnaHRJbml0aWFsVmFsdWUsdGhpcy5vcHRpb25zPVtdfWdldCBmaWx0ZXJTZXJ2aWNlKCl7cmV0dXJuIHRoaXMuX2ZpbHRlclNlcnZpY2V9c2V0IGF1dG9IZWlnaHQoZSl7dGhpcy5fYXV0b0hlaWdodD1lLHRoaXMuYXV0b0hlaWdodEluaXRpYWxWYWx1ZT1lfWdldCBhdXRvSGVpZ2h0KCl7cmV0dXJuIHRoaXMuX2F1dG9IZWlnaHR9c2V0IGRlYm91bmNlVGltZShlKXtjb25zdCB0PXBhcnNlSW50KGUsMTApO3RoaXMuX2RlYm91bmNlVGltZT0haXNOYU4odCkmJnQ+MD90OjQwMH1nZXQgZGVib3VuY2VUaW1lKCl7cmV0dXJuIHRoaXMuX2RlYm91bmNlVGltZX1zZXQgbGl0ZXJhbHMoZSl7dGhpcy5fbGl0ZXJhbHM9ZSBpbnN0YW5jZW9mIE9iamVjdCYmIShlIGluc3RhbmNlb2YgQXJyYXkpP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHV4LnB0KSx1eFt0aGlzLmxhbmd1YWdlXSksZSk6dXhbdGhpcy5sYW5ndWFnZV19Z2V0IGxpdGVyYWxzKCl7cmV0dXJuIHRoaXMuX2xpdGVyYWxzfHx1eFt0aGlzLmxhbmd1YWdlXX1zZXQgcmVxdWlyZWQoZSl7dGhpcy5fcmVxdWlyZWQ9IiI9PT1lfHxZRChlKSx0aGlzLnZhbGlkYXRlTW9kZWwoKX1nZXQgcmVxdWlyZWQoKXtyZXR1cm4gdGhpcy5fcmVxdWlyZWR9c2V0IGRpc2FibGVkKGUpe3RoaXMuX2Rpc2FibGVkPSIiPT09ZXx8WUQoZSksdGhpcy52YWxpZGF0ZU1vZGVsKCksdGhpcy51cGRhdGVWaXNpYmxlSXRlbXMoKX1nZXQgZGlzYWJsZWQoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZWR9c2V0IGhpZGVTZWFyY2goZSl7dGhpcy5faGlkZVNlYXJjaD0iIj09PWV8fFlEKGUpfWdldCBoaWRlU2VhcmNoKCl7cmV0dXJuIHRoaXMuX2hpZGVTZWFyY2h9c2V0IG9wdGlvbnMoZSl7dGhpcy5fb3B0aW9ucz1lLHRoaXMudmFsaWRBbmRTb3J0T3B0aW9ucygpfWdldCBvcHRpb25zKCl7cmV0dXJuIHRoaXMuX29wdGlvbnN9c2V0IHNvcnQoZSl7dGhpcy5fc29ydD0iIj09PWV8fFlEKGUpLHRoaXMudmFsaWRBbmRTb3J0T3B0aW9ucygpfWdldCBzb3J0KCl7cmV0dXJuIHRoaXMuX3NvcnR9c2V0IGZpbHRlck1vZGUoZSl7c3dpdGNoKHRoaXMuX2ZpbHRlck1vZGU9ZSBpbiBjeD9lOmN4LnN0YXJ0c1dpdGgsdGhpcy5fZmlsdGVyTW9kZS50b1N0cmluZygpKXtjYXNlInN0YXJ0c1dpdGgiOnRoaXMuX2ZpbHRlck1vZGU9Y3guc3RhcnRzV2l0aDticmVhaztjYXNlImNvbnRhaW5zIjp0aGlzLl9maWx0ZXJNb2RlPWN4LmNvbnRhaW5zO2JyZWFrO2Nhc2UiZW5kc1dpdGgiOnRoaXMuX2ZpbHRlck1vZGU9Y3guZW5kc1dpdGh9fWdldCBmaWx0ZXJNb2RlKCl7cmV0dXJuIHRoaXMuX2ZpbHRlck1vZGV9bmdPbkluaXQoKXt0aGlzLmZpbHRlclNlcnZpY2UmJnRoaXMuZmlsdGVyU3ViamVjdC5waXBlKExiKHRoaXMuZGVib3VuY2VUaW1lKSxCYigpLEdwKCgpPT50aGlzLmlzU2VydmVyU2VhcmNoaW5nPSEwKSxLZChlPT50aGlzLmFwcGx5RmlsdGVyKGUpKSxHcCgoKT0+dGhpcy5pc1NlcnZlclNlYXJjaGluZz0hMSkpLnN1YnNjcmliZSgpLHRoaXMudXBkYXRlTGlzdCh0aGlzLm9wdGlvbnMpfXZhbGlkQW5kU29ydE9wdGlvbnMoKXt0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5sZW5ndGgmJihvUyh0aGlzLm9wdGlvbnMpLHNTKHRoaXMub3B0aW9ucyksdGhpcy5zZXRVbmRlZmluZWRMYWJlbHModGhpcy5vcHRpb25zKSx0aGlzLnNvcnQmJnRoaXMub3B0aW9ucy5zb3J0KChlLHQpPT4oZT1lLmxhYmVsLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSk8KHQ9dC5sYWJlbC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpPy0xOmU+dD8xOjApKX1zZXRVbmRlZmluZWRMYWJlbHMoZSl7ZS5mb3JFYWNoKGU9PntlLmxhYmVsfHwoZS5sYWJlbD1lLnZhbHVlKX0pfXVwZGF0ZUxpc3QoZSl7ZSYmKHRoaXMudmlzaWJsZU9wdGlvbnNEcm9wZG93bj1lKX1jYWxsT25DaGFuZ2UoZSl7dGhpcy5vbk1vZGVsQ2hhbmdlJiYodGhpcy5vbk1vZGVsQ2hhbmdlKHRoaXMuZ2V0VmFsdWVzRnJvbU9wdGlvbnMoZSkpLHRoaXMuZXZlbnRDaGFuZ2UoZSkpfWV2ZW50Q2hhbmdlKGUpe2UmJnRoaXMubGFzdExlbmd0aE1vZGVsIT09ZS5sZW5ndGgmJnRoaXMuY2hhbmdlLmVtaXQoZSksdGhpcy5sYXN0TGVuZ3RoTW9kZWw9ZT9lLmxlbmd0aDpudWxsfWdldFZhbHVlc0Zyb21PcHRpb25zKGUpe3JldHVybiBlJiZlLmxlbmd0aD9lLm1hcChlPT5lLnZhbHVlKTpbXX1nZXRMYWJlbEJ5VmFsdWUoZSl7Y29uc3QgdD10aGlzLm9wdGlvbnMuZmluZEluZGV4KHQ9PnQudmFsdWU9PT1lKTtyZXR1cm4gdGhpcy5vcHRpb25zW3RdLmxhYmVsfXNlYXJjaEJ5TGFiZWwoZSx0LG4pe2lmKGUmJnQmJnQubGVuZ3RoKXtjb25zdCBpPVtdO3QuZm9yRWFjaCh0PT57dC5sYWJlbCYmdGhpcy5jb21wYXJlTWV0aG9kKGUsdCxuKSYmaS5wdXNoKHQpfSksdGhpcy52aXNpYmxlT3B0aW9uc0Ryb3Bkb3duPWl9fWNvbXBhcmVNZXRob2QoZSx0LG4pe3N3aXRjaChuKXtjYXNlIGN4LnN0YXJ0c1dpdGg6cmV0dXJuIHRoaXMuc3RhcnRzV2l0aChlLHQpO2Nhc2UgY3guY29udGFpbnM6cmV0dXJuIHRoaXMuY29udGFpbnMoZSx0KTtjYXNlIGN4LmVuZHNXaXRoOnJldHVybiB0aGlzLmVuZHNXaXRoKGUsdCl9fXN0YXJ0c1dpdGgoZSx0KXtyZXR1cm4gdC5sYWJlbC50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoZS50b0xvd2VyQ2FzZSgpKX1jb250YWlucyhlLHQpe3JldHVybiB0LmxhYmVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihlLnRvTG93ZXJDYXNlKCkpPi0xfWVuZHNXaXRoKGUsdCl7cmV0dXJuIHQubGFiZWwudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChlLnRvTG93ZXJDYXNlKCkpfXZhbGlkYXRlKGUpe3JldHVybiBERSh0aGlzLnJlcXVpcmVkLHRoaXMuZGlzYWJsZWQsZS52YWx1ZSk/e3JlcXVpcmVkOnt2YWxpZDohMX19Om51bGx9dXBkYXRlU2VsZWN0ZWRPcHRpb25zKGUsdD10aGlzLm9wdGlvbnMpe3RoaXMuc2VsZWN0ZWRPcHRpb25zPVtdLHRoaXMuZmlsdGVyU2VydmljZT90aGlzLnNlbGVjdGVkT3B0aW9ucz1lOmUuZm9yRWFjaChlPT57dC5mb3JFYWNoKHQ9Pnt0LnZhbHVlPT09ZS52YWx1ZSYmdGhpcy5zZWxlY3RlZE9wdGlvbnMucHVzaCh0KX0pfSksdGhpcy51cGRhdGVWaXNpYmxlSXRlbXMoKX13cml0ZVZhbHVlKGUpe2U9ZXx8W10sdGhpcy5maWx0ZXJTZXJ2aWNlJiZlLmxlbmd0aD90aGlzLmdldE9iamVjdHNCeVZhbHVlc1N1YnNjcmlwdGlvbj10aGlzLmZpbHRlclNlcnZpY2UuZ2V0T2JqZWN0c0J5VmFsdWVzKGUpLnN1YnNjcmliZShlPT57dGhpcy51cGRhdGVTZWxlY3RlZE9wdGlvbnMoZSksdGhpcy5jYWxsT25DaGFuZ2UodGhpcy5zZWxlY3RlZE9wdGlvbnMpfSk6KHRoaXMudXBkYXRlU2VsZWN0ZWRPcHRpb25zKGUubWFwKGU9Pih7dmFsdWU6ZX0pKSksdGhpcy5zZWxlY3RlZE9wdGlvbnMmJnRoaXMuc2VsZWN0ZWRPcHRpb25zLmxlbmd0aDxlLmxlbmd0aCYmdGhpcy5jYWxsT25DaGFuZ2UodGhpcy5zZWxlY3RlZE9wdGlvbnMpKX1zZXREaXNhYmxlZFN0YXRlKGUpe3RoaXMuZGlzYWJsZWQ9ZX1yZWdpc3Rlck9uQ2hhbmdlKGUpe3RoaXMub25Nb2RlbENoYW5nZT1lfXJlZ2lzdGVyT25Ub3VjaGVkKGUpe3RoaXMub25Nb2RlbFRvdWNoZWQ9ZX1yZWdpc3Rlck9uVmFsaWRhdG9yQ2hhbmdlKGUpe3RoaXMudmFsaWRhdG9yQ2hhbmdlPWV9dmFsaWRhdGVNb2RlbCgpe3RoaXMudmFsaWRhdG9yQ2hhbmdlJiZ0aGlzLnZhbGlkYXRvckNoYW5nZSgpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShBcihwUykpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLGlucHV0czp7YXV0b0ZvY3VzOlsicC1hdXRvLWZvY3VzIiwiYXV0b0ZvY3VzIl0scGxhY2Vob2xkZXI6WyJwLXBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXIiXSxwbGFjZWhvbGRlclNlYXJjaDpbInAtcGxhY2Vob2xkZXItc2VhcmNoIiwicGxhY2Vob2xkZXJTZWFyY2giXSxmaWx0ZXJTZXJ2aWNlOlsicC1maWx0ZXItc2VydmljZSIsImZpbHRlclNlcnZpY2UiXSxhdXRvSGVpZ2h0OlsicC1hdXRvLWhlaWdodCIsImF1dG9IZWlnaHQiXSxvcHRpb25zOlsicC1vcHRpb25zIiwib3B0aW9ucyJdLGRlYm91bmNlVGltZTpbInAtZGVib3VuY2UtdGltZSIsImRlYm91bmNlVGltZSJdLGxpdGVyYWxzOlsicC1saXRlcmFscyIsImxpdGVyYWxzIl0scmVxdWlyZWQ6WyJwLXJlcXVpcmVkIiwicmVxdWlyZWQiXSxkaXNhYmxlZDpbInAtZGlzYWJsZWQiLCJkaXNhYmxlZCJdLGhpZGVTZWFyY2g6WyJwLWhpZGUtc2VhcmNoIiwiaGlkZVNlYXJjaCJdLHNvcnQ6WyJwLXNvcnQiLCJzb3J0Il0sZmlsdGVyTW9kZTpbInAtZmlsdGVyLW1vZGUiLCJmaWx0ZXJNb2RlIl0sbGFiZWw6WyJwLWxhYmVsIiwibGFiZWwiXSxoZWxwOlsicC1oZWxwIiwiaGVscCJdLG9wdGlvbmFsOlsicC1vcHRpb25hbCIsIm9wdGlvbmFsIl0sbmFtZToibmFtZSJ9LG91dHB1dHM6e2NoYW5nZToicC1jaGFuZ2UifX0pLE92KFt4UygpXSxlLnByb3RvdHlwZSwiYXV0b0ZvY3VzIix2b2lkIDApLE92KFt4UygpXSxlLnByb3RvdHlwZSwiYXV0b0hlaWdodCIsbnVsbCksZX0pKCk7Y29uc3QgZHg9W1ZTLHtwcm92aWRlOlB2LHVzZUV4aXN0aW5nOnNlKCgpPT5weCksbXVsdGk6ITB9LHtwcm92aWRlOmp2LHVzZUV4aXN0aW5nOnNlKCgpPT5weCksbXVsdGk6ITB9XTtsZXQgcHg9KCgpPT57Y2xhc3MgZSBleHRlbmRzIGh4e2NvbnN0cnVjdG9yKGUsdCxuLGkscyl7c3VwZXIocyksdGhpcy5yZW5kZXJlcj1lLHRoaXMuY2hhbmdlRGV0ZWN0b3I9dCx0aGlzLmVsPW4sdGhpcy5jb250cm9sUG9zaXRpb249aSx0aGlzLmRpc2NsYWltZXJPZmZzZXQ9MCx0aGlzLmRyb3Bkb3duSWNvbj0icG8taWNvbi1hcnJvdy1kb3duIix0aGlzLmRyb3Bkb3duT3Blbj0hMSx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMudmlzaWJsZUVsZW1lbnQ9ITEsdGhpcy5pc0NhbGN1bGF0ZVZpc2libGVJdGVtcz0hMCx0aGlzLm9uU2Nyb2xsPSgpPT57dGhpcy5hZGp1c3RDb250YWluZXJQb3NpdGlvbigpfX1uZ0FmdGVyVmlld0luaXQoKXt0aGlzLmF1dG9Gb2N1cyYmdGhpcy5mb2N1cygpLHRoaXMuaW5pdGlhbGl6ZWQ9ITB9bmdEb0NoZWNrKCl7Y29uc3QgZT10aGlzLmlucHV0RWxlbWVudC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoOyhlJiYhdGhpcy52aXNpYmxlRWxlbWVudCYmdGhpcy5pbml0aWFsaXplZHx8ZSYmdGhpcy5pc0NhbGN1bGF0ZVZpc2libGVJdGVtcykmJih0aGlzLmRlYm91bmNlUmVzaXplKCksdGhpcy52aXNpYmxlRWxlbWVudD0hMCl9bmdPbkRlc3Ryb3koKXt2YXIgZSx0O3RoaXMucmVtb3ZlTGlzdGVuZXJzKCksbnVsbD09PShlPXRoaXMuZ2V0T2JqZWN0c0J5VmFsdWVzU3Vic2NyaXB0aW9uKXx8dm9pZCAwPT09ZXx8ZS51bnN1YnNjcmliZSgpLG51bGw9PT0odD10aGlzLmZpbHRlclN1YmplY3QpfHx2b2lkIDA9PT10fHx0LnVuc3Vic2NyaWJlKCl9Zm9jdXMoKXt0aGlzLmRpc2FibGVkfHx0aGlzLmlucHV0RWxlbWVudC5uYXRpdmVFbGVtZW50LmZvY3VzKCl9Z2V0SW5wdXRXaWR0aCgpe3JldHVybiB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcigiLnBvLWlucHV0Iikub2Zmc2V0V2lkdGgtNDB9Z2V0RGlzY2xhaW1lcnNXaWR0aCgpe2NvbnN0IGU9dGhpcy5lbC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInBvLWRpc2NsYWltZXIiKTtyZXR1cm4gQXJyYXkuZnJvbShlKS5tYXAoZT0+ZS5vZmZzZXRXaWR0aCl9Y2FsY3VsYXRlVmlzaWJsZUl0ZW1zKCl7Y29uc3QgZT10aGlzLmdldERpc2NsYWltZXJzV2lkdGgoKSx0PXRoaXMuZ2V0SW5wdXRXaWR0aCgpLG49ZVswXTtpZih0aGlzLnZpc2libGVEaXNjbGFpbWVycz1bXSx0PjApe2xldCBpPTAscz0wO2ZvcihzPTA7czx0aGlzLnNlbGVjdGVkT3B0aW9ucy5sZW5ndGg7cysrKWlmKGkrPWVbc10sdGhpcy52aXNpYmxlRGlzY2xhaW1lcnMucHVzaCh0aGlzLnNlbGVjdGVkT3B0aW9uc1tzXSksaT50KXtpLT1lW3NdLHRoaXMuaXNDYWxjdWxhdGVWaXNpYmxlSXRlbXM9ITE7YnJlYWt9aWYobnx8IXRoaXMuc2VsZWN0ZWRPcHRpb25zLmxlbmd0aCl7aWYocz09PXRoaXMuc2VsZWN0ZWRPcHRpb25zLmxlbmd0aClyZXR1cm4gdm9pZCh0aGlzLmlzQ2FsY3VsYXRlVmlzaWJsZUl0ZW1zPSExKTtpZihpKzM4PnQpe3RoaXMudmlzaWJsZURpc2NsYWltZXJzLnNwbGljZSgtMiwyKTtjb25zdCBlPSIrIisodGhpcy5zZWxlY3RlZE9wdGlvbnMubGVuZ3RoKzEtcykudG9TdHJpbmcoKTt0aGlzLnZpc2libGVEaXNjbGFpbWVycy5wdXNoKHt2YWx1ZToiIixsYWJlbDplfSl9ZWxzZXt0aGlzLnZpc2libGVEaXNjbGFpbWVycy5zcGxpY2UoLTEsMSk7Y29uc3QgZT0iKyIrKHRoaXMuc2VsZWN0ZWRPcHRpb25zLmxlbmd0aC1zKS50b1N0cmluZygpO3RoaXMudmlzaWJsZURpc2NsYWltZXJzLnB1c2goe3ZhbHVlOiIiLGxhYmVsOmV9KX19fX1jaGFuZ2VJdGVtcyhlKXt0aGlzLnVwZGF0ZVNlbGVjdGVkT3B0aW9ucyhlKSx0aGlzLmNhbGxPbkNoYW5nZSh0aGlzLnNlbGVjdGVkT3B0aW9ucyksdGhpcy5hdXRvSGVpZ2h0JiZ0aGlzLmRyb3Bkb3duT3BlbiYmKHRoaXMuY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpLHRoaXMuYWRqdXN0Q29udGFpbmVyUG9zaXRpb24oKSl9dXBkYXRlVmlzaWJsZUl0ZW1zKCl7dGhpcy5zZWxlY3RlZE9wdGlvbnMmJih0aGlzLnZpc2libGVEaXNjbGFpbWVycz1bXS5jb25jYXQodGhpcy5zZWxlY3RlZE9wdGlvbnMpKSx0aGlzLmRlYm91bmNlUmVzaXplKCksdGhpcy5pbnB1dEVsZW1lbnQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aHx8KHRoaXMuaXNDYWxjdWxhdGVWaXNpYmxlSXRlbXM9ITApfWRlYm91bmNlUmVzaXplKCl7dGhpcy5hdXRvSGVpZ2h0fHwoY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dFJlc2l6ZSksdGhpcy50aW1lb3V0UmVzaXplPXNldFRpbWVvdXQoKCk9Pnt0aGlzLmNhbGN1bGF0ZVZpc2libGVJdGVtcygpfSwyMDApKX1vbkJsdXIoKXt2YXIgZTtudWxsPT09KGU9dGhpcy5vbk1vZGVsVG91Y2hlZCl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzKX1vbktleURvd24oZSl7aWYoZS5rZXlDb2RlPT09TmsuYXJyb3dVcHx8ZS5rZXlDb2RlPT09TmsuYXJyb3dEb3duKXJldHVybiBlLnByZXZlbnREZWZhdWx0KCksdm9pZCB0aGlzLmNvbnRyb2xEcm9wZG93blZpc2liaWxpdHkoITApO2Uua2V5Q29kZT09PU5rLnRhYiYmdGhpcy5jb250cm9sRHJvcGRvd25WaXNpYmlsaXR5KCExKX10b2dnbGVEcm9wZG93blZpc2liaWxpdHkoKXt0aGlzLmRpc2FibGVkfHwodGhpcy5maWx0ZXJTZXJ2aWNlJiZ0aGlzLmFwcGx5RmlsdGVySW5GaXJzdENsaWNrKCksdGhpcy5jb250cm9sRHJvcGRvd25WaXNpYmlsaXR5KCF0aGlzLmRyb3Bkb3duT3BlbikpfW9wZW5Ecm9wZG93bihlKXtlJiYhdGhpcy5kaXNhYmxlZCYmdGhpcy5jb250cm9sRHJvcGRvd25WaXNpYmlsaXR5KCEwKX1jb250cm9sRHJvcGRvd25WaXNpYmlsaXR5KGUpe2U/dGhpcy5vcGVuKCk6dGhpcy5jbG9zZSgpfXNjcm9sbFRvU2VsZWN0ZWRPcHRpb25zKCl7aWYodGhpcy5zZWxlY3RlZE9wdGlvbnMmJnRoaXMuc2VsZWN0ZWRPcHRpb25zLmxlbmd0aCl7Y29uc3QgZT10aGlzLm9wdGlvbnMuZmluZEluZGV4KGU9PmUudmFsdWU9PT10aGlzLnNlbGVjdGVkT3B0aW9uc1swXS52YWx1ZSk7dGhpcy5kcm9wZG93bi5zY3JvbGxUbyhlKX19c2V0VmlzaWJsZU9wdGlvbnNEcm9wZG93bihlKXt0aGlzLnZpc2libGVPcHRpb25zRHJvcGRvd249ZX1jaGFuZ2VTZWFyY2goZSl7ZSYmdm9pZCAwIT09ZS52YWx1ZT90aGlzLmZpbHRlclNlcnZpY2U/dGhpcy5maWx0ZXJTdWJqZWN0Lm5leHQoZS52YWx1ZSk6dGhpcy5zZWFyY2hCeUxhYmVsKGUudmFsdWUsdGhpcy5vcHRpb25zLHRoaXMuZmlsdGVyTW9kZSk6dGhpcy5zZXRWaXNpYmxlT3B0aW9uc0Ryb3Bkb3duKHRoaXMub3B0aW9ucyksc2V0VGltZW91dCgoKT0+dGhpcy5hZGp1c3RDb250YWluZXJQb3NpdGlvbigpKX1jbG9zZURpc2NsYWltZXIoZSl7Y29uc3QgdD10aGlzLnNlbGVjdGVkT3B0aW9ucy5maW5kSW5kZXgodD0+dC52YWx1ZT09PWUpO3RoaXMuc2VsZWN0ZWRPcHRpb25zLnNwbGljZSh0LDEpLHRoaXMudXBkYXRlVmlzaWJsZUl0ZW1zKCksdGhpcy5jYWxsT25DaGFuZ2UodGhpcy5zZWxlY3RlZE9wdGlvbnMpfXdhc0NsaWNrZWRPblRvZ2dsZShlKXshdGhpcy5kcm9wZG93bk9wZW58fHRoaXMuaW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuY29udGFpbnMoZS50YXJnZXQpfHx0aGlzLmljb25FbGVtZW50Lm5hdGl2ZUVsZW1lbnQuY29udGFpbnMoZS50YXJnZXQpfHx0aGlzLmRyb3Bkb3duRWxlbWVudC5uYXRpdmVFbGVtZW50LmNvbnRhaW5zKGUudGFyZ2V0KXx8dGhpcy5jb250cm9sRHJvcGRvd25WaXNpYmlsaXR5KCExKX1hcHBseUZpbHRlcihlPSIiKXtyZXR1cm4gdGhpcy5maWx0ZXJTZXJ2aWNlLmdldEZpbHRlcmVkRGF0YSh7cHJvcGVydHk6ImxhYmVsIix2YWx1ZTplfSkucGlwZShGcChlPT4odGhpcy5pc1NlcnZlclNlYXJjaGluZz0hMSxCZChbXSkpKSxHcChlPT57dGhpcy5zZXRPcHRpb25zQnlBcHBseUZpbHRlcihlKX0pKX1hcHBseUZpbHRlckluRmlyc3RDbGljaygpe3RoaXMuaXNGaXJzdEZpbHRlcj8odGhpcy5pc1NlcnZlclNlYXJjaGluZz0hMCx0aGlzLmZpbHRlclN1YmplY3QubmV4dCgpKTp0aGlzLm9wdGlvbnM9Wy4uLnRoaXMuY2FjaGVPcHRpb25zXX1zZXRPcHRpb25zQnlBcHBseUZpbHRlcihlKXt0aGlzLmlzRmlyc3RGaWx0ZXImJih0aGlzLmNhY2hlT3B0aW9ucz1bLi4uZV0sdGhpcy5pc0ZpcnN0RmlsdGVyPSExKSx0aGlzLm9wdGlvbnM9Wy4uLmVdLHRoaXMuc2V0VmlzaWJsZU9wdGlvbnNEcm9wZG93bih0aGlzLm9wdGlvbnMpfWFkanVzdENvbnRhaW5lclBvc2l0aW9uKCl7dGhpcy5jb250cm9sUG9zaXRpb24uYWRqdXN0UG9zaXRpb24oImJvdHRvbSIpfWNsb3NlKCl7dGhpcy5kcm9wZG93bkljb249InBvLWljb24tYXJyb3ctZG93biIsdGhpcy5kcm9wZG93bk9wZW49ITEsdGhpcy5kcm9wZG93bi5jb250cm9sVmlzaWJpbGl0eSghMSksdGhpcy5zZXRWaXNpYmxlT3B0aW9uc0Ryb3Bkb3duKHRoaXMub3B0aW9ucyksdGhpcy5yZW1vdmVMaXN0ZW5lcnMoKX1pbml0aWFsaXplTGlzdGVuZXJzKCl7dGhpcy5jbGlja091dExpc3RlbmVyPXRoaXMucmVuZGVyZXIubGlzdGVuKCJkb2N1bWVudCIsImNsaWNrIixlPT57dGhpcy53YXNDbGlja2VkT25Ub2dnbGUoZSl9KSx0aGlzLnJlc2l6ZUxpc3RlbmVyPXRoaXMucmVuZGVyZXIubGlzdGVuKCJ3aW5kb3ciLCJyZXNpemUiLCgpPT57dGhpcy51cGRhdGVWaXNpYmxlSXRlbXMoKSx0UygpP3RoaXMuYWRqdXN0Q29udGFpbmVyUG9zaXRpb24oKTp0aGlzLmNsb3NlKCl9KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIix0aGlzLm9uU2Nyb2xsLCEwKX1vcGVuKCl7dGhpcy5kcm9wZG93bkljb249InBvLWljb24tYXJyb3ctdXAiLHRoaXMuZHJvcGRvd25PcGVuPSEwLHRoaXMuZHJvcGRvd24uY29udHJvbFZpc2liaWxpdHkoITApLHRoaXMuc2V0VmlzaWJsZU9wdGlvbnNEcm9wZG93bih0aGlzLm9wdGlvbnMpLHRoaXMuaW5pdGlhbGl6ZUxpc3RlbmVycygpLHRoaXMuc2Nyb2xsVG9TZWxlY3RlZE9wdGlvbnMoKSx0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKSx0aGlzLnNldFBvc2l0aW9uRHJvcGRvd24oKX1yZW1vdmVMaXN0ZW5lcnMoKXt0aGlzLmNsaWNrT3V0TGlzdGVuZXImJnRoaXMuY2xpY2tPdXRMaXN0ZW5lcigpLHRoaXMucmVzaXplTGlzdGVuZXImJnRoaXMucmVzaXplTGlzdGVuZXIoKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIix0aGlzLm9uU2Nyb2xsLCEwKX1zZXRQb3NpdGlvbkRyb3Bkb3duKCl7dGhpcy5jb250cm9sUG9zaXRpb24uc2V0RWxlbWVudHModGhpcy5kcm9wZG93bi5jb250YWluZXIubmF0aXZlRWxlbWVudCw4LHRoaXMuaW5wdXRFbGVtZW50LFsidG9wIiwiYm90dG9tIl0sITApLHRoaXMuYWRqdXN0Q29udGFpbmVyUG9zaXRpb24oKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoV2EpLEFyKGdsKSxBcihVYSksQXIoVlMpLEFyKHBTKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLW11bHRpc2VsZWN0Il1dLHZpZXdRdWVyeTpmdW5jdGlvbihlLHQpe2lmKDEmZSYmKHBjKCRfLDcsVWEpLHBjKCRfLDcpLHBjKEhfLDcsVWEpLHBjKFVfLDcsVWEpKSwyJmUpe2xldCBlO2RjKGU9Z2MoKSkmJih0LmRyb3Bkb3duRWxlbWVudD1lLmZpcnN0KSxkYyhlPWdjKCkpJiYodC5kcm9wZG93bj1lLmZpcnN0KSxkYyhlPWdjKCkpJiYodC5pY29uRWxlbWVudD1lLmZpcnN0KSxkYyhlPWdjKCkpJiYodC5pbnB1dEVsZW1lbnQ9ZS5maXJzdCl9fSxmZWF0dXJlczpbTGEoZHgpLHVyXSxkZWNsczoxMix2YXJzOjI1LGNvbnN0czpbWzMsInAtbGFiZWwiLCJwLWhlbHAiLCJwLW9wdGlvbmFsIl0sWzEsInBvLWZpZWxkLWNvbnRhaW5lci1jb250ZW50Il0sWzEsInBvLWlucHV0IiwicG8taW5wdXQtaWNvbi1yaWdodCIsInBvLW11bHRpc2VsZWN0LWlucHV0IiwicG8tY2xpY2thYmxlIiwzLCJ0YWJpbmRleCIsImtleXVwLmVudGVyIiwia2V5ZG93biIsImNsaWNrIiwiYmx1ciJdLFsiaW5wdXRFbGVtZW50IiwiIl0sWyJjbGFzcyIsInBvLW11bHRpc2VsZWN0LWlucHV0LXBsYWNlaG9sZGVyIiw0LCJuZ0lmIl0sWyJjbGFzcyIsInBvLW11bHRpc2VsZWN0LWlucHV0LWRpc2NsYWltZXIiLDMsInAtbGFiZWwiLCJwLXZhbHVlIiwicC1oaWRlLWNsb3NlIiwicG8tY2xpY2thYmxlIiwiY2xpY2siLCJwLWNsb3NlLWFjdGlvbiIsNCwibmdGb3IiLCJuZ0Zvck9mIl0sWzEsInBvLWZpZWxkLWljb24tY29udGFpbmVyLXJpZ2h0Il0sWzMsIm5nQ2xhc3MiXSxbImljb25FbGVtZW50IiwiIl0sWzMsInAtc2VhcmNoaW5nIiwicC1oaWRlLXNlYXJjaCIsInAtbGl0ZXJhbHMiLCJwLW9wdGlvbnMiLCJwLXZpc2libGUtb3B0aW9ucyIsInAtc2VsZWN0ZWQtb3B0aW9ucyIsInAtcGxhY2Vob2xkZXItc2VhcmNoIiwicC1jaGFuZ2UiLCJwLWNoYW5nZS1zZWFyY2giLCJwLWNsb3NlLWRyb3Bkb3duIl0sWyJkcm9wZG93bkVsZW1lbnQiLCIiXSxbMSwicG8tbXVsdGlzZWxlY3QtaW5wdXQtcGxhY2Vob2xkZXIiXSxbMSwicG8tbXVsdGlzZWxlY3QtaW5wdXQtZGlzY2xhaW1lciIsMywicC1sYWJlbCIsInAtdmFsdWUiLCJwLWhpZGUtY2xvc2UiLCJjbGljayIsInAtY2xvc2UtYWN0aW9uIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoRnIoMCwicG8tZmllbGQtY29udGFpbmVyIiwwKSxGcigxLCJkaXYiLDEpLEZyKDIsImRpdiIsMiwzKSxCcigia2V5dXAuZW50ZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIHQudG9nZ2xlRHJvcGRvd25WaXNpYmlsaXR5KCl9KSgia2V5ZG93biIsZnVuY3Rpb24oZSl7cmV0dXJuIHQub25LZXlEb3duKGUpfSkoImNsaWNrIixmdW5jdGlvbigpe3JldHVybiB0LnRvZ2dsZURyb3Bkb3duVmlzaWJpbGl0eSgpfSkoImJsdXIiLGZ1bmN0aW9uKCl7cmV0dXJuIHQub25CbHVyKCl9KSxrcig0LHFfLDIsMSwic3BhbiIsNCksa3IoNSx6XywxLDUsInBvLWRpc2NsYWltZXIiLDUpLEZyKDYsImRpdiIsNiksTXIoNywic3BhbiIsNyw4KSxJcigpLElyKCksSXIoKSxGcig5LCJwby1tdWx0aXNlbGVjdC1kcm9wZG93biIsOSwxMCksQnIoInAtY2hhbmdlIixmdW5jdGlvbihlKXtyZXR1cm4gdC5jaGFuZ2VJdGVtcyhlKX0pKCJwLWNoYW5nZS1zZWFyY2giLGZ1bmN0aW9uKGUpe3JldHVybiB0LmNoYW5nZVNlYXJjaChlKX0pKCJwLWNsb3NlLWRyb3Bkb3duIixmdW5jdGlvbigpe3JldHVybiB0LmNvbnRyb2xEcm9wZG93blZpc2liaWxpdHkoITEpfSksSXIoKSxNcigxMSwicG8tZmllbGQtY29udGFpbmVyLWJvdHRvbSIpLElyKCkpLDImZSYmKE9yKCJwLWxhYmVsIix0LmxhYmVsKSgicC1oZWxwIix0LmhlbHApKCJwLW9wdGlvbmFsIiwhdC5yZXF1aXJlZCYmdC5vcHRpb25hbCksWnMoMSksZWEoInBvLW11bHRpc2VsZWN0LXNob3ciLHQuZHJvcGRvd25PcGVuKSxacygxKSxlYSgicG8tbXVsdGlzZWxlY3QtaW5wdXQtYXV0byIsdC5hdXRvSGVpZ2h0KSgicG8tbXVsdGlzZWxlY3QtaW5wdXQtc3RhdGljIiwhdC5hdXRvSGVpZ2h0KSgicG8tbXVsdGlzZWxlY3QtaW5wdXQtZGlzYWJsZWQiLHQuZGlzYWJsZWQpLE9yKCJ0YWJpbmRleCIsdC5kaXNhYmxlZD8tMTowKSxacygyKSxPcigibmdJZiIsdC5wbGFjZWhvbGRlciYmIShudWxsIT10LnZpc2libGVEaXNjbGFpbWVycyYmdC52aXNpYmxlRGlzY2xhaW1lcnMubGVuZ3RoKSksWnMoMSksT3IoIm5nRm9yT2YiLHQudmlzaWJsZURpc2NsYWltZXJzKSxacygyKSx2YSgicG8taWNvbiBwby1maWVsZC1pY29uICIsdC5kcm9wZG93bkljb24sIiIpLE9yKCJuZ0NsYXNzIix0LmRpc2FibGVkPyJwby1maWVsZC1pY29uLWRpc2FibGVkIjoiIiksWnMoMiksT3IoInAtc2VhcmNoaW5nIix0LmlzU2VydmVyU2VhcmNoaW5nKSgicC1oaWRlLXNlYXJjaCIsdC5oaWRlU2VhcmNoKSgicC1saXRlcmFscyIsdC5saXRlcmFscykoInAtb3B0aW9ucyIsdC5vcHRpb25zKSgicC12aXNpYmxlLW9wdGlvbnMiLHQudmlzaWJsZU9wdGlvbnNEcm9wZG93bikoInAtc2VsZWN0ZWQtb3B0aW9ucyIsdC5zZWxlY3RlZE9wdGlvbnMpKCJwLXBsYWNlaG9sZGVyLXNlYXJjaCIsdC5wbGFjZWhvbGRlclNlYXJjaCkpfSxkaXJlY3RpdmVzOlt3RSxGaCxPaCx4aCxseCx5RSxzRV0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCksZng9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuc2VsZWN0ZWQ9ITEsdGhpcy5jaGFuZ2U9bmV3IGVjfWl0ZW1DbGlja2VkKCl7dGhpcy5zZWxlY3RlZD0hdGhpcy5zZWxlY3RlZCx0aGlzLmNoYW5nZS5lbWl0KHRoaXMuc2VsZWN0ZWQpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8tbXVsdGlzZWxlY3QtaXRlbSJdXSxpbnB1dHM6e3NlbGVjdGVkOlsicC1zZWxlY3RlZCIsInNlbGVjdGVkIl0sbGFiZWw6WyJwLWxhYmVsIiwibGFiZWwiXX0sb3V0cHV0czp7Y2hhbmdlOiJwLWNoYW5nZSJ9LGRlY2xzOjUsdmFyczo2LGNvbnN0czpbWzMsImNsaWNrIl0sWzEsInBvLW11bHRpc2VsZWN0LWl0ZW0iXSxbInR5cGUiLCJjaGVja2JveCIsMSwicG8tbXVsdGlzZWxlY3QtY2hlY2tib3gtaW5wdXQiLDMsImNoZWNrZWQiXSxbMSwicG8tbXVsdGlzZWxlY3QtY2hlY2tib3gtbGFiZWwiLCJwby1jbGlja2FibGUiXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXsxJmUmJihGcigwLCJsaSIsMCksQnIoImNsaWNrIixmdW5jdGlvbigpe3JldHVybiB0Lml0ZW1DbGlja2VkKCl9KSxGcigxLCJhIiwxKSxNcigyLCJpbnB1dCIsMiksRnIoMywibGFiZWwiLDMpLHBhKDQpLElyKCksSXIoKSxJcigpKSwyJmUmJihlYSgicG8tbXVsdGlzZWxlY3QtaXRlbS1zZWxlY3RlZCIsdC5zZWxlY3RlZCksWnMoMiksZWEoInBvLW11bHRpc2VsZWN0LWNoZWNrYm94LWlucHV0LWNoZWNrZWQiLHQuc2VsZWN0ZWQpLE9yKCJjaGVja2VkIix0LnNlbGVjdGVkKSxacygyKSxnYSgiICIsdC5sYWJlbCwiICIpKX0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksZX0pKCksZ3g9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuY2hhbmdlPW5ldyBlY31zZXQgcGxhY2Vob2xkZXIoZSl7dGhpcy5fcGxhY2Vob2xkZXI9ZSYmUUQoZSwic3RyaW5nIik/ZTp0aGlzLmxpdGVyYWxzLnBsYWNlaG9sZGVyU2VhcmNofWdldCBwbGFjZWhvbGRlcigpe3JldHVybiB0aGlzLl9wbGFjZWhvbGRlcnx8dGhpcy5saXRlcmFscy5wbGFjZWhvbGRlclNlYXJjaH1vbkNoYW5nZShlKXt0aGlzLmNoYW5nZS5lbWl0KHtldmVudDplLHZhbHVlOnRoaXMuaW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQudmFsdWV9KX1zZXRGb2N1cygpe3RoaXMuaW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZm9jdXMoKX1jbGVhbigpe3RoaXMuaW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQudmFsdWU9IiJ9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby1tdWx0aXNlbGVjdC1zZWFyY2giXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiZwYyhVXyw3LFVhKSwyJmUpe2xldCBlO2RjKGU9Z2MoKSkmJih0LmlucHV0RWxlbWVudD1lLmZpcnN0KX19LGlucHV0czp7cGxhY2Vob2xkZXI6WyJwLXBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXIiXSxsaXRlcmFsczpbInAtbGl0ZXJhbHMiLCJsaXRlcmFscyJdfSxvdXRwdXRzOntjaGFuZ2U6InAtY2hhbmdlIn0sZGVjbHM6NSx2YXJzOjEsY29uc3RzOltbMSwicG8tZmllbGQtY29udGFpbmVyLWNvbnRlbnQiLCJwby1tdWx0aXNlbGVjdC1jb250YWluZXItc2VhcmNoIl0sWzEsInBvLWZpZWxkLWljb24tY29udGFpbmVyLWxlZnQiXSxbMSwicG8taWNvbiIsInBvLWljb24tc2VhcmNoIiwicG8tZmllbGQtaWNvbiJdLFsidHlwZSIsInRleHQiLDEsInBvLWlucHV0IiwicG8taW5wdXQtaWNvbi1sZWZ0IiwicG8tbXVsdGlzZWxlY3Qtc2VhcmNoLWlucHV0IiwzLCJwbGFjZWhvbGRlciIsImtleXVwIl0sWyJpbnB1dEVsZW1lbnQiLCIiXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXsxJmUmJihGcigwLCJkaXYiLDApLEZyKDEsImRpdiIsMSksTXIoMiwic3BhbiIsMiksSXIoKSxGcigzLCJpbnB1dCIsMyw0KSxCcigia2V5dXAiLGZ1bmN0aW9uKGUpe3JldHVybiB0Lm9uQ2hhbmdlKGUpfSksSXIoKSxJcigpKSwyJmUmJihacygzKSxPcigicGxhY2Vob2xkZXIiLHQucGxhY2Vob2xkZXIpKX0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCksbXg9KCgpPT57Y2xhc3MgZSBleHRlbmRzIEtre2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWV4dHJhVmFsaWRhdGlvbihlKXtyZXR1cm4gbnVsbH19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoVWEpKX0sZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8taW5wdXQiXV0sZmVhdHVyZXM6W0xhKFt7cHJvdmlkZTpQdix1c2VFeGlzdGluZzpzZSgoKT0+ZSksbXVsdGk6ITB9LHtwcm92aWRlOmp2LHVzZUV4aXN0aW5nOnNlKCgpPT5lKSxtdWx0aTohMH1dKSx1cl0sZGVjbHM6OCx2YXJzOjE3LGNvbnN0czpbWzMsInAtaGVscCIsInAtbGFiZWwiLCJwLW9wdGlvbmFsIl0sWzEsInBvLWZpZWxkLWNvbnRhaW5lci1jb250ZW50Il0sWyJjbGFzcyIsInBvLWZpZWxkLWljb24tY29udGFpbmVyLWxlZnQiLDQsIm5nSWYiXSxbMSwicG8taW5wdXQiLDMsImF1dG9jb21wbGV0ZSIsImRpc2FibGVkIiwicGxhY2Vob2xkZXIiLCJyZWFkb25seSIsInJlcXVpcmVkIiwidHlwZSIsImJsdXIiLCJjbGljayIsImZvY3VzIiwiaW5wdXQiXSxbImlucCIsIiJdLFsxLCJwby1maWVsZC1pY29uLWNvbnRhaW5lci1yaWdodCJdLFszLCJwLWVsZW1lbnQtcmVmIiwicC1jaGFuZ2UtZXZlbnQiLDQsIm5nSWYiXSxbMywicC1lcnJvci1wYXR0ZXJuIl0sWzEsInBvLWZpZWxkLWljb24tY29udGFpbmVyLWxlZnQiXSxbMSwicG8tZmllbGQtaWNvbiIsMywicC1pY29uIl0sWzMsInAtZWxlbWVudC1yZWYiLCJwLWNoYW5nZS1ldmVudCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYmKEZyKDAsInBvLWZpZWxkLWNvbnRhaW5lciIsMCksRnIoMSwiZGl2IiwxKSxrcigyLFdfLDIsMywiZGl2IiwyKSxGcigzLCJpbnB1dCIsMyw0KSxCcigiYmx1ciIsZnVuY3Rpb24oZSl7cmV0dXJuIHQuZXZlbnRPbkJsdXIoZSl9KSgiY2xpY2siLGZ1bmN0aW9uKGUpe3JldHVybiB0LmV2ZW50T25DbGljayhlKX0pKCJmb2N1cyIsZnVuY3Rpb24oZSl7cmV0dXJuIHQuZXZlbnRPbkZvY3VzKGUpfSkoImlucHV0IixmdW5jdGlvbihlKXtyZXR1cm4gdC5ldmVudE9uSW5wdXQoZSl9KSxJcigpLEZyKDUsImRpdiIsNSksa3IoNixHXywxLDEsInBvLWNsZWFuIiw2KSxJcigpLElyKCksTXIoNywicG8tZmllbGQtY29udGFpbmVyLWJvdHRvbSIsNyksSXIoKSksMiZlJiYoT3IoInAtaGVscCIsdC5oZWxwKSgicC1sYWJlbCIsdC5sYWJlbCkoInAtb3B0aW9uYWwiLCF0LnJlcXVpcmVkJiZ0Lm9wdGlvbmFsKSxacygyKSxPcigibmdJZiIsdC5pY29uKSxacygxKSxlYSgicG8taW5wdXQtaWNvbi1sZWZ0Iix0Lmljb24pKCJwby1pbnB1dC1pY29uLXJpZ2h0Iix0LmNsZWFuKSxPcigiYXV0b2NvbXBsZXRlIix0LmF1dG9jb21wbGV0ZSkoImRpc2FibGVkIix0LmRpc2FibGVkKSgicGxhY2Vob2xkZXIiLHQucGxhY2Vob2xkZXIpKCJyZWFkb25seSIsdC5yZWFkb25seSkoInJlcXVpcmVkIix0LnJlcXVpcmVkKSgidHlwZSIsdC50eXBlKSxEcigibmFtZSIsdC5uYW1lKSxacygzKSxPcigibmdJZiIsdC5jbGVhbiYmIXQuZGlzYWJsZWQmJiF0LnJlYWRvbmx5KSxacygxKSxPcigicC1lcnJvci1wYXR0ZXJuIix0LmdldEVycm9yUGF0dGVybigpKSl9LGRpcmVjdGl2ZXM6W3dFLEZoLHlFLGdTLElFXSxlbmNhcHN1bGF0aW9uOjJ9KSxlfSkoKSx2eD0oKCk9PntjbGFzcyBlIGV4dGVuZHMgS2t7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy50eXBlPSJudW1iZXIiLHRoaXMuaW52YWxpZElucHV0VmFsdWVPbkJsdXI9ITF9ZXZlbnRPbklucHV0KGUpe2lmKCF0aGlzLm1hc2spe2xldCB0PWUudGFyZ2V0LnZhbHVlO2NvbnN0IG49dGhpcy52YWxpZE1heExlbmd0aCh0aGlzLm1heGxlbmd0aCx0KTt0aGlzLmludmFsaWRJbnB1dFZhbHVlT25CbHVyPSExLHQhPT1uJiYodD1uLHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlPXQpLHRoaXMuY2FsbE9uQ2hhbmdlKHRoaXMuZm9ybWF0TnVtYmVyKHQpKX19b25CbHVyKGUpe2NvbnN0IHQ9ZS50YXJnZXQ7dGhpcy5pbnZhbGlkSW5wdXRWYWx1ZU9uQmx1cj0iIj09PXQudmFsdWUmJiF0LnZhbGlkaXR5LnZhbGlkLHRoaXMuaW52YWxpZElucHV0VmFsdWVPbkJsdXImJnRoaXMuY2FsbE9uQ2hhbmdlKCJWYWxvciBJbnZceGUxbGlkbyIpLHRoaXMuZXZlbnRPbkJsdXIoZSl9b25LZXlEb3duKGUpe3RoaXMuaXNLZXlBbGxvd2VkKGUpfHwoZS5zdG9wUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCkpfXZhbGlkTWF4TGVuZ3RoKGUsdCl7aWYoZSYmdC5sZW5ndGg+ZSl7Y29uc3Qgbj10LnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsZSk7cmV0dXJuIG4mJnRoaXMuaXNFbmRXaXRoRG90KG4pP24udG9TdHJpbmcoKS5zdWJzdHJpbmcoMCxlLTEpOm59cmV0dXJuIHR9d3JpdGVWYWx1ZU1vZGVsKGUpe3RoaXMuaW5wdXRFbCYmKGV8fDA9PT1lP3RoaXMubWFzaz8odGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWU9dGhpcy5vYmpNYXNrLmNvbnRyb2xGb3JtYXR0aW5nKFN0cmluZyhlKSksdGhpcy5vYmpNYXNrLmZvcm1hdE1vZGVsJiZ0aGlzLm9uQ2hhbmdlUHJvcGFnYXRlKHRoaXMub2JqTWFzay52YWx1ZVRvTW9kZWwpKTp0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZT1lOnRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlPSIiKSx0aGlzLmNoYW5nZU1vZGVsLmVtaXQoZSl9aXNFbmRXaXRoRG90KGUpe3JldHVybiBlJiZlLmxhc3RJbmRleE9mKCIuIik9PT1lLmxlbmd0aC0xfWZvcm1hdE51bWJlcihlKXtyZXR1cm4gZT9OdW1iZXIoZSk6bnVsbH1pc0tleUFsbG93ZWQoZSl7cmV0dXJuIHRoaXMuaXNTaG9ydGN1dChlKXx8dGhpcy5pc0NvbnRyb2xLZXlzKGUpfHwhdGhpcy5pc0ludmFsaWRLZXkoZS5rZXkpfWlzSW52YWxpZEtleShlKXtyZXR1cm4gbmV3IFJlZ0V4cCgvW2EtekEtWjo7PV9ceGI0YF5+Iic/IUAjJCVceGE4JiooKT48e31ceGU3XHhjN1xbXF0vXFx8XSsvKS50ZXN0KGUpfWlzU2hvcnRjdXQoZSl7Y29uc3QgdD1lLmtleUNvZGUsbj1lLmN0cmxLZXl8fGUubWV0YUtleTtyZXR1cm4gbiYmNjc9PT10fHxuJiY4Nj09PXR8fG4mJjY1PT09dHx8biYmODg9PT10fWlzQ29udHJvbEtleXMoZSl7cmV0dXJuLTEhPT1bIkJhY2tzcGFjZSIsIkFycm93TGVmdCIsIkFycm93UmlnaHQiLCJBcnJvd1VwIiwiQXJyb3dEb3duIiwiTGVmdCIsIlJpZ2h0IiwiVXAiLCJEb3duIiwiVGFiIiwiRGVsZXRlIl0uaW5kZXhPZihlLmtleSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKFVhKSl9LGUuXHUwMjc1ZGlyPUtlKHt0eXBlOmUsZmVhdHVyZXM6W3VyXX0pLGV9KSgpLGJ4PSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyB2eHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnN0ZXA9IjEifXNldCBzZXRNaW4oZSl7dGhpcy5taW49aXNOYU4oZSk/dm9pZCAwOmUsdGhpcy52YWxpZGF0ZU1vZGVsKCl9c2V0IHNldE1heChlKXt0aGlzLm1heD1pc05hTihlKT92b2lkIDA6ZSx0aGlzLnZhbGlkYXRlTW9kZWwoKX1leHRyYVZhbGlkYXRpb24oZSl7cmV0dXJuIHRoaXMuZXJyb3JQYXR0ZXJuPSJWYWxvciBJbnZceGUxbGlkbyIhPT10aGlzLmVycm9yUGF0dGVybj90aGlzLmVycm9yUGF0dGVybjoiIixrRSh0aGlzLm1pbixlLnZhbHVlKT97bWluOnt2YWxpZDohMX19OnhFKHRoaXMubWF4LGUudmFsdWUpP3ttYXg6e3ZhbGlkOiExfX06dGhpcy5pbnZhbGlkSW5wdXRWYWx1ZU9uQmx1cj8odGhpcy5lcnJvclBhdHRlcm49dGhpcy5lcnJvclBhdHRlcm58fCJWYWxvciBJbnZceGUxbGlkbyIse251bWJlcjp7dmFsaWQ6ITF9fSk6bnVsbH1nZXRFcnJvclBhdHRlcm5NZXNzYWdlKCl7cmV0dXJuIiIhPT10aGlzLmVycm9yUGF0dGVybiYmdGhpcy5jb250YWluc0ludmFsaWRDbGFzcygpP3RoaXMuZXJyb3JQYXR0ZXJuOiIifWNvbnRhaW5zSW52YWxpZENsYXNzKCl7cmV0dXJuIHRoaXMuZWwubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoIm5nLWludmFsaWQiKSYmdGhpcy5lbC5uYXRpdmVFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygibmctZGlydHkiKSYmIiIhPT10aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZXx8dGhpcy5pbnZhbGlkSW5wdXRWYWx1ZU9uQmx1cn19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoVWEpKX0sZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8tbnVtYmVyIl1dLGlucHV0czp7c3RlcDpbInAtc3RlcCIsInN0ZXAiXSxzZXRNaW46WyJwLW1pbiIsInNldE1pbiJdLHNldE1heDpbInAtbWF4Iiwic2V0TWF4Il19LGZlYXR1cmVzOltMYShbe3Byb3ZpZGU6UHYsdXNlRXhpc3Rpbmc6c2UoKCk9PmUpLG11bHRpOiEwfSx7cHJvdmlkZTpqdix1c2VFeGlzdGluZzpzZSgoKT0+ZSksbXVsdGk6ITB9XSksdXJdLGRlY2xzOjgsdmFyczoyMCxjb25zdHM6W1szLCJwLWhlbHAiLCJwLWxhYmVsIiwicC1vcHRpb25hbCJdLFsxLCJwby1maWVsZC1jb250YWluZXItY29udGVudCJdLFsiY2xhc3MiLCJwby1maWVsZC1pY29uLWNvbnRhaW5lci1sZWZ0Iiw0LCJuZ0lmIl0sWyJ0eXBlIiwibnVtYmVyIiwxLCJwby1pbnB1dCIsMywiYXV0b2NvbXBsZXRlIiwiZGlzYWJsZWQiLCJwbGFjZWhvbGRlciIsInJlYWRvbmx5IiwicmVxdWlyZWQiLCJ0YWJpbmRleCIsImJsdXIiLCJmb2N1cyIsImlucHV0Iiwia2V5ZG93biJdLFsiaW5wIiwiIl0sWzEsInBvLWZpZWxkLWljb24tY29udGFpbmVyLXJpZ2h0Il0sWzMsInAtZGVmYXVsdC12YWx1ZSIsInAtZWxlbWVudC1yZWYiLCJwLWNoYW5nZS1ldmVudCIsNCwibmdJZiJdLFszLCJwLWVycm9yLXBhdHRlcm4iXSxbMSwicG8tZmllbGQtaWNvbi1jb250YWluZXItbGVmdCJdLFsxLCJwby1maWVsZC1pY29uIiwzLCJwLWljb24iXSxbMywicC1kZWZhdWx0LXZhbHVlIiwicC1lbGVtZW50LXJlZiIsInAtY2hhbmdlLWV2ZW50Il1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoRnIoMCwicG8tZmllbGQtY29udGFpbmVyIiwwKSxGcigxLCJkaXYiLDEpLGtyKDIsS18sMiwzLCJkaXYiLDIpLEZyKDMsImlucHV0IiwzLDQpLEJyKCJibHVyIixmdW5jdGlvbihlKXtyZXR1cm4gdC5vbkJsdXIoZSl9KSgiZm9jdXMiLGZ1bmN0aW9uKGUpe3JldHVybiB0LmV2ZW50T25Gb2N1cyhlKX0pKCJpbnB1dCIsZnVuY3Rpb24oZSl7cmV0dXJuIHQuZXZlbnRPbklucHV0KGUpfSkoImtleWRvd24iLGZ1bmN0aW9uKGUpe3JldHVybiB0Lm9uS2V5RG93bihlKX0pLElyKCksRnIoNSwiZGl2Iiw1KSxrcig2LFlfLDEsMiwicG8tY2xlYW4iLDYpLElyKCksSXIoKSxNcig3LCJwby1maWVsZC1jb250YWluZXItYm90dG9tIiw3KSxJcigpKSwyJmUmJihPcigicC1oZWxwIix0LmhlbHApKCJwLWxhYmVsIix0LmxhYmVsKSgicC1vcHRpb25hbCIsIXQucmVxdWlyZWQmJnQub3B0aW9uYWwpLFpzKDIpLE9yKCJuZ0lmIix0Lmljb24pLFpzKDEpLGVhKCJwby1pbnB1dC1pY29uLWxlZnQiLHQuaWNvbikoInBvLWlucHV0LWljb24tcmlnaHQiLHQuY2xlYW4pLE9yKCJhdXRvY29tcGxldGUiLHQuYXV0b2NvbXBsZXRlKSgiZGlzYWJsZWQiLHQuZGlzYWJsZWQpKCJwbGFjZWhvbGRlciIsdC5wbGFjZWhvbGRlcikoInJlYWRvbmx5Iix0LnJlYWRvbmx5KSgicmVxdWlyZWQiLHQucmVxdWlyZWQpKCJ0YWJpbmRleCIsdC5kaXNhYmxlZD8tMTowKSxEcigibWF4Iix0Lm1heCkoIm1pbiIsdC5taW4pKCJuYW1lIix0Lm5hbWUpKCJzdGVwIix0LnN0ZXApLFpzKDMpLE9yKCJuZ0lmIix0LmNsZWFuJiYhdC5kaXNhYmxlZCYmIXQucmVhZG9ubHkpLFpzKDEpLE9yKCJwLWVycm9yLXBhdHRlcm4iLHQuZ2V0RXJyb3JQYXR0ZXJuTWVzc2FnZSgpKSl9LGRpcmVjdGl2ZXM6W3dFLEZoLHlFLGdTLElFXSxlbmNhcHN1bGF0aW9uOjJ9KSxlfSkoKSx5eD0oKCk9PntjbGFzcyBlIGV4dGVuZHMgS2t7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy50eXBlPSJwYXNzd29yZCIsdGhpcy52aXNpYmxlUGFzc3dvcmQ9ITEsdGhpcy5faGlkZVBhc3N3b3JkUGVlaz0hMX1zZXQgaGlkZVBhc3N3b3JkUGVlayhlKXt0aGlzLl9oaWRlUGFzc3dvcmRQZWVrPVlEKGUpLGUmJih0aGlzLnZpc2libGVQYXNzd29yZD0hMSx0aGlzLnR5cGU9InBhc3N3b3JkIil9Z2V0IGhpZGVQYXNzd29yZFBlZWsoKXtyZXR1cm4gdGhpcy5faGlkZVBhc3N3b3JkUGVla31nZXQgYXV0b2NvbXBsZXRlKCl7cmV0dXJuIHRoaXMubm9BdXRvY29tcGxldGU/Im5ldy1wYXNzd29yZCI6Im9uIn1leHRyYVZhbGlkYXRpb24oZSl7cmV0dXJuIG51bGx9c2hvd1Bhc3N3b3JkKCl7dGhpcy52aXNpYmxlUGFzc3dvcmQ9IXRoaXMudmlzaWJsZVBhc3N3b3JkLHRoaXMudHlwZT0icGFzc3dvcmQiPT09dGhpcy50eXBlPyJ0ZXh0IjoicGFzc3dvcmQifX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShBcihVYSkpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby1wYXNzd29yZCJdXSxpbnB1dHM6e2hpZGVQYXNzd29yZFBlZWs6WyJwLWhpZGUtcGFzc3dvcmQtcGVlayIsImhpZGVQYXNzd29yZFBlZWsiXX0sZmVhdHVyZXM6W0xhKFt7cHJvdmlkZTpQdix1c2VFeGlzdGluZzpzZSgoKT0+ZSksbXVsdGk6ITB9LHtwcm92aWRlOmp2LHVzZUV4aXN0aW5nOnNlKCgpPT5lKSxtdWx0aTohMH1dKSx1cl0sZGVjbHM6MTAsdmFyczoxOSxjb25zdHM6W1szLCJwLWxhYmVsIiwicC1oZWxwIiwicC1vcHRpb25hbCJdLFsxLCJwby1maWVsZC1jb250YWluZXItY29udGVudCJdLFsxLCJwby1maWVsZC1pY29uLWNvbnRhaW5lci1sZWZ0Il0sWzEsInBvLWljb24iLCJwby1maWVsZC1pY29uIiwicG8taWNvbi1sb2NrIl0sWzEsInBvLWlucHV0IiwicG8taW5wdXQtaWNvbi1sZWZ0IiwzLCJhdXRvY29tcGxldGUiLCJkaXNhYmxlZCIsInBsYWNlaG9sZGVyIiwicmVhZG9ubHkiLCJyZXF1aXJlZCIsInR5cGUiLCJibHVyIiwiY2xpY2siLCJmb2N1cyIsImlucHV0Il0sWyJpbnAiLCIiXSxbMSwicG8tZmllbGQtaWNvbi1jb250YWluZXItcmlnaHQiXSxbMywicC1lbGVtZW50LXJlZiIsInAtY2hhbmdlLWV2ZW50Iiw0LCJuZ0lmIl0sWyJjbGFzcyIsInBvLWljb24gcG8tZmllbGQtaWNvbiIsMywibmdDbGFzcyIsImNsaWNrIiw0LCJuZ0lmIl0sWzMsInAtZXJyb3ItcGF0dGVybiJdLFszLCJwLWVsZW1lbnQtcmVmIiwicC1jaGFuZ2UtZXZlbnQiXSxbMSwicG8taWNvbiIsInBvLWZpZWxkLWljb24iLDMsIm5nQ2xhc3MiLCJjbGljayJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpe2lmKDEmZSYmKEZyKDAsInBvLWZpZWxkLWNvbnRhaW5lciIsMCksRnIoMSwiZGl2IiwxKSxGcigyLCJkaXYiLDIpLE1yKDMsInNwYW4iLDMpLElyKCksRnIoNCwiaW5wdXQiLDQsNSksQnIoImJsdXIiLGZ1bmN0aW9uKGUpe3JldHVybiB0LmV2ZW50T25CbHVyKGUpfSkoImNsaWNrIixmdW5jdGlvbihlKXtyZXR1cm4gdC5ldmVudE9uQ2xpY2soZSl9KSgiZm9jdXMiLGZ1bmN0aW9uKGUpe3JldHVybiB0LmV2ZW50T25Gb2N1cyhlKX0pKCJpbnB1dCIsZnVuY3Rpb24oZSl7cmV0dXJuIHQuZXZlbnRPbklucHV0KGUpfSksSXIoKSxGcig2LCJkaXYiLDYpLGtyKDcsWl8sMSwxLCJwby1jbGVhbiIsNyksa3IoOCxRXywxLDEsInNwYW4iLDgpLElyKCksSXIoKSxNcig5LCJwby1maWVsZC1jb250YWluZXItYm90dG9tIiw5KSxJcigpKSwyJmUpe2NvbnN0IGU9eHIoNSk7T3IoInAtbGFiZWwiLHQubGFiZWwpKCJwLWhlbHAiLHQuaGVscCkoInAtb3B0aW9uYWwiLCF0LnJlcXVpcmVkJiZ0Lm9wdGlvbmFsKSxacygzKSxlYSgicG8tZmllbGQtaWNvbi1kaXNhYmxlZCIsdC5kaXNhYmxlZCksWnMoMSksZWEoInBvLWlucHV0LWRvdWJsZS1pY29uLXJpZ2h0Iix0LmNsZWFuJiZlLnZhbHVlJiYhdC5oaWRlUGFzc3dvcmRQZWVrKSgicG8taW5wdXQtaWNvbi1yaWdodCIsdC5jbGVhbnx8IXQuaGlkZVBhc3N3b3JkUGVlayksT3IoImF1dG9jb21wbGV0ZSIsdC5hdXRvY29tcGxldGUpKCJkaXNhYmxlZCIsdC5kaXNhYmxlZCkoInBsYWNlaG9sZGVyIix0LnBsYWNlaG9sZGVyKSgicmVhZG9ubHkiLHQucmVhZG9ubHkpKCJyZXF1aXJlZCIsdC5yZXF1aXJlZCkoInR5cGUiLHQuZGlzYWJsZWQ/InBhc3N3b3JkIjp0LnR5cGUpLERyKCJuYW1lIix0Lm5hbWUpLFpzKDMpLE9yKCJuZ0lmIix0LmNsZWFuJiYhdC5kaXNhYmxlZCYmIXQucmVhZG9ubHkpLFpzKDEpLE9yKCJuZ0lmIiwhdC5oaWRlUGFzc3dvcmRQZWVrJiYhdC5kaXNhYmxlZCksWnMoMSksT3IoInAtZXJyb3ItcGF0dGVybiIsdC5nZXRFcnJvclBhdHRlcm4oKSl9fSxkaXJlY3RpdmVzOlt3RSxGaCx5RSxJRSx4aF0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCksQ3g9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuYXV0b0ZvY3VzPSExLHRoaXMuY2hhbmdlPW5ldyBlYyx0aGlzLm1kQ29sdW1ucz02LHRoaXMuX2NvbHVtbnM9Nix0aGlzLl9kaXNhYmxlZD0hMSx0aGlzLl9yZXF1aXJlZD0hMSx0aGlzLm9uQ2hhbmdlUHJvcGFnYXRlPW51bGx9c2V0IGNvbHVtbnMoZSl7Y29uc3QgdD1aRChlLDYpO3RoaXMuX2NvbHVtbnM9dGhpcy5nZXRHcmlkU3lzdGVtQ29sdW1ucyh0LDQpLHRoaXMubWRDb2x1bW5zPXRoaXMuZ2V0R3JpZFN5c3RlbUNvbHVtbnModCwyKX1nZXQgY29sdW1ucygpe3JldHVybiB0aGlzLl9jb2x1bW5zfXNldCBkaXNhYmxlZChlKXt0aGlzLl9kaXNhYmxlZD1ZRChlKSx0aGlzLnZhbGlkYXRlTW9kZWwoKX1nZXQgZGlzYWJsZWQoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZWR9c2V0IHJlcXVpcmVkKGUpe3RoaXMuX3JlcXVpcmVkPVlEKGUpLHRoaXMudmFsaWRhdGVNb2RlbCgpfWdldCByZXF1aXJlZCgpe3JldHVybiB0aGlzLl9yZXF1aXJlZH1zZXQgb3B0aW9ucyhlKXt0aGlzLl9vcHRpb25zPWUsc1ModGhpcy5vcHRpb25zKX1nZXQgb3B0aW9ucygpe3JldHVybiB0aGlzLl9vcHRpb25zfWNoYW5nZVZhbHVlKGUpe3RoaXMub25DaGFuZ2VQcm9wYWdhdGUmJnRoaXMub25DaGFuZ2VQcm9wYWdhdGUoZSksdGhpcy52YWx1ZSE9PWUmJnRoaXMuY2hhbmdlLmVtaXQoZSksdGhpcy52YWx1ZT1lfXNldERpc2FibGVkU3RhdGUoZSl7dGhpcy5kaXNhYmxlZD1lfXJlZ2lzdGVyT25DaGFuZ2UoZSl7dGhpcy5vbkNoYW5nZVByb3BhZ2F0ZT1lfXJlZ2lzdGVyT25Ub3VjaGVkKGUpe31yZWdpc3Rlck9uVmFsaWRhdG9yQ2hhbmdlKGUpe3RoaXMudmFsaWRhdG9yQ2hhbmdlPWV9dmFsaWRhdGUoZSl7aWYoREUodGhpcy5yZXF1aXJlZCx0aGlzLmRpc2FibGVkLGUudmFsdWUpKXJldHVybntyZXF1aXJlZDp7dmFsaWQ6ITF9fX13cml0ZVZhbHVlKGUpe3RoaXMudmFsdWU9ZSwhdGhpcy5nZXRFbGVtZW50QnlWYWx1ZShlKSYmdGhpcy5vbkNoYW5nZVByb3BhZ2F0ZSYmKHRoaXMudmFsdWU9dm9pZCAwLHRoaXMub25DaGFuZ2VQcm9wYWdhdGUodGhpcy52YWx1ZSkpfWNoZWNrQ29sdW1uc1JhbmdlKGUsdCl7cmV0dXJuIGU+PTEmJmU8PXR9Z2V0R3JpZFN5c3RlbUNvbHVtbnMoZSx0KXtjb25zdCBuPTEyL2U7cmV0dXJuIHRoaXMuY2hlY2tDb2x1bW5zUmFuZ2UoZSx0KT9uOjZ9dmFsaWRhdGVNb2RlbCgpe3RoaXMudmFsaWRhdG9yQ2hhbmdlJiZ0aGlzLnZhbGlkYXRvckNoYW5nZSgpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVkaXI9S2Uoe3R5cGU6ZSxpbnB1dHM6e2F1dG9Gb2N1czpbInAtYXV0by1mb2N1cyIsImF1dG9Gb2N1cyJdLGNvbHVtbnM6WyJwLWNvbHVtbnMiLCJjb2x1bW5zIl0sZGlzYWJsZWQ6WyJwLWRpc2FibGVkIiwiZGlzYWJsZWQiXSxyZXF1aXJlZDpbInAtcmVxdWlyZWQiLCJyZXF1aXJlZCJdLG9wdGlvbnM6WyJwLW9wdGlvbnMiLCJvcHRpb25zIl0sbmFtZToibmFtZSIsb3B0aW9uYWw6WyJwLW9wdGlvbmFsIiwib3B0aW9uYWwiXX0sb3V0cHV0czp7Y2hhbmdlOiJwLWNoYW5nZSJ9fSksT3YoW3hTKCldLGUucHJvdG90eXBlLCJhdXRvRm9jdXMiLHZvaWQgMCksZX0pKCksd3g9KCgpPT57Y2xhc3MgZSBleHRlbmRzIEN4e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5kaWZmZXI9ZS5maW5kKFtdKS5jcmVhdGUobnVsbCl9bmdBZnRlclZpZXdJbml0KCl7dGhpcy5hdXRvRm9jdXMmJnRoaXMuZm9jdXMoKX1uZ0RvQ2hlY2soKXt0aGlzLmRpZmZlci5kaWZmKHRoaXMub3B0aW9ucykmJnNTKHRoaXMub3B0aW9ucyl9ZXZlbnRDbGljayhlLHQpe3R8fHRoaXMuY2hhbmdlVmFsdWUoZSl9Zm9jdXMoKXtpZih0aGlzLnJhZGlvTGFiZWxzJiYhdGhpcy5kaXNhYmxlZCl7Y29uc3QgZT10aGlzLnJhZGlvTGFiZWxzLmZpbmQoKGUsdCk9PiF0aGlzLm9wdGlvbnNbdF0uZGlzYWJsZWQpO2UmJmUubmF0aXZlRWxlbWVudC5mb2N1cygpfX1nZXRFbGVtZW50QnlWYWx1ZShlKXtyZXR1cm4gdGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcihgaW5wdXRbdmFsdWU9JyR7ZX0nXWApfW9uS2V5VXAoZSx0KXt0aGlzLmlzQXJyb3dLZXkoZS5rZXlDb2RlfHxlLndoaWNoKSYmdGhpcy5jaGFuZ2VWYWx1ZSh0KX1pc0Fycm93S2V5KGUpe3JldHVybiBlPj0zNyYmZTw9NDB9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKGxsKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLXJhZGlvLWdyb3VwIl1dLHZpZXdRdWVyeTpmdW5jdGlvbihlLHQpe2lmKDEmZSYmKHBjKFd5LDcsVWEpLHBjKEpfLDUpKSwyJmUpe2xldCBlO2RjKGU9Z2MoKSkmJih0LmlucHV0RWw9ZS5maXJzdCksZGMoZT1nYygpKSYmKHQucmFkaW9MYWJlbHM9ZSl9fSxpbnB1dHM6e2xhYmVsOlsicC1sYWJlbCIsImxhYmVsIl0saGVscDpbInAtaGVscCIsImhlbHAiXX0sZmVhdHVyZXM6W0xhKFt7cHJvdmlkZTpQdix1c2VFeGlzdGluZzpzZSgoKT0+ZSksbXVsdGk6ITB9LHtwcm92aWRlOmp2LHVzZUV4aXN0aW5nOnNlKCgpPT5lKSxtdWx0aTohMH1dKSx1cl0sZGVjbHM6NSx2YXJzOjQsY29uc3RzOltbMywicC1oZWxwIiwicC1sYWJlbCIsInAtb3B0aW9uYWwiXSxbMSwicG8tcm93IiwicG8tcHQtMSIsInBvLXBiLTEiXSxbImlucCIsIiJdLFszLCJjbGFzcyIsNCwibmdGb3IiLCJuZ0Zvck9mIl0sWyJ0eXBlIiwicmFkaW8iLDEsInBvLXJhZGlvLWdyb3VwLWlucHV0IiwzLCJjaGVja2VkIiwiZGlzYWJsZWQiLCJyZXF1aXJlZCIsInZhbHVlIiwia2V5dXAiXSxbImlucHV0UmFkaW8iLCIiXSxbMSwicG8tcmFkaW8tZ3JvdXAtbGFiZWwiLDMsImZvciIsImNsaWNrIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoRnIoMCwicG8tZmllbGQtY29udGFpbmVyIiwwKSxGcigxLCJkaXYiLDEsMiksa3IoMyxYXyw1LDE1LCJkaXYiLDMpLElyKCksTXIoNCwicG8tZmllbGQtY29udGFpbmVyLWJvdHRvbSIpLElyKCkpLDImZSYmKE9yKCJwLWhlbHAiLHQuaGVscCkoInAtbGFiZWwiLHQubGFiZWwpKCJwLW9wdGlvbmFsIiwhdC5yZXF1aXJlZCYmdC5vcHRpb25hbCksWnMoMyksT3IoIm5nRm9yT2YiLHQub3B0aW9ucykpfSxkaXJlY3RpdmVzOlt3RSxPaCx5RV0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCksX3g9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuZWxlbWVudD1lLHRoaXMuYXV0b0ZvY3VzPSExLHRoaXMuY2hhbmdlPW5ldyBlYyx0aGlzLm5nTW9kZWxDaGFuZ2U9bmV3IGVjLHRoaXMucmVhZHlUb1ZhbGlkYXRpb249ITEsdGhpcy5fZGlzYWJsZWQ9ITEsdGhpcy5fcmVhZG9ubHk9ITEsdGhpcy5fcmVxdWlyZWQ9ITEsdGhpcy5lbGVtZW50PWUsdGhpcy5jaGFuZ2VEZXRlY3Rvcj10fXNldCBvcHRpb25zKGUpe3RoaXMuX29wdGlvbnM9ZSxzUyh0aGlzLl9vcHRpb25zKSxvUyh0aGlzLl9vcHRpb25zKSx0aGlzLm9uVXBkYXRlT3B0aW9ucygpfWdldCBvcHRpb25zKCl7cmV0dXJuIHRoaXMuX29wdGlvbnN9c2V0IGRpc2FibGVkKGUpe3RoaXMuX2Rpc2FibGVkPVlEKGUpLHRoaXMudmFsaWRhdGVNb2RlbCgpfWdldCBkaXNhYmxlZCgpe3JldHVybiB0aGlzLl9kaXNhYmxlZH1zZXQgcmVhZG9ubHkoZSl7dGhpcy5fcmVhZG9ubHk9WUQoZSl9Z2V0IHJlYWRvbmx5KCl7cmV0dXJuIHRoaXMuX3JlYWRvbmx5fXNldCByZXF1aXJlZChlKXt0aGlzLl9yZXF1aXJlZD1ZRChlKSx0aGlzLnZhbGlkYXRlTW9kZWwoKX1nZXQgcmVxdWlyZWQoKXtyZXR1cm4gdGhpcy5fcmVxdWlyZWR9Y2FsbE1vZGVsQ2hhbmdlKGUpe3JldHVybiB0aGlzLm9uTW9kZWxDaGFuZ2U/dGhpcy5vbk1vZGVsQ2hhbmdlKGUpOnRoaXMubmdNb2RlbENoYW5nZS5lbWl0KGUpfW9uQ2hhbmdlKGUpe3RoaXMuY2hhbmdlLmVtaXQoZSl9dmFsaWRhdGUoZSl7cmV0dXJuIERFKHRoaXMuX3JlcXVpcmVkLHRoaXMuX2Rpc2FibGVkLGUudmFsdWUpP3tyZXF1aXJlZDp7dmFsaWQ6ITF9fTpudWxsfXNldERpc2FibGVkU3RhdGUoZSl7dGhpcy5kaXNhYmxlZD1lLHRoaXMuY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpfXJlZ2lzdGVyT25DaGFuZ2UoZSl7dGhpcy5vbk1vZGVsQ2hhbmdlPWV9cmVnaXN0ZXJPblRvdWNoZWQoZSl7dGhpcy5vbk1vZGVsVG91Y2hlZD1lfXJlZ2lzdGVyT25WYWxpZGF0b3JDaGFuZ2UoZSl7dGhpcy5vblZhbGlkYXRvckNoYW5nZT1lfXZhbGlkYXRlTW9kZWwoKXt0aGlzLm9uVmFsaWRhdG9yQ2hhbmdlJiZ0aGlzLm9uVmFsaWRhdG9yQ2hhbmdlKCl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKFVhKSxBcihnbCkpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLGlucHV0czp7YXV0b0ZvY3VzOlsicC1hdXRvLWZvY3VzIiwiYXV0b0ZvY3VzIl0sb3B0aW9uczpbInAtb3B0aW9ucyIsIm9wdGlvbnMiXSxkaXNhYmxlZDpbInAtZGlzYWJsZWQiLCJkaXNhYmxlZCJdLHJlYWRvbmx5OlsicC1yZWFkb25seSIsInJlYWRvbmx5Il0scmVxdWlyZWQ6WyJwLXJlcXVpcmVkIiwicmVxdWlyZWQiXSxsYWJlbDpbInAtbGFiZWwiLCJsYWJlbCJdLG5hbWU6Im5hbWUiLGhlbHA6WyJwLWhlbHAiLCJoZWxwIl0scGxhY2Vob2xkZXI6WyJwLXBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXIiXSxvcHRpb25hbDpbInAtb3B0aW9uYWwiLCJvcHRpb25hbCJdfSxvdXRwdXRzOntjaGFuZ2U6InAtY2hhbmdlIixuZ01vZGVsQ2hhbmdlOiJuZ01vZGVsQ2hhbmdlIn19KSxPdihbeFMoKV0sZS5wcm90b3R5cGUsImF1dG9Gb2N1cyIsdm9pZCAwKSxlfSkoKSxEeD0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUpe3RoaXMudGVtcGxhdGVSZWY9ZX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoQ2wpKX0sZS5cdTAyNzVkaXI9S2Uoe3R5cGU6ZSxzZWxlY3RvcnM6W1siIiwicC1zZWxlY3Qtb3B0aW9uLXRlbXBsYXRlIiwiIl1dfSksZX0pKCk7Y29uc3QgU3g9ImJvdHRvbSI7bGV0IEV4PSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBfeHtjb25zdHJ1Y3RvcihlLHQsbixpLHMpe3N1cGVyKGUsdCksdGhpcy5yZW5kZXJlcj1pLHRoaXMuY29udHJvbFBvc2l0aW9uPXMsdGhpcy5pc01vYmlsZT10UygpLHRoaXMub3Blbj0hMSx0aGlzLnNlbGVjdEljb249InBvLWljb24tYXJyb3ctZG93biIsdGhpcy5vblNjcm9sbD0oKT0+e3RoaXMuY29udHJvbFBvc2l0aW9uLmFkanVzdFBvc2l0aW9uKFN4KX0sdGhpcy5kaWZmZXI9bi5maW5kKFtdKS5jcmVhdGUobnVsbCl9Z2V0IGlzSW52aXNpYmxlU2VsZWN0TmF0aXZlKCl7cmV0dXJuIHRoaXMucmVhZG9ubHkmJnRoaXMuaXNNb2JpbGV9b25LZXlkb3duKGUpe2NvbnN0IHQ9ZS53aGljaHx8ZS5rZXlDb2RlO3RoaXMucmVhZG9ubHk/dCE9PU5rLnRhYiYmKHRoaXMuZGlzYWJsZURlZmF1bHRFdmVudEFuZFRvZ2dsZUJ1dHRvbigpLGUucHJldmVudERlZmF1bHQoKSk6KHRoaXMub3BlbiYmIWUuYWx0S2V5fHx0IT09TmsuYXJyb3dEb3duJiZ0IT09TmsuYXJyb3dVcHx8dGhpcy5kaXNhYmxlRGVmYXVsdEV2ZW50QW5kVG9nZ2xlQnV0dG9uKCksdCE9PU5rLmVudGVyJiZ0IT09Tmsuc3BhY2V8fHRoaXMuZGlzYWJsZURlZmF1bHRFdmVudEFuZFRvZ2dsZUJ1dHRvbigpLHRoaXMub3BlbiYmdD09PU5rLnRhYiYmKGUucHJldmVudERlZmF1bHQoKSx0aGlzLnRvZ2dsZUJ1dHRvbigpKSl9bmdBZnRlclZpZXdJbml0KCl7dGhpcy5hdXRvRm9jdXMmJnRoaXMuZm9jdXMoKX1uZ0RvQ2hlY2soKXt0aGlzLmRpZmZlci5kaWZmKHRoaXMub3B0aW9ucykmJihzUyh0aGlzLm9wdGlvbnMpLG9TKHRoaXMub3B0aW9ucykpfWZvY3VzKCl7dGhpcy5kaXNhYmxlZHx8dGhpcy5zZWxlY3RFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZm9jdXMoKX1oaWRlRHJvcERvd24oKXt0aGlzLnNlbGVjdEljb249InBvLWljb24tYXJyb3ctZG93biIsdGhpcy5zZWxlY3RvcigiLnBvLXNlbGVjdC1jb250YWluZXIiKS5jbGFzc0xpc3QucmVtb3ZlKCJwby1zZWxlY3Qtc2hvdyIpLHRoaXMub3Blbj0hMSx0aGlzLmNoYW5nZURldGVjdG9yLm1hcmtGb3JDaGVjaygpLHRoaXMuc2VsZWN0RWxlbWVudC5uYXRpdmVFbGVtZW50LmZvY3VzKCksdGhpcy5yZW1vdmVMaXN0ZW5lcnMoKX1pc0VxdWFsKGUsdCl7cmV0dXJuKGV8fDA9PT1lKSYmdD9lLnRvU3RyaW5nKCk9PT10LnRvU3RyaW5nKCk6KChudWxsPT09ZSYmbnVsbCE9PXR8fHZvaWQgMD09PWUmJnZvaWQgMCE9PXQpJiYoZT1gJHtlfWApLGU9PT10KX1vbkJsdXIoKXt2YXIgZTtudWxsPT09KGU9dGhpcy5vbk1vZGVsVG91Y2hlZCl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzKX1vbk9wdGlvbkNsaWNrKGUpe3RoaXMudXBkYXRlTW9kZWwoZSksdGhpcy50b2dnbGVCdXR0b24oKX1vblNlbGVjdENoYW5nZShlKXtpZihlJiZ0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5sZW5ndGgpe2NvbnN0IHQ9dGhpcy5maW5kT3B0aW9uVmFsdWUoZSk7dCYmKHRoaXMudXBkYXRlTW9kZWwodCksdGhpcy5zZXRTY3JvbGxQb3NpdGlvbih0LnZhbHVlKSl9fW9uVXBkYXRlT3B0aW9ucygpe3RoaXMubW9kZWxWYWx1ZSYmdGhpcy5vblNlbGVjdENoYW5nZSh0aGlzLm1vZGVsVmFsdWUpfXNjcm9sbFZhbHVlKGUsdCl7Y29uc3Qgbj1lKnRoaXMuZ2V0U2VsZWN0SXRlbUhlaWdodCgpO3JldHVybiB0aGlzLnNjcm9sbFBvc2l0aW9uPW4+dD9uOjB9c2VsZWN0b3IoZSl7cmV0dXJuIHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoZSl9dG9nZ2xlQnV0dG9uKCl7dGhpcy5vcGVuP3RoaXMuaGlkZURyb3BEb3duKCk6dGhpcy5zaG93RHJvcGRvd24oKX11cGRhdGVNb2RlbChlKXt0aGlzLnNlbGVjdGVkVmFsdWUhPT1lLnZhbHVlJiYodGhpcy5zZWxlY3RlZFZhbHVlPWUudmFsdWUsdGhpcy5zZWxlY3RFbGVtZW50Lm5hdGl2ZUVsZW1lbnQudmFsdWU9ZS52YWx1ZSx0aGlzLmNhbGxNb2RlbENoYW5nZShlLnZhbHVlKSx0aGlzLmRpc3BsYXlWYWx1ZT1lLmxhYmVsLHRoaXMub25DaGFuZ2UoZS52YWx1ZSkpfXdhc0NsaWNrZWRPblRvZ2dsZShlKXt0aGlzLnNlbGVjdEJ1dHRvbkVsZW1lbnQubmF0aXZlRWxlbWVudC5jb250YWlucyhlLnRhcmdldCl8fHRoaXMuaWNvbkVsZW1lbnQubmF0aXZlRWxlbWVudC5jb250YWlucyhlLnRhcmdldCl8fHRoaXMuaGlkZURyb3BEb3duKCl9d3JpdGVWYWx1ZShlKXtjb25zdCB0PXRoaXMuZmluZE9wdGlvblZhbHVlKGUpO3Q/KHRoaXMuc2VsZWN0RWxlbWVudC5uYXRpdmVFbGVtZW50LnZhbHVlPXQudmFsdWUsdGhpcy5zZWxlY3RlZFZhbHVlPXQudmFsdWUsdGhpcy5kaXNwbGF5VmFsdWU9dC5sYWJlbCx0aGlzLnNldFNjcm9sbFBvc2l0aW9uKHQudmFsdWUpKTpyUyh0aGlzLnNlbGVjdGVkVmFsdWUpJiYodGhpcy5zZWxlY3RFbGVtZW50Lm5hdGl2ZUVsZW1lbnQudmFsdWU9dm9pZCAwLHRoaXMuY2FsbE1vZGVsQ2hhbmdlKHZvaWQgMCksdGhpcy5zZWxlY3RlZFZhbHVlPXZvaWQgMCx0aGlzLmRpc3BsYXlWYWx1ZT12b2lkIDApLHRoaXMubW9kZWxWYWx1ZT1lLHRoaXMuY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpfWRpc2FibGVEZWZhdWx0RXZlbnRBbmRUb2dnbGVCdXR0b24oKXt0aGlzLnNlbGVjdEVsZW1lbnQubmF0aXZlRWxlbWVudC5zdHlsZS5kaXNwbGF5PSJub25lIixzZXRUaW1lb3V0KCgpPT57dGhpcy5zZWxlY3RFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuc3R5bGUuZGlzcGxheT0iYmxvY2siLHRoaXMudG9nZ2xlQnV0dG9uKCl9KX1maW5kT3B0aW9uVmFsdWUoZSl7cmV0dXJuIHRoaXMub3B0aW9ucy5maW5kKHQ9PnRoaXMuaXNFcXVhbCh0LnZhbHVlLGUpKX1nZXRTZWxlY3RJdGVtSGVpZ2h0KCl7Y29uc3QgZT10aGlzLnNlbGVjdG9yKCJkaXYucG8tc2VsZWN0LWl0ZW0iKTtyZXR1cm4gZSYmZS5jbGllbnRIZWlnaHR9aW5pdGlhbGl6ZUxpc3RlbmVycygpe3RoaXMuY2xpY2tvdXRMaXN0ZW5lcj10aGlzLnJlbmRlcmVyLmxpc3RlbigiZG9jdW1lbnQiLCJjbGljayIsZT0+e3RoaXMud2FzQ2xpY2tlZE9uVG9nZ2xlKGUpfSksdGhpcy5ldmVudFJlc2l6ZUxpc3RlbmVyPXRoaXMucmVuZGVyZXIubGlzdGVuKCJ3aW5kb3ciLCJyZXNpemUiLCgpPT57dGhpcy5oaWRlRHJvcERvd24oKX0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLHRoaXMub25TY3JvbGwsITApfXJlbW92ZUxpc3RlbmVycygpe3RoaXMuY2xpY2tvdXRMaXN0ZW5lciYmdGhpcy5jbGlja291dExpc3RlbmVyKCksdGhpcy5ldmVudFJlc2l6ZUxpc3RlbmVyKCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsdGhpcy5vblNjcm9sbCwhMCl9c2V0UG9zaXRpb25Ecm9wZG93bigpe3RoaXMuY29udHJvbFBvc2l0aW9uLnNldEVsZW1lbnRzKHRoaXMuY29udGVudExpc3QubmF0aXZlRWxlbWVudCw4LHRoaXMuc2VsZWN0QnV0dG9uRWxlbWVudCxbInRvcCIsImJvdHRvbSJdLCEwKSx0aGlzLmNvbnRyb2xQb3NpdGlvbi5hZGp1c3RQb3NpdGlvbihTeCl9c2V0U2Nyb2xsUG9zaXRpb24oZSl7Y29uc3QgdD10aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCJ1bC5wby1zZWxlY3QtY29udGVudCIpO2lmKGUmJnRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zLmxlbmd0aCl7Y29uc3Qgbj10aGlzLmZpbmRPcHRpb25WYWx1ZShlKTtpZihuKXtjb25zdCBlPXRoaXMub3B0aW9ucy5pbmRleE9mKG4pO3Quc2Nyb2xsVG9wPXRoaXMuc2Nyb2xsVmFsdWUoZSx0LmNsaWVudEhlaWdodCl9fX1zaG93RHJvcGRvd24oKXt0aGlzLnJlYWRvbmx5fHwodGhpcy5zZWxlY3RFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZm9jdXMoKSx0aGlzLnNlbGVjdEljb249InBvLWljb24tYXJyb3ctdXAiLHRoaXMuc2VsZWN0b3IoIi5wby1zZWxlY3QtY29udGFpbmVyIikuY2xhc3NMaXN0LmFkZCgicG8tc2VsZWN0LXNob3ciKSx0aGlzLm9wZW49ITAsdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKSx0aGlzLnNldFBvc2l0aW9uRHJvcGRvd24oKSx0aGlzLmluaXRpYWxpemVMaXN0ZW5lcnMoKSx0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5sZW5ndGgmJnRoaXMuc2V0U2Nyb2xsUG9zaXRpb24odGhpcy5zZWxlY3RlZFZhbHVlKSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKFVhKSxBcihnbCksQXIobGwpLEFyKFdhKSxBcihWUykpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby1zZWxlY3QiXV0sY29udGVudFF1ZXJpZXM6ZnVuY3Rpb24oZSx0LG4pe2lmKDEmZSYmZmMobixEeCw3KSwyJmUpe2xldCBlO2RjKGU9Z2MoKSkmJih0LnNlbGVjdE9wdGlvblRlbXBsYXRlPWUuZmlyc3QpfX0sdmlld1F1ZXJ5OmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiYocGMoZUQsNyxVYSkscGModEQsNyxVYSkscGMobkQsNyxVYSkscGMoaUQsNyxVYSkpLDImZSl7bGV0IGU7ZGMoZT1nYygpKSYmKHQuY29udGVudExpc3Q9ZS5maXJzdCksZGMoZT1nYygpKSYmKHQuaWNvbkVsZW1lbnQ9ZS5maXJzdCksZGMoZT1nYygpKSYmKHQuc2VsZWN0RWxlbWVudD1lLmZpcnN0KSxkYyhlPWdjKCkpJiYodC5zZWxlY3RCdXR0b25FbGVtZW50PWUuZmlyc3QpfX0saG9zdEJpbmRpbmdzOmZ1bmN0aW9uKGUsdCl7MSZlJiZCcigia2V5ZG93biIsZnVuY3Rpb24oZSl7cmV0dXJuIHQub25LZXlkb3duKGUpfSl9LGZlYXR1cmVzOltMYShbe3Byb3ZpZGU6UHYsdXNlRXhpc3Rpbmc6c2UoKCk9PmUpLG11bHRpOiEwfSx7cHJvdmlkZTpqdix1c2VFeGlzdGluZzpzZSgoKT0+ZSksbXVsdGk6ITB9LFZTXSksdXJdLGRlY2xzOjE3LHZhcnM6MjgsY29uc3RzOltbMywicC1sYWJlbCIsInAtaGVscCIsInAtb3B0aW9uYWwiXSxbMSwicG8tc2VsZWN0IiwzLCJkaXNhYmxlZCIsIm5nQ2xhc3MiLCJyZXF1aXJlZCIsImNoYW5nZSIsImJsdXIiXSxbInNlbGVjdCIsIiJdLFsiZGlzYWJsZWQiLCIiLCJoaWRkZW4iLCIiLCJzZWxlY3RlZCIsIiIsNCwibmdJZiJdLFszLCJkaXNhYmxlZCIsInZhbHVlIiwiY2xpY2siLDQsIm5nRm9yIiwibmdGb3JPZiJdLFsxLCJwby1zZWxlY3QtY29udGFpbmVyIl0sWzEsInBvLXNlbGVjdC1idXR0b24iLDMsIm5nQ2xhc3MiLCJjbGljayJdLFsic2VsZWN0QnV0dG9uIiwiIl0sWzEsInBvLWZpZWxkLWljb24tY29udGFpbmVyLXJpZ2h0Il0sWzMsIm5nQ2xhc3MiXSxbImljb24iLCIiXSxbMSwicG8tc2VsZWN0LWNvbnRlbnQiLDMsIm5nQ2xhc3MiXSxbImNvbnRlbnRMaXN0IiwiIl0sWzMsInBvLXNlbGVjdC1pdGVtLXNlbGVjdGVkIiwidmFsdWUiLCJjbGljayIsNCwibmdGb3IiLCJuZ0Zvck9mIl0sWyJkaXNhYmxlZCIsIiIsImhpZGRlbiIsIiIsInNlbGVjdGVkIiwiIl0sWzMsImRpc2FibGVkIiwidmFsdWUiLCJjbGljayJdLFszLCJ2YWx1ZSIsImNsaWNrIl0sWzEsInBvLXNlbGVjdC1pdGVtIl0sWzQsIm5nSWYiLCJuZ0lmVGhlbiIsIm5nSWZFbHNlIl0sWyJkZWZhdWx0T3B0aW9uVGVtcGxhdGUiLCIiXSxbMywibmdUZW1wbGF0ZU91dGxldCIsIm5nVGVtcGxhdGVPdXRsZXRDb250ZXh0Il0sWyJvcHRpb25UZW1wbGF0ZSIsIiJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYmKEZyKDAsInBvLWZpZWxkLWNvbnRhaW5lciIsMCksRnIoMSwic2VsZWN0IiwxLDIpLEJyKCJjaGFuZ2UiLGZ1bmN0aW9uKGUpe3JldHVybiB0Lm9uU2VsZWN0Q2hhbmdlKGUudGFyZ2V0LnZhbHVlKX0pKCJibHVyIixmdW5jdGlvbigpe3JldHVybiB0Lm9uQmx1cigpfSksa3IoMyxzRCwxLDAsIm9wdGlvbiIsMyksa3IoNCxvRCwyLDMsIm9wdGlvbiIsNCksSXIoKSxGcig1LCJkaXYiLDUpLEZyKDYsImRpdiIsNiw3KSxCcigiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIHQudG9nZ2xlQnV0dG9uKCl9KSxGcig4LCJzcGFuIikscGEoOSksSXIoKSxGcigxMCwiZGl2Iiw4KSxNcigxMSwic3BhbiIsOSwxMCksSXIoKSxJcigpLEZyKDEzLCJ1bCIsMTEsMTIpLGtyKDE1LGNELDcsMTAsImxpIiwxMyksSXIoKSxJcigpLE1yKDE2LCJwby1maWVsZC1jb250YWluZXItYm90dG9tIiksSXIoKSksMiZlJiYoT3IoInAtbGFiZWwiLHQubGFiZWwpKCJwLWhlbHAiLHQuaGVscCkoInAtb3B0aW9uYWwiLCF0LnJlcXVpcmVkJiZ0Lm9wdGlvbmFsKSxacygxKSxPcigiZGlzYWJsZWQiLHQuZGlzYWJsZWQpKCJuZ0NsYXNzIixxbCgxNyx1RCx0LmlzTW9iaWxlLHQuaXNJbnZpc2libGVTZWxlY3ROYXRpdmUpKSgicmVxdWlyZWQiLHQucmVxdWlyZWQpLERyKCJuYW1lIix0Lm5hbWUpLFpzKDIpLE9yKCJuZ0lmIix0LmlzTW9iaWxlKSxacygxKSxPcigibmdGb3JPZiIsdC5vcHRpb25zKSxacygyKSxPcigibmdDbGFzcyIscWwoMjAsaEQsdC5kaXNhYmxlZCx0LnJlYWRvbmx5KSksWnMoMyksZmEodC5kaXNwbGF5VmFsdWV8fHQucGxhY2Vob2xkZXIpLFpzKDIpLHZhKCJwby1pY29uICIsdC5zZWxlY3RJY29uLCIgcG8tZmllbGQtaWNvbiIpLE9yKCJuZ0NsYXNzIixxbCgyMyxkRCx0LmRpc2FibGVkLHQucmVhZG9ubHkpKSxacygyKSxPcigibmdDbGFzcyIsVWwoMjYscEQsdC5pc01vYmlsZSkpLFpzKDIpLE9yKCJuZ0Zvck9mIix0Lm9wdGlvbnMpKX0sZGlyZWN0aXZlczpbd0UseGgsRmgsT2gseUUsT2IsTWIsamhdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLGV9KSgpO3ZhciBreD1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLlJpZ2h0PTBdPSJSaWdodCIsZVtlLkxlZnQ9MV09IkxlZnQiLGV9KHt9KTtsZXQgeHg9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmNoYW5nZURldGVjdG9yPWUsdGhpcy5hdXRvRm9jdXM9ITEsdGhpcy5jaGFuZ2U9bmV3IGVjLHRoaXMubmdNb2RlbENoYW5nZT1uZXcgZWMsdGhpcy5zd2l0Y2hWYWx1ZT0hMSx0aGlzLl9kaXNhYmxlZD0hMSx0aGlzLmxhYmVsT249InRydWUiLHRoaXMubGFiZWxPZmY9ImZhbHNlIix0aGlzLmxhYmVsUG9zaXRpb249a3guUmlnaHR9c2V0IHNldExhYmVsT24oZSl7dGhpcy5sYWJlbE9uPWV8fCJ0cnVlIn1zZXQgc2V0TGFiZWxPZmYoZSl7dGhpcy5sYWJlbE9mZj1lfHwiZmFsc2UifXNldCBzZXRMYWJlbFBvc2l0aW9uKGUpe3RoaXMubGFiZWxQb3NpdGlvbj1lIGluIGt4P3BhcnNlSW50KGUsMTApOmt4LlJpZ2h0fXNldCBkaXNhYmxlZChlKXt0aGlzLl9kaXNhYmxlZD1ZRChlKX1nZXQgZGlzYWJsZWQoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZWR9Y2hhbmdlVmFsdWUoZSl7dGhpcy5zd2l0Y2hWYWx1ZSE9PWUmJih0aGlzLnN3aXRjaFZhbHVlPWUsdGhpcy5wcm9wYWdhdGVDaGFuZ2U/dGhpcy5wcm9wYWdhdGVDaGFuZ2UoZSk6dGhpcy5uZ01vZGVsQ2hhbmdlLmVtaXQoZSksdGhpcy5jaGFuZ2UuZW1pdCh0aGlzLnN3aXRjaFZhbHVlKSl9ZXZlbnRDbGljaygpe3RoaXMuZGlzYWJsZWR8fHRoaXMuY2hhbmdlVmFsdWUoIXRoaXMuc3dpdGNoVmFsdWUpfXNldERpc2FibGVkU3RhdGUoZSl7dGhpcy5kaXNhYmxlZD1lfXJlZ2lzdGVyT25DaGFuZ2UoZSl7dGhpcy5wcm9wYWdhdGVDaGFuZ2U9ZX1yZWdpc3Rlck9uVG91Y2hlZChlKXt0aGlzLm9uVG91Y2hlZD1lfXdyaXRlVmFsdWUoZSl7ZSE9PXRoaXMuc3dpdGNoVmFsdWUmJih0aGlzLnN3aXRjaFZhbHVlPSEhZSx0aGlzLmNoYW5nZURldGVjdG9yLm1hcmtGb3JDaGVjaygpKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoZ2wpKX0sZS5cdTAyNzVkaXI9S2Uoe3R5cGU6ZSxpbnB1dHM6e2F1dG9Gb2N1czpbInAtYXV0by1mb2N1cyIsImF1dG9Gb2N1cyJdLHNldExhYmVsT246WyJwLWxhYmVsLW9uIiwic2V0TGFiZWxPbiJdLHNldExhYmVsT2ZmOlsicC1sYWJlbC1vZmYiLCJzZXRMYWJlbE9mZiJdLHNldExhYmVsUG9zaXRpb246WyJwLWxhYmVsLXBvc2l0aW9uIiwic2V0TGFiZWxQb3NpdGlvbiJdLGRpc2FibGVkOlsicC1kaXNhYmxlZCIsImRpc2FibGVkIl0sbmFtZToibmFtZSIsbGFiZWw6WyJwLWxhYmVsIiwibGFiZWwiXSxoZWxwOlsicC1oZWxwIiwiaGVscCJdfSxvdXRwdXRzOntjaGFuZ2U6InAtY2hhbmdlIixuZ01vZGVsQ2hhbmdlOiJuZ01vZGVsQ2hhbmdlIn19KSxPdihbeFMoKV0sZS5wcm90b3R5cGUsImF1dG9Gb2N1cyIsdm9pZCAwKSxlfSkoKSxBeD0oKCk9PntjbGFzcyBlIGV4dGVuZHMgeHh7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9bmdBZnRlclZpZXdJbml0KCl7dGhpcy5hdXRvRm9jdXMmJnRoaXMuZm9jdXMoKX1mb2N1cygpe3RoaXMuZGlzYWJsZWR8fHRoaXMuc3dpdGNoQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQuZm9jdXMoKX1vbkJsdXIoKXt2YXIgZTtudWxsPT09KGU9dGhpcy5vblRvdWNoZWQpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyl9Z2V0TGFiZWxQb3NpdGlvbigpe3N3aXRjaCh0aGlzLmxhYmVsUG9zaXRpb24pe2Nhc2Uga3guTGVmdDpyZXR1cm4ibGVmdCI7Y2FzZSBreC5SaWdodDpkZWZhdWx0OnJldHVybiJyaWdodCJ9fWdldFN3aXRjaFBvc2l0aW9uKCl7c3dpdGNoKHRoaXMubGFiZWxQb3NpdGlvbil7Y2FzZSBreC5MZWZ0OnJldHVybiJyaWdodCI7Y2FzZSBreC5SaWdodDpkZWZhdWx0OnJldHVybiJsZWZ0In19b25LZXlEb3duKGUpezMyIT09ZS53aGljaCYmMzIhPT1lLmtleUNvZGV8fChlLnByZXZlbnREZWZhdWx0KCksdGhpcy5ldmVudENsaWNrKCkpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShBcihnbCkpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwby1zd2l0Y2giXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiZwYyhmRCw3KSwyJmUpe2xldCBlO2RjKGU9Z2MoKSkmJih0LnN3aXRjaENvbnRhaW5lcj1lLmZpcnN0KX19LGZlYXR1cmVzOltMYShbe3Byb3ZpZGU6UHYsdXNlRXhpc3Rpbmc6c2UoKCk9PmUpLG11bHRpOiEwfV0pLHVyXSxkZWNsczo5LHZhcnM6MjUsY29uc3RzOltbMywicC1sYWJlbCIsInAtaGVscCJdLFsxLCJwby1maWVsZC1jb250YWluZXItY29udGVudCIsInBvLXN3aXRjaC1jb250ZW50Il0sWzEsInBvLXN3aXRjaC1jb250YWluZXIiLCJwby1jbGlja2FibGUiLDMsInRhYmluZGV4IiwiY2xpY2siLCJrZXlkb3duIiwiYmx1ciJdLFsic3dpdGNoQ29udGFpbmVyIiwiIl0sWzEsInBvLXN3aXRjaC1idXR0b24iXSxbMywiY2xpY2siXV0sdGVtcGxhdGU6ZnVuY3Rpb24oZSx0KXsxJmUmJihGcigwLCJwby1maWVsZC1jb250YWluZXIiLDApLEZyKDEsImRpdiIsMSksRnIoMiwiZGl2IiwyLDMpLEJyKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gdC5ldmVudENsaWNrKCl9KSgia2V5ZG93biIsZnVuY3Rpb24oZSl7cmV0dXJuIHQub25LZXlEb3duKGUpfSkoImJsdXIiLGZ1bmN0aW9uKCl7cmV0dXJuIHQub25CbHVyKCl9KSxGcig0LCJkaXYiLDQpLE1yKDUsInNwYW4iKSxJcigpLElyKCksRnIoNiwic3BhbiIsNSksQnIoImNsaWNrIixmdW5jdGlvbigpe3JldHVybiB0LmV2ZW50Q2xpY2soKX0pLHBhKDcpLElyKCksSXIoKSxNcig4LCJwby1maWVsZC1jb250YWluZXItYm90dG9tIiksSXIoKSksMiZlJiYoT3IoInAtbGFiZWwiLHQubGFiZWwpKCJwLWhlbHAiLHQuaGVscCksWnMoMSksRHIoIm5hbWUiLHQubmFtZSksWnMoMSksZWEoInBvLXN3aXRjaC1jb250YWluZXItZGlzYWJsZWQiLHQuZGlzYWJsZWQpKCJwby1zd2l0Y2gtY29udGFpbmVyLW9mZiIsITE9PT10LnN3aXRjaFZhbHVlJiYhdC5kaXNhYmxlZCkoInBvLXN3aXRjaC1jb250YWluZXItb24iLCEwPT09dC5zd2l0Y2hWYWx1ZSYmIXQuZGlzYWJsZWQpKCJwby1zd2l0Y2gtY29udGFpbmVyLXJpZ2h0IiwicmlnaHQiPT09dC5nZXRTd2l0Y2hQb3NpdGlvbigpKSxPcigidGFiaW5kZXgiLHQuZGlzYWJsZWQ/LTE6MCksWnMoMiksZWEoInBvLXN3aXRjaC1idXR0b24tb24iLCEwPT09dC5zd2l0Y2hWYWx1ZSkoInBvLXN3aXRjaC1idXR0b24tb2ZmIiwhMT09PXQuc3dpdGNoVmFsdWUpKCJwby1zd2l0Y2gtYnV0dG9uLWRpc2FibGVkIix0LmRpc2FibGVkKSxacygxKSx2YSgicG8taWNvbiBwby1pY29uLSIsITA9PT10LnN3aXRjaFZhbHVlPyJvayI6ImNsb3NlIiwiIiksWnMoMSksdmEoInBvLXN3aXRjaC1sYWJlbCBwby1jbGlja2FibGUgcG8tc3dpdGNoLWxhYmVsLSIsdC5nZXRMYWJlbFBvc2l0aW9uKCksIiIpLFpzKDEpLGdhKCIgIiwhMD09PXQuc3dpdGNoVmFsdWU/dC5sYWJlbE9uOnQubGFiZWxPZmYsIiAiKSl9LGRpcmVjdGl2ZXM6W3dFLHlFXSxlbmNhcHN1bGF0aW9uOjIsY2hhbmdlRGV0ZWN0aW9uOjB9KSxlfSkoKSxPeD0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKCl7dGhpcy5hdXRvRm9jdXM9ITEsdGhpcy5ibHVyPW5ldyBlYyx0aGlzLmVudGVyPW5ldyBlYyx0aGlzLmNoYW5nZT1uZXcgZWMsdGhpcy5jaGFuZ2VNb2RlbD1uZXcgZWMsdGhpcy5fZGlzYWJsZWQ9ITEsdGhpcy5fcGxhY2Vob2xkZXI9IiIsdGhpcy5fcmVhZG9ubHk9ITEsdGhpcy5fcmVxdWlyZWQ9ITEsdGhpcy5fcm93cz0zLHRoaXMub25DaGFuZ2VQcm9wYWdhdGU9bnVsbCx0aGlzLm9uVG91Y2hlZD1udWxsfXNldCBwbGFjZWhvbGRlcihlKXt0aGlzLl9wbGFjZWhvbGRlcj1lfHwiIn1nZXQgcGxhY2Vob2xkZXIoKXtyZXR1cm4gdGhpcy5fcGxhY2Vob2xkZXJ9c2V0IGRpc2FibGVkKGUpe3RoaXMuX2Rpc2FibGVkPVlEKGUpfWdldCBkaXNhYmxlZCgpe3JldHVybiB0aGlzLl9kaXNhYmxlZH1zZXQgcmVhZG9ubHkoZSl7dGhpcy5fcmVhZG9ubHk9WUQoZSl9Z2V0IHJlYWRvbmx5KCl7cmV0dXJuIHRoaXMuX3JlYWRvbmx5fXNldCByZXF1aXJlZChlKXt0aGlzLl9yZXF1aXJlZD1ZRChlKSx0aGlzLnZhbGlkYXRlTW9kZWwoKX1nZXQgcmVxdWlyZWQoKXtyZXR1cm4gdGhpcy5fcmVxdWlyZWR9c2V0IG1pbmxlbmd0aChlKXt0aGlzLl9taW5sZW5ndGg9WkQoZSksdGhpcy52YWxpZGF0ZU1vZGVsKCl9Z2V0IG1pbmxlbmd0aCgpe3JldHVybiB0aGlzLl9taW5sZW5ndGh9c2V0IG1heGxlbmd0aChlKXt0aGlzLl9tYXhsZW5ndGg9WkQoZSksdGhpcy52YWxpZGF0ZU1vZGVsKCl9Z2V0IG1heGxlbmd0aCgpe3JldHVybiB0aGlzLl9tYXhsZW5ndGh9c2V0IHJvd3MoZSl7dGhpcy5fcm93cz1pc05hTihwYXJzZUludChlLDEwKSl8fGU8Mz8zOnBhcnNlSW50KGUsMTApfWdldCByb3dzKCl7cmV0dXJuIHRoaXMuX3Jvd3N9Y2FsbE9uQ2hhbmdlKGUpe3RoaXMub25DaGFuZ2VQcm9wYWdhdGUmJnRoaXMub25DaGFuZ2VQcm9wYWdhdGUoZSksdGhpcy5jb250cm9sQ2hhbmdlTW9kZWxFbWl0dGVyKGUpfWNvbnRyb2xDaGFuZ2VNb2RlbEVtaXR0ZXIoZSl7dGhpcy5tb2RlbExhc3RVcGRhdGUhPT1lJiYodGhpcy5jaGFuZ2VNb2RlbC5lbWl0KGUpLHRoaXMubW9kZWxMYXN0VXBkYXRlPWUpfXNldERpc2FibGVkU3RhdGUoZSl7dGhpcy5kaXNhYmxlZD1lfXJlZ2lzdGVyT25DaGFuZ2UoZSl7dGhpcy5vbkNoYW5nZVByb3BhZ2F0ZT1lfXJlZ2lzdGVyT25Ub3VjaGVkKGUpe3RoaXMub25Ub3VjaGVkPWV9cmVnaXN0ZXJPblZhbGlkYXRvckNoYW5nZShlKXt0aGlzLnZhbGlkYXRvckNoYW5nZT1lfXZhbGlkYXRlKGUpe3JldHVybiBERSh0aGlzLnJlcXVpcmVkLHRoaXMuZGlzYWJsZWQsZS52YWx1ZSk/e3JlcXVpcmVkOnt2YWxpZDohMX19OkVFKHRoaXMubWlubGVuZ3RoLGUudmFsdWUpP3ttaW5sZW5ndGg6e3ZhbGlkOiExfX06U0UodGhpcy5tYXhsZW5ndGgsZS52YWx1ZSk/e21heGxlbmd0aDp7dmFsaWQ6ITF9fTp2b2lkIDB9d3JpdGVWYWx1ZShlKXt0aGlzLndyaXRlVmFsdWVNb2RlbChlKX12YWxpZGF0ZU1vZGVsKCl7dGhpcy52YWxpZGF0b3JDaGFuZ2UmJnRoaXMudmFsaWRhdG9yQ2hhbmdlKCl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLGlucHV0czp7YXV0b0ZvY3VzOlsicC1hdXRvLWZvY3VzIiwiYXV0b0ZvY3VzIl0scGxhY2Vob2xkZXI6WyJwLXBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXIiXSxkaXNhYmxlZDpbInAtZGlzYWJsZWQiLCJkaXNhYmxlZCJdLHJlYWRvbmx5OlsicC1yZWFkb25seSIsInJlYWRvbmx5Il0scmVxdWlyZWQ6WyJwLXJlcXVpcmVkIiwicmVxdWlyZWQiXSxtaW5sZW5ndGg6WyJwLW1pbmxlbmd0aCIsIm1pbmxlbmd0aCJdLG1heGxlbmd0aDpbInAtbWF4bGVuZ3RoIiwibWF4bGVuZ3RoIl0scm93czpbInAtcm93cyIsInJvd3MiXSxsYWJlbDpbInAtbGFiZWwiLCJsYWJlbCJdLGhlbHA6WyJwLWhlbHAiLCJoZWxwIl0sbmFtZToibmFtZSIsb3B0aW9uYWw6WyJwLW9wdGlvbmFsIiwib3B0aW9uYWwiXX0sb3V0cHV0czp7Ymx1cjoicC1ibHVyIixlbnRlcjoicC1lbnRlciIsY2hhbmdlOiJwLWNoYW5nZSIsY2hhbmdlTW9kZWw6InAtY2hhbmdlLW1vZGVsIn19KSxPdihbeFMoKV0sZS5wcm90b3R5cGUsImF1dG9Gb2N1cyIsdm9pZCAwKSxlfSkoKSxUeD0oKCk9PntjbGFzcyBlIGV4dGVuZHMgT3h7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuZmlyZUNoYW5nZT0hMX1mb2N1cygpe3RoaXMuZGlzYWJsZWR8fHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LmZvY3VzKCl9bmdBZnRlclZpZXdJbml0KCl7dGhpcy5hdXRvRm9jdXMmJnRoaXMuZm9jdXMoKX13cml0ZVZhbHVlTW9kZWwoZSl7dGhpcy5pbnB1dEVsJiYodGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWU9ZXx8IiIpLGUmJnRoaXMuY2hhbmdlLmVtaXQoZSl9dmFsaWRNYXhMZW5ndGgoZSx0KXtyZXR1cm4gZSYmdC5sZW5ndGg+ZT90LnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsZSk6dH1ldmVudE9uSW5wdXQoZSl7Y29uc3QgdD10aGlzLnZhbGlkTWF4TGVuZ3RoKHRoaXMubWF4bGVuZ3RoLGUudGFyZ2V0LnZhbHVlKTt0aGlzLmNhbGxPbkNoYW5nZSh0KSx0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZT10fWV2ZW50T25Gb2N1cygpe3RoaXMudmFsdWVCZWZvcmVDaGFuZ2U9dGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWUsdGhpcy5lbnRlci5lbWl0KCl9ZXZlbnRPbkJsdXIoKXt2YXIgZTtudWxsPT09KGU9dGhpcy5vblRvdWNoZWQpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyksdGhpcy5ibHVyLmVtaXQoKSx0aGlzLmNvbnRyb2xDaGFuZ2VFbWl0dGVyKCl9Y29udHJvbENoYW5nZUVtaXR0ZXIoKXtjb25zdCBlPXRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlO2UhPT10aGlzLnZhbHVlQmVmb3JlQ2hhbmdlJiZ0aGlzLmNoYW5nZS5lbWl0KGUpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8tdGV4dGFyZWEiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiZwYyhXeSw3LFVhKSwyJmUpe2xldCBlO2RjKGU9Z2MoKSkmJih0LmlucHV0RWw9ZS5maXJzdCl9fSxmZWF0dXJlczpbTGEoW3twcm92aWRlOlB2LHVzZUV4aXN0aW5nOnNlKCgpPT5lKSxtdWx0aTohMH0se3Byb3ZpZGU6anYsdXNlRXhpc3Rpbmc6c2UoKCk9PmUpLG11bHRpOiEwfV0pLHVyXSxkZWNsczo2LHZhcnM6OSxjb25zdHM6W1szLCJwLWhlbHAiLCJwLWxhYmVsIiwicC1vcHRpb25hbCJdLFsxLCJwby1maWVsZC1jb250YWluZXItY29udGVudCJdLFsxLCJwby10ZXh0YXJlYSIsMywiZGlzYWJsZWQiLCJwbGFjZWhvbGRlciIsInJlYWRvbmx5IiwicmVxdWlyZWQiLCJyb3dzIiwiYmx1ciIsImZvY3VzIiwiaW5wdXQiXSxbImlucCIsIiJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYmKEZyKDAsInBvLWZpZWxkLWNvbnRhaW5lciIsMCksRnIoMSwiZGl2IiwxKSxGcigyLCJ0ZXh0YXJlYSIsMiwzKSxCcigiYmx1ciIsZnVuY3Rpb24oKXtyZXR1cm4gdC5ldmVudE9uQmx1cigpfSkoImZvY3VzIixmdW5jdGlvbigpe3JldHVybiB0LmV2ZW50T25Gb2N1cygpfSkoImlucHV0IixmdW5jdGlvbihlKXtyZXR1cm4gdC5ldmVudE9uSW5wdXQoZSl9KSxwYSg0LCIgICAgIiksSXIoKSxJcigpLE1yKDUsInBvLWZpZWxkLWNvbnRhaW5lci1ib3R0b20iKSxJcigpKSwyJmUmJihPcigicC1oZWxwIix0LmhlbHApKCJwLWxhYmVsIix0LmxhYmVsKSgicC1vcHRpb25hbCIsIXQucmVxdWlyZWQmJnQub3B0aW9uYWwpLFpzKDIpLE9yKCJkaXNhYmxlZCIsdC5kaXNhYmxlZCkoInBsYWNlaG9sZGVyIix0LnBsYWNlaG9sZGVyKSgicmVhZG9ubHkiLHQucmVhZG9ubHkpKCJyZXF1aXJlZCIsdC5yZXF1aXJlZCkoInJvd3MiLHQucm93cyksRHIoIm5hbWUiLHQubmFtZSkpfSxkaXJlY3RpdmVzOlt3RSx5RV0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCksRng9KCgpPT57Y2xhc3MgZSBleHRlbmRzIGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5zdGFja1RvcD1bXSx0aGlzLnN0YWNrQm90dG9tPVtdLHRoaXMuZGVmYXVsdER1cmF0aW9uPTFlNH1zdWNjZXNzKGUpe3RoaXMuY3JlYXRlVG9hc3Rlcih0aGlzLmJ1aWxkVG9hc3RlcihlLHJrLlN1Y2Nlc3MpKX13YXJuaW5nKGUpe3RoaXMuY3JlYXRlVG9hc3Rlcih0aGlzLmJ1aWxkVG9hc3RlcihlLHJrLldhcm5pbmcpKX1lcnJvcihlKXt0aGlzLmNyZWF0ZVRvYXN0ZXIodGhpcy5idWlsZFRvYXN0ZXIoZSxyay5FcnJvcikpfWluZm9ybWF0aW9uKGUpe3RoaXMuY3JlYXRlVG9hc3Rlcih0aGlzLmJ1aWxkVG9hc3RlcihlLHJrLkluZm9ybWF0aW9uKSl9c2V0RGVmYXVsdER1cmF0aW9uKGUpe3RoaXMuZGVmYXVsdER1cmF0aW9uPWV9YnVpbGRUb2FzdGVyKGUsdCl7bGV0IG4saT0wO3ZvaWQgMD09PWUub3JpZW50YXRpb258fGUub3JpZW50YXRpb249PT1vay5Cb3R0b20/KGk9dGhpcy5zdGFja0JvdHRvbS5sZW5ndGgsbj1vay5Cb3R0b20pOihpPXRoaXMuc3RhY2tUb3AubGVuZ3RoLG49b2suVG9wKTtjb25zdCBzPXtjb21wb25lbnRSZWY6dm9pZCAwLG1lc3NhZ2U6ZS5tZXNzYWdlfHxlLHR5cGU6dCxvcmllbnRhdGlvbjpuLGFjdGlvbjplLmFjdGlvbixhY3Rpb25MYWJlbDplLmFjdGlvbkxhYmVsLHBvc2l0aW9uOmksZHVyYXRpb246ZS5kdXJhdGlvbnx8dGhpcy5kZWZhdWx0RHVyYXRpb259O3JldHVybiBlLmFjdGlvbiYmKHMuYWN0aW9uPXQ9PntlLmFjdGlvbigpLHRoaXMuZGVzdHJveVRvYXN0ZXIodC5jb21wb25lbnRSZWYpfSksc319e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5wb0NvbXBvbmVudEluamVjdG9yPWV9Y3JlYXRlVG9hc3RlcihlKXtjb25zdCB0PXRoaXMucG9Db21wb25lbnRJbmplY3Rvci5jcmVhdGVDb21wb25lbnRJbkFwcGxpY2F0aW9uKGFrKTtlLmNvbXBvbmVudFJlZj10LHQuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpLHQuaW5zdGFuY2UuY29uZmlnVG9hc3RlcihlKTtjb25zdCBuPWUub3JpZW50YXRpb249PT1vay5Ub3A/dGhpcy5zdGFja1RvcDp0aGlzLnN0YWNrQm90dG9tO24ucHVzaCh0KSx0aGlzLnZlcmlmeUxpbWl0VG9hc3RlcihuKSx0aGlzLm9ic2VydmFibGVPbkNsb3NlKHQpLGUuYWN0aW9uJiZlLmFjdGlvbkxhYmVsfHxmdW5jdGlvbihlPTAsdCxuKXtsZXQgaT0tMTtyZXR1cm4gcnAodCk/aT1OdW1iZXIodCk8MT8xOk51bWJlcih0KTpFKHQpJiYobj10KSxFKG4pfHwobj1vcCksbmV3IGIodD0+e2NvbnN0IHM9cnAoZSk/ZTorZS1uLm5vdygpO3JldHVybiBuLnNjaGVkdWxlKGFwLHMse2luZGV4OjAscGVyaW9kOmksc3Vic2NyaWJlcjp0fSl9KX0oZS5kdXJhdGlvbikucGlwZShmdW5jdGlvbihlLHQ9ITEpe3JldHVybiBuPT5uLmxpZnQobmV3IFViKGUsdCkpfSgoKT0+dC5pbnN0YW5jZS5hbGl2ZSkpLnN1YnNjcmliZSgoKT0+e3RoaXMuZGVzdHJveVRvYXN0ZXIodCl9KX1kZXN0cm95VG9hc3RlcihlKXtsZXQgdDt0PWUuaW5zdGFuY2Uub3JpZW50YXRpb249PT1vay5Ub3A/dGhpcy5zdGFja1RvcDp0aGlzLnN0YWNrQm90dG9tLGUuaW5zdGFuY2Uuc2V0RmFkZU91dCgpO2NvbnN0IG49dC5pbmRleE9mKGUpO3Quc3BsaWNlKG4sMSksc2V0VGltZW91dCgoKT0+e3RoaXMucG9Db21wb25lbnRJbmplY3Rvci5kZXN0cm95Q29tcG9uZW50SW5BcHBsaWNhdGlvbihlKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLmluc3RhbmNlLmNoYW5nZVBvc2l0aW9uKGUpfSwyMDApfW9ic2VydmFibGVPbkNsb3NlKGUpe2UuaW5zdGFuY2Uub2JzZXJ2YWJsZU9uQ2xvc2Uuc3Vic2NyaWJlKCgpPT57dGhpcy5kZXN0cm95VG9hc3RlcihlKX0pfXZlcmlmeUxpbWl0VG9hc3RlcihlKXtlLmxlbmd0aD41JiZ0aGlzLmRlc3Ryb3lUb2FzdGVyKGVbMF0pfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaShaRSkpfSxlLlx1MDI3NXByb3Y9aGUoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUoY2koWkUpKX0sdG9rZW46ZSxwcm92aWRlZEluOiJyb290In0pLGV9KSgpLEl4PSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbR2gsVmIsQXYsTlMsRlMsTUUsWlMsVEUsdEUsQkUsdUUsb0UsX0UsU1MsekUsV0UsY2ssamssalMsbVNdLFRFLE1FLEJFLF9FXX0pLGV9KSgpLE14PSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbR2gsSG1dXX0pLGV9KSgpO3ZhciBQeD1mdW5jdGlvbihlKXtyZXR1cm4gZS5Ib3Jpem9udGFsPSJob3Jpem9udGFsIixlLlZlcnRpY2FsPSJ2ZXJ0aWNhbCIsZX0oe30pLFZ4PWZ1bmN0aW9uKGUpe3JldHVybiBlLkRhbmdlcj0iZGFuZ2VyIixlLkluZm89ImluZm8iLGUuU3VjY2Vzcz0ic3VjY2VzcyIsZS5XYXJuaW5nPSJ3YXJuaW5nIixlfSh7fSk7Y29uc3QgTHg9T2JqZWN0LnZhbHVlcyhRUyksUng9UHguVmVydGljYWw7bGV0IGp4PSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLmNsaWNrPW5ldyBlYyx0aGlzLnBvVGFnT3JpZW50YXRpb249UHgsdGhpcy5fb3JpZW50YXRpb249Unh9c2V0IGNvbG9yKGUpe3RoaXMuX2NvbG9yPUx4LmluY2x1ZGVzKGUpP2U6dm9pZCAwfWdldCBjb2xvcigpe3JldHVybiB0aGlzLl9jb2xvcn1zZXQgaWNvbihlKXt0aGlzLl9pY29uPXRoaXMudHlwZT9ZRChlKTplfWdldCBpY29uKCl7cmV0dXJuIHRoaXMuX2ljb259c2V0IGludmVyc2UoZSl7dGhpcy5faW52ZXJzZT1ZRChlKX1nZXQgaW52ZXJzZSgpe3JldHVybiB0aGlzLl9pbnZlcnNlfXNldCBvcmllbnRhdGlvbihlKXt0aGlzLl9vcmllbnRhdGlvbj1PYmplY3QudmFsdWVzKFB4KS5pbmNsdWRlcyhlKT9lOlJ4fWdldCBvcmllbnRhdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnRhdGlvbn1zZXQgdHlwZShlKXt0aGlzLl90eXBlPU9iamVjdC52YWx1ZXMoVngpLmluY2x1ZGVzKGUpP2U6dm9pZCAwfWdldCB0eXBlKCl7cmV0dXJuIHRoaXMuX3R5cGV9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NWRpcj1LZSh7dHlwZTplLGlucHV0czp7Y29sb3I6WyJwLWNvbG9yIiwiY29sb3IiXSxpY29uOlsicC1pY29uIiwiaWNvbiJdLGludmVyc2U6WyJwLWludmVyc2UiLCJpbnZlcnNlIl0sb3JpZW50YXRpb246WyJwLW9yaWVudGF0aW9uIiwib3JpZW50YXRpb24iXSx0eXBlOlsicC10eXBlIiwidHlwZSJdLGxhYmVsOlsicC1sYWJlbCIsImxhYmVsIl0sdmFsdWU6WyJwLXZhbHVlIiwidmFsdWUiXX0sb3V0cHV0czp7Y2xpY2s6InAtY2xpY2sifX0pLGV9KSgpO3ZhciBOeD1mdW5jdGlvbihlKXtyZXR1cm4gZS5EYW5nZXI9InBvLWljb24tY2xvc2UiLGUuSW5mbz0icG8taWNvbi1pbmZvIixlLlN1Y2Nlc3M9InBvLWljb24tb2siLGUuV2FybmluZz0icG8taWNvbi13YXJuaW5nIixlfSh7fSk7Y29uc3QgQng9InBvLXRhZy0iK1Z4LkluZm87bGV0ICR4PSgoKT0+e2NsYXNzIGUgZXh0ZW5kcyBqeHtuZ09uSW5pdCgpe3RoaXMuaXNDbGlja2FibGU9dGhpcy5jbGljay5vYnNlcnZlcnMubGVuZ3RoPjB9Z2V0IGljb25Gcm9tVHlwZSgpe3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgVnguRGFuZ2VyOnJldHVybiBOeC5EYW5nZXI7Y2FzZSBWeC5JbmZvOnJldHVybiBOeC5JbmZvO2Nhc2UgVnguU3VjY2VzczpyZXR1cm4gTnguU3VjY2VzcztjYXNlIFZ4Lldhcm5pbmc6cmV0dXJuIE54Lldhcm5pbmd9fWdldCB0YWdDb2xvcigpe3JldHVybiB0aGlzLnR5cGU/dGhpcy5pbnZlcnNlP2Bwby10YWctJHt0aGlzLnR5cGV9LWludmVyc2VgOmBwby10YWctJHt0aGlzLnR5cGV9YDp0aGlzLmNvbG9yP3RoaXMuaW52ZXJzZT9gcG8tdGV4dC0ke3RoaXMuY29sb3J9YDpgcG8tJHt0aGlzLmNvbG9yfWA6dGhpcy5pbnZlcnNlP2Ake0J4fS1pbnZlcnNlYDpCeH1nZXQgdGFnT3JpZW50YXRpb24oKXtyZXR1cm4gdGhpcy5vcmllbnRhdGlvbj09PXRoaXMucG9UYWdPcmllbnRhdGlvbi5Ib3Jpem9udGFsfW9uQ2xpY2soKXt0aGlzLmNsaWNrLmVtaXQoe3ZhbHVlOnRoaXMudmFsdWUsdHlwZTp0aGlzLnR5cGV9KX1vbktleVByZXNzZWQoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5vbkNsaWNrKCl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbigpe2xldCB0O3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4odHx8KHQ9JG4oZSkpKShufHxlKX19KCksZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8tdGFnIl1dLGZlYXR1cmVzOlt1cl0sZGVjbHM6Nyx2YXJzOjEwLGNvbnN0czpbWzEsInBvLXRhZy1jb250YWluZXIiXSxbImNsYXNzIiwicG8tdGFnLXRpdGxlIHBvLXRleHQtbm93cmFwIiw0LCJuZ0lmIl0sWzEsInBvLXRhZy1zdWItY29udGFpbmVyIl0sWyJ0YWJpbmRleCIsIjAiLDEsInBvLXRhZyIsMywibmdDbGFzcyIsImNsaWNrIiwia2V5ZG93bi5lbnRlciIsImtleWRvd24uc3BhY2UiLCJrZXl1cC5zcGFjZSJdLFsiY2xhc3MiLCJwby10YWctaWNvbiIsMywicC1pY29uIiw0LCJuZ0lmIl0sWzEsInBvLXRhZy12YWx1ZSJdLFsxLCJwby10YWctdGl0bGUiLCJwby10ZXh0LW5vd3JhcCJdLFsxLCJwby10YWctbGFiZWwiXSxbMSwicG8tdGFnLWljb24iLDMsInAtaWNvbiJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYmKEZyKDAsImRpdiIsMCksa3IoMSxnRCwzLDEsImRpdiIsMSksRnIoMiwiZGl2IiwyKSxGcigzLCJkaXYiLDMpLEJyKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gdC5vbkNsaWNrKCl9KSgia2V5ZG93bi5lbnRlciIsZnVuY3Rpb24oZSl7cmV0dXJuIHQub25LZXlQcmVzc2VkKGUpfSkoImtleWRvd24uc3BhY2UiLGZ1bmN0aW9uKGUpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCl9KSgia2V5dXAuc3BhY2UiLGZ1bmN0aW9uKGUpe3JldHVybiB0Lm9uS2V5UHJlc3NlZChlKX0pLGtyKDQsbUQsMSwxLCJwby1pY29uIiw0KSxGcig1LCJzcGFuIiw1KSxwYSg2KSxJcigpLElyKCksSXIoKSxJcigpKSwyJmUmJihlYSgicG8tdGFnLWNvbnRhaW5lci1ob3Jpem9udGFsIix0LnRhZ09yaWVudGF0aW9uKSxacygxKSxPcigibmdJZiIsdC5sYWJlbCksWnMoMiksZWEoInBvLWNsaWNrYWJsZSIsdC5pc0NsaWNrYWJsZSkoInBvLXRhZy1pbnZlcnNlIix0LmludmVyc2UpLE9yKCJuZ0NsYXNzIix0LnRhZ0NvbG9yKSxacygxKSxPcigibmdJZiIsdC5pY29uKSxacygyKSxmYSh0LnZhbHVlKSl9LGRpcmVjdGl2ZXM6W0ZoLHhoLGdTXSxlbmNhcHN1bGF0aW9uOjIsY2hhbmdlRGV0ZWN0aW9uOjB9KSxlfSkoKSxIeD0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtwcm92aWRlcnM6W10saW1wb3J0czpbW0doLG1TXV19KSxlfSkoKTt2YXIgVXg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuQm9vbGVhbj0iYm9vbGVhbiIsZS5DdXJyZW5jeT0iY3VycmVuY3kiLGUuRGF0ZT0iZGF0ZSIsZS5EYXRlVGltZT0iZGF0ZXRpbWUiLGUuVGltZT0idGltZSIsZS5OdW1iZXI9Im51bWJlciIsZS5TdHJpbmc9InN0cmluZyIsZX0oe30pO2xldCBxeD0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUpe3RoaXMudGl0bGVDYXNlUGlwZT1lLHRoaXMuZm9ybVZhbGlkYXRlPW5ldyBlYyx0aGlzLmZpZWxkc0NoYW5nZT1uZXcgZWMsdGhpcy5vYmplY3RWYWx1ZT1uZXcgZWMsdGhpcy52aXNpYmxlRmllbGRzPVtdLHRoaXMuX3ZhbHVlPXt9fXNldCBmaWVsZHMoZSl7dGhpcy5fZmllbGRzPUFycmF5LmlzQXJyYXkoZSk/Wy4uLmVdOltdfWdldCBmaWVsZHMoKXtyZXR1cm4gdGhpcy5fZmllbGRzfXNldCB2YWx1ZShlKXt0aGlzLl92YWx1ZT1lJiZRRChlLCJvYmplY3QiKT9lOnt9fWdldCB2YWx1ZSgpe3JldHVybiB0aGlzLl92YWx1ZX1zZXQgdmFsaWRhdGVGaWVsZHMoZSl7dGhpcy5fdmFsaWRhdGVGaWVsZHM9QXJyYXkuaXNBcnJheShlKT9bLi4uZV06W119Z2V0IHZhbGlkYXRlRmllbGRzKCl7cmV0dXJuIHRoaXMuX3ZhbGlkYXRlRmllbGRzfWNvbXBhcmVUbyhlLHQpe3JldHVybiBlPT09dH1nZXRWaXNpYmxlRmllbGRzKCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy5maWVsZHMuZm9yRWFjaCh0PT57dGhpcy5leGlzdHNQcm9wZXJ0eShlLHQucHJvcGVydHkpP3RoaXMucHJpbnRFcnJvcihgInBvLWR5bmFtaWMtZm9ybSIgcHJvcGVydHkgIiR7dC5wcm9wZXJ0eX0iIGVzdFx4ZTEgZHVwbGljYWRvLiBJbnRlcmZhY2U6IFBvRHluYW1pY0Zvcm1GaWVsZC5gKTp0LnByb3BlcnR5P2Z1bmN0aW9uKGUpe3JldHVybiEoInZpc2libGUiaW4gZSl8fGUudmlzaWJsZX0odCkmJmUucHVzaCh0aGlzLmNyZWF0ZUZpZWxkKHQpKTp0aGlzLnByaW50RXJyb3IoJyJwby1keW5hbWljLWZvcm0iIFx4Yzkgb2JyaWdhdFx4ZjNyaW8gc2VyIGVzcGVjaWZpY2FkbyB1bSBwcm9wZXJ0eS4nKX0pLGZ1bmN0aW9uKGU9W10sdD0tMSl7Y29uc3Qgbj1lPT4oZT0+UUQoZSwibnVtYmVyIikmJmU+MCkoZSk/ZTp0O3JldHVybiBlLnNvcnQoKGUsaSk9Pntjb25zdCBzPW4oZS5vcmRlciksbz1uKGkub3JkZXIpO3JldHVybiBzPT09bz8wOnM9PT10PzE6bz09PXQ/LTE6cy1vfSl9KGUpfWNvbnZlcnRPcHRpb25zKGUpe3JldHVybiBlLmV2ZXJ5KGU9PiJzdHJpbmciPT10eXBlb2YgZSk/ZS5tYXAoZT0+KHtsYWJlbDplLHZhbHVlOmV9KSk6ZX1jcmVhdGVGaWVsZChlKXtjb25zdCB0PXRoaXMuZ2V0Q29tcG9uZW50Q29udHJvbChlKSxuPWUub3B0aW9ucz90aGlzLmNvbnZlcnRPcHRpb25zKGUub3B0aW9ucyk6dm9pZCAwLGk9dGhpcy5oYXNGb2N1cyhlKSxzPWUmJmUudHlwZT9lLnR5cGUudG9Mb2NhbGVMb3dlckNhc2UoKToic3RyaW5nIixvPShyPWUuZ3JpZENvbHVtbnMsYHBvLXNtLSR7ZS5ncmlkU21Db2x1bW5zfHxyfHwxMn0gcG8tcHVsbC1zbS0keyhudWxsPT0oYT17c21QdWxsOmUuZ3JpZFNtUHVsbCxtZFB1bGw6ZS5ncmlkTWRQdWxsLGxnUHVsbDplLmdyaWRMZ1B1bGwseGxQdWxsOmUuZ3JpZFhsUHVsbH0pP3ZvaWQgMDphLnNtUHVsbCl8fDB9IHBvLW1kLSR7ZS5ncmlkTWRDb2x1bW5zfHxyfHw2fSBwby1wdWxsLW1kLSR7KG51bGw9PWE/dm9pZCAwOmEubWRQdWxsKXx8MH0gcG8tbGctJHtlLmdyaWRMZ0NvbHVtbnN8fHJ8fDR9IHBvLXB1bGwtbGctJHsobnVsbD09YT92b2lkIDA6YS5sZ1B1bGwpfHwwfSBwby14bC0ke2UuZ3JpZFhsQ29sdW1uc3x8cnx8M30gcG8tcHVsbC14bC0keyhudWxsPT1hP3ZvaWQgMDphLnhsUHVsbCl8fDB9YCk7dmFyIHIsYTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtsYWJlbDp0aGlzLnRpdGxlQ2FzZVBpcGUudHJhbnNmb3JtKGUucHJvcGVydHkpLG1hc2tGb3JtYXRNb2RlbDp0aGlzLmNvbXBhcmVUbyhzLFV4LlRpbWUpfSxlKSx7Y29tcG9uZW50Q2xhc3M6byxjb250cm9sOnQsZm9jdXM6aSxvcHRpb25zOm59KX1leGlzdHNQcm9wZXJ0eShlLHQpe3JldHVybiBlLnNvbWUoZT0+ZS5wcm9wZXJ0eT09PXQpfWdldENvbXBvbmVudENvbnRyb2woZT17fSl7Y29uc3QgdD1lJiZlLnR5cGU/ZS50eXBlLnRvTG9jYWxlTG93ZXJDYXNlKCk6InN0cmluZyI7cmV0dXJuIHRoaXMuaXNOdW1iZXJUeXBlKGUsdCk/Im51bWJlciI6dGhpcy5pc0N1cnJlbmN5VHlwZShlLHQpPyJkZWNpbWFsIjp0aGlzLmlzU2VsZWN0KGUpPyJzZWxlY3QiOnRoaXMuaXNSYWRpb0dyb3VwKGUpPyJyYWRpb0dyb3VwIjp0aGlzLmlzQ2hlY2tib3hHcm91cChlKT8iY2hlY2tib3hHcm91cCI6dGhpcy5pc011bHRpc2VsZWN0KGUpPyJtdWx0aXNlbGVjdCI6dGhpcy5jb21wYXJlVG8odCxVeC5Cb29sZWFuKT8ic3dpdGNoIjp0aGlzLmNvbXBhcmVUbyh0LFV4LkRhdGUpfHx0aGlzLmNvbXBhcmVUbyh0LFV4LkRhdGVUaW1lKT8iZGF0ZXBpY2tlciI6dGhpcy5jb21wYXJlVG8odCxVeC5UaW1lKT8oZS5tYXNrPWUubWFza3x8Ijk5Ojk5IiwiaW5wdXQiKTp0aGlzLmlzQ29tYm8oZSk/ImNvbWJvIjp0aGlzLmlzTG9va3VwKGUpPyJsb29rdXAiOnRoaXMuaXNUZXh0YXJlYShlKT8idGV4dGFyZWEiOnRoaXMuaXNQYXNzd29yZChlKT8icGFzc3dvcmQiOiJpbnB1dCJ9aGFzRm9jdXMoZSl7cmV0dXJuISF0aGlzLmF1dG9Gb2N1cyYmdGhpcy5hdXRvRm9jdXM9PT1lLnByb3BlcnR5fWlzQ2hlY2tib3hHcm91cChlKXtjb25zdHtvcHRpb25zU2VydmljZTp0LG9wdGlvbnNNdWx0aTpuLG9wdGlvbnM6aX09ZTtyZXR1cm4hdCYmbiYmISFpJiZpLmxlbmd0aDw9M31pc0NvbWJvKGUpe2NvbnN0e29wdGlvbnNTZXJ2aWNlOnR9PWU7cmV0dXJuISF0JiYoUUQodCwic3RyaW5nIil8fHRoaXMuaXNDb21ib0ZpbHRlcih0KSl9aXNDdXJyZW5jeVR5cGUoZSx0KXtjb25zdHttYXNrOm4scGF0dGVybjppfT1lO3JldHVybiB0aGlzLmNvbXBhcmVUbyh0LFV4LkN1cnJlbmN5KSYmIW4mJiFpfWlzTG9va3VwRmlsdGVyKGUpe3JldHVybiBlJiZ2b2lkIDAhPT1lLmdldE9iamVjdEJ5VmFsdWV9aXNDb21ib0ZpbHRlcihlKXtyZXR1cm4gZSYmdm9pZCAwIT09ZS5nZXRGaWx0ZXJlZERhdGF9aXNMb29rdXAoZSl7Y29uc3R7c2VhcmNoU2VydmljZTp0fT1lO3JldHVybiEhdCYmKFFEKHQsInN0cmluZyIpfHx0aGlzLmlzTG9va3VwRmlsdGVyKHQpKX1pc011bHRpc2VsZWN0KGUpe2NvbnN0e29wdGlvbnNTZXJ2aWNlOnQsb3B0aW9uc011bHRpOm4sb3B0aW9uczppfT1lO3JldHVybiF0JiZuJiYhIWkmJmkubGVuZ3RoPjN9aXNOdW1iZXJUeXBlKGUsdCl7Y29uc3R7bWFzazpuLHBhdHRlcm46aX09ZTtyZXR1cm4gdGhpcy5jb21wYXJlVG8odCxVeC5OdW1iZXIpJiYhbiYmIWl9aXNQYXNzd29yZChlKXtjb25zdHtzZWNyZXQ6dH09ZTtyZXR1cm4gdH1pc1JhZGlvR3JvdXAoZSl7Y29uc3R7b3B0aW9uc011bHRpOnQsb3B0aW9uczpufT1lO3JldHVybiF0JiYhIW4mJm4ubGVuZ3RoPD0zfWlzU2VsZWN0KGUpe2NvbnN0e29wdGlvbnNNdWx0aTp0LG9wdGlvbnM6bn09ZTtyZXR1cm4hdCYmISFuJiZuLmxlbmd0aD4zfWlzVGV4dGFyZWEoZSl7Y29uc3R7cm93czp0fT1lO3JldHVybiB0JiZ0Pj0zfXByaW50RXJyb3IoZSl7Y29uc29sZS5lcnJvcihlKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIoJGgpKX0sZS5cdTAyNzVkaXI9S2Uoe3R5cGU6ZSxpbnB1dHM6e2ZpZWxkczpbInAtZmllbGRzIiwiZmllbGRzIl0sdmFsdWU6WyJwLXZhbHVlIiwidmFsdWUiXSx2YWxpZGF0ZUZpZWxkczpbInAtdmFsaWRhdGUtZmllbGRzIiwidmFsaWRhdGVGaWVsZHMiXSxhdXRvRm9jdXM6WyJwLWF1dG8tZm9jdXMiLCJhdXRvRm9jdXMiXSxkaXNhYmxlZEZvcm06WyJwLWRpc2FibGVkLWZvcm0iLCJkaXNhYmxlZEZvcm0iXSx2YWxpZGF0ZTpbInAtdmFsaWRhdGUiLCJ2YWxpZGF0ZSJdfSxvdXRwdXRzOntmb3JtVmFsaWRhdGU6InAtZm9ybS12YWxpZGF0ZSIsZmllbGRzQ2hhbmdlOiJwLWZpZWxkc0NoYW5nZSIsb2JqZWN0VmFsdWU6InAtb2JqZWN0LXZhbHVlIn19KSxlfSkoKSx6eD0oKCk9PntjbGFzcyBlIGV4dGVuZHMgcXh7Y29uc3RydWN0b3IoZSx0LG4saSl7c3VwZXIoZSksdGhpcy52YWxpZGF0aW9uU2VydmljZT10LHRoaXMuY2hhbmdlcz1uLHRoaXMuZm9ybT1pLHRoaXMucHJldmlvdXNWYWx1ZT17fX1uZ09uQ2hhbmdlcyhlKXtlLmZpZWxkcyYmKHRoaXMudmlzaWJsZUZpZWxkcz10aGlzLmdldFZpc2libGVGaWVsZHMoKSl9Zm9jdXMoZSl7Y29uc3QgdD10aGlzLmNvbXBvbmVudHMuZmluZCh0PT50Lm5hbWU9PT1lKTt0JiZ0LmZvY3VzKCl9aXNEaXNhYmxlZChlKXtyZXR1cm4gZS5kaXNhYmxlZHx8dGhpcy5kaXNhYmxlZEZvcm19b25DaGFuZ2VGaWVsZChlLHQpe3JldHVybiBUdih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24qKCl7Y29uc3R7cHJvcGVydHk6bn09ZSxpPXRoaXMucHJldmlvdXNWYWx1ZVtuXSE9PXRoaXMudmFsdWVbbl07aWYoZS5vcHRpb25zU2VydmljZSYmdGhpcy5vYmplY3RWYWx1ZS5lbWl0KHQpLHRoaXMuZm9ybS50b3VjaGVkJiZpKXtjb25zdHtjaGFuZ2VkRmllbGQ6dCxjaGFuZ2VkRmllbGRJbmRleDppfT10aGlzLmdldEZpZWxkKG4pO3QudmFsaWRhdGUmJih5aWVsZCB0aGlzLnZhbGlkYXRlRmllbGQodCxpLGUpKSx0aGlzLnRyaWdnZXJWYWxpZGF0aW9uT25Gb3JtKGkpfXRoaXMudXBkYXRlUHJldmlvdXNWYWx1ZSgpfSl9dXBkYXRlUHJldmlvdXNWYWx1ZSgpe3RoaXMucHJldmlvdXNWYWx1ZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMudmFsdWUpKX10cmFja0J5KGUpe3JldHVybiBlfWFwcGx5RmllbGRWYWxpZGF0aW9uKGUsdCl7Y29uc3Qgbj10aGlzLmZpZWxkc1tlXTt0aGlzLmZpZWxkc1tlXT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbiksdC5maWVsZCksdGhpcy51cGRhdGVGaWVsZHMoKSx0Lmhhc093blByb3BlcnR5KCJ2YWx1ZSIpJiYodGhpcy52YWx1ZVtuLnByb3BlcnR5XT10LnZhbHVlKSx0aGlzLmNoYW5nZXMuZGV0ZWN0Q2hhbmdlcygpLHQuZm9jdXMmJnRoaXMuZm9jdXMobi5wcm9wZXJ0eSl9Z2V0RmllbGQoZSl7Y29uc3QgdD10aGlzLmZpZWxkcy5maW5kSW5kZXgodD0+dC5wcm9wZXJ0eT09PWUpO3JldHVybntjaGFuZ2VkRmllbGQ6dGhpcy5maWVsZHNbdF0sY2hhbmdlZEZpZWxkSW5kZXg6dH19dHJpZ2dlclZhbGlkYXRpb25PbkZvcm0oZSl7dmFyIHQ7Y29uc3Qgbj0hKG51bGw9PT0odD10aGlzLnZhbGlkYXRlRmllbGRzKXx8dm9pZCAwPT09dD92b2lkIDA6dC5sZW5ndGgpfHx0aGlzLnZhbGlkYXRlRmllbGRzQ2hlY2tlcih0aGlzLnZhbGlkYXRlRmllbGRzLHRoaXMuZmllbGRzW2VdLnByb3BlcnR5KTt0aGlzLnZhbGlkYXRlJiZuJiZ0aGlzLmZvcm1WYWxpZGF0ZS5vYnNlcnZlcnMubGVuZ3RoJiZ0aGlzLmZvcm1WYWxpZGF0ZS5lbWl0KHRoaXMuZmllbGRzW2VdKX11cGRhdGVGaWVsZHMoKXt0aGlzLmZpZWxkc0NoYW5nZS5lbWl0KHRoaXMuZmllbGRzKSx0aGlzLnZpc2libGVGaWVsZHM9dGhpcy5nZXRWaXNpYmxlRmllbGRzKCl9dmFsaWRhdGVGaWVsZHNDaGVja2VyKGUsdCl7cmV0dXJuIGUuc29tZShlPT5lPT09dCl9dmFsaWRhdGVGaWVsZChlLHQsbil7cmV0dXJuIFR2KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtjb25zdCBpPXRoaXMudmFsdWVbZS5wcm9wZXJ0eV0scz1uLmRpc2FibGVkO24uZGlzYWJsZWQ9ITAsdGhpcy5jaGFuZ2VzLmRldGVjdENoYW5nZXMoKTt0cnl7Y29uc3Qgbj15aWVsZCB0aGlzLnZhbGlkYXRpb25TZXJ2aWNlLnNlbmRGaWVsZENoYW5nZShlLGkpLnRvUHJvbWlzZSgpO3RoaXMuYXBwbHlGaWVsZFZhbGlkYXRpb24odCxuKX1jYXRjaChvKXtuLmRpc2FibGVkPXN9fSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKEFyKCRoKSxBcihleCksQXIoZ2wpLEFyKENiKSl9LGUuXHUwMjc1Y21wPUhlKHt0eXBlOmUsc2VsZWN0b3JzOltbInBvLWR5bmFtaWMtZm9ybS1maWVsZHMiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiZwYyh2RCw1KSwyJmUpe2xldCBlO2RjKGU9Z2MoKSkmJih0LmNvbXBvbmVudHM9ZSl9fSxmZWF0dXJlczpbTGEoW2V4XSxbe3Byb3ZpZGU6WXYsdXNlRXhpc3Rpbmc6Q2J9XSksdXIsbHRdLGRlY2xzOjEsdmFyczoxLGNvbnN0czpbWyJjbGFzcyIsInBvLXJvdyIsNCwibmdJZiJdLFsxLCJwby1yb3ciXSxbNCwibmdGb3IiLCJuZ0Zvck9mIiwibmdGb3JUcmFja0J5Il0sWyJjbGFzcyIsInBvLXNtLTEyIiwzLCJwLWxhYmVsIiw0LCJuZ0lmIl0sWyJwLWNsZWFuIiwiIiwzLCJuYW1lIiwibmdNb2RlbCIsIm5nQ2xhc3MiLCJwLWRpc2FibGVkIiwicC1lcnJvci1wYXR0ZXJuIiwicC1hdXRvLWZvY3VzIiwicC1mb3JtYXQiLCJwLWhlbHAiLCJwLWxhYmVsIiwicC1tYXgtZGF0ZSIsInAtbWluLWRhdGUiLCJwLW9wdGlvbmFsIiwicC1yZXF1aXJlZCIsInAtcGxhY2Vob2xkZXIiLCJuZ01vZGVsQ2hhbmdlIiwicC1jaGFuZ2UiLDQsIm5nSWYiXSxbInAtY2xlYW4iLCIiLDMsIm5hbWUiLCJuZ01vZGVsIiwibmdDbGFzcyIsInAtZGlzYWJsZWQiLCJwLWVycm9yLXBhdHRlcm4iLCJwLWF1dG8tZm9jdXMiLCJwLWhlbHAiLCJwLWxhYmVsIiwicC1tYXNrLWZvcm1hdC1tb2RlbCIsInAtbWFzayIsInAtbWF4bGVuZ3RoIiwicC1taW5sZW5ndGgiLCJwLW9wdGlvbmFsIiwicC1wYXR0ZXJuIiwicC1yZXF1aXJlZCIsInAtaWNvbiIsInAtcGxhY2Vob2xkZXIiLCJuZ01vZGVsQ2hhbmdlIiwicC1jaGFuZ2UiLDQsIm5nSWYiXSxbInAtY2xlYW4iLCIiLDMsIm5hbWUiLCJuZ01vZGVsIiwibmdDbGFzcyIsInAtZGlzYWJsZWQiLCJwLWVycm9yLXBhdHRlcm4iLCJwLWF1dG8tZm9jdXMiLCJwLWhlbHAiLCJwLWxhYmVsIiwicC1taW4iLCJwLW1heCIsInAtbWF4bGVuZ3RoIiwicC1taW5sZW5ndGgiLCJwLW9wdGlvbmFsIiwicC1yZXF1aXJlZCIsInAtaWNvbiIsInAtcGxhY2Vob2xkZXIiLCJuZ01vZGVsQ2hhbmdlIiwicC1jaGFuZ2UiLDQsIm5nSWYiXSxbInAtY2xlYW4iLCIiLDMsIm5hbWUiLCJuZ01vZGVsIiwibmdDbGFzcyIsInAtZGlzYWJsZWQiLCJwLWRlY2ltYWxzLWxlbmd0aCIsInAtdGhvdXNhbmQtbWF4bGVuZ3RoIiwicC1pY29uIiwicC1hdXRvLWZvY3VzIiwicC1oZWxwIiwicC1sYWJlbCIsInAtb3B0aW9uYWwiLCJwLXJlcXVpcmVkIiwicC1wbGFjZWhvbGRlciIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSIsNCwibmdJZiJdLFszLCJuYW1lIiwibmdNb2RlbCIsIm5nQ2xhc3MiLCJwLWF1dG8tZm9jdXMiLCJwLWRpc2FibGVkIiwicC1oZWxwIiwicC1sYWJlbCIsInAtb3B0aW9uYWwiLCJwLW9wdGlvbnMiLCJwLXJlcXVpcmVkIiwicC1wbGFjZWhvbGRlciIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSIsNCwibmdJZiJdLFsicC1jb2x1bW5zIiwiMyIsMywibmFtZSIsIm5nTW9kZWwiLCJuZ0NsYXNzIiwicC1hdXRvLWZvY3VzIiwicC1kaXNhYmxlZCIsInAtaGVscCIsInAtbGFiZWwiLCJwLW9wdGlvbmFsIiwicC1vcHRpb25zIiwicC1yZXF1aXJlZCIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSIsNCwibmdJZiJdLFszLCJuYW1lIiwibmdNb2RlbCIsIm5nQ2xhc3MiLCJwLWF1dG8tZm9jdXMiLCJwLWRpc2FibGVkIiwicC1oZWxwIiwicC1sYWJlbCIsInAtbGFiZWwtb2ZmIiwicC1sYWJlbC1vbiIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSIsNCwibmdJZiJdLFsicC1lbWl0LW9iamVjdC12YWx1ZSIsIiIsMywibmFtZSIsIm5nTW9kZWwiLCJuZ0NsYXNzIiwicC1hdXRvLWZvY3VzIiwicC1kaXNhYmxlZCIsInAtZmllbGQtbGFiZWwiLCJwLWZpZWxkLXZhbHVlIiwicC1maWx0ZXItcGFyYW1zIiwicC1maWx0ZXItc2VydmljZSIsInAtaGVscCIsInAtbGFiZWwiLCJwLW9wdGlvbmFsIiwicC1yZXF1aXJlZCIsInAtaWNvbiIsInAtcGxhY2Vob2xkZXIiLCJuZ01vZGVsQ2hhbmdlIiwicC1jaGFuZ2UiLDQsIm5nSWYiXSxbInAtZmllbGQtbGFiZWwiLCJsYWJlbCIsInAtZmllbGQtdmFsdWUiLCJ2YWx1ZSIsMywibmFtZSIsIm5nTW9kZWwiLCJuZ0NsYXNzIiwicC1jb2x1bW5zIiwicC1kaXNhYmxlZCIsInAtZmllbGQtbGFiZWwiLCJwLWZpZWxkLXZhbHVlIiwicC1maWx0ZXItcGFyYW1zIiwicC1maWx0ZXItc2VydmljZSIsInAtYXV0by1mb2N1cyIsInAtaGVscCIsInAtZmllbGQtZm9ybWF0IiwicC1sYWJlbCIsInAtb3B0aW9uYWwiLCJwLXJlcXVpcmVkIiwicC1wbGFjZWhvbGRlciIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSIsNCwibmdJZiJdLFszLCJuYW1lIiwibmdNb2RlbCIsIm5nQ2xhc3MiLCJwLWRpc2FibGVkIiwicC1hdXRvLWZvY3VzIiwicC1oZWxwIiwicC1sYWJlbCIsInAtb3B0aW9uYWwiLCJwLW9wdGlvbnMiLCJwLXJlcXVpcmVkIiwicC1wbGFjZWhvbGRlciIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSIsNCwibmdJZiJdLFszLCJuYW1lIiwibmdNb2RlbCIsIm5nQ2xhc3MiLCJwLWRpc2FibGVkIiwicC1hdXRvLWZvY3VzIiwicC1oZWxwIiwicC1sYWJlbCIsInAtbWF4bGVuZ3RoIiwicC1taW5sZW5ndGgiLCJwLW9wdGlvbmFsIiwicC1yZXF1aXJlZCIsInAtcm93cyIsInAtcGxhY2Vob2xkZXIiLCJuZ01vZGVsQ2hhbmdlIiwicC1jaGFuZ2UiLDQsIm5nSWYiXSxbInAtY2xlYW4iLCIiLDMsIm5hbWUiLCJuZ01vZGVsIiwibmdDbGFzcyIsInAtZGlzYWJsZWQiLCJwLWVycm9yLXBhdHRlcm4iLCJwLWF1dG8tZm9jdXMiLCJwLWhlbHAiLCJwLWxhYmVsIiwicC1tYXhsZW5ndGgiLCJwLW1pbmxlbmd0aCIsInAtb3B0aW9uYWwiLCJwLXBhdHRlcm4iLCJwLXJlcXVpcmVkIiwicC1wbGFjZWhvbGRlciIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSIsNCwibmdJZiJdLFsxLCJwby1zbS0xMiIsMywicC1sYWJlbCJdLFsicC1jbGVhbiIsIiIsMywibmFtZSIsIm5nTW9kZWwiLCJuZ0NsYXNzIiwicC1kaXNhYmxlZCIsInAtZXJyb3ItcGF0dGVybiIsInAtYXV0by1mb2N1cyIsInAtZm9ybWF0IiwicC1oZWxwIiwicC1sYWJlbCIsInAtbWF4LWRhdGUiLCJwLW1pbi1kYXRlIiwicC1vcHRpb25hbCIsInAtcmVxdWlyZWQiLCJwLXBsYWNlaG9sZGVyIiwibmdNb2RlbENoYW5nZSIsInAtY2hhbmdlIl0sWyJjb21wb25lbnQiLCIiXSxbInAtY2xlYW4iLCIiLDMsIm5hbWUiLCJuZ01vZGVsIiwibmdDbGFzcyIsInAtZGlzYWJsZWQiLCJwLWVycm9yLXBhdHRlcm4iLCJwLWF1dG8tZm9jdXMiLCJwLWhlbHAiLCJwLWxhYmVsIiwicC1tYXNrLWZvcm1hdC1tb2RlbCIsInAtbWFzayIsInAtbWF4bGVuZ3RoIiwicC1taW5sZW5ndGgiLCJwLW9wdGlvbmFsIiwicC1wYXR0ZXJuIiwicC1yZXF1aXJlZCIsInAtaWNvbiIsInAtcGxhY2Vob2xkZXIiLCJuZ01vZGVsQ2hhbmdlIiwicC1jaGFuZ2UiXSxbInAtY2xlYW4iLCIiLDMsIm5hbWUiLCJuZ01vZGVsIiwibmdDbGFzcyIsInAtZGlzYWJsZWQiLCJwLWVycm9yLXBhdHRlcm4iLCJwLWF1dG8tZm9jdXMiLCJwLWhlbHAiLCJwLWxhYmVsIiwicC1taW4iLCJwLW1heCIsInAtbWF4bGVuZ3RoIiwicC1taW5sZW5ndGgiLCJwLW9wdGlvbmFsIiwicC1yZXF1aXJlZCIsInAtaWNvbiIsInAtcGxhY2Vob2xkZXIiLCJuZ01vZGVsQ2hhbmdlIiwicC1jaGFuZ2UiXSxbInAtY2xlYW4iLCIiLDMsIm5hbWUiLCJuZ01vZGVsIiwibmdDbGFzcyIsInAtZGlzYWJsZWQiLCJwLWRlY2ltYWxzLWxlbmd0aCIsInAtdGhvdXNhbmQtbWF4bGVuZ3RoIiwicC1pY29uIiwicC1hdXRvLWZvY3VzIiwicC1oZWxwIiwicC1sYWJlbCIsInAtb3B0aW9uYWwiLCJwLXJlcXVpcmVkIiwicC1wbGFjZWhvbGRlciIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSJdLFszLCJuYW1lIiwibmdNb2RlbCIsIm5nQ2xhc3MiLCJwLWF1dG8tZm9jdXMiLCJwLWRpc2FibGVkIiwicC1oZWxwIiwicC1sYWJlbCIsInAtb3B0aW9uYWwiLCJwLW9wdGlvbnMiLCJwLXJlcXVpcmVkIiwicC1wbGFjZWhvbGRlciIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSJdLFsicC1jb2x1bW5zIiwiMyIsMywibmFtZSIsIm5nTW9kZWwiLCJuZ0NsYXNzIiwicC1hdXRvLWZvY3VzIiwicC1kaXNhYmxlZCIsInAtaGVscCIsInAtbGFiZWwiLCJwLW9wdGlvbmFsIiwicC1vcHRpb25zIiwicC1yZXF1aXJlZCIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSJdLFszLCJuYW1lIiwibmdNb2RlbCIsIm5nQ2xhc3MiLCJwLWF1dG8tZm9jdXMiLCJwLWRpc2FibGVkIiwicC1oZWxwIiwicC1sYWJlbCIsInAtbGFiZWwtb2ZmIiwicC1sYWJlbC1vbiIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSJdLFsicC1lbWl0LW9iamVjdC12YWx1ZSIsIiIsMywibmFtZSIsIm5nTW9kZWwiLCJuZ0NsYXNzIiwicC1hdXRvLWZvY3VzIiwicC1kaXNhYmxlZCIsInAtZmllbGQtbGFiZWwiLCJwLWZpZWxkLXZhbHVlIiwicC1maWx0ZXItcGFyYW1zIiwicC1maWx0ZXItc2VydmljZSIsInAtaGVscCIsInAtbGFiZWwiLCJwLW9wdGlvbmFsIiwicC1yZXF1aXJlZCIsInAtaWNvbiIsInAtcGxhY2Vob2xkZXIiLCJuZ01vZGVsQ2hhbmdlIiwicC1jaGFuZ2UiXSxbInAtZmllbGQtbGFiZWwiLCJsYWJlbCIsInAtZmllbGQtdmFsdWUiLCJ2YWx1ZSIsMywibmFtZSIsIm5nTW9kZWwiLCJuZ0NsYXNzIiwicC1jb2x1bW5zIiwicC1kaXNhYmxlZCIsInAtZmllbGQtbGFiZWwiLCJwLWZpZWxkLXZhbHVlIiwicC1maWx0ZXItcGFyYW1zIiwicC1maWx0ZXItc2VydmljZSIsInAtYXV0by1mb2N1cyIsInAtaGVscCIsInAtZmllbGQtZm9ybWF0IiwicC1sYWJlbCIsInAtb3B0aW9uYWwiLCJwLXJlcXVpcmVkIiwicC1wbGFjZWhvbGRlciIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSJdLFszLCJuYW1lIiwibmdNb2RlbCIsIm5nQ2xhc3MiLCJwLWRpc2FibGVkIiwicC1hdXRvLWZvY3VzIiwicC1oZWxwIiwicC1sYWJlbCIsInAtb3B0aW9uYWwiLCJwLW9wdGlvbnMiLCJwLXJlcXVpcmVkIiwicC1wbGFjZWhvbGRlciIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSJdLFszLCJuYW1lIiwibmdNb2RlbCIsIm5nQ2xhc3MiLCJwLWRpc2FibGVkIiwicC1hdXRvLWZvY3VzIiwicC1oZWxwIiwicC1sYWJlbCIsInAtbWF4bGVuZ3RoIiwicC1taW5sZW5ndGgiLCJwLW9wdGlvbmFsIiwicC1yZXF1aXJlZCIsInAtcm93cyIsInAtcGxhY2Vob2xkZXIiLCJuZ01vZGVsQ2hhbmdlIiwicC1jaGFuZ2UiXSxbInAtY2xlYW4iLCIiLDMsIm5hbWUiLCJuZ01vZGVsIiwibmdDbGFzcyIsInAtZGlzYWJsZWQiLCJwLWVycm9yLXBhdHRlcm4iLCJwLWF1dG8tZm9jdXMiLCJwLWhlbHAiLCJwLWxhYmVsIiwicC1tYXhsZW5ndGgiLCJwLW1pbmxlbmd0aCIsInAtb3B0aW9uYWwiLCJwLXBhdHRlcm4iLCJwLXJlcXVpcmVkIiwicC1wbGFjZWhvbGRlciIsIm5nTW9kZWxDaGFuZ2UiLCJwLWNoYW5nZSJdXSx0ZW1wbGF0ZTpmdW5jdGlvbihlLHQpezEmZSYma3IoMCxNRCwyLDIsImRpdiIsMCksMiZlJiZPcigibmdJZiIsdC52aXNpYmxlRmllbGRzJiZ0LnZpc2libGVGaWVsZHMubGVuZ3RoPjApfSxkaXJlY3RpdmVzOltGaCxPaCxkRSxORSxKdixEYix4aCxteCxieCxHayxFeCx3eCxBeCx6ayxheCxPRSxweCxUeCx5eF0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCksV3g9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmh0dHA9ZX1vbkxvYWQoZSx0KXtyZXR1cm4gdGhpcy5odHRwLnBvc3QoZSx0KS50b1Byb21pc2UoKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoY2koZ3YpKX0sZS5cdTAyNzVwcm92PWhlKHt0b2tlbjplLGZhY3Rvcnk6ZS5cdTAyNzVmYWN9KSxlfSkoKSxHeD0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtwcm92aWRlcnM6W3FoLEhoLFVoLG1rLCRoLFhrLGV4LFd4XSxpbXBvcnRzOltbR2gsVmIscEUsTXgsSXgsSHgsdmtdXX0pLGV9KSgpO01hdGg7bGV0IEt4PSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe2ltcG9ydHM6W1tHaCxqU11dfSksZX0pKCksWXg9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7aW1wb3J0czpbW0doLFZiLEl4XV19KSxlfSkoKSxaeD0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtwcm92aWRlcnM6W10saW1wb3J0czpbW0doLEhtLEZTLHZFXV19KSxlfSkoKSxReD0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtpbXBvcnRzOltbR2hdXX0pLGV9KSgpLEp4PSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe2ltcG9ydHM6W1tHaCxIbSxReCxJeCxTUyxtU11dfSksZX0pKCksWHg9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuc3ViamVjdENoaWxkPW5ldyBELHRoaXMuc3ViamVjdFBhcmVudD1uZXcgRH1yZWNlaXZlRnJvbUNoaWxkTWVudUNsaWNrZWQoKXtyZXR1cm4gdGhpcy5zdWJqZWN0Q2hpbGQuYXNPYnNlcnZhYmxlKCl9cmVjZWl2ZUZyb21QYXJlbnRNZW51Q2xpY2tlZCgpe3JldHVybiB0aGlzLnN1YmplY3RQYXJlbnQuYXNPYnNlcnZhYmxlKCl9c2VuZFRvUGFyZW50TWVudUNsaWNrZWQoZSl7dGhpcy5zdWJqZWN0Q2hpbGQubmV4dChlKX1zZW5kVG9DaGlsZE1lbnVDbGlja2VkKGUpe3RoaXMuc3ViamVjdFBhcmVudC5uZXh0KGUpfX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVwcm92PWhlKHt0b2tlbjplLGZhY3Rvcnk6ZS5cdTAyNzVmYWN9KSxlfSkoKSxlQT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtwcm92aWRlcnM6W1h4XSxpbXBvcnRzOltbR2gsSG0sSXgsalNdXX0pLGV9KSgpLHRBPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe2ltcG9ydHM6W1tHaCx2RSxqUyxtU11dfSksZX0pKCksbkE9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7aW1wb3J0czpbW0doLEhtXV19KSxlfSkoKSxpQT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtpbXBvcnRzOltbR2gsSG1dXX0pLGV9KSgpLHNBPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe2ltcG9ydHM6W1tHaCx0QSxuQSxpQSxKeCxtU11dfSksZX0pKCksb0E9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7aW1wb3J0czpbW0doLFZiLEhtLGZTLEZTLHVFLGJFLEl4LERTLHpFXV19KSxlfSkoKSxyQT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtwcm92aWRlcnM6W10saW1wb3J0czpbW0doLEhtLHRFXV19KSxlfSkoKSxhQT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtpbXBvcnRzOltbR2hdXX0pLGV9KSgpLGxBPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe2ltcG9ydHM6W1tHaCxna11dfSksZX0pKCksY0E9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tHaCxIRCx2RSxtU11dfSksZX0pKCksdUE9KCgpPT57Y2xhc3MgZXt9cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSl9LGUuXHUwMjc1bW9kPVdlKHt0eXBlOmV9KSxlLlx1MDI3NWluaj1kZSh7aW1wb3J0czpbW0doLFZiLHRFLEl4XV19KSxlfSkoKSxoQT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtpbXBvcnRzOltbR2gsdEVdXX0pLGV9KSgpLGRBPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbJEQsSEQsZlMsRlMsTlMsWlMsSlMsdEUsdUUsb0UscEUsYkUsR3gsSXgsS3gsWXgsbVMsTXgsWngsU1MsSngsZUEsekUsc0Esb0EsZ2ssdkUsV0UsckEsYUEsamssbEEsSHgsY0EsdUEsaEFdLCRELEhELGZTLEZTLE5TLFpTLEpTLHRFLHVFLG9FLHBFLGJFLEd4LEl4LEt4LFl4LG1TLE14LFp4LFNTLEp4LGVBLHpFLHNBLG9BLGdrLHZFLFdFLHJBLGFBLGprLGxBLEh4LGNBLHVBLGhBXX0pLGV9KSgpLHBBPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbalNdLGpTXX0pLGV9KSgpLGZBPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbXV19KSxlfSkoKTtjb25zdCBnQT17ZW46e2Nsb3NlQnV0dG9uOiJDbG9zZSIsZGV0YWlsczoiRGV0YWlscyIsZGV0YWlsOiJEZXRhaWwiLGVycm9yOiJFcnJvciIsd2FybmluZzoiV2FybmluZyIsaW5mb3JtYXRpb246IkluZm9ybWF0aW9uIixzdWNjZXNzOiJTdWNjZXNzIn0sZXM6e2Nsb3NlQnV0dG9uOiJDZXJyYXIiLGRldGFpbHM6IkRldGFsbGVzIixkZXRhaWw6IkRldGFsbGUiLGVycm9yOiJFcnJvciIsd2FybmluZzoiQWR2ZXJ0ZW5jaWEiLGluZm9ybWF0aW9uOiJJbmZvcm1hY2lvbiIsc3VjY2VzczoiXHhjOXhpdG8ifSxwdDp7Y2xvc2VCdXR0b246IkZlY2hhciIsZGV0YWlsczoiRGV0YWxoZXMiLGRldGFpbDoiRGV0YWxoZSIsZXJyb3I6IkVycm8iLHdhcm5pbmc6IkF2aXNvIixpbmZvcm1hdGlvbjoiSW5mb3JtYVx4ZTdceGUzbyIsc3VjY2VzczoiU3VjZXNzbyJ9LHJ1OntjbG9zZUJ1dHRvbjoiXHUwNDE3XHUwNDMwXHUwNDNhXHUwNDQwXHUwNDRiXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDRjIixkZXRhaWxzOiJcdTA0MTRcdTA0MzVcdTA0NDJcdTA0MzBcdTA0M2JcdTA0MzgiLGRldGFpbDoiXHUwNDE0XHUwNDM1XHUwNDQyXHUwNDMwXHUwNDNiXHUwNDRjIixlcnJvcjoiXHUwNDFlXHUwNDQ4XHUwNDM4XHUwNDMxXHUwNDNhXHUwNDMwIix3YXJuaW5nOiJcdTA0MWZcdTA0NDBcdTA0MzVcdTA0MzRcdTA0NDNcdTA0M2ZcdTA0NDBcdTA0MzVcdTA0MzZcdTA0MzRcdTA0MzVcdTA0M2RcdTA0MzhcdTA0MzUiLGluZm9ybWF0aW9uOiJcdTA0MThcdTA0M2RcdTA0NDRcdTA0M2VcdTA0NDBcdTA0M2NcdTA0MzBcdTA0NDZcdTA0MzhcdTA0NGYiLHN1Y2Nlc3M6IllcdTA0NDFcdTA0M2ZcdTA0MzVcdTA0NDUifX0sbUE9e3N1Y2Nlc3M6ImNvbG9yLTExIixlcnJvcjoiY29sb3ItMDciLHdhcm5pbmc6ImNvbG9yLTA4IixpbmZvOiIifTtsZXQgdkE9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmxhbmd1YWdlU2VydmljZT1lLHRoaXMuY2xvc2VkPW5ldyBlYyx0aGlzLmRldGFpbHM9W10sdGhpcy5sYW5ndWFnZT10aGlzLmxhbmd1YWdlU2VydmljZS5nZXRTaG9ydExhbmd1YWdlKCksdGhpcy5saXRlcmFscz1nQVt0aGlzLmxhbmd1YWdlXSx0aGlzLnByaW1hcnlBY3Rpb249e2FjdGlvbjooKT0+dGhpcy5jbG9zZSgpLGxhYmVsOnRoaXMubGl0ZXJhbHMuY2xvc2VCdXR0b259fXNldCBkZXRhaWwoZSl7ZSYmZS5sZW5ndGgmJih0aGlzLmRldGFpbHM9dGhpcy5maWx0ZXJCeVZhbGlkRGV0YWlscyhlKSksdGhpcy50aXRsZT10aGlzLmZvcm1hdFRpdGxlKHRoaXMuZGV0YWlscyl9Y2xvc2UoKXt0aGlzLm1vZGFsLmNsb3NlKCksdGhpcy5jbG9zZWQuZW1pdCgpfWZvcm1hdERldGFpbEl0ZW1UaXRsZShlKXtyZXR1cm4gZS5jb2RlP2Ake2UuY29kZX0gLSAke2UubWVzc2FnZX1gOmUubWVzc2FnZX1vcGVuKCl7dGhpcy5tb2RhbC5vcGVuKCl9dHlwZUNvbG9yKGUpe3JldHVybiBtQVtlXX10eXBlVmFsdWUoZSl7cmV0dXJuIGdBW3RoaXMubGFuZ3VhZ2VdW2VdfHxlfWFkZFZhbGlkRGV0YWlsKGUsdCl7cmV0dXJuIHQubWVzc2FnZT9lLmNvbmNhdCh0aGlzLmdldFZhbGlkRGV0YWlsUHJvcGVydGllcyh0KSk6ZX1nZXRWYWxpZERldGFpbFByb3BlcnRpZXMoe2NvZGU6ZSxtZXNzYWdlOnQsZGV0YWlsZWRNZXNzYWdlOm4sdHlwZTppfSl7cmV0dXJue2NvZGU6ZSxtZXNzYWdlOnQsZGV0YWlsZWRNZXNzYWdlOm4sdHlwZTppfX1maWx0ZXJCeVZhbGlkRGV0YWlscyhlKXtyZXR1cm4gZS5yZWR1Y2UoKGUsdCk9PnRoaXMuYWRkVmFsaWREZXRhaWwoZSx0KSxbXSl9Zm9ybWF0VGl0bGUoZSl7cmV0dXJuIGUubGVuZ3RoPjE/YCR7dGhpcy5saXRlcmFscy5kZXRhaWxzfSAoJHtlLmxlbmd0aH0pYDp0aGlzLmxpdGVyYWxzLmRldGFpbH19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoQXIocFMpKX0sZS5cdTAyNzVjbXA9SGUoe3R5cGU6ZSxzZWxlY3RvcnM6W1sicG8taHR0cC1pbnRlcmNlcHRvci1kZXRhaWwiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKGUsdCl7aWYoMSZlJiZwYyhxRSw3KSwyJmUpe2xldCBlO2RjKGU9Z2MoKSkmJih0Lm1vZGFsPWUuZmlyc3QpfX0sZGVjbHM6NCx2YXJzOjMsY29uc3RzOltbInAtaGlkZS1jbG9zZSIsIiIsInAtc2l6ZSIsImxnIiwzLCJwLXByaW1hcnktYWN0aW9uIiwicC10aXRsZSJdLFsxLCJwby1yb3ciXSxbMSwicG8tbWQtMTIiLCJwby1tdC0xIiwicG8tbWItMSJdLFszLCJwLWxhYmVsIiw0LCJuZ0ZvciIsIm5nRm9yT2YiXSxbMywicC1sYWJlbCJdLFsiY2xhc3MiLCJwby1yb3cgcG8tbWItMSIsNCwibmdJZiJdLFsxLCJwby1yb3ciLCJwby1tYi0xIl0sWzMsInAtY29sb3IiLCJwLXZhbHVlIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiYoRnIoMCwicG8tbW9kYWwiLDApLEZyKDEsImRpdiIsMSksRnIoMiwicG8tYWNjb3JkaW9uIiwyKSxrcigzLFZELDUsMywicG8tYWNjb3JkaW9uLWl0ZW0iLDMpLElyKCksSXIoKSxJcigpKSwyJmUmJihPcigicC1wcmltYXJ5LWFjdGlvbiIsdC5wcmltYXJ5QWN0aW9uKSgicC10aXRsZSIsdC50aXRsZSksWnMoMyksT3IoIm5nRm9yT2YiLHQuZGV0YWlscykpfSxkaXJlY3RpdmVzOltxRSxqRCxPaCxSRCxGaCwkeF0sZW5jYXBzdWxhdGlvbjoyfSksZX0pKCk7Y29uc3QgYkE9e3B0OntoZWxwOiJBanVkYSIsZGV0YWlsczoiRGV0YWxoZXMiLHNlcnZlck5vdFJlc3BvbnNlOiJTZXJ2aWRvciBuXHhlM28gZXN0XHhlMSByZXNwb25kZW5kbyJ9LGVuOntoZWxwOiJIZWxwIixkZXRhaWxzOiJEZXRhaWxzIixzZXJ2ZXJOb3RSZXNwb25zZToiU2VydmVyIGlzIG5vdCByZXNwb25kaW5nIn0sZXM6e2hlbHA6IkF5dWRhIixkZXRhaWxzOiJEZXRhbGxlcyIsc2VydmVyTm90UmVzcG9uc2U6IkVsIHNlcnZpZG9yIG5vIGVzdFx4ZTEgcmVzcG9uZGllbmRvIn0scnU6e2hlbHA6Ilx1MDQxZlx1MDQzZVx1MDQzY1x1MDQzZVx1MDQzM1x1MDQzOFx1MDQ0Mlx1MDQzNSIsZGV0YWlsczoiXHUwNDE0XHUwNDM1XHUwNDQyXHUwNDMwXHUwNDNiXHUwNDM4IixzZXJ2ZXJOb3RSZXNwb25zZToiXHUwNDIxXHUwNDM1XHUwNDQwXHUwNDMyXHUwNDM1XHUwNDQwIFx1MDQzZFx1MDQzNSBcdTA0M2VcdTA0NDJcdTA0MzJcdTA0MzVcdTA0NDdcdTA0MzBcdTA0MzVcdTA0NDIifX0seUE9IlgtUE8tTm8tRXJyb3IiLENBPSJYLVBPLU5vLU1lc3NhZ2UiO2xldCB3QT0oKCk9PntjbGFzcyBlIGV4dGVuZHMgY2xhc3N7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuY29tcG9uZW50SW5qZWN0b3I9ZSx0aGlzLm5vdGlmaWNhdGlvbj10LHRoaXMubGFuZ3VhZ2VTZXJ2aWNlPW4sdGhpcy5ub3RpZmljYXRpb25UeXBlcz1bInN1Y2Nlc3MiLCJ3YXJuaW5nIiwiZXJyb3IiLCJpbmZvcm1hdGlvbiJdLHRoaXMubGl0ZXJhbHM9YkFbdGhpcy5sYW5ndWFnZVNlcnZpY2UuZ2V0U2hvcnRMYW5ndWFnZSgpXSx0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudD12b2lkIDB9aW50ZXJjZXB0KGUsdCl7Y29uc3Qgbj1lLmNsb25lKCk7cmV0dXJuIGU9ZSYmdGhpcy5oYXNQYXJhbWV0ZXJzKGUpP3RoaXMuY2xvbmVSZXF1ZXN0V2l0aG91dFBhcmFtZXRlcnMoZSk6ZSx0LmhhbmRsZShlKS5waXBlKEdwKGU9PntlIGluc3RhbmNlb2YgZHYmJnRoaXMucHJvY2Vzc1Jlc3BvbnNlKGUsbil9LGU9Pnt0aGlzLnByb2Nlc3NFcnJvclJlc3BvbnNlKGUsbil9KSl9cHJvY2Vzc1Jlc3BvbnNlKGUsdCl7aWYoIXRoaXMuaGFzTm9NZXNzYWdlUGFyYW0odCkmJmUuYm9keSYmZS5ib2R5Ll9tZXNzYWdlcyl7Y29uc3QgdD1lLmJvZHkuX21lc3NhZ2VzO3QgaW5zdGFuY2VvZiBBcnJheT90LmZvckVhY2goZT0+e3RoaXMuc2hvd05vdGlmaWNhdGlvbihlKX0pOnRoaXMuc2hvd05vdGlmaWNhdGlvbih0KX19cHJvY2Vzc0Vycm9yUmVzcG9uc2UoZSx0KXtjb25zdCBuPTAhPT1lLnN0YXR1cz9lLmVycm9yOntjb2RlOjAsbWVzc2FnZTp0aGlzLmxpdGVyYWxzLnNlcnZlck5vdFJlc3BvbnNlLGRldGFpbGVkTWVzc2FnZTplLm1lc3NhZ2V9LGk9dGhpcy5oYXNOb0Vycm9yUGFyYW0odCkscz10aGlzLmhhc05vTWVzc2FnZVBhcmFtKHQpLG89dGhpcy5ub3RpZmljYXRpb25UeXBlcy5zbGljZSgxKTtuJiZuLm1lc3NhZ2UmJiFpJiYhcyYmdGhpcy5zaG93Tm90aWZpY2F0aW9uKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7dHlwZTpvLmluY2x1ZGVzKG4udHlwZSk/bi50eXBlOiJlcnJvciJ9KSl9Y2xvbmVSZXF1ZXN0V2l0aG91dFBhcmFtZXRlcnMoZSl7Y29uc3QgdD1lLmhlYWRlcnMuZGVsZXRlKHlBKS5kZWxldGUoQ0EpO3JldHVybiBlLmNsb25lKHtoZWFkZXJzOnR9KX1jcmVhdGVNb2RhbChlKXtjb25zdCB0PWUuZGV0YWlscz9bZSwuLi5lLmRldGFpbHNdOltlXTt0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudD10aGlzLmNvbXBvbmVudEluamVjdG9yLmNyZWF0ZUNvbXBvbmVudEluQXBwbGljYXRpb24odkEpLHRoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50Lmluc3RhbmNlLmRldGFpbD10LHRoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50Lmluc3RhbmNlLmNsb3NlZC5zdWJzY3JpYmUoKCk9PnRoaXMuZGVzdHJveU1vZGFsKCkpLHRoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50Lmluc3RhbmNlLm9wZW4oKX1kZXN0cm95TW9kYWwoKXt0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudCYmKHRoaXMuY29tcG9uZW50SW5qZWN0b3IuZGVzdHJveUNvbXBvbmVudEluQXBwbGljYXRpb24odGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQpLHRoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50PXZvaWQgMCl9aGFzTWVzc2FnZShlKXtyZXR1cm4gZSYmZS5tZXNzYWdlfWhhc05vRXJyb3JQYXJhbShlKXtjb25zdCB0PWUmJmUuaGVhZGVycy5nZXQoeUEpO3JldHVybiB0JiYidHJ1ZSI9PT10LnRvU3RyaW5nKCkudG9Mb2NhbGVMb3dlckNhc2UoKX1oYXNOb01lc3NhZ2VQYXJhbShlKXtjb25zdCB0PWUmJmUuaGVhZGVycy5nZXQoQ0EpO3JldHVybiB0JiYidHJ1ZSI9PT10LnRvU3RyaW5nKCkudG9Mb2NhbGVMb3dlckNhc2UoKX1oYXNQYXJhbWV0ZXJzKGUpe3JldHVybiBlLmhlYWRlcnMuaGFzKHlBKXx8ZS5oZWFkZXJzLmhhcyhDQSl9c2hvd05vdGlmaWNhdGlvbihlKXtpZighdGhpcy5oYXNNZXNzYWdlKGUpKXJldHVybjtjb25zdCB0PXRoaXMubm90aWZpY2F0aW9uVHlwZXMuaW5jbHVkZXMoZS50eXBlKT9lLnR5cGU6ImluZm9ybWF0aW9uIixuPXRoaXMuZ2VuZXJhdGVOb3RpZmljYXRpb25BY3Rpb24oZSk7dGhpcy5ub3RpZmljYXRpb25bdF0oe21lc3NhZ2U6ZS5tZXNzYWdlLGFjdGlvbkxhYmVsOm4ubGFiZWwsYWN0aW9uOm4uYWN0aW9ufSl9Z2VuZXJhdGVEZXRhaWxNb2RhbChlKXtyZXR1cm4oKT0+e3RoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50fHx0aGlzLmNyZWF0ZU1vZGFsKGUpfX1nZW5lcmF0ZU5vdGlmaWNhdGlvbkFjdGlvbihlKXtsZXQgdCxuO3JldHVybiFlLmhlbHBVcmx8fGUuZGV0YWlsZWRNZXNzYWdlfHxlLmRldGFpbHM/KGUuZGV0YWlsZWRNZXNzYWdlfHxlLmRldGFpbHMpJiYobj10aGlzLmxpdGVyYWxzLmRldGFpbHMsdD10aGlzLmdlbmVyYXRlRGV0YWlsTW9kYWwoZSkpOihuPXRoaXMubGl0ZXJhbHMuaGVscCx0PXRoaXMuZ2VuZXJhdGVVcmxIZWxwRnVuY3Rpb24oZS5oZWxwVXJsKSkse2xhYmVsOm4sYWN0aW9uOnR9fWdlbmVyYXRlVXJsSGVscEZ1bmN0aW9uKGUpe3JldHVybigpPT57d2luZG93Lm9wZW4oZSwiX2JsYW5rIil9fX17Y29uc3RydWN0b3IoZSx0LG4pe3N1cGVyKHQsZSxuKX19cmV0dXJuIGUuXHUwMjc1ZmFjPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcodHx8ZSkoY2koRngpLGNpKFpFKSxjaShwUykpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpLF9BPSgoKT0+e2NsYXNzIGV7fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe3Byb3ZpZGVyczpbd0EsRngse3Byb3ZpZGU6dnYsdXNlQ2xhc3M6d0EsbXVsdGk6ITB9XSxpbXBvcnRzOltbR2gsJEQsekUsbGssSHhdXX0pLGV9KSgpLERBPSgoKT0+e2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLmNvbnRyb2xIdHRwUmVxdWVzdD1uZXcgRH1nZXRDb250cm9sSHR0cFJlcXVlc3QoKXtyZXR1cm4gdGhpcy5jb250cm9sSHR0cFJlcXVlc3QuYXNPYnNlcnZhYmxlKCl9c2VuZChlPTApe3RoaXMuY29udHJvbEh0dHBSZXF1ZXN0Lm5leHQoZSl9fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NXByb3Y9aGUoe3Rva2VuOmUsZmFjdG9yeTplLlx1MDI3NWZhY30pLGV9KSgpO2NvbnN0IFNBPSJYLVBPLU5vLUNvdW50LVBlbmRpbmctUmVxdWVzdHMiLEVBPSJYLVBPLVNjcmVlbi1Mb2NrIjtsZXQga0E9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuY29udHJvbEh0dHBSZXF1ZXN0PWUsdGhpcy5wb0NvbXBvbmVudEluamVjdG9yPXQsdGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudD12b2lkIDAsdGhpcy5wZW5kaW5nUmVxdWVzdHM9MCx0aGlzLm92ZXJsYXlSZXF1ZXN0cz0wfWludGVyY2VwdChlLHQpe2NvbnN0IG49ZS5jbG9uZSgpO3JldHVybiBlPXRoaXMucmVxdWVzdENsb25lV2l0aG91dEhlYWRlclBhcmFtKFtTQSxFQV0sZSksdGhpcy5zZXRDb3VudFBlbmRpbmdSZXF1ZXN0cyghMCxuKSx0aGlzLnNldENvdW50T3ZlcmxheVJlcXVlc3RzKCEwLG4pLHQuaGFuZGxlKGUpLnBpcGUoR3AoZT0+e2UgaW5zdGFuY2VvZiBkdiYmKHRoaXMuc2V0Q291bnRQZW5kaW5nUmVxdWVzdHMoITEsbiksdGhpcy5zZXRDb3VudE92ZXJsYXlSZXF1ZXN0cyghMSxuKSl9KSxGcChlPT4odGhpcy5zZXRDb3VudFBlbmRpbmdSZXF1ZXN0cyghMSxuKSx0aGlzLnNldENvdW50T3ZlcmxheVJlcXVlc3RzKCExLG4pLCRkKGUpKSkpfWdldENvdW50UGVuZGluZ1JlcXVlc3RzKCl7cmV0dXJuIHRoaXMuY29udHJvbEh0dHBSZXF1ZXN0LmdldENvbnRyb2xIdHRwUmVxdWVzdCgpfWJ1aWxkTG9hZGluZygpe3RoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnR8fCh0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50PXRoaXMucG9Db21wb25lbnRJbmplY3Rvci5jcmVhdGVDb21wb25lbnRJbkFwcGxpY2F0aW9uKHlTKSx0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50Lmluc3RhbmNlLnNjcmVlbkxvY2s9ITAsdGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudC5pbnN0YW5jZS5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCkpfWRlc3Ryb3lMb2FkaW5nKCl7dGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudCYmKHRoaXMucG9Db21wb25lbnRJbmplY3Rvci5kZXN0cm95Q29tcG9uZW50SW5BcHBsaWNhdGlvbih0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50KSx0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50PXZvaWQgMCl9cmVxdWVzdENsb25lV2l0aG91dEhlYWRlclBhcmFtKGUsdCl7bGV0IG49ITE7cmV0dXJuIGUuZm9yRWFjaChlPT57dC5oZWFkZXJzLmhhcyhlKSYmKHQuaGVhZGVycy5kZWxldGUoZSksbj0hMCl9KSxuP3QuY2xvbmUoe2hlYWRlcnM6dC5oZWFkZXJzfSk6dH1zZXRDb3VudFBlbmRpbmdSZXF1ZXN0cyhlLHQpe2NvbnN0IG49dC5oZWFkZXJzLmhhcyhTQSksaT10LmhlYWRlcnMuZ2V0KFNBKTtuJiYidHJ1ZSI9PT1pLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKXx8KHRoaXMucGVuZGluZ1JlcXVlc3RzKz1lPzE6LTEsdGhpcy5jb250cm9sSHR0cFJlcXVlc3Quc2VuZCh0aGlzLnBlbmRpbmdSZXF1ZXN0cykpfXNldENvdW50T3ZlcmxheVJlcXVlc3RzKGUsdCl7aWYodC5oZWFkZXJzLmhhcyhFQSkpe2lmKCJmYWxzZSI9PT10LmhlYWRlcnMuZ2V0KEVBKS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpcmV0dXJuO3RoaXMub3ZlcmxheVJlcXVlc3RzKz1lPzE6LTEsdGhpcy5vdmVybGF5UmVxdWVzdHM+MD90aGlzLmJ1aWxkTG9hZGluZygpOnRoaXMuZGVzdHJveUxvYWRpbmcoKX19fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpKGNpKERBKSxjaShaRSkpfSxlLlx1MDI3NXByb3Y9aGUoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUoY2koREEpLGNpKFpFKSl9LHRva2VuOmUscHJvdmlkZWRJbjoicm9vdCJ9KSxlfSkoKSx4QT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtwcm92aWRlcnM6W0RBLGtBLFpFLHtwcm92aWRlOnZ2LHVzZUNsYXNzOmtBLG11bHRpOiEwfV0saW1wb3J0czpbW1NTXV19KSxlfSkoKSxBQT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtwcm92aWRlcnM6W10saW1wb3J0czpbW19BLHhBXSxfQSx4QV19KSxlfSkoKSxPQT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtwcm92aWRlcnM6W10saW1wb3J0czpbW3ZrXSx2a119KSxlfSkoKSxUQT0oKCk9PntjbGFzcyBle31yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKX0sZS5cdTAyNzVtb2Q9V2Uoe3R5cGU6ZX0pLGUuXHUwMjc1aW5qPWRlKHtwcm92aWRlcnM6W0Z4XSxpbXBvcnRzOltbZEEscEEsZkEsQUEsT0EsY2tdLGRBLHBBLEFBLGZBLE9BLGNrXX0pLGV9KSgpO25ldyB6bigiSTE4Tl9DT05GSUciKTtsZXQgRkE9KCgpPT57Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMudGl0bGU9InBvYy1jcGYiLHRoaXMuZmllbGRzPVt7cHJvcGVydHk6ImNwZiIsbGFiZWw6IkNQRiIsbWFzazoiOTk5Ljk5OS45OTktOTkiLGRpdmlkZXI6IkRBRE9TIFBFU1NPQUlTIixvcmRlcjoxLHBsYWNlaG9sZGVyOiJFeDogMTIzLjQ1OS43ODktMTAifSx7cHJvcGVydHk6Im5hbWUiLGxhYmVsOiJOb21lIENvbXBsZXRvIixvcmRlcjoyLHBsYWNlaG9sZGVyOiJFeDogSm9ceGUzbyBHb21lcyJ9LHtwcm9wZXJ0eToiY2l2aWxTdGF0dXMiLG9wdGlvbnM6W3tsYWJlbDoiU29sdGVpcm8iLHZhbHVlOiJzb2x0ZWlybyJ9LHtsYWJlbDoiQ2FzYWRvIix2YWx1ZToiY2FzYWRvIn0se2xhYmVsOiJTZXBhcmFkbyIsdmFsdWU6InNlcGFyYWRvIn0se2xhYmVsOiJEaXZvcmNpYWRvIix2YWx1ZToiZGl2b3JjaWFkbyJ9LHtsYWJlbDoiVmlceGZhdm8iLHZhbHVlOiJ2aXV2byJ9XSxvcmRlcjozLGxhYmVsOiJFc3RhZG8gQ2l2aWwiLHBsYWNlaG9sZGVyOiJFc2NvbGhhIHVtIGVzdGFkbyBjaXZpbCJ9LHtwcm9wZXJ0eToiYnVybkRhdGUiLHR5cGU6ImRhdGUiLGZvcm1hdDoiZGQvbW0veXl5eSIsbGFiZWw6IkRhdGEgZGUgTmFzY2ltZW50byIsb3JkZXI6MyxwbGFjZWhvbGRlcjoiRXg6IDAyLzA5LzE5ODMifSx7cHJvcGVydHk6ImVtYWlsIix0eXBlOiJlbWFpbCIsbGFiZWw6IkUtbWFpbCIsaWNvbjoicG8taWNvbi1tYWlsIixkaXZpZGVyOiJEQURPUyBERSBDT05UQVRPIixwbGFjZWhvbGRlcjoiRXg6IHBvdWlAdG90dnMuY29tLmJyIn0se3Byb3BlcnR5OiJwaG9uZSIsbGFiZWw6IlRlbGVmb25lIEZpeG8iLGljb246InBvLWljb24tdGVsZXBob25lIixwbGFjZWhvbGRlcjoiRXg6ICg5OSkgOTk5OS05OTk5IixtYXNrOiIoOTkpIDkgOTk5OS05OTk5In0se3Byb3BlcnR5OiJ3aGF0c2FwcCIsbGFiZWw6IlRlbGVmb25lIENlbHVsYXIgLyBXaGF0c2FwcCIsaWNvbjoicG8taWNvbi1zb2NpYWwtd2hhdHNhcHAiLHBsYWNlaG9sZGVyOiJFeDogKDk5KSA5IDk5OTktOTk5OSIsbWFzazoiKDk5KSA5IDk5OTktOTk5OSJ9LHtwcm9wZXJ0eToiZ2l0aHViIixsYWJlbDoiR2l0aHViIixpY29uOiJwby1pY29uLXNvY2lhbC1naXRodWIiLHBsYWNlaG9sZGVyOiJFeDogQHBvLXVpIixkaXZpZGVyOiJSRURFUyBTT0NJQUlTIn0se3Byb3BlcnR5OiJpbnN0YWdyYW0iLGxhYmVsOiJJbnN0YWdyYW0iLGljb246InBvLWljb24tc29jaWFsLWluc3RhZ3JhbSIscGxhY2Vob2xkZXI6IkV4OiBAcG91aWRldiJ9LHtwcm9wZXJ0eToidHdpdHRlciIsbGFiZWw6IlR3aXR0ZXIiLGljb246InBvLWljb24tc29jaWFsLXR3aXR0ZXIiLHBsYWNlaG9sZGVyOiJFeDogQHBvdWlkZXYifV19fXJldHVybiBlLlx1MDI3NWZhYz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3KHR8fGUpfSxlLlx1MDI3NWNtcD1IZSh7dHlwZTplLHNlbGVjdG9yczpbWyJwb2MtY3BmIl1dLGRlY2xzOjEsdmFyczoxLGNvbnN0czpbWzMsInAtZmllbGRzIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKGUsdCl7MSZlJiZNcigwLCJwby1keW5hbWljLWZvcm0iLDApLDImZSYmT3IoInAtZmllbGRzIix0LmZpZWxkcyl9LGRpcmVjdGl2ZXM6W3R4XSxlbmNhcHN1bGF0aW9uOjJ9KSxlfSkoKSxJQT0oKCk9PntjbGFzcyBle2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZ2V0KE5hKS5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShlKS5pbnB1dHN9KGUsdC5pbmplY3RvciksaT10LnN0cmF0ZWd5RmFjdG9yeXx8bmV3IGVwKGUsdC5pbmplY3Rvcikscz1mdW5jdGlvbihlKXtjb25zdCB0PXt9O3JldHVybiBlLmZvckVhY2goKHtwcm9wTmFtZTplLHRlbXBsYXRlTmFtZTpufSk9Pnt2YXIgaTt0WyhpPW4saS5yZXBsYWNlKC9bQS1aXS9nLGU9PmAtJHtlLnRvTG93ZXJDYXNlKCl9YCkpXT1lfSksdH0obik7Y2xhc3MgbyBleHRlbmRzIG5we2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5pbmplY3Rvcj1lfWdldCBuZ0VsZW1lbnRTdHJhdGVneSgpe2lmKCF0aGlzLl9uZ0VsZW1lbnRTdHJhdGVneSl7Y29uc3QgZT10aGlzLl9uZ0VsZW1lbnRTdHJhdGVneT1pLmNyZWF0ZSh0aGlzLmluamVjdG9yfHx0LmluamVjdG9yKTtuLmZvckVhY2goKHtwcm9wTmFtZTp0fSk9PntpZighdGhpcy5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm47Y29uc3Qgbj10aGlzW3RdO2RlbGV0ZSB0aGlzW3RdLGUuc2V0SW5wdXRWYWx1ZSh0LG4pfSl9cmV0dXJuIHRoaXMuX25nRWxlbWVudFN0cmF0ZWd5fWF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhlLHQsbixpKXt0aGlzLm5nRWxlbWVudFN0cmF0ZWd5LnNldElucHV0VmFsdWUoc1tlXSxuKX1jb25uZWN0ZWRDYWxsYmFjaygpe2xldCBlPSExO3RoaXMubmdFbGVtZW50U3RyYXRlZ3kuZXZlbnRzJiYodGhpcy5zdWJzY3JpYmVUb0V2ZW50cygpLGU9ITApLHRoaXMubmdFbGVtZW50U3RyYXRlZ3kuY29ubmVjdCh0aGlzKSxlfHx0aGlzLnN1YnNjcmliZVRvRXZlbnRzKCl9ZGlzY29ubmVjdGVkQ2FsbGJhY2soKXt0aGlzLl9uZ0VsZW1lbnRTdHJhdGVneSYmdGhpcy5fbmdFbGVtZW50U3RyYXRlZ3kuZGlzY29ubmVjdCgpLHRoaXMubmdFbGVtZW50RXZlbnRzU3Vic2NyaXB0aW9uJiYodGhpcy5uZ0VsZW1lbnRFdmVudHNTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSx0aGlzLm5nRWxlbWVudEV2ZW50c1N1YnNjcmlwdGlvbj1udWxsKX1zdWJzY3JpYmVUb0V2ZW50cygpe3RoaXMubmdFbGVtZW50RXZlbnRzU3Vic2NyaXB0aW9uPXRoaXMubmdFbGVtZW50U3RyYXRlZ3kuZXZlbnRzLnN1YnNjcmliZShlPT57Y29uc3QgdD1mdW5jdGlvbihlLHQsbil7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIEN1c3RvbUV2ZW50KXtjb25zdCBpPWUuY3JlYXRlRXZlbnQoIkN1c3RvbUV2ZW50Iik7cmV0dXJuIGkuaW5pdEN1c3RvbUV2ZW50KHQsITEsITEsbiksaX1yZXR1cm4gbmV3IEN1c3RvbUV2ZW50KHQse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMSxkZXRhaWw6bn0pfSh0aGlzLm93bmVyRG9jdW1lbnQsZS5uYW1lLGUudmFsdWUpO3RoaXMuZGlzcGF0Y2hFdmVudCh0KX0pfX1yZXR1cm4gby5vYnNlcnZlZEF0dHJpYnV0ZXM9T2JqZWN0LmtleXMocyksbi5mb3JFYWNoKCh7cHJvcE5hbWU6ZX0pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KG8ucHJvdG90eXBlLGUse2dldCgpe3JldHVybiB0aGlzLm5nRWxlbWVudFN0cmF0ZWd5LmdldElucHV0VmFsdWUoZSl9LHNldCh0KXt0aGlzLm5nRWxlbWVudFN0cmF0ZWd5LnNldElucHV0VmFsdWUoZSx0KX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX0pLG99KEZBLHtpbmplY3RvcjplfSk7Y3VzdG9tRWxlbWVudHMuZGVmaW5lKCJwb2MtY3BmIix0KX1uZ0RvQm9vdHN0cmFwKCl7fX1yZXR1cm4gZS5cdTAyNzVmYWM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyh0fHxlKShjaShscikpfSxlLlx1MDI3NW1vZD1XZSh7dHlwZTplfSksZS5cdTAyNzVpbmo9ZGUoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbVGQsVEFdXX0pLGV9KSgpOyhmdW5jdGlvbigpe2lmKGV1KXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGVuYWJsZSBwcm9kIG1vZGUgYWZ0ZXIgcGxhdGZvcm0gc2V0dXAuIik7WGM9ITF9KSgpLEFkKCkuYm9vdHN0cmFwTW9kdWxlKElBKS5jYXRjaChlPT5jb25zb2xlLmVycm9yKGUpKX0sMzU4OmU9PntmdW5jdGlvbiB0KGUpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpPT57dmFyIHQ9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrZSsiJyIpO3Rocm93IHQuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsdH0pfXQua2V5cz0oKT0+W10sdC5yZXNvbHZlPXQsdC5pZD0zNTgsZS5leHBvcnRzPXR9fSxlPT57InVzZSBzdHJpY3QiO2UoZS5zPTUxNil9XSk7';