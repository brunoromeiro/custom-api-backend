export const pocData = 'KCgpPT57InVzZSBzdHJpY3QiO3ZhciBlLHI9e30sbj17fTtmdW5jdGlvbiB0KGUpe3ZhciBvPW5bZV07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBhPW5bZV09e2V4cG9ydHM6e319O3JldHVybiByW2VdKGEsYS5leHBvcnRzLHQpLGEuZXhwb3J0c310Lm09cixlPVtdLHQuTz0ocixuLG8sYSk9PntpZighbil7dmFyIGw9MS8wO2Zvcih1PTA7dTxlLmxlbmd0aDt1Kyspe2Zvcih2YXJbbixvLGFdPWVbdV0scz0hMCxwPTA7cDxuLmxlbmd0aDtwKyspKCExJmF8fGw+PWEpJiZPYmplY3Qua2V5cyh0Lk8pLmV2ZXJ5KGU9PnQuT1tlXShuW3BdKSk/bi5zcGxpY2UocC0tLDEpOihzPSExLGE8bCYmKGw9YSkpO3MmJihlLnNwbGljZSh1LS0sMSkscj1vKCkpfXJldHVybiByfWE9YXx8MDtmb3IodmFyIHU9ZS5sZW5ndGg7dT4wJiZlW3UtMV1bMl0+YTt1LS0pZVt1XT1lW3UtMV07ZVt1XT1bbixvLGFdfSx0Lm49ZT0+e3ZhciByPWUmJmUuX19lc01vZHVsZT8oKT0+ZS5kZWZhdWx0OigpPT5lO3JldHVybiB0LmQocix7YTpyfSkscn0sdC5kPShlLHIpPT57Zm9yKHZhciBuIGluIHIpdC5vKHIsbikmJiF0Lm8oZSxuKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTohMCxnZXQ6cltuXX0pfSx0Lm89KGUscik9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpLCgoKT0+e3ZhciBlPXs2NjY6MH07dC5PLmo9cj0+MD09PWVbcl07dmFyIHI9KHIsbik9Pnt2YXIgbyxhLFtsLHMscF09bix1PTA7Zm9yKG8gaW4gcyl0Lm8ocyxvKSYmKHQubVtvXT1zW29dKTtpZihwKXZhciBmPXAodCk7Zm9yKHImJnIobik7dTxsLmxlbmd0aDt1KyspdC5vKGUsYT1sW3VdKSYmZVthXSYmZVthXVswXSgpLGVbbFt1XV09MDtyZXR1cm4gdC5PKGYpfSxuPXNlbGYud2VicGFja0NodW5rcG9jX25nX2VsZW1lbnRzPXNlbGYud2VicGFja0NodW5rcG9jX25nX2VsZW1lbnRzfHxbXTtuLmZvckVhY2goci5iaW5kKG51bGwsMCkpLG4ucHVzaD1yLmJpbmQobnVsbCxuLnB1c2guYmluZChuKSl9KSgpfSkoKTsoc2VsZi53ZWJwYWNrQ2h1bmtwb2NfbmdfZWxlbWVudHM9c2VsZi53ZWJwYWNrQ2h1bmtwb2NfbmdfZWxlbWVudHN8fFtdKS5wdXNoKFtbNDI5XSx7MjI6KCk9PnshZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbigpe3ZhciBlPU0uc3BsaWNlKDAsTS5sZW5ndGgpO2ZvcihLZT0wO2UubGVuZ3RoOyllLnNoaWZ0KCkuY2FsbChudWxsLGUuc2hpZnQoKSl9ZnVuY3Rpb24gbyhlLHQpe2Zvcih2YXIgbj0wLG89ZS5sZW5ndGg7bjxvO24rKylkKGVbbl0sdCl9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZnVuY3Rpb24odCl7SWUodCkmJihkKHQsZSksYWUubGVuZ3RoJiZvKHQucXVlcnlTZWxlY3RvckFsbChhZSksZSkpfX1mdW5jdGlvbiBhKGUpe3ZhciB0PVZlLmNhbGwoZSwiaXMiKSxuPWUubm9kZU5hbWUudG9VcHBlckNhc2UoKSxvPXNlLmNhbGwob2UsdD9lZSt0LnRvVXBwZXJDYXNlKCk6UStuKTtyZXR1cm4gdCYmLTE8byYmIWkobix0KT8tMTpvfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4tMTxhZS5pbmRleE9mKGUrJ1tpcz0iJyt0KyciXScpfWZ1bmN0aW9uIHMoZSl7dmFyIHQ9ZS5jdXJyZW50VGFyZ2V0LG49ZS5hdHRyQ2hhbmdlLG89ZS5hdHRyTmFtZSxyPWUudGFyZ2V0LGE9ZVskXXx8MixpPWVbWF18fDM7IW90fHxyJiZyIT09dHx8IXRbVl18fCJzdHlsZSI9PT1vfHxlLnByZXZWYWx1ZT09PWUubmV3VmFsdWUmJigiIiE9PWUubmV3VmFsdWV8fG4hPT1hJiZuIT09aSl8fHRbVl0obyxuPT09YT9udWxsOmUucHJldlZhbHVlLG49PT1pP251bGw6ZS5uZXdWYWx1ZSl9ZnVuY3Rpb24gYyhlKXt2YXIgdD1yKGUpO3JldHVybiBmdW5jdGlvbihlKXtNLnB1c2godCxlLnRhcmdldCksS2UmJmNsZWFyVGltZW91dChLZSksS2U9c2V0VGltZW91dChuLDEpfX1mdW5jdGlvbiBsKGUpe250JiYobnQ9ITEsZS5jdXJyZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoSyxsKSksYWUubGVuZ3RoJiZvKChlLnRhcmdldHx8RSkucXVlcnlTZWxlY3RvckFsbChhZSksZS5kZXRhaWw9PT14P3g6aiksTmUmJmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9MCxuPUFlLmxlbmd0aDt0PG47dCsrKWllLmNvbnRhaW5zKGU9QWVbdF0pfHwobi0tLEFlLnNwbGljZSh0LS0sMSksZChlLHgpKX0oKX1mdW5jdGlvbiB1KGUsdCl7dmFyIG49dGhpcztCZS5jYWxsKG4sZSx0KSxMLmNhbGwobix7dGFyZ2V0Om59KX1mdW5jdGlvbiBoKGUsdCxuKXt2YXIgbz10LmFwcGx5KGUsbikscj1hKG8pO3JldHVybi0xPHImJloobyxyZVtyXSksbi5wb3AoKSYmYWUubGVuZ3RoJiZmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0wLG89ZS5sZW5ndGg7bjxvO24rKylaKHQ9ZVtuXSxyZVthKHQpXSl9KG8ucXVlcnlTZWxlY3RvckFsbChhZSkpLG99ZnVuY3Rpb24gcChlLHQpe0RlKGUsdCksTz9PLm9ic2VydmUoZSxYZSk6KHR0JiYoZS5zZXRBdHRyaWJ1dGU9dSxlW0ldPVMoZSksZVtBXShKLEwpKSxlW0FdKFkscykpLGVbR10mJm90JiYoZS5jcmVhdGVkPSEwLGVbR10oKSxlLmNyZWF0ZWQ9ITEpfWZ1bmN0aW9uIGYoZSl7dGhyb3cgbmV3IEVycm9yKCJBICIrZSsiIHR5cGUgaXMgYWxyZWFkeSByZWdpc3RlcmVkIil9ZnVuY3Rpb24gZChlLHQpe3ZhciBuLG8scj1hKGUpOy0xPHImJiF4ZS5jYWxsKGUsIlRFTVBMQVRFIikmJihIKGUscmVbcl0pLHI9MCx0IT09anx8ZVtqXT90IT09eHx8ZVt4XXx8KGVbal09ITEsZVt4XT0hMCxvPSJkaXNjb25uZWN0ZWQiLHI9MSk6KGVbeF09ITEsZVtqXT0hMCxvPSJjb25uZWN0ZWQiLHI9MSxOZSYmc2UuY2FsbChBZSxlKTwwJiZBZS5wdXNoKGUpKSxyJiYobj1lW3QrUl18fGVbbytSXSkmJm4uY2FsbChlKSl9ZnVuY3Rpb24gbSgpe31mdW5jdGlvbiBnKGUsdCxuKXt2YXIgbz1uJiZuW0ZdfHwiIixyPXQucHJvdG90eXBlLGE9T2UociksaT10Lm9ic2VydmVkQXR0cmlidXRlc3x8cGUscz17cHJvdG90eXBlOmF9O3plKGEsRyx7dmFsdWU6ZnVuY3Rpb24oKXtpZih3ZSl3ZT0hMTtlbHNlIGlmKCF0aGlzW3llXSl7dGhpc1t5ZV09ITAsbmV3IHQodGhpcykscltHXSYmcltHXS5jYWxsKHRoaXMpO3ZhciBlPU1lW0NlLmdldCh0KV07KCF2ZXx8ZS5jcmVhdGUubGVuZ3RoPjEpJiZfKHRoaXMpfX19KSx6ZShhLFYse3ZhbHVlOmZ1bmN0aW9uKGUpey0xPHNlLmNhbGwoaSxlKSYmcltWXSYmcltWXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSkscltxXSYmemUoYSxVLHt2YWx1ZTpyW3FdfSkscltCXSYmemUoYSxXLHt2YWx1ZTpyW0JdfSksbyYmKHNbRl09byksZT1lLnRvVXBwZXJDYXNlKCksTWVbZV09e2NvbnN0cnVjdG9yOnQsY3JlYXRlOm8/W28sU2UoZSldOltlXX0sQ2Uuc2V0KHQsZSksRVtOXShlLnRvTG93ZXJDYXNlKCkscyksdihlKSxMZVtlXS5yKCl9ZnVuY3Rpb24gVChlKXt2YXIgdD1NZVtlLnRvVXBwZXJDYXNlKCldO3JldHVybiB0JiZ0LmNvbnN0cnVjdG9yfWZ1bmN0aW9uIHkoZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP2U6ZSYmZS5pc3x8IiJ9ZnVuY3Rpb24gXyhlKXtmb3IodmFyIHQsbj1lW1ZdLG89bj9lLmF0dHJpYnV0ZXM6cGUscj1vLmxlbmd0aDtyLS07KW4uY2FsbChlLCh0PW9bcl0pLm5hbWV8fHQubm9kZU5hbWUsbnVsbCx0LnZhbHVlfHx0Lm5vZGVWYWx1ZSl9ZnVuY3Rpb24gdihlKXtyZXR1cm4oZT1lLnRvVXBwZXJDYXNlKCkpaW4gTGV8fChMZVtlXT17fSxMZVtlXS5wPW5ldyBiZShmdW5jdGlvbih0KXtMZVtlXS5yPXR9KSksTGVbZV0ucH1mdW5jdGlvbiBrKCl7X2UmJmRlbGV0ZSBlLmN1c3RvbUVsZW1lbnRzLGhlKGUsImN1c3RvbUVsZW1lbnRzIix7Y29uZmlndXJhYmxlOiEwLHZhbHVlOm5ldyBtfSksaGUoZSwiQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5Iix7Y29uZmlndXJhYmxlOiEwLHZhbHVlOm19KTtmb3IodmFyIHQ9dy5nZXQoL15IVE1MW0EtWl0qW2Etel0vKSxuPXQubGVuZ3RoO24tLTtmdW5jdGlvbih0KXt2YXIgbj1lW3RdO2lmKG4pe2VbdF09ZnVuY3Rpb24oZSl7dmFyIHQsbztyZXR1cm4gZXx8KGU9dGhpcyksZVt5ZV18fCh3ZT0hMCx0PU1lW0NlLmdldChlLmNvbnN0cnVjdG9yKV0sKGU9KG89dmUmJjE9PT10LmNyZWF0ZS5sZW5ndGgpP1JlZmxlY3QuY29uc3RydWN0KG4scGUsdC5jb25zdHJ1Y3Rvcik6RS5jcmVhdGVFbGVtZW50LmFwcGx5KEUsdC5jcmVhdGUpKVt5ZV09ITAsd2U9ITEsb3x8XyhlKSksZX0sZVt0XS5wcm90b3R5cGU9bi5wcm90b3R5cGU7dHJ5e24ucHJvdG90eXBlLmNvbnN0cnVjdG9yPWVbdF19Y2F0Y2gobyl7aGUobix5ZSx7dmFsdWU6ZVt0XX0pfX19KHRbbl0pKTtFLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj15KHQpO3JldHVybiBuPyRlLmNhbGwodGhpcyxlLFNlKG4pKTokZS5jYWxsKHRoaXMsZSl9LEplfHwoZXQ9ITAsRVtOXSgiIikpfXZhciBFPWUuZG9jdW1lbnQsYj1lLk9iamVjdCx3PWZ1bmN0aW9uKGUpe3ZhciB0LG4sbyxyLGE9L15bQS1aXStbYS16XS8saT1mdW5jdGlvbihlLHQpeyh0PXQudG9Mb3dlckNhc2UoKSlpbiBzfHwoc1tlXT0oc1tlXXx8W10pLmNvbmNhdCh0KSxzW3RdPXNbdC50b1VwcGVyQ2FzZSgpXT1lKX0scz0oYi5jcmVhdGV8fGIpKG51bGwpLGM9e307Zm9yKG4gaW4gZSlmb3IociBpbiBlW25dKWZvcihzW3JdPW89ZVtuXVtyXSx0PTA7dDxvLmxlbmd0aDt0Kyspc1tvW3RdLnRvTG93ZXJDYXNlKCldPXNbb1t0XS50b1VwcGVyQ2FzZSgpXT1yO3JldHVybiBjLmdldD1mdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGU/c1tlXXx8KGEudGVzdChlKT9bXToiIik6ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXTtmb3IodCBpbiBzKWUudGVzdCh0KSYmbi5wdXNoKHQpO3JldHVybiBufShlKX0sYy5zZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYS50ZXN0KGUpP2koZSx0KTppKHQsZSksY30sY30oe2NvbGxlY3Rpb25zOntIVE1MQWxsQ29sbGVjdGlvbjpbImFsbCJdLEhUTUxDb2xsZWN0aW9uOlsiZm9ybXMiXSxIVE1MRm9ybUNvbnRyb2xzQ29sbGVjdGlvbjpbImVsZW1lbnRzIl0sSFRNTE9wdGlvbnNDb2xsZWN0aW9uOlsib3B0aW9ucyJdfSxlbGVtZW50czp7RWxlbWVudDpbImVsZW1lbnQiXSxIVE1MQW5jaG9yRWxlbWVudDpbImEiXSxIVE1MQXBwbGV0RWxlbWVudDpbImFwcGxldCJdLEhUTUxBcmVhRWxlbWVudDpbImFyZWEiXSxIVE1MQXR0YWNobWVudEVsZW1lbnQ6WyJhdHRhY2htZW50Il0sSFRNTEF1ZGlvRWxlbWVudDpbImF1ZGlvIl0sSFRNTEJSRWxlbWVudDpbImJyIl0sSFRNTEJhc2VFbGVtZW50OlsiYmFzZSJdLEhUTUxCb2R5RWxlbWVudDpbImJvZHkiXSxIVE1MQnV0dG9uRWxlbWVudDpbImJ1dHRvbiJdLEhUTUxDYW52YXNFbGVtZW50OlsiY2FudmFzIl0sSFRNTENvbnRlbnRFbGVtZW50OlsiY29udGVudCJdLEhUTUxETGlzdEVsZW1lbnQ6WyJkbCJdLEhUTUxEYXRhRWxlbWVudDpbImRhdGEiXSxIVE1MRGF0YUxpc3RFbGVtZW50OlsiZGF0YWxpc3QiXSxIVE1MRGV0YWlsc0VsZW1lbnQ6WyJkZXRhaWxzIl0sSFRNTERpYWxvZ0VsZW1lbnQ6WyJkaWFsb2ciXSxIVE1MRGlyZWN0b3J5RWxlbWVudDpbImRpciJdLEhUTUxEaXZFbGVtZW50OlsiZGl2Il0sSFRNTERvY3VtZW50OlsiZG9jdW1lbnQiXSxIVE1MRWxlbWVudDpbImVsZW1lbnQiLCJhYmJyIiwiYWRkcmVzcyIsImFydGljbGUiLCJhc2lkZSIsImIiLCJiZGkiLCJiZG8iLCJjaXRlIiwiY29kZSIsImNvbW1hbmQiLCJkZCIsImRmbiIsImR0IiwiZW0iLCJmaWdjYXB0aW9uIiwiZmlndXJlIiwiZm9vdGVyIiwiaGVhZGVyIiwiaSIsImtiZCIsIm1hcmsiLCJuYXYiLCJub3NjcmlwdCIsInJwIiwicnQiLCJydWJ5IiwicyIsInNhbXAiLCJzZWN0aW9uIiwic21hbGwiLCJzdHJvbmciLCJzdWIiLCJzdW1tYXJ5Iiwic3VwIiwidSIsInZhciIsIndiciJdLEhUTUxFbWJlZEVsZW1lbnQ6WyJlbWJlZCJdLEhUTUxGaWVsZFNldEVsZW1lbnQ6WyJmaWVsZHNldCJdLEhUTUxGb250RWxlbWVudDpbImZvbnQiXSxIVE1MRm9ybUVsZW1lbnQ6WyJmb3JtIl0sSFRNTEZyYW1lRWxlbWVudDpbImZyYW1lIl0sSFRNTEZyYW1lU2V0RWxlbWVudDpbImZyYW1lc2V0Il0sSFRNTEhSRWxlbWVudDpbImhyIl0sSFRNTEhlYWRFbGVtZW50OlsiaGVhZCJdLEhUTUxIZWFkaW5nRWxlbWVudDpbImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiJdLEhUTUxIdG1sRWxlbWVudDpbImh0bWwiXSxIVE1MSUZyYW1lRWxlbWVudDpbImlmcmFtZSJdLEhUTUxJbWFnZUVsZW1lbnQ6WyJpbWciXSxIVE1MSW5wdXRFbGVtZW50OlsiaW5wdXQiXSxIVE1MS2V5Z2VuRWxlbWVudDpbImtleWdlbiJdLEhUTUxMSUVsZW1lbnQ6WyJsaSJdLEhUTUxMYWJlbEVsZW1lbnQ6WyJsYWJlbCJdLEhUTUxMZWdlbmRFbGVtZW50OlsibGVnZW5kIl0sSFRNTExpbmtFbGVtZW50OlsibGluayJdLEhUTUxNYXBFbGVtZW50OlsibWFwIl0sSFRNTE1hcnF1ZWVFbGVtZW50OlsibWFycXVlZSJdLEhUTUxNZWRpYUVsZW1lbnQ6WyJtZWRpYSJdLEhUTUxNZW51RWxlbWVudDpbIm1lbnUiXSxIVE1MTWVudUl0ZW1FbGVtZW50OlsibWVudWl0ZW0iXSxIVE1MTWV0YUVsZW1lbnQ6WyJtZXRhIl0sSFRNTE1ldGVyRWxlbWVudDpbIm1ldGVyIl0sSFRNTE1vZEVsZW1lbnQ6WyJkZWwiLCJpbnMiXSxIVE1MT0xpc3RFbGVtZW50Olsib2wiXSxIVE1MT2JqZWN0RWxlbWVudDpbIm9iamVjdCJdLEhUTUxPcHRHcm91cEVsZW1lbnQ6WyJvcHRncm91cCJdLEhUTUxPcHRpb25FbGVtZW50Olsib3B0aW9uIl0sSFRNTE91dHB1dEVsZW1lbnQ6WyJvdXRwdXQiXSxIVE1MUGFyYWdyYXBoRWxlbWVudDpbInAiXSxIVE1MUGFyYW1FbGVtZW50OlsicGFyYW0iXSxIVE1MUGljdHVyZUVsZW1lbnQ6WyJwaWN0dXJlIl0sSFRNTFByZUVsZW1lbnQ6WyJwcmUiXSxIVE1MUHJvZ3Jlc3NFbGVtZW50OlsicHJvZ3Jlc3MiXSxIVE1MUXVvdGVFbGVtZW50OlsiYmxvY2txdW90ZSIsInEiLCJxdW90ZSJdLEhUTUxTY3JpcHRFbGVtZW50Olsic2NyaXB0Il0sSFRNTFNlbGVjdEVsZW1lbnQ6WyJzZWxlY3QiXSxIVE1MU2hhZG93RWxlbWVudDpbInNoYWRvdyJdLEhUTUxTbG90RWxlbWVudDpbInNsb3QiXSxIVE1MU291cmNlRWxlbWVudDpbInNvdXJjZSJdLEhUTUxTcGFuRWxlbWVudDpbInNwYW4iXSxIVE1MU3R5bGVFbGVtZW50Olsic3R5bGUiXSxIVE1MVGFibGVDYXB0aW9uRWxlbWVudDpbImNhcHRpb24iXSxIVE1MVGFibGVDZWxsRWxlbWVudDpbInRkIiwidGgiXSxIVE1MVGFibGVDb2xFbGVtZW50OlsiY29sIiwiY29sZ3JvdXAiXSxIVE1MVGFibGVFbGVtZW50OlsidGFibGUiXSxIVE1MVGFibGVSb3dFbGVtZW50OlsidHIiXSxIVE1MVGFibGVTZWN0aW9uRWxlbWVudDpbInRoZWFkIiwidGJvZHkiLCJ0Zm9vdCJdLEhUTUxUZW1wbGF0ZUVsZW1lbnQ6WyJ0ZW1wbGF0ZSJdLEhUTUxUZXh0QXJlYUVsZW1lbnQ6WyJ0ZXh0YXJlYSJdLEhUTUxUaW1lRWxlbWVudDpbInRpbWUiXSxIVE1MVGl0bGVFbGVtZW50OlsidGl0bGUiXSxIVE1MVHJhY2tFbGVtZW50OlsidHJhY2siXSxIVE1MVUxpc3RFbGVtZW50OlsidWwiXSxIVE1MVW5rbm93bkVsZW1lbnQ6WyJ1bmtub3duIiwidmhncm91cHYiLCJ2a2V5Z2VuIl0sSFRNTFZpZGVvRWxlbWVudDpbInZpZGVvIl19LG5vZGVzOntBdHRyOlsibm9kZSJdLEF1ZGlvOlsiYXVkaW8iXSxDREFUQVNlY3Rpb246WyJub2RlIl0sQ2hhcmFjdGVyRGF0YTpbIm5vZGUiXSxDb21tZW50OlsiI2NvbW1lbnQiXSxEb2N1bWVudDpbIiNkb2N1bWVudCJdLERvY3VtZW50RnJhZ21lbnQ6WyIjZG9jdW1lbnQtZnJhZ21lbnQiXSxEb2N1bWVudFR5cGU6WyJub2RlIl0sSFRNTERvY3VtZW50OlsiI2RvY3VtZW50Il0sSW1hZ2U6WyJpbWciXSxPcHRpb246WyJvcHRpb24iXSxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb246WyJub2RlIl0sU2hhZG93Um9vdDpbIiNzaGFkb3ctcm9vdCJdLFRleHQ6WyIjdGV4dCJdLFhNTERvY3VtZW50OlsieG1sIl19fSk7Im9iamVjdCIhPXR5cGVvZiB0JiYodD17dHlwZTp0fHwiYXV0byJ9KTt2YXIgTSxMLEMsUyxPLEQsSCxaLFAsTj0icmVnaXN0ZXJFbGVtZW50Iix6PTFlNSplLk1hdGgucmFuZG9tKCk+PjAsST0iX18iK04reixBPSJhZGRFdmVudExpc3RlbmVyIixqPSJhdHRhY2hlZCIsUj0iQ2FsbGJhY2siLHg9ImRldGFjaGVkIixGPSJleHRlbmRzIixWPSJhdHRyaWJ1dGVDaGFuZ2VkIitSLFU9aitSLHE9ImNvbm5lY3RlZCIrUixCPSJkaXNjb25uZWN0ZWQiK1IsRz0iY3JlYXRlZCIrUixXPXgrUiwkPSJBRERJVElPTiIsWD0iUkVNT1ZBTCIsWT0iRE9NQXR0ck1vZGlmaWVkIixLPSJET01Db250ZW50TG9hZGVkIixKPSJET01TdWJ0cmVlTW9kaWZpZWQiLFE9IjwiLGVlPSI9Iix0ZT0vXltBLVpdWy5fQS1aMC05XSotWy0uX0EtWjAtOV0qJC8sbmU9WyJBTk5PVEFUSU9OLVhNTCIsIkNPTE9SLVBST0ZJTEUiLCJGT05ULUZBQ0UiLCJGT05ULUZBQ0UtU1JDIiwiRk9OVC1GQUNFLVVSSSIsIkZPTlQtRkFDRS1GT1JNQVQiLCJGT05ULUZBQ0UtTkFNRSIsIk1JU1NJTkctR0xZUEgiXSxvZT1bXSxyZT1bXSxhZT0iIixpZT1FLmRvY3VtZW50RWxlbWVudCxzZT1vZS5pbmRleE9mfHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5sZW5ndGg7dC0tJiZ0aGlzW3RdIT09ZTspO3JldHVybiB0fSxjZT1iLnByb3RvdHlwZSxsZT1jZS5oYXNPd25Qcm9wZXJ0eSx1ZT1jZS5pc1Byb3RvdHlwZU9mLGhlPWIuZGVmaW5lUHJvcGVydHkscGU9W10sZmU9Yi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsZGU9Yi5nZXRPd25Qcm9wZXJ0eU5hbWVzLG1lPWIuZ2V0UHJvdG90eXBlT2YsZ2U9Yi5zZXRQcm90b3R5cGVPZixUZT0hIWIuX19wcm90b19fLHllPSJfX2RyZUNFdjEiLF9lPWUuY3VzdG9tRWxlbWVudHMsdmU9IS9eZm9yY2UvLnRlc3QodC50eXBlKSYmISEoX2UmJl9lLmRlZmluZSYmX2UuZ2V0JiZfZS53aGVuRGVmaW5lZCksa2U9Yi5jcmVhdGV8fGIsRWU9ZS5NYXB8fGZ1bmN0aW9uKCl7dmFyIGUsdD1bXSxuPVtdO3JldHVybntnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG5bc2UuY2FsbCh0LGUpXX0sc2V0OmZ1bmN0aW9uKG8scil7KGU9c2UuY2FsbCh0LG8pKTwwP25bdC5wdXNoKG8pLTFdPXI6bltlXT1yfX19LGJlPWUuUHJvbWlzZXx8ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtmb3Iobz0hMDtuLmxlbmd0aDspbi5zaGlmdCgpKGUpfXZhciBuPVtdLG89ITEscj17Y2F0Y2g6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sdGhlbjpmdW5jdGlvbihlKXtyZXR1cm4gbi5wdXNoKGUpLG8mJnNldFRpbWVvdXQodCwxKSxyfX07cmV0dXJuIGUodCkscn0sd2U9ITEsTWU9a2UobnVsbCksTGU9a2UobnVsbCksQ2U9bmV3IEVlLFNlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnRvTG93ZXJDYXNlKCl9LE9lPWIuY3JlYXRlfHxmdW5jdGlvbiBlKHQpe3JldHVybiB0PyhlLnByb3RvdHlwZT10LG5ldyBlKTp0aGlzfSxEZT1nZXx8KFRlP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX06ZGUmJmZlP2Z1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbixvPWRlKHQpLHI9MCxhPW8ubGVuZ3RoO3I8YTtyKyspbGUuY2FsbChlLG49b1tyXSl8fGhlKGUsbixmZSh0LG4pKX1yZXR1cm4gZnVuY3Rpb24odCxuKXtkb3tlKHQsbil9d2hpbGUoKG49bWUobikpJiYhdWUuY2FsbChuLHQpKTtyZXR1cm4gdH19KCk6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCllW25dPXRbbl07cmV0dXJuIGV9KSxIZT1lLk11dGF0aW9uT2JzZXJ2ZXJ8fGUuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixaZT1lLkhUTUxBbmNob3JFbGVtZW50LFBlPShlLkhUTUxFbGVtZW50fHxlLkVsZW1lbnR8fGUuTm9kZSkucHJvdG90eXBlLE5lPSF1ZS5jYWxsKFBlLGllKSx6ZT1OZT9mdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09bi52YWx1ZSxlfTpoZSxJZT1OZT9mdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubm9kZVR5cGV9OmZ1bmN0aW9uKGUpe3JldHVybiB1ZS5jYWxsKFBlLGUpfSxBZT1OZSYmW10samU9UGUuYXR0YWNoU2hhZG93LFJlPVBlLmNsb25lTm9kZSx4ZT1QZS5jbG9zZXN0fHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpczt0JiZ0Lm5vZGVOYW1lIT09ZTspdD10LnBhcmVudE5vZGU7cmV0dXJuIHR9LEZlPVBlLmRpc3BhdGNoRXZlbnQsVmU9UGUuZ2V0QXR0cmlidXRlLFVlPVBlLmhhc0F0dHJpYnV0ZSxxZT1QZS5yZW1vdmVBdHRyaWJ1dGUsQmU9UGUuc2V0QXR0cmlidXRlLEdlPUUuY3JlYXRlRWxlbWVudCxXZT1FLmltcG9ydE5vZGUsJGU9R2UsWGU9SGUmJnthdHRyaWJ1dGVzOiEwLGNoYXJhY3RlckRhdGE6ITAsYXR0cmlidXRlT2xkVmFsdWU6ITB9LFllPUhlfHxmdW5jdGlvbihlKXt0dD0hMSxpZS5yZW1vdmVFdmVudExpc3RlbmVyKFksWWUpfSxLZT0wLEplPU4gaW4gRSYmIS9eZm9yY2UtYWxsLy50ZXN0KHQudHlwZSksUWU9ITAsZXQ9ITEsdHQ9ITAsbnQ9ITAsb3Q9ITA7aWYoSGUmJigoUD1FLmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5pbm5lckhUTUw9IjxkaXY+PGRpdj48L2Rpdj48L2Rpdj4iLG5ldyBIZShmdW5jdGlvbihlLHQpe2lmKGVbMF0mJiJjaGlsZExpc3QiPT1lWzBdLnR5cGUmJiFlWzBdLnJlbW92ZWROb2Rlc1swXS5jaGlsZE5vZGVzLmxlbmd0aCl7dmFyIG49KFA9ZmUoUGUsImlubmVySFRNTCIpKSYmUC5zZXQ7biYmaGUoUGUsImlubmVySFRNTCIse3NldDpmdW5jdGlvbihlKXtmb3IoO3RoaXMubGFzdENoaWxkOyl0aGlzLnJlbW92ZUNoaWxkKHRoaXMubGFzdENoaWxkKTtuLmNhbGwodGhpcyxlKX19KX10LmRpc2Nvbm5lY3QoKSxQPW51bGx9KS5vYnNlcnZlKFAse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSksUC5pbm5lckhUTUw9IiIpLEplfHwoZ2V8fFRlPyhIPWZ1bmN0aW9uKGUsdCl7dWUuY2FsbCh0LGUpfHxwKGUsdCl9LFo9cCk6Wj1IPWZ1bmN0aW9uKGUsdCl7ZVtJXXx8KGVbSV09YighMCkscChlLHQpKX0sTmU/KHR0PSExLGZ1bmN0aW9uKCl7dmFyIGU9ZmUoUGUsQSksdD1lLnZhbHVlLG49ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEN1c3RvbUV2ZW50KFkse2J1YmJsZXM6ITB9KTt0LmF0dHJOYW1lPWUsdC5wcmV2VmFsdWU9VmUuY2FsbCh0aGlzLGUpLHQubmV3VmFsdWU9bnVsbCx0W1hdPXQuYXR0ckNoYW5nZT0yLHFlLmNhbGwodGhpcyxlKSxGZS5jYWxsKHRoaXMsdCl9LG89ZnVuY3Rpb24oZSx0KXt2YXIgbj1VZS5jYWxsKHRoaXMsZSksbz1uJiZWZS5jYWxsKHRoaXMsZSkscj1uZXcgQ3VzdG9tRXZlbnQoWSx7YnViYmxlczohMH0pO0JlLmNhbGwodGhpcyxlLHQpLHIuYXR0ck5hbWU9ZSxyLnByZXZWYWx1ZT1uP286bnVsbCxyLm5ld1ZhbHVlPXQsbj9yLk1PRElGSUNBVElPTj1yLmF0dHJDaGFuZ2U9MTpyWyRdPXIuYXR0ckNoYW5nZT0wLEZlLmNhbGwodGhpcyxyKX0scj1mdW5jdGlvbihlKXt2YXIgdCxuPWUuY3VycmVudFRhcmdldCxvPW5bSV0scj1lLnByb3BlcnR5TmFtZTtvLmhhc093blByb3BlcnR5KHIpJiYobz1vW3JdLCh0PW5ldyBDdXN0b21FdmVudChZLHtidWJibGVzOiEwfSkpLmF0dHJOYW1lPW8ubmFtZSx0LnByZXZWYWx1ZT1vLnZhbHVlfHxudWxsLHQubmV3VmFsdWU9by52YWx1ZT1uW3JdfHxudWxsLG51bGw9PXQucHJldlZhbHVlP3RbJF09dC5hdHRyQ2hhbmdlPTA6dC5NT0RJRklDQVRJT049dC5hdHRyQ2hhbmdlPTEsRmUuY2FsbChuLHQpKX07ZS52YWx1ZT1mdW5jdGlvbihlLGEsaSl7ZT09PVkmJnRoaXNbVl0mJnRoaXMuc2V0QXR0cmlidXRlIT09byYmKHRoaXNbSV09e2NsYXNzTmFtZTp7bmFtZToiY2xhc3MiLHZhbHVlOnRoaXMuY2xhc3NOYW1lfX0sdGhpcy5zZXRBdHRyaWJ1dGU9byx0aGlzLnJlbW92ZUF0dHJpYnV0ZT1uLHQuY2FsbCh0aGlzLCJwcm9wZXJ0eWNoYW5nZSIscikpLHQuY2FsbCh0aGlzLGUsYSxpKX0saGUoUGUsQSxlKX0oKSk6SGV8fChpZVtBXShZLFllKSxpZS5zZXRBdHRyaWJ1dGUoSSwxKSxpZS5yZW1vdmVBdHRyaWJ1dGUoSSksdHQmJihMPWZ1bmN0aW9uKGUpe3ZhciB0LG4sbyxyPXRoaXM7aWYocj09PWUudGFyZ2V0KXtmb3IobyBpbiB0PXJbSV0scltJXT1uPVMociksbil7aWYoIShvIGluIHQpKXJldHVybiBDKDAscixvLHRbb10sbltvXSwkKTtpZihuW29dIT09dFtvXSlyZXR1cm4gQygxLHIsbyx0W29dLG5bb10sIk1PRElGSUNBVElPTiIpfWZvcihvIGluIHQpaWYoIShvIGluIG4pKXJldHVybiBDKDIscixvLHRbb10sbltvXSxYKX19LEM9ZnVuY3Rpb24oZSx0LG4sbyxyLGEpe3ZhciBpPXthdHRyQ2hhbmdlOmUsY3VycmVudFRhcmdldDp0LGF0dHJOYW1lOm4scHJldlZhbHVlOm8sbmV3VmFsdWU6cn07aVthXT1lLHMoaSl9LFM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4sbz17fSxyPWUuYXR0cmlidXRlcyxhPTAsaT1yLmxlbmd0aDthPGk7YSsrKSJzZXRBdHRyaWJ1dGUiIT09KG49KHQ9clthXSkubmFtZSkmJihvW25dPXQudmFsdWUpO3JldHVybiBvfSkpLEVbTl09ZnVuY3Rpb24oZSx0KXtpZihuPWUudG9VcHBlckNhc2UoKSxRZSYmKFFlPSExLEhlPyhPPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlLHQpe2Zvcih2YXIgbj0wLG89ZS5sZW5ndGg7bjxvO3QoZVtuKytdKSk7fXJldHVybiBuZXcgSGUoZnVuY3Rpb24obyl7Zm9yKHZhciByLGEsaSxzPTAsYz1vLmxlbmd0aDtzPGM7cysrKSJjaGlsZExpc3QiPT09KHI9b1tzXSkudHlwZT8obihyLmFkZGVkTm9kZXMsZSksbihyLnJlbW92ZWROb2Rlcyx0KSk6KGE9ci50YXJnZXQsb3QmJmFbVl0mJiJzdHlsZSIhPT1yLmF0dHJpYnV0ZU5hbWUmJihpPVZlLmNhbGwoYSxyLmF0dHJpYnV0ZU5hbWUpKSE9PXIub2xkVmFsdWUmJmFbVl0oci5hdHRyaWJ1dGVOYW1lLHIub2xkVmFsdWUsaSkpfSl9KHIoaikscih4KSksKEQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE8ub2JzZXJ2ZShlLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pLGV9KShFKSxqZSYmKFBlLmF0dGFjaFNoYWRvdz1mdW5jdGlvbigpe3JldHVybiBEKGplLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9KSk6KE09W10sRVtBXSgiRE9NTm9kZUluc2VydGVkIixjKGopKSxFW0FdKCJET01Ob2RlUmVtb3ZlZCIsYyh4KSkpLEVbQV0oSyxsKSxFW0FdKCJyZWFkeXN0YXRlY2hhbmdlIixsKSxFLmltcG9ydE5vZGU9ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZS5ub2RlVHlwZSl7Y2FzZSAxOnJldHVybiBoKEUsV2UsW2UsISF0XSk7Y2FzZSAxMTpmb3IodmFyIG49RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbz1lLmNoaWxkTm9kZXMscj1vLmxlbmd0aCxhPTA7YTxyO2ErKyluLmFwcGVuZENoaWxkKEUuaW1wb3J0Tm9kZShvW2FdLCEhdCkpO3JldHVybiBuO2RlZmF1bHQ6cmV0dXJuIFJlLmNhbGwoZSwhIXQpfX0sUGUuY2xvbmVOb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBoKHRoaXMsUmUsWyEhZV0pfSksZXQpcmV0dXJuIGV0PSExO2lmKC0yPHNlLmNhbGwob2UsZWUrbikrc2UuY2FsbChvZSxRK24pJiZmKGUpLCF0ZS50ZXN0KG4pfHwtMTxzZS5jYWxsKG5lLG4pKXRocm93IG5ldyBFcnJvcigiVGhlIHR5cGUgIitlKyIgaXMgaW52YWxpZCIpO3ZhciBuLGEsaT1mdW5jdGlvbigpe3JldHVybiB1P0UuY3JlYXRlRWxlbWVudChwLG4pOkUuY3JlYXRlRWxlbWVudChwKX0scz10fHxjZSx1PWxlLmNhbGwocyxGKSxwPXU/dFtGXS50b1VwcGVyQ2FzZSgpOm47cmV0dXJuIHUmJi0xPHNlLmNhbGwob2UsUStwKSYmZihwKSxhPW9lLnB1c2goKHU/ZWU6USkrbiktMSxhZT1hZS5jb25jYXQoYWUubGVuZ3RoPyIsIjoiIix1P3ArJ1tpcz0iJytlLnRvTG93ZXJDYXNlKCkrJyJdJzpwKSxpLnByb3RvdHlwZT1yZVthXT1sZS5jYWxsKHMsInByb3RvdHlwZSIpP3MucHJvdG90eXBlOk9lKFBlKSxhZS5sZW5ndGgmJm8oRS5xdWVyeVNlbGVjdG9yQWxsKGFlKSxqKSxpfSxFLmNyZWF0ZUVsZW1lbnQ9JGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj15KHQpLG89bj9HZS5jYWxsKEUsZSxTZShuKSk6R2UuY2FsbChFLGUpLHI9IiIrZSxhPXNlLmNhbGwob2UsKG4/ZWU6USkrKG58fHIpLnRvVXBwZXJDYXNlKCkpLHM9LTE8YTtyZXR1cm4gbiYmKG8uc2V0QXR0cmlidXRlKCJpcyIsbj1uLnRvTG93ZXJDYXNlKCkpLHMmJihzPWkoci50b1VwcGVyQ2FzZSgpLG4pKSksb3Q9IUUuY3JlYXRlRWxlbWVudC5pbm5lckhUTUxIZWxwZXIscyYmWihvLHJlW2FdKSxvfSksYWRkRXZlbnRMaXN0ZW5lcigiYmVmb3JldW5sb2FkIixmdW5jdGlvbigpe2RlbGV0ZSBFLmNyZWF0ZUVsZW1lbnQsZGVsZXRlIEUuaW1wb3J0Tm9kZSxkZWxldGUgRVtOXX0sITEpLG0ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjptLGRlZmluZTp2ZT9mdW5jdGlvbihlLHQsbil7aWYobilnKGUsdCxuKTtlbHNle3ZhciBvPWUudG9VcHBlckNhc2UoKTtNZVtvXT17Y29uc3RydWN0b3I6dCxjcmVhdGU6W29dfSxDZS5zZXQodCxvKSxfZS5kZWZpbmUoZSx0KX19OmcsZ2V0OnZlP2Z1bmN0aW9uKGUpe3JldHVybiBfZS5nZXQoZSl8fFQoZSl9OlQsd2hlbkRlZmluZWQ6dmU/ZnVuY3Rpb24oZSl7cmV0dXJuIGJlLnJhY2UoW19lLndoZW5EZWZpbmVkKGUpLHYoZSldKX06dn0sIV9lfHwvXmZvcmNlLy50ZXN0KHQudHlwZSkpaygpO2Vsc2UgaWYoIXQubm9CdWlsdEluKXRyeXshZnVuY3Rpb24odCxuLG8pe3ZhciByPW5ldyBSZWdFeHAoIl48YVxccytpcz0oJ3xcIikiK28rIlxcMT48L2E+JCIpO2lmKG5bRl09ImEiLCh0LnByb3RvdHlwZT1PZShaZS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj10LGUuY3VzdG9tRWxlbWVudHMuZGVmaW5lKG8sdCxuKSwhci50ZXN0KEUuY3JlYXRlRWxlbWVudCgiYSIse2lzOm99KS5vdXRlckhUTUwpfHwhci50ZXN0KChuZXcgdCkub3V0ZXJIVE1MKSl0aHJvdyBufShmdW5jdGlvbiBlKCl7cmV0dXJuIFJlZmxlY3QuY29uc3RydWN0KFplLFtdLGUpfSx7fSwiZG9jdW1lbnQtcmVnaXN0ZXItZWxlbWVudC1hIit6KX1jYXRjaChydCl7aygpfWlmKCF0Lm5vQnVpbHRJbil0cnl7aWYoR2UuY2FsbChFLCJhIiwiYSIpLm91dGVySFRNTC5pbmRleE9mKCJpcyIpPDApdGhyb3d7fX1jYXRjaChhdCl7U2U9ZnVuY3Rpb24oZSl7cmV0dXJue2lzOmUudG9Mb3dlckNhc2UoKX19fX0od2luZG93KX0sMTY3OigpPT57InVzZSBzdHJpY3QiOyFmdW5jdGlvbihlKXtjb25zdCB0PWUucGVyZm9ybWFuY2U7ZnVuY3Rpb24gbihlKXt0JiZ0Lm1hcmsmJnQubWFyayhlKX1mdW5jdGlvbiBvKGUsbil7dCYmdC5tZWFzdXJlJiZ0Lm1lYXN1cmUoZSxuKX1uKCJab25lIik7Y29uc3Qgcj1lLl9fWm9uZV9zeW1ib2xfcHJlZml4fHwiX196b25lX3N5bWJvbF9fIjtmdW5jdGlvbiBhKGUpe3JldHVybiByK2V9Y29uc3QgaT0hMD09PWVbYSgiZm9yY2VEdXBsaWNhdGVab25lQ2hlY2siKV07aWYoZS5ab25lKXtpZihpfHwiZnVuY3Rpb24iIT10eXBlb2YgZS5ab25lLl9fc3ltYm9sX18pdGhyb3cgbmV3IEVycm9yKCJab25lIGFscmVhZHkgbG9hZGVkLiIpO3JldHVybiBlLlpvbmV9Y2xhc3Mgc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX3BhcmVudD1lLHRoaXMuX25hbWU9dD90Lm5hbWV8fCJ1bm5hbWVkIjoiPHJvb3Q+Iix0aGlzLl9wcm9wZXJ0aWVzPXQmJnQucHJvcGVydGllc3x8e30sdGhpcy5fem9uZURlbGVnYXRlPW5ldyBsKHRoaXMsdGhpcy5fcGFyZW50JiZ0aGlzLl9wYXJlbnQuX3pvbmVEZWxlZ2F0ZSx0KX1zdGF0aWMgYXNzZXJ0Wm9uZVBhdGNoZWQoKXtpZihlLlByb21pc2UhPT1PLlpvbmVBd2FyZVByb21pc2UpdGhyb3cgbmV3IEVycm9yKCJab25lLmpzIGhhcyBkZXRlY3RlZCB0aGF0IFpvbmVBd2FyZVByb21pc2UgYCh3aW5kb3d8Z2xvYmFsKS5Qcm9taXNlYCBoYXMgYmVlbiBvdmVyd3JpdHRlbi5cbk1vc3QgbGlrZWx5IGNhdXNlIGlzIHRoYXQgYSBQcm9taXNlIHBvbHlmaWxsIGhhcyBiZWVuIGxvYWRlZCBhZnRlciBab25lLmpzIChQb2x5ZmlsbGluZyBQcm9taXNlIGFwaSBpcyBub3QgbmVjZXNzYXJ5IHdoZW4gem9uZS5qcyBpcyBsb2FkZWQuIElmIHlvdSBtdXN0IGxvYWQgb25lLCBkbyBzbyBiZWZvcmUgbG9hZGluZyB6b25lLmpzLikiKX1zdGF0aWMgZ2V0IHJvb3QoKXtsZXQgZT1zLmN1cnJlbnQ7Zm9yKDtlLnBhcmVudDspZT1lLnBhcmVudDtyZXR1cm4gZX1zdGF0aWMgZ2V0IGN1cnJlbnQoKXtyZXR1cm4gSC56b25lfXN0YXRpYyBnZXQgY3VycmVudFRhc2soKXtyZXR1cm4gWn1zdGF0aWMgX19sb2FkX3BhdGNoKHQscixhPSExKXtpZihPLmhhc093blByb3BlcnR5KHQpKXtpZighYSYmaSl0aHJvdyBFcnJvcigiQWxyZWFkeSBsb2FkZWQgcGF0Y2g6ICIrdCl9ZWxzZSBpZighZVsiX19ab25lX2Rpc2FibGVfIit0XSl7Y29uc3QgYT0iWm9uZToiK3Q7bihhKSxPW3RdPXIoZSxzLEQpLG8oYSxhKX19Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLl9wYXJlbnR9Z2V0IG5hbWUoKXtyZXR1cm4gdGhpcy5fbmFtZX1nZXQoZSl7Y29uc3QgdD10aGlzLmdldFpvbmVXaXRoKGUpO2lmKHQpcmV0dXJuIHQuX3Byb3BlcnRpZXNbZV19Z2V0Wm9uZVdpdGgoZSl7bGV0IHQ9dGhpcztmb3IoO3Q7KXtpZih0Ll9wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGUpKXJldHVybiB0O3Q9dC5fcGFyZW50fXJldHVybiBudWxsfWZvcmsoZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJab25lU3BlYyByZXF1aXJlZCEiKTtyZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmZvcmsodGhpcyxlKX13cmFwKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RpbmcgZnVuY3Rpb24gZ290OiAiK2UpO2NvbnN0IG49dGhpcy5fem9uZURlbGVnYXRlLmludGVyY2VwdCh0aGlzLGUsdCksbz10aGlzO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBvLnJ1bkd1YXJkZWQobix0aGlzLGFyZ3VtZW50cyx0KX19cnVuKGUsdCxuLG8pe0g9e3BhcmVudDpILHpvbmU6dGhpc307dHJ5e3JldHVybiB0aGlzLl96b25lRGVsZWdhdGUuaW52b2tlKHRoaXMsZSx0LG4sbyl9ZmluYWxseXtIPUgucGFyZW50fX1ydW5HdWFyZGVkKGUsdD1udWxsLG4sbyl7SD17cGFyZW50Okgsem9uZTp0aGlzfTt0cnl7dHJ5e3JldHVybiB0aGlzLl96b25lRGVsZWdhdGUuaW52b2tlKHRoaXMsZSx0LG4sbyl9Y2F0Y2gocil7aWYodGhpcy5fem9uZURlbGVnYXRlLmhhbmRsZUVycm9yKHRoaXMscikpdGhyb3cgcn19ZmluYWxseXtIPUgucGFyZW50fX1ydW5UYXNrKGUsdCxuKXtpZihlLnpvbmUhPXRoaXMpdGhyb3cgbmV3IEVycm9yKCJBIHRhc2sgY2FuIG9ubHkgYmUgcnVuIGluIHRoZSB6b25lIG9mIGNyZWF0aW9uISAoQ3JlYXRpb246ICIrKGUuem9uZXx8XykubmFtZSsiOyBFeGVjdXRpb246ICIrdGhpcy5uYW1lKyIpIik7aWYoZS5zdGF0ZT09PXYmJihlLnR5cGU9PT1TfHxlLnR5cGU9PT1DKSlyZXR1cm47Y29uc3Qgbz1lLnN0YXRlIT1iO28mJmUuX3RyYW5zaXRpb25UbyhiLEUpLGUucnVuQ291bnQrKztjb25zdCByPVo7Wj1lLEg9e3BhcmVudDpILHpvbmU6dGhpc307dHJ5e2UudHlwZT09QyYmZS5kYXRhJiYhZS5kYXRhLmlzUGVyaW9kaWMmJihlLmNhbmNlbEZuPXZvaWQgMCk7dHJ5e3JldHVybiB0aGlzLl96b25lRGVsZWdhdGUuaW52b2tlVGFzayh0aGlzLGUsdCxuKX1jYXRjaChhKXtpZih0aGlzLl96b25lRGVsZWdhdGUuaGFuZGxlRXJyb3IodGhpcyxhKSl0aHJvdyBhfX1maW5hbGx5e2Uuc3RhdGUhPT12JiZlLnN0YXRlIT09TSYmKGUudHlwZT09U3x8ZS5kYXRhJiZlLmRhdGEuaXNQZXJpb2RpYz9vJiZlLl90cmFuc2l0aW9uVG8oRSxiKTooZS5ydW5Db3VudD0wLHRoaXMuX3VwZGF0ZVRhc2tDb3VudChlLC0xKSxvJiZlLl90cmFuc2l0aW9uVG8odixiLHYpKSksSD1ILnBhcmVudCxaPXJ9fXNjaGVkdWxlVGFzayhlKXtpZihlLnpvbmUmJmUuem9uZSE9PXRoaXMpe2xldCB0PXRoaXM7Zm9yKDt0Oyl7aWYodD09PWUuem9uZSl0aHJvdyBFcnJvcihgY2FuIG5vdCByZXNjaGVkdWxlIHRhc2sgdG8gJHt0aGlzLm5hbWV9IHdoaWNoIGlzIGRlc2NlbmRhbnRzIG9mIHRoZSBvcmlnaW5hbCB6b25lICR7ZS56b25lLm5hbWV9YCk7dD10LnBhcmVudH19ZS5fdHJhbnNpdGlvblRvKGssdik7Y29uc3QgdD1bXTtlLl96b25lRGVsZWdhdGVzPXQsZS5fem9uZT10aGlzO3RyeXtlPXRoaXMuX3pvbmVEZWxlZ2F0ZS5zY2hlZHVsZVRhc2sodGhpcyxlKX1jYXRjaChuKXt0aHJvdyBlLl90cmFuc2l0aW9uVG8oTSxrLHYpLHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLG4pLG59cmV0dXJuIGUuX3pvbmVEZWxlZ2F0ZXM9PT10JiZ0aGlzLl91cGRhdGVUYXNrQ291bnQoZSwxKSxlLnN0YXRlPT1rJiZlLl90cmFuc2l0aW9uVG8oRSxrKSxlfXNjaGVkdWxlTWljcm9UYXNrKGUsdCxuLG8pe3JldHVybiB0aGlzLnNjaGVkdWxlVGFzayhuZXcgdShMLGUsdCxuLG8sdm9pZCAwKSl9c2NoZWR1bGVNYWNyb1Rhc2soZSx0LG4sbyxyKXtyZXR1cm4gdGhpcy5zY2hlZHVsZVRhc2sobmV3IHUoQyxlLHQsbixvLHIpKX1zY2hlZHVsZUV2ZW50VGFzayhlLHQsbixvLHIpe3JldHVybiB0aGlzLnNjaGVkdWxlVGFzayhuZXcgdShTLGUsdCxuLG8scikpfWNhbmNlbFRhc2soZSl7aWYoZS56b25lIT10aGlzKXRocm93IG5ldyBFcnJvcigiQSB0YXNrIGNhbiBvbmx5IGJlIGNhbmNlbGxlZCBpbiB0aGUgem9uZSBvZiBjcmVhdGlvbiEgKENyZWF0aW9uOiAiKyhlLnpvbmV8fF8pLm5hbWUrIjsgRXhlY3V0aW9uOiAiK3RoaXMubmFtZSsiKSIpO2UuX3RyYW5zaXRpb25Ubyh3LEUsYik7dHJ5e3RoaXMuX3pvbmVEZWxlZ2F0ZS5jYW5jZWxUYXNrKHRoaXMsZSl9Y2F0Y2godCl7dGhyb3cgZS5fdHJhbnNpdGlvblRvKE0sdyksdGhpcy5fem9uZURlbGVnYXRlLmhhbmRsZUVycm9yKHRoaXMsdCksdH1yZXR1cm4gdGhpcy5fdXBkYXRlVGFza0NvdW50KGUsLTEpLGUuX3RyYW5zaXRpb25Ubyh2LHcpLGUucnVuQ291bnQ9MCxlfV91cGRhdGVUYXNrQ291bnQoZSx0KXtjb25zdCBuPWUuX3pvbmVEZWxlZ2F0ZXM7LTE9PXQmJihlLl96b25lRGVsZWdhdGVzPW51bGwpO2ZvcihsZXQgbz0wO288bi5sZW5ndGg7bysrKW5bb10uX3VwZGF0ZVRhc2tDb3VudChlLnR5cGUsdCl9fXMuX19zeW1ib2xfXz1hO2NvbnN0IGM9e25hbWU6IiIsb25IYXNUYXNrOihlLHQsbixvKT0+ZS5oYXNUYXNrKG4sbyksb25TY2hlZHVsZVRhc2s6KGUsdCxuLG8pPT5lLnNjaGVkdWxlVGFzayhuLG8pLG9uSW52b2tlVGFzazooZSx0LG4sbyxyLGEpPT5lLmludm9rZVRhc2sobixvLHIsYSksb25DYW5jZWxUYXNrOihlLHQsbixvKT0+ZS5jYW5jZWxUYXNrKG4sbyl9O2NsYXNzIGx7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuX3Rhc2tDb3VudHM9e21pY3JvVGFzazowLG1hY3JvVGFzazowLGV2ZW50VGFzazowfSx0aGlzLnpvbmU9ZSx0aGlzLl9wYXJlbnREZWxlZ2F0ZT10LHRoaXMuX2ZvcmtaUz1uJiYobiYmbi5vbkZvcms/bjp0Ll9mb3JrWlMpLHRoaXMuX2ZvcmtEbGd0PW4mJihuLm9uRm9yaz90OnQuX2ZvcmtEbGd0KSx0aGlzLl9mb3JrQ3VyclpvbmU9biYmKG4ub25Gb3JrP3RoaXMuem9uZTp0Ll9mb3JrQ3VyclpvbmUpLHRoaXMuX2ludGVyY2VwdFpTPW4mJihuLm9uSW50ZXJjZXB0P246dC5faW50ZXJjZXB0WlMpLHRoaXMuX2ludGVyY2VwdERsZ3Q9biYmKG4ub25JbnRlcmNlcHQ/dDp0Ll9pbnRlcmNlcHREbGd0KSx0aGlzLl9pbnRlcmNlcHRDdXJyWm9uZT1uJiYobi5vbkludGVyY2VwdD90aGlzLnpvbmU6dC5faW50ZXJjZXB0Q3VyclpvbmUpLHRoaXMuX2ludm9rZVpTPW4mJihuLm9uSW52b2tlP246dC5faW52b2tlWlMpLHRoaXMuX2ludm9rZURsZ3Q9biYmKG4ub25JbnZva2U/dDp0Ll9pbnZva2VEbGd0KSx0aGlzLl9pbnZva2VDdXJyWm9uZT1uJiYobi5vbkludm9rZT90aGlzLnpvbmU6dC5faW52b2tlQ3VyclpvbmUpLHRoaXMuX2hhbmRsZUVycm9yWlM9biYmKG4ub25IYW5kbGVFcnJvcj9uOnQuX2hhbmRsZUVycm9yWlMpLHRoaXMuX2hhbmRsZUVycm9yRGxndD1uJiYobi5vbkhhbmRsZUVycm9yP3Q6dC5faGFuZGxlRXJyb3JEbGd0KSx0aGlzLl9oYW5kbGVFcnJvckN1cnJab25lPW4mJihuLm9uSGFuZGxlRXJyb3I/dGhpcy56b25lOnQuX2hhbmRsZUVycm9yQ3VyclpvbmUpLHRoaXMuX3NjaGVkdWxlVGFza1pTPW4mJihuLm9uU2NoZWR1bGVUYXNrP246dC5fc2NoZWR1bGVUYXNrWlMpLHRoaXMuX3NjaGVkdWxlVGFza0RsZ3Q9biYmKG4ub25TY2hlZHVsZVRhc2s/dDp0Ll9zY2hlZHVsZVRhc2tEbGd0KSx0aGlzLl9zY2hlZHVsZVRhc2tDdXJyWm9uZT1uJiYobi5vblNjaGVkdWxlVGFzaz90aGlzLnpvbmU6dC5fc2NoZWR1bGVUYXNrQ3VyclpvbmUpLHRoaXMuX2ludm9rZVRhc2taUz1uJiYobi5vbkludm9rZVRhc2s/bjp0Ll9pbnZva2VUYXNrWlMpLHRoaXMuX2ludm9rZVRhc2tEbGd0PW4mJihuLm9uSW52b2tlVGFzaz90OnQuX2ludm9rZVRhc2tEbGd0KSx0aGlzLl9pbnZva2VUYXNrQ3VyclpvbmU9biYmKG4ub25JbnZva2VUYXNrP3RoaXMuem9uZTp0Ll9pbnZva2VUYXNrQ3VyclpvbmUpLHRoaXMuX2NhbmNlbFRhc2taUz1uJiYobi5vbkNhbmNlbFRhc2s/bjp0Ll9jYW5jZWxUYXNrWlMpLHRoaXMuX2NhbmNlbFRhc2tEbGd0PW4mJihuLm9uQ2FuY2VsVGFzaz90OnQuX2NhbmNlbFRhc2tEbGd0KSx0aGlzLl9jYW5jZWxUYXNrQ3VyclpvbmU9biYmKG4ub25DYW5jZWxUYXNrP3RoaXMuem9uZTp0Ll9jYW5jZWxUYXNrQ3VyclpvbmUpLHRoaXMuX2hhc1Rhc2taUz1udWxsLHRoaXMuX2hhc1Rhc2tEbGd0PW51bGwsdGhpcy5faGFzVGFza0RsZ3RPd25lcj1udWxsLHRoaXMuX2hhc1Rhc2tDdXJyWm9uZT1udWxsO2NvbnN0IG89biYmbi5vbkhhc1Rhc2s7KG98fHQmJnQuX2hhc1Rhc2taUykmJih0aGlzLl9oYXNUYXNrWlM9bz9uOmMsdGhpcy5faGFzVGFza0RsZ3Q9dCx0aGlzLl9oYXNUYXNrRGxndE93bmVyPXRoaXMsdGhpcy5faGFzVGFza0N1cnJab25lPWUsbi5vblNjaGVkdWxlVGFza3x8KHRoaXMuX3NjaGVkdWxlVGFza1pTPWMsdGhpcy5fc2NoZWR1bGVUYXNrRGxndD10LHRoaXMuX3NjaGVkdWxlVGFza0N1cnJab25lPXRoaXMuem9uZSksbi5vbkludm9rZVRhc2t8fCh0aGlzLl9pbnZva2VUYXNrWlM9Yyx0aGlzLl9pbnZva2VUYXNrRGxndD10LHRoaXMuX2ludm9rZVRhc2tDdXJyWm9uZT10aGlzLnpvbmUpLG4ub25DYW5jZWxUYXNrfHwodGhpcy5fY2FuY2VsVGFza1pTPWMsdGhpcy5fY2FuY2VsVGFza0RsZ3Q9dCx0aGlzLl9jYW5jZWxUYXNrQ3VyclpvbmU9dGhpcy56b25lKSl9Zm9yayhlLHQpe3JldHVybiB0aGlzLl9mb3JrWlM/dGhpcy5fZm9ya1pTLm9uRm9yayh0aGlzLl9mb3JrRGxndCx0aGlzLnpvbmUsZSx0KTpuZXcgcyhlLHQpfWludGVyY2VwdChlLHQsbil7cmV0dXJuIHRoaXMuX2ludGVyY2VwdFpTP3RoaXMuX2ludGVyY2VwdFpTLm9uSW50ZXJjZXB0KHRoaXMuX2ludGVyY2VwdERsZ3QsdGhpcy5faW50ZXJjZXB0Q3VyclpvbmUsZSx0LG4pOnR9aW52b2tlKGUsdCxuLG8scil7cmV0dXJuIHRoaXMuX2ludm9rZVpTP3RoaXMuX2ludm9rZVpTLm9uSW52b2tlKHRoaXMuX2ludm9rZURsZ3QsdGhpcy5faW52b2tlQ3VyclpvbmUsZSx0LG4sbyxyKTp0LmFwcGx5KG4sbyl9aGFuZGxlRXJyb3IoZSx0KXtyZXR1cm4hdGhpcy5faGFuZGxlRXJyb3JaU3x8dGhpcy5faGFuZGxlRXJyb3JaUy5vbkhhbmRsZUVycm9yKHRoaXMuX2hhbmRsZUVycm9yRGxndCx0aGlzLl9oYW5kbGVFcnJvckN1cnJab25lLGUsdCl9c2NoZWR1bGVUYXNrKGUsdCl7bGV0IG49dDtpZih0aGlzLl9zY2hlZHVsZVRhc2taUyl0aGlzLl9oYXNUYXNrWlMmJm4uX3pvbmVEZWxlZ2F0ZXMucHVzaCh0aGlzLl9oYXNUYXNrRGxndE93bmVyKSxuPXRoaXMuX3NjaGVkdWxlVGFza1pTLm9uU2NoZWR1bGVUYXNrKHRoaXMuX3NjaGVkdWxlVGFza0RsZ3QsdGhpcy5fc2NoZWR1bGVUYXNrQ3VyclpvbmUsZSx0KSxufHwobj10KTtlbHNlIGlmKHQuc2NoZWR1bGVGbil0LnNjaGVkdWxlRm4odCk7ZWxzZXtpZih0LnR5cGUhPUwpdGhyb3cgbmV3IEVycm9yKCJUYXNrIGlzIG1pc3Npbmcgc2NoZWR1bGVGbi4iKTtUKHQpfXJldHVybiBufWludm9rZVRhc2soZSx0LG4sbyl7cmV0dXJuIHRoaXMuX2ludm9rZVRhc2taUz90aGlzLl9pbnZva2VUYXNrWlMub25JbnZva2VUYXNrKHRoaXMuX2ludm9rZVRhc2tEbGd0LHRoaXMuX2ludm9rZVRhc2tDdXJyWm9uZSxlLHQsbixvKTp0LmNhbGxiYWNrLmFwcGx5KG4sbyl9Y2FuY2VsVGFzayhlLHQpe2xldCBuO2lmKHRoaXMuX2NhbmNlbFRhc2taUyluPXRoaXMuX2NhbmNlbFRhc2taUy5vbkNhbmNlbFRhc2sodGhpcy5fY2FuY2VsVGFza0RsZ3QsdGhpcy5fY2FuY2VsVGFza0N1cnJab25lLGUsdCk7ZWxzZXtpZighdC5jYW5jZWxGbil0aHJvdyBFcnJvcigiVGFzayBpcyBub3QgY2FuY2VsYWJsZSIpO249dC5jYW5jZWxGbih0KX1yZXR1cm4gbn1oYXNUYXNrKGUsdCl7dHJ5e3RoaXMuX2hhc1Rhc2taUyYmdGhpcy5faGFzVGFza1pTLm9uSGFzVGFzayh0aGlzLl9oYXNUYXNrRGxndCx0aGlzLl9oYXNUYXNrQ3VyclpvbmUsZSx0KX1jYXRjaChuKXt0aGlzLmhhbmRsZUVycm9yKGUsbil9fV91cGRhdGVUYXNrQ291bnQoZSx0KXtjb25zdCBuPXRoaXMuX3Rhc2tDb3VudHMsbz1uW2VdLHI9bltlXT1vK3Q7aWYocjwwKXRocm93IG5ldyBFcnJvcigiTW9yZSB0YXNrcyBleGVjdXRlZCB0aGVuIHdlcmUgc2NoZWR1bGVkLiIpOzAhPW8mJjAhPXJ8fHRoaXMuaGFzVGFzayh0aGlzLnpvbmUse21pY3JvVGFzazpuLm1pY3JvVGFzaz4wLG1hY3JvVGFzazpuLm1hY3JvVGFzaz4wLGV2ZW50VGFzazpuLmV2ZW50VGFzaz4wLGNoYW5nZTplfSl9fWNsYXNzIHV7Y29uc3RydWN0b3IodCxuLG8scixhLGkpe2lmKHRoaXMuX3pvbmU9bnVsbCx0aGlzLnJ1bkNvdW50PTAsdGhpcy5fem9uZURlbGVnYXRlcz1udWxsLHRoaXMuX3N0YXRlPSJub3RTY2hlZHVsZWQiLHRoaXMudHlwZT10LHRoaXMuc291cmNlPW4sdGhpcy5kYXRhPXIsdGhpcy5zY2hlZHVsZUZuPWEsdGhpcy5jYW5jZWxGbj1pLCFvKXRocm93IG5ldyBFcnJvcigiY2FsbGJhY2sgaXMgbm90IGRlZmluZWQiKTt0aGlzLmNhbGxiYWNrPW87Y29uc3Qgcz10aGlzO3RoaXMuaW52b2tlPXQ9PT1TJiZyJiZyLnVzZUc/dS5pbnZva2VUYXNrOmZ1bmN0aW9uKCl7cmV0dXJuIHUuaW52b2tlVGFzay5jYWxsKGUscyx0aGlzLGFyZ3VtZW50cyl9fXN0YXRpYyBpbnZva2VUYXNrKGUsdCxuKXtlfHwoZT10aGlzKSxQKys7dHJ5e3JldHVybiBlLnJ1bkNvdW50KyssZS56b25lLnJ1blRhc2soZSx0LG4pfWZpbmFsbHl7MT09UCYmeSgpLFAtLX19Z2V0IHpvbmUoKXtyZXR1cm4gdGhpcy5fem9uZX1nZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9Y2FuY2VsU2NoZWR1bGVSZXF1ZXN0KCl7dGhpcy5fdHJhbnNpdGlvblRvKHYsayl9X3RyYW5zaXRpb25UbyhlLHQsbil7aWYodGhpcy5fc3RhdGUhPT10JiZ0aGlzLl9zdGF0ZSE9PW4pdGhyb3cgbmV3IEVycm9yKGAke3RoaXMudHlwZX0gJyR7dGhpcy5zb3VyY2V9JzogY2FuIG5vdCB0cmFuc2l0aW9uIHRvICcke2V9JywgZXhwZWN0aW5nIHN0YXRlICcke3R9JyR7bj8iIG9yICciK24rIiciOiIifSwgd2FzICcke3RoaXMuX3N0YXRlfScuYCk7dGhpcy5fc3RhdGU9ZSxlPT12JiYodGhpcy5fem9uZURlbGVnYXRlcz1udWxsKX10b1N0cmluZygpe3JldHVybiB0aGlzLmRhdGEmJnZvaWQgMCE9PXRoaXMuZGF0YS5oYW5kbGVJZD90aGlzLmRhdGEuaGFuZGxlSWQudG9TdHJpbmcoKTpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcyl9dG9KU09OKCl7cmV0dXJue3R5cGU6dGhpcy50eXBlLHN0YXRlOnRoaXMuc3RhdGUsc291cmNlOnRoaXMuc291cmNlLHpvbmU6dGhpcy56b25lLm5hbWUscnVuQ291bnQ6dGhpcy5ydW5Db3VudH19fWNvbnN0IGg9YSgic2V0VGltZW91dCIpLHA9YSgiUHJvbWlzZSIpLGY9YSgidGhlbiIpO2xldCBkLG09W10sZz0hMTtmdW5jdGlvbiBUKHQpe2lmKDA9PT1QJiYwPT09bS5sZW5ndGgpaWYoZHx8ZVtwXSYmKGQ9ZVtwXS5yZXNvbHZlKDApKSxkKXtsZXQgZT1kW2ZdO2V8fChlPWQudGhlbiksZS5jYWxsKGQseSl9ZWxzZSBlW2hdKHksMCk7dCYmbS5wdXNoKHQpfWZ1bmN0aW9uIHkoKXtpZighZyl7Zm9yKGc9ITA7bS5sZW5ndGg7KXtjb25zdCB0PW07bT1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgbz10W25dO3RyeXtvLnpvbmUucnVuVGFzayhvLG51bGwsbnVsbCl9Y2F0Y2goZSl7RC5vblVuaGFuZGxlZEVycm9yKGUpfX19RC5taWNyb3Rhc2tEcmFpbkRvbmUoKSxnPSExfX1jb25zdCBfPXtuYW1lOiJOTyBaT05FIn0sdj0ibm90U2NoZWR1bGVkIixrPSJzY2hlZHVsaW5nIixFPSJzY2hlZHVsZWQiLGI9InJ1bm5pbmciLHc9ImNhbmNlbGluZyIsTT0idW5rbm93biIsTD0ibWljcm9UYXNrIixDPSJtYWNyb1Rhc2siLFM9ImV2ZW50VGFzayIsTz17fSxEPXtzeW1ib2w6YSxjdXJyZW50Wm9uZUZyYW1lOigpPT5ILG9uVW5oYW5kbGVkRXJyb3I6TixtaWNyb3Rhc2tEcmFpbkRvbmU6TixzY2hlZHVsZU1pY3JvVGFzazpULHNob3dVbmNhdWdodEVycm9yOigpPT4hc1thKCJpZ25vcmVDb25zb2xlRXJyb3JVbmNhdWdodEVycm9yIildLHBhdGNoRXZlbnRUYXJnZXQ6KCk9PltdLHBhdGNoT25Qcm9wZXJ0aWVzOk4scGF0Y2hNZXRob2Q6KCk9Pk4sYmluZEFyZ3VtZW50czooKT0+W10scGF0Y2hUaGVuOigpPT5OLHBhdGNoTWFjcm9UYXNrOigpPT5OLHBhdGNoRXZlbnRQcm90b3R5cGU6KCk9Pk4saXNJRU9yRWRnZTooKT0+ITEsZ2V0R2xvYmFsT2JqZWN0czooKT0+e30sT2JqZWN0RGVmaW5lUHJvcGVydHk6KCk9Pk4sT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOigpPT57fSxPYmplY3RDcmVhdGU6KCk9Pnt9LEFycmF5U2xpY2U6KCk9PltdLHBhdGNoQ2xhc3M6KCk9Pk4sd3JhcFdpdGhDdXJyZW50Wm9uZTooKT0+TixmaWx0ZXJQcm9wZXJ0aWVzOigpPT5bXSxhdHRhY2hPcmlnaW5Ub1BhdGNoZWQ6KCk9Pk4sX3JlZGVmaW5lUHJvcGVydHk6KCk9Pk4scGF0Y2hDYWxsYmFja3M6KCk9Pk59O2xldCBIPXtwYXJlbnQ6bnVsbCx6b25lOm5ldyBzKG51bGwsbnVsbCl9LFo9bnVsbCxQPTA7ZnVuY3Rpb24gTigpe31vKCJab25lIiwiWm9uZSIpLGUuWm9uZT1zfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93fHwidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGZ8fGdsb2JhbCk7Y29uc3QgZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LG49T2JqZWN0LmdldFByb3RvdHlwZU9mLG89T2JqZWN0LmNyZWF0ZSxyPUFycmF5LnByb3RvdHlwZS5zbGljZSxhPSJhZGRFdmVudExpc3RlbmVyIixpPSJyZW1vdmVFdmVudExpc3RlbmVyIixzPVpvbmUuX19zeW1ib2xfXyhhKSxjPVpvbmUuX19zeW1ib2xfXyhpKSxsPSJ0cnVlIix1PSJmYWxzZSIsaD1ab25lLl9fc3ltYm9sX18oIiIpO2Z1bmN0aW9uIHAoZSx0KXtyZXR1cm4gWm9uZS5jdXJyZW50LndyYXAoZSx0KX1mdW5jdGlvbiBmKGUsdCxuLG8scil7cmV0dXJuIFpvbmUuY3VycmVudC5zY2hlZHVsZU1hY3JvVGFzayhlLHQsbixvLHIpfWNvbnN0IGQ9Wm9uZS5fX3N5bWJvbF9fLG09InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3csZz1tP3dpbmRvdzp2b2lkIDAsVD1tJiZnfHwib2JqZWN0Ij09dHlwZW9mIHNlbGYmJnNlbGZ8fGdsb2JhbCx5PVtudWxsXTtmdW5jdGlvbiBfKGUsdCl7Zm9yKGxldCBuPWUubGVuZ3RoLTE7bj49MDtuLS0pImZ1bmN0aW9uIj09dHlwZW9mIGVbbl0mJihlW25dPXAoZVtuXSx0KyJfIituKSk7cmV0dXJuIGV9ZnVuY3Rpb24gdihlKXtyZXR1cm4hZXx8ITEhPT1lLndyaXRhYmxlJiYhKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldCYmdm9pZCAwPT09ZS5zZXQpfWNvbnN0IGs9InVuZGVmaW5lZCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlLEU9ISgibnciaW4gVCkmJnZvaWQgMCE9PVQucHJvY2VzcyYmIltvYmplY3QgcHJvY2Vzc10iPT09e30udG9TdHJpbmcuY2FsbChULnByb2Nlc3MpLGI9IUUmJiFrJiYhKCFtfHwhZy5IVE1MRWxlbWVudCksdz12b2lkIDAhPT1ULnByb2Nlc3MmJiJbb2JqZWN0IHByb2Nlc3NdIj09PXt9LnRvU3RyaW5nLmNhbGwoVC5wcm9jZXNzKSYmIWsmJiEoIW18fCFnLkhUTUxFbGVtZW50KSxNPXt9LEw9ZnVuY3Rpb24oZSl7aWYoIShlPWV8fFQuZXZlbnQpKXJldHVybjtsZXQgdD1NW2UudHlwZV07dHx8KHQ9TVtlLnR5cGVdPWQoIk9OX1BST1BFUlRZIitlLnR5cGUpKTtjb25zdCBuPXRoaXN8fGUudGFyZ2V0fHxULG89blt0XTtsZXQgcjtpZihiJiZuPT09ZyYmImVycm9yIj09PWUudHlwZSl7Y29uc3QgdD1lO3I9byYmby5jYWxsKHRoaXMsdC5tZXNzYWdlLHQuZmlsZW5hbWUsdC5saW5lbm8sdC5jb2xubyx0LmVycm9yKSwhMD09PXImJmUucHJldmVudERlZmF1bHQoKX1lbHNlIHI9byYmby5hcHBseSh0aGlzLGFyZ3VtZW50cyksbnVsbD09cnx8cnx8ZS5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiByfTtmdW5jdGlvbiBDKG4sbyxyKXtsZXQgYT1lKG4sbyk7aWYoIWEmJnImJmUocixvKSYmKGE9e2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksIWF8fCFhLmNvbmZpZ3VyYWJsZSlyZXR1cm47Y29uc3QgaT1kKCJvbiIrbysicGF0Y2hlZCIpO2lmKG4uaGFzT3duUHJvcGVydHkoaSkmJm5baV0pcmV0dXJuO2RlbGV0ZSBhLndyaXRhYmxlLGRlbGV0ZSBhLnZhbHVlO2NvbnN0IHM9YS5nZXQsYz1hLnNldCxsPW8uc3Vic3RyKDIpO2xldCB1PU1bbF07dXx8KHU9TVtsXT1kKCJPTl9QUk9QRVJUWSIrbCkpLGEuc2V0PWZ1bmN0aW9uKGUpe2xldCB0PXRoaXM7dHx8biE9PVR8fCh0PVQpLHQmJih0W3VdJiZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIobCxMKSxjJiZjLmFwcGx5KHQseSksImZ1bmN0aW9uIj09dHlwZW9mIGU/KHRbdV09ZSx0LmFkZEV2ZW50TGlzdGVuZXIobCxMLCExKSk6dFt1XT1udWxsKX0sYS5nZXQ9ZnVuY3Rpb24oKXtsZXQgZT10aGlzO2lmKGV8fG4hPT1UfHwoZT1UKSwhZSlyZXR1cm4gbnVsbDtjb25zdCB0PWVbdV07aWYodClyZXR1cm4gdDtpZihzKXtsZXQgdD1zJiZzLmNhbGwodGhpcyk7aWYodClyZXR1cm4gYS5zZXQuY2FsbCh0aGlzLHQpLCJmdW5jdGlvbiI9PXR5cGVvZiBlLnJlbW92ZUF0dHJpYnV0ZSYmZS5yZW1vdmVBdHRyaWJ1dGUobyksdH1yZXR1cm4gbnVsbH0sdChuLG8sYSksbltpXT0hMH1mdW5jdGlvbiBTKGUsdCxuKXtpZih0KWZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKUMoZSwib24iK3Rbb10sbik7ZWxzZXtjb25zdCB0PVtdO2Zvcihjb25zdCBuIGluIGUpIm9uIj09bi5zdWJzdHIoMCwyKSYmdC5wdXNoKG4pO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKUMoZSx0W29dLG4pfX1jb25zdCBPPWQoIm9yaWdpbmFsSW5zdGFuY2UiKTtmdW5jdGlvbiBEKGUpe2NvbnN0IG49VFtlXTtpZighbilyZXR1cm47VFtkKGUpXT1uLFRbZV09ZnVuY3Rpb24oKXtjb25zdCB0PV8oYXJndW1lbnRzLGUpO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnRoaXNbT109bmV3IG47YnJlYWs7Y2FzZSAxOnRoaXNbT109bmV3IG4odFswXSk7YnJlYWs7Y2FzZSAyOnRoaXNbT109bmV3IG4odFswXSx0WzFdKTticmVhaztjYXNlIDM6dGhpc1tPXT1uZXcgbih0WzBdLHRbMV0sdFsyXSk7YnJlYWs7Y2FzZSA0OnRoaXNbT109bmV3IG4odFswXSx0WzFdLHRbMl0sdFszXSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkFyZyBsaXN0IHRvbyBsb25nLiIpfX0sUChUW2VdLG4pO2NvbnN0IG89bmV3IG4oZnVuY3Rpb24oKXt9KTtsZXQgcjtmb3IociBpbiBvKSJYTUxIdHRwUmVxdWVzdCI9PT1lJiYicmVzcG9uc2VCbG9iIj09PXJ8fGZ1bmN0aW9uKG4peyJmdW5jdGlvbiI9PXR5cGVvZiBvW25dP1RbZV0ucHJvdG90eXBlW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbT11bbl0uYXBwbHkodGhpc1tPXSxhcmd1bWVudHMpfTp0KFRbZV0ucHJvdG90eXBlLG4se3NldDpmdW5jdGlvbih0KXsiZnVuY3Rpb24iPT10eXBlb2YgdD8odGhpc1tPXVtuXT1wKHQsZSsiLiIrbiksUCh0aGlzW09dW25dLHQpKTp0aGlzW09dW25dPXR9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzW09dW25dfX0pfShyKTtmb3IociBpbiBuKSJwcm90b3R5cGUiIT09ciYmbi5oYXNPd25Qcm9wZXJ0eShyKSYmKFRbZV1bcl09bltyXSl9ZnVuY3Rpb24gSCh0LG8scil7bGV0IGE9dDtmb3IoO2EmJiFhLmhhc093blByb3BlcnR5KG8pOylhPW4oYSk7IWEmJnRbb10mJihhPXQpO2NvbnN0IGk9ZChvKTtsZXQgcz1udWxsO2lmKGEmJighKHM9YVtpXSl8fCFhLmhhc093blByb3BlcnR5KGkpKSYmKHM9YVtpXT1hW29dLHYoYSYmZShhLG8pKSkpe2NvbnN0IGU9cihzLGksbyk7YVtvXT1mdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzKX0sUChhW29dLHMpfXJldHVybiBzfWZ1bmN0aW9uIFooZSx0LG4pe2xldCBvPW51bGw7ZnVuY3Rpb24gcihlKXtjb25zdCB0PWUuZGF0YTtyZXR1cm4gdC5hcmdzW3QuY2JJZHhdPWZ1bmN0aW9uKCl7ZS5pbnZva2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvLmFwcGx5KHQudGFyZ2V0LHQuYXJncyksZX1vPUgoZSx0LGU9PmZ1bmN0aW9uKHQsbyl7Y29uc3QgYT1uKHQsbyk7cmV0dXJuIGEuY2JJZHg+PTAmJiJmdW5jdGlvbiI9PXR5cGVvZiBvW2EuY2JJZHhdP2YoYS5uYW1lLG9bYS5jYklkeF0sYSxyKTplLmFwcGx5KHQsbyl9KX1mdW5jdGlvbiBQKGUsdCl7ZVtkKCJPcmlnaW5hbERlbGVnYXRlIildPXR9bGV0IE49ITEsej0hMTtmdW5jdGlvbiBJKCl7dHJ5e2NvbnN0IGU9Zy5uYXZpZ2F0b3IudXNlckFnZW50O2lmKC0xIT09ZS5pbmRleE9mKCJNU0lFICIpfHwtMSE9PWUuaW5kZXhPZigiVHJpZGVudC8iKSlyZXR1cm4hMH1jYXRjaChlKXt9cmV0dXJuITF9ZnVuY3Rpb24gQSgpe2lmKE4pcmV0dXJuIHo7Tj0hMDt0cnl7Y29uc3QgZT1nLm5hdmlnYXRvci51c2VyQWdlbnQ7LTE9PT1lLmluZGV4T2YoIk1TSUUgIikmJi0xPT09ZS5pbmRleE9mKCJUcmlkZW50LyIpJiYtMT09PWUuaW5kZXhPZigiRWRnZS8iKXx8KHo9ITApfWNhdGNoKGUpe31yZXR1cm4gen1ab25lLl9fbG9hZF9wYXRjaCgiWm9uZUF3YXJlUHJvbWlzZSIsKGUsdCxuKT0+e2NvbnN0IG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixyPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxhPW4uc3ltYm9sLGk9W10scz0hMD09PWVbYSgiRElTQUJMRV9XUkFQUElOR19VTkNBVUdIVF9QUk9NSVNFX1JFSkVDVElPTiIpXSxjPWEoIlByb21pc2UiKSxsPWEoInRoZW4iKTtuLm9uVW5oYW5kbGVkRXJyb3I9ZT0+e2lmKG4uc2hvd1VuY2F1Z2h0RXJyb3IoKSl7Y29uc3QgdD1lJiZlLnJlamVjdGlvbjt0P2NvbnNvbGUuZXJyb3IoIlVuaGFuZGxlZCBQcm9taXNlIHJlamVjdGlvbjoiLHQgaW5zdGFuY2VvZiBFcnJvcj90Lm1lc3NhZ2U6dCwiOyBab25lOiIsZS56b25lLm5hbWUsIjsgVGFzazoiLGUudGFzayYmZS50YXNrLnNvdXJjZSwiOyBWYWx1ZToiLHQsdCBpbnN0YW5jZW9mIEVycm9yP3Quc3RhY2s6dm9pZCAwKTpjb25zb2xlLmVycm9yKGUpfX0sbi5taWNyb3Rhc2tEcmFpbkRvbmU9KCk9Pntmb3IoO2kubGVuZ3RoOyl7Y29uc3QgdD1pLnNoaWZ0KCk7dHJ5e3Quem9uZS5ydW5HdWFyZGVkKCgpPT57aWYodC50aHJvd09yaWdpbmFsKXRocm93IHQucmVqZWN0aW9uO3Rocm93IHR9KX1jYXRjaChlKXtoKGUpfX19O2NvbnN0IHU9YSgidW5oYW5kbGVkUHJvbWlzZVJlamVjdGlvbkhhbmRsZXIiKTtmdW5jdGlvbiBoKGUpe24ub25VbmhhbmRsZWRFcnJvcihlKTt0cnl7Y29uc3Qgbj10W3VdOyJmdW5jdGlvbiI9PXR5cGVvZiBuJiZuLmNhbGwodGhpcyxlKX1jYXRjaChvKXt9fWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGUmJmUudGhlbn1mdW5jdGlvbiBmKGUpe3JldHVybiBlfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIEQucmVqZWN0KGUpfWNvbnN0IG09YSgic3RhdGUiKSxnPWEoInZhbHVlIiksVD1hKCJmaW5hbGx5IikseT1hKCJwYXJlbnRQcm9taXNlVmFsdWUiKSxfPWEoInBhcmVudFByb21pc2VTdGF0ZSIpLHY9bnVsbCxrPSEwLEU9ITE7ZnVuY3Rpb24gYihlLHQpe3JldHVybiBuPT57dHJ5e00oZSx0LG4pfWNhdGNoKG8pe00oZSwhMSxvKX19fWNvbnN0IHc9YSgiY3VycmVudFRhc2tUcmFjZSIpO2Z1bmN0aW9uIE0oZSxvLGEpe2NvbnN0IGM9ZnVuY3Rpb24oKXtsZXQgZT0hMTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7ZXx8KGU9ITAsdC5hcHBseShudWxsLGFyZ3VtZW50cykpfX19KCk7aWYoZT09PWEpdGhyb3cgbmV3IFR5cGVFcnJvcigiUHJvbWlzZSByZXNvbHZlZCB3aXRoIGl0c2VsZiIpO2lmKGVbbV09PT12KXtsZXQgaD1udWxsO3RyeXsib2JqZWN0IiE9dHlwZW9mIGEmJiJmdW5jdGlvbiIhPXR5cGVvZiBhfHwoaD1hJiZhLnRoZW4pfWNhdGNoKHUpe3JldHVybiBjKCgpPT57TShlLCExLHUpfSkoKSxlfWlmKG8hPT1FJiZhIGluc3RhbmNlb2YgRCYmYS5oYXNPd25Qcm9wZXJ0eShtKSYmYS5oYXNPd25Qcm9wZXJ0eShnKSYmYVttXSE9PXYpQyhhKSxNKGUsYVttXSxhW2ddKTtlbHNlIGlmKG8hPT1FJiYiZnVuY3Rpb24iPT10eXBlb2YgaCl0cnl7aC5jYWxsKGEsYyhiKGUsbykpLGMoYihlLCExKSkpfWNhdGNoKHUpe2MoKCk9PntNKGUsITEsdSl9KSgpfWVsc2V7ZVttXT1vO2NvbnN0IGM9ZVtnXTtpZihlW2ddPWEsZVtUXT09PVQmJm89PT1rJiYoZVttXT1lW19dLGVbZ109ZVt5XSksbz09PUUmJmEgaW5zdGFuY2VvZiBFcnJvcil7Y29uc3QgZT10LmN1cnJlbnRUYXNrJiZ0LmN1cnJlbnRUYXNrLmRhdGEmJnQuY3VycmVudFRhc2suZGF0YS5fX2NyZWF0aW9uVHJhY2VfXztlJiZyKGEsdyx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfWZvcihsZXQgdD0wO3Q8Yy5sZW5ndGg7KVMoZSxjW3QrK10sY1t0KytdLGNbdCsrXSxjW3QrK10pO2lmKDA9PWMubGVuZ3RoJiZvPT1FKXtlW21dPTA7bGV0IG89YTt0cnl7dGhyb3cgbmV3IEVycm9yKCJVbmNhdWdodCAoaW4gcHJvbWlzZSk6ICIrKChsPWEpJiZsLnRvU3RyaW5nPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZz8obC5jb25zdHJ1Y3RvciYmbC5jb25zdHJ1Y3Rvci5uYW1lfHwiIikrIjogIitKU09OLnN0cmluZ2lmeShsKTpsP2wudG9TdHJpbmcoKTpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobCkpKyhhJiZhLnN0YWNrPyJcbiIrYS5zdGFjazoiIikpfWNhdGNoKHUpe289dX1zJiYoby50aHJvd09yaWdpbmFsPSEwKSxvLnJlamVjdGlvbj1hLG8ucHJvbWlzZT1lLG8uem9uZT10LmN1cnJlbnQsby50YXNrPXQuY3VycmVudFRhc2ssaS5wdXNoKG8pLG4uc2NoZWR1bGVNaWNyb1Rhc2soKX19fXZhciBsO3JldHVybiBlfWNvbnN0IEw9YSgicmVqZWN0aW9uSGFuZGxlZEhhbmRsZXIiKTtmdW5jdGlvbiBDKGUpe2lmKDA9PT1lW21dKXt0cnl7Y29uc3Qgbj10W0xdO24mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiZuLmNhbGwodGhpcyx7cmVqZWN0aW9uOmVbZ10scHJvbWlzZTplfSl9Y2F0Y2gobil7fWVbbV09RTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKyllPT09aVt0XS5wcm9taXNlJiZpLnNwbGljZSh0LDEpfX1mdW5jdGlvbiBTKGUsdCxuLG8scil7QyhlKTtjb25zdCBhPWVbbV0saT1hPyJmdW5jdGlvbiI9PXR5cGVvZiBvP286ZjoiZnVuY3Rpb24iPT10eXBlb2Ygcj9yOmQ7dC5zY2hlZHVsZU1pY3JvVGFzaygiUHJvbWlzZS50aGVuIiwoKT0+e3RyeXtjb25zdCBvPWVbZ10scj0hIW4mJlQ9PT1uW1RdO3ImJihuW3ldPW8sbltfXT1hKTtjb25zdCBzPXQucnVuKGksdm9pZCAwLHImJmkhPT1kJiZpIT09Zj9bXTpbb10pO00obiwhMCxzKX1jYXRjaChvKXtNKG4sITEsbyl9fSxuKX1jb25zdCBPPWZ1bmN0aW9uKCl7fTtjbGFzcyBEe3N0YXRpYyB0b1N0cmluZygpe3JldHVybiJmdW5jdGlvbiBab25lQXdhcmVQcm9taXNlKCkgeyBbbmF0aXZlIGNvZGVdIH0ifXN0YXRpYyByZXNvbHZlKGUpe3JldHVybiBNKG5ldyB0aGlzKG51bGwpLGssZSl9c3RhdGljIHJlamVjdChlKXtyZXR1cm4gTShuZXcgdGhpcyhudWxsKSxFLGUpfXN0YXRpYyByYWNlKGUpe2xldCB0LG4sbz1uZXcgdGhpcygoZSxvKT0+e3Q9ZSxuPW99KTtmdW5jdGlvbiByKGUpe3QoZSl9ZnVuY3Rpb24gYShlKXtuKGUpfWZvcihsZXQgaSBvZiBlKXAoaSl8fChpPXRoaXMucmVzb2x2ZShpKSksaS50aGVuKHIsYSk7cmV0dXJuIG99c3RhdGljIGFsbChlKXtyZXR1cm4gRC5hbGxXaXRoQ2FsbGJhY2soZSl9c3RhdGljIGFsbFNldHRsZWQoZSl7cmV0dXJuKHRoaXMmJnRoaXMucHJvdG90eXBlIGluc3RhbmNlb2YgRD90aGlzOkQpLmFsbFdpdGhDYWxsYmFjayhlLHt0aGVuQ2FsbGJhY2s6ZT0+KHtzdGF0dXM6ImZ1bGZpbGxlZCIsdmFsdWU6ZX0pLGVycm9yQ2FsbGJhY2s6ZT0+KHtzdGF0dXM6InJlamVjdGVkIixyZWFzb246ZX0pfSl9c3RhdGljIGFsbFdpdGhDYWxsYmFjayhlLHQpe2xldCBuLG8scj1uZXcgdGhpcygoZSx0KT0+e249ZSxvPXR9KSxhPTIsaT0wO2NvbnN0IHM9W107Zm9yKGxldCBsIG9mIGUpe3AobCl8fChsPXRoaXMucmVzb2x2ZShsKSk7Y29uc3QgZT1pO3RyeXtsLnRoZW4obz0+e3NbZV09dD90LnRoZW5DYWxsYmFjayhvKTpvLGEtLSwwPT09YSYmbihzKX0scj0+e3Q/KHNbZV09dC5lcnJvckNhbGxiYWNrKHIpLGEtLSwwPT09YSYmbihzKSk6byhyKX0pfWNhdGNoKGMpe28oYyl9YSsrLGkrK31yZXR1cm4gYS09MiwwPT09YSYmbihzKSxyfWNvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9dGhpcztpZighKHQgaW5zdGFuY2VvZiBEKSl0aHJvdyBuZXcgRXJyb3IoIk11c3QgYmUgYW4gaW5zdGFuY2VvZiBQcm9taXNlLiIpO3RbbV09dix0W2ddPVtdO3RyeXtlJiZlKGIodCxrKSxiKHQsRSkpfWNhdGNoKG4pe00odCwhMSxuKX19Z2V0W1N5bWJvbC50b1N0cmluZ1RhZ10oKXtyZXR1cm4iUHJvbWlzZSJ9Z2V0W1N5bWJvbC5zcGVjaWVzXSgpe3JldHVybiBEfXRoZW4oZSxuKXtsZXQgbz10aGlzLmNvbnN0cnVjdG9yW1N5bWJvbC5zcGVjaWVzXTtvJiYiZnVuY3Rpb24iPT10eXBlb2Ygb3x8KG89dGhpcy5jb25zdHJ1Y3Rvcnx8RCk7Y29uc3Qgcj1uZXcgbyhPKSxhPXQuY3VycmVudDtyZXR1cm4gdGhpc1ttXT09dj90aGlzW2ddLnB1c2goYSxyLGUsbik6Uyh0aGlzLGEscixlLG4pLHJ9Y2F0Y2goZSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGUpfWZpbmFsbHkoZSl7bGV0IG49dGhpcy5jb25zdHJ1Y3RvcltTeW1ib2wuc3BlY2llc107biYmImZ1bmN0aW9uIj09dHlwZW9mIG58fChuPUQpO2NvbnN0IG89bmV3IG4oTyk7b1tUXT1UO2NvbnN0IHI9dC5jdXJyZW50O3JldHVybiB0aGlzW21dPT12P3RoaXNbZ10ucHVzaChyLG8sZSxlKTpTKHRoaXMscixvLGUsZSksb319RC5yZXNvbHZlPUQucmVzb2x2ZSxELnJlamVjdD1ELnJlamVjdCxELnJhY2U9RC5yYWNlLEQuYWxsPUQuYWxsO2NvbnN0IFo9ZVtjXT1lLlByb21pc2U7ZS5Qcm9taXNlPUQ7Y29uc3QgUD1hKCJ0aGVuUGF0Y2hlZCIpO2Z1bmN0aW9uIE4oZSl7Y29uc3QgdD1lLnByb3RvdHlwZSxuPW8odCwidGhlbiIpO2lmKG4mJighMT09PW4ud3JpdGFibGV8fCFuLmNvbmZpZ3VyYWJsZSkpcmV0dXJuO2NvbnN0IHI9dC50aGVuO3RbbF09cixlLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBEKChlLHQpPT57ci5jYWxsKHRoaXMsZSx0KX0pLnRoZW4oZSx0KX0sZVtQXT0hMH1yZXR1cm4gbi5wYXRjaFRoZW49TixaJiYoTihaKSxIKGUsImZldGNoIixlPT57cmV0dXJuIHQ9ZSxmdW5jdGlvbihlLG4pe2xldCBvPXQuYXBwbHkoZSxuKTtpZihvIGluc3RhbmNlb2YgRClyZXR1cm4gbztsZXQgcj1vLmNvbnN0cnVjdG9yO3JldHVybiByW1BdfHxOKHIpLG99O3ZhciB0fSkpLFByb21pc2VbdC5fX3N5bWJvbF9fKCJ1bmNhdWdodFByb21pc2VFcnJvcnMiKV09aSxEfSksWm9uZS5fX2xvYWRfcGF0Y2goInRvU3RyaW5nIixlPT57Y29uc3QgdD1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcsbj1kKCJPcmlnaW5hbERlbGVnYXRlIiksbz1kKCJQcm9taXNlIikscj1kKCJFcnJvciIpLGE9ZnVuY3Rpb24oKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdGhpcyl7Y29uc3QgYT10aGlzW25dO2lmKGEpcmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGE/dC5jYWxsKGEpOk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKTtpZih0aGlzPT09UHJvbWlzZSl7Y29uc3Qgbj1lW29dO2lmKG4pcmV0dXJuIHQuY2FsbChuKX1pZih0aGlzPT09RXJyb3Ipe2NvbnN0IG49ZVtyXTtpZihuKXJldHVybiB0LmNhbGwobil9fXJldHVybiB0LmNhbGwodGhpcyl9O2Fbbl09dCxGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc9YTtjb25zdCBpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBQcm9taXNlJiZ0aGlzIGluc3RhbmNlb2YgUHJvbWlzZT8iW29iamVjdCBQcm9taXNlXSI6aS5jYWxsKHRoaXMpfX0pO2xldCBqPSExO2lmKCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93KXRyeXtjb25zdCBlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwicGFzc2l2ZSIse2dldDpmdW5jdGlvbigpe2o9ITB9fSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInRlc3QiLGUsZSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRlc3QiLGUsZSl9Y2F0Y2goaGUpe2o9ITF9Y29uc3QgUj17dXNlRzohMH0seD17fSxGPXt9LFY9bmV3IFJlZ0V4cCgiXiIraCsiKFxcdyspKHRydWV8ZmFsc2UpJCIpLFU9ZCgicHJvcGFnYXRpb25TdG9wcGVkIik7ZnVuY3Rpb24gcShlLHQpe2NvbnN0IG49KHQ/dChlKTplKSt1LG89KHQ/dChlKTplKStsLHI9aCtuLGE9aCtvO3hbZV09e30seFtlXS5mYWxzZT1yLHhbZV0udHJ1ZT1hfWZ1bmN0aW9uIEIoZSx0LG8pe2NvbnN0IHI9byYmby5hZGR8fGEscz1vJiZvLnJtfHxpLGM9byYmby5saXN0ZW5lcnN8fCJldmVudExpc3RlbmVycyIscD1vJiZvLnJtQWxsfHwicmVtb3ZlQWxsTGlzdGVuZXJzIixmPWQociksbT0iLiIrcisiOiIsZz1mdW5jdGlvbihlLHQsbil7aWYoZS5pc1JlbW92ZWQpcmV0dXJuO2NvbnN0IG89ZS5jYWxsYmFjazsib2JqZWN0Ij09dHlwZW9mIG8mJm8uaGFuZGxlRXZlbnQmJihlLmNhbGxiYWNrPWU9Pm8uaGFuZGxlRXZlbnQoZSksZS5vcmlnaW5hbERlbGVnYXRlPW8pLGUuaW52b2tlKGUsdCxbbl0pO2NvbnN0IHI9ZS5vcHRpb25zO3ImJiJvYmplY3QiPT10eXBlb2YgciYmci5vbmNlJiZ0W3NdLmNhbGwodCxuLnR5cGUsZS5vcmlnaW5hbERlbGVnYXRlP2Uub3JpZ2luYWxEZWxlZ2F0ZTplLmNhbGxiYWNrLHIpfSxUPWZ1bmN0aW9uKHQpe2lmKCEodD10fHxlLmV2ZW50KSlyZXR1cm47Y29uc3Qgbj10aGlzfHx0LnRhcmdldHx8ZSxvPW5beFt0LnR5cGVdLmZhbHNlXTtpZihvKWlmKDE9PT1vLmxlbmd0aClnKG9bMF0sbix0KTtlbHNle2NvbnN0IGU9by5zbGljZSgpO2ZvcihsZXQgbz0wO288ZS5sZW5ndGgmJighdHx8ITAhPT10W1VdKTtvKyspZyhlW29dLG4sdCl9fSx5PWZ1bmN0aW9uKHQpe2lmKCEodD10fHxlLmV2ZW50KSlyZXR1cm47Y29uc3Qgbj10aGlzfHx0LnRhcmdldHx8ZSxvPW5beFt0LnR5cGVdLnRydWVdO2lmKG8paWYoMT09PW8ubGVuZ3RoKWcob1swXSxuLHQpO2Vsc2V7Y29uc3QgZT1vLnNsaWNlKCk7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aCYmKCF0fHwhMCE9PXRbVV0pO28rKylnKGVbb10sbix0KX19O2Z1bmN0aW9uIF8odCxvKXtpZighdClyZXR1cm4hMTtsZXQgYT0hMDtvJiZ2b2lkIDAhPT1vLnVzZUcmJihhPW8udXNlRyk7Y29uc3QgaT1vJiZvLnZoO2xldCBnPSEwO28mJnZvaWQgMCE9PW8uY2hrRHVwJiYoZz1vLmNoa0R1cCk7bGV0IF89ITE7byYmdm9pZCAwIT09by5ydCYmKF89by5ydCk7bGV0IHY9dDtmb3IoO3YmJiF2Lmhhc093blByb3BlcnR5KHIpOyl2PW4odik7aWYoIXYmJnRbcl0mJih2PXQpLCF2KXJldHVybiExO2lmKHZbZl0pcmV0dXJuITE7Y29uc3Qgaz1vJiZvLmV2ZW50TmFtZVRvU3RyaW5nLGI9e30sdz12W2ZdPXZbcl0sTT12W2QocyldPXZbc10sTD12W2QoYyldPXZbY10sQz12W2QocCldPXZbcF07bGV0IFM7ZnVuY3Rpb24gTyhlLHQpe3JldHVybiFqJiYib2JqZWN0Ij09dHlwZW9mIGUmJmU/ISFlLmNhcHR1cmU6aiYmdD8iYm9vbGVhbiI9PXR5cGVvZiBlP3tjYXB0dXJlOmUscGFzc2l2ZTohMH06ZT8ib2JqZWN0Ij09dHlwZW9mIGUmJiExIT09ZS5wYXNzaXZlP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7cGFzc2l2ZTohMH0pOmU6e3Bhc3NpdmU6ITB9OmV9byYmby5wcmVwZW5kJiYoUz12W2Qoby5wcmVwZW5kKV09dltvLnByZXBlbmRdKTtjb25zdCBEPWE/ZnVuY3Rpb24oZSl7aWYoIWIuaXNFeGlzdGluZylyZXR1cm4gdy5jYWxsKGIudGFyZ2V0LGIuZXZlbnROYW1lLGIuY2FwdHVyZT95OlQsYi5vcHRpb25zKX06ZnVuY3Rpb24oZSl7cmV0dXJuIHcuY2FsbChiLnRhcmdldCxiLmV2ZW50TmFtZSxlLmludm9rZSxiLm9wdGlvbnMpfSxIPWE/ZnVuY3Rpb24oZSl7aWYoIWUuaXNSZW1vdmVkKXtjb25zdCB0PXhbZS5ldmVudE5hbWVdO2xldCBuO3QmJihuPXRbZS5jYXB0dXJlP2w6dV0pO2NvbnN0IG89biYmZS50YXJnZXRbbl07aWYobylmb3IobGV0IHI9MDtyPG8ubGVuZ3RoO3IrKylpZihvW3JdPT09ZSl7by5zcGxpY2UociwxKSxlLmlzUmVtb3ZlZD0hMCwwPT09by5sZW5ndGgmJihlLmFsbFJlbW92ZWQ9ITAsZS50YXJnZXRbbl09bnVsbCk7YnJlYWt9fWlmKGUuYWxsUmVtb3ZlZClyZXR1cm4gTS5jYWxsKGUudGFyZ2V0LGUuZXZlbnROYW1lLGUuY2FwdHVyZT95OlQsZS5vcHRpb25zKX06ZnVuY3Rpb24oZSl7cmV0dXJuIE0uY2FsbChlLnRhcmdldCxlLmV2ZW50TmFtZSxlLmludm9rZSxlLm9wdGlvbnMpfSxaPW8mJm8uZGlmZj9vLmRpZmY6ZnVuY3Rpb24oZSx0KXtjb25zdCBuPXR5cGVvZiB0O3JldHVybiJmdW5jdGlvbiI9PT1uJiZlLmNhbGxiYWNrPT09dHx8Im9iamVjdCI9PT1uJiZlLm9yaWdpbmFsRGVsZWdhdGU9PT10fSxOPVpvbmVbZCgiVU5QQVRDSEVEX0VWRU5UUyIpXSx6PWVbZCgiUEFTU0lWRV9FVkVOVFMiKV0sST1mdW5jdGlvbih0LG4scixzLGM9ITEsaD0hMSl7cmV0dXJuIGZ1bmN0aW9uKCl7Y29uc3QgcD10aGlzfHxlO2xldCBmPWFyZ3VtZW50c1swXTtvJiZvLnRyYW5zZmVyRXZlbnROYW1lJiYoZj1vLnRyYW5zZmVyRXZlbnROYW1lKGYpKTtsZXQgZD1hcmd1bWVudHNbMV07aWYoIWQpcmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKEUmJiJ1bmNhdWdodEV4Y2VwdGlvbiI9PT1mKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtsZXQgbT0hMTtpZigiZnVuY3Rpb24iIT10eXBlb2YgZCl7aWYoIWQuaGFuZGxlRXZlbnQpcmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO209ITB9aWYoaSYmIWkodCxkLHAsYXJndW1lbnRzKSlyZXR1cm47Y29uc3QgVD1qJiYhIXomJi0xIT09ei5pbmRleE9mKGYpLHk9Tyhhcmd1bWVudHNbMl0sVCk7aWYoTilmb3IobGV0IGU9MDtlPE4ubGVuZ3RoO2UrKylpZihmPT09TltlXSlyZXR1cm4gVD90LmNhbGwocCxmLGQseSk6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Y29uc3QgXz0hIXkmJigiYm9vbGVhbiI9PXR5cGVvZiB5fHx5LmNhcHR1cmUpLHY9ISgheXx8Im9iamVjdCIhPXR5cGVvZiB5KSYmeS5vbmNlLHc9Wm9uZS5jdXJyZW50O2xldCBNPXhbZl07TXx8KHEoZixrKSxNPXhbZl0pO2NvbnN0IEw9TVtfP2w6dV07bGV0IEMsUz1wW0xdLEQ9ITE7aWYoUyl7aWYoRD0hMCxnKWZvcihsZXQgZT0wO2U8Uy5sZW5ndGg7ZSsrKWlmKFooU1tlXSxkKSlyZXR1cm59ZWxzZSBTPXBbTF09W107Y29uc3QgSD1wLmNvbnN0cnVjdG9yLm5hbWUsUD1GW0hdO1AmJihDPVBbZl0pLEN8fChDPUgrbisoaz9rKGYpOmYpKSxiLm9wdGlvbnM9eSx2JiYoYi5vcHRpb25zLm9uY2U9ITEpLGIudGFyZ2V0PXAsYi5jYXB0dXJlPV8sYi5ldmVudE5hbWU9ZixiLmlzRXhpc3Rpbmc9RDtjb25zdCBJPWE/Ujp2b2lkIDA7SSYmKEkudGFza0RhdGE9Yik7Y29uc3QgQT13LnNjaGVkdWxlRXZlbnRUYXNrKEMsZCxJLHIscyk7cmV0dXJuIGIudGFyZ2V0PW51bGwsSSYmKEkudGFza0RhdGE9bnVsbCksdiYmKHkub25jZT0hMCksKGp8fCJib29sZWFuIiE9dHlwZW9mIEEub3B0aW9ucykmJihBLm9wdGlvbnM9eSksQS50YXJnZXQ9cCxBLmNhcHR1cmU9XyxBLmV2ZW50TmFtZT1mLG0mJihBLm9yaWdpbmFsRGVsZWdhdGU9ZCksaD9TLnVuc2hpZnQoQSk6Uy5wdXNoKEEpLGM/cDp2b2lkIDB9fTtyZXR1cm4gdltyXT1JKHcsbSxELEgsXyksUyYmKHYucHJlcGVuZExpc3RlbmVyPUkoUywiLnByZXBlbmRMaXN0ZW5lcjoiLGZ1bmN0aW9uKGUpe3JldHVybiBTLmNhbGwoYi50YXJnZXQsYi5ldmVudE5hbWUsZS5pbnZva2UsYi5vcHRpb25zKX0sSCxfLCEwKSksdltzXT1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpc3x8ZTtsZXQgbj1hcmd1bWVudHNbMF07byYmby50cmFuc2ZlckV2ZW50TmFtZSYmKG49by50cmFuc2ZlckV2ZW50TmFtZShuKSk7Y29uc3Qgcj1hcmd1bWVudHNbMl0sYT0hIXImJigiYm9vbGVhbiI9PXR5cGVvZiByfHxyLmNhcHR1cmUpLHM9YXJndW1lbnRzWzFdO2lmKCFzKXJldHVybiBNLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihpJiYhaShNLHMsdCxhcmd1bWVudHMpKXJldHVybjtjb25zdCBjPXhbbl07bGV0IHA7YyYmKHA9Y1thP2w6dV0pO2NvbnN0IGY9cCYmdFtwXTtpZihmKWZvcihsZXQgZT0wO2U8Zi5sZW5ndGg7ZSsrKXtjb25zdCBvPWZbZV07aWYoWihvLHMpKXJldHVybiBmLnNwbGljZShlLDEpLG8uaXNSZW1vdmVkPSEwLDA9PT1mLmxlbmd0aCYmKG8uYWxsUmVtb3ZlZD0hMCx0W3BdPW51bGwsInN0cmluZyI9PXR5cGVvZiBuKSYmKHRbaCsiT05fUFJPUEVSVFkiK25dPW51bGwpLG8uem9uZS5jYW5jZWxUYXNrKG8pLF8/dDp2b2lkIDB9cmV0dXJuIE0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSx2W2NdPWZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzfHxlO2xldCBuPWFyZ3VtZW50c1swXTtvJiZvLnRyYW5zZmVyRXZlbnROYW1lJiYobj1vLnRyYW5zZmVyRXZlbnROYW1lKG4pKTtjb25zdCByPVtdLGE9Ryh0LGs/ayhuKTpuKTtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrKyl7Y29uc3QgdD1hW2VdO3IucHVzaCh0Lm9yaWdpbmFsRGVsZWdhdGU/dC5vcmlnaW5hbERlbGVnYXRlOnQuY2FsbGJhY2spfXJldHVybiByfSx2W3BdPWZ1bmN0aW9uKCl7Y29uc3QgdD10aGlzfHxlO2xldCBuPWFyZ3VtZW50c1swXTtpZihuKXtvJiZvLnRyYW5zZmVyRXZlbnROYW1lJiYobj1vLnRyYW5zZmVyRXZlbnROYW1lKG4pKTtjb25zdCBlPXhbbl07aWYoZSl7Y29uc3Qgbz10W2UuZmFsc2VdLHI9dFtlLnRydWVdO2lmKG8pe2NvbnN0IGU9by5zbGljZSgpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBvPWVbdF07dGhpc1tzXS5jYWxsKHRoaXMsbixvLm9yaWdpbmFsRGVsZWdhdGU/by5vcmlnaW5hbERlbGVnYXRlOm8uY2FsbGJhY2ssby5vcHRpb25zKX19aWYocil7Y29uc3QgZT1yLnNsaWNlKCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG89ZVt0XTt0aGlzW3NdLmNhbGwodGhpcyxuLG8ub3JpZ2luYWxEZWxlZ2F0ZT9vLm9yaWdpbmFsRGVsZWdhdGU6by5jYWxsYmFjayxvLm9wdGlvbnMpfX19fWVsc2V7Y29uc3QgZT1PYmplY3Qua2V5cyh0KTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbj1WLmV4ZWMoZVt0XSk7bGV0IG89biYmblsxXTtvJiYicmVtb3ZlTGlzdGVuZXIiIT09byYmdGhpc1twXS5jYWxsKHRoaXMsbyl9dGhpc1twXS5jYWxsKHRoaXMsInJlbW92ZUxpc3RlbmVyIil9aWYoXylyZXR1cm4gdGhpc30sUCh2W3JdLHcpLFAodltzXSxNKSxDJiZQKHZbcF0sQyksTCYmUCh2W2NdLEwpLCEwfWxldCB2PVtdO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXZbbl09Xyh0W25dLG8pO3JldHVybiB2fWZ1bmN0aW9uIEcoZSx0KXtpZighdCl7Y29uc3Qgbj1bXTtmb3IobGV0IG8gaW4gZSl7Y29uc3Qgcj1WLmV4ZWMobyk7bGV0IGE9ciYmclsxXTtpZihhJiYoIXR8fGE9PT10KSl7Y29uc3QgdD1lW29dO2lmKHQpZm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspbi5wdXNoKHRbZV0pfX1yZXR1cm4gbn1sZXQgbj14W3RdO258fChxKHQpLG49eFt0XSk7Y29uc3Qgbz1lW24uZmFsc2VdLHI9ZVtuLnRydWVdO3JldHVybiBvP3I/by5jb25jYXQocik6by5zbGljZSgpOnI/ci5zbGljZSgpOltdfWZ1bmN0aW9uIFcoZSx0KXtjb25zdCBuPWUuRXZlbnQ7biYmbi5wcm90b3R5cGUmJnQucGF0Y2hNZXRob2Qobi5wcm90b3R5cGUsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsZT0+ZnVuY3Rpb24odCxuKXt0W1VdPSEwLGUmJmUuYXBwbHkodCxuKX0pfWZ1bmN0aW9uICQoZSx0LG4sbyxyKXtjb25zdCBhPVpvbmUuX19zeW1ib2xfXyhvKTtpZih0W2FdKXJldHVybjtjb25zdCBpPXRbYV09dFtvXTt0W29dPWZ1bmN0aW9uKGEscyxjKXtyZXR1cm4gcyYmcy5wcm90b3R5cGUmJnIuZm9yRWFjaChmdW5jdGlvbih0KXtjb25zdCByPWAke259LiR7b306OmArdCxhPXMucHJvdG90eXBlO2lmKGEuaGFzT3duUHJvcGVydHkodCkpe2NvbnN0IG49ZS5PYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSx0KTtuJiZuLnZhbHVlPyhuLnZhbHVlPWUud3JhcFdpdGhDdXJyZW50Wm9uZShuLnZhbHVlLHIpLGUuX3JlZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsdCxuKSk6YVt0XSYmKGFbdF09ZS53cmFwV2l0aEN1cnJlbnRab25lKGFbdF0scikpfWVsc2UgYVt0XSYmKGFbdF09ZS53cmFwV2l0aEN1cnJlbnRab25lKGFbdF0scikpfSksaS5jYWxsKHQsYSxzLGMpfSxlLmF0dGFjaE9yaWdpblRvUGF0Y2hlZCh0W29dLGkpfWNvbnN0IFg9WyJhYnNvbHV0ZWRldmljZW9yaWVudGF0aW9uIiwiYWZ0ZXJpbnB1dCIsImFmdGVycHJpbnQiLCJhcHBpbnN0YWxsZWQiLCJiZWZvcmVpbnN0YWxscHJvbXB0IiwiYmVmb3JlcHJpbnQiLCJiZWZvcmV1bmxvYWQiLCJkZXZpY2VsaWdodCIsImRldmljZW1vdGlvbiIsImRldmljZW9yaWVudGF0aW9uIiwiZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZSIsImRldmljZXByb3hpbWl0eSIsImhhc2hjaGFuZ2UiLCJsYW5ndWFnZWNoYW5nZSIsIm1lc3NhZ2UiLCJtb3piZWZvcmVwYWludCIsIm9mZmxpbmUiLCJvbmxpbmUiLCJwYWludCIsInBhZ2VzaG93IiwicGFnZWhpZGUiLCJwb3BzdGF0ZSIsInJlamVjdGlvbmhhbmRsZWQiLCJzdG9yYWdlIiwidW5oYW5kbGVkcmVqZWN0aW9uIiwidW5sb2FkIiwidXNlcnByb3hpbWl0eSIsInZyZGlzcGxheWNvbm5lY3RlZCIsInZyZGlzcGxheWRpc2Nvbm5lY3RlZCIsInZyZGlzcGxheXByZXNlbnRjaGFuZ2UiXSxZPVsiZW5jcnlwdGVkIiwid2FpdGluZ2ZvcmtleSIsIm1zbmVlZGtleSIsIm1vemludGVycnVwdGJlZ2luIiwibW96aW50ZXJydXB0ZW5kIl0sSz1bImxvYWQiXSxKPVsiYmx1ciIsImVycm9yIiwiZm9jdXMiLCJsb2FkIiwicmVzaXplIiwic2Nyb2xsIiwibWVzc2FnZWVycm9yIl0sUT1bImJvdW5jZSIsImZpbmlzaCIsInN0YXJ0Il0sZWU9WyJsb2Fkc3RhcnQiLCJwcm9ncmVzcyIsImFib3J0IiwiZXJyb3IiLCJsb2FkIiwicHJvZ3Jlc3MiLCJ0aW1lb3V0IiwibG9hZGVuZCIsInJlYWR5c3RhdGVjaGFuZ2UiXSx0ZT1bInVwZ3JhZGVuZWVkZWQiLCJjb21wbGV0ZSIsImFib3J0Iiwic3VjY2VzcyIsImVycm9yIiwiYmxvY2tlZCIsInZlcnNpb25jaGFuZ2UiLCJjbG9zZSJdLG5lPVsiY2xvc2UiLCJlcnJvciIsIm9wZW4iLCJtZXNzYWdlIl0sb2U9WyJlcnJvciIsIm1lc3NhZ2UiXSxyZT1bImFib3J0IiwiYW5pbWF0aW9uY2FuY2VsIiwiYW5pbWF0aW9uZW5kIiwiYW5pbWF0aW9uaXRlcmF0aW9uIiwiYXV4Y2xpY2siLCJiZWZvcmVpbnB1dCIsImJsdXIiLCJjYW5jZWwiLCJjYW5wbGF5IiwiY2FucGxheXRocm91Z2giLCJjaGFuZ2UiLCJjb21wb3NpdGlvbnN0YXJ0IiwiY29tcG9zaXRpb251cGRhdGUiLCJjb21wb3NpdGlvbmVuZCIsImN1ZWNoYW5nZSIsImNsaWNrIiwiY2xvc2UiLCJjb250ZXh0bWVudSIsImN1cmVjaGFuZ2UiLCJkYmxjbGljayIsImRyYWciLCJkcmFnZW5kIiwiZHJhZ2VudGVyIiwiZHJhZ2V4aXQiLCJkcmFnbGVhdmUiLCJkcmFnb3ZlciIsImRyb3AiLCJkdXJhdGlvbmNoYW5nZSIsImVtcHRpZWQiLCJlbmRlZCIsImVycm9yIiwiZm9jdXMiLCJmb2N1c2luIiwiZm9jdXNvdXQiLCJnb3Rwb2ludGVyY2FwdHVyZSIsImlucHV0IiwiaW52YWxpZCIsImtleWRvd24iLCJrZXlwcmVzcyIsImtleXVwIiwibG9hZCIsImxvYWRzdGFydCIsImxvYWRlZGRhdGEiLCJsb2FkZWRtZXRhZGF0YSIsImxvc3Rwb2ludGVyY2FwdHVyZSIsIm1vdXNlZG93biIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIiwibW91c2Vtb3ZlIiwibW91c2VvdXQiLCJtb3VzZW92ZXIiLCJtb3VzZXVwIiwibW91c2V3aGVlbCIsIm9yaWVudGF0aW9uY2hhbmdlIiwicGF1c2UiLCJwbGF5IiwicGxheWluZyIsInBvaW50ZXJjYW5jZWwiLCJwb2ludGVyZG93biIsInBvaW50ZXJlbnRlciIsInBvaW50ZXJsZWF2ZSIsInBvaW50ZXJsb2NrY2hhbmdlIiwibW96cG9pbnRlcmxvY2tjaGFuZ2UiLCJ3ZWJraXRwb2ludGVybG9ja2VyY2hhbmdlIiwicG9pbnRlcmxvY2tlcnJvciIsIm1venBvaW50ZXJsb2NrZXJyb3IiLCJ3ZWJraXRwb2ludGVybG9ja2Vycm9yIiwicG9pbnRlcm1vdmUiLCJwb2ludG91dCIsInBvaW50ZXJvdmVyIiwicG9pbnRlcnVwIiwicHJvZ3Jlc3MiLCJyYXRlY2hhbmdlIiwicmVzZXQiLCJyZXNpemUiLCJzY3JvbGwiLCJzZWVrZWQiLCJzZWVraW5nIiwic2VsZWN0Iiwic2VsZWN0aW9uY2hhbmdlIiwic2VsZWN0c3RhcnQiLCJzaG93Iiwic29ydCIsInN0YWxsZWQiLCJzdWJtaXQiLCJzdXNwZW5kIiwidGltZXVwZGF0ZSIsInZvbHVtZWNoYW5nZSIsInRvdWNoY2FuY2VsIiwidG91Y2htb3ZlIiwidG91Y2hzdGFydCIsInRvdWNoZW5kIiwidHJhbnNpdGlvbmNhbmNlbCIsInRyYW5zaXRpb25lbmQiLCJ3YWl0aW5nIiwid2hlZWwiXS5jb25jYXQoWyJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsIndlYmdsY29udGV4dGxvc3QiLCJ3ZWJnbGNvbnRleHRjcmVhdGlvbmVycm9yIl0sWyJhdXRvY29tcGxldGUiLCJhdXRvY29tcGxldGVlcnJvciJdLFsidG9nZ2xlIl0sWyJhZnRlcnNjcmlwdGV4ZWN1dGUiLCJiZWZvcmVzY3JpcHRleGVjdXRlIiwiRE9NQ29udGVudExvYWRlZCIsImZyZWV6ZSIsImZ1bGxzY3JlZW5jaGFuZ2UiLCJtb3pmdWxsc2NyZWVuY2hhbmdlIiwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZSIsIm1zZnVsbHNjcmVlbmNoYW5nZSIsImZ1bGxzY3JlZW5lcnJvciIsIm1vemZ1bGxzY3JlZW5lcnJvciIsIndlYmtpdGZ1bGxzY3JlZW5lcnJvciIsIm1zZnVsbHNjcmVlbmVycm9yIiwicmVhZHlzdGF0ZWNoYW5nZSIsInZpc2liaWxpdHljaGFuZ2UiLCJyZXN1bWUiXSxYLFsiYmVmb3JlY29weSIsImJlZm9yZWN1dCIsImJlZm9yZXBhc3RlIiwiY29weSIsImN1dCIsInBhc3RlIiwiZHJhZ3N0YXJ0IiwibG9hZGVuZCIsImFuaW1hdGlvbnN0YXJ0Iiwic2VhcmNoIiwidHJhbnNpdGlvbnJ1biIsInRyYW5zaXRpb25zdGFydCIsIndlYmtpdGFuaW1hdGlvbmVuZCIsIndlYmtpdGFuaW1hdGlvbml0ZXJhdGlvbiIsIndlYmtpdGFuaW1hdGlvbnN0YXJ0Iiwid2Via2l0dHJhbnNpdGlvbmVuZCJdLFsiYWN0aXZhdGUiLCJhZnRlcnVwZGF0ZSIsImFyaWFyZXF1ZXN0IiwiYmVmb3JlYWN0aXZhdGUiLCJiZWZvcmVkZWFjdGl2YXRlIiwiYmVmb3JlZWRpdGZvY3VzIiwiYmVmb3JldXBkYXRlIiwiY2VsbGNoYW5nZSIsImNvbnRyb2xzZWxlY3QiLCJkYXRhYXZhaWxhYmxlIiwiZGF0YXNldGNoYW5nZWQiLCJkYXRhc2V0Y29tcGxldGUiLCJlcnJvcnVwZGF0ZSIsImZpbHRlcmNoYW5nZSIsImxheW91dGNvbXBsZXRlIiwibG9zZWNhcHR1cmUiLCJtb3ZlIiwibW92ZWVuZCIsIm1vdmVzdGFydCIsInByb3BlcnR5Y2hhbmdlIiwicmVzaXplZW5kIiwicmVzaXplc3RhcnQiLCJyb3dlbnRlciIsInJvd2V4aXQiLCJyb3dzZGVsZXRlIiwicm93c2luc2VydGVkIiwiY29tbWFuZCIsImNvbXBhc3NuZWVkc2NhbGlicmF0aW9uIiwiZGVhY3RpdmF0ZSIsImhlbHAiLCJtc2NvbnRlbnR6b29tIiwibXNtYW5pcHVsYXRpb25zdGF0ZWNoYW5nZWQiLCJtc2dlc3R1cmVjaGFuZ2UiLCJtc2dlc3R1cmVkb3VibGV0YXAiLCJtc2dlc3R1cmVlbmQiLCJtc2dlc3R1cmVob2xkIiwibXNnZXN0dXJlc3RhcnQiLCJtc2dlc3R1cmV0YXAiLCJtc2dvdHBvaW50ZXJjYXB0dXJlIiwibXNpbmVydGlhc3RhcnQiLCJtc2xvc3Rwb2ludGVyY2FwdHVyZSIsIm1zcG9pbnRlcmNhbmNlbCIsIm1zcG9pbnRlcmRvd24iLCJtc3BvaW50ZXJlbnRlciIsIm1zcG9pbnRlcmhvdmVyIiwibXNwb2ludGVybGVhdmUiLCJtc3BvaW50ZXJtb3ZlIiwibXNwb2ludGVyb3V0IiwibXNwb2ludGVyb3ZlciIsIm1zcG9pbnRlcnVwIiwicG9pbnRlcm91dCIsIm1zc2l0ZW1vZGVqdW1wbGlzdGl0ZW1yZW1vdmVkIiwibXN0aHVtYm5haWxjbGljayIsInN0b3AiLCJzdG9yYWdlY29tbWl0Il0pO2Z1bmN0aW9uIGFlKGUsdCxuKXtpZighbnx8MD09PW4ubGVuZ3RoKXJldHVybiB0O2NvbnN0IG89bi5maWx0ZXIodD0+dC50YXJnZXQ9PT1lKTtpZighb3x8MD09PW8ubGVuZ3RoKXJldHVybiB0O2NvbnN0IHI9b1swXS5pZ25vcmVQcm9wZXJ0aWVzO3JldHVybiB0LmZpbHRlcihlPT4tMT09PXIuaW5kZXhPZihlKSl9ZnVuY3Rpb24gaWUoZSx0LG4sbyl7ZSYmUyhlLGFlKGUsdCxuKSxvKX1mdW5jdGlvbiBzZShlLHQpe2lmKEUmJiF3KXJldHVybjtpZihab25lW2Uuc3ltYm9sKCJwYXRjaEV2ZW50cyIpXSlyZXR1cm47Y29uc3Qgbz0idW5kZWZpbmVkIiE9dHlwZW9mIFdlYlNvY2tldCxyPXQuX19ab25lX2lnbm9yZV9vbl9wcm9wZXJ0aWVzO2lmKGIpe2NvbnN0IGU9d2luZG93LHQ9SSgpP1t7dGFyZ2V0OmUsaWdub3JlUHJvcGVydGllczpbImVycm9yIl19XTpbXTtpZShlLHJlLmNvbmNhdChbIm1lc3NhZ2VlcnJvciJdKSxyP3IuY29uY2F0KHQpOnIsbihlKSksaWUoRG9jdW1lbnQucHJvdG90eXBlLHJlLHIpLHZvaWQgMCE9PWUuU1ZHRWxlbWVudCYmaWUoZS5TVkdFbGVtZW50LnByb3RvdHlwZSxyZSxyKSxpZShFbGVtZW50LnByb3RvdHlwZSxyZSxyKSxpZShIVE1MRWxlbWVudC5wcm90b3R5cGUscmUsciksaWUoSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUsWSxyKSxpZShIVE1MRnJhbWVTZXRFbGVtZW50LnByb3RvdHlwZSxYLmNvbmNhdChKKSxyKSxpZShIVE1MQm9keUVsZW1lbnQucHJvdG90eXBlLFguY29uY2F0KEopLHIpLGllKEhUTUxGcmFtZUVsZW1lbnQucHJvdG90eXBlLEssciksaWUoSFRNTElGcmFtZUVsZW1lbnQucHJvdG90eXBlLEsscik7Y29uc3Qgbz1lLkhUTUxNYXJxdWVlRWxlbWVudDtvJiZpZShvLnByb3RvdHlwZSxRLHIpO2NvbnN0IGE9ZS5Xb3JrZXI7YSYmaWUoYS5wcm90b3R5cGUsb2Uscil9Y29uc3QgYT10LlhNTEh0dHBSZXF1ZXN0O2EmJmllKGEucHJvdG90eXBlLGVlLHIpO2NvbnN0IGk9dC5YTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0O2kmJmllKGkmJmkucHJvdG90eXBlLGVlLHIpLCJ1bmRlZmluZWQiIT10eXBlb2YgSURCSW5kZXgmJihpZShJREJJbmRleC5wcm90b3R5cGUsdGUsciksaWUoSURCUmVxdWVzdC5wcm90b3R5cGUsdGUsciksaWUoSURCT3BlbkRCUmVxdWVzdC5wcm90b3R5cGUsdGUsciksaWUoSURCRGF0YWJhc2UucHJvdG90eXBlLHRlLHIpLGllKElEQlRyYW5zYWN0aW9uLnByb3RvdHlwZSx0ZSxyKSxpZShJREJDdXJzb3IucHJvdG90eXBlLHRlLHIpKSxvJiZpZShXZWJTb2NrZXQucHJvdG90eXBlLG5lLHIpfVpvbmUuX19sb2FkX3BhdGNoKCJ1dGlsIiwobixzLGMpPT57Yy5wYXRjaE9uUHJvcGVydGllcz1TLGMucGF0Y2hNZXRob2Q9SCxjLmJpbmRBcmd1bWVudHM9XyxjLnBhdGNoTWFjcm9UYXNrPVo7Y29uc3QgZj1zLl9fc3ltYm9sX18oIkJMQUNLX0xJU1RFRF9FVkVOVFMiKSxkPXMuX19zeW1ib2xfXygiVU5QQVRDSEVEX0VWRU5UUyIpO25bZF0mJihuW2ZdPW5bZF0pLG5bZl0mJihzW2ZdPXNbZF09bltmXSksYy5wYXRjaEV2ZW50UHJvdG90eXBlPVcsYy5wYXRjaEV2ZW50VGFyZ2V0PUIsYy5pc0lFT3JFZGdlPUEsYy5PYmplY3REZWZpbmVQcm9wZXJ0eT10LGMuT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yPWUsYy5PYmplY3RDcmVhdGU9byxjLkFycmF5U2xpY2U9cixjLnBhdGNoQ2xhc3M9RCxjLndyYXBXaXRoQ3VycmVudFpvbmU9cCxjLmZpbHRlclByb3BlcnRpZXM9YWUsYy5hdHRhY2hPcmlnaW5Ub1BhdGNoZWQ9UCxjLl9yZWRlZmluZVByb3BlcnR5PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxjLnBhdGNoQ2FsbGJhY2tzPSQsYy5nZXRHbG9iYWxPYmplY3RzPSgpPT4oe2dsb2JhbFNvdXJjZXM6Rix6b25lU3ltYm9sRXZlbnROYW1lczp4LGV2ZW50TmFtZXM6cmUsaXNCcm93c2VyOmIsaXNNaXg6dyxpc05vZGU6RSxUUlVFX1NUUjpsLEZBTFNFX1NUUjp1LFpPTkVfU1lNQk9MX1BSRUZJWDpoLEFERF9FVkVOVF9MSVNURU5FUl9TVFI6YSxSRU1PVkVfRVZFTlRfTElTVEVORVJfU1RSOml9KX0pO2NvbnN0IGNlPWQoInpvbmVUYXNrIik7ZnVuY3Rpb24gbGUoZSx0LG4sbyl7bGV0IHI9bnVsbCxhPW51bGw7bis9bztjb25zdCBpPXt9O2Z1bmN0aW9uIHModCl7Y29uc3Qgbj10LmRhdGE7cmV0dXJuIG4uYXJnc1swXT1mdW5jdGlvbigpe3JldHVybiB0Lmludm9rZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG4uaGFuZGxlSWQ9ci5hcHBseShlLG4uYXJncyksdH1mdW5jdGlvbiBjKHQpe3JldHVybiBhLmNhbGwoZSx0LmRhdGEuaGFuZGxlSWQpfXI9SChlLHQrPW8sbj0+ZnVuY3Rpb24ocixhKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgYVswXSl7Y29uc3QgZT17aXNQZXJpb2RpYzoiSW50ZXJ2YWwiPT09byxkZWxheToiVGltZW91dCI9PT1vfHwiSW50ZXJ2YWwiPT09bz9hWzFdfHwwOnZvaWQgMCxhcmdzOmF9LG49YVswXTthWzBdPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1maW5hbGx5e2UuaXNQZXJpb2RpY3x8KCJudW1iZXIiPT10eXBlb2YgZS5oYW5kbGVJZD9kZWxldGUgaVtlLmhhbmRsZUlkXTplLmhhbmRsZUlkJiYoZS5oYW5kbGVJZFtjZV09bnVsbCkpfX07Y29uc3Qgcj1mKHQsYVswXSxlLHMsYyk7aWYoIXIpcmV0dXJuIHI7Y29uc3QgbD1yLmRhdGEuaGFuZGxlSWQ7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBsP2lbbF09cjpsJiYobFtjZV09ciksbCYmbC5yZWYmJmwudW5yZWYmJiJmdW5jdGlvbiI9PXR5cGVvZiBsLnJlZiYmImZ1bmN0aW9uIj09dHlwZW9mIGwudW5yZWYmJihyLnJlZj1sLnJlZi5iaW5kKGwpLHIudW5yZWY9bC51bnJlZi5iaW5kKGwpKSwibnVtYmVyIj09dHlwZW9mIGx8fGw/bDpyfXJldHVybiBuLmFwcGx5KGUsYSl9KSxhPUgoZSxuLHQ9PmZ1bmN0aW9uKG4sbyl7Y29uc3Qgcj1vWzBdO2xldCBhOyJudW1iZXIiPT10eXBlb2Ygcj9hPWlbcl06KGE9ciYmcltjZV0sYXx8KGE9cikpLGEmJiJzdHJpbmciPT10eXBlb2YgYS50eXBlPyJub3RTY2hlZHVsZWQiIT09YS5zdGF0ZSYmKGEuY2FuY2VsRm4mJmEuZGF0YS5pc1BlcmlvZGljfHwwPT09YS5ydW5Db3VudCkmJigibnVtYmVyIj09dHlwZW9mIHI/ZGVsZXRlIGlbcl06ciYmKHJbY2VdPW51bGwpLGEuem9uZS5jYW5jZWxUYXNrKGEpKTp0LmFwcGx5KGUsbyl9KX1mdW5jdGlvbiB1ZShlLHQpe2lmKFpvbmVbdC5zeW1ib2woInBhdGNoRXZlbnRUYXJnZXQiKV0pcmV0dXJuO2NvbnN0e2V2ZW50TmFtZXM6bix6b25lU3ltYm9sRXZlbnROYW1lczpvLFRSVUVfU1RSOnIsRkFMU0VfU1RSOmEsWk9ORV9TWU1CT0xfUFJFRklYOml9PXQuZ2V0R2xvYmFsT2JqZWN0cygpO2ZvcihsZXQgYz0wO2M8bi5sZW5ndGg7YysrKXtjb25zdCBlPW5bY10sdD1pKyhlK2EpLHM9aSsoZStyKTtvW2VdPXt9LG9bZV1bYV09dCxvW2VdW3JdPXN9Y29uc3Qgcz1lLkV2ZW50VGFyZ2V0O3JldHVybiBzJiZzLnByb3RvdHlwZT8odC5wYXRjaEV2ZW50VGFyZ2V0KGUsW3MmJnMucHJvdG90eXBlXSksITApOnZvaWQgMH1ab25lLl9fbG9hZF9wYXRjaCgibGVnYWN5IixlPT57Y29uc3QgdD1lW1pvbmUuX19zeW1ib2xfXygibGVnYWN5UGF0Y2giKV07dCYmdCgpfSksWm9uZS5fX2xvYWRfcGF0Y2goInF1ZXVlTWljcm90YXNrIiwoZSx0LG4pPT57bi5wYXRjaE1ldGhvZChlLCJxdWV1ZU1pY3JvdGFzayIsZT0+ZnVuY3Rpb24oZSxuKXt0LmN1cnJlbnQuc2NoZWR1bGVNaWNyb1Rhc2soInF1ZXVlTWljcm90YXNrIixuWzBdKX0pfSksWm9uZS5fX2xvYWRfcGF0Y2goInRpbWVycyIsZT0+e2NvbnN0IHQ9InNldCIsbj0iY2xlYXIiO2xlKGUsdCxuLCJUaW1lb3V0IiksbGUoZSx0LG4sIkludGVydmFsIiksbGUoZSx0LG4sIkltbWVkaWF0ZSIpfSksWm9uZS5fX2xvYWRfcGF0Y2goInJlcXVlc3RBbmltYXRpb25GcmFtZSIsZT0+e2xlKGUsInJlcXVlc3QiLCJjYW5jZWwiLCJBbmltYXRpb25GcmFtZSIpLGxlKGUsIm1velJlcXVlc3QiLCJtb3pDYW5jZWwiLCJBbmltYXRpb25GcmFtZSIpLGxlKGUsIndlYmtpdFJlcXVlc3QiLCJ3ZWJraXRDYW5jZWwiLCJBbmltYXRpb25GcmFtZSIpfSksWm9uZS5fX2xvYWRfcGF0Y2goImJsb2NraW5nIiwoZSx0KT0+e2NvbnN0IG49WyJhbGVydCIsInByb21wdCIsImNvbmZpcm0iXTtmb3IobGV0IG89MDtvPG4ubGVuZ3RoO28rKylIKGUsbltvXSwobixvLHIpPT5mdW5jdGlvbihvLGEpe3JldHVybiB0LmN1cnJlbnQucnVuKG4sZSxhLHIpfSl9KSxab25lLl9fbG9hZF9wYXRjaCgiRXZlbnRUYXJnZXQiLChlLHQsbik9PnshZnVuY3Rpb24oZSx0KXt0LnBhdGNoRXZlbnRQcm90b3R5cGUoZSx0KX0oZSxuKSx1ZShlLG4pO2NvbnN0IG89ZS5YTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0O28mJm8ucHJvdG90eXBlJiZuLnBhdGNoRXZlbnRUYXJnZXQoZSxbby5wcm90b3R5cGVdKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJNdXRhdGlvbk9ic2VydmVyIiwoZSx0LG4pPT57RCgiTXV0YXRpb25PYnNlcnZlciIpLEQoIldlYktpdE11dGF0aW9uT2JzZXJ2ZXIiKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsKGUsdCxuKT0+e0QoIkludGVyc2VjdGlvbk9ic2VydmVyIil9KSxab25lLl9fbG9hZF9wYXRjaCgiRmlsZVJlYWRlciIsKGUsdCxuKT0+e0QoIkZpbGVSZWFkZXIiKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJvbl9wcm9wZXJ0eSIsKGUsdCxuKT0+e3NlKG4sZSl9KSxab25lLl9fbG9hZF9wYXRjaCgiY3VzdG9tRWxlbWVudHMiLChlLHQsbik9PnshZnVuY3Rpb24oZSx0KXtjb25zdHtpc0Jyb3dzZXI6bixpc01peDpvfT10LmdldEdsb2JhbE9iamVjdHMoKTsobnx8bykmJmUuY3VzdG9tRWxlbWVudHMmJiJjdXN0b21FbGVtZW50cyJpbiBlJiZ0LnBhdGNoQ2FsbGJhY2tzKHQsZS5jdXN0b21FbGVtZW50cywiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiLFsiY29ubmVjdGVkQ2FsbGJhY2siLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsImFkb3B0ZWRDYWxsYmFjayIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayJdKX0oZSxuKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJYSFIiLChlLHQpPT57IWZ1bmN0aW9uKGUpe2NvbnN0IHU9ZS5YTUxIdHRwUmVxdWVzdDtpZighdSlyZXR1cm47Y29uc3QgaD11LnByb3RvdHlwZTtsZXQgcD1oW3NdLG09aFtjXTtpZighcCl7Y29uc3QgdD1lLlhNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQ7aWYodCl7Y29uc3QgZT10LnByb3RvdHlwZTtwPWVbc10sbT1lW2NdfX1jb25zdCBnPSJyZWFkeXN0YXRlY2hhbmdlIixUPSJzY2hlZHVsZWQiO2Z1bmN0aW9uIHkoZSl7Y29uc3Qgbz1lLmRhdGEsaT1vLnRhcmdldDtpW2FdPSExLGlbbF09ITE7Y29uc3QgdT1pW3JdO3B8fChwPWlbc10sbT1pW2NdKSx1JiZtLmNhbGwoaSxnLHUpO2NvbnN0IGg9aVtyXT0oKT0+e2lmKGkucmVhZHlTdGF0ZT09PWkuRE9ORSlpZighby5hYm9ydGVkJiZpW2FdJiZlLnN0YXRlPT09VCl7Y29uc3Qgbj1pW3QuX19zeW1ib2xfXygibG9hZGZhbHNlIildO2lmKDAhPT1pLnN0YXR1cyYmbiYmbi5sZW5ndGg+MCl7Y29uc3Qgcj1lLmludm9rZTtlLmludm9rZT1mdW5jdGlvbigpe2NvbnN0IG49aVt0Ll9fc3ltYm9sX18oImxvYWRmYWxzZSIpXTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyluW3RdPT09ZSYmbi5zcGxpY2UodCwxKTtvLmFib3J0ZWR8fGUuc3RhdGUhPT1UfHxyLmNhbGwoZSl9LG4ucHVzaChlKX1lbHNlIGUuaW52b2tlKCl9ZWxzZSBvLmFib3J0ZWR8fCExIT09aVthXXx8KGlbbF09ITApfTtyZXR1cm4gcC5jYWxsKGksZyxoKSxpW25dfHwoaVtuXT1lKSx3LmFwcGx5KGksby5hcmdzKSxpW2FdPSEwLGV9ZnVuY3Rpb24gXygpe31mdW5jdGlvbiB2KGUpe2NvbnN0IHQ9ZS5kYXRhO3JldHVybiB0LmFib3J0ZWQ9ITAsTS5hcHBseSh0LnRhcmdldCx0LmFyZ3MpfWNvbnN0IGs9SChoLCJvcGVuIiwoKT0+ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVtvXT0wPT10WzJdLGVbaV09dFsxXSxrLmFwcGx5KGUsdCl9KSxFPWQoImZldGNoVGFza0Fib3J0aW5nIiksYj1kKCJmZXRjaFRhc2tTY2hlZHVsaW5nIiksdz1IKGgsInNlbmQiLCgpPT5mdW5jdGlvbihlLG4pe2lmKCEwPT09dC5jdXJyZW50W2JdKXJldHVybiB3LmFwcGx5KGUsbik7aWYoZVtvXSlyZXR1cm4gdy5hcHBseShlLG4pO3tjb25zdCB0PXt0YXJnZXQ6ZSx1cmw6ZVtpXSxpc1BlcmlvZGljOiExLGFyZ3M6bixhYm9ydGVkOiExfSxvPWYoIlhNTEh0dHBSZXF1ZXN0LnNlbmQiLF8sdCx5LHYpO2UmJiEwPT09ZVtsXSYmIXQuYWJvcnRlZCYmby5zdGF0ZT09PVQmJm8uaW52b2tlKCl9fSksTT1IKGgsImFib3J0IiwoKT0+ZnVuY3Rpb24oZSxvKXtjb25zdCByPWVbbl07aWYociYmInN0cmluZyI9PXR5cGVvZiByLnR5cGUpe2lmKG51bGw9PXIuY2FuY2VsRm58fHIuZGF0YSYmci5kYXRhLmFib3J0ZWQpcmV0dXJuO3Iuem9uZS5jYW5jZWxUYXNrKHIpfWVsc2UgaWYoITA9PT10LmN1cnJlbnRbRV0pcmV0dXJuIE0uYXBwbHkoZSxvKX0pfShlKTtjb25zdCBuPWQoInhoclRhc2siKSxvPWQoInhoclN5bmMiKSxyPWQoInhockxpc3RlbmVyIiksYT1kKCJ4aHJTY2hlZHVsZWQiKSxpPWQoInhoclVSTCIpLGw9ZCgieGhyRXJyb3JCZWZvcmVTY2hlZHVsZWQiKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJnZW9sb2NhdGlvbiIsdD0+e3QubmF2aWdhdG9yJiZ0Lm5hdmlnYXRvci5nZW9sb2NhdGlvbiYmZnVuY3Rpb24odCxuKXtjb25zdCBvPXQuY29uc3RydWN0b3IubmFtZTtmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrKyl7Y29uc3QgYT1uW3JdLGk9dFthXTtpZihpKXtpZighdihlKHQsYSkpKWNvbnRpbnVlO3RbYV09KGU9Pntjb25zdCB0PWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodGhpcyxfKGFyZ3VtZW50cyxvKyIuIithKSl9O3JldHVybiBQKHQsZSksdH0pKGkpfX19KHQubmF2aWdhdG9yLmdlb2xvY2F0aW9uLFsiZ2V0Q3VycmVudFBvc2l0aW9uIiwid2F0Y2hQb3NpdGlvbiJdKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJQcm9taXNlUmVqZWN0aW9uRXZlbnQiLChlLHQpPT57ZnVuY3Rpb24gbih0KXtyZXR1cm4gZnVuY3Rpb24obil7RyhlLHQpLmZvckVhY2gobz0+e2NvbnN0IHI9ZS5Qcm9taXNlUmVqZWN0aW9uRXZlbnQ7aWYocil7Y29uc3QgZT1uZXcgcih0LHtwcm9taXNlOm4ucHJvbWlzZSxyZWFzb246bi5yZWplY3Rpb259KTtvLmludm9rZShlKX19KX19ZS5Qcm9taXNlUmVqZWN0aW9uRXZlbnQmJih0W2QoInVuaGFuZGxlZFByb21pc2VSZWplY3Rpb25IYW5kbGVyIildPW4oInVuaGFuZGxlZHJlamVjdGlvbiIpLHRbZCgicmVqZWN0aW9uSGFuZGxlZEhhbmRsZXIiKV09bigicmVqZWN0aW9uaGFuZGxlZCIpKX0pfSw0NjU6KGUsdCxuKT0+eyJ1c2Ugc3RyaWN0IjtuKDE2NyksbigyMil9fSxlPT57InVzZSBzdHJpY3QiO2UoZS5zPTQ2NSl9XSk7KHNlbGYud2VicGFja0NodW5rcG9jX25nX2VsZW1lbnRzPXNlbGYud2VicGFja0NodW5rcG9jX25nX2VsZW1lbnRzfHxbXSkucHVzaChbWzE3OV0sezE5MDoodCxlLG4pPT57InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHR9bGV0IHM9ITE7Y29uc3QgaT17UHJvbWlzZTp2b2lkIDAsc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodCl7aWYodCl7Y29uc3QgdD1uZXcgRXJyb3I7Y29uc29sZS53YXJuKCJERVBSRUNBVEVEISBSeEpTIHdhcyBzZXQgdG8gdXNlIGRlcHJlY2F0ZWQgc3luY2hyb25vdXMgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IgYnkgY29kZSBhdDogXG4iK3Quc3RhY2spfWVsc2UgcyYmY29uc29sZS5sb2coIlJ4SlM6IEJhY2sgdG8gYSBiZXR0ZXIgZXJyb3IgYmVoYXZpb3IuIFRoYW5rIHlvdS4gPDMiKTtzPXR9LGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCl7cmV0dXJuIHN9fTtmdW5jdGlvbiBvKHQpe3NldFRpbWVvdXQoKCk9Pnt0aHJvdyB0fSwwKX1jb25zdCBhPXtjbG9zZWQ6ITAsbmV4dCh0KXt9LGVycm9yKHQpe2lmKGkudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyl0aHJvdyB0O28odCl9LGNvbXBsZXRlKCl7fX0sbD0oKCk9PkFycmF5LmlzQXJyYXl8fCh0PT50JiYibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoKSkoKTtmdW5jdGlvbiB1KHQpe3JldHVybiBudWxsIT09dCYmIm9iamVjdCI9PXR5cGVvZiB0fWNvbnN0IGM9KCgpPT57ZnVuY3Rpb24gdCh0KXtyZXR1cm4gRXJyb3IuY2FsbCh0aGlzKSx0aGlzLm1lc3NhZ2U9dD9gJHt0Lmxlbmd0aH0gZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcbiR7dC5tYXAoKHQsZSk9PmAke2UrMX0pICR7dC50b1N0cmluZygpfWApLmpvaW4oIlxuICAiKX1gOiIiLHRoaXMubmFtZT0iVW5zdWJzY3JpcHRpb25FcnJvciIsdGhpcy5lcnJvcnM9dCx0aGlzfXJldHVybiB0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksdH0pKCk7bGV0IGg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmNsb3NlZD0hMSx0aGlzLl9wYXJlbnRPclBhcmVudHM9bnVsbCx0aGlzLl9zdWJzY3JpcHRpb25zPW51bGwsdCYmKHRoaXMuX2N0b3JVbnN1YnNjcmliZT0hMCx0aGlzLl91bnN1YnNjcmliZT10KX11bnN1YnNjcmliZSgpe2xldCBlO2lmKHRoaXMuY2xvc2VkKXJldHVybjtsZXR7X3BhcmVudE9yUGFyZW50czpuLF9jdG9yVW5zdWJzY3JpYmU6cyxfdW5zdWJzY3JpYmU6aSxfc3Vic2NyaXB0aW9uczpvfT10aGlzO2lmKHRoaXMuY2xvc2VkPSEwLHRoaXMuX3BhcmVudE9yUGFyZW50cz1udWxsLHRoaXMuX3N1YnNjcmlwdGlvbnM9bnVsbCxuIGluc3RhbmNlb2YgdCluLnJlbW92ZSh0aGlzKTtlbHNlIGlmKG51bGwhPT1uKWZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7Kyt0KW5bdF0ucmVtb3ZlKHRoaXMpO2lmKHIoaSkpe3MmJih0aGlzLl91bnN1YnNjcmliZT12b2lkIDApO3RyeXtpLmNhbGwodGhpcyl9Y2F0Y2goYSl7ZT1hIGluc3RhbmNlb2YgYz9kKGEuZXJyb3JzKTpbYV19fWlmKGwobykpe2xldCB0PS0xLG49by5sZW5ndGg7Zm9yKDsrK3Q8bjspe2NvbnN0IG49b1t0XTtpZih1KG4pKXRyeXtuLnVuc3Vic2NyaWJlKCl9Y2F0Y2goYSl7ZT1lfHxbXSxhIGluc3RhbmNlb2YgYz9lPWUuY29uY2F0KGQoYS5lcnJvcnMpKTplLnB1c2goYSl9fX1pZihlKXRocm93IG5ldyBjKGUpfWFkZChlKXtsZXQgbj1lO2lmKCFlKXJldHVybiB0LkVNUFRZO3N3aXRjaCh0eXBlb2YgZSl7Y2FzZSJmdW5jdGlvbiI6bj1uZXcgdChlKTtjYXNlIm9iamVjdCI6aWYobj09PXRoaXN8fG4uY2xvc2VkfHwiZnVuY3Rpb24iIT10eXBlb2Ygbi51bnN1YnNjcmliZSlyZXR1cm4gbjtpZih0aGlzLmNsb3NlZClyZXR1cm4gbi51bnN1YnNjcmliZSgpLG47aWYoIShuIGluc3RhbmNlb2YgdCkpe2NvbnN0IGU9bjtuPW5ldyB0LG4uX3N1YnNjcmlwdGlvbnM9W2VdfWJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJ1bnJlY29nbml6ZWQgdGVhcmRvd24gIitlKyIgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLiIpfWxldHtfcGFyZW50T3JQYXJlbnRzOnJ9PW47aWYobnVsbD09PXIpbi5fcGFyZW50T3JQYXJlbnRzPXRoaXM7ZWxzZSBpZihyIGluc3RhbmNlb2YgdCl7aWYocj09PXRoaXMpcmV0dXJuIG47bi5fcGFyZW50T3JQYXJlbnRzPVtyLHRoaXNdfWVsc2V7aWYoLTEhPT1yLmluZGV4T2YodGhpcykpcmV0dXJuIG47ci5wdXNoKHRoaXMpfWNvbnN0IHM9dGhpcy5fc3Vic2NyaXB0aW9ucztyZXR1cm4gbnVsbD09PXM/dGhpcy5fc3Vic2NyaXB0aW9ucz1bbl06cy5wdXNoKG4pLG59cmVtb3ZlKHQpe2NvbnN0IGU9dGhpcy5fc3Vic2NyaXB0aW9ucztpZihlKXtjb25zdCBuPWUuaW5kZXhPZih0KTstMSE9PW4mJmUuc3BsaWNlKG4sMSl9fX1yZXR1cm4gdC5FTVBUWT1mdW5jdGlvbih0KXtyZXR1cm4gdC5jbG9zZWQ9ITAsdH0obmV3IHQpLHR9KSgpO2Z1bmN0aW9uIGQodCl7cmV0dXJuIHQucmVkdWNlKCh0LGUpPT50LmNvbmNhdChlIGluc3RhbmNlb2YgYz9lLmVycm9yczplKSxbXSl9Y29uc3QgcD0oKCk9PiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sKCJyeFN1YnNjcmliZXIiKToiQEByeFN1YnNjcmliZXJfIitNYXRoLnJhbmRvbSgpKSgpO2NsYXNzIGYgZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKHQsZSxuKXtzd2l0Y2goc3VwZXIoKSx0aGlzLnN5bmNFcnJvclZhbHVlPW51bGwsdGhpcy5zeW5jRXJyb3JUaHJvd249ITEsdGhpcy5zeW5jRXJyb3JUaHJvd2FibGU9ITEsdGhpcy5pc1N0b3BwZWQ9ITEsYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnRoaXMuZGVzdGluYXRpb249YTticmVhaztjYXNlIDE6aWYoIXQpe3RoaXMuZGVzdGluYXRpb249YTticmVha31pZigib2JqZWN0Ij09dHlwZW9mIHQpe3QgaW5zdGFuY2VvZiBmPyh0aGlzLnN5bmNFcnJvclRocm93YWJsZT10LnN5bmNFcnJvclRocm93YWJsZSx0aGlzLmRlc3RpbmF0aW9uPXQsdC5hZGQodGhpcykpOih0aGlzLnN5bmNFcnJvclRocm93YWJsZT0hMCx0aGlzLmRlc3RpbmF0aW9uPW5ldyBnKHRoaXMsdCkpO2JyZWFrfWRlZmF1bHQ6dGhpcy5zeW5jRXJyb3JUaHJvd2FibGU9ITAsdGhpcy5kZXN0aW5hdGlvbj1uZXcgZyh0aGlzLHQsZSxuKX19W3BdKCl7cmV0dXJuIHRoaXN9c3RhdGljIGNyZWF0ZSh0LGUsbil7Y29uc3Qgcj1uZXcgZih0LGUsbik7cmV0dXJuIHIuc3luY0Vycm9yVGhyb3dhYmxlPSExLHJ9bmV4dCh0KXt0aGlzLmlzU3RvcHBlZHx8dGhpcy5fbmV4dCh0KX1lcnJvcih0KXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMuX2Vycm9yKHQpKX1jb21wbGV0ZSgpe3RoaXMuaXNTdG9wcGVkfHwodGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5fY29tcGxldGUoKSl9dW5zdWJzY3JpYmUoKXt0aGlzLmNsb3NlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHN1cGVyLnVuc3Vic2NyaWJlKCkpfV9uZXh0KHQpe3RoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1fZXJyb3IodCl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KSx0aGlzLnVuc3Vic2NyaWJlKCl9X2NvbXBsZXRlKCl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX1fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlKCl7Y29uc3R7X3BhcmVudE9yUGFyZW50czp0fT10aGlzO3JldHVybiB0aGlzLl9wYXJlbnRPclBhcmVudHM9bnVsbCx0aGlzLnVuc3Vic2NyaWJlKCksdGhpcy5jbG9zZWQ9ITEsdGhpcy5pc1N0b3BwZWQ9ITEsdGhpcy5fcGFyZW50T3JQYXJlbnRzPXQsdGhpc319Y2xhc3MgZyBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4scyl7bGV0IGk7c3VwZXIoKSx0aGlzLl9wYXJlbnRTdWJzY3JpYmVyPXQ7bGV0IG89dGhpcztyKGUpP2k9ZTplJiYoaT1lLm5leHQsbj1lLmVycm9yLHM9ZS5jb21wbGV0ZSxlIT09YSYmKG89T2JqZWN0LmNyZWF0ZShlKSxyKG8udW5zdWJzY3JpYmUpJiZ0aGlzLmFkZChvLnVuc3Vic2NyaWJlLmJpbmQobykpLG8udW5zdWJzY3JpYmU9dGhpcy51bnN1YnNjcmliZS5iaW5kKHRoaXMpKSksdGhpcy5fY29udGV4dD1vLHRoaXMuX25leHQ9aSx0aGlzLl9lcnJvcj1uLHRoaXMuX2NvbXBsZXRlPXN9bmV4dCh0KXtpZighdGhpcy5pc1N0b3BwZWQmJnRoaXMuX25leHQpe2NvbnN0e19wYXJlbnRTdWJzY3JpYmVyOmV9PXRoaXM7aS51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nJiZlLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9fdHJ5T3JTZXRFcnJvcihlLHRoaXMuX25leHQsdCkmJnRoaXMudW5zdWJzY3JpYmUoKTp0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9uZXh0LHQpfX1lcnJvcih0KXtpZighdGhpcy5pc1N0b3BwZWQpe2NvbnN0e19wYXJlbnRTdWJzY3JpYmVyOmV9PXRoaXMse3VzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc6bn09aTtpZih0aGlzLl9lcnJvciluJiZlLnN5bmNFcnJvclRocm93YWJsZT8odGhpcy5fX3RyeU9yU2V0RXJyb3IoZSx0aGlzLl9lcnJvcix0KSx0aGlzLnVuc3Vic2NyaWJlKCkpOih0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvcix0KSx0aGlzLnVuc3Vic2NyaWJlKCkpO2Vsc2UgaWYoZS5zeW5jRXJyb3JUaHJvd2FibGUpbj8oZS5zeW5jRXJyb3JWYWx1ZT10LGUuc3luY0Vycm9yVGhyb3duPSEwKTpvKHQpLHRoaXMudW5zdWJzY3JpYmUoKTtlbHNle2lmKHRoaXMudW5zdWJzY3JpYmUoKSxuKXRocm93IHQ7byh0KX19fWNvbXBsZXRlKCl7aWYoIXRoaXMuaXNTdG9wcGVkKXtjb25zdHtfcGFyZW50U3Vic2NyaWJlcjp0fT10aGlzO2lmKHRoaXMuX2NvbXBsZXRlKXtjb25zdCBlPSgpPT50aGlzLl9jb21wbGV0ZS5jYWxsKHRoaXMuX2NvbnRleHQpO2kudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyYmdC5zeW5jRXJyb3JUaHJvd2FibGU/KHRoaXMuX190cnlPclNldEVycm9yKHQsZSksdGhpcy51bnN1YnNjcmliZSgpKToodGhpcy5fX3RyeU9yVW5zdWIoZSksdGhpcy51bnN1YnNjcmliZSgpKX1lbHNlIHRoaXMudW5zdWJzY3JpYmUoKX19X190cnlPclVuc3ViKHQsZSl7dHJ5e3QuY2FsbCh0aGlzLl9jb250ZXh0LGUpfWNhdGNoKG4pe2lmKHRoaXMudW5zdWJzY3JpYmUoKSxpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgbjtvKG4pfX1fX3RyeU9yU2V0RXJyb3IodCxlLG4pe2lmKCFpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgbmV3IEVycm9yKCJiYWQgY2FsbCIpO3RyeXtlLmNhbGwodGhpcy5fY29udGV4dCxuKX1jYXRjaChyKXtyZXR1cm4gaS51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nPyh0LnN5bmNFcnJvclZhbHVlPXIsdC5zeW5jRXJyb3JUaHJvd249ITAsITApOihvKHIpLCEwKX1yZXR1cm4hMX1fdW5zdWJzY3JpYmUoKXtjb25zdHtfcGFyZW50U3Vic2NyaWJlcjp0fT10aGlzO3RoaXMuX2NvbnRleHQ9bnVsbCx0aGlzLl9wYXJlbnRTdWJzY3JpYmVyPW51bGwsdC51bnN1YnNjcmliZSgpfX1jb25zdCBtPSgoKT0+ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLm9ic2VydmFibGV8fCJAQG9ic2VydmFibGUiKSgpO2Z1bmN0aW9uIHkodCl7cmV0dXJuIHR9bGV0IHY9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pc1NjYWxhcj0hMSx0JiYodGhpcy5fc3Vic2NyaWJlPXQpfWxpZnQoZSl7Y29uc3Qgbj1uZXcgdDtyZXR1cm4gbi5zb3VyY2U9dGhpcyxuLm9wZXJhdG9yPWUsbn1zdWJzY3JpYmUodCxlLG4pe2NvbnN0e29wZXJhdG9yOnJ9PXRoaXMscz1mdW5jdGlvbih0LGUsbil7aWYodCl7aWYodCBpbnN0YW5jZW9mIGYpcmV0dXJuIHQ7aWYodFtwXSlyZXR1cm4gdFtwXSgpfXJldHVybiB0fHxlfHxuP25ldyBmKHQsZSxuKTpuZXcgZihhKX0odCxlLG4pO2lmKHMuYWRkKHI/ci5jYWxsKHMsdGhpcy5zb3VyY2UpOnRoaXMuc291cmNlfHxpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJiFzLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9zdWJzY3JpYmUocyk6dGhpcy5fdHJ5U3Vic2NyaWJlKHMpKSxpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJnMuc3luY0Vycm9yVGhyb3dhYmxlJiYocy5zeW5jRXJyb3JUaHJvd2FibGU9ITEscy5zeW5jRXJyb3JUaHJvd24pKXRocm93IHMuc3luY0Vycm9yVmFsdWU7cmV0dXJuIHN9X3RyeVN1YnNjcmliZSh0KXt0cnl7cmV0dXJuIHRoaXMuX3N1YnNjcmliZSh0KX1jYXRjaChlKXtpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJih0LnN5bmNFcnJvclRocm93bj0hMCx0LnN5bmNFcnJvclZhbHVlPWUpLGZ1bmN0aW9uKHQpe2Zvcig7dDspe2NvbnN0e2Nsb3NlZDplLGRlc3RpbmF0aW9uOm4saXNTdG9wcGVkOnJ9PXQ7aWYoZXx8cilyZXR1cm4hMTt0PW4mJm4gaW5zdGFuY2VvZiBmP246bnVsbH1yZXR1cm4hMH0odCk/dC5lcnJvcihlKTpjb25zb2xlLndhcm4oZSl9fWZvckVhY2godCxlKXtyZXR1cm4gbmV3KGU9YihlKSkoKGUsbik9PntsZXQgcjtyPXRoaXMuc3Vic2NyaWJlKGU9Pnt0cnl7dChlKX1jYXRjaChzKXtuKHMpLHImJnIudW5zdWJzY3JpYmUoKX19LG4sZSl9KX1fc3Vic2NyaWJlKHQpe2NvbnN0e3NvdXJjZTplfT10aGlzO3JldHVybiBlJiZlLnN1YnNjcmliZSh0KX1bbV0oKXtyZXR1cm4gdGhpc31waXBlKC4uLnQpe3JldHVybiAwPT09dC5sZW5ndGg/dGhpczooMD09PShlPXQpLmxlbmd0aD95OjE9PT1lLmxlbmd0aD9lWzBdOmZ1bmN0aW9uKHQpe3JldHVybiBlLnJlZHVjZSgodCxlKT0+ZSh0KSx0KX0pKHRoaXMpO3ZhciBlfXRvUHJvbWlzZSh0KXtyZXR1cm4gbmV3KHQ9Yih0KSkoKHQsZSk9PntsZXQgbjt0aGlzLnN1YnNjcmliZSh0PT5uPXQsdD0+ZSh0KSwoKT0+dChuKSl9KX19cmV0dXJuIHQuY3JlYXRlPWU9Pm5ldyB0KGUpLHR9KSgpO2Z1bmN0aW9uIGIodCl7aWYodHx8KHQ9aS5Qcm9taXNlfHxQcm9taXNlKSwhdCl0aHJvdyBuZXcgRXJyb3IoIm5vIFByb21pc2UgaW1wbCBmb3VuZCIpO3JldHVybiB0fWNvbnN0IHc9KCgpPT57ZnVuY3Rpb24gdCgpe3JldHVybiBFcnJvci5jYWxsKHRoaXMpLHRoaXMubWVzc2FnZT0ib2JqZWN0IHVuc3Vic2NyaWJlZCIsdGhpcy5uYW1lPSJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsdGhpc31yZXR1cm4gdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLHR9KSgpO2NsYXNzIF8gZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLnN1YmplY3Q9dCx0aGlzLnN1YnNjcmliZXI9ZSx0aGlzLmNsb3NlZD0hMX11bnN1YnNjcmliZSgpe2lmKHRoaXMuY2xvc2VkKXJldHVybjt0aGlzLmNsb3NlZD0hMDtjb25zdCB0PXRoaXMuc3ViamVjdCxlPXQub2JzZXJ2ZXJzO2lmKHRoaXMuc3ViamVjdD1udWxsLCFlfHwwPT09ZS5sZW5ndGh8fHQuaXNTdG9wcGVkfHx0LmNsb3NlZClyZXR1cm47Y29uc3Qgbj1lLmluZGV4T2YodGhpcy5zdWJzY3JpYmVyKTstMSE9PW4mJmUuc3BsaWNlKG4sMSl9fWNsYXNzIEMgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZGVzdGluYXRpb249dH19bGV0IEQ9KCgpPT57Y2xhc3MgdCBleHRlbmRzIHZ7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMub2JzZXJ2ZXJzPVtdLHRoaXMuY2xvc2VkPSExLHRoaXMuaXNTdG9wcGVkPSExLHRoaXMuaGFzRXJyb3I9ITEsdGhpcy50aHJvd25FcnJvcj1udWxsfVtwXSgpe3JldHVybiBuZXcgQyh0aGlzKX1saWZ0KHQpe2NvbnN0IGU9bmV3IEUodGhpcyx0aGlzKTtyZXR1cm4gZS5vcGVyYXRvcj10LGV9bmV4dCh0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgdztpZighdGhpcy5pc1N0b3BwZWQpe2NvbnN0e29ic2VydmVyczplfT10aGlzLG49ZS5sZW5ndGgscj1lLnNsaWNlKCk7Zm9yKGxldCBzPTA7czxuO3MrKylyW3NdLm5leHQodCl9fWVycm9yKHQpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyB3O3RoaXMuaGFzRXJyb3I9ITAsdGhpcy50aHJvd25FcnJvcj10LHRoaXMuaXNTdG9wcGVkPSEwO2NvbnN0e29ic2VydmVyczplfT10aGlzLG49ZS5sZW5ndGgscj1lLnNsaWNlKCk7Zm9yKGxldCBzPTA7czxuO3MrKylyW3NdLmVycm9yKHQpO3RoaXMub2JzZXJ2ZXJzLmxlbmd0aD0wfWNvbXBsZXRlKCl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IHc7dGhpcy5pc1N0b3BwZWQ9ITA7Y29uc3R7b2JzZXJ2ZXJzOnR9PXRoaXMsZT10Lmxlbmd0aCxuPXQuc2xpY2UoKTtmb3IobGV0IHI9MDtyPGU7cisrKW5bcl0uY29tcGxldGUoKTt0aGlzLm9ic2VydmVycy5sZW5ndGg9MH11bnN1YnNjcmliZSgpe3RoaXMuaXNTdG9wcGVkPSEwLHRoaXMuY2xvc2VkPSEwLHRoaXMub2JzZXJ2ZXJzPW51bGx9X3RyeVN1YnNjcmliZSh0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgdztyZXR1cm4gc3VwZXIuX3RyeVN1YnNjcmliZSh0KX1fc3Vic2NyaWJlKHQpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyB3O3JldHVybiB0aGlzLmhhc0Vycm9yPyh0LmVycm9yKHRoaXMudGhyb3duRXJyb3IpLGguRU1QVFkpOnRoaXMuaXNTdG9wcGVkPyh0LmNvbXBsZXRlKCksaC5FTVBUWSk6KHRoaXMub2JzZXJ2ZXJzLnB1c2godCksbmV3IF8odGhpcyx0KSl9YXNPYnNlcnZhYmxlKCl7Y29uc3QgdD1uZXcgdjtyZXR1cm4gdC5zb3VyY2U9dGhpcyx0fX1yZXR1cm4gdC5jcmVhdGU9KHQsZSk9Pm5ldyBFKHQsZSksdH0pKCk7Y2xhc3MgRSBleHRlbmRzIER7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMuZGVzdGluYXRpb249dCx0aGlzLnNvdXJjZT1lfW5leHQodCl7Y29uc3R7ZGVzdGluYXRpb246ZX09dGhpcztlJiZlLm5leHQmJmUubmV4dCh0KX1lcnJvcih0KXtjb25zdHtkZXN0aW5hdGlvbjplfT10aGlzO2UmJmUuZXJyb3ImJnRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9Y29tcGxldGUoKXtjb25zdHtkZXN0aW5hdGlvbjp0fT10aGlzO3QmJnQuY29tcGxldGUmJnRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX1fc3Vic2NyaWJlKHQpe2NvbnN0e3NvdXJjZTplfT10aGlzO3JldHVybiBlP3RoaXMuc291cmNlLnN1YnNjcmliZSh0KTpoLkVNUFRZfX1mdW5jdGlvbiBBKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5zY2hlZHVsZX1mdW5jdGlvbiBTKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoImFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLiBBcmUgeW91IGxvb2tpbmcgZm9yIGBtYXBUbygpYD8iKTtyZXR1cm4gbi5saWZ0KG5ldyB4KHQsZSkpfX1jbGFzcyB4e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5wcm9qZWN0PXQsdGhpcy50aGlzQXJnPWV9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgayh0LHRoaXMucHJvamVjdCx0aGlzLnRoaXNBcmcpKX19Y2xhc3MgayBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQpLHRoaXMucHJvamVjdD1lLHRoaXMuY291bnQ9MCx0aGlzLnRoaXNBcmc9bnx8dGhpc31fbmV4dCh0KXtsZXQgZTt0cnl7ZT10aGlzLnByb2plY3QuY2FsbCh0aGlzLnRoaXNBcmcsdCx0aGlzLmNvdW50KyspfWNhdGNoKG4pe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iobil9dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpfX1jb25zdCBUPXQ9PmU9Pntmb3IobGV0IG49MCxyPXQubGVuZ3RoO248ciYmIWUuY2xvc2VkO24rKyllLm5leHQodFtuXSk7ZS5jb21wbGV0ZSgpfTtmdW5jdGlvbiBGKCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yP1N5bWJvbC5pdGVyYXRvcjoiQEBpdGVyYXRvciJ9Y29uc3QgTz1GKCksUD10PT50JiYibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoJiYiZnVuY3Rpb24iIT10eXBlb2YgdDtmdW5jdGlvbiBJKHQpe3JldHVybiEhdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQuc3Vic2NyaWJlJiYiZnVuY3Rpb24iPT10eXBlb2YgdC50aGVufWNvbnN0IFI9dD0+e2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W21dKXJldHVybiBuPXQsdD0+e2NvbnN0IGU9blttXSgpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlLnN1YnNjcmliZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZSIpO3JldHVybiBlLnN1YnNjcmliZSh0KX07aWYoUCh0KSlyZXR1cm4gVCh0KTtpZihJKHQpKXJldHVybih0PT5lPT4odC50aGVuKHQ9PntlLmNsb3NlZHx8KGUubmV4dCh0KSxlLmNvbXBsZXRlKCkpfSx0PT5lLmVycm9yKHQpKS50aGVuKG51bGwsbyksZSkpKHQpO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W09dKXJldHVybiBlPXQsdD0+e2NvbnN0IG49ZVtPXSgpO2Zvcig7Oyl7bGV0IGU7dHJ5e2U9bi5uZXh0KCl9Y2F0Y2gocil7cmV0dXJuIHQuZXJyb3IociksdH1pZihlLmRvbmUpe3QuY29tcGxldGUoKTticmVha31pZih0Lm5leHQoZS52YWx1ZSksdC5jbG9zZWQpYnJlYWt9cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG4ucmV0dXJuJiZ0LmFkZCgoKT0+e24ucmV0dXJuJiZuLnJldHVybigpfSksdH07e2NvbnN0IGU9dSh0KT8iYW4gaW52YWxpZCBvYmplY3QiOmAnJHt0fSdgO3Rocm93IG5ldyBUeXBlRXJyb3IoYFlvdSBwcm92aWRlZCAke2V9IHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIEFycmF5LCBvciBJdGVyYWJsZS5gKX12YXIgZSxufTtmdW5jdGlvbiBNKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPW5ldyBoO2xldCBzPTA7cmV0dXJuIHIuYWRkKGUuc2NoZWR1bGUoZnVuY3Rpb24oKXtzIT09dC5sZW5ndGg/KG4ubmV4dCh0W3MrK10pLG4uY2xvc2VkfHxyLmFkZCh0aGlzLnNjaGVkdWxlKCkpKTpuLmNvbXBsZXRlKCl9KSkscn0pfWZ1bmN0aW9uIGoodCxlKXtyZXR1cm4gZT9mdW5jdGlvbih0LGUpe2lmKG51bGwhPXQpe2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdFttXX0odCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPW5ldyBoO3JldHVybiByLmFkZChlLnNjaGVkdWxlKCgpPT57Y29uc3Qgcz10W21dKCk7ci5hZGQocy5zdWJzY3JpYmUoe25leHQodCl7ci5hZGQoZS5zY2hlZHVsZSgoKT0+bi5uZXh0KHQpKSl9LGVycm9yKHQpe3IuYWRkKGUuc2NoZWR1bGUoKCk9Pm4uZXJyb3IodCkpKX0sY29tcGxldGUoKXtyLmFkZChlLnNjaGVkdWxlKCgpPT5uLmNvbXBsZXRlKCkpKX19KSl9KSkscn0pfSh0LGUpO2lmKEkodCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPW5ldyBoO3JldHVybiByLmFkZChlLnNjaGVkdWxlKCgpPT50LnRoZW4odD0+e3IuYWRkKGUuc2NoZWR1bGUoKCk9PntuLm5leHQodCksci5hZGQoZS5zY2hlZHVsZSgoKT0+bi5jb21wbGV0ZSgpKSl9KSl9LHQ9PntyLmFkZChlLnNjaGVkdWxlKCgpPT5uLmVycm9yKHQpKSl9KSkpLHJ9KX0odCxlKTtpZihQKHQpKXJldHVybiBNKHQsZSk7aWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W09dfSh0KXx8InN0cmluZyI9PXR5cGVvZiB0KXJldHVybiBmdW5jdGlvbih0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcigiSXRlcmFibGUgY2Fubm90IGJlIG51bGwiKTtyZXR1cm4gbmV3IHYobj0+e2NvbnN0IHI9bmV3IGg7bGV0IHM7cmV0dXJuIHIuYWRkKCgpPT57cyYmImZ1bmN0aW9uIj09dHlwZW9mIHMucmV0dXJuJiZzLnJldHVybigpfSksci5hZGQoZS5zY2hlZHVsZSgoKT0+e3M9dFtPXSgpLHIuYWRkKGUuc2NoZWR1bGUoZnVuY3Rpb24oKXtpZihuLmNsb3NlZClyZXR1cm47bGV0IHQsZTt0cnl7Y29uc3Qgbj1zLm5leHQoKTt0PW4udmFsdWUsZT1uLmRvbmV9Y2F0Y2gocil7cmV0dXJuIHZvaWQgbi5lcnJvcihyKX1lP24uY29tcGxldGUoKToobi5uZXh0KHQpLHRoaXMuc2NoZWR1bGUoKSl9KSl9KSkscn0pfSh0LGUpfXRocm93IG5ldyBUeXBlRXJyb3IoKG51bGwhPT10JiZ0eXBlb2YgdHx8dCkrIiBpcyBub3Qgb2JzZXJ2YWJsZSIpfSh0LGUpOnQgaW5zdGFuY2VvZiB2P3Q6bmV3IHYoUih0KSl9Y2xhc3MgTiBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnBhcmVudD10fV9uZXh0KHQpe3RoaXMucGFyZW50Lm5vdGlmeU5leHQodCl9X2Vycm9yKHQpe3RoaXMucGFyZW50Lm5vdGlmeUVycm9yKHQpLHRoaXMudW5zdWJzY3JpYmUoKX1fY29tcGxldGUoKXt0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX19Y2xhc3MgViBleHRlbmRzIGZ7bm90aWZ5TmV4dCh0KXt0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9bm90aWZ5RXJyb3IodCl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX1ub3RpZnlDb21wbGV0ZSgpe3RoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX19ZnVuY3Rpb24gTCh0LGUpe2lmKGUuY2xvc2VkKXJldHVybjtpZih0IGluc3RhbmNlb2YgdilyZXR1cm4gdC5zdWJzY3JpYmUoZSk7bGV0IG47dHJ5e249Uih0KShlKX1jYXRjaChyKXtlLmVycm9yKHIpfXJldHVybiBufWZ1bmN0aW9uIEIodCxlLG49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9yPT5yLnBpcGUoQigobixyKT0+aih0KG4scikpLnBpcGUoUygodCxzKT0+ZShuLHQscixzKSkpLG4pKTooIm51bWJlciI9PXR5cGVvZiBlJiYobj1lKSxlPT5lLmxpZnQobmV3IFUodCxuKSkpfWNsYXNzIFV7Y29uc3RydWN0b3IodCxlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSl7dGhpcy5wcm9qZWN0PXQsdGhpcy5jb25jdXJyZW50PWV9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgSCh0LHRoaXMucHJvamVjdCx0aGlzLmNvbmN1cnJlbnQpKX19Y2xhc3MgSCBleHRlbmRzIFZ7Y29uc3RydWN0b3IodCxlLG49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXtzdXBlcih0KSx0aGlzLnByb2plY3Q9ZSx0aGlzLmNvbmN1cnJlbnQ9bix0aGlzLmhhc0NvbXBsZXRlZD0hMSx0aGlzLmJ1ZmZlcj1bXSx0aGlzLmFjdGl2ZT0wLHRoaXMuaW5kZXg9MH1fbmV4dCh0KXt0aGlzLmFjdGl2ZTx0aGlzLmNvbmN1cnJlbnQ/dGhpcy5fdHJ5TmV4dCh0KTp0aGlzLmJ1ZmZlci5wdXNoKHQpfV90cnlOZXh0KHQpe2xldCBlO2NvbnN0IG49dGhpcy5pbmRleCsrO3RyeXtlPXRoaXMucHJvamVjdCh0LG4pfWNhdGNoKHIpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iocil9dGhpcy5hY3RpdmUrKyx0aGlzLl9pbm5lclN1YihlKX1faW5uZXJTdWIodCl7Y29uc3QgZT1uZXcgTih0aGlzKSxuPXRoaXMuZGVzdGluYXRpb247bi5hZGQoZSk7Y29uc3Qgcj1MKHQsZSk7ciE9PWUmJm4uYWRkKHIpfV9jb21wbGV0ZSgpe3RoaXMuaGFzQ29tcGxldGVkPSEwLDA9PT10aGlzLmFjdGl2ZSYmMD09PXRoaXMuYnVmZmVyLmxlbmd0aCYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX1ub3RpZnlOZXh0KHQpe3RoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1ub3RpZnlDb21wbGV0ZSgpe2NvbnN0IHQ9dGhpcy5idWZmZXI7dGhpcy5hY3RpdmUtLSx0Lmxlbmd0aD4wP3RoaXMuX25leHQodC5zaGlmdCgpKTowPT09dGhpcy5hY3RpdmUmJnRoaXMuaGFzQ29tcGxldGVkJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9fWZ1bmN0aW9uICQodD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpe3JldHVybiBCKHksdCl9ZnVuY3Rpb24geih0LGUpe3JldHVybiBlP00odCxlKTpuZXcgdihUKHQpKX1mdW5jdGlvbiBxKC4uLnQpe2xldCBlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxuPW51bGwscj10W3QubGVuZ3RoLTFdO3JldHVybiBBKHIpPyhuPXQucG9wKCksdC5sZW5ndGg+MSYmIm51bWJlciI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdJiYoZT10LnBvcCgpKSk6Im51bWJlciI9PXR5cGVvZiByJiYoZT10LnBvcCgpKSxudWxsPT09biYmMT09PXQubGVuZ3RoJiZ0WzBdaW5zdGFuY2VvZiB2P3RbMF06JChlKSh6KHQsbikpfWZ1bmN0aW9uIFcoKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQubGlmdChuZXcgRyh0KSl9fWNsYXNzIEd7Y29uc3RydWN0b3IodCl7dGhpcy5jb25uZWN0YWJsZT10fWNhbGwodCxlKXtjb25zdHtjb25uZWN0YWJsZTpufT10aGlzO24uX3JlZkNvdW50Kys7Y29uc3Qgcj1uZXcgWih0LG4pLHM9ZS5zdWJzY3JpYmUocik7cmV0dXJuIHIuY2xvc2VkfHwoci5jb25uZWN0aW9uPW4uY29ubmVjdCgpKSxzfX1jbGFzcyBaIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuY29ubmVjdGFibGU9ZX1fdW5zdWJzY3JpYmUoKXtjb25zdHtjb25uZWN0YWJsZTp0fT10aGlzO2lmKCF0KXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTt0aGlzLmNvbm5lY3RhYmxlPW51bGw7Y29uc3QgZT10Ll9yZWZDb3VudDtpZihlPD0wKXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTtpZih0Ll9yZWZDb3VudD1lLTEsZT4xKXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTtjb25zdHtjb25uZWN0aW9uOm59PXRoaXMscj10Ll9jb25uZWN0aW9uO3RoaXMuY29ubmVjdGlvbj1udWxsLCFyfHxuJiZyIT09bnx8ci51bnN1YnNjcmliZSgpfX1jbGFzcyBLIGV4dGVuZHMgdntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5zb3VyY2U9dCx0aGlzLnN1YmplY3RGYWN0b3J5PWUsdGhpcy5fcmVmQ291bnQ9MCx0aGlzLl9pc0NvbXBsZXRlPSExfV9zdWJzY3JpYmUodCl7cmV0dXJuIHRoaXMuZ2V0U3ViamVjdCgpLnN1YnNjcmliZSh0KX1nZXRTdWJqZWN0KCl7Y29uc3QgdD10aGlzLl9zdWJqZWN0O3JldHVybiB0JiYhdC5pc1N0b3BwZWR8fCh0aGlzLl9zdWJqZWN0PXRoaXMuc3ViamVjdEZhY3RvcnkoKSksdGhpcy5fc3ViamVjdH1jb25uZWN0KCl7bGV0IHQ9dGhpcy5fY29ubmVjdGlvbjtyZXR1cm4gdHx8KHRoaXMuX2lzQ29tcGxldGU9ITEsdD10aGlzLl9jb25uZWN0aW9uPW5ldyBoLHQuYWRkKHRoaXMuc291cmNlLnN1YnNjcmliZShuZXcgUSh0aGlzLmdldFN1YmplY3QoKSx0aGlzKSkpLHQuY2xvc2VkJiYodGhpcy5fY29ubmVjdGlvbj1udWxsLHQ9aC5FTVBUWSkpLHR9cmVmQ291bnQoKXtyZXR1cm4gVygpKHRoaXMpfX1jb25zdCBZPSgoKT0+e2NvbnN0IHQ9Sy5wcm90b3R5cGU7cmV0dXJue29wZXJhdG9yOnt2YWx1ZTpudWxsfSxfcmVmQ291bnQ6e3ZhbHVlOjAsd3JpdGFibGU6ITB9LF9zdWJqZWN0Ont2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSxfY29ubmVjdGlvbjp7dmFsdWU6bnVsbCx3cml0YWJsZTohMH0sX3N1YnNjcmliZTp7dmFsdWU6dC5fc3Vic2NyaWJlfSxfaXNDb21wbGV0ZTp7dmFsdWU6dC5faXNDb21wbGV0ZSx3cml0YWJsZTohMH0sZ2V0U3ViamVjdDp7dmFsdWU6dC5nZXRTdWJqZWN0fSxjb25uZWN0Ont2YWx1ZTp0LmNvbm5lY3R9LHJlZkNvdW50Ont2YWx1ZTp0LnJlZkNvdW50fX19KSgpO2NsYXNzIFEgZXh0ZW5kcyBDe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5jb25uZWN0YWJsZT1lfV9lcnJvcih0KXt0aGlzLl91bnN1YnNjcmliZSgpLHN1cGVyLl9lcnJvcih0KX1fY29tcGxldGUoKXt0aGlzLmNvbm5lY3RhYmxlLl9pc0NvbXBsZXRlPSEwLHRoaXMuX3Vuc3Vic2NyaWJlKCksc3VwZXIuX2NvbXBsZXRlKCl9X3Vuc3Vic2NyaWJlKCl7Y29uc3QgdD10aGlzLmNvbm5lY3RhYmxlO2lmKHQpe3RoaXMuY29ubmVjdGFibGU9bnVsbDtjb25zdCBlPXQuX2Nvbm5lY3Rpb247dC5fcmVmQ291bnQ9MCx0Ll9zdWJqZWN0PW51bGwsdC5fY29ubmVjdGlvbj1udWxsLGUmJmUudW5zdWJzY3JpYmUoKX19fWZ1bmN0aW9uIFgoKXtyZXR1cm4gbmV3IER9ZnVuY3Rpb24gSih0KXtmb3IobGV0IGUgaW4gdClpZih0W2VdPT09SilyZXR1cm4gZTt0aHJvdyBFcnJvcigiQ291bGQgbm90IGZpbmQgcmVuYW1lZCBwcm9wZXJ0eSBvbiB0YXJnZXQgb2JqZWN0LiIpfWZ1bmN0aW9uIHR0KHQsZSl7Zm9yKGNvbnN0IG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYhdC5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9ZnVuY3Rpb24gZXQodCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIlsiK3QubWFwKGV0KS5qb2luKCIsICIpKyJdIjtpZihudWxsPT10KXJldHVybiIiK3Q7aWYodC5vdmVycmlkZGVuTmFtZSlyZXR1cm5gJHt0Lm92ZXJyaWRkZW5OYW1lfWA7aWYodC5uYW1lKXJldHVybmAke3QubmFtZX1gO2NvbnN0IGU9dC50b1N0cmluZygpO2lmKG51bGw9PWUpcmV0dXJuIiIrZTtjb25zdCBuPWUuaW5kZXhPZigiXG4iKTtyZXR1cm4tMT09PW4/ZTplLnN1YnN0cmluZygwLG4pfWZ1bmN0aW9uIG50KHQsZSl7cmV0dXJuIG51bGw9PXR8fCIiPT09dD9udWxsPT09ZT8iIjplOm51bGw9PWV8fCIiPT09ZT90OnQrIiAiK2V9Y29uc3QgcnQ9Sih7X19mb3J3YXJkX3JlZl9fOkp9KTtmdW5jdGlvbiBzdCh0KXtyZXR1cm4gdC5fX2ZvcndhcmRfcmVmX189c3QsdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBldCh0aGlzKCkpfSx0fWZ1bmN0aW9uIGl0KHQpe3JldHVybiBvdCh0KT90KCk6dH1mdW5jdGlvbiBvdCh0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdCYmdC5oYXNPd25Qcm9wZXJ0eShydCkmJnQuX19mb3J3YXJkX3JlZl9fPT09c3R9Y2xhc3MgYXQgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGZ1bmN0aW9uKHQsZSl7cmV0dXJuYCR7dD9gTkcwJHt0fTogYDoiIn0ke2V9YH0odCxlKSksdGhpcy5jb2RlPXR9fWZ1bmN0aW9uIGx0KHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90Om51bGw9PXQ/IiI6U3RyaW5nKHQpfWZ1bmN0aW9uIHV0KHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0P3QubmFtZXx8dC50b1N0cmluZygpOiJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9dCYmImZ1bmN0aW9uIj09dHlwZW9mIHQudHlwZT90LnR5cGUubmFtZXx8dC50eXBlLnRvU3RyaW5nKCk6bHQodCl9ZnVuY3Rpb24gY3QodCxlKXtjb25zdCBuPWU/YCBpbiAke2V9YDoiIjt0aHJvdyBuZXcgYXQoIjIwMSIsYE5vIHByb3ZpZGVyIGZvciAke3V0KHQpfSBmb3VuZCR7bn1gKX1mdW5jdGlvbiBodCh0KXtyZXR1cm57dG9rZW46dC50b2tlbixwcm92aWRlZEluOnQucHJvdmlkZWRJbnx8bnVsbCxmYWN0b3J5OnQuZmFjdG9yeSx2YWx1ZTp2b2lkIDB9fWZ1bmN0aW9uIGR0KHQpe3JldHVybntwcm92aWRlcnM6dC5wcm92aWRlcnN8fFtdLGltcG9ydHM6dC5pbXBvcnRzfHxbXX19ZnVuY3Rpb24gcHQodCl7cmV0dXJuIGZ0KHQsbXQpfHxmdCh0LHZ0KX1mdW5jdGlvbiBmdCh0LGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpP3RbZV06bnVsbH1mdW5jdGlvbiBndCh0KXtyZXR1cm4gdCYmKHQuaGFzT3duUHJvcGVydHkoeXQpfHx0Lmhhc093blByb3BlcnR5KGJ0KSk/dFt5dF06bnVsbH1jb25zdCBtdD1KKHsiXHUwMjc1cHJvdiI6Sn0pLHl0PUooeyJcdTAyNzVpbmoiOkp9KSx2dD1KKHtuZ0luamVjdGFibGVEZWY6Sn0pLGJ0PUooe25nSW5qZWN0b3JEZWY6Sn0pO3ZhciB3dD1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkRlZmF1bHQ9MF09IkRlZmF1bHQiLHRbdC5Ib3N0PTFdPSJIb3N0Iix0W3QuU2VsZj0yXT0iU2VsZiIsdFt0LlNraXBTZWxmPTRdPSJTa2lwU2VsZiIsdFt0Lk9wdGlvbmFsPThdPSJPcHRpb25hbCIsdH0oe30pO2xldCBfdDtmdW5jdGlvbiBDdCh0KXtjb25zdCBlPV90O3JldHVybiBfdD10LGV9ZnVuY3Rpb24gRHQodCxlLG4pe2NvbnN0IHI9cHQodCk7cmV0dXJuIHImJiJyb290Ij09ci5wcm92aWRlZEluP3ZvaWQgMD09PXIudmFsdWU/ci52YWx1ZT1yLmZhY3RvcnkoKTpyLnZhbHVlOm4md3QuT3B0aW9uYWw/bnVsbDp2b2lkIDAhPT1lP2U6dm9pZCBjdChldCh0KSwiSW5qZWN0b3IiKX1mdW5jdGlvbiBFdCh0KXtyZXR1cm57dG9TdHJpbmc6dH0udG9TdHJpbmcoKX12YXIgQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5PblB1c2g9MF09Ik9uUHVzaCIsdFt0LkRlZmF1bHQ9MV09IkRlZmF1bHQiLHR9KHt9KSxTdD1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkVtdWxhdGVkPTBdPSJFbXVsYXRlZCIsdFt0Lk5vbmU9Ml09Ik5vbmUiLHRbdC5TaGFkb3dEb209M109IlNoYWRvd0RvbSIsdH0oe30pO2NvbnN0IHh0PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyxrdD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LFR0PSJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmInVuZGVmaW5lZCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZzZWxmLEZ0PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwsT3Q9eHR8fEZ0fHxrdHx8VHQsUHQ9e30sSXQ9W10sUnQ9Sih7Ilx1MDI3NWNtcCI6Sn0pLE10PUooeyJcdTAyNzVkaXIiOkp9KSxqdD1KKHsiXHUwMjc1cGlwZSI6Sn0pLE50PUooeyJcdTAyNzVtb2QiOkp9KSxWdD1KKHsiXHUwMjc1bG9jIjpKfSksTHQ9Sih7Ilx1MDI3NWZhYyI6Sn0pLEJ0PUooe19fTkdfRUxFTUVOVF9JRF9fOkp9KTtsZXQgVXQ9MDtmdW5jdGlvbiBIdCh0KXtyZXR1cm4gRXQoKCk9Pntjb25zdCBlPXt9LG49e3R5cGU6dC50eXBlLHByb3ZpZGVyc1Jlc29sdmVyOm51bGwsZGVjbHM6dC5kZWNscyx2YXJzOnQudmFycyxmYWN0b3J5Om51bGwsdGVtcGxhdGU6dC50ZW1wbGF0ZXx8bnVsbCxjb25zdHM6dC5jb25zdHN8fG51bGwsbmdDb250ZW50U2VsZWN0b3JzOnQubmdDb250ZW50U2VsZWN0b3JzLGhvc3RCaW5kaW5nczp0Lmhvc3RCaW5kaW5nc3x8bnVsbCxob3N0VmFyczp0Lmhvc3RWYXJzfHwwLGhvc3RBdHRyczp0Lmhvc3RBdHRyc3x8bnVsbCxjb250ZW50UXVlcmllczp0LmNvbnRlbnRRdWVyaWVzfHxudWxsLGRlY2xhcmVkSW5wdXRzOmUsaW5wdXRzOm51bGwsb3V0cHV0czpudWxsLGV4cG9ydEFzOnQuZXhwb3J0QXN8fG51bGwsb25QdXNoOnQuY2hhbmdlRGV0ZWN0aW9uPT09QXQuT25QdXNoLGRpcmVjdGl2ZURlZnM6bnVsbCxwaXBlRGVmczpudWxsLHNlbGVjdG9yczp0LnNlbGVjdG9yc3x8SXQsdmlld1F1ZXJ5OnQudmlld1F1ZXJ5fHxudWxsLGZlYXR1cmVzOnQuZmVhdHVyZXN8fG51bGwsZGF0YTp0LmRhdGF8fHt9LGVuY2Fwc3VsYXRpb246dC5lbmNhcHN1bGF0aW9ufHxTdC5FbXVsYXRlZCxpZDoiYyIsc3R5bGVzOnQuc3R5bGVzfHxJdCxfOm51bGwsc2V0SW5wdXQ6bnVsbCxzY2hlbWFzOnQuc2NoZW1hc3x8bnVsbCx0VmlldzpudWxsfSxyPXQuZGlyZWN0aXZlcyxzPXQuZmVhdHVyZXMsaT10LnBpcGVzO3JldHVybiBuLmlkKz1VdCsrLG4uaW5wdXRzPUd0KHQuaW5wdXRzLGUpLG4ub3V0cHV0cz1HdCh0Lm91dHB1dHMpLHMmJnMuZm9yRWFjaCh0PT50KG4pKSxuLmRpcmVjdGl2ZURlZnM9cj8oKT0+KCJmdW5jdGlvbiI9PXR5cGVvZiByP3IoKTpyKS5tYXAoJHQpOm51bGwsbi5waXBlRGVmcz1pPygpPT4oImZ1bmN0aW9uIj09dHlwZW9mIGk/aSgpOmkpLm1hcCh6dCk6bnVsbCxufSl9ZnVuY3Rpb24gJHQodCl7cmV0dXJuIFl0KHQpfHxmdW5jdGlvbih0KXtyZXR1cm4gdFtNdF18fG51bGx9KHQpfWZ1bmN0aW9uIHp0KHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdFtqdF18fG51bGx9KHQpfWNvbnN0IHF0PXt9O2Z1bmN0aW9uIFd0KHQpe2NvbnN0IGU9e3R5cGU6dC50eXBlLGJvb3RzdHJhcDp0LmJvb3RzdHJhcHx8SXQsZGVjbGFyYXRpb25zOnQuZGVjbGFyYXRpb25zfHxJdCxpbXBvcnRzOnQuaW1wb3J0c3x8SXQsZXhwb3J0czp0LmV4cG9ydHN8fEl0LHRyYW5zaXRpdmVDb21waWxlU2NvcGVzOm51bGwsc2NoZW1hczp0LnNjaGVtYXN8fG51bGwsaWQ6dC5pZHx8bnVsbH07cmV0dXJuIG51bGwhPXQuaWQmJkV0KCgpPT57cXRbdC5pZF09dC50eXBlfSksZX1mdW5jdGlvbiBHdCh0LGUpe2lmKG51bGw9PXQpcmV0dXJuIFB0O2NvbnN0IG49e307Zm9yKGNvbnN0IHIgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHIpKXtsZXQgcz10W3JdLGk9cztBcnJheS5pc0FycmF5KHMpJiYoaT1zWzFdLHM9c1swXSksbltzXT1yLGUmJihlW3NdPWkpfXJldHVybiBufWNvbnN0IFp0PUh0O2Z1bmN0aW9uIEt0KHQpe3JldHVybnt0eXBlOnQudHlwZSxuYW1lOnQubmFtZSxmYWN0b3J5Om51bGwscHVyZTohMSE9PXQucHVyZSxvbkRlc3Ryb3k6dC50eXBlLnByb3RvdHlwZS5uZ09uRGVzdHJveXx8bnVsbH19ZnVuY3Rpb24gWXQodCl7cmV0dXJuIHRbUnRdfHxudWxsfWZ1bmN0aW9uIFF0KHQsZSl7Y29uc3Qgbj10W050XXx8bnVsbDtpZighbiYmITA9PT1lKXRocm93IG5ldyBFcnJvcihgVHlwZSAke2V0KHQpfSBkb2VzIG5vdCBoYXZlICdcdTAyNzVtb2QnIHByb3BlcnR5LmApO3JldHVybiBufWNvbnN0IFh0PTIwLEp0PTEwO2Z1bmN0aW9uIHRlKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpJiYib2JqZWN0Ij09dHlwZW9mIHRbMV19ZnVuY3Rpb24gZWUodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJiEwPT09dFsxXX1mdW5jdGlvbiBuZSh0KXtyZXR1cm4gMCE9KDgmdC5mbGFncyl9ZnVuY3Rpb24gcmUodCl7cmV0dXJuIDI9PSgyJnQuZmxhZ3MpfWZ1bmN0aW9uIHNlKHQpe3JldHVybiAxPT0oMSZ0LmZsYWdzKX1mdW5jdGlvbiBpZSh0KXtyZXR1cm4gbnVsbCE9PXQudGVtcGxhdGV9ZnVuY3Rpb24gb2UodCxlKXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShMdCk/dFtMdF06bnVsbH1jbGFzcyBhZXtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5wcmV2aW91c1ZhbHVlPXQsdGhpcy5jdXJyZW50VmFsdWU9ZSx0aGlzLmZpcnN0Q2hhbmdlPW59aXNGaXJzdENoYW5nZSgpe3JldHVybiB0aGlzLmZpcnN0Q2hhbmdlfX1mdW5jdGlvbiBsZSgpe3JldHVybiB1ZX1mdW5jdGlvbiB1ZSh0KXtyZXR1cm4gdC50eXBlLnByb3RvdHlwZS5uZ09uQ2hhbmdlcyYmKHQuc2V0SW5wdXQ9aGUpLGNlfWZ1bmN0aW9uIGNlKCl7Y29uc3QgdD1kZSh0aGlzKSxlPW51bGw9PXQ/dm9pZCAwOnQuY3VycmVudDtpZihlKXtjb25zdCBuPXQucHJldmlvdXM7aWYobj09PVB0KXQucHJldmlvdXM9ZTtlbHNlIGZvcihsZXQgdCBpbiBlKW5bdF09ZVt0XTt0LmN1cnJlbnQ9bnVsbCx0aGlzLm5nT25DaGFuZ2VzKGUpfX1mdW5jdGlvbiBoZSh0LGUsbixyKXtjb25zdCBzPWRlKHQpfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fbmdTaW1wbGVDaGFuZ2VzX189ZX0odCx7cHJldmlvdXM6UHQsY3VycmVudDpudWxsfSksaT1zLmN1cnJlbnR8fChzLmN1cnJlbnQ9e30pLG89cy5wcmV2aW91cyxhPXRoaXMuZGVjbGFyZWRJbnB1dHNbbl0sbD1vW2FdO2lbYV09bmV3IGFlKGwmJmwuY3VycmVudFZhbHVlLGUsbz09PVB0KSx0W3JdPWV9ZnVuY3Rpb24gZGUodCl7cmV0dXJuIHQuX19uZ1NpbXBsZUNoYW5nZXNfX3x8bnVsbH1sZXQgcGU7ZnVuY3Rpb24gZmUoKXtyZXR1cm4gdm9pZCAwIT09cGU/cGU6InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudDp2b2lkIDB9ZnVuY3Rpb24gZ2UodCl7cmV0dXJuISF0Lmxpc3Rlbn1sZS5uZ0luaGVyaXQ9ITA7Y29uc3QgbWU9e2NyZWF0ZVJlbmRlcmVyOih0LGUpPT5mZSgpfTtmdW5jdGlvbiB5ZSh0KXtmb3IoO0FycmF5LmlzQXJyYXkodCk7KXQ9dFswXTtyZXR1cm4gdH1mdW5jdGlvbiB2ZSh0LGUpe3JldHVybiB5ZShlW3RdKX1mdW5jdGlvbiBiZSh0LGUpe3JldHVybiB5ZShlW3QuaW5kZXhdKX1mdW5jdGlvbiB3ZSh0LGUpe3JldHVybiB0LmRhdGFbZV19ZnVuY3Rpb24gX2UodCxlKXtjb25zdCBuPWVbdF07cmV0dXJuIHRlKG4pP246blswXX1mdW5jdGlvbiBDZSh0KXtyZXR1cm4gND09KDQmdFsyXSl9ZnVuY3Rpb24gRGUodCl7cmV0dXJuIDEyOD09KDEyOCZ0WzJdKX1mdW5jdGlvbiBFZSh0LGUpe3JldHVybiBudWxsPT1lP251bGw6dFtlXX1mdW5jdGlvbiBBZSh0KXt0WzE4XT0wfWZ1bmN0aW9uIFNlKHQsZSl7dFs1XSs9ZTtsZXQgbj10LHI9dFszXTtmb3IoO251bGwhPT1yJiYoMT09PWUmJjE9PT1uWzVdfHwtMT09PWUmJjA9PT1uWzVdKTspcls1XSs9ZSxuPXIscj1yWzNdfWNvbnN0IHhlPXtsRnJhbWU6S2UobnVsbCksYmluZGluZ3NFbmFibGVkOiEwLGlzSW5DaGVja05vQ2hhbmdlc01vZGU6ITF9O2Z1bmN0aW9uIGtlKCl7cmV0dXJuIHhlLmJpbmRpbmdzRW5hYmxlZH1mdW5jdGlvbiBUZSgpe3JldHVybiB4ZS5sRnJhbWUubFZpZXd9ZnVuY3Rpb24gRmUoKXtyZXR1cm4geGUubEZyYW1lLnRWaWV3fWZ1bmN0aW9uIE9lKHQpe3JldHVybiB4ZS5sRnJhbWUuY29udGV4dExWaWV3PXQsdFs4XX1mdW5jdGlvbiBQZSgpe2xldCB0PUllKCk7Zm9yKDtudWxsIT09dCYmNjQ9PT10LnR5cGU7KXQ9dC5wYXJlbnQ7cmV0dXJuIHR9ZnVuY3Rpb24gSWUoKXtyZXR1cm4geGUubEZyYW1lLmN1cnJlbnRUTm9kZX1mdW5jdGlvbiBSZSh0LGUpe2NvbnN0IG49eGUubEZyYW1lO24uY3VycmVudFROb2RlPXQsbi5pc1BhcmVudD1lfWZ1bmN0aW9uIE1lKCl7cmV0dXJuIHhlLmxGcmFtZS5pc1BhcmVudH1mdW5jdGlvbiBqZSgpe3hlLmxGcmFtZS5pc1BhcmVudD0hMX1mdW5jdGlvbiBOZSgpe3JldHVybiB4ZS5pc0luQ2hlY2tOb0NoYW5nZXNNb2RlfWZ1bmN0aW9uIFZlKHQpe3hlLmlzSW5DaGVja05vQ2hhbmdlc01vZGU9dH1mdW5jdGlvbiBMZSgpe3JldHVybiB4ZS5sRnJhbWUuYmluZGluZ0luZGV4Kyt9ZnVuY3Rpb24gQmUodCl7Y29uc3QgZT14ZS5sRnJhbWUsbj1lLmJpbmRpbmdJbmRleDtyZXR1cm4gZS5iaW5kaW5nSW5kZXg9ZS5iaW5kaW5nSW5kZXgrdCxufWZ1bmN0aW9uIFVlKHQsZSl7Y29uc3Qgbj14ZS5sRnJhbWU7bi5iaW5kaW5nSW5kZXg9bi5iaW5kaW5nUm9vdEluZGV4PXQsSGUoZSl9ZnVuY3Rpb24gSGUodCl7eGUubEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleD10fWZ1bmN0aW9uICRlKCl7cmV0dXJuIHhlLmxGcmFtZS5jdXJyZW50UXVlcnlJbmRleH1mdW5jdGlvbiB6ZSh0KXt4ZS5sRnJhbWUuY3VycmVudFF1ZXJ5SW5kZXg9dH1mdW5jdGlvbiBxZSh0KXtjb25zdCBlPXRbMV07cmV0dXJuIDI9PT1lLnR5cGU/ZS5kZWNsVE5vZGU6MT09PWUudHlwZT90WzZdOm51bGx9ZnVuY3Rpb24gV2UodCxlLG4pe2lmKG4md3QuU2tpcFNlbGYpe2xldCByPWUscz10O2Zvcig7cj1yLnBhcmVudCwhKG51bGwhPT1yfHxuJnd0Lkhvc3R8fChyPXFlKHMpLG51bGw9PT1yKXx8KHM9c1sxNV0sMTAmci50eXBlKSk7KTtpZihudWxsPT09cilyZXR1cm4hMTtlPXIsdD1zfWNvbnN0IHI9eGUubEZyYW1lPVplKCk7cmV0dXJuIHIuY3VycmVudFROb2RlPWUsci5sVmlldz10LCEwfWZ1bmN0aW9uIEdlKHQpe2NvbnN0IGU9WmUoKSxuPXRbMV07eGUubEZyYW1lPWUsZS5jdXJyZW50VE5vZGU9bi5maXJzdENoaWxkLGUubFZpZXc9dCxlLnRWaWV3PW4sZS5jb250ZXh0TFZpZXc9dCxlLmJpbmRpbmdJbmRleD1uLmJpbmRpbmdTdGFydEluZGV4LGUuaW5JMThuPSExfWZ1bmN0aW9uIFplKCl7Y29uc3QgdD14ZS5sRnJhbWUsZT1udWxsPT09dD9udWxsOnQuY2hpbGQ7cmV0dXJuIG51bGw9PT1lP0tlKHQpOmV9ZnVuY3Rpb24gS2UodCl7Y29uc3QgZT17Y3VycmVudFROb2RlOm51bGwsaXNQYXJlbnQ6ITAsbFZpZXc6bnVsbCx0VmlldzpudWxsLHNlbGVjdGVkSW5kZXg6LTEsY29udGV4dExWaWV3Om51bGwsZWxlbWVudERlcHRoQ291bnQ6MCxjdXJyZW50TmFtZXNwYWNlOm51bGwsY3VycmVudERpcmVjdGl2ZUluZGV4Oi0xLGJpbmRpbmdSb290SW5kZXg6LTEsYmluZGluZ0luZGV4Oi0xLGN1cnJlbnRRdWVyeUluZGV4OjAscGFyZW50OnQsY2hpbGQ6bnVsbCxpbkkxOG46ITF9O3JldHVybiBudWxsIT09dCYmKHQuY2hpbGQ9ZSksZX1mdW5jdGlvbiBZZSgpe2NvbnN0IHQ9eGUubEZyYW1lO3JldHVybiB4ZS5sRnJhbWU9dC5wYXJlbnQsdC5jdXJyZW50VE5vZGU9bnVsbCx0LmxWaWV3PW51bGwsdH1jb25zdCBRZT1ZZTtmdW5jdGlvbiBYZSgpe2NvbnN0IHQ9WWUoKTt0LmlzUGFyZW50PSEwLHQudFZpZXc9bnVsbCx0LnNlbGVjdGVkSW5kZXg9LTEsdC5jb250ZXh0TFZpZXc9bnVsbCx0LmVsZW1lbnREZXB0aENvdW50PTAsdC5jdXJyZW50RGlyZWN0aXZlSW5kZXg9LTEsdC5jdXJyZW50TmFtZXNwYWNlPW51bGwsdC5iaW5kaW5nUm9vdEluZGV4PS0xLHQuYmluZGluZ0luZGV4PS0xLHQuY3VycmVudFF1ZXJ5SW5kZXg9MH1mdW5jdGlvbiBKZSgpe3JldHVybiB4ZS5sRnJhbWUuc2VsZWN0ZWRJbmRleH1mdW5jdGlvbiB0bih0KXt4ZS5sRnJhbWUuc2VsZWN0ZWRJbmRleD10fWZ1bmN0aW9uIGVuKCl7Y29uc3QgdD14ZS5sRnJhbWU7cmV0dXJuIHdlKHQudFZpZXcsdC5zZWxlY3RlZEluZGV4KX1mdW5jdGlvbiBubih0LGUpe2ZvcihsZXQgbj1lLmRpcmVjdGl2ZVN0YXJ0LHI9ZS5kaXJlY3RpdmVFbmQ7bjxyO24rKyl7Y29uc3QgZT10LmRhdGFbbl0udHlwZS5wcm90b3R5cGUse25nQWZ0ZXJDb250ZW50SW5pdDpyLG5nQWZ0ZXJDb250ZW50Q2hlY2tlZDpzLG5nQWZ0ZXJWaWV3SW5pdDppLG5nQWZ0ZXJWaWV3Q2hlY2tlZDpvLG5nT25EZXN0cm95OmF9PWU7ciYmKHQuY29udGVudEhvb2tzfHwodC5jb250ZW50SG9va3M9W10pKS5wdXNoKC1uLHIpLHMmJigodC5jb250ZW50SG9va3N8fCh0LmNvbnRlbnRIb29rcz1bXSkpLnB1c2gobixzKSwodC5jb250ZW50Q2hlY2tIb29rc3x8KHQuY29udGVudENoZWNrSG9va3M9W10pKS5wdXNoKG4scykpLGkmJih0LnZpZXdIb29rc3x8KHQudmlld0hvb2tzPVtdKSkucHVzaCgtbixpKSxvJiYoKHQudmlld0hvb2tzfHwodC52aWV3SG9va3M9W10pKS5wdXNoKG4sbyksKHQudmlld0NoZWNrSG9va3N8fCh0LnZpZXdDaGVja0hvb2tzPVtdKSkucHVzaChuLG8pKSxudWxsIT1hJiYodC5kZXN0cm95SG9va3N8fCh0LmRlc3Ryb3lIb29rcz1bXSkpLnB1c2gobixhKX19ZnVuY3Rpb24gcm4odCxlLG4pe2FuKHQsZSwzLG4pfWZ1bmN0aW9uIHNuKHQsZSxuLHIpeygzJnRbMl0pPT09biYmYW4odCxlLG4scil9ZnVuY3Rpb24gb24odCxlKXtsZXQgbj10WzJdOygzJm4pPT09ZSYmKG4mPTIwNDcsbis9MSx0WzJdPW4pfWZ1bmN0aW9uIGFuKHQsZSxuLHIpe2NvbnN0IHM9bnVsbCE9cj9yOi0xLGk9ZS5sZW5ndGgtMTtsZXQgbz0wO2ZvcihsZXQgYT12b2lkIDAhPT1yPzY1NTM1JnRbMThdOjA7YTxpO2ErKylpZigibnVtYmVyIj09dHlwZW9mIGVbYSsxXSl7aWYobz1lW2FdLG51bGwhPXImJm8+PXIpYnJlYWt9ZWxzZSBlW2FdPDAmJih0WzE4XSs9NjU1MzYpLChvPHN8fC0xPT1zKSYmKGxuKHQsbixlLGEpLHRbMThdPSg0Mjk0OTAxNzYwJnRbMThdKSthKzIpLGErK31mdW5jdGlvbiBsbih0LGUsbixyKXtjb25zdCBzPW5bcl08MCxpPW5bcisxXSxvPXRbcz8tbltyXTpuW3JdXTtpZihzKXtpZih0WzJdPj4xMTx0WzE4XT4+MTYmJigzJnRbMl0pPT09ZSl7dFsyXSs9MjA0ODt0cnl7aS5jYWxsKG8pfWZpbmFsbHl7fX19ZWxzZSB0cnl7aS5jYWxsKG8pfWZpbmFsbHl7fX1jb25zdCB1bj0tMTtjbGFzcyBjbntjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5mYWN0b3J5PXQsdGhpcy5yZXNvbHZpbmc9ITEsdGhpcy5jYW5TZWVWaWV3UHJvdmlkZXJzPWUsdGhpcy5pbmplY3RJbXBsPW59fWZ1bmN0aW9uIGhuKHQsZSxuKXtjb25zdCByPWdlKHQpO2xldCBzPTA7Zm9yKDtzPG4ubGVuZ3RoOyl7Y29uc3QgaT1uW3NdO2lmKCJudW1iZXIiPT10eXBlb2YgaSl7aWYoMCE9PWkpYnJlYWs7cysrO2NvbnN0IG89bltzKytdLGE9bltzKytdLGw9bltzKytdO3I/dC5zZXRBdHRyaWJ1dGUoZSxhLGwsbyk6ZS5zZXRBdHRyaWJ1dGVOUyhvLGEsbCl9ZWxzZXtjb25zdCBvPWksYT1uWysrc107cG4obyk/ciYmdC5zZXRQcm9wZXJ0eShlLG8sYSk6cj90LnNldEF0dHJpYnV0ZShlLG8sYSk6ZS5zZXRBdHRyaWJ1dGUobyxhKSxzKyt9fXJldHVybiBzfWZ1bmN0aW9uIGRuKHQpe3JldHVybiAzPT09dHx8ND09PXR8fDY9PT10fWZ1bmN0aW9uIHBuKHQpe3JldHVybiA2ND09PXQuY2hhckNvZGVBdCgwKX1mdW5jdGlvbiBmbih0LGUpe2lmKG51bGw9PT1lfHwwPT09ZS5sZW5ndGgpO2Vsc2UgaWYobnVsbD09PXR8fDA9PT10Lmxlbmd0aCl0PWUuc2xpY2UoKTtlbHNle2xldCBuPS0xO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBzPWVbcl07Im51bWJlciI9PXR5cGVvZiBzP249czowPT09bnx8Z24odCxuLHMsbnVsbCwtMT09PW58fDI9PT1uP2VbKytyXTpudWxsKX19cmV0dXJuIHR9ZnVuY3Rpb24gZ24odCxlLG4scixzKXtsZXQgaT0wLG89dC5sZW5ndGg7aWYoLTE9PT1lKW89LTE7ZWxzZSBmb3IoO2k8dC5sZW5ndGg7KXtjb25zdCBuPXRbaSsrXTtpZigibnVtYmVyIj09dHlwZW9mIG4pe2lmKG49PT1lKXtvPS0xO2JyZWFrfWlmKG4+ZSl7bz1pLTE7YnJlYWt9fX1mb3IoO2k8dC5sZW5ndGg7KXtjb25zdCBlPXRbaV07aWYoIm51bWJlciI9PXR5cGVvZiBlKWJyZWFrO2lmKGU9PT1uKXtpZihudWxsPT09cilyZXR1cm4gdm9pZChudWxsIT09cyYmKHRbaSsxXT1zKSk7aWYocj09PXRbaSsxXSlyZXR1cm4gdm9pZCh0W2krMl09cyl9aSsrLG51bGwhPT1yJiZpKyssbnVsbCE9PXMmJmkrK30tMSE9PW8mJih0LnNwbGljZShvLDAsZSksaT1vKzEpLHQuc3BsaWNlKGkrKywwLG4pLG51bGwhPT1yJiZ0LnNwbGljZShpKyssMCxyKSxudWxsIT09cyYmdC5zcGxpY2UoaSsrLDAscyl9ZnVuY3Rpb24gbW4odCl7cmV0dXJuIHQhPT11bn1mdW5jdGlvbiB5bih0KXtyZXR1cm4gMzI3NjcmdH1mdW5jdGlvbiB2bih0LGUpe2xldCBuPXQ+PjE2LHI9ZTtmb3IoO24+MDspcj1yWzE1XSxuLS07cmV0dXJuIHJ9bGV0IGJuPSEwO2Z1bmN0aW9uIHduKHQpe2NvbnN0IGU9Ym47cmV0dXJuIGJuPXQsZX1sZXQgX249MDtmdW5jdGlvbiBDbih0LGUpe2NvbnN0IG49RW4odCxlKTtpZigtMSE9PW4pcmV0dXJuIG47Y29uc3Qgcj1lWzFdO3IuZmlyc3RDcmVhdGVQYXNzJiYodC5pbmplY3RvckluZGV4PWUubGVuZ3RoLERuKHIuZGF0YSx0KSxEbihlLG51bGwpLERuKHIuYmx1ZXByaW50LG51bGwpKTtjb25zdCBzPUFuKHQsZSksaT10LmluamVjdG9ySW5kZXg7aWYobW4ocykpe2NvbnN0IHQ9eW4ocyksbj12bihzLGUpLHI9blsxXS5kYXRhO2ZvcihsZXQgcz0wO3M8ODtzKyspZVtpK3NdPW5bdCtzXXxyW3Qrc119cmV0dXJuIGVbaSs4XT1zLGl9ZnVuY3Rpb24gRG4odCxlKXt0LnB1c2goMCwwLDAsMCwwLDAsMCwwLGUpfWZ1bmN0aW9uIEVuKHQsZSl7cmV0dXJuLTE9PT10LmluamVjdG9ySW5kZXh8fHQucGFyZW50JiZ0LnBhcmVudC5pbmplY3RvckluZGV4PT09dC5pbmplY3RvckluZGV4fHxudWxsPT09ZVt0LmluamVjdG9ySW5kZXgrOF0/LTE6dC5pbmplY3RvckluZGV4fWZ1bmN0aW9uIEFuKHQsZSl7aWYodC5wYXJlbnQmJi0xIT09dC5wYXJlbnQuaW5qZWN0b3JJbmRleClyZXR1cm4gdC5wYXJlbnQuaW5qZWN0b3JJbmRleDtsZXQgbj0wLHI9bnVsbCxzPWU7Zm9yKDtudWxsIT09czspe2NvbnN0IHQ9c1sxXSxlPXQudHlwZTtpZihyPTI9PT1lP3QuZGVjbFROb2RlOjE9PT1lP3NbNl06bnVsbCxudWxsPT09cilyZXR1cm4gdW47aWYobisrLHM9c1sxNV0sLTEhPT1yLmluamVjdG9ySW5kZXgpcmV0dXJuIHIuaW5qZWN0b3JJbmRleHxuPDwxNn1yZXR1cm4gdW59ZnVuY3Rpb24gU24odCxlLG4peyFmdW5jdGlvbih0LGUsbil7bGV0IHI7InN0cmluZyI9PXR5cGVvZiBuP3I9bi5jaGFyQ29kZUF0KDApfHwwOm4uaGFzT3duUHJvcGVydHkoQnQpJiYocj1uW0J0XSksbnVsbD09ciYmKHI9bltCdF09X24rKyk7Y29uc3Qgcz0yNTUmcjtlLmRhdGFbdCsocz4+NSldfD0xPDxzfSh0LGUsbil9ZnVuY3Rpb24geG4odCxlLG4pe2lmKG4md3QuT3B0aW9uYWwpcmV0dXJuIHQ7Y3QoZSwiTm9kZUluamVjdG9yIil9ZnVuY3Rpb24ga24odCxlLG4scil7aWYobiZ3dC5PcHRpb25hbCYmdm9pZCAwPT09ciYmKHI9bnVsbCksMD09KG4mKHd0LlNlbGZ8d3QuSG9zdCkpKXtjb25zdCBzPXRbOV0saT1DdCh2b2lkIDApO3RyeXtyZXR1cm4gcz9zLmdldChlLHIsbiZ3dC5PcHRpb25hbCk6RHQoZSxyLG4md3QuT3B0aW9uYWwpfWZpbmFsbHl7Q3QoaSl9fXJldHVybiB4bihyLGUsbil9ZnVuY3Rpb24gVG4odCxlLG4scj13dC5EZWZhdWx0LHMpe2lmKG51bGwhPT10KXtjb25zdCBpPWZ1bmN0aW9uKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdClyZXR1cm4gdC5jaGFyQ29kZUF0KDApfHwwO2NvbnN0IGU9dC5oYXNPd25Qcm9wZXJ0eShCdCk/dFtCdF06dm9pZCAwO3JldHVybiJudW1iZXIiPT10eXBlb2YgZT9lPj0wPzI1NSZlOk9uOmV9KG4pO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBpKXtpZighV2UoZSx0LHIpKXJldHVybiByJnd0Lkhvc3Q/eG4ocyxuLHIpOmtuKGUsbixyLHMpO3RyeXtjb25zdCB0PWkocik7aWYobnVsbCE9dHx8ciZ3dC5PcHRpb25hbClyZXR1cm4gdDtjdChuKX1maW5hbGx5e1FlKCl9fWVsc2UgaWYoIm51bWJlciI9PXR5cGVvZiBpKXtsZXQgcz1udWxsLG89RW4odCxlKSxhPXVuLGw9ciZ3dC5Ib3N0P2VbMTZdWzZdOm51bGw7Zm9yKCgtMT09PW98fHImd3QuU2tpcFNlbGYpJiYoYT0tMT09PW8/QW4odCxlKTplW28rOF0sYSE9PXVuJiZqbihyLCExKT8ocz1lWzFdLG89eW4oYSksZT12bihhLGUpKTpvPS0xKTstMSE9PW87KXtjb25zdCB0PWVbMV07aWYoTW4oaSxvLHQuZGF0YSkpe2NvbnN0IHQ9UG4obyxlLG4scyxyLGwpO2lmKHQhPT1GbilyZXR1cm4gdH1hPWVbbys4XSxhIT09dW4mJmpuKHIsZVsxXS5kYXRhW28rOF09PT1sKSYmTW4oaSxvLGUpPyhzPXQsbz15bihhKSxlPXZuKGEsZSkpOm89LTF9fX1yZXR1cm4ga24oZSxuLHIscyl9Y29uc3QgRm49e307ZnVuY3Rpb24gT24oKXtyZXR1cm4gbmV3IE5uKFBlKCksVGUoKSl9ZnVuY3Rpb24gUG4odCxlLG4scixzLGkpe2NvbnN0IG89ZVsxXSxhPW8uZGF0YVt0KzhdLGw9SW4oYSxvLG4sbnVsbD09cj9yZShhKSYmYm46ciE9byYmMCE9KDMmYS50eXBlKSxzJnd0Lkhvc3QmJmk9PT1hKTtyZXR1cm4gbnVsbCE9PWw/Um4oZSxvLGwsYSk6Rm59ZnVuY3Rpb24gSW4odCxlLG4scixzKXtjb25zdCBpPXQucHJvdmlkZXJJbmRleGVzLG89ZS5kYXRhLGE9MTA0ODU3NSZpLGw9dC5kaXJlY3RpdmVTdGFydCx1PWk+PjIwLGM9cz9hK3U6dC5kaXJlY3RpdmVFbmQ7Zm9yKGxldCBoPXI/YTphK3U7aDxjO2grKyl7Y29uc3QgdD1vW2hdO2lmKGg8bCYmbj09PXR8fGg+PWwmJnQudHlwZT09PW4pcmV0dXJuIGh9aWYocyl7Y29uc3QgdD1vW2xdO2lmKHQmJmllKHQpJiZ0LnR5cGU9PT1uKXJldHVybiBsfXJldHVybiBudWxsfWZ1bmN0aW9uIFJuKHQsZSxuLHIpe2xldCBzPXRbbl07Y29uc3QgaT1lLmRhdGE7aWYocyBpbnN0YW5jZW9mIGNuKXtjb25zdCBvPXM7by5yZXNvbHZpbmcmJmZ1bmN0aW9uKHQsZSl7dGhyb3cgbmV3IGF0KCIyMDAiLGBDaXJjdWxhciBkZXBlbmRlbmN5IGluIERJIGRldGVjdGVkIGZvciAke3R9YCl9KHV0KGlbbl0pKTtjb25zdCBhPXduKG8uY2FuU2VlVmlld1Byb3ZpZGVycyk7by5yZXNvbHZpbmc9ITA7Y29uc3QgbD1vLmluamVjdEltcGw/Q3Qoby5pbmplY3RJbXBsKTpudWxsO1dlKHQscix3dC5EZWZhdWx0KTt0cnl7cz10W25dPW8uZmFjdG9yeSh2b2lkIDAsaSx0LHIpLGUuZmlyc3RDcmVhdGVQYXNzJiZuPj1yLmRpcmVjdGl2ZVN0YXJ0JiZmdW5jdGlvbih0LGUsbil7Y29uc3R7bmdPbkNoYW5nZXM6cixuZ09uSW5pdDpzLG5nRG9DaGVjazppfT1lLnR5cGUucHJvdG90eXBlO2lmKHIpe2NvbnN0IHI9dWUoZSk7KG4ucHJlT3JkZXJIb29rc3x8KG4ucHJlT3JkZXJIb29rcz1bXSkpLnB1c2godCxyKSwobi5wcmVPcmRlckNoZWNrSG9va3N8fChuLnByZU9yZGVyQ2hlY2tIb29rcz1bXSkpLnB1c2godCxyKX1zJiYobi5wcmVPcmRlckhvb2tzfHwobi5wcmVPcmRlckhvb2tzPVtdKSkucHVzaCgwLXQscyksaSYmKChuLnByZU9yZGVySG9va3N8fChuLnByZU9yZGVySG9va3M9W10pKS5wdXNoKHQsaSksKG4ucHJlT3JkZXJDaGVja0hvb2tzfHwobi5wcmVPcmRlckNoZWNrSG9va3M9W10pKS5wdXNoKHQsaSkpfShuLGlbbl0sZSl9ZmluYWxseXtudWxsIT09bCYmQ3QobCksd24oYSksby5yZXNvbHZpbmc9ITEsUWUoKX19cmV0dXJuIHN9ZnVuY3Rpb24gTW4odCxlLG4pe3JldHVybiEhKG5bZSsodD4+NSldJjE8PHQpfWZ1bmN0aW9uIGpuKHQsZSl7cmV0dXJuISh0Jnd0LlNlbGZ8fHQmd3QuSG9zdCYmZSl9Y2xhc3MgTm57Y29uc3RydWN0b3IodCxlKXt0aGlzLl90Tm9kZT10LHRoaXMuX2xWaWV3PWV9Z2V0KHQsZSl7cmV0dXJuIFRuKHRoaXMuX3ROb2RlLHRoaXMuX2xWaWV3LHQsdm9pZCAwLGUpfX1mdW5jdGlvbiBWbih0KXtyZXR1cm4gRXQoKCk9Pntjb25zdCBlPXQucHJvdG90eXBlLmNvbnN0cnVjdG9yLG49ZVtMdF18fExuKGUpLHI9T2JqZWN0LnByb3RvdHlwZTtsZXQgcz1PYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO2Zvcig7cyYmcyE9PXI7KXtjb25zdCB0PXNbTHRdfHxMbihzKTtpZih0JiZ0IT09bilyZXR1cm4gdDtzPU9iamVjdC5nZXRQcm90b3R5cGVPZihzKX1yZXR1cm4gdD0+bmV3IHR9KX1mdW5jdGlvbiBMbih0KXtyZXR1cm4gb3QodCk/KCk9Pntjb25zdCBlPUxuKGl0KHQpKTtyZXR1cm4gZSYmZSgpfTpvZSh0KX1jb25zdCBCbj0iX19wYXJhbWV0ZXJzX18iO2Z1bmN0aW9uIFVuKHQsZSxuKXtyZXR1cm4gRXQoKCk9Pntjb25zdCByPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbiguLi5lKXtpZih0KXtjb25zdCBuPXQoLi4uZSk7Zm9yKGNvbnN0IHQgaW4gbil0aGlzW3RdPW5bdF19fX0oZSk7ZnVuY3Rpb24gcyguLi50KXtpZih0aGlzIGluc3RhbmNlb2YgcylyZXR1cm4gci5hcHBseSh0aGlzLHQpLHRoaXM7Y29uc3QgZT1uZXcgcyguLi50KTtyZXR1cm4gbi5hbm5vdGF0aW9uPWUsbjtmdW5jdGlvbiBuKHQsbixyKXtjb25zdCBzPXQuaGFzT3duUHJvcGVydHkoQm4pP3RbQm5dOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LEJuLHt2YWx1ZTpbXX0pW0JuXTtmb3IoO3MubGVuZ3RoPD1yOylzLnB1c2gobnVsbCk7cmV0dXJuKHNbcl09c1tyXXx8W10pLnB1c2goZSksdH19cmV0dXJuIG4mJihzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSkscy5wcm90b3R5cGUubmdNZXRhZGF0YU5hbWU9dCxzLmFubm90YXRpb25DbHM9cyxzfSl9Y2xhc3MgSG57Y29uc3RydWN0b3IodCxlKXt0aGlzLl9kZXNjPXQsdGhpcy5uZ01ldGFkYXRhTmFtZT0iSW5qZWN0aW9uVG9rZW4iLHRoaXMuXHUwMjc1cHJvdj12b2lkIDAsIm51bWJlciI9PXR5cGVvZiBlP3RoaXMuX19OR19FTEVNRU5UX0lEX189ZTp2b2lkIDAhPT1lJiYodGhpcy5cdTAyNzVwcm92PWh0KHt0b2tlbjp0aGlzLHByb3ZpZGVkSW46ZS5wcm92aWRlZElufHwicm9vdCIsZmFjdG9yeTplLmZhY3Rvcnl9KSl9dG9TdHJpbmcoKXtyZXR1cm5gSW5qZWN0aW9uVG9rZW4gJHt0aGlzLl9kZXNjfWB9fWNvbnN0ICRuPW5ldyBIbigiQW5hbHl6ZUZvckVudHJ5Q29tcG9uZW50cyIpLHpuPUZ1bmN0aW9uO2Z1bmN0aW9uIHFuKHQsZSl7dm9pZCAwPT09ZSYmKGU9dCk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2xldCByPXRbbl07QXJyYXkuaXNBcnJheShyKT8oZT09PXQmJihlPXQuc2xpY2UoMCxuKSkscW4ocixlKSk6ZSE9PXQmJmUucHVzaChyKX1yZXR1cm4gZX1mdW5jdGlvbiBXbih0LGUpe3QuZm9yRWFjaCh0PT5BcnJheS5pc0FycmF5KHQpP1duKHQsZSk6ZSh0KSl9ZnVuY3Rpb24gR24odCxlLG4pe2U+PXQubGVuZ3RoP3QucHVzaChuKTp0LnNwbGljZShlLDAsbil9ZnVuY3Rpb24gWm4odCxlKXtyZXR1cm4gZT49dC5sZW5ndGgtMT90LnBvcCgpOnQuc3BsaWNlKGUsMSlbMF19ZnVuY3Rpb24gS24odCxlKXtjb25zdCBuPVtdO2ZvcihsZXQgcj0wO3I8dDtyKyspbi5wdXNoKGUpO3JldHVybiBufWZ1bmN0aW9uIFluKHQsZSxuKXtsZXQgcj1Ybih0LGUpO3JldHVybiByPj0wP3RbMXxyXT1uOihyPX5yLGZ1bmN0aW9uKHQsZSxuLHIpe2xldCBzPXQubGVuZ3RoO2lmKHM9PWUpdC5wdXNoKG4scik7ZWxzZSBpZigxPT09cyl0LnB1c2gocix0WzBdKSx0WzBdPW47ZWxzZXtmb3Iocy0tLHQucHVzaCh0W3MtMV0sdFtzXSk7cz5lOyl0W3NdPXRbcy0yXSxzLS07dFtlXT1uLHRbZSsxXT1yfX0odCxyLGUsbikpLHJ9ZnVuY3Rpb24gUW4odCxlKXtjb25zdCBuPVhuKHQsZSk7aWYobj49MClyZXR1cm4gdFsxfG5dfWZ1bmN0aW9uIFhuKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtsZXQgcj0wLHM9dC5sZW5ndGg+PjE7Zm9yKDtzIT09cjspe2NvbnN0IG49cisocy1yPj4xKSxpPXRbbjw8MV07aWYoZT09PWkpcmV0dXJuIG48PDE7aT5lP3M9bjpyPW4rMX1yZXR1cm5+KHM8PDEpfSh0LGUpfWNvbnN0IEpuPXt9LHRyPS9cbi9nbSxlcj0iX19zb3VyY2UiLG5yPUooe3Byb3ZpZGU6U3RyaW5nLHVzZVZhbHVlOkp9KTtsZXQgcnI7ZnVuY3Rpb24gc3IodCl7Y29uc3QgZT1ycjtyZXR1cm4gcnI9dCxlfWZ1bmN0aW9uIGlyKHQsZT13dC5EZWZhdWx0KXtpZih2b2lkIDA9PT1ycil0aHJvdyBuZXcgRXJyb3IoImluamVjdCgpIG11c3QgYmUgY2FsbGVkIGZyb20gYW4gaW5qZWN0aW9uIGNvbnRleHQiKTtyZXR1cm4gbnVsbD09PXJyP0R0KHQsdm9pZCAwLGUpOnJyLmdldCh0LGUmd3QuT3B0aW9uYWw/bnVsbDp2b2lkIDAsZSl9ZnVuY3Rpb24gb3IodCxlPXd0LkRlZmF1bHQpe3JldHVybihfdHx8aXIpKGl0KHQpLGUpfWZ1bmN0aW9uIGFyKHQpe2NvbnN0IGU9W107Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IHI9aXQodFtuXSk7aWYoQXJyYXkuaXNBcnJheShyKSl7aWYoMD09PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiQXJndW1lbnRzIGFycmF5IG11c3QgaGF2ZSBhcmd1bWVudHMuIik7bGV0IHQsbj13dC5EZWZhdWx0O2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXtjb25zdCBzPXJbZV0saT1zLl9fTkdfRElfRkxBR19fOyJudW1iZXIiPT10eXBlb2YgaT8tMT09PWk/dD1zLnRva2VuOm58PWk6dD1zfWUucHVzaChvcih0LG4pKX1lbHNlIGUucHVzaChvcihyKSl9cmV0dXJuIGV9ZnVuY3Rpb24gbHIodCxlKXtyZXR1cm4gdC5fX05HX0RJX0ZMQUdfXz1lLHQucHJvdG90eXBlLl9fTkdfRElfRkxBR19fPWUsdH1jb25zdCB1cj1scihVbigiSW5qZWN0Iix0PT4oe3Rva2VuOnR9KSksLTEpLGNyPWxyKFVuKCJPcHRpb25hbCIpLDgpLGhyPWxyKFVuKCJTa2lwU2VsZiIpLDQpO2xldCBkcixwcjtmdW5jdGlvbiBmcih0KXt2YXIgZTtyZXR1cm4obnVsbD09PShlPWZ1bmN0aW9uKCl7aWYodm9pZCAwPT09ZHImJihkcj1udWxsLE90LnRydXN0ZWRUeXBlcykpdHJ5e2RyPU90LnRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3koImFuZ3VsYXIiLHtjcmVhdGVIVE1MOnQ9PnQsY3JlYXRlU2NyaXB0OnQ9PnQsY3JlYXRlU2NyaXB0VVJMOnQ9PnR9KX1jYXRjaChlKXt9cmV0dXJuIGRyfSgpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jcmVhdGVIVE1MKHQpKXx8dH1mdW5jdGlvbiBncih0KXt2YXIgZTtyZXR1cm4obnVsbD09PShlPWZ1bmN0aW9uKCl7aWYodm9pZCAwPT09cHImJihwcj1udWxsLE90LnRydXN0ZWRUeXBlcykpdHJ5e3ByPU90LnRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3koImFuZ3VsYXIjdW5zYWZlLWJ5cGFzcyIse2NyZWF0ZUhUTUw6dD0+dCxjcmVhdGVTY3JpcHQ6dD0+dCxjcmVhdGVTY3JpcHRVUkw6dD0+dH0pfWNhdGNoKGUpe31yZXR1cm4gcHJ9KCkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNyZWF0ZUhUTUwodCkpfHx0fWNsYXNzIG1ye2NvbnN0cnVjdG9yKHQpe3RoaXMuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eT10fXRvU3RyaW5nKCl7cmV0dXJuYFNhZmVWYWx1ZSBtdXN0IHVzZSBbcHJvcGVydHldPWJpbmRpbmc6ICR7dGhpcy5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5fSAoc2VlIGh0dHBzOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpYH19ZnVuY3Rpb24geXIodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBtcj90LmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHk6dH1jbGFzcyB2cntjb25zdHJ1Y3Rvcih0KXt0aGlzLmluZXJ0RG9jdW1lbnRIZWxwZXI9dH1nZXRJbmVydEJvZHlFbGVtZW50KHQpe3Q9Ijxib2R5PjxyZW1vdmU+PC9yZW1vdmU+Iit0O3RyeXtjb25zdCBlPShuZXcgd2luZG93LkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGZyKHQpLCJ0ZXh0L2h0bWwiKS5ib2R5O3JldHVybiBudWxsPT09ZT90aGlzLmluZXJ0RG9jdW1lbnRIZWxwZXIuZ2V0SW5lcnRCb2R5RWxlbWVudCh0KTooZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpLGUpfWNhdGNoKGUpe3JldHVybiBudWxsfX19Y2xhc3MgYnJ7Y29uc3RydWN0b3IodCl7aWYodGhpcy5kZWZhdWx0RG9jPXQsdGhpcy5pbmVydERvY3VtZW50PXRoaXMuZGVmYXVsdERvYy5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoInNhbml0aXphdGlvbi1pbmVydCIpLG51bGw9PXRoaXMuaW5lcnREb2N1bWVudC5ib2R5KXtjb25zdCB0PXRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCJodG1sIik7dGhpcy5pbmVydERvY3VtZW50LmFwcGVuZENoaWxkKHQpO2NvbnN0IGU9dGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJvZHkiKTt0LmFwcGVuZENoaWxkKGUpfX1nZXRJbmVydEJvZHlFbGVtZW50KHQpe2NvbnN0IGU9dGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7aWYoImNvbnRlbnQiaW4gZSlyZXR1cm4gZS5pbm5lckhUTUw9ZnIodCksZTtjb25zdCBuPXRoaXMuaW5lcnREb2N1bWVudC5jcmVhdGVFbGVtZW50KCJib2R5Iik7cmV0dXJuIG4uaW5uZXJIVE1MPWZyKHQpLHRoaXMuZGVmYXVsdERvYy5kb2N1bWVudE1vZGUmJnRoaXMuc3RyaXBDdXN0b21Oc0F0dHJzKG4pLG59c3RyaXBDdXN0b21Oc0F0dHJzKHQpe2NvbnN0IGU9dC5hdHRyaWJ1dGVzO2ZvcihsZXQgcj1lLmxlbmd0aC0xOzA8cjtyLS0pe2NvbnN0IG49ZS5pdGVtKHIpLm5hbWU7InhtbG5zOm5zMSIhPT1uJiYwIT09bi5pbmRleE9mKCJuczE6Iil8fHQucmVtb3ZlQXR0cmlidXRlKG4pfWxldCBuPXQuZmlyc3RDaGlsZDtmb3IoO247KW4ubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmdGhpcy5zdHJpcEN1c3RvbU5zQXR0cnMobiksbj1uLm5leHRTaWJsaW5nfX1jb25zdCB3cj0vXig/Oig/Omh0dHBzP3xtYWlsdG98ZnRwfHRlbHxmaWxlfHNtcyk6fFteJjovPyNdKig/OlsvPyNdfCQpKS9naSxfcj0vXmRhdGE6KD86aW1hZ2VcLyg/OmJtcHxnaWZ8anBlZ3xqcGd8cG5nfHRpZmZ8d2VicCl8dmlkZW9cLyg/Om1wZWd8bXA0fG9nZ3x3ZWJtKXxhdWRpb1wvKD86bXAzfG9nYXxvZ2d8b3B1cykpO2Jhc2U2NCxbYS16MC05K1wvXSs9KiQvaTtmdW5jdGlvbiBDcih0KXtyZXR1cm4odD1TdHJpbmcodCkpLm1hdGNoKHdyKXx8dC5tYXRjaChfcik/dDoidW5zYWZlOiIrdH1mdW5jdGlvbiBEcih0KXtjb25zdCBlPXt9O2Zvcihjb25zdCBuIG9mIHQuc3BsaXQoIiwiKSllW25dPSEwO3JldHVybiBlfWZ1bmN0aW9uIEVyKC4uLnQpe2NvbnN0IGU9e307Zm9yKGNvbnN0IG4gb2YgdClmb3IoY29uc3QgdCBpbiBuKW4uaGFzT3duUHJvcGVydHkodCkmJihlW3RdPSEwKTtyZXR1cm4gZX1jb25zdCBBcj1EcigiYXJlYSxicixjb2wsaHIsaW1nLHdiciIpLFNyPURyKCJjb2xncm91cCxkZCxkdCxsaSxwLHRib2R5LHRkLHRmb290LHRoLHRoZWFkLHRyIikseHI9RHIoInJwLHJ0Iiksa3I9RXIoeHIsU3IpLFRyPUVyKEFyLEVyKFNyLERyKCJhZGRyZXNzLGFydGljbGUsYXNpZGUsYmxvY2txdW90ZSxjYXB0aW9uLGNlbnRlcixkZWwsZGV0YWlscyxkaWFsb2csZGlyLGRpdixkbCxmaWd1cmUsZmlnY2FwdGlvbixmb290ZXIsaDEsaDIsaDMsaDQsaDUsaDYsaGVhZGVyLGhncm91cCxocixpbnMsbWFpbixtYXAsbWVudSxuYXYsb2wscHJlLHNlY3Rpb24sc3VtbWFyeSx0YWJsZSx1bCIpKSxFcih4cixEcigiYSxhYmJyLGFjcm9ueW0sYXVkaW8sYixiZGksYmRvLGJpZyxicixjaXRlLGNvZGUsZGVsLGRmbixlbSxmb250LGksaW1nLGlucyxrYmQsbGFiZWwsbWFwLG1hcmsscGljdHVyZSxxLHJ1YnkscnAscnQscyxzYW1wLHNtYWxsLHNvdXJjZSxzcGFuLHN0cmlrZSxzdHJvbmcsc3ViLHN1cCx0aW1lLHRyYWNrLHR0LHUsdmFyLHZpZGVvIikpLGtyKSxGcj1EcigiYmFja2dyb3VuZCxjaXRlLGhyZWYsaXRlbXR5cGUsbG9uZ2Rlc2MscG9zdGVyLHNyYyx4bGluazpocmVmIiksT3I9RHIoInNyY3NldCIpLFByPUVyKEZyLE9yLERyKCJhYmJyLGFjY2Vzc2tleSxhbGlnbixhbHQsYXV0b3BsYXksYXhpcyxiZ2NvbG9yLGJvcmRlcixjZWxscGFkZGluZyxjZWxsc3BhY2luZyxjbGFzcyxjbGVhcixjb2xvcixjb2xzLGNvbHNwYW4sY29tcGFjdCxjb250cm9scyxjb29yZHMsZGF0ZXRpbWUsZGVmYXVsdCxkaXIsZG93bmxvYWQsZmFjZSxoZWFkZXJzLGhlaWdodCxoaWRkZW4saHJlZmxhbmcsaHNwYWNlLGlzbWFwLGl0ZW1zY29wZSxpdGVtcHJvcCxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbG9vcCxtZWRpYSxtdXRlZCxub2hyZWYsbm93cmFwLG9wZW4scHJlbG9hZCxyZWwscmV2LHJvbGUscm93cyxyb3dzcGFuLHJ1bGVzLHNjb3BlLHNjcm9sbGluZyxzaGFwZSxzaXplLHNpemVzLHNwYW4sc3JjbGFuZyxzdGFydCxzdW1tYXJ5LHRhYmluZGV4LHRhcmdldCx0aXRsZSx0cmFuc2xhdGUsdHlwZSx1c2VtYXAsdmFsaWduLHZhbHVlLHZzcGFjZSx3aWR0aCIpLERyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQsYXJpYS1hdG9taWMsYXJpYS1hdXRvY29tcGxldGUsYXJpYS1idXN5LGFyaWEtY2hlY2tlZCxhcmlhLWNvbGNvdW50LGFyaWEtY29saW5kZXgsYXJpYS1jb2xzcGFuLGFyaWEtY29udHJvbHMsYXJpYS1jdXJyZW50LGFyaWEtZGVzY3JpYmVkYnksYXJpYS1kZXRhaWxzLGFyaWEtZGlzYWJsZWQsYXJpYS1kcm9wZWZmZWN0LGFyaWEtZXJyb3JtZXNzYWdlLGFyaWEtZXhwYW5kZWQsYXJpYS1mbG93dG8sYXJpYS1ncmFiYmVkLGFyaWEtaGFzcG9wdXAsYXJpYS1oaWRkZW4sYXJpYS1pbnZhbGlkLGFyaWEta2V5c2hvcnRjdXRzLGFyaWEtbGFiZWwsYXJpYS1sYWJlbGxlZGJ5LGFyaWEtbGV2ZWwsYXJpYS1saXZlLGFyaWEtbW9kYWwsYXJpYS1tdWx0aWxpbmUsYXJpYS1tdWx0aXNlbGVjdGFibGUsYXJpYS1vcmllbnRhdGlvbixhcmlhLW93bnMsYXJpYS1wbGFjZWhvbGRlcixhcmlhLXBvc2luc2V0LGFyaWEtcHJlc3NlZCxhcmlhLXJlYWRvbmx5LGFyaWEtcmVsZXZhbnQsYXJpYS1yZXF1aXJlZCxhcmlhLXJvbGVkZXNjcmlwdGlvbixhcmlhLXJvd2NvdW50LGFyaWEtcm93aW5kZXgsYXJpYS1yb3dzcGFuLGFyaWEtc2VsZWN0ZWQsYXJpYS1zZXRzaXplLGFyaWEtc29ydCxhcmlhLXZhbHVlbWF4LGFyaWEtdmFsdWVtaW4sYXJpYS12YWx1ZW5vdyxhcmlhLXZhbHVldGV4dCIpKSxJcj1Ecigic2NyaXB0LHN0eWxlLHRlbXBsYXRlIik7Y2xhc3MgUnJ7Y29uc3RydWN0b3IoKXt0aGlzLnNhbml0aXplZFNvbWV0aGluZz0hMSx0aGlzLmJ1Zj1bXX1zYW5pdGl6ZUNoaWxkcmVuKHQpe2xldCBlPXQuZmlyc3RDaGlsZCxuPSEwO2Zvcig7ZTspaWYoZS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFP249dGhpcy5zdGFydEVsZW1lbnQoZSk6ZS5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFP3RoaXMuY2hhcnMoZS5ub2RlVmFsdWUpOnRoaXMuc2FuaXRpemVkU29tZXRoaW5nPSEwLG4mJmUuZmlyc3RDaGlsZCllPWUuZmlyc3RDaGlsZDtlbHNlIGZvcig7ZTspe2Uubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmdGhpcy5lbmRFbGVtZW50KGUpO2xldCB0PXRoaXMuY2hlY2tDbG9iYmVyZWRFbGVtZW50KGUsZS5uZXh0U2libGluZyk7aWYodCl7ZT10O2JyZWFrfWU9dGhpcy5jaGVja0Nsb2JiZXJlZEVsZW1lbnQoZSxlLnBhcmVudE5vZGUpfXJldHVybiB0aGlzLmJ1Zi5qb2luKCIiKX1zdGFydEVsZW1lbnQodCl7Y29uc3QgZT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoIVRyLmhhc093blByb3BlcnR5KGUpKXJldHVybiB0aGlzLnNhbml0aXplZFNvbWV0aGluZz0hMCwhSXIuaGFzT3duUHJvcGVydHkoZSk7dGhpcy5idWYucHVzaCgiPCIpLHRoaXMuYnVmLnB1c2goZSk7Y29uc3Qgbj10LmF0dHJpYnV0ZXM7Zm9yKGxldCBzPTA7czxuLmxlbmd0aDtzKyspe2NvbnN0IHQ9bi5pdGVtKHMpLGU9dC5uYW1lLGk9ZS50b0xvd2VyQ2FzZSgpO2lmKCFQci5oYXNPd25Qcm9wZXJ0eShpKSl7dGhpcy5zYW5pdGl6ZWRTb21ldGhpbmc9ITA7Y29udGludWV9bGV0IG89dC52YWx1ZTtGcltpXSYmKG89Q3IobykpLE9yW2ldJiYocj1vLG89KHI9U3RyaW5nKHIpKS5zcGxpdCgiLCIpLm1hcCh0PT5Dcih0LnRyaW0oKSkpLmpvaW4oIiwgIikpLHRoaXMuYnVmLnB1c2goIiAiLGUsJz0iJyxOcihvKSwnIicpfXZhciByO3JldHVybiB0aGlzLmJ1Zi5wdXNoKCI+IiksITB9ZW5kRWxlbWVudCh0KXtjb25zdCBlPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtUci5oYXNPd25Qcm9wZXJ0eShlKSYmIUFyLmhhc093blByb3BlcnR5KGUpJiYodGhpcy5idWYucHVzaCgiPC8iKSx0aGlzLmJ1Zi5wdXNoKGUpLHRoaXMuYnVmLnB1c2goIj4iKSl9Y2hhcnModCl7dGhpcy5idWYucHVzaChOcih0KSl9Y2hlY2tDbG9iYmVyZWRFbGVtZW50KHQsZSl7aWYoZSYmKHQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZSkmTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkpPT09Tm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkpdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2FuaXRpemUgaHRtbCBiZWNhdXNlIHRoZSBlbGVtZW50IGlzIGNsb2JiZXJlZDogJHt0Lm91dGVySFRNTH1gKTtyZXR1cm4gZX19Y29uc3QgTXI9L1tcdUQ4MDAtXHVEQkZGXVtcdURDMDAtXHVERkZGXS9nLGpyPS8oW15cIy1+IHwhXSkvZztmdW5jdGlvbiBOcih0KXtyZXR1cm4gdC5yZXBsYWNlKC8mL2csIiZhbXA7IikucmVwbGFjZShNcixmdW5jdGlvbih0KXtyZXR1cm4iJiMiKygxMDI0Kih0LmNoYXJDb2RlQXQoMCktNTUyOTYpKyh0LmNoYXJDb2RlQXQoMSktNTYzMjApKzY1NTM2KSsiOyJ9KS5yZXBsYWNlKGpyLGZ1bmN0aW9uKHQpe3JldHVybiImIyIrdC5jaGFyQ29kZUF0KDApKyI7In0pLnJlcGxhY2UoLzwvZywiJmx0OyIpLnJlcGxhY2UoLz4vZywiJmd0OyIpfWxldCBWcjtmdW5jdGlvbiBMcih0KXtyZXR1cm4iY29udGVudCJpbiB0JiZmdW5jdGlvbih0KXtyZXR1cm4gdC5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiYiVEVNUExBVEUiPT09dC5ub2RlTmFtZX0odCk/dC5jb250ZW50Om51bGx9dmFyIEJyPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuTk9ORT0wXT0iTk9ORSIsdFt0LkhUTUw9MV09IkhUTUwiLHRbdC5TVFlMRT0yXT0iU1RZTEUiLHRbdC5TQ1JJUFQ9M109IlNDUklQVCIsdFt0LlVSTD00XT0iVVJMIix0W3QuUkVTT1VSQ0VfVVJMPTVdPSJSRVNPVVJDRV9VUkwiLHR9KHt9KTtmdW5jdGlvbiBVcih0KXtjb25zdCBlPWZ1bmN0aW9uKCl7Y29uc3QgdD1UZSgpO3JldHVybiB0JiZ0WzEyXX0oKTtyZXR1cm4gZT9ncihlLnNhbml0aXplKEJyLkhUTUwsdCl8fCIiKTpmdW5jdGlvbih0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBtciYmdC5nZXRUeXBlTmFtZSgpfHxudWxsfSh0KTtpZihudWxsIT1uJiZuIT09ZSl7aWYoIlJlc291cmNlVVJMIj09PW4mJiJVUkwiPT09ZSlyZXR1cm4hMDt0aHJvdyBuZXcgRXJyb3IoYFJlcXVpcmVkIGEgc2FmZSAke2V9LCBnb3QgYSAke259IChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgKX1yZXR1cm4gbj09PWV9KHQsIkhUTUwiKT9ncih5cih0KSk6ZnVuY3Rpb24odCxlKXtsZXQgbj1udWxsO3RyeXtWcj1Wcnx8ZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgYnIodCk7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3JldHVybiEhKG5ldyB3aW5kb3cuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZnIoIiIpLCJ0ZXh0L2h0bWwiKX1jYXRjaCh0KXtyZXR1cm4hMX19KCk/bmV3IHZyKGUpOmV9KHQpO2xldCByPWU/U3RyaW5nKGUpOiIiO249VnIuZ2V0SW5lcnRCb2R5RWxlbWVudChyKTtsZXQgcz01LGk9cjtkb3tpZigwPT09cyl0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBzYW5pdGl6ZSBodG1sIGJlY2F1c2UgdGhlIGlucHV0IGlzIHVuc3RhYmxlIik7cy0tLHI9aSxpPW4uaW5uZXJIVE1MLG49VnIuZ2V0SW5lcnRCb2R5RWxlbWVudChyKX13aGlsZShyIT09aSk7cmV0dXJuIGZyKChuZXcgUnIpLnNhbml0aXplQ2hpbGRyZW4oTHIobil8fG4pKX1maW5hbGx5e2lmKG4pe2NvbnN0IHQ9THIobil8fG47Zm9yKDt0LmZpcnN0Q2hpbGQ7KXQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKX19fShmZSgpLGx0KHQpKX1mdW5jdGlvbiBIcih0LGUpe3QuX19uZ0NvbnRleHRfXz1lfWZ1bmN0aW9uICRyKHQpe2NvbnN0IGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19uZ0NvbnRleHRfX3x8bnVsbH0odCk7cmV0dXJuIGU/QXJyYXkuaXNBcnJheShlKT9lOmUubFZpZXc6bnVsbH1mdW5jdGlvbiB6cih0KXtyZXR1cm4gdC5uZ0RlYnVnQ29udGV4dH1mdW5jdGlvbiBxcih0KXtyZXR1cm4gdC5uZ09yaWdpbmFsRXJyb3J9ZnVuY3Rpb24gV3IodCwuLi5lKXt0LmVycm9yKC4uLmUpfWNsYXNzIEdye2NvbnN0cnVjdG9yKCl7dGhpcy5fY29uc29sZT1jb25zb2xlfWhhbmRsZUVycm9yKHQpe2NvbnN0IGU9dGhpcy5fZmluZE9yaWdpbmFsRXJyb3IodCksbj10aGlzLl9maW5kQ29udGV4dCh0KSxyPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm5nRXJyb3JMb2dnZXJ8fFdyfSh0KTtyKHRoaXMuX2NvbnNvbGUsIkVSUk9SIix0KSxlJiZyKHRoaXMuX2NvbnNvbGUsIk9SSUdJTkFMIEVSUk9SIixlKSxuJiZyKHRoaXMuX2NvbnNvbGUsIkVSUk9SIENPTlRFWFQiLG4pfV9maW5kQ29udGV4dCh0KXtyZXR1cm4gdD96cih0KT96cih0KTp0aGlzLl9maW5kQ29udGV4dChxcih0KSk6bnVsbH1fZmluZE9yaWdpbmFsRXJyb3IodCl7bGV0IGU9cXIodCk7Zm9yKDtlJiZxcihlKTspZT1xcihlKTtyZXR1cm4gZX19Y29uc3QgWnI9KCgpPT4oInVuZGVmaW5lZCIhPXR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJnJlcXVlc3RBbmltYXRpb25GcmFtZXx8c2V0VGltZW91dCkuYmluZChPdCkpKCk7ZnVuY3Rpb24gS3IodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBGdW5jdGlvbj90KCk6dH12YXIgWXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5JbXBvcnRhbnQ9MV09IkltcG9ydGFudCIsdFt0LkRhc2hDYXNlPTJdPSJEYXNoQ2FzZSIsdH0oe30pO2Z1bmN0aW9uIFFyKHQsZSl7cmV0dXJuKHZvaWQgMCkodCxlKX1mdW5jdGlvbiBYcih0KXtjb25zdCBlPXRbM107cmV0dXJuIGVlKGUpP2VbM106ZX1mdW5jdGlvbiBKcih0KXtyZXR1cm4gZXModFsxM10pfWZ1bmN0aW9uIHRzKHQpe3JldHVybiBlcyh0WzRdKX1mdW5jdGlvbiBlcyh0KXtmb3IoO251bGwhPT10JiYhZWUodCk7KXQ9dFs0XTtyZXR1cm4gdH1mdW5jdGlvbiBucyh0LGUsbixyLHMpe2lmKG51bGwhPXIpe2xldCBpLG89ITE7ZWUocik/aT1yOnRlKHIpJiYobz0hMCxyPXJbMF0pO2NvbnN0IGE9eWUocik7MD09PXQmJm51bGwhPT1uP251bGw9PXM/Y3MoZSxuLGEpOnVzKGUsbixhLHN8fG51bGwsITApOjE9PT10JiZudWxsIT09bj91cyhlLG4sYSxzfHxudWxsLCEwKToyPT09dD9mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1kcyh0LGUpO3ImJmZ1bmN0aW9uKHQsZSxuLHIpe2dlKHQpP3QucmVtb3ZlQ2hpbGQoZSxuLHIpOmUucmVtb3ZlQ2hpbGQobil9KHQscixlLG4pfShlLGEsbyk6Mz09PXQmJmUuZGVzdHJveU5vZGUoYSksbnVsbCE9aSYmZnVuY3Rpb24odCxlLG4scixzKXtjb25zdCBpPW5bN107aSE9PXllKG4pJiZucyhlLHQscixpLHMpO2ZvcihsZXQgbz1KdDtvPG4ubGVuZ3RoO28rKyl7Y29uc3Qgcz1uW29dO3dzKHNbMV0scyx0LGUscixpKX19KGUsdCxpLG4scyl9fWZ1bmN0aW9uIHJzKHQsZSxuKXtyZXR1cm4gZ2UodCk/dC5jcmVhdGVFbGVtZW50KGUsbik6bnVsbD09PW4/dC5jcmVhdGVFbGVtZW50KGUpOnQuY3JlYXRlRWxlbWVudE5TKG4sZSl9ZnVuY3Rpb24gc3ModCxlKXtjb25zdCBuPXRbOV0scj1uLmluZGV4T2YoZSkscz1lWzNdOzEwMjQmZVsyXSYmKGVbMl0mPS0xMDI1LFNlKHMsLTEpKSxuLnNwbGljZShyLDEpfWZ1bmN0aW9uIGlzKHQsZSl7aWYodC5sZW5ndGg8PUp0KXJldHVybjtjb25zdCBuPUp0K2Uscj10W25dO2lmKHIpe2NvbnN0IGk9clsxN107bnVsbCE9PWkmJmkhPT10JiZzcyhpLHIpLGU+MCYmKHRbbi0xXVs0XT1yWzRdKTtjb25zdCBvPVpuKHQsSnQrZSk7d3MoclsxXSxzPXIsc1sxMV0sMixudWxsLG51bGwpLHNbMF09bnVsbCxzWzZdPW51bGw7Y29uc3QgYT1vWzE5XTtudWxsIT09YSYmYS5kZXRhY2hWaWV3KG9bMV0pLHJbM109bnVsbCxyWzRdPW51bGwsclsyXSY9LTEyOX12YXIgcztyZXR1cm4gcn1mdW5jdGlvbiBvcyh0LGUpe2lmKCEoMjU2JmVbMl0pKXtjb25zdCBuPWVbMTFdO2dlKG4pJiZuLmRlc3Ryb3lOb2RlJiZ3cyh0LGUsbiwzLG51bGwsbnVsbCksZnVuY3Rpb24odCl7bGV0IGU9dFsxM107aWYoIWUpcmV0dXJuIGFzKHRbMV0sdCk7Zm9yKDtlOyl7bGV0IG49bnVsbDtpZih0ZShlKSluPWVbMTNdO2Vsc2V7Y29uc3QgdD1lWzEwXTt0JiYobj10KX1pZighbil7Zm9yKDtlJiYhZVs0XSYmZSE9PXQ7KXRlKGUpJiZhcyhlWzFdLGUpLGU9ZVszXTtudWxsPT09ZSYmKGU9dCksdGUoZSkmJmFzKGVbMV0sZSksbj1lJiZlWzRdfWU9bn19KGUpfX1mdW5jdGlvbiBhcyh0LGUpe2lmKCEoMjU2JmVbMl0pKXtlWzJdJj0tMTI5LGVbMl18PTI1NixmdW5jdGlvbih0LGUpe2xldCBuO2lmKG51bGwhPXQmJm51bGwhPShuPXQuZGVzdHJveUhvb2tzKSlmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrPTIpe2NvbnN0IHQ9ZVtuW3JdXTtpZighKHQgaW5zdGFuY2VvZiBjbikpe2NvbnN0IGU9bltyKzFdO2lmKEFycmF5LmlzQXJyYXkoZSkpZm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKz0yKXtjb25zdCByPXRbZVtuXV0scz1lW24rMV07dHJ5e3MuY2FsbChyKX1maW5hbGx5e319ZWxzZSB0cnl7ZS5jYWxsKHQpfWZpbmFsbHl7fX19fSh0LGUpLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmNsZWFudXAscj1lWzddO2xldCBzPS0xO2lmKG51bGwhPT1uKWZvcihsZXQgaT0wO2k8bi5sZW5ndGgtMTtpKz0yKWlmKCJzdHJpbmciPT10eXBlb2YgbltpXSl7Y29uc3QgdD1uW2krMV0sbz0iZnVuY3Rpb24iPT10eXBlb2YgdD90KGUpOnllKGVbdF0pLGE9cltzPW5baSsyXV0sbD1uW2krM107ImJvb2xlYW4iPT10eXBlb2YgbD9vLnJlbW92ZUV2ZW50TGlzdGVuZXIobltpXSxhLGwpOmw+PTA/cltzPWxdKCk6cltzPS1sXS51bnN1YnNjcmliZSgpLGkrPTJ9ZWxzZXtjb25zdCB0PXJbcz1uW2krMV1dO25baV0uY2FsbCh0KX1pZihudWxsIT09cil7Zm9yKGxldCB0PXMrMTt0PHIubGVuZ3RoO3QrKykoMCxyW3RdKSgpO2VbN109bnVsbH19KHQsZSksMT09PWVbMV0udHlwZSYmZ2UoZVsxMV0pJiZlWzExXS5kZXN0cm95KCk7Y29uc3Qgbj1lWzE3XTtpZihudWxsIT09biYmZWUoZVszXSkpe24hPT1lWzNdJiZzcyhuLGUpO2NvbnN0IHI9ZVsxOV07bnVsbCE9PXImJnIuZGV0YWNoVmlldyh0KX19fWZ1bmN0aW9uIGxzKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2xldCByPWU7Zm9yKDtudWxsIT09ciYmNDAmci50eXBlOylyPShlPXIpLnBhcmVudDtpZihudWxsPT09cilyZXR1cm4gblswXTtpZigyJnIuZmxhZ3Mpe2NvbnN0IGU9dC5kYXRhW3IuZGlyZWN0aXZlU3RhcnRdLmVuY2Fwc3VsYXRpb247aWYoZT09PVN0Lk5vbmV8fGU9PT1TdC5FbXVsYXRlZClyZXR1cm4gbnVsbH1yZXR1cm4gYmUocixuKX0odCxlLnBhcmVudCxuKX1mdW5jdGlvbiB1cyh0LGUsbixyLHMpe2dlKHQpP3QuaW5zZXJ0QmVmb3JlKGUsbixyLHMpOmUuaW5zZXJ0QmVmb3JlKG4scixzKX1mdW5jdGlvbiBjcyh0LGUsbil7Z2UodCk/dC5hcHBlbmRDaGlsZChlLG4pOmUuYXBwZW5kQ2hpbGQobil9ZnVuY3Rpb24gaHModCxlLG4scixzKXtudWxsIT09cj91cyh0LGUsbixyLHMpOmNzKHQsZSxuKX1mdW5jdGlvbiBkcyh0LGUpe3JldHVybiBnZSh0KT90LnBhcmVudE5vZGUoZSk6ZS5wYXJlbnROb2RlfWZ1bmN0aW9uIHBzKHQsZSxuKXtyZXR1cm4gZnModCxlLG4pfWxldCBmcz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIDQwJnQudHlwZT9iZSh0LG4pOm51bGx9O2Z1bmN0aW9uIGdzKHQsZSxuLHIpe2NvbnN0IHM9bHModCxyLGUpLGk9ZVsxMV0sbz1wcyhyLnBhcmVudHx8ZVs2XSxyLGUpO2lmKG51bGwhPXMpaWYoQXJyYXkuaXNBcnJheShuKSlmb3IobGV0IGE9MDthPG4ubGVuZ3RoO2ErKylocyhpLHMsblthXSxvLCExKTtlbHNlIGhzKGkscyxuLG8sITEpfWZ1bmN0aW9uIG1zKHQsZSl7aWYobnVsbCE9PWUpe2NvbnN0IG49ZS50eXBlO2lmKDMmbilyZXR1cm4gYmUoZSx0KTtpZig0Jm4pcmV0dXJuIHZzKC0xLHRbZS5pbmRleF0pO2lmKDgmbil7Y29uc3Qgbj1lLmNoaWxkO2lmKG51bGwhPT1uKXJldHVybiBtcyh0LG4pO3tjb25zdCBuPXRbZS5pbmRleF07cmV0dXJuIGVlKG4pP3ZzKC0xLG4pOnllKG4pfX1pZigzMiZuKXJldHVybiBRcihlLHQpKCl8fHllKHRbZS5pbmRleF0pO3tjb25zdCBuPXlzKHQsZSk7cmV0dXJuIG51bGwhPT1uP0FycmF5LmlzQXJyYXkobik/blswXTptcyhYcih0WzE2XSksbik6bXModCxlLm5leHQpfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB5cyh0LGUpe3JldHVybiBudWxsIT09ZT90WzE2XVs2XS5wcm9qZWN0aW9uW2UucHJvamVjdGlvbl06bnVsbH1mdW5jdGlvbiB2cyh0LGUpe2NvbnN0IG49SnQrdCsxO2lmKG48ZS5sZW5ndGgpe2NvbnN0IHQ9ZVtuXSxyPXRbMV0uZmlyc3RDaGlsZDtpZihudWxsIT09cilyZXR1cm4gbXModCxyKX1yZXR1cm4gZVs3XX1mdW5jdGlvbiBicyh0LGUsbixyLHMsaSxvKXtmb3IoO251bGwhPW47KXtjb25zdCBhPXJbbi5pbmRleF0sbD1uLnR5cGU7aWYobyYmMD09PWUmJihhJiZIcih5ZShhKSxyKSxuLmZsYWdzfD00KSw2NCE9KDY0Jm4uZmxhZ3MpKWlmKDgmbClicyh0LGUsbi5jaGlsZCxyLHMsaSwhMSksbnMoZSx0LHMsYSxpKTtlbHNlIGlmKDMyJmwpe2NvbnN0IG89UXIobixyKTtsZXQgbDtmb3IoO2w9bygpOylucyhlLHQscyxsLGkpO25zKGUsdCxzLGEsaSl9ZWxzZSAxNiZsP19zKHQsZSxyLG4scyxpKTpucyhlLHQscyxhLGkpO249bz9uLnByb2plY3Rpb25OZXh0Om4ubmV4dH19ZnVuY3Rpb24gd3ModCxlLG4scixzLGkpe2JzKG4scix0LmZpcnN0Q2hpbGQsZSxzLGksITEpfWZ1bmN0aW9uIF9zKHQsZSxuLHIscyxpKXtjb25zdCBvPW5bMTZdLGE9b1s2XS5wcm9qZWN0aW9uW3IucHJvamVjdGlvbl07aWYoQXJyYXkuaXNBcnJheShhKSlmb3IobGV0IGw9MDtsPGEubGVuZ3RoO2wrKylucyhlLHQscyxhW2xdLGkpO2Vsc2UgYnModCxlLGEsb1szXSxzLGksITApfWZ1bmN0aW9uIENzKHQsZSxuKXtnZSh0KT90LnNldEF0dHJpYnV0ZShlLCJzdHlsZSIsbik6ZS5zdHlsZS5jc3NUZXh0PW59ZnVuY3Rpb24gRHModCxlLG4pe2dlKHQpPyIiPT09bj90LnJlbW92ZUF0dHJpYnV0ZShlLCJjbGFzcyIpOnQuc2V0QXR0cmlidXRlKGUsImNsYXNzIixuKTplLmNsYXNzTmFtZT1ufWZ1bmN0aW9uIEVzKHQsZSxuKXtsZXQgcj10Lmxlbmd0aDtmb3IoOzspe2NvbnN0IHM9dC5pbmRleE9mKGUsbik7aWYoLTE9PT1zKXJldHVybiBzO2lmKDA9PT1zfHx0LmNoYXJDb2RlQXQocy0xKTw9MzIpe2NvbnN0IG49ZS5sZW5ndGg7aWYocytuPT09cnx8dC5jaGFyQ29kZUF0KHMrbik8PTMyKXJldHVybiBzfW49cysxfX1jb25zdCBBcz0ibmctdGVtcGxhdGUiO2Z1bmN0aW9uIFNzKHQsZSxuKXtsZXQgcj0wO2Zvcig7cjx0Lmxlbmd0aDspe2xldCBzPXRbcisrXTtpZihuJiYiY2xhc3MiPT09cyl7aWYocz10W3JdLC0xIT09RXMocy50b0xvd2VyQ2FzZSgpLGUsMCkpcmV0dXJuITB9ZWxzZSBpZigxPT09cyl7Zm9yKDtyPHQubGVuZ3RoJiYic3RyaW5nIj09dHlwZW9mKHM9dFtyKytdKTspaWYocy50b0xvd2VyQ2FzZSgpPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX19cmV0dXJuITF9ZnVuY3Rpb24geHModCl7cmV0dXJuIDQ9PT10LnR5cGUmJnQudmFsdWUhPT1Bc31mdW5jdGlvbiBrcyh0LGUsbil7cmV0dXJuIGU9PT0oNCE9PXQudHlwZXx8bj90LnZhbHVlOkFzKX1mdW5jdGlvbiBUcyh0LGUsbil7bGV0IHI9NDtjb25zdCBzPXQuYXR0cnN8fFtdLGk9ZnVuY3Rpb24odCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYoZG4odFtlXSkpcmV0dXJuIGU7cmV0dXJuIHQubGVuZ3RofShzKTtsZXQgbz0hMTtmb3IobGV0IGE9MDthPGUubGVuZ3RoO2ErKyl7Y29uc3QgbD1lW2FdO2lmKCJudW1iZXIiIT10eXBlb2YgbCl7aWYoIW8paWYoNCZyKXtpZihyPTJ8MSZyLCIiIT09bCYmIWtzKHQsbCxuKXx8IiI9PT1sJiYxPT09ZS5sZW5ndGgpe2lmKEZzKHIpKXJldHVybiExO289ITB9fWVsc2V7Y29uc3QgdT04JnI/bDplWysrYV07aWYoOCZyJiZudWxsIT09dC5hdHRycyl7aWYoIVNzKHQuYXR0cnMsdSxuKSl7aWYoRnMocikpcmV0dXJuITE7bz0hMH1jb250aW51ZX1jb25zdCBjPU9zKDgmcj8iY2xhc3MiOmwscyx4cyh0KSxuKTtpZigtMT09PWMpe2lmKEZzKHIpKXJldHVybiExO289ITA7Y29udGludWV9aWYoIiIhPT11KXtsZXQgdDt0PWM+aT8iIjpzW2MrMV0udG9Mb3dlckNhc2UoKTtjb25zdCBlPTgmcj90Om51bGw7aWYoZSYmLTEhPT1FcyhlLHUsMCl8fDImciYmdSE9PXQpe2lmKEZzKHIpKXJldHVybiExO289ITB9fX19ZWxzZXtpZighbyYmIUZzKHIpJiYhRnMobCkpcmV0dXJuITE7aWYobyYmRnMobCkpY29udGludWU7bz0hMSxyPWx8MSZyfX1yZXR1cm4gRnMocil8fG99ZnVuY3Rpb24gRnModCl7cmV0dXJuIDA9PSgxJnQpfWZ1bmN0aW9uIE9zKHQsZSxuLHIpe2lmKG51bGw9PT1lKXJldHVybi0xO2xldCBzPTA7aWYocnx8IW4pe2xldCBuPSExO2Zvcig7czxlLmxlbmd0aDspe2NvbnN0IHI9ZVtzXTtpZihyPT09dClyZXR1cm4gcztpZigzPT09cnx8Nj09PXIpbj0hMDtlbHNle2lmKDE9PT1yfHwyPT09cil7bGV0IHQ9ZVsrK3NdO2Zvcig7InN0cmluZyI9PXR5cGVvZiB0Oyl0PWVbKytzXTtjb250aW51ZX1pZig0PT09cilicmVhaztpZigwPT09cil7cys9NDtjb250aW51ZX19cys9bj8xOjJ9cmV0dXJuLTF9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7bGV0IG49dC5pbmRleE9mKDQpO2lmKG4+LTEpZm9yKG4rKztuPHQubGVuZ3RoOyl7Y29uc3Qgcj10W25dO2lmKCJudW1iZXIiPT10eXBlb2YgcilyZXR1cm4tMTtpZihyPT09ZSlyZXR1cm4gbjtuKyt9cmV0dXJuLTF9KGUsdCl9ZnVuY3Rpb24gUHModCxlLG49ITEpe2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKFRzKHQsZVtyXSxuKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBJcyh0LGUpe3Q6Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IHI9ZVtuXTtpZih0Lmxlbmd0aD09PXIubGVuZ3RoKXtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpZih0W2VdIT09cltlXSljb250aW51ZSB0O3JldHVybiEwfX1yZXR1cm4hMX1mdW5jdGlvbiBScyh0LGUpe3JldHVybiB0PyI6bm90KCIrZS50cmltKCkrIikiOmV9ZnVuY3Rpb24gTXModCl7bGV0IGU9dFswXSxuPTEscj0yLHM9IiIsaT0hMTtmb3IoO248dC5sZW5ndGg7KXtsZXQgbz10W25dO2lmKCJzdHJpbmciPT10eXBlb2YgbylpZigyJnIpe2NvbnN0IGU9dFsrK25dO3MrPSJbIitvKyhlLmxlbmd0aD4wPyc9IicrZSsnIic6IiIpKyJdIn1lbHNlIDgmcj9zKz0iLiIrbzo0JnImJihzKz0iICIrbyk7ZWxzZSIiPT09c3x8RnMobyl8fChlKz1ScyhpLHMpLHM9IiIpLHI9byxpPWl8fCFGcyhyKTtuKyt9cmV0dXJuIiIhPT1zJiYoZSs9UnMoaSxzKSksZX1jb25zdCBqcz17fTtmdW5jdGlvbiBOcyh0KXtWcyhGZSgpLFRlKCksSmUoKSt0LE5lKCkpfWZ1bmN0aW9uIFZzKHQsZSxuLHIpe2lmKCFyKWlmKDM9PSgzJmVbMl0pKXtjb25zdCByPXQucHJlT3JkZXJDaGVja0hvb2tzO251bGwhPT1yJiZybihlLHIsbil9ZWxzZXtjb25zdCByPXQucHJlT3JkZXJIb29rcztudWxsIT09ciYmc24oZSxyLDAsbil9dG4obil9ZnVuY3Rpb24gTHModCxlKXtyZXR1cm4gdDw8MTd8ZTw8Mn1mdW5jdGlvbiBCcyh0KXtyZXR1cm4gdD4+MTcmMzI3Njd9ZnVuY3Rpb24gVXModCl7cmV0dXJuIDJ8dH1mdW5jdGlvbiBIcyh0KXtyZXR1cm4oMTMxMDY4JnQpPj4yfWZ1bmN0aW9uICRzKHQsZSl7cmV0dXJuLTEzMTA2OSZ0fGU8PDJ9ZnVuY3Rpb24genModCl7cmV0dXJuIDF8dH1mdW5jdGlvbiBxcyh0LGUpe2NvbnN0IG49dC5jb250ZW50UXVlcmllcztpZihudWxsIT09bilmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrPTIpe2NvbnN0IHM9bltyXSxpPW5bcisxXTtpZigtMSE9PWkpe2NvbnN0IG49dC5kYXRhW2ldO3plKHMpLG4uY29udGVudFF1ZXJpZXMoMixlW2ldLGkpfX19ZnVuY3Rpb24gV3ModCxlLG4scixzLGksbyxhLGwsdSl7Y29uc3QgYz1lLmJsdWVwcmludC5zbGljZSgpO3JldHVybiBjWzBdPXMsY1syXT0xNDB8cixBZShjKSxjWzNdPWNbMTVdPXQsY1s4XT1uLGNbMTBdPW98fHQmJnRbMTBdLGNbMTFdPWF8fHQmJnRbMTFdLGNbMTJdPWx8fHQmJnRbMTJdfHxudWxsLGNbOV09dXx8dCYmdFs5XXx8bnVsbCxjWzZdPWksY1sxNl09Mj09ZS50eXBlP3RbMTZdOmMsY31mdW5jdGlvbiBHcyh0LGUsbixyLHMpe2xldCBpPXQuZGF0YVtlXTtpZihudWxsPT09aSlpPWZ1bmN0aW9uKHQsZSxuLHIscyl7Y29uc3QgaT1JZSgpLG89TWUoKSxhPXQuZGF0YVtlXT1mdW5jdGlvbih0LGUsbixyLHMsaSl7cmV0dXJue3R5cGU6bixpbmRleDpyLGluc2VydEJlZm9yZUluZGV4Om51bGwsaW5qZWN0b3JJbmRleDplP2UuaW5qZWN0b3JJbmRleDotMSxkaXJlY3RpdmVTdGFydDotMSxkaXJlY3RpdmVFbmQ6LTEsZGlyZWN0aXZlU3R5bGluZ0xhc3Q6LTEscHJvcGVydHlCaW5kaW5nczpudWxsLGZsYWdzOjAscHJvdmlkZXJJbmRleGVzOjAsdmFsdWU6cyxhdHRyczppLG1lcmdlZEF0dHJzOm51bGwsbG9jYWxOYW1lczpudWxsLGluaXRpYWxJbnB1dHM6dm9pZCAwLGlucHV0czpudWxsLG91dHB1dHM6bnVsbCx0Vmlld3M6bnVsbCxuZXh0Om51bGwscHJvamVjdGlvbk5leHQ6bnVsbCxjaGlsZDpudWxsLHBhcmVudDplLHByb2plY3Rpb246bnVsbCxzdHlsZXM6bnVsbCxzdHlsZXNXaXRob3V0SG9zdDpudWxsLHJlc2lkdWFsU3R5bGVzOnZvaWQgMCxjbGFzc2VzOm51bGwsY2xhc3Nlc1dpdGhvdXRIb3N0Om51bGwscmVzaWR1YWxDbGFzc2VzOnZvaWQgMCxjbGFzc0JpbmRpbmdzOjAsc3R5bGVCaW5kaW5nczowfX0oMCxvP2k6aSYmaS5wYXJlbnQsbixlLHIscyk7cmV0dXJuIG51bGw9PT10LmZpcnN0Q2hpbGQmJih0LmZpcnN0Q2hpbGQ9YSksbnVsbCE9PWkmJihvP251bGw9PWkuY2hpbGQmJm51bGwhPT1hLnBhcmVudCYmKGkuY2hpbGQ9YSk6bnVsbD09PWkubmV4dCYmKGkubmV4dD1hKSksYX0odCxlLG4scixzKSx4ZS5sRnJhbWUuaW5JMThuJiYoaS5mbGFnc3w9NjQpO2Vsc2UgaWYoNjQmaS50eXBlKXtpLnR5cGU9bixpLnZhbHVlPXIsaS5hdHRycz1zO2NvbnN0IHQ9ZnVuY3Rpb24oKXtjb25zdCB0PXhlLmxGcmFtZSxlPXQuY3VycmVudFROb2RlO3JldHVybiB0LmlzUGFyZW50P2U6ZS5wYXJlbnR9KCk7aS5pbmplY3RvckluZGV4PW51bGw9PT10Py0xOnQuaW5qZWN0b3JJbmRleH1yZXR1cm4gUmUoaSwhMCksaX1mdW5jdGlvbiBacyh0LGUsbixyKXtpZigwPT09bilyZXR1cm4tMTtjb25zdCBzPWUubGVuZ3RoO2ZvcihsZXQgaT0wO2k8bjtpKyspZS5wdXNoKHIpLHQuYmx1ZXByaW50LnB1c2gociksdC5kYXRhLnB1c2gobnVsbCk7cmV0dXJuIHN9ZnVuY3Rpb24gS3ModCxlLG4pe0dlKGUpO3RyeXtjb25zdCByPXQudmlld1F1ZXJ5O251bGwhPT1yJiZFaSgxLHIsbik7Y29uc3Qgcz10LnRlbXBsYXRlO251bGwhPT1zJiZYcyh0LGUscywxLG4pLHQuZmlyc3RDcmVhdGVQYXNzJiYodC5maXJzdENyZWF0ZVBhc3M9ITEpLHQuc3RhdGljQ29udGVudFF1ZXJpZXMmJnFzKHQsZSksdC5zdGF0aWNWaWV3UXVlcmllcyYmRWkoMix0LnZpZXdRdWVyeSxuKTtjb25zdCBpPXQuY29tcG9uZW50cztudWxsIT09aSYmZnVuY3Rpb24odCxlKXtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyliaSh0LGVbbl0pfShlLGkpfWNhdGNoKHIpe3Rocm93IHQuZmlyc3RDcmVhdGVQYXNzJiYodC5pbmNvbXBsZXRlRmlyc3RQYXNzPSEwKSxyfWZpbmFsbHl7ZVsyXSY9LTUsWGUoKX19ZnVuY3Rpb24gWXModCxlLG4scil7Y29uc3Qgcz1lWzJdO2lmKDI1Nj09KDI1NiZzKSlyZXR1cm47R2UoZSk7Y29uc3QgaT1OZSgpO3RyeXtBZShlKSx4ZS5sRnJhbWUuYmluZGluZ0luZGV4PXQuYmluZGluZ1N0YXJ0SW5kZXgsbnVsbCE9PW4mJlhzKHQsZSxuLDIscik7Y29uc3Qgbz0zPT0oMyZzKTtpZighaSlpZihvKXtjb25zdCBuPXQucHJlT3JkZXJDaGVja0hvb2tzO251bGwhPT1uJiZybihlLG4sbnVsbCl9ZWxzZXtjb25zdCBuPXQucHJlT3JkZXJIb29rcztudWxsIT09biYmc24oZSxuLDAsbnVsbCksb24oZSwwKX1pZihmdW5jdGlvbih0KXtmb3IobGV0IGU9SnIodCk7bnVsbCE9PWU7ZT10cyhlKSl7aWYoIWVbMl0pY29udGludWU7Y29uc3QgdD1lWzldO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBuPXRbZV0scj1uWzNdOzA9PSgxMDI0Jm5bMl0pJiZTZShyLDEpLG5bMl18PTEwMjR9fX0oZSksZnVuY3Rpb24odCl7Zm9yKGxldCBlPUpyKHQpO251bGwhPT1lO2U9dHMoZSkpZm9yKGxldCB0PUp0O3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBuPWVbdF0scj1uWzFdO0RlKG4pJiZZcyhyLG4sci50ZW1wbGF0ZSxuWzhdKX19KGUpLG51bGwhPT10LmNvbnRlbnRRdWVyaWVzJiZxcyh0LGUpLCFpKWlmKG8pe2NvbnN0IG49dC5jb250ZW50Q2hlY2tIb29rcztudWxsIT09biYmcm4oZSxuKX1lbHNle2NvbnN0IG49dC5jb250ZW50SG9va3M7bnVsbCE9PW4mJnNuKGUsbiwxKSxvbihlLDEpfSFmdW5jdGlvbih0LGUpe2NvbnN0IG49dC5ob3N0QmluZGluZ09wQ29kZXM7aWYobnVsbCE9PW4pdHJ5e2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKXtjb25zdCByPW5bdF07aWYocjwwKXRuKH5yKTtlbHNle2NvbnN0IHM9cixpPW5bKyt0XSxvPW5bKyt0XTtVZShpLHMpLG8oMixlW3NdKX19fWZpbmFsbHl7dG4oLTEpfX0odCxlKTtjb25zdCBhPXQuY29tcG9uZW50cztudWxsIT09YSYmZnVuY3Rpb24odCxlKXtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl5aSh0LGVbbl0pfShlLGEpO2NvbnN0IGw9dC52aWV3UXVlcnk7aWYobnVsbCE9PWwmJkVpKDIsbCxyKSwhaSlpZihvKXtjb25zdCBuPXQudmlld0NoZWNrSG9va3M7bnVsbCE9PW4mJnJuKGUsbil9ZWxzZXtjb25zdCBuPXQudmlld0hvb2tzO251bGwhPT1uJiZzbihlLG4sMiksb24oZSwyKX0hMD09PXQuZmlyc3RVcGRhdGVQYXNzJiYodC5maXJzdFVwZGF0ZVBhc3M9ITEpLGl8fChlWzJdJj0tNzMpLDEwMjQmZVsyXSYmKGVbMl0mPS0xMDI1LFNlKGVbM10sLTEpKX1maW5hbGx5e1hlKCl9fWZ1bmN0aW9uIFFzKHQsZSxuLHIpe2NvbnN0IHM9ZVsxMF0saT0hTmUoKSxvPUNlKGUpO3RyeXtpJiYhbyYmcy5iZWdpbiYmcy5iZWdpbigpLG8mJktzKHQsZSxyKSxZcyh0LGUsbixyKX1maW5hbGx5e2kmJiFvJiZzLmVuZCYmcy5lbmQoKX19ZnVuY3Rpb24gWHModCxlLG4scixzKXtjb25zdCBpPUplKCksbz0yJnI7dHJ5e3RuKC0xKSxvJiZlLmxlbmd0aD5YdCYmVnModCxlLFh0LE5lKCkpLG4ocixzKX1maW5hbGx5e3RuKGkpfX1mdW5jdGlvbiBKcyh0LGUsbil7aWYobmUoZSkpe2NvbnN0IHI9ZS5kaXJlY3RpdmVFbmQ7Zm9yKGxldCBzPWUuZGlyZWN0aXZlU3RhcnQ7czxyO3MrKyl7Y29uc3QgZT10LmRhdGFbc107ZS5jb250ZW50UXVlcmllcyYmZS5jb250ZW50UXVlcmllcygxLG5bc10scyl9fX1mdW5jdGlvbiB0aSh0LGUsbil7a2UoKSYmKGZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9bi5kaXJlY3RpdmVTdGFydCxpPW4uZGlyZWN0aXZlRW5kO3QuZmlyc3RDcmVhdGVQYXNzfHxDbihuLGUpLEhyKHIsZSk7Y29uc3Qgbz1uLmluaXRpYWxJbnB1dHM7Zm9yKGxldCBhPXM7YTxpO2ErKyl7Y29uc3Qgcj10LmRhdGFbYV0saT1pZShyKTtpJiZwaShlLG4scik7Y29uc3QgbD1SbihlLHQsYSxuKTtIcihsLGUpLG51bGwhPT1vJiZmaSgwLGEtcyxsLHIsMCxvKSxpJiYoX2Uobi5pbmRleCxlKVs4XT1sKX19KHQsZSxuLGJlKG4sZSkpLDEyOD09KDEyOCZuLmZsYWdzKSYmZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9bi5kaXJlY3RpdmVTdGFydCxzPW4uZGlyZWN0aXZlRW5kLGk9bi5pbmRleCxvPXhlLmxGcmFtZS5jdXJyZW50RGlyZWN0aXZlSW5kZXg7dHJ5e3RuKGkpO2ZvcihsZXQgbj1yO248cztuKyspe2NvbnN0IHI9dC5kYXRhW25dLHM9ZVtuXTtIZShuKSxudWxsPT09ci5ob3N0QmluZGluZ3MmJjA9PT1yLmhvc3RWYXJzJiZudWxsPT09ci5ob3N0QXR0cnN8fGxpKHIscyl9fWZpbmFsbHl7dG4oLTEpLEhlKG8pfX0odCxlLG4pKX1mdW5jdGlvbiBlaSh0LGUsbj1iZSl7Y29uc3Qgcj1lLmxvY2FsTmFtZXM7aWYobnVsbCE9PXIpe2xldCBzPWUuaW5kZXgrMTtmb3IobGV0IGk9MDtpPHIubGVuZ3RoO2krPTIpe2NvbnN0IG89cltpKzFdLGE9LTE9PT1vP24oZSx0KTp0W29dO3RbcysrXT1hfX19ZnVuY3Rpb24gbmkodCl7Y29uc3QgZT10LnRWaWV3O3JldHVybiBudWxsPT09ZXx8ZS5pbmNvbXBsZXRlRmlyc3RQYXNzP3QudFZpZXc9cmkoMSxudWxsLHQudGVtcGxhdGUsdC5kZWNscyx0LnZhcnMsdC5kaXJlY3RpdmVEZWZzLHQucGlwZURlZnMsdC52aWV3UXVlcnksdC5zY2hlbWFzLHQuY29uc3RzKTplfWZ1bmN0aW9uIHJpKHQsZSxuLHIscyxpLG8sYSxsLHUpe2NvbnN0IGM9WHQrcixoPWMrcyxkPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1bXTtmb3IobGV0IHI9MDtyPGU7cisrKW4ucHVzaChyPHQ/bnVsbDpqcyk7cmV0dXJuIG59KGMsaCkscD0iZnVuY3Rpb24iPT10eXBlb2YgdT91KCk6dTtyZXR1cm4gZFsxXT17dHlwZTp0LGJsdWVwcmludDpkLHRlbXBsYXRlOm4scXVlcmllczpudWxsLHZpZXdRdWVyeTphLGRlY2xUTm9kZTplLGRhdGE6ZC5zbGljZSgpLmZpbGwobnVsbCxjKSxiaW5kaW5nU3RhcnRJbmRleDpjLGV4cGFuZG9TdGFydEluZGV4OmgsaG9zdEJpbmRpbmdPcENvZGVzOm51bGwsZmlyc3RDcmVhdGVQYXNzOiEwLGZpcnN0VXBkYXRlUGFzczohMCxzdGF0aWNWaWV3UXVlcmllczohMSxzdGF0aWNDb250ZW50UXVlcmllczohMSxwcmVPcmRlckhvb2tzOm51bGwscHJlT3JkZXJDaGVja0hvb2tzOm51bGwsY29udGVudEhvb2tzOm51bGwsY29udGVudENoZWNrSG9va3M6bnVsbCx2aWV3SG9va3M6bnVsbCx2aWV3Q2hlY2tIb29rczpudWxsLGRlc3Ryb3lIb29rczpudWxsLGNsZWFudXA6bnVsbCxjb250ZW50UXVlcmllczpudWxsLGNvbXBvbmVudHM6bnVsbCxkaXJlY3RpdmVSZWdpc3RyeToiZnVuY3Rpb24iPT10eXBlb2YgaT9pKCk6aSxwaXBlUmVnaXN0cnk6ImZ1bmN0aW9uIj09dHlwZW9mIG8/bygpOm8sZmlyc3RDaGlsZDpudWxsLHNjaGVtYXM6bCxjb25zdHM6cCxpbmNvbXBsZXRlRmlyc3RQYXNzOiExfX1mdW5jdGlvbiBzaSh0LGUsbixyKXtjb25zdCBzPVNpKGUpO251bGw9PT1uP3MucHVzaChyKToocy5wdXNoKG4pLHQuZmlyc3RDcmVhdGVQYXNzJiZ4aSh0KS5wdXNoKHIscy5sZW5ndGgtMSkpfWZ1bmN0aW9uIGlpKHQsZSxuKXtmb3IobGV0IHIgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHIpKXtjb25zdCBzPXRbcl07KG49bnVsbD09PW4/e306bikuaGFzT3duUHJvcGVydHkocik/bltyXS5wdXNoKGUscyk6bltyXT1bZSxzXX1yZXR1cm4gbn1mdW5jdGlvbiBvaSh0LGUsbixyKXtsZXQgcz0hMTtpZihrZSgpKXtjb25zdCBpPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPXQuZGlyZWN0aXZlUmVnaXN0cnk7bGV0IHM9bnVsbDtpZihyKWZvcihsZXQgaT0wO2k8ci5sZW5ndGg7aSsrKXtjb25zdCBvPXJbaV07UHMobixvLnNlbGVjdG9ycywhMSkmJihzfHwocz1bXSksU24oQ24obixlKSx0LG8udHlwZSksaWUobyk/KHVpKHQsbikscy51bnNoaWZ0KG8pKTpzLnB1c2gobykpfXJldHVybiBzfSh0LGUsbiksbz1udWxsPT09cj9udWxsOnsiIjotMX07aWYobnVsbCE9PWkpe3M9ITAsaGkobix0LmRhdGEubGVuZ3RoLGkubGVuZ3RoKTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKyl7Y29uc3QgZT1pW3RdO2UucHJvdmlkZXJzUmVzb2x2ZXImJmUucHJvdmlkZXJzUmVzb2x2ZXIoZSl9bGV0IHI9ITEsYT0hMSxsPVpzKHQsZSxpLmxlbmd0aCxudWxsKTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoO3MrKyl7Y29uc3QgdT1pW3NdO24ubWVyZ2VkQXR0cnM9Zm4obi5tZXJnZWRBdHRycyx1Lmhvc3RBdHRycyksZGkodCxuLGUsbCx1KSxjaShsLHUsbyksbnVsbCE9PXUuY29udGVudFF1ZXJpZXMmJihuLmZsYWdzfD04KSxudWxsPT09dS5ob3N0QmluZGluZ3MmJm51bGw9PT11Lmhvc3RBdHRycyYmMD09PXUuaG9zdFZhcnN8fChuLmZsYWdzfD0xMjgpO2NvbnN0IGM9dS50eXBlLnByb3RvdHlwZTshciYmKGMubmdPbkNoYW5nZXN8fGMubmdPbkluaXR8fGMubmdEb0NoZWNrKSYmKCh0LnByZU9yZGVySG9va3N8fCh0LnByZU9yZGVySG9va3M9W10pKS5wdXNoKG4uaW5kZXgpLHI9ITApLGF8fCFjLm5nT25DaGFuZ2VzJiYhYy5uZ0RvQ2hlY2t8fCgodC5wcmVPcmRlckNoZWNrSG9va3N8fCh0LnByZU9yZGVyQ2hlY2tIb29rcz1bXSkpLnB1c2gobi5pbmRleCksYT0hMCksbCsrfSFmdW5jdGlvbih0LGUpe2NvbnN0IG49ZS5kaXJlY3RpdmVFbmQscj10LmRhdGEscz1lLmF0dHJzLGk9W107bGV0IG89bnVsbCxhPW51bGw7Zm9yKGxldCBsPWUuZGlyZWN0aXZlU3RhcnQ7bDxuO2wrKyl7Y29uc3QgdD1yW2xdLG49dC5pbnB1dHMsdT1udWxsPT09c3x8eHMoZSk/bnVsbDpnaShuLHMpO2kucHVzaCh1KSxvPWlpKG4sbCxvKSxhPWlpKHQub3V0cHV0cyxsLGEpfW51bGwhPT1vJiYoby5oYXNPd25Qcm9wZXJ0eSgiY2xhc3MiKSYmKGUuZmxhZ3N8PTE2KSxvLmhhc093blByb3BlcnR5KCJzdHlsZSIpJiYoZS5mbGFnc3w9MzIpKSxlLmluaXRpYWxJbnB1dHM9aSxlLmlucHV0cz1vLGUub3V0cHV0cz1hfSh0LG4pfW8mJmZ1bmN0aW9uKHQsZSxuKXtpZihlKXtjb25zdCByPXQubG9jYWxOYW1lcz1bXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrPTIpe2NvbnN0IHM9bltlW3QrMV1dO2lmKG51bGw9PXMpdGhyb3cgbmV3IGF0KCIzMDEiLGBFeHBvcnQgb2YgbmFtZSAnJHtlW3QrMV19JyBub3QgZm91bmQhYCk7ci5wdXNoKGVbdF0scyl9fX0obixyLG8pfXJldHVybiBuLm1lcmdlZEF0dHJzPWZuKG4ubWVyZ2VkQXR0cnMsbi5hdHRycyksc31mdW5jdGlvbiBhaSh0LGUsbixyLHMsaSl7Y29uc3Qgbz1pLmhvc3RCaW5kaW5ncztpZihvKXtsZXQgbj10Lmhvc3RCaW5kaW5nT3BDb2RlcztudWxsPT09biYmKG49dC5ob3N0QmluZGluZ09wQ29kZXM9W10pO2NvbnN0IGk9fmUuaW5kZXg7KGZ1bmN0aW9uKHQpe2xldCBlPXQubGVuZ3RoO2Zvcig7ZT4wOyl7Y29uc3Qgbj10Wy0tZV07aWYoIm51bWJlciI9PXR5cGVvZiBuJiZuPDApcmV0dXJuIG59cmV0dXJuIDB9KShuKSE9aSYmbi5wdXNoKGkpLG4ucHVzaChyLHMsbyl9fWZ1bmN0aW9uIGxpKHQsZSl7bnVsbCE9PXQuaG9zdEJpbmRpbmdzJiZ0Lmhvc3RCaW5kaW5ncygxLGUpfWZ1bmN0aW9uIHVpKHQsZSl7ZS5mbGFnc3w9MiwodC5jb21wb25lbnRzfHwodC5jb21wb25lbnRzPVtdKSkucHVzaChlLmluZGV4KX1mdW5jdGlvbiBjaSh0LGUsbil7aWYobil7aWYoZS5leHBvcnRBcylmb3IobGV0IHI9MDtyPGUuZXhwb3J0QXMubGVuZ3RoO3IrKyluW2UuZXhwb3J0QXNbcl1dPXQ7aWUoZSkmJihuWyIiXT10KX19ZnVuY3Rpb24gaGkodCxlLG4pe3QuZmxhZ3N8PTEsdC5kaXJlY3RpdmVTdGFydD1lLHQuZGlyZWN0aXZlRW5kPWUrbix0LnByb3ZpZGVySW5kZXhlcz1lfWZ1bmN0aW9uIGRpKHQsZSxuLHIscyl7dC5kYXRhW3JdPXM7Y29uc3QgaT1zLmZhY3Rvcnl8fChzLmZhY3Rvcnk9b2Uocy50eXBlKSksbz1uZXcgY24oaSxpZShzKSxudWxsKTt0LmJsdWVwcmludFtyXT1vLG5bcl09byxhaSh0LGUsMCxyLFpzKHQsbixzLmhvc3RWYXJzLGpzKSxzKX1mdW5jdGlvbiBwaSh0LGUsbil7Y29uc3Qgcj1iZShlLHQpLHM9bmkobiksaT10WzEwXSxvPXdpKHQsV3ModCxzLG51bGwsbi5vblB1c2g/NjQ6MTYscixlLGksaS5jcmVhdGVSZW5kZXJlcihyLG4pLG51bGwsbnVsbCkpO3RbZS5pbmRleF09b31mdW5jdGlvbiBmaSh0LGUsbixyLHMsaSl7Y29uc3Qgbz1pW2VdO2lmKG51bGwhPT1vKXtjb25zdCB0PXIuc2V0SW5wdXQ7Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDspe2NvbnN0IHM9b1tlKytdLGk9b1tlKytdLGE9b1tlKytdO251bGwhPT10P3Iuc2V0SW5wdXQobixhLHMsaSk6bltpXT1hfX19ZnVuY3Rpb24gZ2kodCxlKXtsZXQgbj1udWxsLHI9MDtmb3IoO3I8ZS5sZW5ndGg7KXtjb25zdCBzPWVbcl07aWYoMCE9PXMpaWYoNSE9PXMpe2lmKCJudW1iZXIiPT10eXBlb2YgcylicmVhazt0Lmhhc093blByb3BlcnR5KHMpJiYobnVsbD09PW4mJihuPVtdKSxuLnB1c2gocyx0W3NdLGVbcisxXSkpLHIrPTJ9ZWxzZSByKz0yO2Vsc2Ugcis9NH1yZXR1cm4gbn1mdW5jdGlvbiBtaSh0LGUsbixyKXtyZXR1cm4gbmV3IEFycmF5KHQsITAsITEsZSxudWxsLDAscixuLG51bGwsbnVsbCl9ZnVuY3Rpb24geWkodCxlKXtjb25zdCBuPV9lKGUsdCk7aWYoRGUobikpe2NvbnN0IHQ9blsxXTs4MCZuWzJdP1lzKHQsbix0LnRlbXBsYXRlLG5bOF0pOm5bNV0+MCYmdmkobil9fWZ1bmN0aW9uIHZpKHQpe2ZvcihsZXQgbj1Kcih0KTtudWxsIT09bjtuPXRzKG4pKWZvcihsZXQgdD1KdDt0PG4ubGVuZ3RoO3QrKyl7Y29uc3QgZT1uW3RdO2lmKDEwMjQmZVsyXSl7Y29uc3QgdD1lWzFdO1lzKHQsZSx0LnRlbXBsYXRlLGVbOF0pfWVsc2UgZVs1XT4wJiZ2aShlKX1jb25zdCBlPXRbMV0uY29tcG9uZW50cztpZihudWxsIT09ZSlmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3Qgcj1fZShlW25dLHQpO0RlKHIpJiZyWzVdPjAmJnZpKHIpfX1mdW5jdGlvbiBiaSh0LGUpe2NvbnN0IG49X2UoZSx0KSxyPW5bMV07IWZ1bmN0aW9uKHQsZSl7Zm9yKGxldCBuPWUubGVuZ3RoO248dC5ibHVlcHJpbnQubGVuZ3RoO24rKyllLnB1c2godC5ibHVlcHJpbnRbbl0pfShyLG4pLEtzKHIsbixuWzhdKX1mdW5jdGlvbiB3aSh0LGUpe3JldHVybiB0WzEzXT90WzE0XVs0XT1lOnRbMTNdPWUsdFsxNF09ZSxlfWZ1bmN0aW9uIF9pKHQpe2Zvcig7dDspe3RbMl18PTY0O2NvbnN0IGU9WHIodCk7aWYoMCE9KDUxMiZ0WzJdKSYmIWUpcmV0dXJuIHQ7dD1lfXJldHVybiBudWxsfWZ1bmN0aW9uIENpKHQsZSxuKXtjb25zdCByPWVbMTBdO3IuYmVnaW4mJnIuYmVnaW4oKTt0cnl7WXModCxlLHQudGVtcGxhdGUsbil9Y2F0Y2gocyl7dGhyb3cga2koZSxzKSxzfWZpbmFsbHl7ci5lbmQmJnIuZW5kKCl9fWZ1bmN0aW9uIERpKHQpeyFmdW5jdGlvbih0KXtmb3IobGV0IGU9MDtlPHQuY29tcG9uZW50cy5sZW5ndGg7ZSsrKXtjb25zdCBuPXQuY29tcG9uZW50c1tlXSxyPSRyKG4pLHM9clsxXTtRcyhzLHIscy50ZW1wbGF0ZSxuKX19KHRbOF0pfWZ1bmN0aW9uIEVpKHQsZSxuKXt6ZSgwKSxlKHQsbil9Y29uc3QgQWk9KCgpPT5Qcm9taXNlLnJlc29sdmUobnVsbCkpKCk7ZnVuY3Rpb24gU2kodCl7cmV0dXJuIHRbN118fCh0WzddPVtdKX1mdW5jdGlvbiB4aSh0KXtyZXR1cm4gdC5jbGVhbnVwfHwodC5jbGVhbnVwPVtdKX1mdW5jdGlvbiBraSh0LGUpe2NvbnN0IG49dFs5XSxyPW4/bi5nZXQoR3IsbnVsbCk6bnVsbDtyJiZyLmhhbmRsZUVycm9yKGUpfWZ1bmN0aW9uIFRpKHQsZSxuLHIscyl7Zm9yKGxldCBpPTA7aTxuLmxlbmd0aDspe2NvbnN0IG89bltpKytdLGE9bltpKytdLGw9ZVtvXSx1PXQuZGF0YVtvXTtudWxsIT09dS5zZXRJbnB1dD91LnNldElucHV0KGwscyxyLGEpOmxbYV09c319ZnVuY3Rpb24gRmkodCxlLG4pe2xldCByPW4/dC5zdHlsZXM6bnVsbCxzPW4/dC5jbGFzc2VzOm51bGwsaT0wO2lmKG51bGwhPT1lKWZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCB0PWVbb107Im51bWJlciI9PXR5cGVvZiB0P2k9dDoxPT1pP3M9bnQocyx0KToyPT1pJiYocj1udChyLHQrIjogIitlWysrb10rIjsiKSl9bj90LnN0eWxlcz1yOnQuc3R5bGVzV2l0aG91dEhvc3Q9cixuP3QuY2xhc3Nlcz1zOnQuY2xhc3Nlc1dpdGhvdXRIb3N0PXN9Y29uc3QgT2k9bmV3IEhuKCJJTkpFQ1RPUiIsLTEpO2NsYXNzIFBpe2dldCh0LGU9Sm4pe2lmKGU9PT1Kbil7Y29uc3QgZT1uZXcgRXJyb3IoYE51bGxJbmplY3RvckVycm9yOiBObyBwcm92aWRlciBmb3IgJHtldCh0KX0hYCk7dGhyb3cgZS5uYW1lPSJOdWxsSW5qZWN0b3JFcnJvciIsZX1yZXR1cm4gZX19Y29uc3QgSWk9bmV3IEhuKCJTZXQgSW5qZWN0b3Igc2NvcGUuIiksUmk9e30sTWk9e307bGV0IGppO2Z1bmN0aW9uIE5pKCl7cmV0dXJuIHZvaWQgMD09PWppJiYoamk9bmV3IFBpKSxqaX1mdW5jdGlvbiBWaSh0LGU9bnVsbCxuPW51bGwscil7cmV0dXJuIG5ldyBMaSh0LG4sZXx8TmkoKSxyKX1jbGFzcyBMaXtjb25zdHJ1Y3Rvcih0LGUsbixyPW51bGwpe3RoaXMucGFyZW50PW4sdGhpcy5yZWNvcmRzPW5ldyBNYXAsdGhpcy5pbmplY3RvckRlZlR5cGVzPW5ldyBTZXQsdGhpcy5vbkRlc3Ryb3k9bmV3IFNldCx0aGlzLl9kZXN0cm95ZWQ9ITE7Y29uc3Qgcz1bXTtlJiZXbihlLG49PnRoaXMucHJvY2Vzc1Byb3ZpZGVyKG4sdCxlKSksV24oW3RdLHQ9PnRoaXMucHJvY2Vzc0luamVjdG9yVHlwZSh0LFtdLHMpKSx0aGlzLnJlY29yZHMuc2V0KE9pLEhpKHZvaWQgMCx0aGlzKSk7Y29uc3QgaT10aGlzLnJlY29yZHMuZ2V0KElpKTt0aGlzLnNjb3BlPW51bGwhPWk/aS52YWx1ZTpudWxsLHRoaXMuc291cmNlPXJ8fCgib2JqZWN0Ij09dHlwZW9mIHQ/bnVsbDpldCh0KSl9Z2V0IGRlc3Ryb3llZCgpe3JldHVybiB0aGlzLl9kZXN0cm95ZWR9ZGVzdHJveSgpe3RoaXMuYXNzZXJ0Tm90RGVzdHJveWVkKCksdGhpcy5fZGVzdHJveWVkPSEwO3RyeXt0aGlzLm9uRGVzdHJveS5mb3JFYWNoKHQ9PnQubmdPbkRlc3Ryb3koKSl9ZmluYWxseXt0aGlzLnJlY29yZHMuY2xlYXIoKSx0aGlzLm9uRGVzdHJveS5jbGVhcigpLHRoaXMuaW5qZWN0b3JEZWZUeXBlcy5jbGVhcigpfX1nZXQodCxlPUpuLG49d3QuRGVmYXVsdCl7dGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKTtjb25zdCByPXNyKHRoaXMpO3RyeXtpZighKG4md3QuU2tpcFNlbGYpKXtsZXQgZT10aGlzLnJlY29yZHMuZ2V0KHQpO2lmKHZvaWQgMD09PWUpe2NvbnN0IG49KCJmdW5jdGlvbiI9PXR5cGVvZihzPXQpfHwib2JqZWN0Ij09dHlwZW9mIHMmJnMgaW5zdGFuY2VvZiBIbikmJnB0KHQpO2U9biYmdGhpcy5pbmplY3RhYmxlRGVmSW5TY29wZShuKT9IaShCaSh0KSxSaSk6bnVsbCx0aGlzLnJlY29yZHMuc2V0KHQsZSl9aWYobnVsbCE9ZSlyZXR1cm4gdGhpcy5oeWRyYXRlKHQsZSl9cmV0dXJuKG4md3QuU2VsZj9OaSgpOnRoaXMucGFyZW50KS5nZXQodCxlPW4md3QuT3B0aW9uYWwmJmU9PT1Kbj9udWxsOmUpfWNhdGNoKGkpe2lmKCJOdWxsSW5qZWN0b3JFcnJvciI9PT1pLm5hbWUpe2lmKChpLm5nVGVtcFRva2VuUGF0aD1pLm5nVGVtcFRva2VuUGF0aHx8W10pLnVuc2hpZnQoZXQodCkpLHIpdGhyb3cgaTtyZXR1cm4gZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz10Lm5nVGVtcFRva2VuUGF0aDt0aHJvdyBlW2VyXSYmcy51bnNoaWZ0KGVbZXJdKSx0Lm1lc3NhZ2U9ZnVuY3Rpb24odCxlLG4scj1udWxsKXt0PXQmJiJcbiI9PT10LmNoYXJBdCgwKSYmIlx1MDI3NSI9PXQuY2hhckF0KDEpP3Quc3Vic3RyKDIpOnQ7bGV0IHM9ZXQoZSk7aWYoQXJyYXkuaXNBcnJheShlKSlzPWUubWFwKGV0KS5qb2luKCIgLT4gIik7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIGUpe2xldCB0PVtdO2ZvcihsZXQgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikpe2xldCByPWVbbl07dC5wdXNoKG4rIjoiKygic3RyaW5nIj09dHlwZW9mIHI/SlNPTi5zdHJpbmdpZnkocik6ZXQocikpKX1zPWB7JHt0LmpvaW4oIiwgIil9fWB9cmV0dXJuYCR7bn0ke3I/IigiK3IrIikiOiIifVske3N9XTogJHt0LnJlcGxhY2UodHIsIlxuICAiKX1gfSgiXG4iK3QubWVzc2FnZSxzLG4sciksdC5uZ1Rva2VuUGF0aD1zLHQubmdUZW1wVG9rZW5QYXRoPW51bGwsdH0oaSx0LCJSM0luamVjdG9yRXJyb3IiLHRoaXMuc291cmNlKX10aHJvdyBpfWZpbmFsbHl7c3Iocil9dmFyIHN9X3Jlc29sdmVJbmplY3RvckRlZlR5cGVzKCl7dGhpcy5pbmplY3RvckRlZlR5cGVzLmZvckVhY2godD0+dGhpcy5nZXQodCkpfXRvU3RyaW5nKCl7Y29uc3QgdD1bXTtyZXR1cm4gdGhpcy5yZWNvcmRzLmZvckVhY2goKGUsbik9PnQucHVzaChldChuKSkpLGBSM0luamVjdG9yWyR7dC5qb2luKCIsICIpfV1gfWFzc2VydE5vdERlc3Ryb3llZCgpe2lmKHRoaXMuX2Rlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoIkluamVjdG9yIGhhcyBhbHJlYWR5IGJlZW4gZGVzdHJveWVkLiIpfXByb2Nlc3NJbmplY3RvclR5cGUodCxlLG4pe2lmKCEodD1pdCh0KSkpcmV0dXJuITE7bGV0IHI9Z3QodCk7Y29uc3Qgcz1udWxsPT1yJiZ0Lm5nTW9kdWxlfHx2b2lkIDAsaT12b2lkIDA9PT1zP3Q6cyxvPS0xIT09bi5pbmRleE9mKGkpO2lmKHZvaWQgMCE9PXMmJihyPWd0KHMpKSxudWxsPT1yKXJldHVybiExO2lmKG51bGwhPXIuaW1wb3J0cyYmIW8pe2xldCB0O24ucHVzaChpKTt0cnl7V24oci5pbXBvcnRzLHI9Pnt0aGlzLnByb2Nlc3NJbmplY3RvclR5cGUocixlLG4pJiYodm9pZCAwPT09dCYmKHQ9W10pLHQucHVzaChyKSl9KX1maW5hbGx5e31pZih2b2lkIDAhPT10KWZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdHtuZ01vZHVsZTpuLHByb3ZpZGVyczpyfT10W2VdO1duKHIsdD0+dGhpcy5wcm9jZXNzUHJvdmlkZXIodCxuLHJ8fEl0KSl9fXRoaXMuaW5qZWN0b3JEZWZUeXBlcy5hZGQoaSk7Y29uc3QgYT1vZShpKXx8KCgpPT5uZXcgaSk7dGhpcy5yZWNvcmRzLnNldChpLEhpKGEsUmkpKTtjb25zdCBsPXIucHJvdmlkZXJzO2lmKG51bGwhPWwmJiFvKXtjb25zdCBlPXQ7V24obCx0PT50aGlzLnByb2Nlc3NQcm92aWRlcih0LGUsbCkpfXJldHVybiB2b2lkIDAhPT1zJiZ2b2lkIDAhPT10LnByb3ZpZGVyc31wcm9jZXNzUHJvdmlkZXIodCxlLG4pe2xldCByPXppKHQ9aXQodCkpP3Q6aXQodCYmdC5wcm92aWRlKTtjb25zdCBzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gJGkodCk/SGkodm9pZCAwLHQudXNlVmFsdWUpOkhpKFVpKHQpLFJpKX0odCk7aWYoemkodCl8fCEwIT09dC5tdWx0aSl0aGlzLnJlY29yZHMuZ2V0KHIpO2Vsc2V7bGV0IGU9dGhpcy5yZWNvcmRzLmdldChyKTtlfHwoZT1IaSh2b2lkIDAsUmksITApLGUuZmFjdG9yeT0oKT0+YXIoZS5tdWx0aSksdGhpcy5yZWNvcmRzLnNldChyLGUpKSxyPXQsZS5tdWx0aS5wdXNoKHQpfXRoaXMucmVjb3Jkcy5zZXQocixzKX1oeWRyYXRlKHQsZSl7dmFyIG47cmV0dXJuIGUudmFsdWU9PT1SaSYmKGUudmFsdWU9TWksZS52YWx1ZT1lLmZhY3RvcnkoKSksIm9iamVjdCI9PXR5cGVvZiBlLnZhbHVlJiZlLnZhbHVlJiZudWxsIT09KG49ZS52YWx1ZSkmJiJvYmplY3QiPT10eXBlb2YgbiYmImZ1bmN0aW9uIj09dHlwZW9mIG4ubmdPbkRlc3Ryb3kmJnRoaXMub25EZXN0cm95LmFkZChlLnZhbHVlKSxlLnZhbHVlfWluamVjdGFibGVEZWZJblNjb3BlKHQpe2lmKCF0LnByb3ZpZGVkSW4pcmV0dXJuITE7Y29uc3QgZT1pdCh0LnByb3ZpZGVkSW4pO3JldHVybiJzdHJpbmciPT10eXBlb2YgZT8iYW55Ij09PWV8fGU9PT10aGlzLnNjb3BlOnRoaXMuaW5qZWN0b3JEZWZUeXBlcy5oYXMoZSl9fWZ1bmN0aW9uIEJpKHQpe2NvbnN0IGU9cHQodCksbj1udWxsIT09ZT9lLmZhY3Rvcnk6b2UodCk7aWYobnVsbCE9PW4pcmV0dXJuIG47aWYodCBpbnN0YW5jZW9mIEhuKXRocm93IG5ldyBFcnJvcihgVG9rZW4gJHtldCh0KX0gaXMgbWlzc2luZyBhIFx1MDI3NXByb3YgZGVmaW5pdGlvbi5gKTtpZih0IGluc3RhbmNlb2YgRnVuY3Rpb24pcmV0dXJuIGZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5sZW5ndGg7aWYoZT4wKXtjb25zdCBuPUtuKGUsIj8iKTt0aHJvdyBuZXcgRXJyb3IoYENhbid0IHJlc29sdmUgYWxsIHBhcmFtZXRlcnMgZm9yICR7ZXQodCl9OiAoJHtuLmpvaW4oIiwgIil9KS5gKX1jb25zdCBuPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dCYmKHRbbXRdfHx0W3Z0XSk7aWYoZSl7Y29uc3Qgbj1mdW5jdGlvbih0KXtpZih0Lmhhc093blByb3BlcnR5KCJuYW1lIikpcmV0dXJuIHQubmFtZTtjb25zdCBlPSgiIit0KS5tYXRjaCgvXmZ1bmN0aW9uXHMqKFteXHMoXSspLyk7cmV0dXJuIG51bGw9PT1lPyIiOmVbMV19KHQpO3JldHVybiBjb25zb2xlLndhcm4oYERFUFJFQ0FURUQ6IERJIGlzIGluc3RhbnRpYXRpbmcgYSB0b2tlbiAiJHtufSIgdGhhdCBpbmhlcml0cyBpdHMgQEluamVjdGFibGUgZGVjb3JhdG9yIGJ1dCBkb2VzIG5vdCBwcm92aWRlIG9uZSBpdHNlbGYuXG5UaGlzIHdpbGwgYmVjb21lIGFuIGVycm9yIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgQW5ndWxhci4gUGxlYXNlIGFkZCBASW5qZWN0YWJsZSgpIHRvIHRoZSAiJHtufSIgY2xhc3MuYCksZX1yZXR1cm4gbnVsbH0odCk7cmV0dXJuIG51bGwhPT1uPygpPT5uLmZhY3RvcnkodCk6KCk9Pm5ldyB0fSh0KTt0aHJvdyBuZXcgRXJyb3IoInVucmVhY2hhYmxlIil9ZnVuY3Rpb24gVWkodCxlLG4pe2xldCByO2lmKHppKHQpKXtjb25zdCBlPWl0KHQpO3JldHVybiBvZShlKXx8QmkoZSl9aWYoJGkodCkpcj0oKT0+aXQodC51c2VWYWx1ZSk7ZWxzZSBpZigocz10KSYmcy51c2VGYWN0b3J5KXI9KCk9PnQudXNlRmFjdG9yeSguLi5hcih0LmRlcHN8fFtdKSk7ZWxzZSBpZihmdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdC51c2VFeGlzdGluZyl9KHQpKXI9KCk9Pm9yKGl0KHQudXNlRXhpc3RpbmcpKTtlbHNle2NvbnN0IGU9aXQodCYmKHQudXNlQ2xhc3N8fHQucHJvdmlkZSkpO2lmKCFmdW5jdGlvbih0KXtyZXR1cm4hIXQuZGVwc30odCkpcmV0dXJuIG9lKGUpfHxCaShlKTtyPSgpPT5uZXcgZSguLi5hcih0LmRlcHMpKX12YXIgcztyZXR1cm4gcn1mdW5jdGlvbiBIaSh0LGUsbj0hMSl7cmV0dXJue2ZhY3Rvcnk6dCx2YWx1ZTplLG11bHRpOm4/W106dm9pZCAwfX1mdW5jdGlvbiAkaSh0KXtyZXR1cm4gbnVsbCE9PXQmJiJvYmplY3QiPT10eXBlb2YgdCYmbnIgaW4gdH1mdW5jdGlvbiB6aSh0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdH1jb25zdCBxaT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHQsZT1udWxsLG49bnVsbCxyKXtjb25zdCBzPVZpKHQsZSxuLHIpO3JldHVybiBzLl9yZXNvbHZlSW5qZWN0b3JEZWZUeXBlcygpLHN9KHtuYW1lOm59LGUsdCxuKX07bGV0IFdpPSgoKT0+e2NsYXNzIHR7c3RhdGljIGNyZWF0ZSh0LGUpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3FpKHQsZSwiIik6cWkodC5wcm92aWRlcnMsdC5wYXJlbnQsdC5uYW1lfHwiIil9fXJldHVybiB0LlRIUk9XX0lGX05PVF9GT1VORD1Kbix0Lk5VTEw9bmV3IFBpLHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxwcm92aWRlZEluOiJhbnkiLGZhY3Rvcnk6KCk9Pm9yKE9pKX0pLHQuX19OR19FTEVNRU5UX0lEX189LTEsdH0pKCk7ZnVuY3Rpb24gR2kodCxlKXtubigkcih0KVsxXSxQZSgpKX1mdW5jdGlvbiBaaSh0KXtsZXQgZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodC50eXBlLnByb3RvdHlwZSkuY29uc3RydWN0b3Isbj0hMDtjb25zdCByPVt0XTtmb3IoO2U7KXtsZXQgcztpZihpZSh0KSlzPWUuXHUwMjc1Y21wfHxlLlx1MDI3NWRpcjtlbHNle2lmKGUuXHUwMjc1Y21wKXRocm93IG5ldyBFcnJvcigiRGlyZWN0aXZlcyBjYW5ub3QgaW5oZXJpdCBDb21wb25lbnRzIik7cz1lLlx1MDI3NWRpcn1pZihzKXtpZihuKXtyLnB1c2gocyk7Y29uc3QgZT10O2UuaW5wdXRzPUtpKHQuaW5wdXRzKSxlLmRlY2xhcmVkSW5wdXRzPUtpKHQuZGVjbGFyZWRJbnB1dHMpLGUub3V0cHV0cz1LaSh0Lm91dHB1dHMpO2NvbnN0IG49cy5ob3N0QmluZGluZ3M7biYmWGkodCxuKTtjb25zdCBpPXMudmlld1F1ZXJ5LG89cy5jb250ZW50UXVlcmllcztpZihpJiZZaSh0LGkpLG8mJlFpKHQsbyksdHQodC5pbnB1dHMscy5pbnB1dHMpLHR0KHQuZGVjbGFyZWRJbnB1dHMscy5kZWNsYXJlZElucHV0cyksdHQodC5vdXRwdXRzLHMub3V0cHV0cyksaWUocykmJnMuZGF0YS5hbmltYXRpb24pe2NvbnN0IGU9dC5kYXRhO2UuYW5pbWF0aW9uPShlLmFuaW1hdGlvbnx8W10pLmNvbmNhdChzLmRhdGEuYW5pbWF0aW9uKX19Y29uc3QgZT1zLmZlYXR1cmVzO2lmKGUpZm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IHM9ZVtyXTtzJiZzLm5nSW5oZXJpdCYmcyh0KSxzPT09WmkmJihuPSExKX19ZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9IWZ1bmN0aW9uKHQpe2xldCBlPTAsbj1udWxsO2ZvcihsZXQgcj10Lmxlbmd0aC0xO3I+PTA7ci0tKXtjb25zdCBzPXRbcl07cy5ob3N0VmFycz1lKz1zLmhvc3RWYXJzLHMuaG9zdEF0dHJzPWZuKHMuaG9zdEF0dHJzLG49Zm4obixzLmhvc3RBdHRycykpfX0ocil9ZnVuY3Rpb24gS2kodCl7cmV0dXJuIHQ9PT1QdD97fTp0PT09SXQ/W106dH1mdW5jdGlvbiBZaSh0LGUpe2NvbnN0IG49dC52aWV3UXVlcnk7dC52aWV3UXVlcnk9bj8odCxyKT0+e2UodCxyKSxuKHQscil9OmV9ZnVuY3Rpb24gUWkodCxlKXtjb25zdCBuPXQuY29udGVudFF1ZXJpZXM7dC5jb250ZW50UXVlcmllcz1uPyh0LHIscyk9PntlKHQscixzKSxuKHQscixzKX06ZX1mdW5jdGlvbiBYaSh0LGUpe2NvbnN0IG49dC5ob3N0QmluZGluZ3M7dC5ob3N0QmluZGluZ3M9bj8odCxyKT0+e2UodCxyKSxuKHQscil9OmV9bGV0IEppPW51bGw7ZnVuY3Rpb24gdG8oKXtpZighSmkpe2NvbnN0IHQ9T3QuU3ltYm9sO2lmKHQmJnQuaXRlcmF0b3IpSmk9dC5pdGVyYXRvcjtlbHNle2NvbnN0IHQ9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTWFwLnByb3RvdHlwZSk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDsrK2Upe2NvbnN0IG49dFtlXTsiZW50cmllcyIhPT1uJiYic2l6ZSIhPT1uJiZNYXAucHJvdG90eXBlW25dPT09TWFwLnByb3RvdHlwZS5lbnRyaWVzJiYoSmk9bil9fX1yZXR1cm4gSml9ZnVuY3Rpb24gZW8odCl7cmV0dXJuISFubyh0KSYmKEFycmF5LmlzQXJyYXkodCl8fCEodCBpbnN0YW5jZW9mIE1hcCkmJnRvKClpbiB0KX1mdW5jdGlvbiBubyh0KXtyZXR1cm4gbnVsbCE9PXQmJigiZnVuY3Rpb24iPT10eXBlb2YgdHx8Im9iamVjdCI9PXR5cGVvZiB0KX1mdW5jdGlvbiBybyh0LGUsbil7cmV0dXJuIU9iamVjdC5pcyh0W2VdLG4pJiYodFtlXT1uLCEwKX1mdW5jdGlvbiBzbyh0LGUsbixyKXtjb25zdCBzPVRlKCk7cmV0dXJuIHJvKHMsTGUoKSxlKSYmKEZlKCksZnVuY3Rpb24odCxlLG4scixzLGkpe2NvbnN0IG89YmUodCxlKTshZnVuY3Rpb24odCxlLG4scixzLGksbyl7aWYobnVsbD09aSlnZSh0KT90LnJlbW92ZUF0dHJpYnV0ZShlLHMsbik6ZS5yZW1vdmVBdHRyaWJ1dGUocyk7ZWxzZXtjb25zdCBhPW51bGw9PW8/bHQoaSk6byhpLHJ8fCIiLHMpO2dlKHQpP3Quc2V0QXR0cmlidXRlKGUscyxhLG4pOm4/ZS5zZXRBdHRyaWJ1dGVOUyhuLHMsYSk6ZS5zZXRBdHRyaWJ1dGUocyxhKX19KGVbMTFdLG8saSx0LnZhbHVlLG4scixzKX0oZW4oKSxzLHQsZSxuLHIpKSxzb31mdW5jdGlvbiBpbyh0LGUsbixyKXtyZXR1cm4gcm8odCxMZSgpLG4pP2UrbHQobikrcjpqc31mdW5jdGlvbiBvbyh0LGUsbixyLHMsaSxvLGEpe2NvbnN0IGw9VGUoKSx1PUZlKCksYz10K1h0LGg9dS5maXJzdENyZWF0ZVBhc3M/ZnVuY3Rpb24odCxlLG4scixzLGksbyxhLGwpe2NvbnN0IHU9ZS5jb25zdHMsYz1HcyhlLHQsNCxvfHxudWxsLEVlKHUsYSkpO29pKGUsbixjLEVlKHUsbCkpLG5uKGUsYyk7Y29uc3QgaD1jLnRWaWV3cz1yaSgyLGMscixzLGksZS5kaXJlY3RpdmVSZWdpc3RyeSxlLnBpcGVSZWdpc3RyeSxudWxsLGUuc2NoZW1hcyx1KTtyZXR1cm4gbnVsbCE9PWUucXVlcmllcyYmKGUucXVlcmllcy50ZW1wbGF0ZShlLGMpLGgucXVlcmllcz1lLnF1ZXJpZXMuZW1iZWRkZWRUVmlldyhjKSksY30oYyx1LGwsZSxuLHIscyxpLG8pOnUuZGF0YVtjXTtSZShoLCExKTtjb25zdCBkPWxbMTFdLmNyZWF0ZUNvbW1lbnQoIiIpO2dzKHUsbCxkLGgpLEhyKGQsbCksd2kobCxsW2NdPW1pKGQsbCxkLGgpKSxzZShoKSYmdGkodSxsLGgpLG51bGwhPW8mJmVpKGwsaCxhKX1mdW5jdGlvbiBhbyh0LGU9d3QuRGVmYXVsdCl7Y29uc3Qgbj1UZSgpO3JldHVybiBudWxsPT09bj9vcih0LGUpOlRuKFBlKCksbixpdCh0KSxlKX1mdW5jdGlvbiBsbyh0LGUsbil7Y29uc3Qgcj1UZSgpO3JldHVybiBybyhyLExlKCksZSkmJmZ1bmN0aW9uKHQsZSxuLHIscyxpLG8sYSl7Y29uc3QgbD1iZShlLG4pO2xldCB1LGM9ZS5pbnB1dHM7dmFyIGg7bnVsbCE9YyYmKHU9Y1tyXSk/KFRpKHQsbix1LHIscykscmUoZSkmJmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1fZShlLHQpOzE2Jm5bMl18fChuWzJdfD02NCl9KG4sZS5pbmRleCkpOjMmZS50eXBlJiYocj0iY2xhc3MiPT09KGg9cik/ImNsYXNzTmFtZSI6ImZvciI9PT1oPyJodG1sRm9yIjoiZm9ybWFjdGlvbiI9PT1oPyJmb3JtQWN0aW9uIjoiaW5uZXJIdG1sIj09PWg/ImlubmVySFRNTCI6InJlYWRvbmx5Ij09PWg/InJlYWRPbmx5IjoidGFiaW5kZXgiPT09aD8idGFiSW5kZXgiOmgscz1udWxsIT1vP28ocyxlLnZhbHVlfHwiIixyKTpzLGdlKGkpP2kuc2V0UHJvcGVydHkobCxyLHMpOnBuKHIpfHwobC5zZXRQcm9wZXJ0eT9sLnNldFByb3BlcnR5KHIscyk6bFtyXT1zKSl9KEZlKCksZW4oKSxyLHQsZSxyWzExXSxuKSxsb31mdW5jdGlvbiB1byh0LGUsbixyLHMpe2NvbnN0IGk9cz8iY2xhc3MiOiJzdHlsZSI7VGkodCxuLGUuaW5wdXRzW2ldLGkscil9ZnVuY3Rpb24gY28odCxlLG4scil7Y29uc3Qgcz1UZSgpLGk9RmUoKSxvPVh0K3QsYT1zWzExXSxsPXNbb109cnMoYSxlLHhlLmxGcmFtZS5jdXJyZW50TmFtZXNwYWNlKSx1PWkuZmlyc3RDcmVhdGVQYXNzP2Z1bmN0aW9uKHQsZSxuLHIscyxpLG8pe2NvbnN0IGE9ZS5jb25zdHMsbD1HcyhlLHQsMixzLEVlKGEsaSkpO3JldHVybiBvaShlLG4sbCxFZShhLG8pKSxudWxsIT09bC5hdHRycyYmRmkobCxsLmF0dHJzLCExKSxudWxsIT09bC5tZXJnZWRBdHRycyYmRmkobCxsLm1lcmdlZEF0dHJzLCEwKSxudWxsIT09ZS5xdWVyaWVzJiZlLnF1ZXJpZXMuZWxlbWVudFN0YXJ0KGUsbCksbH0obyxpLHMsMCxlLG4scik6aS5kYXRhW29dO1JlKHUsITApO2NvbnN0IGM9dS5tZXJnZWRBdHRycztudWxsIT09YyYmaG4oYSxsLGMpO2NvbnN0IGg9dS5jbGFzc2VzO251bGwhPT1oJiZEcyhhLGwsaCk7Y29uc3QgZD11LnN0eWxlcztudWxsIT09ZCYmQ3MoYSxsLGQpLDY0IT0oNjQmdS5mbGFncykmJmdzKGkscyxsLHUpLDA9PT14ZS5sRnJhbWUuZWxlbWVudERlcHRoQ291bnQmJkhyKGwscykseGUubEZyYW1lLmVsZW1lbnREZXB0aENvdW50Kyssc2UodSkmJih0aShpLHMsdSksSnMoaSx1LHMpKSxudWxsIT09ciYmZWkocyx1KX1mdW5jdGlvbiBobygpe2xldCB0PVBlKCk7TWUoKT9qZSgpOih0PXQucGFyZW50LFJlKHQsITEpKTtjb25zdCBlPXQ7eGUubEZyYW1lLmVsZW1lbnREZXB0aENvdW50LS07Y29uc3Qgbj1GZSgpO24uZmlyc3RDcmVhdGVQYXNzJiYobm4obix0KSxuZSh0KSYmbi5xdWVyaWVzLmVsZW1lbnRFbmQodCkpLG51bGwhPWUuY2xhc3Nlc1dpdGhvdXRIb3N0JiZmdW5jdGlvbih0KXtyZXR1cm4gMCE9KDE2JnQuZmxhZ3MpfShlKSYmdW8obixlLFRlKCksZS5jbGFzc2VzV2l0aG91dEhvc3QsITApLG51bGwhPWUuc3R5bGVzV2l0aG91dEhvc3QmJmZ1bmN0aW9uKHQpe3JldHVybiAwIT0oMzImdC5mbGFncyl9KGUpJiZ1byhuLGUsVGUoKSxlLnN0eWxlc1dpdGhvdXRIb3N0LCExKX1mdW5jdGlvbiBwbyh0LGUsbixyKXtjbyh0LGUsbixyKSxobygpfWZ1bmN0aW9uIGZvKHQsZSxuKXsoZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9VGUoKSxzPUZlKCksaT10K1h0LG89cy5maXJzdENyZWF0ZVBhc3M/ZnVuY3Rpb24odCxlLG4scixzKXtjb25zdCBpPWUuY29uc3RzLG89RWUoaSxyKSxhPUdzKGUsdCw4LCJuZy1jb250YWluZXIiLG8pO3JldHVybiBudWxsIT09byYmRmkoYSxvLCEwKSxvaShlLG4sYSxFZShpLHMpKSxudWxsIT09ZS5xdWVyaWVzJiZlLnF1ZXJpZXMuZWxlbWVudFN0YXJ0KGUsYSksYX0oaSxzLHIsZSxuKTpzLmRhdGFbaV07UmUobywhMCk7Y29uc3QgYT1yW2ldPXJbMTFdLmNyZWF0ZUNvbW1lbnQoIiIpO2dzKHMscixhLG8pLEhyKGEsciksc2UobykmJih0aShzLHIsbyksSnMocyxvLHIpKSxudWxsIT1uJiZlaShyLG8pfSkodCxlLG4pLGZ1bmN0aW9uKCl7bGV0IHQ9UGUoKTtjb25zdCBlPUZlKCk7TWUoKT9qZSgpOih0PXQucGFyZW50LFJlKHQsITEpKSxlLmZpcnN0Q3JlYXRlUGFzcyYmKG5uKGUsdCksbmUodCkmJmUucXVlcmllcy5lbGVtZW50RW5kKHQpKX0oKX1mdW5jdGlvbiBnbygpe3JldHVybiBUZSgpfWZ1bmN0aW9uIG1vKHQpe3JldHVybiEhdCYmImZ1bmN0aW9uIj09dHlwZW9mIHQudGhlbn1jb25zdCB5bz1mdW5jdGlvbih0KXtyZXR1cm4hIXQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LnN1YnNjcmliZX07ZnVuY3Rpb24gdm8odCxlLG4scil7Y29uc3Qgcz1UZSgpLGk9RmUoKSxvPVBlKCk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIscyxpLG8sYSl7Y29uc3QgbD1zZShyKSx1PXQuZmlyc3RDcmVhdGVQYXNzJiZ4aSh0KSxjPVNpKGUpO2xldCBoPSEwO2lmKDMmci50eXBlfHxhKXtjb25zdCBkPWJlKHIsZSkscD1hP2EoZCk6ZCxmPWMubGVuZ3RoLGc9YT90PT5hKHllKHRbci5pbmRleF0pKTpyLmluZGV4O2lmKGdlKG4pKXtsZXQgbz1udWxsO2lmKCFhJiZsJiYobz1mdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPXQuY2xlYW51cDtpZihudWxsIT1zKWZvcihsZXQgaT0wO2k8cy5sZW5ndGgtMTtpKz0yKXtjb25zdCB0PXNbaV07aWYodD09PW4mJnNbaSsxXT09PXIpe2NvbnN0IHQ9ZVs3XSxuPXNbaSsyXTtyZXR1cm4gdC5sZW5ndGg+bj90W25dOm51bGx9InN0cmluZyI9PXR5cGVvZiB0JiYoaSs9Mil9cmV0dXJuIG51bGx9KHQsZSxzLHIuaW5kZXgpKSxudWxsIT09bykoby5fX25nTGFzdExpc3RlbmVyRm5fX3x8bykuX19uZ05leHRMaXN0ZW5lckZuX189aSxvLl9fbmdMYXN0TGlzdGVuZXJGbl9fPWksaD0hMTtlbHNle2k9d28ocixlLDAsaSwhMSk7Y29uc3QgdD1uLmxpc3RlbihwLHMsaSk7Yy5wdXNoKGksdCksdSYmdS5wdXNoKHMsZyxmLGYrMSl9fWVsc2UgaT13byhyLGUsMCxpLCEwKSxwLmFkZEV2ZW50TGlzdGVuZXIocyxpLG8pLGMucHVzaChpKSx1JiZ1LnB1c2gocyxnLGYsbyl9ZWxzZSBpPXdvKHIsZSwwLGksITEpO2NvbnN0IGQ9ci5vdXRwdXRzO2xldCBwO2lmKGgmJm51bGwhPT1kJiYocD1kW3NdKSl7Y29uc3QgdD1wLmxlbmd0aDtpZih0KWZvcihsZXQgbj0wO248dDtuKz0yKXtjb25zdCB0PWVbcFtuXV1bcFtuKzFdXS5zdWJzY3JpYmUoaSksbz1jLmxlbmd0aDtjLnB1c2goaSx0KSx1JiZ1LnB1c2gocyxyLmluZGV4LG8sLShvKzEpKX19fShpLHMsc1sxMV0sbyx0LGUsISFuLHIpLHZvfWZ1bmN0aW9uIGJvKHQsZSxuLHIpe3RyeXtyZXR1cm4hMSE9PW4ocil9Y2F0Y2gocyl7cmV0dXJuIGtpKHQscyksITF9fWZ1bmN0aW9uIHdvKHQsZSxuLHIscyl7cmV0dXJuIGZ1bmN0aW9uIG4oaSl7aWYoaT09PUZ1bmN0aW9uKXJldHVybiByO2NvbnN0IG89MiZ0LmZsYWdzP19lKHQuaW5kZXgsZSk6ZTswPT0oMzImZVsyXSkmJl9pKG8pO2xldCBhPWJvKGUsMCxyLGkpLGw9bi5fX25nTmV4dExpc3RlbmVyRm5fXztmb3IoO2w7KWE9Ym8oZSwwLGwsaSkmJmEsbD1sLl9fbmdOZXh0TGlzdGVuZXJGbl9fO3JldHVybiBzJiYhMT09PWEmJihpLnByZXZlbnREZWZhdWx0KCksaS5yZXR1cm5WYWx1ZT0hMSksYX19ZnVuY3Rpb24gX28odD0xKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuKHhlLmxGcmFtZS5jb250ZXh0TFZpZXc9ZnVuY3Rpb24odCxlKXtmb3IoO3Q+MDspZT1lWzE1XSx0LS07cmV0dXJuIGV9KHQseGUubEZyYW1lLmNvbnRleHRMVmlldykpWzhdfSh0KX1mdW5jdGlvbiBDbyh0LGUpe2xldCBuPW51bGw7Y29uc3Qgcj1mdW5jdGlvbih0KXtjb25zdCBlPXQuYXR0cnM7aWYobnVsbCE9ZSl7Y29uc3QgdD1lLmluZGV4T2YoNSk7aWYoMD09KDEmdCkpcmV0dXJuIGVbdCsxXX1yZXR1cm4gbnVsbH0odCk7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspe2NvbnN0IGk9ZVtzXTtpZigiKiIhPT1pKXtpZihudWxsPT09cj9Qcyh0LGksITApOklzKHIsaSkpcmV0dXJuIHN9ZWxzZSBuPXN9cmV0dXJuIG59ZnVuY3Rpb24gRG8odCl7Y29uc3QgZT1UZSgpWzE2XVs2XTtpZighZS5wcm9qZWN0aW9uKXtjb25zdCBuPWUucHJvamVjdGlvbj1Lbih0P3QubGVuZ3RoOjEsbnVsbCkscj1uLnNsaWNlKCk7bGV0IHM9ZS5jaGlsZDtmb3IoO251bGwhPT1zOyl7Y29uc3QgZT10P0NvKHMsdCk6MDtudWxsIT09ZSYmKHJbZV0/cltlXS5wcm9qZWN0aW9uTmV4dD1zOm5bZV09cyxyW2VdPXMpLHM9cy5uZXh0fX19ZnVuY3Rpb24gRW8odCxlPTAsbil7Y29uc3Qgcj1UZSgpLHM9RmUoKSxpPUdzKHMsWHQrdCwxNixudWxsLG58fG51bGwpO251bGw9PT1pLnByb2plY3Rpb24mJihpLnByb2plY3Rpb249ZSksamUoKSw2NCE9KDY0JmkuZmxhZ3MpJiZmdW5jdGlvbih0LGUsbil7X3MoZVsxMV0sMCxlLG4sbHModCxuLGUpLHBzKG4ucGFyZW50fHxlWzZdLG4sZSkpfShzLHIsaSl9ZnVuY3Rpb24gQW8odCxlLG4scixzKXtjb25zdCBpPXRbbisxXSxvPW51bGw9PT1lO2xldCBhPXI/QnMoaSk6SHMoaSksbD0hMTtmb3IoOzAhPT1hJiYoITE9PT1sfHxvKTspe2NvbnN0IG49dFthKzFdO1NvKHRbYV0sZSkmJihsPSEwLHRbYSsxXT1yP3pzKG4pOlVzKG4pKSxhPXI/QnMobik6SHMobil9bCYmKHRbbisxXT1yP1VzKGkpOnpzKGkpKX1mdW5jdGlvbiBTbyh0LGUpe3JldHVybiBudWxsPT09dHx8bnVsbD09ZXx8KEFycmF5LmlzQXJyYXkodCk/dFsxXTp0KT09PWV8fCEoIUFycmF5LmlzQXJyYXkodCl8fCJzdHJpbmciIT10eXBlb2YgZSkmJlhuKHQsZSk+PTB9Y29uc3QgeG89e3RleHRFbmQ6MCxrZXk6MCxrZXlFbmQ6MCx2YWx1ZTowLHZhbHVlRW5kOjB9O2Z1bmN0aW9uIGtvKHQpe3JldHVybiB0LnN1YnN0cmluZyh4by5rZXkseG8ua2V5RW5kKX1mdW5jdGlvbiBUbyh0LGUpe2NvbnN0IG49eG8udGV4dEVuZDtyZXR1cm4gbj09PWU/LTE6KGU9eG8ua2V5RW5kPWZ1bmN0aW9uKHQsZSxuKXtmb3IoO2U8biYmdC5jaGFyQ29kZUF0KGUpPjMyOyllKys7cmV0dXJuIGV9KHQseG8ua2V5PWUsbiksRm8odCxlLG4pKX1mdW5jdGlvbiBGbyh0LGUsbil7Zm9yKDtlPG4mJnQuY2hhckNvZGVBdChlKTw9MzI7KWUrKztyZXR1cm4gZX1mdW5jdGlvbiBPbyh0LGUpe3JldHVybiBmdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPVRlKCksaT1GZSgpLG89QmUoMik7aS5maXJzdFVwZGF0ZVBhc3MmJk1vKGksdCxvLHRydWUpLGUhPT1qcyYmcm8ocyxvLGUpJiZWbyhpLGkuZGF0YVtKZSgpXSxzLHNbMTFdLHQsc1tvKzFdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PXR8fCJvYmplY3QiPT10eXBlb2YgdCYmKHQ9ZXQoeXIodCkpKSx0fShlKSx0cnVlLG8pfSh0LGUpLE9vfWZ1bmN0aW9uIFBvKHQsZSl7Zm9yKGxldCBuPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXt4by5rZXk9MCx4by5rZXlFbmQ9MCx4by52YWx1ZT0wLHhvLnZhbHVlRW5kPTAseG8udGV4dEVuZD10Lmxlbmd0aH0odCksVG8odCxGbyh0LDAseG8udGV4dEVuZCkpfShlKTtuPj0wO249VG8oZSxuKSlZbih0LGtvKGUpLCEwKX1mdW5jdGlvbiBJbyh0LGUsbixyKXtjb25zdCBzPUZlKCksaT1CZSgyKTtzLmZpcnN0VXBkYXRlUGFzcyYmTW8ocyxudWxsLGkscik7Y29uc3Qgbz1UZSgpO2lmKG4hPT1qcyYmcm8obyxpLG4pKXtjb25zdCBhPXMuZGF0YVtKZSgpXTtpZihVbyhhLHIpJiYhUm8ocyxpKSl7bGV0IHQ9cj9hLmNsYXNzZXNXaXRob3V0SG9zdDphLnN0eWxlc1dpdGhvdXRIb3N0O251bGwhPT10JiYobj1udCh0LG58fCIiKSksdW8ocyxhLG8sbixyKX1lbHNlIWZ1bmN0aW9uKHQsZSxuLHIscyxpLG8sYSl7cz09PWpzJiYocz1JdCk7bGV0IGw9MCx1PTAsYz0wPHMubGVuZ3RoP3NbMF06bnVsbCxoPTA8aS5sZW5ndGg/aVswXTpudWxsO2Zvcig7bnVsbCE9PWN8fG51bGwhPT1oOyl7Y29uc3QgZD1sPHMubGVuZ3RoP3NbbCsxXTp2b2lkIDAscD11PGkubGVuZ3RoP2lbdSsxXTp2b2lkIDA7bGV0IGYsZz1udWxsO2M9PT1oPyhsKz0yLHUrPTIsZCE9PXAmJihnPWgsZj1wKSk6bnVsbD09PWh8fG51bGwhPT1jJiZjPGg/KGwrPTIsZz1jKToodSs9MixnPWgsZj1wKSxudWxsIT09ZyYmVm8odCxlLG4scixnLGYsbyxhKSxjPWw8cy5sZW5ndGg/c1tsXTpudWxsLGg9dTxpLmxlbmd0aD9pW3VdOm51bGx9fShzLGEsbyxvWzExXSxvW2krMV0sb1tpKzFdPWZ1bmN0aW9uKHQsZSxuKXtpZihudWxsPT1ufHwiIj09PW4pcmV0dXJuIEl0O2NvbnN0IHI9W10scz15cihuKTtpZihBcnJheS5pc0FycmF5KHMpKWZvcihsZXQgaT0wO2k8cy5sZW5ndGg7aSsrKXQocixzW2ldLCEwKTtlbHNlIGlmKCJvYmplY3QiPT10eXBlb2Ygcylmb3IoY29uc3QgaSBpbiBzKXMuaGFzT3duUHJvcGVydHkoaSkmJnQocixpLHNbaV0pO2Vsc2Uic3RyaW5nIj09dHlwZW9mIHMmJmUocixzKTtyZXR1cm4gcn0odCxlLG4pLHIsaSl9fWZ1bmN0aW9uIFJvKHQsZSl7cmV0dXJuIGU+PXQuZXhwYW5kb1N0YXJ0SW5kZXh9ZnVuY3Rpb24gTW8odCxlLG4scil7Y29uc3Qgcz10LmRhdGE7aWYobnVsbD09PXNbbisxXSl7Y29uc3QgaT1zW0plKCldLG89Um8odCxuKTtVbyhpLHIpJiZudWxsPT09ZSYmIW8mJihlPSExKSxlPWZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9ZnVuY3Rpb24odCl7Y29uc3QgZT14ZS5sRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4O3JldHVybi0xPT09ZT9udWxsOnRbZV19KHQpO2xldCBpPXI/ZS5yZXNpZHVhbENsYXNzZXM6ZS5yZXNpZHVhbFN0eWxlcztpZihudWxsPT09cykwPT09KHI/ZS5jbGFzc0JpbmRpbmdzOmUuc3R5bGVCaW5kaW5ncykmJihuPU5vKG49am8obnVsbCx0LGUsbixyKSxlLmF0dHJzLHIpLGk9bnVsbCk7ZWxzZXtjb25zdCBvPWUuZGlyZWN0aXZlU3R5bGluZ0xhc3Q7aWYoLTE9PT1vfHx0W29dIT09cylpZihuPWpvKHMsdCxlLG4sciksbnVsbD09PWkpe2xldCBuPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPW4/ZS5jbGFzc0JpbmRpbmdzOmUuc3R5bGVCaW5kaW5ncztpZigwIT09SHMocikpcmV0dXJuIHRbQnMocildfSh0LGUscik7dm9pZCAwIT09biYmQXJyYXkuaXNBcnJheShuKSYmKG49am8obnVsbCx0LGUsblsxXSxyKSxuPU5vKG4sZS5hdHRycyxyKSxmdW5jdGlvbih0LGUsbixyKXt0W0JzKG4/ZS5jbGFzc0JpbmRpbmdzOmUuc3R5bGVCaW5kaW5ncyldPXJ9KHQsZSxyLG4pKX1lbHNlIGk9ZnVuY3Rpb24odCxlLG4pe2xldCByO2NvbnN0IHM9ZS5kaXJlY3RpdmVFbmQ7Zm9yKGxldCBpPTErZS5kaXJlY3RpdmVTdHlsaW5nTGFzdDtpPHM7aSsrKXI9Tm8ocix0W2ldLmhvc3RBdHRycyxuKTtyZXR1cm4gTm8ocixlLmF0dHJzLG4pfSh0LGUscil9cmV0dXJuIHZvaWQgMCE9PWkmJihyP2UucmVzaWR1YWxDbGFzc2VzPWk6ZS5yZXNpZHVhbFN0eWxlcz1pKSxufShzLGksZSxyKSxmdW5jdGlvbih0LGUsbixyLHMsaSl7bGV0IG89aT9lLmNsYXNzQmluZGluZ3M6ZS5zdHlsZUJpbmRpbmdzLGE9QnMobyksbD1IcyhvKTt0W3JdPW47bGV0IHUsYz0hMTtpZihBcnJheS5pc0FycmF5KG4pKXtjb25zdCB0PW47dT10WzFdLChudWxsPT09dXx8WG4odCx1KT4wKSYmKGM9ITApfWVsc2UgdT1uO2lmKHMpaWYoMCE9PWwpe2NvbnN0IGU9QnModFthKzFdKTt0W3IrMV09THMoZSxhKSwwIT09ZSYmKHRbZSsxXT0kcyh0W2UrMV0scikpLHRbYSsxXT0xMzEwNzEmdFthKzFdfHI8PDE3fWVsc2UgdFtyKzFdPUxzKGEsMCksMCE9PWEmJih0W2ErMV09JHModFthKzFdLHIpKSxhPXI7ZWxzZSB0W3IrMV09THMobCwwKSwwPT09YT9hPXI6dFtsKzFdPSRzKHRbbCsxXSxyKSxsPXI7YyYmKHRbcisxXT1Vcyh0W3IrMV0pKSxBbyh0LHUsciwhMCksQW8odCx1LHIsITEpLGZ1bmN0aW9uKHQsZSxuLHIscyl7Y29uc3QgaT1zP3QucmVzaWR1YWxDbGFzc2VzOnQucmVzaWR1YWxTdHlsZXM7bnVsbCE9aSYmInN0cmluZyI9PXR5cGVvZiBlJiZYbihpLGUpPj0wJiYobltyKzFdPXpzKG5bcisxXSkpfShlLHUsdCxyLGkpLG89THMoYSxsKSxpP2UuY2xhc3NCaW5kaW5ncz1vOmUuc3R5bGVCaW5kaW5ncz1vfShzLGksZSxuLG8scil9fWZ1bmN0aW9uIGpvKHQsZSxuLHIscyl7bGV0IGk9bnVsbDtjb25zdCBvPW4uZGlyZWN0aXZlRW5kO2xldCBhPW4uZGlyZWN0aXZlU3R5bGluZ0xhc3Q7Zm9yKC0xPT09YT9hPW4uZGlyZWN0aXZlU3RhcnQ6YSsrO2E8byYmKGk9ZVthXSxyPU5vKHIsaS5ob3N0QXR0cnMscyksaSE9PXQpOylhKys7cmV0dXJuIG51bGwhPT10JiYobi5kaXJlY3RpdmVTdHlsaW5nTGFzdD1hKSxyfWZ1bmN0aW9uIE5vKHQsZSxuKXtjb25zdCByPW4/MToyO2xldCBzPS0xO2lmKG51bGwhPT1lKWZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBvPWVbaV07Im51bWJlciI9PXR5cGVvZiBvP3M9bzpzPT09ciYmKEFycmF5LmlzQXJyYXkodCl8fCh0PXZvaWQgMD09PXQ/W106WyIiLHRdKSxZbih0LG8sISFufHxlWysraV0pKX1yZXR1cm4gdm9pZCAwPT09dD9udWxsOnR9ZnVuY3Rpb24gVm8odCxlLG4scixzLGksbyxhKXtpZighKDMmZS50eXBlKSlyZXR1cm47Y29uc3QgbD10LmRhdGEsdT1sW2ErMV07Qm8oMT09KDEmdSk/TG8obCxlLG4scyxIcyh1KSxvKTp2b2lkIDApfHwoQm8oaSl8fDI9PSgyJnUpJiYoaT1MbyhsLG51bGwsbixzLGEsbykpLGZ1bmN0aW9uKHQsZSxuLHIscyl7Y29uc3QgaT1nZSh0KTtpZihlKXM/aT90LmFkZENsYXNzKG4scik6bi5jbGFzc0xpc3QuYWRkKHIpOmk/dC5yZW1vdmVDbGFzcyhuLHIpOm4uY2xhc3NMaXN0LnJlbW92ZShyKTtlbHNle2xldCBlPS0xPT09ci5pbmRleE9mKCItIik/dm9pZCAwOllyLkRhc2hDYXNlO2lmKG51bGw9PXMpaT90LnJlbW92ZVN0eWxlKG4scixlKTpuLnN0eWxlLnJlbW92ZVByb3BlcnR5KHIpO2Vsc2V7Y29uc3Qgbz0ic3RyaW5nIj09dHlwZW9mIHMmJnMuZW5kc1dpdGgoIiFpbXBvcnRhbnQiKTtvJiYocz1zLnNsaWNlKDAsLTEwKSxlfD1Zci5JbXBvcnRhbnQpLGk/dC5zZXRTdHlsZShuLHIscyxlKTpuLnN0eWxlLnNldFByb3BlcnR5KHIscyxvPyJpbXBvcnRhbnQiOiIiKX19fShyLG8sdmUoSmUoKSxuKSxzLGkpKX1mdW5jdGlvbiBMbyh0LGUsbixyLHMsaSl7Y29uc3Qgbz1udWxsPT09ZTtsZXQgYTtmb3IoO3M+MDspe2NvbnN0IGU9dFtzXSxpPUFycmF5LmlzQXJyYXkoZSksbD1pP2VbMV06ZSx1PW51bGw9PT1sO2xldCBjPW5bcysxXTtjPT09anMmJihjPXU/SXQ6dm9pZCAwKTtsZXQgaD11P1FuKGMscik6bD09PXI/Yzp2b2lkIDA7aWYoaSYmIUJvKGgpJiYoaD1RbihlLHIpKSxCbyhoKSYmKGE9aCxvKSlyZXR1cm4gYTtjb25zdCBkPXRbcysxXTtzPW8/QnMoZCk6SHMoZCl9aWYobnVsbCE9PWUpe2xldCB0PWk/ZS5yZXNpZHVhbENsYXNzZXM6ZS5yZXNpZHVhbFN0eWxlcztudWxsIT10JiYoYT1Rbih0LHIpKX1yZXR1cm4gYX1mdW5jdGlvbiBCbyh0KXtyZXR1cm4gdm9pZCAwIT09dH1mdW5jdGlvbiBVbyh0LGUpe3JldHVybiAwIT0odC5mbGFncyYoZT8xNjozMikpfWZ1bmN0aW9uIEhvKHQsZT0iIil7Y29uc3Qgbj1UZSgpLHI9RmUoKSxzPXQrWHQsaT1yLmZpcnN0Q3JlYXRlUGFzcz9HcyhyLHMsMSxlLG51bGwpOnIuZGF0YVtzXSxvPW5bc109ZnVuY3Rpb24odCxlKXtyZXR1cm4gZ2UodCk/dC5jcmVhdGVUZXh0KGUpOnQuY3JlYXRlVGV4dE5vZGUoZSl9KG5bMTFdLGUpO2dzKHIsbixvLGkpLFJlKGksITEpfWZ1bmN0aW9uICRvKHQpe3JldHVybiB6bygiIix0LCIiKSwkb31mdW5jdGlvbiB6byh0LGUsbil7Y29uc3Qgcj1UZSgpLHM9aW8ocix0LGUsbik7cmV0dXJuIHMhPT1qcyYmZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9dmUoZSx0KTshZnVuY3Rpb24odCxlLG4pe2dlKHQpP3Quc2V0VmFsdWUoZSxuKTplLnRleHRDb250ZW50PW59KHRbMTFdLHIsbil9KHIsSmUoKSxzKSx6b31mdW5jdGlvbiBxbyh0LGUsbil7SW8oWW4sUG8saW8oVGUoKSx0LGUsbiksITApfWNvbnN0IFdvPXZvaWQgMDt2YXIgR289WyJlbiIsW1siYSIsInAiXSxbIkFNIiwiUE0iXSxXb10sW1siQU0iLCJQTSJdLFdvLFdvXSxbWyJTIiwiTSIsIlQiLCJXIiwiVCIsIkYiLCJTIl0sWyJTdW4iLCJNb24iLCJUdWUiLCJXZWQiLCJUaHUiLCJGcmkiLCJTYXQiXSxbIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sWyJTdSIsIk1vIiwiVHUiLCJXZSIsIlRoIiwiRnIiLCJTYSJdXSxXbyxbWyJKIiwiRiIsIk0iLCJBIiwiTSIsIkoiLCJKIiwiQSIsIlMiLCJPIiwiTiIsIkQiXSxbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdLFsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXV0sV28sW1siQiIsIkEiXSxbIkJDIiwiQUQiXSxbIkJlZm9yZSBDaHJpc3QiLCJBbm5vIERvbWluaSJdXSwwLFs2LDBdLFsiTS9kL3l5IiwiTU1NIGQsIHkiLCJNTU1NIGQsIHkiLCJFRUVFLCBNTU1NIGQsIHkiXSxbImg6bW0gYSIsImg6bW06c3MgYSIsImg6bW06c3MgYSB6IiwiaDptbTpzcyBhIHp6enoiXSxbInsxfSwgezB9IixXbywiezF9ICdhdCcgezB9IixXb10sWyIuIiwiLCIsIjsiLCIlIiwiKyIsIi0iLCJFIiwiXHhkNyIsIlx1MjAzMCIsIlx1MjIxZSIsIk5hTiIsIjoiXSxbIiMsIyMwLiMjIyIsIiMsIyMwJSIsIlx4YTQjLCMjMC4wMCIsIiNFMCJdLCJVU0QiLCIkIiwiVVMgRG9sbGFyIix7fSwibHRyIixmdW5jdGlvbih0KXtsZXQgZT1NYXRoLmZsb29yKE1hdGguYWJzKHQpKSxuPXQudG9TdHJpbmcoKS5yZXBsYWNlKC9eW14uXSpcLj8vLCIiKS5sZW5ndGg7cmV0dXJuIDE9PT1lJiYwPT09bj8xOjV9XTtsZXQgWm89e307ZnVuY3Rpb24gS28odCl7Y29uc3QgZT1mdW5jdGlvbih0KXtyZXR1cm4gdC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywiLSIpfSh0KTtsZXQgbj1ZbyhlKTtpZihuKXJldHVybiBuO2NvbnN0IHI9ZS5zcGxpdCgiLSIpWzBdO2lmKG49WW8ociksbilyZXR1cm4gbjtpZigiZW4iPT09cilyZXR1cm4gR287dGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIGxvY2FsZSBkYXRhIGZvciB0aGUgbG9jYWxlICIke3R9Ii5gKX1mdW5jdGlvbiBZbyh0KXtyZXR1cm4gdCBpbiBab3x8KFpvW3RdPU90Lm5nJiZPdC5uZy5jb21tb24mJk90Lm5nLmNvbW1vbi5sb2NhbGVzJiZPdC5uZy5jb21tb24ubG9jYWxlc1t0XSksWm9bdF19dmFyIFFvPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuTG9jYWxlSWQ9MF09IkxvY2FsZUlkIix0W3QuRGF5UGVyaW9kc0Zvcm1hdD0xXT0iRGF5UGVyaW9kc0Zvcm1hdCIsdFt0LkRheVBlcmlvZHNTdGFuZGFsb25lPTJdPSJEYXlQZXJpb2RzU3RhbmRhbG9uZSIsdFt0LkRheXNGb3JtYXQ9M109IkRheXNGb3JtYXQiLHRbdC5EYXlzU3RhbmRhbG9uZT00XT0iRGF5c1N0YW5kYWxvbmUiLHRbdC5Nb250aHNGb3JtYXQ9NV09Ik1vbnRoc0Zvcm1hdCIsdFt0Lk1vbnRoc1N0YW5kYWxvbmU9Nl09Ik1vbnRoc1N0YW5kYWxvbmUiLHRbdC5FcmFzPTddPSJFcmFzIix0W3QuRmlyc3REYXlPZldlZWs9OF09IkZpcnN0RGF5T2ZXZWVrIix0W3QuV2Vla2VuZFJhbmdlPTldPSJXZWVrZW5kUmFuZ2UiLHRbdC5EYXRlRm9ybWF0PTEwXT0iRGF0ZUZvcm1hdCIsdFt0LlRpbWVGb3JtYXQ9MTFdPSJUaW1lRm9ybWF0Iix0W3QuRGF0ZVRpbWVGb3JtYXQ9MTJdPSJEYXRlVGltZUZvcm1hdCIsdFt0Lk51bWJlclN5bWJvbHM9MTNdPSJOdW1iZXJTeW1ib2xzIix0W3QuTnVtYmVyRm9ybWF0cz0xNF09Ik51bWJlckZvcm1hdHMiLHRbdC5DdXJyZW5jeUNvZGU9MTVdPSJDdXJyZW5jeUNvZGUiLHRbdC5DdXJyZW5jeVN5bWJvbD0xNl09IkN1cnJlbmN5U3ltYm9sIix0W3QuQ3VycmVuY3lOYW1lPTE3XT0iQ3VycmVuY3lOYW1lIix0W3QuQ3VycmVuY2llcz0xOF09IkN1cnJlbmNpZXMiLHRbdC5EaXJlY3Rpb25hbGl0eT0xOV09IkRpcmVjdGlvbmFsaXR5Iix0W3QuUGx1cmFsQ2FzZT0yMF09IlBsdXJhbENhc2UiLHRbdC5FeHRyYURhdGE9MjFdPSJFeHRyYURhdGEiLHR9KHt9KTtjb25zdCBYbz0iZW4tVVMiO2xldCBKbz1YbztmdW5jdGlvbiB0YSh0KXt2YXIgZSxuO249IkV4cGVjdGVkIGxvY2FsZUlkIHRvIGJlIGRlZmluZWQiLG51bGw9PShlPXQpJiZmdW5jdGlvbih0LGUsbixyKXt0aHJvdyBuZXcgRXJyb3IoYEFTU0VSVElPTiBFUlJPUjogJHt0fSBbRXhwZWN0ZWQ9PiBudWxsICE9ICR7ZX0gPD1BY3R1YWxdYCl9KG4sZSksInN0cmluZyI9PXR5cGVvZiB0JiYoSm89dC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywiLSIpKX1mdW5jdGlvbiBlYSh0LGUsbixyLHMpe2lmKHQ9aXQodCksQXJyYXkuaXNBcnJheSh0KSlmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyllYSh0W2ldLGUsbixyLHMpO2Vsc2V7Y29uc3QgaT1GZSgpLG89VGUoKTtsZXQgYT16aSh0KT90Oml0KHQucHJvdmlkZSksbD1VaSh0KTtjb25zdCB1PVBlKCksYz0xMDQ4NTc1JnUucHJvdmlkZXJJbmRleGVzLGg9dS5kaXJlY3RpdmVTdGFydCxkPXUucHJvdmlkZXJJbmRleGVzPj4yMDtpZih6aSh0KXx8IXQubXVsdGkpe2NvbnN0IHI9bmV3IGNuKGwscyxhbykscD1zYShhLGUscz9jOmMrZCxoKTstMT09PXA/KFNuKENuKHUsbyksaSxhKSxuYShpLHQsZS5sZW5ndGgpLGUucHVzaChhKSx1LmRpcmVjdGl2ZVN0YXJ0KyssdS5kaXJlY3RpdmVFbmQrKyxzJiYodS5wcm92aWRlckluZGV4ZXMrPTEwNDg1NzYpLG4ucHVzaChyKSxvLnB1c2gocikpOihuW3BdPXIsb1twXT1yKX1lbHNle2NvbnN0IHA9c2EoYSxlLGMrZCxoKSxmPXNhKGEsZSxjLGMrZCksZz1wPj0wJiZuW3BdLG09Zj49MCYmbltmXTtpZihzJiYhbXx8IXMmJiFnKXtTbihDbih1LG8pLGksYSk7Y29uc3QgYz1mdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9bmV3IGNuKHQsbixhbyk7cmV0dXJuIGkubXVsdGk9W10saS5pbmRleD1lLGkuY29tcG9uZW50UHJvdmlkZXJzPTAscmEoaSxzLHImJiFuKSxpfShzP29hOmlhLG4ubGVuZ3RoLHMscixsKTshcyYmbSYmKG5bZl0ucHJvdmlkZXJGYWN0b3J5PWMpLG5hKGksdCxlLmxlbmd0aCwwKSxlLnB1c2goYSksdS5kaXJlY3RpdmVTdGFydCsrLHUuZGlyZWN0aXZlRW5kKysscyYmKHUucHJvdmlkZXJJbmRleGVzKz0xMDQ4NTc2KSxuLnB1c2goYyksby5wdXNoKGMpfWVsc2UgbmEoaSx0LHA+LTE/cDpmLHJhKG5bcz9mOnBdLGwsIXMmJnIpKTshcyYmciYmbSYmbltmXS5jb21wb25lbnRQcm92aWRlcnMrK319fWZ1bmN0aW9uIG5hKHQsZSxuLHIpe2NvbnN0IHM9emkoZSk7aWYoc3x8ZS51c2VDbGFzcyl7Y29uc3QgaT0oZS51c2VDbGFzc3x8ZSkucHJvdG90eXBlLm5nT25EZXN0cm95O2lmKGkpe2NvbnN0IG89dC5kZXN0cm95SG9va3N8fCh0LmRlc3Ryb3lIb29rcz1bXSk7aWYoIXMmJmUubXVsdGkpe2NvbnN0IHQ9by5pbmRleE9mKG4pOy0xPT09dD9vLnB1c2gobixbcixpXSk6b1t0KzFdLnB1c2gocixpKX1lbHNlIG8ucHVzaChuLGkpfX19ZnVuY3Rpb24gcmEodCxlLG4pe3JldHVybiBuJiZ0LmNvbXBvbmVudFByb3ZpZGVycysrLHQubXVsdGkucHVzaChlKS0xfWZ1bmN0aW9uIHNhKHQsZSxuLHIpe2ZvcihsZXQgcz1uO3M8cjtzKyspaWYoZVtzXT09PXQpcmV0dXJuIHM7cmV0dXJuLTF9ZnVuY3Rpb24gaWEodCxlLG4scil7cmV0dXJuIGFhKHRoaXMubXVsdGksW10pfWZ1bmN0aW9uIG9hKHQsZSxuLHIpe2NvbnN0IHM9dGhpcy5tdWx0aTtsZXQgaTtpZih0aGlzLnByb3ZpZGVyRmFjdG9yeSl7Y29uc3QgdD10aGlzLnByb3ZpZGVyRmFjdG9yeS5jb21wb25lbnRQcm92aWRlcnMsZT1SbihuLG5bMV0sdGhpcy5wcm92aWRlckZhY3RvcnkuaW5kZXgscik7aT1lLnNsaWNlKDAsdCksYWEocyxpKTtmb3IobGV0IG49dDtuPGUubGVuZ3RoO24rKylpLnB1c2goZVtuXSl9ZWxzZSBpPVtdLGFhKHMsaSk7cmV0dXJuIGl9ZnVuY3Rpb24gYWEodCxlKXtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyllLnB1c2goKDAsdFtuXSkoKSk7cmV0dXJuIGV9ZnVuY3Rpb24gbGEodCxlPVtdKXtyZXR1cm4gbj0+e24ucHJvdmlkZXJzUmVzb2x2ZXI9KG4scik9PmZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPUZlKCk7aWYoci5maXJzdENyZWF0ZVBhc3Mpe2NvbnN0IHM9aWUodCk7ZWEobixyLmRhdGEsci5ibHVlcHJpbnQscywhMCksZWEoZSxyLmRhdGEsci5ibHVlcHJpbnQscywhMSl9fShuLHI/cih0KTp0LGUpfX1jbGFzcyB1YXt9Y2xhc3MgY2F7cmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodCl7dGhyb3cgZnVuY3Rpb24odCl7Y29uc3QgZT1FcnJvcihgTm8gY29tcG9uZW50IGZhY3RvcnkgZm91bmQgZm9yICR7ZXQodCl9LiBEaWQgeW91IGFkZCBpdCB0byBATmdNb2R1bGUuZW50cnlDb21wb25lbnRzP2ApO3JldHVybiBlLm5nQ29tcG9uZW50PXQsZX0odCl9fWxldCBoYT0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5OVUxMPW5ldyBjYSx0fSkoKTtmdW5jdGlvbiBkYSguLi50KXt9ZnVuY3Rpb24gcGEodCxlKXtyZXR1cm4gbmV3IGdhKGJlKHQsZSkpfWNvbnN0IGZhPWZ1bmN0aW9uKCl7cmV0dXJuIHBhKFBlKCksVGUoKSl9O2xldCBnYT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMubmF0aXZlRWxlbWVudD10fX1yZXR1cm4gdC5fX05HX0VMRU1FTlRfSURfXz1mYSx0fSkoKTtmdW5jdGlvbiBtYSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGdhP3QubmF0aXZlRWxlbWVudDp0fWNsYXNzIHlhe31sZXQgdmE9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuX19OR19FTEVNRU5UX0lEX189KCk9PmJhKCksdH0pKCk7Y29uc3QgYmE9ZnVuY3Rpb24oKXtjb25zdCB0PVRlKCksZT1fZShQZSgpLmluZGV4LHQpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdFsxMV19KHRlKGUpP2U6dCl9O2xldCB3YT0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6KCk9Pm51bGx9KSx0fSkoKTtjbGFzcyBfYXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmZ1bGw9dCx0aGlzLm1ham9yPXQuc3BsaXQoIi4iKVswXSx0aGlzLm1pbm9yPXQuc3BsaXQoIi4iKVsxXSx0aGlzLnBhdGNoPXQuc3BsaXQoIi4iKS5zbGljZSgyKS5qb2luKCIuIil9fWNvbnN0IENhPW5ldyBfYSgiMTIuMC4xIik7Y2xhc3MgRGF7Y29uc3RydWN0b3IoKXt9c3VwcG9ydHModCl7cmV0dXJuIGVvKHQpfWNyZWF0ZSh0KXtyZXR1cm4gbmV3IEFhKHQpfX1jb25zdCBFYT0odCxlKT0+ZTtjbGFzcyBBYXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmxlbmd0aD0wLHRoaXMuX2xpbmtlZFJlY29yZHM9bnVsbCx0aGlzLl91bmxpbmtlZFJlY29yZHM9bnVsbCx0aGlzLl9wcmV2aW91c0l0SGVhZD1udWxsLHRoaXMuX2l0SGVhZD1udWxsLHRoaXMuX2l0VGFpbD1udWxsLHRoaXMuX2FkZGl0aW9uc0hlYWQ9bnVsbCx0aGlzLl9hZGRpdGlvbnNUYWlsPW51bGwsdGhpcy5fbW92ZXNIZWFkPW51bGwsdGhpcy5fbW92ZXNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPW51bGwsdGhpcy5fcmVtb3ZhbHNUYWlsPW51bGwsdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZD1udWxsLHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWw9bnVsbCx0aGlzLl90cmFja0J5Rm49dHx8RWF9Zm9yRWFjaEl0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5faXRIZWFkO251bGwhPT1lO2U9ZS5fbmV4dCl0KGUpfWZvckVhY2hPcGVyYXRpb24odCl7bGV0IGU9dGhpcy5faXRIZWFkLG49dGhpcy5fcmVtb3ZhbHNIZWFkLHI9MCxzPW51bGw7Zm9yKDtlfHxuOyl7Y29uc3QgaT0hbnx8ZSYmZS5jdXJyZW50SW5kZXg8VGEobixyLHMpP2U6bixvPVRhKGkscixzKSxhPWkuY3VycmVudEluZGV4O2lmKGk9PT1uKXItLSxuPW4uX25leHRSZW1vdmVkO2Vsc2UgaWYoZT1lLl9uZXh0LG51bGw9PWkucHJldmlvdXNJbmRleClyKys7ZWxzZXtzfHwocz1bXSk7Y29uc3QgdD1vLXIsZT1hLXI7aWYodCE9ZSl7Zm9yKGxldCBuPTA7bjx0O24rKyl7Y29uc3Qgcj1uPHMubGVuZ3RoP3Nbbl06c1tuXT0wLGk9cituO2U8PWkmJmk8dCYmKHNbbl09cisxKX1zW2kucHJldmlvdXNJbmRleF09ZS10fX1vIT09YSYmdChpLG8sYSl9fWZvckVhY2hQcmV2aW91c0l0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5fcHJldmlvdXNJdEhlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UHJldmlvdXMpdChlKX1mb3JFYWNoQWRkZWRJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX2FkZGl0aW9uc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0QWRkZWQpdChlKX1mb3JFYWNoTW92ZWRJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX21vdmVzSGVhZDtudWxsIT09ZTtlPWUuX25leHRNb3ZlZCl0KGUpfWZvckVhY2hSZW1vdmVkSXRlbSh0KXtsZXQgZTtmb3IoZT10aGlzLl9yZW1vdmFsc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UmVtb3ZlZCl0KGUpfWZvckVhY2hJZGVudGl0eUNoYW5nZSh0KXtsZXQgZTtmb3IoZT10aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkO251bGwhPT1lO2U9ZS5fbmV4dElkZW50aXR5Q2hhbmdlKXQoZSl9ZGlmZih0KXtpZihudWxsPT10JiYodD1bXSksIWVvKHQpKXRocm93IG5ldyBFcnJvcihgRXJyb3IgdHJ5aW5nIHRvIGRpZmYgJyR7ZXQodCl9Jy4gT25seSBhcnJheXMgYW5kIGl0ZXJhYmxlcyBhcmUgYWxsb3dlZGApO3JldHVybiB0aGlzLmNoZWNrKHQpP3RoaXM6bnVsbH1vbkRlc3Ryb3koKXt9Y2hlY2sodCl7dGhpcy5fcmVzZXQoKTtsZXQgZSxuLHIscz10aGlzLl9pdEhlYWQsaT0hMTtpZihBcnJheS5pc0FycmF5KHQpKXt0aGlzLmxlbmd0aD10Lmxlbmd0aDtmb3IobGV0IGU9MDtlPHRoaXMubGVuZ3RoO2UrKyluPXRbZV0scj10aGlzLl90cmFja0J5Rm4oZSxuKSxudWxsIT09cyYmT2JqZWN0LmlzKHMudHJhY2tCeUlkLHIpPyhpJiYocz10aGlzLl92ZXJpZnlSZWluc2VydGlvbihzLG4scixlKSksT2JqZWN0LmlzKHMuaXRlbSxuKXx8dGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UocyxuKSk6KHM9dGhpcy5fbWlzbWF0Y2gocyxuLHIsZSksaT0hMCkscz1zLl9uZXh0fWVsc2UgZT0wLGZ1bmN0aW9uKHQsZSl7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyllKHRbbl0pO2Vsc2V7Y29uc3Qgbj10W3RvKCldKCk7bGV0IHI7Zm9yKDshKHI9bi5uZXh0KCkpLmRvbmU7KWUoci52YWx1ZSl9fSh0LHQ9PntyPXRoaXMuX3RyYWNrQnlGbihlLHQpLG51bGwhPT1zJiZPYmplY3QuaXMocy50cmFja0J5SWQscik/KGkmJihzPXRoaXMuX3ZlcmlmeVJlaW5zZXJ0aW9uKHMsdCxyLGUpKSxPYmplY3QuaXMocy5pdGVtLHQpfHx0aGlzLl9hZGRJZGVudGl0eUNoYW5nZShzLHQpKToocz10aGlzLl9taXNtYXRjaChzLHQscixlKSxpPSEwKSxzPXMuX25leHQsZSsrfSksdGhpcy5sZW5ndGg9ZTtyZXR1cm4gdGhpcy5fdHJ1bmNhdGUocyksdGhpcy5jb2xsZWN0aW9uPXQsdGhpcy5pc0RpcnR5fWdldCBpc0RpcnR5KCl7cmV0dXJuIG51bGwhPT10aGlzLl9hZGRpdGlvbnNIZWFkfHxudWxsIT09dGhpcy5fbW92ZXNIZWFkfHxudWxsIT09dGhpcy5fcmVtb3ZhbHNIZWFkfHxudWxsIT09dGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZH1fcmVzZXQoKXtpZih0aGlzLmlzRGlydHkpe2xldCB0O2Zvcih0PXRoaXMuX3ByZXZpb3VzSXRIZWFkPXRoaXMuX2l0SGVhZDtudWxsIT09dDt0PXQuX25leHQpdC5fbmV4dFByZXZpb3VzPXQuX25leHQ7Zm9yKHQ9dGhpcy5fYWRkaXRpb25zSGVhZDtudWxsIT09dDt0PXQuX25leHRBZGRlZCl0LnByZXZpb3VzSW5kZXg9dC5jdXJyZW50SW5kZXg7Zm9yKHRoaXMuX2FkZGl0aW9uc0hlYWQ9dGhpcy5fYWRkaXRpb25zVGFpbD1udWxsLHQ9dGhpcy5fbW92ZXNIZWFkO251bGwhPT10O3Q9dC5fbmV4dE1vdmVkKXQucHJldmlvdXNJbmRleD10LmN1cnJlbnRJbmRleDt0aGlzLl9tb3Zlc0hlYWQ9dGhpcy5fbW92ZXNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPXRoaXMuX3JlbW92YWxzVGFpbD1udWxsLHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQ9dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbD1udWxsfX1fbWlzbWF0Y2godCxlLG4scil7bGV0IHM7cmV0dXJuIG51bGw9PT10P3M9dGhpcy5faXRUYWlsOihzPXQuX3ByZXYsdGhpcy5fcmVtb3ZlKHQpKSxudWxsIT09KHQ9bnVsbD09PXRoaXMuX3VubGlua2VkUmVjb3Jkcz9udWxsOnRoaXMuX3VubGlua2VkUmVjb3Jkcy5nZXQobixudWxsKSk/KE9iamVjdC5pcyh0Lml0ZW0sZSl8fHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHQsZSksdGhpcy5fcmVpbnNlcnRBZnRlcih0LHMscikpOm51bGwhPT0odD1udWxsPT09dGhpcy5fbGlua2VkUmVjb3Jkcz9udWxsOnRoaXMuX2xpbmtlZFJlY29yZHMuZ2V0KG4scikpPyhPYmplY3QuaXModC5pdGVtLGUpfHx0aGlzLl9hZGRJZGVudGl0eUNoYW5nZSh0LGUpLHRoaXMuX21vdmVBZnRlcih0LHMscikpOnQ9dGhpcy5fYWRkQWZ0ZXIobmV3IFNhKGUsbikscyxyKSx0fV92ZXJpZnlSZWluc2VydGlvbih0LGUsbixyKXtsZXQgcz1udWxsPT09dGhpcy5fdW5saW5rZWRSZWNvcmRzP251bGw6dGhpcy5fdW5saW5rZWRSZWNvcmRzLmdldChuLG51bGwpO3JldHVybiBudWxsIT09cz90PXRoaXMuX3JlaW5zZXJ0QWZ0ZXIocyx0Ll9wcmV2LHIpOnQuY3VycmVudEluZGV4IT1yJiYodC5jdXJyZW50SW5kZXg9cix0aGlzLl9hZGRUb01vdmVzKHQscikpLHR9X3RydW5jYXRlKHQpe2Zvcig7bnVsbCE9PXQ7KXtjb25zdCBlPXQuX25leHQ7dGhpcy5fYWRkVG9SZW1vdmFscyh0aGlzLl91bmxpbmsodCkpLHQ9ZX1udWxsIT09dGhpcy5fdW5saW5rZWRSZWNvcmRzJiZ0aGlzLl91bmxpbmtlZFJlY29yZHMuY2xlYXIoKSxudWxsIT09dGhpcy5fYWRkaXRpb25zVGFpbCYmKHRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZD1udWxsKSxudWxsIT09dGhpcy5fbW92ZXNUYWlsJiYodGhpcy5fbW92ZXNUYWlsLl9uZXh0TW92ZWQ9bnVsbCksbnVsbCE9PXRoaXMuX2l0VGFpbCYmKHRoaXMuX2l0VGFpbC5fbmV4dD1udWxsKSxudWxsIT09dGhpcy5fcmVtb3ZhbHNUYWlsJiYodGhpcy5fcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZD1udWxsKSxudWxsIT09dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCYmKHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwuX25leHRJZGVudGl0eUNoYW5nZT1udWxsKX1fcmVpbnNlcnRBZnRlcih0LGUsbil7bnVsbCE9PXRoaXMuX3VubGlua2VkUmVjb3JkcyYmdGhpcy5fdW5saW5rZWRSZWNvcmRzLnJlbW92ZSh0KTtjb25zdCByPXQuX3ByZXZSZW1vdmVkLHM9dC5fbmV4dFJlbW92ZWQ7cmV0dXJuIG51bGw9PT1yP3RoaXMuX3JlbW92YWxzSGVhZD1zOnIuX25leHRSZW1vdmVkPXMsbnVsbD09PXM/dGhpcy5fcmVtb3ZhbHNUYWlsPXI6cy5fcHJldlJlbW92ZWQ9cix0aGlzLl9pbnNlcnRBZnRlcih0LGUsbiksdGhpcy5fYWRkVG9Nb3Zlcyh0LG4pLHR9X21vdmVBZnRlcih0LGUsbil7cmV0dXJuIHRoaXMuX3VubGluayh0KSx0aGlzLl9pbnNlcnRBZnRlcih0LGUsbiksdGhpcy5fYWRkVG9Nb3Zlcyh0LG4pLHR9X2FkZEFmdGVyKHQsZSxuKXtyZXR1cm4gdGhpcy5faW5zZXJ0QWZ0ZXIodCxlLG4pLHRoaXMuX2FkZGl0aW9uc1RhaWw9bnVsbD09PXRoaXMuX2FkZGl0aW9uc1RhaWw/dGhpcy5fYWRkaXRpb25zSGVhZD10OnRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZD10LHR9X2luc2VydEFmdGVyKHQsZSxuKXtjb25zdCByPW51bGw9PT1lP3RoaXMuX2l0SGVhZDplLl9uZXh0O3JldHVybiB0Ll9uZXh0PXIsdC5fcHJldj1lLG51bGw9PT1yP3RoaXMuX2l0VGFpbD10OnIuX3ByZXY9dCxudWxsPT09ZT90aGlzLl9pdEhlYWQ9dDplLl9uZXh0PXQsbnVsbD09PXRoaXMuX2xpbmtlZFJlY29yZHMmJih0aGlzLl9saW5rZWRSZWNvcmRzPW5ldyBrYSksdGhpcy5fbGlua2VkUmVjb3Jkcy5wdXQodCksdC5jdXJyZW50SW5kZXg9bix0fV9yZW1vdmUodCl7cmV0dXJuIHRoaXMuX2FkZFRvUmVtb3ZhbHModGhpcy5fdW5saW5rKHQpKX1fdW5saW5rKHQpe251bGwhPT10aGlzLl9saW5rZWRSZWNvcmRzJiZ0aGlzLl9saW5rZWRSZWNvcmRzLnJlbW92ZSh0KTtjb25zdCBlPXQuX3ByZXYsbj10Ll9uZXh0O3JldHVybiBudWxsPT09ZT90aGlzLl9pdEhlYWQ9bjplLl9uZXh0PW4sbnVsbD09PW4/dGhpcy5faXRUYWlsPWU6bi5fcHJldj1lLHR9X2FkZFRvTW92ZXModCxlKXtyZXR1cm4gdC5wcmV2aW91c0luZGV4PT09ZXx8KHRoaXMuX21vdmVzVGFpbD1udWxsPT09dGhpcy5fbW92ZXNUYWlsP3RoaXMuX21vdmVzSGVhZD10OnRoaXMuX21vdmVzVGFpbC5fbmV4dE1vdmVkPXQpLHR9X2FkZFRvUmVtb3ZhbHModCl7cmV0dXJuIG51bGw9PT10aGlzLl91bmxpbmtlZFJlY29yZHMmJih0aGlzLl91bmxpbmtlZFJlY29yZHM9bmV3IGthKSx0aGlzLl91bmxpbmtlZFJlY29yZHMucHV0KHQpLHQuY3VycmVudEluZGV4PW51bGwsdC5fbmV4dFJlbW92ZWQ9bnVsbCxudWxsPT09dGhpcy5fcmVtb3ZhbHNUYWlsPyh0aGlzLl9yZW1vdmFsc1RhaWw9dGhpcy5fcmVtb3ZhbHNIZWFkPXQsdC5fcHJldlJlbW92ZWQ9bnVsbCk6KHQuX3ByZXZSZW1vdmVkPXRoaXMuX3JlbW92YWxzVGFpbCx0aGlzLl9yZW1vdmFsc1RhaWw9dGhpcy5fcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZD10KSx0fV9hZGRJZGVudGl0eUNoYW5nZSh0LGUpe3JldHVybiB0Lml0ZW09ZSx0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsPW51bGw9PT10aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsP3RoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQ9dDp0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsLl9uZXh0SWRlbnRpdHlDaGFuZ2U9dCx0fX1jbGFzcyBTYXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuaXRlbT10LHRoaXMudHJhY2tCeUlkPWUsdGhpcy5jdXJyZW50SW5kZXg9bnVsbCx0aGlzLnByZXZpb3VzSW5kZXg9bnVsbCx0aGlzLl9uZXh0UHJldmlvdXM9bnVsbCx0aGlzLl9wcmV2PW51bGwsdGhpcy5fbmV4dD1udWxsLHRoaXMuX3ByZXZEdXA9bnVsbCx0aGlzLl9uZXh0RHVwPW51bGwsdGhpcy5fcHJldlJlbW92ZWQ9bnVsbCx0aGlzLl9uZXh0UmVtb3ZlZD1udWxsLHRoaXMuX25leHRBZGRlZD1udWxsLHRoaXMuX25leHRNb3ZlZD1udWxsLHRoaXMuX25leHRJZGVudGl0eUNoYW5nZT1udWxsfX1jbGFzcyB4YXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2hlYWQ9bnVsbCx0aGlzLl90YWlsPW51bGx9YWRkKHQpe251bGw9PT10aGlzLl9oZWFkPyh0aGlzLl9oZWFkPXRoaXMuX3RhaWw9dCx0Ll9uZXh0RHVwPW51bGwsdC5fcHJldkR1cD1udWxsKToodGhpcy5fdGFpbC5fbmV4dER1cD10LHQuX3ByZXZEdXA9dGhpcy5fdGFpbCx0Ll9uZXh0RHVwPW51bGwsdGhpcy5fdGFpbD10KX1nZXQodCxlKXtsZXQgbjtmb3Iobj10aGlzLl9oZWFkO251bGwhPT1uO249bi5fbmV4dER1cClpZigobnVsbD09PWV8fGU8PW4uY3VycmVudEluZGV4KSYmT2JqZWN0LmlzKG4udHJhY2tCeUlkLHQpKXJldHVybiBuO3JldHVybiBudWxsfXJlbW92ZSh0KXtjb25zdCBlPXQuX3ByZXZEdXAsbj10Ll9uZXh0RHVwO3JldHVybiBudWxsPT09ZT90aGlzLl9oZWFkPW46ZS5fbmV4dER1cD1uLG51bGw9PT1uP3RoaXMuX3RhaWw9ZTpuLl9wcmV2RHVwPWUsbnVsbD09PXRoaXMuX2hlYWR9fWNsYXNzIGthe2NvbnN0cnVjdG9yKCl7dGhpcy5tYXA9bmV3IE1hcH1wdXQodCl7Y29uc3QgZT10LnRyYWNrQnlJZDtsZXQgbj10aGlzLm1hcC5nZXQoZSk7bnx8KG49bmV3IHhhLHRoaXMubWFwLnNldChlLG4pKSxuLmFkZCh0KX1nZXQodCxlKXtjb25zdCBuPXRoaXMubWFwLmdldCh0KTtyZXR1cm4gbj9uLmdldCh0LGUpOm51bGx9cmVtb3ZlKHQpe2NvbnN0IGU9dC50cmFja0J5SWQ7cmV0dXJuIHRoaXMubWFwLmdldChlKS5yZW1vdmUodCkmJnRoaXMubWFwLmRlbGV0ZShlKSx0fWdldCBpc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLm1hcC5zaXplfWNsZWFyKCl7dGhpcy5tYXAuY2xlYXIoKX19ZnVuY3Rpb24gVGEodCxlLG4pe2NvbnN0IHI9dC5wcmV2aW91c0luZGV4O2lmKG51bGw9PT1yKXJldHVybiByO2xldCBzPTA7cmV0dXJuIG4mJnI8bi5sZW5ndGgmJihzPW5bcl0pLHIrZStzfWNsYXNzIEZhe2NvbnN0cnVjdG9yKCl7fXN1cHBvcnRzKHQpe3JldHVybiB0IGluc3RhbmNlb2YgTWFwfHxubyh0KX1jcmVhdGUoKXtyZXR1cm4gbmV3IE9hfX1jbGFzcyBPYXtjb25zdHJ1Y3Rvcigpe3RoaXMuX3JlY29yZHM9bmV3IE1hcCx0aGlzLl9tYXBIZWFkPW51bGwsdGhpcy5fYXBwZW5kQWZ0ZXI9bnVsbCx0aGlzLl9wcmV2aW91c01hcEhlYWQ9bnVsbCx0aGlzLl9jaGFuZ2VzSGVhZD1udWxsLHRoaXMuX2NoYW5nZXNUYWlsPW51bGwsdGhpcy5fYWRkaXRpb25zSGVhZD1udWxsLHRoaXMuX2FkZGl0aW9uc1RhaWw9bnVsbCx0aGlzLl9yZW1vdmFsc0hlYWQ9bnVsbCx0aGlzLl9yZW1vdmFsc1RhaWw9bnVsbH1nZXQgaXNEaXJ0eSgpe3JldHVybiBudWxsIT09dGhpcy5fYWRkaXRpb25zSGVhZHx8bnVsbCE9PXRoaXMuX2NoYW5nZXNIZWFkfHxudWxsIT09dGhpcy5fcmVtb3ZhbHNIZWFkfWZvckVhY2hJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX21hcEhlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0KXQoZSl9Zm9yRWFjaFByZXZpb3VzSXRlbSh0KXtsZXQgZTtmb3IoZT10aGlzLl9wcmV2aW91c01hcEhlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UHJldmlvdXMpdChlKX1mb3JFYWNoQ2hhbmdlZEl0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5fY2hhbmdlc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0Q2hhbmdlZCl0KGUpfWZvckVhY2hBZGRlZEl0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5fYWRkaXRpb25zSGVhZDtudWxsIT09ZTtlPWUuX25leHRBZGRlZCl0KGUpfWZvckVhY2hSZW1vdmVkSXRlbSh0KXtsZXQgZTtmb3IoZT10aGlzLl9yZW1vdmFsc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UmVtb3ZlZCl0KGUpfWRpZmYodCl7aWYodCl7aWYoISh0IGluc3RhbmNlb2YgTWFwfHxubyh0KSkpdGhyb3cgbmV3IEVycm9yKGBFcnJvciB0cnlpbmcgdG8gZGlmZiAnJHtldCh0KX0nLiBPbmx5IG1hcHMgYW5kIG9iamVjdHMgYXJlIGFsbG93ZWRgKX1lbHNlIHQ9bmV3IE1hcDtyZXR1cm4gdGhpcy5jaGVjayh0KT90aGlzOm51bGx9b25EZXN0cm95KCl7fWNoZWNrKHQpe3RoaXMuX3Jlc2V0KCk7bGV0IGU9dGhpcy5fbWFwSGVhZDtpZih0aGlzLl9hcHBlbmRBZnRlcj1udWxsLHRoaXMuX2ZvckVhY2godCwodCxuKT0+e2lmKGUmJmUua2V5PT09bil0aGlzLl9tYXliZUFkZFRvQ2hhbmdlcyhlLHQpLHRoaXMuX2FwcGVuZEFmdGVyPWUsZT1lLl9uZXh0O2Vsc2V7Y29uc3Qgcj10aGlzLl9nZXRPckNyZWF0ZVJlY29yZEZvcktleShuLHQpO2U9dGhpcy5faW5zZXJ0QmVmb3JlT3JBcHBlbmQoZSxyKX19KSxlKXtlLl9wcmV2JiYoZS5fcHJldi5fbmV4dD1udWxsKSx0aGlzLl9yZW1vdmFsc0hlYWQ9ZTtmb3IobGV0IHQ9ZTtudWxsIT09dDt0PXQuX25leHRSZW1vdmVkKXQ9PT10aGlzLl9tYXBIZWFkJiYodGhpcy5fbWFwSGVhZD1udWxsKSx0aGlzLl9yZWNvcmRzLmRlbGV0ZSh0LmtleSksdC5fbmV4dFJlbW92ZWQ9dC5fbmV4dCx0LnByZXZpb3VzVmFsdWU9dC5jdXJyZW50VmFsdWUsdC5jdXJyZW50VmFsdWU9bnVsbCx0Ll9wcmV2PW51bGwsdC5fbmV4dD1udWxsfXJldHVybiB0aGlzLl9jaGFuZ2VzVGFpbCYmKHRoaXMuX2NoYW5nZXNUYWlsLl9uZXh0Q2hhbmdlZD1udWxsKSx0aGlzLl9hZGRpdGlvbnNUYWlsJiYodGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkPW51bGwpLHRoaXMuaXNEaXJ0eX1faW5zZXJ0QmVmb3JlT3JBcHBlbmQodCxlKXtpZih0KXtjb25zdCBuPXQuX3ByZXY7cmV0dXJuIGUuX25leHQ9dCxlLl9wcmV2PW4sdC5fcHJldj1lLG4mJihuLl9uZXh0PWUpLHQ9PT10aGlzLl9tYXBIZWFkJiYodGhpcy5fbWFwSGVhZD1lKSx0aGlzLl9hcHBlbmRBZnRlcj10LHR9cmV0dXJuIHRoaXMuX2FwcGVuZEFmdGVyPyh0aGlzLl9hcHBlbmRBZnRlci5fbmV4dD1lLGUuX3ByZXY9dGhpcy5fYXBwZW5kQWZ0ZXIpOnRoaXMuX21hcEhlYWQ9ZSx0aGlzLl9hcHBlbmRBZnRlcj1lLG51bGx9X2dldE9yQ3JlYXRlUmVjb3JkRm9yS2V5KHQsZSl7aWYodGhpcy5fcmVjb3Jkcy5oYXModCkpe2NvbnN0IG49dGhpcy5fcmVjb3Jkcy5nZXQodCk7dGhpcy5fbWF5YmVBZGRUb0NoYW5nZXMobixlKTtjb25zdCByPW4uX3ByZXYscz1uLl9uZXh0O3JldHVybiByJiYoci5fbmV4dD1zKSxzJiYocy5fcHJldj1yKSxuLl9uZXh0PW51bGwsbi5fcHJldj1udWxsLG59Y29uc3Qgbj1uZXcgUGEodCk7cmV0dXJuIHRoaXMuX3JlY29yZHMuc2V0KHQsbiksbi5jdXJyZW50VmFsdWU9ZSx0aGlzLl9hZGRUb0FkZGl0aW9ucyhuKSxufV9yZXNldCgpe2lmKHRoaXMuaXNEaXJ0eSl7bGV0IHQ7Zm9yKHRoaXMuX3ByZXZpb3VzTWFwSGVhZD10aGlzLl9tYXBIZWFkLHQ9dGhpcy5fcHJldmlvdXNNYXBIZWFkO251bGwhPT10O3Q9dC5fbmV4dCl0Ll9uZXh0UHJldmlvdXM9dC5fbmV4dDtmb3IodD10aGlzLl9jaGFuZ2VzSGVhZDtudWxsIT09dDt0PXQuX25leHRDaGFuZ2VkKXQucHJldmlvdXNWYWx1ZT10LmN1cnJlbnRWYWx1ZTtmb3IodD10aGlzLl9hZGRpdGlvbnNIZWFkO251bGwhPXQ7dD10Ll9uZXh0QWRkZWQpdC5wcmV2aW91c1ZhbHVlPXQuY3VycmVudFZhbHVlO3RoaXMuX2NoYW5nZXNIZWFkPXRoaXMuX2NoYW5nZXNUYWlsPW51bGwsdGhpcy5fYWRkaXRpb25zSGVhZD10aGlzLl9hZGRpdGlvbnNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPW51bGx9fV9tYXliZUFkZFRvQ2hhbmdlcyh0LGUpe09iamVjdC5pcyhlLHQuY3VycmVudFZhbHVlKXx8KHQucHJldmlvdXNWYWx1ZT10LmN1cnJlbnRWYWx1ZSx0LmN1cnJlbnRWYWx1ZT1lLHRoaXMuX2FkZFRvQ2hhbmdlcyh0KSl9X2FkZFRvQWRkaXRpb25zKHQpe251bGw9PT10aGlzLl9hZGRpdGlvbnNIZWFkP3RoaXMuX2FkZGl0aW9uc0hlYWQ9dGhpcy5fYWRkaXRpb25zVGFpbD10Oih0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQ9dCx0aGlzLl9hZGRpdGlvbnNUYWlsPXQpfV9hZGRUb0NoYW5nZXModCl7bnVsbD09PXRoaXMuX2NoYW5nZXNIZWFkP3RoaXMuX2NoYW5nZXNIZWFkPXRoaXMuX2NoYW5nZXNUYWlsPXQ6KHRoaXMuX2NoYW5nZXNUYWlsLl9uZXh0Q2hhbmdlZD10LHRoaXMuX2NoYW5nZXNUYWlsPXQpfV9mb3JFYWNoKHQsZSl7dCBpbnN0YW5jZW9mIE1hcD90LmZvckVhY2goZSk6T2JqZWN0LmtleXModCkuZm9yRWFjaChuPT5lKHRbbl0sbikpfX1jbGFzcyBQYXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmtleT10LHRoaXMucHJldmlvdXNWYWx1ZT1udWxsLHRoaXMuY3VycmVudFZhbHVlPW51bGwsdGhpcy5fbmV4dFByZXZpb3VzPW51bGwsdGhpcy5fbmV4dD1udWxsLHRoaXMuX3ByZXY9bnVsbCx0aGlzLl9uZXh0QWRkZWQ9bnVsbCx0aGlzLl9uZXh0UmVtb3ZlZD1udWxsLHRoaXMuX25leHRDaGFuZ2VkPW51bGx9fWZ1bmN0aW9uIElhKCl7cmV0dXJuIG5ldyBSYShbbmV3IERhXSl9bGV0IFJhPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5mYWN0b3JpZXM9dH1zdGF0aWMgY3JlYXRlKGUsbil7aWYobnVsbCE9bil7Y29uc3QgdD1uLmZhY3Rvcmllcy5zbGljZSgpO2U9ZS5jb25jYXQodCl9cmV0dXJuIG5ldyB0KGUpfXN0YXRpYyBleHRlbmQoZSl7cmV0dXJue3Byb3ZpZGU6dCx1c2VGYWN0b3J5Om49PnQuY3JlYXRlKGUsbnx8SWEoKSksZGVwczpbW3QsbmV3IGhyLG5ldyBjcl1dfX1maW5kKHQpe2NvbnN0IGU9dGhpcy5mYWN0b3JpZXMuZmluZChlPT5lLnN1cHBvcnRzKHQpKTtpZihudWxsIT1lKXJldHVybiBlO3Rocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgYSBkaWZmZXIgc3VwcG9ydGluZyBvYmplY3QgJyR7dH0nIG9mIHR5cGUgJyR7bj10LG4ubmFtZXx8dHlwZW9mIG59J2ApO3ZhciBufX1yZXR1cm4gdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6SWF9KSx0fSkoKTtmdW5jdGlvbiBNYSgpe3JldHVybiBuZXcgamEoW25ldyBGYV0pfWxldCBqYT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuZmFjdG9yaWVzPXR9c3RhdGljIGNyZWF0ZShlLG4pe2lmKG4pe2NvbnN0IHQ9bi5mYWN0b3JpZXMuc2xpY2UoKTtlPWUuY29uY2F0KHQpfXJldHVybiBuZXcgdChlKX1zdGF0aWMgZXh0ZW5kKGUpe3JldHVybntwcm92aWRlOnQsdXNlRmFjdG9yeTpuPT50LmNyZWF0ZShlLG58fE1hKCkpLGRlcHM6W1t0LG5ldyBocixuZXcgY3JdXX19ZmluZCh0KXtjb25zdCBlPXRoaXMuZmFjdG9yaWVzLmZpbmQoZT0+ZS5zdXBwb3J0cyh0KSk7aWYoZSlyZXR1cm4gZTt0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIGEgZGlmZmVyIHN1cHBvcnRpbmcgb2JqZWN0ICcke3R9J2ApfX1yZXR1cm4gdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6TWF9KSx0fSkoKTtmdW5jdGlvbiBOYSh0LGUsbixyLHM9ITEpe2Zvcig7bnVsbCE9PW47KXtjb25zdCBpPWVbbi5pbmRleF07aWYobnVsbCE9PWkmJnIucHVzaCh5ZShpKSksZWUoaSkpZm9yKGxldCB0PUp0O3Q8aS5sZW5ndGg7dCsrKXtjb25zdCBlPWlbdF0sbj1lWzFdLmZpcnN0Q2hpbGQ7bnVsbCE9PW4mJk5hKGVbMV0sZSxuLHIpfWNvbnN0IG89bi50eXBlO2lmKDgmbylOYSh0LGUsbi5jaGlsZCxyKTtlbHNlIGlmKDMyJm8pe2NvbnN0IHQ9UXIobixlKTtsZXQgcztmb3IoO3M9dCgpOylyLnB1c2gocyl9ZWxzZSBpZigxNiZvKXtjb25zdCB0PXlzKGUsbik7aWYoQXJyYXkuaXNBcnJheSh0KSlyLnB1c2goLi4udCk7ZWxzZXtjb25zdCBuPVhyKGVbMTZdKTtOYShuWzFdLG4sdCxyLCEwKX19bj1zP24ucHJvamVjdGlvbk5leHQ6bi5uZXh0fXJldHVybiByfWNsYXNzIFZhe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fbFZpZXc9dCx0aGlzLl9jZFJlZkluamVjdGluZ1ZpZXc9ZSx0aGlzLl9hcHBSZWY9bnVsbCx0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lcj0hMX1nZXQgcm9vdE5vZGVzKCl7Y29uc3QgdD10aGlzLl9sVmlldyxlPXRbMV07cmV0dXJuIE5hKGUsdCxlLmZpcnN0Q2hpbGQsW10pfWdldCBjb250ZXh0KCl7cmV0dXJuIHRoaXMuX2xWaWV3WzhdfXNldCBjb250ZXh0KHQpe3RoaXMuX2xWaWV3WzhdPXR9Z2V0IGRlc3Ryb3llZCgpe3JldHVybiAyNTY9PSgyNTYmdGhpcy5fbFZpZXdbMl0pfWRlc3Ryb3koKXtpZih0aGlzLl9hcHBSZWYpdGhpcy5fYXBwUmVmLmRldGFjaFZpZXcodGhpcyk7ZWxzZSBpZih0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lcil7Y29uc3QgdD10aGlzLl9sVmlld1szXTtpZihlZSh0KSl7Y29uc3QgZT10WzhdLG49ZT9lLmluZGV4T2YodGhpcyk6LTE7bj4tMSYmKGlzKHQsbiksWm4oZSxuKSl9dGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXI9ITF9b3ModGhpcy5fbFZpZXdbMV0sdGhpcy5fbFZpZXcpfW9uRGVzdHJveSh0KXtzaSh0aGlzLl9sVmlld1sxXSx0aGlzLl9sVmlldyxudWxsLHQpfW1hcmtGb3JDaGVjaygpe19pKHRoaXMuX2NkUmVmSW5qZWN0aW5nVmlld3x8dGhpcy5fbFZpZXcpfWRldGFjaCgpe3RoaXMuX2xWaWV3WzJdJj0tMTI5fXJlYXR0YWNoKCl7dGhpcy5fbFZpZXdbMl18PTEyOH1kZXRlY3RDaGFuZ2VzKCl7Q2kodGhpcy5fbFZpZXdbMV0sdGhpcy5fbFZpZXcsdGhpcy5jb250ZXh0KX1jaGVja05vQ2hhbmdlcygpeyFmdW5jdGlvbih0LGUsbil7VmUoITApO3RyeXtDaSh0LGUsbil9ZmluYWxseXtWZSghMSl9fSh0aGlzLl9sVmlld1sxXSx0aGlzLl9sVmlldyx0aGlzLmNvbnRleHQpfWF0dGFjaFRvVmlld0NvbnRhaW5lclJlZigpe2lmKHRoaXMuX2FwcFJlZil0aHJvdyBuZXcgRXJyb3IoIlRoaXMgdmlldyBpcyBhbHJlYWR5IGF0dGFjaGVkIGRpcmVjdGx5IHRvIHRoZSBBcHBsaWNhdGlvblJlZiEiKTt0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lcj0hMH1kZXRhY2hGcm9tQXBwUmVmKCl7dmFyIHQ7dGhpcy5fYXBwUmVmPW51bGwsd3ModGhpcy5fbFZpZXdbMV0sdD10aGlzLl9sVmlldyx0WzExXSwyLG51bGwsbnVsbCl9YXR0YWNoVG9BcHBSZWYodCl7aWYodGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXIpdGhyb3cgbmV3IEVycm9yKCJUaGlzIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhIFZpZXdDb250YWluZXIhIik7dGhpcy5fYXBwUmVmPXR9fWNsYXNzIExhIGV4dGVuZHMgVmF7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5fdmlldz10fWRldGVjdENoYW5nZXMoKXtEaSh0aGlzLl92aWV3KX1jaGVja05vQ2hhbmdlcygpeyFmdW5jdGlvbih0KXtWZSghMCk7dHJ5e0RpKHQpfWZpbmFsbHl7VmUoITEpfX0odGhpcy5fdmlldyl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gbnVsbH19Y29uc3QgQmE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtpZihyZSh0KSYmIW4pe2NvbnN0IG49X2UodC5pbmRleCxlKTtyZXR1cm4gbmV3IFZhKG4sbil9cmV0dXJuIDQ3JnQudHlwZT9uZXcgVmEoZVsxNl0sZSk6bnVsbH0oUGUoKSxUZSgpLDE2PT0oMTYmdCkpfTtsZXQgVWE9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuX19OR19FTEVNRU5UX0lEX189QmEsdH0pKCk7Y29uc3QgSGE9W25ldyBGYV0sJGE9bmV3IFJhKFtuZXcgRGFdKSx6YT1uZXcgamEoSGEpLHFhPWZ1bmN0aW9uKCl7cmV0dXJuIEthKFBlKCksVGUoKSl9O2xldCBXYT0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5fX05HX0VMRU1FTlRfSURfXz1xYSx0fSkoKTtjb25zdCBHYT1XYSxaYT1jbGFzcyBleHRlbmRzIEdhe2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcigpLHRoaXMuX2RlY2xhcmF0aW9uTFZpZXc9dCx0aGlzLl9kZWNsYXJhdGlvblRDb250YWluZXI9ZSx0aGlzLmVsZW1lbnRSZWY9bn1jcmVhdGVFbWJlZGRlZFZpZXcodCl7Y29uc3QgZT10aGlzLl9kZWNsYXJhdGlvblRDb250YWluZXIudFZpZXdzLG49V3ModGhpcy5fZGVjbGFyYXRpb25MVmlldyxlLHQsMTYsbnVsbCxlLmRlY2xUTm9kZSxudWxsLG51bGwsbnVsbCxudWxsKTtuWzE3XT10aGlzLl9kZWNsYXJhdGlvbkxWaWV3W3RoaXMuX2RlY2xhcmF0aW9uVENvbnRhaW5lci5pbmRleF07Y29uc3Qgcj10aGlzLl9kZWNsYXJhdGlvbkxWaWV3WzE5XTtyZXR1cm4gbnVsbCE9PXImJihuWzE5XT1yLmNyZWF0ZUVtYmVkZGVkVmlldyhlKSksS3MoZSxuLHQpLG5ldyBWYShuKX19O2Z1bmN0aW9uIEthKHQsZSl7cmV0dXJuIDQmdC50eXBlP25ldyBaYShlLHQscGEodCxlKSk6bnVsbH1jbGFzcyBZYXt9Y2xhc3MgUWF7fWNvbnN0IFhhPWZ1bmN0aW9uKCl7cmV0dXJuIHNsKFBlKCksVGUoKSl9O2xldCBKYT0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5fX05HX0VMRU1FTlRfSURfXz1YYSx0fSkoKTtjb25zdCB0bD1KYSxlbD1jbGFzcyBleHRlbmRzIHRse2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcigpLHRoaXMuX2xDb250YWluZXI9dCx0aGlzLl9ob3N0VE5vZGU9ZSx0aGlzLl9ob3N0TFZpZXc9bn1nZXQgZWxlbWVudCgpe3JldHVybiBwYSh0aGlzLl9ob3N0VE5vZGUsdGhpcy5faG9zdExWaWV3KX1nZXQgaW5qZWN0b3IoKXtyZXR1cm4gbmV3IE5uKHRoaXMuX2hvc3RUTm9kZSx0aGlzLl9ob3N0TFZpZXcpfWdldCBwYXJlbnRJbmplY3Rvcigpe2NvbnN0IHQ9QW4odGhpcy5faG9zdFROb2RlLHRoaXMuX2hvc3RMVmlldyk7aWYobW4odCkpe2NvbnN0IGU9dm4odCx0aGlzLl9ob3N0TFZpZXcpLG49eW4odCk7cmV0dXJuIG5ldyBObihlWzFdLmRhdGFbbis4XSxlKX1yZXR1cm4gbmV3IE5uKG51bGwsdGhpcy5faG9zdExWaWV3KX1jbGVhcigpe2Zvcig7dGhpcy5sZW5ndGg+MDspdGhpcy5yZW1vdmUodGhpcy5sZW5ndGgtMSl9Z2V0KHQpe2NvbnN0IGU9bmwodGhpcy5fbENvbnRhaW5lcik7cmV0dXJuIG51bGwhPT1lJiZlW3RdfHxudWxsfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fbENvbnRhaW5lci5sZW5ndGgtSnR9Y3JlYXRlRW1iZWRkZWRWaWV3KHQsZSxuKXtjb25zdCByPXQuY3JlYXRlRW1iZWRkZWRWaWV3KGV8fHt9KTtyZXR1cm4gdGhpcy5pbnNlcnQocixuKSxyfWNyZWF0ZUNvbXBvbmVudCh0LGUsbixyLHMpe2NvbnN0IGk9bnx8dGhpcy5wYXJlbnRJbmplY3RvcjtpZighcyYmbnVsbD09dC5uZ01vZHVsZSYmaSl7Y29uc3QgdD1pLmdldChZYSxudWxsKTt0JiYocz10KX1jb25zdCBvPXQuY3JlYXRlKGkscix2b2lkIDAscyk7cmV0dXJuIHRoaXMuaW5zZXJ0KG8uaG9zdFZpZXcsZSksb31pbnNlcnQodCxlKXtjb25zdCBuPXQuX2xWaWV3LHI9blsxXTtpZihlZShuWzNdKSl7Y29uc3QgZT10aGlzLmluZGV4T2YodCk7aWYoLTEhPT1lKXRoaXMuZGV0YWNoKGUpO2Vsc2V7Y29uc3QgZT1uWzNdLHI9bmV3IGVsKGUsZVs2XSxlWzNdKTtyLmRldGFjaChyLmluZGV4T2YodCkpfX1jb25zdCBzPXRoaXMuX2FkanVzdEluZGV4KGUpLGk9dGhpcy5fbENvbnRhaW5lcjshZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz1KdCtyLGk9bi5sZW5ndGg7cj4wJiYobltzLTFdWzRdPWUpLHI8aS1KdD8oZVs0XT1uW3NdLEduKG4sSnQrcixlKSk6KG4ucHVzaChlKSxlWzRdPW51bGwpLGVbM109bjtjb25zdCBvPWVbMTddO251bGwhPT1vJiZuIT09byYmZnVuY3Rpb24odCxlKXtjb25zdCBuPXRbOV07ZVsxNl0hPT1lWzNdWzNdWzE2XSYmKHRbMl09ITApLG51bGw9PT1uP3RbOV09W2VdOm4ucHVzaChlKX0obyxlKTtjb25zdCBhPWVbMTldO251bGwhPT1hJiZhLmluc2VydFZpZXcodCksZVsyXXw9MTI4fShyLG4saSxzKTtjb25zdCBvPXZzKHMsaSksYT1uWzExXSxsPWRzKGEsaVs3XSk7cmV0dXJuIG51bGwhPT1sJiZmdW5jdGlvbih0LGUsbixyLHMsaSl7clswXT1zLHJbNl09ZSx3cyh0LHIsbiwxLHMsaSl9KHIsaVs2XSxhLG4sbCxvKSx0LmF0dGFjaFRvVmlld0NvbnRhaW5lclJlZigpLEduKHJsKGkpLHMsdCksdH1tb3ZlKHQsZSl7cmV0dXJuIHRoaXMuaW5zZXJ0KHQsZSl9aW5kZXhPZih0KXtjb25zdCBlPW5sKHRoaXMuX2xDb250YWluZXIpO3JldHVybiBudWxsIT09ZT9lLmluZGV4T2YodCk6LTF9cmVtb3ZlKHQpe2NvbnN0IGU9dGhpcy5fYWRqdXN0SW5kZXgodCwtMSksbj1pcyh0aGlzLl9sQ29udGFpbmVyLGUpO24mJihabihybCh0aGlzLl9sQ29udGFpbmVyKSxlKSxvcyhuWzFdLG4pKX1kZXRhY2godCl7Y29uc3QgZT10aGlzLl9hZGp1c3RJbmRleCh0LC0xKSxuPWlzKHRoaXMuX2xDb250YWluZXIsZSk7cmV0dXJuIG4mJm51bGwhPVpuKHJsKHRoaXMuX2xDb250YWluZXIpLGUpP25ldyBWYShuKTpudWxsfV9hZGp1c3RJbmRleCh0LGU9MCl7cmV0dXJuIG51bGw9PXQ/dGhpcy5sZW5ndGgrZTp0fX07ZnVuY3Rpb24gbmwodCl7cmV0dXJuIHRbOF19ZnVuY3Rpb24gcmwodCl7cmV0dXJuIHRbOF18fCh0WzhdPVtdKX1mdW5jdGlvbiBzbCh0LGUpe2xldCBuO2NvbnN0IHI9ZVt0LmluZGV4XTtpZihlZShyKSluPXI7ZWxzZXtsZXQgcztpZig4JnQudHlwZSlzPXllKHIpO2Vsc2V7Y29uc3Qgbj1lWzExXTtzPW4uY3JlYXRlQ29tbWVudCgiIik7Y29uc3Qgcj1iZSh0LGUpO3VzKG4sZHMobixyKSxzLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGdlKHQpP3QubmV4dFNpYmxpbmcoZSk6ZS5uZXh0U2libGluZ30obixyKSwhMSl9ZVt0LmluZGV4XT1uPW1pKHIsZSxzLHQpLHdpKGUsbil9cmV0dXJuIG5ldyBlbChuLHQsZSl9Y29uc3QgaWw9e307Y2xhc3Mgb2wgZXh0ZW5kcyBoYXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMubmdNb2R1bGU9dH1yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh0KXtjb25zdCBlPVl0KHQpO3JldHVybiBuZXcgdWwoZSx0aGlzLm5nTW9kdWxlKX19ZnVuY3Rpb24gYWwodCl7Y29uc3QgZT1bXTtmb3IobGV0IG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiZlLnB1c2goe3Byb3BOYW1lOnRbbl0sdGVtcGxhdGVOYW1lOm59KTtyZXR1cm4gZX1jb25zdCBsbD1uZXcgSG4oIlNDSEVEVUxFUl9UT0tFTiIse3Byb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6KCk9PlpyfSk7Y2xhc3MgdWwgZXh0ZW5kcyB1YXtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5jb21wb25lbnREZWY9dCx0aGlzLm5nTW9kdWxlPWUsdGhpcy5jb21wb25lbnRUeXBlPXQudHlwZSx0aGlzLnNlbGVjdG9yPXQuc2VsZWN0b3JzLm1hcChNcykuam9pbigiLCIpLHRoaXMubmdDb250ZW50U2VsZWN0b3JzPXQubmdDb250ZW50U2VsZWN0b3JzP3QubmdDb250ZW50U2VsZWN0b3JzOltdLHRoaXMuaXNCb3VuZFRvTW9kdWxlPSEhZX1nZXQgaW5wdXRzKCl7cmV0dXJuIGFsKHRoaXMuY29tcG9uZW50RGVmLmlucHV0cyl9Z2V0IG91dHB1dHMoKXtyZXR1cm4gYWwodGhpcy5jb21wb25lbnREZWYub3V0cHV0cyl9Y3JlYXRlKHQsZSxuLHIpe2NvbnN0IHM9KHI9cnx8dGhpcy5uZ01vZHVsZSk/ZnVuY3Rpb24odCxlKXtyZXR1cm57Z2V0OihuLHIscyk9Pntjb25zdCBpPXQuZ2V0KG4saWwscyk7cmV0dXJuIGkhPT1pbHx8cj09PWlsP2k6ZS5nZXQobixyLHMpfX19KHQsci5pbmplY3Rvcik6dCxpPXMuZ2V0KHlhLG1lKSxvPXMuZ2V0KHdhLG51bGwpLGE9aS5jcmVhdGVSZW5kZXJlcihudWxsLHRoaXMuY29tcG9uZW50RGVmKSxsPXRoaXMuY29tcG9uZW50RGVmLnNlbGVjdG9yc1swXVswXXx8ImRpdiIsdT1uP2Z1bmN0aW9uKHQsZSxuKXtpZihnZSh0KSlyZXR1cm4gdC5zZWxlY3RSb290RWxlbWVudChlLG49PT1TdC5TaGFkb3dEb20pO2xldCByPSJzdHJpbmciPT10eXBlb2YgZT90LnF1ZXJ5U2VsZWN0b3IoZSk6ZTtyZXR1cm4gci50ZXh0Q29udGVudD0iIixyfShhLG4sdGhpcy5jb21wb25lbnREZWYuZW5jYXBzdWxhdGlvbik6cnMoaS5jcmVhdGVSZW5kZXJlcihudWxsLHRoaXMuY29tcG9uZW50RGVmKSxsLGZ1bmN0aW9uKHQpe2NvbnN0IGU9dC50b0xvd2VyQ2FzZSgpO3JldHVybiJzdmciPT09ZT8iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciOiJtYXRoIj09PWU/Imh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aE1MLyI6bnVsbH0obCkpLGM9dGhpcy5jb21wb25lbnREZWYub25QdXNoPzU3Njo1MjgsaD17Y29tcG9uZW50czpbXSxzY2hlZHVsZXI6WnIsY2xlYW46QWkscGxheWVySGFuZGxlcjpudWxsLGZsYWdzOjB9LGQ9cmkoMCxudWxsLG51bGwsMSwwLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCkscD1XcyhudWxsLGQsaCxjLG51bGwsbnVsbCxpLGEsbyxzKTtsZXQgZixnO0dlKHApO3RyeXtjb25zdCB0PWZ1bmN0aW9uKHQsZSxuLHIscyxpKXtjb25zdCBvPW5bMV07blsyMF09dDtjb25zdCBhPUdzKG8sMjAsMiwiI2hvc3QiLG51bGwpLGw9YS5tZXJnZWRBdHRycz1lLmhvc3RBdHRycztudWxsIT09bCYmKEZpKGEsbCwhMCksbnVsbCE9PXQmJihobihzLHQsbCksbnVsbCE9PWEuY2xhc3NlcyYmRHMocyx0LGEuY2xhc3NlcyksbnVsbCE9PWEuc3R5bGVzJiZDcyhzLHQsYS5zdHlsZXMpKSk7Y29uc3QgdT1yLmNyZWF0ZVJlbmRlcmVyKHQsZSksYz1XcyhuLG5pKGUpLG51bGwsZS5vblB1c2g/NjQ6MTYsblsyMF0sYSxyLHUsbnVsbCxudWxsKTtyZXR1cm4gby5maXJzdENyZWF0ZVBhc3MmJihTbihDbihhLG4pLG8sZS50eXBlKSx1aShvLGEpLGhpKGEsbi5sZW5ndGgsMSkpLHdpKG4sYyksblsyMF09Y30odSx0aGlzLmNvbXBvbmVudERlZixwLGksYSk7aWYodSlpZihuKWhuKGEsdSxbIm5nLXZlcnNpb24iLENhLmZ1bGxdKTtlbHNle2NvbnN0e2F0dHJzOnQsY2xhc3NlczplfT1mdW5jdGlvbih0KXtjb25zdCBlPVtdLG49W107bGV0IHI9MSxzPTI7Zm9yKDtyPHQubGVuZ3RoOyl7bGV0IGk9dFtyXTtpZigic3RyaW5nIj09dHlwZW9mIGkpMj09PXM/IiIhPT1pJiZlLnB1c2goaSx0Wysrcl0pOjg9PT1zJiZuLnB1c2goaSk7ZWxzZXtpZighRnMocykpYnJlYWs7cz1pfXIrK31yZXR1cm57YXR0cnM6ZSxjbGFzc2VzOm59fSh0aGlzLmNvbXBvbmVudERlZi5zZWxlY3RvcnNbMF0pO3QmJmhuKGEsdSx0KSxlJiZlLmxlbmd0aD4wJiZEcyhhLHUsZS5qb2luKCIgIikpfWlmKGc9d2UoZCxYdCksdm9pZCAwIT09ZSl7Y29uc3QgdD1nLnByb2plY3Rpb249W107Zm9yKGxldCBuPTA7bjx0aGlzLm5nQ29udGVudFNlbGVjdG9ycy5sZW5ndGg7bisrKXtjb25zdCByPWVbbl07dC5wdXNoKG51bGwhPXI/QXJyYXkuZnJvbShyKTpudWxsKX19Zj1mdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9blsxXSxvPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPVBlKCk7dC5maXJzdENyZWF0ZVBhc3MmJihuLnByb3ZpZGVyc1Jlc29sdmVyJiZuLnByb3ZpZGVyc1Jlc29sdmVyKG4pLGRpKHQscixlLFpzKHQsZSwxLG51bGwpLG4pKTtjb25zdCBzPVJuKGUsdCxyLmRpcmVjdGl2ZVN0YXJ0LHIpO0hyKHMsZSk7Y29uc3QgaT1iZShyLGUpO3JldHVybiBpJiZIcihpLGUpLHN9KGksbixlKTtpZihyLmNvbXBvbmVudHMucHVzaChvKSx0WzhdPW8scyYmcy5mb3JFYWNoKHQ9PnQobyxlKSksZS5jb250ZW50UXVlcmllcyl7Y29uc3QgdD1QZSgpO2UuY29udGVudFF1ZXJpZXMoMSxvLHQuZGlyZWN0aXZlU3RhcnQpfWNvbnN0IGE9UGUoKTtyZXR1cm4haS5maXJzdENyZWF0ZVBhc3N8fG51bGw9PT1lLmhvc3RCaW5kaW5ncyYmbnVsbD09PWUuaG9zdEF0dHJzfHwodG4oYS5pbmRleCksYWkoblsxXSxhLDAsYS5kaXJlY3RpdmVTdGFydCxhLmRpcmVjdGl2ZUVuZCxlKSxsaShlLG8pKSxvfSh0LHRoaXMuY29tcG9uZW50RGVmLHAsaCxbR2ldKSxLcyhkLHAsbnVsbCl9ZmluYWxseXtYZSgpfXJldHVybiBuZXcgY2wodGhpcy5jb21wb25lbnRUeXBlLGYscGEoZyxwKSxwLGcpfX1jbGFzcyBjbCBleHRlbmRzIGNsYXNze317Y29uc3RydWN0b3IodCxlLG4scixzKXtzdXBlcigpLHRoaXMubG9jYXRpb249bix0aGlzLl9yb290TFZpZXc9cix0aGlzLl90Tm9kZT1zLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLmhvc3RWaWV3PXRoaXMuY2hhbmdlRGV0ZWN0b3JSZWY9bmV3IExhKHIpLHRoaXMuY29tcG9uZW50VHlwZT10fWdldCBpbmplY3Rvcigpe3JldHVybiBuZXcgTm4odGhpcy5fdE5vZGUsdGhpcy5fcm9vdExWaWV3KX1kZXN0cm95KCl7dGhpcy5ob3N0Vmlldy5kZXN0cm95KCl9b25EZXN0cm95KHQpe3RoaXMuaG9zdFZpZXcub25EZXN0cm95KHQpfX1jb25zdCBobD1uZXcgTWFwO2NsYXNzIGRsIGV4dGVuZHMgWWF7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMuX3BhcmVudD1lLHRoaXMuX2Jvb3RzdHJhcENvbXBvbmVudHM9W10sdGhpcy5pbmplY3Rvcj10aGlzLHRoaXMuZGVzdHJveUNicz1bXSx0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcj1uZXcgb2wodGhpcyk7Y29uc3Qgbj1RdCh0KSxyPXRbVnRdfHxudWxsO3ImJnRhKHIpLHRoaXMuX2Jvb3RzdHJhcENvbXBvbmVudHM9S3Iobi5ib290c3RyYXApLHRoaXMuX3IzSW5qZWN0b3I9VmkodCxlLFt7cHJvdmlkZTpZYSx1c2VWYWx1ZTp0aGlzfSx7cHJvdmlkZTpoYSx1c2VWYWx1ZTp0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcn1dLGV0KHQpKSx0aGlzLl9yM0luamVjdG9yLl9yZXNvbHZlSW5qZWN0b3JEZWZUeXBlcygpLHRoaXMuaW5zdGFuY2U9dGhpcy5nZXQodCl9Z2V0KHQsZT1XaS5USFJPV19JRl9OT1RfRk9VTkQsbj13dC5EZWZhdWx0KXtyZXR1cm4gdD09PVdpfHx0PT09WWF8fHQ9PT1PaT90aGlzOnRoaXMuX3IzSW5qZWN0b3IuZ2V0KHQsZSxuKX1kZXN0cm95KCl7Y29uc3QgdD10aGlzLl9yM0luamVjdG9yOyF0LmRlc3Ryb3llZCYmdC5kZXN0cm95KCksdGhpcy5kZXN0cm95Q2JzLmZvckVhY2godD0+dCgpKSx0aGlzLmRlc3Ryb3lDYnM9bnVsbH1vbkRlc3Ryb3kodCl7dGhpcy5kZXN0cm95Q2JzLnB1c2godCl9fWNsYXNzIHBsIGV4dGVuZHMgUWF7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLm1vZHVsZVR5cGU9dCxudWxsIT09UXQodCkmJmZ1bmN0aW9uKHQpe2NvbnN0IGU9bmV3IFNldDshZnVuY3Rpb24gdChuKXtjb25zdCByPVF0KG4sITApLHM9ci5pZDtudWxsIT09cyYmKGZ1bmN0aW9uKHQsZSxuKXtpZihlJiZlIT09bil0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBtb2R1bGUgcmVnaXN0ZXJlZCBmb3IgJHt0fSAtICR7ZXQoZSl9IHZzICR7ZXQoZS5uYW1lKX1gKX0ocyxobC5nZXQocyksbiksaGwuc2V0KHMsbikpO2NvbnN0IGk9S3Ioci5pbXBvcnRzKTtmb3IoY29uc3QgbyBvZiBpKWUuaGFzKG8pfHwoZS5hZGQobyksdChvKSl9KHQpfSh0KX1jcmVhdGUodCl7cmV0dXJuIG5ldyBkbCh0aGlzLm1vZHVsZVR5cGUsdCl9fWZ1bmN0aW9uIGZsKHQpe3JldHVybiBlPT57c2V0VGltZW91dCh0LHZvaWQgMCxlKX19Y29uc3QgZ2w9Y2xhc3MgZXh0ZW5kcyBEe2NvbnN0cnVjdG9yKHQ9ITEpe3N1cGVyKCksdGhpcy5fX2lzQXN5bmM9dH1lbWl0KHQpe3N1cGVyLm5leHQodCl9c3Vic2NyaWJlKHQsZSxuKXt2YXIgcixzLGk7bGV0IG89dCxhPWV8fCgoKT0+bnVsbCksbD1uO2lmKHQmJiJvYmplY3QiPT10eXBlb2YgdCl7Y29uc3QgZT10O289bnVsbD09PShyPWUubmV4dCl8fHZvaWQgMD09PXI/dm9pZCAwOnIuYmluZChlKSxhPW51bGw9PT0ocz1lLmVycm9yKXx8dm9pZCAwPT09cz92b2lkIDA6cy5iaW5kKGUpLGw9bnVsbD09PShpPWUuY29tcGxldGUpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmJpbmQoZSl9dGhpcy5fX2lzQXN5bmMmJihhPWZsKGEpLG8mJihvPWZsKG8pKSxsJiYobD1mbChsKSkpO2NvbnN0IHU9c3VwZXIuc3Vic2NyaWJlKHtuZXh0Om8sZXJyb3I6YSxjb21wbGV0ZTpsfSk7cmV0dXJuIHQgaW5zdGFuY2VvZiBoJiZ0LmFkZCh1KSx1fX07ZnVuY3Rpb24gbWwoKXtyZXR1cm4gdGhpcy5fcmVzdWx0c1t0bygpXSgpfWNsYXNzIHlse2NvbnN0cnVjdG9yKHQ9ITEpe3RoaXMuX2VtaXREaXN0aW5jdENoYW5nZXNPbmx5PXQsdGhpcy5kaXJ0eT0hMCx0aGlzLl9yZXN1bHRzPVtdLHRoaXMuX2NoYW5nZXNEZXRlY3RlZD0hMSx0aGlzLl9jaGFuZ2VzPW51bGwsdGhpcy5sZW5ndGg9MCx0aGlzLmZpcnN0PXZvaWQgMCx0aGlzLmxhc3Q9dm9pZCAwO2NvbnN0IGU9dG8oKSxuPXlsLnByb3RvdHlwZTtuW2VdfHwobltlXT1tbCl9Z2V0IGNoYW5nZXMoKXtyZXR1cm4gdGhpcy5fY2hhbmdlc3x8KHRoaXMuX2NoYW5nZXM9bmV3IGdsKX1nZXQodCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHNbdF19bWFwKHQpe3JldHVybiB0aGlzLl9yZXN1bHRzLm1hcCh0KX1maWx0ZXIodCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMuZmlsdGVyKHQpfWZpbmQodCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMuZmluZCh0KX1yZWR1Y2UodCxlKXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5yZWR1Y2UodCxlKX1mb3JFYWNoKHQpe3RoaXMuX3Jlc3VsdHMuZm9yRWFjaCh0KX1zb21lKHQpe3JldHVybiB0aGlzLl9yZXN1bHRzLnNvbWUodCl9dG9BcnJheSgpe3JldHVybiB0aGlzLl9yZXN1bHRzLnNsaWNlKCl9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5fcmVzdWx0cy50b1N0cmluZygpfXJlc2V0KHQsZSl7Y29uc3Qgbj10aGlzO24uZGlydHk9ITE7Y29uc3Qgcj1xbih0KTsodGhpcy5fY2hhbmdlc0RldGVjdGVkPSFmdW5jdGlvbih0LGUsbil7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7bGV0IHM9dFtyXSxpPWVbcl07aWYobiYmKHM9bihzKSxpPW4oaSkpLGkhPT1zKXJldHVybiExfXJldHVybiEwfShuLl9yZXN1bHRzLHIsZSkpJiYobi5fcmVzdWx0cz1yLG4ubGVuZ3RoPXIubGVuZ3RoLG4ubGFzdD1yW3RoaXMubGVuZ3RoLTFdLG4uZmlyc3Q9clswXSl9bm90aWZ5T25DaGFuZ2VzKCl7IXRoaXMuX2NoYW5nZXN8fCF0aGlzLl9jaGFuZ2VzRGV0ZWN0ZWQmJnRoaXMuX2VtaXREaXN0aW5jdENoYW5nZXNPbmx5fHx0aGlzLl9jaGFuZ2VzLmVtaXQodGhpcyl9c2V0RGlydHkoKXt0aGlzLmRpcnR5PSEwfWRlc3Ryb3koKXt0aGlzLmNoYW5nZXMuY29tcGxldGUoKSx0aGlzLmNoYW5nZXMudW5zdWJzY3JpYmUoKX19Y2xhc3Mgdmx7Y29uc3RydWN0b3IodCl7dGhpcy5xdWVyeUxpc3Q9dCx0aGlzLm1hdGNoZXM9bnVsbH1jbG9uZSgpe3JldHVybiBuZXcgdmwodGhpcy5xdWVyeUxpc3QpfXNldERpcnR5KCl7dGhpcy5xdWVyeUxpc3Quc2V0RGlydHkoKX19Y2xhc3MgYmx7Y29uc3RydWN0b3IodD1bXSl7dGhpcy5xdWVyaWVzPXR9Y3JlYXRlRW1iZWRkZWRWaWV3KHQpe2NvbnN0IGU9dC5xdWVyaWVzO2lmKG51bGwhPT1lKXtjb25zdCBuPW51bGwhPT10LmNvbnRlbnRRdWVyaWVzP3QuY29udGVudFF1ZXJpZXNbMF06ZS5sZW5ndGgscj1bXTtmb3IobGV0IHQ9MDt0PG47dCsrKXtjb25zdCBuPWUuZ2V0QnlJbmRleCh0KTtyLnB1c2godGhpcy5xdWVyaWVzW24uaW5kZXhJbkRlY2xhcmF0aW9uVmlld10uY2xvbmUoKSl9cmV0dXJuIG5ldyBibChyKX1yZXR1cm4gbnVsbH1pbnNlcnRWaWV3KHQpe3RoaXMuZGlydHlRdWVyaWVzV2l0aE1hdGNoZXModCl9ZGV0YWNoVmlldyh0KXt0aGlzLmRpcnR5UXVlcmllc1dpdGhNYXRjaGVzKHQpfWRpcnR5UXVlcmllc1dpdGhNYXRjaGVzKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5xdWVyaWVzLmxlbmd0aDtlKyspbnVsbCE9PVBsKHQsZSkubWF0Y2hlcyYmdGhpcy5xdWVyaWVzW2VdLnNldERpcnR5KCl9fWNsYXNzIHdse2NvbnN0cnVjdG9yKHQsZSxuPW51bGwpe3RoaXMucHJlZGljYXRlPXQsdGhpcy5mbGFncz1lLHRoaXMucmVhZD1ufX1jbGFzcyBfbHtjb25zdHJ1Y3Rvcih0PVtdKXt0aGlzLnF1ZXJpZXM9dH1lbGVtZW50U3RhcnQodCxlKXtmb3IobGV0IG49MDtuPHRoaXMucXVlcmllcy5sZW5ndGg7bisrKXRoaXMucXVlcmllc1tuXS5lbGVtZW50U3RhcnQodCxlKX1lbGVtZW50RW5kKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5xdWVyaWVzLmxlbmd0aDtlKyspdGhpcy5xdWVyaWVzW2VdLmVsZW1lbnRFbmQodCl9ZW1iZWRkZWRUVmlldyh0KXtsZXQgZT1udWxsO2ZvcihsZXQgbj0wO248dGhpcy5sZW5ndGg7bisrKXtjb25zdCByPW51bGwhPT1lP2UubGVuZ3RoOjAscz10aGlzLmdldEJ5SW5kZXgobikuZW1iZWRkZWRUVmlldyh0LHIpO3MmJihzLmluZGV4SW5EZWNsYXJhdGlvblZpZXc9bixudWxsIT09ZT9lLnB1c2gocyk6ZT1bc10pfXJldHVybiBudWxsIT09ZT9uZXcgX2woZSk6bnVsbH10ZW1wbGF0ZSh0LGUpe2ZvcihsZXQgbj0wO248dGhpcy5xdWVyaWVzLmxlbmd0aDtuKyspdGhpcy5xdWVyaWVzW25dLnRlbXBsYXRlKHQsZSl9Z2V0QnlJbmRleCh0KXtyZXR1cm4gdGhpcy5xdWVyaWVzW3RdfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5xdWVyaWVzLmxlbmd0aH10cmFjayh0KXt0aGlzLnF1ZXJpZXMucHVzaCh0KX19Y2xhc3MgQ2x7Y29uc3RydWN0b3IodCxlPS0xKXt0aGlzLm1ldGFkYXRhPXQsdGhpcy5tYXRjaGVzPW51bGwsdGhpcy5pbmRleEluRGVjbGFyYXRpb25WaWV3PS0xLHRoaXMuY3Jvc3Nlc05nVGVtcGxhdGU9ITEsdGhpcy5fYXBwbGllc1RvTmV4dE5vZGU9ITAsdGhpcy5fZGVjbGFyYXRpb25Ob2RlSW5kZXg9ZX1lbGVtZW50U3RhcnQodCxlKXt0aGlzLmlzQXBwbHlpbmdUb05vZGUoZSkmJnRoaXMubWF0Y2hUTm9kZSh0LGUpfWVsZW1lbnRFbmQodCl7dGhpcy5fZGVjbGFyYXRpb25Ob2RlSW5kZXg9PT10LmluZGV4JiYodGhpcy5fYXBwbGllc1RvTmV4dE5vZGU9ITEpfXRlbXBsYXRlKHQsZSl7dGhpcy5lbGVtZW50U3RhcnQodCxlKX1lbWJlZGRlZFRWaWV3KHQsZSl7cmV0dXJuIHRoaXMuaXNBcHBseWluZ1RvTm9kZSh0KT8odGhpcy5jcm9zc2VzTmdUZW1wbGF0ZT0hMCx0aGlzLmFkZE1hdGNoKC10LmluZGV4LGUpLG5ldyBDbCh0aGlzLm1ldGFkYXRhKSk6bnVsbH1pc0FwcGx5aW5nVG9Ob2RlKHQpe2lmKHRoaXMuX2FwcGxpZXNUb05leHROb2RlJiYxIT0oMSZ0aGlzLm1ldGFkYXRhLmZsYWdzKSl7Y29uc3QgZT10aGlzLl9kZWNsYXJhdGlvbk5vZGVJbmRleDtsZXQgbj10LnBhcmVudDtmb3IoO251bGwhPT1uJiY4Jm4udHlwZSYmbi5pbmRleCE9PWU7KW49bi5wYXJlbnQ7cmV0dXJuIGU9PT0obnVsbCE9PW4/bi5pbmRleDotMSl9cmV0dXJuIHRoaXMuX2FwcGxpZXNUb05leHROb2RlfW1hdGNoVE5vZGUodCxlKXtjb25zdCBuPXRoaXMubWV0YWRhdGEucHJlZGljYXRlO2lmKEFycmF5LmlzQXJyYXkobikpZm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKyspe2NvbnN0IHM9bltyXTt0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0LGUsRGwoZSxzKSksdGhpcy5tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24odCxlLEluKGUsdCxzLCExLCExKSl9ZWxzZSBuPT09V2E/NCZlLnR5cGUmJnRoaXMubWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHQsZSwtMSk6dGhpcy5tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24odCxlLEluKGUsdCxuLCExLCExKSl9bWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHQsZSxuKXtpZihudWxsIT09bil7Y29uc3Qgcj10aGlzLm1ldGFkYXRhLnJlYWQ7aWYobnVsbCE9PXIpaWYocj09PWdhfHxyPT09SmF8fHI9PT1XYSYmNCZlLnR5cGUpdGhpcy5hZGRNYXRjaChlLmluZGV4LC0yKTtlbHNle2NvbnN0IG49SW4oZSx0LHIsITEsITEpO251bGwhPT1uJiZ0aGlzLmFkZE1hdGNoKGUuaW5kZXgsbil9ZWxzZSB0aGlzLmFkZE1hdGNoKGUuaW5kZXgsbil9fWFkZE1hdGNoKHQsZSl7bnVsbD09PXRoaXMubWF0Y2hlcz90aGlzLm1hdGNoZXM9W3QsZV06dGhpcy5tYXRjaGVzLnB1c2godCxlKX19ZnVuY3Rpb24gRGwodCxlKXtjb25zdCBuPXQubG9jYWxOYW1lcztpZihudWxsIT09bilmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrPTIpaWYobltyXT09PWUpcmV0dXJuIG5bcisxXTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBFbCh0LGUsbixyKXtyZXR1cm4tMT09PW4/ZnVuY3Rpb24odCxlKXtyZXR1cm4gMTEmdC50eXBlP3BhKHQsZSk6NCZ0LnR5cGU/S2EodCxlKTpudWxsfShlLHQpOi0yPT09bj9mdW5jdGlvbih0LGUsbil7cmV0dXJuIG49PT1nYT9wYShlLHQpOm49PT1XYT9LYShlLHQpOm49PT1KYT9zbChlLHQpOnZvaWQgMH0odCxlLHIpOlJuKHQsdFsxXSxuLGUpfWZ1bmN0aW9uIEFsKHQsZSxuLHIpe2NvbnN0IHM9ZVsxOV0ucXVlcmllc1tyXTtpZihudWxsPT09cy5tYXRjaGVzKXtjb25zdCByPXQuZGF0YSxpPW4ubWF0Y2hlcyxvPVtdO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCs9Mil7Y29uc3Qgcz1pW3RdO28ucHVzaChzPDA/bnVsbDpFbChlLHJbc10saVt0KzFdLG4ubWV0YWRhdGEucmVhZCkpfXMubWF0Y2hlcz1vfXJldHVybiBzLm1hdGNoZXN9ZnVuY3Rpb24gU2wodCxlLG4scil7Y29uc3Qgcz10LnF1ZXJpZXMuZ2V0QnlJbmRleChuKSxpPXMubWF0Y2hlcztpZihudWxsIT09aSl7Y29uc3Qgbz1BbCh0LGUscyxuKTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrPTIpe2NvbnN0IG49aVt0XTtpZihuPjApci5wdXNoKG9bdC8yXSk7ZWxzZXtjb25zdCBzPWlbdCsxXSxvPWVbLW5dO2ZvcihsZXQgdD1KdDt0PG8ubGVuZ3RoO3QrKyl7Y29uc3QgZT1vW3RdO2VbMTddPT09ZVszXSYmU2woZVsxXSxlLHMscil9aWYobnVsbCE9PW9bOV0pe2NvbnN0IHQ9b1s5XTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgbj10W2VdO1NsKG5bMV0sbixzLHIpfX19fX1yZXR1cm4gcn1mdW5jdGlvbiB4bCh0KXtjb25zdCBlPVRlKCksbj1GZSgpLHI9JGUoKTt6ZShyKzEpO2NvbnN0IHM9UGwobixyKTtpZih0LmRpcnR5JiZDZShlKT09PSgyPT0oMiZzLm1ldGFkYXRhLmZsYWdzKSkpe2lmKG51bGw9PT1zLm1hdGNoZXMpdC5yZXNldChbXSk7ZWxzZXtjb25zdCBpPXMuY3Jvc3Nlc05nVGVtcGxhdGU/U2wobixlLHIsW10pOkFsKG4sZSxzLHIpO3QucmVzZXQoaSxtYSksdC5ub3RpZnlPbkNoYW5nZXMoKX1yZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBrbCh0LGUsbil7Y29uc3Qgcj1GZSgpO3IuZmlyc3RDcmVhdGVQYXNzJiYoT2wocixuZXcgd2wodCxlLG4pLC0xKSwyPT0oMiZlKSYmKHIuc3RhdGljVmlld1F1ZXJpZXM9ITApKSxGbChyLFRlKCksZSl9ZnVuY3Rpb24gVGwoKXtyZXR1cm4gdD1UZSgpLGU9JGUoKSx0WzE5XS5xdWVyaWVzW2VdLnF1ZXJ5TGlzdDt2YXIgdCxlfWZ1bmN0aW9uIEZsKHQsZSxuKXtjb25zdCByPW5ldyB5bCg0PT0oNCZuKSk7c2kodCxlLHIsci5kZXN0cm95KSxudWxsPT09ZVsxOV0mJihlWzE5XT1uZXcgYmwpLGVbMTldLnF1ZXJpZXMucHVzaChuZXcgdmwocikpfWZ1bmN0aW9uIE9sKHQsZSxuKXtudWxsPT09dC5xdWVyaWVzJiYodC5xdWVyaWVzPW5ldyBfbCksdC5xdWVyaWVzLnRyYWNrKG5ldyBDbChlLG4pKX1mdW5jdGlvbiBQbCh0LGUpe3JldHVybiB0LnF1ZXJpZXMuZ2V0QnlJbmRleChlKX1mdW5jdGlvbiBJbCh0LGUpe3JldHVybiBLYSh0LGUpfWNvbnN0IFJsPW5ldyBIbigiQXBwbGljYXRpb24gSW5pdGlhbGl6ZXIiKTtsZXQgTWw9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmFwcEluaXRzPXQsdGhpcy5yZXNvbHZlPWRhLHRoaXMucmVqZWN0PWRhLHRoaXMuaW5pdGlhbGl6ZWQ9ITEsdGhpcy5kb25lPSExLHRoaXMuZG9uZVByb21pc2U9bmV3IFByb21pc2UoKHQsZSk9Pnt0aGlzLnJlc29sdmU9dCx0aGlzLnJlamVjdD1lfSl9cnVuSW5pdGlhbGl6ZXJzKCl7aWYodGhpcy5pbml0aWFsaXplZClyZXR1cm47Y29uc3QgdD1bXSxlPSgpPT57dGhpcy5kb25lPSEwLHRoaXMucmVzb2x2ZSgpfTtpZih0aGlzLmFwcEluaXRzKWZvcihsZXQgbj0wO248dGhpcy5hcHBJbml0cy5sZW5ndGg7bisrKXtjb25zdCBlPXRoaXMuYXBwSW5pdHNbbl0oKTtpZihtbyhlKSl0LnB1c2goZSk7ZWxzZSBpZih5byhlKSl7Y29uc3Qgbj1uZXcgUHJvbWlzZSgodCxuKT0+e2Uuc3Vic2NyaWJlKHtjb21wbGV0ZTp0LGVycm9yOm59KX0pO3QucHVzaChuKX19UHJvbWlzZS5hbGwodCkudGhlbigoKT0+e2UoKX0pLmNhdGNoKHQ9Pnt0aGlzLnJlamVjdCh0KX0pLDA9PT10Lmxlbmd0aCYmZSgpLHRoaXMuaW5pdGlhbGl6ZWQ9ITB9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKFJsLDgpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCBqbD1uZXcgSG4oIkFwcElkIiksTmw9e3Byb3ZpZGU6amwsdXNlRmFjdG9yeTpmdW5jdGlvbigpe3JldHVybmAke1ZsKCl9JHtWbCgpfSR7VmwoKX1gfSxkZXBzOltdfTtmdW5jdGlvbiBWbCgpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDk3K01hdGguZmxvb3IoMjUqTWF0aC5yYW5kb20oKSkpfWNvbnN0IExsPW5ldyBIbigiUGxhdGZvcm0gSW5pdGlhbGl6ZXIiKSxCbD1uZXcgSG4oIlBsYXRmb3JtIElEIiksVWw9bmV3IEhuKCJhcHBCb290c3RyYXBMaXN0ZW5lciIpO2xldCBIbD0oKCk9PntjbGFzcyB0e2xvZyh0KXtjb25zb2xlLmxvZyh0KX13YXJuKHQpe2NvbnNvbGUud2Fybih0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y29uc3QgJGw9bmV3IEhuKCJMb2NhbGVJZCIpLHpsPW5ldyBIbigiRGVmYXVsdEN1cnJlbmN5Q29kZSIpO2NsYXNzIHFse2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5uZ01vZHVsZUZhY3Rvcnk9dCx0aGlzLmNvbXBvbmVudEZhY3Rvcmllcz1lfX1jb25zdCBXbD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHBsKHQpfSxHbD1XbCxabD1mdW5jdGlvbih0KXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFdsKHQpKX0sS2w9ZnVuY3Rpb24odCl7Y29uc3QgZT1XbCh0KSxuPUtyKFF0KHQpLmRlY2xhcmF0aW9ucykucmVkdWNlKCh0LGUpPT57Y29uc3Qgbj1ZdChlKTtyZXR1cm4gbiYmdC5wdXNoKG5ldyB1bChuKSksdH0sW10pO3JldHVybiBuZXcgcWwoZSxuKX0sWWw9S2wsUWw9ZnVuY3Rpb24odCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShLbCh0KSl9O2xldCBYbD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5jb21waWxlTW9kdWxlU3luYz1HbCx0aGlzLmNvbXBpbGVNb2R1bGVBc3luYz1abCx0aGlzLmNvbXBpbGVNb2R1bGVBbmRBbGxDb21wb25lbnRzU3luYz1ZbCx0aGlzLmNvbXBpbGVNb2R1bGVBbmRBbGxDb21wb25lbnRzQXN5bmM9UWx9Y2xlYXJDYWNoZSgpe31jbGVhckNhY2hlRm9yKHQpe31nZXRNb2R1bGVJZCh0KXt9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IEpsPSgoKT0+UHJvbWlzZS5yZXNvbHZlKDApKSgpO2Z1bmN0aW9uIHR1KHQpeyJ1bmRlZmluZWQiPT10eXBlb2YgWm9uZT9KbC50aGVuKCgpPT57dCYmdC5hcHBseShudWxsLG51bGwpfSk6Wm9uZS5jdXJyZW50LnNjaGVkdWxlTWljcm9UYXNrKCJzY2hlZHVsZU1pY3JvdGFzayIsdCl9Y2xhc3MgZXV7Y29uc3RydWN0b3Ioe2VuYWJsZUxvbmdTdGFja1RyYWNlOnQ9ITEsc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbjplPSExLHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uOm49ITF9KXtpZih0aGlzLmhhc1BlbmRpbmdNYWNyb3Rhc2tzPSExLHRoaXMuaGFzUGVuZGluZ01pY3JvdGFza3M9ITEsdGhpcy5pc1N0YWJsZT0hMCx0aGlzLm9uVW5zdGFibGU9bmV3IGdsKCExKSx0aGlzLm9uTWljcm90YXNrRW1wdHk9bmV3IGdsKCExKSx0aGlzLm9uU3RhYmxlPW5ldyBnbCghMSksdGhpcy5vbkVycm9yPW5ldyBnbCghMSksInVuZGVmaW5lZCI9PXR5cGVvZiBab25lKXRocm93IG5ldyBFcnJvcigiSW4gdGhpcyBjb25maWd1cmF0aW9uIEFuZ3VsYXIgcmVxdWlyZXMgWm9uZS5qcyIpO1pvbmUuYXNzZXJ0Wm9uZVBhdGNoZWQoKTtjb25zdCByPXRoaXM7ci5fbmVzdGluZz0wLHIuX291dGVyPXIuX2lubmVyPVpvbmUuY3VycmVudCxab25lLlRhc2tUcmFja2luZ1pvbmVTcGVjJiYoci5faW5uZXI9ci5faW5uZXIuZm9yayhuZXcgWm9uZS5UYXNrVHJhY2tpbmdab25lU3BlYykpLHQmJlpvbmUubG9uZ1N0YWNrVHJhY2Vab25lU3BlYyYmKHIuX2lubmVyPXIuX2lubmVyLmZvcmsoWm9uZS5sb25nU3RhY2tUcmFjZVpvbmVTcGVjKSksci5zaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uPSFuJiZlLHIuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb249bixyLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZD0tMSxyLm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbigpe2xldCB0PU90LnJlcXVlc3RBbmltYXRpb25GcmFtZSxlPU90LmNhbmNlbEFuaW1hdGlvbkZyYW1lO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgWm9uZSYmdCYmZSl7Y29uc3Qgbj10W1pvbmUuX19zeW1ib2xfXygiT3JpZ2luYWxEZWxlZ2F0ZSIpXTtuJiYodD1uKTtjb25zdCByPWVbWm9uZS5fX3N5bWJvbF9fKCJPcmlnaW5hbERlbGVnYXRlIildO3ImJihlPXIpfXJldHVybntuYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWU6dCxuYXRpdmVDYW5jZWxBbmltYXRpb25GcmFtZTplfX0oKS5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsZnVuY3Rpb24odCl7Y29uc3QgZT0oKT0+eyFmdW5jdGlvbih0KXt0LmlzQ2hlY2tTdGFibGVSdW5uaW5nfHwtMSE9PXQubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkfHwodC5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQ9dC5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUuY2FsbChPdCwoKT0+e3QuZmFrZVRvcEV2ZW50VGFza3x8KHQuZmFrZVRvcEV2ZW50VGFzaz1ab25lLnJvb3Quc2NoZWR1bGVFdmVudFRhc2soImZha2VUb3BFdmVudFRhc2siLCgpPT57dC5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQ9LTEsc3UodCksdC5pc0NoZWNrU3RhYmxlUnVubmluZz0hMCxydSh0KSx0LmlzQ2hlY2tTdGFibGVSdW5uaW5nPSExfSx2b2lkIDAsKCk9Pnt9LCgpPT57fSkpLHQuZmFrZVRvcEV2ZW50VGFzay5pbnZva2UoKX0pLHN1KHQpKX0odCl9O3QuX2lubmVyPXQuX2lubmVyLmZvcmsoe25hbWU6ImFuZ3VsYXIiLHByb3BlcnRpZXM6e2lzQW5ndWxhclpvbmU6ITB9LG9uSW52b2tlVGFzazoobixyLHMsaSxvLGEpPT57dHJ5e3JldHVybiBpdSh0KSxuLmludm9rZVRhc2socyxpLG8sYSl9ZmluYWxseXsodC5zaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uJiYiZXZlbnRUYXNrIj09PWkudHlwZXx8dC5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbikmJmUoKSxvdSh0KX19LG9uSW52b2tlOihuLHIscyxpLG8sYSxsKT0+e3RyeXtyZXR1cm4gaXUodCksbi5pbnZva2UocyxpLG8sYSxsKX1maW5hbGx5e3Quc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24mJmUoKSxvdSh0KX19LG9uSGFzVGFzazooZSxuLHIscyk9PntlLmhhc1Rhc2socixzKSxuPT09ciYmKCJtaWNyb1Rhc2siPT1zLmNoYW5nZT8odC5faGFzUGVuZGluZ01pY3JvdGFza3M9cy5taWNyb1Rhc2ssc3UodCkscnUodCkpOiJtYWNyb1Rhc2siPT1zLmNoYW5nZSYmKHQuaGFzUGVuZGluZ01hY3JvdGFza3M9cy5tYWNyb1Rhc2spKX0sb25IYW5kbGVFcnJvcjooZSxuLHIscyk9PihlLmhhbmRsZUVycm9yKHIscyksdC5ydW5PdXRzaWRlQW5ndWxhcigoKT0+dC5vbkVycm9yLmVtaXQocykpLCExKX0pfShyKX1zdGF0aWMgaXNJbkFuZ3VsYXJab25lKCl7cmV0dXJuITA9PT1ab25lLmN1cnJlbnQuZ2V0KCJpc0FuZ3VsYXJab25lIil9c3RhdGljIGFzc2VydEluQW5ndWxhclpvbmUoKXtpZighZXUuaXNJbkFuZ3VsYXJab25lKCkpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCB0byBiZSBpbiBBbmd1bGFyIFpvbmUsIGJ1dCBpdCBpcyBub3QhIil9c3RhdGljIGFzc2VydE5vdEluQW5ndWxhclpvbmUoKXtpZihldS5pc0luQW5ndWxhclpvbmUoKSl0aHJvdyBuZXcgRXJyb3IoIkV4cGVjdGVkIHRvIG5vdCBiZSBpbiBBbmd1bGFyIFpvbmUsIGJ1dCBpdCBpcyEiKX1ydW4odCxlLG4pe3JldHVybiB0aGlzLl9pbm5lci5ydW4odCxlLG4pfXJ1blRhc2sodCxlLG4scil7Y29uc3Qgcz10aGlzLl9pbm5lcixpPXMuc2NoZWR1bGVFdmVudFRhc2soIk5nWm9uZUV2ZW50OiAiK3IsdCxudSxkYSxkYSk7dHJ5e3JldHVybiBzLnJ1blRhc2soaSxlLG4pfWZpbmFsbHl7cy5jYW5jZWxUYXNrKGkpfX1ydW5HdWFyZGVkKHQsZSxuKXtyZXR1cm4gdGhpcy5faW5uZXIucnVuR3VhcmRlZCh0LGUsbil9cnVuT3V0c2lkZUFuZ3VsYXIodCl7cmV0dXJuIHRoaXMuX291dGVyLnJ1bih0KX19Y29uc3QgbnU9e307ZnVuY3Rpb24gcnUodCl7aWYoMD09dC5fbmVzdGluZyYmIXQuaGFzUGVuZGluZ01pY3JvdGFza3MmJiF0LmlzU3RhYmxlKXRyeXt0Ll9uZXN0aW5nKyssdC5vbk1pY3JvdGFza0VtcHR5LmVtaXQobnVsbCl9ZmluYWxseXtpZih0Ll9uZXN0aW5nLS0sIXQuaGFzUGVuZGluZ01pY3JvdGFza3MpdHJ5e3QucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PnQub25TdGFibGUuZW1pdChudWxsKSl9ZmluYWxseXt0LmlzU3RhYmxlPSEwfX19ZnVuY3Rpb24gc3UodCl7dC5oYXNQZW5kaW5nTWljcm90YXNrcz0hISh0Ll9oYXNQZW5kaW5nTWljcm90YXNrc3x8KHQuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbnx8dC5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbikmJi0xIT09dC5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQpfWZ1bmN0aW9uIGl1KHQpe3QuX25lc3RpbmcrKyx0LmlzU3RhYmxlJiYodC5pc1N0YWJsZT0hMSx0Lm9uVW5zdGFibGUuZW1pdChudWxsKSl9ZnVuY3Rpb24gb3UodCl7dC5fbmVzdGluZy0tLHJ1KHQpfWNsYXNzIGF1e2NvbnN0cnVjdG9yKCl7dGhpcy5oYXNQZW5kaW5nTWljcm90YXNrcz0hMSx0aGlzLmhhc1BlbmRpbmdNYWNyb3Rhc2tzPSExLHRoaXMuaXNTdGFibGU9ITAsdGhpcy5vblVuc3RhYmxlPW5ldyBnbCx0aGlzLm9uTWljcm90YXNrRW1wdHk9bmV3IGdsLHRoaXMub25TdGFibGU9bmV3IGdsLHRoaXMub25FcnJvcj1uZXcgZ2x9cnVuKHQsZSxuKXtyZXR1cm4gdC5hcHBseShlLG4pfXJ1bkd1YXJkZWQodCxlLG4pe3JldHVybiB0LmFwcGx5KGUsbil9cnVuT3V0c2lkZUFuZ3VsYXIodCl7cmV0dXJuIHQoKX1ydW5UYXNrKHQsZSxuLHIpe3JldHVybiB0LmFwcGx5KGUsbil9fWxldCBsdT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuX25nWm9uZT10LHRoaXMuX3BlbmRpbmdDb3VudD0wLHRoaXMuX2lzWm9uZVN0YWJsZT0hMCx0aGlzLl9kaWRXb3JrPSExLHRoaXMuX2NhbGxiYWNrcz1bXSx0aGlzLnRhc2tUcmFja2luZ1pvbmU9bnVsbCx0aGlzLl93YXRjaEFuZ3VsYXJFdmVudHMoKSx0LnJ1bigoKT0+e3RoaXMudGFza1RyYWNraW5nWm9uZT0idW5kZWZpbmVkIj09dHlwZW9mIFpvbmU/bnVsbDpab25lLmN1cnJlbnQuZ2V0KCJUYXNrVHJhY2tpbmdab25lIil9KX1fd2F0Y2hBbmd1bGFyRXZlbnRzKCl7dGhpcy5fbmdab25lLm9uVW5zdGFibGUuc3Vic2NyaWJlKHtuZXh0OigpPT57dGhpcy5fZGlkV29yaz0hMCx0aGlzLl9pc1pvbmVTdGFibGU9ITF9fSksdGhpcy5fbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT57dGhpcy5fbmdab25lLm9uU3RhYmxlLnN1YnNjcmliZSh7bmV4dDooKT0+e2V1LmFzc2VydE5vdEluQW5ndWxhclpvbmUoKSx0dSgoKT0+e3RoaXMuX2lzWm9uZVN0YWJsZT0hMCx0aGlzLl9ydW5DYWxsYmFja3NJZlJlYWR5KCl9KX19KX0pfWluY3JlYXNlUGVuZGluZ1JlcXVlc3RDb3VudCgpe3JldHVybiB0aGlzLl9wZW5kaW5nQ291bnQrPTEsdGhpcy5fZGlkV29yaz0hMCx0aGlzLl9wZW5kaW5nQ291bnR9ZGVjcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50KCl7aWYodGhpcy5fcGVuZGluZ0NvdW50LT0xLHRoaXMuX3BlbmRpbmdDb3VudDwwKXRocm93IG5ldyBFcnJvcigicGVuZGluZyBhc3luYyByZXF1ZXN0cyBiZWxvdyB6ZXJvIik7cmV0dXJuIHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKSx0aGlzLl9wZW5kaW5nQ291bnR9aXNTdGFibGUoKXtyZXR1cm4gdGhpcy5faXNab25lU3RhYmxlJiYwPT09dGhpcy5fcGVuZGluZ0NvdW50JiYhdGhpcy5fbmdab25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzfV9ydW5DYWxsYmFja3NJZlJlYWR5KCl7aWYodGhpcy5pc1N0YWJsZSgpKXR1KCgpPT57Zm9yKDswIT09dGhpcy5fY2FsbGJhY2tzLmxlbmd0aDspe2xldCB0PXRoaXMuX2NhbGxiYWNrcy5wb3AoKTtjbGVhclRpbWVvdXQodC50aW1lb3V0SWQpLHQuZG9uZUNiKHRoaXMuX2RpZFdvcmspfXRoaXMuX2RpZFdvcms9ITF9KTtlbHNle2xldCB0PXRoaXMuZ2V0UGVuZGluZ1Rhc2tzKCk7dGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrcy5maWx0ZXIoZT0+IWUudXBkYXRlQ2J8fCFlLnVwZGF0ZUNiKHQpfHwoY2xlYXJUaW1lb3V0KGUudGltZW91dElkKSwhMSkpLHRoaXMuX2RpZFdvcms9ITB9fWdldFBlbmRpbmdUYXNrcygpe3JldHVybiB0aGlzLnRhc2tUcmFja2luZ1pvbmU/dGhpcy50YXNrVHJhY2tpbmdab25lLm1hY3JvVGFza3MubWFwKHQ9Pih7c291cmNlOnQuc291cmNlLGNyZWF0aW9uTG9jYXRpb246dC5jcmVhdGlvbkxvY2F0aW9uLGRhdGE6dC5kYXRhfSkpOltdfWFkZENhbGxiYWNrKHQsZSxuKXtsZXQgcj0tMTtlJiZlPjAmJihyPXNldFRpbWVvdXQoKCk9Pnt0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzLmZpbHRlcih0PT50LnRpbWVvdXRJZCE9PXIpLHQodGhpcy5fZGlkV29yayx0aGlzLmdldFBlbmRpbmdUYXNrcygpKX0sZSkpLHRoaXMuX2NhbGxiYWNrcy5wdXNoKHtkb25lQ2I6dCx0aW1lb3V0SWQ6cix1cGRhdGVDYjpufSl9d2hlblN0YWJsZSh0LGUsbil7aWYobiYmIXRoaXMudGFza1RyYWNraW5nWm9uZSl0aHJvdyBuZXcgRXJyb3IoJ1Rhc2sgdHJhY2tpbmcgem9uZSBpcyByZXF1aXJlZCB3aGVuIHBhc3NpbmcgYW4gdXBkYXRlIGNhbGxiYWNrIHRvIHdoZW5TdGFibGUoKS4gSXMgInpvbmUuanMvcGx1Z2lucy90YXNrLXRyYWNraW5nIiBsb2FkZWQ/Jyk7dGhpcy5hZGRDYWxsYmFjayh0LGUsbiksdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpfWdldFBlbmRpbmdSZXF1ZXN0Q291bnQoKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50fWZpbmRQcm92aWRlcnModCxlLG4pe3JldHVybltdfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShvcihldSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLHV1PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLl9hcHBsaWNhdGlvbnM9bmV3IE1hcCxkdS5hZGRUb1dpbmRvdyh0aGlzKX1yZWdpc3RlckFwcGxpY2F0aW9uKHQsZSl7dGhpcy5fYXBwbGljYXRpb25zLnNldCh0LGUpfXVucmVnaXN0ZXJBcHBsaWNhdGlvbih0KXt0aGlzLl9hcHBsaWNhdGlvbnMuZGVsZXRlKHQpfXVucmVnaXN0ZXJBbGxBcHBsaWNhdGlvbnMoKXt0aGlzLl9hcHBsaWNhdGlvbnMuY2xlYXIoKX1nZXRUZXN0YWJpbGl0eSh0KXtyZXR1cm4gdGhpcy5fYXBwbGljYXRpb25zLmdldCh0KXx8bnVsbH1nZXRBbGxUZXN0YWJpbGl0aWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fYXBwbGljYXRpb25zLnZhbHVlcygpKX1nZXRBbGxSb290RWxlbWVudHMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9hcHBsaWNhdGlvbnMua2V5cygpKX1maW5kVGVzdGFiaWxpdHlJblRyZWUodCxlPSEwKXtyZXR1cm4gZHUuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHRoaXMsdCxlKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y2xhc3MgY3V7YWRkVG9XaW5kb3codCl7fWZpbmRUZXN0YWJpbGl0eUluVHJlZSh0LGUsbil7cmV0dXJuIG51bGx9fWxldCBodSxkdT1uZXcgY3UscHU9ITAsZnU9ITE7Y29uc3QgZ3U9bmV3IEhuKCJBbGxvd011bHRpcGxlVG9rZW4iKTtjbGFzcyBtdXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMubmFtZT10LHRoaXMudG9rZW49ZX19ZnVuY3Rpb24geXUodCxlLG49W10pe2NvbnN0IHI9YFBsYXRmb3JtOiAke2V9YCxzPW5ldyBIbihyKTtyZXR1cm4oZT1bXSk9PntsZXQgaT12dSgpO2lmKCFpfHxpLmluamVjdG9yLmdldChndSwhMSkpaWYodCl0KG4uY29uY2F0KGUpLmNvbmNhdCh7cHJvdmlkZTpzLHVzZVZhbHVlOiEwfSkpO2Vsc2V7Y29uc3QgdD1uLmNvbmNhdChlKS5jb25jYXQoe3Byb3ZpZGU6cyx1c2VWYWx1ZTohMH0se3Byb3ZpZGU6SWksdXNlVmFsdWU6InBsYXRmb3JtIn0pOyFmdW5jdGlvbih0KXtpZihodSYmIWh1LmRlc3Ryb3llZCYmIWh1LmluamVjdG9yLmdldChndSwhMSkpdGhyb3cgbmV3IEVycm9yKCJUaGVyZSBjYW4gYmUgb25seSBvbmUgcGxhdGZvcm0uIERlc3Ryb3kgdGhlIHByZXZpb3VzIG9uZSB0byBjcmVhdGUgYSBuZXcgb25lLiIpO2h1PXQuZ2V0KGJ1KTtjb25zdCBlPXQuZ2V0KExsLG51bGwpO2UmJmUuZm9yRWFjaCh0PT50KCkpfShXaS5jcmVhdGUoe3Byb3ZpZGVyczp0LG5hbWU6cn0pKX1yZXR1cm4gZnVuY3Rpb24odCl7Y29uc3QgZT12dSgpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiTm8gcGxhdGZvcm0gZXhpc3RzISIpO2lmKCFlLmluamVjdG9yLmdldCh0LG51bGwpKXRocm93IG5ldyBFcnJvcigiQSBwbGF0Zm9ybSB3aXRoIGEgZGlmZmVyZW50IGNvbmZpZ3VyYXRpb24gaGFzIGJlZW4gY3JlYXRlZC4gUGxlYXNlIGRlc3Ryb3kgaXQgZmlyc3QuIik7cmV0dXJuIGV9KHMpfX1mdW5jdGlvbiB2dSgpe3JldHVybiBodSYmIWh1LmRlc3Ryb3llZD9odTpudWxsfWxldCBidT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luamVjdG9yPXQsdGhpcy5fbW9kdWxlcz1bXSx0aGlzLl9kZXN0cm95TGlzdGVuZXJzPVtdLHRoaXMuX2Rlc3Ryb3llZD0hMX1ib290c3RyYXBNb2R1bGVGYWN0b3J5KHQsZSl7Y29uc3Qgbj1mdW5jdGlvbih0LGUpe2xldCBuO3JldHVybiBuPSJub29wIj09PXQ/bmV3IGF1Oigiem9uZS5qcyI9PT10P3ZvaWQgMDp0KXx8bmV3IGV1KHtlbmFibGVMb25nU3RhY2tUcmFjZTooZnU9ITAscHUpLHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb246ISEobnVsbD09ZT92b2lkIDA6ZS5uZ1pvbmVFdmVudENvYWxlc2NpbmcpLHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uOiEhKG51bGw9PWU/dm9pZCAwOmUubmdab25lUnVuQ29hbGVzY2luZyl9KSxufShlP2Uubmdab25lOnZvaWQgMCx7bmdab25lRXZlbnRDb2FsZXNjaW5nOmUmJmUubmdab25lRXZlbnRDb2FsZXNjaW5nfHwhMSxuZ1pvbmVSdW5Db2FsZXNjaW5nOmUmJmUubmdab25lUnVuQ29hbGVzY2luZ3x8ITF9KSxyPVt7cHJvdmlkZTpldSx1c2VWYWx1ZTpufV07cmV0dXJuIG4ucnVuKCgpPT57Y29uc3QgZT1XaS5jcmVhdGUoe3Byb3ZpZGVyczpyLHBhcmVudDp0aGlzLmluamVjdG9yLG5hbWU6dC5tb2R1bGVUeXBlLm5hbWV9KSxzPXQuY3JlYXRlKGUpLGk9cy5pbmplY3Rvci5nZXQoR3IsbnVsbCk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKCJObyBFcnJvckhhbmRsZXIuIElzIHBsYXRmb3JtIG1vZHVsZSAoQnJvd3Nlck1vZHVsZSkgaW5jbHVkZWQ/Iik7cmV0dXJuIG4ucnVuT3V0c2lkZUFuZ3VsYXIoKCk9Pntjb25zdCB0PW4ub25FcnJvci5zdWJzY3JpYmUoe25leHQ6dD0+e2kuaGFuZGxlRXJyb3IodCl9fSk7cy5vbkRlc3Ryb3koKCk9PntDdSh0aGlzLl9tb2R1bGVzLHMpLHQudW5zdWJzY3JpYmUoKX0pfSksZnVuY3Rpb24odCxlLG4pe3RyeXtjb25zdCByPW4oKTtyZXR1cm4gbW8ocik/ci5jYXRjaChuPT57dGhyb3cgZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+dC5oYW5kbGVFcnJvcihuKSksbn0pOnJ9Y2F0Y2gocil7dGhyb3cgZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+dC5oYW5kbGVFcnJvcihyKSkscn19KGksbiwoKT0+e2NvbnN0IHQ9cy5pbmplY3Rvci5nZXQoTWwpO3JldHVybiB0LnJ1bkluaXRpYWxpemVycygpLHQuZG9uZVByb21pc2UudGhlbigoKT0+KHRhKHMuaW5qZWN0b3IuZ2V0KCRsLFhvKXx8WG8pLHRoaXMuX21vZHVsZURvQm9vdHN0cmFwKHMpLHMpKX0pfSl9Ym9vdHN0cmFwTW9kdWxlKHQsZT1bXSl7Y29uc3Qgbj13dSh7fSxlKTtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9bmV3IHBsKG4pO3JldHVybiBQcm9taXNlLnJlc29sdmUocil9KDAsMCx0KS50aGVuKHQ9PnRoaXMuYm9vdHN0cmFwTW9kdWxlRmFjdG9yeSh0LG4pKX1fbW9kdWxlRG9Cb290c3RyYXAodCl7Y29uc3QgZT10LmluamVjdG9yLmdldChfdSk7aWYodC5fYm9vdHN0cmFwQ29tcG9uZW50cy5sZW5ndGg+MCl0Ll9ib290c3RyYXBDb21wb25lbnRzLmZvckVhY2godD0+ZS5ib290c3RyYXAodCkpO2Vsc2V7aWYoIXQuaW5zdGFuY2UubmdEb0Jvb3RzdHJhcCl0aHJvdyBuZXcgRXJyb3IoYFRoZSBtb2R1bGUgJHtldCh0Lmluc3RhbmNlLmNvbnN0cnVjdG9yKX0gd2FzIGJvb3RzdHJhcHBlZCwgYnV0IGl0IGRvZXMgbm90IGRlY2xhcmUgIkBOZ01vZHVsZS5ib290c3RyYXAiIGNvbXBvbmVudHMgbm9yIGEgIm5nRG9Cb290c3RyYXAiIG1ldGhvZC4gUGxlYXNlIGRlZmluZSBvbmUgb2YgdGhlc2UuYCk7dC5pbnN0YW5jZS5uZ0RvQm9vdHN0cmFwKGUpfXRoaXMuX21vZHVsZXMucHVzaCh0KX1vbkRlc3Ryb3kodCl7dGhpcy5fZGVzdHJveUxpc3RlbmVycy5wdXNoKHQpfWdldCBpbmplY3Rvcigpe3JldHVybiB0aGlzLl9pbmplY3Rvcn1kZXN0cm95KCl7aWYodGhpcy5fZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcigiVGhlIHBsYXRmb3JtIGhhcyBhbHJlYWR5IGJlZW4gZGVzdHJveWVkISIpO3RoaXMuX21vZHVsZXMuc2xpY2UoKS5mb3JFYWNoKHQ9PnQuZGVzdHJveSgpKSx0aGlzLl9kZXN0cm95TGlzdGVuZXJzLmZvckVhY2godD0+dCgpKSx0aGlzLl9kZXN0cm95ZWQ9ITB9Z2V0IGRlc3Ryb3llZCgpe3JldHVybiB0aGlzLl9kZXN0cm95ZWR9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKFdpKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7ZnVuY3Rpb24gd3UodCxlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLnJlZHVjZSh3dSx0KTpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCksZSl9bGV0IF91PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4scixzKXt0aGlzLl96b25lPXQsdGhpcy5faW5qZWN0b3I9ZSx0aGlzLl9leGNlcHRpb25IYW5kbGVyPW4sdGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyPXIsdGhpcy5faW5pdFN0YXR1cz1zLHRoaXMuX2Jvb3RzdHJhcExpc3RlbmVycz1bXSx0aGlzLl92aWV3cz1bXSx0aGlzLl9ydW5uaW5nVGljaz0hMSx0aGlzLl9zdGFibGU9ITAsdGhpcy5jb21wb25lbnRUeXBlcz1bXSx0aGlzLmNvbXBvbmVudHM9W10sdGhpcy5fb25NaWNyb3Rhc2tFbXB0eVN1YnNjcmlwdGlvbj10aGlzLl96b25lLm9uTWljcm90YXNrRW1wdHkuc3Vic2NyaWJlKHtuZXh0OigpPT57dGhpcy5fem9uZS5ydW4oKCk9Pnt0aGlzLnRpY2soKX0pfX0pO2NvbnN0IGk9bmV3IHYodD0+e3RoaXMuX3N0YWJsZT10aGlzLl96b25lLmlzU3RhYmxlJiYhdGhpcy5fem9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcyYmIXRoaXMuX3pvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MsdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e3QubmV4dCh0aGlzLl9zdGFibGUpLHQuY29tcGxldGUoKX0pfSksbz1uZXcgdih0PT57bGV0IGU7dGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e2U9dGhpcy5fem9uZS5vblN0YWJsZS5zdWJzY3JpYmUoKCk9PntldS5hc3NlcnROb3RJbkFuZ3VsYXJab25lKCksdHUoKCk9Pnt0aGlzLl9zdGFibGV8fHRoaXMuX3pvbmUuaGFzUGVuZGluZ01hY3JvdGFza3N8fHRoaXMuX3pvbmUuaGFzUGVuZGluZ01pY3JvdGFza3N8fCh0aGlzLl9zdGFibGU9ITAsdC5uZXh0KCEwKSl9KX0pfSk7Y29uc3Qgbj10aGlzLl96b25lLm9uVW5zdGFibGUuc3Vic2NyaWJlKCgpPT57ZXUuYXNzZXJ0SW5Bbmd1bGFyWm9uZSgpLHRoaXMuX3N0YWJsZSYmKHRoaXMuX3N0YWJsZT0hMSx0aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT57dC5uZXh0KCExKX0pKX0pO3JldHVybigpPT57ZS51bnN1YnNjcmliZSgpLG4udW5zdWJzY3JpYmUoKX19KTt0aGlzLmlzU3RhYmxlPXEoaSxvLnBpcGUodD0+e3JldHVybiBXKCkoKGU9WCxmdW5jdGlvbih0KXtsZXQgbjtuPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6ZnVuY3Rpb24oKXtyZXR1cm4gZX07Y29uc3Qgcj1PYmplY3QuY3JlYXRlKHQsWSk7cmV0dXJuIHIuc291cmNlPXQsci5zdWJqZWN0RmFjdG9yeT1uLHJ9KSh0KSk7dmFyIGV9KSl9Ym9vdHN0cmFwKHQsZSl7aWYoIXRoaXMuX2luaXRTdGF0dXMuZG9uZSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBib290c3RyYXAgYXMgdGhlcmUgYXJlIHN0aWxsIGFzeW5jaHJvbm91cyBpbml0aWFsaXplcnMgcnVubmluZy4gQm9vdHN0cmFwIGNvbXBvbmVudHMgaW4gdGhlIGBuZ0RvQm9vdHN0cmFwYCBtZXRob2Qgb2YgdGhlIHJvb3QgbW9kdWxlLiIpO2xldCBuO249dCBpbnN0YW5jZW9mIHVhP3Q6dGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHQpLHRoaXMuY29tcG9uZW50VHlwZXMucHVzaChuLmNvbXBvbmVudFR5cGUpO2NvbnN0IHI9bi5pc0JvdW5kVG9Nb2R1bGU/dm9pZCAwOnRoaXMuX2luamVjdG9yLmdldChZYSkscz1uLmNyZWF0ZShXaS5OVUxMLFtdLGV8fG4uc2VsZWN0b3IsciksaT1zLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQsbz1zLmluamVjdG9yLmdldChsdSxudWxsKSxhPW8mJnMuaW5qZWN0b3IuZ2V0KHV1KTtyZXR1cm4gbyYmYSYmYS5yZWdpc3RlckFwcGxpY2F0aW9uKGksbykscy5vbkRlc3Ryb3koKCk9Pnt0aGlzLmRldGFjaFZpZXcocy5ob3N0VmlldyksQ3UodGhpcy5jb21wb25lbnRzLHMpLGEmJmEudW5yZWdpc3RlckFwcGxpY2F0aW9uKGkpfSksdGhpcy5fbG9hZENvbXBvbmVudChzKSxzfXRpY2soKXtpZih0aGlzLl9ydW5uaW5nVGljayl0aHJvdyBuZXcgRXJyb3IoIkFwcGxpY2F0aW9uUmVmLnRpY2sgaXMgY2FsbGVkIHJlY3Vyc2l2ZWx5Iik7dHJ5e3RoaXMuX3J1bm5pbmdUaWNrPSEwO2ZvcihsZXQgdCBvZiB0aGlzLl92aWV3cyl0LmRldGVjdENoYW5nZXMoKX1jYXRjaCh0KXt0aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT50aGlzLl9leGNlcHRpb25IYW5kbGVyLmhhbmRsZUVycm9yKHQpKX1maW5hbGx5e3RoaXMuX3J1bm5pbmdUaWNrPSExfX1hdHRhY2hWaWV3KHQpe2NvbnN0IGU9dDt0aGlzLl92aWV3cy5wdXNoKGUpLGUuYXR0YWNoVG9BcHBSZWYodGhpcyl9ZGV0YWNoVmlldyh0KXtjb25zdCBlPXQ7Q3UodGhpcy5fdmlld3MsZSksZS5kZXRhY2hGcm9tQXBwUmVmKCl9X2xvYWRDb21wb25lbnQodCl7dGhpcy5hdHRhY2hWaWV3KHQuaG9zdFZpZXcpLHRoaXMudGljaygpLHRoaXMuY29tcG9uZW50cy5wdXNoKHQpLHRoaXMuX2luamVjdG9yLmdldChVbCxbXSkuY29uY2F0KHRoaXMuX2Jvb3RzdHJhcExpc3RlbmVycykuZm9yRWFjaChlPT5lKHQpKX1uZ09uRGVzdHJveSgpe3RoaXMuX3ZpZXdzLnNsaWNlKCkuZm9yRWFjaCh0PT50LmRlc3Ryb3koKSksdGhpcy5fb25NaWNyb3Rhc2tFbXB0eVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfWdldCB2aWV3Q291bnQoKXtyZXR1cm4gdGhpcy5fdmlld3MubGVuZ3RofX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShvcihldSksb3IoV2kpLG9yKEdyKSxvcihoYSksb3IoTWwpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtmdW5jdGlvbiBDdSh0LGUpe2NvbnN0IG49dC5pbmRleE9mKGUpO24+LTEmJnQuc3BsaWNlKG4sMSl9Y2xhc3MgRHV7fWNsYXNzIEV1e31jb25zdCBBdT17ZmFjdG9yeVBhdGhQcmVmaXg6IiIsZmFjdG9yeVBhdGhTdWZmaXg6Ii5uZ2ZhY3RvcnkifTtsZXQgU3U9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX2NvbXBpbGVyPXQsdGhpcy5fY29uZmlnPWV8fEF1fWxvYWQodCl7cmV0dXJuIHRoaXMubG9hZEFuZENvbXBpbGUodCl9bG9hZEFuZENvbXBpbGUodCl7bGV0W2Uscl09dC5zcGxpdCgiIyIpO3JldHVybiB2b2lkIDA9PT1yJiYocj0iZGVmYXVsdCIpLG4oNjYyKShlKS50aGVuKHQ9PnRbcl0pLnRoZW4odD0+eHUodCxlLHIpKS50aGVuKHQ9PnRoaXMuX2NvbXBpbGVyLmNvbXBpbGVNb2R1bGVBc3luYyh0KSl9bG9hZEZhY3RvcnkodCl7bGV0W2Uscl09dC5zcGxpdCgiIyIpLHM9Ik5nRmFjdG9yeSI7cmV0dXJuIHZvaWQgMD09PXImJihyPSJkZWZhdWx0IixzPSIiKSxuKDY2MikodGhpcy5fY29uZmlnLmZhY3RvcnlQYXRoUHJlZml4K2UrdGhpcy5fY29uZmlnLmZhY3RvcnlQYXRoU3VmZml4KS50aGVuKHQ9PnRbcitzXSkudGhlbih0PT54dSh0LGUscikpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShvcihYbCksb3IoRXUsOCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2Z1bmN0aW9uIHh1KHQsZSxuKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kICcke259JyBpbiAnJHtlfSdgKTtyZXR1cm4gdH1jb25zdCBrdT15dShudWxsLCJjb3JlIixbe3Byb3ZpZGU6QmwsdXNlVmFsdWU6InVua25vd24ifSx7cHJvdmlkZTpidSxkZXBzOltXaV19LHtwcm92aWRlOnV1LGRlcHM6W119LHtwcm92aWRlOkhsLGRlcHM6W119XSksVHU9W3twcm92aWRlOl91LHVzZUNsYXNzOl91LGRlcHM6W2V1LFdpLEdyLGhhLE1sXX0se3Byb3ZpZGU6bGwsZGVwczpbZXVdLHVzZUZhY3Rvcnk6ZnVuY3Rpb24odCl7bGV0IGU9W107cmV0dXJuIHQub25TdGFibGUuc3Vic2NyaWJlKCgpPT57Zm9yKDtlLmxlbmd0aDspZS5wb3AoKSgpfSksZnVuY3Rpb24odCl7ZS5wdXNoKHQpfX19LHtwcm92aWRlOk1sLHVzZUNsYXNzOk1sLGRlcHM6W1tuZXcgY3IsUmxdXX0se3Byb3ZpZGU6WGwsdXNlQ2xhc3M6WGwsZGVwczpbXX0sTmwse3Byb3ZpZGU6UmEsdXNlRmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiAkYX0sZGVwczpbXX0se3Byb3ZpZGU6amEsdXNlRmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiB6YX0sZGVwczpbXX0se3Byb3ZpZGU6JGwsdXNlRmFjdG9yeTpmdW5jdGlvbih0KXtyZXR1cm4gdGEodD10fHwidW5kZWZpbmVkIiE9dHlwZW9mICRsb2NhbGl6ZSYmJGxvY2FsaXplLmxvY2FsZXx8WG8pLHR9LGRlcHM6W1tuZXcgdXIoJGwpLG5ldyBjcixuZXcgaHJdXX0se3Byb3ZpZGU6emwsdXNlVmFsdWU6IlVTRCJ9XTtsZXQgRnU9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKF91KSl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOlR1fSksdH0pKCksT3U9bnVsbDtmdW5jdGlvbiBQdSgpe3JldHVybiBPdX1jb25zdCBJdT1uZXcgSG4oIkRvY3VtZW50VG9rZW4iKTtsZXQgUnU9KCgpPT57Y2xhc3MgdHtoaXN0b3J5R28odCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpNdSx0b2tlbjp0LHByb3ZpZGVkSW46InBsYXRmb3JtIn0pLHR9KSgpO2Z1bmN0aW9uIE11KCl7cmV0dXJuIG9yKE51KX1jb25zdCBqdT1uZXcgSG4oIkxvY2F0aW9uIEluaXRpYWxpemVkIik7bGV0IE51PSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBSdXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuX2RvYz10LHRoaXMuX2luaXQoKX1faW5pdCgpe3RoaXMubG9jYXRpb249d2luZG93LmxvY2F0aW9uLHRoaXMuX2hpc3Rvcnk9d2luZG93Lmhpc3Rvcnl9Z2V0QmFzZUhyZWZGcm9tRE9NKCl7cmV0dXJuIFB1KCkuZ2V0QmFzZUhyZWYodGhpcy5fZG9jKX1vblBvcFN0YXRlKHQpe2NvbnN0IGU9UHUoKS5nZXRHbG9iYWxFdmVudFRhcmdldCh0aGlzLl9kb2MsIndpbmRvdyIpO3JldHVybiBlLmFkZEV2ZW50TGlzdGVuZXIoInBvcHN0YXRlIix0LCExKSwoKT0+ZS5yZW1vdmVFdmVudExpc3RlbmVyKCJwb3BzdGF0ZSIsdCl9b25IYXNoQ2hhbmdlKHQpe2NvbnN0IGU9UHUoKS5nZXRHbG9iYWxFdmVudFRhcmdldCh0aGlzLl9kb2MsIndpbmRvdyIpO3JldHVybiBlLmFkZEV2ZW50TGlzdGVuZXIoImhhc2hjaGFuZ2UiLHQsITEpLCgpPT5lLnJlbW92ZUV2ZW50TGlzdGVuZXIoImhhc2hjaGFuZ2UiLHQpfWdldCBocmVmKCl7cmV0dXJuIHRoaXMubG9jYXRpb24uaHJlZn1nZXQgcHJvdG9jb2woKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5wcm90b2NvbH1nZXQgaG9zdG5hbWUoKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5ob3N0bmFtZX1nZXQgcG9ydCgpe3JldHVybiB0aGlzLmxvY2F0aW9uLnBvcnR9Z2V0IHBhdGhuYW1lKCl7cmV0dXJuIHRoaXMubG9jYXRpb24ucGF0aG5hbWV9Z2V0IHNlYXJjaCgpe3JldHVybiB0aGlzLmxvY2F0aW9uLnNlYXJjaH1nZXQgaGFzaCgpe3JldHVybiB0aGlzLmxvY2F0aW9uLmhhc2h9c2V0IHBhdGhuYW1lKHQpe3RoaXMubG9jYXRpb24ucGF0aG5hbWU9dH1wdXNoU3RhdGUodCxlLG4pe1Z1KCk/dGhpcy5faGlzdG9yeS5wdXNoU3RhdGUodCxlLG4pOnRoaXMubG9jYXRpb24uaGFzaD1ufXJlcGxhY2VTdGF0ZSh0LGUsbil7VnUoKT90aGlzLl9oaXN0b3J5LnJlcGxhY2VTdGF0ZSh0LGUsbik6dGhpcy5sb2NhdGlvbi5oYXNoPW59Zm9yd2FyZCgpe3RoaXMuX2hpc3RvcnkuZm9yd2FyZCgpfWJhY2soKXt0aGlzLl9oaXN0b3J5LmJhY2soKX1oaXN0b3J5R28odD0wKXt0aGlzLl9oaXN0b3J5LmdvKHQpfWdldFN0YXRlKCl7cmV0dXJuIHRoaXMuX2hpc3Rvcnkuc3RhdGV9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKEl1KSl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpMdSx0b2tlbjp0LHByb3ZpZGVkSW46InBsYXRmb3JtIn0pLHR9KSgpO2Z1bmN0aW9uIFZ1KCl7cmV0dXJuISF3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGV9ZnVuY3Rpb24gTHUoKXtyZXR1cm4gbmV3IE51KG9yKEl1KSl9ZnVuY3Rpb24gQnUodCxlKXtpZigwPT10Lmxlbmd0aClyZXR1cm4gZTtpZigwPT1lLmxlbmd0aClyZXR1cm4gdDtsZXQgbj0wO3JldHVybiB0LmVuZHNXaXRoKCIvIikmJm4rKyxlLnN0YXJ0c1dpdGgoIi8iKSYmbisrLDI9PW4/dCtlLnN1YnN0cmluZygxKToxPT1uP3QrZTp0KyIvIitlfWZ1bmN0aW9uIFV1KHQpe2NvbnN0IGU9dC5tYXRjaCgvI3xcP3wkLyksbj1lJiZlLmluZGV4fHx0Lmxlbmd0aDtyZXR1cm4gdC5zbGljZSgwLG4tKCIvIj09PXRbbi0xXT8xOjApKSt0LnNsaWNlKG4pfWZ1bmN0aW9uIEh1KHQpe3JldHVybiB0JiYiPyIhPT10WzBdPyI/Iit0OnR9bGV0ICR1PSgoKT0+e2NsYXNzIHR7aGlzdG9yeUdvKHQpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6enUsdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpO2Z1bmN0aW9uIHp1KHQpe2NvbnN0IGU9b3IoSXUpLmxvY2F0aW9uO3JldHVybiBuZXcgV3Uob3IoUnUpLGUmJmUub3JpZ2lufHwiIil9Y29uc3QgcXU9bmV3IEhuKCJhcHBCYXNlSHJlZiIpO2xldCBXdT0oKCk9PntjbGFzcyB0IGV4dGVuZHMgJHV7Y29uc3RydWN0b3IodCxlKXtpZihzdXBlcigpLHRoaXMuX3BsYXRmb3JtTG9jYXRpb249dCx0aGlzLl9yZW1vdmVMaXN0ZW5lckZucz1bXSxudWxsPT1lJiYoZT10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmdldEJhc2VIcmVmRnJvbURPTSgpKSxudWxsPT1lKXRocm93IG5ldyBFcnJvcigiTm8gYmFzZSBocmVmIHNldC4gUGxlYXNlIHByb3ZpZGUgYSB2YWx1ZSBmb3IgdGhlIEFQUF9CQVNFX0hSRUYgdG9rZW4gb3IgYWRkIGEgYmFzZSBlbGVtZW50IHRvIHRoZSBkb2N1bWVudC4iKTt0aGlzLl9iYXNlSHJlZj1lfW5nT25EZXN0cm95KCl7Zm9yKDt0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5sZW5ndGg7KXRoaXMuX3JlbW92ZUxpc3RlbmVyRm5zLnBvcCgpKCl9b25Qb3BTdGF0ZSh0KXt0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5wdXNoKHRoaXMuX3BsYXRmb3JtTG9jYXRpb24ub25Qb3BTdGF0ZSh0KSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLm9uSGFzaENoYW5nZSh0KSl9Z2V0QmFzZUhyZWYoKXtyZXR1cm4gdGhpcy5fYmFzZUhyZWZ9cHJlcGFyZUV4dGVybmFsVXJsKHQpe3JldHVybiBCdSh0aGlzLl9iYXNlSHJlZix0KX1wYXRoKHQ9ITEpe2NvbnN0IGU9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5wYXRobmFtZStIdSh0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnNlYXJjaCksbj10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmhhc2g7cmV0dXJuIG4mJnQ/YCR7ZX0ke259YDplfXB1c2hTdGF0ZSh0LGUsbixyKXtjb25zdCBzPXRoaXMucHJlcGFyZUV4dGVybmFsVXJsKG4rSHUocikpO3RoaXMuX3BsYXRmb3JtTG9jYXRpb24ucHVzaFN0YXRlKHQsZSxzKX1yZXBsYWNlU3RhdGUodCxlLG4scil7Y29uc3Qgcz10aGlzLnByZXBhcmVFeHRlcm5hbFVybChuK0h1KHIpKTt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnJlcGxhY2VTdGF0ZSh0LGUscyl9Zm9yd2FyZCgpe3RoaXMuX3BsYXRmb3JtTG9jYXRpb24uZm9yd2FyZCgpfWJhY2soKXt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmJhY2soKX1oaXN0b3J5R28odD0wKXt2YXIgZSxuO251bGw9PT0obj0oZT10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uKS5oaXN0b3J5R28pfHx2b2lkIDA9PT1ufHxuLmNhbGwoZSx0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkob3IoUnUpLG9yKHF1LDgpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxHdT0oKCk9PntjbGFzcyB0IGV4dGVuZHMgJHV7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMuX3BsYXRmb3JtTG9jYXRpb249dCx0aGlzLl9iYXNlSHJlZj0iIix0aGlzLl9yZW1vdmVMaXN0ZW5lckZucz1bXSxudWxsIT1lJiYodGhpcy5fYmFzZUhyZWY9ZSl9bmdPbkRlc3Ryb3koKXtmb3IoO3RoaXMuX3JlbW92ZUxpc3RlbmVyRm5zLmxlbmd0aDspdGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnMucG9wKCkoKX1vblBvcFN0YXRlKHQpe3RoaXMuX3JlbW92ZUxpc3RlbmVyRm5zLnB1c2godGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5vblBvcFN0YXRlKHQpLHRoaXMuX3BsYXRmb3JtTG9jYXRpb24ub25IYXNoQ2hhbmdlKHQpKX1nZXRCYXNlSHJlZigpe3JldHVybiB0aGlzLl9iYXNlSHJlZn1wYXRoKHQ9ITEpe2xldCBlPXRoaXMuX3BsYXRmb3JtTG9jYXRpb24uaGFzaDtyZXR1cm4gbnVsbD09ZSYmKGU9IiMiKSxlLmxlbmd0aD4wP2Uuc3Vic3RyaW5nKDEpOmV9cHJlcGFyZUV4dGVybmFsVXJsKHQpe2NvbnN0IGU9QnUodGhpcy5fYmFzZUhyZWYsdCk7cmV0dXJuIGUubGVuZ3RoPjA/IiMiK2U6ZX1wdXNoU3RhdGUodCxlLG4scil7bGV0IHM9dGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwobitIdShyKSk7MD09cy5sZW5ndGgmJihzPXRoaXMuX3BsYXRmb3JtTG9jYXRpb24ucGF0aG5hbWUpLHRoaXMuX3BsYXRmb3JtTG9jYXRpb24ucHVzaFN0YXRlKHQsZSxzKX1yZXBsYWNlU3RhdGUodCxlLG4scil7bGV0IHM9dGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwobitIdShyKSk7MD09cy5sZW5ndGgmJihzPXRoaXMuX3BsYXRmb3JtTG9jYXRpb24ucGF0aG5hbWUpLHRoaXMuX3BsYXRmb3JtTG9jYXRpb24ucmVwbGFjZVN0YXRlKHQsZSxzKX1mb3J3YXJkKCl7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5mb3J3YXJkKCl9YmFjaygpe3RoaXMuX3BsYXRmb3JtTG9jYXRpb24uYmFjaygpfWhpc3RvcnlHbyh0PTApe3ZhciBlLG47bnVsbD09PShuPShlPXRoaXMuX3BsYXRmb3JtTG9jYXRpb24pLmhpc3RvcnlHbyl8fHZvaWQgMD09PW58fG4uY2FsbChlLHQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShvcihSdSksb3IocXUsOCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLFp1PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9zdWJqZWN0PW5ldyBnbCx0aGlzLl91cmxDaGFuZ2VMaXN0ZW5lcnM9W10sdGhpcy5fcGxhdGZvcm1TdHJhdGVneT10O2NvbnN0IG49dGhpcy5fcGxhdGZvcm1TdHJhdGVneS5nZXRCYXNlSHJlZigpO3RoaXMuX3BsYXRmb3JtTG9jYXRpb249ZSx0aGlzLl9iYXNlSHJlZj1VdShZdShuKSksdGhpcy5fcGxhdGZvcm1TdHJhdGVneS5vblBvcFN0YXRlKHQ9Pnt0aGlzLl9zdWJqZWN0LmVtaXQoe3VybDp0aGlzLnBhdGgoITApLHBvcDohMCxzdGF0ZTp0LnN0YXRlLHR5cGU6dC50eXBlfSl9KX1wYXRoKHQ9ITEpe3JldHVybiB0aGlzLm5vcm1hbGl6ZSh0aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5LnBhdGgodCkpfWdldFN0YXRlKCl7cmV0dXJuIHRoaXMuX3BsYXRmb3JtTG9jYXRpb24uZ2V0U3RhdGUoKX1pc0N1cnJlbnRQYXRoRXF1YWxUbyh0LGU9IiIpe3JldHVybiB0aGlzLnBhdGgoKT09dGhpcy5ub3JtYWxpemUodCtIdShlKSl9bm9ybWFsaXplKGUpe3JldHVybiB0LnN0cmlwVHJhaWxpbmdTbGFzaChmdW5jdGlvbih0LGUpe3JldHVybiB0JiZlLnN0YXJ0c1dpdGgodCk/ZS5zdWJzdHJpbmcodC5sZW5ndGgpOmV9KHRoaXMuX2Jhc2VIcmVmLFl1KGUpKSl9cHJlcGFyZUV4dGVybmFsVXJsKHQpe3JldHVybiB0JiYiLyIhPT10WzBdJiYodD0iLyIrdCksdGhpcy5fcGxhdGZvcm1TdHJhdGVneS5wcmVwYXJlRXh0ZXJuYWxVcmwodCl9Z28odCxlPSIiLG49bnVsbCl7dGhpcy5fcGxhdGZvcm1TdHJhdGVneS5wdXNoU3RhdGUobiwiIix0LGUpLHRoaXMuX25vdGlmeVVybENoYW5nZUxpc3RlbmVycyh0aGlzLnByZXBhcmVFeHRlcm5hbFVybCh0K0h1KGUpKSxuKX1yZXBsYWNlU3RhdGUodCxlPSIiLG49bnVsbCl7dGhpcy5fcGxhdGZvcm1TdHJhdGVneS5yZXBsYWNlU3RhdGUobiwiIix0LGUpLHRoaXMuX25vdGlmeVVybENoYW5nZUxpc3RlbmVycyh0aGlzLnByZXBhcmVFeHRlcm5hbFVybCh0K0h1KGUpKSxuKX1mb3J3YXJkKCl7dGhpcy5fcGxhdGZvcm1TdHJhdGVneS5mb3J3YXJkKCl9YmFjaygpe3RoaXMuX3BsYXRmb3JtU3RyYXRlZ3kuYmFjaygpfWhpc3RvcnlHbyh0PTApe3ZhciBlLG47bnVsbD09PShuPShlPXRoaXMuX3BsYXRmb3JtU3RyYXRlZ3kpLmhpc3RvcnlHbyl8fHZvaWQgMD09PW58fG4uY2FsbChlLHQpfW9uVXJsQ2hhbmdlKHQpe3RoaXMuX3VybENoYW5nZUxpc3RlbmVycy5wdXNoKHQpLHRoaXMuX3VybENoYW5nZVN1YnNjcmlwdGlvbnx8KHRoaXMuX3VybENoYW5nZVN1YnNjcmlwdGlvbj10aGlzLnN1YnNjcmliZSh0PT57dGhpcy5fbm90aWZ5VXJsQ2hhbmdlTGlzdGVuZXJzKHQudXJsLHQuc3RhdGUpfSkpfV9ub3RpZnlVcmxDaGFuZ2VMaXN0ZW5lcnModD0iIixlKXt0aGlzLl91cmxDaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaChuPT5uKHQsZSkpfXN1YnNjcmliZSh0LGUsbil7cmV0dXJuIHRoaXMuX3N1YmplY3Quc3Vic2NyaWJlKHtuZXh0OnQsZXJyb3I6ZSxjb21wbGV0ZTpufSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKCR1KSxvcihSdSkpfSx0Lm5vcm1hbGl6ZVF1ZXJ5UGFyYW1zPUh1LHQuam9pbldpdGhTbGFzaD1CdSx0LnN0cmlwVHJhaWxpbmdTbGFzaD1VdSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6S3UsdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpO2Z1bmN0aW9uIEt1KCl7cmV0dXJuIG5ldyBadShvcigkdSksb3IoUnUpKX1mdW5jdGlvbiBZdSh0KXtyZXR1cm4gdC5yZXBsYWNlKC9cL2luZGV4Lmh0bWwkLywiIil9Y29uc3QgUXU9e0FEUDpbdm9pZCAwLHZvaWQgMCwwXSxBRk46W3ZvaWQgMCx2b2lkIDAsMF0sQUxMOlt2b2lkIDAsdm9pZCAwLDBdLEFNRDpbdm9pZCAwLHZvaWQgMCwyXSxBT0E6W3ZvaWQgMCwiS3oiXSxBUlM6W3ZvaWQgMCwiJCJdLEFVRDpbIkEkIiwiJCJdLEJBTTpbdm9pZCAwLCJLTSJdLEJCRDpbdm9pZCAwLCIkIl0sQkRUOlt2b2lkIDAsIlx1MDlmMyJdLEJIRDpbdm9pZCAwLHZvaWQgMCwzXSxCSUY6W3ZvaWQgMCx2b2lkIDAsMF0sQk1EOlt2b2lkIDAsIiQiXSxCTkQ6W3ZvaWQgMCwiJCJdLEJPQjpbdm9pZCAwLCJCcyJdLEJSTDpbIlIkIl0sQlNEOlt2b2lkIDAsIiQiXSxCV1A6W3ZvaWQgMCwiUCJdLEJZTjpbdm9pZCAwLCJcdTA0NDAuIiwyXSxCWVI6W3ZvaWQgMCx2b2lkIDAsMF0sQlpEOlt2b2lkIDAsIiQiXSxDQUQ6WyJDQSQiLCIkIiwyXSxDSEY6W3ZvaWQgMCx2b2lkIDAsMl0sQ0xGOlt2b2lkIDAsdm9pZCAwLDRdLENMUDpbdm9pZCAwLCIkIiwwXSxDTlk6WyJDTlx4YTUiLCJceGE1Il0sQ09QOlt2b2lkIDAsIiQiLDJdLENSQzpbdm9pZCAwLCJcdTIwYTEiLDJdLENVQzpbdm9pZCAwLCIkIl0sQ1VQOlt2b2lkIDAsIiQiXSxDWks6W3ZvaWQgMCwiS1x1MDEwZCIsMl0sREpGOlt2b2lkIDAsdm9pZCAwLDBdLERLSzpbdm9pZCAwLCJrciIsMl0sRE9QOlt2b2lkIDAsIiQiXSxFR1A6W3ZvaWQgMCwiRVx4YTMiXSxFU1A6W3ZvaWQgMCwiXHUyMGE3IiwwXSxFVVI6WyJcdTIwYWMiXSxGSkQ6W3ZvaWQgMCwiJCJdLEZLUDpbdm9pZCAwLCJceGEzIl0sR0JQOlsiXHhhMyJdLEdFTDpbdm9pZCAwLCJcdTIwYmUiXSxHSVA6W3ZvaWQgMCwiXHhhMyJdLEdORjpbdm9pZCAwLCJGRyIsMF0sR1RROlt2b2lkIDAsIlEiXSxHWUQ6W3ZvaWQgMCwiJCIsMl0sSEtEOlsiSEskIiwiJCJdLEhOTDpbdm9pZCAwLCJMIl0sSFJLOlt2b2lkIDAsImtuIl0sSFVGOlt2b2lkIDAsIkZ0IiwyXSxJRFI6W3ZvaWQgMCwiUnAiLDJdLElMUzpbIlx1MjBhYSJdLElOUjpbIlx1MjBiOSJdLElRRDpbdm9pZCAwLHZvaWQgMCwwXSxJUlI6W3ZvaWQgMCx2b2lkIDAsMF0sSVNLOlt2b2lkIDAsImtyIiwwXSxJVEw6W3ZvaWQgMCx2b2lkIDAsMF0sSk1EOlt2b2lkIDAsIiQiXSxKT0Q6W3ZvaWQgMCx2b2lkIDAsM10sSlBZOlsiXHhhNSIsdm9pZCAwLDBdLEtIUjpbdm9pZCAwLCJcdTE3ZGIiXSxLTUY6W3ZvaWQgMCwiQ0YiLDBdLEtQVzpbdm9pZCAwLCJcdTIwYTkiLDBdLEtSVzpbIlx1MjBhOSIsdm9pZCAwLDBdLEtXRDpbdm9pZCAwLHZvaWQgMCwzXSxLWUQ6W3ZvaWQgMCwiJCJdLEtaVDpbdm9pZCAwLCJcdTIwYjgiXSxMQUs6W3ZvaWQgMCwiXHUyMGFkIiwwXSxMQlA6W3ZvaWQgMCwiTFx4YTMiLDBdLExLUjpbdm9pZCAwLCJScyJdLExSRDpbdm9pZCAwLCIkIl0sTFRMOlt2b2lkIDAsIkx0Il0sTFVGOlt2b2lkIDAsdm9pZCAwLDBdLExWTDpbdm9pZCAwLCJMcyJdLExZRDpbdm9pZCAwLHZvaWQgMCwzXSxNR0E6W3ZvaWQgMCwiQXIiLDBdLE1HRjpbdm9pZCAwLHZvaWQgMCwwXSxNTUs6W3ZvaWQgMCwiSyIsMF0sTU5UOlt2b2lkIDAsIlx1MjBhZSIsMl0sTVJPOlt2b2lkIDAsdm9pZCAwLDBdLE1VUjpbdm9pZCAwLCJScyIsMl0sTVhOOlsiTVgkIiwiJCJdLE1ZUjpbdm9pZCAwLCJSTSJdLE5BRDpbdm9pZCAwLCIkIl0sTkdOOlt2b2lkIDAsIlx1MjBhNiJdLE5JTzpbdm9pZCAwLCJDJCJdLE5PSzpbdm9pZCAwLCJrciIsMl0sTlBSOlt2b2lkIDAsIlJzIl0sTlpEOlsiTlokIiwiJCJdLE9NUjpbdm9pZCAwLHZvaWQgMCwzXSxQSFA6W3ZvaWQgMCwiXHUyMGIxIl0sUEtSOlt2b2lkIDAsIlJzIiwyXSxQTE46W3ZvaWQgMCwielx1MDE0MiJdLFBZRzpbdm9pZCAwLCJcdTIwYjIiLDBdLFJPTjpbdm9pZCAwLCJsZWkiXSxSU0Q6W3ZvaWQgMCx2b2lkIDAsMF0sUlVCOlt2b2lkIDAsIlx1MjBiZCJdLFJVUjpbdm9pZCAwLCJcdTA0NDAuIl0sUldGOlt2b2lkIDAsIlJGIiwwXSxTQkQ6W3ZvaWQgMCwiJCJdLFNFSzpbdm9pZCAwLCJrciIsMl0sU0dEOlt2b2lkIDAsIiQiXSxTSFA6W3ZvaWQgMCwiXHhhMyJdLFNMTDpbdm9pZCAwLHZvaWQgMCwwXSxTT1M6W3ZvaWQgMCx2b2lkIDAsMF0sU1JEOlt2b2lkIDAsIiQiXSxTU1A6W3ZvaWQgMCwiXHhhMyJdLFNURDpbdm9pZCAwLHZvaWQgMCwwXSxTVE46W3ZvaWQgMCwiRGIiXSxTWVA6W3ZvaWQgMCwiXHhhMyIsMF0sVEhCOlt2b2lkIDAsIlx1MGUzZiJdLFRNTTpbdm9pZCAwLHZvaWQgMCwwXSxUTkQ6W3ZvaWQgMCx2b2lkIDAsM10sVE9QOlt2b2lkIDAsIlQkIl0sVFJMOlt2b2lkIDAsdm9pZCAwLDBdLFRSWTpbdm9pZCAwLCJcdTIwYmEiXSxUVEQ6W3ZvaWQgMCwiJCJdLFRXRDpbIk5UJCIsIiQiLDJdLFRaUzpbdm9pZCAwLHZvaWQgMCwyXSxVQUg6W3ZvaWQgMCwiXHUyMGI0Il0sVUdYOlt2b2lkIDAsdm9pZCAwLDBdLFVTRDpbIiQiXSxVWUk6W3ZvaWQgMCx2b2lkIDAsMF0sVVlVOlt2b2lkIDAsIiQiXSxVWVc6W3ZvaWQgMCx2b2lkIDAsNF0sVVpTOlt2b2lkIDAsdm9pZCAwLDJdLFZFRjpbdm9pZCAwLCJCcyIsMl0sVk5EOlsiXHUyMGFiIix2b2lkIDAsMF0sVlVWOlt2b2lkIDAsdm9pZCAwLDBdLFhBRjpbIkZDRkEiLHZvaWQgMCwwXSxYQ0Q6WyJFQyQiLCIkIl0sWE9GOlsiQ0ZBIix2b2lkIDAsMF0sWFBGOlsiQ0ZQRiIsdm9pZCAwLDBdLFhYWDpbIlx4YTQiXSxZRVI6W3ZvaWQgMCx2b2lkIDAsMF0sWkFSOlt2b2lkIDAsIlIiXSxaTUs6W3ZvaWQgMCx2b2lkIDAsMF0sWk1XOlt2b2lkIDAsIlpLIl0sWldEOlt2b2lkIDAsdm9pZCAwLDBdfTt2YXIgWHU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5EZWNpbWFsPTBdPSJEZWNpbWFsIix0W3QuUGVyY2VudD0xXT0iUGVyY2VudCIsdFt0LkN1cnJlbmN5PTJdPSJDdXJyZW5jeSIsdFt0LlNjaWVudGlmaWM9M109IlNjaWVudGlmaWMiLHR9KHt9KSxKdT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0Llplcm89MF09Ilplcm8iLHRbdC5PbmU9MV09Ik9uZSIsdFt0LlR3bz0yXT0iVHdvIix0W3QuRmV3PTNdPSJGZXciLHRbdC5NYW55PTRdPSJNYW55Iix0W3QuT3RoZXI9NV09Ik90aGVyIix0fSh7fSksdGM9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5Gb3JtYXQ9MF09IkZvcm1hdCIsdFt0LlN0YW5kYWxvbmU9MV09IlN0YW5kYWxvbmUiLHR9KHt9KSxlYz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0Lk5hcnJvdz0wXT0iTmFycm93Iix0W3QuQWJicmV2aWF0ZWQ9MV09IkFiYnJldmlhdGVkIix0W3QuV2lkZT0yXT0iV2lkZSIsdFt0LlNob3J0PTNdPSJTaG9ydCIsdH0oe30pLG5jPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuU2hvcnQ9MF09IlNob3J0Iix0W3QuTWVkaXVtPTFdPSJNZWRpdW0iLHRbdC5Mb25nPTJdPSJMb25nIix0W3QuRnVsbD0zXT0iRnVsbCIsdH0oe30pLHJjPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRGVjaW1hbD0wXT0iRGVjaW1hbCIsdFt0Lkdyb3VwPTFdPSJHcm91cCIsdFt0Lkxpc3Q9Ml09Ikxpc3QiLHRbdC5QZXJjZW50U2lnbj0zXT0iUGVyY2VudFNpZ24iLHRbdC5QbHVzU2lnbj00XT0iUGx1c1NpZ24iLHRbdC5NaW51c1NpZ249NV09Ik1pbnVzU2lnbiIsdFt0LkV4cG9uZW50aWFsPTZdPSJFeHBvbmVudGlhbCIsdFt0LlN1cGVyc2NyaXB0aW5nRXhwb25lbnQ9N109IlN1cGVyc2NyaXB0aW5nRXhwb25lbnQiLHRbdC5QZXJNaWxsZT04XT0iUGVyTWlsbGUiLHRbdFsxLzBdPTldPSJJbmZpbml0eSIsdFt0Lk5hTj0xMF09Ik5hTiIsdFt0LlRpbWVTZXBhcmF0b3I9MTFdPSJUaW1lU2VwYXJhdG9yIix0W3QuQ3VycmVuY3lEZWNpbWFsPTEyXT0iQ3VycmVuY3lEZWNpbWFsIix0W3QuQ3VycmVuY3lHcm91cD0xM109IkN1cnJlbmN5R3JvdXAiLHR9KHt9KTtmdW5jdGlvbiBzYyh0LGUpe3JldHVybiBjYyhLbyh0KVtRby5EYXRlRm9ybWF0XSxlKX1mdW5jdGlvbiBpYyh0LGUpe3JldHVybiBjYyhLbyh0KVtRby5UaW1lRm9ybWF0XSxlKX1mdW5jdGlvbiBvYyh0LGUpe3JldHVybiBjYyhLbyh0KVtRby5EYXRlVGltZUZvcm1hdF0sZSl9ZnVuY3Rpb24gYWModCxlKXtjb25zdCBuPUtvKHQpLHI9bltRby5OdW1iZXJTeW1ib2xzXVtlXTtpZih2b2lkIDA9PT1yKXtpZihlPT09cmMuQ3VycmVuY3lEZWNpbWFsKXJldHVybiBuW1FvLk51bWJlclN5bWJvbHNdW3JjLkRlY2ltYWxdO2lmKGU9PT1yYy5DdXJyZW5jeUdyb3VwKXJldHVybiBuW1FvLk51bWJlclN5bWJvbHNdW3JjLkdyb3VwXX1yZXR1cm4gcn1mdW5jdGlvbiBsYyh0LGUpe3JldHVybiBLbyh0KVtRby5OdW1iZXJGb3JtYXRzXVtlXX1mdW5jdGlvbiB1Yyh0KXtpZighdFtRby5FeHRyYURhdGFdKXRocm93IG5ldyBFcnJvcihgTWlzc2luZyBleHRyYSBsb2NhbGUgZGF0YSBmb3IgdGhlIGxvY2FsZSAiJHt0W1FvLkxvY2FsZUlkXX0iLiBVc2UgInJlZ2lzdGVyTG9jYWxlRGF0YSIgdG8gbG9hZCBuZXcgZGF0YS4gU2VlIHRoZSAiSTE4biBndWlkZSIgb24gYW5ndWxhci5pbyB0byBrbm93IG1vcmUuYCl9ZnVuY3Rpb24gY2ModCxlKXtmb3IobGV0IG49ZTtuPi0xO24tLSlpZih2b2lkIDAhPT10W25dKXJldHVybiB0W25dO3Rocm93IG5ldyBFcnJvcigiTG9jYWxlIGRhdGEgQVBJOiBsb2NhbGUgZGF0YSB1bmRlZmluZWQiKX1mdW5jdGlvbiBoYyh0KXtjb25zdFtlLG5dPXQuc3BsaXQoIjoiKTtyZXR1cm57aG91cnM6K2UsbWludXRlczorbn19Y29uc3QgZGM9L14oXGR7NH0pLT8oXGRcZCktPyhcZFxkKSg/OlQoXGRcZCkoPzo6PyhcZFxkKSg/Ojo/KFxkXGQpKD86XC4oXGQrKSk/KT8pPyhafChbKy1dKShcZFxkKTo/KFxkXGQpKT8pPyQvLHBjPXt9LGZjPS8oKD86W15CRUdITE1PU1dZWmFiY2RobXN3eXonXSspfCg/OicoPzpbXiddfCcnKSonKXwoPzpHezEsNX18eXsxLDR9fFl7MSw0fXxNezEsNX18THsxLDV9fHd7MSwyfXxXezF9fGR7MSwyfXxFezEsNn18Y3sxLDZ9fGF7MSw1fXxiezEsNX18QnsxLDV9fGh7MSwyfXxIezEsMn18bXsxLDJ9fHN7MSwyfXxTezEsM318ensxLDR9fFp7MSw1fXxPezEsNH0pKShbXHNcU10qKS87dmFyIGdjPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuU2hvcnQ9MF09IlNob3J0Iix0W3QuU2hvcnRHTVQ9MV09IlNob3J0R01UIix0W3QuTG9uZz0yXT0iTG9uZyIsdFt0LkV4dGVuZGVkPTNdPSJFeHRlbmRlZCIsdH0oe30pLG1jPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRnVsbFllYXI9MF09IkZ1bGxZZWFyIix0W3QuTW9udGg9MV09Ik1vbnRoIix0W3QuRGF0ZT0yXT0iRGF0ZSIsdFt0LkhvdXJzPTNdPSJIb3VycyIsdFt0Lk1pbnV0ZXM9NF09Ik1pbnV0ZXMiLHRbdC5TZWNvbmRzPTVdPSJTZWNvbmRzIix0W3QuRnJhY3Rpb25hbFNlY29uZHM9Nl09IkZyYWN0aW9uYWxTZWNvbmRzIix0W3QuRGF5PTddPSJEYXkiLHR9KHt9KSx5Yz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkRheVBlcmlvZHM9MF09IkRheVBlcmlvZHMiLHRbdC5EYXlzPTFdPSJEYXlzIix0W3QuTW9udGhzPTJdPSJNb250aHMiLHRbdC5FcmFzPTNdPSJFcmFzIix0fSh7fSk7ZnVuY3Rpb24gdmModCxlLG4scil7bGV0IHM9ZnVuY3Rpb24odCl7aWYoT2ModCkpcmV0dXJuIHQ7aWYoIm51bWJlciI9PXR5cGVvZiB0JiYhaXNOYU4odCkpcmV0dXJuIG5ldyBEYXRlKHQpO2lmKCJzdHJpbmciPT10eXBlb2YgdCl7aWYodD10LnRyaW0oKSwvXihcZHs0fSgtXGR7MSwyfSgtXGR7MSwyfSk/KT8pJC8udGVzdCh0KSl7Y29uc3RbZSxuPTEscj0xXT10LnNwbGl0KCItIikubWFwKHQ9Pit0KTtyZXR1cm4gYmMoZSxuLTEscil9Y29uc3QgZT1wYXJzZUZsb2F0KHQpO2lmKCFpc05hTih0LWUpKXJldHVybiBuZXcgRGF0ZShlKTtsZXQgbjtpZihuPXQubWF0Y2goZGMpKXJldHVybiBmdW5jdGlvbih0KXtjb25zdCBlPW5ldyBEYXRlKDApO2xldCBuPTAscj0wO2NvbnN0IHM9dFs4XT9lLnNldFVUQ0Z1bGxZZWFyOmUuc2V0RnVsbFllYXIsaT10WzhdP2Uuc2V0VVRDSG91cnM6ZS5zZXRIb3Vyczt0WzldJiYobj1OdW1iZXIodFs5XSt0WzEwXSkscj1OdW1iZXIodFs5XSt0WzExXSkpLHMuY2FsbChlLE51bWJlcih0WzFdKSxOdW1iZXIodFsyXSktMSxOdW1iZXIodFszXSkpO2NvbnN0IG89TnVtYmVyKHRbNF18fDApLW4sYT1OdW1iZXIodFs1XXx8MCktcixsPU51bWJlcih0WzZdfHwwKSx1PU1hdGguZmxvb3IoMWUzKnBhcnNlRmxvYXQoIjAuIisodFs3XXx8MCkpKTtyZXR1cm4gaS5jYWxsKGUsbyxhLGwsdSksZX0obil9Y29uc3QgZT1uZXcgRGF0ZSh0KTtpZighT2MoZSkpdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gY29udmVydCAiJHt0fSIgaW50byBhIGRhdGVgKTtyZXR1cm4gZX0odCk7ZT13YyhuLGUpfHxlO2xldCBpLG89W107Zm9yKDtlOyl7aWYoaT1mYy5leGVjKGUpLCFpKXtvLnB1c2goZSk7YnJlYWt9e289by5jb25jYXQoaS5zbGljZSgxKSk7Y29uc3QgdD1vLnBvcCgpO2lmKCF0KWJyZWFrO2U9dH19bGV0IGE9cy5nZXRUaW1lem9uZU9mZnNldCgpO3ImJihhPUZjKHIsYSkscz1mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj10LmdldFRpbWV6b25lT2Zmc2V0KCk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuKHQ9bmV3IERhdGUodC5nZXRUaW1lKCkpKS5zZXRNaW51dGVzKHQuZ2V0TWludXRlcygpK2UpLHR9KHQsLTEqKEZjKGUsciktcikpfShzLHIpKTtsZXQgbD0iIjtyZXR1cm4gby5mb3JFYWNoKHQ9Pntjb25zdCBlPWZ1bmN0aW9uKHQpe2lmKFRjW3RdKXJldHVybiBUY1t0XTtsZXQgZTtzd2l0Y2godCl7Y2FzZSJHIjpjYXNlIkdHIjpjYXNlIkdHRyI6ZT1FYyh5Yy5FcmFzLGVjLkFiYnJldmlhdGVkKTticmVhaztjYXNlIkdHR0ciOmU9RWMoeWMuRXJhcyxlYy5XaWRlKTticmVhaztjYXNlIkdHR0dHIjplPUVjKHljLkVyYXMsZWMuTmFycm93KTticmVhaztjYXNlInkiOmU9RGMobWMuRnVsbFllYXIsMSwwLCExLCEwKTticmVhaztjYXNlInl5IjplPURjKG1jLkZ1bGxZZWFyLDIsMCwhMCwhMCk7YnJlYWs7Y2FzZSJ5eXkiOmU9RGMobWMuRnVsbFllYXIsMywwLCExLCEwKTticmVhaztjYXNlInl5eXkiOmU9RGMobWMuRnVsbFllYXIsNCwwLCExLCEwKTticmVhaztjYXNlIlkiOmU9a2MoMSk7YnJlYWs7Y2FzZSJZWSI6ZT1rYygyLCEwKTticmVhaztjYXNlIllZWSI6ZT1rYygzKTticmVhaztjYXNlIllZWVkiOmU9a2MoNCk7YnJlYWs7Y2FzZSJNIjpjYXNlIkwiOmU9RGMobWMuTW9udGgsMSwxKTticmVhaztjYXNlIk1NIjpjYXNlIkxMIjplPURjKG1jLk1vbnRoLDIsMSk7YnJlYWs7Y2FzZSJNTU0iOmU9RWMoeWMuTW9udGhzLGVjLkFiYnJldmlhdGVkKTticmVhaztjYXNlIk1NTU0iOmU9RWMoeWMuTW9udGhzLGVjLldpZGUpO2JyZWFrO2Nhc2UiTU1NTU0iOmU9RWMoeWMuTW9udGhzLGVjLk5hcnJvdyk7YnJlYWs7Y2FzZSJMTEwiOmU9RWMoeWMuTW9udGhzLGVjLkFiYnJldmlhdGVkLHRjLlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UiTExMTCI6ZT1FYyh5Yy5Nb250aHMsZWMuV2lkZSx0Yy5TdGFuZGFsb25lKTticmVhaztjYXNlIkxMTExMIjplPUVjKHljLk1vbnRocyxlYy5OYXJyb3csdGMuU3RhbmRhbG9uZSk7YnJlYWs7Y2FzZSJ3IjplPXhjKDEpO2JyZWFrO2Nhc2Uid3ciOmU9eGMoMik7YnJlYWs7Y2FzZSJXIjplPXhjKDEsITApO2JyZWFrO2Nhc2UiZCI6ZT1EYyhtYy5EYXRlLDEpO2JyZWFrO2Nhc2UiZGQiOmU9RGMobWMuRGF0ZSwyKTticmVhaztjYXNlImMiOmNhc2UiY2MiOmU9RGMobWMuRGF5LDEpO2JyZWFrO2Nhc2UiY2NjIjplPUVjKHljLkRheXMsZWMuQWJicmV2aWF0ZWQsdGMuU3RhbmRhbG9uZSk7YnJlYWs7Y2FzZSJjY2NjIjplPUVjKHljLkRheXMsZWMuV2lkZSx0Yy5TdGFuZGFsb25lKTticmVhaztjYXNlImNjY2NjIjplPUVjKHljLkRheXMsZWMuTmFycm93LHRjLlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UiY2NjY2NjIjplPUVjKHljLkRheXMsZWMuU2hvcnQsdGMuU3RhbmRhbG9uZSk7YnJlYWs7Y2FzZSJFIjpjYXNlIkVFIjpjYXNlIkVFRSI6ZT1FYyh5Yy5EYXlzLGVjLkFiYnJldmlhdGVkKTticmVhaztjYXNlIkVFRUUiOmU9RWMoeWMuRGF5cyxlYy5XaWRlKTticmVhaztjYXNlIkVFRUVFIjplPUVjKHljLkRheXMsZWMuTmFycm93KTticmVhaztjYXNlIkVFRUVFRSI6ZT1FYyh5Yy5EYXlzLGVjLlNob3J0KTticmVhaztjYXNlImEiOmNhc2UiYWEiOmNhc2UiYWFhIjplPUVjKHljLkRheVBlcmlvZHMsZWMuQWJicmV2aWF0ZWQpO2JyZWFrO2Nhc2UiYWFhYSI6ZT1FYyh5Yy5EYXlQZXJpb2RzLGVjLldpZGUpO2JyZWFrO2Nhc2UiYWFhYWEiOmU9RWMoeWMuRGF5UGVyaW9kcyxlYy5OYXJyb3cpO2JyZWFrO2Nhc2UiYiI6Y2FzZSJiYiI6Y2FzZSJiYmIiOmU9RWMoeWMuRGF5UGVyaW9kcyxlYy5BYmJyZXZpYXRlZCx0Yy5TdGFuZGFsb25lLCEwKTticmVhaztjYXNlImJiYmIiOmU9RWMoeWMuRGF5UGVyaW9kcyxlYy5XaWRlLHRjLlN0YW5kYWxvbmUsITApO2JyZWFrO2Nhc2UiYmJiYmIiOmU9RWMoeWMuRGF5UGVyaW9kcyxlYy5OYXJyb3csdGMuU3RhbmRhbG9uZSwhMCk7YnJlYWs7Y2FzZSJCIjpjYXNlIkJCIjpjYXNlIkJCQiI6ZT1FYyh5Yy5EYXlQZXJpb2RzLGVjLkFiYnJldmlhdGVkLHRjLkZvcm1hdCwhMCk7YnJlYWs7Y2FzZSJCQkJCIjplPUVjKHljLkRheVBlcmlvZHMsZWMuV2lkZSx0Yy5Gb3JtYXQsITApO2JyZWFrO2Nhc2UiQkJCQkIiOmU9RWMoeWMuRGF5UGVyaW9kcyxlYy5OYXJyb3csdGMuRm9ybWF0LCEwKTticmVhaztjYXNlImgiOmU9RGMobWMuSG91cnMsMSwtMTIpO2JyZWFrO2Nhc2UiaGgiOmU9RGMobWMuSG91cnMsMiwtMTIpO2JyZWFrO2Nhc2UiSCI6ZT1EYyhtYy5Ib3VycywxKTticmVhaztjYXNlIkhIIjplPURjKG1jLkhvdXJzLDIpO2JyZWFrO2Nhc2UibSI6ZT1EYyhtYy5NaW51dGVzLDEpO2JyZWFrO2Nhc2UibW0iOmU9RGMobWMuTWludXRlcywyKTticmVhaztjYXNlInMiOmU9RGMobWMuU2Vjb25kcywxKTticmVhaztjYXNlInNzIjplPURjKG1jLlNlY29uZHMsMik7YnJlYWs7Y2FzZSJTIjplPURjKG1jLkZyYWN0aW9uYWxTZWNvbmRzLDEpO2JyZWFrO2Nhc2UiU1MiOmU9RGMobWMuRnJhY3Rpb25hbFNlY29uZHMsMik7YnJlYWs7Y2FzZSJTU1MiOmU9RGMobWMuRnJhY3Rpb25hbFNlY29uZHMsMyk7YnJlYWs7Y2FzZSJaIjpjYXNlIlpaIjpjYXNlIlpaWiI6ZT1BYyhnYy5TaG9ydCk7YnJlYWs7Y2FzZSJaWlpaWiI6ZT1BYyhnYy5FeHRlbmRlZCk7YnJlYWs7Y2FzZSJPIjpjYXNlIk9PIjpjYXNlIk9PTyI6Y2FzZSJ6IjpjYXNlInp6IjpjYXNlInp6eiI6ZT1BYyhnYy5TaG9ydEdNVCk7YnJlYWs7Y2FzZSJPT09PIjpjYXNlIlpaWloiOmNhc2Uienp6eiI6ZT1BYyhnYy5Mb25nKTticmVhaztkZWZhdWx0OnJldHVybiBudWxsfXJldHVybiBUY1t0XT1lLGV9KHQpO2wrPWU/ZShzLG4sYSk6IicnIj09PXQ/IiciOnQucmVwbGFjZSgvKF4nfCckKS9nLCIiKS5yZXBsYWNlKC8nJy9nLCInIil9KSxsfWZ1bmN0aW9uIGJjKHQsZSxuKXtjb25zdCByPW5ldyBEYXRlKDApO3JldHVybiByLnNldEZ1bGxZZWFyKHQsZSxuKSxyLnNldEhvdXJzKDAsMCwwKSxyfWZ1bmN0aW9uIHdjKHQsZSl7Y29uc3Qgbj1mdW5jdGlvbih0KXtyZXR1cm4gS28odClbUW8uTG9jYWxlSWRdfSh0KTtpZihwY1tuXT1wY1tuXXx8e30scGNbbl1bZV0pcmV0dXJuIHBjW25dW2VdO2xldCByPSIiO3N3aXRjaChlKXtjYXNlInNob3J0RGF0ZSI6cj1zYyh0LG5jLlNob3J0KTticmVhaztjYXNlIm1lZGl1bURhdGUiOnI9c2ModCxuYy5NZWRpdW0pO2JyZWFrO2Nhc2UibG9uZ0RhdGUiOnI9c2ModCxuYy5Mb25nKTticmVhaztjYXNlImZ1bGxEYXRlIjpyPXNjKHQsbmMuRnVsbCk7YnJlYWs7Y2FzZSJzaG9ydFRpbWUiOnI9aWModCxuYy5TaG9ydCk7YnJlYWs7Y2FzZSJtZWRpdW1UaW1lIjpyPWljKHQsbmMuTWVkaXVtKTticmVhaztjYXNlImxvbmdUaW1lIjpyPWljKHQsbmMuTG9uZyk7YnJlYWs7Y2FzZSJmdWxsVGltZSI6cj1pYyh0LG5jLkZ1bGwpO2JyZWFrO2Nhc2Uic2hvcnQiOmNvbnN0IGU9d2ModCwic2hvcnRUaW1lIiksbj13Yyh0LCJzaG9ydERhdGUiKTtyPV9jKG9jKHQsbmMuU2hvcnQpLFtlLG5dKTticmVhaztjYXNlIm1lZGl1bSI6Y29uc3Qgcz13Yyh0LCJtZWRpdW1UaW1lIiksaT13Yyh0LCJtZWRpdW1EYXRlIik7cj1fYyhvYyh0LG5jLk1lZGl1bSksW3MsaV0pO2JyZWFrO2Nhc2UibG9uZyI6Y29uc3Qgbz13Yyh0LCJsb25nVGltZSIpLGE9d2ModCwibG9uZ0RhdGUiKTtyPV9jKG9jKHQsbmMuTG9uZyksW28sYV0pO2JyZWFrO2Nhc2UiZnVsbCI6Y29uc3QgbD13Yyh0LCJmdWxsVGltZSIpLHU9d2ModCwiZnVsbERhdGUiKTtyPV9jKG9jKHQsbmMuRnVsbCksW2wsdV0pfXJldHVybiByJiYocGNbbl1bZV09cikscn1mdW5jdGlvbiBfYyh0LGUpe3JldHVybiBlJiYodD10LnJlcGxhY2UoL1x7KFtefV0rKX0vZyxmdW5jdGlvbih0LG4pe3JldHVybiBudWxsIT1lJiZuIGluIGU/ZVtuXTp0fSkpLHR9ZnVuY3Rpb24gQ2ModCxlLG49Ii0iLHIscyl7bGV0IGk9IiI7KHQ8MHx8cyYmdDw9MCkmJihzP3Q9MS10Oih0PS10LGk9bikpO2xldCBvPVN0cmluZyh0KTtmb3IoO28ubGVuZ3RoPGU7KW89IjAiK287cmV0dXJuIHImJihvPW8uc3Vic3RyKG8ubGVuZ3RoLWUpKSxpK299ZnVuY3Rpb24gRGModCxlLG49MCxyPSExLHM9ITEpe3JldHVybiBmdW5jdGlvbihpLG8pe2xldCBhPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQpe2Nhc2UgbWMuRnVsbFllYXI6cmV0dXJuIGUuZ2V0RnVsbFllYXIoKTtjYXNlIG1jLk1vbnRoOnJldHVybiBlLmdldE1vbnRoKCk7Y2FzZSBtYy5EYXRlOnJldHVybiBlLmdldERhdGUoKTtjYXNlIG1jLkhvdXJzOnJldHVybiBlLmdldEhvdXJzKCk7Y2FzZSBtYy5NaW51dGVzOnJldHVybiBlLmdldE1pbnV0ZXMoKTtjYXNlIG1jLlNlY29uZHM6cmV0dXJuIGUuZ2V0U2Vjb25kcygpO2Nhc2UgbWMuRnJhY3Rpb25hbFNlY29uZHM6cmV0dXJuIGUuZ2V0TWlsbGlzZWNvbmRzKCk7Y2FzZSBtYy5EYXk6cmV0dXJuIGUuZ2V0RGF5KCk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gRGF0ZVR5cGUgdmFsdWUgIiR7dH0iLmApfX0odCxpKTtpZigobj4wfHxhPi1uKSYmKGErPW4pLHQ9PT1tYy5Ib3VycykwPT09YSYmLTEyPT09biYmKGE9MTIpO2Vsc2UgaWYodD09PW1jLkZyYWN0aW9uYWxTZWNvbmRzKXJldHVybiBsPWUsQ2MoYSwzKS5zdWJzdHIoMCxsKTt2YXIgbDtjb25zdCB1PWFjKG8scmMuTWludXNTaWduKTtyZXR1cm4gQ2MoYSxlLHUscixzKX19ZnVuY3Rpb24gRWModCxlLG49dGMuRm9ybWF0LHI9ITEpe3JldHVybiBmdW5jdGlvbihzLGkpe3JldHVybiBmdW5jdGlvbih0LGUsbixyLHMsaSl7c3dpdGNoKG4pe2Nhc2UgeWMuTW9udGhzOnJldHVybiBmdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1Lbyh0KSxzPWNjKFtyW1FvLk1vbnRoc0Zvcm1hdF0scltRby5Nb250aHNTdGFuZGFsb25lXV0sZSk7cmV0dXJuIGNjKHMsbil9KGUscyxyKVt0LmdldE1vbnRoKCldO2Nhc2UgeWMuRGF5czpyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9S28odCkscz1jYyhbcltRby5EYXlzRm9ybWF0XSxyW1FvLkRheXNTdGFuZGFsb25lXV0sZSk7cmV0dXJuIGNjKHMsbil9KGUscyxyKVt0LmdldERheSgpXTtjYXNlIHljLkRheVBlcmlvZHM6Y29uc3Qgbz10LmdldEhvdXJzKCksYT10LmdldE1pbnV0ZXMoKTtpZihpKXtjb25zdCB0PWZ1bmN0aW9uKHQpe2NvbnN0IGU9S28odCk7cmV0dXJuIHVjKGUpLChlW1FvLkV4dHJhRGF0YV1bMl18fFtdKS5tYXAodD0+InN0cmluZyI9PXR5cGVvZiB0P2hjKHQpOltoYyh0WzBdKSxoYyh0WzFdKV0pfShlKSxuPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPUtvKHQpO3VjKHIpO2NvbnN0IHM9Y2MoW3JbUW8uRXh0cmFEYXRhXVswXSxyW1FvLkV4dHJhRGF0YV1bMV1dLGUpfHxbXTtyZXR1cm4gY2MocyxuKXx8W119KGUscyxyKSxpPXQuZmluZEluZGV4KHQ9PntpZihBcnJheS5pc0FycmF5KHQpKXtjb25zdFtlLG5dPXQscj1vPj1lLmhvdXJzJiZhPj1lLm1pbnV0ZXMscz1vPG4uaG91cnN8fG89PT1uLmhvdXJzJiZhPG4ubWludXRlcztpZihlLmhvdXJzPG4uaG91cnMpe2lmKHImJnMpcmV0dXJuITB9ZWxzZSBpZihyfHxzKXJldHVybiEwfWVsc2UgaWYodC5ob3Vycz09PW8mJnQubWludXRlcz09PWEpcmV0dXJuITA7cmV0dXJuITF9KTtpZigtMSE9PWkpcmV0dXJuIG5baV19cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPUtvKHQpLHM9Y2MoW3JbUW8uRGF5UGVyaW9kc0Zvcm1hdF0scltRby5EYXlQZXJpb2RzU3RhbmRhbG9uZV1dLGUpO3JldHVybiBjYyhzLG4pfShlLHMscilbbzwxMj8wOjFdO2Nhc2UgeWMuRXJhczpyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gY2MoS28odClbUW8uRXJhc10sZSl9KGUscilbdC5nZXRGdWxsWWVhcigpPD0wPzA6MV07ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuZXhwZWN0ZWQgdHJhbnNsYXRpb24gdHlwZSAke259YCl9fShzLGksdCxlLG4scil9fWZ1bmN0aW9uIEFjKHQpe3JldHVybiBmdW5jdGlvbihlLG4scil7Y29uc3Qgcz0tMSpyLGk9YWMobixyYy5NaW51c1NpZ24pLG89cz4wP01hdGguZmxvb3Iocy82MCk6TWF0aC5jZWlsKHMvNjApO3N3aXRjaCh0KXtjYXNlIGdjLlNob3J0OnJldHVybihzPj0wPyIrIjoiIikrQ2MobywyLGkpK0NjKE1hdGguYWJzKHMlNjApLDIsaSk7Y2FzZSBnYy5TaG9ydEdNVDpyZXR1cm4iR01UIisocz49MD8iKyI6IiIpK0NjKG8sMSxpKTtjYXNlIGdjLkxvbmc6cmV0dXJuIkdNVCIrKHM+PTA/IisiOiIiKStDYyhvLDIsaSkrIjoiK0NjKE1hdGguYWJzKHMlNjApLDIsaSk7Y2FzZSBnYy5FeHRlbmRlZDpyZXR1cm4gMD09PXI/IloiOihzPj0wPyIrIjoiIikrQ2MobywyLGkpKyI6IitDYyhNYXRoLmFicyhzJTYwKSwyLGkpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHpvbmUgd2lkdGggIiR7dH0iYCl9fX1mdW5jdGlvbiBTYyh0KXtyZXR1cm4gYmModC5nZXRGdWxsWWVhcigpLHQuZ2V0TW9udGgoKSx0LmdldERhdGUoKSsoNC10LmdldERheSgpKSl9ZnVuY3Rpb24geGModCxlPSExKXtyZXR1cm4gZnVuY3Rpb24obixyKXtsZXQgcztpZihlKXtjb25zdCB0PW5ldyBEYXRlKG4uZ2V0RnVsbFllYXIoKSxuLmdldE1vbnRoKCksMSkuZ2V0RGF5KCktMSxlPW4uZ2V0RGF0ZSgpO3M9MStNYXRoLmZsb29yKChlK3QpLzcpfWVsc2V7Y29uc3QgdD1TYyhuKSxlPWZ1bmN0aW9uKHQpe2NvbnN0IGU9YmModCwwLDEpLmdldERheSgpO3JldHVybiBiYyh0LDAsMSsoZTw9ND80OjExKS1lKX0odC5nZXRGdWxsWWVhcigpKSxyPXQuZ2V0VGltZSgpLWUuZ2V0VGltZSgpO3M9MStNYXRoLnJvdW5kKHIvNjA0OGU1KX1yZXR1cm4gQ2Mocyx0LGFjKHIscmMuTWludXNTaWduKSl9fWZ1bmN0aW9uIGtjKHQsZT0hMSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIENjKFNjKG4pLmdldEZ1bGxZZWFyKCksdCxhYyhyLHJjLk1pbnVzU2lnbiksZSl9fWNvbnN0IFRjPXt9O2Z1bmN0aW9uIEZjKHQsZSl7dD10LnJlcGxhY2UoLzovZywiIik7Y29uc3Qgbj1EYXRlLnBhcnNlKCJKYW4gMDEsIDE5NzAgMDA6MDA6MDAgIit0KS82ZTQ7cmV0dXJuIGlzTmFOKG4pP2U6bn1mdW5jdGlvbiBPYyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIERhdGUmJiFpc05hTih0LnZhbHVlT2YoKSl9Y29uc3QgUGM9L14oXGQrKT9cLigoXGQrKSgtKFxkKykpPyk/JC8sSWM9Ii4iLFJjPSIwIjtmdW5jdGlvbiBNYyh0LGUsbixyLHMsaSxvPSExKXtsZXQgYT0iIixsPSExO2lmKGlzRmluaXRlKHQpKXtsZXQgdT1mdW5jdGlvbih0KXtsZXQgZSxuLHIscyxpLG89TWF0aC5hYnModCkrIiIsYT0wO2Zvcigobj1vLmluZGV4T2YoSWMpKT4tMSYmKG89by5yZXBsYWNlKEljLCIiKSksKHI9by5zZWFyY2goL2UvaSkpPjA/KG48MCYmKG49ciksbis9K28uc2xpY2UocisxKSxvPW8uc3Vic3RyaW5nKDAscikpOm48MCYmKG49by5sZW5ndGgpLHI9MDtvLmNoYXJBdChyKT09PVJjO3IrKyk7aWYocj09PShpPW8ubGVuZ3RoKSllPVswXSxuPTE7ZWxzZXtmb3IoaS0tO28uY2hhckF0KGkpPT09UmM7KWktLTtmb3Iobi09cixlPVtdLHM9MDtyPD1pO3IrKyxzKyspZVtzXT1OdW1iZXIoby5jaGFyQXQocikpfXJldHVybiBuPjIyJiYoZT1lLnNwbGljZSgwLDIxKSxhPW4tMSxuPTEpLHtkaWdpdHM6ZSxleHBvbmVudDphLGludGVnZXJMZW46bn19KHQpO28mJih1PWZ1bmN0aW9uKHQpe2lmKDA9PT10LmRpZ2l0c1swXSlyZXR1cm4gdDtjb25zdCBlPXQuZGlnaXRzLmxlbmd0aC10LmludGVnZXJMZW47cmV0dXJuIHQuZXhwb25lbnQ/dC5leHBvbmVudCs9MjooMD09PWU/dC5kaWdpdHMucHVzaCgwLDApOjE9PT1lJiZ0LmRpZ2l0cy5wdXNoKDApLHQuaW50ZWdlckxlbis9MiksdH0odSkpO2xldCBjPWUubWluSW50LGg9ZS5taW5GcmFjLGQ9ZS5tYXhGcmFjO2lmKGkpe2NvbnN0IHQ9aS5tYXRjaChQYyk7aWYobnVsbD09PXQpdGhyb3cgbmV3IEVycm9yKGAke2l9IGlzIG5vdCBhIHZhbGlkIGRpZ2l0IGluZm9gKTtjb25zdCBlPXRbMV0sbj10WzNdLHI9dFs1XTtudWxsIT1lJiYoYz1OYyhlKSksbnVsbCE9biYmKGg9TmMobikpLG51bGwhPXI/ZD1OYyhyKTpudWxsIT1uJiZoPmQmJihkPWgpfSFmdW5jdGlvbih0LGUsbil7aWYoZT5uKXRocm93IG5ldyBFcnJvcihgVGhlIG1pbmltdW0gbnVtYmVyIG9mIGRpZ2l0cyBhZnRlciBmcmFjdGlvbiAoJHtlfSkgaXMgaGlnaGVyIHRoYW4gdGhlIG1heGltdW0gKCR7bn0pLmApO2xldCByPXQuZGlnaXRzLHM9ci5sZW5ndGgtdC5pbnRlZ2VyTGVuO2NvbnN0IGk9TWF0aC5taW4oTWF0aC5tYXgoZSxzKSxuKTtsZXQgbz1pK3QuaW50ZWdlckxlbixhPXJbb107aWYobz4wKXtyLnNwbGljZShNYXRoLm1heCh0LmludGVnZXJMZW4sbykpO2ZvcihsZXQgdD1vO3Q8ci5sZW5ndGg7dCsrKXJbdF09MH1lbHNle3M9TWF0aC5tYXgoMCxzKSx0LmludGVnZXJMZW49MSxyLmxlbmd0aD1NYXRoLm1heCgxLG89aSsxKSxyWzBdPTA7Zm9yKGxldCB0PTE7dDxvO3QrKylyW3RdPTB9aWYoYT49NSlpZihvLTE8MCl7Zm9yKGxldCBlPTA7ZT5vO2UtLSlyLnVuc2hpZnQoMCksdC5pbnRlZ2VyTGVuKys7ci51bnNoaWZ0KDEpLHQuaW50ZWdlckxlbisrfWVsc2UgcltvLTFdKys7Zm9yKDtzPE1hdGgubWF4KDAsaSk7cysrKXIucHVzaCgwKTtsZXQgbD0wIT09aTtjb25zdCB1PWUrdC5pbnRlZ2VyTGVuLGM9ci5yZWR1Y2VSaWdodChmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gcltuXT0oZSs9dCk8MTA/ZTplLTEwLGwmJigwPT09cltuXSYmbj49dT9yLnBvcCgpOmw9ITEpLGU+PTEwPzE6MH0sMCk7YyYmKHIudW5zaGlmdChjKSx0LmludGVnZXJMZW4rKyl9KHUsaCxkKTtsZXQgcD11LmRpZ2l0cyxmPXUuaW50ZWdlckxlbjtjb25zdCBnPXUuZXhwb25lbnQ7bGV0IG09W107Zm9yKGw9cC5ldmVyeSh0PT4hdCk7ZjxjO2YrKylwLnVuc2hpZnQoMCk7Zm9yKDtmPDA7ZisrKXAudW5zaGlmdCgwKTtmPjA/bT1wLnNwbGljZShmLHAubGVuZ3RoKToobT1wLHA9WzBdKTtjb25zdCB5PVtdO2ZvcihwLmxlbmd0aD49ZS5sZ1NpemUmJnkudW5zaGlmdChwLnNwbGljZSgtZS5sZ1NpemUscC5sZW5ndGgpLmpvaW4oIiIpKTtwLmxlbmd0aD5lLmdTaXplOyl5LnVuc2hpZnQocC5zcGxpY2UoLWUuZ1NpemUscC5sZW5ndGgpLmpvaW4oIiIpKTtwLmxlbmd0aCYmeS51bnNoaWZ0KHAuam9pbigiIikpLGE9eS5qb2luKGFjKG4scikpLG0ubGVuZ3RoJiYoYSs9YWMobixzKSttLmpvaW4oIiIpKSxnJiYoYSs9YWMobixyYy5FeHBvbmVudGlhbCkrIisiK2cpfWVsc2UgYT1hYyhuLHJjLkluZmluaXR5KTtyZXR1cm4gYT10PDAmJiFsP2UubmVnUHJlK2ErZS5uZWdTdWY6ZS5wb3NQcmUrYStlLnBvc1N1ZixhfWZ1bmN0aW9uIGpjKHQsZT0iLSIpe2NvbnN0IG49e21pbkludDoxLG1pbkZyYWM6MCxtYXhGcmFjOjAscG9zUHJlOiIiLHBvc1N1ZjoiIixuZWdQcmU6IiIsbmVnU3VmOiIiLGdTaXplOjAsbGdTaXplOjB9LHI9dC5zcGxpdCgiOyIpLHM9clswXSxpPXJbMV0sbz0tMSE9PXMuaW5kZXhPZihJYyk/cy5zcGxpdChJYyk6W3Muc3Vic3RyaW5nKDAscy5sYXN0SW5kZXhPZihSYykrMSkscy5zdWJzdHJpbmcocy5sYXN0SW5kZXhPZihSYykrMSldLGE9b1swXSxsPW9bMV18fCIiO24ucG9zUHJlPWEuc3Vic3RyKDAsYS5pbmRleE9mKCIjIikpO2ZvcihsZXQgYz0wO2M8bC5sZW5ndGg7YysrKXtjb25zdCB0PWwuY2hhckF0KGMpO3Q9PT1SYz9uLm1pbkZyYWM9bi5tYXhGcmFjPWMrMToiIyI9PT10P24ubWF4RnJhYz1jKzE6bi5wb3NTdWYrPXR9Y29uc3QgdT1hLnNwbGl0KCIsIik7aWYobi5nU2l6ZT11WzFdP3VbMV0ubGVuZ3RoOjAsbi5sZ1NpemU9dVsyXXx8dVsxXT8odVsyXXx8dVsxXSkubGVuZ3RoOjAsaSl7Y29uc3QgdD1zLmxlbmd0aC1uLnBvc1ByZS5sZW5ndGgtbi5wb3NTdWYubGVuZ3RoLGU9aS5pbmRleE9mKCIjIik7bi5uZWdQcmU9aS5zdWJzdHIoMCxlKS5yZXBsYWNlKC8nL2csIiIpLG4ubmVnU3VmPWkuc3Vic3RyKGUrdCkucmVwbGFjZSgvJy9nLCIiKX1lbHNlIG4ubmVnUHJlPWUrbi5wb3NQcmUsbi5uZWdTdWY9bi5wb3NTdWY7cmV0dXJuIG59ZnVuY3Rpb24gTmModCl7Y29uc3QgZT1wYXJzZUludCh0KTtpZihpc05hTihlKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW50ZWdlciBsaXRlcmFsIHdoZW4gcGFyc2luZyAiK3QpO3JldHVybiBlfWNsYXNzIFZje31sZXQgTGM9KCgpPT57Y2xhc3MgdCBleHRlbmRzIFZje2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5sb2NhbGU9dH1nZXRQbHVyYWxDYXRlZ29yeSh0LGUpe3N3aXRjaChmdW5jdGlvbih0KXtyZXR1cm4gS28odClbUW8uUGx1cmFsQ2FzZV19KGV8fHRoaXMubG9jYWxlKSh0KSl7Y2FzZSBKdS5aZXJvOnJldHVybiJ6ZXJvIjtjYXNlIEp1Lk9uZTpyZXR1cm4ib25lIjtjYXNlIEp1LlR3bzpyZXR1cm4idHdvIjtjYXNlIEp1LkZldzpyZXR1cm4iZmV3IjtjYXNlIEp1Lk1hbnk6cmV0dXJuIm1hbnkiO2RlZmF1bHQ6cmV0dXJuIm90aGVyIn19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKCRsKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7ZnVuY3Rpb24gQmModCxlKXtlPWVuY29kZVVSSUNvbXBvbmVudChlKTtmb3IoY29uc3QgbiBvZiB0LnNwbGl0KCI7Iikpe2NvbnN0IHQ9bi5pbmRleE9mKCI9IiksW3Isc109LTE9PXQ/W24sIiJdOltuLnNsaWNlKDAsdCksbi5zbGljZSh0KzEpXTtpZihyLnRyaW0oKT09PWUpcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzKX1yZXR1cm4gbnVsbH1sZXQgVWM9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbixyKXt0aGlzLl9pdGVyYWJsZURpZmZlcnM9dCx0aGlzLl9rZXlWYWx1ZURpZmZlcnM9ZSx0aGlzLl9uZ0VsPW4sdGhpcy5fcmVuZGVyZXI9cix0aGlzLl9pdGVyYWJsZURpZmZlcj1udWxsLHRoaXMuX2tleVZhbHVlRGlmZmVyPW51bGwsdGhpcy5faW5pdGlhbENsYXNzZXM9W10sdGhpcy5fcmF3Q2xhc3M9bnVsbH1zZXQga2xhc3ModCl7dGhpcy5fcmVtb3ZlQ2xhc3Nlcyh0aGlzLl9pbml0aWFsQ2xhc3NlcyksdGhpcy5faW5pdGlhbENsYXNzZXM9InN0cmluZyI9PXR5cGVvZiB0P3Quc3BsaXQoL1xzKy8pOltdLHRoaXMuX2FwcGx5Q2xhc3Nlcyh0aGlzLl9pbml0aWFsQ2xhc3NlcyksdGhpcy5fYXBwbHlDbGFzc2VzKHRoaXMuX3Jhd0NsYXNzKX1zZXQgbmdDbGFzcyh0KXt0aGlzLl9yZW1vdmVDbGFzc2VzKHRoaXMuX3Jhd0NsYXNzKSx0aGlzLl9hcHBseUNsYXNzZXModGhpcy5faW5pdGlhbENsYXNzZXMpLHRoaXMuX2l0ZXJhYmxlRGlmZmVyPW51bGwsdGhpcy5fa2V5VmFsdWVEaWZmZXI9bnVsbCx0aGlzLl9yYXdDbGFzcz0ic3RyaW5nIj09dHlwZW9mIHQ/dC5zcGxpdCgvXHMrLyk6dCx0aGlzLl9yYXdDbGFzcyYmKGVvKHRoaXMuX3Jhd0NsYXNzKT90aGlzLl9pdGVyYWJsZURpZmZlcj10aGlzLl9pdGVyYWJsZURpZmZlcnMuZmluZCh0aGlzLl9yYXdDbGFzcykuY3JlYXRlKCk6dGhpcy5fa2V5VmFsdWVEaWZmZXI9dGhpcy5fa2V5VmFsdWVEaWZmZXJzLmZpbmQodGhpcy5fcmF3Q2xhc3MpLmNyZWF0ZSgpKX1uZ0RvQ2hlY2soKXtpZih0aGlzLl9pdGVyYWJsZURpZmZlcil7Y29uc3QgdD10aGlzLl9pdGVyYWJsZURpZmZlci5kaWZmKHRoaXMuX3Jhd0NsYXNzKTt0JiZ0aGlzLl9hcHBseUl0ZXJhYmxlQ2hhbmdlcyh0KX1lbHNlIGlmKHRoaXMuX2tleVZhbHVlRGlmZmVyKXtjb25zdCB0PXRoaXMuX2tleVZhbHVlRGlmZmVyLmRpZmYodGhpcy5fcmF3Q2xhc3MpO3QmJnRoaXMuX2FwcGx5S2V5VmFsdWVDaGFuZ2VzKHQpfX1fYXBwbHlLZXlWYWx1ZUNoYW5nZXModCl7dC5mb3JFYWNoQWRkZWRJdGVtKHQ9PnRoaXMuX3RvZ2dsZUNsYXNzKHQua2V5LHQuY3VycmVudFZhbHVlKSksdC5mb3JFYWNoQ2hhbmdlZEl0ZW0odD0+dGhpcy5fdG9nZ2xlQ2xhc3ModC5rZXksdC5jdXJyZW50VmFsdWUpKSx0LmZvckVhY2hSZW1vdmVkSXRlbSh0PT57dC5wcmV2aW91c1ZhbHVlJiZ0aGlzLl90b2dnbGVDbGFzcyh0LmtleSwhMSl9KX1fYXBwbHlJdGVyYWJsZUNoYW5nZXModCl7dC5mb3JFYWNoQWRkZWRJdGVtKHQ9PntpZigic3RyaW5nIiE9dHlwZW9mIHQuaXRlbSl0aHJvdyBuZXcgRXJyb3IoYE5nQ2xhc3MgY2FuIG9ubHkgdG9nZ2xlIENTUyBjbGFzc2VzIGV4cHJlc3NlZCBhcyBzdHJpbmdzLCBnb3QgJHtldCh0Lml0ZW0pfWApO3RoaXMuX3RvZ2dsZUNsYXNzKHQuaXRlbSwhMCl9KSx0LmZvckVhY2hSZW1vdmVkSXRlbSh0PT50aGlzLl90b2dnbGVDbGFzcyh0Lml0ZW0sITEpKX1fYXBwbHlDbGFzc2VzKHQpe3QmJihBcnJheS5pc0FycmF5KHQpfHx0IGluc3RhbmNlb2YgU2V0P3QuZm9yRWFjaCh0PT50aGlzLl90b2dnbGVDbGFzcyh0LCEwKSk6T2JqZWN0LmtleXModCkuZm9yRWFjaChlPT50aGlzLl90b2dnbGVDbGFzcyhlLCEhdFtlXSkpKX1fcmVtb3ZlQ2xhc3Nlcyh0KXt0JiYoQXJyYXkuaXNBcnJheSh0KXx8dCBpbnN0YW5jZW9mIFNldD90LmZvckVhY2godD0+dGhpcy5fdG9nZ2xlQ2xhc3ModCwhMSkpOk9iamVjdC5rZXlzKHQpLmZvckVhY2godD0+dGhpcy5fdG9nZ2xlQ2xhc3ModCwhMSkpKX1fdG9nZ2xlQ2xhc3ModCxlKXsodD10LnRyaW0oKSkmJnQuc3BsaXQoL1xzKy9nKS5mb3JFYWNoKHQ9PntlP3RoaXMuX3JlbmRlcmVyLmFkZENsYXNzKHRoaXMuX25nRWwubmF0aXZlRWxlbWVudCx0KTp0aGlzLl9yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLl9uZ0VsLm5hdGl2ZUVsZW1lbnQsdCl9KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYW8oUmEpLGFvKGphKSxhbyhnYSksYW8odmEpKX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwibmdDbGFzcyIsIiJdXSxpbnB1dHM6e2tsYXNzOlsiY2xhc3MiLCJrbGFzcyJdLG5nQ2xhc3M6Im5nQ2xhc3MifX0pLHR9KSgpO2NsYXNzIEhje2NvbnN0cnVjdG9yKHQsZSxuLHIpe3RoaXMuJGltcGxpY2l0PXQsdGhpcy5uZ0Zvck9mPWUsdGhpcy5pbmRleD1uLHRoaXMuY291bnQ9cn1nZXQgZmlyc3QoKXtyZXR1cm4gMD09PXRoaXMuaW5kZXh9Z2V0IGxhc3QoKXtyZXR1cm4gdGhpcy5pbmRleD09PXRoaXMuY291bnQtMX1nZXQgZXZlbigpe3JldHVybiB0aGlzLmluZGV4JTI9PTB9Z2V0IG9kZCgpe3JldHVybiF0aGlzLmV2ZW59fWxldCAkYz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLl92aWV3Q29udGFpbmVyPXQsdGhpcy5fdGVtcGxhdGU9ZSx0aGlzLl9kaWZmZXJzPW4sdGhpcy5fbmdGb3JPZj1udWxsLHRoaXMuX25nRm9yT2ZEaXJ0eT0hMCx0aGlzLl9kaWZmZXI9bnVsbH1zZXQgbmdGb3JPZih0KXt0aGlzLl9uZ0Zvck9mPXQsdGhpcy5fbmdGb3JPZkRpcnR5PSEwfXNldCBuZ0ZvclRyYWNrQnkodCl7dGhpcy5fdHJhY2tCeUZuPXR9Z2V0IG5nRm9yVHJhY2tCeSgpe3JldHVybiB0aGlzLl90cmFja0J5Rm59c2V0IG5nRm9yVGVtcGxhdGUodCl7dCYmKHRoaXMuX3RlbXBsYXRlPXQpfW5nRG9DaGVjaygpe2lmKHRoaXMuX25nRm9yT2ZEaXJ0eSl7dGhpcy5fbmdGb3JPZkRpcnR5PSExO2NvbnN0IG49dGhpcy5fbmdGb3JPZjtpZighdGhpcy5fZGlmZmVyJiZuKXRyeXt0aGlzLl9kaWZmZXI9dGhpcy5fZGlmZmVycy5maW5kKG4pLmNyZWF0ZSh0aGlzLm5nRm9yVHJhY2tCeSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCBhIGRpZmZlciBzdXBwb3J0aW5nIG9iamVjdCAnJHtufScgb2YgdHlwZSAnJHt0PW4sdC5uYW1lfHx0eXBlb2YgdH0nLiBOZ0ZvciBvbmx5IHN1cHBvcnRzIGJpbmRpbmcgdG8gSXRlcmFibGVzIHN1Y2ggYXMgQXJyYXlzLmApfX12YXIgdDtpZih0aGlzLl9kaWZmZXIpe2NvbnN0IHQ9dGhpcy5fZGlmZmVyLmRpZmYodGhpcy5fbmdGb3JPZik7dCYmdGhpcy5fYXBwbHlDaGFuZ2VzKHQpfX1fYXBwbHlDaGFuZ2VzKHQpe2NvbnN0IGU9W107dC5mb3JFYWNoT3BlcmF0aW9uKCh0LG4scik9PntpZihudWxsPT10LnByZXZpb3VzSW5kZXgpe2NvbnN0IG49dGhpcy5fdmlld0NvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5fdGVtcGxhdGUsbmV3IEhjKG51bGwsdGhpcy5fbmdGb3JPZiwtMSwtMSksbnVsbD09PXI/dm9pZCAwOnIpLHM9bmV3IHpjKHQsbik7ZS5wdXNoKHMpfWVsc2UgaWYobnVsbD09cil0aGlzLl92aWV3Q29udGFpbmVyLnJlbW92ZShudWxsPT09bj92b2lkIDA6bik7ZWxzZSBpZihudWxsIT09bil7Y29uc3Qgcz10aGlzLl92aWV3Q29udGFpbmVyLmdldChuKTt0aGlzLl92aWV3Q29udGFpbmVyLm1vdmUocyxyKTtjb25zdCBpPW5ldyB6Yyh0LHMpO2UucHVzaChpKX19KTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl0aGlzLl9wZXJWaWV3Q2hhbmdlKGVbbl0udmlldyxlW25dLnJlY29yZCk7Zm9yKGxldCBuPTAscj10aGlzLl92aWV3Q29udGFpbmVyLmxlbmd0aDtuPHI7bisrKXtjb25zdCB0PXRoaXMuX3ZpZXdDb250YWluZXIuZ2V0KG4pO3QuY29udGV4dC5pbmRleD1uLHQuY29udGV4dC5jb3VudD1yLHQuY29udGV4dC5uZ0Zvck9mPXRoaXMuX25nRm9yT2Z9dC5mb3JFYWNoSWRlbnRpdHlDaGFuZ2UodD0+e3RoaXMuX3ZpZXdDb250YWluZXIuZ2V0KHQuY3VycmVudEluZGV4KS5jb250ZXh0LiRpbXBsaWNpdD10Lml0ZW19KX1fcGVyVmlld0NoYW5nZSh0LGUpe3QuY29udGV4dC4kaW1wbGljaXQ9ZS5pdGVtfXN0YXRpYyBuZ1RlbXBsYXRlQ29udGV4dEd1YXJkKHQsZSl7cmV0dXJuITB9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFvKEphKSxhbyhXYSksYW8oUmEpKX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwibmdGb3IiLCIiLCJuZ0Zvck9mIiwiIl1dLGlucHV0czp7bmdGb3JPZjoibmdGb3JPZiIsbmdGb3JUcmFja0J5OiJuZ0ZvclRyYWNrQnkiLG5nRm9yVGVtcGxhdGU6Im5nRm9yVGVtcGxhdGUifX0pLHR9KSgpO2NsYXNzIHpje2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5yZWNvcmQ9dCx0aGlzLnZpZXc9ZX19bGV0IHFjPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLl92aWV3Q29udGFpbmVyPXQsdGhpcy5fY29udGV4dD1uZXcgV2MsdGhpcy5fdGhlblRlbXBsYXRlUmVmPW51bGwsdGhpcy5fZWxzZVRlbXBsYXRlUmVmPW51bGwsdGhpcy5fdGhlblZpZXdSZWY9bnVsbCx0aGlzLl9lbHNlVmlld1JlZj1udWxsLHRoaXMuX3RoZW5UZW1wbGF0ZVJlZj1lfXNldCBuZ0lmKHQpe3RoaXMuX2NvbnRleHQuJGltcGxpY2l0PXRoaXMuX2NvbnRleHQubmdJZj10LHRoaXMuX3VwZGF0ZVZpZXcoKX1zZXQgbmdJZlRoZW4odCl7R2MoIm5nSWZUaGVuIix0KSx0aGlzLl90aGVuVGVtcGxhdGVSZWY9dCx0aGlzLl90aGVuVmlld1JlZj1udWxsLHRoaXMuX3VwZGF0ZVZpZXcoKX1zZXQgbmdJZkVsc2UodCl7R2MoIm5nSWZFbHNlIix0KSx0aGlzLl9lbHNlVGVtcGxhdGVSZWY9dCx0aGlzLl9lbHNlVmlld1JlZj1udWxsLHRoaXMuX3VwZGF0ZVZpZXcoKX1fdXBkYXRlVmlldygpe3RoaXMuX2NvbnRleHQuJGltcGxpY2l0P3RoaXMuX3RoZW5WaWV3UmVmfHwodGhpcy5fdmlld0NvbnRhaW5lci5jbGVhcigpLHRoaXMuX2Vsc2VWaWV3UmVmPW51bGwsdGhpcy5fdGhlblRlbXBsYXRlUmVmJiYodGhpcy5fdGhlblZpZXdSZWY9dGhpcy5fdmlld0NvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5fdGhlblRlbXBsYXRlUmVmLHRoaXMuX2NvbnRleHQpKSk6dGhpcy5fZWxzZVZpZXdSZWZ8fCh0aGlzLl92aWV3Q29udGFpbmVyLmNsZWFyKCksdGhpcy5fdGhlblZpZXdSZWY9bnVsbCx0aGlzLl9lbHNlVGVtcGxhdGVSZWYmJih0aGlzLl9lbHNlVmlld1JlZj10aGlzLl92aWV3Q29udGFpbmVyLmNyZWF0ZUVtYmVkZGVkVmlldyh0aGlzLl9lbHNlVGVtcGxhdGVSZWYsdGhpcy5fY29udGV4dCkpKX1zdGF0aWMgbmdUZW1wbGF0ZUNvbnRleHRHdWFyZCh0LGUpe3JldHVybiEwfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhbyhKYSksYW8oV2EpKX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwibmdJZiIsIiJdXSxpbnB1dHM6e25nSWY6Im5nSWYiLG5nSWZUaGVuOiJuZ0lmVGhlbiIsbmdJZkVsc2U6Im5nSWZFbHNlIn19KSx0fSkoKTtjbGFzcyBXY3tjb25zdHJ1Y3Rvcigpe3RoaXMuJGltcGxpY2l0PW51bGwsdGhpcy5uZ0lmPW51bGx9fWZ1bmN0aW9uIEdjKHQsZSl7aWYoZSYmIWUuY3JlYXRlRW1iZWRkZWRWaWV3KXRocm93IG5ldyBFcnJvcihgJHt0fSBtdXN0IGJlIGEgVGVtcGxhdGVSZWYsIGJ1dCByZWNlaXZlZCAnJHtldChlKX0nLmApfWxldCBaYz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuX3ZpZXdDb250YWluZXJSZWY9dCx0aGlzLl92aWV3UmVmPW51bGwsdGhpcy5uZ1RlbXBsYXRlT3V0bGV0Q29udGV4dD1udWxsLHRoaXMubmdUZW1wbGF0ZU91dGxldD1udWxsfW5nT25DaGFuZ2VzKHQpe2lmKHQubmdUZW1wbGF0ZU91dGxldCl7Y29uc3QgdD10aGlzLl92aWV3Q29udGFpbmVyUmVmO3RoaXMuX3ZpZXdSZWYmJnQucmVtb3ZlKHQuaW5kZXhPZih0aGlzLl92aWV3UmVmKSksdGhpcy5fdmlld1JlZj10aGlzLm5nVGVtcGxhdGVPdXRsZXQ/dC5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5uZ1RlbXBsYXRlT3V0bGV0LHRoaXMubmdUZW1wbGF0ZU91dGxldENvbnRleHQpOm51bGx9ZWxzZSB0aGlzLl92aWV3UmVmJiZ0Lm5nVGVtcGxhdGVPdXRsZXRDb250ZXh0JiZ0aGlzLm5nVGVtcGxhdGVPdXRsZXRDb250ZXh0JiYodGhpcy5fdmlld1JlZi5jb250ZXh0PXRoaXMubmdUZW1wbGF0ZU91dGxldENvbnRleHQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhbyhKYSkpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0LHNlbGVjdG9yczpbWyIiLCJuZ1RlbXBsYXRlT3V0bGV0IiwiIl1dLGlucHV0czp7bmdUZW1wbGF0ZU91dGxldENvbnRleHQ6Im5nVGVtcGxhdGVPdXRsZXRDb250ZXh0IixuZ1RlbXBsYXRlT3V0bGV0OiJuZ1RlbXBsYXRlT3V0bGV0In0sZmVhdHVyZXM6W2xlXX0pLHR9KSgpO2Z1bmN0aW9uIEtjKHQsZSl7cmV0dXJuIEVycm9yKGBJbnZhbGlkUGlwZUFyZ3VtZW50OiAnJHtlfScgZm9yIHBpcGUgJyR7ZXQodCl9J2ApfWNvbnN0IFljPS8oPzpbQS1aYS16XHhBQVx4QjVceEJBXHhDMC1ceEQ2XHhEOC1ceEY2XHhGOC1cdTAyQzFcdTAyQzYtXHUwMkQxXHUwMkUwLVx1MDJFNFx1MDJFQ1x1MDJFRVx1MDM3MC1cdTAzNzRcdTAzNzZcdTAzNzdcdTAzN0EtXHUwMzdEXHUwMzdGXHUwMzg2XHUwMzg4LVx1MDM4QVx1MDM4Q1x1MDM4RS1cdTAzQTFcdTAzQTMtXHUwM0Y1XHUwM0Y3LVx1MDQ4MVx1MDQ4QS1cdTA1MkZcdTA1MzEtXHUwNTU2XHUwNTU5XHUwNTYxLVx1MDU4N1x1MDVEMC1cdTA1RUFcdTA1RjAtXHUwNUYyXHUwNjIwLVx1MDY0QVx1MDY2RVx1MDY2Rlx1MDY3MS1cdTA2RDNcdTA2RDVcdTA2RTVcdTA2RTZcdTA2RUVcdTA2RUZcdTA2RkEtXHUwNkZDXHUwNkZGXHUwNzEwXHUwNzEyLVx1MDcyRlx1MDc0RC1cdTA3QTVcdTA3QjFcdTA3Q0EtXHUwN0VBXHUwN0Y0XHUwN0Y1XHUwN0ZBXHUwODAwLVx1MDgxNVx1MDgxQVx1MDgyNFx1MDgyOFx1MDg0MC1cdTA4NThcdTA4NjAtXHUwODZBXHUwOEEwLVx1MDhCNFx1MDhCNi1cdTA4QkRcdTA5MDQtXHUwOTM5XHUwOTNEXHUwOTUwXHUwOTU4LVx1MDk2MVx1MDk3MS1cdTA5ODBcdTA5ODUtXHUwOThDXHUwOThGXHUwOTkwXHUwOTkzLVx1MDlBOFx1MDlBQS1cdTA5QjBcdTA5QjJcdTA5QjYtXHUwOUI5XHUwOUJEXHUwOUNFXHUwOURDXHUwOUREXHUwOURGLVx1MDlFMVx1MDlGMFx1MDlGMVx1MDlGQ1x1MEEwNS1cdTBBMEFcdTBBMEZcdTBBMTBcdTBBMTMtXHUwQTI4XHUwQTJBLVx1MEEzMFx1MEEzMlx1MEEzM1x1MEEzNVx1MEEzNlx1MEEzOFx1MEEzOVx1MEE1OS1cdTBBNUNcdTBBNUVcdTBBNzItXHUwQTc0XHUwQTg1LVx1MEE4RFx1MEE4Ri1cdTBBOTFcdTBBOTMtXHUwQUE4XHUwQUFBLVx1MEFCMFx1MEFCMlx1MEFCM1x1MEFCNS1cdTBBQjlcdTBBQkRcdTBBRDBcdTBBRTBcdTBBRTFcdTBBRjlcdTBCMDUtXHUwQjBDXHUwQjBGXHUwQjEwXHUwQjEzLVx1MEIyOFx1MEIyQS1cdTBCMzBcdTBCMzJcdTBCMzNcdTBCMzUtXHUwQjM5XHUwQjNEXHUwQjVDXHUwQjVEXHUwQjVGLVx1MEI2MVx1MEI3MVx1MEI4M1x1MEI4NS1cdTBCOEFcdTBCOEUtXHUwQjkwXHUwQjkyLVx1MEI5NVx1MEI5OVx1MEI5QVx1MEI5Q1x1MEI5RVx1MEI5Rlx1MEJBM1x1MEJBNFx1MEJBOC1cdTBCQUFcdTBCQUUtXHUwQkI5XHUwQkQwXHUwQzA1LVx1MEMwQ1x1MEMwRS1cdTBDMTBcdTBDMTItXHUwQzI4XHUwQzJBLVx1MEMzOVx1MEMzRFx1MEM1OC1cdTBDNUFcdTBDNjBcdTBDNjFcdTBDODBcdTBDODUtXHUwQzhDXHUwQzhFLVx1MEM5MFx1MEM5Mi1cdTBDQThcdTBDQUEtXHUwQ0IzXHUwQ0I1LVx1MENCOVx1MENCRFx1MENERVx1MENFMFx1MENFMVx1MENGMVx1MENGMlx1MEQwNS1cdTBEMENcdTBEMEUtXHUwRDEwXHUwRDEyLVx1MEQzQVx1MEQzRFx1MEQ0RVx1MEQ1NC1cdTBENTZcdTBENUYtXHUwRDYxXHUwRDdBLVx1MEQ3Rlx1MEQ4NS1cdTBEOTZcdTBEOUEtXHUwREIxXHUwREIzLVx1MERCQlx1MERCRFx1MERDMC1cdTBEQzZcdTBFMDEtXHUwRTMwXHUwRTMyXHUwRTMzXHUwRTQwLVx1MEU0Nlx1MEU4MVx1MEU4Mlx1MEU4NFx1MEU4N1x1MEU4OFx1MEU4QVx1MEU4RFx1MEU5NC1cdTBFOTdcdTBFOTktXHUwRTlGXHUwRUExLVx1MEVBM1x1MEVBNVx1MEVBN1x1MEVBQVx1MEVBQlx1MEVBRC1cdTBFQjBcdTBFQjJcdTBFQjNcdTBFQkRcdTBFQzAtXHUwRUM0XHUwRUM2XHUwRURDLVx1MEVERlx1MEYwMFx1MEY0MC1cdTBGNDdcdTBGNDktXHUwRjZDXHUwRjg4LVx1MEY4Q1x1MTAwMC1cdTEwMkFcdTEwM0ZcdTEwNTAtXHUxMDU1XHUxMDVBLVx1MTA1RFx1MTA2MVx1MTA2NVx1MTA2Nlx1MTA2RS1cdTEwNzBcdTEwNzUtXHUxMDgxXHUxMDhFXHUxMEEwLVx1MTBDNVx1MTBDN1x1MTBDRFx1MTBEMC1cdTEwRkFcdTEwRkMtXHUxMjQ4XHUxMjRBLVx1MTI0RFx1MTI1MC1cdTEyNTZcdTEyNThcdTEyNUEtXHUxMjVEXHUxMjYwLVx1MTI4OFx1MTI4QS1cdTEyOERcdTEyOTAtXHUxMkIwXHUxMkIyLVx1MTJCNVx1MTJCOC1cdTEyQkVcdTEyQzBcdTEyQzItXHUxMkM1XHUxMkM4LVx1MTJENlx1MTJEOC1cdTEzMTBcdTEzMTItXHUxMzE1XHUxMzE4LVx1MTM1QVx1MTM4MC1cdTEzOEZcdTEzQTAtXHUxM0Y1XHUxM0Y4LVx1MTNGRFx1MTQwMS1cdTE2NkNcdTE2NkYtXHUxNjdGXHUxNjgxLVx1MTY5QVx1MTZBMC1cdTE2RUFcdTE2RjEtXHUxNkY4XHUxNzAwLVx1MTcwQ1x1MTcwRS1cdTE3MTFcdTE3MjAtXHUxNzMxXHUxNzQwLVx1MTc1MVx1MTc2MC1cdTE3NkNcdTE3NkUtXHUxNzcwXHUxNzgwLVx1MTdCM1x1MTdEN1x1MTdEQ1x1MTgyMC1cdTE4NzdcdTE4ODAtXHUxODg0XHUxODg3LVx1MThBOFx1MThBQVx1MThCMC1cdTE4RjVcdTE5MDAtXHUxOTFFXHUxOTUwLVx1MTk2RFx1MTk3MC1cdTE5NzRcdTE5ODAtXHUxOUFCXHUxOUIwLVx1MTlDOVx1MUEwMC1cdTFBMTZcdTFBMjAtXHUxQTU0XHUxQUE3XHUxQjA1LVx1MUIzM1x1MUI0NS1cdTFCNEJcdTFCODMtXHUxQkEwXHUxQkFFXHUxQkFGXHUxQkJBLVx1MUJFNVx1MUMwMC1cdTFDMjNcdTFDNEQtXHUxQzRGXHUxQzVBLVx1MUM3RFx1MUM4MC1cdTFDODhcdTFDRTktXHUxQ0VDXHUxQ0VFLVx1MUNGMVx1MUNGNVx1MUNGNlx1MUQwMC1cdTFEQkZcdTFFMDAtXHUxRjE1XHUxRjE4LVx1MUYxRFx1MUYyMC1cdTFGNDVcdTFGNDgtXHUxRjREXHUxRjUwLVx1MUY1N1x1MUY1OVx1MUY1Qlx1MUY1RFx1MUY1Ri1cdTFGN0RcdTFGODAtXHUxRkI0XHUxRkI2LVx1MUZCQ1x1MUZCRVx1MUZDMi1cdTFGQzRcdTFGQzYtXHUxRkNDXHUxRkQwLVx1MUZEM1x1MUZENi1cdTFGREJcdTFGRTAtXHUxRkVDXHUxRkYyLVx1MUZGNFx1MUZGNi1cdTFGRkNcdTIwNzFcdTIwN0ZcdTIwOTAtXHUyMDlDXHUyMTAyXHUyMTA3XHUyMTBBLVx1MjExM1x1MjExNVx1MjExOS1cdTIxMURcdTIxMjRcdTIxMjZcdTIxMjhcdTIxMkEtXHUyMTJEXHUyMTJGLVx1MjEzOVx1MjEzQy1cdTIxM0ZcdTIxNDUtXHUyMTQ5XHUyMTRFXHUyMTgzXHUyMTg0XHUyQzAwLVx1MkMyRVx1MkMzMC1cdTJDNUVcdTJDNjAtXHUyQ0U0XHUyQ0VCLVx1MkNFRVx1MkNGMlx1MkNGM1x1MkQwMC1cdTJEMjVcdTJEMjdcdTJEMkRcdTJEMzAtXHUyRDY3XHUyRDZGXHUyRDgwLVx1MkQ5Nlx1MkRBMC1cdTJEQTZcdTJEQTgtXHUyREFFXHUyREIwLVx1MkRCNlx1MkRCOC1cdTJEQkVcdTJEQzAtXHUyREM2XHUyREM4LVx1MkRDRVx1MkREMC1cdTJERDZcdTJERDgtXHUyRERFXHUyRTJGXHUzMDA1XHUzMDA2XHUzMDMxLVx1MzAzNVx1MzAzQlx1MzAzQ1x1MzA0MS1cdTMwOTZcdTMwOUQtXHUzMDlGXHUzMEExLVx1MzBGQVx1MzBGQy1cdTMwRkZcdTMxMDUtXHUzMTJFXHUzMTMxLVx1MzE4RVx1MzFBMC1cdTMxQkFcdTMxRjAtXHUzMUZGXHUzNDAwLVx1NERCNVx1NEUwMC1cdTlGRUFcdUEwMDAtXHVBNDhDXHVBNEQwLVx1QTRGRFx1QTUwMC1cdUE2MENcdUE2MTAtXHVBNjFGXHVBNjJBXHVBNjJCXHVBNjQwLVx1QTY2RVx1QTY3Ri1cdUE2OURcdUE2QTAtXHVBNkU1XHVBNzE3LVx1QTcxRlx1QTcyMi1cdUE3ODhcdUE3OEItXHVBN0FFXHVBN0IwLVx1QTdCN1x1QTdGNy1cdUE4MDFcdUE4MDMtXHVBODA1XHVBODA3LVx1QTgwQVx1QTgwQy1cdUE4MjJcdUE4NDAtXHVBODczXHVBODgyLVx1QThCM1x1QThGMi1cdUE4RjdcdUE4RkJcdUE4RkRcdUE5MEEtXHVBOTI1XHVBOTMwLVx1QTk0Nlx1QTk2MC1cdUE5N0NcdUE5ODQtXHVBOUIyXHVBOUNGXHVBOUUwLVx1QTlFNFx1QTlFNi1cdUE5RUZcdUE5RkEtXHVBOUZFXHVBQTAwLVx1QUEyOFx1QUE0MC1cdUFBNDJcdUFBNDQtXHVBQTRCXHVBQTYwLVx1QUE3Nlx1QUE3QVx1QUE3RS1cdUFBQUZcdUFBQjFcdUFBQjVcdUFBQjZcdUFBQjktXHVBQUJEXHVBQUMwXHVBQUMyXHVBQURCLVx1QUFERFx1QUFFMC1cdUFBRUFcdUFBRjItXHVBQUY0XHVBQjAxLVx1QUIwNlx1QUIwOS1cdUFCMEVcdUFCMTEtXHVBQjE2XHVBQjIwLVx1QUIyNlx1QUIyOC1cdUFCMkVcdUFCMzAtXHVBQjVBXHVBQjVDLVx1QUI2NVx1QUI3MC1cdUFCRTJcdUFDMDAtXHVEN0EzXHVEN0IwLVx1RDdDNlx1RDdDQi1cdUQ3RkJcdUY5MDAtXHVGQTZEXHVGQTcwLVx1RkFEOVx1RkIwMC1cdUZCMDZcdUZCMTMtXHVGQjE3XHVGQjFEXHVGQjFGLVx1RkIyOFx1RkIyQS1cdUZCMzZcdUZCMzgtXHVGQjNDXHVGQjNFXHVGQjQwXHVGQjQxXHVGQjQzXHVGQjQ0XHVGQjQ2LVx1RkJCMVx1RkJEMy1cdUZEM0RcdUZENTAtXHVGRDhGXHVGRDkyLVx1RkRDN1x1RkRGMC1cdUZERkJcdUZFNzAtXHVGRTc0XHVGRTc2LVx1RkVGQ1x1RkYyMS1cdUZGM0FcdUZGNDEtXHVGRjVBXHVGRjY2LVx1RkZCRVx1RkZDMi1cdUZGQzdcdUZGQ0EtXHVGRkNGXHVGRkQyLVx1RkZEN1x1RkZEQS1cdUZGRENdfFx1RDgwMFtcdURDMDAtXHVEQzBCXHVEQzBELVx1REMyNlx1REMyOC1cdURDM0FcdURDM0NcdURDM0RcdURDM0YtXHVEQzREXHVEQzUwLVx1REM1RFx1REM4MC1cdURDRkFcdURFODAtXHVERTlDXHVERUEwLVx1REVEMFx1REYwMC1cdURGMUZcdURGMkQtXHVERjQwXHVERjQyLVx1REY0OVx1REY1MC1cdURGNzVcdURGODAtXHVERjlEXHVERkEwLVx1REZDM1x1REZDOC1cdURGQ0ZdfFx1RDgwMVtcdURDMDAtXHVEQzlEXHVEQ0IwLVx1RENEM1x1RENEOC1cdURDRkJcdUREMDAtXHVERDI3XHVERDMwLVx1REQ2M1x1REUwMC1cdURGMzZcdURGNDAtXHVERjU1XHVERjYwLVx1REY2N118XHVEODAyW1x1REMwMC1cdURDMDVcdURDMDhcdURDMEEtXHVEQzM1XHVEQzM3XHVEQzM4XHVEQzNDXHVEQzNGLVx1REM1NVx1REM2MC1cdURDNzZcdURDODAtXHVEQzlFXHVEQ0UwLVx1RENGMlx1RENGNFx1RENGNVx1REQwMC1cdUREMTVcdUREMjAtXHVERDM5XHVERDgwLVx1RERCN1x1RERCRVx1RERCRlx1REUwMFx1REUxMC1cdURFMTNcdURFMTUtXHVERTE3XHVERTE5LVx1REUzM1x1REU2MC1cdURFN0NcdURFODAtXHVERTlDXHVERUMwLVx1REVDN1x1REVDOS1cdURFRTRcdURGMDAtXHVERjM1XHVERjQwLVx1REY1NVx1REY2MC1cdURGNzJcdURGODAtXHVERjkxXXxcdUQ4MDNbXHVEQzAwLVx1REM0OFx1REM4MC1cdURDQjJcdURDQzAtXHVEQ0YyXXxcdUQ4MDRbXHVEQzAzLVx1REMzN1x1REM4My1cdURDQUZcdURDRDAtXHVEQ0U4XHVERDAzLVx1REQyNlx1REQ1MC1cdURENzJcdURENzZcdUREODMtXHVEREIyXHVEREMxLVx1RERDNFx1REREQVx1REREQ1x1REUwMC1cdURFMTFcdURFMTMtXHVERTJCXHVERTgwLVx1REU4Nlx1REU4OFx1REU4QS1cdURFOERcdURFOEYtXHVERTlEXHVERTlGLVx1REVBOFx1REVCMC1cdURFREVcdURGMDUtXHVERjBDXHVERjBGXHVERjEwXHVERjEzLVx1REYyOFx1REYyQS1cdURGMzBcdURGMzJcdURGMzNcdURGMzUtXHVERjM5XHVERjNEXHVERjUwXHVERjVELVx1REY2MV18XHVEODA1W1x1REMwMC1cdURDMzRcdURDNDctXHVEQzRBXHVEQzgwLVx1RENBRlx1RENDNFx1RENDNVx1RENDN1x1REQ4MC1cdUREQUVcdURERDgtXHVERERCXHVERTAwLVx1REUyRlx1REU0NFx1REU4MC1cdURFQUFcdURGMDAtXHVERjE5XXxcdUQ4MDZbXHVEQ0EwLVx1RENERlx1RENGRlx1REUwMFx1REUwQi1cdURFMzJcdURFM0FcdURFNTBcdURFNUMtXHVERTgzXHVERTg2LVx1REU4OVx1REVDMC1cdURFRjhdfFx1RDgwN1tcdURDMDAtXHVEQzA4XHVEQzBBLVx1REMyRVx1REM0MFx1REM3Mi1cdURDOEZcdUREMDAtXHVERDA2XHVERDA4XHVERDA5XHVERDBCLVx1REQzMFx1REQ0Nl18XHVEODA4W1x1REMwMC1cdURGOTldfFx1RDgwOVtcdURDODAtXHVERDQzXXxbXHVEODBDXHVEODFDLVx1RDgyMFx1RDg0MC1cdUQ4NjhcdUQ4NkEtXHVEODZDXHVEODZGLVx1RDg3Mlx1RDg3NC1cdUQ4NzldW1x1REMwMC1cdURGRkZdfFx1RDgwRFtcdURDMDAtXHVEQzJFXXxcdUQ4MTFbXHVEQzAwLVx1REU0Nl18XHVEODFBW1x1REMwMC1cdURFMzhcdURFNDAtXHVERTVFXHVERUQwLVx1REVFRFx1REYwMC1cdURGMkZcdURGNDAtXHVERjQzXHVERjYzLVx1REY3N1x1REY3RC1cdURGOEZdfFx1RDgxQltcdURGMDAtXHVERjQ0XHVERjUwXHVERjkzLVx1REY5Rlx1REZFMFx1REZFMV18XHVEODIxW1x1REMwMC1cdURGRUNdfFx1RDgyMltcdURDMDAtXHVERUYyXXxcdUQ4MkNbXHVEQzAwLVx1REQxRVx1REQ3MC1cdURFRkJdfFx1RDgyRltcdURDMDAtXHVEQzZBXHVEQzcwLVx1REM3Q1x1REM4MC1cdURDODhcdURDOTAtXHVEQzk5XXxcdUQ4MzVbXHVEQzAwLVx1REM1NFx1REM1Ni1cdURDOUNcdURDOUVcdURDOUZcdURDQTJcdURDQTVcdURDQTZcdURDQTktXHVEQ0FDXHVEQ0FFLVx1RENCOVx1RENCQlx1RENCRC1cdURDQzNcdURDQzUtXHVERDA1XHVERDA3LVx1REQwQVx1REQwRC1cdUREMTRcdUREMTYtXHVERDFDXHVERDFFLVx1REQzOVx1REQzQi1cdUREM0VcdURENDAtXHVERDQ0XHVERDQ2XHVERDRBLVx1REQ1MFx1REQ1Mi1cdURFQTVcdURFQTgtXHVERUMwXHVERUMyLVx1REVEQVx1REVEQy1cdURFRkFcdURFRkMtXHVERjE0XHVERjE2LVx1REYzNFx1REYzNi1cdURGNEVcdURGNTAtXHVERjZFXHVERjcwLVx1REY4OFx1REY4QS1cdURGQThcdURGQUEtXHVERkMyXHVERkM0LVx1REZDQl18XHVEODNBW1x1REMwMC1cdURDQzRcdUREMDAtXHVERDQzXXxcdUQ4M0JbXHVERTAwLVx1REUwM1x1REUwNS1cdURFMUZcdURFMjFcdURFMjJcdURFMjRcdURFMjdcdURFMjktXHVERTMyXHVERTM0LVx1REUzN1x1REUzOVx1REUzQlx1REU0Mlx1REU0N1x1REU0OVx1REU0Qlx1REU0RC1cdURFNEZcdURFNTFcdURFNTJcdURFNTRcdURFNTdcdURFNTlcdURFNUJcdURFNURcdURFNUZcdURFNjFcdURFNjJcdURFNjRcdURFNjctXHVERTZBXHVERTZDLVx1REU3Mlx1REU3NC1cdURFNzdcdURFNzktXHVERTdDXHVERTdFXHVERTgwLVx1REU4OVx1REU4Qi1cdURFOUJcdURFQTEtXHVERUEzXHVERUE1LVx1REVBOVx1REVBQi1cdURFQkJdfFx1RDg2OVtcdURDMDAtXHVERUQ2XHVERjAwLVx1REZGRl18XHVEODZEW1x1REMwMC1cdURGMzRcdURGNDAtXHVERkZGXXxcdUQ4NkVbXHVEQzAwLVx1REMxRFx1REMyMC1cdURGRkZdfFx1RDg3M1tcdURDMDAtXHVERUExXHVERUIwLVx1REZGRl18XHVEODdBW1x1REMwMC1cdURGRTBdfFx1RDg3RVtcdURDMDAtXHVERTFEXSlcUyovZztsZXQgUWM9KCgpPT57Y2xhc3MgdHt0cmFuc2Zvcm0oZSl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgS2ModCxlKTtyZXR1cm4gZS5yZXBsYWNlKFljLHQ9PnRbMF0udG9VcHBlckNhc2UoKSt0LnN1YnN0cigxKS50b0xvd2VyQ2FzZSgpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cGlwZT1LdCh7bmFtZToidGl0bGVjYXNlIix0eXBlOnQscHVyZTohMH0pLHR9KSgpLFhjPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5sb2NhbGU9dH10cmFuc2Zvcm0oZSxuPSJtZWRpdW1EYXRlIixyLHMpe2lmKG51bGw9PWV8fCIiPT09ZXx8ZSE9ZSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIHZjKGUsbixzfHx0aGlzLmxvY2FsZSxyKX1jYXRjaChpKXt0aHJvdyBLYyh0LGkubWVzc2FnZSl9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhbygkbCwxNikpfSx0Llx1MDI3NXBpcGU9S3Qoe25hbWU6ImRhdGUiLHR5cGU6dCxwdXJlOiEwfSksdH0pKCksSmM9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9sb2NhbGU9dH10cmFuc2Zvcm0oZSxuLHIpe2lmKCFlaChlKSlyZXR1cm4gbnVsbDtyPXJ8fHRoaXMuX2xvY2FsZTt0cnl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gTWModCxqYyhsYyhlLFh1LkRlY2ltYWwpLGFjKGUscmMuTWludXNTaWduKSksZSxyYy5Hcm91cCxyYy5EZWNpbWFsLG4pfShuaChlKSxyLG4pfWNhdGNoKHMpe3Rocm93IEtjKHQscy5tZXNzYWdlKX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFvKCRsLDE2KSl9LHQuXHUwMjc1cGlwZT1LdCh7bmFtZToibnVtYmVyIix0eXBlOnQscHVyZTohMH0pLHR9KSgpLHRoPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlPSJVU0QiKXt0aGlzLl9sb2NhbGU9dCx0aGlzLl9kZWZhdWx0Q3VycmVuY3lDb2RlPWV9dHJhbnNmb3JtKGUsbixyPSJzeW1ib2wiLHMsaSl7aWYoIWVoKGUpKXJldHVybiBudWxsO2k9aXx8dGhpcy5fbG9jYWxlLCJib29sZWFuIj09dHlwZW9mIHImJihyPXI/InN5bWJvbCI6ImNvZGUiKTtsZXQgbz1ufHx0aGlzLl9kZWZhdWx0Q3VycmVuY3lDb2RlOyJjb2RlIiE9PXImJihvPSJzeW1ib2wiPT09cnx8InN5bWJvbC1uYXJyb3ciPT09cj9mdW5jdGlvbih0LGUsbj0iZW4iKXtjb25zdCByPWZ1bmN0aW9uKHQpe3JldHVybiBLbyh0KVtRby5DdXJyZW5jaWVzXX0obilbdF18fFF1W3RdfHxbXSxzPXJbMV07cmV0dXJuIm5hcnJvdyI9PT1lJiYic3RyaW5nIj09dHlwZW9mIHM/czpyWzBdfHx0fShvLCJzeW1ib2wiPT09cj8id2lkZSI6Im5hcnJvdyIsaSk6cik7dHJ5e3JldHVybiBmdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9amMobGMoZSxYdS5DdXJyZW5jeSksYWMoZSxyYy5NaW51c1NpZ24pKTtyZXR1cm4gaS5taW5GcmFjPWZ1bmN0aW9uKHQpe2xldCBlO2NvbnN0IG49UXVbdF07cmV0dXJuIG4mJihlPW5bMl0pLCJudW1iZXIiPT10eXBlb2YgZT9lOjJ9KHIpLGkubWF4RnJhYz1pLm1pbkZyYWMsTWModCxpLGUscmMuQ3VycmVuY3lHcm91cCxyYy5DdXJyZW5jeURlY2ltYWwscykucmVwbGFjZSgiXHhhNCIsbikucmVwbGFjZSgiXHhhNCIsIiIpLnRyaW0oKX0obmgoZSksaSxvLG4scyl9Y2F0Y2goYSl7dGhyb3cgS2ModCxhLm1lc3NhZ2UpfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYW8oJGwsMTYpLGFvKHpsLDE2KSl9LHQuXHUwMjc1cGlwZT1LdCh7bmFtZToiY3VycmVuY3kiLHR5cGU6dCxwdXJlOiEwfSksdH0pKCk7ZnVuY3Rpb24gZWgodCl7cmV0dXJuIShudWxsPT10fHwiIj09PXR8fHQhPXQpfWZ1bmN0aW9uIG5oKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdCYmIWlzTmFOKE51bWJlcih0KS1wYXJzZUZsb2F0KHQpKSlyZXR1cm4gTnVtYmVyKHQpO2lmKCJudW1iZXIiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoYCR7dH0gaXMgbm90IGEgbnVtYmVyYCk7cmV0dXJuIHR9bGV0IHJoPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbe3Byb3ZpZGU6VmMsdXNlQ2xhc3M6TGN9XX0pLHR9KSgpLHNoPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQscHJvdmlkZWRJbjoicm9vdCIsZmFjdG9yeTooKT0+bmV3IGloKG9yKEl1KSx3aW5kb3cpfSksdH0pKCk7Y2xhc3MgaWh7Y29uc3RydWN0b3IodCxlKXt0aGlzLmRvY3VtZW50PXQsdGhpcy53aW5kb3c9ZSx0aGlzLm9mZnNldD0oKT0+WzAsMF19c2V0T2Zmc2V0KHQpe3RoaXMub2Zmc2V0PUFycmF5LmlzQXJyYXkodCk/KCk9PnQ6dH1nZXRTY3JvbGxQb3NpdGlvbigpe3JldHVybiB0aGlzLnN1cHBvcnRzU2Nyb2xsaW5nKCk/W3RoaXMud2luZG93LnBhZ2VYT2Zmc2V0LHRoaXMud2luZG93LnBhZ2VZT2Zmc2V0XTpbMCwwXX1zY3JvbGxUb1Bvc2l0aW9uKHQpe3RoaXMuc3VwcG9ydHNTY3JvbGxpbmcoKSYmdGhpcy53aW5kb3cuc2Nyb2xsVG8odFswXSx0WzFdKX1zY3JvbGxUb0FuY2hvcih0KXtpZighdGhpcy5zdXBwb3J0c1Njcm9sbGluZygpKXJldHVybjtjb25zdCBlPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmdldEVsZW1lbnRCeUlkKGUpfHx0LmdldEVsZW1lbnRzQnlOYW1lKGUpWzBdO2lmKG4pcmV0dXJuIG47aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQuY3JlYXRlVHJlZVdhbGtlciYmdC5ib2R5JiYodC5ib2R5LmNyZWF0ZVNoYWRvd1Jvb3R8fHQuYm9keS5hdHRhY2hTaGFkb3cpKXtjb25zdCBuPXQuY3JlYXRlVHJlZVdhbGtlcih0LmJvZHksTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQpO2xldCByPW4uY3VycmVudE5vZGU7Zm9yKDtyOyl7Y29uc3QgdD1yLnNoYWRvd1Jvb3Q7aWYodCl7Y29uc3Qgbj10LmdldEVsZW1lbnRCeUlkKGUpfHx0LnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPSIke2V9Il1gKTtpZihuKXJldHVybiBufXI9bi5uZXh0Tm9kZSgpfX1yZXR1cm4gbnVsbH0odGhpcy5kb2N1bWVudCx0KTtlJiYodGhpcy5zY3JvbGxUb0VsZW1lbnQoZSksdGhpcy5hdHRlbXB0Rm9jdXMoZSkpfXNldEhpc3RvcnlTY3JvbGxSZXN0b3JhdGlvbih0KXtpZih0aGlzLnN1cHBvcnRTY3JvbGxSZXN0b3JhdGlvbigpKXtjb25zdCBlPXRoaXMud2luZG93Lmhpc3Rvcnk7ZSYmZS5zY3JvbGxSZXN0b3JhdGlvbiYmKGUuc2Nyb2xsUmVzdG9yYXRpb249dCl9fXNjcm9sbFRvRWxlbWVudCh0KXtjb25zdCBlPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1lLmxlZnQrdGhpcy53aW5kb3cucGFnZVhPZmZzZXQscj1lLnRvcCt0aGlzLndpbmRvdy5wYWdlWU9mZnNldCxzPXRoaXMub2Zmc2V0KCk7dGhpcy53aW5kb3cuc2Nyb2xsVG8obi1zWzBdLHItc1sxXSl9YXR0ZW1wdEZvY3VzKHQpe3JldHVybiB0LmZvY3VzKCksdGhpcy5kb2N1bWVudC5hY3RpdmVFbGVtZW50PT09dH1zdXBwb3J0U2Nyb2xsUmVzdG9yYXRpb24oKXt0cnl7aWYoIXRoaXMuc3VwcG9ydHNTY3JvbGxpbmcoKSlyZXR1cm4hMTtjb25zdCB0PW9oKHRoaXMud2luZG93Lmhpc3RvcnkpfHxvaChPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcy53aW5kb3cuaGlzdG9yeSkpO3JldHVybiEoIXR8fCF0LndyaXRhYmxlJiYhdC5zZXQpfWNhdGNoKHQpe3JldHVybiExfX1zdXBwb3J0c1Njcm9sbGluZygpe3RyeXtyZXR1cm4hIXRoaXMud2luZG93JiYhIXRoaXMud2luZG93LnNjcm9sbFRvJiYicGFnZVhPZmZzZXQiaW4gdGhpcy53aW5kb3d9Y2F0Y2godCl7cmV0dXJuITF9fX1mdW5jdGlvbiBvaCh0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCJzY3JvbGxSZXN0b3JhdGlvbiIpfWNsYXNzIGFoe31jbGFzcyBsaCBleHRlbmRzIGNsYXNzIGV4dGVuZHMgY2xhc3N7fXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5zdXBwb3J0c0RPTUV2ZW50cz0hMH19e3N0YXRpYyBtYWtlQ3VycmVudCgpe3ZhciB0O3Q9bmV3IGxoLE91fHwoT3U9dCl9b25BbmRDYW5jZWwodCxlLG4pe3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoZSxuLCExKSwoKT0+e3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4sITEpfX1kaXNwYXRjaEV2ZW50KHQsZSl7dC5kaXNwYXRjaEV2ZW50KGUpfXJlbW92ZSh0KXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX1jcmVhdGVFbGVtZW50KHQsZSl7cmV0dXJuKGU9ZXx8dGhpcy5nZXREZWZhdWx0RG9jdW1lbnQoKSkuY3JlYXRlRWxlbWVudCh0KX1jcmVhdGVIdG1sRG9jdW1lbnQoKXtyZXR1cm4gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCJmYWtlVGl0bGUiKX1nZXREZWZhdWx0RG9jdW1lbnQoKXtyZXR1cm4gZG9jdW1lbnR9aXNFbGVtZW50Tm9kZSh0KXtyZXR1cm4gdC5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFfWlzU2hhZG93Um9vdCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnR9Z2V0R2xvYmFsRXZlbnRUYXJnZXQodCxlKXtyZXR1cm4id2luZG93Ij09PWU/d2luZG93OiJkb2N1bWVudCI9PT1lP3Q6ImJvZHkiPT09ZT90LmJvZHk6bnVsbH1nZXRCYXNlSHJlZih0KXtjb25zdCBlPShjaD1jaHx8ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYmFzZSIpLGNoP2NoLmdldEF0dHJpYnV0ZSgiaHJlZiIpOm51bGwpO3JldHVybiBudWxsPT1lP251bGw6ZnVuY3Rpb24odCl7dWg9dWh8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSx1aC5zZXRBdHRyaWJ1dGUoImhyZWYiLHQpO2NvbnN0IGU9dWgucGF0aG5hbWU7cmV0dXJuIi8iPT09ZS5jaGFyQXQoMCk/ZTpgLyR7ZX1gfShlKX1yZXNldEJhc2VFbGVtZW50KCl7Y2g9bnVsbH1nZXRVc2VyQWdlbnQoKXtyZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnR9Z2V0Q29va2llKHQpe3JldHVybiBCYyhkb2N1bWVudC5jb29raWUsdCl9fWxldCB1aCxjaD1udWxsO2NvbnN0IGhoPW5ldyBIbigiVFJBTlNJVElPTl9JRCIpLGRoPVt7cHJvdmlkZTpSbCx1c2VGYWN0b3J5OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4oKT0+e24uZ2V0KE1sKS5kb25lUHJvbWlzZS50aGVuKCgpPT57Y29uc3Qgbj1QdSgpO0FycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShlLnF1ZXJ5U2VsZWN0b3JBbGwoInN0eWxlW25nLXRyYW5zaXRpb25dIikpLmZpbHRlcihlPT5lLmdldEF0dHJpYnV0ZSgibmctdHJhbnNpdGlvbiIpPT09dCkuZm9yRWFjaCh0PT5uLnJlbW92ZSh0KSl9KX19LGRlcHM6W2hoLEl1LFdpXSxtdWx0aTohMH1dO2NsYXNzIHBoe3N0YXRpYyBpbml0KCl7IWZ1bmN0aW9uKHQpe2R1PXR9KG5ldyBwaCl9YWRkVG9XaW5kb3codCl7T3QuZ2V0QW5ndWxhclRlc3RhYmlsaXR5PShlLG49ITApPT57Y29uc3Qgcj10LmZpbmRUZXN0YWJpbGl0eUluVHJlZShlLG4pO2lmKG51bGw9PXIpdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCB0ZXN0YWJpbGl0eSBmb3IgZWxlbWVudC4iKTtyZXR1cm4gcn0sT3QuZ2V0QWxsQW5ndWxhclRlc3RhYmlsaXRpZXM9KCk9PnQuZ2V0QWxsVGVzdGFiaWxpdGllcygpLE90LmdldEFsbEFuZ3VsYXJSb290RWxlbWVudHM9KCk9PnQuZ2V0QWxsUm9vdEVsZW1lbnRzKCksT3QuZnJhbWV3b3JrU3RhYmlsaXplcnN8fChPdC5mcmFtZXdvcmtTdGFiaWxpemVycz1bXSksT3QuZnJhbWV3b3JrU3RhYmlsaXplcnMucHVzaCh0PT57Y29uc3QgZT1PdC5nZXRBbGxBbmd1bGFyVGVzdGFiaWxpdGllcygpO2xldCBuPWUubGVuZ3RoLHI9ITE7Y29uc3Qgcz1mdW5jdGlvbihlKXtyPXJ8fGUsbi0tLDA9PW4mJnQocil9O2UuZm9yRWFjaChmdW5jdGlvbih0KXt0LndoZW5TdGFibGUocyl9KX0pfWZpbmRUZXN0YWJpbGl0eUluVHJlZSh0LGUsbil7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtjb25zdCByPXQuZ2V0VGVzdGFiaWxpdHkoZSk7cmV0dXJuIG51bGwhPXI/cjpuP1B1KCkuaXNTaGFkb3dSb290KGUpP3RoaXMuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHQsZS5ob3N0LCEwKTp0aGlzLmZpbmRUZXN0YWJpbGl0eUluVHJlZSh0LGUucGFyZW50RWxlbWVudCwhMCk6bnVsbH19bGV0IGZoPSgoKT0+e2NsYXNzIHR7YnVpbGQoKXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCBnaD1uZXcgSG4oIkV2ZW50TWFuYWdlclBsdWdpbnMiKTtsZXQgbWg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX3pvbmU9ZSx0aGlzLl9ldmVudE5hbWVUb1BsdWdpbj1uZXcgTWFwLHQuZm9yRWFjaCh0PT50Lm1hbmFnZXI9dGhpcyksdGhpcy5fcGx1Z2lucz10LnNsaWNlKCkucmV2ZXJzZSgpfWFkZEV2ZW50TGlzdGVuZXIodCxlLG4pe3JldHVybiB0aGlzLl9maW5kUGx1Z2luRm9yKGUpLmFkZEV2ZW50TGlzdGVuZXIodCxlLG4pfWFkZEdsb2JhbEV2ZW50TGlzdGVuZXIodCxlLG4pe3JldHVybiB0aGlzLl9maW5kUGx1Z2luRm9yKGUpLmFkZEdsb2JhbEV2ZW50TGlzdGVuZXIodCxlLG4pfWdldFpvbmUoKXtyZXR1cm4gdGhpcy5fem9uZX1fZmluZFBsdWdpbkZvcih0KXtjb25zdCBlPXRoaXMuX2V2ZW50TmFtZVRvUGx1Z2luLmdldCh0KTtpZihlKXJldHVybiBlO2NvbnN0IG49dGhpcy5fcGx1Z2lucztmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrKyl7Y29uc3QgZT1uW3JdO2lmKGUuc3VwcG9ydHModCkpcmV0dXJuIHRoaXMuX2V2ZW50TmFtZVRvUGx1Z2luLnNldCh0LGUpLGV9dGhyb3cgbmV3IEVycm9yKGBObyBldmVudCBtYW5hZ2VyIHBsdWdpbiBmb3VuZCBmb3IgZXZlbnQgJHt0fWApfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShvcihnaCksb3IoZXUpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjbGFzcyB5aHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9kb2M9dH1hZGRHbG9iYWxFdmVudExpc3RlbmVyKHQsZSxuKXtjb25zdCByPVB1KCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQodGhpcy5fZG9jLHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZXZlbnQgdGFyZ2V0ICR7cn0gZm9yIGV2ZW50ICR7ZX1gKTtyZXR1cm4gdGhpcy5hZGRFdmVudExpc3RlbmVyKHIsZSxuKX19bGV0IHZoPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLl9zdHlsZXNTZXQ9bmV3IFNldH1hZGRTdHlsZXModCl7Y29uc3QgZT1uZXcgU2V0O3QuZm9yRWFjaCh0PT57dGhpcy5fc3R5bGVzU2V0Lmhhcyh0KXx8KHRoaXMuX3N0eWxlc1NldC5hZGQodCksZS5hZGQodCkpfSksdGhpcy5vblN0eWxlc0FkZGVkKGUpfW9uU3R5bGVzQWRkZWQodCl7fWdldEFsbFN0eWxlcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX3N0eWxlc1NldCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLGJoPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyB2aHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuX2RvYz10LHRoaXMuX2hvc3ROb2Rlcz1uZXcgTWFwLHRoaXMuX2hvc3ROb2Rlcy5zZXQodC5oZWFkLFtdKX1fYWRkU3R5bGVzVG9Ib3N0KHQsZSxuKXt0LmZvckVhY2godD0+e2NvbnN0IHI9dGhpcy5fZG9jLmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7ci50ZXh0Q29udGVudD10LG4ucHVzaChlLmFwcGVuZENoaWxkKHIpKX0pfWFkZEhvc3QodCl7Y29uc3QgZT1bXTt0aGlzLl9hZGRTdHlsZXNUb0hvc3QodGhpcy5fc3R5bGVzU2V0LHQsZSksdGhpcy5faG9zdE5vZGVzLnNldCh0LGUpfXJlbW92ZUhvc3QodCl7Y29uc3QgZT10aGlzLl9ob3N0Tm9kZXMuZ2V0KHQpO2UmJmUuZm9yRWFjaCh3aCksdGhpcy5faG9zdE5vZGVzLmRlbGV0ZSh0KX1vblN0eWxlc0FkZGVkKHQpe3RoaXMuX2hvc3ROb2Rlcy5mb3JFYWNoKChlLG4pPT57dGhpcy5fYWRkU3R5bGVzVG9Ib3N0KHQsbixlKX0pfW5nT25EZXN0cm95KCl7dGhpcy5faG9zdE5vZGVzLmZvckVhY2godD0+dC5mb3JFYWNoKHdoKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKEl1KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7ZnVuY3Rpb24gd2godCl7UHUoKS5yZW1vdmUodCl9Y29uc3QgX2g9e3N2ZzoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHhodG1sOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIix4bGluazoiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIseG1sOiJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UiLHhtbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zLyJ9LENoPS8lQ09NUCUvZztmdW5jdGlvbiBEaCh0LGUsbil7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2xldCBzPWVbcl07QXJyYXkuaXNBcnJheShzKT9EaCh0LHMsbik6KHM9cy5yZXBsYWNlKENoLHQpLG4ucHVzaChzKSl9cmV0dXJuIG59ZnVuY3Rpb24gRWgodCl7cmV0dXJuIGU9PntpZigiX19uZ1Vud3JhcF9fIj09PWUpcmV0dXJuIHQ7ITE9PT10KGUpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGUucmV0dXJuVmFsdWU9ITEpfX1sZXQgQWg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5ldmVudE1hbmFnZXI9dCx0aGlzLnNoYXJlZFN0eWxlc0hvc3Q9ZSx0aGlzLmFwcElkPW4sdGhpcy5yZW5kZXJlckJ5Q29tcElkPW5ldyBNYXAsdGhpcy5kZWZhdWx0UmVuZGVyZXI9bmV3IFNoKHQpfWNyZWF0ZVJlbmRlcmVyKHQsZSl7aWYoIXR8fCFlKXJldHVybiB0aGlzLmRlZmF1bHRSZW5kZXJlcjtzd2l0Y2goZS5lbmNhcHN1bGF0aW9uKXtjYXNlIFN0LkVtdWxhdGVkOntsZXQgbj10aGlzLnJlbmRlcmVyQnlDb21wSWQuZ2V0KGUuaWQpO3JldHVybiBufHwobj1uZXcgeGgodGhpcy5ldmVudE1hbmFnZXIsdGhpcy5zaGFyZWRTdHlsZXNIb3N0LGUsdGhpcy5hcHBJZCksdGhpcy5yZW5kZXJlckJ5Q29tcElkLnNldChlLmlkLG4pKSxuLmFwcGx5VG9Ib3N0KHQpLG59Y2FzZSAxOmNhc2UgU3QuU2hhZG93RG9tOnJldHVybiBuZXcga2godGhpcy5ldmVudE1hbmFnZXIsdGhpcy5zaGFyZWRTdHlsZXNIb3N0LHQsZSk7ZGVmYXVsdDppZighdGhpcy5yZW5kZXJlckJ5Q29tcElkLmhhcyhlLmlkKSl7Y29uc3QgdD1EaChlLmlkLGUuc3R5bGVzLFtdKTt0aGlzLnNoYXJlZFN0eWxlc0hvc3QuYWRkU3R5bGVzKHQpLHRoaXMucmVuZGVyZXJCeUNvbXBJZC5zZXQoZS5pZCx0aGlzLmRlZmF1bHRSZW5kZXJlcil9cmV0dXJuIHRoaXMuZGVmYXVsdFJlbmRlcmVyfX1iZWdpbigpe31lbmQoKXt9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKG1oKSxvcihiaCksb3IoamwpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjbGFzcyBTaHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmV2ZW50TWFuYWdlcj10LHRoaXMuZGF0YT1PYmplY3QuY3JlYXRlKG51bGwpfWRlc3Ryb3koKXt9Y3JlYXRlRWxlbWVudCh0LGUpe3JldHVybiBlP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhfaFtlXXx8ZSx0KTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpfWNyZWF0ZUNvbW1lbnQodCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodCl9Y3JlYXRlVGV4dCh0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCl9YXBwZW5kQ2hpbGQodCxlKXt0LmFwcGVuZENoaWxkKGUpfWluc2VydEJlZm9yZSh0LGUsbil7dCYmdC5pbnNlcnRCZWZvcmUoZSxuKX1yZW1vdmVDaGlsZCh0LGUpe3QmJnQucmVtb3ZlQ2hpbGQoZSl9c2VsZWN0Um9vdEVsZW1lbnQodCxlKXtsZXQgbj0ic3RyaW5nIj09dHlwZW9mIHQ/ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KTp0O2lmKCFuKXRocm93IG5ldyBFcnJvcihgVGhlIHNlbGVjdG9yICIke3R9IiBkaWQgbm90IG1hdGNoIGFueSBlbGVtZW50c2ApO3JldHVybiBlfHwobi50ZXh0Q29udGVudD0iIiksbn1wYXJlbnROb2RlKHQpe3JldHVybiB0LnBhcmVudE5vZGV9bmV4dFNpYmxpbmcodCl7cmV0dXJuIHQubmV4dFNpYmxpbmd9c2V0QXR0cmlidXRlKHQsZSxuLHIpe2lmKHIpe2U9cisiOiIrZTtjb25zdCBzPV9oW3JdO3M/dC5zZXRBdHRyaWJ1dGVOUyhzLGUsbik6dC5zZXRBdHRyaWJ1dGUoZSxuKX1lbHNlIHQuc2V0QXR0cmlidXRlKGUsbil9cmVtb3ZlQXR0cmlidXRlKHQsZSxuKXtpZihuKXtjb25zdCByPV9oW25dO3I/dC5yZW1vdmVBdHRyaWJ1dGVOUyhyLGUpOnQucmVtb3ZlQXR0cmlidXRlKGAke259OiR7ZX1gKX1lbHNlIHQucmVtb3ZlQXR0cmlidXRlKGUpfWFkZENsYXNzKHQsZSl7dC5jbGFzc0xpc3QuYWRkKGUpfXJlbW92ZUNsYXNzKHQsZSl7dC5jbGFzc0xpc3QucmVtb3ZlKGUpfXNldFN0eWxlKHQsZSxuLHIpe3ImKFlyLkRhc2hDYXNlfFlyLkltcG9ydGFudCk/dC5zdHlsZS5zZXRQcm9wZXJ0eShlLG4sciZZci5JbXBvcnRhbnQ/ImltcG9ydGFudCI6IiIpOnQuc3R5bGVbZV09bn1yZW1vdmVTdHlsZSh0LGUsbil7biZZci5EYXNoQ2FzZT90LnN0eWxlLnJlbW92ZVByb3BlcnR5KGUpOnQuc3R5bGVbZV09IiJ9c2V0UHJvcGVydHkodCxlLG4pe3RbZV09bn1zZXRWYWx1ZSh0LGUpe3Qubm9kZVZhbHVlPWV9bGlzdGVuKHQsZSxuKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/dGhpcy5ldmVudE1hbmFnZXIuYWRkR2xvYmFsRXZlbnRMaXN0ZW5lcih0LGUsRWgobikpOnRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodCxlLEVoKG4pKX19Y2xhc3MgeGggZXh0ZW5kcyBTaHtjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcih0KSx0aGlzLmNvbXBvbmVudD1uO2NvbnN0IHM9RGgocisiLSIrbi5pZCxuLnN0eWxlcyxbXSk7ZS5hZGRTdHlsZXMocyksdGhpcy5jb250ZW50QXR0cj0iX25nY29udGVudC0lQ09NUCUiLnJlcGxhY2UoQ2gscisiLSIrbi5pZCksdGhpcy5ob3N0QXR0cj0iX25naG9zdC0lQ09NUCUiLnJlcGxhY2UoQ2gscisiLSIrbi5pZCl9YXBwbHlUb0hvc3QodCl7c3VwZXIuc2V0QXR0cmlidXRlKHQsdGhpcy5ob3N0QXR0ciwiIil9Y3JlYXRlRWxlbWVudCh0LGUpe2NvbnN0IG49c3VwZXIuY3JlYXRlRWxlbWVudCh0LGUpO3JldHVybiBzdXBlci5zZXRBdHRyaWJ1dGUobix0aGlzLmNvbnRlbnRBdHRyLCIiKSxufX1jbGFzcyBraCBleHRlbmRzIFNoe2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKHQpLHRoaXMuc2hhcmVkU3R5bGVzSG9zdD1lLHRoaXMuaG9zdEVsPW4sdGhpcy5zaGFkb3dSb290PW4uYXR0YWNoU2hhZG93KHttb2RlOiJvcGVuIn0pLHRoaXMuc2hhcmVkU3R5bGVzSG9zdC5hZGRIb3N0KHRoaXMuc2hhZG93Um9vdCk7Y29uc3Qgcz1EaChyLmlkLHIuc3R5bGVzLFtdKTtmb3IobGV0IGk9MDtpPHMubGVuZ3RoO2krKyl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3QudGV4dENvbnRlbnQ9c1tpXSx0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodCl9fW5vZGVPclNoYWRvd1Jvb3QodCl7cmV0dXJuIHQ9PT10aGlzLmhvc3RFbD90aGlzLnNoYWRvd1Jvb3Q6dH1kZXN0cm95KCl7dGhpcy5zaGFyZWRTdHlsZXNIb3N0LnJlbW92ZUhvc3QodGhpcy5zaGFkb3dSb290KX1hcHBlbmRDaGlsZCh0LGUpe3JldHVybiBzdXBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVPclNoYWRvd1Jvb3QodCksZSl9aW5zZXJ0QmVmb3JlKHQsZSxuKXtyZXR1cm4gc3VwZXIuaW5zZXJ0QmVmb3JlKHRoaXMubm9kZU9yU2hhZG93Um9vdCh0KSxlLG4pfXJlbW92ZUNoaWxkKHQsZSl7cmV0dXJuIHN1cGVyLnJlbW92ZUNoaWxkKHRoaXMubm9kZU9yU2hhZG93Um9vdCh0KSxlKX1wYXJlbnROb2RlKHQpe3JldHVybiB0aGlzLm5vZGVPclNoYWRvd1Jvb3Qoc3VwZXIucGFyZW50Tm9kZSh0aGlzLm5vZGVPclNoYWRvd1Jvb3QodCkpKX19bGV0IFRoPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyB5aHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1zdXBwb3J0cyh0KXtyZXR1cm4hMH1hZGRFdmVudExpc3RlbmVyKHQsZSxuKXtyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKGUsbiwhMSksKCk9PnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUsbil9cmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUsbil7cmV0dXJuIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShvcihJdSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IEZoPVsiYWx0IiwiY29udHJvbCIsIm1ldGEiLCJzaGlmdCJdLE9oPXsiXGIiOiJCYWNrc3BhY2UiLCJcdCI6IlRhYiIsIlx4N2YiOiJEZWxldGUiLCJceDFiIjoiRXNjYXBlIixEZWw6IkRlbGV0ZSIsRXNjOiJFc2NhcGUiLExlZnQ6IkFycm93TGVmdCIsUmlnaHQ6IkFycm93UmlnaHQiLFVwOiJBcnJvd1VwIixEb3duOiJBcnJvd0Rvd24iLE1lbnU6IkNvbnRleHRNZW51IixTY3JvbGw6IlNjcm9sbExvY2siLFdpbjoiT1MifSxQaD17QToiMSIsQjoiMiIsQzoiMyIsRDoiNCIsRToiNSIsRjoiNiIsRzoiNyIsSDoiOCIsSToiOSIsSjoiKiIsSzoiKyIsTToiLSIsTjoiLiIsTzoiLyIsImAiOiIwIiwiXHg5MCI6Ik51bUxvY2sifSxJaD17YWx0OnQ9PnQuYWx0S2V5LGNvbnRyb2w6dD0+dC5jdHJsS2V5LG1ldGE6dD0+dC5tZXRhS2V5LHNoaWZ0OnQ9PnQuc2hpZnRLZXl9O2xldCBSaD0oKCk9PntjbGFzcyB0IGV4dGVuZHMgeWh7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9c3VwcG9ydHMoZSl7cmV0dXJuIG51bGwhPXQucGFyc2VFdmVudE5hbWUoZSl9YWRkRXZlbnRMaXN0ZW5lcihlLG4scil7Y29uc3Qgcz10LnBhcnNlRXZlbnROYW1lKG4pLGk9dC5ldmVudENhbGxiYWNrKHMuZnVsbEtleSxyLHRoaXMubWFuYWdlci5nZXRab25lKCkpO3JldHVybiB0aGlzLm1hbmFnZXIuZ2V0Wm9uZSgpLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT5QdSgpLm9uQW5kQ2FuY2VsKGUscy5kb21FdmVudE5hbWUsaSkpfXN0YXRpYyBwYXJzZUV2ZW50TmFtZShlKXtjb25zdCBuPWUudG9Mb3dlckNhc2UoKS5zcGxpdCgiLiIpLHI9bi5zaGlmdCgpO2lmKDA9PT1uLmxlbmd0aHx8ImtleWRvd24iIT09ciYmImtleXVwIiE9PXIpcmV0dXJuIG51bGw7Y29uc3Qgcz10Ll9ub3JtYWxpemVLZXkobi5wb3AoKSk7bGV0IGk9IiI7aWYoRmguZm9yRWFjaCh0PT57Y29uc3QgZT1uLmluZGV4T2YodCk7ZT4tMSYmKG4uc3BsaWNlKGUsMSksaSs9dCsiLiIpfSksaSs9cywwIT1uLmxlbmd0aHx8MD09PXMubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IG89e307cmV0dXJuIG8uZG9tRXZlbnROYW1lPXIsby5mdWxsS2V5PWksb31zdGF0aWMgZ2V0RXZlbnRGdWxsS2V5KHQpe2xldCBlPSIiLG49ZnVuY3Rpb24odCl7bGV0IGU9dC5rZXk7aWYobnVsbD09ZSl7aWYoZT10LmtleUlkZW50aWZpZXIsbnVsbD09ZSlyZXR1cm4iVW5pZGVudGlmaWVkIjtlLnN0YXJ0c1dpdGgoIlUrIikmJihlPVN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZS5zdWJzdHJpbmcoMiksMTYpKSwzPT09dC5sb2NhdGlvbiYmUGguaGFzT3duUHJvcGVydHkoZSkmJihlPVBoW2VdKSl9cmV0dXJuIE9oW2VdfHxlfSh0KTtyZXR1cm4gbj1uLnRvTG93ZXJDYXNlKCksIiAiPT09bj9uPSJzcGFjZSI6Ii4iPT09biYmKG49ImRvdCIpLEZoLmZvckVhY2gocj0+e3IhPW4mJigwLEloW3JdKSh0KSYmKGUrPXIrIi4iKX0pLGUrPW4sZX1zdGF0aWMgZXZlbnRDYWxsYmFjayhlLG4scil7cmV0dXJuIHM9Pnt0LmdldEV2ZW50RnVsbEtleShzKT09PWUmJnIucnVuR3VhcmRlZCgoKT0+bihzKSl9fXN0YXRpYyBfbm9ybWFsaXplS2V5KHQpe3N3aXRjaCh0KXtjYXNlImVzYyI6cmV0dXJuImVzY2FwZSI7ZGVmYXVsdDpyZXR1cm4gdH19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKEl1KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y29uc3QgTWg9eXUoa3UsImJyb3dzZXIiLFt7cHJvdmlkZTpCbCx1c2VWYWx1ZToiYnJvd3NlciJ9LHtwcm92aWRlOkxsLHVzZVZhbHVlOmZ1bmN0aW9uKCl7bGgubWFrZUN1cnJlbnQoKSxwaC5pbml0KCl9LG11bHRpOiEwfSx7cHJvdmlkZTpJdSx1c2VGYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3BlPXR9KGRvY3VtZW50KSxkb2N1bWVudH0sZGVwczpbXX1dKSxqaD1bW10se3Byb3ZpZGU6SWksdXNlVmFsdWU6InJvb3QifSx7cHJvdmlkZTpHcix1c2VGYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBHcn0sZGVwczpbXX0se3Byb3ZpZGU6Z2gsdXNlQ2xhc3M6VGgsbXVsdGk6ITAsZGVwczpbSXUsZXUsQmxdfSx7cHJvdmlkZTpnaCx1c2VDbGFzczpSaCxtdWx0aTohMCxkZXBzOltJdV19LFtdLHtwcm92aWRlOkFoLHVzZUNsYXNzOkFoLGRlcHM6W21oLGJoLGpsXX0se3Byb3ZpZGU6eWEsdXNlRXhpc3Rpbmc6QWh9LHtwcm92aWRlOnZoLHVzZUV4aXN0aW5nOmJofSx7cHJvdmlkZTpiaCx1c2VDbGFzczpiaCxkZXBzOltJdV19LHtwcm92aWRlOmx1LHVzZUNsYXNzOmx1LGRlcHM6W2V1XX0se3Byb3ZpZGU6bWgsdXNlQ2xhc3M6bWgsZGVwczpbZ2gsZXVdfSx7cHJvdmlkZTphaCx1c2VDbGFzczpmaCxkZXBzOltdfSxbXV07bGV0IE5oPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7aWYodCl0aHJvdyBuZXcgRXJyb3IoIkJyb3dzZXJNb2R1bGUgaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQuIElmIHlvdSBuZWVkIGFjY2VzcyB0byBjb21tb24gZGlyZWN0aXZlcyBzdWNoIGFzIE5nSWYgYW5kIE5nRm9yIGZyb20gYSBsYXp5IGxvYWRlZCBtb2R1bGUsIGltcG9ydCBDb21tb25Nb2R1bGUgaW5zdGVhZC4iKX1zdGF0aWMgd2l0aFNlcnZlclRyYW5zaXRpb24oZSl7cmV0dXJue25nTW9kdWxlOnQscHJvdmlkZXJzOlt7cHJvdmlkZTpqbCx1c2VWYWx1ZTplLmFwcElkfSx7cHJvdmlkZTpoaCx1c2VFeGlzdGluZzpqbH0sZGhdfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkob3IodCwxMikpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpqaCxpbXBvcnRzOltyaCxGdV19KSx0fSkoKTsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93O2NsYXNzIFZoIGV4dGVuZHMgaHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCl9c2NoZWR1bGUodCxlPTApe3JldHVybiB0aGlzfX1jbGFzcyBMaCBleHRlbmRzIFZoe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxlKSx0aGlzLnNjaGVkdWxlcj10LHRoaXMud29yaz1lLHRoaXMucGVuZGluZz0hMX1zY2hlZHVsZSh0LGU9MCl7aWYodGhpcy5jbG9zZWQpcmV0dXJuIHRoaXM7dGhpcy5zdGF0ZT10O2NvbnN0IG49dGhpcy5pZCxyPXRoaXMuc2NoZWR1bGVyO3JldHVybiBudWxsIT1uJiYodGhpcy5pZD10aGlzLnJlY3ljbGVBc3luY0lkKHIsbixlKSksdGhpcy5wZW5kaW5nPSEwLHRoaXMuZGVsYXk9ZSx0aGlzLmlkPXRoaXMuaWR8fHRoaXMucmVxdWVzdEFzeW5jSWQocix0aGlzLmlkLGUpLHRoaXN9cmVxdWVzdEFzeW5jSWQodCxlLG49MCl7cmV0dXJuIHNldEludGVydmFsKHQuZmx1c2guYmluZCh0LHRoaXMpLG4pfXJlY3ljbGVBc3luY0lkKHQsZSxuPTApe2lmKG51bGwhPT1uJiZ0aGlzLmRlbGF5PT09biYmITE9PT10aGlzLnBlbmRpbmcpcmV0dXJuIGU7Y2xlYXJJbnRlcnZhbChlKX1leGVjdXRlKHQsZSl7aWYodGhpcy5jbG9zZWQpcmV0dXJuIG5ldyBFcnJvcigiZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbiIpO3RoaXMucGVuZGluZz0hMTtjb25zdCBuPXRoaXMuX2V4ZWN1dGUodCxlKTtpZihuKXJldHVybiBuOyExPT09dGhpcy5wZW5kaW5nJiZudWxsIT10aGlzLmlkJiYodGhpcy5pZD10aGlzLnJlY3ljbGVBc3luY0lkKHRoaXMuc2NoZWR1bGVyLHRoaXMuaWQsbnVsbCkpfV9leGVjdXRlKHQsZSl7bGV0IG4scj0hMTt0cnl7dGhpcy53b3JrKHQpfWNhdGNoKHMpe3I9ITAsbj0hIXMmJnN8fG5ldyBFcnJvcihzKX1pZihyKXJldHVybiB0aGlzLnVuc3Vic2NyaWJlKCksbn1fdW5zdWJzY3JpYmUoKXtjb25zdCB0PXRoaXMuaWQsZT10aGlzLnNjaGVkdWxlcixuPWUuYWN0aW9ucyxyPW4uaW5kZXhPZih0aGlzKTt0aGlzLndvcms9bnVsbCx0aGlzLnN0YXRlPW51bGwsdGhpcy5wZW5kaW5nPSExLHRoaXMuc2NoZWR1bGVyPW51bGwsLTEhPT1yJiZuLnNwbGljZShyLDEpLG51bGwhPXQmJih0aGlzLmlkPXRoaXMucmVjeWNsZUFzeW5jSWQoZSx0LG51bGwpKSx0aGlzLmRlbGF5PW51bGx9fWNsYXNzIEJoIGV4dGVuZHMgTGh7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLHRoaXMuc2NoZWR1bGVyPXQsdGhpcy53b3JrPWV9c2NoZWR1bGUodCxlPTApe3JldHVybiBlPjA/c3VwZXIuc2NoZWR1bGUodCxlKToodGhpcy5kZWxheT1lLHRoaXMuc3RhdGU9dCx0aGlzLnNjaGVkdWxlci5mbHVzaCh0aGlzKSx0aGlzKX1leGVjdXRlKHQsZSl7cmV0dXJuIGU+MHx8dGhpcy5jbG9zZWQ/c3VwZXIuZXhlY3V0ZSh0LGUpOnRoaXMuX2V4ZWN1dGUodCxlKX1yZXF1ZXN0QXN5bmNJZCh0LGUsbj0wKXtyZXR1cm4gbnVsbCE9PW4mJm4+MHx8bnVsbD09PW4mJnRoaXMuZGVsYXk+MD9zdXBlci5yZXF1ZXN0QXN5bmNJZCh0LGUsbik6dC5mbHVzaCh0aGlzKX19bGV0IFVoPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoZSxuPXQubm93KXt0aGlzLlNjaGVkdWxlckFjdGlvbj1lLHRoaXMubm93PW59c2NoZWR1bGUodCxlPTAsbil7cmV0dXJuIG5ldyB0aGlzLlNjaGVkdWxlckFjdGlvbih0aGlzLHQpLnNjaGVkdWxlKG4sZSl9fXJldHVybiB0Lm5vdz0oKT0+RGF0ZS5ub3coKSx0fSkoKTtjbGFzcyBIaCBleHRlbmRzIFVoe2NvbnN0cnVjdG9yKHQsZT1VaC5ub3cpe3N1cGVyKHQsKCk9PkhoLmRlbGVnYXRlJiZIaC5kZWxlZ2F0ZSE9PXRoaXM/SGguZGVsZWdhdGUubm93KCk6ZSgpKSx0aGlzLmFjdGlvbnM9W10sdGhpcy5hY3RpdmU9ITEsdGhpcy5zY2hlZHVsZWQ9dm9pZCAwfXNjaGVkdWxlKHQsZT0wLG4pe3JldHVybiBIaC5kZWxlZ2F0ZSYmSGguZGVsZWdhdGUhPT10aGlzP0hoLmRlbGVnYXRlLnNjaGVkdWxlKHQsZSxuKTpzdXBlci5zY2hlZHVsZSh0LGUsbil9Zmx1c2godCl7Y29uc3R7YWN0aW9uczplfT10aGlzO2lmKHRoaXMuYWN0aXZlKXJldHVybiB2b2lkIGUucHVzaCh0KTtsZXQgbjt0aGlzLmFjdGl2ZT0hMDtkb3tpZihuPXQuZXhlY3V0ZSh0LnN0YXRlLHQuZGVsYXkpKWJyZWFrfXdoaWxlKHQ9ZS5zaGlmdCgpKTtpZih0aGlzLmFjdGl2ZT0hMSxuKXtmb3IoO3Q9ZS5zaGlmdCgpOyl0LnVuc3Vic2NyaWJlKCk7dGhyb3cgbn19fWNsYXNzICRoIGV4dGVuZHMgSGh7fWNvbnN0IHpoPW5ldyAkaChCaCkscWg9bmV3IHYodD0+dC5jb21wbGV0ZSgpKTtmdW5jdGlvbiBXaCh0KXtyZXR1cm4gdD9mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHYoZT0+dC5zY2hlZHVsZSgoKT0+ZS5jb21wbGV0ZSgpKSl9KHQpOnFofWZ1bmN0aW9uIEdoKC4uLnQpe2xldCBlPXRbdC5sZW5ndGgtMV07cmV0dXJuIEEoZSk/KHQucG9wKCksTSh0LGUpKTp6KHQpfWZ1bmN0aW9uIFpoKHQsZSl7cmV0dXJuIG5ldyB2KGU/bj0+ZS5zY2hlZHVsZShLaCwwLHtlcnJvcjp0LHN1YnNjcmliZXI6bn0pOmU9PmUuZXJyb3IodCkpfWZ1bmN0aW9uIEtoKHtlcnJvcjp0LHN1YnNjcmliZXI6ZX0pe2UuZXJyb3IodCl9bGV0IFloPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMua2luZD10LHRoaXMudmFsdWU9ZSx0aGlzLmVycm9yPW4sdGhpcy5oYXNWYWx1ZT0iTiI9PT10fW9ic2VydmUodCl7c3dpdGNoKHRoaXMua2luZCl7Y2FzZSJOIjpyZXR1cm4gdC5uZXh0JiZ0Lm5leHQodGhpcy52YWx1ZSk7Y2FzZSJFIjpyZXR1cm4gdC5lcnJvciYmdC5lcnJvcih0aGlzLmVycm9yKTtjYXNlIkMiOnJldHVybiB0LmNvbXBsZXRlJiZ0LmNvbXBsZXRlKCl9fWRvKHQsZSxuKXtzd2l0Y2godGhpcy5raW5kKXtjYXNlIk4iOnJldHVybiB0JiZ0KHRoaXMudmFsdWUpO2Nhc2UiRSI6cmV0dXJuIGUmJmUodGhpcy5lcnJvcik7Y2FzZSJDIjpyZXR1cm4gbiYmbigpfX1hY2NlcHQodCxlLG4pe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5uZXh0P3RoaXMub2JzZXJ2ZSh0KTp0aGlzLmRvKHQsZSxuKX10b09ic2VydmFibGUoKXtzd2l0Y2godGhpcy5raW5kKXtjYXNlIk4iOnJldHVybiBHaCh0aGlzLnZhbHVlKTtjYXNlIkUiOnJldHVybiBaaCh0aGlzLmVycm9yKTtjYXNlIkMiOnJldHVybiBXaCgpfXRocm93IG5ldyBFcnJvcigidW5leHBlY3RlZCBub3RpZmljYXRpb24ga2luZCB2YWx1ZSIpfXN0YXRpYyBjcmVhdGVOZXh0KGUpe3JldHVybiB2b2lkIDAhPT1lP25ldyB0KCJOIixlKTp0LnVuZGVmaW5lZFZhbHVlTm90aWZpY2F0aW9ufXN0YXRpYyBjcmVhdGVFcnJvcihlKXtyZXR1cm4gbmV3IHQoIkUiLHZvaWQgMCxlKX1zdGF0aWMgY3JlYXRlQ29tcGxldGUoKXtyZXR1cm4gdC5jb21wbGV0ZU5vdGlmaWNhdGlvbn19cmV0dXJuIHQuY29tcGxldGVOb3RpZmljYXRpb249bmV3IHQoIkMiKSx0LnVuZGVmaW5lZFZhbHVlTm90aWZpY2F0aW9uPW5ldyB0KCJOIix2b2lkIDApLHR9KSgpO2NsYXNzIFFoIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUsbj0wKXtzdXBlcih0KSx0aGlzLnNjaGVkdWxlcj1lLHRoaXMuZGVsYXk9bn1zdGF0aWMgZGlzcGF0Y2godCl7Y29uc3R7bm90aWZpY2F0aW9uOmUsZGVzdGluYXRpb246bn09dDtlLm9ic2VydmUobiksdGhpcy51bnN1YnNjcmliZSgpfXNjaGVkdWxlTWVzc2FnZSh0KXt0aGlzLmRlc3RpbmF0aW9uLmFkZCh0aGlzLnNjaGVkdWxlci5zY2hlZHVsZShRaC5kaXNwYXRjaCx0aGlzLmRlbGF5LG5ldyBYaCh0LHRoaXMuZGVzdGluYXRpb24pKSl9X25leHQodCl7dGhpcy5zY2hlZHVsZU1lc3NhZ2UoWWguY3JlYXRlTmV4dCh0KSl9X2Vycm9yKHQpe3RoaXMuc2NoZWR1bGVNZXNzYWdlKFloLmNyZWF0ZUVycm9yKHQpKSx0aGlzLnVuc3Vic2NyaWJlKCl9X2NvbXBsZXRlKCl7dGhpcy5zY2hlZHVsZU1lc3NhZ2UoWWguY3JlYXRlQ29tcGxldGUoKSksdGhpcy51bnN1YnNjcmliZSgpfX1jbGFzcyBYaHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMubm90aWZpY2F0aW9uPXQsdGhpcy5kZXN0aW5hdGlvbj1lfX1jbGFzcyBKaCBleHRlbmRzIER7Y29uc3RydWN0b3IodD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbil7c3VwZXIoKSx0aGlzLnNjaGVkdWxlcj1uLHRoaXMuX2V2ZW50cz1bXSx0aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3c9ITEsdGhpcy5fYnVmZmVyU2l6ZT10PDE/MTp0LHRoaXMuX3dpbmRvd1RpbWU9ZTwxPzE6ZSxlPT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZPyh0aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3c9ITAsdGhpcy5uZXh0PXRoaXMubmV4dEluZmluaXRlVGltZVdpbmRvdyk6dGhpcy5uZXh0PXRoaXMubmV4dFRpbWVXaW5kb3d9bmV4dEluZmluaXRlVGltZVdpbmRvdyh0KXtpZighdGhpcy5pc1N0b3BwZWQpe2NvbnN0IGU9dGhpcy5fZXZlbnRzO2UucHVzaCh0KSxlLmxlbmd0aD50aGlzLl9idWZmZXJTaXplJiZlLnNoaWZ0KCl9c3VwZXIubmV4dCh0KX1uZXh0VGltZVdpbmRvdyh0KXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuX2V2ZW50cy5wdXNoKG5ldyB0ZCh0aGlzLl9nZXROb3coKSx0KSksdGhpcy5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMoKSksc3VwZXIubmV4dCh0KX1fc3Vic2NyaWJlKHQpe2NvbnN0IGU9dGhpcy5faW5maW5pdGVUaW1lV2luZG93LG49ZT90aGlzLl9ldmVudHM6dGhpcy5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMoKSxyPXRoaXMuc2NoZWR1bGVyLHM9bi5sZW5ndGg7bGV0IGk7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IHc7aWYodGhpcy5pc1N0b3BwZWR8fHRoaXMuaGFzRXJyb3I/aT1oLkVNUFRZOih0aGlzLm9ic2VydmVycy5wdXNoKHQpLGk9bmV3IF8odGhpcyx0KSksciYmdC5hZGQodD1uZXcgUWgodCxyKSksZSlmb3IobGV0IG89MDtvPHMmJiF0LmNsb3NlZDtvKyspdC5uZXh0KG5bb10pO2Vsc2UgZm9yKGxldCBvPTA7bzxzJiYhdC5jbG9zZWQ7bysrKXQubmV4dChuW29dLnZhbHVlKTtyZXR1cm4gdGhpcy5oYXNFcnJvcj90LmVycm9yKHRoaXMudGhyb3duRXJyb3IpOnRoaXMuaXNTdG9wcGVkJiZ0LmNvbXBsZXRlKCksaX1fZ2V0Tm93KCl7cmV0dXJuKHRoaXMuc2NoZWR1bGVyfHx6aCkubm93KCl9X3RyaW1CdWZmZXJUaGVuR2V0RXZlbnRzKCl7Y29uc3QgdD10aGlzLl9nZXROb3coKSxlPXRoaXMuX2J1ZmZlclNpemUsbj10aGlzLl93aW5kb3dUaW1lLHI9dGhpcy5fZXZlbnRzLHM9ci5sZW5ndGg7bGV0IGk9MDtmb3IoO2k8cyYmISh0LXJbaV0udGltZTxuKTspaSsrO3JldHVybiBzPmUmJihpPU1hdGgubWF4KGkscy1lKSksaT4wJiZyLnNwbGljZSgwLGkpLHJ9fWNsYXNzIHRke2NvbnN0cnVjdG9yKHQsZSl7dGhpcy50aW1lPXQsdGhpcy52YWx1ZT1lfX1mdW5jdGlvbiBlZCh0LGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP249Pm4ucGlwZShlZCgobixyKT0+aih0KG4scikpLnBpcGUoUygodCxzKT0+ZShuLHQscixzKSkpKSk6ZT0+ZS5saWZ0KG5ldyBuZCh0KSl9Y2xhc3MgbmR7Y29uc3RydWN0b3IodCl7dGhpcy5wcm9qZWN0PXR9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgcmQodCx0aGlzLnByb2plY3QpKX19Y2xhc3MgcmQgZXh0ZW5kcyBWe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5wcm9qZWN0PWUsdGhpcy5pbmRleD0wfV9uZXh0KHQpe2xldCBlO2NvbnN0IG49dGhpcy5pbmRleCsrO3RyeXtlPXRoaXMucHJvamVjdCh0LG4pfWNhdGNoKHIpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iocil9dGhpcy5faW5uZXJTdWIoZSl9X2lubmVyU3ViKHQpe2NvbnN0IGU9dGhpcy5pbm5lclN1YnNjcmlwdGlvbjtlJiZlLnVuc3Vic2NyaWJlKCk7Y29uc3Qgbj1uZXcgTih0aGlzKSxyPXRoaXMuZGVzdGluYXRpb247ci5hZGQobiksdGhpcy5pbm5lclN1YnNjcmlwdGlvbj1MKHQsbiksdGhpcy5pbm5lclN1YnNjcmlwdGlvbiE9PW4mJnIuYWRkKHRoaXMuaW5uZXJTdWJzY3JpcHRpb24pfV9jb21wbGV0ZSgpe2NvbnN0e2lubmVyU3Vic2NyaXB0aW9uOnR9PXRoaXM7dCYmIXQuY2xvc2VkfHxzdXBlci5fY29tcGxldGUoKSx0aGlzLnVuc3Vic2NyaWJlKCl9X3Vuc3Vic2NyaWJlKCl7dGhpcy5pbm5lclN1YnNjcmlwdGlvbj12b2lkIDB9bm90aWZ5Q29tcGxldGUoKXt0aGlzLmlubmVyU3Vic2NyaXB0aW9uPXZvaWQgMCx0aGlzLmlzU3RvcHBlZCYmc3VwZXIuX2NvbXBsZXRlKCl9bm90aWZ5TmV4dCh0KXt0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9fWNvbnN0IHNkPXtzY2hlZHVsZSh0LGUpe2NvbnN0IG49c2V0VGltZW91dCh0LGUpO3JldHVybigpPT5jbGVhclRpbWVvdXQobil9LHNjaGVkdWxlQmVmb3JlUmVuZGVyKHQpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93KXJldHVybiBzZC5zY2hlZHVsZSh0LDApO2lmKHZvaWQgMD09PXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpcmV0dXJuIHNkLnNjaGVkdWxlKHQsMTYpO2NvbnN0IGU9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0KTtyZXR1cm4oKT0+d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGUpfX07bGV0IGlkO2Z1bmN0aW9uIG9kKHQsZSxuKXtsZXQgcj1uO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hIXQmJnQubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERX0odCkmJmUuc29tZSgoZSxuKT0+ISgiKiI9PT1lfHwhZnVuY3Rpb24odCxlKXtpZighaWQpe2NvbnN0IHQ9RWxlbWVudC5wcm90b3R5cGU7aWQ9dC5tYXRjaGVzfHx0Lm1hdGNoZXNTZWxlY3Rvcnx8dC5tb3pNYXRjaGVzU2VsZWN0b3J8fHQubXNNYXRjaGVzU2VsZWN0b3J8fHQub01hdGNoZXNTZWxlY3Rvcnx8dC53ZWJraXRNYXRjaGVzU2VsZWN0b3J9cmV0dXJuIHQubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmaWQuY2FsbCh0LGUpfSh0LGUpfHwocj1uLDApKSkscn1jbGFzcyBhZHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuY29tcG9uZW50RmFjdG9yeT1lLmdldChoYSkucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodCl9Y3JlYXRlKHQpe3JldHVybiBuZXcgbGQodGhpcy5jb21wb25lbnRGYWN0b3J5LHQpfX1jbGFzcyBsZHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuY29tcG9uZW50RmFjdG9yeT10LHRoaXMuaW5qZWN0b3I9ZSx0aGlzLmV2ZW50RW1pdHRlcnM9bmV3IEpoKDEpLHRoaXMuZXZlbnRzPXRoaXMuZXZlbnRFbWl0dGVycy5waXBlKGVkKHQ9PnEoLi4udCkpKSx0aGlzLmNvbXBvbmVudFJlZj1udWxsLHRoaXMudmlld0NoYW5nZURldGVjdG9yUmVmPW51bGwsdGhpcy5pbnB1dENoYW5nZXM9bnVsbCx0aGlzLmhhc0lucHV0Q2hhbmdlcz0hMSx0aGlzLmltcGxlbWVudHNPbkNoYW5nZXM9ITEsdGhpcy5zY2hlZHVsZWRDaGFuZ2VEZXRlY3Rpb25Gbj1udWxsLHRoaXMuc2NoZWR1bGVkRGVzdHJveUZuPW51bGwsdGhpcy5pbml0aWFsSW5wdXRWYWx1ZXM9bmV3IE1hcCx0aGlzLnVuY2hhbmdlZElucHV0cz1uZXcgU2V0KHRoaXMuY29tcG9uZW50RmFjdG9yeS5pbnB1dHMubWFwKCh7cHJvcE5hbWU6dH0pPT50KSksdGhpcy5uZ1pvbmU9dGhpcy5pbmplY3Rvci5nZXQoZXUpLHRoaXMuZWxlbWVudFpvbmU9InVuZGVmaW5lZCI9PXR5cGVvZiBab25lP251bGw6dGhpcy5uZ1pvbmUucnVuKCgpPT5ab25lLmN1cnJlbnQpfWNvbm5lY3QodCl7dGhpcy5ydW5JblpvbmUoKCk9PntpZihudWxsIT09dGhpcy5zY2hlZHVsZWREZXN0cm95Rm4pcmV0dXJuIHRoaXMuc2NoZWR1bGVkRGVzdHJveUZuKCksdm9pZCh0aGlzLnNjaGVkdWxlZERlc3Ryb3lGbj1udWxsKTtudWxsPT09dGhpcy5jb21wb25lbnRSZWYmJnRoaXMuaW5pdGlhbGl6ZUNvbXBvbmVudCh0KX0pfWRpc2Nvbm5lY3QoKXt0aGlzLnJ1bkluWm9uZSgoKT0+e251bGwhPT10aGlzLmNvbXBvbmVudFJlZiYmbnVsbD09PXRoaXMuc2NoZWR1bGVkRGVzdHJveUZuJiYodGhpcy5zY2hlZHVsZWREZXN0cm95Rm49c2Quc2NoZWR1bGUoKCk9PntudWxsIT09dGhpcy5jb21wb25lbnRSZWYmJih0aGlzLmNvbXBvbmVudFJlZi5kZXN0cm95KCksdGhpcy5jb21wb25lbnRSZWY9bnVsbCx0aGlzLnZpZXdDaGFuZ2VEZXRlY3RvclJlZj1udWxsKX0sMTApKX0pfWdldElucHV0VmFsdWUodCl7cmV0dXJuIHRoaXMucnVuSW5ab25lKCgpPT5udWxsPT09dGhpcy5jb21wb25lbnRSZWY/dGhpcy5pbml0aWFsSW5wdXRWYWx1ZXMuZ2V0KHQpOnRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlW3RdKX1zZXRJbnB1dFZhbHVlKHQsZSl7dGhpcy5ydW5JblpvbmUoKCk9Pnt2YXIgbixyO251bGwhPT10aGlzLmNvbXBvbmVudFJlZj8oKG49ZSkhPT0ocj10aGlzLmdldElucHV0VmFsdWUodCkpJiYobj09bnx8cj09cil8fHZvaWQgMD09PWUmJnRoaXMudW5jaGFuZ2VkSW5wdXRzLmhhcyh0KSkmJih0aGlzLnJlY29yZElucHV0Q2hhbmdlKHQsZSksdGhpcy51bmNoYW5nZWRJbnB1dHMuZGVsZXRlKHQpLHRoaXMuaGFzSW5wdXRDaGFuZ2VzPSEwLHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlW3RdPWUsdGhpcy5zY2hlZHVsZURldGVjdENoYW5nZXMoKSk6dGhpcy5pbml0aWFsSW5wdXRWYWx1ZXMuc2V0KHQsZSl9KX1pbml0aWFsaXplQ29tcG9uZW50KHQpe2NvbnN0IGU9V2kuY3JlYXRlKHtwcm92aWRlcnM6W10scGFyZW50OnRoaXMuaW5qZWN0b3J9KSxuPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmNoaWxkTm9kZXMscj1lLm1hcCgoKT0+W10pO2xldCBzPS0xO2Uuc29tZSgodCxlKT0+IioiPT09dCYmKHM9ZSwhMCkpO2ZvcihsZXQgaT0wLG89bi5sZW5ndGg7aTxvOysraSl7Y29uc3QgdD1uW2ldLG89b2QodCxlLHMpOy0xIT09byYmcltvXS5wdXNoKHQpfXJldHVybiByfSh0LHRoaXMuY29tcG9uZW50RmFjdG9yeS5uZ0NvbnRlbnRTZWxlY3RvcnMpO3RoaXMuY29tcG9uZW50UmVmPXRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoZSxuLHQpLHRoaXMudmlld0NoYW5nZURldGVjdG9yUmVmPXRoaXMuY29tcG9uZW50UmVmLmluamVjdG9yLmdldChVYSksdGhpcy5pbXBsZW1lbnRzT25DaGFuZ2VzPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5uZ09uQ2hhbmdlcyx0aGlzLmluaXRpYWxpemVJbnB1dHMoKSx0aGlzLmluaXRpYWxpemVPdXRwdXRzKHRoaXMuY29tcG9uZW50UmVmKSx0aGlzLmRldGVjdENoYW5nZXMoKSx0aGlzLmluamVjdG9yLmdldChfdSkuYXR0YWNoVmlldyh0aGlzLmNvbXBvbmVudFJlZi5ob3N0Vmlldyl9aW5pdGlhbGl6ZUlucHV0cygpe3RoaXMuY29tcG9uZW50RmFjdG9yeS5pbnB1dHMuZm9yRWFjaCgoe3Byb3BOYW1lOnR9KT0+e3RoaXMuaW5pdGlhbElucHV0VmFsdWVzLmhhcyh0KSYmdGhpcy5zZXRJbnB1dFZhbHVlKHQsdGhpcy5pbml0aWFsSW5wdXRWYWx1ZXMuZ2V0KHQpKX0pLHRoaXMuaW5pdGlhbElucHV0VmFsdWVzLmNsZWFyKCl9aW5pdGlhbGl6ZU91dHB1dHModCl7Y29uc3QgZT10aGlzLmNvbXBvbmVudEZhY3Rvcnkub3V0cHV0cy5tYXAoKHtwcm9wTmFtZTplLHRlbXBsYXRlTmFtZTpufSk9PnQuaW5zdGFuY2VbZV0ucGlwZShTKHQ9Pih7bmFtZTpuLHZhbHVlOnR9KSkpKTt0aGlzLmV2ZW50RW1pdHRlcnMubmV4dChlKX1jYWxsTmdPbkNoYW5nZXModCl7aWYoIXRoaXMuaW1wbGVtZW50c09uQ2hhbmdlc3x8bnVsbD09PXRoaXMuaW5wdXRDaGFuZ2VzKXJldHVybjtjb25zdCBlPXRoaXMuaW5wdXRDaGFuZ2VzO3RoaXMuaW5wdXRDaGFuZ2VzPW51bGwsdC5pbnN0YW5jZS5uZ09uQ2hhbmdlcyhlKX1tYXJrVmlld0ZvckNoZWNrKHQpe3RoaXMuaGFzSW5wdXRDaGFuZ2VzJiYodGhpcy5oYXNJbnB1dENoYW5nZXM9ITEsdC5tYXJrRm9yQ2hlY2soKSl9c2NoZWR1bGVEZXRlY3RDaGFuZ2VzKCl7dGhpcy5zY2hlZHVsZWRDaGFuZ2VEZXRlY3Rpb25Gbnx8KHRoaXMuc2NoZWR1bGVkQ2hhbmdlRGV0ZWN0aW9uRm49c2Quc2NoZWR1bGVCZWZvcmVSZW5kZXIoKCk9Pnt0aGlzLnNjaGVkdWxlZENoYW5nZURldGVjdGlvbkZuPW51bGwsdGhpcy5kZXRlY3RDaGFuZ2VzKCl9KSl9cmVjb3JkSW5wdXRDaGFuZ2UodCxlKXtpZighdGhpcy5pbXBsZW1lbnRzT25DaGFuZ2VzKXJldHVybjtudWxsPT09dGhpcy5pbnB1dENoYW5nZXMmJih0aGlzLmlucHV0Q2hhbmdlcz17fSk7Y29uc3Qgbj10aGlzLmlucHV0Q2hhbmdlc1t0XTtpZihuKXJldHVybiB2b2lkKG4uY3VycmVudFZhbHVlPWUpO2NvbnN0IHI9dGhpcy51bmNoYW5nZWRJbnB1dHMuaGFzKHQpLHM9cj92b2lkIDA6dGhpcy5nZXRJbnB1dFZhbHVlKHQpO3RoaXMuaW5wdXRDaGFuZ2VzW3RdPW5ldyBhZShzLGUscil9ZGV0ZWN0Q2hhbmdlcygpe251bGwhPT10aGlzLmNvbXBvbmVudFJlZiYmKHRoaXMuY2FsbE5nT25DaGFuZ2VzKHRoaXMuY29tcG9uZW50UmVmKSx0aGlzLm1hcmtWaWV3Rm9yQ2hlY2sodGhpcy52aWV3Q2hhbmdlRGV0ZWN0b3JSZWYpLHRoaXMuY29tcG9uZW50UmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKSl9cnVuSW5ab25lKHQpe3JldHVybiB0aGlzLmVsZW1lbnRab25lJiZab25lLmN1cnJlbnQhPT10aGlzLmVsZW1lbnRab25lP3RoaXMubmdab25lLnJ1bih0KTp0KCl9fWNsYXNzIHVkIGV4dGVuZHMgSFRNTEVsZW1lbnR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMubmdFbGVtZW50RXZlbnRzU3Vic2NyaXB0aW9uPW51bGx9fWZ1bmN0aW9uIGNkKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPXQubGVuZ3RoO2lmKDA9PT1yKXJldHVybiB2b2lkIG4uY29tcGxldGUoKTtjb25zdCBzPW5ldyBBcnJheShyKTtsZXQgaT0wLG89MDtmb3IobGV0IGE9MDthPHI7YSsrKXtjb25zdCBsPWoodFthXSk7bGV0IHU9ITE7bi5hZGQobC5zdWJzY3JpYmUoe25leHQ6dD0+e3V8fCh1PSEwLG8rKyksc1thXT10fSxlcnJvcjp0PT5uLmVycm9yKHQpLGNvbXBsZXRlOigpPT57aSsrLGkhPT1yJiZ1fHwobz09PXImJm4ubmV4dChlP2UucmVkdWNlKCh0LGUsbik9Pih0W2VdPXNbbl0sdCkse30pOnMpLG4uY29tcGxldGUoKSl9fSkpfX0pfW5ldyBfYSgiMTIuMC41Iik7bGV0IGhkPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9yZW5kZXJlcj10LHRoaXMuX2VsZW1lbnRSZWY9ZSx0aGlzLm9uQ2hhbmdlPXQ9Pnt9LHRoaXMub25Ub3VjaGVkPSgpPT57fX1zZXRQcm9wZXJ0eSh0LGUpe3RoaXMuX3JlbmRlcmVyLnNldFByb3BlcnR5KHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudCx0LGUpfXJlZ2lzdGVyT25Ub3VjaGVkKHQpe3RoaXMub25Ub3VjaGVkPXR9cmVnaXN0ZXJPbkNoYW5nZSh0KXt0aGlzLm9uQ2hhbmdlPXR9c2V0RGlzYWJsZWRTdGF0ZSh0KXt0aGlzLnNldFByb3BlcnR5KCJkaXNhYmxlZCIsdCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFvKHZhKSxhbyhnYSkpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0fSksdH0pKCksZGQ9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGhke31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oKXtsZXQgZTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKGV8fChlPVZuKHQpKSkobnx8dCl9fSgpLHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsZmVhdHVyZXM6W1ppXX0pLHR9KSgpO2NvbnN0IHBkPW5ldyBIbigiTmdWYWx1ZUFjY2Vzc29yIiksZmQ9e3Byb3ZpZGU6cGQsdXNlRXhpc3Rpbmc6c3QoKCk9Pm1kKSxtdWx0aTohMH0sZ2Q9bmV3IEhuKCJDb21wb3NpdGlvbkV2ZW50TW9kZSIpO2xldCBtZD0oKCk9PntjbGFzcyB0IGV4dGVuZHMgaGR7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQsZSksdGhpcy5fY29tcG9zaXRpb25Nb2RlPW4sdGhpcy5fY29tcG9zaW5nPSExLG51bGw9PXRoaXMuX2NvbXBvc2l0aW9uTW9kZSYmKHRoaXMuX2NvbXBvc2l0aW9uTW9kZT0hZnVuY3Rpb24oKXtjb25zdCB0PVB1KCk/UHUoKS5nZXRVc2VyQWdlbnQoKToiIjtyZXR1cm4vYW5kcm9pZCAoXGQrKS8udGVzdCh0LnRvTG93ZXJDYXNlKCkpfSgpKX13cml0ZVZhbHVlKHQpe3RoaXMuc2V0UHJvcGVydHkoInZhbHVlIixudWxsPT10PyIiOnQpfV9oYW5kbGVJbnB1dCh0KXsoIXRoaXMuX2NvbXBvc2l0aW9uTW9kZXx8dGhpcy5fY29tcG9zaXRpb25Nb2RlJiYhdGhpcy5fY29tcG9zaW5nKSYmdGhpcy5vbkNoYW5nZSh0KX1fY29tcG9zaXRpb25TdGFydCgpe3RoaXMuX2NvbXBvc2luZz0hMH1fY29tcG9zaXRpb25FbmQodCl7dGhpcy5fY29tcG9zaW5nPSExLHRoaXMuX2NvbXBvc2l0aW9uTW9kZSYmdGhpcy5vbkNoYW5nZSh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYW8odmEpLGFvKGdhKSxhbyhnZCw4KSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsc2VsZWN0b3JzOltbImlucHV0IiwiZm9ybUNvbnRyb2xOYW1lIiwiIiwzLCJ0eXBlIiwiY2hlY2tib3giXSxbInRleHRhcmVhIiwiZm9ybUNvbnRyb2xOYW1lIiwiIl0sWyJpbnB1dCIsImZvcm1Db250cm9sIiwiIiwzLCJ0eXBlIiwiY2hlY2tib3giXSxbInRleHRhcmVhIiwiZm9ybUNvbnRyb2wiLCIiXSxbImlucHV0IiwibmdNb2RlbCIsIiIsMywidHlwZSIsImNoZWNrYm94Il0sWyJ0ZXh0YXJlYSIsIm5nTW9kZWwiLCIiXSxbIiIsIm5nRGVmYXVsdENvbnRyb2wiLCIiXV0saG9zdEJpbmRpbmdzOmZ1bmN0aW9uKHQsZSl7MSZ0JiZ2bygiaW5wdXQiLGZ1bmN0aW9uKHQpe3JldHVybiBlLl9oYW5kbGVJbnB1dCh0LnRhcmdldC52YWx1ZSl9KSgiYmx1ciIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vblRvdWNoZWQoKX0pKCJjb21wb3NpdGlvbnN0YXJ0IixmdW5jdGlvbigpe3JldHVybiBlLl9jb21wb3NpdGlvblN0YXJ0KCl9KSgiY29tcG9zaXRpb25lbmQiLGZ1bmN0aW9uKHQpe3JldHVybiBlLl9jb21wb3NpdGlvbkVuZCh0LnRhcmdldC52YWx1ZSl9KX0sZmVhdHVyZXM6W2xhKFtmZF0pLFppXX0pLHR9KSgpO2NvbnN0IHlkPW5ldyBIbigiTmdWYWxpZGF0b3JzIiksdmQ9bmV3IEhuKCJOZ0FzeW5jVmFsaWRhdG9ycyIpO2Z1bmN0aW9uIGJkKHQpe3JldHVybiBudWxsIT10fWZ1bmN0aW9uIHdkKHQpe2NvbnN0IGU9bW8odCk/aih0KTp0O3JldHVybiB5byhlKSxlfWZ1bmN0aW9uIF9kKHQpe2xldCBlPXt9O3JldHVybiB0LmZvckVhY2godD0+e2U9bnVsbCE9dD9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSksdCk6ZX0pLDA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGg/bnVsbDplfWZ1bmN0aW9uIENkKHQsZSl7cmV0dXJuIGUubWFwKGU9PmUodCkpfWZ1bmN0aW9uIERkKHQpe3JldHVybiB0Lm1hcCh0PT5mdW5jdGlvbih0KXtyZXR1cm4hdC52YWxpZGF0ZX0odCk/dDplPT50LnZhbGlkYXRlKGUpKX1mdW5jdGlvbiBFZCh0KXtyZXR1cm4gbnVsbCE9dD9mdW5jdGlvbih0KXtpZighdClyZXR1cm4gbnVsbDtjb25zdCBlPXQuZmlsdGVyKGJkKTtyZXR1cm4gMD09ZS5sZW5ndGg/bnVsbDpmdW5jdGlvbih0KXtyZXR1cm4gX2QoQ2QodCxlKSl9fShEZCh0KSk6bnVsbH1mdW5jdGlvbiBBZCh0KXtyZXR1cm4gbnVsbCE9dD9mdW5jdGlvbih0KXtpZighdClyZXR1cm4gbnVsbDtjb25zdCBlPXQuZmlsdGVyKGJkKTtyZXR1cm4gMD09ZS5sZW5ndGg/bnVsbDpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oLi4udCl7aWYoMT09PXQubGVuZ3RoKXtjb25zdCBlPXRbMF07aWYobChlKSlyZXR1cm4gY2QoZSxudWxsKTtpZih1KGUpJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk9PT1PYmplY3QucHJvdG90eXBlKXtjb25zdCB0PU9iamVjdC5rZXlzKGUpO3JldHVybiBjZCh0Lm1hcCh0PT5lW3RdKSx0KX19aWYoImZ1bmN0aW9uIj09dHlwZW9mIHRbdC5sZW5ndGgtMV0pe2NvbnN0IGU9dC5wb3AoKTtyZXR1cm4gY2QodD0xPT09dC5sZW5ndGgmJmwodFswXSk/dFswXTp0LG51bGwpLnBpcGUoUyh0PT5lKC4uLnQpKSl9cmV0dXJuIGNkKHQsbnVsbCl9KENkKHQsZSkubWFwKHdkKSkucGlwZShTKF9kKSl9fShEZCh0KSk6bnVsbH1mdW5jdGlvbiBTZCh0LGUpe3JldHVybiBudWxsPT09dD9bZV06QXJyYXkuaXNBcnJheSh0KT9bLi4udCxlXTpbdCxlXX1sZXQgeGQ9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuX3Jhd1ZhbGlkYXRvcnM9W10sdGhpcy5fcmF3QXN5bmNWYWxpZGF0b3JzPVtdLHRoaXMuX29uRGVzdHJveUNhbGxiYWNrcz1bXX1nZXQgdmFsdWUoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC52YWx1ZTpudWxsfWdldCB2YWxpZCgpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLnZhbGlkOm51bGx9Z2V0IGludmFsaWQoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5pbnZhbGlkOm51bGx9Z2V0IHBlbmRpbmcoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5wZW5kaW5nOm51bGx9Z2V0IGRpc2FibGVkKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wuZGlzYWJsZWQ6bnVsbH1nZXQgZW5hYmxlZCgpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLmVuYWJsZWQ6bnVsbH1nZXQgZXJyb3JzKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wuZXJyb3JzOm51bGx9Z2V0IHByaXN0aW5lKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wucHJpc3RpbmU6bnVsbH1nZXQgZGlydHkoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5kaXJ0eTpudWxsfWdldCB0b3VjaGVkKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wudG91Y2hlZDpudWxsfWdldCBzdGF0dXMoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5zdGF0dXM6bnVsbH1nZXQgdW50b3VjaGVkKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wudW50b3VjaGVkOm51bGx9Z2V0IHN0YXR1c0NoYW5nZXMoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5zdGF0dXNDaGFuZ2VzOm51bGx9Z2V0IHZhbHVlQ2hhbmdlcygpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLnZhbHVlQ2hhbmdlczpudWxsfWdldCBwYXRoKCl7cmV0dXJuIG51bGx9X3NldFZhbGlkYXRvcnModCl7dGhpcy5fcmF3VmFsaWRhdG9ycz10fHxbXSx0aGlzLl9jb21wb3NlZFZhbGlkYXRvckZuPUVkKHRoaXMuX3Jhd1ZhbGlkYXRvcnMpfV9zZXRBc3luY1ZhbGlkYXRvcnModCl7dGhpcy5fcmF3QXN5bmNWYWxpZGF0b3JzPXR8fFtdLHRoaXMuX2NvbXBvc2VkQXN5bmNWYWxpZGF0b3JGbj1BZCh0aGlzLl9yYXdBc3luY1ZhbGlkYXRvcnMpfWdldCB2YWxpZGF0b3IoKXtyZXR1cm4gdGhpcy5fY29tcG9zZWRWYWxpZGF0b3JGbnx8bnVsbH1nZXQgYXN5bmNWYWxpZGF0b3IoKXtyZXR1cm4gdGhpcy5fY29tcG9zZWRBc3luY1ZhbGlkYXRvckZufHxudWxsfV9yZWdpc3Rlck9uRGVzdHJveSh0KXt0aGlzLl9vbkRlc3Ryb3lDYWxsYmFja3MucHVzaCh0KX1faW52b2tlT25EZXN0cm95Q2FsbGJhY2tzKCl7dGhpcy5fb25EZXN0cm95Q2FsbGJhY2tzLmZvckVhY2godD0+dCgpKSx0aGlzLl9vbkRlc3Ryb3lDYWxsYmFja3M9W119cmVzZXQodCl7dGhpcy5jb250cm9sJiZ0aGlzLmNvbnRyb2wucmVzZXQodCl9aGFzRXJyb3IodCxlKXtyZXR1cm4hIXRoaXMuY29udHJvbCYmdGhpcy5jb250cm9sLmhhc0Vycm9yKHQsZSl9Z2V0RXJyb3IodCxlKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5nZXRFcnJvcih0LGUpOm51bGx9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0fSksdH0pKCksa2Q9KCgpPT57Y2xhc3MgdCBleHRlbmRzIHhke2dldCBmb3JtRGlyZWN0aXZlKCl7cmV0dXJuIG51bGx9Z2V0IHBhdGgoKXtyZXR1cm4gbnVsbH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKCl7bGV0IGU7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybihlfHwoZT1Wbih0KSkpKG58fHQpfX0oKSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0LGZlYXR1cmVzOltaaV19KSx0fSkoKTtjbGFzcyBUZCBleHRlbmRzIHhke2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9wYXJlbnQ9bnVsbCx0aGlzLm5hbWU9bnVsbCx0aGlzLnZhbHVlQWNjZXNzb3I9bnVsbH19bGV0IEZkPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBjbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9jZD10fWlzKHQpe3ZhciBlLG47cmV0dXJuISEobnVsbD09PShuPW51bGw9PT0oZT10aGlzLl9jZCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY29udHJvbCl8fHZvaWQgMD09PW4/dm9pZCAwOm5bdF0pfX17Y29uc3RydWN0b3IodCl7c3VwZXIodCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFvKFRkLDIpKX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwiZm9ybUNvbnRyb2xOYW1lIiwiIl0sWyIiLCJuZ01vZGVsIiwiIl0sWyIiLCJmb3JtQ29udHJvbCIsIiJdXSxob3N0VmFyczoxNCxob3N0QmluZGluZ3M6ZnVuY3Rpb24odCxlKXsyJnQmJk9vKCJuZy11bnRvdWNoZWQiLGUuaXMoInVudG91Y2hlZCIpKSgibmctdG91Y2hlZCIsZS5pcygidG91Y2hlZCIpKSgibmctcHJpc3RpbmUiLGUuaXMoInByaXN0aW5lIikpKCJuZy1kaXJ0eSIsZS5pcygiZGlydHkiKSkoIm5nLXZhbGlkIixlLmlzKCJ2YWxpZCIpKSgibmctaW52YWxpZCIsZS5pcygiaW52YWxpZCIpKSgibmctcGVuZGluZyIsZS5pcygicGVuZGluZyIpKX0sZmVhdHVyZXM6W1ppXX0pLHR9KSgpO2Z1bmN0aW9uIE9kKHQsZSl7dC5mb3JFYWNoKHQ9Pnt0LnJlZ2lzdGVyT25WYWxpZGF0b3JDaGFuZ2UmJnQucmVnaXN0ZXJPblZhbGlkYXRvckNoYW5nZShlKX0pfWZ1bmN0aW9uIFBkKHQsZSl7dC5fcGVuZGluZ0RpcnR5JiZ0Lm1hcmtBc0RpcnR5KCksdC5zZXRWYWx1ZSh0Ll9wZW5kaW5nVmFsdWUse2VtaXRNb2RlbFRvVmlld0NoYW5nZTohMX0pLGUudmlld1RvTW9kZWxVcGRhdGUodC5fcGVuZGluZ1ZhbHVlKSx0Ll9wZW5kaW5nQ2hhbmdlPSExfWZ1bmN0aW9uIElkKHQsZSl7Y29uc3Qgbj10LmluZGV4T2YoZSk7bj4tMSYmdC5zcGxpY2UobiwxKX1jb25zdCBSZD0iVkFMSUQiLE1kPSJJTlZBTElEIixqZD0iUEVORElORyIsTmQ9IkRJU0FCTEVEIjtmdW5jdGlvbiBWZCh0KXtyZXR1cm4oSGQodCk/dC52YWxpZGF0b3JzOnQpfHxudWxsfWZ1bmN0aW9uIExkKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP0VkKHQpOnR8fG51bGx9ZnVuY3Rpb24gQmQodCxlKXtyZXR1cm4oSGQoZSk/ZS5hc3luY1ZhbGlkYXRvcnM6dCl8fG51bGx9ZnVuY3Rpb24gVWQodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/QWQodCk6dHx8bnVsbH1mdW5jdGlvbiBIZCh0KXtyZXR1cm4gbnVsbCE9dCYmIUFycmF5LmlzQXJyYXkodCkmJiJvYmplY3QiPT10eXBlb2YgdH1jbGFzcyAkZHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX2hhc093blBlbmRpbmdBc3luY1ZhbGlkYXRvcj0hMSx0aGlzLl9vbkNvbGxlY3Rpb25DaGFuZ2U9KCk9Pnt9LHRoaXMuX3BhcmVudD1udWxsLHRoaXMucHJpc3RpbmU9ITAsdGhpcy50b3VjaGVkPSExLHRoaXMuX29uRGlzYWJsZWRDaGFuZ2U9W10sdGhpcy5fcmF3VmFsaWRhdG9ycz10LHRoaXMuX3Jhd0FzeW5jVmFsaWRhdG9ycz1lLHRoaXMuX2NvbXBvc2VkVmFsaWRhdG9yRm49TGQodGhpcy5fcmF3VmFsaWRhdG9ycyksdGhpcy5fY29tcG9zZWRBc3luY1ZhbGlkYXRvckZuPVVkKHRoaXMuX3Jhd0FzeW5jVmFsaWRhdG9ycyl9Z2V0IHZhbGlkYXRvcigpe3JldHVybiB0aGlzLl9jb21wb3NlZFZhbGlkYXRvckZufXNldCB2YWxpZGF0b3IodCl7dGhpcy5fcmF3VmFsaWRhdG9ycz10aGlzLl9jb21wb3NlZFZhbGlkYXRvckZuPXR9Z2V0IGFzeW5jVmFsaWRhdG9yKCl7cmV0dXJuIHRoaXMuX2NvbXBvc2VkQXN5bmNWYWxpZGF0b3JGbn1zZXQgYXN5bmNWYWxpZGF0b3IodCl7dGhpcy5fcmF3QXN5bmNWYWxpZGF0b3JzPXRoaXMuX2NvbXBvc2VkQXN5bmNWYWxpZGF0b3JGbj10fWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy5fcGFyZW50fWdldCB2YWxpZCgpe3JldHVybiB0aGlzLnN0YXR1cz09PVJkfWdldCBpbnZhbGlkKCl7cmV0dXJuIHRoaXMuc3RhdHVzPT09TWR9Z2V0IHBlbmRpbmcoKXtyZXR1cm4gdGhpcy5zdGF0dXM9PWpkfWdldCBkaXNhYmxlZCgpe3JldHVybiB0aGlzLnN0YXR1cz09PU5kfWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMuc3RhdHVzIT09TmR9Z2V0IGRpcnR5KCl7cmV0dXJuIXRoaXMucHJpc3RpbmV9Z2V0IHVudG91Y2hlZCgpe3JldHVybiF0aGlzLnRvdWNoZWR9Z2V0IHVwZGF0ZU9uKCl7cmV0dXJuIHRoaXMuX3VwZGF0ZU9uP3RoaXMuX3VwZGF0ZU9uOnRoaXMucGFyZW50P3RoaXMucGFyZW50LnVwZGF0ZU9uOiJjaGFuZ2UifXNldFZhbGlkYXRvcnModCl7dGhpcy5fcmF3VmFsaWRhdG9ycz10LHRoaXMuX2NvbXBvc2VkVmFsaWRhdG9yRm49TGQodCl9c2V0QXN5bmNWYWxpZGF0b3JzKHQpe3RoaXMuX3Jhd0FzeW5jVmFsaWRhdG9ycz10LHRoaXMuX2NvbXBvc2VkQXN5bmNWYWxpZGF0b3JGbj1VZCh0KX1jbGVhclZhbGlkYXRvcnMoKXt0aGlzLnZhbGlkYXRvcj1udWxsfWNsZWFyQXN5bmNWYWxpZGF0b3JzKCl7dGhpcy5hc3luY1ZhbGlkYXRvcj1udWxsfW1hcmtBc1RvdWNoZWQodD17fSl7dGhpcy50b3VjaGVkPSEwLHRoaXMuX3BhcmVudCYmIXQub25seVNlbGYmJnRoaXMuX3BhcmVudC5tYXJrQXNUb3VjaGVkKHQpfW1hcmtBbGxBc1RvdWNoZWQoKXt0aGlzLm1hcmtBc1RvdWNoZWQoe29ubHlTZWxmOiEwfSksdGhpcy5fZm9yRWFjaENoaWxkKHQ9PnQubWFya0FsbEFzVG91Y2hlZCgpKX1tYXJrQXNVbnRvdWNoZWQodD17fSl7dGhpcy50b3VjaGVkPSExLHRoaXMuX3BlbmRpbmdUb3VjaGVkPSExLHRoaXMuX2ZvckVhY2hDaGlsZCh0PT57dC5tYXJrQXNVbnRvdWNoZWQoe29ubHlTZWxmOiEwfSl9KSx0aGlzLl9wYXJlbnQmJiF0Lm9ubHlTZWxmJiZ0aGlzLl9wYXJlbnQuX3VwZGF0ZVRvdWNoZWQodCl9bWFya0FzRGlydHkodD17fSl7dGhpcy5wcmlzdGluZT0hMSx0aGlzLl9wYXJlbnQmJiF0Lm9ubHlTZWxmJiZ0aGlzLl9wYXJlbnQubWFya0FzRGlydHkodCl9bWFya0FzUHJpc3RpbmUodD17fSl7dGhpcy5wcmlzdGluZT0hMCx0aGlzLl9wZW5kaW5nRGlydHk9ITEsdGhpcy5fZm9yRWFjaENoaWxkKHQ9Pnt0Lm1hcmtBc1ByaXN0aW5lKHtvbmx5U2VsZjohMH0pfSksdGhpcy5fcGFyZW50JiYhdC5vbmx5U2VsZiYmdGhpcy5fcGFyZW50Ll91cGRhdGVQcmlzdGluZSh0KX1tYXJrQXNQZW5kaW5nKHQ9e30pe3RoaXMuc3RhdHVzPWpkLCExIT09dC5lbWl0RXZlbnQmJnRoaXMuc3RhdHVzQ2hhbmdlcy5lbWl0KHRoaXMuc3RhdHVzKSx0aGlzLl9wYXJlbnQmJiF0Lm9ubHlTZWxmJiZ0aGlzLl9wYXJlbnQubWFya0FzUGVuZGluZyh0KX1kaXNhYmxlKHQ9e30pe2NvbnN0IGU9dGhpcy5fcGFyZW50TWFya2VkRGlydHkodC5vbmx5U2VsZik7dGhpcy5zdGF0dXM9TmQsdGhpcy5lcnJvcnM9bnVsbCx0aGlzLl9mb3JFYWNoQ2hpbGQoZT0+e2UuZGlzYWJsZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse29ubHlTZWxmOiEwfSkpfSksdGhpcy5fdXBkYXRlVmFsdWUoKSwhMSE9PXQuZW1pdEV2ZW50JiYodGhpcy52YWx1ZUNoYW5nZXMuZW1pdCh0aGlzLnZhbHVlKSx0aGlzLnN0YXR1c0NoYW5nZXMuZW1pdCh0aGlzLnN0YXR1cykpLHRoaXMuX3VwZGF0ZUFuY2VzdG9ycyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse3NraXBQcmlzdGluZUNoZWNrOmV9KSksdGhpcy5fb25EaXNhYmxlZENoYW5nZS5mb3JFYWNoKHQ9PnQoITApKX1lbmFibGUodD17fSl7Y29uc3QgZT10aGlzLl9wYXJlbnRNYXJrZWREaXJ0eSh0Lm9ubHlTZWxmKTt0aGlzLnN0YXR1cz1SZCx0aGlzLl9mb3JFYWNoQ2hpbGQoZT0+e2UuZW5hYmxlKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7b25seVNlbGY6ITB9KSl9KSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe29ubHlTZWxmOiEwLGVtaXRFdmVudDp0LmVtaXRFdmVudH0pLHRoaXMuX3VwZGF0ZUFuY2VzdG9ycyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse3NraXBQcmlzdGluZUNoZWNrOmV9KSksdGhpcy5fb25EaXNhYmxlZENoYW5nZS5mb3JFYWNoKHQ9PnQoITEpKX1fdXBkYXRlQW5jZXN0b3JzKHQpe3RoaXMuX3BhcmVudCYmIXQub25seVNlbGYmJih0aGlzLl9wYXJlbnQudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh0KSx0LnNraXBQcmlzdGluZUNoZWNrfHx0aGlzLl9wYXJlbnQuX3VwZGF0ZVByaXN0aW5lKCksdGhpcy5fcGFyZW50Ll91cGRhdGVUb3VjaGVkKCkpfXNldFBhcmVudCh0KXt0aGlzLl9wYXJlbnQ9dH11cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHQ9e30pe3RoaXMuX3NldEluaXRpYWxTdGF0dXMoKSx0aGlzLl91cGRhdGVWYWx1ZSgpLHRoaXMuZW5hYmxlZCYmKHRoaXMuX2NhbmNlbEV4aXN0aW5nU3Vic2NyaXB0aW9uKCksdGhpcy5lcnJvcnM9dGhpcy5fcnVuVmFsaWRhdG9yKCksdGhpcy5zdGF0dXM9dGhpcy5fY2FsY3VsYXRlU3RhdHVzKCksdGhpcy5zdGF0dXMhPT1SZCYmdGhpcy5zdGF0dXMhPT1qZHx8dGhpcy5fcnVuQXN5bmNWYWxpZGF0b3IodC5lbWl0RXZlbnQpKSwhMSE9PXQuZW1pdEV2ZW50JiYodGhpcy52YWx1ZUNoYW5nZXMuZW1pdCh0aGlzLnZhbHVlKSx0aGlzLnN0YXR1c0NoYW5nZXMuZW1pdCh0aGlzLnN0YXR1cykpLHRoaXMuX3BhcmVudCYmIXQub25seVNlbGYmJnRoaXMuX3BhcmVudC51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHQpfV91cGRhdGVUcmVlVmFsaWRpdHkodD17ZW1pdEV2ZW50OiEwfSl7dGhpcy5fZm9yRWFjaENoaWxkKGU9PmUuX3VwZGF0ZVRyZWVWYWxpZGl0eSh0KSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6dC5lbWl0RXZlbnR9KX1fc2V0SW5pdGlhbFN0YXR1cygpe3RoaXMuc3RhdHVzPXRoaXMuX2FsbENvbnRyb2xzRGlzYWJsZWQoKT9OZDpSZH1fcnVuVmFsaWRhdG9yKCl7cmV0dXJuIHRoaXMudmFsaWRhdG9yP3RoaXMudmFsaWRhdG9yKHRoaXMpOm51bGx9X3J1bkFzeW5jVmFsaWRhdG9yKHQpe2lmKHRoaXMuYXN5bmNWYWxpZGF0b3Ipe3RoaXMuc3RhdHVzPWpkLHRoaXMuX2hhc093blBlbmRpbmdBc3luY1ZhbGlkYXRvcj0hMDtjb25zdCBlPXdkKHRoaXMuYXN5bmNWYWxpZGF0b3IodGhpcykpO3RoaXMuX2FzeW5jVmFsaWRhdGlvblN1YnNjcmlwdGlvbj1lLnN1YnNjcmliZShlPT57dGhpcy5faGFzT3duUGVuZGluZ0FzeW5jVmFsaWRhdG9yPSExLHRoaXMuc2V0RXJyb3JzKGUse2VtaXRFdmVudDp0fSl9KX19X2NhbmNlbEV4aXN0aW5nU3Vic2NyaXB0aW9uKCl7dGhpcy5fYXN5bmNWYWxpZGF0aW9uU3Vic2NyaXB0aW9uJiYodGhpcy5fYXN5bmNWYWxpZGF0aW9uU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCksdGhpcy5faGFzT3duUGVuZGluZ0FzeW5jVmFsaWRhdG9yPSExKX1zZXRFcnJvcnModCxlPXt9KXt0aGlzLmVycm9ycz10LHRoaXMuX3VwZGF0ZUNvbnRyb2xzRXJyb3JzKCExIT09ZS5lbWl0RXZlbnQpfWdldCh0KXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7aWYoQXJyYXkuaXNBcnJheShlKXx8KGU9ZS5zcGxpdCgiLiIpKSxBcnJheS5pc0FycmF5KGUpJiYwPT09ZS5sZW5ndGgpcmV0dXJuIG51bGw7bGV0IHI9dDtyZXR1cm4gZS5mb3JFYWNoKHQ9PntyPXIgaW5zdGFuY2VvZiBxZD9yLmNvbnRyb2xzLmhhc093blByb3BlcnR5KHQpP3IuY29udHJvbHNbdF06bnVsbDpyIGluc3RhbmNlb2YgV2QmJnIuYXQodCl8fG51bGx9KSxyfSh0aGlzLHQpfWdldEVycm9yKHQsZSl7Y29uc3Qgbj1lP3RoaXMuZ2V0KGUpOnRoaXM7cmV0dXJuIG4mJm4uZXJyb3JzP24uZXJyb3JzW3RdOm51bGx9aGFzRXJyb3IodCxlKXtyZXR1cm4hIXRoaXMuZ2V0RXJyb3IodCxlKX1nZXQgcm9vdCgpe2xldCB0PXRoaXM7Zm9yKDt0Ll9wYXJlbnQ7KXQ9dC5fcGFyZW50O3JldHVybiB0fV91cGRhdGVDb250cm9sc0Vycm9ycyh0KXt0aGlzLnN0YXR1cz10aGlzLl9jYWxjdWxhdGVTdGF0dXMoKSx0JiZ0aGlzLnN0YXR1c0NoYW5nZXMuZW1pdCh0aGlzLnN0YXR1cyksdGhpcy5fcGFyZW50JiZ0aGlzLl9wYXJlbnQuX3VwZGF0ZUNvbnRyb2xzRXJyb3JzKHQpfV9pbml0T2JzZXJ2YWJsZXMoKXt0aGlzLnZhbHVlQ2hhbmdlcz1uZXcgZ2wsdGhpcy5zdGF0dXNDaGFuZ2VzPW5ldyBnbH1fY2FsY3VsYXRlU3RhdHVzKCl7cmV0dXJuIHRoaXMuX2FsbENvbnRyb2xzRGlzYWJsZWQoKT9OZDp0aGlzLmVycm9ycz9NZDp0aGlzLl9oYXNPd25QZW5kaW5nQXN5bmNWYWxpZGF0b3J8fHRoaXMuX2FueUNvbnRyb2xzSGF2ZVN0YXR1cyhqZCk/amQ6dGhpcy5fYW55Q29udHJvbHNIYXZlU3RhdHVzKE1kKT9NZDpSZH1fYW55Q29udHJvbHNIYXZlU3RhdHVzKHQpe3JldHVybiB0aGlzLl9hbnlDb250cm9scyhlPT5lLnN0YXR1cz09PXQpfV9hbnlDb250cm9sc0RpcnR5KCl7cmV0dXJuIHRoaXMuX2FueUNvbnRyb2xzKHQ9PnQuZGlydHkpfV9hbnlDb250cm9sc1RvdWNoZWQoKXtyZXR1cm4gdGhpcy5fYW55Q29udHJvbHModD0+dC50b3VjaGVkKX1fdXBkYXRlUHJpc3RpbmUodD17fSl7dGhpcy5wcmlzdGluZT0hdGhpcy5fYW55Q29udHJvbHNEaXJ0eSgpLHRoaXMuX3BhcmVudCYmIXQub25seVNlbGYmJnRoaXMuX3BhcmVudC5fdXBkYXRlUHJpc3RpbmUodCl9X3VwZGF0ZVRvdWNoZWQodD17fSl7dGhpcy50b3VjaGVkPXRoaXMuX2FueUNvbnRyb2xzVG91Y2hlZCgpLHRoaXMuX3BhcmVudCYmIXQub25seVNlbGYmJnRoaXMuX3BhcmVudC5fdXBkYXRlVG91Y2hlZCh0KX1faXNCb3hlZFZhbHVlKHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9PXQmJjI9PT1PYmplY3Qua2V5cyh0KS5sZW5ndGgmJiJ2YWx1ZSJpbiB0JiYiZGlzYWJsZWQiaW4gdH1fcmVnaXN0ZXJPbkNvbGxlY3Rpb25DaGFuZ2UodCl7dGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlPXR9X3NldFVwZGF0ZVN0cmF0ZWd5KHQpe0hkKHQpJiZudWxsIT10LnVwZGF0ZU9uJiYodGhpcy5fdXBkYXRlT249dC51cGRhdGVPbil9X3BhcmVudE1hcmtlZERpcnR5KHQpe3JldHVybiF0JiYhKCF0aGlzLl9wYXJlbnR8fCF0aGlzLl9wYXJlbnQuZGlydHkpJiYhdGhpcy5fcGFyZW50Ll9hbnlDb250cm9sc0RpcnR5KCl9fWNsYXNzIHpkIGV4dGVuZHMgJGR7Y29uc3RydWN0b3IodD1udWxsLGUsbil7c3VwZXIoVmQoZSksQmQobixlKSksdGhpcy5fb25DaGFuZ2U9W10sdGhpcy5fYXBwbHlGb3JtU3RhdGUodCksdGhpcy5fc2V0VXBkYXRlU3RyYXRlZ3koZSksdGhpcy5faW5pdE9ic2VydmFibGVzKCksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6ISFufSl9c2V0VmFsdWUodCxlPXt9KXt0aGlzLnZhbHVlPXRoaXMuX3BlbmRpbmdWYWx1ZT10LHRoaXMuX29uQ2hhbmdlLmxlbmd0aCYmITEhPT1lLmVtaXRNb2RlbFRvVmlld0NoYW5nZSYmdGhpcy5fb25DaGFuZ2UuZm9yRWFjaCh0PT50KHRoaXMudmFsdWUsITEhPT1lLmVtaXRWaWV3VG9Nb2RlbENoYW5nZSkpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eShlKX1wYXRjaFZhbHVlKHQsZT17fSl7dGhpcy5zZXRWYWx1ZSh0LGUpfXJlc2V0KHQ9bnVsbCxlPXt9KXt0aGlzLl9hcHBseUZvcm1TdGF0ZSh0KSx0aGlzLm1hcmtBc1ByaXN0aW5lKGUpLHRoaXMubWFya0FzVW50b3VjaGVkKGUpLHRoaXMuc2V0VmFsdWUodGhpcy52YWx1ZSxlKSx0aGlzLl9wZW5kaW5nQ2hhbmdlPSExfV91cGRhdGVWYWx1ZSgpe31fYW55Q29udHJvbHModCl7cmV0dXJuITF9X2FsbENvbnRyb2xzRGlzYWJsZWQoKXtyZXR1cm4gdGhpcy5kaXNhYmxlZH1yZWdpc3Rlck9uQ2hhbmdlKHQpe3RoaXMuX29uQ2hhbmdlLnB1c2godCl9X3VucmVnaXN0ZXJPbkNoYW5nZSh0KXtJZCh0aGlzLl9vbkNoYW5nZSx0KX1yZWdpc3Rlck9uRGlzYWJsZWRDaGFuZ2UodCl7dGhpcy5fb25EaXNhYmxlZENoYW5nZS5wdXNoKHQpfV91bnJlZ2lzdGVyT25EaXNhYmxlZENoYW5nZSh0KXtJZCh0aGlzLl9vbkRpc2FibGVkQ2hhbmdlLHQpfV9mb3JFYWNoQ2hpbGQodCl7fV9zeW5jUGVuZGluZ0NvbnRyb2xzKCl7cmV0dXJuISgic3VibWl0IiE9PXRoaXMudXBkYXRlT258fCh0aGlzLl9wZW5kaW5nRGlydHkmJnRoaXMubWFya0FzRGlydHkoKSx0aGlzLl9wZW5kaW5nVG91Y2hlZCYmdGhpcy5tYXJrQXNUb3VjaGVkKCksIXRoaXMuX3BlbmRpbmdDaGFuZ2UpfHwodGhpcy5zZXRWYWx1ZSh0aGlzLl9wZW5kaW5nVmFsdWUse29ubHlTZWxmOiEwLGVtaXRNb2RlbFRvVmlld0NoYW5nZTohMX0pLDApKX1fYXBwbHlGb3JtU3RhdGUodCl7dGhpcy5faXNCb3hlZFZhbHVlKHQpPyh0aGlzLnZhbHVlPXRoaXMuX3BlbmRpbmdWYWx1ZT10LnZhbHVlLHQuZGlzYWJsZWQ/dGhpcy5kaXNhYmxlKHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6ITF9KTp0aGlzLmVuYWJsZSh7b25seVNlbGY6ITAsZW1pdEV2ZW50OiExfSkpOnRoaXMudmFsdWU9dGhpcy5fcGVuZGluZ1ZhbHVlPXR9fWNsYXNzIHFkIGV4dGVuZHMgJGR7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKFZkKGUpLEJkKG4sZSkpLHRoaXMuY29udHJvbHM9dCx0aGlzLl9pbml0T2JzZXJ2YWJsZXMoKSx0aGlzLl9zZXRVcGRhdGVTdHJhdGVneShlKSx0aGlzLl9zZXRVcENvbnRyb2xzKCksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6ISFufSl9cmVnaXN0ZXJDb250cm9sKHQsZSl7cmV0dXJuIHRoaXMuY29udHJvbHNbdF0/dGhpcy5jb250cm9sc1t0XToodGhpcy5jb250cm9sc1t0XT1lLGUuc2V0UGFyZW50KHRoaXMpLGUuX3JlZ2lzdGVyT25Db2xsZWN0aW9uQ2hhbmdlKHRoaXMuX29uQ29sbGVjdGlvbkNoYW5nZSksZSl9YWRkQ29udHJvbCh0LGUsbj17fSl7dGhpcy5yZWdpc3RlckNvbnRyb2wodCxlKSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDpuLmVtaXRFdmVudH0pLHRoaXMuX29uQ29sbGVjdGlvbkNoYW5nZSgpfXJlbW92ZUNvbnRyb2wodCxlPXt9KXt0aGlzLmNvbnRyb2xzW3RdJiZ0aGlzLmNvbnRyb2xzW3RdLl9yZWdpc3Rlck9uQ29sbGVjdGlvbkNoYW5nZSgoKT0+e30pLGRlbGV0ZSB0aGlzLmNvbnRyb2xzW3RdLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7ZW1pdEV2ZW50OmUuZW1pdEV2ZW50fSksdGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlKCl9c2V0Q29udHJvbCh0LGUsbj17fSl7dGhpcy5jb250cm9sc1t0XSYmdGhpcy5jb250cm9sc1t0XS5fcmVnaXN0ZXJPbkNvbGxlY3Rpb25DaGFuZ2UoKCk9Pnt9KSxkZWxldGUgdGhpcy5jb250cm9sc1t0XSxlJiZ0aGlzLnJlZ2lzdGVyQ29udHJvbCh0LGUpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7ZW1pdEV2ZW50Om4uZW1pdEV2ZW50fSksdGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlKCl9Y29udGFpbnModCl7cmV0dXJuIHRoaXMuY29udHJvbHMuaGFzT3duUHJvcGVydHkodCkmJnRoaXMuY29udHJvbHNbdF0uZW5hYmxlZH1zZXRWYWx1ZSh0LGU9e30pe3RoaXMuX2NoZWNrQWxsVmFsdWVzUHJlc2VudCh0KSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKG49Pnt0aGlzLl90aHJvd0lmQ29udHJvbE1pc3NpbmcobiksdGhpcy5jb250cm9sc1tuXS5zZXRWYWx1ZSh0W25dLHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6ZS5lbWl0RXZlbnR9KX0pLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eShlKX1wYXRjaFZhbHVlKHQsZT17fSl7bnVsbCE9dCYmKE9iamVjdC5rZXlzKHQpLmZvckVhY2gobj0+e3RoaXMuY29udHJvbHNbbl0mJnRoaXMuY29udHJvbHNbbl0ucGF0Y2hWYWx1ZSh0W25dLHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6ZS5lbWl0RXZlbnR9KX0pLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eShlKSl9cmVzZXQodD17fSxlPXt9KXt0aGlzLl9mb3JFYWNoQ2hpbGQoKG4scik9PntuLnJlc2V0KHRbcl0se29ubHlTZWxmOiEwLGVtaXRFdmVudDplLmVtaXRFdmVudH0pfSksdGhpcy5fdXBkYXRlUHJpc3RpbmUoZSksdGhpcy5fdXBkYXRlVG91Y2hlZChlKSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoZSl9Z2V0UmF3VmFsdWUoKXtyZXR1cm4gdGhpcy5fcmVkdWNlQ2hpbGRyZW4oe30sKHQsZSxuKT0+KHRbbl09ZSBpbnN0YW5jZW9mIHpkP2UudmFsdWU6ZS5nZXRSYXdWYWx1ZSgpLHQpKX1fc3luY1BlbmRpbmdDb250cm9scygpe2xldCB0PXRoaXMuX3JlZHVjZUNoaWxkcmVuKCExLCh0LGUpPT4hIWUuX3N5bmNQZW5kaW5nQ29udHJvbHMoKXx8dCk7cmV0dXJuIHQmJnRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7b25seVNlbGY6ITB9KSx0fV90aHJvd0lmQ29udHJvbE1pc3NpbmcodCl7aWYoIU9iamVjdC5rZXlzKHRoaXMuY29udHJvbHMpLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIlxuICAgICAgICBUaGVyZSBhcmUgbm8gZm9ybSBjb250cm9scyByZWdpc3RlcmVkIHdpdGggdGhpcyBncm91cCB5ZXQuIElmIHlvdSdyZSB1c2luZyBuZ01vZGVsLFxuICAgICAgICB5b3UgbWF5IHdhbnQgdG8gY2hlY2sgbmV4dCB0aWNrIChlLmcuIHVzZSBzZXRUaW1lb3V0KS5cbiAgICAgICIpO2lmKCF0aGlzLmNvbnRyb2xzW3RdKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgZm9ybSBjb250cm9sIHdpdGggbmFtZTogJHt0fS5gKX1fZm9yRWFjaENoaWxkKHQpe09iamVjdC5rZXlzKHRoaXMuY29udHJvbHMpLmZvckVhY2goZT0+e2NvbnN0IG49dGhpcy5jb250cm9sc1tlXTtuJiZ0KG4sZSl9KX1fc2V0VXBDb250cm9scygpe3RoaXMuX2ZvckVhY2hDaGlsZCh0PT57dC5zZXRQYXJlbnQodGhpcyksdC5fcmVnaXN0ZXJPbkNvbGxlY3Rpb25DaGFuZ2UodGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlKX0pfV91cGRhdGVWYWx1ZSgpe3RoaXMudmFsdWU9dGhpcy5fcmVkdWNlVmFsdWUoKX1fYW55Q29udHJvbHModCl7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModGhpcy5jb250cm9scykpe2NvbnN0IG49dGhpcy5jb250cm9sc1tlXTtpZih0aGlzLmNvbnRhaW5zKGUpJiZ0KG4pKXJldHVybiEwfXJldHVybiExfV9yZWR1Y2VWYWx1ZSgpe3JldHVybiB0aGlzLl9yZWR1Y2VDaGlsZHJlbih7fSwodCxlLG4pPT4oKGUuZW5hYmxlZHx8dGhpcy5kaXNhYmxlZCkmJih0W25dPWUudmFsdWUpLHQpKX1fcmVkdWNlQ2hpbGRyZW4odCxlKXtsZXQgbj10O3JldHVybiB0aGlzLl9mb3JFYWNoQ2hpbGQoKHQscik9PntuPWUobix0LHIpfSksbn1fYWxsQ29udHJvbHNEaXNhYmxlZCgpe2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHRoaXMuY29udHJvbHMpKWlmKHRoaXMuY29udHJvbHNbdF0uZW5hYmxlZClyZXR1cm4hMTtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5jb250cm9scykubGVuZ3RoPjB8fHRoaXMuZGlzYWJsZWR9X2NoZWNrQWxsVmFsdWVzUHJlc2VudCh0KXt0aGlzLl9mb3JFYWNoQ2hpbGQoKGUsbik9PntpZih2b2lkIDA9PT10W25dKXRocm93IG5ldyBFcnJvcihgTXVzdCBzdXBwbHkgYSB2YWx1ZSBmb3IgZm9ybSBjb250cm9sIHdpdGggbmFtZTogJyR7bn0nLmApfSl9fWNsYXNzIFdkIGV4dGVuZHMgJGR7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKFZkKGUpLEJkKG4sZSkpLHRoaXMuY29udHJvbHM9dCx0aGlzLl9pbml0T2JzZXJ2YWJsZXMoKSx0aGlzLl9zZXRVcGRhdGVTdHJhdGVneShlKSx0aGlzLl9zZXRVcENvbnRyb2xzKCksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6ISFufSl9YXQodCl7cmV0dXJuIHRoaXMuY29udHJvbHNbdF19cHVzaCh0LGU9e30pe3RoaXMuY29udHJvbHMucHVzaCh0KSx0aGlzLl9yZWdpc3RlckNvbnRyb2wodCksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6ZS5lbWl0RXZlbnR9KSx0aGlzLl9vbkNvbGxlY3Rpb25DaGFuZ2UoKX1pbnNlcnQodCxlLG49e30pe3RoaXMuY29udHJvbHMuc3BsaWNlKHQsMCxlKSx0aGlzLl9yZWdpc3RlckNvbnRyb2woZSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6bi5lbWl0RXZlbnR9KX1yZW1vdmVBdCh0LGU9e30pe3RoaXMuY29udHJvbHNbdF0mJnRoaXMuY29udHJvbHNbdF0uX3JlZ2lzdGVyT25Db2xsZWN0aW9uQ2hhbmdlKCgpPT57fSksdGhpcy5jb250cm9scy5zcGxpY2UodCwxKSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDplLmVtaXRFdmVudH0pfXNldENvbnRyb2wodCxlLG49e30pe3RoaXMuY29udHJvbHNbdF0mJnRoaXMuY29udHJvbHNbdF0uX3JlZ2lzdGVyT25Db2xsZWN0aW9uQ2hhbmdlKCgpPT57fSksdGhpcy5jb250cm9scy5zcGxpY2UodCwxKSxlJiYodGhpcy5jb250cm9scy5zcGxpY2UodCwwLGUpLHRoaXMuX3JlZ2lzdGVyQ29udHJvbChlKSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6bi5lbWl0RXZlbnR9KSx0aGlzLl9vbkNvbGxlY3Rpb25DaGFuZ2UoKX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuY29udHJvbHMubGVuZ3RofXNldFZhbHVlKHQsZT17fSl7dGhpcy5fY2hlY2tBbGxWYWx1ZXNQcmVzZW50KHQpLHQuZm9yRWFjaCgodCxuKT0+e3RoaXMuX3Rocm93SWZDb250cm9sTWlzc2luZyhuKSx0aGlzLmF0KG4pLnNldFZhbHVlKHQse29ubHlTZWxmOiEwLGVtaXRFdmVudDplLmVtaXRFdmVudH0pfSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KGUpfXBhdGNoVmFsdWUodCxlPXt9KXtudWxsIT10JiYodC5mb3JFYWNoKCh0LG4pPT57dGhpcy5hdChuKSYmdGhpcy5hdChuKS5wYXRjaFZhbHVlKHQse29ubHlTZWxmOiEwLGVtaXRFdmVudDplLmVtaXRFdmVudH0pfSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KGUpKX1yZXNldCh0PVtdLGU9e30pe3RoaXMuX2ZvckVhY2hDaGlsZCgobixyKT0+e24ucmVzZXQodFtyXSx7b25seVNlbGY6ITAsZW1pdEV2ZW50OmUuZW1pdEV2ZW50fSl9KSx0aGlzLl91cGRhdGVQcmlzdGluZShlKSx0aGlzLl91cGRhdGVUb3VjaGVkKGUpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eShlKX1nZXRSYXdWYWx1ZSgpe3JldHVybiB0aGlzLmNvbnRyb2xzLm1hcCh0PT50IGluc3RhbmNlb2YgemQ/dC52YWx1ZTp0LmdldFJhd1ZhbHVlKCkpfWNsZWFyKHQ9e30pe3RoaXMuY29udHJvbHMubGVuZ3RoPDF8fCh0aGlzLl9mb3JFYWNoQ2hpbGQodD0+dC5fcmVnaXN0ZXJPbkNvbGxlY3Rpb25DaGFuZ2UoKCk9Pnt9KSksdGhpcy5jb250cm9scy5zcGxpY2UoMCksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6dC5lbWl0RXZlbnR9KSl9X3N5bmNQZW5kaW5nQ29udHJvbHMoKXtsZXQgdD10aGlzLmNvbnRyb2xzLnJlZHVjZSgodCxlKT0+ISFlLl9zeW5jUGVuZGluZ0NvbnRyb2xzKCl8fHQsITEpO3JldHVybiB0JiZ0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe29ubHlTZWxmOiEwfSksdH1fdGhyb3dJZkNvbnRyb2xNaXNzaW5nKHQpe2lmKCF0aGlzLmNvbnRyb2xzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIlxuICAgICAgICBUaGVyZSBhcmUgbm8gZm9ybSBjb250cm9scyByZWdpc3RlcmVkIHdpdGggdGhpcyBhcnJheSB5ZXQuIElmIHlvdSdyZSB1c2luZyBuZ01vZGVsLFxuICAgICAgICB5b3UgbWF5IHdhbnQgdG8gY2hlY2sgbmV4dCB0aWNrIChlLmcuIHVzZSBzZXRUaW1lb3V0KS5cbiAgICAgICIpO2lmKCF0aGlzLmF0KHQpKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgZm9ybSBjb250cm9sIGF0IGluZGV4ICR7dH1gKX1fZm9yRWFjaENoaWxkKHQpe3RoaXMuY29udHJvbHMuZm9yRWFjaCgoZSxuKT0+e3QoZSxuKX0pfV91cGRhdGVWYWx1ZSgpe3RoaXMudmFsdWU9dGhpcy5jb250cm9scy5maWx0ZXIodD0+dC5lbmFibGVkfHx0aGlzLmRpc2FibGVkKS5tYXAodD0+dC52YWx1ZSl9X2FueUNvbnRyb2xzKHQpe3JldHVybiB0aGlzLmNvbnRyb2xzLnNvbWUoZT0+ZS5lbmFibGVkJiZ0KGUpKX1fc2V0VXBDb250cm9scygpe3RoaXMuX2ZvckVhY2hDaGlsZCh0PT50aGlzLl9yZWdpc3RlckNvbnRyb2wodCkpfV9jaGVja0FsbFZhbHVlc1ByZXNlbnQodCl7dGhpcy5fZm9yRWFjaENoaWxkKChlLG4pPT57aWYodm9pZCAwPT09dFtuXSl0aHJvdyBuZXcgRXJyb3IoYE11c3Qgc3VwcGx5IGEgdmFsdWUgZm9yIGZvcm0gY29udHJvbCBhdCBpbmRleDogJHtufS5gKX0pfV9hbGxDb250cm9sc0Rpc2FibGVkKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5jb250cm9scylpZih0LmVuYWJsZWQpcmV0dXJuITE7cmV0dXJuIHRoaXMuY29udHJvbHMubGVuZ3RoPjB8fHRoaXMuZGlzYWJsZWR9X3JlZ2lzdGVyQ29udHJvbCh0KXt0LnNldFBhcmVudCh0aGlzKSx0Ll9yZWdpc3Rlck9uQ29sbGVjdGlvbkNoYW5nZSh0aGlzLl9vbkNvbGxlY3Rpb25DaGFuZ2UpfX1jb25zdCBHZD17cHJvdmlkZTpUZCx1c2VFeGlzdGluZzpzdCgoKT0+S2QpfSxaZD0oKCk9PlByb21pc2UucmVzb2x2ZShudWxsKSkoKTtsZXQgS2Q9KCgpPT57Y2xhc3MgdCBleHRlbmRzIFRke2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKCksdGhpcy5jb250cm9sPW5ldyB6ZCx0aGlzLl9yZWdpc3RlcmVkPSExLHRoaXMudXBkYXRlPW5ldyBnbCx0aGlzLl9wYXJlbnQ9dCx0aGlzLl9zZXRWYWxpZGF0b3JzKGUpLHRoaXMuX3NldEFzeW5jVmFsaWRhdG9ycyhuKSx0aGlzLnZhbHVlQWNjZXNzb3I9ZnVuY3Rpb24odCxlKXtpZighZSlyZXR1cm4gbnVsbDtsZXQgbixyLHM7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSksZS5mb3JFYWNoKHQ9Pnt0LmNvbnN0cnVjdG9yPT09bWQ/bj10Ok9iamVjdC5nZXRQcm90b3R5cGVPZih0LmNvbnN0cnVjdG9yKT09PWRkP3I9dDpzPXR9KSxzfHxyfHxufHxudWxsfSgwLHIpfW5nT25DaGFuZ2VzKHQpe3RoaXMuX2NoZWNrRm9yRXJyb3JzKCksdGhpcy5fcmVnaXN0ZXJlZHx8dGhpcy5fc2V0VXBDb250cm9sKCksImlzRGlzYWJsZWQiaW4gdCYmdGhpcy5fdXBkYXRlRGlzYWJsZWQodCksZnVuY3Rpb24odCxlKXtpZighdC5oYXNPd25Qcm9wZXJ0eSgibW9kZWwiKSlyZXR1cm4hMTtjb25zdCBuPXQubW9kZWw7cmV0dXJuISFuLmlzRmlyc3RDaGFuZ2UoKXx8IU9iamVjdC5pcyhlLG4uY3VycmVudFZhbHVlKX0odCx0aGlzLnZpZXdNb2RlbCkmJih0aGlzLl91cGRhdGVWYWx1ZSh0aGlzLm1vZGVsKSx0aGlzLnZpZXdNb2RlbD10aGlzLm1vZGVsKX1uZ09uRGVzdHJveSgpe3RoaXMuZm9ybURpcmVjdGl2ZSYmdGhpcy5mb3JtRGlyZWN0aXZlLnJlbW92ZUNvbnRyb2wodGhpcyl9Z2V0IHBhdGgoKXtyZXR1cm4gdGhpcy5fcGFyZW50P1suLi50aGlzLl9wYXJlbnQucGF0aCx0aGlzLm5hbWVdOlt0aGlzLm5hbWVdfWdldCBmb3JtRGlyZWN0aXZlKCl7cmV0dXJuIHRoaXMuX3BhcmVudD90aGlzLl9wYXJlbnQuZm9ybURpcmVjdGl2ZTpudWxsfXZpZXdUb01vZGVsVXBkYXRlKHQpe3RoaXMudmlld01vZGVsPXQsdGhpcy51cGRhdGUuZW1pdCh0KX1fc2V0VXBDb250cm9sKCl7dGhpcy5fc2V0VXBkYXRlU3RyYXRlZ3koKSx0aGlzLl9pc1N0YW5kYWxvbmUoKT90aGlzLl9zZXRVcFN0YW5kYWxvbmUoKTp0aGlzLmZvcm1EaXJlY3RpdmUuYWRkQ29udHJvbCh0aGlzKSx0aGlzLl9yZWdpc3RlcmVkPSEwfV9zZXRVcGRhdGVTdHJhdGVneSgpe3RoaXMub3B0aW9ucyYmbnVsbCE9dGhpcy5vcHRpb25zLnVwZGF0ZU9uJiYodGhpcy5jb250cm9sLl91cGRhdGVPbj10aGlzLm9wdGlvbnMudXBkYXRlT24pfV9pc1N0YW5kYWxvbmUoKXtyZXR1cm4hdGhpcy5fcGFyZW50fHwhKCF0aGlzLm9wdGlvbnN8fCF0aGlzLm9wdGlvbnMuc3RhbmRhbG9uZSl9X3NldFVwU3RhbmRhbG9uZSgpe3ZhciB0LGU7KGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5fcmF3VmFsaWRhdG9yc30odCk7bnVsbCE9PWUudmFsaWRhdG9yP3Quc2V0VmFsaWRhdG9ycyhTZChuLGUudmFsaWRhdG9yKSk6ImZ1bmN0aW9uIj09dHlwZW9mIG4mJnQuc2V0VmFsaWRhdG9ycyhbbl0pO2NvbnN0IHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQuX3Jhd0FzeW5jVmFsaWRhdG9yc30odCk7bnVsbCE9PWUuYXN5bmNWYWxpZGF0b3I/dC5zZXRBc3luY1ZhbGlkYXRvcnMoU2QocixlLmFzeW5jVmFsaWRhdG9yKSk6ImZ1bmN0aW9uIj09dHlwZW9mIHImJnQuc2V0QXN5bmNWYWxpZGF0b3JzKFtyXSk7Y29uc3Qgcz0oKT0+dC51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KCk7T2QoZS5fcmF3VmFsaWRhdG9ycyxzKSxPZChlLl9yYXdBc3luY1ZhbGlkYXRvcnMscyl9KSh0PXRoaXMuY29udHJvbCxlPXRoaXMpLGUudmFsdWVBY2Nlc3Nvci53cml0ZVZhbHVlKHQudmFsdWUpLGZ1bmN0aW9uKHQsZSl7ZS52YWx1ZUFjY2Vzc29yLnJlZ2lzdGVyT25DaGFuZ2Uobj0+e3QuX3BlbmRpbmdWYWx1ZT1uLHQuX3BlbmRpbmdDaGFuZ2U9ITAsdC5fcGVuZGluZ0RpcnR5PSEwLCJjaGFuZ2UiPT09dC51cGRhdGVPbiYmUGQodCxlKX0pfSh0LGUpLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj0odCxuKT0+e2UudmFsdWVBY2Nlc3Nvci53cml0ZVZhbHVlKHQpLG4mJmUudmlld1RvTW9kZWxVcGRhdGUodCl9O3QucmVnaXN0ZXJPbkNoYW5nZShuKSxlLl9yZWdpc3Rlck9uRGVzdHJveSgoKT0+e3QuX3VucmVnaXN0ZXJPbkNoYW5nZShuKX0pfSh0LGUpLGZ1bmN0aW9uKHQsZSl7ZS52YWx1ZUFjY2Vzc29yLnJlZ2lzdGVyT25Ub3VjaGVkKCgpPT57dC5fcGVuZGluZ1RvdWNoZWQ9ITAsImJsdXIiPT09dC51cGRhdGVPbiYmdC5fcGVuZGluZ0NoYW5nZSYmUGQodCxlKSwic3VibWl0IiE9PXQudXBkYXRlT24mJnQubWFya0FzVG91Y2hlZCgpfSl9KHQsZSksZnVuY3Rpb24odCxlKXtpZihlLnZhbHVlQWNjZXNzb3Iuc2V0RGlzYWJsZWRTdGF0ZSl7Y29uc3Qgbj10PT57ZS52YWx1ZUFjY2Vzc29yLnNldERpc2FibGVkU3RhdGUodCl9O3QucmVnaXN0ZXJPbkRpc2FibGVkQ2hhbmdlKG4pLGUuX3JlZ2lzdGVyT25EZXN0cm95KCgpPT57dC5fdW5yZWdpc3Rlck9uRGlzYWJsZWRDaGFuZ2Uobil9KX19KHQsZSksdGhpcy5jb250cm9sLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDohMX0pfV9jaGVja0ZvckVycm9ycygpe3RoaXMuX2lzU3RhbmRhbG9uZSgpfHx0aGlzLl9jaGVja1BhcmVudFR5cGUoKSx0aGlzLl9jaGVja05hbWUoKX1fY2hlY2tQYXJlbnRUeXBlKCl7fV9jaGVja05hbWUoKXt0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5uYW1lJiYodGhpcy5uYW1lPXRoaXMub3B0aW9ucy5uYW1lKSx0aGlzLl9pc1N0YW5kYWxvbmUoKX1fdXBkYXRlVmFsdWUodCl7WmQudGhlbigoKT0+e3RoaXMuY29udHJvbC5zZXRWYWx1ZSh0LHtlbWl0Vmlld1RvTW9kZWxDaGFuZ2U6ITF9KX0pfV91cGRhdGVEaXNhYmxlZCh0KXtjb25zdCBlPXQuaXNEaXNhYmxlZC5jdXJyZW50VmFsdWUsbj0iIj09PWV8fGUmJiJmYWxzZSIhPT1lO1pkLnRoZW4oKCk9PntuJiYhdGhpcy5jb250cm9sLmRpc2FibGVkP3RoaXMuY29udHJvbC5kaXNhYmxlKCk6IW4mJnRoaXMuY29udHJvbC5kaXNhYmxlZCYmdGhpcy5jb250cm9sLmVuYWJsZSgpfSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFvKGtkLDkpLGFvKHlkLDEwKSxhbyh2ZCwxMCksYW8ocGQsMTApKX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwibmdNb2RlbCIsIiIsMywiZm9ybUNvbnRyb2xOYW1lIiwiIiwzLCJmb3JtQ29udHJvbCIsIiJdXSxpbnB1dHM6e25hbWU6Im5hbWUiLGlzRGlzYWJsZWQ6WyJkaXNhYmxlZCIsImlzRGlzYWJsZWQiXSxtb2RlbDpbIm5nTW9kZWwiLCJtb2RlbCJdLG9wdGlvbnM6WyJuZ01vZGVsT3B0aW9ucyIsIm9wdGlvbnMiXX0sb3V0cHV0czp7dXBkYXRlOiJuZ01vZGVsQ2hhbmdlIn0sZXhwb3J0QXM6WyJuZ01vZGVsIl0sZmVhdHVyZXM6W2xhKFtHZF0pLFppLGxlXX0pLHR9KSgpLFlkPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe30pLHR9KSgpLFFkPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tZZF1dfSksdH0pKCksWGQ9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbUWRdfSksdH0pKCk7Y29uc3QgSmQ9bmV3IEhoKExoKTtmdW5jdGlvbiB0cCh0KXtyZXR1cm4hbCh0KSYmdC1wYXJzZUZsb2F0KHQpKzE+PTB9ZnVuY3Rpb24gZXAodCl7Y29uc3R7aW5kZXg6ZSxwZXJpb2Q6bixzdWJzY3JpYmVyOnJ9PXQ7aWYoci5uZXh0KGUpLCFyLmNsb3NlZCl7aWYoLTE9PT1uKXJldHVybiByLmNvbXBsZXRlKCk7dC5pbmRleD1lKzEsdGhpcy5zY2hlZHVsZSh0LG4pfX1mdW5jdGlvbiBucCh0LGU9bnVsbCl7cmV0dXJue3R5cGU6NCxzdHlsZXM6ZSx0aW1pbmdzOnR9fWZ1bmN0aW9uIHJwKHQpe3JldHVybnt0eXBlOjYsc3R5bGVzOnQsb2Zmc2V0Om51bGx9fWZ1bmN0aW9uIHNwKHQsZSxuPW51bGwpe3JldHVybnt0eXBlOjEsZXhwcjp0LGFuaW1hdGlvbjplLG9wdGlvbnM6bn19Y2xhc3MgaXAgZXh0ZW5kcyBEe2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5fdmFsdWU9dH1nZXQgdmFsdWUoKXtyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpfV9zdWJzY3JpYmUodCl7Y29uc3QgZT1zdXBlci5fc3Vic2NyaWJlKHQpO3JldHVybiBlJiYhZS5jbG9zZWQmJnQubmV4dCh0aGlzLl92YWx1ZSksZX1nZXRWYWx1ZSgpe2lmKHRoaXMuaGFzRXJyb3IpdGhyb3cgdGhpcy50aHJvd25FcnJvcjtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgdztyZXR1cm4gdGhpcy5fdmFsdWV9bmV4dCh0KXtzdXBlci5uZXh0KHRoaXMuX3ZhbHVlPXQpfX1jbGFzcyBvcCBleHRlbmRzIGZ7bm90aWZ5TmV4dCh0LGUsbixyLHMpe3RoaXMuZGVzdGluYXRpb24ubmV4dChlKX1ub3RpZnlFcnJvcih0LGUpe3RoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9bm90aWZ5Q29tcGxldGUodCl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfX1jbGFzcyBhcCBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKCksdGhpcy5wYXJlbnQ9dCx0aGlzLm91dGVyVmFsdWU9ZSx0aGlzLm91dGVySW5kZXg9bix0aGlzLmluZGV4PTB9X25leHQodCl7dGhpcy5wYXJlbnQubm90aWZ5TmV4dCh0aGlzLm91dGVyVmFsdWUsdCx0aGlzLm91dGVySW5kZXgsdGhpcy5pbmRleCsrLHRoaXMpfV9lcnJvcih0KXt0aGlzLnBhcmVudC5ub3RpZnlFcnJvcih0LHRoaXMpLHRoaXMudW5zdWJzY3JpYmUoKX1fY29tcGxldGUoKXt0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSh0aGlzKSx0aGlzLnVuc3Vic2NyaWJlKCl9fWZ1bmN0aW9uIGxwKHQsZSxuLHIscz1uZXcgYXAodCxuLHIpKXtpZighcy5jbG9zZWQpcmV0dXJuIGUgaW5zdGFuY2VvZiB2P2Uuc3Vic2NyaWJlKHMpOlIoZSkocyl9Y29uc3QgdXA9e307Y2xhc3MgY3B7Y29uc3RydWN0b3IodCl7dGhpcy5yZXN1bHRTZWxlY3Rvcj10fWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IGhwKHQsdGhpcy5yZXN1bHRTZWxlY3RvcikpfX1jbGFzcyBocCBleHRlbmRzIG9we2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5yZXN1bHRTZWxlY3Rvcj1lLHRoaXMuYWN0aXZlPTAsdGhpcy52YWx1ZXM9W10sdGhpcy5vYnNlcnZhYmxlcz1bXX1fbmV4dCh0KXt0aGlzLnZhbHVlcy5wdXNoKHVwKSx0aGlzLm9ic2VydmFibGVzLnB1c2godCl9X2NvbXBsZXRlKCl7Y29uc3QgdD10aGlzLm9ic2VydmFibGVzLGU9dC5sZW5ndGg7aWYoMD09PWUpdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO2Vsc2V7dGhpcy5hY3RpdmU9ZSx0aGlzLnRvUmVzcG9uZD1lO2ZvcihsZXQgbj0wO248ZTtuKyspdGhpcy5hZGQobHAodGhpcyx0W25dLHZvaWQgMCxuKSl9fW5vdGlmeUNvbXBsZXRlKHQpezA9PSh0aGlzLmFjdGl2ZS09MSkmJnRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX1ub3RpZnlOZXh0KHQsZSxuKXtjb25zdCByPXRoaXMudmFsdWVzLHM9dGhpcy50b1Jlc3BvbmQ/cltuXT09PXVwPy0tdGhpcy50b1Jlc3BvbmQ6dGhpcy50b1Jlc3BvbmQ6MDtyW25dPWUsMD09PXMmJih0aGlzLnJlc3VsdFNlbGVjdG9yP3RoaXMuX3RyeVJlc3VsdFNlbGVjdG9yKHIpOnRoaXMuZGVzdGluYXRpb24ubmV4dChyLnNsaWNlKCkpKX1fdHJ5UmVzdWx0U2VsZWN0b3IodCl7bGV0IGU7dHJ5e2U9dGhpcy5yZXN1bHRTZWxlY3Rvci5hcHBseSh0aGlzLHQpfWNhdGNoKG4pe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iobil9dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpfX1jb25zdCBkcD0oKCk9PntmdW5jdGlvbiB0KCl7cmV0dXJuIEVycm9yLmNhbGwodGhpcyksdGhpcy5tZXNzYWdlPSJubyBlbGVtZW50cyBpbiBzZXF1ZW5jZSIsdGhpcy5uYW1lPSJFbXB0eUVycm9yIix0aGlzfXJldHVybiB0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksdH0pKCk7ZnVuY3Rpb24gcHAoLi4udCl7cmV0dXJuICQoMSkoR2goLi4udCkpfWZ1bmN0aW9uIGZwKHQpe3JldHVybiBuZXcgdihlPT57bGV0IG47dHJ5e249dCgpfWNhdGNoKHIpe3JldHVybiB2b2lkIGUuZXJyb3Iocil9cmV0dXJuKG4/aihuKTpXaCgpKS5zdWJzY3JpYmUoZSl9KX1jb25zdCBncD0oKCk9PntmdW5jdGlvbiB0KCl7cmV0dXJuIEVycm9yLmNhbGwodGhpcyksdGhpcy5tZXNzYWdlPSJhcmd1bWVudCBvdXQgb2YgcmFuZ2UiLHRoaXMubmFtZT0iQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IiLHRoaXN9cmV0dXJuIHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSx0fSkoKTtmdW5jdGlvbiBtcCh0KXtyZXR1cm4gZT0+MD09PXQ/V2goKTplLmxpZnQobmV3IHlwKHQpKX1jbGFzcyB5cHtjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLnRvdGFsPXQsdGhpcy50b3RhbDwwKXRocm93IG5ldyBncH1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyB2cCh0LHRoaXMudG90YWwpKX19Y2xhc3MgdnAgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy50b3RhbD1lLHRoaXMuY291bnQ9MH1fbmV4dCh0KXtjb25zdCBlPXRoaXMudG90YWwsbj0rK3RoaXMuY291bnQ7bjw9ZSYmKHRoaXMuZGVzdGluYXRpb24ubmV4dCh0KSxuPT09ZSYmKHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKSx0aGlzLnVuc3Vic2NyaWJlKCkpKX19ZnVuY3Rpb24gYnAodCxlKXtsZXQgbj0hMTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD49MiYmKG49ITApLGZ1bmN0aW9uKHIpe3JldHVybiByLmxpZnQobmV3IHdwKHQsZSxuKSl9fWNsYXNzIHdwe2NvbnN0cnVjdG9yKHQsZSxuPSExKXt0aGlzLmFjY3VtdWxhdG9yPXQsdGhpcy5zZWVkPWUsdGhpcy5oYXNTZWVkPW59Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgX3AodCx0aGlzLmFjY3VtdWxhdG9yLHRoaXMuc2VlZCx0aGlzLmhhc1NlZWQpKX19Y2xhc3MgX3AgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKHQpLHRoaXMuYWNjdW11bGF0b3I9ZSx0aGlzLl9zZWVkPW4sdGhpcy5oYXNTZWVkPXIsdGhpcy5pbmRleD0wfWdldCBzZWVkKCl7cmV0dXJuIHRoaXMuX3NlZWR9c2V0IHNlZWQodCl7dGhpcy5oYXNTZWVkPSEwLHRoaXMuX3NlZWQ9dH1fbmV4dCh0KXtpZih0aGlzLmhhc1NlZWQpcmV0dXJuIHRoaXMuX3RyeU5leHQodCk7dGhpcy5zZWVkPXQsdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfV90cnlOZXh0KHQpe2NvbnN0IGU9dGhpcy5pbmRleCsrO2xldCBuO3RyeXtuPXRoaXMuYWNjdW11bGF0b3IodGhpcy5zZWVkLHQsZSl9Y2F0Y2gocil7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcihyKX10aGlzLnNlZWQ9bix0aGlzLmRlc3RpbmF0aW9uLm5leHQobil9fWZ1bmN0aW9uIENwKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuLmxpZnQobmV3IERwKHQsZSkpfX1jbGFzcyBEcHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucHJlZGljYXRlPXQsdGhpcy50aGlzQXJnPWV9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgRXAodCx0aGlzLnByZWRpY2F0ZSx0aGlzLnRoaXNBcmcpKX19Y2xhc3MgRXAgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0KSx0aGlzLnByZWRpY2F0ZT1lLHRoaXMudGhpc0FyZz1uLHRoaXMuY291bnQ9MH1fbmV4dCh0KXtsZXQgZTt0cnl7ZT10aGlzLnByZWRpY2F0ZS5jYWxsKHRoaXMudGhpc0FyZyx0LHRoaXMuY291bnQrKyl9Y2F0Y2gobil7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihuKX1lJiZ0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9fWZ1bmN0aW9uIEFwKHQpe3JldHVybiBmdW5jdGlvbihlKXtjb25zdCBuPW5ldyBTcCh0KSxyPWUubGlmdChuKTtyZXR1cm4gbi5jYXVnaHQ9cn19Y2xhc3MgU3B7Y29uc3RydWN0b3IodCl7dGhpcy5zZWxlY3Rvcj10fWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IHhwKHQsdGhpcy5zZWxlY3Rvcix0aGlzLmNhdWdodCkpfX1jbGFzcyB4cCBleHRlbmRzIFZ7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQpLHRoaXMuc2VsZWN0b3I9ZSx0aGlzLmNhdWdodD1ufWVycm9yKHQpe2lmKCF0aGlzLmlzU3RvcHBlZCl7bGV0IG47dHJ5e249dGhpcy5zZWxlY3Rvcih0LHRoaXMuY2F1Z2h0KX1jYXRjaChlKXtyZXR1cm4gdm9pZCBzdXBlci5lcnJvcihlKX10aGlzLl91bnN1YnNjcmliZUFuZFJlY3ljbGUoKTtjb25zdCByPW5ldyBOKHRoaXMpO3RoaXMuYWRkKHIpO2NvbnN0IHM9TChuLHIpO3MhPT1yJiZ0aGlzLmFkZChzKX19fWZ1bmN0aW9uIGtwKHQsZSl7cmV0dXJuIEIodCxlLDEpfWZ1bmN0aW9uIFRwKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gMD09PXQ/V2goKTplLmxpZnQobmV3IEZwKHQpKX19Y2xhc3MgRnB7Y29uc3RydWN0b3IodCl7aWYodGhpcy50b3RhbD10LHRoaXMudG90YWw8MCl0aHJvdyBuZXcgZ3B9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgT3AodCx0aGlzLnRvdGFsKSl9fWNsYXNzIE9wIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMudG90YWw9ZSx0aGlzLnJpbmc9bmV3IEFycmF5LHRoaXMuY291bnQ9MH1fbmV4dCh0KXtjb25zdCBlPXRoaXMucmluZyxuPXRoaXMudG90YWwscj10aGlzLmNvdW50Kys7ZS5sZW5ndGg8bj9lLnB1c2godCk6ZVtyJW5dPXR9X2NvbXBsZXRlKCl7Y29uc3QgdD10aGlzLmRlc3RpbmF0aW9uO2xldCBlPXRoaXMuY291bnQ7aWYoZT4wKXtjb25zdCBuPXRoaXMuY291bnQ+PXRoaXMudG90YWw/dGhpcy50b3RhbDp0aGlzLmNvdW50LHI9dGhpcy5yaW5nO2ZvcihsZXQgcz0wO3M8bjtzKyspe2NvbnN0IHM9ZSsrJW47dC5uZXh0KHJbc10pfX10LmNvbXBsZXRlKCl9fWZ1bmN0aW9uIFBwKHQ9TXApe3JldHVybiBlPT5lLmxpZnQobmV3IElwKHQpKX1jbGFzcyBJcHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmVycm9yRmFjdG9yeT10fWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IFJwKHQsdGhpcy5lcnJvckZhY3RvcnkpKX19Y2xhc3MgUnAgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5lcnJvckZhY3Rvcnk9ZSx0aGlzLmhhc1ZhbHVlPSExfV9uZXh0KHQpe3RoaXMuaGFzVmFsdWU9ITAsdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfV9jb21wbGV0ZSgpe2lmKHRoaXMuaGFzVmFsdWUpcmV0dXJuIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTt7bGV0IGU7dHJ5e2U9dGhpcy5lcnJvckZhY3RvcnkoKX1jYXRjaCh0KXtlPXR9dGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlKX19fWZ1bmN0aW9uIE1wKCl7cmV0dXJuIG5ldyBkcH1mdW5jdGlvbiBqcCh0PW51bGwpe3JldHVybiBlPT5lLmxpZnQobmV3IE5wKHQpKX1jbGFzcyBOcHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmRlZmF1bHRWYWx1ZT10fWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IFZwKHQsdGhpcy5kZWZhdWx0VmFsdWUpKX19Y2xhc3MgVnAgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5kZWZhdWx0VmFsdWU9ZSx0aGlzLmlzRW1wdHk9ITB9X25leHQodCl7dGhpcy5pc0VtcHR5PSExLHRoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1fY29tcGxldGUoKXt0aGlzLmlzRW1wdHkmJnRoaXMuZGVzdGluYXRpb24ubmV4dCh0aGlzLmRlZmF1bHRWYWx1ZSksdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfX1mdW5jdGlvbiBMcCh0LGUpe2NvbnN0IG49YXJndW1lbnRzLmxlbmd0aD49MjtyZXR1cm4gcj0+ci5waXBlKHQ/Q3AoKGUsbik9PnQoZSxuLHIpKTp5LG1wKDEpLG4/anAoZSk6UHAoKCk9Pm5ldyBkcCkpfWZ1bmN0aW9uIEJwKCl7fWZ1bmN0aW9uIFVwKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHIubGlmdChuZXcgSHAodCxlLG4pKX19Y2xhc3MgSHB7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMubmV4dE9yT2JzZXJ2ZXI9dCx0aGlzLmVycm9yPWUsdGhpcy5jb21wbGV0ZT1ufWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3ICRwKHQsdGhpcy5uZXh0T3JPYnNlcnZlcix0aGlzLmVycm9yLHRoaXMuY29tcGxldGUpKX19Y2xhc3MgJHAgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSxuLHMpe3N1cGVyKHQpLHRoaXMuX3RhcE5leHQ9QnAsdGhpcy5fdGFwRXJyb3I9QnAsdGhpcy5fdGFwQ29tcGxldGU9QnAsdGhpcy5fdGFwRXJyb3I9bnx8QnAsdGhpcy5fdGFwQ29tcGxldGU9c3x8QnAscihlKT8odGhpcy5fY29udGV4dD10aGlzLHRoaXMuX3RhcE5leHQ9ZSk6ZSYmKHRoaXMuX2NvbnRleHQ9ZSx0aGlzLl90YXBOZXh0PWUubmV4dHx8QnAsdGhpcy5fdGFwRXJyb3I9ZS5lcnJvcnx8QnAsdGhpcy5fdGFwQ29tcGxldGU9ZS5jb21wbGV0ZXx8QnApfV9uZXh0KHQpe3RyeXt0aGlzLl90YXBOZXh0LmNhbGwodGhpcy5fY29udGV4dCx0KX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpfXRoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1fZXJyb3IodCl7dHJ5e3RoaXMuX3RhcEVycm9yLmNhbGwodGhpcy5fY29udGV4dCx0KX1jYXRjaCh0KXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpfXRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9X2NvbXBsZXRlKCl7dHJ5e3RoaXMuX3RhcENvbXBsZXRlLmNhbGwodGhpcy5fY29udGV4dCl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX1yZXR1cm4gdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfX1jbGFzcyB6cHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmNhbGxiYWNrPXR9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgcXAodCx0aGlzLmNhbGxiYWNrKSl9fWNsYXNzIHFwIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuYWRkKG5ldyBoKGUpKX19Y2xhc3MgV3B7Y29uc3RydWN0b3IodCxlKXt0aGlzLmlkPXQsdGhpcy51cmw9ZX19Y2xhc3MgR3AgZXh0ZW5kcyBXcHtjb25zdHJ1Y3Rvcih0LGUsbj0iaW1wZXJhdGl2ZSIscj1udWxsKXtzdXBlcih0LGUpLHRoaXMubmF2aWdhdGlvblRyaWdnZXI9bix0aGlzLnJlc3RvcmVkU3RhdGU9cn10b1N0cmluZygpe3JldHVybmBOYXZpZ2F0aW9uU3RhcnQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JylgfX1jbGFzcyBacCBleHRlbmRzIFdwe2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0LGUpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bn10b1N0cmluZygpe3JldHVybmBOYXZpZ2F0aW9uRW5kKGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIHVybEFmdGVyUmVkaXJlY3RzOiAnJHt0aGlzLnVybEFmdGVyUmVkaXJlY3RzfScpYH19Y2xhc3MgS3AgZXh0ZW5kcyBXcHtjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCxlKSx0aGlzLnJlYXNvbj1ufXRvU3RyaW5nKCl7cmV0dXJuYE5hdmlnYXRpb25DYW5jZWwoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JylgfX1jbGFzcyBZcCBleHRlbmRzIFdwe2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0LGUpLHRoaXMuZXJyb3I9bn10b1N0cmluZygpe3JldHVybmBOYXZpZ2F0aW9uRXJyb3IoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgZXJyb3I6ICR7dGhpcy5lcnJvcn0pYH19Y2xhc3MgUXAgZXh0ZW5kcyBXcHtjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcih0LGUpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bix0aGlzLnN0YXRlPXJ9dG9TdHJpbmcoKXtyZXR1cm5gUm91dGVzUmVjb2duaXplZChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nLCBzdGF0ZTogJHt0aGlzLnN0YXRlfSlgfX1jbGFzcyBYcCBleHRlbmRzIFdwe2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKHQsZSksdGhpcy51cmxBZnRlclJlZGlyZWN0cz1uLHRoaXMuc3RhdGU9cn10b1N0cmluZygpe3JldHVybmBHdWFyZHNDaGVja1N0YXJ0KGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIHVybEFmdGVyUmVkaXJlY3RzOiAnJHt0aGlzLnVybEFmdGVyUmVkaXJlY3RzfScsIHN0YXRlOiAke3RoaXMuc3RhdGV9KWB9fWNsYXNzIEpwIGV4dGVuZHMgV3B7Y29uc3RydWN0b3IodCxlLG4scixzKXtzdXBlcih0LGUpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bix0aGlzLnN0YXRlPXIsdGhpcy5zaG91bGRBY3RpdmF0ZT1zfXRvU3RyaW5nKCl7cmV0dXJuYEd1YXJkc0NoZWNrRW5kKGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIHVybEFmdGVyUmVkaXJlY3RzOiAnJHt0aGlzLnVybEFmdGVyUmVkaXJlY3RzfScsIHN0YXRlOiAke3RoaXMuc3RhdGV9LCBzaG91bGRBY3RpdmF0ZTogJHt0aGlzLnNob3VsZEFjdGl2YXRlfSlgfX1jbGFzcyB0ZiBleHRlbmRzIFdwe2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKHQsZSksdGhpcy51cmxBZnRlclJlZGlyZWN0cz1uLHRoaXMuc3RhdGU9cn10b1N0cmluZygpe3JldHVybmBSZXNvbHZlU3RhcnQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgdXJsQWZ0ZXJSZWRpcmVjdHM6ICcke3RoaXMudXJsQWZ0ZXJSZWRpcmVjdHN9Jywgc3RhdGU6ICR7dGhpcy5zdGF0ZX0pYH19Y2xhc3MgZWYgZXh0ZW5kcyBXcHtjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcih0LGUpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bix0aGlzLnN0YXRlPXJ9dG9TdHJpbmcoKXtyZXR1cm5gUmVzb2x2ZUVuZChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nLCBzdGF0ZTogJHt0aGlzLnN0YXRlfSlgfX1jbGFzcyBuZntjb25zdHJ1Y3Rvcih0KXt0aGlzLnJvdXRlPXR9dG9TdHJpbmcoKXtyZXR1cm5gUm91dGVDb25maWdMb2FkU3RhcnQocGF0aDogJHt0aGlzLnJvdXRlLnBhdGh9KWB9fWNsYXNzIHJme2NvbnN0cnVjdG9yKHQpe3RoaXMucm91dGU9dH10b1N0cmluZygpe3JldHVybmBSb3V0ZUNvbmZpZ0xvYWRFbmQocGF0aDogJHt0aGlzLnJvdXRlLnBhdGh9KWB9fWNsYXNzIHNme2NvbnN0cnVjdG9yKHQpe3RoaXMuc25hcHNob3Q9dH10b1N0cmluZygpe3JldHVybmBDaGlsZEFjdGl2YXRpb25TdGFydChwYXRoOiAnJHt0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnJiZ0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnLnBhdGh8fCIifScpYH19Y2xhc3Mgb2Z7Y29uc3RydWN0b3IodCl7dGhpcy5zbmFwc2hvdD10fXRvU3RyaW5nKCl7cmV0dXJuYENoaWxkQWN0aXZhdGlvbkVuZChwYXRoOiAnJHt0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnJiZ0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnLnBhdGh8fCIifScpYH19Y2xhc3MgYWZ7Y29uc3RydWN0b3IodCl7dGhpcy5zbmFwc2hvdD10fXRvU3RyaW5nKCl7cmV0dXJuYEFjdGl2YXRpb25TdGFydChwYXRoOiAnJHt0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnJiZ0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnLnBhdGh8fCIifScpYH19Y2xhc3MgbGZ7Y29uc3RydWN0b3IodCl7dGhpcy5zbmFwc2hvdD10fXRvU3RyaW5nKCl7cmV0dXJuYEFjdGl2YXRpb25FbmQocGF0aDogJyR7dGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZyYmdGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZy5wYXRofHwiIn0nKWB9fWNsYXNzIHVme2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLnJvdXRlckV2ZW50PXQsdGhpcy5wb3NpdGlvbj1lLHRoaXMuYW5jaG9yPW59dG9TdHJpbmcoKXtyZXR1cm5gU2Nyb2xsKGFuY2hvcjogJyR7dGhpcy5hbmNob3J9JywgcG9zaXRpb246ICcke3RoaXMucG9zaXRpb24/YCR7dGhpcy5wb3NpdGlvblswXX0sICR7dGhpcy5wb3NpdGlvblsxXX1gOm51bGx9JylgfX1jb25zdCBjZj0icHJpbWFyeSI7Y2xhc3MgaGZ7Y29uc3RydWN0b3IodCl7dGhpcy5wYXJhbXM9dHx8e319aGFzKHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5wYXJhbXMsdCl9Z2V0KHQpe2lmKHRoaXMuaGFzKHQpKXtjb25zdCBlPXRoaXMucGFyYW1zW3RdO3JldHVybiBBcnJheS5pc0FycmF5KGUpP2VbMF06ZX1yZXR1cm4gbnVsbH1nZXRBbGwodCl7aWYodGhpcy5oYXModCkpe2NvbnN0IGU9dGhpcy5wYXJhbXNbdF07cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZTpbZV19cmV0dXJuW119Z2V0IGtleXMoKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpfX1mdW5jdGlvbiBkZih0KXtyZXR1cm4gbmV3IGhmKHQpfWZ1bmN0aW9uIHBmKHQpe2NvbnN0IGU9RXJyb3IoIk5hdmlnYXRpb25DYW5jZWxpbmdFcnJvcjogIit0KTtyZXR1cm4gZS5uZ05hdmlnYXRpb25DYW5jZWxpbmdFcnJvcj0hMCxlfWZ1bmN0aW9uIGZmKHQsZSxuKXtjb25zdCByPW4ucGF0aC5zcGxpdCgiLyIpO2lmKHIubGVuZ3RoPnQubGVuZ3RoKXJldHVybiBudWxsO2lmKCJmdWxsIj09PW4ucGF0aE1hdGNoJiYoZS5oYXNDaGlsZHJlbigpfHxyLmxlbmd0aDx0Lmxlbmd0aCkpcmV0dXJuIG51bGw7Y29uc3Qgcz17fTtmb3IobGV0IGk9MDtpPHIubGVuZ3RoO2krKyl7Y29uc3QgZT1yW2ldLG49dFtpXTtpZihlLnN0YXJ0c1dpdGgoIjoiKSlzW2Uuc3Vic3RyaW5nKDEpXT1uO2Vsc2UgaWYoZSE9PW4ucGF0aClyZXR1cm4gbnVsbH1yZXR1cm57Y29uc3VtZWQ6dC5zbGljZSgwLHIubGVuZ3RoKSxwb3NQYXJhbXM6c319ZnVuY3Rpb24gZ2YodCxlKXtjb25zdCBuPXQ/T2JqZWN0LmtleXModCk6dm9pZCAwLHI9ZT9PYmplY3Qua2V5cyhlKTp2b2lkIDA7aWYoIW58fCFyfHxuLmxlbmd0aCE9ci5sZW5ndGgpcmV0dXJuITE7bGV0IHM7Zm9yKGxldCBpPTA7aTxuLmxlbmd0aDtpKyspaWYocz1uW2ldLCFtZih0W3NdLGVbc10pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIG1mKHQsZSl7aWYoQXJyYXkuaXNBcnJheSh0KSYmQXJyYXkuaXNBcnJheShlKSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtjb25zdCBuPVsuLi50XS5zb3J0KCkscj1bLi4uZV0uc29ydCgpO3JldHVybiBuLmV2ZXJ5KCh0LGUpPT5yW2VdPT09dCl9cmV0dXJuIHQ9PT1lfWZ1bmN0aW9uIHlmKHQpe3JldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLHQpfWZ1bmN0aW9uIHZmKHQpe3JldHVybiB0Lmxlbmd0aD4wP3RbdC5sZW5ndGgtMV06bnVsbH1mdW5jdGlvbiBiZih0LGUpe2Zvcihjb25zdCBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmZSh0W25dLG4pfWZ1bmN0aW9uIHdmKHQpe3JldHVybiB5byh0KT90Om1vKHQpP2ooUHJvbWlzZS5yZXNvbHZlKHQpKTpHaCh0KX1jb25zdCBfZj17ZXhhY3Q6ZnVuY3Rpb24gdChlLG4scil7aWYoIUZmKGUuc2VnbWVudHMsbi5zZWdtZW50cykpcmV0dXJuITE7aWYoIVNmKGUuc2VnbWVudHMsbi5zZWdtZW50cyxyKSlyZXR1cm4hMTtpZihlLm51bWJlck9mQ2hpbGRyZW4hPT1uLm51bWJlck9mQ2hpbGRyZW4pcmV0dXJuITE7Zm9yKGNvbnN0IHMgaW4gbi5jaGlsZHJlbil7aWYoIWUuY2hpbGRyZW5bc10pcmV0dXJuITE7aWYoIXQoZS5jaGlsZHJlbltzXSxuLmNoaWxkcmVuW3NdLHIpKXJldHVybiExfXJldHVybiEwfSxzdWJzZXQ6RWZ9LENmPXtleGFjdDpmdW5jdGlvbih0LGUpe3JldHVybiBnZih0LGUpfSxzdWJzZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubGVuZ3RoPD1PYmplY3Qua2V5cyh0KS5sZW5ndGgmJk9iamVjdC5rZXlzKGUpLmV2ZXJ5KG49Pm1mKHRbbl0sZVtuXSkpfSxpZ25vcmVkOigpPT4hMH07ZnVuY3Rpb24gRGYodCxlLG4pe3JldHVybiBfZltuLnBhdGhzXSh0LnJvb3QsZS5yb290LG4ubWF0cml4UGFyYW1zKSYmQ2Zbbi5xdWVyeVBhcmFtc10odC5xdWVyeVBhcmFtcyxlLnF1ZXJ5UGFyYW1zKSYmISgiZXhhY3QiPT09bi5mcmFnbWVudCYmdC5mcmFnbWVudCE9PWUuZnJhZ21lbnQpfWZ1bmN0aW9uIEVmKHQsZSxuKXtyZXR1cm4gQWYodCxlLGUuc2VnbWVudHMsbil9ZnVuY3Rpb24gQWYodCxlLG4scil7aWYodC5zZWdtZW50cy5sZW5ndGg+bi5sZW5ndGgpe2NvbnN0IHM9dC5zZWdtZW50cy5zbGljZSgwLG4ubGVuZ3RoKTtyZXR1cm4hIUZmKHMsbikmJiFlLmhhc0NoaWxkcmVuKCkmJiEhU2YocyxuLHIpfWlmKHQuc2VnbWVudHMubGVuZ3RoPT09bi5sZW5ndGgpe2lmKCFGZih0LnNlZ21lbnRzLG4pKXJldHVybiExO2lmKCFTZih0LnNlZ21lbnRzLG4scikpcmV0dXJuITE7Zm9yKGNvbnN0IG4gaW4gZS5jaGlsZHJlbil7aWYoIXQuY2hpbGRyZW5bbl0pcmV0dXJuITE7aWYoIUVmKHQuY2hpbGRyZW5bbl0sZS5jaGlsZHJlbltuXSxyKSlyZXR1cm4hMX1yZXR1cm4hMH17Y29uc3Qgcz1uLnNsaWNlKDAsdC5zZWdtZW50cy5sZW5ndGgpLGk9bi5zbGljZSh0LnNlZ21lbnRzLmxlbmd0aCk7cmV0dXJuISFGZih0LnNlZ21lbnRzLHMpJiYhIVNmKHQuc2VnbWVudHMscyxyKSYmISF0LmNoaWxkcmVuLnByaW1hcnkmJkFmKHQuY2hpbGRyZW4ucHJpbWFyeSxlLGkscil9fWZ1bmN0aW9uIFNmKHQsZSxuKXtyZXR1cm4gZS5ldmVyeSgoZSxyKT0+Q2Zbbl0odFtyXS5wYXJhbWV0ZXJzLGUucGFyYW1ldGVycykpfWNsYXNzIHhme2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLnJvb3Q9dCx0aGlzLnF1ZXJ5UGFyYW1zPWUsdGhpcy5mcmFnbWVudD1ufWdldCBxdWVyeVBhcmFtTWFwKCl7cmV0dXJuIHRoaXMuX3F1ZXJ5UGFyYW1NYXB8fCh0aGlzLl9xdWVyeVBhcmFtTWFwPWRmKHRoaXMucXVlcnlQYXJhbXMpKSx0aGlzLl9xdWVyeVBhcmFtTWFwfXRvU3RyaW5nKCl7cmV0dXJuIElmLnNlcmlhbGl6ZSh0aGlzKX19Y2xhc3Mga2Z7Y29uc3RydWN0b3IodCxlKXt0aGlzLnNlZ21lbnRzPXQsdGhpcy5jaGlsZHJlbj1lLHRoaXMucGFyZW50PW51bGwsYmYoZSwodCxlKT0+dC5wYXJlbnQ9dGhpcyl9aGFzQ2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5udW1iZXJPZkNoaWxkcmVuPjB9Z2V0IG51bWJlck9mQ2hpbGRyZW4oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5jaGlsZHJlbikubGVuZ3RofXRvU3RyaW5nKCl7cmV0dXJuIFJmKHRoaXMpfX1jbGFzcyBUZntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucGF0aD10LHRoaXMucGFyYW1ldGVycz1lfWdldCBwYXJhbWV0ZXJNYXAoKXtyZXR1cm4gdGhpcy5fcGFyYW1ldGVyTWFwfHwodGhpcy5fcGFyYW1ldGVyTWFwPWRmKHRoaXMucGFyYW1ldGVycykpLHRoaXMuX3BhcmFtZXRlck1hcH10b1N0cmluZygpe3JldHVybiBVZih0aGlzKX19ZnVuY3Rpb24gRmYodCxlKXtyZXR1cm4gdC5sZW5ndGg9PT1lLmxlbmd0aCYmdC5ldmVyeSgodCxuKT0+dC5wYXRoPT09ZVtuXS5wYXRoKX1jbGFzcyBPZnt9Y2xhc3MgUGZ7cGFyc2UodCl7Y29uc3QgZT1uZXcgV2YodCk7cmV0dXJuIG5ldyB4ZihlLnBhcnNlUm9vdFNlZ21lbnQoKSxlLnBhcnNlUXVlcnlQYXJhbXMoKSxlLnBhcnNlRnJhZ21lbnQoKSl9c2VyaWFsaXplKHQpe3ZhciBlO3JldHVybmAvJHtNZih0LnJvb3QsITApfSR7ZnVuY3Rpb24odCl7Y29uc3QgZT1PYmplY3Qua2V5cyh0KS5tYXAoZT0+e2NvbnN0IG49dFtlXTtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT9uLm1hcCh0PT5gJHtOZihlKX09JHtOZih0KX1gKS5qb2luKCImIik6YCR7TmYoZSl9PSR7TmYobil9YH0pO3JldHVybiBlLmxlbmd0aD9gPyR7ZS5qb2luKCImIil9YDoiIn0odC5xdWVyeVBhcmFtcyl9JHsic3RyaW5nIj09dHlwZW9mIHQuZnJhZ21lbnQ/YCMke2U9dC5mcmFnbWVudCxlbmNvZGVVUkkoZSl9YDoiIn1gfX1jb25zdCBJZj1uZXcgUGY7ZnVuY3Rpb24gUmYodCl7cmV0dXJuIHQuc2VnbWVudHMubWFwKHQ9PlVmKHQpKS5qb2luKCIvIil9ZnVuY3Rpb24gTWYodCxlKXtpZighdC5oYXNDaGlsZHJlbigpKXJldHVybiBSZih0KTtpZihlKXtjb25zdCBlPXQuY2hpbGRyZW4ucHJpbWFyeT9NZih0LmNoaWxkcmVuLnByaW1hcnksITEpOiIiLG49W107cmV0dXJuIGJmKHQuY2hpbGRyZW4sKHQsZSk9PntlIT09Y2YmJm4ucHVzaChgJHtlfToke01mKHQsITEpfWApfSksbi5sZW5ndGg+MD9gJHtlfSgke24uam9pbigiLy8iKX0pYDplfXtjb25zdCBlPWZ1bmN0aW9uKHQsZSl7bGV0IG49W107cmV0dXJuIGJmKHQuY2hpbGRyZW4sKHQscik9PntyPT09Y2YmJihuPW4uY29uY2F0KGUodCxyKSkpfSksYmYodC5jaGlsZHJlbiwodCxyKT0+e3IhPT1jZiYmKG49bi5jb25jYXQoZSh0LHIpKSl9KSxufSh0LChlLG4pPT5uPT09Y2Y/W01mKHQuY2hpbGRyZW4ucHJpbWFyeSwhMSldOltgJHtufToke01mKGUsITEpfWBdKTtyZXR1cm4gMT09PU9iamVjdC5rZXlzKHQuY2hpbGRyZW4pLmxlbmd0aCYmbnVsbCE9dC5jaGlsZHJlbi5wcmltYXJ5P2Ake1JmKHQpfS8ke2VbMF19YDpgJHtSZih0KX0vKCR7ZS5qb2luKCIvLyIpfSlgfX1mdW5jdGlvbiBqZih0KXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHQpLnJlcGxhY2UoLyU0MC9nLCJAIikucmVwbGFjZSgvJTNBL2dpLCI6IikucmVwbGFjZSgvJTI0L2csIiQiKS5yZXBsYWNlKC8lMkMvZ2ksIiwiKX1mdW5jdGlvbiBOZih0KXtyZXR1cm4gamYodCkucmVwbGFjZSgvJTNCL2dpLCI7Iil9ZnVuY3Rpb24gVmYodCl7cmV0dXJuIGpmKHQpLnJlcGxhY2UoL1woL2csIiUyOCIpLnJlcGxhY2UoL1wpL2csIiUyOSIpLnJlcGxhY2UoLyUyNi9naSwiJiIpfWZ1bmN0aW9uIExmKHQpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQodCl9ZnVuY3Rpb24gQmYodCl7cmV0dXJuIExmKHQucmVwbGFjZSgvXCsvZywiJTIwIikpfWZ1bmN0aW9uIFVmKHQpe3JldHVybmAke1ZmKHQucGF0aCl9JHtlPXQucGFyYW1ldGVycyxPYmplY3Qua2V5cyhlKS5tYXAodD0+YDske1ZmKHQpfT0ke1ZmKGVbdF0pfWApLmpvaW4oIiIpfWA7dmFyIGV9Y29uc3QgSGY9L15bXlwvKCk/Oz0jXSsvO2Z1bmN0aW9uICRmKHQpe2NvbnN0IGU9dC5tYXRjaChIZik7cmV0dXJuIGU/ZVswXToiIn1jb25zdCB6Zj0vXltePT8mI10rLyxxZj0vXltePyYjXSsvO2NsYXNzIFdme2NvbnN0cnVjdG9yKHQpe3RoaXMudXJsPXQsdGhpcy5yZW1haW5pbmc9dH1wYXJzZVJvb3RTZWdtZW50KCl7cmV0dXJuIHRoaXMuY29uc3VtZU9wdGlvbmFsKCIvIiksIiI9PT10aGlzLnJlbWFpbmluZ3x8dGhpcy5wZWVrU3RhcnRzV2l0aCgiPyIpfHx0aGlzLnBlZWtTdGFydHNXaXRoKCIjIik/bmV3IGtmKFtdLHt9KTpuZXcga2YoW10sdGhpcy5wYXJzZUNoaWxkcmVuKCkpfXBhcnNlUXVlcnlQYXJhbXMoKXtjb25zdCB0PXt9O2lmKHRoaXMuY29uc3VtZU9wdGlvbmFsKCI/IikpZG97dGhpcy5wYXJzZVF1ZXJ5UGFyYW0odCl9d2hpbGUodGhpcy5jb25zdW1lT3B0aW9uYWwoIiYiKSk7cmV0dXJuIHR9cGFyc2VGcmFnbWVudCgpe3JldHVybiB0aGlzLmNvbnN1bWVPcHRpb25hbCgiIyIpP2RlY29kZVVSSUNvbXBvbmVudCh0aGlzLnJlbWFpbmluZyk6bnVsbH1wYXJzZUNoaWxkcmVuKCl7aWYoIiI9PT10aGlzLnJlbWFpbmluZylyZXR1cm57fTt0aGlzLmNvbnN1bWVPcHRpb25hbCgiLyIpO2NvbnN0IHQ9W107Zm9yKHRoaXMucGVla1N0YXJ0c1dpdGgoIigiKXx8dC5wdXNoKHRoaXMucGFyc2VTZWdtZW50KCkpO3RoaXMucGVla1N0YXJ0c1dpdGgoIi8iKSYmIXRoaXMucGVla1N0YXJ0c1dpdGgoIi8vIikmJiF0aGlzLnBlZWtTdGFydHNXaXRoKCIvKCIpOyl0aGlzLmNhcHR1cmUoIi8iKSx0LnB1c2godGhpcy5wYXJzZVNlZ21lbnQoKSk7bGV0IGU9e307dGhpcy5wZWVrU3RhcnRzV2l0aCgiLygiKSYmKHRoaXMuY2FwdHVyZSgiLyIpLGU9dGhpcy5wYXJzZVBhcmVucyghMCkpO2xldCBuPXt9O3JldHVybiB0aGlzLnBlZWtTdGFydHNXaXRoKCIoIikmJihuPXRoaXMucGFyc2VQYXJlbnMoITEpKSwodC5sZW5ndGg+MHx8T2JqZWN0LmtleXMoZSkubGVuZ3RoPjApJiYobi5wcmltYXJ5PW5ldyBrZih0LGUpKSxufXBhcnNlU2VnbWVudCgpe2NvbnN0IHQ9JGYodGhpcy5yZW1haW5pbmcpO2lmKCIiPT09dCYmdGhpcy5wZWVrU3RhcnRzV2l0aCgiOyIpKXRocm93IG5ldyBFcnJvcihgRW1wdHkgcGF0aCB1cmwgc2VnbWVudCBjYW5ub3QgaGF2ZSBwYXJhbWV0ZXJzOiAnJHt0aGlzLnJlbWFpbmluZ30nLmApO3JldHVybiB0aGlzLmNhcHR1cmUodCksbmV3IFRmKExmKHQpLHRoaXMucGFyc2VNYXRyaXhQYXJhbXMoKSl9cGFyc2VNYXRyaXhQYXJhbXMoKXtjb25zdCB0PXt9O2Zvcig7dGhpcy5jb25zdW1lT3B0aW9uYWwoIjsiKTspdGhpcy5wYXJzZVBhcmFtKHQpO3JldHVybiB0fXBhcnNlUGFyYW0odCl7Y29uc3QgZT0kZih0aGlzLnJlbWFpbmluZyk7aWYoIWUpcmV0dXJuO3RoaXMuY2FwdHVyZShlKTtsZXQgbj0iIjtpZih0aGlzLmNvbnN1bWVPcHRpb25hbCgiPSIpKXtjb25zdCB0PSRmKHRoaXMucmVtYWluaW5nKTt0JiYobj10LHRoaXMuY2FwdHVyZShuKSl9dFtMZihlKV09TGYobil9cGFyc2VRdWVyeVBhcmFtKHQpe2NvbnN0IGU9ZnVuY3Rpb24odCl7Y29uc3QgZT10Lm1hdGNoKHpmKTtyZXR1cm4gZT9lWzBdOiIifSh0aGlzLnJlbWFpbmluZyk7aWYoIWUpcmV0dXJuO3RoaXMuY2FwdHVyZShlKTtsZXQgbj0iIjtpZih0aGlzLmNvbnN1bWVPcHRpb25hbCgiPSIpKXtjb25zdCB0PWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5tYXRjaChxZik7cmV0dXJuIGU/ZVswXToiIn0odGhpcy5yZW1haW5pbmcpO3QmJihuPXQsdGhpcy5jYXB0dXJlKG4pKX1jb25zdCByPUJmKGUpLHM9QmYobik7aWYodC5oYXNPd25Qcm9wZXJ0eShyKSl7bGV0IGU9dFtyXTtBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0sdFtyXT1lKSxlLnB1c2gocyl9ZWxzZSB0W3JdPXN9cGFyc2VQYXJlbnModCl7Y29uc3QgZT17fTtmb3IodGhpcy5jYXB0dXJlKCIoIik7IXRoaXMuY29uc3VtZU9wdGlvbmFsKCIpIikmJnRoaXMucmVtYWluaW5nLmxlbmd0aD4wOyl7Y29uc3Qgbj0kZih0aGlzLnJlbWFpbmluZykscj10aGlzLnJlbWFpbmluZ1tuLmxlbmd0aF07aWYoIi8iIT09ciYmIikiIT09ciYmIjsiIT09cil0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBwYXJzZSB1cmwgJyR7dGhpcy51cmx9J2ApO2xldCBzO24uaW5kZXhPZigiOiIpPi0xPyhzPW4uc3Vic3RyKDAsbi5pbmRleE9mKCI6IikpLHRoaXMuY2FwdHVyZShzKSx0aGlzLmNhcHR1cmUoIjoiKSk6dCYmKHM9Y2YpO2NvbnN0IGk9dGhpcy5wYXJzZUNoaWxkcmVuKCk7ZVtzXT0xPT09T2JqZWN0LmtleXMoaSkubGVuZ3RoP2kucHJpbWFyeTpuZXcga2YoW10saSksdGhpcy5jb25zdW1lT3B0aW9uYWwoIi8vIil9cmV0dXJuIGV9cGVla1N0YXJ0c1dpdGgodCl7cmV0dXJuIHRoaXMucmVtYWluaW5nLnN0YXJ0c1dpdGgodCl9Y29uc3VtZU9wdGlvbmFsKHQpe3JldHVybiEhdGhpcy5wZWVrU3RhcnRzV2l0aCh0KSYmKHRoaXMucmVtYWluaW5nPXRoaXMucmVtYWluaW5nLnN1YnN0cmluZyh0Lmxlbmd0aCksITApfWNhcHR1cmUodCl7aWYoIXRoaXMuY29uc3VtZU9wdGlvbmFsKHQpKXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgIiR7dH0iLmApfX1jbGFzcyBHZntjb25zdHJ1Y3Rvcih0KXt0aGlzLl9yb290PXR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy5fcm9vdC52YWx1ZX1wYXJlbnQodCl7Y29uc3QgZT10aGlzLnBhdGhGcm9tUm9vdCh0KTtyZXR1cm4gZS5sZW5ndGg+MT9lW2UubGVuZ3RoLTJdOm51bGx9Y2hpbGRyZW4odCl7Y29uc3QgZT1aZih0LHRoaXMuX3Jvb3QpO3JldHVybiBlP2UuY2hpbGRyZW4ubWFwKHQ9PnQudmFsdWUpOltdfWZpcnN0Q2hpbGQodCl7Y29uc3QgZT1aZih0LHRoaXMuX3Jvb3QpO3JldHVybiBlJiZlLmNoaWxkcmVuLmxlbmd0aD4wP2UuY2hpbGRyZW5bMF0udmFsdWU6bnVsbH1zaWJsaW5ncyh0KXtjb25zdCBlPUtmKHQsdGhpcy5fcm9vdCk7cmV0dXJuIGUubGVuZ3RoPDI/W106ZVtlLmxlbmd0aC0yXS5jaGlsZHJlbi5tYXAodD0+dC52YWx1ZSkuZmlsdGVyKGU9PmUhPT10KX1wYXRoRnJvbVJvb3QodCl7cmV0dXJuIEtmKHQsdGhpcy5fcm9vdCkubWFwKHQ9PnQudmFsdWUpfX1mdW5jdGlvbiBaZih0LGUpe2lmKHQ9PT1lLnZhbHVlKXJldHVybiBlO2Zvcihjb25zdCBuIG9mIGUuY2hpbGRyZW4pe2NvbnN0IGU9WmYodCxuKTtpZihlKXJldHVybiBlfXJldHVybiBudWxsfWZ1bmN0aW9uIEtmKHQsZSl7aWYodD09PWUudmFsdWUpcmV0dXJuW2VdO2Zvcihjb25zdCBuIG9mIGUuY2hpbGRyZW4pe2NvbnN0IHI9S2YodCxuKTtpZihyLmxlbmd0aClyZXR1cm4gci51bnNoaWZ0KGUpLHJ9cmV0dXJuW119Y2xhc3MgWWZ7Y29uc3RydWN0b3IodCxlKXt0aGlzLnZhbHVlPXQsdGhpcy5jaGlsZHJlbj1lfXRvU3RyaW5nKCl7cmV0dXJuYFRyZWVOb2RlKCR7dGhpcy52YWx1ZX0pYH19ZnVuY3Rpb24gUWYodCl7Y29uc3QgZT17fTtyZXR1cm4gdCYmdC5jaGlsZHJlbi5mb3JFYWNoKHQ9PmVbdC52YWx1ZS5vdXRsZXRdPXQpLGV9Y2xhc3MgWGYgZXh0ZW5kcyBHZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuc25hcHNob3Q9ZSxzZyh0aGlzLHQpfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMuc25hcHNob3QudG9TdHJpbmcoKX19ZnVuY3Rpb24gSmYodCxlKXtjb25zdCBuPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1uZXcgbmcoW10se30se30sIiIse30sY2YsZSxudWxsLHQucm9vdCwtMSx7fSk7cmV0dXJuIG5ldyByZygiIixuZXcgWWYobixbXSkpfSh0LGUpLHI9bmV3IGlwKFtuZXcgVGYoIiIse30pXSkscz1uZXcgaXAoe30pLGk9bmV3IGlwKHt9KSxvPW5ldyBpcCh7fSksYT1uZXcgaXAoIiIpLGw9bmV3IHRnKHIscyxvLGEsaSxjZixlLG4ucm9vdCk7cmV0dXJuIGwuc25hcHNob3Q9bi5yb290LG5ldyBYZihuZXcgWWYobCxbXSksbil9Y2xhc3MgdGd7Y29uc3RydWN0b3IodCxlLG4scixzLGksbyxhKXt0aGlzLnVybD10LHRoaXMucGFyYW1zPWUsdGhpcy5xdWVyeVBhcmFtcz1uLHRoaXMuZnJhZ21lbnQ9cix0aGlzLmRhdGE9cyx0aGlzLm91dGxldD1pLHRoaXMuY29tcG9uZW50PW8sdGhpcy5fZnV0dXJlU25hcHNob3Q9YX1nZXQgcm91dGVDb25maWcoKXtyZXR1cm4gdGhpcy5fZnV0dXJlU25hcHNob3Qucm91dGVDb25maWd9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUucm9vdH1nZXQgcGFyZW50KCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnBhcmVudCh0aGlzKX1nZXQgZmlyc3RDaGlsZCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5maXJzdENoaWxkKHRoaXMpfWdldCBjaGlsZHJlbigpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5jaGlsZHJlbih0aGlzKX1nZXQgcGF0aEZyb21Sb290KCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnBhdGhGcm9tUm9vdCh0aGlzKX1nZXQgcGFyYW1NYXAoKXtyZXR1cm4gdGhpcy5fcGFyYW1NYXB8fCh0aGlzLl9wYXJhbU1hcD10aGlzLnBhcmFtcy5waXBlKFModD0+ZGYodCkpKSksdGhpcy5fcGFyYW1NYXB9Z2V0IHF1ZXJ5UGFyYW1NYXAoKXtyZXR1cm4gdGhpcy5fcXVlcnlQYXJhbU1hcHx8KHRoaXMuX3F1ZXJ5UGFyYW1NYXA9dGhpcy5xdWVyeVBhcmFtcy5waXBlKFModD0+ZGYodCkpKSksdGhpcy5fcXVlcnlQYXJhbU1hcH10b1N0cmluZygpe3JldHVybiB0aGlzLnNuYXBzaG90P3RoaXMuc25hcHNob3QudG9TdHJpbmcoKTpgRnV0dXJlKCR7dGhpcy5fZnV0dXJlU25hcHNob3R9KWB9fWZ1bmN0aW9uIGVnKHQsZT0iZW1wdHlPbmx5Iil7Y29uc3Qgbj10LnBhdGhGcm9tUm9vdDtsZXQgcj0wO2lmKCJhbHdheXMiIT09ZSlmb3Iocj1uLmxlbmd0aC0xO3I+PTE7KXtjb25zdCB0PW5bcl0sZT1uW3ItMV07aWYodC5yb3V0ZUNvbmZpZyYmIiI9PT10LnJvdXRlQ29uZmlnLnBhdGgpci0tO2Vsc2V7aWYoZS5jb21wb25lbnQpYnJlYWs7ci0tfX1yZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQucmVkdWNlKCh0LGUpPT4oe3BhcmFtczpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdC5wYXJhbXMpLGUucGFyYW1zKSxkYXRhOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0LmRhdGEpLGUuZGF0YSkscmVzb2x2ZTpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdC5yZXNvbHZlKSxlLl9yZXNvbHZlZERhdGEpfSkse3BhcmFtczp7fSxkYXRhOnt9LHJlc29sdmU6e319KX0obi5zbGljZShyKSl9Y2xhc3Mgbmd7Y29uc3RydWN0b3IodCxlLG4scixzLGksbyxhLGwsdSxjKXt0aGlzLnVybD10LHRoaXMucGFyYW1zPWUsdGhpcy5xdWVyeVBhcmFtcz1uLHRoaXMuZnJhZ21lbnQ9cix0aGlzLmRhdGE9cyx0aGlzLm91dGxldD1pLHRoaXMuY29tcG9uZW50PW8sdGhpcy5yb3V0ZUNvbmZpZz1hLHRoaXMuX3VybFNlZ21lbnQ9bCx0aGlzLl9sYXN0UGF0aEluZGV4PXUsdGhpcy5fcmVzb2x2ZT1jfWdldCByb290KCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnJvb3R9Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXJlbnQodGhpcyl9Z2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuZmlyc3RDaGlsZCh0aGlzKX1nZXQgY2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuY2hpbGRyZW4odGhpcyl9Z2V0IHBhdGhGcm9tUm9vdCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXRoRnJvbVJvb3QodGhpcyl9Z2V0IHBhcmFtTWFwKCl7cmV0dXJuIHRoaXMuX3BhcmFtTWFwfHwodGhpcy5fcGFyYW1NYXA9ZGYodGhpcy5wYXJhbXMpKSx0aGlzLl9wYXJhbU1hcH1nZXQgcXVlcnlQYXJhbU1hcCgpe3JldHVybiB0aGlzLl9xdWVyeVBhcmFtTWFwfHwodGhpcy5fcXVlcnlQYXJhbU1hcD1kZih0aGlzLnF1ZXJ5UGFyYW1zKSksdGhpcy5fcXVlcnlQYXJhbU1hcH10b1N0cmluZygpe3JldHVybmBSb3V0ZSh1cmw6JyR7dGhpcy51cmwubWFwKHQ9PnQudG9TdHJpbmcoKSkuam9pbigiLyIpfScsIHBhdGg6JyR7dGhpcy5yb3V0ZUNvbmZpZz90aGlzLnJvdXRlQ29uZmlnLnBhdGg6IiJ9JylgfX1jbGFzcyByZyBleHRlbmRzIEdme2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoZSksdGhpcy51cmw9dCxzZyh0aGlzLGUpfXRvU3RyaW5nKCl7cmV0dXJuIGlnKHRoaXMuX3Jvb3QpfX1mdW5jdGlvbiBzZyh0LGUpe2UudmFsdWUuX3JvdXRlclN0YXRlPXQsZS5jaGlsZHJlbi5mb3JFYWNoKGU9PnNnKHQsZSkpfWZ1bmN0aW9uIGlnKHQpe2NvbnN0IGU9dC5jaGlsZHJlbi5sZW5ndGg+MD9gIHsgJHt0LmNoaWxkcmVuLm1hcChpZykuam9pbigiLCAiKX0gfSBgOiIiO3JldHVybmAke3QudmFsdWV9JHtlfWB9ZnVuY3Rpb24gb2codCl7aWYodC5zbmFwc2hvdCl7Y29uc3QgZT10LnNuYXBzaG90LG49dC5fZnV0dXJlU25hcHNob3Q7dC5zbmFwc2hvdD1uLGdmKGUucXVlcnlQYXJhbXMsbi5xdWVyeVBhcmFtcyl8fHQucXVlcnlQYXJhbXMubmV4dChuLnF1ZXJ5UGFyYW1zKSxlLmZyYWdtZW50IT09bi5mcmFnbWVudCYmdC5mcmFnbWVudC5uZXh0KG4uZnJhZ21lbnQpLGdmKGUucGFyYW1zLG4ucGFyYW1zKXx8dC5wYXJhbXMubmV4dChuLnBhcmFtcyksZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7KytuKWlmKCFnZih0W25dLGVbbl0pKXJldHVybiExO3JldHVybiEwfShlLnVybCxuLnVybCl8fHQudXJsLm5leHQobi51cmwpLGdmKGUuZGF0YSxuLmRhdGEpfHx0LmRhdGEubmV4dChuLmRhdGEpfWVsc2UgdC5zbmFwc2hvdD10Ll9mdXR1cmVTbmFwc2hvdCx0LmRhdGEubmV4dCh0Ll9mdXR1cmVTbmFwc2hvdC5kYXRhKX1mdW5jdGlvbiBhZyh0LGUpe3ZhciBuLHI7cmV0dXJuIGdmKHQucGFyYW1zLGUucGFyYW1zKSYmRmYobj10LnVybCxyPWUudXJsKSYmbi5ldmVyeSgodCxlKT0+Z2YodC5wYXJhbWV0ZXJzLHJbZV0ucGFyYW1ldGVycykpJiYhKCF0LnBhcmVudCE9IWUucGFyZW50KSYmKCF0LnBhcmVudHx8YWcodC5wYXJlbnQsZS5wYXJlbnQpKX1mdW5jdGlvbiBsZyh0LGUsbil7aWYobiYmdC5zaG91bGRSZXVzZVJvdXRlKGUudmFsdWUsbi52YWx1ZS5zbmFwc2hvdCkpe2NvbnN0IHI9bi52YWx1ZTtyLl9mdXR1cmVTbmFwc2hvdD1lLnZhbHVlO2NvbnN0IHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlLmNoaWxkcmVuLm1hcChlPT57Zm9yKGNvbnN0IHIgb2Ygbi5jaGlsZHJlbilpZih0LnNob3VsZFJldXNlUm91dGUoZS52YWx1ZSxyLnZhbHVlLnNuYXBzaG90KSlyZXR1cm4gbGcodCxlLHIpO3JldHVybiBsZyh0LGUpfSl9KHQsZSxuKTtyZXR1cm4gbmV3IFlmKHIscyl9e2lmKHQuc2hvdWxkQXR0YWNoKGUudmFsdWUpKXtjb25zdCBuPXQucmV0cmlldmUoZS52YWx1ZSk7aWYobnVsbCE9PW4pe2NvbnN0IHQ9bi5yb3V0ZTtyZXR1cm4gdWcoZSx0KSx0fX1jb25zdCBuPW5ldyB0ZyhuZXcgaXAoKHI9ZS52YWx1ZSkudXJsKSxuZXcgaXAoci5wYXJhbXMpLG5ldyBpcChyLnF1ZXJ5UGFyYW1zKSxuZXcgaXAoci5mcmFnbWVudCksbmV3IGlwKHIuZGF0YSksci5vdXRsZXQsci5jb21wb25lbnQscikscz1lLmNoaWxkcmVuLm1hcChlPT5sZyh0LGUpKTtyZXR1cm4gbmV3IFlmKG4scyl9dmFyIHJ9ZnVuY3Rpb24gdWcodCxlKXtpZih0LnZhbHVlLnJvdXRlQ29uZmlnIT09ZS52YWx1ZS5yb3V0ZUNvbmZpZyl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCByZWF0dGFjaCBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90IGNyZWF0ZWQgZnJvbSBhIGRpZmZlcmVudCByb3V0ZSIpO2lmKHQuY2hpbGRyZW4ubGVuZ3RoIT09ZS5jaGlsZHJlbi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgcmVhdHRhY2ggQWN0aXZhdGVkUm91dGVTbmFwc2hvdCB3aXRoIGEgZGlmZmVyZW50IG51bWJlciBvZiBjaGlsZHJlbiIpO2UudmFsdWUuX2Z1dHVyZVNuYXBzaG90PXQudmFsdWU7Zm9yKGxldCBuPTA7bjx0LmNoaWxkcmVuLmxlbmd0aDsrK24pdWcodC5jaGlsZHJlbltuXSxlLmNoaWxkcmVuW25dKX1mdW5jdGlvbiBjZyh0KXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIHQmJm51bGwhPXQmJiF0Lm91dGxldHMmJiF0LnNlZ21lbnRQYXRofWZ1bmN0aW9uIGhnKHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9dCYmdC5vdXRsZXRzfWZ1bmN0aW9uIGRnKHQsZSxuLHIscyl7bGV0IGk9e307cmV0dXJuIHImJmJmKHIsKHQsZSk9PntpW2VdPUFycmF5LmlzQXJyYXkodCk/dC5tYXAodD0+YCR7dH1gKTpgJHt0fWB9KSxuZXcgeGYobi5yb290PT09dD9lOnBnKG4ucm9vdCx0LGUpLGkscyl9ZnVuY3Rpb24gcGcodCxlLG4pe2NvbnN0IHI9e307cmV0dXJuIGJmKHQuY2hpbGRyZW4sKHQscyk9PntyW3NdPXQ9PT1lP246cGcodCxlLG4pfSksbmV3IGtmKHQuc2VnbWVudHMscil9Y2xhc3MgZmd7Y29uc3RydWN0b3IodCxlLG4pe2lmKHRoaXMuaXNBYnNvbHV0ZT10LHRoaXMubnVtYmVyT2ZEb3VibGVEb3RzPWUsdGhpcy5jb21tYW5kcz1uLHQmJm4ubGVuZ3RoPjAmJmNnKG5bMF0pKXRocm93IG5ldyBFcnJvcigiUm9vdCBzZWdtZW50IGNhbm5vdCBoYXZlIG1hdHJpeCBwYXJhbWV0ZXJzIik7Y29uc3Qgcj1uLmZpbmQoaGcpO2lmKHImJnIhPT12ZihuKSl0aHJvdyBuZXcgRXJyb3IoIntvdXRsZXRzOnt9fSBoYXMgdG8gYmUgdGhlIGxhc3QgY29tbWFuZCIpfXRvUm9vdCgpe3JldHVybiB0aGlzLmlzQWJzb2x1dGUmJjE9PT10aGlzLmNvbW1hbmRzLmxlbmd0aCYmIi8iPT10aGlzLmNvbW1hbmRzWzBdfX1jbGFzcyBnZ3tjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5zZWdtZW50R3JvdXA9dCx0aGlzLnByb2Nlc3NDaGlsZHJlbj1lLHRoaXMuaW5kZXg9bn19ZnVuY3Rpb24gbWcodCxlLG4pe2lmKHR8fCh0PW5ldyBrZihbXSx7fSkpLDA9PT10LnNlZ21lbnRzLmxlbmd0aCYmdC5oYXNDaGlsZHJlbigpKXJldHVybiB5Zyh0LGUsbik7Y29uc3Qgcj1mdW5jdGlvbih0LGUsbil7bGV0IHI9MCxzPWU7Y29uc3QgaT17bWF0Y2g6ITEscGF0aEluZGV4OjAsY29tbWFuZEluZGV4OjB9O2Zvcig7czx0LnNlZ21lbnRzLmxlbmd0aDspe2lmKHI+PW4ubGVuZ3RoKXJldHVybiBpO2NvbnN0IGU9dC5zZWdtZW50c1tzXSxvPW5bcl07aWYoaGcobykpYnJlYWs7Y29uc3QgYT1gJHtvfWAsbD1yPG4ubGVuZ3RoLTE/bltyKzFdOm51bGw7aWYocz4wJiZ2b2lkIDA9PT1hKWJyZWFrO2lmKGEmJmwmJiJvYmplY3QiPT10eXBlb2YgbCYmdm9pZCAwPT09bC5vdXRsZXRzKXtpZighX2coYSxsLGUpKXJldHVybiBpO3IrPTJ9ZWxzZXtpZighX2coYSx7fSxlKSlyZXR1cm4gaTtyKyt9cysrfXJldHVybnttYXRjaDohMCxwYXRoSW5kZXg6cyxjb21tYW5kSW5kZXg6cn19KHQsZSxuKSxzPW4uc2xpY2Uoci5jb21tYW5kSW5kZXgpO2lmKHIubWF0Y2gmJnIucGF0aEluZGV4PHQuc2VnbWVudHMubGVuZ3RoKXtjb25zdCBlPW5ldyBrZih0LnNlZ21lbnRzLnNsaWNlKDAsci5wYXRoSW5kZXgpLHt9KTtyZXR1cm4gZS5jaGlsZHJlbi5wcmltYXJ5PW5ldyBrZih0LnNlZ21lbnRzLnNsaWNlKHIucGF0aEluZGV4KSx0LmNoaWxkcmVuKSx5ZyhlLDAscyl9cmV0dXJuIHIubWF0Y2gmJjA9PT1zLmxlbmd0aD9uZXcga2YodC5zZWdtZW50cyx7fSk6ci5tYXRjaCYmIXQuaGFzQ2hpbGRyZW4oKT92Zyh0LGUsbik6ci5tYXRjaD95Zyh0LDAscyk6dmcodCxlLG4pfWZ1bmN0aW9uIHlnKHQsZSxuKXtpZigwPT09bi5sZW5ndGgpcmV0dXJuIG5ldyBrZih0LnNlZ21lbnRzLHt9KTt7Y29uc3Qgcj1mdW5jdGlvbih0KXtyZXR1cm4gaGcodFswXSk/dFswXS5vdXRsZXRzOntbY2ZdOnR9fShuKSxzPXt9O3JldHVybiBiZihyLChuLHIpPT57InN0cmluZyI9PXR5cGVvZiBuJiYobj1bbl0pLG51bGwhPT1uJiYoc1tyXT1tZyh0LmNoaWxkcmVuW3JdLGUsbikpfSksYmYodC5jaGlsZHJlbiwodCxlKT0+e3ZvaWQgMD09PXJbZV0mJihzW2VdPXQpfSksbmV3IGtmKHQuc2VnbWVudHMscyl9fWZ1bmN0aW9uIHZnKHQsZSxuKXtjb25zdCByPXQuc2VnbWVudHMuc2xpY2UoMCxlKTtsZXQgcz0wO2Zvcig7czxuLmxlbmd0aDspe2NvbnN0IGk9bltzXTtpZihoZyhpKSl7Y29uc3QgdD1iZyhpLm91dGxldHMpO3JldHVybiBuZXcga2Yocix0KX1pZigwPT09cyYmY2coblswXSkpe3IucHVzaChuZXcgVGYodC5zZWdtZW50c1tlXS5wYXRoLHdnKG5bMF0pKSkscysrO2NvbnRpbnVlfWNvbnN0IG89aGcoaSk/aS5vdXRsZXRzLnByaW1hcnk6YCR7aX1gLGE9czxuLmxlbmd0aC0xP25bcysxXTpudWxsO28mJmEmJmNnKGEpPyhyLnB1c2gobmV3IFRmKG8sd2coYSkpKSxzKz0yKTooci5wdXNoKG5ldyBUZihvLHt9KSkscysrKX1yZXR1cm4gbmV3IGtmKHIse30pfWZ1bmN0aW9uIGJnKHQpe2NvbnN0IGU9e307cmV0dXJuIGJmKHQsKHQsbik9Pnsic3RyaW5nIj09dHlwZW9mIHQmJih0PVt0XSksbnVsbCE9PXQmJihlW25dPXZnKG5ldyBrZihbXSx7fSksMCx0KSl9KSxlfWZ1bmN0aW9uIHdnKHQpe2NvbnN0IGU9e307cmV0dXJuIGJmKHQsKHQsbik9PmVbbl09YCR7dH1gKSxlfWZ1bmN0aW9uIF9nKHQsZSxuKXtyZXR1cm4gdD09bi5wYXRoJiZnZihlLG4ucGFyYW1ldGVycyl9Y2xhc3MgQ2d7Y29uc3RydWN0b3IodCxlLG4scil7dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3k9dCx0aGlzLmZ1dHVyZVN0YXRlPWUsdGhpcy5jdXJyU3RhdGU9bix0aGlzLmZvcndhcmRFdmVudD1yfWFjdGl2YXRlKHQpe2NvbnN0IGU9dGhpcy5mdXR1cmVTdGF0ZS5fcm9vdCxuPXRoaXMuY3VyclN0YXRlP3RoaXMuY3VyclN0YXRlLl9yb290Om51bGw7dGhpcy5kZWFjdGl2YXRlQ2hpbGRSb3V0ZXMoZSxuLHQpLG9nKHRoaXMuZnV0dXJlU3RhdGUucm9vdCksdGhpcy5hY3RpdmF0ZUNoaWxkUm91dGVzKGUsbix0KX1kZWFjdGl2YXRlQ2hpbGRSb3V0ZXModCxlLG4pe2NvbnN0IHI9UWYoZSk7dC5jaGlsZHJlbi5mb3JFYWNoKHQ9Pntjb25zdCBlPXQudmFsdWUub3V0bGV0O3RoaXMuZGVhY3RpdmF0ZVJvdXRlcyh0LHJbZV0sbiksZGVsZXRlIHJbZV19KSxiZihyLCh0LGUpPT57dGhpcy5kZWFjdGl2YXRlUm91dGVBbmRJdHNDaGlsZHJlbih0LG4pfSl9ZGVhY3RpdmF0ZVJvdXRlcyh0LGUsbil7Y29uc3Qgcj10LnZhbHVlLHM9ZT9lLnZhbHVlOm51bGw7aWYocj09PXMpaWYoci5jb21wb25lbnQpe2NvbnN0IHM9bi5nZXRDb250ZXh0KHIub3V0bGV0KTtzJiZ0aGlzLmRlYWN0aXZhdGVDaGlsZFJvdXRlcyh0LGUscy5jaGlsZHJlbil9ZWxzZSB0aGlzLmRlYWN0aXZhdGVDaGlsZFJvdXRlcyh0LGUsbik7ZWxzZSBzJiZ0aGlzLmRlYWN0aXZhdGVSb3V0ZUFuZEl0c0NoaWxkcmVuKGUsbil9ZGVhY3RpdmF0ZVJvdXRlQW5kSXRzQ2hpbGRyZW4odCxlKXt0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5zaG91bGREZXRhY2godC52YWx1ZS5zbmFwc2hvdCk/dGhpcy5kZXRhY2hBbmRTdG9yZVJvdXRlU3VidHJlZSh0LGUpOnRoaXMuZGVhY3RpdmF0ZVJvdXRlQW5kT3V0bGV0KHQsZSl9ZGV0YWNoQW5kU3RvcmVSb3V0ZVN1YnRyZWUodCxlKXtjb25zdCBuPWUuZ2V0Q29udGV4dCh0LnZhbHVlLm91dGxldCk7aWYobiYmbi5vdXRsZXQpe2NvbnN0IGU9bi5vdXRsZXQuZGV0YWNoKCkscj1uLmNoaWxkcmVuLm9uT3V0bGV0RGVhY3RpdmF0ZWQoKTt0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5zdG9yZSh0LnZhbHVlLnNuYXBzaG90LHtjb21wb25lbnRSZWY6ZSxyb3V0ZTp0LGNvbnRleHRzOnJ9KX19ZGVhY3RpdmF0ZVJvdXRlQW5kT3V0bGV0KHQsZSl7Y29uc3Qgbj1lLmdldENvbnRleHQodC52YWx1ZS5vdXRsZXQpLHI9biYmdC52YWx1ZS5jb21wb25lbnQ/bi5jaGlsZHJlbjplLHM9UWYodCk7Zm9yKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMocykpdGhpcy5kZWFjdGl2YXRlUm91dGVBbmRJdHNDaGlsZHJlbihzW2ldLHIpO24mJm4ub3V0bGV0JiYobi5vdXRsZXQuZGVhY3RpdmF0ZSgpLG4uY2hpbGRyZW4ub25PdXRsZXREZWFjdGl2YXRlZCgpLG4uYXR0YWNoUmVmPW51bGwsbi5yZXNvbHZlcj1udWxsLG4ucm91dGU9bnVsbCl9YWN0aXZhdGVDaGlsZFJvdXRlcyh0LGUsbil7Y29uc3Qgcj1RZihlKTt0LmNoaWxkcmVuLmZvckVhY2godD0+e3RoaXMuYWN0aXZhdGVSb3V0ZXModCxyW3QudmFsdWUub3V0bGV0XSxuKSx0aGlzLmZvcndhcmRFdmVudChuZXcgbGYodC52YWx1ZS5zbmFwc2hvdCkpfSksdC5jaGlsZHJlbi5sZW5ndGgmJnRoaXMuZm9yd2FyZEV2ZW50KG5ldyBvZih0LnZhbHVlLnNuYXBzaG90KSl9YWN0aXZhdGVSb3V0ZXModCxlLG4pe2NvbnN0IHI9dC52YWx1ZSxzPWU/ZS52YWx1ZTpudWxsO2lmKG9nKHIpLHI9PT1zKWlmKHIuY29tcG9uZW50KXtjb25zdCBzPW4uZ2V0T3JDcmVhdGVDb250ZXh0KHIub3V0bGV0KTt0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXModCxlLHMuY2hpbGRyZW4pfWVsc2UgdGhpcy5hY3RpdmF0ZUNoaWxkUm91dGVzKHQsZSxuKTtlbHNlIGlmKHIuY29tcG9uZW50KXtjb25zdCBlPW4uZ2V0T3JDcmVhdGVDb250ZXh0KHIub3V0bGV0KTtpZih0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5zaG91bGRBdHRhY2goci5zbmFwc2hvdCkpe2NvbnN0IHQ9dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kucmV0cmlldmUoci5zbmFwc2hvdCk7dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuc3RvcmUoci5zbmFwc2hvdCxudWxsKSxlLmNoaWxkcmVuLm9uT3V0bGV0UmVBdHRhY2hlZCh0LmNvbnRleHRzKSxlLmF0dGFjaFJlZj10LmNvbXBvbmVudFJlZixlLnJvdXRlPXQucm91dGUudmFsdWUsZS5vdXRsZXQmJmUub3V0bGV0LmF0dGFjaCh0LmNvbXBvbmVudFJlZix0LnJvdXRlLnZhbHVlKSxEZyh0LnJvdXRlKX1lbHNle2NvbnN0IG49ZnVuY3Rpb24odCl7Zm9yKGxldCBlPXQucGFyZW50O2U7ZT1lLnBhcmVudCl7Y29uc3QgdD1lLnJvdXRlQ29uZmlnO2lmKHQmJnQuX2xvYWRlZENvbmZpZylyZXR1cm4gdC5fbG9hZGVkQ29uZmlnO2lmKHQmJnQuY29tcG9uZW50KXJldHVybiBudWxsfXJldHVybiBudWxsfShyLnNuYXBzaG90KSxzPW4/bi5tb2R1bGUuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyOm51bGw7ZS5hdHRhY2hSZWY9bnVsbCxlLnJvdXRlPXIsZS5yZXNvbHZlcj1zLGUub3V0bGV0JiZlLm91dGxldC5hY3RpdmF0ZVdpdGgocixzKSx0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXModCxudWxsLGUuY2hpbGRyZW4pfX1lbHNlIHRoaXMuYWN0aXZhdGVDaGlsZFJvdXRlcyh0LG51bGwsbil9fWZ1bmN0aW9uIERnKHQpe29nKHQudmFsdWUpLHQuY2hpbGRyZW4uZm9yRWFjaChEZyl9Y2xhc3MgRWd7Y29uc3RydWN0b3IodCxlKXt0aGlzLnJvdXRlcz10LHRoaXMubW9kdWxlPWV9fWZ1bmN0aW9uIEFnKHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0fWZ1bmN0aW9uIFNnKHQpe3JldHVybiB0IGluc3RhbmNlb2YgeGZ9Y29uc3QgeGc9U3ltYm9sKCJJTklUSUFMX1ZBTFVFIik7ZnVuY3Rpb24ga2coKXtyZXR1cm4gZWQodD0+ZnVuY3Rpb24oLi4udCl7bGV0IGUsbjtyZXR1cm4gQSh0W3QubGVuZ3RoLTFdKSYmKG49dC5wb3AoKSksImZ1bmN0aW9uIj09dHlwZW9mIHRbdC5sZW5ndGgtMV0mJihlPXQucG9wKCkpLDE9PT10Lmxlbmd0aCYmbCh0WzBdKSYmKHQ9dFswXSkseih0LG4pLmxpZnQobmV3IGNwKGUpKX0odC5tYXAodD0+dC5waXBlKG1wKDEpLGZ1bmN0aW9uKC4uLnQpe2NvbnN0IGU9dFt0Lmxlbmd0aC0xXTtyZXR1cm4gQShlKT8odC5wb3AoKSxuPT5wcCh0LG4sZSkpOmU9PnBwKHQsZSl9KHhnKSkpKS5waXBlKGJwKCh0LGUpPT57bGV0IG49ITE7cmV0dXJuIGUucmVkdWNlKCh0LHIscyk9PntpZih0IT09eGcpcmV0dXJuIHQ7aWYocj09PXhnJiYobj0hMCksIW4pe2lmKCExPT09cilyZXR1cm4gcjtpZihzPT09ZS5sZW5ndGgtMXx8U2cocikpcmV0dXJuIHJ9cmV0dXJuIHR9LHQpfSx4ZyksQ3AodD0+dCE9PXhnKSxTKHQ9PlNnKHQpP3Q6ITA9PT10KSxtcCgxKSkpfWxldCBUZz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVjbXA9SHQoe3R5cGU6dCxzZWxlY3RvcnM6W1sibmctY29tcG9uZW50Il1dLGRlY2xzOjEsdmFyczowLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiZwbygwLCJyb3V0ZXItb3V0bGV0Iil9LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5bRG1dfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKTtmdW5jdGlvbiBGZyh0LGU9IiIpe2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCByPXRbbl07T2cocixQZyhlLHIpKX19ZnVuY3Rpb24gT2codCxlKXt0LmNoaWxkcmVuJiZGZyh0LmNoaWxkcmVuLGUpfWZ1bmN0aW9uIFBnKHQsZSl7cmV0dXJuIGU/dHx8ZS5wYXRoP3QmJiFlLnBhdGg/YCR7dH0vYDohdCYmZS5wYXRoP2UucGF0aDpgJHt0fS8ke2UucGF0aH1gOiIiOnR9ZnVuY3Rpb24gSWcodCl7Y29uc3QgZT10LmNoaWxkcmVuJiZ0LmNoaWxkcmVuLm1hcChJZyksbj1lP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7Y2hpbGRyZW46ZX0pOk9iamVjdC5hc3NpZ24oe30sdCk7cmV0dXJuIW4uY29tcG9uZW50JiYoZXx8bi5sb2FkQ2hpbGRyZW4pJiZuLm91dGxldCYmbi5vdXRsZXQhPT1jZiYmKG4uY29tcG9uZW50PVRnKSxufWZ1bmN0aW9uIFJnKHQpe3JldHVybiB0Lm91dGxldHx8Y2Z9ZnVuY3Rpb24gTWcodCxlKXtjb25zdCBuPXQuZmlsdGVyKHQ9PlJnKHQpPT09ZSk7cmV0dXJuIG4ucHVzaCguLi50LmZpbHRlcih0PT5SZyh0KSE9PWUpKSxufWNvbnN0IGpnPXttYXRjaGVkOiExLGNvbnN1bWVkU2VnbWVudHM6W10sbGFzdENoaWxkOjAscGFyYW1ldGVyczp7fSxwb3NpdGlvbmFsUGFyYW1TZWdtZW50czp7fX07ZnVuY3Rpb24gTmcodCxlLG4pe3ZhciByO2lmKCIiPT09ZS5wYXRoKXJldHVybiJmdWxsIj09PWUucGF0aE1hdGNoJiYodC5oYXNDaGlsZHJlbigpfHxuLmxlbmd0aD4wKT9PYmplY3QuYXNzaWduKHt9LGpnKTp7bWF0Y2hlZDohMCxjb25zdW1lZFNlZ21lbnRzOltdLGxhc3RDaGlsZDowLHBhcmFtZXRlcnM6e30scG9zaXRpb25hbFBhcmFtU2VnbWVudHM6e319O2NvbnN0IHM9KGUubWF0Y2hlcnx8ZmYpKG4sdCxlKTtpZighcylyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxqZyk7Y29uc3QgaT17fTtiZihzLnBvc1BhcmFtcywodCxlKT0+e2lbZV09dC5wYXRofSk7Y29uc3Qgbz1zLmNvbnN1bWVkLmxlbmd0aD4wP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxpKSxzLmNvbnN1bWVkW3MuY29uc3VtZWQubGVuZ3RoLTFdLnBhcmFtZXRlcnMpOmk7cmV0dXJue21hdGNoZWQ6ITAsY29uc3VtZWRTZWdtZW50czpzLmNvbnN1bWVkLGxhc3RDaGlsZDpzLmNvbnN1bWVkLmxlbmd0aCxwYXJhbWV0ZXJzOm8scG9zaXRpb25hbFBhcmFtU2VnbWVudHM6bnVsbCE9PShyPXMucG9zUGFyYW1zKSYmdm9pZCAwIT09cj9yOnt9fX1mdW5jdGlvbiBWZyh0LGUsbixyLHM9ImNvcnJlY3RlZCIpe2lmKG4ubGVuZ3RoPjAmJmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbi5zb21lKG49PkxnKHQsZSxuKSYmUmcobikhPT1jZil9KHQsbixyKSl7Y29uc3Qgcz1uZXcga2YoZSxmdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPXt9O3MucHJpbWFyeT1yLHIuX3NvdXJjZVNlZ21lbnQ9dCxyLl9zZWdtZW50SW5kZXhTaGlmdD1lLmxlbmd0aDtmb3IoY29uc3QgaSBvZiBuKWlmKCIiPT09aS5wYXRoJiZSZyhpKSE9PWNmKXtjb25zdCBuPW5ldyBrZihbXSx7fSk7bi5fc291cmNlU2VnbWVudD10LG4uX3NlZ21lbnRJbmRleFNoaWZ0PWUubGVuZ3RoLHNbUmcoaSldPW59cmV0dXJuIHN9KHQsZSxyLG5ldyBrZihuLHQuY2hpbGRyZW4pKSk7cmV0dXJuIHMuX3NvdXJjZVNlZ21lbnQ9dCxzLl9zZWdtZW50SW5kZXhTaGlmdD1lLmxlbmd0aCx7c2VnbWVudEdyb3VwOnMsc2xpY2VkU2VnbWVudHM6W119fWlmKDA9PT1uLmxlbmd0aCYmZnVuY3Rpb24odCxlLG4pe3JldHVybiBuLnNvbWUobj0+TGcodCxlLG4pKX0odCxuLHIpKXtjb25zdCBpPW5ldyBrZih0LnNlZ21lbnRzLGZ1bmN0aW9uKHQsZSxuLHIscyxpKXtjb25zdCBvPXt9O2Zvcihjb25zdCBhIG9mIHIpaWYoTGcodCxuLGEpJiYhc1tSZyhhKV0pe2NvbnN0IG49bmV3IGtmKFtdLHt9KTtuLl9zb3VyY2VTZWdtZW50PXQsbi5fc2VnbWVudEluZGV4U2hpZnQ9ImxlZ2FjeSI9PT1pP3Quc2VnbWVudHMubGVuZ3RoOmUubGVuZ3RoLG9bUmcoYSldPW59cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxzKSxvKX0odCxlLG4scix0LmNoaWxkcmVuLHMpKTtyZXR1cm4gaS5fc291cmNlU2VnbWVudD10LGkuX3NlZ21lbnRJbmRleFNoaWZ0PWUubGVuZ3RoLHtzZWdtZW50R3JvdXA6aSxzbGljZWRTZWdtZW50czpufX1jb25zdCBpPW5ldyBrZih0LnNlZ21lbnRzLHQuY2hpbGRyZW4pO3JldHVybiBpLl9zb3VyY2VTZWdtZW50PXQsaS5fc2VnbWVudEluZGV4U2hpZnQ9ZS5sZW5ndGgse3NlZ21lbnRHcm91cDppLHNsaWNlZFNlZ21lbnRzOm59fWZ1bmN0aW9uIExnKHQsZSxuKXtyZXR1cm4oISh0Lmhhc0NoaWxkcmVuKCl8fGUubGVuZ3RoPjApfHwiZnVsbCIhPT1uLnBhdGhNYXRjaCkmJiIiPT09bi5wYXRofWZ1bmN0aW9uIEJnKHQsZSxuLHIpe3JldHVybiEhKFJnKHQpPT09cnx8ciE9PWNmJiZMZyhlLG4sdCkpJiYoIioqIj09PXQucGF0aHx8TmcoZSx0LG4pLm1hdGNoZWQpfWZ1bmN0aW9uIFVnKHQsZSxuKXtyZXR1cm4gMD09PWUubGVuZ3RoJiYhdC5jaGlsZHJlbltuXX1jbGFzcyBIZ3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnNlZ21lbnRHcm91cD10fHxudWxsfX1jbGFzcyAkZ3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnVybFRyZWU9dH19ZnVuY3Rpb24gemcodCl7cmV0dXJuIG5ldyB2KGU9PmUuZXJyb3IobmV3IEhnKHQpKSl9ZnVuY3Rpb24gcWcodCl7cmV0dXJuIG5ldyB2KGU9PmUuZXJyb3IobmV3ICRnKHQpKSl9ZnVuY3Rpb24gV2codCl7cmV0dXJuIG5ldyB2KGU9PmUuZXJyb3IobmV3IEVycm9yKGBPbmx5IGFic29sdXRlIHJlZGlyZWN0cyBjYW4gaGF2ZSBuYW1lZCBvdXRsZXRzLiByZWRpcmVjdFRvOiAnJHt0fSdgKSkpfWNsYXNzIEdne2NvbnN0cnVjdG9yKHQsZSxuLHIscyl7dGhpcy5jb25maWdMb2FkZXI9ZSx0aGlzLnVybFNlcmlhbGl6ZXI9bix0aGlzLnVybFRyZWU9cix0aGlzLmNvbmZpZz1zLHRoaXMuYWxsb3dSZWRpcmVjdHM9ITAsdGhpcy5uZ01vZHVsZT10LmdldChZYSl9YXBwbHkoKXtjb25zdCB0PVZnKHRoaXMudXJsVHJlZS5yb290LFtdLFtdLHRoaXMuY29uZmlnKS5zZWdtZW50R3JvdXAsZT1uZXcga2YodC5zZWdtZW50cyx0LmNoaWxkcmVuKTtyZXR1cm4gdGhpcy5leHBhbmRTZWdtZW50R3JvdXAodGhpcy5uZ01vZHVsZSx0aGlzLmNvbmZpZyxlLGNmKS5waXBlKFModD0+dGhpcy5jcmVhdGVVcmxUcmVlKFpnKHQpLHRoaXMudXJsVHJlZS5xdWVyeVBhcmFtcyx0aGlzLnVybFRyZWUuZnJhZ21lbnQpKSkucGlwZShBcCh0PT57aWYodCBpbnN0YW5jZW9mICRnKXJldHVybiB0aGlzLmFsbG93UmVkaXJlY3RzPSExLHRoaXMubWF0Y2godC51cmxUcmVlKTtpZih0IGluc3RhbmNlb2YgSGcpdGhyb3cgdGhpcy5ub01hdGNoRXJyb3IodCk7dGhyb3cgdH0pKX1tYXRjaCh0KXtyZXR1cm4gdGhpcy5leHBhbmRTZWdtZW50R3JvdXAodGhpcy5uZ01vZHVsZSx0aGlzLmNvbmZpZyx0LnJvb3QsY2YpLnBpcGUoUyhlPT50aGlzLmNyZWF0ZVVybFRyZWUoWmcoZSksdC5xdWVyeVBhcmFtcyx0LmZyYWdtZW50KSkpLnBpcGUoQXAodD0+e2lmKHQgaW5zdGFuY2VvZiBIZyl0aHJvdyB0aGlzLm5vTWF0Y2hFcnJvcih0KTt0aHJvdyB0fSkpfW5vTWF0Y2hFcnJvcih0KXtyZXR1cm4gbmV3IEVycm9yKGBDYW5ub3QgbWF0Y2ggYW55IHJvdXRlcy4gVVJMIFNlZ21lbnQ6ICcke3Quc2VnbWVudEdyb3VwfSdgKX1jcmVhdGVVcmxUcmVlKHQsZSxuKXtjb25zdCByPXQuc2VnbWVudHMubGVuZ3RoPjA/bmV3IGtmKFtdLHtbY2ZdOnR9KTp0O3JldHVybiBuZXcgeGYocixlLG4pfWV4cGFuZFNlZ21lbnRHcm91cCh0LGUsbixyKXtyZXR1cm4gMD09PW4uc2VnbWVudHMubGVuZ3RoJiZuLmhhc0NoaWxkcmVuKCk/dGhpcy5leHBhbmRDaGlsZHJlbih0LGUsbikucGlwZShTKHQ9Pm5ldyBrZihbXSx0KSkpOnRoaXMuZXhwYW5kU2VnbWVudCh0LG4sZSxuLnNlZ21lbnRzLHIsITApfWV4cGFuZENoaWxkcmVuKHQsZSxuKXtjb25zdCByPVtdO2Zvcihjb25zdCBzIG9mIE9iamVjdC5rZXlzKG4uY2hpbGRyZW4pKSJwcmltYXJ5Ij09PXM/ci51bnNoaWZ0KHMpOnIucHVzaChzKTtyZXR1cm4gaihyKS5waXBlKGtwKHI9Pntjb25zdCBzPW4uY2hpbGRyZW5bcl0saT1NZyhlLHIpO3JldHVybiB0aGlzLmV4cGFuZFNlZ21lbnRHcm91cCh0LGkscyxyKS5waXBlKFModD0+KHtzZWdtZW50OnQsb3V0bGV0OnJ9KSkpfSksYnAoKHQsZSk9Pih0W2Uub3V0bGV0XT1lLnNlZ21lbnQsdCkse30pLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1hcmd1bWVudHMubGVuZ3RoPj0yO3JldHVybiByPT5yLnBpcGUodD9DcCgoZSxuKT0+dChlLG4scikpOnksVHAoMSksbj9qcChlKTpQcCgoKT0+bmV3IGRwKSl9KCkpfWV4cGFuZFNlZ21lbnQodCxlLG4scixzLGkpe3JldHVybiBqKG4pLnBpcGUoa3Aobz0+dGhpcy5leHBhbmRTZWdtZW50QWdhaW5zdFJvdXRlKHQsZSxuLG8scixzLGkpLnBpcGUoQXAodD0+e2lmKHQgaW5zdGFuY2VvZiBIZylyZXR1cm4gR2gobnVsbCk7dGhyb3cgdH0pKSksTHAodD0+ISF0KSxBcCgodCxuKT0+e2lmKHQgaW5zdGFuY2VvZiBkcHx8IkVtcHR5RXJyb3IiPT09dC5uYW1lKXtpZihVZyhlLHIscykpcmV0dXJuIEdoKG5ldyBrZihbXSx7fSkpO3Rocm93IG5ldyBIZyhlKX10aHJvdyB0fSkpfWV4cGFuZFNlZ21lbnRBZ2FpbnN0Um91dGUodCxlLG4scixzLGksbyl7cmV0dXJuIEJnKHIsZSxzLGkpP3ZvaWQgMD09PXIucmVkaXJlY3RUbz90aGlzLm1hdGNoU2VnbWVudEFnYWluc3RSb3V0ZSh0LGUscixzLGkpOm8mJnRoaXMuYWxsb3dSZWRpcmVjdHM/dGhpcy5leHBhbmRTZWdtZW50QWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdCh0LGUsbixyLHMsaSk6emcoZSk6emcoZSl9ZXhwYW5kU2VnbWVudEFnYWluc3RSb3V0ZVVzaW5nUmVkaXJlY3QodCxlLG4scixzLGkpe3JldHVybiIqKiI9PT1yLnBhdGg/dGhpcy5leHBhbmRXaWxkQ2FyZFdpdGhQYXJhbXNBZ2FpbnN0Um91dGVVc2luZ1JlZGlyZWN0KHQsbixyLGkpOnRoaXMuZXhwYW5kUmVndWxhclNlZ21lbnRBZ2FpbnN0Um91dGVVc2luZ1JlZGlyZWN0KHQsZSxuLHIscyxpKX1leHBhbmRXaWxkQ2FyZFdpdGhQYXJhbXNBZ2FpbnN0Um91dGVVc2luZ1JlZGlyZWN0KHQsZSxuLHIpe2NvbnN0IHM9dGhpcy5hcHBseVJlZGlyZWN0Q29tbWFuZHMoW10sbi5yZWRpcmVjdFRvLHt9KTtyZXR1cm4gbi5yZWRpcmVjdFRvLnN0YXJ0c1dpdGgoIi8iKT9xZyhzKTp0aGlzLmxpbmVyYWxpemVTZWdtZW50cyhuLHMpLnBpcGUoQihuPT57Y29uc3Qgcz1uZXcga2Yobix7fSk7cmV0dXJuIHRoaXMuZXhwYW5kU2VnbWVudCh0LHMsZSxuLHIsITEpfSkpfWV4cGFuZFJlZ3VsYXJTZWdtZW50QWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdCh0LGUsbixyLHMsaSl7Y29uc3R7bWF0Y2hlZDpvLGNvbnN1bWVkU2VnbWVudHM6YSxsYXN0Q2hpbGQ6bCxwb3NpdGlvbmFsUGFyYW1TZWdtZW50czp1fT1OZyhlLHIscyk7aWYoIW8pcmV0dXJuIHpnKGUpO2NvbnN0IGM9dGhpcy5hcHBseVJlZGlyZWN0Q29tbWFuZHMoYSxyLnJlZGlyZWN0VG8sdSk7cmV0dXJuIHIucmVkaXJlY3RUby5zdGFydHNXaXRoKCIvIik/cWcoYyk6dGhpcy5saW5lcmFsaXplU2VnbWVudHMocixjKS5waXBlKEIocj0+dGhpcy5leHBhbmRTZWdtZW50KHQsZSxuLHIuY29uY2F0KHMuc2xpY2UobCkpLGksITEpKSl9bWF0Y2hTZWdtZW50QWdhaW5zdFJvdXRlKHQsZSxuLHIscyl7aWYoIioqIj09PW4ucGF0aClyZXR1cm4gbi5sb2FkQ2hpbGRyZW4/KG4uX2xvYWRlZENvbmZpZz9HaChuLl9sb2FkZWRDb25maWcpOnRoaXMuY29uZmlnTG9hZGVyLmxvYWQodC5pbmplY3RvcixuKSkucGlwZShTKHQ9PihuLl9sb2FkZWRDb25maWc9dCxuZXcga2Yocix7fSkpKSk6R2gobmV3IGtmKHIse30pKTtjb25zdHttYXRjaGVkOmksY29uc3VtZWRTZWdtZW50czpvLGxhc3RDaGlsZDphfT1OZyhlLG4scik7aWYoIWkpcmV0dXJuIHpnKGUpO2NvbnN0IGw9ci5zbGljZShhKTtyZXR1cm4gdGhpcy5nZXRDaGlsZENvbmZpZyh0LG4scikucGlwZShCKHQ9Pntjb25zdCByPXQubW9kdWxlLGk9dC5yb3V0ZXMse3NlZ21lbnRHcm91cDphLHNsaWNlZFNlZ21lbnRzOnV9PVZnKGUsbyxsLGkpLGM9bmV3IGtmKGEuc2VnbWVudHMsYS5jaGlsZHJlbik7aWYoMD09PXUubGVuZ3RoJiZjLmhhc0NoaWxkcmVuKCkpcmV0dXJuIHRoaXMuZXhwYW5kQ2hpbGRyZW4ocixpLGMpLnBpcGUoUyh0PT5uZXcga2Yobyx0KSkpO2lmKDA9PT1pLmxlbmd0aCYmMD09PXUubGVuZ3RoKXJldHVybiBHaChuZXcga2Yobyx7fSkpO2NvbnN0IGg9Umcobik9PT1zO3JldHVybiB0aGlzLmV4cGFuZFNlZ21lbnQocixjLGksdSxoP2NmOnMsITApLnBpcGUoUyh0PT5uZXcga2Yoby5jb25jYXQodC5zZWdtZW50cyksdC5jaGlsZHJlbikpKX0pKX1nZXRDaGlsZENvbmZpZyh0LGUsbil7cmV0dXJuIGUuY2hpbGRyZW4/R2gobmV3IEVnKGUuY2hpbGRyZW4sdCkpOmUubG9hZENoaWxkcmVuP3ZvaWQgMCE9PWUuX2xvYWRlZENvbmZpZz9HaChlLl9sb2FkZWRDb25maWcpOnRoaXMucnVuQ2FuTG9hZEd1YXJkcyh0LmluamVjdG9yLGUsbikucGlwZShCKG49Pm4/dGhpcy5jb25maWdMb2FkZXIubG9hZCh0LmluamVjdG9yLGUpLnBpcGUoUyh0PT4oZS5fbG9hZGVkQ29uZmlnPXQsdCkpKTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHYoZT0+ZS5lcnJvcihwZihgQ2Fubm90IGxvYWQgY2hpbGRyZW4gYmVjYXVzZSB0aGUgZ3VhcmQgb2YgdGhlIHJvdXRlICJwYXRoOiAnJHt0LnBhdGh9JyIgcmV0dXJuZWQgZmFsc2VgKSkpfShlKSkpOkdoKG5ldyBFZyhbXSx0KSl9cnVuQ2FuTG9hZEd1YXJkcyh0LGUsbil7Y29uc3Qgcj1lLmNhbkxvYWQ7cmV0dXJuIHImJjAhPT1yLmxlbmd0aD9HaChyLm1hcChyPT57Y29uc3Qgcz10LmdldChyKTtsZXQgaTtpZihmdW5jdGlvbih0KXtyZXR1cm4gdCYmQWcodC5jYW5Mb2FkKX0ocykpaT1zLmNhbkxvYWQoZSxuKTtlbHNle2lmKCFBZyhzKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgQ2FuTG9hZCBndWFyZCIpO2k9cyhlLG4pfXJldHVybiB3ZihpKX0pKS5waXBlKGtnKCksVXAodD0+e2lmKCFTZyh0KSlyZXR1cm47Y29uc3QgZT1wZihgUmVkaXJlY3RpbmcgdG8gIiR7dGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh0KX0iYCk7dGhyb3cgZS51cmw9dCxlfSksUyh0PT4hMD09PXQpKTpHaCghMCl9bGluZXJhbGl6ZVNlZ21lbnRzKHQsZSl7bGV0IG49W10scj1lLnJvb3Q7Zm9yKDs7KXtpZihuPW4uY29uY2F0KHIuc2VnbWVudHMpLDA9PT1yLm51bWJlck9mQ2hpbGRyZW4pcmV0dXJuIEdoKG4pO2lmKHIubnVtYmVyT2ZDaGlsZHJlbj4xfHwhci5jaGlsZHJlbi5wcmltYXJ5KXJldHVybiBXZyh0LnJlZGlyZWN0VG8pO3I9ci5jaGlsZHJlbi5wcmltYXJ5fX1hcHBseVJlZGlyZWN0Q29tbWFuZHModCxlLG4pe3JldHVybiB0aGlzLmFwcGx5UmVkaXJlY3RDcmVhdHJlVXJsVHJlZShlLHRoaXMudXJsU2VyaWFsaXplci5wYXJzZShlKSx0LG4pfWFwcGx5UmVkaXJlY3RDcmVhdHJlVXJsVHJlZSh0LGUsbixyKXtjb25zdCBzPXRoaXMuY3JlYXRlU2VnbWVudEdyb3VwKHQsZS5yb290LG4scik7cmV0dXJuIG5ldyB4ZihzLHRoaXMuY3JlYXRlUXVlcnlQYXJhbXMoZS5xdWVyeVBhcmFtcyx0aGlzLnVybFRyZWUucXVlcnlQYXJhbXMpLGUuZnJhZ21lbnQpfWNyZWF0ZVF1ZXJ5UGFyYW1zKHQsZSl7Y29uc3Qgbj17fTtyZXR1cm4gYmYodCwodCxyKT0+e2lmKCJzdHJpbmciPT10eXBlb2YgdCYmdC5zdGFydHNXaXRoKCI6Iikpe2NvbnN0IHM9dC5zdWJzdHJpbmcoMSk7bltyXT1lW3NdfWVsc2UgbltyXT10fSksbn1jcmVhdGVTZWdtZW50R3JvdXAodCxlLG4scil7Y29uc3Qgcz10aGlzLmNyZWF0ZVNlZ21lbnRzKHQsZS5zZWdtZW50cyxuLHIpO2xldCBpPXt9O3JldHVybiBiZihlLmNoaWxkcmVuLChlLHMpPT57aVtzXT10aGlzLmNyZWF0ZVNlZ21lbnRHcm91cCh0LGUsbixyKX0pLG5ldyBrZihzLGkpfWNyZWF0ZVNlZ21lbnRzKHQsZSxuLHIpe3JldHVybiBlLm1hcChlPT5lLnBhdGguc3RhcnRzV2l0aCgiOiIpP3RoaXMuZmluZFBvc1BhcmFtKHQsZSxyKTp0aGlzLmZpbmRPclJldHVybihlLG4pKX1maW5kUG9zUGFyYW0odCxlLG4pe2NvbnN0IHI9bltlLnBhdGguc3Vic3RyaW5nKDEpXTtpZighcil0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZWRpcmVjdCB0byAnJHt0fScuIENhbm5vdCBmaW5kICcke2UucGF0aH0nLmApO3JldHVybiByfWZpbmRPclJldHVybih0LGUpe2xldCBuPTA7Zm9yKGNvbnN0IHIgb2YgZSl7aWYoci5wYXRoPT09dC5wYXRoKXJldHVybiBlLnNwbGljZShuKSxyO24rK31yZXR1cm4gdH19ZnVuY3Rpb24gWmcodCl7Y29uc3QgZT17fTtmb3IoY29uc3QgbiBvZiBPYmplY3Qua2V5cyh0LmNoaWxkcmVuKSl7Y29uc3Qgcj1aZyh0LmNoaWxkcmVuW25dKTsoci5zZWdtZW50cy5sZW5ndGg+MHx8ci5oYXNDaGlsZHJlbigpKSYmKGVbbl09cil9cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKDE9PT10Lm51bWJlck9mQ2hpbGRyZW4mJnQuY2hpbGRyZW4ucHJpbWFyeSl7Y29uc3QgZT10LmNoaWxkcmVuLnByaW1hcnk7cmV0dXJuIG5ldyBrZih0LnNlZ21lbnRzLmNvbmNhdChlLnNlZ21lbnRzKSxlLmNoaWxkcmVuKX1yZXR1cm4gdH0obmV3IGtmKHQuc2VnbWVudHMsZSkpfWNsYXNzIEtne2NvbnN0cnVjdG9yKHQpe3RoaXMucGF0aD10LHRoaXMucm91dGU9dGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGgtMV19fWNsYXNzIFlne2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5jb21wb25lbnQ9dCx0aGlzLnJvdXRlPWV9fWZ1bmN0aW9uIFFnKHQsZSxuKXtjb25zdCByPXQuX3Jvb3Q7cmV0dXJuIEpnKHIsZT9lLl9yb290Om51bGwsbixbci52YWx1ZV0pfWZ1bmN0aW9uIFhnKHQsZSxuKXtjb25zdCByPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiBudWxsO2ZvcihsZXQgZT10LnBhcmVudDtlO2U9ZS5wYXJlbnQpe2NvbnN0IHQ9ZS5yb3V0ZUNvbmZpZztpZih0JiZ0Ll9sb2FkZWRDb25maWcpcmV0dXJuIHQuX2xvYWRlZENvbmZpZ31yZXR1cm4gbnVsbH0oZSk7cmV0dXJuKHI/ci5tb2R1bGUuaW5qZWN0b3I6bikuZ2V0KHQpfWZ1bmN0aW9uIEpnKHQsZSxuLHIscz17Y2FuRGVhY3RpdmF0ZUNoZWNrczpbXSxjYW5BY3RpdmF0ZUNoZWNrczpbXX0pe2NvbnN0IGk9UWYoZSk7cmV0dXJuIHQuY2hpbGRyZW4uZm9yRWFjaCh0PT57IWZ1bmN0aW9uKHQsZSxuLHIscz17Y2FuRGVhY3RpdmF0ZUNoZWNrczpbXSxjYW5BY3RpdmF0ZUNoZWNrczpbXX0pe2NvbnN0IGk9dC52YWx1ZSxvPWU/ZS52YWx1ZTpudWxsLGE9bj9uLmdldENvbnRleHQodC52YWx1ZS5vdXRsZXQpOm51bGw7aWYobyYmaS5yb3V0ZUNvbmZpZz09PW8ucm91dGVDb25maWcpe2NvbnN0IGw9ZnVuY3Rpb24odCxlLG4pe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuKXJldHVybiBuKHQsZSk7c3dpdGNoKG4pe2Nhc2UicGF0aFBhcmFtc0NoYW5nZSI6cmV0dXJuIUZmKHQudXJsLGUudXJsKTtjYXNlInBhdGhQYXJhbXNPclF1ZXJ5UGFyYW1zQ2hhbmdlIjpyZXR1cm4hRmYodC51cmwsZS51cmwpfHwhZ2YodC5xdWVyeVBhcmFtcyxlLnF1ZXJ5UGFyYW1zKTtjYXNlImFsd2F5cyI6cmV0dXJuITA7Y2FzZSJwYXJhbXNPclF1ZXJ5UGFyYW1zQ2hhbmdlIjpyZXR1cm4hYWcodCxlKXx8IWdmKHQucXVlcnlQYXJhbXMsZS5xdWVyeVBhcmFtcyk7Y2FzZSJwYXJhbXNDaGFuZ2UiOmRlZmF1bHQ6cmV0dXJuIWFnKHQsZSl9fShvLGksaS5yb3V0ZUNvbmZpZy5ydW5HdWFyZHNBbmRSZXNvbHZlcnMpO2w/cy5jYW5BY3RpdmF0ZUNoZWNrcy5wdXNoKG5ldyBLZyhyKSk6KGkuZGF0YT1vLmRhdGEsaS5fcmVzb2x2ZWREYXRhPW8uX3Jlc29sdmVkRGF0YSksSmcodCxlLGkuY29tcG9uZW50P2E/YS5jaGlsZHJlbjpudWxsOm4scixzKSxsJiZhJiZhLm91dGxldCYmYS5vdXRsZXQuaXNBY3RpdmF0ZWQmJnMuY2FuRGVhY3RpdmF0ZUNoZWNrcy5wdXNoKG5ldyBZZyhhLm91dGxldC5jb21wb25lbnQsbykpfWVsc2UgbyYmdG0oZSxhLHMpLHMuY2FuQWN0aXZhdGVDaGVja3MucHVzaChuZXcgS2cocikpLEpnKHQsbnVsbCxpLmNvbXBvbmVudD9hP2EuY2hpbGRyZW46bnVsbDpuLHIscyl9KHQsaVt0LnZhbHVlLm91dGxldF0sbixyLmNvbmNhdChbdC52YWx1ZV0pLHMpLGRlbGV0ZSBpW3QudmFsdWUub3V0bGV0XX0pLGJmKGksKHQsZSk9PnRtKHQsbi5nZXRDb250ZXh0KGUpLHMpKSxzfWZ1bmN0aW9uIHRtKHQsZSxuKXtjb25zdCByPVFmKHQpLHM9dC52YWx1ZTtiZihyLCh0LHIpPT57dG0odCxzLmNvbXBvbmVudD9lP2UuY2hpbGRyZW4uZ2V0Q29udGV4dChyKTpudWxsOmUsbil9KSxuLmNhbkRlYWN0aXZhdGVDaGVja3MucHVzaChuZXcgWWcocy5jb21wb25lbnQmJmUmJmUub3V0bGV0JiZlLm91dGxldC5pc0FjdGl2YXRlZD9lLm91dGxldC5jb21wb25lbnQ6bnVsbCxzKSl9Y2xhc3MgZW17fWZ1bmN0aW9uIG5tKHQpe3JldHVybiBuZXcgdihlPT5lLmVycm9yKHQpKX1jbGFzcyBybXtjb25zdHJ1Y3Rvcih0LGUsbixyLHMsaSl7dGhpcy5yb290Q29tcG9uZW50VHlwZT10LHRoaXMuY29uZmlnPWUsdGhpcy51cmxUcmVlPW4sdGhpcy51cmw9cix0aGlzLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3k9cyx0aGlzLnJlbGF0aXZlTGlua1Jlc29sdXRpb249aX1yZWNvZ25pemUoKXtjb25zdCB0PVZnKHRoaXMudXJsVHJlZS5yb290LFtdLFtdLHRoaXMuY29uZmlnLmZpbHRlcih0PT52b2lkIDA9PT10LnJlZGlyZWN0VG8pLHRoaXMucmVsYXRpdmVMaW5rUmVzb2x1dGlvbikuc2VnbWVudEdyb3VwLGU9dGhpcy5wcm9jZXNzU2VnbWVudEdyb3VwKHRoaXMuY29uZmlnLHQsY2YpO2lmKG51bGw9PT1lKXJldHVybiBudWxsO2NvbnN0IG49bmV3IG5nKFtdLE9iamVjdC5mcmVlemUoe30pLE9iamVjdC5mcmVlemUoT2JqZWN0LmFzc2lnbih7fSx0aGlzLnVybFRyZWUucXVlcnlQYXJhbXMpKSx0aGlzLnVybFRyZWUuZnJhZ21lbnQse30sY2YsdGhpcy5yb290Q29tcG9uZW50VHlwZSxudWxsLHRoaXMudXJsVHJlZS5yb290LC0xLHt9KSxyPW5ldyBZZihuLGUpLHM9bmV3IHJnKHRoaXMudXJsLHIpO3JldHVybiB0aGlzLmluaGVyaXRQYXJhbXNBbmREYXRhKHMuX3Jvb3QpLHN9aW5oZXJpdFBhcmFtc0FuZERhdGEodCl7Y29uc3QgZT10LnZhbHVlLG49ZWcoZSx0aGlzLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3kpO2UucGFyYW1zPU9iamVjdC5mcmVlemUobi5wYXJhbXMpLGUuZGF0YT1PYmplY3QuZnJlZXplKG4uZGF0YSksdC5jaGlsZHJlbi5mb3JFYWNoKHQ9PnRoaXMuaW5oZXJpdFBhcmFtc0FuZERhdGEodCkpfXByb2Nlc3NTZWdtZW50R3JvdXAodCxlLG4pe3JldHVybiAwPT09ZS5zZWdtZW50cy5sZW5ndGgmJmUuaGFzQ2hpbGRyZW4oKT90aGlzLnByb2Nlc3NDaGlsZHJlbih0LGUpOnRoaXMucHJvY2Vzc1NlZ21lbnQodCxlLGUuc2VnbWVudHMsbil9cHJvY2Vzc0NoaWxkcmVuKHQsZSl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgcyBvZiBPYmplY3Qua2V5cyhlLmNoaWxkcmVuKSl7Y29uc3Qgcj1lLmNoaWxkcmVuW3NdLGk9TWcodCxzKSxvPXRoaXMucHJvY2Vzc1NlZ21lbnRHcm91cChpLHIscyk7aWYobnVsbD09PW8pcmV0dXJuIG51bGw7bi5wdXNoKC4uLm8pfWNvbnN0IHI9aW0obik7cmV0dXJuIHIuc29ydCgodCxlKT0+dC52YWx1ZS5vdXRsZXQ9PT1jZj8tMTplLnZhbHVlLm91dGxldD09PWNmPzE6dC52YWx1ZS5vdXRsZXQubG9jYWxlQ29tcGFyZShlLnZhbHVlLm91dGxldCkpLHJ9cHJvY2Vzc1NlZ21lbnQodCxlLG4scil7Zm9yKGNvbnN0IHMgb2YgdCl7Y29uc3QgdD10aGlzLnByb2Nlc3NTZWdtZW50QWdhaW5zdFJvdXRlKHMsZSxuLHIpO2lmKG51bGwhPT10KXJldHVybiB0fXJldHVybiBVZyhlLG4scik/W106bnVsbH1wcm9jZXNzU2VnbWVudEFnYWluc3RSb3V0ZSh0LGUsbixyKXtpZih0LnJlZGlyZWN0VG98fCFCZyh0LGUsbixyKSlyZXR1cm4gbnVsbDtsZXQgcyxpPVtdLG89W107aWYoIioqIj09PXQucGF0aCl7Y29uc3Qgcj1uLmxlbmd0aD4wP3ZmKG4pLnBhcmFtZXRlcnM6e307cz1uZXcgbmcobixyLE9iamVjdC5mcmVlemUoT2JqZWN0LmFzc2lnbih7fSx0aGlzLnVybFRyZWUucXVlcnlQYXJhbXMpKSx0aGlzLnVybFRyZWUuZnJhZ21lbnQsbG0odCksUmcodCksdC5jb21wb25lbnQsdCxvbShlKSxhbShlKStuLmxlbmd0aCx1bSh0KSl9ZWxzZXtjb25zdCByPU5nKGUsdCxuKTtpZighci5tYXRjaGVkKXJldHVybiBudWxsO2k9ci5jb25zdW1lZFNlZ21lbnRzLG89bi5zbGljZShyLmxhc3RDaGlsZCkscz1uZXcgbmcoaSxyLnBhcmFtZXRlcnMsT2JqZWN0LmZyZWV6ZShPYmplY3QuYXNzaWduKHt9LHRoaXMudXJsVHJlZS5xdWVyeVBhcmFtcykpLHRoaXMudXJsVHJlZS5mcmFnbWVudCxsbSh0KSxSZyh0KSx0LmNvbXBvbmVudCx0LG9tKGUpLGFtKGUpK2kubGVuZ3RoLHVtKHQpKX1jb25zdCBhPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNoaWxkcmVuP3QuY2hpbGRyZW46dC5sb2FkQ2hpbGRyZW4/dC5fbG9hZGVkQ29uZmlnLnJvdXRlczpbXX0odCkse3NlZ21lbnRHcm91cDpsLHNsaWNlZFNlZ21lbnRzOnV9PVZnKGUsaSxvLGEuZmlsdGVyKHQ9PnZvaWQgMD09PXQucmVkaXJlY3RUbyksdGhpcy5yZWxhdGl2ZUxpbmtSZXNvbHV0aW9uKTtpZigwPT09dS5sZW5ndGgmJmwuaGFzQ2hpbGRyZW4oKSl7Y29uc3QgdD10aGlzLnByb2Nlc3NDaGlsZHJlbihhLGwpO3JldHVybiBudWxsPT09dD9udWxsOltuZXcgWWYocyx0KV19aWYoMD09PWEubGVuZ3RoJiYwPT09dS5sZW5ndGgpcmV0dXJuW25ldyBZZihzLFtdKV07Y29uc3QgYz1SZyh0KT09PXIsaD10aGlzLnByb2Nlc3NTZWdtZW50KGEsbCx1LGM/Y2Y6cik7cmV0dXJuIG51bGw9PT1oP251bGw6W25ldyBZZihzLGgpXX19ZnVuY3Rpb24gc20odCl7Y29uc3QgZT10LnZhbHVlLnJvdXRlQ29uZmlnO3JldHVybiBlJiYiIj09PWUucGF0aCYmdm9pZCAwPT09ZS5yZWRpcmVjdFRvfWZ1bmN0aW9uIGltKHQpe2NvbnN0IGU9W10sbj1uZXcgU2V0O2Zvcihjb25zdCByIG9mIHQpe2lmKCFzbShyKSl7ZS5wdXNoKHIpO2NvbnRpbnVlfWNvbnN0IHQ9ZS5maW5kKHQ9PnIudmFsdWUucm91dGVDb25maWc9PT10LnZhbHVlLnJvdXRlQ29uZmlnKTt2b2lkIDAhPT10Pyh0LmNoaWxkcmVuLnB1c2goLi4uci5jaGlsZHJlbiksbi5hZGQodCkpOmUucHVzaChyKX1mb3IoY29uc3QgciBvZiBuKXtjb25zdCB0PWltKHIuY2hpbGRyZW4pO2UucHVzaChuZXcgWWYoci52YWx1ZSx0KSl9cmV0dXJuIGUuZmlsdGVyKHQ9PiFuLmhhcyh0KSl9ZnVuY3Rpb24gb20odCl7bGV0IGU9dDtmb3IoO2UuX3NvdXJjZVNlZ21lbnQ7KWU9ZS5fc291cmNlU2VnbWVudDtyZXR1cm4gZX1mdW5jdGlvbiBhbSh0KXtsZXQgZT10LG49ZS5fc2VnbWVudEluZGV4U2hpZnQ/ZS5fc2VnbWVudEluZGV4U2hpZnQ6MDtmb3IoO2UuX3NvdXJjZVNlZ21lbnQ7KWU9ZS5fc291cmNlU2VnbWVudCxuKz1lLl9zZWdtZW50SW5kZXhTaGlmdD9lLl9zZWdtZW50SW5kZXhTaGlmdDowO3JldHVybiBuLTF9ZnVuY3Rpb24gbG0odCl7cmV0dXJuIHQuZGF0YXx8e319ZnVuY3Rpb24gdW0odCl7cmV0dXJuIHQucmVzb2x2ZXx8e319ZnVuY3Rpb24gY20odCl7cmV0dXJuIGVkKGU9Pntjb25zdCBuPXQoZSk7cmV0dXJuIG4/aihuKS5waXBlKFMoKCk9PmUpKTpHaChlKX0pfWNsYXNzIGhtIGV4dGVuZHMgY2xhc3N7c2hvdWxkRGV0YWNoKHQpe3JldHVybiExfXN0b3JlKHQsZSl7fXNob3VsZEF0dGFjaCh0KXtyZXR1cm4hMX1yZXRyaWV2ZSh0KXtyZXR1cm4gbnVsbH1zaG91bGRSZXVzZVJvdXRlKHQsZSl7cmV0dXJuIHQucm91dGVDb25maWc9PT1lLnJvdXRlQ29uZmlnfX17fWNvbnN0IGRtPW5ldyBIbigiUk9VVEVTIik7Y2xhc3MgcG17Y29uc3RydWN0b3IodCxlLG4scil7dGhpcy5sb2FkZXI9dCx0aGlzLmNvbXBpbGVyPWUsdGhpcy5vbkxvYWRTdGFydExpc3RlbmVyPW4sdGhpcy5vbkxvYWRFbmRMaXN0ZW5lcj1yfWxvYWQodCxlKXtpZihlLl9sb2FkZXIkKXJldHVybiBlLl9sb2FkZXIkO3RoaXMub25Mb2FkU3RhcnRMaXN0ZW5lciYmdGhpcy5vbkxvYWRTdGFydExpc3RlbmVyKGUpO2NvbnN0IG49dGhpcy5sb2FkTW9kdWxlRmFjdG9yeShlLmxvYWRDaGlsZHJlbikucGlwZShTKG49Pnt0aGlzLm9uTG9hZEVuZExpc3RlbmVyJiZ0aGlzLm9uTG9hZEVuZExpc3RlbmVyKGUpO2NvbnN0IHI9bi5jcmVhdGUodCk7cmV0dXJuIG5ldyBFZyh5ZihyLmluamVjdG9yLmdldChkbSx2b2lkIDAsd3QuU2VsZnx3dC5PcHRpb25hbCkpLm1hcChJZykscil9KSxBcCh0PT57dGhyb3cgZS5fbG9hZGVyJD12b2lkIDAsdH0pKTtyZXR1cm4gZS5fbG9hZGVyJD1uZXcgSyhuLCgpPT5uZXcgRCkucGlwZShXKCkpLGUuX2xvYWRlciR9bG9hZE1vZHVsZUZhY3RvcnkodCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P2oodGhpcy5sb2FkZXIubG9hZCh0KSk6d2YodCgpKS5waXBlKEIodD0+dCBpbnN0YW5jZW9mIFFhP0doKHQpOmoodGhpcy5jb21waWxlci5jb21waWxlTW9kdWxlQXN5bmModCkpKSl9fWNsYXNzIGZte2NvbnN0cnVjdG9yKCl7dGhpcy5vdXRsZXQ9bnVsbCx0aGlzLnJvdXRlPW51bGwsdGhpcy5yZXNvbHZlcj1udWxsLHRoaXMuY2hpbGRyZW49bmV3IGdtLHRoaXMuYXR0YWNoUmVmPW51bGx9fWNsYXNzIGdte2NvbnN0cnVjdG9yKCl7dGhpcy5jb250ZXh0cz1uZXcgTWFwfW9uQ2hpbGRPdXRsZXRDcmVhdGVkKHQsZSl7Y29uc3Qgbj10aGlzLmdldE9yQ3JlYXRlQ29udGV4dCh0KTtuLm91dGxldD1lLHRoaXMuY29udGV4dHMuc2V0KHQsbil9b25DaGlsZE91dGxldERlc3Ryb3llZCh0KXtjb25zdCBlPXRoaXMuZ2V0Q29udGV4dCh0KTtlJiYoZS5vdXRsZXQ9bnVsbCl9b25PdXRsZXREZWFjdGl2YXRlZCgpe2NvbnN0IHQ9dGhpcy5jb250ZXh0cztyZXR1cm4gdGhpcy5jb250ZXh0cz1uZXcgTWFwLHR9b25PdXRsZXRSZUF0dGFjaGVkKHQpe3RoaXMuY29udGV4dHM9dH1nZXRPckNyZWF0ZUNvbnRleHQodCl7bGV0IGU9dGhpcy5nZXRDb250ZXh0KHQpO3JldHVybiBlfHwoZT1uZXcgZm0sdGhpcy5jb250ZXh0cy5zZXQodCxlKSksZX1nZXRDb250ZXh0KHQpe3JldHVybiB0aGlzLmNvbnRleHRzLmdldCh0KXx8bnVsbH19Y2xhc3MgbW17c2hvdWxkUHJvY2Vzc1VybCh0KXtyZXR1cm4hMH1leHRyYWN0KHQpe3JldHVybiB0fW1lcmdlKHQsZSl7cmV0dXJuIHR9fWZ1bmN0aW9uIHltKHQpe3Rocm93IHR9ZnVuY3Rpb24gdm0odCxlLG4pe3JldHVybiBlLnBhcnNlKCIvIil9ZnVuY3Rpb24gYm0odCxlKXtyZXR1cm4gR2gobnVsbCl9Y29uc3Qgd209e3BhdGhzOiJleGFjdCIsZnJhZ21lbnQ6Imlnbm9yZWQiLG1hdHJpeFBhcmFtczoiaWdub3JlZCIscXVlcnlQYXJhbXM6ImV4YWN0In0sX209e3BhdGhzOiJzdWJzZXQiLGZyYWdtZW50OiJpZ25vcmVkIixtYXRyaXhQYXJhbXM6Imlnbm9yZWQiLHF1ZXJ5UGFyYW1zOiJzdWJzZXQifTtsZXQgQ209KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbixyLHMsaSxvLGEpe3RoaXMucm9vdENvbXBvbmVudFR5cGU9dCx0aGlzLnVybFNlcmlhbGl6ZXI9ZSx0aGlzLnJvb3RDb250ZXh0cz1uLHRoaXMubG9jYXRpb249cix0aGlzLmNvbmZpZz1hLHRoaXMubGFzdFN1Y2Nlc3NmdWxOYXZpZ2F0aW9uPW51bGwsdGhpcy5jdXJyZW50TmF2aWdhdGlvbj1udWxsLHRoaXMuZGlzcG9zZWQ9ITEsdGhpcy5sYXN0TG9jYXRpb25DaGFuZ2VJbmZvPW51bGwsdGhpcy5uYXZpZ2F0aW9uSWQ9MCx0aGlzLmlzTmdab25lRW5hYmxlZD0hMSx0aGlzLmV2ZW50cz1uZXcgRCx0aGlzLmVycm9ySGFuZGxlcj15bSx0aGlzLm1hbGZvcm1lZFVyaUVycm9ySGFuZGxlcj12bSx0aGlzLm5hdmlnYXRlZD0hMSx0aGlzLmxhc3RTdWNjZXNzZnVsSWQ9LTEsdGhpcy5ob29rcz17YmVmb3JlUHJlYWN0aXZhdGlvbjpibSxhZnRlclByZWFjdGl2YXRpb246Ym19LHRoaXMudXJsSGFuZGxpbmdTdHJhdGVneT1uZXcgbW0sdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3k9bmV3IGhtLHRoaXMub25TYW1lVXJsTmF2aWdhdGlvbj0iaWdub3JlIix0aGlzLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3k9ImVtcHR5T25seSIsdGhpcy51cmxVcGRhdGVTdHJhdGVneT0iZGVmZXJyZWQiLHRoaXMucmVsYXRpdmVMaW5rUmVzb2x1dGlvbj0iY29ycmVjdGVkIix0aGlzLm5nTW9kdWxlPXMuZ2V0KFlhKSx0aGlzLmNvbnNvbGU9cy5nZXQoSGwpO2NvbnN0IGw9cy5nZXQoZXUpO3RoaXMuaXNOZ1pvbmVFbmFibGVkPWwgaW5zdGFuY2VvZiBldSYmZXUuaXNJbkFuZ3VsYXJab25lKCksdGhpcy5yZXNldENvbmZpZyhhKSx0aGlzLmN1cnJlbnRVcmxUcmVlPW5ldyB4ZihuZXcga2YoW10se30pLHt9LG51bGwpLHRoaXMucmF3VXJsVHJlZT10aGlzLmN1cnJlbnRVcmxUcmVlLHRoaXMuYnJvd3NlclVybFRyZWU9dGhpcy5jdXJyZW50VXJsVHJlZSx0aGlzLmNvbmZpZ0xvYWRlcj1uZXcgcG0oaSxvLHQ9PnRoaXMudHJpZ2dlckV2ZW50KG5ldyBuZih0KSksdD0+dGhpcy50cmlnZ2VyRXZlbnQobmV3IHJmKHQpKSksdGhpcy5yb3V0ZXJTdGF0ZT1KZih0aGlzLmN1cnJlbnRVcmxUcmVlLHRoaXMucm9vdENvbXBvbmVudFR5cGUpLHRoaXMudHJhbnNpdGlvbnM9bmV3IGlwKHtpZDowLGN1cnJlbnRVcmxUcmVlOnRoaXMuY3VycmVudFVybFRyZWUsY3VycmVudFJhd1VybDp0aGlzLmN1cnJlbnRVcmxUcmVlLGV4dHJhY3RlZFVybDp0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuZXh0cmFjdCh0aGlzLmN1cnJlbnRVcmxUcmVlKSx1cmxBZnRlclJlZGlyZWN0czp0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuZXh0cmFjdCh0aGlzLmN1cnJlbnRVcmxUcmVlKSxyYXdVcmw6dGhpcy5jdXJyZW50VXJsVHJlZSxleHRyYXM6e30scmVzb2x2ZTpudWxsLHJlamVjdDpudWxsLHByb21pc2U6UHJvbWlzZS5yZXNvbHZlKCEwKSxzb3VyY2U6ImltcGVyYXRpdmUiLHJlc3RvcmVkU3RhdGU6bnVsbCxjdXJyZW50U25hcHNob3Q6dGhpcy5yb3V0ZXJTdGF0ZS5zbmFwc2hvdCx0YXJnZXRTbmFwc2hvdDpudWxsLGN1cnJlbnRSb3V0ZXJTdGF0ZTp0aGlzLnJvdXRlclN0YXRlLHRhcmdldFJvdXRlclN0YXRlOm51bGwsZ3VhcmRzOntjYW5BY3RpdmF0ZUNoZWNrczpbXSxjYW5EZWFjdGl2YXRlQ2hlY2tzOltdfSxndWFyZHNSZXN1bHQ6bnVsbH0pLHRoaXMubmF2aWdhdGlvbnM9dGhpcy5zZXR1cE5hdmlnYXRpb25zKHRoaXMudHJhbnNpdGlvbnMpLHRoaXMucHJvY2Vzc05hdmlnYXRpb25zKCl9c2V0dXBOYXZpZ2F0aW9ucyh0KXtjb25zdCBlPXRoaXMuZXZlbnRzO3JldHVybiB0LnBpcGUoQ3AodD0+MCE9PXQuaWQpLFModD0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHtleHRyYWN0ZWRVcmw6dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5LmV4dHJhY3QodC5yYXdVcmwpfSkpLGVkKHQ9PntsZXQgbj0hMSxyPSExO3JldHVybiBHaCh0KS5waXBlKFVwKHQ9Pnt0aGlzLmN1cnJlbnROYXZpZ2F0aW9uPXtpZDp0LmlkLGluaXRpYWxVcmw6dC5jdXJyZW50UmF3VXJsLGV4dHJhY3RlZFVybDp0LmV4dHJhY3RlZFVybCx0cmlnZ2VyOnQuc291cmNlLGV4dHJhczp0LmV4dHJhcyxwcmV2aW91c05hdmlnYXRpb246dGhpcy5sYXN0U3VjY2Vzc2Z1bE5hdmlnYXRpb24/T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMubGFzdFN1Y2Nlc3NmdWxOYXZpZ2F0aW9uKSx7cHJldmlvdXNOYXZpZ2F0aW9uOm51bGx9KTpudWxsfX0pLGVkKHQ9Pntjb25zdCBuPSF0aGlzLm5hdmlnYXRlZHx8dC5leHRyYWN0ZWRVcmwudG9TdHJpbmcoKSE9PXRoaXMuYnJvd3NlclVybFRyZWUudG9TdHJpbmcoKTtpZigoInJlbG9hZCI9PT10aGlzLm9uU2FtZVVybE5hdmlnYXRpb258fG4pJiZ0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuc2hvdWxkUHJvY2Vzc1VybCh0LnJhd1VybCkpcmV0dXJuIEdoKHQpLnBpcGUoZWQodD0+e2NvbnN0IG49dGhpcy50cmFuc2l0aW9ucy5nZXRWYWx1ZSgpO3JldHVybiBlLm5leHQobmV3IEdwKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLHQuc291cmNlLHQucmVzdG9yZWRTdGF0ZSkpLG4hPT10aGlzLnRyYW5zaXRpb25zLmdldFZhbHVlKCk/cWg6UHJvbWlzZS5yZXNvbHZlKHQpfSksZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGVkKHM9PmZ1bmN0aW9uKHQsZSxuLHIscyl7cmV0dXJuIG5ldyBHZyh0LGUsbixyLHMpLmFwcGx5KCl9KHQsZSxuLHMuZXh0cmFjdGVkVXJsLHIpLnBpcGUoUyh0PT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scykse3VybEFmdGVyUmVkaXJlY3RzOnR9KSkpKX0odGhpcy5uZ01vZHVsZS5pbmplY3Rvcix0aGlzLmNvbmZpZ0xvYWRlcix0aGlzLnVybFNlcmlhbGl6ZXIsdGhpcy5jb25maWcpLFVwKHQ9Pnt0aGlzLmN1cnJlbnROYXZpZ2F0aW9uPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLmN1cnJlbnROYXZpZ2F0aW9uKSx7ZmluYWxVcmw6dC51cmxBZnRlclJlZGlyZWN0c30pfSksZnVuY3Rpb24odCxlLG4scixzKXtyZXR1cm4gQihpPT5mdW5jdGlvbih0LGUsbixyLHM9ImVtcHR5T25seSIsaT0ibGVnYWN5Iil7dHJ5e2NvbnN0IG89bmV3IHJtKHQsZSxuLHIscyxpKS5yZWNvZ25pemUoKTtyZXR1cm4gbnVsbD09PW8/bm0obmV3IGVtKTpHaChvKX1jYXRjaChvKXtyZXR1cm4gbm0obyl9fSh0LGUsaS51cmxBZnRlclJlZGlyZWN0cyxuKGkudXJsQWZ0ZXJSZWRpcmVjdHMpLHIscykucGlwZShTKHQ9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxpKSx7dGFyZ2V0U25hcHNob3Q6dH0pKSkpfSh0aGlzLnJvb3RDb21wb25lbnRUeXBlLHRoaXMuY29uZmlnLHQ9PnRoaXMuc2VyaWFsaXplVXJsKHQpLHRoaXMucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneSx0aGlzLnJlbGF0aXZlTGlua1Jlc29sdXRpb24pLFVwKHQ9PnsiZWFnZXIiPT09dGhpcy51cmxVcGRhdGVTdHJhdGVneSYmKHQuZXh0cmFzLnNraXBMb2NhdGlvbkNoYW5nZXx8dGhpcy5zZXRCcm93c2VyVXJsKHQudXJsQWZ0ZXJSZWRpcmVjdHMsISF0LmV4dHJhcy5yZXBsYWNlVXJsLHQuaWQsdC5leHRyYXMuc3RhdGUpLHRoaXMuYnJvd3NlclVybFRyZWU9dC51cmxBZnRlclJlZGlyZWN0cyk7Y29uc3Qgbj1uZXcgUXAodC5pZCx0aGlzLnNlcmlhbGl6ZVVybCh0LmV4dHJhY3RlZFVybCksdGhpcy5zZXJpYWxpemVVcmwodC51cmxBZnRlclJlZGlyZWN0cyksdC50YXJnZXRTbmFwc2hvdCk7ZS5uZXh0KG4pfSkpO2lmKG4mJnRoaXMucmF3VXJsVHJlZSYmdGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5LnNob3VsZFByb2Nlc3NVcmwodGhpcy5yYXdVcmxUcmVlKSl7Y29uc3R7aWQ6bixleHRyYWN0ZWRVcmw6cixzb3VyY2U6cyxyZXN0b3JlZFN0YXRlOmksZXh0cmFzOm99PXQsYT1uZXcgR3Aobix0aGlzLnNlcmlhbGl6ZVVybChyKSxzLGkpO2UubmV4dChhKTtjb25zdCBsPUpmKHIsdGhpcy5yb290Q29tcG9uZW50VHlwZSkuc25hcHNob3Q7cmV0dXJuIEdoKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7dGFyZ2V0U25hcHNob3Q6bCx1cmxBZnRlclJlZGlyZWN0czpyLGV4dHJhczpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbykse3NraXBMb2NhdGlvbkNoYW5nZTohMSxyZXBsYWNlVXJsOiExfSl9KSl9cmV0dXJuIHRoaXMucmF3VXJsVHJlZT10LnJhd1VybCx0aGlzLmJyb3dzZXJVcmxUcmVlPXQudXJsQWZ0ZXJSZWRpcmVjdHMsdC5yZXNvbHZlKG51bGwpLHFofSksY20odD0+e2NvbnN0e3RhcmdldFNuYXBzaG90OmUsaWQ6bixleHRyYWN0ZWRVcmw6cixyYXdVcmw6cyxleHRyYXM6e3NraXBMb2NhdGlvbkNoYW5nZTppLHJlcGxhY2VVcmw6b319PXQ7cmV0dXJuIHRoaXMuaG9va3MuYmVmb3JlUHJlYWN0aXZhdGlvbihlLHtuYXZpZ2F0aW9uSWQ6bixhcHBsaWVkVXJsVHJlZTpyLHJhd1VybFRyZWU6cyxza2lwTG9jYXRpb25DaGFuZ2U6ISFpLHJlcGxhY2VVcmw6ISFvfSl9KSxVcCh0PT57Y29uc3QgZT1uZXcgWHAodC5pZCx0aGlzLnNlcmlhbGl6ZVVybCh0LmV4dHJhY3RlZFVybCksdGhpcy5zZXJpYWxpemVVcmwodC51cmxBZnRlclJlZGlyZWN0cyksdC50YXJnZXRTbmFwc2hvdCk7dGhpcy50cmlnZ2VyRXZlbnQoZSl9KSxTKHQ9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7Z3VhcmRzOlFnKHQudGFyZ2V0U25hcHNob3QsdC5jdXJyZW50U25hcHNob3QsdGhpcy5yb290Q29udGV4dHMpfSkpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIEIobj0+e2NvbnN0e3RhcmdldFNuYXBzaG90OnIsY3VycmVudFNuYXBzaG90OnMsZ3VhcmRzOntjYW5BY3RpdmF0ZUNoZWNrczppLGNhbkRlYWN0aXZhdGVDaGVja3M6b319PW47cmV0dXJuIDA9PT1vLmxlbmd0aCYmMD09PWkubGVuZ3RoP0doKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7Z3VhcmRzUmVzdWx0OiEwfSkpOmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBqKHQpLnBpcGUoQih0PT5mdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9ZSYmZS5yb3V0ZUNvbmZpZz9lLnJvdXRlQ29uZmlnLmNhbkRlYWN0aXZhdGU6bnVsbDtyZXR1cm4gaSYmMCE9PWkubGVuZ3RoP0doKGkubWFwKGk9Pntjb25zdCBvPVhnKGksZSxzKTtsZXQgYTtpZihmdW5jdGlvbih0KXtyZXR1cm4gdCYmQWcodC5jYW5EZWFjdGl2YXRlKX0obykpYT13ZihvLmNhbkRlYWN0aXZhdGUodCxlLG4scikpO2Vsc2V7aWYoIUFnKG8pKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBDYW5EZWFjdGl2YXRlIGd1YXJkIik7YT13ZihvKHQsZSxuLHIpKX1yZXR1cm4gYS5waXBlKExwKCkpfSkpLnBpcGUoa2coKSk6R2goITApfSh0LmNvbXBvbmVudCx0LnJvdXRlLG4sZSxyKSksTHAodD0+ITAhPT10LCEwKSl9KG8scixzLHQpLnBpcGUoQihuPT5uJiYiYm9vbGVhbiI9PXR5cGVvZiBuP2Z1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBqKGUpLnBpcGUoa3AoZT0+cHAoZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9PXQmJmUmJmUobmV3IHNmKHQpKSxHaCghMCl9KGUucm91dGUucGFyZW50LHIpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPT10JiZlJiZlKG5ldyBhZih0KSksR2goITApfShlLnJvdXRlLHIpLGZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPWVbZS5sZW5ndGgtMV0scz1lLnNsaWNlKDAsZS5sZW5ndGgtMSkucmV2ZXJzZSgpLm1hcCh0PT5mdW5jdGlvbih0KXtjb25zdCBlPXQucm91dGVDb25maWc/dC5yb3V0ZUNvbmZpZy5jYW5BY3RpdmF0ZUNoaWxkOm51bGw7cmV0dXJuIGUmJjAhPT1lLmxlbmd0aD97bm9kZTp0LGd1YXJkczplfTpudWxsfSh0KSkuZmlsdGVyKHQ9Pm51bGwhPT10KS5tYXAoZT0+ZnAoKCk9PkdoKGUuZ3VhcmRzLm1hcChzPT57Y29uc3QgaT1YZyhzLGUubm9kZSxuKTtsZXQgbztpZihmdW5jdGlvbih0KXtyZXR1cm4gdCYmQWcodC5jYW5BY3RpdmF0ZUNoaWxkKX0oaSkpbz13ZihpLmNhbkFjdGl2YXRlQ2hpbGQocix0KSk7ZWxzZXtpZighQWcoaSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIENhbkFjdGl2YXRlQ2hpbGQgZ3VhcmQiKTtvPXdmKGkocix0KSl9cmV0dXJuIG8ucGlwZShMcCgpKX0pKS5waXBlKGtnKCkpKSk7cmV0dXJuIEdoKHMpLnBpcGUoa2coKSl9KHQsZS5wYXRoLG4pLGZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPWUucm91dGVDb25maWc/ZS5yb3V0ZUNvbmZpZy5jYW5BY3RpdmF0ZTpudWxsO3JldHVybiByJiYwIT09ci5sZW5ndGg/R2goci5tYXAocj0+ZnAoKCk9Pntjb25zdCBzPVhnKHIsZSxuKTtsZXQgaTtpZihmdW5jdGlvbih0KXtyZXR1cm4gdCYmQWcodC5jYW5BY3RpdmF0ZSl9KHMpKWk9d2Yocy5jYW5BY3RpdmF0ZShlLHQpKTtlbHNle2lmKCFBZyhzKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgQ2FuQWN0aXZhdGUgZ3VhcmQiKTtpPXdmKHMoZSx0KSl9cmV0dXJuIGkucGlwZShMcCgpKX0pKSkucGlwZShrZygpKTpHaCghMCl9KHQsZS5yb3V0ZSxuKSkpLExwKHQ9PiEwIT09dCwhMCkpfShyLGksdCxlKTpHaChuKSksUyh0PT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbikse2d1YXJkc1Jlc3VsdDp0fSkpKX0pfSh0aGlzLm5nTW9kdWxlLmluamVjdG9yLHQ9PnRoaXMudHJpZ2dlckV2ZW50KHQpKSxVcCh0PT57aWYoU2codC5ndWFyZHNSZXN1bHQpKXtjb25zdCBlPXBmKGBSZWRpcmVjdGluZyB0byAiJHt0aGlzLnNlcmlhbGl6ZVVybCh0Lmd1YXJkc1Jlc3VsdCl9ImApO3Rocm93IGUudXJsPXQuZ3VhcmRzUmVzdWx0LGV9Y29uc3QgZT1uZXcgSnAodC5pZCx0aGlzLnNlcmlhbGl6ZVVybCh0LmV4dHJhY3RlZFVybCksdGhpcy5zZXJpYWxpemVVcmwodC51cmxBZnRlclJlZGlyZWN0cyksdC50YXJnZXRTbmFwc2hvdCwhIXQuZ3VhcmRzUmVzdWx0KTt0aGlzLnRyaWdnZXJFdmVudChlKX0pLENwKHQ9PntpZighdC5ndWFyZHNSZXN1bHQpe3RoaXMucmVzZXRVcmxUb0N1cnJlbnRVcmxUcmVlKCk7Y29uc3Qgbj1uZXcgS3AodC5pZCx0aGlzLnNlcmlhbGl6ZVVybCh0LmV4dHJhY3RlZFVybCksIiIpO3JldHVybiBlLm5leHQobiksdC5yZXNvbHZlKCExKSwhMX1yZXR1cm4hMH0pLGNtKHQ9PntpZih0Lmd1YXJkcy5jYW5BY3RpdmF0ZUNoZWNrcy5sZW5ndGgpcmV0dXJuIEdoKHQpLnBpcGUoVXAodD0+e2NvbnN0IGU9bmV3IHRmKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLHRoaXMuc2VyaWFsaXplVXJsKHQudXJsQWZ0ZXJSZWRpcmVjdHMpLHQudGFyZ2V0U25hcHNob3QpO3RoaXMudHJpZ2dlckV2ZW50KGUpfSksZWQodD0+e2xldCBuPSExO3JldHVybiBHaCh0KS5waXBlKChyPXRoaXMucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneSxzPXRoaXMubmdNb2R1bGUuaW5qZWN0b3IsQih0PT57Y29uc3R7dGFyZ2V0U25hcHNob3Q6ZSxndWFyZHM6e2NhbkFjdGl2YXRlQ2hlY2tzOm59fT10O2lmKCFuLmxlbmd0aClyZXR1cm4gR2godCk7bGV0IGk9MDtyZXR1cm4gaihuKS5waXBlKGtwKHQ9PmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBmdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPU9iamVjdC5rZXlzKHQpO2lmKDA9PT1zLmxlbmd0aClyZXR1cm4gR2goe30pO2NvbnN0IGk9e307cmV0dXJuIGoocykucGlwZShCKHM9PmZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9WGcodCxlLHIpO3JldHVybiB3ZihzLnJlc29sdmU/cy5yZXNvbHZlKGUsbik6cyhlLG4pKX0odFtzXSxlLG4scikucGlwZShVcCh0PT57aVtzXT10fSkpKSxUcCgxKSxCKCgpPT5PYmplY3Qua2V5cyhpKS5sZW5ndGg9PT1zLmxlbmd0aD9HaChpKTpxaCkpfSh0Ll9yZXNvbHZlLHQsZSxyKS5waXBlKFMoZT0+KHQuX3Jlc29sdmVkRGF0YT1lLHQuZGF0YT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdC5kYXRhKSxlZyh0LG4pLnJlc29sdmUpLG51bGwpKSl9KHQucm91dGUsZSxyLHMpKSxVcCgoKT0+aSsrKSxUcCgxKSxCKGU9Pmk9PT1uLmxlbmd0aD9HaCh0KTpxaCkpfSkpLFVwKHtuZXh0OigpPT5uPSEwLGNvbXBsZXRlOigpPT57aWYoIW4pe2NvbnN0IG49bmV3IEtwKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLCJBdCBsZWFzdCBvbmUgcm91dGUgcmVzb2x2ZXIgZGlkbid0IGVtaXQgYW55IHZhbHVlLiIpO2UubmV4dChuKSx0LnJlc29sdmUoITEpfX19KSk7dmFyIHIsc30pLFVwKHQ9Pntjb25zdCBlPW5ldyBlZih0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSx0aGlzLnNlcmlhbGl6ZVVybCh0LnVybEFmdGVyUmVkaXJlY3RzKSx0LnRhcmdldFNuYXBzaG90KTt0aGlzLnRyaWdnZXJFdmVudChlKX0pKX0pLGNtKHQ9Pntjb25zdHt0YXJnZXRTbmFwc2hvdDplLGlkOm4sZXh0cmFjdGVkVXJsOnIscmF3VXJsOnMsZXh0cmFzOntza2lwTG9jYXRpb25DaGFuZ2U6aSxyZXBsYWNlVXJsOm99fT10O3JldHVybiB0aGlzLmhvb2tzLmFmdGVyUHJlYWN0aXZhdGlvbihlLHtuYXZpZ2F0aW9uSWQ6bixhcHBsaWVkVXJsVHJlZTpyLHJhd1VybFRyZWU6cyxza2lwTG9jYXRpb25DaGFuZ2U6ISFpLHJlcGxhY2VVcmw6ISFvfSl9KSxTKHQ9Pntjb25zdCBlPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPWxnKHQsZS5fcm9vdCxuP24uX3Jvb3Q6dm9pZCAwKTtyZXR1cm4gbmV3IFhmKHIsZSl9KHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LHQudGFyZ2V0U25hcHNob3QsdC5jdXJyZW50Um91dGVyU3RhdGUpO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse3RhcmdldFJvdXRlclN0YXRlOmV9KX0pLFVwKHQ9Pnt0aGlzLmN1cnJlbnRVcmxUcmVlPXQudXJsQWZ0ZXJSZWRpcmVjdHMsdGhpcy5yYXdVcmxUcmVlPXRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5tZXJnZSh0aGlzLmN1cnJlbnRVcmxUcmVlLHQucmF3VXJsKSx0aGlzLnJvdXRlclN0YXRlPXQudGFyZ2V0Um91dGVyU3RhdGUsImRlZmVycmVkIj09PXRoaXMudXJsVXBkYXRlU3RyYXRlZ3kmJih0LmV4dHJhcy5za2lwTG9jYXRpb25DaGFuZ2V8fHRoaXMuc2V0QnJvd3NlclVybCh0aGlzLnJhd1VybFRyZWUsISF0LmV4dHJhcy5yZXBsYWNlVXJsLHQuaWQsdC5leHRyYXMuc3RhdGUpLHRoaXMuYnJvd3NlclVybFRyZWU9dC51cmxBZnRlclJlZGlyZWN0cyl9KSwoaT10aGlzLnJvb3RDb250ZXh0cyxvPXRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LGE9dD0+dGhpcy50cmlnZ2VyRXZlbnQodCksUyh0PT4obmV3IENnKG8sdC50YXJnZXRSb3V0ZXJTdGF0ZSx0LmN1cnJlbnRSb3V0ZXJTdGF0ZSxhKS5hY3RpdmF0ZShpKSx0KSkpLFVwKHtuZXh0KCl7bj0hMH0sY29tcGxldGUoKXtuPSEwfX0pLChzPSgpPT57aWYoIW4mJiFyKXt0aGlzLnJlc2V0VXJsVG9DdXJyZW50VXJsVHJlZSgpO2NvbnN0IG49bmV3IEtwKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLGBOYXZpZ2F0aW9uIElEICR7dC5pZH0gaXMgbm90IGVxdWFsIHRvIHRoZSBjdXJyZW50IG5hdmlnYXRpb24gaWQgJHt0aGlzLm5hdmlnYXRpb25JZH1gKTtlLm5leHQobiksdC5yZXNvbHZlKCExKX10aGlzLmN1cnJlbnROYXZpZ2F0aW9uPW51bGx9LHQ9PnQubGlmdChuZXcgenAocykpKSxBcChuPT57aWYocj0hMCwocz1uKSYmcy5uZ05hdmlnYXRpb25DYW5jZWxpbmdFcnJvcil7Y29uc3Qgcj1TZyhuLnVybCk7cnx8KHRoaXMubmF2aWdhdGVkPSEwLHRoaXMucmVzZXRTdGF0ZUFuZFVybCh0LmN1cnJlbnRSb3V0ZXJTdGF0ZSx0LmN1cnJlbnRVcmxUcmVlLHQucmF3VXJsKSk7Y29uc3Qgcz1uZXcgS3AodC5pZCx0aGlzLnNlcmlhbGl6ZVVybCh0LmV4dHJhY3RlZFVybCksbi5tZXNzYWdlKTtlLm5leHQocykscj9zZXRUaW1lb3V0KCgpPT57Y29uc3QgZT10aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kubWVyZ2Uobi51cmwsdGhpcy5yYXdVcmxUcmVlKTt0aGlzLnNjaGVkdWxlTmF2aWdhdGlvbihlLCJpbXBlcmF0aXZlIixudWxsLHtza2lwTG9jYXRpb25DaGFuZ2U6dC5leHRyYXMuc2tpcExvY2F0aW9uQ2hhbmdlLHJlcGxhY2VVcmw6ImVhZ2VyIj09PXRoaXMudXJsVXBkYXRlU3RyYXRlZ3l9LHtyZXNvbHZlOnQucmVzb2x2ZSxyZWplY3Q6dC5yZWplY3QscHJvbWlzZTp0LnByb21pc2V9KX0sMCk6dC5yZXNvbHZlKCExKX1lbHNle3RoaXMucmVzZXRTdGF0ZUFuZFVybCh0LmN1cnJlbnRSb3V0ZXJTdGF0ZSx0LmN1cnJlbnRVcmxUcmVlLHQucmF3VXJsKTtjb25zdCByPW5ldyBZcCh0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSxuKTtlLm5leHQocik7dHJ5e3QucmVzb2x2ZSh0aGlzLmVycm9ySGFuZGxlcihuKSl9Y2F0Y2goaSl7dC5yZWplY3QoaSl9fXZhciBzO3JldHVybiBxaH0pKTt2YXIgcyxpLG8sYX0pKX1yZXNldFJvb3RDb21wb25lbnRUeXBlKHQpe3RoaXMucm9vdENvbXBvbmVudFR5cGU9dCx0aGlzLnJvdXRlclN0YXRlLnJvb3QuY29tcG9uZW50PXRoaXMucm9vdENvbXBvbmVudFR5cGV9Z2V0VHJhbnNpdGlvbigpe2NvbnN0IHQ9dGhpcy50cmFuc2l0aW9ucy52YWx1ZTtyZXR1cm4gdC51cmxBZnRlclJlZGlyZWN0cz10aGlzLmJyb3dzZXJVcmxUcmVlLHR9c2V0VHJhbnNpdGlvbih0KXt0aGlzLnRyYW5zaXRpb25zLm5leHQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0VHJhbnNpdGlvbigpKSx0KSl9aW5pdGlhbE5hdmlnYXRpb24oKXt0aGlzLnNldFVwTG9jYXRpb25DaGFuZ2VMaXN0ZW5lcigpLDA9PT10aGlzLm5hdmlnYXRpb25JZCYmdGhpcy5uYXZpZ2F0ZUJ5VXJsKHRoaXMubG9jYXRpb24ucGF0aCghMCkse3JlcGxhY2VVcmw6ITB9KX1zZXRVcExvY2F0aW9uQ2hhbmdlTGlzdGVuZXIoKXt0aGlzLmxvY2F0aW9uU3Vic2NyaXB0aW9ufHwodGhpcy5sb2NhdGlvblN1YnNjcmlwdGlvbj10aGlzLmxvY2F0aW9uLnN1YnNjcmliZSh0PT57Y29uc3QgZT10aGlzLmV4dHJhY3RMb2NhdGlvbkNoYW5nZUluZm9Gcm9tRXZlbnQodCk7dGhpcy5zaG91bGRTY2hlZHVsZU5hdmlnYXRpb24odGhpcy5sYXN0TG9jYXRpb25DaGFuZ2VJbmZvLGUpJiZzZXRUaW1lb3V0KCgpPT57Y29uc3R7c291cmNlOnQsc3RhdGU6bix1cmxUcmVlOnJ9PWUscz17cmVwbGFjZVVybDohMH07aWYobil7Y29uc3QgdD1PYmplY3QuYXNzaWduKHt9LG4pO2RlbGV0ZSB0Lm5hdmlnYXRpb25JZCwwIT09T2JqZWN0LmtleXModCkubGVuZ3RoJiYocy5zdGF0ZT10KX10aGlzLnNjaGVkdWxlTmF2aWdhdGlvbihyLHQsbixzKX0sMCksdGhpcy5sYXN0TG9jYXRpb25DaGFuZ2VJbmZvPWV9KSl9ZXh0cmFjdExvY2F0aW9uQ2hhbmdlSW5mb0Zyb21FdmVudCh0KXt2YXIgZTtyZXR1cm57c291cmNlOiJwb3BzdGF0ZSI9PT10LnR5cGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsdXJsVHJlZTp0aGlzLnBhcnNlVXJsKHQudXJsKSxzdGF0ZToobnVsbD09PShlPXQuc3RhdGUpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm5hdmlnYXRpb25JZCk/dC5zdGF0ZTpudWxsLHRyYW5zaXRpb25JZDp0aGlzLmdldFRyYW5zaXRpb24oKS5pZH19c2hvdWxkU2NoZWR1bGVOYXZpZ2F0aW9uKHQsZSl7aWYoIXQpcmV0dXJuITA7Y29uc3Qgbj1lLnVybFRyZWUudG9TdHJpbmcoKT09PXQudXJsVHJlZS50b1N0cmluZygpO3JldHVybiEoZS50cmFuc2l0aW9uSWQ9PT10LnRyYW5zaXRpb25JZCYmbiYmKCJoYXNoY2hhbmdlIj09PWUuc291cmNlJiYicG9wc3RhdGUiPT09dC5zb3VyY2V8fCJwb3BzdGF0ZSI9PT1lLnNvdXJjZSYmImhhc2hjaGFuZ2UiPT09dC5zb3VyY2UpKX1nZXQgdXJsKCl7cmV0dXJuIHRoaXMuc2VyaWFsaXplVXJsKHRoaXMuY3VycmVudFVybFRyZWUpfWdldEN1cnJlbnROYXZpZ2F0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudE5hdmlnYXRpb259dHJpZ2dlckV2ZW50KHQpe3RoaXMuZXZlbnRzLm5leHQodCl9cmVzZXRDb25maWcodCl7RmcodCksdGhpcy5jb25maWc9dC5tYXAoSWcpLHRoaXMubmF2aWdhdGVkPSExLHRoaXMubGFzdFN1Y2Nlc3NmdWxJZD0tMX1uZ09uRGVzdHJveSgpe3RoaXMuZGlzcG9zZSgpfWRpc3Bvc2UoKXt0aGlzLnRyYW5zaXRpb25zLmNvbXBsZXRlKCksdGhpcy5sb2NhdGlvblN1YnNjcmlwdGlvbiYmKHRoaXMubG9jYXRpb25TdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSx0aGlzLmxvY2F0aW9uU3Vic2NyaXB0aW9uPXZvaWQgMCksdGhpcy5kaXNwb3NlZD0hMH1jcmVhdGVVcmxUcmVlKHQsZT17fSl7Y29uc3R7cmVsYXRpdmVUbzpuLHF1ZXJ5UGFyYW1zOnIsZnJhZ21lbnQ6cyxxdWVyeVBhcmFtc0hhbmRsaW5nOmkscHJlc2VydmVGcmFnbWVudDpvfT1lLGE9bnx8dGhpcy5yb3V0ZXJTdGF0ZS5yb290LGw9bz90aGlzLmN1cnJlbnRVcmxUcmVlLmZyYWdtZW50OnM7bGV0IHU9bnVsbDtzd2l0Y2goaSl7Y2FzZSJtZXJnZSI6dT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtcykscik7YnJlYWs7Y2FzZSJwcmVzZXJ2ZSI6dT10aGlzLmN1cnJlbnRVcmxUcmVlLnF1ZXJ5UGFyYW1zO2JyZWFrO2RlZmF1bHQ6dT1yfHxudWxsfXJldHVybiBudWxsIT09dSYmKHU9dGhpcy5yZW1vdmVFbXB0eVByb3BzKHUpKSxmdW5jdGlvbih0LGUsbixyLHMpe2lmKDA9PT1uLmxlbmd0aClyZXR1cm4gZGcoZS5yb290LGUucm9vdCxlLHIscyk7Y29uc3QgaT1mdW5jdGlvbih0KXtpZigic3RyaW5nIj09dHlwZW9mIHRbMF0mJjE9PT10Lmxlbmd0aCYmIi8iPT09dFswXSlyZXR1cm4gbmV3IGZnKCEwLDAsdCk7bGV0IGU9MCxuPSExO2NvbnN0IHI9dC5yZWR1Y2UoKHQscixzKT0+e2lmKCJvYmplY3QiPT10eXBlb2YgciYmbnVsbCE9cil7aWYoci5vdXRsZXRzKXtjb25zdCBlPXt9O3JldHVybiBiZihyLm91dGxldHMsKHQsbik9PntlW25dPSJzdHJpbmciPT10eXBlb2YgdD90LnNwbGl0KCIvIik6dH0pLFsuLi50LHtvdXRsZXRzOmV9XX1pZihyLnNlZ21lbnRQYXRoKXJldHVyblsuLi50LHIuc2VnbWVudFBhdGhdfXJldHVybiJzdHJpbmciIT10eXBlb2Ygcj9bLi4udCxyXTowPT09cz8oci5zcGxpdCgiLyIpLmZvckVhY2goKHIscyk9PnswPT1zJiYiLiI9PT1yfHwoMD09cyYmIiI9PT1yP249ITA6Ii4uIj09PXI/ZSsrOiIiIT1yJiZ0LnB1c2gocikpfSksdCk6Wy4uLnQscl19LFtdKTtyZXR1cm4gbmV3IGZnKG4sZSxyKX0obik7aWYoaS50b1Jvb3QoKSlyZXR1cm4gZGcoZS5yb290LG5ldyBrZihbXSx7fSksZSxyLHMpO2NvbnN0IG89ZnVuY3Rpb24odCxlLG4pe2lmKHQuaXNBYnNvbHV0ZSlyZXR1cm4gbmV3IGdnKGUucm9vdCwhMCwwKTtpZigtMT09PW4uc25hcHNob3QuX2xhc3RQYXRoSW5kZXgpe2NvbnN0IHQ9bi5zbmFwc2hvdC5fdXJsU2VnbWVudDtyZXR1cm4gbmV3IGdnKHQsdD09PWUucm9vdCwwKX1jb25zdCByPWNnKHQuY29tbWFuZHNbMF0pPzA6MTtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2xldCByPXQscz1lLGk9bjtmb3IoO2k+czspe2lmKGktPXMscj1yLnBhcmVudCwhcil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgbnVtYmVyIG9mICcuLi8nIik7cz1yLnNlZ21lbnRzLmxlbmd0aH1yZXR1cm4gbmV3IGdnKHIsITEscy1pKX0obi5zbmFwc2hvdC5fdXJsU2VnbWVudCxuLnNuYXBzaG90Ll9sYXN0UGF0aEluZGV4K3IsdC5udW1iZXJPZkRvdWJsZURvdHMpfShpLGUsdCksYT1vLnByb2Nlc3NDaGlsZHJlbj95ZyhvLnNlZ21lbnRHcm91cCxvLmluZGV4LGkuY29tbWFuZHMpOm1nKG8uc2VnbWVudEdyb3VwLG8uaW5kZXgsaS5jb21tYW5kcyk7cmV0dXJuIGRnKG8uc2VnbWVudEdyb3VwLGEsZSxyLHMpfShhLHRoaXMuY3VycmVudFVybFRyZWUsdCx1LG51bGwhPWw/bDpudWxsKX1uYXZpZ2F0ZUJ5VXJsKHQsZT17c2tpcExvY2F0aW9uQ2hhbmdlOiExfSl7Y29uc3Qgbj1TZyh0KT90OnRoaXMucGFyc2VVcmwodCkscj10aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kubWVyZ2Uobix0aGlzLnJhd1VybFRyZWUpO3JldHVybiB0aGlzLnNjaGVkdWxlTmF2aWdhdGlvbihyLCJpbXBlcmF0aXZlIixudWxsLGUpfW5hdmlnYXRlKHQsZT17c2tpcExvY2F0aW9uQ2hhbmdlOiExfSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBuPXRbZV07aWYobnVsbD09bil0aHJvdyBuZXcgRXJyb3IoYFRoZSByZXF1ZXN0ZWQgcGF0aCBjb250YWlucyAke259IHNlZ21lbnQgYXQgaW5kZXggJHtlfWApfX0odCksdGhpcy5uYXZpZ2F0ZUJ5VXJsKHRoaXMuY3JlYXRlVXJsVHJlZSh0LGUpLGUpfXNlcmlhbGl6ZVVybCh0KXtyZXR1cm4gdGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh0KX1wYXJzZVVybCh0KXtsZXQgZTt0cnl7ZT10aGlzLnVybFNlcmlhbGl6ZXIucGFyc2UodCl9Y2F0Y2gobil7ZT10aGlzLm1hbGZvcm1lZFVyaUVycm9ySGFuZGxlcihuLHRoaXMudXJsU2VyaWFsaXplcix0KX1yZXR1cm4gZX1pc0FjdGl2ZSh0LGUpe2xldCBuO2lmKG49ITA9PT1lP09iamVjdC5hc3NpZ24oe30sd20pOiExPT09ZT9PYmplY3QuYXNzaWduKHt9LF9tKTplLFNnKHQpKXJldHVybiBEZih0aGlzLmN1cnJlbnRVcmxUcmVlLHQsbik7Y29uc3Qgcj10aGlzLnBhcnNlVXJsKHQpO3JldHVybiBEZih0aGlzLmN1cnJlbnRVcmxUcmVlLHIsbil9cmVtb3ZlRW1wdHlQcm9wcyh0KXtyZXR1cm4gT2JqZWN0LmtleXModCkucmVkdWNlKChlLG4pPT57Y29uc3Qgcj10W25dO3JldHVybiBudWxsIT1yJiYoZVtuXT1yKSxlfSx7fSl9cHJvY2Vzc05hdmlnYXRpb25zKCl7dGhpcy5uYXZpZ2F0aW9ucy5zdWJzY3JpYmUodD0+e3RoaXMubmF2aWdhdGVkPSEwLHRoaXMubGFzdFN1Y2Nlc3NmdWxJZD10LmlkLHRoaXMuZXZlbnRzLm5leHQobmV3IFpwKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLHRoaXMuc2VyaWFsaXplVXJsKHRoaXMuY3VycmVudFVybFRyZWUpKSksdGhpcy5sYXN0U3VjY2Vzc2Z1bE5hdmlnYXRpb249dGhpcy5jdXJyZW50TmF2aWdhdGlvbix0LnJlc29sdmUoITApfSx0PT57dGhpcy5jb25zb2xlLndhcm4oIlVuaGFuZGxlZCBOYXZpZ2F0aW9uIEVycm9yOiAiKX0pfXNjaGVkdWxlTmF2aWdhdGlvbih0LGUsbixyLHMpe2lmKHRoaXMuZGlzcG9zZWQpcmV0dXJuIFByb21pc2UucmVzb2x2ZSghMSk7Y29uc3QgaT10aGlzLmdldFRyYW5zaXRpb24oKSxvPSJpbXBlcmF0aXZlIiE9PWUmJiJpbXBlcmF0aXZlIj09PShudWxsPT1pP3ZvaWQgMDppLnNvdXJjZSksYT0odGhpcy5sYXN0U3VjY2Vzc2Z1bElkPT09aS5pZHx8dGhpcy5jdXJyZW50TmF2aWdhdGlvbj9pLnJhd1VybDppLnVybEFmdGVyUmVkaXJlY3RzKS50b1N0cmluZygpPT09dC50b1N0cmluZygpO2lmKG8mJmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSghMCk7bGV0IGwsdSxjO3M/KGw9cy5yZXNvbHZlLHU9cy5yZWplY3QsYz1zLnByb21pc2UpOmM9bmV3IFByb21pc2UoKHQsZSk9PntsPXQsdT1lfSk7Y29uc3QgaD0rK3RoaXMubmF2aWdhdGlvbklkO3JldHVybiB0aGlzLnNldFRyYW5zaXRpb24oe2lkOmgsc291cmNlOmUscmVzdG9yZWRTdGF0ZTpuLGN1cnJlbnRVcmxUcmVlOnRoaXMuY3VycmVudFVybFRyZWUsY3VycmVudFJhd1VybDp0aGlzLnJhd1VybFRyZWUscmF3VXJsOnQsZXh0cmFzOnIscmVzb2x2ZTpsLHJlamVjdDp1LHByb21pc2U6YyxjdXJyZW50U25hcHNob3Q6dGhpcy5yb3V0ZXJTdGF0ZS5zbmFwc2hvdCxjdXJyZW50Um91dGVyU3RhdGU6dGhpcy5yb3V0ZXJTdGF0ZX0pLGMuY2F0Y2godD0+UHJvbWlzZS5yZWplY3QodCkpfXNldEJyb3dzZXJVcmwodCxlLG4scil7Y29uc3Qgcz10aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKHQpO3I9cnx8e30sdGhpcy5sb2NhdGlvbi5pc0N1cnJlbnRQYXRoRXF1YWxUbyhzKXx8ZT90aGlzLmxvY2F0aW9uLnJlcGxhY2VTdGF0ZShzLCIiLE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7bmF2aWdhdGlvbklkOm59KSk6dGhpcy5sb2NhdGlvbi5nbyhzLCIiLE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7bmF2aWdhdGlvbklkOm59KSl9cmVzZXRTdGF0ZUFuZFVybCh0LGUsbil7dGhpcy5yb3V0ZXJTdGF0ZT10LHRoaXMuY3VycmVudFVybFRyZWU9ZSx0aGlzLnJhd1VybFRyZWU9dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5Lm1lcmdlKHRoaXMuY3VycmVudFVybFRyZWUsbiksdGhpcy5yZXNldFVybFRvQ3VycmVudFVybFRyZWUoKX1yZXNldFVybFRvQ3VycmVudFVybFRyZWUoKXt0aGlzLmxvY2F0aW9uLnJlcGxhY2VTdGF0ZSh0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKHRoaXMucmF3VXJsVHJlZSksIiIse25hdmlnYXRpb25JZDp0aGlzLmxhc3RTdWNjZXNzZnVsSWR9KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkob3Ioem4pLG9yKE9mKSxvcihnbSksb3IoWnUpLG9yKFdpKSxvcihEdSksb3IoWGwpLG9yKHZvaWQgMCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLERtPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4scixzKXt0aGlzLnBhcmVudENvbnRleHRzPXQsdGhpcy5sb2NhdGlvbj1lLHRoaXMucmVzb2x2ZXI9bix0aGlzLmNoYW5nZURldGVjdG9yPXMsdGhpcy5hY3RpdmF0ZWQ9bnVsbCx0aGlzLl9hY3RpdmF0ZWRSb3V0ZT1udWxsLHRoaXMuYWN0aXZhdGVFdmVudHM9bmV3IGdsLHRoaXMuZGVhY3RpdmF0ZUV2ZW50cz1uZXcgZ2wsdGhpcy5uYW1lPXJ8fGNmLHQub25DaGlsZE91dGxldENyZWF0ZWQodGhpcy5uYW1lLHRoaXMpfW5nT25EZXN0cm95KCl7dGhpcy5wYXJlbnRDb250ZXh0cy5vbkNoaWxkT3V0bGV0RGVzdHJveWVkKHRoaXMubmFtZSl9bmdPbkluaXQoKXtpZighdGhpcy5hY3RpdmF0ZWQpe2NvbnN0IHQ9dGhpcy5wYXJlbnRDb250ZXh0cy5nZXRDb250ZXh0KHRoaXMubmFtZSk7dCYmdC5yb3V0ZSYmKHQuYXR0YWNoUmVmP3RoaXMuYXR0YWNoKHQuYXR0YWNoUmVmLHQucm91dGUpOnRoaXMuYWN0aXZhdGVXaXRoKHQucm91dGUsdC5yZXNvbHZlcnx8bnVsbCkpfX1nZXQgaXNBY3RpdmF0ZWQoKXtyZXR1cm4hIXRoaXMuYWN0aXZhdGVkfWdldCBjb21wb25lbnQoKXtpZighdGhpcy5hY3RpdmF0ZWQpdGhyb3cgbmV3IEVycm9yKCJPdXRsZXQgaXMgbm90IGFjdGl2YXRlZCIpO3JldHVybiB0aGlzLmFjdGl2YXRlZC5pbnN0YW5jZX1nZXQgYWN0aXZhdGVkUm91dGUoKXtpZighdGhpcy5hY3RpdmF0ZWQpdGhyb3cgbmV3IEVycm9yKCJPdXRsZXQgaXMgbm90IGFjdGl2YXRlZCIpO3JldHVybiB0aGlzLl9hY3RpdmF0ZWRSb3V0ZX1nZXQgYWN0aXZhdGVkUm91dGVEYXRhKCl7cmV0dXJuIHRoaXMuX2FjdGl2YXRlZFJvdXRlP3RoaXMuX2FjdGl2YXRlZFJvdXRlLnNuYXBzaG90LmRhdGE6e319ZGV0YWNoKCl7aWYoIXRoaXMuYWN0aXZhdGVkKXRocm93IG5ldyBFcnJvcigiT3V0bGV0IGlzIG5vdCBhY3RpdmF0ZWQiKTt0aGlzLmxvY2F0aW9uLmRldGFjaCgpO2NvbnN0IHQ9dGhpcy5hY3RpdmF0ZWQ7cmV0dXJuIHRoaXMuYWN0aXZhdGVkPW51bGwsdGhpcy5fYWN0aXZhdGVkUm91dGU9bnVsbCx0fWF0dGFjaCh0LGUpe3RoaXMuYWN0aXZhdGVkPXQsdGhpcy5fYWN0aXZhdGVkUm91dGU9ZSx0aGlzLmxvY2F0aW9uLmluc2VydCh0Lmhvc3RWaWV3KX1kZWFjdGl2YXRlKCl7aWYodGhpcy5hY3RpdmF0ZWQpe2NvbnN0IHQ9dGhpcy5jb21wb25lbnQ7dGhpcy5hY3RpdmF0ZWQuZGVzdHJveSgpLHRoaXMuYWN0aXZhdGVkPW51bGwsdGhpcy5fYWN0aXZhdGVkUm91dGU9bnVsbCx0aGlzLmRlYWN0aXZhdGVFdmVudHMuZW1pdCh0KX19YWN0aXZhdGVXaXRoKHQsZSl7aWYodGhpcy5pc0FjdGl2YXRlZCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBhY3RpdmF0ZSBhbiBhbHJlYWR5IGFjdGl2YXRlZCBvdXRsZXQiKTt0aGlzLl9hY3RpdmF0ZWRSb3V0ZT10O2NvbnN0IG49KGU9ZXx8dGhpcy5yZXNvbHZlcikucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodC5fZnV0dXJlU25hcHNob3Qucm91dGVDb25maWcuY29tcG9uZW50KSxyPXRoaXMucGFyZW50Q29udGV4dHMuZ2V0T3JDcmVhdGVDb250ZXh0KHRoaXMubmFtZSkuY2hpbGRyZW4scz1uZXcgRW0odCxyLHRoaXMubG9jYXRpb24uaW5qZWN0b3IpO3RoaXMuYWN0aXZhdGVkPXRoaXMubG9jYXRpb24uY3JlYXRlQ29tcG9uZW50KG4sdGhpcy5sb2NhdGlvbi5sZW5ndGgscyksdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKSx0aGlzLmFjdGl2YXRlRXZlbnRzLmVtaXQodGhpcy5hY3RpdmF0ZWQuaW5zdGFuY2UpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhbyhnbSksYW8oSmEpLGFvKGhhKSwoIm5hbWUiLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmF0dHJzO2lmKG4pe2NvbnN0IHQ9bi5sZW5ndGg7bGV0IHI9MDtmb3IoO3I8dDspe2NvbnN0IHM9bltyXTtpZihkbihzKSlicmVhaztpZigwPT09cylyKz0yO2Vsc2UgaWYoIm51bWJlciI9PXR5cGVvZiBzKWZvcihyKys7cjx0JiYic3RyaW5nIj09dHlwZW9mIG5bcl07KXIrKztlbHNle2lmKHM9PT1lKXJldHVybiBuW3IrMV07cis9Mn19fXJldHVybiBudWxsfShQZSgpLCJuYW1lIikpLGFvKFVhKSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsc2VsZWN0b3JzOltbInJvdXRlci1vdXRsZXQiXV0sb3V0cHV0czp7YWN0aXZhdGVFdmVudHM6ImFjdGl2YXRlIixkZWFjdGl2YXRlRXZlbnRzOiJkZWFjdGl2YXRlIn0sZXhwb3J0QXM6WyJvdXRsZXQiXX0pLHR9KSgpO2NsYXNzIEVte2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLnJvdXRlPXQsdGhpcy5jaGlsZENvbnRleHRzPWUsdGhpcy5wYXJlbnQ9bn1nZXQodCxlKXtyZXR1cm4gdD09PXRnP3RoaXMucm91dGU6dD09PWdtP3RoaXMuY2hpbGRDb250ZXh0czp0aGlzLnBhcmVudC5nZXQodCxlKX19Y2xhc3MgQW17fWNsYXNzIFNte3ByZWxvYWQodCxlKXtyZXR1cm4gR2gobnVsbCl9fWxldCB4bT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuLHIscyl7dGhpcy5yb3V0ZXI9dCx0aGlzLmluamVjdG9yPXIsdGhpcy5wcmVsb2FkaW5nU3RyYXRlZ3k9cyx0aGlzLmxvYWRlcj1uZXcgcG0oZSxuLGU9PnQudHJpZ2dlckV2ZW50KG5ldyBuZihlKSksZT0+dC50cmlnZ2VyRXZlbnQobmV3IHJmKGUpKSl9c2V0VXBQcmVsb2FkaW5nKCl7dGhpcy5zdWJzY3JpcHRpb249dGhpcy5yb3V0ZXIuZXZlbnRzLnBpcGUoQ3AodD0+dCBpbnN0YW5jZW9mIFpwKSxrcCgoKT0+dGhpcy5wcmVsb2FkKCkpKS5zdWJzY3JpYmUoKCk9Pnt9KX1wcmVsb2FkKCl7Y29uc3QgdD10aGlzLmluamVjdG9yLmdldChZYSk7cmV0dXJuIHRoaXMucHJvY2Vzc1JvdXRlcyh0LHRoaXMucm91dGVyLmNvbmZpZyl9bmdPbkRlc3Ryb3koKXt0aGlzLnN1YnNjcmlwdGlvbiYmdGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX1wcm9jZXNzUm91dGVzKHQsZSl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgciBvZiBlKWlmKHIubG9hZENoaWxkcmVuJiYhci5jYW5Mb2FkJiZyLl9sb2FkZWRDb25maWcpe2NvbnN0IHQ9ci5fbG9hZGVkQ29uZmlnO24ucHVzaCh0aGlzLnByb2Nlc3NSb3V0ZXModC5tb2R1bGUsdC5yb3V0ZXMpKX1lbHNlIHIubG9hZENoaWxkcmVuJiYhci5jYW5Mb2FkP24ucHVzaCh0aGlzLnByZWxvYWRDb25maWcodCxyKSk6ci5jaGlsZHJlbiYmbi5wdXNoKHRoaXMucHJvY2Vzc1JvdXRlcyh0LHIuY2hpbGRyZW4pKTtyZXR1cm4gaihuKS5waXBlKCQoKSxTKHQ9Pnt9KSl9cHJlbG9hZENvbmZpZyh0LGUpe3JldHVybiB0aGlzLnByZWxvYWRpbmdTdHJhdGVneS5wcmVsb2FkKGUsKCk9PihlLl9sb2FkZWRDb25maWc/R2goZS5fbG9hZGVkQ29uZmlnKTp0aGlzLmxvYWRlci5sb2FkKHQuaW5qZWN0b3IsZSkpLnBpcGUoQih0PT4oZS5fbG9hZGVkQ29uZmlnPXQsdGhpcy5wcm9jZXNzUm91dGVzKHQubW9kdWxlLHQucm91dGVzKSkpKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKENtKSxvcihEdSksb3IoWGwpLG9yKFdpKSxvcihBbSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLGttPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG49e30pe3RoaXMucm91dGVyPXQsdGhpcy52aWV3cG9ydFNjcm9sbGVyPWUsdGhpcy5vcHRpb25zPW4sdGhpcy5sYXN0SWQ9MCx0aGlzLmxhc3RTb3VyY2U9ImltcGVyYXRpdmUiLHRoaXMucmVzdG9yZWRJZD0wLHRoaXMuc3RvcmU9e30sbi5zY3JvbGxQb3NpdGlvblJlc3RvcmF0aW9uPW4uc2Nyb2xsUG9zaXRpb25SZXN0b3JhdGlvbnx8ImRpc2FibGVkIixuLmFuY2hvclNjcm9sbGluZz1uLmFuY2hvclNjcm9sbGluZ3x8ImRpc2FibGVkIn1pbml0KCl7ImRpc2FibGVkIiE9PXRoaXMub3B0aW9ucy5zY3JvbGxQb3NpdGlvblJlc3RvcmF0aW9uJiZ0aGlzLnZpZXdwb3J0U2Nyb2xsZXIuc2V0SGlzdG9yeVNjcm9sbFJlc3RvcmF0aW9uKCJtYW51YWwiKSx0aGlzLnJvdXRlckV2ZW50c1N1YnNjcmlwdGlvbj10aGlzLmNyZWF0ZVNjcm9sbEV2ZW50cygpLHRoaXMuc2Nyb2xsRXZlbnRzU3Vic2NyaXB0aW9uPXRoaXMuY29uc3VtZVNjcm9sbEV2ZW50cygpfWNyZWF0ZVNjcm9sbEV2ZW50cygpe3JldHVybiB0aGlzLnJvdXRlci5ldmVudHMuc3Vic2NyaWJlKHQ9Pnt0IGluc3RhbmNlb2YgR3A/KHRoaXMuc3RvcmVbdGhpcy5sYXN0SWRdPXRoaXMudmlld3BvcnRTY3JvbGxlci5nZXRTY3JvbGxQb3NpdGlvbigpLHRoaXMubGFzdFNvdXJjZT10Lm5hdmlnYXRpb25UcmlnZ2VyLHRoaXMucmVzdG9yZWRJZD10LnJlc3RvcmVkU3RhdGU/dC5yZXN0b3JlZFN0YXRlLm5hdmlnYXRpb25JZDowKTp0IGluc3RhbmNlb2YgWnAmJih0aGlzLmxhc3RJZD10LmlkLHRoaXMuc2NoZWR1bGVTY3JvbGxFdmVudCh0LHRoaXMucm91dGVyLnBhcnNlVXJsKHQudXJsQWZ0ZXJSZWRpcmVjdHMpLmZyYWdtZW50KSl9KX1jb25zdW1lU2Nyb2xsRXZlbnRzKCl7cmV0dXJuIHRoaXMucm91dGVyLmV2ZW50cy5zdWJzY3JpYmUodD0+e3QgaW5zdGFuY2VvZiB1ZiYmKHQucG9zaXRpb24/InRvcCI9PT10aGlzLm9wdGlvbnMuc2Nyb2xsUG9zaXRpb25SZXN0b3JhdGlvbj90aGlzLnZpZXdwb3J0U2Nyb2xsZXIuc2Nyb2xsVG9Qb3NpdGlvbihbMCwwXSk6ImVuYWJsZWQiPT09dGhpcy5vcHRpb25zLnNjcm9sbFBvc2l0aW9uUmVzdG9yYXRpb24mJnRoaXMudmlld3BvcnRTY3JvbGxlci5zY3JvbGxUb1Bvc2l0aW9uKHQucG9zaXRpb24pOnQuYW5jaG9yJiYiZW5hYmxlZCI9PT10aGlzLm9wdGlvbnMuYW5jaG9yU2Nyb2xsaW5nP3RoaXMudmlld3BvcnRTY3JvbGxlci5zY3JvbGxUb0FuY2hvcih0LmFuY2hvcik6ImRpc2FibGVkIiE9PXRoaXMub3B0aW9ucy5zY3JvbGxQb3NpdGlvblJlc3RvcmF0aW9uJiZ0aGlzLnZpZXdwb3J0U2Nyb2xsZXIuc2Nyb2xsVG9Qb3NpdGlvbihbMCwwXSkpfSl9c2NoZWR1bGVTY3JvbGxFdmVudCh0LGUpe3RoaXMucm91dGVyLnRyaWdnZXJFdmVudChuZXcgdWYodCwicG9wc3RhdGUiPT09dGhpcy5sYXN0U291cmNlP3RoaXMuc3RvcmVbdGhpcy5yZXN0b3JlZElkXTpudWxsLGUpKX1uZ09uRGVzdHJveSgpe3RoaXMucm91dGVyRXZlbnRzU3Vic2NyaXB0aW9uJiZ0aGlzLnJvdXRlckV2ZW50c1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpLHRoaXMuc2Nyb2xsRXZlbnRzU3Vic2NyaXB0aW9uJiZ0aGlzLnNjcm9sbEV2ZW50c1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShvcihDbSksb3Ioc2gpLG9yKHZvaWQgMCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IFRtPW5ldyBIbigiUk9VVEVSX0NPTkZJR1VSQVRJT04iKSxGbT1uZXcgSG4oIlJPVVRFUl9GT1JST09UX0dVQVJEIiksT209W1p1LHtwcm92aWRlOk9mLHVzZUNsYXNzOlBmfSx7cHJvdmlkZTpDbSx1c2VGYWN0b3J5OmZ1bmN0aW9uKHQsZSxuLHIscyxpLG8sYT17fSxsLHUpe2NvbnN0IGM9bmV3IENtKG51bGwsdCxlLG4scixzLGkseWYobykpO3JldHVybiBsJiYoYy51cmxIYW5kbGluZ1N0cmF0ZWd5PWwpLHUmJihjLnJvdXRlUmV1c2VTdHJhdGVneT11KSxmdW5jdGlvbih0LGUpe3QuZXJyb3JIYW5kbGVyJiYoZS5lcnJvckhhbmRsZXI9dC5lcnJvckhhbmRsZXIpLHQubWFsZm9ybWVkVXJpRXJyb3JIYW5kbGVyJiYoZS5tYWxmb3JtZWRVcmlFcnJvckhhbmRsZXI9dC5tYWxmb3JtZWRVcmlFcnJvckhhbmRsZXIpLHQub25TYW1lVXJsTmF2aWdhdGlvbiYmKGUub25TYW1lVXJsTmF2aWdhdGlvbj10Lm9uU2FtZVVybE5hdmlnYXRpb24pLHQucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneSYmKGUucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneT10LnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3kpLHQucmVsYXRpdmVMaW5rUmVzb2x1dGlvbiYmKGUucmVsYXRpdmVMaW5rUmVzb2x1dGlvbj10LnJlbGF0aXZlTGlua1Jlc29sdXRpb24pLHQudXJsVXBkYXRlU3RyYXRlZ3kmJihlLnVybFVwZGF0ZVN0cmF0ZWd5PXQudXJsVXBkYXRlU3RyYXRlZ3kpfShhLGMpLGEuZW5hYmxlVHJhY2luZyYmYy5ldmVudHMuc3Vic2NyaWJlKHQ9Pnt2YXIgZSxuO251bGw9PT0oZT1jb25zb2xlLmdyb3VwKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKGNvbnNvbGUsYFJvdXRlciBFdmVudDogJHt0LmNvbnN0cnVjdG9yLm5hbWV9YCksY29uc29sZS5sb2codC50b1N0cmluZygpKSxjb25zb2xlLmxvZyh0KSxudWxsPT09KG49Y29uc29sZS5ncm91cEVuZCl8fHZvaWQgMD09PW58fG4uY2FsbChjb25zb2xlKX0pLGN9LGRlcHM6W09mLGdtLFp1LFdpLER1LFhsLGRtLFRtLFtjbGFzc3t9LG5ldyBjcl0sW2NsYXNze30sbmV3IGNyXV19LGdtLHtwcm92aWRlOnRnLHVzZUZhY3Rvcnk6ZnVuY3Rpb24odCl7cmV0dXJuIHQucm91dGVyU3RhdGUucm9vdH0sZGVwczpbQ21dfSx7cHJvdmlkZTpEdSx1c2VDbGFzczpTdX0seG0sU20sY2xhc3N7cHJlbG9hZCh0LGUpe3JldHVybiBlKCkucGlwZShBcCgoKT0+R2gobnVsbCkpKX19LHtwcm92aWRlOlRtLHVzZVZhbHVlOntlbmFibGVUcmFjaW5nOiExfX1dO2Z1bmN0aW9uIFBtKCl7cmV0dXJuIG5ldyBtdSgiUm91dGVyIixDbSl9bGV0IEltPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt9c3RhdGljIGZvclJvb3QoZSxuKXtyZXR1cm57bmdNb2R1bGU6dCxwcm92aWRlcnM6W09tLE5tKGUpLHtwcm92aWRlOkZtLHVzZUZhY3Rvcnk6am0sZGVwczpbW0NtLG5ldyBjcixuZXcgaHJdXX0se3Byb3ZpZGU6VG0sdXNlVmFsdWU6bnx8e319LHtwcm92aWRlOiR1LHVzZUZhY3Rvcnk6TW0sZGVwczpbUnUsW25ldyB1cihxdSksbmV3IGNyXSxUbV19LHtwcm92aWRlOmttLHVzZUZhY3Rvcnk6Um0sZGVwczpbQ20sc2gsVG1dfSx7cHJvdmlkZTpBbSx1c2VFeGlzdGluZzpuJiZuLnByZWxvYWRpbmdTdHJhdGVneT9uLnByZWxvYWRpbmdTdHJhdGVneTpTbX0se3Byb3ZpZGU6bXUsbXVsdGk6ITAsdXNlRmFjdG9yeTpQbX0sW1ZtLHtwcm92aWRlOlJsLG11bHRpOiEwLHVzZUZhY3Rvcnk6TG0sZGVwczpbVm1dfSx7cHJvdmlkZTpVbSx1c2VGYWN0b3J5OkJtLGRlcHM6W1ZtXX0se3Byb3ZpZGU6VWwsbXVsdGk6ITAsdXNlRXhpc3Rpbmc6VW19XV19fXN0YXRpYyBmb3JDaGlsZChlKXtyZXR1cm57bmdNb2R1bGU6dCxwcm92aWRlcnM6W05tKGUpXX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKEZtLDgpLG9yKENtLDgpKX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHt9KSx0fSkoKTtmdW5jdGlvbiBSbSh0LGUsbil7cmV0dXJuIG4uc2Nyb2xsT2Zmc2V0JiZlLnNldE9mZnNldChuLnNjcm9sbE9mZnNldCksbmV3IGttKHQsZSxuKX1mdW5jdGlvbiBNbSh0LGUsbj17fSl7cmV0dXJuIG4udXNlSGFzaD9uZXcgR3UodCxlKTpuZXcgV3UodCxlKX1mdW5jdGlvbiBqbSh0KXtyZXR1cm4iZ3VhcmRlZCJ9ZnVuY3Rpb24gTm0odCl7cmV0dXJuW3twcm92aWRlOiRuLG11bHRpOiEwLHVzZVZhbHVlOnR9LHtwcm92aWRlOmRtLG11bHRpOiEwLHVzZVZhbHVlOnR9XX1sZXQgVm09KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmluamVjdG9yPXQsdGhpcy5pbml0TmF2aWdhdGlvbj0hMSx0aGlzLnJlc3VsdE9mUHJlYWN0aXZhdGlvbkRvbmU9bmV3IER9YXBwSW5pdGlhbGl6ZXIoKXtyZXR1cm4gdGhpcy5pbmplY3Rvci5nZXQoanUsUHJvbWlzZS5yZXNvbHZlKG51bGwpKS50aGVuKCgpPT57bGV0IHQ9bnVsbDtjb25zdCBlPW5ldyBQcm9taXNlKGU9PnQ9ZSksbj10aGlzLmluamVjdG9yLmdldChDbSkscj10aGlzLmluamVjdG9yLmdldChUbSk7cmV0dXJuImRpc2FibGVkIj09PXIuaW5pdGlhbE5hdmlnYXRpb24/KG4uc2V0VXBMb2NhdGlvbkNoYW5nZUxpc3RlbmVyKCksdCghMCkpOiJlbmFibGVkIj09PXIuaW5pdGlhbE5hdmlnYXRpb258fCJlbmFibGVkQmxvY2tpbmciPT09ci5pbml0aWFsTmF2aWdhdGlvbj8obi5ob29rcy5hZnRlclByZWFjdGl2YXRpb249KCk9PnRoaXMuaW5pdE5hdmlnYXRpb24/R2gobnVsbCk6KHRoaXMuaW5pdE5hdmlnYXRpb249ITAsdCghMCksdGhpcy5yZXN1bHRPZlByZWFjdGl2YXRpb25Eb25lKSxuLmluaXRpYWxOYXZpZ2F0aW9uKCkpOnQoITApLGV9KX1ib290c3RyYXBMaXN0ZW5lcih0KXtjb25zdCBlPXRoaXMuaW5qZWN0b3IuZ2V0KFRtKSxuPXRoaXMuaW5qZWN0b3IuZ2V0KHhtKSxyPXRoaXMuaW5qZWN0b3IuZ2V0KGttKSxzPXRoaXMuaW5qZWN0b3IuZ2V0KENtKSxpPXRoaXMuaW5qZWN0b3IuZ2V0KF91KTt0PT09aS5jb21wb25lbnRzWzBdJiYoImVuYWJsZWROb25CbG9ja2luZyIhPT1lLmluaXRpYWxOYXZpZ2F0aW9uJiZ2b2lkIDAhPT1lLmluaXRpYWxOYXZpZ2F0aW9ufHxzLmluaXRpYWxOYXZpZ2F0aW9uKCksbi5zZXRVcFByZWxvYWRpbmcoKSxyLmluaXQoKSxzLnJlc2V0Um9vdENvbXBvbmVudFR5cGUoaS5jb21wb25lbnRUeXBlc1swXSksdGhpcy5yZXN1bHRPZlByZWFjdGl2YXRpb25Eb25lLm5leHQobnVsbCksdGhpcy5yZXN1bHRPZlByZWFjdGl2YXRpb25Eb25lLmNvbXBsZXRlKCkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShvcihXaSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2Z1bmN0aW9uIExtKHQpe3JldHVybiB0LmFwcEluaXRpYWxpemVyLmJpbmQodCl9ZnVuY3Rpb24gQm0odCl7cmV0dXJuIHQuYm9vdHN0cmFwTGlzdGVuZXIuYmluZCh0KX1jb25zdCBVbT1uZXcgSG4oIlJvdXRlciBJbml0aWFsaXplciIpO2NsYXNzIEhte31jbGFzcyAkbXt9Y2xhc3Mgem17Y29uc3RydWN0b3IodCl7dGhpcy5ub3JtYWxpemVkTmFtZXM9bmV3IE1hcCx0aGlzLmxhenlVcGRhdGU9bnVsbCx0P3RoaXMubGF6eUluaXQ9InN0cmluZyI9PXR5cGVvZiB0PygpPT57dGhpcy5oZWFkZXJzPW5ldyBNYXAsdC5zcGxpdCgiXG4iKS5mb3JFYWNoKHQ9Pntjb25zdCBlPXQuaW5kZXhPZigiOiIpO2lmKGU+MCl7Y29uc3Qgbj10LnNsaWNlKDAsZSkscj1uLnRvTG93ZXJDYXNlKCkscz10LnNsaWNlKGUrMSkudHJpbSgpO3RoaXMubWF5YmVTZXROb3JtYWxpemVkTmFtZShuLHIpLHRoaXMuaGVhZGVycy5oYXMocik/dGhpcy5oZWFkZXJzLmdldChyKS5wdXNoKHMpOnRoaXMuaGVhZGVycy5zZXQocixbc10pfX0pfTooKT0+e3RoaXMuaGVhZGVycz1uZXcgTWFwLE9iamVjdC5rZXlzKHQpLmZvckVhY2goZT0+e2xldCBuPXRbZV07Y29uc3Qgcj1lLnRvTG93ZXJDYXNlKCk7InN0cmluZyI9PXR5cGVvZiBuJiYobj1bbl0pLG4ubGVuZ3RoPjAmJih0aGlzLmhlYWRlcnMuc2V0KHIsbiksdGhpcy5tYXliZVNldE5vcm1hbGl6ZWROYW1lKGUscikpfSl9OnRoaXMuaGVhZGVycz1uZXcgTWFwfWhhcyh0KXtyZXR1cm4gdGhpcy5pbml0KCksdGhpcy5oZWFkZXJzLmhhcyh0LnRvTG93ZXJDYXNlKCkpfWdldCh0KXt0aGlzLmluaXQoKTtjb25zdCBlPXRoaXMuaGVhZGVycy5nZXQodC50b0xvd2VyQ2FzZSgpKTtyZXR1cm4gZSYmZS5sZW5ndGg+MD9lWzBdOm51bGx9a2V5cygpe3JldHVybiB0aGlzLmluaXQoKSxBcnJheS5mcm9tKHRoaXMubm9ybWFsaXplZE5hbWVzLnZhbHVlcygpKX1nZXRBbGwodCl7cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXMuaGVhZGVycy5nZXQodC50b0xvd2VyQ2FzZSgpKXx8bnVsbH1hcHBlbmQodCxlKXtyZXR1cm4gdGhpcy5jbG9uZSh7bmFtZTp0LHZhbHVlOmUsb3A6ImEifSl9c2V0KHQsZSl7cmV0dXJuIHRoaXMuY2xvbmUoe25hbWU6dCx2YWx1ZTplLG9wOiJzIn0pfWRlbGV0ZSh0LGUpe3JldHVybiB0aGlzLmNsb25lKHtuYW1lOnQsdmFsdWU6ZSxvcDoiZCJ9KX1tYXliZVNldE5vcm1hbGl6ZWROYW1lKHQsZSl7dGhpcy5ub3JtYWxpemVkTmFtZXMuaGFzKGUpfHx0aGlzLm5vcm1hbGl6ZWROYW1lcy5zZXQoZSx0KX1pbml0KCl7dGhpcy5sYXp5SW5pdCYmKHRoaXMubGF6eUluaXQgaW5zdGFuY2VvZiB6bT90aGlzLmNvcHlGcm9tKHRoaXMubGF6eUluaXQpOnRoaXMubGF6eUluaXQoKSx0aGlzLmxhenlJbml0PW51bGwsdGhpcy5sYXp5VXBkYXRlJiYodGhpcy5sYXp5VXBkYXRlLmZvckVhY2godD0+dGhpcy5hcHBseVVwZGF0ZSh0KSksdGhpcy5sYXp5VXBkYXRlPW51bGwpKX1jb3B5RnJvbSh0KXt0LmluaXQoKSxBcnJheS5mcm9tKHQuaGVhZGVycy5rZXlzKCkpLmZvckVhY2goZT0+e3RoaXMuaGVhZGVycy5zZXQoZSx0LmhlYWRlcnMuZ2V0KGUpKSx0aGlzLm5vcm1hbGl6ZWROYW1lcy5zZXQoZSx0Lm5vcm1hbGl6ZWROYW1lcy5nZXQoZSkpfSl9Y2xvbmUodCl7Y29uc3QgZT1uZXcgem07cmV0dXJuIGUubGF6eUluaXQ9dGhpcy5sYXp5SW5pdCYmdGhpcy5sYXp5SW5pdCBpbnN0YW5jZW9mIHptP3RoaXMubGF6eUluaXQ6dGhpcyxlLmxhenlVcGRhdGU9KHRoaXMubGF6eVVwZGF0ZXx8W10pLmNvbmNhdChbdF0pLGV9YXBwbHlVcGRhdGUodCl7Y29uc3QgZT10Lm5hbWUudG9Mb3dlckNhc2UoKTtzd2l0Y2godC5vcCl7Y2FzZSJhIjpjYXNlInMiOmxldCBuPXQudmFsdWU7aWYoInN0cmluZyI9PXR5cGVvZiBuJiYobj1bbl0pLDA9PT1uLmxlbmd0aClyZXR1cm47dGhpcy5tYXliZVNldE5vcm1hbGl6ZWROYW1lKHQubmFtZSxlKTtjb25zdCByPSgiYSI9PT10Lm9wP3RoaXMuaGVhZGVycy5nZXQoZSk6dm9pZCAwKXx8W107ci5wdXNoKC4uLm4pLHRoaXMuaGVhZGVycy5zZXQoZSxyKTticmVhaztjYXNlImQiOmNvbnN0IHM9dC52YWx1ZTtpZihzKXtsZXQgdD10aGlzLmhlYWRlcnMuZ2V0KGUpO2lmKCF0KXJldHVybjt0PXQuZmlsdGVyKHQ9Pi0xPT09cy5pbmRleE9mKHQpKSwwPT09dC5sZW5ndGg/KHRoaXMuaGVhZGVycy5kZWxldGUoZSksdGhpcy5ub3JtYWxpemVkTmFtZXMuZGVsZXRlKGUpKTp0aGlzLmhlYWRlcnMuc2V0KGUsdCl9ZWxzZSB0aGlzLmhlYWRlcnMuZGVsZXRlKGUpLHRoaXMubm9ybWFsaXplZE5hbWVzLmRlbGV0ZShlKX19Zm9yRWFjaCh0KXt0aGlzLmluaXQoKSxBcnJheS5mcm9tKHRoaXMubm9ybWFsaXplZE5hbWVzLmtleXMoKSkuZm9yRWFjaChlPT50KHRoaXMubm9ybWFsaXplZE5hbWVzLmdldChlKSx0aGlzLmhlYWRlcnMuZ2V0KGUpKSl9fWNsYXNzIHFte2VuY29kZUtleSh0KXtyZXR1cm4gV20odCl9ZW5jb2RlVmFsdWUodCl7cmV0dXJuIFdtKHQpfWRlY29kZUtleSh0KXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHQpfWRlY29kZVZhbHVlKHQpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQodCl9fWZ1bmN0aW9uIFdtKHQpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodCkucmVwbGFjZSgvJTQwL2dpLCJAIikucmVwbGFjZSgvJTNBL2dpLCI6IikucmVwbGFjZSgvJTI0L2dpLCIkIikucmVwbGFjZSgvJTJDL2dpLCIsIikucmVwbGFjZSgvJTNCL2dpLCI7IikucmVwbGFjZSgvJTJCL2dpLCIrIikucmVwbGFjZSgvJTNEL2dpLCI9IikucmVwbGFjZSgvJTNGL2dpLCI/IikucmVwbGFjZSgvJTJGL2dpLCIvIil9ZnVuY3Rpb24gR20odCl7cmV0dXJuYCR7dH1gfWNsYXNzIFpte2NvbnN0cnVjdG9yKHQ9e30pe2lmKHRoaXMudXBkYXRlcz1udWxsLHRoaXMuY2xvbmVGcm9tPW51bGwsdGhpcy5lbmNvZGVyPXQuZW5jb2Rlcnx8bmV3IHFtLHQuZnJvbVN0cmluZyl7aWYodC5mcm9tT2JqZWN0KXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHNwZWNpZnkgYm90aCBmcm9tU3RyaW5nIGFuZCBmcm9tT2JqZWN0LiIpO3RoaXMubWFwPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1uZXcgTWFwO3JldHVybiB0Lmxlbmd0aD4wJiZ0LnJlcGxhY2UoL15cPy8sIiIpLnNwbGl0KCImIikuZm9yRWFjaCh0PT57Y29uc3Qgcj10LmluZGV4T2YoIj0iKSxbcyxpXT0tMT09cj9bZS5kZWNvZGVLZXkodCksIiJdOltlLmRlY29kZUtleSh0LnNsaWNlKDAscikpLGUuZGVjb2RlVmFsdWUodC5zbGljZShyKzEpKV0sbz1uLmdldChzKXx8W107by5wdXNoKGkpLG4uc2V0KHMsbyl9KSxufSh0LmZyb21TdHJpbmcsdGhpcy5lbmNvZGVyKX1lbHNlIHQuZnJvbU9iamVjdD8odGhpcy5tYXA9bmV3IE1hcCxPYmplY3Qua2V5cyh0LmZyb21PYmplY3QpLmZvckVhY2goZT0+e2NvbnN0IG49dC5mcm9tT2JqZWN0W2VdO3RoaXMubWFwLnNldChlLEFycmF5LmlzQXJyYXkobik/bjpbbl0pfSkpOnRoaXMubWFwPW51bGx9aGFzKHQpe3JldHVybiB0aGlzLmluaXQoKSx0aGlzLm1hcC5oYXModCl9Z2V0KHQpe3RoaXMuaW5pdCgpO2NvbnN0IGU9dGhpcy5tYXAuZ2V0KHQpO3JldHVybiBlP2VbMF06bnVsbH1nZXRBbGwodCl7cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXMubWFwLmdldCh0KXx8bnVsbH1rZXlzKCl7cmV0dXJuIHRoaXMuaW5pdCgpLEFycmF5LmZyb20odGhpcy5tYXAua2V5cygpKX1hcHBlbmQodCxlKXtyZXR1cm4gdGhpcy5jbG9uZSh7cGFyYW06dCx2YWx1ZTplLG9wOiJhIn0pfWFwcGVuZEFsbCh0KXtjb25zdCBlPVtdO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKG49Pntjb25zdCByPXRbbl07QXJyYXkuaXNBcnJheShyKT9yLmZvckVhY2godD0+e2UucHVzaCh7cGFyYW06bix2YWx1ZTp0LG9wOiJhIn0pfSk6ZS5wdXNoKHtwYXJhbTpuLHZhbHVlOnIsb3A6ImEifSl9KSx0aGlzLmNsb25lKGUpfXNldCh0LGUpe3JldHVybiB0aGlzLmNsb25lKHtwYXJhbTp0LHZhbHVlOmUsb3A6InMifSl9ZGVsZXRlKHQsZSl7cmV0dXJuIHRoaXMuY2xvbmUoe3BhcmFtOnQsdmFsdWU6ZSxvcDoiZCJ9KX10b1N0cmluZygpe3JldHVybiB0aGlzLmluaXQoKSx0aGlzLmtleXMoKS5tYXAodD0+e2NvbnN0IGU9dGhpcy5lbmNvZGVyLmVuY29kZUtleSh0KTtyZXR1cm4gdGhpcy5tYXAuZ2V0KHQpLm1hcCh0PT5lKyI9Iit0aGlzLmVuY29kZXIuZW5jb2RlVmFsdWUodCkpLmpvaW4oIiYiKX0pLmZpbHRlcih0PT4iIiE9PXQpLmpvaW4oIiYiKX1jbG9uZSh0KXtjb25zdCBlPW5ldyBabSh7ZW5jb2Rlcjp0aGlzLmVuY29kZXJ9KTtyZXR1cm4gZS5jbG9uZUZyb209dGhpcy5jbG9uZUZyb218fHRoaXMsZS51cGRhdGVzPSh0aGlzLnVwZGF0ZXN8fFtdKS5jb25jYXQodCksZX1pbml0KCl7bnVsbD09PXRoaXMubWFwJiYodGhpcy5tYXA9bmV3IE1hcCksbnVsbCE9PXRoaXMuY2xvbmVGcm9tJiYodGhpcy5jbG9uZUZyb20uaW5pdCgpLHRoaXMuY2xvbmVGcm9tLmtleXMoKS5mb3JFYWNoKHQ9PnRoaXMubWFwLnNldCh0LHRoaXMuY2xvbmVGcm9tLm1hcC5nZXQodCkpKSx0aGlzLnVwZGF0ZXMuZm9yRWFjaCh0PT57c3dpdGNoKHQub3Ape2Nhc2UiYSI6Y2FzZSJzIjpjb25zdCBlPSgiYSI9PT10Lm9wP3RoaXMubWFwLmdldCh0LnBhcmFtKTp2b2lkIDApfHxbXTtlLnB1c2goR20odC52YWx1ZSkpLHRoaXMubWFwLnNldCh0LnBhcmFtLGUpO2JyZWFrO2Nhc2UiZCI6aWYodm9pZCAwPT09dC52YWx1ZSl7dGhpcy5tYXAuZGVsZXRlKHQucGFyYW0pO2JyZWFrfXtsZXQgZT10aGlzLm1hcC5nZXQodC5wYXJhbSl8fFtdO2NvbnN0IG49ZS5pbmRleE9mKEdtKHQudmFsdWUpKTstMSE9PW4mJmUuc3BsaWNlKG4sMSksZS5sZW5ndGg+MD90aGlzLm1hcC5zZXQodC5wYXJhbSxlKTp0aGlzLm1hcC5kZWxldGUodC5wYXJhbSl9fX0pLHRoaXMuY2xvbmVGcm9tPXRoaXMudXBkYXRlcz1udWxsKX19Y2xhc3MgS217Y29uc3RydWN0b3IoKXt0aGlzLm1hcD1uZXcgTWFwfXNldCh0LGUpe3JldHVybiB0aGlzLm1hcC5zZXQodCxlKSx0aGlzfWdldCh0KXtyZXR1cm4gdGhpcy5tYXAuaGFzKHQpfHx0aGlzLm1hcC5zZXQodCx0LmRlZmF1bHRWYWx1ZSgpKSx0aGlzLm1hcC5nZXQodCl9ZGVsZXRlKHQpe3JldHVybiB0aGlzLm1hcC5kZWxldGUodCksdGhpc31rZXlzKCl7cmV0dXJuIHRoaXMubWFwLmtleXMoKX19ZnVuY3Rpb24gWW0odCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfWZ1bmN0aW9uIFFtKHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQmxvYiYmdCBpbnN0YW5jZW9mIEJsb2J9ZnVuY3Rpb24gWG0odCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBGb3JtRGF0YSYmdCBpbnN0YW5jZW9mIEZvcm1EYXRhfWNsYXNzIEpte2NvbnN0cnVjdG9yKHQsZSxuLHIpe2xldCBzO2lmKHRoaXMudXJsPWUsdGhpcy5ib2R5PW51bGwsdGhpcy5yZXBvcnRQcm9ncmVzcz0hMSx0aGlzLndpdGhDcmVkZW50aWFscz0hMSx0aGlzLnJlc3BvbnNlVHlwZT0ianNvbiIsdGhpcy5tZXRob2Q9dC50b1VwcGVyQ2FzZSgpLGZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIkRFTEVURSI6Y2FzZSJHRVQiOmNhc2UiSEVBRCI6Y2FzZSJPUFRJT05TIjpjYXNlIkpTT05QIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiEwfX0odGhpcy5tZXRob2QpfHxyPyh0aGlzLmJvZHk9dm9pZCAwIT09bj9uOm51bGwscz1yKTpzPW4scyYmKHRoaXMucmVwb3J0UHJvZ3Jlc3M9ISFzLnJlcG9ydFByb2dyZXNzLHRoaXMud2l0aENyZWRlbnRpYWxzPSEhcy53aXRoQ3JlZGVudGlhbHMscy5yZXNwb25zZVR5cGUmJih0aGlzLnJlc3BvbnNlVHlwZT1zLnJlc3BvbnNlVHlwZSkscy5oZWFkZXJzJiYodGhpcy5oZWFkZXJzPXMuaGVhZGVycykscy5jb250ZXh0JiYodGhpcy5jb250ZXh0PXMuY29udGV4dCkscy5wYXJhbXMmJih0aGlzLnBhcmFtcz1zLnBhcmFtcykpLHRoaXMuaGVhZGVyc3x8KHRoaXMuaGVhZGVycz1uZXcgem0pLHRoaXMuY29udGV4dHx8KHRoaXMuY29udGV4dD1uZXcgS20pLHRoaXMucGFyYW1zKXtjb25zdCB0PXRoaXMucGFyYW1zLnRvU3RyaW5nKCk7aWYoMD09PXQubGVuZ3RoKXRoaXMudXJsV2l0aFBhcmFtcz1lO2Vsc2V7Y29uc3Qgbj1lLmluZGV4T2YoIj8iKTt0aGlzLnVybFdpdGhQYXJhbXM9ZSsoLTE9PT1uPyI/IjpuPGUubGVuZ3RoLTE/IiYiOiIiKSt0fX1lbHNlIHRoaXMucGFyYW1zPW5ldyBabSx0aGlzLnVybFdpdGhQYXJhbXM9ZX1zZXJpYWxpemVCb2R5KCl7cmV0dXJuIG51bGw9PT10aGlzLmJvZHk/bnVsbDpZbSh0aGlzLmJvZHkpfHxRbSh0aGlzLmJvZHkpfHxYbSh0aGlzLmJvZHkpfHwic3RyaW5nIj09dHlwZW9mIHRoaXMuYm9keT90aGlzLmJvZHk6dGhpcy5ib2R5IGluc3RhbmNlb2YgWm0/dGhpcy5ib2R5LnRvU3RyaW5nKCk6Im9iamVjdCI9PXR5cGVvZiB0aGlzLmJvZHl8fCJib29sZWFuIj09dHlwZW9mIHRoaXMuYm9keXx8QXJyYXkuaXNBcnJheSh0aGlzLmJvZHkpP0pTT04uc3RyaW5naWZ5KHRoaXMuYm9keSk6dGhpcy5ib2R5LnRvU3RyaW5nKCl9ZGV0ZWN0Q29udGVudFR5cGVIZWFkZXIoKXtyZXR1cm4gbnVsbD09PXRoaXMuYm9keXx8WG0odGhpcy5ib2R5KT9udWxsOlFtKHRoaXMuYm9keSk/dGhpcy5ib2R5LnR5cGV8fG51bGw6WW0odGhpcy5ib2R5KT9udWxsOiJzdHJpbmciPT10eXBlb2YgdGhpcy5ib2R5PyJ0ZXh0L3BsYWluIjp0aGlzLmJvZHkgaW5zdGFuY2VvZiBabT8iYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgiOiJvYmplY3QiPT10eXBlb2YgdGhpcy5ib2R5fHwibnVtYmVyIj09dHlwZW9mIHRoaXMuYm9keXx8ImJvb2xlYW4iPT10eXBlb2YgdGhpcy5ib2R5PyJhcHBsaWNhdGlvbi9qc29uIjpudWxsfWNsb25lKHQ9e30pe3ZhciBlO2NvbnN0IG49dC5tZXRob2R8fHRoaXMubWV0aG9kLHI9dC51cmx8fHRoaXMudXJsLHM9dC5yZXNwb25zZVR5cGV8fHRoaXMucmVzcG9uc2VUeXBlLGk9dm9pZCAwIT09dC5ib2R5P3QuYm9keTp0aGlzLmJvZHksbz12b2lkIDAhPT10LndpdGhDcmVkZW50aWFscz90LndpdGhDcmVkZW50aWFsczp0aGlzLndpdGhDcmVkZW50aWFscyxhPXZvaWQgMCE9PXQucmVwb3J0UHJvZ3Jlc3M/dC5yZXBvcnRQcm9ncmVzczp0aGlzLnJlcG9ydFByb2dyZXNzO2xldCBsPXQuaGVhZGVyc3x8dGhpcy5oZWFkZXJzLHU9dC5wYXJhbXN8fHRoaXMucGFyYW1zO2NvbnN0IGM9bnVsbCE9PShlPXQuY29udGV4dCkmJnZvaWQgMCE9PWU/ZTp0aGlzLmNvbnRleHQ7cmV0dXJuIHZvaWQgMCE9PXQuc2V0SGVhZGVycyYmKGw9T2JqZWN0LmtleXModC5zZXRIZWFkZXJzKS5yZWR1Y2UoKGUsbik9PmUuc2V0KG4sdC5zZXRIZWFkZXJzW25dKSxsKSksdC5zZXRQYXJhbXMmJih1PU9iamVjdC5rZXlzKHQuc2V0UGFyYW1zKS5yZWR1Y2UoKGUsbik9PmUuc2V0KG4sdC5zZXRQYXJhbXNbbl0pLHUpKSxuZXcgSm0obixyLGkse3BhcmFtczp1LGhlYWRlcnM6bCxjb250ZXh0OmMscmVwb3J0UHJvZ3Jlc3M6YSxyZXNwb25zZVR5cGU6cyx3aXRoQ3JlZGVudGlhbHM6b30pfX12YXIgdHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5TZW50PTBdPSJTZW50Iix0W3QuVXBsb2FkUHJvZ3Jlc3M9MV09IlVwbG9hZFByb2dyZXNzIix0W3QuUmVzcG9uc2VIZWFkZXI9Ml09IlJlc3BvbnNlSGVhZGVyIix0W3QuRG93bmxvYWRQcm9ncmVzcz0zXT0iRG93bmxvYWRQcm9ncmVzcyIsdFt0LlJlc3BvbnNlPTRdPSJSZXNwb25zZSIsdFt0LlVzZXI9NV09IlVzZXIiLHR9KHt9KTtjbGFzcyBleXtjb25zdHJ1Y3Rvcih0LGU9MjAwLG49Ik9LIil7dGhpcy5oZWFkZXJzPXQuaGVhZGVyc3x8bmV3IHptLHRoaXMuc3RhdHVzPXZvaWQgMCE9PXQuc3RhdHVzP3Quc3RhdHVzOmUsdGhpcy5zdGF0dXNUZXh0PXQuc3RhdHVzVGV4dHx8bix0aGlzLnVybD10LnVybHx8bnVsbCx0aGlzLm9rPXRoaXMuc3RhdHVzPj0yMDAmJnRoaXMuc3RhdHVzPDMwMH19Y2xhc3MgbnkgZXh0ZW5kcyBleXtjb25zdHJ1Y3Rvcih0PXt9KXtzdXBlcih0KSx0aGlzLnR5cGU9dHkuUmVzcG9uc2VIZWFkZXJ9Y2xvbmUodD17fSl7cmV0dXJuIG5ldyBueSh7aGVhZGVyczp0LmhlYWRlcnN8fHRoaXMuaGVhZGVycyxzdGF0dXM6dm9pZCAwIT09dC5zdGF0dXM/dC5zdGF0dXM6dGhpcy5zdGF0dXMsc3RhdHVzVGV4dDp0LnN0YXR1c1RleHR8fHRoaXMuc3RhdHVzVGV4dCx1cmw6dC51cmx8fHRoaXMudXJsfHx2b2lkIDB9KX19Y2xhc3MgcnkgZXh0ZW5kcyBleXtjb25zdHJ1Y3Rvcih0PXt9KXtzdXBlcih0KSx0aGlzLnR5cGU9dHkuUmVzcG9uc2UsdGhpcy5ib2R5PXZvaWQgMCE9PXQuYm9keT90LmJvZHk6bnVsbH1jbG9uZSh0PXt9KXtyZXR1cm4gbmV3IHJ5KHtib2R5OnZvaWQgMCE9PXQuYm9keT90LmJvZHk6dGhpcy5ib2R5LGhlYWRlcnM6dC5oZWFkZXJzfHx0aGlzLmhlYWRlcnMsc3RhdHVzOnZvaWQgMCE9PXQuc3RhdHVzP3Quc3RhdHVzOnRoaXMuc3RhdHVzLHN0YXR1c1RleHQ6dC5zdGF0dXNUZXh0fHx0aGlzLnN0YXR1c1RleHQsdXJsOnQudXJsfHx0aGlzLnVybHx8dm9pZCAwfSl9fWNsYXNzIHN5IGV4dGVuZHMgZXl7Y29uc3RydWN0b3IodCl7c3VwZXIodCwwLCJVbmtub3duIEVycm9yIiksdGhpcy5uYW1lPSJIdHRwRXJyb3JSZXNwb25zZSIsdGhpcy5vaz0hMSx0aGlzLm1lc3NhZ2U9dGhpcy5zdGF0dXM+PTIwMCYmdGhpcy5zdGF0dXM8MzAwP2BIdHRwIGZhaWx1cmUgZHVyaW5nIHBhcnNpbmcgZm9yICR7dC51cmx8fCIodW5rbm93biB1cmwpIn1gOmBIdHRwIGZhaWx1cmUgcmVzcG9uc2UgZm9yICR7dC51cmx8fCIodW5rbm93biB1cmwpIn06ICR7dC5zdGF0dXN9ICR7dC5zdGF0dXNUZXh0fWAsdGhpcy5lcnJvcj10LmVycm9yfHxudWxsfX1mdW5jdGlvbiBpeSh0LGUpe3JldHVybntib2R5OmUsaGVhZGVyczp0LmhlYWRlcnMsY29udGV4dDp0LmNvbnRleHQsb2JzZXJ2ZTp0Lm9ic2VydmUscGFyYW1zOnQucGFyYW1zLHJlcG9ydFByb2dyZXNzOnQucmVwb3J0UHJvZ3Jlc3MscmVzcG9uc2VUeXBlOnQucmVzcG9uc2VUeXBlLHdpdGhDcmVkZW50aWFsczp0LndpdGhDcmVkZW50aWFsc319bGV0IG95PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5oYW5kbGVyPXR9cmVxdWVzdCh0LGUsbj17fSl7bGV0IHI7aWYodCBpbnN0YW5jZW9mIEptKXI9dDtlbHNle2xldCBzLGk7cz1uLmhlYWRlcnMgaW5zdGFuY2VvZiB6bT9uLmhlYWRlcnM6bmV3IHptKG4uaGVhZGVycyksbi5wYXJhbXMmJihpPW4ucGFyYW1zIGluc3RhbmNlb2YgWm0/bi5wYXJhbXM6bmV3IFptKHtmcm9tT2JqZWN0Om4ucGFyYW1zfSkpLHI9bmV3IEptKHQsZSx2b2lkIDAhPT1uLmJvZHk/bi5ib2R5Om51bGwse2hlYWRlcnM6cyxjb250ZXh0Om4uY29udGV4dCxwYXJhbXM6aSxyZXBvcnRQcm9ncmVzczpuLnJlcG9ydFByb2dyZXNzLHJlc3BvbnNlVHlwZTpuLnJlc3BvbnNlVHlwZXx8Impzb24iLHdpdGhDcmVkZW50aWFsczpuLndpdGhDcmVkZW50aWFsc30pfWNvbnN0IHM9R2gocikucGlwZShrcCh0PT50aGlzLmhhbmRsZXIuaGFuZGxlKHQpKSk7aWYodCBpbnN0YW5jZW9mIEptfHwiZXZlbnRzIj09PW4ub2JzZXJ2ZSlyZXR1cm4gcztjb25zdCBpPXMucGlwZShDcCh0PT50IGluc3RhbmNlb2YgcnkpKTtzd2l0Y2gobi5vYnNlcnZlfHwiYm9keSIpe2Nhc2UiYm9keSI6c3dpdGNoKHIucmVzcG9uc2VUeXBlKXtjYXNlImFycmF5YnVmZmVyIjpyZXR1cm4gaS5waXBlKFModD0+e2lmKG51bGwhPT10LmJvZHkmJiEodC5ib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKXRocm93IG5ldyBFcnJvcigiUmVzcG9uc2UgaXMgbm90IGFuIEFycmF5QnVmZmVyLiIpO3JldHVybiB0LmJvZHl9KSk7Y2FzZSJibG9iIjpyZXR1cm4gaS5waXBlKFModD0+e2lmKG51bGwhPT10LmJvZHkmJiEodC5ib2R5IGluc3RhbmNlb2YgQmxvYikpdGhyb3cgbmV3IEVycm9yKCJSZXNwb25zZSBpcyBub3QgYSBCbG9iLiIpO3JldHVybiB0LmJvZHl9KSk7Y2FzZSJ0ZXh0IjpyZXR1cm4gaS5waXBlKFModD0+e2lmKG51bGwhPT10LmJvZHkmJiJzdHJpbmciIT10eXBlb2YgdC5ib2R5KXRocm93IG5ldyBFcnJvcigiUmVzcG9uc2UgaXMgbm90IGEgc3RyaW5nLiIpO3JldHVybiB0LmJvZHl9KSk7Y2FzZSJqc29uIjpkZWZhdWx0OnJldHVybiBpLnBpcGUoUyh0PT50LmJvZHkpKX1jYXNlInJlc3BvbnNlIjpyZXR1cm4gaTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5yZWFjaGFibGU6IHVuaGFuZGxlZCBvYnNlcnZlIHR5cGUgJHtuLm9ic2VydmV9fWApfX1kZWxldGUodCxlPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJERUxFVEUiLHQsZSl9Z2V0KHQsZT17fSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiR0VUIix0LGUpfWhlYWQodCxlPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJIRUFEIix0LGUpfWpzb25wKHQsZSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiSlNPTlAiLHQse3BhcmFtczoobmV3IFptKS5hcHBlbmQoZSwiSlNPTlBfQ0FMTEJBQ0siKSxvYnNlcnZlOiJib2R5IixyZXNwb25zZVR5cGU6Impzb24ifSl9b3B0aW9ucyh0LGU9e30pe3JldHVybiB0aGlzLnJlcXVlc3QoIk9QVElPTlMiLHQsZSl9cGF0Y2godCxlLG49e30pe3JldHVybiB0aGlzLnJlcXVlc3QoIlBBVENIIix0LGl5KG4sZSkpfXBvc3QodCxlLG49e30pe3JldHVybiB0aGlzLnJlcXVlc3QoIlBPU1QiLHQsaXkobixlKSl9cHV0KHQsZSxuPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJQVVQiLHQsaXkobixlKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKEhtKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y2xhc3MgYXl7Y29uc3RydWN0b3IodCxlKXt0aGlzLm5leHQ9dCx0aGlzLmludGVyY2VwdG9yPWV9aGFuZGxlKHQpe3JldHVybiB0aGlzLmludGVyY2VwdG9yLmludGVyY2VwdCh0LHRoaXMubmV4dCl9fWNvbnN0IGx5PW5ldyBIbigiSFRUUF9JTlRFUkNFUFRPUlMiKTtsZXQgdXk9KCgpPT57Y2xhc3MgdHtpbnRlcmNlcHQodCxlKXtyZXR1cm4gZS5oYW5kbGUodCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IGN5PS9eXClcXVx9Jyw/XG4vO2xldCBoeT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMueGhyRmFjdG9yeT10fWhhbmRsZSh0KXtpZigiSlNPTlAiPT09dC5tZXRob2QpdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gY29uc3RydWN0IEpzb25wIHJlcXVlc3Qgd2l0aG91dCBIdHRwQ2xpZW50SnNvbnBNb2R1bGUgaW5zdGFsbGVkLiIpO3JldHVybiBuZXcgdihlPT57Y29uc3Qgbj10aGlzLnhockZhY3RvcnkuYnVpbGQoKTtpZihuLm9wZW4odC5tZXRob2QsdC51cmxXaXRoUGFyYW1zKSx0LndpdGhDcmVkZW50aWFscyYmKG4ud2l0aENyZWRlbnRpYWxzPSEwKSx0LmhlYWRlcnMuZm9yRWFjaCgodCxlKT0+bi5zZXRSZXF1ZXN0SGVhZGVyKHQsZS5qb2luKCIsIikpKSx0LmhlYWRlcnMuaGFzKCJBY2NlcHQiKXx8bi5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyoiKSwhdC5oZWFkZXJzLmhhcygiQ29udGVudC1UeXBlIikpe2NvbnN0IGU9dC5kZXRlY3RDb250ZW50VHlwZUhlYWRlcigpO251bGwhPT1lJiZuLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsZSl9aWYodC5yZXNwb25zZVR5cGUpe2NvbnN0IGU9dC5yZXNwb25zZVR5cGUudG9Mb3dlckNhc2UoKTtuLnJlc3BvbnNlVHlwZT0ianNvbiIhPT1lP2U6InRleHQifWNvbnN0IHI9dC5zZXJpYWxpemVCb2R5KCk7bGV0IHM9bnVsbDtjb25zdCBpPSgpPT57aWYobnVsbCE9PXMpcmV0dXJuIHM7Y29uc3QgZT0xMjIzPT09bi5zdGF0dXM/MjA0Om4uc3RhdHVzLHI9bi5zdGF0dXNUZXh0fHwiT0siLGk9bmV3IHptKG4uZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpLG89ZnVuY3Rpb24odCl7cmV0dXJuInJlc3BvbnNlVVJMImluIHQmJnQucmVzcG9uc2VVUkw/dC5yZXNwb25zZVVSTDovXlgtUmVxdWVzdC1VUkw6L20udGVzdCh0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpKT90LmdldFJlc3BvbnNlSGVhZGVyKCJYLVJlcXVlc3QtVVJMIik6bnVsbH0obil8fHQudXJsO3JldHVybiBzPW5ldyBueSh7aGVhZGVyczppLHN0YXR1czplLHN0YXR1c1RleHQ6cix1cmw6b30pLHN9LG89KCk9PntsZXR7aGVhZGVyczpyLHN0YXR1czpzLHN0YXR1c1RleHQ6byx1cmw6YX09aSgpLGw9bnVsbDsyMDQhPT1zJiYobD12b2lkIDA9PT1uLnJlc3BvbnNlP24ucmVzcG9uc2VUZXh0Om4ucmVzcG9uc2UpLDA9PT1zJiYocz1sPzIwMDowKTtsZXQgdT1zPj0yMDAmJnM8MzAwO2lmKCJqc29uIj09PXQucmVzcG9uc2VUeXBlJiYic3RyaW5nIj09dHlwZW9mIGwpe2NvbnN0IHQ9bDtsPWwucmVwbGFjZShjeSwiIik7dHJ5e2w9IiIhPT1sP0pTT04ucGFyc2UobCk6bnVsbH1jYXRjaChjKXtsPXQsdSYmKHU9ITEsbD17ZXJyb3I6Yyx0ZXh0Omx9KX19dT8oZS5uZXh0KG5ldyByeSh7Ym9keTpsLGhlYWRlcnM6cixzdGF0dXM6cyxzdGF0dXNUZXh0Om8sdXJsOmF8fHZvaWQgMH0pKSxlLmNvbXBsZXRlKCkpOmUuZXJyb3IobmV3IHN5KHtlcnJvcjpsLGhlYWRlcnM6cixzdGF0dXM6cyxzdGF0dXNUZXh0Om8sdXJsOmF8fHZvaWQgMH0pKX0sYT10PT57Y29uc3R7dXJsOnJ9PWkoKSxzPW5ldyBzeSh7ZXJyb3I6dCxzdGF0dXM6bi5zdGF0dXN8fDAsc3RhdHVzVGV4dDpuLnN0YXR1c1RleHR8fCJVbmtub3duIEVycm9yIix1cmw6cnx8dm9pZCAwfSk7ZS5lcnJvcihzKX07bGV0IGw9ITE7Y29uc3QgdT1yPT57bHx8KGUubmV4dChpKCkpLGw9ITApO2xldCBzPXt0eXBlOnR5LkRvd25sb2FkUHJvZ3Jlc3MsbG9hZGVkOnIubG9hZGVkfTtyLmxlbmd0aENvbXB1dGFibGUmJihzLnRvdGFsPXIudG90YWwpLCJ0ZXh0Ij09PXQucmVzcG9uc2VUeXBlJiZuLnJlc3BvbnNlVGV4dCYmKHMucGFydGlhbFRleHQ9bi5yZXNwb25zZVRleHQpLGUubmV4dChzKX0sYz10PT57bGV0IG49e3R5cGU6dHkuVXBsb2FkUHJvZ3Jlc3MsbG9hZGVkOnQubG9hZGVkfTt0Lmxlbmd0aENvbXB1dGFibGUmJihuLnRvdGFsPXQudG90YWwpLGUubmV4dChuKX07cmV0dXJuIG4uYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsbyksbi5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsYSksbi5hZGRFdmVudExpc3RlbmVyKCJ0aW1lb3V0IixhKSxuLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IixhKSx0LnJlcG9ydFByb2dyZXNzJiYobi5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsdSksbnVsbCE9PXImJm4udXBsb2FkJiZuLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsYykpLG4uc2VuZChyKSxlLm5leHQoe3R5cGU6dHkuU2VudH0pLCgpPT57bi5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsYSksbi5yZW1vdmVFdmVudExpc3RlbmVyKCJhYm9ydCIsYSksbi5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixvKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRpbWVvdXQiLGEpLHQucmVwb3J0UHJvZ3Jlc3MmJihuLnJlbW92ZUV2ZW50TGlzdGVuZXIoInByb2dyZXNzIix1KSxudWxsIT09ciYmbi51cGxvYWQmJm4udXBsb2FkLnJlbW92ZUV2ZW50TGlzdGVuZXIoInByb2dyZXNzIixjKSksbi5yZWFkeVN0YXRlIT09bi5ET05FJiZuLmFib3J0KCl9fSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKGFoKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y29uc3QgZHk9bmV3IEhuKCJYU1JGX0NPT0tJRV9OQU1FIikscHk9bmV3IEhuKCJYU1JGX0hFQURFUl9OQU1FIik7Y2xhc3MgZnl7fWxldCBneT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLmRvYz10LHRoaXMucGxhdGZvcm09ZSx0aGlzLmNvb2tpZU5hbWU9bix0aGlzLmxhc3RDb29raWVTdHJpbmc9IiIsdGhpcy5sYXN0VG9rZW49bnVsbCx0aGlzLnBhcnNlQ291bnQ9MH1nZXRUb2tlbigpe2lmKCJzZXJ2ZXIiPT09dGhpcy5wbGF0Zm9ybSlyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuZG9jLmNvb2tpZXx8IiI7cmV0dXJuIHQhPT10aGlzLmxhc3RDb29raWVTdHJpbmcmJih0aGlzLnBhcnNlQ291bnQrKyx0aGlzLmxhc3RUb2tlbj1CYyh0LHRoaXMuY29va2llTmFtZSksdGhpcy5sYXN0Q29va2llU3RyaW5nPXQpLHRoaXMubGFzdFRva2VufX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShvcihJdSksb3IoQmwpLG9yKGR5KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksbXk9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudG9rZW5TZXJ2aWNlPXQsdGhpcy5oZWFkZXJOYW1lPWV9aW50ZXJjZXB0KHQsZSl7Y29uc3Qgbj10LnVybC50b0xvd2VyQ2FzZSgpO2lmKCJHRVQiPT09dC5tZXRob2R8fCJIRUFEIj09PXQubWV0aG9kfHxuLnN0YXJ0c1dpdGgoImh0dHA6Ly8iKXx8bi5zdGFydHNXaXRoKCJodHRwczovLyIpKXJldHVybiBlLmhhbmRsZSh0KTtjb25zdCByPXRoaXMudG9rZW5TZXJ2aWNlLmdldFRva2VuKCk7cmV0dXJuIG51bGw9PT1yfHx0LmhlYWRlcnMuaGFzKHRoaXMuaGVhZGVyTmFtZSl8fCh0PXQuY2xvbmUoe2hlYWRlcnM6dC5oZWFkZXJzLnNldCh0aGlzLmhlYWRlck5hbWUscil9KSksZS5oYW5kbGUodCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKGZ5KSxvcihweSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLHl5PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLmJhY2tlbmQ9dCx0aGlzLmluamVjdG9yPWUsdGhpcy5jaGFpbj1udWxsfWhhbmRsZSh0KXtpZihudWxsPT09dGhpcy5jaGFpbil7Y29uc3QgdD10aGlzLmluamVjdG9yLmdldChseSxbXSk7dGhpcy5jaGFpbj10LnJlZHVjZVJpZ2h0KCh0LGUpPT5uZXcgYXkodCxlKSx0aGlzLmJhY2tlbmQpfXJldHVybiB0aGlzLmNoYWluLmhhbmRsZSh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkob3IoJG0pLG9yKFdpKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksdnk9KCgpPT57Y2xhc3MgdHtzdGF0aWMgZGlzYWJsZSgpe3JldHVybntuZ01vZHVsZTp0LHByb3ZpZGVyczpbe3Byb3ZpZGU6bXksdXNlQ2xhc3M6dXl9XX19c3RhdGljIHdpdGhPcHRpb25zKGU9e30pe3JldHVybntuZ01vZHVsZTp0LHByb3ZpZGVyczpbZS5jb29raWVOYW1lP3twcm92aWRlOmR5LHVzZVZhbHVlOmUuY29va2llTmFtZX06W10sZS5oZWFkZXJOYW1lP3twcm92aWRlOnB5LHVzZVZhbHVlOmUuaGVhZGVyTmFtZX06W11dfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltteSx7cHJvdmlkZTpseSx1c2VFeGlzdGluZzpteSxtdWx0aTohMH0se3Byb3ZpZGU6ZnksdXNlQ2xhc3M6Z3l9LHtwcm92aWRlOmR5LHVzZVZhbHVlOiJYU1JGLVRPS0VOIn0se3Byb3ZpZGU6cHksdXNlVmFsdWU6IlgtWFNSRi1UT0tFTiJ9XX0pLHR9KSgpLGJ5PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbb3kse3Byb3ZpZGU6SG0sdXNlQ2xhc3M6eXl9LGh5LHtwcm92aWRlOiRtLHVzZUV4aXN0aW5nOmh5fV0saW1wb3J0czpbW3Z5LndpdGhPcHRpb25zKHtjb29raWVOYW1lOiJYU1JGLVRPS0VOIixoZWFkZXJOYW1lOiJYLVhTUkYtVE9LRU4ifSldXX0pLHR9KSgpO2Z1bmN0aW9uIHd5KHQsZSxuLHIpe3ZhciBzLGk9YXJndW1lbnRzLmxlbmd0aCxvPWk8Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoIm9iamVjdCI9PXR5cGVvZiBSZWZsZWN0JiYiZnVuY3Rpb24iPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlvPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4scik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkocz10W2FdKSYmKG89KGk8Mz9zKG8pOmk+Mz9zKGUsbixvKTpzKGUsbikpfHxvKTtyZXR1cm4gaT4zJiZvJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLG8pLG99Y2xhc3MgX3l7Y29uc3RydWN0b3IodCxlKXt0aGlzLnByZWRpY2F0ZT10LHRoaXMuaW5jbHVzaXZlPWV9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgQ3kodCx0aGlzLnByZWRpY2F0ZSx0aGlzLmluY2x1c2l2ZSkpfX1jbGFzcyBDeSBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQpLHRoaXMucHJlZGljYXRlPWUsdGhpcy5pbmNsdXNpdmU9bix0aGlzLmluZGV4PTB9X25leHQodCl7Y29uc3QgZT10aGlzLmRlc3RpbmF0aW9uO2xldCBuO3RyeXtuPXRoaXMucHJlZGljYXRlKHQsdGhpcy5pbmRleCsrKX1jYXRjaChyKXtyZXR1cm4gdm9pZCBlLmVycm9yKHIpfXRoaXMubmV4dE9yQ29tcGxldGUodCxuKX1uZXh0T3JDb21wbGV0ZSh0LGUpe2NvbnN0IG49dGhpcy5kZXN0aW5hdGlvbjtCb29sZWFuKGUpP24ubmV4dCh0KToodGhpcy5pbmNsdXNpdmUmJm4ubmV4dCh0KSxuLmNvbXBsZXRlKCkpfX1mdW5jdGlvbiBEeSh0LGUpezEmdCYmRW8oMCl9Y29uc3QgRXk9WyIqIl07ZnVuY3Rpb24gQXkodCxlKXsxJnQmJmZvKDApfWZ1bmN0aW9uIFN5KHQsZSl7aWYoMSZ0KXtjb25zdCB0PWdvKCk7Y28oMCwic2VjdGlvbiIsMiksY28oMSwicG8tYWNjb3JkaW9uLWl0ZW0taGVhZGVyIiwzKSx2bygicC10b2dnbGUiLGZ1bmN0aW9uKGUpe2NvbnN0IG49T2UodCkuJGltcGxpY2l0O3JldHVybiBfbygpLmhlYWRlclRvZ2dsZShlLG4pfSksaG8oKSxjbygyLCJwby1hY2NvcmRpb24taXRlbS1ib2R5Iiw0KSxvbygzLEF5LDEsMCwibmctY29udGFpbmVyIiw1KSxobygpLGhvKCl9aWYoMiZ0KXtjb25zdCB0PWUuJGltcGxpY2l0O09vKCJwby1hY2NvcmRpb24taXRlbS1hY3RpdmUiLHQuZXhwYW5kZWQpLE5zKDEpLGxvKCJwLWV4cGFuZGVkIix0LmV4cGFuZGVkKSgicC1sYWJlbCIsdC5sYWJlbCksTnMoMSksbG8oInAtZXhwYW5kZWQiLHQuZXhwYW5kZWQpLE5zKDEpLGxvKCJuZ1RlbXBsYXRlT3V0bGV0Iix0LnRlbXBsYXRlUmVmKX19ZnVuY3Rpb24geHkodCxlKXsxJnQmJihjbygwLCJkaXYiLDEpLGNvKDEsImRpdiIsMiksRW8oMiksaG8oKSxobygpKSwyJnQmJmxvKCJAdG9nZ2xlQm9keSIsdm9pZCAwKX1mdW5jdGlvbiBreSh0LGUpezEmdCYmZm8oMCl9ZnVuY3Rpb24gVHkodCxlKXsxJnQmJnBvKDAsImkiLDIpLDImdCYmSW8oWW4sUG8sX28oKS5jbGFzcywhMCl9ZnVuY3Rpb24gRnkodCxlKXtpZigxJnQmJihjbygwLCJzcGFuIiwyKSxIbygxKSxobygpKSwyJnQpe2NvbnN0IHQ9X28oKTtOcygxKSwkbyh0LnRleHQpfX1jb25zdCBPeT1bImJ1dHRvbiJdO2Z1bmN0aW9uIFB5KHQsZSl7MSZ0JiYoY28oMCwiZGl2Iiw1KSxwbygxLCJwby1sb2FkaW5nLWljb24iLDYpLGhvKCkpfWZ1bmN0aW9uIEl5KHQsZSl7MSZ0JiZwbygwLCJwby1pY29uIiw3KSwyJnQmJmxvKCJwLWljb24iLF9vKCkuaWNvbil9ZnVuY3Rpb24gUnkodCxlKXtpZigxJnQmJihjbygwLCJzcGFuIiw4KSxIbygxKSxobygpKSwyJnQpe2NvbnN0IHQ9X28oKTtOcygxKSwkbyh0LmxhYmVsKX19ZnVuY3Rpb24gTXkodCxlKXtpZigxJnQmJihjbygwLCJzcGFuIiwyKSxwbygxLCJzcGFuIiwzKSxIbygyKSxobygpKSwyJnQpe2NvbnN0IHQ9X28oKTtOcygyKSx6bygiICIsdC5lcnJvclBhdHRlcm4sIiAiKX19ZnVuY3Rpb24gankodCxlKXtpZigxJnQmJihjbygwLCJzcGFuIiw1KSxIbygxKSxobygpKSwyJnQpe2NvbnN0IHQ9X28oKTtOcygxKSwkbyh0LmxpdGVyYWxzLm9wdGlvbmFsKX19ZnVuY3Rpb24gTnkodCxlKXtpZigxJnQmJihjbygwLCJkaXYiLDYpLEhvKDEpLGhvKCkpLDImdCl7Y29uc3QgdD1fbygpO05zKDEpLCRvKHQuaGVscCl9fWZ1bmN0aW9uIFZ5KHQsZSl7aWYoMSZ0KXtjb25zdCB0PWdvKCk7Y28oMCwic3BhbiIsMSksdm8oImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBPZSh0KSxfbygpLmNsZWFyKCl9KSxobygpfX1jb25zdCBMeT1bImlucCJdLEJ5PVsibW9kYWxDb250ZW50Il07ZnVuY3Rpb24gVXkodCxlKXtpZigxJnQpe2NvbnN0IHQ9Z28oKTtjbygwLCJhIiwxNCksdm8oImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBPZSh0KSxfbygyKS5jbG9zZSghMCl9KSxwbygxLCJzcGFuIiwxNSksaG8oKX19ZnVuY3Rpb24gSHkodCxlKXtpZigxJnQpe2NvbnN0IHQ9Z28oKTtjbygwLCJwby1idXR0b24iLDE2KSx2bygicC1jbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gT2UodCksX28oMikuc2Vjb25kYXJ5QWN0aW9uLmFjdGlvbigpfSksaG8oKX1pZigyJnQpe2NvbnN0IHQ9X28oMik7bG8oInAtZGlzYWJsZWQiLHQuc2Vjb25kYXJ5QWN0aW9uLmRpc2FibGVkKSgicC1sYWJlbCIsdC5zZWNvbmRhcnlBY3Rpb24ubGFiZWwpKCJwLWxvYWRpbmciLHQuc2Vjb25kYXJ5QWN0aW9uLmxvYWRpbmcpKCJwLXR5cGUiLHQuZ2V0U2Vjb25kYXJ5QWN0aW9uQnV0dG9uVHlwZSgpKX19ZnVuY3Rpb24gJHkodCxlKXtpZigxJnQpe2NvbnN0IHQ9Z28oKTtjbygwLCJkaXYiLDEpLHZvKCJrZXlkb3duLmVzYyIsZnVuY3Rpb24oZSl7cmV0dXJuIE9lKHQpLF9vKCkuY2xvc2VNb2RhbE9uRXNjYXBlS2V5KGUpfSksY28oMSwiZGl2IiwyKSxjbygyLCJkaXYiLDMpLHZvKCJtb3VzZWRvd24iLGZ1bmN0aW9uKGUpe3JldHVybiBPZSh0KSxfbygpLm9uQ2xpY2tPdXQoZSl9KSxjbygzLCJkaXYiLDQpLGNvKDQsImRpdiIsNSw2KSxjbyg2LCJkaXYiLDcpLGNvKDcsImRpdiIsOCksSG8oOCksaG8oKSxvbyg5LFV5LDIsMCwiYSIsOSksaG8oKSxjbygxMCwiZGl2IiwxMCksRW8oMTEpLGhvKCksY28oMTIsImRpdiIsMTEpLG9vKDEzLEh5LDEsNCwicG8tYnV0dG9uIiwxMiksY28oMTQsInBvLWJ1dHRvbiIsMTMpLHZvKCJwLWNsaWNrIixmdW5jdGlvbigpe3JldHVybiBPZSh0KSxfbygpLnByaW1hcnlBY3Rpb24uYWN0aW9uKCl9KSxobygpLGhvKCksaG8oKSxobygpLGhvKCksaG8oKSxobygpfWlmKDImdCl7Y29uc3QgdD1fbygpO05zKDQpLHFvKCJwby1tb2RhbC1jb250ZW50IHBvLW1vZGFsLSIsdC5zaXplLCIiKSxOcyg0KSx6bygiICIsdC50aXRsZSwiICIpLE5zKDEpLGxvKCJuZ0lmIiwhdC5oaWRlQ2xvc2UpLE5zKDQpLGxvKCJuZ0lmIix0LnNlY29uZGFyeUFjdGlvbiksTnMoMSksbG8oInAtZGlzYWJsZWQiLHQucHJpbWFyeUFjdGlvbi5kaXNhYmxlZCkoInAtbGFiZWwiLHQucHJpbWFyeUFjdGlvbi5sYWJlbCkoInAtbG9hZGluZyIsdC5wcmltYXJ5QWN0aW9uLmxvYWRpbmcpKCJwLXR5cGUiLHQuZ2V0UHJpbWFyeUFjdGlvbkJ1dHRvblR5cGUoKSl9fWNvbnN0IHp5PVsidG9hc3RlciJdO2Z1bmN0aW9uIHF5KHQsZSl7aWYoMSZ0KXtjb25zdCB0PWdvKCk7Y28oMCwiZGl2Iiw3KSx2bygiY2xpY2siLGZ1bmN0aW9uKGUpe3JldHVybiBPZSh0KSxfbygpLnBvVG9hc3RlckFjdGlvbihlKX0pLEhvKDEpLGhvKCl9aWYoMiZ0KXtjb25zdCB0PV9vKCk7TnMoMSksem8oIiAiLHQuYWN0aW9uTGFiZWwsIiAiKX19ZnVuY3Rpb24gV3kodCxlKXtpZigxJnQmJihjbygwLCJkaXYiLDgpLHBvKDEsInBvLWljb24iLDkpLGhvKCkpLDImdCl7Y29uc3QgdD1fbygpO05zKDEpLE9vKCJwby1maWVsZC1pY29uLWRpc2FibGVkIix0LmRpc2FibGVkKSxsbygicC1pY29uIix0Lmljb24pfX1mdW5jdGlvbiBHeSh0LGUpe2lmKDEmdCl7Y29uc3QgdD1nbygpO2NvKDAsInBvLWNsZWFuIiwxMCksdm8oInAtY2hhbmdlLWV2ZW50IixmdW5jdGlvbihlKXtyZXR1cm4gT2UodCksX28oKS5jbGVhcihlKX0pLGhvKCl9aWYoMiZ0KXtjb25zdCB0PV9vKCk7bG8oInAtZGVmYXVsdC12YWx1ZSIsbnVsbCkoInAtZWxlbWVudC1yZWYiLHQuaW5wdXRFbCl9fWZ1bmN0aW9uIFp5KHQsZSl7aWYoMSZ0JiYoY28oMCwiZGl2Iiw2KSxjbygxLCJzcGFuIiw3KSxIbygyKSxobygpLGhvKCkpLDImdCl7Y29uc3QgdD1fbygpO05zKDIpLCRvKHQudGFnT3JpZW50YXRpb24/dC5sYWJlbCsiOiI6dC5sYWJlbCl9fWZ1bmN0aW9uIEt5KHQsZSl7aWYoMSZ0JiZwbygwLCJwby1pY29uIiw4KSwyJnQpe2NvbnN0IHQ9X28oKTtsbygicC1pY29uIix0LnR5cGU/dC5pY29uRnJvbVR5cGU6dC5pY29uKX19ZnVuY3Rpb24gWXkodCxlKXtpZigxJnQmJihjbygwLCJkaXYiLDYpLHBvKDEsInBvLXRhZyIsNyksaG8oKSksMiZ0KXtjb25zdCB0PV9vKCkuJGltcGxpY2l0LGU9X28oKTtOcygxKSxsbygicC1jb2xvciIsZS50eXBlQ29sb3IodC50eXBlKSkoInAtdmFsdWUiLGUudHlwZVZhbHVlKHQudHlwZSkpfX1mdW5jdGlvbiBReSh0LGUpe2lmKDEmdCYmKGNvKDAsInBvLWFjY29yZGlvbi1pdGVtIiw0KSxvbygxLFl5LDIsMiwiZGl2Iiw1KSxjbygyLCJkaXYiLDEpLGNvKDMsInAiKSxIbyg0KSxobygpLGhvKCksaG8oKSksMiZ0KXtjb25zdCB0PWUuJGltcGxpY2l0O2xvKCJwLWxhYmVsIixfbygpLmZvcm1hdERldGFpbEl0ZW1UaXRsZSh0KSksTnMoMSksbG8oIm5nSWYiLHQudHlwZSksTnMoMyksJG8odC5kZXRhaWxlZE1lc3NhZ2UpfX1sZXQgWHk9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuc3ViamVjdENoaWxkPW5ldyBEfXJlY2VpdmVGcm9tQ2hpbGRBY2NvcmRpb25DbGlja2VkKCl7cmV0dXJuIHRoaXMuc3ViamVjdENoaWxkLmFzT2JzZXJ2YWJsZSgpfXNlbmRUb1BhcmVudEFjY29yZGlvbkl0ZW1DbGlja2VkKHQpe3RoaXMuc3ViamVjdENoaWxkLm5leHQodCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLEp5PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5hY2NvcmRpb25TZXJ2aWNlPXR9Y29sbGFwc2UoKXt0aGlzLmV4cGFuZGVkPSExLHRoaXMuYWNjb3JkaW9uU2VydmljZS5zZW5kVG9QYXJlbnRBY2NvcmRpb25JdGVtQ2xpY2tlZCh0aGlzKX1leHBhbmQoKXt0aGlzLmV4cGFuZGVkPSEwLHRoaXMuYWNjb3JkaW9uU2VydmljZS5zZW5kVG9QYXJlbnRBY2NvcmRpb25JdGVtQ2xpY2tlZCh0aGlzKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYW8oWHkpKX0sdC5cdTAyNzVjbXA9SHQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tYWNjb3JkaW9uLWl0ZW0iXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZrbChXYSw3KSwyJnQpe2xldCB0O3hsKHQ9VGwoKSkmJihlLnRlbXBsYXRlUmVmPXQuZmlyc3QpfX0saW5wdXRzOntsYWJlbDpbInAtbGFiZWwiLCJsYWJlbCJdfSxuZ0NvbnRlbnRTZWxlY3RvcnM6RXksZGVjbHM6MSx2YXJzOjAsdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihEbygpLG9vKDAsRHksMSwwLCJuZy10ZW1wbGF0ZSIpKX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksdHY9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGNsYXNze317Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmFjY29yZGlvblNlcnZpY2U9dCx0aGlzLnJlY2VpdmVGcm9tQ2hpbGRBY2NvcmRpb25TdWJzY3JpcHRpb24oKX1uZ09uRGVzdHJveSgpe3RoaXMuYWNjb3JkaW9uU2VydmljZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfWhlYWRlclRvZ2dsZSh0LGUpe2UuZXhwYW5kZWQ9dCx0aGlzLnRvZ2dsZShlKX1yZWNlaXZlRnJvbUNoaWxkQWNjb3JkaW9uU3Vic2NyaXB0aW9uKCl7dGhpcy5hY2NvcmRpb25TZXJ2aWNlU3Vic2NyaXB0aW9uPXRoaXMuYWNjb3JkaW9uU2VydmljZS5yZWNlaXZlRnJvbUNoaWxkQWNjb3JkaW9uQ2xpY2tlZCgpLnN1YnNjcmliZSh0PT50aGlzLnRvZ2dsZSh0KSl9dG9nZ2xlKHQpe3QuZXhwYW5kZWQ/KHRoaXMuZXhwYW5kZWRBY3RpdmVBY2NvcmRpb25JdGVtJiZ0aGlzLmV4cGFuZGVkQWN0aXZlQWNjb3JkaW9uSXRlbS5jb2xsYXBzZSgpLHRoaXMuZXhwYW5kZWRBY3RpdmVBY2NvcmRpb25JdGVtPXQpOnRoaXMuZXhwYW5kZWRBY3RpdmVBY2NvcmRpb25JdGVtPW51bGx9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFvKFh5KSl9LHQuXHUwMjc1Y21wPUh0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWFjY29yZGlvbiJdXSxjb250ZW50UXVlcmllczpmdW5jdGlvbih0LGUsbil7aWYoMSZ0JiZmdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPUZlKCk7aWYocy5maXJzdENyZWF0ZVBhc3Mpe2NvbnN0IG49UGUoKTtPbChzLG5ldyB3bChlLDQsdm9pZCAwKSxuLmluZGV4KSxmdW5jdGlvbih0LGUpe2NvbnN0IG49dC5jb250ZW50UXVlcmllc3x8KHQuY29udGVudFF1ZXJpZXM9W10pO2UhPT0obi5sZW5ndGg/bltuLmxlbmd0aC0xXTotMSkmJm4ucHVzaCh0LnF1ZXJpZXMubGVuZ3RoLTEsZSl9KHMsdCl9RmwocyxUZSgpLDQpfShuLEp5KSwyJnQpe2xldCB0O3hsKHQ9VGwoKSkmJihlLnBvQWNjb3JkaW9uSXRlbXM9dCl9fSxmZWF0dXJlczpbbGEoW1h5XSksWmldLGRlY2xzOjIsdmFyczoxLGNvbnN0czpbWzEsInBvLWFjY29yZGlvbiIsInBvLWNvbnRhaW5lciIsInBvLWNvbnRhaW5lci1uby1wYWRkaW5nIl0sWyJjbGFzcyIsInBvLWFjY29yZGlvbi1pdGVtIiwzLCJwby1hY2NvcmRpb24taXRlbS1hY3RpdmUiLDQsIm5nRm9yIiwibmdGb3JPZiJdLFsxLCJwby1hY2NvcmRpb24taXRlbSJdLFszLCJwLWV4cGFuZGVkIiwicC1sYWJlbCIsInAtdG9nZ2xlIl0sWzMsInAtZXhwYW5kZWQiXSxbNCwibmdUZW1wbGF0ZU91dGxldCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKGNvKDAsImRpdiIsMCksb28oMSxTeSw0LDYsInNlY3Rpb24iLDEpLGhvKCkpLDImdCYmKE5zKDEpLGxvKCJuZ0Zvck9mIixlLnBvQWNjb3JkaW9uSXRlbXMpKX0sZGlyZWN0aXZlczpmdW5jdGlvbigpe3JldHVyblskYyxudixldixaY119LGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLGV2PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmV4cGFuZGVkPSExfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVjbXA9SHQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tYWNjb3JkaW9uLWl0ZW0tYm9keSJdXSxpbnB1dHM6e2V4cGFuZGVkOlsicC1leHBhbmRlZCIsImV4cGFuZGVkIl19LG5nQ29udGVudFNlbGVjdG9yczpFeSxkZWNsczoxLHZhcnM6MSxjb25zdHM6W1siY2xhc3MiLCJwby1hY2NvcmRpb24taXRlbS1ib2R5Iiw0LCJuZ0lmIl0sWzEsInBvLWFjY29yZGlvbi1pdGVtLWJvZHkiXSxbMSwicG8tYWNjb3JkaW9uLWl0ZW0tYm9keS1jb250ZW50Il1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoRG8oKSxvbygwLHh5LDMsMSwiZGl2IiwwKSksMiZ0JiZsbygibmdJZiIsZS5leHBhbmRlZCl9LGRpcmVjdGl2ZXM6W3FjXSxlbmNhcHN1bGF0aW9uOjIsZGF0YTp7YW5pbWF0aW9uOlsoInRvZ2dsZUJvZHkiLGU9W3NwKCIqID0+IHZvaWQiLFtycCh7aGVpZ2h0OiIqIn0pLG5wKDIwMCxycCh7aGVpZ2h0OjB9KSldKSxzcCgidm9pZCA9PiAqIixbcnAoe2hlaWdodDoiMCJ9KSxucCgyMDAscnAoe2hlaWdodDoiKiJ9KSldKV0se3R5cGU6NyxuYW1lOiJ0b2dnbGVCb2R5IixkZWZpbml0aW9uczplLG9wdGlvbnM6e319KV19fSksdDt2YXIgZX0pKCksbnY9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuZXhwYW5kZWQ9ITEsdGhpcy50b2dnbGU9bmV3IGdsfW9uQ2xpY2soKXt0aGlzLmV4cGFuZGVkPSF0aGlzLmV4cGFuZGVkLHRoaXMudG9nZ2xlLmVtaXQodGhpcy5leHBhbmRlZCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1hY2NvcmRpb24taXRlbS1oZWFkZXIiXV0saW5wdXRzOntleHBhbmRlZDpbInAtZXhwYW5kZWQiLCJleHBhbmRlZCJdLGxhYmVsOlsicC1sYWJlbCIsImxhYmVsIl19LG91dHB1dHM6e3RvZ2dsZToicC10b2dnbGUifSxkZWNsczo2LHZhcnM6MSxjb25zdHM6W1sxLCJwby1hY2NvcmRpb24taXRlbS1oZWFkZXIiXSxbMSwicG8tYWNjb3JkaW9uLWl0ZW0taGVhZGVyLWJ1dHRvbiIsInBvLWNsaWNrYWJsZSIsMywiY2xpY2siXSxbMSwicG8tdGV4dC1lbGxpcHNpcyIsInBvLWFjY29yZGlvbi1pdGVtLWhlYWRlci10aXRsZSJdLFsxLCJwby1pY29uIiwicG8tYWNjb3JkaW9uLWl0ZW0taGVhZGVyLWljb24iLCJwby1pY29uLWFycm93LWRvd24iXSxbImljb24iLCIiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihjbygwLCJoZWFkZXIiLDApLGNvKDEsImJ1dHRvbiIsMSksdm8oImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBlLm9uQ2xpY2soKX0pLGNvKDIsImRpdiIsMiksSG8oMyksaG8oKSxwbyg0LCJzcGFuIiwzLDQpLGhvKCksaG8oKSksMiZ0JiYoTnMoMyksJG8oZS5sYWJlbCkpfSxlbmNhcHN1bGF0aW9uOjIsY2hhbmdlRGV0ZWN0aW9uOjB9KSx0fSkoKSxydj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbcmhdXX0pLHR9KSgpLHN2PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tyaF1dfSksdH0pKCk7Y29uc3QgaXY9W3tkZXNjcmlwdGlvbjoiRW5nbGlzaCIsbGFuZ3VhZ2U6ImVuIn0se2Rlc2NyaXB0aW9uOiJFc3BhXHhmMW9sIixsYW5ndWFnZToiZXMifSx7ZGVzY3JpcHRpb246IlBvcnR1Z3VceGVhcyIsbGFuZ3VhZ2U6InB0In0se2Rlc2NyaXB0aW9uOiJQXHUwNDQzXHUwNDQxXHUwNDQxXHUwNDNhXHUwNDM4XHUwNDM5IixsYW5ndWFnZToicnUifV0ubWFwKHQ9PnQubGFuZ3VhZ2UpLG92PSJwdCIsYXY9W3tzZXBhcmF0b3I6Ii4iLGxhbmd1YWdlOiJlbiJ9LHtzZXBhcmF0b3I6IiwiLGxhbmd1YWdlOiJlcyJ9LHtzZXBhcmF0b3I6IiwiLGxhbmd1YWdlOiJwdCJ9LHtzZXBhcmF0b3I6IiwiLGxhbmd1YWdlOiJydSJ9XSxsdj1be3NlcGFyYXRvcjoiLCIsbGFuZ3VhZ2U6ImVuIn0se3NlcGFyYXRvcjoiLiIsbGFuZ3VhZ2U6ImVzIn0se3NlcGFyYXRvcjoiLiIsbGFuZ3VhZ2U6InB0In0se3NlcGFyYXRvcjoiICIsbGFuZ3VhZ2U6InJ1In1dO2Z1bmN0aW9uIHV2KHQpe3JldHVybih0fHxvdikudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoMCwyKX1mdW5jdGlvbiBjdih0KXtyZXR1cm4gbmV3IFJlZ0V4cCgiXlthLXpdezJ9KC1bYS16XXsyfSk/JCIsImkiKS50ZXN0KHQpfWZ1bmN0aW9uIGh2KHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD8idHJ1ZSI9PT0odD10LnRvTG93ZXJDYXNlKCkudHJpbSgpKXx8Im9uIj09PXR8fCIiPT09dDoibnVtYmVyIj09dHlwZW9mIHQ/MT09PXQ6ISF0fWNvbnN0IGR2PSJQT19ERUZBVUxUX0xBTkdVQUdFIixwdj0iUE9fVVNFUl9MT0NBTEUiO2xldCBmdj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7fXNldCBsYW5ndWFnZURlZmF1bHQodCl7dCYmY3YodCkmJmxvY2FsU3RvcmFnZS5zZXRJdGVtKGR2LHQpfWdldCBsYW5ndWFnZURlZmF1bHQoKXtyZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZHYpfWdldExhbmd1YWdlKCl7Y29uc3QgdD1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShwdil8fHRoaXMubGFuZ3VhZ2VEZWZhdWx0fHxmdW5jdGlvbigpe2NvbnN0IHQ9bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlLGU9dXYodCk7cmV0dXJuIGl2LmluY2x1ZGVzKGUpP3Q6b3Z9KCk7cmV0dXJuIHQmJnQudG9Mb3dlckNhc2UoKX1nZXRMYW5ndWFnZURlZmF1bHQoKXtyZXR1cm4gdGhpcy5sYW5ndWFnZURlZmF1bHR9Z2V0U2hvcnRMYW5ndWFnZSgpe2NvbnN0IHQ9dXYodGhpcy5nZXRMYW5ndWFnZSgpKTtyZXR1cm4gaXYuaW5jbHVkZXModCk/dDpvdn1zZXRMYW5ndWFnZSh0KXtjdih0KSYmbG9jYWxTdG9yYWdlLnNldEl0ZW0ocHYsdC50b0xvd2VyQ2FzZSgpKX1zZXRMYW5ndWFnZURlZmF1bHQodCl7dGhpcy5sYW5ndWFnZURlZmF1bHQ9dH1nZXROdW1iZXJTZXBhcmF0b3JzKHQpe3ZhciBlLG4scixzO3Q9dHx8dGhpcy5nZXRTaG9ydExhbmd1YWdlKCk7Y29uc3QgaT1udWxsIT09KGU9YXYuZmluZChlPT5lLmxhbmd1YWdlPT09dCkpJiZ2b2lkIDAhPT1lP2U6e30sbz1udWxsIT09KG49bHYuZmluZChlPT5lLmxhbmd1YWdlPT09dCkpJiZ2b2lkIDAhPT1uP246e307cmV0dXJue2RlY2ltYWxTZXBhcmF0b3I6bnVsbCE9PShyPWkuc2VwYXJhdG9yKSYmdm9pZCAwIT09cj9yOiIsIix0aG91c2FuZFNlcGFyYXRvcjpudWxsIT09KHM9by5zZXBhcmF0b3IpJiZ2b2lkIDAhPT1zP3M6Ii4ifX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgdH0sdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpLGd2PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tyaCxJbV1dfSksdH0pKCksbXY9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe31zZXQgaWNvbih0KXsic3RyaW5nIj09dHlwZW9mIHQ/dGhpcy5hZGRDbGFzc2VzKHQpOnQgaW5zdGFuY2VvZiBXYSYmKHRoaXMuX2ljb249dCl9Z2V0IGljb24oKXtyZXR1cm4gdGhpcy5faWNvbn1hZGRDbGFzc2VzKHQpe3RoaXMuY2xhc3M9dGhpcy5jbGFzcz10LnN0YXJ0c1dpdGgoInBvLWljb24tIik/YHBvLWljb24gJHt0fWA6YHBvLWZvbnRzLWljb24gJHt0fWB9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1pY29uIl1dLGlucHV0czp7aWNvbjpbInAtaWNvbiIsImljb24iXX0sZGVjbHM6Myx2YXJzOjMsY29uc3RzOltbNCwibmdJZiIsIm5nSWZUaGVuIiwibmdJZkVsc2UiXSxbImZvbnRUZW1wbGF0ZSIsIiJdLFsiYXJpYS1oaWRkZW4iLCJ0cnVlIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiYob28oMCxreSwxLDAsIm5nLWNvbnRhaW5lciIsMCksb28oMSxUeSwxLDIsIm5nLXRlbXBsYXRlIixudWxsLDEsSWwpKSwyJnQpe2NvbnN0IHQ9eGUubEZyYW1lLmNvbnRleHRMVmlld1syMl07bG8oIm5nSWYiLGUuY2xhc3MpKCJuZ0lmVGhlbiIsdCkoIm5nSWZFbHNlIixlLmljb24pfX0sZGlyZWN0aXZlczpbcWNdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpLHl2PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tyaF1dfSksdH0pKCk7Y29uc3QgdnY9e2VuOntsb2FkaW5nOiJMb2FkaW5nIn0sZXM6e2xvYWRpbmc6IkNhcmdhbmRvIn0scHQ6e2xvYWRpbmc6IkNhcnJlZ2FuZG8ifSxydTp7bG9hZGluZzoiXHUwNDNmXHUwNDNlXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDM3XHUwNDNhXHUwNDMwIn19O2xldCBidj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMubGFuZ3VhZ2VTZXJ2aWNlPXQsdGhpcy5fc2NyZWVuTG9jaz0hMSx0aGlzLnRleHQ9dGhpcy5nZXRUZXh0RGVmYXVsdCgpfXNldCBzY3JlZW5Mb2NrKHQpe3RoaXMuX3NjcmVlbkxvY2s9aHYodCl9Z2V0IHNjcmVlbkxvY2soKXtyZXR1cm4gdGhpcy5fc2NyZWVuTG9ja31zZXQgdGV4dCh0KXt0aGlzLl90ZXh0PXR8fHRoaXMuZ2V0VGV4dERlZmF1bHQoKX1nZXQgdGV4dCgpe3JldHVybiB0aGlzLl90ZXh0fWdldFRleHREZWZhdWx0KCl7Y29uc3QgdD10aGlzLmxhbmd1YWdlU2VydmljZS5nZXRTaG9ydExhbmd1YWdlKCk7cmV0dXJuIHZ2W3RdLmxvYWRpbmd9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFvKGZ2KSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsaW5wdXRzOnt0ZXh0OlsicC10ZXh0IiwidGV4dCJdLHNjcmVlbkxvY2s6WyJwLXNjcmVlbi1sb2NrIiwic2NyZWVuTG9jayJdfX0pLHR9KSgpLHd2PSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBidntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGUpLHRoaXMuY2hhbmdlRGV0ZWN0b3I9dH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYW8oVWEpLGFvKGZ2KSl9LHQuXHUwMjc1Y21wPUh0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWxvYWRpbmctb3ZlcmxheSJdXSxmZWF0dXJlczpbWmldLGRlY2xzOjIsdmFyczo1LGNvbnN0czpbWzEsInBvLWxvYWRpbmctb3ZlcmxheS1jb250ZW50IiwzLCJwLXRleHQiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihjbygwLCJkaXYiKSxwbygxLCJwby1sb2FkaW5nIiwwKSxobygpKSwyJnQmJihPbygicG8tb3ZlcmxheS1hYnNvbHV0ZSIsIWUuc2NyZWVuTG9jaykoInBvLW92ZXJsYXktZml4ZWQiLGUuc2NyZWVuTG9jayksTnMoMSksbG8oInAtdGV4dCIsZS50ZXh0KSl9LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5bRHZdfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxfdj0oKCk9PntjbGFzcyB0e3NldCBuZXV0cmFsQ29sb3IodCl7dGhpcy5fbmV1dHJhbENvbG9yPWh2KHQpfWdldCBuZXV0cmFsQ29sb3IoKXtyZXR1cm4gdGhpcy5fbmV1dHJhbENvbG9yfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVjbXA9SHQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tbG9hZGluZy1pY29uIl1dLGlucHV0czp7bmV1dHJhbENvbG9yOlsicC1uZXV0cmFsLWNvbG9yIiwibmV1dHJhbENvbG9yIl19LGRlY2xzOjksdmFyczoyLGNvbnN0czpbWzEsInBvLWxvYWRpbmctaWNvbiJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci0xIl0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTIiXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItMyJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci00Il0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTUiXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItNiJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci03Il0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTgiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihjbygwLCJkaXYiLDApLHBvKDEsInNwYW4iLDEpLHBvKDIsInNwYW4iLDIpLHBvKDMsInNwYW4iLDMpLHBvKDQsInNwYW4iLDQpLHBvKDUsInNwYW4iLDUpLHBvKDYsInNwYW4iLDYpLHBvKDcsInNwYW4iLDcpLHBvKDgsInNwYW4iLDgpLGhvKCkpLDImdCYmT28oInBvLWxvYWRpbmctaWNvbi1uZXV0cmFsLWNvbG9yIixlLm5ldXRyYWxDb2xvcil9LGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLEN2PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLnRleHQ9IkNhcnJlZ2FuZG8ifX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxpbnB1dHM6e3RleHQ6WyJwLXRleHQiLCJ0ZXh0Il19fSksdH0pKCksRHY9KCgpPT57Y2xhc3MgdCBleHRlbmRzIEN2e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oKXtsZXQgZTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKGV8fChlPVZuKHQpKSkobnx8dCl9fSgpLHQuXHUwMjc1Y21wPUh0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWxvYWRpbmciXV0sZmVhdHVyZXM6W1ppXSxkZWNsczozLHZhcnM6MSxjb25zdHM6W1sxLCJwby1sb2FkaW5nIl0sWyJjbGFzcyIsInBvLWxvYWRpbmctbGFiZWwgcG8tdGV4dC1lbGxpcHNpcyIsNCwibmdJZiJdLFsxLCJwby1sb2FkaW5nLWxhYmVsIiwicG8tdGV4dC1lbGxpcHNpcyJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKGNvKDAsImRpdiIsMCkscG8oMSwicG8tbG9hZGluZy1pY29uIiksb28oMixGeSwyLDEsInNwYW4iLDEpLGhvKCkpLDImdCYmKE5zKDIpLGxvKCJuZ0lmIixlLnRleHQpKX0sZGlyZWN0aXZlczpbX3YscWNdLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLEV2PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbZnZdfSksdH0pKCksQXY9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3JoLEV2XV19KSx0fSkoKTtmdW5jdGlvbiBTdih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3QmJnQuc2V0JiZ0LnNldC5iaW5kKHRoaXMpKGUocikpLHRoaXNbbl09ZShyKX19ZnVuY3Rpb24geHYodCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdCYmdC5nZXQ/dC5nZXQuYmluZCh0aGlzKSgpOnRoaXNbZV19fWZ1bmN0aW9uIGt2KCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2NvbnN0e3RhcmdldDpyLHByb3BlcnR5OnMsb3JpZ2luYWxEZXNjcmlwdG9yOml9PXQsbz1mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1gJCRfXyR7ZX1gO3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmY29uc29sZS53YXJuKGBUaGUgcHJvcCAiJHtyfSIgaXMgYWxyZWFkeSBleGlzdCwgaXQgd2lsbCBiZSBvdmVycmlkZWQgYnkgSW5wdXRCb29sZWFuIGRlY29yYXRvci5gKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSxyfShyLHMpO3JldHVybntnZXQ6eHYoaSxvKSxzZXQ6U3YoaSxuLG8pfX0oe3RhcmdldDp0LHByb3BlcnR5OmUsb3JpZ2luYWxEZXNjcmlwdG9yOm59LDAsaHYpfX1jb25zdCBUdj1bImRlZmF1bHQiLCJwcmltYXJ5IiwiZGFuZ2VyIiwibGluayJdO2xldCBGdj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5hdXRvRm9jdXM9ITEsdGhpcy5jbGljaz1uZXcgZ2wsdGhpcy5fZGlzYWJsZWQ9ITEsdGhpcy5fbG9hZGluZz0hMSx0aGlzLl9zbWFsbD0hMSx0aGlzLl90eXBlPSJkZWZhdWx0In1zZXQgbG9hZGluZyh0KXt0aGlzLl9sb2FkaW5nPWh2KHQpfWdldCBsb2FkaW5nKCl7cmV0dXJuIHRoaXMuX2xvYWRpbmd9c2V0IHNtYWxsKHQpe3RoaXMuX3NtYWxsPSIiPT09dHx8aHYodCl9Z2V0IHNtYWxsKCl7cmV0dXJuIHRoaXMuX3NtYWxsfXNldCB0eXBlKHQpe3RoaXMuX3R5cGU9VHYuaW5jbHVkZXModCk/dDoiZGVmYXVsdCJ9Z2V0IHR5cGUoKXtyZXR1cm4gdGhpcy5fdHlwZX1zZXQgZGlzYWJsZWQodCl7dGhpcy5fZGlzYWJsZWQ9IiI9PT10fHxodih0KX1nZXQgZGlzYWJsZWQoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZWR9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0LGlucHV0czp7YXV0b0ZvY3VzOlsicC1hdXRvLWZvY3VzIiwiYXV0b0ZvY3VzIl0sbG9hZGluZzpbInAtbG9hZGluZyIsImxvYWRpbmciXSxzbWFsbDpbInAtc21hbGwiLCJzbWFsbCJdLHR5cGU6WyJwLXR5cGUiLCJ0eXBlIl0sZGlzYWJsZWQ6WyJwLWRpc2FibGVkIiwiZGlzYWJsZWQiXSxsYWJlbDpbInAtbGFiZWwiLCJsYWJlbCJdLGljb246WyJwLWljb24iLCJpY29uIl19LG91dHB1dHM6e2NsaWNrOiJwLWNsaWNrIn19KSx3eShba3YoKV0sdC5wcm90b3R5cGUsImF1dG9Gb2N1cyIsdm9pZCAwKSx0fSkoKSxPdj0oKCk9PntjbGFzcyB0IGV4dGVuZHMgRnZ7bmdBZnRlclZpZXdJbml0KCl7dGhpcy5hdXRvRm9jdXMmJnRoaXMuZm9jdXMoKX1mb2N1cygpe3RoaXMuZGlzYWJsZWR8fHRoaXMuYnV0dG9uRWxlbWVudC5uYXRpdmVFbGVtZW50LmZvY3VzKCl9b25DbGljaygpe3RoaXMuY2xpY2suZW1pdChudWxsKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKCl7bGV0IGU7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybihlfHwoZT1Wbih0KSkpKG58fHQpfX0oKSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1idXR0b24iXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZrbChPeSw3KSwyJnQpe2xldCB0O3hsKHQ9VGwoKSkmJihlLmJ1dHRvbkVsZW1lbnQ9dC5maXJzdCl9fSxmZWF0dXJlczpbWmldLGRlY2xzOjUsdmFyczoxNCxjb25zdHM6W1sidHlwZSIsImJ1dHRvbiIsMSwicG8tYnV0dG9uIiwicG8tdGV4dC1lbGxpcHNpcyIsMywiZGlzYWJsZWQiLCJjbGljayJdLFsiYnV0dG9uIiwiIl0sWyJjbGFzcyIsInBvLWJ1dHRvbi1sb2FkaW5nLWljb24iLDQsIm5nSWYiXSxbImNsYXNzIiwicG8tYnV0dG9uLWljb24iLDMsInAtaWNvbiIsNCwibmdJZiJdLFsiY2xhc3MiLCJwby1idXR0b24tbGFiZWwiLDQsIm5nSWYiXSxbMSwicG8tYnV0dG9uLWxvYWRpbmctaWNvbiJdLFsicC1uZXV0cmFsLWNvbG9yIiwiIl0sWzEsInBvLWJ1dHRvbi1pY29uIiwzLCJwLWljb24iXSxbMSwicG8tYnV0dG9uLWxhYmVsIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoY28oMCwiYnV0dG9uIiwwLDEpLHZvKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vbkNsaWNrKCl9KSxvbygyLFB5LDIsMCwiZGl2IiwyKSxvbygzLEl5LDEsMSwicG8taWNvbiIsMyksb28oNCxSeSwyLDEsInNwYW4iLDQpLGhvKCkpLDImdCYmKE9vKCJwby1idXR0b24tZGFuZ2VyIiwiZGFuZ2VyIj09PWUudHlwZSkoInBvLWJ1dHRvbi1saW5rIiwibGluayI9PT1lLnR5cGUpKCJwby1idXR0b24tcHJpbWFyeSIsInByaW1hcnkiPT09ZS50eXBlKSgicG8tYnV0dG9uLXNtIixlLnNtYWxsKSgicG8tY2xpY2thYmxlIiwibGluayI9PT1lLnR5cGUpLGxvKCJkaXNhYmxlZCIsZS5kaXNhYmxlZHx8ZS5sb2FkaW5nKSxOcygyKSxsbygibmdJZiIsZS5sb2FkaW5nKSxOcygxKSxsbygibmdJZiIsZS5pY29uKSxOcygxKSxsbygibmdJZiIsZS5sYWJlbCkpfSxkaXJlY3RpdmVzOltxYyxfdixtdl0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksdH0pKCksUHY9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3JoLEF2LHl2XV19KSx0fSkoKTtjb25zdCBJdj1bImJvdHRvbSIsImJvdHRvbS1sZWZ0IiwiYm90dG9tLXJpZ2h0IiwibGVmdCIsImxlZnQtdG9wIiwibGVmdC1ib3R0b20iLCJ0b3AiLCJ0b3AtcmlnaHQiLCJ0b3AtbGVmdCIsInJpZ2h0IiwicmlnaHQtYm90dG9tIiwicmlnaHQtdG9wIl07bGV0IFJ2PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmRpZmZlcmVuY2VEaWFnb25hbFRvV2lkdGhBcnJvdz0zLHRoaXMuaXNTZXRFbGVtZW50V2lkdGg9ITEsdGhpcy5vZmZzZXRBcnJvdz0xMn1hZGp1c3RQb3NpdGlvbih0KXtjb25zdCBlPXR8fCJib3R0b20iO3RoaXMuZWxlbWVudFBvc2l0aW9uKGUpLHRoaXMuY3VzdG9tUG9zaXRpb25zJiZ0aGlzLmN1c3RvbVBvc2l0aW9ucy5sZW5ndGg/dGhpcy5hZGp1c3RDdXN0b21Qb3NpdGlvbihlKTp0aGlzLmFkanVzdERlZmF1bHRQb3NpdGlvbihlKX1nZXRBcnJvd0RpcmVjdGlvbigpe3JldHVybiB0aGlzLmFycm93RGlyZWN0aW9ufXNldEVsZW1lbnRzKHQsZSxuLHIscz0hMSxpPSExKXt0aGlzLmVsZW1lbnQ9dCBpbnN0YW5jZW9mIGdhP3QubmF0aXZlRWxlbWVudDp0LHRoaXMudGFyZ2V0RWxlbWVudD1uIGluc3RhbmNlb2YgZ2E/bi5uYXRpdmVFbGVtZW50Om4sdGhpcy5lbGVtZW50T2Zmc2V0PWUsdGhpcy5jdXN0b21Qb3NpdGlvbnM9cix0aGlzLmlzU2V0RWxlbWVudFdpZHRoPXMsdGhpcy5pc0Nvcm5lckFsaWduZWQ9aX1hZGp1c3RDdXN0b21Qb3NpdGlvbih0KXtjb25zdCBlPXRoaXMuY3VzdG9tUG9zaXRpb25zLmxlbmd0aDtsZXQgbj0wO2Zvcig7bisrPGU7KXRoaXMub3ZlcmZsb3dBbGxTaWRlcyh0KSYmKHQ9dGhpcy5uZXh0UG9zaXRpb24odCx0aGlzLmN1c3RvbVBvc2l0aW9ucyksdGhpcy5lbGVtZW50UG9zaXRpb24odCkpfWFkanVzdERlZmF1bHRQb3NpdGlvbih0KXtjb25zdCBlPXRoaXMuZ2V0TWFpblBvc2l0aW9ucygpLG49ZS5sZW5ndGg7bGV0IHI9MDtmb3IoO3IrKzxuOyl7Y29uc3Qgbj10aGlzLmdldE1haW5Qb3NpdGlvbih0KTtpZih0aGlzLmVsZW1lbnRQb3NpdGlvbih0KSwhdGhpcy5vdmVyZmxvd01haW4obikpcmV0dXJuIHRoaXMub3ZlcmZsb3dBbGxTaWRlcyh0KT92b2lkIHRoaXMudmVyaWZ5U3ViUG9zaXRpb25zKHQpOnZvaWQgMDt0PXRoaXMubmV4dFBvc2l0aW9uKG4sZSl9fWVsZW1lbnRQb3NpdGlvbih0KXt0aGlzLmlzQ29ybmVyQWxpZ25lZD90aGlzLnNldEFsaWduZWRFbGVtZW50UG9zaXRpb24odCk6dGhpcy5zZXRFbGVtZW50UG9zaXRpb24odCl9Z2V0TWFpblBvc2l0aW9uKHQpe3JldHVybiB0LmluZGV4T2YoIi0iKT4tMT90LnN1YnN0cmluZygwLHQuaW5kZXhPZigiLSIpKTp0fWdldE1haW5Qb3NpdGlvbnMoKXtyZXR1cm4gdGhpcy5jdXN0b21Qb3NpdGlvbnMmJnRoaXMuY3VzdG9tUG9zaXRpb25zLmxlbmd0aD90aGlzLmdldE1haW5Qb3NpdGlvbnNCeUN1c3RvbVBvc2l0aW9ucyh0aGlzLmN1c3RvbVBvc2l0aW9ucyk6WyJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiXX1nZXRNYWluUG9zaXRpb25zQnlDdXN0b21Qb3NpdGlvbnModCl7Y29uc3QgZT1bXSxuPXQubGVuZ3RoO2ZvcihsZXQgcj0wO3I8bjtyKyspe2NvbnN0IG49dGhpcy5nZXRNYWluUG9zaXRpb24odFtyXSk7ZS5pbmNsdWRlcyhuKXx8ZS5wdXNoKG4pfXJldHVybiBlfWdldE92ZXJmbG93cygpe2NvbnN0IHQ9dGhpcy5nZXRTaXplc0FuZFBvc2l0aW9ucygpO3JldHVybntyaWdodDp0LmVsZW1lbnQucmlnaHQ+dC53aW5kb3cuaW5uZXJXaWR0aCx0b3A6dC5lbGVtZW50LnRvcDw9MCxsZWZ0OnQuZWxlbWVudC5sZWZ0PD0wLGJvdHRvbTp0LmVsZW1lbnQuYm90dG9tPnQud2luZG93LmlubmVySGVpZ2h0fX1nZXRTaXplc0FuZFBvc2l0aW9ucygpe3JldHVybnt3aW5kb3c6e3Njcm9sbFk6d2luZG93LnNjcm9sbFksc2Nyb2xsWDp3aW5kb3cuc2Nyb2xsWCxpbm5lcldpZHRoOndpbmRvdy5pbm5lcldpZHRoLGlubmVySGVpZ2h0OndpbmRvdy5pbm5lckhlaWdodH0sZWxlbWVudDp0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdGFyZ2V0OnRoaXMudGFyZ2V0RWxlbWVudD90aGlzLnRhcmdldEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6e3RvcDowLGJvdHRvbTowLHJpZ2h0OjAsbGVmdDowfX19bmV4dFBvc2l0aW9uKHQsZT1bXSl7Y29uc3Qgbj1lLmluZGV4T2YodCkscj1uKzE7cmV0dXJuIG4+LTEmJnI8ZS5sZW5ndGg/ZVtyXTplWzBdfW92ZXJmbG93QWxsU2lkZXModCl7Y29uc3QgZT10aGlzLmdldE92ZXJmbG93cygpO3N3aXRjaCh0KXtjYXNlInRvcCI6Y2FzZSJ0b3AtcmlnaHQiOnJldHVybiBlLnRvcHx8ZS5yaWdodHx8ZS5sZWZ0O2Nhc2UidG9wLWxlZnQiOnJldHVybiBlLnRvcHx8ZS5sZWZ0fHxlLnJpZ2h0O2Nhc2UicmlnaHQiOnJldHVybiBlLnJpZ2h0fHxlLnRvcHx8ZS5ib3R0b207Y2FzZSJyaWdodC10b3AiOnJldHVybiBlLnJpZ2h0fHxlLnRvcDtjYXNlInJpZ2h0LWJvdHRvbSI6cmV0dXJuIGUucmlnaHR8fGUuYm90dG9tO2Nhc2UiYm90dG9tIjpjYXNlImJvdHRvbS1yaWdodCI6cmV0dXJuIGUuYm90dG9tfHxlLnJpZ2h0fHxlLmxlZnQ7Y2FzZSJib3R0b20tbGVmdCI6cmV0dXJuIGUuYm90dG9tfHxlLmxlZnR8fGUucmlnaHQ7Y2FzZSJsZWZ0IjpyZXR1cm4gZS5sZWZ0fHxlLnRvcHx8ZS5ib3R0b207Y2FzZSJsZWZ0LXRvcCI6cmV0dXJuIGUubGVmdHx8ZS50b3A7Y2FzZSJsZWZ0LWJvdHRvbSI6cmV0dXJuIGUubGVmdHx8ZS5ib3R0b219fW92ZXJmbG93TWFpbih0KXtjb25zdCBlPXRoaXMuZ2V0T3ZlcmZsb3dzKCk7c3dpdGNoKHQpe2Nhc2UidG9wIjpyZXR1cm4gZS50b3A7Y2FzZSJyaWdodCI6cmV0dXJuIGUucmlnaHQ7Y2FzZSJib3R0b20iOnJldHVybiBlLmJvdHRvbTtjYXNlImxlZnQiOnJldHVybiBlLmxlZnR9fXNldEFsaWduZWRBcnJvd0RpcmVjdGlvbih0KXtzd2l0Y2godCl7Y2FzZSJ0b3AtbGVmdCI6cmV0dXJuImJvdHRvbS1sZWZ0IjtjYXNlInRvcC1yaWdodCI6cmV0dXJuImJvdHRvbS1yaWdodCI7Y2FzZSJib3R0b20tcmlnaHQiOnJldHVybiJ0b3AtcmlnaHQiO2Nhc2UiYm90dG9tLWxlZnQiOnJldHVybiJ0b3AtbGVmdCJ9fXNldEFsaWduZWRCb3R0b21Qb3NpdGlvbnModCxlKXt0aGlzLmVsZW1lbnQuc3R5bGUudG9wPWUudGFyZ2V0LmJvdHRvbSt0aGlzLmVsZW1lbnRPZmZzZXQrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD1lLnRhcmdldC5sZWZ0LXQrInB4In1zZXRBbGlnbmVkRWxlbWVudFBvc2l0aW9uKHQpe3RoaXMuc2V0RWxlbWVudFdpZHRoKCk7Y29uc3QgZT10aGlzLmdldFNpemVzQW5kUG9zaXRpb25zKCk7c3dpdGNoKHQpe2Nhc2UiYm90dG9tLWxlZnQiOnRoaXMuc2V0QWxpZ25lZEJvdHRvbVBvc2l0aW9ucygwLGUpO2JyZWFrO2Nhc2UiYm90dG9tLXJpZ2h0Ijp0aGlzLnNldEFsaWduZWRCb3R0b21Qb3NpdGlvbnMoZS5lbGVtZW50LndpZHRoLWUudGFyZ2V0LndpZHRoLGUpO2JyZWFrO2Nhc2UidG9wLWxlZnQiOnRoaXMuc2V0QWxpZ25lZFRvcFBvc2l0aW9ucygwLGUpO2JyZWFrO2Nhc2UidG9wLXJpZ2h0Ijp0aGlzLnNldEFsaWduZWRUb3BQb3NpdGlvbnMoZS5lbGVtZW50LndpZHRoLWUudGFyZ2V0LndpZHRoLGUpfXRoaXMuYXJyb3dEaXJlY3Rpb249dGhpcy5zZXRBbGlnbmVkQXJyb3dEaXJlY3Rpb24odCl9c2V0QWxpZ25lZFRvcFBvc2l0aW9ucyh0LGUpe3RoaXMuZWxlbWVudC5zdHlsZS50b3A9ZS50YXJnZXQudG9wLWUuZWxlbWVudC5oZWlnaHQtdGhpcy5lbGVtZW50T2Zmc2V0KyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9ZS50YXJnZXQubGVmdC10KyJweCJ9c2V0QXJyb3dEaXJlY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UidG9wIjpyZXR1cm4iYm90dG9tIjtjYXNlInRvcC1sZWZ0IjpyZXR1cm4iYm90dG9tLXJpZ2h0IjtjYXNlInRvcC1yaWdodCI6cmV0dXJuImJvdHRvbS1sZWZ0IjtjYXNlInJpZ2h0IjpyZXR1cm4ibGVmdCI7Y2FzZSJyaWdodC10b3AiOnJldHVybiJsZWZ0LWJvdHRvbSI7Y2FzZSJyaWdodC1ib3R0b20iOnJldHVybiJsZWZ0LXRvcCI7Y2FzZSJib3R0b20iOnJldHVybiJ0b3AiO2Nhc2UiYm90dG9tLXJpZ2h0IjpyZXR1cm4idG9wLWxlZnQiO2Nhc2UiYm90dG9tLWxlZnQiOnJldHVybiJ0b3AtcmlnaHQiO2Nhc2UibGVmdCI6cmV0dXJuInJpZ2h0IjtjYXNlImxlZnQtYm90dG9tIjpyZXR1cm4icmlnaHQtdG9wIjtjYXNlImxlZnQtdG9wIjpyZXR1cm4icmlnaHQtYm90dG9tIn19c2V0Qm90dG9tUG9zaXRpb25zKHQsZSl7dGhpcy5lbGVtZW50LnN0eWxlLnRvcD1lLnRhcmdldC5ib3R0b20rdGhpcy5lbGVtZW50T2Zmc2V0KyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9ZS50YXJnZXQubGVmdCtlLnRhcmdldC53aWR0aC8yLXQrInB4In1zZXRFbGVtZW50UG9zaXRpb24odCl7dGhpcy5zZXRFbGVtZW50V2lkdGgoKTtjb25zdCBlPXRoaXMuZ2V0U2l6ZXNBbmRQb3NpdGlvbnMoKTtzd2l0Y2godCl7Y2FzZSJ0b3AiOnRoaXMuc2V0VG9wUG9zaXRpb25zKGUuZWxlbWVudC53aWR0aC8yLGUpO2JyZWFrO2Nhc2UidG9wLWxlZnQiOnRoaXMuc2V0VG9wUG9zaXRpb25zKGUuZWxlbWVudC53aWR0aC10aGlzLm9mZnNldEFycm93LXRoaXMuZGlmZmVyZW5jZURpYWdvbmFsVG9XaWR0aEFycm93LGUpO2JyZWFrO2Nhc2UidG9wLXJpZ2h0Ijp0aGlzLnNldFRvcFBvc2l0aW9ucyh0aGlzLm9mZnNldEFycm93K3RoaXMuZGlmZmVyZW5jZURpYWdvbmFsVG9XaWR0aEFycm93LGUpO2JyZWFrO2Nhc2UicmlnaHQiOnRoaXMuc2V0UmlnaHRQb3NpdGlvbnMoZS5lbGVtZW50LmhlaWdodC8yLGUpO2JyZWFrO2Nhc2UicmlnaHQtdG9wIjp0aGlzLnNldFJpZ2h0UG9zaXRpb25zKGUuZWxlbWVudC5oZWlnaHQtdGhpcy5vZmZzZXRBcnJvdy10aGlzLmRpZmZlcmVuY2VEaWFnb25hbFRvV2lkdGhBcnJvdyxlKTticmVhaztjYXNlInJpZ2h0LWJvdHRvbSI6dGhpcy5zZXRSaWdodFBvc2l0aW9ucyh0aGlzLm9mZnNldEFycm93LGUpO2JyZWFrO2Nhc2UiYm90dG9tIjp0aGlzLnNldEJvdHRvbVBvc2l0aW9ucyhlLmVsZW1lbnQud2lkdGgvMixlKTticmVhaztjYXNlImJvdHRvbS1yaWdodCI6dGhpcy5zZXRCb3R0b21Qb3NpdGlvbnModGhpcy5vZmZzZXRBcnJvdyt0aGlzLmRpZmZlcmVuY2VEaWFnb25hbFRvV2lkdGhBcnJvdyxlKTticmVhaztjYXNlImJvdHRvbS1sZWZ0Ijp0aGlzLnNldEJvdHRvbVBvc2l0aW9ucyhlLmVsZW1lbnQud2lkdGgtdGhpcy5vZmZzZXRBcnJvdy10aGlzLmRpZmZlcmVuY2VEaWFnb25hbFRvV2lkdGhBcnJvdyxlKTticmVhaztjYXNlImxlZnQiOnRoaXMuc2V0TGVmdFBvc2l0aW9ucyhlLmVsZW1lbnQuaGVpZ2h0LzIsZSk7YnJlYWs7Y2FzZSJsZWZ0LWJvdHRvbSI6dGhpcy5zZXRMZWZ0UG9zaXRpb25zKHRoaXMub2Zmc2V0QXJyb3csZSk7YnJlYWs7Y2FzZSJsZWZ0LXRvcCI6dGhpcy5zZXRMZWZ0UG9zaXRpb25zKGUuZWxlbWVudC5oZWlnaHQtdGhpcy5vZmZzZXRBcnJvdyxlKX10aGlzLmFycm93RGlyZWN0aW9uPXRoaXMuc2V0QXJyb3dEaXJlY3Rpb24odCl9c2V0RWxlbWVudFdpZHRoKCl7dGhpcy5pc1NldEVsZW1lbnRXaWR0aCYmdGhpcy50YXJnZXRFbGVtZW50JiYodGhpcy5lbGVtZW50LnN0eWxlLndpZHRoPWAke3RoaXMudGFyZ2V0RWxlbWVudC5jbGllbnRXaWR0aH1weGApfXNldExlZnRQb3NpdGlvbnModCxlKXt0aGlzLmVsZW1lbnQuc3R5bGUudG9wPWUudGFyZ2V0LnRvcC10K2UudGFyZ2V0LmhlaWdodC8yKyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9ZS50YXJnZXQubGVmdC1lLmVsZW1lbnQud2lkdGgtdGhpcy5lbGVtZW50T2Zmc2V0KyJweCJ9c2V0UmlnaHRQb3NpdGlvbnModCxlKXt0aGlzLmVsZW1lbnQuc3R5bGUudG9wPWUudGFyZ2V0LnRvcC10K2UudGFyZ2V0LmhlaWdodC8yKyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9ZS50YXJnZXQucmlnaHQrdGhpcy5lbGVtZW50T2Zmc2V0KyJweCJ9c2V0VG9wUG9zaXRpb25zKHQsZSl7dGhpcy5lbGVtZW50LnN0eWxlLnRvcD1lLnRhcmdldC50b3AtZS5lbGVtZW50LmhlaWdodC10aGlzLmVsZW1lbnRPZmZzZXQrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD1lLnRhcmdldC5sZWZ0K2UudGFyZ2V0LndpZHRoLzItdCsicHgifXZlcmlmeVN1YlBvc2l0aW9ucyh0KXt0LmluZGV4T2YoIi0iKT4tMSYmKHQ9dC5zdWJzdHJpbmcoMCx0LmluZGV4T2YoIi0iKSksdGhpcy5lbGVtZW50UG9zaXRpb24odCkpO2xldCBlPTA7Zm9yKDtlKys8Mzspe2lmKCF0aGlzLm92ZXJmbG93QWxsU2lkZXModCkpcmV0dXJuIG51bGw7dD10aGlzLm5leHRQb3NpdGlvbih0LEl2KSx0aGlzLmVsZW1lbnRQb3NpdGlvbih0KX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLE12PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tyaF1dfSksdH0pKCksanY9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3JoLFB2LE12XV19KSx0fSkoKSxOdj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5kYXRlUmVnZXg9bmV3IFJlZ0V4cCgiXig/OlswLTldKVxcZHsxfSg/OlswLTldKVxcZHsxfS0oPzowWzEtOV18MVswLTJdKS0oPzowWzEtOV18WzEyXVxcZHwzWzAxXSkkIiksdGhpcy5pc29SZWdleD1uZXcgUmVnRXhwKCJeKD86WzAtOV0pXFxkezF9KD86WzAtOV0pXFxkezF9LSg/OjBbMS05XXwxWzAtMl0pLSg/OjBbMS05XXxbMTJdXFxkfDNbMDFdKVQoPzpbMDFdXFxkfDJbMC0zXSk6WzAtNV1cXGQ6WzAtNV1cXGQoPzpafC0wWzEtOV18LTFcXGR8LTJbMC0zXXwtMDA6Pyg/OjBbMS05XXxbMC01XVxcZCl8XFwrWzAxXVxcZHxcXCsyWzAtM10pKD86fDo/WzAtNV1cXGQpJCIpfWNvbnZlcnRJc29Ub0RhdGUodCxlLG4pe2lmKHQpe2NvbnN0e3llYXI6cixtb250aDpzLGRheTppfT10aGlzLmdldERhdGVGcm9tSXNvKHQpO2lmKGUpe2NvbnN0IHQ9bmV3IERhdGUocixzLTEsaSwwLDAsMCk7cmV0dXJuIHRoaXMuc2V0WWVhckZyb20wVG8xMDAodCxyKSx0fWlmKG4pe2NvbnN0IHQ9bmV3IERhdGUocixzLTEsaSwyMyw1OSw1OSk7cmV0dXJuIHRoaXMuc2V0WWVhckZyb20wVG8xMDAodCxyKSx0fXtjb25zdCBlPURhdGUucGFyc2UodCksbj02ZTQqKG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpO3JldHVybiBuZXcgRGF0ZShlK24pfX19Y29udmVydERhdGVUb0lTTyh0KXtpZih0KXtjb25zdCBlPXQuZ2V0RnVsbFllYXIoKSxuPXQuZ2V0TW9udGgoKSsxLHI9dC5nZXREYXRlKCk8MTA/IjAiK3QuZ2V0RGF0ZSgpOnQuZ2V0RGF0ZSgpLHM9bjwxMD8iMCIrbjpuO3JldHVybiB0aGlzLmZvcm1hdFllYXIoZSkrIi0iK3MrIi0iK3J9cmV0dXJuIG51bGx9Zm9ybWF0WWVhcih0KXtyZXR1cm4gdD45OTk/dC50b1N0cmluZygpOnQ+OTkmJnQ8MWUzP2AwJHt0fWA6dD45JiZ0PDEwMD9gMDAke3R9YDp0Pj0wJiZ0PDEwP2AwMDAke3R9YDp2b2lkIDB9Z2V0RGF0ZUZyb21Jc28odCl7Y29uc3QgZT1wYXJzZUludCh0LnN1YnN0cmluZyg4LDEwKSwxMCksbj1wYXJzZUludCh0LnN1YnN0cmluZyg1LDcpLDEwKTtyZXR1cm57eWVhcjpwYXJzZUludCh0LnN1YnN0cmluZygwLDQpLDEwKSxtb250aDpuLGRheTplfX1nZXREYXRlRm9yRGF0ZVJhbmdlKHQsZSl7Y29uc3Qgbj1lP1swLDAsMF06WzIzLDU5LDU5XTtpZih0IGluc3RhbmNlb2YgRGF0ZSl7Y29uc3R7eWVhcjplLG1vbnRoOnIsZGF5OnN9PXRoaXMuc3BsaXREYXRlKHQpLGk9bmV3IERhdGUoZSxyLHMsLi4ubik7cmV0dXJuIHRoaXMuc2V0WWVhckZyb20wVG8xMDAoaSxlKSxpfWlmKHRoaXMuaXNWYWxpZElzbyh0KSlyZXR1cm4gdGhpcy5jb252ZXJ0SXNvVG9EYXRlKHQsZSwhZSl9aXNEYXRlUmFuZ2VWYWxpZCh0PSIiLGU9IiIpe2NvbnN0IG49dC5zcGxpdCgiLSIpLm1hcCh0PT5wYXJzZUludCh0LDEwKSkscj1lLnNwbGl0KCItIikubWFwKHQ9PnBhcnNlSW50KHQsMTApKTtmb3IobGV0IHM9MDtzPD1uLmxlbmd0aDtzKyspe2lmKG5bc10+cltzXSlyZXR1cm4hMDtpZihuW3NdPHJbc10pcmV0dXJuITF9cmV0dXJuITB9aXNWYWxpZElzbyh0KXtyZXR1cm4gdGhpcy5kYXRlUmVnZXgudGVzdCh0KXx8dGhpcy5pc29SZWdleC50ZXN0KHQpfXNldFllYXJGcm9tMFRvMTAwKHQsZSl7ZT49MCYmZTwxMDAmJnQuc2V0RnVsbFllYXIoZSl9c3BsaXREYXRlKHQpe3JldHVybnt5ZWFyOnQuZ2V0RnVsbFllYXIoKSxtb250aDp0LmdldE1vbnRoKCksZGF5OnQuZ2V0RGF0ZSgpfX12YWxpZGF0ZURhdGVSYW5nZSh0LGUsbil7cmV0dXJuIGUmJm4/dD49ZSYmdDw9bjplJiYhbj90Pj1lOiEoIWUmJm4pfHx0PD1ufXZhbGlkYXRlRGF0ZSh0KXtjb25zdCBlPXQgaW5zdGFuY2VvZiBEYXRlP3RoaXMuY29udmVydERhdGVUb0lTTyh0KTp0O3JldHVybiB0aGlzLmlzVmFsaWRJc28oZSk/ZTp2b2lkIDB9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHR9LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKSxWdj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W052XX0pLHR9KSgpLEx2PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tyaF1dfSksdH0pKCk7TWF0aCxNYXRoLE1hdGguZmxvb3IoMjUpO3ZhciBCdj1mdW5jdGlvbih0KXtyZXR1cm4gdC5Db2xvcjAxPSJjb2xvci0wMSIsdC5Db2xvcjAyPSJjb2xvci0wMiIsdC5Db2xvcjAzPSJjb2xvci0wMyIsdC5Db2xvcjA0PSJjb2xvci0wNCIsdC5Db2xvcjA1PSJjb2xvci0wNSIsdC5Db2xvcjA2PSJjb2xvci0wNiIsdC5Db2xvcjA3PSJjb2xvci0wNyIsdC5Db2xvcjA4PSJjb2xvci0wOCIsdC5Db2xvcjA5PSJjb2xvci0wOSIsdC5Db2xvcjEwPSJjb2xvci0xMCIsdC5Db2xvcjExPSJjb2xvci0xMSIsdC5Db2xvcjEyPSJjb2xvci0xMiIsdH0oe30pO09iamVjdC52YWx1ZXMoQnYpLE1hdGgsTWF0aC5mbG9vcigyNSksTWF0aCxNYXRoO2xldCBVdj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbcmgsTXZdXX0pLHR9KSgpLEh2PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tyaF1dfSksdH0pKCksJHY9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3JoXV19KSx0fSkoKSx6dj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbcmgsJHZdXX0pLHR9KSgpLHF2PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tyaF1dfSksdH0pKCksV3Y9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tyaCx5dl1dfSksdH0pKCksR3Y9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3JoLFd2XV19KSx0fSkoKSxadj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5lcnJvclBhdHRlcm49IiJ9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1maWVsZC1jb250YWluZXItYm90dG9tIl1dLGlucHV0czp7ZXJyb3JQYXR0ZXJuOlsicC1lcnJvci1wYXR0ZXJuIiwiZXJyb3JQYXR0ZXJuIl19LGRlY2xzOjIsdmFyczoxLGNvbnN0czpbWzEsInBvLWZpZWxkLWNvbnRhaW5lci1ib3R0b20iXSxbImNsYXNzIiwicG8tZmllbGQtY29udGFpbmVyLWJvdHRvbS10ZXh0LWVycm9yIiw0LCJuZ0lmIl0sWzEsInBvLWZpZWxkLWNvbnRhaW5lci1ib3R0b20tdGV4dC1lcnJvciJdLFsxLCJwby1pY29uIiwicG8taWNvbi13YXJuaW5nIiwicG8tZmllbGQtY29udGFpbmVyLWljb24tZXJyb3IiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihjbygwLCJkaXYiLDApLG9vKDEsTXksMywxLCJzcGFuIiwxKSxobygpKSwyJnQmJihOcygxKSxsbygibmdJZiIsZS5lcnJvclBhdHRlcm4pKX0sZGlyZWN0aXZlczpbcWNdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpO2NvbnN0IEt2PXtlbjp7b3B0aW9uYWw6IihPcHRpb25hbCkifSxlczp7b3B0aW9uYWw6IihPcGNpb25hbCkifSxwdDp7b3B0aW9uYWw6IihPcGNpb25hbCkifSxydTp7b3B0aW9uYWw6IihcdTA0MWZcdTA0M2VcdTA0MzZcdTA0MzVcdTA0M2JcdTA0MzBcdTA0M2RcdTA0MzhcdTA0NGUpIn19O2xldCBZdj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuX29wdGlvbmFsPSExO2NvbnN0IGU9dC5nZXRTaG9ydExhbmd1YWdlKCk7dGhpcy5saXRlcmFscz1PYmplY3QuYXNzaWduKHt9LEt2W2VdKX1zZXQgb3B0aW9uYWwodCl7dGhpcy5fb3B0aW9uYWw9aHYodCl9Z2V0IG9wdGlvbmFsKCl7cmV0dXJuIHRoaXMuX29wdGlvbmFsfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhbyhmdikpfSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1maWVsZC1jb250YWluZXIiXV0saW5wdXRzOntvcHRpb25hbDpbInAtb3B0aW9uYWwiLCJvcHRpb25hbCJdLGxhYmVsOlsicC1sYWJlbCIsImxhYmVsIl0saGVscDpbInAtaGVscCIsImhlbHAiXX0sbmdDb250ZW50U2VsZWN0b3JzOkV5LGRlY2xzOjcsdmFyczozLGNvbnN0czpbWzEsInBvLWZpZWxkLWNvbnRhaW5lciJdLFsxLCJwby1maWVsZC1jb250YWluZXItdGl0bGUiXSxbMSwicG8tZmllbGQtdGl0bGUiXSxbImNsYXNzIiwicG8tZmllbGQtb3B0aW9uYWwiLDQsIm5nSWYiXSxbImNsYXNzIiwicG8tZmllbGQtaGVscCIsNCwibmdJZiJdLFsxLCJwby1maWVsZC1vcHRpb25hbCJdLFsxLCJwby1maWVsZC1oZWxwIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoRG8oKSxjbygwLCJkaXYiLDApLGNvKDEsImRpdiIsMSksY28oMiwic3BhbiIsMiksSG8oMyksaG8oKSxvbyg0LGp5LDIsMSwic3BhbiIsMyksaG8oKSxvbyg1LE55LDIsMSwiZGl2Iiw0KSxFbyg2KSxobygpKSwyJnQmJihOcygzKSwkbyhlLmxhYmVsKSxOcygxKSxsbygibmdJZiIsZS5vcHRpb25hbCYmKGUubGFiZWx8fGUuaGVscCkpLE5zKDEpLGxvKCJuZ0lmIixlLmhlbHApKX0sZGlyZWN0aXZlczpbcWNdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpLFF2PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tyaF1dfSksdH0pKCksWHY9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3JoLFhkLFF2XV19KSx0fSkoKSxKdj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5kZWZhdWx0VmFsdWU9IiIsdGhpcy5jaGFuZ2VFdmVudD1uZXcgZ2x9Y2xlYXIoKXt0aGlzLnNldElucHV0VmFsdWUodGhpcy5kZWZhdWx0VmFsdWUpLHRoaXMuY2hhbmdlRXZlbnQuZW1pdCh0aGlzLmRlZmF1bHRWYWx1ZSl9c2hvd0ljb24oKXtyZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWUhPT10aGlzLmdldElucHV0VmFsdWUoKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsaW5wdXRzOntkZWZhdWx0VmFsdWU6WyJwLWRlZmF1bHQtdmFsdWUiLCJkZWZhdWx0VmFsdWUiXSxpbnB1dFJlZjpbInAtZWxlbWVudC1yZWYiLCJpbnB1dFJlZiJdfSxvdXRwdXRzOntjaGFuZ2VFdmVudDoicC1jaGFuZ2UtZXZlbnQifX0pLHR9KSgpLHRiPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBKdntzZXRJbnB1dFZhbHVlKHQpe3RoaXMuaW5wdXRSZWYmJnRoaXMuaW5wdXRSZWYubmF0aXZlRWxlbWVudCYmKHRoaXMuaW5wdXRSZWYubmF0aXZlRWxlbWVudC52YWx1ZT10KX1nZXRJbnB1dFZhbHVlKCl7aWYodGhpcy5pbnB1dFJlZiYmdGhpcy5pbnB1dFJlZi5uYXRpdmVFbGVtZW50KXJldHVybiB0aGlzLmlucHV0UmVmLm5hdGl2ZUVsZW1lbnQudmFsdWV9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbigpe2xldCBlO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oZXx8KGU9Vm4odCkpKShufHx0KX19KCksdC5cdTAyNzVjbXA9SHQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tY2xlYW4iXV0sZmVhdHVyZXM6W1ppXSxkZWNsczoxLHZhcnM6MSxjb25zdHM6W1siY2xhc3MiLCJwby1pY29uIHBvLWZpZWxkLWljb24gcG8taWNvbi1jbG9zZSIsMywiY2xpY2siLDQsIm5nSWYiXSxbMSwicG8taWNvbiIsInBvLWZpZWxkLWljb24iLCJwby1pY29uLWNsb3NlIiwzLCJjbGljayJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmb28oMCxWeSwxLDAsInNwYW4iLDApLDImdCYmbG8oIm5nSWYiLGUuc2hvd0ljb24oKSl9LGRpcmVjdGl2ZXM6W3FjXSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxlYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbcmhdXX0pLHR9KSgpO2NsYXNzIG5ie2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5tYXNrPSIiLHRoaXMuZm9ybWF0TW9kZWw9ITEsdGhpcy5pbml0aWFsUG9zaXRpb249MCx0aGlzLmZpbmFsUG9zaXRpb249MCx0aGlzLnBhdHRlcm49IiIsdGhpcy5tYXNrPXQsdGhpcy5mb3JtYXRNb2RlbD1lLHRoaXMucGF0dGVybj10aGlzLmdldFJlZ2V4RnJvbU1hc2sodCl9Z2V0IGdldFBhdHRlcm4oKXtyZXR1cm4gdGhpcy5wYXR0ZXJufWdldCBnZXRWYWx1ZVRvSW5wdXQoKXtyZXR1cm4gdGhpcy52YWx1ZVRvSW5wdXR9c2V0IHNldFZhbHVlVG9JbnB1dCh0KXt0aGlzLnZhbHVlVG9JbnB1dD10fWdldCBnZXRWYWx1ZVRvTW9kZWwoKXtyZXR1cm4gdGhpcy52YWx1ZVRvTW9kZWx9c2V0IHNldFZhbHVlVG9Nb2RlbCh0KXt0aGlzLnZhbHVlVG9Nb2RlbD10fWtleXVwKHQpe2lmKHRoaXMubWFzayl7Y29uc3QgZT10LnRhcmdldC52YWx1ZTtzd2l0Y2goMTchPT10LmtleUNvZGUmJjkxIT09dC5rZXlDb2RlfHwodC50YXJnZXQudmFsdWU9dGhpcy5jb250cm9sRm9ybWF0dGluZyhlKSx0aGlzLnJlc2V0UG9zaXRpb25zKHQpKSx0LnByZXZlbnREZWZhdWx0KCksdC5rZXlDb2RlKXtjYXNlIDM3OnRoaXMuaW5pdGlhbFBvc2l0aW9uPjAmJnRoaXMuaW5pdGlhbFBvc2l0aW9uLS0sdGhpcy5zZXRQb3NpdGlvbk5vdFNoaWZ0S2V5KHQpLHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2UodCk7YnJlYWs7Y2FzZSAzOTp0aGlzLmluaXRpYWxQb3NpdGlvbjxlLnRvU3RyaW5nKCkubGVuZ3RoJiZ0aGlzLmluaXRpYWxQb3NpdGlvbisrLHRoaXMuc2V0UG9zaXRpb25Ob3RTaGlmdEtleSh0KSx0aGlzLnNldFNlbGVjdGlvblJhbmdlKHQpO2JyZWFrO2Nhc2UgMzU6dGhpcy5maW5hbFBvc2l0aW9uPWUudG9TdHJpbmcoKS5sZW5ndGgsdC5zaGlmdEtleXx8KHRoaXMuaW5pdGlhbFBvc2l0aW9uPXRoaXMuZmluYWxQb3NpdGlvbiksdGhpcy5zZXRQb3NpdGlvbnModCk7YnJlYWs7Y2FzZSAzNjp0LnNoaWZ0S2V5Pyh0aGlzLmZpbmFsUG9zaXRpb249dGhpcy5pbml0aWFsUG9zaXRpb24sdGhpcy5pbml0aWFsUG9zaXRpb249MCx0aGlzLnNldFBvc2l0aW9ucyh0KSk6KHRoaXMuaW5pdGlhbFBvc2l0aW9uPTAsdGhpcy5maW5hbFBvc2l0aW9uPTAsdGhpcy5zZXRQb3NpdGlvbnModCkpfX19c2V0UG9zaXRpb25Ob3RTaGlmdEtleSh0KXt0LnNoaWZ0S2V5fHwodGhpcy5maW5hbFBvc2l0aW9uPXRoaXMuaW5pdGlhbFBvc2l0aW9uKX1zZXRTZWxlY3Rpb25SYW5nZSh0KXt0aGlzLmluaXRpYWxQb3NpdGlvbj50aGlzLmZpbmFsUG9zaXRpb24/dC50YXJnZXQuc2V0U2VsZWN0aW9uUmFuZ2UodGhpcy5maW5hbFBvc2l0aW9uLHRoaXMuaW5pdGlhbFBvc2l0aW9uKTp0LnRhcmdldC5zZXRTZWxlY3Rpb25SYW5nZSh0aGlzLmluaXRpYWxQb3NpdGlvbix0aGlzLmZpbmFsUG9zaXRpb24pfWtleWRvd24odCl7aWYodGhpcy5tYXNrKXtsZXQgZT10LnRhcmdldC52YWx1ZTtpZig5PT09dC5rZXlDb2RlKXJldHVybjtpZih0LmN0cmxLZXl8fHQubWV0YUtleXx8dC5wcmV2ZW50RGVmYXVsdCgpLHQuY3RybEtleXx8dC5tZXRhS2V5JiY4NiE9PXQua2V5Q29kZXx8dC5rZXlDb2RlPj0zNyYmdC5rZXlDb2RlPD00MHx8MTY9PT10LmtleUNvZGV8fDk9PT10LmtleUNvZGUpcmV0dXJuO2lmKHRoaXMuaXNLZXlWYWxpZCh0LmtleUNvZGUpKXN3aXRjaChudWxsPT09dGhpcy5maW5hbFBvc2l0aW9uJiYodGhpcy5maW5hbFBvc2l0aW9uPXRoaXMuaW5pdGlhbFBvc2l0aW9uKSx0aGlzLnJldmVydFBvc2l0aW9ucyh0aGlzLmluaXRpYWxQb3NpdGlvbix0aGlzLmZpbmFsUG9zaXRpb24pLHQua2V5Q29kZSl7Y2FzZSA4OnRoaXMuZ2V0UG9zaXRpb24odCksdGhpcy5pbml0aWFsUG9zaXRpb248MCYmKHRoaXMuaW5pdGlhbFBvc2l0aW9uPTAsdGhpcy5zZXRQb3NpdGlvbnModCkpLHRoaXMuaW5pdGlhbFBvc2l0aW9uPT09dGhpcy5maW5hbFBvc2l0aW9uPyh0aGlzLmNoZWNrTWFza0JlZm9yZSh0LC0xKSwwIT09dGhpcy5pbml0aWFsUG9zaXRpb24mJihlPWUuc2xpY2UoMCx0aGlzLmluaXRpYWxQb3NpdGlvbi0xKStlLnNsaWNlKHRoaXMuZmluYWxQb3NpdGlvbiksZT10aGlzLmNvbnRyb2xGb3JtYXR0aW5nKGUpLHQudGFyZ2V0LnZhbHVlPWUsdGhpcy5jaGFuZ2VQb3NpdGlvbih0LC0xKSx0aGlzLmNoZWNrTWFza0JlZm9yZSh0LC0xKSx0aGlzLnNldFBvc2l0aW9ucyh0KSx0aGlzLnJlc2V0UG9zaXRpb25zKHQpKSk6dGhpcy5jbGVhclJhbmdlU2VsZWN0aW9uKGUsdCwhMCksdGhpcy5zZXRQb3NpdGlvbnModCk7YnJlYWs7Y2FzZSA0Njp0aGlzLmdldFBvc2l0aW9uKHQpLHRoaXMuaW5pdGlhbFBvc2l0aW9uPT09dGhpcy5maW5hbFBvc2l0aW9uPyh0aGlzLmNoZWNrTWFza0FmdGVyKHQsMSksZT1lLnNsaWNlKDAsdGhpcy5pbml0aWFsUG9zaXRpb24pK2Uuc2xpY2UodGhpcy5maW5hbFBvc2l0aW9uKzEpLGU9dGhpcy5jb250cm9sRm9ybWF0dGluZyhlKSx0LnRhcmdldC52YWx1ZT1lLHRoaXMuc2V0UG9zaXRpb25zKHQpLHRoaXMucmVzZXRQb3NpdGlvbnModCkpOnRoaXMuY2xlYXJSYW5nZVNlbGVjdGlvbihlLHQsITEpLHRoaXMuc2V0UG9zaXRpb25zKHQpO2JyZWFrO2RlZmF1bHQ6dGhpcy5nZXRQb3NpdGlvbih0KSxlPWUuc2xpY2UoMCx0aGlzLmluaXRpYWxQb3NpdGlvbikrdC5rZXkrZS5zbGljZSh0aGlzLmZpbmFsUG9zaXRpb24pLGU9dGhpcy5jb250cm9sRm9ybWF0dGluZyhlKSx0LnRhcmdldC52YWx1ZT1lLHRoaXMuY2hhbmdlUG9zaXRpb24odCwxKSx0aGlzLmNoZWNrTWFza0JlZm9yZSh0LDEpLHRoaXMuc2V0UG9zaXRpb25zKHQpLHRoaXMucmVzZXRQb3NpdGlvbnModCksdGhpcy5zZXRQb3NpdGlvbnModCl9fX1jbGVhclJhbmdlU2VsZWN0aW9uKHQsZSxuKXt0PXQuc2xpY2UoMCx0aGlzLmluaXRpYWxQb3NpdGlvbikrdC5zbGljZSh0aGlzLmZpbmFsUG9zaXRpb24pLHQ9dGhpcy5jb250cm9sRm9ybWF0dGluZyh0KSxlLnRhcmdldC52YWx1ZT10LG4mJnRoaXMuY2hlY2tNYXNrQmVmb3JlKGUsLTEpLHRoaXMuc2V0UG9zaXRpb25zKGUpLHRoaXMucmVzZXRQb3NpdGlvbnMoZSl9Y2xpY2sodCl7dGhpcy5pbml0aWFsUG9zaXRpb249dC50YXJnZXQuc2VsZWN0aW9uU3RhcnQsdGhpcy5maW5hbFBvc2l0aW9uPXQudGFyZ2V0LnNlbGVjdGlvbkVuZH1ibHVyKHQpe2lmKHRoaXMubWFzayl7bGV0IGU9dC50YXJnZXQudmFsdWU7ZT10aGlzLmNvbnRyb2xGb3JtYXR0aW5nKGUpLHQudGFyZ2V0LnZhbHVlPWV9fXJldmVydFBvc2l0aW9ucyh0LGUpe2lmKHQ+ZSl7Y29uc3Qgbj10O3RoaXMuaW5pdGlhbFBvc2l0aW9uPWUsdGhpcy5maW5hbFBvc2l0aW9uPW59fXJlc2V0UG9zaXRpb25zKHQpe3RoaXMuaW5pdGlhbFBvc2l0aW9uPXQudGFyZ2V0LnNlbGVjdGlvblN0YXJ0LHRoaXMuZmluYWxQb3NpdGlvbj10aGlzLmluaXRpYWxQb3NpdGlvbn1zZXRQb3NpdGlvbnModCl7dC50YXJnZXQuc2V0U2VsZWN0aW9uUmFuZ2UodGhpcy5pbml0aWFsUG9zaXRpb24sdGhpcy5maW5hbFBvc2l0aW9uKX1jaGFuZ2VQb3NpdGlvbih0LGUpe3RoaXMuaW5pdGlhbFBvc2l0aW9uPXRoaXMuaW5pdGlhbFBvc2l0aW9uK2UsdGhpcy5maW5hbFBvc2l0aW9uPXRoaXMuZmluYWxQb3NpdGlvbitlLHRoaXMuc2V0UG9zaXRpb25zKHQpfWdldFBvc2l0aW9uKHQpe3RoaXMuaW5pdGlhbFBvc2l0aW9uPXQudGFyZ2V0LnNlbGVjdGlvblN0YXJ0LHRoaXMuZmluYWxQb3NpdGlvbj10LnRhcmdldC5zZWxlY3Rpb25FbmQsdGhpcy5zZXRQb3NpdGlvbnModCl9Y29udHJvbEZvcm1hdHRpbmcodCl7aWYoIXQpcmV0dXJuIHRoaXMudmFsdWVUb0lucHV0PSIiLHRoaXMudmFsdWVUb01vZGVsPSIiLCIiO2xldCBlLG49dGhpcy5tYXNrO2NvbnN0IHI9W107bGV0IHM9MDtmb3IoO3RoaXMuaGFzT3B0aW9uYWxOdW1iZXIobik7KXIucHVzaChuKSxuPXRoaXMucmVwbGFjZU9wdGlvbmFsTnVtYmVyKG4pO2ZvcihyLnB1c2gobiksci5yZXZlcnNlKCksdGhpcy5mb3JtYXR0aW5nRW5kcz0hMTshdGhpcy5mb3JtYXR0aW5nRW5kcyYmKHRoaXMuZm9ybWF0dGluZ0VuZHM9ITAscltzXSk7KWU9dGhpcy5mb3JtYXRWYWx1ZSh0LHJbc10pLHMrKztyZXR1cm4gZX1mb3JtYXRWYWx1ZSh0LGUpe2NvbnN0IG49KGU9ZS5yZXBsYWNlKC9cPy9nLCIiKSkucmVwbGFjZSh0aGlzLmxpc3RWYWxpZEtleXMoKSwiXyIpO2xldCByPTAscz0iIjt0PXRoaXMucmVtb3ZlRm9ybWF0dGluZ1ZhbHVlKHQpO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBvPXRbaV07aWYoIW5bcl0pe3RoaXMuZm9ybWF0dGluZ0VuZHM9ITE7YnJlYWt9Zm9yKDt0aGlzLmlzRml4ZWRDaGFyYWN0ZXJHdWlkZShuW3JdKSYmbltyXTspcys9bltyXSxyKys7aWYoIXRoaXMuaXNLZXlWYWxpZE1hc2sobyxlW3JdKSlicmVhaztzKz1vLHIrK31yZXR1cm4gdGhpcy5mb3JtYXRNb2RlbD8odGhpcy52YWx1ZVRvSW5wdXQ9cyx0aGlzLnZhbHVlVG9Nb2RlbD1zKToodGhpcy52YWx1ZVRvSW5wdXQ9cyx0aGlzLnZhbHVlVG9Nb2RlbD10aGlzLnJlbW92ZUZvcm1hdHRpbmdWYWx1ZShzKSksc31jaGVja01hc2tCZWZvcmUodCxlKXt0aGlzLmlzRml4ZWRDaGFyYWN0ZXJHdWlkZSh0LnRhcmdldC52YWx1ZS50b1N0cmluZygpLmNoYXJBdCh0aGlzLmluaXRpYWxQb3NpdGlvbi0xKSkmJih0aGlzLmNoYW5nZVBvc2l0aW9uKHQsZSksdGhpcy5jaGVja01hc2tCZWZvcmUodCxlKSl9Y2hlY2tNYXNrQWZ0ZXIodCxlKXt0aGlzLmlzRml4ZWRDaGFyYWN0ZXJHdWlkZSh0LnRhcmdldC52YWx1ZS50b1N0cmluZygpLmNoYXJBdCh0aGlzLmluaXRpYWxQb3NpdGlvbikpJiYodGhpcy5jaGFuZ2VQb3NpdGlvbih0LGUpLHRoaXMuY2hlY2tNYXNrQWZ0ZXIodCxlKSl9cmVwbGFjZU9wdGlvbmFsTnVtYmVyKHQpe2xldCBlPTk7Zm9yKDtlPj0wOyl7aWYodC5pbmRleE9mKGUrIj8iKT4tMSlyZXR1cm4gdC5yZXBsYWNlKGUrIj8iLCIiKTtlLS19cmV0dXJuIHR9aXNGaXhlZENoYXJhY3Rlckd1aWRlKHQpe3JldHVybiB0aGlzLnRlc3RSZWdleCh0LHRoaXMuZ2V0Rml4ZWRDaGFyYWN0ZXJHdWlkZSgpKX1nZXRGaXhlZENoYXJhY3Rlckd1aWRlKCl7cmV0dXJuL1tcXFwvKCkgKy0uXDpdL2d9bGlzdFZhbGlkS2V5cygpe3JldHVybi9bYS16QS1aMC05XS9nfWlzS2V5VmFsaWQodCl7cmV0dXJuIHRoaXMuaXNLZXlDb2RlVmFsaWQodCl9aXNLZXlDb2RlVmFsaWQodCl7cmV0dXJuIHQ+PTQ4JiZ0PD01N3x8dD49NjUmJnQ8PTkwfHx0Pj05NiYmdDw9MTA1fHw4PT09dHx8OT09PXR8fDQ2PT09dH1pc0tleVZhbGlkTWFzayh0LGUpe3JldHVybiB0aGlzLnRlc3RSZWdleCh0LHRoaXMucmVwbGFjZU1hc2soZSkpfXRlc3RSZWdleCh0LGUpe3JldHVybiBlLnRlc3QodCl9cmVtb3ZlRm9ybWF0dGluZ1ZhbHVlKHQpe3JldHVybiB0LnJlcGxhY2UodGhpcy5nZXRGaXhlZENoYXJhY3Rlckd1aWRlKCksIiIpfWhhc09wdGlvbmFsTnVtYmVyKHQpe3JldHVybiB0Lm1hdGNoKC9cZFw/L2cpfXJlcGxhY2VNYXNrKHQpe2xldCBlPS8uLztzd2l0Y2godCl7Y2FzZSIwIjplPS9bMF0vO2JyZWFrO2Nhc2UiMSI6ZT0vWzAtMV0vO2JyZWFrO2Nhc2UiMiI6ZT0vWzAtMl0vO2JyZWFrO2Nhc2UiMyI6ZT0vWzAtM10vO2JyZWFrO2Nhc2UiNCI6ZT0vWzAtNF0vO2JyZWFrO2Nhc2UiNSI6ZT0vWzAtNV0vO2JyZWFrO2Nhc2UiNiI6ZT0vWzAtNl0vO2JyZWFrO2Nhc2UiNyI6ZT0vWzAtN10vO2JyZWFrO2Nhc2UiOCI6ZT0vWzAtOF0vO2JyZWFrO2Nhc2UiOSI6ZT0vWzAtOV0vO2JyZWFrO2Nhc2UiICI6ZT0vXHMvO2JyZWFrO2Nhc2UiQCI6ZT0vW2EtekEtWl0vO2JyZWFrO2Nhc2UidyI6ZT0vW2EtekEtWjAtOV0vfXJldHVybiBlfWdldFJlZ2V4RnJvbU1hc2sodCl7aWYodCl7bGV0IGU7cmV0dXJuIHRoaXMuZm9ybWF0TW9kZWw/KGU9dC5yZXBsYWNlKC9cXC9nLCJcXFxcIiksZT1lLnJlcGxhY2UoL1wrL2csIlxcKyIpLGU9ZS5yZXBsYWNlKC9cLi9nLCJcXC4iKSxlPWUucmVwbGFjZSgvLS9nLCItIiksZT1lLnJlcGxhY2UoL1woL2csIlxcKCIpLGU9ZS5yZXBsYWNlKC9cKS9nLCJcXCkiKSxlPWUucmVwbGFjZSgvXC8vZywiXFwvIiksZT1lLnJlcGxhY2UoL1xzL2csIlxccyIpLGU9ZS5yZXBsYWNlKC86L2csIlxcOiIpLGU9ZS5yZXBsYWNlKC9cQCg/IVxzKS9nLCJcXHciKSxlPWUucmVwbGFjZSgvXGQvZywiXFx3IikpOihlPXQucmVwbGFjZSgvXFwvZywiIiksZT1lLnJlcGxhY2UoL1wrL2csIiIpLGU9ZS5yZXBsYWNlKC9cLi9nLCIiKSxlPWUucmVwbGFjZSgvLS9nLCIiKSxlPWUucmVwbGFjZSgvXCgvZywiIiksZT1lLnJlcGxhY2UoL1wpL2csIiIpLGU9ZS5yZXBsYWNlKC9cLy9nLCIiKSxlPWUucmVwbGFjZSgvXHMvZywiIiksZT1lLnJlcGxhY2UoLzovZywiIiksZT1lLnJlcGxhY2UoL1xAL2csIlxcdyIpLGU9ZS5yZXBsYWNlKC9cZC9nLCJcXHciKSksZX1yZXR1cm4gbnVsbH19bGV0IHJiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tyaCxYZCxRdixlYixMdl1dfSksdH0pKCk7Y29uc3Qgc2I9e2VuOntjbG9zZToiQ2xvc2UifSxlczp7Y2xvc2U6IkNlcnJhciJ9LHB0OntjbG9zZToiRmVjaGFyIn0scnU6e2Nsb3NlOiJcdTA0MzFcdTA0M2JcdTA0MzhcdTA0MzdcdTA0M2FcdTA0M2UifX07bGV0IGliPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5pc0hpZGRlbj0hMCx0aGlzLm9uWENsb3NlZD1uZXcgZ2wsdGhpcy5faGlkZUNsb3NlPSExLHRoaXMuX3NpemU9Im1kIix0aGlzLmNsaWNrT3V0PSExLHRoaXMubGFuZ3VhZ2U9dC5nZXRTaG9ydExhbmd1YWdlKCksdGhpcy5saXRlcmFscz1PYmplY3QuYXNzaWduKHt9LHNiW3RoaXMubGFuZ3VhZ2VdKX1zZXQgc2l6ZSh0KXt0aGlzLl9zaXplPVsic20iLCJtZCIsImxnIiwieGwiLCJhdXRvIl0uaW5kZXhPZih0KT4tMT90OiJtZCJ9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5fc2l6ZX1zZXQgc2V0Q2xpY2tPdXQodCl7dGhpcy5jbGlja091dD0iIiE9PXQmJmh2KHQpfXNldCBoaWRlQ2xvc2UodCl7dGhpcy5faGlkZUNsb3NlPWh2KHQpfWdldCBoaWRlQ2xvc2UoKXtyZXR1cm4gdGhpcy5faGlkZUNsb3NlfWNsb3NlKHQ9ITEpe3RoaXMuaXNIaWRkZW49ITAsdCYmdGhpcy5vblhDbG9zZWQuZW1pdCh0KX1vcGVuKCl7dGhpcy52YWxpZFByaW1hcnlBY3Rpb24oKSx0aGlzLmlzSGlkZGVuPSExfXZhbGlkUHJpbWFyeUFjdGlvbigpe3RoaXMucHJpbWFyeUFjdGlvbnx8KHRoaXMucHJpbWFyeUFjdGlvbj17YWN0aW9uOigpPT50aGlzLmNsb3NlKCksbGFiZWw6dGhpcy5saXRlcmFscy5jbG9zZX0pLHRoaXMucHJpbWFyeUFjdGlvbi5hY3Rpb258fCh0aGlzLnByaW1hcnlBY3Rpb24uYWN0aW9uPSgpPT50aGlzLmNsb3NlKCkpLHRoaXMucHJpbWFyeUFjdGlvbi5sYWJlbHx8KHRoaXMucHJpbWFyeUFjdGlvbi5sYWJlbD10aGlzLmxpdGVyYWxzLmNsb3NlKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYW8oZnYpKX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxpbnB1dHM6e3NpemU6WyJwLXNpemUiLCJzaXplIl0sc2V0Q2xpY2tPdXQ6WyJwLWNsaWNrLW91dCIsInNldENsaWNrT3V0Il0saGlkZUNsb3NlOlsicC1oaWRlLWNsb3NlIiwiaGlkZUNsb3NlIl0scHJpbWFyeUFjdGlvbjpbInAtcHJpbWFyeS1hY3Rpb24iLCJwcmltYXJ5QWN0aW9uIl0sdGl0bGU6WyJwLXRpdGxlIiwidGl0bGUiXSxzZWNvbmRhcnlBY3Rpb246WyJwLXNlY29uZGFyeS1hY3Rpb24iLCJzZWNvbmRhcnlBY3Rpb24iXX19KSx0fSkoKSxvYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5hY3RpdmVPdmVybGF5PVtdfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0fSx0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QifSksdH0pKCksYWI9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGlie2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoZSksdGhpcy5wb0FjdGl2ZU92ZXJsYXlTZXJ2aWNlPXQsdGhpcy5mb2N1c2FibGVFbGVtZW50cz0iaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksIGEiLHRoaXMuaWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cmV0dXJuIE1hdGguZmxvb3IoNjU1MzYqKDErTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSl9cmV0dXJuIHQoKSt0KCkrIi0iK3QoKSsiLSIrdCgpKyItIit0KCkrIi0iK3QoKSt0KCkrdCgpfSgpfWNsb3NlKHQ9ITEpe3RoaXMucG9BY3RpdmVPdmVybGF5U2VydmljZS5hY3RpdmVPdmVybGF5LnBvcCgpLHN1cGVyLmNsb3NlKHQpLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLnNvdXJjZUVsZW1lbnQmJnRoaXMuc291cmNlRWxlbWVudC5mb2N1cygpfWNsb3NlTW9kYWxPbkVzY2FwZUtleSh0KXt0aGlzLmhpZGVDbG9zZXx8KHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuY2xvc2UoKSl9Z2V0UHJpbWFyeUFjdGlvbkJ1dHRvblR5cGUoKXtyZXR1cm4gdGhpcy5wcmltYXJ5QWN0aW9uLmRhbmdlcj8iZGFuZ2VyIjoicHJpbWFyeSJ9Z2V0U2Vjb25kYXJ5QWN0aW9uQnV0dG9uVHlwZSgpe3JldHVybiB0aGlzLnNlY29uZGFyeUFjdGlvbiYmdGhpcy5zZWNvbmRhcnlBY3Rpb24uZGFuZ2VyJiYhdGhpcy5wcmltYXJ5QWN0aW9uLmRhbmdlcj8iZGFuZ2VyIjoiZGVmYXVsdCJ9b25DbGlja091dCh0KXt0aGlzLmNsaWNrT3V0JiYhdGhpcy5tb2RhbENvbnRlbnQubmF0aXZlRWxlbWVudC5jb250YWlucyh0LnRhcmdldCkmJnRoaXMuY2xvc2UoKX1vcGVuKCl7dGhpcy5zb3VyY2VFbGVtZW50PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQsc3VwZXIub3BlbigpLHRoaXMuaGFuZGxlRm9jdXMoKX1oYW5kbGVGb2N1cygpe3RoaXMucG9BY3RpdmVPdmVybGF5U2VydmljZS5hY3RpdmVPdmVybGF5LnB1c2godGhpcy5pZCksc2V0VGltZW91dCgoKT0+e3RoaXMubW9kYWxDb250ZW50JiYodGhpcy5pbml0Rm9jdXMoKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5mb2N1c0Z1bmN0aW9uLCEwKSl9KX1pbml0Rm9jdXMoKXt0aGlzLmZvY3VzRnVuY3Rpb249dD0+e3RoaXMubW9kYWxDb250ZW50Lm5hdGl2ZUVsZW1lbnQuY29udGFpbnModC50YXJnZXQpfHx0aGlzLnBvQWN0aXZlT3ZlcmxheVNlcnZpY2UuYWN0aXZlT3ZlcmxheVt0aGlzLnBvQWN0aXZlT3ZlcmxheVNlcnZpY2UuYWN0aXZlT3ZlcmxheS5sZW5ndGgtMV0hPT10aGlzLmlkfHwodC5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLmZpcnN0RWxlbWVudC5mb2N1cygpKX0sdGhpcy5zZXRGaXJzdEVsZW1lbnQoKSx0aGlzLmhpZGVDbG9zZT90aGlzLmZpcnN0RWxlbWVudC5mb2N1cygpOih0aGlzLm1vZGFsQ29udGVudC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5mb2N1c2FibGVFbGVtZW50cylbMV18fHRoaXMubW9kYWxDb250ZW50Lm5hdGl2ZUVsZW1lbnQpLmZvY3VzKCl9cmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5mb2N1c0Z1bmN0aW9uLCEwKX1zZXRGaXJzdEVsZW1lbnQoKXt0aGlzLmZpcnN0RWxlbWVudD10aGlzLm1vZGFsQ29udGVudC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5mb2N1c2FibGVFbGVtZW50cyl8fHRoaXMubW9kYWxDb250ZW50Lm5hdGl2ZUVsZW1lbnR9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFvKG9iKSxhbyhmdikpfSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1tb2RhbCJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJmtsKEJ5LDUsZ2EpLDImdCl7bGV0IHQ7eGwodD1UbCgpKSYmKGUubW9kYWxDb250ZW50PXQuZmlyc3QpfX0sZmVhdHVyZXM6W1ppXSxuZ0NvbnRlbnRTZWxlY3RvcnM6RXksZGVjbHM6MSx2YXJzOjEsY29uc3RzOltbImNsYXNzIiwicG8tbW9kYWwiLCJ0YWJpbmRleCIsIjAiLDMsImtleWRvd24uZXNjIiw0LCJuZ0lmIl0sWyJ0YWJpbmRleCIsIjAiLDEsInBvLW1vZGFsIiwzLCJrZXlkb3duLmVzYyJdLFsxLCJwby1tb2RhbC1vdmVybGF5Il0sWzEsInBvLW1vZGFsLWNvbnRhaW5lciIsInBvLXBiLTIiLCJwby1wdC0yIiwzLCJtb3VzZWRvd24iXSxbMSwicG8tbW9kYWwtdmVydGljYWwtYWxpZ24iXSxbInRhYmluZGV4IiwiLTEiXSxbIm1vZGFsQ29udGVudCIsIiJdLFsxLCJwby1tb2RhbC1oZWFkZXIiXSxbMSwicG8tbW9kYWwtdGl0bGUiLCJwby10ZXh0LWVsbGlwc2lzIl0sWyJjbGFzcyIsInBvLW1vZGFsLWhlYWRlci1jbG9zZS1idXR0b24iLCJ0YWJpbmRleCIsIjAiLDMsImNsaWNrIiw0LCJuZ0lmIl0sWzEsInBvLW1vZGFsLWJvZHkiXSxbMSwicG8tbW9kYWwtZm9vdGVyIl0sWzMsInAtZGlzYWJsZWQiLCJwLWxhYmVsIiwicC1sb2FkaW5nIiwicC10eXBlIiwicC1jbGljayIsNCwibmdJZiJdLFsxLCJwby1idXR0b24tbW9kYWwtZmlyc3QtYWN0aW9uIiwzLCJwLWRpc2FibGVkIiwicC1sYWJlbCIsInAtbG9hZGluZyIsInAtdHlwZSIsInAtY2xpY2siXSxbInRhYmluZGV4IiwiMCIsMSwicG8tbW9kYWwtaGVhZGVyLWNsb3NlLWJ1dHRvbiIsMywiY2xpY2siXSxbMSwicG8taWNvbiIsInBvLWljb24tY2xvc2UiXSxbMywicC1kaXNhYmxlZCIsInAtbGFiZWwiLCJwLWxvYWRpbmciLCJwLXR5cGUiLCJwLWNsaWNrIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoRG8oKSxvbygwLCR5LDE1LDEwLCJkaXYiLDApKSwyJnQmJmxvKCJuZ0lmIiwhZS5pc0hpZGRlbil9LGRpcmVjdGl2ZXM6W3FjLE92XSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxsYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbcmgsUHZdXX0pLHR9KSgpLHViPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tyaF1dfSksdH0pKCksY2I9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltvYl19KSx0fSkoKSxoYj0oKCk9PntjbGFzcyB0e2dldENvbG9yKHQpe3JldHVybiBPYmplY3QudmFsdWVzKEJ2KS5pbmNsdWRlcyh0LmNvbG9yKT90LmNvbG9yOnRoaXMuZ2V0Q29sb3JGcm9tVHlwZSh0LnR5cGV8fHQuY29sb3IpfWdldENvbG9yRnJvbVR5cGUodCl7c3dpdGNoKHQpe2Nhc2UiZGFuZ2VyIjpyZXR1cm4gQnYuQ29sb3IwNztjYXNlInN1Y2Nlc3MiOnJldHVybiBCdi5Db2xvcjExO2Nhc2Uid2FybmluZyI6cmV0dXJuIEJ2LkNvbG9yMDg7ZGVmYXVsdDpyZXR1cm4gQnYuQ29sb3IwMX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLGRiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbaGJdfSksdH0pKCkscGI9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5jb21wb25lbnRSZXNvbHZlcj10LHRoaXMuYXBwbGljYXRpb25SZWY9ZSx0aGlzLmluamVjdG9yPW59Y3JlYXRlQ29tcG9uZW50SW5BcHBsaWNhdGlvbih0KXtjb25zdCBlPXRoaXMuY29tcG9uZW50UmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodCkuY3JlYXRlKHRoaXMuaW5qZWN0b3IpO3JldHVybiB0aGlzLmFwcGxpY2F0aW9uUmVmLmF0dGFjaFZpZXcoZS5ob3N0VmlldyksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlLmhvc3RWaWV3LnJvb3ROb2Rlc1swXSksZX1kZXN0cm95Q29tcG9uZW50SW5BcHBsaWNhdGlvbih0KXt0aGlzLmFwcGxpY2F0aW9uUmVmLmRldGFjaFZpZXcodC5ob3N0VmlldyksdC5kZXN0cm95KCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKGhhKSxvcihfdSksb3IoV2kpKX0sdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KG9yKGhhKSxvcihfdSksb3IoT2kpKX0sdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpLGZiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbcGJdLGltcG9ydHM6W1tdXX0pLHR9KSgpLGdiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbUnZdfSksdH0pKCk7dmFyIG1iPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuQWxlcnQ9MF09IkFsZXJ0Iix0W3QuQ29uZmlybT0xXT0iQ29uZmlybSIsdH0oe30pO2NvbnN0IHliPXtlbjp7b2s6Ik9rIn0sZXM6e29rOiJPayJ9LHB0OntvazoiT2sifSxydTp7b2s6Ilx1MDQxZVx1MDQzYSJ9fSx2Yj17ZW46e2NhbmNlbDoiQ2FuY2VsIixjb25maXJtOiJDb25maXJtIn0sZXM6e2NhbmNlbDoiQ2FuY2VsYXIiLGNvbmZpcm06IkNvbmZpcm1hciJ9LHB0OntjYW5jZWw6IkNhbmNlbGFyIixjb25maXJtOiJDb25maXJtYXIifSxydTp7Y2FuY2VsOiJcdTA0M2VcdTA0NDJcdTA0M2NcdTA0MzVcdTA0M2RcdTA0MzhcdTA0NDJcdTA0NGMiLGNvbmZpcm06Ilx1MDQzZlx1MDQzZVx1MDQzNFx1MDQ0Mlx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzNFx1MDQzOFx1MDQ0Mlx1MDQ0YyJ9fTtsZXQgYmI9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnByaW1hcnlBY3Rpb249e2xhYmVsOiJvayIsYWN0aW9uOigpPT57fX0sdGhpcy5sYW5ndWFnZT10LmdldFNob3J0TGFuZ3VhZ2UoKX1uZ09uRGVzdHJveSgpe3RoaXMuY2xvc2VTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX1uZ09uSW5pdCgpe3RoaXMuY2xvc2VTdWJzY3JpcHRpb249dGhpcy5wb01vZGFsLm9uWENsb3NlZC5zdWJzY3JpYmUodD0+dGhpcy5jbG9zZSghMCkpfWNsb3NlKHQ9ITEpe3QmJnRoaXMuY2xvc2VBY3Rpb24mJnRoaXMuY2xvc2VBY3Rpb24oKSx0aGlzLnBvTW9kYWwuY2xvc2UoKSx0aGlzLmRlc3Ryb3koKX1kZXN0cm95KCl7dGhpcy5jb21wb25lbnRSZWYmJnRoaXMuY29tcG9uZW50UmVmLmRlc3Ryb3koKX1jb25maWdEaWFsb2codCxlLG4scixzKXt0aGlzLnByaW1hcnlBY3Rpb249e2xhYmVsOnQsYWN0aW9uOigpPT57ZSYmZSgpLHRoaXMuY2xvc2UoKX19LG4mJih0aGlzLnNlY29uZGFyeUFjdGlvbj17bGFiZWw6bixhY3Rpb246KCk9PntyJiZyKCksdGhpcy5jbG9zZSgpfX0pLHRoaXMuY2xvc2VBY3Rpb249c31vcGVuKHQsZSxuKXtzd2l0Y2godGhpcy50aXRsZT10LnRpdGxlLHRoaXMubWVzc2FnZT10Lm1lc3NhZ2UsdGhpcy5jb21wb25lbnRSZWY9bix0aGlzLnNldERpYWxvZ0xpdGVyYWxzKHQsZSksZSl7Y2FzZSBtYi5Db25maXJtOnRoaXMuY29uZmlnRGlhbG9nKHRoaXMubGl0ZXJhbHNDb25maXJtLmNvbmZpcm0sdC5jb25maXJtLHRoaXMubGl0ZXJhbHNDb25maXJtLmNhbmNlbCx0LmNhbmNlbCx0LmNsb3NlKTticmVhaztjYXNlIG1iLkFsZXJ0OnRoaXMuY29uZmlnRGlhbG9nKHRoaXMubGl0ZXJhbHNBbGVydC5vayx0Lm9rKX10aGlzLnBvTW9kYWwub3BlbigpfXNldERpYWxvZ0xpdGVyYWxzKHQsZSl7Y29uc3Qgbj15YixyPXZiLHM9dC5saXRlcmFscztlPT09bWIuQWxlcnQ/dGhpcy5saXRlcmFsc0FsZXJ0PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4ucHQpLG5bdGhpcy5sYW5ndWFnZV0pLHMpOnRoaXMubGl0ZXJhbHNDb25maXJtPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHIucHQpLHJbdGhpcy5sYW5ndWFnZV0pLHMpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhbyhmdikpfSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJuZy1jb21wb25lbnQiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZrbChhYiw3KSwyJnQpe2xldCB0O3hsKHQ9VGwoKSkmJihlLnBvTW9kYWw9dC5maXJzdCl9fSxkZWNsczoyLHZhcnM6NCxjb25zdHM6W1szLCJwLXRpdGxlIiwicC1wcmltYXJ5LWFjdGlvbiIsInAtc2Vjb25kYXJ5LWFjdGlvbiJdLFszLCJpbm5lckh0bWwiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihjbygwLCJwby1tb2RhbCIsMCkscG8oMSwiZGl2IiwxKSxobygpKSwyJnQmJihsbygicC10aXRsZSIsZS50aXRsZSkoInAtcHJpbWFyeS1hY3Rpb24iLGUucHJpbWFyeUFjdGlvbikoInAtc2Vjb25kYXJ5LWFjdGlvbiIsZS5zZWNvbmRhcnlBY3Rpb24pLE5zKDEpLGxvKCJpbm5lckh0bWwiLGUubWVzc2FnZSxVcikpfSxkaXJlY3RpdmVzOlthYl0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksd2I9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGNsYXNze2NvbmZpcm0odCl7dGhpcy5vcGVuRGlhbG9nKG1iLkNvbmZpcm0sdCl9YWxlcnQodCl7dGhpcy5vcGVuRGlhbG9nKG1iLkFsZXJ0LHQpfX17Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnBvQ29tcG9uZW50SW5qZWN0b3I9dH1vcGVuRGlhbG9nKHQsZSl7Y29uc3Qgbj10aGlzLnBvQ29tcG9uZW50SW5qZWN0b3IuY3JlYXRlQ29tcG9uZW50SW5BcHBsaWNhdGlvbihiYik7bi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCksbi5pbnN0YW5jZS5vcGVuKGUsdCxuKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkob3IocGIpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxfYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W3diXSxpbXBvcnRzOltbbGJdXX0pLHR9KSgpO3ZhciBDYj1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkJvdHRvbT0wXT0iQm90dG9tIix0W3QuVG9wPTFdPSJUb3AiLHR9KHt9KSxEYj1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkVycm9yPTBdPSJFcnJvciIsdFt0LkluZm9ybWF0aW9uPTFdPSJJbmZvcm1hdGlvbiIsdFt0LlN1Y2Nlc3M9Ml09IlN1Y2Nlc3MiLHRbdC5XYXJuaW5nPTNdPSJXYXJuaW5nIix0fSh7fSk7bGV0IEViPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBjbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMub3JpZW50YXRpb249Q2IuQm90dG9tfX17Y29uc3RydWN0b3IodCxlLG4scil7c3VwZXIoKSx0aGlzLmNoYW5nZURldGVjdG9yPWUsdGhpcy5lbGVtZW50ZVJlZj1uLHRoaXMucmVuZGVyZXI9cix0aGlzLmFsaXZlPSEwLHRoaXMubWFyZ2luPTIwLHRoaXMub2JzZXJ2YWJsZU9uQ2xvc2U9bmV3IEQsdGhpcy50b2FzdGVyUG9zaXRpb249InBvLXRvYXN0ZXItYm90dG9tIn1uZ09uRGVzdHJveSgpe3RoaXMuYWxpdmU9ITF9bmdBZnRlclZpZXdJbml0KCl7c2V0VGltZW91dCgoKT0+dGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLnRvYXN0ZXIubmF0aXZlRWxlbWVudCwicG8tdG9hc3Rlci12aXNpYmxlIikpfWNoYW5nZVBvc2l0aW9uKHQpe3RoaXMuZWxlbWVudGVSZWYubmF0aXZlRWxlbWVudC5zdHlsZS5kaXNwbGF5PSJ0YWJsZSIsdGhpcy5tYXJnaW49Nis0NCp0KzYqdCx0aGlzLm9yaWVudGF0aW9uPT09Q2IuVG9wP3RoaXMudG9hc3Rlci5uYXRpdmVFbGVtZW50LnN0eWxlLnRvcD10aGlzLm1hcmdpbisicHgiOnRoaXMudG9hc3Rlci5uYXRpdmVFbGVtZW50LnN0eWxlLmJvdHRvbT10aGlzLm1hcmdpbisicHgifWNsb3NlKCl7dGhpcy5vYnNlcnZhYmxlT25DbG9zZS5uZXh0KCEwKX1zZXRGYWRlT3V0KCl7dGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLnRvYXN0ZXIubmF0aXZlRWxlbWVudCwicG8tdG9hc3Rlci12aXNpYmxlIiksdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLnRvYXN0ZXIubmF0aXZlRWxlbWVudCwicG8tdG9hc3Rlci1pbnZpc2libGUiKX1jb25maWdUb2FzdGVyKHQpe3N3aXRjaCh0aGlzLnR5cGU9dC50eXBlLHRoaXMubWVzc2FnZT10Lm1lc3NhZ2UsdGhpcy5vcmllbnRhdGlvbj10Lm9yaWVudGF0aW9uLHRoaXMucG9zaXRpb249dC5wb3NpdGlvbix0aGlzLmFjdGlvbj10LmFjdGlvbix0aGlzLmFjdGlvbkxhYmVsPXQuYWN0aW9uTGFiZWwsdGhpcy5jb21wb25lbnRSZWY9dC5jb21wb25lbnRSZWYsdGhpcy5vcmllbnRhdGlvbj09PUNiLlRvcCYmKHRoaXMudG9hc3RlclBvc2l0aW9uPSJwby10b2FzdGVyLXRvcCIpLHRoaXMuY2hhbmdlUG9zaXRpb24odGhpcy5wb3NpdGlvbiksdGhpcy50eXBlKXtjYXNlIERiLkVycm9yOnRoaXMudG9hc3RlclR5cGU9InBvLXRvYXN0ZXItZXJyb3IiLHRoaXMuaWNvbj0icG8taWNvbi13YXJuaW5nIjticmVhaztjYXNlIERiLkluZm9ybWF0aW9uOnRoaXMudG9hc3RlclR5cGU9InBvLXRvYXN0ZXItaW5mbyIsdGhpcy5pY29uPSJwby1pY29uLWluZm8iO2JyZWFrO2Nhc2UgRGIuU3VjY2Vzczp0aGlzLnRvYXN0ZXJUeXBlPSJwby10b2FzdGVyLXN1Y2Nlc3MiLHRoaXMuaWNvbj0icG8taWNvbi1vayI7YnJlYWs7Y2FzZSBEYi5XYXJuaW5nOnRoaXMudG9hc3RlclR5cGU9InBvLXRvYXN0ZXItd2FybmluZyIsdGhpcy5pY29uPSJwby1pY29uLXdhcm5pbmcifXRoaXMuY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpfWdldEljb24oKXtyZXR1cm4gdGhpcy5pY29ufWdldFRvYXN0ZXJQb3NpdGlvbigpe3JldHVybiB0aGlzLnRvYXN0ZXJQb3NpdGlvbn1nZXRUb2FzdGVyVHlwZSgpe3JldHVybiB0aGlzLnRvYXN0ZXJUeXBlfW9uQnV0dG9uQ2xvc2UodCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5hY3Rpb24mJiF0aGlzLmFjdGlvbkxhYmVsP3RoaXMucG9Ub2FzdGVyQWN0aW9uKHQpOnRoaXMuY2xvc2UoKX1wb1RvYXN0ZXJBY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5hY3Rpb24odGhpcyl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFvKGZ2KSxhbyhVYSksYW8oZ2EpLGFvKHZhKSl9LHQuXHUwMjc1Y21wPUh0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLXRvYXN0ZXIiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZrbCh6eSw1KSwyJnQpe2xldCB0O3hsKHQ9VGwoKSkmJihlLnRvYXN0ZXI9dC5maXJzdCl9fSxmZWF0dXJlczpbWmldLGRlY2xzOjksdmFyczo5LGNvbnN0czpbWzMsImNsaWNrIl0sWyJ0b2FzdGVyIiwiIl0sWzEsInBvLXRvYXN0ZXItaWNvbiJdLFsxLCJwby10b2FzdGVyLW1lc3NhZ2UiXSxbImNsYXNzIiwicG8tdG9hc3Rlci1hY3Rpb24iLDMsImNsaWNrIiw0LCJuZ0lmIl0sWzEsInBvLXRvYXN0ZXItY2xvc2UiLDMsImNsaWNrIl0sWzEsInBvLWljb24iLCJwby1pY29uLWNsb3NlIl0sWzEsInBvLXRvYXN0ZXItYWN0aW9uIiwzLCJjbGljayJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpe3ZhciBuLHI7MSZ0JiYoY28oMCwiZGl2IiwwLDEpLHZvKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gZS5jbG9zZSgpfSksY28oMiwiZGl2IiwyKSxwbygzLCJzcGFuIiksaG8oKSxjbyg0LCJkaXYiLDMpLEhvKDUpLGhvKCksb28oNixxeSwyLDEsImRpdiIsNCksY28oNywiYnV0dG9uIiw1KSx2bygiY2xpY2siLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uQnV0dG9uQ2xvc2UodCl9KSxwbyg4LCJzcGFuIiw2KSxobygpLGhvKCkpLDImdCYmKCJwby10b2FzdGVyICIsbj1lLmdldFRvYXN0ZXJUeXBlKCksIiAiLHI9ZS5nZXRUb2FzdGVyUG9zaXRpb24oKSwiIHBvLWNsaWNrYWJsZSIsSW8oWW4sUG8sZnVuY3Rpb24odCxlLG4scixzLGkpe2NvbnN0IG89ZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz1ybyh0LGUsbik7cmV0dXJuIHJvKHQsZSsxLHIpfHxzfSh0LHhlLmxGcmFtZS5iaW5kaW5nSW5kZXgsbixzKTtyZXR1cm4gQmUoMiksbz9lK2x0KG4pK3IrbHQocykraTpqc30oVGUoKSwicG8tdG9hc3RlciAiLG4sIiAiLHIsIiBwby1jbGlja2FibGUiKSwhMCksTnMoMykscW8oInBvLWljb24gIixlLmdldEljb24oKSwiIiksTnMoMiksJG8oZS5tZXNzYWdlKSxOcygxKSxsbygibmdJZiIsZS5hY3Rpb24mJmUuYWN0aW9uTGFiZWwpKX0sZGlyZWN0aXZlczpbcWNdLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLEFiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbcmhdXX0pLHR9KSgpLFNiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbY2IsZGIsZmIsZ2IsVnYsX2IsRXYsQWJdLGNiLGRiLGZiLGdiLFZ2LF9iLEFiXX0pLHR9KSgpLHhiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tyaF1dfSksdH0pKCksa2I9KCgpPT57Y2xhc3MgdHt0cmFuc2Zvcm0odCxlKXtpZigic3RyaW5nIj09dHlwZW9mIHQmJi9eKChbMC0xXVswLTldKXwoMlswLTNdKSk6WzAtNV1bMC05XTpbMC01XVswLTldW1wuXT8oWzAtOV17MSw2fSk/JC9nLnRlc3QodCkpe2NvbnN0IG49ZT9lLmxhc3RJbmRleE9mKCJmIiktZS5pbmRleE9mKCJmIikrMTowLHI9dGhpcy5hZGREb3RNaWxpc2Vjb25kcyh0LnN1YnN0cmluZyg5LDkrbiksbikscz10aGlzLmdldEZvcm1hdE1pbGlzZWNvbmRzKG4pO3JldHVybiB0aGlzLmZvcm1hdFZhbHVlKHQsZSxzLHIpfXJldHVybiBudWxsfWFkZERvdE1pbGlzZWNvbmRzKHQsZSl7cmV0dXJuIHQmJmUmJih0PSIuIit0KSx0fWZvcm1hdFZhbHVlKHQsZSxuLHIpe2lmKHQmJmUpe2NvbnN0IHM9dC5zdWJzdHJpbmcoMCwyKSxpPXQuc3Vic3RyaW5nKDMsNSksbz10LnN1YnN0cmluZyg2LDgpO3JldHVybihlPShlPShlPWUucmVwbGFjZSgiSEgiLHMpKS5yZXBsYWNlKCJtbSIsaSkpLnJlcGxhY2UoInNzIixvKSkucmVwbGFjZShgLiR7bn1gLHIpfXJldHVybiB0fWdldEZvcm1hdE1pbGlzZWNvbmRzKHQpe2xldCBlPSIiO2ZvcihsZXQgbj0wO248dDtuKyspZSs9ImYiO3JldHVybiBlfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwaXBlPUt0KHtuYW1lOiJwb190aW1lIix0eXBlOnQscHVyZTohMH0pLHR9KSgpLFRiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbXV19KSx0fSkoKSxGYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W0pjXSxpbXBvcnRzOltbcmgsWGQsSW0sUHYsWHYsSHYsQXYsbGIseGIsV3YsVGIsTXYseXZdXX0pLHR9KSgpLE9iPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmF1dG9Gb2N1cz0hMSx0aGlzLmVycm9yUGF0dGVybj0iIix0aGlzLmJsdXI9bmV3IGdsLHRoaXMuZW50ZXI9bmV3IGdsLHRoaXMuY2hhbmdlPW5ldyBnbCx0aGlzLmNoYW5nZU1vZGVsPW5ldyBnbCx0aGlzLm9uQ2hhbmdlUHJvcGFnYXRlPW51bGwsdGhpcy5vblRvdWNoZWQ9bnVsbCx0aGlzLnBhc3NlZFdyaXRlVmFsdWU9ITEsdGhpcy5fbm9BdXRvY29tcGxldGU9ITEsdGhpcy5fcGxhY2Vob2xkZXI9IiIsdGhpcy5kaXNhYmxlZD0hMSx0aGlzLnJlYWRvbmx5PSExLHRoaXMucmVxdWlyZWQ9ITEsdGhpcy5jbGVhbj0hMSx0aGlzLm1hc2s9IiIsdGhpcy5tYXNrRm9ybWF0TW9kZWw9ITF9c2V0IG5vQXV0b2NvbXBsZXRlKHQpe3RoaXMuX25vQXV0b2NvbXBsZXRlPWh2KHQpfWdldCBub0F1dG9jb21wbGV0ZSgpe3JldHVybiB0aGlzLl9ub0F1dG9jb21wbGV0ZX1zZXQgcGxhY2Vob2xkZXIodCl7dGhpcy5fcGxhY2Vob2xkZXI9dHx8IiJ9Z2V0IHBsYWNlaG9sZGVyKCl7cmV0dXJuIHRoaXMuX3BsYWNlaG9sZGVyfXNldCBzZXREaXNhYmxlZCh0KXt0aGlzLmRpc2FibGVkPSIiPT09dHx8aHYodCksdGhpcy52YWxpZGF0ZU1vZGVsKCl9c2V0IHNldFJlYWRvbmx5KHQpe3RoaXMucmVhZG9ubHk9IiI9PT10fHxodih0KX1zZXQgc2V0UmVxdWlyZWQodCl7dGhpcy5yZXF1aXJlZD0iIj09PXR8fGh2KHQpLHRoaXMudmFsaWRhdGVNb2RlbCgpfXNldCBzZXRDbGVhbih0KXt0aGlzLmNsZWFuPSIiPT09dHx8aHYodCl9c2V0IHNldFBhdHRlcm4odCl7dGhpcy5wYXR0ZXJuPXQsdGhpcy52YWxpZGF0ZU1vZGVsKCl9c2V0IG1heGxlbmd0aCh0KXtpc05hTihwYXJzZUludCh0LDEwKSk/dHx8KHRoaXMuX21heGxlbmd0aD12b2lkIDAsdGhpcy52YWxpZGF0ZU1vZGVsKCkpOih0aGlzLl9tYXhsZW5ndGg9cGFyc2VJbnQodCwxMCksdGhpcy52YWxpZGF0ZU1vZGVsKCkpfWdldCBtYXhsZW5ndGgoKXtyZXR1cm4gdGhpcy5fbWF4bGVuZ3RofXNldCBtaW5sZW5ndGgodCl7aXNOYU4ocGFyc2VJbnQodCwxMCkpP3R8fCh0aGlzLl9taW5sZW5ndGg9dm9pZCAwLHRoaXMudmFsaWRhdGVNb2RlbCgpKToodGhpcy5fbWlubGVuZ3RoPXBhcnNlSW50KHQsMTApLHRoaXMudmFsaWRhdGVNb2RlbCgpKX1nZXQgbWlubGVuZ3RoKCl7cmV0dXJuIHRoaXMuX21pbmxlbmd0aH1zZXQgc2V0TWFzayh0KXt0aGlzLm1hc2s9dCx0aGlzLm9iak1hc2s9bmV3IG5iKHRoaXMubWFzayx0aGlzLm1hc2tGb3JtYXRNb2RlbCl9c2V0IHNldE1hc2tGb3JtYXRNb2RlbCh0KXt0aGlzLm1hc2tGb3JtYXRNb2RlbD0iIj09PXR8fGh2KHQpLHRoaXMub2JqTWFzayBpbnN0YW5jZW9mIG5iJiYodGhpcy5vYmpNYXNrLmZvcm1hdE1vZGVsPXRoaXMubWFza0Zvcm1hdE1vZGVsLHRoaXMudmFsaWRhdGVNb2RlbCgpKX1jYWxsT25DaGFuZ2UodCl7dGhpcy51cGRhdGVNb2RlbCh0KSx0aGlzLmNvbnRyb2xDaGFuZ2VNb2RlbEVtaXR0ZXIodCl9Y2FsbFVwZGF0ZU1vZGVsV2l0aFRpbWVvdXQodCl7c2V0VGltZW91dCgoKT0+dGhpcy51cGRhdGVNb2RlbCh0KSl9Y29udHJvbENoYW5nZU1vZGVsRW1pdHRlcih0KXt0aGlzLm1vZGVsTGFzdFVwZGF0ZSE9PXQmJih0aGlzLmNoYW5nZU1vZGVsLmVtaXQodCksdGhpcy5tb2RlbExhc3RVcGRhdGU9dCl9c2V0RGlzYWJsZWRTdGF0ZSh0KXt0aGlzLmRpc2FibGVkPXR9cmVnaXN0ZXJPbkNoYW5nZSh0KXt0aGlzLm9uQ2hhbmdlUHJvcGFnYXRlPXR9cmVnaXN0ZXJPblRvdWNoZWQodCl7dGhpcy5vblRvdWNoZWQ9dH1yZWdpc3Rlck9uVmFsaWRhdG9yQ2hhbmdlKHQpe3RoaXMudmFsaWRhdG9yQ2hhbmdlPXR9dXBkYXRlTW9kZWwodCl7dGhpcy5vbkNoYW5nZVByb3BhZ2F0ZSYmdGhpcy5vbkNoYW5nZVByb3BhZ2F0ZSh0KX12YWxpZGF0ZSh0KXtyZXR1cm4gZT10aGlzLnJlcXVpcmVkLG49dGhpcy5kaXNhYmxlZCxyPXRoaXMuZ2V0U2NyZWVuVmFsdWUoKSwhZXx8bnx8InN0cmluZyI9PXR5cGVvZiByJiZyfHwib2JqZWN0Ij09dHlwZW9mIHImJnImJnIubGVuZ3RofHwibnVtYmVyIj09dHlwZW9mIHImJihyfHwwPT09cil8fCJib29sZWFuIj09dHlwZW9mIHImJnI/ZnVuY3Rpb24odCxlKXtjb25zdCBuPXR8fDA9PT10LHI9KGV8fDA9PT1lKSYmZS50b1N0cmluZygpO3JldHVybiBuJiZyJiZyLmxlbmd0aD5OdW1iZXIodCl9KHRoaXMubWF4bGVuZ3RoLHRoaXMuZ2V0U2NyZWVuVmFsdWUoKSk/e21heGxlbmd0aDp7dmFsaWQ6ITF9fTpmdW5jdGlvbih0LGUpe2NvbnN0IG49dHx8MD09PXQscj0oZXx8MD09PWUpJiZlLnRvU3RyaW5nKCk7cmV0dXJuIG4mJnImJnIubGVuZ3RoPE51bWJlcih0KX0odGhpcy5taW5sZW5ndGgsdGhpcy5nZXRTY3JlZW5WYWx1ZSgpKT97bWlubGVuZ3RoOnt2YWxpZDohMX19OmZ1bmN0aW9uKHQsZSl7bGV0IG47dHJ5e249bmV3IFJlZ0V4cCh0KX1jYXRjaChyKXtyZXR1cm4hMH1yZXR1cm4gdCYmZSYmIW4udGVzdChlKX0odGhpcy5wYXR0ZXJuLHQudmFsdWUpPyh0aGlzLnZhbGlkYXRlUGF0dGVybk9uV3JpdGVWYWx1ZSh0LnZhbHVlKSx7cGF0dGVybjp7dmFsaWQ6ITF9fSk6dGhpcy5leHRyYVZhbGlkYXRpb24odCk6e3JlcXVpcmVkOnt2YWxpZDohMX19O3ZhciBlLG4scn13cml0ZVZhbHVlKHQpe3RoaXMud3JpdGVWYWx1ZU1vZGVsKHQpfXZhbGlkYXRlTW9kZWwoKXt0aGlzLnZhbGlkYXRvckNoYW5nZSYmdGhpcy52YWxpZGF0b3JDaGFuZ2UoKX12YWxpZGF0ZVBhdHRlcm5PbldyaXRlVmFsdWUodCl7dCYmdGhpcy5wYXNzZWRXcml0ZVZhbHVlJiYoc2V0VGltZW91dCgoKT0+e3RoaXMudXBkYXRlTW9kZWwodCl9KSx0aGlzLnBhc3NlZFdyaXRlVmFsdWU9ITEpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxpbnB1dHM6e2F1dG9Gb2N1czpbInAtYXV0by1mb2N1cyIsImF1dG9Gb2N1cyJdLGVycm9yUGF0dGVybjpbInAtZXJyb3ItcGF0dGVybiIsImVycm9yUGF0dGVybiJdLG5vQXV0b2NvbXBsZXRlOlsicC1uby1hdXRvY29tcGxldGUiLCJub0F1dG9jb21wbGV0ZSJdLHBsYWNlaG9sZGVyOlsicC1wbGFjZWhvbGRlciIsInBsYWNlaG9sZGVyIl0sc2V0RGlzYWJsZWQ6WyJwLWRpc2FibGVkIiwic2V0RGlzYWJsZWQiXSxzZXRSZWFkb25seTpbInAtcmVhZG9ubHkiLCJzZXRSZWFkb25seSJdLHNldFJlcXVpcmVkOlsicC1yZXF1aXJlZCIsInNldFJlcXVpcmVkIl0sc2V0Q2xlYW46WyJwLWNsZWFuIiwic2V0Q2xlYW4iXSxzZXRQYXR0ZXJuOlsicC1wYXR0ZXJuIiwic2V0UGF0dGVybiJdLG1heGxlbmd0aDpbInAtbWF4bGVuZ3RoIiwibWF4bGVuZ3RoIl0sbWlubGVuZ3RoOlsicC1taW5sZW5ndGgiLCJtaW5sZW5ndGgiXSxzZXRNYXNrOlsicC1tYXNrIiwic2V0TWFzayJdLHNldE1hc2tGb3JtYXRNb2RlbDpbInAtbWFzay1mb3JtYXQtbW9kZWwiLCJzZXRNYXNrRm9ybWF0TW9kZWwiXSxpY29uOlsicC1pY29uIiwiaWNvbiJdLGxhYmVsOlsicC1sYWJlbCIsImxhYmVsIl0saGVscDpbInAtaGVscCIsImhlbHAiXSxuYW1lOiJuYW1lIixvcHRpb25hbDpbInAtb3B0aW9uYWwiLCJvcHRpb25hbCJdfSxvdXRwdXRzOntibHVyOiJwLWJsdXIiLGVudGVyOiJwLWVudGVyIixjaGFuZ2U6InAtY2hhbmdlIixjaGFuZ2VNb2RlbDoicC1jaGFuZ2UtbW9kZWwifX0pLHd5KFtrdigpXSx0LnByb3RvdHlwZSwiYXV0b0ZvY3VzIix2b2lkIDApLHR9KSgpLFBiPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBPYntjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMudHlwZT0idGV4dCIsdGhpcy5lbD10fWdldCBhdXRvY29tcGxldGUoKXtyZXR1cm4gdGhpcy5ub0F1dG9jb21wbGV0ZT8ib2ZmIjoib24ifW9uS2V5ZG93bih0KXt0aGlzLm1hc2smJiF0aGlzLnJlYWRvbmx5JiYyMjkhPT10LnRhcmdldC5rZXlDb2RlJiYodGhpcy5ldmVudE9uQmx1cih0KSx0aGlzLm9iak1hc2sua2V5ZG93bih0KSl9b25LZXl1cCh0KXt0aGlzLm1hc2smJiF0aGlzLnJlYWRvbmx5JiYoMjI5IT09dC50YXJnZXQua2V5Q29kZSYmKHRoaXMuZXZlbnRPbkJsdXIodCksdGhpcy5vYmpNYXNrLmtleXVwKHQpKSx0aGlzLmNhbGxPbkNoYW5nZSh0aGlzLm9iak1hc2sudmFsdWVUb01vZGVsKSl9bmdBZnRlclZpZXdJbml0KCl7dGhpcy5hZnRlclZpZXdJbml0KCl9YWZ0ZXJWaWV3SW5pdCgpe3RoaXMudmVyaWZ5QXV0b0ZvY3VzKCksInBhc3N3b3JkIiE9PXRoaXMudHlwZSYmdGhpcy5zZXRQYWRkaW5nSW5wdXQoKX1mb2N1cygpe3RoaXMuZGlzYWJsZWR8fHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LmZvY3VzKCl9c2V0UGFkZGluZ0lucHV0KCl7c2V0VGltZW91dCgoKT0+e2xldCB0PXRoaXMuZWwubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCIucG8tZmllbGQtaWNvbi1jb250YWluZXI6bm90KC5wby1maWVsZC1pY29uLWNvbnRhaW5lci1sZWZ0KSA+IC5wby1pY29uIikubGVuZ3RoO3RoaXMuY2xlYW4mJnQrKyx0JiYodGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0PTM2KnQrInB4Iil9KX12ZXJpZnlBdXRvRm9jdXMoKXt0aGlzLmF1dG9Gb2N1cyYmdGhpcy5mb2N1cygpfWV2ZW50T25JbnB1dCh0KXtsZXQgZT0iIjt0aGlzLm1hc2s/KHRoaXMub2JqTWFzay5ibHVyKHQpLHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlPXRoaXMub2JqTWFzay52YWx1ZVRvSW5wdXQsZT10aGlzLm9iak1hc2sudmFsdWVUb01vZGVsKTooZT10aGlzLnZhbGlkTWF4TGVuZ3RoKHRoaXMubWF4bGVuZ3RoLHQudGFyZ2V0LnZhbHVlKSx0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZT1lKSx0aGlzLmNhbGxPbkNoYW5nZShlKX12YWxpZE1heExlbmd0aCh0LGUpe3JldHVybih0fHwwPT09dCkmJmUubGVuZ3RoPnQ/ZS50b1N0cmluZygpLnN1YnN0cmluZygwLHQpOmV9ZXZlbnRPbkZvY3VzKHQpe3RoaXMudmFsdWVCZWZvcmVDaGFuZ2U9dGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWUsdGhpcy5lbnRlci5lbWl0KCl9ZXZlbnRPbkJsdXIodCl7dmFyIGU7bnVsbD09PShlPXRoaXMub25Ub3VjaGVkKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMpLHRoaXMubWFzayYmdGhpcy5vYmpNYXNrLmJsdXIodCksImJsdXIiPT09dC50eXBlJiYodGhpcy5ibHVyLmVtaXQoKSx0aGlzLmNvbnRyb2xDaGFuZ2VFbWl0dGVyKCkpfWNvbnRyb2xDaGFuZ2VFbWl0dGVyKCl7Y29uc3QgdD10aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZTt0IT09dGhpcy52YWx1ZUJlZm9yZUNoYW5nZSYmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRDaGFuZ2UpLHRoaXMudGltZW91dENoYW5nZT1zZXRUaW1lb3V0KCgpPT57dGhpcy5jaGFuZ2UuZW1pdCh0KX0sMjAwKSl9ZXZlbnRPbkNsaWNrKHQpe3RoaXMubWFzayYmdGhpcy5vYmpNYXNrLmNsaWNrKHQpfWhhc0ludmFsaWRDbGFzcygpe3JldHVybiB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJuZy1pbnZhbGlkIikmJnRoaXMuZWwubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoIm5nLWRpcnR5IikmJiIiIT09dGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWV9Z2V0RXJyb3JQYXR0ZXJuKCl7cmV0dXJuIiIhPT10aGlzLmVycm9yUGF0dGVybiYmdGhpcy5oYXNJbnZhbGlkQ2xhc3MoKT90aGlzLmVycm9yUGF0dGVybjoiIn12YWxpZGF0ZUNsYXNzZXNGb3JQYXR0ZXJuKCl7Y29uc3QgdD10aGlzLmdldFNjcmVlblZhbHVlKCksZT10aGlzLmVsLm5hdGl2ZUVsZW1lbnQ7dCYmIXRoaXMudmVyaWZ5UGF0dGVybih0aGlzLnBhdHRlcm4sdCk/KGUuY2xhc3NMaXN0LmFkZCgibmctaW52YWxpZCIpLGUuY2xhc3NMaXN0LmFkZCgibmctZGlydHkiKSk6ZS5jbGFzc0xpc3QucmVtb3ZlKCJuZy1pbnZhbGlkIil9dmVyaWZ5UGF0dGVybih0LGUpe3JldHVybiBuZXcgUmVnRXhwKHQpLnRlc3QoZSl9Y2xlYXIodCl7dGhpcy5jYWxsT25DaGFuZ2UodCksdGhpcy5jb250cm9sQ2hhbmdlRW1pdHRlcigpfXdyaXRlVmFsdWVNb2RlbCh0KXt0aGlzLnBhc3NlZFdyaXRlVmFsdWU9ITAsdGhpcy5pbnB1dEVsJiYodD90aGlzLm1hc2s/KHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlPXRoaXMub2JqTWFzay5jb250cm9sRm9ybWF0dGluZyhTdHJpbmcodCkpLHRoaXMub2JqTWFzay5mb3JtYXRNb2RlbCYmdGhpcy5jYWxsVXBkYXRlTW9kZWxXaXRoVGltZW91dCh0aGlzLm9iak1hc2sudmFsdWVUb01vZGVsKSk6dGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWU9dDp0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZT0iIiksdCYmdGhpcy5jaGFuZ2VNb2RlbC5lbWl0KHQpfWdldFNjcmVlblZhbHVlKCl7Y29uc3QgdD10aGlzLmlucHV0RWwmJnRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlfHx2b2lkIDA7aWYoIm51bWJlciI9PT10aGlzLnR5cGUpe2NvbnN0IGU9cGFyc2VGbG9hdCh0KTtyZXR1cm4gZXx8MD09PWU/ZTpudWxsfXJldHVybiB0fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhbyhnYSkpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0LHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYma2woTHksNyxnYSksMiZ0KXtsZXQgdDt4bCh0PVRsKCkpJiYoZS5pbnB1dEVsPXQuZmlyc3QpfX0saG9zdEJpbmRpbmdzOmZ1bmN0aW9uKHQsZSl7MSZ0JiZ2bygia2V5ZG93biIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25LZXlkb3duKHQpfSkoImtleXVwIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbktleXVwKHQpfSl9LGZlYXR1cmVzOltaaV19KSx0fSkoKTtjbGFzcyBJYntjb25zdHJ1Y3Rvcih0KXt0aGlzLmh0dHA9dH1leGVjdXRlKHQsZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3RoaXMucG9zdCh0LGUpOkdoKHQoZSkpfXBvc3QodCxlKXtyZXR1cm4gdGhpcy5odHRwLnBvc3QodCxlKX1zZXRGb3JtRGVmYXVsdElmRW1wdHkodCl7cmV0dXJuIHR8fHt2YWx1ZTp7fSxmaWVsZHM6W10sZm9jdXM6dm9pZCAwfX19bGV0IFJiPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBJYntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1jcmVhdGVBbmRVcGRhdGVGaWVsZHNGb3JtKHQ9W10sZT1bXSl7cmV0dXJuWy4uLnRdLnJlZHVjZSgodCxuKT0+e2NvbnN0IHI9dC5maW5kSW5kZXgodD0+dC5wcm9wZXJ0eT09PW4ucHJvcGVydHkpO3JldHVybiByPj0wP3Rbcl09T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGVbcl0pLG4pOnQucHVzaChuKSx0fSxbLi4uZV0pfWV4ZWN1dGVMb2FkKHQsZSl7cmV0dXJuIHRoaXMuZXhlY3V0ZSh0LGUpLnBpcGUoUyh0PT50aGlzLnNldEZvcm1EZWZhdWx0SWZFbXB0eSh0KSkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShvcihveSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLE1iPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBJYntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1zZW5kRmllbGRDaGFuZ2UodCxlKXtyZXR1cm4gdGhpcy5leGVjdXRlKHQudmFsaWRhdGUse3Byb3BlcnR5OnQucHJvcGVydHksdmFsdWU6ZX0pLnBpcGUoUyh0PT50aGlzLnNldEZpZWxkRGVmYXVsdElmRW1wdHkodCkpKX1zZW5kRm9ybUNoYW5nZSh0LGUsbil7cmV0dXJuIHRoaXMuZXhlY3V0ZSh0LHtwcm9wZXJ0eTplLnByb3BlcnR5LHZhbHVlOm59KS5waXBlKFModD0+dGhpcy5zZXRGb3JtRGVmYXVsdElmRW1wdHkodCkpKX11cGRhdGVGaWVsZHNGb3JtKHQ9W10sZT1bXSl7cmV0dXJuWy4uLnRdLnJlZHVjZSgodCxuKT0+e2NvbnN0IHI9dC5maW5kSW5kZXgodD0+dC5wcm9wZXJ0eT09PW4ucHJvcGVydHkpO3JldHVybiByPj0wJiYodFtyXT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZVtyXSksbikpLHR9LFsuLi5lXSl9c2V0RmllbGREZWZhdWx0SWZFbXB0eSh0KXtyZXR1cm4gdHx8e2ZpZWxkOnt9fX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkob3Iob3kpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxqYj0oKCk9PntjbGFzcyB0IGV4dGVuZHMgUGJ7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy50eXBlPSJudW1iZXIiLHRoaXMuaW52YWxpZElucHV0VmFsdWVPbkJsdXI9ITF9ZXZlbnRPbklucHV0KHQpe2lmKCF0aGlzLm1hc2spe2xldCBlPXQudGFyZ2V0LnZhbHVlO2NvbnN0IG49dGhpcy52YWxpZE1heExlbmd0aCh0aGlzLm1heGxlbmd0aCxlKTt0aGlzLmludmFsaWRJbnB1dFZhbHVlT25CbHVyPSExLGUhPT1uJiYoZT1uLHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlPWUpLHRoaXMuY2FsbE9uQ2hhbmdlKHRoaXMuZm9ybWF0TnVtYmVyKGUpKX19b25CbHVyKHQpe2NvbnN0IGU9dC50YXJnZXQ7dGhpcy5pbnZhbGlkSW5wdXRWYWx1ZU9uQmx1cj0iIj09PWUudmFsdWUmJiFlLnZhbGlkaXR5LnZhbGlkLHRoaXMuaW52YWxpZElucHV0VmFsdWVPbkJsdXImJnRoaXMuY2FsbE9uQ2hhbmdlKCJWYWxvciBJbnZceGUxbGlkbyIpLHRoaXMuZXZlbnRPbkJsdXIodCl9b25LZXlEb3duKHQpe3RoaXMuaXNLZXlBbGxvd2VkKHQpfHwodC5zdG9wUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCkpfXZhbGlkTWF4TGVuZ3RoKHQsZSl7aWYodCYmZS5sZW5ndGg+dCl7Y29uc3Qgbj1lLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsdCk7cmV0dXJuIG4mJnRoaXMuaXNFbmRXaXRoRG90KG4pP24udG9TdHJpbmcoKS5zdWJzdHJpbmcoMCx0LTEpOm59cmV0dXJuIGV9d3JpdGVWYWx1ZU1vZGVsKHQpe3RoaXMuaW5wdXRFbCYmKHR8fDA9PT10P3RoaXMubWFzaz8odGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWU9dGhpcy5vYmpNYXNrLmNvbnRyb2xGb3JtYXR0aW5nKFN0cmluZyh0KSksdGhpcy5vYmpNYXNrLmZvcm1hdE1vZGVsJiZ0aGlzLm9uQ2hhbmdlUHJvcGFnYXRlKHRoaXMub2JqTWFzay52YWx1ZVRvTW9kZWwpKTp0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZT10OnRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlPSIiKSx0aGlzLmNoYW5nZU1vZGVsLmVtaXQodCl9aXNFbmRXaXRoRG90KHQpe3JldHVybiB0JiZ0Lmxhc3RJbmRleE9mKCIuIik9PT10Lmxlbmd0aC0xfWZvcm1hdE51bWJlcih0KXtyZXR1cm4gdD9OdW1iZXIodCk6bnVsbH1pc0tleUFsbG93ZWQodCl7cmV0dXJuIHRoaXMuaXNTaG9ydGN1dCh0KXx8dGhpcy5pc0NvbnRyb2xLZXlzKHQpfHwhdGhpcy5pc0ludmFsaWRLZXkodC5rZXkpfWlzSW52YWxpZEtleSh0KXtyZXR1cm4gbmV3IFJlZ0V4cCgvW2EtekEtWjo7PV9ceGI0YF5+Iic/IUAjJCVceGE4JiooKT48e31ceGU3XHhjN1xbXF0vXFx8XSsvKS50ZXN0KHQpfWlzU2hvcnRjdXQodCl7Y29uc3QgZT10LmtleUNvZGUsbj10LmN0cmxLZXl8fHQubWV0YUtleTtyZXR1cm4gbiYmNjc9PT1lfHxuJiY4Nj09PWV8fG4mJjY1PT09ZXx8biYmODg9PT1lfWlzQ29udHJvbEtleXModCl7cmV0dXJuLTEhPT1bIkJhY2tzcGFjZSIsIkFycm93TGVmdCIsIkFycm93UmlnaHQiLCJBcnJvd1VwIiwiQXJyb3dEb3duIiwiTGVmdCIsIlJpZ2h0IiwiVXAiLCJEb3duIiwiVGFiIiwiRGVsZXRlIl0uaW5kZXhPZih0LmtleSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFvKGdhKSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsZmVhdHVyZXM6W1ppXX0pLHR9KSgpLE5iPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBqYntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnN0ZXA9IjEifXNldCBzZXRNaW4odCl7dGhpcy5taW49aXNOYU4odCk/dm9pZCAwOnQsdGhpcy52YWxpZGF0ZU1vZGVsKCl9c2V0IHNldE1heCh0KXt0aGlzLm1heD1pc05hTih0KT92b2lkIDA6dCx0aGlzLnZhbGlkYXRlTW9kZWwoKX1leHRyYVZhbGlkYXRpb24odCl7cmV0dXJuIHRoaXMuZXJyb3JQYXR0ZXJuPSJWYWxvciBJbnZceGUxbGlkbyIhPT10aGlzLmVycm9yUGF0dGVybj90aGlzLmVycm9yUGF0dGVybjoiIixlPXRoaXMubWluLCgobj10LnZhbHVlKXx8MD09PW4pJiYoZXx8MD09PWUpJiZuPGU/e21pbjp7dmFsaWQ6ITF9fTpmdW5jdGlvbih0LGUpe3JldHVybihlfHwwPT09ZSkmJih0fHwwPT09dCkmJmU+dH0odGhpcy5tYXgsdC52YWx1ZSk/e21heDp7dmFsaWQ6ITF9fTp0aGlzLmludmFsaWRJbnB1dFZhbHVlT25CbHVyPyh0aGlzLmVycm9yUGF0dGVybj10aGlzLmVycm9yUGF0dGVybnx8IlZhbG9yIEludlx4ZTFsaWRvIix7bnVtYmVyOnt2YWxpZDohMX19KTpudWxsO3ZhciBlLG59Z2V0RXJyb3JQYXR0ZXJuTWVzc2FnZSgpe3JldHVybiIiIT09dGhpcy5lcnJvclBhdHRlcm4mJnRoaXMuY29udGFpbnNJbnZhbGlkQ2xhc3MoKT90aGlzLmVycm9yUGF0dGVybjoiIn1jb250YWluc0ludmFsaWRDbGFzcygpe3JldHVybiB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJuZy1pbnZhbGlkIikmJnRoaXMuZWwubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoIm5nLWRpcnR5IikmJiIiIT09dGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWV8fHRoaXMuaW52YWxpZElucHV0VmFsdWVPbkJsdXJ9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFvKGdhKSl9LHQuXHUwMjc1Y21wPUh0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLW51bWJlciJdXSxpbnB1dHM6e3N0ZXA6WyJwLXN0ZXAiLCJzdGVwIl0sc2V0TWluOlsicC1taW4iLCJzZXRNaW4iXSxzZXRNYXg6WyJwLW1heCIsInNldE1heCJdfSxmZWF0dXJlczpbbGEoW3twcm92aWRlOnBkLHVzZUV4aXN0aW5nOnN0KCgpPT50KSxtdWx0aTohMH0se3Byb3ZpZGU6eWQsdXNlRXhpc3Rpbmc6c3QoKCk9PnQpLG11bHRpOiEwfV0pLFppXSxkZWNsczo4LHZhcnM6MjAsY29uc3RzOltbMywicC1oZWxwIiwicC1sYWJlbCIsInAtb3B0aW9uYWwiXSxbMSwicG8tZmllbGQtY29udGFpbmVyLWNvbnRlbnQiXSxbImNsYXNzIiwicG8tZmllbGQtaWNvbi1jb250YWluZXItbGVmdCIsNCwibmdJZiJdLFsidHlwZSIsIm51bWJlciIsMSwicG8taW5wdXQiLDMsImF1dG9jb21wbGV0ZSIsImRpc2FibGVkIiwicGxhY2Vob2xkZXIiLCJyZWFkb25seSIsInJlcXVpcmVkIiwidGFiaW5kZXgiLCJibHVyIiwiZm9jdXMiLCJpbnB1dCIsImtleWRvd24iXSxbImlucCIsIiJdLFsxLCJwby1maWVsZC1pY29uLWNvbnRhaW5lci1yaWdodCJdLFszLCJwLWRlZmF1bHQtdmFsdWUiLCJwLWVsZW1lbnQtcmVmIiwicC1jaGFuZ2UtZXZlbnQiLDQsIm5nSWYiXSxbMywicC1lcnJvci1wYXR0ZXJuIl0sWzEsInBvLWZpZWxkLWljb24tY29udGFpbmVyLWxlZnQiXSxbMSwicG8tZmllbGQtaWNvbiIsMywicC1pY29uIl0sWzMsInAtZGVmYXVsdC12YWx1ZSIsInAtZWxlbWVudC1yZWYiLCJwLWNoYW5nZS1ldmVudCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKGNvKDAsInBvLWZpZWxkLWNvbnRhaW5lciIsMCksY28oMSwiZGl2IiwxKSxvbygyLFd5LDIsMywiZGl2IiwyKSxjbygzLCJpbnB1dCIsMyw0KSx2bygiYmx1ciIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25CbHVyKHQpfSkoImZvY3VzIixmdW5jdGlvbih0KXtyZXR1cm4gZS5ldmVudE9uRm9jdXModCl9KSgiaW5wdXQiLGZ1bmN0aW9uKHQpe3JldHVybiBlLmV2ZW50T25JbnB1dCh0KX0pKCJrZXlkb3duIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbktleURvd24odCl9KSxobygpLGNvKDUsImRpdiIsNSksb28oNixHeSwxLDIsInBvLWNsZWFuIiw2KSxobygpLGhvKCkscG8oNywicG8tZmllbGQtY29udGFpbmVyLWJvdHRvbSIsNyksaG8oKSksMiZ0JiYobG8oInAtaGVscCIsZS5oZWxwKSgicC1sYWJlbCIsZS5sYWJlbCkoInAtb3B0aW9uYWwiLCFlLnJlcXVpcmVkJiZlLm9wdGlvbmFsKSxOcygyKSxsbygibmdJZiIsZS5pY29uKSxOcygxKSxPbygicG8taW5wdXQtaWNvbi1sZWZ0IixlLmljb24pKCJwby1pbnB1dC1pY29uLXJpZ2h0IixlLmNsZWFuKSxsbygiYXV0b2NvbXBsZXRlIixlLmF1dG9jb21wbGV0ZSkoImRpc2FibGVkIixlLmRpc2FibGVkKSgicGxhY2Vob2xkZXIiLGUucGxhY2Vob2xkZXIpKCJyZWFkb25seSIsZS5yZWFkb25seSkoInJlcXVpcmVkIixlLnJlcXVpcmVkKSgidGFiaW5kZXgiLGUuZGlzYWJsZWQ/LTE6MCksc28oIm1heCIsZS5tYXgpKCJtaW4iLGUubWluKSgibmFtZSIsZS5uYW1lKSgic3RlcCIsZS5zdGVwKSxOcygzKSxsbygibmdJZiIsZS5jbGVhbiYmIWUuZGlzYWJsZWQmJiFlLnJlYWRvbmx5KSxOcygxKSxsbygicC1lcnJvci1wYXR0ZXJuIixlLmdldEVycm9yUGF0dGVybk1lc3NhZ2UoKSkpfSxkaXJlY3RpdmVzOltZdixxYyxadixtdix0Yl0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksVmI9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5zdGFja1RvcD1bXSx0aGlzLnN0YWNrQm90dG9tPVtdLHRoaXMuZGVmYXVsdER1cmF0aW9uPTFlNH1zdWNjZXNzKHQpe3RoaXMuY3JlYXRlVG9hc3Rlcih0aGlzLmJ1aWxkVG9hc3Rlcih0LERiLlN1Y2Nlc3MpKX13YXJuaW5nKHQpe3RoaXMuY3JlYXRlVG9hc3Rlcih0aGlzLmJ1aWxkVG9hc3Rlcih0LERiLldhcm5pbmcpKX1lcnJvcih0KXt0aGlzLmNyZWF0ZVRvYXN0ZXIodGhpcy5idWlsZFRvYXN0ZXIodCxEYi5FcnJvcikpfWluZm9ybWF0aW9uKHQpe3RoaXMuY3JlYXRlVG9hc3Rlcih0aGlzLmJ1aWxkVG9hc3Rlcih0LERiLkluZm9ybWF0aW9uKSl9c2V0RGVmYXVsdER1cmF0aW9uKHQpe3RoaXMuZGVmYXVsdER1cmF0aW9uPXR9YnVpbGRUb2FzdGVyKHQsZSl7bGV0IG4scj0wO3ZvaWQgMD09PXQub3JpZW50YXRpb258fHQub3JpZW50YXRpb249PT1DYi5Cb3R0b20/KHI9dGhpcy5zdGFja0JvdHRvbS5sZW5ndGgsbj1DYi5Cb3R0b20pOihyPXRoaXMuc3RhY2tUb3AubGVuZ3RoLG49Q2IuVG9wKTtjb25zdCBzPXtjb21wb25lbnRSZWY6dm9pZCAwLG1lc3NhZ2U6dC5tZXNzYWdlfHx0LHR5cGU6ZSxvcmllbnRhdGlvbjpuLGFjdGlvbjp0LmFjdGlvbixhY3Rpb25MYWJlbDp0LmFjdGlvbkxhYmVsLHBvc2l0aW9uOnIsZHVyYXRpb246dC5kdXJhdGlvbnx8dGhpcy5kZWZhdWx0RHVyYXRpb259O3JldHVybiB0LmFjdGlvbiYmKHMuYWN0aW9uPWU9Pnt0LmFjdGlvbigpLHRoaXMuZGVzdHJveVRvYXN0ZXIoZS5jb21wb25lbnRSZWYpfSksc319e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5wb0NvbXBvbmVudEluamVjdG9yPXR9Y3JlYXRlVG9hc3Rlcih0KXtjb25zdCBlPXRoaXMucG9Db21wb25lbnRJbmplY3Rvci5jcmVhdGVDb21wb25lbnRJbkFwcGxpY2F0aW9uKEViKTt0LmNvbXBvbmVudFJlZj1lLGUuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpLGUuaW5zdGFuY2UuY29uZmlnVG9hc3Rlcih0KTtjb25zdCBuPXQub3JpZW50YXRpb249PT1DYi5Ub3A/dGhpcy5zdGFja1RvcDp0aGlzLnN0YWNrQm90dG9tO24ucHVzaChlKSx0aGlzLnZlcmlmeUxpbWl0VG9hc3RlcihuKSx0aGlzLm9ic2VydmFibGVPbkNsb3NlKGUpLHQuYWN0aW9uJiZ0LmFjdGlvbkxhYmVsfHxmdW5jdGlvbih0PTAsZSxuKXtsZXQgcj0tMTtyZXR1cm4gdHAoZSk/cj1OdW1iZXIoZSk8MT8xOk51bWJlcihlKTpBKGUpJiYobj1lKSxBKG4pfHwobj1KZCksbmV3IHYoZT0+e2NvbnN0IHM9dHAodCk/dDordC1uLm5vdygpO3JldHVybiBuLnNjaGVkdWxlKGVwLHMse2luZGV4OjAscGVyaW9kOnIsc3Vic2NyaWJlcjplfSl9KX0odC5kdXJhdGlvbikucGlwZShmdW5jdGlvbih0LGU9ITEpe3JldHVybiBuPT5uLmxpZnQobmV3IF95KHQsZSkpfSgoKT0+ZS5pbnN0YW5jZS5hbGl2ZSkpLnN1YnNjcmliZSgoKT0+e3RoaXMuZGVzdHJveVRvYXN0ZXIoZSl9KX1kZXN0cm95VG9hc3Rlcih0KXtsZXQgZTtlPXQuaW5zdGFuY2Uub3JpZW50YXRpb249PT1DYi5Ub3A/dGhpcy5zdGFja1RvcDp0aGlzLnN0YWNrQm90dG9tLHQuaW5zdGFuY2Uuc2V0RmFkZU91dCgpO2NvbnN0IG49ZS5pbmRleE9mKHQpO2Uuc3BsaWNlKG4sMSksc2V0VGltZW91dCgoKT0+e3RoaXMucG9Db21wb25lbnRJbmplY3Rvci5kZXN0cm95Q29tcG9uZW50SW5BcHBsaWNhdGlvbih0KTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdLmluc3RhbmNlLmNoYW5nZVBvc2l0aW9uKHQpfSwyMDApfW9ic2VydmFibGVPbkNsb3NlKHQpe3QuaW5zdGFuY2Uub2JzZXJ2YWJsZU9uQ2xvc2Uuc3Vic2NyaWJlKCgpPT57dGhpcy5kZXN0cm95VG9hc3Rlcih0KX0pfXZlcmlmeUxpbWl0VG9hc3Rlcih0KXt0Lmxlbmd0aD41JiZ0aGlzLmRlc3Ryb3lUb2FzdGVyKHRbMF0pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShvcihwYikpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQob3IocGIpKX0sdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpLExiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbcmgsWGQsYnksanYsUHYsZWIsTHYsWHYsSHYscmIsenYsJHYsUXYsQXYsbGIsdWIsU2IsRmIsTXYseXZdLFh2LGViLHJiLFF2XX0pLHR9KSgpLEJiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbcmgsSW1dXX0pLHR9KSgpO3ZhciBVYj1mdW5jdGlvbih0KXtyZXR1cm4gdC5Ib3Jpem9udGFsPSJob3Jpem9udGFsIix0LlZlcnRpY2FsPSJ2ZXJ0aWNhbCIsdH0oe30pLEhiPWZ1bmN0aW9uKHQpe3JldHVybiB0LkRhbmdlcj0iZGFuZ2VyIix0LkluZm89ImluZm8iLHQuU3VjY2Vzcz0ic3VjY2VzcyIsdC5XYXJuaW5nPSJ3YXJuaW5nIix0fSh7fSk7Y29uc3QgJGI9T2JqZWN0LnZhbHVlcyhCdiksemI9VWIuVmVydGljYWw7bGV0IHFiPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmNsaWNrPW5ldyBnbCx0aGlzLnBvVGFnT3JpZW50YXRpb249VWIsdGhpcy5fb3JpZW50YXRpb249emJ9c2V0IGNvbG9yKHQpe3RoaXMuX2NvbG9yPSRiLmluY2x1ZGVzKHQpP3Q6dm9pZCAwfWdldCBjb2xvcigpe3JldHVybiB0aGlzLl9jb2xvcn1zZXQgaWNvbih0KXt0aGlzLl9pY29uPXRoaXMudHlwZT9odih0KTp0fWdldCBpY29uKCl7cmV0dXJuIHRoaXMuX2ljb259c2V0IGludmVyc2UodCl7dGhpcy5faW52ZXJzZT1odih0KX1nZXQgaW52ZXJzZSgpe3JldHVybiB0aGlzLl9pbnZlcnNlfXNldCBvcmllbnRhdGlvbih0KXt0aGlzLl9vcmllbnRhdGlvbj1PYmplY3QudmFsdWVzKFViKS5pbmNsdWRlcyh0KT90OnpifWdldCBvcmllbnRhdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnRhdGlvbn1zZXQgdHlwZSh0KXt0aGlzLl90eXBlPU9iamVjdC52YWx1ZXMoSGIpLmluY2x1ZGVzKHQpP3Q6dm9pZCAwfWdldCB0eXBlKCl7cmV0dXJuIHRoaXMuX3R5cGV9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0LGlucHV0czp7Y29sb3I6WyJwLWNvbG9yIiwiY29sb3IiXSxpY29uOlsicC1pY29uIiwiaWNvbiJdLGludmVyc2U6WyJwLWludmVyc2UiLCJpbnZlcnNlIl0sb3JpZW50YXRpb246WyJwLW9yaWVudGF0aW9uIiwib3JpZW50YXRpb24iXSx0eXBlOlsicC10eXBlIiwidHlwZSJdLGxhYmVsOlsicC1sYWJlbCIsImxhYmVsIl0sdmFsdWU6WyJwLXZhbHVlIiwidmFsdWUiXX0sb3V0cHV0czp7Y2xpY2s6InAtY2xpY2sifX0pLHR9KSgpO3ZhciBXYj1mdW5jdGlvbih0KXtyZXR1cm4gdC5EYW5nZXI9InBvLWljb24tY2xvc2UiLHQuSW5mbz0icG8taWNvbi1pbmZvIix0LlN1Y2Nlc3M9InBvLWljb24tb2siLHQuV2FybmluZz0icG8taWNvbi13YXJuaW5nIix0fSh7fSk7Y29uc3QgR2I9InBvLXRhZy0iK0hiLkluZm87bGV0IFpiPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBxYntuZ09uSW5pdCgpe3RoaXMuaXNDbGlja2FibGU9dGhpcy5jbGljay5vYnNlcnZlcnMubGVuZ3RoPjB9Z2V0IGljb25Gcm9tVHlwZSgpe3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgSGIuRGFuZ2VyOnJldHVybiBXYi5EYW5nZXI7Y2FzZSBIYi5JbmZvOnJldHVybiBXYi5JbmZvO2Nhc2UgSGIuU3VjY2VzczpyZXR1cm4gV2IuU3VjY2VzcztjYXNlIEhiLldhcm5pbmc6cmV0dXJuIFdiLldhcm5pbmd9fWdldCB0YWdDb2xvcigpe3JldHVybiB0aGlzLnR5cGU/dGhpcy5pbnZlcnNlP2Bwby10YWctJHt0aGlzLnR5cGV9LWludmVyc2VgOmBwby10YWctJHt0aGlzLnR5cGV9YDp0aGlzLmNvbG9yP3RoaXMuaW52ZXJzZT9gcG8tdGV4dC0ke3RoaXMuY29sb3J9YDpgcG8tJHt0aGlzLmNvbG9yfWA6dGhpcy5pbnZlcnNlP2Ake0difS1pbnZlcnNlYDpHYn1nZXQgdGFnT3JpZW50YXRpb24oKXtyZXR1cm4gdGhpcy5vcmllbnRhdGlvbj09PXRoaXMucG9UYWdPcmllbnRhdGlvbi5Ib3Jpem9udGFsfW9uQ2xpY2soKXt0aGlzLmNsaWNrLmVtaXQoe3ZhbHVlOnRoaXMudmFsdWUsdHlwZTp0aGlzLnR5cGV9KX1vbktleVByZXNzZWQodCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5vbkNsaWNrKCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbigpe2xldCBlO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oZXx8KGU9Vm4odCkpKShufHx0KX19KCksdC5cdTAyNzVjbXA9SHQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tdGFnIl1dLGZlYXR1cmVzOltaaV0sZGVjbHM6Nyx2YXJzOjEwLGNvbnN0czpbWzEsInBvLXRhZy1jb250YWluZXIiXSxbImNsYXNzIiwicG8tdGFnLXRpdGxlIHBvLXRleHQtbm93cmFwIiw0LCJuZ0lmIl0sWzEsInBvLXRhZy1zdWItY29udGFpbmVyIl0sWyJ0YWJpbmRleCIsIjAiLDEsInBvLXRhZyIsMywibmdDbGFzcyIsImNsaWNrIiwia2V5ZG93bi5lbnRlciIsImtleWRvd24uc3BhY2UiLCJrZXl1cC5zcGFjZSJdLFsiY2xhc3MiLCJwby10YWctaWNvbiIsMywicC1pY29uIiw0LCJuZ0lmIl0sWzEsInBvLXRhZy12YWx1ZSJdLFsxLCJwby10YWctdGl0bGUiLCJwby10ZXh0LW5vd3JhcCJdLFsxLCJwby10YWctbGFiZWwiXSxbMSwicG8tdGFnLWljb24iLDMsInAtaWNvbiJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKGNvKDAsImRpdiIsMCksb28oMSxaeSwzLDEsImRpdiIsMSksY28oMiwiZGl2IiwyKSxjbygzLCJkaXYiLDMpLHZvKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vbkNsaWNrKCl9KSgia2V5ZG93bi5lbnRlciIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25LZXlQcmVzc2VkKHQpfSkoImtleWRvd24uc3BhY2UiLGZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0KCl9KSgia2V5dXAuc3BhY2UiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uS2V5UHJlc3NlZCh0KX0pLG9vKDQsS3ksMSwxLCJwby1pY29uIiw0KSxjbyg1LCJzcGFuIiw1KSxIbyg2KSxobygpLGhvKCksaG8oKSxobygpKSwyJnQmJihPbygicG8tdGFnLWNvbnRhaW5lci1ob3Jpem9udGFsIixlLnRhZ09yaWVudGF0aW9uKSxOcygxKSxsbygibmdJZiIsZS5sYWJlbCksTnMoMiksT28oInBvLWNsaWNrYWJsZSIsZS5pc0NsaWNrYWJsZSkoInBvLXRhZy1pbnZlcnNlIixlLmludmVyc2UpLGxvKCJuZ0NsYXNzIixlLnRhZ0NvbG9yKSxOcygxKSxsbygibmdJZiIsZS5pY29uKSxOcygyKSwkbyhlLnZhbHVlKSl9LGRpcmVjdGl2ZXM6W3FjLFVjLG12XSxlbmNhcHN1bGF0aW9uOjIsY2hhbmdlRGV0ZWN0aW9uOjB9KSx0fSkoKSxLYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW3JoLHl2XV19KSx0fSkoKSxZYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuaHR0cD10fW9uTG9hZCh0LGUpe3JldHVybiB0aGlzLmh0dHAucG9zdCh0LGUpLnRvUHJvbWlzZSgpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShvcihveSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLFFiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbdGgsWGMsSmMsa2IsUWMsUmIsTWIsWWJdLGltcG9ydHM6W1tyaCxYZCxxdixCYixMYixLYixUYl1dfSksdH0pKCk7TWF0aDtsZXQgWGI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3JoLE12XV19KSx0fSkoKSxKYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbcmgsWGQsTGJdXX0pLHR9KSgpLHR3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbcmgsSW0sUHYsV3ZdXX0pLHR9KSgpLGV3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tyaF1dfSksdH0pKCksbnc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3JoLEltLGV3LExiLEF2LHl2XV19KSx0fSkoKSxydz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5zdWJqZWN0Q2hpbGQ9bmV3IEQsdGhpcy5zdWJqZWN0UGFyZW50PW5ldyBEfXJlY2VpdmVGcm9tQ2hpbGRNZW51Q2xpY2tlZCgpe3JldHVybiB0aGlzLnN1YmplY3RDaGlsZC5hc09ic2VydmFibGUoKX1yZWNlaXZlRnJvbVBhcmVudE1lbnVDbGlja2VkKCl7cmV0dXJuIHRoaXMuc3ViamVjdFBhcmVudC5hc09ic2VydmFibGUoKX1zZW5kVG9QYXJlbnRNZW51Q2xpY2tlZCh0KXt0aGlzLnN1YmplY3RDaGlsZC5uZXh0KHQpfXNlbmRUb0NoaWxkTWVudUNsaWNrZWQodCl7dGhpcy5zdWJqZWN0UGFyZW50Lm5leHQodCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLHN3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbcnddLGltcG9ydHM6W1tyaCxJbSxMYixNdl1dfSksdH0pKCksaXc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3JoLFd2LE12LHl2XV19KSx0fSkoKSxvdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbcmgsSW1dXX0pLHR9KSgpLGF3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tyaCxJbV1dfSksdH0pKCksbHc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3JoLGl3LG93LGF3LG53LHl2XV19KSx0fSkoKSx1dz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbcmgsWGQsSW0sZ3YsUHYsenYsR3YsTGIsRXYsbGJdXX0pLHR9KSgpLGN3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbcmgsSW0sSHZdXX0pLHR9KSgpLGh3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tyaF1dfSksdH0pKCksZHc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3JoLHhiXV19KSx0fSkoKSxwdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW3JoLHN2LFd2LHl2XV19KSx0fSkoKSxmdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbcmgsWGQsSHYsTGJdXX0pLHR9KSgpLGd3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tyaCxIdl1dfSksdH0pKCksbXc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tydixzdixndixQdixqdixMdixVdixIdix6diwkdixxdixHdixRYixMYixYYixKYix5dixCYix0dyxBdixudyxzdyxsYixsdyx1dyx4YixXdix1YixjdyxodyxGYixkdyxLYixwdyxmdyxnd10scnYsc3YsZ3YsUHYsanYsTHYsVXYsSHYsenYsJHYscXYsR3YsUWIsTGIsWGIsSmIseXYsQmIsdHcsQXYsbncsc3csbGIsbHcsdXcseGIsV3YsdWIsY3csaHcsRmIsZHcsS2IscHcsZncsZ3ddfSksdH0pKCkseXc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tNdl0sTXZdfSksdH0pKCksdnc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tdXX0pLHR9KSgpO2NvbnN0IGJ3PXtlbjp7Y2xvc2VCdXR0b246IkNsb3NlIixkZXRhaWxzOiJEZXRhaWxzIixkZXRhaWw6IkRldGFpbCIsZXJyb3I6IkVycm9yIix3YXJuaW5nOiJXYXJuaW5nIixpbmZvcm1hdGlvbjoiSW5mb3JtYXRpb24iLHN1Y2Nlc3M6IlN1Y2Nlc3MifSxlczp7Y2xvc2VCdXR0b246IkNlcnJhciIsZGV0YWlsczoiRGV0YWxsZXMiLGRldGFpbDoiRGV0YWxsZSIsZXJyb3I6IkVycm9yIix3YXJuaW5nOiJBZHZlcnRlbmNpYSIsaW5mb3JtYXRpb246IkluZm9ybWFjaW9uIixzdWNjZXNzOiJceGM5eGl0byJ9LHB0OntjbG9zZUJ1dHRvbjoiRmVjaGFyIixkZXRhaWxzOiJEZXRhbGhlcyIsZGV0YWlsOiJEZXRhbGhlIixlcnJvcjoiRXJybyIsd2FybmluZzoiQXZpc28iLGluZm9ybWF0aW9uOiJJbmZvcm1hXHhlN1x4ZTNvIixzdWNjZXNzOiJTdWNlc3NvIn0scnU6e2Nsb3NlQnV0dG9uOiJcdTA0MTdcdTA0MzBcdTA0M2FcdTA0NDBcdTA0NGJcdTA0MzJcdTA0MzBcdTA0NDJcdTA0NGMiLGRldGFpbHM6Ilx1MDQxNFx1MDQzNVx1MDQ0Mlx1MDQzMFx1MDQzYlx1MDQzOCIsZGV0YWlsOiJcdTA0MTRcdTA0MzVcdTA0NDJcdTA0MzBcdTA0M2JcdTA0NGMiLGVycm9yOiJcdTA0MWVcdTA0NDhcdTA0MzhcdTA0MzFcdTA0M2FcdTA0MzAiLHdhcm5pbmc6Ilx1MDQxZlx1MDQ0MFx1MDQzNVx1MDQzNFx1MDQ0M1x1MDQzZlx1MDQ0MFx1MDQzNVx1MDQzNlx1MDQzNFx1MDQzNVx1MDQzZFx1MDQzOFx1MDQzNSIsaW5mb3JtYXRpb246Ilx1MDQxOFx1MDQzZFx1MDQ0NFx1MDQzZVx1MDQ0MFx1MDQzY1x1MDQzMFx1MDQ0Nlx1MDQzOFx1MDQ0ZiIsc3VjY2VzczoiWVx1MDQ0MVx1MDQzZlx1MDQzNVx1MDQ0NSJ9fSx3dz17c3VjY2VzczoiY29sb3ItMTEiLGVycm9yOiJjb2xvci0wNyIsd2FybmluZzoiY29sb3ItMDgiLGluZm86IiJ9O2xldCBfdz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMubGFuZ3VhZ2VTZXJ2aWNlPXQsdGhpcy5jbG9zZWQ9bmV3IGdsLHRoaXMuZGV0YWlscz1bXSx0aGlzLmxhbmd1YWdlPXRoaXMubGFuZ3VhZ2VTZXJ2aWNlLmdldFNob3J0TGFuZ3VhZ2UoKSx0aGlzLmxpdGVyYWxzPWJ3W3RoaXMubGFuZ3VhZ2VdLHRoaXMucHJpbWFyeUFjdGlvbj17YWN0aW9uOigpPT50aGlzLmNsb3NlKCksbGFiZWw6dGhpcy5saXRlcmFscy5jbG9zZUJ1dHRvbn19c2V0IGRldGFpbCh0KXt0JiZ0Lmxlbmd0aCYmKHRoaXMuZGV0YWlscz10aGlzLmZpbHRlckJ5VmFsaWREZXRhaWxzKHQpKSx0aGlzLnRpdGxlPXRoaXMuZm9ybWF0VGl0bGUodGhpcy5kZXRhaWxzKX1jbG9zZSgpe3RoaXMubW9kYWwuY2xvc2UoKSx0aGlzLmNsb3NlZC5lbWl0KCl9Zm9ybWF0RGV0YWlsSXRlbVRpdGxlKHQpe3JldHVybiB0LmNvZGU/YCR7dC5jb2RlfSAtICR7dC5tZXNzYWdlfWA6dC5tZXNzYWdlfW9wZW4oKXt0aGlzLm1vZGFsLm9wZW4oKX10eXBlQ29sb3IodCl7cmV0dXJuIHd3W3RdfXR5cGVWYWx1ZSh0KXtyZXR1cm4gYndbdGhpcy5sYW5ndWFnZV1bdF18fHR9YWRkVmFsaWREZXRhaWwodCxlKXtyZXR1cm4gZS5tZXNzYWdlP3QuY29uY2F0KHRoaXMuZ2V0VmFsaWREZXRhaWxQcm9wZXJ0aWVzKGUpKTp0fWdldFZhbGlkRGV0YWlsUHJvcGVydGllcyh7Y29kZTp0LG1lc3NhZ2U6ZSxkZXRhaWxlZE1lc3NhZ2U6bix0eXBlOnJ9KXtyZXR1cm57Y29kZTp0LG1lc3NhZ2U6ZSxkZXRhaWxlZE1lc3NhZ2U6bix0eXBlOnJ9fWZpbHRlckJ5VmFsaWREZXRhaWxzKHQpe3JldHVybiB0LnJlZHVjZSgodCxlKT0+dGhpcy5hZGRWYWxpZERldGFpbCh0LGUpLFtdKX1mb3JtYXRUaXRsZSh0KXtyZXR1cm4gdC5sZW5ndGg+MT9gJHt0aGlzLmxpdGVyYWxzLmRldGFpbHN9ICgke3QubGVuZ3RofSlgOnRoaXMubGl0ZXJhbHMuZGV0YWlsfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhbyhmdikpfSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1odHRwLWludGVyY2VwdG9yLWRldGFpbCJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJmtsKGFiLDcpLDImdCl7bGV0IHQ7eGwodD1UbCgpKSYmKGUubW9kYWw9dC5maXJzdCl9fSxkZWNsczo0LHZhcnM6Myxjb25zdHM6W1sicC1oaWRlLWNsb3NlIiwiIiwicC1zaXplIiwibGciLDMsInAtcHJpbWFyeS1hY3Rpb24iLCJwLXRpdGxlIl0sWzEsInBvLXJvdyJdLFsxLCJwby1tZC0xMiIsInBvLW10LTEiLCJwby1tYi0xIl0sWzMsInAtbGFiZWwiLDQsIm5nRm9yIiwibmdGb3JPZiJdLFszLCJwLWxhYmVsIl0sWyJjbGFzcyIsInBvLXJvdyBwby1tYi0xIiw0LCJuZ0lmIl0sWzEsInBvLXJvdyIsInBvLW1iLTEiXSxbMywicC1jb2xvciIsInAtdmFsdWUiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihjbygwLCJwby1tb2RhbCIsMCksY28oMSwiZGl2IiwxKSxjbygyLCJwby1hY2NvcmRpb24iLDIpLG9vKDMsUXksNSwzLCJwby1hY2NvcmRpb24taXRlbSIsMyksaG8oKSxobygpLGhvKCkpLDImdCYmKGxvKCJwLXByaW1hcnktYWN0aW9uIixlLnByaW1hcnlBY3Rpb24pKCJwLXRpdGxlIixlLnRpdGxlKSxOcygzKSxsbygibmdGb3JPZiIsZS5kZXRhaWxzKSl9LGRpcmVjdGl2ZXM6W2FiLHR2LCRjLEp5LHFjLFpiXSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKTtjb25zdCBDdz17cHQ6e2hlbHA6IkFqdWRhIixkZXRhaWxzOiJEZXRhbGhlcyIsc2VydmVyTm90UmVzcG9uc2U6IlNlcnZpZG9yIG5ceGUzbyBlc3RceGUxIHJlc3BvbmRlbmRvIn0sZW46e2hlbHA6IkhlbHAiLGRldGFpbHM6IkRldGFpbHMiLHNlcnZlck5vdFJlc3BvbnNlOiJTZXJ2ZXIgaXMgbm90IHJlc3BvbmRpbmcifSxlczp7aGVscDoiQXl1ZGEiLGRldGFpbHM6IkRldGFsbGVzIixzZXJ2ZXJOb3RSZXNwb25zZToiRWwgc2Vydmlkb3Igbm8gZXN0XHhlMSByZXNwb25kaWVuZG8ifSxydTp7aGVscDoiXHUwNDFmXHUwNDNlXHUwNDNjXHUwNDNlXHUwNDMzXHUwNDM4XHUwNDQyXHUwNDM1IixkZXRhaWxzOiJcdTA0MTRcdTA0MzVcdTA0NDJcdTA0MzBcdTA0M2JcdTA0MzgiLHNlcnZlck5vdFJlc3BvbnNlOiJcdTA0MjFcdTA0MzVcdTA0NDBcdTA0MzJcdTA0MzVcdTA0NDAgXHUwNDNkXHUwNDM1IFx1MDQzZVx1MDQ0Mlx1MDQzMlx1MDQzNVx1MDQ0N1x1MDQzMFx1MDQzNVx1MDQ0MiJ9fSxEdz0iWC1QTy1Oby1FcnJvciIsRXc9IlgtUE8tTm8tTWVzc2FnZSI7bGV0IEF3PSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBjbGFzc3tjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5jb21wb25lbnRJbmplY3Rvcj10LHRoaXMubm90aWZpY2F0aW9uPWUsdGhpcy5sYW5ndWFnZVNlcnZpY2U9bix0aGlzLm5vdGlmaWNhdGlvblR5cGVzPVsic3VjY2VzcyIsIndhcm5pbmciLCJlcnJvciIsImluZm9ybWF0aW9uIl0sdGhpcy5saXRlcmFscz1Dd1t0aGlzLmxhbmd1YWdlU2VydmljZS5nZXRTaG9ydExhbmd1YWdlKCldLHRoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50PXZvaWQgMH1pbnRlcmNlcHQodCxlKXtjb25zdCBuPXQuY2xvbmUoKTtyZXR1cm4gdD10JiZ0aGlzLmhhc1BhcmFtZXRlcnModCk/dGhpcy5jbG9uZVJlcXVlc3RXaXRob3V0UGFyYW1ldGVycyh0KTp0LGUuaGFuZGxlKHQpLnBpcGUoVXAodD0+e3QgaW5zdGFuY2VvZiByeSYmdGhpcy5wcm9jZXNzUmVzcG9uc2UodCxuKX0sdD0+e3RoaXMucHJvY2Vzc0Vycm9yUmVzcG9uc2UodCxuKX0pKX1wcm9jZXNzUmVzcG9uc2UodCxlKXtpZighdGhpcy5oYXNOb01lc3NhZ2VQYXJhbShlKSYmdC5ib2R5JiZ0LmJvZHkuX21lc3NhZ2VzKXtjb25zdCBlPXQuYm9keS5fbWVzc2FnZXM7ZSBpbnN0YW5jZW9mIEFycmF5P2UuZm9yRWFjaCh0PT57dGhpcy5zaG93Tm90aWZpY2F0aW9uKHQpfSk6dGhpcy5zaG93Tm90aWZpY2F0aW9uKGUpfX1wcm9jZXNzRXJyb3JSZXNwb25zZSh0LGUpe2NvbnN0IG49MCE9PXQuc3RhdHVzP3QuZXJyb3I6e2NvZGU6MCxtZXNzYWdlOnRoaXMubGl0ZXJhbHMuc2VydmVyTm90UmVzcG9uc2UsZGV0YWlsZWRNZXNzYWdlOnQubWVzc2FnZX0scj10aGlzLmhhc05vRXJyb3JQYXJhbShlKSxzPXRoaXMuaGFzTm9NZXNzYWdlUGFyYW0oZSksaT10aGlzLm5vdGlmaWNhdGlvblR5cGVzLnNsaWNlKDEpO24mJm4ubWVzc2FnZSYmIXImJiFzJiZ0aGlzLnNob3dOb3RpZmljYXRpb24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHt0eXBlOmkuaW5jbHVkZXMobi50eXBlKT9uLnR5cGU6ImVycm9yIn0pKX1jbG9uZVJlcXVlc3RXaXRob3V0UGFyYW1ldGVycyh0KXtjb25zdCBlPXQuaGVhZGVycy5kZWxldGUoRHcpLmRlbGV0ZShFdyk7cmV0dXJuIHQuY2xvbmUoe2hlYWRlcnM6ZX0pfWNyZWF0ZU1vZGFsKHQpe2NvbnN0IGU9dC5kZXRhaWxzP1t0LC4uLnQuZGV0YWlsc106W3RdO3RoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50PXRoaXMuY29tcG9uZW50SW5qZWN0b3IuY3JlYXRlQ29tcG9uZW50SW5BcHBsaWNhdGlvbihfdyksdGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQuaW5zdGFuY2UuZGV0YWlsPWUsdGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQuaW5zdGFuY2UuY2xvc2VkLnN1YnNjcmliZSgoKT0+dGhpcy5kZXN0cm95TW9kYWwoKSksdGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQuaW5zdGFuY2Uub3BlbigpfWRlc3Ryb3lNb2RhbCgpe3RoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50JiYodGhpcy5jb21wb25lbnRJbmplY3Rvci5kZXN0cm95Q29tcG9uZW50SW5BcHBsaWNhdGlvbih0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudCksdGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQ9dm9pZCAwKX1oYXNNZXNzYWdlKHQpe3JldHVybiB0JiZ0Lm1lc3NhZ2V9aGFzTm9FcnJvclBhcmFtKHQpe2NvbnN0IGU9dCYmdC5oZWFkZXJzLmdldChEdyk7cmV0dXJuIGUmJiJ0cnVlIj09PWUudG9TdHJpbmcoKS50b0xvY2FsZUxvd2VyQ2FzZSgpfWhhc05vTWVzc2FnZVBhcmFtKHQpe2NvbnN0IGU9dCYmdC5oZWFkZXJzLmdldChFdyk7cmV0dXJuIGUmJiJ0cnVlIj09PWUudG9TdHJpbmcoKS50b0xvY2FsZUxvd2VyQ2FzZSgpfWhhc1BhcmFtZXRlcnModCl7cmV0dXJuIHQuaGVhZGVycy5oYXMoRHcpfHx0LmhlYWRlcnMuaGFzKEV3KX1zaG93Tm90aWZpY2F0aW9uKHQpe2lmKCF0aGlzLmhhc01lc3NhZ2UodCkpcmV0dXJuO2NvbnN0IGU9dGhpcy5ub3RpZmljYXRpb25UeXBlcy5pbmNsdWRlcyh0LnR5cGUpP3QudHlwZToiaW5mb3JtYXRpb24iLG49dGhpcy5nZW5lcmF0ZU5vdGlmaWNhdGlvbkFjdGlvbih0KTt0aGlzLm5vdGlmaWNhdGlvbltlXSh7bWVzc2FnZTp0Lm1lc3NhZ2UsYWN0aW9uTGFiZWw6bi5sYWJlbCxhY3Rpb246bi5hY3Rpb259KX1nZW5lcmF0ZURldGFpbE1vZGFsKHQpe3JldHVybigpPT57dGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnR8fHRoaXMuY3JlYXRlTW9kYWwodCl9fWdlbmVyYXRlTm90aWZpY2F0aW9uQWN0aW9uKHQpe2xldCBlLG47cmV0dXJuIXQuaGVscFVybHx8dC5kZXRhaWxlZE1lc3NhZ2V8fHQuZGV0YWlscz8odC5kZXRhaWxlZE1lc3NhZ2V8fHQuZGV0YWlscykmJihuPXRoaXMubGl0ZXJhbHMuZGV0YWlscyxlPXRoaXMuZ2VuZXJhdGVEZXRhaWxNb2RhbCh0KSk6KG49dGhpcy5saXRlcmFscy5oZWxwLGU9dGhpcy5nZW5lcmF0ZVVybEhlbHBGdW5jdGlvbih0LmhlbHBVcmwpKSx7bGFiZWw6bixhY3Rpb246ZX19Z2VuZXJhdGVVcmxIZWxwRnVuY3Rpb24odCl7cmV0dXJuKCk9Pnt3aW5kb3cub3Blbih0LCJfYmxhbmsiKX19fXtjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIoZSx0LG4pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShvcihWYiksb3IocGIpLG9yKGZ2KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksU3c9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltBdyxWYix7cHJvdmlkZTpseSx1c2VDbGFzczpBdyxtdWx0aTohMH1dLGltcG9ydHM6W1tyaCxydixsYixBYixLYl1dfSksdH0pKCkseHc9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuY29udHJvbEh0dHBSZXF1ZXN0PW5ldyBEfWdldENvbnRyb2xIdHRwUmVxdWVzdCgpe3JldHVybiB0aGlzLmNvbnRyb2xIdHRwUmVxdWVzdC5hc09ic2VydmFibGUoKX1zZW5kKHQ9MCl7dGhpcy5jb250cm9sSHR0cFJlcXVlc3QubmV4dCh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y29uc3Qga3c9IlgtUE8tTm8tQ291bnQtUGVuZGluZy1SZXF1ZXN0cyIsVHc9IlgtUE8tU2NyZWVuLUxvY2siO2xldCBGdz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5jb250cm9sSHR0cFJlcXVlc3Q9dCx0aGlzLnBvQ29tcG9uZW50SW5qZWN0b3I9ZSx0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50PXZvaWQgMCx0aGlzLnBlbmRpbmdSZXF1ZXN0cz0wLHRoaXMub3ZlcmxheVJlcXVlc3RzPTB9aW50ZXJjZXB0KHQsZSl7Y29uc3Qgbj10LmNsb25lKCk7cmV0dXJuIHQ9dGhpcy5yZXF1ZXN0Q2xvbmVXaXRob3V0SGVhZGVyUGFyYW0oW2t3LFR3XSx0KSx0aGlzLnNldENvdW50UGVuZGluZ1JlcXVlc3RzKCEwLG4pLHRoaXMuc2V0Q291bnRPdmVybGF5UmVxdWVzdHMoITAsbiksZS5oYW5kbGUodCkucGlwZShVcCh0PT57dCBpbnN0YW5jZW9mIHJ5JiYodGhpcy5zZXRDb3VudFBlbmRpbmdSZXF1ZXN0cyghMSxuKSx0aGlzLnNldENvdW50T3ZlcmxheVJlcXVlc3RzKCExLG4pKX0pLEFwKHQ9Pih0aGlzLnNldENvdW50UGVuZGluZ1JlcXVlc3RzKCExLG4pLHRoaXMuc2V0Q291bnRPdmVybGF5UmVxdWVzdHMoITEsbiksWmgodCkpKSl9Z2V0Q291bnRQZW5kaW5nUmVxdWVzdHMoKXtyZXR1cm4gdGhpcy5jb250cm9sSHR0cFJlcXVlc3QuZ2V0Q29udHJvbEh0dHBSZXF1ZXN0KCl9YnVpbGRMb2FkaW5nKCl7dGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudHx8KHRoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnQ9dGhpcy5wb0NvbXBvbmVudEluamVjdG9yLmNyZWF0ZUNvbXBvbmVudEluQXBwbGljYXRpb24od3YpLHRoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnQuaW5zdGFuY2Uuc2NyZWVuTG9jaz0hMCx0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50Lmluc3RhbmNlLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKSl9ZGVzdHJveUxvYWRpbmcoKXt0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50JiYodGhpcy5wb0NvbXBvbmVudEluamVjdG9yLmRlc3Ryb3lDb21wb25lbnRJbkFwcGxpY2F0aW9uKHRoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnQpLHRoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnQ9dm9pZCAwKX1yZXF1ZXN0Q2xvbmVXaXRob3V0SGVhZGVyUGFyYW0odCxlKXtsZXQgbj0hMTtyZXR1cm4gdC5mb3JFYWNoKHQ9PntlLmhlYWRlcnMuaGFzKHQpJiYoZS5oZWFkZXJzLmRlbGV0ZSh0KSxuPSEwKX0pLG4/ZS5jbG9uZSh7aGVhZGVyczplLmhlYWRlcnN9KTplfXNldENvdW50UGVuZGluZ1JlcXVlc3RzKHQsZSl7Y29uc3Qgbj1lLmhlYWRlcnMuaGFzKGt3KSxyPWUuaGVhZGVycy5nZXQoa3cpO24mJiJ0cnVlIj09PXIudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpfHwodGhpcy5wZW5kaW5nUmVxdWVzdHMrPXQ/MTotMSx0aGlzLmNvbnRyb2xIdHRwUmVxdWVzdC5zZW5kKHRoaXMucGVuZGluZ1JlcXVlc3RzKSl9c2V0Q291bnRPdmVybGF5UmVxdWVzdHModCxlKXtpZihlLmhlYWRlcnMuaGFzKFR3KSl7aWYoImZhbHNlIj09PWUuaGVhZGVycy5nZXQoVHcpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSlyZXR1cm47dGhpcy5vdmVybGF5UmVxdWVzdHMrPXQ/MTotMSx0aGlzLm92ZXJsYXlSZXF1ZXN0cz4wP3RoaXMuYnVpbGRMb2FkaW5nKCk6dGhpcy5kZXN0cm95TG9hZGluZygpfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkob3IoeHcpLG9yKHBiKSl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgdChvcih4dyksb3IocGIpKX0sdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpLE93PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbeHcsRncscGIse3Byb3ZpZGU6bHksdXNlQ2xhc3M6RncsbXVsdGk6ITB9XSxpbXBvcnRzOltbQXZdXX0pLHR9KSgpLFB3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbU3csT3ddLFN3LE93XX0pLHR9KSgpLEl3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbVGJdLFRiXX0pLHR9KSgpLFJ3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbVmJdLGltcG9ydHM6W1ttdyx5dyx2dyxQdyxJdyxTYl0sbXcseXcsUHcsdncsSXcsU2JdfSksdH0pKCk7bmV3IEhuKCJJMThOX0NPTkZJRyIpO2xldCBNdz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy50aXRsZT0icG9jIn1jYWxjdWxhKHQpe2NvbnNvbGUubG9nKHthY3Rpb246dH0pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVjbXA9SHQoe3R5cGU6dCxzZWxlY3RvcnM6W1siaGMtcm9vdCJdXSxkZWNsczoxMCx2YXJzOjIsY29uc3RzOltbMSwicG8tcm93Il0sWzEsInBvLW1kLTEyIl0sWyJuYW1lIiwibnVtYmVyT25lIiwicC1sYWJlbCIsIlByaW1laXJvIE5ceGZhbWVybyIsInAtcGxhY2Vob2xkZXIiLCJQcmltZWlybyBOXHhmYW1lcm8iLDMsIm5nTW9kZWwiLCJuZ01vZGVsQ2hhbmdlIl0sWyJuYW1lIiwibnVtYmVyVHdvIiwicC1sYWJlbCIsIlNlZ3VuZG8gTlx4ZmFtZXJvIiwicC1wbGFjZWhvbGRlciIsIlNlZ3VuZG8gTlx4ZmFtZXJvIiwzLCJuZ01vZGVsIiwibmdNb2RlbENoYW5nZSJdLFsicC10eXBlIiwicHJpbWFyeSIsInAtbGFiZWwiLCJTb21hIiwzLCJwLWNsaWNrIl0sWyJwLXR5cGUiLCJwcmltYXJ5IiwicC1sYWJlbCIsIlN1YnRyYWkiLDMsInAtY2xpY2siXSxbInAtdHlwZSIsInByaW1hcnkiLCJwLWxhYmVsIiwiTXVsdGlwbGljYSIsMywicC1jbGljayJdLFsicC10eXBlIiwicHJpbWFyeSIsInAtbGFiZWwiLCJEaXZpZGUiLDMsInAtY2xpY2siXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihjbygwLCJkaXYiLDApLGNvKDEsImRpdiIsMSksY28oMiwiaDMiKSxIbygzLCJDYWxjdWxhdG9yYSAyIiksaG8oKSxjbyg0LCJwby1udW1iZXIiLDIpLHZvKCJuZ01vZGVsQ2hhbmdlIixmdW5jdGlvbih0KXtyZXR1cm4gZS5udW1iZXJPbmU9dH0pLGhvKCksY28oNSwicG8tbnVtYmVyIiwzKSx2bygibmdNb2RlbENoYW5nZSIsZnVuY3Rpb24odCl7cmV0dXJuIGUubnVtYmVyVHdvPXR9KSxobygpLGNvKDYsInBvLWJ1dHRvbiIsNCksdm8oInAtY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIGUuY2FsY3VsYSgic29tYSIpfSksaG8oKSxjbyg3LCJwby1idXR0b24iLDUpLHZvKCJwLWNsaWNrIixmdW5jdGlvbigpe3JldHVybiBlLmNhbGN1bGEoInN1YnRyYVx4ZTdceGUzbyIpfSksaG8oKSxjbyg4LCJwby1idXR0b24iLDYpLHZvKCJwLWNsaWNrIixmdW5jdGlvbigpe3JldHVybiBlLmNhbGN1bGEoIm11bHRpcGxpY2FceGU3XHhlM28iKX0pLGhvKCksY28oOSwicG8tYnV0dG9uIiw3KSx2bygicC1jbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gZS5jYWxjdWxhKCJkaXZpc1x4ZTNvIil9KSxobygpLGhvKCksaG8oKSksMiZ0JiYoTnMoNCksbG8oIm5nTW9kZWwiLGUubnVtYmVyT25lKSxOcygxKSxsbygibmdNb2RlbCIsZS5udW1iZXJUd28pKX0sZGlyZWN0aXZlczpbTmIsRmQsS2QsT3ZdLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLGp3PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7Y29uc3QgZT1mdW5jdGlvbih0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5nZXQoaGEpLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHQpLmlucHV0c30odCxlLmluamVjdG9yKSxyPWUuc3RyYXRlZ3lGYWN0b3J5fHxuZXcgYWQodCxlLmluamVjdG9yKSxzPWZ1bmN0aW9uKHQpe2NvbnN0IGU9e307cmV0dXJuIHQuZm9yRWFjaCgoe3Byb3BOYW1lOnQsdGVtcGxhdGVOYW1lOm59KT0+e3ZhciByO2VbKHI9bixyLnJlcGxhY2UoL1tBLVpdL2csdD0+YC0ke3QudG9Mb3dlckNhc2UoKX1gKSldPXR9KSxlfShuKTtjbGFzcyBpIGV4dGVuZHMgdWR7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmluamVjdG9yPXR9Z2V0IG5nRWxlbWVudFN0cmF0ZWd5KCl7aWYoIXRoaXMuX25nRWxlbWVudFN0cmF0ZWd5KXtjb25zdCB0PXRoaXMuX25nRWxlbWVudFN0cmF0ZWd5PXIuY3JlYXRlKHRoaXMuaW5qZWN0b3J8fGUuaW5qZWN0b3IpO24uZm9yRWFjaCgoe3Byb3BOYW1lOmV9KT0+e2lmKCF0aGlzLmhhc093blByb3BlcnR5KGUpKXJldHVybjtjb25zdCBuPXRoaXNbZV07ZGVsZXRlIHRoaXNbZV0sdC5zZXRJbnB1dFZhbHVlKGUsbil9KX1yZXR1cm4gdGhpcy5fbmdFbGVtZW50U3RyYXRlZ3l9YXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKHQsZSxuLHIpe3RoaXMubmdFbGVtZW50U3RyYXRlZ3kuc2V0SW5wdXRWYWx1ZShzW3RdLG4pfWNvbm5lY3RlZENhbGxiYWNrKCl7bGV0IHQ9ITE7dGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5ldmVudHMmJih0aGlzLnN1YnNjcmliZVRvRXZlbnRzKCksdD0hMCksdGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5jb25uZWN0KHRoaXMpLHR8fHRoaXMuc3Vic2NyaWJlVG9FdmVudHMoKX1kaXNjb25uZWN0ZWRDYWxsYmFjaygpe3RoaXMuX25nRWxlbWVudFN0cmF0ZWd5JiZ0aGlzLl9uZ0VsZW1lbnRTdHJhdGVneS5kaXNjb25uZWN0KCksdGhpcy5uZ0VsZW1lbnRFdmVudHNTdWJzY3JpcHRpb24mJih0aGlzLm5nRWxlbWVudEV2ZW50c1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpLHRoaXMubmdFbGVtZW50RXZlbnRzU3Vic2NyaXB0aW9uPW51bGwpfXN1YnNjcmliZVRvRXZlbnRzKCl7dGhpcy5uZ0VsZW1lbnRFdmVudHNTdWJzY3JpcHRpb249dGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5ldmVudHMuc3Vic2NyaWJlKHQ9Pntjb25zdCBlPWZ1bmN0aW9uKHQsZSxuKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgQ3VzdG9tRXZlbnQpe2NvbnN0IHI9dC5jcmVhdGVFdmVudCgiQ3VzdG9tRXZlbnQiKTtyZXR1cm4gci5pbml0Q3VzdG9tRXZlbnQoZSwhMSwhMSxuKSxyfXJldHVybiBuZXcgQ3VzdG9tRXZlbnQoZSx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDpufSl9KHRoaXMub3duZXJEb2N1bWVudCx0Lm5hbWUsdC52YWx1ZSk7dGhpcy5kaXNwYXRjaEV2ZW50KGUpfSl9fXJldHVybiBpLm9ic2VydmVkQXR0cmlidXRlcz1PYmplY3Qua2V5cyhzKSxuLmZvckVhY2goKHtwcm9wTmFtZTp0fSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsdCx7Z2V0KCl7cmV0dXJuIHRoaXMubmdFbGVtZW50U3RyYXRlZ3kuZ2V0SW5wdXRWYWx1ZSh0KX0sc2V0KGUpe3RoaXMubmdFbGVtZW50U3RyYXRlZ3kuc2V0SW5wdXRWYWx1ZSh0LGUpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfSksaX0oTXcse2luamVjdG9yOnR9KTtjdXN0b21FbGVtZW50cy5kZWZpbmUoImhjLXJvb3QiLGUpfW5nRG9Cb290c3RyYXAoKXt9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKG9yKFdpKSl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tOaCxYZCxSd11dfSksdH0pKCk7KGZ1bmN0aW9uKCl7aWYoZnUpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZW5hYmxlIHByb2QgbW9kZSBhZnRlciBwbGF0Zm9ybSBzZXR1cC4iKTtwdT0hMX0pKCksTWgoKS5ib290c3RyYXBNb2R1bGUoancpLmNhdGNoKHQ9PmNvbnNvbGUuZXJyb3IodCkpfSw2NjI6dD0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCk9Pnt2YXIgZT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIit0KyInIik7dGhyb3cgZS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixlfSl9ZS5rZXlzPSgpPT5bXSxlLnJlc29sdmU9ZSxlLmlkPTY2Mix0LmV4cG9ydHM9ZX19LHQ9PnsidXNlIHN0cmljdCI7dCh0LnM9MTkwKX1dKTs=';