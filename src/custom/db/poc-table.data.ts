export const pocTable = 'KCgpPT57InVzZSBzdHJpY3QiO3ZhciBlLHI9e30sbj17fTtmdW5jdGlvbiB0KGUpe3ZhciBvPW5bZV07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBhPW5bZV09e2V4cG9ydHM6e319O3JldHVybiByW2VdKGEsYS5leHBvcnRzLHQpLGEuZXhwb3J0c310Lm09cixlPVtdLHQuTz0ocixuLG8sYSk9PntpZighbil7dmFyIGw9MS8wO2Zvcih1PTA7dTxlLmxlbmd0aDt1Kyspe2Zvcih2YXJbbixvLGFdPWVbdV0scz0hMCxwPTA7cDxuLmxlbmd0aDtwKyspKCExJmF8fGw+PWEpJiZPYmplY3Qua2V5cyh0Lk8pLmV2ZXJ5KGU9PnQuT1tlXShuW3BdKSk/bi5zcGxpY2UocC0tLDEpOihzPSExLGE8bCYmKGw9YSkpO3MmJihlLnNwbGljZSh1LS0sMSkscj1vKCkpfXJldHVybiByfWE9YXx8MDtmb3IodmFyIHU9ZS5sZW5ndGg7dT4wJiZlW3UtMV1bMl0+YTt1LS0pZVt1XT1lW3UtMV07ZVt1XT1bbixvLGFdfSx0Lm49ZT0+e3ZhciByPWUmJmUuX19lc01vZHVsZT8oKT0+ZS5kZWZhdWx0OigpPT5lO3JldHVybiB0LmQocix7YTpyfSkscn0sdC5kPShlLHIpPT57Zm9yKHZhciBuIGluIHIpdC5vKHIsbikmJiF0Lm8oZSxuKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTohMCxnZXQ6cltuXX0pfSx0Lm89KGUscik9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpLCgoKT0+e3ZhciBlPXs2NjY6MH07dC5PLmo9cj0+MD09PWVbcl07dmFyIHI9KHIsbik9Pnt2YXIgbyxhLFtsLHMscF09bix1PTA7Zm9yKG8gaW4gcyl0Lm8ocyxvKSYmKHQubVtvXT1zW29dKTtpZihwKXZhciBmPXAodCk7Zm9yKHImJnIobik7dTxsLmxlbmd0aDt1KyspdC5vKGUsYT1sW3VdKSYmZVthXSYmZVthXVswXSgpLGVbbFt1XV09MDtyZXR1cm4gdC5PKGYpfSxuPXNlbGYud2VicGFja0NodW5rbmdfZWxlbWVudHNfZXhhbXBsZT1zZWxmLndlYnBhY2tDaHVua25nX2VsZW1lbnRzX2V4YW1wbGV8fFtdO24uZm9yRWFjaChyLmJpbmQobnVsbCwwKSksbi5wdXNoPXIuYmluZChudWxsLG4ucHVzaC5iaW5kKG4pKX0pKCl9KSgpOyhzZWxmLndlYnBhY2tDaHVua25nX2VsZW1lbnRzX2V4YW1wbGU9c2VsZi53ZWJwYWNrQ2h1bmtuZ19lbGVtZW50c19leGFtcGxlfHxbXSkucHVzaChbWzQyOV0sezE2NzooKT0+eyJ1c2Ugc3RyaWN0IjshZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnBlcmZvcm1hbmNlO2Z1bmN0aW9uIG4oZSl7dCYmdC5tYXJrJiZ0Lm1hcmsoZSl9ZnVuY3Rpb24gbyhlLG4pe3QmJnQubWVhc3VyZSYmdC5tZWFzdXJlKGUsbil9bigiWm9uZSIpO2NvbnN0IHI9ZS5fX1pvbmVfc3ltYm9sX3ByZWZpeHx8Il9fem9uZV9zeW1ib2xfXyI7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gcitlfWNvbnN0IGE9ITA9PT1lW3MoImZvcmNlRHVwbGljYXRlWm9uZUNoZWNrIildO2lmKGUuWm9uZSl7aWYoYXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUuWm9uZS5fX3N5bWJvbF9fKXRocm93IG5ldyBFcnJvcigiWm9uZSBhbHJlYWR5IGxvYWRlZC4iKTtyZXR1cm4gZS5ab25lfWNsYXNzIGl7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9wYXJlbnQ9ZSx0aGlzLl9uYW1lPXQ/dC5uYW1lfHwidW5uYW1lZCI6Ijxyb290PiIsdGhpcy5fcHJvcGVydGllcz10JiZ0LnByb3BlcnRpZXN8fHt9LHRoaXMuX3pvbmVEZWxlZ2F0ZT1uZXcgbCh0aGlzLHRoaXMuX3BhcmVudCYmdGhpcy5fcGFyZW50Ll96b25lRGVsZWdhdGUsdCl9c3RhdGljIGFzc2VydFpvbmVQYXRjaGVkKCl7aWYoZS5Qcm9taXNlIT09Ty5ab25lQXdhcmVQcm9taXNlKXRocm93IG5ldyBFcnJvcigiWm9uZS5qcyBoYXMgZGV0ZWN0ZWQgdGhhdCBab25lQXdhcmVQcm9taXNlIGAod2luZG93fGdsb2JhbCkuUHJvbWlzZWAgaGFzIGJlZW4gb3ZlcndyaXR0ZW4uXG5Nb3N0IGxpa2VseSBjYXVzZSBpcyB0aGF0IGEgUHJvbWlzZSBwb2x5ZmlsbCBoYXMgYmVlbiBsb2FkZWQgYWZ0ZXIgWm9uZS5qcyAoUG9seWZpbGxpbmcgUHJvbWlzZSBhcGkgaXMgbm90IG5lY2Vzc2FyeSB3aGVuIHpvbmUuanMgaXMgbG9hZGVkLiBJZiB5b3UgbXVzdCBsb2FkIG9uZSwgZG8gc28gYmVmb3JlIGxvYWRpbmcgem9uZS5qcy4pIil9c3RhdGljIGdldCByb290KCl7bGV0IGU9aS5jdXJyZW50O2Zvcig7ZS5wYXJlbnQ7KWU9ZS5wYXJlbnQ7cmV0dXJuIGV9c3RhdGljIGdldCBjdXJyZW50KCl7cmV0dXJuIHouem9uZX1zdGF0aWMgZ2V0IGN1cnJlbnRUYXNrKCl7cmV0dXJuIGp9c3RhdGljIF9fbG9hZF9wYXRjaCh0LHIscz0hMSl7aWYoTy5oYXNPd25Qcm9wZXJ0eSh0KSl7aWYoIXMmJmEpdGhyb3cgRXJyb3IoIkFscmVhZHkgbG9hZGVkIHBhdGNoOiAiK3QpfWVsc2UgaWYoIWVbIl9fWm9uZV9kaXNhYmxlXyIrdF0pe2NvbnN0IHM9IlpvbmU6Iit0O24ocyksT1t0XT1yKGUsaSxDKSxvKHMscyl9fWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy5fcGFyZW50fWdldCBuYW1lKCl7cmV0dXJuIHRoaXMuX25hbWV9Z2V0KGUpe2NvbnN0IHQ9dGhpcy5nZXRab25lV2l0aChlKTtpZih0KXJldHVybiB0Ll9wcm9wZXJ0aWVzW2VdfWdldFpvbmVXaXRoKGUpe2xldCB0PXRoaXM7Zm9yKDt0Oyl7aWYodC5fcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShlKSlyZXR1cm4gdDt0PXQuX3BhcmVudH1yZXR1cm4gbnVsbH1mb3JrKGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiWm9uZVNwZWMgcmVxdWlyZWQhIik7cmV0dXJuIHRoaXMuX3pvbmVEZWxlZ2F0ZS5mb3JrKHRoaXMsZSl9d3JhcChlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiRXhwZWN0aW5nIGZ1bmN0aW9uIGdvdDogIitlKTtjb25zdCBuPXRoaXMuX3pvbmVEZWxlZ2F0ZS5pbnRlcmNlcHQodGhpcyxlLHQpLG89dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gby5ydW5HdWFyZGVkKG4sdGhpcyxhcmd1bWVudHMsdCl9fXJ1bihlLHQsbixvKXt6PXtwYXJlbnQ6eix6b25lOnRoaXN9O3RyeXtyZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZSh0aGlzLGUsdCxuLG8pfWZpbmFsbHl7ej16LnBhcmVudH19cnVuR3VhcmRlZChlLHQ9bnVsbCxuLG8pe3o9e3BhcmVudDp6LHpvbmU6dGhpc307dHJ5e3RyeXtyZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZSh0aGlzLGUsdCxuLG8pfWNhdGNoKHIpe2lmKHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLHIpKXRocm93IHJ9fWZpbmFsbHl7ej16LnBhcmVudH19cnVuVGFzayhlLHQsbil7aWYoZS56b25lIT10aGlzKXRocm93IG5ldyBFcnJvcigiQSB0YXNrIGNhbiBvbmx5IGJlIHJ1biBpbiB0aGUgem9uZSBvZiBjcmVhdGlvbiEgKENyZWF0aW9uOiAiKyhlLnpvbmV8fHkpLm5hbWUrIjsgRXhlY3V0aW9uOiAiK3RoaXMubmFtZSsiKSIpO2lmKGUuc3RhdGU9PT12JiYoZS50eXBlPT09UHx8ZS50eXBlPT09RCkpcmV0dXJuO2NvbnN0IG89ZS5zdGF0ZSE9RTtvJiZlLl90cmFuc2l0aW9uVG8oRSxiKSxlLnJ1bkNvdW50Kys7Y29uc3Qgcj1qO2o9ZSx6PXtwYXJlbnQ6eix6b25lOnRoaXN9O3RyeXtlLnR5cGU9PUQmJmUuZGF0YSYmIWUuZGF0YS5pc1BlcmlvZGljJiYoZS5jYW5jZWxGbj12b2lkIDApO3RyeXtyZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZVRhc2sodGhpcyxlLHQsbil9Y2F0Y2gocyl7aWYodGhpcy5fem9uZURlbGVnYXRlLmhhbmRsZUVycm9yKHRoaXMscykpdGhyb3cgc319ZmluYWxseXtlLnN0YXRlIT09diYmZS5zdGF0ZSE9PVomJihlLnR5cGU9PVB8fGUuZGF0YSYmZS5kYXRhLmlzUGVyaW9kaWM/byYmZS5fdHJhbnNpdGlvblRvKGIsRSk6KGUucnVuQ291bnQ9MCx0aGlzLl91cGRhdGVUYXNrQ291bnQoZSwtMSksbyYmZS5fdHJhbnNpdGlvblRvKHYsRSx2KSkpLHo9ei5wYXJlbnQsaj1yfX1zY2hlZHVsZVRhc2soZSl7aWYoZS56b25lJiZlLnpvbmUhPT10aGlzKXtsZXQgdD10aGlzO2Zvcig7dDspe2lmKHQ9PT1lLnpvbmUpdGhyb3cgRXJyb3IoYGNhbiBub3QgcmVzY2hlZHVsZSB0YXNrIHRvICR7dGhpcy5uYW1lfSB3aGljaCBpcyBkZXNjZW5kYW50cyBvZiB0aGUgb3JpZ2luYWwgem9uZSAke2Uuem9uZS5uYW1lfWApO3Q9dC5wYXJlbnR9fWUuX3RyYW5zaXRpb25UbyhULHYpO2NvbnN0IHQ9W107ZS5fem9uZURlbGVnYXRlcz10LGUuX3pvbmU9dGhpczt0cnl7ZT10aGlzLl96b25lRGVsZWdhdGUuc2NoZWR1bGVUYXNrKHRoaXMsZSl9Y2F0Y2gobil7dGhyb3cgZS5fdHJhbnNpdGlvblRvKFosVCx2KSx0aGlzLl96b25lRGVsZWdhdGUuaGFuZGxlRXJyb3IodGhpcyxuKSxufXJldHVybiBlLl96b25lRGVsZWdhdGVzPT09dCYmdGhpcy5fdXBkYXRlVGFza0NvdW50KGUsMSksZS5zdGF0ZT09VCYmZS5fdHJhbnNpdGlvblRvKGIsVCksZX1zY2hlZHVsZU1pY3JvVGFzayhlLHQsbixvKXtyZXR1cm4gdGhpcy5zY2hlZHVsZVRhc2sobmV3IHUoUyxlLHQsbixvLHZvaWQgMCkpfXNjaGVkdWxlTWFjcm9UYXNrKGUsdCxuLG8scil7cmV0dXJuIHRoaXMuc2NoZWR1bGVUYXNrKG5ldyB1KEQsZSx0LG4sbyxyKSl9c2NoZWR1bGVFdmVudFRhc2soZSx0LG4sbyxyKXtyZXR1cm4gdGhpcy5zY2hlZHVsZVRhc2sobmV3IHUoUCxlLHQsbixvLHIpKX1jYW5jZWxUYXNrKGUpe2lmKGUuem9uZSE9dGhpcyl0aHJvdyBuZXcgRXJyb3IoIkEgdGFzayBjYW4gb25seSBiZSBjYW5jZWxsZWQgaW4gdGhlIHpvbmUgb2YgY3JlYXRpb24hIChDcmVhdGlvbjogIisoZS56b25lfHx5KS5uYW1lKyI7IEV4ZWN1dGlvbjogIit0aGlzLm5hbWUrIikiKTtlLl90cmFuc2l0aW9uVG8odyxiLEUpO3RyeXt0aGlzLl96b25lRGVsZWdhdGUuY2FuY2VsVGFzayh0aGlzLGUpfWNhdGNoKHQpe3Rocm93IGUuX3RyYW5zaXRpb25UbyhaLHcpLHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLHQpLHR9cmV0dXJuIHRoaXMuX3VwZGF0ZVRhc2tDb3VudChlLC0xKSxlLl90cmFuc2l0aW9uVG8odix3KSxlLnJ1bkNvdW50PTAsZX1fdXBkYXRlVGFza0NvdW50KGUsdCl7Y29uc3Qgbj1lLl96b25lRGVsZWdhdGVzOy0xPT10JiYoZS5fem9uZURlbGVnYXRlcz1udWxsKTtmb3IobGV0IG89MDtvPG4ubGVuZ3RoO28rKyluW29dLl91cGRhdGVUYXNrQ291bnQoZS50eXBlLHQpfX1pLl9fc3ltYm9sX189cztjb25zdCBjPXtuYW1lOiIiLG9uSGFzVGFzazooZSx0LG4sbyk9PmUuaGFzVGFzayhuLG8pLG9uU2NoZWR1bGVUYXNrOihlLHQsbixvKT0+ZS5zY2hlZHVsZVRhc2sobixvKSxvbkludm9rZVRhc2s6KGUsdCxuLG8scixzKT0+ZS5pbnZva2VUYXNrKG4sbyxyLHMpLG9uQ2FuY2VsVGFzazooZSx0LG4sbyk9PmUuY2FuY2VsVGFzayhuLG8pfTtjbGFzcyBse2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLl90YXNrQ291bnRzPXttaWNyb1Rhc2s6MCxtYWNyb1Rhc2s6MCxldmVudFRhc2s6MH0sdGhpcy56b25lPWUsdGhpcy5fcGFyZW50RGVsZWdhdGU9dCx0aGlzLl9mb3JrWlM9biYmKG4mJm4ub25Gb3JrP246dC5fZm9ya1pTKSx0aGlzLl9mb3JrRGxndD1uJiYobi5vbkZvcms/dDp0Ll9mb3JrRGxndCksdGhpcy5fZm9ya0N1cnJab25lPW4mJihuLm9uRm9yaz90aGlzLnpvbmU6dC5fZm9ya0N1cnJab25lKSx0aGlzLl9pbnRlcmNlcHRaUz1uJiYobi5vbkludGVyY2VwdD9uOnQuX2ludGVyY2VwdFpTKSx0aGlzLl9pbnRlcmNlcHREbGd0PW4mJihuLm9uSW50ZXJjZXB0P3Q6dC5faW50ZXJjZXB0RGxndCksdGhpcy5faW50ZXJjZXB0Q3VyclpvbmU9biYmKG4ub25JbnRlcmNlcHQ/dGhpcy56b25lOnQuX2ludGVyY2VwdEN1cnJab25lKSx0aGlzLl9pbnZva2VaUz1uJiYobi5vbkludm9rZT9uOnQuX2ludm9rZVpTKSx0aGlzLl9pbnZva2VEbGd0PW4mJihuLm9uSW52b2tlP3Q6dC5faW52b2tlRGxndCksdGhpcy5faW52b2tlQ3VyclpvbmU9biYmKG4ub25JbnZva2U/dGhpcy56b25lOnQuX2ludm9rZUN1cnJab25lKSx0aGlzLl9oYW5kbGVFcnJvclpTPW4mJihuLm9uSGFuZGxlRXJyb3I/bjp0Ll9oYW5kbGVFcnJvclpTKSx0aGlzLl9oYW5kbGVFcnJvckRsZ3Q9biYmKG4ub25IYW5kbGVFcnJvcj90OnQuX2hhbmRsZUVycm9yRGxndCksdGhpcy5faGFuZGxlRXJyb3JDdXJyWm9uZT1uJiYobi5vbkhhbmRsZUVycm9yP3RoaXMuem9uZTp0Ll9oYW5kbGVFcnJvckN1cnJab25lKSx0aGlzLl9zY2hlZHVsZVRhc2taUz1uJiYobi5vblNjaGVkdWxlVGFzaz9uOnQuX3NjaGVkdWxlVGFza1pTKSx0aGlzLl9zY2hlZHVsZVRhc2tEbGd0PW4mJihuLm9uU2NoZWR1bGVUYXNrP3Q6dC5fc2NoZWR1bGVUYXNrRGxndCksdGhpcy5fc2NoZWR1bGVUYXNrQ3VyclpvbmU9biYmKG4ub25TY2hlZHVsZVRhc2s/dGhpcy56b25lOnQuX3NjaGVkdWxlVGFza0N1cnJab25lKSx0aGlzLl9pbnZva2VUYXNrWlM9biYmKG4ub25JbnZva2VUYXNrP246dC5faW52b2tlVGFza1pTKSx0aGlzLl9pbnZva2VUYXNrRGxndD1uJiYobi5vbkludm9rZVRhc2s/dDp0Ll9pbnZva2VUYXNrRGxndCksdGhpcy5faW52b2tlVGFza0N1cnJab25lPW4mJihuLm9uSW52b2tlVGFzaz90aGlzLnpvbmU6dC5faW52b2tlVGFza0N1cnJab25lKSx0aGlzLl9jYW5jZWxUYXNrWlM9biYmKG4ub25DYW5jZWxUYXNrP246dC5fY2FuY2VsVGFza1pTKSx0aGlzLl9jYW5jZWxUYXNrRGxndD1uJiYobi5vbkNhbmNlbFRhc2s/dDp0Ll9jYW5jZWxUYXNrRGxndCksdGhpcy5fY2FuY2VsVGFza0N1cnJab25lPW4mJihuLm9uQ2FuY2VsVGFzaz90aGlzLnpvbmU6dC5fY2FuY2VsVGFza0N1cnJab25lKSx0aGlzLl9oYXNUYXNrWlM9bnVsbCx0aGlzLl9oYXNUYXNrRGxndD1udWxsLHRoaXMuX2hhc1Rhc2tEbGd0T3duZXI9bnVsbCx0aGlzLl9oYXNUYXNrQ3VyclpvbmU9bnVsbDtjb25zdCBvPW4mJm4ub25IYXNUYXNrOyhvfHx0JiZ0Ll9oYXNUYXNrWlMpJiYodGhpcy5faGFzVGFza1pTPW8/bjpjLHRoaXMuX2hhc1Rhc2tEbGd0PXQsdGhpcy5faGFzVGFza0RsZ3RPd25lcj10aGlzLHRoaXMuX2hhc1Rhc2tDdXJyWm9uZT1lLG4ub25TY2hlZHVsZVRhc2t8fCh0aGlzLl9zY2hlZHVsZVRhc2taUz1jLHRoaXMuX3NjaGVkdWxlVGFza0RsZ3Q9dCx0aGlzLl9zY2hlZHVsZVRhc2tDdXJyWm9uZT10aGlzLnpvbmUpLG4ub25JbnZva2VUYXNrfHwodGhpcy5faW52b2tlVGFza1pTPWMsdGhpcy5faW52b2tlVGFza0RsZ3Q9dCx0aGlzLl9pbnZva2VUYXNrQ3VyclpvbmU9dGhpcy56b25lKSxuLm9uQ2FuY2VsVGFza3x8KHRoaXMuX2NhbmNlbFRhc2taUz1jLHRoaXMuX2NhbmNlbFRhc2tEbGd0PXQsdGhpcy5fY2FuY2VsVGFza0N1cnJab25lPXRoaXMuem9uZSkpfWZvcmsoZSx0KXtyZXR1cm4gdGhpcy5fZm9ya1pTP3RoaXMuX2ZvcmtaUy5vbkZvcmsodGhpcy5fZm9ya0RsZ3QsdGhpcy56b25lLGUsdCk6bmV3IGkoZSx0KX1pbnRlcmNlcHQoZSx0LG4pe3JldHVybiB0aGlzLl9pbnRlcmNlcHRaUz90aGlzLl9pbnRlcmNlcHRaUy5vbkludGVyY2VwdCh0aGlzLl9pbnRlcmNlcHREbGd0LHRoaXMuX2ludGVyY2VwdEN1cnJab25lLGUsdCxuKTp0fWludm9rZShlLHQsbixvLHIpe3JldHVybiB0aGlzLl9pbnZva2VaUz90aGlzLl9pbnZva2VaUy5vbkludm9rZSh0aGlzLl9pbnZva2VEbGd0LHRoaXMuX2ludm9rZUN1cnJab25lLGUsdCxuLG8scik6dC5hcHBseShuLG8pfWhhbmRsZUVycm9yKGUsdCl7cmV0dXJuIXRoaXMuX2hhbmRsZUVycm9yWlN8fHRoaXMuX2hhbmRsZUVycm9yWlMub25IYW5kbGVFcnJvcih0aGlzLl9oYW5kbGVFcnJvckRsZ3QsdGhpcy5faGFuZGxlRXJyb3JDdXJyWm9uZSxlLHQpfXNjaGVkdWxlVGFzayhlLHQpe2xldCBuPXQ7aWYodGhpcy5fc2NoZWR1bGVUYXNrWlMpdGhpcy5faGFzVGFza1pTJiZuLl96b25lRGVsZWdhdGVzLnB1c2godGhpcy5faGFzVGFza0RsZ3RPd25lciksbj10aGlzLl9zY2hlZHVsZVRhc2taUy5vblNjaGVkdWxlVGFzayh0aGlzLl9zY2hlZHVsZVRhc2tEbGd0LHRoaXMuX3NjaGVkdWxlVGFza0N1cnJab25lLGUsdCksbnx8KG49dCk7ZWxzZSBpZih0LnNjaGVkdWxlRm4pdC5zY2hlZHVsZUZuKHQpO2Vsc2V7aWYodC50eXBlIT1TKXRocm93IG5ldyBFcnJvcigiVGFzayBpcyBtaXNzaW5nIHNjaGVkdWxlRm4uIik7ayh0KX1yZXR1cm4gbn1pbnZva2VUYXNrKGUsdCxuLG8pe3JldHVybiB0aGlzLl9pbnZva2VUYXNrWlM/dGhpcy5faW52b2tlVGFza1pTLm9uSW52b2tlVGFzayh0aGlzLl9pbnZva2VUYXNrRGxndCx0aGlzLl9pbnZva2VUYXNrQ3VyclpvbmUsZSx0LG4sbyk6dC5jYWxsYmFjay5hcHBseShuLG8pfWNhbmNlbFRhc2soZSx0KXtsZXQgbjtpZih0aGlzLl9jYW5jZWxUYXNrWlMpbj10aGlzLl9jYW5jZWxUYXNrWlMub25DYW5jZWxUYXNrKHRoaXMuX2NhbmNlbFRhc2tEbGd0LHRoaXMuX2NhbmNlbFRhc2tDdXJyWm9uZSxlLHQpO2Vsc2V7aWYoIXQuY2FuY2VsRm4pdGhyb3cgRXJyb3IoIlRhc2sgaXMgbm90IGNhbmNlbGFibGUiKTtuPXQuY2FuY2VsRm4odCl9cmV0dXJuIG59aGFzVGFzayhlLHQpe3RyeXt0aGlzLl9oYXNUYXNrWlMmJnRoaXMuX2hhc1Rhc2taUy5vbkhhc1Rhc2sodGhpcy5faGFzVGFza0RsZ3QsdGhpcy5faGFzVGFza0N1cnJab25lLGUsdCl9Y2F0Y2gobil7dGhpcy5oYW5kbGVFcnJvcihlLG4pfX1fdXBkYXRlVGFza0NvdW50KGUsdCl7Y29uc3Qgbj10aGlzLl90YXNrQ291bnRzLG89bltlXSxyPW5bZV09byt0O2lmKHI8MCl0aHJvdyBuZXcgRXJyb3IoIk1vcmUgdGFza3MgZXhlY3V0ZWQgdGhlbiB3ZXJlIHNjaGVkdWxlZC4iKTswIT1vJiYwIT1yfHx0aGlzLmhhc1Rhc2sodGhpcy56b25lLHttaWNyb1Rhc2s6bi5taWNyb1Rhc2s+MCxtYWNyb1Rhc2s6bi5tYWNyb1Rhc2s+MCxldmVudFRhc2s6bi5ldmVudFRhc2s+MCxjaGFuZ2U6ZX0pfX1jbGFzcyB1e2NvbnN0cnVjdG9yKHQsbixvLHIscyxhKXtpZih0aGlzLl96b25lPW51bGwsdGhpcy5ydW5Db3VudD0wLHRoaXMuX3pvbmVEZWxlZ2F0ZXM9bnVsbCx0aGlzLl9zdGF0ZT0ibm90U2NoZWR1bGVkIix0aGlzLnR5cGU9dCx0aGlzLnNvdXJjZT1uLHRoaXMuZGF0YT1yLHRoaXMuc2NoZWR1bGVGbj1zLHRoaXMuY2FuY2VsRm49YSwhbyl0aHJvdyBuZXcgRXJyb3IoImNhbGxiYWNrIGlzIG5vdCBkZWZpbmVkIik7dGhpcy5jYWxsYmFjaz1vO2NvbnN0IGk9dGhpczt0aGlzLmludm9rZT10PT09UCYmciYmci51c2VHP3UuaW52b2tlVGFzazpmdW5jdGlvbigpe3JldHVybiB1Lmludm9rZVRhc2suY2FsbChlLGksdGhpcyxhcmd1bWVudHMpfX1zdGF0aWMgaW52b2tlVGFzayhlLHQsbil7ZXx8KGU9dGhpcyksSSsrO3RyeXtyZXR1cm4gZS5ydW5Db3VudCsrLGUuem9uZS5ydW5UYXNrKGUsdCxuKX1maW5hbGx5ezE9PUkmJm0oKSxJLS19fWdldCB6b25lKCl7cmV0dXJuIHRoaXMuX3pvbmV9Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0YXRlfWNhbmNlbFNjaGVkdWxlUmVxdWVzdCgpe3RoaXMuX3RyYW5zaXRpb25Ubyh2LFQpfV90cmFuc2l0aW9uVG8oZSx0LG4pe2lmKHRoaXMuX3N0YXRlIT09dCYmdGhpcy5fc3RhdGUhPT1uKXRocm93IG5ldyBFcnJvcihgJHt0aGlzLnR5cGV9ICcke3RoaXMuc291cmNlfSc6IGNhbiBub3QgdHJhbnNpdGlvbiB0byAnJHtlfScsIGV4cGVjdGluZyBzdGF0ZSAnJHt0fScke24/IiBvciAnIituKyInIjoiIn0sIHdhcyAnJHt0aGlzLl9zdGF0ZX0nLmApO3RoaXMuX3N0YXRlPWUsZT09diYmKHRoaXMuX3pvbmVEZWxlZ2F0ZXM9bnVsbCl9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5kYXRhJiZ2b2lkIDAhPT10aGlzLmRhdGEuaGFuZGxlSWQ/dGhpcy5kYXRhLmhhbmRsZUlkLnRvU3RyaW5nKCk6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMpfXRvSlNPTigpe3JldHVybnt0eXBlOnRoaXMudHlwZSxzdGF0ZTp0aGlzLnN0YXRlLHNvdXJjZTp0aGlzLnNvdXJjZSx6b25lOnRoaXMuem9uZS5uYW1lLHJ1bkNvdW50OnRoaXMucnVuQ291bnR9fX1jb25zdCBoPXMoInNldFRpbWVvdXQiKSxwPXMoIlByb21pc2UiKSxmPXMoInRoZW4iKTtsZXQgZCxnPVtdLF89ITE7ZnVuY3Rpb24gayh0KXtpZigwPT09SSYmMD09PWcubGVuZ3RoKWlmKGR8fGVbcF0mJihkPWVbcF0ucmVzb2x2ZSgwKSksZCl7bGV0IGU9ZFtmXTtlfHwoZT1kLnRoZW4pLGUuY2FsbChkLG0pfWVsc2UgZVtoXShtLDApO3QmJmcucHVzaCh0KX1mdW5jdGlvbiBtKCl7aWYoIV8pe2ZvcihfPSEwO2cubGVuZ3RoOyl7Y29uc3QgdD1nO2c9W107Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IG89dFtuXTt0cnl7by56b25lLnJ1blRhc2sobyxudWxsLG51bGwpfWNhdGNoKGUpe0Mub25VbmhhbmRsZWRFcnJvcihlKX19fUMubWljcm90YXNrRHJhaW5Eb25lKCksXz0hMX19Y29uc3QgeT17bmFtZToiTk8gWk9ORSJ9LHY9Im5vdFNjaGVkdWxlZCIsVD0ic2NoZWR1bGluZyIsYj0ic2NoZWR1bGVkIixFPSJydW5uaW5nIix3PSJjYW5jZWxpbmciLFo9InVua25vd24iLFM9Im1pY3JvVGFzayIsRD0ibWFjcm9UYXNrIixQPSJldmVudFRhc2siLE89e30sQz17c3ltYm9sOnMsY3VycmVudFpvbmVGcmFtZTooKT0+eixvblVuaGFuZGxlZEVycm9yOlIsbWljcm90YXNrRHJhaW5Eb25lOlIsc2NoZWR1bGVNaWNyb1Rhc2s6ayxzaG93VW5jYXVnaHRFcnJvcjooKT0+IWlbcygiaWdub3JlQ29uc29sZUVycm9yVW5jYXVnaHRFcnJvciIpXSxwYXRjaEV2ZW50VGFyZ2V0OigpPT5bXSxwYXRjaE9uUHJvcGVydGllczpSLHBhdGNoTWV0aG9kOigpPT5SLGJpbmRBcmd1bWVudHM6KCk9PltdLHBhdGNoVGhlbjooKT0+UixwYXRjaE1hY3JvVGFzazooKT0+UixwYXRjaEV2ZW50UHJvdG90eXBlOigpPT5SLGlzSUVPckVkZ2U6KCk9PiExLGdldEdsb2JhbE9iamVjdHM6KCk9Pnt9LE9iamVjdERlZmluZVByb3BlcnR5OigpPT5SLE9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcjooKT0+e30sT2JqZWN0Q3JlYXRlOigpPT57fSxBcnJheVNsaWNlOigpPT5bXSxwYXRjaENsYXNzOigpPT5SLHdyYXBXaXRoQ3VycmVudFpvbmU6KCk9PlIsZmlsdGVyUHJvcGVydGllczooKT0+W10sYXR0YWNoT3JpZ2luVG9QYXRjaGVkOigpPT5SLF9yZWRlZmluZVByb3BlcnR5OigpPT5SLHBhdGNoQ2FsbGJhY2tzOigpPT5SfTtsZXQgej17cGFyZW50Om51bGwsem9uZTpuZXcgaShudWxsLG51bGwpfSxqPW51bGwsST0wO2Z1bmN0aW9uIFIoKXt9bygiWm9uZSIsIlpvbmUiKSxlLlpvbmU9aX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvd3x8InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmfHxnbG9iYWwpO2NvbnN0IGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcix0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxuPU9iamVjdC5nZXRQcm90b3R5cGVPZixvPU9iamVjdC5jcmVhdGUscj1BcnJheS5wcm90b3R5cGUuc2xpY2Uscz0iYWRkRXZlbnRMaXN0ZW5lciIsYT0icmVtb3ZlRXZlbnRMaXN0ZW5lciIsaT1ab25lLl9fc3ltYm9sX18ocyksYz1ab25lLl9fc3ltYm9sX18oYSksbD0idHJ1ZSIsdT0iZmFsc2UiLGg9Wm9uZS5fX3N5bWJvbF9fKCIiKTtmdW5jdGlvbiBwKGUsdCl7cmV0dXJuIFpvbmUuY3VycmVudC53cmFwKGUsdCl9ZnVuY3Rpb24gZihlLHQsbixvLHIpe3JldHVybiBab25lLmN1cnJlbnQuc2NoZWR1bGVNYWNyb1Rhc2soZSx0LG4sbyxyKX1jb25zdCBkPVpvbmUuX19zeW1ib2xfXyxnPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LF89Zz93aW5kb3c6dm9pZCAwLGs9ZyYmX3x8Im9iamVjdCI9PXR5cGVvZiBzZWxmJiZzZWxmfHxnbG9iYWwsbT1bbnVsbF07ZnVuY3Rpb24geShlLHQpe2ZvcihsZXQgbj1lLmxlbmd0aC0xO24+PTA7bi0tKSJmdW5jdGlvbiI9PXR5cGVvZiBlW25dJiYoZVtuXT1wKGVbbl0sdCsiXyIrbikpO3JldHVybiBlfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIWV8fCExIT09ZS53cml0YWJsZSYmISgiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXQmJnZvaWQgMD09PWUuc2V0KX1jb25zdCBUPSJ1bmRlZmluZWQiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSxiPSEoIm53ImluIGspJiZ2b2lkIDAhPT1rLnByb2Nlc3MmJiJbb2JqZWN0IHByb2Nlc3NdIj09PXt9LnRvU3RyaW5nLmNhbGwoay5wcm9jZXNzKSxFPSFiJiYhVCYmISghZ3x8IV8uSFRNTEVsZW1lbnQpLHc9dm9pZCAwIT09ay5wcm9jZXNzJiYiW29iamVjdCBwcm9jZXNzXSI9PT17fS50b1N0cmluZy5jYWxsKGsucHJvY2VzcykmJiFUJiYhKCFnfHwhXy5IVE1MRWxlbWVudCksWj17fSxTPWZ1bmN0aW9uKGUpe2lmKCEoZT1lfHxrLmV2ZW50KSlyZXR1cm47bGV0IHQ9WltlLnR5cGVdO3R8fCh0PVpbZS50eXBlXT1kKCJPTl9QUk9QRVJUWSIrZS50eXBlKSk7Y29uc3Qgbj10aGlzfHxlLnRhcmdldHx8ayxvPW5bdF07bGV0IHI7aWYoRSYmbj09PV8mJiJlcnJvciI9PT1lLnR5cGUpe2NvbnN0IHQ9ZTtyPW8mJm8uY2FsbCh0aGlzLHQubWVzc2FnZSx0LmZpbGVuYW1lLHQubGluZW5vLHQuY29sbm8sdC5lcnJvciksITA9PT1yJiZlLnByZXZlbnREZWZhdWx0KCl9ZWxzZSByPW8mJm8uYXBwbHkodGhpcyxhcmd1bWVudHMpLG51bGw9PXJ8fHJ8fGUucHJldmVudERlZmF1bHQoKTtyZXR1cm4gcn07ZnVuY3Rpb24gRChuLG8scil7bGV0IHM9ZShuLG8pO2lmKCFzJiZyJiZlKHIsbykmJihzPXtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLCFzfHwhcy5jb25maWd1cmFibGUpcmV0dXJuO2NvbnN0IGE9ZCgib24iK28rInBhdGNoZWQiKTtpZihuLmhhc093blByb3BlcnR5KGEpJiZuW2FdKXJldHVybjtkZWxldGUgcy53cml0YWJsZSxkZWxldGUgcy52YWx1ZTtjb25zdCBpPXMuZ2V0LGM9cy5zZXQsbD1vLnN1YnN0cigyKTtsZXQgdT1aW2xdO3V8fCh1PVpbbF09ZCgiT05fUFJPUEVSVFkiK2wpKSxzLnNldD1mdW5jdGlvbihlKXtsZXQgdD10aGlzO3R8fG4hPT1rfHwodD1rKSx0JiYodFt1XSYmdC5yZW1vdmVFdmVudExpc3RlbmVyKGwsUyksYyYmYy5hcHBseSh0LG0pLCJmdW5jdGlvbiI9PXR5cGVvZiBlPyh0W3VdPWUsdC5hZGRFdmVudExpc3RlbmVyKGwsUywhMSkpOnRbdV09bnVsbCl9LHMuZ2V0PWZ1bmN0aW9uKCl7bGV0IGU9dGhpcztpZihlfHxuIT09a3x8KGU9ayksIWUpcmV0dXJuIG51bGw7Y29uc3QgdD1lW3VdO2lmKHQpcmV0dXJuIHQ7aWYoaSl7bGV0IHQ9aSYmaS5jYWxsKHRoaXMpO2lmKHQpcmV0dXJuIHMuc2V0LmNhbGwodGhpcyx0KSwiZnVuY3Rpb24iPT10eXBlb2YgZS5yZW1vdmVBdHRyaWJ1dGUmJmUucmVtb3ZlQXR0cmlidXRlKG8pLHR9cmV0dXJuIG51bGx9LHQobixvLHMpLG5bYV09ITB9ZnVuY3Rpb24gUChlLHQsbil7aWYodClmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKylEKGUsIm9uIit0W29dLG4pO2Vsc2V7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBpbiBlKSJvbiI9PW4uc3Vic3RyKDAsMikmJnQucHVzaChuKTtmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKylEKGUsdFtvXSxuKX19Y29uc3QgTz1kKCJvcmlnaW5hbEluc3RhbmNlIik7ZnVuY3Rpb24gQyhlKXtjb25zdCBuPWtbZV07aWYoIW4pcmV0dXJuO2tbZChlKV09bixrW2VdPWZ1bmN0aW9uKCl7Y29uc3QgdD15KGFyZ3VtZW50cyxlKTtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDp0aGlzW09dPW5ldyBuO2JyZWFrO2Nhc2UgMTp0aGlzW09dPW5ldyBuKHRbMF0pO2JyZWFrO2Nhc2UgMjp0aGlzW09dPW5ldyBuKHRbMF0sdFsxXSk7YnJlYWs7Y2FzZSAzOnRoaXNbT109bmV3IG4odFswXSx0WzFdLHRbMl0pO2JyZWFrO2Nhc2UgNDp0aGlzW09dPW5ldyBuKHRbMF0sdFsxXSx0WzJdLHRbM10pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJBcmcgbGlzdCB0b28gbG9uZy4iKX19LEkoa1tlXSxuKTtjb25zdCBvPW5ldyBuKGZ1bmN0aW9uKCl7fSk7bGV0IHI7Zm9yKHIgaW4gbykiWE1MSHR0cFJlcXVlc3QiPT09ZSYmInJlc3BvbnNlQmxvYiI9PT1yfHxmdW5jdGlvbihuKXsiZnVuY3Rpb24iPT10eXBlb2Ygb1tuXT9rW2VdLnByb3RvdHlwZVtuXT1mdW5jdGlvbigpe3JldHVybiB0aGlzW09dW25dLmFwcGx5KHRoaXNbT10sYXJndW1lbnRzKX06dChrW2VdLnByb3RvdHlwZSxuLHtzZXQ6ZnVuY3Rpb24odCl7ImZ1bmN0aW9uIj09dHlwZW9mIHQ/KHRoaXNbT11bbl09cCh0LGUrIi4iK24pLEkodGhpc1tPXVtuXSx0KSk6dGhpc1tPXVtuXT10fSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tPXVtuXX19KX0ocik7Zm9yKHIgaW4gbikicHJvdG90eXBlIiE9PXImJm4uaGFzT3duUHJvcGVydHkocikmJihrW2VdW3JdPW5bcl0pfWZ1bmN0aW9uIHoodCxvLHIpe2xldCBzPXQ7Zm9yKDtzJiYhcy5oYXNPd25Qcm9wZXJ0eShvKTspcz1uKHMpOyFzJiZ0W29dJiYocz10KTtjb25zdCBhPWQobyk7bGV0IGk9bnVsbDtpZihzJiYoIShpPXNbYV0pfHwhcy5oYXNPd25Qcm9wZXJ0eShhKSkmJihpPXNbYV09c1tvXSx2KHMmJmUocyxvKSkpKXtjb25zdCBlPXIoaSxhLG8pO3Nbb109ZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cyl9LEkoc1tvXSxpKX1yZXR1cm4gaX1mdW5jdGlvbiBqKGUsdCxuKXtsZXQgbz1udWxsO2Z1bmN0aW9uIHIoZSl7Y29uc3QgdD1lLmRhdGE7cmV0dXJuIHQuYXJnc1t0LmNiSWR4XT1mdW5jdGlvbigpe2UuaW52b2tlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sby5hcHBseSh0LnRhcmdldCx0LmFyZ3MpLGV9bz16KGUsdCxlPT5mdW5jdGlvbih0LG8pe2NvbnN0IHM9bih0LG8pO3JldHVybiBzLmNiSWR4Pj0wJiYiZnVuY3Rpb24iPT10eXBlb2Ygb1tzLmNiSWR4XT9mKHMubmFtZSxvW3MuY2JJZHhdLHMscik6ZS5hcHBseSh0LG8pfSl9ZnVuY3Rpb24gSShlLHQpe2VbZCgiT3JpZ2luYWxEZWxlZ2F0ZSIpXT10fWxldCBSPSExLE09ITE7ZnVuY3Rpb24geCgpe3RyeXtjb25zdCBlPV8ubmF2aWdhdG9yLnVzZXJBZ2VudDtpZigtMSE9PWUuaW5kZXhPZigiTVNJRSAiKXx8LTEhPT1lLmluZGV4T2YoIlRyaWRlbnQvIikpcmV0dXJuITB9Y2F0Y2goZSl7fXJldHVybiExfWZ1bmN0aW9uIE4oKXtpZihSKXJldHVybiBNO1I9ITA7dHJ5e2NvbnN0IGU9Xy5uYXZpZ2F0b3IudXNlckFnZW50Oy0xPT09ZS5pbmRleE9mKCJNU0lFICIpJiYtMT09PWUuaW5kZXhPZigiVHJpZGVudC8iKSYmLTE9PT1lLmluZGV4T2YoIkVkZ2UvIil8fChNPSEwKX1jYXRjaChlKXt9cmV0dXJuIE19Wm9uZS5fX2xvYWRfcGF0Y2goIlpvbmVBd2FyZVByb21pc2UiLChlLHQsbik9Pntjb25zdCBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iscj1PYmplY3QuZGVmaW5lUHJvcGVydHkscz1uLnN5bWJvbCxhPVtdLGk9ITA9PT1lW3MoIkRJU0FCTEVfV1JBUFBJTkdfVU5DQVVHSFRfUFJPTUlTRV9SRUpFQ1RJT04iKV0sYz1zKCJQcm9taXNlIiksbD1zKCJ0aGVuIik7bi5vblVuaGFuZGxlZEVycm9yPWU9PntpZihuLnNob3dVbmNhdWdodEVycm9yKCkpe2NvbnN0IHQ9ZSYmZS5yZWplY3Rpb247dD9jb25zb2xlLmVycm9yKCJVbmhhbmRsZWQgUHJvbWlzZSByZWplY3Rpb246Iix0IGluc3RhbmNlb2YgRXJyb3I/dC5tZXNzYWdlOnQsIjsgWm9uZToiLGUuem9uZS5uYW1lLCI7IFRhc2s6IixlLnRhc2smJmUudGFzay5zb3VyY2UsIjsgVmFsdWU6Iix0LHQgaW5zdGFuY2VvZiBFcnJvcj90LnN0YWNrOnZvaWQgMCk6Y29uc29sZS5lcnJvcihlKX19LG4ubWljcm90YXNrRHJhaW5Eb25lPSgpPT57Zm9yKDthLmxlbmd0aDspe2NvbnN0IHQ9YS5zaGlmdCgpO3RyeXt0LnpvbmUucnVuR3VhcmRlZCgoKT0+e2lmKHQudGhyb3dPcmlnaW5hbCl0aHJvdyB0LnJlamVjdGlvbjt0aHJvdyB0fSl9Y2F0Y2goZSl7aChlKX19fTtjb25zdCB1PXMoInVuaGFuZGxlZFByb21pc2VSZWplY3Rpb25IYW5kbGVyIik7ZnVuY3Rpb24gaChlKXtuLm9uVW5oYW5kbGVkRXJyb3IoZSk7dHJ5e2NvbnN0IG49dFt1XTsiZnVuY3Rpb24iPT10eXBlb2YgbiYmbi5jYWxsKHRoaXMsZSl9Y2F0Y2gobyl7fX1mdW5jdGlvbiBwKGUpe3JldHVybiBlJiZlLnRoZW59ZnVuY3Rpb24gZihlKXtyZXR1cm4gZX1mdW5jdGlvbiBkKGUpe3JldHVybiBDLnJlamVjdChlKX1jb25zdCBnPXMoInN0YXRlIiksXz1zKCJ2YWx1ZSIpLGs9cygiZmluYWxseSIpLG09cygicGFyZW50UHJvbWlzZVZhbHVlIikseT1zKCJwYXJlbnRQcm9taXNlU3RhdGUiKSx2PW51bGwsVD0hMCxiPSExO2Z1bmN0aW9uIEUoZSx0KXtyZXR1cm4gbj0+e3RyeXtaKGUsdCxuKX1jYXRjaChvKXtaKGUsITEsbyl9fX1jb25zdCB3PXMoImN1cnJlbnRUYXNrVHJhY2UiKTtmdW5jdGlvbiBaKGUsbyxzKXtjb25zdCBjPWZ1bmN0aW9uKCl7bGV0IGU9ITE7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe2V8fChlPSEwLHQuYXBwbHkobnVsbCxhcmd1bWVudHMpKX19fSgpO2lmKGU9PT1zKXRocm93IG5ldyBUeXBlRXJyb3IoIlByb21pc2UgcmVzb2x2ZWQgd2l0aCBpdHNlbGYiKTtpZihlW2ddPT09dil7bGV0IGg9bnVsbDt0cnl7Im9iamVjdCIhPXR5cGVvZiBzJiYiZnVuY3Rpb24iIT10eXBlb2Ygc3x8KGg9cyYmcy50aGVuKX1jYXRjaCh1KXtyZXR1cm4gYygoKT0+e1ooZSwhMSx1KX0pKCksZX1pZihvIT09YiYmcyBpbnN0YW5jZW9mIEMmJnMuaGFzT3duUHJvcGVydHkoZykmJnMuaGFzT3duUHJvcGVydHkoXykmJnNbZ10hPT12KUQocyksWihlLHNbZ10sc1tfXSk7ZWxzZSBpZihvIT09YiYmImZ1bmN0aW9uIj09dHlwZW9mIGgpdHJ5e2guY2FsbChzLGMoRShlLG8pKSxjKEUoZSwhMSkpKX1jYXRjaCh1KXtjKCgpPT57WihlLCExLHUpfSkoKX1lbHNle2VbZ109bztjb25zdCBjPWVbX107aWYoZVtfXT1zLGVba109PT1rJiZvPT09VCYmKGVbZ109ZVt5XSxlW19dPWVbbV0pLG89PT1iJiZzIGluc3RhbmNlb2YgRXJyb3Ipe2NvbnN0IGU9dC5jdXJyZW50VGFzayYmdC5jdXJyZW50VGFzay5kYXRhJiZ0LmN1cnJlbnRUYXNrLmRhdGEuX19jcmVhdGlvblRyYWNlX187ZSYmcihzLHcse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLHZhbHVlOmV9KX1mb3IobGV0IHQ9MDt0PGMubGVuZ3RoOylQKGUsY1t0KytdLGNbdCsrXSxjW3QrK10sY1t0KytdKTtpZigwPT1jLmxlbmd0aCYmbz09Yil7ZVtnXT0wO2xldCBvPXM7dHJ5e3Rocm93IG5ldyBFcnJvcigiVW5jYXVnaHQgKGluIHByb21pc2UpOiAiKygobD1zKSYmbC50b1N0cmluZz09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc/KGwuY29uc3RydWN0b3ImJmwuY29uc3RydWN0b3IubmFtZXx8IiIpKyI6ICIrSlNPTi5zdHJpbmdpZnkobCk6bD9sLnRvU3RyaW5nKCk6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGwpKSsocyYmcy5zdGFjaz8iXG4iK3Muc3RhY2s6IiIpKX1jYXRjaCh1KXtvPXV9aSYmKG8udGhyb3dPcmlnaW5hbD0hMCksby5yZWplY3Rpb249cyxvLnByb21pc2U9ZSxvLnpvbmU9dC5jdXJyZW50LG8udGFzaz10LmN1cnJlbnRUYXNrLGEucHVzaChvKSxuLnNjaGVkdWxlTWljcm9UYXNrKCl9fX12YXIgbDtyZXR1cm4gZX1jb25zdCBTPXMoInJlamVjdGlvbkhhbmRsZWRIYW5kbGVyIik7ZnVuY3Rpb24gRChlKXtpZigwPT09ZVtnXSl7dHJ5e2NvbnN0IG49dFtTXTtuJiYiZnVuY3Rpb24iPT10eXBlb2YgbiYmbi5jYWxsKHRoaXMse3JlamVjdGlvbjplW19dLHByb21pc2U6ZX0pfWNhdGNoKG4pe31lW2ddPWI7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aDt0KyspZT09PWFbdF0ucHJvbWlzZSYmYS5zcGxpY2UodCwxKX19ZnVuY3Rpb24gUChlLHQsbixvLHIpe0QoZSk7Y29uc3Qgcz1lW2ddLGE9cz8iZnVuY3Rpb24iPT10eXBlb2Ygbz9vOmY6ImZ1bmN0aW9uIj09dHlwZW9mIHI/cjpkO3Quc2NoZWR1bGVNaWNyb1Rhc2soIlByb21pc2UudGhlbiIsKCk9Pnt0cnl7Y29uc3Qgbz1lW19dLHI9ISFuJiZrPT09bltrXTtyJiYoblttXT1vLG5beV09cyk7Y29uc3QgaT10LnJ1bihhLHZvaWQgMCxyJiZhIT09ZCYmYSE9PWY/W106W29dKTtaKG4sITAsaSl9Y2F0Y2gobyl7WihuLCExLG8pfX0sbil9Y29uc3QgTz1mdW5jdGlvbigpe307Y2xhc3MgQ3tzdGF0aWMgdG9TdHJpbmcoKXtyZXR1cm4iZnVuY3Rpb24gWm9uZUF3YXJlUHJvbWlzZSgpIHsgW25hdGl2ZSBjb2RlXSB9In1zdGF0aWMgcmVzb2x2ZShlKXtyZXR1cm4gWihuZXcgdGhpcyhudWxsKSxULGUpfXN0YXRpYyByZWplY3QoZSl7cmV0dXJuIFoobmV3IHRoaXMobnVsbCksYixlKX1zdGF0aWMgcmFjZShlKXtsZXQgdCxuLG89bmV3IHRoaXMoKGUsbyk9Pnt0PWUsbj1vfSk7ZnVuY3Rpb24gcihlKXt0KGUpfWZ1bmN0aW9uIHMoZSl7bihlKX1mb3IobGV0IGEgb2YgZSlwKGEpfHwoYT10aGlzLnJlc29sdmUoYSkpLGEudGhlbihyLHMpO3JldHVybiBvfXN0YXRpYyBhbGwoZSl7cmV0dXJuIEMuYWxsV2l0aENhbGxiYWNrKGUpfXN0YXRpYyBhbGxTZXR0bGVkKGUpe3JldHVybih0aGlzJiZ0aGlzLnByb3RvdHlwZSBpbnN0YW5jZW9mIEM/dGhpczpDKS5hbGxXaXRoQ2FsbGJhY2soZSx7dGhlbkNhbGxiYWNrOmU9Pih7c3RhdHVzOiJmdWxmaWxsZWQiLHZhbHVlOmV9KSxlcnJvckNhbGxiYWNrOmU9Pih7c3RhdHVzOiJyZWplY3RlZCIscmVhc29uOmV9KX0pfXN0YXRpYyBhbGxXaXRoQ2FsbGJhY2soZSx0KXtsZXQgbixvLHI9bmV3IHRoaXMoKGUsdCk9PntuPWUsbz10fSkscz0yLGE9MDtjb25zdCBpPVtdO2ZvcihsZXQgbCBvZiBlKXtwKGwpfHwobD10aGlzLnJlc29sdmUobCkpO2NvbnN0IGU9YTt0cnl7bC50aGVuKG89PntpW2VdPXQ/dC50aGVuQ2FsbGJhY2sobyk6byxzLS0sMD09PXMmJm4oaSl9LHI9Pnt0PyhpW2VdPXQuZXJyb3JDYWxsYmFjayhyKSxzLS0sMD09PXMmJm4oaSkpOm8ocil9KX1jYXRjaChjKXtvKGMpfXMrKyxhKyt9cmV0dXJuIHMtPTIsMD09PXMmJm4oaSkscn1jb25zdHJ1Y3RvcihlKXtjb25zdCB0PXRoaXM7aWYoISh0IGluc3RhbmNlb2YgQykpdGhyb3cgbmV3IEVycm9yKCJNdXN0IGJlIGFuIGluc3RhbmNlb2YgUHJvbWlzZS4iKTt0W2ddPXYsdFtfXT1bXTt0cnl7ZSYmZShFKHQsVCksRSh0LGIpKX1jYXRjaChuKXtaKHQsITEsbil9fWdldFtTeW1ib2wudG9TdHJpbmdUYWddKCl7cmV0dXJuIlByb21pc2UifWdldFtTeW1ib2wuc3BlY2llc10oKXtyZXR1cm4gQ310aGVuKGUsbil7bGV0IG89dGhpcy5jb25zdHJ1Y3RvcltTeW1ib2wuc3BlY2llc107byYmImZ1bmN0aW9uIj09dHlwZW9mIG98fChvPXRoaXMuY29uc3RydWN0b3J8fEMpO2NvbnN0IHI9bmV3IG8oTykscz10LmN1cnJlbnQ7cmV0dXJuIHRoaXNbZ109PXY/dGhpc1tfXS5wdXNoKHMscixlLG4pOlAodGhpcyxzLHIsZSxuKSxyfWNhdGNoKGUpe3JldHVybiB0aGlzLnRoZW4obnVsbCxlKX1maW5hbGx5KGUpe2xldCBuPXRoaXMuY29uc3RydWN0b3JbU3ltYm9sLnNwZWNpZXNdO24mJiJmdW5jdGlvbiI9PXR5cGVvZiBufHwobj1DKTtjb25zdCBvPW5ldyBuKE8pO29ba109aztjb25zdCByPXQuY3VycmVudDtyZXR1cm4gdGhpc1tnXT09dj90aGlzW19dLnB1c2gocixvLGUsZSk6UCh0aGlzLHIsbyxlLGUpLG99fUMucmVzb2x2ZT1DLnJlc29sdmUsQy5yZWplY3Q9Qy5yZWplY3QsQy5yYWNlPUMucmFjZSxDLmFsbD1DLmFsbDtjb25zdCBqPWVbY109ZS5Qcm9taXNlO2UuUHJvbWlzZT1DO2NvbnN0IEk9cygidGhlblBhdGNoZWQiKTtmdW5jdGlvbiBSKGUpe2NvbnN0IHQ9ZS5wcm90b3R5cGUsbj1vKHQsInRoZW4iKTtpZihuJiYoITE9PT1uLndyaXRhYmxlfHwhbi5jb25maWd1cmFibGUpKXJldHVybjtjb25zdCByPXQudGhlbjt0W2xdPXIsZS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgQygoZSx0KT0+e3IuY2FsbCh0aGlzLGUsdCl9KS50aGVuKGUsdCl9LGVbSV09ITB9cmV0dXJuIG4ucGF0Y2hUaGVuPVIsaiYmKFIoaikseihlLCJmZXRjaCIsZT0+e3JldHVybiB0PWUsZnVuY3Rpb24oZSxuKXtsZXQgbz10LmFwcGx5KGUsbik7aWYobyBpbnN0YW5jZW9mIEMpcmV0dXJuIG87bGV0IHI9by5jb25zdHJ1Y3RvcjtyZXR1cm4gcltJXXx8UihyKSxvfTt2YXIgdH0pKSxQcm9taXNlW3QuX19zeW1ib2xfXygidW5jYXVnaHRQcm9taXNlRXJyb3JzIildPWEsQ30pLFpvbmUuX19sb2FkX3BhdGNoKCJ0b1N0cmluZyIsZT0+e2NvbnN0IHQ9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLG49ZCgiT3JpZ2luYWxEZWxlZ2F0ZSIpLG89ZCgiUHJvbWlzZSIpLHI9ZCgiRXJyb3IiKSxzPWZ1bmN0aW9uKCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMpe2NvbnN0IHM9dGhpc1tuXTtpZihzKXJldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBzP3QuY2FsbChzKTpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocyk7aWYodGhpcz09PVByb21pc2Upe2NvbnN0IG49ZVtvXTtpZihuKXJldHVybiB0LmNhbGwobil9aWYodGhpcz09PUVycm9yKXtjb25zdCBuPWVbcl07aWYobilyZXR1cm4gdC5jYWxsKG4pfX1yZXR1cm4gdC5jYWxsKHRoaXMpfTtzW25dPXQsRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nPXM7Y29uc3QgYT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO09iamVjdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZSYmdGhpcyBpbnN0YW5jZW9mIFByb21pc2U/IltvYmplY3QgUHJvbWlzZV0iOmEuY2FsbCh0aGlzKX19KTtsZXQgTD0hMTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyl0cnl7Y29uc3QgZT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sInBhc3NpdmUiLHtnZXQ6ZnVuY3Rpb24oKXtMPSEwfX0pO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0IixlLGUpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJ0ZXN0IixlLGUpfWNhdGNoKGhlKXtMPSExfWNvbnN0IEE9e3VzZUc6ITB9LEg9e30sRj17fSxxPW5ldyBSZWdFeHAoIl4iK2grIihcXHcrKSh0cnVlfGZhbHNlKSQiKSxHPWQoInByb3BhZ2F0aW9uU3RvcHBlZCIpO2Z1bmN0aW9uIEIoZSx0KXtjb25zdCBuPSh0P3QoZSk6ZSkrdSxvPSh0P3QoZSk6ZSkrbCxyPWgrbixzPWgrbztIW2VdPXt9LEhbZV0uZmFsc2U9cixIW2VdLnRydWU9c31mdW5jdGlvbiBXKGUsdCxvKXtjb25zdCByPW8mJm8uYWRkfHxzLGk9byYmby5ybXx8YSxjPW8mJm8ubGlzdGVuZXJzfHwiZXZlbnRMaXN0ZW5lcnMiLHA9byYmby5ybUFsbHx8InJlbW92ZUFsbExpc3RlbmVycyIsZj1kKHIpLGc9Ii4iK3IrIjoiLF89ZnVuY3Rpb24oZSx0LG4pe2lmKGUuaXNSZW1vdmVkKXJldHVybjtjb25zdCBvPWUuY2FsbGJhY2s7Im9iamVjdCI9PXR5cGVvZiBvJiZvLmhhbmRsZUV2ZW50JiYoZS5jYWxsYmFjaz1lPT5vLmhhbmRsZUV2ZW50KGUpLGUub3JpZ2luYWxEZWxlZ2F0ZT1vKSxlLmludm9rZShlLHQsW25dKTtjb25zdCByPWUub3B0aW9ucztyJiYib2JqZWN0Ij09dHlwZW9mIHImJnIub25jZSYmdFtpXS5jYWxsKHQsbi50eXBlLGUub3JpZ2luYWxEZWxlZ2F0ZT9lLm9yaWdpbmFsRGVsZWdhdGU6ZS5jYWxsYmFjayxyKX0saz1mdW5jdGlvbih0KXtpZighKHQ9dHx8ZS5ldmVudCkpcmV0dXJuO2NvbnN0IG49dGhpc3x8dC50YXJnZXR8fGUsbz1uW0hbdC50eXBlXS5mYWxzZV07aWYobylpZigxPT09by5sZW5ndGgpXyhvWzBdLG4sdCk7ZWxzZXtjb25zdCBlPW8uc2xpY2UoKTtmb3IobGV0IG89MDtvPGUubGVuZ3RoJiYoIXR8fCEwIT09dFtHXSk7bysrKV8oZVtvXSxuLHQpfX0sbT1mdW5jdGlvbih0KXtpZighKHQ9dHx8ZS5ldmVudCkpcmV0dXJuO2NvbnN0IG49dGhpc3x8dC50YXJnZXR8fGUsbz1uW0hbdC50eXBlXS50cnVlXTtpZihvKWlmKDE9PT1vLmxlbmd0aClfKG9bMF0sbix0KTtlbHNle2NvbnN0IGU9by5zbGljZSgpO2ZvcihsZXQgbz0wO288ZS5sZW5ndGgmJighdHx8ITAhPT10W0ddKTtvKyspXyhlW29dLG4sdCl9fTtmdW5jdGlvbiB5KHQsbyl7aWYoIXQpcmV0dXJuITE7bGV0IHM9ITA7byYmdm9pZCAwIT09by51c2VHJiYocz1vLnVzZUcpO2NvbnN0IGE9byYmby52aDtsZXQgXz0hMDtvJiZ2b2lkIDAhPT1vLmNoa0R1cCYmKF89by5jaGtEdXApO2xldCB5PSExO28mJnZvaWQgMCE9PW8ucnQmJih5PW8ucnQpO2xldCB2PXQ7Zm9yKDt2JiYhdi5oYXNPd25Qcm9wZXJ0eShyKTspdj1uKHYpO2lmKCF2JiZ0W3JdJiYodj10KSwhdilyZXR1cm4hMTtpZih2W2ZdKXJldHVybiExO2NvbnN0IFQ9byYmby5ldmVudE5hbWVUb1N0cmluZyxFPXt9LHc9dltmXT12W3JdLFo9dltkKGkpXT12W2ldLFM9dltkKGMpXT12W2NdLEQ9dltkKHApXT12W3BdO2xldCBQO2Z1bmN0aW9uIE8oZSx0KXtyZXR1cm4hTCYmIm9iamVjdCI9PXR5cGVvZiBlJiZlPyEhZS5jYXB0dXJlOkwmJnQ/ImJvb2xlYW4iPT10eXBlb2YgZT97Y2FwdHVyZTplLHBhc3NpdmU6ITB9OmU/Im9iamVjdCI9PXR5cGVvZiBlJiYhMSE9PWUucGFzc2l2ZT9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse3Bhc3NpdmU6ITB9KTplOntwYXNzaXZlOiEwfTplfW8mJm8ucHJlcGVuZCYmKFA9dltkKG8ucHJlcGVuZCldPXZbby5wcmVwZW5kXSk7Y29uc3QgQz1zP2Z1bmN0aW9uKGUpe2lmKCFFLmlzRXhpc3RpbmcpcmV0dXJuIHcuY2FsbChFLnRhcmdldCxFLmV2ZW50TmFtZSxFLmNhcHR1cmU/bTprLEUub3B0aW9ucyl9OmZ1bmN0aW9uKGUpe3JldHVybiB3LmNhbGwoRS50YXJnZXQsRS5ldmVudE5hbWUsZS5pbnZva2UsRS5vcHRpb25zKX0sej1zP2Z1bmN0aW9uKGUpe2lmKCFlLmlzUmVtb3ZlZCl7Y29uc3QgdD1IW2UuZXZlbnROYW1lXTtsZXQgbjt0JiYobj10W2UuY2FwdHVyZT9sOnVdKTtjb25zdCBvPW4mJmUudGFyZ2V0W25dO2lmKG8pZm9yKGxldCByPTA7cjxvLmxlbmd0aDtyKyspaWYob1tyXT09PWUpe28uc3BsaWNlKHIsMSksZS5pc1JlbW92ZWQ9ITAsMD09PW8ubGVuZ3RoJiYoZS5hbGxSZW1vdmVkPSEwLGUudGFyZ2V0W25dPW51bGwpO2JyZWFrfX1pZihlLmFsbFJlbW92ZWQpcmV0dXJuIFouY2FsbChlLnRhcmdldCxlLmV2ZW50TmFtZSxlLmNhcHR1cmU/bTprLGUub3B0aW9ucyl9OmZ1bmN0aW9uKGUpe3JldHVybiBaLmNhbGwoZS50YXJnZXQsZS5ldmVudE5hbWUsZS5pbnZva2UsZS5vcHRpb25zKX0saj1vJiZvLmRpZmY/by5kaWZmOmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj10eXBlb2YgdDtyZXR1cm4iZnVuY3Rpb24iPT09biYmZS5jYWxsYmFjaz09PXR8fCJvYmplY3QiPT09biYmZS5vcmlnaW5hbERlbGVnYXRlPT09dH0sUj1ab25lW2QoIlVOUEFUQ0hFRF9FVkVOVFMiKV0sTT1lW2QoIlBBU1NJVkVfRVZFTlRTIildLHg9ZnVuY3Rpb24odCxuLHIsaSxjPSExLGg9ITEpe3JldHVybiBmdW5jdGlvbigpe2NvbnN0IHA9dGhpc3x8ZTtsZXQgZj1hcmd1bWVudHNbMF07byYmby50cmFuc2ZlckV2ZW50TmFtZSYmKGY9by50cmFuc2ZlckV2ZW50TmFtZShmKSk7bGV0IGQ9YXJndW1lbnRzWzFdO2lmKCFkKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihiJiYidW5jYXVnaHRFeGNlcHRpb24iPT09ZilyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bGV0IGc9ITE7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGQpe2lmKCFkLmhhbmRsZUV2ZW50KXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtnPSEwfWlmKGEmJiFhKHQsZCxwLGFyZ3VtZW50cykpcmV0dXJuO2NvbnN0IGs9TCYmISFNJiYtMSE9PU0uaW5kZXhPZihmKSxtPU8oYXJndW1lbnRzWzJdLGspO2lmKFIpZm9yKGxldCBlPTA7ZTxSLmxlbmd0aDtlKyspaWYoZj09PVJbZV0pcmV0dXJuIGs/dC5jYWxsKHAsZixkLG0pOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2NvbnN0IHk9ISFtJiYoImJvb2xlYW4iPT10eXBlb2YgbXx8bS5jYXB0dXJlKSx2PSEoIW18fCJvYmplY3QiIT10eXBlb2YgbSkmJm0ub25jZSx3PVpvbmUuY3VycmVudDtsZXQgWj1IW2ZdO1p8fChCKGYsVCksWj1IW2ZdKTtjb25zdCBTPVpbeT9sOnVdO2xldCBELFA9cFtTXSxDPSExO2lmKFApe2lmKEM9ITAsXylmb3IobGV0IGU9MDtlPFAubGVuZ3RoO2UrKylpZihqKFBbZV0sZCkpcmV0dXJufWVsc2UgUD1wW1NdPVtdO2NvbnN0IHo9cC5jb25zdHJ1Y3Rvci5uYW1lLEk9Rlt6XTtJJiYoRD1JW2ZdKSxEfHwoRD16K24rKFQ/VChmKTpmKSksRS5vcHRpb25zPW0sdiYmKEUub3B0aW9ucy5vbmNlPSExKSxFLnRhcmdldD1wLEUuY2FwdHVyZT15LEUuZXZlbnROYW1lPWYsRS5pc0V4aXN0aW5nPUM7Y29uc3QgeD1zP0E6dm9pZCAwO3gmJih4LnRhc2tEYXRhPUUpO2NvbnN0IE49dy5zY2hlZHVsZUV2ZW50VGFzayhELGQseCxyLGkpO3JldHVybiBFLnRhcmdldD1udWxsLHgmJih4LnRhc2tEYXRhPW51bGwpLHYmJihtLm9uY2U9ITApLChMfHwiYm9vbGVhbiIhPXR5cGVvZiBOLm9wdGlvbnMpJiYoTi5vcHRpb25zPW0pLE4udGFyZ2V0PXAsTi5jYXB0dXJlPXksTi5ldmVudE5hbWU9ZixnJiYoTi5vcmlnaW5hbERlbGVnYXRlPWQpLGg/UC51bnNoaWZ0KE4pOlAucHVzaChOKSxjP3A6dm9pZCAwfX07cmV0dXJuIHZbcl09eCh3LGcsQyx6LHkpLFAmJih2LnByZXBlbmRMaXN0ZW5lcj14KFAsIi5wcmVwZW5kTGlzdGVuZXI6IixmdW5jdGlvbihlKXtyZXR1cm4gUC5jYWxsKEUudGFyZ2V0LEUuZXZlbnROYW1lLGUuaW52b2tlLEUub3B0aW9ucyl9LHoseSwhMCkpLHZbaV09ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXN8fGU7bGV0IG49YXJndW1lbnRzWzBdO28mJm8udHJhbnNmZXJFdmVudE5hbWUmJihuPW8udHJhbnNmZXJFdmVudE5hbWUobikpO2NvbnN0IHI9YXJndW1lbnRzWzJdLHM9ISFyJiYoImJvb2xlYW4iPT10eXBlb2Ygcnx8ci5jYXB0dXJlKSxpPWFyZ3VtZW50c1sxXTtpZighaSlyZXR1cm4gWi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoYSYmIWEoWixpLHQsYXJndW1lbnRzKSlyZXR1cm47Y29uc3QgYz1IW25dO2xldCBwO2MmJihwPWNbcz9sOnVdKTtjb25zdCBmPXAmJnRbcF07aWYoZilmb3IobGV0IGU9MDtlPGYubGVuZ3RoO2UrKyl7Y29uc3Qgbz1mW2VdO2lmKGoobyxpKSlyZXR1cm4gZi5zcGxpY2UoZSwxKSxvLmlzUmVtb3ZlZD0hMCwwPT09Zi5sZW5ndGgmJihvLmFsbFJlbW92ZWQ9ITAsdFtwXT1udWxsLCJzdHJpbmciPT10eXBlb2YgbikmJih0W2grIk9OX1BST1BFUlRZIituXT1udWxsKSxvLnpvbmUuY2FuY2VsVGFzayhvKSx5P3Q6dm9pZCAwfXJldHVybiBaLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdltjXT1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpc3x8ZTtsZXQgbj1hcmd1bWVudHNbMF07byYmby50cmFuc2ZlckV2ZW50TmFtZSYmKG49by50cmFuc2ZlckV2ZW50TmFtZShuKSk7Y29uc3Qgcj1bXSxzPVUodCxUP1Qobik6bik7Zm9yKGxldCBlPTA7ZTxzLmxlbmd0aDtlKyspe2NvbnN0IHQ9c1tlXTtyLnB1c2godC5vcmlnaW5hbERlbGVnYXRlP3Qub3JpZ2luYWxEZWxlZ2F0ZTp0LmNhbGxiYWNrKX1yZXR1cm4gcn0sdltwXT1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpc3x8ZTtsZXQgbj1hcmd1bWVudHNbMF07aWYobil7byYmby50cmFuc2ZlckV2ZW50TmFtZSYmKG49by50cmFuc2ZlckV2ZW50TmFtZShuKSk7Y29uc3QgZT1IW25dO2lmKGUpe2NvbnN0IG89dFtlLmZhbHNlXSxyPXRbZS50cnVlXTtpZihvKXtjb25zdCBlPW8uc2xpY2UoKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbz1lW3RdO3RoaXNbaV0uY2FsbCh0aGlzLG4sby5vcmlnaW5hbERlbGVnYXRlP28ub3JpZ2luYWxEZWxlZ2F0ZTpvLmNhbGxiYWNrLG8ub3B0aW9ucyl9fWlmKHIpe2NvbnN0IGU9ci5zbGljZSgpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBvPWVbdF07dGhpc1tpXS5jYWxsKHRoaXMsbixvLm9yaWdpbmFsRGVsZWdhdGU/by5vcmlnaW5hbERlbGVnYXRlOm8uY2FsbGJhY2ssby5vcHRpb25zKX19fX1lbHNle2NvbnN0IGU9T2JqZWN0LmtleXModCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG49cS5leGVjKGVbdF0pO2xldCBvPW4mJm5bMV07byYmInJlbW92ZUxpc3RlbmVyIiE9PW8mJnRoaXNbcF0uY2FsbCh0aGlzLG8pfXRoaXNbcF0uY2FsbCh0aGlzLCJyZW1vdmVMaXN0ZW5lciIpfWlmKHkpcmV0dXJuIHRoaXN9LEkodltyXSx3KSxJKHZbaV0sWiksRCYmSSh2W3BdLEQpLFMmJkkodltjXSxTKSwhMH1sZXQgdj1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl2W25dPXkodFtuXSxvKTtyZXR1cm4gdn1mdW5jdGlvbiBVKGUsdCl7aWYoIXQpe2NvbnN0IG49W107Zm9yKGxldCBvIGluIGUpe2NvbnN0IHI9cS5leGVjKG8pO2xldCBzPXImJnJbMV07aWYocyYmKCF0fHxzPT09dCkpe2NvbnN0IHQ9ZVtvXTtpZih0KWZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKW4ucHVzaCh0W2VdKX19cmV0dXJuIG59bGV0IG49SFt0XTtufHwoQih0KSxuPUhbdF0pO2NvbnN0IG89ZVtuLmZhbHNlXSxyPWVbbi50cnVlXTtyZXR1cm4gbz9yP28uY29uY2F0KHIpOm8uc2xpY2UoKTpyP3Iuc2xpY2UoKTpbXX1mdW5jdGlvbiBWKGUsdCl7Y29uc3Qgbj1lLkV2ZW50O24mJm4ucHJvdG90eXBlJiZ0LnBhdGNoTWV0aG9kKG4ucHJvdG90eXBlLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLGU9PmZ1bmN0aW9uKHQsbil7dFtHXT0hMCxlJiZlLmFwcGx5KHQsbil9KX1mdW5jdGlvbiAkKGUsdCxuLG8scil7Y29uc3Qgcz1ab25lLl9fc3ltYm9sX18obyk7aWYodFtzXSlyZXR1cm47Y29uc3QgYT10W3NdPXRbb107dFtvXT1mdW5jdGlvbihzLGksYyl7cmV0dXJuIGkmJmkucHJvdG90eXBlJiZyLmZvckVhY2goZnVuY3Rpb24odCl7Y29uc3Qgcj1gJHtufS4ke299OjpgK3Qscz1pLnByb3RvdHlwZTtpZihzLmhhc093blByb3BlcnR5KHQpKXtjb25zdCBuPWUuT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHMsdCk7biYmbi52YWx1ZT8obi52YWx1ZT1lLndyYXBXaXRoQ3VycmVudFpvbmUobi52YWx1ZSxyKSxlLl9yZWRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLHQsbikpOnNbdF0mJihzW3RdPWUud3JhcFdpdGhDdXJyZW50Wm9uZShzW3RdLHIpKX1lbHNlIHNbdF0mJihzW3RdPWUud3JhcFdpdGhDdXJyZW50Wm9uZShzW3RdLHIpKX0pLGEuY2FsbCh0LHMsaSxjKX0sZS5hdHRhY2hPcmlnaW5Ub1BhdGNoZWQodFtvXSxhKX1jb25zdCBYPVsiYWJzb2x1dGVkZXZpY2VvcmllbnRhdGlvbiIsImFmdGVyaW5wdXQiLCJhZnRlcnByaW50IiwiYXBwaW5zdGFsbGVkIiwiYmVmb3JlaW5zdGFsbHByb21wdCIsImJlZm9yZXByaW50IiwiYmVmb3JldW5sb2FkIiwiZGV2aWNlbGlnaHQiLCJkZXZpY2Vtb3Rpb24iLCJkZXZpY2VvcmllbnRhdGlvbiIsImRldmljZW9yaWVudGF0aW9uYWJzb2x1dGUiLCJkZXZpY2Vwcm94aW1pdHkiLCJoYXNoY2hhbmdlIiwibGFuZ3VhZ2VjaGFuZ2UiLCJtZXNzYWdlIiwibW96YmVmb3JlcGFpbnQiLCJvZmZsaW5lIiwib25saW5lIiwicGFpbnQiLCJwYWdlc2hvdyIsInBhZ2VoaWRlIiwicG9wc3RhdGUiLCJyZWplY3Rpb25oYW5kbGVkIiwic3RvcmFnZSIsInVuaGFuZGxlZHJlamVjdGlvbiIsInVubG9hZCIsInVzZXJwcm94aW1pdHkiLCJ2cmRpc3BsYXljb25uZWN0ZWQiLCJ2cmRpc3BsYXlkaXNjb25uZWN0ZWQiLCJ2cmRpc3BsYXlwcmVzZW50Y2hhbmdlIl0sWT1bImVuY3J5cHRlZCIsIndhaXRpbmdmb3JrZXkiLCJtc25lZWRrZXkiLCJtb3ppbnRlcnJ1cHRiZWdpbiIsIm1vemludGVycnVwdGVuZCJdLEo9WyJsb2FkIl0sSz1bImJsdXIiLCJlcnJvciIsImZvY3VzIiwibG9hZCIsInJlc2l6ZSIsInNjcm9sbCIsIm1lc3NhZ2VlcnJvciJdLFE9WyJib3VuY2UiLCJmaW5pc2giLCJzdGFydCJdLGVlPVsibG9hZHN0YXJ0IiwicHJvZ3Jlc3MiLCJhYm9ydCIsImVycm9yIiwibG9hZCIsInByb2dyZXNzIiwidGltZW91dCIsImxvYWRlbmQiLCJyZWFkeXN0YXRlY2hhbmdlIl0sdGU9WyJ1cGdyYWRlbmVlZGVkIiwiY29tcGxldGUiLCJhYm9ydCIsInN1Y2Nlc3MiLCJlcnJvciIsImJsb2NrZWQiLCJ2ZXJzaW9uY2hhbmdlIiwiY2xvc2UiXSxuZT1bImNsb3NlIiwiZXJyb3IiLCJvcGVuIiwibWVzc2FnZSJdLG9lPVsiZXJyb3IiLCJtZXNzYWdlIl0scmU9WyJhYm9ydCIsImFuaW1hdGlvbmNhbmNlbCIsImFuaW1hdGlvbmVuZCIsImFuaW1hdGlvbml0ZXJhdGlvbiIsImF1eGNsaWNrIiwiYmVmb3JlaW5wdXQiLCJibHVyIiwiY2FuY2VsIiwiY2FucGxheSIsImNhbnBsYXl0aHJvdWdoIiwiY2hhbmdlIiwiY29tcG9zaXRpb25zdGFydCIsImNvbXBvc2l0aW9udXBkYXRlIiwiY29tcG9zaXRpb25lbmQiLCJjdWVjaGFuZ2UiLCJjbGljayIsImNsb3NlIiwiY29udGV4dG1lbnUiLCJjdXJlY2hhbmdlIiwiZGJsY2xpY2siLCJkcmFnIiwiZHJhZ2VuZCIsImRyYWdlbnRlciIsImRyYWdleGl0IiwiZHJhZ2xlYXZlIiwiZHJhZ292ZXIiLCJkcm9wIiwiZHVyYXRpb25jaGFuZ2UiLCJlbXB0aWVkIiwiZW5kZWQiLCJlcnJvciIsImZvY3VzIiwiZm9jdXNpbiIsImZvY3Vzb3V0IiwiZ290cG9pbnRlcmNhcHR1cmUiLCJpbnB1dCIsImludmFsaWQiLCJrZXlkb3duIiwia2V5cHJlc3MiLCJrZXl1cCIsImxvYWQiLCJsb2Fkc3RhcnQiLCJsb2FkZWRkYXRhIiwibG9hZGVkbWV0YWRhdGEiLCJsb3N0cG9pbnRlcmNhcHR1cmUiLCJtb3VzZWRvd24iLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsIm1vdXNlbW92ZSIsIm1vdXNlb3V0IiwibW91c2VvdmVyIiwibW91c2V1cCIsIm1vdXNld2hlZWwiLCJvcmllbnRhdGlvbmNoYW5nZSIsInBhdXNlIiwicGxheSIsInBsYXlpbmciLCJwb2ludGVyY2FuY2VsIiwicG9pbnRlcmRvd24iLCJwb2ludGVyZW50ZXIiLCJwb2ludGVybGVhdmUiLCJwb2ludGVybG9ja2NoYW5nZSIsIm1venBvaW50ZXJsb2NrY2hhbmdlIiwid2Via2l0cG9pbnRlcmxvY2tlcmNoYW5nZSIsInBvaW50ZXJsb2NrZXJyb3IiLCJtb3pwb2ludGVybG9ja2Vycm9yIiwid2Via2l0cG9pbnRlcmxvY2tlcnJvciIsInBvaW50ZXJtb3ZlIiwicG9pbnRvdXQiLCJwb2ludGVyb3ZlciIsInBvaW50ZXJ1cCIsInByb2dyZXNzIiwicmF0ZWNoYW5nZSIsInJlc2V0IiwicmVzaXplIiwic2Nyb2xsIiwic2Vla2VkIiwic2Vla2luZyIsInNlbGVjdCIsInNlbGVjdGlvbmNoYW5nZSIsInNlbGVjdHN0YXJ0Iiwic2hvdyIsInNvcnQiLCJzdGFsbGVkIiwic3VibWl0Iiwic3VzcGVuZCIsInRpbWV1cGRhdGUiLCJ2b2x1bWVjaGFuZ2UiLCJ0b3VjaGNhbmNlbCIsInRvdWNobW92ZSIsInRvdWNoc3RhcnQiLCJ0b3VjaGVuZCIsInRyYW5zaXRpb25jYW5jZWwiLCJ0cmFuc2l0aW9uZW5kIiwid2FpdGluZyIsIndoZWVsIl0uY29uY2F0KFsid2ViZ2xjb250ZXh0cmVzdG9yZWQiLCJ3ZWJnbGNvbnRleHRsb3N0Iiwid2ViZ2xjb250ZXh0Y3JlYXRpb25lcnJvciJdLFsiYXV0b2NvbXBsZXRlIiwiYXV0b2NvbXBsZXRlZXJyb3IiXSxbInRvZ2dsZSJdLFsiYWZ0ZXJzY3JpcHRleGVjdXRlIiwiYmVmb3Jlc2NyaXB0ZXhlY3V0ZSIsIkRPTUNvbnRlbnRMb2FkZWQiLCJmcmVlemUiLCJmdWxsc2NyZWVuY2hhbmdlIiwibW96ZnVsbHNjcmVlbmNoYW5nZSIsIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLCJtc2Z1bGxzY3JlZW5jaGFuZ2UiLCJmdWxsc2NyZWVuZXJyb3IiLCJtb3pmdWxsc2NyZWVuZXJyb3IiLCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3IiLCJtc2Z1bGxzY3JlZW5lcnJvciIsInJlYWR5c3RhdGVjaGFuZ2UiLCJ2aXNpYmlsaXR5Y2hhbmdlIiwicmVzdW1lIl0sWCxbImJlZm9yZWNvcHkiLCJiZWZvcmVjdXQiLCJiZWZvcmVwYXN0ZSIsImNvcHkiLCJjdXQiLCJwYXN0ZSIsImRyYWdzdGFydCIsImxvYWRlbmQiLCJhbmltYXRpb25zdGFydCIsInNlYXJjaCIsInRyYW5zaXRpb25ydW4iLCJ0cmFuc2l0aW9uc3RhcnQiLCJ3ZWJraXRhbmltYXRpb25lbmQiLCJ3ZWJraXRhbmltYXRpb25pdGVyYXRpb24iLCJ3ZWJraXRhbmltYXRpb25zdGFydCIsIndlYmtpdHRyYW5zaXRpb25lbmQiXSxbImFjdGl2YXRlIiwiYWZ0ZXJ1cGRhdGUiLCJhcmlhcmVxdWVzdCIsImJlZm9yZWFjdGl2YXRlIiwiYmVmb3JlZGVhY3RpdmF0ZSIsImJlZm9yZWVkaXRmb2N1cyIsImJlZm9yZXVwZGF0ZSIsImNlbGxjaGFuZ2UiLCJjb250cm9sc2VsZWN0IiwiZGF0YWF2YWlsYWJsZSIsImRhdGFzZXRjaGFuZ2VkIiwiZGF0YXNldGNvbXBsZXRlIiwiZXJyb3J1cGRhdGUiLCJmaWx0ZXJjaGFuZ2UiLCJsYXlvdXRjb21wbGV0ZSIsImxvc2VjYXB0dXJlIiwibW92ZSIsIm1vdmVlbmQiLCJtb3Zlc3RhcnQiLCJwcm9wZXJ0eWNoYW5nZSIsInJlc2l6ZWVuZCIsInJlc2l6ZXN0YXJ0Iiwicm93ZW50ZXIiLCJyb3dleGl0Iiwicm93c2RlbGV0ZSIsInJvd3NpbnNlcnRlZCIsImNvbW1hbmQiLCJjb21wYXNzbmVlZHNjYWxpYnJhdGlvbiIsImRlYWN0aXZhdGUiLCJoZWxwIiwibXNjb250ZW50em9vbSIsIm1zbWFuaXB1bGF0aW9uc3RhdGVjaGFuZ2VkIiwibXNnZXN0dXJlY2hhbmdlIiwibXNnZXN0dXJlZG91YmxldGFwIiwibXNnZXN0dXJlZW5kIiwibXNnZXN0dXJlaG9sZCIsIm1zZ2VzdHVyZXN0YXJ0IiwibXNnZXN0dXJldGFwIiwibXNnb3Rwb2ludGVyY2FwdHVyZSIsIm1zaW5lcnRpYXN0YXJ0IiwibXNsb3N0cG9pbnRlcmNhcHR1cmUiLCJtc3BvaW50ZXJjYW5jZWwiLCJtc3BvaW50ZXJkb3duIiwibXNwb2ludGVyZW50ZXIiLCJtc3BvaW50ZXJob3ZlciIsIm1zcG9pbnRlcmxlYXZlIiwibXNwb2ludGVybW92ZSIsIm1zcG9pbnRlcm91dCIsIm1zcG9pbnRlcm92ZXIiLCJtc3BvaW50ZXJ1cCIsInBvaW50ZXJvdXQiLCJtc3NpdGVtb2RlanVtcGxpc3RpdGVtcmVtb3ZlZCIsIm1zdGh1bWJuYWlsY2xpY2siLCJzdG9wIiwic3RvcmFnZWNvbW1pdCJdKTtmdW5jdGlvbiBzZShlLHQsbil7aWYoIW58fDA9PT1uLmxlbmd0aClyZXR1cm4gdDtjb25zdCBvPW4uZmlsdGVyKHQ9PnQudGFyZ2V0PT09ZSk7aWYoIW98fDA9PT1vLmxlbmd0aClyZXR1cm4gdDtjb25zdCByPW9bMF0uaWdub3JlUHJvcGVydGllcztyZXR1cm4gdC5maWx0ZXIoZT0+LTE9PT1yLmluZGV4T2YoZSkpfWZ1bmN0aW9uIGFlKGUsdCxuLG8pe2UmJlAoZSxzZShlLHQsbiksbyl9ZnVuY3Rpb24gaWUoZSx0KXtpZihiJiYhdylyZXR1cm47aWYoWm9uZVtlLnN5bWJvbCgicGF0Y2hFdmVudHMiKV0pcmV0dXJuO2NvbnN0IG89InVuZGVmaW5lZCIhPXR5cGVvZiBXZWJTb2NrZXQscj10Ll9fWm9uZV9pZ25vcmVfb25fcHJvcGVydGllcztpZihFKXtjb25zdCBlPXdpbmRvdyx0PXgoKT9be3RhcmdldDplLGlnbm9yZVByb3BlcnRpZXM6WyJlcnJvciJdfV06W107YWUoZSxyZS5jb25jYXQoWyJtZXNzYWdlZXJyb3IiXSkscj9yLmNvbmNhdCh0KTpyLG4oZSkpLGFlKERvY3VtZW50LnByb3RvdHlwZSxyZSxyKSx2b2lkIDAhPT1lLlNWR0VsZW1lbnQmJmFlKGUuU1ZHRWxlbWVudC5wcm90b3R5cGUscmUsciksYWUoRWxlbWVudC5wcm90b3R5cGUscmUsciksYWUoSFRNTEVsZW1lbnQucHJvdG90eXBlLHJlLHIpLGFlKEhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLFksciksYWUoSFRNTEZyYW1lU2V0RWxlbWVudC5wcm90b3R5cGUsWC5jb25jYXQoSyksciksYWUoSFRNTEJvZHlFbGVtZW50LnByb3RvdHlwZSxYLmNvbmNhdChLKSxyKSxhZShIVE1MRnJhbWVFbGVtZW50LnByb3RvdHlwZSxKLHIpLGFlKEhUTUxJRnJhbWVFbGVtZW50LnByb3RvdHlwZSxKLHIpO2NvbnN0IG89ZS5IVE1MTWFycXVlZUVsZW1lbnQ7byYmYWUoby5wcm90b3R5cGUsUSxyKTtjb25zdCBzPWUuV29ya2VyO3MmJmFlKHMucHJvdG90eXBlLG9lLHIpfWNvbnN0IHM9dC5YTUxIdHRwUmVxdWVzdDtzJiZhZShzLnByb3RvdHlwZSxlZSxyKTtjb25zdCBhPXQuWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldDthJiZhZShhJiZhLnByb3RvdHlwZSxlZSxyKSwidW5kZWZpbmVkIiE9dHlwZW9mIElEQkluZGV4JiYoYWUoSURCSW5kZXgucHJvdG90eXBlLHRlLHIpLGFlKElEQlJlcXVlc3QucHJvdG90eXBlLHRlLHIpLGFlKElEQk9wZW5EQlJlcXVlc3QucHJvdG90eXBlLHRlLHIpLGFlKElEQkRhdGFiYXNlLnByb3RvdHlwZSx0ZSxyKSxhZShJREJUcmFuc2FjdGlvbi5wcm90b3R5cGUsdGUsciksYWUoSURCQ3Vyc29yLnByb3RvdHlwZSx0ZSxyKSksbyYmYWUoV2ViU29ja2V0LnByb3RvdHlwZSxuZSxyKX1ab25lLl9fbG9hZF9wYXRjaCgidXRpbCIsKG4saSxjKT0+e2MucGF0Y2hPblByb3BlcnRpZXM9UCxjLnBhdGNoTWV0aG9kPXosYy5iaW5kQXJndW1lbnRzPXksYy5wYXRjaE1hY3JvVGFzaz1qO2NvbnN0IGY9aS5fX3N5bWJvbF9fKCJCTEFDS19MSVNURURfRVZFTlRTIiksZD1pLl9fc3ltYm9sX18oIlVOUEFUQ0hFRF9FVkVOVFMiKTtuW2RdJiYobltmXT1uW2RdKSxuW2ZdJiYoaVtmXT1pW2RdPW5bZl0pLGMucGF0Y2hFdmVudFByb3RvdHlwZT1WLGMucGF0Y2hFdmVudFRhcmdldD1XLGMuaXNJRU9yRWRnZT1OLGMuT2JqZWN0RGVmaW5lUHJvcGVydHk9dCxjLk9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcj1lLGMuT2JqZWN0Q3JlYXRlPW8sYy5BcnJheVNsaWNlPXIsYy5wYXRjaENsYXNzPUMsYy53cmFwV2l0aEN1cnJlbnRab25lPXAsYy5maWx0ZXJQcm9wZXJ0aWVzPXNlLGMuYXR0YWNoT3JpZ2luVG9QYXRjaGVkPUksYy5fcmVkZWZpbmVQcm9wZXJ0eT1PYmplY3QuZGVmaW5lUHJvcGVydHksYy5wYXRjaENhbGxiYWNrcz0kLGMuZ2V0R2xvYmFsT2JqZWN0cz0oKT0+KHtnbG9iYWxTb3VyY2VzOkYsem9uZVN5bWJvbEV2ZW50TmFtZXM6SCxldmVudE5hbWVzOnJlLGlzQnJvd3NlcjpFLGlzTWl4OncsaXNOb2RlOmIsVFJVRV9TVFI6bCxGQUxTRV9TVFI6dSxaT05FX1NZTUJPTF9QUkVGSVg6aCxBRERfRVZFTlRfTElTVEVORVJfU1RSOnMsUkVNT1ZFX0VWRU5UX0xJU1RFTkVSX1NUUjphfSl9KTtjb25zdCBjZT1kKCJ6b25lVGFzayIpO2Z1bmN0aW9uIGxlKGUsdCxuLG8pe2xldCByPW51bGwscz1udWxsO24rPW87Y29uc3QgYT17fTtmdW5jdGlvbiBpKHQpe2NvbnN0IG49dC5kYXRhO3JldHVybiBuLmFyZ3NbMF09ZnVuY3Rpb24oKXtyZXR1cm4gdC5pbnZva2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuLmhhbmRsZUlkPXIuYXBwbHkoZSxuLmFyZ3MpLHR9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gcy5jYWxsKGUsdC5kYXRhLmhhbmRsZUlkKX1yPXooZSx0Kz1vLG49PmZ1bmN0aW9uKHIscyl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHNbMF0pe2NvbnN0IGU9e2lzUGVyaW9kaWM6IkludGVydmFsIj09PW8sZGVsYXk6IlRpbWVvdXQiPT09b3x8IkludGVydmFsIj09PW8/c1sxXXx8MDp2b2lkIDAsYXJnczpzfSxuPXNbMF07c1swXT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZmluYWxseXtlLmlzUGVyaW9kaWN8fCgibnVtYmVyIj09dHlwZW9mIGUuaGFuZGxlSWQ/ZGVsZXRlIGFbZS5oYW5kbGVJZF06ZS5oYW5kbGVJZCYmKGUuaGFuZGxlSWRbY2VdPW51bGwpKX19O2NvbnN0IHI9Zih0LHNbMF0sZSxpLGMpO2lmKCFyKXJldHVybiByO2NvbnN0IGw9ci5kYXRhLmhhbmRsZUlkO3JldHVybiJudW1iZXIiPT10eXBlb2YgbD9hW2xdPXI6bCYmKGxbY2VdPXIpLGwmJmwucmVmJiZsLnVucmVmJiYiZnVuY3Rpb24iPT10eXBlb2YgbC5yZWYmJiJmdW5jdGlvbiI9PXR5cGVvZiBsLnVucmVmJiYoci5yZWY9bC5yZWYuYmluZChsKSxyLnVucmVmPWwudW5yZWYuYmluZChsKSksIm51bWJlciI9PXR5cGVvZiBsfHxsP2w6cn1yZXR1cm4gbi5hcHBseShlLHMpfSkscz16KGUsbix0PT5mdW5jdGlvbihuLG8pe2NvbnN0IHI9b1swXTtsZXQgczsibnVtYmVyIj09dHlwZW9mIHI/cz1hW3JdOihzPXImJnJbY2VdLHN8fChzPXIpKSxzJiYic3RyaW5nIj09dHlwZW9mIHMudHlwZT8ibm90U2NoZWR1bGVkIiE9PXMuc3RhdGUmJihzLmNhbmNlbEZuJiZzLmRhdGEuaXNQZXJpb2RpY3x8MD09PXMucnVuQ291bnQpJiYoIm51bWJlciI9PXR5cGVvZiByP2RlbGV0ZSBhW3JdOnImJihyW2NlXT1udWxsKSxzLnpvbmUuY2FuY2VsVGFzayhzKSk6dC5hcHBseShlLG8pfSl9ZnVuY3Rpb24gdWUoZSx0KXtpZihab25lW3Quc3ltYm9sKCJwYXRjaEV2ZW50VGFyZ2V0IildKXJldHVybjtjb25zdHtldmVudE5hbWVzOm4sem9uZVN5bWJvbEV2ZW50TmFtZXM6byxUUlVFX1NUUjpyLEZBTFNFX1NUUjpzLFpPTkVfU1lNQk9MX1BSRUZJWDphfT10LmdldEdsb2JhbE9iamVjdHMoKTtmb3IobGV0IGM9MDtjPG4ubGVuZ3RoO2MrKyl7Y29uc3QgZT1uW2NdLHQ9YSsoZStzKSxpPWErKGUrcik7b1tlXT17fSxvW2VdW3NdPXQsb1tlXVtyXT1pfWNvbnN0IGk9ZS5FdmVudFRhcmdldDtyZXR1cm4gaSYmaS5wcm90b3R5cGU/KHQucGF0Y2hFdmVudFRhcmdldChlLFtpJiZpLnByb3RvdHlwZV0pLCEwKTp2b2lkIDB9Wm9uZS5fX2xvYWRfcGF0Y2goImxlZ2FjeSIsZT0+e2NvbnN0IHQ9ZVtab25lLl9fc3ltYm9sX18oImxlZ2FjeVBhdGNoIildO3QmJnQoKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJxdWV1ZU1pY3JvdGFzayIsKGUsdCxuKT0+e24ucGF0Y2hNZXRob2QoZSwicXVldWVNaWNyb3Rhc2siLGU9PmZ1bmN0aW9uKGUsbil7dC5jdXJyZW50LnNjaGVkdWxlTWljcm9UYXNrKCJxdWV1ZU1pY3JvdGFzayIsblswXSl9KX0pLFpvbmUuX19sb2FkX3BhdGNoKCJ0aW1lcnMiLGU9Pntjb25zdCB0PSJzZXQiLG49ImNsZWFyIjtsZShlLHQsbiwiVGltZW91dCIpLGxlKGUsdCxuLCJJbnRlcnZhbCIpLGxlKGUsdCxuLCJJbW1lZGlhdGUiKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLGU9PntsZShlLCJyZXF1ZXN0IiwiY2FuY2VsIiwiQW5pbWF0aW9uRnJhbWUiKSxsZShlLCJtb3pSZXF1ZXN0IiwibW96Q2FuY2VsIiwiQW5pbWF0aW9uRnJhbWUiKSxsZShlLCJ3ZWJraXRSZXF1ZXN0Iiwid2Via2l0Q2FuY2VsIiwiQW5pbWF0aW9uRnJhbWUiKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJibG9ja2luZyIsKGUsdCk9Pntjb25zdCBuPVsiYWxlcnQiLCJwcm9tcHQiLCJjb25maXJtIl07Zm9yKGxldCBvPTA7bzxuLmxlbmd0aDtvKyspeihlLG5bb10sKG4sbyxyKT0+ZnVuY3Rpb24obyxzKXtyZXR1cm4gdC5jdXJyZW50LnJ1bihuLGUscyxyKX0pfSksWm9uZS5fX2xvYWRfcGF0Y2goIkV2ZW50VGFyZ2V0IiwoZSx0LG4pPT57IWZ1bmN0aW9uKGUsdCl7dC5wYXRjaEV2ZW50UHJvdG90eXBlKGUsdCl9KGUsbiksdWUoZSxuKTtjb25zdCBvPWUuWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldDtvJiZvLnByb3RvdHlwZSYmbi5wYXRjaEV2ZW50VGFyZ2V0KGUsW28ucHJvdG90eXBlXSl9KSxab25lLl9fbG9hZF9wYXRjaCgiTXV0YXRpb25PYnNlcnZlciIsKGUsdCxuKT0+e0MoIk11dGF0aW9uT2JzZXJ2ZXIiKSxDKCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyIil9KSxab25lLl9fbG9hZF9wYXRjaCgiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLChlLHQsbik9PntDKCJJbnRlcnNlY3Rpb25PYnNlcnZlciIpfSksWm9uZS5fX2xvYWRfcGF0Y2goIkZpbGVSZWFkZXIiLChlLHQsbik9PntDKCJGaWxlUmVhZGVyIil9KSxab25lLl9fbG9hZF9wYXRjaCgib25fcHJvcGVydHkiLChlLHQsbik9PntpZShuLGUpfSksWm9uZS5fX2xvYWRfcGF0Y2goImN1c3RvbUVsZW1lbnRzIiwoZSx0LG4pPT57IWZ1bmN0aW9uKGUsdCl7Y29uc3R7aXNCcm93c2VyOm4saXNNaXg6b309dC5nZXRHbG9iYWxPYmplY3RzKCk7KG58fG8pJiZlLmN1c3RvbUVsZW1lbnRzJiYiY3VzdG9tRWxlbWVudHMiaW4gZSYmdC5wYXRjaENhbGxiYWNrcyh0LGUuY3VzdG9tRWxlbWVudHMsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIixbImNvbm5lY3RlZENhbGxiYWNrIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJhZG9wdGVkQ2FsbGJhY2siLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siXSl9KGUsbil9KSxab25lLl9fbG9hZF9wYXRjaCgiWEhSIiwoZSx0KT0+eyFmdW5jdGlvbihlKXtjb25zdCB1PWUuWE1MSHR0cFJlcXVlc3Q7aWYoIXUpcmV0dXJuO2NvbnN0IGg9dS5wcm90b3R5cGU7bGV0IHA9aFtpXSxnPWhbY107aWYoIXApe2NvbnN0IHQ9ZS5YTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0O2lmKHQpe2NvbnN0IGU9dC5wcm90b3R5cGU7cD1lW2ldLGc9ZVtjXX19Y29uc3QgXz0icmVhZHlzdGF0ZWNoYW5nZSIsaz0ic2NoZWR1bGVkIjtmdW5jdGlvbiBtKGUpe2NvbnN0IG89ZS5kYXRhLGE9by50YXJnZXQ7YVtzXT0hMSxhW2xdPSExO2NvbnN0IHU9YVtyXTtwfHwocD1hW2ldLGc9YVtjXSksdSYmZy5jYWxsKGEsXyx1KTtjb25zdCBoPWFbcl09KCk9PntpZihhLnJlYWR5U3RhdGU9PT1hLkRPTkUpaWYoIW8uYWJvcnRlZCYmYVtzXSYmZS5zdGF0ZT09PWspe2NvbnN0IG49YVt0Ll9fc3ltYm9sX18oImxvYWRmYWxzZSIpXTtpZigwIT09YS5zdGF0dXMmJm4mJm4ubGVuZ3RoPjApe2NvbnN0IHI9ZS5pbnZva2U7ZS5pbnZva2U9ZnVuY3Rpb24oKXtjb25zdCBuPWFbdC5fX3N5bWJvbF9fKCJsb2FkZmFsc2UiKV07Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspblt0XT09PWUmJm4uc3BsaWNlKHQsMSk7by5hYm9ydGVkfHxlLnN0YXRlIT09a3x8ci5jYWxsKGUpfSxuLnB1c2goZSl9ZWxzZSBlLmludm9rZSgpfWVsc2Ugby5hYm9ydGVkfHwhMSE9PWFbc118fChhW2xdPSEwKX07cmV0dXJuIHAuY2FsbChhLF8saCksYVtuXXx8KGFbbl09ZSksdy5hcHBseShhLG8uYXJncyksYVtzXT0hMCxlfWZ1bmN0aW9uIHkoKXt9ZnVuY3Rpb24gdihlKXtjb25zdCB0PWUuZGF0YTtyZXR1cm4gdC5hYm9ydGVkPSEwLFouYXBwbHkodC50YXJnZXQsdC5hcmdzKX1jb25zdCBUPXooaCwib3BlbiIsKCk9PmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbb109MD09dFsyXSxlW2FdPXRbMV0sVC5hcHBseShlLHQpfSksYj1kKCJmZXRjaFRhc2tBYm9ydGluZyIpLEU9ZCgiZmV0Y2hUYXNrU2NoZWR1bGluZyIpLHc9eihoLCJzZW5kIiwoKT0+ZnVuY3Rpb24oZSxuKXtpZighMD09PXQuY3VycmVudFtFXSlyZXR1cm4gdy5hcHBseShlLG4pO2lmKGVbb10pcmV0dXJuIHcuYXBwbHkoZSxuKTt7Y29uc3QgdD17dGFyZ2V0OmUsdXJsOmVbYV0saXNQZXJpb2RpYzohMSxhcmdzOm4sYWJvcnRlZDohMX0sbz1mKCJYTUxIdHRwUmVxdWVzdC5zZW5kIix5LHQsbSx2KTtlJiYhMD09PWVbbF0mJiF0LmFib3J0ZWQmJm8uc3RhdGU9PT1rJiZvLmludm9rZSgpfX0pLFo9eihoLCJhYm9ydCIsKCk9PmZ1bmN0aW9uKGUsbyl7Y29uc3Qgcj1lW25dO2lmKHImJiJzdHJpbmciPT10eXBlb2Ygci50eXBlKXtpZihudWxsPT1yLmNhbmNlbEZufHxyLmRhdGEmJnIuZGF0YS5hYm9ydGVkKXJldHVybjtyLnpvbmUuY2FuY2VsVGFzayhyKX1lbHNlIGlmKCEwPT09dC5jdXJyZW50W2JdKXJldHVybiBaLmFwcGx5KGUsbyl9KX0oZSk7Y29uc3Qgbj1kKCJ4aHJUYXNrIiksbz1kKCJ4aHJTeW5jIikscj1kKCJ4aHJMaXN0ZW5lciIpLHM9ZCgieGhyU2NoZWR1bGVkIiksYT1kKCJ4aHJVUkwiKSxsPWQoInhockVycm9yQmVmb3JlU2NoZWR1bGVkIil9KSxab25lLl9fbG9hZF9wYXRjaCgiZ2VvbG9jYXRpb24iLHQ9Pnt0Lm5hdmlnYXRvciYmdC5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24mJmZ1bmN0aW9uKHQsbil7Y29uc3Qgbz10LmNvbnN0cnVjdG9yLm5hbWU7Zm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKyspe2NvbnN0IHM9bltyXSxhPXRbc107aWYoYSl7aWYoIXYoZSh0LHMpKSljb250aW51ZTt0W3NdPShlPT57Y29uc3QgdD1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHRoaXMseShhcmd1bWVudHMsbysiLiIrcykpfTtyZXR1cm4gSSh0LGUpLHR9KShhKX19fSh0Lm5hdmlnYXRvci5nZW9sb2NhdGlvbixbImdldEN1cnJlbnRQb3NpdGlvbiIsIndhdGNoUG9zaXRpb24iXSl9KSxab25lLl9fbG9hZF9wYXRjaCgiUHJvbWlzZVJlamVjdGlvbkV2ZW50IiwoZSx0KT0+e2Z1bmN0aW9uIG4odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe1UoZSx0KS5mb3JFYWNoKG89Pntjb25zdCByPWUuUHJvbWlzZVJlamVjdGlvbkV2ZW50O2lmKHIpe2NvbnN0IGU9bmV3IHIodCx7cHJvbWlzZTpuLnByb21pc2UscmVhc29uOm4ucmVqZWN0aW9ufSk7by5pbnZva2UoZSl9fSl9fWUuUHJvbWlzZVJlamVjdGlvbkV2ZW50JiYodFtkKCJ1bmhhbmRsZWRQcm9taXNlUmVqZWN0aW9uSGFuZGxlciIpXT1uKCJ1bmhhbmRsZWRyZWplY3Rpb24iKSx0W2QoInJlamVjdGlvbkhhbmRsZWRIYW5kbGVyIildPW4oInJlamVjdGlvbmhhbmRsZWQiKSl9KX0sNDY5OihlLHQsbik9PnsidXNlIHN0cmljdCI7bigxNjcpfX0sZT0+eyJ1c2Ugc3RyaWN0IjtlKGUucz00NjkpfV0pOyhzZWxmLndlYnBhY2tDaHVua25nX2VsZW1lbnRzX2V4YW1wbGU9c2VsZi53ZWJwYWNrQ2h1bmtuZ19lbGVtZW50c19leGFtcGxlfHxbXSkucHVzaChbWzE3OV0sezUxMToodCxlLG4pPT57InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHR9bGV0IHM9ITE7Y29uc3QgaT17UHJvbWlzZTp2b2lkIDAsc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodCl7aWYodCl7Y29uc3QgdD1uZXcgRXJyb3I7Y29uc29sZS53YXJuKCJERVBSRUNBVEVEISBSeEpTIHdhcyBzZXQgdG8gdXNlIGRlcHJlY2F0ZWQgc3luY2hyb25vdXMgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IgYnkgY29kZSBhdDogXG4iK3Quc3RhY2spfWVsc2UgcyYmY29uc29sZS5sb2coIlJ4SlM6IEJhY2sgdG8gYSBiZXR0ZXIgZXJyb3IgYmVoYXZpb3IuIFRoYW5rIHlvdS4gPDMiKTtzPXR9LGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCl7cmV0dXJuIHN9fTtmdW5jdGlvbiBvKHQpe3NldFRpbWVvdXQoKCk9Pnt0aHJvdyB0fSwwKX1jb25zdCBhPXtjbG9zZWQ6ITAsbmV4dCh0KXt9LGVycm9yKHQpe2lmKGkudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyl0aHJvdyB0O28odCl9LGNvbXBsZXRlKCl7fX0sbD0oKCk9PkFycmF5LmlzQXJyYXl8fCh0PT50JiYibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoKSkoKTtmdW5jdGlvbiB1KHQpe3JldHVybiBudWxsIT09dCYmIm9iamVjdCI9PXR5cGVvZiB0fWNvbnN0IGM9KCgpPT57ZnVuY3Rpb24gdCh0KXtyZXR1cm4gRXJyb3IuY2FsbCh0aGlzKSx0aGlzLm1lc3NhZ2U9dD9gJHt0Lmxlbmd0aH0gZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcbiR7dC5tYXAoKHQsZSk9PmAke2UrMX0pICR7dC50b1N0cmluZygpfWApLmpvaW4oIlxuICAiKX1gOiIiLHRoaXMubmFtZT0iVW5zdWJzY3JpcHRpb25FcnJvciIsdGhpcy5lcnJvcnM9dCx0aGlzfXJldHVybiB0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksdH0pKCk7bGV0IGg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmNsb3NlZD0hMSx0aGlzLl9wYXJlbnRPclBhcmVudHM9bnVsbCx0aGlzLl9zdWJzY3JpcHRpb25zPW51bGwsdCYmKHRoaXMuX2N0b3JVbnN1YnNjcmliZT0hMCx0aGlzLl91bnN1YnNjcmliZT10KX11bnN1YnNjcmliZSgpe2xldCBlO2lmKHRoaXMuY2xvc2VkKXJldHVybjtsZXR7X3BhcmVudE9yUGFyZW50czpuLF9jdG9yVW5zdWJzY3JpYmU6cyxfdW5zdWJzY3JpYmU6aSxfc3Vic2NyaXB0aW9uczpvfT10aGlzO2lmKHRoaXMuY2xvc2VkPSEwLHRoaXMuX3BhcmVudE9yUGFyZW50cz1udWxsLHRoaXMuX3N1YnNjcmlwdGlvbnM9bnVsbCxuIGluc3RhbmNlb2YgdCluLnJlbW92ZSh0aGlzKTtlbHNlIGlmKG51bGwhPT1uKWZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7Kyt0KW5bdF0ucmVtb3ZlKHRoaXMpO2lmKHIoaSkpe3MmJih0aGlzLl91bnN1YnNjcmliZT12b2lkIDApO3RyeXtpLmNhbGwodGhpcyl9Y2F0Y2goYSl7ZT1hIGluc3RhbmNlb2YgYz9kKGEuZXJyb3JzKTpbYV19fWlmKGwobykpe2xldCB0PS0xLG49by5sZW5ndGg7Zm9yKDsrK3Q8bjspe2NvbnN0IG49b1t0XTtpZih1KG4pKXRyeXtuLnVuc3Vic2NyaWJlKCl9Y2F0Y2goYSl7ZT1lfHxbXSxhIGluc3RhbmNlb2YgYz9lPWUuY29uY2F0KGQoYS5lcnJvcnMpKTplLnB1c2goYSl9fX1pZihlKXRocm93IG5ldyBjKGUpfWFkZChlKXtsZXQgbj1lO2lmKCFlKXJldHVybiB0LkVNUFRZO3N3aXRjaCh0eXBlb2YgZSl7Y2FzZSJmdW5jdGlvbiI6bj1uZXcgdChlKTtjYXNlIm9iamVjdCI6aWYobj09PXRoaXN8fG4uY2xvc2VkfHwiZnVuY3Rpb24iIT10eXBlb2Ygbi51bnN1YnNjcmliZSlyZXR1cm4gbjtpZih0aGlzLmNsb3NlZClyZXR1cm4gbi51bnN1YnNjcmliZSgpLG47aWYoIShuIGluc3RhbmNlb2YgdCkpe2NvbnN0IGU9bjtuPW5ldyB0LG4uX3N1YnNjcmlwdGlvbnM9W2VdfWJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJ1bnJlY29nbml6ZWQgdGVhcmRvd24gIitlKyIgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLiIpfWxldHtfcGFyZW50T3JQYXJlbnRzOnJ9PW47aWYobnVsbD09PXIpbi5fcGFyZW50T3JQYXJlbnRzPXRoaXM7ZWxzZSBpZihyIGluc3RhbmNlb2YgdCl7aWYocj09PXRoaXMpcmV0dXJuIG47bi5fcGFyZW50T3JQYXJlbnRzPVtyLHRoaXNdfWVsc2V7aWYoLTEhPT1yLmluZGV4T2YodGhpcykpcmV0dXJuIG47ci5wdXNoKHRoaXMpfWNvbnN0IHM9dGhpcy5fc3Vic2NyaXB0aW9ucztyZXR1cm4gbnVsbD09PXM/dGhpcy5fc3Vic2NyaXB0aW9ucz1bbl06cy5wdXNoKG4pLG59cmVtb3ZlKHQpe2NvbnN0IGU9dGhpcy5fc3Vic2NyaXB0aW9ucztpZihlKXtjb25zdCBuPWUuaW5kZXhPZih0KTstMSE9PW4mJmUuc3BsaWNlKG4sMSl9fX1yZXR1cm4gdC5FTVBUWT1mdW5jdGlvbih0KXtyZXR1cm4gdC5jbG9zZWQ9ITAsdH0obmV3IHQpLHR9KSgpO2Z1bmN0aW9uIGQodCl7cmV0dXJuIHQucmVkdWNlKCh0LGUpPT50LmNvbmNhdChlIGluc3RhbmNlb2YgYz9lLmVycm9yczplKSxbXSl9Y29uc3QgcD0oKCk9PiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sKCJyeFN1YnNjcmliZXIiKToiQEByeFN1YnNjcmliZXJfIitNYXRoLnJhbmRvbSgpKSgpO2NsYXNzIGYgZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKHQsZSxuKXtzd2l0Y2goc3VwZXIoKSx0aGlzLnN5bmNFcnJvclZhbHVlPW51bGwsdGhpcy5zeW5jRXJyb3JUaHJvd249ITEsdGhpcy5zeW5jRXJyb3JUaHJvd2FibGU9ITEsdGhpcy5pc1N0b3BwZWQ9ITEsYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnRoaXMuZGVzdGluYXRpb249YTticmVhaztjYXNlIDE6aWYoIXQpe3RoaXMuZGVzdGluYXRpb249YTticmVha31pZigib2JqZWN0Ij09dHlwZW9mIHQpe3QgaW5zdGFuY2VvZiBmPyh0aGlzLnN5bmNFcnJvclRocm93YWJsZT10LnN5bmNFcnJvclRocm93YWJsZSx0aGlzLmRlc3RpbmF0aW9uPXQsdC5hZGQodGhpcykpOih0aGlzLnN5bmNFcnJvclRocm93YWJsZT0hMCx0aGlzLmRlc3RpbmF0aW9uPW5ldyBnKHRoaXMsdCkpO2JyZWFrfWRlZmF1bHQ6dGhpcy5zeW5jRXJyb3JUaHJvd2FibGU9ITAsdGhpcy5kZXN0aW5hdGlvbj1uZXcgZyh0aGlzLHQsZSxuKX19W3BdKCl7cmV0dXJuIHRoaXN9c3RhdGljIGNyZWF0ZSh0LGUsbil7Y29uc3Qgcj1uZXcgZih0LGUsbik7cmV0dXJuIHIuc3luY0Vycm9yVGhyb3dhYmxlPSExLHJ9bmV4dCh0KXt0aGlzLmlzU3RvcHBlZHx8dGhpcy5fbmV4dCh0KX1lcnJvcih0KXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMuX2Vycm9yKHQpKX1jb21wbGV0ZSgpe3RoaXMuaXNTdG9wcGVkfHwodGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5fY29tcGxldGUoKSl9dW5zdWJzY3JpYmUoKXt0aGlzLmNsb3NlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHN1cGVyLnVuc3Vic2NyaWJlKCkpfV9uZXh0KHQpe3RoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1fZXJyb3IodCl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KSx0aGlzLnVuc3Vic2NyaWJlKCl9X2NvbXBsZXRlKCl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX1fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlKCl7Y29uc3R7X3BhcmVudE9yUGFyZW50czp0fT10aGlzO3JldHVybiB0aGlzLl9wYXJlbnRPclBhcmVudHM9bnVsbCx0aGlzLnVuc3Vic2NyaWJlKCksdGhpcy5jbG9zZWQ9ITEsdGhpcy5pc1N0b3BwZWQ9ITEsdGhpcy5fcGFyZW50T3JQYXJlbnRzPXQsdGhpc319Y2xhc3MgZyBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4scyl7bGV0IGk7c3VwZXIoKSx0aGlzLl9wYXJlbnRTdWJzY3JpYmVyPXQ7bGV0IG89dGhpcztyKGUpP2k9ZTplJiYoaT1lLm5leHQsbj1lLmVycm9yLHM9ZS5jb21wbGV0ZSxlIT09YSYmKG89T2JqZWN0LmNyZWF0ZShlKSxyKG8udW5zdWJzY3JpYmUpJiZ0aGlzLmFkZChvLnVuc3Vic2NyaWJlLmJpbmQobykpLG8udW5zdWJzY3JpYmU9dGhpcy51bnN1YnNjcmliZS5iaW5kKHRoaXMpKSksdGhpcy5fY29udGV4dD1vLHRoaXMuX25leHQ9aSx0aGlzLl9lcnJvcj1uLHRoaXMuX2NvbXBsZXRlPXN9bmV4dCh0KXtpZighdGhpcy5pc1N0b3BwZWQmJnRoaXMuX25leHQpe2NvbnN0e19wYXJlbnRTdWJzY3JpYmVyOmV9PXRoaXM7aS51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nJiZlLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9fdHJ5T3JTZXRFcnJvcihlLHRoaXMuX25leHQsdCkmJnRoaXMudW5zdWJzY3JpYmUoKTp0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9uZXh0LHQpfX1lcnJvcih0KXtpZighdGhpcy5pc1N0b3BwZWQpe2NvbnN0e19wYXJlbnRTdWJzY3JpYmVyOmV9PXRoaXMse3VzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc6bn09aTtpZih0aGlzLl9lcnJvciluJiZlLnN5bmNFcnJvclRocm93YWJsZT8odGhpcy5fX3RyeU9yU2V0RXJyb3IoZSx0aGlzLl9lcnJvcix0KSx0aGlzLnVuc3Vic2NyaWJlKCkpOih0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvcix0KSx0aGlzLnVuc3Vic2NyaWJlKCkpO2Vsc2UgaWYoZS5zeW5jRXJyb3JUaHJvd2FibGUpbj8oZS5zeW5jRXJyb3JWYWx1ZT10LGUuc3luY0Vycm9yVGhyb3duPSEwKTpvKHQpLHRoaXMudW5zdWJzY3JpYmUoKTtlbHNle2lmKHRoaXMudW5zdWJzY3JpYmUoKSxuKXRocm93IHQ7byh0KX19fWNvbXBsZXRlKCl7aWYoIXRoaXMuaXNTdG9wcGVkKXtjb25zdHtfcGFyZW50U3Vic2NyaWJlcjp0fT10aGlzO2lmKHRoaXMuX2NvbXBsZXRlKXtjb25zdCBlPSgpPT50aGlzLl9jb21wbGV0ZS5jYWxsKHRoaXMuX2NvbnRleHQpO2kudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyYmdC5zeW5jRXJyb3JUaHJvd2FibGU/KHRoaXMuX190cnlPclNldEVycm9yKHQsZSksdGhpcy51bnN1YnNjcmliZSgpKToodGhpcy5fX3RyeU9yVW5zdWIoZSksdGhpcy51bnN1YnNjcmliZSgpKX1lbHNlIHRoaXMudW5zdWJzY3JpYmUoKX19X190cnlPclVuc3ViKHQsZSl7dHJ5e3QuY2FsbCh0aGlzLl9jb250ZXh0LGUpfWNhdGNoKG4pe2lmKHRoaXMudW5zdWJzY3JpYmUoKSxpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgbjtvKG4pfX1fX3RyeU9yU2V0RXJyb3IodCxlLG4pe2lmKCFpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgbmV3IEVycm9yKCJiYWQgY2FsbCIpO3RyeXtlLmNhbGwodGhpcy5fY29udGV4dCxuKX1jYXRjaChyKXtyZXR1cm4gaS51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nPyh0LnN5bmNFcnJvclZhbHVlPXIsdC5zeW5jRXJyb3JUaHJvd249ITAsITApOihvKHIpLCEwKX1yZXR1cm4hMX1fdW5zdWJzY3JpYmUoKXtjb25zdHtfcGFyZW50U3Vic2NyaWJlcjp0fT10aGlzO3RoaXMuX2NvbnRleHQ9bnVsbCx0aGlzLl9wYXJlbnRTdWJzY3JpYmVyPW51bGwsdC51bnN1YnNjcmliZSgpfX1jb25zdCBtPSgoKT0+ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLm9ic2VydmFibGV8fCJAQG9ic2VydmFibGUiKSgpO2Z1bmN0aW9uIHkodCl7cmV0dXJuIHR9bGV0IHY9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pc1NjYWxhcj0hMSx0JiYodGhpcy5fc3Vic2NyaWJlPXQpfWxpZnQoZSl7Y29uc3Qgbj1uZXcgdDtyZXR1cm4gbi5zb3VyY2U9dGhpcyxuLm9wZXJhdG9yPWUsbn1zdWJzY3JpYmUodCxlLG4pe2NvbnN0e29wZXJhdG9yOnJ9PXRoaXMscz1mdW5jdGlvbih0LGUsbil7aWYodCl7aWYodCBpbnN0YW5jZW9mIGYpcmV0dXJuIHQ7aWYodFtwXSlyZXR1cm4gdFtwXSgpfXJldHVybiB0fHxlfHxuP25ldyBmKHQsZSxuKTpuZXcgZihhKX0odCxlLG4pO2lmKHMuYWRkKHI/ci5jYWxsKHMsdGhpcy5zb3VyY2UpOnRoaXMuc291cmNlfHxpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJiFzLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9zdWJzY3JpYmUocyk6dGhpcy5fdHJ5U3Vic2NyaWJlKHMpKSxpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJnMuc3luY0Vycm9yVGhyb3dhYmxlJiYocy5zeW5jRXJyb3JUaHJvd2FibGU9ITEscy5zeW5jRXJyb3JUaHJvd24pKXRocm93IHMuc3luY0Vycm9yVmFsdWU7cmV0dXJuIHN9X3RyeVN1YnNjcmliZSh0KXt0cnl7cmV0dXJuIHRoaXMuX3N1YnNjcmliZSh0KX1jYXRjaChlKXtpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJih0LnN5bmNFcnJvclRocm93bj0hMCx0LnN5bmNFcnJvclZhbHVlPWUpLGZ1bmN0aW9uKHQpe2Zvcig7dDspe2NvbnN0e2Nsb3NlZDplLGRlc3RpbmF0aW9uOm4saXNTdG9wcGVkOnJ9PXQ7aWYoZXx8cilyZXR1cm4hMTt0PW4mJm4gaW5zdGFuY2VvZiBmP246bnVsbH1yZXR1cm4hMH0odCk/dC5lcnJvcihlKTpjb25zb2xlLndhcm4oZSl9fWZvckVhY2godCxlKXtyZXR1cm4gbmV3KGU9YihlKSkoKGUsbik9PntsZXQgcjtyPXRoaXMuc3Vic2NyaWJlKGU9Pnt0cnl7dChlKX1jYXRjaChzKXtuKHMpLHImJnIudW5zdWJzY3JpYmUoKX19LG4sZSl9KX1fc3Vic2NyaWJlKHQpe2NvbnN0e3NvdXJjZTplfT10aGlzO3JldHVybiBlJiZlLnN1YnNjcmliZSh0KX1bbV0oKXtyZXR1cm4gdGhpc31waXBlKC4uLnQpe3JldHVybiAwPT09dC5sZW5ndGg/dGhpczooMD09PShlPXQpLmxlbmd0aD95OjE9PT1lLmxlbmd0aD9lWzBdOmZ1bmN0aW9uKHQpe3JldHVybiBlLnJlZHVjZSgodCxlKT0+ZSh0KSx0KX0pKHRoaXMpO3ZhciBlfXRvUHJvbWlzZSh0KXtyZXR1cm4gbmV3KHQ9Yih0KSkoKHQsZSk9PntsZXQgbjt0aGlzLnN1YnNjcmliZSh0PT5uPXQsdD0+ZSh0KSwoKT0+dChuKSl9KX19cmV0dXJuIHQuY3JlYXRlPWU9Pm5ldyB0KGUpLHR9KSgpO2Z1bmN0aW9uIGIodCl7aWYodHx8KHQ9aS5Qcm9taXNlfHxQcm9taXNlKSwhdCl0aHJvdyBuZXcgRXJyb3IoIm5vIFByb21pc2UgaW1wbCBmb3VuZCIpO3JldHVybiB0fWNvbnN0IHc9KCgpPT57ZnVuY3Rpb24gdCgpe3JldHVybiBFcnJvci5jYWxsKHRoaXMpLHRoaXMubWVzc2FnZT0ib2JqZWN0IHVuc3Vic2NyaWJlZCIsdGhpcy5uYW1lPSJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsdGhpc31yZXR1cm4gdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLHR9KSgpO2NsYXNzIEMgZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLnN1YmplY3Q9dCx0aGlzLnN1YnNjcmliZXI9ZSx0aGlzLmNsb3NlZD0hMX11bnN1YnNjcmliZSgpe2lmKHRoaXMuY2xvc2VkKXJldHVybjt0aGlzLmNsb3NlZD0hMDtjb25zdCB0PXRoaXMuc3ViamVjdCxlPXQub2JzZXJ2ZXJzO2lmKHRoaXMuc3ViamVjdD1udWxsLCFlfHwwPT09ZS5sZW5ndGh8fHQuaXNTdG9wcGVkfHx0LmNsb3NlZClyZXR1cm47Y29uc3Qgbj1lLmluZGV4T2YodGhpcy5zdWJzY3JpYmVyKTstMSE9PW4mJmUuc3BsaWNlKG4sMSl9fWNsYXNzIF8gZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZGVzdGluYXRpb249dH19bGV0IEQ9KCgpPT57Y2xhc3MgdCBleHRlbmRzIHZ7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMub2JzZXJ2ZXJzPVtdLHRoaXMuY2xvc2VkPSExLHRoaXMuaXNTdG9wcGVkPSExLHRoaXMuaGFzRXJyb3I9ITEsdGhpcy50aHJvd25FcnJvcj1udWxsfVtwXSgpe3JldHVybiBuZXcgXyh0aGlzKX1saWZ0KHQpe2NvbnN0IGU9bmV3IEUodGhpcyx0aGlzKTtyZXR1cm4gZS5vcGVyYXRvcj10LGV9bmV4dCh0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgdztpZighdGhpcy5pc1N0b3BwZWQpe2NvbnN0e29ic2VydmVyczplfT10aGlzLG49ZS5sZW5ndGgscj1lLnNsaWNlKCk7Zm9yKGxldCBzPTA7czxuO3MrKylyW3NdLm5leHQodCl9fWVycm9yKHQpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyB3O3RoaXMuaGFzRXJyb3I9ITAsdGhpcy50aHJvd25FcnJvcj10LHRoaXMuaXNTdG9wcGVkPSEwO2NvbnN0e29ic2VydmVyczplfT10aGlzLG49ZS5sZW5ndGgscj1lLnNsaWNlKCk7Zm9yKGxldCBzPTA7czxuO3MrKylyW3NdLmVycm9yKHQpO3RoaXMub2JzZXJ2ZXJzLmxlbmd0aD0wfWNvbXBsZXRlKCl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IHc7dGhpcy5pc1N0b3BwZWQ9ITA7Y29uc3R7b2JzZXJ2ZXJzOnR9PXRoaXMsZT10Lmxlbmd0aCxuPXQuc2xpY2UoKTtmb3IobGV0IHI9MDtyPGU7cisrKW5bcl0uY29tcGxldGUoKTt0aGlzLm9ic2VydmVycy5sZW5ndGg9MH11bnN1YnNjcmliZSgpe3RoaXMuaXNTdG9wcGVkPSEwLHRoaXMuY2xvc2VkPSEwLHRoaXMub2JzZXJ2ZXJzPW51bGx9X3RyeVN1YnNjcmliZSh0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgdztyZXR1cm4gc3VwZXIuX3RyeVN1YnNjcmliZSh0KX1fc3Vic2NyaWJlKHQpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyB3O3JldHVybiB0aGlzLmhhc0Vycm9yPyh0LmVycm9yKHRoaXMudGhyb3duRXJyb3IpLGguRU1QVFkpOnRoaXMuaXNTdG9wcGVkPyh0LmNvbXBsZXRlKCksaC5FTVBUWSk6KHRoaXMub2JzZXJ2ZXJzLnB1c2godCksbmV3IEModGhpcyx0KSl9YXNPYnNlcnZhYmxlKCl7Y29uc3QgdD1uZXcgdjtyZXR1cm4gdC5zb3VyY2U9dGhpcyx0fX1yZXR1cm4gdC5jcmVhdGU9KHQsZSk9Pm5ldyBFKHQsZSksdH0pKCk7Y2xhc3MgRSBleHRlbmRzIER7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMuZGVzdGluYXRpb249dCx0aGlzLnNvdXJjZT1lfW5leHQodCl7Y29uc3R7ZGVzdGluYXRpb246ZX09dGhpcztlJiZlLm5leHQmJmUubmV4dCh0KX1lcnJvcih0KXtjb25zdHtkZXN0aW5hdGlvbjplfT10aGlzO2UmJmUuZXJyb3ImJnRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9Y29tcGxldGUoKXtjb25zdHtkZXN0aW5hdGlvbjp0fT10aGlzO3QmJnQuY29tcGxldGUmJnRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX1fc3Vic2NyaWJlKHQpe2NvbnN0e3NvdXJjZTplfT10aGlzO3JldHVybiBlP3RoaXMuc291cmNlLnN1YnNjcmliZSh0KTpoLkVNUFRZfX1mdW5jdGlvbiBTKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5zY2hlZHVsZX1mdW5jdGlvbiB4KHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoImFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLiBBcmUgeW91IGxvb2tpbmcgZm9yIGBtYXBUbygpYD8iKTtyZXR1cm4gbi5saWZ0KG5ldyBBKHQsZSkpfX1jbGFzcyBBe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5wcm9qZWN0PXQsdGhpcy50aGlzQXJnPWV9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgVCh0LHRoaXMucHJvamVjdCx0aGlzLnRoaXNBcmcpKX19Y2xhc3MgVCBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQpLHRoaXMucHJvamVjdD1lLHRoaXMuY291bnQ9MCx0aGlzLnRoaXNBcmc9bnx8dGhpc31fbmV4dCh0KXtsZXQgZTt0cnl7ZT10aGlzLnByb2plY3QuY2FsbCh0aGlzLnRoaXNBcmcsdCx0aGlzLmNvdW50KyspfWNhdGNoKG4pe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iobil9dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpfX1jb25zdCBPPXQ9PmU9Pntmb3IobGV0IG49MCxyPXQubGVuZ3RoO248ciYmIWUuY2xvc2VkO24rKyllLm5leHQodFtuXSk7ZS5jb21wbGV0ZSgpfTtmdW5jdGlvbiBGKCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yP1N5bWJvbC5pdGVyYXRvcjoiQEBpdGVyYXRvciJ9Y29uc3Qgaz1GKCksST10PT50JiYibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoJiYiZnVuY3Rpb24iIT10eXBlb2YgdDtmdW5jdGlvbiBSKHQpe3JldHVybiEhdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQuc3Vic2NyaWJlJiYiZnVuY3Rpb24iPT10eXBlb2YgdC50aGVufWNvbnN0IFA9dD0+e2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W21dKXJldHVybiBuPXQsdD0+e2NvbnN0IGU9blttXSgpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlLnN1YnNjcmliZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZSIpO3JldHVybiBlLnN1YnNjcmliZSh0KX07aWYoSSh0KSlyZXR1cm4gTyh0KTtpZihSKHQpKXJldHVybih0PT5lPT4odC50aGVuKHQ9PntlLmNsb3NlZHx8KGUubmV4dCh0KSxlLmNvbXBsZXRlKCkpfSx0PT5lLmVycm9yKHQpKS50aGVuKG51bGwsbyksZSkpKHQpO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W2tdKXJldHVybiBlPXQsdD0+e2NvbnN0IG49ZVtrXSgpO2Zvcig7Oyl7bGV0IGU7dHJ5e2U9bi5uZXh0KCl9Y2F0Y2gocil7cmV0dXJuIHQuZXJyb3IociksdH1pZihlLmRvbmUpe3QuY29tcGxldGUoKTticmVha31pZih0Lm5leHQoZS52YWx1ZSksdC5jbG9zZWQpYnJlYWt9cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG4ucmV0dXJuJiZ0LmFkZCgoKT0+e24ucmV0dXJuJiZuLnJldHVybigpfSksdH07e2NvbnN0IGU9dSh0KT8iYW4gaW52YWxpZCBvYmplY3QiOmAnJHt0fSdgO3Rocm93IG5ldyBUeXBlRXJyb3IoYFlvdSBwcm92aWRlZCAke2V9IHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIEFycmF5LCBvciBJdGVyYWJsZS5gKX12YXIgZSxufTtmdW5jdGlvbiBMKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPW5ldyBoO2xldCBzPTA7cmV0dXJuIHIuYWRkKGUuc2NoZWR1bGUoZnVuY3Rpb24oKXtzIT09dC5sZW5ndGg/KG4ubmV4dCh0W3MrK10pLG4uY2xvc2VkfHxyLmFkZCh0aGlzLnNjaGVkdWxlKCkpKTpuLmNvbXBsZXRlKCl9KSkscn0pfWZ1bmN0aW9uIE4odCxlKXtyZXR1cm4gZT9mdW5jdGlvbih0LGUpe2lmKG51bGwhPXQpe2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdFttXX0odCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPW5ldyBoO3JldHVybiByLmFkZChlLnNjaGVkdWxlKCgpPT57Y29uc3Qgcz10W21dKCk7ci5hZGQocy5zdWJzY3JpYmUoe25leHQodCl7ci5hZGQoZS5zY2hlZHVsZSgoKT0+bi5uZXh0KHQpKSl9LGVycm9yKHQpe3IuYWRkKGUuc2NoZWR1bGUoKCk9Pm4uZXJyb3IodCkpKX0sY29tcGxldGUoKXtyLmFkZChlLnNjaGVkdWxlKCgpPT5uLmNvbXBsZXRlKCkpKX19KSl9KSkscn0pfSh0LGUpO2lmKFIodCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPW5ldyBoO3JldHVybiByLmFkZChlLnNjaGVkdWxlKCgpPT50LnRoZW4odD0+e3IuYWRkKGUuc2NoZWR1bGUoKCk9PntuLm5leHQodCksci5hZGQoZS5zY2hlZHVsZSgoKT0+bi5jb21wbGV0ZSgpKSl9KSl9LHQ9PntyLmFkZChlLnNjaGVkdWxlKCgpPT5uLmVycm9yKHQpKSl9KSkpLHJ9KX0odCxlKTtpZihJKHQpKXJldHVybiBMKHQsZSk7aWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W2tdfSh0KXx8InN0cmluZyI9PXR5cGVvZiB0KXJldHVybiBmdW5jdGlvbih0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcigiSXRlcmFibGUgY2Fubm90IGJlIG51bGwiKTtyZXR1cm4gbmV3IHYobj0+e2NvbnN0IHI9bmV3IGg7bGV0IHM7cmV0dXJuIHIuYWRkKCgpPT57cyYmImZ1bmN0aW9uIj09dHlwZW9mIHMucmV0dXJuJiZzLnJldHVybigpfSksci5hZGQoZS5zY2hlZHVsZSgoKT0+e3M9dFtrXSgpLHIuYWRkKGUuc2NoZWR1bGUoZnVuY3Rpb24oKXtpZihuLmNsb3NlZClyZXR1cm47bGV0IHQsZTt0cnl7Y29uc3Qgbj1zLm5leHQoKTt0PW4udmFsdWUsZT1uLmRvbmV9Y2F0Y2gocil7cmV0dXJuIHZvaWQgbi5lcnJvcihyKX1lP24uY29tcGxldGUoKToobi5uZXh0KHQpLHRoaXMuc2NoZWR1bGUoKSl9KSl9KSkscn0pfSh0LGUpfXRocm93IG5ldyBUeXBlRXJyb3IoKG51bGwhPT10JiZ0eXBlb2YgdHx8dCkrIiBpcyBub3Qgb2JzZXJ2YWJsZSIpfSh0LGUpOnQgaW5zdGFuY2VvZiB2P3Q6bmV3IHYoUCh0KSl9Y2xhc3MgaiBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnBhcmVudD10fV9uZXh0KHQpe3RoaXMucGFyZW50Lm5vdGlmeU5leHQodCl9X2Vycm9yKHQpe3RoaXMucGFyZW50Lm5vdGlmeUVycm9yKHQpLHRoaXMudW5zdWJzY3JpYmUoKX1fY29tcGxldGUoKXt0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX19Y2xhc3MgTSBleHRlbmRzIGZ7bm90aWZ5TmV4dCh0KXt0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9bm90aWZ5RXJyb3IodCl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX1ub3RpZnlDb21wbGV0ZSgpe3RoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX19ZnVuY3Rpb24gVih0LGUpe2lmKGUuY2xvc2VkKXJldHVybjtpZih0IGluc3RhbmNlb2YgdilyZXR1cm4gdC5zdWJzY3JpYmUoZSk7bGV0IG47dHJ5e249UCh0KShlKX1jYXRjaChyKXtlLmVycm9yKHIpfXJldHVybiBufWZ1bmN0aW9uIEIodCxlLG49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9yPT5yLnBpcGUoQigobixyKT0+Tih0KG4scikpLnBpcGUoeCgodCxzKT0+ZShuLHQscixzKSkpLG4pKTooIm51bWJlciI9PXR5cGVvZiBlJiYobj1lKSxlPT5lLmxpZnQobmV3IEgodCxuKSkpfWNsYXNzIEh7Y29uc3RydWN0b3IodCxlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSl7dGhpcy5wcm9qZWN0PXQsdGhpcy5jb25jdXJyZW50PWV9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgVSh0LHRoaXMucHJvamVjdCx0aGlzLmNvbmN1cnJlbnQpKX19Y2xhc3MgVSBleHRlbmRzIE17Y29uc3RydWN0b3IodCxlLG49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXtzdXBlcih0KSx0aGlzLnByb2plY3Q9ZSx0aGlzLmNvbmN1cnJlbnQ9bix0aGlzLmhhc0NvbXBsZXRlZD0hMSx0aGlzLmJ1ZmZlcj1bXSx0aGlzLmFjdGl2ZT0wLHRoaXMuaW5kZXg9MH1fbmV4dCh0KXt0aGlzLmFjdGl2ZTx0aGlzLmNvbmN1cnJlbnQ/dGhpcy5fdHJ5TmV4dCh0KTp0aGlzLmJ1ZmZlci5wdXNoKHQpfV90cnlOZXh0KHQpe2xldCBlO2NvbnN0IG49dGhpcy5pbmRleCsrO3RyeXtlPXRoaXMucHJvamVjdCh0LG4pfWNhdGNoKHIpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iocil9dGhpcy5hY3RpdmUrKyx0aGlzLl9pbm5lclN1YihlKX1faW5uZXJTdWIodCl7Y29uc3QgZT1uZXcgaih0aGlzKSxuPXRoaXMuZGVzdGluYXRpb247bi5hZGQoZSk7Y29uc3Qgcj1WKHQsZSk7ciE9PWUmJm4uYWRkKHIpfV9jb21wbGV0ZSgpe3RoaXMuaGFzQ29tcGxldGVkPSEwLDA9PT10aGlzLmFjdGl2ZSYmMD09PXRoaXMuYnVmZmVyLmxlbmd0aCYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX1ub3RpZnlOZXh0KHQpe3RoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1ub3RpZnlDb21wbGV0ZSgpe2NvbnN0IHQ9dGhpcy5idWZmZXI7dGhpcy5hY3RpdmUtLSx0Lmxlbmd0aD4wP3RoaXMuX25leHQodC5zaGlmdCgpKTowPT09dGhpcy5hY3RpdmUmJnRoaXMuaGFzQ29tcGxldGVkJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9fWZ1bmN0aW9uICQodD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpe3JldHVybiBCKHksdCl9ZnVuY3Rpb24geih0LGUpe3JldHVybiBlP0wodCxlKTpuZXcgdihPKHQpKX1mdW5jdGlvbiBxKC4uLnQpe2xldCBlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxuPW51bGwscj10W3QubGVuZ3RoLTFdO3JldHVybiBTKHIpPyhuPXQucG9wKCksdC5sZW5ndGg+MSYmIm51bWJlciI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdJiYoZT10LnBvcCgpKSk6Im51bWJlciI9PXR5cGVvZiByJiYoZT10LnBvcCgpKSxudWxsPT09biYmMT09PXQubGVuZ3RoJiZ0WzBdaW5zdGFuY2VvZiB2P3RbMF06JChlKSh6KHQsbikpfWZ1bmN0aW9uIFcoKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQubGlmdChuZXcgRyh0KSl9fWNsYXNzIEd7Y29uc3RydWN0b3IodCl7dGhpcy5jb25uZWN0YWJsZT10fWNhbGwodCxlKXtjb25zdHtjb25uZWN0YWJsZTpufT10aGlzO24uX3JlZkNvdW50Kys7Y29uc3Qgcj1uZXcgWih0LG4pLHM9ZS5zdWJzY3JpYmUocik7cmV0dXJuIHIuY2xvc2VkfHwoci5jb25uZWN0aW9uPW4uY29ubmVjdCgpKSxzfX1jbGFzcyBaIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuY29ubmVjdGFibGU9ZX1fdW5zdWJzY3JpYmUoKXtjb25zdHtjb25uZWN0YWJsZTp0fT10aGlzO2lmKCF0KXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTt0aGlzLmNvbm5lY3RhYmxlPW51bGw7Y29uc3QgZT10Ll9yZWZDb3VudDtpZihlPD0wKXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTtpZih0Ll9yZWZDb3VudD1lLTEsZT4xKXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTtjb25zdHtjb25uZWN0aW9uOm59PXRoaXMscj10Ll9jb25uZWN0aW9uO3RoaXMuY29ubmVjdGlvbj1udWxsLCFyfHxuJiZyIT09bnx8ci51bnN1YnNjcmliZSgpfX1jbGFzcyBZIGV4dGVuZHMgdntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5zb3VyY2U9dCx0aGlzLnN1YmplY3RGYWN0b3J5PWUsdGhpcy5fcmVmQ291bnQ9MCx0aGlzLl9pc0NvbXBsZXRlPSExfV9zdWJzY3JpYmUodCl7cmV0dXJuIHRoaXMuZ2V0U3ViamVjdCgpLnN1YnNjcmliZSh0KX1nZXRTdWJqZWN0KCl7Y29uc3QgdD10aGlzLl9zdWJqZWN0O3JldHVybiB0JiYhdC5pc1N0b3BwZWR8fCh0aGlzLl9zdWJqZWN0PXRoaXMuc3ViamVjdEZhY3RvcnkoKSksdGhpcy5fc3ViamVjdH1jb25uZWN0KCl7bGV0IHQ9dGhpcy5fY29ubmVjdGlvbjtyZXR1cm4gdHx8KHRoaXMuX2lzQ29tcGxldGU9ITEsdD10aGlzLl9jb25uZWN0aW9uPW5ldyBoLHQuYWRkKHRoaXMuc291cmNlLnN1YnNjcmliZShuZXcgUSh0aGlzLmdldFN1YmplY3QoKSx0aGlzKSkpLHQuY2xvc2VkJiYodGhpcy5fY29ubmVjdGlvbj1udWxsLHQ9aC5FTVBUWSkpLHR9cmVmQ291bnQoKXtyZXR1cm4gVygpKHRoaXMpfX1jb25zdCBLPSgoKT0+e2NvbnN0IHQ9WS5wcm90b3R5cGU7cmV0dXJue29wZXJhdG9yOnt2YWx1ZTpudWxsfSxfcmVmQ291bnQ6e3ZhbHVlOjAsd3JpdGFibGU6ITB9LF9zdWJqZWN0Ont2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSxfY29ubmVjdGlvbjp7dmFsdWU6bnVsbCx3cml0YWJsZTohMH0sX3N1YnNjcmliZTp7dmFsdWU6dC5fc3Vic2NyaWJlfSxfaXNDb21wbGV0ZTp7dmFsdWU6dC5faXNDb21wbGV0ZSx3cml0YWJsZTohMH0sZ2V0U3ViamVjdDp7dmFsdWU6dC5nZXRTdWJqZWN0fSxjb25uZWN0Ont2YWx1ZTp0LmNvbm5lY3R9LHJlZkNvdW50Ont2YWx1ZTp0LnJlZkNvdW50fX19KSgpO2NsYXNzIFEgZXh0ZW5kcyBfe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5jb25uZWN0YWJsZT1lfV9lcnJvcih0KXt0aGlzLl91bnN1YnNjcmliZSgpLHN1cGVyLl9lcnJvcih0KX1fY29tcGxldGUoKXt0aGlzLmNvbm5lY3RhYmxlLl9pc0NvbXBsZXRlPSEwLHRoaXMuX3Vuc3Vic2NyaWJlKCksc3VwZXIuX2NvbXBsZXRlKCl9X3Vuc3Vic2NyaWJlKCl7Y29uc3QgdD10aGlzLmNvbm5lY3RhYmxlO2lmKHQpe3RoaXMuY29ubmVjdGFibGU9bnVsbDtjb25zdCBlPXQuX2Nvbm5lY3Rpb247dC5fcmVmQ291bnQ9MCx0Ll9zdWJqZWN0PW51bGwsdC5fY29ubmVjdGlvbj1udWxsLGUmJmUudW5zdWJzY3JpYmUoKX19fWZ1bmN0aW9uIFgoKXtyZXR1cm4gbmV3IER9ZnVuY3Rpb24gSih0KXtmb3IobGV0IGUgaW4gdClpZih0W2VdPT09SilyZXR1cm4gZTt0aHJvdyBFcnJvcigiQ291bGQgbm90IGZpbmQgcmVuYW1lZCBwcm9wZXJ0eSBvbiB0YXJnZXQgb2JqZWN0LiIpfWZ1bmN0aW9uIHR0KHQsZSl7Zm9yKGNvbnN0IG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYhdC5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9ZnVuY3Rpb24gZXQodCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIlsiK3QubWFwKGV0KS5qb2luKCIsICIpKyJdIjtpZihudWxsPT10KXJldHVybiIiK3Q7aWYodC5vdmVycmlkZGVuTmFtZSlyZXR1cm5gJHt0Lm92ZXJyaWRkZW5OYW1lfWA7aWYodC5uYW1lKXJldHVybmAke3QubmFtZX1gO2NvbnN0IGU9dC50b1N0cmluZygpO2lmKG51bGw9PWUpcmV0dXJuIiIrZTtjb25zdCBuPWUuaW5kZXhPZigiXG4iKTtyZXR1cm4tMT09PW4/ZTplLnN1YnN0cmluZygwLG4pfWZ1bmN0aW9uIG50KHQsZSl7cmV0dXJuIG51bGw9PXR8fCIiPT09dD9udWxsPT09ZT8iIjplOm51bGw9PWV8fCIiPT09ZT90OnQrIiAiK2V9Y29uc3QgcnQ9Sih7X19mb3J3YXJkX3JlZl9fOkp9KTtmdW5jdGlvbiBzdCh0KXtyZXR1cm4gdC5fX2ZvcndhcmRfcmVmX189c3QsdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBldCh0aGlzKCkpfSx0fWZ1bmN0aW9uIGl0KHQpe3JldHVybiBvdCh0KT90KCk6dH1mdW5jdGlvbiBvdCh0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdCYmdC5oYXNPd25Qcm9wZXJ0eShydCkmJnQuX19mb3J3YXJkX3JlZl9fPT09c3R9Y2xhc3MgYXQgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGZ1bmN0aW9uKHQsZSl7cmV0dXJuYCR7dD9gTkcwJHt0fTogYDoiIn0ke2V9YH0odCxlKSksdGhpcy5jb2RlPXR9fWZ1bmN0aW9uIGx0KHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90Om51bGw9PXQ/IiI6U3RyaW5nKHQpfWZ1bmN0aW9uIHV0KHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0P3QubmFtZXx8dC50b1N0cmluZygpOiJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9dCYmImZ1bmN0aW9uIj09dHlwZW9mIHQudHlwZT90LnR5cGUubmFtZXx8dC50eXBlLnRvU3RyaW5nKCk6bHQodCl9ZnVuY3Rpb24gY3QodCxlKXtjb25zdCBuPWU/YCBpbiAke2V9YDoiIjt0aHJvdyBuZXcgYXQoIjIwMSIsYE5vIHByb3ZpZGVyIGZvciAke3V0KHQpfSBmb3VuZCR7bn1gKX1mdW5jdGlvbiBodCh0KXtyZXR1cm57dG9rZW46dC50b2tlbixwcm92aWRlZEluOnQucHJvdmlkZWRJbnx8bnVsbCxmYWN0b3J5OnQuZmFjdG9yeSx2YWx1ZTp2b2lkIDB9fWZ1bmN0aW9uIGR0KHQpe3JldHVybntwcm92aWRlcnM6dC5wcm92aWRlcnN8fFtdLGltcG9ydHM6dC5pbXBvcnRzfHxbXX19ZnVuY3Rpb24gcHQodCl7cmV0dXJuIGZ0KHQsbXQpfHxmdCh0LHZ0KX1mdW5jdGlvbiBmdCh0LGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpP3RbZV06bnVsbH1mdW5jdGlvbiBndCh0KXtyZXR1cm4gdCYmKHQuaGFzT3duUHJvcGVydHkoeXQpfHx0Lmhhc093blByb3BlcnR5KGJ0KSk/dFt5dF06bnVsbH1jb25zdCBtdD1KKHsiXHUwMjc1cHJvdiI6Sn0pLHl0PUooeyJcdTAyNzVpbmoiOkp9KSx2dD1KKHtuZ0luamVjdGFibGVEZWY6Sn0pLGJ0PUooe25nSW5qZWN0b3JEZWY6Sn0pO3ZhciB3dD1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkRlZmF1bHQ9MF09IkRlZmF1bHQiLHRbdC5Ib3N0PTFdPSJIb3N0Iix0W3QuU2VsZj0yXT0iU2VsZiIsdFt0LlNraXBTZWxmPTRdPSJTa2lwU2VsZiIsdFt0Lk9wdGlvbmFsPThdPSJPcHRpb25hbCIsdH0oe30pO2xldCBDdDtmdW5jdGlvbiBfdCh0KXtjb25zdCBlPUN0O3JldHVybiBDdD10LGV9ZnVuY3Rpb24gRHQodCxlLG4pe2NvbnN0IHI9cHQodCk7cmV0dXJuIHImJiJyb290Ij09ci5wcm92aWRlZEluP3ZvaWQgMD09PXIudmFsdWU/ci52YWx1ZT1yLmZhY3RvcnkoKTpyLnZhbHVlOm4md3QuT3B0aW9uYWw/bnVsbDp2b2lkIDAhPT1lP2U6dm9pZCBjdChldCh0KSwiSW5qZWN0b3IiKX1mdW5jdGlvbiBFdCh0KXtyZXR1cm57dG9TdHJpbmc6dH0udG9TdHJpbmcoKX12YXIgU3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5PblB1c2g9MF09Ik9uUHVzaCIsdFt0LkRlZmF1bHQ9MV09IkRlZmF1bHQiLHR9KHt9KSx4dD1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkVtdWxhdGVkPTBdPSJFbXVsYXRlZCIsdFt0Lk5vbmU9Ml09Ik5vbmUiLHRbdC5TaGFkb3dEb209M109IlNoYWRvd0RvbSIsdH0oe30pO2NvbnN0IEF0PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyxUdD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LE90PSJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmInVuZGVmaW5lZCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZzZWxmLEZ0PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwsa3Q9QXR8fEZ0fHxUdHx8T3QsSXQ9e30sUnQ9W10sUHQ9Sih7Ilx1MDI3NWNtcCI6Sn0pLEx0PUooeyJcdTAyNzVkaXIiOkp9KSxOdD1KKHsiXHUwMjc1cGlwZSI6Sn0pLGp0PUooeyJcdTAyNzVtb2QiOkp9KSxNdD1KKHsiXHUwMjc1bG9jIjpKfSksVnQ9Sih7Ilx1MDI3NWZhYyI6Sn0pLEJ0PUooe19fTkdfRUxFTUVOVF9JRF9fOkp9KTtsZXQgSHQ9MDtmdW5jdGlvbiBVdCh0KXtyZXR1cm4gRXQoKCk9Pntjb25zdCBlPXt9LG49e3R5cGU6dC50eXBlLHByb3ZpZGVyc1Jlc29sdmVyOm51bGwsZGVjbHM6dC5kZWNscyx2YXJzOnQudmFycyxmYWN0b3J5Om51bGwsdGVtcGxhdGU6dC50ZW1wbGF0ZXx8bnVsbCxjb25zdHM6dC5jb25zdHN8fG51bGwsbmdDb250ZW50U2VsZWN0b3JzOnQubmdDb250ZW50U2VsZWN0b3JzLGhvc3RCaW5kaW5nczp0Lmhvc3RCaW5kaW5nc3x8bnVsbCxob3N0VmFyczp0Lmhvc3RWYXJzfHwwLGhvc3RBdHRyczp0Lmhvc3RBdHRyc3x8bnVsbCxjb250ZW50UXVlcmllczp0LmNvbnRlbnRRdWVyaWVzfHxudWxsLGRlY2xhcmVkSW5wdXRzOmUsaW5wdXRzOm51bGwsb3V0cHV0czpudWxsLGV4cG9ydEFzOnQuZXhwb3J0QXN8fG51bGwsb25QdXNoOnQuY2hhbmdlRGV0ZWN0aW9uPT09U3QuT25QdXNoLGRpcmVjdGl2ZURlZnM6bnVsbCxwaXBlRGVmczpudWxsLHNlbGVjdG9yczp0LnNlbGVjdG9yc3x8UnQsdmlld1F1ZXJ5OnQudmlld1F1ZXJ5fHxudWxsLGZlYXR1cmVzOnQuZmVhdHVyZXN8fG51bGwsZGF0YTp0LmRhdGF8fHt9LGVuY2Fwc3VsYXRpb246dC5lbmNhcHN1bGF0aW9ufHx4dC5FbXVsYXRlZCxpZDoiYyIsc3R5bGVzOnQuc3R5bGVzfHxSdCxfOm51bGwsc2V0SW5wdXQ6bnVsbCxzY2hlbWFzOnQuc2NoZW1hc3x8bnVsbCx0VmlldzpudWxsfSxyPXQuZGlyZWN0aXZlcyxzPXQuZmVhdHVyZXMsaT10LnBpcGVzO3JldHVybiBuLmlkKz1IdCsrLG4uaW5wdXRzPUd0KHQuaW5wdXRzLGUpLG4ub3V0cHV0cz1HdCh0Lm91dHB1dHMpLHMmJnMuZm9yRWFjaCh0PT50KG4pKSxuLmRpcmVjdGl2ZURlZnM9cj8oKT0+KCJmdW5jdGlvbiI9PXR5cGVvZiByP3IoKTpyKS5tYXAoJHQpOm51bGwsbi5waXBlRGVmcz1pPygpPT4oImZ1bmN0aW9uIj09dHlwZW9mIGk/aSgpOmkpLm1hcCh6dCk6bnVsbCxufSl9ZnVuY3Rpb24gJHQodCl7cmV0dXJuIEt0KHQpfHxmdW5jdGlvbih0KXtyZXR1cm4gdFtMdF18fG51bGx9KHQpfWZ1bmN0aW9uIHp0KHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdFtOdF18fG51bGx9KHQpfWNvbnN0IHF0PXt9O2Z1bmN0aW9uIFd0KHQpe3JldHVybiBFdCgoKT0+e2NvbnN0IGU9e3R5cGU6dC50eXBlLGJvb3RzdHJhcDp0LmJvb3RzdHJhcHx8UnQsZGVjbGFyYXRpb25zOnQuZGVjbGFyYXRpb25zfHxSdCxpbXBvcnRzOnQuaW1wb3J0c3x8UnQsZXhwb3J0czp0LmV4cG9ydHN8fFJ0LHRyYW5zaXRpdmVDb21waWxlU2NvcGVzOm51bGwsc2NoZW1hczp0LnNjaGVtYXN8fG51bGwsaWQ6dC5pZHx8bnVsbH07cmV0dXJuIG51bGwhPXQuaWQmJihxdFt0LmlkXT10LnR5cGUpLGV9KX1mdW5jdGlvbiBHdCh0LGUpe2lmKG51bGw9PXQpcmV0dXJuIEl0O2NvbnN0IG49e307Zm9yKGNvbnN0IHIgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHIpKXtsZXQgcz10W3JdLGk9cztBcnJheS5pc0FycmF5KHMpJiYoaT1zWzFdLHM9c1swXSksbltzXT1yLGUmJihlW3NdPWkpfXJldHVybiBufWNvbnN0IFp0PVV0O2Z1bmN0aW9uIFl0KHQpe3JldHVybnt0eXBlOnQudHlwZSxuYW1lOnQubmFtZSxmYWN0b3J5Om51bGwscHVyZTohMSE9PXQucHVyZSxvbkRlc3Ryb3k6dC50eXBlLnByb3RvdHlwZS5uZ09uRGVzdHJveXx8bnVsbH19ZnVuY3Rpb24gS3QodCl7cmV0dXJuIHRbUHRdfHxudWxsfWZ1bmN0aW9uIFF0KHQsZSl7Y29uc3Qgbj10W2p0XXx8bnVsbDtpZighbiYmITA9PT1lKXRocm93IG5ldyBFcnJvcihgVHlwZSAke2V0KHQpfSBkb2VzIG5vdCBoYXZlICdcdTAyNzVtb2QnIHByb3BlcnR5LmApO3JldHVybiBufWNvbnN0IFh0PTIwLEp0PTEwO2Z1bmN0aW9uIHRlKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpJiYib2JqZWN0Ij09dHlwZW9mIHRbMV19ZnVuY3Rpb24gZWUodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJiEwPT09dFsxXX1mdW5jdGlvbiBuZSh0KXtyZXR1cm4gMCE9KDgmdC5mbGFncyl9ZnVuY3Rpb24gcmUodCl7cmV0dXJuIDI9PSgyJnQuZmxhZ3MpfWZ1bmN0aW9uIHNlKHQpe3JldHVybiAxPT0oMSZ0LmZsYWdzKX1mdW5jdGlvbiBpZSh0KXtyZXR1cm4gbnVsbCE9PXQudGVtcGxhdGV9ZnVuY3Rpb24gb2UodCxlKXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShWdCk/dFtWdF06bnVsbH1jbGFzcyBhZXtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5wcmV2aW91c1ZhbHVlPXQsdGhpcy5jdXJyZW50VmFsdWU9ZSx0aGlzLmZpcnN0Q2hhbmdlPW59aXNGaXJzdENoYW5nZSgpe3JldHVybiB0aGlzLmZpcnN0Q2hhbmdlfX1mdW5jdGlvbiBsZSgpe3JldHVybiB1ZX1mdW5jdGlvbiB1ZSh0KXtyZXR1cm4gdC50eXBlLnByb3RvdHlwZS5uZ09uQ2hhbmdlcyYmKHQuc2V0SW5wdXQ9aGUpLGNlfWZ1bmN0aW9uIGNlKCl7Y29uc3QgdD1kZSh0aGlzKSxlPW51bGw9PXQ/dm9pZCAwOnQuY3VycmVudDtpZihlKXtjb25zdCBuPXQucHJldmlvdXM7aWYobj09PUl0KXQucHJldmlvdXM9ZTtlbHNlIGZvcihsZXQgdCBpbiBlKW5bdF09ZVt0XTt0LmN1cnJlbnQ9bnVsbCx0aGlzLm5nT25DaGFuZ2VzKGUpfX1mdW5jdGlvbiBoZSh0LGUsbixyKXtjb25zdCBzPWRlKHQpfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fbmdTaW1wbGVDaGFuZ2VzX189ZX0odCx7cHJldmlvdXM6SXQsY3VycmVudDpudWxsfSksaT1zLmN1cnJlbnR8fChzLmN1cnJlbnQ9e30pLG89cy5wcmV2aW91cyxhPXRoaXMuZGVjbGFyZWRJbnB1dHNbbl0sbD1vW2FdO2lbYV09bmV3IGFlKGwmJmwuY3VycmVudFZhbHVlLGUsbz09PUl0KSx0W3JdPWV9ZnVuY3Rpb24gZGUodCl7cmV0dXJuIHQuX19uZ1NpbXBsZUNoYW5nZXNfX3x8bnVsbH1sZXQgcGU7ZnVuY3Rpb24gZmUoKXtyZXR1cm4gdm9pZCAwIT09cGU/cGU6InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudDp2b2lkIDB9ZnVuY3Rpb24gZ2UodCl7cmV0dXJuISF0Lmxpc3Rlbn1sZS5uZ0luaGVyaXQ9ITA7Y29uc3QgbWU9e2NyZWF0ZVJlbmRlcmVyOih0LGUpPT5mZSgpfTtmdW5jdGlvbiB5ZSh0KXtmb3IoO0FycmF5LmlzQXJyYXkodCk7KXQ9dFswXTtyZXR1cm4gdH1mdW5jdGlvbiB2ZSh0LGUpe3JldHVybiB5ZShlW3RdKX1mdW5jdGlvbiBiZSh0LGUpe3JldHVybiB5ZShlW3QuaW5kZXhdKX1mdW5jdGlvbiB3ZSh0LGUpe3JldHVybiB0LmRhdGFbZV19ZnVuY3Rpb24gQ2UodCxlKXtjb25zdCBuPWVbdF07cmV0dXJuIHRlKG4pP246blswXX1mdW5jdGlvbiBfZSh0KXtyZXR1cm4gND09KDQmdFsyXSl9ZnVuY3Rpb24gRGUodCl7cmV0dXJuIDEyOD09KDEyOCZ0WzJdKX1mdW5jdGlvbiBFZSh0LGUpe3JldHVybiBudWxsPT1lP251bGw6dFtlXX1mdW5jdGlvbiBTZSh0KXt0WzE4XT0wfWZ1bmN0aW9uIHhlKHQsZSl7dFs1XSs9ZTtsZXQgbj10LHI9dFszXTtmb3IoO251bGwhPT1yJiYoMT09PWUmJjE9PT1uWzVdfHwtMT09PWUmJjA9PT1uWzVdKTspcls1XSs9ZSxuPXIscj1yWzNdfWNvbnN0IEFlPXtsRnJhbWU6S2UobnVsbCksYmluZGluZ3NFbmFibGVkOiEwLGlzSW5DaGVja05vQ2hhbmdlc01vZGU6ITF9O2Z1bmN0aW9uIFRlKCl7cmV0dXJuIEFlLmJpbmRpbmdzRW5hYmxlZH1mdW5jdGlvbiBPZSgpe3JldHVybiBBZS5sRnJhbWUubFZpZXd9ZnVuY3Rpb24gRmUoKXtyZXR1cm4gQWUubEZyYW1lLnRWaWV3fWZ1bmN0aW9uIGtlKHQpe3JldHVybiBBZS5sRnJhbWUuY29udGV4dExWaWV3PXQsdFs4XX1mdW5jdGlvbiBJZSgpe2xldCB0PVJlKCk7Zm9yKDtudWxsIT09dCYmNjQ9PT10LnR5cGU7KXQ9dC5wYXJlbnQ7cmV0dXJuIHR9ZnVuY3Rpb24gUmUoKXtyZXR1cm4gQWUubEZyYW1lLmN1cnJlbnRUTm9kZX1mdW5jdGlvbiBQZSh0LGUpe2NvbnN0IG49QWUubEZyYW1lO24uY3VycmVudFROb2RlPXQsbi5pc1BhcmVudD1lfWZ1bmN0aW9uIExlKCl7cmV0dXJuIEFlLmxGcmFtZS5pc1BhcmVudH1mdW5jdGlvbiBOZSgpe0FlLmxGcmFtZS5pc1BhcmVudD0hMX1mdW5jdGlvbiBqZSgpe3JldHVybiBBZS5pc0luQ2hlY2tOb0NoYW5nZXNNb2RlfWZ1bmN0aW9uIE1lKHQpe0FlLmlzSW5DaGVja05vQ2hhbmdlc01vZGU9dH1mdW5jdGlvbiBWZSgpe2NvbnN0IHQ9QWUubEZyYW1lO2xldCBlPXQuYmluZGluZ1Jvb3RJbmRleDtyZXR1cm4tMT09PWUmJihlPXQuYmluZGluZ1Jvb3RJbmRleD10LnRWaWV3LmJpbmRpbmdTdGFydEluZGV4KSxlfWZ1bmN0aW9uIEJlKCl7cmV0dXJuIEFlLmxGcmFtZS5iaW5kaW5nSW5kZXgrK31mdW5jdGlvbiBIZSh0KXtjb25zdCBlPUFlLmxGcmFtZSxuPWUuYmluZGluZ0luZGV4O3JldHVybiBlLmJpbmRpbmdJbmRleD1lLmJpbmRpbmdJbmRleCt0LG59ZnVuY3Rpb24gVWUodCxlKXtjb25zdCBuPUFlLmxGcmFtZTtuLmJpbmRpbmdJbmRleD1uLmJpbmRpbmdSb290SW5kZXg9dCwkZShlKX1mdW5jdGlvbiAkZSh0KXtBZS5sRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4PXR9ZnVuY3Rpb24gemUoKXtyZXR1cm4gQWUubEZyYW1lLmN1cnJlbnRRdWVyeUluZGV4fWZ1bmN0aW9uIHFlKHQpe0FlLmxGcmFtZS5jdXJyZW50UXVlcnlJbmRleD10fWZ1bmN0aW9uIFdlKHQpe2NvbnN0IGU9dFsxXTtyZXR1cm4gMj09PWUudHlwZT9lLmRlY2xUTm9kZToxPT09ZS50eXBlP3RbNl06bnVsbH1mdW5jdGlvbiBHZSh0LGUsbil7aWYobiZ3dC5Ta2lwU2VsZil7bGV0IHI9ZSxzPXQ7Zm9yKDtyPXIucGFyZW50LCEobnVsbCE9PXJ8fG4md3QuSG9zdHx8KHI9V2UocyksbnVsbD09PXIpfHwocz1zWzE1XSwxMCZyLnR5cGUpKTspO2lmKG51bGw9PT1yKXJldHVybiExO2U9cix0PXN9Y29uc3Qgcj1BZS5sRnJhbWU9WWUoKTtyZXR1cm4gci5jdXJyZW50VE5vZGU9ZSxyLmxWaWV3PXQsITB9ZnVuY3Rpb24gWmUodCl7Y29uc3QgZT1ZZSgpLG49dFsxXTtBZS5sRnJhbWU9ZSxlLmN1cnJlbnRUTm9kZT1uLmZpcnN0Q2hpbGQsZS5sVmlldz10LGUudFZpZXc9bixlLmNvbnRleHRMVmlldz10LGUuYmluZGluZ0luZGV4PW4uYmluZGluZ1N0YXJ0SW5kZXgsZS5pbkkxOG49ITF9ZnVuY3Rpb24gWWUoKXtjb25zdCB0PUFlLmxGcmFtZSxlPW51bGw9PT10P251bGw6dC5jaGlsZDtyZXR1cm4gbnVsbD09PWU/S2UodCk6ZX1mdW5jdGlvbiBLZSh0KXtjb25zdCBlPXtjdXJyZW50VE5vZGU6bnVsbCxpc1BhcmVudDohMCxsVmlldzpudWxsLHRWaWV3Om51bGwsc2VsZWN0ZWRJbmRleDotMSxjb250ZXh0TFZpZXc6bnVsbCxlbGVtZW50RGVwdGhDb3VudDowLGN1cnJlbnROYW1lc3BhY2U6bnVsbCxjdXJyZW50RGlyZWN0aXZlSW5kZXg6LTEsYmluZGluZ1Jvb3RJbmRleDotMSxiaW5kaW5nSW5kZXg6LTEsY3VycmVudFF1ZXJ5SW5kZXg6MCxwYXJlbnQ6dCxjaGlsZDpudWxsLGluSTE4bjohMX07cmV0dXJuIG51bGwhPT10JiYodC5jaGlsZD1lKSxlfWZ1bmN0aW9uIFFlKCl7Y29uc3QgdD1BZS5sRnJhbWU7cmV0dXJuIEFlLmxGcmFtZT10LnBhcmVudCx0LmN1cnJlbnRUTm9kZT1udWxsLHQubFZpZXc9bnVsbCx0fWNvbnN0IFhlPVFlO2Z1bmN0aW9uIEplKCl7Y29uc3QgdD1RZSgpO3QuaXNQYXJlbnQ9ITAsdC50Vmlldz1udWxsLHQuc2VsZWN0ZWRJbmRleD0tMSx0LmNvbnRleHRMVmlldz1udWxsLHQuZWxlbWVudERlcHRoQ291bnQ9MCx0LmN1cnJlbnREaXJlY3RpdmVJbmRleD0tMSx0LmN1cnJlbnROYW1lc3BhY2U9bnVsbCx0LmJpbmRpbmdSb290SW5kZXg9LTEsdC5iaW5kaW5nSW5kZXg9LTEsdC5jdXJyZW50UXVlcnlJbmRleD0wfWZ1bmN0aW9uIHRuKCl7cmV0dXJuIEFlLmxGcmFtZS5zZWxlY3RlZEluZGV4fWZ1bmN0aW9uIGVuKHQpe0FlLmxGcmFtZS5zZWxlY3RlZEluZGV4PXR9ZnVuY3Rpb24gbm4oKXtjb25zdCB0PUFlLmxGcmFtZTtyZXR1cm4gd2UodC50Vmlldyx0LnNlbGVjdGVkSW5kZXgpfWZ1bmN0aW9uIHJuKHQsZSl7Zm9yKGxldCBuPWUuZGlyZWN0aXZlU3RhcnQscj1lLmRpcmVjdGl2ZUVuZDtuPHI7bisrKXtjb25zdCBlPXQuZGF0YVtuXS50eXBlLnByb3RvdHlwZSx7bmdBZnRlckNvbnRlbnRJbml0OnIsbmdBZnRlckNvbnRlbnRDaGVja2VkOnMsbmdBZnRlclZpZXdJbml0OmksbmdBZnRlclZpZXdDaGVja2VkOm8sbmdPbkRlc3Ryb3k6YX09ZTtyJiYodC5jb250ZW50SG9va3N8fCh0LmNvbnRlbnRIb29rcz1bXSkpLnB1c2goLW4scikscyYmKCh0LmNvbnRlbnRIb29rc3x8KHQuY29udGVudEhvb2tzPVtdKSkucHVzaChuLHMpLCh0LmNvbnRlbnRDaGVja0hvb2tzfHwodC5jb250ZW50Q2hlY2tIb29rcz1bXSkpLnB1c2gobixzKSksaSYmKHQudmlld0hvb2tzfHwodC52aWV3SG9va3M9W10pKS5wdXNoKC1uLGkpLG8mJigodC52aWV3SG9va3N8fCh0LnZpZXdIb29rcz1bXSkpLnB1c2gobixvKSwodC52aWV3Q2hlY2tIb29rc3x8KHQudmlld0NoZWNrSG9va3M9W10pKS5wdXNoKG4sbykpLG51bGwhPWEmJih0LmRlc3Ryb3lIb29rc3x8KHQuZGVzdHJveUhvb2tzPVtdKSkucHVzaChuLGEpfX1mdW5jdGlvbiBzbih0LGUsbil7bG4odCxlLDMsbil9ZnVuY3Rpb24gb24odCxlLG4scil7KDMmdFsyXSk9PT1uJiZsbih0LGUsbixyKX1mdW5jdGlvbiBhbih0LGUpe2xldCBuPXRbMl07KDMmbik9PT1lJiYobiY9MjA0NyxuKz0xLHRbMl09bil9ZnVuY3Rpb24gbG4odCxlLG4scil7Y29uc3Qgcz1udWxsIT1yP3I6LTEsaT1lLmxlbmd0aC0xO2xldCBvPTA7Zm9yKGxldCBhPXZvaWQgMCE9PXI/NjU1MzUmdFsxOF06MDthPGk7YSsrKWlmKCJudW1iZXIiPT10eXBlb2YgZVthKzFdKXtpZihvPWVbYV0sbnVsbCE9ciYmbz49cilicmVha31lbHNlIGVbYV08MCYmKHRbMThdKz02NTUzNiksKG88c3x8LTE9PXMpJiYodW4odCxuLGUsYSksdFsxOF09KDQyOTQ5MDE3NjAmdFsxOF0pK2ErMiksYSsrfWZ1bmN0aW9uIHVuKHQsZSxuLHIpe2NvbnN0IHM9bltyXTwwLGk9bltyKzFdLG89dFtzPy1uW3JdOm5bcl1dO2lmKHMpe2lmKHRbMl0+PjExPHRbMThdPj4xNiYmKDMmdFsyXSk9PT1lKXt0WzJdKz0yMDQ4O3RyeXtpLmNhbGwobyl9ZmluYWxseXt9fX1lbHNlIHRyeXtpLmNhbGwobyl9ZmluYWxseXt9fWNvbnN0IGNuPS0xO2NsYXNzIGhue2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLmZhY3Rvcnk9dCx0aGlzLnJlc29sdmluZz0hMSx0aGlzLmNhblNlZVZpZXdQcm92aWRlcnM9ZSx0aGlzLmluamVjdEltcGw9bn19ZnVuY3Rpb24gZG4odCxlLG4pe2NvbnN0IHI9Z2UodCk7bGV0IHM9MDtmb3IoO3M8bi5sZW5ndGg7KXtjb25zdCBpPW5bc107aWYoIm51bWJlciI9PXR5cGVvZiBpKXtpZigwIT09aSlicmVhaztzKys7Y29uc3Qgbz1uW3MrK10sYT1uW3MrK10sbD1uW3MrK107cj90LnNldEF0dHJpYnV0ZShlLGEsbCxvKTplLnNldEF0dHJpYnV0ZU5TKG8sYSxsKX1lbHNle2NvbnN0IG89aSxhPW5bKytzXTtmbihvKT9yJiZ0LnNldFByb3BlcnR5KGUsbyxhKTpyP3Quc2V0QXR0cmlidXRlKGUsbyxhKTplLnNldEF0dHJpYnV0ZShvLGEpLHMrK319cmV0dXJuIHN9ZnVuY3Rpb24gcG4odCl7cmV0dXJuIDM9PT10fHw0PT09dHx8Nj09PXR9ZnVuY3Rpb24gZm4odCl7cmV0dXJuIDY0PT09dC5jaGFyQ29kZUF0KDApfWZ1bmN0aW9uIGduKHQsZSl7aWYobnVsbD09PWV8fDA9PT1lLmxlbmd0aCk7ZWxzZSBpZihudWxsPT09dHx8MD09PXQubGVuZ3RoKXQ9ZS5zbGljZSgpO2Vsc2V7bGV0IG49LTE7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IHM9ZVtyXTsibnVtYmVyIj09dHlwZW9mIHM/bj1zOjA9PT1ufHxtbih0LG4scyxudWxsLC0xPT09bnx8Mj09PW4/ZVsrK3JdOm51bGwpfX1yZXR1cm4gdH1mdW5jdGlvbiBtbih0LGUsbixyLHMpe2xldCBpPTAsbz10Lmxlbmd0aDtpZigtMT09PWUpbz0tMTtlbHNlIGZvcig7aTx0Lmxlbmd0aDspe2NvbnN0IG49dFtpKytdO2lmKCJudW1iZXIiPT10eXBlb2Ygbil7aWYobj09PWUpe289LTE7YnJlYWt9aWYobj5lKXtvPWktMTticmVha319fWZvcig7aTx0Lmxlbmd0aDspe2NvbnN0IGU9dFtpXTtpZigibnVtYmVyIj09dHlwZW9mIGUpYnJlYWs7aWYoZT09PW4pe2lmKG51bGw9PT1yKXJldHVybiB2b2lkKG51bGwhPT1zJiYodFtpKzFdPXMpKTtpZihyPT09dFtpKzFdKXJldHVybiB2b2lkKHRbaSsyXT1zKX1pKyssbnVsbCE9PXImJmkrKyxudWxsIT09cyYmaSsrfS0xIT09byYmKHQuc3BsaWNlKG8sMCxlKSxpPW8rMSksdC5zcGxpY2UoaSsrLDAsbiksbnVsbCE9PXImJnQuc3BsaWNlKGkrKywwLHIpLG51bGwhPT1zJiZ0LnNwbGljZShpKyssMCxzKX1mdW5jdGlvbiB5bih0KXtyZXR1cm4gdCE9PWNufWZ1bmN0aW9uIHZuKHQpe3JldHVybiAzMjc2NyZ0fWZ1bmN0aW9uIGJuKHQsZSl7bGV0IG49dD4+MTYscj1lO2Zvcig7bj4wOylyPXJbMTVdLG4tLTtyZXR1cm4gcn1sZXQgd249ITA7ZnVuY3Rpb24gQ24odCl7Y29uc3QgZT13bjtyZXR1cm4gd249dCxlfWxldCBfbj0wO2Z1bmN0aW9uIERuKHQsZSl7Y29uc3Qgbj1Tbih0LGUpO2lmKC0xIT09bilyZXR1cm4gbjtjb25zdCByPWVbMV07ci5maXJzdENyZWF0ZVBhc3MmJih0LmluamVjdG9ySW5kZXg9ZS5sZW5ndGgsRW4oci5kYXRhLHQpLEVuKGUsbnVsbCksRW4oci5ibHVlcHJpbnQsbnVsbCkpO2NvbnN0IHM9eG4odCxlKSxpPXQuaW5qZWN0b3JJbmRleDtpZih5bihzKSl7Y29uc3QgdD12bihzKSxuPWJuKHMsZSkscj1uWzFdLmRhdGE7Zm9yKGxldCBzPTA7czw4O3MrKyllW2krc109blt0K3NdfHJbdCtzXX1yZXR1cm4gZVtpKzhdPXMsaX1mdW5jdGlvbiBFbih0LGUpe3QucHVzaCgwLDAsMCwwLDAsMCwwLDAsZSl9ZnVuY3Rpb24gU24odCxlKXtyZXR1cm4tMT09PXQuaW5qZWN0b3JJbmRleHx8dC5wYXJlbnQmJnQucGFyZW50LmluamVjdG9ySW5kZXg9PT10LmluamVjdG9ySW5kZXh8fG51bGw9PT1lW3QuaW5qZWN0b3JJbmRleCs4XT8tMTp0LmluamVjdG9ySW5kZXh9ZnVuY3Rpb24geG4odCxlKXtpZih0LnBhcmVudCYmLTEhPT10LnBhcmVudC5pbmplY3RvckluZGV4KXJldHVybiB0LnBhcmVudC5pbmplY3RvckluZGV4O2xldCBuPTAscj1udWxsLHM9ZTtmb3IoO251bGwhPT1zOyl7Y29uc3QgdD1zWzFdLGU9dC50eXBlO2lmKHI9Mj09PWU/dC5kZWNsVE5vZGU6MT09PWU/c1s2XTpudWxsLG51bGw9PT1yKXJldHVybiBjbjtpZihuKysscz1zWzE1XSwtMSE9PXIuaW5qZWN0b3JJbmRleClyZXR1cm4gci5pbmplY3RvckluZGV4fG48PDE2fXJldHVybiBjbn1mdW5jdGlvbiBBbih0LGUsbil7IWZ1bmN0aW9uKHQsZSxuKXtsZXQgcjsic3RyaW5nIj09dHlwZW9mIG4/cj1uLmNoYXJDb2RlQXQoMCl8fDA6bi5oYXNPd25Qcm9wZXJ0eShCdCkmJihyPW5bQnRdKSxudWxsPT1yJiYocj1uW0J0XT1fbisrKTtjb25zdCBzPTI1NSZyO2UuZGF0YVt0KyhzPj41KV18PTE8PHN9KHQsZSxuKX1mdW5jdGlvbiBUbih0LGUsbil7aWYobiZ3dC5PcHRpb25hbClyZXR1cm4gdDtjdChlLCJOb2RlSW5qZWN0b3IiKX1mdW5jdGlvbiBPbih0LGUsbixyKXtpZihuJnd0Lk9wdGlvbmFsJiZ2b2lkIDA9PT1yJiYocj1udWxsKSwwPT0obiYod3QuU2VsZnx3dC5Ib3N0KSkpe2NvbnN0IHM9dFs5XSxpPV90KHZvaWQgMCk7dHJ5e3JldHVybiBzP3MuZ2V0KGUscixuJnd0Lk9wdGlvbmFsKTpEdChlLHIsbiZ3dC5PcHRpb25hbCl9ZmluYWxseXtfdChpKX19cmV0dXJuIFRuKHIsZSxuKX1mdW5jdGlvbiBGbih0LGUsbixyPXd0LkRlZmF1bHQscyl7aWYobnVsbCE9PXQpe2NvbnN0IGk9ZnVuY3Rpb24odCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiB0LmNoYXJDb2RlQXQoMCl8fDA7Y29uc3QgZT10Lmhhc093blByb3BlcnR5KEJ0KT90W0J0XTp2b2lkIDA7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlP2U+PTA/MjU1JmU6SW46ZX0obik7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGkpe2lmKCFHZShlLHQscikpcmV0dXJuIHImd3QuSG9zdD9UbihzLG4scik6T24oZSxuLHIscyk7dHJ5e2NvbnN0IHQ9aShyKTtpZihudWxsIT10fHxyJnd0Lk9wdGlvbmFsKXJldHVybiB0O2N0KG4pfWZpbmFsbHl7WGUoKX19ZWxzZSBpZigibnVtYmVyIj09dHlwZW9mIGkpe2xldCBzPW51bGwsbz1Tbih0LGUpLGE9Y24sbD1yJnd0Lkhvc3Q/ZVsxNl1bNl06bnVsbDtmb3IoKC0xPT09b3x8ciZ3dC5Ta2lwU2VsZikmJihhPS0xPT09bz94bih0LGUpOmVbbys4XSxhIT09Y24mJmpuKHIsITEpPyhzPWVbMV0sbz12bihhKSxlPWJuKGEsZSkpOm89LTEpOy0xIT09bzspe2NvbnN0IHQ9ZVsxXTtpZihObihpLG8sdC5kYXRhKSl7Y29uc3QgdD1SbihvLGUsbixzLHIsbCk7aWYodCE9PWtuKXJldHVybiB0fWE9ZVtvKzhdLGEhPT1jbiYmam4ocixlWzFdLmRhdGFbbys4XT09PWwpJiZObihpLG8sZSk/KHM9dCxvPXZuKGEpLGU9Ym4oYSxlKSk6bz0tMX19fXJldHVybiBPbihlLG4scixzKX1jb25zdCBrbj17fTtmdW5jdGlvbiBJbigpe3JldHVybiBuZXcgTW4oSWUoKSxPZSgpKX1mdW5jdGlvbiBSbih0LGUsbixyLHMsaSl7Y29uc3Qgbz1lWzFdLGE9by5kYXRhW3QrOF0sbD1QbihhLG8sbixudWxsPT1yP3JlKGEpJiZ3bjpyIT1vJiYwIT0oMyZhLnR5cGUpLHMmd3QuSG9zdCYmaT09PWEpO3JldHVybiBudWxsIT09bD9MbihlLG8sbCxhKTprbn1mdW5jdGlvbiBQbih0LGUsbixyLHMpe2NvbnN0IGk9dC5wcm92aWRlckluZGV4ZXMsbz1lLmRhdGEsYT0xMDQ4NTc1JmksbD10LmRpcmVjdGl2ZVN0YXJ0LHU9aT4+MjAsYz1zP2ErdTp0LmRpcmVjdGl2ZUVuZDtmb3IobGV0IGg9cj9hOmErdTtoPGM7aCsrKXtjb25zdCB0PW9baF07aWYoaDxsJiZuPT09dHx8aD49bCYmdC50eXBlPT09bilyZXR1cm4gaH1pZihzKXtjb25zdCB0PW9bbF07aWYodCYmaWUodCkmJnQudHlwZT09PW4pcmV0dXJuIGx9cmV0dXJuIG51bGx9ZnVuY3Rpb24gTG4odCxlLG4scil7bGV0IHM9dFtuXTtjb25zdCBpPWUuZGF0YTtpZihzIGluc3RhbmNlb2YgaG4pe2NvbnN0IG89cztvLnJlc29sdmluZyYmZnVuY3Rpb24odCxlKXt0aHJvdyBuZXcgYXQoIjIwMCIsYENpcmN1bGFyIGRlcGVuZGVuY3kgaW4gREkgZGV0ZWN0ZWQgZm9yICR7dH1gKX0odXQoaVtuXSkpO2NvbnN0IGE9Q24oby5jYW5TZWVWaWV3UHJvdmlkZXJzKTtvLnJlc29sdmluZz0hMDtjb25zdCBsPW8uaW5qZWN0SW1wbD9fdChvLmluamVjdEltcGwpOm51bGw7R2UodCxyLHd0LkRlZmF1bHQpO3RyeXtzPXRbbl09by5mYWN0b3J5KHZvaWQgMCxpLHQsciksZS5maXJzdENyZWF0ZVBhc3MmJm4+PXIuZGlyZWN0aXZlU3RhcnQmJmZ1bmN0aW9uKHQsZSxuKXtjb25zdHtuZ09uQ2hhbmdlczpyLG5nT25Jbml0OnMsbmdEb0NoZWNrOml9PWUudHlwZS5wcm90b3R5cGU7aWYocil7Y29uc3Qgcj11ZShlKTsobi5wcmVPcmRlckhvb2tzfHwobi5wcmVPcmRlckhvb2tzPVtdKSkucHVzaCh0LHIpLChuLnByZU9yZGVyQ2hlY2tIb29rc3x8KG4ucHJlT3JkZXJDaGVja0hvb2tzPVtdKSkucHVzaCh0LHIpfXMmJihuLnByZU9yZGVySG9va3N8fChuLnByZU9yZGVySG9va3M9W10pKS5wdXNoKDAtdCxzKSxpJiYoKG4ucHJlT3JkZXJIb29rc3x8KG4ucHJlT3JkZXJIb29rcz1bXSkpLnB1c2godCxpKSwobi5wcmVPcmRlckNoZWNrSG9va3N8fChuLnByZU9yZGVyQ2hlY2tIb29rcz1bXSkpLnB1c2godCxpKSl9KG4saVtuXSxlKX1maW5hbGx5e251bGwhPT1sJiZfdChsKSxDbihhKSxvLnJlc29sdmluZz0hMSxYZSgpfX1yZXR1cm4gc31mdW5jdGlvbiBObih0LGUsbil7cmV0dXJuISEobltlKyh0Pj41KV0mMTw8dCl9ZnVuY3Rpb24gam4odCxlKXtyZXR1cm4hKHQmd3QuU2VsZnx8dCZ3dC5Ib3N0JiZlKX1jbGFzcyBNbntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX3ROb2RlPXQsdGhpcy5fbFZpZXc9ZX1nZXQodCxlKXtyZXR1cm4gRm4odGhpcy5fdE5vZGUsdGhpcy5fbFZpZXcsdCx2b2lkIDAsZSl9fWZ1bmN0aW9uIFZuKHQpe3JldHVybiBFdCgoKT0+e2NvbnN0IGU9dC5wcm90b3R5cGUuY29uc3RydWN0b3Isbj1lW1Z0XXx8Qm4oZSkscj1PYmplY3QucHJvdG90eXBlO2xldCBzPU9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSkuY29uc3RydWN0b3I7Zm9yKDtzJiZzIT09cjspe2NvbnN0IHQ9c1tWdF18fEJuKHMpO2lmKHQmJnQhPT1uKXJldHVybiB0O3M9T2JqZWN0LmdldFByb3RvdHlwZU9mKHMpfXJldHVybiB0PT5uZXcgdH0pfWZ1bmN0aW9uIEJuKHQpe3JldHVybiBvdCh0KT8oKT0+e2NvbnN0IGU9Qm4oaXQodCkpO3JldHVybiBlJiZlKCl9Om9lKHQpfWNvbnN0IEhuPSJfX3BhcmFtZXRlcnNfXyI7ZnVuY3Rpb24gVW4odCxlLG4pe3JldHVybiBFdCgoKT0+e2NvbnN0IHI9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKC4uLmUpe2lmKHQpe2NvbnN0IG49dCguLi5lKTtmb3IoY29uc3QgdCBpbiBuKXRoaXNbdF09blt0XX19fShlKTtmdW5jdGlvbiBzKC4uLnQpe2lmKHRoaXMgaW5zdGFuY2VvZiBzKXJldHVybiByLmFwcGx5KHRoaXMsdCksdGhpcztjb25zdCBlPW5ldyBzKC4uLnQpO3JldHVybiBuLmFubm90YXRpb249ZSxuO2Z1bmN0aW9uIG4odCxuLHIpe2NvbnN0IHM9dC5oYXNPd25Qcm9wZXJ0eShIbik/dFtIbl06T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsSG4se3ZhbHVlOltdfSlbSG5dO2Zvcig7cy5sZW5ndGg8PXI7KXMucHVzaChudWxsKTtyZXR1cm4oc1tyXT1zW3JdfHxbXSkucHVzaChlKSx0fX1yZXR1cm4gbiYmKHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpKSxzLnByb3RvdHlwZS5uZ01ldGFkYXRhTmFtZT10LHMuYW5ub3RhdGlvbkNscz1zLHN9KX1jbGFzcyAkbntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX2Rlc2M9dCx0aGlzLm5nTWV0YWRhdGFOYW1lPSJJbmplY3Rpb25Ub2tlbiIsdGhpcy5cdTAyNzVwcm92PXZvaWQgMCwibnVtYmVyIj09dHlwZW9mIGU/dGhpcy5fX05HX0VMRU1FTlRfSURfXz1lOnZvaWQgMCE9PWUmJih0aGlzLlx1MDI3NXByb3Y9aHQoe3Rva2VuOnRoaXMscHJvdmlkZWRJbjplLnByb3ZpZGVkSW58fCJyb290IixmYWN0b3J5OmUuZmFjdG9yeX0pKX10b1N0cmluZygpe3JldHVybmBJbmplY3Rpb25Ub2tlbiAke3RoaXMuX2Rlc2N9YH19Y29uc3Qgem49bmV3ICRuKCJBbmFseXplRm9yRW50cnlDb21wb25lbnRzIikscW49RnVuY3Rpb247ZnVuY3Rpb24gV24odCxlKXt2b2lkIDA9PT1lJiYoZT10KTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7bGV0IHI9dFtuXTtBcnJheS5pc0FycmF5KHIpPyhlPT09dCYmKGU9dC5zbGljZSgwLG4pKSxXbihyLGUpKTplIT09dCYmZS5wdXNoKHIpfXJldHVybiBlfWZ1bmN0aW9uIEduKHQsZSl7dC5mb3JFYWNoKHQ9PkFycmF5LmlzQXJyYXkodCk/R24odCxlKTplKHQpKX1mdW5jdGlvbiBabih0LGUsbil7ZT49dC5sZW5ndGg/dC5wdXNoKG4pOnQuc3BsaWNlKGUsMCxuKX1mdW5jdGlvbiBZbih0LGUpe3JldHVybiBlPj10Lmxlbmd0aC0xP3QucG9wKCk6dC5zcGxpY2UoZSwxKVswXX1mdW5jdGlvbiBLbih0LGUpe2NvbnN0IG49W107Zm9yKGxldCByPTA7cjx0O3IrKyluLnB1c2goZSk7cmV0dXJuIG59ZnVuY3Rpb24gUW4odCxlLG4pe2xldCByPUpuKHQsZSk7cmV0dXJuIHI+PTA/dFsxfHJdPW46KHI9fnIsZnVuY3Rpb24odCxlLG4scil7bGV0IHM9dC5sZW5ndGg7aWYocz09ZSl0LnB1c2gobixyKTtlbHNlIGlmKDE9PT1zKXQucHVzaChyLHRbMF0pLHRbMF09bjtlbHNle2ZvcihzLS0sdC5wdXNoKHRbcy0xXSx0W3NdKTtzPmU7KXRbc109dFtzLTJdLHMtLTt0W2VdPW4sdFtlKzFdPXJ9fSh0LHIsZSxuKSkscn1mdW5jdGlvbiBYbih0LGUpe2NvbnN0IG49Sm4odCxlKTtpZihuPj0wKXJldHVybiB0WzF8bl19ZnVuY3Rpb24gSm4odCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2xldCByPTAscz10Lmxlbmd0aD4+MTtmb3IoO3MhPT1yOyl7Y29uc3Qgbj1yKyhzLXI+PjEpLGk9dFtuPDwxXTtpZihlPT09aSlyZXR1cm4gbjw8MTtpPmU/cz1uOnI9bisxfXJldHVybn4oczw8MSl9KHQsZSl9Y29uc3QgdHI9e30sZXI9L1xuL2dtLG5yPSJfX3NvdXJjZSIscnI9Sih7cHJvdmlkZTpTdHJpbmcsdXNlVmFsdWU6Sn0pO2xldCBzcjtmdW5jdGlvbiBpcih0KXtjb25zdCBlPXNyO3JldHVybiBzcj10LGV9ZnVuY3Rpb24gb3IodCxlPXd0LkRlZmF1bHQpe2lmKHZvaWQgMD09PXNyKXRocm93IG5ldyBFcnJvcigiaW5qZWN0KCkgbXVzdCBiZSBjYWxsZWQgZnJvbSBhbiBpbmplY3Rpb24gY29udGV4dCIpO3JldHVybiBudWxsPT09c3I/RHQodCx2b2lkIDAsZSk6c3IuZ2V0KHQsZSZ3dC5PcHRpb25hbD9udWxsOnZvaWQgMCxlKX1mdW5jdGlvbiBhcih0LGU9d3QuRGVmYXVsdCl7cmV0dXJuKEN0fHxvcikoaXQodCksZSl9ZnVuY3Rpb24gbHIodCl7Y29uc3QgZT1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgcj1pdCh0W25dKTtpZihBcnJheS5pc0FycmF5KHIpKXtpZigwPT09ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJBcmd1bWVudHMgYXJyYXkgbXVzdCBoYXZlIGFyZ3VtZW50cy4iKTtsZXQgdCxuPXd0LkRlZmF1bHQ7Zm9yKGxldCBlPTA7ZTxyLmxlbmd0aDtlKyspe2NvbnN0IHM9cltlXSxpPXMuX19OR19ESV9GTEFHX187Im51bWJlciI9PXR5cGVvZiBpPy0xPT09aT90PXMudG9rZW46bnw9aTp0PXN9ZS5wdXNoKGFyKHQsbikpfWVsc2UgZS5wdXNoKGFyKHIpKX1yZXR1cm4gZX1mdW5jdGlvbiB1cih0LGUpe3JldHVybiB0Ll9fTkdfRElfRkxBR19fPWUsdC5wcm90b3R5cGUuX19OR19ESV9GTEFHX189ZSx0fWNvbnN0IGNyPXVyKFVuKCJJbmplY3QiLHQ9Pih7dG9rZW46dH0pKSwtMSksaHI9dXIoVW4oIk9wdGlvbmFsIiksOCksZHI9dXIoVW4oIlNraXBTZWxmIiksNCk7bGV0IHByLGZyO2Z1bmN0aW9uIGdyKHQpe3ZhciBlO3JldHVybihudWxsPT09KGU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT1wciYmKHByPW51bGwsa3QudHJ1c3RlZFR5cGVzKSl0cnl7cHI9a3QudHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSgiYW5ndWxhciIse2NyZWF0ZUhUTUw6dD0+dCxjcmVhdGVTY3JpcHQ6dD0+dCxjcmVhdGVTY3JpcHRVUkw6dD0+dH0pfWNhdGNoKGUpe31yZXR1cm4gcHJ9KCkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNyZWF0ZUhUTUwodCkpfHx0fWZ1bmN0aW9uIG1yKHQpe3ZhciBlO3JldHVybihudWxsPT09KGU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT1mciYmKGZyPW51bGwsa3QudHJ1c3RlZFR5cGVzKSl0cnl7ZnI9a3QudHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSgiYW5ndWxhciN1bnNhZmUtYnlwYXNzIix7Y3JlYXRlSFRNTDp0PT50LGNyZWF0ZVNjcmlwdDp0PT50LGNyZWF0ZVNjcmlwdFVSTDp0PT50fSl9Y2F0Y2goZSl7fXJldHVybiBmcn0oKSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY3JlYXRlSFRNTCh0KSl8fHR9Y2xhc3MgeXJ7Y29uc3RydWN0b3IodCl7dGhpcy5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5PXR9dG9TdHJpbmcoKXtyZXR1cm5gU2FmZVZhbHVlIG11c3QgdXNlIFtwcm9wZXJ0eV09YmluZGluZzogJHt0aGlzLmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHl9IChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgfX1jbGFzcyB2ciBleHRlbmRzIHlye2dldFR5cGVOYW1lKCl7cmV0dXJuIkhUTUwifX1jbGFzcyBiciBleHRlbmRzIHlye2dldFR5cGVOYW1lKCl7cmV0dXJuIlN0eWxlIn19Y2xhc3Mgd3IgZXh0ZW5kcyB5cntnZXRUeXBlTmFtZSgpe3JldHVybiJTY3JpcHQifX1jbGFzcyBDciBleHRlbmRzIHlye2dldFR5cGVOYW1lKCl7cmV0dXJuIlVSTCJ9fWNsYXNzIF9yIGV4dGVuZHMgeXJ7Z2V0VHlwZU5hbWUoKXtyZXR1cm4iUmVzb3VyY2VVUkwifX1mdW5jdGlvbiBEcih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHlyP3QuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eTp0fWZ1bmN0aW9uIEVyKHQsZSl7Y29uc3Qgbj1Tcih0KTtpZihudWxsIT1uJiZuIT09ZSl7aWYoIlJlc291cmNlVVJMIj09PW4mJiJVUkwiPT09ZSlyZXR1cm4hMDt0aHJvdyBuZXcgRXJyb3IoYFJlcXVpcmVkIGEgc2FmZSAke2V9LCBnb3QgYSAke259IChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgKX1yZXR1cm4gbj09PWV9ZnVuY3Rpb24gU3IodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB5ciYmdC5nZXRUeXBlTmFtZSgpfHxudWxsfWNsYXNzIHhye2NvbnN0cnVjdG9yKHQpe3RoaXMuaW5lcnREb2N1bWVudEhlbHBlcj10fWdldEluZXJ0Qm9keUVsZW1lbnQodCl7dD0iPGJvZHk+PHJlbW92ZT48L3JlbW92ZT4iK3Q7dHJ5e2NvbnN0IGU9KG5ldyB3aW5kb3cuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZ3IodCksInRleHQvaHRtbCIpLmJvZHk7cmV0dXJuIG51bGw9PT1lP3RoaXMuaW5lcnREb2N1bWVudEhlbHBlci5nZXRJbmVydEJvZHlFbGVtZW50KHQpOihlLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCksZSl9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fX1jbGFzcyBBcntjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLmRlZmF1bHREb2M9dCx0aGlzLmluZXJ0RG9jdW1lbnQ9dGhpcy5kZWZhdWx0RG9jLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgic2FuaXRpemF0aW9uLWluZXJ0IiksbnVsbD09dGhpcy5pbmVydERvY3VtZW50LmJvZHkpe2NvbnN0IHQ9dGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImh0bWwiKTt0aGlzLmluZXJ0RG9jdW1lbnQuYXBwZW5kQ2hpbGQodCk7Y29uc3QgZT10aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYm9keSIpO3QuYXBwZW5kQ2hpbGQoZSl9fWdldEluZXJ0Qm9keUVsZW1lbnQodCl7Y29uc3QgZT10aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTtpZigiY29udGVudCJpbiBlKXJldHVybiBlLmlubmVySFRNTD1ncih0KSxlO2NvbnN0IG49dGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJvZHkiKTtyZXR1cm4gbi5pbm5lckhUTUw9Z3IodCksdGhpcy5kZWZhdWx0RG9jLmRvY3VtZW50TW9kZSYmdGhpcy5zdHJpcEN1c3RvbU5zQXR0cnMobiksbn1zdHJpcEN1c3RvbU5zQXR0cnModCl7Y29uc3QgZT10LmF0dHJpYnV0ZXM7Zm9yKGxldCByPWUubGVuZ3RoLTE7MDxyO3ItLSl7Y29uc3Qgbj1lLml0ZW0ocikubmFtZTsieG1sbnM6bnMxIiE9PW4mJjAhPT1uLmluZGV4T2YoIm5zMToiKXx8dC5yZW1vdmVBdHRyaWJ1dGUobil9bGV0IG49dC5maXJzdENoaWxkO2Zvcig7bjspbi5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiZ0aGlzLnN0cmlwQ3VzdG9tTnNBdHRycyhuKSxuPW4ubmV4dFNpYmxpbmd9fWNvbnN0IFRyPS9eKD86KD86aHR0cHM/fG1haWx0b3xmdHB8dGVsfGZpbGV8c21zKTp8W14mOi8/I10qKD86Wy8/I118JCkpL2dpLE9yPS9eZGF0YTooPzppbWFnZVwvKD86Ym1wfGdpZnxqcGVnfGpwZ3xwbmd8dGlmZnx3ZWJwKXx2aWRlb1wvKD86bXBlZ3xtcDR8b2dnfHdlYm0pfGF1ZGlvXC8oPzptcDN8b2dhfG9nZ3xvcHVzKSk7YmFzZTY0LFthLXowLTkrXC9dKz0qJC9pO2Z1bmN0aW9uIEZyKHQpe3JldHVybih0PVN0cmluZyh0KSkubWF0Y2goVHIpfHx0Lm1hdGNoKE9yKT90OiJ1bnNhZmU6Iit0fWZ1bmN0aW9uIGtyKHQpe2NvbnN0IGU9e307Zm9yKGNvbnN0IG4gb2YgdC5zcGxpdCgiLCIpKWVbbl09ITA7cmV0dXJuIGV9ZnVuY3Rpb24gSXIoLi4udCl7Y29uc3QgZT17fTtmb3IoY29uc3QgbiBvZiB0KWZvcihjb25zdCB0IGluIG4pbi5oYXNPd25Qcm9wZXJ0eSh0KSYmKGVbdF09ITApO3JldHVybiBlfWNvbnN0IFJyPWtyKCJhcmVhLGJyLGNvbCxocixpbWcsd2JyIiksUHI9a3IoImNvbGdyb3VwLGRkLGR0LGxpLHAsdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsdHIiKSxMcj1rcigicnAscnQiKSxOcj1JcihMcixQciksanI9SXIoUnIsSXIoUHIsa3IoImFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxibG9ja3F1b3RlLGNhcHRpb24sY2VudGVyLGRlbCxkZXRhaWxzLGRpYWxvZyxkaXIsZGl2LGRsLGZpZ3VyZSxmaWdjYXB0aW9uLGZvb3RlcixoMSxoMixoMyxoNCxoNSxoNixoZWFkZXIsaGdyb3VwLGhyLGlucyxtYWluLG1hcCxtZW51LG5hdixvbCxwcmUsc2VjdGlvbixzdW1tYXJ5LHRhYmxlLHVsIikpLElyKExyLGtyKCJhLGFiYnIsYWNyb255bSxhdWRpbyxiLGJkaSxiZG8sYmlnLGJyLGNpdGUsY29kZSxkZWwsZGZuLGVtLGZvbnQsaSxpbWcsaW5zLGtiZCxsYWJlbCxtYXAsbWFyayxwaWN0dXJlLHEscnVieSxycCxydCxzLHNhbXAsc21hbGwsc291cmNlLHNwYW4sc3RyaWtlLHN0cm9uZyxzdWIsc3VwLHRpbWUsdHJhY2ssdHQsdSx2YXIsdmlkZW8iKSksTnIpLE1yPWtyKCJiYWNrZ3JvdW5kLGNpdGUsaHJlZixpdGVtdHlwZSxsb25nZGVzYyxwb3N0ZXIsc3JjLHhsaW5rOmhyZWYiKSxWcj1rcigic3Jjc2V0IiksQnI9SXIoTXIsVnIsa3IoImFiYnIsYWNjZXNza2V5LGFsaWduLGFsdCxhdXRvcGxheSxheGlzLGJnY29sb3IsYm9yZGVyLGNlbGxwYWRkaW5nLGNlbGxzcGFjaW5nLGNsYXNzLGNsZWFyLGNvbG9yLGNvbHMsY29sc3Bhbixjb21wYWN0LGNvbnRyb2xzLGNvb3JkcyxkYXRldGltZSxkZWZhdWx0LGRpcixkb3dubG9hZCxmYWNlLGhlYWRlcnMsaGVpZ2h0LGhpZGRlbixocmVmbGFuZyxoc3BhY2UsaXNtYXAsaXRlbXNjb3BlLGl0ZW1wcm9wLGtpbmQsbGFiZWwsbGFuZyxsYW5ndWFnZSxsb29wLG1lZGlhLG11dGVkLG5vaHJlZixub3dyYXAsb3BlbixwcmVsb2FkLHJlbCxyZXYscm9sZSxyb3dzLHJvd3NwYW4scnVsZXMsc2NvcGUsc2Nyb2xsaW5nLHNoYXBlLHNpemUsc2l6ZXMsc3BhbixzcmNsYW5nLHN0YXJ0LHN1bW1hcnksdGFiaW5kZXgsdGFyZ2V0LHRpdGxlLHRyYW5zbGF0ZSx0eXBlLHVzZW1hcCx2YWxpZ24sdmFsdWUsdnNwYWNlLHdpZHRoIiksa3IoImFyaWEtYWN0aXZlZGVzY2VuZGFudCxhcmlhLWF0b21pYyxhcmlhLWF1dG9jb21wbGV0ZSxhcmlhLWJ1c3ksYXJpYS1jaGVja2VkLGFyaWEtY29sY291bnQsYXJpYS1jb2xpbmRleCxhcmlhLWNvbHNwYW4sYXJpYS1jb250cm9scyxhcmlhLWN1cnJlbnQsYXJpYS1kZXNjcmliZWRieSxhcmlhLWRldGFpbHMsYXJpYS1kaXNhYmxlZCxhcmlhLWRyb3BlZmZlY3QsYXJpYS1lcnJvcm1lc3NhZ2UsYXJpYS1leHBhbmRlZCxhcmlhLWZsb3d0byxhcmlhLWdyYWJiZWQsYXJpYS1oYXNwb3B1cCxhcmlhLWhpZGRlbixhcmlhLWludmFsaWQsYXJpYS1rZXlzaG9ydGN1dHMsYXJpYS1sYWJlbCxhcmlhLWxhYmVsbGVkYnksYXJpYS1sZXZlbCxhcmlhLWxpdmUsYXJpYS1tb2RhbCxhcmlhLW11bHRpbGluZSxhcmlhLW11bHRpc2VsZWN0YWJsZSxhcmlhLW9yaWVudGF0aW9uLGFyaWEtb3ducyxhcmlhLXBsYWNlaG9sZGVyLGFyaWEtcG9zaW5zZXQsYXJpYS1wcmVzc2VkLGFyaWEtcmVhZG9ubHksYXJpYS1yZWxldmFudCxhcmlhLXJlcXVpcmVkLGFyaWEtcm9sZWRlc2NyaXB0aW9uLGFyaWEtcm93Y291bnQsYXJpYS1yb3dpbmRleCxhcmlhLXJvd3NwYW4sYXJpYS1zZWxlY3RlZCxhcmlhLXNldHNpemUsYXJpYS1zb3J0LGFyaWEtdmFsdWVtYXgsYXJpYS12YWx1ZW1pbixhcmlhLXZhbHVlbm93LGFyaWEtdmFsdWV0ZXh0IikpLEhyPWtyKCJzY3JpcHQsc3R5bGUsdGVtcGxhdGUiKTtjbGFzcyBVcntjb25zdHJ1Y3Rvcigpe3RoaXMuc2FuaXRpemVkU29tZXRoaW5nPSExLHRoaXMuYnVmPVtdfXNhbml0aXplQ2hpbGRyZW4odCl7bGV0IGU9dC5maXJzdENoaWxkLG49ITA7Zm9yKDtlOylpZihlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREU/bj10aGlzLnN0YXJ0RWxlbWVudChlKTplLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU/dGhpcy5jaGFycyhlLm5vZGVWYWx1ZSk6dGhpcy5zYW5pdGl6ZWRTb21ldGhpbmc9ITAsbiYmZS5maXJzdENoaWxkKWU9ZS5maXJzdENoaWxkO2Vsc2UgZm9yKDtlOyl7ZS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiZ0aGlzLmVuZEVsZW1lbnQoZSk7bGV0IHQ9dGhpcy5jaGVja0Nsb2JiZXJlZEVsZW1lbnQoZSxlLm5leHRTaWJsaW5nKTtpZih0KXtlPXQ7YnJlYWt9ZT10aGlzLmNoZWNrQ2xvYmJlcmVkRWxlbWVudChlLGUucGFyZW50Tm9kZSl9cmV0dXJuIHRoaXMuYnVmLmpvaW4oIiIpfXN0YXJ0RWxlbWVudCh0KXtjb25zdCBlPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZighanIuaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuIHRoaXMuc2FuaXRpemVkU29tZXRoaW5nPSEwLCFIci5oYXNPd25Qcm9wZXJ0eShlKTt0aGlzLmJ1Zi5wdXNoKCI8IiksdGhpcy5idWYucHVzaChlKTtjb25zdCBuPXQuYXR0cmlidXRlcztmb3IobGV0IHM9MDtzPG4ubGVuZ3RoO3MrKyl7Y29uc3QgdD1uLml0ZW0ocyksZT10Lm5hbWUsaT1lLnRvTG93ZXJDYXNlKCk7aWYoIUJyLmhhc093blByb3BlcnR5KGkpKXt0aGlzLnNhbml0aXplZFNvbWV0aGluZz0hMDtjb250aW51ZX1sZXQgbz10LnZhbHVlO01yW2ldJiYobz1GcihvKSksVnJbaV0mJihyPW8sbz0ocj1TdHJpbmcocikpLnNwbGl0KCIsIikubWFwKHQ9PkZyKHQudHJpbSgpKSkuam9pbigiLCAiKSksdGhpcy5idWYucHVzaCgiICIsZSwnPSInLHFyKG8pLCciJyl9dmFyIHI7cmV0dXJuIHRoaXMuYnVmLnB1c2goIj4iKSwhMH1lbmRFbGVtZW50KHQpe2NvbnN0IGU9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2pyLmhhc093blByb3BlcnR5KGUpJiYhUnIuaGFzT3duUHJvcGVydHkoZSkmJih0aGlzLmJ1Zi5wdXNoKCI8LyIpLHRoaXMuYnVmLnB1c2goZSksdGhpcy5idWYucHVzaCgiPiIpKX1jaGFycyh0KXt0aGlzLmJ1Zi5wdXNoKHFyKHQpKX1jaGVja0Nsb2JiZXJlZEVsZW1lbnQodCxlKXtpZihlJiYodC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKSZOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSk9PT1Ob2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSl0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzYW5pdGl6ZSBodG1sIGJlY2F1c2UgdGhlIGVsZW1lbnQgaXMgY2xvYmJlcmVkOiAke3Qub3V0ZXJIVE1MfWApO3JldHVybiBlfX1jb25zdCAkcj0vW1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZdL2csenI9LyhbXlwjLX4gfCFdKS9nO2Z1bmN0aW9uIHFyKHQpe3JldHVybiB0LnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKCRyLGZ1bmN0aW9uKHQpe3JldHVybiImIyIrKDEwMjQqKHQuY2hhckNvZGVBdCgwKS01NTI5NikrKHQuY2hhckNvZGVBdCgxKS01NjMyMCkrNjU1MzYpKyI7In0pLnJlcGxhY2UoenIsZnVuY3Rpb24odCl7cmV0dXJuIiYjIit0LmNoYXJDb2RlQXQoMCkrIjsifSkucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCImZ3Q7Iil9bGV0IFdyO2Z1bmN0aW9uIEdyKHQsZSl7bGV0IG49bnVsbDt0cnl7V3I9V3J8fGZ1bmN0aW9uKHQpe2NvbnN0IGU9bmV3IEFyKHQpO3JldHVybiBmdW5jdGlvbigpe3RyeXtyZXR1cm4hIShuZXcgd2luZG93LkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGdyKCIiKSwidGV4dC9odG1sIil9Y2F0Y2godCl7cmV0dXJuITF9fSgpP25ldyB4cihlKTplfSh0KTtsZXQgcj1lP1N0cmluZyhlKToiIjtuPVdyLmdldEluZXJ0Qm9keUVsZW1lbnQocik7bGV0IHM9NSxpPXI7ZG97aWYoMD09PXMpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gc2FuaXRpemUgaHRtbCBiZWNhdXNlIHRoZSBpbnB1dCBpcyB1bnN0YWJsZSIpO3MtLSxyPWksaT1uLmlubmVySFRNTCxuPVdyLmdldEluZXJ0Qm9keUVsZW1lbnQocil9d2hpbGUociE9PWkpO3JldHVybiBncigobmV3IFVyKS5zYW5pdGl6ZUNoaWxkcmVuKFpyKG4pfHxuKSl9ZmluYWxseXtpZihuKXtjb25zdCB0PVpyKG4pfHxuO2Zvcig7dC5maXJzdENoaWxkOyl0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCl9fX1mdW5jdGlvbiBacih0KXtyZXR1cm4iY29udGVudCJpbiB0JiZmdW5jdGlvbih0KXtyZXR1cm4gdC5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiYiVEVNUExBVEUiPT09dC5ub2RlTmFtZX0odCk/dC5jb250ZW50Om51bGx9dmFyIFlyPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuTk9ORT0wXT0iTk9ORSIsdFt0LkhUTUw9MV09IkhUTUwiLHRbdC5TVFlMRT0yXT0iU1RZTEUiLHRbdC5TQ1JJUFQ9M109IlNDUklQVCIsdFt0LlVSTD00XT0iVVJMIix0W3QuUkVTT1VSQ0VfVVJMPTVdPSJSRVNPVVJDRV9VUkwiLHR9KHt9KTtmdW5jdGlvbiBLcih0KXtjb25zdCBlPWZ1bmN0aW9uKCl7Y29uc3QgdD1PZSgpO3JldHVybiB0JiZ0WzEyXX0oKTtyZXR1cm4gZT9tcihlLnNhbml0aXplKFlyLkhUTUwsdCl8fCIiKTpFcih0LCJIVE1MIik/bXIoRHIodCkpOkdyKGZlKCksbHQodCkpfWZ1bmN0aW9uIFFyKHQsZSl7dC5fX25nQ29udGV4dF9fPWV9ZnVuY3Rpb24gWHIodCl7Y29uc3QgZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5fX25nQ29udGV4dF9ffHxudWxsfSh0KTtyZXR1cm4gZT9BcnJheS5pc0FycmF5KGUpP2U6ZS5sVmlldzpudWxsfWZ1bmN0aW9uIEpyKHQpe3JldHVybiB0Lm5nRGVidWdDb250ZXh0fWZ1bmN0aW9uIHRzKHQpe3JldHVybiB0Lm5nT3JpZ2luYWxFcnJvcn1mdW5jdGlvbiBlcyh0LC4uLmUpe3QuZXJyb3IoLi4uZSl9Y2xhc3MgbnN7Y29uc3RydWN0b3IoKXt0aGlzLl9jb25zb2xlPWNvbnNvbGV9aGFuZGxlRXJyb3IodCl7Y29uc3QgZT10aGlzLl9maW5kT3JpZ2luYWxFcnJvcih0KSxuPXRoaXMuX2ZpbmRDb250ZXh0KHQpLHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQubmdFcnJvckxvZ2dlcnx8ZXN9KHQpO3IodGhpcy5fY29uc29sZSwiRVJST1IiLHQpLGUmJnIodGhpcy5fY29uc29sZSwiT1JJR0lOQUwgRVJST1IiLGUpLG4mJnIodGhpcy5fY29uc29sZSwiRVJST1IgQ09OVEVYVCIsbil9X2ZpbmRDb250ZXh0KHQpe3JldHVybiB0P0pyKHQpP0pyKHQpOnRoaXMuX2ZpbmRDb250ZXh0KHRzKHQpKTpudWxsfV9maW5kT3JpZ2luYWxFcnJvcih0KXtsZXQgZT10cyh0KTtmb3IoO2UmJnRzKGUpOyllPXRzKGUpO3JldHVybiBlfX1jb25zdCBycz0oKCk9PigidW5kZWZpbmVkIiE9dHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSYmcmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxzZXRUaW1lb3V0KS5iaW5kKGt0KSkoKTtmdW5jdGlvbiBzcyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEZ1bmN0aW9uP3QoKTp0fXZhciBpcz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkltcG9ydGFudD0xXT0iSW1wb3J0YW50Iix0W3QuRGFzaENhc2U9Ml09IkRhc2hDYXNlIix0fSh7fSk7ZnVuY3Rpb24gb3ModCxlKXtyZXR1cm4odm9pZCAwKSh0LGUpfWZ1bmN0aW9uIGFzKHQpe2NvbnN0IGU9dFszXTtyZXR1cm4gZWUoZSk/ZVszXTplfWZ1bmN0aW9uIGxzKHQpe3JldHVybiBjcyh0WzEzXSl9ZnVuY3Rpb24gdXModCl7cmV0dXJuIGNzKHRbNF0pfWZ1bmN0aW9uIGNzKHQpe2Zvcig7bnVsbCE9PXQmJiFlZSh0KTspdD10WzRdO3JldHVybiB0fWZ1bmN0aW9uIGhzKHQsZSxuLHIscyl7aWYobnVsbCE9cil7bGV0IGksbz0hMTtlZShyKT9pPXI6dGUocikmJihvPSEwLHI9clswXSk7Y29uc3QgYT15ZShyKTswPT09dCYmbnVsbCE9PW4/bnVsbD09cz9icyhlLG4sYSk6dnMoZSxuLGEsc3x8bnVsbCwhMCk6MT09PXQmJm51bGwhPT1uP3ZzKGUsbixhLHN8fG51bGwsITApOjI9PT10P2Z1bmN0aW9uKHQsZSxuKXtjb25zdCByPUNzKHQsZSk7ciYmZnVuY3Rpb24odCxlLG4scil7Z2UodCk/dC5yZW1vdmVDaGlsZChlLG4scik6ZS5yZW1vdmVDaGlsZChuKX0odCxyLGUsbil9KGUsYSxvKTozPT09dCYmZS5kZXN0cm95Tm9kZShhKSxudWxsIT1pJiZmdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9bls3XTtpIT09eWUobikmJmhzKGUsdCxyLGkscyk7Zm9yKGxldCBvPUp0O288bi5sZW5ndGg7bysrKXtjb25zdCBzPW5bb107T3Moc1sxXSxzLHQsZSxyLGkpfX0oZSx0LGksbixzKX19ZnVuY3Rpb24gZHModCxlLG4pe3JldHVybiBnZSh0KT90LmNyZWF0ZUVsZW1lbnQoZSxuKTpudWxsPT09bj90LmNyZWF0ZUVsZW1lbnQoZSk6dC5jcmVhdGVFbGVtZW50TlMobixlKX1mdW5jdGlvbiBwcyh0LGUpe2NvbnN0IG49dFs5XSxyPW4uaW5kZXhPZihlKSxzPWVbM107MTAyNCZlWzJdJiYoZVsyXSY9LTEwMjUseGUocywtMSkpLG4uc3BsaWNlKHIsMSl9ZnVuY3Rpb24gZnModCxlKXtpZih0Lmxlbmd0aDw9SnQpcmV0dXJuO2NvbnN0IG49SnQrZSxyPXRbbl07aWYocil7Y29uc3QgaT1yWzE3XTtudWxsIT09aSYmaSE9PXQmJnBzKGksciksZT4wJiYodFtuLTFdWzRdPXJbNF0pO2NvbnN0IG89WW4odCxKdCtlKTtPcyhyWzFdLHM9cixzWzExXSwyLG51bGwsbnVsbCksc1swXT1udWxsLHNbNl09bnVsbDtjb25zdCBhPW9bMTldO251bGwhPT1hJiZhLmRldGFjaFZpZXcob1sxXSksclszXT1udWxsLHJbNF09bnVsbCxyWzJdJj0tMTI5fXZhciBzO3JldHVybiByfWZ1bmN0aW9uIGdzKHQsZSl7aWYoISgyNTYmZVsyXSkpe2NvbnN0IG49ZVsxMV07Z2UobikmJm4uZGVzdHJveU5vZGUmJk9zKHQsZSxuLDMsbnVsbCxudWxsKSxmdW5jdGlvbih0KXtsZXQgZT10WzEzXTtpZighZSlyZXR1cm4gbXModFsxXSx0KTtmb3IoO2U7KXtsZXQgbj1udWxsO2lmKHRlKGUpKW49ZVsxM107ZWxzZXtjb25zdCB0PWVbMTBdO3QmJihuPXQpfWlmKCFuKXtmb3IoO2UmJiFlWzRdJiZlIT09dDspdGUoZSkmJm1zKGVbMV0sZSksZT1lWzNdO251bGw9PT1lJiYoZT10KSx0ZShlKSYmbXMoZVsxXSxlKSxuPWUmJmVbNF19ZT1ufX0oZSl9fWZ1bmN0aW9uIG1zKHQsZSl7aWYoISgyNTYmZVsyXSkpe2VbMl0mPS0xMjksZVsyXXw9MjU2LGZ1bmN0aW9uKHQsZSl7bGV0IG47aWYobnVsbCE9dCYmbnVsbCE9KG49dC5kZXN0cm95SG9va3MpKWZvcihsZXQgcj0wO3I8bi5sZW5ndGg7cis9Mil7Y29uc3QgdD1lW25bcl1dO2lmKCEodCBpbnN0YW5jZW9mIGhuKSl7Y29uc3QgZT1uW3IrMV07aWYoQXJyYXkuaXNBcnJheShlKSlmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rPTIpe2NvbnN0IHI9dFtlW25dXSxzPWVbbisxXTt0cnl7cy5jYWxsKHIpfWZpbmFsbHl7fX1lbHNlIHRyeXtlLmNhbGwodCl9ZmluYWxseXt9fX19KHQsZSksZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuY2xlYW51cCxyPWVbN107bGV0IHM9LTE7aWYobnVsbCE9PW4pZm9yKGxldCBpPTA7aTxuLmxlbmd0aC0xO2krPTIpaWYoInN0cmluZyI9PXR5cGVvZiBuW2ldKXtjb25zdCB0PW5baSsxXSxvPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3QoZSk6eWUoZVt0XSksYT1yW3M9bltpKzJdXSxsPW5baSszXTsiYm9vbGVhbiI9PXR5cGVvZiBsP28ucmVtb3ZlRXZlbnRMaXN0ZW5lcihuW2ldLGEsbCk6bD49MD9yW3M9bF0oKTpyW3M9LWxdLnVuc3Vic2NyaWJlKCksaSs9Mn1lbHNle2NvbnN0IHQ9cltzPW5baSsxXV07bltpXS5jYWxsKHQpfWlmKG51bGwhPT1yKXtmb3IobGV0IHQ9cysxO3Q8ci5sZW5ndGg7dCsrKSgwLHJbdF0pKCk7ZVs3XT1udWxsfX0odCxlKSwxPT09ZVsxXS50eXBlJiZnZShlWzExXSkmJmVbMTFdLmRlc3Ryb3koKTtjb25zdCBuPWVbMTddO2lmKG51bGwhPT1uJiZlZShlWzNdKSl7biE9PWVbM10mJnBzKG4sZSk7Y29uc3Qgcj1lWzE5XTtudWxsIT09ciYmci5kZXRhY2hWaWV3KHQpfX19ZnVuY3Rpb24geXModCxlLG4pe3JldHVybiBmdW5jdGlvbih0LGUsbil7bGV0IHI9ZTtmb3IoO251bGwhPT1yJiY0MCZyLnR5cGU7KXI9KGU9cikucGFyZW50O2lmKG51bGw9PT1yKXJldHVybiBuWzBdO2lmKDImci5mbGFncyl7Y29uc3QgZT10LmRhdGFbci5kaXJlY3RpdmVTdGFydF0uZW5jYXBzdWxhdGlvbjtpZihlPT09eHQuTm9uZXx8ZT09PXh0LkVtdWxhdGVkKXJldHVybiBudWxsfXJldHVybiBiZShyLG4pfSh0LGUucGFyZW50LG4pfWZ1bmN0aW9uIHZzKHQsZSxuLHIscyl7Z2UodCk/dC5pbnNlcnRCZWZvcmUoZSxuLHIscyk6ZS5pbnNlcnRCZWZvcmUobixyLHMpfWZ1bmN0aW9uIGJzKHQsZSxuKXtnZSh0KT90LmFwcGVuZENoaWxkKGUsbik6ZS5hcHBlbmRDaGlsZChuKX1mdW5jdGlvbiB3cyh0LGUsbixyLHMpe251bGwhPT1yP3ZzKHQsZSxuLHIscyk6YnModCxlLG4pfWZ1bmN0aW9uIENzKHQsZSl7cmV0dXJuIGdlKHQpP3QucGFyZW50Tm9kZShlKTplLnBhcmVudE5vZGV9ZnVuY3Rpb24gX3ModCxlLG4pe3JldHVybiBEcyh0LGUsbil9bGV0IERzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gNDAmdC50eXBlP2JlKHQsbik6bnVsbH07ZnVuY3Rpb24gRXModCxlLG4scil7Y29uc3Qgcz15cyh0LHIsZSksaT1lWzExXSxvPV9zKHIucGFyZW50fHxlWzZdLHIsZSk7aWYobnVsbCE9cylpZihBcnJheS5pc0FycmF5KG4pKWZvcihsZXQgYT0wO2E8bi5sZW5ndGg7YSsrKXdzKGkscyxuW2FdLG8sITEpO2Vsc2Ugd3MoaSxzLG4sbywhMSl9ZnVuY3Rpb24gU3ModCxlKXtpZihudWxsIT09ZSl7Y29uc3Qgbj1lLnR5cGU7aWYoMyZuKXJldHVybiBiZShlLHQpO2lmKDQmbilyZXR1cm4gQXMoLTEsdFtlLmluZGV4XSk7aWYoOCZuKXtjb25zdCBuPWUuY2hpbGQ7aWYobnVsbCE9PW4pcmV0dXJuIFNzKHQsbik7e2NvbnN0IG49dFtlLmluZGV4XTtyZXR1cm4gZWUobik/QXMoLTEsbik6eWUobil9fWlmKDMyJm4pcmV0dXJuIG9zKGUsdCkoKXx8eWUodFtlLmluZGV4XSk7e2NvbnN0IG49eHModCxlKTtyZXR1cm4gbnVsbCE9PW4/QXJyYXkuaXNBcnJheShuKT9uWzBdOlNzKGFzKHRbMTZdKSxuKTpTcyh0LGUubmV4dCl9fXJldHVybiBudWxsfWZ1bmN0aW9uIHhzKHQsZSl7cmV0dXJuIG51bGwhPT1lP3RbMTZdWzZdLnByb2plY3Rpb25bZS5wcm9qZWN0aW9uXTpudWxsfWZ1bmN0aW9uIEFzKHQsZSl7Y29uc3Qgbj1KdCt0KzE7aWYobjxlLmxlbmd0aCl7Y29uc3QgdD1lW25dLHI9dFsxXS5maXJzdENoaWxkO2lmKG51bGwhPT1yKXJldHVybiBTcyh0LHIpfXJldHVybiBlWzddfWZ1bmN0aW9uIFRzKHQsZSxuLHIscyxpLG8pe2Zvcig7bnVsbCE9bjspe2NvbnN0IGE9cltuLmluZGV4XSxsPW4udHlwZTtpZihvJiYwPT09ZSYmKGEmJlFyKHllKGEpLHIpLG4uZmxhZ3N8PTQpLDY0IT0oNjQmbi5mbGFncykpaWYoOCZsKVRzKHQsZSxuLmNoaWxkLHIscyxpLCExKSxocyhlLHQscyxhLGkpO2Vsc2UgaWYoMzImbCl7Y29uc3Qgbz1vcyhuLHIpO2xldCBsO2Zvcig7bD1vKCk7KWhzKGUsdCxzLGwsaSk7aHMoZSx0LHMsYSxpKX1lbHNlIDE2Jmw/RnModCxlLHIsbixzLGkpOmhzKGUsdCxzLGEsaSk7bj1vP24ucHJvamVjdGlvbk5leHQ6bi5uZXh0fX1mdW5jdGlvbiBPcyh0LGUsbixyLHMsaSl7VHMobixyLHQuZmlyc3RDaGlsZCxlLHMsaSwhMSl9ZnVuY3Rpb24gRnModCxlLG4scixzLGkpe2NvbnN0IG89blsxNl0sYT1vWzZdLnByb2plY3Rpb25bci5wcm9qZWN0aW9uXTtpZihBcnJheS5pc0FycmF5KGEpKWZvcihsZXQgbD0wO2w8YS5sZW5ndGg7bCsrKWhzKGUsdCxzLGFbbF0saSk7ZWxzZSBUcyh0LGUsYSxvWzNdLHMsaSwhMCl9ZnVuY3Rpb24ga3ModCxlLG4pe2dlKHQpP3Quc2V0QXR0cmlidXRlKGUsInN0eWxlIixuKTplLnN0eWxlLmNzc1RleHQ9bn1mdW5jdGlvbiBJcyh0LGUsbil7Z2UodCk/IiI9PT1uP3QucmVtb3ZlQXR0cmlidXRlKGUsImNsYXNzIik6dC5zZXRBdHRyaWJ1dGUoZSwiY2xhc3MiLG4pOmUuY2xhc3NOYW1lPW59ZnVuY3Rpb24gUnModCxlLG4pe2xldCByPXQubGVuZ3RoO2Zvcig7Oyl7Y29uc3Qgcz10LmluZGV4T2YoZSxuKTtpZigtMT09PXMpcmV0dXJuIHM7aWYoMD09PXN8fHQuY2hhckNvZGVBdChzLTEpPD0zMil7Y29uc3Qgbj1lLmxlbmd0aDtpZihzK249PT1yfHx0LmNoYXJDb2RlQXQocytuKTw9MzIpcmV0dXJuIHN9bj1zKzF9fWNvbnN0IFBzPSJuZy10ZW1wbGF0ZSI7ZnVuY3Rpb24gTHModCxlLG4pe2xldCByPTA7Zm9yKDtyPHQubGVuZ3RoOyl7bGV0IHM9dFtyKytdO2lmKG4mJiJjbGFzcyI9PT1zKXtpZihzPXRbcl0sLTEhPT1ScyhzLnRvTG93ZXJDYXNlKCksZSwwKSlyZXR1cm4hMH1lbHNlIGlmKDE9PT1zKXtmb3IoO3I8dC5sZW5ndGgmJiJzdHJpbmciPT10eXBlb2Yocz10W3IrK10pOylpZihzLnRvTG93ZXJDYXNlKCk9PT1lKXJldHVybiEwO3JldHVybiExfX1yZXR1cm4hMX1mdW5jdGlvbiBOcyh0KXtyZXR1cm4gND09PXQudHlwZSYmdC52YWx1ZSE9PVBzfWZ1bmN0aW9uIGpzKHQsZSxuKXtyZXR1cm4gZT09PSg0IT09dC50eXBlfHxuP3QudmFsdWU6UHMpfWZ1bmN0aW9uIE1zKHQsZSxuKXtsZXQgcj00O2NvbnN0IHM9dC5hdHRyc3x8W10saT1mdW5jdGlvbih0KXtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpZihwbih0W2VdKSlyZXR1cm4gZTtyZXR1cm4gdC5sZW5ndGh9KHMpO2xldCBvPSExO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKXtjb25zdCBsPWVbYV07aWYoIm51bWJlciIhPXR5cGVvZiBsKXtpZighbylpZig0JnIpe2lmKHI9MnwxJnIsIiIhPT1sJiYhanModCxsLG4pfHwiIj09PWwmJjE9PT1lLmxlbmd0aCl7aWYoVnMocikpcmV0dXJuITE7bz0hMH19ZWxzZXtjb25zdCB1PTgmcj9sOmVbKythXTtpZig4JnImJm51bGwhPT10LmF0dHJzKXtpZighTHModC5hdHRycyx1LG4pKXtpZihWcyhyKSlyZXR1cm4hMTtvPSEwfWNvbnRpbnVlfWNvbnN0IGM9QnMoOCZyPyJjbGFzcyI6bCxzLE5zKHQpLG4pO2lmKC0xPT09Yyl7aWYoVnMocikpcmV0dXJuITE7bz0hMDtjb250aW51ZX1pZigiIiE9PXUpe2xldCB0O3Q9Yz5pPyIiOnNbYysxXS50b0xvd2VyQ2FzZSgpO2NvbnN0IGU9OCZyP3Q6bnVsbDtpZihlJiYtMSE9PVJzKGUsdSwwKXx8MiZyJiZ1IT09dCl7aWYoVnMocikpcmV0dXJuITE7bz0hMH19fX1lbHNle2lmKCFvJiYhVnMocikmJiFWcyhsKSlyZXR1cm4hMTtpZihvJiZWcyhsKSljb250aW51ZTtvPSExLHI9bHwxJnJ9fXJldHVybiBWcyhyKXx8b31mdW5jdGlvbiBWcyh0KXtyZXR1cm4gMD09KDEmdCl9ZnVuY3Rpb24gQnModCxlLG4scil7aWYobnVsbD09PWUpcmV0dXJuLTE7bGV0IHM9MDtpZihyfHwhbil7bGV0IG49ITE7Zm9yKDtzPGUubGVuZ3RoOyl7Y29uc3Qgcj1lW3NdO2lmKHI9PT10KXJldHVybiBzO2lmKDM9PT1yfHw2PT09ciluPSEwO2Vsc2V7aWYoMT09PXJ8fDI9PT1yKXtsZXQgdD1lWysrc107Zm9yKDsic3RyaW5nIj09dHlwZW9mIHQ7KXQ9ZVsrK3NdO2NvbnRpbnVlfWlmKDQ9PT1yKWJyZWFrO2lmKDA9PT1yKXtzKz00O2NvbnRpbnVlfX1zKz1uPzE6Mn1yZXR1cm4tMX1yZXR1cm4gZnVuY3Rpb24odCxlKXtsZXQgbj10LmluZGV4T2YoNCk7aWYobj4tMSlmb3IobisrO248dC5sZW5ndGg7KXtjb25zdCByPXRbbl07aWYoIm51bWJlciI9PXR5cGVvZiByKXJldHVybi0xO2lmKHI9PT1lKXJldHVybiBuO24rK31yZXR1cm4tMX0oZSx0KX1mdW5jdGlvbiBIcyh0LGUsbj0hMSl7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYoTXModCxlW3JdLG4pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFVzKHQsZSl7dDpmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3Qgcj1lW25dO2lmKHQubGVuZ3RoPT09ci5sZW5ndGgpe2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV0hPT1yW2VdKWNvbnRpbnVlIHQ7cmV0dXJuITB9fXJldHVybiExfWZ1bmN0aW9uICRzKHQsZSl7cmV0dXJuIHQ/Ijpub3QoIitlLnRyaW0oKSsiKSI6ZX1mdW5jdGlvbiB6cyh0KXtsZXQgZT10WzBdLG49MSxyPTIscz0iIixpPSExO2Zvcig7bjx0Lmxlbmd0aDspe2xldCBvPXRbbl07aWYoInN0cmluZyI9PXR5cGVvZiBvKWlmKDImcil7Y29uc3QgZT10Wysrbl07cys9IlsiK28rKGUubGVuZ3RoPjA/Jz0iJytlKyciJzoiIikrIl0ifWVsc2UgOCZyP3MrPSIuIitvOjQmciYmKHMrPSIgIitvKTtlbHNlIiI9PT1zfHxWcyhvKXx8KGUrPSRzKGkscykscz0iIikscj1vLGk9aXx8IVZzKHIpO24rK31yZXR1cm4iIiE9PXMmJihlKz0kcyhpLHMpKSxlfWNvbnN0IHFzPXt9O2Z1bmN0aW9uIFdzKHQpe0dzKEZlKCksT2UoKSx0bigpK3QsamUoKSl9ZnVuY3Rpb24gR3ModCxlLG4scil7aWYoIXIpaWYoMz09KDMmZVsyXSkpe2NvbnN0IHI9dC5wcmVPcmRlckNoZWNrSG9va3M7bnVsbCE9PXImJnNuKGUscixuKX1lbHNle2NvbnN0IHI9dC5wcmVPcmRlckhvb2tzO251bGwhPT1yJiZvbihlLHIsMCxuKX1lbihuKX1mdW5jdGlvbiBacyh0LGUpe3JldHVybiB0PDwxN3xlPDwyfWZ1bmN0aW9uIFlzKHQpe3JldHVybiB0Pj4xNyYzMjc2N31mdW5jdGlvbiBLcyh0KXtyZXR1cm4gMnx0fWZ1bmN0aW9uIFFzKHQpe3JldHVybigxMzEwNjgmdCk+PjJ9ZnVuY3Rpb24gWHModCxlKXtyZXR1cm4tMTMxMDY5JnR8ZTw8Mn1mdW5jdGlvbiBKcyh0KXtyZXR1cm4gMXx0fWZ1bmN0aW9uIHRpKHQsZSl7Y29uc3Qgbj10LmNvbnRlbnRRdWVyaWVzO2lmKG51bGwhPT1uKWZvcihsZXQgcj0wO3I8bi5sZW5ndGg7cis9Mil7Y29uc3Qgcz1uW3JdLGk9bltyKzFdO2lmKC0xIT09aSl7Y29uc3Qgbj10LmRhdGFbaV07cWUocyksbi5jb250ZW50UXVlcmllcygyLGVbaV0saSl9fX1mdW5jdGlvbiBlaSh0LGUsbixyLHMsaSxvLGEsbCx1KXtjb25zdCBjPWUuYmx1ZXByaW50LnNsaWNlKCk7cmV0dXJuIGNbMF09cyxjWzJdPTE0MHxyLFNlKGMpLGNbM109Y1sxNV09dCxjWzhdPW4sY1sxMF09b3x8dCYmdFsxMF0sY1sxMV09YXx8dCYmdFsxMV0sY1sxMl09bHx8dCYmdFsxMl18fG51bGwsY1s5XT11fHx0JiZ0WzldfHxudWxsLGNbNl09aSxjWzE2XT0yPT1lLnR5cGU/dFsxNl06YyxjfWZ1bmN0aW9uIG5pKHQsZSxuLHIscyl7bGV0IGk9dC5kYXRhW2VdO2lmKG51bGw9PT1pKWk9ZnVuY3Rpb24odCxlLG4scixzKXtjb25zdCBpPVJlKCksbz1MZSgpLGE9dC5kYXRhW2VdPWZ1bmN0aW9uKHQsZSxuLHIscyxpKXtyZXR1cm57dHlwZTpuLGluZGV4OnIsaW5zZXJ0QmVmb3JlSW5kZXg6bnVsbCxpbmplY3RvckluZGV4OmU/ZS5pbmplY3RvckluZGV4Oi0xLGRpcmVjdGl2ZVN0YXJ0Oi0xLGRpcmVjdGl2ZUVuZDotMSxkaXJlY3RpdmVTdHlsaW5nTGFzdDotMSxwcm9wZXJ0eUJpbmRpbmdzOm51bGwsZmxhZ3M6MCxwcm92aWRlckluZGV4ZXM6MCx2YWx1ZTpzLGF0dHJzOmksbWVyZ2VkQXR0cnM6bnVsbCxsb2NhbE5hbWVzOm51bGwsaW5pdGlhbElucHV0czp2b2lkIDAsaW5wdXRzOm51bGwsb3V0cHV0czpudWxsLHRWaWV3czpudWxsLG5leHQ6bnVsbCxwcm9qZWN0aW9uTmV4dDpudWxsLGNoaWxkOm51bGwscGFyZW50OmUscHJvamVjdGlvbjpudWxsLHN0eWxlczpudWxsLHN0eWxlc1dpdGhvdXRIb3N0Om51bGwscmVzaWR1YWxTdHlsZXM6dm9pZCAwLGNsYXNzZXM6bnVsbCxjbGFzc2VzV2l0aG91dEhvc3Q6bnVsbCxyZXNpZHVhbENsYXNzZXM6dm9pZCAwLGNsYXNzQmluZGluZ3M6MCxzdHlsZUJpbmRpbmdzOjB9fSgwLG8/aTppJiZpLnBhcmVudCxuLGUscixzKTtyZXR1cm4gbnVsbD09PXQuZmlyc3RDaGlsZCYmKHQuZmlyc3RDaGlsZD1hKSxudWxsIT09aSYmKG8/bnVsbD09aS5jaGlsZCYmbnVsbCE9PWEucGFyZW50JiYoaS5jaGlsZD1hKTpudWxsPT09aS5uZXh0JiYoaS5uZXh0PWEpKSxhfSh0LGUsbixyLHMpLEFlLmxGcmFtZS5pbkkxOG4mJihpLmZsYWdzfD02NCk7ZWxzZSBpZig2NCZpLnR5cGUpe2kudHlwZT1uLGkudmFsdWU9cixpLmF0dHJzPXM7Y29uc3QgdD1mdW5jdGlvbigpe2NvbnN0IHQ9QWUubEZyYW1lLGU9dC5jdXJyZW50VE5vZGU7cmV0dXJuIHQuaXNQYXJlbnQ/ZTplLnBhcmVudH0oKTtpLmluamVjdG9ySW5kZXg9bnVsbD09PXQ/LTE6dC5pbmplY3RvckluZGV4fXJldHVybiBQZShpLCEwKSxpfWZ1bmN0aW9uIHJpKHQsZSxuLHIpe2lmKDA9PT1uKXJldHVybi0xO2NvbnN0IHM9ZS5sZW5ndGg7Zm9yKGxldCBpPTA7aTxuO2krKyllLnB1c2gociksdC5ibHVlcHJpbnQucHVzaChyKSx0LmRhdGEucHVzaChudWxsKTtyZXR1cm4gc31mdW5jdGlvbiBzaSh0LGUsbil7WmUoZSk7dHJ5e2NvbnN0IHI9dC52aWV3UXVlcnk7bnVsbCE9PXImJlJpKDEscixuKTtjb25zdCBzPXQudGVtcGxhdGU7bnVsbCE9PXMmJmFpKHQsZSxzLDEsbiksdC5maXJzdENyZWF0ZVBhc3MmJih0LmZpcnN0Q3JlYXRlUGFzcz0hMSksdC5zdGF0aWNDb250ZW50UXVlcmllcyYmdGkodCxlKSx0LnN0YXRpY1ZpZXdRdWVyaWVzJiZSaSgyLHQudmlld1F1ZXJ5LG4pO2NvbnN0IGk9dC5jb21wb25lbnRzO251bGwhPT1pJiZmdW5jdGlvbih0LGUpe2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKVRpKHQsZVtuXSl9KGUsaSl9Y2F0Y2gocil7dGhyb3cgdC5maXJzdENyZWF0ZVBhc3MmJih0LmluY29tcGxldGVGaXJzdFBhc3M9ITApLHJ9ZmluYWxseXtlWzJdJj0tNSxKZSgpfX1mdW5jdGlvbiBpaSh0LGUsbixyKXtjb25zdCBzPWVbMl07aWYoMjU2PT0oMjU2JnMpKXJldHVybjtaZShlKTtjb25zdCBpPWplKCk7dHJ5e1NlKGUpLEFlLmxGcmFtZS5iaW5kaW5nSW5kZXg9dC5iaW5kaW5nU3RhcnRJbmRleCxudWxsIT09biYmYWkodCxlLG4sMixyKTtjb25zdCBvPTM9PSgzJnMpO2lmKCFpKWlmKG8pe2NvbnN0IG49dC5wcmVPcmRlckNoZWNrSG9va3M7bnVsbCE9PW4mJnNuKGUsbixudWxsKX1lbHNle2NvbnN0IG49dC5wcmVPcmRlckhvb2tzO251bGwhPT1uJiZvbihlLG4sMCxudWxsKSxhbihlLDApfWlmKGZ1bmN0aW9uKHQpe2ZvcihsZXQgZT1scyh0KTtudWxsIT09ZTtlPXVzKGUpKXtpZighZVsyXSljb250aW51ZTtjb25zdCB0PWVbOV07Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IG49dFtlXSxyPW5bM107MD09KDEwMjQmblsyXSkmJnhlKHIsMSksblsyXXw9MTAyNH19fShlKSxmdW5jdGlvbih0KXtmb3IobGV0IGU9bHModCk7bnVsbCE9PWU7ZT11cyhlKSlmb3IobGV0IHQ9SnQ7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG49ZVt0XSxyPW5bMV07RGUobikmJmlpKHIsbixyLnRlbXBsYXRlLG5bOF0pfX0oZSksbnVsbCE9PXQuY29udGVudFF1ZXJpZXMmJnRpKHQsZSksIWkpaWYobyl7Y29uc3Qgbj10LmNvbnRlbnRDaGVja0hvb2tzO251bGwhPT1uJiZzbihlLG4pfWVsc2V7Y29uc3Qgbj10LmNvbnRlbnRIb29rcztudWxsIT09biYmb24oZSxuLDEpLGFuKGUsMSl9IWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10Lmhvc3RCaW5kaW5nT3BDb2RlcztpZihudWxsIT09bil0cnl7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IHI9blt0XTtpZihyPDApZW4ofnIpO2Vsc2V7Y29uc3Qgcz1yLGk9blsrK3RdLG89blsrK3RdO1VlKGkscyksbygyLGVbc10pfX19ZmluYWxseXtlbigtMSl9fSh0LGUpO2NvbnN0IGE9dC5jb21wb25lbnRzO251bGwhPT1hJiZmdW5jdGlvbih0LGUpe2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXhpKHQsZVtuXSl9KGUsYSk7Y29uc3QgbD10LnZpZXdRdWVyeTtpZihudWxsIT09bCYmUmkoMixsLHIpLCFpKWlmKG8pe2NvbnN0IG49dC52aWV3Q2hlY2tIb29rcztudWxsIT09biYmc24oZSxuKX1lbHNle2NvbnN0IG49dC52aWV3SG9va3M7bnVsbCE9PW4mJm9uKGUsbiwyKSxhbihlLDIpfSEwPT09dC5maXJzdFVwZGF0ZVBhc3MmJih0LmZpcnN0VXBkYXRlUGFzcz0hMSksaXx8KGVbMl0mPS03MyksMTAyNCZlWzJdJiYoZVsyXSY9LTEwMjUseGUoZVszXSwtMSkpfWZpbmFsbHl7SmUoKX19ZnVuY3Rpb24gb2kodCxlLG4scil7Y29uc3Qgcz1lWzEwXSxpPSFqZSgpLG89X2UoZSk7dHJ5e2kmJiFvJiZzLmJlZ2luJiZzLmJlZ2luKCksbyYmc2kodCxlLHIpLGlpKHQsZSxuLHIpfWZpbmFsbHl7aSYmIW8mJnMuZW5kJiZzLmVuZCgpfX1mdW5jdGlvbiBhaSh0LGUsbixyLHMpe2NvbnN0IGk9dG4oKSxvPTImcjt0cnl7ZW4oLTEpLG8mJmUubGVuZ3RoPlh0JiZHcyh0LGUsWHQsamUoKSksbihyLHMpfWZpbmFsbHl7ZW4oaSl9fWZ1bmN0aW9uIGxpKHQsZSxuKXtpZihuZShlKSl7Y29uc3Qgcj1lLmRpcmVjdGl2ZUVuZDtmb3IobGV0IHM9ZS5kaXJlY3RpdmVTdGFydDtzPHI7cysrKXtjb25zdCBlPXQuZGF0YVtzXTtlLmNvbnRlbnRRdWVyaWVzJiZlLmNvbnRlbnRRdWVyaWVzKDEsbltzXSxzKX19fWZ1bmN0aW9uIHVpKHQsZSxuKXtUZSgpJiYoZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz1uLmRpcmVjdGl2ZVN0YXJ0LGk9bi5kaXJlY3RpdmVFbmQ7dC5maXJzdENyZWF0ZVBhc3N8fERuKG4sZSksUXIocixlKTtjb25zdCBvPW4uaW5pdGlhbElucHV0cztmb3IobGV0IGE9czthPGk7YSsrKXtjb25zdCByPXQuZGF0YVthXSxpPWllKHIpO2kmJl9pKGUsbixyKTtjb25zdCBsPUxuKGUsdCxhLG4pO1FyKGwsZSksbnVsbCE9PW8mJkRpKDAsYS1zLGwsciwwLG8pLGkmJihDZShuLmluZGV4LGUpWzhdPWwpfX0odCxlLG4sYmUobixlKSksMTI4PT0oMTI4Jm4uZmxhZ3MpJiZmdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1uLmRpcmVjdGl2ZVN0YXJ0LHM9bi5kaXJlY3RpdmVFbmQsaT1uLmluZGV4LG89QWUubEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleDt0cnl7ZW4oaSk7Zm9yKGxldCBuPXI7bjxzO24rKyl7Y29uc3Qgcj10LmRhdGFbbl0scz1lW25dOyRlKG4pLG51bGw9PT1yLmhvc3RCaW5kaW5ncyYmMD09PXIuaG9zdFZhcnMmJm51bGw9PT1yLmhvc3RBdHRyc3x8eWkocixzKX19ZmluYWxseXtlbigtMSksJGUobyl9fSh0LGUsbikpfWZ1bmN0aW9uIGNpKHQsZSxuPWJlKXtjb25zdCByPWUubG9jYWxOYW1lcztpZihudWxsIT09cil7bGV0IHM9ZS5pbmRleCsxO2ZvcihsZXQgaT0wO2k8ci5sZW5ndGg7aSs9Mil7Y29uc3Qgbz1yW2krMV0sYT0tMT09PW8/bihlLHQpOnRbb107dFtzKytdPWF9fX1mdW5jdGlvbiBoaSh0KXtjb25zdCBlPXQudFZpZXc7cmV0dXJuIG51bGw9PT1lfHxlLmluY29tcGxldGVGaXJzdFBhc3M/dC50Vmlldz1kaSgxLG51bGwsdC50ZW1wbGF0ZSx0LmRlY2xzLHQudmFycyx0LmRpcmVjdGl2ZURlZnMsdC5waXBlRGVmcyx0LnZpZXdRdWVyeSx0LnNjaGVtYXMsdC5jb25zdHMpOmV9ZnVuY3Rpb24gZGkodCxlLG4scixzLGksbyxhLGwsdSl7Y29uc3QgYz1YdCtyLGg9YytzLGQ9ZnVuY3Rpb24odCxlKXtjb25zdCBuPVtdO2ZvcihsZXQgcj0wO3I8ZTtyKyspbi5wdXNoKHI8dD9udWxsOnFzKTtyZXR1cm4gbn0oYyxoKSxwPSJmdW5jdGlvbiI9PXR5cGVvZiB1P3UoKTp1O3JldHVybiBkWzFdPXt0eXBlOnQsYmx1ZXByaW50OmQsdGVtcGxhdGU6bixxdWVyaWVzOm51bGwsdmlld1F1ZXJ5OmEsZGVjbFROb2RlOmUsZGF0YTpkLnNsaWNlKCkuZmlsbChudWxsLGMpLGJpbmRpbmdTdGFydEluZGV4OmMsZXhwYW5kb1N0YXJ0SW5kZXg6aCxob3N0QmluZGluZ09wQ29kZXM6bnVsbCxmaXJzdENyZWF0ZVBhc3M6ITAsZmlyc3RVcGRhdGVQYXNzOiEwLHN0YXRpY1ZpZXdRdWVyaWVzOiExLHN0YXRpY0NvbnRlbnRRdWVyaWVzOiExLHByZU9yZGVySG9va3M6bnVsbCxwcmVPcmRlckNoZWNrSG9va3M6bnVsbCxjb250ZW50SG9va3M6bnVsbCxjb250ZW50Q2hlY2tIb29rczpudWxsLHZpZXdIb29rczpudWxsLHZpZXdDaGVja0hvb2tzOm51bGwsZGVzdHJveUhvb2tzOm51bGwsY2xlYW51cDpudWxsLGNvbnRlbnRRdWVyaWVzOm51bGwsY29tcG9uZW50czpudWxsLGRpcmVjdGl2ZVJlZ2lzdHJ5OiJmdW5jdGlvbiI9PXR5cGVvZiBpP2koKTppLHBpcGVSZWdpc3RyeToiZnVuY3Rpb24iPT10eXBlb2Ygbz9vKCk6byxmaXJzdENoaWxkOm51bGwsc2NoZW1hczpsLGNvbnN0czpwLGluY29tcGxldGVGaXJzdFBhc3M6ITF9fWZ1bmN0aW9uIHBpKHQsZSxuLHIpe2NvbnN0IHM9TGkoZSk7bnVsbD09PW4/cy5wdXNoKHIpOihzLnB1c2gobiksdC5maXJzdENyZWF0ZVBhc3MmJk5pKHQpLnB1c2gocixzLmxlbmd0aC0xKSl9ZnVuY3Rpb24gZmkodCxlLG4pe2ZvcihsZXQgciBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkocikpe2NvbnN0IHM9dFtyXTsobj1udWxsPT09bj97fTpuKS5oYXNPd25Qcm9wZXJ0eShyKT9uW3JdLnB1c2goZSxzKTpuW3JdPVtlLHNdfXJldHVybiBufWZ1bmN0aW9uIGdpKHQsZSxuLHIpe2xldCBzPSExO2lmKFRlKCkpe2NvbnN0IGk9ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9dC5kaXJlY3RpdmVSZWdpc3RyeTtsZXQgcz1udWxsO2lmKHIpZm9yKGxldCBpPTA7aTxyLmxlbmd0aDtpKyspe2NvbnN0IG89cltpXTtIcyhuLG8uc2VsZWN0b3JzLCExKSYmKHN8fChzPVtdKSxBbihEbihuLGUpLHQsby50eXBlKSxpZShvKT8odmkodCxuKSxzLnVuc2hpZnQobykpOnMucHVzaChvKSl9cmV0dXJuIHN9KHQsZSxuKSxvPW51bGw9PT1yP251bGw6eyIiOi0xfTtpZihudWxsIT09aSl7cz0hMCx3aShuLHQuZGF0YS5sZW5ndGgsaS5sZW5ndGgpO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKXtjb25zdCBlPWlbdF07ZS5wcm92aWRlcnNSZXNvbHZlciYmZS5wcm92aWRlcnNSZXNvbHZlcihlKX1sZXQgcj0hMSxhPSExLGw9cmkodCxlLGkubGVuZ3RoLG51bGwpO2ZvcihsZXQgcz0wO3M8aS5sZW5ndGg7cysrKXtjb25zdCB1PWlbc107bi5tZXJnZWRBdHRycz1nbihuLm1lcmdlZEF0dHJzLHUuaG9zdEF0dHJzKSxDaSh0LG4sZSxsLHUpLGJpKGwsdSxvKSxudWxsIT09dS5jb250ZW50UXVlcmllcyYmKG4uZmxhZ3N8PTgpLG51bGw9PT11Lmhvc3RCaW5kaW5ncyYmbnVsbD09PXUuaG9zdEF0dHJzJiYwPT09dS5ob3N0VmFyc3x8KG4uZmxhZ3N8PTEyOCk7Y29uc3QgYz11LnR5cGUucHJvdG90eXBlOyFyJiYoYy5uZ09uQ2hhbmdlc3x8Yy5uZ09uSW5pdHx8Yy5uZ0RvQ2hlY2spJiYoKHQucHJlT3JkZXJIb29rc3x8KHQucHJlT3JkZXJIb29rcz1bXSkpLnB1c2gobi5pbmRleCkscj0hMCksYXx8IWMubmdPbkNoYW5nZXMmJiFjLm5nRG9DaGVja3x8KCh0LnByZU9yZGVyQ2hlY2tIb29rc3x8KHQucHJlT3JkZXJDaGVja0hvb2tzPVtdKSkucHVzaChuLmluZGV4KSxhPSEwKSxsKyt9IWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1lLmRpcmVjdGl2ZUVuZCxyPXQuZGF0YSxzPWUuYXR0cnMsaT1bXTtsZXQgbz1udWxsLGE9bnVsbDtmb3IobGV0IGw9ZS5kaXJlY3RpdmVTdGFydDtsPG47bCsrKXtjb25zdCB0PXJbbF0sbj10LmlucHV0cyx1PW51bGw9PT1zfHxOcyhlKT9udWxsOkVpKG4scyk7aS5wdXNoKHUpLG89ZmkobixsLG8pLGE9ZmkodC5vdXRwdXRzLGwsYSl9bnVsbCE9PW8mJihvLmhhc093blByb3BlcnR5KCJjbGFzcyIpJiYoZS5mbGFnc3w9MTYpLG8uaGFzT3duUHJvcGVydHkoInN0eWxlIikmJihlLmZsYWdzfD0zMikpLGUuaW5pdGlhbElucHV0cz1pLGUuaW5wdXRzPW8sZS5vdXRwdXRzPWF9KHQsbil9byYmZnVuY3Rpb24odCxlLG4pe2lmKGUpe2NvbnN0IHI9dC5sb2NhbE5hbWVzPVtdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9Mil7Y29uc3Qgcz1uW2VbdCsxXV07aWYobnVsbD09cyl0aHJvdyBuZXcgYXQoIjMwMSIsYEV4cG9ydCBvZiBuYW1lICcke2VbdCsxXX0nIG5vdCBmb3VuZCFgKTtyLnB1c2goZVt0XSxzKX19fShuLHIsbyl9cmV0dXJuIG4ubWVyZ2VkQXR0cnM9Z24obi5tZXJnZWRBdHRycyxuLmF0dHJzKSxzfWZ1bmN0aW9uIG1pKHQsZSxuLHIscyxpKXtjb25zdCBvPWkuaG9zdEJpbmRpbmdzO2lmKG8pe2xldCBuPXQuaG9zdEJpbmRpbmdPcENvZGVzO251bGw9PT1uJiYobj10Lmhvc3RCaW5kaW5nT3BDb2Rlcz1bXSk7Y29uc3QgaT1+ZS5pbmRleDsoZnVuY3Rpb24odCl7bGV0IGU9dC5sZW5ndGg7Zm9yKDtlPjA7KXtjb25zdCBuPXRbLS1lXTtpZigibnVtYmVyIj09dHlwZW9mIG4mJm48MClyZXR1cm4gbn1yZXR1cm4gMH0pKG4pIT1pJiZuLnB1c2goaSksbi5wdXNoKHIscyxvKX19ZnVuY3Rpb24geWkodCxlKXtudWxsIT09dC5ob3N0QmluZGluZ3MmJnQuaG9zdEJpbmRpbmdzKDEsZSl9ZnVuY3Rpb24gdmkodCxlKXtlLmZsYWdzfD0yLCh0LmNvbXBvbmVudHN8fCh0LmNvbXBvbmVudHM9W10pKS5wdXNoKGUuaW5kZXgpfWZ1bmN0aW9uIGJpKHQsZSxuKXtpZihuKXtpZihlLmV4cG9ydEFzKWZvcihsZXQgcj0wO3I8ZS5leHBvcnRBcy5sZW5ndGg7cisrKW5bZS5leHBvcnRBc1tyXV09dDtpZShlKSYmKG5bIiJdPXQpfX1mdW5jdGlvbiB3aSh0LGUsbil7dC5mbGFnc3w9MSx0LmRpcmVjdGl2ZVN0YXJ0PWUsdC5kaXJlY3RpdmVFbmQ9ZStuLHQucHJvdmlkZXJJbmRleGVzPWV9ZnVuY3Rpb24gQ2kodCxlLG4scixzKXt0LmRhdGFbcl09cztjb25zdCBpPXMuZmFjdG9yeXx8KHMuZmFjdG9yeT1vZShzLnR5cGUpKSxvPW5ldyBobihpLGllKHMpLG51bGwpO3QuYmx1ZXByaW50W3JdPW8sbltyXT1vLG1pKHQsZSwwLHIscmkodCxuLHMuaG9zdFZhcnMscXMpLHMpfWZ1bmN0aW9uIF9pKHQsZSxuKXtjb25zdCByPWJlKGUsdCkscz1oaShuKSxpPXRbMTBdLG89T2kodCxlaSh0LHMsbnVsbCxuLm9uUHVzaD82NDoxNixyLGUsaSxpLmNyZWF0ZVJlbmRlcmVyKHIsbiksbnVsbCxudWxsKSk7dFtlLmluZGV4XT1vfWZ1bmN0aW9uIERpKHQsZSxuLHIscyxpKXtjb25zdCBvPWlbZV07aWYobnVsbCE9PW8pe2NvbnN0IHQ9ci5zZXRJbnB1dDtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoOyl7Y29uc3Qgcz1vW2UrK10saT1vW2UrK10sYT1vW2UrK107bnVsbCE9PXQ/ci5zZXRJbnB1dChuLGEscyxpKTpuW2ldPWF9fX1mdW5jdGlvbiBFaSh0LGUpe2xldCBuPW51bGwscj0wO2Zvcig7cjxlLmxlbmd0aDspe2NvbnN0IHM9ZVtyXTtpZigwIT09cylpZig1IT09cyl7aWYoIm51bWJlciI9PXR5cGVvZiBzKWJyZWFrO3QuaGFzT3duUHJvcGVydHkocykmJihudWxsPT09biYmKG49W10pLG4ucHVzaChzLHRbc10sZVtyKzFdKSkscis9Mn1lbHNlIHIrPTI7ZWxzZSByKz00fXJldHVybiBufWZ1bmN0aW9uIFNpKHQsZSxuLHIpe3JldHVybiBuZXcgQXJyYXkodCwhMCwhMSxlLG51bGwsMCxyLG4sbnVsbCxudWxsKX1mdW5jdGlvbiB4aSh0LGUpe2NvbnN0IG49Q2UoZSx0KTtpZihEZShuKSl7Y29uc3QgdD1uWzFdOzgwJm5bMl0/aWkodCxuLHQudGVtcGxhdGUsbls4XSk6bls1XT4wJiZBaShuKX19ZnVuY3Rpb24gQWkodCl7Zm9yKGxldCBuPWxzKHQpO251bGwhPT1uO249dXMobikpZm9yKGxldCB0PUp0O3Q8bi5sZW5ndGg7dCsrKXtjb25zdCBlPW5bdF07aWYoMTAyNCZlWzJdKXtjb25zdCB0PWVbMV07aWkodCxlLHQudGVtcGxhdGUsZVs4XSl9ZWxzZSBlWzVdPjAmJkFpKGUpfWNvbnN0IGU9dFsxXS5jb21wb25lbnRzO2lmKG51bGwhPT1lKWZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCByPUNlKGVbbl0sdCk7RGUocikmJnJbNV0+MCYmQWkocil9fWZ1bmN0aW9uIFRpKHQsZSl7Y29uc3Qgbj1DZShlLHQpLHI9blsxXTshZnVuY3Rpb24odCxlKXtmb3IobGV0IG49ZS5sZW5ndGg7bjx0LmJsdWVwcmludC5sZW5ndGg7bisrKWUucHVzaCh0LmJsdWVwcmludFtuXSl9KHIsbiksc2kocixuLG5bOF0pfWZ1bmN0aW9uIE9pKHQsZSl7cmV0dXJuIHRbMTNdP3RbMTRdWzRdPWU6dFsxM109ZSx0WzE0XT1lLGV9ZnVuY3Rpb24gRmkodCl7Zm9yKDt0Oyl7dFsyXXw9NjQ7Y29uc3QgZT1hcyh0KTtpZigwIT0oNTEyJnRbMl0pJiYhZSlyZXR1cm4gdDt0PWV9cmV0dXJuIG51bGx9ZnVuY3Rpb24ga2kodCxlLG4pe2NvbnN0IHI9ZVsxMF07ci5iZWdpbiYmci5iZWdpbigpO3RyeXtpaSh0LGUsdC50ZW1wbGF0ZSxuKX1jYXRjaChzKXt0aHJvdyBqaShlLHMpLHN9ZmluYWxseXtyLmVuZCYmci5lbmQoKX19ZnVuY3Rpb24gSWkodCl7IWZ1bmN0aW9uKHQpe2ZvcihsZXQgZT0wO2U8dC5jb21wb25lbnRzLmxlbmd0aDtlKyspe2NvbnN0IG49dC5jb21wb25lbnRzW2VdLHI9WHIobikscz1yWzFdO29pKHMscixzLnRlbXBsYXRlLG4pfX0odFs4XSl9ZnVuY3Rpb24gUmkodCxlLG4pe3FlKDApLGUodCxuKX1jb25zdCBQaT0oKCk9PlByb21pc2UucmVzb2x2ZShudWxsKSkoKTtmdW5jdGlvbiBMaSh0KXtyZXR1cm4gdFs3XXx8KHRbN109W10pfWZ1bmN0aW9uIE5pKHQpe3JldHVybiB0LmNsZWFudXB8fCh0LmNsZWFudXA9W10pfWZ1bmN0aW9uIGppKHQsZSl7Y29uc3Qgbj10WzldLHI9bj9uLmdldChucyxudWxsKTpudWxsO3ImJnIuaGFuZGxlRXJyb3IoZSl9ZnVuY3Rpb24gTWkodCxlLG4scixzKXtmb3IobGV0IGk9MDtpPG4ubGVuZ3RoOyl7Y29uc3Qgbz1uW2krK10sYT1uW2krK10sbD1lW29dLHU9dC5kYXRhW29dO251bGwhPT11LnNldElucHV0P3Uuc2V0SW5wdXQobCxzLHIsYSk6bFthXT1zfX1mdW5jdGlvbiBWaSh0LGUsbil7bGV0IHI9bj90LnN0eWxlczpudWxsLHM9bj90LmNsYXNzZXM6bnVsbCxpPTA7aWYobnVsbCE9PWUpZm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspe2NvbnN0IHQ9ZVtvXTsibnVtYmVyIj09dHlwZW9mIHQ/aT10OjE9PWk/cz1udChzLHQpOjI9PWkmJihyPW50KHIsdCsiOiAiK2VbKytvXSsiOyIpKX1uP3Quc3R5bGVzPXI6dC5zdHlsZXNXaXRob3V0SG9zdD1yLG4/dC5jbGFzc2VzPXM6dC5jbGFzc2VzV2l0aG91dEhvc3Q9c31jb25zdCBCaT1uZXcgJG4oIklOSkVDVE9SIiwtMSk7Y2xhc3MgSGl7Z2V0KHQsZT10cil7aWYoZT09PXRyKXtjb25zdCBlPW5ldyBFcnJvcihgTnVsbEluamVjdG9yRXJyb3I6IE5vIHByb3ZpZGVyIGZvciAke2V0KHQpfSFgKTt0aHJvdyBlLm5hbWU9Ik51bGxJbmplY3RvckVycm9yIixlfXJldHVybiBlfX1jb25zdCBVaT1uZXcgJG4oIlNldCBJbmplY3RvciBzY29wZS4iKSwkaT17fSx6aT17fTtsZXQgcWk7ZnVuY3Rpb24gV2koKXtyZXR1cm4gdm9pZCAwPT09cWkmJihxaT1uZXcgSGkpLHFpfWZ1bmN0aW9uIEdpKHQsZT1udWxsLG49bnVsbCxyKXtyZXR1cm4gbmV3IFppKHQsbixlfHxXaSgpLHIpfWNsYXNzIFppe2NvbnN0cnVjdG9yKHQsZSxuLHI9bnVsbCl7dGhpcy5wYXJlbnQ9bix0aGlzLnJlY29yZHM9bmV3IE1hcCx0aGlzLmluamVjdG9yRGVmVHlwZXM9bmV3IFNldCx0aGlzLm9uRGVzdHJveT1uZXcgU2V0LHRoaXMuX2Rlc3Ryb3llZD0hMTtjb25zdCBzPVtdO2UmJkduKGUsbj0+dGhpcy5wcm9jZXNzUHJvdmlkZXIobix0LGUpKSxHbihbdF0sdD0+dGhpcy5wcm9jZXNzSW5qZWN0b3JUeXBlKHQsW10scykpLHRoaXMucmVjb3Jkcy5zZXQoQmksUWkodm9pZCAwLHRoaXMpKTtjb25zdCBpPXRoaXMucmVjb3Jkcy5nZXQoVWkpO3RoaXMuc2NvcGU9bnVsbCE9aT9pLnZhbHVlOm51bGwsdGhpcy5zb3VyY2U9cnx8KCJvYmplY3QiPT10eXBlb2YgdD9udWxsOmV0KHQpKX1nZXQgZGVzdHJveWVkKCl7cmV0dXJuIHRoaXMuX2Rlc3Ryb3llZH1kZXN0cm95KCl7dGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKSx0aGlzLl9kZXN0cm95ZWQ9ITA7dHJ5e3RoaXMub25EZXN0cm95LmZvckVhY2godD0+dC5uZ09uRGVzdHJveSgpKX1maW5hbGx5e3RoaXMucmVjb3Jkcy5jbGVhcigpLHRoaXMub25EZXN0cm95LmNsZWFyKCksdGhpcy5pbmplY3RvckRlZlR5cGVzLmNsZWFyKCl9fWdldCh0LGU9dHIsbj13dC5EZWZhdWx0KXt0aGlzLmFzc2VydE5vdERlc3Ryb3llZCgpO2NvbnN0IHI9aXIodGhpcyk7dHJ5e2lmKCEobiZ3dC5Ta2lwU2VsZikpe2xldCBlPXRoaXMucmVjb3Jkcy5nZXQodCk7aWYodm9pZCAwPT09ZSl7Y29uc3Qgbj0oImZ1bmN0aW9uIj09dHlwZW9mKHM9dCl8fCJvYmplY3QiPT10eXBlb2YgcyYmcyBpbnN0YW5jZW9mICRuKSYmcHQodCk7ZT1uJiZ0aGlzLmluamVjdGFibGVEZWZJblNjb3BlKG4pP1FpKFlpKHQpLCRpKTpudWxsLHRoaXMucmVjb3Jkcy5zZXQodCxlKX1pZihudWxsIT1lKXJldHVybiB0aGlzLmh5ZHJhdGUodCxlKX1yZXR1cm4obiZ3dC5TZWxmP1dpKCk6dGhpcy5wYXJlbnQpLmdldCh0LGU9biZ3dC5PcHRpb25hbCYmZT09PXRyP251bGw6ZSl9Y2F0Y2goaSl7aWYoIk51bGxJbmplY3RvckVycm9yIj09PWkubmFtZSl7aWYoKGkubmdUZW1wVG9rZW5QYXRoPWkubmdUZW1wVG9rZW5QYXRofHxbXSkudW5zaGlmdChldCh0KSkscil0aHJvdyBpO3JldHVybiBmdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPXQubmdUZW1wVG9rZW5QYXRoO3Rocm93IGVbbnJdJiZzLnVuc2hpZnQoZVtucl0pLHQubWVzc2FnZT1mdW5jdGlvbih0LGUsbixyPW51bGwpe3Q9dCYmIlxuIj09PXQuY2hhckF0KDApJiYiXHUwMjc1Ij09dC5jaGFyQXQoMSk/dC5zdWJzdHIoMik6dDtsZXQgcz1ldChlKTtpZihBcnJheS5pc0FycmF5KGUpKXM9ZS5tYXAoZXQpLmpvaW4oIiAtPiAiKTtlbHNlIGlmKCJvYmplY3QiPT10eXBlb2YgZSl7bGV0IHQ9W107Zm9yKGxldCBuIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShuKSl7bGV0IHI9ZVtuXTt0LnB1c2gobisiOiIrKCJzdHJpbmciPT10eXBlb2Ygcj9KU09OLnN0cmluZ2lmeShyKTpldChyKSkpfXM9YHske3Quam9pbigiLCAiKX19YH1yZXR1cm5gJHtufSR7cj8iKCIrcisiKSI6IiJ9WyR7c31dOiAke3QucmVwbGFjZShlciwiXG4gICIpfWB9KCJcbiIrdC5tZXNzYWdlLHMsbixyKSx0Lm5nVG9rZW5QYXRoPXMsdC5uZ1RlbXBUb2tlblBhdGg9bnVsbCx0fShpLHQsIlIzSW5qZWN0b3JFcnJvciIsdGhpcy5zb3VyY2UpfXRocm93IGl9ZmluYWxseXtpcihyKX12YXIgc31fcmVzb2x2ZUluamVjdG9yRGVmVHlwZXMoKXt0aGlzLmluamVjdG9yRGVmVHlwZXMuZm9yRWFjaCh0PT50aGlzLmdldCh0KSl9dG9TdHJpbmcoKXtjb25zdCB0PVtdO3JldHVybiB0aGlzLnJlY29yZHMuZm9yRWFjaCgoZSxuKT0+dC5wdXNoKGV0KG4pKSksYFIzSW5qZWN0b3JbJHt0LmpvaW4oIiwgIil9XWB9YXNzZXJ0Tm90RGVzdHJveWVkKCl7aWYodGhpcy5fZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcigiSW5qZWN0b3IgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWQuIil9cHJvY2Vzc0luamVjdG9yVHlwZSh0LGUsbil7aWYoISh0PWl0KHQpKSlyZXR1cm4hMTtsZXQgcj1ndCh0KTtjb25zdCBzPW51bGw9PXImJnQubmdNb2R1bGV8fHZvaWQgMCxpPXZvaWQgMD09PXM/dDpzLG89LTEhPT1uLmluZGV4T2YoaSk7aWYodm9pZCAwIT09cyYmKHI9Z3QocykpLG51bGw9PXIpcmV0dXJuITE7aWYobnVsbCE9ci5pbXBvcnRzJiYhbyl7bGV0IHQ7bi5wdXNoKGkpO3RyeXtHbihyLmltcG9ydHMscj0+e3RoaXMucHJvY2Vzc0luamVjdG9yVHlwZShyLGUsbikmJih2b2lkIDA9PT10JiYodD1bXSksdC5wdXNoKHIpKX0pfWZpbmFsbHl7fWlmKHZvaWQgMCE9PXQpZm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0e25nTW9kdWxlOm4scHJvdmlkZXJzOnJ9PXRbZV07R24ocix0PT50aGlzLnByb2Nlc3NQcm92aWRlcih0LG4scnx8UnQpKX19dGhpcy5pbmplY3RvckRlZlR5cGVzLmFkZChpKTtjb25zdCBhPW9lKGkpfHwoKCk9Pm5ldyBpKTt0aGlzLnJlY29yZHMuc2V0KGksUWkoYSwkaSkpO2NvbnN0IGw9ci5wcm92aWRlcnM7aWYobnVsbCE9bCYmIW8pe2NvbnN0IGU9dDtHbihsLHQ9PnRoaXMucHJvY2Vzc1Byb3ZpZGVyKHQsZSxsKSl9cmV0dXJuIHZvaWQgMCE9PXMmJnZvaWQgMCE9PXQucHJvdmlkZXJzfXByb2Nlc3NQcm92aWRlcih0LGUsbil7bGV0IHI9SmkodD1pdCh0KSk/dDppdCh0JiZ0LnByb3ZpZGUpO2NvbnN0IHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBYaSh0KT9RaSh2b2lkIDAsdC51c2VWYWx1ZSk6UWkoS2kodCksJGkpfSh0KTtpZihKaSh0KXx8ITAhPT10Lm11bHRpKXRoaXMucmVjb3Jkcy5nZXQocik7ZWxzZXtsZXQgZT10aGlzLnJlY29yZHMuZ2V0KHIpO2V8fChlPVFpKHZvaWQgMCwkaSwhMCksZS5mYWN0b3J5PSgpPT5scihlLm11bHRpKSx0aGlzLnJlY29yZHMuc2V0KHIsZSkpLHI9dCxlLm11bHRpLnB1c2godCl9dGhpcy5yZWNvcmRzLnNldChyLHMpfWh5ZHJhdGUodCxlKXt2YXIgbjtyZXR1cm4gZS52YWx1ZT09PSRpJiYoZS52YWx1ZT16aSxlLnZhbHVlPWUuZmFjdG9yeSgpKSwib2JqZWN0Ij09dHlwZW9mIGUudmFsdWUmJmUudmFsdWUmJm51bGwhPT0obj1lLnZhbHVlKSYmIm9iamVjdCI9PXR5cGVvZiBuJiYiZnVuY3Rpb24iPT10eXBlb2Ygbi5uZ09uRGVzdHJveSYmdGhpcy5vbkRlc3Ryb3kuYWRkKGUudmFsdWUpLGUudmFsdWV9aW5qZWN0YWJsZURlZkluU2NvcGUodCl7aWYoIXQucHJvdmlkZWRJbilyZXR1cm4hMTtjb25zdCBlPWl0KHQucHJvdmlkZWRJbik7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlPyJhbnkiPT09ZXx8ZT09PXRoaXMuc2NvcGU6dGhpcy5pbmplY3RvckRlZlR5cGVzLmhhcyhlKX19ZnVuY3Rpb24gWWkodCl7Y29uc3QgZT1wdCh0KSxuPW51bGwhPT1lP2UuZmFjdG9yeTpvZSh0KTtpZihudWxsIT09bilyZXR1cm4gbjtpZih0IGluc3RhbmNlb2YgJG4pdGhyb3cgbmV3IEVycm9yKGBUb2tlbiAke2V0KHQpfSBpcyBtaXNzaW5nIGEgXHUwMjc1cHJvdiBkZWZpbml0aW9uLmApO2lmKHQgaW5zdGFuY2VvZiBGdW5jdGlvbilyZXR1cm4gZnVuY3Rpb24odCl7Y29uc3QgZT10Lmxlbmd0aDtpZihlPjApe2NvbnN0IG49S24oZSwiPyIpO3Rocm93IG5ldyBFcnJvcihgQ2FuJ3QgcmVzb2x2ZSBhbGwgcGFyYW1ldGVycyBmb3IgJHtldCh0KX06ICgke24uam9pbigiLCAiKX0pLmApfWNvbnN0IG49ZnVuY3Rpb24odCl7Y29uc3QgZT10JiYodFttdF18fHRbdnRdKTtpZihlKXtjb25zdCBuPWZ1bmN0aW9uKHQpe2lmKHQuaGFzT3duUHJvcGVydHkoIm5hbWUiKSlyZXR1cm4gdC5uYW1lO2NvbnN0IGU9KCIiK3QpLm1hdGNoKC9eZnVuY3Rpb25ccyooW15ccyhdKykvKTtyZXR1cm4gbnVsbD09PWU/IiI6ZVsxXX0odCk7cmV0dXJuIGNvbnNvbGUud2FybihgREVQUkVDQVRFRDogREkgaXMgaW5zdGFudGlhdGluZyBhIHRva2VuICIke259IiB0aGF0IGluaGVyaXRzIGl0cyBASW5qZWN0YWJsZSBkZWNvcmF0b3IgYnV0IGRvZXMgbm90IHByb3ZpZGUgb25lIGl0c2VsZi5cblRoaXMgd2lsbCBiZWNvbWUgYW4gZXJyb3IgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBBbmd1bGFyLiBQbGVhc2UgYWRkIEBJbmplY3RhYmxlKCkgdG8gdGhlICIke259IiBjbGFzcy5gKSxlfXJldHVybiBudWxsfSh0KTtyZXR1cm4gbnVsbCE9PW4/KCk9Pm4uZmFjdG9yeSh0KTooKT0+bmV3IHR9KHQpO3Rocm93IG5ldyBFcnJvcigidW5yZWFjaGFibGUiKX1mdW5jdGlvbiBLaSh0LGUsbil7bGV0IHI7aWYoSmkodCkpe2NvbnN0IGU9aXQodCk7cmV0dXJuIG9lKGUpfHxZaShlKX1pZihYaSh0KSlyPSgpPT5pdCh0LnVzZVZhbHVlKTtlbHNlIGlmKChzPXQpJiZzLnVzZUZhY3Rvcnkpcj0oKT0+dC51c2VGYWN0b3J5KC4uLmxyKHQuZGVwc3x8W10pKTtlbHNlIGlmKGZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fCF0LnVzZUV4aXN0aW5nKX0odCkpcj0oKT0+YXIoaXQodC51c2VFeGlzdGluZykpO2Vsc2V7Y29uc3QgZT1pdCh0JiYodC51c2VDbGFzc3x8dC5wcm92aWRlKSk7aWYoIWZ1bmN0aW9uKHQpe3JldHVybiEhdC5kZXBzfSh0KSlyZXR1cm4gb2UoZSl8fFlpKGUpO3I9KCk9Pm5ldyBlKC4uLmxyKHQuZGVwcykpfXZhciBzO3JldHVybiByfWZ1bmN0aW9uIFFpKHQsZSxuPSExKXtyZXR1cm57ZmFjdG9yeTp0LHZhbHVlOmUsbXVsdGk6bj9bXTp2b2lkIDB9fWZ1bmN0aW9uIFhpKHQpe3JldHVybiBudWxsIT09dCYmIm9iamVjdCI9PXR5cGVvZiB0JiZyciBpbiB0fWZ1bmN0aW9uIEppKHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0fWNvbnN0IHRvPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24odCxlPW51bGwsbj1udWxsLHIpe2NvbnN0IHM9R2kodCxlLG4scik7cmV0dXJuIHMuX3Jlc29sdmVJbmplY3RvckRlZlR5cGVzKCksc30oe25hbWU6bn0sZSx0LG4pfTtsZXQgZW89KCgpPT57Y2xhc3MgdHtzdGF0aWMgY3JlYXRlKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dG8odCxlLCIiKTp0byh0LnByb3ZpZGVycyx0LnBhcmVudCx0Lm5hbWV8fCIiKX19cmV0dXJuIHQuVEhST1dfSUZfTk9UX0ZPVU5EPXRyLHQuTlVMTD1uZXcgSGksdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LHByb3ZpZGVkSW46ImFueSIsZmFjdG9yeTooKT0+YXIoQmkpfSksdC5fX05HX0VMRU1FTlRfSURfXz0tMSx0fSkoKTtmdW5jdGlvbiBubyh0LGUpe3JuKFhyKHQpWzFdLEllKCkpfWZ1bmN0aW9uIHJvKHQpe2xldCBlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0LnR5cGUucHJvdG90eXBlKS5jb25zdHJ1Y3RvcixuPSEwO2NvbnN0IHI9W3RdO2Zvcig7ZTspe2xldCBzO2lmKGllKHQpKXM9ZS5cdTAyNzVjbXB8fGUuXHUwMjc1ZGlyO2Vsc2V7aWYoZS5cdTAyNzVjbXApdGhyb3cgbmV3IEVycm9yKCJEaXJlY3RpdmVzIGNhbm5vdCBpbmhlcml0IENvbXBvbmVudHMiKTtzPWUuXHUwMjc1ZGlyfWlmKHMpe2lmKG4pe3IucHVzaChzKTtjb25zdCBlPXQ7ZS5pbnB1dHM9c28odC5pbnB1dHMpLGUuZGVjbGFyZWRJbnB1dHM9c28odC5kZWNsYXJlZElucHV0cyksZS5vdXRwdXRzPXNvKHQub3V0cHV0cyk7Y29uc3Qgbj1zLmhvc3RCaW5kaW5ncztuJiZhbyh0LG4pO2NvbnN0IGk9cy52aWV3UXVlcnksbz1zLmNvbnRlbnRRdWVyaWVzO2lmKGkmJmlvKHQsaSksbyYmb28odCxvKSx0dCh0LmlucHV0cyxzLmlucHV0cyksdHQodC5kZWNsYXJlZElucHV0cyxzLmRlY2xhcmVkSW5wdXRzKSx0dCh0Lm91dHB1dHMscy5vdXRwdXRzKSxpZShzKSYmcy5kYXRhLmFuaW1hdGlvbil7Y29uc3QgZT10LmRhdGE7ZS5hbmltYXRpb249KGUuYW5pbWF0aW9ufHxbXSkuY29uY2F0KHMuZGF0YS5hbmltYXRpb24pfX1jb25zdCBlPXMuZmVhdHVyZXM7aWYoZSlmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyl7Y29uc3Qgcz1lW3JdO3MmJnMubmdJbmhlcml0JiZzKHQpLHM9PT1ybyYmKG49ITEpfX1lPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0hZnVuY3Rpb24odCl7bGV0IGU9MCxuPW51bGw7Zm9yKGxldCByPXQubGVuZ3RoLTE7cj49MDtyLS0pe2NvbnN0IHM9dFtyXTtzLmhvc3RWYXJzPWUrPXMuaG9zdFZhcnMscy5ob3N0QXR0cnM9Z24ocy5ob3N0QXR0cnMsbj1nbihuLHMuaG9zdEF0dHJzKSl9fShyKX1mdW5jdGlvbiBzbyh0KXtyZXR1cm4gdD09PUl0P3t9OnQ9PT1SdD9bXTp0fWZ1bmN0aW9uIGlvKHQsZSl7Y29uc3Qgbj10LnZpZXdRdWVyeTt0LnZpZXdRdWVyeT1uPyh0LHIpPT57ZSh0LHIpLG4odCxyKX06ZX1mdW5jdGlvbiBvbyh0LGUpe2NvbnN0IG49dC5jb250ZW50UXVlcmllczt0LmNvbnRlbnRRdWVyaWVzPW4/KHQscixzKT0+e2UodCxyLHMpLG4odCxyLHMpfTplfWZ1bmN0aW9uIGFvKHQsZSl7Y29uc3Qgbj10Lmhvc3RCaW5kaW5nczt0Lmhvc3RCaW5kaW5ncz1uPyh0LHIpPT57ZSh0LHIpLG4odCxyKX06ZX1sZXQgbG89bnVsbDtmdW5jdGlvbiB1bygpe2lmKCFsbyl7Y29uc3QgdD1rdC5TeW1ib2w7aWYodCYmdC5pdGVyYXRvcilsbz10Lml0ZXJhdG9yO2Vsc2V7Y29uc3QgdD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhNYXAucHJvdG90eXBlKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoOysrZSl7Y29uc3Qgbj10W2VdOyJlbnRyaWVzIiE9PW4mJiJzaXplIiE9PW4mJk1hcC5wcm90b3R5cGVbbl09PT1NYXAucHJvdG90eXBlLmVudHJpZXMmJihsbz1uKX19fXJldHVybiBsb31mdW5jdGlvbiBjbyh0KXtyZXR1cm4hIWhvKHQpJiYoQXJyYXkuaXNBcnJheSh0KXx8ISh0IGluc3RhbmNlb2YgTWFwKSYmdW8oKWluIHQpfWZ1bmN0aW9uIGhvKHQpe3JldHVybiBudWxsIT09dCYmKCJmdW5jdGlvbiI9PXR5cGVvZiB0fHwib2JqZWN0Ij09dHlwZW9mIHQpfWZ1bmN0aW9uIHBvKHQsZSxuKXtyZXR1cm4gdFtlXT1ufWZ1bmN0aW9uIGZvKHQsZSxuKXtyZXR1cm4hT2JqZWN0LmlzKHRbZV0sbikmJih0W2VdPW4sITApfWZ1bmN0aW9uIGdvKHQsZSxuLHIpe2NvbnN0IHM9Zm8odCxlLG4pO3JldHVybiBmbyh0LGUrMSxyKXx8c31mdW5jdGlvbiBtbyh0LGUsbixyKXtjb25zdCBzPU9lKCk7cmV0dXJuIGZvKHMsQmUoKSxlKSYmKEZlKCksZnVuY3Rpb24odCxlLG4scixzLGkpe2NvbnN0IG89YmUodCxlKTshZnVuY3Rpb24odCxlLG4scixzLGksbyl7aWYobnVsbD09aSlnZSh0KT90LnJlbW92ZUF0dHJpYnV0ZShlLHMsbik6ZS5yZW1vdmVBdHRyaWJ1dGUocyk7ZWxzZXtjb25zdCBhPW51bGw9PW8/bHQoaSk6byhpLHJ8fCIiLHMpO2dlKHQpP3Quc2V0QXR0cmlidXRlKGUscyxhLG4pOm4/ZS5zZXRBdHRyaWJ1dGVOUyhuLHMsYSk6ZS5zZXRBdHRyaWJ1dGUocyxhKX19KGVbMTFdLG8saSx0LnZhbHVlLG4scixzKX0obm4oKSxzLHQsZSxuLHIpKSxtb31mdW5jdGlvbiB5byh0LGUsbixyKXtyZXR1cm4gZm8odCxCZSgpLG4pP2UrbHQobikrcjpxc31mdW5jdGlvbiB2byh0LGUsbixyLHMsaSxvLGEpe2NvbnN0IGw9T2UoKSx1PUZlKCksYz10K1h0LGg9dS5maXJzdENyZWF0ZVBhc3M/ZnVuY3Rpb24odCxlLG4scixzLGksbyxhLGwpe2NvbnN0IHU9ZS5jb25zdHMsYz1uaShlLHQsNCxvfHxudWxsLEVlKHUsYSkpO2dpKGUsbixjLEVlKHUsbCkpLHJuKGUsYyk7Y29uc3QgaD1jLnRWaWV3cz1kaSgyLGMscixzLGksZS5kaXJlY3RpdmVSZWdpc3RyeSxlLnBpcGVSZWdpc3RyeSxudWxsLGUuc2NoZW1hcyx1KTtyZXR1cm4gbnVsbCE9PWUucXVlcmllcyYmKGUucXVlcmllcy50ZW1wbGF0ZShlLGMpLGgucXVlcmllcz1lLnF1ZXJpZXMuZW1iZWRkZWRUVmlldyhjKSksY30oYyx1LGwsZSxuLHIscyxpLG8pOnUuZGF0YVtjXTtQZShoLCExKTtjb25zdCBkPWxbMTFdLmNyZWF0ZUNvbW1lbnQoIiIpO0VzKHUsbCxkLGgpLFFyKGQsbCksT2kobCxsW2NdPVNpKGQsbCxkLGgpKSxzZShoKSYmdWkodSxsLGgpLG51bGwhPW8mJmNpKGwsaCxhKX1mdW5jdGlvbiBibyh0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gdFtlXX0oQWUubEZyYW1lLmNvbnRleHRMVmlldyxYdCt0KX1mdW5jdGlvbiB3byh0LGU9d3QuRGVmYXVsdCl7Y29uc3Qgbj1PZSgpO3JldHVybiBudWxsPT09bj9hcih0LGUpOkZuKEllKCksbixpdCh0KSxlKX1mdW5jdGlvbiBDbyh0LGUsbil7Y29uc3Qgcj1PZSgpO3JldHVybiBmbyhyLEJlKCksZSkmJmZ1bmN0aW9uKHQsZSxuLHIscyxpLG8sYSl7Y29uc3QgbD1iZShlLG4pO2xldCB1LGM9ZS5pbnB1dHM7dmFyIGg7bnVsbCE9YyYmKHU9Y1tyXSk/KE1pKHQsbix1LHIscykscmUoZSkmJmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1DZShlLHQpOzE2Jm5bMl18fChuWzJdfD02NCl9KG4sZS5pbmRleCkpOjMmZS50eXBlJiYocj0iY2xhc3MiPT09KGg9cik/ImNsYXNzTmFtZSI6ImZvciI9PT1oPyJodG1sRm9yIjoiZm9ybWFjdGlvbiI9PT1oPyJmb3JtQWN0aW9uIjoiaW5uZXJIdG1sIj09PWg/ImlubmVySFRNTCI6InJlYWRvbmx5Ij09PWg/InJlYWRPbmx5IjoidGFiaW5kZXgiPT09aD8idGFiSW5kZXgiOmgscz1udWxsIT1vP28ocyxlLnZhbHVlfHwiIixyKTpzLGdlKGkpP2kuc2V0UHJvcGVydHkobCxyLHMpOmZuKHIpfHwobC5zZXRQcm9wZXJ0eT9sLnNldFByb3BlcnR5KHIscyk6bFtyXT1zKSl9KEZlKCksbm4oKSxyLHQsZSxyWzExXSxuKSxDb31mdW5jdGlvbiBfbyh0LGUsbixyLHMpe2NvbnN0IGk9cz8iY2xhc3MiOiJzdHlsZSI7TWkodCxuLGUuaW5wdXRzW2ldLGkscil9ZnVuY3Rpb24gRG8odCxlLG4scil7Y29uc3Qgcz1PZSgpLGk9RmUoKSxvPVh0K3QsYT1zWzExXSxsPXNbb109ZHMoYSxlLEFlLmxGcmFtZS5jdXJyZW50TmFtZXNwYWNlKSx1PWkuZmlyc3RDcmVhdGVQYXNzP2Z1bmN0aW9uKHQsZSxuLHIscyxpLG8pe2NvbnN0IGE9ZS5jb25zdHMsbD1uaShlLHQsMixzLEVlKGEsaSkpO3JldHVybiBnaShlLG4sbCxFZShhLG8pKSxudWxsIT09bC5hdHRycyYmVmkobCxsLmF0dHJzLCExKSxudWxsIT09bC5tZXJnZWRBdHRycyYmVmkobCxsLm1lcmdlZEF0dHJzLCEwKSxudWxsIT09ZS5xdWVyaWVzJiZlLnF1ZXJpZXMuZWxlbWVudFN0YXJ0KGUsbCksbH0obyxpLHMsMCxlLG4scik6aS5kYXRhW29dO1BlKHUsITApO2NvbnN0IGM9dS5tZXJnZWRBdHRycztudWxsIT09YyYmZG4oYSxsLGMpO2NvbnN0IGg9dS5jbGFzc2VzO251bGwhPT1oJiZJcyhhLGwsaCk7Y29uc3QgZD11LnN0eWxlcztudWxsIT09ZCYma3MoYSxsLGQpLDY0IT0oNjQmdS5mbGFncykmJkVzKGkscyxsLHUpLDA9PT1BZS5sRnJhbWUuZWxlbWVudERlcHRoQ291bnQmJlFyKGwscyksQWUubEZyYW1lLmVsZW1lbnREZXB0aENvdW50Kyssc2UodSkmJih1aShpLHMsdSksbGkoaSx1LHMpKSxudWxsIT09ciYmY2kocyx1KX1mdW5jdGlvbiBFbygpe2xldCB0PUllKCk7TGUoKT9OZSgpOih0PXQucGFyZW50LFBlKHQsITEpKTtjb25zdCBlPXQ7QWUubEZyYW1lLmVsZW1lbnREZXB0aENvdW50LS07Y29uc3Qgbj1GZSgpO24uZmlyc3RDcmVhdGVQYXNzJiYocm4obix0KSxuZSh0KSYmbi5xdWVyaWVzLmVsZW1lbnRFbmQodCkpLG51bGwhPWUuY2xhc3Nlc1dpdGhvdXRIb3N0JiZmdW5jdGlvbih0KXtyZXR1cm4gMCE9KDE2JnQuZmxhZ3MpfShlKSYmX28obixlLE9lKCksZS5jbGFzc2VzV2l0aG91dEhvc3QsITApLG51bGwhPWUuc3R5bGVzV2l0aG91dEhvc3QmJmZ1bmN0aW9uKHQpe3JldHVybiAwIT0oMzImdC5mbGFncyl9KGUpJiZfbyhuLGUsT2UoKSxlLnN0eWxlc1dpdGhvdXRIb3N0LCExKX1mdW5jdGlvbiBTbyh0LGUsbixyKXtEbyh0LGUsbixyKSxFbygpfWZ1bmN0aW9uIHhvKHQsZSxuKXsoZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9T2UoKSxzPUZlKCksaT10K1h0LG89cy5maXJzdENyZWF0ZVBhc3M/ZnVuY3Rpb24odCxlLG4scixzKXtjb25zdCBpPWUuY29uc3RzLG89RWUoaSxyKSxhPW5pKGUsdCw4LCJuZy1jb250YWluZXIiLG8pO3JldHVybiBudWxsIT09byYmVmkoYSxvLCEwKSxnaShlLG4sYSxFZShpLHMpKSxudWxsIT09ZS5xdWVyaWVzJiZlLnF1ZXJpZXMuZWxlbWVudFN0YXJ0KGUsYSksYX0oaSxzLHIsZSxuKTpzLmRhdGFbaV07UGUobywhMCk7Y29uc3QgYT1yW2ldPXJbMTFdLmNyZWF0ZUNvbW1lbnQoIiIpO0VzKHMscixhLG8pLFFyKGEsciksc2UobykmJih1aShzLHIsbyksbGkocyxvLHIpKSxudWxsIT1uJiZjaShyLG8pfSkodCxlLG4pLGZ1bmN0aW9uKCl7bGV0IHQ9SWUoKTtjb25zdCBlPUZlKCk7TGUoKT9OZSgpOih0PXQucGFyZW50LFBlKHQsITEpKSxlLmZpcnN0Q3JlYXRlUGFzcyYmKHJuKGUsdCksbmUodCkmJmUucXVlcmllcy5lbGVtZW50RW5kKHQpKX0oKX1mdW5jdGlvbiBBbygpe3JldHVybiBPZSgpfWZ1bmN0aW9uIFRvKHQpe3JldHVybiEhdCYmImZ1bmN0aW9uIj09dHlwZW9mIHQudGhlbn1jb25zdCBPbz1mdW5jdGlvbih0KXtyZXR1cm4hIXQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LnN1YnNjcmliZX07ZnVuY3Rpb24gRm8odCxlLG4scil7Y29uc3Qgcz1PZSgpLGk9RmUoKSxvPUllKCk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIscyxpLG8sYSl7Y29uc3QgbD1zZShyKSx1PXQuZmlyc3RDcmVhdGVQYXNzJiZOaSh0KSxjPUxpKGUpO2xldCBoPSEwO2lmKDMmci50eXBlfHxhKXtjb25zdCBkPWJlKHIsZSkscD1hP2EoZCk6ZCxmPWMubGVuZ3RoLGc9YT90PT5hKHllKHRbci5pbmRleF0pKTpyLmluZGV4O2lmKGdlKG4pKXtsZXQgbz1udWxsO2lmKCFhJiZsJiYobz1mdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPXQuY2xlYW51cDtpZihudWxsIT1zKWZvcihsZXQgaT0wO2k8cy5sZW5ndGgtMTtpKz0yKXtjb25zdCB0PXNbaV07aWYodD09PW4mJnNbaSsxXT09PXIpe2NvbnN0IHQ9ZVs3XSxuPXNbaSsyXTtyZXR1cm4gdC5sZW5ndGg+bj90W25dOm51bGx9InN0cmluZyI9PXR5cGVvZiB0JiYoaSs9Mil9cmV0dXJuIG51bGx9KHQsZSxzLHIuaW5kZXgpKSxudWxsIT09bykoby5fX25nTGFzdExpc3RlbmVyRm5fX3x8bykuX19uZ05leHRMaXN0ZW5lckZuX189aSxvLl9fbmdMYXN0TGlzdGVuZXJGbl9fPWksaD0hMTtlbHNle2k9SW8ocixlLDAsaSwhMSk7Y29uc3QgdD1uLmxpc3RlbihwLHMsaSk7Yy5wdXNoKGksdCksdSYmdS5wdXNoKHMsZyxmLGYrMSl9fWVsc2UgaT1JbyhyLGUsMCxpLCEwKSxwLmFkZEV2ZW50TGlzdGVuZXIocyxpLG8pLGMucHVzaChpKSx1JiZ1LnB1c2gocyxnLGYsbyl9ZWxzZSBpPUlvKHIsZSwwLGksITEpO2NvbnN0IGQ9ci5vdXRwdXRzO2xldCBwO2lmKGgmJm51bGwhPT1kJiYocD1kW3NdKSl7Y29uc3QgdD1wLmxlbmd0aDtpZih0KWZvcihsZXQgbj0wO248dDtuKz0yKXtjb25zdCB0PWVbcFtuXV1bcFtuKzFdXS5zdWJzY3JpYmUoaSksbz1jLmxlbmd0aDtjLnB1c2goaSx0KSx1JiZ1LnB1c2gocyxyLmluZGV4LG8sLShvKzEpKX19fShpLHMsc1sxMV0sbyx0LGUsISFuLHIpLEZvfWZ1bmN0aW9uIGtvKHQsZSxuLHIpe3RyeXtyZXR1cm4hMSE9PW4ocil9Y2F0Y2gocyl7cmV0dXJuIGppKHQscyksITF9fWZ1bmN0aW9uIElvKHQsZSxuLHIscyl7cmV0dXJuIGZ1bmN0aW9uIG4oaSl7aWYoaT09PUZ1bmN0aW9uKXJldHVybiByO2NvbnN0IG89MiZ0LmZsYWdzP0NlKHQuaW5kZXgsZSk6ZTswPT0oMzImZVsyXSkmJkZpKG8pO2xldCBhPWtvKGUsMCxyLGkpLGw9bi5fX25nTmV4dExpc3RlbmVyRm5fXztmb3IoO2w7KWE9a28oZSwwLGwsaSkmJmEsbD1sLl9fbmdOZXh0TGlzdGVuZXJGbl9fO3JldHVybiBzJiYhMT09PWEmJihpLnByZXZlbnREZWZhdWx0KCksaS5yZXR1cm5WYWx1ZT0hMSksYX19ZnVuY3Rpb24gUm8odD0xKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuKEFlLmxGcmFtZS5jb250ZXh0TFZpZXc9ZnVuY3Rpb24odCxlKXtmb3IoO3Q+MDspZT1lWzE1XSx0LS07cmV0dXJuIGV9KHQsQWUubEZyYW1lLmNvbnRleHRMVmlldykpWzhdfSh0KX1mdW5jdGlvbiBQbyh0LGUpe2xldCBuPW51bGw7Y29uc3Qgcj1mdW5jdGlvbih0KXtjb25zdCBlPXQuYXR0cnM7aWYobnVsbCE9ZSl7Y29uc3QgdD1lLmluZGV4T2YoNSk7aWYoMD09KDEmdCkpcmV0dXJuIGVbdCsxXX1yZXR1cm4gbnVsbH0odCk7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspe2NvbnN0IGk9ZVtzXTtpZigiKiIhPT1pKXtpZihudWxsPT09cj9Icyh0LGksITApOlVzKHIsaSkpcmV0dXJuIHN9ZWxzZSBuPXN9cmV0dXJuIG59ZnVuY3Rpb24gTG8odCl7Y29uc3QgZT1PZSgpWzE2XVs2XTtpZighZS5wcm9qZWN0aW9uKXtjb25zdCBuPWUucHJvamVjdGlvbj1Lbih0P3QubGVuZ3RoOjEsbnVsbCkscj1uLnNsaWNlKCk7bGV0IHM9ZS5jaGlsZDtmb3IoO251bGwhPT1zOyl7Y29uc3QgZT10P1BvKHMsdCk6MDtudWxsIT09ZSYmKHJbZV0/cltlXS5wcm9qZWN0aW9uTmV4dD1zOm5bZV09cyxyW2VdPXMpLHM9cy5uZXh0fX19ZnVuY3Rpb24gTm8odCxlPTAsbil7Y29uc3Qgcj1PZSgpLHM9RmUoKSxpPW5pKHMsWHQrdCwxNixudWxsLG58fG51bGwpO251bGw9PT1pLnByb2plY3Rpb24mJihpLnByb2plY3Rpb249ZSksTmUoKSw2NCE9KDY0JmkuZmxhZ3MpJiZmdW5jdGlvbih0LGUsbil7RnMoZVsxMV0sMCxlLG4seXModCxuLGUpLF9zKG4ucGFyZW50fHxlWzZdLG4sZSkpfShzLHIsaSl9ZnVuY3Rpb24gam8odCxlLG4scixzKXtjb25zdCBpPXRbbisxXSxvPW51bGw9PT1lO2xldCBhPXI/WXMoaSk6UXMoaSksbD0hMTtmb3IoOzAhPT1hJiYoITE9PT1sfHxvKTspe2NvbnN0IG49dFthKzFdO01vKHRbYV0sZSkmJihsPSEwLHRbYSsxXT1yP0pzKG4pOktzKG4pKSxhPXI/WXMobik6UXMobil9bCYmKHRbbisxXT1yP0tzKGkpOkpzKGkpKX1mdW5jdGlvbiBNbyh0LGUpe3JldHVybiBudWxsPT09dHx8bnVsbD09ZXx8KEFycmF5LmlzQXJyYXkodCk/dFsxXTp0KT09PWV8fCEoIUFycmF5LmlzQXJyYXkodCl8fCJzdHJpbmciIT10eXBlb2YgZSkmJkpuKHQsZSk+PTB9Y29uc3QgVm89e3RleHRFbmQ6MCxrZXk6MCxrZXlFbmQ6MCx2YWx1ZTowLHZhbHVlRW5kOjB9O2Z1bmN0aW9uIEJvKHQpe3JldHVybiB0LnN1YnN0cmluZyhWby5rZXksVm8ua2V5RW5kKX1mdW5jdGlvbiBIbyh0LGUpe2NvbnN0IG49Vm8udGV4dEVuZDtyZXR1cm4gbj09PWU/LTE6KGU9Vm8ua2V5RW5kPWZ1bmN0aW9uKHQsZSxuKXtmb3IoO2U8biYmdC5jaGFyQ29kZUF0KGUpPjMyOyllKys7cmV0dXJuIGV9KHQsVm8ua2V5PWUsbiksVW8odCxlLG4pKX1mdW5jdGlvbiBVbyh0LGUsbil7Zm9yKDtlPG4mJnQuY2hhckNvZGVBdChlKTw9MzI7KWUrKztyZXR1cm4gZX1mdW5jdGlvbiAkbyh0LGUpe3JldHVybiBmdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPU9lKCksaT1GZSgpLG89SGUoMik7aS5maXJzdFVwZGF0ZVBhc3MmJkdvKGksdCxvLHRydWUpLGUhPT1xcyYmZm8ocyxvLGUpJiZLbyhpLGkuZGF0YVt0bigpXSxzLHNbMTFdLHQsc1tvKzFdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PXR8fCJvYmplY3QiPT10eXBlb2YgdCYmKHQ9ZXQoRHIodCkpKSx0fShlKSx0cnVlLG8pfSh0LGUpLCRvfWZ1bmN0aW9uIHpvKHQsZSl7Zm9yKGxldCBuPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXtWby5rZXk9MCxWby5rZXlFbmQ9MCxWby52YWx1ZT0wLFZvLnZhbHVlRW5kPTAsVm8udGV4dEVuZD10Lmxlbmd0aH0odCksSG8odCxVbyh0LDAsVm8udGV4dEVuZCkpfShlKTtuPj0wO249SG8oZSxuKSlRbih0LEJvKGUpLCEwKX1mdW5jdGlvbiBxbyh0LGUsbixyKXtjb25zdCBzPUZlKCksaT1IZSgyKTtzLmZpcnN0VXBkYXRlUGFzcyYmR28ocyxudWxsLGkscik7Y29uc3Qgbz1PZSgpO2lmKG4hPT1xcyYmZm8obyxpLG4pKXtjb25zdCBhPXMuZGF0YVt0bigpXTtpZihKbyhhLHIpJiYhV28ocyxpKSl7bGV0IHQ9cj9hLmNsYXNzZXNXaXRob3V0SG9zdDphLnN0eWxlc1dpdGhvdXRIb3N0O251bGwhPT10JiYobj1udCh0LG58fCIiKSksX28ocyxhLG8sbixyKX1lbHNlIWZ1bmN0aW9uKHQsZSxuLHIscyxpLG8sYSl7cz09PXFzJiYocz1SdCk7bGV0IGw9MCx1PTAsYz0wPHMubGVuZ3RoP3NbMF06bnVsbCxoPTA8aS5sZW5ndGg/aVswXTpudWxsO2Zvcig7bnVsbCE9PWN8fG51bGwhPT1oOyl7Y29uc3QgZD1sPHMubGVuZ3RoP3NbbCsxXTp2b2lkIDAscD11PGkubGVuZ3RoP2lbdSsxXTp2b2lkIDA7bGV0IGYsZz1udWxsO2M9PT1oPyhsKz0yLHUrPTIsZCE9PXAmJihnPWgsZj1wKSk6bnVsbD09PWh8fG51bGwhPT1jJiZjPGg/KGwrPTIsZz1jKToodSs9MixnPWgsZj1wKSxudWxsIT09ZyYmS28odCxlLG4scixnLGYsbyxhKSxjPWw8cy5sZW5ndGg/c1tsXTpudWxsLGg9dTxpLmxlbmd0aD9pW3VdOm51bGx9fShzLGEsbyxvWzExXSxvW2krMV0sb1tpKzFdPWZ1bmN0aW9uKHQsZSxuKXtpZihudWxsPT1ufHwiIj09PW4pcmV0dXJuIFJ0O2NvbnN0IHI9W10scz1EcihuKTtpZihBcnJheS5pc0FycmF5KHMpKWZvcihsZXQgaT0wO2k8cy5sZW5ndGg7aSsrKXQocixzW2ldLCEwKTtlbHNlIGlmKCJvYmplY3QiPT10eXBlb2Ygcylmb3IoY29uc3QgaSBpbiBzKXMuaGFzT3duUHJvcGVydHkoaSkmJnQocixpLHNbaV0pO2Vsc2Uic3RyaW5nIj09dHlwZW9mIHMmJmUocixzKTtyZXR1cm4gcn0odCxlLG4pLHIsaSl9fWZ1bmN0aW9uIFdvKHQsZSl7cmV0dXJuIGU+PXQuZXhwYW5kb1N0YXJ0SW5kZXh9ZnVuY3Rpb24gR28odCxlLG4scil7Y29uc3Qgcz10LmRhdGE7aWYobnVsbD09PXNbbisxXSl7Y29uc3QgaT1zW3RuKCldLG89V28odCxuKTtKbyhpLHIpJiZudWxsPT09ZSYmIW8mJihlPSExKSxlPWZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9ZnVuY3Rpb24odCl7Y29uc3QgZT1BZS5sRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4O3JldHVybi0xPT09ZT9udWxsOnRbZV19KHQpO2xldCBpPXI/ZS5yZXNpZHVhbENsYXNzZXM6ZS5yZXNpZHVhbFN0eWxlcztpZihudWxsPT09cykwPT09KHI/ZS5jbGFzc0JpbmRpbmdzOmUuc3R5bGVCaW5kaW5ncykmJihuPVlvKG49Wm8obnVsbCx0LGUsbixyKSxlLmF0dHJzLHIpLGk9bnVsbCk7ZWxzZXtjb25zdCBvPWUuZGlyZWN0aXZlU3R5bGluZ0xhc3Q7aWYoLTE9PT1vfHx0W29dIT09cylpZihuPVpvKHMsdCxlLG4sciksbnVsbD09PWkpe2xldCBuPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPW4/ZS5jbGFzc0JpbmRpbmdzOmUuc3R5bGVCaW5kaW5ncztpZigwIT09UXMocikpcmV0dXJuIHRbWXMocildfSh0LGUscik7dm9pZCAwIT09biYmQXJyYXkuaXNBcnJheShuKSYmKG49Wm8obnVsbCx0LGUsblsxXSxyKSxuPVlvKG4sZS5hdHRycyxyKSxmdW5jdGlvbih0LGUsbixyKXt0W1lzKG4/ZS5jbGFzc0JpbmRpbmdzOmUuc3R5bGVCaW5kaW5ncyldPXJ9KHQsZSxyLG4pKX1lbHNlIGk9ZnVuY3Rpb24odCxlLG4pe2xldCByO2NvbnN0IHM9ZS5kaXJlY3RpdmVFbmQ7Zm9yKGxldCBpPTErZS5kaXJlY3RpdmVTdHlsaW5nTGFzdDtpPHM7aSsrKXI9WW8ocix0W2ldLmhvc3RBdHRycyxuKTtyZXR1cm4gWW8ocixlLmF0dHJzLG4pfSh0LGUscil9cmV0dXJuIHZvaWQgMCE9PWkmJihyP2UucmVzaWR1YWxDbGFzc2VzPWk6ZS5yZXNpZHVhbFN0eWxlcz1pKSxufShzLGksZSxyKSxmdW5jdGlvbih0LGUsbixyLHMsaSl7bGV0IG89aT9lLmNsYXNzQmluZGluZ3M6ZS5zdHlsZUJpbmRpbmdzLGE9WXMobyksbD1RcyhvKTt0W3JdPW47bGV0IHUsYz0hMTtpZihBcnJheS5pc0FycmF5KG4pKXtjb25zdCB0PW47dT10WzFdLChudWxsPT09dXx8Sm4odCx1KT4wKSYmKGM9ITApfWVsc2UgdT1uO2lmKHMpaWYoMCE9PWwpe2NvbnN0IGU9WXModFthKzFdKTt0W3IrMV09WnMoZSxhKSwwIT09ZSYmKHRbZSsxXT1Ycyh0W2UrMV0scikpLHRbYSsxXT0xMzEwNzEmdFthKzFdfHI8PDE3fWVsc2UgdFtyKzFdPVpzKGEsMCksMCE9PWEmJih0W2ErMV09WHModFthKzFdLHIpKSxhPXI7ZWxzZSB0W3IrMV09WnMobCwwKSwwPT09YT9hPXI6dFtsKzFdPVhzKHRbbCsxXSxyKSxsPXI7YyYmKHRbcisxXT1Lcyh0W3IrMV0pKSxqbyh0LHUsciwhMCksam8odCx1LHIsITEpLGZ1bmN0aW9uKHQsZSxuLHIscyl7Y29uc3QgaT1zP3QucmVzaWR1YWxDbGFzc2VzOnQucmVzaWR1YWxTdHlsZXM7bnVsbCE9aSYmInN0cmluZyI9PXR5cGVvZiBlJiZKbihpLGUpPj0wJiYobltyKzFdPUpzKG5bcisxXSkpfShlLHUsdCxyLGkpLG89WnMoYSxsKSxpP2UuY2xhc3NCaW5kaW5ncz1vOmUuc3R5bGVCaW5kaW5ncz1vfShzLGksZSxuLG8scil9fWZ1bmN0aW9uIFpvKHQsZSxuLHIscyl7bGV0IGk9bnVsbDtjb25zdCBvPW4uZGlyZWN0aXZlRW5kO2xldCBhPW4uZGlyZWN0aXZlU3R5bGluZ0xhc3Q7Zm9yKC0xPT09YT9hPW4uZGlyZWN0aXZlU3RhcnQ6YSsrO2E8byYmKGk9ZVthXSxyPVlvKHIsaS5ob3N0QXR0cnMscyksaSE9PXQpOylhKys7cmV0dXJuIG51bGwhPT10JiYobi5kaXJlY3RpdmVTdHlsaW5nTGFzdD1hKSxyfWZ1bmN0aW9uIFlvKHQsZSxuKXtjb25zdCByPW4/MToyO2xldCBzPS0xO2lmKG51bGwhPT1lKWZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBvPWVbaV07Im51bWJlciI9PXR5cGVvZiBvP3M9bzpzPT09ciYmKEFycmF5LmlzQXJyYXkodCl8fCh0PXZvaWQgMD09PXQ/W106WyIiLHRdKSxRbih0LG8sISFufHxlWysraV0pKX1yZXR1cm4gdm9pZCAwPT09dD9udWxsOnR9ZnVuY3Rpb24gS28odCxlLG4scixzLGksbyxhKXtpZighKDMmZS50eXBlKSlyZXR1cm47Y29uc3QgbD10LmRhdGEsdT1sW2ErMV07WG8oMT09KDEmdSk/UW8obCxlLG4scyxRcyh1KSxvKTp2b2lkIDApfHwoWG8oaSl8fDI9PSgyJnUpJiYoaT1RbyhsLG51bGwsbixzLGEsbykpLGZ1bmN0aW9uKHQsZSxuLHIscyl7Y29uc3QgaT1nZSh0KTtpZihlKXM/aT90LmFkZENsYXNzKG4scik6bi5jbGFzc0xpc3QuYWRkKHIpOmk/dC5yZW1vdmVDbGFzcyhuLHIpOm4uY2xhc3NMaXN0LnJlbW92ZShyKTtlbHNle2xldCBlPS0xPT09ci5pbmRleE9mKCItIik/dm9pZCAwOmlzLkRhc2hDYXNlO2lmKG51bGw9PXMpaT90LnJlbW92ZVN0eWxlKG4scixlKTpuLnN0eWxlLnJlbW92ZVByb3BlcnR5KHIpO2Vsc2V7Y29uc3Qgbz0ic3RyaW5nIj09dHlwZW9mIHMmJnMuZW5kc1dpdGgoIiFpbXBvcnRhbnQiKTtvJiYocz1zLnNsaWNlKDAsLTEwKSxlfD1pcy5JbXBvcnRhbnQpLGk/dC5zZXRTdHlsZShuLHIscyxlKTpuLnN0eWxlLnNldFByb3BlcnR5KHIscyxvPyJpbXBvcnRhbnQiOiIiKX19fShyLG8sdmUodG4oKSxuKSxzLGkpKX1mdW5jdGlvbiBRbyh0LGUsbixyLHMsaSl7Y29uc3Qgbz1udWxsPT09ZTtsZXQgYTtmb3IoO3M+MDspe2NvbnN0IGU9dFtzXSxpPUFycmF5LmlzQXJyYXkoZSksbD1pP2VbMV06ZSx1PW51bGw9PT1sO2xldCBjPW5bcysxXTtjPT09cXMmJihjPXU/UnQ6dm9pZCAwKTtsZXQgaD11P1huKGMscik6bD09PXI/Yzp2b2lkIDA7aWYoaSYmIVhvKGgpJiYoaD1YbihlLHIpKSxYbyhoKSYmKGE9aCxvKSlyZXR1cm4gYTtjb25zdCBkPXRbcysxXTtzPW8/WXMoZCk6UXMoZCl9aWYobnVsbCE9PWUpe2xldCB0PWk/ZS5yZXNpZHVhbENsYXNzZXM6ZS5yZXNpZHVhbFN0eWxlcztudWxsIT10JiYoYT1Ybih0LHIpKX1yZXR1cm4gYX1mdW5jdGlvbiBYbyh0KXtyZXR1cm4gdm9pZCAwIT09dH1mdW5jdGlvbiBKbyh0LGUpe3JldHVybiAwIT0odC5mbGFncyYoZT8xNjozMikpfWZ1bmN0aW9uIHRhKHQsZT0iIil7Y29uc3Qgbj1PZSgpLHI9RmUoKSxzPXQrWHQsaT1yLmZpcnN0Q3JlYXRlUGFzcz9uaShyLHMsMSxlLG51bGwpOnIuZGF0YVtzXSxvPW5bc109ZnVuY3Rpb24odCxlKXtyZXR1cm4gZ2UodCk/dC5jcmVhdGVUZXh0KGUpOnQuY3JlYXRlVGV4dE5vZGUoZSl9KG5bMTFdLGUpO0VzKHIsbixvLGkpLFBlKGksITEpfWZ1bmN0aW9uIGVhKHQpe3JldHVybiBuYSgiIix0LCIiKSxlYX1mdW5jdGlvbiBuYSh0LGUsbil7Y29uc3Qgcj1PZSgpLHM9eW8ocix0LGUsbik7cmV0dXJuIHMhPT1xcyYmZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9dmUoZSx0KTshZnVuY3Rpb24odCxlLG4pe2dlKHQpP3Quc2V0VmFsdWUoZSxuKTplLnRleHRDb250ZW50PW59KHRbMTFdLHIsbil9KHIsdG4oKSxzKSxuYX1mdW5jdGlvbiByYSh0LGUsbil7cW8oUW4sem8seW8oT2UoKSx0LGUsbiksITApfWNvbnN0IHNhPXZvaWQgMDt2YXIgaWE9WyJlbiIsW1siYSIsInAiXSxbIkFNIiwiUE0iXSxzYV0sW1siQU0iLCJQTSJdLHNhLHNhXSxbWyJTIiwiTSIsIlQiLCJXIiwiVCIsIkYiLCJTIl0sWyJTdW4iLCJNb24iLCJUdWUiLCJXZWQiLCJUaHUiLCJGcmkiLCJTYXQiXSxbIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sWyJTdSIsIk1vIiwiVHUiLCJXZSIsIlRoIiwiRnIiLCJTYSJdXSxzYSxbWyJKIiwiRiIsIk0iLCJBIiwiTSIsIkoiLCJKIiwiQSIsIlMiLCJPIiwiTiIsIkQiXSxbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdLFsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXV0sc2EsW1siQiIsIkEiXSxbIkJDIiwiQUQiXSxbIkJlZm9yZSBDaHJpc3QiLCJBbm5vIERvbWluaSJdXSwwLFs2LDBdLFsiTS9kL3l5IiwiTU1NIGQsIHkiLCJNTU1NIGQsIHkiLCJFRUVFLCBNTU1NIGQsIHkiXSxbImg6bW0gYSIsImg6bW06c3MgYSIsImg6bW06c3MgYSB6IiwiaDptbTpzcyBhIHp6enoiXSxbInsxfSwgezB9IixzYSwiezF9ICdhdCcgezB9IixzYV0sWyIuIiwiLCIsIjsiLCIlIiwiKyIsIi0iLCJFIiwiXHhkNyIsIlx1MjAzMCIsIlx1MjIxZSIsIk5hTiIsIjoiXSxbIiMsIyMwLiMjIyIsIiMsIyMwJSIsIlx4YTQjLCMjMC4wMCIsIiNFMCJdLCJVU0QiLCIkIiwiVVMgRG9sbGFyIix7fSwibHRyIixmdW5jdGlvbih0KXtsZXQgZT1NYXRoLmZsb29yKE1hdGguYWJzKHQpKSxuPXQudG9TdHJpbmcoKS5yZXBsYWNlKC9eW14uXSpcLj8vLCIiKS5sZW5ndGg7cmV0dXJuIDE9PT1lJiYwPT09bj8xOjV9XTtsZXQgb2E9e307ZnVuY3Rpb24gYWEodCl7Y29uc3QgZT1mdW5jdGlvbih0KXtyZXR1cm4gdC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywiLSIpfSh0KTtsZXQgbj1sYShlKTtpZihuKXJldHVybiBuO2NvbnN0IHI9ZS5zcGxpdCgiLSIpWzBdO2lmKG49bGEociksbilyZXR1cm4gbjtpZigiZW4iPT09cilyZXR1cm4gaWE7dGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIGxvY2FsZSBkYXRhIGZvciB0aGUgbG9jYWxlICIke3R9Ii5gKX1mdW5jdGlvbiBsYSh0KXtyZXR1cm4gdCBpbiBvYXx8KG9hW3RdPWt0Lm5nJiZrdC5uZy5jb21tb24mJmt0Lm5nLmNvbW1vbi5sb2NhbGVzJiZrdC5uZy5jb21tb24ubG9jYWxlc1t0XSksb2FbdF19dmFyIHVhPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuTG9jYWxlSWQ9MF09IkxvY2FsZUlkIix0W3QuRGF5UGVyaW9kc0Zvcm1hdD0xXT0iRGF5UGVyaW9kc0Zvcm1hdCIsdFt0LkRheVBlcmlvZHNTdGFuZGFsb25lPTJdPSJEYXlQZXJpb2RzU3RhbmRhbG9uZSIsdFt0LkRheXNGb3JtYXQ9M109IkRheXNGb3JtYXQiLHRbdC5EYXlzU3RhbmRhbG9uZT00XT0iRGF5c1N0YW5kYWxvbmUiLHRbdC5Nb250aHNGb3JtYXQ9NV09Ik1vbnRoc0Zvcm1hdCIsdFt0Lk1vbnRoc1N0YW5kYWxvbmU9Nl09Ik1vbnRoc1N0YW5kYWxvbmUiLHRbdC5FcmFzPTddPSJFcmFzIix0W3QuRmlyc3REYXlPZldlZWs9OF09IkZpcnN0RGF5T2ZXZWVrIix0W3QuV2Vla2VuZFJhbmdlPTldPSJXZWVrZW5kUmFuZ2UiLHRbdC5EYXRlRm9ybWF0PTEwXT0iRGF0ZUZvcm1hdCIsdFt0LlRpbWVGb3JtYXQ9MTFdPSJUaW1lRm9ybWF0Iix0W3QuRGF0ZVRpbWVGb3JtYXQ9MTJdPSJEYXRlVGltZUZvcm1hdCIsdFt0Lk51bWJlclN5bWJvbHM9MTNdPSJOdW1iZXJTeW1ib2xzIix0W3QuTnVtYmVyRm9ybWF0cz0xNF09Ik51bWJlckZvcm1hdHMiLHRbdC5DdXJyZW5jeUNvZGU9MTVdPSJDdXJyZW5jeUNvZGUiLHRbdC5DdXJyZW5jeVN5bWJvbD0xNl09IkN1cnJlbmN5U3ltYm9sIix0W3QuQ3VycmVuY3lOYW1lPTE3XT0iQ3VycmVuY3lOYW1lIix0W3QuQ3VycmVuY2llcz0xOF09IkN1cnJlbmNpZXMiLHRbdC5EaXJlY3Rpb25hbGl0eT0xOV09IkRpcmVjdGlvbmFsaXR5Iix0W3QuUGx1cmFsQ2FzZT0yMF09IlBsdXJhbENhc2UiLHRbdC5FeHRyYURhdGE9MjFdPSJFeHRyYURhdGEiLHR9KHt9KTtjb25zdCBjYT0iZW4tVVMiO2xldCBoYT1jYTtmdW5jdGlvbiBkYSh0KXt2YXIgZSxuO249IkV4cGVjdGVkIGxvY2FsZUlkIHRvIGJlIGRlZmluZWQiLG51bGw9PShlPXQpJiZmdW5jdGlvbih0LGUsbixyKXt0aHJvdyBuZXcgRXJyb3IoYEFTU0VSVElPTiBFUlJPUjogJHt0fSBbRXhwZWN0ZWQ9PiBudWxsICE9ICR7ZX0gPD1BY3R1YWxdYCl9KG4sZSksInN0cmluZyI9PXR5cGVvZiB0JiYoaGE9dC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywiLSIpKX1mdW5jdGlvbiBwYSh0LGUsbixyLHMpe2lmKHQ9aXQodCksQXJyYXkuaXNBcnJheSh0KSlmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKylwYSh0W2ldLGUsbixyLHMpO2Vsc2V7Y29uc3QgaT1GZSgpLG89T2UoKTtsZXQgYT1KaSh0KT90Oml0KHQucHJvdmlkZSksbD1LaSh0KTtjb25zdCB1PUllKCksYz0xMDQ4NTc1JnUucHJvdmlkZXJJbmRleGVzLGg9dS5kaXJlY3RpdmVTdGFydCxkPXUucHJvdmlkZXJJbmRleGVzPj4yMDtpZihKaSh0KXx8IXQubXVsdGkpe2NvbnN0IHI9bmV3IGhuKGwscyx3bykscD1tYShhLGUscz9jOmMrZCxoKTstMT09PXA/KEFuKERuKHUsbyksaSxhKSxmYShpLHQsZS5sZW5ndGgpLGUucHVzaChhKSx1LmRpcmVjdGl2ZVN0YXJ0KyssdS5kaXJlY3RpdmVFbmQrKyxzJiYodS5wcm92aWRlckluZGV4ZXMrPTEwNDg1NzYpLG4ucHVzaChyKSxvLnB1c2gocikpOihuW3BdPXIsb1twXT1yKX1lbHNle2NvbnN0IHA9bWEoYSxlLGMrZCxoKSxmPW1hKGEsZSxjLGMrZCksZz1wPj0wJiZuW3BdLG09Zj49MCYmbltmXTtpZihzJiYhbXx8IXMmJiFnKXtBbihEbih1LG8pLGksYSk7Y29uc3QgYz1mdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9bmV3IGhuKHQsbix3byk7cmV0dXJuIGkubXVsdGk9W10saS5pbmRleD1lLGkuY29tcG9uZW50UHJvdmlkZXJzPTAsZ2EoaSxzLHImJiFuKSxpfShzP3ZhOnlhLG4ubGVuZ3RoLHMscixsKTshcyYmbSYmKG5bZl0ucHJvdmlkZXJGYWN0b3J5PWMpLGZhKGksdCxlLmxlbmd0aCwwKSxlLnB1c2goYSksdS5kaXJlY3RpdmVTdGFydCsrLHUuZGlyZWN0aXZlRW5kKysscyYmKHUucHJvdmlkZXJJbmRleGVzKz0xMDQ4NTc2KSxuLnB1c2goYyksby5wdXNoKGMpfWVsc2UgZmEoaSx0LHA+LTE/cDpmLGdhKG5bcz9mOnBdLGwsIXMmJnIpKTshcyYmciYmbSYmbltmXS5jb21wb25lbnRQcm92aWRlcnMrK319fWZ1bmN0aW9uIGZhKHQsZSxuLHIpe2NvbnN0IHM9SmkoZSk7aWYoc3x8ZS51c2VDbGFzcyl7Y29uc3QgaT0oZS51c2VDbGFzc3x8ZSkucHJvdG90eXBlLm5nT25EZXN0cm95O2lmKGkpe2NvbnN0IG89dC5kZXN0cm95SG9va3N8fCh0LmRlc3Ryb3lIb29rcz1bXSk7aWYoIXMmJmUubXVsdGkpe2NvbnN0IHQ9by5pbmRleE9mKG4pOy0xPT09dD9vLnB1c2gobixbcixpXSk6b1t0KzFdLnB1c2gocixpKX1lbHNlIG8ucHVzaChuLGkpfX19ZnVuY3Rpb24gZ2EodCxlLG4pe3JldHVybiBuJiZ0LmNvbXBvbmVudFByb3ZpZGVycysrLHQubXVsdGkucHVzaChlKS0xfWZ1bmN0aW9uIG1hKHQsZSxuLHIpe2ZvcihsZXQgcz1uO3M8cjtzKyspaWYoZVtzXT09PXQpcmV0dXJuIHM7cmV0dXJuLTF9ZnVuY3Rpb24geWEodCxlLG4scil7cmV0dXJuIGJhKHRoaXMubXVsdGksW10pfWZ1bmN0aW9uIHZhKHQsZSxuLHIpe2NvbnN0IHM9dGhpcy5tdWx0aTtsZXQgaTtpZih0aGlzLnByb3ZpZGVyRmFjdG9yeSl7Y29uc3QgdD10aGlzLnByb3ZpZGVyRmFjdG9yeS5jb21wb25lbnRQcm92aWRlcnMsZT1MbihuLG5bMV0sdGhpcy5wcm92aWRlckZhY3RvcnkuaW5kZXgscik7aT1lLnNsaWNlKDAsdCksYmEocyxpKTtmb3IobGV0IG49dDtuPGUubGVuZ3RoO24rKylpLnB1c2goZVtuXSl9ZWxzZSBpPVtdLGJhKHMsaSk7cmV0dXJuIGl9ZnVuY3Rpb24gYmEodCxlKXtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyllLnB1c2goKDAsdFtuXSkoKSk7cmV0dXJuIGV9ZnVuY3Rpb24gd2EodCxlPVtdKXtyZXR1cm4gbj0+e24ucHJvdmlkZXJzUmVzb2x2ZXI9KG4scik9PmZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPUZlKCk7aWYoci5maXJzdENyZWF0ZVBhc3Mpe2NvbnN0IHM9aWUodCk7cGEobixyLmRhdGEsci5ibHVlcHJpbnQscywhMCkscGEoZSxyLmRhdGEsci5ibHVlcHJpbnQscywhMSl9fShuLHI/cih0KTp0LGUpfX1jbGFzcyBDYXt9Y2xhc3MgX2F7cmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodCl7dGhyb3cgZnVuY3Rpb24odCl7Y29uc3QgZT1FcnJvcihgTm8gY29tcG9uZW50IGZhY3RvcnkgZm91bmQgZm9yICR7ZXQodCl9LiBEaWQgeW91IGFkZCBpdCB0byBATmdNb2R1bGUuZW50cnlDb21wb25lbnRzP2ApO3JldHVybiBlLm5nQ29tcG9uZW50PXQsZX0odCl9fWxldCBEYT0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5OVUxMPW5ldyBfYSx0fSkoKTtmdW5jdGlvbiBFYSguLi50KXt9ZnVuY3Rpb24gU2EodCxlKXtyZXR1cm4gbmV3IEFhKGJlKHQsZSkpfWNvbnN0IHhhPWZ1bmN0aW9uKCl7cmV0dXJuIFNhKEllKCksT2UoKSl9O2xldCBBYT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMubmF0aXZlRWxlbWVudD10fX1yZXR1cm4gdC5fX05HX0VMRU1FTlRfSURfXz14YSx0fSkoKTtmdW5jdGlvbiBUYSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFhP3QubmF0aXZlRWxlbWVudDp0fWNsYXNzIE9he31sZXQgRmE9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuX19OR19FTEVNRU5UX0lEX189KCk9PmthKCksdH0pKCk7Y29uc3Qga2E9ZnVuY3Rpb24oKXtjb25zdCB0PU9lKCksZT1DZShJZSgpLmluZGV4LHQpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdFsxMV19KHRlKGUpP2U6dCl9O2xldCBJYT0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6KCk9Pm51bGx9KSx0fSkoKTtjbGFzcyBSYXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmZ1bGw9dCx0aGlzLm1ham9yPXQuc3BsaXQoIi4iKVswXSx0aGlzLm1pbm9yPXQuc3BsaXQoIi4iKVsxXSx0aGlzLnBhdGNoPXQuc3BsaXQoIi4iKS5zbGljZSgyKS5qb2luKCIuIil9fWNvbnN0IFBhPW5ldyBSYSgiMTIuMC41Iik7Y2xhc3MgTGF7Y29uc3RydWN0b3IoKXt9c3VwcG9ydHModCl7cmV0dXJuIGNvKHQpfWNyZWF0ZSh0KXtyZXR1cm4gbmV3IGphKHQpfX1jb25zdCBOYT0odCxlKT0+ZTtjbGFzcyBqYXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmxlbmd0aD0wLHRoaXMuX2xpbmtlZFJlY29yZHM9bnVsbCx0aGlzLl91bmxpbmtlZFJlY29yZHM9bnVsbCx0aGlzLl9wcmV2aW91c0l0SGVhZD1udWxsLHRoaXMuX2l0SGVhZD1udWxsLHRoaXMuX2l0VGFpbD1udWxsLHRoaXMuX2FkZGl0aW9uc0hlYWQ9bnVsbCx0aGlzLl9hZGRpdGlvbnNUYWlsPW51bGwsdGhpcy5fbW92ZXNIZWFkPW51bGwsdGhpcy5fbW92ZXNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPW51bGwsdGhpcy5fcmVtb3ZhbHNUYWlsPW51bGwsdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZD1udWxsLHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWw9bnVsbCx0aGlzLl90cmFja0J5Rm49dHx8TmF9Zm9yRWFjaEl0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5faXRIZWFkO251bGwhPT1lO2U9ZS5fbmV4dCl0KGUpfWZvckVhY2hPcGVyYXRpb24odCl7bGV0IGU9dGhpcy5faXRIZWFkLG49dGhpcy5fcmVtb3ZhbHNIZWFkLHI9MCxzPW51bGw7Zm9yKDtlfHxuOyl7Y29uc3QgaT0hbnx8ZSYmZS5jdXJyZW50SW5kZXg8SGEobixyLHMpP2U6bixvPUhhKGkscixzKSxhPWkuY3VycmVudEluZGV4O2lmKGk9PT1uKXItLSxuPW4uX25leHRSZW1vdmVkO2Vsc2UgaWYoZT1lLl9uZXh0LG51bGw9PWkucHJldmlvdXNJbmRleClyKys7ZWxzZXtzfHwocz1bXSk7Y29uc3QgdD1vLXIsZT1hLXI7aWYodCE9ZSl7Zm9yKGxldCBuPTA7bjx0O24rKyl7Y29uc3Qgcj1uPHMubGVuZ3RoP3Nbbl06c1tuXT0wLGk9cituO2U8PWkmJmk8dCYmKHNbbl09cisxKX1zW2kucHJldmlvdXNJbmRleF09ZS10fX1vIT09YSYmdChpLG8sYSl9fWZvckVhY2hQcmV2aW91c0l0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5fcHJldmlvdXNJdEhlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UHJldmlvdXMpdChlKX1mb3JFYWNoQWRkZWRJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX2FkZGl0aW9uc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0QWRkZWQpdChlKX1mb3JFYWNoTW92ZWRJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX21vdmVzSGVhZDtudWxsIT09ZTtlPWUuX25leHRNb3ZlZCl0KGUpfWZvckVhY2hSZW1vdmVkSXRlbSh0KXtsZXQgZTtmb3IoZT10aGlzLl9yZW1vdmFsc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UmVtb3ZlZCl0KGUpfWZvckVhY2hJZGVudGl0eUNoYW5nZSh0KXtsZXQgZTtmb3IoZT10aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkO251bGwhPT1lO2U9ZS5fbmV4dElkZW50aXR5Q2hhbmdlKXQoZSl9ZGlmZih0KXtpZihudWxsPT10JiYodD1bXSksIWNvKHQpKXRocm93IG5ldyBFcnJvcihgRXJyb3IgdHJ5aW5nIHRvIGRpZmYgJyR7ZXQodCl9Jy4gT25seSBhcnJheXMgYW5kIGl0ZXJhYmxlcyBhcmUgYWxsb3dlZGApO3JldHVybiB0aGlzLmNoZWNrKHQpP3RoaXM6bnVsbH1vbkRlc3Ryb3koKXt9Y2hlY2sodCl7dGhpcy5fcmVzZXQoKTtsZXQgZSxuLHIscz10aGlzLl9pdEhlYWQsaT0hMTtpZihBcnJheS5pc0FycmF5KHQpKXt0aGlzLmxlbmd0aD10Lmxlbmd0aDtmb3IobGV0IGU9MDtlPHRoaXMubGVuZ3RoO2UrKyluPXRbZV0scj10aGlzLl90cmFja0J5Rm4oZSxuKSxudWxsIT09cyYmT2JqZWN0LmlzKHMudHJhY2tCeUlkLHIpPyhpJiYocz10aGlzLl92ZXJpZnlSZWluc2VydGlvbihzLG4scixlKSksT2JqZWN0LmlzKHMuaXRlbSxuKXx8dGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UocyxuKSk6KHM9dGhpcy5fbWlzbWF0Y2gocyxuLHIsZSksaT0hMCkscz1zLl9uZXh0fWVsc2UgZT0wLGZ1bmN0aW9uKHQsZSl7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyllKHRbbl0pO2Vsc2V7Y29uc3Qgbj10W3VvKCldKCk7bGV0IHI7Zm9yKDshKHI9bi5uZXh0KCkpLmRvbmU7KWUoci52YWx1ZSl9fSh0LHQ9PntyPXRoaXMuX3RyYWNrQnlGbihlLHQpLG51bGwhPT1zJiZPYmplY3QuaXMocy50cmFja0J5SWQscik/KGkmJihzPXRoaXMuX3ZlcmlmeVJlaW5zZXJ0aW9uKHMsdCxyLGUpKSxPYmplY3QuaXMocy5pdGVtLHQpfHx0aGlzLl9hZGRJZGVudGl0eUNoYW5nZShzLHQpKToocz10aGlzLl9taXNtYXRjaChzLHQscixlKSxpPSEwKSxzPXMuX25leHQsZSsrfSksdGhpcy5sZW5ndGg9ZTtyZXR1cm4gdGhpcy5fdHJ1bmNhdGUocyksdGhpcy5jb2xsZWN0aW9uPXQsdGhpcy5pc0RpcnR5fWdldCBpc0RpcnR5KCl7cmV0dXJuIG51bGwhPT10aGlzLl9hZGRpdGlvbnNIZWFkfHxudWxsIT09dGhpcy5fbW92ZXNIZWFkfHxudWxsIT09dGhpcy5fcmVtb3ZhbHNIZWFkfHxudWxsIT09dGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZH1fcmVzZXQoKXtpZih0aGlzLmlzRGlydHkpe2xldCB0O2Zvcih0PXRoaXMuX3ByZXZpb3VzSXRIZWFkPXRoaXMuX2l0SGVhZDtudWxsIT09dDt0PXQuX25leHQpdC5fbmV4dFByZXZpb3VzPXQuX25leHQ7Zm9yKHQ9dGhpcy5fYWRkaXRpb25zSGVhZDtudWxsIT09dDt0PXQuX25leHRBZGRlZCl0LnByZXZpb3VzSW5kZXg9dC5jdXJyZW50SW5kZXg7Zm9yKHRoaXMuX2FkZGl0aW9uc0hlYWQ9dGhpcy5fYWRkaXRpb25zVGFpbD1udWxsLHQ9dGhpcy5fbW92ZXNIZWFkO251bGwhPT10O3Q9dC5fbmV4dE1vdmVkKXQucHJldmlvdXNJbmRleD10LmN1cnJlbnRJbmRleDt0aGlzLl9tb3Zlc0hlYWQ9dGhpcy5fbW92ZXNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPXRoaXMuX3JlbW92YWxzVGFpbD1udWxsLHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQ9dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbD1udWxsfX1fbWlzbWF0Y2godCxlLG4scil7bGV0IHM7cmV0dXJuIG51bGw9PT10P3M9dGhpcy5faXRUYWlsOihzPXQuX3ByZXYsdGhpcy5fcmVtb3ZlKHQpKSxudWxsIT09KHQ9bnVsbD09PXRoaXMuX3VubGlua2VkUmVjb3Jkcz9udWxsOnRoaXMuX3VubGlua2VkUmVjb3Jkcy5nZXQobixudWxsKSk/KE9iamVjdC5pcyh0Lml0ZW0sZSl8fHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHQsZSksdGhpcy5fcmVpbnNlcnRBZnRlcih0LHMscikpOm51bGwhPT0odD1udWxsPT09dGhpcy5fbGlua2VkUmVjb3Jkcz9udWxsOnRoaXMuX2xpbmtlZFJlY29yZHMuZ2V0KG4scikpPyhPYmplY3QuaXModC5pdGVtLGUpfHx0aGlzLl9hZGRJZGVudGl0eUNoYW5nZSh0LGUpLHRoaXMuX21vdmVBZnRlcih0LHMscikpOnQ9dGhpcy5fYWRkQWZ0ZXIobmV3IE1hKGUsbikscyxyKSx0fV92ZXJpZnlSZWluc2VydGlvbih0LGUsbixyKXtsZXQgcz1udWxsPT09dGhpcy5fdW5saW5rZWRSZWNvcmRzP251bGw6dGhpcy5fdW5saW5rZWRSZWNvcmRzLmdldChuLG51bGwpO3JldHVybiBudWxsIT09cz90PXRoaXMuX3JlaW5zZXJ0QWZ0ZXIocyx0Ll9wcmV2LHIpOnQuY3VycmVudEluZGV4IT1yJiYodC5jdXJyZW50SW5kZXg9cix0aGlzLl9hZGRUb01vdmVzKHQscikpLHR9X3RydW5jYXRlKHQpe2Zvcig7bnVsbCE9PXQ7KXtjb25zdCBlPXQuX25leHQ7dGhpcy5fYWRkVG9SZW1vdmFscyh0aGlzLl91bmxpbmsodCkpLHQ9ZX1udWxsIT09dGhpcy5fdW5saW5rZWRSZWNvcmRzJiZ0aGlzLl91bmxpbmtlZFJlY29yZHMuY2xlYXIoKSxudWxsIT09dGhpcy5fYWRkaXRpb25zVGFpbCYmKHRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZD1udWxsKSxudWxsIT09dGhpcy5fbW92ZXNUYWlsJiYodGhpcy5fbW92ZXNUYWlsLl9uZXh0TW92ZWQ9bnVsbCksbnVsbCE9PXRoaXMuX2l0VGFpbCYmKHRoaXMuX2l0VGFpbC5fbmV4dD1udWxsKSxudWxsIT09dGhpcy5fcmVtb3ZhbHNUYWlsJiYodGhpcy5fcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZD1udWxsKSxudWxsIT09dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCYmKHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwuX25leHRJZGVudGl0eUNoYW5nZT1udWxsKX1fcmVpbnNlcnRBZnRlcih0LGUsbil7bnVsbCE9PXRoaXMuX3VubGlua2VkUmVjb3JkcyYmdGhpcy5fdW5saW5rZWRSZWNvcmRzLnJlbW92ZSh0KTtjb25zdCByPXQuX3ByZXZSZW1vdmVkLHM9dC5fbmV4dFJlbW92ZWQ7cmV0dXJuIG51bGw9PT1yP3RoaXMuX3JlbW92YWxzSGVhZD1zOnIuX25leHRSZW1vdmVkPXMsbnVsbD09PXM/dGhpcy5fcmVtb3ZhbHNUYWlsPXI6cy5fcHJldlJlbW92ZWQ9cix0aGlzLl9pbnNlcnRBZnRlcih0LGUsbiksdGhpcy5fYWRkVG9Nb3Zlcyh0LG4pLHR9X21vdmVBZnRlcih0LGUsbil7cmV0dXJuIHRoaXMuX3VubGluayh0KSx0aGlzLl9pbnNlcnRBZnRlcih0LGUsbiksdGhpcy5fYWRkVG9Nb3Zlcyh0LG4pLHR9X2FkZEFmdGVyKHQsZSxuKXtyZXR1cm4gdGhpcy5faW5zZXJ0QWZ0ZXIodCxlLG4pLHRoaXMuX2FkZGl0aW9uc1RhaWw9bnVsbD09PXRoaXMuX2FkZGl0aW9uc1RhaWw/dGhpcy5fYWRkaXRpb25zSGVhZD10OnRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZD10LHR9X2luc2VydEFmdGVyKHQsZSxuKXtjb25zdCByPW51bGw9PT1lP3RoaXMuX2l0SGVhZDplLl9uZXh0O3JldHVybiB0Ll9uZXh0PXIsdC5fcHJldj1lLG51bGw9PT1yP3RoaXMuX2l0VGFpbD10OnIuX3ByZXY9dCxudWxsPT09ZT90aGlzLl9pdEhlYWQ9dDplLl9uZXh0PXQsbnVsbD09PXRoaXMuX2xpbmtlZFJlY29yZHMmJih0aGlzLl9saW5rZWRSZWNvcmRzPW5ldyBCYSksdGhpcy5fbGlua2VkUmVjb3Jkcy5wdXQodCksdC5jdXJyZW50SW5kZXg9bix0fV9yZW1vdmUodCl7cmV0dXJuIHRoaXMuX2FkZFRvUmVtb3ZhbHModGhpcy5fdW5saW5rKHQpKX1fdW5saW5rKHQpe251bGwhPT10aGlzLl9saW5rZWRSZWNvcmRzJiZ0aGlzLl9saW5rZWRSZWNvcmRzLnJlbW92ZSh0KTtjb25zdCBlPXQuX3ByZXYsbj10Ll9uZXh0O3JldHVybiBudWxsPT09ZT90aGlzLl9pdEhlYWQ9bjplLl9uZXh0PW4sbnVsbD09PW4/dGhpcy5faXRUYWlsPWU6bi5fcHJldj1lLHR9X2FkZFRvTW92ZXModCxlKXtyZXR1cm4gdC5wcmV2aW91c0luZGV4PT09ZXx8KHRoaXMuX21vdmVzVGFpbD1udWxsPT09dGhpcy5fbW92ZXNUYWlsP3RoaXMuX21vdmVzSGVhZD10OnRoaXMuX21vdmVzVGFpbC5fbmV4dE1vdmVkPXQpLHR9X2FkZFRvUmVtb3ZhbHModCl7cmV0dXJuIG51bGw9PT10aGlzLl91bmxpbmtlZFJlY29yZHMmJih0aGlzLl91bmxpbmtlZFJlY29yZHM9bmV3IEJhKSx0aGlzLl91bmxpbmtlZFJlY29yZHMucHV0KHQpLHQuY3VycmVudEluZGV4PW51bGwsdC5fbmV4dFJlbW92ZWQ9bnVsbCxudWxsPT09dGhpcy5fcmVtb3ZhbHNUYWlsPyh0aGlzLl9yZW1vdmFsc1RhaWw9dGhpcy5fcmVtb3ZhbHNIZWFkPXQsdC5fcHJldlJlbW92ZWQ9bnVsbCk6KHQuX3ByZXZSZW1vdmVkPXRoaXMuX3JlbW92YWxzVGFpbCx0aGlzLl9yZW1vdmFsc1RhaWw9dGhpcy5fcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZD10KSx0fV9hZGRJZGVudGl0eUNoYW5nZSh0LGUpe3JldHVybiB0Lml0ZW09ZSx0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsPW51bGw9PT10aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsP3RoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQ9dDp0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsLl9uZXh0SWRlbnRpdHlDaGFuZ2U9dCx0fX1jbGFzcyBNYXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuaXRlbT10LHRoaXMudHJhY2tCeUlkPWUsdGhpcy5jdXJyZW50SW5kZXg9bnVsbCx0aGlzLnByZXZpb3VzSW5kZXg9bnVsbCx0aGlzLl9uZXh0UHJldmlvdXM9bnVsbCx0aGlzLl9wcmV2PW51bGwsdGhpcy5fbmV4dD1udWxsLHRoaXMuX3ByZXZEdXA9bnVsbCx0aGlzLl9uZXh0RHVwPW51bGwsdGhpcy5fcHJldlJlbW92ZWQ9bnVsbCx0aGlzLl9uZXh0UmVtb3ZlZD1udWxsLHRoaXMuX25leHRBZGRlZD1udWxsLHRoaXMuX25leHRNb3ZlZD1udWxsLHRoaXMuX25leHRJZGVudGl0eUNoYW5nZT1udWxsfX1jbGFzcyBWYXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2hlYWQ9bnVsbCx0aGlzLl90YWlsPW51bGx9YWRkKHQpe251bGw9PT10aGlzLl9oZWFkPyh0aGlzLl9oZWFkPXRoaXMuX3RhaWw9dCx0Ll9uZXh0RHVwPW51bGwsdC5fcHJldkR1cD1udWxsKToodGhpcy5fdGFpbC5fbmV4dER1cD10LHQuX3ByZXZEdXA9dGhpcy5fdGFpbCx0Ll9uZXh0RHVwPW51bGwsdGhpcy5fdGFpbD10KX1nZXQodCxlKXtsZXQgbjtmb3Iobj10aGlzLl9oZWFkO251bGwhPT1uO249bi5fbmV4dER1cClpZigobnVsbD09PWV8fGU8PW4uY3VycmVudEluZGV4KSYmT2JqZWN0LmlzKG4udHJhY2tCeUlkLHQpKXJldHVybiBuO3JldHVybiBudWxsfXJlbW92ZSh0KXtjb25zdCBlPXQuX3ByZXZEdXAsbj10Ll9uZXh0RHVwO3JldHVybiBudWxsPT09ZT90aGlzLl9oZWFkPW46ZS5fbmV4dER1cD1uLG51bGw9PT1uP3RoaXMuX3RhaWw9ZTpuLl9wcmV2RHVwPWUsbnVsbD09PXRoaXMuX2hlYWR9fWNsYXNzIEJhe2NvbnN0cnVjdG9yKCl7dGhpcy5tYXA9bmV3IE1hcH1wdXQodCl7Y29uc3QgZT10LnRyYWNrQnlJZDtsZXQgbj10aGlzLm1hcC5nZXQoZSk7bnx8KG49bmV3IFZhLHRoaXMubWFwLnNldChlLG4pKSxuLmFkZCh0KX1nZXQodCxlKXtjb25zdCBuPXRoaXMubWFwLmdldCh0KTtyZXR1cm4gbj9uLmdldCh0LGUpOm51bGx9cmVtb3ZlKHQpe2NvbnN0IGU9dC50cmFja0J5SWQ7cmV0dXJuIHRoaXMubWFwLmdldChlKS5yZW1vdmUodCkmJnRoaXMubWFwLmRlbGV0ZShlKSx0fWdldCBpc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLm1hcC5zaXplfWNsZWFyKCl7dGhpcy5tYXAuY2xlYXIoKX19ZnVuY3Rpb24gSGEodCxlLG4pe2NvbnN0IHI9dC5wcmV2aW91c0luZGV4O2lmKG51bGw9PT1yKXJldHVybiByO2xldCBzPTA7cmV0dXJuIG4mJnI8bi5sZW5ndGgmJihzPW5bcl0pLHIrZStzfWNsYXNzIFVhe2NvbnN0cnVjdG9yKCl7fXN1cHBvcnRzKHQpe3JldHVybiB0IGluc3RhbmNlb2YgTWFwfHxobyh0KX1jcmVhdGUoKXtyZXR1cm4gbmV3ICRhfX1jbGFzcyAkYXtjb25zdHJ1Y3Rvcigpe3RoaXMuX3JlY29yZHM9bmV3IE1hcCx0aGlzLl9tYXBIZWFkPW51bGwsdGhpcy5fYXBwZW5kQWZ0ZXI9bnVsbCx0aGlzLl9wcmV2aW91c01hcEhlYWQ9bnVsbCx0aGlzLl9jaGFuZ2VzSGVhZD1udWxsLHRoaXMuX2NoYW5nZXNUYWlsPW51bGwsdGhpcy5fYWRkaXRpb25zSGVhZD1udWxsLHRoaXMuX2FkZGl0aW9uc1RhaWw9bnVsbCx0aGlzLl9yZW1vdmFsc0hlYWQ9bnVsbCx0aGlzLl9yZW1vdmFsc1RhaWw9bnVsbH1nZXQgaXNEaXJ0eSgpe3JldHVybiBudWxsIT09dGhpcy5fYWRkaXRpb25zSGVhZHx8bnVsbCE9PXRoaXMuX2NoYW5nZXNIZWFkfHxudWxsIT09dGhpcy5fcmVtb3ZhbHNIZWFkfWZvckVhY2hJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX21hcEhlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0KXQoZSl9Zm9yRWFjaFByZXZpb3VzSXRlbSh0KXtsZXQgZTtmb3IoZT10aGlzLl9wcmV2aW91c01hcEhlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UHJldmlvdXMpdChlKX1mb3JFYWNoQ2hhbmdlZEl0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5fY2hhbmdlc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0Q2hhbmdlZCl0KGUpfWZvckVhY2hBZGRlZEl0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5fYWRkaXRpb25zSGVhZDtudWxsIT09ZTtlPWUuX25leHRBZGRlZCl0KGUpfWZvckVhY2hSZW1vdmVkSXRlbSh0KXtsZXQgZTtmb3IoZT10aGlzLl9yZW1vdmFsc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UmVtb3ZlZCl0KGUpfWRpZmYodCl7aWYodCl7aWYoISh0IGluc3RhbmNlb2YgTWFwfHxobyh0KSkpdGhyb3cgbmV3IEVycm9yKGBFcnJvciB0cnlpbmcgdG8gZGlmZiAnJHtldCh0KX0nLiBPbmx5IG1hcHMgYW5kIG9iamVjdHMgYXJlIGFsbG93ZWRgKX1lbHNlIHQ9bmV3IE1hcDtyZXR1cm4gdGhpcy5jaGVjayh0KT90aGlzOm51bGx9b25EZXN0cm95KCl7fWNoZWNrKHQpe3RoaXMuX3Jlc2V0KCk7bGV0IGU9dGhpcy5fbWFwSGVhZDtpZih0aGlzLl9hcHBlbmRBZnRlcj1udWxsLHRoaXMuX2ZvckVhY2godCwodCxuKT0+e2lmKGUmJmUua2V5PT09bil0aGlzLl9tYXliZUFkZFRvQ2hhbmdlcyhlLHQpLHRoaXMuX2FwcGVuZEFmdGVyPWUsZT1lLl9uZXh0O2Vsc2V7Y29uc3Qgcj10aGlzLl9nZXRPckNyZWF0ZVJlY29yZEZvcktleShuLHQpO2U9dGhpcy5faW5zZXJ0QmVmb3JlT3JBcHBlbmQoZSxyKX19KSxlKXtlLl9wcmV2JiYoZS5fcHJldi5fbmV4dD1udWxsKSx0aGlzLl9yZW1vdmFsc0hlYWQ9ZTtmb3IobGV0IHQ9ZTtudWxsIT09dDt0PXQuX25leHRSZW1vdmVkKXQ9PT10aGlzLl9tYXBIZWFkJiYodGhpcy5fbWFwSGVhZD1udWxsKSx0aGlzLl9yZWNvcmRzLmRlbGV0ZSh0LmtleSksdC5fbmV4dFJlbW92ZWQ9dC5fbmV4dCx0LnByZXZpb3VzVmFsdWU9dC5jdXJyZW50VmFsdWUsdC5jdXJyZW50VmFsdWU9bnVsbCx0Ll9wcmV2PW51bGwsdC5fbmV4dD1udWxsfXJldHVybiB0aGlzLl9jaGFuZ2VzVGFpbCYmKHRoaXMuX2NoYW5nZXNUYWlsLl9uZXh0Q2hhbmdlZD1udWxsKSx0aGlzLl9hZGRpdGlvbnNUYWlsJiYodGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkPW51bGwpLHRoaXMuaXNEaXJ0eX1faW5zZXJ0QmVmb3JlT3JBcHBlbmQodCxlKXtpZih0KXtjb25zdCBuPXQuX3ByZXY7cmV0dXJuIGUuX25leHQ9dCxlLl9wcmV2PW4sdC5fcHJldj1lLG4mJihuLl9uZXh0PWUpLHQ9PT10aGlzLl9tYXBIZWFkJiYodGhpcy5fbWFwSGVhZD1lKSx0aGlzLl9hcHBlbmRBZnRlcj10LHR9cmV0dXJuIHRoaXMuX2FwcGVuZEFmdGVyPyh0aGlzLl9hcHBlbmRBZnRlci5fbmV4dD1lLGUuX3ByZXY9dGhpcy5fYXBwZW5kQWZ0ZXIpOnRoaXMuX21hcEhlYWQ9ZSx0aGlzLl9hcHBlbmRBZnRlcj1lLG51bGx9X2dldE9yQ3JlYXRlUmVjb3JkRm9yS2V5KHQsZSl7aWYodGhpcy5fcmVjb3Jkcy5oYXModCkpe2NvbnN0IG49dGhpcy5fcmVjb3Jkcy5nZXQodCk7dGhpcy5fbWF5YmVBZGRUb0NoYW5nZXMobixlKTtjb25zdCByPW4uX3ByZXYscz1uLl9uZXh0O3JldHVybiByJiYoci5fbmV4dD1zKSxzJiYocy5fcHJldj1yKSxuLl9uZXh0PW51bGwsbi5fcHJldj1udWxsLG59Y29uc3Qgbj1uZXcgemEodCk7cmV0dXJuIHRoaXMuX3JlY29yZHMuc2V0KHQsbiksbi5jdXJyZW50VmFsdWU9ZSx0aGlzLl9hZGRUb0FkZGl0aW9ucyhuKSxufV9yZXNldCgpe2lmKHRoaXMuaXNEaXJ0eSl7bGV0IHQ7Zm9yKHRoaXMuX3ByZXZpb3VzTWFwSGVhZD10aGlzLl9tYXBIZWFkLHQ9dGhpcy5fcHJldmlvdXNNYXBIZWFkO251bGwhPT10O3Q9dC5fbmV4dCl0Ll9uZXh0UHJldmlvdXM9dC5fbmV4dDtmb3IodD10aGlzLl9jaGFuZ2VzSGVhZDtudWxsIT09dDt0PXQuX25leHRDaGFuZ2VkKXQucHJldmlvdXNWYWx1ZT10LmN1cnJlbnRWYWx1ZTtmb3IodD10aGlzLl9hZGRpdGlvbnNIZWFkO251bGwhPXQ7dD10Ll9uZXh0QWRkZWQpdC5wcmV2aW91c1ZhbHVlPXQuY3VycmVudFZhbHVlO3RoaXMuX2NoYW5nZXNIZWFkPXRoaXMuX2NoYW5nZXNUYWlsPW51bGwsdGhpcy5fYWRkaXRpb25zSGVhZD10aGlzLl9hZGRpdGlvbnNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPW51bGx9fV9tYXliZUFkZFRvQ2hhbmdlcyh0LGUpe09iamVjdC5pcyhlLHQuY3VycmVudFZhbHVlKXx8KHQucHJldmlvdXNWYWx1ZT10LmN1cnJlbnRWYWx1ZSx0LmN1cnJlbnRWYWx1ZT1lLHRoaXMuX2FkZFRvQ2hhbmdlcyh0KSl9X2FkZFRvQWRkaXRpb25zKHQpe251bGw9PT10aGlzLl9hZGRpdGlvbnNIZWFkP3RoaXMuX2FkZGl0aW9uc0hlYWQ9dGhpcy5fYWRkaXRpb25zVGFpbD10Oih0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQ9dCx0aGlzLl9hZGRpdGlvbnNUYWlsPXQpfV9hZGRUb0NoYW5nZXModCl7bnVsbD09PXRoaXMuX2NoYW5nZXNIZWFkP3RoaXMuX2NoYW5nZXNIZWFkPXRoaXMuX2NoYW5nZXNUYWlsPXQ6KHRoaXMuX2NoYW5nZXNUYWlsLl9uZXh0Q2hhbmdlZD10LHRoaXMuX2NoYW5nZXNUYWlsPXQpfV9mb3JFYWNoKHQsZSl7dCBpbnN0YW5jZW9mIE1hcD90LmZvckVhY2goZSk6T2JqZWN0LmtleXModCkuZm9yRWFjaChuPT5lKHRbbl0sbikpfX1jbGFzcyB6YXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmtleT10LHRoaXMucHJldmlvdXNWYWx1ZT1udWxsLHRoaXMuY3VycmVudFZhbHVlPW51bGwsdGhpcy5fbmV4dFByZXZpb3VzPW51bGwsdGhpcy5fbmV4dD1udWxsLHRoaXMuX3ByZXY9bnVsbCx0aGlzLl9uZXh0QWRkZWQ9bnVsbCx0aGlzLl9uZXh0UmVtb3ZlZD1udWxsLHRoaXMuX25leHRDaGFuZ2VkPW51bGx9fWZ1bmN0aW9uIHFhKCl7cmV0dXJuIG5ldyBXYShbbmV3IExhXSl9bGV0IFdhPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5mYWN0b3JpZXM9dH1zdGF0aWMgY3JlYXRlKGUsbil7aWYobnVsbCE9bil7Y29uc3QgdD1uLmZhY3Rvcmllcy5zbGljZSgpO2U9ZS5jb25jYXQodCl9cmV0dXJuIG5ldyB0KGUpfXN0YXRpYyBleHRlbmQoZSl7cmV0dXJue3Byb3ZpZGU6dCx1c2VGYWN0b3J5Om49PnQuY3JlYXRlKGUsbnx8cWEoKSksZGVwczpbW3QsbmV3IGRyLG5ldyBocl1dfX1maW5kKHQpe2NvbnN0IGU9dGhpcy5mYWN0b3JpZXMuZmluZChlPT5lLnN1cHBvcnRzKHQpKTtpZihudWxsIT1lKXJldHVybiBlO3Rocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgYSBkaWZmZXIgc3VwcG9ydGluZyBvYmplY3QgJyR7dH0nIG9mIHR5cGUgJyR7bj10LG4ubmFtZXx8dHlwZW9mIG59J2ApO3ZhciBufX1yZXR1cm4gdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6cWF9KSx0fSkoKTtmdW5jdGlvbiBHYSgpe3JldHVybiBuZXcgWmEoW25ldyBVYV0pfWxldCBaYT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuZmFjdG9yaWVzPXR9c3RhdGljIGNyZWF0ZShlLG4pe2lmKG4pe2NvbnN0IHQ9bi5mYWN0b3JpZXMuc2xpY2UoKTtlPWUuY29uY2F0KHQpfXJldHVybiBuZXcgdChlKX1zdGF0aWMgZXh0ZW5kKGUpe3JldHVybntwcm92aWRlOnQsdXNlRmFjdG9yeTpuPT50LmNyZWF0ZShlLG58fEdhKCkpLGRlcHM6W1t0LG5ldyBkcixuZXcgaHJdXX19ZmluZCh0KXtjb25zdCBlPXRoaXMuZmFjdG9yaWVzLmZpbmQoZT0+ZS5zdXBwb3J0cyh0KSk7aWYoZSlyZXR1cm4gZTt0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIGEgZGlmZmVyIHN1cHBvcnRpbmcgb2JqZWN0ICcke3R9J2ApfX1yZXR1cm4gdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6R2F9KSx0fSkoKTtmdW5jdGlvbiBZYSh0LGUsbixyLHM9ITEpe2Zvcig7bnVsbCE9PW47KXtjb25zdCBpPWVbbi5pbmRleF07aWYobnVsbCE9PWkmJnIucHVzaCh5ZShpKSksZWUoaSkpZm9yKGxldCB0PUp0O3Q8aS5sZW5ndGg7dCsrKXtjb25zdCBlPWlbdF0sbj1lWzFdLmZpcnN0Q2hpbGQ7bnVsbCE9PW4mJllhKGVbMV0sZSxuLHIpfWNvbnN0IG89bi50eXBlO2lmKDgmbylZYSh0LGUsbi5jaGlsZCxyKTtlbHNlIGlmKDMyJm8pe2NvbnN0IHQ9b3MobixlKTtsZXQgcztmb3IoO3M9dCgpOylyLnB1c2gocyl9ZWxzZSBpZigxNiZvKXtjb25zdCB0PXhzKGUsbik7aWYoQXJyYXkuaXNBcnJheSh0KSlyLnB1c2goLi4udCk7ZWxzZXtjb25zdCBuPWFzKGVbMTZdKTtZYShuWzFdLG4sdCxyLCEwKX19bj1zP24ucHJvamVjdGlvbk5leHQ6bi5uZXh0fXJldHVybiByfWNsYXNzIEthe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fbFZpZXc9dCx0aGlzLl9jZFJlZkluamVjdGluZ1ZpZXc9ZSx0aGlzLl9hcHBSZWY9bnVsbCx0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lcj0hMX1nZXQgcm9vdE5vZGVzKCl7Y29uc3QgdD10aGlzLl9sVmlldyxlPXRbMV07cmV0dXJuIFlhKGUsdCxlLmZpcnN0Q2hpbGQsW10pfWdldCBjb250ZXh0KCl7cmV0dXJuIHRoaXMuX2xWaWV3WzhdfXNldCBjb250ZXh0KHQpe3RoaXMuX2xWaWV3WzhdPXR9Z2V0IGRlc3Ryb3llZCgpe3JldHVybiAyNTY9PSgyNTYmdGhpcy5fbFZpZXdbMl0pfWRlc3Ryb3koKXtpZih0aGlzLl9hcHBSZWYpdGhpcy5fYXBwUmVmLmRldGFjaFZpZXcodGhpcyk7ZWxzZSBpZih0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lcil7Y29uc3QgdD10aGlzLl9sVmlld1szXTtpZihlZSh0KSl7Y29uc3QgZT10WzhdLG49ZT9lLmluZGV4T2YodGhpcyk6LTE7bj4tMSYmKGZzKHQsbiksWW4oZSxuKSl9dGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXI9ITF9Z3ModGhpcy5fbFZpZXdbMV0sdGhpcy5fbFZpZXcpfW9uRGVzdHJveSh0KXtwaSh0aGlzLl9sVmlld1sxXSx0aGlzLl9sVmlldyxudWxsLHQpfW1hcmtGb3JDaGVjaygpe0ZpKHRoaXMuX2NkUmVmSW5qZWN0aW5nVmlld3x8dGhpcy5fbFZpZXcpfWRldGFjaCgpe3RoaXMuX2xWaWV3WzJdJj0tMTI5fXJlYXR0YWNoKCl7dGhpcy5fbFZpZXdbMl18PTEyOH1kZXRlY3RDaGFuZ2VzKCl7a2kodGhpcy5fbFZpZXdbMV0sdGhpcy5fbFZpZXcsdGhpcy5jb250ZXh0KX1jaGVja05vQ2hhbmdlcygpeyFmdW5jdGlvbih0LGUsbil7TWUoITApO3RyeXtraSh0LGUsbil9ZmluYWxseXtNZSghMSl9fSh0aGlzLl9sVmlld1sxXSx0aGlzLl9sVmlldyx0aGlzLmNvbnRleHQpfWF0dGFjaFRvVmlld0NvbnRhaW5lclJlZigpe2lmKHRoaXMuX2FwcFJlZil0aHJvdyBuZXcgRXJyb3IoIlRoaXMgdmlldyBpcyBhbHJlYWR5IGF0dGFjaGVkIGRpcmVjdGx5IHRvIHRoZSBBcHBsaWNhdGlvblJlZiEiKTt0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lcj0hMH1kZXRhY2hGcm9tQXBwUmVmKCl7dmFyIHQ7dGhpcy5fYXBwUmVmPW51bGwsT3ModGhpcy5fbFZpZXdbMV0sdD10aGlzLl9sVmlldyx0WzExXSwyLG51bGwsbnVsbCl9YXR0YWNoVG9BcHBSZWYodCl7aWYodGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXIpdGhyb3cgbmV3IEVycm9yKCJUaGlzIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhIFZpZXdDb250YWluZXIhIik7dGhpcy5fYXBwUmVmPXR9fWNsYXNzIFFhIGV4dGVuZHMgS2F7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5fdmlldz10fWRldGVjdENoYW5nZXMoKXtJaSh0aGlzLl92aWV3KX1jaGVja05vQ2hhbmdlcygpeyFmdW5jdGlvbih0KXtNZSghMCk7dHJ5e0lpKHQpfWZpbmFsbHl7TWUoITEpfX0odGhpcy5fdmlldyl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gbnVsbH19Y29uc3QgWGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtpZihyZSh0KSYmIW4pe2NvbnN0IG49Q2UodC5pbmRleCxlKTtyZXR1cm4gbmV3IEthKG4sbil9cmV0dXJuIDQ3JnQudHlwZT9uZXcgS2EoZVsxNl0sZSk6bnVsbH0oSWUoKSxPZSgpLDE2PT0oMTYmdCkpfTtsZXQgSmE9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuX19OR19FTEVNRU5UX0lEX189WGEsdH0pKCk7Y29uc3QgdGw9W25ldyBVYV0sZWw9bmV3IFdhKFtuZXcgTGFdKSxubD1uZXcgWmEodGwpLHJsPWZ1bmN0aW9uKCl7cmV0dXJuIGFsKEllKCksT2UoKSl9O2xldCBzbD0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5fX05HX0VMRU1FTlRfSURfXz1ybCx0fSkoKTtjb25zdCBpbD1zbCxvbD1jbGFzcyBleHRlbmRzIGlse2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcigpLHRoaXMuX2RlY2xhcmF0aW9uTFZpZXc9dCx0aGlzLl9kZWNsYXJhdGlvblRDb250YWluZXI9ZSx0aGlzLmVsZW1lbnRSZWY9bn1jcmVhdGVFbWJlZGRlZFZpZXcodCl7Y29uc3QgZT10aGlzLl9kZWNsYXJhdGlvblRDb250YWluZXIudFZpZXdzLG49ZWkodGhpcy5fZGVjbGFyYXRpb25MVmlldyxlLHQsMTYsbnVsbCxlLmRlY2xUTm9kZSxudWxsLG51bGwsbnVsbCxudWxsKTtuWzE3XT10aGlzLl9kZWNsYXJhdGlvbkxWaWV3W3RoaXMuX2RlY2xhcmF0aW9uVENvbnRhaW5lci5pbmRleF07Y29uc3Qgcj10aGlzLl9kZWNsYXJhdGlvbkxWaWV3WzE5XTtyZXR1cm4gbnVsbCE9PXImJihuWzE5XT1yLmNyZWF0ZUVtYmVkZGVkVmlldyhlKSksc2koZSxuLHQpLG5ldyBLYShuKX19O2Z1bmN0aW9uIGFsKHQsZSl7cmV0dXJuIDQmdC50eXBlP25ldyBvbChlLHQsU2EodCxlKSk6bnVsbH1jbGFzcyBsbHt9Y2xhc3MgdWx7fWNvbnN0IGNsPWZ1bmN0aW9uKCl7cmV0dXJuIG1sKEllKCksT2UoKSl9O2xldCBobD0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5fX05HX0VMRU1FTlRfSURfXz1jbCx0fSkoKTtjb25zdCBkbD1obCxwbD1jbGFzcyBleHRlbmRzIGRse2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcigpLHRoaXMuX2xDb250YWluZXI9dCx0aGlzLl9ob3N0VE5vZGU9ZSx0aGlzLl9ob3N0TFZpZXc9bn1nZXQgZWxlbWVudCgpe3JldHVybiBTYSh0aGlzLl9ob3N0VE5vZGUsdGhpcy5faG9zdExWaWV3KX1nZXQgaW5qZWN0b3IoKXtyZXR1cm4gbmV3IE1uKHRoaXMuX2hvc3RUTm9kZSx0aGlzLl9ob3N0TFZpZXcpfWdldCBwYXJlbnRJbmplY3Rvcigpe2NvbnN0IHQ9eG4odGhpcy5faG9zdFROb2RlLHRoaXMuX2hvc3RMVmlldyk7aWYoeW4odCkpe2NvbnN0IGU9Ym4odCx0aGlzLl9ob3N0TFZpZXcpLG49dm4odCk7cmV0dXJuIG5ldyBNbihlWzFdLmRhdGFbbis4XSxlKX1yZXR1cm4gbmV3IE1uKG51bGwsdGhpcy5faG9zdExWaWV3KX1jbGVhcigpe2Zvcig7dGhpcy5sZW5ndGg+MDspdGhpcy5yZW1vdmUodGhpcy5sZW5ndGgtMSl9Z2V0KHQpe2NvbnN0IGU9ZmwodGhpcy5fbENvbnRhaW5lcik7cmV0dXJuIG51bGwhPT1lJiZlW3RdfHxudWxsfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fbENvbnRhaW5lci5sZW5ndGgtSnR9Y3JlYXRlRW1iZWRkZWRWaWV3KHQsZSxuKXtjb25zdCByPXQuY3JlYXRlRW1iZWRkZWRWaWV3KGV8fHt9KTtyZXR1cm4gdGhpcy5pbnNlcnQocixuKSxyfWNyZWF0ZUNvbXBvbmVudCh0LGUsbixyLHMpe2NvbnN0IGk9bnx8dGhpcy5wYXJlbnRJbmplY3RvcjtpZighcyYmbnVsbD09dC5uZ01vZHVsZSYmaSl7Y29uc3QgdD1pLmdldChsbCxudWxsKTt0JiYocz10KX1jb25zdCBvPXQuY3JlYXRlKGkscix2b2lkIDAscyk7cmV0dXJuIHRoaXMuaW5zZXJ0KG8uaG9zdFZpZXcsZSksb31pbnNlcnQodCxlKXtjb25zdCBuPXQuX2xWaWV3LHI9blsxXTtpZihlZShuWzNdKSl7Y29uc3QgZT10aGlzLmluZGV4T2YodCk7aWYoLTEhPT1lKXRoaXMuZGV0YWNoKGUpO2Vsc2V7Y29uc3QgZT1uWzNdLHI9bmV3IHBsKGUsZVs2XSxlWzNdKTtyLmRldGFjaChyLmluZGV4T2YodCkpfX1jb25zdCBzPXRoaXMuX2FkanVzdEluZGV4KGUpLGk9dGhpcy5fbENvbnRhaW5lcjshZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz1KdCtyLGk9bi5sZW5ndGg7cj4wJiYobltzLTFdWzRdPWUpLHI8aS1KdD8oZVs0XT1uW3NdLFpuKG4sSnQrcixlKSk6KG4ucHVzaChlKSxlWzRdPW51bGwpLGVbM109bjtjb25zdCBvPWVbMTddO251bGwhPT1vJiZuIT09byYmZnVuY3Rpb24odCxlKXtjb25zdCBuPXRbOV07ZVsxNl0hPT1lWzNdWzNdWzE2XSYmKHRbMl09ITApLG51bGw9PT1uP3RbOV09W2VdOm4ucHVzaChlKX0obyxlKTtjb25zdCBhPWVbMTldO251bGwhPT1hJiZhLmluc2VydFZpZXcodCksZVsyXXw9MTI4fShyLG4saSxzKTtjb25zdCBvPUFzKHMsaSksYT1uWzExXSxsPUNzKGEsaVs3XSk7cmV0dXJuIG51bGwhPT1sJiZmdW5jdGlvbih0LGUsbixyLHMsaSl7clswXT1zLHJbNl09ZSxPcyh0LHIsbiwxLHMsaSl9KHIsaVs2XSxhLG4sbCxvKSx0LmF0dGFjaFRvVmlld0NvbnRhaW5lclJlZigpLFpuKGdsKGkpLHMsdCksdH1tb3ZlKHQsZSl7cmV0dXJuIHRoaXMuaW5zZXJ0KHQsZSl9aW5kZXhPZih0KXtjb25zdCBlPWZsKHRoaXMuX2xDb250YWluZXIpO3JldHVybiBudWxsIT09ZT9lLmluZGV4T2YodCk6LTF9cmVtb3ZlKHQpe2NvbnN0IGU9dGhpcy5fYWRqdXN0SW5kZXgodCwtMSksbj1mcyh0aGlzLl9sQ29udGFpbmVyLGUpO24mJihZbihnbCh0aGlzLl9sQ29udGFpbmVyKSxlKSxncyhuWzFdLG4pKX1kZXRhY2godCl7Y29uc3QgZT10aGlzLl9hZGp1c3RJbmRleCh0LC0xKSxuPWZzKHRoaXMuX2xDb250YWluZXIsZSk7cmV0dXJuIG4mJm51bGwhPVluKGdsKHRoaXMuX2xDb250YWluZXIpLGUpP25ldyBLYShuKTpudWxsfV9hZGp1c3RJbmRleCh0LGU9MCl7cmV0dXJuIG51bGw9PXQ/dGhpcy5sZW5ndGgrZTp0fX07ZnVuY3Rpb24gZmwodCl7cmV0dXJuIHRbOF19ZnVuY3Rpb24gZ2wodCl7cmV0dXJuIHRbOF18fCh0WzhdPVtdKX1mdW5jdGlvbiBtbCh0LGUpe2xldCBuO2NvbnN0IHI9ZVt0LmluZGV4XTtpZihlZShyKSluPXI7ZWxzZXtsZXQgcztpZig4JnQudHlwZSlzPXllKHIpO2Vsc2V7Y29uc3Qgbj1lWzExXTtzPW4uY3JlYXRlQ29tbWVudCgiIik7Y29uc3Qgcj1iZSh0LGUpO3ZzKG4sQ3MobixyKSxzLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGdlKHQpP3QubmV4dFNpYmxpbmcoZSk6ZS5uZXh0U2libGluZ30obixyKSwhMSl9ZVt0LmluZGV4XT1uPVNpKHIsZSxzLHQpLE9pKGUsbil9cmV0dXJuIG5ldyBwbChuLHQsZSl9Y29uc3QgeWw9e307Y2xhc3MgdmwgZXh0ZW5kcyBEYXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMubmdNb2R1bGU9dH1yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh0KXtjb25zdCBlPUt0KHQpO3JldHVybiBuZXcgQ2woZSx0aGlzLm5nTW9kdWxlKX19ZnVuY3Rpb24gYmwodCl7Y29uc3QgZT1bXTtmb3IobGV0IG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiZlLnB1c2goe3Byb3BOYW1lOnRbbl0sdGVtcGxhdGVOYW1lOm59KTtyZXR1cm4gZX1jb25zdCB3bD1uZXcgJG4oIlNDSEVEVUxFUl9UT0tFTiIse3Byb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6KCk9PnJzfSk7Y2xhc3MgQ2wgZXh0ZW5kcyBDYXtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5jb21wb25lbnREZWY9dCx0aGlzLm5nTW9kdWxlPWUsdGhpcy5jb21wb25lbnRUeXBlPXQudHlwZSx0aGlzLnNlbGVjdG9yPXQuc2VsZWN0b3JzLm1hcCh6cykuam9pbigiLCIpLHRoaXMubmdDb250ZW50U2VsZWN0b3JzPXQubmdDb250ZW50U2VsZWN0b3JzP3QubmdDb250ZW50U2VsZWN0b3JzOltdLHRoaXMuaXNCb3VuZFRvTW9kdWxlPSEhZX1nZXQgaW5wdXRzKCl7cmV0dXJuIGJsKHRoaXMuY29tcG9uZW50RGVmLmlucHV0cyl9Z2V0IG91dHB1dHMoKXtyZXR1cm4gYmwodGhpcy5jb21wb25lbnREZWYub3V0cHV0cyl9Y3JlYXRlKHQsZSxuLHIpe2NvbnN0IHM9KHI9cnx8dGhpcy5uZ01vZHVsZSk/ZnVuY3Rpb24odCxlKXtyZXR1cm57Z2V0OihuLHIscyk9Pntjb25zdCBpPXQuZ2V0KG4seWwscyk7cmV0dXJuIGkhPT15bHx8cj09PXlsP2k6ZS5nZXQobixyLHMpfX19KHQsci5pbmplY3Rvcik6dCxpPXMuZ2V0KE9hLG1lKSxvPXMuZ2V0KElhLG51bGwpLGE9aS5jcmVhdGVSZW5kZXJlcihudWxsLHRoaXMuY29tcG9uZW50RGVmKSxsPXRoaXMuY29tcG9uZW50RGVmLnNlbGVjdG9yc1swXVswXXx8ImRpdiIsdT1uP2Z1bmN0aW9uKHQsZSxuKXtpZihnZSh0KSlyZXR1cm4gdC5zZWxlY3RSb290RWxlbWVudChlLG49PT14dC5TaGFkb3dEb20pO2xldCByPSJzdHJpbmciPT10eXBlb2YgZT90LnF1ZXJ5U2VsZWN0b3IoZSk6ZTtyZXR1cm4gci50ZXh0Q29udGVudD0iIixyfShhLG4sdGhpcy5jb21wb25lbnREZWYuZW5jYXBzdWxhdGlvbik6ZHMoaS5jcmVhdGVSZW5kZXJlcihudWxsLHRoaXMuY29tcG9uZW50RGVmKSxsLGZ1bmN0aW9uKHQpe2NvbnN0IGU9dC50b0xvd2VyQ2FzZSgpO3JldHVybiJzdmciPT09ZT8iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciOiJtYXRoIj09PWU/Imh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aE1MLyI6bnVsbH0obCkpLGM9dGhpcy5jb21wb25lbnREZWYub25QdXNoPzU3Njo1MjgsaD17Y29tcG9uZW50czpbXSxzY2hlZHVsZXI6cnMsY2xlYW46UGkscGxheWVySGFuZGxlcjpudWxsLGZsYWdzOjB9LGQ9ZGkoMCxudWxsLG51bGwsMSwwLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCkscD1laShudWxsLGQsaCxjLG51bGwsbnVsbCxpLGEsbyxzKTtsZXQgZixnO1plKHApO3RyeXtjb25zdCB0PWZ1bmN0aW9uKHQsZSxuLHIscyxpKXtjb25zdCBvPW5bMV07blsyMF09dDtjb25zdCBhPW5pKG8sMjAsMiwiI2hvc3QiLG51bGwpLGw9YS5tZXJnZWRBdHRycz1lLmhvc3RBdHRycztudWxsIT09bCYmKFZpKGEsbCwhMCksbnVsbCE9PXQmJihkbihzLHQsbCksbnVsbCE9PWEuY2xhc3NlcyYmSXMocyx0LGEuY2xhc3NlcyksbnVsbCE9PWEuc3R5bGVzJiZrcyhzLHQsYS5zdHlsZXMpKSk7Y29uc3QgdT1yLmNyZWF0ZVJlbmRlcmVyKHQsZSksYz1laShuLGhpKGUpLG51bGwsZS5vblB1c2g/NjQ6MTYsblsyMF0sYSxyLHUsbnVsbCxudWxsKTtyZXR1cm4gby5maXJzdENyZWF0ZVBhc3MmJihBbihEbihhLG4pLG8sZS50eXBlKSx2aShvLGEpLHdpKGEsbi5sZW5ndGgsMSkpLE9pKG4sYyksblsyMF09Y30odSx0aGlzLmNvbXBvbmVudERlZixwLGksYSk7aWYodSlpZihuKWRuKGEsdSxbIm5nLXZlcnNpb24iLFBhLmZ1bGxdKTtlbHNle2NvbnN0e2F0dHJzOnQsY2xhc3NlczplfT1mdW5jdGlvbih0KXtjb25zdCBlPVtdLG49W107bGV0IHI9MSxzPTI7Zm9yKDtyPHQubGVuZ3RoOyl7bGV0IGk9dFtyXTtpZigic3RyaW5nIj09dHlwZW9mIGkpMj09PXM/IiIhPT1pJiZlLnB1c2goaSx0Wysrcl0pOjg9PT1zJiZuLnB1c2goaSk7ZWxzZXtpZighVnMocykpYnJlYWs7cz1pfXIrK31yZXR1cm57YXR0cnM6ZSxjbGFzc2VzOm59fSh0aGlzLmNvbXBvbmVudERlZi5zZWxlY3RvcnNbMF0pO3QmJmRuKGEsdSx0KSxlJiZlLmxlbmd0aD4wJiZJcyhhLHUsZS5qb2luKCIgIikpfWlmKGc9d2UoZCxYdCksdm9pZCAwIT09ZSl7Y29uc3QgdD1nLnByb2plY3Rpb249W107Zm9yKGxldCBuPTA7bjx0aGlzLm5nQ29udGVudFNlbGVjdG9ycy5sZW5ndGg7bisrKXtjb25zdCByPWVbbl07dC5wdXNoKG51bGwhPXI/QXJyYXkuZnJvbShyKTpudWxsKX19Zj1mdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9blsxXSxvPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPUllKCk7dC5maXJzdENyZWF0ZVBhc3MmJihuLnByb3ZpZGVyc1Jlc29sdmVyJiZuLnByb3ZpZGVyc1Jlc29sdmVyKG4pLENpKHQscixlLHJpKHQsZSwxLG51bGwpLG4pKTtjb25zdCBzPUxuKGUsdCxyLmRpcmVjdGl2ZVN0YXJ0LHIpO1FyKHMsZSk7Y29uc3QgaT1iZShyLGUpO3JldHVybiBpJiZRcihpLGUpLHN9KGksbixlKTtpZihyLmNvbXBvbmVudHMucHVzaChvKSx0WzhdPW8scyYmcy5mb3JFYWNoKHQ9PnQobyxlKSksZS5jb250ZW50UXVlcmllcyl7Y29uc3QgdD1JZSgpO2UuY29udGVudFF1ZXJpZXMoMSxvLHQuZGlyZWN0aXZlU3RhcnQpfWNvbnN0IGE9SWUoKTtyZXR1cm4haS5maXJzdENyZWF0ZVBhc3N8fG51bGw9PT1lLmhvc3RCaW5kaW5ncyYmbnVsbD09PWUuaG9zdEF0dHJzfHwoZW4oYS5pbmRleCksbWkoblsxXSxhLDAsYS5kaXJlY3RpdmVTdGFydCxhLmRpcmVjdGl2ZUVuZCxlKSx5aShlLG8pKSxvfSh0LHRoaXMuY29tcG9uZW50RGVmLHAsaCxbbm9dKSxzaShkLHAsbnVsbCl9ZmluYWxseXtKZSgpfXJldHVybiBuZXcgX2wodGhpcy5jb21wb25lbnRUeXBlLGYsU2EoZyxwKSxwLGcpfX1jbGFzcyBfbCBleHRlbmRzIGNsYXNze317Y29uc3RydWN0b3IodCxlLG4scixzKXtzdXBlcigpLHRoaXMubG9jYXRpb249bix0aGlzLl9yb290TFZpZXc9cix0aGlzLl90Tm9kZT1zLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLmhvc3RWaWV3PXRoaXMuY2hhbmdlRGV0ZWN0b3JSZWY9bmV3IFFhKHIpLHRoaXMuY29tcG9uZW50VHlwZT10fWdldCBpbmplY3Rvcigpe3JldHVybiBuZXcgTW4odGhpcy5fdE5vZGUsdGhpcy5fcm9vdExWaWV3KX1kZXN0cm95KCl7dGhpcy5ob3N0Vmlldy5kZXN0cm95KCl9b25EZXN0cm95KHQpe3RoaXMuaG9zdFZpZXcub25EZXN0cm95KHQpfX1jb25zdCBEbD1uZXcgTWFwO2NsYXNzIEVsIGV4dGVuZHMgbGx7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMuX3BhcmVudD1lLHRoaXMuX2Jvb3RzdHJhcENvbXBvbmVudHM9W10sdGhpcy5pbmplY3Rvcj10aGlzLHRoaXMuZGVzdHJveUNicz1bXSx0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcj1uZXcgdmwodGhpcyk7Y29uc3Qgbj1RdCh0KSxyPXRbTXRdfHxudWxsO3ImJmRhKHIpLHRoaXMuX2Jvb3RzdHJhcENvbXBvbmVudHM9c3Mobi5ib290c3RyYXApLHRoaXMuX3IzSW5qZWN0b3I9R2kodCxlLFt7cHJvdmlkZTpsbCx1c2VWYWx1ZTp0aGlzfSx7cHJvdmlkZTpEYSx1c2VWYWx1ZTp0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcn1dLGV0KHQpKSx0aGlzLl9yM0luamVjdG9yLl9yZXNvbHZlSW5qZWN0b3JEZWZUeXBlcygpLHRoaXMuaW5zdGFuY2U9dGhpcy5nZXQodCl9Z2V0KHQsZT1lby5USFJPV19JRl9OT1RfRk9VTkQsbj13dC5EZWZhdWx0KXtyZXR1cm4gdD09PWVvfHx0PT09bGx8fHQ9PT1CaT90aGlzOnRoaXMuX3IzSW5qZWN0b3IuZ2V0KHQsZSxuKX1kZXN0cm95KCl7Y29uc3QgdD10aGlzLl9yM0luamVjdG9yOyF0LmRlc3Ryb3llZCYmdC5kZXN0cm95KCksdGhpcy5kZXN0cm95Q2JzLmZvckVhY2godD0+dCgpKSx0aGlzLmRlc3Ryb3lDYnM9bnVsbH1vbkRlc3Ryb3kodCl7dGhpcy5kZXN0cm95Q2JzLnB1c2godCl9fWNsYXNzIFNsIGV4dGVuZHMgdWx7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLm1vZHVsZVR5cGU9dCxudWxsIT09UXQodCkmJmZ1bmN0aW9uKHQpe2NvbnN0IGU9bmV3IFNldDshZnVuY3Rpb24gdChuKXtjb25zdCByPVF0KG4sITApLHM9ci5pZDtudWxsIT09cyYmKGZ1bmN0aW9uKHQsZSxuKXtpZihlJiZlIT09bil0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBtb2R1bGUgcmVnaXN0ZXJlZCBmb3IgJHt0fSAtICR7ZXQoZSl9IHZzICR7ZXQoZS5uYW1lKX1gKX0ocyxEbC5nZXQocyksbiksRGwuc2V0KHMsbikpO2NvbnN0IGk9c3Moci5pbXBvcnRzKTtmb3IoY29uc3QgbyBvZiBpKWUuaGFzKG8pfHwoZS5hZGQobyksdChvKSl9KHQpfSh0KX1jcmVhdGUodCl7cmV0dXJuIG5ldyBFbCh0aGlzLm1vZHVsZVR5cGUsdCl9fWZ1bmN0aW9uIHhsKHQsZSl7Y29uc3Qgbj10W2VdO3JldHVybiBuPT09cXM/dm9pZCAwOm59ZnVuY3Rpb24gQWwodCl7cmV0dXJuIGU9PntzZXRUaW1lb3V0KHQsdm9pZCAwLGUpfX1jb25zdCBUbD1jbGFzcyBleHRlbmRzIER7Y29uc3RydWN0b3IodD0hMSl7c3VwZXIoKSx0aGlzLl9faXNBc3luYz10fWVtaXQodCl7c3VwZXIubmV4dCh0KX1zdWJzY3JpYmUodCxlLG4pe3ZhciByLHMsaTtsZXQgbz10LGE9ZXx8KCgpPT5udWxsKSxsPW47aWYodCYmIm9iamVjdCI9PXR5cGVvZiB0KXtjb25zdCBlPXQ7bz1udWxsPT09KHI9ZS5uZXh0KXx8dm9pZCAwPT09cj92b2lkIDA6ci5iaW5kKGUpLGE9bnVsbD09PShzPWUuZXJyb3IpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmJpbmQoZSksbD1udWxsPT09KGk9ZS5jb21wbGV0ZSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuYmluZChlKX10aGlzLl9faXNBc3luYyYmKGE9QWwoYSksbyYmKG89QWwobykpLGwmJihsPUFsKGwpKSk7Y29uc3QgdT1zdXBlci5zdWJzY3JpYmUoe25leHQ6byxlcnJvcjphLGNvbXBsZXRlOmx9KTtyZXR1cm4gdCBpbnN0YW5jZW9mIGgmJnQuYWRkKHUpLHV9fTtmdW5jdGlvbiBPbCgpe3JldHVybiB0aGlzLl9yZXN1bHRzW3VvKCldKCl9Y2xhc3MgRmx7Y29uc3RydWN0b3IodD0hMSl7dGhpcy5fZW1pdERpc3RpbmN0Q2hhbmdlc09ubHk9dCx0aGlzLmRpcnR5PSEwLHRoaXMuX3Jlc3VsdHM9W10sdGhpcy5fY2hhbmdlc0RldGVjdGVkPSExLHRoaXMuX2NoYW5nZXM9bnVsbCx0aGlzLmxlbmd0aD0wLHRoaXMuZmlyc3Q9dm9pZCAwLHRoaXMubGFzdD12b2lkIDA7Y29uc3QgZT11bygpLG49RmwucHJvdG90eXBlO25bZV18fChuW2VdPU9sKX1nZXQgY2hhbmdlcygpe3JldHVybiB0aGlzLl9jaGFuZ2VzfHwodGhpcy5fY2hhbmdlcz1uZXcgVGwpfWdldCh0KXtyZXR1cm4gdGhpcy5fcmVzdWx0c1t0XX1tYXAodCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMubWFwKHQpfWZpbHRlcih0KXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5maWx0ZXIodCl9ZmluZCh0KXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5maW5kKHQpfXJlZHVjZSh0LGUpe3JldHVybiB0aGlzLl9yZXN1bHRzLnJlZHVjZSh0LGUpfWZvckVhY2godCl7dGhpcy5fcmVzdWx0cy5mb3JFYWNoKHQpfXNvbWUodCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMuc29tZSh0KX10b0FycmF5KCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMuc2xpY2UoKX10b1N0cmluZygpe3JldHVybiB0aGlzLl9yZXN1bHRzLnRvU3RyaW5nKCl9cmVzZXQodCxlKXtjb25zdCBuPXRoaXM7bi5kaXJ0eT0hMTtjb25zdCByPVduKHQpOyh0aGlzLl9jaGFuZ2VzRGV0ZWN0ZWQ9IWZ1bmN0aW9uKHQsZSxuKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtsZXQgcz10W3JdLGk9ZVtyXTtpZihuJiYocz1uKHMpLGk9bihpKSksaSE9PXMpcmV0dXJuITF9cmV0dXJuITB9KG4uX3Jlc3VsdHMscixlKSkmJihuLl9yZXN1bHRzPXIsbi5sZW5ndGg9ci5sZW5ndGgsbi5sYXN0PXJbdGhpcy5sZW5ndGgtMV0sbi5maXJzdD1yWzBdKX1ub3RpZnlPbkNoYW5nZXMoKXshdGhpcy5fY2hhbmdlc3x8IXRoaXMuX2NoYW5nZXNEZXRlY3RlZCYmdGhpcy5fZW1pdERpc3RpbmN0Q2hhbmdlc09ubHl8fHRoaXMuX2NoYW5nZXMuZW1pdCh0aGlzKX1zZXREaXJ0eSgpe3RoaXMuZGlydHk9ITB9ZGVzdHJveSgpe3RoaXMuY2hhbmdlcy5jb21wbGV0ZSgpLHRoaXMuY2hhbmdlcy51bnN1YnNjcmliZSgpfX1jbGFzcyBrbHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnF1ZXJ5TGlzdD10LHRoaXMubWF0Y2hlcz1udWxsfWNsb25lKCl7cmV0dXJuIG5ldyBrbCh0aGlzLnF1ZXJ5TGlzdCl9c2V0RGlydHkoKXt0aGlzLnF1ZXJ5TGlzdC5zZXREaXJ0eSgpfX1jbGFzcyBJbHtjb25zdHJ1Y3Rvcih0PVtdKXt0aGlzLnF1ZXJpZXM9dH1jcmVhdGVFbWJlZGRlZFZpZXcodCl7Y29uc3QgZT10LnF1ZXJpZXM7aWYobnVsbCE9PWUpe2NvbnN0IG49bnVsbCE9PXQuY29udGVudFF1ZXJpZXM/dC5jb250ZW50UXVlcmllc1swXTplLmxlbmd0aCxyPVtdO2ZvcihsZXQgdD0wO3Q8bjt0Kyspe2NvbnN0IG49ZS5nZXRCeUluZGV4KHQpO3IucHVzaCh0aGlzLnF1ZXJpZXNbbi5pbmRleEluRGVjbGFyYXRpb25WaWV3XS5jbG9uZSgpKX1yZXR1cm4gbmV3IElsKHIpfXJldHVybiBudWxsfWluc2VydFZpZXcodCl7dGhpcy5kaXJ0eVF1ZXJpZXNXaXRoTWF0Y2hlcyh0KX1kZXRhY2hWaWV3KHQpe3RoaXMuZGlydHlRdWVyaWVzV2l0aE1hdGNoZXModCl9ZGlydHlRdWVyaWVzV2l0aE1hdGNoZXModCl7Zm9yKGxldCBlPTA7ZTx0aGlzLnF1ZXJpZXMubGVuZ3RoO2UrKyludWxsIT09V2wodCxlKS5tYXRjaGVzJiZ0aGlzLnF1ZXJpZXNbZV0uc2V0RGlydHkoKX19Y2xhc3MgUmx7Y29uc3RydWN0b3IodCxlLG49bnVsbCl7dGhpcy5wcmVkaWNhdGU9dCx0aGlzLmZsYWdzPWUsdGhpcy5yZWFkPW59fWNsYXNzIFBse2NvbnN0cnVjdG9yKHQ9W10pe3RoaXMucXVlcmllcz10fWVsZW1lbnRTdGFydCh0LGUpe2ZvcihsZXQgbj0wO248dGhpcy5xdWVyaWVzLmxlbmd0aDtuKyspdGhpcy5xdWVyaWVzW25dLmVsZW1lbnRTdGFydCh0LGUpfWVsZW1lbnRFbmQodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLnF1ZXJpZXMubGVuZ3RoO2UrKyl0aGlzLnF1ZXJpZXNbZV0uZWxlbWVudEVuZCh0KX1lbWJlZGRlZFRWaWV3KHQpe2xldCBlPW51bGw7Zm9yKGxldCBuPTA7bjx0aGlzLmxlbmd0aDtuKyspe2NvbnN0IHI9bnVsbCE9PWU/ZS5sZW5ndGg6MCxzPXRoaXMuZ2V0QnlJbmRleChuKS5lbWJlZGRlZFRWaWV3KHQscik7cyYmKHMuaW5kZXhJbkRlY2xhcmF0aW9uVmlldz1uLG51bGwhPT1lP2UucHVzaChzKTplPVtzXSl9cmV0dXJuIG51bGwhPT1lP25ldyBQbChlKTpudWxsfXRlbXBsYXRlKHQsZSl7Zm9yKGxldCBuPTA7bjx0aGlzLnF1ZXJpZXMubGVuZ3RoO24rKyl0aGlzLnF1ZXJpZXNbbl0udGVtcGxhdGUodCxlKX1nZXRCeUluZGV4KHQpe3JldHVybiB0aGlzLnF1ZXJpZXNbdF19Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLnF1ZXJpZXMubGVuZ3RofXRyYWNrKHQpe3RoaXMucXVlcmllcy5wdXNoKHQpfX1jbGFzcyBMbHtjb25zdHJ1Y3Rvcih0LGU9LTEpe3RoaXMubWV0YWRhdGE9dCx0aGlzLm1hdGNoZXM9bnVsbCx0aGlzLmluZGV4SW5EZWNsYXJhdGlvblZpZXc9LTEsdGhpcy5jcm9zc2VzTmdUZW1wbGF0ZT0hMSx0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZT0hMCx0aGlzLl9kZWNsYXJhdGlvbk5vZGVJbmRleD1lfWVsZW1lbnRTdGFydCh0LGUpe3RoaXMuaXNBcHBseWluZ1RvTm9kZShlKSYmdGhpcy5tYXRjaFROb2RlKHQsZSl9ZWxlbWVudEVuZCh0KXt0aGlzLl9kZWNsYXJhdGlvbk5vZGVJbmRleD09PXQuaW5kZXgmJih0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZT0hMSl9dGVtcGxhdGUodCxlKXt0aGlzLmVsZW1lbnRTdGFydCh0LGUpfWVtYmVkZGVkVFZpZXcodCxlKXtyZXR1cm4gdGhpcy5pc0FwcGx5aW5nVG9Ob2RlKHQpPyh0aGlzLmNyb3NzZXNOZ1RlbXBsYXRlPSEwLHRoaXMuYWRkTWF0Y2goLXQuaW5kZXgsZSksbmV3IExsKHRoaXMubWV0YWRhdGEpKTpudWxsfWlzQXBwbHlpbmdUb05vZGUodCl7aWYodGhpcy5fYXBwbGllc1RvTmV4dE5vZGUmJjEhPSgxJnRoaXMubWV0YWRhdGEuZmxhZ3MpKXtjb25zdCBlPXRoaXMuX2RlY2xhcmF0aW9uTm9kZUluZGV4O2xldCBuPXQucGFyZW50O2Zvcig7bnVsbCE9PW4mJjgmbi50eXBlJiZuLmluZGV4IT09ZTspbj1uLnBhcmVudDtyZXR1cm4gZT09PShudWxsIT09bj9uLmluZGV4Oi0xKX1yZXR1cm4gdGhpcy5fYXBwbGllc1RvTmV4dE5vZGV9bWF0Y2hUTm9kZSh0LGUpe2NvbnN0IG49dGhpcy5tZXRhZGF0YS5wcmVkaWNhdGU7aWYoQXJyYXkuaXNBcnJheShuKSlmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrKyl7Y29uc3Qgcz1uW3JdO3RoaXMubWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHQsZSxObChlLHMpKSx0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0LGUsUG4oZSx0LHMsITEsITEpKX1lbHNlIG49PT1zbD80JmUudHlwZSYmdGhpcy5tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24odCxlLC0xKTp0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0LGUsUG4oZSx0LG4sITEsITEpKX1tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24odCxlLG4pe2lmKG51bGwhPT1uKXtjb25zdCByPXRoaXMubWV0YWRhdGEucmVhZDtpZihudWxsIT09cilpZihyPT09QWF8fHI9PT1obHx8cj09PXNsJiY0JmUudHlwZSl0aGlzLmFkZE1hdGNoKGUuaW5kZXgsLTIpO2Vsc2V7Y29uc3Qgbj1QbihlLHQsciwhMSwhMSk7bnVsbCE9PW4mJnRoaXMuYWRkTWF0Y2goZS5pbmRleCxuKX1lbHNlIHRoaXMuYWRkTWF0Y2goZS5pbmRleCxuKX19YWRkTWF0Y2godCxlKXtudWxsPT09dGhpcy5tYXRjaGVzP3RoaXMubWF0Y2hlcz1bdCxlXTp0aGlzLm1hdGNoZXMucHVzaCh0LGUpfX1mdW5jdGlvbiBObCh0LGUpe2NvbnN0IG49dC5sb2NhbE5hbWVzO2lmKG51bGwhPT1uKWZvcihsZXQgcj0wO3I8bi5sZW5ndGg7cis9MilpZihuW3JdPT09ZSlyZXR1cm4gbltyKzFdO3JldHVybiBudWxsfWZ1bmN0aW9uIGpsKHQsZSxuLHIpe3JldHVybi0xPT09bj9mdW5jdGlvbih0LGUpe3JldHVybiAxMSZ0LnR5cGU/U2EodCxlKTo0JnQudHlwZT9hbCh0LGUpOm51bGx9KGUsdCk6LTI9PT1uP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbj09PUFhP1NhKGUsdCk6bj09PXNsP2FsKGUsdCk6bj09PWhsP21sKGUsdCk6dm9pZCAwfSh0LGUscik6TG4odCx0WzFdLG4sZSl9ZnVuY3Rpb24gTWwodCxlLG4scil7Y29uc3Qgcz1lWzE5XS5xdWVyaWVzW3JdO2lmKG51bGw9PT1zLm1hdGNoZXMpe2NvbnN0IHI9dC5kYXRhLGk9bi5tYXRjaGVzLG89W107Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0Kz0yKXtjb25zdCBzPWlbdF07by5wdXNoKHM8MD9udWxsOmpsKGUscltzXSxpW3QrMV0sbi5tZXRhZGF0YS5yZWFkKSl9cy5tYXRjaGVzPW99cmV0dXJuIHMubWF0Y2hlc31mdW5jdGlvbiBWbCh0LGUsbixyKXtjb25zdCBzPXQucXVlcmllcy5nZXRCeUluZGV4KG4pLGk9cy5tYXRjaGVzO2lmKG51bGwhPT1pKXtjb25zdCBvPU1sKHQsZSxzLG4pO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCs9Mil7Y29uc3Qgbj1pW3RdO2lmKG4+MClyLnB1c2gob1t0LzJdKTtlbHNle2NvbnN0IHM9aVt0KzFdLG89ZVstbl07Zm9yKGxldCB0PUp0O3Q8by5sZW5ndGg7dCsrKXtjb25zdCBlPW9bdF07ZVsxN109PT1lWzNdJiZWbChlWzFdLGUscyxyKX1pZihudWxsIT09b1s5XSl7Y29uc3QgdD1vWzldO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBuPXRbZV07VmwoblsxXSxuLHMscil9fX19fXJldHVybiByfWZ1bmN0aW9uIEJsKHQpe2NvbnN0IGU9T2UoKSxuPUZlKCkscj16ZSgpO3FlKHIrMSk7Y29uc3Qgcz1XbChuLHIpO2lmKHQuZGlydHkmJl9lKGUpPT09KDI9PSgyJnMubWV0YWRhdGEuZmxhZ3MpKSl7aWYobnVsbD09PXMubWF0Y2hlcyl0LnJlc2V0KFtdKTtlbHNle2NvbnN0IGk9cy5jcm9zc2VzTmdUZW1wbGF0ZT9WbChuLGUscixbXSk6TWwobixlLHMscik7dC5yZXNldChpLFRhKSx0Lm5vdGlmeU9uQ2hhbmdlcygpfXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEhsKHQsZSxuKXtjb25zdCByPUZlKCk7ci5maXJzdENyZWF0ZVBhc3MmJihxbChyLG5ldyBSbCh0LGUsbiksLTEpLDI9PSgyJmUpJiYoci5zdGF0aWNWaWV3UXVlcmllcz0hMCkpLHpsKHIsT2UoKSxlKX1mdW5jdGlvbiBVbCh0LGUsbixyKXtjb25zdCBzPUZlKCk7aWYocy5maXJzdENyZWF0ZVBhc3Mpe2NvbnN0IGk9SWUoKTtxbChzLG5ldyBSbChlLG4sciksaS5pbmRleCksZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuY29udGVudFF1ZXJpZXN8fCh0LmNvbnRlbnRRdWVyaWVzPVtdKTtlIT09KG4ubGVuZ3RoP25bbi5sZW5ndGgtMV06LTEpJiZuLnB1c2godC5xdWVyaWVzLmxlbmd0aC0xLGUpfShzLHQpLDI9PSgyJm4pJiYocy5zdGF0aWNDb250ZW50UXVlcmllcz0hMCl9emwocyxPZSgpLG4pfWZ1bmN0aW9uICRsKCl7cmV0dXJuIHQ9T2UoKSxlPXplKCksdFsxOV0ucXVlcmllc1tlXS5xdWVyeUxpc3Q7dmFyIHQsZX1mdW5jdGlvbiB6bCh0LGUsbil7Y29uc3Qgcj1uZXcgRmwoND09KDQmbikpO3BpKHQsZSxyLHIuZGVzdHJveSksbnVsbD09PWVbMTldJiYoZVsxOV09bmV3IElsKSxlWzE5XS5xdWVyaWVzLnB1c2gobmV3IGtsKHIpKX1mdW5jdGlvbiBxbCh0LGUsbil7bnVsbD09PXQucXVlcmllcyYmKHQucXVlcmllcz1uZXcgUGwpLHQucXVlcmllcy50cmFjayhuZXcgTGwoZSxuKSl9ZnVuY3Rpb24gV2wodCxlKXtyZXR1cm4gdC5xdWVyaWVzLmdldEJ5SW5kZXgoZSl9ZnVuY3Rpb24gR2wodCxlKXtyZXR1cm4gYWwodCxlKX1jb25zdCBabD1uZXcgJG4oIkFwcGxpY2F0aW9uIEluaXRpYWxpemVyIik7bGV0IFlsPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5hcHBJbml0cz10LHRoaXMucmVzb2x2ZT1FYSx0aGlzLnJlamVjdD1FYSx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuZG9uZT0hMSx0aGlzLmRvbmVQcm9taXNlPW5ldyBQcm9taXNlKCh0LGUpPT57dGhpcy5yZXNvbHZlPXQsdGhpcy5yZWplY3Q9ZX0pfXJ1bkluaXRpYWxpemVycygpe2lmKHRoaXMuaW5pdGlhbGl6ZWQpcmV0dXJuO2NvbnN0IHQ9W10sZT0oKT0+e3RoaXMuZG9uZT0hMCx0aGlzLnJlc29sdmUoKX07aWYodGhpcy5hcHBJbml0cylmb3IobGV0IG49MDtuPHRoaXMuYXBwSW5pdHMubGVuZ3RoO24rKyl7Y29uc3QgZT10aGlzLmFwcEluaXRzW25dKCk7aWYoVG8oZSkpdC5wdXNoKGUpO2Vsc2UgaWYoT28oZSkpe2NvbnN0IG49bmV3IFByb21pc2UoKHQsbik9PntlLnN1YnNjcmliZSh7Y29tcGxldGU6dCxlcnJvcjpufSl9KTt0LnB1c2gobil9fVByb21pc2UuYWxsKHQpLnRoZW4oKCk9PntlKCl9KS5jYXRjaCh0PT57dGhpcy5yZWplY3QodCl9KSwwPT09dC5sZW5ndGgmJmUoKSx0aGlzLmluaXRpYWxpemVkPSEwfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihabCw4KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y29uc3QgS2w9bmV3ICRuKCJBcHBJZCIpLFFsPXtwcm92aWRlOktsLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm5gJHtYbCgpfSR7WGwoKX0ke1hsKCl9YH0sZGVwczpbXX07ZnVuY3Rpb24gWGwoKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg5NytNYXRoLmZsb29yKDI1Kk1hdGgucmFuZG9tKCkpKX1jb25zdCBKbD1uZXcgJG4oIlBsYXRmb3JtIEluaXRpYWxpemVyIiksdHU9bmV3ICRuKCJQbGF0Zm9ybSBJRCIpLGV1PW5ldyAkbigiYXBwQm9vdHN0cmFwTGlzdGVuZXIiKTtsZXQgbnU9KCgpPT57Y2xhc3MgdHtsb2codCl7Y29uc29sZS5sb2codCl9d2Fybih0KXtjb25zb2xlLndhcm4odCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IHJ1PW5ldyAkbigiTG9jYWxlSWQiKSxzdT1uZXcgJG4oIkRlZmF1bHRDdXJyZW5jeUNvZGUiKTtjbGFzcyBpdXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMubmdNb2R1bGVGYWN0b3J5PXQsdGhpcy5jb21wb25lbnRGYWN0b3JpZXM9ZX19Y29uc3Qgb3U9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBTbCh0KX0sYXU9b3UsbHU9ZnVuY3Rpb24odCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShvdSh0KSl9LHV1PWZ1bmN0aW9uKHQpe2NvbnN0IGU9b3UodCksbj1zcyhRdCh0KS5kZWNsYXJhdGlvbnMpLnJlZHVjZSgodCxlKT0+e2NvbnN0IG49S3QoZSk7cmV0dXJuIG4mJnQucHVzaChuZXcgQ2wobikpLHR9LFtdKTtyZXR1cm4gbmV3IGl1KGUsbil9LGN1PXV1LGh1PWZ1bmN0aW9uKHQpe3JldHVybiBQcm9taXNlLnJlc29sdmUodXUodCkpfTtsZXQgZHU9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuY29tcGlsZU1vZHVsZVN5bmM9YXUsdGhpcy5jb21waWxlTW9kdWxlQXN5bmM9bHUsdGhpcy5jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c1N5bmM9Y3UsdGhpcy5jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c0FzeW5jPWh1fWNsZWFyQ2FjaGUoKXt9Y2xlYXJDYWNoZUZvcih0KXt9Z2V0TW9kdWxlSWQodCl7fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCBwdT0oKCk9PlByb21pc2UucmVzb2x2ZSgwKSkoKTtmdW5jdGlvbiBmdSh0KXsidW5kZWZpbmVkIj09dHlwZW9mIFpvbmU/cHUudGhlbigoKT0+e3QmJnQuYXBwbHkobnVsbCxudWxsKX0pOlpvbmUuY3VycmVudC5zY2hlZHVsZU1pY3JvVGFzaygic2NoZWR1bGVNaWNyb3Rhc2siLHQpfWNsYXNzIGd1e2NvbnN0cnVjdG9yKHtlbmFibGVMb25nU3RhY2tUcmFjZTp0PSExLHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb246ZT0hMSxzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbjpuPSExfSl7aWYodGhpcy5oYXNQZW5kaW5nTWFjcm90YXNrcz0hMSx0aGlzLmhhc1BlbmRpbmdNaWNyb3Rhc2tzPSExLHRoaXMuaXNTdGFibGU9ITAsdGhpcy5vblVuc3RhYmxlPW5ldyBUbCghMSksdGhpcy5vbk1pY3JvdGFza0VtcHR5PW5ldyBUbCghMSksdGhpcy5vblN0YWJsZT1uZXcgVGwoITEpLHRoaXMub25FcnJvcj1uZXcgVGwoITEpLCJ1bmRlZmluZWQiPT10eXBlb2YgWm9uZSl0aHJvdyBuZXcgRXJyb3IoIkluIHRoaXMgY29uZmlndXJhdGlvbiBBbmd1bGFyIHJlcXVpcmVzIFpvbmUuanMiKTtab25lLmFzc2VydFpvbmVQYXRjaGVkKCk7Y29uc3Qgcj10aGlzO3IuX25lc3Rpbmc9MCxyLl9vdXRlcj1yLl9pbm5lcj1ab25lLmN1cnJlbnQsWm9uZS5UYXNrVHJhY2tpbmdab25lU3BlYyYmKHIuX2lubmVyPXIuX2lubmVyLmZvcmsobmV3IFpvbmUuVGFza1RyYWNraW5nWm9uZVNwZWMpKSx0JiZab25lLmxvbmdTdGFja1RyYWNlWm9uZVNwZWMmJihyLl9pbm5lcj1yLl9pbm5lci5mb3JrKFpvbmUubG9uZ1N0YWNrVHJhY2Vab25lU3BlYykpLHIuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbj0hbiYmZSxyLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uPW4sci5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQ9LTEsci5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtsZXQgdD1rdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsZT1rdC5jYW5jZWxBbmltYXRpb25GcmFtZTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFpvbmUmJnQmJmUpe2NvbnN0IG49dFtab25lLl9fc3ltYm9sX18oIk9yaWdpbmFsRGVsZWdhdGUiKV07biYmKHQ9bik7Y29uc3Qgcj1lW1pvbmUuX19zeW1ib2xfXygiT3JpZ2luYWxEZWxlZ2F0ZSIpXTtyJiYoZT1yKX1yZXR1cm57bmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lOnQsbmF0aXZlQ2FuY2VsQW5pbWF0aW9uRnJhbWU6ZX19KCkubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lLGZ1bmN0aW9uKHQpe2NvbnN0IGU9KCk9PnshZnVuY3Rpb24odCl7dC5pc0NoZWNrU3RhYmxlUnVubmluZ3x8LTEhPT10Lmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZHx8KHQubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkPXQubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lLmNhbGwoa3QsKCk9Pnt0LmZha2VUb3BFdmVudFRhc2t8fCh0LmZha2VUb3BFdmVudFRhc2s9Wm9uZS5yb290LnNjaGVkdWxlRXZlbnRUYXNrKCJmYWtlVG9wRXZlbnRUYXNrIiwoKT0+e3QubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkPS0xLHZ1KHQpLHQuaXNDaGVja1N0YWJsZVJ1bm5pbmc9ITAseXUodCksdC5pc0NoZWNrU3RhYmxlUnVubmluZz0hMX0sdm9pZCAwLCgpPT57fSwoKT0+e30pKSx0LmZha2VUb3BFdmVudFRhc2suaW52b2tlKCl9KSx2dSh0KSl9KHQpfTt0Ll9pbm5lcj10Ll9pbm5lci5mb3JrKHtuYW1lOiJhbmd1bGFyIixwcm9wZXJ0aWVzOntpc0FuZ3VsYXJab25lOiEwfSxvbkludm9rZVRhc2s6KG4scixzLGksbyxhKT0+e3RyeXtyZXR1cm4gYnUodCksbi5pbnZva2VUYXNrKHMsaSxvLGEpfWZpbmFsbHl7KHQuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiYmImV2ZW50VGFzayI9PT1pLnR5cGV8fHQuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24pJiZlKCksd3UodCl9fSxvbkludm9rZToobixyLHMsaSxvLGEsbCk9Pnt0cnl7cmV0dXJuIGJ1KHQpLG4uaW52b2tlKHMsaSxvLGEsbCl9ZmluYWxseXt0LnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uJiZlKCksd3UodCl9fSxvbkhhc1Rhc2s6KGUsbixyLHMpPT57ZS5oYXNUYXNrKHIscyksbj09PXImJigibWljcm9UYXNrIj09cy5jaGFuZ2U/KHQuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzPXMubWljcm9UYXNrLHZ1KHQpLHl1KHQpKToibWFjcm9UYXNrIj09cy5jaGFuZ2UmJih0Lmhhc1BlbmRpbmdNYWNyb3Rhc2tzPXMubWFjcm9UYXNrKSl9LG9uSGFuZGxlRXJyb3I6KGUsbixyLHMpPT4oZS5oYW5kbGVFcnJvcihyLHMpLHQucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PnQub25FcnJvci5lbWl0KHMpKSwhMSl9KX0ocil9c3RhdGljIGlzSW5Bbmd1bGFyWm9uZSgpe3JldHVybiEwPT09Wm9uZS5jdXJyZW50LmdldCgiaXNBbmd1bGFyWm9uZSIpfXN0YXRpYyBhc3NlcnRJbkFuZ3VsYXJab25lKCl7aWYoIWd1LmlzSW5Bbmd1bGFyWm9uZSgpKXRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgdG8gYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMgbm90ISIpfXN0YXRpYyBhc3NlcnROb3RJbkFuZ3VsYXJab25lKCl7aWYoZ3UuaXNJbkFuZ3VsYXJab25lKCkpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCB0byBub3QgYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMhIil9cnVuKHQsZSxuKXtyZXR1cm4gdGhpcy5faW5uZXIucnVuKHQsZSxuKX1ydW5UYXNrKHQsZSxuLHIpe2NvbnN0IHM9dGhpcy5faW5uZXIsaT1zLnNjaGVkdWxlRXZlbnRUYXNrKCJOZ1pvbmVFdmVudDogIityLHQsbXUsRWEsRWEpO3RyeXtyZXR1cm4gcy5ydW5UYXNrKGksZSxuKX1maW5hbGx5e3MuY2FuY2VsVGFzayhpKX19cnVuR3VhcmRlZCh0LGUsbil7cmV0dXJuIHRoaXMuX2lubmVyLnJ1bkd1YXJkZWQodCxlLG4pfXJ1bk91dHNpZGVBbmd1bGFyKHQpe3JldHVybiB0aGlzLl9vdXRlci5ydW4odCl9fWNvbnN0IG11PXt9O2Z1bmN0aW9uIHl1KHQpe2lmKDA9PXQuX25lc3RpbmcmJiF0Lmhhc1BlbmRpbmdNaWNyb3Rhc2tzJiYhdC5pc1N0YWJsZSl0cnl7dC5fbmVzdGluZysrLHQub25NaWNyb3Rhc2tFbXB0eS5lbWl0KG51bGwpfWZpbmFsbHl7aWYodC5fbmVzdGluZy0tLCF0Lmhhc1BlbmRpbmdNaWNyb3Rhc2tzKXRyeXt0LnJ1bk91dHNpZGVBbmd1bGFyKCgpPT50Lm9uU3RhYmxlLmVtaXQobnVsbCkpfWZpbmFsbHl7dC5pc1N0YWJsZT0hMH19fWZ1bmN0aW9uIHZ1KHQpe3QuaGFzUGVuZGluZ01pY3JvdGFza3M9ISEodC5faGFzUGVuZGluZ01pY3JvdGFza3N8fCh0LnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb258fHQuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24pJiYtMSE9PXQubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkKX1mdW5jdGlvbiBidSh0KXt0Ll9uZXN0aW5nKyssdC5pc1N0YWJsZSYmKHQuaXNTdGFibGU9ITEsdC5vblVuc3RhYmxlLmVtaXQobnVsbCkpfWZ1bmN0aW9uIHd1KHQpe3QuX25lc3RpbmctLSx5dSh0KX1jbGFzcyBDdXtjb25zdHJ1Y3Rvcigpe3RoaXMuaGFzUGVuZGluZ01pY3JvdGFza3M9ITEsdGhpcy5oYXNQZW5kaW5nTWFjcm90YXNrcz0hMSx0aGlzLmlzU3RhYmxlPSEwLHRoaXMub25VbnN0YWJsZT1uZXcgVGwsdGhpcy5vbk1pY3JvdGFza0VtcHR5PW5ldyBUbCx0aGlzLm9uU3RhYmxlPW5ldyBUbCx0aGlzLm9uRXJyb3I9bmV3IFRsfXJ1bih0LGUsbil7cmV0dXJuIHQuYXBwbHkoZSxuKX1ydW5HdWFyZGVkKHQsZSxuKXtyZXR1cm4gdC5hcHBseShlLG4pfXJ1bk91dHNpZGVBbmd1bGFyKHQpe3JldHVybiB0KCl9cnVuVGFzayh0LGUsbixyKXtyZXR1cm4gdC5hcHBseShlLG4pfX1sZXQgX3U9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9uZ1pvbmU9dCx0aGlzLl9wZW5kaW5nQ291bnQ9MCx0aGlzLl9pc1pvbmVTdGFibGU9ITAsdGhpcy5fZGlkV29yaz0hMSx0aGlzLl9jYWxsYmFja3M9W10sdGhpcy50YXNrVHJhY2tpbmdab25lPW51bGwsdGhpcy5fd2F0Y2hBbmd1bGFyRXZlbnRzKCksdC5ydW4oKCk9Pnt0aGlzLnRhc2tUcmFja2luZ1pvbmU9InVuZGVmaW5lZCI9PXR5cGVvZiBab25lP251bGw6Wm9uZS5jdXJyZW50LmdldCgiVGFza1RyYWNraW5nWm9uZSIpfSl9X3dhdGNoQW5ndWxhckV2ZW50cygpe3RoaXMuX25nWm9uZS5vblVuc3RhYmxlLnN1YnNjcmliZSh7bmV4dDooKT0+e3RoaXMuX2RpZFdvcms9ITAsdGhpcy5faXNab25lU3RhYmxlPSExfX0pLHRoaXMuX25nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e3RoaXMuX25nWm9uZS5vblN0YWJsZS5zdWJzY3JpYmUoe25leHQ6KCk9PntndS5hc3NlcnROb3RJbkFuZ3VsYXJab25lKCksZnUoKCk9Pnt0aGlzLl9pc1pvbmVTdGFibGU9ITAsdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpfSl9fSl9KX1pbmNyZWFzZVBlbmRpbmdSZXF1ZXN0Q291bnQoKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50Kz0xLHRoaXMuX2RpZFdvcms9ITAsdGhpcy5fcGVuZGluZ0NvdW50fWRlY3JlYXNlUGVuZGluZ1JlcXVlc3RDb3VudCgpe2lmKHRoaXMuX3BlbmRpbmdDb3VudC09MSx0aGlzLl9wZW5kaW5nQ291bnQ8MCl0aHJvdyBuZXcgRXJyb3IoInBlbmRpbmcgYXN5bmMgcmVxdWVzdHMgYmVsb3cgemVybyIpO3JldHVybiB0aGlzLl9ydW5DYWxsYmFja3NJZlJlYWR5KCksdGhpcy5fcGVuZGluZ0NvdW50fWlzU3RhYmxlKCl7cmV0dXJuIHRoaXMuX2lzWm9uZVN0YWJsZSYmMD09PXRoaXMuX3BlbmRpbmdDb3VudCYmIXRoaXMuX25nWm9uZS5oYXNQZW5kaW5nTWFjcm90YXNrc31fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpe2lmKHRoaXMuaXNTdGFibGUoKSlmdSgoKT0+e2Zvcig7MCE9PXRoaXMuX2NhbGxiYWNrcy5sZW5ndGg7KXtsZXQgdD10aGlzLl9jYWxsYmFja3MucG9wKCk7Y2xlYXJUaW1lb3V0KHQudGltZW91dElkKSx0LmRvbmVDYih0aGlzLl9kaWRXb3JrKX10aGlzLl9kaWRXb3JrPSExfSk7ZWxzZXtsZXQgdD10aGlzLmdldFBlbmRpbmdUYXNrcygpO3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3MuZmlsdGVyKGU9PiFlLnVwZGF0ZUNifHwhZS51cGRhdGVDYih0KXx8KGNsZWFyVGltZW91dChlLnRpbWVvdXRJZCksITEpKSx0aGlzLl9kaWRXb3JrPSEwfX1nZXRQZW5kaW5nVGFza3MoKXtyZXR1cm4gdGhpcy50YXNrVHJhY2tpbmdab25lP3RoaXMudGFza1RyYWNraW5nWm9uZS5tYWNyb1Rhc2tzLm1hcCh0PT4oe3NvdXJjZTp0LnNvdXJjZSxjcmVhdGlvbkxvY2F0aW9uOnQuY3JlYXRpb25Mb2NhdGlvbixkYXRhOnQuZGF0YX0pKTpbXX1hZGRDYWxsYmFjayh0LGUsbil7bGV0IHI9LTE7ZSYmZT4wJiYocj1zZXRUaW1lb3V0KCgpPT57dGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrcy5maWx0ZXIodD0+dC50aW1lb3V0SWQhPT1yKSx0KHRoaXMuX2RpZFdvcmssdGhpcy5nZXRQZW5kaW5nVGFza3MoKSl9LGUpKSx0aGlzLl9jYWxsYmFja3MucHVzaCh7ZG9uZUNiOnQsdGltZW91dElkOnIsdXBkYXRlQ2I6bn0pfXdoZW5TdGFibGUodCxlLG4pe2lmKG4mJiF0aGlzLnRhc2tUcmFja2luZ1pvbmUpdGhyb3cgbmV3IEVycm9yKCdUYXNrIHRyYWNraW5nIHpvbmUgaXMgcmVxdWlyZWQgd2hlbiBwYXNzaW5nIGFuIHVwZGF0ZSBjYWxsYmFjayB0byB3aGVuU3RhYmxlKCkuIElzICJ6b25lLmpzL3BsdWdpbnMvdGFzay10cmFja2luZyIgbG9hZGVkPycpO3RoaXMuYWRkQ2FsbGJhY2sodCxlLG4pLHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKX1nZXRQZW5kaW5nUmVxdWVzdENvdW50KCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudH1maW5kUHJvdmlkZXJzKHQsZSxuKXtyZXR1cm5bXX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoZ3UpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxEdT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5fYXBwbGljYXRpb25zPW5ldyBNYXAseHUuYWRkVG9XaW5kb3codGhpcyl9cmVnaXN0ZXJBcHBsaWNhdGlvbih0LGUpe3RoaXMuX2FwcGxpY2F0aW9ucy5zZXQodCxlKX11bnJlZ2lzdGVyQXBwbGljYXRpb24odCl7dGhpcy5fYXBwbGljYXRpb25zLmRlbGV0ZSh0KX11bnJlZ2lzdGVyQWxsQXBwbGljYXRpb25zKCl7dGhpcy5fYXBwbGljYXRpb25zLmNsZWFyKCl9Z2V0VGVzdGFiaWxpdHkodCl7cmV0dXJuIHRoaXMuX2FwcGxpY2F0aW9ucy5nZXQodCl8fG51bGx9Z2V0QWxsVGVzdGFiaWxpdGllcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX2FwcGxpY2F0aW9ucy52YWx1ZXMoKSl9Z2V0QWxsUm9vdEVsZW1lbnRzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fYXBwbGljYXRpb25zLmtleXMoKSl9ZmluZFRlc3RhYmlsaXR5SW5UcmVlKHQsZT0hMCl7cmV0dXJuIHh1LmZpbmRUZXN0YWJpbGl0eUluVHJlZSh0aGlzLHQsZSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NsYXNzIEV1e2FkZFRvV2luZG93KHQpe31maW5kVGVzdGFiaWxpdHlJblRyZWUodCxlLG4pe3JldHVybiBudWxsfX1sZXQgU3UseHU9bmV3IEV1LEF1PSEwLFR1PSExO2NvbnN0IE91PW5ldyAkbigiQWxsb3dNdWx0aXBsZVRva2VuIik7Y2xhc3MgRnV7Y29uc3RydWN0b3IodCxlKXt0aGlzLm5hbWU9dCx0aGlzLnRva2VuPWV9fWZ1bmN0aW9uIGt1KHQsZSxuPVtdKXtjb25zdCByPWBQbGF0Zm9ybTogJHtlfWAscz1uZXcgJG4ocik7cmV0dXJuKGU9W10pPT57bGV0IGk9SXUoKTtpZighaXx8aS5pbmplY3Rvci5nZXQoT3UsITEpKWlmKHQpdChuLmNvbmNhdChlKS5jb25jYXQoe3Byb3ZpZGU6cyx1c2VWYWx1ZTohMH0pKTtlbHNle2NvbnN0IHQ9bi5jb25jYXQoZSkuY29uY2F0KHtwcm92aWRlOnMsdXNlVmFsdWU6ITB9LHtwcm92aWRlOlVpLHVzZVZhbHVlOiJwbGF0Zm9ybSJ9KTshZnVuY3Rpb24odCl7aWYoU3UmJiFTdS5kZXN0cm95ZWQmJiFTdS5pbmplY3Rvci5nZXQoT3UsITEpKXRocm93IG5ldyBFcnJvcigiVGhlcmUgY2FuIGJlIG9ubHkgb25lIHBsYXRmb3JtLiBEZXN0cm95IHRoZSBwcmV2aW91cyBvbmUgdG8gY3JlYXRlIGEgbmV3IG9uZS4iKTtTdT10LmdldChSdSk7Y29uc3QgZT10LmdldChKbCxudWxsKTtlJiZlLmZvckVhY2godD0+dCgpKX0oZW8uY3JlYXRlKHtwcm92aWRlcnM6dCxuYW1lOnJ9KSl9cmV0dXJuIGZ1bmN0aW9uKHQpe2NvbnN0IGU9SXUoKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIk5vIHBsYXRmb3JtIGV4aXN0cyEiKTtpZighZS5pbmplY3Rvci5nZXQodCxudWxsKSl0aHJvdyBuZXcgRXJyb3IoIkEgcGxhdGZvcm0gd2l0aCBhIGRpZmZlcmVudCBjb25maWd1cmF0aW9uIGhhcyBiZWVuIGNyZWF0ZWQuIFBsZWFzZSBkZXN0cm95IGl0IGZpcnN0LiIpO3JldHVybiBlfShzKX19ZnVuY3Rpb24gSXUoKXtyZXR1cm4gU3UmJiFTdS5kZXN0cm95ZWQ/U3U6bnVsbH1sZXQgUnU9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pbmplY3Rvcj10LHRoaXMuX21vZHVsZXM9W10sdGhpcy5fZGVzdHJveUxpc3RlbmVycz1bXSx0aGlzLl9kZXN0cm95ZWQ9ITF9Ym9vdHN0cmFwTW9kdWxlRmFjdG9yeSh0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCxlKXtsZXQgbjtyZXR1cm4gbj0ibm9vcCI9PT10P25ldyBDdTooInpvbmUuanMiPT09dD92b2lkIDA6dCl8fG5ldyBndSh7ZW5hYmxlTG9uZ1N0YWNrVHJhY2U6KFR1PSEwLEF1KSxzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uOiEhKG51bGw9PWU/dm9pZCAwOmUubmdab25lRXZlbnRDb2FsZXNjaW5nKSxzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbjohIShudWxsPT1lP3ZvaWQgMDplLm5nWm9uZVJ1bkNvYWxlc2NpbmcpfSksbn0oZT9lLm5nWm9uZTp2b2lkIDAse25nWm9uZUV2ZW50Q29hbGVzY2luZzplJiZlLm5nWm9uZUV2ZW50Q29hbGVzY2luZ3x8ITEsbmdab25lUnVuQ29hbGVzY2luZzplJiZlLm5nWm9uZVJ1bkNvYWxlc2Npbmd8fCExfSkscj1be3Byb3ZpZGU6Z3UsdXNlVmFsdWU6bn1dO3JldHVybiBuLnJ1bigoKT0+e2NvbnN0IGU9ZW8uY3JlYXRlKHtwcm92aWRlcnM6cixwYXJlbnQ6dGhpcy5pbmplY3RvcixuYW1lOnQubW9kdWxlVHlwZS5uYW1lfSkscz10LmNyZWF0ZShlKSxpPXMuaW5qZWN0b3IuZ2V0KG5zLG51bGwpO2lmKCFpKXRocm93IG5ldyBFcnJvcigiTm8gRXJyb3JIYW5kbGVyLiBJcyBwbGF0Zm9ybSBtb2R1bGUgKEJyb3dzZXJNb2R1bGUpIGluY2x1ZGVkPyIpO3JldHVybiBuLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT57Y29uc3QgdD1uLm9uRXJyb3Iuc3Vic2NyaWJlKHtuZXh0OnQ9PntpLmhhbmRsZUVycm9yKHQpfX0pO3Mub25EZXN0cm95KCgpPT57TnUodGhpcy5fbW9kdWxlcyxzKSx0LnVuc3Vic2NyaWJlKCl9KX0pLGZ1bmN0aW9uKHQsZSxuKXt0cnl7Y29uc3Qgcj1uKCk7cmV0dXJuIFRvKHIpP3IuY2F0Y2gobj0+e3Rocm93IGUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PnQuaGFuZGxlRXJyb3IobikpLG59KTpyfWNhdGNoKHIpe3Rocm93IGUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PnQuaGFuZGxlRXJyb3IocikpLHJ9fShpLG4sKCk9Pntjb25zdCB0PXMuaW5qZWN0b3IuZ2V0KFlsKTtyZXR1cm4gdC5ydW5Jbml0aWFsaXplcnMoKSx0LmRvbmVQcm9taXNlLnRoZW4oKCk9PihkYShzLmluamVjdG9yLmdldChydSxjYSl8fGNhKSx0aGlzLl9tb2R1bGVEb0Jvb3RzdHJhcChzKSxzKSl9KX0pfWJvb3RzdHJhcE1vZHVsZSh0LGU9W10pe2NvbnN0IG49UHUoe30sZSk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPW5ldyBTbChuKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIpfSgwLDAsdCkudGhlbih0PT50aGlzLmJvb3RzdHJhcE1vZHVsZUZhY3RvcnkodCxuKSl9X21vZHVsZURvQm9vdHN0cmFwKHQpe2NvbnN0IGU9dC5pbmplY3Rvci5nZXQoTHUpO2lmKHQuX2Jvb3RzdHJhcENvbXBvbmVudHMubGVuZ3RoPjApdC5fYm9vdHN0cmFwQ29tcG9uZW50cy5mb3JFYWNoKHQ9PmUuYm9vdHN0cmFwKHQpKTtlbHNle2lmKCF0Lmluc3RhbmNlLm5nRG9Cb290c3RyYXApdGhyb3cgbmV3IEVycm9yKGBUaGUgbW9kdWxlICR7ZXQodC5pbnN0YW5jZS5jb25zdHJ1Y3Rvcil9IHdhcyBib290c3RyYXBwZWQsIGJ1dCBpdCBkb2VzIG5vdCBkZWNsYXJlICJATmdNb2R1bGUuYm9vdHN0cmFwIiBjb21wb25lbnRzIG5vciBhICJuZ0RvQm9vdHN0cmFwIiBtZXRob2QuIFBsZWFzZSBkZWZpbmUgb25lIG9mIHRoZXNlLmApO3QuaW5zdGFuY2UubmdEb0Jvb3RzdHJhcChlKX10aGlzLl9tb2R1bGVzLnB1c2godCl9b25EZXN0cm95KHQpe3RoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMucHVzaCh0KX1nZXQgaW5qZWN0b3IoKXtyZXR1cm4gdGhpcy5faW5qZWN0b3J9ZGVzdHJveSgpe2lmKHRoaXMuX2Rlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBwbGF0Zm9ybSBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZCEiKTt0aGlzLl9tb2R1bGVzLnNsaWNlKCkuZm9yRWFjaCh0PT50LmRlc3Ryb3koKSksdGhpcy5fZGVzdHJveUxpc3RlbmVycy5mb3JFYWNoKHQ9PnQoKSksdGhpcy5fZGVzdHJveWVkPSEwfWdldCBkZXN0cm95ZWQoKXtyZXR1cm4gdGhpcy5fZGVzdHJveWVkfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihlbykpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2Z1bmN0aW9uIFB1KHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5yZWR1Y2UoUHUsdCk6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLGUpfWxldCBMdT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuLHIscyl7dGhpcy5fem9uZT10LHRoaXMuX2luamVjdG9yPWUsdGhpcy5fZXhjZXB0aW9uSGFuZGxlcj1uLHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcj1yLHRoaXMuX2luaXRTdGF0dXM9cyx0aGlzLl9ib290c3RyYXBMaXN0ZW5lcnM9W10sdGhpcy5fdmlld3M9W10sdGhpcy5fcnVubmluZ1RpY2s9ITEsdGhpcy5fc3RhYmxlPSEwLHRoaXMuY29tcG9uZW50VHlwZXM9W10sdGhpcy5jb21wb25lbnRzPVtdLHRoaXMuX29uTWljcm90YXNrRW1wdHlTdWJzY3JpcHRpb249dGhpcy5fem9uZS5vbk1pY3JvdGFza0VtcHR5LnN1YnNjcmliZSh7bmV4dDooKT0+e3RoaXMuX3pvbmUucnVuKCgpPT57dGhpcy50aWNrKCl9KX19KTtjb25zdCBpPW5ldyB2KHQ9Pnt0aGlzLl9zdGFibGU9dGhpcy5fem9uZS5pc1N0YWJsZSYmIXRoaXMuX3pvbmUuaGFzUGVuZGluZ01hY3JvdGFza3MmJiF0aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzLHRoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9Pnt0Lm5leHQodGhpcy5fc3RhYmxlKSx0LmNvbXBsZXRlKCl9KX0pLG89bmV3IHYodD0+e2xldCBlO3RoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PntlPXRoaXMuX3pvbmUub25TdGFibGUuc3Vic2NyaWJlKCgpPT57Z3UuYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpLGZ1KCgpPT57dGhpcy5fc3RhYmxlfHx0aGlzLl96b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzfHx0aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzfHwodGhpcy5fc3RhYmxlPSEwLHQubmV4dCghMCkpfSl9KX0pO2NvbnN0IG49dGhpcy5fem9uZS5vblVuc3RhYmxlLnN1YnNjcmliZSgoKT0+e2d1LmFzc2VydEluQW5ndWxhclpvbmUoKSx0aGlzLl9zdGFibGUmJih0aGlzLl9zdGFibGU9ITEsdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e3QubmV4dCghMSl9KSl9KTtyZXR1cm4oKT0+e2UudW5zdWJzY3JpYmUoKSxuLnVuc3Vic2NyaWJlKCl9fSk7dGhpcy5pc1N0YWJsZT1xKGksby5waXBlKHQ9PntyZXR1cm4gVygpKChlPVgsZnVuY3Rpb24odCl7bGV0IG47bj0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOmZ1bmN0aW9uKCl7cmV0dXJuIGV9O2NvbnN0IHI9T2JqZWN0LmNyZWF0ZSh0LEspO3JldHVybiByLnNvdXJjZT10LHIuc3ViamVjdEZhY3Rvcnk9bixyfSkodCkpO3ZhciBlfSkpfWJvb3RzdHJhcCh0LGUpe2lmKCF0aGlzLl9pbml0U3RhdHVzLmRvbmUpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgYm9vdHN0cmFwIGFzIHRoZXJlIGFyZSBzdGlsbCBhc3luY2hyb25vdXMgaW5pdGlhbGl6ZXJzIHJ1bm5pbmcuIEJvb3RzdHJhcCBjb21wb25lbnRzIGluIHRoZSBgbmdEb0Jvb3RzdHJhcGAgbWV0aG9kIG9mIHRoZSByb290IG1vZHVsZS4iKTtsZXQgbjtuPXQgaW5zdGFuY2VvZiBDYT90OnRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh0KSx0aGlzLmNvbXBvbmVudFR5cGVzLnB1c2gobi5jb21wb25lbnRUeXBlKTtjb25zdCByPW4uaXNCb3VuZFRvTW9kdWxlP3ZvaWQgMDp0aGlzLl9pbmplY3Rvci5nZXQobGwpLHM9bi5jcmVhdGUoZW8uTlVMTCxbXSxlfHxuLnNlbGVjdG9yLHIpLGk9cy5sb2NhdGlvbi5uYXRpdmVFbGVtZW50LG89cy5pbmplY3Rvci5nZXQoX3UsbnVsbCksYT1vJiZzLmluamVjdG9yLmdldChEdSk7cmV0dXJuIG8mJmEmJmEucmVnaXN0ZXJBcHBsaWNhdGlvbihpLG8pLHMub25EZXN0cm95KCgpPT57dGhpcy5kZXRhY2hWaWV3KHMuaG9zdFZpZXcpLE51KHRoaXMuY29tcG9uZW50cyxzKSxhJiZhLnVucmVnaXN0ZXJBcHBsaWNhdGlvbihpKX0pLHRoaXMuX2xvYWRDb21wb25lbnQocyksc310aWNrKCl7aWYodGhpcy5fcnVubmluZ1RpY2spdGhyb3cgbmV3IEVycm9yKCJBcHBsaWNhdGlvblJlZi50aWNrIGlzIGNhbGxlZCByZWN1cnNpdmVseSIpO3RyeXt0aGlzLl9ydW5uaW5nVGljaz0hMDtmb3IobGV0IHQgb2YgdGhpcy5fdmlld3MpdC5kZXRlY3RDaGFuZ2VzKCl9Y2F0Y2godCl7dGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+dGhpcy5fZXhjZXB0aW9uSGFuZGxlci5oYW5kbGVFcnJvcih0KSl9ZmluYWxseXt0aGlzLl9ydW5uaW5nVGljaz0hMX19YXR0YWNoVmlldyh0KXtjb25zdCBlPXQ7dGhpcy5fdmlld3MucHVzaChlKSxlLmF0dGFjaFRvQXBwUmVmKHRoaXMpfWRldGFjaFZpZXcodCl7Y29uc3QgZT10O051KHRoaXMuX3ZpZXdzLGUpLGUuZGV0YWNoRnJvbUFwcFJlZigpfV9sb2FkQ29tcG9uZW50KHQpe3RoaXMuYXR0YWNoVmlldyh0Lmhvc3RWaWV3KSx0aGlzLnRpY2soKSx0aGlzLmNvbXBvbmVudHMucHVzaCh0KSx0aGlzLl9pbmplY3Rvci5nZXQoZXUsW10pLmNvbmNhdCh0aGlzLl9ib290c3RyYXBMaXN0ZW5lcnMpLmZvckVhY2goZT0+ZSh0KSl9bmdPbkRlc3Ryb3koKXt0aGlzLl92aWV3cy5zbGljZSgpLmZvckVhY2godD0+dC5kZXN0cm95KCkpLHRoaXMuX29uTWljcm90YXNrRW1wdHlTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX1nZXQgdmlld0NvdW50KCl7cmV0dXJuIHRoaXMuX3ZpZXdzLmxlbmd0aH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoZ3UpLGFyKGVvKSxhcihucyksYXIoRGEpLGFyKFlsKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7ZnVuY3Rpb24gTnUodCxlKXtjb25zdCBuPXQuaW5kZXhPZihlKTtuPi0xJiZ0LnNwbGljZShuLDEpfWNsYXNzIGp1e31jbGFzcyBNdXt9Y29uc3QgVnU9e2ZhY3RvcnlQYXRoUHJlZml4OiIiLGZhY3RvcnlQYXRoU3VmZml4OiIubmdmYWN0b3J5In07bGV0IEJ1PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9jb21waWxlcj10LHRoaXMuX2NvbmZpZz1lfHxWdX1sb2FkKHQpe3JldHVybiB0aGlzLmxvYWRBbmRDb21waWxlKHQpfWxvYWRBbmRDb21waWxlKHQpe2xldFtlLHJdPXQuc3BsaXQoIiMiKTtyZXR1cm4gdm9pZCAwPT09ciYmKHI9ImRlZmF1bHQiKSxuKDYxNSkoZSkudGhlbih0PT50W3JdKS50aGVuKHQ9Pkh1KHQsZSxyKSkudGhlbih0PT50aGlzLl9jb21waWxlci5jb21waWxlTW9kdWxlQXN5bmModCkpfWxvYWRGYWN0b3J5KHQpe2xldFtlLHJdPXQuc3BsaXQoIiMiKSxzPSJOZ0ZhY3RvcnkiO3JldHVybiB2b2lkIDA9PT1yJiYocj0iZGVmYXVsdCIscz0iIiksbig2MTUpKHRoaXMuX2NvbmZpZy5mYWN0b3J5UGF0aFByZWZpeCtlK3RoaXMuX2NvbmZpZy5mYWN0b3J5UGF0aFN1ZmZpeCkudGhlbih0PT50W3Irc10pLnRoZW4odD0+SHUodCxlLHIpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoZHUpLGFyKE11LDgpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtmdW5jdGlvbiBIdSh0LGUsbil7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCAnJHtufScgaW4gJyR7ZX0nYCk7cmV0dXJuIHR9Y29uc3QgVXU9a3UobnVsbCwiY29yZSIsW3twcm92aWRlOnR1LHVzZVZhbHVlOiJ1bmtub3duIn0se3Byb3ZpZGU6UnUsZGVwczpbZW9dfSx7cHJvdmlkZTpEdSxkZXBzOltdfSx7cHJvdmlkZTpudSxkZXBzOltdfV0pLCR1PVt7cHJvdmlkZTpMdSx1c2VDbGFzczpMdSxkZXBzOltndSxlbyxucyxEYSxZbF19LHtwcm92aWRlOndsLGRlcHM6W2d1XSx1c2VGYWN0b3J5OmZ1bmN0aW9uKHQpe2xldCBlPVtdO3JldHVybiB0Lm9uU3RhYmxlLnN1YnNjcmliZSgoKT0+e2Zvcig7ZS5sZW5ndGg7KWUucG9wKCkoKX0pLGZ1bmN0aW9uKHQpe2UucHVzaCh0KX19fSx7cHJvdmlkZTpZbCx1c2VDbGFzczpZbCxkZXBzOltbbmV3IGhyLFpsXV19LHtwcm92aWRlOmR1LHVzZUNsYXNzOmR1LGRlcHM6W119LFFsLHtwcm92aWRlOldhLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gZWx9LGRlcHM6W119LHtwcm92aWRlOlphLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmx9LGRlcHM6W119LHtwcm92aWRlOnJ1LHVzZUZhY3Rvcnk6ZnVuY3Rpb24odCl7cmV0dXJuIGRhKHQ9dHx8InVuZGVmaW5lZCIhPXR5cGVvZiAkbG9jYWxpemUmJiRsb2NhbGl6ZS5sb2NhbGV8fGNhKSx0fSxkZXBzOltbbmV3IGNyKHJ1KSxuZXcgaHIsbmV3IGRyXV19LHtwcm92aWRlOnN1LHVzZVZhbHVlOiJVU0QifV07bGV0IHp1PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihMdSkpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczokdX0pLHR9KSgpLHF1PW51bGw7ZnVuY3Rpb24gV3UoKXtyZXR1cm4gcXV9Y29uc3QgR3U9bmV3ICRuKCJEb2N1bWVudFRva2VuIik7bGV0IFp1PSgoKT0+e2NsYXNzIHR7aGlzdG9yeUdvKHQpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6WXUsdG9rZW46dCxwcm92aWRlZEluOiJwbGF0Zm9ybSJ9KSx0fSkoKTtmdW5jdGlvbiBZdSgpe3JldHVybiBhcihRdSl9Y29uc3QgS3U9bmV3ICRuKCJMb2NhdGlvbiBJbml0aWFsaXplZCIpO2xldCBRdT0oKCk9PntjbGFzcyB0IGV4dGVuZHMgWnV7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLl9kb2M9dCx0aGlzLl9pbml0KCl9X2luaXQoKXt0aGlzLmxvY2F0aW9uPXdpbmRvdy5sb2NhdGlvbix0aGlzLl9oaXN0b3J5PXdpbmRvdy5oaXN0b3J5fWdldEJhc2VIcmVmRnJvbURPTSgpe3JldHVybiBXdSgpLmdldEJhc2VIcmVmKHRoaXMuX2RvYyl9b25Qb3BTdGF0ZSh0KXtjb25zdCBlPVd1KCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQodGhpcy5fZG9jLCJ3aW5kb3ciKTtyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKCJwb3BzdGF0ZSIsdCwhMSksKCk9PmUucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9wc3RhdGUiLHQpfW9uSGFzaENoYW5nZSh0KXtjb25zdCBlPVd1KCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQodGhpcy5fZG9jLCJ3aW5kb3ciKTtyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIix0LCExKSwoKT0+ZS5yZW1vdmVFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIix0KX1nZXQgaHJlZigpe3JldHVybiB0aGlzLmxvY2F0aW9uLmhyZWZ9Z2V0IHByb3RvY29sKCl7cmV0dXJuIHRoaXMubG9jYXRpb24ucHJvdG9jb2x9Z2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMubG9jYXRpb24uaG9zdG5hbWV9Z2V0IHBvcnQoKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5wb3J0fWdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLmxvY2F0aW9uLnBhdGhuYW1lfWdldCBzZWFyY2goKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5zZWFyY2h9Z2V0IGhhc2goKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5oYXNofXNldCBwYXRobmFtZSh0KXt0aGlzLmxvY2F0aW9uLnBhdGhuYW1lPXR9cHVzaFN0YXRlKHQsZSxuKXtYdSgpP3RoaXMuX2hpc3RvcnkucHVzaFN0YXRlKHQsZSxuKTp0aGlzLmxvY2F0aW9uLmhhc2g9bn1yZXBsYWNlU3RhdGUodCxlLG4pe1h1KCk/dGhpcy5faGlzdG9yeS5yZXBsYWNlU3RhdGUodCxlLG4pOnRoaXMubG9jYXRpb24uaGFzaD1ufWZvcndhcmQoKXt0aGlzLl9oaXN0b3J5LmZvcndhcmQoKX1iYWNrKCl7dGhpcy5faGlzdG9yeS5iYWNrKCl9aGlzdG9yeUdvKHQ9MCl7dGhpcy5faGlzdG9yeS5nbyh0KX1nZXRTdGF0ZSgpe3JldHVybiB0aGlzLl9oaXN0b3J5LnN0YXRlfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihHdSkpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6SnUsdG9rZW46dCxwcm92aWRlZEluOiJwbGF0Zm9ybSJ9KSx0fSkoKTtmdW5jdGlvbiBYdSgpe3JldHVybiEhd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlfWZ1bmN0aW9uIEp1KCl7cmV0dXJuIG5ldyBRdShhcihHdSkpfWZ1bmN0aW9uIHRjKHQsZSl7aWYoMD09dC5sZW5ndGgpcmV0dXJuIGU7aWYoMD09ZS5sZW5ndGgpcmV0dXJuIHQ7bGV0IG49MDtyZXR1cm4gdC5lbmRzV2l0aCgiLyIpJiZuKyssZS5zdGFydHNXaXRoKCIvIikmJm4rKywyPT1uP3QrZS5zdWJzdHJpbmcoMSk6MT09bj90K2U6dCsiLyIrZX1mdW5jdGlvbiBlYyh0KXtjb25zdCBlPXQubWF0Y2goLyN8XD98JC8pLG49ZSYmZS5pbmRleHx8dC5sZW5ndGg7cmV0dXJuIHQuc2xpY2UoMCxuLSgiLyI9PT10W24tMV0/MTowKSkrdC5zbGljZShuKX1mdW5jdGlvbiBuYyh0KXtyZXR1cm4gdCYmIj8iIT09dFswXT8iPyIrdDp0fWxldCByYz0oKCk9PntjbGFzcyB0e2hpc3RvcnlHbyh0KXt0aHJvdyBuZXcgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZCIpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5OnNjLHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKTtmdW5jdGlvbiBzYyh0KXtjb25zdCBlPWFyKEd1KS5sb2NhdGlvbjtyZXR1cm4gbmV3IG9jKGFyKFp1KSxlJiZlLm9yaWdpbnx8IiIpfWNvbnN0IGljPW5ldyAkbigiYXBwQmFzZUhyZWYiKTtsZXQgb2M9KCgpPT57Y2xhc3MgdCBleHRlbmRzIHJje2NvbnN0cnVjdG9yKHQsZSl7aWYoc3VwZXIoKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uPXQsdGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnM9W10sbnVsbD09ZSYmKGU9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5nZXRCYXNlSHJlZkZyb21ET00oKSksbnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoIk5vIGJhc2UgaHJlZiBzZXQuIFBsZWFzZSBwcm92aWRlIGEgdmFsdWUgZm9yIHRoZSBBUFBfQkFTRV9IUkVGIHRva2VuIG9yIGFkZCBhIGJhc2UgZWxlbWVudCB0byB0aGUgZG9jdW1lbnQuIik7dGhpcy5fYmFzZUhyZWY9ZX1uZ09uRGVzdHJveSgpe2Zvcig7dGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnMubGVuZ3RoOyl0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5wb3AoKSgpfW9uUG9wU3RhdGUodCl7dGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnMucHVzaCh0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLm9uUG9wU3RhdGUodCksdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5vbkhhc2hDaGFuZ2UodCkpfWdldEJhc2VIcmVmKCl7cmV0dXJuIHRoaXMuX2Jhc2VIcmVmfXByZXBhcmVFeHRlcm5hbFVybCh0KXtyZXR1cm4gdGModGhpcy5fYmFzZUhyZWYsdCl9cGF0aCh0PSExKXtjb25zdCBlPXRoaXMuX3BsYXRmb3JtTG9jYXRpb24ucGF0aG5hbWUrbmModGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5zZWFyY2gpLG49dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5oYXNoO3JldHVybiBuJiZ0P2Ake2V9JHtufWA6ZX1wdXNoU3RhdGUodCxlLG4scil7Y29uc3Qgcz10aGlzLnByZXBhcmVFeHRlcm5hbFVybChuK25jKHIpKTt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnB1c2hTdGF0ZSh0LGUscyl9cmVwbGFjZVN0YXRlKHQsZSxuLHIpe2NvbnN0IHM9dGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwobituYyhyKSk7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5yZXBsYWNlU3RhdGUodCxlLHMpfWZvcndhcmQoKXt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmZvcndhcmQoKX1iYWNrKCl7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5iYWNrKCl9aGlzdG9yeUdvKHQ9MCl7dmFyIGUsbjtudWxsPT09KG49KGU9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbikuaGlzdG9yeUdvKXx8dm9pZCAwPT09bnx8bi5jYWxsKGUsdCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKFp1KSxhcihpYyw4KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksYWM9KCgpPT57Y2xhc3MgdCBleHRlbmRzIHJje2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uPXQsdGhpcy5fYmFzZUhyZWY9IiIsdGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnM9W10sbnVsbCE9ZSYmKHRoaXMuX2Jhc2VIcmVmPWUpfW5nT25EZXN0cm95KCl7Zm9yKDt0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5sZW5ndGg7KXRoaXMuX3JlbW92ZUxpc3RlbmVyRm5zLnBvcCgpKCl9b25Qb3BTdGF0ZSh0KXt0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5wdXNoKHRoaXMuX3BsYXRmb3JtTG9jYXRpb24ub25Qb3BTdGF0ZSh0KSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLm9uSGFzaENoYW5nZSh0KSl9Z2V0QmFzZUhyZWYoKXtyZXR1cm4gdGhpcy5fYmFzZUhyZWZ9cGF0aCh0PSExKXtsZXQgZT10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmhhc2g7cmV0dXJuIG51bGw9PWUmJihlPSIjIiksZS5sZW5ndGg+MD9lLnN1YnN0cmluZygxKTplfXByZXBhcmVFeHRlcm5hbFVybCh0KXtjb25zdCBlPXRjKHRoaXMuX2Jhc2VIcmVmLHQpO3JldHVybiBlLmxlbmd0aD4wPyIjIitlOmV9cHVzaFN0YXRlKHQsZSxuLHIpe2xldCBzPXRoaXMucHJlcGFyZUV4dGVybmFsVXJsKG4rbmMocikpOzA9PXMubGVuZ3RoJiYocz10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnBhdGhuYW1lKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnB1c2hTdGF0ZSh0LGUscyl9cmVwbGFjZVN0YXRlKHQsZSxuLHIpe2xldCBzPXRoaXMucHJlcGFyZUV4dGVybmFsVXJsKG4rbmMocikpOzA9PXMubGVuZ3RoJiYocz10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnBhdGhuYW1lKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnJlcGxhY2VTdGF0ZSh0LGUscyl9Zm9yd2FyZCgpe3RoaXMuX3BsYXRmb3JtTG9jYXRpb24uZm9yd2FyZCgpfWJhY2soKXt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmJhY2soKX1oaXN0b3J5R28odD0wKXt2YXIgZSxuO251bGw9PT0obj0oZT10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uKS5oaXN0b3J5R28pfHx2b2lkIDA9PT1ufHxuLmNhbGwoZSx0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoWnUpLGFyKGljLDgpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxsYz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fc3ViamVjdD1uZXcgVGwsdGhpcy5fdXJsQ2hhbmdlTGlzdGVuZXJzPVtdLHRoaXMuX3BsYXRmb3JtU3RyYXRlZ3k9dDtjb25zdCBuPXRoaXMuX3BsYXRmb3JtU3RyYXRlZ3kuZ2V0QmFzZUhyZWYoKTt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uPWUsdGhpcy5fYmFzZUhyZWY9ZWMoY2MobikpLHRoaXMuX3BsYXRmb3JtU3RyYXRlZ3kub25Qb3BTdGF0ZSh0PT57dGhpcy5fc3ViamVjdC5lbWl0KHt1cmw6dGhpcy5wYXRoKCEwKSxwb3A6ITAsc3RhdGU6dC5zdGF0ZSx0eXBlOnQudHlwZX0pfSl9cGF0aCh0PSExKXtyZXR1cm4gdGhpcy5ub3JtYWxpemUodGhpcy5fcGxhdGZvcm1TdHJhdGVneS5wYXRoKHQpKX1nZXRTdGF0ZSgpe3JldHVybiB0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmdldFN0YXRlKCl9aXNDdXJyZW50UGF0aEVxdWFsVG8odCxlPSIiKXtyZXR1cm4gdGhpcy5wYXRoKCk9PXRoaXMubm9ybWFsaXplKHQrbmMoZSkpfW5vcm1hbGl6ZShlKXtyZXR1cm4gdC5zdHJpcFRyYWlsaW5nU2xhc2goZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmZS5zdGFydHNXaXRoKHQpP2Uuc3Vic3RyaW5nKHQubGVuZ3RoKTplfSh0aGlzLl9iYXNlSHJlZixjYyhlKSkpfXByZXBhcmVFeHRlcm5hbFVybCh0KXtyZXR1cm4gdCYmIi8iIT09dFswXSYmKHQ9Ii8iK3QpLHRoaXMuX3BsYXRmb3JtU3RyYXRlZ3kucHJlcGFyZUV4dGVybmFsVXJsKHQpfWdvKHQsZT0iIixuPW51bGwpe3RoaXMuX3BsYXRmb3JtU3RyYXRlZ3kucHVzaFN0YXRlKG4sIiIsdCxlKSx0aGlzLl9ub3RpZnlVcmxDaGFuZ2VMaXN0ZW5lcnModGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwodCtuYyhlKSksbil9cmVwbGFjZVN0YXRlKHQsZT0iIixuPW51bGwpe3RoaXMuX3BsYXRmb3JtU3RyYXRlZ3kucmVwbGFjZVN0YXRlKG4sIiIsdCxlKSx0aGlzLl9ub3RpZnlVcmxDaGFuZ2VMaXN0ZW5lcnModGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwodCtuYyhlKSksbil9Zm9yd2FyZCgpe3RoaXMuX3BsYXRmb3JtU3RyYXRlZ3kuZm9yd2FyZCgpfWJhY2soKXt0aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5LmJhY2soKX1oaXN0b3J5R28odD0wKXt2YXIgZSxuO251bGw9PT0obj0oZT10aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5KS5oaXN0b3J5R28pfHx2b2lkIDA9PT1ufHxuLmNhbGwoZSx0KX1vblVybENoYW5nZSh0KXt0aGlzLl91cmxDaGFuZ2VMaXN0ZW5lcnMucHVzaCh0KSx0aGlzLl91cmxDaGFuZ2VTdWJzY3JpcHRpb258fCh0aGlzLl91cmxDaGFuZ2VTdWJzY3JpcHRpb249dGhpcy5zdWJzY3JpYmUodD0+e3RoaXMuX25vdGlmeVVybENoYW5nZUxpc3RlbmVycyh0LnVybCx0LnN0YXRlKX0pKX1fbm90aWZ5VXJsQ2hhbmdlTGlzdGVuZXJzKHQ9IiIsZSl7dGhpcy5fdXJsQ2hhbmdlTGlzdGVuZXJzLmZvckVhY2gobj0+bih0LGUpKX1zdWJzY3JpYmUodCxlLG4pe3JldHVybiB0aGlzLl9zdWJqZWN0LnN1YnNjcmliZSh7bmV4dDp0LGVycm9yOmUsY29tcGxldGU6bn0pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihyYyksYXIoWnUpKX0sdC5ub3JtYWxpemVRdWVyeVBhcmFtcz1uYyx0LmpvaW5XaXRoU2xhc2g9dGMsdC5zdHJpcFRyYWlsaW5nU2xhc2g9ZWMsdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5OnVjLHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKTtmdW5jdGlvbiB1Yygpe3JldHVybiBuZXcgbGMoYXIocmMpLGFyKFp1KSl9ZnVuY3Rpb24gY2ModCl7cmV0dXJuIHQucmVwbGFjZSgvXC9pbmRleC5odG1sJC8sIiIpfWNvbnN0IGhjPXtBRFA6W3ZvaWQgMCx2b2lkIDAsMF0sQUZOOlt2b2lkIDAsdm9pZCAwLDBdLEFMTDpbdm9pZCAwLHZvaWQgMCwwXSxBTUQ6W3ZvaWQgMCx2b2lkIDAsMl0sQU9BOlt2b2lkIDAsIkt6Il0sQVJTOlt2b2lkIDAsIiQiXSxBVUQ6WyJBJCIsIiQiXSxCQU06W3ZvaWQgMCwiS00iXSxCQkQ6W3ZvaWQgMCwiJCJdLEJEVDpbdm9pZCAwLCJcdTA5ZjMiXSxCSEQ6W3ZvaWQgMCx2b2lkIDAsM10sQklGOlt2b2lkIDAsdm9pZCAwLDBdLEJNRDpbdm9pZCAwLCIkIl0sQk5EOlt2b2lkIDAsIiQiXSxCT0I6W3ZvaWQgMCwiQnMiXSxCUkw6WyJSJCJdLEJTRDpbdm9pZCAwLCIkIl0sQldQOlt2b2lkIDAsIlAiXSxCWU46W3ZvaWQgMCwiXHUwNDQwLiIsMl0sQllSOlt2b2lkIDAsdm9pZCAwLDBdLEJaRDpbdm9pZCAwLCIkIl0sQ0FEOlsiQ0EkIiwiJCIsMl0sQ0hGOlt2b2lkIDAsdm9pZCAwLDJdLENMRjpbdm9pZCAwLHZvaWQgMCw0XSxDTFA6W3ZvaWQgMCwiJCIsMF0sQ05ZOlsiQ05ceGE1IiwiXHhhNSJdLENPUDpbdm9pZCAwLCIkIiwyXSxDUkM6W3ZvaWQgMCwiXHUyMGExIiwyXSxDVUM6W3ZvaWQgMCwiJCJdLENVUDpbdm9pZCAwLCIkIl0sQ1pLOlt2b2lkIDAsIktcdTAxMGQiLDJdLERKRjpbdm9pZCAwLHZvaWQgMCwwXSxES0s6W3ZvaWQgMCwia3IiLDJdLERPUDpbdm9pZCAwLCIkIl0sRUdQOlt2b2lkIDAsIkVceGEzIl0sRVNQOlt2b2lkIDAsIlx1MjBhNyIsMF0sRVVSOlsiXHUyMGFjIl0sRkpEOlt2b2lkIDAsIiQiXSxGS1A6W3ZvaWQgMCwiXHhhMyJdLEdCUDpbIlx4YTMiXSxHRUw6W3ZvaWQgMCwiXHUyMGJlIl0sR0lQOlt2b2lkIDAsIlx4YTMiXSxHTkY6W3ZvaWQgMCwiRkciLDBdLEdUUTpbdm9pZCAwLCJRIl0sR1lEOlt2b2lkIDAsIiQiLDJdLEhLRDpbIkhLJCIsIiQiXSxITkw6W3ZvaWQgMCwiTCJdLEhSSzpbdm9pZCAwLCJrbiJdLEhVRjpbdm9pZCAwLCJGdCIsMl0sSURSOlt2b2lkIDAsIlJwIiwyXSxJTFM6WyJcdTIwYWEiXSxJTlI6WyJcdTIwYjkiXSxJUUQ6W3ZvaWQgMCx2b2lkIDAsMF0sSVJSOlt2b2lkIDAsdm9pZCAwLDBdLElTSzpbdm9pZCAwLCJrciIsMF0sSVRMOlt2b2lkIDAsdm9pZCAwLDBdLEpNRDpbdm9pZCAwLCIkIl0sSk9EOlt2b2lkIDAsdm9pZCAwLDNdLEpQWTpbIlx4YTUiLHZvaWQgMCwwXSxLSFI6W3ZvaWQgMCwiXHUxN2RiIl0sS01GOlt2b2lkIDAsIkNGIiwwXSxLUFc6W3ZvaWQgMCwiXHUyMGE5IiwwXSxLUlc6WyJcdTIwYTkiLHZvaWQgMCwwXSxLV0Q6W3ZvaWQgMCx2b2lkIDAsM10sS1lEOlt2b2lkIDAsIiQiXSxLWlQ6W3ZvaWQgMCwiXHUyMGI4Il0sTEFLOlt2b2lkIDAsIlx1MjBhZCIsMF0sTEJQOlt2b2lkIDAsIkxceGEzIiwwXSxMS1I6W3ZvaWQgMCwiUnMiXSxMUkQ6W3ZvaWQgMCwiJCJdLExUTDpbdm9pZCAwLCJMdCJdLExVRjpbdm9pZCAwLHZvaWQgMCwwXSxMVkw6W3ZvaWQgMCwiTHMiXSxMWUQ6W3ZvaWQgMCx2b2lkIDAsM10sTUdBOlt2b2lkIDAsIkFyIiwwXSxNR0Y6W3ZvaWQgMCx2b2lkIDAsMF0sTU1LOlt2b2lkIDAsIksiLDBdLE1OVDpbdm9pZCAwLCJcdTIwYWUiLDJdLE1STzpbdm9pZCAwLHZvaWQgMCwwXSxNVVI6W3ZvaWQgMCwiUnMiLDJdLE1YTjpbIk1YJCIsIiQiXSxNWVI6W3ZvaWQgMCwiUk0iXSxOQUQ6W3ZvaWQgMCwiJCJdLE5HTjpbdm9pZCAwLCJcdTIwYTYiXSxOSU86W3ZvaWQgMCwiQyQiXSxOT0s6W3ZvaWQgMCwia3IiLDJdLE5QUjpbdm9pZCAwLCJScyJdLE5aRDpbIk5aJCIsIiQiXSxPTVI6W3ZvaWQgMCx2b2lkIDAsM10sUEhQOlt2b2lkIDAsIlx1MjBiMSJdLFBLUjpbdm9pZCAwLCJScyIsMl0sUExOOlt2b2lkIDAsInpcdTAxNDIiXSxQWUc6W3ZvaWQgMCwiXHUyMGIyIiwwXSxST046W3ZvaWQgMCwibGVpIl0sUlNEOlt2b2lkIDAsdm9pZCAwLDBdLFJVQjpbdm9pZCAwLCJcdTIwYmQiXSxSVVI6W3ZvaWQgMCwiXHUwNDQwLiJdLFJXRjpbdm9pZCAwLCJSRiIsMF0sU0JEOlt2b2lkIDAsIiQiXSxTRUs6W3ZvaWQgMCwia3IiLDJdLFNHRDpbdm9pZCAwLCIkIl0sU0hQOlt2b2lkIDAsIlx4YTMiXSxTTEw6W3ZvaWQgMCx2b2lkIDAsMF0sU09TOlt2b2lkIDAsdm9pZCAwLDBdLFNSRDpbdm9pZCAwLCIkIl0sU1NQOlt2b2lkIDAsIlx4YTMiXSxTVEQ6W3ZvaWQgMCx2b2lkIDAsMF0sU1ROOlt2b2lkIDAsIkRiIl0sU1lQOlt2b2lkIDAsIlx4YTMiLDBdLFRIQjpbdm9pZCAwLCJcdTBlM2YiXSxUTU06W3ZvaWQgMCx2b2lkIDAsMF0sVE5EOlt2b2lkIDAsdm9pZCAwLDNdLFRPUDpbdm9pZCAwLCJUJCJdLFRSTDpbdm9pZCAwLHZvaWQgMCwwXSxUUlk6W3ZvaWQgMCwiXHUyMGJhIl0sVFREOlt2b2lkIDAsIiQiXSxUV0Q6WyJOVCQiLCIkIiwyXSxUWlM6W3ZvaWQgMCx2b2lkIDAsMl0sVUFIOlt2b2lkIDAsIlx1MjBiNCJdLFVHWDpbdm9pZCAwLHZvaWQgMCwwXSxVU0Q6WyIkIl0sVVlJOlt2b2lkIDAsdm9pZCAwLDBdLFVZVTpbdm9pZCAwLCIkIl0sVVlXOlt2b2lkIDAsdm9pZCAwLDRdLFVaUzpbdm9pZCAwLHZvaWQgMCwyXSxWRUY6W3ZvaWQgMCwiQnMiLDJdLFZORDpbIlx1MjBhYiIsdm9pZCAwLDBdLFZVVjpbdm9pZCAwLHZvaWQgMCwwXSxYQUY6WyJGQ0ZBIix2b2lkIDAsMF0sWENEOlsiRUMkIiwiJCJdLFhPRjpbIkNGQSIsdm9pZCAwLDBdLFhQRjpbIkNGUEYiLHZvaWQgMCwwXSxYWFg6WyJceGE0Il0sWUVSOlt2b2lkIDAsdm9pZCAwLDBdLFpBUjpbdm9pZCAwLCJSIl0sWk1LOlt2b2lkIDAsdm9pZCAwLDBdLFpNVzpbdm9pZCAwLCJaSyJdLFpXRDpbdm9pZCAwLHZvaWQgMCwwXX07dmFyIGRjPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRGVjaW1hbD0wXT0iRGVjaW1hbCIsdFt0LlBlcmNlbnQ9MV09IlBlcmNlbnQiLHRbdC5DdXJyZW5jeT0yXT0iQ3VycmVuY3kiLHRbdC5TY2llbnRpZmljPTNdPSJTY2llbnRpZmljIix0fSh7fSkscGM9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5aZXJvPTBdPSJaZXJvIix0W3QuT25lPTFdPSJPbmUiLHRbdC5Ud289Ml09IlR3byIsdFt0LkZldz0zXT0iRmV3Iix0W3QuTWFueT00XT0iTWFueSIsdFt0Lk90aGVyPTVdPSJPdGhlciIsdH0oe30pLGZjPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRm9ybWF0PTBdPSJGb3JtYXQiLHRbdC5TdGFuZGFsb25lPTFdPSJTdGFuZGFsb25lIix0fSh7fSksZ2M9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5OYXJyb3c9MF09Ik5hcnJvdyIsdFt0LkFiYnJldmlhdGVkPTFdPSJBYmJyZXZpYXRlZCIsdFt0LldpZGU9Ml09IldpZGUiLHRbdC5TaG9ydD0zXT0iU2hvcnQiLHR9KHt9KSxtYz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LlNob3J0PTBdPSJTaG9ydCIsdFt0Lk1lZGl1bT0xXT0iTWVkaXVtIix0W3QuTG9uZz0yXT0iTG9uZyIsdFt0LkZ1bGw9M109IkZ1bGwiLHR9KHt9KSx5Yz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkRlY2ltYWw9MF09IkRlY2ltYWwiLHRbdC5Hcm91cD0xXT0iR3JvdXAiLHRbdC5MaXN0PTJdPSJMaXN0Iix0W3QuUGVyY2VudFNpZ249M109IlBlcmNlbnRTaWduIix0W3QuUGx1c1NpZ249NF09IlBsdXNTaWduIix0W3QuTWludXNTaWduPTVdPSJNaW51c1NpZ24iLHRbdC5FeHBvbmVudGlhbD02XT0iRXhwb25lbnRpYWwiLHRbdC5TdXBlcnNjcmlwdGluZ0V4cG9uZW50PTddPSJTdXBlcnNjcmlwdGluZ0V4cG9uZW50Iix0W3QuUGVyTWlsbGU9OF09IlBlck1pbGxlIix0W3RbMS8wXT05XT0iSW5maW5pdHkiLHRbdC5OYU49MTBdPSJOYU4iLHRbdC5UaW1lU2VwYXJhdG9yPTExXT0iVGltZVNlcGFyYXRvciIsdFt0LkN1cnJlbmN5RGVjaW1hbD0xMl09IkN1cnJlbmN5RGVjaW1hbCIsdFt0LkN1cnJlbmN5R3JvdXA9MTNdPSJDdXJyZW5jeUdyb3VwIix0fSh7fSk7ZnVuY3Rpb24gdmModCxlKXtyZXR1cm4gRWMoYWEodClbdWEuRGF0ZUZvcm1hdF0sZSl9ZnVuY3Rpb24gYmModCxlKXtyZXR1cm4gRWMoYWEodClbdWEuVGltZUZvcm1hdF0sZSl9ZnVuY3Rpb24gd2ModCxlKXtyZXR1cm4gRWMoYWEodClbdWEuRGF0ZVRpbWVGb3JtYXRdLGUpfWZ1bmN0aW9uIENjKHQsZSl7Y29uc3Qgbj1hYSh0KSxyPW5bdWEuTnVtYmVyU3ltYm9sc11bZV07aWYodm9pZCAwPT09cil7aWYoZT09PXljLkN1cnJlbmN5RGVjaW1hbClyZXR1cm4gblt1YS5OdW1iZXJTeW1ib2xzXVt5Yy5EZWNpbWFsXTtpZihlPT09eWMuQ3VycmVuY3lHcm91cClyZXR1cm4gblt1YS5OdW1iZXJTeW1ib2xzXVt5Yy5Hcm91cF19cmV0dXJuIHJ9ZnVuY3Rpb24gX2ModCxlKXtyZXR1cm4gYWEodClbdWEuTnVtYmVyRm9ybWF0c11bZV19ZnVuY3Rpb24gRGModCl7aWYoIXRbdWEuRXh0cmFEYXRhXSl0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgZXh0cmEgbG9jYWxlIGRhdGEgZm9yIHRoZSBsb2NhbGUgIiR7dFt1YS5Mb2NhbGVJZF19Ii4gVXNlICJyZWdpc3RlckxvY2FsZURhdGEiIHRvIGxvYWQgbmV3IGRhdGEuIFNlZSB0aGUgIkkxOG4gZ3VpZGUiIG9uIGFuZ3VsYXIuaW8gdG8ga25vdyBtb3JlLmApfWZ1bmN0aW9uIEVjKHQsZSl7Zm9yKGxldCBuPWU7bj4tMTtuLS0paWYodm9pZCAwIT09dFtuXSlyZXR1cm4gdFtuXTt0aHJvdyBuZXcgRXJyb3IoIkxvY2FsZSBkYXRhIEFQSTogbG9jYWxlIGRhdGEgdW5kZWZpbmVkIil9ZnVuY3Rpb24gU2ModCl7Y29uc3RbZSxuXT10LnNwbGl0KCI6Iik7cmV0dXJue2hvdXJzOitlLG1pbnV0ZXM6K259fWNvbnN0IHhjPS9eKFxkezR9KS0/KFxkXGQpLT8oXGRcZCkoPzpUKFxkXGQpKD86Oj8oXGRcZCkoPzo6PyhcZFxkKSg/OlwuKFxkKykpPyk/KT8oWnwoWystXSkoXGRcZCk6PyhcZFxkKSk/KT8kLyxBYz17fSxUYz0vKCg/OlteQkVHSExNT1NXWVphYmNkaG1zd3l6J10rKXwoPzonKD86W14nXXwnJykqJyl8KD86R3sxLDV9fHl7MSw0fXxZezEsNH18TXsxLDV9fEx7MSw1fXx3ezEsMn18V3sxfXxkezEsMn18RXsxLDZ9fGN7MSw2fXxhezEsNX18YnsxLDV9fEJ7MSw1fXxoezEsMn18SHsxLDJ9fG17MSwyfXxzezEsMn18U3sxLDN9fHp7MSw0fXxaezEsNX18T3sxLDR9KSkoW1xzXFNdKikvO3ZhciBPYz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LlNob3J0PTBdPSJTaG9ydCIsdFt0LlNob3J0R01UPTFdPSJTaG9ydEdNVCIsdFt0Lkxvbmc9Ml09IkxvbmciLHRbdC5FeHRlbmRlZD0zXT0iRXh0ZW5kZWQiLHR9KHt9KSxGYz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkZ1bGxZZWFyPTBdPSJGdWxsWWVhciIsdFt0Lk1vbnRoPTFdPSJNb250aCIsdFt0LkRhdGU9Ml09IkRhdGUiLHRbdC5Ib3Vycz0zXT0iSG91cnMiLHRbdC5NaW51dGVzPTRdPSJNaW51dGVzIix0W3QuU2Vjb25kcz01XT0iU2Vjb25kcyIsdFt0LkZyYWN0aW9uYWxTZWNvbmRzPTZdPSJGcmFjdGlvbmFsU2Vjb25kcyIsdFt0LkRheT03XT0iRGF5Iix0fSh7fSksa2M9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5EYXlQZXJpb2RzPTBdPSJEYXlQZXJpb2RzIix0W3QuRGF5cz0xXT0iRGF5cyIsdFt0Lk1vbnRocz0yXT0iTW9udGhzIix0W3QuRXJhcz0zXT0iRXJhcyIsdH0oe30pO2Z1bmN0aW9uIEljKHQsZSxuLHIpe2xldCBzPWZ1bmN0aW9uKHQpe2lmKHFjKHQpKXJldHVybiB0O2lmKCJudW1iZXIiPT10eXBlb2YgdCYmIWlzTmFOKHQpKXJldHVybiBuZXcgRGF0ZSh0KTtpZigic3RyaW5nIj09dHlwZW9mIHQpe2lmKHQ9dC50cmltKCksL14oXGR7NH0oLVxkezEsMn0oLVxkezEsMn0pPyk/KSQvLnRlc3QodCkpe2NvbnN0W2Usbj0xLHI9MV09dC5zcGxpdCgiLSIpLm1hcCh0PT4rdCk7cmV0dXJuIFJjKGUsbi0xLHIpfWNvbnN0IGU9cGFyc2VGbG9hdCh0KTtpZighaXNOYU4odC1lKSlyZXR1cm4gbmV3IERhdGUoZSk7bGV0IG47aWYobj10Lm1hdGNoKHhjKSlyZXR1cm4gZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgRGF0ZSgwKTtsZXQgbj0wLHI9MDtjb25zdCBzPXRbOF0/ZS5zZXRVVENGdWxsWWVhcjplLnNldEZ1bGxZZWFyLGk9dFs4XT9lLnNldFVUQ0hvdXJzOmUuc2V0SG91cnM7dFs5XSYmKG49TnVtYmVyKHRbOV0rdFsxMF0pLHI9TnVtYmVyKHRbOV0rdFsxMV0pKSxzLmNhbGwoZSxOdW1iZXIodFsxXSksTnVtYmVyKHRbMl0pLTEsTnVtYmVyKHRbM10pKTtjb25zdCBvPU51bWJlcih0WzRdfHwwKS1uLGE9TnVtYmVyKHRbNV18fDApLXIsbD1OdW1iZXIodFs2XXx8MCksdT1NYXRoLmZsb29yKDFlMypwYXJzZUZsb2F0KCIwLiIrKHRbN118fDApKSk7cmV0dXJuIGkuY2FsbChlLG8sYSxsLHUpLGV9KG4pfWNvbnN0IGU9bmV3IERhdGUodCk7aWYoIXFjKGUpKXRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNvbnZlcnQgIiR7dH0iIGludG8gYSBkYXRlYCk7cmV0dXJuIGV9KHQpO2U9UGMobixlKXx8ZTtsZXQgaSxvPVtdO2Zvcig7ZTspe2lmKGk9VGMuZXhlYyhlKSwhaSl7by5wdXNoKGUpO2JyZWFrfXtvPW8uY29uY2F0KGkuc2xpY2UoMSkpO2NvbnN0IHQ9by5wb3AoKTtpZighdClicmVhaztlPXR9fWxldCBhPXMuZ2V0VGltZXpvbmVPZmZzZXQoKTtyJiYoYT16YyhyLGEpLHM9ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9dC5nZXRUaW1lem9uZU9mZnNldCgpO3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybih0PW5ldyBEYXRlKHQuZ2V0VGltZSgpKSkuc2V0TWludXRlcyh0LmdldE1pbnV0ZXMoKStlKSx0fSh0LC0xKih6YyhlLHIpLXIpKX0ocyxyKSk7bGV0IGw9IiI7cmV0dXJuIG8uZm9yRWFjaCh0PT57Y29uc3QgZT1mdW5jdGlvbih0KXtpZigkY1t0XSlyZXR1cm4gJGNbdF07bGV0IGU7c3dpdGNoKHQpe2Nhc2UiRyI6Y2FzZSJHRyI6Y2FzZSJHR0ciOmU9TWMoa2MuRXJhcyxnYy5BYmJyZXZpYXRlZCk7YnJlYWs7Y2FzZSJHR0dHIjplPU1jKGtjLkVyYXMsZ2MuV2lkZSk7YnJlYWs7Y2FzZSJHR0dHRyI6ZT1NYyhrYy5FcmFzLGdjLk5hcnJvdyk7YnJlYWs7Y2FzZSJ5IjplPWpjKEZjLkZ1bGxZZWFyLDEsMCwhMSwhMCk7YnJlYWs7Y2FzZSJ5eSI6ZT1qYyhGYy5GdWxsWWVhciwyLDAsITAsITApO2JyZWFrO2Nhc2UieXl5IjplPWpjKEZjLkZ1bGxZZWFyLDMsMCwhMSwhMCk7YnJlYWs7Y2FzZSJ5eXl5IjplPWpjKEZjLkZ1bGxZZWFyLDQsMCwhMSwhMCk7YnJlYWs7Y2FzZSJZIjplPVVjKDEpO2JyZWFrO2Nhc2UiWVkiOmU9VWMoMiwhMCk7YnJlYWs7Y2FzZSJZWVkiOmU9VWMoMyk7YnJlYWs7Y2FzZSJZWVlZIjplPVVjKDQpO2JyZWFrO2Nhc2UiTSI6Y2FzZSJMIjplPWpjKEZjLk1vbnRoLDEsMSk7YnJlYWs7Y2FzZSJNTSI6Y2FzZSJMTCI6ZT1qYyhGYy5Nb250aCwyLDEpO2JyZWFrO2Nhc2UiTU1NIjplPU1jKGtjLk1vbnRocyxnYy5BYmJyZXZpYXRlZCk7YnJlYWs7Y2FzZSJNTU1NIjplPU1jKGtjLk1vbnRocyxnYy5XaWRlKTticmVhaztjYXNlIk1NTU1NIjplPU1jKGtjLk1vbnRocyxnYy5OYXJyb3cpO2JyZWFrO2Nhc2UiTExMIjplPU1jKGtjLk1vbnRocyxnYy5BYmJyZXZpYXRlZCxmYy5TdGFuZGFsb25lKTticmVhaztjYXNlIkxMTEwiOmU9TWMoa2MuTW9udGhzLGdjLldpZGUsZmMuU3RhbmRhbG9uZSk7YnJlYWs7Y2FzZSJMTExMTCI6ZT1NYyhrYy5Nb250aHMsZ2MuTmFycm93LGZjLlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UidyI6ZT1IYygxKTticmVhaztjYXNlInd3IjplPUhjKDIpO2JyZWFrO2Nhc2UiVyI6ZT1IYygxLCEwKTticmVhaztjYXNlImQiOmU9amMoRmMuRGF0ZSwxKTticmVhaztjYXNlImRkIjplPWpjKEZjLkRhdGUsMik7YnJlYWs7Y2FzZSJjIjpjYXNlImNjIjplPWpjKEZjLkRheSwxKTticmVhaztjYXNlImNjYyI6ZT1NYyhrYy5EYXlzLGdjLkFiYnJldmlhdGVkLGZjLlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UiY2NjYyI6ZT1NYyhrYy5EYXlzLGdjLldpZGUsZmMuU3RhbmRhbG9uZSk7YnJlYWs7Y2FzZSJjY2NjYyI6ZT1NYyhrYy5EYXlzLGdjLk5hcnJvdyxmYy5TdGFuZGFsb25lKTticmVhaztjYXNlImNjY2NjYyI6ZT1NYyhrYy5EYXlzLGdjLlNob3J0LGZjLlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UiRSI6Y2FzZSJFRSI6Y2FzZSJFRUUiOmU9TWMoa2MuRGF5cyxnYy5BYmJyZXZpYXRlZCk7YnJlYWs7Y2FzZSJFRUVFIjplPU1jKGtjLkRheXMsZ2MuV2lkZSk7YnJlYWs7Y2FzZSJFRUVFRSI6ZT1NYyhrYy5EYXlzLGdjLk5hcnJvdyk7YnJlYWs7Y2FzZSJFRUVFRUUiOmU9TWMoa2MuRGF5cyxnYy5TaG9ydCk7YnJlYWs7Y2FzZSJhIjpjYXNlImFhIjpjYXNlImFhYSI6ZT1NYyhrYy5EYXlQZXJpb2RzLGdjLkFiYnJldmlhdGVkKTticmVhaztjYXNlImFhYWEiOmU9TWMoa2MuRGF5UGVyaW9kcyxnYy5XaWRlKTticmVhaztjYXNlImFhYWFhIjplPU1jKGtjLkRheVBlcmlvZHMsZ2MuTmFycm93KTticmVhaztjYXNlImIiOmNhc2UiYmIiOmNhc2UiYmJiIjplPU1jKGtjLkRheVBlcmlvZHMsZ2MuQWJicmV2aWF0ZWQsZmMuU3RhbmRhbG9uZSwhMCk7YnJlYWs7Y2FzZSJiYmJiIjplPU1jKGtjLkRheVBlcmlvZHMsZ2MuV2lkZSxmYy5TdGFuZGFsb25lLCEwKTticmVhaztjYXNlImJiYmJiIjplPU1jKGtjLkRheVBlcmlvZHMsZ2MuTmFycm93LGZjLlN0YW5kYWxvbmUsITApO2JyZWFrO2Nhc2UiQiI6Y2FzZSJCQiI6Y2FzZSJCQkIiOmU9TWMoa2MuRGF5UGVyaW9kcyxnYy5BYmJyZXZpYXRlZCxmYy5Gb3JtYXQsITApO2JyZWFrO2Nhc2UiQkJCQiI6ZT1NYyhrYy5EYXlQZXJpb2RzLGdjLldpZGUsZmMuRm9ybWF0LCEwKTticmVhaztjYXNlIkJCQkJCIjplPU1jKGtjLkRheVBlcmlvZHMsZ2MuTmFycm93LGZjLkZvcm1hdCwhMCk7YnJlYWs7Y2FzZSJoIjplPWpjKEZjLkhvdXJzLDEsLTEyKTticmVhaztjYXNlImhoIjplPWpjKEZjLkhvdXJzLDIsLTEyKTticmVhaztjYXNlIkgiOmU9amMoRmMuSG91cnMsMSk7YnJlYWs7Y2FzZSJISCI6ZT1qYyhGYy5Ib3VycywyKTticmVhaztjYXNlIm0iOmU9amMoRmMuTWludXRlcywxKTticmVhaztjYXNlIm1tIjplPWpjKEZjLk1pbnV0ZXMsMik7YnJlYWs7Y2FzZSJzIjplPWpjKEZjLlNlY29uZHMsMSk7YnJlYWs7Y2FzZSJzcyI6ZT1qYyhGYy5TZWNvbmRzLDIpO2JyZWFrO2Nhc2UiUyI6ZT1qYyhGYy5GcmFjdGlvbmFsU2Vjb25kcywxKTticmVhaztjYXNlIlNTIjplPWpjKEZjLkZyYWN0aW9uYWxTZWNvbmRzLDIpO2JyZWFrO2Nhc2UiU1NTIjplPWpjKEZjLkZyYWN0aW9uYWxTZWNvbmRzLDMpO2JyZWFrO2Nhc2UiWiI6Y2FzZSJaWiI6Y2FzZSJaWloiOmU9VmMoT2MuU2hvcnQpO2JyZWFrO2Nhc2UiWlpaWloiOmU9VmMoT2MuRXh0ZW5kZWQpO2JyZWFrO2Nhc2UiTyI6Y2FzZSJPTyI6Y2FzZSJPT08iOmNhc2UieiI6Y2FzZSJ6eiI6Y2FzZSJ6enoiOmU9VmMoT2MuU2hvcnRHTVQpO2JyZWFrO2Nhc2UiT09PTyI6Y2FzZSJaWlpaIjpjYXNlInp6enoiOmU9VmMoT2MuTG9uZyk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gbnVsbH1yZXR1cm4gJGNbdF09ZSxlfSh0KTtsKz1lP2UocyxuLGEpOiInJyI9PT10PyInIjp0LnJlcGxhY2UoLyheJ3wnJCkvZywiIikucmVwbGFjZSgvJycvZywiJyIpfSksbH1mdW5jdGlvbiBSYyh0LGUsbil7Y29uc3Qgcj1uZXcgRGF0ZSgwKTtyZXR1cm4gci5zZXRGdWxsWWVhcih0LGUsbiksci5zZXRIb3VycygwLDAsMCkscn1mdW5jdGlvbiBQYyh0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCl7cmV0dXJuIGFhKHQpW3VhLkxvY2FsZUlkXX0odCk7aWYoQWNbbl09QWNbbl18fHt9LEFjW25dW2VdKXJldHVybiBBY1tuXVtlXTtsZXQgcj0iIjtzd2l0Y2goZSl7Y2FzZSJzaG9ydERhdGUiOnI9dmModCxtYy5TaG9ydCk7YnJlYWs7Y2FzZSJtZWRpdW1EYXRlIjpyPXZjKHQsbWMuTWVkaXVtKTticmVhaztjYXNlImxvbmdEYXRlIjpyPXZjKHQsbWMuTG9uZyk7YnJlYWs7Y2FzZSJmdWxsRGF0ZSI6cj12Yyh0LG1jLkZ1bGwpO2JyZWFrO2Nhc2Uic2hvcnRUaW1lIjpyPWJjKHQsbWMuU2hvcnQpO2JyZWFrO2Nhc2UibWVkaXVtVGltZSI6cj1iYyh0LG1jLk1lZGl1bSk7YnJlYWs7Y2FzZSJsb25nVGltZSI6cj1iYyh0LG1jLkxvbmcpO2JyZWFrO2Nhc2UiZnVsbFRpbWUiOnI9YmModCxtYy5GdWxsKTticmVhaztjYXNlInNob3J0Ijpjb25zdCBlPVBjKHQsInNob3J0VGltZSIpLG49UGModCwic2hvcnREYXRlIik7cj1MYyh3Yyh0LG1jLlNob3J0KSxbZSxuXSk7YnJlYWs7Y2FzZSJtZWRpdW0iOmNvbnN0IHM9UGModCwibWVkaXVtVGltZSIpLGk9UGModCwibWVkaXVtRGF0ZSIpO3I9TGMod2ModCxtYy5NZWRpdW0pLFtzLGldKTticmVhaztjYXNlImxvbmciOmNvbnN0IG89UGModCwibG9uZ1RpbWUiKSxhPVBjKHQsImxvbmdEYXRlIik7cj1MYyh3Yyh0LG1jLkxvbmcpLFtvLGFdKTticmVhaztjYXNlImZ1bGwiOmNvbnN0IGw9UGModCwiZnVsbFRpbWUiKSx1PVBjKHQsImZ1bGxEYXRlIik7cj1MYyh3Yyh0LG1jLkZ1bGwpLFtsLHVdKX1yZXR1cm4gciYmKEFjW25dW2VdPXIpLHJ9ZnVuY3Rpb24gTGModCxlKXtyZXR1cm4gZSYmKHQ9dC5yZXBsYWNlKC9ceyhbXn1dKyl9L2csZnVuY3Rpb24odCxuKXtyZXR1cm4gbnVsbCE9ZSYmbiBpbiBlP2Vbbl06dH0pKSx0fWZ1bmN0aW9uIE5jKHQsZSxuPSItIixyLHMpe2xldCBpPSIiOyh0PDB8fHMmJnQ8PTApJiYocz90PTEtdDoodD0tdCxpPW4pKTtsZXQgbz1TdHJpbmcodCk7Zm9yKDtvLmxlbmd0aDxlOylvPSIwIitvO3JldHVybiByJiYobz1vLnN1YnN0cihvLmxlbmd0aC1lKSksaStvfWZ1bmN0aW9uIGpjKHQsZSxuPTAscj0hMSxzPSExKXtyZXR1cm4gZnVuY3Rpb24oaSxvKXtsZXQgYT1mdW5jdGlvbih0LGUpe3N3aXRjaCh0KXtjYXNlIEZjLkZ1bGxZZWFyOnJldHVybiBlLmdldEZ1bGxZZWFyKCk7Y2FzZSBGYy5Nb250aDpyZXR1cm4gZS5nZXRNb250aCgpO2Nhc2UgRmMuRGF0ZTpyZXR1cm4gZS5nZXREYXRlKCk7Y2FzZSBGYy5Ib3VyczpyZXR1cm4gZS5nZXRIb3VycygpO2Nhc2UgRmMuTWludXRlczpyZXR1cm4gZS5nZXRNaW51dGVzKCk7Y2FzZSBGYy5TZWNvbmRzOnJldHVybiBlLmdldFNlY29uZHMoKTtjYXNlIEZjLkZyYWN0aW9uYWxTZWNvbmRzOnJldHVybiBlLmdldE1pbGxpc2Vjb25kcygpO2Nhc2UgRmMuRGF5OnJldHVybiBlLmdldERheSgpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIERhdGVUeXBlIHZhbHVlICIke3R9Ii5gKX19KHQsaSk7aWYoKG4+MHx8YT4tbikmJihhKz1uKSx0PT09RmMuSG91cnMpMD09PWEmJi0xMj09PW4mJihhPTEyKTtlbHNlIGlmKHQ9PT1GYy5GcmFjdGlvbmFsU2Vjb25kcylyZXR1cm4gbD1lLE5jKGEsMykuc3Vic3RyKDAsbCk7dmFyIGw7Y29uc3QgdT1DYyhvLHljLk1pbnVzU2lnbik7cmV0dXJuIE5jKGEsZSx1LHIscyl9fWZ1bmN0aW9uIE1jKHQsZSxuPWZjLkZvcm1hdCxyPSExKXtyZXR1cm4gZnVuY3Rpb24ocyxpKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4scixzLGkpe3N3aXRjaChuKXtjYXNlIGtjLk1vbnRoczpyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9YWEodCkscz1FYyhbclt1YS5Nb250aHNGb3JtYXRdLHJbdWEuTW9udGhzU3RhbmRhbG9uZV1dLGUpO3JldHVybiBFYyhzLG4pfShlLHMscilbdC5nZXRNb250aCgpXTtjYXNlIGtjLkRheXM6cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPWFhKHQpLHM9RWMoW3JbdWEuRGF5c0Zvcm1hdF0sclt1YS5EYXlzU3RhbmRhbG9uZV1dLGUpO3JldHVybiBFYyhzLG4pfShlLHMscilbdC5nZXREYXkoKV07Y2FzZSBrYy5EYXlQZXJpb2RzOmNvbnN0IG89dC5nZXRIb3VycygpLGE9dC5nZXRNaW51dGVzKCk7aWYoaSl7Y29uc3QgdD1mdW5jdGlvbih0KXtjb25zdCBlPWFhKHQpO3JldHVybiBEYyhlKSwoZVt1YS5FeHRyYURhdGFdWzJdfHxbXSkubWFwKHQ9PiJzdHJpbmciPT10eXBlb2YgdD9TYyh0KTpbU2ModFswXSksU2ModFsxXSldKX0oZSksbj1mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1hYSh0KTtEYyhyKTtjb25zdCBzPUVjKFtyW3VhLkV4dHJhRGF0YV1bMF0sclt1YS5FeHRyYURhdGFdWzFdXSxlKXx8W107cmV0dXJuIEVjKHMsbil8fFtdfShlLHMsciksaT10LmZpbmRJbmRleCh0PT57aWYoQXJyYXkuaXNBcnJheSh0KSl7Y29uc3RbZSxuXT10LHI9bz49ZS5ob3VycyYmYT49ZS5taW51dGVzLHM9bzxuLmhvdXJzfHxvPT09bi5ob3VycyYmYTxuLm1pbnV0ZXM7aWYoZS5ob3VyczxuLmhvdXJzKXtpZihyJiZzKXJldHVybiEwfWVsc2UgaWYocnx8cylyZXR1cm4hMH1lbHNlIGlmKHQuaG91cnM9PT1vJiZ0Lm1pbnV0ZXM9PT1hKXJldHVybiEwO3JldHVybiExfSk7aWYoLTEhPT1pKXJldHVybiBuW2ldfXJldHVybiBmdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1hYSh0KSxzPUVjKFtyW3VhLkRheVBlcmlvZHNGb3JtYXRdLHJbdWEuRGF5UGVyaW9kc1N0YW5kYWxvbmVdXSxlKTtyZXR1cm4gRWMocyxuKX0oZSxzLHIpW288MTI/MDoxXTtjYXNlIGtjLkVyYXM6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIEVjKGFhKHQpW3VhLkVyYXNdLGUpfShlLHIpW3QuZ2V0RnVsbFllYXIoKTw9MD8wOjFdO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bmV4cGVjdGVkIHRyYW5zbGF0aW9uIHR5cGUgJHtufWApfX0ocyxpLHQsZSxuLHIpfX1mdW5jdGlvbiBWYyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHIpe2NvbnN0IHM9LTEqcixpPUNjKG4seWMuTWludXNTaWduKSxvPXM+MD9NYXRoLmZsb29yKHMvNjApOk1hdGguY2VpbChzLzYwKTtzd2l0Y2godCl7Y2FzZSBPYy5TaG9ydDpyZXR1cm4ocz49MD8iKyI6IiIpK05jKG8sMixpKStOYyhNYXRoLmFicyhzJTYwKSwyLGkpO2Nhc2UgT2MuU2hvcnRHTVQ6cmV0dXJuIkdNVCIrKHM+PTA/IisiOiIiKStOYyhvLDEsaSk7Y2FzZSBPYy5Mb25nOnJldHVybiJHTVQiKyhzPj0wPyIrIjoiIikrTmMobywyLGkpKyI6IitOYyhNYXRoLmFicyhzJTYwKSwyLGkpO2Nhc2UgT2MuRXh0ZW5kZWQ6cmV0dXJuIDA9PT1yPyJaIjoocz49MD8iKyI6IiIpK05jKG8sMixpKSsiOiIrTmMoTWF0aC5hYnMocyU2MCksMixpKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biB6b25lIHdpZHRoICIke3R9ImApfX19ZnVuY3Rpb24gQmModCl7cmV0dXJuIFJjKHQuZ2V0RnVsbFllYXIoKSx0LmdldE1vbnRoKCksdC5nZXREYXRlKCkrKDQtdC5nZXREYXkoKSkpfWZ1bmN0aW9uIEhjKHQsZT0hMSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7bGV0IHM7aWYoZSl7Y29uc3QgdD1uZXcgRGF0ZShuLmdldEZ1bGxZZWFyKCksbi5nZXRNb250aCgpLDEpLmdldERheSgpLTEsZT1uLmdldERhdGUoKTtzPTErTWF0aC5mbG9vcigoZSt0KS83KX1lbHNle2NvbnN0IHQ9QmMobiksZT1mdW5jdGlvbih0KXtjb25zdCBlPVJjKHQsMCwxKS5nZXREYXkoKTtyZXR1cm4gUmModCwwLDErKGU8PTQ/NDoxMSktZSl9KHQuZ2V0RnVsbFllYXIoKSkscj10LmdldFRpbWUoKS1lLmdldFRpbWUoKTtzPTErTWF0aC5yb3VuZChyLzYwNDhlNSl9cmV0dXJuIE5jKHMsdCxDYyhyLHljLk1pbnVzU2lnbikpfX1mdW5jdGlvbiBVYyh0LGU9ITEpe3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBOYyhCYyhuKS5nZXRGdWxsWWVhcigpLHQsQ2Mocix5Yy5NaW51c1NpZ24pLGUpfX1jb25zdCAkYz17fTtmdW5jdGlvbiB6Yyh0LGUpe3Q9dC5yZXBsYWNlKC86L2csIiIpO2NvbnN0IG49RGF0ZS5wYXJzZSgiSmFuIDAxLCAxOTcwIDAwOjAwOjAwICIrdCkvNmU0O3JldHVybiBpc05hTihuKT9lOm59ZnVuY3Rpb24gcWModCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBEYXRlJiYhaXNOYU4odC52YWx1ZU9mKCkpfWNvbnN0IFdjPS9eKFxkKyk/XC4oKFxkKykoLShcZCspKT8pPyQvLEdjPSIuIixaYz0iMCI7ZnVuY3Rpb24gWWModCxlLG4scixzLGksbz0hMSl7bGV0IGE9IiIsbD0hMTtpZihpc0Zpbml0ZSh0KSl7bGV0IHU9ZnVuY3Rpb24odCl7bGV0IGUsbixyLHMsaSxvPU1hdGguYWJzKHQpKyIiLGE9MDtmb3IoKG49by5pbmRleE9mKEdjKSk+LTEmJihvPW8ucmVwbGFjZShHYywiIikpLChyPW8uc2VhcmNoKC9lL2kpKT4wPyhuPDAmJihuPXIpLG4rPStvLnNsaWNlKHIrMSksbz1vLnN1YnN0cmluZygwLHIpKTpuPDAmJihuPW8ubGVuZ3RoKSxyPTA7by5jaGFyQXQocik9PT1aYztyKyspO2lmKHI9PT0oaT1vLmxlbmd0aCkpZT1bMF0sbj0xO2Vsc2V7Zm9yKGktLTtvLmNoYXJBdChpKT09PVpjOylpLS07Zm9yKG4tPXIsZT1bXSxzPTA7cjw9aTtyKysscysrKWVbc109TnVtYmVyKG8uY2hhckF0KHIpKX1yZXR1cm4gbj4yMiYmKGU9ZS5zcGxpY2UoMCwyMSksYT1uLTEsbj0xKSx7ZGlnaXRzOmUsZXhwb25lbnQ6YSxpbnRlZ2VyTGVuOm59fSh0KTtvJiYodT1mdW5jdGlvbih0KXtpZigwPT09dC5kaWdpdHNbMF0pcmV0dXJuIHQ7Y29uc3QgZT10LmRpZ2l0cy5sZW5ndGgtdC5pbnRlZ2VyTGVuO3JldHVybiB0LmV4cG9uZW50P3QuZXhwb25lbnQrPTI6KDA9PT1lP3QuZGlnaXRzLnB1c2goMCwwKToxPT09ZSYmdC5kaWdpdHMucHVzaCgwKSx0LmludGVnZXJMZW4rPTIpLHR9KHUpKTtsZXQgYz1lLm1pbkludCxoPWUubWluRnJhYyxkPWUubWF4RnJhYztpZihpKXtjb25zdCB0PWkubWF0Y2goV2MpO2lmKG51bGw9PT10KXRocm93IG5ldyBFcnJvcihgJHtpfSBpcyBub3QgYSB2YWxpZCBkaWdpdCBpbmZvYCk7Y29uc3QgZT10WzFdLG49dFszXSxyPXRbNV07bnVsbCE9ZSYmKGM9UWMoZSkpLG51bGwhPW4mJihoPVFjKG4pKSxudWxsIT1yP2Q9UWMocik6bnVsbCE9biYmaD5kJiYoZD1oKX0hZnVuY3Rpb24odCxlLG4pe2lmKGU+bil0aHJvdyBuZXcgRXJyb3IoYFRoZSBtaW5pbXVtIG51bWJlciBvZiBkaWdpdHMgYWZ0ZXIgZnJhY3Rpb24gKCR7ZX0pIGlzIGhpZ2hlciB0aGFuIHRoZSBtYXhpbXVtICgke259KS5gKTtsZXQgcj10LmRpZ2l0cyxzPXIubGVuZ3RoLXQuaW50ZWdlckxlbjtjb25zdCBpPU1hdGgubWluKE1hdGgubWF4KGUscyksbik7bGV0IG89aSt0LmludGVnZXJMZW4sYT1yW29dO2lmKG8+MCl7ci5zcGxpY2UoTWF0aC5tYXgodC5pbnRlZ2VyTGVuLG8pKTtmb3IobGV0IHQ9bzt0PHIubGVuZ3RoO3QrKylyW3RdPTB9ZWxzZXtzPU1hdGgubWF4KDAscyksdC5pbnRlZ2VyTGVuPTEsci5sZW5ndGg9TWF0aC5tYXgoMSxvPWkrMSksclswXT0wO2ZvcihsZXQgdD0xO3Q8bzt0Kyspclt0XT0wfWlmKGE+PTUpaWYoby0xPDApe2ZvcihsZXQgZT0wO2U+bztlLS0pci51bnNoaWZ0KDApLHQuaW50ZWdlckxlbisrO3IudW5zaGlmdCgxKSx0LmludGVnZXJMZW4rK31lbHNlIHJbby0xXSsrO2Zvcig7czxNYXRoLm1heCgwLGkpO3MrKylyLnB1c2goMCk7bGV0IGw9MCE9PWk7Y29uc3QgdT1lK3QuaW50ZWdlckxlbixjPXIucmVkdWNlUmlnaHQoZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHJbbl09KGUrPXQpPDEwP2U6ZS0xMCxsJiYoMD09PXJbbl0mJm4+PXU/ci5wb3AoKTpsPSExKSxlPj0xMD8xOjB9LDApO2MmJihyLnVuc2hpZnQoYyksdC5pbnRlZ2VyTGVuKyspfSh1LGgsZCk7bGV0IHA9dS5kaWdpdHMsZj11LmludGVnZXJMZW47Y29uc3QgZz11LmV4cG9uZW50O2xldCBtPVtdO2ZvcihsPXAuZXZlcnkodD0+IXQpO2Y8YztmKyspcC51bnNoaWZ0KDApO2Zvcig7ZjwwO2YrKylwLnVuc2hpZnQoMCk7Zj4wP209cC5zcGxpY2UoZixwLmxlbmd0aCk6KG09cCxwPVswXSk7Y29uc3QgeT1bXTtmb3IocC5sZW5ndGg+PWUubGdTaXplJiZ5LnVuc2hpZnQocC5zcGxpY2UoLWUubGdTaXplLHAubGVuZ3RoKS5qb2luKCIiKSk7cC5sZW5ndGg+ZS5nU2l6ZTspeS51bnNoaWZ0KHAuc3BsaWNlKC1lLmdTaXplLHAubGVuZ3RoKS5qb2luKCIiKSk7cC5sZW5ndGgmJnkudW5zaGlmdChwLmpvaW4oIiIpKSxhPXkuam9pbihDYyhuLHIpKSxtLmxlbmd0aCYmKGErPUNjKG4scykrbS5qb2luKCIiKSksZyYmKGErPUNjKG4seWMuRXhwb25lbnRpYWwpKyIrIitnKX1lbHNlIGE9Q2Mobix5Yy5JbmZpbml0eSk7cmV0dXJuIGE9dDwwJiYhbD9lLm5lZ1ByZSthK2UubmVnU3VmOmUucG9zUHJlK2ErZS5wb3NTdWYsYX1mdW5jdGlvbiBLYyh0LGU9Ii0iKXtjb25zdCBuPXttaW5JbnQ6MSxtaW5GcmFjOjAsbWF4RnJhYzowLHBvc1ByZToiIixwb3NTdWY6IiIsbmVnUHJlOiIiLG5lZ1N1ZjoiIixnU2l6ZTowLGxnU2l6ZTowfSxyPXQuc3BsaXQoIjsiKSxzPXJbMF0saT1yWzFdLG89LTEhPT1zLmluZGV4T2YoR2MpP3Muc3BsaXQoR2MpOltzLnN1YnN0cmluZygwLHMubGFzdEluZGV4T2YoWmMpKzEpLHMuc3Vic3RyaW5nKHMubGFzdEluZGV4T2YoWmMpKzEpXSxhPW9bMF0sbD1vWzFdfHwiIjtuLnBvc1ByZT1hLnN1YnN0cigwLGEuaW5kZXhPZigiIyIpKTtmb3IobGV0IGM9MDtjPGwubGVuZ3RoO2MrKyl7Y29uc3QgdD1sLmNoYXJBdChjKTt0PT09WmM/bi5taW5GcmFjPW4ubWF4RnJhYz1jKzE6IiMiPT09dD9uLm1heEZyYWM9YysxOm4ucG9zU3VmKz10fWNvbnN0IHU9YS5zcGxpdCgiLCIpO2lmKG4uZ1NpemU9dVsxXT91WzFdLmxlbmd0aDowLG4ubGdTaXplPXVbMl18fHVbMV0/KHVbMl18fHVbMV0pLmxlbmd0aDowLGkpe2NvbnN0IHQ9cy5sZW5ndGgtbi5wb3NQcmUubGVuZ3RoLW4ucG9zU3VmLmxlbmd0aCxlPWkuaW5kZXhPZigiIyIpO24ubmVnUHJlPWkuc3Vic3RyKDAsZSkucmVwbGFjZSgvJy9nLCIiKSxuLm5lZ1N1Zj1pLnN1YnN0cihlK3QpLnJlcGxhY2UoLycvZywiIil9ZWxzZSBuLm5lZ1ByZT1lK24ucG9zUHJlLG4ubmVnU3VmPW4ucG9zU3VmO3JldHVybiBufWZ1bmN0aW9uIFFjKHQpe2NvbnN0IGU9cGFyc2VJbnQodCk7aWYoaXNOYU4oZSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGludGVnZXIgbGl0ZXJhbCB3aGVuIHBhcnNpbmcgIit0KTtyZXR1cm4gZX1jbGFzcyBYY3t9bGV0IEpjPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBYY3tjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMubG9jYWxlPXR9Z2V0UGx1cmFsQ2F0ZWdvcnkodCxlKXtzd2l0Y2goZnVuY3Rpb24odCl7cmV0dXJuIGFhKHQpW3VhLlBsdXJhbENhc2VdfShlfHx0aGlzLmxvY2FsZSkodCkpe2Nhc2UgcGMuWmVybzpyZXR1cm4iemVybyI7Y2FzZSBwYy5PbmU6cmV0dXJuIm9uZSI7Y2FzZSBwYy5Ud286cmV0dXJuInR3byI7Y2FzZSBwYy5GZXc6cmV0dXJuImZldyI7Y2FzZSBwYy5NYW55OnJldHVybiJtYW55IjtkZWZhdWx0OnJldHVybiJvdGhlciJ9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihydSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2Z1bmN0aW9uIHRoKHQsZSl7ZT1lbmNvZGVVUklDb21wb25lbnQoZSk7Zm9yKGNvbnN0IG4gb2YgdC5zcGxpdCgiOyIpKXtjb25zdCB0PW4uaW5kZXhPZigiPSIpLFtyLHNdPS0xPT10P1tuLCIiXTpbbi5zbGljZSgwLHQpLG4uc2xpY2UodCsxKV07aWYoci50cmltKCk9PT1lKXJldHVybiBkZWNvZGVVUklDb21wb25lbnQocyl9cmV0dXJuIG51bGx9bGV0IGVoPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4scil7dGhpcy5faXRlcmFibGVEaWZmZXJzPXQsdGhpcy5fa2V5VmFsdWVEaWZmZXJzPWUsdGhpcy5fbmdFbD1uLHRoaXMuX3JlbmRlcmVyPXIsdGhpcy5faXRlcmFibGVEaWZmZXI9bnVsbCx0aGlzLl9rZXlWYWx1ZURpZmZlcj1udWxsLHRoaXMuX2luaXRpYWxDbGFzc2VzPVtdLHRoaXMuX3Jhd0NsYXNzPW51bGx9c2V0IGtsYXNzKHQpe3RoaXMuX3JlbW92ZUNsYXNzZXModGhpcy5faW5pdGlhbENsYXNzZXMpLHRoaXMuX2luaXRpYWxDbGFzc2VzPSJzdHJpbmciPT10eXBlb2YgdD90LnNwbGl0KC9ccysvKTpbXSx0aGlzLl9hcHBseUNsYXNzZXModGhpcy5faW5pdGlhbENsYXNzZXMpLHRoaXMuX2FwcGx5Q2xhc3Nlcyh0aGlzLl9yYXdDbGFzcyl9c2V0IG5nQ2xhc3ModCl7dGhpcy5fcmVtb3ZlQ2xhc3Nlcyh0aGlzLl9yYXdDbGFzcyksdGhpcy5fYXBwbHlDbGFzc2VzKHRoaXMuX2luaXRpYWxDbGFzc2VzKSx0aGlzLl9pdGVyYWJsZURpZmZlcj1udWxsLHRoaXMuX2tleVZhbHVlRGlmZmVyPW51bGwsdGhpcy5fcmF3Q2xhc3M9InN0cmluZyI9PXR5cGVvZiB0P3Quc3BsaXQoL1xzKy8pOnQsdGhpcy5fcmF3Q2xhc3MmJihjbyh0aGlzLl9yYXdDbGFzcyk/dGhpcy5faXRlcmFibGVEaWZmZXI9dGhpcy5faXRlcmFibGVEaWZmZXJzLmZpbmQodGhpcy5fcmF3Q2xhc3MpLmNyZWF0ZSgpOnRoaXMuX2tleVZhbHVlRGlmZmVyPXRoaXMuX2tleVZhbHVlRGlmZmVycy5maW5kKHRoaXMuX3Jhd0NsYXNzKS5jcmVhdGUoKSl9bmdEb0NoZWNrKCl7aWYodGhpcy5faXRlcmFibGVEaWZmZXIpe2NvbnN0IHQ9dGhpcy5faXRlcmFibGVEaWZmZXIuZGlmZih0aGlzLl9yYXdDbGFzcyk7dCYmdGhpcy5fYXBwbHlJdGVyYWJsZUNoYW5nZXModCl9ZWxzZSBpZih0aGlzLl9rZXlWYWx1ZURpZmZlcil7Y29uc3QgdD10aGlzLl9rZXlWYWx1ZURpZmZlci5kaWZmKHRoaXMuX3Jhd0NsYXNzKTt0JiZ0aGlzLl9hcHBseUtleVZhbHVlQ2hhbmdlcyh0KX19X2FwcGx5S2V5VmFsdWVDaGFuZ2VzKHQpe3QuZm9yRWFjaEFkZGVkSXRlbSh0PT50aGlzLl90b2dnbGVDbGFzcyh0LmtleSx0LmN1cnJlbnRWYWx1ZSkpLHQuZm9yRWFjaENoYW5nZWRJdGVtKHQ9PnRoaXMuX3RvZ2dsZUNsYXNzKHQua2V5LHQuY3VycmVudFZhbHVlKSksdC5mb3JFYWNoUmVtb3ZlZEl0ZW0odD0+e3QucHJldmlvdXNWYWx1ZSYmdGhpcy5fdG9nZ2xlQ2xhc3ModC5rZXksITEpfSl9X2FwcGx5SXRlcmFibGVDaGFuZ2VzKHQpe3QuZm9yRWFjaEFkZGVkSXRlbSh0PT57aWYoInN0cmluZyIhPXR5cGVvZiB0Lml0ZW0pdGhyb3cgbmV3IEVycm9yKGBOZ0NsYXNzIGNhbiBvbmx5IHRvZ2dsZSBDU1MgY2xhc3NlcyBleHByZXNzZWQgYXMgc3RyaW5ncywgZ290ICR7ZXQodC5pdGVtKX1gKTt0aGlzLl90b2dnbGVDbGFzcyh0Lml0ZW0sITApfSksdC5mb3JFYWNoUmVtb3ZlZEl0ZW0odD0+dGhpcy5fdG9nZ2xlQ2xhc3ModC5pdGVtLCExKSl9X2FwcGx5Q2xhc3Nlcyh0KXt0JiYoQXJyYXkuaXNBcnJheSh0KXx8dCBpbnN0YW5jZW9mIFNldD90LmZvckVhY2godD0+dGhpcy5fdG9nZ2xlQ2xhc3ModCwhMCkpOk9iamVjdC5rZXlzKHQpLmZvckVhY2goZT0+dGhpcy5fdG9nZ2xlQ2xhc3MoZSwhIXRbZV0pKSl9X3JlbW92ZUNsYXNzZXModCl7dCYmKEFycmF5LmlzQXJyYXkodCl8fHQgaW5zdGFuY2VvZiBTZXQ/dC5mb3JFYWNoKHQ9PnRoaXMuX3RvZ2dsZUNsYXNzKHQsITEpKTpPYmplY3Qua2V5cyh0KS5mb3JFYWNoKHQ9PnRoaXMuX3RvZ2dsZUNsYXNzKHQsITEpKSl9X3RvZ2dsZUNsYXNzKHQsZSl7KHQ9dC50cmltKCkpJiZ0LnNwbGl0KC9ccysvZykuZm9yRWFjaCh0PT57ZT90aGlzLl9yZW5kZXJlci5hZGRDbGFzcyh0aGlzLl9uZ0VsLm5hdGl2ZUVsZW1lbnQsdCk6dGhpcy5fcmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5fbmdFbC5uYXRpdmVFbGVtZW50LHQpfSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHdvKFdhKSx3byhaYSksd28oQWEpLHdvKEZhKSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsIm5nQ2xhc3MiLCIiXV0saW5wdXRzOntrbGFzczpbImNsYXNzIiwia2xhc3MiXSxuZ0NsYXNzOiJuZ0NsYXNzIn19KSx0fSkoKTtjbGFzcyBuaHtjb25zdHJ1Y3Rvcih0LGUsbixyKXt0aGlzLiRpbXBsaWNpdD10LHRoaXMubmdGb3JPZj1lLHRoaXMuaW5kZXg9bix0aGlzLmNvdW50PXJ9Z2V0IGZpcnN0KCl7cmV0dXJuIDA9PT10aGlzLmluZGV4fWdldCBsYXN0KCl7cmV0dXJuIHRoaXMuaW5kZXg9PT10aGlzLmNvdW50LTF9Z2V0IGV2ZW4oKXtyZXR1cm4gdGhpcy5pbmRleCUyPT0wfWdldCBvZGQoKXtyZXR1cm4hdGhpcy5ldmVufX1sZXQgcmg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5fdmlld0NvbnRhaW5lcj10LHRoaXMuX3RlbXBsYXRlPWUsdGhpcy5fZGlmZmVycz1uLHRoaXMuX25nRm9yT2Y9bnVsbCx0aGlzLl9uZ0Zvck9mRGlydHk9ITAsdGhpcy5fZGlmZmVyPW51bGx9c2V0IG5nRm9yT2YodCl7dGhpcy5fbmdGb3JPZj10LHRoaXMuX25nRm9yT2ZEaXJ0eT0hMH1zZXQgbmdGb3JUcmFja0J5KHQpe3RoaXMuX3RyYWNrQnlGbj10fWdldCBuZ0ZvclRyYWNrQnkoKXtyZXR1cm4gdGhpcy5fdHJhY2tCeUZufXNldCBuZ0ZvclRlbXBsYXRlKHQpe3QmJih0aGlzLl90ZW1wbGF0ZT10KX1uZ0RvQ2hlY2soKXtpZih0aGlzLl9uZ0Zvck9mRGlydHkpe3RoaXMuX25nRm9yT2ZEaXJ0eT0hMTtjb25zdCBuPXRoaXMuX25nRm9yT2Y7aWYoIXRoaXMuX2RpZmZlciYmbil0cnl7dGhpcy5fZGlmZmVyPXRoaXMuX2RpZmZlcnMuZmluZChuKS5jcmVhdGUodGhpcy5uZ0ZvclRyYWNrQnkpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgYSBkaWZmZXIgc3VwcG9ydGluZyBvYmplY3QgJyR7bn0nIG9mIHR5cGUgJyR7dD1uLHQubmFtZXx8dHlwZW9mIHR9Jy4gTmdGb3Igb25seSBzdXBwb3J0cyBiaW5kaW5nIHRvIEl0ZXJhYmxlcyBzdWNoIGFzIEFycmF5cy5gKX19dmFyIHQ7aWYodGhpcy5fZGlmZmVyKXtjb25zdCB0PXRoaXMuX2RpZmZlci5kaWZmKHRoaXMuX25nRm9yT2YpO3QmJnRoaXMuX2FwcGx5Q2hhbmdlcyh0KX19X2FwcGx5Q2hhbmdlcyh0KXtjb25zdCBlPVtdO3QuZm9yRWFjaE9wZXJhdGlvbigodCxuLHIpPT57aWYobnVsbD09dC5wcmV2aW91c0luZGV4KXtjb25zdCBuPXRoaXMuX3ZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuX3RlbXBsYXRlLG5ldyBuaChudWxsLHRoaXMuX25nRm9yT2YsLTEsLTEpLG51bGw9PT1yP3ZvaWQgMDpyKSxzPW5ldyBzaCh0LG4pO2UucHVzaChzKX1lbHNlIGlmKG51bGw9PXIpdGhpcy5fdmlld0NvbnRhaW5lci5yZW1vdmUobnVsbD09PW4/dm9pZCAwOm4pO2Vsc2UgaWYobnVsbCE9PW4pe2NvbnN0IHM9dGhpcy5fdmlld0NvbnRhaW5lci5nZXQobik7dGhpcy5fdmlld0NvbnRhaW5lci5tb3ZlKHMscik7Y29uc3QgaT1uZXcgc2godCxzKTtlLnB1c2goaSl9fSk7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5fcGVyVmlld0NoYW5nZShlW25dLnZpZXcsZVtuXS5yZWNvcmQpO2ZvcihsZXQgbj0wLHI9dGhpcy5fdmlld0NvbnRhaW5lci5sZW5ndGg7bjxyO24rKyl7Y29uc3QgdD10aGlzLl92aWV3Q29udGFpbmVyLmdldChuKTt0LmNvbnRleHQuaW5kZXg9bix0LmNvbnRleHQuY291bnQ9cix0LmNvbnRleHQubmdGb3JPZj10aGlzLl9uZ0Zvck9mfXQuZm9yRWFjaElkZW50aXR5Q2hhbmdlKHQ9Pnt0aGlzLl92aWV3Q29udGFpbmVyLmdldCh0LmN1cnJlbnRJbmRleCkuY29udGV4dC4kaW1wbGljaXQ9dC5pdGVtfSl9X3BlclZpZXdDaGFuZ2UodCxlKXt0LmNvbnRleHQuJGltcGxpY2l0PWUuaXRlbX1zdGF0aWMgbmdUZW1wbGF0ZUNvbnRleHRHdWFyZCh0LGUpe3JldHVybiEwfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh3byhobCksd28oc2wpLHdvKFdhKSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsIm5nRm9yIiwiIiwibmdGb3JPZiIsIiJdXSxpbnB1dHM6e25nRm9yT2Y6Im5nRm9yT2YiLG5nRm9yVHJhY2tCeToibmdGb3JUcmFja0J5IixuZ0ZvclRlbXBsYXRlOiJuZ0ZvclRlbXBsYXRlIn19KSx0fSkoKTtjbGFzcyBzaHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucmVjb3JkPXQsdGhpcy52aWV3PWV9fWxldCBpaD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fdmlld0NvbnRhaW5lcj10LHRoaXMuX2NvbnRleHQ9bmV3IG9oLHRoaXMuX3RoZW5UZW1wbGF0ZVJlZj1udWxsLHRoaXMuX2Vsc2VUZW1wbGF0ZVJlZj1udWxsLHRoaXMuX3RoZW5WaWV3UmVmPW51bGwsdGhpcy5fZWxzZVZpZXdSZWY9bnVsbCx0aGlzLl90aGVuVGVtcGxhdGVSZWY9ZX1zZXQgbmdJZih0KXt0aGlzLl9jb250ZXh0LiRpbXBsaWNpdD10aGlzLl9jb250ZXh0Lm5nSWY9dCx0aGlzLl91cGRhdGVWaWV3KCl9c2V0IG5nSWZUaGVuKHQpe2FoKCJuZ0lmVGhlbiIsdCksdGhpcy5fdGhlblRlbXBsYXRlUmVmPXQsdGhpcy5fdGhlblZpZXdSZWY9bnVsbCx0aGlzLl91cGRhdGVWaWV3KCl9c2V0IG5nSWZFbHNlKHQpe2FoKCJuZ0lmRWxzZSIsdCksdGhpcy5fZWxzZVRlbXBsYXRlUmVmPXQsdGhpcy5fZWxzZVZpZXdSZWY9bnVsbCx0aGlzLl91cGRhdGVWaWV3KCl9X3VwZGF0ZVZpZXcoKXt0aGlzLl9jb250ZXh0LiRpbXBsaWNpdD90aGlzLl90aGVuVmlld1JlZnx8KHRoaXMuX3ZpZXdDb250YWluZXIuY2xlYXIoKSx0aGlzLl9lbHNlVmlld1JlZj1udWxsLHRoaXMuX3RoZW5UZW1wbGF0ZVJlZiYmKHRoaXMuX3RoZW5WaWV3UmVmPXRoaXMuX3ZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuX3RoZW5UZW1wbGF0ZVJlZix0aGlzLl9jb250ZXh0KSkpOnRoaXMuX2Vsc2VWaWV3UmVmfHwodGhpcy5fdmlld0NvbnRhaW5lci5jbGVhcigpLHRoaXMuX3RoZW5WaWV3UmVmPW51bGwsdGhpcy5fZWxzZVRlbXBsYXRlUmVmJiYodGhpcy5fZWxzZVZpZXdSZWY9dGhpcy5fdmlld0NvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5fZWxzZVRlbXBsYXRlUmVmLHRoaXMuX2NvbnRleHQpKSl9c3RhdGljIG5nVGVtcGxhdGVDb250ZXh0R3VhcmQodCxlKXtyZXR1cm4hMH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkod28oaGwpLHdvKHNsKSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsIm5nSWYiLCIiXV0saW5wdXRzOntuZ0lmOiJuZ0lmIixuZ0lmVGhlbjoibmdJZlRoZW4iLG5nSWZFbHNlOiJuZ0lmRWxzZSJ9fSksdH0pKCk7Y2xhc3Mgb2h7Y29uc3RydWN0b3IoKXt0aGlzLiRpbXBsaWNpdD1udWxsLHRoaXMubmdJZj1udWxsfX1mdW5jdGlvbiBhaCh0LGUpe2lmKGUmJiFlLmNyZWF0ZUVtYmVkZGVkVmlldyl0aHJvdyBuZXcgRXJyb3IoYCR7dH0gbXVzdCBiZSBhIFRlbXBsYXRlUmVmLCBidXQgcmVjZWl2ZWQgJyR7ZXQoZSl9Jy5gKX1sZXQgbGg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl92aWV3Q29udGFpbmVyUmVmPXQsdGhpcy5fdmlld1JlZj1udWxsLHRoaXMubmdUZW1wbGF0ZU91dGxldENvbnRleHQ9bnVsbCx0aGlzLm5nVGVtcGxhdGVPdXRsZXQ9bnVsbH1uZ09uQ2hhbmdlcyh0KXtpZih0Lm5nVGVtcGxhdGVPdXRsZXQpe2NvbnN0IHQ9dGhpcy5fdmlld0NvbnRhaW5lclJlZjt0aGlzLl92aWV3UmVmJiZ0LnJlbW92ZSh0LmluZGV4T2YodGhpcy5fdmlld1JlZikpLHRoaXMuX3ZpZXdSZWY9dGhpcy5uZ1RlbXBsYXRlT3V0bGV0P3QuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMubmdUZW1wbGF0ZU91dGxldCx0aGlzLm5nVGVtcGxhdGVPdXRsZXRDb250ZXh0KTpudWxsfWVsc2UgdGhpcy5fdmlld1JlZiYmdC5uZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCYmdGhpcy5uZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCYmKHRoaXMuX3ZpZXdSZWYuY29udGV4dD10aGlzLm5nVGVtcGxhdGVPdXRsZXRDb250ZXh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkod28oaGwpKX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwibmdUZW1wbGF0ZU91dGxldCIsIiJdXSxpbnB1dHM6e25nVGVtcGxhdGVPdXRsZXRDb250ZXh0OiJuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCIsbmdUZW1wbGF0ZU91dGxldDoibmdUZW1wbGF0ZU91dGxldCJ9LGZlYXR1cmVzOltsZV19KSx0fSkoKTtmdW5jdGlvbiB1aCh0LGUpe3JldHVybiBFcnJvcihgSW52YWxpZFBpcGVBcmd1bWVudDogJyR7ZX0nIGZvciBwaXBlICcke2V0KHQpfSdgKX1jb25zdCBjaD0vKD86W0EtWmEtelx4QUFceEI1XHhCQVx4QzAtXHhENlx4RDgtXHhGNlx4RjgtXHUwMkMxXHUwMkM2LVx1MDJEMVx1MDJFMC1cdTAyRTRcdTAyRUNcdTAyRUVcdTAzNzAtXHUwMzc0XHUwMzc2XHUwMzc3XHUwMzdBLVx1MDM3RFx1MDM3Rlx1MDM4Nlx1MDM4OC1cdTAzOEFcdTAzOENcdTAzOEUtXHUwM0ExXHUwM0EzLVx1MDNGNVx1MDNGNy1cdTA0ODFcdTA0OEEtXHUwNTJGXHUwNTMxLVx1MDU1Nlx1MDU1OVx1MDU2MS1cdTA1ODdcdTA1RDAtXHUwNUVBXHUwNUYwLVx1MDVGMlx1MDYyMC1cdTA2NEFcdTA2NkVcdTA2NkZcdTA2NzEtXHUwNkQzXHUwNkQ1XHUwNkU1XHUwNkU2XHUwNkVFXHUwNkVGXHUwNkZBLVx1MDZGQ1x1MDZGRlx1MDcxMFx1MDcxMi1cdTA3MkZcdTA3NEQtXHUwN0E1XHUwN0IxXHUwN0NBLVx1MDdFQVx1MDdGNFx1MDdGNVx1MDdGQVx1MDgwMC1cdTA4MTVcdTA4MUFcdTA4MjRcdTA4MjhcdTA4NDAtXHUwODU4XHUwODYwLVx1MDg2QVx1MDhBMC1cdTA4QjRcdTA4QjYtXHUwOEJEXHUwOTA0LVx1MDkzOVx1MDkzRFx1MDk1MFx1MDk1OC1cdTA5NjFcdTA5NzEtXHUwOTgwXHUwOTg1LVx1MDk4Q1x1MDk4Rlx1MDk5MFx1MDk5My1cdTA5QThcdTA5QUEtXHUwOUIwXHUwOUIyXHUwOUI2LVx1MDlCOVx1MDlCRFx1MDlDRVx1MDlEQ1x1MDlERFx1MDlERi1cdTA5RTFcdTA5RjBcdTA5RjFcdTA5RkNcdTBBMDUtXHUwQTBBXHUwQTBGXHUwQTEwXHUwQTEzLVx1MEEyOFx1MEEyQS1cdTBBMzBcdTBBMzJcdTBBMzNcdTBBMzVcdTBBMzZcdTBBMzhcdTBBMzlcdTBBNTktXHUwQTVDXHUwQTVFXHUwQTcyLVx1MEE3NFx1MEE4NS1cdTBBOERcdTBBOEYtXHUwQTkxXHUwQTkzLVx1MEFBOFx1MEFBQS1cdTBBQjBcdTBBQjJcdTBBQjNcdTBBQjUtXHUwQUI5XHUwQUJEXHUwQUQwXHUwQUUwXHUwQUUxXHUwQUY5XHUwQjA1LVx1MEIwQ1x1MEIwRlx1MEIxMFx1MEIxMy1cdTBCMjhcdTBCMkEtXHUwQjMwXHUwQjMyXHUwQjMzXHUwQjM1LVx1MEIzOVx1MEIzRFx1MEI1Q1x1MEI1RFx1MEI1Ri1cdTBCNjFcdTBCNzFcdTBCODNcdTBCODUtXHUwQjhBXHUwQjhFLVx1MEI5MFx1MEI5Mi1cdTBCOTVcdTBCOTlcdTBCOUFcdTBCOUNcdTBCOUVcdTBCOUZcdTBCQTNcdTBCQTRcdTBCQTgtXHUwQkFBXHUwQkFFLVx1MEJCOVx1MEJEMFx1MEMwNS1cdTBDMENcdTBDMEUtXHUwQzEwXHUwQzEyLVx1MEMyOFx1MEMyQS1cdTBDMzlcdTBDM0RcdTBDNTgtXHUwQzVBXHUwQzYwXHUwQzYxXHUwQzgwXHUwQzg1LVx1MEM4Q1x1MEM4RS1cdTBDOTBcdTBDOTItXHUwQ0E4XHUwQ0FBLVx1MENCM1x1MENCNS1cdTBDQjlcdTBDQkRcdTBDREVcdTBDRTBcdTBDRTFcdTBDRjFcdTBDRjJcdTBEMDUtXHUwRDBDXHUwRDBFLVx1MEQxMFx1MEQxMi1cdTBEM0FcdTBEM0RcdTBENEVcdTBENTQtXHUwRDU2XHUwRDVGLVx1MEQ2MVx1MEQ3QS1cdTBEN0ZcdTBEODUtXHUwRDk2XHUwRDlBLVx1MERCMVx1MERCMy1cdTBEQkJcdTBEQkRcdTBEQzAtXHUwREM2XHUwRTAxLVx1MEUzMFx1MEUzMlx1MEUzM1x1MEU0MC1cdTBFNDZcdTBFODFcdTBFODJcdTBFODRcdTBFODdcdTBFODhcdTBFOEFcdTBFOERcdTBFOTQtXHUwRTk3XHUwRTk5LVx1MEU5Rlx1MEVBMS1cdTBFQTNcdTBFQTVcdTBFQTdcdTBFQUFcdTBFQUJcdTBFQUQtXHUwRUIwXHUwRUIyXHUwRUIzXHUwRUJEXHUwRUMwLVx1MEVDNFx1MEVDNlx1MEVEQy1cdTBFREZcdTBGMDBcdTBGNDAtXHUwRjQ3XHUwRjQ5LVx1MEY2Q1x1MEY4OC1cdTBGOENcdTEwMDAtXHUxMDJBXHUxMDNGXHUxMDUwLVx1MTA1NVx1MTA1QS1cdTEwNURcdTEwNjFcdTEwNjVcdTEwNjZcdTEwNkUtXHUxMDcwXHUxMDc1LVx1MTA4MVx1MTA4RVx1MTBBMC1cdTEwQzVcdTEwQzdcdTEwQ0RcdTEwRDAtXHUxMEZBXHUxMEZDLVx1MTI0OFx1MTI0QS1cdTEyNERcdTEyNTAtXHUxMjU2XHUxMjU4XHUxMjVBLVx1MTI1RFx1MTI2MC1cdTEyODhcdTEyOEEtXHUxMjhEXHUxMjkwLVx1MTJCMFx1MTJCMi1cdTEyQjVcdTEyQjgtXHUxMkJFXHUxMkMwXHUxMkMyLVx1MTJDNVx1MTJDOC1cdTEyRDZcdTEyRDgtXHUxMzEwXHUxMzEyLVx1MTMxNVx1MTMxOC1cdTEzNUFcdTEzODAtXHUxMzhGXHUxM0EwLVx1MTNGNVx1MTNGOC1cdTEzRkRcdTE0MDEtXHUxNjZDXHUxNjZGLVx1MTY3Rlx1MTY4MS1cdTE2OUFcdTE2QTAtXHUxNkVBXHUxNkYxLVx1MTZGOFx1MTcwMC1cdTE3MENcdTE3MEUtXHUxNzExXHUxNzIwLVx1MTczMVx1MTc0MC1cdTE3NTFcdTE3NjAtXHUxNzZDXHUxNzZFLVx1MTc3MFx1MTc4MC1cdTE3QjNcdTE3RDdcdTE3RENcdTE4MjAtXHUxODc3XHUxODgwLVx1MTg4NFx1MTg4Ny1cdTE4QThcdTE4QUFcdTE4QjAtXHUxOEY1XHUxOTAwLVx1MTkxRVx1MTk1MC1cdTE5NkRcdTE5NzAtXHUxOTc0XHUxOTgwLVx1MTlBQlx1MTlCMC1cdTE5QzlcdTFBMDAtXHUxQTE2XHUxQTIwLVx1MUE1NFx1MUFBN1x1MUIwNS1cdTFCMzNcdTFCNDUtXHUxQjRCXHUxQjgzLVx1MUJBMFx1MUJBRVx1MUJBRlx1MUJCQS1cdTFCRTVcdTFDMDAtXHUxQzIzXHUxQzRELVx1MUM0Rlx1MUM1QS1cdTFDN0RcdTFDODAtXHUxQzg4XHUxQ0U5LVx1MUNFQ1x1MUNFRS1cdTFDRjFcdTFDRjVcdTFDRjZcdTFEMDAtXHUxREJGXHUxRTAwLVx1MUYxNVx1MUYxOC1cdTFGMURcdTFGMjAtXHUxRjQ1XHUxRjQ4LVx1MUY0RFx1MUY1MC1cdTFGNTdcdTFGNTlcdTFGNUJcdTFGNURcdTFGNUYtXHUxRjdEXHUxRjgwLVx1MUZCNFx1MUZCNi1cdTFGQkNcdTFGQkVcdTFGQzItXHUxRkM0XHUxRkM2LVx1MUZDQ1x1MUZEMC1cdTFGRDNcdTFGRDYtXHUxRkRCXHUxRkUwLVx1MUZFQ1x1MUZGMi1cdTFGRjRcdTFGRjYtXHUxRkZDXHUyMDcxXHUyMDdGXHUyMDkwLVx1MjA5Q1x1MjEwMlx1MjEwN1x1MjEwQS1cdTIxMTNcdTIxMTVcdTIxMTktXHUyMTFEXHUyMTI0XHUyMTI2XHUyMTI4XHUyMTJBLVx1MjEyRFx1MjEyRi1cdTIxMzlcdTIxM0MtXHUyMTNGXHUyMTQ1LVx1MjE0OVx1MjE0RVx1MjE4M1x1MjE4NFx1MkMwMC1cdTJDMkVcdTJDMzAtXHUyQzVFXHUyQzYwLVx1MkNFNFx1MkNFQi1cdTJDRUVcdTJDRjJcdTJDRjNcdTJEMDAtXHUyRDI1XHUyRDI3XHUyRDJEXHUyRDMwLVx1MkQ2N1x1MkQ2Rlx1MkQ4MC1cdTJEOTZcdTJEQTAtXHUyREE2XHUyREE4LVx1MkRBRVx1MkRCMC1cdTJEQjZcdTJEQjgtXHUyREJFXHUyREMwLVx1MkRDNlx1MkRDOC1cdTJEQ0VcdTJERDAtXHUyREQ2XHUyREQ4LVx1MkRERVx1MkUyRlx1MzAwNVx1MzAwNlx1MzAzMS1cdTMwMzVcdTMwM0JcdTMwM0NcdTMwNDEtXHUzMDk2XHUzMDlELVx1MzA5Rlx1MzBBMS1cdTMwRkFcdTMwRkMtXHUzMEZGXHUzMTA1LVx1MzEyRVx1MzEzMS1cdTMxOEVcdTMxQTAtXHUzMUJBXHUzMUYwLVx1MzFGRlx1MzQwMC1cdTREQjVcdTRFMDAtXHU5RkVBXHVBMDAwLVx1QTQ4Q1x1QTREMC1cdUE0RkRcdUE1MDAtXHVBNjBDXHVBNjEwLVx1QTYxRlx1QTYyQVx1QTYyQlx1QTY0MC1cdUE2NkVcdUE2N0YtXHVBNjlEXHVBNkEwLVx1QTZFNVx1QTcxNy1cdUE3MUZcdUE3MjItXHVBNzg4XHVBNzhCLVx1QTdBRVx1QTdCMC1cdUE3QjdcdUE3RjctXHVBODAxXHVBODAzLVx1QTgwNVx1QTgwNy1cdUE4MEFcdUE4MEMtXHVBODIyXHVBODQwLVx1QTg3M1x1QTg4Mi1cdUE4QjNcdUE4RjItXHVBOEY3XHVBOEZCXHVBOEZEXHVBOTBBLVx1QTkyNVx1QTkzMC1cdUE5NDZcdUE5NjAtXHVBOTdDXHVBOTg0LVx1QTlCMlx1QTlDRlx1QTlFMC1cdUE5RTRcdUE5RTYtXHVBOUVGXHVBOUZBLVx1QTlGRVx1QUEwMC1cdUFBMjhcdUFBNDAtXHVBQTQyXHVBQTQ0LVx1QUE0Qlx1QUE2MC1cdUFBNzZcdUFBN0FcdUFBN0UtXHVBQUFGXHVBQUIxXHVBQUI1XHVBQUI2XHVBQUI5LVx1QUFCRFx1QUFDMFx1QUFDMlx1QUFEQi1cdUFBRERcdUFBRTAtXHVBQUVBXHVBQUYyLVx1QUFGNFx1QUIwMS1cdUFCMDZcdUFCMDktXHVBQjBFXHVBQjExLVx1QUIxNlx1QUIyMC1cdUFCMjZcdUFCMjgtXHVBQjJFXHVBQjMwLVx1QUI1QVx1QUI1Qy1cdUFCNjVcdUFCNzAtXHVBQkUyXHVBQzAwLVx1RDdBM1x1RDdCMC1cdUQ3QzZcdUQ3Q0ItXHVEN0ZCXHVGOTAwLVx1RkE2RFx1RkE3MC1cdUZBRDlcdUZCMDAtXHVGQjA2XHVGQjEzLVx1RkIxN1x1RkIxRFx1RkIxRi1cdUZCMjhcdUZCMkEtXHVGQjM2XHVGQjM4LVx1RkIzQ1x1RkIzRVx1RkI0MFx1RkI0MVx1RkI0M1x1RkI0NFx1RkI0Ni1cdUZCQjFcdUZCRDMtXHVGRDNEXHVGRDUwLVx1RkQ4Rlx1RkQ5Mi1cdUZEQzdcdUZERjAtXHVGREZCXHVGRTcwLVx1RkU3NFx1RkU3Ni1cdUZFRkNcdUZGMjEtXHVGRjNBXHVGRjQxLVx1RkY1QVx1RkY2Ni1cdUZGQkVcdUZGQzItXHVGRkM3XHVGRkNBLVx1RkZDRlx1RkZEMi1cdUZGRDdcdUZGREEtXHVGRkRDXXxcdUQ4MDBbXHVEQzAwLVx1REMwQlx1REMwRC1cdURDMjZcdURDMjgtXHVEQzNBXHVEQzNDXHVEQzNEXHVEQzNGLVx1REM0RFx1REM1MC1cdURDNURcdURDODAtXHVEQ0ZBXHVERTgwLVx1REU5Q1x1REVBMC1cdURFRDBcdURGMDAtXHVERjFGXHVERjJELVx1REY0MFx1REY0Mi1cdURGNDlcdURGNTAtXHVERjc1XHVERjgwLVx1REY5RFx1REZBMC1cdURGQzNcdURGQzgtXHVERkNGXXxcdUQ4MDFbXHVEQzAwLVx1REM5RFx1RENCMC1cdURDRDNcdURDRDgtXHVEQ0ZCXHVERDAwLVx1REQyN1x1REQzMC1cdURENjNcdURFMDAtXHVERjM2XHVERjQwLVx1REY1NVx1REY2MC1cdURGNjddfFx1RDgwMltcdURDMDAtXHVEQzA1XHVEQzA4XHVEQzBBLVx1REMzNVx1REMzN1x1REMzOFx1REMzQ1x1REMzRi1cdURDNTVcdURDNjAtXHVEQzc2XHVEQzgwLVx1REM5RVx1RENFMC1cdURDRjJcdURDRjRcdURDRjVcdUREMDAtXHVERDE1XHVERDIwLVx1REQzOVx1REQ4MC1cdUREQjdcdUREQkVcdUREQkZcdURFMDBcdURFMTAtXHVERTEzXHVERTE1LVx1REUxN1x1REUxOS1cdURFMzNcdURFNjAtXHVERTdDXHVERTgwLVx1REU5Q1x1REVDMC1cdURFQzdcdURFQzktXHVERUU0XHVERjAwLVx1REYzNVx1REY0MC1cdURGNTVcdURGNjAtXHVERjcyXHVERjgwLVx1REY5MV18XHVEODAzW1x1REMwMC1cdURDNDhcdURDODAtXHVEQ0IyXHVEQ0MwLVx1RENGMl18XHVEODA0W1x1REMwMy1cdURDMzdcdURDODMtXHVEQ0FGXHVEQ0QwLVx1RENFOFx1REQwMy1cdUREMjZcdURENTAtXHVERDcyXHVERDc2XHVERDgzLVx1RERCMlx1RERDMS1cdUREQzRcdUREREFcdURERENcdURFMDAtXHVERTExXHVERTEzLVx1REUyQlx1REU4MC1cdURFODZcdURFODhcdURFOEEtXHVERThEXHVERThGLVx1REU5RFx1REU5Ri1cdURFQThcdURFQjAtXHVERURFXHVERjA1LVx1REYwQ1x1REYwRlx1REYxMFx1REYxMy1cdURGMjhcdURGMkEtXHVERjMwXHVERjMyXHVERjMzXHVERjM1LVx1REYzOVx1REYzRFx1REY1MFx1REY1RC1cdURGNjFdfFx1RDgwNVtcdURDMDAtXHVEQzM0XHVEQzQ3LVx1REM0QVx1REM4MC1cdURDQUZcdURDQzRcdURDQzVcdURDQzdcdUREODAtXHVEREFFXHVEREQ4LVx1REREQlx1REUwMC1cdURFMkZcdURFNDRcdURFODAtXHVERUFBXHVERjAwLVx1REYxOV18XHVEODA2W1x1RENBMC1cdURDREZcdURDRkZcdURFMDBcdURFMEItXHVERTMyXHVERTNBXHVERTUwXHVERTVDLVx1REU4M1x1REU4Ni1cdURFODlcdURFQzAtXHVERUY4XXxcdUQ4MDdbXHVEQzAwLVx1REMwOFx1REMwQS1cdURDMkVcdURDNDBcdURDNzItXHVEQzhGXHVERDAwLVx1REQwNlx1REQwOFx1REQwOVx1REQwQi1cdUREMzBcdURENDZdfFx1RDgwOFtcdURDMDAtXHVERjk5XXxcdUQ4MDlbXHVEQzgwLVx1REQ0M118W1x1RDgwQ1x1RDgxQy1cdUQ4MjBcdUQ4NDAtXHVEODY4XHVEODZBLVx1RDg2Q1x1RDg2Ri1cdUQ4NzJcdUQ4NzQtXHVEODc5XVtcdURDMDAtXHVERkZGXXxcdUQ4MERbXHVEQzAwLVx1REMyRV18XHVEODExW1x1REMwMC1cdURFNDZdfFx1RDgxQVtcdURDMDAtXHVERTM4XHVERTQwLVx1REU1RVx1REVEMC1cdURFRURcdURGMDAtXHVERjJGXHVERjQwLVx1REY0M1x1REY2My1cdURGNzdcdURGN0QtXHVERjhGXXxcdUQ4MUJbXHVERjAwLVx1REY0NFx1REY1MFx1REY5My1cdURGOUZcdURGRTBcdURGRTFdfFx1RDgyMVtcdURDMDAtXHVERkVDXXxcdUQ4MjJbXHVEQzAwLVx1REVGMl18XHVEODJDW1x1REMwMC1cdUREMUVcdURENzAtXHVERUZCXXxcdUQ4MkZbXHVEQzAwLVx1REM2QVx1REM3MC1cdURDN0NcdURDODAtXHVEQzg4XHVEQzkwLVx1REM5OV18XHVEODM1W1x1REMwMC1cdURDNTRcdURDNTYtXHVEQzlDXHVEQzlFXHVEQzlGXHVEQ0EyXHVEQ0E1XHVEQ0E2XHVEQ0E5LVx1RENBQ1x1RENBRS1cdURDQjlcdURDQkJcdURDQkQtXHVEQ0MzXHVEQ0M1LVx1REQwNVx1REQwNy1cdUREMEFcdUREMEQtXHVERDE0XHVERDE2LVx1REQxQ1x1REQxRS1cdUREMzlcdUREM0ItXHVERDNFXHVERDQwLVx1REQ0NFx1REQ0Nlx1REQ0QS1cdURENTBcdURENTItXHVERUE1XHVERUE4LVx1REVDMFx1REVDMi1cdURFREFcdURFREMtXHVERUZBXHVERUZDLVx1REYxNFx1REYxNi1cdURGMzRcdURGMzYtXHVERjRFXHVERjUwLVx1REY2RVx1REY3MC1cdURGODhcdURGOEEtXHVERkE4XHVERkFBLVx1REZDMlx1REZDNC1cdURGQ0JdfFx1RDgzQVtcdURDMDAtXHVEQ0M0XHVERDAwLVx1REQ0M118XHVEODNCW1x1REUwMC1cdURFMDNcdURFMDUtXHVERTFGXHVERTIxXHVERTIyXHVERTI0XHVERTI3XHVERTI5LVx1REUzMlx1REUzNC1cdURFMzdcdURFMzlcdURFM0JcdURFNDJcdURFNDdcdURFNDlcdURFNEJcdURFNEQtXHVERTRGXHVERTUxXHVERTUyXHVERTU0XHVERTU3XHVERTU5XHVERTVCXHVERTVEXHVERTVGXHVERTYxXHVERTYyXHVERTY0XHVERTY3LVx1REU2QVx1REU2Qy1cdURFNzJcdURFNzQtXHVERTc3XHVERTc5LVx1REU3Q1x1REU3RVx1REU4MC1cdURFODlcdURFOEItXHVERTlCXHVERUExLVx1REVBM1x1REVBNS1cdURFQTlcdURFQUItXHVERUJCXXxcdUQ4NjlbXHVEQzAwLVx1REVENlx1REYwMC1cdURGRkZdfFx1RDg2RFtcdURDMDAtXHVERjM0XHVERjQwLVx1REZGRl18XHVEODZFW1x1REMwMC1cdURDMURcdURDMjAtXHVERkZGXXxcdUQ4NzNbXHVEQzAwLVx1REVBMVx1REVCMC1cdURGRkZdfFx1RDg3QVtcdURDMDAtXHVERkUwXXxcdUQ4N0VbXHVEQzAwLVx1REUxRF0pXFMqL2c7bGV0IGhoPSgoKT0+e2NsYXNzIHR7dHJhbnNmb3JtKGUpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7aWYoInN0cmluZyIhPXR5cGVvZiBlKXRocm93IHVoKHQsZSk7cmV0dXJuIGUucmVwbGFjZShjaCx0PT50WzBdLnRvVXBwZXJDYXNlKCkrdC5zdWJzdHIoMSkudG9Mb3dlckNhc2UoKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXBpcGU9WXQoe25hbWU6InRpdGxlY2FzZSIsdHlwZTp0LHB1cmU6ITB9KSx0fSkoKSxkaD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMubG9jYWxlPXR9dHJhbnNmb3JtKGUsbj0ibWVkaXVtRGF0ZSIscixzKXtpZihudWxsPT1lfHwiIj09PWV8fGUhPWUpcmV0dXJuIG51bGw7dHJ5e3JldHVybiBJYyhlLG4sc3x8dGhpcy5sb2NhbGUscil9Y2F0Y2goaSl7dGhyb3cgdWgodCxpLm1lc3NhZ2UpfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkod28ocnUsMTYpKX0sdC5cdTAyNzVwaXBlPVl0KHtuYW1lOiJkYXRlIix0eXBlOnQscHVyZTohMH0pLHR9KSgpLHBoPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5fbG9jYWxlPXR9dHJhbnNmb3JtKGUsbixyKXtpZighZ2goZSkpcmV0dXJuIG51bGw7cj1yfHx0aGlzLl9sb2NhbGU7dHJ5e3JldHVybiBmdW5jdGlvbih0LGUsbil7cmV0dXJuIFljKHQsS2MoX2MoZSxkYy5EZWNpbWFsKSxDYyhlLHljLk1pbnVzU2lnbikpLGUseWMuR3JvdXAseWMuRGVjaW1hbCxuKX0obWgoZSkscixuKX1jYXRjaChzKXt0aHJvdyB1aCh0LHMubWVzc2FnZSl9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh3byhydSwxNikpfSx0Llx1MDI3NXBpcGU9WXQoe25hbWU6Im51bWJlciIsdHlwZTp0LHB1cmU6ITB9KSx0fSkoKSxmaD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZT0iVVNEIil7dGhpcy5fbG9jYWxlPXQsdGhpcy5fZGVmYXVsdEN1cnJlbmN5Q29kZT1lfXRyYW5zZm9ybShlLG49dGhpcy5fZGVmYXVsdEN1cnJlbmN5Q29kZSxyPSJzeW1ib2wiLHMsaSl7aWYoIWdoKGUpKXJldHVybiBudWxsO2k9aXx8dGhpcy5fbG9jYWxlLCJib29sZWFuIj09dHlwZW9mIHImJihyPXI/InN5bWJvbCI6ImNvZGUiKTtsZXQgbz1ufHx0aGlzLl9kZWZhdWx0Q3VycmVuY3lDb2RlOyJjb2RlIiE9PXImJihvPSJzeW1ib2wiPT09cnx8InN5bWJvbC1uYXJyb3ciPT09cj9mdW5jdGlvbih0LGUsbj0iZW4iKXtjb25zdCByPWZ1bmN0aW9uKHQpe3JldHVybiBhYSh0KVt1YS5DdXJyZW5jaWVzXX0obilbdF18fGhjW3RdfHxbXSxzPXJbMV07cmV0dXJuIm5hcnJvdyI9PT1lJiYic3RyaW5nIj09dHlwZW9mIHM/czpyWzBdfHx0fShvLCJzeW1ib2wiPT09cj8id2lkZSI6Im5hcnJvdyIsaSk6cik7dHJ5e3JldHVybiBmdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9S2MoX2MoZSxkYy5DdXJyZW5jeSksQ2MoZSx5Yy5NaW51c1NpZ24pKTtyZXR1cm4gaS5taW5GcmFjPWZ1bmN0aW9uKHQpe2xldCBlO2NvbnN0IG49aGNbdF07cmV0dXJuIG4mJihlPW5bMl0pLCJudW1iZXIiPT10eXBlb2YgZT9lOjJ9KHIpLGkubWF4RnJhYz1pLm1pbkZyYWMsWWModCxpLGUseWMuQ3VycmVuY3lHcm91cCx5Yy5DdXJyZW5jeURlY2ltYWwscykucmVwbGFjZSgiXHhhNCIsbikucmVwbGFjZSgiXHhhNCIsIiIpLnRyaW0oKX0obWgoZSksaSxvLG4scyl9Y2F0Y2goYSl7dGhyb3cgdWgodCxhLm1lc3NhZ2UpfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkod28ocnUsMTYpLHdvKHN1LDE2KSl9LHQuXHUwMjc1cGlwZT1ZdCh7bmFtZToiY3VycmVuY3kiLHR5cGU6dCxwdXJlOiEwfSksdH0pKCk7ZnVuY3Rpb24gZ2godCl7cmV0dXJuIShudWxsPT10fHwiIj09PXR8fHQhPXQpfWZ1bmN0aW9uIG1oKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdCYmIWlzTmFOKE51bWJlcih0KS1wYXJzZUZsb2F0KHQpKSlyZXR1cm4gTnVtYmVyKHQpO2lmKCJudW1iZXIiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoYCR7dH0gaXMgbm90IGEgbnVtYmVyYCk7cmV0dXJuIHR9bGV0IHloPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbe3Byb3ZpZGU6WGMsdXNlQ2xhc3M6SmN9XX0pLHR9KSgpLHZoPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQscHJvdmlkZWRJbjoicm9vdCIsZmFjdG9yeTooKT0+bmV3IGJoKGFyKEd1KSx3aW5kb3cpfSksdH0pKCk7Y2xhc3MgYmh7Y29uc3RydWN0b3IodCxlKXt0aGlzLmRvY3VtZW50PXQsdGhpcy53aW5kb3c9ZSx0aGlzLm9mZnNldD0oKT0+WzAsMF19c2V0T2Zmc2V0KHQpe3RoaXMub2Zmc2V0PUFycmF5LmlzQXJyYXkodCk/KCk9PnQ6dH1nZXRTY3JvbGxQb3NpdGlvbigpe3JldHVybiB0aGlzLnN1cHBvcnRzU2Nyb2xsaW5nKCk/W3RoaXMud2luZG93LnBhZ2VYT2Zmc2V0LHRoaXMud2luZG93LnBhZ2VZT2Zmc2V0XTpbMCwwXX1zY3JvbGxUb1Bvc2l0aW9uKHQpe3RoaXMuc3VwcG9ydHNTY3JvbGxpbmcoKSYmdGhpcy53aW5kb3cuc2Nyb2xsVG8odFswXSx0WzFdKX1zY3JvbGxUb0FuY2hvcih0KXtpZighdGhpcy5zdXBwb3J0c1Njcm9sbGluZygpKXJldHVybjtjb25zdCBlPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmdldEVsZW1lbnRCeUlkKGUpfHx0LmdldEVsZW1lbnRzQnlOYW1lKGUpWzBdO2lmKG4pcmV0dXJuIG47aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQuY3JlYXRlVHJlZVdhbGtlciYmdC5ib2R5JiYodC5ib2R5LmNyZWF0ZVNoYWRvd1Jvb3R8fHQuYm9keS5hdHRhY2hTaGFkb3cpKXtjb25zdCBuPXQuY3JlYXRlVHJlZVdhbGtlcih0LmJvZHksTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQpO2xldCByPW4uY3VycmVudE5vZGU7Zm9yKDtyOyl7Y29uc3QgdD1yLnNoYWRvd1Jvb3Q7aWYodCl7Y29uc3Qgbj10LmdldEVsZW1lbnRCeUlkKGUpfHx0LnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPSIke2V9Il1gKTtpZihuKXJldHVybiBufXI9bi5uZXh0Tm9kZSgpfX1yZXR1cm4gbnVsbH0odGhpcy5kb2N1bWVudCx0KTtlJiYodGhpcy5zY3JvbGxUb0VsZW1lbnQoZSksdGhpcy5hdHRlbXB0Rm9jdXMoZSkpfXNldEhpc3RvcnlTY3JvbGxSZXN0b3JhdGlvbih0KXtpZih0aGlzLnN1cHBvcnRTY3JvbGxSZXN0b3JhdGlvbigpKXtjb25zdCBlPXRoaXMud2luZG93Lmhpc3Rvcnk7ZSYmZS5zY3JvbGxSZXN0b3JhdGlvbiYmKGUuc2Nyb2xsUmVzdG9yYXRpb249dCl9fXNjcm9sbFRvRWxlbWVudCh0KXtjb25zdCBlPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1lLmxlZnQrdGhpcy53aW5kb3cucGFnZVhPZmZzZXQscj1lLnRvcCt0aGlzLndpbmRvdy5wYWdlWU9mZnNldCxzPXRoaXMub2Zmc2V0KCk7dGhpcy53aW5kb3cuc2Nyb2xsVG8obi1zWzBdLHItc1sxXSl9YXR0ZW1wdEZvY3VzKHQpe3JldHVybiB0LmZvY3VzKCksdGhpcy5kb2N1bWVudC5hY3RpdmVFbGVtZW50PT09dH1zdXBwb3J0U2Nyb2xsUmVzdG9yYXRpb24oKXt0cnl7aWYoIXRoaXMuc3VwcG9ydHNTY3JvbGxpbmcoKSlyZXR1cm4hMTtjb25zdCB0PXdoKHRoaXMud2luZG93Lmhpc3RvcnkpfHx3aChPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcy53aW5kb3cuaGlzdG9yeSkpO3JldHVybiEoIXR8fCF0LndyaXRhYmxlJiYhdC5zZXQpfWNhdGNoKHQpe3JldHVybiExfX1zdXBwb3J0c1Njcm9sbGluZygpe3RyeXtyZXR1cm4hIXRoaXMud2luZG93JiYhIXRoaXMud2luZG93LnNjcm9sbFRvJiYicGFnZVhPZmZzZXQiaW4gdGhpcy53aW5kb3d9Y2F0Y2godCl7cmV0dXJuITF9fX1mdW5jdGlvbiB3aCh0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCJzY3JvbGxSZXN0b3JhdGlvbiIpfWNsYXNzIENoe31jbGFzcyBfaCBleHRlbmRzIGNsYXNzIGV4dGVuZHMgY2xhc3N7fXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5zdXBwb3J0c0RPTUV2ZW50cz0hMH19e3N0YXRpYyBtYWtlQ3VycmVudCgpe3ZhciB0O3Q9bmV3IF9oLHF1fHwocXU9dCl9b25BbmRDYW5jZWwodCxlLG4pe3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoZSxuLCExKSwoKT0+e3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4sITEpfX1kaXNwYXRjaEV2ZW50KHQsZSl7dC5kaXNwYXRjaEV2ZW50KGUpfXJlbW92ZSh0KXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX1jcmVhdGVFbGVtZW50KHQsZSl7cmV0dXJuKGU9ZXx8dGhpcy5nZXREZWZhdWx0RG9jdW1lbnQoKSkuY3JlYXRlRWxlbWVudCh0KX1jcmVhdGVIdG1sRG9jdW1lbnQoKXtyZXR1cm4gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCJmYWtlVGl0bGUiKX1nZXREZWZhdWx0RG9jdW1lbnQoKXtyZXR1cm4gZG9jdW1lbnR9aXNFbGVtZW50Tm9kZSh0KXtyZXR1cm4gdC5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFfWlzU2hhZG93Um9vdCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnR9Z2V0R2xvYmFsRXZlbnRUYXJnZXQodCxlKXtyZXR1cm4id2luZG93Ij09PWU/d2luZG93OiJkb2N1bWVudCI9PT1lP3Q6ImJvZHkiPT09ZT90LmJvZHk6bnVsbH1nZXRCYXNlSHJlZih0KXtjb25zdCBlPShFaD1FaHx8ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYmFzZSIpLEVoP0VoLmdldEF0dHJpYnV0ZSgiaHJlZiIpOm51bGwpO3JldHVybiBudWxsPT1lP251bGw6ZnVuY3Rpb24odCl7RGg9RGh8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSxEaC5zZXRBdHRyaWJ1dGUoImhyZWYiLHQpO2NvbnN0IGU9RGgucGF0aG5hbWU7cmV0dXJuIi8iPT09ZS5jaGFyQXQoMCk/ZTpgLyR7ZX1gfShlKX1yZXNldEJhc2VFbGVtZW50KCl7RWg9bnVsbH1nZXRVc2VyQWdlbnQoKXtyZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnR9Z2V0Q29va2llKHQpe3JldHVybiB0aChkb2N1bWVudC5jb29raWUsdCl9fWxldCBEaCxFaD1udWxsO2NvbnN0IFNoPW5ldyAkbigiVFJBTlNJVElPTl9JRCIpLHhoPVt7cHJvdmlkZTpabCx1c2VGYWN0b3J5OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4oKT0+e24uZ2V0KFlsKS5kb25lUHJvbWlzZS50aGVuKCgpPT57Y29uc3Qgbj1XdSgpO0FycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShlLnF1ZXJ5U2VsZWN0b3JBbGwoInN0eWxlW25nLXRyYW5zaXRpb25dIikpLmZpbHRlcihlPT5lLmdldEF0dHJpYnV0ZSgibmctdHJhbnNpdGlvbiIpPT09dCkuZm9yRWFjaCh0PT5uLnJlbW92ZSh0KSl9KX19LGRlcHM6W1NoLEd1LGVvXSxtdWx0aTohMH1dO2NsYXNzIEFoe3N0YXRpYyBpbml0KCl7IWZ1bmN0aW9uKHQpe3h1PXR9KG5ldyBBaCl9YWRkVG9XaW5kb3codCl7a3QuZ2V0QW5ndWxhclRlc3RhYmlsaXR5PShlLG49ITApPT57Y29uc3Qgcj10LmZpbmRUZXN0YWJpbGl0eUluVHJlZShlLG4pO2lmKG51bGw9PXIpdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCB0ZXN0YWJpbGl0eSBmb3IgZWxlbWVudC4iKTtyZXR1cm4gcn0sa3QuZ2V0QWxsQW5ndWxhclRlc3RhYmlsaXRpZXM9KCk9PnQuZ2V0QWxsVGVzdGFiaWxpdGllcygpLGt0LmdldEFsbEFuZ3VsYXJSb290RWxlbWVudHM9KCk9PnQuZ2V0QWxsUm9vdEVsZW1lbnRzKCksa3QuZnJhbWV3b3JrU3RhYmlsaXplcnN8fChrdC5mcmFtZXdvcmtTdGFiaWxpemVycz1bXSksa3QuZnJhbWV3b3JrU3RhYmlsaXplcnMucHVzaCh0PT57Y29uc3QgZT1rdC5nZXRBbGxBbmd1bGFyVGVzdGFiaWxpdGllcygpO2xldCBuPWUubGVuZ3RoLHI9ITE7Y29uc3Qgcz1mdW5jdGlvbihlKXtyPXJ8fGUsbi0tLDA9PW4mJnQocil9O2UuZm9yRWFjaChmdW5jdGlvbih0KXt0LndoZW5TdGFibGUocyl9KX0pfWZpbmRUZXN0YWJpbGl0eUluVHJlZSh0LGUsbil7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtjb25zdCByPXQuZ2V0VGVzdGFiaWxpdHkoZSk7cmV0dXJuIG51bGwhPXI/cjpuP1d1KCkuaXNTaGFkb3dSb290KGUpP3RoaXMuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHQsZS5ob3N0LCEwKTp0aGlzLmZpbmRUZXN0YWJpbGl0eUluVHJlZSh0LGUucGFyZW50RWxlbWVudCwhMCk6bnVsbH19bGV0IFRoPSgoKT0+e2NsYXNzIHR7YnVpbGQoKXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCBPaD1uZXcgJG4oIkV2ZW50TWFuYWdlclBsdWdpbnMiKTtsZXQgRmg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX3pvbmU9ZSx0aGlzLl9ldmVudE5hbWVUb1BsdWdpbj1uZXcgTWFwLHQuZm9yRWFjaCh0PT50Lm1hbmFnZXI9dGhpcyksdGhpcy5fcGx1Z2lucz10LnNsaWNlKCkucmV2ZXJzZSgpfWFkZEV2ZW50TGlzdGVuZXIodCxlLG4pe3JldHVybiB0aGlzLl9maW5kUGx1Z2luRm9yKGUpLmFkZEV2ZW50TGlzdGVuZXIodCxlLG4pfWFkZEdsb2JhbEV2ZW50TGlzdGVuZXIodCxlLG4pe3JldHVybiB0aGlzLl9maW5kUGx1Z2luRm9yKGUpLmFkZEdsb2JhbEV2ZW50TGlzdGVuZXIodCxlLG4pfWdldFpvbmUoKXtyZXR1cm4gdGhpcy5fem9uZX1fZmluZFBsdWdpbkZvcih0KXtjb25zdCBlPXRoaXMuX2V2ZW50TmFtZVRvUGx1Z2luLmdldCh0KTtpZihlKXJldHVybiBlO2NvbnN0IG49dGhpcy5fcGx1Z2lucztmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrKyl7Y29uc3QgZT1uW3JdO2lmKGUuc3VwcG9ydHModCkpcmV0dXJuIHRoaXMuX2V2ZW50TmFtZVRvUGx1Z2luLnNldCh0LGUpLGV9dGhyb3cgbmV3IEVycm9yKGBObyBldmVudCBtYW5hZ2VyIHBsdWdpbiBmb3VuZCBmb3IgZXZlbnQgJHt0fWApfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihPaCksYXIoZ3UpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjbGFzcyBraHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9kb2M9dH1hZGRHbG9iYWxFdmVudExpc3RlbmVyKHQsZSxuKXtjb25zdCByPVd1KCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQodGhpcy5fZG9jLHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZXZlbnQgdGFyZ2V0ICR7cn0gZm9yIGV2ZW50ICR7ZX1gKTtyZXR1cm4gdGhpcy5hZGRFdmVudExpc3RlbmVyKHIsZSxuKX19bGV0IEloPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLl9zdHlsZXNTZXQ9bmV3IFNldH1hZGRTdHlsZXModCl7Y29uc3QgZT1uZXcgU2V0O3QuZm9yRWFjaCh0PT57dGhpcy5fc3R5bGVzU2V0Lmhhcyh0KXx8KHRoaXMuX3N0eWxlc1NldC5hZGQodCksZS5hZGQodCkpfSksdGhpcy5vblN0eWxlc0FkZGVkKGUpfW9uU3R5bGVzQWRkZWQodCl7fWdldEFsbFN0eWxlcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX3N0eWxlc1NldCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLFJoPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBJaHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuX2RvYz10LHRoaXMuX2hvc3ROb2Rlcz1uZXcgTWFwLHRoaXMuX2hvc3ROb2Rlcy5zZXQodC5oZWFkLFtdKX1fYWRkU3R5bGVzVG9Ib3N0KHQsZSxuKXt0LmZvckVhY2godD0+e2NvbnN0IHI9dGhpcy5fZG9jLmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7ci50ZXh0Q29udGVudD10LG4ucHVzaChlLmFwcGVuZENoaWxkKHIpKX0pfWFkZEhvc3QodCl7Y29uc3QgZT1bXTt0aGlzLl9hZGRTdHlsZXNUb0hvc3QodGhpcy5fc3R5bGVzU2V0LHQsZSksdGhpcy5faG9zdE5vZGVzLnNldCh0LGUpfXJlbW92ZUhvc3QodCl7Y29uc3QgZT10aGlzLl9ob3N0Tm9kZXMuZ2V0KHQpO2UmJmUuZm9yRWFjaChQaCksdGhpcy5faG9zdE5vZGVzLmRlbGV0ZSh0KX1vblN0eWxlc0FkZGVkKHQpe3RoaXMuX2hvc3ROb2Rlcy5mb3JFYWNoKChlLG4pPT57dGhpcy5fYWRkU3R5bGVzVG9Ib3N0KHQsbixlKX0pfW5nT25EZXN0cm95KCl7dGhpcy5faG9zdE5vZGVzLmZvckVhY2godD0+dC5mb3JFYWNoKFBoKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKEd1KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7ZnVuY3Rpb24gUGgodCl7V3UoKS5yZW1vdmUodCl9Y29uc3QgTGg9e3N2ZzoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHhodG1sOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIix4bGluazoiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIseG1sOiJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UiLHhtbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zLyJ9LE5oPS8lQ09NUCUvZztmdW5jdGlvbiBqaCh0LGUsbil7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2xldCBzPWVbcl07QXJyYXkuaXNBcnJheShzKT9qaCh0LHMsbik6KHM9cy5yZXBsYWNlKE5oLHQpLG4ucHVzaChzKSl9cmV0dXJuIG59ZnVuY3Rpb24gTWgodCl7cmV0dXJuIGU9PntpZigiX19uZ1Vud3JhcF9fIj09PWUpcmV0dXJuIHQ7ITE9PT10KGUpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGUucmV0dXJuVmFsdWU9ITEpfX1sZXQgVmg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5ldmVudE1hbmFnZXI9dCx0aGlzLnNoYXJlZFN0eWxlc0hvc3Q9ZSx0aGlzLmFwcElkPW4sdGhpcy5yZW5kZXJlckJ5Q29tcElkPW5ldyBNYXAsdGhpcy5kZWZhdWx0UmVuZGVyZXI9bmV3IEJoKHQpfWNyZWF0ZVJlbmRlcmVyKHQsZSl7aWYoIXR8fCFlKXJldHVybiB0aGlzLmRlZmF1bHRSZW5kZXJlcjtzd2l0Y2goZS5lbmNhcHN1bGF0aW9uKXtjYXNlIHh0LkVtdWxhdGVkOntsZXQgbj10aGlzLnJlbmRlcmVyQnlDb21wSWQuZ2V0KGUuaWQpO3JldHVybiBufHwobj1uZXcgSGgodGhpcy5ldmVudE1hbmFnZXIsdGhpcy5zaGFyZWRTdHlsZXNIb3N0LGUsdGhpcy5hcHBJZCksdGhpcy5yZW5kZXJlckJ5Q29tcElkLnNldChlLmlkLG4pKSxuLmFwcGx5VG9Ib3N0KHQpLG59Y2FzZSAxOmNhc2UgeHQuU2hhZG93RG9tOnJldHVybiBuZXcgVWgodGhpcy5ldmVudE1hbmFnZXIsdGhpcy5zaGFyZWRTdHlsZXNIb3N0LHQsZSk7ZGVmYXVsdDppZighdGhpcy5yZW5kZXJlckJ5Q29tcElkLmhhcyhlLmlkKSl7Y29uc3QgdD1qaChlLmlkLGUuc3R5bGVzLFtdKTt0aGlzLnNoYXJlZFN0eWxlc0hvc3QuYWRkU3R5bGVzKHQpLHRoaXMucmVuZGVyZXJCeUNvbXBJZC5zZXQoZS5pZCx0aGlzLmRlZmF1bHRSZW5kZXJlcil9cmV0dXJuIHRoaXMuZGVmYXVsdFJlbmRlcmVyfX1iZWdpbigpe31lbmQoKXt9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKEZoKSxhcihSaCksYXIoS2wpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjbGFzcyBCaHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmV2ZW50TWFuYWdlcj10LHRoaXMuZGF0YT1PYmplY3QuY3JlYXRlKG51bGwpfWRlc3Ryb3koKXt9Y3JlYXRlRWxlbWVudCh0LGUpe3JldHVybiBlP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhMaFtlXXx8ZSx0KTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpfWNyZWF0ZUNvbW1lbnQodCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodCl9Y3JlYXRlVGV4dCh0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCl9YXBwZW5kQ2hpbGQodCxlKXt0LmFwcGVuZENoaWxkKGUpfWluc2VydEJlZm9yZSh0LGUsbil7dCYmdC5pbnNlcnRCZWZvcmUoZSxuKX1yZW1vdmVDaGlsZCh0LGUpe3QmJnQucmVtb3ZlQ2hpbGQoZSl9c2VsZWN0Um9vdEVsZW1lbnQodCxlKXtsZXQgbj0ic3RyaW5nIj09dHlwZW9mIHQ/ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KTp0O2lmKCFuKXRocm93IG5ldyBFcnJvcihgVGhlIHNlbGVjdG9yICIke3R9IiBkaWQgbm90IG1hdGNoIGFueSBlbGVtZW50c2ApO3JldHVybiBlfHwobi50ZXh0Q29udGVudD0iIiksbn1wYXJlbnROb2RlKHQpe3JldHVybiB0LnBhcmVudE5vZGV9bmV4dFNpYmxpbmcodCl7cmV0dXJuIHQubmV4dFNpYmxpbmd9c2V0QXR0cmlidXRlKHQsZSxuLHIpe2lmKHIpe2U9cisiOiIrZTtjb25zdCBzPUxoW3JdO3M/dC5zZXRBdHRyaWJ1dGVOUyhzLGUsbik6dC5zZXRBdHRyaWJ1dGUoZSxuKX1lbHNlIHQuc2V0QXR0cmlidXRlKGUsbil9cmVtb3ZlQXR0cmlidXRlKHQsZSxuKXtpZihuKXtjb25zdCByPUxoW25dO3I/dC5yZW1vdmVBdHRyaWJ1dGVOUyhyLGUpOnQucmVtb3ZlQXR0cmlidXRlKGAke259OiR7ZX1gKX1lbHNlIHQucmVtb3ZlQXR0cmlidXRlKGUpfWFkZENsYXNzKHQsZSl7dC5jbGFzc0xpc3QuYWRkKGUpfXJlbW92ZUNsYXNzKHQsZSl7dC5jbGFzc0xpc3QucmVtb3ZlKGUpfXNldFN0eWxlKHQsZSxuLHIpe3ImKGlzLkRhc2hDYXNlfGlzLkltcG9ydGFudCk/dC5zdHlsZS5zZXRQcm9wZXJ0eShlLG4sciZpcy5JbXBvcnRhbnQ/ImltcG9ydGFudCI6IiIpOnQuc3R5bGVbZV09bn1yZW1vdmVTdHlsZSh0LGUsbil7biZpcy5EYXNoQ2FzZT90LnN0eWxlLnJlbW92ZVByb3BlcnR5KGUpOnQuc3R5bGVbZV09IiJ9c2V0UHJvcGVydHkodCxlLG4pe3RbZV09bn1zZXRWYWx1ZSh0LGUpe3Qubm9kZVZhbHVlPWV9bGlzdGVuKHQsZSxuKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/dGhpcy5ldmVudE1hbmFnZXIuYWRkR2xvYmFsRXZlbnRMaXN0ZW5lcih0LGUsTWgobikpOnRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodCxlLE1oKG4pKX19Y2xhc3MgSGggZXh0ZW5kcyBCaHtjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcih0KSx0aGlzLmNvbXBvbmVudD1uO2NvbnN0IHM9amgocisiLSIrbi5pZCxuLnN0eWxlcyxbXSk7ZS5hZGRTdHlsZXMocyksdGhpcy5jb250ZW50QXR0cj0iX25nY29udGVudC0lQ09NUCUiLnJlcGxhY2UoTmgscisiLSIrbi5pZCksdGhpcy5ob3N0QXR0cj0iX25naG9zdC0lQ09NUCUiLnJlcGxhY2UoTmgscisiLSIrbi5pZCl9YXBwbHlUb0hvc3QodCl7c3VwZXIuc2V0QXR0cmlidXRlKHQsdGhpcy5ob3N0QXR0ciwiIil9Y3JlYXRlRWxlbWVudCh0LGUpe2NvbnN0IG49c3VwZXIuY3JlYXRlRWxlbWVudCh0LGUpO3JldHVybiBzdXBlci5zZXRBdHRyaWJ1dGUobix0aGlzLmNvbnRlbnRBdHRyLCIiKSxufX1jbGFzcyBVaCBleHRlbmRzIEJoe2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKHQpLHRoaXMuc2hhcmVkU3R5bGVzSG9zdD1lLHRoaXMuaG9zdEVsPW4sdGhpcy5zaGFkb3dSb290PW4uYXR0YWNoU2hhZG93KHttb2RlOiJvcGVuIn0pLHRoaXMuc2hhcmVkU3R5bGVzSG9zdC5hZGRIb3N0KHRoaXMuc2hhZG93Um9vdCk7Y29uc3Qgcz1qaChyLmlkLHIuc3R5bGVzLFtdKTtmb3IobGV0IGk9MDtpPHMubGVuZ3RoO2krKyl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3QudGV4dENvbnRlbnQ9c1tpXSx0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodCl9fW5vZGVPclNoYWRvd1Jvb3QodCl7cmV0dXJuIHQ9PT10aGlzLmhvc3RFbD90aGlzLnNoYWRvd1Jvb3Q6dH1kZXN0cm95KCl7dGhpcy5zaGFyZWRTdHlsZXNIb3N0LnJlbW92ZUhvc3QodGhpcy5zaGFkb3dSb290KX1hcHBlbmRDaGlsZCh0LGUpe3JldHVybiBzdXBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVPclNoYWRvd1Jvb3QodCksZSl9aW5zZXJ0QmVmb3JlKHQsZSxuKXtyZXR1cm4gc3VwZXIuaW5zZXJ0QmVmb3JlKHRoaXMubm9kZU9yU2hhZG93Um9vdCh0KSxlLG4pfXJlbW92ZUNoaWxkKHQsZSl7cmV0dXJuIHN1cGVyLnJlbW92ZUNoaWxkKHRoaXMubm9kZU9yU2hhZG93Um9vdCh0KSxlKX1wYXJlbnROb2RlKHQpe3JldHVybiB0aGlzLm5vZGVPclNoYWRvd1Jvb3Qoc3VwZXIucGFyZW50Tm9kZSh0aGlzLm5vZGVPclNoYWRvd1Jvb3QodCkpKX19bGV0ICRoPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBraHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1zdXBwb3J0cyh0KXtyZXR1cm4hMH1hZGRFdmVudExpc3RlbmVyKHQsZSxuKXtyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKGUsbiwhMSksKCk9PnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUsbil9cmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUsbil7cmV0dXJuIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihHdSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IHpoPVsiYWx0IiwiY29udHJvbCIsIm1ldGEiLCJzaGlmdCJdLHFoPXsiXGIiOiJCYWNrc3BhY2UiLCJcdCI6IlRhYiIsIlx4N2YiOiJEZWxldGUiLCJceDFiIjoiRXNjYXBlIixEZWw6IkRlbGV0ZSIsRXNjOiJFc2NhcGUiLExlZnQ6IkFycm93TGVmdCIsUmlnaHQ6IkFycm93UmlnaHQiLFVwOiJBcnJvd1VwIixEb3duOiJBcnJvd0Rvd24iLE1lbnU6IkNvbnRleHRNZW51IixTY3JvbGw6IlNjcm9sbExvY2siLFdpbjoiT1MifSxXaD17QToiMSIsQjoiMiIsQzoiMyIsRDoiNCIsRToiNSIsRjoiNiIsRzoiNyIsSDoiOCIsSToiOSIsSjoiKiIsSzoiKyIsTToiLSIsTjoiLiIsTzoiLyIsImAiOiIwIiwiXHg5MCI6Ik51bUxvY2sifSxHaD17YWx0OnQ9PnQuYWx0S2V5LGNvbnRyb2w6dD0+dC5jdHJsS2V5LG1ldGE6dD0+dC5tZXRhS2V5LHNoaWZ0OnQ9PnQuc2hpZnRLZXl9O2xldCBaaD0oKCk9PntjbGFzcyB0IGV4dGVuZHMga2h7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9c3VwcG9ydHMoZSl7cmV0dXJuIG51bGwhPXQucGFyc2VFdmVudE5hbWUoZSl9YWRkRXZlbnRMaXN0ZW5lcihlLG4scil7Y29uc3Qgcz10LnBhcnNlRXZlbnROYW1lKG4pLGk9dC5ldmVudENhbGxiYWNrKHMuZnVsbEtleSxyLHRoaXMubWFuYWdlci5nZXRab25lKCkpO3JldHVybiB0aGlzLm1hbmFnZXIuZ2V0Wm9uZSgpLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT5XdSgpLm9uQW5kQ2FuY2VsKGUscy5kb21FdmVudE5hbWUsaSkpfXN0YXRpYyBwYXJzZUV2ZW50TmFtZShlKXtjb25zdCBuPWUudG9Mb3dlckNhc2UoKS5zcGxpdCgiLiIpLHI9bi5zaGlmdCgpO2lmKDA9PT1uLmxlbmd0aHx8ImtleWRvd24iIT09ciYmImtleXVwIiE9PXIpcmV0dXJuIG51bGw7Y29uc3Qgcz10Ll9ub3JtYWxpemVLZXkobi5wb3AoKSk7bGV0IGk9IiI7aWYoemguZm9yRWFjaCh0PT57Y29uc3QgZT1uLmluZGV4T2YodCk7ZT4tMSYmKG4uc3BsaWNlKGUsMSksaSs9dCsiLiIpfSksaSs9cywwIT1uLmxlbmd0aHx8MD09PXMubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IG89e307cmV0dXJuIG8uZG9tRXZlbnROYW1lPXIsby5mdWxsS2V5PWksb31zdGF0aWMgZ2V0RXZlbnRGdWxsS2V5KHQpe2xldCBlPSIiLG49ZnVuY3Rpb24odCl7bGV0IGU9dC5rZXk7aWYobnVsbD09ZSl7aWYoZT10LmtleUlkZW50aWZpZXIsbnVsbD09ZSlyZXR1cm4iVW5pZGVudGlmaWVkIjtlLnN0YXJ0c1dpdGgoIlUrIikmJihlPVN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZS5zdWJzdHJpbmcoMiksMTYpKSwzPT09dC5sb2NhdGlvbiYmV2guaGFzT3duUHJvcGVydHkoZSkmJihlPVdoW2VdKSl9cmV0dXJuIHFoW2VdfHxlfSh0KTtyZXR1cm4gbj1uLnRvTG93ZXJDYXNlKCksIiAiPT09bj9uPSJzcGFjZSI6Ii4iPT09biYmKG49ImRvdCIpLHpoLmZvckVhY2gocj0+e3IhPW4mJigwLEdoW3JdKSh0KSYmKGUrPXIrIi4iKX0pLGUrPW4sZX1zdGF0aWMgZXZlbnRDYWxsYmFjayhlLG4scil7cmV0dXJuIHM9Pnt0LmdldEV2ZW50RnVsbEtleShzKT09PWUmJnIucnVuR3VhcmRlZCgoKT0+bihzKSl9fXN0YXRpYyBfbm9ybWFsaXplS2V5KHQpe3N3aXRjaCh0KXtjYXNlImVzYyI6cmV0dXJuImVzY2FwZSI7ZGVmYXVsdDpyZXR1cm4gdH19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKEd1KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksWWg9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBhcihRaCl9LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKTtmdW5jdGlvbiBLaCh0KXtyZXR1cm4gbmV3IFFoKHQuZ2V0KEd1KSl9bGV0IFFoPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBZaHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuX2RvYz10fXNhbml0aXplKHQsZSl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtzd2l0Y2godCl7Y2FzZSBZci5OT05FOnJldHVybiBlO2Nhc2UgWXIuSFRNTDpyZXR1cm4gRXIoZSwiSFRNTCIpP0RyKGUpOkdyKHRoaXMuX2RvYyxTdHJpbmcoZSkpLnRvU3RyaW5nKCk7Y2FzZSBZci5TVFlMRTpyZXR1cm4gRXIoZSwiU3R5bGUiKT9EcihlKTplO2Nhc2UgWXIuU0NSSVBUOmlmKEVyKGUsIlNjcmlwdCIpKXJldHVybiBEcihlKTt0aHJvdyBuZXcgRXJyb3IoInVuc2FmZSB2YWx1ZSB1c2VkIGluIGEgc2NyaXB0IGNvbnRleHQiKTtjYXNlIFlyLlVSTDpyZXR1cm4gU3IoZSksRXIoZSwiVVJMIik/RHIoZSk6RnIoU3RyaW5nKGUpKTtjYXNlIFlyLlJFU09VUkNFX1VSTDppZihFcihlLCJSZXNvdXJjZVVSTCIpKXJldHVybiBEcihlKTt0aHJvdyBuZXcgRXJyb3IoInVuc2FmZSB2YWx1ZSB1c2VkIGluIGEgcmVzb3VyY2UgVVJMIGNvbnRleHQgKHNlZSBodHRwczovL2cuY28vbmcvc2VjdXJpdHkjeHNzKSIpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIFNlY3VyaXR5Q29udGV4dCAke3R9IChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgKX19YnlwYXNzU2VjdXJpdHlUcnVzdEh0bWwodCl7cmV0dXJuIG5ldyB2cih0KX1ieXBhc3NTZWN1cml0eVRydXN0U3R5bGUodCl7cmV0dXJuIG5ldyBicih0KX1ieXBhc3NTZWN1cml0eVRydXN0U2NyaXB0KHQpe3JldHVybiBuZXcgd3IodCl9YnlwYXNzU2VjdXJpdHlUcnVzdFVybCh0KXtyZXR1cm4gbmV3IENyKHQpfWJ5cGFzc1NlY3VyaXR5VHJ1c3RSZXNvdXJjZVVybCh0KXtyZXR1cm4gbmV3IF9yKHQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihHdSkpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gS2goYXIoQmkpKX0sdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpO2NvbnN0IFhoPWt1KFV1LCJicm93c2VyIixbe3Byb3ZpZGU6dHUsdXNlVmFsdWU6ImJyb3dzZXIifSx7cHJvdmlkZTpKbCx1c2VWYWx1ZTpmdW5jdGlvbigpe19oLm1ha2VDdXJyZW50KCksQWguaW5pdCgpfSxtdWx0aTohMH0se3Byb3ZpZGU6R3UsdXNlRmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtwZT10fShkb2N1bWVudCksZG9jdW1lbnR9LGRlcHM6W119XSksSmg9W1tdLHtwcm92aWRlOlVpLHVzZVZhbHVlOiJyb290In0se3Byb3ZpZGU6bnMsdXNlRmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgbnN9LGRlcHM6W119LHtwcm92aWRlOk9oLHVzZUNsYXNzOiRoLG11bHRpOiEwLGRlcHM6W0d1LGd1LHR1XX0se3Byb3ZpZGU6T2gsdXNlQ2xhc3M6WmgsbXVsdGk6ITAsZGVwczpbR3VdfSxbXSx7cHJvdmlkZTpWaCx1c2VDbGFzczpWaCxkZXBzOltGaCxSaCxLbF19LHtwcm92aWRlOk9hLHVzZUV4aXN0aW5nOlZofSx7cHJvdmlkZTpJaCx1c2VFeGlzdGluZzpSaH0se3Byb3ZpZGU6UmgsdXNlQ2xhc3M6UmgsZGVwczpbR3VdfSx7cHJvdmlkZTpfdSx1c2VDbGFzczpfdSxkZXBzOltndV19LHtwcm92aWRlOkZoLHVzZUNsYXNzOkZoLGRlcHM6W09oLGd1XX0se3Byb3ZpZGU6Q2gsdXNlQ2xhc3M6VGgsZGVwczpbXX0sW11dO2xldCB0ZD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe2lmKHQpdGhyb3cgbmV3IEVycm9yKCJCcm93c2VyTW9kdWxlIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkLiBJZiB5b3UgbmVlZCBhY2Nlc3MgdG8gY29tbW9uIGRpcmVjdGl2ZXMgc3VjaCBhcyBOZ0lmIGFuZCBOZ0ZvciBmcm9tIGEgbGF6eSBsb2FkZWQgbW9kdWxlLCBpbXBvcnQgQ29tbW9uTW9kdWxlIGluc3RlYWQuIil9c3RhdGljIHdpdGhTZXJ2ZXJUcmFuc2l0aW9uKGUpe3JldHVybntuZ01vZHVsZTp0LHByb3ZpZGVyczpbe3Byb3ZpZGU6S2wsdXNlVmFsdWU6ZS5hcHBJZH0se3Byb3ZpZGU6U2gsdXNlRXhpc3Rpbmc6S2x9LHhoXX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKHQsMTIpKX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6SmgsaW1wb3J0czpbeWgsenVdfSksdH0pKCk7ZnVuY3Rpb24gZWQoLi4udCl7bGV0IGU9dFt0Lmxlbmd0aC0xXTtyZXR1cm4gUyhlKT8odC5wb3AoKSxMKHQsZSkpOnoodCl9ZnVuY3Rpb24gbmQodCxlKXtyZXR1cm4gQih0LGUsMSl9ZnVuY3Rpb24gcmQodCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4ubGlmdChuZXcgc2QodCxlKSl9fSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3c7Y2xhc3Mgc2R7Y29uc3RydWN0b3IodCxlKXt0aGlzLnByZWRpY2F0ZT10LHRoaXMudGhpc0FyZz1lfWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IGlkKHQsdGhpcy5wcmVkaWNhdGUsdGhpcy50aGlzQXJnKSl9fWNsYXNzIGlkIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCksdGhpcy5wcmVkaWNhdGU9ZSx0aGlzLnRoaXNBcmc9bix0aGlzLmNvdW50PTB9X25leHQodCl7bGV0IGU7dHJ5e2U9dGhpcy5wcmVkaWNhdGUuY2FsbCh0aGlzLnRoaXNBcmcsdCx0aGlzLmNvdW50KyspfWNhdGNoKG4pe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iobil9ZSYmdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfX1jbGFzcyBvZHt9Y2xhc3MgYWR7fWNsYXNzIGxke2NvbnN0cnVjdG9yKHQpe3RoaXMubm9ybWFsaXplZE5hbWVzPW5ldyBNYXAsdGhpcy5sYXp5VXBkYXRlPW51bGwsdD90aGlzLmxhenlJbml0PSJzdHJpbmciPT10eXBlb2YgdD8oKT0+e3RoaXMuaGVhZGVycz1uZXcgTWFwLHQuc3BsaXQoIlxuIikuZm9yRWFjaCh0PT57Y29uc3QgZT10LmluZGV4T2YoIjoiKTtpZihlPjApe2NvbnN0IG49dC5zbGljZSgwLGUpLHI9bi50b0xvd2VyQ2FzZSgpLHM9dC5zbGljZShlKzEpLnRyaW0oKTt0aGlzLm1heWJlU2V0Tm9ybWFsaXplZE5hbWUobixyKSx0aGlzLmhlYWRlcnMuaGFzKHIpP3RoaXMuaGVhZGVycy5nZXQocikucHVzaChzKTp0aGlzLmhlYWRlcnMuc2V0KHIsW3NdKX19KX06KCk9Pnt0aGlzLmhlYWRlcnM9bmV3IE1hcCxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGU9PntsZXQgbj10W2VdO2NvbnN0IHI9ZS50b0xvd2VyQ2FzZSgpOyJzdHJpbmciPT10eXBlb2YgbiYmKG49W25dKSxuLmxlbmd0aD4wJiYodGhpcy5oZWFkZXJzLnNldChyLG4pLHRoaXMubWF5YmVTZXROb3JtYWxpemVkTmFtZShlLHIpKX0pfTp0aGlzLmhlYWRlcnM9bmV3IE1hcH1oYXModCl7cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXMuaGVhZGVycy5oYXModC50b0xvd2VyQ2FzZSgpKX1nZXQodCl7dGhpcy5pbml0KCk7Y29uc3QgZT10aGlzLmhlYWRlcnMuZ2V0KHQudG9Mb3dlckNhc2UoKSk7cmV0dXJuIGUmJmUubGVuZ3RoPjA/ZVswXTpudWxsfWtleXMoKXtyZXR1cm4gdGhpcy5pbml0KCksQXJyYXkuZnJvbSh0aGlzLm5vcm1hbGl6ZWROYW1lcy52YWx1ZXMoKSl9Z2V0QWxsKHQpe3JldHVybiB0aGlzLmluaXQoKSx0aGlzLmhlYWRlcnMuZ2V0KHQudG9Mb3dlckNhc2UoKSl8fG51bGx9YXBwZW5kKHQsZSl7cmV0dXJuIHRoaXMuY2xvbmUoe25hbWU6dCx2YWx1ZTplLG9wOiJhIn0pfXNldCh0LGUpe3JldHVybiB0aGlzLmNsb25lKHtuYW1lOnQsdmFsdWU6ZSxvcDoicyJ9KX1kZWxldGUodCxlKXtyZXR1cm4gdGhpcy5jbG9uZSh7bmFtZTp0LHZhbHVlOmUsb3A6ImQifSl9bWF5YmVTZXROb3JtYWxpemVkTmFtZSh0LGUpe3RoaXMubm9ybWFsaXplZE5hbWVzLmhhcyhlKXx8dGhpcy5ub3JtYWxpemVkTmFtZXMuc2V0KGUsdCl9aW5pdCgpe3RoaXMubGF6eUluaXQmJih0aGlzLmxhenlJbml0IGluc3RhbmNlb2YgbGQ/dGhpcy5jb3B5RnJvbSh0aGlzLmxhenlJbml0KTp0aGlzLmxhenlJbml0KCksdGhpcy5sYXp5SW5pdD1udWxsLHRoaXMubGF6eVVwZGF0ZSYmKHRoaXMubGF6eVVwZGF0ZS5mb3JFYWNoKHQ9PnRoaXMuYXBwbHlVcGRhdGUodCkpLHRoaXMubGF6eVVwZGF0ZT1udWxsKSl9Y29weUZyb20odCl7dC5pbml0KCksQXJyYXkuZnJvbSh0LmhlYWRlcnMua2V5cygpKS5mb3JFYWNoKGU9Pnt0aGlzLmhlYWRlcnMuc2V0KGUsdC5oZWFkZXJzLmdldChlKSksdGhpcy5ub3JtYWxpemVkTmFtZXMuc2V0KGUsdC5ub3JtYWxpemVkTmFtZXMuZ2V0KGUpKX0pfWNsb25lKHQpe2NvbnN0IGU9bmV3IGxkO3JldHVybiBlLmxhenlJbml0PXRoaXMubGF6eUluaXQmJnRoaXMubGF6eUluaXQgaW5zdGFuY2VvZiBsZD90aGlzLmxhenlJbml0OnRoaXMsZS5sYXp5VXBkYXRlPSh0aGlzLmxhenlVcGRhdGV8fFtdKS5jb25jYXQoW3RdKSxlfWFwcGx5VXBkYXRlKHQpe2NvbnN0IGU9dC5uYW1lLnRvTG93ZXJDYXNlKCk7c3dpdGNoKHQub3Ape2Nhc2UiYSI6Y2FzZSJzIjpsZXQgbj10LnZhbHVlO2lmKCJzdHJpbmciPT10eXBlb2YgbiYmKG49W25dKSwwPT09bi5sZW5ndGgpcmV0dXJuO3RoaXMubWF5YmVTZXROb3JtYWxpemVkTmFtZSh0Lm5hbWUsZSk7Y29uc3Qgcj0oImEiPT09dC5vcD90aGlzLmhlYWRlcnMuZ2V0KGUpOnZvaWQgMCl8fFtdO3IucHVzaCguLi5uKSx0aGlzLmhlYWRlcnMuc2V0KGUscik7YnJlYWs7Y2FzZSJkIjpjb25zdCBzPXQudmFsdWU7aWYocyl7bGV0IHQ9dGhpcy5oZWFkZXJzLmdldChlKTtpZighdClyZXR1cm47dD10LmZpbHRlcih0PT4tMT09PXMuaW5kZXhPZih0KSksMD09PXQubGVuZ3RoPyh0aGlzLmhlYWRlcnMuZGVsZXRlKGUpLHRoaXMubm9ybWFsaXplZE5hbWVzLmRlbGV0ZShlKSk6dGhpcy5oZWFkZXJzLnNldChlLHQpfWVsc2UgdGhpcy5oZWFkZXJzLmRlbGV0ZShlKSx0aGlzLm5vcm1hbGl6ZWROYW1lcy5kZWxldGUoZSl9fWZvckVhY2godCl7dGhpcy5pbml0KCksQXJyYXkuZnJvbSh0aGlzLm5vcm1hbGl6ZWROYW1lcy5rZXlzKCkpLmZvckVhY2goZT0+dCh0aGlzLm5vcm1hbGl6ZWROYW1lcy5nZXQoZSksdGhpcy5oZWFkZXJzLmdldChlKSkpfX1jbGFzcyB1ZHtlbmNvZGVLZXkodCl7cmV0dXJuIGNkKHQpfWVuY29kZVZhbHVlKHQpe3JldHVybiBjZCh0KX1kZWNvZGVLZXkodCl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh0KX1kZWNvZGVWYWx1ZSh0KXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHQpfX1mdW5jdGlvbiBjZCh0KXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHQpLnJlcGxhY2UoLyU0MC9naSwiQCIpLnJlcGxhY2UoLyUzQS9naSwiOiIpLnJlcGxhY2UoLyUyNC9naSwiJCIpLnJlcGxhY2UoLyUyQy9naSwiLCIpLnJlcGxhY2UoLyUzQi9naSwiOyIpLnJlcGxhY2UoLyUyQi9naSwiKyIpLnJlcGxhY2UoLyUzRC9naSwiPSIpLnJlcGxhY2UoLyUzRi9naSwiPyIpLnJlcGxhY2UoLyUyRi9naSwiLyIpfWZ1bmN0aW9uIGhkKHQpe3JldHVybmAke3R9YH1jbGFzcyBkZHtjb25zdHJ1Y3Rvcih0PXt9KXtpZih0aGlzLnVwZGF0ZXM9bnVsbCx0aGlzLmNsb25lRnJvbT1udWxsLHRoaXMuZW5jb2Rlcj10LmVuY29kZXJ8fG5ldyB1ZCx0LmZyb21TdHJpbmcpe2lmKHQuZnJvbU9iamVjdCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBzcGVjaWZ5IGJvdGggZnJvbVN0cmluZyBhbmQgZnJvbU9iamVjdC4iKTt0aGlzLm1hcD1mdW5jdGlvbih0LGUpe2NvbnN0IG49bmV3IE1hcDtyZXR1cm4gdC5sZW5ndGg+MCYmdC5yZXBsYWNlKC9eXD8vLCIiKS5zcGxpdCgiJiIpLmZvckVhY2godD0+e2NvbnN0IHI9dC5pbmRleE9mKCI9IiksW3MsaV09LTE9PXI/W2UuZGVjb2RlS2V5KHQpLCIiXTpbZS5kZWNvZGVLZXkodC5zbGljZSgwLHIpKSxlLmRlY29kZVZhbHVlKHQuc2xpY2UocisxKSldLG89bi5nZXQocyl8fFtdO28ucHVzaChpKSxuLnNldChzLG8pfSksbn0odC5mcm9tU3RyaW5nLHRoaXMuZW5jb2Rlcil9ZWxzZSB0LmZyb21PYmplY3Q/KHRoaXMubWFwPW5ldyBNYXAsT2JqZWN0LmtleXModC5mcm9tT2JqZWN0KS5mb3JFYWNoKGU9Pntjb25zdCBuPXQuZnJvbU9iamVjdFtlXTt0aGlzLm1hcC5zZXQoZSxBcnJheS5pc0FycmF5KG4pP246W25dKX0pKTp0aGlzLm1hcD1udWxsfWhhcyh0KXtyZXR1cm4gdGhpcy5pbml0KCksdGhpcy5tYXAuaGFzKHQpfWdldCh0KXt0aGlzLmluaXQoKTtjb25zdCBlPXRoaXMubWFwLmdldCh0KTtyZXR1cm4gZT9lWzBdOm51bGx9Z2V0QWxsKHQpe3JldHVybiB0aGlzLmluaXQoKSx0aGlzLm1hcC5nZXQodCl8fG51bGx9a2V5cygpe3JldHVybiB0aGlzLmluaXQoKSxBcnJheS5mcm9tKHRoaXMubWFwLmtleXMoKSl9YXBwZW5kKHQsZSl7cmV0dXJuIHRoaXMuY2xvbmUoe3BhcmFtOnQsdmFsdWU6ZSxvcDoiYSJ9KX1hcHBlbmRBbGwodCl7Y29uc3QgZT1bXTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChuPT57Y29uc3Qgcj10W25dO0FycmF5LmlzQXJyYXkocik/ci5mb3JFYWNoKHQ9PntlLnB1c2goe3BhcmFtOm4sdmFsdWU6dCxvcDoiYSJ9KX0pOmUucHVzaCh7cGFyYW06bix2YWx1ZTpyLG9wOiJhIn0pfSksdGhpcy5jbG9uZShlKX1zZXQodCxlKXtyZXR1cm4gdGhpcy5jbG9uZSh7cGFyYW06dCx2YWx1ZTplLG9wOiJzIn0pfWRlbGV0ZSh0LGUpe3JldHVybiB0aGlzLmNsb25lKHtwYXJhbTp0LHZhbHVlOmUsb3A6ImQifSl9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5pbml0KCksdGhpcy5rZXlzKCkubWFwKHQ9Pntjb25zdCBlPXRoaXMuZW5jb2Rlci5lbmNvZGVLZXkodCk7cmV0dXJuIHRoaXMubWFwLmdldCh0KS5tYXAodD0+ZSsiPSIrdGhpcy5lbmNvZGVyLmVuY29kZVZhbHVlKHQpKS5qb2luKCImIil9KS5maWx0ZXIodD0+IiIhPT10KS5qb2luKCImIil9Y2xvbmUodCl7Y29uc3QgZT1uZXcgZGQoe2VuY29kZXI6dGhpcy5lbmNvZGVyfSk7cmV0dXJuIGUuY2xvbmVGcm9tPXRoaXMuY2xvbmVGcm9tfHx0aGlzLGUudXBkYXRlcz0odGhpcy51cGRhdGVzfHxbXSkuY29uY2F0KHQpLGV9aW5pdCgpe251bGw9PT10aGlzLm1hcCYmKHRoaXMubWFwPW5ldyBNYXApLG51bGwhPT10aGlzLmNsb25lRnJvbSYmKHRoaXMuY2xvbmVGcm9tLmluaXQoKSx0aGlzLmNsb25lRnJvbS5rZXlzKCkuZm9yRWFjaCh0PT50aGlzLm1hcC5zZXQodCx0aGlzLmNsb25lRnJvbS5tYXAuZ2V0KHQpKSksdGhpcy51cGRhdGVzLmZvckVhY2godD0+e3N3aXRjaCh0Lm9wKXtjYXNlImEiOmNhc2UicyI6Y29uc3QgZT0oImEiPT09dC5vcD90aGlzLm1hcC5nZXQodC5wYXJhbSk6dm9pZCAwKXx8W107ZS5wdXNoKGhkKHQudmFsdWUpKSx0aGlzLm1hcC5zZXQodC5wYXJhbSxlKTticmVhaztjYXNlImQiOmlmKHZvaWQgMD09PXQudmFsdWUpe3RoaXMubWFwLmRlbGV0ZSh0LnBhcmFtKTticmVha317bGV0IGU9dGhpcy5tYXAuZ2V0KHQucGFyYW0pfHxbXTtjb25zdCBuPWUuaW5kZXhPZihoZCh0LnZhbHVlKSk7LTEhPT1uJiZlLnNwbGljZShuLDEpLGUubGVuZ3RoPjA/dGhpcy5tYXAuc2V0KHQucGFyYW0sZSk6dGhpcy5tYXAuZGVsZXRlKHQucGFyYW0pfX19KSx0aGlzLmNsb25lRnJvbT10aGlzLnVwZGF0ZXM9bnVsbCl9fWNsYXNzIHBke2NvbnN0cnVjdG9yKCl7dGhpcy5tYXA9bmV3IE1hcH1zZXQodCxlKXtyZXR1cm4gdGhpcy5tYXAuc2V0KHQsZSksdGhpc31nZXQodCl7cmV0dXJuIHRoaXMubWFwLmhhcyh0KXx8dGhpcy5tYXAuc2V0KHQsdC5kZWZhdWx0VmFsdWUoKSksdGhpcy5tYXAuZ2V0KHQpfWRlbGV0ZSh0KXtyZXR1cm4gdGhpcy5tYXAuZGVsZXRlKHQpLHRoaXN9a2V5cygpe3JldHVybiB0aGlzLm1hcC5rZXlzKCl9fWZ1bmN0aW9uIGZkKHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcn1mdW5jdGlvbiBnZCh0KXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEJsb2ImJnQgaW5zdGFuY2VvZiBCbG9ifWZ1bmN0aW9uIG1kKHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgRm9ybURhdGEmJnQgaW5zdGFuY2VvZiBGb3JtRGF0YX1jbGFzcyB5ZHtjb25zdHJ1Y3Rvcih0LGUsbixyKXtsZXQgcztpZih0aGlzLnVybD1lLHRoaXMuYm9keT1udWxsLHRoaXMucmVwb3J0UHJvZ3Jlc3M9ITEsdGhpcy53aXRoQ3JlZGVudGlhbHM9ITEsdGhpcy5yZXNwb25zZVR5cGU9Impzb24iLHRoaXMubWV0aG9kPXQudG9VcHBlckNhc2UoKSxmdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSJERUxFVEUiOmNhc2UiR0VUIjpjYXNlIkhFQUQiOmNhc2UiT1BUSU9OUyI6Y2FzZSJKU09OUCI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4hMH19KHRoaXMubWV0aG9kKXx8cj8odGhpcy5ib2R5PXZvaWQgMCE9PW4/bjpudWxsLHM9cik6cz1uLHMmJih0aGlzLnJlcG9ydFByb2dyZXNzPSEhcy5yZXBvcnRQcm9ncmVzcyx0aGlzLndpdGhDcmVkZW50aWFscz0hIXMud2l0aENyZWRlbnRpYWxzLHMucmVzcG9uc2VUeXBlJiYodGhpcy5yZXNwb25zZVR5cGU9cy5yZXNwb25zZVR5cGUpLHMuaGVhZGVycyYmKHRoaXMuaGVhZGVycz1zLmhlYWRlcnMpLHMuY29udGV4dCYmKHRoaXMuY29udGV4dD1zLmNvbnRleHQpLHMucGFyYW1zJiYodGhpcy5wYXJhbXM9cy5wYXJhbXMpKSx0aGlzLmhlYWRlcnN8fCh0aGlzLmhlYWRlcnM9bmV3IGxkKSx0aGlzLmNvbnRleHR8fCh0aGlzLmNvbnRleHQ9bmV3IHBkKSx0aGlzLnBhcmFtcyl7Y29uc3QgdD10aGlzLnBhcmFtcy50b1N0cmluZygpO2lmKDA9PT10Lmxlbmd0aCl0aGlzLnVybFdpdGhQYXJhbXM9ZTtlbHNle2NvbnN0IG49ZS5pbmRleE9mKCI/Iik7dGhpcy51cmxXaXRoUGFyYW1zPWUrKC0xPT09bj8iPyI6bjxlLmxlbmd0aC0xPyImIjoiIikrdH19ZWxzZSB0aGlzLnBhcmFtcz1uZXcgZGQsdGhpcy51cmxXaXRoUGFyYW1zPWV9c2VyaWFsaXplQm9keSgpe3JldHVybiBudWxsPT09dGhpcy5ib2R5P251bGw6ZmQodGhpcy5ib2R5KXx8Z2QodGhpcy5ib2R5KXx8bWQodGhpcy5ib2R5KXx8InN0cmluZyI9PXR5cGVvZiB0aGlzLmJvZHk/dGhpcy5ib2R5OnRoaXMuYm9keSBpbnN0YW5jZW9mIGRkP3RoaXMuYm9keS50b1N0cmluZygpOiJvYmplY3QiPT10eXBlb2YgdGhpcy5ib2R5fHwiYm9vbGVhbiI9PXR5cGVvZiB0aGlzLmJvZHl8fEFycmF5LmlzQXJyYXkodGhpcy5ib2R5KT9KU09OLnN0cmluZ2lmeSh0aGlzLmJvZHkpOnRoaXMuYm9keS50b1N0cmluZygpfWRldGVjdENvbnRlbnRUeXBlSGVhZGVyKCl7cmV0dXJuIG51bGw9PT10aGlzLmJvZHl8fG1kKHRoaXMuYm9keSk/bnVsbDpnZCh0aGlzLmJvZHkpP3RoaXMuYm9keS50eXBlfHxudWxsOmZkKHRoaXMuYm9keSk/bnVsbDoic3RyaW5nIj09dHlwZW9mIHRoaXMuYm9keT8idGV4dC9wbGFpbiI6dGhpcy5ib2R5IGluc3RhbmNlb2YgZGQ/ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04Ijoib2JqZWN0Ij09dHlwZW9mIHRoaXMuYm9keXx8Im51bWJlciI9PXR5cGVvZiB0aGlzLmJvZHl8fCJib29sZWFuIj09dHlwZW9mIHRoaXMuYm9keT8iYXBwbGljYXRpb24vanNvbiI6bnVsbH1jbG9uZSh0PXt9KXt2YXIgZTtjb25zdCBuPXQubWV0aG9kfHx0aGlzLm1ldGhvZCxyPXQudXJsfHx0aGlzLnVybCxzPXQucmVzcG9uc2VUeXBlfHx0aGlzLnJlc3BvbnNlVHlwZSxpPXZvaWQgMCE9PXQuYm9keT90LmJvZHk6dGhpcy5ib2R5LG89dm9pZCAwIT09dC53aXRoQ3JlZGVudGlhbHM/dC53aXRoQ3JlZGVudGlhbHM6dGhpcy53aXRoQ3JlZGVudGlhbHMsYT12b2lkIDAhPT10LnJlcG9ydFByb2dyZXNzP3QucmVwb3J0UHJvZ3Jlc3M6dGhpcy5yZXBvcnRQcm9ncmVzcztsZXQgbD10LmhlYWRlcnN8fHRoaXMuaGVhZGVycyx1PXQucGFyYW1zfHx0aGlzLnBhcmFtcztjb25zdCBjPW51bGwhPT0oZT10LmNvbnRleHQpJiZ2b2lkIDAhPT1lP2U6dGhpcy5jb250ZXh0O3JldHVybiB2b2lkIDAhPT10LnNldEhlYWRlcnMmJihsPU9iamVjdC5rZXlzKHQuc2V0SGVhZGVycykucmVkdWNlKChlLG4pPT5lLnNldChuLHQuc2V0SGVhZGVyc1tuXSksbCkpLHQuc2V0UGFyYW1zJiYodT1PYmplY3Qua2V5cyh0LnNldFBhcmFtcykucmVkdWNlKChlLG4pPT5lLnNldChuLHQuc2V0UGFyYW1zW25dKSx1KSksbmV3IHlkKG4scixpLHtwYXJhbXM6dSxoZWFkZXJzOmwsY29udGV4dDpjLHJlcG9ydFByb2dyZXNzOmEscmVzcG9uc2VUeXBlOnMsd2l0aENyZWRlbnRpYWxzOm99KX19dmFyIHZkPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuU2VudD0wXT0iU2VudCIsdFt0LlVwbG9hZFByb2dyZXNzPTFdPSJVcGxvYWRQcm9ncmVzcyIsdFt0LlJlc3BvbnNlSGVhZGVyPTJdPSJSZXNwb25zZUhlYWRlciIsdFt0LkRvd25sb2FkUHJvZ3Jlc3M9M109IkRvd25sb2FkUHJvZ3Jlc3MiLHRbdC5SZXNwb25zZT00XT0iUmVzcG9uc2UiLHRbdC5Vc2VyPTVdPSJVc2VyIix0fSh7fSk7Y2xhc3MgYmR7Y29uc3RydWN0b3IodCxlPTIwMCxuPSJPSyIpe3RoaXMuaGVhZGVycz10LmhlYWRlcnN8fG5ldyBsZCx0aGlzLnN0YXR1cz12b2lkIDAhPT10LnN0YXR1cz90LnN0YXR1czplLHRoaXMuc3RhdHVzVGV4dD10LnN0YXR1c1RleHR8fG4sdGhpcy51cmw9dC51cmx8fG51bGwsdGhpcy5vaz10aGlzLnN0YXR1cz49MjAwJiZ0aGlzLnN0YXR1czwzMDB9fWNsYXNzIHdkIGV4dGVuZHMgYmR7Y29uc3RydWN0b3IodD17fSl7c3VwZXIodCksdGhpcy50eXBlPXZkLlJlc3BvbnNlSGVhZGVyfWNsb25lKHQ9e30pe3JldHVybiBuZXcgd2Qoe2hlYWRlcnM6dC5oZWFkZXJzfHx0aGlzLmhlYWRlcnMsc3RhdHVzOnZvaWQgMCE9PXQuc3RhdHVzP3Quc3RhdHVzOnRoaXMuc3RhdHVzLHN0YXR1c1RleHQ6dC5zdGF0dXNUZXh0fHx0aGlzLnN0YXR1c1RleHQsdXJsOnQudXJsfHx0aGlzLnVybHx8dm9pZCAwfSl9fWNsYXNzIENkIGV4dGVuZHMgYmR7Y29uc3RydWN0b3IodD17fSl7c3VwZXIodCksdGhpcy50eXBlPXZkLlJlc3BvbnNlLHRoaXMuYm9keT12b2lkIDAhPT10LmJvZHk/dC5ib2R5Om51bGx9Y2xvbmUodD17fSl7cmV0dXJuIG5ldyBDZCh7Ym9keTp2b2lkIDAhPT10LmJvZHk/dC5ib2R5OnRoaXMuYm9keSxoZWFkZXJzOnQuaGVhZGVyc3x8dGhpcy5oZWFkZXJzLHN0YXR1czp2b2lkIDAhPT10LnN0YXR1cz90LnN0YXR1czp0aGlzLnN0YXR1cyxzdGF0dXNUZXh0OnQuc3RhdHVzVGV4dHx8dGhpcy5zdGF0dXNUZXh0LHVybDp0LnVybHx8dGhpcy51cmx8fHZvaWQgMH0pfX1jbGFzcyBfZCBleHRlbmRzIGJke2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsMCwiVW5rbm93biBFcnJvciIpLHRoaXMubmFtZT0iSHR0cEVycm9yUmVzcG9uc2UiLHRoaXMub2s9ITEsdGhpcy5tZXNzYWdlPXRoaXMuc3RhdHVzPj0yMDAmJnRoaXMuc3RhdHVzPDMwMD9gSHR0cCBmYWlsdXJlIGR1cmluZyBwYXJzaW5nIGZvciAke3QudXJsfHwiKHVua25vd24gdXJsKSJ9YDpgSHR0cCBmYWlsdXJlIHJlc3BvbnNlIGZvciAke3QudXJsfHwiKHVua25vd24gdXJsKSJ9OiAke3Quc3RhdHVzfSAke3Quc3RhdHVzVGV4dH1gLHRoaXMuZXJyb3I9dC5lcnJvcnx8bnVsbH19ZnVuY3Rpb24gRGQodCxlKXtyZXR1cm57Ym9keTplLGhlYWRlcnM6dC5oZWFkZXJzLGNvbnRleHQ6dC5jb250ZXh0LG9ic2VydmU6dC5vYnNlcnZlLHBhcmFtczp0LnBhcmFtcyxyZXBvcnRQcm9ncmVzczp0LnJlcG9ydFByb2dyZXNzLHJlc3BvbnNlVHlwZTp0LnJlc3BvbnNlVHlwZSx3aXRoQ3JlZGVudGlhbHM6dC53aXRoQ3JlZGVudGlhbHN9fWxldCBFZD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuaGFuZGxlcj10fXJlcXVlc3QodCxlLG49e30pe2xldCByO2lmKHQgaW5zdGFuY2VvZiB5ZClyPXQ7ZWxzZXtsZXQgcyxpO3M9bi5oZWFkZXJzIGluc3RhbmNlb2YgbGQ/bi5oZWFkZXJzOm5ldyBsZChuLmhlYWRlcnMpLG4ucGFyYW1zJiYoaT1uLnBhcmFtcyBpbnN0YW5jZW9mIGRkP24ucGFyYW1zOm5ldyBkZCh7ZnJvbU9iamVjdDpuLnBhcmFtc30pKSxyPW5ldyB5ZCh0LGUsdm9pZCAwIT09bi5ib2R5P24uYm9keTpudWxsLHtoZWFkZXJzOnMsY29udGV4dDpuLmNvbnRleHQscGFyYW1zOmkscmVwb3J0UHJvZ3Jlc3M6bi5yZXBvcnRQcm9ncmVzcyxyZXNwb25zZVR5cGU6bi5yZXNwb25zZVR5cGV8fCJqc29uIix3aXRoQ3JlZGVudGlhbHM6bi53aXRoQ3JlZGVudGlhbHN9KX1jb25zdCBzPWVkKHIpLnBpcGUobmQodD0+dGhpcy5oYW5kbGVyLmhhbmRsZSh0KSkpO2lmKHQgaW5zdGFuY2VvZiB5ZHx8ImV2ZW50cyI9PT1uLm9ic2VydmUpcmV0dXJuIHM7Y29uc3QgaT1zLnBpcGUocmQodD0+dCBpbnN0YW5jZW9mIENkKSk7c3dpdGNoKG4ub2JzZXJ2ZXx8ImJvZHkiKXtjYXNlImJvZHkiOnN3aXRjaChyLnJlc3BvbnNlVHlwZSl7Y2FzZSJhcnJheWJ1ZmZlciI6cmV0dXJuIGkucGlwZSh4KHQ9PntpZihudWxsIT09dC5ib2R5JiYhKHQuYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSl0aHJvdyBuZXcgRXJyb3IoIlJlc3BvbnNlIGlzIG5vdCBhbiBBcnJheUJ1ZmZlci4iKTtyZXR1cm4gdC5ib2R5fSkpO2Nhc2UiYmxvYiI6cmV0dXJuIGkucGlwZSh4KHQ9PntpZihudWxsIT09dC5ib2R5JiYhKHQuYm9keSBpbnN0YW5jZW9mIEJsb2IpKXRocm93IG5ldyBFcnJvcigiUmVzcG9uc2UgaXMgbm90IGEgQmxvYi4iKTtyZXR1cm4gdC5ib2R5fSkpO2Nhc2UidGV4dCI6cmV0dXJuIGkucGlwZSh4KHQ9PntpZihudWxsIT09dC5ib2R5JiYic3RyaW5nIiE9dHlwZW9mIHQuYm9keSl0aHJvdyBuZXcgRXJyb3IoIlJlc3BvbnNlIGlzIG5vdCBhIHN0cmluZy4iKTtyZXR1cm4gdC5ib2R5fSkpO2Nhc2UianNvbiI6ZGVmYXVsdDpyZXR1cm4gaS5waXBlKHgodD0+dC5ib2R5KSl9Y2FzZSJyZXNwb25zZSI6cmV0dXJuIGk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVucmVhY2hhYmxlOiB1bmhhbmRsZWQgb2JzZXJ2ZSB0eXBlICR7bi5vYnNlcnZlfX1gKX19ZGVsZXRlKHQsZT17fSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiREVMRVRFIix0LGUpfWdldCh0LGU9e30pe3JldHVybiB0aGlzLnJlcXVlc3QoIkdFVCIsdCxlKX1oZWFkKHQsZT17fSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiSEVBRCIsdCxlKX1qc29ucCh0LGUpe3JldHVybiB0aGlzLnJlcXVlc3QoIkpTT05QIix0LHtwYXJhbXM6KG5ldyBkZCkuYXBwZW5kKGUsIkpTT05QX0NBTExCQUNLIiksb2JzZXJ2ZToiYm9keSIscmVzcG9uc2VUeXBlOiJqc29uIn0pfW9wdGlvbnModCxlPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJPUFRJT05TIix0LGUpfXBhdGNoKHQsZSxuPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJQQVRDSCIsdCxEZChuLGUpKX1wb3N0KHQsZSxuPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJQT1NUIix0LERkKG4sZSkpfXB1dCh0LGUsbj17fSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiUFVUIix0LERkKG4sZSkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihvZCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NsYXNzIFNke2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5uZXh0PXQsdGhpcy5pbnRlcmNlcHRvcj1lfWhhbmRsZSh0KXtyZXR1cm4gdGhpcy5pbnRlcmNlcHRvci5pbnRlcmNlcHQodCx0aGlzLm5leHQpfX1jb25zdCB4ZD1uZXcgJG4oIkhUVFBfSU5URVJDRVBUT1JTIik7bGV0IEFkPSgoKT0+e2NsYXNzIHR7aW50ZXJjZXB0KHQsZSl7cmV0dXJuIGUuaGFuZGxlKHQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCBUZD0vXlwpXF1cfScsP1xuLztsZXQgT2Q9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnhockZhY3Rvcnk9dH1oYW5kbGUodCl7aWYoIkpTT05QIj09PXQubWV0aG9kKXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIGNvbnN0cnVjdCBKc29ucCByZXF1ZXN0IHdpdGhvdXQgSHR0cENsaWVudEpzb25wTW9kdWxlIGluc3RhbGxlZC4iKTtyZXR1cm4gbmV3IHYoZT0+e2NvbnN0IG49dGhpcy54aHJGYWN0b3J5LmJ1aWxkKCk7aWYobi5vcGVuKHQubWV0aG9kLHQudXJsV2l0aFBhcmFtcyksdC53aXRoQ3JlZGVudGlhbHMmJihuLndpdGhDcmVkZW50aWFscz0hMCksdC5oZWFkZXJzLmZvckVhY2goKHQsZSk9Pm4uc2V0UmVxdWVzdEhlYWRlcih0LGUuam9pbigiLCIpKSksdC5oZWFkZXJzLmhhcygiQWNjZXB0Iil8fG4uc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IiwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qIiksIXQuaGVhZGVycy5oYXMoIkNvbnRlbnQtVHlwZSIpKXtjb25zdCBlPXQuZGV0ZWN0Q29udGVudFR5cGVIZWFkZXIoKTtudWxsIT09ZSYmbi5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLGUpfWlmKHQucmVzcG9uc2VUeXBlKXtjb25zdCBlPXQucmVzcG9uc2VUeXBlLnRvTG93ZXJDYXNlKCk7bi5yZXNwb25zZVR5cGU9Impzb24iIT09ZT9lOiJ0ZXh0In1jb25zdCByPXQuc2VyaWFsaXplQm9keSgpO2xldCBzPW51bGw7Y29uc3QgaT0oKT0+e2lmKG51bGwhPT1zKXJldHVybiBzO2NvbnN0IGU9MTIyMz09PW4uc3RhdHVzPzIwNDpuLnN0YXR1cyxyPW4uc3RhdHVzVGV4dHx8Ik9LIixpPW5ldyBsZChuLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSxvPWZ1bmN0aW9uKHQpe3JldHVybiJyZXNwb25zZVVSTCJpbiB0JiZ0LnJlc3BvbnNlVVJMP3QucmVzcG9uc2VVUkw6L15YLVJlcXVlc3QtVVJMOi9tLnRlc3QodC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk/dC5nZXRSZXNwb25zZUhlYWRlcigiWC1SZXF1ZXN0LVVSTCIpOm51bGx9KG4pfHx0LnVybDtyZXR1cm4gcz1uZXcgd2Qoe2hlYWRlcnM6aSxzdGF0dXM6ZSxzdGF0dXNUZXh0OnIsdXJsOm99KSxzfSxvPSgpPT57bGV0e2hlYWRlcnM6cixzdGF0dXM6cyxzdGF0dXNUZXh0Om8sdXJsOmF9PWkoKSxsPW51bGw7MjA0IT09cyYmKGw9dm9pZCAwPT09bi5yZXNwb25zZT9uLnJlc3BvbnNlVGV4dDpuLnJlc3BvbnNlKSwwPT09cyYmKHM9bD8yMDA6MCk7bGV0IHU9cz49MjAwJiZzPDMwMDtpZigianNvbiI9PT10LnJlc3BvbnNlVHlwZSYmInN0cmluZyI9PXR5cGVvZiBsKXtjb25zdCB0PWw7bD1sLnJlcGxhY2UoVGQsIiIpO3RyeXtsPSIiIT09bD9KU09OLnBhcnNlKGwpOm51bGx9Y2F0Y2goYyl7bD10LHUmJih1PSExLGw9e2Vycm9yOmMsdGV4dDpsfSl9fXU/KGUubmV4dChuZXcgQ2Qoe2JvZHk6bCxoZWFkZXJzOnIsc3RhdHVzOnMsc3RhdHVzVGV4dDpvLHVybDphfHx2b2lkIDB9KSksZS5jb21wbGV0ZSgpKTplLmVycm9yKG5ldyBfZCh7ZXJyb3I6bCxoZWFkZXJzOnIsc3RhdHVzOnMsc3RhdHVzVGV4dDpvLHVybDphfHx2b2lkIDB9KSl9LGE9dD0+e2NvbnN0e3VybDpyfT1pKCkscz1uZXcgX2Qoe2Vycm9yOnQsc3RhdHVzOm4uc3RhdHVzfHwwLHN0YXR1c1RleHQ6bi5zdGF0dXNUZXh0fHwiVW5rbm93biBFcnJvciIsdXJsOnJ8fHZvaWQgMH0pO2UuZXJyb3Iocyl9O2xldCBsPSExO2NvbnN0IHU9cj0+e2x8fChlLm5leHQoaSgpKSxsPSEwKTtsZXQgcz17dHlwZTp2ZC5Eb3dubG9hZFByb2dyZXNzLGxvYWRlZDpyLmxvYWRlZH07ci5sZW5ndGhDb21wdXRhYmxlJiYocy50b3RhbD1yLnRvdGFsKSwidGV4dCI9PT10LnJlc3BvbnNlVHlwZSYmbi5yZXNwb25zZVRleHQmJihzLnBhcnRpYWxUZXh0PW4ucmVzcG9uc2VUZXh0KSxlLm5leHQocyl9LGM9dD0+e2xldCBuPXt0eXBlOnZkLlVwbG9hZFByb2dyZXNzLGxvYWRlZDp0LmxvYWRlZH07dC5sZW5ndGhDb21wdXRhYmxlJiYobi50b3RhbD10LnRvdGFsKSxlLm5leHQobil9O3JldHVybiBuLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLG8pLG4uYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGEpLG4uYWRkRXZlbnRMaXN0ZW5lcigidGltZW91dCIsYSksbi5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsYSksdC5yZXBvcnRQcm9ncmVzcyYmKG4uYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHUpLG51bGwhPT1yJiZuLnVwbG9hZCYmbi51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLGMpKSxuLnNlbmQociksZS5uZXh0KHt0eXBlOnZkLlNlbnR9KSwoKT0+e24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGEpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYWJvcnQiLGEpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsbyksbi5yZW1vdmVFdmVudExpc3RlbmVyKCJ0aW1lb3V0IixhKSx0LnJlcG9ydFByb2dyZXNzJiYobi5yZW1vdmVFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsdSksbnVsbCE9PXImJm4udXBsb2FkJiZuLnVwbG9hZC5yZW1vdmVFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsYykpLG4ucmVhZHlTdGF0ZSE9PW4uRE9ORSYmbi5hYm9ydCgpfX0pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihDaCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IEZkPW5ldyAkbigiWFNSRl9DT09LSUVfTkFNRSIpLGtkPW5ldyAkbigiWFNSRl9IRUFERVJfTkFNRSIpO2NsYXNzIElke31sZXQgUmQ9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5kb2M9dCx0aGlzLnBsYXRmb3JtPWUsdGhpcy5jb29raWVOYW1lPW4sdGhpcy5sYXN0Q29va2llU3RyaW5nPSIiLHRoaXMubGFzdFRva2VuPW51bGwsdGhpcy5wYXJzZUNvdW50PTB9Z2V0VG9rZW4oKXtpZigic2VydmVyIj09PXRoaXMucGxhdGZvcm0pcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLmRvYy5jb29raWV8fCIiO3JldHVybiB0IT09dGhpcy5sYXN0Q29va2llU3RyaW5nJiYodGhpcy5wYXJzZUNvdW50KyssdGhpcy5sYXN0VG9rZW49dGgodCx0aGlzLmNvb2tpZU5hbWUpLHRoaXMubGFzdENvb2tpZVN0cmluZz10KSx0aGlzLmxhc3RUb2tlbn19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoR3UpLGFyKHR1KSxhcihGZCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLFBkPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLnRva2VuU2VydmljZT10LHRoaXMuaGVhZGVyTmFtZT1lfWludGVyY2VwdCh0LGUpe2NvbnN0IG49dC51cmwudG9Mb3dlckNhc2UoKTtpZigiR0VUIj09PXQubWV0aG9kfHwiSEVBRCI9PT10Lm1ldGhvZHx8bi5zdGFydHNXaXRoKCJodHRwOi8vIil8fG4uc3RhcnRzV2l0aCgiaHR0cHM6Ly8iKSlyZXR1cm4gZS5oYW5kbGUodCk7Y29uc3Qgcj10aGlzLnRva2VuU2VydmljZS5nZXRUb2tlbigpO3JldHVybiBudWxsPT09cnx8dC5oZWFkZXJzLmhhcyh0aGlzLmhlYWRlck5hbWUpfHwodD10LmNsb25lKHtoZWFkZXJzOnQuaGVhZGVycy5zZXQodGhpcy5oZWFkZXJOYW1lLHIpfSkpLGUuaGFuZGxlKHQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihJZCksYXIoa2QpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxMZD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5iYWNrZW5kPXQsdGhpcy5pbmplY3Rvcj1lLHRoaXMuY2hhaW49bnVsbH1oYW5kbGUodCl7aWYobnVsbD09PXRoaXMuY2hhaW4pe2NvbnN0IHQ9dGhpcy5pbmplY3Rvci5nZXQoeGQsW10pO3RoaXMuY2hhaW49dC5yZWR1Y2VSaWdodCgodCxlKT0+bmV3IFNkKHQsZSksdGhpcy5iYWNrZW5kKX1yZXR1cm4gdGhpcy5jaGFpbi5oYW5kbGUodCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKGFkKSxhcihlbykpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLE5kPSgoKT0+e2NsYXNzIHR7c3RhdGljIGRpc2FibGUoKXtyZXR1cm57bmdNb2R1bGU6dCxwcm92aWRlcnM6W3twcm92aWRlOlBkLHVzZUNsYXNzOkFkfV19fXN0YXRpYyB3aXRoT3B0aW9ucyhlPXt9KXtyZXR1cm57bmdNb2R1bGU6dCxwcm92aWRlcnM6W2UuY29va2llTmFtZT97cHJvdmlkZTpGZCx1c2VWYWx1ZTplLmNvb2tpZU5hbWV9OltdLGUuaGVhZGVyTmFtZT97cHJvdmlkZTprZCx1c2VWYWx1ZTplLmhlYWRlck5hbWV9OltdXX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbUGQse3Byb3ZpZGU6eGQsdXNlRXhpc3Rpbmc6UGQsbXVsdGk6ITB9LHtwcm92aWRlOklkLHVzZUNsYXNzOlJkfSx7cHJvdmlkZTpGZCx1c2VWYWx1ZToiWFNSRi1UT0tFTiJ9LHtwcm92aWRlOmtkLHVzZVZhbHVlOiJYLVhTUkYtVE9LRU4ifV19KSx0fSkoKSxqZD0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W0VkLHtwcm92aWRlOm9kLHVzZUNsYXNzOkxkfSxPZCx7cHJvdmlkZTphZCx1c2VFeGlzdGluZzpPZH1dLGltcG9ydHM6W1tOZC53aXRoT3B0aW9ucyh7Y29va2llTmFtZToiWFNSRi1UT0tFTiIsaGVhZGVyTmFtZToiWC1YU1JGLVRPS0VOIn0pXV19KSx0fSkoKTtjbGFzcyBNZCBleHRlbmRzIGh7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpfXNjaGVkdWxlKHQsZT0wKXtyZXR1cm4gdGhpc319Y2xhc3MgVmQgZXh0ZW5kcyBNZHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSksdGhpcy5zY2hlZHVsZXI9dCx0aGlzLndvcms9ZSx0aGlzLnBlbmRpbmc9ITF9c2NoZWR1bGUodCxlPTApe2lmKHRoaXMuY2xvc2VkKXJldHVybiB0aGlzO3RoaXMuc3RhdGU9dDtjb25zdCBuPXRoaXMuaWQscj10aGlzLnNjaGVkdWxlcjtyZXR1cm4gbnVsbCE9biYmKHRoaXMuaWQ9dGhpcy5yZWN5Y2xlQXN5bmNJZChyLG4sZSkpLHRoaXMucGVuZGluZz0hMCx0aGlzLmRlbGF5PWUsdGhpcy5pZD10aGlzLmlkfHx0aGlzLnJlcXVlc3RBc3luY0lkKHIsdGhpcy5pZCxlKSx0aGlzfXJlcXVlc3RBc3luY0lkKHQsZSxuPTApe3JldHVybiBzZXRJbnRlcnZhbCh0LmZsdXNoLmJpbmQodCx0aGlzKSxuKX1yZWN5Y2xlQXN5bmNJZCh0LGUsbj0wKXtpZihudWxsIT09biYmdGhpcy5kZWxheT09PW4mJiExPT09dGhpcy5wZW5kaW5nKXJldHVybiBlO2NsZWFySW50ZXJ2YWwoZSl9ZXhlY3V0ZSh0LGUpe2lmKHRoaXMuY2xvc2VkKXJldHVybiBuZXcgRXJyb3IoImV4ZWN1dGluZyBhIGNhbmNlbGxlZCBhY3Rpb24iKTt0aGlzLnBlbmRpbmc9ITE7Y29uc3Qgbj10aGlzLl9leGVjdXRlKHQsZSk7aWYobilyZXR1cm4gbjshMT09PXRoaXMucGVuZGluZyYmbnVsbCE9dGhpcy5pZCYmKHRoaXMuaWQ9dGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlcix0aGlzLmlkLG51bGwpKX1fZXhlY3V0ZSh0LGUpe2xldCBuLHI9ITE7dHJ5e3RoaXMud29yayh0KX1jYXRjaChzKXtyPSEwLG49ISFzJiZzfHxuZXcgRXJyb3Iocyl9aWYocilyZXR1cm4gdGhpcy51bnN1YnNjcmliZSgpLG59X3Vuc3Vic2NyaWJlKCl7Y29uc3QgdD10aGlzLmlkLGU9dGhpcy5zY2hlZHVsZXIsbj1lLmFjdGlvbnMscj1uLmluZGV4T2YodGhpcyk7dGhpcy53b3JrPW51bGwsdGhpcy5zdGF0ZT1udWxsLHRoaXMucGVuZGluZz0hMSx0aGlzLnNjaGVkdWxlcj1udWxsLC0xIT09ciYmbi5zcGxpY2UociwxKSxudWxsIT10JiYodGhpcy5pZD10aGlzLnJlY3ljbGVBc3luY0lkKGUsdCxudWxsKSksdGhpcy5kZWxheT1udWxsfX1jbGFzcyBCZCBleHRlbmRzIFZke2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxlKSx0aGlzLnNjaGVkdWxlcj10LHRoaXMud29yaz1lfXNjaGVkdWxlKHQsZT0wKXtyZXR1cm4gZT4wP3N1cGVyLnNjaGVkdWxlKHQsZSk6KHRoaXMuZGVsYXk9ZSx0aGlzLnN0YXRlPXQsdGhpcy5zY2hlZHVsZXIuZmx1c2godGhpcyksdGhpcyl9ZXhlY3V0ZSh0LGUpe3JldHVybiBlPjB8fHRoaXMuY2xvc2VkP3N1cGVyLmV4ZWN1dGUodCxlKTp0aGlzLl9leGVjdXRlKHQsZSl9cmVxdWVzdEFzeW5jSWQodCxlLG49MCl7cmV0dXJuIG51bGwhPT1uJiZuPjB8fG51bGw9PT1uJiZ0aGlzLmRlbGF5PjA/c3VwZXIucmVxdWVzdEFzeW5jSWQodCxlLG4pOnQuZmx1c2godGhpcyl9fWxldCBIZD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKGUsbj10Lm5vdyl7dGhpcy5TY2hlZHVsZXJBY3Rpb249ZSx0aGlzLm5vdz1ufXNjaGVkdWxlKHQsZT0wLG4pe3JldHVybiBuZXcgdGhpcy5TY2hlZHVsZXJBY3Rpb24odGhpcyx0KS5zY2hlZHVsZShuLGUpfX1yZXR1cm4gdC5ub3c9KCk9PkRhdGUubm93KCksdH0pKCk7Y2xhc3MgVWQgZXh0ZW5kcyBIZHtjb25zdHJ1Y3Rvcih0LGU9SGQubm93KXtzdXBlcih0LCgpPT5VZC5kZWxlZ2F0ZSYmVWQuZGVsZWdhdGUhPT10aGlzP1VkLmRlbGVnYXRlLm5vdygpOmUoKSksdGhpcy5hY3Rpb25zPVtdLHRoaXMuYWN0aXZlPSExLHRoaXMuc2NoZWR1bGVkPXZvaWQgMH1zY2hlZHVsZSh0LGU9MCxuKXtyZXR1cm4gVWQuZGVsZWdhdGUmJlVkLmRlbGVnYXRlIT09dGhpcz9VZC5kZWxlZ2F0ZS5zY2hlZHVsZSh0LGUsbik6c3VwZXIuc2NoZWR1bGUodCxlLG4pfWZsdXNoKHQpe2NvbnN0e2FjdGlvbnM6ZX09dGhpcztpZih0aGlzLmFjdGl2ZSlyZXR1cm4gdm9pZCBlLnB1c2godCk7bGV0IG47dGhpcy5hY3RpdmU9ITA7ZG97aWYobj10LmV4ZWN1dGUodC5zdGF0ZSx0LmRlbGF5KSlicmVha313aGlsZSh0PWUuc2hpZnQoKSk7aWYodGhpcy5hY3RpdmU9ITEsbil7Zm9yKDt0PWUuc2hpZnQoKTspdC51bnN1YnNjcmliZSgpO3Rocm93IG59fX1jbGFzcyAkZCBleHRlbmRzIFVke31jb25zdCB6ZD1uZXcgJGQoQmQpLHFkPW5ldyB2KHQ9PnQuY29tcGxldGUoKSk7ZnVuY3Rpb24gV2QodCl7cmV0dXJuIHQ/ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB2KGU9PnQuc2NoZWR1bGUoKCk9PmUuY29tcGxldGUoKSkpfSh0KTpxZH1mdW5jdGlvbiBHZCh0LGUpe3JldHVybiBuZXcgdihlP249PmUuc2NoZWR1bGUoWmQsMCx7ZXJyb3I6dCxzdWJzY3JpYmVyOm59KTplPT5lLmVycm9yKHQpKX1mdW5jdGlvbiBaZCh7ZXJyb3I6dCxzdWJzY3JpYmVyOmV9KXtlLmVycm9yKHQpfWxldCBZZD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLmtpbmQ9dCx0aGlzLnZhbHVlPWUsdGhpcy5lcnJvcj1uLHRoaXMuaGFzVmFsdWU9Ik4iPT09dH1vYnNlcnZlKHQpe3N3aXRjaCh0aGlzLmtpbmQpe2Nhc2UiTiI6cmV0dXJuIHQubmV4dCYmdC5uZXh0KHRoaXMudmFsdWUpO2Nhc2UiRSI6cmV0dXJuIHQuZXJyb3ImJnQuZXJyb3IodGhpcy5lcnJvcik7Y2FzZSJDIjpyZXR1cm4gdC5jb21wbGV0ZSYmdC5jb21wbGV0ZSgpfX1kbyh0LGUsbil7c3dpdGNoKHRoaXMua2luZCl7Y2FzZSJOIjpyZXR1cm4gdCYmdCh0aGlzLnZhbHVlKTtjYXNlIkUiOnJldHVybiBlJiZlKHRoaXMuZXJyb3IpO2Nhc2UiQyI6cmV0dXJuIG4mJm4oKX19YWNjZXB0KHQsZSxuKXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIHQubmV4dD90aGlzLm9ic2VydmUodCk6dGhpcy5kbyh0LGUsbil9dG9PYnNlcnZhYmxlKCl7c3dpdGNoKHRoaXMua2luZCl7Y2FzZSJOIjpyZXR1cm4gZWQodGhpcy52YWx1ZSk7Y2FzZSJFIjpyZXR1cm4gR2QodGhpcy5lcnJvcik7Y2FzZSJDIjpyZXR1cm4gV2QoKX10aHJvdyBuZXcgRXJyb3IoInVuZXhwZWN0ZWQgbm90aWZpY2F0aW9uIGtpbmQgdmFsdWUiKX1zdGF0aWMgY3JlYXRlTmV4dChlKXtyZXR1cm4gdm9pZCAwIT09ZT9uZXcgdCgiTiIsZSk6dC51bmRlZmluZWRWYWx1ZU5vdGlmaWNhdGlvbn1zdGF0aWMgY3JlYXRlRXJyb3IoZSl7cmV0dXJuIG5ldyB0KCJFIix2b2lkIDAsZSl9c3RhdGljIGNyZWF0ZUNvbXBsZXRlKCl7cmV0dXJuIHQuY29tcGxldGVOb3RpZmljYXRpb259fXJldHVybiB0LmNvbXBsZXRlTm90aWZpY2F0aW9uPW5ldyB0KCJDIiksdC51bmRlZmluZWRWYWx1ZU5vdGlmaWNhdGlvbj1uZXcgdCgiTiIsdm9pZCAwKSx0fSkoKTtjbGFzcyBLZCBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG49MCl7c3VwZXIodCksdGhpcy5zY2hlZHVsZXI9ZSx0aGlzLmRlbGF5PW59c3RhdGljIGRpc3BhdGNoKHQpe2NvbnN0e25vdGlmaWNhdGlvbjplLGRlc3RpbmF0aW9uOm59PXQ7ZS5vYnNlcnZlKG4pLHRoaXMudW5zdWJzY3JpYmUoKX1zY2hlZHVsZU1lc3NhZ2UodCl7dGhpcy5kZXN0aW5hdGlvbi5hZGQodGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoS2QuZGlzcGF0Y2gsdGhpcy5kZWxheSxuZXcgUWQodCx0aGlzLmRlc3RpbmF0aW9uKSkpfV9uZXh0KHQpe3RoaXMuc2NoZWR1bGVNZXNzYWdlKFlkLmNyZWF0ZU5leHQodCkpfV9lcnJvcih0KXt0aGlzLnNjaGVkdWxlTWVzc2FnZShZZC5jcmVhdGVFcnJvcih0KSksdGhpcy51bnN1YnNjcmliZSgpfV9jb21wbGV0ZSgpe3RoaXMuc2NoZWR1bGVNZXNzYWdlKFlkLmNyZWF0ZUNvbXBsZXRlKCkpLHRoaXMudW5zdWJzY3JpYmUoKX19Y2xhc3MgUWR7Y29uc3RydWN0b3IodCxlKXt0aGlzLm5vdGlmaWNhdGlvbj10LHRoaXMuZGVzdGluYXRpb249ZX19Y2xhc3MgWGQgZXh0ZW5kcyBEe2NvbnN0cnVjdG9yKHQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG4pe3N1cGVyKCksdGhpcy5zY2hlZHVsZXI9bix0aGlzLl9ldmVudHM9W10sdGhpcy5faW5maW5pdGVUaW1lV2luZG93PSExLHRoaXMuX2J1ZmZlclNpemU9dDwxPzE6dCx0aGlzLl93aW5kb3dUaW1lPWU8MT8xOmUsZT09PU51bWJlci5QT1NJVElWRV9JTkZJTklUWT8odGhpcy5faW5maW5pdGVUaW1lV2luZG93PSEwLHRoaXMubmV4dD10aGlzLm5leHRJbmZpbml0ZVRpbWVXaW5kb3cpOnRoaXMubmV4dD10aGlzLm5leHRUaW1lV2luZG93fW5leHRJbmZpbml0ZVRpbWVXaW5kb3codCl7aWYoIXRoaXMuaXNTdG9wcGVkKXtjb25zdCBlPXRoaXMuX2V2ZW50cztlLnB1c2godCksZS5sZW5ndGg+dGhpcy5fYnVmZmVyU2l6ZSYmZS5zaGlmdCgpfXN1cGVyLm5leHQodCl9bmV4dFRpbWVXaW5kb3codCl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLl9ldmVudHMucHVzaChuZXcgSmQodGhpcy5fZ2V0Tm93KCksdCkpLHRoaXMuX3RyaW1CdWZmZXJUaGVuR2V0RXZlbnRzKCkpLHN1cGVyLm5leHQodCl9X3N1YnNjcmliZSh0KXtjb25zdCBlPXRoaXMuX2luZmluaXRlVGltZVdpbmRvdyxuPWU/dGhpcy5fZXZlbnRzOnRoaXMuX3RyaW1CdWZmZXJUaGVuR2V0RXZlbnRzKCkscj10aGlzLnNjaGVkdWxlcixzPW4ubGVuZ3RoO2xldCBpO2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyB3O2lmKHRoaXMuaXNTdG9wcGVkfHx0aGlzLmhhc0Vycm9yP2k9aC5FTVBUWToodGhpcy5vYnNlcnZlcnMucHVzaCh0KSxpPW5ldyBDKHRoaXMsdCkpLHImJnQuYWRkKHQ9bmV3IEtkKHQscikpLGUpZm9yKGxldCBvPTA7bzxzJiYhdC5jbG9zZWQ7bysrKXQubmV4dChuW29dKTtlbHNlIGZvcihsZXQgbz0wO288cyYmIXQuY2xvc2VkO28rKyl0Lm5leHQobltvXS52YWx1ZSk7cmV0dXJuIHRoaXMuaGFzRXJyb3I/dC5lcnJvcih0aGlzLnRocm93bkVycm9yKTp0aGlzLmlzU3RvcHBlZCYmdC5jb21wbGV0ZSgpLGl9X2dldE5vdygpe3JldHVybih0aGlzLnNjaGVkdWxlcnx8emQpLm5vdygpfV90cmltQnVmZmVyVGhlbkdldEV2ZW50cygpe2NvbnN0IHQ9dGhpcy5fZ2V0Tm93KCksZT10aGlzLl9idWZmZXJTaXplLG49dGhpcy5fd2luZG93VGltZSxyPXRoaXMuX2V2ZW50cyxzPXIubGVuZ3RoO2xldCBpPTA7Zm9yKDtpPHMmJiEodC1yW2ldLnRpbWU8bik7KWkrKztyZXR1cm4gcz5lJiYoaT1NYXRoLm1heChpLHMtZSkpLGk+MCYmci5zcGxpY2UoMCxpKSxyfX1jbGFzcyBKZHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudGltZT10LHRoaXMudmFsdWU9ZX19ZnVuY3Rpb24gdHAodCxlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9uPT5uLnBpcGUodHAoKG4scik9Pk4odChuLHIpKS5waXBlKHgoKHQscyk9PmUobix0LHIscykpKSkpOmU9PmUubGlmdChuZXcgZXAodCkpfWNsYXNzIGVwe2NvbnN0cnVjdG9yKHQpe3RoaXMucHJvamVjdD10fWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IG5wKHQsdGhpcy5wcm9qZWN0KSl9fWNsYXNzIG5wIGV4dGVuZHMgTXtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMucHJvamVjdD1lLHRoaXMuaW5kZXg9MH1fbmV4dCh0KXtsZXQgZTtjb25zdCBuPXRoaXMuaW5kZXgrKzt0cnl7ZT10aGlzLnByb2plY3QodCxuKX1jYXRjaChyKXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHIpfXRoaXMuX2lubmVyU3ViKGUpfV9pbm5lclN1Yih0KXtjb25zdCBlPXRoaXMuaW5uZXJTdWJzY3JpcHRpb247ZSYmZS51bnN1YnNjcmliZSgpO2NvbnN0IG49bmV3IGoodGhpcykscj10aGlzLmRlc3RpbmF0aW9uO3IuYWRkKG4pLHRoaXMuaW5uZXJTdWJzY3JpcHRpb249Vih0LG4pLHRoaXMuaW5uZXJTdWJzY3JpcHRpb24hPT1uJiZyLmFkZCh0aGlzLmlubmVyU3Vic2NyaXB0aW9uKX1fY29tcGxldGUoKXtjb25zdHtpbm5lclN1YnNjcmlwdGlvbjp0fT10aGlzO3QmJiF0LmNsb3NlZHx8c3VwZXIuX2NvbXBsZXRlKCksdGhpcy51bnN1YnNjcmliZSgpfV91bnN1YnNjcmliZSgpe3RoaXMuaW5uZXJTdWJzY3JpcHRpb249dm9pZCAwfW5vdGlmeUNvbXBsZXRlKCl7dGhpcy5pbm5lclN1YnNjcmlwdGlvbj12b2lkIDAsdGhpcy5pc1N0b3BwZWQmJnN1cGVyLl9jb21wbGV0ZSgpfW5vdGlmeU5leHQodCl7dGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfX1jb25zdCBycD17c2NoZWR1bGUodCxlKXtjb25zdCBuPXNldFRpbWVvdXQodCxlKTtyZXR1cm4oKT0+Y2xlYXJUaW1lb3V0KG4pfSxzY2hlZHVsZUJlZm9yZVJlbmRlcih0KXtpZigidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdylyZXR1cm4gcnAuc2NoZWR1bGUodCwwKTtpZih2b2lkIDA9PT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKXJldHVybiBycC5zY2hlZHVsZSh0LDE2KTtjb25zdCBlPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodCk7cmV0dXJuKCk9PndpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShlKX19O2xldCBzcDtmdW5jdGlvbiBpcCh0LGUsbil7bGV0IHI9bjtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuISF0JiZ0Lm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREV9KHQpJiZlLnNvbWUoKGUsbik9PiEoIioiPT09ZXx8IWZ1bmN0aW9uKHQsZSl7aWYoIXNwKXtjb25zdCB0PUVsZW1lbnQucHJvdG90eXBlO3NwPXQubWF0Y2hlc3x8dC5tYXRjaGVzU2VsZWN0b3J8fHQubW96TWF0Y2hlc1NlbGVjdG9yfHx0Lm1zTWF0Y2hlc1NlbGVjdG9yfHx0Lm9NYXRjaGVzU2VsZWN0b3J8fHQud2Via2l0TWF0Y2hlc1NlbGVjdG9yfXJldHVybiB0Lm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJnNwLmNhbGwodCxlKX0odCxlKXx8KHI9biwwKSkpLHJ9Y2xhc3Mgb3B7Y29uc3RydWN0b3IodCxlKXt0aGlzLmNvbXBvbmVudEZhY3Rvcnk9ZS5nZXQoRGEpLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHQpfWNyZWF0ZSh0KXtyZXR1cm4gbmV3IGFwKHRoaXMuY29tcG9uZW50RmFjdG9yeSx0KX19Y2xhc3MgYXB7Y29uc3RydWN0b3IodCxlKXt0aGlzLmNvbXBvbmVudEZhY3Rvcnk9dCx0aGlzLmluamVjdG9yPWUsdGhpcy5ldmVudEVtaXR0ZXJzPW5ldyBYZCgxKSx0aGlzLmV2ZW50cz10aGlzLmV2ZW50RW1pdHRlcnMucGlwZSh0cCh0PT5xKC4uLnQpKSksdGhpcy5jb21wb25lbnRSZWY9bnVsbCx0aGlzLnZpZXdDaGFuZ2VEZXRlY3RvclJlZj1udWxsLHRoaXMuaW5wdXRDaGFuZ2VzPW51bGwsdGhpcy5oYXNJbnB1dENoYW5nZXM9ITEsdGhpcy5pbXBsZW1lbnRzT25DaGFuZ2VzPSExLHRoaXMuc2NoZWR1bGVkQ2hhbmdlRGV0ZWN0aW9uRm49bnVsbCx0aGlzLnNjaGVkdWxlZERlc3Ryb3lGbj1udWxsLHRoaXMuaW5pdGlhbElucHV0VmFsdWVzPW5ldyBNYXAsdGhpcy51bmNoYW5nZWRJbnB1dHM9bmV3IFNldCh0aGlzLmNvbXBvbmVudEZhY3RvcnkuaW5wdXRzLm1hcCgoe3Byb3BOYW1lOnR9KT0+dCkpLHRoaXMubmdab25lPXRoaXMuaW5qZWN0b3IuZ2V0KGd1KSx0aGlzLmVsZW1lbnRab25lPSJ1bmRlZmluZWQiPT10eXBlb2YgWm9uZT9udWxsOnRoaXMubmdab25lLnJ1bigoKT0+Wm9uZS5jdXJyZW50KX1jb25uZWN0KHQpe3RoaXMucnVuSW5ab25lKCgpPT57aWYobnVsbCE9PXRoaXMuc2NoZWR1bGVkRGVzdHJveUZuKXJldHVybiB0aGlzLnNjaGVkdWxlZERlc3Ryb3lGbigpLHZvaWQodGhpcy5zY2hlZHVsZWREZXN0cm95Rm49bnVsbCk7bnVsbD09PXRoaXMuY29tcG9uZW50UmVmJiZ0aGlzLmluaXRpYWxpemVDb21wb25lbnQodCl9KX1kaXNjb25uZWN0KCl7dGhpcy5ydW5JblpvbmUoKCk9PntudWxsIT09dGhpcy5jb21wb25lbnRSZWYmJm51bGw9PT10aGlzLnNjaGVkdWxlZERlc3Ryb3lGbiYmKHRoaXMuc2NoZWR1bGVkRGVzdHJveUZuPXJwLnNjaGVkdWxlKCgpPT57bnVsbCE9PXRoaXMuY29tcG9uZW50UmVmJiYodGhpcy5jb21wb25lbnRSZWYuZGVzdHJveSgpLHRoaXMuY29tcG9uZW50UmVmPW51bGwsdGhpcy52aWV3Q2hhbmdlRGV0ZWN0b3JSZWY9bnVsbCl9LDEwKSl9KX1nZXRJbnB1dFZhbHVlKHQpe3JldHVybiB0aGlzLnJ1bkluWm9uZSgoKT0+bnVsbD09PXRoaXMuY29tcG9uZW50UmVmP3RoaXMuaW5pdGlhbElucHV0VmFsdWVzLmdldCh0KTp0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZVt0XSl9c2V0SW5wdXRWYWx1ZSh0LGUpe3RoaXMucnVuSW5ab25lKCgpPT57dmFyIG4scjtudWxsIT09dGhpcy5jb21wb25lbnRSZWY/KChuPWUpIT09KHI9dGhpcy5nZXRJbnB1dFZhbHVlKHQpKSYmKG49PW58fHI9PXIpfHx2b2lkIDA9PT1lJiZ0aGlzLnVuY2hhbmdlZElucHV0cy5oYXModCkpJiYodGhpcy5yZWNvcmRJbnB1dENoYW5nZSh0LGUpLHRoaXMudW5jaGFuZ2VkSW5wdXRzLmRlbGV0ZSh0KSx0aGlzLmhhc0lucHV0Q2hhbmdlcz0hMCx0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZVt0XT1lLHRoaXMuc2NoZWR1bGVEZXRlY3RDaGFuZ2VzKCkpOnRoaXMuaW5pdGlhbElucHV0VmFsdWVzLnNldCh0LGUpfSl9aW5pdGlhbGl6ZUNvbXBvbmVudCh0KXtjb25zdCBlPWVvLmNyZWF0ZSh7cHJvdmlkZXJzOltdLHBhcmVudDp0aGlzLmluamVjdG9yfSksbj1mdW5jdGlvbih0LGUpe2NvbnN0IG49dC5jaGlsZE5vZGVzLHI9ZS5tYXAoKCk9PltdKTtsZXQgcz0tMTtlLnNvbWUoKHQsZSk9PiIqIj09PXQmJihzPWUsITApKTtmb3IobGV0IGk9MCxvPW4ubGVuZ3RoO2k8bzsrK2kpe2NvbnN0IHQ9bltpXSxvPWlwKHQsZSxzKTstMSE9PW8mJnJbb10ucHVzaCh0KX1yZXR1cm4gcn0odCx0aGlzLmNvbXBvbmVudEZhY3RvcnkubmdDb250ZW50U2VsZWN0b3JzKTt0aGlzLmNvbXBvbmVudFJlZj10aGlzLmNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKGUsbix0KSx0aGlzLnZpZXdDaGFuZ2VEZXRlY3RvclJlZj10aGlzLmNvbXBvbmVudFJlZi5pbmplY3Rvci5nZXQoSmEpLHRoaXMuaW1wbGVtZW50c09uQ2hhbmdlcz0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UubmdPbkNoYW5nZXMsdGhpcy5pbml0aWFsaXplSW5wdXRzKCksdGhpcy5pbml0aWFsaXplT3V0cHV0cyh0aGlzLmNvbXBvbmVudFJlZiksdGhpcy5kZXRlY3RDaGFuZ2VzKCksdGhpcy5pbmplY3Rvci5nZXQoTHUpLmF0dGFjaFZpZXcodGhpcy5jb21wb25lbnRSZWYuaG9zdFZpZXcpfWluaXRpYWxpemVJbnB1dHMoKXt0aGlzLmNvbXBvbmVudEZhY3RvcnkuaW5wdXRzLmZvckVhY2goKHtwcm9wTmFtZTp0fSk9Pnt0aGlzLmluaXRpYWxJbnB1dFZhbHVlcy5oYXModCkmJnRoaXMuc2V0SW5wdXRWYWx1ZSh0LHRoaXMuaW5pdGlhbElucHV0VmFsdWVzLmdldCh0KSl9KSx0aGlzLmluaXRpYWxJbnB1dFZhbHVlcy5jbGVhcigpfWluaXRpYWxpemVPdXRwdXRzKHQpe2NvbnN0IGU9dGhpcy5jb21wb25lbnRGYWN0b3J5Lm91dHB1dHMubWFwKCh7cHJvcE5hbWU6ZSx0ZW1wbGF0ZU5hbWU6bn0pPT50Lmluc3RhbmNlW2VdLnBpcGUoeCh0PT4oe25hbWU6bix2YWx1ZTp0fSkpKSk7dGhpcy5ldmVudEVtaXR0ZXJzLm5leHQoZSl9Y2FsbE5nT25DaGFuZ2VzKHQpe2lmKCF0aGlzLmltcGxlbWVudHNPbkNoYW5nZXN8fG51bGw9PT10aGlzLmlucHV0Q2hhbmdlcylyZXR1cm47Y29uc3QgZT10aGlzLmlucHV0Q2hhbmdlczt0aGlzLmlucHV0Q2hhbmdlcz1udWxsLHQuaW5zdGFuY2UubmdPbkNoYW5nZXMoZSl9bWFya1ZpZXdGb3JDaGVjayh0KXt0aGlzLmhhc0lucHV0Q2hhbmdlcyYmKHRoaXMuaGFzSW5wdXRDaGFuZ2VzPSExLHQubWFya0ZvckNoZWNrKCkpfXNjaGVkdWxlRGV0ZWN0Q2hhbmdlcygpe3RoaXMuc2NoZWR1bGVkQ2hhbmdlRGV0ZWN0aW9uRm58fCh0aGlzLnNjaGVkdWxlZENoYW5nZURldGVjdGlvbkZuPXJwLnNjaGVkdWxlQmVmb3JlUmVuZGVyKCgpPT57dGhpcy5zY2hlZHVsZWRDaGFuZ2VEZXRlY3Rpb25Gbj1udWxsLHRoaXMuZGV0ZWN0Q2hhbmdlcygpfSkpfXJlY29yZElucHV0Q2hhbmdlKHQsZSl7aWYoIXRoaXMuaW1wbGVtZW50c09uQ2hhbmdlcylyZXR1cm47bnVsbD09PXRoaXMuaW5wdXRDaGFuZ2VzJiYodGhpcy5pbnB1dENoYW5nZXM9e30pO2NvbnN0IG49dGhpcy5pbnB1dENoYW5nZXNbdF07aWYobilyZXR1cm4gdm9pZChuLmN1cnJlbnRWYWx1ZT1lKTtjb25zdCByPXRoaXMudW5jaGFuZ2VkSW5wdXRzLmhhcyh0KSxzPXI/dm9pZCAwOnRoaXMuZ2V0SW5wdXRWYWx1ZSh0KTt0aGlzLmlucHV0Q2hhbmdlc1t0XT1uZXcgYWUocyxlLHIpfWRldGVjdENoYW5nZXMoKXtudWxsIT09dGhpcy5jb21wb25lbnRSZWYmJih0aGlzLmNhbGxOZ09uQ2hhbmdlcyh0aGlzLmNvbXBvbmVudFJlZiksdGhpcy5tYXJrVmlld0ZvckNoZWNrKHRoaXMudmlld0NoYW5nZURldGVjdG9yUmVmKSx0aGlzLmNvbXBvbmVudFJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCkpfXJ1bkluWm9uZSh0KXtyZXR1cm4gdGhpcy5lbGVtZW50Wm9uZSYmWm9uZS5jdXJyZW50IT09dGhpcy5lbGVtZW50Wm9uZT90aGlzLm5nWm9uZS5ydW4odCk6dCgpfX1jbGFzcyBscCBleHRlbmRzIEhUTUxFbGVtZW50e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLm5nRWxlbWVudEV2ZW50c1N1YnNjcmlwdGlvbj1udWxsfX1uZXcgUmEoIjEyLjAuNSIpO2NvbnN0IHVwPW5ldyAkbigiTmdWYWx1ZUFjY2Vzc29yIiksY3A9bmV3ICRuKCJOZ1ZhbGlkYXRvcnMiKTtsZXQgaHA9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7fSksdH0pKCksZHA9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW2hwXV19KSx0fSkoKSxwcD0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltkcF19KSx0fSkoKTtmdW5jdGlvbiBmcCh0LGUsbixzKXtyZXR1cm4gcihuKSYmKHM9bixuPXZvaWQgMCkscz9mcCh0LGUsbikucGlwZSh4KHQ9PmwodCk/cyguLi50KTpzKHQpKSk6bmV3IHYocj0+e2dwKHQsZSxmdW5jdGlvbih0KXtyLm5leHQoYXJndW1lbnRzLmxlbmd0aD4xP0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk6dCl9LHIsbil9KX1mdW5jdGlvbiBncCh0LGUsbixyLHMpe2xldCBpO2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5yZW1vdmVFdmVudExpc3RlbmVyfSh0KSl7Y29uc3Qgcj10O3QuYWRkRXZlbnRMaXN0ZW5lcihlLG4scyksaT0oKT0+ci5yZW1vdmVFdmVudExpc3RlbmVyKGUsbixzKX1lbHNlIGlmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5vbiYmImZ1bmN0aW9uIj09dHlwZW9mIHQub2ZmfSh0KSl7Y29uc3Qgcj10O3Qub24oZSxuKSxpPSgpPT5yLm9mZihlLG4pfWVsc2UgaWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmFkZExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5yZW1vdmVMaXN0ZW5lcn0odCkpe2NvbnN0IHI9dDt0LmFkZExpc3RlbmVyKGUsbiksaT0oKT0+ci5yZW1vdmVMaXN0ZW5lcihlLG4pfWVsc2V7aWYoIXR8fCF0Lmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGV2ZW50IHRhcmdldCIpO2ZvcihsZXQgaT0wLG89dC5sZW5ndGg7aTxvO2krKylncCh0W2ldLGUsbixyLHMpfXIuYWRkKGkpfWNvbnN0IG1wPW5ldyBVZChWZCk7ZnVuY3Rpb24geXAodCl7cmV0dXJuIWwodCkmJnQtcGFyc2VGbG9hdCh0KSsxPj0wfWZ1bmN0aW9uIHZwKHQpe2NvbnN0e2luZGV4OmUscGVyaW9kOm4sc3Vic2NyaWJlcjpyfT10O2lmKHIubmV4dChlKSwhci5jbG9zZWQpe2lmKC0xPT09bilyZXR1cm4gci5jb21wbGV0ZSgpO3QuaW5kZXg9ZSsxLHRoaXMuc2NoZWR1bGUodCxuKX19ZnVuY3Rpb24gYnAodCxlPW51bGwpe3JldHVybnt0eXBlOjQsc3R5bGVzOmUsdGltaW5nczp0fX1mdW5jdGlvbiB3cCh0KXtyZXR1cm57dHlwZTo2LHN0eWxlczp0LG9mZnNldDpudWxsfX1mdW5jdGlvbiBDcCh0LGUsbj1udWxsKXtyZXR1cm57dHlwZToxLGV4cHI6dCxhbmltYXRpb246ZSxvcHRpb25zOm59fWNsYXNzIF9wIGV4dGVuZHMgRHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuX3ZhbHVlPXR9Z2V0IHZhbHVlKCl7cmV0dXJuIHRoaXMuZ2V0VmFsdWUoKX1fc3Vic2NyaWJlKHQpe2NvbnN0IGU9c3VwZXIuX3N1YnNjcmliZSh0KTtyZXR1cm4gZSYmIWUuY2xvc2VkJiZ0Lm5leHQodGhpcy5fdmFsdWUpLGV9Z2V0VmFsdWUoKXtpZih0aGlzLmhhc0Vycm9yKXRocm93IHRoaXMudGhyb3duRXJyb3I7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IHc7cmV0dXJuIHRoaXMuX3ZhbHVlfW5leHQodCl7c3VwZXIubmV4dCh0aGlzLl92YWx1ZT10KX19Y2xhc3MgRHAgZXh0ZW5kcyBme25vdGlmeU5leHQodCxlLG4scixzKXt0aGlzLmRlc3RpbmF0aW9uLm5leHQoZSl9bm90aWZ5RXJyb3IodCxlKXt0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpfW5vdGlmeUNvbXBsZXRlKHQpe3RoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX19Y2xhc3MgRXAgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcigpLHRoaXMucGFyZW50PXQsdGhpcy5vdXRlclZhbHVlPWUsdGhpcy5vdXRlckluZGV4PW4sdGhpcy5pbmRleD0wfV9uZXh0KHQpe3RoaXMucGFyZW50Lm5vdGlmeU5leHQodGhpcy5vdXRlclZhbHVlLHQsdGhpcy5vdXRlckluZGV4LHRoaXMuaW5kZXgrKyx0aGlzKX1fZXJyb3IodCl7dGhpcy5wYXJlbnQubm90aWZ5RXJyb3IodCx0aGlzKSx0aGlzLnVuc3Vic2NyaWJlKCl9X2NvbXBsZXRlKCl7dGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUodGhpcyksdGhpcy51bnN1YnNjcmliZSgpfX1mdW5jdGlvbiBTcCh0LGUsbixyLHM9bmV3IEVwKHQsbixyKSl7aWYoIXMuY2xvc2VkKXJldHVybiBlIGluc3RhbmNlb2Ygdj9lLnN1YnNjcmliZShzKTpQKGUpKHMpfWNvbnN0IHhwPXt9O2NsYXNzIEFwe2NvbnN0cnVjdG9yKHQpe3RoaXMucmVzdWx0U2VsZWN0b3I9dH1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyBUcCh0LHRoaXMucmVzdWx0U2VsZWN0b3IpKX19Y2xhc3MgVHAgZXh0ZW5kcyBEcHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMucmVzdWx0U2VsZWN0b3I9ZSx0aGlzLmFjdGl2ZT0wLHRoaXMudmFsdWVzPVtdLHRoaXMub2JzZXJ2YWJsZXM9W119X25leHQodCl7dGhpcy52YWx1ZXMucHVzaCh4cCksdGhpcy5vYnNlcnZhYmxlcy5wdXNoKHQpfV9jb21wbGV0ZSgpe2NvbnN0IHQ9dGhpcy5vYnNlcnZhYmxlcyxlPXQubGVuZ3RoO2lmKDA9PT1lKXRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtlbHNle3RoaXMuYWN0aXZlPWUsdGhpcy50b1Jlc3BvbmQ9ZTtmb3IobGV0IG49MDtuPGU7bisrKXRoaXMuYWRkKFNwKHRoaXMsdFtuXSx2b2lkIDAsbikpfX1ub3RpZnlDb21wbGV0ZSh0KXswPT0odGhpcy5hY3RpdmUtPTEpJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9bm90aWZ5TmV4dCh0LGUsbil7Y29uc3Qgcj10aGlzLnZhbHVlcyxzPXRoaXMudG9SZXNwb25kP3Jbbl09PT14cD8tLXRoaXMudG9SZXNwb25kOnRoaXMudG9SZXNwb25kOjA7cltuXT1lLDA9PT1zJiYodGhpcy5yZXN1bHRTZWxlY3Rvcj90aGlzLl90cnlSZXN1bHRTZWxlY3RvcihyKTp0aGlzLmRlc3RpbmF0aW9uLm5leHQoci5zbGljZSgpKSl9X3RyeVJlc3VsdFNlbGVjdG9yKHQpe2xldCBlO3RyeXtlPXRoaXMucmVzdWx0U2VsZWN0b3IuYXBwbHkodGhpcyx0KX1jYXRjaChuKXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKG4pfXRoaXMuZGVzdGluYXRpb24ubmV4dChlKX19Y29uc3QgT3A9KCgpPT57ZnVuY3Rpb24gdCgpe3JldHVybiBFcnJvci5jYWxsKHRoaXMpLHRoaXMubWVzc2FnZT0ibm8gZWxlbWVudHMgaW4gc2VxdWVuY2UiLHRoaXMubmFtZT0iRW1wdHlFcnJvciIsdGhpc31yZXR1cm4gdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLHR9KSgpO2Z1bmN0aW9uIEZwKC4uLnQpe3JldHVybiAkKDEpKGVkKC4uLnQpKX1mdW5jdGlvbiBrcCh0KXtyZXR1cm4gbmV3IHYoZT0+e2xldCBuO3RyeXtuPXQoKX1jYXRjaChyKXtyZXR1cm4gdm9pZCBlLmVycm9yKHIpfXJldHVybihuP04obik6V2QoKSkuc3Vic2NyaWJlKGUpfSl9Y29uc3QgSXA9KCgpPT57ZnVuY3Rpb24gdCgpe3JldHVybiBFcnJvci5jYWxsKHRoaXMpLHRoaXMubWVzc2FnZT0iYXJndW1lbnQgb3V0IG9mIHJhbmdlIix0aGlzLm5hbWU9IkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIix0aGlzfXJldHVybiB0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksdH0pKCk7ZnVuY3Rpb24gUnAodCl7cmV0dXJuIGU9PjA9PT10P1dkKCk6ZS5saWZ0KG5ldyBQcCh0KSl9Y2xhc3MgUHB7Y29uc3RydWN0b3IodCl7aWYodGhpcy50b3RhbD10LHRoaXMudG90YWw8MCl0aHJvdyBuZXcgSXB9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgTHAodCx0aGlzLnRvdGFsKSl9fWNsYXNzIExwIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMudG90YWw9ZSx0aGlzLmNvdW50PTB9X25leHQodCl7Y29uc3QgZT10aGlzLnRvdGFsLG49Kyt0aGlzLmNvdW50O248PWUmJih0aGlzLmRlc3RpbmF0aW9uLm5leHQodCksbj09PWUmJih0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCksdGhpcy51bnN1YnNjcmliZSgpKSl9fWZ1bmN0aW9uIE5wKHQsZSl7bGV0IG49ITE7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+PTImJihuPSEwKSxmdW5jdGlvbihyKXtyZXR1cm4gci5saWZ0KG5ldyBqcCh0LGUsbikpfX1jbGFzcyBqcHtjb25zdHJ1Y3Rvcih0LGUsbj0hMSl7dGhpcy5hY2N1bXVsYXRvcj10LHRoaXMuc2VlZD1lLHRoaXMuaGFzU2VlZD1ufWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IE1wKHQsdGhpcy5hY2N1bXVsYXRvcix0aGlzLnNlZWQsdGhpcy5oYXNTZWVkKSl9fWNsYXNzIE1wIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcih0KSx0aGlzLmFjY3VtdWxhdG9yPWUsdGhpcy5fc2VlZD1uLHRoaXMuaGFzU2VlZD1yLHRoaXMuaW5kZXg9MH1nZXQgc2VlZCgpe3JldHVybiB0aGlzLl9zZWVkfXNldCBzZWVkKHQpe3RoaXMuaGFzU2VlZD0hMCx0aGlzLl9zZWVkPXR9X25leHQodCl7aWYodGhpcy5oYXNTZWVkKXJldHVybiB0aGlzLl90cnlOZXh0KHQpO3RoaXMuc2VlZD10LHRoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1fdHJ5TmV4dCh0KXtjb25zdCBlPXRoaXMuaW5kZXgrKztsZXQgbjt0cnl7bj10aGlzLmFjY3VtdWxhdG9yKHRoaXMuc2VlZCx0LGUpfWNhdGNoKHIpe3RoaXMuZGVzdGluYXRpb24uZXJyb3Iocil9dGhpcy5zZWVkPW4sdGhpcy5kZXN0aW5hdGlvbi5uZXh0KG4pfX1mdW5jdGlvbiBWcCh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7Y29uc3Qgbj1uZXcgQnAodCkscj1lLmxpZnQobik7cmV0dXJuIG4uY2F1Z2h0PXJ9fWNsYXNzIEJwe2NvbnN0cnVjdG9yKHQpe3RoaXMuc2VsZWN0b3I9dH1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyBIcCh0LHRoaXMuc2VsZWN0b3IsdGhpcy5jYXVnaHQpKX19Y2xhc3MgSHAgZXh0ZW5kcyBNe2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0KSx0aGlzLnNlbGVjdG9yPWUsdGhpcy5jYXVnaHQ9bn1lcnJvcih0KXtpZighdGhpcy5pc1N0b3BwZWQpe2xldCBuO3RyeXtuPXRoaXMuc2VsZWN0b3IodCx0aGlzLmNhdWdodCl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgc3VwZXIuZXJyb3IoZSl9dGhpcy5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlKCk7Y29uc3Qgcj1uZXcgaih0aGlzKTt0aGlzLmFkZChyKTtjb25zdCBzPVYobixyKTtzIT09ciYmdGhpcy5hZGQocyl9fX1mdW5jdGlvbiBVcCh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT10P1dkKCk6ZS5saWZ0KG5ldyAkcCh0KSl9fWNsYXNzICRwe2NvbnN0cnVjdG9yKHQpe2lmKHRoaXMudG90YWw9dCx0aGlzLnRvdGFsPDApdGhyb3cgbmV3IElwfWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IHpwKHQsdGhpcy50b3RhbCkpfX1jbGFzcyB6cCBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLnRvdGFsPWUsdGhpcy5yaW5nPW5ldyBBcnJheSx0aGlzLmNvdW50PTB9X25leHQodCl7Y29uc3QgZT10aGlzLnJpbmcsbj10aGlzLnRvdGFsLHI9dGhpcy5jb3VudCsrO2UubGVuZ3RoPG4/ZS5wdXNoKHQpOmVbciVuXT10fV9jb21wbGV0ZSgpe2NvbnN0IHQ9dGhpcy5kZXN0aW5hdGlvbjtsZXQgZT10aGlzLmNvdW50O2lmKGU+MCl7Y29uc3Qgbj10aGlzLmNvdW50Pj10aGlzLnRvdGFsP3RoaXMudG90YWw6dGhpcy5jb3VudCxyPXRoaXMucmluZztmb3IobGV0IHM9MDtzPG47cysrKXtjb25zdCBzPWUrKyVuO3QubmV4dChyW3NdKX19dC5jb21wbGV0ZSgpfX1mdW5jdGlvbiBxcCh0PVpwKXtyZXR1cm4gZT0+ZS5saWZ0KG5ldyBXcCh0KSl9Y2xhc3MgV3B7Y29uc3RydWN0b3IodCl7dGhpcy5lcnJvckZhY3Rvcnk9dH1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyBHcCh0LHRoaXMuZXJyb3JGYWN0b3J5KSl9fWNsYXNzIEdwIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuZXJyb3JGYWN0b3J5PWUsdGhpcy5oYXNWYWx1ZT0hMX1fbmV4dCh0KXt0aGlzLmhhc1ZhbHVlPSEwLHRoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1fY29tcGxldGUoKXtpZih0aGlzLmhhc1ZhbHVlKXJldHVybiB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7e2xldCBlO3RyeXtlPXRoaXMuZXJyb3JGYWN0b3J5KCl9Y2F0Y2godCl7ZT10fXRoaXMuZGVzdGluYXRpb24uZXJyb3IoZSl9fX1mdW5jdGlvbiBacCgpe3JldHVybiBuZXcgT3B9ZnVuY3Rpb24gWXAodD1udWxsKXtyZXR1cm4gZT0+ZS5saWZ0KG5ldyBLcCh0KSl9Y2xhc3MgS3B7Y29uc3RydWN0b3IodCl7dGhpcy5kZWZhdWx0VmFsdWU9dH1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyBRcCh0LHRoaXMuZGVmYXVsdFZhbHVlKSl9fWNsYXNzIFFwIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuZGVmYXVsdFZhbHVlPWUsdGhpcy5pc0VtcHR5PSEwfV9uZXh0KHQpe3RoaXMuaXNFbXB0eT0hMSx0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9X2NvbXBsZXRlKCl7dGhpcy5pc0VtcHR5JiZ0aGlzLmRlc3RpbmF0aW9uLm5leHQodGhpcy5kZWZhdWx0VmFsdWUpLHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX19ZnVuY3Rpb24gWHAodCxlKXtjb25zdCBuPWFyZ3VtZW50cy5sZW5ndGg+PTI7cmV0dXJuIHI9PnIucGlwZSh0P3JkKChlLG4pPT50KGUsbixyKSk6eSxScCgxKSxuP1lwKGUpOnFwKCgpPT5uZXcgT3ApKX1mdW5jdGlvbiBKcCgpe31mdW5jdGlvbiB0Zih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiByLmxpZnQobmV3IGVmKHQsZSxuKSl9fWNsYXNzIGVme2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLm5leHRPck9ic2VydmVyPXQsdGhpcy5lcnJvcj1lLHRoaXMuY29tcGxldGU9bn1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyBuZih0LHRoaXMubmV4dE9yT2JzZXJ2ZXIsdGhpcy5lcnJvcix0aGlzLmNvbXBsZXRlKSl9fWNsYXNzIG5mIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUsbixzKXtzdXBlcih0KSx0aGlzLl90YXBOZXh0PUpwLHRoaXMuX3RhcEVycm9yPUpwLHRoaXMuX3RhcENvbXBsZXRlPUpwLHRoaXMuX3RhcEVycm9yPW58fEpwLHRoaXMuX3RhcENvbXBsZXRlPXN8fEpwLHIoZSk/KHRoaXMuX2NvbnRleHQ9dGhpcyx0aGlzLl90YXBOZXh0PWUpOmUmJih0aGlzLl9jb250ZXh0PWUsdGhpcy5fdGFwTmV4dD1lLm5leHR8fEpwLHRoaXMuX3RhcEVycm9yPWUuZXJyb3J8fEpwLHRoaXMuX3RhcENvbXBsZXRlPWUuY29tcGxldGV8fEpwKX1fbmV4dCh0KXt0cnl7dGhpcy5fdGFwTmV4dC5jYWxsKHRoaXMuX2NvbnRleHQsdCl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlKX10aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9X2Vycm9yKHQpe3RyeXt0aGlzLl90YXBFcnJvci5jYWxsKHRoaXMuX2NvbnRleHQsdCl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX10aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpfV9jb21wbGV0ZSgpe3RyeXt0aGlzLl90YXBDb21wbGV0ZS5jYWxsKHRoaXMuX2NvbnRleHQpfWNhdGNoKHQpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9cmV0dXJuIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX19Y2xhc3MgcmZ7Y29uc3RydWN0b3IodCl7dGhpcy5jYWxsYmFjaz10fWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IHNmKHQsdGhpcy5jYWxsYmFjaykpfX1jbGFzcyBzZiBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLmFkZChuZXcgaChlKSl9fWNsYXNzIG9me2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5pZD10LHRoaXMudXJsPWV9fWNsYXNzIGFmIGV4dGVuZHMgb2Z7Y29uc3RydWN0b3IodCxlLG49ImltcGVyYXRpdmUiLHI9bnVsbCl7c3VwZXIodCxlKSx0aGlzLm5hdmlnYXRpb25UcmlnZ2VyPW4sdGhpcy5yZXN0b3JlZFN0YXRlPXJ9dG9TdHJpbmcoKXtyZXR1cm5gTmF2aWdhdGlvblN0YXJ0KGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScpYH19Y2xhc3MgbGYgZXh0ZW5kcyBvZntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCxlKSx0aGlzLnVybEFmdGVyUmVkaXJlY3RzPW59dG9TdHJpbmcoKXtyZXR1cm5gTmF2aWdhdGlvbkVuZChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nKWB9fWNsYXNzIHVmIGV4dGVuZHMgb2Z7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQsZSksdGhpcy5yZWFzb249bn10b1N0cmluZygpe3JldHVybmBOYXZpZ2F0aW9uQ2FuY2VsKGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScpYH19Y2xhc3MgY2YgZXh0ZW5kcyBvZntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCxlKSx0aGlzLmVycm9yPW59dG9TdHJpbmcoKXtyZXR1cm5gTmF2aWdhdGlvbkVycm9yKGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIGVycm9yOiAke3RoaXMuZXJyb3J9KWB9fWNsYXNzIGhmIGV4dGVuZHMgb2Z7Y29uc3RydWN0b3IodCxlLG4scil7c3VwZXIodCxlKSx0aGlzLnVybEFmdGVyUmVkaXJlY3RzPW4sdGhpcy5zdGF0ZT1yfXRvU3RyaW5nKCl7cmV0dXJuYFJvdXRlc1JlY29nbml6ZWQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgdXJsQWZ0ZXJSZWRpcmVjdHM6ICcke3RoaXMudXJsQWZ0ZXJSZWRpcmVjdHN9Jywgc3RhdGU6ICR7dGhpcy5zdGF0ZX0pYH19Y2xhc3MgZGYgZXh0ZW5kcyBvZntjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcih0LGUpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bix0aGlzLnN0YXRlPXJ9dG9TdHJpbmcoKXtyZXR1cm5gR3VhcmRzQ2hlY2tTdGFydChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nLCBzdGF0ZTogJHt0aGlzLnN0YXRlfSlgfX1jbGFzcyBwZiBleHRlbmRzIG9me2NvbnN0cnVjdG9yKHQsZSxuLHIscyl7c3VwZXIodCxlKSx0aGlzLnVybEFmdGVyUmVkaXJlY3RzPW4sdGhpcy5zdGF0ZT1yLHRoaXMuc2hvdWxkQWN0aXZhdGU9c310b1N0cmluZygpe3JldHVybmBHdWFyZHNDaGVja0VuZChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nLCBzdGF0ZTogJHt0aGlzLnN0YXRlfSwgc2hvdWxkQWN0aXZhdGU6ICR7dGhpcy5zaG91bGRBY3RpdmF0ZX0pYH19Y2xhc3MgZmYgZXh0ZW5kcyBvZntjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcih0LGUpLHRoaXMudXJsQWZ0ZXJSZWRpcmVjdHM9bix0aGlzLnN0YXRlPXJ9dG9TdHJpbmcoKXtyZXR1cm5gUmVzb2x2ZVN0YXJ0KGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIHVybEFmdGVyUmVkaXJlY3RzOiAnJHt0aGlzLnVybEFmdGVyUmVkaXJlY3RzfScsIHN0YXRlOiAke3RoaXMuc3RhdGV9KWB9fWNsYXNzIGdmIGV4dGVuZHMgb2Z7Y29uc3RydWN0b3IodCxlLG4scil7c3VwZXIodCxlKSx0aGlzLnVybEFmdGVyUmVkaXJlY3RzPW4sdGhpcy5zdGF0ZT1yfXRvU3RyaW5nKCl7cmV0dXJuYFJlc29sdmVFbmQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgdXJsQWZ0ZXJSZWRpcmVjdHM6ICcke3RoaXMudXJsQWZ0ZXJSZWRpcmVjdHN9Jywgc3RhdGU6ICR7dGhpcy5zdGF0ZX0pYH19Y2xhc3MgbWZ7Y29uc3RydWN0b3IodCl7dGhpcy5yb3V0ZT10fXRvU3RyaW5nKCl7cmV0dXJuYFJvdXRlQ29uZmlnTG9hZFN0YXJ0KHBhdGg6ICR7dGhpcy5yb3V0ZS5wYXRofSlgfX1jbGFzcyB5Zntjb25zdHJ1Y3Rvcih0KXt0aGlzLnJvdXRlPXR9dG9TdHJpbmcoKXtyZXR1cm5gUm91dGVDb25maWdMb2FkRW5kKHBhdGg6ICR7dGhpcy5yb3V0ZS5wYXRofSlgfX1jbGFzcyB2Zntjb25zdHJ1Y3Rvcih0KXt0aGlzLnNuYXBzaG90PXR9dG9TdHJpbmcoKXtyZXR1cm5gQ2hpbGRBY3RpdmF0aW9uU3RhcnQocGF0aDogJyR7dGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZyYmdGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZy5wYXRofHwiIn0nKWB9fWNsYXNzIGJme2NvbnN0cnVjdG9yKHQpe3RoaXMuc25hcHNob3Q9dH10b1N0cmluZygpe3JldHVybmBDaGlsZEFjdGl2YXRpb25FbmQocGF0aDogJyR7dGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZyYmdGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZy5wYXRofHwiIn0nKWB9fWNsYXNzIHdme2NvbnN0cnVjdG9yKHQpe3RoaXMuc25hcHNob3Q9dH10b1N0cmluZygpe3JldHVybmBBY3RpdmF0aW9uU3RhcnQocGF0aDogJyR7dGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZyYmdGhpcy5zbmFwc2hvdC5yb3V0ZUNvbmZpZy5wYXRofHwiIn0nKWB9fWNsYXNzIENme2NvbnN0cnVjdG9yKHQpe3RoaXMuc25hcHNob3Q9dH10b1N0cmluZygpe3JldHVybmBBY3RpdmF0aW9uRW5kKHBhdGg6ICcke3RoaXMuc25hcHNob3Qucm91dGVDb25maWcmJnRoaXMuc25hcHNob3Qucm91dGVDb25maWcucGF0aHx8IiJ9JylgfX1jbGFzcyBfZntjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5yb3V0ZXJFdmVudD10LHRoaXMucG9zaXRpb249ZSx0aGlzLmFuY2hvcj1ufXRvU3RyaW5nKCl7cmV0dXJuYFNjcm9sbChhbmNob3I6ICcke3RoaXMuYW5jaG9yfScsIHBvc2l0aW9uOiAnJHt0aGlzLnBvc2l0aW9uP2Ake3RoaXMucG9zaXRpb25bMF19LCAke3RoaXMucG9zaXRpb25bMV19YDpudWxsfScpYH19Y29uc3QgRGY9InByaW1hcnkiO2NsYXNzIEVme2NvbnN0cnVjdG9yKHQpe3RoaXMucGFyYW1zPXR8fHt9fWhhcyh0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMucGFyYW1zLHQpfWdldCh0KXtpZih0aGlzLmhhcyh0KSl7Y29uc3QgZT10aGlzLnBhcmFtc1t0XTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lWzBdOmV9cmV0dXJuIG51bGx9Z2V0QWxsKHQpe2lmKHRoaXMuaGFzKHQpKXtjb25zdCBlPXRoaXMucGFyYW1zW3RdO3JldHVybiBBcnJheS5pc0FycmF5KGUpP2U6W2VdfXJldHVybltdfWdldCBrZXlzKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKX19ZnVuY3Rpb24gU2YodCl7cmV0dXJuIG5ldyBFZih0KX1mdW5jdGlvbiB4Zih0KXtjb25zdCBlPUVycm9yKCJOYXZpZ2F0aW9uQ2FuY2VsaW5nRXJyb3I6ICIrdCk7cmV0dXJuIGUubmdOYXZpZ2F0aW9uQ2FuY2VsaW5nRXJyb3I9ITAsZX1mdW5jdGlvbiBBZih0LGUsbil7Y29uc3Qgcj1uLnBhdGguc3BsaXQoIi8iKTtpZihyLmxlbmd0aD50Lmxlbmd0aClyZXR1cm4gbnVsbDtpZigiZnVsbCI9PT1uLnBhdGhNYXRjaCYmKGUuaGFzQ2hpbGRyZW4oKXx8ci5sZW5ndGg8dC5sZW5ndGgpKXJldHVybiBudWxsO2NvbnN0IHM9e307Zm9yKGxldCBpPTA7aTxyLmxlbmd0aDtpKyspe2NvbnN0IGU9cltpXSxuPXRbaV07aWYoZS5zdGFydHNXaXRoKCI6Iikpc1tlLnN1YnN0cmluZygxKV09bjtlbHNlIGlmKGUhPT1uLnBhdGgpcmV0dXJuIG51bGx9cmV0dXJue2NvbnN1bWVkOnQuc2xpY2UoMCxyLmxlbmd0aCkscG9zUGFyYW1zOnN9fWZ1bmN0aW9uIFRmKHQsZSl7Y29uc3Qgbj10P09iamVjdC5rZXlzKHQpOnZvaWQgMCxyPWU/T2JqZWN0LmtleXMoZSk6dm9pZCAwO2lmKCFufHwhcnx8bi5sZW5ndGghPXIubGVuZ3RoKXJldHVybiExO2xldCBzO2ZvcihsZXQgaT0wO2k8bi5sZW5ndGg7aSsrKWlmKHM9bltpXSwhT2YodFtzXSxlW3NdKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBPZih0LGUpe2lmKEFycmF5LmlzQXJyYXkodCkmJkFycmF5LmlzQXJyYXkoZSkpe2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Y29uc3Qgbj1bLi4udF0uc29ydCgpLHI9Wy4uLmVdLnNvcnQoKTtyZXR1cm4gbi5ldmVyeSgodCxlKT0+cltlXT09PXQpfXJldHVybiB0PT09ZX1mdW5jdGlvbiBGZih0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSx0KX1mdW5jdGlvbiBrZih0KXtyZXR1cm4gdC5sZW5ndGg+MD90W3QubGVuZ3RoLTFdOm51bGx9ZnVuY3Rpb24gSWYodCxlKXtmb3IoY29uc3QgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJmUodFtuXSxuKX1mdW5jdGlvbiBSZih0KXtyZXR1cm4gT28odCk/dDpUbyh0KT9OKFByb21pc2UucmVzb2x2ZSh0KSk6ZWQodCl9Y29uc3QgUGY9e2V4YWN0OmZ1bmN0aW9uIHQoZSxuLHIpe2lmKCEkZihlLnNlZ21lbnRzLG4uc2VnbWVudHMpKXJldHVybiExO2lmKCFWZihlLnNlZ21lbnRzLG4uc2VnbWVudHMscikpcmV0dXJuITE7aWYoZS5udW1iZXJPZkNoaWxkcmVuIT09bi5udW1iZXJPZkNoaWxkcmVuKXJldHVybiExO2Zvcihjb25zdCBzIGluIG4uY2hpbGRyZW4pe2lmKCFlLmNoaWxkcmVuW3NdKXJldHVybiExO2lmKCF0KGUuY2hpbGRyZW5bc10sbi5jaGlsZHJlbltzXSxyKSlyZXR1cm4hMX1yZXR1cm4hMH0sc3Vic2V0OmpmfSxMZj17ZXhhY3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gVGYodCxlKX0sc3Vic2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmxlbmd0aDw9T2JqZWN0LmtleXModCkubGVuZ3RoJiZPYmplY3Qua2V5cyhlKS5ldmVyeShuPT5PZih0W25dLGVbbl0pKX0saWdub3JlZDooKT0+ITB9O2Z1bmN0aW9uIE5mKHQsZSxuKXtyZXR1cm4gUGZbbi5wYXRoc10odC5yb290LGUucm9vdCxuLm1hdHJpeFBhcmFtcykmJkxmW24ucXVlcnlQYXJhbXNdKHQucXVlcnlQYXJhbXMsZS5xdWVyeVBhcmFtcykmJiEoImV4YWN0Ij09PW4uZnJhZ21lbnQmJnQuZnJhZ21lbnQhPT1lLmZyYWdtZW50KX1mdW5jdGlvbiBqZih0LGUsbil7cmV0dXJuIE1mKHQsZSxlLnNlZ21lbnRzLG4pfWZ1bmN0aW9uIE1mKHQsZSxuLHIpe2lmKHQuc2VnbWVudHMubGVuZ3RoPm4ubGVuZ3RoKXtjb25zdCBzPXQuc2VnbWVudHMuc2xpY2UoMCxuLmxlbmd0aCk7cmV0dXJuISEkZihzLG4pJiYhZS5oYXNDaGlsZHJlbigpJiYhIVZmKHMsbixyKX1pZih0LnNlZ21lbnRzLmxlbmd0aD09PW4ubGVuZ3RoKXtpZighJGYodC5zZWdtZW50cyxuKSlyZXR1cm4hMTtpZighVmYodC5zZWdtZW50cyxuLHIpKXJldHVybiExO2Zvcihjb25zdCBuIGluIGUuY2hpbGRyZW4pe2lmKCF0LmNoaWxkcmVuW25dKXJldHVybiExO2lmKCFqZih0LmNoaWxkcmVuW25dLGUuY2hpbGRyZW5bbl0scikpcmV0dXJuITF9cmV0dXJuITB9e2NvbnN0IHM9bi5zbGljZSgwLHQuc2VnbWVudHMubGVuZ3RoKSxpPW4uc2xpY2UodC5zZWdtZW50cy5sZW5ndGgpO3JldHVybiEhJGYodC5zZWdtZW50cyxzKSYmISFWZih0LnNlZ21lbnRzLHMscikmJiEhdC5jaGlsZHJlbi5wcmltYXJ5JiZNZih0LmNoaWxkcmVuLnByaW1hcnksZSxpLHIpfX1mdW5jdGlvbiBWZih0LGUsbil7cmV0dXJuIGUuZXZlcnkoKGUscik9PkxmW25dKHRbcl0ucGFyYW1ldGVycyxlLnBhcmFtZXRlcnMpKX1jbGFzcyBCZntjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5yb290PXQsdGhpcy5xdWVyeVBhcmFtcz1lLHRoaXMuZnJhZ21lbnQ9bn1nZXQgcXVlcnlQYXJhbU1hcCgpe3JldHVybiB0aGlzLl9xdWVyeVBhcmFtTWFwfHwodGhpcy5fcXVlcnlQYXJhbU1hcD1TZih0aGlzLnF1ZXJ5UGFyYW1zKSksdGhpcy5fcXVlcnlQYXJhbU1hcH10b1N0cmluZygpe3JldHVybiBXZi5zZXJpYWxpemUodGhpcyl9fWNsYXNzIEhme2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5zZWdtZW50cz10LHRoaXMuY2hpbGRyZW49ZSx0aGlzLnBhcmVudD1udWxsLElmKGUsKHQsZSk9PnQucGFyZW50PXRoaXMpfWhhc0NoaWxkcmVuKCl7cmV0dXJuIHRoaXMubnVtYmVyT2ZDaGlsZHJlbj4wfWdldCBudW1iZXJPZkNoaWxkcmVuKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuY2hpbGRyZW4pLmxlbmd0aH10b1N0cmluZygpe3JldHVybiBHZih0aGlzKX19Y2xhc3MgVWZ7Y29uc3RydWN0b3IodCxlKXt0aGlzLnBhdGg9dCx0aGlzLnBhcmFtZXRlcnM9ZX1nZXQgcGFyYW1ldGVyTWFwKCl7cmV0dXJuIHRoaXMuX3BhcmFtZXRlck1hcHx8KHRoaXMuX3BhcmFtZXRlck1hcD1TZih0aGlzLnBhcmFtZXRlcnMpKSx0aGlzLl9wYXJhbWV0ZXJNYXB9dG9TdHJpbmcoKXtyZXR1cm4gdGcodGhpcyl9fWZ1bmN0aW9uICRmKHQsZSl7cmV0dXJuIHQubGVuZ3RoPT09ZS5sZW5ndGgmJnQuZXZlcnkoKHQsbik9PnQucGF0aD09PWVbbl0ucGF0aCl9Y2xhc3MgemZ7fWNsYXNzIHFme3BhcnNlKHQpe2NvbnN0IGU9bmV3IGlnKHQpO3JldHVybiBuZXcgQmYoZS5wYXJzZVJvb3RTZWdtZW50KCksZS5wYXJzZVF1ZXJ5UGFyYW1zKCksZS5wYXJzZUZyYWdtZW50KCkpfXNlcmlhbGl6ZSh0KXt2YXIgZTtyZXR1cm5gLyR7WmYodC5yb290LCEwKX0ke2Z1bmN0aW9uKHQpe2NvbnN0IGU9T2JqZWN0LmtleXModCkubWFwKGU9Pntjb25zdCBuPXRbZV07cmV0dXJuIEFycmF5LmlzQXJyYXkobik/bi5tYXAodD0+YCR7S2YoZSl9PSR7S2YodCl9YCkuam9pbigiJiIpOmAke0tmKGUpfT0ke0tmKG4pfWB9KS5maWx0ZXIodD0+ISF0KTtyZXR1cm4gZS5sZW5ndGg/YD8ke2Uuam9pbigiJiIpfWA6IiJ9KHQucXVlcnlQYXJhbXMpfSR7InN0cmluZyI9PXR5cGVvZiB0LmZyYWdtZW50P2AjJHtlPXQuZnJhZ21lbnQsZW5jb2RlVVJJKGUpfWA6IiJ9YH19Y29uc3QgV2Y9bmV3IHFmO2Z1bmN0aW9uIEdmKHQpe3JldHVybiB0LnNlZ21lbnRzLm1hcCh0PT50Zyh0KSkuam9pbigiLyIpfWZ1bmN0aW9uIFpmKHQsZSl7aWYoIXQuaGFzQ2hpbGRyZW4oKSlyZXR1cm4gR2YodCk7aWYoZSl7Y29uc3QgZT10LmNoaWxkcmVuLnByaW1hcnk/WmYodC5jaGlsZHJlbi5wcmltYXJ5LCExKToiIixuPVtdO3JldHVybiBJZih0LmNoaWxkcmVuLCh0LGUpPT57ZSE9PURmJiZuLnB1c2goYCR7ZX06JHtaZih0LCExKX1gKX0pLG4ubGVuZ3RoPjA/YCR7ZX0oJHtuLmpvaW4oIi8vIil9KWA6ZX17Y29uc3QgZT1mdW5jdGlvbih0LGUpe2xldCBuPVtdO3JldHVybiBJZih0LmNoaWxkcmVuLCh0LHIpPT57cj09PURmJiYobj1uLmNvbmNhdChlKHQscikpKX0pLElmKHQuY2hpbGRyZW4sKHQscik9PntyIT09RGYmJihuPW4uY29uY2F0KGUodCxyKSkpfSksbn0odCwoZSxuKT0+bj09PURmP1taZih0LmNoaWxkcmVuLnByaW1hcnksITEpXTpbYCR7bn06JHtaZihlLCExKX1gXSk7cmV0dXJuIDE9PT1PYmplY3Qua2V5cyh0LmNoaWxkcmVuKS5sZW5ndGgmJm51bGwhPXQuY2hpbGRyZW4ucHJpbWFyeT9gJHtHZih0KX0vJHtlWzBdfWA6YCR7R2YodCl9Lygke2Uuam9pbigiLy8iKX0pYH19ZnVuY3Rpb24gWWYodCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0KS5yZXBsYWNlKC8lNDAvZywiQCIpLnJlcGxhY2UoLyUzQS9naSwiOiIpLnJlcGxhY2UoLyUyNC9nLCIkIikucmVwbGFjZSgvJTJDL2dpLCIsIil9ZnVuY3Rpb24gS2YodCl7cmV0dXJuIFlmKHQpLnJlcGxhY2UoLyUzQi9naSwiOyIpfWZ1bmN0aW9uIFFmKHQpe3JldHVybiBZZih0KS5yZXBsYWNlKC9cKC9nLCIlMjgiKS5yZXBsYWNlKC9cKS9nLCIlMjkiKS5yZXBsYWNlKC8lMjYvZ2ksIiYiKX1mdW5jdGlvbiBYZih0KXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHQpfWZ1bmN0aW9uIEpmKHQpe3JldHVybiBYZih0LnJlcGxhY2UoL1wrL2csIiUyMCIpKX1mdW5jdGlvbiB0Zyh0KXtyZXR1cm5gJHtRZih0LnBhdGgpfSR7ZT10LnBhcmFtZXRlcnMsT2JqZWN0LmtleXMoZSkubWFwKHQ9PmA7JHtRZih0KX09JHtRZihlW3RdKX1gKS5qb2luKCIiKX1gO3ZhciBlfWNvbnN0IGVnPS9eW15cLygpPzs9I10rLztmdW5jdGlvbiBuZyh0KXtjb25zdCBlPXQubWF0Y2goZWcpO3JldHVybiBlP2VbMF06IiJ9Y29uc3Qgcmc9L15bXj0/JiNdKy8sc2c9L15bXj8mI10rLztjbGFzcyBpZ3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnVybD10LHRoaXMucmVtYWluaW5nPXR9cGFyc2VSb290U2VnbWVudCgpe3JldHVybiB0aGlzLmNvbnN1bWVPcHRpb25hbCgiLyIpLCIiPT09dGhpcy5yZW1haW5pbmd8fHRoaXMucGVla1N0YXJ0c1dpdGgoIj8iKXx8dGhpcy5wZWVrU3RhcnRzV2l0aCgiIyIpP25ldyBIZihbXSx7fSk6bmV3IEhmKFtdLHRoaXMucGFyc2VDaGlsZHJlbigpKX1wYXJzZVF1ZXJ5UGFyYW1zKCl7Y29uc3QgdD17fTtpZih0aGlzLmNvbnN1bWVPcHRpb25hbCgiPyIpKWRve3RoaXMucGFyc2VRdWVyeVBhcmFtKHQpfXdoaWxlKHRoaXMuY29uc3VtZU9wdGlvbmFsKCImIikpO3JldHVybiB0fXBhcnNlRnJhZ21lbnQoKXtyZXR1cm4gdGhpcy5jb25zdW1lT3B0aW9uYWwoIiMiKT9kZWNvZGVVUklDb21wb25lbnQodGhpcy5yZW1haW5pbmcpOm51bGx9cGFyc2VDaGlsZHJlbigpe2lmKCIiPT09dGhpcy5yZW1haW5pbmcpcmV0dXJue307dGhpcy5jb25zdW1lT3B0aW9uYWwoIi8iKTtjb25zdCB0PVtdO2Zvcih0aGlzLnBlZWtTdGFydHNXaXRoKCIoIil8fHQucHVzaCh0aGlzLnBhcnNlU2VnbWVudCgpKTt0aGlzLnBlZWtTdGFydHNXaXRoKCIvIikmJiF0aGlzLnBlZWtTdGFydHNXaXRoKCIvLyIpJiYhdGhpcy5wZWVrU3RhcnRzV2l0aCgiLygiKTspdGhpcy5jYXB0dXJlKCIvIiksdC5wdXNoKHRoaXMucGFyc2VTZWdtZW50KCkpO2xldCBlPXt9O3RoaXMucGVla1N0YXJ0c1dpdGgoIi8oIikmJih0aGlzLmNhcHR1cmUoIi8iKSxlPXRoaXMucGFyc2VQYXJlbnMoITApKTtsZXQgbj17fTtyZXR1cm4gdGhpcy5wZWVrU3RhcnRzV2l0aCgiKCIpJiYobj10aGlzLnBhcnNlUGFyZW5zKCExKSksKHQubGVuZ3RoPjB8fE9iamVjdC5rZXlzKGUpLmxlbmd0aD4wKSYmKG4ucHJpbWFyeT1uZXcgSGYodCxlKSksbn1wYXJzZVNlZ21lbnQoKXtjb25zdCB0PW5nKHRoaXMucmVtYWluaW5nKTtpZigiIj09PXQmJnRoaXMucGVla1N0YXJ0c1dpdGgoIjsiKSl0aHJvdyBuZXcgRXJyb3IoYEVtcHR5IHBhdGggdXJsIHNlZ21lbnQgY2Fubm90IGhhdmUgcGFyYW1ldGVyczogJyR7dGhpcy5yZW1haW5pbmd9Jy5gKTtyZXR1cm4gdGhpcy5jYXB0dXJlKHQpLG5ldyBVZihYZih0KSx0aGlzLnBhcnNlTWF0cml4UGFyYW1zKCkpfXBhcnNlTWF0cml4UGFyYW1zKCl7Y29uc3QgdD17fTtmb3IoO3RoaXMuY29uc3VtZU9wdGlvbmFsKCI7Iik7KXRoaXMucGFyc2VQYXJhbSh0KTtyZXR1cm4gdH1wYXJzZVBhcmFtKHQpe2NvbnN0IGU9bmcodGhpcy5yZW1haW5pbmcpO2lmKCFlKXJldHVybjt0aGlzLmNhcHR1cmUoZSk7bGV0IG49IiI7aWYodGhpcy5jb25zdW1lT3B0aW9uYWwoIj0iKSl7Y29uc3QgdD1uZyh0aGlzLnJlbWFpbmluZyk7dCYmKG49dCx0aGlzLmNhcHR1cmUobikpfXRbWGYoZSldPVhmKG4pfXBhcnNlUXVlcnlQYXJhbSh0KXtjb25zdCBlPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5tYXRjaChyZyk7cmV0dXJuIGU/ZVswXToiIn0odGhpcy5yZW1haW5pbmcpO2lmKCFlKXJldHVybjt0aGlzLmNhcHR1cmUoZSk7bGV0IG49IiI7aWYodGhpcy5jb25zdW1lT3B0aW9uYWwoIj0iKSl7Y29uc3QgdD1mdW5jdGlvbih0KXtjb25zdCBlPXQubWF0Y2goc2cpO3JldHVybiBlP2VbMF06IiJ9KHRoaXMucmVtYWluaW5nKTt0JiYobj10LHRoaXMuY2FwdHVyZShuKSl9Y29uc3Qgcj1KZihlKSxzPUpmKG4pO2lmKHQuaGFzT3duUHJvcGVydHkocikpe2xldCBlPXRbcl07QXJyYXkuaXNBcnJheShlKXx8KGU9W2VdLHRbcl09ZSksZS5wdXNoKHMpfWVsc2UgdFtyXT1zfXBhcnNlUGFyZW5zKHQpe2NvbnN0IGU9e307Zm9yKHRoaXMuY2FwdHVyZSgiKCIpOyF0aGlzLmNvbnN1bWVPcHRpb25hbCgiKSIpJiZ0aGlzLnJlbWFpbmluZy5sZW5ndGg+MDspe2NvbnN0IG49bmcodGhpcy5yZW1haW5pbmcpLHI9dGhpcy5yZW1haW5pbmdbbi5sZW5ndGhdO2lmKCIvIiE9PXImJiIpIiE9PXImJiI7IiE9PXIpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcGFyc2UgdXJsICcke3RoaXMudXJsfSdgKTtsZXQgcztuLmluZGV4T2YoIjoiKT4tMT8ocz1uLnN1YnN0cigwLG4uaW5kZXhPZigiOiIpKSx0aGlzLmNhcHR1cmUocyksdGhpcy5jYXB0dXJlKCI6IikpOnQmJihzPURmKTtjb25zdCBpPXRoaXMucGFyc2VDaGlsZHJlbigpO2Vbc109MT09PU9iamVjdC5rZXlzKGkpLmxlbmd0aD9pLnByaW1hcnk6bmV3IEhmKFtdLGkpLHRoaXMuY29uc3VtZU9wdGlvbmFsKCIvLyIpfXJldHVybiBlfXBlZWtTdGFydHNXaXRoKHQpe3JldHVybiB0aGlzLnJlbWFpbmluZy5zdGFydHNXaXRoKHQpfWNvbnN1bWVPcHRpb25hbCh0KXtyZXR1cm4hIXRoaXMucGVla1N0YXJ0c1dpdGgodCkmJih0aGlzLnJlbWFpbmluZz10aGlzLnJlbWFpbmluZy5zdWJzdHJpbmcodC5sZW5ndGgpLCEwKX1jYXB0dXJlKHQpe2lmKCF0aGlzLmNvbnN1bWVPcHRpb25hbCh0KSl0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkICIke3R9Ii5gKX19Y2xhc3Mgb2d7Y29uc3RydWN0b3IodCl7dGhpcy5fcm9vdD10fWdldCByb290KCl7cmV0dXJuIHRoaXMuX3Jvb3QudmFsdWV9cGFyZW50KHQpe2NvbnN0IGU9dGhpcy5wYXRoRnJvbVJvb3QodCk7cmV0dXJuIGUubGVuZ3RoPjE/ZVtlLmxlbmd0aC0yXTpudWxsfWNoaWxkcmVuKHQpe2NvbnN0IGU9YWcodCx0aGlzLl9yb290KTtyZXR1cm4gZT9lLmNoaWxkcmVuLm1hcCh0PT50LnZhbHVlKTpbXX1maXJzdENoaWxkKHQpe2NvbnN0IGU9YWcodCx0aGlzLl9yb290KTtyZXR1cm4gZSYmZS5jaGlsZHJlbi5sZW5ndGg+MD9lLmNoaWxkcmVuWzBdLnZhbHVlOm51bGx9c2libGluZ3ModCl7Y29uc3QgZT1sZyh0LHRoaXMuX3Jvb3QpO3JldHVybiBlLmxlbmd0aDwyP1tdOmVbZS5sZW5ndGgtMl0uY2hpbGRyZW4ubWFwKHQ9PnQudmFsdWUpLmZpbHRlcihlPT5lIT09dCl9cGF0aEZyb21Sb290KHQpe3JldHVybiBsZyh0LHRoaXMuX3Jvb3QpLm1hcCh0PT50LnZhbHVlKX19ZnVuY3Rpb24gYWcodCxlKXtpZih0PT09ZS52YWx1ZSlyZXR1cm4gZTtmb3IoY29uc3QgbiBvZiBlLmNoaWxkcmVuKXtjb25zdCBlPWFnKHQsbik7aWYoZSlyZXR1cm4gZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBsZyh0LGUpe2lmKHQ9PT1lLnZhbHVlKXJldHVybltlXTtmb3IoY29uc3QgbiBvZiBlLmNoaWxkcmVuKXtjb25zdCByPWxnKHQsbik7aWYoci5sZW5ndGgpcmV0dXJuIHIudW5zaGlmdChlKSxyfXJldHVybltdfWNsYXNzIHVne2NvbnN0cnVjdG9yKHQsZSl7dGhpcy52YWx1ZT10LHRoaXMuY2hpbGRyZW49ZX10b1N0cmluZygpe3JldHVybmBUcmVlTm9kZSgke3RoaXMudmFsdWV9KWB9fWZ1bmN0aW9uIGNnKHQpe2NvbnN0IGU9e307cmV0dXJuIHQmJnQuY2hpbGRyZW4uZm9yRWFjaCh0PT5lW3QudmFsdWUub3V0bGV0XT10KSxlfWNsYXNzIGhnIGV4dGVuZHMgb2d7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLnNuYXBzaG90PWUseWcodGhpcyx0KX10b1N0cmluZygpe3JldHVybiB0aGlzLnNuYXBzaG90LnRvU3RyaW5nKCl9fWZ1bmN0aW9uIGRnKHQsZSl7Y29uc3Qgbj1mdW5jdGlvbih0LGUpe2NvbnN0IG49bmV3IGdnKFtdLHt9LHt9LCIiLHt9LERmLGUsbnVsbCx0LnJvb3QsLTEse30pO3JldHVybiBuZXcgbWcoIiIsbmV3IHVnKG4sW10pKX0odCxlKSxyPW5ldyBfcChbbmV3IFVmKCIiLHt9KV0pLHM9bmV3IF9wKHt9KSxpPW5ldyBfcCh7fSksbz1uZXcgX3Aoe30pLGE9bmV3IF9wKCIiKSxsPW5ldyBwZyhyLHMsbyxhLGksRGYsZSxuLnJvb3QpO3JldHVybiBsLnNuYXBzaG90PW4ucm9vdCxuZXcgaGcobmV3IHVnKGwsW10pLG4pfWNsYXNzIHBne2NvbnN0cnVjdG9yKHQsZSxuLHIscyxpLG8sYSl7dGhpcy51cmw9dCx0aGlzLnBhcmFtcz1lLHRoaXMucXVlcnlQYXJhbXM9bix0aGlzLmZyYWdtZW50PXIsdGhpcy5kYXRhPXMsdGhpcy5vdXRsZXQ9aSx0aGlzLmNvbXBvbmVudD1vLHRoaXMuX2Z1dHVyZVNuYXBzaG90PWF9Z2V0IHJvdXRlQ29uZmlnKCl7cmV0dXJuIHRoaXMuX2Z1dHVyZVNuYXBzaG90LnJvdXRlQ29uZmlnfWdldCByb290KCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnJvb3R9Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXJlbnQodGhpcyl9Z2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuZmlyc3RDaGlsZCh0aGlzKX1nZXQgY2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUuY2hpbGRyZW4odGhpcyl9Z2V0IHBhdGhGcm9tUm9vdCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5wYXRoRnJvbVJvb3QodGhpcyl9Z2V0IHBhcmFtTWFwKCl7cmV0dXJuIHRoaXMuX3BhcmFtTWFwfHwodGhpcy5fcGFyYW1NYXA9dGhpcy5wYXJhbXMucGlwZSh4KHQ9PlNmKHQpKSkpLHRoaXMuX3BhcmFtTWFwfWdldCBxdWVyeVBhcmFtTWFwKCl7cmV0dXJuIHRoaXMuX3F1ZXJ5UGFyYW1NYXB8fCh0aGlzLl9xdWVyeVBhcmFtTWFwPXRoaXMucXVlcnlQYXJhbXMucGlwZSh4KHQ9PlNmKHQpKSkpLHRoaXMuX3F1ZXJ5UGFyYW1NYXB9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5zbmFwc2hvdD90aGlzLnNuYXBzaG90LnRvU3RyaW5nKCk6YEZ1dHVyZSgke3RoaXMuX2Z1dHVyZVNuYXBzaG90fSlgfX1mdW5jdGlvbiBmZyh0LGU9ImVtcHR5T25seSIpe2NvbnN0IG49dC5wYXRoRnJvbVJvb3Q7bGV0IHI9MDtpZigiYWx3YXlzIiE9PWUpZm9yKHI9bi5sZW5ndGgtMTtyPj0xOyl7Y29uc3QgdD1uW3JdLGU9bltyLTFdO2lmKHQucm91dGVDb25maWcmJiIiPT09dC5yb3V0ZUNvbmZpZy5wYXRoKXItLTtlbHNle2lmKGUuY29tcG9uZW50KWJyZWFrO3ItLX19cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlZHVjZSgodCxlKT0+KHtwYXJhbXM6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQucGFyYW1zKSxlLnBhcmFtcyksZGF0YTpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdC5kYXRhKSxlLmRhdGEpLHJlc29sdmU6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQucmVzb2x2ZSksZS5fcmVzb2x2ZWREYXRhKX0pLHtwYXJhbXM6e30sZGF0YTp7fSxyZXNvbHZlOnt9fSl9KG4uc2xpY2UocikpfWNsYXNzIGdne2NvbnN0cnVjdG9yKHQsZSxuLHIscyxpLG8sYSxsLHUsYyl7dGhpcy51cmw9dCx0aGlzLnBhcmFtcz1lLHRoaXMucXVlcnlQYXJhbXM9bix0aGlzLmZyYWdtZW50PXIsdGhpcy5kYXRhPXMsdGhpcy5vdXRsZXQ9aSx0aGlzLmNvbXBvbmVudD1vLHRoaXMucm91dGVDb25maWc9YSx0aGlzLl91cmxTZWdtZW50PWwsdGhpcy5fbGFzdFBhdGhJbmRleD11LHRoaXMuX3Jlc29sdmU9Y31nZXQgcm9vdCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5yb290fWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUucGFyZW50KHRoaXMpfWdldCBmaXJzdENoaWxkKCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLmZpcnN0Q2hpbGQodGhpcyl9Z2V0IGNoaWxkcmVuKCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLmNoaWxkcmVuKHRoaXMpfWdldCBwYXRoRnJvbVJvb3QoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUucGF0aEZyb21Sb290KHRoaXMpfWdldCBwYXJhbU1hcCgpe3JldHVybiB0aGlzLl9wYXJhbU1hcHx8KHRoaXMuX3BhcmFtTWFwPVNmKHRoaXMucGFyYW1zKSksdGhpcy5fcGFyYW1NYXB9Z2V0IHF1ZXJ5UGFyYW1NYXAoKXtyZXR1cm4gdGhpcy5fcXVlcnlQYXJhbU1hcHx8KHRoaXMuX3F1ZXJ5UGFyYW1NYXA9U2YodGhpcy5xdWVyeVBhcmFtcykpLHRoaXMuX3F1ZXJ5UGFyYW1NYXB9dG9TdHJpbmcoKXtyZXR1cm5gUm91dGUodXJsOicke3RoaXMudXJsLm1hcCh0PT50LnRvU3RyaW5nKCkpLmpvaW4oIi8iKX0nLCBwYXRoOicke3RoaXMucm91dGVDb25maWc/dGhpcy5yb3V0ZUNvbmZpZy5wYXRoOiIifScpYH19Y2xhc3MgbWcgZXh0ZW5kcyBvZ3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGUpLHRoaXMudXJsPXQseWcodGhpcyxlKX10b1N0cmluZygpe3JldHVybiB2Zyh0aGlzLl9yb290KX19ZnVuY3Rpb24geWcodCxlKXtlLnZhbHVlLl9yb3V0ZXJTdGF0ZT10LGUuY2hpbGRyZW4uZm9yRWFjaChlPT55Zyh0LGUpKX1mdW5jdGlvbiB2Zyh0KXtjb25zdCBlPXQuY2hpbGRyZW4ubGVuZ3RoPjA/YCB7ICR7dC5jaGlsZHJlbi5tYXAodmcpLmpvaW4oIiwgIil9IH0gYDoiIjtyZXR1cm5gJHt0LnZhbHVlfSR7ZX1gfWZ1bmN0aW9uIGJnKHQpe2lmKHQuc25hcHNob3Qpe2NvbnN0IGU9dC5zbmFwc2hvdCxuPXQuX2Z1dHVyZVNuYXBzaG90O3Quc25hcHNob3Q9bixUZihlLnF1ZXJ5UGFyYW1zLG4ucXVlcnlQYXJhbXMpfHx0LnF1ZXJ5UGFyYW1zLm5leHQobi5xdWVyeVBhcmFtcyksZS5mcmFnbWVudCE9PW4uZnJhZ21lbnQmJnQuZnJhZ21lbnQubmV4dChuLmZyYWdtZW50KSxUZihlLnBhcmFtcyxuLnBhcmFtcyl8fHQucGFyYW1zLm5leHQobi5wYXJhbXMpLGZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IG49MDtuPHQubGVuZ3RoOysrbilpZighVGYodFtuXSxlW25dKSlyZXR1cm4hMTtyZXR1cm4hMH0oZS51cmwsbi51cmwpfHx0LnVybC5uZXh0KG4udXJsKSxUZihlLmRhdGEsbi5kYXRhKXx8dC5kYXRhLm5leHQobi5kYXRhKX1lbHNlIHQuc25hcHNob3Q9dC5fZnV0dXJlU25hcHNob3QsdC5kYXRhLm5leHQodC5fZnV0dXJlU25hcHNob3QuZGF0YSl9ZnVuY3Rpb24gd2codCxlKXt2YXIgbixyO3JldHVybiBUZih0LnBhcmFtcyxlLnBhcmFtcykmJiRmKG49dC51cmwscj1lLnVybCkmJm4uZXZlcnkoKHQsZSk9PlRmKHQucGFyYW1ldGVycyxyW2VdLnBhcmFtZXRlcnMpKSYmISghdC5wYXJlbnQhPSFlLnBhcmVudCkmJighdC5wYXJlbnR8fHdnKHQucGFyZW50LGUucGFyZW50KSl9ZnVuY3Rpb24gQ2codCxlLG4pe2lmKG4mJnQuc2hvdWxkUmV1c2VSb3V0ZShlLnZhbHVlLG4udmFsdWUuc25hcHNob3QpKXtjb25zdCByPW4udmFsdWU7ci5fZnV0dXJlU25hcHNob3Q9ZS52YWx1ZTtjb25zdCBzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZS5jaGlsZHJlbi5tYXAoZT0+e2Zvcihjb25zdCByIG9mIG4uY2hpbGRyZW4paWYodC5zaG91bGRSZXVzZVJvdXRlKGUudmFsdWUsci52YWx1ZS5zbmFwc2hvdCkpcmV0dXJuIENnKHQsZSxyKTtyZXR1cm4gQ2codCxlKX0pfSh0LGUsbik7cmV0dXJuIG5ldyB1ZyhyLHMpfXtpZih0LnNob3VsZEF0dGFjaChlLnZhbHVlKSl7Y29uc3Qgbj10LnJldHJpZXZlKGUudmFsdWUpO2lmKG51bGwhPT1uKXtjb25zdCB0PW4ucm91dGU7cmV0dXJuIF9nKGUsdCksdH19Y29uc3Qgbj1uZXcgcGcobmV3IF9wKChyPWUudmFsdWUpLnVybCksbmV3IF9wKHIucGFyYW1zKSxuZXcgX3Aoci5xdWVyeVBhcmFtcyksbmV3IF9wKHIuZnJhZ21lbnQpLG5ldyBfcChyLmRhdGEpLHIub3V0bGV0LHIuY29tcG9uZW50LHIpLHM9ZS5jaGlsZHJlbi5tYXAoZT0+Q2codCxlKSk7cmV0dXJuIG5ldyB1ZyhuLHMpfXZhciByfWZ1bmN0aW9uIF9nKHQsZSl7aWYodC52YWx1ZS5yb3V0ZUNvbmZpZyE9PWUudmFsdWUucm91dGVDb25maWcpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgcmVhdHRhY2ggQWN0aXZhdGVkUm91dGVTbmFwc2hvdCBjcmVhdGVkIGZyb20gYSBkaWZmZXJlbnQgcm91dGUiKTtpZih0LmNoaWxkcmVuLmxlbmd0aCE9PWUuY2hpbGRyZW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHJlYXR0YWNoIEFjdGl2YXRlZFJvdXRlU25hcHNob3Qgd2l0aCBhIGRpZmZlcmVudCBudW1iZXIgb2YgY2hpbGRyZW4iKTtlLnZhbHVlLl9mdXR1cmVTbmFwc2hvdD10LnZhbHVlO2ZvcihsZXQgbj0wO248dC5jaGlsZHJlbi5sZW5ndGg7KytuKV9nKHQuY2hpbGRyZW5bbl0sZS5jaGlsZHJlbltuXSl9ZnVuY3Rpb24gRGcodCl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10JiYhdC5vdXRsZXRzJiYhdC5zZWdtZW50UGF0aH1mdW5jdGlvbiBFZyh0KXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIHQmJm51bGwhPXQmJnQub3V0bGV0c31mdW5jdGlvbiBTZyh0LGUsbixyLHMpe2xldCBpPXt9O3JldHVybiByJiZJZihyLCh0LGUpPT57aVtlXT1BcnJheS5pc0FycmF5KHQpP3QubWFwKHQ9PmAke3R9YCk6YCR7dH1gfSksbmV3IEJmKG4ucm9vdD09PXQ/ZTp4ZyhuLnJvb3QsdCxlKSxpLHMpfWZ1bmN0aW9uIHhnKHQsZSxuKXtjb25zdCByPXt9O3JldHVybiBJZih0LmNoaWxkcmVuLCh0LHMpPT57cltzXT10PT09ZT9uOnhnKHQsZSxuKX0pLG5ldyBIZih0LnNlZ21lbnRzLHIpfWNsYXNzIEFne2NvbnN0cnVjdG9yKHQsZSxuKXtpZih0aGlzLmlzQWJzb2x1dGU9dCx0aGlzLm51bWJlck9mRG91YmxlRG90cz1lLHRoaXMuY29tbWFuZHM9bix0JiZuLmxlbmd0aD4wJiZEZyhuWzBdKSl0aHJvdyBuZXcgRXJyb3IoIlJvb3Qgc2VnbWVudCBjYW5ub3QgaGF2ZSBtYXRyaXggcGFyYW1ldGVycyIpO2NvbnN0IHI9bi5maW5kKEVnKTtpZihyJiZyIT09a2YobikpdGhyb3cgbmV3IEVycm9yKCJ7b3V0bGV0czp7fX0gaGFzIHRvIGJlIHRoZSBsYXN0IGNvbW1hbmQiKX10b1Jvb3QoKXtyZXR1cm4gdGhpcy5pc0Fic29sdXRlJiYxPT09dGhpcy5jb21tYW5kcy5sZW5ndGgmJiIvIj09dGhpcy5jb21tYW5kc1swXX19Y2xhc3MgVGd7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMuc2VnbWVudEdyb3VwPXQsdGhpcy5wcm9jZXNzQ2hpbGRyZW49ZSx0aGlzLmluZGV4PW59fWZ1bmN0aW9uIE9nKHQsZSxuKXtpZih0fHwodD1uZXcgSGYoW10se30pKSwwPT09dC5zZWdtZW50cy5sZW5ndGgmJnQuaGFzQ2hpbGRyZW4oKSlyZXR1cm4gRmcodCxlLG4pO2NvbnN0IHI9ZnVuY3Rpb24odCxlLG4pe2xldCByPTAscz1lO2NvbnN0IGk9e21hdGNoOiExLHBhdGhJbmRleDowLGNvbW1hbmRJbmRleDowfTtmb3IoO3M8dC5zZWdtZW50cy5sZW5ndGg7KXtpZihyPj1uLmxlbmd0aClyZXR1cm4gaTtjb25zdCBlPXQuc2VnbWVudHNbc10sbz1uW3JdO2lmKEVnKG8pKWJyZWFrO2NvbnN0IGE9YCR7b31gLGw9cjxuLmxlbmd0aC0xP25bcisxXTpudWxsO2lmKHM+MCYmdm9pZCAwPT09YSlicmVhaztpZihhJiZsJiYib2JqZWN0Ij09dHlwZW9mIGwmJnZvaWQgMD09PWwub3V0bGV0cyl7aWYoIVBnKGEsbCxlKSlyZXR1cm4gaTtyKz0yfWVsc2V7aWYoIVBnKGEse30sZSkpcmV0dXJuIGk7cisrfXMrK31yZXR1cm57bWF0Y2g6ITAscGF0aEluZGV4OnMsY29tbWFuZEluZGV4OnJ9fSh0LGUsbikscz1uLnNsaWNlKHIuY29tbWFuZEluZGV4KTtpZihyLm1hdGNoJiZyLnBhdGhJbmRleDx0LnNlZ21lbnRzLmxlbmd0aCl7Y29uc3QgZT1uZXcgSGYodC5zZWdtZW50cy5zbGljZSgwLHIucGF0aEluZGV4KSx7fSk7cmV0dXJuIGUuY2hpbGRyZW4ucHJpbWFyeT1uZXcgSGYodC5zZWdtZW50cy5zbGljZShyLnBhdGhJbmRleCksdC5jaGlsZHJlbiksRmcoZSwwLHMpfXJldHVybiByLm1hdGNoJiYwPT09cy5sZW5ndGg/bmV3IEhmKHQuc2VnbWVudHMse30pOnIubWF0Y2gmJiF0Lmhhc0NoaWxkcmVuKCk/a2codCxlLG4pOnIubWF0Y2g/RmcodCwwLHMpOmtnKHQsZSxuKX1mdW5jdGlvbiBGZyh0LGUsbil7aWYoMD09PW4ubGVuZ3RoKXJldHVybiBuZXcgSGYodC5zZWdtZW50cyx7fSk7e2NvbnN0IHI9ZnVuY3Rpb24odCl7cmV0dXJuIEVnKHRbMF0pP3RbMF0ub3V0bGV0czp7W0RmXTp0fX0obikscz17fTtyZXR1cm4gSWYociwobixyKT0+eyJzdHJpbmciPT10eXBlb2YgbiYmKG49W25dKSxudWxsIT09biYmKHNbcl09T2codC5jaGlsZHJlbltyXSxlLG4pKX0pLElmKHQuY2hpbGRyZW4sKHQsZSk9Pnt2b2lkIDA9PT1yW2VdJiYoc1tlXT10KX0pLG5ldyBIZih0LnNlZ21lbnRzLHMpfX1mdW5jdGlvbiBrZyh0LGUsbil7Y29uc3Qgcj10LnNlZ21lbnRzLnNsaWNlKDAsZSk7bGV0IHM9MDtmb3IoO3M8bi5sZW5ndGg7KXtjb25zdCBpPW5bc107aWYoRWcoaSkpe2NvbnN0IHQ9SWcoaS5vdXRsZXRzKTtyZXR1cm4gbmV3IEhmKHIsdCl9aWYoMD09PXMmJkRnKG5bMF0pKXtyLnB1c2gobmV3IFVmKHQuc2VnbWVudHNbZV0ucGF0aCxSZyhuWzBdKSkpLHMrKztjb250aW51ZX1jb25zdCBvPUVnKGkpP2kub3V0bGV0cy5wcmltYXJ5OmAke2l9YCxhPXM8bi5sZW5ndGgtMT9uW3MrMV06bnVsbDtvJiZhJiZEZyhhKT8oci5wdXNoKG5ldyBVZihvLFJnKGEpKSkscys9Mik6KHIucHVzaChuZXcgVWYobyx7fSkpLHMrKyl9cmV0dXJuIG5ldyBIZihyLHt9KX1mdW5jdGlvbiBJZyh0KXtjb25zdCBlPXt9O3JldHVybiBJZih0LCh0LG4pPT57InN0cmluZyI9PXR5cGVvZiB0JiYodD1bdF0pLG51bGwhPT10JiYoZVtuXT1rZyhuZXcgSGYoW10se30pLDAsdCkpfSksZX1mdW5jdGlvbiBSZyh0KXtjb25zdCBlPXt9O3JldHVybiBJZih0LCh0LG4pPT5lW25dPWAke3R9YCksZX1mdW5jdGlvbiBQZyh0LGUsbil7cmV0dXJuIHQ9PW4ucGF0aCYmVGYoZSxuLnBhcmFtZXRlcnMpfWNsYXNzIExne2NvbnN0cnVjdG9yKHQsZSxuLHIpe3RoaXMucm91dGVSZXVzZVN0cmF0ZWd5PXQsdGhpcy5mdXR1cmVTdGF0ZT1lLHRoaXMuY3VyclN0YXRlPW4sdGhpcy5mb3J3YXJkRXZlbnQ9cn1hY3RpdmF0ZSh0KXtjb25zdCBlPXRoaXMuZnV0dXJlU3RhdGUuX3Jvb3Qsbj10aGlzLmN1cnJTdGF0ZT90aGlzLmN1cnJTdGF0ZS5fcm9vdDpudWxsO3RoaXMuZGVhY3RpdmF0ZUNoaWxkUm91dGVzKGUsbix0KSxiZyh0aGlzLmZ1dHVyZVN0YXRlLnJvb3QpLHRoaXMuYWN0aXZhdGVDaGlsZFJvdXRlcyhlLG4sdCl9ZGVhY3RpdmF0ZUNoaWxkUm91dGVzKHQsZSxuKXtjb25zdCByPWNnKGUpO3QuY2hpbGRyZW4uZm9yRWFjaCh0PT57Y29uc3QgZT10LnZhbHVlLm91dGxldDt0aGlzLmRlYWN0aXZhdGVSb3V0ZXModCxyW2VdLG4pLGRlbGV0ZSByW2VdfSksSWYociwodCxlKT0+e3RoaXMuZGVhY3RpdmF0ZVJvdXRlQW5kSXRzQ2hpbGRyZW4odCxuKX0pfWRlYWN0aXZhdGVSb3V0ZXModCxlLG4pe2NvbnN0IHI9dC52YWx1ZSxzPWU/ZS52YWx1ZTpudWxsO2lmKHI9PT1zKWlmKHIuY29tcG9uZW50KXtjb25zdCBzPW4uZ2V0Q29udGV4dChyLm91dGxldCk7cyYmdGhpcy5kZWFjdGl2YXRlQ2hpbGRSb3V0ZXModCxlLHMuY2hpbGRyZW4pfWVsc2UgdGhpcy5kZWFjdGl2YXRlQ2hpbGRSb3V0ZXModCxlLG4pO2Vsc2UgcyYmdGhpcy5kZWFjdGl2YXRlUm91dGVBbmRJdHNDaGlsZHJlbihlLG4pfWRlYWN0aXZhdGVSb3V0ZUFuZEl0c0NoaWxkcmVuKHQsZSl7dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuc2hvdWxkRGV0YWNoKHQudmFsdWUuc25hcHNob3QpP3RoaXMuZGV0YWNoQW5kU3RvcmVSb3V0ZVN1YnRyZWUodCxlKTp0aGlzLmRlYWN0aXZhdGVSb3V0ZUFuZE91dGxldCh0LGUpfWRldGFjaEFuZFN0b3JlUm91dGVTdWJ0cmVlKHQsZSl7Y29uc3Qgbj1lLmdldENvbnRleHQodC52YWx1ZS5vdXRsZXQpO2lmKG4mJm4ub3V0bGV0KXtjb25zdCBlPW4ub3V0bGV0LmRldGFjaCgpLHI9bi5jaGlsZHJlbi5vbk91dGxldERlYWN0aXZhdGVkKCk7dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuc3RvcmUodC52YWx1ZS5zbmFwc2hvdCx7Y29tcG9uZW50UmVmOmUscm91dGU6dCxjb250ZXh0czpyfSl9fWRlYWN0aXZhdGVSb3V0ZUFuZE91dGxldCh0LGUpe2NvbnN0IG49ZS5nZXRDb250ZXh0KHQudmFsdWUub3V0bGV0KSxyPW4mJnQudmFsdWUuY29tcG9uZW50P24uY2hpbGRyZW46ZSxzPWNnKHQpO2Zvcihjb25zdCBpIG9mIE9iamVjdC5rZXlzKHMpKXRoaXMuZGVhY3RpdmF0ZVJvdXRlQW5kSXRzQ2hpbGRyZW4oc1tpXSxyKTtuJiZuLm91dGxldCYmKG4ub3V0bGV0LmRlYWN0aXZhdGUoKSxuLmNoaWxkcmVuLm9uT3V0bGV0RGVhY3RpdmF0ZWQoKSxuLmF0dGFjaFJlZj1udWxsLG4ucmVzb2x2ZXI9bnVsbCxuLnJvdXRlPW51bGwpfWFjdGl2YXRlQ2hpbGRSb3V0ZXModCxlLG4pe2NvbnN0IHI9Y2coZSk7dC5jaGlsZHJlbi5mb3JFYWNoKHQ9Pnt0aGlzLmFjdGl2YXRlUm91dGVzKHQsclt0LnZhbHVlLm91dGxldF0sbiksdGhpcy5mb3J3YXJkRXZlbnQobmV3IENmKHQudmFsdWUuc25hcHNob3QpKX0pLHQuY2hpbGRyZW4ubGVuZ3RoJiZ0aGlzLmZvcndhcmRFdmVudChuZXcgYmYodC52YWx1ZS5zbmFwc2hvdCkpfWFjdGl2YXRlUm91dGVzKHQsZSxuKXtjb25zdCByPXQudmFsdWUscz1lP2UudmFsdWU6bnVsbDtpZihiZyhyKSxyPT09cylpZihyLmNvbXBvbmVudCl7Y29uc3Qgcz1uLmdldE9yQ3JlYXRlQ29udGV4dChyLm91dGxldCk7dGhpcy5hY3RpdmF0ZUNoaWxkUm91dGVzKHQsZSxzLmNoaWxkcmVuKX1lbHNlIHRoaXMuYWN0aXZhdGVDaGlsZFJvdXRlcyh0LGUsbik7ZWxzZSBpZihyLmNvbXBvbmVudCl7Y29uc3QgZT1uLmdldE9yQ3JlYXRlQ29udGV4dChyLm91dGxldCk7aWYodGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuc2hvdWxkQXR0YWNoKHIuc25hcHNob3QpKXtjb25zdCB0PXRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LnJldHJpZXZlKHIuc25hcHNob3QpO3RoaXMucm91dGVSZXVzZVN0cmF0ZWd5LnN0b3JlKHIuc25hcHNob3QsbnVsbCksZS5jaGlsZHJlbi5vbk91dGxldFJlQXR0YWNoZWQodC5jb250ZXh0cyksZS5hdHRhY2hSZWY9dC5jb21wb25lbnRSZWYsZS5yb3V0ZT10LnJvdXRlLnZhbHVlLGUub3V0bGV0JiZlLm91dGxldC5hdHRhY2godC5jb21wb25lbnRSZWYsdC5yb3V0ZS52YWx1ZSksTmcodC5yb3V0ZSl9ZWxzZXtjb25zdCBuPWZ1bmN0aW9uKHQpe2ZvcihsZXQgZT10LnBhcmVudDtlO2U9ZS5wYXJlbnQpe2NvbnN0IHQ9ZS5yb3V0ZUNvbmZpZztpZih0JiZ0Ll9sb2FkZWRDb25maWcpcmV0dXJuIHQuX2xvYWRlZENvbmZpZztpZih0JiZ0LmNvbXBvbmVudClyZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH0oci5zbmFwc2hvdCkscz1uP24ubW9kdWxlLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjpudWxsO2UuYXR0YWNoUmVmPW51bGwsZS5yb3V0ZT1yLGUucmVzb2x2ZXI9cyxlLm91dGxldCYmZS5vdXRsZXQuYWN0aXZhdGVXaXRoKHIscyksdGhpcy5hY3RpdmF0ZUNoaWxkUm91dGVzKHQsbnVsbCxlLmNoaWxkcmVuKX19ZWxzZSB0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXModCxudWxsLG4pfX1mdW5jdGlvbiBOZyh0KXtiZyh0LnZhbHVlKSx0LmNoaWxkcmVuLmZvckVhY2goTmcpfWNsYXNzIGpne2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5yb3V0ZXM9dCx0aGlzLm1vZHVsZT1lfX1mdW5jdGlvbiBNZyh0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdH1mdW5jdGlvbiBWZyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEJmfWNvbnN0IEJnPVN5bWJvbCgiSU5JVElBTF9WQUxVRSIpO2Z1bmN0aW9uIEhnKCl7cmV0dXJuIHRwKHQ9PmZ1bmN0aW9uKC4uLnQpe2xldCBlLG47cmV0dXJuIFModFt0Lmxlbmd0aC0xXSkmJihuPXQucG9wKCkpLCJmdW5jdGlvbiI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdJiYoZT10LnBvcCgpKSwxPT09dC5sZW5ndGgmJmwodFswXSkmJih0PXRbMF0pLHoodCxuKS5saWZ0KG5ldyBBcChlKSl9KHQubWFwKHQ9PnQucGlwZShScCgxKSxmdW5jdGlvbiguLi50KXtjb25zdCBlPXRbdC5sZW5ndGgtMV07cmV0dXJuIFMoZSk/KHQucG9wKCksbj0+RnAodCxuLGUpKTplPT5GcCh0LGUpfShCZykpKSkucGlwZShOcCgodCxlKT0+e2xldCBuPSExO3JldHVybiBlLnJlZHVjZSgodCxyLHMpPT57aWYodCE9PUJnKXJldHVybiB0O2lmKHI9PT1CZyYmKG49ITApLCFuKXtpZighMT09PXIpcmV0dXJuIHI7aWYocz09PWUubGVuZ3RoLTF8fFZnKHIpKXJldHVybiByfXJldHVybiB0fSx0KX0sQmcpLHJkKHQ9PnQhPT1CZykseCh0PT5WZyh0KT90OiEwPT09dCksUnAoMSkpKX1sZXQgVWc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1Y21wPVV0KHt0eXBlOnQsc2VsZWN0b3JzOltbIm5nLWNvbXBvbmVudCJdXSxkZWNsczoxLHZhcnM6MCx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmU28oMCwicm91dGVyLW91dGxldCIpfSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW05tXX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCk7ZnVuY3Rpb24gJGcodCxlPSIiKXtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgcj10W25dO3pnKHIscWcoZSxyKSl9fWZ1bmN0aW9uIHpnKHQsZSl7dC5jaGlsZHJlbiYmJGcodC5jaGlsZHJlbixlKX1mdW5jdGlvbiBxZyh0LGUpe3JldHVybiBlP3R8fGUucGF0aD90JiYhZS5wYXRoP2Ake3R9L2A6IXQmJmUucGF0aD9lLnBhdGg6YCR7dH0vJHtlLnBhdGh9YDoiIjp0fWZ1bmN0aW9uIFdnKHQpe2NvbnN0IGU9dC5jaGlsZHJlbiYmdC5jaGlsZHJlbi5tYXAoV2cpLG49ZT9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse2NoaWxkcmVuOmV9KTpPYmplY3QuYXNzaWduKHt9LHQpO3JldHVybiFuLmNvbXBvbmVudCYmKGV8fG4ubG9hZENoaWxkcmVuKSYmbi5vdXRsZXQmJm4ub3V0bGV0IT09RGYmJihuLmNvbXBvbmVudD1VZyksbn1mdW5jdGlvbiBHZyh0KXtyZXR1cm4gdC5vdXRsZXR8fERmfWZ1bmN0aW9uIFpnKHQsZSl7Y29uc3Qgbj10LmZpbHRlcih0PT5HZyh0KT09PWUpO3JldHVybiBuLnB1c2goLi4udC5maWx0ZXIodD0+R2codCkhPT1lKSksbn1jb25zdCBZZz17bWF0Y2hlZDohMSxjb25zdW1lZFNlZ21lbnRzOltdLGxhc3RDaGlsZDowLHBhcmFtZXRlcnM6e30scG9zaXRpb25hbFBhcmFtU2VnbWVudHM6e319O2Z1bmN0aW9uIEtnKHQsZSxuKXt2YXIgcjtpZigiIj09PWUucGF0aClyZXR1cm4iZnVsbCI9PT1lLnBhdGhNYXRjaCYmKHQuaGFzQ2hpbGRyZW4oKXx8bi5sZW5ndGg+MCk/T2JqZWN0LmFzc2lnbih7fSxZZyk6e21hdGNoZWQ6ITAsY29uc3VtZWRTZWdtZW50czpbXSxsYXN0Q2hpbGQ6MCxwYXJhbWV0ZXJzOnt9LHBvc2l0aW9uYWxQYXJhbVNlZ21lbnRzOnt9fTtjb25zdCBzPShlLm1hdGNoZXJ8fEFmKShuLHQsZSk7aWYoIXMpcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sWWcpO2NvbnN0IGk9e307SWYocy5wb3NQYXJhbXMsKHQsZSk9PntpW2VdPXQucGF0aH0pO2NvbnN0IG89cy5jb25zdW1lZC5sZW5ndGg+MD9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30saSkscy5jb25zdW1lZFtzLmNvbnN1bWVkLmxlbmd0aC0xXS5wYXJhbWV0ZXJzKTppO3JldHVybnttYXRjaGVkOiEwLGNvbnN1bWVkU2VnbWVudHM6cy5jb25zdW1lZCxsYXN0Q2hpbGQ6cy5jb25zdW1lZC5sZW5ndGgscGFyYW1ldGVyczpvLHBvc2l0aW9uYWxQYXJhbVNlZ21lbnRzOm51bGwhPT0ocj1zLnBvc1BhcmFtcykmJnZvaWQgMCE9PXI/cjp7fX19ZnVuY3Rpb24gUWcodCxlLG4scixzPSJjb3JyZWN0ZWQiKXtpZihuLmxlbmd0aD4wJiZmdW5jdGlvbih0LGUsbil7cmV0dXJuIG4uc29tZShuPT5YZyh0LGUsbikmJkdnKG4pIT09RGYpfSh0LG4scikpe2NvbnN0IHM9bmV3IEhmKGUsZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz17fTtzLnByaW1hcnk9cixyLl9zb3VyY2VTZWdtZW50PXQsci5fc2VnbWVudEluZGV4U2hpZnQ9ZS5sZW5ndGg7Zm9yKGNvbnN0IGkgb2YgbilpZigiIj09PWkucGF0aCYmR2coaSkhPT1EZil7Y29uc3Qgbj1uZXcgSGYoW10se30pO24uX3NvdXJjZVNlZ21lbnQ9dCxuLl9zZWdtZW50SW5kZXhTaGlmdD1lLmxlbmd0aCxzW0dnKGkpXT1ufXJldHVybiBzfSh0LGUscixuZXcgSGYobix0LmNoaWxkcmVuKSkpO3JldHVybiBzLl9zb3VyY2VTZWdtZW50PXQscy5fc2VnbWVudEluZGV4U2hpZnQ9ZS5sZW5ndGgse3NlZ21lbnRHcm91cDpzLHNsaWNlZFNlZ21lbnRzOltdfX1pZigwPT09bi5sZW5ndGgmJmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbi5zb21lKG49PlhnKHQsZSxuKSl9KHQsbixyKSl7Y29uc3QgaT1uZXcgSGYodC5zZWdtZW50cyxmdW5jdGlvbih0LGUsbixyLHMsaSl7Y29uc3Qgbz17fTtmb3IoY29uc3QgYSBvZiByKWlmKFhnKHQsbixhKSYmIXNbR2coYSldKXtjb25zdCBuPW5ldyBIZihbXSx7fSk7bi5fc291cmNlU2VnbWVudD10LG4uX3NlZ21lbnRJbmRleFNoaWZ0PSJsZWdhY3kiPT09aT90LnNlZ21lbnRzLmxlbmd0aDplLmxlbmd0aCxvW0dnKGEpXT1ufXJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scyksbyl9KHQsZSxuLHIsdC5jaGlsZHJlbixzKSk7cmV0dXJuIGkuX3NvdXJjZVNlZ21lbnQ9dCxpLl9zZWdtZW50SW5kZXhTaGlmdD1lLmxlbmd0aCx7c2VnbWVudEdyb3VwOmksc2xpY2VkU2VnbWVudHM6bn19Y29uc3QgaT1uZXcgSGYodC5zZWdtZW50cyx0LmNoaWxkcmVuKTtyZXR1cm4gaS5fc291cmNlU2VnbWVudD10LGkuX3NlZ21lbnRJbmRleFNoaWZ0PWUubGVuZ3RoLHtzZWdtZW50R3JvdXA6aSxzbGljZWRTZWdtZW50czpufX1mdW5jdGlvbiBYZyh0LGUsbil7cmV0dXJuKCEodC5oYXNDaGlsZHJlbigpfHxlLmxlbmd0aD4wKXx8ImZ1bGwiIT09bi5wYXRoTWF0Y2gpJiYiIj09PW4ucGF0aH1mdW5jdGlvbiBKZyh0LGUsbixyKXtyZXR1cm4hIShHZyh0KT09PXJ8fHIhPT1EZiYmWGcoZSxuLHQpKSYmKCIqKiI9PT10LnBhdGh8fEtnKGUsdCxuKS5tYXRjaGVkKX1mdW5jdGlvbiB0bSh0LGUsbil7cmV0dXJuIDA9PT1lLmxlbmd0aCYmIXQuY2hpbGRyZW5bbl19Y2xhc3MgZW17Y29uc3RydWN0b3IodCl7dGhpcy5zZWdtZW50R3JvdXA9dHx8bnVsbH19Y2xhc3Mgbm17Y29uc3RydWN0b3IodCl7dGhpcy51cmxUcmVlPXR9fWZ1bmN0aW9uIHJtKHQpe3JldHVybiBuZXcgdihlPT5lLmVycm9yKG5ldyBlbSh0KSkpfWZ1bmN0aW9uIHNtKHQpe3JldHVybiBuZXcgdihlPT5lLmVycm9yKG5ldyBubSh0KSkpfWZ1bmN0aW9uIGltKHQpe3JldHVybiBuZXcgdihlPT5lLmVycm9yKG5ldyBFcnJvcihgT25seSBhYnNvbHV0ZSByZWRpcmVjdHMgY2FuIGhhdmUgbmFtZWQgb3V0bGV0cy4gcmVkaXJlY3RUbzogJyR7dH0nYCkpKX1jbGFzcyBvbXtjb25zdHJ1Y3Rvcih0LGUsbixyLHMpe3RoaXMuY29uZmlnTG9hZGVyPWUsdGhpcy51cmxTZXJpYWxpemVyPW4sdGhpcy51cmxUcmVlPXIsdGhpcy5jb25maWc9cyx0aGlzLmFsbG93UmVkaXJlY3RzPSEwLHRoaXMubmdNb2R1bGU9dC5nZXQobGwpfWFwcGx5KCl7Y29uc3QgdD1RZyh0aGlzLnVybFRyZWUucm9vdCxbXSxbXSx0aGlzLmNvbmZpZykuc2VnbWVudEdyb3VwLGU9bmV3IEhmKHQuc2VnbWVudHMsdC5jaGlsZHJlbik7cmV0dXJuIHRoaXMuZXhwYW5kU2VnbWVudEdyb3VwKHRoaXMubmdNb2R1bGUsdGhpcy5jb25maWcsZSxEZikucGlwZSh4KHQ9PnRoaXMuY3JlYXRlVXJsVHJlZShhbSh0KSx0aGlzLnVybFRyZWUucXVlcnlQYXJhbXMsdGhpcy51cmxUcmVlLmZyYWdtZW50KSkpLnBpcGUoVnAodD0+e2lmKHQgaW5zdGFuY2VvZiBubSlyZXR1cm4gdGhpcy5hbGxvd1JlZGlyZWN0cz0hMSx0aGlzLm1hdGNoKHQudXJsVHJlZSk7aWYodCBpbnN0YW5jZW9mIGVtKXRocm93IHRoaXMubm9NYXRjaEVycm9yKHQpO3Rocm93IHR9KSl9bWF0Y2godCl7cmV0dXJuIHRoaXMuZXhwYW5kU2VnbWVudEdyb3VwKHRoaXMubmdNb2R1bGUsdGhpcy5jb25maWcsdC5yb290LERmKS5waXBlKHgoZT0+dGhpcy5jcmVhdGVVcmxUcmVlKGFtKGUpLHQucXVlcnlQYXJhbXMsdC5mcmFnbWVudCkpKS5waXBlKFZwKHQ9PntpZih0IGluc3RhbmNlb2YgZW0pdGhyb3cgdGhpcy5ub01hdGNoRXJyb3IodCk7dGhyb3cgdH0pKX1ub01hdGNoRXJyb3IodCl7cmV0dXJuIG5ldyBFcnJvcihgQ2Fubm90IG1hdGNoIGFueSByb3V0ZXMuIFVSTCBTZWdtZW50OiAnJHt0LnNlZ21lbnRHcm91cH0nYCl9Y3JlYXRlVXJsVHJlZSh0LGUsbil7Y29uc3Qgcj10LnNlZ21lbnRzLmxlbmd0aD4wP25ldyBIZihbXSx7W0RmXTp0fSk6dDtyZXR1cm4gbmV3IEJmKHIsZSxuKX1leHBhbmRTZWdtZW50R3JvdXAodCxlLG4scil7cmV0dXJuIDA9PT1uLnNlZ21lbnRzLmxlbmd0aCYmbi5oYXNDaGlsZHJlbigpP3RoaXMuZXhwYW5kQ2hpbGRyZW4odCxlLG4pLnBpcGUoeCh0PT5uZXcgSGYoW10sdCkpKTp0aGlzLmV4cGFuZFNlZ21lbnQodCxuLGUsbi5zZWdtZW50cyxyLCEwKX1leHBhbmRDaGlsZHJlbih0LGUsbil7Y29uc3Qgcj1bXTtmb3IoY29uc3QgcyBvZiBPYmplY3Qua2V5cyhuLmNoaWxkcmVuKSkicHJpbWFyeSI9PT1zP3IudW5zaGlmdChzKTpyLnB1c2gocyk7cmV0dXJuIE4ocikucGlwZShuZChyPT57Y29uc3Qgcz1uLmNoaWxkcmVuW3JdLGk9WmcoZSxyKTtyZXR1cm4gdGhpcy5leHBhbmRTZWdtZW50R3JvdXAodCxpLHMscikucGlwZSh4KHQ9Pih7c2VnbWVudDp0LG91dGxldDpyfSkpKX0pLE5wKCh0LGUpPT4odFtlLm91dGxldF09ZS5zZWdtZW50LHQpLHt9KSxmdW5jdGlvbih0LGUpe2NvbnN0IG49YXJndW1lbnRzLmxlbmd0aD49MjtyZXR1cm4gcj0+ci5waXBlKHQ/cmQoKGUsbik9PnQoZSxuLHIpKTp5LFVwKDEpLG4/WXAoZSk6cXAoKCk9Pm5ldyBPcCkpfSgpKX1leHBhbmRTZWdtZW50KHQsZSxuLHIscyxpKXtyZXR1cm4gTihuKS5waXBlKG5kKG89PnRoaXMuZXhwYW5kU2VnbWVudEFnYWluc3RSb3V0ZSh0LGUsbixvLHIscyxpKS5waXBlKFZwKHQ9PntpZih0IGluc3RhbmNlb2YgZW0pcmV0dXJuIGVkKG51bGwpO3Rocm93IHR9KSkpLFhwKHQ9PiEhdCksVnAoKHQsbik9PntpZih0IGluc3RhbmNlb2YgT3B8fCJFbXB0eUVycm9yIj09PXQubmFtZSl7aWYodG0oZSxyLHMpKXJldHVybiBlZChuZXcgSGYoW10se30pKTt0aHJvdyBuZXcgZW0oZSl9dGhyb3cgdH0pKX1leHBhbmRTZWdtZW50QWdhaW5zdFJvdXRlKHQsZSxuLHIscyxpLG8pe3JldHVybiBKZyhyLGUscyxpKT92b2lkIDA9PT1yLnJlZGlyZWN0VG8/dGhpcy5tYXRjaFNlZ21lbnRBZ2FpbnN0Um91dGUodCxlLHIscyxpKTpvJiZ0aGlzLmFsbG93UmVkaXJlY3RzP3RoaXMuZXhwYW5kU2VnbWVudEFnYWluc3RSb3V0ZVVzaW5nUmVkaXJlY3QodCxlLG4scixzLGkpOnJtKGUpOnJtKGUpfWV4cGFuZFNlZ21lbnRBZ2FpbnN0Um91dGVVc2luZ1JlZGlyZWN0KHQsZSxuLHIscyxpKXtyZXR1cm4iKioiPT09ci5wYXRoP3RoaXMuZXhwYW5kV2lsZENhcmRXaXRoUGFyYW1zQWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdCh0LG4scixpKTp0aGlzLmV4cGFuZFJlZ3VsYXJTZWdtZW50QWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdCh0LGUsbixyLHMsaSl9ZXhwYW5kV2lsZENhcmRXaXRoUGFyYW1zQWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdCh0LGUsbixyKXtjb25zdCBzPXRoaXMuYXBwbHlSZWRpcmVjdENvbW1hbmRzKFtdLG4ucmVkaXJlY3RUbyx7fSk7cmV0dXJuIG4ucmVkaXJlY3RUby5zdGFydHNXaXRoKCIvIik/c20ocyk6dGhpcy5saW5lcmFsaXplU2VnbWVudHMobixzKS5waXBlKEIobj0+e2NvbnN0IHM9bmV3IEhmKG4se30pO3JldHVybiB0aGlzLmV4cGFuZFNlZ21lbnQodCxzLGUsbixyLCExKX0pKX1leHBhbmRSZWd1bGFyU2VnbWVudEFnYWluc3RSb3V0ZVVzaW5nUmVkaXJlY3QodCxlLG4scixzLGkpe2NvbnN0e21hdGNoZWQ6byxjb25zdW1lZFNlZ21lbnRzOmEsbGFzdENoaWxkOmwscG9zaXRpb25hbFBhcmFtU2VnbWVudHM6dX09S2coZSxyLHMpO2lmKCFvKXJldHVybiBybShlKTtjb25zdCBjPXRoaXMuYXBwbHlSZWRpcmVjdENvbW1hbmRzKGEsci5yZWRpcmVjdFRvLHUpO3JldHVybiByLnJlZGlyZWN0VG8uc3RhcnRzV2l0aCgiLyIpP3NtKGMpOnRoaXMubGluZXJhbGl6ZVNlZ21lbnRzKHIsYykucGlwZShCKHI9PnRoaXMuZXhwYW5kU2VnbWVudCh0LGUsbixyLmNvbmNhdChzLnNsaWNlKGwpKSxpLCExKSkpfW1hdGNoU2VnbWVudEFnYWluc3RSb3V0ZSh0LGUsbixyLHMpe2lmKCIqKiI9PT1uLnBhdGgpcmV0dXJuIG4ubG9hZENoaWxkcmVuPyhuLl9sb2FkZWRDb25maWc/ZWQobi5fbG9hZGVkQ29uZmlnKTp0aGlzLmNvbmZpZ0xvYWRlci5sb2FkKHQuaW5qZWN0b3IsbikpLnBpcGUoeCh0PT4obi5fbG9hZGVkQ29uZmlnPXQsbmV3IEhmKHIse30pKSkpOmVkKG5ldyBIZihyLHt9KSk7Y29uc3R7bWF0Y2hlZDppLGNvbnN1bWVkU2VnbWVudHM6byxsYXN0Q2hpbGQ6YX09S2coZSxuLHIpO2lmKCFpKXJldHVybiBybShlKTtjb25zdCBsPXIuc2xpY2UoYSk7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb25maWcodCxuLHIpLnBpcGUoQih0PT57Y29uc3Qgcj10Lm1vZHVsZSxpPXQucm91dGVzLHtzZWdtZW50R3JvdXA6YSxzbGljZWRTZWdtZW50czp1fT1RZyhlLG8sbCxpKSxjPW5ldyBIZihhLnNlZ21lbnRzLGEuY2hpbGRyZW4pO2lmKDA9PT11Lmxlbmd0aCYmYy5oYXNDaGlsZHJlbigpKXJldHVybiB0aGlzLmV4cGFuZENoaWxkcmVuKHIsaSxjKS5waXBlKHgodD0+bmV3IEhmKG8sdCkpKTtpZigwPT09aS5sZW5ndGgmJjA9PT11Lmxlbmd0aClyZXR1cm4gZWQobmV3IEhmKG8se30pKTtjb25zdCBoPUdnKG4pPT09cztyZXR1cm4gdGhpcy5leHBhbmRTZWdtZW50KHIsYyxpLHUsaD9EZjpzLCEwKS5waXBlKHgodD0+bmV3IEhmKG8uY29uY2F0KHQuc2VnbWVudHMpLHQuY2hpbGRyZW4pKSl9KSl9Z2V0Q2hpbGRDb25maWcodCxlLG4pe3JldHVybiBlLmNoaWxkcmVuP2VkKG5ldyBqZyhlLmNoaWxkcmVuLHQpKTplLmxvYWRDaGlsZHJlbj92b2lkIDAhPT1lLl9sb2FkZWRDb25maWc/ZWQoZS5fbG9hZGVkQ29uZmlnKTp0aGlzLnJ1bkNhbkxvYWRHdWFyZHModC5pbmplY3RvcixlLG4pLnBpcGUoQihuPT5uP3RoaXMuY29uZmlnTG9hZGVyLmxvYWQodC5pbmplY3RvcixlKS5waXBlKHgodD0+KGUuX2xvYWRlZENvbmZpZz10LHQpKSk6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB2KGU9PmUuZXJyb3IoeGYoYENhbm5vdCBsb2FkIGNoaWxkcmVuIGJlY2F1c2UgdGhlIGd1YXJkIG9mIHRoZSByb3V0ZSAicGF0aDogJyR7dC5wYXRofSciIHJldHVybmVkIGZhbHNlYCkpKX0oZSkpKTplZChuZXcgamcoW10sdCkpfXJ1bkNhbkxvYWRHdWFyZHModCxlLG4pe2NvbnN0IHI9ZS5jYW5Mb2FkO3JldHVybiByJiYwIT09ci5sZW5ndGg/ZWQoci5tYXAocj0+e2NvbnN0IHM9dC5nZXQocik7bGV0IGk7aWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJk1nKHQuY2FuTG9hZCl9KHMpKWk9cy5jYW5Mb2FkKGUsbik7ZWxzZXtpZighTWcocykpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIENhbkxvYWQgZ3VhcmQiKTtpPXMoZSxuKX1yZXR1cm4gUmYoaSl9KSkucGlwZShIZygpLHRmKHQ9PntpZighVmcodCkpcmV0dXJuO2NvbnN0IGU9eGYoYFJlZGlyZWN0aW5nIHRvICIke3RoaXMudXJsU2VyaWFsaXplci5zZXJpYWxpemUodCl9ImApO3Rocm93IGUudXJsPXQsZX0pLHgodD0+ITA9PT10KSk6ZWQoITApfWxpbmVyYWxpemVTZWdtZW50cyh0LGUpe2xldCBuPVtdLHI9ZS5yb290O2Zvcig7Oyl7aWYobj1uLmNvbmNhdChyLnNlZ21lbnRzKSwwPT09ci5udW1iZXJPZkNoaWxkcmVuKXJldHVybiBlZChuKTtpZihyLm51bWJlck9mQ2hpbGRyZW4+MXx8IXIuY2hpbGRyZW4ucHJpbWFyeSlyZXR1cm4gaW0odC5yZWRpcmVjdFRvKTtyPXIuY2hpbGRyZW4ucHJpbWFyeX19YXBwbHlSZWRpcmVjdENvbW1hbmRzKHQsZSxuKXtyZXR1cm4gdGhpcy5hcHBseVJlZGlyZWN0Q3JlYXRyZVVybFRyZWUoZSx0aGlzLnVybFNlcmlhbGl6ZXIucGFyc2UoZSksdCxuKX1hcHBseVJlZGlyZWN0Q3JlYXRyZVVybFRyZWUodCxlLG4scil7Y29uc3Qgcz10aGlzLmNyZWF0ZVNlZ21lbnRHcm91cCh0LGUucm9vdCxuLHIpO3JldHVybiBuZXcgQmYocyx0aGlzLmNyZWF0ZVF1ZXJ5UGFyYW1zKGUucXVlcnlQYXJhbXMsdGhpcy51cmxUcmVlLnF1ZXJ5UGFyYW1zKSxlLmZyYWdtZW50KX1jcmVhdGVRdWVyeVBhcmFtcyh0LGUpe2NvbnN0IG49e307cmV0dXJuIElmKHQsKHQscik9PntpZigic3RyaW5nIj09dHlwZW9mIHQmJnQuc3RhcnRzV2l0aCgiOiIpKXtjb25zdCBzPXQuc3Vic3RyaW5nKDEpO25bcl09ZVtzXX1lbHNlIG5bcl09dH0pLG59Y3JlYXRlU2VnbWVudEdyb3VwKHQsZSxuLHIpe2NvbnN0IHM9dGhpcy5jcmVhdGVTZWdtZW50cyh0LGUuc2VnbWVudHMsbixyKTtsZXQgaT17fTtyZXR1cm4gSWYoZS5jaGlsZHJlbiwoZSxzKT0+e2lbc109dGhpcy5jcmVhdGVTZWdtZW50R3JvdXAodCxlLG4scil9KSxuZXcgSGYocyxpKX1jcmVhdGVTZWdtZW50cyh0LGUsbixyKXtyZXR1cm4gZS5tYXAoZT0+ZS5wYXRoLnN0YXJ0c1dpdGgoIjoiKT90aGlzLmZpbmRQb3NQYXJhbSh0LGUscik6dGhpcy5maW5kT3JSZXR1cm4oZSxuKSl9ZmluZFBvc1BhcmFtKHQsZSxuKXtjb25zdCByPW5bZS5wYXRoLnN1YnN0cmluZygxKV07aWYoIXIpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcmVkaXJlY3QgdG8gJyR7dH0nLiBDYW5ub3QgZmluZCAnJHtlLnBhdGh9Jy5gKTtyZXR1cm4gcn1maW5kT3JSZXR1cm4odCxlKXtsZXQgbj0wO2Zvcihjb25zdCByIG9mIGUpe2lmKHIucGF0aD09PXQucGF0aClyZXR1cm4gZS5zcGxpY2UobikscjtuKyt9cmV0dXJuIHR9fWZ1bmN0aW9uIGFtKHQpe2NvbnN0IGU9e307Zm9yKGNvbnN0IG4gb2YgT2JqZWN0LmtleXModC5jaGlsZHJlbikpe2NvbnN0IHI9YW0odC5jaGlsZHJlbltuXSk7KHIuc2VnbWVudHMubGVuZ3RoPjB8fHIuaGFzQ2hpbGRyZW4oKSkmJihlW25dPXIpfXJldHVybiBmdW5jdGlvbih0KXtpZigxPT09dC5udW1iZXJPZkNoaWxkcmVuJiZ0LmNoaWxkcmVuLnByaW1hcnkpe2NvbnN0IGU9dC5jaGlsZHJlbi5wcmltYXJ5O3JldHVybiBuZXcgSGYodC5zZWdtZW50cy5jb25jYXQoZS5zZWdtZW50cyksZS5jaGlsZHJlbil9cmV0dXJuIHR9KG5ldyBIZih0LnNlZ21lbnRzLGUpKX1jbGFzcyBsbXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnBhdGg9dCx0aGlzLnJvdXRlPXRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdfX1jbGFzcyB1bXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuY29tcG9uZW50PXQsdGhpcy5yb3V0ZT1lfX1mdW5jdGlvbiBjbSh0LGUsbil7Y29uc3Qgcj10Ll9yb290O3JldHVybiBkbShyLGU/ZS5fcm9vdDpudWxsLG4sW3IudmFsdWVdKX1mdW5jdGlvbiBobSh0LGUsbil7Y29uc3Qgcj1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gbnVsbDtmb3IobGV0IGU9dC5wYXJlbnQ7ZTtlPWUucGFyZW50KXtjb25zdCB0PWUucm91dGVDb25maWc7aWYodCYmdC5fbG9hZGVkQ29uZmlnKXJldHVybiB0Ll9sb2FkZWRDb25maWd9cmV0dXJuIG51bGx9KGUpO3JldHVybihyP3IubW9kdWxlLmluamVjdG9yOm4pLmdldCh0KX1mdW5jdGlvbiBkbSh0LGUsbixyLHM9e2NhbkRlYWN0aXZhdGVDaGVja3M6W10sY2FuQWN0aXZhdGVDaGVja3M6W119KXtjb25zdCBpPWNnKGUpO3JldHVybiB0LmNoaWxkcmVuLmZvckVhY2godD0+eyFmdW5jdGlvbih0LGUsbixyLHM9e2NhbkRlYWN0aXZhdGVDaGVja3M6W10sY2FuQWN0aXZhdGVDaGVja3M6W119KXtjb25zdCBpPXQudmFsdWUsbz1lP2UudmFsdWU6bnVsbCxhPW4/bi5nZXRDb250ZXh0KHQudmFsdWUub3V0bGV0KTpudWxsO2lmKG8mJmkucm91dGVDb25maWc9PT1vLnJvdXRlQ29uZmlnKXtjb25zdCBsPWZ1bmN0aW9uKHQsZSxuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgbilyZXR1cm4gbih0LGUpO3N3aXRjaChuKXtjYXNlInBhdGhQYXJhbXNDaGFuZ2UiOnJldHVybiEkZih0LnVybCxlLnVybCk7Y2FzZSJwYXRoUGFyYW1zT3JRdWVyeVBhcmFtc0NoYW5nZSI6cmV0dXJuISRmKHQudXJsLGUudXJsKXx8IVRmKHQucXVlcnlQYXJhbXMsZS5xdWVyeVBhcmFtcyk7Y2FzZSJhbHdheXMiOnJldHVybiEwO2Nhc2UicGFyYW1zT3JRdWVyeVBhcmFtc0NoYW5nZSI6cmV0dXJuIXdnKHQsZSl8fCFUZih0LnF1ZXJ5UGFyYW1zLGUucXVlcnlQYXJhbXMpO2Nhc2UicGFyYW1zQ2hhbmdlIjpkZWZhdWx0OnJldHVybiF3Zyh0LGUpfX0obyxpLGkucm91dGVDb25maWcucnVuR3VhcmRzQW5kUmVzb2x2ZXJzKTtsP3MuY2FuQWN0aXZhdGVDaGVja3MucHVzaChuZXcgbG0ocikpOihpLmRhdGE9by5kYXRhLGkuX3Jlc29sdmVkRGF0YT1vLl9yZXNvbHZlZERhdGEpLGRtKHQsZSxpLmNvbXBvbmVudD9hP2EuY2hpbGRyZW46bnVsbDpuLHIscyksbCYmYSYmYS5vdXRsZXQmJmEub3V0bGV0LmlzQWN0aXZhdGVkJiZzLmNhbkRlYWN0aXZhdGVDaGVja3MucHVzaChuZXcgdW0oYS5vdXRsZXQuY29tcG9uZW50LG8pKX1lbHNlIG8mJnBtKGUsYSxzKSxzLmNhbkFjdGl2YXRlQ2hlY2tzLnB1c2gobmV3IGxtKHIpKSxkbSh0LG51bGwsaS5jb21wb25lbnQ/YT9hLmNoaWxkcmVuOm51bGw6bixyLHMpfSh0LGlbdC52YWx1ZS5vdXRsZXRdLG4sci5jb25jYXQoW3QudmFsdWVdKSxzKSxkZWxldGUgaVt0LnZhbHVlLm91dGxldF19KSxJZihpLCh0LGUpPT5wbSh0LG4uZ2V0Q29udGV4dChlKSxzKSksc31mdW5jdGlvbiBwbSh0LGUsbil7Y29uc3Qgcj1jZyh0KSxzPXQudmFsdWU7SWYociwodCxyKT0+e3BtKHQscy5jb21wb25lbnQ/ZT9lLmNoaWxkcmVuLmdldENvbnRleHQocik6bnVsbDplLG4pfSksbi5jYW5EZWFjdGl2YXRlQ2hlY2tzLnB1c2gobmV3IHVtKHMuY29tcG9uZW50JiZlJiZlLm91dGxldCYmZS5vdXRsZXQuaXNBY3RpdmF0ZWQ/ZS5vdXRsZXQuY29tcG9uZW50Om51bGwscykpfWNsYXNzIGZte31mdW5jdGlvbiBnbSh0KXtyZXR1cm4gbmV3IHYoZT0+ZS5lcnJvcih0KSl9Y2xhc3MgbW17Y29uc3RydWN0b3IodCxlLG4scixzLGkpe3RoaXMucm9vdENvbXBvbmVudFR5cGU9dCx0aGlzLmNvbmZpZz1lLHRoaXMudXJsVHJlZT1uLHRoaXMudXJsPXIsdGhpcy5wYXJhbXNJbmhlcml0YW5jZVN0cmF0ZWd5PXMsdGhpcy5yZWxhdGl2ZUxpbmtSZXNvbHV0aW9uPWl9cmVjb2duaXplKCl7Y29uc3QgdD1RZyh0aGlzLnVybFRyZWUucm9vdCxbXSxbXSx0aGlzLmNvbmZpZy5maWx0ZXIodD0+dm9pZCAwPT09dC5yZWRpcmVjdFRvKSx0aGlzLnJlbGF0aXZlTGlua1Jlc29sdXRpb24pLnNlZ21lbnRHcm91cCxlPXRoaXMucHJvY2Vzc1NlZ21lbnRHcm91cCh0aGlzLmNvbmZpZyx0LERmKTtpZihudWxsPT09ZSlyZXR1cm4gbnVsbDtjb25zdCBuPW5ldyBnZyhbXSxPYmplY3QuZnJlZXplKHt9KSxPYmplY3QuZnJlZXplKE9iamVjdC5hc3NpZ24oe30sdGhpcy51cmxUcmVlLnF1ZXJ5UGFyYW1zKSksdGhpcy51cmxUcmVlLmZyYWdtZW50LHt9LERmLHRoaXMucm9vdENvbXBvbmVudFR5cGUsbnVsbCx0aGlzLnVybFRyZWUucm9vdCwtMSx7fSkscj1uZXcgdWcobixlKSxzPW5ldyBtZyh0aGlzLnVybCxyKTtyZXR1cm4gdGhpcy5pbmhlcml0UGFyYW1zQW5kRGF0YShzLl9yb290KSxzfWluaGVyaXRQYXJhbXNBbmREYXRhKHQpe2NvbnN0IGU9dC52YWx1ZSxuPWZnKGUsdGhpcy5wYXJhbXNJbmhlcml0YW5jZVN0cmF0ZWd5KTtlLnBhcmFtcz1PYmplY3QuZnJlZXplKG4ucGFyYW1zKSxlLmRhdGE9T2JqZWN0LmZyZWV6ZShuLmRhdGEpLHQuY2hpbGRyZW4uZm9yRWFjaCh0PT50aGlzLmluaGVyaXRQYXJhbXNBbmREYXRhKHQpKX1wcm9jZXNzU2VnbWVudEdyb3VwKHQsZSxuKXtyZXR1cm4gMD09PWUuc2VnbWVudHMubGVuZ3RoJiZlLmhhc0NoaWxkcmVuKCk/dGhpcy5wcm9jZXNzQ2hpbGRyZW4odCxlKTp0aGlzLnByb2Nlc3NTZWdtZW50KHQsZSxlLnNlZ21lbnRzLG4pfXByb2Nlc3NDaGlsZHJlbih0LGUpe2NvbnN0IG49W107Zm9yKGNvbnN0IHMgb2YgT2JqZWN0LmtleXMoZS5jaGlsZHJlbikpe2NvbnN0IHI9ZS5jaGlsZHJlbltzXSxpPVpnKHQscyksbz10aGlzLnByb2Nlc3NTZWdtZW50R3JvdXAoaSxyLHMpO2lmKG51bGw9PT1vKXJldHVybiBudWxsO24ucHVzaCguLi5vKX1jb25zdCByPXZtKG4pO3JldHVybiByLnNvcnQoKHQsZSk9PnQudmFsdWUub3V0bGV0PT09RGY/LTE6ZS52YWx1ZS5vdXRsZXQ9PT1EZj8xOnQudmFsdWUub3V0bGV0LmxvY2FsZUNvbXBhcmUoZS52YWx1ZS5vdXRsZXQpKSxyfXByb2Nlc3NTZWdtZW50KHQsZSxuLHIpe2Zvcihjb25zdCBzIG9mIHQpe2NvbnN0IHQ9dGhpcy5wcm9jZXNzU2VnbWVudEFnYWluc3RSb3V0ZShzLGUsbixyKTtpZihudWxsIT09dClyZXR1cm4gdH1yZXR1cm4gdG0oZSxuLHIpP1tdOm51bGx9cHJvY2Vzc1NlZ21lbnRBZ2FpbnN0Um91dGUodCxlLG4scil7aWYodC5yZWRpcmVjdFRvfHwhSmcodCxlLG4scikpcmV0dXJuIG51bGw7bGV0IHMsaT1bXSxvPVtdO2lmKCIqKiI9PT10LnBhdGgpe2NvbnN0IHI9bi5sZW5ndGg+MD9rZihuKS5wYXJhbWV0ZXJzOnt9O3M9bmV3IGdnKG4scixPYmplY3QuZnJlZXplKE9iamVjdC5hc3NpZ24oe30sdGhpcy51cmxUcmVlLnF1ZXJ5UGFyYW1zKSksdGhpcy51cmxUcmVlLmZyYWdtZW50LENtKHQpLEdnKHQpLHQuY29tcG9uZW50LHQsYm0oZSksd20oZSkrbi5sZW5ndGgsX20odCkpfWVsc2V7Y29uc3Qgcj1LZyhlLHQsbik7aWYoIXIubWF0Y2hlZClyZXR1cm4gbnVsbDtpPXIuY29uc3VtZWRTZWdtZW50cyxvPW4uc2xpY2Uoci5sYXN0Q2hpbGQpLHM9bmV3IGdnKGksci5wYXJhbWV0ZXJzLE9iamVjdC5mcmVlemUoT2JqZWN0LmFzc2lnbih7fSx0aGlzLnVybFRyZWUucXVlcnlQYXJhbXMpKSx0aGlzLnVybFRyZWUuZnJhZ21lbnQsQ20odCksR2codCksdC5jb21wb25lbnQsdCxibShlKSx3bShlKStpLmxlbmd0aCxfbSh0KSl9Y29uc3QgYT1mdW5jdGlvbih0KXtyZXR1cm4gdC5jaGlsZHJlbj90LmNoaWxkcmVuOnQubG9hZENoaWxkcmVuP3QuX2xvYWRlZENvbmZpZy5yb3V0ZXM6W119KHQpLHtzZWdtZW50R3JvdXA6bCxzbGljZWRTZWdtZW50czp1fT1RZyhlLGksbyxhLmZpbHRlcih0PT52b2lkIDA9PT10LnJlZGlyZWN0VG8pLHRoaXMucmVsYXRpdmVMaW5rUmVzb2x1dGlvbik7aWYoMD09PXUubGVuZ3RoJiZsLmhhc0NoaWxkcmVuKCkpe2NvbnN0IHQ9dGhpcy5wcm9jZXNzQ2hpbGRyZW4oYSxsKTtyZXR1cm4gbnVsbD09PXQ/bnVsbDpbbmV3IHVnKHMsdCldfWlmKDA9PT1hLmxlbmd0aCYmMD09PXUubGVuZ3RoKXJldHVybltuZXcgdWcocyxbXSldO2NvbnN0IGM9R2codCk9PT1yLGg9dGhpcy5wcm9jZXNzU2VnbWVudChhLGwsdSxjP0RmOnIpO3JldHVybiBudWxsPT09aD9udWxsOltuZXcgdWcocyxoKV19fWZ1bmN0aW9uIHltKHQpe2NvbnN0IGU9dC52YWx1ZS5yb3V0ZUNvbmZpZztyZXR1cm4gZSYmIiI9PT1lLnBhdGgmJnZvaWQgMD09PWUucmVkaXJlY3RUb31mdW5jdGlvbiB2bSh0KXtjb25zdCBlPVtdLG49bmV3IFNldDtmb3IoY29uc3QgciBvZiB0KXtpZigheW0ocikpe2UucHVzaChyKTtjb250aW51ZX1jb25zdCB0PWUuZmluZCh0PT5yLnZhbHVlLnJvdXRlQ29uZmlnPT09dC52YWx1ZS5yb3V0ZUNvbmZpZyk7dm9pZCAwIT09dD8odC5jaGlsZHJlbi5wdXNoKC4uLnIuY2hpbGRyZW4pLG4uYWRkKHQpKTplLnB1c2gocil9Zm9yKGNvbnN0IHIgb2Ygbil7Y29uc3QgdD12bShyLmNoaWxkcmVuKTtlLnB1c2gobmV3IHVnKHIudmFsdWUsdCkpfXJldHVybiBlLmZpbHRlcih0PT4hbi5oYXModCkpfWZ1bmN0aW9uIGJtKHQpe2xldCBlPXQ7Zm9yKDtlLl9zb3VyY2VTZWdtZW50OyllPWUuX3NvdXJjZVNlZ21lbnQ7cmV0dXJuIGV9ZnVuY3Rpb24gd20odCl7bGV0IGU9dCxuPWUuX3NlZ21lbnRJbmRleFNoaWZ0P2UuX3NlZ21lbnRJbmRleFNoaWZ0OjA7Zm9yKDtlLl9zb3VyY2VTZWdtZW50OyllPWUuX3NvdXJjZVNlZ21lbnQsbis9ZS5fc2VnbWVudEluZGV4U2hpZnQ/ZS5fc2VnbWVudEluZGV4U2hpZnQ6MDtyZXR1cm4gbi0xfWZ1bmN0aW9uIENtKHQpe3JldHVybiB0LmRhdGF8fHt9fWZ1bmN0aW9uIF9tKHQpe3JldHVybiB0LnJlc29sdmV8fHt9fWZ1bmN0aW9uIERtKHQpe3JldHVybiB0cChlPT57Y29uc3Qgbj10KGUpO3JldHVybiBuP04obikucGlwZSh4KCgpPT5lKSk6ZWQoZSl9KX1jbGFzcyBFbSBleHRlbmRzIGNsYXNze3Nob3VsZERldGFjaCh0KXtyZXR1cm4hMX1zdG9yZSh0LGUpe31zaG91bGRBdHRhY2godCl7cmV0dXJuITF9cmV0cmlldmUodCl7cmV0dXJuIG51bGx9c2hvdWxkUmV1c2VSb3V0ZSh0LGUpe3JldHVybiB0LnJvdXRlQ29uZmlnPT09ZS5yb3V0ZUNvbmZpZ319e31jb25zdCBTbT1uZXcgJG4oIlJPVVRFUyIpO2NsYXNzIHhte2NvbnN0cnVjdG9yKHQsZSxuLHIpe3RoaXMubG9hZGVyPXQsdGhpcy5jb21waWxlcj1lLHRoaXMub25Mb2FkU3RhcnRMaXN0ZW5lcj1uLHRoaXMub25Mb2FkRW5kTGlzdGVuZXI9cn1sb2FkKHQsZSl7aWYoZS5fbG9hZGVyJClyZXR1cm4gZS5fbG9hZGVyJDt0aGlzLm9uTG9hZFN0YXJ0TGlzdGVuZXImJnRoaXMub25Mb2FkU3RhcnRMaXN0ZW5lcihlKTtjb25zdCBuPXRoaXMubG9hZE1vZHVsZUZhY3RvcnkoZS5sb2FkQ2hpbGRyZW4pLnBpcGUoeChuPT57dGhpcy5vbkxvYWRFbmRMaXN0ZW5lciYmdGhpcy5vbkxvYWRFbmRMaXN0ZW5lcihlKTtjb25zdCByPW4uY3JlYXRlKHQpO3JldHVybiBuZXcgamcoRmYoci5pbmplY3Rvci5nZXQoU20sdm9pZCAwLHd0LlNlbGZ8d3QuT3B0aW9uYWwpKS5tYXAoV2cpLHIpfSksVnAodD0+e3Rocm93IGUuX2xvYWRlciQ9dm9pZCAwLHR9KSk7cmV0dXJuIGUuX2xvYWRlciQ9bmV3IFkobiwoKT0+bmV3IEQpLnBpcGUoVygpKSxlLl9sb2FkZXIkfWxvYWRNb2R1bGVGYWN0b3J5KHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9OKHRoaXMubG9hZGVyLmxvYWQodCkpOlJmKHQoKSkucGlwZShCKHQ9PnQgaW5zdGFuY2VvZiB1bD9lZCh0KTpOKHRoaXMuY29tcGlsZXIuY29tcGlsZU1vZHVsZUFzeW5jKHQpKSkpfX1jbGFzcyBBbXtjb25zdHJ1Y3Rvcigpe3RoaXMub3V0bGV0PW51bGwsdGhpcy5yb3V0ZT1udWxsLHRoaXMucmVzb2x2ZXI9bnVsbCx0aGlzLmNoaWxkcmVuPW5ldyBUbSx0aGlzLmF0dGFjaFJlZj1udWxsfX1jbGFzcyBUbXtjb25zdHJ1Y3Rvcigpe3RoaXMuY29udGV4dHM9bmV3IE1hcH1vbkNoaWxkT3V0bGV0Q3JlYXRlZCh0LGUpe2NvbnN0IG49dGhpcy5nZXRPckNyZWF0ZUNvbnRleHQodCk7bi5vdXRsZXQ9ZSx0aGlzLmNvbnRleHRzLnNldCh0LG4pfW9uQ2hpbGRPdXRsZXREZXN0cm95ZWQodCl7Y29uc3QgZT10aGlzLmdldENvbnRleHQodCk7ZSYmKGUub3V0bGV0PW51bGwpfW9uT3V0bGV0RGVhY3RpdmF0ZWQoKXtjb25zdCB0PXRoaXMuY29udGV4dHM7cmV0dXJuIHRoaXMuY29udGV4dHM9bmV3IE1hcCx0fW9uT3V0bGV0UmVBdHRhY2hlZCh0KXt0aGlzLmNvbnRleHRzPXR9Z2V0T3JDcmVhdGVDb250ZXh0KHQpe2xldCBlPXRoaXMuZ2V0Q29udGV4dCh0KTtyZXR1cm4gZXx8KGU9bmV3IEFtLHRoaXMuY29udGV4dHMuc2V0KHQsZSkpLGV9Z2V0Q29udGV4dCh0KXtyZXR1cm4gdGhpcy5jb250ZXh0cy5nZXQodCl8fG51bGx9fWNsYXNzIE9te3Nob3VsZFByb2Nlc3NVcmwodCl7cmV0dXJuITB9ZXh0cmFjdCh0KXtyZXR1cm4gdH1tZXJnZSh0LGUpe3JldHVybiB0fX1mdW5jdGlvbiBGbSh0KXt0aHJvdyB0fWZ1bmN0aW9uIGttKHQsZSxuKXtyZXR1cm4gZS5wYXJzZSgiLyIpfWZ1bmN0aW9uIEltKHQsZSl7cmV0dXJuIGVkKG51bGwpfWNvbnN0IFJtPXtwYXRoczoiZXhhY3QiLGZyYWdtZW50OiJpZ25vcmVkIixtYXRyaXhQYXJhbXM6Imlnbm9yZWQiLHF1ZXJ5UGFyYW1zOiJleGFjdCJ9LFBtPXtwYXRoczoic3Vic2V0IixmcmFnbWVudDoiaWdub3JlZCIsbWF0cml4UGFyYW1zOiJpZ25vcmVkIixxdWVyeVBhcmFtczoic3Vic2V0In07bGV0IExtPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4scixzLGksbyxhKXt0aGlzLnJvb3RDb21wb25lbnRUeXBlPXQsdGhpcy51cmxTZXJpYWxpemVyPWUsdGhpcy5yb290Q29udGV4dHM9bix0aGlzLmxvY2F0aW9uPXIsdGhpcy5jb25maWc9YSx0aGlzLmxhc3RTdWNjZXNzZnVsTmF2aWdhdGlvbj1udWxsLHRoaXMuY3VycmVudE5hdmlnYXRpb249bnVsbCx0aGlzLmRpc3Bvc2VkPSExLHRoaXMubGFzdExvY2F0aW9uQ2hhbmdlSW5mbz1udWxsLHRoaXMubmF2aWdhdGlvbklkPTAsdGhpcy5jdXJyZW50UGFnZUlkPTAsdGhpcy5pc05nWm9uZUVuYWJsZWQ9ITEsdGhpcy5ldmVudHM9bmV3IEQsdGhpcy5lcnJvckhhbmRsZXI9Rm0sdGhpcy5tYWxmb3JtZWRVcmlFcnJvckhhbmRsZXI9a20sdGhpcy5uYXZpZ2F0ZWQ9ITEsdGhpcy5sYXN0U3VjY2Vzc2Z1bElkPS0xLHRoaXMuaG9va3M9e2JlZm9yZVByZWFjdGl2YXRpb246SW0sYWZ0ZXJQcmVhY3RpdmF0aW9uOkltfSx0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3k9bmV3IE9tLHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5PW5ldyBFbSx0aGlzLm9uU2FtZVVybE5hdmlnYXRpb249Imlnbm9yZSIsdGhpcy5wYXJhbXNJbmhlcml0YW5jZVN0cmF0ZWd5PSJlbXB0eU9ubHkiLHRoaXMudXJsVXBkYXRlU3RyYXRlZ3k9ImRlZmVycmVkIix0aGlzLnJlbGF0aXZlTGlua1Jlc29sdXRpb249ImNvcnJlY3RlZCIsdGhpcy5jYW5jZWxlZE5hdmlnYXRpb25SZXNvbHV0aW9uPSJyZXBsYWNlIix0aGlzLm5nTW9kdWxlPXMuZ2V0KGxsKSx0aGlzLmNvbnNvbGU9cy5nZXQobnUpO2NvbnN0IGw9cy5nZXQoZ3UpO3RoaXMuaXNOZ1pvbmVFbmFibGVkPWwgaW5zdGFuY2VvZiBndSYmZ3UuaXNJbkFuZ3VsYXJab25lKCksdGhpcy5yZXNldENvbmZpZyhhKSx0aGlzLmN1cnJlbnRVcmxUcmVlPW5ldyBCZihuZXcgSGYoW10se30pLHt9LG51bGwpLHRoaXMucmF3VXJsVHJlZT10aGlzLmN1cnJlbnRVcmxUcmVlLHRoaXMuYnJvd3NlclVybFRyZWU9dGhpcy5jdXJyZW50VXJsVHJlZSx0aGlzLmNvbmZpZ0xvYWRlcj1uZXcgeG0oaSxvLHQ9PnRoaXMudHJpZ2dlckV2ZW50KG5ldyBtZih0KSksdD0+dGhpcy50cmlnZ2VyRXZlbnQobmV3IHlmKHQpKSksdGhpcy5yb3V0ZXJTdGF0ZT1kZyh0aGlzLmN1cnJlbnRVcmxUcmVlLHRoaXMucm9vdENvbXBvbmVudFR5cGUpLHRoaXMudHJhbnNpdGlvbnM9bmV3IF9wKHtpZDowLHRhcmdldFBhZ2VJZDowLGN1cnJlbnRVcmxUcmVlOnRoaXMuY3VycmVudFVybFRyZWUsY3VycmVudFJhd1VybDp0aGlzLmN1cnJlbnRVcmxUcmVlLGV4dHJhY3RlZFVybDp0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuZXh0cmFjdCh0aGlzLmN1cnJlbnRVcmxUcmVlKSx1cmxBZnRlclJlZGlyZWN0czp0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuZXh0cmFjdCh0aGlzLmN1cnJlbnRVcmxUcmVlKSxyYXdVcmw6dGhpcy5jdXJyZW50VXJsVHJlZSxleHRyYXM6e30scmVzb2x2ZTpudWxsLHJlamVjdDpudWxsLHByb21pc2U6UHJvbWlzZS5yZXNvbHZlKCEwKSxzb3VyY2U6ImltcGVyYXRpdmUiLHJlc3RvcmVkU3RhdGU6bnVsbCxjdXJyZW50U25hcHNob3Q6dGhpcy5yb3V0ZXJTdGF0ZS5zbmFwc2hvdCx0YXJnZXRTbmFwc2hvdDpudWxsLGN1cnJlbnRSb3V0ZXJTdGF0ZTp0aGlzLnJvdXRlclN0YXRlLHRhcmdldFJvdXRlclN0YXRlOm51bGwsZ3VhcmRzOntjYW5BY3RpdmF0ZUNoZWNrczpbXSxjYW5EZWFjdGl2YXRlQ2hlY2tzOltdfSxndWFyZHNSZXN1bHQ6bnVsbH0pLHRoaXMubmF2aWdhdGlvbnM9dGhpcy5zZXR1cE5hdmlnYXRpb25zKHRoaXMudHJhbnNpdGlvbnMpLHRoaXMucHJvY2Vzc05hdmlnYXRpb25zKCl9c2V0dXBOYXZpZ2F0aW9ucyh0KXtjb25zdCBlPXRoaXMuZXZlbnRzO3JldHVybiB0LnBpcGUocmQodD0+MCE9PXQuaWQpLHgodD0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHtleHRyYWN0ZWRVcmw6dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5LmV4dHJhY3QodC5yYXdVcmwpfSkpLHRwKHQ9PntsZXQgbj0hMSxyPSExO3JldHVybiBlZCh0KS5waXBlKHRmKHQ9Pnt0aGlzLmN1cnJlbnROYXZpZ2F0aW9uPXtpZDp0LmlkLGluaXRpYWxVcmw6dC5jdXJyZW50UmF3VXJsLGV4dHJhY3RlZFVybDp0LmV4dHJhY3RlZFVybCx0cmlnZ2VyOnQuc291cmNlLGV4dHJhczp0LmV4dHJhcyxwcmV2aW91c05hdmlnYXRpb246dGhpcy5sYXN0U3VjY2Vzc2Z1bE5hdmlnYXRpb24/T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMubGFzdFN1Y2Nlc3NmdWxOYXZpZ2F0aW9uKSx7cHJldmlvdXNOYXZpZ2F0aW9uOm51bGx9KTpudWxsfX0pLHRwKHQ9Pntjb25zdCBuPSF0aGlzLm5hdmlnYXRlZHx8dC5leHRyYWN0ZWRVcmwudG9TdHJpbmcoKSE9PXRoaXMuYnJvd3NlclVybFRyZWUudG9TdHJpbmcoKTtpZigoInJlbG9hZCI9PT10aGlzLm9uU2FtZVVybE5hdmlnYXRpb258fG4pJiZ0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuc2hvdWxkUHJvY2Vzc1VybCh0LnJhd1VybCkpcmV0dXJuIGVkKHQpLnBpcGUodHAodD0+e2NvbnN0IG49dGhpcy50cmFuc2l0aW9ucy5nZXRWYWx1ZSgpO3JldHVybiBlLm5leHQobmV3IGFmKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLHQuc291cmNlLHQucmVzdG9yZWRTdGF0ZSkpLG4hPT10aGlzLnRyYW5zaXRpb25zLmdldFZhbHVlKCk/cWQ6UHJvbWlzZS5yZXNvbHZlKHQpfSksZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRwKHM9PmZ1bmN0aW9uKHQsZSxuLHIscyl7cmV0dXJuIG5ldyBvbSh0LGUsbixyLHMpLmFwcGx5KCl9KHQsZSxuLHMuZXh0cmFjdGVkVXJsLHIpLnBpcGUoeCh0PT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scykse3VybEFmdGVyUmVkaXJlY3RzOnR9KSkpKX0odGhpcy5uZ01vZHVsZS5pbmplY3Rvcix0aGlzLmNvbmZpZ0xvYWRlcix0aGlzLnVybFNlcmlhbGl6ZXIsdGhpcy5jb25maWcpLHRmKHQ9Pnt0aGlzLmN1cnJlbnROYXZpZ2F0aW9uPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLmN1cnJlbnROYXZpZ2F0aW9uKSx7ZmluYWxVcmw6dC51cmxBZnRlclJlZGlyZWN0c30pfSksZnVuY3Rpb24odCxlLG4scixzKXtyZXR1cm4gQihpPT5mdW5jdGlvbih0LGUsbixyLHM9ImVtcHR5T25seSIsaT0ibGVnYWN5Iil7dHJ5e2NvbnN0IG89bmV3IG1tKHQsZSxuLHIscyxpKS5yZWNvZ25pemUoKTtyZXR1cm4gbnVsbD09PW8/Z20obmV3IGZtKTplZChvKX1jYXRjaChvKXtyZXR1cm4gZ20obyl9fSh0LGUsaS51cmxBZnRlclJlZGlyZWN0cyxuKGkudXJsQWZ0ZXJSZWRpcmVjdHMpLHIscykucGlwZSh4KHQ9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxpKSx7dGFyZ2V0U25hcHNob3Q6dH0pKSkpfSh0aGlzLnJvb3RDb21wb25lbnRUeXBlLHRoaXMuY29uZmlnLHQ9PnRoaXMuc2VyaWFsaXplVXJsKHQpLHRoaXMucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneSx0aGlzLnJlbGF0aXZlTGlua1Jlc29sdXRpb24pLHRmKHQ9PnsiZWFnZXIiPT09dGhpcy51cmxVcGRhdGVTdHJhdGVneSYmKHQuZXh0cmFzLnNraXBMb2NhdGlvbkNoYW5nZXx8dGhpcy5zZXRCcm93c2VyVXJsKHQudXJsQWZ0ZXJSZWRpcmVjdHMsdCksdGhpcy5icm93c2VyVXJsVHJlZT10LnVybEFmdGVyUmVkaXJlY3RzKTtjb25zdCBuPW5ldyBoZih0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSx0aGlzLnNlcmlhbGl6ZVVybCh0LnVybEFmdGVyUmVkaXJlY3RzKSx0LnRhcmdldFNuYXBzaG90KTtlLm5leHQobil9KSk7aWYobiYmdGhpcy5yYXdVcmxUcmVlJiZ0aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kuc2hvdWxkUHJvY2Vzc1VybCh0aGlzLnJhd1VybFRyZWUpKXtjb25zdHtpZDpuLGV4dHJhY3RlZFVybDpyLHNvdXJjZTpzLHJlc3RvcmVkU3RhdGU6aSxleHRyYXM6b309dCxhPW5ldyBhZihuLHRoaXMuc2VyaWFsaXplVXJsKHIpLHMsaSk7ZS5uZXh0KGEpO2NvbnN0IGw9ZGcocix0aGlzLnJvb3RDb21wb25lbnRUeXBlKS5zbmFwc2hvdDtyZXR1cm4gZWQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHt0YXJnZXRTbmFwc2hvdDpsLHVybEFmdGVyUmVkaXJlY3RzOnIsZXh0cmFzOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxvKSx7c2tpcExvY2F0aW9uQ2hhbmdlOiExLHJlcGxhY2VVcmw6ITF9KX0pKX1yZXR1cm4gdGhpcy5yYXdVcmxUcmVlPXQucmF3VXJsLHRoaXMuYnJvd3NlclVybFRyZWU9dC51cmxBZnRlclJlZGlyZWN0cyx0LnJlc29sdmUobnVsbCkscWR9KSxEbSh0PT57Y29uc3R7dGFyZ2V0U25hcHNob3Q6ZSxpZDpuLGV4dHJhY3RlZFVybDpyLHJhd1VybDpzLGV4dHJhczp7c2tpcExvY2F0aW9uQ2hhbmdlOmkscmVwbGFjZVVybDpvfX09dDtyZXR1cm4gdGhpcy5ob29rcy5iZWZvcmVQcmVhY3RpdmF0aW9uKGUse25hdmlnYXRpb25JZDpuLGFwcGxpZWRVcmxUcmVlOnIscmF3VXJsVHJlZTpzLHNraXBMb2NhdGlvbkNoYW5nZTohIWkscmVwbGFjZVVybDohIW99KX0pLHRmKHQ9Pntjb25zdCBlPW5ldyBkZih0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSx0aGlzLnNlcmlhbGl6ZVVybCh0LnVybEFmdGVyUmVkaXJlY3RzKSx0LnRhcmdldFNuYXBzaG90KTt0aGlzLnRyaWdnZXJFdmVudChlKX0pLHgodD0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHtndWFyZHM6Y20odC50YXJnZXRTbmFwc2hvdCx0LmN1cnJlbnRTbmFwc2hvdCx0aGlzLnJvb3RDb250ZXh0cyl9KSksZnVuY3Rpb24odCxlKXtyZXR1cm4gQihuPT57Y29uc3R7dGFyZ2V0U25hcHNob3Q6cixjdXJyZW50U25hcHNob3Q6cyxndWFyZHM6e2NhbkFjdGl2YXRlQ2hlY2tzOmksY2FuRGVhY3RpdmF0ZUNoZWNrczpvfX09bjtyZXR1cm4gMD09PW8ubGVuZ3RoJiYwPT09aS5sZW5ndGg/ZWQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHtndWFyZHNSZXN1bHQ6ITB9KSk6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIE4odCkucGlwZShCKHQ9PmZ1bmN0aW9uKHQsZSxuLHIscyl7Y29uc3QgaT1lJiZlLnJvdXRlQ29uZmlnP2Uucm91dGVDb25maWcuY2FuRGVhY3RpdmF0ZTpudWxsO3JldHVybiBpJiYwIT09aS5sZW5ndGg/ZWQoaS5tYXAoaT0+e2NvbnN0IG89aG0oaSxlLHMpO2xldCBhO2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZNZyh0LmNhbkRlYWN0aXZhdGUpfShvKSlhPVJmKG8uY2FuRGVhY3RpdmF0ZSh0LGUsbixyKSk7ZWxzZXtpZighTWcobykpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIENhbkRlYWN0aXZhdGUgZ3VhcmQiKTthPVJmKG8odCxlLG4scikpfXJldHVybiBhLnBpcGUoWHAoKSl9KSkucGlwZShIZygpKTplZCghMCl9KHQuY29tcG9uZW50LHQucm91dGUsbixlLHIpKSxYcCh0PT4hMCE9PXQsITApKX0obyxyLHMsdCkucGlwZShCKG49Pm4mJiJib29sZWFuIj09dHlwZW9mIG4/ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIE4oZSkucGlwZShuZChlPT5GcChmdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT09dCYmZSYmZShuZXcgdmYodCkpLGVkKCEwKX0oZS5yb3V0ZS5wYXJlbnQsciksZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9PXQmJmUmJmUobmV3IHdmKHQpKSxlZCghMCl9KGUucm91dGUsciksZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9ZVtlLmxlbmd0aC0xXSxzPWUuc2xpY2UoMCxlLmxlbmd0aC0xKS5yZXZlcnNlKCkubWFwKHQ9PmZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5yb3V0ZUNvbmZpZz90LnJvdXRlQ29uZmlnLmNhbkFjdGl2YXRlQ2hpbGQ6bnVsbDtyZXR1cm4gZSYmMCE9PWUubGVuZ3RoP3tub2RlOnQsZ3VhcmRzOmV9Om51bGx9KHQpKS5maWx0ZXIodD0+bnVsbCE9PXQpLm1hcChlPT5rcCgoKT0+ZWQoZS5ndWFyZHMubWFwKHM9Pntjb25zdCBpPWhtKHMsZS5ub2RlLG4pO2xldCBvO2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZNZyh0LmNhbkFjdGl2YXRlQ2hpbGQpfShpKSlvPVJmKGkuY2FuQWN0aXZhdGVDaGlsZChyLHQpKTtlbHNle2lmKCFNZyhpKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgQ2FuQWN0aXZhdGVDaGlsZCBndWFyZCIpO289UmYoaShyLHQpKX1yZXR1cm4gby5waXBlKFhwKCkpfSkpLnBpcGUoSGcoKSkpKTtyZXR1cm4gZWQocykucGlwZShIZygpKX0odCxlLnBhdGgsbiksZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9ZS5yb3V0ZUNvbmZpZz9lLnJvdXRlQ29uZmlnLmNhbkFjdGl2YXRlOm51bGw7cmV0dXJuIHImJjAhPT1yLmxlbmd0aD9lZChyLm1hcChyPT5rcCgoKT0+e2NvbnN0IHM9aG0ocixlLG4pO2xldCBpO2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZNZyh0LmNhbkFjdGl2YXRlKX0ocykpaT1SZihzLmNhbkFjdGl2YXRlKGUsdCkpO2Vsc2V7aWYoIU1nKHMpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBDYW5BY3RpdmF0ZSBndWFyZCIpO2k9UmYocyhlLHQpKX1yZXR1cm4gaS5waXBlKFhwKCkpfSkpKS5waXBlKEhnKCkpOmVkKCEwKX0odCxlLnJvdXRlLG4pKSksWHAodD0+ITAhPT10LCEwKSl9KHIsaSx0LGUpOmVkKG4pKSx4KHQ9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7Z3VhcmRzUmVzdWx0OnR9KSkpfSl9KHRoaXMubmdNb2R1bGUuaW5qZWN0b3IsdD0+dGhpcy50cmlnZ2VyRXZlbnQodCkpLHRmKHQ9PntpZihWZyh0Lmd1YXJkc1Jlc3VsdCkpe2NvbnN0IGU9eGYoYFJlZGlyZWN0aW5nIHRvICIke3RoaXMuc2VyaWFsaXplVXJsKHQuZ3VhcmRzUmVzdWx0KX0iYCk7dGhyb3cgZS51cmw9dC5ndWFyZHNSZXN1bHQsZX1jb25zdCBlPW5ldyBwZih0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSx0aGlzLnNlcmlhbGl6ZVVybCh0LnVybEFmdGVyUmVkaXJlY3RzKSx0LnRhcmdldFNuYXBzaG90LCEhdC5ndWFyZHNSZXN1bHQpO3RoaXMudHJpZ2dlckV2ZW50KGUpfSkscmQodD0+ISF0Lmd1YXJkc1Jlc3VsdHx8KHRoaXMuY2FuY2VsTmF2aWdhdGlvblRyYW5zaXRpb24odCwiIiksITEpKSxEbSh0PT57aWYodC5ndWFyZHMuY2FuQWN0aXZhdGVDaGVja3MubGVuZ3RoKXJldHVybiBlZCh0KS5waXBlKHRmKHQ9Pntjb25zdCBlPW5ldyBmZih0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSx0aGlzLnNlcmlhbGl6ZVVybCh0LnVybEFmdGVyUmVkaXJlY3RzKSx0LnRhcmdldFNuYXBzaG90KTt0aGlzLnRyaWdnZXJFdmVudChlKX0pLHRwKHQ9PntsZXQgZT0hMTtyZXR1cm4gZWQodCkucGlwZSgobj10aGlzLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3kscj10aGlzLm5nTW9kdWxlLmluamVjdG9yLEIodD0+e2NvbnN0e3RhcmdldFNuYXBzaG90OmUsZ3VhcmRzOntjYW5BY3RpdmF0ZUNoZWNrczpzfX09dDtpZighcy5sZW5ndGgpcmV0dXJuIGVkKHQpO2xldCBpPTA7cmV0dXJuIE4ocykucGlwZShuZCh0PT5mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz1PYmplY3Qua2V5cyh0KTtpZigwPT09cy5sZW5ndGgpcmV0dXJuIGVkKHt9KTtjb25zdCBpPXt9O3JldHVybiBOKHMpLnBpcGUoQihzPT5mdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPWhtKHQsZSxyKTtyZXR1cm4gUmYocy5yZXNvbHZlP3MucmVzb2x2ZShlLG4pOnMoZSxuKSl9KHRbc10sZSxuLHIpLnBpcGUodGYodD0+e2lbc109dH0pKSksVXAoMSksQigoKT0+T2JqZWN0LmtleXMoaSkubGVuZ3RoPT09cy5sZW5ndGg/ZWQoaSk6cWQpKX0odC5fcmVzb2x2ZSx0LGUscikucGlwZSh4KGU9Pih0Ll9yZXNvbHZlZERhdGE9ZSx0LmRhdGE9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQuZGF0YSksZmcodCxuKS5yZXNvbHZlKSxudWxsKSkpfSh0LnJvdXRlLGUsbixyKSksdGYoKCk9PmkrKyksVXAoMSksQihlPT5pPT09cy5sZW5ndGg/ZWQodCk6cWQpKX0pKSx0Zih7bmV4dDooKT0+ZT0hMCxjb21wbGV0ZTooKT0+e2V8fHRoaXMuY2FuY2VsTmF2aWdhdGlvblRyYW5zaXRpb24odCwiQXQgbGVhc3Qgb25lIHJvdXRlIHJlc29sdmVyIGRpZG4ndCBlbWl0IGFueSB2YWx1ZS4iKX19KSk7dmFyIG4scn0pLHRmKHQ9Pntjb25zdCBlPW5ldyBnZih0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSx0aGlzLnNlcmlhbGl6ZVVybCh0LnVybEFmdGVyUmVkaXJlY3RzKSx0LnRhcmdldFNuYXBzaG90KTt0aGlzLnRyaWdnZXJFdmVudChlKX0pKX0pLERtKHQ9Pntjb25zdHt0YXJnZXRTbmFwc2hvdDplLGlkOm4sZXh0cmFjdGVkVXJsOnIscmF3VXJsOnMsZXh0cmFzOntza2lwTG9jYXRpb25DaGFuZ2U6aSxyZXBsYWNlVXJsOm99fT10O3JldHVybiB0aGlzLmhvb2tzLmFmdGVyUHJlYWN0aXZhdGlvbihlLHtuYXZpZ2F0aW9uSWQ6bixhcHBsaWVkVXJsVHJlZTpyLHJhd1VybFRyZWU6cyxza2lwTG9jYXRpb25DaGFuZ2U6ISFpLHJlcGxhY2VVcmw6ISFvfSl9KSx4KHQ9Pntjb25zdCBlPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPUNnKHQsZS5fcm9vdCxuP24uX3Jvb3Q6dm9pZCAwKTtyZXR1cm4gbmV3IGhnKHIsZSl9KHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LHQudGFyZ2V0U25hcHNob3QsdC5jdXJyZW50Um91dGVyU3RhdGUpO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse3RhcmdldFJvdXRlclN0YXRlOmV9KX0pLHRmKHQ9Pnt0aGlzLmN1cnJlbnRVcmxUcmVlPXQudXJsQWZ0ZXJSZWRpcmVjdHMsdGhpcy5yYXdVcmxUcmVlPXRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5tZXJnZSh0aGlzLmN1cnJlbnRVcmxUcmVlLHQucmF3VXJsKSx0aGlzLnJvdXRlclN0YXRlPXQudGFyZ2V0Um91dGVyU3RhdGUsImRlZmVycmVkIj09PXRoaXMudXJsVXBkYXRlU3RyYXRlZ3kmJih0LmV4dHJhcy5za2lwTG9jYXRpb25DaGFuZ2V8fHRoaXMuc2V0QnJvd3NlclVybCh0aGlzLnJhd1VybFRyZWUsdCksdGhpcy5icm93c2VyVXJsVHJlZT10LnVybEFmdGVyUmVkaXJlY3RzKX0pLChpPXRoaXMucm9vdENvbnRleHRzLG89dGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3ksYT10PT50aGlzLnRyaWdnZXJFdmVudCh0KSx4KHQ9PihuZXcgTGcobyx0LnRhcmdldFJvdXRlclN0YXRlLHQuY3VycmVudFJvdXRlclN0YXRlLGEpLmFjdGl2YXRlKGkpLHQpKSksdGYoe25leHQoKXtuPSEwfSxjb21wbGV0ZSgpe249ITB9fSksKHM9KCk9PntufHxyfHx0aGlzLmNhbmNlbE5hdmlnYXRpb25UcmFuc2l0aW9uKHQsYE5hdmlnYXRpb24gSUQgJHt0LmlkfSBpcyBub3QgZXF1YWwgdG8gdGhlIGN1cnJlbnQgbmF2aWdhdGlvbiBpZCAke3RoaXMubmF2aWdhdGlvbklkfWApLHRoaXMuY3VycmVudE5hdmlnYXRpb249bnVsbH0sdD0+dC5saWZ0KG5ldyByZihzKSkpLFZwKG49PntpZihyPSEwLChzPW4pJiZzLm5nTmF2aWdhdGlvbkNhbmNlbGluZ0Vycm9yKXtjb25zdCByPVZnKG4udXJsKTtyfHwodGhpcy5uYXZpZ2F0ZWQ9ITAsdGhpcy5yZXNldFN0YXRlQW5kVXJsKHQuY3VycmVudFJvdXRlclN0YXRlLHQuY3VycmVudFVybFRyZWUsdC5yYXdVcmwpKTtjb25zdCBzPW5ldyB1Zih0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSxuLm1lc3NhZ2UpO2UubmV4dChzKSxyP3NldFRpbWVvdXQoKCk9Pntjb25zdCBlPXRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5tZXJnZShuLnVybCx0aGlzLnJhd1VybFRyZWUpO3RoaXMuc2NoZWR1bGVOYXZpZ2F0aW9uKGUsImltcGVyYXRpdmUiLG51bGwse3NraXBMb2NhdGlvbkNoYW5nZTp0LmV4dHJhcy5za2lwTG9jYXRpb25DaGFuZ2UscmVwbGFjZVVybDoiZWFnZXIiPT09dGhpcy51cmxVcGRhdGVTdHJhdGVneX0se3Jlc29sdmU6dC5yZXNvbHZlLHJlamVjdDp0LnJlamVjdCxwcm9taXNlOnQucHJvbWlzZX0pfSwwKTp0LnJlc29sdmUoITEpfWVsc2V7dGhpcy5yZXNldFN0YXRlQW5kVXJsKHQuY3VycmVudFJvdXRlclN0YXRlLHQuY3VycmVudFVybFRyZWUsdC5yYXdVcmwpO2NvbnN0IHI9bmV3IGNmKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLG4pO2UubmV4dChyKTt0cnl7dC5yZXNvbHZlKHRoaXMuZXJyb3JIYW5kbGVyKG4pKX1jYXRjaChpKXt0LnJlamVjdChpKX19dmFyIHM7cmV0dXJuIHFkfSkpO3ZhciBzLGksbyxhfSkpfXJlc2V0Um9vdENvbXBvbmVudFR5cGUodCl7dGhpcy5yb290Q29tcG9uZW50VHlwZT10LHRoaXMucm91dGVyU3RhdGUucm9vdC5jb21wb25lbnQ9dGhpcy5yb290Q29tcG9uZW50VHlwZX1nZXRUcmFuc2l0aW9uKCl7Y29uc3QgdD10aGlzLnRyYW5zaXRpb25zLnZhbHVlO3JldHVybiB0LnVybEFmdGVyUmVkaXJlY3RzPXRoaXMuYnJvd3NlclVybFRyZWUsdH1zZXRUcmFuc2l0aW9uKHQpe3RoaXMudHJhbnNpdGlvbnMubmV4dChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5nZXRUcmFuc2l0aW9uKCkpLHQpKX1pbml0aWFsTmF2aWdhdGlvbigpe3RoaXMuc2V0VXBMb2NhdGlvbkNoYW5nZUxpc3RlbmVyKCksMD09PXRoaXMubmF2aWdhdGlvbklkJiZ0aGlzLm5hdmlnYXRlQnlVcmwodGhpcy5sb2NhdGlvbi5wYXRoKCEwKSx7cmVwbGFjZVVybDohMH0pfXNldFVwTG9jYXRpb25DaGFuZ2VMaXN0ZW5lcigpe3RoaXMubG9jYXRpb25TdWJzY3JpcHRpb258fCh0aGlzLmxvY2F0aW9uU3Vic2NyaXB0aW9uPXRoaXMubG9jYXRpb24uc3Vic2NyaWJlKHQ9Pntjb25zdCBlPXRoaXMuZXh0cmFjdExvY2F0aW9uQ2hhbmdlSW5mb0Zyb21FdmVudCh0KTt0aGlzLnNob3VsZFNjaGVkdWxlTmF2aWdhdGlvbih0aGlzLmxhc3RMb2NhdGlvbkNoYW5nZUluZm8sZSkmJnNldFRpbWVvdXQoKCk9Pntjb25zdHtzb3VyY2U6dCxzdGF0ZTpuLHVybFRyZWU6cn09ZSxzPXtyZXBsYWNlVXJsOiEwfTtpZihuKXtjb25zdCB0PU9iamVjdC5hc3NpZ24oe30sbik7ZGVsZXRlIHQubmF2aWdhdGlvbklkLGRlbGV0ZSB0Llx1MDI3NXJvdXRlclBhZ2VJZCwwIT09T2JqZWN0LmtleXModCkubGVuZ3RoJiYocy5zdGF0ZT10KX10aGlzLnNjaGVkdWxlTmF2aWdhdGlvbihyLHQsbixzKX0sMCksdGhpcy5sYXN0TG9jYXRpb25DaGFuZ2VJbmZvPWV9KSl9ZXh0cmFjdExvY2F0aW9uQ2hhbmdlSW5mb0Zyb21FdmVudCh0KXt2YXIgZTtyZXR1cm57c291cmNlOiJwb3BzdGF0ZSI9PT10LnR5cGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsdXJsVHJlZTp0aGlzLnBhcnNlVXJsKHQudXJsKSxzdGF0ZToobnVsbD09PShlPXQuc3RhdGUpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm5hdmlnYXRpb25JZCk/dC5zdGF0ZTpudWxsLHRyYW5zaXRpb25JZDp0aGlzLmdldFRyYW5zaXRpb24oKS5pZH19c2hvdWxkU2NoZWR1bGVOYXZpZ2F0aW9uKHQsZSl7aWYoIXQpcmV0dXJuITA7Y29uc3Qgbj1lLnVybFRyZWUudG9TdHJpbmcoKT09PXQudXJsVHJlZS50b1N0cmluZygpO3JldHVybiEoZS50cmFuc2l0aW9uSWQ9PT10LnRyYW5zaXRpb25JZCYmbiYmKCJoYXNoY2hhbmdlIj09PWUuc291cmNlJiYicG9wc3RhdGUiPT09dC5zb3VyY2V8fCJwb3BzdGF0ZSI9PT1lLnNvdXJjZSYmImhhc2hjaGFuZ2UiPT09dC5zb3VyY2UpKX1nZXQgdXJsKCl7cmV0dXJuIHRoaXMuc2VyaWFsaXplVXJsKHRoaXMuY3VycmVudFVybFRyZWUpfWdldEN1cnJlbnROYXZpZ2F0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudE5hdmlnYXRpb259dHJpZ2dlckV2ZW50KHQpe3RoaXMuZXZlbnRzLm5leHQodCl9cmVzZXRDb25maWcodCl7JGcodCksdGhpcy5jb25maWc9dC5tYXAoV2cpLHRoaXMubmF2aWdhdGVkPSExLHRoaXMubGFzdFN1Y2Nlc3NmdWxJZD0tMX1uZ09uRGVzdHJveSgpe3RoaXMuZGlzcG9zZSgpfWRpc3Bvc2UoKXt0aGlzLnRyYW5zaXRpb25zLmNvbXBsZXRlKCksdGhpcy5sb2NhdGlvblN1YnNjcmlwdGlvbiYmKHRoaXMubG9jYXRpb25TdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSx0aGlzLmxvY2F0aW9uU3Vic2NyaXB0aW9uPXZvaWQgMCksdGhpcy5kaXNwb3NlZD0hMH1jcmVhdGVVcmxUcmVlKHQsZT17fSl7Y29uc3R7cmVsYXRpdmVUbzpuLHF1ZXJ5UGFyYW1zOnIsZnJhZ21lbnQ6cyxxdWVyeVBhcmFtc0hhbmRsaW5nOmkscHJlc2VydmVGcmFnbWVudDpvfT1lLGE9bnx8dGhpcy5yb3V0ZXJTdGF0ZS5yb290LGw9bz90aGlzLmN1cnJlbnRVcmxUcmVlLmZyYWdtZW50OnM7bGV0IHU9bnVsbDtzd2l0Y2goaSl7Y2FzZSJtZXJnZSI6dT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtcykscik7YnJlYWs7Y2FzZSJwcmVzZXJ2ZSI6dT10aGlzLmN1cnJlbnRVcmxUcmVlLnF1ZXJ5UGFyYW1zO2JyZWFrO2RlZmF1bHQ6dT1yfHxudWxsfXJldHVybiBudWxsIT09dSYmKHU9dGhpcy5yZW1vdmVFbXB0eVByb3BzKHUpKSxmdW5jdGlvbih0LGUsbixyLHMpe2lmKDA9PT1uLmxlbmd0aClyZXR1cm4gU2coZS5yb290LGUucm9vdCxlLHIscyk7Y29uc3QgaT1mdW5jdGlvbih0KXtpZigic3RyaW5nIj09dHlwZW9mIHRbMF0mJjE9PT10Lmxlbmd0aCYmIi8iPT09dFswXSlyZXR1cm4gbmV3IEFnKCEwLDAsdCk7bGV0IGU9MCxuPSExO2NvbnN0IHI9dC5yZWR1Y2UoKHQscixzKT0+e2lmKCJvYmplY3QiPT10eXBlb2YgciYmbnVsbCE9cil7aWYoci5vdXRsZXRzKXtjb25zdCBlPXt9O3JldHVybiBJZihyLm91dGxldHMsKHQsbik9PntlW25dPSJzdHJpbmciPT10eXBlb2YgdD90LnNwbGl0KCIvIik6dH0pLFsuLi50LHtvdXRsZXRzOmV9XX1pZihyLnNlZ21lbnRQYXRoKXJldHVyblsuLi50LHIuc2VnbWVudFBhdGhdfXJldHVybiJzdHJpbmciIT10eXBlb2Ygcj9bLi4udCxyXTowPT09cz8oci5zcGxpdCgiLyIpLmZvckVhY2goKHIscyk9PnswPT1zJiYiLiI9PT1yfHwoMD09cyYmIiI9PT1yP249ITA6Ii4uIj09PXI/ZSsrOiIiIT1yJiZ0LnB1c2gocikpfSksdCk6Wy4uLnQscl19LFtdKTtyZXR1cm4gbmV3IEFnKG4sZSxyKX0obik7aWYoaS50b1Jvb3QoKSlyZXR1cm4gU2coZS5yb290LG5ldyBIZihbXSx7fSksZSxyLHMpO2NvbnN0IG89ZnVuY3Rpb24odCxlLG4pe2lmKHQuaXNBYnNvbHV0ZSlyZXR1cm4gbmV3IFRnKGUucm9vdCwhMCwwKTtpZigtMT09PW4uc25hcHNob3QuX2xhc3RQYXRoSW5kZXgpe2NvbnN0IHQ9bi5zbmFwc2hvdC5fdXJsU2VnbWVudDtyZXR1cm4gbmV3IFRnKHQsdD09PWUucm9vdCwwKX1jb25zdCByPURnKHQuY29tbWFuZHNbMF0pPzA6MTtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2xldCByPXQscz1lLGk9bjtmb3IoO2k+czspe2lmKGktPXMscj1yLnBhcmVudCwhcil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgbnVtYmVyIG9mICcuLi8nIik7cz1yLnNlZ21lbnRzLmxlbmd0aH1yZXR1cm4gbmV3IFRnKHIsITEscy1pKX0obi5zbmFwc2hvdC5fdXJsU2VnbWVudCxuLnNuYXBzaG90Ll9sYXN0UGF0aEluZGV4K3IsdC5udW1iZXJPZkRvdWJsZURvdHMpfShpLGUsdCksYT1vLnByb2Nlc3NDaGlsZHJlbj9GZyhvLnNlZ21lbnRHcm91cCxvLmluZGV4LGkuY29tbWFuZHMpOk9nKG8uc2VnbWVudEdyb3VwLG8uaW5kZXgsaS5jb21tYW5kcyk7cmV0dXJuIFNnKG8uc2VnbWVudEdyb3VwLGEsZSxyLHMpfShhLHRoaXMuY3VycmVudFVybFRyZWUsdCx1LG51bGwhPWw/bDpudWxsKX1uYXZpZ2F0ZUJ5VXJsKHQsZT17c2tpcExvY2F0aW9uQ2hhbmdlOiExfSl7Y29uc3Qgbj1WZyh0KT90OnRoaXMucGFyc2VVcmwodCkscj10aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kubWVyZ2Uobix0aGlzLnJhd1VybFRyZWUpO2xldCBzPW51bGw7cmV0dXJuImNvbXB1dGVkIj09PXRoaXMuY2FuY2VsZWROYXZpZ2F0aW9uUmVzb2x1dGlvbiYmKDA9PT10aGlzLmN1cnJlbnRQYWdlSWR8fGUuc2tpcExvY2F0aW9uQ2hhbmdlfHxlLnJlcGxhY2VVcmwpJiYocz10aGlzLmxvY2F0aW9uLmdldFN0YXRlKCkpLHRoaXMuc2NoZWR1bGVOYXZpZ2F0aW9uKHIsImltcGVyYXRpdmUiLHMsZSl9bmF2aWdhdGUodCxlPXtza2lwTG9jYXRpb25DaGFuZ2U6ITF9KXtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IG49dFtlXTtpZihudWxsPT1uKXRocm93IG5ldyBFcnJvcihgVGhlIHJlcXVlc3RlZCBwYXRoIGNvbnRhaW5zICR7bn0gc2VnbWVudCBhdCBpbmRleCAke2V9YCl9fSh0KSx0aGlzLm5hdmlnYXRlQnlVcmwodGhpcy5jcmVhdGVVcmxUcmVlKHQsZSksZSl9c2VyaWFsaXplVXJsKHQpe3JldHVybiB0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKHQpfXBhcnNlVXJsKHQpe2xldCBlO3RyeXtlPXRoaXMudXJsU2VyaWFsaXplci5wYXJzZSh0KX1jYXRjaChuKXtlPXRoaXMubWFsZm9ybWVkVXJpRXJyb3JIYW5kbGVyKG4sdGhpcy51cmxTZXJpYWxpemVyLHQpfXJldHVybiBlfWlzQWN0aXZlKHQsZSl7bGV0IG47aWYobj0hMD09PWU/T2JqZWN0LmFzc2lnbih7fSxSbSk6ITE9PT1lP09iamVjdC5hc3NpZ24oe30sUG0pOmUsVmcodCkpcmV0dXJuIE5mKHRoaXMuY3VycmVudFVybFRyZWUsdCxuKTtjb25zdCByPXRoaXMucGFyc2VVcmwodCk7cmV0dXJuIE5mKHRoaXMuY3VycmVudFVybFRyZWUscixuKX1yZW1vdmVFbXB0eVByb3BzKHQpe3JldHVybiBPYmplY3Qua2V5cyh0KS5yZWR1Y2UoKGUsbik9Pntjb25zdCByPXRbbl07cmV0dXJuIG51bGwhPXImJihlW25dPXIpLGV9LHt9KX1wcm9jZXNzTmF2aWdhdGlvbnMoKXt0aGlzLm5hdmlnYXRpb25zLnN1YnNjcmliZSh0PT57dGhpcy5uYXZpZ2F0ZWQ9ITAsdGhpcy5sYXN0U3VjY2Vzc2Z1bElkPXQuaWQsdGhpcy5jdXJyZW50UGFnZUlkPXQudGFyZ2V0UGFnZUlkLHRoaXMuZXZlbnRzLm5leHQobmV3IGxmKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLHRoaXMuc2VyaWFsaXplVXJsKHRoaXMuY3VycmVudFVybFRyZWUpKSksdGhpcy5sYXN0U3VjY2Vzc2Z1bE5hdmlnYXRpb249dGhpcy5jdXJyZW50TmF2aWdhdGlvbix0LnJlc29sdmUoITApfSx0PT57dGhpcy5jb25zb2xlLndhcm4oIlVuaGFuZGxlZCBOYXZpZ2F0aW9uIEVycm9yOiAiKX0pfXNjaGVkdWxlTmF2aWdhdGlvbih0LGUsbixyLHMpe2lmKHRoaXMuZGlzcG9zZWQpcmV0dXJuIFByb21pc2UucmVzb2x2ZSghMSk7Y29uc3QgaT10aGlzLmdldFRyYW5zaXRpb24oKSxvPSJpbXBlcmF0aXZlIiE9PWUmJiJpbXBlcmF0aXZlIj09PShudWxsPT1pP3ZvaWQgMDppLnNvdXJjZSksYT0odGhpcy5sYXN0U3VjY2Vzc2Z1bElkPT09aS5pZHx8dGhpcy5jdXJyZW50TmF2aWdhdGlvbj9pLnJhd1VybDppLnVybEFmdGVyUmVkaXJlY3RzKS50b1N0cmluZygpPT09dC50b1N0cmluZygpO2lmKG8mJmEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSghMCk7bGV0IGwsdSxjO3M/KGw9cy5yZXNvbHZlLHU9cy5yZWplY3QsYz1zLnByb21pc2UpOmM9bmV3IFByb21pc2UoKHQsZSk9PntsPXQsdT1lfSk7Y29uc3QgaD0rK3RoaXMubmF2aWdhdGlvbklkO2xldCBkO3JldHVybiBkPSJjb21wdXRlZCI9PT10aGlzLmNhbmNlbGVkTmF2aWdhdGlvblJlc29sdXRpb24/biYmbi5cdTAyNzVyb3V0ZXJQYWdlSWQ/bi5cdTAyNzVyb3V0ZXJQYWdlSWQ6dGhpcy5jdXJyZW50UGFnZUlkKzE6MCx0aGlzLnNldFRyYW5zaXRpb24oe2lkOmgsdGFyZ2V0UGFnZUlkOmQsc291cmNlOmUscmVzdG9yZWRTdGF0ZTpuLGN1cnJlbnRVcmxUcmVlOnRoaXMuY3VycmVudFVybFRyZWUsY3VycmVudFJhd1VybDp0aGlzLnJhd1VybFRyZWUscmF3VXJsOnQsZXh0cmFzOnIscmVzb2x2ZTpsLHJlamVjdDp1LHByb21pc2U6YyxjdXJyZW50U25hcHNob3Q6dGhpcy5yb3V0ZXJTdGF0ZS5zbmFwc2hvdCxjdXJyZW50Um91dGVyU3RhdGU6dGhpcy5yb3V0ZXJTdGF0ZX0pLGMuY2F0Y2godD0+UHJvbWlzZS5yZWplY3QodCkpfXNldEJyb3dzZXJVcmwodCxlKXtjb25zdCBuPXRoaXMudXJsU2VyaWFsaXplci5zZXJpYWxpemUodCkscj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5leHRyYXMuc3RhdGUpLHRoaXMuZ2VuZXJhdGVOZ1JvdXRlclN0YXRlKGUuaWQsZS50YXJnZXRQYWdlSWQpKTt0aGlzLmxvY2F0aW9uLmlzQ3VycmVudFBhdGhFcXVhbFRvKG4pfHxlLmV4dHJhcy5yZXBsYWNlVXJsP3RoaXMubG9jYXRpb24ucmVwbGFjZVN0YXRlKG4sIiIscik6dGhpcy5sb2NhdGlvbi5nbyhuLCIiLHIpfXJlc2V0U3RhdGVBbmRVcmwodCxlLG4pe3RoaXMucm91dGVyU3RhdGU9dCx0aGlzLmN1cnJlbnRVcmxUcmVlPWUsdGhpcy5yYXdVcmxUcmVlPXRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5tZXJnZSh0aGlzLmN1cnJlbnRVcmxUcmVlLG4pLHRoaXMucmVzZXRVcmxUb0N1cnJlbnRVcmxUcmVlKCl9cmVzZXRVcmxUb0N1cnJlbnRVcmxUcmVlKCl7dGhpcy5sb2NhdGlvbi5yZXBsYWNlU3RhdGUodGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh0aGlzLnJhd1VybFRyZWUpLCIiLHRoaXMuZ2VuZXJhdGVOZ1JvdXRlclN0YXRlKHRoaXMubGFzdFN1Y2Nlc3NmdWxJZCx0aGlzLmN1cnJlbnRQYWdlSWQpKX1jYW5jZWxOYXZpZ2F0aW9uVHJhbnNpdGlvbih0LGUpeyJjb21wdXRlZCI9PT10aGlzLmNhbmNlbGVkTmF2aWdhdGlvblJlc29sdXRpb24/InBvcHN0YXRlIiE9PXQuc291cmNlJiYiZWFnZXIiIT09dGhpcy51cmxVcGRhdGVTdHJhdGVneXx8dGhpcy5sb2NhdGlvbi5oaXN0b3J5R28odGhpcy5jdXJyZW50UGFnZUlkLXQudGFyZ2V0UGFnZUlkKTp0aGlzLnJlc2V0VXJsVG9DdXJyZW50VXJsVHJlZSgpO2NvbnN0IG49bmV3IHVmKHQuaWQsdGhpcy5zZXJpYWxpemVVcmwodC5leHRyYWN0ZWRVcmwpLGUpO3RoaXMudHJpZ2dlckV2ZW50KG4pLHQucmVzb2x2ZSghMSl9Z2VuZXJhdGVOZ1JvdXRlclN0YXRlKHQsZSl7cmV0dXJuImNvbXB1dGVkIj09PXRoaXMuY2FuY2VsZWROYXZpZ2F0aW9uUmVzb2x1dGlvbj97bmF2aWdhdGlvbklkOnQsIlx1MDI3NXJvdXRlclBhZ2VJZCI6ZX06e25hdmlnYXRpb25JZDp0fX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIocW4pLGFyKHpmKSxhcihUbSksYXIobGMpLGFyKGVvKSxhcihqdSksYXIoZHUpLGFyKHZvaWQgMCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLE5tPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4scixzKXt0aGlzLnBhcmVudENvbnRleHRzPXQsdGhpcy5sb2NhdGlvbj1lLHRoaXMucmVzb2x2ZXI9bix0aGlzLmNoYW5nZURldGVjdG9yPXMsdGhpcy5hY3RpdmF0ZWQ9bnVsbCx0aGlzLl9hY3RpdmF0ZWRSb3V0ZT1udWxsLHRoaXMuYWN0aXZhdGVFdmVudHM9bmV3IFRsLHRoaXMuZGVhY3RpdmF0ZUV2ZW50cz1uZXcgVGwsdGhpcy5uYW1lPXJ8fERmLHQub25DaGlsZE91dGxldENyZWF0ZWQodGhpcy5uYW1lLHRoaXMpfW5nT25EZXN0cm95KCl7dGhpcy5wYXJlbnRDb250ZXh0cy5vbkNoaWxkT3V0bGV0RGVzdHJveWVkKHRoaXMubmFtZSl9bmdPbkluaXQoKXtpZighdGhpcy5hY3RpdmF0ZWQpe2NvbnN0IHQ9dGhpcy5wYXJlbnRDb250ZXh0cy5nZXRDb250ZXh0KHRoaXMubmFtZSk7dCYmdC5yb3V0ZSYmKHQuYXR0YWNoUmVmP3RoaXMuYXR0YWNoKHQuYXR0YWNoUmVmLHQucm91dGUpOnRoaXMuYWN0aXZhdGVXaXRoKHQucm91dGUsdC5yZXNvbHZlcnx8bnVsbCkpfX1nZXQgaXNBY3RpdmF0ZWQoKXtyZXR1cm4hIXRoaXMuYWN0aXZhdGVkfWdldCBjb21wb25lbnQoKXtpZighdGhpcy5hY3RpdmF0ZWQpdGhyb3cgbmV3IEVycm9yKCJPdXRsZXQgaXMgbm90IGFjdGl2YXRlZCIpO3JldHVybiB0aGlzLmFjdGl2YXRlZC5pbnN0YW5jZX1nZXQgYWN0aXZhdGVkUm91dGUoKXtpZighdGhpcy5hY3RpdmF0ZWQpdGhyb3cgbmV3IEVycm9yKCJPdXRsZXQgaXMgbm90IGFjdGl2YXRlZCIpO3JldHVybiB0aGlzLl9hY3RpdmF0ZWRSb3V0ZX1nZXQgYWN0aXZhdGVkUm91dGVEYXRhKCl7cmV0dXJuIHRoaXMuX2FjdGl2YXRlZFJvdXRlP3RoaXMuX2FjdGl2YXRlZFJvdXRlLnNuYXBzaG90LmRhdGE6e319ZGV0YWNoKCl7aWYoIXRoaXMuYWN0aXZhdGVkKXRocm93IG5ldyBFcnJvcigiT3V0bGV0IGlzIG5vdCBhY3RpdmF0ZWQiKTt0aGlzLmxvY2F0aW9uLmRldGFjaCgpO2NvbnN0IHQ9dGhpcy5hY3RpdmF0ZWQ7cmV0dXJuIHRoaXMuYWN0aXZhdGVkPW51bGwsdGhpcy5fYWN0aXZhdGVkUm91dGU9bnVsbCx0fWF0dGFjaCh0LGUpe3RoaXMuYWN0aXZhdGVkPXQsdGhpcy5fYWN0aXZhdGVkUm91dGU9ZSx0aGlzLmxvY2F0aW9uLmluc2VydCh0Lmhvc3RWaWV3KX1kZWFjdGl2YXRlKCl7aWYodGhpcy5hY3RpdmF0ZWQpe2NvbnN0IHQ9dGhpcy5jb21wb25lbnQ7dGhpcy5hY3RpdmF0ZWQuZGVzdHJveSgpLHRoaXMuYWN0aXZhdGVkPW51bGwsdGhpcy5fYWN0aXZhdGVkUm91dGU9bnVsbCx0aGlzLmRlYWN0aXZhdGVFdmVudHMuZW1pdCh0KX19YWN0aXZhdGVXaXRoKHQsZSl7aWYodGhpcy5pc0FjdGl2YXRlZCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBhY3RpdmF0ZSBhbiBhbHJlYWR5IGFjdGl2YXRlZCBvdXRsZXQiKTt0aGlzLl9hY3RpdmF0ZWRSb3V0ZT10O2NvbnN0IG49KGU9ZXx8dGhpcy5yZXNvbHZlcikucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodC5fZnV0dXJlU25hcHNob3Qucm91dGVDb25maWcuY29tcG9uZW50KSxyPXRoaXMucGFyZW50Q29udGV4dHMuZ2V0T3JDcmVhdGVDb250ZXh0KHRoaXMubmFtZSkuY2hpbGRyZW4scz1uZXcgam0odCxyLHRoaXMubG9jYXRpb24uaW5qZWN0b3IpO3RoaXMuYWN0aXZhdGVkPXRoaXMubG9jYXRpb24uY3JlYXRlQ29tcG9uZW50KG4sdGhpcy5sb2NhdGlvbi5sZW5ndGgscyksdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKSx0aGlzLmFjdGl2YXRlRXZlbnRzLmVtaXQodGhpcy5hY3RpdmF0ZWQuaW5zdGFuY2UpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh3byhUbSksd28oaGwpLHdvKERhKSwoIm5hbWUiLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmF0dHJzO2lmKG4pe2NvbnN0IHQ9bi5sZW5ndGg7bGV0IHI9MDtmb3IoO3I8dDspe2NvbnN0IHM9bltyXTtpZihwbihzKSlicmVhaztpZigwPT09cylyKz0yO2Vsc2UgaWYoIm51bWJlciI9PXR5cGVvZiBzKWZvcihyKys7cjx0JiYic3RyaW5nIj09dHlwZW9mIG5bcl07KXIrKztlbHNle2lmKHM9PT1lKXJldHVybiBuW3IrMV07cis9Mn19fXJldHVybiBudWxsfShJZSgpLCJuYW1lIikpLHdvKEphKSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsc2VsZWN0b3JzOltbInJvdXRlci1vdXRsZXQiXV0sb3V0cHV0czp7YWN0aXZhdGVFdmVudHM6ImFjdGl2YXRlIixkZWFjdGl2YXRlRXZlbnRzOiJkZWFjdGl2YXRlIn0sZXhwb3J0QXM6WyJvdXRsZXQiXX0pLHR9KSgpO2NsYXNzIGpte2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLnJvdXRlPXQsdGhpcy5jaGlsZENvbnRleHRzPWUsdGhpcy5wYXJlbnQ9bn1nZXQodCxlKXtyZXR1cm4gdD09PXBnP3RoaXMucm91dGU6dD09PVRtP3RoaXMuY2hpbGRDb250ZXh0czp0aGlzLnBhcmVudC5nZXQodCxlKX19Y2xhc3MgTW17fWNsYXNzIFZte3ByZWxvYWQodCxlKXtyZXR1cm4gZWQobnVsbCl9fWxldCBCbT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuLHIscyl7dGhpcy5yb3V0ZXI9dCx0aGlzLmluamVjdG9yPXIsdGhpcy5wcmVsb2FkaW5nU3RyYXRlZ3k9cyx0aGlzLmxvYWRlcj1uZXcgeG0oZSxuLGU9PnQudHJpZ2dlckV2ZW50KG5ldyBtZihlKSksZT0+dC50cmlnZ2VyRXZlbnQobmV3IHlmKGUpKSl9c2V0VXBQcmVsb2FkaW5nKCl7dGhpcy5zdWJzY3JpcHRpb249dGhpcy5yb3V0ZXIuZXZlbnRzLnBpcGUocmQodD0+dCBpbnN0YW5jZW9mIGxmKSxuZCgoKT0+dGhpcy5wcmVsb2FkKCkpKS5zdWJzY3JpYmUoKCk9Pnt9KX1wcmVsb2FkKCl7Y29uc3QgdD10aGlzLmluamVjdG9yLmdldChsbCk7cmV0dXJuIHRoaXMucHJvY2Vzc1JvdXRlcyh0LHRoaXMucm91dGVyLmNvbmZpZyl9bmdPbkRlc3Ryb3koKXt0aGlzLnN1YnNjcmlwdGlvbiYmdGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX1wcm9jZXNzUm91dGVzKHQsZSl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgciBvZiBlKWlmKHIubG9hZENoaWxkcmVuJiYhci5jYW5Mb2FkJiZyLl9sb2FkZWRDb25maWcpe2NvbnN0IHQ9ci5fbG9hZGVkQ29uZmlnO24ucHVzaCh0aGlzLnByb2Nlc3NSb3V0ZXModC5tb2R1bGUsdC5yb3V0ZXMpKX1lbHNlIHIubG9hZENoaWxkcmVuJiYhci5jYW5Mb2FkP24ucHVzaCh0aGlzLnByZWxvYWRDb25maWcodCxyKSk6ci5jaGlsZHJlbiYmbi5wdXNoKHRoaXMucHJvY2Vzc1JvdXRlcyh0LHIuY2hpbGRyZW4pKTtyZXR1cm4gTihuKS5waXBlKCQoKSx4KHQ9Pnt9KSl9cHJlbG9hZENvbmZpZyh0LGUpe3JldHVybiB0aGlzLnByZWxvYWRpbmdTdHJhdGVneS5wcmVsb2FkKGUsKCk9PihlLl9sb2FkZWRDb25maWc/ZWQoZS5fbG9hZGVkQ29uZmlnKTp0aGlzLmxvYWRlci5sb2FkKHQuaW5qZWN0b3IsZSkpLnBpcGUoQih0PT4oZS5fbG9hZGVkQ29uZmlnPXQsdGhpcy5wcm9jZXNzUm91dGVzKHQubW9kdWxlLHQucm91dGVzKSkpKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKExtKSxhcihqdSksYXIoZHUpLGFyKGVvKSxhcihNbSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLEhtPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG49e30pe3RoaXMucm91dGVyPXQsdGhpcy52aWV3cG9ydFNjcm9sbGVyPWUsdGhpcy5vcHRpb25zPW4sdGhpcy5sYXN0SWQ9MCx0aGlzLmxhc3RTb3VyY2U9ImltcGVyYXRpdmUiLHRoaXMucmVzdG9yZWRJZD0wLHRoaXMuc3RvcmU9e30sbi5zY3JvbGxQb3NpdGlvblJlc3RvcmF0aW9uPW4uc2Nyb2xsUG9zaXRpb25SZXN0b3JhdGlvbnx8ImRpc2FibGVkIixuLmFuY2hvclNjcm9sbGluZz1uLmFuY2hvclNjcm9sbGluZ3x8ImRpc2FibGVkIn1pbml0KCl7ImRpc2FibGVkIiE9PXRoaXMub3B0aW9ucy5zY3JvbGxQb3NpdGlvblJlc3RvcmF0aW9uJiZ0aGlzLnZpZXdwb3J0U2Nyb2xsZXIuc2V0SGlzdG9yeVNjcm9sbFJlc3RvcmF0aW9uKCJtYW51YWwiKSx0aGlzLnJvdXRlckV2ZW50c1N1YnNjcmlwdGlvbj10aGlzLmNyZWF0ZVNjcm9sbEV2ZW50cygpLHRoaXMuc2Nyb2xsRXZlbnRzU3Vic2NyaXB0aW9uPXRoaXMuY29uc3VtZVNjcm9sbEV2ZW50cygpfWNyZWF0ZVNjcm9sbEV2ZW50cygpe3JldHVybiB0aGlzLnJvdXRlci5ldmVudHMuc3Vic2NyaWJlKHQ9Pnt0IGluc3RhbmNlb2YgYWY/KHRoaXMuc3RvcmVbdGhpcy5sYXN0SWRdPXRoaXMudmlld3BvcnRTY3JvbGxlci5nZXRTY3JvbGxQb3NpdGlvbigpLHRoaXMubGFzdFNvdXJjZT10Lm5hdmlnYXRpb25UcmlnZ2VyLHRoaXMucmVzdG9yZWRJZD10LnJlc3RvcmVkU3RhdGU/dC5yZXN0b3JlZFN0YXRlLm5hdmlnYXRpb25JZDowKTp0IGluc3RhbmNlb2YgbGYmJih0aGlzLmxhc3RJZD10LmlkLHRoaXMuc2NoZWR1bGVTY3JvbGxFdmVudCh0LHRoaXMucm91dGVyLnBhcnNlVXJsKHQudXJsQWZ0ZXJSZWRpcmVjdHMpLmZyYWdtZW50KSl9KX1jb25zdW1lU2Nyb2xsRXZlbnRzKCl7cmV0dXJuIHRoaXMucm91dGVyLmV2ZW50cy5zdWJzY3JpYmUodD0+e3QgaW5zdGFuY2VvZiBfZiYmKHQucG9zaXRpb24/InRvcCI9PT10aGlzLm9wdGlvbnMuc2Nyb2xsUG9zaXRpb25SZXN0b3JhdGlvbj90aGlzLnZpZXdwb3J0U2Nyb2xsZXIuc2Nyb2xsVG9Qb3NpdGlvbihbMCwwXSk6ImVuYWJsZWQiPT09dGhpcy5vcHRpb25zLnNjcm9sbFBvc2l0aW9uUmVzdG9yYXRpb24mJnRoaXMudmlld3BvcnRTY3JvbGxlci5zY3JvbGxUb1Bvc2l0aW9uKHQucG9zaXRpb24pOnQuYW5jaG9yJiYiZW5hYmxlZCI9PT10aGlzLm9wdGlvbnMuYW5jaG9yU2Nyb2xsaW5nP3RoaXMudmlld3BvcnRTY3JvbGxlci5zY3JvbGxUb0FuY2hvcih0LmFuY2hvcik6ImRpc2FibGVkIiE9PXRoaXMub3B0aW9ucy5zY3JvbGxQb3NpdGlvblJlc3RvcmF0aW9uJiZ0aGlzLnZpZXdwb3J0U2Nyb2xsZXIuc2Nyb2xsVG9Qb3NpdGlvbihbMCwwXSkpfSl9c2NoZWR1bGVTY3JvbGxFdmVudCh0LGUpe3RoaXMucm91dGVyLnRyaWdnZXJFdmVudChuZXcgX2YodCwicG9wc3RhdGUiPT09dGhpcy5sYXN0U291cmNlP3RoaXMuc3RvcmVbdGhpcy5yZXN0b3JlZElkXTpudWxsLGUpKX1uZ09uRGVzdHJveSgpe3RoaXMucm91dGVyRXZlbnRzU3Vic2NyaXB0aW9uJiZ0aGlzLnJvdXRlckV2ZW50c1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpLHRoaXMuc2Nyb2xsRXZlbnRzU3Vic2NyaXB0aW9uJiZ0aGlzLnNjcm9sbEV2ZW50c1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihMbSksYXIodmgpLGFyKHZvaWQgMCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IFVtPW5ldyAkbigiUk9VVEVSX0NPTkZJR1VSQVRJT04iKSwkbT1uZXcgJG4oIlJPVVRFUl9GT1JST09UX0dVQVJEIiksem09W2xjLHtwcm92aWRlOnpmLHVzZUNsYXNzOnFmfSx7cHJvdmlkZTpMbSx1c2VGYWN0b3J5OmZ1bmN0aW9uKHQsZSxuLHIscyxpLG8sYT17fSxsLHUpe2NvbnN0IGM9bmV3IExtKG51bGwsdCxlLG4scixzLGksRmYobykpO3JldHVybiBsJiYoYy51cmxIYW5kbGluZ1N0cmF0ZWd5PWwpLHUmJihjLnJvdXRlUmV1c2VTdHJhdGVneT11KSxmdW5jdGlvbih0LGUpe3QuZXJyb3JIYW5kbGVyJiYoZS5lcnJvckhhbmRsZXI9dC5lcnJvckhhbmRsZXIpLHQubWFsZm9ybWVkVXJpRXJyb3JIYW5kbGVyJiYoZS5tYWxmb3JtZWRVcmlFcnJvckhhbmRsZXI9dC5tYWxmb3JtZWRVcmlFcnJvckhhbmRsZXIpLHQub25TYW1lVXJsTmF2aWdhdGlvbiYmKGUub25TYW1lVXJsTmF2aWdhdGlvbj10Lm9uU2FtZVVybE5hdmlnYXRpb24pLHQucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneSYmKGUucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneT10LnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3kpLHQucmVsYXRpdmVMaW5rUmVzb2x1dGlvbiYmKGUucmVsYXRpdmVMaW5rUmVzb2x1dGlvbj10LnJlbGF0aXZlTGlua1Jlc29sdXRpb24pLHQudXJsVXBkYXRlU3RyYXRlZ3kmJihlLnVybFVwZGF0ZVN0cmF0ZWd5PXQudXJsVXBkYXRlU3RyYXRlZ3kpfShhLGMpLGEuZW5hYmxlVHJhY2luZyYmYy5ldmVudHMuc3Vic2NyaWJlKHQ9Pnt2YXIgZSxuO251bGw9PT0oZT1jb25zb2xlLmdyb3VwKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKGNvbnNvbGUsYFJvdXRlciBFdmVudDogJHt0LmNvbnN0cnVjdG9yLm5hbWV9YCksY29uc29sZS5sb2codC50b1N0cmluZygpKSxjb25zb2xlLmxvZyh0KSxudWxsPT09KG49Y29uc29sZS5ncm91cEVuZCl8fHZvaWQgMD09PW58fG4uY2FsbChjb25zb2xlKX0pLGN9LGRlcHM6W3pmLFRtLGxjLGVvLGp1LGR1LFNtLFVtLFtjbGFzc3t9LG5ldyBocl0sW2NsYXNze30sbmV3IGhyXV19LFRtLHtwcm92aWRlOnBnLHVzZUZhY3Rvcnk6ZnVuY3Rpb24odCl7cmV0dXJuIHQucm91dGVyU3RhdGUucm9vdH0sZGVwczpbTG1dfSx7cHJvdmlkZTpqdSx1c2VDbGFzczpCdX0sQm0sVm0sY2xhc3N7cHJlbG9hZCh0LGUpe3JldHVybiBlKCkucGlwZShWcCgoKT0+ZWQobnVsbCkpKX19LHtwcm92aWRlOlVtLHVzZVZhbHVlOntlbmFibGVUcmFjaW5nOiExfX1dO2Z1bmN0aW9uIHFtKCl7cmV0dXJuIG5ldyBGdSgiUm91dGVyIixMbSl9bGV0IFdtPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt9c3RhdGljIGZvclJvb3QoZSxuKXtyZXR1cm57bmdNb2R1bGU6dCxwcm92aWRlcnM6W3ptLEttKGUpLHtwcm92aWRlOiRtLHVzZUZhY3Rvcnk6WW0sZGVwczpbW0xtLG5ldyBocixuZXcgZHJdXX0se3Byb3ZpZGU6VW0sdXNlVmFsdWU6bnx8e319LHtwcm92aWRlOnJjLHVzZUZhY3Rvcnk6Wm0sZGVwczpbWnUsW25ldyBjcihpYyksbmV3IGhyXSxVbV19LHtwcm92aWRlOkhtLHVzZUZhY3Rvcnk6R20sZGVwczpbTG0sdmgsVW1dfSx7cHJvdmlkZTpNbSx1c2VFeGlzdGluZzpuJiZuLnByZWxvYWRpbmdTdHJhdGVneT9uLnByZWxvYWRpbmdTdHJhdGVneTpWbX0se3Byb3ZpZGU6RnUsbXVsdGk6ITAsdXNlRmFjdG9yeTpxbX0sW1FtLHtwcm92aWRlOlpsLG11bHRpOiEwLHVzZUZhY3Rvcnk6WG0sZGVwczpbUW1dfSx7cHJvdmlkZTp0eSx1c2VGYWN0b3J5OkptLGRlcHM6W1FtXX0se3Byb3ZpZGU6ZXUsbXVsdGk6ITAsdXNlRXhpc3Rpbmc6dHl9XV19fXN0YXRpYyBmb3JDaGlsZChlKXtyZXR1cm57bmdNb2R1bGU6dCxwcm92aWRlcnM6W0ttKGUpXX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKCRtLDgpLGFyKExtLDgpKX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHt9KSx0fSkoKTtmdW5jdGlvbiBHbSh0LGUsbil7cmV0dXJuIG4uc2Nyb2xsT2Zmc2V0JiZlLnNldE9mZnNldChuLnNjcm9sbE9mZnNldCksbmV3IEhtKHQsZSxuKX1mdW5jdGlvbiBabSh0LGUsbj17fSl7cmV0dXJuIG4udXNlSGFzaD9uZXcgYWModCxlKTpuZXcgb2ModCxlKX1mdW5jdGlvbiBZbSh0KXtyZXR1cm4iZ3VhcmRlZCJ9ZnVuY3Rpb24gS20odCl7cmV0dXJuW3twcm92aWRlOnpuLG11bHRpOiEwLHVzZVZhbHVlOnR9LHtwcm92aWRlOlNtLG11bHRpOiEwLHVzZVZhbHVlOnR9XX1sZXQgUW09KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmluamVjdG9yPXQsdGhpcy5pbml0TmF2aWdhdGlvbj0hMSx0aGlzLnJlc3VsdE9mUHJlYWN0aXZhdGlvbkRvbmU9bmV3IER9YXBwSW5pdGlhbGl6ZXIoKXtyZXR1cm4gdGhpcy5pbmplY3Rvci5nZXQoS3UsUHJvbWlzZS5yZXNvbHZlKG51bGwpKS50aGVuKCgpPT57bGV0IHQ9bnVsbDtjb25zdCBlPW5ldyBQcm9taXNlKGU9PnQ9ZSksbj10aGlzLmluamVjdG9yLmdldChMbSkscj10aGlzLmluamVjdG9yLmdldChVbSk7cmV0dXJuImRpc2FibGVkIj09PXIuaW5pdGlhbE5hdmlnYXRpb24/KG4uc2V0VXBMb2NhdGlvbkNoYW5nZUxpc3RlbmVyKCksdCghMCkpOiJlbmFibGVkIj09PXIuaW5pdGlhbE5hdmlnYXRpb258fCJlbmFibGVkQmxvY2tpbmciPT09ci5pbml0aWFsTmF2aWdhdGlvbj8obi5ob29rcy5hZnRlclByZWFjdGl2YXRpb249KCk9PnRoaXMuaW5pdE5hdmlnYXRpb24/ZWQobnVsbCk6KHRoaXMuaW5pdE5hdmlnYXRpb249ITAsdCghMCksdGhpcy5yZXN1bHRPZlByZWFjdGl2YXRpb25Eb25lKSxuLmluaXRpYWxOYXZpZ2F0aW9uKCkpOnQoITApLGV9KX1ib290c3RyYXBMaXN0ZW5lcih0KXtjb25zdCBlPXRoaXMuaW5qZWN0b3IuZ2V0KFVtKSxuPXRoaXMuaW5qZWN0b3IuZ2V0KEJtKSxyPXRoaXMuaW5qZWN0b3IuZ2V0KEhtKSxzPXRoaXMuaW5qZWN0b3IuZ2V0KExtKSxpPXRoaXMuaW5qZWN0b3IuZ2V0KEx1KTt0PT09aS5jb21wb25lbnRzWzBdJiYoImVuYWJsZWROb25CbG9ja2luZyIhPT1lLmluaXRpYWxOYXZpZ2F0aW9uJiZ2b2lkIDAhPT1lLmluaXRpYWxOYXZpZ2F0aW9ufHxzLmluaXRpYWxOYXZpZ2F0aW9uKCksbi5zZXRVcFByZWxvYWRpbmcoKSxyLmluaXQoKSxzLnJlc2V0Um9vdENvbXBvbmVudFR5cGUoaS5jb21wb25lbnRUeXBlc1swXSksdGhpcy5yZXN1bHRPZlByZWFjdGl2YXRpb25Eb25lLm5leHQobnVsbCksdGhpcy5yZXN1bHRPZlByZWFjdGl2YXRpb25Eb25lLmNvbXBsZXRlKCkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihlbykpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2Z1bmN0aW9uIFhtKHQpe3JldHVybiB0LmFwcEluaXRpYWxpemVyLmJpbmQodCl9ZnVuY3Rpb24gSm0odCl7cmV0dXJuIHQuYm9vdHN0cmFwTGlzdGVuZXIuYmluZCh0KX1jb25zdCB0eT1uZXcgJG4oIlJvdXRlciBJbml0aWFsaXplciIpO2Z1bmN0aW9uIGV5KHQsZSxuLHIpe3ZhciBzLGk9YXJndW1lbnRzLmxlbmd0aCxvPWk8Mz9lOm51bGw9PT1yP3I9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnI7aWYoIm9iamVjdCI9PXR5cGVvZiBSZWZsZWN0JiYiZnVuY3Rpb24iPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlvPVJlZmxlY3QuZGVjb3JhdGUodCxlLG4scik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkocz10W2FdKSYmKG89KGk8Mz9zKG8pOmk+Mz9zKGUsbixvKTpzKGUsbikpfHxvKTtyZXR1cm4gaT4zJiZvJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLG8pLG99Y2xhc3Mgbnl7Y29uc3RydWN0b3IodCxlKXt0aGlzLmR1ZVRpbWU9dCx0aGlzLnNjaGVkdWxlcj1lfWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IHJ5KHQsdGhpcy5kdWVUaW1lLHRoaXMuc2NoZWR1bGVyKSl9fWNsYXNzIHJ5IGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCksdGhpcy5kdWVUaW1lPWUsdGhpcy5zY2hlZHVsZXI9bix0aGlzLmRlYm91bmNlZFN1YnNjcmlwdGlvbj1udWxsLHRoaXMubGFzdFZhbHVlPW51bGwsdGhpcy5oYXNWYWx1ZT0hMX1fbmV4dCh0KXt0aGlzLmNsZWFyRGVib3VuY2UoKSx0aGlzLmxhc3RWYWx1ZT10LHRoaXMuaGFzVmFsdWU9ITAsdGhpcy5hZGQodGhpcy5kZWJvdW5jZWRTdWJzY3JpcHRpb249dGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoc3ksdGhpcy5kdWVUaW1lLHRoaXMpKX1fY29tcGxldGUoKXt0aGlzLmRlYm91bmNlZE5leHQoKSx0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9ZGVib3VuY2VkTmV4dCgpe2lmKHRoaXMuY2xlYXJEZWJvdW5jZSgpLHRoaXMuaGFzVmFsdWUpe2NvbnN0e2xhc3RWYWx1ZTp0fT10aGlzO3RoaXMubGFzdFZhbHVlPW51bGwsdGhpcy5oYXNWYWx1ZT0hMSx0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9fWNsZWFyRGVib3VuY2UoKXtjb25zdCB0PXRoaXMuZGVib3VuY2VkU3Vic2NyaXB0aW9uO251bGwhPT10JiYodGhpcy5yZW1vdmUodCksdC51bnN1YnNjcmliZSgpLHRoaXMuZGVib3VuY2VkU3Vic2NyaXB0aW9uPW51bGwpfX1mdW5jdGlvbiBzeSh0KXt0LmRlYm91bmNlZE5leHQoKX1jbGFzcyBpeXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuY29tcGFyZT10LHRoaXMua2V5U2VsZWN0b3I9ZX1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyBveSh0LHRoaXMuY29tcGFyZSx0aGlzLmtleVNlbGVjdG9yKSl9fWNsYXNzIG95IGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCksdGhpcy5rZXlTZWxlY3Rvcj1uLHRoaXMuaGFzS2V5PSExLCJmdW5jdGlvbiI9PXR5cGVvZiBlJiYodGhpcy5jb21wYXJlPWUpfWNvbXBhcmUodCxlKXtyZXR1cm4gdD09PWV9X25leHQodCl7bGV0IGU7dHJ5e2NvbnN0e2tleVNlbGVjdG9yOm59PXRoaXM7ZT1uP24odCk6dH1jYXRjaChyKXtyZXR1cm4gdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihyKX1sZXQgbj0hMTtpZih0aGlzLmhhc0tleSl0cnl7Y29uc3R7Y29tcGFyZTp0fT10aGlzO249dCh0aGlzLmtleSxlKX1jYXRjaChyKXtyZXR1cm4gdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihyKX1lbHNlIHRoaXMuaGFzS2V5PSEwO258fCh0aGlzLmtleT1lLHRoaXMuZGVzdGluYXRpb24ubmV4dCh0KSl9fWNsYXNzIGF5e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5wcmVkaWNhdGU9dCx0aGlzLmluY2x1c2l2ZT1lfWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IGx5KHQsdGhpcy5wcmVkaWNhdGUsdGhpcy5pbmNsdXNpdmUpKX19Y2xhc3MgbHkgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0KSx0aGlzLnByZWRpY2F0ZT1lLHRoaXMuaW5jbHVzaXZlPW4sdGhpcy5pbmRleD0wfV9uZXh0KHQpe2NvbnN0IGU9dGhpcy5kZXN0aW5hdGlvbjtsZXQgbjt0cnl7bj10aGlzLnByZWRpY2F0ZSh0LHRoaXMuaW5kZXgrKyl9Y2F0Y2gocil7cmV0dXJuIHZvaWQgZS5lcnJvcihyKX10aGlzLm5leHRPckNvbXBsZXRlKHQsbil9bmV4dE9yQ29tcGxldGUodCxlKXtjb25zdCBuPXRoaXMuZGVzdGluYXRpb247Qm9vbGVhbihlKT9uLm5leHQodCk6KHRoaXMuaW5jbHVzaXZlJiZuLm5leHQodCksbi5jb21wbGV0ZSgpKX19ZnVuY3Rpb24gdXkodCxlKXsxJnQmJk5vKDApfWNvbnN0IGN5PVsiKiJdO2Z1bmN0aW9uIGh5KHQsZSl7MSZ0JiZ4bygwKX1mdW5jdGlvbiBkeSh0LGUpe2lmKDEmdCl7Y29uc3QgdD1BbygpO0RvKDAsInNlY3Rpb24iLDIpLERvKDEsInBvLWFjY29yZGlvbi1pdGVtLWhlYWRlciIsMyksRm8oInAtdG9nZ2xlIixmdW5jdGlvbihlKXtjb25zdCBuPWtlKHQpLiRpbXBsaWNpdDtyZXR1cm4gUm8oKS5oZWFkZXJUb2dnbGUoZSxuKX0pLEVvKCksRG8oMiwicG8tYWNjb3JkaW9uLWl0ZW0tYm9keSIsNCksdm8oMyxoeSwxLDAsIm5nLWNvbnRhaW5lciIsNSksRW8oKSxFbygpfWlmKDImdCl7Y29uc3QgdD1lLiRpbXBsaWNpdDskbygicG8tYWNjb3JkaW9uLWl0ZW0tYWN0aXZlIix0LmV4cGFuZGVkKSxXcygxKSxDbygicC1leHBhbmRlZCIsdC5leHBhbmRlZCkoInAtbGFiZWwiLHQubGFiZWwpLFdzKDEpLENvKCJwLWV4cGFuZGVkIix0LmV4cGFuZGVkKSxXcygxKSxDbygibmdUZW1wbGF0ZU91dGxldCIsdC50ZW1wbGF0ZVJlZil9fWZ1bmN0aW9uIHB5KHQsZSl7MSZ0JiYoRG8oMCwiZGl2IiwxKSxEbygxLCJkaXYiLDIpLE5vKDIpLEVvKCksRW8oKSksMiZ0JiZDbygiQHRvZ2dsZUJvZHkiLHZvaWQgMCl9ZnVuY3Rpb24gZnkodCxlKXsxJnQmJnhvKDApfWZ1bmN0aW9uIGd5KHQsZSl7MSZ0JiZTbygwLCJpIiwyKSwyJnQmJnFvKFFuLHpvLFJvKCkuY2xhc3MsITApfWZ1bmN0aW9uIG15KHQsZSl7aWYoMSZ0JiYoRG8oMCwic3BhbiIsMiksdGEoMSksRW8oKSksMiZ0KXtjb25zdCB0PVJvKCk7V3MoMSksZWEodC50ZXh0KX19Y29uc3QgeXk9WyJidXR0b24iXTtmdW5jdGlvbiB2eSh0LGUpezEmdCYmKERvKDAsImRpdiIsNSksU28oMSwicG8tbG9hZGluZy1pY29uIiw2KSxFbygpKX1mdW5jdGlvbiBieSh0LGUpezEmdCYmU28oMCwicG8taWNvbiIsNyksMiZ0JiZDbygicC1pY29uIixSbygpLmljb24pfWZ1bmN0aW9uIHd5KHQsZSl7aWYoMSZ0JiYoRG8oMCwic3BhbiIsOCksdGEoMSksRW8oKSksMiZ0KXtjb25zdCB0PVJvKCk7V3MoMSksZWEodC5sYWJlbCl9fWZ1bmN0aW9uIEN5KHQsZSl7aWYoMSZ0JiYoRG8oMCwic3BhbiIsMiksU28oMSwic3BhbiIsMyksdGEoMiksRW8oKSksMiZ0KXtjb25zdCB0PVJvKCk7V3MoMiksbmEoIiAiLHQuZXJyb3JQYXR0ZXJuLCIgIil9fWZ1bmN0aW9uIF95KHQsZSl7aWYoMSZ0JiYoRG8oMCwic3BhbiIsNSksdGEoMSksRW8oKSksMiZ0KXtjb25zdCB0PVJvKCk7V3MoMSksZWEodC5saXRlcmFscy5vcHRpb25hbCl9fWZ1bmN0aW9uIER5KHQsZSl7aWYoMSZ0JiYoRG8oMCwiZGl2Iiw2KSx0YSgxKSxFbygpKSwyJnQpe2NvbnN0IHQ9Um8oKTtXcygxKSxlYSh0LmhlbHApfX1mdW5jdGlvbiBFeSh0LGUpe2lmKDEmdCl7Y29uc3QgdD1BbygpO0RvKDAsInNwYW4iLDEpLEZvKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4ga2UodCksUm8oKS5jbGVhcigpfSksRW8oKX19Y29uc3QgU3k9WyJpbnAiXSx4eT1bIm1vZGFsQ29udGVudCJdO2Z1bmN0aW9uIEF5KHQsZSl7aWYoMSZ0KXtjb25zdCB0PUFvKCk7RG8oMCwiYSIsMTQpLEZvKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4ga2UodCksUm8oMikuY2xvc2UoITApfSksU28oMSwic3BhbiIsMTUpLEVvKCl9fWZ1bmN0aW9uIFR5KHQsZSl7aWYoMSZ0KXtjb25zdCB0PUFvKCk7RG8oMCwicG8tYnV0dG9uIiwxNiksRm8oInAtY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIGtlKHQpLFJvKDIpLnNlY29uZGFyeUFjdGlvbi5hY3Rpb24oKX0pLEVvKCl9aWYoMiZ0KXtjb25zdCB0PVJvKDIpO0NvKCJwLWRpc2FibGVkIix0LnNlY29uZGFyeUFjdGlvbi5kaXNhYmxlZCkoInAtbGFiZWwiLHQuc2Vjb25kYXJ5QWN0aW9uLmxhYmVsKSgicC1sb2FkaW5nIix0LnNlY29uZGFyeUFjdGlvbi5sb2FkaW5nKSgicC10eXBlIix0LmdldFNlY29uZGFyeUFjdGlvbkJ1dHRvblR5cGUoKSl9fWZ1bmN0aW9uIE95KHQsZSl7aWYoMSZ0KXtjb25zdCB0PUFvKCk7RG8oMCwiZGl2IiwxKSxGbygia2V5ZG93bi5lc2MiLGZ1bmN0aW9uKGUpe3JldHVybiBrZSh0KSxSbygpLmNsb3NlTW9kYWxPbkVzY2FwZUtleShlKX0pLERvKDEsImRpdiIsMiksRG8oMiwiZGl2IiwzKSxGbygibW91c2Vkb3duIixmdW5jdGlvbihlKXtyZXR1cm4ga2UodCksUm8oKS5vbkNsaWNrT3V0KGUpfSksRG8oMywiZGl2Iiw0KSxEbyg0LCJkaXYiLDUsNiksRG8oNiwiZGl2Iiw3KSxEbyg3LCJkaXYiLDgpLHRhKDgpLEVvKCksdm8oOSxBeSwyLDAsImEiLDkpLEVvKCksRG8oMTAsImRpdiIsMTApLE5vKDExKSxFbygpLERvKDEyLCJkaXYiLDExKSx2bygxMyxUeSwxLDQsInBvLWJ1dHRvbiIsMTIpLERvKDE0LCJwby1idXR0b24iLDEzKSxGbygicC1jbGljayIsZnVuY3Rpb24oKXtyZXR1cm4ga2UodCksUm8oKS5wcmltYXJ5QWN0aW9uLmFjdGlvbigpfSksRW8oKSxFbygpLEVvKCksRW8oKSxFbygpLEVvKCksRW8oKX1pZigyJnQpe2NvbnN0IHQ9Um8oKTtXcyg0KSxyYSgicG8tbW9kYWwtY29udGVudCBwby1tb2RhbC0iLHQuc2l6ZSwiIiksV3MoNCksbmEoIiAiLHQudGl0bGUsIiAiKSxXcygxKSxDbygibmdJZiIsIXQuaGlkZUNsb3NlKSxXcyg0KSxDbygibmdJZiIsdC5zZWNvbmRhcnlBY3Rpb24pLFdzKDEpLENvKCJwLWRpc2FibGVkIix0LnByaW1hcnlBY3Rpb24uZGlzYWJsZWQpKCJwLWxhYmVsIix0LnByaW1hcnlBY3Rpb24ubGFiZWwpKCJwLWxvYWRpbmciLHQucHJpbWFyeUFjdGlvbi5sb2FkaW5nKSgicC10eXBlIix0LmdldFByaW1hcnlBY3Rpb25CdXR0b25UeXBlKCkpfX1jb25zdCBGeT1bInRvYXN0ZXIiXTtmdW5jdGlvbiBreSh0LGUpe2lmKDEmdCl7Y29uc3QgdD1BbygpO0RvKDAsImRpdiIsNyksRm8oImNsaWNrIixmdW5jdGlvbihlKXtyZXR1cm4ga2UodCksUm8oKS5wb1RvYXN0ZXJBY3Rpb24oZSl9KSx0YSgxKSxFbygpfWlmKDImdCl7Y29uc3QgdD1SbygpO1dzKDEpLG5hKCIgIix0LmFjdGlvbkxhYmVsLCIgIil9fWNvbnN0IEl5PWZ1bmN0aW9uKHQpe3JldHVybnskaW1wbGljaXQ6dH19LFJ5PVsiY29udGFpbmVyRWxlbWVudCJdLFB5PVsiY29udGVudEVsZW1lbnQiXSxMeT1bImljb25BcnJvdyJdO2Z1bmN0aW9uIE55KHQsZSl7aWYoMSZ0JiYoRG8oMCwiZGl2IiwxNiksU28oMSwicG8taWNvbiIsMTcpLEVvKCkpLDImdCl7Y29uc3QgdD1SbygpO1dzKDEpLCRvKCJwby1maWVsZC1pY29uLWRpc2FibGVkIix0LmRpc2FibGVkKSxDbygicC1pY29uIix0Lmljb24pfX1mdW5jdGlvbiBqeSh0LGUpe2lmKDEmdCl7Y29uc3QgdD1BbygpO0RvKDAsInBvLWNsZWFuIiwxOCksRm8oInAtY2hhbmdlLWV2ZW50IixmdW5jdGlvbihlKXtyZXR1cm4ga2UodCksUm8oKS5jbGVhcihlKX0pLEVvKCl9MiZ0JiZDbygicC1lbGVtZW50LXJlZiIsUm8oKS5pbnB1dEVsKX1mdW5jdGlvbiBNeSh0LGUpezEmdCYmeG8oMCl9ZnVuY3Rpb24gVnkodCxlKXsxJnQmJihEbygwLCJkaXYiLDE5KSxTbygxLCJwby1sb2FkaW5nIiksRW8oKSl9ZnVuY3Rpb24gQnkodCxlKXsxJnQmJnhvKDApfWZ1bmN0aW9uIEh5KHQsZSl7aWYoMSZ0JiZ2bygwLEJ5LDEsMCwibmctY29udGFpbmVyIiwxMSksMiZ0KXtjb25zdCB0PVJvKCksZT1ibygxOCksbj1ibygyMCk7Q28oIm5nSWYiLHQudmlzaWJsZU9wdGlvbnMubGVuZ3RoKSgibmdJZlRoZW4iLGUpKCJuZ0lmRWxzZSIsbil9fWZ1bmN0aW9uIFV5KHQsZSl7MSZ0JiZ4bygwKX1mdW5jdGlvbiAkeSh0LGUpe2lmKDEmdCYmKERvKDAsImxhYmVsIiwyNyksdGEoMSksRW8oKSksMiZ0KXtjb25zdCB0PVJvKDIpLiRpbXBsaWNpdDtXcygxKSxlYSh0LmxhYmVsKX19ZnVuY3Rpb24genkodCxlKXtpZigxJnQmJihEbygwLCJhIiwyOCksU28oMSwic3BhbiIsMjkpLEVvKCkpLDImdCl7Y29uc3QgdD1SbygyKS4kaW1wbGljaXQsZT1SbygyKTtXcygxKSxDbygiaW5uZXJIVE1MIixlLmdldExhYmVsRm9ybWF0dGVkKG51bGw9PXQ/bnVsbDp0LmxhYmVsKSxLcil9fWZ1bmN0aW9uIHF5KHQsZSl7aWYoMSZ0JiYodm8oMCwkeSwyLDEsImxhYmVsIiwyNSksdm8oMSx6eSwyLDEsIm5nLXRlbXBsYXRlIixudWxsLDI2LEdsKSksMiZ0KXtjb25zdCB0PWJvKDIpLGU9Um8oKS4kaW1wbGljaXQ7Q28oIm5nSWYiLG51bGw9PWU/bnVsbDplLm9wdGlvbnMpKCJuZ0lmRWxzZSIsdCl9fWZ1bmN0aW9uIFd5KHQsZSl7MSZ0JiZ4bygwKX1mdW5jdGlvbiBHeSh0LGUpe31jb25zdCBaeT1mdW5jdGlvbih0LGUpe3JldHVybnskaW1wbGljaXQ6dCxzZWxlY3RlZDplfX07ZnVuY3Rpb24gWXkodCxlKXtpZigxJnQmJnZvKDAsR3ksMCwwLCJuZy10ZW1wbGF0ZSIsMzIpLDImdCl7Y29uc3QgdD1SbygyKS4kaW1wbGljaXQsZT1SbygyKTtDbygibmdUZW1wbGF0ZU91dGxldCIsbnVsbD09ZS5jb21ib09wdGlvblRlbXBsYXRlP251bGw6ZS5jb21ib09wdGlvblRlbXBsYXRlLnRlbXBsYXRlUmVmKSgibmdUZW1wbGF0ZU91dGxldENvbnRleHQiLChuPTIscj1aeSxzPXQsaT1lLmNvbXBhcmVPYmplY3RzKGUuc2VsZWN0ZWRWaWV3LHQpLGZ1bmN0aW9uKHQsZSxuLHIscyxpLG8pe2NvbnN0IGE9ZStuO3JldHVybiBnbyh0LGEscyxpKT9wbyh0LGErMixvP3IuY2FsbChvLHMsaSk6cihzLGkpKTp4bCh0LGErMil9KE9lKCksVmUoKSxuLHIscyxpLG8pKSl9dmFyIG4scixzLGksb31mdW5jdGlvbiBLeSh0LGUpe31mdW5jdGlvbiBReSh0LGUpe2lmKDEmdCYmKERvKDAsImEiLDI4KSx2bygxLEt5LDAsMCwibmctdGVtcGxhdGUiLDMyKSxFbygpKSwyJnQpe2NvbnN0IHQ9Um8oMikuJGltcGxpY2l0LGU9Um8oMik7V3MoMSksQ28oIm5nVGVtcGxhdGVPdXRsZXQiLG51bGw9PWUuY29tYm9PcHRpb25UZW1wbGF0ZT9udWxsOmUuY29tYm9PcHRpb25UZW1wbGF0ZS50ZW1wbGF0ZVJlZikoIm5nVGVtcGxhdGVPdXRsZXRDb250ZXh0Iiwobj0yLHI9SXkscz10LGZ1bmN0aW9uKHQsZSxuLHIscyxpKXtjb25zdCBvPWUrbjtyZXR1cm4gZm8odCxvLHMpP3BvKHQsbysxLGk/ci5jYWxsKGkscyk6cihzKSk6eGwodCxvKzEpfShPZSgpLFZlKCksbixyLHMsaSkpKX12YXIgbixyLHMsaX1mdW5jdGlvbiBYeSh0LGUpe2lmKDEmdCYmKHZvKDAsV3ksMSwwLCJuZy1jb250YWluZXIiLDExKSx2bygxLFl5LDEsNSwibmctdGVtcGxhdGUiLG51bGwsMzAsR2wpLHZvKDMsUXksMiw0LCJuZy10ZW1wbGF0ZSIsbnVsbCwzMSxHbCkpLDImdCl7Y29uc3QgdD1ibygyKSxlPWJvKDQpO0NvKCJuZ0lmIixSbygzKS5pc09wdGlvbkdyb3VwTGlzdCkoIm5nSWZUaGVuIix0KSgibmdJZkVsc2UiLGUpfX1mdW5jdGlvbiBKeSh0LGUpe2lmKDEmdCl7Y29uc3QgdD1BbygpO0RvKDAsImxpIiw3KSxGbygiY2xpY2siLGZ1bmN0aW9uKGUpe2NvbnN0IG49a2UodCkuJGltcGxpY2l0LHI9Um8oMik7cmV0dXJuIG51bGwhPW4mJm4ub3B0aW9ucz92b2lkIDA6ci5vbk9wdGlvbkNsaWNrKG4sZSl9KSx2bygxLFV5LDEsMCwibmctY29udGFpbmVyIiwxMSksdm8oMixxeSwzLDIsIm5nLXRlbXBsYXRlIixudWxsLDIzLEdsKSx2byg0LFh5LDUsMywibmctdGVtcGxhdGUiLG51bGwsMjQsR2wpLEVvKCl9aWYoMiZ0KXtjb25zdCB0PWUuJGltcGxpY2l0LG49Ym8oMykscj1ibyg1KSxzPVJvKDIpOyRvKCJwby1jb21iby1pdGVtLXNlbGVjdGVkIixzLmNvbXBhcmVPYmplY3RzKHMuc2VsZWN0ZWRWaWV3LHQpKSxXcygxKSxDbygibmdJZiIscy5jb21ib09wdGlvblRlbXBsYXRlKSgibmdJZlRoZW4iLHIpKCJuZ0lmRWxzZSIsbil9fWZ1bmN0aW9uIHR2KHQsZSl7aWYoMSZ0JiYoRG8oMCwidWwiLDIwLDIxKSx2bygyLEp5LDYsNSwibGkiLDIyKSxFbygpKSwyJnQpe2NvbnN0IHQ9Um8oKTtXcygyKSxDbygibmdGb3JPZiIsdC52aXNpYmxlT3B0aW9ucyl9fWZ1bmN0aW9uIGV2KHQsZSl7aWYoMSZ0JiYoRG8oMCwiZGl2IiwzMyksRG8oMSwiZGl2IiwzNCksRG8oMiwic3BhbiIpLHRhKDMpLEVvKCksRW8oKSxFbygpKSwyJnQpe2NvbnN0IHQ9Um8oKTtXcygzKSxuYSgiICIsdC5saXRlcmFscy5ub0RhdGEsIiAiKX19ZnVuY3Rpb24gbnYodCxlKXtpZigxJnQmJihEbygwLCJkaXYiLDYpLERvKDEsInNwYW4iLDcpLHRhKDIpLEVvKCksRW8oKSksMiZ0KXtjb25zdCB0PVJvKCk7V3MoMiksZWEodC50YWdPcmllbnRhdGlvbj90LmxhYmVsKyI6Ijp0LmxhYmVsKX19ZnVuY3Rpb24gcnYodCxlKXtpZigxJnQmJlNvKDAsInBvLWljb24iLDgpLDImdCl7Y29uc3QgdD1SbygpO0NvKCJwLWljb24iLHQudHlwZT90Lmljb25Gcm9tVHlwZTp0Lmljb24pfX1mdW5jdGlvbiBzdih0LGUpe2lmKDEmdCYmKERvKDAsImRpdiIsNiksU28oMSwicG8tdGFnIiw3KSxFbygpKSwyJnQpe2NvbnN0IHQ9Um8oKS4kaW1wbGljaXQsZT1SbygpO1dzKDEpLENvKCJwLWNvbG9yIixlLnR5cGVDb2xvcih0LnR5cGUpKSgicC12YWx1ZSIsZS50eXBlVmFsdWUodC50eXBlKSl9fWZ1bmN0aW9uIGl2KHQsZSl7aWYoMSZ0JiYoRG8oMCwicG8tYWNjb3JkaW9uLWl0ZW0iLDQpLHZvKDEsc3YsMiwyLCJkaXYiLDUpLERvKDIsImRpdiIsMSksRG8oMywicCIpLHRhKDQpLEVvKCksRW8oKSxFbygpKSwyJnQpe2NvbnN0IHQ9ZS4kaW1wbGljaXQ7Q28oInAtbGFiZWwiLFJvKCkuZm9ybWF0RGV0YWlsSXRlbVRpdGxlKHQpKSxXcygxKSxDbygibmdJZiIsdC50eXBlKSxXcygzKSxlYSh0LmRldGFpbGVkTWVzc2FnZSl9fWxldCBvdj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5zdWJqZWN0Q2hpbGQ9bmV3IER9cmVjZWl2ZUZyb21DaGlsZEFjY29yZGlvbkNsaWNrZWQoKXtyZXR1cm4gdGhpcy5zdWJqZWN0Q2hpbGQuYXNPYnNlcnZhYmxlKCl9c2VuZFRvUGFyZW50QWNjb3JkaW9uSXRlbUNsaWNrZWQodCl7dGhpcy5zdWJqZWN0Q2hpbGQubmV4dCh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksYXY9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmFjY29yZGlvblNlcnZpY2U9dH1jb2xsYXBzZSgpe3RoaXMuZXhwYW5kZWQ9ITEsdGhpcy5hY2NvcmRpb25TZXJ2aWNlLnNlbmRUb1BhcmVudEFjY29yZGlvbkl0ZW1DbGlja2VkKHRoaXMpfWV4cGFuZCgpe3RoaXMuZXhwYW5kZWQ9ITAsdGhpcy5hY2NvcmRpb25TZXJ2aWNlLnNlbmRUb1BhcmVudEFjY29yZGlvbkl0ZW1DbGlja2VkKHRoaXMpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh3byhvdikpfSx0Llx1MDI3NWNtcD1VdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1hY2NvcmRpb24taXRlbSJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJkhsKHNsLDcpLDImdCl7bGV0IHQ7QmwodD0kbCgpKSYmKGUudGVtcGxhdGVSZWY9dC5maXJzdCl9fSxpbnB1dHM6e2xhYmVsOlsicC1sYWJlbCIsImxhYmVsIl19LG5nQ29udGVudFNlbGVjdG9yczpjeSxkZWNsczoxLHZhcnM6MCx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKExvKCksdm8oMCx1eSwxLDAsIm5nLXRlbXBsYXRlIikpfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxsdj0oKCk9PntjbGFzcyB0IGV4dGVuZHMgY2xhc3N7fXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuYWNjb3JkaW9uU2VydmljZT10LHRoaXMucmVjZWl2ZUZyb21DaGlsZEFjY29yZGlvblN1YnNjcmlwdGlvbigpfW5nT25EZXN0cm95KCl7dGhpcy5hY2NvcmRpb25TZXJ2aWNlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCl9aGVhZGVyVG9nZ2xlKHQsZSl7ZS5leHBhbmRlZD10LHRoaXMudG9nZ2xlKGUpfXJlY2VpdmVGcm9tQ2hpbGRBY2NvcmRpb25TdWJzY3JpcHRpb24oKXt0aGlzLmFjY29yZGlvblNlcnZpY2VTdWJzY3JpcHRpb249dGhpcy5hY2NvcmRpb25TZXJ2aWNlLnJlY2VpdmVGcm9tQ2hpbGRBY2NvcmRpb25DbGlja2VkKCkuc3Vic2NyaWJlKHQ9PnRoaXMudG9nZ2xlKHQpKX10b2dnbGUodCl7dC5leHBhbmRlZD8odGhpcy5leHBhbmRlZEFjdGl2ZUFjY29yZGlvbkl0ZW0mJnRoaXMuZXhwYW5kZWRBY3RpdmVBY2NvcmRpb25JdGVtLmNvbGxhcHNlKCksdGhpcy5leHBhbmRlZEFjdGl2ZUFjY29yZGlvbkl0ZW09dCk6dGhpcy5leHBhbmRlZEFjdGl2ZUFjY29yZGlvbkl0ZW09bnVsbH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkod28ob3YpKX0sdC5cdTAyNzVjbXA9VXQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tYWNjb3JkaW9uIl1dLGNvbnRlbnRRdWVyaWVzOmZ1bmN0aW9uKHQsZSxuKXtpZigxJnQmJlVsKG4sYXYsNCksMiZ0KXtsZXQgdDtCbCh0PSRsKCkpJiYoZS5wb0FjY29yZGlvbkl0ZW1zPXQpfX0sZmVhdHVyZXM6W3dhKFtvdl0pLHJvXSxkZWNsczoyLHZhcnM6MSxjb25zdHM6W1sxLCJwby1hY2NvcmRpb24iLCJwby1jb250YWluZXIiLCJwby1jb250YWluZXItbm8tcGFkZGluZyJdLFsiY2xhc3MiLCJwby1hY2NvcmRpb24taXRlbSIsMywicG8tYWNjb3JkaW9uLWl0ZW0tYWN0aXZlIiw0LCJuZ0ZvciIsIm5nRm9yT2YiXSxbMSwicG8tYWNjb3JkaW9uLWl0ZW0iXSxbMywicC1leHBhbmRlZCIsInAtbGFiZWwiLCJwLXRvZ2dsZSJdLFszLCJwLWV4cGFuZGVkIl0sWzQsIm5nVGVtcGxhdGVPdXRsZXQiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihEbygwLCJkaXYiLDApLHZvKDEsZHksNCw2LCJzZWN0aW9uIiwxKSxFbygpKSwyJnQmJihXcygxKSxDbygibmdGb3JPZiIsZS5wb0FjY29yZGlvbkl0ZW1zKSl9LGRpcmVjdGl2ZXM6ZnVuY3Rpb24oKXtyZXR1cm5bcmgsY3YsdXYsbGhdfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSx1dj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5leHBhbmRlZD0hMX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1Y21wPVV0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWFjY29yZGlvbi1pdGVtLWJvZHkiXV0saW5wdXRzOntleHBhbmRlZDpbInAtZXhwYW5kZWQiLCJleHBhbmRlZCJdfSxuZ0NvbnRlbnRTZWxlY3RvcnM6Y3ksZGVjbHM6MSx2YXJzOjEsY29uc3RzOltbImNsYXNzIiwicG8tYWNjb3JkaW9uLWl0ZW0tYm9keSIsNCwibmdJZiJdLFsxLCJwby1hY2NvcmRpb24taXRlbS1ib2R5Il0sWzEsInBvLWFjY29yZGlvbi1pdGVtLWJvZHktY29udGVudCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKExvKCksdm8oMCxweSwzLDEsImRpdiIsMCkpLDImdCYmQ28oIm5nSWYiLGUuZXhwYW5kZWQpfSxkaXJlY3RpdmVzOltpaF0sZW5jYXBzdWxhdGlvbjoyLGRhdGE6e2FuaW1hdGlvbjpbKCJ0b2dnbGVCb2R5IixlPVtDcCgiKiA9PiB2b2lkIixbd3Aoe2hlaWdodDoiKiJ9KSxicCgyMDAsd3Aoe2hlaWdodDowfSkpXSksQ3AoInZvaWQgPT4gKiIsW3dwKHtoZWlnaHQ6IjAifSksYnAoMjAwLHdwKHtoZWlnaHQ6IioifSkpXSldLHt0eXBlOjcsbmFtZToidG9nZ2xlQm9keSIsZGVmaW5pdGlvbnM6ZSxvcHRpb25zOnt9fSldfX0pLHQ7dmFyIGV9KSgpLGN2PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmV4cGFuZGVkPSExLHRoaXMudG9nZ2xlPW5ldyBUbH1vbkNsaWNrKCl7dGhpcy5leHBhbmRlZD0hdGhpcy5leHBhbmRlZCx0aGlzLnRvZ2dsZS5lbWl0KHRoaXMuZXhwYW5kZWQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVjbXA9VXQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tYWNjb3JkaW9uLWl0ZW0taGVhZGVyIl1dLGlucHV0czp7ZXhwYW5kZWQ6WyJwLWV4cGFuZGVkIiwiZXhwYW5kZWQiXSxsYWJlbDpbInAtbGFiZWwiLCJsYWJlbCJdfSxvdXRwdXRzOnt0b2dnbGU6InAtdG9nZ2xlIn0sZGVjbHM6Nix2YXJzOjEsY29uc3RzOltbMSwicG8tYWNjb3JkaW9uLWl0ZW0taGVhZGVyIl0sWzEsInBvLWFjY29yZGlvbi1pdGVtLWhlYWRlci1idXR0b24iLCJwby1jbGlja2FibGUiLDMsImNsaWNrIl0sWzEsInBvLXRleHQtZWxsaXBzaXMiLCJwby1hY2NvcmRpb24taXRlbS1oZWFkZXItdGl0bGUiXSxbMSwicG8taWNvbiIsInBvLWFjY29yZGlvbi1pdGVtLWhlYWRlci1pY29uIiwicG8taWNvbi1hcnJvdy1kb3duIl0sWyJpY29uIiwiIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoRG8oMCwiaGVhZGVyIiwwKSxEbygxLCJidXR0b24iLDEpLEZvKCJjbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vbkNsaWNrKCl9KSxEbygyLCJkaXYiLDIpLHRhKDMpLEVvKCksU28oNCwic3BhbiIsMyw0KSxFbygpLEVvKCkpLDImdCYmKFdzKDMpLGVhKGUubGFiZWwpKX0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksdH0pKCksaHY9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3loXV19KSx0fSkoKSxkdj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbeWhdXX0pLHR9KSgpO2NvbnN0IHB2PVt7ZGVzY3JpcHRpb246IkVuZ2xpc2giLGxhbmd1YWdlOiJlbiJ9LHtkZXNjcmlwdGlvbjoiRXNwYVx4ZjFvbCIsbGFuZ3VhZ2U6ImVzIn0se2Rlc2NyaXB0aW9uOiJQb3J0dWd1XHhlYXMiLGxhbmd1YWdlOiJwdCJ9LHtkZXNjcmlwdGlvbjoiUFx1MDQ0M1x1MDQ0MVx1MDQ0MVx1MDQzYVx1MDQzOFx1MDQzOSIsbGFuZ3VhZ2U6InJ1In1dLm1hcCh0PT50Lmxhbmd1YWdlKSxmdj0icHQiLGd2PVt7c2VwYXJhdG9yOiIuIixsYW5ndWFnZToiZW4ifSx7c2VwYXJhdG9yOiIsIixsYW5ndWFnZToiZXMifSx7c2VwYXJhdG9yOiIsIixsYW5ndWFnZToicHQifSx7c2VwYXJhdG9yOiIsIixsYW5ndWFnZToicnUifV0sbXY9W3tzZXBhcmF0b3I6IiwiLGxhbmd1YWdlOiJlbiJ9LHtzZXBhcmF0b3I6Ii4iLGxhbmd1YWdlOiJlcyJ9LHtzZXBhcmF0b3I6Ii4iLGxhbmd1YWdlOiJwdCJ9LHtzZXBhcmF0b3I6IiAiLGxhbmd1YWdlOiJydSJ9XTtmdW5jdGlvbiB5dih0KXtyZXR1cm4odHx8ZnYpLnRvTG93ZXJDYXNlKCkuc3Vic3RyaW5nKDAsMil9ZnVuY3Rpb24gdnYodCl7cmV0dXJuIG5ldyBSZWdFeHAoIl5bYS16XXsyfSgtW2Etel17Mn0pPyQiLCJpIikudGVzdCh0KX1mdW5jdGlvbiBidih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/InRydWUiPT09KHQ9dC50b0xvd2VyQ2FzZSgpLnRyaW0oKSl8fCJvbiI9PT10fHwiIj09PXQ6Im51bWJlciI9PXR5cGVvZiB0PzE9PT10OiEhdH1mdW5jdGlvbiB3dih0LGUpe3JldHVybiB0eXBlb2YgdD09PWV9ZnVuY3Rpb24gQ3YodCl7cmV0dXJuIG51bGwhPXQmJiIiIT09dHx8ITE9PT10fWZ1bmN0aW9uIF92KHQpe3JldHVybiB3dih0LCJvYmplY3QiKSYmIUFycmF5LmlzQXJyYXkodCk/dDp2b2lkIDB9Y29uc3QgRHY9IlBPX0RFRkFVTFRfTEFOR1VBR0UiLEV2PSJQT19VU0VSX0xPQ0FMRSI7bGV0IFN2PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt9c2V0IGxhbmd1YWdlRGVmYXVsdCh0KXt0JiZ2dih0KSYmbG9jYWxTdG9yYWdlLnNldEl0ZW0oRHYsdCl9Z2V0IGxhbmd1YWdlRGVmYXVsdCgpe3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShEdil9Z2V0TGFuZ3VhZ2UoKXtjb25zdCB0PWxvY2FsU3RvcmFnZS5nZXRJdGVtKEV2KXx8dGhpcy5sYW5ndWFnZURlZmF1bHR8fGZ1bmN0aW9uKCl7Y29uc3QgdD1uYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2UsZT15dih0KTtyZXR1cm4gcHYuaW5jbHVkZXMoZSk/dDpmdn0oKTtyZXR1cm4gdCYmdC50b0xvd2VyQ2FzZSgpfWdldExhbmd1YWdlRGVmYXVsdCgpe3JldHVybiB0aGlzLmxhbmd1YWdlRGVmYXVsdH1nZXRTaG9ydExhbmd1YWdlKCl7Y29uc3QgdD15dih0aGlzLmdldExhbmd1YWdlKCkpO3JldHVybiBwdi5pbmNsdWRlcyh0KT90OmZ2fXNldExhbmd1YWdlKHQpe3Z2KHQpJiZsb2NhbFN0b3JhZ2Uuc2V0SXRlbShFdix0LnRvTG93ZXJDYXNlKCkpfXNldExhbmd1YWdlRGVmYXVsdCh0KXt0aGlzLmxhbmd1YWdlRGVmYXVsdD10fWdldE51bWJlclNlcGFyYXRvcnModCl7dmFyIGUsbixyLHM7dD10fHx0aGlzLmdldFNob3J0TGFuZ3VhZ2UoKTtjb25zdCBpPW51bGwhPT0oZT1ndi5maW5kKGU9PmUubGFuZ3VhZ2U9PT10KSkmJnZvaWQgMCE9PWU/ZTp7fSxvPW51bGwhPT0obj1tdi5maW5kKGU9PmUubGFuZ3VhZ2U9PT10KSkmJnZvaWQgMCE9PW4/bjp7fTtyZXR1cm57ZGVjaW1hbFNlcGFyYXRvcjpudWxsIT09KHI9aS5zZXBhcmF0b3IpJiZ2b2lkIDAhPT1yP3I6IiwiLHRob3VzYW5kU2VwYXJhdG9yOm51bGwhPT0ocz1vLnNlcGFyYXRvcikmJnZvaWQgMCE9PXM/czoiLiJ9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0fSx0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QifSksdH0pKCkseHY9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3loLFdtXV19KSx0fSkoKSxBdj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7fXNldCBpY29uKHQpeyJzdHJpbmciPT10eXBlb2YgdD90aGlzLmFkZENsYXNzZXModCk6dCBpbnN0YW5jZW9mIHNsJiYodGhpcy5faWNvbj10KX1nZXQgaWNvbigpe3JldHVybiB0aGlzLl9pY29ufWFkZENsYXNzZXModCl7dGhpcy5jbGFzcz10aGlzLmNsYXNzPXQuc3RhcnRzV2l0aCgicG8taWNvbi0iKT9gcG8taWNvbiAke3R9YDpgcG8tZm9udHMtaWNvbiAke3R9YH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1Y21wPVV0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWljb24iXV0saW5wdXRzOntpY29uOlsicC1pY29uIiwiaWNvbiJdfSxkZWNsczozLHZhcnM6Myxjb25zdHM6W1s0LCJuZ0lmIiwibmdJZlRoZW4iLCJuZ0lmRWxzZSJdLFsiZm9udFRlbXBsYXRlIiwiIl0sWyJhcmlhLWhpZGRlbiIsInRydWUiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXtpZigxJnQmJih2bygwLGZ5LDEsMCwibmctY29udGFpbmVyIiwwKSx2bygxLGd5LDEsMiwibmctdGVtcGxhdGUiLG51bGwsMSxHbCkpLDImdCl7Y29uc3QgdD1ibygyKTtDbygibmdJZiIsZS5jbGFzcykoIm5nSWZUaGVuIix0KSgibmdJZkVsc2UiLGUuaWNvbil9fSxkaXJlY3RpdmVzOltpaF0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksdH0pKCksVHY9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3loXV19KSx0fSkoKTtjb25zdCBPdj17ZW46e2xvYWRpbmc6IkxvYWRpbmcifSxlczp7bG9hZGluZzoiQ2FyZ2FuZG8ifSxwdDp7bG9hZGluZzoiQ2FycmVnYW5kbyJ9LHJ1Ontsb2FkaW5nOiJcdTA0M2ZcdTA0M2VcdTA0MzNcdTA0NDBcdTA0NDNcdTA0MzdcdTA0M2FcdTA0MzAifX07bGV0IEZ2PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5sYW5ndWFnZVNlcnZpY2U9dCx0aGlzLl9zY3JlZW5Mb2NrPSExLHRoaXMudGV4dD10aGlzLmdldFRleHREZWZhdWx0KCl9c2V0IHNjcmVlbkxvY2sodCl7dGhpcy5fc2NyZWVuTG9jaz1idih0KX1nZXQgc2NyZWVuTG9jaygpe3JldHVybiB0aGlzLl9zY3JlZW5Mb2NrfXNldCB0ZXh0KHQpe3RoaXMuX3RleHQ9dHx8dGhpcy5nZXRUZXh0RGVmYXVsdCgpfWdldCB0ZXh0KCl7cmV0dXJuIHRoaXMuX3RleHR9Z2V0VGV4dERlZmF1bHQoKXtjb25zdCB0PXRoaXMubGFuZ3VhZ2VTZXJ2aWNlLmdldFNob3J0TGFuZ3VhZ2UoKTtyZXR1cm4gT3ZbdF0ubG9hZGluZ319cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkod28oU3YpKX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxpbnB1dHM6e3RleHQ6WyJwLXRleHQiLCJ0ZXh0Il0sc2NyZWVuTG9jazpbInAtc2NyZWVuLWxvY2siLCJzY3JlZW5Mb2NrIl19fSksdH0pKCksa3Y9KCgpPT57Y2xhc3MgdCBleHRlbmRzIEZ2e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoZSksdGhpcy5jaGFuZ2VEZXRlY3Rvcj10fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh3byhKYSksd28oU3YpKX0sdC5cdTAyNzVjbXA9VXQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tbG9hZGluZy1vdmVybGF5Il1dLGZlYXR1cmVzOltyb10sZGVjbHM6Mix2YXJzOjUsY29uc3RzOltbMSwicG8tbG9hZGluZy1vdmVybGF5LWNvbnRlbnQiLDMsInAtdGV4dCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKERvKDAsImRpdiIpLFNvKDEsInBvLWxvYWRpbmciLDApLEVvKCkpLDImdCYmKCRvKCJwby1vdmVybGF5LWFic29sdXRlIiwhZS5zY3JlZW5Mb2NrKSgicG8tb3ZlcmxheS1maXhlZCIsZS5zY3JlZW5Mb2NrKSxXcygxKSxDbygicC10ZXh0IixlLnRleHQpKX0sZGlyZWN0aXZlczpmdW5jdGlvbigpe3JldHVybltQdl19LGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLEl2PSgoKT0+e2NsYXNzIHR7c2V0IG5ldXRyYWxDb2xvcih0KXt0aGlzLl9uZXV0cmFsQ29sb3I9YnYodCl9Z2V0IG5ldXRyYWxDb2xvcigpe3JldHVybiB0aGlzLl9uZXV0cmFsQ29sb3J9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWNtcD1VdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1sb2FkaW5nLWljb24iXV0saW5wdXRzOntuZXV0cmFsQ29sb3I6WyJwLW5ldXRyYWwtY29sb3IiLCJuZXV0cmFsQ29sb3IiXX0sZGVjbHM6OSx2YXJzOjIsY29uc3RzOltbMSwicG8tbG9hZGluZy1pY29uIl0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTEiXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItMiJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci0zIl0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTQiXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItNSJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci02Il0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTciXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItOCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKERvKDAsImRpdiIsMCksU28oMSwic3BhbiIsMSksU28oMiwic3BhbiIsMiksU28oMywic3BhbiIsMyksU28oNCwic3BhbiIsNCksU28oNSwic3BhbiIsNSksU28oNiwic3BhbiIsNiksU28oNywic3BhbiIsNyksU28oOCwic3BhbiIsOCksRW8oKSksMiZ0JiYkbygicG8tbG9hZGluZy1pY29uLW5ldXRyYWwtY29sb3IiLGUubmV1dHJhbENvbG9yKX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksUnY9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMudGV4dD0iQ2FycmVnYW5kbyJ9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0LGlucHV0czp7dGV4dDpbInAtdGV4dCIsInRleHQiXX19KSx0fSkoKSxQdj0oKCk9PntjbGFzcyB0IGV4dGVuZHMgUnZ7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbigpe2xldCBlO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oZXx8KGU9Vm4odCkpKShufHx0KX19KCksdC5cdTAyNzVjbXA9VXQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tbG9hZGluZyJdXSxmZWF0dXJlczpbcm9dLGRlY2xzOjMsdmFyczoxLGNvbnN0czpbWzEsInBvLWxvYWRpbmciXSxbImNsYXNzIiwicG8tbG9hZGluZy1sYWJlbCBwby10ZXh0LWVsbGlwc2lzIiw0LCJuZ0lmIl0sWzEsInBvLWxvYWRpbmctbGFiZWwiLCJwby10ZXh0LWVsbGlwc2lzIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoRG8oMCwiZGl2IiwwKSxTbygxLCJwby1sb2FkaW5nLWljb24iKSx2bygyLG15LDIsMSwic3BhbiIsMSksRW8oKSksMiZ0JiYoV3MoMiksQ28oIm5nSWYiLGUudGV4dCkpfSxkaXJlY3RpdmVzOltJdixpaF0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksTHY9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltTdl19KSx0fSkoKSxOdj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbeWgsTHZdXX0pLHR9KSgpO2Z1bmN0aW9uIGp2KHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocil7dCYmdC5zZXQmJnQuc2V0LmJpbmQodGhpcykoZShyKSksdGhpc1tuXT1lKHIpfX1mdW5jdGlvbiBNdih0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0JiZ0LmdldD90LmdldC5iaW5kKHRoaXMpKCk6dGhpc1tlXX19ZnVuY3Rpb24gVnYoKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbih0LGUsbil7Y29uc3R7dGFyZ2V0OnIscHJvcGVydHk6cyxvcmlnaW5hbERlc2NyaXB0b3I6aX09dCxvPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPWAkJF9fJHtlfWA7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiZjb25zb2xlLndhcm4oYFRoZSBwcm9wICIke3J9IiBpcyBhbHJlYWR5IGV4aXN0LCBpdCB3aWxsIGJlIG92ZXJyaWRlZCBieSBJbnB1dEJvb2xlYW4gZGVjb3JhdG9yLmApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLHJ9KHIscyk7cmV0dXJue2dldDpNdihpLG8pLHNldDpqdihpLG4sbyl9fSh7dGFyZ2V0OnQscHJvcGVydHk6ZSxvcmlnaW5hbERlc2NyaXB0b3I6bn0sMCxidil9fWNvbnN0IEJ2PVsiZGVmYXVsdCIsInByaW1hcnkiLCJkYW5nZXIiLCJsaW5rIl07bGV0IEh2PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmF1dG9Gb2N1cz0hMSx0aGlzLmNsaWNrPW5ldyBUbCx0aGlzLl9kaXNhYmxlZD0hMSx0aGlzLl9sb2FkaW5nPSExLHRoaXMuX3NtYWxsPSExLHRoaXMuX3R5cGU9ImRlZmF1bHQifXNldCBsb2FkaW5nKHQpe3RoaXMuX2xvYWRpbmc9YnYodCl9Z2V0IGxvYWRpbmcoKXtyZXR1cm4gdGhpcy5fbG9hZGluZ31zZXQgc21hbGwodCl7dGhpcy5fc21hbGw9IiI9PT10fHxidih0KX1nZXQgc21hbGwoKXtyZXR1cm4gdGhpcy5fc21hbGx9c2V0IHR5cGUodCl7dGhpcy5fdHlwZT1Cdi5pbmNsdWRlcyh0KT90OiJkZWZhdWx0In1nZXQgdHlwZSgpe3JldHVybiB0aGlzLl90eXBlfXNldCBkaXNhYmxlZCh0KXt0aGlzLl9kaXNhYmxlZD0iIj09PXR8fGJ2KHQpfWdldCBkaXNhYmxlZCgpe3JldHVybiB0aGlzLl9kaXNhYmxlZH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsaW5wdXRzOnthdXRvRm9jdXM6WyJwLWF1dG8tZm9jdXMiLCJhdXRvRm9jdXMiXSxsb2FkaW5nOlsicC1sb2FkaW5nIiwibG9hZGluZyJdLHNtYWxsOlsicC1zbWFsbCIsInNtYWxsIl0sdHlwZTpbInAtdHlwZSIsInR5cGUiXSxkaXNhYmxlZDpbInAtZGlzYWJsZWQiLCJkaXNhYmxlZCJdLGxhYmVsOlsicC1sYWJlbCIsImxhYmVsIl0saWNvbjpbInAtaWNvbiIsImljb24iXX0sb3V0cHV0czp7Y2xpY2s6InAtY2xpY2sifX0pLGV5KFtWdigpXSx0LnByb3RvdHlwZSwiYXV0b0ZvY3VzIix2b2lkIDApLHR9KSgpLFV2PSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBIdntuZ0FmdGVyVmlld0luaXQoKXt0aGlzLmF1dG9Gb2N1cyYmdGhpcy5mb2N1cygpfWZvY3VzKCl7dGhpcy5kaXNhYmxlZHx8dGhpcy5idXR0b25FbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZm9jdXMoKX1vbkNsaWNrKCl7dGhpcy5jbGljay5lbWl0KG51bGwpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oKXtsZXQgZTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKGV8fChlPVZuKHQpKSkobnx8dCl9fSgpLHQuXHUwMjc1Y21wPVV0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWJ1dHRvbiJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJkhsKHl5LDcpLDImdCl7bGV0IHQ7QmwodD0kbCgpKSYmKGUuYnV0dG9uRWxlbWVudD10LmZpcnN0KX19LGZlYXR1cmVzOltyb10sZGVjbHM6NSx2YXJzOjE0LGNvbnN0czpbWyJ0eXBlIiwiYnV0dG9uIiwxLCJwby1idXR0b24iLCJwby10ZXh0LWVsbGlwc2lzIiwzLCJkaXNhYmxlZCIsImNsaWNrIl0sWyJidXR0b24iLCIiXSxbImNsYXNzIiwicG8tYnV0dG9uLWxvYWRpbmctaWNvbiIsNCwibmdJZiJdLFsiY2xhc3MiLCJwby1idXR0b24taWNvbiIsMywicC1pY29uIiw0LCJuZ0lmIl0sWyJjbGFzcyIsInBvLWJ1dHRvbi1sYWJlbCIsNCwibmdJZiJdLFsxLCJwby1idXR0b24tbG9hZGluZy1pY29uIl0sWyJwLW5ldXRyYWwtY29sb3IiLCIiXSxbMSwicG8tYnV0dG9uLWljb24iLDMsInAtaWNvbiJdLFsxLCJwby1idXR0b24tbGFiZWwiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihEbygwLCJidXR0b24iLDAsMSksRm8oImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBlLm9uQ2xpY2soKX0pLHZvKDIsdnksMiwwLCJkaXYiLDIpLHZvKDMsYnksMSwxLCJwby1pY29uIiwzKSx2byg0LHd5LDIsMSwic3BhbiIsNCksRW8oKSksMiZ0JiYoJG8oInBvLWJ1dHRvbi1kYW5nZXIiLCJkYW5nZXIiPT09ZS50eXBlKSgicG8tYnV0dG9uLWxpbmsiLCJsaW5rIj09PWUudHlwZSkoInBvLWJ1dHRvbi1wcmltYXJ5IiwicHJpbWFyeSI9PT1lLnR5cGUpKCJwby1idXR0b24tc20iLGUuc21hbGwpKCJwby1jbGlja2FibGUiLCJsaW5rIj09PWUudHlwZSksQ28oImRpc2FibGVkIixlLmRpc2FibGVkfHxlLmxvYWRpbmcpLFdzKDIpLENvKCJuZ0lmIixlLmxvYWRpbmcpLFdzKDEpLENvKCJuZ0lmIixlLmljb24pLFdzKDEpLENvKCJuZ0lmIixlLmxhYmVsKSl9LGRpcmVjdGl2ZXM6W2loLEl2LEF2XSxlbmNhcHN1bGF0aW9uOjIsY2hhbmdlRGV0ZWN0aW9uOjB9KSx0fSkoKSwkdj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbeWgsTnYsVHZdXX0pLHR9KSgpO2NvbnN0IHp2PVsiYm90dG9tIiwiYm90dG9tLWxlZnQiLCJib3R0b20tcmlnaHQiLCJsZWZ0IiwibGVmdC10b3AiLCJsZWZ0LWJvdHRvbSIsInRvcCIsInRvcC1yaWdodCIsInRvcC1sZWZ0IiwicmlnaHQiLCJyaWdodC1ib3R0b20iLCJyaWdodC10b3AiXTtsZXQgcXY9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuZGlmZmVyZW5jZURpYWdvbmFsVG9XaWR0aEFycm93PTMsdGhpcy5pc1NldEVsZW1lbnRXaWR0aD0hMSx0aGlzLm9mZnNldEFycm93PTEyfWFkanVzdFBvc2l0aW9uKHQpe2NvbnN0IGU9dHx8ImJvdHRvbSI7dGhpcy5lbGVtZW50UG9zaXRpb24oZSksdGhpcy5jdXN0b21Qb3NpdGlvbnMmJnRoaXMuY3VzdG9tUG9zaXRpb25zLmxlbmd0aD90aGlzLmFkanVzdEN1c3RvbVBvc2l0aW9uKGUpOnRoaXMuYWRqdXN0RGVmYXVsdFBvc2l0aW9uKGUpfWdldEFycm93RGlyZWN0aW9uKCl7cmV0dXJuIHRoaXMuYXJyb3dEaXJlY3Rpb259c2V0RWxlbWVudHModCxlLG4scixzPSExLGk9ITEpe3RoaXMuZWxlbWVudD10IGluc3RhbmNlb2YgQWE/dC5uYXRpdmVFbGVtZW50OnQsdGhpcy50YXJnZXRFbGVtZW50PW4gaW5zdGFuY2VvZiBBYT9uLm5hdGl2ZUVsZW1lbnQ6bix0aGlzLmVsZW1lbnRPZmZzZXQ9ZSx0aGlzLmN1c3RvbVBvc2l0aW9ucz1yLHRoaXMuaXNTZXRFbGVtZW50V2lkdGg9cyx0aGlzLmlzQ29ybmVyQWxpZ25lZD1pfWFkanVzdEN1c3RvbVBvc2l0aW9uKHQpe2NvbnN0IGU9dGhpcy5jdXN0b21Qb3NpdGlvbnMubGVuZ3RoO2xldCBuPTA7Zm9yKDtuKys8ZTspdGhpcy5vdmVyZmxvd0FsbFNpZGVzKHQpJiYodD10aGlzLm5leHRQb3NpdGlvbih0LHRoaXMuY3VzdG9tUG9zaXRpb25zKSx0aGlzLmVsZW1lbnRQb3NpdGlvbih0KSl9YWRqdXN0RGVmYXVsdFBvc2l0aW9uKHQpe2NvbnN0IGU9dGhpcy5nZXRNYWluUG9zaXRpb25zKCksbj1lLmxlbmd0aDtsZXQgcj0wO2Zvcig7cisrPG47KXtjb25zdCBuPXRoaXMuZ2V0TWFpblBvc2l0aW9uKHQpO2lmKHRoaXMuZWxlbWVudFBvc2l0aW9uKHQpLCF0aGlzLm92ZXJmbG93TWFpbihuKSlyZXR1cm4gdGhpcy5vdmVyZmxvd0FsbFNpZGVzKHQpP3ZvaWQgdGhpcy52ZXJpZnlTdWJQb3NpdGlvbnModCk6dm9pZCAwO3Q9dGhpcy5uZXh0UG9zaXRpb24obixlKX19ZWxlbWVudFBvc2l0aW9uKHQpe3RoaXMuaXNDb3JuZXJBbGlnbmVkP3RoaXMuc2V0QWxpZ25lZEVsZW1lbnRQb3NpdGlvbih0KTp0aGlzLnNldEVsZW1lbnRQb3NpdGlvbih0KX1nZXRNYWluUG9zaXRpb24odCl7cmV0dXJuIHQuaW5kZXhPZigiLSIpPi0xP3Quc3Vic3RyaW5nKDAsdC5pbmRleE9mKCItIikpOnR9Z2V0TWFpblBvc2l0aW9ucygpe3JldHVybiB0aGlzLmN1c3RvbVBvc2l0aW9ucyYmdGhpcy5jdXN0b21Qb3NpdGlvbnMubGVuZ3RoP3RoaXMuZ2V0TWFpblBvc2l0aW9uc0J5Q3VzdG9tUG9zaXRpb25zKHRoaXMuY3VzdG9tUG9zaXRpb25zKTpbInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCJdfWdldE1haW5Qb3NpdGlvbnNCeUN1c3RvbVBvc2l0aW9ucyh0KXtjb25zdCBlPVtdLG49dC5sZW5ndGg7Zm9yKGxldCByPTA7cjxuO3IrKyl7Y29uc3Qgbj10aGlzLmdldE1haW5Qb3NpdGlvbih0W3JdKTtlLmluY2x1ZGVzKG4pfHxlLnB1c2gobil9cmV0dXJuIGV9Z2V0T3ZlcmZsb3dzKCl7Y29uc3QgdD10aGlzLmdldFNpemVzQW5kUG9zaXRpb25zKCk7cmV0dXJue3JpZ2h0OnQuZWxlbWVudC5yaWdodD50LndpbmRvdy5pbm5lcldpZHRoLHRvcDp0LmVsZW1lbnQudG9wPD0wLGxlZnQ6dC5lbGVtZW50LmxlZnQ8PTAsYm90dG9tOnQuZWxlbWVudC5ib3R0b20+dC53aW5kb3cuaW5uZXJIZWlnaHR9fWdldFNpemVzQW5kUG9zaXRpb25zKCl7cmV0dXJue3dpbmRvdzp7c2Nyb2xsWTp3aW5kb3cuc2Nyb2xsWSxzY3JvbGxYOndpbmRvdy5zY3JvbGxYLGlubmVyV2lkdGg6d2luZG93LmlubmVyV2lkdGgsaW5uZXJIZWlnaHQ6d2luZG93LmlubmVySGVpZ2h0fSxlbGVtZW50OnRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx0YXJnZXQ6dGhpcy50YXJnZXRFbGVtZW50P3RoaXMudGFyZ2V0RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTp7dG9wOjAsYm90dG9tOjAscmlnaHQ6MCxsZWZ0OjB9fX1uZXh0UG9zaXRpb24odCxlPVtdKXtjb25zdCBuPWUuaW5kZXhPZih0KSxyPW4rMTtyZXR1cm4gbj4tMSYmcjxlLmxlbmd0aD9lW3JdOmVbMF19b3ZlcmZsb3dBbGxTaWRlcyh0KXtjb25zdCBlPXRoaXMuZ2V0T3ZlcmZsb3dzKCk7c3dpdGNoKHQpe2Nhc2UidG9wIjpjYXNlInRvcC1yaWdodCI6cmV0dXJuIGUudG9wfHxlLnJpZ2h0fHxlLmxlZnQ7Y2FzZSJ0b3AtbGVmdCI6cmV0dXJuIGUudG9wfHxlLmxlZnR8fGUucmlnaHQ7Y2FzZSJyaWdodCI6cmV0dXJuIGUucmlnaHR8fGUudG9wfHxlLmJvdHRvbTtjYXNlInJpZ2h0LXRvcCI6cmV0dXJuIGUucmlnaHR8fGUudG9wO2Nhc2UicmlnaHQtYm90dG9tIjpyZXR1cm4gZS5yaWdodHx8ZS5ib3R0b207Y2FzZSJib3R0b20iOmNhc2UiYm90dG9tLXJpZ2h0IjpyZXR1cm4gZS5ib3R0b218fGUucmlnaHR8fGUubGVmdDtjYXNlImJvdHRvbS1sZWZ0IjpyZXR1cm4gZS5ib3R0b218fGUubGVmdHx8ZS5yaWdodDtjYXNlImxlZnQiOnJldHVybiBlLmxlZnR8fGUudG9wfHxlLmJvdHRvbTtjYXNlImxlZnQtdG9wIjpyZXR1cm4gZS5sZWZ0fHxlLnRvcDtjYXNlImxlZnQtYm90dG9tIjpyZXR1cm4gZS5sZWZ0fHxlLmJvdHRvbX19b3ZlcmZsb3dNYWluKHQpe2NvbnN0IGU9dGhpcy5nZXRPdmVyZmxvd3MoKTtzd2l0Y2godCl7Y2FzZSJ0b3AiOnJldHVybiBlLnRvcDtjYXNlInJpZ2h0IjpyZXR1cm4gZS5yaWdodDtjYXNlImJvdHRvbSI6cmV0dXJuIGUuYm90dG9tO2Nhc2UibGVmdCI6cmV0dXJuIGUubGVmdH19c2V0QWxpZ25lZEFycm93RGlyZWN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlInRvcC1sZWZ0IjpyZXR1cm4iYm90dG9tLWxlZnQiO2Nhc2UidG9wLXJpZ2h0IjpyZXR1cm4iYm90dG9tLXJpZ2h0IjtjYXNlImJvdHRvbS1yaWdodCI6cmV0dXJuInRvcC1yaWdodCI7Y2FzZSJib3R0b20tbGVmdCI6cmV0dXJuInRvcC1sZWZ0In19c2V0QWxpZ25lZEJvdHRvbVBvc2l0aW9ucyh0LGUpe3RoaXMuZWxlbWVudC5zdHlsZS50b3A9ZS50YXJnZXQuYm90dG9tK3RoaXMuZWxlbWVudE9mZnNldCsicHgiLHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PWUudGFyZ2V0LmxlZnQtdCsicHgifXNldEFsaWduZWRFbGVtZW50UG9zaXRpb24odCl7dGhpcy5zZXRFbGVtZW50V2lkdGgoKTtjb25zdCBlPXRoaXMuZ2V0U2l6ZXNBbmRQb3NpdGlvbnMoKTtzd2l0Y2godCl7Y2FzZSJib3R0b20tbGVmdCI6dGhpcy5zZXRBbGlnbmVkQm90dG9tUG9zaXRpb25zKDAsZSk7YnJlYWs7Y2FzZSJib3R0b20tcmlnaHQiOnRoaXMuc2V0QWxpZ25lZEJvdHRvbVBvc2l0aW9ucyhlLmVsZW1lbnQud2lkdGgtZS50YXJnZXQud2lkdGgsZSk7YnJlYWs7Y2FzZSJ0b3AtbGVmdCI6dGhpcy5zZXRBbGlnbmVkVG9wUG9zaXRpb25zKDAsZSk7YnJlYWs7Y2FzZSJ0b3AtcmlnaHQiOnRoaXMuc2V0QWxpZ25lZFRvcFBvc2l0aW9ucyhlLmVsZW1lbnQud2lkdGgtZS50YXJnZXQud2lkdGgsZSl9dGhpcy5hcnJvd0RpcmVjdGlvbj10aGlzLnNldEFsaWduZWRBcnJvd0RpcmVjdGlvbih0KX1zZXRBbGlnbmVkVG9wUG9zaXRpb25zKHQsZSl7dGhpcy5lbGVtZW50LnN0eWxlLnRvcD1lLnRhcmdldC50b3AtZS5lbGVtZW50LmhlaWdodC10aGlzLmVsZW1lbnRPZmZzZXQrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD1lLnRhcmdldC5sZWZ0LXQrInB4In1zZXRBcnJvd0RpcmVjdGlvbih0KXtzd2l0Y2godCl7Y2FzZSJ0b3AiOnJldHVybiJib3R0b20iO2Nhc2UidG9wLWxlZnQiOnJldHVybiJib3R0b20tcmlnaHQiO2Nhc2UidG9wLXJpZ2h0IjpyZXR1cm4iYm90dG9tLWxlZnQiO2Nhc2UicmlnaHQiOnJldHVybiJsZWZ0IjtjYXNlInJpZ2h0LXRvcCI6cmV0dXJuImxlZnQtYm90dG9tIjtjYXNlInJpZ2h0LWJvdHRvbSI6cmV0dXJuImxlZnQtdG9wIjtjYXNlImJvdHRvbSI6cmV0dXJuInRvcCI7Y2FzZSJib3R0b20tcmlnaHQiOnJldHVybiJ0b3AtbGVmdCI7Y2FzZSJib3R0b20tbGVmdCI6cmV0dXJuInRvcC1yaWdodCI7Y2FzZSJsZWZ0IjpyZXR1cm4icmlnaHQiO2Nhc2UibGVmdC1ib3R0b20iOnJldHVybiJyaWdodC10b3AiO2Nhc2UibGVmdC10b3AiOnJldHVybiJyaWdodC1ib3R0b20ifX1zZXRCb3R0b21Qb3NpdGlvbnModCxlKXt0aGlzLmVsZW1lbnQuc3R5bGUudG9wPWUudGFyZ2V0LmJvdHRvbSt0aGlzLmVsZW1lbnRPZmZzZXQrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD1lLnRhcmdldC5sZWZ0K2UudGFyZ2V0LndpZHRoLzItdCsicHgifXNldEVsZW1lbnRQb3NpdGlvbih0KXt0aGlzLnNldEVsZW1lbnRXaWR0aCgpO2NvbnN0IGU9dGhpcy5nZXRTaXplc0FuZFBvc2l0aW9ucygpO3N3aXRjaCh0KXtjYXNlInRvcCI6dGhpcy5zZXRUb3BQb3NpdGlvbnMoZS5lbGVtZW50LndpZHRoLzIsZSk7YnJlYWs7Y2FzZSJ0b3AtbGVmdCI6dGhpcy5zZXRUb3BQb3NpdGlvbnMoZS5lbGVtZW50LndpZHRoLXRoaXMub2Zmc2V0QXJyb3ctdGhpcy5kaWZmZXJlbmNlRGlhZ29uYWxUb1dpZHRoQXJyb3csZSk7YnJlYWs7Y2FzZSJ0b3AtcmlnaHQiOnRoaXMuc2V0VG9wUG9zaXRpb25zKHRoaXMub2Zmc2V0QXJyb3crdGhpcy5kaWZmZXJlbmNlRGlhZ29uYWxUb1dpZHRoQXJyb3csZSk7YnJlYWs7Y2FzZSJyaWdodCI6dGhpcy5zZXRSaWdodFBvc2l0aW9ucyhlLmVsZW1lbnQuaGVpZ2h0LzIsZSk7YnJlYWs7Y2FzZSJyaWdodC10b3AiOnRoaXMuc2V0UmlnaHRQb3NpdGlvbnMoZS5lbGVtZW50LmhlaWdodC10aGlzLm9mZnNldEFycm93LXRoaXMuZGlmZmVyZW5jZURpYWdvbmFsVG9XaWR0aEFycm93LGUpO2JyZWFrO2Nhc2UicmlnaHQtYm90dG9tIjp0aGlzLnNldFJpZ2h0UG9zaXRpb25zKHRoaXMub2Zmc2V0QXJyb3csZSk7YnJlYWs7Y2FzZSJib3R0b20iOnRoaXMuc2V0Qm90dG9tUG9zaXRpb25zKGUuZWxlbWVudC53aWR0aC8yLGUpO2JyZWFrO2Nhc2UiYm90dG9tLXJpZ2h0Ijp0aGlzLnNldEJvdHRvbVBvc2l0aW9ucyh0aGlzLm9mZnNldEFycm93K3RoaXMuZGlmZmVyZW5jZURpYWdvbmFsVG9XaWR0aEFycm93LGUpO2JyZWFrO2Nhc2UiYm90dG9tLWxlZnQiOnRoaXMuc2V0Qm90dG9tUG9zaXRpb25zKGUuZWxlbWVudC53aWR0aC10aGlzLm9mZnNldEFycm93LXRoaXMuZGlmZmVyZW5jZURpYWdvbmFsVG9XaWR0aEFycm93LGUpO2JyZWFrO2Nhc2UibGVmdCI6dGhpcy5zZXRMZWZ0UG9zaXRpb25zKGUuZWxlbWVudC5oZWlnaHQvMixlKTticmVhaztjYXNlImxlZnQtYm90dG9tIjp0aGlzLnNldExlZnRQb3NpdGlvbnModGhpcy5vZmZzZXRBcnJvdyxlKTticmVhaztjYXNlImxlZnQtdG9wIjp0aGlzLnNldExlZnRQb3NpdGlvbnMoZS5lbGVtZW50LmhlaWdodC10aGlzLm9mZnNldEFycm93LGUpfXRoaXMuYXJyb3dEaXJlY3Rpb249dGhpcy5zZXRBcnJvd0RpcmVjdGlvbih0KX1zZXRFbGVtZW50V2lkdGgoKXt0aGlzLmlzU2V0RWxlbWVudFdpZHRoJiZ0aGlzLnRhcmdldEVsZW1lbnQmJih0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGg9YCR7dGhpcy50YXJnZXRFbGVtZW50LmNsaWVudFdpZHRofXB4YCl9c2V0TGVmdFBvc2l0aW9ucyh0LGUpe3RoaXMuZWxlbWVudC5zdHlsZS50b3A9ZS50YXJnZXQudG9wLXQrZS50YXJnZXQuaGVpZ2h0LzIrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD1lLnRhcmdldC5sZWZ0LWUuZWxlbWVudC53aWR0aC10aGlzLmVsZW1lbnRPZmZzZXQrInB4In1zZXRSaWdodFBvc2l0aW9ucyh0LGUpe3RoaXMuZWxlbWVudC5zdHlsZS50b3A9ZS50YXJnZXQudG9wLXQrZS50YXJnZXQuaGVpZ2h0LzIrInB4Iix0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD1lLnRhcmdldC5yaWdodCt0aGlzLmVsZW1lbnRPZmZzZXQrInB4In1zZXRUb3BQb3NpdGlvbnModCxlKXt0aGlzLmVsZW1lbnQuc3R5bGUudG9wPWUudGFyZ2V0LnRvcC1lLmVsZW1lbnQuaGVpZ2h0LXRoaXMuZWxlbWVudE9mZnNldCsicHgiLHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PWUudGFyZ2V0LmxlZnQrZS50YXJnZXQud2lkdGgvMi10KyJweCJ9dmVyaWZ5U3ViUG9zaXRpb25zKHQpe3QuaW5kZXhPZigiLSIpPi0xJiYodD10LnN1YnN0cmluZygwLHQuaW5kZXhPZigiLSIpKSx0aGlzLmVsZW1lbnRQb3NpdGlvbih0KSk7bGV0IGU9MDtmb3IoO2UrKzwzOyl7aWYoIXRoaXMub3ZlcmZsb3dBbGxTaWRlcyh0KSlyZXR1cm4gbnVsbDt0PXRoaXMubmV4dFBvc2l0aW9uKHQsenYpLHRoaXMuZWxlbWVudFBvc2l0aW9uKHQpfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksV3Y9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3loXV19KSx0fSkoKSxHdj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbeWgsJHYsV3ZdXX0pLHR9KSgpLFp2PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmRhdGVSZWdleD1uZXcgUmVnRXhwKCJeKD86WzAtOV0pXFxkezF9KD86WzAtOV0pXFxkezF9LSg/OjBbMS05XXwxWzAtMl0pLSg/OjBbMS05XXxbMTJdXFxkfDNbMDFdKSQiKSx0aGlzLmlzb1JlZ2V4PW5ldyBSZWdFeHAoIl4oPzpbMC05XSlcXGR7MX0oPzpbMC05XSlcXGR7MX0tKD86MFsxLTldfDFbMC0yXSktKD86MFsxLTldfFsxMl1cXGR8M1swMV0pVCg/OlswMV1cXGR8MlswLTNdKTpbMC01XVxcZDpbMC01XVxcZCg/Olp8LTBbMS05XXwtMVxcZHwtMlswLTNdfC0wMDo/KD86MFsxLTldfFswLTVdXFxkKXxcXCtbMDFdXFxkfFxcKzJbMC0zXSkoPzp8Oj9bMC01XVxcZCkkIil9Y29udmVydElzb1RvRGF0ZSh0LGUsbil7aWYodCl7Y29uc3R7eWVhcjpyLG1vbnRoOnMsZGF5Oml9PXRoaXMuZ2V0RGF0ZUZyb21Jc28odCk7aWYoZSl7Y29uc3QgdD1uZXcgRGF0ZShyLHMtMSxpLDAsMCwwKTtyZXR1cm4gdGhpcy5zZXRZZWFyRnJvbTBUbzEwMCh0LHIpLHR9aWYobil7Y29uc3QgdD1uZXcgRGF0ZShyLHMtMSxpLDIzLDU5LDU5KTtyZXR1cm4gdGhpcy5zZXRZZWFyRnJvbTBUbzEwMCh0LHIpLHR9e2NvbnN0IGU9RGF0ZS5wYXJzZSh0KSxuPTZlNCoobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCk7cmV0dXJuIG5ldyBEYXRlKGUrbil9fX1jb252ZXJ0RGF0ZVRvSVNPKHQpe2lmKHQpe2NvbnN0IGU9dC5nZXRGdWxsWWVhcigpLG49dC5nZXRNb250aCgpKzEscj10LmdldERhdGUoKTwxMD8iMCIrdC5nZXREYXRlKCk6dC5nZXREYXRlKCkscz1uPDEwPyIwIituOm47cmV0dXJuIHRoaXMuZm9ybWF0WWVhcihlKSsiLSIrcysiLSIrcn1yZXR1cm4gbnVsbH1mb3JtYXRZZWFyKHQpe3JldHVybiB0Pjk5OT90LnRvU3RyaW5nKCk6dD45OSYmdDwxZTM/YDAke3R9YDp0PjkmJnQ8MTAwP2AwMCR7dH1gOnQ+PTAmJnQ8MTA/YDAwMCR7dH1gOnZvaWQgMH1nZXREYXRlRnJvbUlzbyh0KXtjb25zdCBlPXBhcnNlSW50KHQuc3Vic3RyaW5nKDgsMTApLDEwKSxuPXBhcnNlSW50KHQuc3Vic3RyaW5nKDUsNyksMTApO3JldHVybnt5ZWFyOnBhcnNlSW50KHQuc3Vic3RyaW5nKDAsNCksMTApLG1vbnRoOm4sZGF5OmV9fWdldERhdGVGb3JEYXRlUmFuZ2UodCxlKXtjb25zdCBuPWU/WzAsMCwwXTpbMjMsNTksNTldO2lmKHQgaW5zdGFuY2VvZiBEYXRlKXtjb25zdHt5ZWFyOmUsbW9udGg6cixkYXk6c309dGhpcy5zcGxpdERhdGUodCksaT1uZXcgRGF0ZShlLHIscywuLi5uKTtyZXR1cm4gdGhpcy5zZXRZZWFyRnJvbTBUbzEwMChpLGUpLGl9aWYodGhpcy5pc1ZhbGlkSXNvKHQpKXJldHVybiB0aGlzLmNvbnZlcnRJc29Ub0RhdGUodCxlLCFlKX1pc0RhdGVSYW5nZVZhbGlkKHQ9IiIsZT0iIil7Y29uc3Qgbj10LnNwbGl0KCItIikubWFwKHQ9PnBhcnNlSW50KHQsMTApKSxyPWUuc3BsaXQoIi0iKS5tYXAodD0+cGFyc2VJbnQodCwxMCkpO2ZvcihsZXQgcz0wO3M8PW4ubGVuZ3RoO3MrKyl7aWYobltzXT5yW3NdKXJldHVybiEwO2lmKG5bc108cltzXSlyZXR1cm4hMX1yZXR1cm4hMH1pc1ZhbGlkSXNvKHQpe3JldHVybiB0aGlzLmRhdGVSZWdleC50ZXN0KHQpfHx0aGlzLmlzb1JlZ2V4LnRlc3QodCl9c2V0WWVhckZyb20wVG8xMDAodCxlKXtlPj0wJiZlPDEwMCYmdC5zZXRGdWxsWWVhcihlKX1zcGxpdERhdGUodCl7cmV0dXJue3llYXI6dC5nZXRGdWxsWWVhcigpLG1vbnRoOnQuZ2V0TW9udGgoKSxkYXk6dC5nZXREYXRlKCl9fXZhbGlkYXRlRGF0ZVJhbmdlKHQsZSxuKXtyZXR1cm4gZSYmbj90Pj1lJiZ0PD1uOmUmJiFuP3Q+PWU6ISghZSYmbil8fHQ8PW59dmFsaWRhdGVEYXRlKHQpe2NvbnN0IGU9dCBpbnN0YW5jZW9mIERhdGU/dGhpcy5jb252ZXJ0RGF0ZVRvSVNPKHQpOnQ7cmV0dXJuIHRoaXMuaXNWYWxpZElzbyhlKT9lOnZvaWQgMH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgdH0sdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpLFl2PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbWnZdfSksdH0pKCksS3Y9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3loXV19KSx0fSkoKTtNYXRoLE1hdGgsTWF0aC5mbG9vcigyNSk7dmFyIFF2PWZ1bmN0aW9uKHQpe3JldHVybiB0LkNvbG9yMDE9ImNvbG9yLTAxIix0LkNvbG9yMDI9ImNvbG9yLTAyIix0LkNvbG9yMDM9ImNvbG9yLTAzIix0LkNvbG9yMDQ9ImNvbG9yLTA0Iix0LkNvbG9yMDU9ImNvbG9yLTA1Iix0LkNvbG9yMDY9ImNvbG9yLTA2Iix0LkNvbG9yMDc9ImNvbG9yLTA3Iix0LkNvbG9yMDg9ImNvbG9yLTA4Iix0LkNvbG9yMDk9ImNvbG9yLTA5Iix0LkNvbG9yMTA9ImNvbG9yLTEwIix0LkNvbG9yMTE9ImNvbG9yLTExIix0LkNvbG9yMTI9ImNvbG9yLTEyIix0fSh7fSk7T2JqZWN0LnZhbHVlcyhRdiksTWF0aCxNYXRoLmZsb29yKDI1KSxNYXRoLE1hdGg7bGV0IFh2PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t5aCxXdl1dfSksdH0pKCksSnY9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3loXV19KSx0fSkoKSx0Yj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbeWhdXX0pLHR9KSgpLGViPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t5aCx0Yl1dfSksdH0pKCksbmI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3loXV19KSx0fSkoKSxyYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW3loLFR2XV19KSx0fSkoKSxzYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbeWgscmJdXX0pLHR9KSgpLGliPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmVycm9yUGF0dGVybj0iIn19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1Y21wPVV0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWZpZWxkLWNvbnRhaW5lci1ib3R0b20iXV0saW5wdXRzOntlcnJvclBhdHRlcm46WyJwLWVycm9yLXBhdHRlcm4iLCJlcnJvclBhdHRlcm4iXX0sZGVjbHM6Mix2YXJzOjEsY29uc3RzOltbMSwicG8tZmllbGQtY29udGFpbmVyLWJvdHRvbSJdLFsiY2xhc3MiLCJwby1maWVsZC1jb250YWluZXItYm90dG9tLXRleHQtZXJyb3IiLDQsIm5nSWYiXSxbMSwicG8tZmllbGQtY29udGFpbmVyLWJvdHRvbS10ZXh0LWVycm9yIl0sWzEsInBvLWljb24iLCJwby1pY29uLXdhcm5pbmciLCJwby1maWVsZC1jb250YWluZXItaWNvbi1lcnJvciJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKERvKDAsImRpdiIsMCksdm8oMSxDeSwzLDEsInNwYW4iLDEpLEVvKCkpLDImdCYmKFdzKDEpLENvKCJuZ0lmIixlLmVycm9yUGF0dGVybikpfSxkaXJlY3RpdmVzOltpaF0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksdH0pKCk7Y29uc3Qgb2I9e2VuOntvcHRpb25hbDoiKE9wdGlvbmFsKSJ9LGVzOntvcHRpb25hbDoiKE9wY2lvbmFsKSJ9LHB0OntvcHRpb25hbDoiKE9wY2lvbmFsKSJ9LHJ1OntvcHRpb25hbDoiKFx1MDQxZlx1MDQzZVx1MDQzNlx1MDQzNVx1MDQzYlx1MDQzMFx1MDQzZFx1MDQzOFx1MDQ0ZSkifX07bGV0IGFiPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5fb3B0aW9uYWw9ITE7Y29uc3QgZT10LmdldFNob3J0TGFuZ3VhZ2UoKTt0aGlzLmxpdGVyYWxzPU9iamVjdC5hc3NpZ24oe30sb2JbZV0pfXNldCBvcHRpb25hbCh0KXt0aGlzLl9vcHRpb25hbD1idih0KX1nZXQgb3B0aW9uYWwoKXtyZXR1cm4gdGhpcy5fb3B0aW9uYWx9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHdvKFN2KSl9LHQuXHUwMjc1Y21wPVV0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWZpZWxkLWNvbnRhaW5lciJdXSxpbnB1dHM6e29wdGlvbmFsOlsicC1vcHRpb25hbCIsIm9wdGlvbmFsIl0sbGFiZWw6WyJwLWxhYmVsIiwibGFiZWwiXSxoZWxwOlsicC1oZWxwIiwiaGVscCJdfSxuZ0NvbnRlbnRTZWxlY3RvcnM6Y3ksZGVjbHM6Nyx2YXJzOjMsY29uc3RzOltbMSwicG8tZmllbGQtY29udGFpbmVyIl0sWzEsInBvLWZpZWxkLWNvbnRhaW5lci10aXRsZSJdLFsxLCJwby1maWVsZC10aXRsZSJdLFsiY2xhc3MiLCJwby1maWVsZC1vcHRpb25hbCIsNCwibmdJZiJdLFsiY2xhc3MiLCJwby1maWVsZC1oZWxwIiw0LCJuZ0lmIl0sWzEsInBvLWZpZWxkLW9wdGlvbmFsIl0sWzEsInBvLWZpZWxkLWhlbHAiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihMbygpLERvKDAsImRpdiIsMCksRG8oMSwiZGl2IiwxKSxEbygyLCJzcGFuIiwyKSx0YSgzKSxFbygpLHZvKDQsX3ksMiwxLCJzcGFuIiwzKSxFbygpLHZvKDUsRHksMiwxLCJkaXYiLDQpLE5vKDYpLEVvKCkpLDImdCYmKFdzKDMpLGVhKGUubGFiZWwpLFdzKDEpLENvKCJuZ0lmIixlLm9wdGlvbmFsJiYoZS5sYWJlbHx8ZS5oZWxwKSksV3MoMSksQ28oIm5nSWYiLGUuaGVscCkpfSxkaXJlY3RpdmVzOltpaF0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksdH0pKCksbGI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3loXV19KSx0fSkoKSx1Yj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbeWgscHAsbGJdXX0pLHR9KSgpLGNiPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmRlZmF1bHRWYWx1ZT0iIix0aGlzLmNoYW5nZUV2ZW50PW5ldyBUbH1jbGVhcigpe3RoaXMuc2V0SW5wdXRWYWx1ZSh0aGlzLmRlZmF1bHRWYWx1ZSksdGhpcy5jaGFuZ2VFdmVudC5lbWl0KHRoaXMuZGVmYXVsdFZhbHVlKX1zaG93SWNvbigpe3JldHVybiB0aGlzLmRlZmF1bHRWYWx1ZSE9PXRoaXMuZ2V0SW5wdXRWYWx1ZSgpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxpbnB1dHM6e2RlZmF1bHRWYWx1ZTpbInAtZGVmYXVsdC12YWx1ZSIsImRlZmF1bHRWYWx1ZSJdLGlucHV0UmVmOlsicC1lbGVtZW50LXJlZiIsImlucHV0UmVmIl19LG91dHB1dHM6e2NoYW5nZUV2ZW50OiJwLWNoYW5nZS1ldmVudCJ9fSksdH0pKCksaGI9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGNie3NldElucHV0VmFsdWUodCl7dGhpcy5pbnB1dFJlZiYmdGhpcy5pbnB1dFJlZi5uYXRpdmVFbGVtZW50JiYodGhpcy5pbnB1dFJlZi5uYXRpdmVFbGVtZW50LnZhbHVlPXQpfWdldElucHV0VmFsdWUoKXtpZih0aGlzLmlucHV0UmVmJiZ0aGlzLmlucHV0UmVmLm5hdGl2ZUVsZW1lbnQpcmV0dXJuIHRoaXMuaW5wdXRSZWYubmF0aXZlRWxlbWVudC52YWx1ZX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKCl7bGV0IGU7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybihlfHwoZT1Wbih0KSkpKG58fHQpfX0oKSx0Llx1MDI3NWNtcD1VdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1jbGVhbiJdXSxmZWF0dXJlczpbcm9dLGRlY2xzOjEsdmFyczoxLGNvbnN0czpbWyJjbGFzcyIsInBvLWljb24gcG8tZmllbGQtaWNvbiBwby1pY29uLWNsb3NlIiwzLCJjbGljayIsNCwibmdJZiJdLFsxLCJwby1pY29uIiwicG8tZmllbGQtaWNvbiIsInBvLWljb24tY2xvc2UiLDMsImNsaWNrIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiZ2bygwLEV5LDEsMCwic3BhbiIsMCksMiZ0JiZDbygibmdJZiIsZS5zaG93SWNvbigpKX0sZGlyZWN0aXZlczpbaWhdLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLGRiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t5aF1dfSksdH0pKCkscGI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3loLHBwLGxiLGRiLEt2XV19KSx0fSkoKTtjb25zdCBmYj17ZW46e2Nsb3NlOiJDbG9zZSJ9LGVzOntjbG9zZToiQ2VycmFyIn0scHQ6e2Nsb3NlOiJGZWNoYXIifSxydTp7Y2xvc2U6Ilx1MDQzMVx1MDQzYlx1MDQzOFx1MDQzN1x1MDQzYVx1MDQzZSJ9fTtsZXQgZ2I9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmlzSGlkZGVuPSEwLHRoaXMub25YQ2xvc2VkPW5ldyBUbCx0aGlzLl9oaWRlQ2xvc2U9ITEsdGhpcy5fc2l6ZT0ibWQiLHRoaXMuY2xpY2tPdXQ9ITEsdGhpcy5sYW5ndWFnZT10LmdldFNob3J0TGFuZ3VhZ2UoKSx0aGlzLmxpdGVyYWxzPU9iamVjdC5hc3NpZ24oe30sZmJbdGhpcy5sYW5ndWFnZV0pfXNldCBzaXplKHQpe3RoaXMuX3NpemU9WyJzbSIsIm1kIiwibGciLCJ4bCIsImF1dG8iXS5pbmRleE9mKHQpPi0xP3Q6Im1kIn1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLl9zaXplfXNldCBzZXRDbGlja091dCh0KXt0aGlzLmNsaWNrT3V0PSIiIT09dCYmYnYodCl9c2V0IGhpZGVDbG9zZSh0KXt0aGlzLl9oaWRlQ2xvc2U9YnYodCl9Z2V0IGhpZGVDbG9zZSgpe3JldHVybiB0aGlzLl9oaWRlQ2xvc2V9Y2xvc2UodD0hMSl7dGhpcy5pc0hpZGRlbj0hMCx0JiZ0aGlzLm9uWENsb3NlZC5lbWl0KHQpfW9wZW4oKXt0aGlzLnZhbGlkUHJpbWFyeUFjdGlvbigpLHRoaXMuaXNIaWRkZW49ITF9dmFsaWRQcmltYXJ5QWN0aW9uKCl7dGhpcy5wcmltYXJ5QWN0aW9ufHwodGhpcy5wcmltYXJ5QWN0aW9uPXthY3Rpb246KCk9PnRoaXMuY2xvc2UoKSxsYWJlbDp0aGlzLmxpdGVyYWxzLmNsb3NlfSksdGhpcy5wcmltYXJ5QWN0aW9uLmFjdGlvbnx8KHRoaXMucHJpbWFyeUFjdGlvbi5hY3Rpb249KCk9PnRoaXMuY2xvc2UoKSksdGhpcy5wcmltYXJ5QWN0aW9uLmxhYmVsfHwodGhpcy5wcmltYXJ5QWN0aW9uLmxhYmVsPXRoaXMubGl0ZXJhbHMuY2xvc2UpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh3byhTdikpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0LGlucHV0czp7c2l6ZTpbInAtc2l6ZSIsInNpemUiXSxzZXRDbGlja091dDpbInAtY2xpY2stb3V0Iiwic2V0Q2xpY2tPdXQiXSxoaWRlQ2xvc2U6WyJwLWhpZGUtY2xvc2UiLCJoaWRlQ2xvc2UiXSxwcmltYXJ5QWN0aW9uOlsicC1wcmltYXJ5LWFjdGlvbiIsInByaW1hcnlBY3Rpb24iXSx0aXRsZTpbInAtdGl0bGUiLCJ0aXRsZSJdLHNlY29uZGFyeUFjdGlvbjpbInAtc2Vjb25kYXJ5LWFjdGlvbiIsInNlY29uZGFyeUFjdGlvbiJdfX0pLHR9KSgpLG1iPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmFjdGl2ZU92ZXJsYXk9W119fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHR9LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKSx5Yj0oKCk9PntjbGFzcyB0IGV4dGVuZHMgZ2J7Y29uc3RydWN0b3IodCxlKXtzdXBlcihlKSx0aGlzLnBvQWN0aXZlT3ZlcmxheVNlcnZpY2U9dCx0aGlzLmZvY3VzYWJsZUVsZW1lbnRzPSJpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgYSIsdGhpcy5pZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gTWF0aC5mbG9vcig2NTUzNiooMStNYXRoLnJhbmRvbSgpKSkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKX1yZXR1cm4gdCgpK3QoKSsiLSIrdCgpKyItIit0KCkrIi0iK3QoKSsiLSIrdCgpK3QoKSt0KCl9KCl9Y2xvc2UodD0hMSl7dGhpcy5wb0FjdGl2ZU92ZXJsYXlTZXJ2aWNlLmFjdGl2ZU92ZXJsYXkucG9wKCksc3VwZXIuY2xvc2UodCksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpLHRoaXMuc291cmNlRWxlbWVudCYmdGhpcy5zb3VyY2VFbGVtZW50LmZvY3VzKCl9Y2xvc2VNb2RhbE9uRXNjYXBlS2V5KHQpe3RoaXMuaGlkZUNsb3NlfHwodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5jbG9zZSgpKX1nZXRQcmltYXJ5QWN0aW9uQnV0dG9uVHlwZSgpe3JldHVybiB0aGlzLnByaW1hcnlBY3Rpb24uZGFuZ2VyPyJkYW5nZXIiOiJwcmltYXJ5In1nZXRTZWNvbmRhcnlBY3Rpb25CdXR0b25UeXBlKCl7cmV0dXJuIHRoaXMuc2Vjb25kYXJ5QWN0aW9uJiZ0aGlzLnNlY29uZGFyeUFjdGlvbi5kYW5nZXImJiF0aGlzLnByaW1hcnlBY3Rpb24uZGFuZ2VyPyJkYW5nZXIiOiJkZWZhdWx0In1vbkNsaWNrT3V0KHQpe3RoaXMuY2xpY2tPdXQmJiF0aGlzLm1vZGFsQ29udGVudC5uYXRpdmVFbGVtZW50LmNvbnRhaW5zKHQudGFyZ2V0KSYmdGhpcy5jbG9zZSgpfW9wZW4oKXt0aGlzLnNvdXJjZUVsZW1lbnQ9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCxzdXBlci5vcGVuKCksdGhpcy5oYW5kbGVGb2N1cygpfWhhbmRsZUZvY3VzKCl7dGhpcy5wb0FjdGl2ZU92ZXJsYXlTZXJ2aWNlLmFjdGl2ZU92ZXJsYXkucHVzaCh0aGlzLmlkKSxzZXRUaW1lb3V0KCgpPT57dGhpcy5tb2RhbENvbnRlbnQmJih0aGlzLmluaXRGb2N1cygpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLmZvY3VzRnVuY3Rpb24sITApKX0pfWluaXRGb2N1cygpe3RoaXMuZm9jdXNGdW5jdGlvbj10PT57dGhpcy5tb2RhbENvbnRlbnQubmF0aXZlRWxlbWVudC5jb250YWlucyh0LnRhcmdldCl8fHRoaXMucG9BY3RpdmVPdmVybGF5U2VydmljZS5hY3RpdmVPdmVybGF5W3RoaXMucG9BY3RpdmVPdmVybGF5U2VydmljZS5hY3RpdmVPdmVybGF5Lmxlbmd0aC0xXSE9PXRoaXMuaWR8fCh0LnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuZmlyc3RFbGVtZW50LmZvY3VzKCkpfSx0aGlzLnNldEZpcnN0RWxlbWVudCgpLHRoaXMuaGlkZUNsb3NlP3RoaXMuZmlyc3RFbGVtZW50LmZvY3VzKCk6KHRoaXMubW9kYWxDb250ZW50Lm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLmZvY3VzYWJsZUVsZW1lbnRzKVsxXXx8dGhpcy5tb2RhbENvbnRlbnQubmF0aXZlRWxlbWVudCkuZm9jdXMoKX1yZW1vdmVFdmVudExpc3RlbmVycygpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLmZvY3VzRnVuY3Rpb24sITApfXNldEZpcnN0RWxlbWVudCgpe3RoaXMuZmlyc3RFbGVtZW50PXRoaXMubW9kYWxDb250ZW50Lm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmZvY3VzYWJsZUVsZW1lbnRzKXx8dGhpcy5tb2RhbENvbnRlbnQubmF0aXZlRWxlbWVudH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkod28obWIpLHdvKFN2KSl9LHQuXHUwMjc1Y21wPVV0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLW1vZGFsIl1dLHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmSGwoeHksNSxBYSksMiZ0KXtsZXQgdDtCbCh0PSRsKCkpJiYoZS5tb2RhbENvbnRlbnQ9dC5maXJzdCl9fSxmZWF0dXJlczpbcm9dLG5nQ29udGVudFNlbGVjdG9yczpjeSxkZWNsczoxLHZhcnM6MSxjb25zdHM6W1siY2xhc3MiLCJwby1tb2RhbCIsInRhYmluZGV4IiwiMCIsMywia2V5ZG93bi5lc2MiLDQsIm5nSWYiXSxbInRhYmluZGV4IiwiMCIsMSwicG8tbW9kYWwiLDMsImtleWRvd24uZXNjIl0sWzEsInBvLW1vZGFsLW92ZXJsYXkiXSxbMSwicG8tbW9kYWwtY29udGFpbmVyIiwicG8tcGItMiIsInBvLXB0LTIiLDMsIm1vdXNlZG93biJdLFsxLCJwby1tb2RhbC12ZXJ0aWNhbC1hbGlnbiJdLFsidGFiaW5kZXgiLCItMSJdLFsibW9kYWxDb250ZW50IiwiIl0sWzEsInBvLW1vZGFsLWhlYWRlciJdLFsxLCJwby1tb2RhbC10aXRsZSIsInBvLXRleHQtZWxsaXBzaXMiXSxbImNsYXNzIiwicG8tbW9kYWwtaGVhZGVyLWNsb3NlLWJ1dHRvbiIsInRhYmluZGV4IiwiMCIsMywiY2xpY2siLDQsIm5nSWYiXSxbMSwicG8tbW9kYWwtYm9keSJdLFsxLCJwby1tb2RhbC1mb290ZXIiXSxbMywicC1kaXNhYmxlZCIsInAtbGFiZWwiLCJwLWxvYWRpbmciLCJwLXR5cGUiLCJwLWNsaWNrIiw0LCJuZ0lmIl0sWzEsInBvLWJ1dHRvbi1tb2RhbC1maXJzdC1hY3Rpb24iLDMsInAtZGlzYWJsZWQiLCJwLWxhYmVsIiwicC1sb2FkaW5nIiwicC10eXBlIiwicC1jbGljayJdLFsidGFiaW5kZXgiLCIwIiwxLCJwby1tb2RhbC1oZWFkZXItY2xvc2UtYnV0dG9uIiwzLCJjbGljayJdLFsxLCJwby1pY29uIiwicG8taWNvbi1jbG9zZSJdLFszLCJwLWRpc2FibGVkIiwicC1sYWJlbCIsInAtbG9hZGluZyIsInAtdHlwZSIsInAtY2xpY2siXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihMbygpLHZvKDAsT3ksMTUsMTAsImRpdiIsMCkpLDImdCYmQ28oIm5nSWYiLCFlLmlzSGlkZGVuKX0sZGlyZWN0aXZlczpbaWgsVXZdLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLHZiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t5aCwkdl1dfSksdH0pKCksYmI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3loXV19KSx0fSkoKSx3Yj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W21iXX0pLHR9KSgpLENiPSgoKT0+e2NsYXNzIHR7Z2V0Q29sb3IodCl7cmV0dXJuIE9iamVjdC52YWx1ZXMoUXYpLmluY2x1ZGVzKHQuY29sb3IpP3QuY29sb3I6dGhpcy5nZXRDb2xvckZyb21UeXBlKHQudHlwZXx8dC5jb2xvcil9Z2V0Q29sb3JGcm9tVHlwZSh0KXtzd2l0Y2godCl7Y2FzZSJkYW5nZXIiOnJldHVybiBRdi5Db2xvcjA3O2Nhc2Uic3VjY2VzcyI6cmV0dXJuIFF2LkNvbG9yMTE7Y2FzZSJ3YXJuaW5nIjpyZXR1cm4gUXYuQ29sb3IwODtkZWZhdWx0OnJldHVybiBRdi5Db2xvcjAxfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksX2I9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltDYl19KSx0fSkoKSxEYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLmNvbXBvbmVudFJlc29sdmVyPXQsdGhpcy5hcHBsaWNhdGlvblJlZj1lLHRoaXMuaW5qZWN0b3I9bn1jcmVhdGVDb21wb25lbnRJbkFwcGxpY2F0aW9uKHQpe2NvbnN0IGU9dGhpcy5jb21wb25lbnRSZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh0KS5jcmVhdGUodGhpcy5pbmplY3Rvcik7cmV0dXJuIHRoaXMuYXBwbGljYXRpb25SZWYuYXR0YWNoVmlldyhlLmhvc3RWaWV3KSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUuaG9zdFZpZXcucm9vdE5vZGVzWzBdKSxlfWRlc3Ryb3lDb21wb25lbnRJbkFwcGxpY2F0aW9uKHQpe3RoaXMuYXBwbGljYXRpb25SZWYuZGV0YWNoVmlldyh0Lmhvc3RWaWV3KSx0LmRlc3Ryb3koKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoRGEpLGFyKEx1KSxhcihlbykpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoYXIoRGEpLGFyKEx1KSxhcihCaSkpfSx0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QifSksdH0pKCksRWI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltEYl0saW1wb3J0czpbW11dfSksdH0pKCksU2I9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltxdl19KSx0fSkoKTt2YXIgeGI9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5BbGVydD0wXT0iQWxlcnQiLHRbdC5Db25maXJtPTFdPSJDb25maXJtIix0fSh7fSk7Y29uc3QgQWI9e2VuOntvazoiT2sifSxlczp7b2s6Ik9rIn0scHQ6e29rOiJPayJ9LHJ1OntvazoiXHUwNDFlXHUwNDNhIn19LFRiPXtlbjp7Y2FuY2VsOiJDYW5jZWwiLGNvbmZpcm06IkNvbmZpcm0ifSxlczp7Y2FuY2VsOiJDYW5jZWxhciIsY29uZmlybToiQ29uZmlybWFyIn0scHQ6e2NhbmNlbDoiQ2FuY2VsYXIiLGNvbmZpcm06IkNvbmZpcm1hciJ9LHJ1OntjYW5jZWw6Ilx1MDQzZVx1MDQ0Mlx1MDQzY1x1MDQzNVx1MDQzZFx1MDQzOFx1MDQ0Mlx1MDQ0YyIsY29uZmlybToiXHUwNDNmXHUwNDNlXHUwNDM0XHUwNDQyXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDM0XHUwNDM4XHUwNDQyXHUwNDRjIn19O2xldCBPYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMucHJpbWFyeUFjdGlvbj17bGFiZWw6Im9rIixhY3Rpb246KCk9Pnt9fSx0aGlzLmxhbmd1YWdlPXQuZ2V0U2hvcnRMYW5ndWFnZSgpfW5nT25EZXN0cm95KCl7dGhpcy5jbG9zZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfW5nT25Jbml0KCl7dGhpcy5jbG9zZVN1YnNjcmlwdGlvbj10aGlzLnBvTW9kYWwub25YQ2xvc2VkLnN1YnNjcmliZSh0PT50aGlzLmNsb3NlKCEwKSl9Y2xvc2UodD0hMSl7dCYmdGhpcy5jbG9zZUFjdGlvbiYmdGhpcy5jbG9zZUFjdGlvbigpLHRoaXMucG9Nb2RhbC5jbG9zZSgpLHRoaXMuZGVzdHJveSgpfWRlc3Ryb3koKXt0aGlzLmNvbXBvbmVudFJlZiYmdGhpcy5jb21wb25lbnRSZWYuZGVzdHJveSgpfWNvbmZpZ0RpYWxvZyh0LGUsbixyLHMpe3RoaXMucHJpbWFyeUFjdGlvbj17bGFiZWw6dCxhY3Rpb246KCk9PntlJiZlKCksdGhpcy5jbG9zZSgpfX0sbiYmKHRoaXMuc2Vjb25kYXJ5QWN0aW9uPXtsYWJlbDpuLGFjdGlvbjooKT0+e3ImJnIoKSx0aGlzLmNsb3NlKCl9fSksdGhpcy5jbG9zZUFjdGlvbj1zfW9wZW4odCxlLG4pe3N3aXRjaCh0aGlzLnRpdGxlPXQudGl0bGUsdGhpcy5tZXNzYWdlPXQubWVzc2FnZSx0aGlzLmNvbXBvbmVudFJlZj1uLHRoaXMuc2V0RGlhbG9nTGl0ZXJhbHModCxlKSxlKXtjYXNlIHhiLkNvbmZpcm06dGhpcy5jb25maWdEaWFsb2codGhpcy5saXRlcmFsc0NvbmZpcm0uY29uZmlybSx0LmNvbmZpcm0sdGhpcy5saXRlcmFsc0NvbmZpcm0uY2FuY2VsLHQuY2FuY2VsLHQuY2xvc2UpO2JyZWFrO2Nhc2UgeGIuQWxlcnQ6dGhpcy5jb25maWdEaWFsb2codGhpcy5saXRlcmFsc0FsZXJ0Lm9rLHQub2spfXRoaXMucG9Nb2RhbC5vcGVuKCl9c2V0RGlhbG9nTGl0ZXJhbHModCxlKXtjb25zdCBuPUFiLHI9VGIscz10LmxpdGVyYWxzO2U9PT14Yi5BbGVydD90aGlzLmxpdGVyYWxzQWxlcnQ9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbi5wdCksblt0aGlzLmxhbmd1YWdlXSkscyk6dGhpcy5saXRlcmFsc0NvbmZpcm09T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sci5wdCksclt0aGlzLmxhbmd1YWdlXSkscyl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHdvKFN2KSl9LHQuXHUwMjc1Y21wPVV0KHt0eXBlOnQsc2VsZWN0b3JzOltbIm5nLWNvbXBvbmVudCJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJkhsKHliLDcpLDImdCl7bGV0IHQ7QmwodD0kbCgpKSYmKGUucG9Nb2RhbD10LmZpcnN0KX19LGRlY2xzOjIsdmFyczo0LGNvbnN0czpbWzMsInAtdGl0bGUiLCJwLXByaW1hcnktYWN0aW9uIiwicC1zZWNvbmRhcnktYWN0aW9uIl0sWzMsImlubmVySHRtbCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKERvKDAsInBvLW1vZGFsIiwwKSxTbygxLCJkaXYiLDEpLEVvKCkpLDImdCYmKENvKCJwLXRpdGxlIixlLnRpdGxlKSgicC1wcmltYXJ5LWFjdGlvbiIsZS5wcmltYXJ5QWN0aW9uKSgicC1zZWNvbmRhcnktYWN0aW9uIixlLnNlY29uZGFyeUFjdGlvbiksV3MoMSksQ28oImlubmVySHRtbCIsZS5tZXNzYWdlLEtyKSl9LGRpcmVjdGl2ZXM6W3liXSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxGYj0oKCk9PntjbGFzcyB0IGV4dGVuZHMgY2xhc3N7Y29uZmlybSh0KXt0aGlzLm9wZW5EaWFsb2coeGIuQ29uZmlybSx0KX1hbGVydCh0KXt0aGlzLm9wZW5EaWFsb2coeGIuQWxlcnQsdCl9fXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMucG9Db21wb25lbnRJbmplY3Rvcj10fW9wZW5EaWFsb2codCxlKXtjb25zdCBuPXRoaXMucG9Db21wb25lbnRJbmplY3Rvci5jcmVhdGVDb21wb25lbnRJbkFwcGxpY2F0aW9uKE9iKTtuLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKSxuLmluc3RhbmNlLm9wZW4oZSx0LG4pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihEYikpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLGtiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbRmJdLGltcG9ydHM6W1t2Yl1dfSksdH0pKCk7dmFyIEliPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuQm90dG9tPTBdPSJCb3R0b20iLHRbdC5Ub3A9MV09IlRvcCIsdH0oe30pLFJiPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRXJyb3I9MF09IkVycm9yIix0W3QuSW5mb3JtYXRpb249MV09IkluZm9ybWF0aW9uIix0W3QuU3VjY2Vzcz0yXT0iU3VjY2VzcyIsdFt0Lldhcm5pbmc9M109Ildhcm5pbmciLHR9KHt9KTtsZXQgUGI9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5vcmllbnRhdGlvbj1JYi5Cb3R0b219fXtjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcigpLHRoaXMuY2hhbmdlRGV0ZWN0b3I9ZSx0aGlzLmVsZW1lbnRlUmVmPW4sdGhpcy5yZW5kZXJlcj1yLHRoaXMuYWxpdmU9ITAsdGhpcy5tYXJnaW49MjAsdGhpcy5vYnNlcnZhYmxlT25DbG9zZT1uZXcgRCx0aGlzLnRvYXN0ZXJQb3NpdGlvbj0icG8tdG9hc3Rlci1ib3R0b20ifW5nT25EZXN0cm95KCl7dGhpcy5hbGl2ZT0hMX1uZ0FmdGVyVmlld0luaXQoKXtzZXRUaW1lb3V0KCgpPT50aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMudG9hc3Rlci5uYXRpdmVFbGVtZW50LCJwby10b2FzdGVyLXZpc2libGUiKSl9Y2hhbmdlUG9zaXRpb24odCl7dGhpcy5lbGVtZW50ZVJlZi5uYXRpdmVFbGVtZW50LnN0eWxlLmRpc3BsYXk9InRhYmxlIix0aGlzLm1hcmdpbj02KzQ0KnQrNip0LHRoaXMub3JpZW50YXRpb249PT1JYi5Ub3A/dGhpcy50b2FzdGVyLm5hdGl2ZUVsZW1lbnQuc3R5bGUudG9wPXRoaXMubWFyZ2luKyJweCI6dGhpcy50b2FzdGVyLm5hdGl2ZUVsZW1lbnQuc3R5bGUuYm90dG9tPXRoaXMubWFyZ2luKyJweCJ9Y2xvc2UoKXt0aGlzLm9ic2VydmFibGVPbkNsb3NlLm5leHQoITApfXNldEZhZGVPdXQoKXt0aGlzLnJlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMudG9hc3Rlci5uYXRpdmVFbGVtZW50LCJwby10b2FzdGVyLXZpc2libGUiKSx0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMudG9hc3Rlci5uYXRpdmVFbGVtZW50LCJwby10b2FzdGVyLWludmlzaWJsZSIpfWNvbmZpZ1RvYXN0ZXIodCl7c3dpdGNoKHRoaXMudHlwZT10LnR5cGUsdGhpcy5tZXNzYWdlPXQubWVzc2FnZSx0aGlzLm9yaWVudGF0aW9uPXQub3JpZW50YXRpb24sdGhpcy5wb3NpdGlvbj10LnBvc2l0aW9uLHRoaXMuYWN0aW9uPXQuYWN0aW9uLHRoaXMuYWN0aW9uTGFiZWw9dC5hY3Rpb25MYWJlbCx0aGlzLmNvbXBvbmVudFJlZj10LmNvbXBvbmVudFJlZix0aGlzLm9yaWVudGF0aW9uPT09SWIuVG9wJiYodGhpcy50b2FzdGVyUG9zaXRpb249InBvLXRvYXN0ZXItdG9wIiksdGhpcy5jaGFuZ2VQb3NpdGlvbih0aGlzLnBvc2l0aW9uKSx0aGlzLnR5cGUpe2Nhc2UgUmIuRXJyb3I6dGhpcy50b2FzdGVyVHlwZT0icG8tdG9hc3Rlci1lcnJvciIsdGhpcy5pY29uPSJwby1pY29uLXdhcm5pbmciO2JyZWFrO2Nhc2UgUmIuSW5mb3JtYXRpb246dGhpcy50b2FzdGVyVHlwZT0icG8tdG9hc3Rlci1pbmZvIix0aGlzLmljb249InBvLWljb24taW5mbyI7YnJlYWs7Y2FzZSBSYi5TdWNjZXNzOnRoaXMudG9hc3RlclR5cGU9InBvLXRvYXN0ZXItc3VjY2VzcyIsdGhpcy5pY29uPSJwby1pY29uLW9rIjticmVhaztjYXNlIFJiLldhcm5pbmc6dGhpcy50b2FzdGVyVHlwZT0icG8tdG9hc3Rlci13YXJuaW5nIix0aGlzLmljb249InBvLWljb24td2FybmluZyJ9dGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCl9Z2V0SWNvbigpe3JldHVybiB0aGlzLmljb259Z2V0VG9hc3RlclBvc2l0aW9uKCl7cmV0dXJuIHRoaXMudG9hc3RlclBvc2l0aW9ufWdldFRvYXN0ZXJUeXBlKCl7cmV0dXJuIHRoaXMudG9hc3RlclR5cGV9b25CdXR0b25DbG9zZSh0KXt0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLmFjdGlvbiYmIXRoaXMuYWN0aW9uTGFiZWw/dGhpcy5wb1RvYXN0ZXJBY3Rpb24odCk6dGhpcy5jbG9zZSgpfXBvVG9hc3RlckFjdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLmFjdGlvbih0aGlzKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkod28oU3YpLHdvKEphKSx3byhBYSksd28oRmEpKX0sdC5cdTAyNzVjbXA9VXQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tdG9hc3RlciJdXSx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJkhsKEZ5LDUpLDImdCl7bGV0IHQ7QmwodD0kbCgpKSYmKGUudG9hc3Rlcj10LmZpcnN0KX19LGZlYXR1cmVzOltyb10sZGVjbHM6OSx2YXJzOjksY29uc3RzOltbMywiY2xpY2siXSxbInRvYXN0ZXIiLCIiXSxbMSwicG8tdG9hc3Rlci1pY29uIl0sWzEsInBvLXRvYXN0ZXItbWVzc2FnZSJdLFsiY2xhc3MiLCJwby10b2FzdGVyLWFjdGlvbiIsMywiY2xpY2siLDQsIm5nSWYiXSxbMSwicG8tdG9hc3Rlci1jbG9zZSIsMywiY2xpY2siXSxbMSwicG8taWNvbiIsInBvLWljb24tY2xvc2UiXSxbMSwicG8tdG9hc3Rlci1hY3Rpb24iLDMsImNsaWNrIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scjsxJnQmJihEbygwLCJkaXYiLDAsMSksRm8oImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBlLmNsb3NlKCl9KSxEbygyLCJkaXYiLDIpLFNvKDMsInNwYW4iKSxFbygpLERvKDQsImRpdiIsMyksdGEoNSksRW8oKSx2byg2LGt5LDIsMSwiZGl2Iiw0KSxEbyg3LCJidXR0b24iLDUpLEZvKCJjbGljayIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25CdXR0b25DbG9zZSh0KX0pLFNvKDgsInNwYW4iLDYpLEVvKCksRW8oKSksMiZ0JiYoInBvLXRvYXN0ZXIgIixuPWUuZ2V0VG9hc3RlclR5cGUoKSwiICIscj1lLmdldFRvYXN0ZXJQb3NpdGlvbigpLCIgcG8tY2xpY2thYmxlIixxbyhRbix6byxmdW5jdGlvbih0LGUsbixyLHMsaSl7Y29uc3Qgbz1nbyh0LEFlLmxGcmFtZS5iaW5kaW5nSW5kZXgsbixzKTtyZXR1cm4gSGUoMiksbz9lK2x0KG4pK3IrbHQocykraTpxc30oT2UoKSwicG8tdG9hc3RlciAiLG4sIiAiLHIsIiBwby1jbGlja2FibGUiKSwhMCksV3MoMykscmEoInBvLWljb24gIixlLmdldEljb24oKSwiIiksV3MoMiksZWEoZS5tZXNzYWdlKSxXcygxKSxDbygibmdJZiIsZS5hY3Rpb24mJmUuYWN0aW9uTGFiZWwpKX0sZGlyZWN0aXZlczpbaWhdLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLExiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbeWhdXX0pLHR9KSgpLE5iPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbd2IsX2IsRWIsU2IsWXYsa2IsTHYsTGJdLHdiLF9iLEViLFNiLFl2LGtiLExiXX0pLHR9KSgpLGpiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t5aF1dfSksdH0pKCksTWI9KCgpPT57Y2xhc3MgdHt0cmFuc2Zvcm0odCxlKXtpZih3dih0LCJzdHJpbmciKSYmL14oKFswLTFdWzAtOV0pfCgyWzAtM10pKTpbMC01XVswLTldOlswLTVdWzAtOV1bXC5dPyhbMC05XXsxLDZ9KT8kL2cudGVzdCh0KSl7Y29uc3Qgbj1lP2UubGFzdEluZGV4T2YoImYiKS1lLmluZGV4T2YoImYiKSsxOjAscj10aGlzLmFkZERvdE1pbGlzZWNvbmRzKHQuc3Vic3RyaW5nKDksOStuKSxuKSxzPXRoaXMuZ2V0Rm9ybWF0TWlsaXNlY29uZHMobik7cmV0dXJuIHRoaXMuZm9ybWF0VmFsdWUodCxlLHMscil9cmV0dXJuIG51bGx9YWRkRG90TWlsaXNlY29uZHModCxlKXtyZXR1cm4gdCYmZSYmKHQ9Ii4iK3QpLHR9Zm9ybWF0VmFsdWUodCxlLG4scil7aWYodCYmZSl7Y29uc3Qgcz10LnN1YnN0cmluZygwLDIpLGk9dC5zdWJzdHJpbmcoMyw1KSxvPXQuc3Vic3RyaW5nKDYsOCk7cmV0dXJuKGU9KGU9KGU9ZS5yZXBsYWNlKCJISCIscykpLnJlcGxhY2UoIm1tIixpKSkucmVwbGFjZSgic3MiLG8pKS5yZXBsYWNlKGAuJHtufWAscil9cmV0dXJuIHR9Z2V0Rm9ybWF0TWlsaXNlY29uZHModCl7bGV0IGU9IiI7Zm9yKGxldCBuPTA7bjx0O24rKyllKz0iZiI7cmV0dXJuIGV9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXBpcGU9WXQoe25hbWU6InBvX3RpbWUiLHR5cGU6dCxwdXJlOiEwfSksdH0pKCksVmI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tdXX0pLHR9KSgpLEJiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbcGhdLGltcG9ydHM6W1t5aCxwcCxXbSwkdix1YixKdixOdix2YixqYixyYixWYixXdixUdl1dfSksdH0pKCk7dmFyIEhiPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuYXJyb3dEb3duPTQwXT0iYXJyb3dEb3duIix0W3QuYXJyb3dVcD0zOF09ImFycm93VXAiLHRbdC5iYWNrc3BhY2U9OF09ImJhY2tzcGFjZSIsdFt0LmRlbGV0ZT00Nl09ImRlbGV0ZSIsdFt0LmVudGVyPTEzXT0iZW50ZXIiLHRbdC5lc2M9MjddPSJlc2MiLHRbdC5rZXlLPTc1XT0ia2V5SyIsdFt0LmtleUw9NzZdPSJrZXlMIix0W3Quc3BhY2U9MzJdPSJzcGFjZSIsdFt0LnRhYj05XT0idGFiIix0fSh7fSksVWI9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5zdGFydHNXaXRoPTBdPSJzdGFydHNXaXRoIix0W3QuY29udGFpbnM9MV09ImNvbnRhaW5zIix0W3QuZW5kc1dpdGg9Ml09ImVuZHNXaXRoIix0fSh7fSk7Y29uc3QgJGI9e2VuOntub0RhdGE6Ik5vIGRhdGEgZm91bmQifSxlczp7bm9EYXRhOiJEYXRvcyBubyBlbmNvbnRyYWRvcyJ9LHB0Ontub0RhdGE6Ik5lbmh1bSBkYWRvIGVuY29udHJhZG8ifSxydTp7bm9EYXRhOiJcdTA0MTRcdTA0MzBcdTA0M2RcdTA0M2RcdTA0NGJcdTA0MzUgXHUwNDNkXHUwNDM1IFx1MDQzZFx1MDQzMFx1MDQzOVx1MDQzNFx1MDQzNVx1MDQzZFx1MDQ0YiJ9fTtsZXQgemI9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmF1dG9Gb2N1cz0hMSx0aGlzLmVtaXRPYmplY3RWYWx1ZT0hMSx0aGlzLmRpc2FibGVkVGFiRmlsdGVyPSExLHRoaXMuY2hhbmdlPW5ldyBUbCx0aGlzLm5nTW9kZWxDaGFuZ2U9bmV3IFRsLHRoaXMuY2FjaGVPcHRpb25zPVtdLHRoaXMuZmlyc3RJbldyaXRlVmFsdWU9ITAsdGhpcy5pc0ZpcnN0RmlsdGVyPSEwLHRoaXMuaXNGaWx0ZXJpbmc9ITEsdGhpcy5wcmV2aW91c1NlYXJjaFZhbHVlPSIiLHRoaXMudmlzaWJsZU9wdGlvbnM9W10sdGhpcy5jYWNoZVN0YXRpY09wdGlvbnM9W10sdGhpcy5jb21ib09wdGlvbnNMaXN0PVtdLHRoaXMub25Nb2RlbFRvdWNoZWQ9bnVsbCx0aGlzLl9jaGFuZ2VPbkVudGVyPSExLHRoaXMuX2RlYm91bmNlVGltZT00MDAsdGhpcy5fZGlzYWJsZWQ9ITEsdGhpcy5fZGlzYWJsZWRJbml0RmlsdGVyPSExLHRoaXMuX2ZpZWxkTGFiZWw9ImxhYmVsIix0aGlzLl9maWVsZFZhbHVlPSJ2YWx1ZSIsdGhpcy5fZmlsdGVyTWlubGVuZ3RoPTAsdGhpcy5fZmlsdGVyTW9kZT1VYi5zdGFydHNXaXRoLHRoaXMuX29wdGlvbnM9W10sdGhpcy5fcGxhY2Vob2xkZXI9IiIsdGhpcy5fcmVxdWlyZWQ9ITEsdGhpcy5fc29ydD0hMSx0aGlzLmZyb21Xcml0ZVZhbHVlPSExLHRoaXMubGFuZ3VhZ2U9dC5nZXRTaG9ydExhbmd1YWdlKCl9c2V0IHBsYWNlaG9sZGVyKHQpe3RoaXMuX3BsYWNlaG9sZGVyPXR8fCIifWdldCBwbGFjZWhvbGRlcigpe3JldHVybiB0aGlzLl9wbGFjZWhvbGRlcn1zZXQgZGVib3VuY2VUaW1lKHQpe2NvbnN0IGU9cGFyc2VJbnQodCwxMCk7dGhpcy5fZGVib3VuY2VUaW1lPSFpc05hTihlKSYmZT4wP2U6NDAwfWdldCBkZWJvdW5jZVRpbWUoKXtyZXR1cm4gdGhpcy5fZGVib3VuY2VUaW1lfXNldCBkaXNhYmxlZEluaXRGaWx0ZXIodCl7dGhpcy5fZGlzYWJsZWRJbml0RmlsdGVyPWJ2KHQpfWdldCBkaXNhYmxlZEluaXRGaWx0ZXIoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZWRJbml0RmlsdGVyfXNldCBmaWVsZFZhbHVlKHQpe3RoaXMuX2ZpZWxkVmFsdWU9dHx8InZhbHVlIix3dih0aGlzLmZpbHRlclNlcnZpY2UsInN0cmluZyIpJiZ0aGlzLnNlcnZpY2UmJih0aGlzLnNlcnZpY2UuZmllbGRWYWx1ZT10aGlzLl9maWVsZFZhbHVlKX1nZXQgZmllbGRWYWx1ZSgpe3JldHVybiB0aGlzLl9maWVsZFZhbHVlfXNldCBmaWVsZExhYmVsKHQpe3RoaXMuX2ZpZWxkTGFiZWw9dHx8ImxhYmVsIix3dih0aGlzLmZpbHRlclNlcnZpY2UsInN0cmluZyIpJiZ0aGlzLnNlcnZpY2UmJih0aGlzLnNlcnZpY2UuZmllbGRMYWJlbD10aGlzLl9maWVsZExhYmVsKX1nZXQgZmllbGRMYWJlbCgpe3JldHVybiB0aGlzLl9maWVsZExhYmVsfXNldCBmaWx0ZXJNaW5sZW5ndGgodCl7Y29uc3QgZT0ic3RyaW5nIj09dHlwZW9mIHQ/cGFyc2VJbnQodCwxMCk6dDt0aGlzLl9maWx0ZXJNaW5sZW5ndGg9TnVtYmVyLmlzSW50ZWdlcihlKT9lOjB9Z2V0IGZpbHRlck1pbmxlbmd0aCgpe3JldHVybiB0aGlzLl9maWx0ZXJNaW5sZW5ndGh9c2V0IHJlcXVpcmVkKHQpe3RoaXMuX3JlcXVpcmVkPWJ2KHQpLHRoaXMudmFsaWRhdGVNb2RlbCh0aGlzLnNlbGVjdGVkVmFsdWUpfWdldCByZXF1aXJlZCgpe3JldHVybiB0aGlzLl9yZXF1aXJlZH1zZXQgY2hhbmdlT25FbnRlcih0KXt0aGlzLl9jaGFuZ2VPbkVudGVyPWJ2KHQpfWdldCBjaGFuZ2VPbkVudGVyKCl7cmV0dXJuIHRoaXMuX2NoYW5nZU9uRW50ZXJ9c2V0IGRpc2FibGVkKHQpe3RoaXMuX2Rpc2FibGVkPWJ2KHQpLHRoaXMudmFsaWRhdGVNb2RlbCh0aGlzLnNlbGVjdGVkVmFsdWUpfWdldCBkaXNhYmxlZCgpe3JldHVybiB0aGlzLl9kaXNhYmxlZH1zZXQgc29ydCh0KXt0aGlzLl9zb3J0PWJ2KHQpLHRoaXMuY29tYm9MaXN0RGVmaW5pdGlvbnMoKX1nZXQgc29ydCgpe3JldHVybiB0aGlzLl9zb3J0fXNldCBvcHRpb25zKHQpe3RoaXMuX29wdGlvbnM9QXJyYXkuaXNBcnJheSh0KT90OltdLHRoaXMuY29tYm9MaXN0RGVmaW5pdGlvbnMoKX1nZXQgb3B0aW9ucygpe3JldHVybiB0aGlzLl9vcHRpb25zfXNldCBmaWx0ZXJNb2RlKHQpe3N3aXRjaCh0aGlzLl9maWx0ZXJNb2RlPXQgaW4gVWI/dDpVYi5zdGFydHNXaXRoLHRoaXMuX2ZpbHRlck1vZGUudG9TdHJpbmcoKSl7Y2FzZSJzdGFydHNXaXRoIjp0aGlzLl9maWx0ZXJNb2RlPVViLnN0YXJ0c1dpdGg7YnJlYWs7Y2FzZSJjb250YWlucyI6dGhpcy5fZmlsdGVyTW9kZT1VYi5jb250YWluczticmVhaztjYXNlImVuZHNXaXRoIjp0aGlzLl9maWx0ZXJNb2RlPVViLmVuZHNXaXRofX1nZXQgZmlsdGVyTW9kZSgpe3JldHVybiB0aGlzLl9maWx0ZXJNb2RlfXNldCBmaWx0ZXJQYXJhbXModCl7dGhpcy5fZmlsdGVyUGFyYW1zPXR8fDA9PT10fHwhMT09PXQ/dDp2b2lkIDB9Z2V0IGZpbHRlclBhcmFtcygpe3JldHVybiB0aGlzLl9maWx0ZXJQYXJhbXN9c2V0IGxpdGVyYWxzKHQpe3RoaXMuX2xpdGVyYWxzPXQgaW5zdGFuY2VvZiBPYmplY3QmJiEodCBpbnN0YW5jZW9mIEFycmF5KT9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwkYi5wdCksJGJbdGhpcy5sYW5ndWFnZV0pLHQpOiRiW3RoaXMubGFuZ3VhZ2VdfWdldCBsaXRlcmFscygpe3JldHVybiB0aGlzLl9saXRlcmFsc3x8JGJbdGhpcy5sYW5ndWFnZV19Z2V0IGlzT3B0aW9uR3JvdXBMaXN0KCl7cmV0dXJuIHRoaXMuX29wdGlvbnMubGVuZ3RoJiZ0aGlzLl9vcHRpb25zWzBdLmhhc093blByb3BlcnR5KCJvcHRpb25zIil9bmdPbkluaXQoKXt0aGlzLnVwZGF0ZUNvbWJvTGlzdCgpfW9uSW5pdFNlcnZpY2UoKXt0aGlzLmZpbHRlclNlcnZpY2UmJih0aGlzLnNldFNlcnZpY2UodGhpcy5maWx0ZXJTZXJ2aWNlKSx0aGlzLmluaXRJbnB1dE9ic2VydmFibGUoKSl9c2V0U2VydmljZSh0KXt0JiYod3YodCwib2JqZWN0Iik/dGhpcy5zZXJ2aWNlPXQ6KHRoaXMuc2VydmljZT10aGlzLmRlZmF1bHRTZXJ2aWNlLHRoaXMuc2VydmljZS5jb25maWdQcm9wZXJ0aWVzKHQsdGhpcy5maWVsZExhYmVsLHRoaXMuZmllbGRWYWx1ZSkpKX1jb21wYXJlTWV0aG9kKHQsZSxuKXtzd2l0Y2gobil7Y2FzZSBVYi5zdGFydHNXaXRoOnJldHVybiB0aGlzLnN0YXJ0c1dpdGgodCxlKTtjYXNlIFViLmNvbnRhaW5zOnJldHVybiB0aGlzLmNvbnRhaW5zKHQsZSk7Y2FzZSBVYi5lbmRzV2l0aDpyZXR1cm4gdGhpcy5lbmRzV2l0aCh0LGUpfX1zdGFydHNXaXRoKHQsZSl7cmV0dXJuIGUubGFiZWwudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKHQudG9Mb3dlckNhc2UoKSl9Y29udGFpbnModCxlKXtyZXR1cm4gZS5sYWJlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YodC50b0xvd2VyQ2FzZSgpKT4tMX1lbmRzV2l0aCh0LGUpe3JldHVybiBlLmxhYmVsLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgodC50b0xvd2VyQ2FzZSgpKX1nZXRPcHRpb25Gcm9tVmFsdWUodCxlKXtyZXR1cm4gZT9lLmZpbmQoZT0+dGhpcy5pc0VxdWFsKGUudmFsdWUsdCkpOm51bGx9Z2V0T3B0aW9uRnJvbUxhYmVsKHQsZSl7cmV0dXJuIGU/ZS5maW5kKGU9PmUubGFiZWwudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpPT09dC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpOm51bGx9dXBkYXRlU2VsZWN0ZWRWYWx1ZSh0LGU9ITApe2NvbnN0IG49dCYmdC5sYWJlbHx8IiI7dGhpcy51cGRhdGVJbnRlcm5hbFZhcmlhYmxlcyh0KSx0aGlzLmNoYW5nZU9uRW50ZXImJmU/dGhpcy5zZXRJbnB1dFZhbHVlKG4pOnRoaXMuY2hhbmdlT25FbnRlcnx8dGhpcy5zZXRJbnB1dFZhbHVlKG4pLGUmJnRoaXMudXBkYXRlTW9kZWwodCYmdC52YWx1ZXx8dm9pZCAwKX1jYWxsTW9kZWxDaGFuZ2UodCl7cmV0dXJuIHRoaXMub25Nb2RlbENoYW5nZT90aGlzLm9uTW9kZWxDaGFuZ2UodCk6dGhpcy5uZ01vZGVsQ2hhbmdlLmVtaXQodCl9aXNFcXVhbCh0LGUpe3JldHVybih0fHwwPT09dCkmJmU/dC50b1N0cmluZygpPT09ZS50b1N0cmluZygpOigobnVsbD09PXQmJm51bGwhPT1lfHx2b2lkIDA9PT10JiZ2b2lkIDAhPT1lKSYmKHQ9YCR7dH1gKSx0PT09ZSl9c2VhcmNoRm9yTGFiZWwodCxlLG4pe2lmKHQmJmUmJmUubGVuZ3RoKXtjb25zdCByPVtdO2xldCBzLGk9ITE7ZS5mb3JFYWNoKGU9PntpZigib3B0aW9ucyJpbiBlKXJldHVybiBpPSExLHM9ZTtlLmxhYmVsJiYodGhpcy5jb21wYXJlTWV0aG9kKHQsZSxuKXx8dGhpcy5zZXJ2aWNlKSYmKHRoaXMuaXNPcHRpb25Hcm91cExpc3QmJiFpJiYoci5wdXNoKHMpLGk9ITApLHIucHVzaChlKSl9KSx0aGlzLnNlbGVjdGVkVmlldz1yW3RoaXMuaXNPcHRpb25Hcm91cExpc3Q/MTowXSx0aGlzLnVwZGF0ZUNvbWJvTGlzdChyKX1lbHNlIHRoaXMudXBkYXRlQ29tYm9MaXN0KCl9dXBkYXRlQ29tYm9MaXN0KHQpe2NvbnN0IGU9dHx8Wy4uLnRoaXMuY29tYm9PcHRpb25zTGlzdF0sbj0hdCYmdGhpcy5zZWxlY3RlZFZhbHVlP1tPYmplY3QuYXNzaWduKHt9LHRoaXMuc2VsZWN0ZWRPcHRpb24pXTplO3RoaXMudmlzaWJsZU9wdGlvbnM9biwhdGhpcy5zZWxlY3RlZFZpZXcmJnRoaXMudmlzaWJsZU9wdGlvbnMubGVuZ3RoJiYodGhpcy5zZWxlY3RlZFZpZXc9ZS5maW5kKHQ9PnZvaWQgMCE9PXQudmFsdWUpKX1nZXROZXh0T3B0aW9uKHQsZSxuPSExKXtjb25zdCByPW4/ZS5zbGljZSgwKS5yZXZlcnNlKCk6ZS5zbGljZSgwKTtsZXQgcz1udWxsLGk9ITE7Zm9yKGNvbnN0IG8gb2Ygcil7aWYoby52YWx1ZSYmIXMmJihzPW8pLG8udmFsdWUmJmkpcmV0dXJuIG87dGhpcy5pc0VxdWFsKG8udmFsdWUsdCkmJihpPSEwKX1yZXR1cm4gc31nZXRJbmRleFNlbGVjdGVkVmlldygpe2ZvcihsZXQgdD0wO3Q8dGhpcy52aXNpYmxlT3B0aW9ucy5sZW5ndGg7dCsrKWlmKHRoaXMuY29tcGFyZU9iamVjdHModGhpcy52aXNpYmxlT3B0aW9uc1t0XSx0aGlzLnNlbGVjdGVkVmlldykpcmV0dXJuIHQ7cmV0dXJuIG51bGx9Y29tcGFyZU9iamVjdHModCxlKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodCk9PT1KU09OLnN0cmluZ2lmeShlKX12ZXJpZnlWYWxpZE9wdGlvbigpe2NvbnN0IHQ9dGhpcy5nZXRJbnB1dFZhbHVlKCksZT10aGlzLmdldE9wdGlvbkZyb21MYWJlbCh0LHRoaXMuY29tYm9PcHRpb25zTGlzdCk7aWYodGhpcy5zZXJ2aWNlfHx0aGlzLnVwZGF0ZUNvbWJvTGlzdChbLi4udGhpcy5jYWNoZVN0YXRpY09wdGlvbnNdKSxlJiZlLnZhbHVlIT09dGhpcy5zZWxlY3RlZFZhbHVlKXRoaXMudXBkYXRlU2VsZWN0ZWRWYWx1ZShlKSx0aGlzLnByZXZpb3VzU2VhcmNoVmFsdWU9ZS5sYWJlbDtlbHNle2lmKHRoaXMuc2VsZWN0ZWRWYWx1ZSYmdGhpcy5zZWxlY3RlZE9wdGlvbiYmdGhpcy5zZWxlY3RlZE9wdGlvbi5sYWJlbCE9PXQpcmV0dXJuIHRoaXMudXBkYXRlU2VsZWN0ZWRWYWx1ZVdpdGhPbGRPcHRpb24oKSx2b2lkKHRoaXMucHJldmlvdXNTZWFyY2hWYWx1ZT10aGlzLnNlbGVjdGVkT3B0aW9uLmxhYmVsKTtpZih0JiYhZSlyZXR1cm4gdGhpcy51cGRhdGVTZWxlY3RlZFZhbHVlKG51bGwsISghdGhpcy5zZWxlY3RlZE9wdGlvbnx8dGhpcy5zZWxlY3RlZE9wdGlvbi5sYWJlbD09PXQpfHx0aGlzLmNoYW5nZU9uRW50ZXIpLHZvaWQodGhpcy5wcmV2aW91c1NlYXJjaFZhbHVlPSIiKX19d3JpdGVWYWx1ZSh0KXtpZih0aGlzLmZyb21Xcml0ZVZhbHVlPSEwLEN2KHQpJiYhdGhpcy5zZXJ2aWNlJiZ0aGlzLmNvbWJvT3B0aW9uc0xpc3QmJnRoaXMuY29tYm9PcHRpb25zTGlzdC5sZW5ndGgpe2NvbnN0IGU9dGhpcy5nZXRPcHRpb25Gcm9tVmFsdWUodCx0aGlzLmNvbWJvT3B0aW9uc0xpc3QpO3JldHVybiB0aGlzLnVwZGF0ZVNlbGVjdGVkVmFsdWUoZSksdm9pZCB0aGlzLnVwZGF0ZUNvbWJvTGlzdCgpfWlmKHQmJnRoaXMuc2VydmljZSlyZXR1cm4gdGhpcy5nZXRPYmplY3RCeVZhbHVlKHQpO3RoaXMudXBkYXRlU2VsZWN0ZWRWYWx1ZShudWxsKSx0aGlzLnVwZGF0ZUNvbWJvTGlzdCgpfXNldERpc2FibGVkU3RhdGUodCl7dGhpcy5kaXNhYmxlZD10fXJlZ2lzdGVyT25DaGFuZ2UodCl7dGhpcy5vbk1vZGVsQ2hhbmdlPXR9cmVnaXN0ZXJPblRvdWNoZWQodCl7dGhpcy5vbk1vZGVsVG91Y2hlZD10fXJlZ2lzdGVyT25WYWxpZGF0b3JDaGFuZ2UodCl7dGhpcy52YWxpZGF0b3JDaGFuZ2U9dH12YWxpZGF0ZSh0KXtpZihlPXQudmFsdWUsdGhpcy5yZXF1aXJlZCYmIXRoaXMuZGlzYWJsZWQmJiEoInN0cmluZyI9PXR5cGVvZiBlJiZlfHwib2JqZWN0Ij09dHlwZW9mIGUmJmUmJmUubGVuZ3RofHwibnVtYmVyIj09dHlwZW9mIGUmJihlfHwwPT09ZSl8fCJib29sZWFuIj09dHlwZW9mIGUmJmUpKXJldHVybntyZXF1aXJlZDp7dmFsaWQ6ITF9fTt2YXIgZX1jbGVhcih0KXt0aGlzLmNhbGxNb2RlbENoYW5nZSh0KSx0aGlzLnVwZGF0ZVNlbGVjdGVkVmFsdWUobnVsbCksdGhpcy51cGRhdGVDb21ib0xpc3QoKX1jb25maWdBZnRlclNldEZpbHRlclNlcnZpY2UodCl7dD8odGhpcy5jb21ib09wdGlvbnNMaXN0PVtdLHRoaXMudW5zdWJzY3JpYmVLZXl1cE9ic2VydmFibGUoKSx0aGlzLm9uSW5pdFNlcnZpY2UoKSk6KHRoaXMuc2VydmljZT12b2lkIDAsdGhpcy5jb21ib09wdGlvbnNMaXN0PXRoaXMuY2FjaGVTdGF0aWNPcHRpb25zKSx0aGlzLnZpc2libGVPcHRpb25zPVtdLHRoaXMuaXNGaXJzdEZpbHRlcj0hMH11bnN1YnNjcmliZUtleXVwT2JzZXJ2YWJsZSgpe3RoaXMua2V5dXBTdWJzY3JpYmUmJnRoaXMua2V5dXBTdWJzY3JpYmUudW5zdWJzY3JpYmUoKX12YWxpZGF0ZU1vZGVsKHQpe3RoaXMudmFsaWRhdG9yQ2hhbmdlJiZ0aGlzLnZhbGlkYXRvckNoYW5nZSh0KX1jb21ib0xpc3REZWZpbml0aW9ucygpe3RoaXMuY29tYm9PcHRpb25zTGlzdD10aGlzLm9wdGlvbnMubGVuZ3RoPjA/dGhpcy5saXN0aW5nQ29tYm9PcHRpb25zKHRoaXMub3B0aW9ucyk6dGhpcy5vcHRpb25zLHRoaXMuY2FjaGVTdGF0aWNPcHRpb25zPXRoaXMuY29tYm9PcHRpb25zTGlzdCx0aGlzLnVwZGF0ZUNvbWJvTGlzdCgpfWNvbXBhcmVPcHRpb25zKHQsZSl7Y29uc3Qgbj10LmxhYmVsLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSxyPWUubGFiZWwudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO3JldHVybiBuPHI/LTE6bj5yPzE6MH1oYXNEdXBsaWNhdGVkT3B0aW9uKHQsZSxuKXtyZXR1cm4gdC5zb21lKHQ9PnQubGFiZWw9PT1lKXx8biYmbi5zb21lKHQ9PnQubGFiZWw9PT1lKX1saXN0aW5nQ29tYm9PcHRpb25zKHQpe2NvbnN0IGU9dC5jb25jYXQoKSxuPXRoaXMudmVyaWZ5Q29tYm9PcHRpb25zKGUpO3JldHVybiB0aGlzLnNvcnRPcHRpb25zKG4pLHRoaXMuaXNPcHRpb25Hcm91cExpc3QmJm4ubGVuZ3RoPjA/dGhpcy52ZXJpZnlDb21ib09wdGlvbnNHcm91cChuKTpufXNvcnRPcHRpb25zKHQpe2lmKHQubGVuZ3RoPjAmJnRoaXMuc29ydClyZXR1cm4gdC5zb3J0KHRoaXMuY29tcGFyZU9wdGlvbnMpfXZhbGlkYXRlVmFsdWUodCxlPSExKXtjb25zdHtsYWJlbDpuLG9wdGlvbnM6cix2YWx1ZTpzfT10O3JldHVybiB0aGlzLmlzT3B0aW9uR3JvdXBMaXN0P0N2KG4pJiZyJiZyLmxlbmd0aD4wfHwhMD09PWUmJkN2KHMpOkN2KHMpJiYhcn12ZXJpZnlDb21ib09wdGlvbnModCxlPSExLG4pe3JldHVybiB0LnJlZHVjZSgodCxyKT0+dGhpcy52ZXJpZnlJZkhhc0xhYmVsKHIpJiYhdGhpcy5oYXNEdXBsaWNhdGVkT3B0aW9uKHQsci5sYWJlbCxuKSYmdGhpcy52YWxpZGF0ZVZhbHVlKHIsZSk/KHQucHVzaChyKSx0KTp0LFtdKX12ZXJpZnlDb21ib09wdGlvbnNHcm91cCh0KXtyZXR1cm4gdC5yZWR1Y2UoKHQsZSk9Pntjb25zdHtvcHRpb25zOm4sbGFiZWw6cn09ZSxzPXRoaXMudmVyaWZ5Q29tYm9PcHRpb25zKG4sITAsdCk7cmV0dXJuIHMubGVuZ3RoPjAmJih0aGlzLnNvcnRPcHRpb25zKHMpLHQucHVzaCh7bGFiZWw6cixvcHRpb25zOiEwfSwuLi5zKSksdH0sW10pfXZlcmlmeUlmSGFzTGFiZWwodD17fSl7Y29uc3R7bGFiZWw6ZSxvcHRpb25zOm4sdmFsdWU6cn09dDtyZXR1cm4hKHRoaXMuaXNPcHRpb25Hcm91cExpc3QmJm4mJiFlfHwhZSYmIXJ8fCF0aGlzLmlzT3B0aW9uR3JvdXBMaXN0JiZufHwodC5sYWJlbHx8KHQubGFiZWw9dC52YWx1ZS50b1N0cmluZygpKSwwKSl9dXBkYXRlSW50ZXJuYWxWYXJpYWJsZXModCl7dD8odGhpcy5zZWxlY3RlZFZpZXc9dCx0aGlzLnNlbGVjdGVkT3B0aW9uPXQpOih0aGlzLnNlbGVjdGVkVmlldz12b2lkIDAsdGhpcy5zZWxlY3RlZE9wdGlvbj12b2lkIDApfXVwZGF0ZU1vZGVsKHQpe3QhPT10aGlzLnNlbGVjdGVkVmFsdWUmJih0aGlzLmZyb21Xcml0ZVZhbHVlfHx0aGlzLmNhbGxNb2RlbENoYW5nZSh0KSx0aGlzLmNoYW5nZS5lbWl0KHRoaXMuZW1pdE9iamVjdFZhbHVlP3RoaXMuc2VsZWN0ZWRPcHRpb246dCkpLHRoaXMuc2VsZWN0ZWRWYWx1ZT10LHRoaXMuZnJvbVdyaXRlVmFsdWU9ITF9dXBkYXRlU2VsZWN0ZWRWYWx1ZVdpdGhPbGRPcHRpb24oKXtjb25zdCB0PXRoaXMuZ2V0T3B0aW9uRnJvbVZhbHVlKHRoaXMuc2VsZWN0ZWRWYWx1ZSx0aGlzLmNvbWJvT3B0aW9uc0xpc3QpO2lmKHQmJnQubGFiZWwpcmV0dXJuIHRoaXMudXBkYXRlU2VsZWN0ZWRWYWx1ZSh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkod28oU3YpKX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxpbnB1dHM6e2F1dG9Gb2N1czpbInAtYXV0by1mb2N1cyIsImF1dG9Gb2N1cyJdLGVtaXRPYmplY3RWYWx1ZTpbInAtZW1pdC1vYmplY3QtdmFsdWUiLCJlbWl0T2JqZWN0VmFsdWUiXSxkaXNhYmxlZFRhYkZpbHRlcjpbInAtZGlzYWJsZWQtdGFiLWZpbHRlciIsImRpc2FibGVkVGFiRmlsdGVyIl0scGxhY2Vob2xkZXI6WyJwLXBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXIiXSxkZWJvdW5jZVRpbWU6WyJwLWRlYm91bmNlLXRpbWUiLCJkZWJvdW5jZVRpbWUiXSxkaXNhYmxlZEluaXRGaWx0ZXI6WyJwLWRpc2FibGVkLWluaXQtZmlsdGVyIiwiZGlzYWJsZWRJbml0RmlsdGVyIl0sZmllbGRWYWx1ZTpbInAtZmllbGQtdmFsdWUiLCJmaWVsZFZhbHVlIl0sZmllbGRMYWJlbDpbInAtZmllbGQtbGFiZWwiLCJmaWVsZExhYmVsIl0sZmlsdGVyTWlubGVuZ3RoOlsicC1maWx0ZXItbWlubGVuZ3RoIiwiZmlsdGVyTWlubGVuZ3RoIl0scmVxdWlyZWQ6WyJwLXJlcXVpcmVkIiwicmVxdWlyZWQiXSxjaGFuZ2VPbkVudGVyOlsicC1jaGFuZ2Utb24tZW50ZXIiLCJjaGFuZ2VPbkVudGVyIl0sZGlzYWJsZWQ6WyJwLWRpc2FibGVkIiwiZGlzYWJsZWQiXSxzb3J0OlsicC1zb3J0Iiwic29ydCJdLG9wdGlvbnM6WyJwLW9wdGlvbnMiLCJvcHRpb25zIl0sZmlsdGVyTW9kZTpbInAtZmlsdGVyLW1vZGUiLCJmaWx0ZXJNb2RlIl0sZmlsdGVyUGFyYW1zOlsicC1maWx0ZXItcGFyYW1zIiwiZmlsdGVyUGFyYW1zIl0sbGl0ZXJhbHM6WyJwLWxpdGVyYWxzIiwibGl0ZXJhbHMiXSxsYWJlbDpbInAtbGFiZWwiLCJsYWJlbCJdLGhlbHA6WyJwLWhlbHAiLCJoZWxwIl0sbmFtZToibmFtZSIsZmlsdGVyU2VydmljZTpbInAtZmlsdGVyLXNlcnZpY2UiLCJmaWx0ZXJTZXJ2aWNlIl0saWNvbjpbInAtaWNvbiIsImljb24iXSxvcHRpb25hbDpbInAtb3B0aW9uYWwiLCJvcHRpb25hbCJdLGNsZWFuOlsicC1jbGVhbiIsImNsZWFuIl19LG91dHB1dHM6e2NoYW5nZToicC1jaGFuZ2UiLG5nTW9kZWxDaGFuZ2U6Im5nTW9kZWxDaGFuZ2UifX0pLGV5KFtWdigpXSx0LnByb3RvdHlwZSwiYXV0b0ZvY3VzIix2b2lkIDApLGV5KFtWdigpXSx0LnByb3RvdHlwZSwiY2xlYW4iLHZvaWQgMCksZXkoW1Z2KCldLHQucHJvdG90eXBlLCJlbWl0T2JqZWN0VmFsdWUiLHZvaWQgMCksZXkoW1Z2KCldLHQucHJvdG90eXBlLCJkaXNhYmxlZFRhYkZpbHRlciIsdm9pZCAwKSx0fSkoKSxxYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuaHR0cD10LHRoaXMuZmllbGRMYWJlbD0ibGFiZWwiLHRoaXMuZmllbGRWYWx1ZT0idmFsdWUiLHRoaXMuaGVhZGVycz1uZXcgbGQoeyJYLVBPLU5vLU1lc3NhZ2UiOiJ0cnVlIn0pLHRoaXMubWVzc2FnZXM9W119Z2V0IHVybCgpe3JldHVybiB0aGlzLl91cmx9Z2V0RmlsdGVyZWREYXRhKHQsZSl7Y29uc3Qgbj10LnZhbHVlLHI9X3YoZSkscz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse2ZpbHRlcjpufSk7cmV0dXJuIHRoaXMuaHR0cC5nZXQoYCR7dGhpcy51cmx9YCx7cmVzcG9uc2VUeXBlOiJqc29uIixwYXJhbXM6cyxoZWFkZXJzOnRoaXMuaGVhZGVyc30pLnBpcGUoeCh0PT50aGlzLnBhcnNlVG9BcnJheUNvbWJvT3B0aW9uKHQuaXRlbXMpKSl9Z2V0T2JqZWN0QnlWYWx1ZSh0LGUpe2NvbnN0IG49X3YoZSk7cmV0dXJuIHRoaXMuaHR0cC5nZXQoYCR7dGhpcy51cmx9LyR7dH1gLHtwYXJhbXM6bixoZWFkZXJzOnRoaXMuaGVhZGVyc30pLnBpcGUoeCh0PT50aGlzLnBhcnNlVG9Db21ib09wdGlvbih0KSkpfWNvbmZpZ1Byb3BlcnRpZXModCxlLG4pe3RoaXMuX3VybD10LHRoaXMuZmllbGRMYWJlbD1lLHRoaXMuZmllbGRWYWx1ZT1ufXBhcnNlVG9BcnJheUNvbWJvT3B0aW9uKHQpe2lmKHQmJnQubGVuZ3RoPjApe2NvbnN0IGU9dC5tYXAodD0+dGhpcy5wYXJzZVRvQ29tYm9PcHRpb24odCkpO3JldHVybiB0aGlzLmRpc3BsYXlNZXNzYWdlcygpLGV9cmV0dXJuW119cGFyc2VUb0NvbWJvT3B0aW9uKHQpe3JldHVybihudWxsPT10P3ZvaWQgMDp0W3RoaXMuZmllbGRWYWx1ZV0pP3tsYWJlbDp0W3RoaXMuZmllbGRMYWJlbF0sdmFsdWU6dFt0aGlzLmZpZWxkVmFsdWVdfToodGhpcy5hZGRNZXNzYWdlKHQsdGhpcy5maWVsZFZhbHVlKSx7dmFsdWU6IiJ9KX1hZGRNZXNzYWdlKHQsZSl7dGhpcy5tZXNzYWdlcy5wdXNoKGBDYW5ub3QgcmVhZCBwcm9wZXJ0eSAiJHtlfSIgb2YgJHtKU09OLnN0cmluZ2lmeSh0KX0sXG4gICAgICBzZWUgW3AtZmllbGQtdmFsdWVdIHByb3BlcnR5IGF0IGh0dHBzOi8vcG8tdWkuaW8vZG9jdW1lbnRhdGlvbi9wby1jb21ib2ApfWRpc3BsYXlNZXNzYWdlcygpe3RoaXMubWVzc2FnZXMubGVuZ3RoJiYodGhpcy5tZXNzYWdlcy5mb3JFYWNoKHQ9PmNvbnNvbGUuZXJyb3IodCkpLHRoaXMubWVzc2FnZXM9W10pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihFZCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLFdiPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy50ZW1wbGF0ZVJlZj10fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh3byhzbCkpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0LHNlbGVjdG9yczpbWyIiLCJwLWNvbWJvLW9wdGlvbi10ZW1wbGF0ZSIsIiJdXX0pLHR9KSgpLEdiPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyB6Yntjb25zdHJ1Y3Rvcih0LGUsbixyLHMsaSxvLGEpe3N1cGVyKGEpLHRoaXMuZWxlbWVudD10LHRoaXMuZGlmZmVycz1lLHRoaXMuZGVmYXVsdFNlcnZpY2U9bix0aGlzLnJlbmRlcmVyPXIsdGhpcy5jaGFuZ2VEZXRlY3Rvcj1zLHRoaXMuY29udHJvbFBvc2l0aW9uPWksdGhpcy5zYW5pdGl6ZWQ9byx0aGlzLmNvbWJvSWNvbj0icG8taWNvbi1hcnJvdy1kb3duIix0aGlzLmNvbWJvT3Blbj0hMSx0aGlzLmlzUHJvY2Vzc2luZ1ZhbHVlQnlUYWI9ITEsdGhpcy5zY3JvbGxUb3A9MCx0aGlzLnNob3VsZE1hcmtMZXR0ZXJzPSEwLHRoaXMuX2lzU2VydmVyU2VhcmNoaW5nPSExLHRoaXMub25TY3JvbGw9KCk9Pnt0aGlzLmFkanVzdENvbnRhaW5lclBvc2l0aW9uKCl9LHRoaXMuZGlmZmVyPWUuZmluZChbXSkuY3JlYXRlKG51bGwpfXNldCBpc1NlcnZlclNlYXJjaGluZyh0KXt0Pyh0aGlzLl9pc1NlcnZlclNlYXJjaGluZz10LHRoaXMuY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpLHRoaXMuc2V0Q29udGFpbmVyUG9zaXRpb24oKSx0aGlzLmluaXRpYWxpemVMaXN0ZW5lcnMoKSk6dGhpcy5faXNTZXJ2ZXJTZWFyY2hpbmc9dH1nZXQgaXNTZXJ2ZXJTZWFyY2hpbmcoKXtyZXR1cm4gdGhpcy5faXNTZXJ2ZXJTZWFyY2hpbmd9bmdBZnRlclZpZXdJbml0KCl7dGhpcy5hdXRvRm9jdXMmJnRoaXMuZm9jdXMoKX1uZ09uQ2hhbmdlcyh0KXt0LmRlYm91bmNlVGltZSYmKHRoaXMudW5zdWJzY3JpYmVLZXl1cE9ic2VydmFibGUoKSx0aGlzLmluaXRJbnB1dE9ic2VydmFibGUoKSksdC5maWx0ZXJTZXJ2aWNlJiZ0aGlzLmNvbmZpZ0FmdGVyU2V0RmlsdGVyU2VydmljZSh0aGlzLmZpbHRlclNlcnZpY2UpfW5nT25EZXN0cm95KCl7dGhpcy5yZW1vdmVMaXN0ZW5lcnMoKSx0aGlzLmZpbHRlclN1YnNjcmlwdGlvbiYmdGhpcy5maWx0ZXJTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSx0aGlzLmdldFN1YnNjcmlwdGlvbiYmdGhpcy5nZXRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX1mb2N1cygpe3RoaXMuZGlzYWJsZWR8fHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LmZvY3VzKCl9b25CbHVyKCl7dmFyIHQ7bnVsbD09PSh0PXRoaXMub25Nb2RlbFRvdWNoZWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyl9b25LZXlEb3duKHQpe2NvbnN0IGU9dC5rZXlDb2RlLG49dC50YXJnZXQudmFsdWU7aWYodGhpcy5zZXJ2aWNlJiZlPT09SGIudGFiJiZuJiYhdGhpcy5kaXNhYmxlZFRhYkZpbHRlcilyZXR1cm4gdGhpcy5jb250cm9sQ29tYm9WaXNpYmlsaXR5KCExKSx0aGlzLmdldE9iamVjdEJ5VmFsdWUobik7aWYoZT09PUhiLmFycm93VXB8fGU9PT1IYi5hcnJvd0Rvd24pcmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx0aGlzLmNvbWJvT3BlbiYmKGU9PT1IYi5hcnJvd1VwP3RoaXMuc2VsZWN0UHJldmlvdXNPcHRpb24oKTp0aGlzLnNlbGVjdE5leHRPcHRpb24oKSksdGhpcy5jb250cm9sQ29tYm9WaXNpYmlsaXR5KCEwKSx0aGlzLmlzRmlsdGVyaW5nPSEhdGhpcy5jaGFuZ2VPbkVudGVyJiZ0aGlzLmlzRmlsdGVyaW5nLHZvaWQodGhpcy5zaG91bGRNYXJrTGV0dGVycz0hIXRoaXMuY2hhbmdlT25FbnRlciYmdGhpcy5zaG91bGRNYXJrTGV0dGVycyk7aWYoZT09PUhiLnRhYnx8ZT09PUhiLmVzYylyZXR1cm4gZT09PUhiLmVzYyYmdGhpcy5jb21ib09wZW4mJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSksdGhpcy5jb250cm9sQ29tYm9WaXNpYmlsaXR5KCExKSx0aGlzLnZlcmlmeVZhbGlkT3B0aW9uKCksdGhpcy5pc1Byb2Nlc3NpbmdWYWx1ZUJ5VGFiPSEwLHZvaWQodGhpcy5zZXJ2aWNlfHwodGhpcy5zZWxlY3RlZFZpZXc9dGhpcy5jaGFuZ2VPbkVudGVyJiYhdGhpcy5zZWxlY3RlZFZhbHVlP3ZvaWQgMDp0aGlzLnNlbGVjdGVkVmlldykpO2lmKGU9PT1IYi5lbnRlciYmdGhpcy5zZWxlY3RlZFZpZXcmJnRoaXMuY29tYm9PcGVuKXtjb25zdCB0PXRoaXMuc2VsZWN0ZWRWaWV3LnZhbHVlIT09dGhpcy5zZWxlY3RlZFZhbHVlfHxuIT09dGhpcy5zZWxlY3RlZFZpZXcubGFiZWw7cmV0dXJuIHRoaXMuY29udHJvbENvbWJvVmlzaWJpbGl0eSghMSksdGhpcy51cGRhdGVTZWxlY3RlZFZhbHVlKHRoaXMuc2VsZWN0ZWRWaWV3LHQpLHRoaXMuaXNGaWx0ZXJpbmc9ITEsdm9pZCh0aGlzLnNlcnZpY2V8fHRoaXMudXBkYXRlQ29tYm9MaXN0KFsuLi50aGlzLmNhY2hlU3RhdGljT3B0aW9uc10pKX1lPT09SGIuZW50ZXImJnRoaXMuY29udHJvbENvbWJvVmlzaWJpbGl0eSghMCl9b25LZXlVcCh0KXtjb25zdCBlPXQua2V5Q29kZXx8dC53aGljaCxuPXQudGFyZ2V0LnZhbHVlO2lmKGUhPT1IYi5hcnJvd1VwJiZlIT09SGIuYXJyb3dEb3duJiZlIT09SGIuZW50ZXIpe2lmKG4pdGhpcy5zZXJ2aWNlfHx0aGlzLnByZXZpb3VzU2VhcmNoVmFsdWU9PT1ufHwodGhpcy5zaG91bGRNYXJrTGV0dGVycz0hMCx0aGlzLmlzRmlsdGVyaW5nPSEwLHRoaXMuc2VhcmNoRm9yTGFiZWwobix0aGlzLmNvbWJvT3B0aW9uc0xpc3QsdGhpcy5maWx0ZXJNb2RlKSk7ZWxzZXtjb25zdCB0PXRoaXMuc2VydmljZSYmdGhpcy5zZWxlY3RlZFZhbHVlJiZ0aGlzLnNlbGVjdGVkT3B0aW9uLmxhYmVsPT09dGhpcy5wcmV2aW91c1NlYXJjaFZhbHVlO3RoaXMudXBkYXRlU2VsZWN0ZWRWYWx1ZShudWxsKSx0aGlzLnNlcnZpY2U/dCYmdGhpcy51cGRhdGVDb21ib0xpc3QoWy4uLnRoaXMuY2FjaGVPcHRpb25zXSk6dGhpcy51cGRhdGVDb21ib0xpc3QoKSx0aGlzLmlzRmlsdGVyaW5nPSExfXRoaXMucHJldmlvdXNTZWFyY2hWYWx1ZSE9PW4mJih0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKSx0aGlzLmNvbnRyb2xDb21ib1Zpc2liaWxpdHkoITApKX10aGlzLnByZXZpb3VzU2VhcmNoVmFsdWU9bn1pbml0SW5wdXRPYnNlcnZhYmxlKCl7aWYodGhpcy5zZXJ2aWNlKXtjb25zdCB0PWZwKHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LCJrZXl1cCIpLnBpcGUocmQodD0+dGhpcy5pc1ZhbGlkQ2hhcmFjdGVyVG9TZWFyY2godC5rZXlDb2RlKSkseCh0PT50LmN1cnJlbnRUYXJnZXQudmFsdWUpLHQ9PnQubGlmdChuZXcgaXkodm9pZCAwLHZvaWQgMCkpLHRmKCgpPT57dGhpcy5zaG91bGRNYXJrTGV0dGVycz0hMX0pLGZ1bmN0aW9uKHQsZT1tcCl7cmV0dXJuIG49Pm4ubGlmdChuZXcgbnkodCxlKSl9KHRoaXMuZGVib3VuY2VUaW1lKSk7dGhpcy5rZXl1cFN1YnNjcmliZT10LnN1YnNjcmliZSh0PT57KHQubGVuZ3RoPj10aGlzLmZpbHRlck1pbmxlbmd0aHx8IXQpJiZ0aGlzLmNvbnRyb2xBcHBseUZpbHRlcih0KX0pfX1jb250cm9sQXBwbHlGaWx0ZXIodCl7dGhpcy5pc1Byb2Nlc3NpbmdWYWx1ZUJ5VGFifHx0aGlzLnNlbGVjdGVkT3B0aW9uJiZ0PT09dGhpcy5zZWxlY3RlZE9wdGlvbi5sYWJlbHx8dGhpcy5hcHBseUZpbHRlcih0KSx0aGlzLmlzUHJvY2Vzc2luZ1ZhbHVlQnlUYWI9ITF9YXBwbHlGaWx0ZXIodCl7dGhpcy5jb250cm9sQ29tYm9WaXNpYmlsaXR5KCExKSx0aGlzLmlzU2VydmVyU2VhcmNoaW5nPSEwLHRoaXMuZmlsdGVyU3Vic2NyaXB0aW9uPXRoaXMuc2VydmljZS5nZXRGaWx0ZXJlZERhdGEoe3Byb3BlcnR5OnRoaXMuZmllbGRMYWJlbCx2YWx1ZTp0fSx0aGlzLmZpbHRlclBhcmFtcykuc3Vic2NyaWJlKGU9PnRoaXMuc2V0T3B0aW9uc0J5QXBwbHlGaWx0ZXIodCxlKSx0PT50aGlzLm9uRXJyb3JGaWx0ZXJlZERhdGEoKSl9c2V0T3B0aW9uc0J5QXBwbHlGaWx0ZXIodCxlKXt0aGlzLnNob3VsZE1hcmtMZXR0ZXJzPSEwLHRoaXMuaXNTZXJ2ZXJTZWFyY2hpbmc9ITEsdGhpcy5vcHRpb25zPWUsdGhpcy5zZWFyY2hGb3JMYWJlbCh0LGUsdGhpcy5maWx0ZXJNb2RlKSx0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKSx0aGlzLmNvbnRyb2xDb21ib1Zpc2liaWxpdHkoITApLHRoaXMuaXNGaXJzdEZpbHRlciYmKHRoaXMuaXNGaXJzdEZpbHRlcj0hdGhpcy5pc0ZpcnN0RmlsdGVyLHRoaXMuY2FjaGVPcHRpb25zPXRoaXMuY29tYm9PcHRpb25zTGlzdCl9Z2V0T2JqZWN0QnlWYWx1ZSh0KXt2YXIgZTt0aGlzLnNlbGVjdGVkVmFsdWUhPT10JiYobnVsbD09PShlPXRoaXMuc2VsZWN0ZWRPcHRpb24pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmxhYmVsKSE9PXQmJih0aGlzLmlzUHJvY2Vzc2luZ1ZhbHVlQnlUYWI9ITAsdGhpcy5nZXRTdWJzY3JpcHRpb249dGhpcy5zZXJ2aWNlLmdldE9iamVjdEJ5VmFsdWUodCx0aGlzLmZpbHRlclBhcmFtcykuc3Vic2NyaWJlKHQ9PnRoaXMudXBkYXRlT3B0aW9uQnlGaWx0ZXJlZFZhbHVlKHQpLHQ9PnRoaXMub25FcnJvckdldE9iamVjdEJ5VmFsdWUoKSkpfXVwZGF0ZU9wdGlvbkJ5RmlsdGVyZWRWYWx1ZSh0KXt0Pyh0aGlzLm9wdGlvbnM9W3RdLHRoaXMub25PcHRpb25DbGljayh0KSk6dGhpcy51cGRhdGVTZWxlY3RlZFZhbHVlKG51bGwpLHNldFRpbWVvdXQoKCk9Pnt0aGlzLmlzUHJvY2Vzc2luZ1ZhbHVlQnlUYWI9ITF9LHRoaXMuZGVib3VuY2VUaW1lKX1zZWxlY3RQcmV2aW91c09wdGlvbigpe2NvbnN0IHQ9dGhpcy5zZWxlY3RlZFZpZXcmJnRoaXMuc2VsZWN0ZWRWaWV3LnZhbHVlO2lmKHQpe2NvbnN0IGU9dGhpcy5nZXROZXh0T3B0aW9uKHQsdGhpcy52aXNpYmxlT3B0aW9ucywhMCk7dGhpcy51cGRhdGVTZWxlY3RlZFZhbHVlKGUsZSYmZS52YWx1ZSE9PXQmJiF0aGlzLmNoYW5nZU9uRW50ZXIpfWVsc2UgaWYodGhpcy52aXNpYmxlT3B0aW9ucy5sZW5ndGgpe2NvbnN0IGU9dGhpcy52aXNpYmxlT3B0aW9uc1t0aGlzLnZpc2libGVPcHRpb25zLmxlbmd0aC0xXTt0aGlzLnVwZGF0ZVNlbGVjdGVkVmFsdWUoZSxlLnZhbHVlIT09dCYmIXRoaXMuY2hhbmdlT25FbnRlcil9fXNlbGVjdE5leHRPcHRpb24oKXtjb25zdCB0PXRoaXMuc2VsZWN0ZWRWaWV3JiZ0aGlzLnNlbGVjdGVkVmlldy52YWx1ZTtpZih0KXtjb25zdCBlPXRoaXMuZ2V0TmV4dE9wdGlvbih0LHRoaXMudmlzaWJsZU9wdGlvbnMpO3RoaXMudXBkYXRlU2VsZWN0ZWRWYWx1ZShlLGUmJmUudmFsdWUhPT10JiYhdGhpcy5jaGFuZ2VPbkVudGVyKX1lbHNlIGlmKHRoaXMudmlzaWJsZU9wdGlvbnMubGVuZ3RoKXtjb25zdCBlPXRoaXMudmlzaWJsZU9wdGlvbnNbdGhpcy5jaGFuZ2VPbkVudGVyPzE6MF07dGhpcy51cGRhdGVTZWxlY3RlZFZhbHVlKGUsZS52YWx1ZSE9PXQmJiF0aGlzLmNoYW5nZU9uRW50ZXIpfX10b2dnbGVDb21ib1Zpc2liaWxpdHkoKXt0aGlzLmRpc2FibGVkfHwodGhpcy5zZXJ2aWNlJiYhdGhpcy5kaXNhYmxlZEluaXRGaWx0ZXImJnRoaXMuYXBwbHlGaWx0ZXJJbkZpcnN0Q2xpY2soKSx0aGlzLmNvbnRyb2xDb21ib1Zpc2liaWxpdHkoIXRoaXMuY29tYm9PcGVuKSl9YXBwbHlGaWx0ZXJJbkZpcnN0Q2xpY2soKXt0aGlzLmlzRmlyc3RGaWx0ZXImJiF0aGlzLnNlbGVjdGVkVmFsdWUmJnRoaXMuYXBwbHlGaWx0ZXIoIiIpfWNvbnRyb2xDb21ib1Zpc2liaWxpdHkodCl7dD90aGlzLm9wZW4oKTp0aGlzLmNsb3NlKCl9b25PcHRpb25DbGljayh0LGUpe2NvbnN0IG49dGhpcy5nZXRJbnB1dFZhbHVlKCkscj10LnZhbHVlIT09dGhpcy5zZWxlY3RlZFZhbHVlfHwhKCF0aGlzLnNlbGVjdGVkVmlld3x8bj09PXRoaXMuc2VsZWN0ZWRWaWV3LmxhYmVsKTtlJiZlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMudXBkYXRlU2VsZWN0ZWRWYWx1ZSh0LHIpLHRoaXMuY29udHJvbENvbWJvVmlzaWJpbGl0eSghMSksdGhpcy5zZXJ2aWNlfHx0aGlzLnVwZGF0ZUNvbWJvTGlzdChbLi4udGhpcy5jYWNoZVN0YXRpY09wdGlvbnNdKSx0aGlzLnByZXZpb3VzU2VhcmNoVmFsdWU9dGhpcy5zZWxlY3RlZFZpZXcubGFiZWx9c2Nyb2xsVG8odCl7Y29uc3QgZT10aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCIucG8tY29tYm8taXRlbS1zZWxlY3RlZCIpO3RoaXMuc2V0U2Nyb2xsVG9wKCFlLmxlbmd0aHx8dDw9MT8wOmVbMF0ub2Zmc2V0VG9wLTg4KX1nZXRJbnB1dFZhbHVlKCl7cmV0dXJuIHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlfXNldElucHV0VmFsdWUodCl7dGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWU9dH13YXNDbGlja2VkT25Ub2dnbGUodCl7IXRoaXMuY29tYm9PcGVufHx0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC5jb250YWlucyh0LnRhcmdldCl8fHRoaXMuaWNvbkVsZW1lbnQubmF0aXZlRWxlbWVudC5jb250YWlucyh0LnRhcmdldCl8fHRoaXMuY29udGVudEVsZW1lbnQmJnRoaXMuY29udGVudEVsZW1lbnQubmF0aXZlRWxlbWVudC5jb250YWlucyh0LnRhcmdldCk/IXRoaXMuc2VydmljZXx8dGhpcy5nZXRJbnB1dFZhbHVlKCl8fHRoaXMuaXNGaXJzdEZpbHRlcnx8dGhpcy5hcHBseUZpbHRlcigiIik6KHRoaXMuY29udHJvbENvbWJvVmlzaWJpbGl0eSghMSksdGhpcy52ZXJpZnlWYWxpZE9wdGlvbigpLHRoaXMuc2VsZWN0ZWRWaWV3PXRoaXMuY2hhbmdlT25FbnRlciYmIXRoaXMuc2VsZWN0ZWRWYWx1ZT92b2lkIDA6dGhpcy5zZWxlY3RlZFZpZXcpfWdldExhYmVsRm9ybWF0dGVkKHQpe2NvbnN0IGU9dGhpcy5zYW5pdGl6ZVRhZ0hUTUwodCk7bGV0IG49ZTtpZih0aGlzLmlzRmlsdGVyaW5nfHx0aGlzLnNlcnZpY2UmJnRoaXMuZ2V0SW5wdXRWYWx1ZSgpJiYhdGhpcy5jb21wYXJlT2JqZWN0cyh0aGlzLmNhY2hlT3B0aW9ucyx0aGlzLnZpc2libGVPcHRpb25zKSYmdGhpcy5zaG91bGRNYXJrTGV0dGVycyl7Y29uc3QgdD10aGlzLnNhbml0aXplVGFnSFRNTCh0aGlzLmdldElucHV0VmFsdWUoKS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpLHI9ZS50b0xvd2VyQ2FzZSgpLHM9JzxzcGFuIGNsYXNzPSJwby1mb250LXRleHQtbGFyZ2UtYm9sZCI+JyxpPSI8L3NwYW4+IjtsZXQgbyxhLGw7c3dpdGNoKHRoaXMuZmlsdGVyTW9kZSl7Y2FzZSBVYi5zdGFydHNXaXRoOmNhc2UgVWIuY29udGFpbnM6Y29uc3QgdT1yLmluZGV4T2YodCk7dT4tMSYmKG89ZS5zdWJzdHJpbmcoMCx1KSxhPWUuc3Vic3RyaW5nKHUsdSt0Lmxlbmd0aCksbD1lLnN1YnN0cmluZyh1K3QubGVuZ3RoKSxuPW8rcythK2krbCk7YnJlYWs7Y2FzZSBVYi5lbmRzV2l0aDpjb25zdCBjPXIubGFzdEluZGV4T2YodCk7Yz4tMSYmKG89ZS5zdWJzdHJpbmcoMCxjKSxhPWUuc3Vic3RyaW5nKGMpLG49bytzK2EraSl9fXJldHVybiB0aGlzLnNhZmVIdG1sKG4pfXNhZmVIdG1sKHQpe3JldHVybiB0aGlzLnNhbml0aXplZC5ieXBhc3NTZWN1cml0eVRydXN0SHRtbCh0KX1pc1ZhbGlkQ2hhcmFjdGVyVG9TZWFyY2godCl7cmV0dXJuIDkhPT10JiYxMyE9PXQmJjE2IT09dCYmMTchPT10JiYxOCE9PXQmJjIwIT09dCYmMjchPT10JiYzNyE9PXQmJjM4IT09dCYmMzkhPT10JiY0MCE9PXQmJjkzIT09dH1zZWFyY2hPbkVudGVyKHQpe3RoaXMuc2VydmljZSYmIXRoaXMuc2VsZWN0ZWRWaWV3JiZ0Lmxlbmd0aD49dGhpcy5maWx0ZXJNaW5sZW5ndGgmJnRoaXMuY29udHJvbEFwcGx5RmlsdGVyKHQpfWFkanVzdENvbnRhaW5lclBvc2l0aW9uKCl7dGhpcy5jb250cm9sUG9zaXRpb24uYWRqdXN0UG9zaXRpb24oImJvdHRvbSIpfWNsb3NlKCl7dGhpcy5jb21ib09wZW49ITEsdGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCksdGhpcy5jb21ib0ljb249InBvLWljb24tYXJyb3ctZG93biIsdGhpcy5yZW1vdmVMaXN0ZW5lcnMoKSx0aGlzLmlzRmlsdGVyaW5nPSExfWluaXRpYWxpemVMaXN0ZW5lcnMoKXt0aGlzLnJlbW92ZUxpc3RlbmVycygpLHRoaXMuY2xpY2tvdXRMaXN0ZW5lcj10aGlzLnJlbmRlcmVyLmxpc3RlbigiZG9jdW1lbnQiLCJjbGljayIsdD0+e3RoaXMud2FzQ2xpY2tlZE9uVG9nZ2xlKHQpfSksdGhpcy5ldmVudFJlc2l6ZUxpc3RlbmVyPXRoaXMucmVuZGVyZXIubGlzdGVuKCJ3aW5kb3ciLCJyZXNpemUiLCgpPT57c2V0VGltZW91dCgoKT0+dGhpcy5hZGp1c3RDb250YWluZXJQb3NpdGlvbigpLDI1MCl9KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIix0aGlzLm9uU2Nyb2xsLCEwKX1vbkVycm9yR2V0T2JqZWN0QnlWYWx1ZSgpe3RoaXMudXBkYXRlT3B0aW9uQnlGaWx0ZXJlZFZhbHVlKG51bGwpfW9uRXJyb3JGaWx0ZXJlZERhdGEoKXt0aGlzLmlzU2VydmVyU2VhcmNoaW5nPSExLHRoaXMudXBkYXRlQ29tYm9MaXN0KFtdKSx0aGlzLmNvbnRyb2xDb21ib1Zpc2liaWxpdHkoITApfW9wZW4oKXt0aGlzLmNvbWJvT3Blbj0hMCx0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKSx0aGlzLmNvbWJvSWNvbj0icG8taWNvbi1hcnJvdy11cCIsdGhpcy5pbml0aWFsaXplTGlzdGVuZXJzKCksdGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQuZm9jdXMoKSx0aGlzLnNjcm9sbFRvKHRoaXMuZ2V0SW5kZXhTZWxlY3RlZFZpZXcoKSksdGhpcy5zZXRDb250YWluZXJQb3NpdGlvbigpfXJlbW92ZUxpc3RlbmVycygpe3RoaXMuY2xpY2tvdXRMaXN0ZW5lciYmdGhpcy5jbGlja291dExpc3RlbmVyKCksdGhpcy5ldmVudFJlc2l6ZUxpc3RlbmVyJiZ0aGlzLmV2ZW50UmVzaXplTGlzdGVuZXIoKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIix0aGlzLm9uU2Nyb2xsLCEwKX1zYW5pdGl6ZVRhZ0hUTUwodD0iIil7cmV0dXJuIHQucmVwbGFjZSgvXDwvZ20sIiZsdDsiKS5yZXBsYWNlKC9cPi9nLCImZ3Q7Iil9c2V0Q29udGFpbmVyUG9zaXRpb24oKXt0aGlzLmNvbnRyb2xQb3NpdGlvbi5zZXRFbGVtZW50cyh0aGlzLmNvbnRhaW5lckVsZW1lbnQubmF0aXZlRWxlbWVudCw4LHRoaXMuaW5wdXRFbCxbInRvcCIsImJvdHRvbSJdLCEwKSx0aGlzLmFkanVzdENvbnRhaW5lclBvc2l0aW9uKCl9c2V0U2Nyb2xsVG9wKHQpe3RoaXMuY29udGVudEVsZW1lbnQmJih0aGlzLmNvbnRlbnRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuc2Nyb2xsVG9wPXQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KSh3byhBYSksd28oV2EpLHdvKHFiKSx3byhGYSksd28oSmEpLHdvKHF2KSx3byhZaCksd28oU3YpKX0sdC5cdTAyNzVjbXA9VXQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tY29tYm8iXV0sY29udGVudFF1ZXJpZXM6ZnVuY3Rpb24odCxlLG4pe2lmKDEmdCYmVWwobixXYiw3KSwyJnQpe2xldCB0O0JsKHQ9JGwoKSkmJihlLmNvbWJvT3B0aW9uVGVtcGxhdGU9dC5maXJzdCl9fSx2aWV3UXVlcnk6ZnVuY3Rpb24odCxlKXtpZigxJnQmJihIbChSeSw1LEFhKSxIbChQeSw1LEFhKSxIbChMeSw3LEFhKSxIbChTeSw3LEFhKSksMiZ0KXtsZXQgdDtCbCh0PSRsKCkpJiYoZS5jb250YWluZXJFbGVtZW50PXQuZmlyc3QpLEJsKHQ9JGwoKSkmJihlLmNvbnRlbnRFbGVtZW50PXQuZmlyc3QpLEJsKHQ9JGwoKSkmJihlLmljb25FbGVtZW50PXQuZmlyc3QpLEJsKHQ9JGwoKSkmJihlLmlucHV0RWw9dC5maXJzdCl9fSxmZWF0dXJlczpbd2EoW3FiLHF2LHtwcm92aWRlOnVwLHVzZUV4aXN0aW5nOnN0KCgpPT50KSxtdWx0aTohMH0se3Byb3ZpZGU6Y3AsdXNlRXhpc3Rpbmc6c3QoKCk9PnQpLG11bHRpOiEwfV0pLHJvLGxlXSxkZWNsczoyMSx2YXJzOjIzLGNvbnN0czpbWzMsInAtbGFiZWwiLCJwLWhlbHAiLCJwLW9wdGlvbmFsIl0sWzEsInBvLWZpZWxkLWNvbnRhaW5lci1jb250ZW50Il0sWyJjbGFzcyIsInBvLWZpZWxkLWljb24tY29udGFpbmVyLWxlZnQiLDQsIm5nSWYiXSxbImF1dG9jb21wbGV0ZSIsIm9mZiIsInR5cGUiLCJ0ZXh0IiwxLCJwby1pbnB1dCIsInBvLWNvbWJvLWlucHV0IiwzLCJuZ0NsYXNzIiwiZGlzYWJsZWQiLCJwbGFjZWhvbGRlciIsInJlcXVpcmVkIiwiY2xpY2siLCJrZXl1cCIsImJsdXIiLCJrZXl1cC5lbnRlciIsImtleWRvd24iXSxbImlucCIsIiJdLFsxLCJwby1maWVsZC1pY29uLWNvbnRhaW5lci1yaWdodCJdLFszLCJwLWVsZW1lbnQtcmVmIiwicC1jaGFuZ2UtZXZlbnQiLDQsIm5nSWYiXSxbMywiY2xpY2siXSxbImljb25BcnJvdyIsIiJdLFsxLCJwby1jb21iby1jb250YWluZXIiLDMsImhpZGRlbiJdLFsiY29udGFpbmVyRWxlbWVudCIsIiJdLFs0LCJuZ0lmIiwibmdJZlRoZW4iLCJuZ0lmRWxzZSJdLFsibG9hZGluZ1RlbXBsYXRlIiwiIl0sWyJvcHRpb25zVGVtcGxhdGUiLCIiXSxbInZpc2libGVPcHRpb25zVGVtcGxhdGUiLCIiXSxbIm5vRGF0YVRlbXBsYXRlIiwiIl0sWzEsInBvLWZpZWxkLWljb24tY29udGFpbmVyLWxlZnQiXSxbMSwicG8tZmllbGQtaWNvbiIsMywicC1pY29uIl0sWzMsInAtZWxlbWVudC1yZWYiLCJwLWNoYW5nZS1ldmVudCJdLFsxLCJwby1jb21iby1jb250YWluZXItbG9hZGluZyJdLFsxLCJwby1jb21iby1jb250YWluZXItY29udGVudCJdLFsiY29udGVudEVsZW1lbnQiLCIiXSxbMywicG8tY29tYm8taXRlbS1zZWxlY3RlZCIsImNsaWNrIiw0LCJuZ0ZvciIsIm5nRm9yT2YiXSxbImRlZmF1bHRPcHRpb25UZW1wbGF0ZSIsIiJdLFsib3B0aW9uVGVtcGxhdGUiLCIiXSxbImNsYXNzIiwicG8tY29tYm8taXRlbS10aXRsZSIsNCwibmdJZiIsIm5nSWZFbHNlIl0sWyJvcHRpb25MaW5rIiwiIl0sWzEsInBvLWNvbWJvLWl0ZW0tdGl0bGUiXSxbMSwicG8tY29tYm8taXRlbSJdLFszLCJpbm5lckhUTUwiXSxbIm9wdGlvbnNHcm91cFRlbXBsYXRlIiwiIl0sWyJkZWZhdWx0T3B0aW9uc1RlbXBsYXRlIiwiIl0sWzMsIm5nVGVtcGxhdGVPdXRsZXQiLCJuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCJdLFsxLCJwby1jb21iby1jb250YWluZXItbm8tZGF0YSJdLFsxLCJwby1jb21iby1uby1kYXRhIiwicG8tdGV4dC1jZW50ZXIiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXtpZigxJnQmJihEbygwLCJwby1maWVsZC1jb250YWluZXIiLDApLERvKDEsImRpdiIsMSksdm8oMixOeSwyLDMsImRpdiIsMiksRG8oMywiaW5wdXQiLDMsNCksRm8oImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBlLnRvZ2dsZUNvbWJvVmlzaWJpbGl0eSgpfSkoImtleXVwIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbktleVVwKHQpfSkoImJsdXIiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25CbHVyKCl9KSgia2V5dXAuZW50ZXIiLGZ1bmN0aW9uKHQpe3JldHVybiBlLnNlYXJjaE9uRW50ZXIodC50YXJnZXQudmFsdWUpfSkoImtleWRvd24iLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uS2V5RG93bih0KX0pLEVvKCksRG8oNSwiZGl2Iiw1KSx2byg2LGp5LDEsMSwicG8tY2xlYW4iLDYpLERvKDcsInNwYW4iLDcsOCksRm8oImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBlLnRvZ2dsZUNvbWJvVmlzaWJpbGl0eSgpfSksRW8oKSxFbygpLEVvKCksRG8oOSwiZGl2Iiw5LDEwKSx2bygxMSxNeSwxLDAsIm5nLWNvbnRhaW5lciIsMTEpLEVvKCksU28oMTIsInBvLWZpZWxkLWNvbnRhaW5lci1ib3R0b20iKSxFbygpLHZvKDEzLFZ5LDIsMCwibmctdGVtcGxhdGUiLG51bGwsMTIsR2wpLHZvKDE1LEh5LDEsMywibmctdGVtcGxhdGUiLG51bGwsMTMsR2wpLHZvKDE3LHR2LDMsMSwibmctdGVtcGxhdGUiLG51bGwsMTQsR2wpLHZvKDE5LGV2LDQsMSwibmctdGVtcGxhdGUiLG51bGwsMTUsR2wpKSwyJnQpe2NvbnN0IHQ9Ym8oNCksbj1ibygxNCkscj1ibygxNik7Q28oInAtbGFiZWwiLGUubGFiZWwpKCJwLWhlbHAiLGUuaGVscCkoInAtb3B0aW9uYWwiLCFlLnJlcXVpcmVkJiZlLm9wdGlvbmFsKSxXcygyKSxDbygibmdJZiIsZS5pY29uKSxXcygxKSwkbygicG8taW5wdXQtaWNvbi1sZWZ0IixlLmljb24pLENvKCJuZ0NsYXNzIixlLmNsZWFuJiZ0LnZhbHVlPyJwby1pbnB1dC1kb3VibGUtaWNvbi1yaWdodCI6InBvLWlucHV0LWljb24tcmlnaHQiKSgiZGlzYWJsZWQiLGUuZGlzYWJsZWQpKCJwbGFjZWhvbGRlciIsZS5wbGFjZWhvbGRlcikoInJlcXVpcmVkIixlLnJlcXVpcmVkKSxtbygibmFtZSIsZS5uYW1lKSxXcygzKSxDbygibmdJZiIsZS5jbGVhbiYmIWUuZGlzYWJsZWQpLFdzKDEpLHJhKCJwby1pY29uIHBvLWZpZWxkLWljb24gIixlLmNvbWJvSWNvbiwiIiksJG8oInBvLWZpZWxkLWljb24tZGlzYWJsZWQiLGUuZGlzYWJsZWQpKCJwby1maWVsZC1pY29uIiwhZS5kaXNhYmxlZCksV3MoMiksQ28oImhpZGRlbiIsIWUuY29tYm9PcGVuJiYhZS5pc1NlcnZlclNlYXJjaGluZyksV3MoMiksQ28oIm5nSWYiLGUuaXNTZXJ2ZXJTZWFyY2hpbmcpKCJuZ0lmVGhlbiIsbikoIm5nSWZFbHNlIixyKX19LGRpcmVjdGl2ZXM6W2FiLGloLGVoLGliLEF2LGhiLFB2LHJoLGxoXSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKTtjbGFzcyBaYntjb25zdHJ1Y3Rvcih0KXt0aGlzLmh0dHA9dH1leGVjdXRlKHQsZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3RoaXMucG9zdCh0LGUpOmVkKHQoZSkpfXBvc3QodCxlKXtyZXR1cm4gdGhpcy5odHRwLnBvc3QodCxlKX1zZXRGb3JtRGVmYXVsdElmRW1wdHkodCl7cmV0dXJuIHR8fHt2YWx1ZTp7fSxmaWVsZHM6W10sZm9jdXM6dm9pZCAwfX19bGV0IFliPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBaYntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1jcmVhdGVBbmRVcGRhdGVGaWVsZHNGb3JtKHQ9W10sZT1bXSl7cmV0dXJuWy4uLnRdLnJlZHVjZSgodCxuKT0+e2NvbnN0IHI9dC5maW5kSW5kZXgodD0+dC5wcm9wZXJ0eT09PW4ucHJvcGVydHkpO3JldHVybiByPj0wP3Rbcl09T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGVbcl0pLG4pOnQucHVzaChuKSx0fSxbLi4uZV0pfWV4ZWN1dGVMb2FkKHQsZSl7cmV0dXJuIHRoaXMuZXhlY3V0ZSh0LGUpLnBpcGUoeCh0PT50aGlzLnNldEZvcm1EZWZhdWx0SWZFbXB0eSh0KSkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihFZCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLEtiPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBaYntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1zZW5kRmllbGRDaGFuZ2UodCxlKXtyZXR1cm4gdGhpcy5leGVjdXRlKHQudmFsaWRhdGUse3Byb3BlcnR5OnQucHJvcGVydHksdmFsdWU6ZX0pLnBpcGUoeCh0PT50aGlzLnNldEZpZWxkRGVmYXVsdElmRW1wdHkodCkpKX1zZW5kRm9ybUNoYW5nZSh0LGUsbil7cmV0dXJuIHRoaXMuZXhlY3V0ZSh0LHtwcm9wZXJ0eTplLnByb3BlcnR5LHZhbHVlOm59KS5waXBlKHgodD0+dGhpcy5zZXRGb3JtRGVmYXVsdElmRW1wdHkodCkpKX11cGRhdGVGaWVsZHNGb3JtKHQ9W10sZT1bXSl7cmV0dXJuWy4uLnRdLnJlZHVjZSgodCxuKT0+e2NvbnN0IHI9dC5maW5kSW5kZXgodD0+dC5wcm9wZXJ0eT09PW4ucHJvcGVydHkpO3JldHVybiByPj0wJiYodFtyXT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZVtyXSksbikpLHR9LFsuLi5lXSl9c2V0RmllbGREZWZhdWx0SWZFbXB0eSh0KXtyZXR1cm4gdHx8e2ZpZWxkOnt9fX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoRWQpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxRYj0oKCk9PntjbGFzcyB0IGV4dGVuZHMgY2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnN0YWNrVG9wPVtdLHRoaXMuc3RhY2tCb3R0b209W10sdGhpcy5kZWZhdWx0RHVyYXRpb249MWU0fXN1Y2Nlc3ModCl7dGhpcy5jcmVhdGVUb2FzdGVyKHRoaXMuYnVpbGRUb2FzdGVyKHQsUmIuU3VjY2VzcykpfXdhcm5pbmcodCl7dGhpcy5jcmVhdGVUb2FzdGVyKHRoaXMuYnVpbGRUb2FzdGVyKHQsUmIuV2FybmluZykpfWVycm9yKHQpe3RoaXMuY3JlYXRlVG9hc3Rlcih0aGlzLmJ1aWxkVG9hc3Rlcih0LFJiLkVycm9yKSl9aW5mb3JtYXRpb24odCl7dGhpcy5jcmVhdGVUb2FzdGVyKHRoaXMuYnVpbGRUb2FzdGVyKHQsUmIuSW5mb3JtYXRpb24pKX1zZXREZWZhdWx0RHVyYXRpb24odCl7dGhpcy5kZWZhdWx0RHVyYXRpb249dH1idWlsZFRvYXN0ZXIodCxlKXtsZXQgbixyPTA7dm9pZCAwPT09dC5vcmllbnRhdGlvbnx8dC5vcmllbnRhdGlvbj09PUliLkJvdHRvbT8ocj10aGlzLnN0YWNrQm90dG9tLmxlbmd0aCxuPUliLkJvdHRvbSk6KHI9dGhpcy5zdGFja1RvcC5sZW5ndGgsbj1JYi5Ub3ApO2NvbnN0IHM9e2NvbXBvbmVudFJlZjp2b2lkIDAsbWVzc2FnZTp0Lm1lc3NhZ2V8fHQsdHlwZTplLG9yaWVudGF0aW9uOm4sYWN0aW9uOnQuYWN0aW9uLGFjdGlvbkxhYmVsOnQuYWN0aW9uTGFiZWwscG9zaXRpb246cixkdXJhdGlvbjp0LmR1cmF0aW9ufHx0aGlzLmRlZmF1bHREdXJhdGlvbn07cmV0dXJuIHQuYWN0aW9uJiYocy5hY3Rpb249ZT0+e3QuYWN0aW9uKCksdGhpcy5kZXN0cm95VG9hc3RlcihlLmNvbXBvbmVudFJlZil9KSxzfX17Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnBvQ29tcG9uZW50SW5qZWN0b3I9dH1jcmVhdGVUb2FzdGVyKHQpe2NvbnN0IGU9dGhpcy5wb0NvbXBvbmVudEluamVjdG9yLmNyZWF0ZUNvbXBvbmVudEluQXBwbGljYXRpb24oUGIpO3QuY29tcG9uZW50UmVmPWUsZS5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCksZS5pbnN0YW5jZS5jb25maWdUb2FzdGVyKHQpO2NvbnN0IG49dC5vcmllbnRhdGlvbj09PUliLlRvcD90aGlzLnN0YWNrVG9wOnRoaXMuc3RhY2tCb3R0b207bi5wdXNoKGUpLHRoaXMudmVyaWZ5TGltaXRUb2FzdGVyKG4pLHRoaXMub2JzZXJ2YWJsZU9uQ2xvc2UoZSksdC5hY3Rpb24mJnQuYWN0aW9uTGFiZWx8fGZ1bmN0aW9uKHQ9MCxlLG4pe2xldCByPS0xO3JldHVybiB5cChlKT9yPU51bWJlcihlKTwxPzE6TnVtYmVyKGUpOlMoZSkmJihuPWUpLFMobil8fChuPW1wKSxuZXcgdihlPT57Y29uc3Qgcz15cCh0KT90Oit0LW4ubm93KCk7cmV0dXJuIG4uc2NoZWR1bGUodnAscyx7aW5kZXg6MCxwZXJpb2Q6cixzdWJzY3JpYmVyOmV9KX0pfSh0LmR1cmF0aW9uKS5waXBlKGZ1bmN0aW9uKHQsZT0hMSl7cmV0dXJuIG49Pm4ubGlmdChuZXcgYXkodCxlKSl9KCgpPT5lLmluc3RhbmNlLmFsaXZlKSkuc3Vic2NyaWJlKCgpPT57dGhpcy5kZXN0cm95VG9hc3RlcihlKX0pfWRlc3Ryb3lUb2FzdGVyKHQpe2xldCBlO2U9dC5pbnN0YW5jZS5vcmllbnRhdGlvbj09PUliLlRvcD90aGlzLnN0YWNrVG9wOnRoaXMuc3RhY2tCb3R0b20sdC5pbnN0YW5jZS5zZXRGYWRlT3V0KCk7Y29uc3Qgbj1lLmluZGV4T2YodCk7ZS5zcGxpY2UobiwxKSxzZXRUaW1lb3V0KCgpPT57dGhpcy5wb0NvbXBvbmVudEluamVjdG9yLmRlc3Ryb3lDb21wb25lbnRJbkFwcGxpY2F0aW9uKHQpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF0uaW5zdGFuY2UuY2hhbmdlUG9zaXRpb24odCl9LDIwMCl9b2JzZXJ2YWJsZU9uQ2xvc2UodCl7dC5pbnN0YW5jZS5vYnNlcnZhYmxlT25DbG9zZS5zdWJzY3JpYmUoKCk9Pnt0aGlzLmRlc3Ryb3lUb2FzdGVyKHQpfSl9dmVyaWZ5TGltaXRUb2FzdGVyKHQpe3QubGVuZ3RoPjUmJnRoaXMuZGVzdHJveVRvYXN0ZXIodFswXSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKERiKSl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgdChhcihEYikpfSx0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QifSksdH0pKCksWGI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1t5aCxwcCxqZCxHdiwkdixkYixLdix1YixKdixwYixlYix0YixsYixOdix2YixiYixOYixCYixXdixUdl0sdWIsZGIscGIsbGJdfSksdH0pKCksSmI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1t5aCxXbV1dfSksdH0pKCk7dmFyIHR3PWZ1bmN0aW9uKHQpe3JldHVybiB0Lkhvcml6b250YWw9Imhvcml6b250YWwiLHQuVmVydGljYWw9InZlcnRpY2FsIix0fSh7fSksZXc9ZnVuY3Rpb24odCl7cmV0dXJuIHQuRGFuZ2VyPSJkYW5nZXIiLHQuSW5mbz0iaW5mbyIsdC5TdWNjZXNzPSJzdWNjZXNzIix0Lldhcm5pbmc9Indhcm5pbmciLHR9KHt9KTtjb25zdCBudz1PYmplY3QudmFsdWVzKFF2KSxydz10dy5WZXJ0aWNhbDtsZXQgc3c9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuY2xpY2s9bmV3IFRsLHRoaXMucG9UYWdPcmllbnRhdGlvbj10dyx0aGlzLl9vcmllbnRhdGlvbj1yd31zZXQgY29sb3IodCl7dGhpcy5fY29sb3I9bncuaW5jbHVkZXModCk/dDp2b2lkIDB9Z2V0IGNvbG9yKCl7cmV0dXJuIHRoaXMuX2NvbG9yfXNldCBpY29uKHQpe3RoaXMuX2ljb249dGhpcy50eXBlP2J2KHQpOnR9Z2V0IGljb24oKXtyZXR1cm4gdGhpcy5faWNvbn1zZXQgaW52ZXJzZSh0KXt0aGlzLl9pbnZlcnNlPWJ2KHQpfWdldCBpbnZlcnNlKCl7cmV0dXJuIHRoaXMuX2ludmVyc2V9c2V0IG9yaWVudGF0aW9uKHQpe3RoaXMuX29yaWVudGF0aW9uPU9iamVjdC52YWx1ZXModHcpLmluY2x1ZGVzKHQpP3Q6cnd9Z2V0IG9yaWVudGF0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWVudGF0aW9ufXNldCB0eXBlKHQpe3RoaXMuX3R5cGU9T2JqZWN0LnZhbHVlcyhldykuaW5jbHVkZXModCk/dDp2b2lkIDB9Z2V0IHR5cGUoKXtyZXR1cm4gdGhpcy5fdHlwZX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsaW5wdXRzOntjb2xvcjpbInAtY29sb3IiLCJjb2xvciJdLGljb246WyJwLWljb24iLCJpY29uIl0saW52ZXJzZTpbInAtaW52ZXJzZSIsImludmVyc2UiXSxvcmllbnRhdGlvbjpbInAtb3JpZW50YXRpb24iLCJvcmllbnRhdGlvbiJdLHR5cGU6WyJwLXR5cGUiLCJ0eXBlIl0sbGFiZWw6WyJwLWxhYmVsIiwibGFiZWwiXSx2YWx1ZTpbInAtdmFsdWUiLCJ2YWx1ZSJdfSxvdXRwdXRzOntjbGljazoicC1jbGljayJ9fSksdH0pKCk7dmFyIGl3PWZ1bmN0aW9uKHQpe3JldHVybiB0LkRhbmdlcj0icG8taWNvbi1jbG9zZSIsdC5JbmZvPSJwby1pY29uLWluZm8iLHQuU3VjY2Vzcz0icG8taWNvbi1vayIsdC5XYXJuaW5nPSJwby1pY29uLXdhcm5pbmciLHR9KHt9KTtjb25zdCBvdz0icG8tdGFnLSIrZXcuSW5mbztsZXQgYXc9KCgpPT57Y2xhc3MgdCBleHRlbmRzIHN3e25nT25Jbml0KCl7dGhpcy5pc0NsaWNrYWJsZT10aGlzLmNsaWNrLm9ic2VydmVycy5sZW5ndGg+MH1nZXQgaWNvbkZyb21UeXBlKCl7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSBldy5EYW5nZXI6cmV0dXJuIGl3LkRhbmdlcjtjYXNlIGV3LkluZm86cmV0dXJuIGl3LkluZm87Y2FzZSBldy5TdWNjZXNzOnJldHVybiBpdy5TdWNjZXNzO2Nhc2UgZXcuV2FybmluZzpyZXR1cm4gaXcuV2FybmluZ319Z2V0IHRhZ0NvbG9yKCl7cmV0dXJuIHRoaXMudHlwZT90aGlzLmludmVyc2U/YHBvLXRhZy0ke3RoaXMudHlwZX0taW52ZXJzZWA6YHBvLXRhZy0ke3RoaXMudHlwZX1gOnRoaXMuY29sb3I/dGhpcy5pbnZlcnNlP2Bwby10ZXh0LSR7dGhpcy5jb2xvcn1gOmBwby0ke3RoaXMuY29sb3J9YDp0aGlzLmludmVyc2U/YCR7b3d9LWludmVyc2VgOm93fWdldCB0YWdPcmllbnRhdGlvbigpe3JldHVybiB0aGlzLm9yaWVudGF0aW9uPT09dGhpcy5wb1RhZ09yaWVudGF0aW9uLkhvcml6b250YWx9b25DbGljaygpe3RoaXMuY2xpY2suZW1pdCh7dmFsdWU6dGhpcy52YWx1ZSx0eXBlOnRoaXMudHlwZX0pfW9uS2V5UHJlc3NlZCh0KXt0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLm9uQ2xpY2soKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKCl7bGV0IGU7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybihlfHwoZT1Wbih0KSkpKG58fHQpfX0oKSx0Llx1MDI3NWNtcD1VdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby10YWciXV0sZmVhdHVyZXM6W3JvXSxkZWNsczo3LHZhcnM6MTAsY29uc3RzOltbMSwicG8tdGFnLWNvbnRhaW5lciJdLFsiY2xhc3MiLCJwby10YWctdGl0bGUgcG8tdGV4dC1ub3dyYXAiLDQsIm5nSWYiXSxbMSwicG8tdGFnLXN1Yi1jb250YWluZXIiXSxbInRhYmluZGV4IiwiMCIsMSwicG8tdGFnIiwzLCJuZ0NsYXNzIiwiY2xpY2siLCJrZXlkb3duLmVudGVyIiwia2V5ZG93bi5zcGFjZSIsImtleXVwLnNwYWNlIl0sWyJjbGFzcyIsInBvLXRhZy1pY29uIiwzLCJwLWljb24iLDQsIm5nSWYiXSxbMSwicG8tdGFnLXZhbHVlIl0sWzEsInBvLXRhZy10aXRsZSIsInBvLXRleHQtbm93cmFwIl0sWzEsInBvLXRhZy1sYWJlbCJdLFsxLCJwby10YWctaWNvbiIsMywicC1pY29uIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoRG8oMCwiZGl2IiwwKSx2bygxLG52LDMsMSwiZGl2IiwxKSxEbygyLCJkaXYiLDIpLERvKDMsImRpdiIsMyksRm8oImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBlLm9uQ2xpY2soKX0pKCJrZXlkb3duLmVudGVyIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbktleVByZXNzZWQodCl9KSgia2V5ZG93bi5zcGFjZSIsZnVuY3Rpb24odCl7cmV0dXJuIHQucHJldmVudERlZmF1bHQoKX0pKCJrZXl1cC5zcGFjZSIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25LZXlQcmVzc2VkKHQpfSksdm8oNCxydiwxLDEsInBvLWljb24iLDQpLERvKDUsInNwYW4iLDUpLHRhKDYpLEVvKCksRW8oKSxFbygpLEVvKCkpLDImdCYmKCRvKCJwby10YWctY29udGFpbmVyLWhvcml6b250YWwiLGUudGFnT3JpZW50YXRpb24pLFdzKDEpLENvKCJuZ0lmIixlLmxhYmVsKSxXcygyKSwkbygicG8tY2xpY2thYmxlIixlLmlzQ2xpY2thYmxlKSgicG8tdGFnLWludmVyc2UiLGUuaW52ZXJzZSksQ28oIm5nQ2xhc3MiLGUudGFnQ29sb3IpLFdzKDEpLENvKCJuZ0lmIixlLmljb24pLFdzKDIpLGVhKGUudmFsdWUpKX0sZGlyZWN0aXZlczpbaWgsZWgsQXZdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpLGx3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbeWgsVHZdXX0pLHR9KSgpLHV3PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5odHRwPXR9b25Mb2FkKHQsZSl7cmV0dXJuIHRoaXMuaHR0cC5wb3N0KHQsZSkudG9Qcm9taXNlKCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKEVkKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksY3c9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltmaCxkaCxwaCxNYixoaCxZYixLYix1d10saW1wb3J0czpbW3loLHBwLG5iLEpiLFhiLGx3LFZiXV19KSx0fSkoKTtNYXRoO2xldCBodz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbeWgsV3ZdXX0pLHR9KSgpLGR3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t5aCxwcCxYYl1dfSksdH0pKCkscHc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1t5aCxXbSwkdixyYl1dfSksdH0pKCksZnc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3loXV19KSx0fSkoKSxndz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbeWgsV20sZncsWGIsTnYsVHZdXX0pLHR9KSgpLG13PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLnN1YmplY3RDaGlsZD1uZXcgRCx0aGlzLnN1YmplY3RQYXJlbnQ9bmV3IER9cmVjZWl2ZUZyb21DaGlsZE1lbnVDbGlja2VkKCl7cmV0dXJuIHRoaXMuc3ViamVjdENoaWxkLmFzT2JzZXJ2YWJsZSgpfXJlY2VpdmVGcm9tUGFyZW50TWVudUNsaWNrZWQoKXtyZXR1cm4gdGhpcy5zdWJqZWN0UGFyZW50LmFzT2JzZXJ2YWJsZSgpfXNlbmRUb1BhcmVudE1lbnVDbGlja2VkKHQpe3RoaXMuc3ViamVjdENoaWxkLm5leHQodCl9c2VuZFRvQ2hpbGRNZW51Q2xpY2tlZCh0KXt0aGlzLnN1YmplY3RQYXJlbnQubmV4dCh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCkseXc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOlttd10saW1wb3J0czpbW3loLFdtLFhiLFd2XV19KSx0fSkoKSx2dz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbeWgscmIsV3YsVHZdXX0pLHR9KSgpLGJ3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t5aCxXbV1dfSksdH0pKCksd3c9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3loLFdtXV19KSx0fSkoKSxDdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbeWgsdncsYncsd3csZ3csVHZdXX0pLHR9KSgpLF93PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t5aCxwcCxXbSx4diwkdixlYixzYixYYixMdix2Yl1dfSksdH0pKCksRHc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1t5aCxXbSxKdl1dfSksdH0pKCksRXc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3loXV19KSx0fSkoKSxTdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbeWgsamJdXX0pLHR9KSgpLHh3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbeWgsZHYscmIsVHZdXX0pLHR9KSgpLEF3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1t5aCxwcCxKdixYYl1dfSksdH0pKCksVHc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW3loLEp2XV19KSx0fSkoKSxPdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW2h2LGR2LHh2LCR2LEd2LEt2LFh2LEp2LGViLHRiLG5iLHNiLGN3LFhiLGh3LGR3LFR2LEpiLHB3LE52LGd3LHl3LHZiLEN3LF93LGpiLHJiLGJiLER3LEV3LEJiLFN3LGx3LHh3LEF3LFR3XSxodixkdix4diwkdixHdixLdixYdixKdixlYix0YixuYixzYixjdyxYYixodyxkdyxUdixKYixwdyxOdixndyx5dyx2YixDdyxfdyxqYixyYixiYixEdyxFdyxCYixTdyxsdyx4dyxBdyxUd119KSx0fSkoKSxGdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW1d2XSxXdl19KSx0fSkoKSxrdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW11dfSksdH0pKCk7Y29uc3QgSXc9e2VuOntjbG9zZUJ1dHRvbjoiQ2xvc2UiLGRldGFpbHM6IkRldGFpbHMiLGRldGFpbDoiRGV0YWlsIixlcnJvcjoiRXJyb3IiLHdhcm5pbmc6Ildhcm5pbmciLGluZm9ybWF0aW9uOiJJbmZvcm1hdGlvbiIsc3VjY2VzczoiU3VjY2VzcyJ9LGVzOntjbG9zZUJ1dHRvbjoiQ2VycmFyIixkZXRhaWxzOiJEZXRhbGxlcyIsZGV0YWlsOiJEZXRhbGxlIixlcnJvcjoiRXJyb3IiLHdhcm5pbmc6IkFkdmVydGVuY2lhIixpbmZvcm1hdGlvbjoiSW5mb3JtYWNpb24iLHN1Y2Nlc3M6Ilx4Yzl4aXRvIn0scHQ6e2Nsb3NlQnV0dG9uOiJGZWNoYXIiLGRldGFpbHM6IkRldGFsaGVzIixkZXRhaWw6IkRldGFsaGUiLGVycm9yOiJFcnJvIix3YXJuaW5nOiJBdmlzbyIsaW5mb3JtYXRpb246IkluZm9ybWFceGU3XHhlM28iLHN1Y2Nlc3M6IlN1Y2Vzc28ifSxydTp7Y2xvc2VCdXR0b246Ilx1MDQxN1x1MDQzMFx1MDQzYVx1MDQ0MFx1MDQ0Ylx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQ0YyIsZGV0YWlsczoiXHUwNDE0XHUwNDM1XHUwNDQyXHUwNDMwXHUwNDNiXHUwNDM4IixkZXRhaWw6Ilx1MDQxNFx1MDQzNVx1MDQ0Mlx1MDQzMFx1MDQzYlx1MDQ0YyIsZXJyb3I6Ilx1MDQxZVx1MDQ0OFx1MDQzOFx1MDQzMVx1MDQzYVx1MDQzMCIsd2FybmluZzoiXHUwNDFmXHUwNDQwXHUwNDM1XHUwNDM0XHUwNDQzXHUwNDNmXHUwNDQwXHUwNDM1XHUwNDM2XHUwNDM0XHUwNDM1XHUwNDNkXHUwNDM4XHUwNDM1IixpbmZvcm1hdGlvbjoiXHUwNDE4XHUwNDNkXHUwNDQ0XHUwNDNlXHUwNDQwXHUwNDNjXHUwNDMwXHUwNDQ2XHUwNDM4XHUwNDRmIixzdWNjZXNzOiJZXHUwNDQxXHUwNDNmXHUwNDM1XHUwNDQ1In19LFJ3PXtzdWNjZXNzOiJjb2xvci0xMSIsZXJyb3I6ImNvbG9yLTA3Iix3YXJuaW5nOiJjb2xvci0wOCIsaW5mbzoiIn07bGV0IFB3PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5sYW5ndWFnZVNlcnZpY2U9dCx0aGlzLmNsb3NlZD1uZXcgVGwsdGhpcy5kZXRhaWxzPVtdLHRoaXMubGFuZ3VhZ2U9dGhpcy5sYW5ndWFnZVNlcnZpY2UuZ2V0U2hvcnRMYW5ndWFnZSgpLHRoaXMubGl0ZXJhbHM9SXdbdGhpcy5sYW5ndWFnZV0sdGhpcy5wcmltYXJ5QWN0aW9uPXthY3Rpb246KCk9PnRoaXMuY2xvc2UoKSxsYWJlbDp0aGlzLmxpdGVyYWxzLmNsb3NlQnV0dG9ufX1zZXQgZGV0YWlsKHQpe3QmJnQubGVuZ3RoJiYodGhpcy5kZXRhaWxzPXRoaXMuZmlsdGVyQnlWYWxpZERldGFpbHModCkpLHRoaXMudGl0bGU9dGhpcy5mb3JtYXRUaXRsZSh0aGlzLmRldGFpbHMpfWNsb3NlKCl7dGhpcy5tb2RhbC5jbG9zZSgpLHRoaXMuY2xvc2VkLmVtaXQoKX1mb3JtYXREZXRhaWxJdGVtVGl0bGUodCl7cmV0dXJuIHQuY29kZT9gJHt0LmNvZGV9IC0gJHt0Lm1lc3NhZ2V9YDp0Lm1lc3NhZ2V9b3Blbigpe3RoaXMubW9kYWwub3BlbigpfXR5cGVDb2xvcih0KXtyZXR1cm4gUndbdF19dHlwZVZhbHVlKHQpe3JldHVybiBJd1t0aGlzLmxhbmd1YWdlXVt0XXx8dH1hZGRWYWxpZERldGFpbCh0LGUpe3JldHVybiBlLm1lc3NhZ2U/dC5jb25jYXQodGhpcy5nZXRWYWxpZERldGFpbFByb3BlcnRpZXMoZSkpOnR9Z2V0VmFsaWREZXRhaWxQcm9wZXJ0aWVzKHtjb2RlOnQsbWVzc2FnZTplLGRldGFpbGVkTWVzc2FnZTpuLHR5cGU6cn0pe3JldHVybntjb2RlOnQsbWVzc2FnZTplLGRldGFpbGVkTWVzc2FnZTpuLHR5cGU6cn19ZmlsdGVyQnlWYWxpZERldGFpbHModCl7cmV0dXJuIHQucmVkdWNlKCh0LGUpPT50aGlzLmFkZFZhbGlkRGV0YWlsKHQsZSksW10pfWZvcm1hdFRpdGxlKHQpe3JldHVybiB0Lmxlbmd0aD4xP2Ake3RoaXMubGl0ZXJhbHMuZGV0YWlsc30gKCR7dC5sZW5ndGh9KWA6dGhpcy5saXRlcmFscy5kZXRhaWx9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKHdvKFN2KSl9LHQuXHUwMjc1Y21wPVV0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWh0dHAtaW50ZXJjZXB0b3ItZGV0YWlsIl1dLHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmSGwoeWIsNyksMiZ0KXtsZXQgdDtCbCh0PSRsKCkpJiYoZS5tb2RhbD10LmZpcnN0KX19LGRlY2xzOjQsdmFyczozLGNvbnN0czpbWyJwLWhpZGUtY2xvc2UiLCIiLCJwLXNpemUiLCJsZyIsMywicC1wcmltYXJ5LWFjdGlvbiIsInAtdGl0bGUiXSxbMSwicG8tcm93Il0sWzEsInBvLW1kLTEyIiwicG8tbXQtMSIsInBvLW1iLTEiXSxbMywicC1sYWJlbCIsNCwibmdGb3IiLCJuZ0Zvck9mIl0sWzMsInAtbGFiZWwiXSxbImNsYXNzIiwicG8tcm93IHBvLW1iLTEiLDQsIm5nSWYiXSxbMSwicG8tcm93IiwicG8tbWItMSJdLFszLCJwLWNvbG9yIiwicC12YWx1ZSJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKERvKDAsInBvLW1vZGFsIiwwKSxEbygxLCJkaXYiLDEpLERvKDIsInBvLWFjY29yZGlvbiIsMiksdm8oMyxpdiw1LDMsInBvLWFjY29yZGlvbi1pdGVtIiwzKSxFbygpLEVvKCksRW8oKSksMiZ0JiYoQ28oInAtcHJpbWFyeS1hY3Rpb24iLGUucHJpbWFyeUFjdGlvbikoInAtdGl0bGUiLGUudGl0bGUpLFdzKDMpLENvKCJuZ0Zvck9mIixlLmRldGFpbHMpKX0sZGlyZWN0aXZlczpbeWIsbHYscmgsYXYsaWgsYXddLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpO2NvbnN0IEx3PXtwdDp7aGVscDoiQWp1ZGEiLGRldGFpbHM6IkRldGFsaGVzIixzZXJ2ZXJOb3RSZXNwb25zZToiU2Vydmlkb3Igblx4ZTNvIGVzdFx4ZTEgcmVzcG9uZGVuZG8ifSxlbjp7aGVscDoiSGVscCIsZGV0YWlsczoiRGV0YWlscyIsc2VydmVyTm90UmVzcG9uc2U6IlNlcnZlciBpcyBub3QgcmVzcG9uZGluZyJ9LGVzOntoZWxwOiJBeXVkYSIsZGV0YWlsczoiRGV0YWxsZXMiLHNlcnZlck5vdFJlc3BvbnNlOiJFbCBzZXJ2aWRvciBubyBlc3RceGUxIHJlc3BvbmRpZW5kbyJ9LHJ1OntoZWxwOiJcdTA0MWZcdTA0M2VcdTA0M2NcdTA0M2VcdTA0MzNcdTA0MzhcdTA0NDJcdTA0MzUiLGRldGFpbHM6Ilx1MDQxNFx1MDQzNVx1MDQ0Mlx1MDQzMFx1MDQzYlx1MDQzOCIsc2VydmVyTm90UmVzcG9uc2U6Ilx1MDQyMVx1MDQzNVx1MDQ0MFx1MDQzMlx1MDQzNVx1MDQ0MCBcdTA0M2RcdTA0MzUgXHUwNDNlXHUwNDQyXHUwNDMyXHUwNDM1XHUwNDQ3XHUwNDMwXHUwNDM1XHUwNDQyIn19LE53PSJYLVBPLU5vLUVycm9yIixqdz0iWC1QTy1Oby1NZXNzYWdlIjtsZXQgTXc9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGNsYXNze2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLmNvbXBvbmVudEluamVjdG9yPXQsdGhpcy5ub3RpZmljYXRpb249ZSx0aGlzLmxhbmd1YWdlU2VydmljZT1uLHRoaXMubm90aWZpY2F0aW9uVHlwZXM9WyJzdWNjZXNzIiwid2FybmluZyIsImVycm9yIiwiaW5mb3JtYXRpb24iXSx0aGlzLmxpdGVyYWxzPUx3W3RoaXMubGFuZ3VhZ2VTZXJ2aWNlLmdldFNob3J0TGFuZ3VhZ2UoKV0sdGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQ9dm9pZCAwfWludGVyY2VwdCh0LGUpe2NvbnN0IG49dC5jbG9uZSgpO3JldHVybiB0PXQmJnRoaXMuaGFzUGFyYW1ldGVycyh0KT90aGlzLmNsb25lUmVxdWVzdFdpdGhvdXRQYXJhbWV0ZXJzKHQpOnQsZS5oYW5kbGUodCkucGlwZSh0Zih0PT57dCBpbnN0YW5jZW9mIENkJiZ0aGlzLnByb2Nlc3NSZXNwb25zZSh0LG4pfSx0PT57dGhpcy5wcm9jZXNzRXJyb3JSZXNwb25zZSh0LG4pfSkpfXByb2Nlc3NSZXNwb25zZSh0LGUpe2lmKCF0aGlzLmhhc05vTWVzc2FnZVBhcmFtKGUpJiZ0LmJvZHkmJnQuYm9keS5fbWVzc2FnZXMpe2NvbnN0IGU9dC5ib2R5Ll9tZXNzYWdlcztlIGluc3RhbmNlb2YgQXJyYXk/ZS5mb3JFYWNoKHQ9Pnt0aGlzLnNob3dOb3RpZmljYXRpb24odCl9KTp0aGlzLnNob3dOb3RpZmljYXRpb24oZSl9fXByb2Nlc3NFcnJvclJlc3BvbnNlKHQsZSl7Y29uc3Qgbj0wIT09dC5zdGF0dXM/dC5lcnJvcjp7Y29kZTowLG1lc3NhZ2U6dGhpcy5saXRlcmFscy5zZXJ2ZXJOb3RSZXNwb25zZSxkZXRhaWxlZE1lc3NhZ2U6dC5tZXNzYWdlfSxyPXRoaXMuaGFzTm9FcnJvclBhcmFtKGUpLHM9dGhpcy5oYXNOb01lc3NhZ2VQYXJhbShlKSxpPXRoaXMubm90aWZpY2F0aW9uVHlwZXMuc2xpY2UoMSk7biYmbi5tZXNzYWdlJiYhciYmIXMmJnRoaXMuc2hvd05vdGlmaWNhdGlvbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbikse3R5cGU6aS5pbmNsdWRlcyhuLnR5cGUpP24udHlwZToiZXJyb3IifSkpfWNsb25lUmVxdWVzdFdpdGhvdXRQYXJhbWV0ZXJzKHQpe2NvbnN0IGU9dC5oZWFkZXJzLmRlbGV0ZShOdykuZGVsZXRlKGp3KTtyZXR1cm4gdC5jbG9uZSh7aGVhZGVyczplfSl9Y3JlYXRlTW9kYWwodCl7Y29uc3QgZT10LmRldGFpbHM/W3QsLi4udC5kZXRhaWxzXTpbdF07dGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQ9dGhpcy5jb21wb25lbnRJbmplY3Rvci5jcmVhdGVDb21wb25lbnRJbkFwcGxpY2F0aW9uKFB3KSx0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudC5pbnN0YW5jZS5kZXRhaWw9ZSx0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudC5pbnN0YW5jZS5jbG9zZWQuc3Vic2NyaWJlKCgpPT50aGlzLmRlc3Ryb3lNb2RhbCgpKSx0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudC5pbnN0YW5jZS5vcGVuKCl9ZGVzdHJveU1vZGFsKCl7dGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQmJih0aGlzLmNvbXBvbmVudEluamVjdG9yLmRlc3Ryb3lDb21wb25lbnRJbkFwcGxpY2F0aW9uKHRoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50KSx0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudD12b2lkIDApfWhhc01lc3NhZ2UodCl7cmV0dXJuIHQmJnQubWVzc2FnZX1oYXNOb0Vycm9yUGFyYW0odCl7Y29uc3QgZT10JiZ0LmhlYWRlcnMuZ2V0KE53KTtyZXR1cm4gZSYmInRydWUiPT09ZS50b1N0cmluZygpLnRvTG9jYWxlTG93ZXJDYXNlKCl9aGFzTm9NZXNzYWdlUGFyYW0odCl7Y29uc3QgZT10JiZ0LmhlYWRlcnMuZ2V0KGp3KTtyZXR1cm4gZSYmInRydWUiPT09ZS50b1N0cmluZygpLnRvTG9jYWxlTG93ZXJDYXNlKCl9aGFzUGFyYW1ldGVycyh0KXtyZXR1cm4gdC5oZWFkZXJzLmhhcyhOdyl8fHQuaGVhZGVycy5oYXMoancpfXNob3dOb3RpZmljYXRpb24odCl7aWYoIXRoaXMuaGFzTWVzc2FnZSh0KSlyZXR1cm47Y29uc3QgZT10aGlzLm5vdGlmaWNhdGlvblR5cGVzLmluY2x1ZGVzKHQudHlwZSk/dC50eXBlOiJpbmZvcm1hdGlvbiIsbj10aGlzLmdlbmVyYXRlTm90aWZpY2F0aW9uQWN0aW9uKHQpO3RoaXMubm90aWZpY2F0aW9uW2VdKHttZXNzYWdlOnQubWVzc2FnZSxhY3Rpb25MYWJlbDpuLmxhYmVsLGFjdGlvbjpuLmFjdGlvbn0pfWdlbmVyYXRlRGV0YWlsTW9kYWwodCl7cmV0dXJuKCk9Pnt0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudHx8dGhpcy5jcmVhdGVNb2RhbCh0KX19Z2VuZXJhdGVOb3RpZmljYXRpb25BY3Rpb24odCl7bGV0IGUsbjtyZXR1cm4hdC5oZWxwVXJsfHx0LmRldGFpbGVkTWVzc2FnZXx8dC5kZXRhaWxzPyh0LmRldGFpbGVkTWVzc2FnZXx8dC5kZXRhaWxzKSYmKG49dGhpcy5saXRlcmFscy5kZXRhaWxzLGU9dGhpcy5nZW5lcmF0ZURldGFpbE1vZGFsKHQpKToobj10aGlzLmxpdGVyYWxzLmhlbHAsZT10aGlzLmdlbmVyYXRlVXJsSGVscEZ1bmN0aW9uKHQuaGVscFVybCkpLHtsYWJlbDpuLGFjdGlvbjplfX1nZW5lcmF0ZVVybEhlbHBGdW5jdGlvbih0KXtyZXR1cm4oKT0+e3dpbmRvdy5vcGVuKHQsIl9ibGFuayIpfX19e2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcihlLHQsbil9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKFFiKSxhcihEYiksYXIoU3YpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxWdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W013LFFiLHtwcm92aWRlOnhkLHVzZUNsYXNzOk13LG11bHRpOiEwfV0saW1wb3J0czpbW3loLGh2LHZiLExiLGx3XV19KSx0fSkoKSxCdz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5jb250cm9sSHR0cFJlcXVlc3Q9bmV3IER9Z2V0Q29udHJvbEh0dHBSZXF1ZXN0KCl7cmV0dXJuIHRoaXMuY29udHJvbEh0dHBSZXF1ZXN0LmFzT2JzZXJ2YWJsZSgpfXNlbmQodD0wKXt0aGlzLmNvbnRyb2xIdHRwUmVxdWVzdC5uZXh0KHQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCBIdz0iWC1QTy1Oby1Db3VudC1QZW5kaW5nLVJlcXVlc3RzIixVdz0iWC1QTy1TY3JlZW4tTG9jayI7bGV0ICR3PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLmNvbnRyb2xIdHRwUmVxdWVzdD10LHRoaXMucG9Db21wb25lbnRJbmplY3Rvcj1lLHRoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnQ9dm9pZCAwLHRoaXMucGVuZGluZ1JlcXVlc3RzPTAsdGhpcy5vdmVybGF5UmVxdWVzdHM9MH1pbnRlcmNlcHQodCxlKXtjb25zdCBuPXQuY2xvbmUoKTtyZXR1cm4gdD10aGlzLnJlcXVlc3RDbG9uZVdpdGhvdXRIZWFkZXJQYXJhbShbSHcsVXddLHQpLHRoaXMuc2V0Q291bnRQZW5kaW5nUmVxdWVzdHMoITAsbiksdGhpcy5zZXRDb3VudE92ZXJsYXlSZXF1ZXN0cyghMCxuKSxlLmhhbmRsZSh0KS5waXBlKHRmKHQ9Pnt0IGluc3RhbmNlb2YgQ2QmJih0aGlzLnNldENvdW50UGVuZGluZ1JlcXVlc3RzKCExLG4pLHRoaXMuc2V0Q291bnRPdmVybGF5UmVxdWVzdHMoITEsbikpfSksVnAodD0+KHRoaXMuc2V0Q291bnRQZW5kaW5nUmVxdWVzdHMoITEsbiksdGhpcy5zZXRDb3VudE92ZXJsYXlSZXF1ZXN0cyghMSxuKSxHZCh0KSkpKX1nZXRDb3VudFBlbmRpbmdSZXF1ZXN0cygpe3JldHVybiB0aGlzLmNvbnRyb2xIdHRwUmVxdWVzdC5nZXRDb250cm9sSHR0cFJlcXVlc3QoKX1idWlsZExvYWRpbmcoKXt0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50fHwodGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudD10aGlzLnBvQ29tcG9uZW50SW5qZWN0b3IuY3JlYXRlQ29tcG9uZW50SW5BcHBsaWNhdGlvbihrdiksdGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudC5pbnN0YW5jZS5zY3JlZW5Mb2NrPSEwLHRoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnQuaW5zdGFuY2UuY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpKX1kZXN0cm95TG9hZGluZygpe3RoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnQmJih0aGlzLnBvQ29tcG9uZW50SW5qZWN0b3IuZGVzdHJveUNvbXBvbmVudEluQXBwbGljYXRpb24odGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudCksdGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudD12b2lkIDApfXJlcXVlc3RDbG9uZVdpdGhvdXRIZWFkZXJQYXJhbSh0LGUpe2xldCBuPSExO3JldHVybiB0LmZvckVhY2godD0+e2UuaGVhZGVycy5oYXModCkmJihlLmhlYWRlcnMuZGVsZXRlKHQpLG49ITApfSksbj9lLmNsb25lKHtoZWFkZXJzOmUuaGVhZGVyc30pOmV9c2V0Q291bnRQZW5kaW5nUmVxdWVzdHModCxlKXtjb25zdCBuPWUuaGVhZGVycy5oYXMoSHcpLHI9ZS5oZWFkZXJzLmdldChIdyk7biYmInRydWUiPT09ci50b1N0cmluZygpLnRvTG93ZXJDYXNlKCl8fCh0aGlzLnBlbmRpbmdSZXF1ZXN0cys9dD8xOi0xLHRoaXMuY29udHJvbEh0dHBSZXF1ZXN0LnNlbmQodGhpcy5wZW5kaW5nUmVxdWVzdHMpKX1zZXRDb3VudE92ZXJsYXlSZXF1ZXN0cyh0LGUpe2lmKGUuaGVhZGVycy5oYXMoVXcpKXtpZigiZmFsc2UiPT09ZS5oZWFkZXJzLmdldChVdykudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKXJldHVybjt0aGlzLm92ZXJsYXlSZXF1ZXN0cys9dD8xOi0xLHRoaXMub3ZlcmxheVJlcXVlc3RzPjA/dGhpcy5idWlsZExvYWRpbmcoKTp0aGlzLmRlc3Ryb3lMb2FkaW5nKCl9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihCdyksYXIoRGIpKX0sdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KGFyKEJ3KSxhcihEYikpfSx0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QifSksdH0pKCksenc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltCdywkdyxEYix7cHJvdmlkZTp4ZCx1c2VDbGFzczokdyxtdWx0aTohMH1dLGltcG9ydHM6W1tOdl1dfSksdH0pKCkscXc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tWdyx6d10sVncsenddfSksdH0pKCksV3c9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tWYl0sVmJdfSksdH0pKCksR3c9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltRYl0saW1wb3J0czpbW093LEZ3LGt3LHF3LFd3LE5iXSxPdyxGdyxxdyxrdyxXdyxOYl19KSx0fSkoKTtmdW5jdGlvbiBadyguLi50KXtjb25zdCBlPXQubGVuZ3RoO2lmKDA9PT1lKXRocm93IG5ldyBFcnJvcigibGlzdCBvZiBwcm9wZXJ0aWVzIGNhbm5vdCBiZSBlbXB0eS4iKTtyZXR1cm4gbj0+eChmdW5jdGlvbih0LGUpe3JldHVybiBuPT57bGV0IHI9bjtmb3IobGV0IHM9MDtzPGU7cysrKXtjb25zdCBlPW51bGwhPXI/clt0W3NdXTp2b2lkIDA7aWYodm9pZCAwPT09ZSlyZXR1cm47cj1lfXJldHVybiByfX0odCxlKSkobil9bmV3ICRuKCJJMThOX0NPTkZJRyIpO2xldCBZdz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuaHR0cD10LHRoaXMudGl0bGU9ImZvcm0tcGVvcGxlIix0aGlzLnZhbHVlPXt2YWx1ZTowLGxhYmVsOiIiLGlkOjAsbmFtZToiIixuaWNrbmFtZToiIixlbWFpbDoiIn19bmdPbkluaXQoKXt9b25TZWxlY3RQZXJzb24odCl7Y29uc29sZS5sb2coIml0ZW0iLHQpLHRoaXMuaHR0cC5nZXQoYGh0dHBzOi8vcG8tc2FtcGxlLWFwaS5oZXJva3VhcHAuY29tL3YxL2hlcm9lcz9pZD0ke3R9YCkucGlwZShadygiaXRlbXMiKSxadygiMCIpKS5zdWJzY3JpYmUodD0+dGhpcy5wcmVwYXJlU2VuZCh0KSx0PT5jb25zb2xlLmVycm9yKHQpKX1wcmVwYXJlU2VuZCh0KXtsZXQgZT1bXTtmb3IobGV0IG4gaW4gdCllLnB1c2goe25hbWU6bix2YWx1ZTp0W25dfSk7Y29uc29sZS5sb2coe2RldGFpbDplfSksdGhpcy5zZW5kVmFsdWUoZSl9c2VuZFZhbHVlKHQpe2NvbnNvbGUubG9nKHQpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJlbWl0VmFsdWUiLHtkZXRhaWw6dH0pKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkod28oRWQpKX0sdC5cdTAyNzVjbXA9VXQoe3R5cGU6dCxzZWxlY3RvcnM6W1siZnAtcm9vdCJdXSxpbnB1dHM6e3Rlc3RlOiJ0ZXN0ZSJ9LGRlY2xzOjEsdmFyczowLGNvbnN0czpbWyJuYW1lIiwidmFsdWUiLCJwLWZpbHRlci1zZXJ2aWNlIiwiaHR0cHM6Ly9wby1zYW1wbGUtYXBpLmhlcm9rdWFwcC5jb20vdjEvaGVyb2VzIiwicC1sYWJlbCIsIlBlc3NvYXMiLDEsInBvLW1kLTEyIiwzLCJbbmdNb2RlbF0iLCJwLWNoYW5nZSJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKERvKDAsInBvLWNvbWJvIiwwKSxGbygiW25nTW9kZWxdIixmdW5jdGlvbigpe3JldHVybiBlLnZhbHVlfSkoInAtY2hhbmdlIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vblNlbGVjdFBlcnNvbih0KX0pLEVvKCkpfSxkaXJlY3RpdmVzOltHYl0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksS3c9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXtjb25zdCBlPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1mdW5jdGlvbih0LGUpe3JldHVybiBlLmdldChEYSkucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodCkuaW5wdXRzfSh0LGUuaW5qZWN0b3IpLHI9ZS5zdHJhdGVneUZhY3Rvcnl8fG5ldyBvcCh0LGUuaW5qZWN0b3IpLHM9ZnVuY3Rpb24odCl7Y29uc3QgZT17fTtyZXR1cm4gdC5mb3JFYWNoKCh7cHJvcE5hbWU6dCx0ZW1wbGF0ZU5hbWU6bn0pPT57dmFyIHI7ZVsocj1uLHIucmVwbGFjZSgvW0EtWl0vZyx0PT5gLSR7dC50b0xvd2VyQ2FzZSgpfWApKV09dH0pLGV9KG4pO2NsYXNzIGkgZXh0ZW5kcyBscHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuaW5qZWN0b3I9dH1nZXQgbmdFbGVtZW50U3RyYXRlZ3koKXtpZighdGhpcy5fbmdFbGVtZW50U3RyYXRlZ3kpe2NvbnN0IHQ9dGhpcy5fbmdFbGVtZW50U3RyYXRlZ3k9ci5jcmVhdGUodGhpcy5pbmplY3Rvcnx8ZS5pbmplY3Rvcik7bi5mb3JFYWNoKCh7cHJvcE5hbWU6ZX0pPT57aWYoIXRoaXMuaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuO2NvbnN0IG49dGhpc1tlXTtkZWxldGUgdGhpc1tlXSx0LnNldElucHV0VmFsdWUoZSxuKX0pfXJldHVybiB0aGlzLl9uZ0VsZW1lbnRTdHJhdGVneX1hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sodCxlLG4scil7dGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5zZXRJbnB1dFZhbHVlKHNbdF0sbil9Y29ubmVjdGVkQ2FsbGJhY2soKXtsZXQgdD0hMTt0aGlzLm5nRWxlbWVudFN0cmF0ZWd5LmV2ZW50cyYmKHRoaXMuc3Vic2NyaWJlVG9FdmVudHMoKSx0PSEwKSx0aGlzLm5nRWxlbWVudFN0cmF0ZWd5LmNvbm5lY3QodGhpcyksdHx8dGhpcy5zdWJzY3JpYmVUb0V2ZW50cygpfWRpc2Nvbm5lY3RlZENhbGxiYWNrKCl7dGhpcy5fbmdFbGVtZW50U3RyYXRlZ3kmJnRoaXMuX25nRWxlbWVudFN0cmF0ZWd5LmRpc2Nvbm5lY3QoKSx0aGlzLm5nRWxlbWVudEV2ZW50c1N1YnNjcmlwdGlvbiYmKHRoaXMubmdFbGVtZW50RXZlbnRzU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCksdGhpcy5uZ0VsZW1lbnRFdmVudHNTdWJzY3JpcHRpb249bnVsbCl9c3Vic2NyaWJlVG9FdmVudHMoKXt0aGlzLm5nRWxlbWVudEV2ZW50c1N1YnNjcmlwdGlvbj10aGlzLm5nRWxlbWVudFN0cmF0ZWd5LmV2ZW50cy5zdWJzY3JpYmUodD0+e2NvbnN0IGU9ZnVuY3Rpb24odCxlLG4pe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBDdXN0b21FdmVudCl7Y29uc3Qgcj10LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO3JldHVybiByLmluaXRDdXN0b21FdmVudChlLCExLCExLG4pLHJ9cmV0dXJuIG5ldyBDdXN0b21FdmVudChlLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOm59KX0odGhpcy5vd25lckRvY3VtZW50LHQubmFtZSx0LnZhbHVlKTt0aGlzLmRpc3BhdGNoRXZlbnQoZSl9KX19cmV0dXJuIGkub2JzZXJ2ZWRBdHRyaWJ1dGVzPU9iamVjdC5rZXlzKHMpLG4uZm9yRWFjaCgoe3Byb3BOYW1lOnR9KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSx0LHtnZXQoKXtyZXR1cm4gdGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5nZXRJbnB1dFZhbHVlKHQpfSxzZXQoZSl7dGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5zZXRJbnB1dFZhbHVlKHQsZSl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9KSxpfShZdyx7aW5qZWN0b3I6dH0pO2N1c3RvbUVsZW1lbnRzLmRlZmluZSgiZnAtcm9vdCIsZSl9bmdEb0Jvb3RzdHJhcCgpe319cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoZW8pKX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW3RkLHBwLEd3LFhiLGpkXV19KSx0fSkoKTsoZnVuY3Rpb24oKXtpZihUdSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBlbmFibGUgcHJvZCBtb2RlIGFmdGVyIHBsYXRmb3JtIHNldHVwLiIpO0F1PSExfSkoKSxYaCgpLmJvb3RzdHJhcE1vZHVsZShLdykuY2F0Y2godD0+Y29uc29sZS5lcnJvcih0KSl9LDYxNTp0PT57ZnVuY3Rpb24gZSh0KXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKT0+e3ZhciBlPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3QrIiciKTt0aHJvdyBlLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGV9KX1lLmtleXM9KCk9PltdLGUucmVzb2x2ZT1lLGUuaWQ9NjE1LHQuZXhwb3J0cz1lfX0sdD0+eyJ1c2Ugc3RyaWN0Ijt0KHQucz01MTEpfV0pOw==';