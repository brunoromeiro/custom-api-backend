export const hcApp = 'KCgpPT57InVzZSBzdHJpY3QiO3ZhciBlLHI9e30sbj17fTtmdW5jdGlvbiB0KGUpe3ZhciBvPW5bZV07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBhPW5bZV09e2V4cG9ydHM6e319O3JldHVybiByW2VdKGEsYS5leHBvcnRzLHQpLGEuZXhwb3J0c310Lm09cixlPVtdLHQuTz0ocixuLG8sYSk9PntpZighbil7dmFyIGw9MS8wO2Zvcih1PTA7dTxlLmxlbmd0aDt1Kyspe2Zvcih2YXJbbixvLGFdPWVbdV0scz0hMCxwPTA7cDxuLmxlbmd0aDtwKyspKCExJmF8fGw+PWEpJiZPYmplY3Qua2V5cyh0Lk8pLmV2ZXJ5KGU9PnQuT1tlXShuW3BdKSk/bi5zcGxpY2UocC0tLDEpOihzPSExLGE8bCYmKGw9YSkpO3MmJihlLnNwbGljZSh1LS0sMSkscj1vKCkpfXJldHVybiByfWE9YXx8MDtmb3IodmFyIHU9ZS5sZW5ndGg7dT4wJiZlW3UtMV1bMl0+YTt1LS0pZVt1XT1lW3UtMV07ZVt1XT1bbixvLGFdfSx0Lm49ZT0+e3ZhciByPWUmJmUuX19lc01vZHVsZT8oKT0+ZS5kZWZhdWx0OigpPT5lO3JldHVybiB0LmQocix7YTpyfSkscn0sdC5kPShlLHIpPT57Zm9yKHZhciBuIGluIHIpdC5vKHIsbikmJiF0Lm8oZSxuKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTohMCxnZXQ6cltuXX0pfSx0Lm89KGUscik9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpLCgoKT0+e3ZhciBlPXs2NjY6MH07dC5PLmo9cj0+MD09PWVbcl07dmFyIHI9KHIsbik9Pnt2YXIgbyxhLFtsLHMscF09bix1PTA7Zm9yKG8gaW4gcyl0Lm8ocyxvKSYmKHQubVtvXT1zW29dKTtpZihwKXZhciBmPXAodCk7Zm9yKHImJnIobik7dTxsLmxlbmd0aDt1KyspdC5vKGUsYT1sW3VdKSYmZVthXSYmZVthXVswXSgpLGVbbFt1XV09MDtyZXR1cm4gdC5PKGYpfSxuPXNlbGYud2VicGFja0NodW5rbmdfZWxlbWVudHNfZXhhbXBsZT1zZWxmLndlYnBhY2tDaHVua25nX2VsZW1lbnRzX2V4YW1wbGV8fFtdO24uZm9yRWFjaChyLmJpbmQobnVsbCwwKSksbi5wdXNoPXIuYmluZChudWxsLG4ucHVzaC5iaW5kKG4pKX0pKCl9KSgpOyhzZWxmLndlYnBhY2tDaHVua25nX2VsZW1lbnRzX2V4YW1wbGU9c2VsZi53ZWJwYWNrQ2h1bmtuZ19lbGVtZW50c19leGFtcGxlfHxbXSkucHVzaChbWzQyOV0sezIyOigpPT57IWZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oKXt2YXIgZT1NLnNwbGljZSgwLE0ubGVuZ3RoKTtmb3IoS2U9MDtlLmxlbmd0aDspZS5zaGlmdCgpLmNhbGwobnVsbCxlLnNoaWZ0KCkpfWZ1bmN0aW9uIG8oZSx0KXtmb3IodmFyIG49MCxvPWUubGVuZ3RoO248bztuKyspZChlW25dLHQpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe0llKHQpJiYoZCh0LGUpLGFlLmxlbmd0aCYmbyh0LnF1ZXJ5U2VsZWN0b3JBbGwoYWUpLGUpKX19ZnVuY3Rpb24gYShlKXt2YXIgdD1WZS5jYWxsKGUsImlzIiksbj1lLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCksbz1zZS5jYWxsKG9lLHQ/ZWUrdC50b1VwcGVyQ2FzZSgpOlErbik7cmV0dXJuIHQmJi0xPG8mJiFpKG4sdCk/LTE6b31mdW5jdGlvbiBpKGUsdCl7cmV0dXJuLTE8YWUuaW5kZXhPZihlKydbaXM9IicrdCsnIl0nKX1mdW5jdGlvbiBzKGUpe3ZhciB0PWUuY3VycmVudFRhcmdldCxuPWUuYXR0ckNoYW5nZSxvPWUuYXR0ck5hbWUscj1lLnRhcmdldCxhPWVbJF18fDIsaT1lW1hdfHwzOyFvdHx8ciYmciE9PXR8fCF0W1ZdfHwic3R5bGUiPT09b3x8ZS5wcmV2VmFsdWU9PT1lLm5ld1ZhbHVlJiYoIiIhPT1lLm5ld1ZhbHVlfHxuIT09YSYmbiE9PWkpfHx0W1ZdKG8sbj09PWE/bnVsbDplLnByZXZWYWx1ZSxuPT09aT9udWxsOmUubmV3VmFsdWUpfWZ1bmN0aW9uIGMoZSl7dmFyIHQ9cihlKTtyZXR1cm4gZnVuY3Rpb24oZSl7TS5wdXNoKHQsZS50YXJnZXQpLEtlJiZjbGVhclRpbWVvdXQoS2UpLEtlPXNldFRpbWVvdXQobiwxKX19ZnVuY3Rpb24gbChlKXtudCYmKG50PSExLGUuY3VycmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKEssbCkpLGFlLmxlbmd0aCYmbygoZS50YXJnZXR8fEUpLnF1ZXJ5U2VsZWN0b3JBbGwoYWUpLGUuZGV0YWlsPT09eD94OmopLE5lJiZmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTAsbj1BZS5sZW5ndGg7dDxuO3QrKylpZS5jb250YWlucyhlPUFlW3RdKXx8KG4tLSxBZS5zcGxpY2UodC0tLDEpLGQoZSx4KSl9KCl9ZnVuY3Rpb24gdShlLHQpe3ZhciBuPXRoaXM7QmUuY2FsbChuLGUsdCksTC5jYWxsKG4se3RhcmdldDpufSl9ZnVuY3Rpb24gaChlLHQsbil7dmFyIG89dC5hcHBseShlLG4pLHI9YShvKTtyZXR1cm4tMTxyJiZaKG8scmVbcl0pLG4ucG9wKCkmJmFlLmxlbmd0aCYmZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49MCxvPWUubGVuZ3RoO248bztuKyspWih0PWVbbl0scmVbYSh0KV0pfShvLnF1ZXJ5U2VsZWN0b3JBbGwoYWUpKSxvfWZ1bmN0aW9uIHAoZSx0KXtEZShlLHQpLE8/Ty5vYnNlcnZlKGUsWGUpOih0dCYmKGUuc2V0QXR0cmlidXRlPXUsZVtJXT1TKGUpLGVbQV0oSixMKSksZVtBXShZLHMpKSxlW0ddJiZvdCYmKGUuY3JlYXRlZD0hMCxlW0ddKCksZS5jcmVhdGVkPSExKX1mdW5jdGlvbiBmKGUpe3Rocm93IG5ldyBFcnJvcigiQSAiK2UrIiB0eXBlIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCIpfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbixvLHI9YShlKTstMTxyJiYheGUuY2FsbChlLCJURU1QTEFURSIpJiYoSChlLHJlW3JdKSxyPTAsdCE9PWp8fGVbal0/dCE9PXh8fGVbeF18fChlW2pdPSExLGVbeF09ITAsbz0iZGlzY29ubmVjdGVkIixyPTEpOihlW3hdPSExLGVbal09ITAsbz0iY29ubmVjdGVkIixyPTEsTmUmJnNlLmNhbGwoQWUsZSk8MCYmQWUucHVzaChlKSksciYmKG49ZVt0K1JdfHxlW28rUl0pJiZuLmNhbGwoZSkpfWZ1bmN0aW9uIG0oKXt9ZnVuY3Rpb24gZyhlLHQsbil7dmFyIG89biYmbltGXXx8IiIscj10LnByb3RvdHlwZSxhPU9lKHIpLGk9dC5vYnNlcnZlZEF0dHJpYnV0ZXN8fHBlLHM9e3Byb3RvdHlwZTphfTt6ZShhLEcse3ZhbHVlOmZ1bmN0aW9uKCl7aWYod2Upd2U9ITE7ZWxzZSBpZighdGhpc1t5ZV0pe3RoaXNbeWVdPSEwLG5ldyB0KHRoaXMpLHJbR10mJnJbR10uY2FsbCh0aGlzKTt2YXIgZT1NZVtDZS5nZXQodCldOyghdmV8fGUuY3JlYXRlLmxlbmd0aD4xKSYmXyh0aGlzKX19fSksemUoYSxWLHt2YWx1ZTpmdW5jdGlvbihlKXstMTxzZS5jYWxsKGksZSkmJnJbVl0mJnJbVl0uYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pLHJbcV0mJnplKGEsVSx7dmFsdWU6cltxXX0pLHJbQl0mJnplKGEsVyx7dmFsdWU6cltCXX0pLG8mJihzW0ZdPW8pLGU9ZS50b1VwcGVyQ2FzZSgpLE1lW2VdPXtjb25zdHJ1Y3Rvcjp0LGNyZWF0ZTpvP1tvLFNlKGUpXTpbZV19LENlLnNldCh0LGUpLEVbTl0oZS50b0xvd2VyQ2FzZSgpLHMpLHYoZSksTGVbZV0ucigpfWZ1bmN0aW9uIFQoZSl7dmFyIHQ9TWVbZS50b1VwcGVyQ2FzZSgpXTtyZXR1cm4gdCYmdC5jb25zdHJ1Y3Rvcn1mdW5jdGlvbiB5KGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT9lOmUmJmUuaXN8fCIifWZ1bmN0aW9uIF8oZSl7Zm9yKHZhciB0LG49ZVtWXSxvPW4/ZS5hdHRyaWJ1dGVzOnBlLHI9by5sZW5ndGg7ci0tOyluLmNhbGwoZSwodD1vW3JdKS5uYW1lfHx0Lm5vZGVOYW1lLG51bGwsdC52YWx1ZXx8dC5ub2RlVmFsdWUpfWZ1bmN0aW9uIHYoZSl7cmV0dXJuKGU9ZS50b1VwcGVyQ2FzZSgpKWluIExlfHwoTGVbZV09e30sTGVbZV0ucD1uZXcgYmUoZnVuY3Rpb24odCl7TGVbZV0ucj10fSkpLExlW2VdLnB9ZnVuY3Rpb24gaygpe19lJiZkZWxldGUgZS5jdXN0b21FbGVtZW50cyxoZShlLCJjdXN0b21FbGVtZW50cyIse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTpuZXcgbX0pLGhlKGUsIkN1c3RvbUVsZW1lbnRSZWdpc3RyeSIse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTptfSk7Zm9yKHZhciB0PXcuZ2V0KC9eSFRNTFtBLVpdKlthLXpdLyksbj10Lmxlbmd0aDtuLS07ZnVuY3Rpb24odCl7dmFyIG49ZVt0XTtpZihuKXtlW3RdPWZ1bmN0aW9uKGUpe3ZhciB0LG87cmV0dXJuIGV8fChlPXRoaXMpLGVbeWVdfHwod2U9ITAsdD1NZVtDZS5nZXQoZS5jb25zdHJ1Y3RvcildLChlPShvPXZlJiYxPT09dC5jcmVhdGUubGVuZ3RoKT9SZWZsZWN0LmNvbnN0cnVjdChuLHBlLHQuY29uc3RydWN0b3IpOkUuY3JlYXRlRWxlbWVudC5hcHBseShFLHQuY3JlYXRlKSlbeWVdPSEwLHdlPSExLG98fF8oZSkpLGV9LGVbdF0ucHJvdG90eXBlPW4ucHJvdG90eXBlO3RyeXtuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lW3RdfWNhdGNoKG8pe2hlKG4seWUse3ZhbHVlOmVbdF19KX19fSh0W25dKSk7RS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49eSh0KTtyZXR1cm4gbj8kZS5jYWxsKHRoaXMsZSxTZShuKSk6JGUuY2FsbCh0aGlzLGUpfSxKZXx8KGV0PSEwLEVbTl0oIiIpKX12YXIgRT1lLmRvY3VtZW50LGI9ZS5PYmplY3Qsdz1mdW5jdGlvbihlKXt2YXIgdCxuLG8scixhPS9eW0EtWl0rW2Etel0vLGk9ZnVuY3Rpb24oZSx0KXsodD10LnRvTG93ZXJDYXNlKCkpaW4gc3x8KHNbZV09KHNbZV18fFtdKS5jb25jYXQodCksc1t0XT1zW3QudG9VcHBlckNhc2UoKV09ZSl9LHM9KGIuY3JlYXRlfHxiKShudWxsKSxjPXt9O2ZvcihuIGluIGUpZm9yKHIgaW4gZVtuXSlmb3Ioc1tyXT1vPWVbbl1bcl0sdD0wO3Q8by5sZW5ndGg7dCsrKXNbb1t0XS50b0xvd2VyQ2FzZSgpXT1zW29bdF0udG9VcHBlckNhc2UoKV09cjtyZXR1cm4gYy5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP3NbZV18fChhLnRlc3QoZSk/W106IiIpOmZ1bmN0aW9uKGUpe3ZhciB0LG49W107Zm9yKHQgaW4gcyllLnRlc3QodCkmJm4ucHVzaCh0KTtyZXR1cm4gbn0oZSl9LGMuc2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEudGVzdChlKT9pKGUsdCk6aSh0LGUpLGN9LGN9KHtjb2xsZWN0aW9uczp7SFRNTEFsbENvbGxlY3Rpb246WyJhbGwiXSxIVE1MQ29sbGVjdGlvbjpbImZvcm1zIl0sSFRNTEZvcm1Db250cm9sc0NvbGxlY3Rpb246WyJlbGVtZW50cyJdLEhUTUxPcHRpb25zQ29sbGVjdGlvbjpbIm9wdGlvbnMiXX0sZWxlbWVudHM6e0VsZW1lbnQ6WyJlbGVtZW50Il0sSFRNTEFuY2hvckVsZW1lbnQ6WyJhIl0sSFRNTEFwcGxldEVsZW1lbnQ6WyJhcHBsZXQiXSxIVE1MQXJlYUVsZW1lbnQ6WyJhcmVhIl0sSFRNTEF0dGFjaG1lbnRFbGVtZW50OlsiYXR0YWNobWVudCJdLEhUTUxBdWRpb0VsZW1lbnQ6WyJhdWRpbyJdLEhUTUxCUkVsZW1lbnQ6WyJiciJdLEhUTUxCYXNlRWxlbWVudDpbImJhc2UiXSxIVE1MQm9keUVsZW1lbnQ6WyJib2R5Il0sSFRNTEJ1dHRvbkVsZW1lbnQ6WyJidXR0b24iXSxIVE1MQ2FudmFzRWxlbWVudDpbImNhbnZhcyJdLEhUTUxDb250ZW50RWxlbWVudDpbImNvbnRlbnQiXSxIVE1MRExpc3RFbGVtZW50OlsiZGwiXSxIVE1MRGF0YUVsZW1lbnQ6WyJkYXRhIl0sSFRNTERhdGFMaXN0RWxlbWVudDpbImRhdGFsaXN0Il0sSFRNTERldGFpbHNFbGVtZW50OlsiZGV0YWlscyJdLEhUTUxEaWFsb2dFbGVtZW50OlsiZGlhbG9nIl0sSFRNTERpcmVjdG9yeUVsZW1lbnQ6WyJkaXIiXSxIVE1MRGl2RWxlbWVudDpbImRpdiJdLEhUTUxEb2N1bWVudDpbImRvY3VtZW50Il0sSFRNTEVsZW1lbnQ6WyJlbGVtZW50IiwiYWJiciIsImFkZHJlc3MiLCJhcnRpY2xlIiwiYXNpZGUiLCJiIiwiYmRpIiwiYmRvIiwiY2l0ZSIsImNvZGUiLCJjb21tYW5kIiwiZGQiLCJkZm4iLCJkdCIsImVtIiwiZmlnY2FwdGlvbiIsImZpZ3VyZSIsImZvb3RlciIsImhlYWRlciIsImkiLCJrYmQiLCJtYXJrIiwibmF2Iiwibm9zY3JpcHQiLCJycCIsInJ0IiwicnVieSIsInMiLCJzYW1wIiwic2VjdGlvbiIsInNtYWxsIiwic3Ryb25nIiwic3ViIiwic3VtbWFyeSIsInN1cCIsInUiLCJ2YXIiLCJ3YnIiXSxIVE1MRW1iZWRFbGVtZW50OlsiZW1iZWQiXSxIVE1MRmllbGRTZXRFbGVtZW50OlsiZmllbGRzZXQiXSxIVE1MRm9udEVsZW1lbnQ6WyJmb250Il0sSFRNTEZvcm1FbGVtZW50OlsiZm9ybSJdLEhUTUxGcmFtZUVsZW1lbnQ6WyJmcmFtZSJdLEhUTUxGcmFtZVNldEVsZW1lbnQ6WyJmcmFtZXNldCJdLEhUTUxIUkVsZW1lbnQ6WyJociJdLEhUTUxIZWFkRWxlbWVudDpbImhlYWQiXSxIVE1MSGVhZGluZ0VsZW1lbnQ6WyJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiXSxIVE1MSHRtbEVsZW1lbnQ6WyJodG1sIl0sSFRNTElGcmFtZUVsZW1lbnQ6WyJpZnJhbWUiXSxIVE1MSW1hZ2VFbGVtZW50OlsiaW1nIl0sSFRNTElucHV0RWxlbWVudDpbImlucHV0Il0sSFRNTEtleWdlbkVsZW1lbnQ6WyJrZXlnZW4iXSxIVE1MTElFbGVtZW50OlsibGkiXSxIVE1MTGFiZWxFbGVtZW50OlsibGFiZWwiXSxIVE1MTGVnZW5kRWxlbWVudDpbImxlZ2VuZCJdLEhUTUxMaW5rRWxlbWVudDpbImxpbmsiXSxIVE1MTWFwRWxlbWVudDpbIm1hcCJdLEhUTUxNYXJxdWVlRWxlbWVudDpbIm1hcnF1ZWUiXSxIVE1MTWVkaWFFbGVtZW50OlsibWVkaWEiXSxIVE1MTWVudUVsZW1lbnQ6WyJtZW51Il0sSFRNTE1lbnVJdGVtRWxlbWVudDpbIm1lbnVpdGVtIl0sSFRNTE1ldGFFbGVtZW50OlsibWV0YSJdLEhUTUxNZXRlckVsZW1lbnQ6WyJtZXRlciJdLEhUTUxNb2RFbGVtZW50OlsiZGVsIiwiaW5zIl0sSFRNTE9MaXN0RWxlbWVudDpbIm9sIl0sSFRNTE9iamVjdEVsZW1lbnQ6WyJvYmplY3QiXSxIVE1MT3B0R3JvdXBFbGVtZW50Olsib3B0Z3JvdXAiXSxIVE1MT3B0aW9uRWxlbWVudDpbIm9wdGlvbiJdLEhUTUxPdXRwdXRFbGVtZW50Olsib3V0cHV0Il0sSFRNTFBhcmFncmFwaEVsZW1lbnQ6WyJwIl0sSFRNTFBhcmFtRWxlbWVudDpbInBhcmFtIl0sSFRNTFBpY3R1cmVFbGVtZW50OlsicGljdHVyZSJdLEhUTUxQcmVFbGVtZW50OlsicHJlIl0sSFRNTFByb2dyZXNzRWxlbWVudDpbInByb2dyZXNzIl0sSFRNTFF1b3RlRWxlbWVudDpbImJsb2NrcXVvdGUiLCJxIiwicXVvdGUiXSxIVE1MU2NyaXB0RWxlbWVudDpbInNjcmlwdCJdLEhUTUxTZWxlY3RFbGVtZW50Olsic2VsZWN0Il0sSFRNTFNoYWRvd0VsZW1lbnQ6WyJzaGFkb3ciXSxIVE1MU2xvdEVsZW1lbnQ6WyJzbG90Il0sSFRNTFNvdXJjZUVsZW1lbnQ6WyJzb3VyY2UiXSxIVE1MU3BhbkVsZW1lbnQ6WyJzcGFuIl0sSFRNTFN0eWxlRWxlbWVudDpbInN0eWxlIl0sSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQ6WyJjYXB0aW9uIl0sSFRNTFRhYmxlQ2VsbEVsZW1lbnQ6WyJ0ZCIsInRoIl0sSFRNTFRhYmxlQ29sRWxlbWVudDpbImNvbCIsImNvbGdyb3VwIl0sSFRNTFRhYmxlRWxlbWVudDpbInRhYmxlIl0sSFRNTFRhYmxlUm93RWxlbWVudDpbInRyIl0sSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQ6WyJ0aGVhZCIsInRib2R5IiwidGZvb3QiXSxIVE1MVGVtcGxhdGVFbGVtZW50OlsidGVtcGxhdGUiXSxIVE1MVGV4dEFyZWFFbGVtZW50OlsidGV4dGFyZWEiXSxIVE1MVGltZUVsZW1lbnQ6WyJ0aW1lIl0sSFRNTFRpdGxlRWxlbWVudDpbInRpdGxlIl0sSFRNTFRyYWNrRWxlbWVudDpbInRyYWNrIl0sSFRNTFVMaXN0RWxlbWVudDpbInVsIl0sSFRNTFVua25vd25FbGVtZW50OlsidW5rbm93biIsInZoZ3JvdXB2IiwidmtleWdlbiJdLEhUTUxWaWRlb0VsZW1lbnQ6WyJ2aWRlbyJdfSxub2Rlczp7QXR0cjpbIm5vZGUiXSxBdWRpbzpbImF1ZGlvIl0sQ0RBVEFTZWN0aW9uOlsibm9kZSJdLENoYXJhY3RlckRhdGE6WyJub2RlIl0sQ29tbWVudDpbIiNjb21tZW50Il0sRG9jdW1lbnQ6WyIjZG9jdW1lbnQiXSxEb2N1bWVudEZyYWdtZW50OlsiI2RvY3VtZW50LWZyYWdtZW50Il0sRG9jdW1lbnRUeXBlOlsibm9kZSJdLEhUTUxEb2N1bWVudDpbIiNkb2N1bWVudCJdLEltYWdlOlsiaW1nIl0sT3B0aW9uOlsib3B0aW9uIl0sUHJvY2Vzc2luZ0luc3RydWN0aW9uOlsibm9kZSJdLFNoYWRvd1Jvb3Q6WyIjc2hhZG93LXJvb3QiXSxUZXh0OlsiI3RleHQiXSxYTUxEb2N1bWVudDpbInhtbCJdfX0pOyJvYmplY3QiIT10eXBlb2YgdCYmKHQ9e3R5cGU6dHx8ImF1dG8ifSk7dmFyIE0sTCxDLFMsTyxELEgsWixQLE49InJlZ2lzdGVyRWxlbWVudCIsej0xZTUqZS5NYXRoLnJhbmRvbSgpPj4wLEk9Il9fIitOK3osQT0iYWRkRXZlbnRMaXN0ZW5lciIsaj0iYXR0YWNoZWQiLFI9IkNhbGxiYWNrIix4PSJkZXRhY2hlZCIsRj0iZXh0ZW5kcyIsVj0iYXR0cmlidXRlQ2hhbmdlZCIrUixVPWorUixxPSJjb25uZWN0ZWQiK1IsQj0iZGlzY29ubmVjdGVkIitSLEc9ImNyZWF0ZWQiK1IsVz14K1IsJD0iQURESVRJT04iLFg9IlJFTU9WQUwiLFk9IkRPTUF0dHJNb2RpZmllZCIsSz0iRE9NQ29udGVudExvYWRlZCIsSj0iRE9NU3VidHJlZU1vZGlmaWVkIixRPSI8IixlZT0iPSIsdGU9L15bQS1aXVsuX0EtWjAtOV0qLVstLl9BLVowLTldKiQvLG5lPVsiQU5OT1RBVElPTi1YTUwiLCJDT0xPUi1QUk9GSUxFIiwiRk9OVC1GQUNFIiwiRk9OVC1GQUNFLVNSQyIsIkZPTlQtRkFDRS1VUkkiLCJGT05ULUZBQ0UtRk9STUFUIiwiRk9OVC1GQUNFLU5BTUUiLCJNSVNTSU5HLUdMWVBIIl0sb2U9W10scmU9W10sYWU9IiIsaWU9RS5kb2N1bWVudEVsZW1lbnQsc2U9b2UuaW5kZXhPZnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMubGVuZ3RoO3QtLSYmdGhpc1t0XSE9PWU7KTtyZXR1cm4gdH0sY2U9Yi5wcm90b3R5cGUsbGU9Y2UuaGFzT3duUHJvcGVydHksdWU9Y2UuaXNQcm90b3R5cGVPZixoZT1iLmRlZmluZVByb3BlcnR5LHBlPVtdLGZlPWIuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLGRlPWIuZ2V0T3duUHJvcGVydHlOYW1lcyxtZT1iLmdldFByb3RvdHlwZU9mLGdlPWIuc2V0UHJvdG90eXBlT2YsVGU9ISFiLl9fcHJvdG9fXyx5ZT0iX19kcmVDRXYxIixfZT1lLmN1c3RvbUVsZW1lbnRzLHZlPSEvXmZvcmNlLy50ZXN0KHQudHlwZSkmJiEhKF9lJiZfZS5kZWZpbmUmJl9lLmdldCYmX2Uud2hlbkRlZmluZWQpLGtlPWIuY3JlYXRlfHxiLEVlPWUuTWFwfHxmdW5jdGlvbigpe3ZhciBlLHQ9W10sbj1bXTtyZXR1cm57Z2V0OmZ1bmN0aW9uKGUpe3JldHVybiBuW3NlLmNhbGwodCxlKV19LHNldDpmdW5jdGlvbihvLHIpeyhlPXNlLmNhbGwodCxvKSk8MD9uW3QucHVzaChvKS0xXT1yOm5bZV09cn19fSxiZT1lLlByb21pc2V8fGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7Zm9yKG89ITA7bi5sZW5ndGg7KW4uc2hpZnQoKShlKX12YXIgbj1bXSxvPSExLHI9e2NhdGNoOmZ1bmN0aW9uKCl7cmV0dXJuIHJ9LHRoZW46ZnVuY3Rpb24oZSl7cmV0dXJuIG4ucHVzaChlKSxvJiZzZXRUaW1lb3V0KHQsMSkscn19O3JldHVybiBlKHQpLHJ9LHdlPSExLE1lPWtlKG51bGwpLExlPWtlKG51bGwpLENlPW5ldyBFZSxTZT1mdW5jdGlvbihlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpfSxPZT1iLmNyZWF0ZXx8ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdD8oZS5wcm90b3R5cGU9dCxuZXcgZSk6dGhpc30sRGU9Z2V8fChUZT9mdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9OmRlJiZmZT9mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG4sbz1kZSh0KSxyPTAsYT1vLmxlbmd0aDtyPGE7cisrKWxlLmNhbGwoZSxuPW9bcl0pfHxoZShlLG4sZmUodCxuKSl9cmV0dXJuIGZ1bmN0aW9uKHQsbil7ZG97ZSh0LG4pfXdoaWxlKChuPW1lKG4pKSYmIXVlLmNhbGwobix0KSk7cmV0dXJuIHR9fSgpOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpZVtuXT10W25dO3JldHVybiBlfSksSGU9ZS5NdXRhdGlvbk9ic2VydmVyfHxlLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsWmU9ZS5IVE1MQW5jaG9yRWxlbWVudCxQZT0oZS5IVE1MRWxlbWVudHx8ZS5FbGVtZW50fHxlLk5vZGUpLnByb3RvdHlwZSxOZT0hdWUuY2FsbChQZSxpZSksemU9TmU/ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW4udmFsdWUsZX06aGUsSWU9TmU/ZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfTpmdW5jdGlvbihlKXtyZXR1cm4gdWUuY2FsbChQZSxlKX0sQWU9TmUmJltdLGplPVBlLmF0dGFjaFNoYWRvdyxSZT1QZS5jbG9uZU5vZGUseGU9UGUuY2xvc2VzdHx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXM7dCYmdC5ub2RlTmFtZSE9PWU7KXQ9dC5wYXJlbnROb2RlO3JldHVybiB0fSxGZT1QZS5kaXNwYXRjaEV2ZW50LFZlPVBlLmdldEF0dHJpYnV0ZSxVZT1QZS5oYXNBdHRyaWJ1dGUscWU9UGUucmVtb3ZlQXR0cmlidXRlLEJlPVBlLnNldEF0dHJpYnV0ZSxHZT1FLmNyZWF0ZUVsZW1lbnQsV2U9RS5pbXBvcnROb2RlLCRlPUdlLFhlPUhlJiZ7YXR0cmlidXRlczohMCxjaGFyYWN0ZXJEYXRhOiEwLGF0dHJpYnV0ZU9sZFZhbHVlOiEwfSxZZT1IZXx8ZnVuY3Rpb24oZSl7dHQ9ITEsaWUucmVtb3ZlRXZlbnRMaXN0ZW5lcihZLFllKX0sS2U9MCxKZT1OIGluIEUmJiEvXmZvcmNlLWFsbC8udGVzdCh0LnR5cGUpLFFlPSEwLGV0PSExLHR0PSEwLG50PSEwLG90PSEwO2lmKEhlJiYoKFA9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSkuaW5uZXJIVE1MPSI8ZGl2PjxkaXY+PC9kaXY+PC9kaXY+IixuZXcgSGUoZnVuY3Rpb24oZSx0KXtpZihlWzBdJiYiY2hpbGRMaXN0Ij09ZVswXS50eXBlJiYhZVswXS5yZW1vdmVkTm9kZXNbMF0uY2hpbGROb2Rlcy5sZW5ndGgpe3ZhciBuPShQPWZlKFBlLCJpbm5lckhUTUwiKSkmJlAuc2V0O24mJmhlKFBlLCJpbm5lckhUTUwiLHtzZXQ6ZnVuY3Rpb24oZSl7Zm9yKDt0aGlzLmxhc3RDaGlsZDspdGhpcy5yZW1vdmVDaGlsZCh0aGlzLmxhc3RDaGlsZCk7bi5jYWxsKHRoaXMsZSl9fSl9dC5kaXNjb25uZWN0KCksUD1udWxsfSkub2JzZXJ2ZShQLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pLFAuaW5uZXJIVE1MPSIiKSxKZXx8KGdlfHxUZT8oSD1mdW5jdGlvbihlLHQpe3VlLmNhbGwodCxlKXx8cChlLHQpfSxaPXApOlo9SD1mdW5jdGlvbihlLHQpe2VbSV18fChlW0ldPWIoITApLHAoZSx0KSl9LE5lPyh0dD0hMSxmdW5jdGlvbigpe3ZhciBlPWZlKFBlLEEpLHQ9ZS52YWx1ZSxuPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBDdXN0b21FdmVudChZLHtidWJibGVzOiEwfSk7dC5hdHRyTmFtZT1lLHQucHJldlZhbHVlPVZlLmNhbGwodGhpcyxlKSx0Lm5ld1ZhbHVlPW51bGwsdFtYXT10LmF0dHJDaGFuZ2U9MixxZS5jYWxsKHRoaXMsZSksRmUuY2FsbCh0aGlzLHQpfSxvPWZ1bmN0aW9uKGUsdCl7dmFyIG49VWUuY2FsbCh0aGlzLGUpLG89biYmVmUuY2FsbCh0aGlzLGUpLHI9bmV3IEN1c3RvbUV2ZW50KFkse2J1YmJsZXM6ITB9KTtCZS5jYWxsKHRoaXMsZSx0KSxyLmF0dHJOYW1lPWUsci5wcmV2VmFsdWU9bj9vOm51bGwsci5uZXdWYWx1ZT10LG4/ci5NT0RJRklDQVRJT049ci5hdHRyQ2hhbmdlPTE6clskXT1yLmF0dHJDaGFuZ2U9MCxGZS5jYWxsKHRoaXMscil9LHI9ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmN1cnJlbnRUYXJnZXQsbz1uW0ldLHI9ZS5wcm9wZXJ0eU5hbWU7by5oYXNPd25Qcm9wZXJ0eShyKSYmKG89b1tyXSwodD1uZXcgQ3VzdG9tRXZlbnQoWSx7YnViYmxlczohMH0pKS5hdHRyTmFtZT1vLm5hbWUsdC5wcmV2VmFsdWU9by52YWx1ZXx8bnVsbCx0Lm5ld1ZhbHVlPW8udmFsdWU9bltyXXx8bnVsbCxudWxsPT10LnByZXZWYWx1ZT90WyRdPXQuYXR0ckNoYW5nZT0wOnQuTU9ESUZJQ0FUSU9OPXQuYXR0ckNoYW5nZT0xLEZlLmNhbGwobix0KSl9O2UudmFsdWU9ZnVuY3Rpb24oZSxhLGkpe2U9PT1ZJiZ0aGlzW1ZdJiZ0aGlzLnNldEF0dHJpYnV0ZSE9PW8mJih0aGlzW0ldPXtjbGFzc05hbWU6e25hbWU6ImNsYXNzIix2YWx1ZTp0aGlzLmNsYXNzTmFtZX19LHRoaXMuc2V0QXR0cmlidXRlPW8sdGhpcy5yZW1vdmVBdHRyaWJ1dGU9bix0LmNhbGwodGhpcywicHJvcGVydHljaGFuZ2UiLHIpKSx0LmNhbGwodGhpcyxlLGEsaSl9LGhlKFBlLEEsZSl9KCkpOkhlfHwoaWVbQV0oWSxZZSksaWUuc2V0QXR0cmlidXRlKEksMSksaWUucmVtb3ZlQXR0cmlidXRlKEkpLHR0JiYoTD1mdW5jdGlvbihlKXt2YXIgdCxuLG8scj10aGlzO2lmKHI9PT1lLnRhcmdldCl7Zm9yKG8gaW4gdD1yW0ldLHJbSV09bj1TKHIpLG4pe2lmKCEobyBpbiB0KSlyZXR1cm4gQygwLHIsbyx0W29dLG5bb10sJCk7aWYobltvXSE9PXRbb10pcmV0dXJuIEMoMSxyLG8sdFtvXSxuW29dLCJNT0RJRklDQVRJT04iKX1mb3IobyBpbiB0KWlmKCEobyBpbiBuKSlyZXR1cm4gQygyLHIsbyx0W29dLG5bb10sWCl9fSxDPWZ1bmN0aW9uKGUsdCxuLG8scixhKXt2YXIgaT17YXR0ckNoYW5nZTplLGN1cnJlbnRUYXJnZXQ6dCxhdHRyTmFtZTpuLHByZXZWYWx1ZTpvLG5ld1ZhbHVlOnJ9O2lbYV09ZSxzKGkpfSxTPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLG89e30scj1lLmF0dHJpYnV0ZXMsYT0wLGk9ci5sZW5ndGg7YTxpO2ErKykic2V0QXR0cmlidXRlIiE9PShuPSh0PXJbYV0pLm5hbWUpJiYob1tuXT10LnZhbHVlKTtyZXR1cm4gb30pKSxFW05dPWZ1bmN0aW9uKGUsdCl7aWYobj1lLnRvVXBwZXJDYXNlKCksUWUmJihRZT0hMSxIZT8oTz1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSx0KXtmb3IodmFyIG49MCxvPWUubGVuZ3RoO248bzt0KGVbbisrXSkpO31yZXR1cm4gbmV3IEhlKGZ1bmN0aW9uKG8pe2Zvcih2YXIgcixhLGkscz0wLGM9by5sZW5ndGg7czxjO3MrKykiY2hpbGRMaXN0Ij09PShyPW9bc10pLnR5cGU/KG4oci5hZGRlZE5vZGVzLGUpLG4oci5yZW1vdmVkTm9kZXMsdCkpOihhPXIudGFyZ2V0LG90JiZhW1ZdJiYic3R5bGUiIT09ci5hdHRyaWJ1dGVOYW1lJiYoaT1WZS5jYWxsKGEsci5hdHRyaWJ1dGVOYW1lKSkhPT1yLm9sZFZhbHVlJiZhW1ZdKHIuYXR0cmlidXRlTmFtZSxyLm9sZFZhbHVlLGkpKX0pfShyKGopLHIoeCkpLChEPWZ1bmN0aW9uKGUpe3JldHVybiBPLm9ic2VydmUoZSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KSxlfSkoRSksamUmJihQZS5hdHRhY2hTaGFkb3c9ZnVuY3Rpb24oKXtyZXR1cm4gRChqZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSkpOihNPVtdLEVbQV0oIkRPTU5vZGVJbnNlcnRlZCIsYyhqKSksRVtBXSgiRE9NTm9kZVJlbW92ZWQiLGMoeCkpKSxFW0FdKEssbCksRVtBXSgicmVhZHlzdGF0ZWNoYW5nZSIsbCksRS5pbXBvcnROb2RlPWZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUubm9kZVR5cGUpe2Nhc2UgMTpyZXR1cm4gaChFLFdlLFtlLCEhdF0pO2Nhc2UgMTE6Zm9yKHZhciBuPUUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG89ZS5jaGlsZE5vZGVzLHI9by5sZW5ndGgsYT0wO2E8cjthKyspbi5hcHBlbmRDaGlsZChFLmltcG9ydE5vZGUob1thXSwhIXQpKTtyZXR1cm4gbjtkZWZhdWx0OnJldHVybiBSZS5jYWxsKGUsISF0KX19LFBlLmNsb25lTm9kZT1mdW5jdGlvbihlKXtyZXR1cm4gaCh0aGlzLFJlLFshIWVdKX0pLGV0KXJldHVybiBldD0hMTtpZigtMjxzZS5jYWxsKG9lLGVlK24pK3NlLmNhbGwob2UsUStuKSYmZihlKSwhdGUudGVzdChuKXx8LTE8c2UuY2FsbChuZSxuKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSB0eXBlICIrZSsiIGlzIGludmFsaWQiKTt2YXIgbixhLGk9ZnVuY3Rpb24oKXtyZXR1cm4gdT9FLmNyZWF0ZUVsZW1lbnQocCxuKTpFLmNyZWF0ZUVsZW1lbnQocCl9LHM9dHx8Y2UsdT1sZS5jYWxsKHMsRikscD11P3RbRl0udG9VcHBlckNhc2UoKTpuO3JldHVybiB1JiYtMTxzZS5jYWxsKG9lLFErcCkmJmYocCksYT1vZS5wdXNoKCh1P2VlOlEpK24pLTEsYWU9YWUuY29uY2F0KGFlLmxlbmd0aD8iLCI6IiIsdT9wKydbaXM9IicrZS50b0xvd2VyQ2FzZSgpKyciXSc6cCksaS5wcm90b3R5cGU9cmVbYV09bGUuY2FsbChzLCJwcm90b3R5cGUiKT9zLnByb3RvdHlwZTpPZShQZSksYWUubGVuZ3RoJiZvKEUucXVlcnlTZWxlY3RvckFsbChhZSksaiksaX0sRS5jcmVhdGVFbGVtZW50PSRlPWZ1bmN0aW9uKGUsdCl7dmFyIG49eSh0KSxvPW4/R2UuY2FsbChFLGUsU2UobikpOkdlLmNhbGwoRSxlKSxyPSIiK2UsYT1zZS5jYWxsKG9lLChuP2VlOlEpKyhufHxyKS50b1VwcGVyQ2FzZSgpKSxzPS0xPGE7cmV0dXJuIG4mJihvLnNldEF0dHJpYnV0ZSgiaXMiLG49bi50b0xvd2VyQ2FzZSgpKSxzJiYocz1pKHIudG9VcHBlckNhc2UoKSxuKSkpLG90PSFFLmNyZWF0ZUVsZW1lbnQuaW5uZXJIVE1MSGVscGVyLHMmJloobyxyZVthXSksb30pLGFkZEV2ZW50TGlzdGVuZXIoImJlZm9yZXVubG9hZCIsZnVuY3Rpb24oKXtkZWxldGUgRS5jcmVhdGVFbGVtZW50LGRlbGV0ZSBFLmltcG9ydE5vZGUsZGVsZXRlIEVbTl19LCExKSxtLnByb3RvdHlwZT17Y29uc3RydWN0b3I6bSxkZWZpbmU6dmU/ZnVuY3Rpb24oZSx0LG4pe2lmKG4pZyhlLHQsbik7ZWxzZXt2YXIgbz1lLnRvVXBwZXJDYXNlKCk7TWVbb109e2NvbnN0cnVjdG9yOnQsY3JlYXRlOltvXX0sQ2Uuc2V0KHQsbyksX2UuZGVmaW5lKGUsdCl9fTpnLGdldDp2ZT9mdW5jdGlvbihlKXtyZXR1cm4gX2UuZ2V0KGUpfHxUKGUpfTpULHdoZW5EZWZpbmVkOnZlP2Z1bmN0aW9uKGUpe3JldHVybiBiZS5yYWNlKFtfZS53aGVuRGVmaW5lZChlKSx2KGUpXSl9OnZ9LCFfZXx8L15mb3JjZS8udGVzdCh0LnR5cGUpKWsoKTtlbHNlIGlmKCF0Lm5vQnVpbHRJbil0cnl7IWZ1bmN0aW9uKHQsbixvKXt2YXIgcj1uZXcgUmVnRXhwKCJePGFcXHMraXM9KCd8XCIpIitvKyJcXDE+PC9hPiQiKTtpZihuW0ZdPSJhIiwodC5wcm90b3R5cGU9T2UoWmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9dCxlLmN1c3RvbUVsZW1lbnRzLmRlZmluZShvLHQsbiksIXIudGVzdChFLmNyZWF0ZUVsZW1lbnQoImEiLHtpczpvfSkub3V0ZXJIVE1MKXx8IXIudGVzdCgobmV3IHQpLm91dGVySFRNTCkpdGhyb3cgbn0oZnVuY3Rpb24gZSgpe3JldHVybiBSZWZsZWN0LmNvbnN0cnVjdChaZSxbXSxlKX0se30sImRvY3VtZW50LXJlZ2lzdGVyLWVsZW1lbnQtYSIreil9Y2F0Y2gocnQpe2soKX1pZighdC5ub0J1aWx0SW4pdHJ5e2lmKEdlLmNhbGwoRSwiYSIsImEiKS5vdXRlckhUTUwuaW5kZXhPZigiaXMiKTwwKXRocm93e319Y2F0Y2goYXQpe1NlPWZ1bmN0aW9uKGUpe3JldHVybntpczplLnRvTG93ZXJDYXNlKCl9fX19KHdpbmRvdyl9LDE2NzooKT0+eyJ1c2Ugc3RyaWN0IjshZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnBlcmZvcm1hbmNlO2Z1bmN0aW9uIG4oZSl7dCYmdC5tYXJrJiZ0Lm1hcmsoZSl9ZnVuY3Rpb24gbyhlLG4pe3QmJnQubWVhc3VyZSYmdC5tZWFzdXJlKGUsbil9bigiWm9uZSIpO2NvbnN0IHI9ZS5fX1pvbmVfc3ltYm9sX3ByZWZpeHx8Il9fem9uZV9zeW1ib2xfXyI7ZnVuY3Rpb24gYShlKXtyZXR1cm4gcitlfWNvbnN0IGk9ITA9PT1lW2EoImZvcmNlRHVwbGljYXRlWm9uZUNoZWNrIildO2lmKGUuWm9uZSl7aWYoaXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUuWm9uZS5fX3N5bWJvbF9fKXRocm93IG5ldyBFcnJvcigiWm9uZSBhbHJlYWR5IGxvYWRlZC4iKTtyZXR1cm4gZS5ab25lfWNsYXNzIHN7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9wYXJlbnQ9ZSx0aGlzLl9uYW1lPXQ/dC5uYW1lfHwidW5uYW1lZCI6Ijxyb290PiIsdGhpcy5fcHJvcGVydGllcz10JiZ0LnByb3BlcnRpZXN8fHt9LHRoaXMuX3pvbmVEZWxlZ2F0ZT1uZXcgbCh0aGlzLHRoaXMuX3BhcmVudCYmdGhpcy5fcGFyZW50Ll96b25lRGVsZWdhdGUsdCl9c3RhdGljIGFzc2VydFpvbmVQYXRjaGVkKCl7aWYoZS5Qcm9taXNlIT09Ty5ab25lQXdhcmVQcm9taXNlKXRocm93IG5ldyBFcnJvcigiWm9uZS5qcyBoYXMgZGV0ZWN0ZWQgdGhhdCBab25lQXdhcmVQcm9taXNlIGAod2luZG93fGdsb2JhbCkuUHJvbWlzZWAgaGFzIGJlZW4gb3ZlcndyaXR0ZW4uXG5Nb3N0IGxpa2VseSBjYXVzZSBpcyB0aGF0IGEgUHJvbWlzZSBwb2x5ZmlsbCBoYXMgYmVlbiBsb2FkZWQgYWZ0ZXIgWm9uZS5qcyAoUG9seWZpbGxpbmcgUHJvbWlzZSBhcGkgaXMgbm90IG5lY2Vzc2FyeSB3aGVuIHpvbmUuanMgaXMgbG9hZGVkLiBJZiB5b3UgbXVzdCBsb2FkIG9uZSwgZG8gc28gYmVmb3JlIGxvYWRpbmcgem9uZS5qcy4pIil9c3RhdGljIGdldCByb290KCl7bGV0IGU9cy5jdXJyZW50O2Zvcig7ZS5wYXJlbnQ7KWU9ZS5wYXJlbnQ7cmV0dXJuIGV9c3RhdGljIGdldCBjdXJyZW50KCl7cmV0dXJuIEguem9uZX1zdGF0aWMgZ2V0IGN1cnJlbnRUYXNrKCl7cmV0dXJuIFp9c3RhdGljIF9fbG9hZF9wYXRjaCh0LHIsYT0hMSl7aWYoTy5oYXNPd25Qcm9wZXJ0eSh0KSl7aWYoIWEmJmkpdGhyb3cgRXJyb3IoIkFscmVhZHkgbG9hZGVkIHBhdGNoOiAiK3QpfWVsc2UgaWYoIWVbIl9fWm9uZV9kaXNhYmxlXyIrdF0pe2NvbnN0IGE9IlpvbmU6Iit0O24oYSksT1t0XT1yKGUscyxEKSxvKGEsYSl9fWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy5fcGFyZW50fWdldCBuYW1lKCl7cmV0dXJuIHRoaXMuX25hbWV9Z2V0KGUpe2NvbnN0IHQ9dGhpcy5nZXRab25lV2l0aChlKTtpZih0KXJldHVybiB0Ll9wcm9wZXJ0aWVzW2VdfWdldFpvbmVXaXRoKGUpe2xldCB0PXRoaXM7Zm9yKDt0Oyl7aWYodC5fcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShlKSlyZXR1cm4gdDt0PXQuX3BhcmVudH1yZXR1cm4gbnVsbH1mb3JrKGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcigiWm9uZVNwZWMgcmVxdWlyZWQhIik7cmV0dXJuIHRoaXMuX3pvbmVEZWxlZ2F0ZS5mb3JrKHRoaXMsZSl9d3JhcChlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiRXhwZWN0aW5nIGZ1bmN0aW9uIGdvdDogIitlKTtjb25zdCBuPXRoaXMuX3pvbmVEZWxlZ2F0ZS5pbnRlcmNlcHQodGhpcyxlLHQpLG89dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gby5ydW5HdWFyZGVkKG4sdGhpcyxhcmd1bWVudHMsdCl9fXJ1bihlLHQsbixvKXtIPXtwYXJlbnQ6SCx6b25lOnRoaXN9O3RyeXtyZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZSh0aGlzLGUsdCxuLG8pfWZpbmFsbHl7SD1ILnBhcmVudH19cnVuR3VhcmRlZChlLHQ9bnVsbCxuLG8pe0g9e3BhcmVudDpILHpvbmU6dGhpc307dHJ5e3RyeXtyZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZSh0aGlzLGUsdCxuLG8pfWNhdGNoKHIpe2lmKHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLHIpKXRocm93IHJ9fWZpbmFsbHl7SD1ILnBhcmVudH19cnVuVGFzayhlLHQsbil7aWYoZS56b25lIT10aGlzKXRocm93IG5ldyBFcnJvcigiQSB0YXNrIGNhbiBvbmx5IGJlIHJ1biBpbiB0aGUgem9uZSBvZiBjcmVhdGlvbiEgKENyZWF0aW9uOiAiKyhlLnpvbmV8fF8pLm5hbWUrIjsgRXhlY3V0aW9uOiAiK3RoaXMubmFtZSsiKSIpO2lmKGUuc3RhdGU9PT12JiYoZS50eXBlPT09U3x8ZS50eXBlPT09QykpcmV0dXJuO2NvbnN0IG89ZS5zdGF0ZSE9YjtvJiZlLl90cmFuc2l0aW9uVG8oYixFKSxlLnJ1bkNvdW50Kys7Y29uc3Qgcj1aO1o9ZSxIPXtwYXJlbnQ6SCx6b25lOnRoaXN9O3RyeXtlLnR5cGU9PUMmJmUuZGF0YSYmIWUuZGF0YS5pc1BlcmlvZGljJiYoZS5jYW5jZWxGbj12b2lkIDApO3RyeXtyZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZVRhc2sodGhpcyxlLHQsbil9Y2F0Y2goYSl7aWYodGhpcy5fem9uZURlbGVnYXRlLmhhbmRsZUVycm9yKHRoaXMsYSkpdGhyb3cgYX19ZmluYWxseXtlLnN0YXRlIT09diYmZS5zdGF0ZSE9PU0mJihlLnR5cGU9PVN8fGUuZGF0YSYmZS5kYXRhLmlzUGVyaW9kaWM/byYmZS5fdHJhbnNpdGlvblRvKEUsYik6KGUucnVuQ291bnQ9MCx0aGlzLl91cGRhdGVUYXNrQ291bnQoZSwtMSksbyYmZS5fdHJhbnNpdGlvblRvKHYsYix2KSkpLEg9SC5wYXJlbnQsWj1yfX1zY2hlZHVsZVRhc2soZSl7aWYoZS56b25lJiZlLnpvbmUhPT10aGlzKXtsZXQgdD10aGlzO2Zvcig7dDspe2lmKHQ9PT1lLnpvbmUpdGhyb3cgRXJyb3IoYGNhbiBub3QgcmVzY2hlZHVsZSB0YXNrIHRvICR7dGhpcy5uYW1lfSB3aGljaCBpcyBkZXNjZW5kYW50cyBvZiB0aGUgb3JpZ2luYWwgem9uZSAke2Uuem9uZS5uYW1lfWApO3Q9dC5wYXJlbnR9fWUuX3RyYW5zaXRpb25UbyhrLHYpO2NvbnN0IHQ9W107ZS5fem9uZURlbGVnYXRlcz10LGUuX3pvbmU9dGhpczt0cnl7ZT10aGlzLl96b25lRGVsZWdhdGUuc2NoZWR1bGVUYXNrKHRoaXMsZSl9Y2F0Y2gobil7dGhyb3cgZS5fdHJhbnNpdGlvblRvKE0sayx2KSx0aGlzLl96b25lRGVsZWdhdGUuaGFuZGxlRXJyb3IodGhpcyxuKSxufXJldHVybiBlLl96b25lRGVsZWdhdGVzPT09dCYmdGhpcy5fdXBkYXRlVGFza0NvdW50KGUsMSksZS5zdGF0ZT09ayYmZS5fdHJhbnNpdGlvblRvKEUsayksZX1zY2hlZHVsZU1pY3JvVGFzayhlLHQsbixvKXtyZXR1cm4gdGhpcy5zY2hlZHVsZVRhc2sobmV3IHUoTCxlLHQsbixvLHZvaWQgMCkpfXNjaGVkdWxlTWFjcm9UYXNrKGUsdCxuLG8scil7cmV0dXJuIHRoaXMuc2NoZWR1bGVUYXNrKG5ldyB1KEMsZSx0LG4sbyxyKSl9c2NoZWR1bGVFdmVudFRhc2soZSx0LG4sbyxyKXtyZXR1cm4gdGhpcy5zY2hlZHVsZVRhc2sobmV3IHUoUyxlLHQsbixvLHIpKX1jYW5jZWxUYXNrKGUpe2lmKGUuem9uZSE9dGhpcyl0aHJvdyBuZXcgRXJyb3IoIkEgdGFzayBjYW4gb25seSBiZSBjYW5jZWxsZWQgaW4gdGhlIHpvbmUgb2YgY3JlYXRpb24hIChDcmVhdGlvbjogIisoZS56b25lfHxfKS5uYW1lKyI7IEV4ZWN1dGlvbjogIit0aGlzLm5hbWUrIikiKTtlLl90cmFuc2l0aW9uVG8odyxFLGIpO3RyeXt0aGlzLl96b25lRGVsZWdhdGUuY2FuY2VsVGFzayh0aGlzLGUpfWNhdGNoKHQpe3Rocm93IGUuX3RyYW5zaXRpb25UbyhNLHcpLHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLHQpLHR9cmV0dXJuIHRoaXMuX3VwZGF0ZVRhc2tDb3VudChlLC0xKSxlLl90cmFuc2l0aW9uVG8odix3KSxlLnJ1bkNvdW50PTAsZX1fdXBkYXRlVGFza0NvdW50KGUsdCl7Y29uc3Qgbj1lLl96b25lRGVsZWdhdGVzOy0xPT10JiYoZS5fem9uZURlbGVnYXRlcz1udWxsKTtmb3IobGV0IG89MDtvPG4ubGVuZ3RoO28rKyluW29dLl91cGRhdGVUYXNrQ291bnQoZS50eXBlLHQpfX1zLl9fc3ltYm9sX189YTtjb25zdCBjPXtuYW1lOiIiLG9uSGFzVGFzazooZSx0LG4sbyk9PmUuaGFzVGFzayhuLG8pLG9uU2NoZWR1bGVUYXNrOihlLHQsbixvKT0+ZS5zY2hlZHVsZVRhc2sobixvKSxvbkludm9rZVRhc2s6KGUsdCxuLG8scixhKT0+ZS5pbnZva2VUYXNrKG4sbyxyLGEpLG9uQ2FuY2VsVGFzazooZSx0LG4sbyk9PmUuY2FuY2VsVGFzayhuLG8pfTtjbGFzcyBse2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLl90YXNrQ291bnRzPXttaWNyb1Rhc2s6MCxtYWNyb1Rhc2s6MCxldmVudFRhc2s6MH0sdGhpcy56b25lPWUsdGhpcy5fcGFyZW50RGVsZWdhdGU9dCx0aGlzLl9mb3JrWlM9biYmKG4mJm4ub25Gb3JrP246dC5fZm9ya1pTKSx0aGlzLl9mb3JrRGxndD1uJiYobi5vbkZvcms/dDp0Ll9mb3JrRGxndCksdGhpcy5fZm9ya0N1cnJab25lPW4mJihuLm9uRm9yaz90aGlzLnpvbmU6dC5fZm9ya0N1cnJab25lKSx0aGlzLl9pbnRlcmNlcHRaUz1uJiYobi5vbkludGVyY2VwdD9uOnQuX2ludGVyY2VwdFpTKSx0aGlzLl9pbnRlcmNlcHREbGd0PW4mJihuLm9uSW50ZXJjZXB0P3Q6dC5faW50ZXJjZXB0RGxndCksdGhpcy5faW50ZXJjZXB0Q3VyclpvbmU9biYmKG4ub25JbnRlcmNlcHQ/dGhpcy56b25lOnQuX2ludGVyY2VwdEN1cnJab25lKSx0aGlzLl9pbnZva2VaUz1uJiYobi5vbkludm9rZT9uOnQuX2ludm9rZVpTKSx0aGlzLl9pbnZva2VEbGd0PW4mJihuLm9uSW52b2tlP3Q6dC5faW52b2tlRGxndCksdGhpcy5faW52b2tlQ3VyclpvbmU9biYmKG4ub25JbnZva2U/dGhpcy56b25lOnQuX2ludm9rZUN1cnJab25lKSx0aGlzLl9oYW5kbGVFcnJvclpTPW4mJihuLm9uSGFuZGxlRXJyb3I/bjp0Ll9oYW5kbGVFcnJvclpTKSx0aGlzLl9oYW5kbGVFcnJvckRsZ3Q9biYmKG4ub25IYW5kbGVFcnJvcj90OnQuX2hhbmRsZUVycm9yRGxndCksdGhpcy5faGFuZGxlRXJyb3JDdXJyWm9uZT1uJiYobi5vbkhhbmRsZUVycm9yP3RoaXMuem9uZTp0Ll9oYW5kbGVFcnJvckN1cnJab25lKSx0aGlzLl9zY2hlZHVsZVRhc2taUz1uJiYobi5vblNjaGVkdWxlVGFzaz9uOnQuX3NjaGVkdWxlVGFza1pTKSx0aGlzLl9zY2hlZHVsZVRhc2tEbGd0PW4mJihuLm9uU2NoZWR1bGVUYXNrP3Q6dC5fc2NoZWR1bGVUYXNrRGxndCksdGhpcy5fc2NoZWR1bGVUYXNrQ3VyclpvbmU9biYmKG4ub25TY2hlZHVsZVRhc2s/dGhpcy56b25lOnQuX3NjaGVkdWxlVGFza0N1cnJab25lKSx0aGlzLl9pbnZva2VUYXNrWlM9biYmKG4ub25JbnZva2VUYXNrP246dC5faW52b2tlVGFza1pTKSx0aGlzLl9pbnZva2VUYXNrRGxndD1uJiYobi5vbkludm9rZVRhc2s/dDp0Ll9pbnZva2VUYXNrRGxndCksdGhpcy5faW52b2tlVGFza0N1cnJab25lPW4mJihuLm9uSW52b2tlVGFzaz90aGlzLnpvbmU6dC5faW52b2tlVGFza0N1cnJab25lKSx0aGlzLl9jYW5jZWxUYXNrWlM9biYmKG4ub25DYW5jZWxUYXNrP246dC5fY2FuY2VsVGFza1pTKSx0aGlzLl9jYW5jZWxUYXNrRGxndD1uJiYobi5vbkNhbmNlbFRhc2s/dDp0Ll9jYW5jZWxUYXNrRGxndCksdGhpcy5fY2FuY2VsVGFza0N1cnJab25lPW4mJihuLm9uQ2FuY2VsVGFzaz90aGlzLnpvbmU6dC5fY2FuY2VsVGFza0N1cnJab25lKSx0aGlzLl9oYXNUYXNrWlM9bnVsbCx0aGlzLl9oYXNUYXNrRGxndD1udWxsLHRoaXMuX2hhc1Rhc2tEbGd0T3duZXI9bnVsbCx0aGlzLl9oYXNUYXNrQ3VyclpvbmU9bnVsbDtjb25zdCBvPW4mJm4ub25IYXNUYXNrOyhvfHx0JiZ0Ll9oYXNUYXNrWlMpJiYodGhpcy5faGFzVGFza1pTPW8/bjpjLHRoaXMuX2hhc1Rhc2tEbGd0PXQsdGhpcy5faGFzVGFza0RsZ3RPd25lcj10aGlzLHRoaXMuX2hhc1Rhc2tDdXJyWm9uZT1lLG4ub25TY2hlZHVsZVRhc2t8fCh0aGlzLl9zY2hlZHVsZVRhc2taUz1jLHRoaXMuX3NjaGVkdWxlVGFza0RsZ3Q9dCx0aGlzLl9zY2hlZHVsZVRhc2tDdXJyWm9uZT10aGlzLnpvbmUpLG4ub25JbnZva2VUYXNrfHwodGhpcy5faW52b2tlVGFza1pTPWMsdGhpcy5faW52b2tlVGFza0RsZ3Q9dCx0aGlzLl9pbnZva2VUYXNrQ3VyclpvbmU9dGhpcy56b25lKSxuLm9uQ2FuY2VsVGFza3x8KHRoaXMuX2NhbmNlbFRhc2taUz1jLHRoaXMuX2NhbmNlbFRhc2tEbGd0PXQsdGhpcy5fY2FuY2VsVGFza0N1cnJab25lPXRoaXMuem9uZSkpfWZvcmsoZSx0KXtyZXR1cm4gdGhpcy5fZm9ya1pTP3RoaXMuX2ZvcmtaUy5vbkZvcmsodGhpcy5fZm9ya0RsZ3QsdGhpcy56b25lLGUsdCk6bmV3IHMoZSx0KX1pbnRlcmNlcHQoZSx0LG4pe3JldHVybiB0aGlzLl9pbnRlcmNlcHRaUz90aGlzLl9pbnRlcmNlcHRaUy5vbkludGVyY2VwdCh0aGlzLl9pbnRlcmNlcHREbGd0LHRoaXMuX2ludGVyY2VwdEN1cnJab25lLGUsdCxuKTp0fWludm9rZShlLHQsbixvLHIpe3JldHVybiB0aGlzLl9pbnZva2VaUz90aGlzLl9pbnZva2VaUy5vbkludm9rZSh0aGlzLl9pbnZva2VEbGd0LHRoaXMuX2ludm9rZUN1cnJab25lLGUsdCxuLG8scik6dC5hcHBseShuLG8pfWhhbmRsZUVycm9yKGUsdCl7cmV0dXJuIXRoaXMuX2hhbmRsZUVycm9yWlN8fHRoaXMuX2hhbmRsZUVycm9yWlMub25IYW5kbGVFcnJvcih0aGlzLl9oYW5kbGVFcnJvckRsZ3QsdGhpcy5faGFuZGxlRXJyb3JDdXJyWm9uZSxlLHQpfXNjaGVkdWxlVGFzayhlLHQpe2xldCBuPXQ7aWYodGhpcy5fc2NoZWR1bGVUYXNrWlMpdGhpcy5faGFzVGFza1pTJiZuLl96b25lRGVsZWdhdGVzLnB1c2godGhpcy5faGFzVGFza0RsZ3RPd25lciksbj10aGlzLl9zY2hlZHVsZVRhc2taUy5vblNjaGVkdWxlVGFzayh0aGlzLl9zY2hlZHVsZVRhc2tEbGd0LHRoaXMuX3NjaGVkdWxlVGFza0N1cnJab25lLGUsdCksbnx8KG49dCk7ZWxzZSBpZih0LnNjaGVkdWxlRm4pdC5zY2hlZHVsZUZuKHQpO2Vsc2V7aWYodC50eXBlIT1MKXRocm93IG5ldyBFcnJvcigiVGFzayBpcyBtaXNzaW5nIHNjaGVkdWxlRm4uIik7VCh0KX1yZXR1cm4gbn1pbnZva2VUYXNrKGUsdCxuLG8pe3JldHVybiB0aGlzLl9pbnZva2VUYXNrWlM/dGhpcy5faW52b2tlVGFza1pTLm9uSW52b2tlVGFzayh0aGlzLl9pbnZva2VUYXNrRGxndCx0aGlzLl9pbnZva2VUYXNrQ3VyclpvbmUsZSx0LG4sbyk6dC5jYWxsYmFjay5hcHBseShuLG8pfWNhbmNlbFRhc2soZSx0KXtsZXQgbjtpZih0aGlzLl9jYW5jZWxUYXNrWlMpbj10aGlzLl9jYW5jZWxUYXNrWlMub25DYW5jZWxUYXNrKHRoaXMuX2NhbmNlbFRhc2tEbGd0LHRoaXMuX2NhbmNlbFRhc2tDdXJyWm9uZSxlLHQpO2Vsc2V7aWYoIXQuY2FuY2VsRm4pdGhyb3cgRXJyb3IoIlRhc2sgaXMgbm90IGNhbmNlbGFibGUiKTtuPXQuY2FuY2VsRm4odCl9cmV0dXJuIG59aGFzVGFzayhlLHQpe3RyeXt0aGlzLl9oYXNUYXNrWlMmJnRoaXMuX2hhc1Rhc2taUy5vbkhhc1Rhc2sodGhpcy5faGFzVGFza0RsZ3QsdGhpcy5faGFzVGFza0N1cnJab25lLGUsdCl9Y2F0Y2gobil7dGhpcy5oYW5kbGVFcnJvcihlLG4pfX1fdXBkYXRlVGFza0NvdW50KGUsdCl7Y29uc3Qgbj10aGlzLl90YXNrQ291bnRzLG89bltlXSxyPW5bZV09byt0O2lmKHI8MCl0aHJvdyBuZXcgRXJyb3IoIk1vcmUgdGFza3MgZXhlY3V0ZWQgdGhlbiB3ZXJlIHNjaGVkdWxlZC4iKTswIT1vJiYwIT1yfHx0aGlzLmhhc1Rhc2sodGhpcy56b25lLHttaWNyb1Rhc2s6bi5taWNyb1Rhc2s+MCxtYWNyb1Rhc2s6bi5tYWNyb1Rhc2s+MCxldmVudFRhc2s6bi5ldmVudFRhc2s+MCxjaGFuZ2U6ZX0pfX1jbGFzcyB1e2NvbnN0cnVjdG9yKHQsbixvLHIsYSxpKXtpZih0aGlzLl96b25lPW51bGwsdGhpcy5ydW5Db3VudD0wLHRoaXMuX3pvbmVEZWxlZ2F0ZXM9bnVsbCx0aGlzLl9zdGF0ZT0ibm90U2NoZWR1bGVkIix0aGlzLnR5cGU9dCx0aGlzLnNvdXJjZT1uLHRoaXMuZGF0YT1yLHRoaXMuc2NoZWR1bGVGbj1hLHRoaXMuY2FuY2VsRm49aSwhbyl0aHJvdyBuZXcgRXJyb3IoImNhbGxiYWNrIGlzIG5vdCBkZWZpbmVkIik7dGhpcy5jYWxsYmFjaz1vO2NvbnN0IHM9dGhpczt0aGlzLmludm9rZT10PT09UyYmciYmci51c2VHP3UuaW52b2tlVGFzazpmdW5jdGlvbigpe3JldHVybiB1Lmludm9rZVRhc2suY2FsbChlLHMsdGhpcyxhcmd1bWVudHMpfX1zdGF0aWMgaW52b2tlVGFzayhlLHQsbil7ZXx8KGU9dGhpcyksUCsrO3RyeXtyZXR1cm4gZS5ydW5Db3VudCsrLGUuem9uZS5ydW5UYXNrKGUsdCxuKX1maW5hbGx5ezE9PVAmJnkoKSxQLS19fWdldCB6b25lKCl7cmV0dXJuIHRoaXMuX3pvbmV9Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0YXRlfWNhbmNlbFNjaGVkdWxlUmVxdWVzdCgpe3RoaXMuX3RyYW5zaXRpb25Ubyh2LGspfV90cmFuc2l0aW9uVG8oZSx0LG4pe2lmKHRoaXMuX3N0YXRlIT09dCYmdGhpcy5fc3RhdGUhPT1uKXRocm93IG5ldyBFcnJvcihgJHt0aGlzLnR5cGV9ICcke3RoaXMuc291cmNlfSc6IGNhbiBub3QgdHJhbnNpdGlvbiB0byAnJHtlfScsIGV4cGVjdGluZyBzdGF0ZSAnJHt0fScke24/IiBvciAnIituKyInIjoiIn0sIHdhcyAnJHt0aGlzLl9zdGF0ZX0nLmApO3RoaXMuX3N0YXRlPWUsZT09diYmKHRoaXMuX3pvbmVEZWxlZ2F0ZXM9bnVsbCl9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5kYXRhJiZ2b2lkIDAhPT10aGlzLmRhdGEuaGFuZGxlSWQ/dGhpcy5kYXRhLmhhbmRsZUlkLnRvU3RyaW5nKCk6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMpfXRvSlNPTigpe3JldHVybnt0eXBlOnRoaXMudHlwZSxzdGF0ZTp0aGlzLnN0YXRlLHNvdXJjZTp0aGlzLnNvdXJjZSx6b25lOnRoaXMuem9uZS5uYW1lLHJ1bkNvdW50OnRoaXMucnVuQ291bnR9fX1jb25zdCBoPWEoInNldFRpbWVvdXQiKSxwPWEoIlByb21pc2UiKSxmPWEoInRoZW4iKTtsZXQgZCxtPVtdLGc9ITE7ZnVuY3Rpb24gVCh0KXtpZigwPT09UCYmMD09PW0ubGVuZ3RoKWlmKGR8fGVbcF0mJihkPWVbcF0ucmVzb2x2ZSgwKSksZCl7bGV0IGU9ZFtmXTtlfHwoZT1kLnRoZW4pLGUuY2FsbChkLHkpfWVsc2UgZVtoXSh5LDApO3QmJm0ucHVzaCh0KX1mdW5jdGlvbiB5KCl7aWYoIWcpe2ZvcihnPSEwO20ubGVuZ3RoOyl7Y29uc3QgdD1tO209W107Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IG89dFtuXTt0cnl7by56b25lLnJ1blRhc2sobyxudWxsLG51bGwpfWNhdGNoKGUpe0Qub25VbmhhbmRsZWRFcnJvcihlKX19fUQubWljcm90YXNrRHJhaW5Eb25lKCksZz0hMX19Y29uc3QgXz17bmFtZToiTk8gWk9ORSJ9LHY9Im5vdFNjaGVkdWxlZCIsaz0ic2NoZWR1bGluZyIsRT0ic2NoZWR1bGVkIixiPSJydW5uaW5nIix3PSJjYW5jZWxpbmciLE09InVua25vd24iLEw9Im1pY3JvVGFzayIsQz0ibWFjcm9UYXNrIixTPSJldmVudFRhc2siLE89e30sRD17c3ltYm9sOmEsY3VycmVudFpvbmVGcmFtZTooKT0+SCxvblVuaGFuZGxlZEVycm9yOk4sbWljcm90YXNrRHJhaW5Eb25lOk4sc2NoZWR1bGVNaWNyb1Rhc2s6VCxzaG93VW5jYXVnaHRFcnJvcjooKT0+IXNbYSgiaWdub3JlQ29uc29sZUVycm9yVW5jYXVnaHRFcnJvciIpXSxwYXRjaEV2ZW50VGFyZ2V0OigpPT5bXSxwYXRjaE9uUHJvcGVydGllczpOLHBhdGNoTWV0aG9kOigpPT5OLGJpbmRBcmd1bWVudHM6KCk9PltdLHBhdGNoVGhlbjooKT0+TixwYXRjaE1hY3JvVGFzazooKT0+TixwYXRjaEV2ZW50UHJvdG90eXBlOigpPT5OLGlzSUVPckVkZ2U6KCk9PiExLGdldEdsb2JhbE9iamVjdHM6KCk9Pnt9LE9iamVjdERlZmluZVByb3BlcnR5OigpPT5OLE9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcjooKT0+e30sT2JqZWN0Q3JlYXRlOigpPT57fSxBcnJheVNsaWNlOigpPT5bXSxwYXRjaENsYXNzOigpPT5OLHdyYXBXaXRoQ3VycmVudFpvbmU6KCk9Pk4sZmlsdGVyUHJvcGVydGllczooKT0+W10sYXR0YWNoT3JpZ2luVG9QYXRjaGVkOigpPT5OLF9yZWRlZmluZVByb3BlcnR5OigpPT5OLHBhdGNoQ2FsbGJhY2tzOigpPT5OfTtsZXQgSD17cGFyZW50Om51bGwsem9uZTpuZXcgcyhudWxsLG51bGwpfSxaPW51bGwsUD0wO2Z1bmN0aW9uIE4oKXt9bygiWm9uZSIsIlpvbmUiKSxlLlpvbmU9c30oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvd3x8InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmfHxnbG9iYWwpO2NvbnN0IGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcix0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxuPU9iamVjdC5nZXRQcm90b3R5cGVPZixvPU9iamVjdC5jcmVhdGUscj1BcnJheS5wcm90b3R5cGUuc2xpY2UsYT0iYWRkRXZlbnRMaXN0ZW5lciIsaT0icmVtb3ZlRXZlbnRMaXN0ZW5lciIscz1ab25lLl9fc3ltYm9sX18oYSksYz1ab25lLl9fc3ltYm9sX18oaSksbD0idHJ1ZSIsdT0iZmFsc2UiLGg9Wm9uZS5fX3N5bWJvbF9fKCIiKTtmdW5jdGlvbiBwKGUsdCl7cmV0dXJuIFpvbmUuY3VycmVudC53cmFwKGUsdCl9ZnVuY3Rpb24gZihlLHQsbixvLHIpe3JldHVybiBab25lLmN1cnJlbnQuc2NoZWR1bGVNYWNyb1Rhc2soZSx0LG4sbyxyKX1jb25zdCBkPVpvbmUuX19zeW1ib2xfXyxtPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LGc9bT93aW5kb3c6dm9pZCAwLFQ9bSYmZ3x8Im9iamVjdCI9PXR5cGVvZiBzZWxmJiZzZWxmfHxnbG9iYWwseT1bbnVsbF07ZnVuY3Rpb24gXyhlLHQpe2ZvcihsZXQgbj1lLmxlbmd0aC0xO24+PTA7bi0tKSJmdW5jdGlvbiI9PXR5cGVvZiBlW25dJiYoZVtuXT1wKGVbbl0sdCsiXyIrbikpO3JldHVybiBlfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIWV8fCExIT09ZS53cml0YWJsZSYmISgiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXQmJnZvaWQgMD09PWUuc2V0KX1jb25zdCBrPSJ1bmRlZmluZWQiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSxFPSEoIm53ImluIFQpJiZ2b2lkIDAhPT1ULnByb2Nlc3MmJiJbb2JqZWN0IHByb2Nlc3NdIj09PXt9LnRvU3RyaW5nLmNhbGwoVC5wcm9jZXNzKSxiPSFFJiYhayYmISghbXx8IWcuSFRNTEVsZW1lbnQpLHc9dm9pZCAwIT09VC5wcm9jZXNzJiYiW29iamVjdCBwcm9jZXNzXSI9PT17fS50b1N0cmluZy5jYWxsKFQucHJvY2VzcykmJiFrJiYhKCFtfHwhZy5IVE1MRWxlbWVudCksTT17fSxMPWZ1bmN0aW9uKGUpe2lmKCEoZT1lfHxULmV2ZW50KSlyZXR1cm47bGV0IHQ9TVtlLnR5cGVdO3R8fCh0PU1bZS50eXBlXT1kKCJPTl9QUk9QRVJUWSIrZS50eXBlKSk7Y29uc3Qgbj10aGlzfHxlLnRhcmdldHx8VCxvPW5bdF07bGV0IHI7aWYoYiYmbj09PWcmJiJlcnJvciI9PT1lLnR5cGUpe2NvbnN0IHQ9ZTtyPW8mJm8uY2FsbCh0aGlzLHQubWVzc2FnZSx0LmZpbGVuYW1lLHQubGluZW5vLHQuY29sbm8sdC5lcnJvciksITA9PT1yJiZlLnByZXZlbnREZWZhdWx0KCl9ZWxzZSByPW8mJm8uYXBwbHkodGhpcyxhcmd1bWVudHMpLG51bGw9PXJ8fHJ8fGUucHJldmVudERlZmF1bHQoKTtyZXR1cm4gcn07ZnVuY3Rpb24gQyhuLG8scil7bGV0IGE9ZShuLG8pO2lmKCFhJiZyJiZlKHIsbykmJihhPXtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLCFhfHwhYS5jb25maWd1cmFibGUpcmV0dXJuO2NvbnN0IGk9ZCgib24iK28rInBhdGNoZWQiKTtpZihuLmhhc093blByb3BlcnR5KGkpJiZuW2ldKXJldHVybjtkZWxldGUgYS53cml0YWJsZSxkZWxldGUgYS52YWx1ZTtjb25zdCBzPWEuZ2V0LGM9YS5zZXQsbD1vLnN1YnN0cigyKTtsZXQgdT1NW2xdO3V8fCh1PU1bbF09ZCgiT05fUFJPUEVSVFkiK2wpKSxhLnNldD1mdW5jdGlvbihlKXtsZXQgdD10aGlzO3R8fG4hPT1UfHwodD1UKSx0JiYodFt1XSYmdC5yZW1vdmVFdmVudExpc3RlbmVyKGwsTCksYyYmYy5hcHBseSh0LHkpLCJmdW5jdGlvbiI9PXR5cGVvZiBlPyh0W3VdPWUsdC5hZGRFdmVudExpc3RlbmVyKGwsTCwhMSkpOnRbdV09bnVsbCl9LGEuZ2V0PWZ1bmN0aW9uKCl7bGV0IGU9dGhpcztpZihlfHxuIT09VHx8KGU9VCksIWUpcmV0dXJuIG51bGw7Y29uc3QgdD1lW3VdO2lmKHQpcmV0dXJuIHQ7aWYocyl7bGV0IHQ9cyYmcy5jYWxsKHRoaXMpO2lmKHQpcmV0dXJuIGEuc2V0LmNhbGwodGhpcyx0KSwiZnVuY3Rpb24iPT10eXBlb2YgZS5yZW1vdmVBdHRyaWJ1dGUmJmUucmVtb3ZlQXR0cmlidXRlKG8pLHR9cmV0dXJuIG51bGx9LHQobixvLGEpLG5baV09ITB9ZnVuY3Rpb24gUyhlLHQsbil7aWYodClmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKylDKGUsIm9uIit0W29dLG4pO2Vsc2V7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBpbiBlKSJvbiI9PW4uc3Vic3RyKDAsMikmJnQucHVzaChuKTtmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKylDKGUsdFtvXSxuKX19Y29uc3QgTz1kKCJvcmlnaW5hbEluc3RhbmNlIik7ZnVuY3Rpb24gRChlKXtjb25zdCBuPVRbZV07aWYoIW4pcmV0dXJuO1RbZChlKV09bixUW2VdPWZ1bmN0aW9uKCl7Y29uc3QgdD1fKGFyZ3VtZW50cyxlKTtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDp0aGlzW09dPW5ldyBuO2JyZWFrO2Nhc2UgMTp0aGlzW09dPW5ldyBuKHRbMF0pO2JyZWFrO2Nhc2UgMjp0aGlzW09dPW5ldyBuKHRbMF0sdFsxXSk7YnJlYWs7Y2FzZSAzOnRoaXNbT109bmV3IG4odFswXSx0WzFdLHRbMl0pO2JyZWFrO2Nhc2UgNDp0aGlzW09dPW5ldyBuKHRbMF0sdFsxXSx0WzJdLHRbM10pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJBcmcgbGlzdCB0b28gbG9uZy4iKX19LFAoVFtlXSxuKTtjb25zdCBvPW5ldyBuKGZ1bmN0aW9uKCl7fSk7bGV0IHI7Zm9yKHIgaW4gbykiWE1MSHR0cFJlcXVlc3QiPT09ZSYmInJlc3BvbnNlQmxvYiI9PT1yfHxmdW5jdGlvbihuKXsiZnVuY3Rpb24iPT10eXBlb2Ygb1tuXT9UW2VdLnByb3RvdHlwZVtuXT1mdW5jdGlvbigpe3JldHVybiB0aGlzW09dW25dLmFwcGx5KHRoaXNbT10sYXJndW1lbnRzKX06dChUW2VdLnByb3RvdHlwZSxuLHtzZXQ6ZnVuY3Rpb24odCl7ImZ1bmN0aW9uIj09dHlwZW9mIHQ/KHRoaXNbT11bbl09cCh0LGUrIi4iK24pLFAodGhpc1tPXVtuXSx0KSk6dGhpc1tPXVtuXT10fSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tPXVtuXX19KX0ocik7Zm9yKHIgaW4gbikicHJvdG90eXBlIiE9PXImJm4uaGFzT3duUHJvcGVydHkocikmJihUW2VdW3JdPW5bcl0pfWZ1bmN0aW9uIEgodCxvLHIpe2xldCBhPXQ7Zm9yKDthJiYhYS5oYXNPd25Qcm9wZXJ0eShvKTspYT1uKGEpOyFhJiZ0W29dJiYoYT10KTtjb25zdCBpPWQobyk7bGV0IHM9bnVsbDtpZihhJiYoIShzPWFbaV0pfHwhYS5oYXNPd25Qcm9wZXJ0eShpKSkmJihzPWFbaV09YVtvXSx2KGEmJmUoYSxvKSkpKXtjb25zdCBlPXIocyxpLG8pO2Fbb109ZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cyl9LFAoYVtvXSxzKX1yZXR1cm4gc31mdW5jdGlvbiBaKGUsdCxuKXtsZXQgbz1udWxsO2Z1bmN0aW9uIHIoZSl7Y29uc3QgdD1lLmRhdGE7cmV0dXJuIHQuYXJnc1t0LmNiSWR4XT1mdW5jdGlvbigpe2UuaW52b2tlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sby5hcHBseSh0LnRhcmdldCx0LmFyZ3MpLGV9bz1IKGUsdCxlPT5mdW5jdGlvbih0LG8pe2NvbnN0IGE9bih0LG8pO3JldHVybiBhLmNiSWR4Pj0wJiYiZnVuY3Rpb24iPT10eXBlb2Ygb1thLmNiSWR4XT9mKGEubmFtZSxvW2EuY2JJZHhdLGEscik6ZS5hcHBseSh0LG8pfSl9ZnVuY3Rpb24gUChlLHQpe2VbZCgiT3JpZ2luYWxEZWxlZ2F0ZSIpXT10fWxldCBOPSExLHo9ITE7ZnVuY3Rpb24gSSgpe3RyeXtjb25zdCBlPWcubmF2aWdhdG9yLnVzZXJBZ2VudDtpZigtMSE9PWUuaW5kZXhPZigiTVNJRSAiKXx8LTEhPT1lLmluZGV4T2YoIlRyaWRlbnQvIikpcmV0dXJuITB9Y2F0Y2goZSl7fXJldHVybiExfWZ1bmN0aW9uIEEoKXtpZihOKXJldHVybiB6O049ITA7dHJ5e2NvbnN0IGU9Zy5uYXZpZ2F0b3IudXNlckFnZW50Oy0xPT09ZS5pbmRleE9mKCJNU0lFICIpJiYtMT09PWUuaW5kZXhPZigiVHJpZGVudC8iKSYmLTE9PT1lLmluZGV4T2YoIkVkZ2UvIil8fCh6PSEwKX1jYXRjaChlKXt9cmV0dXJuIHp9Wm9uZS5fX2xvYWRfcGF0Y2goIlpvbmVBd2FyZVByb21pc2UiLChlLHQsbik9Pntjb25zdCBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iscj1PYmplY3QuZGVmaW5lUHJvcGVydHksYT1uLnN5bWJvbCxpPVtdLHM9ITA9PT1lW2EoIkRJU0FCTEVfV1JBUFBJTkdfVU5DQVVHSFRfUFJPTUlTRV9SRUpFQ1RJT04iKV0sYz1hKCJQcm9taXNlIiksbD1hKCJ0aGVuIik7bi5vblVuaGFuZGxlZEVycm9yPWU9PntpZihuLnNob3dVbmNhdWdodEVycm9yKCkpe2NvbnN0IHQ9ZSYmZS5yZWplY3Rpb247dD9jb25zb2xlLmVycm9yKCJVbmhhbmRsZWQgUHJvbWlzZSByZWplY3Rpb246Iix0IGluc3RhbmNlb2YgRXJyb3I/dC5tZXNzYWdlOnQsIjsgWm9uZToiLGUuem9uZS5uYW1lLCI7IFRhc2s6IixlLnRhc2smJmUudGFzay5zb3VyY2UsIjsgVmFsdWU6Iix0LHQgaW5zdGFuY2VvZiBFcnJvcj90LnN0YWNrOnZvaWQgMCk6Y29uc29sZS5lcnJvcihlKX19LG4ubWljcm90YXNrRHJhaW5Eb25lPSgpPT57Zm9yKDtpLmxlbmd0aDspe2NvbnN0IHQ9aS5zaGlmdCgpO3RyeXt0LnpvbmUucnVuR3VhcmRlZCgoKT0+e2lmKHQudGhyb3dPcmlnaW5hbCl0aHJvdyB0LnJlamVjdGlvbjt0aHJvdyB0fSl9Y2F0Y2goZSl7aChlKX19fTtjb25zdCB1PWEoInVuaGFuZGxlZFByb21pc2VSZWplY3Rpb25IYW5kbGVyIik7ZnVuY3Rpb24gaChlKXtuLm9uVW5oYW5kbGVkRXJyb3IoZSk7dHJ5e2NvbnN0IG49dFt1XTsiZnVuY3Rpb24iPT10eXBlb2YgbiYmbi5jYWxsKHRoaXMsZSl9Y2F0Y2gobyl7fX1mdW5jdGlvbiBwKGUpe3JldHVybiBlJiZlLnRoZW59ZnVuY3Rpb24gZihlKXtyZXR1cm4gZX1mdW5jdGlvbiBkKGUpe3JldHVybiBELnJlamVjdChlKX1jb25zdCBtPWEoInN0YXRlIiksZz1hKCJ2YWx1ZSIpLFQ9YSgiZmluYWxseSIpLHk9YSgicGFyZW50UHJvbWlzZVZhbHVlIiksXz1hKCJwYXJlbnRQcm9taXNlU3RhdGUiKSx2PW51bGwsaz0hMCxFPSExO2Z1bmN0aW9uIGIoZSx0KXtyZXR1cm4gbj0+e3RyeXtNKGUsdCxuKX1jYXRjaChvKXtNKGUsITEsbyl9fX1jb25zdCB3PWEoImN1cnJlbnRUYXNrVHJhY2UiKTtmdW5jdGlvbiBNKGUsbyxhKXtjb25zdCBjPWZ1bmN0aW9uKCl7bGV0IGU9ITE7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe2V8fChlPSEwLHQuYXBwbHkobnVsbCxhcmd1bWVudHMpKX19fSgpO2lmKGU9PT1hKXRocm93IG5ldyBUeXBlRXJyb3IoIlByb21pc2UgcmVzb2x2ZWQgd2l0aCBpdHNlbGYiKTtpZihlW21dPT09dil7bGV0IGg9bnVsbDt0cnl7Im9iamVjdCIhPXR5cGVvZiBhJiYiZnVuY3Rpb24iIT10eXBlb2YgYXx8KGg9YSYmYS50aGVuKX1jYXRjaCh1KXtyZXR1cm4gYygoKT0+e00oZSwhMSx1KX0pKCksZX1pZihvIT09RSYmYSBpbnN0YW5jZW9mIEQmJmEuaGFzT3duUHJvcGVydHkobSkmJmEuaGFzT3duUHJvcGVydHkoZykmJmFbbV0hPT12KUMoYSksTShlLGFbbV0sYVtnXSk7ZWxzZSBpZihvIT09RSYmImZ1bmN0aW9uIj09dHlwZW9mIGgpdHJ5e2guY2FsbChhLGMoYihlLG8pKSxjKGIoZSwhMSkpKX1jYXRjaCh1KXtjKCgpPT57TShlLCExLHUpfSkoKX1lbHNle2VbbV09bztjb25zdCBjPWVbZ107aWYoZVtnXT1hLGVbVF09PT1UJiZvPT09ayYmKGVbbV09ZVtfXSxlW2ddPWVbeV0pLG89PT1FJiZhIGluc3RhbmNlb2YgRXJyb3Ipe2NvbnN0IGU9dC5jdXJyZW50VGFzayYmdC5jdXJyZW50VGFzay5kYXRhJiZ0LmN1cnJlbnRUYXNrLmRhdGEuX19jcmVhdGlvblRyYWNlX187ZSYmcihhLHcse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLHZhbHVlOmV9KX1mb3IobGV0IHQ9MDt0PGMubGVuZ3RoOylTKGUsY1t0KytdLGNbdCsrXSxjW3QrK10sY1t0KytdKTtpZigwPT1jLmxlbmd0aCYmbz09RSl7ZVttXT0wO2xldCBvPWE7dHJ5e3Rocm93IG5ldyBFcnJvcigiVW5jYXVnaHQgKGluIHByb21pc2UpOiAiKygobD1hKSYmbC50b1N0cmluZz09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc/KGwuY29uc3RydWN0b3ImJmwuY29uc3RydWN0b3IubmFtZXx8IiIpKyI6ICIrSlNPTi5zdHJpbmdpZnkobCk6bD9sLnRvU3RyaW5nKCk6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGwpKSsoYSYmYS5zdGFjaz8iXG4iK2Euc3RhY2s6IiIpKX1jYXRjaCh1KXtvPXV9cyYmKG8udGhyb3dPcmlnaW5hbD0hMCksby5yZWplY3Rpb249YSxvLnByb21pc2U9ZSxvLnpvbmU9dC5jdXJyZW50LG8udGFzaz10LmN1cnJlbnRUYXNrLGkucHVzaChvKSxuLnNjaGVkdWxlTWljcm9UYXNrKCl9fX12YXIgbDtyZXR1cm4gZX1jb25zdCBMPWEoInJlamVjdGlvbkhhbmRsZWRIYW5kbGVyIik7ZnVuY3Rpb24gQyhlKXtpZigwPT09ZVttXSl7dHJ5e2NvbnN0IG49dFtMXTtuJiYiZnVuY3Rpb24iPT10eXBlb2YgbiYmbi5jYWxsKHRoaXMse3JlamVjdGlvbjplW2ddLHByb21pc2U6ZX0pfWNhdGNoKG4pe31lW21dPUU7Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0KyspZT09PWlbdF0ucHJvbWlzZSYmaS5zcGxpY2UodCwxKX19ZnVuY3Rpb24gUyhlLHQsbixvLHIpe0MoZSk7Y29uc3QgYT1lW21dLGk9YT8iZnVuY3Rpb24iPT10eXBlb2Ygbz9vOmY6ImZ1bmN0aW9uIj09dHlwZW9mIHI/cjpkO3Quc2NoZWR1bGVNaWNyb1Rhc2soIlByb21pc2UudGhlbiIsKCk9Pnt0cnl7Y29uc3Qgbz1lW2ddLHI9ISFuJiZUPT09bltUXTtyJiYoblt5XT1vLG5bX109YSk7Y29uc3Qgcz10LnJ1bihpLHZvaWQgMCxyJiZpIT09ZCYmaSE9PWY/W106W29dKTtNKG4sITAscyl9Y2F0Y2gobyl7TShuLCExLG8pfX0sbil9Y29uc3QgTz1mdW5jdGlvbigpe307Y2xhc3MgRHtzdGF0aWMgdG9TdHJpbmcoKXtyZXR1cm4iZnVuY3Rpb24gWm9uZUF3YXJlUHJvbWlzZSgpIHsgW25hdGl2ZSBjb2RlXSB9In1zdGF0aWMgcmVzb2x2ZShlKXtyZXR1cm4gTShuZXcgdGhpcyhudWxsKSxrLGUpfXN0YXRpYyByZWplY3QoZSl7cmV0dXJuIE0obmV3IHRoaXMobnVsbCksRSxlKX1zdGF0aWMgcmFjZShlKXtsZXQgdCxuLG89bmV3IHRoaXMoKGUsbyk9Pnt0PWUsbj1vfSk7ZnVuY3Rpb24gcihlKXt0KGUpfWZ1bmN0aW9uIGEoZSl7bihlKX1mb3IobGV0IGkgb2YgZSlwKGkpfHwoaT10aGlzLnJlc29sdmUoaSkpLGkudGhlbihyLGEpO3JldHVybiBvfXN0YXRpYyBhbGwoZSl7cmV0dXJuIEQuYWxsV2l0aENhbGxiYWNrKGUpfXN0YXRpYyBhbGxTZXR0bGVkKGUpe3JldHVybih0aGlzJiZ0aGlzLnByb3RvdHlwZSBpbnN0YW5jZW9mIEQ/dGhpczpEKS5hbGxXaXRoQ2FsbGJhY2soZSx7dGhlbkNhbGxiYWNrOmU9Pih7c3RhdHVzOiJmdWxmaWxsZWQiLHZhbHVlOmV9KSxlcnJvckNhbGxiYWNrOmU9Pih7c3RhdHVzOiJyZWplY3RlZCIscmVhc29uOmV9KX0pfXN0YXRpYyBhbGxXaXRoQ2FsbGJhY2soZSx0KXtsZXQgbixvLHI9bmV3IHRoaXMoKGUsdCk9PntuPWUsbz10fSksYT0yLGk9MDtjb25zdCBzPVtdO2ZvcihsZXQgbCBvZiBlKXtwKGwpfHwobD10aGlzLnJlc29sdmUobCkpO2NvbnN0IGU9aTt0cnl7bC50aGVuKG89PntzW2VdPXQ/dC50aGVuQ2FsbGJhY2sobyk6byxhLS0sMD09PWEmJm4ocyl9LHI9Pnt0PyhzW2VdPXQuZXJyb3JDYWxsYmFjayhyKSxhLS0sMD09PWEmJm4ocykpOm8ocil9KX1jYXRjaChjKXtvKGMpfWErKyxpKyt9cmV0dXJuIGEtPTIsMD09PWEmJm4ocykscn1jb25zdHJ1Y3RvcihlKXtjb25zdCB0PXRoaXM7aWYoISh0IGluc3RhbmNlb2YgRCkpdGhyb3cgbmV3IEVycm9yKCJNdXN0IGJlIGFuIGluc3RhbmNlb2YgUHJvbWlzZS4iKTt0W21dPXYsdFtnXT1bXTt0cnl7ZSYmZShiKHQsayksYih0LEUpKX1jYXRjaChuKXtNKHQsITEsbil9fWdldFtTeW1ib2wudG9TdHJpbmdUYWddKCl7cmV0dXJuIlByb21pc2UifWdldFtTeW1ib2wuc3BlY2llc10oKXtyZXR1cm4gRH10aGVuKGUsbil7bGV0IG89dGhpcy5jb25zdHJ1Y3RvcltTeW1ib2wuc3BlY2llc107byYmImZ1bmN0aW9uIj09dHlwZW9mIG98fChvPXRoaXMuY29uc3RydWN0b3J8fEQpO2NvbnN0IHI9bmV3IG8oTyksYT10LmN1cnJlbnQ7cmV0dXJuIHRoaXNbbV09PXY/dGhpc1tnXS5wdXNoKGEscixlLG4pOlModGhpcyxhLHIsZSxuKSxyfWNhdGNoKGUpe3JldHVybiB0aGlzLnRoZW4obnVsbCxlKX1maW5hbGx5KGUpe2xldCBuPXRoaXMuY29uc3RydWN0b3JbU3ltYm9sLnNwZWNpZXNdO24mJiJmdW5jdGlvbiI9PXR5cGVvZiBufHwobj1EKTtjb25zdCBvPW5ldyBuKE8pO29bVF09VDtjb25zdCByPXQuY3VycmVudDtyZXR1cm4gdGhpc1ttXT09dj90aGlzW2ddLnB1c2gocixvLGUsZSk6Uyh0aGlzLHIsbyxlLGUpLG99fUQucmVzb2x2ZT1ELnJlc29sdmUsRC5yZWplY3Q9RC5yZWplY3QsRC5yYWNlPUQucmFjZSxELmFsbD1ELmFsbDtjb25zdCBaPWVbY109ZS5Qcm9taXNlO2UuUHJvbWlzZT1EO2NvbnN0IFA9YSgidGhlblBhdGNoZWQiKTtmdW5jdGlvbiBOKGUpe2NvbnN0IHQ9ZS5wcm90b3R5cGUsbj1vKHQsInRoZW4iKTtpZihuJiYoITE9PT1uLndyaXRhYmxlfHwhbi5jb25maWd1cmFibGUpKXJldHVybjtjb25zdCByPXQudGhlbjt0W2xdPXIsZS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgRCgoZSx0KT0+e3IuY2FsbCh0aGlzLGUsdCl9KS50aGVuKGUsdCl9LGVbUF09ITB9cmV0dXJuIG4ucGF0Y2hUaGVuPU4sWiYmKE4oWiksSChlLCJmZXRjaCIsZT0+e3JldHVybiB0PWUsZnVuY3Rpb24oZSxuKXtsZXQgbz10LmFwcGx5KGUsbik7aWYobyBpbnN0YW5jZW9mIEQpcmV0dXJuIG87bGV0IHI9by5jb25zdHJ1Y3RvcjtyZXR1cm4gcltQXXx8TihyKSxvfTt2YXIgdH0pKSxQcm9taXNlW3QuX19zeW1ib2xfXygidW5jYXVnaHRQcm9taXNlRXJyb3JzIildPWksRH0pLFpvbmUuX19sb2FkX3BhdGNoKCJ0b1N0cmluZyIsZT0+e2NvbnN0IHQ9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLG49ZCgiT3JpZ2luYWxEZWxlZ2F0ZSIpLG89ZCgiUHJvbWlzZSIpLHI9ZCgiRXJyb3IiKSxhPWZ1bmN0aW9uKCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMpe2NvbnN0IGE9dGhpc1tuXTtpZihhKXJldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhP3QuY2FsbChhKTpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk7aWYodGhpcz09PVByb21pc2Upe2NvbnN0IG49ZVtvXTtpZihuKXJldHVybiB0LmNhbGwobil9aWYodGhpcz09PUVycm9yKXtjb25zdCBuPWVbcl07aWYobilyZXR1cm4gdC5jYWxsKG4pfX1yZXR1cm4gdC5jYWxsKHRoaXMpfTthW25dPXQsRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nPWE7Y29uc3QgaT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO09iamVjdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZSYmdGhpcyBpbnN0YW5jZW9mIFByb21pc2U/IltvYmplY3QgUHJvbWlzZV0iOmkuY2FsbCh0aGlzKX19KTtsZXQgaj0hMTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyl0cnl7Y29uc3QgZT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sInBhc3NpdmUiLHtnZXQ6ZnVuY3Rpb24oKXtqPSEwfX0pO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0IixlLGUpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJ0ZXN0IixlLGUpfWNhdGNoKGhlKXtqPSExfWNvbnN0IFI9e3VzZUc6ITB9LHg9e30sRj17fSxWPW5ldyBSZWdFeHAoIl4iK2grIihcXHcrKSh0cnVlfGZhbHNlKSQiKSxVPWQoInByb3BhZ2F0aW9uU3RvcHBlZCIpO2Z1bmN0aW9uIHEoZSx0KXtjb25zdCBuPSh0P3QoZSk6ZSkrdSxvPSh0P3QoZSk6ZSkrbCxyPWgrbixhPWgrbzt4W2VdPXt9LHhbZV0uZmFsc2U9cix4W2VdLnRydWU9YX1mdW5jdGlvbiBCKGUsdCxvKXtjb25zdCByPW8mJm8uYWRkfHxhLHM9byYmby5ybXx8aSxjPW8mJm8ubGlzdGVuZXJzfHwiZXZlbnRMaXN0ZW5lcnMiLHA9byYmby5ybUFsbHx8InJlbW92ZUFsbExpc3RlbmVycyIsZj1kKHIpLG09Ii4iK3IrIjoiLGc9ZnVuY3Rpb24oZSx0LG4pe2lmKGUuaXNSZW1vdmVkKXJldHVybjtjb25zdCBvPWUuY2FsbGJhY2s7Im9iamVjdCI9PXR5cGVvZiBvJiZvLmhhbmRsZUV2ZW50JiYoZS5jYWxsYmFjaz1lPT5vLmhhbmRsZUV2ZW50KGUpLGUub3JpZ2luYWxEZWxlZ2F0ZT1vKSxlLmludm9rZShlLHQsW25dKTtjb25zdCByPWUub3B0aW9ucztyJiYib2JqZWN0Ij09dHlwZW9mIHImJnIub25jZSYmdFtzXS5jYWxsKHQsbi50eXBlLGUub3JpZ2luYWxEZWxlZ2F0ZT9lLm9yaWdpbmFsRGVsZWdhdGU6ZS5jYWxsYmFjayxyKX0sVD1mdW5jdGlvbih0KXtpZighKHQ9dHx8ZS5ldmVudCkpcmV0dXJuO2NvbnN0IG49dGhpc3x8dC50YXJnZXR8fGUsbz1uW3hbdC50eXBlXS5mYWxzZV07aWYobylpZigxPT09by5sZW5ndGgpZyhvWzBdLG4sdCk7ZWxzZXtjb25zdCBlPW8uc2xpY2UoKTtmb3IobGV0IG89MDtvPGUubGVuZ3RoJiYoIXR8fCEwIT09dFtVXSk7bysrKWcoZVtvXSxuLHQpfX0seT1mdW5jdGlvbih0KXtpZighKHQ9dHx8ZS5ldmVudCkpcmV0dXJuO2NvbnN0IG49dGhpc3x8dC50YXJnZXR8fGUsbz1uW3hbdC50eXBlXS50cnVlXTtpZihvKWlmKDE9PT1vLmxlbmd0aClnKG9bMF0sbix0KTtlbHNle2NvbnN0IGU9by5zbGljZSgpO2ZvcihsZXQgbz0wO288ZS5sZW5ndGgmJighdHx8ITAhPT10W1VdKTtvKyspZyhlW29dLG4sdCl9fTtmdW5jdGlvbiBfKHQsbyl7aWYoIXQpcmV0dXJuITE7bGV0IGE9ITA7byYmdm9pZCAwIT09by51c2VHJiYoYT1vLnVzZUcpO2NvbnN0IGk9byYmby52aDtsZXQgZz0hMDtvJiZ2b2lkIDAhPT1vLmNoa0R1cCYmKGc9by5jaGtEdXApO2xldCBfPSExO28mJnZvaWQgMCE9PW8ucnQmJihfPW8ucnQpO2xldCB2PXQ7Zm9yKDt2JiYhdi5oYXNPd25Qcm9wZXJ0eShyKTspdj1uKHYpO2lmKCF2JiZ0W3JdJiYodj10KSwhdilyZXR1cm4hMTtpZih2W2ZdKXJldHVybiExO2NvbnN0IGs9byYmby5ldmVudE5hbWVUb1N0cmluZyxiPXt9LHc9dltmXT12W3JdLE09dltkKHMpXT12W3NdLEw9dltkKGMpXT12W2NdLEM9dltkKHApXT12W3BdO2xldCBTO2Z1bmN0aW9uIE8oZSx0KXtyZXR1cm4haiYmIm9iamVjdCI9PXR5cGVvZiBlJiZlPyEhZS5jYXB0dXJlOmomJnQ/ImJvb2xlYW4iPT10eXBlb2YgZT97Y2FwdHVyZTplLHBhc3NpdmU6ITB9OmU/Im9iamVjdCI9PXR5cGVvZiBlJiYhMSE9PWUucGFzc2l2ZT9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse3Bhc3NpdmU6ITB9KTplOntwYXNzaXZlOiEwfTplfW8mJm8ucHJlcGVuZCYmKFM9dltkKG8ucHJlcGVuZCldPXZbby5wcmVwZW5kXSk7Y29uc3QgRD1hP2Z1bmN0aW9uKGUpe2lmKCFiLmlzRXhpc3RpbmcpcmV0dXJuIHcuY2FsbChiLnRhcmdldCxiLmV2ZW50TmFtZSxiLmNhcHR1cmU/eTpULGIub3B0aW9ucyl9OmZ1bmN0aW9uKGUpe3JldHVybiB3LmNhbGwoYi50YXJnZXQsYi5ldmVudE5hbWUsZS5pbnZva2UsYi5vcHRpb25zKX0sSD1hP2Z1bmN0aW9uKGUpe2lmKCFlLmlzUmVtb3ZlZCl7Y29uc3QgdD14W2UuZXZlbnROYW1lXTtsZXQgbjt0JiYobj10W2UuY2FwdHVyZT9sOnVdKTtjb25zdCBvPW4mJmUudGFyZ2V0W25dO2lmKG8pZm9yKGxldCByPTA7cjxvLmxlbmd0aDtyKyspaWYob1tyXT09PWUpe28uc3BsaWNlKHIsMSksZS5pc1JlbW92ZWQ9ITAsMD09PW8ubGVuZ3RoJiYoZS5hbGxSZW1vdmVkPSEwLGUudGFyZ2V0W25dPW51bGwpO2JyZWFrfX1pZihlLmFsbFJlbW92ZWQpcmV0dXJuIE0uY2FsbChlLnRhcmdldCxlLmV2ZW50TmFtZSxlLmNhcHR1cmU/eTpULGUub3B0aW9ucyl9OmZ1bmN0aW9uKGUpe3JldHVybiBNLmNhbGwoZS50YXJnZXQsZS5ldmVudE5hbWUsZS5pbnZva2UsZS5vcHRpb25zKX0sWj1vJiZvLmRpZmY/by5kaWZmOmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj10eXBlb2YgdDtyZXR1cm4iZnVuY3Rpb24iPT09biYmZS5jYWxsYmFjaz09PXR8fCJvYmplY3QiPT09biYmZS5vcmlnaW5hbERlbGVnYXRlPT09dH0sTj1ab25lW2QoIlVOUEFUQ0hFRF9FVkVOVFMiKV0sej1lW2QoIlBBU1NJVkVfRVZFTlRTIildLEk9ZnVuY3Rpb24odCxuLHIscyxjPSExLGg9ITEpe3JldHVybiBmdW5jdGlvbigpe2NvbnN0IHA9dGhpc3x8ZTtsZXQgZj1hcmd1bWVudHNbMF07byYmby50cmFuc2ZlckV2ZW50TmFtZSYmKGY9by50cmFuc2ZlckV2ZW50TmFtZShmKSk7bGV0IGQ9YXJndW1lbnRzWzFdO2lmKCFkKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihFJiYidW5jYXVnaHRFeGNlcHRpb24iPT09ZilyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bGV0IG09ITE7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGQpe2lmKCFkLmhhbmRsZUV2ZW50KXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTttPSEwfWlmKGkmJiFpKHQsZCxwLGFyZ3VtZW50cykpcmV0dXJuO2NvbnN0IFQ9aiYmISF6JiYtMSE9PXouaW5kZXhPZihmKSx5PU8oYXJndW1lbnRzWzJdLFQpO2lmKE4pZm9yKGxldCBlPTA7ZTxOLmxlbmd0aDtlKyspaWYoZj09PU5bZV0pcmV0dXJuIFQ/dC5jYWxsKHAsZixkLHkpOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2NvbnN0IF89ISF5JiYoImJvb2xlYW4iPT10eXBlb2YgeXx8eS5jYXB0dXJlKSx2PSEoIXl8fCJvYmplY3QiIT10eXBlb2YgeSkmJnkub25jZSx3PVpvbmUuY3VycmVudDtsZXQgTT14W2ZdO018fChxKGYsayksTT14W2ZdKTtjb25zdCBMPU1bXz9sOnVdO2xldCBDLFM9cFtMXSxEPSExO2lmKFMpe2lmKEQ9ITAsZylmb3IobGV0IGU9MDtlPFMubGVuZ3RoO2UrKylpZihaKFNbZV0sZCkpcmV0dXJufWVsc2UgUz1wW0xdPVtdO2NvbnN0IEg9cC5jb25zdHJ1Y3Rvci5uYW1lLFA9RltIXTtQJiYoQz1QW2ZdKSxDfHwoQz1IK24rKGs/ayhmKTpmKSksYi5vcHRpb25zPXksdiYmKGIub3B0aW9ucy5vbmNlPSExKSxiLnRhcmdldD1wLGIuY2FwdHVyZT1fLGIuZXZlbnROYW1lPWYsYi5pc0V4aXN0aW5nPUQ7Y29uc3QgST1hP1I6dm9pZCAwO0kmJihJLnRhc2tEYXRhPWIpO2NvbnN0IEE9dy5zY2hlZHVsZUV2ZW50VGFzayhDLGQsSSxyLHMpO3JldHVybiBiLnRhcmdldD1udWxsLEkmJihJLnRhc2tEYXRhPW51bGwpLHYmJih5Lm9uY2U9ITApLChqfHwiYm9vbGVhbiIhPXR5cGVvZiBBLm9wdGlvbnMpJiYoQS5vcHRpb25zPXkpLEEudGFyZ2V0PXAsQS5jYXB0dXJlPV8sQS5ldmVudE5hbWU9ZixtJiYoQS5vcmlnaW5hbERlbGVnYXRlPWQpLGg/Uy51bnNoaWZ0KEEpOlMucHVzaChBKSxjP3A6dm9pZCAwfX07cmV0dXJuIHZbcl09SSh3LG0sRCxILF8pLFMmJih2LnByZXBlbmRMaXN0ZW5lcj1JKFMsIi5wcmVwZW5kTGlzdGVuZXI6IixmdW5jdGlvbihlKXtyZXR1cm4gUy5jYWxsKGIudGFyZ2V0LGIuZXZlbnROYW1lLGUuaW52b2tlLGIub3B0aW9ucyl9LEgsXywhMCkpLHZbc109ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXN8fGU7bGV0IG49YXJndW1lbnRzWzBdO28mJm8udHJhbnNmZXJFdmVudE5hbWUmJihuPW8udHJhbnNmZXJFdmVudE5hbWUobikpO2NvbnN0IHI9YXJndW1lbnRzWzJdLGE9ISFyJiYoImJvb2xlYW4iPT10eXBlb2Ygcnx8ci5jYXB0dXJlKSxzPWFyZ3VtZW50c1sxXTtpZighcylyZXR1cm4gTS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoaSYmIWkoTSxzLHQsYXJndW1lbnRzKSlyZXR1cm47Y29uc3QgYz14W25dO2xldCBwO2MmJihwPWNbYT9sOnVdKTtjb25zdCBmPXAmJnRbcF07aWYoZilmb3IobGV0IGU9MDtlPGYubGVuZ3RoO2UrKyl7Y29uc3Qgbz1mW2VdO2lmKFoobyxzKSlyZXR1cm4gZi5zcGxpY2UoZSwxKSxvLmlzUmVtb3ZlZD0hMCwwPT09Zi5sZW5ndGgmJihvLmFsbFJlbW92ZWQ9ITAsdFtwXT1udWxsLCJzdHJpbmciPT10eXBlb2YgbikmJih0W2grIk9OX1BST1BFUlRZIituXT1udWxsKSxvLnpvbmUuY2FuY2VsVGFzayhvKSxfP3Q6dm9pZCAwfXJldHVybiBNLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdltjXT1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpc3x8ZTtsZXQgbj1hcmd1bWVudHNbMF07byYmby50cmFuc2ZlckV2ZW50TmFtZSYmKG49by50cmFuc2ZlckV2ZW50TmFtZShuKSk7Y29uc3Qgcj1bXSxhPUcodCxrP2sobik6bik7Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aDtlKyspe2NvbnN0IHQ9YVtlXTtyLnB1c2godC5vcmlnaW5hbERlbGVnYXRlP3Qub3JpZ2luYWxEZWxlZ2F0ZTp0LmNhbGxiYWNrKX1yZXR1cm4gcn0sdltwXT1mdW5jdGlvbigpe2NvbnN0IHQ9dGhpc3x8ZTtsZXQgbj1hcmd1bWVudHNbMF07aWYobil7byYmby50cmFuc2ZlckV2ZW50TmFtZSYmKG49by50cmFuc2ZlckV2ZW50TmFtZShuKSk7Y29uc3QgZT14W25dO2lmKGUpe2NvbnN0IG89dFtlLmZhbHNlXSxyPXRbZS50cnVlXTtpZihvKXtjb25zdCBlPW8uc2xpY2UoKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbz1lW3RdO3RoaXNbc10uY2FsbCh0aGlzLG4sby5vcmlnaW5hbERlbGVnYXRlP28ub3JpZ2luYWxEZWxlZ2F0ZTpvLmNhbGxiYWNrLG8ub3B0aW9ucyl9fWlmKHIpe2NvbnN0IGU9ci5zbGljZSgpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBvPWVbdF07dGhpc1tzXS5jYWxsKHRoaXMsbixvLm9yaWdpbmFsRGVsZWdhdGU/by5vcmlnaW5hbERlbGVnYXRlOm8uY2FsbGJhY2ssby5vcHRpb25zKX19fX1lbHNle2NvbnN0IGU9T2JqZWN0LmtleXModCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG49Vi5leGVjKGVbdF0pO2xldCBvPW4mJm5bMV07byYmInJlbW92ZUxpc3RlbmVyIiE9PW8mJnRoaXNbcF0uY2FsbCh0aGlzLG8pfXRoaXNbcF0uY2FsbCh0aGlzLCJyZW1vdmVMaXN0ZW5lciIpfWlmKF8pcmV0dXJuIHRoaXN9LFAodltyXSx3KSxQKHZbc10sTSksQyYmUCh2W3BdLEMpLEwmJlAodltjXSxMKSwhMH1sZXQgdj1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl2W25dPV8odFtuXSxvKTtyZXR1cm4gdn1mdW5jdGlvbiBHKGUsdCl7aWYoIXQpe2NvbnN0IG49W107Zm9yKGxldCBvIGluIGUpe2NvbnN0IHI9Vi5leGVjKG8pO2xldCBhPXImJnJbMV07aWYoYSYmKCF0fHxhPT09dCkpe2NvbnN0IHQ9ZVtvXTtpZih0KWZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKW4ucHVzaCh0W2VdKX19cmV0dXJuIG59bGV0IG49eFt0XTtufHwocSh0KSxuPXhbdF0pO2NvbnN0IG89ZVtuLmZhbHNlXSxyPWVbbi50cnVlXTtyZXR1cm4gbz9yP28uY29uY2F0KHIpOm8uc2xpY2UoKTpyP3Iuc2xpY2UoKTpbXX1mdW5jdGlvbiBXKGUsdCl7Y29uc3Qgbj1lLkV2ZW50O24mJm4ucHJvdG90eXBlJiZ0LnBhdGNoTWV0aG9kKG4ucHJvdG90eXBlLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLGU9PmZ1bmN0aW9uKHQsbil7dFtVXT0hMCxlJiZlLmFwcGx5KHQsbil9KX1mdW5jdGlvbiAkKGUsdCxuLG8scil7Y29uc3QgYT1ab25lLl9fc3ltYm9sX18obyk7aWYodFthXSlyZXR1cm47Y29uc3QgaT10W2FdPXRbb107dFtvXT1mdW5jdGlvbihhLHMsYyl7cmV0dXJuIHMmJnMucHJvdG90eXBlJiZyLmZvckVhY2goZnVuY3Rpb24odCl7Y29uc3Qgcj1gJHtufS4ke299OjpgK3QsYT1zLnByb3RvdHlwZTtpZihhLmhhc093blByb3BlcnR5KHQpKXtjb25zdCBuPWUuT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsdCk7biYmbi52YWx1ZT8obi52YWx1ZT1lLndyYXBXaXRoQ3VycmVudFpvbmUobi52YWx1ZSxyKSxlLl9yZWRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLHQsbikpOmFbdF0mJihhW3RdPWUud3JhcFdpdGhDdXJyZW50Wm9uZShhW3RdLHIpKX1lbHNlIGFbdF0mJihhW3RdPWUud3JhcFdpdGhDdXJyZW50Wm9uZShhW3RdLHIpKX0pLGkuY2FsbCh0LGEscyxjKX0sZS5hdHRhY2hPcmlnaW5Ub1BhdGNoZWQodFtvXSxpKX1jb25zdCBYPVsiYWJzb2x1dGVkZXZpY2VvcmllbnRhdGlvbiIsImFmdGVyaW5wdXQiLCJhZnRlcnByaW50IiwiYXBwaW5zdGFsbGVkIiwiYmVmb3JlaW5zdGFsbHByb21wdCIsImJlZm9yZXByaW50IiwiYmVmb3JldW5sb2FkIiwiZGV2aWNlbGlnaHQiLCJkZXZpY2Vtb3Rpb24iLCJkZXZpY2VvcmllbnRhdGlvbiIsImRldmljZW9yaWVudGF0aW9uYWJzb2x1dGUiLCJkZXZpY2Vwcm94aW1pdHkiLCJoYXNoY2hhbmdlIiwibGFuZ3VhZ2VjaGFuZ2UiLCJtZXNzYWdlIiwibW96YmVmb3JlcGFpbnQiLCJvZmZsaW5lIiwib25saW5lIiwicGFpbnQiLCJwYWdlc2hvdyIsInBhZ2VoaWRlIiwicG9wc3RhdGUiLCJyZWplY3Rpb25oYW5kbGVkIiwic3RvcmFnZSIsInVuaGFuZGxlZHJlamVjdGlvbiIsInVubG9hZCIsInVzZXJwcm94aW1pdHkiLCJ2cmRpc3BsYXljb25uZWN0ZWQiLCJ2cmRpc3BsYXlkaXNjb25uZWN0ZWQiLCJ2cmRpc3BsYXlwcmVzZW50Y2hhbmdlIl0sWT1bImVuY3J5cHRlZCIsIndhaXRpbmdmb3JrZXkiLCJtc25lZWRrZXkiLCJtb3ppbnRlcnJ1cHRiZWdpbiIsIm1vemludGVycnVwdGVuZCJdLEs9WyJsb2FkIl0sSj1bImJsdXIiLCJlcnJvciIsImZvY3VzIiwibG9hZCIsInJlc2l6ZSIsInNjcm9sbCIsIm1lc3NhZ2VlcnJvciJdLFE9WyJib3VuY2UiLCJmaW5pc2giLCJzdGFydCJdLGVlPVsibG9hZHN0YXJ0IiwicHJvZ3Jlc3MiLCJhYm9ydCIsImVycm9yIiwibG9hZCIsInByb2dyZXNzIiwidGltZW91dCIsImxvYWRlbmQiLCJyZWFkeXN0YXRlY2hhbmdlIl0sdGU9WyJ1cGdyYWRlbmVlZGVkIiwiY29tcGxldGUiLCJhYm9ydCIsInN1Y2Nlc3MiLCJlcnJvciIsImJsb2NrZWQiLCJ2ZXJzaW9uY2hhbmdlIiwiY2xvc2UiXSxuZT1bImNsb3NlIiwiZXJyb3IiLCJvcGVuIiwibWVzc2FnZSJdLG9lPVsiZXJyb3IiLCJtZXNzYWdlIl0scmU9WyJhYm9ydCIsImFuaW1hdGlvbmNhbmNlbCIsImFuaW1hdGlvbmVuZCIsImFuaW1hdGlvbml0ZXJhdGlvbiIsImF1eGNsaWNrIiwiYmVmb3JlaW5wdXQiLCJibHVyIiwiY2FuY2VsIiwiY2FucGxheSIsImNhbnBsYXl0aHJvdWdoIiwiY2hhbmdlIiwiY29tcG9zaXRpb25zdGFydCIsImNvbXBvc2l0aW9udXBkYXRlIiwiY29tcG9zaXRpb25lbmQiLCJjdWVjaGFuZ2UiLCJjbGljayIsImNsb3NlIiwiY29udGV4dG1lbnUiLCJjdXJlY2hhbmdlIiwiZGJsY2xpY2siLCJkcmFnIiwiZHJhZ2VuZCIsImRyYWdlbnRlciIsImRyYWdleGl0IiwiZHJhZ2xlYXZlIiwiZHJhZ292ZXIiLCJkcm9wIiwiZHVyYXRpb25jaGFuZ2UiLCJlbXB0aWVkIiwiZW5kZWQiLCJlcnJvciIsImZvY3VzIiwiZm9jdXNpbiIsImZvY3Vzb3V0IiwiZ290cG9pbnRlcmNhcHR1cmUiLCJpbnB1dCIsImludmFsaWQiLCJrZXlkb3duIiwia2V5cHJlc3MiLCJrZXl1cCIsImxvYWQiLCJsb2Fkc3RhcnQiLCJsb2FkZWRkYXRhIiwibG9hZGVkbWV0YWRhdGEiLCJsb3N0cG9pbnRlcmNhcHR1cmUiLCJtb3VzZWRvd24iLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsIm1vdXNlbW92ZSIsIm1vdXNlb3V0IiwibW91c2VvdmVyIiwibW91c2V1cCIsIm1vdXNld2hlZWwiLCJvcmllbnRhdGlvbmNoYW5nZSIsInBhdXNlIiwicGxheSIsInBsYXlpbmciLCJwb2ludGVyY2FuY2VsIiwicG9pbnRlcmRvd24iLCJwb2ludGVyZW50ZXIiLCJwb2ludGVybGVhdmUiLCJwb2ludGVybG9ja2NoYW5nZSIsIm1venBvaW50ZXJsb2NrY2hhbmdlIiwid2Via2l0cG9pbnRlcmxvY2tlcmNoYW5nZSIsInBvaW50ZXJsb2NrZXJyb3IiLCJtb3pwb2ludGVybG9ja2Vycm9yIiwid2Via2l0cG9pbnRlcmxvY2tlcnJvciIsInBvaW50ZXJtb3ZlIiwicG9pbnRvdXQiLCJwb2ludGVyb3ZlciIsInBvaW50ZXJ1cCIsInByb2dyZXNzIiwicmF0ZWNoYW5nZSIsInJlc2V0IiwicmVzaXplIiwic2Nyb2xsIiwic2Vla2VkIiwic2Vla2luZyIsInNlbGVjdCIsInNlbGVjdGlvbmNoYW5nZSIsInNlbGVjdHN0YXJ0Iiwic2hvdyIsInNvcnQiLCJzdGFsbGVkIiwic3VibWl0Iiwic3VzcGVuZCIsInRpbWV1cGRhdGUiLCJ2b2x1bWVjaGFuZ2UiLCJ0b3VjaGNhbmNlbCIsInRvdWNobW92ZSIsInRvdWNoc3RhcnQiLCJ0b3VjaGVuZCIsInRyYW5zaXRpb25jYW5jZWwiLCJ0cmFuc2l0aW9uZW5kIiwid2FpdGluZyIsIndoZWVsIl0uY29uY2F0KFsid2ViZ2xjb250ZXh0cmVzdG9yZWQiLCJ3ZWJnbGNvbnRleHRsb3N0Iiwid2ViZ2xjb250ZXh0Y3JlYXRpb25lcnJvciJdLFsiYXV0b2NvbXBsZXRlIiwiYXV0b2NvbXBsZXRlZXJyb3IiXSxbInRvZ2dsZSJdLFsiYWZ0ZXJzY3JpcHRleGVjdXRlIiwiYmVmb3Jlc2NyaXB0ZXhlY3V0ZSIsIkRPTUNvbnRlbnRMb2FkZWQiLCJmcmVlemUiLCJmdWxsc2NyZWVuY2hhbmdlIiwibW96ZnVsbHNjcmVlbmNoYW5nZSIsIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLCJtc2Z1bGxzY3JlZW5jaGFuZ2UiLCJmdWxsc2NyZWVuZXJyb3IiLCJtb3pmdWxsc2NyZWVuZXJyb3IiLCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3IiLCJtc2Z1bGxzY3JlZW5lcnJvciIsInJlYWR5c3RhdGVjaGFuZ2UiLCJ2aXNpYmlsaXR5Y2hhbmdlIiwicmVzdW1lIl0sWCxbImJlZm9yZWNvcHkiLCJiZWZvcmVjdXQiLCJiZWZvcmVwYXN0ZSIsImNvcHkiLCJjdXQiLCJwYXN0ZSIsImRyYWdzdGFydCIsImxvYWRlbmQiLCJhbmltYXRpb25zdGFydCIsInNlYXJjaCIsInRyYW5zaXRpb25ydW4iLCJ0cmFuc2l0aW9uc3RhcnQiLCJ3ZWJraXRhbmltYXRpb25lbmQiLCJ3ZWJraXRhbmltYXRpb25pdGVyYXRpb24iLCJ3ZWJraXRhbmltYXRpb25zdGFydCIsIndlYmtpdHRyYW5zaXRpb25lbmQiXSxbImFjdGl2YXRlIiwiYWZ0ZXJ1cGRhdGUiLCJhcmlhcmVxdWVzdCIsImJlZm9yZWFjdGl2YXRlIiwiYmVmb3JlZGVhY3RpdmF0ZSIsImJlZm9yZWVkaXRmb2N1cyIsImJlZm9yZXVwZGF0ZSIsImNlbGxjaGFuZ2UiLCJjb250cm9sc2VsZWN0IiwiZGF0YWF2YWlsYWJsZSIsImRhdGFzZXRjaGFuZ2VkIiwiZGF0YXNldGNvbXBsZXRlIiwiZXJyb3J1cGRhdGUiLCJmaWx0ZXJjaGFuZ2UiLCJsYXlvdXRjb21wbGV0ZSIsImxvc2VjYXB0dXJlIiwibW92ZSIsIm1vdmVlbmQiLCJtb3Zlc3RhcnQiLCJwcm9wZXJ0eWNoYW5nZSIsInJlc2l6ZWVuZCIsInJlc2l6ZXN0YXJ0Iiwicm93ZW50ZXIiLCJyb3dleGl0Iiwicm93c2RlbGV0ZSIsInJvd3NpbnNlcnRlZCIsImNvbW1hbmQiLCJjb21wYXNzbmVlZHNjYWxpYnJhdGlvbiIsImRlYWN0aXZhdGUiLCJoZWxwIiwibXNjb250ZW50em9vbSIsIm1zbWFuaXB1bGF0aW9uc3RhdGVjaGFuZ2VkIiwibXNnZXN0dXJlY2hhbmdlIiwibXNnZXN0dXJlZG91YmxldGFwIiwibXNnZXN0dXJlZW5kIiwibXNnZXN0dXJlaG9sZCIsIm1zZ2VzdHVyZXN0YXJ0IiwibXNnZXN0dXJldGFwIiwibXNnb3Rwb2ludGVyY2FwdHVyZSIsIm1zaW5lcnRpYXN0YXJ0IiwibXNsb3N0cG9pbnRlcmNhcHR1cmUiLCJtc3BvaW50ZXJjYW5jZWwiLCJtc3BvaW50ZXJkb3duIiwibXNwb2ludGVyZW50ZXIiLCJtc3BvaW50ZXJob3ZlciIsIm1zcG9pbnRlcmxlYXZlIiwibXNwb2ludGVybW92ZSIsIm1zcG9pbnRlcm91dCIsIm1zcG9pbnRlcm92ZXIiLCJtc3BvaW50ZXJ1cCIsInBvaW50ZXJvdXQiLCJtc3NpdGVtb2RlanVtcGxpc3RpdGVtcmVtb3ZlZCIsIm1zdGh1bWJuYWlsY2xpY2siLCJzdG9wIiwic3RvcmFnZWNvbW1pdCJdKTtmdW5jdGlvbiBhZShlLHQsbil7aWYoIW58fDA9PT1uLmxlbmd0aClyZXR1cm4gdDtjb25zdCBvPW4uZmlsdGVyKHQ9PnQudGFyZ2V0PT09ZSk7aWYoIW98fDA9PT1vLmxlbmd0aClyZXR1cm4gdDtjb25zdCByPW9bMF0uaWdub3JlUHJvcGVydGllcztyZXR1cm4gdC5maWx0ZXIoZT0+LTE9PT1yLmluZGV4T2YoZSkpfWZ1bmN0aW9uIGllKGUsdCxuLG8pe2UmJlMoZSxhZShlLHQsbiksbyl9ZnVuY3Rpb24gc2UoZSx0KXtpZihFJiYhdylyZXR1cm47aWYoWm9uZVtlLnN5bWJvbCgicGF0Y2hFdmVudHMiKV0pcmV0dXJuO2NvbnN0IG89InVuZGVmaW5lZCIhPXR5cGVvZiBXZWJTb2NrZXQscj10Ll9fWm9uZV9pZ25vcmVfb25fcHJvcGVydGllcztpZihiKXtjb25zdCBlPXdpbmRvdyx0PUkoKT9be3RhcmdldDplLGlnbm9yZVByb3BlcnRpZXM6WyJlcnJvciJdfV06W107aWUoZSxyZS5jb25jYXQoWyJtZXNzYWdlZXJyb3IiXSkscj9yLmNvbmNhdCh0KTpyLG4oZSkpLGllKERvY3VtZW50LnByb3RvdHlwZSxyZSxyKSx2b2lkIDAhPT1lLlNWR0VsZW1lbnQmJmllKGUuU1ZHRWxlbWVudC5wcm90b3R5cGUscmUsciksaWUoRWxlbWVudC5wcm90b3R5cGUscmUsciksaWUoSFRNTEVsZW1lbnQucHJvdG90eXBlLHJlLHIpLGllKEhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLFksciksaWUoSFRNTEZyYW1lU2V0RWxlbWVudC5wcm90b3R5cGUsWC5jb25jYXQoSiksciksaWUoSFRNTEJvZHlFbGVtZW50LnByb3RvdHlwZSxYLmNvbmNhdChKKSxyKSxpZShIVE1MRnJhbWVFbGVtZW50LnByb3RvdHlwZSxLLHIpLGllKEhUTUxJRnJhbWVFbGVtZW50LnByb3RvdHlwZSxLLHIpO2NvbnN0IG89ZS5IVE1MTWFycXVlZUVsZW1lbnQ7byYmaWUoby5wcm90b3R5cGUsUSxyKTtjb25zdCBhPWUuV29ya2VyO2EmJmllKGEucHJvdG90eXBlLG9lLHIpfWNvbnN0IGE9dC5YTUxIdHRwUmVxdWVzdDthJiZpZShhLnByb3RvdHlwZSxlZSxyKTtjb25zdCBpPXQuWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldDtpJiZpZShpJiZpLnByb3RvdHlwZSxlZSxyKSwidW5kZWZpbmVkIiE9dHlwZW9mIElEQkluZGV4JiYoaWUoSURCSW5kZXgucHJvdG90eXBlLHRlLHIpLGllKElEQlJlcXVlc3QucHJvdG90eXBlLHRlLHIpLGllKElEQk9wZW5EQlJlcXVlc3QucHJvdG90eXBlLHRlLHIpLGllKElEQkRhdGFiYXNlLnByb3RvdHlwZSx0ZSxyKSxpZShJREJUcmFuc2FjdGlvbi5wcm90b3R5cGUsdGUsciksaWUoSURCQ3Vyc29yLnByb3RvdHlwZSx0ZSxyKSksbyYmaWUoV2ViU29ja2V0LnByb3RvdHlwZSxuZSxyKX1ab25lLl9fbG9hZF9wYXRjaCgidXRpbCIsKG4scyxjKT0+e2MucGF0Y2hPblByb3BlcnRpZXM9UyxjLnBhdGNoTWV0aG9kPUgsYy5iaW5kQXJndW1lbnRzPV8sYy5wYXRjaE1hY3JvVGFzaz1aO2NvbnN0IGY9cy5fX3N5bWJvbF9fKCJCTEFDS19MSVNURURfRVZFTlRTIiksZD1zLl9fc3ltYm9sX18oIlVOUEFUQ0hFRF9FVkVOVFMiKTtuW2RdJiYobltmXT1uW2RdKSxuW2ZdJiYoc1tmXT1zW2RdPW5bZl0pLGMucGF0Y2hFdmVudFByb3RvdHlwZT1XLGMucGF0Y2hFdmVudFRhcmdldD1CLGMuaXNJRU9yRWRnZT1BLGMuT2JqZWN0RGVmaW5lUHJvcGVydHk9dCxjLk9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcj1lLGMuT2JqZWN0Q3JlYXRlPW8sYy5BcnJheVNsaWNlPXIsYy5wYXRjaENsYXNzPUQsYy53cmFwV2l0aEN1cnJlbnRab25lPXAsYy5maWx0ZXJQcm9wZXJ0aWVzPWFlLGMuYXR0YWNoT3JpZ2luVG9QYXRjaGVkPVAsYy5fcmVkZWZpbmVQcm9wZXJ0eT1PYmplY3QuZGVmaW5lUHJvcGVydHksYy5wYXRjaENhbGxiYWNrcz0kLGMuZ2V0R2xvYmFsT2JqZWN0cz0oKT0+KHtnbG9iYWxTb3VyY2VzOkYsem9uZVN5bWJvbEV2ZW50TmFtZXM6eCxldmVudE5hbWVzOnJlLGlzQnJvd3NlcjpiLGlzTWl4OncsaXNOb2RlOkUsVFJVRV9TVFI6bCxGQUxTRV9TVFI6dSxaT05FX1NZTUJPTF9QUkVGSVg6aCxBRERfRVZFTlRfTElTVEVORVJfU1RSOmEsUkVNT1ZFX0VWRU5UX0xJU1RFTkVSX1NUUjppfSl9KTtjb25zdCBjZT1kKCJ6b25lVGFzayIpO2Z1bmN0aW9uIGxlKGUsdCxuLG8pe2xldCByPW51bGwsYT1udWxsO24rPW87Y29uc3QgaT17fTtmdW5jdGlvbiBzKHQpe2NvbnN0IG49dC5kYXRhO3JldHVybiBuLmFyZ3NbMF09ZnVuY3Rpb24oKXtyZXR1cm4gdC5pbnZva2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuLmhhbmRsZUlkPXIuYXBwbHkoZSxuLmFyZ3MpLHR9ZnVuY3Rpb24gYyh0KXtyZXR1cm4gYS5jYWxsKGUsdC5kYXRhLmhhbmRsZUlkKX1yPUgoZSx0Kz1vLG49PmZ1bmN0aW9uKHIsYSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGFbMF0pe2NvbnN0IGU9e2lzUGVyaW9kaWM6IkludGVydmFsIj09PW8sZGVsYXk6IlRpbWVvdXQiPT09b3x8IkludGVydmFsIj09PW8/YVsxXXx8MDp2b2lkIDAsYXJnczphfSxuPWFbMF07YVswXT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZmluYWxseXtlLmlzUGVyaW9kaWN8fCgibnVtYmVyIj09dHlwZW9mIGUuaGFuZGxlSWQ/ZGVsZXRlIGlbZS5oYW5kbGVJZF06ZS5oYW5kbGVJZCYmKGUuaGFuZGxlSWRbY2VdPW51bGwpKX19O2NvbnN0IHI9Zih0LGFbMF0sZSxzLGMpO2lmKCFyKXJldHVybiByO2NvbnN0IGw9ci5kYXRhLmhhbmRsZUlkO3JldHVybiJudW1iZXIiPT10eXBlb2YgbD9pW2xdPXI6bCYmKGxbY2VdPXIpLGwmJmwucmVmJiZsLnVucmVmJiYiZnVuY3Rpb24iPT10eXBlb2YgbC5yZWYmJiJmdW5jdGlvbiI9PXR5cGVvZiBsLnVucmVmJiYoci5yZWY9bC5yZWYuYmluZChsKSxyLnVucmVmPWwudW5yZWYuYmluZChsKSksIm51bWJlciI9PXR5cGVvZiBsfHxsP2w6cn1yZXR1cm4gbi5hcHBseShlLGEpfSksYT1IKGUsbix0PT5mdW5jdGlvbihuLG8pe2NvbnN0IHI9b1swXTtsZXQgYTsibnVtYmVyIj09dHlwZW9mIHI/YT1pW3JdOihhPXImJnJbY2VdLGF8fChhPXIpKSxhJiYic3RyaW5nIj09dHlwZW9mIGEudHlwZT8ibm90U2NoZWR1bGVkIiE9PWEuc3RhdGUmJihhLmNhbmNlbEZuJiZhLmRhdGEuaXNQZXJpb2RpY3x8MD09PWEucnVuQ291bnQpJiYoIm51bWJlciI9PXR5cGVvZiByP2RlbGV0ZSBpW3JdOnImJihyW2NlXT1udWxsKSxhLnpvbmUuY2FuY2VsVGFzayhhKSk6dC5hcHBseShlLG8pfSl9ZnVuY3Rpb24gdWUoZSx0KXtpZihab25lW3Quc3ltYm9sKCJwYXRjaEV2ZW50VGFyZ2V0IildKXJldHVybjtjb25zdHtldmVudE5hbWVzOm4sem9uZVN5bWJvbEV2ZW50TmFtZXM6byxUUlVFX1NUUjpyLEZBTFNFX1NUUjphLFpPTkVfU1lNQk9MX1BSRUZJWDppfT10LmdldEdsb2JhbE9iamVjdHMoKTtmb3IobGV0IGM9MDtjPG4ubGVuZ3RoO2MrKyl7Y29uc3QgZT1uW2NdLHQ9aSsoZSthKSxzPWkrKGUrcik7b1tlXT17fSxvW2VdW2FdPXQsb1tlXVtyXT1zfWNvbnN0IHM9ZS5FdmVudFRhcmdldDtyZXR1cm4gcyYmcy5wcm90b3R5cGU/KHQucGF0Y2hFdmVudFRhcmdldChlLFtzJiZzLnByb3RvdHlwZV0pLCEwKTp2b2lkIDB9Wm9uZS5fX2xvYWRfcGF0Y2goImxlZ2FjeSIsZT0+e2NvbnN0IHQ9ZVtab25lLl9fc3ltYm9sX18oImxlZ2FjeVBhdGNoIildO3QmJnQoKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJxdWV1ZU1pY3JvdGFzayIsKGUsdCxuKT0+e24ucGF0Y2hNZXRob2QoZSwicXVldWVNaWNyb3Rhc2siLGU9PmZ1bmN0aW9uKGUsbil7dC5jdXJyZW50LnNjaGVkdWxlTWljcm9UYXNrKCJxdWV1ZU1pY3JvdGFzayIsblswXSl9KX0pLFpvbmUuX19sb2FkX3BhdGNoKCJ0aW1lcnMiLGU9Pntjb25zdCB0PSJzZXQiLG49ImNsZWFyIjtsZShlLHQsbiwiVGltZW91dCIpLGxlKGUsdCxuLCJJbnRlcnZhbCIpLGxlKGUsdCxuLCJJbW1lZGlhdGUiKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLGU9PntsZShlLCJyZXF1ZXN0IiwiY2FuY2VsIiwiQW5pbWF0aW9uRnJhbWUiKSxsZShlLCJtb3pSZXF1ZXN0IiwibW96Q2FuY2VsIiwiQW5pbWF0aW9uRnJhbWUiKSxsZShlLCJ3ZWJraXRSZXF1ZXN0Iiwid2Via2l0Q2FuY2VsIiwiQW5pbWF0aW9uRnJhbWUiKX0pLFpvbmUuX19sb2FkX3BhdGNoKCJibG9ja2luZyIsKGUsdCk9Pntjb25zdCBuPVsiYWxlcnQiLCJwcm9tcHQiLCJjb25maXJtIl07Zm9yKGxldCBvPTA7bzxuLmxlbmd0aDtvKyspSChlLG5bb10sKG4sbyxyKT0+ZnVuY3Rpb24obyxhKXtyZXR1cm4gdC5jdXJyZW50LnJ1bihuLGUsYSxyKX0pfSksWm9uZS5fX2xvYWRfcGF0Y2goIkV2ZW50VGFyZ2V0IiwoZSx0LG4pPT57IWZ1bmN0aW9uKGUsdCl7dC5wYXRjaEV2ZW50UHJvdG90eXBlKGUsdCl9KGUsbiksdWUoZSxuKTtjb25zdCBvPWUuWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldDtvJiZvLnByb3RvdHlwZSYmbi5wYXRjaEV2ZW50VGFyZ2V0KGUsW28ucHJvdG90eXBlXSl9KSxab25lLl9fbG9hZF9wYXRjaCgiTXV0YXRpb25PYnNlcnZlciIsKGUsdCxuKT0+e0QoIk11dGF0aW9uT2JzZXJ2ZXIiKSxEKCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyIil9KSxab25lLl9fbG9hZF9wYXRjaCgiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLChlLHQsbik9PntEKCJJbnRlcnNlY3Rpb25PYnNlcnZlciIpfSksWm9uZS5fX2xvYWRfcGF0Y2goIkZpbGVSZWFkZXIiLChlLHQsbik9PntEKCJGaWxlUmVhZGVyIil9KSxab25lLl9fbG9hZF9wYXRjaCgib25fcHJvcGVydHkiLChlLHQsbik9PntzZShuLGUpfSksWm9uZS5fX2xvYWRfcGF0Y2goImN1c3RvbUVsZW1lbnRzIiwoZSx0LG4pPT57IWZ1bmN0aW9uKGUsdCl7Y29uc3R7aXNCcm93c2VyOm4saXNNaXg6b309dC5nZXRHbG9iYWxPYmplY3RzKCk7KG58fG8pJiZlLmN1c3RvbUVsZW1lbnRzJiYiY3VzdG9tRWxlbWVudHMiaW4gZSYmdC5wYXRjaENhbGxiYWNrcyh0LGUuY3VzdG9tRWxlbWVudHMsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIixbImNvbm5lY3RlZENhbGxiYWNrIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJhZG9wdGVkQ2FsbGJhY2siLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siXSl9KGUsbil9KSxab25lLl9fbG9hZF9wYXRjaCgiWEhSIiwoZSx0KT0+eyFmdW5jdGlvbihlKXtjb25zdCB1PWUuWE1MSHR0cFJlcXVlc3Q7aWYoIXUpcmV0dXJuO2NvbnN0IGg9dS5wcm90b3R5cGU7bGV0IHA9aFtzXSxtPWhbY107aWYoIXApe2NvbnN0IHQ9ZS5YTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0O2lmKHQpe2NvbnN0IGU9dC5wcm90b3R5cGU7cD1lW3NdLG09ZVtjXX19Y29uc3QgZz0icmVhZHlzdGF0ZWNoYW5nZSIsVD0ic2NoZWR1bGVkIjtmdW5jdGlvbiB5KGUpe2NvbnN0IG89ZS5kYXRhLGk9by50YXJnZXQ7aVthXT0hMSxpW2xdPSExO2NvbnN0IHU9aVtyXTtwfHwocD1pW3NdLG09aVtjXSksdSYmbS5jYWxsKGksZyx1KTtjb25zdCBoPWlbcl09KCk9PntpZihpLnJlYWR5U3RhdGU9PT1pLkRPTkUpaWYoIW8uYWJvcnRlZCYmaVthXSYmZS5zdGF0ZT09PVQpe2NvbnN0IG49aVt0Ll9fc3ltYm9sX18oImxvYWRmYWxzZSIpXTtpZigwIT09aS5zdGF0dXMmJm4mJm4ubGVuZ3RoPjApe2NvbnN0IHI9ZS5pbnZva2U7ZS5pbnZva2U9ZnVuY3Rpb24oKXtjb25zdCBuPWlbdC5fX3N5bWJvbF9fKCJsb2FkZmFsc2UiKV07Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspblt0XT09PWUmJm4uc3BsaWNlKHQsMSk7by5hYm9ydGVkfHxlLnN0YXRlIT09VHx8ci5jYWxsKGUpfSxuLnB1c2goZSl9ZWxzZSBlLmludm9rZSgpfWVsc2Ugby5hYm9ydGVkfHwhMSE9PWlbYV18fChpW2xdPSEwKX07cmV0dXJuIHAuY2FsbChpLGcsaCksaVtuXXx8KGlbbl09ZSksdy5hcHBseShpLG8uYXJncyksaVthXT0hMCxlfWZ1bmN0aW9uIF8oKXt9ZnVuY3Rpb24gdihlKXtjb25zdCB0PWUuZGF0YTtyZXR1cm4gdC5hYm9ydGVkPSEwLE0uYXBwbHkodC50YXJnZXQsdC5hcmdzKX1jb25zdCBrPUgoaCwib3BlbiIsKCk9PmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbb109MD09dFsyXSxlW2ldPXRbMV0say5hcHBseShlLHQpfSksRT1kKCJmZXRjaFRhc2tBYm9ydGluZyIpLGI9ZCgiZmV0Y2hUYXNrU2NoZWR1bGluZyIpLHc9SChoLCJzZW5kIiwoKT0+ZnVuY3Rpb24oZSxuKXtpZighMD09PXQuY3VycmVudFtiXSlyZXR1cm4gdy5hcHBseShlLG4pO2lmKGVbb10pcmV0dXJuIHcuYXBwbHkoZSxuKTt7Y29uc3QgdD17dGFyZ2V0OmUsdXJsOmVbaV0saXNQZXJpb2RpYzohMSxhcmdzOm4sYWJvcnRlZDohMX0sbz1mKCJYTUxIdHRwUmVxdWVzdC5zZW5kIixfLHQseSx2KTtlJiYhMD09PWVbbF0mJiF0LmFib3J0ZWQmJm8uc3RhdGU9PT1UJiZvLmludm9rZSgpfX0pLE09SChoLCJhYm9ydCIsKCk9PmZ1bmN0aW9uKGUsbyl7Y29uc3Qgcj1lW25dO2lmKHImJiJzdHJpbmciPT10eXBlb2Ygci50eXBlKXtpZihudWxsPT1yLmNhbmNlbEZufHxyLmRhdGEmJnIuZGF0YS5hYm9ydGVkKXJldHVybjtyLnpvbmUuY2FuY2VsVGFzayhyKX1lbHNlIGlmKCEwPT09dC5jdXJyZW50W0VdKXJldHVybiBNLmFwcGx5KGUsbyl9KX0oZSk7Y29uc3Qgbj1kKCJ4aHJUYXNrIiksbz1kKCJ4aHJTeW5jIikscj1kKCJ4aHJMaXN0ZW5lciIpLGE9ZCgieGhyU2NoZWR1bGVkIiksaT1kKCJ4aHJVUkwiKSxsPWQoInhockVycm9yQmVmb3JlU2NoZWR1bGVkIil9KSxab25lLl9fbG9hZF9wYXRjaCgiZ2VvbG9jYXRpb24iLHQ9Pnt0Lm5hdmlnYXRvciYmdC5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24mJmZ1bmN0aW9uKHQsbil7Y29uc3Qgbz10LmNvbnN0cnVjdG9yLm5hbWU7Zm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKyspe2NvbnN0IGE9bltyXSxpPXRbYV07aWYoaSl7aWYoIXYoZSh0LGEpKSljb250aW51ZTt0W2FdPShlPT57Y29uc3QgdD1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHRoaXMsXyhhcmd1bWVudHMsbysiLiIrYSkpfTtyZXR1cm4gUCh0LGUpLHR9KShpKX19fSh0Lm5hdmlnYXRvci5nZW9sb2NhdGlvbixbImdldEN1cnJlbnRQb3NpdGlvbiIsIndhdGNoUG9zaXRpb24iXSl9KSxab25lLl9fbG9hZF9wYXRjaCgiUHJvbWlzZVJlamVjdGlvbkV2ZW50IiwoZSx0KT0+e2Z1bmN0aW9uIG4odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe0coZSx0KS5mb3JFYWNoKG89Pntjb25zdCByPWUuUHJvbWlzZVJlamVjdGlvbkV2ZW50O2lmKHIpe2NvbnN0IGU9bmV3IHIodCx7cHJvbWlzZTpuLnByb21pc2UscmVhc29uOm4ucmVqZWN0aW9ufSk7by5pbnZva2UoZSl9fSl9fWUuUHJvbWlzZVJlamVjdGlvbkV2ZW50JiYodFtkKCJ1bmhhbmRsZWRQcm9taXNlUmVqZWN0aW9uSGFuZGxlciIpXT1uKCJ1bmhhbmRsZWRyZWplY3Rpb24iKSx0W2QoInJlamVjdGlvbkhhbmRsZWRIYW5kbGVyIildPW4oInJlamVjdGlvbmhhbmRsZWQiKSl9KX0sNDA4OihlLHQsbik9PnsidXNlIHN0cmljdCI7bigxNjcpLG4oMjIpfX0sZT0+eyJ1c2Ugc3RyaWN0IjtlKGUucz00MDgpfV0pOyhzZWxmLndlYnBhY2tDaHVua25nX2VsZW1lbnRzX2V4YW1wbGU9c2VsZi53ZWJwYWNrQ2h1bmtuZ19lbGVtZW50c19leGFtcGxlfHxbXSkucHVzaChbWzE3OV0sezYzNjoodCxlLG4pPT57InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHR9bGV0IHM9ITE7Y29uc3QgaT17UHJvbWlzZTp2b2lkIDAsc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodCl7aWYodCl7Y29uc3QgdD1uZXcgRXJyb3I7Y29uc29sZS53YXJuKCJERVBSRUNBVEVEISBSeEpTIHdhcyBzZXQgdG8gdXNlIGRlcHJlY2F0ZWQgc3luY2hyb25vdXMgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IgYnkgY29kZSBhdDogXG4iK3Quc3RhY2spfWVsc2UgcyYmY29uc29sZS5sb2coIlJ4SlM6IEJhY2sgdG8gYSBiZXR0ZXIgZXJyb3IgYmVoYXZpb3IuIFRoYW5rIHlvdS4gPDMiKTtzPXR9LGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCl7cmV0dXJuIHN9fTtmdW5jdGlvbiBvKHQpe3NldFRpbWVvdXQoKCk9Pnt0aHJvdyB0fSwwKX1jb25zdCBhPXtjbG9zZWQ6ITAsbmV4dCh0KXt9LGVycm9yKHQpe2lmKGkudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyl0aHJvdyB0O28odCl9LGNvbXBsZXRlKCl7fX0sbD0oKCk9PkFycmF5LmlzQXJyYXl8fCh0PT50JiYibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoKSkoKTtmdW5jdGlvbiB1KHQpe3JldHVybiBudWxsIT09dCYmIm9iamVjdCI9PXR5cGVvZiB0fWNvbnN0IGM9KCgpPT57ZnVuY3Rpb24gdCh0KXtyZXR1cm4gRXJyb3IuY2FsbCh0aGlzKSx0aGlzLm1lc3NhZ2U9dD9gJHt0Lmxlbmd0aH0gZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcbiR7dC5tYXAoKHQsZSk9PmAke2UrMX0pICR7dC50b1N0cmluZygpfWApLmpvaW4oIlxuICAiKX1gOiIiLHRoaXMubmFtZT0iVW5zdWJzY3JpcHRpb25FcnJvciIsdGhpcy5lcnJvcnM9dCx0aGlzfXJldHVybiB0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksdH0pKCk7bGV0IGg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmNsb3NlZD0hMSx0aGlzLl9wYXJlbnRPclBhcmVudHM9bnVsbCx0aGlzLl9zdWJzY3JpcHRpb25zPW51bGwsdCYmKHRoaXMuX2N0b3JVbnN1YnNjcmliZT0hMCx0aGlzLl91bnN1YnNjcmliZT10KX11bnN1YnNjcmliZSgpe2xldCBlO2lmKHRoaXMuY2xvc2VkKXJldHVybjtsZXR7X3BhcmVudE9yUGFyZW50czpuLF9jdG9yVW5zdWJzY3JpYmU6cyxfdW5zdWJzY3JpYmU6aSxfc3Vic2NyaXB0aW9uczpvfT10aGlzO2lmKHRoaXMuY2xvc2VkPSEwLHRoaXMuX3BhcmVudE9yUGFyZW50cz1udWxsLHRoaXMuX3N1YnNjcmlwdGlvbnM9bnVsbCxuIGluc3RhbmNlb2YgdCluLnJlbW92ZSh0aGlzKTtlbHNlIGlmKG51bGwhPT1uKWZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7Kyt0KW5bdF0ucmVtb3ZlKHRoaXMpO2lmKHIoaSkpe3MmJih0aGlzLl91bnN1YnNjcmliZT12b2lkIDApO3RyeXtpLmNhbGwodGhpcyl9Y2F0Y2goYSl7ZT1hIGluc3RhbmNlb2YgYz9kKGEuZXJyb3JzKTpbYV19fWlmKGwobykpe2xldCB0PS0xLG49by5sZW5ndGg7Zm9yKDsrK3Q8bjspe2NvbnN0IG49b1t0XTtpZih1KG4pKXRyeXtuLnVuc3Vic2NyaWJlKCl9Y2F0Y2goYSl7ZT1lfHxbXSxhIGluc3RhbmNlb2YgYz9lPWUuY29uY2F0KGQoYS5lcnJvcnMpKTplLnB1c2goYSl9fX1pZihlKXRocm93IG5ldyBjKGUpfWFkZChlKXtsZXQgbj1lO2lmKCFlKXJldHVybiB0LkVNUFRZO3N3aXRjaCh0eXBlb2YgZSl7Y2FzZSJmdW5jdGlvbiI6bj1uZXcgdChlKTtjYXNlIm9iamVjdCI6aWYobj09PXRoaXN8fG4uY2xvc2VkfHwiZnVuY3Rpb24iIT10eXBlb2Ygbi51bnN1YnNjcmliZSlyZXR1cm4gbjtpZih0aGlzLmNsb3NlZClyZXR1cm4gbi51bnN1YnNjcmliZSgpLG47aWYoIShuIGluc3RhbmNlb2YgdCkpe2NvbnN0IGU9bjtuPW5ldyB0LG4uX3N1YnNjcmlwdGlvbnM9W2VdfWJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJ1bnJlY29nbml6ZWQgdGVhcmRvd24gIitlKyIgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLiIpfWxldHtfcGFyZW50T3JQYXJlbnRzOnJ9PW47aWYobnVsbD09PXIpbi5fcGFyZW50T3JQYXJlbnRzPXRoaXM7ZWxzZSBpZihyIGluc3RhbmNlb2YgdCl7aWYocj09PXRoaXMpcmV0dXJuIG47bi5fcGFyZW50T3JQYXJlbnRzPVtyLHRoaXNdfWVsc2V7aWYoLTEhPT1yLmluZGV4T2YodGhpcykpcmV0dXJuIG47ci5wdXNoKHRoaXMpfWNvbnN0IHM9dGhpcy5fc3Vic2NyaXB0aW9ucztyZXR1cm4gbnVsbD09PXM/dGhpcy5fc3Vic2NyaXB0aW9ucz1bbl06cy5wdXNoKG4pLG59cmVtb3ZlKHQpe2NvbnN0IGU9dGhpcy5fc3Vic2NyaXB0aW9ucztpZihlKXtjb25zdCBuPWUuaW5kZXhPZih0KTstMSE9PW4mJmUuc3BsaWNlKG4sMSl9fX1yZXR1cm4gdC5FTVBUWT1mdW5jdGlvbih0KXtyZXR1cm4gdC5jbG9zZWQ9ITAsdH0obmV3IHQpLHR9KSgpO2Z1bmN0aW9uIGQodCl7cmV0dXJuIHQucmVkdWNlKCh0LGUpPT50LmNvbmNhdChlIGluc3RhbmNlb2YgYz9lLmVycm9yczplKSxbXSl9Y29uc3QgcD0oKCk9PiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sKCJyeFN1YnNjcmliZXIiKToiQEByeFN1YnNjcmliZXJfIitNYXRoLnJhbmRvbSgpKSgpO2NsYXNzIGYgZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKHQsZSxuKXtzd2l0Y2goc3VwZXIoKSx0aGlzLnN5bmNFcnJvclZhbHVlPW51bGwsdGhpcy5zeW5jRXJyb3JUaHJvd249ITEsdGhpcy5zeW5jRXJyb3JUaHJvd2FibGU9ITEsdGhpcy5pc1N0b3BwZWQ9ITEsYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnRoaXMuZGVzdGluYXRpb249YTticmVhaztjYXNlIDE6aWYoIXQpe3RoaXMuZGVzdGluYXRpb249YTticmVha31pZigib2JqZWN0Ij09dHlwZW9mIHQpe3QgaW5zdGFuY2VvZiBmPyh0aGlzLnN5bmNFcnJvclRocm93YWJsZT10LnN5bmNFcnJvclRocm93YWJsZSx0aGlzLmRlc3RpbmF0aW9uPXQsdC5hZGQodGhpcykpOih0aGlzLnN5bmNFcnJvclRocm93YWJsZT0hMCx0aGlzLmRlc3RpbmF0aW9uPW5ldyBnKHRoaXMsdCkpO2JyZWFrfWRlZmF1bHQ6dGhpcy5zeW5jRXJyb3JUaHJvd2FibGU9ITAsdGhpcy5kZXN0aW5hdGlvbj1uZXcgZyh0aGlzLHQsZSxuKX19W3BdKCl7cmV0dXJuIHRoaXN9c3RhdGljIGNyZWF0ZSh0LGUsbil7Y29uc3Qgcj1uZXcgZih0LGUsbik7cmV0dXJuIHIuc3luY0Vycm9yVGhyb3dhYmxlPSExLHJ9bmV4dCh0KXt0aGlzLmlzU3RvcHBlZHx8dGhpcy5fbmV4dCh0KX1lcnJvcih0KXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMuX2Vycm9yKHQpKX1jb21wbGV0ZSgpe3RoaXMuaXNTdG9wcGVkfHwodGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5fY29tcGxldGUoKSl9dW5zdWJzY3JpYmUoKXt0aGlzLmNsb3NlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHN1cGVyLnVuc3Vic2NyaWJlKCkpfV9uZXh0KHQpe3RoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1fZXJyb3IodCl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KSx0aGlzLnVuc3Vic2NyaWJlKCl9X2NvbXBsZXRlKCl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX1fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlKCl7Y29uc3R7X3BhcmVudE9yUGFyZW50czp0fT10aGlzO3JldHVybiB0aGlzLl9wYXJlbnRPclBhcmVudHM9bnVsbCx0aGlzLnVuc3Vic2NyaWJlKCksdGhpcy5jbG9zZWQ9ITEsdGhpcy5pc1N0b3BwZWQ9ITEsdGhpcy5fcGFyZW50T3JQYXJlbnRzPXQsdGhpc319Y2xhc3MgZyBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4scyl7bGV0IGk7c3VwZXIoKSx0aGlzLl9wYXJlbnRTdWJzY3JpYmVyPXQ7bGV0IG89dGhpcztyKGUpP2k9ZTplJiYoaT1lLm5leHQsbj1lLmVycm9yLHM9ZS5jb21wbGV0ZSxlIT09YSYmKG89T2JqZWN0LmNyZWF0ZShlKSxyKG8udW5zdWJzY3JpYmUpJiZ0aGlzLmFkZChvLnVuc3Vic2NyaWJlLmJpbmQobykpLG8udW5zdWJzY3JpYmU9dGhpcy51bnN1YnNjcmliZS5iaW5kKHRoaXMpKSksdGhpcy5fY29udGV4dD1vLHRoaXMuX25leHQ9aSx0aGlzLl9lcnJvcj1uLHRoaXMuX2NvbXBsZXRlPXN9bmV4dCh0KXtpZighdGhpcy5pc1N0b3BwZWQmJnRoaXMuX25leHQpe2NvbnN0e19wYXJlbnRTdWJzY3JpYmVyOmV9PXRoaXM7aS51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nJiZlLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9fdHJ5T3JTZXRFcnJvcihlLHRoaXMuX25leHQsdCkmJnRoaXMudW5zdWJzY3JpYmUoKTp0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9uZXh0LHQpfX1lcnJvcih0KXtpZighdGhpcy5pc1N0b3BwZWQpe2NvbnN0e19wYXJlbnRTdWJzY3JpYmVyOmV9PXRoaXMse3VzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc6bn09aTtpZih0aGlzLl9lcnJvciluJiZlLnN5bmNFcnJvclRocm93YWJsZT8odGhpcy5fX3RyeU9yU2V0RXJyb3IoZSx0aGlzLl9lcnJvcix0KSx0aGlzLnVuc3Vic2NyaWJlKCkpOih0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvcix0KSx0aGlzLnVuc3Vic2NyaWJlKCkpO2Vsc2UgaWYoZS5zeW5jRXJyb3JUaHJvd2FibGUpbj8oZS5zeW5jRXJyb3JWYWx1ZT10LGUuc3luY0Vycm9yVGhyb3duPSEwKTpvKHQpLHRoaXMudW5zdWJzY3JpYmUoKTtlbHNle2lmKHRoaXMudW5zdWJzY3JpYmUoKSxuKXRocm93IHQ7byh0KX19fWNvbXBsZXRlKCl7aWYoIXRoaXMuaXNTdG9wcGVkKXtjb25zdHtfcGFyZW50U3Vic2NyaWJlcjp0fT10aGlzO2lmKHRoaXMuX2NvbXBsZXRlKXtjb25zdCBlPSgpPT50aGlzLl9jb21wbGV0ZS5jYWxsKHRoaXMuX2NvbnRleHQpO2kudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyYmdC5zeW5jRXJyb3JUaHJvd2FibGU/KHRoaXMuX190cnlPclNldEVycm9yKHQsZSksdGhpcy51bnN1YnNjcmliZSgpKToodGhpcy5fX3RyeU9yVW5zdWIoZSksdGhpcy51bnN1YnNjcmliZSgpKX1lbHNlIHRoaXMudW5zdWJzY3JpYmUoKX19X190cnlPclVuc3ViKHQsZSl7dHJ5e3QuY2FsbCh0aGlzLl9jb250ZXh0LGUpfWNhdGNoKG4pe2lmKHRoaXMudW5zdWJzY3JpYmUoKSxpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgbjtvKG4pfX1fX3RyeU9yU2V0RXJyb3IodCxlLG4pe2lmKCFpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgbmV3IEVycm9yKCJiYWQgY2FsbCIpO3RyeXtlLmNhbGwodGhpcy5fY29udGV4dCxuKX1jYXRjaChyKXtyZXR1cm4gaS51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nPyh0LnN5bmNFcnJvclZhbHVlPXIsdC5zeW5jRXJyb3JUaHJvd249ITAsITApOihvKHIpLCEwKX1yZXR1cm4hMX1fdW5zdWJzY3JpYmUoKXtjb25zdHtfcGFyZW50U3Vic2NyaWJlcjp0fT10aGlzO3RoaXMuX2NvbnRleHQ9bnVsbCx0aGlzLl9wYXJlbnRTdWJzY3JpYmVyPW51bGwsdC51bnN1YnNjcmliZSgpfX1jb25zdCBtPSgoKT0+ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLm9ic2VydmFibGV8fCJAQG9ic2VydmFibGUiKSgpO2Z1bmN0aW9uIHkodCl7cmV0dXJuIHR9bGV0IHY9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pc1NjYWxhcj0hMSx0JiYodGhpcy5fc3Vic2NyaWJlPXQpfWxpZnQoZSl7Y29uc3Qgbj1uZXcgdDtyZXR1cm4gbi5zb3VyY2U9dGhpcyxuLm9wZXJhdG9yPWUsbn1zdWJzY3JpYmUodCxlLG4pe2NvbnN0e29wZXJhdG9yOnJ9PXRoaXMscz1mdW5jdGlvbih0LGUsbil7aWYodCl7aWYodCBpbnN0YW5jZW9mIGYpcmV0dXJuIHQ7aWYodFtwXSlyZXR1cm4gdFtwXSgpfXJldHVybiB0fHxlfHxuP25ldyBmKHQsZSxuKTpuZXcgZihhKX0odCxlLG4pO2lmKHMuYWRkKHI/ci5jYWxsKHMsdGhpcy5zb3VyY2UpOnRoaXMuc291cmNlfHxpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJiFzLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9zdWJzY3JpYmUocyk6dGhpcy5fdHJ5U3Vic2NyaWJlKHMpKSxpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJnMuc3luY0Vycm9yVGhyb3dhYmxlJiYocy5zeW5jRXJyb3JUaHJvd2FibGU9ITEscy5zeW5jRXJyb3JUaHJvd24pKXRocm93IHMuc3luY0Vycm9yVmFsdWU7cmV0dXJuIHN9X3RyeVN1YnNjcmliZSh0KXt0cnl7cmV0dXJuIHRoaXMuX3N1YnNjcmliZSh0KX1jYXRjaChlKXtpLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJih0LnN5bmNFcnJvclRocm93bj0hMCx0LnN5bmNFcnJvclZhbHVlPWUpLGZ1bmN0aW9uKHQpe2Zvcig7dDspe2NvbnN0e2Nsb3NlZDplLGRlc3RpbmF0aW9uOm4saXNTdG9wcGVkOnJ9PXQ7aWYoZXx8cilyZXR1cm4hMTt0PW4mJm4gaW5zdGFuY2VvZiBmP246bnVsbH1yZXR1cm4hMH0odCk/dC5lcnJvcihlKTpjb25zb2xlLndhcm4oZSl9fWZvckVhY2godCxlKXtyZXR1cm4gbmV3KGU9YihlKSkoKGUsbik9PntsZXQgcjtyPXRoaXMuc3Vic2NyaWJlKGU9Pnt0cnl7dChlKX1jYXRjaChzKXtuKHMpLHImJnIudW5zdWJzY3JpYmUoKX19LG4sZSl9KX1fc3Vic2NyaWJlKHQpe2NvbnN0e3NvdXJjZTplfT10aGlzO3JldHVybiBlJiZlLnN1YnNjcmliZSh0KX1bbV0oKXtyZXR1cm4gdGhpc31waXBlKC4uLnQpe3JldHVybiAwPT09dC5sZW5ndGg/dGhpczooMD09PShlPXQpLmxlbmd0aD95OjE9PT1lLmxlbmd0aD9lWzBdOmZ1bmN0aW9uKHQpe3JldHVybiBlLnJlZHVjZSgodCxlKT0+ZSh0KSx0KX0pKHRoaXMpO3ZhciBlfXRvUHJvbWlzZSh0KXtyZXR1cm4gbmV3KHQ9Yih0KSkoKHQsZSk9PntsZXQgbjt0aGlzLnN1YnNjcmliZSh0PT5uPXQsdD0+ZSh0KSwoKT0+dChuKSl9KX19cmV0dXJuIHQuY3JlYXRlPWU9Pm5ldyB0KGUpLHR9KSgpO2Z1bmN0aW9uIGIodCl7aWYodHx8KHQ9aS5Qcm9taXNlfHxQcm9taXNlKSwhdCl0aHJvdyBuZXcgRXJyb3IoIm5vIFByb21pc2UgaW1wbCBmb3VuZCIpO3JldHVybiB0fWNvbnN0IF89KCgpPT57ZnVuY3Rpb24gdCgpe3JldHVybiBFcnJvci5jYWxsKHRoaXMpLHRoaXMubWVzc2FnZT0ib2JqZWN0IHVuc3Vic2NyaWJlZCIsdGhpcy5uYW1lPSJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsdGhpc31yZXR1cm4gdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLHR9KSgpO2NsYXNzIHcgZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLnN1YmplY3Q9dCx0aGlzLnN1YnNjcmliZXI9ZSx0aGlzLmNsb3NlZD0hMX11bnN1YnNjcmliZSgpe2lmKHRoaXMuY2xvc2VkKXJldHVybjt0aGlzLmNsb3NlZD0hMDtjb25zdCB0PXRoaXMuc3ViamVjdCxlPXQub2JzZXJ2ZXJzO2lmKHRoaXMuc3ViamVjdD1udWxsLCFlfHwwPT09ZS5sZW5ndGh8fHQuaXNTdG9wcGVkfHx0LmNsb3NlZClyZXR1cm47Y29uc3Qgbj1lLmluZGV4T2YodGhpcy5zdWJzY3JpYmVyKTstMSE9PW4mJmUuc3BsaWNlKG4sMSl9fWNsYXNzIEMgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZGVzdGluYXRpb249dH19bGV0IEU9KCgpPT57Y2xhc3MgdCBleHRlbmRzIHZ7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMub2JzZXJ2ZXJzPVtdLHRoaXMuY2xvc2VkPSExLHRoaXMuaXNTdG9wcGVkPSExLHRoaXMuaGFzRXJyb3I9ITEsdGhpcy50aHJvd25FcnJvcj1udWxsfVtwXSgpe3JldHVybiBuZXcgQyh0aGlzKX1saWZ0KHQpe2NvbnN0IGU9bmV3IEQodGhpcyx0aGlzKTtyZXR1cm4gZS5vcGVyYXRvcj10LGV9bmV4dCh0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgXztpZighdGhpcy5pc1N0b3BwZWQpe2NvbnN0e29ic2VydmVyczplfT10aGlzLG49ZS5sZW5ndGgscj1lLnNsaWNlKCk7Zm9yKGxldCBzPTA7czxuO3MrKylyW3NdLm5leHQodCl9fWVycm9yKHQpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBfO3RoaXMuaGFzRXJyb3I9ITAsdGhpcy50aHJvd25FcnJvcj10LHRoaXMuaXNTdG9wcGVkPSEwO2NvbnN0e29ic2VydmVyczplfT10aGlzLG49ZS5sZW5ndGgscj1lLnNsaWNlKCk7Zm9yKGxldCBzPTA7czxuO3MrKylyW3NdLmVycm9yKHQpO3RoaXMub2JzZXJ2ZXJzLmxlbmd0aD0wfWNvbXBsZXRlKCl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IF87dGhpcy5pc1N0b3BwZWQ9ITA7Y29uc3R7b2JzZXJ2ZXJzOnR9PXRoaXMsZT10Lmxlbmd0aCxuPXQuc2xpY2UoKTtmb3IobGV0IHI9MDtyPGU7cisrKW5bcl0uY29tcGxldGUoKTt0aGlzLm9ic2VydmVycy5sZW5ndGg9MH11bnN1YnNjcmliZSgpe3RoaXMuaXNTdG9wcGVkPSEwLHRoaXMuY2xvc2VkPSEwLHRoaXMub2JzZXJ2ZXJzPW51bGx9X3RyeVN1YnNjcmliZSh0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgXztyZXR1cm4gc3VwZXIuX3RyeVN1YnNjcmliZSh0KX1fc3Vic2NyaWJlKHQpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBfO3JldHVybiB0aGlzLmhhc0Vycm9yPyh0LmVycm9yKHRoaXMudGhyb3duRXJyb3IpLGguRU1QVFkpOnRoaXMuaXNTdG9wcGVkPyh0LmNvbXBsZXRlKCksaC5FTVBUWSk6KHRoaXMub2JzZXJ2ZXJzLnB1c2godCksbmV3IHcodGhpcyx0KSl9YXNPYnNlcnZhYmxlKCl7Y29uc3QgdD1uZXcgdjtyZXR1cm4gdC5zb3VyY2U9dGhpcyx0fX1yZXR1cm4gdC5jcmVhdGU9KHQsZSk9Pm5ldyBEKHQsZSksdH0pKCk7Y2xhc3MgRCBleHRlbmRzIEV7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMuZGVzdGluYXRpb249dCx0aGlzLnNvdXJjZT1lfW5leHQodCl7Y29uc3R7ZGVzdGluYXRpb246ZX09dGhpcztlJiZlLm5leHQmJmUubmV4dCh0KX1lcnJvcih0KXtjb25zdHtkZXN0aW5hdGlvbjplfT10aGlzO2UmJmUuZXJyb3ImJnRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9Y29tcGxldGUoKXtjb25zdHtkZXN0aW5hdGlvbjp0fT10aGlzO3QmJnQuY29tcGxldGUmJnRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX1fc3Vic2NyaWJlKHQpe2NvbnN0e3NvdXJjZTplfT10aGlzO3JldHVybiBlP3RoaXMuc291cmNlLnN1YnNjcmliZSh0KTpoLkVNUFRZfX1mdW5jdGlvbiBBKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5zY2hlZHVsZX1mdW5jdGlvbiBTKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoImFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLiBBcmUgeW91IGxvb2tpbmcgZm9yIGBtYXBUbygpYD8iKTtyZXR1cm4gbi5saWZ0KG5ldyB4KHQsZSkpfX1jbGFzcyB4e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5wcm9qZWN0PXQsdGhpcy50aGlzQXJnPWV9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgayh0LHRoaXMucHJvamVjdCx0aGlzLnRoaXNBcmcpKX19Y2xhc3MgayBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQpLHRoaXMucHJvamVjdD1lLHRoaXMuY291bnQ9MCx0aGlzLnRoaXNBcmc9bnx8dGhpc31fbmV4dCh0KXtsZXQgZTt0cnl7ZT10aGlzLnByb2plY3QuY2FsbCh0aGlzLnRoaXNBcmcsdCx0aGlzLmNvdW50KyspfWNhdGNoKG4pe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iobil9dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpfX1jb25zdCBUPXQ9PmU9Pntmb3IobGV0IG49MCxyPXQubGVuZ3RoO248ciYmIWUuY2xvc2VkO24rKyllLm5leHQodFtuXSk7ZS5jb21wbGV0ZSgpfTtmdW5jdGlvbiBPKCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yP1N5bWJvbC5pdGVyYXRvcjoiQEBpdGVyYXRvciJ9Y29uc3QgRj1PKCksUD10PT50JiYibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoJiYiZnVuY3Rpb24iIT10eXBlb2YgdDtmdW5jdGlvbiBJKHQpe3JldHVybiEhdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQuc3Vic2NyaWJlJiYiZnVuY3Rpb24iPT10eXBlb2YgdC50aGVufWNvbnN0IFI9dD0+e2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W21dKXJldHVybiBuPXQsdD0+e2NvbnN0IGU9blttXSgpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlLnN1YnNjcmliZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZSIpO3JldHVybiBlLnN1YnNjcmliZSh0KX07aWYoUCh0KSlyZXR1cm4gVCh0KTtpZihJKHQpKXJldHVybih0PT5lPT4odC50aGVuKHQ9PntlLmNsb3NlZHx8KGUubmV4dCh0KSxlLmNvbXBsZXRlKCkpfSx0PT5lLmVycm9yKHQpKS50aGVuKG51bGwsbyksZSkpKHQpO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W0ZdKXJldHVybiBlPXQsdD0+e2NvbnN0IG49ZVtGXSgpO2Zvcig7Oyl7bGV0IGU7dHJ5e2U9bi5uZXh0KCl9Y2F0Y2gocil7cmV0dXJuIHQuZXJyb3IociksdH1pZihlLmRvbmUpe3QuY29tcGxldGUoKTticmVha31pZih0Lm5leHQoZS52YWx1ZSksdC5jbG9zZWQpYnJlYWt9cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG4ucmV0dXJuJiZ0LmFkZCgoKT0+e24ucmV0dXJuJiZuLnJldHVybigpfSksdH07e2NvbnN0IGU9dSh0KT8iYW4gaW52YWxpZCBvYmplY3QiOmAnJHt0fSdgO3Rocm93IG5ldyBUeXBlRXJyb3IoYFlvdSBwcm92aWRlZCAke2V9IHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIEFycmF5LCBvciBJdGVyYWJsZS5gKX12YXIgZSxufTtmdW5jdGlvbiBNKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPW5ldyBoO2xldCBzPTA7cmV0dXJuIHIuYWRkKGUuc2NoZWR1bGUoZnVuY3Rpb24oKXtzIT09dC5sZW5ndGg/KG4ubmV4dCh0W3MrK10pLG4uY2xvc2VkfHxyLmFkZCh0aGlzLnNjaGVkdWxlKCkpKTpuLmNvbXBsZXRlKCl9KSkscn0pfWZ1bmN0aW9uIFYodCxlKXtyZXR1cm4gZT9mdW5jdGlvbih0LGUpe2lmKG51bGwhPXQpe2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdFttXX0odCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPW5ldyBoO3JldHVybiByLmFkZChlLnNjaGVkdWxlKCgpPT57Y29uc3Qgcz10W21dKCk7ci5hZGQocy5zdWJzY3JpYmUoe25leHQodCl7ci5hZGQoZS5zY2hlZHVsZSgoKT0+bi5uZXh0KHQpKSl9LGVycm9yKHQpe3IuYWRkKGUuc2NoZWR1bGUoKCk9Pm4uZXJyb3IodCkpKX0sY29tcGxldGUoKXtyLmFkZChlLnNjaGVkdWxlKCgpPT5uLmNvbXBsZXRlKCkpKX19KSl9KSkscn0pfSh0LGUpO2lmKEkodCkpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPW5ldyBoO3JldHVybiByLmFkZChlLnNjaGVkdWxlKCgpPT50LnRoZW4odD0+e3IuYWRkKGUuc2NoZWR1bGUoKCk9PntuLm5leHQodCksci5hZGQoZS5zY2hlZHVsZSgoKT0+bi5jb21wbGV0ZSgpKSl9KSl9LHQ9PntyLmFkZChlLnNjaGVkdWxlKCgpPT5uLmVycm9yKHQpKSl9KSkpLHJ9KX0odCxlKTtpZihQKHQpKXJldHVybiBNKHQsZSk7aWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W0ZdfSh0KXx8InN0cmluZyI9PXR5cGVvZiB0KXJldHVybiBmdW5jdGlvbih0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcigiSXRlcmFibGUgY2Fubm90IGJlIG51bGwiKTtyZXR1cm4gbmV3IHYobj0+e2NvbnN0IHI9bmV3IGg7bGV0IHM7cmV0dXJuIHIuYWRkKCgpPT57cyYmImZ1bmN0aW9uIj09dHlwZW9mIHMucmV0dXJuJiZzLnJldHVybigpfSksci5hZGQoZS5zY2hlZHVsZSgoKT0+e3M9dFtGXSgpLHIuYWRkKGUuc2NoZWR1bGUoZnVuY3Rpb24oKXtpZihuLmNsb3NlZClyZXR1cm47bGV0IHQsZTt0cnl7Y29uc3Qgbj1zLm5leHQoKTt0PW4udmFsdWUsZT1uLmRvbmV9Y2F0Y2gocil7cmV0dXJuIHZvaWQgbi5lcnJvcihyKX1lP24uY29tcGxldGUoKToobi5uZXh0KHQpLHRoaXMuc2NoZWR1bGUoKSl9KSl9KSkscn0pfSh0LGUpfXRocm93IG5ldyBUeXBlRXJyb3IoKG51bGwhPT10JiZ0eXBlb2YgdHx8dCkrIiBpcyBub3Qgb2JzZXJ2YWJsZSIpfSh0LGUpOnQgaW5zdGFuY2VvZiB2P3Q6bmV3IHYoUih0KSl9Y2xhc3MgaiBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnBhcmVudD10fV9uZXh0KHQpe3RoaXMucGFyZW50Lm5vdGlmeU5leHQodCl9X2Vycm9yKHQpe3RoaXMucGFyZW50Lm5vdGlmeUVycm9yKHQpLHRoaXMudW5zdWJzY3JpYmUoKX1fY29tcGxldGUoKXt0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX19Y2xhc3MgTiBleHRlbmRzIGZ7bm90aWZ5TmV4dCh0KXt0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9bm90aWZ5RXJyb3IodCl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX1ub3RpZnlDb21wbGV0ZSgpe3RoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX19ZnVuY3Rpb24gTCh0LGUpe2lmKGUuY2xvc2VkKXJldHVybjtpZih0IGluc3RhbmNlb2YgdilyZXR1cm4gdC5zdWJzY3JpYmUoZSk7bGV0IG47dHJ5e249Uih0KShlKX1jYXRjaChyKXtlLmVycm9yKHIpfXJldHVybiBufWZ1bmN0aW9uIEIodCxlLG49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9yPT5yLnBpcGUoQigobixyKT0+Vih0KG4scikpLnBpcGUoUygodCxzKT0+ZShuLHQscixzKSkpLG4pKTooIm51bWJlciI9PXR5cGVvZiBlJiYobj1lKSxlPT5lLmxpZnQobmV3IFUodCxuKSkpfWNsYXNzIFV7Y29uc3RydWN0b3IodCxlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSl7dGhpcy5wcm9qZWN0PXQsdGhpcy5jb25jdXJyZW50PWV9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgSCh0LHRoaXMucHJvamVjdCx0aGlzLmNvbmN1cnJlbnQpKX19Y2xhc3MgSCBleHRlbmRzIE57Y29uc3RydWN0b3IodCxlLG49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXtzdXBlcih0KSx0aGlzLnByb2plY3Q9ZSx0aGlzLmNvbmN1cnJlbnQ9bix0aGlzLmhhc0NvbXBsZXRlZD0hMSx0aGlzLmJ1ZmZlcj1bXSx0aGlzLmFjdGl2ZT0wLHRoaXMuaW5kZXg9MH1fbmV4dCh0KXt0aGlzLmFjdGl2ZTx0aGlzLmNvbmN1cnJlbnQ/dGhpcy5fdHJ5TmV4dCh0KTp0aGlzLmJ1ZmZlci5wdXNoKHQpfV90cnlOZXh0KHQpe2xldCBlO2NvbnN0IG49dGhpcy5pbmRleCsrO3RyeXtlPXRoaXMucHJvamVjdCh0LG4pfWNhdGNoKHIpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iocil9dGhpcy5hY3RpdmUrKyx0aGlzLl9pbm5lclN1YihlKX1faW5uZXJTdWIodCl7Y29uc3QgZT1uZXcgaih0aGlzKSxuPXRoaXMuZGVzdGluYXRpb247bi5hZGQoZSk7Y29uc3Qgcj1MKHQsZSk7ciE9PWUmJm4uYWRkKHIpfV9jb21wbGV0ZSgpe3RoaXMuaGFzQ29tcGxldGVkPSEwLDA9PT10aGlzLmFjdGl2ZSYmMD09PXRoaXMuYnVmZmVyLmxlbmd0aCYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX1ub3RpZnlOZXh0KHQpe3RoaXMuZGVzdGluYXRpb24ubmV4dCh0KX1ub3RpZnlDb21wbGV0ZSgpe2NvbnN0IHQ9dGhpcy5idWZmZXI7dGhpcy5hY3RpdmUtLSx0Lmxlbmd0aD4wP3RoaXMuX25leHQodC5zaGlmdCgpKTowPT09dGhpcy5hY3RpdmUmJnRoaXMuaGFzQ29tcGxldGVkJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9fWZ1bmN0aW9uICQodD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpe3JldHVybiBCKHksdCl9ZnVuY3Rpb24geih0LGUpe3JldHVybiBlP00odCxlKTpuZXcgdihUKHQpKX1mdW5jdGlvbiBxKC4uLnQpe2xldCBlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxuPW51bGwscj10W3QubGVuZ3RoLTFdO3JldHVybiBBKHIpPyhuPXQucG9wKCksdC5sZW5ndGg+MSYmIm51bWJlciI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdJiYoZT10LnBvcCgpKSk6Im51bWJlciI9PXR5cGVvZiByJiYoZT10LnBvcCgpKSxudWxsPT09biYmMT09PXQubGVuZ3RoJiZ0WzBdaW5zdGFuY2VvZiB2P3RbMF06JChlKSh6KHQsbikpfWZ1bmN0aW9uIFcoKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQubGlmdChuZXcgRyh0KSl9fWNsYXNzIEd7Y29uc3RydWN0b3IodCl7dGhpcy5jb25uZWN0YWJsZT10fWNhbGwodCxlKXtjb25zdHtjb25uZWN0YWJsZTpufT10aGlzO24uX3JlZkNvdW50Kys7Y29uc3Qgcj1uZXcgWih0LG4pLHM9ZS5zdWJzY3JpYmUocik7cmV0dXJuIHIuY2xvc2VkfHwoci5jb25uZWN0aW9uPW4uY29ubmVjdCgpKSxzfX1jbGFzcyBaIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuY29ubmVjdGFibGU9ZX1fdW5zdWJzY3JpYmUoKXtjb25zdHtjb25uZWN0YWJsZTp0fT10aGlzO2lmKCF0KXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTt0aGlzLmNvbm5lY3RhYmxlPW51bGw7Y29uc3QgZT10Ll9yZWZDb3VudDtpZihlPD0wKXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTtpZih0Ll9yZWZDb3VudD1lLTEsZT4xKXJldHVybiB2b2lkKHRoaXMuY29ubmVjdGlvbj1udWxsKTtjb25zdHtjb25uZWN0aW9uOm59PXRoaXMscj10Ll9jb25uZWN0aW9uO3RoaXMuY29ubmVjdGlvbj1udWxsLCFyfHxuJiZyIT09bnx8ci51bnN1YnNjcmliZSgpfX1jbGFzcyBLIGV4dGVuZHMgdntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5zb3VyY2U9dCx0aGlzLnN1YmplY3RGYWN0b3J5PWUsdGhpcy5fcmVmQ291bnQ9MCx0aGlzLl9pc0NvbXBsZXRlPSExfV9zdWJzY3JpYmUodCl7cmV0dXJuIHRoaXMuZ2V0U3ViamVjdCgpLnN1YnNjcmliZSh0KX1nZXRTdWJqZWN0KCl7Y29uc3QgdD10aGlzLl9zdWJqZWN0O3JldHVybiB0JiYhdC5pc1N0b3BwZWR8fCh0aGlzLl9zdWJqZWN0PXRoaXMuc3ViamVjdEZhY3RvcnkoKSksdGhpcy5fc3ViamVjdH1jb25uZWN0KCl7bGV0IHQ9dGhpcy5fY29ubmVjdGlvbjtyZXR1cm4gdHx8KHRoaXMuX2lzQ29tcGxldGU9ITEsdD10aGlzLl9jb25uZWN0aW9uPW5ldyBoLHQuYWRkKHRoaXMuc291cmNlLnN1YnNjcmliZShuZXcgUSh0aGlzLmdldFN1YmplY3QoKSx0aGlzKSkpLHQuY2xvc2VkJiYodGhpcy5fY29ubmVjdGlvbj1udWxsLHQ9aC5FTVBUWSkpLHR9cmVmQ291bnQoKXtyZXR1cm4gVygpKHRoaXMpfX1jb25zdCBZPSgoKT0+e2NvbnN0IHQ9Sy5wcm90b3R5cGU7cmV0dXJue29wZXJhdG9yOnt2YWx1ZTpudWxsfSxfcmVmQ291bnQ6e3ZhbHVlOjAsd3JpdGFibGU6ITB9LF9zdWJqZWN0Ont2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSxfY29ubmVjdGlvbjp7dmFsdWU6bnVsbCx3cml0YWJsZTohMH0sX3N1YnNjcmliZTp7dmFsdWU6dC5fc3Vic2NyaWJlfSxfaXNDb21wbGV0ZTp7dmFsdWU6dC5faXNDb21wbGV0ZSx3cml0YWJsZTohMH0sZ2V0U3ViamVjdDp7dmFsdWU6dC5nZXRTdWJqZWN0fSxjb25uZWN0Ont2YWx1ZTp0LmNvbm5lY3R9LHJlZkNvdW50Ont2YWx1ZTp0LnJlZkNvdW50fX19KSgpO2NsYXNzIFEgZXh0ZW5kcyBDe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5jb25uZWN0YWJsZT1lfV9lcnJvcih0KXt0aGlzLl91bnN1YnNjcmliZSgpLHN1cGVyLl9lcnJvcih0KX1fY29tcGxldGUoKXt0aGlzLmNvbm5lY3RhYmxlLl9pc0NvbXBsZXRlPSEwLHRoaXMuX3Vuc3Vic2NyaWJlKCksc3VwZXIuX2NvbXBsZXRlKCl9X3Vuc3Vic2NyaWJlKCl7Y29uc3QgdD10aGlzLmNvbm5lY3RhYmxlO2lmKHQpe3RoaXMuY29ubmVjdGFibGU9bnVsbDtjb25zdCBlPXQuX2Nvbm5lY3Rpb247dC5fcmVmQ291bnQ9MCx0Ll9zdWJqZWN0PW51bGwsdC5fY29ubmVjdGlvbj1udWxsLGUmJmUudW5zdWJzY3JpYmUoKX19fWZ1bmN0aW9uIFgoKXtyZXR1cm4gbmV3IEV9ZnVuY3Rpb24gSih0KXtmb3IobGV0IGUgaW4gdClpZih0W2VdPT09SilyZXR1cm4gZTt0aHJvdyBFcnJvcigiQ291bGQgbm90IGZpbmQgcmVuYW1lZCBwcm9wZXJ0eSBvbiB0YXJnZXQgb2JqZWN0LiIpfWZ1bmN0aW9uIHR0KHQsZSl7Zm9yKGNvbnN0IG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYhdC5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZVtuXSl9ZnVuY3Rpb24gZXQodCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIlsiK3QubWFwKGV0KS5qb2luKCIsICIpKyJdIjtpZihudWxsPT10KXJldHVybiIiK3Q7aWYodC5vdmVycmlkZGVuTmFtZSlyZXR1cm5gJHt0Lm92ZXJyaWRkZW5OYW1lfWA7aWYodC5uYW1lKXJldHVybmAke3QubmFtZX1gO2NvbnN0IGU9dC50b1N0cmluZygpO2lmKG51bGw9PWUpcmV0dXJuIiIrZTtjb25zdCBuPWUuaW5kZXhPZigiXG4iKTtyZXR1cm4tMT09PW4/ZTplLnN1YnN0cmluZygwLG4pfWZ1bmN0aW9uIG50KHQsZSl7cmV0dXJuIG51bGw9PXR8fCIiPT09dD9udWxsPT09ZT8iIjplOm51bGw9PWV8fCIiPT09ZT90OnQrIiAiK2V9Y29uc3QgcnQ9Sih7X19mb3J3YXJkX3JlZl9fOkp9KTtmdW5jdGlvbiBzdCh0KXtyZXR1cm4gdC5fX2ZvcndhcmRfcmVmX189c3QsdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBldCh0aGlzKCkpfSx0fWZ1bmN0aW9uIGl0KHQpe3JldHVybiBvdCh0KT90KCk6dH1mdW5jdGlvbiBvdCh0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdCYmdC5oYXNPd25Qcm9wZXJ0eShydCkmJnQuX19mb3J3YXJkX3JlZl9fPT09c3R9Y2xhc3MgYXQgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGZ1bmN0aW9uKHQsZSl7cmV0dXJuYCR7dD9gTkcwJHt0fTogYDoiIn0ke2V9YH0odCxlKSksdGhpcy5jb2RlPXR9fWZ1bmN0aW9uIGx0KHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90Om51bGw9PXQ/IiI6U3RyaW5nKHQpfWZ1bmN0aW9uIHV0KHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0P3QubmFtZXx8dC50b1N0cmluZygpOiJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9dCYmImZ1bmN0aW9uIj09dHlwZW9mIHQudHlwZT90LnR5cGUubmFtZXx8dC50eXBlLnRvU3RyaW5nKCk6bHQodCl9ZnVuY3Rpb24gY3QodCxlKXtjb25zdCBuPWU/YCBpbiAke2V9YDoiIjt0aHJvdyBuZXcgYXQoIjIwMSIsYE5vIHByb3ZpZGVyIGZvciAke3V0KHQpfSBmb3VuZCR7bn1gKX1mdW5jdGlvbiBodCh0KXtyZXR1cm57dG9rZW46dC50b2tlbixwcm92aWRlZEluOnQucHJvdmlkZWRJbnx8bnVsbCxmYWN0b3J5OnQuZmFjdG9yeSx2YWx1ZTp2b2lkIDB9fWZ1bmN0aW9uIGR0KHQpe3JldHVybntwcm92aWRlcnM6dC5wcm92aWRlcnN8fFtdLGltcG9ydHM6dC5pbXBvcnRzfHxbXX19ZnVuY3Rpb24gcHQodCl7cmV0dXJuIGZ0KHQsbXQpfHxmdCh0LHZ0KX1mdW5jdGlvbiBmdCh0LGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpP3RbZV06bnVsbH1mdW5jdGlvbiBndCh0KXtyZXR1cm4gdCYmKHQuaGFzT3duUHJvcGVydHkoeXQpfHx0Lmhhc093blByb3BlcnR5KGJ0KSk/dFt5dF06bnVsbH1jb25zdCBtdD1KKHsiXHUwMjc1cHJvdiI6Sn0pLHl0PUooeyJcdTAyNzVpbmoiOkp9KSx2dD1KKHtuZ0luamVjdGFibGVEZWY6Sn0pLGJ0PUooe25nSW5qZWN0b3JEZWY6Sn0pO3ZhciBfdD1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkRlZmF1bHQ9MF09IkRlZmF1bHQiLHRbdC5Ib3N0PTFdPSJIb3N0Iix0W3QuU2VsZj0yXT0iU2VsZiIsdFt0LlNraXBTZWxmPTRdPSJTa2lwU2VsZiIsdFt0Lk9wdGlvbmFsPThdPSJPcHRpb25hbCIsdH0oe30pO2xldCB3dDtmdW5jdGlvbiBDdCh0KXtjb25zdCBlPXd0O3JldHVybiB3dD10LGV9ZnVuY3Rpb24gRXQodCxlLG4pe2NvbnN0IHI9cHQodCk7cmV0dXJuIHImJiJyb290Ij09ci5wcm92aWRlZEluP3ZvaWQgMD09PXIudmFsdWU/ci52YWx1ZT1yLmZhY3RvcnkoKTpyLnZhbHVlOm4mX3QuT3B0aW9uYWw/bnVsbDp2b2lkIDAhPT1lP2U6dm9pZCBjdChldCh0KSwiSW5qZWN0b3IiKX1mdW5jdGlvbiBEdCh0KXtyZXR1cm57dG9TdHJpbmc6dH0udG9TdHJpbmcoKX12YXIgQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5PblB1c2g9MF09Ik9uUHVzaCIsdFt0LkRlZmF1bHQ9MV09IkRlZmF1bHQiLHR9KHt9KSxTdD1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkVtdWxhdGVkPTBdPSJFbXVsYXRlZCIsdFt0Lk5vbmU9Ml09Ik5vbmUiLHRbdC5TaGFkb3dEb209M109IlNoYWRvd0RvbSIsdH0oe30pO2NvbnN0IHh0PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyxrdD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LFR0PSJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmInVuZGVmaW5lZCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZzZWxmLE90PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwsRnQ9eHR8fE90fHxrdHx8VHQsUHQ9e30sSXQ9W10sUnQ9Sih7Ilx1MDI3NWNtcCI6Sn0pLE10PUooeyJcdTAyNzVkaXIiOkp9KSxWdD1KKHsiXHUwMjc1cGlwZSI6Sn0pLGp0PUooeyJcdTAyNzVtb2QiOkp9KSxOdD1KKHsiXHUwMjc1bG9jIjpKfSksTHQ9Sih7Ilx1MDI3NWZhYyI6Sn0pLEJ0PUooe19fTkdfRUxFTUVOVF9JRF9fOkp9KTtsZXQgVXQ9MDtmdW5jdGlvbiBIdCh0KXtyZXR1cm4gRHQoKCk9Pntjb25zdCBlPXt9LG49e3R5cGU6dC50eXBlLHByb3ZpZGVyc1Jlc29sdmVyOm51bGwsZGVjbHM6dC5kZWNscyx2YXJzOnQudmFycyxmYWN0b3J5Om51bGwsdGVtcGxhdGU6dC50ZW1wbGF0ZXx8bnVsbCxjb25zdHM6dC5jb25zdHN8fG51bGwsbmdDb250ZW50U2VsZWN0b3JzOnQubmdDb250ZW50U2VsZWN0b3JzLGhvc3RCaW5kaW5nczp0Lmhvc3RCaW5kaW5nc3x8bnVsbCxob3N0VmFyczp0Lmhvc3RWYXJzfHwwLGhvc3RBdHRyczp0Lmhvc3RBdHRyc3x8bnVsbCxjb250ZW50UXVlcmllczp0LmNvbnRlbnRRdWVyaWVzfHxudWxsLGRlY2xhcmVkSW5wdXRzOmUsaW5wdXRzOm51bGwsb3V0cHV0czpudWxsLGV4cG9ydEFzOnQuZXhwb3J0QXN8fG51bGwsb25QdXNoOnQuY2hhbmdlRGV0ZWN0aW9uPT09QXQuT25QdXNoLGRpcmVjdGl2ZURlZnM6bnVsbCxwaXBlRGVmczpudWxsLHNlbGVjdG9yczp0LnNlbGVjdG9yc3x8SXQsdmlld1F1ZXJ5OnQudmlld1F1ZXJ5fHxudWxsLGZlYXR1cmVzOnQuZmVhdHVyZXN8fG51bGwsZGF0YTp0LmRhdGF8fHt9LGVuY2Fwc3VsYXRpb246dC5lbmNhcHN1bGF0aW9ufHxTdC5FbXVsYXRlZCxpZDoiYyIsc3R5bGVzOnQuc3R5bGVzfHxJdCxfOm51bGwsc2V0SW5wdXQ6bnVsbCxzY2hlbWFzOnQuc2NoZW1hc3x8bnVsbCx0VmlldzpudWxsfSxyPXQuZGlyZWN0aXZlcyxzPXQuZmVhdHVyZXMsaT10LnBpcGVzO3JldHVybiBuLmlkKz1VdCsrLG4uaW5wdXRzPUd0KHQuaW5wdXRzLGUpLG4ub3V0cHV0cz1HdCh0Lm91dHB1dHMpLHMmJnMuZm9yRWFjaCh0PT50KG4pKSxuLmRpcmVjdGl2ZURlZnM9cj8oKT0+KCJmdW5jdGlvbiI9PXR5cGVvZiByP3IoKTpyKS5tYXAoJHQpOm51bGwsbi5waXBlRGVmcz1pPygpPT4oImZ1bmN0aW9uIj09dHlwZW9mIGk/aSgpOmkpLm1hcCh6dCk6bnVsbCxufSl9ZnVuY3Rpb24gJHQodCl7cmV0dXJuIFl0KHQpfHxmdW5jdGlvbih0KXtyZXR1cm4gdFtNdF18fG51bGx9KHQpfWZ1bmN0aW9uIHp0KHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdFtWdF18fG51bGx9KHQpfWNvbnN0IHF0PXt9O2Z1bmN0aW9uIFd0KHQpe3JldHVybiBEdCgoKT0+e2NvbnN0IGU9e3R5cGU6dC50eXBlLGJvb3RzdHJhcDp0LmJvb3RzdHJhcHx8SXQsZGVjbGFyYXRpb25zOnQuZGVjbGFyYXRpb25zfHxJdCxpbXBvcnRzOnQuaW1wb3J0c3x8SXQsZXhwb3J0czp0LmV4cG9ydHN8fEl0LHRyYW5zaXRpdmVDb21waWxlU2NvcGVzOm51bGwsc2NoZW1hczp0LnNjaGVtYXN8fG51bGwsaWQ6dC5pZHx8bnVsbH07cmV0dXJuIG51bGwhPXQuaWQmJihxdFt0LmlkXT10LnR5cGUpLGV9KX1mdW5jdGlvbiBHdCh0LGUpe2lmKG51bGw9PXQpcmV0dXJuIFB0O2NvbnN0IG49e307Zm9yKGNvbnN0IHIgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHIpKXtsZXQgcz10W3JdLGk9cztBcnJheS5pc0FycmF5KHMpJiYoaT1zWzFdLHM9c1swXSksbltzXT1yLGUmJihlW3NdPWkpfXJldHVybiBufWNvbnN0IFp0PUh0O2Z1bmN0aW9uIEt0KHQpe3JldHVybnt0eXBlOnQudHlwZSxuYW1lOnQubmFtZSxmYWN0b3J5Om51bGwscHVyZTohMSE9PXQucHVyZSxvbkRlc3Ryb3k6dC50eXBlLnByb3RvdHlwZS5uZ09uRGVzdHJveXx8bnVsbH19ZnVuY3Rpb24gWXQodCl7cmV0dXJuIHRbUnRdfHxudWxsfWZ1bmN0aW9uIFF0KHQsZSl7Y29uc3Qgbj10W2p0XXx8bnVsbDtpZighbiYmITA9PT1lKXRocm93IG5ldyBFcnJvcihgVHlwZSAke2V0KHQpfSBkb2VzIG5vdCBoYXZlICdcdTAyNzVtb2QnIHByb3BlcnR5LmApO3JldHVybiBufWNvbnN0IFh0PTIwLEp0PTEwO2Z1bmN0aW9uIHRlKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpJiYib2JqZWN0Ij09dHlwZW9mIHRbMV19ZnVuY3Rpb24gZWUodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJiEwPT09dFsxXX1mdW5jdGlvbiBuZSh0KXtyZXR1cm4gMCE9KDgmdC5mbGFncyl9ZnVuY3Rpb24gcmUodCl7cmV0dXJuIDI9PSgyJnQuZmxhZ3MpfWZ1bmN0aW9uIHNlKHQpe3JldHVybiAxPT0oMSZ0LmZsYWdzKX1mdW5jdGlvbiBpZSh0KXtyZXR1cm4gbnVsbCE9PXQudGVtcGxhdGV9ZnVuY3Rpb24gb2UodCxlKXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShMdCk/dFtMdF06bnVsbH1jbGFzcyBhZXtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5wcmV2aW91c1ZhbHVlPXQsdGhpcy5jdXJyZW50VmFsdWU9ZSx0aGlzLmZpcnN0Q2hhbmdlPW59aXNGaXJzdENoYW5nZSgpe3JldHVybiB0aGlzLmZpcnN0Q2hhbmdlfX1mdW5jdGlvbiBsZSgpe3JldHVybiB1ZX1mdW5jdGlvbiB1ZSh0KXtyZXR1cm4gdC50eXBlLnByb3RvdHlwZS5uZ09uQ2hhbmdlcyYmKHQuc2V0SW5wdXQ9aGUpLGNlfWZ1bmN0aW9uIGNlKCl7Y29uc3QgdD1kZSh0aGlzKSxlPW51bGw9PXQ/dm9pZCAwOnQuY3VycmVudDtpZihlKXtjb25zdCBuPXQucHJldmlvdXM7aWYobj09PVB0KXQucHJldmlvdXM9ZTtlbHNlIGZvcihsZXQgdCBpbiBlKW5bdF09ZVt0XTt0LmN1cnJlbnQ9bnVsbCx0aGlzLm5nT25DaGFuZ2VzKGUpfX1mdW5jdGlvbiBoZSh0LGUsbixyKXtjb25zdCBzPWRlKHQpfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fbmdTaW1wbGVDaGFuZ2VzX189ZX0odCx7cHJldmlvdXM6UHQsY3VycmVudDpudWxsfSksaT1zLmN1cnJlbnR8fChzLmN1cnJlbnQ9e30pLG89cy5wcmV2aW91cyxhPXRoaXMuZGVjbGFyZWRJbnB1dHNbbl0sbD1vW2FdO2lbYV09bmV3IGFlKGwmJmwuY3VycmVudFZhbHVlLGUsbz09PVB0KSx0W3JdPWV9ZnVuY3Rpb24gZGUodCl7cmV0dXJuIHQuX19uZ1NpbXBsZUNoYW5nZXNfX3x8bnVsbH1sZXQgcGU7ZnVuY3Rpb24gZmUoKXtyZXR1cm4gdm9pZCAwIT09cGU/cGU6InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudDp2b2lkIDB9ZnVuY3Rpb24gZ2UodCl7cmV0dXJuISF0Lmxpc3Rlbn1sZS5uZ0luaGVyaXQ9ITA7Y29uc3QgbWU9e2NyZWF0ZVJlbmRlcmVyOih0LGUpPT5mZSgpfTtmdW5jdGlvbiB5ZSh0KXtmb3IoO0FycmF5LmlzQXJyYXkodCk7KXQ9dFswXTtyZXR1cm4gdH1mdW5jdGlvbiB2ZSh0LGUpe3JldHVybiB5ZShlW3RdKX1mdW5jdGlvbiBiZSh0LGUpe3JldHVybiB5ZShlW3QuaW5kZXhdKX1mdW5jdGlvbiBfZSh0LGUpe3JldHVybiB0LmRhdGFbZV19ZnVuY3Rpb24gd2UodCxlKXtjb25zdCBuPWVbdF07cmV0dXJuIHRlKG4pP246blswXX1mdW5jdGlvbiBDZSh0KXtyZXR1cm4gND09KDQmdFsyXSl9ZnVuY3Rpb24gRWUodCl7cmV0dXJuIDEyOD09KDEyOCZ0WzJdKX1mdW5jdGlvbiBEZSh0LGUpe3JldHVybiBudWxsPT1lP251bGw6dFtlXX1mdW5jdGlvbiBBZSh0KXt0WzE4XT0wfWZ1bmN0aW9uIFNlKHQsZSl7dFs1XSs9ZTtsZXQgbj10LHI9dFszXTtmb3IoO251bGwhPT1yJiYoMT09PWUmJjE9PT1uWzVdfHwtMT09PWUmJjA9PT1uWzVdKTspcls1XSs9ZSxuPXIscj1yWzNdfWNvbnN0IHhlPXtsRnJhbWU6WWUobnVsbCksYmluZGluZ3NFbmFibGVkOiEwLGlzSW5DaGVja05vQ2hhbmdlc01vZGU6ITF9O2Z1bmN0aW9uIGtlKCl7cmV0dXJuIHhlLmJpbmRpbmdzRW5hYmxlZH1mdW5jdGlvbiBUZSgpe3JldHVybiB4ZS5sRnJhbWUubFZpZXd9ZnVuY3Rpb24gT2UoKXtyZXR1cm4geGUubEZyYW1lLnRWaWV3fWZ1bmN0aW9uIEZlKHQpe3JldHVybiB4ZS5sRnJhbWUuY29udGV4dExWaWV3PXQsdFs4XX1mdW5jdGlvbiBQZSgpe2xldCB0PUllKCk7Zm9yKDtudWxsIT09dCYmNjQ9PT10LnR5cGU7KXQ9dC5wYXJlbnQ7cmV0dXJuIHR9ZnVuY3Rpb24gSWUoKXtyZXR1cm4geGUubEZyYW1lLmN1cnJlbnRUTm9kZX1mdW5jdGlvbiBSZSh0LGUpe2NvbnN0IG49eGUubEZyYW1lO24uY3VycmVudFROb2RlPXQsbi5pc1BhcmVudD1lfWZ1bmN0aW9uIE1lKCl7cmV0dXJuIHhlLmxGcmFtZS5pc1BhcmVudH1mdW5jdGlvbiBWZSgpe3hlLmxGcmFtZS5pc1BhcmVudD0hMX1mdW5jdGlvbiBqZSgpe3JldHVybiB4ZS5pc0luQ2hlY2tOb0NoYW5nZXNNb2RlfWZ1bmN0aW9uIE5lKHQpe3hlLmlzSW5DaGVja05vQ2hhbmdlc01vZGU9dH1mdW5jdGlvbiBMZSgpe2NvbnN0IHQ9eGUubEZyYW1lO2xldCBlPXQuYmluZGluZ1Jvb3RJbmRleDtyZXR1cm4tMT09PWUmJihlPXQuYmluZGluZ1Jvb3RJbmRleD10LnRWaWV3LmJpbmRpbmdTdGFydEluZGV4KSxlfWZ1bmN0aW9uIEJlKCl7cmV0dXJuIHhlLmxGcmFtZS5iaW5kaW5nSW5kZXgrK31mdW5jdGlvbiBVZSh0KXtjb25zdCBlPXhlLmxGcmFtZSxuPWUuYmluZGluZ0luZGV4O3JldHVybiBlLmJpbmRpbmdJbmRleD1lLmJpbmRpbmdJbmRleCt0LG59ZnVuY3Rpb24gSGUodCxlKXtjb25zdCBuPXhlLmxGcmFtZTtuLmJpbmRpbmdJbmRleD1uLmJpbmRpbmdSb290SW5kZXg9dCwkZShlKX1mdW5jdGlvbiAkZSh0KXt4ZS5sRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4PXR9ZnVuY3Rpb24gemUoKXtyZXR1cm4geGUubEZyYW1lLmN1cnJlbnRRdWVyeUluZGV4fWZ1bmN0aW9uIHFlKHQpe3hlLmxGcmFtZS5jdXJyZW50UXVlcnlJbmRleD10fWZ1bmN0aW9uIFdlKHQpe2NvbnN0IGU9dFsxXTtyZXR1cm4gMj09PWUudHlwZT9lLmRlY2xUTm9kZToxPT09ZS50eXBlP3RbNl06bnVsbH1mdW5jdGlvbiBHZSh0LGUsbil7aWYobiZfdC5Ta2lwU2VsZil7bGV0IHI9ZSxzPXQ7Zm9yKDtyPXIucGFyZW50LCEobnVsbCE9PXJ8fG4mX3QuSG9zdHx8KHI9V2UocyksbnVsbD09PXIpfHwocz1zWzE1XSwxMCZyLnR5cGUpKTspO2lmKG51bGw9PT1yKXJldHVybiExO2U9cix0PXN9Y29uc3Qgcj14ZS5sRnJhbWU9S2UoKTtyZXR1cm4gci5jdXJyZW50VE5vZGU9ZSxyLmxWaWV3PXQsITB9ZnVuY3Rpb24gWmUodCl7Y29uc3QgZT1LZSgpLG49dFsxXTt4ZS5sRnJhbWU9ZSxlLmN1cnJlbnRUTm9kZT1uLmZpcnN0Q2hpbGQsZS5sVmlldz10LGUudFZpZXc9bixlLmNvbnRleHRMVmlldz10LGUuYmluZGluZ0luZGV4PW4uYmluZGluZ1N0YXJ0SW5kZXgsZS5pbkkxOG49ITF9ZnVuY3Rpb24gS2UoKXtjb25zdCB0PXhlLmxGcmFtZSxlPW51bGw9PT10P251bGw6dC5jaGlsZDtyZXR1cm4gbnVsbD09PWU/WWUodCk6ZX1mdW5jdGlvbiBZZSh0KXtjb25zdCBlPXtjdXJyZW50VE5vZGU6bnVsbCxpc1BhcmVudDohMCxsVmlldzpudWxsLHRWaWV3Om51bGwsc2VsZWN0ZWRJbmRleDotMSxjb250ZXh0TFZpZXc6bnVsbCxlbGVtZW50RGVwdGhDb3VudDowLGN1cnJlbnROYW1lc3BhY2U6bnVsbCxjdXJyZW50RGlyZWN0aXZlSW5kZXg6LTEsYmluZGluZ1Jvb3RJbmRleDotMSxiaW5kaW5nSW5kZXg6LTEsY3VycmVudFF1ZXJ5SW5kZXg6MCxwYXJlbnQ6dCxjaGlsZDpudWxsLGluSTE4bjohMX07cmV0dXJuIG51bGwhPT10JiYodC5jaGlsZD1lKSxlfWZ1bmN0aW9uIFFlKCl7Y29uc3QgdD14ZS5sRnJhbWU7cmV0dXJuIHhlLmxGcmFtZT10LnBhcmVudCx0LmN1cnJlbnRUTm9kZT1udWxsLHQubFZpZXc9bnVsbCx0fWNvbnN0IFhlPVFlO2Z1bmN0aW9uIEplKCl7Y29uc3QgdD1RZSgpO3QuaXNQYXJlbnQ9ITAsdC50Vmlldz1udWxsLHQuc2VsZWN0ZWRJbmRleD0tMSx0LmNvbnRleHRMVmlldz1udWxsLHQuZWxlbWVudERlcHRoQ291bnQ9MCx0LmN1cnJlbnREaXJlY3RpdmVJbmRleD0tMSx0LmN1cnJlbnROYW1lc3BhY2U9bnVsbCx0LmJpbmRpbmdSb290SW5kZXg9LTEsdC5iaW5kaW5nSW5kZXg9LTEsdC5jdXJyZW50UXVlcnlJbmRleD0wfWZ1bmN0aW9uIHRuKCl7cmV0dXJuIHhlLmxGcmFtZS5zZWxlY3RlZEluZGV4fWZ1bmN0aW9uIGVuKHQpe3hlLmxGcmFtZS5zZWxlY3RlZEluZGV4PXR9ZnVuY3Rpb24gbm4oKXtjb25zdCB0PXhlLmxGcmFtZTtyZXR1cm4gX2UodC50Vmlldyx0LnNlbGVjdGVkSW5kZXgpfWZ1bmN0aW9uIHJuKHQsZSl7Zm9yKGxldCBuPWUuZGlyZWN0aXZlU3RhcnQscj1lLmRpcmVjdGl2ZUVuZDtuPHI7bisrKXtjb25zdCBlPXQuZGF0YVtuXS50eXBlLnByb3RvdHlwZSx7bmdBZnRlckNvbnRlbnRJbml0OnIsbmdBZnRlckNvbnRlbnRDaGVja2VkOnMsbmdBZnRlclZpZXdJbml0OmksbmdBZnRlclZpZXdDaGVja2VkOm8sbmdPbkRlc3Ryb3k6YX09ZTtyJiYodC5jb250ZW50SG9va3N8fCh0LmNvbnRlbnRIb29rcz1bXSkpLnB1c2goLW4scikscyYmKCh0LmNvbnRlbnRIb29rc3x8KHQuY29udGVudEhvb2tzPVtdKSkucHVzaChuLHMpLCh0LmNvbnRlbnRDaGVja0hvb2tzfHwodC5jb250ZW50Q2hlY2tIb29rcz1bXSkpLnB1c2gobixzKSksaSYmKHQudmlld0hvb2tzfHwodC52aWV3SG9va3M9W10pKS5wdXNoKC1uLGkpLG8mJigodC52aWV3SG9va3N8fCh0LnZpZXdIb29rcz1bXSkpLnB1c2gobixvKSwodC52aWV3Q2hlY2tIb29rc3x8KHQudmlld0NoZWNrSG9va3M9W10pKS5wdXNoKG4sbykpLG51bGwhPWEmJih0LmRlc3Ryb3lIb29rc3x8KHQuZGVzdHJveUhvb2tzPVtdKSkucHVzaChuLGEpfX1mdW5jdGlvbiBzbih0LGUsbil7bG4odCxlLDMsbil9ZnVuY3Rpb24gb24odCxlLG4scil7KDMmdFsyXSk9PT1uJiZsbih0LGUsbixyKX1mdW5jdGlvbiBhbih0LGUpe2xldCBuPXRbMl07KDMmbik9PT1lJiYobiY9MjA0NyxuKz0xLHRbMl09bil9ZnVuY3Rpb24gbG4odCxlLG4scil7Y29uc3Qgcz1udWxsIT1yP3I6LTEsaT1lLmxlbmd0aC0xO2xldCBvPTA7Zm9yKGxldCBhPXZvaWQgMCE9PXI/NjU1MzUmdFsxOF06MDthPGk7YSsrKWlmKCJudW1iZXIiPT10eXBlb2YgZVthKzFdKXtpZihvPWVbYV0sbnVsbCE9ciYmbz49cilicmVha31lbHNlIGVbYV08MCYmKHRbMThdKz02NTUzNiksKG88c3x8LTE9PXMpJiYodW4odCxuLGUsYSksdFsxOF09KDQyOTQ5MDE3NjAmdFsxOF0pK2ErMiksYSsrfWZ1bmN0aW9uIHVuKHQsZSxuLHIpe2NvbnN0IHM9bltyXTwwLGk9bltyKzFdLG89dFtzPy1uW3JdOm5bcl1dO2lmKHMpe2lmKHRbMl0+PjExPHRbMThdPj4xNiYmKDMmdFsyXSk9PT1lKXt0WzJdKz0yMDQ4O3RyeXtpLmNhbGwobyl9ZmluYWxseXt9fX1lbHNlIHRyeXtpLmNhbGwobyl9ZmluYWxseXt9fWNvbnN0IGNuPS0xO2NsYXNzIGhue2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLmZhY3Rvcnk9dCx0aGlzLnJlc29sdmluZz0hMSx0aGlzLmNhblNlZVZpZXdQcm92aWRlcnM9ZSx0aGlzLmluamVjdEltcGw9bn19ZnVuY3Rpb24gZG4odCxlLG4pe2NvbnN0IHI9Z2UodCk7bGV0IHM9MDtmb3IoO3M8bi5sZW5ndGg7KXtjb25zdCBpPW5bc107aWYoIm51bWJlciI9PXR5cGVvZiBpKXtpZigwIT09aSlicmVhaztzKys7Y29uc3Qgbz1uW3MrK10sYT1uW3MrK10sbD1uW3MrK107cj90LnNldEF0dHJpYnV0ZShlLGEsbCxvKTplLnNldEF0dHJpYnV0ZU5TKG8sYSxsKX1lbHNle2NvbnN0IG89aSxhPW5bKytzXTtmbihvKT9yJiZ0LnNldFByb3BlcnR5KGUsbyxhKTpyP3Quc2V0QXR0cmlidXRlKGUsbyxhKTplLnNldEF0dHJpYnV0ZShvLGEpLHMrK319cmV0dXJuIHN9ZnVuY3Rpb24gcG4odCl7cmV0dXJuIDM9PT10fHw0PT09dHx8Nj09PXR9ZnVuY3Rpb24gZm4odCl7cmV0dXJuIDY0PT09dC5jaGFyQ29kZUF0KDApfWZ1bmN0aW9uIGduKHQsZSl7aWYobnVsbD09PWV8fDA9PT1lLmxlbmd0aCk7ZWxzZSBpZihudWxsPT09dHx8MD09PXQubGVuZ3RoKXQ9ZS5zbGljZSgpO2Vsc2V7bGV0IG49LTE7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IHM9ZVtyXTsibnVtYmVyIj09dHlwZW9mIHM/bj1zOjA9PT1ufHxtbih0LG4scyxudWxsLC0xPT09bnx8Mj09PW4/ZVsrK3JdOm51bGwpfX1yZXR1cm4gdH1mdW5jdGlvbiBtbih0LGUsbixyLHMpe2xldCBpPTAsbz10Lmxlbmd0aDtpZigtMT09PWUpbz0tMTtlbHNlIGZvcig7aTx0Lmxlbmd0aDspe2NvbnN0IG49dFtpKytdO2lmKCJudW1iZXIiPT10eXBlb2Ygbil7aWYobj09PWUpe289LTE7YnJlYWt9aWYobj5lKXtvPWktMTticmVha319fWZvcig7aTx0Lmxlbmd0aDspe2NvbnN0IGU9dFtpXTtpZigibnVtYmVyIj09dHlwZW9mIGUpYnJlYWs7aWYoZT09PW4pe2lmKG51bGw9PT1yKXJldHVybiB2b2lkKG51bGwhPT1zJiYodFtpKzFdPXMpKTtpZihyPT09dFtpKzFdKXJldHVybiB2b2lkKHRbaSsyXT1zKX1pKyssbnVsbCE9PXImJmkrKyxudWxsIT09cyYmaSsrfS0xIT09byYmKHQuc3BsaWNlKG8sMCxlKSxpPW8rMSksdC5zcGxpY2UoaSsrLDAsbiksbnVsbCE9PXImJnQuc3BsaWNlKGkrKywwLHIpLG51bGwhPT1zJiZ0LnNwbGljZShpKyssMCxzKX1mdW5jdGlvbiB5bih0KXtyZXR1cm4gdCE9PWNufWZ1bmN0aW9uIHZuKHQpe3JldHVybiAzMjc2NyZ0fWZ1bmN0aW9uIGJuKHQsZSl7bGV0IG49dD4+MTYscj1lO2Zvcig7bj4wOylyPXJbMTVdLG4tLTtyZXR1cm4gcn1sZXQgX249ITA7ZnVuY3Rpb24gd24odCl7Y29uc3QgZT1fbjtyZXR1cm4gX249dCxlfWxldCBDbj0wO2Z1bmN0aW9uIEVuKHQsZSl7Y29uc3Qgbj1Bbih0LGUpO2lmKC0xIT09bilyZXR1cm4gbjtjb25zdCByPWVbMV07ci5maXJzdENyZWF0ZVBhc3MmJih0LmluamVjdG9ySW5kZXg9ZS5sZW5ndGgsRG4oci5kYXRhLHQpLERuKGUsbnVsbCksRG4oci5ibHVlcHJpbnQsbnVsbCkpO2NvbnN0IHM9U24odCxlKSxpPXQuaW5qZWN0b3JJbmRleDtpZih5bihzKSl7Y29uc3QgdD12bihzKSxuPWJuKHMsZSkscj1uWzFdLmRhdGE7Zm9yKGxldCBzPTA7czw4O3MrKyllW2krc109blt0K3NdfHJbdCtzXX1yZXR1cm4gZVtpKzhdPXMsaX1mdW5jdGlvbiBEbih0LGUpe3QucHVzaCgwLDAsMCwwLDAsMCwwLDAsZSl9ZnVuY3Rpb24gQW4odCxlKXtyZXR1cm4tMT09PXQuaW5qZWN0b3JJbmRleHx8dC5wYXJlbnQmJnQucGFyZW50LmluamVjdG9ySW5kZXg9PT10LmluamVjdG9ySW5kZXh8fG51bGw9PT1lW3QuaW5qZWN0b3JJbmRleCs4XT8tMTp0LmluamVjdG9ySW5kZXh9ZnVuY3Rpb24gU24odCxlKXtpZih0LnBhcmVudCYmLTEhPT10LnBhcmVudC5pbmplY3RvckluZGV4KXJldHVybiB0LnBhcmVudC5pbmplY3RvckluZGV4O2xldCBuPTAscj1udWxsLHM9ZTtmb3IoO251bGwhPT1zOyl7Y29uc3QgdD1zWzFdLGU9dC50eXBlO2lmKHI9Mj09PWU/dC5kZWNsVE5vZGU6MT09PWU/c1s2XTpudWxsLG51bGw9PT1yKXJldHVybiBjbjtpZihuKysscz1zWzE1XSwtMSE9PXIuaW5qZWN0b3JJbmRleClyZXR1cm4gci5pbmplY3RvckluZGV4fG48PDE2fXJldHVybiBjbn1mdW5jdGlvbiB4bih0LGUsbil7IWZ1bmN0aW9uKHQsZSxuKXtsZXQgcjsic3RyaW5nIj09dHlwZW9mIG4/cj1uLmNoYXJDb2RlQXQoMCl8fDA6bi5oYXNPd25Qcm9wZXJ0eShCdCkmJihyPW5bQnRdKSxudWxsPT1yJiYocj1uW0J0XT1DbisrKTtjb25zdCBzPTI1NSZyO2UuZGF0YVt0KyhzPj41KV18PTE8PHN9KHQsZSxuKX1mdW5jdGlvbiBrbih0LGUsbil7aWYobiZfdC5PcHRpb25hbClyZXR1cm4gdDtjdChlLCJOb2RlSW5qZWN0b3IiKX1mdW5jdGlvbiBUbih0LGUsbixyKXtpZihuJl90Lk9wdGlvbmFsJiZ2b2lkIDA9PT1yJiYocj1udWxsKSwwPT0obiYoX3QuU2VsZnxfdC5Ib3N0KSkpe2NvbnN0IHM9dFs5XSxpPUN0KHZvaWQgMCk7dHJ5e3JldHVybiBzP3MuZ2V0KGUscixuJl90Lk9wdGlvbmFsKTpFdChlLHIsbiZfdC5PcHRpb25hbCl9ZmluYWxseXtDdChpKX19cmV0dXJuIGtuKHIsZSxuKX1mdW5jdGlvbiBPbih0LGUsbixyPV90LkRlZmF1bHQscyl7aWYobnVsbCE9PXQpe2NvbnN0IGk9ZnVuY3Rpb24odCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiB0LmNoYXJDb2RlQXQoMCl8fDA7Y29uc3QgZT10Lmhhc093blByb3BlcnR5KEJ0KT90W0J0XTp2b2lkIDA7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlP2U+PTA/MjU1JmU6UG46ZX0obik7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGkpe2lmKCFHZShlLHQscikpcmV0dXJuIHImX3QuSG9zdD9rbihzLG4scik6VG4oZSxuLHIscyk7dHJ5e2NvbnN0IHQ9aShyKTtpZihudWxsIT10fHxyJl90Lk9wdGlvbmFsKXJldHVybiB0O2N0KG4pfWZpbmFsbHl7WGUoKX19ZWxzZSBpZigibnVtYmVyIj09dHlwZW9mIGkpe2xldCBzPW51bGwsbz1Bbih0LGUpLGE9Y24sbD1yJl90Lkhvc3Q/ZVsxNl1bNl06bnVsbDtmb3IoKC0xPT09b3x8ciZfdC5Ta2lwU2VsZikmJihhPS0xPT09bz9Tbih0LGUpOmVbbys4XSxhIT09Y24mJmpuKHIsITEpPyhzPWVbMV0sbz12bihhKSxlPWJuKGEsZSkpOm89LTEpOy0xIT09bzspe2NvbnN0IHQ9ZVsxXTtpZihWbihpLG8sdC5kYXRhKSl7Y29uc3QgdD1JbihvLGUsbixzLHIsbCk7aWYodCE9PUZuKXJldHVybiB0fWE9ZVtvKzhdLGEhPT1jbiYmam4ocixlWzFdLmRhdGFbbys4XT09PWwpJiZWbihpLG8sZSk/KHM9dCxvPXZuKGEpLGU9Ym4oYSxlKSk6bz0tMX19fXJldHVybiBUbihlLG4scixzKX1jb25zdCBGbj17fTtmdW5jdGlvbiBQbigpe3JldHVybiBuZXcgTm4oUGUoKSxUZSgpKX1mdW5jdGlvbiBJbih0LGUsbixyLHMsaSl7Y29uc3Qgbz1lWzFdLGE9by5kYXRhW3QrOF0sbD1SbihhLG8sbixudWxsPT1yP3JlKGEpJiZfbjpyIT1vJiYwIT0oMyZhLnR5cGUpLHMmX3QuSG9zdCYmaT09PWEpO3JldHVybiBudWxsIT09bD9NbihlLG8sbCxhKTpGbn1mdW5jdGlvbiBSbih0LGUsbixyLHMpe2NvbnN0IGk9dC5wcm92aWRlckluZGV4ZXMsbz1lLmRhdGEsYT0xMDQ4NTc1JmksbD10LmRpcmVjdGl2ZVN0YXJ0LHU9aT4+MjAsYz1zP2ErdTp0LmRpcmVjdGl2ZUVuZDtmb3IobGV0IGg9cj9hOmErdTtoPGM7aCsrKXtjb25zdCB0PW9baF07aWYoaDxsJiZuPT09dHx8aD49bCYmdC50eXBlPT09bilyZXR1cm4gaH1pZihzKXtjb25zdCB0PW9bbF07aWYodCYmaWUodCkmJnQudHlwZT09PW4pcmV0dXJuIGx9cmV0dXJuIG51bGx9ZnVuY3Rpb24gTW4odCxlLG4scil7bGV0IHM9dFtuXTtjb25zdCBpPWUuZGF0YTtpZihzIGluc3RhbmNlb2YgaG4pe2NvbnN0IG89cztvLnJlc29sdmluZyYmZnVuY3Rpb24odCxlKXt0aHJvdyBuZXcgYXQoIjIwMCIsYENpcmN1bGFyIGRlcGVuZGVuY3kgaW4gREkgZGV0ZWN0ZWQgZm9yICR7dH1gKX0odXQoaVtuXSkpO2NvbnN0IGE9d24oby5jYW5TZWVWaWV3UHJvdmlkZXJzKTtvLnJlc29sdmluZz0hMDtjb25zdCBsPW8uaW5qZWN0SW1wbD9DdChvLmluamVjdEltcGwpOm51bGw7R2UodCxyLF90LkRlZmF1bHQpO3RyeXtzPXRbbl09by5mYWN0b3J5KHZvaWQgMCxpLHQsciksZS5maXJzdENyZWF0ZVBhc3MmJm4+PXIuZGlyZWN0aXZlU3RhcnQmJmZ1bmN0aW9uKHQsZSxuKXtjb25zdHtuZ09uQ2hhbmdlczpyLG5nT25Jbml0OnMsbmdEb0NoZWNrOml9PWUudHlwZS5wcm90b3R5cGU7aWYocil7Y29uc3Qgcj11ZShlKTsobi5wcmVPcmRlckhvb2tzfHwobi5wcmVPcmRlckhvb2tzPVtdKSkucHVzaCh0LHIpLChuLnByZU9yZGVyQ2hlY2tIb29rc3x8KG4ucHJlT3JkZXJDaGVja0hvb2tzPVtdKSkucHVzaCh0LHIpfXMmJihuLnByZU9yZGVySG9va3N8fChuLnByZU9yZGVySG9va3M9W10pKS5wdXNoKDAtdCxzKSxpJiYoKG4ucHJlT3JkZXJIb29rc3x8KG4ucHJlT3JkZXJIb29rcz1bXSkpLnB1c2godCxpKSwobi5wcmVPcmRlckNoZWNrSG9va3N8fChuLnByZU9yZGVyQ2hlY2tIb29rcz1bXSkpLnB1c2godCxpKSl9KG4saVtuXSxlKX1maW5hbGx5e251bGwhPT1sJiZDdChsKSx3bihhKSxvLnJlc29sdmluZz0hMSxYZSgpfX1yZXR1cm4gc31mdW5jdGlvbiBWbih0LGUsbil7cmV0dXJuISEobltlKyh0Pj41KV0mMTw8dCl9ZnVuY3Rpb24gam4odCxlKXtyZXR1cm4hKHQmX3QuU2VsZnx8dCZfdC5Ib3N0JiZlKX1jbGFzcyBObntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX3ROb2RlPXQsdGhpcy5fbFZpZXc9ZX1nZXQodCxlKXtyZXR1cm4gT24odGhpcy5fdE5vZGUsdGhpcy5fbFZpZXcsdCx2b2lkIDAsZSl9fWZ1bmN0aW9uIExuKHQpe3JldHVybiBEdCgoKT0+e2NvbnN0IGU9dC5wcm90b3R5cGUuY29uc3RydWN0b3Isbj1lW0x0XXx8Qm4oZSkscj1PYmplY3QucHJvdG90eXBlO2xldCBzPU9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSkuY29uc3RydWN0b3I7Zm9yKDtzJiZzIT09cjspe2NvbnN0IHQ9c1tMdF18fEJuKHMpO2lmKHQmJnQhPT1uKXJldHVybiB0O3M9T2JqZWN0LmdldFByb3RvdHlwZU9mKHMpfXJldHVybiB0PT5uZXcgdH0pfWZ1bmN0aW9uIEJuKHQpe3JldHVybiBvdCh0KT8oKT0+e2NvbnN0IGU9Qm4oaXQodCkpO3JldHVybiBlJiZlKCl9Om9lKHQpfWNvbnN0IFVuPSJfX3BhcmFtZXRlcnNfXyI7ZnVuY3Rpb24gSG4odCxlLG4pe3JldHVybiBEdCgoKT0+e2NvbnN0IHI9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKC4uLmUpe2lmKHQpe2NvbnN0IG49dCguLi5lKTtmb3IoY29uc3QgdCBpbiBuKXRoaXNbdF09blt0XX19fShlKTtmdW5jdGlvbiBzKC4uLnQpe2lmKHRoaXMgaW5zdGFuY2VvZiBzKXJldHVybiByLmFwcGx5KHRoaXMsdCksdGhpcztjb25zdCBlPW5ldyBzKC4uLnQpO3JldHVybiBuLmFubm90YXRpb249ZSxuO2Z1bmN0aW9uIG4odCxuLHIpe2NvbnN0IHM9dC5oYXNPd25Qcm9wZXJ0eShVbik/dFtVbl06T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsVW4se3ZhbHVlOltdfSlbVW5dO2Zvcig7cy5sZW5ndGg8PXI7KXMucHVzaChudWxsKTtyZXR1cm4oc1tyXT1zW3JdfHxbXSkucHVzaChlKSx0fX1yZXR1cm4gbiYmKHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpKSxzLnByb3RvdHlwZS5uZ01ldGFkYXRhTmFtZT10LHMuYW5ub3RhdGlvbkNscz1zLHN9KX1jbGFzcyAkbntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX2Rlc2M9dCx0aGlzLm5nTWV0YWRhdGFOYW1lPSJJbmplY3Rpb25Ub2tlbiIsdGhpcy5cdTAyNzVwcm92PXZvaWQgMCwibnVtYmVyIj09dHlwZW9mIGU/dGhpcy5fX05HX0VMRU1FTlRfSURfXz1lOnZvaWQgMCE9PWUmJih0aGlzLlx1MDI3NXByb3Y9aHQoe3Rva2VuOnRoaXMscHJvdmlkZWRJbjplLnByb3ZpZGVkSW58fCJyb290IixmYWN0b3J5OmUuZmFjdG9yeX0pKX10b1N0cmluZygpe3JldHVybmBJbmplY3Rpb25Ub2tlbiAke3RoaXMuX2Rlc2N9YH19Y29uc3Qgem49bmV3ICRuKCJBbmFseXplRm9yRW50cnlDb21wb25lbnRzIikscW49RnVuY3Rpb247ZnVuY3Rpb24gV24odCxlKXt2b2lkIDA9PT1lJiYoZT10KTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7bGV0IHI9dFtuXTtBcnJheS5pc0FycmF5KHIpPyhlPT09dCYmKGU9dC5zbGljZSgwLG4pKSxXbihyLGUpKTplIT09dCYmZS5wdXNoKHIpfXJldHVybiBlfWZ1bmN0aW9uIEduKHQsZSl7dC5mb3JFYWNoKHQ9PkFycmF5LmlzQXJyYXkodCk/R24odCxlKTplKHQpKX1mdW5jdGlvbiBabih0LGUsbil7ZT49dC5sZW5ndGg/dC5wdXNoKG4pOnQuc3BsaWNlKGUsMCxuKX1mdW5jdGlvbiBLbih0LGUpe3JldHVybiBlPj10Lmxlbmd0aC0xP3QucG9wKCk6dC5zcGxpY2UoZSwxKVswXX1mdW5jdGlvbiBZbih0LGUpe2NvbnN0IG49W107Zm9yKGxldCByPTA7cjx0O3IrKyluLnB1c2goZSk7cmV0dXJuIG59ZnVuY3Rpb24gUW4odCxlLG4pe2xldCByPUpuKHQsZSk7cmV0dXJuIHI+PTA/dFsxfHJdPW46KHI9fnIsZnVuY3Rpb24odCxlLG4scil7bGV0IHM9dC5sZW5ndGg7aWYocz09ZSl0LnB1c2gobixyKTtlbHNlIGlmKDE9PT1zKXQucHVzaChyLHRbMF0pLHRbMF09bjtlbHNle2ZvcihzLS0sdC5wdXNoKHRbcy0xXSx0W3NdKTtzPmU7KXRbc109dFtzLTJdLHMtLTt0W2VdPW4sdFtlKzFdPXJ9fSh0LHIsZSxuKSkscn1mdW5jdGlvbiBYbih0LGUpe2NvbnN0IG49Sm4odCxlKTtpZihuPj0wKXJldHVybiB0WzF8bl19ZnVuY3Rpb24gSm4odCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2xldCByPTAscz10Lmxlbmd0aD4+MTtmb3IoO3MhPT1yOyl7Y29uc3Qgbj1yKyhzLXI+PjEpLGk9dFtuPDwxXTtpZihlPT09aSlyZXR1cm4gbjw8MTtpPmU/cz1uOnI9bisxfXJldHVybn4oczw8MSl9KHQsZSl9Y29uc3QgdHI9e30sZXI9L1xuL2dtLG5yPSJfX3NvdXJjZSIscnI9Sih7cHJvdmlkZTpTdHJpbmcsdXNlVmFsdWU6Sn0pO2xldCBzcjtmdW5jdGlvbiBpcih0KXtjb25zdCBlPXNyO3JldHVybiBzcj10LGV9ZnVuY3Rpb24gb3IodCxlPV90LkRlZmF1bHQpe2lmKHZvaWQgMD09PXNyKXRocm93IG5ldyBFcnJvcigiaW5qZWN0KCkgbXVzdCBiZSBjYWxsZWQgZnJvbSBhbiBpbmplY3Rpb24gY29udGV4dCIpO3JldHVybiBudWxsPT09c3I/RXQodCx2b2lkIDAsZSk6c3IuZ2V0KHQsZSZfdC5PcHRpb25hbD9udWxsOnZvaWQgMCxlKX1mdW5jdGlvbiBhcih0LGU9X3QuRGVmYXVsdCl7cmV0dXJuKHd0fHxvcikoaXQodCksZSl9ZnVuY3Rpb24gbHIodCl7Y29uc3QgZT1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgcj1pdCh0W25dKTtpZihBcnJheS5pc0FycmF5KHIpKXtpZigwPT09ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJBcmd1bWVudHMgYXJyYXkgbXVzdCBoYXZlIGFyZ3VtZW50cy4iKTtsZXQgdCxuPV90LkRlZmF1bHQ7Zm9yKGxldCBlPTA7ZTxyLmxlbmd0aDtlKyspe2NvbnN0IHM9cltlXSxpPXMuX19OR19ESV9GTEFHX187Im51bWJlciI9PXR5cGVvZiBpPy0xPT09aT90PXMudG9rZW46bnw9aTp0PXN9ZS5wdXNoKGFyKHQsbikpfWVsc2UgZS5wdXNoKGFyKHIpKX1yZXR1cm4gZX1mdW5jdGlvbiB1cih0LGUpe3JldHVybiB0Ll9fTkdfRElfRkxBR19fPWUsdC5wcm90b3R5cGUuX19OR19ESV9GTEFHX189ZSx0fWNvbnN0IGNyPXVyKEhuKCJJbmplY3QiLHQ9Pih7dG9rZW46dH0pKSwtMSksaHI9dXIoSG4oIk9wdGlvbmFsIiksOCksZHI9dXIoSG4oIlNraXBTZWxmIiksNCk7bGV0IHByLGZyO2Z1bmN0aW9uIGdyKHQpe3ZhciBlO3JldHVybihudWxsPT09KGU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT1wciYmKHByPW51bGwsRnQudHJ1c3RlZFR5cGVzKSl0cnl7cHI9RnQudHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSgiYW5ndWxhciIse2NyZWF0ZUhUTUw6dD0+dCxjcmVhdGVTY3JpcHQ6dD0+dCxjcmVhdGVTY3JpcHRVUkw6dD0+dH0pfWNhdGNoKGUpe31yZXR1cm4gcHJ9KCkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNyZWF0ZUhUTUwodCkpfHx0fWZ1bmN0aW9uIG1yKHQpe3ZhciBlO3JldHVybihudWxsPT09KGU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT1mciYmKGZyPW51bGwsRnQudHJ1c3RlZFR5cGVzKSl0cnl7ZnI9RnQudHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeSgiYW5ndWxhciN1bnNhZmUtYnlwYXNzIix7Y3JlYXRlSFRNTDp0PT50LGNyZWF0ZVNjcmlwdDp0PT50LGNyZWF0ZVNjcmlwdFVSTDp0PT50fSl9Y2F0Y2goZSl7fXJldHVybiBmcn0oKSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY3JlYXRlSFRNTCh0KSl8fHR9Y2xhc3MgeXJ7Y29uc3RydWN0b3IodCl7dGhpcy5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5PXR9dG9TdHJpbmcoKXtyZXR1cm5gU2FmZVZhbHVlIG11c3QgdXNlIFtwcm9wZXJ0eV09YmluZGluZzogJHt0aGlzLmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHl9IChzZWUgaHR0cHM6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcylgfX1mdW5jdGlvbiB2cih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHlyP3QuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eTp0fWNsYXNzIGJye2NvbnN0cnVjdG9yKHQpe3RoaXMuaW5lcnREb2N1bWVudEhlbHBlcj10fWdldEluZXJ0Qm9keUVsZW1lbnQodCl7dD0iPGJvZHk+PHJlbW92ZT48L3JlbW92ZT4iK3Q7dHJ5e2NvbnN0IGU9KG5ldyB3aW5kb3cuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZ3IodCksInRleHQvaHRtbCIpLmJvZHk7cmV0dXJuIG51bGw9PT1lP3RoaXMuaW5lcnREb2N1bWVudEhlbHBlci5nZXRJbmVydEJvZHlFbGVtZW50KHQpOihlLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCksZSl9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fX1jbGFzcyBfcntjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLmRlZmF1bHREb2M9dCx0aGlzLmluZXJ0RG9jdW1lbnQ9dGhpcy5kZWZhdWx0RG9jLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgic2FuaXRpemF0aW9uLWluZXJ0IiksbnVsbD09dGhpcy5pbmVydERvY3VtZW50LmJvZHkpe2NvbnN0IHQ9dGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImh0bWwiKTt0aGlzLmluZXJ0RG9jdW1lbnQuYXBwZW5kQ2hpbGQodCk7Y29uc3QgZT10aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYm9keSIpO3QuYXBwZW5kQ2hpbGQoZSl9fWdldEluZXJ0Qm9keUVsZW1lbnQodCl7Y29uc3QgZT10aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTtpZigiY29udGVudCJpbiBlKXJldHVybiBlLmlubmVySFRNTD1ncih0KSxlO2NvbnN0IG49dGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJvZHkiKTtyZXR1cm4gbi5pbm5lckhUTUw9Z3IodCksdGhpcy5kZWZhdWx0RG9jLmRvY3VtZW50TW9kZSYmdGhpcy5zdHJpcEN1c3RvbU5zQXR0cnMobiksbn1zdHJpcEN1c3RvbU5zQXR0cnModCl7Y29uc3QgZT10LmF0dHJpYnV0ZXM7Zm9yKGxldCByPWUubGVuZ3RoLTE7MDxyO3ItLSl7Y29uc3Qgbj1lLml0ZW0ocikubmFtZTsieG1sbnM6bnMxIiE9PW4mJjAhPT1uLmluZGV4T2YoIm5zMToiKXx8dC5yZW1vdmVBdHRyaWJ1dGUobil9bGV0IG49dC5maXJzdENoaWxkO2Zvcig7bjspbi5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiZ0aGlzLnN0cmlwQ3VzdG9tTnNBdHRycyhuKSxuPW4ubmV4dFNpYmxpbmd9fWNvbnN0IHdyPS9eKD86KD86aHR0cHM/fG1haWx0b3xmdHB8dGVsfGZpbGV8c21zKTp8W14mOi8/I10qKD86Wy8/I118JCkpL2dpLENyPS9eZGF0YTooPzppbWFnZVwvKD86Ym1wfGdpZnxqcGVnfGpwZ3xwbmd8dGlmZnx3ZWJwKXx2aWRlb1wvKD86bXBlZ3xtcDR8b2dnfHdlYm0pfGF1ZGlvXC8oPzptcDN8b2dhfG9nZ3xvcHVzKSk7YmFzZTY0LFthLXowLTkrXC9dKz0qJC9pO2Z1bmN0aW9uIEVyKHQpe3JldHVybih0PVN0cmluZyh0KSkubWF0Y2god3IpfHx0Lm1hdGNoKENyKT90OiJ1bnNhZmU6Iit0fWZ1bmN0aW9uIERyKHQpe2NvbnN0IGU9e307Zm9yKGNvbnN0IG4gb2YgdC5zcGxpdCgiLCIpKWVbbl09ITA7cmV0dXJuIGV9ZnVuY3Rpb24gQXIoLi4udCl7Y29uc3QgZT17fTtmb3IoY29uc3QgbiBvZiB0KWZvcihjb25zdCB0IGluIG4pbi5oYXNPd25Qcm9wZXJ0eSh0KSYmKGVbdF09ITApO3JldHVybiBlfWNvbnN0IFNyPURyKCJhcmVhLGJyLGNvbCxocixpbWcsd2JyIikseHI9RHIoImNvbGdyb3VwLGRkLGR0LGxpLHAsdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsdHIiKSxrcj1EcigicnAscnQiKSxUcj1Bcihrcix4ciksT3I9QXIoU3IsQXIoeHIsRHIoImFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxibG9ja3F1b3RlLGNhcHRpb24sY2VudGVyLGRlbCxkZXRhaWxzLGRpYWxvZyxkaXIsZGl2LGRsLGZpZ3VyZSxmaWdjYXB0aW9uLGZvb3RlcixoMSxoMixoMyxoNCxoNSxoNixoZWFkZXIsaGdyb3VwLGhyLGlucyxtYWluLG1hcCxtZW51LG5hdixvbCxwcmUsc2VjdGlvbixzdW1tYXJ5LHRhYmxlLHVsIikpLEFyKGtyLERyKCJhLGFiYnIsYWNyb255bSxhdWRpbyxiLGJkaSxiZG8sYmlnLGJyLGNpdGUsY29kZSxkZWwsZGZuLGVtLGZvbnQsaSxpbWcsaW5zLGtiZCxsYWJlbCxtYXAsbWFyayxwaWN0dXJlLHEscnVieSxycCxydCxzLHNhbXAsc21hbGwsc291cmNlLHNwYW4sc3RyaWtlLHN0cm9uZyxzdWIsc3VwLHRpbWUsdHJhY2ssdHQsdSx2YXIsdmlkZW8iKSksVHIpLEZyPURyKCJiYWNrZ3JvdW5kLGNpdGUsaHJlZixpdGVtdHlwZSxsb25nZGVzYyxwb3N0ZXIsc3JjLHhsaW5rOmhyZWYiKSxQcj1Ecigic3Jjc2V0IiksSXI9QXIoRnIsUHIsRHIoImFiYnIsYWNjZXNza2V5LGFsaWduLGFsdCxhdXRvcGxheSxheGlzLGJnY29sb3IsYm9yZGVyLGNlbGxwYWRkaW5nLGNlbGxzcGFjaW5nLGNsYXNzLGNsZWFyLGNvbG9yLGNvbHMsY29sc3Bhbixjb21wYWN0LGNvbnRyb2xzLGNvb3JkcyxkYXRldGltZSxkZWZhdWx0LGRpcixkb3dubG9hZCxmYWNlLGhlYWRlcnMsaGVpZ2h0LGhpZGRlbixocmVmbGFuZyxoc3BhY2UsaXNtYXAsaXRlbXNjb3BlLGl0ZW1wcm9wLGtpbmQsbGFiZWwsbGFuZyxsYW5ndWFnZSxsb29wLG1lZGlhLG11dGVkLG5vaHJlZixub3dyYXAsb3BlbixwcmVsb2FkLHJlbCxyZXYscm9sZSxyb3dzLHJvd3NwYW4scnVsZXMsc2NvcGUsc2Nyb2xsaW5nLHNoYXBlLHNpemUsc2l6ZXMsc3BhbixzcmNsYW5nLHN0YXJ0LHN1bW1hcnksdGFiaW5kZXgsdGFyZ2V0LHRpdGxlLHRyYW5zbGF0ZSx0eXBlLHVzZW1hcCx2YWxpZ24sdmFsdWUsdnNwYWNlLHdpZHRoIiksRHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCxhcmlhLWF0b21pYyxhcmlhLWF1dG9jb21wbGV0ZSxhcmlhLWJ1c3ksYXJpYS1jaGVja2VkLGFyaWEtY29sY291bnQsYXJpYS1jb2xpbmRleCxhcmlhLWNvbHNwYW4sYXJpYS1jb250cm9scyxhcmlhLWN1cnJlbnQsYXJpYS1kZXNjcmliZWRieSxhcmlhLWRldGFpbHMsYXJpYS1kaXNhYmxlZCxhcmlhLWRyb3BlZmZlY3QsYXJpYS1lcnJvcm1lc3NhZ2UsYXJpYS1leHBhbmRlZCxhcmlhLWZsb3d0byxhcmlhLWdyYWJiZWQsYXJpYS1oYXNwb3B1cCxhcmlhLWhpZGRlbixhcmlhLWludmFsaWQsYXJpYS1rZXlzaG9ydGN1dHMsYXJpYS1sYWJlbCxhcmlhLWxhYmVsbGVkYnksYXJpYS1sZXZlbCxhcmlhLWxpdmUsYXJpYS1tb2RhbCxhcmlhLW11bHRpbGluZSxhcmlhLW11bHRpc2VsZWN0YWJsZSxhcmlhLW9yaWVudGF0aW9uLGFyaWEtb3ducyxhcmlhLXBsYWNlaG9sZGVyLGFyaWEtcG9zaW5zZXQsYXJpYS1wcmVzc2VkLGFyaWEtcmVhZG9ubHksYXJpYS1yZWxldmFudCxhcmlhLXJlcXVpcmVkLGFyaWEtcm9sZWRlc2NyaXB0aW9uLGFyaWEtcm93Y291bnQsYXJpYS1yb3dpbmRleCxhcmlhLXJvd3NwYW4sYXJpYS1zZWxlY3RlZCxhcmlhLXNldHNpemUsYXJpYS1zb3J0LGFyaWEtdmFsdWVtYXgsYXJpYS12YWx1ZW1pbixhcmlhLXZhbHVlbm93LGFyaWEtdmFsdWV0ZXh0IikpLFJyPURyKCJzY3JpcHQsc3R5bGUsdGVtcGxhdGUiKTtjbGFzcyBNcntjb25zdHJ1Y3Rvcigpe3RoaXMuc2FuaXRpemVkU29tZXRoaW5nPSExLHRoaXMuYnVmPVtdfXNhbml0aXplQ2hpbGRyZW4odCl7bGV0IGU9dC5maXJzdENoaWxkLG49ITA7Zm9yKDtlOylpZihlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREU/bj10aGlzLnN0YXJ0RWxlbWVudChlKTplLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU/dGhpcy5jaGFycyhlLm5vZGVWYWx1ZSk6dGhpcy5zYW5pdGl6ZWRTb21ldGhpbmc9ITAsbiYmZS5maXJzdENoaWxkKWU9ZS5maXJzdENoaWxkO2Vsc2UgZm9yKDtlOyl7ZS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiZ0aGlzLmVuZEVsZW1lbnQoZSk7bGV0IHQ9dGhpcy5jaGVja0Nsb2JiZXJlZEVsZW1lbnQoZSxlLm5leHRTaWJsaW5nKTtpZih0KXtlPXQ7YnJlYWt9ZT10aGlzLmNoZWNrQ2xvYmJlcmVkRWxlbWVudChlLGUucGFyZW50Tm9kZSl9cmV0dXJuIHRoaXMuYnVmLmpvaW4oIiIpfXN0YXJ0RWxlbWVudCh0KXtjb25zdCBlPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZighT3IuaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuIHRoaXMuc2FuaXRpemVkU29tZXRoaW5nPSEwLCFSci5oYXNPd25Qcm9wZXJ0eShlKTt0aGlzLmJ1Zi5wdXNoKCI8IiksdGhpcy5idWYucHVzaChlKTtjb25zdCBuPXQuYXR0cmlidXRlcztmb3IobGV0IHM9MDtzPG4ubGVuZ3RoO3MrKyl7Y29uc3QgdD1uLml0ZW0ocyksZT10Lm5hbWUsaT1lLnRvTG93ZXJDYXNlKCk7aWYoIUlyLmhhc093blByb3BlcnR5KGkpKXt0aGlzLnNhbml0aXplZFNvbWV0aGluZz0hMDtjb250aW51ZX1sZXQgbz10LnZhbHVlO0ZyW2ldJiYobz1FcihvKSksUHJbaV0mJihyPW8sbz0ocj1TdHJpbmcocikpLnNwbGl0KCIsIikubWFwKHQ9PkVyKHQudHJpbSgpKSkuam9pbigiLCAiKSksdGhpcy5idWYucHVzaCgiICIsZSwnPSInLE5yKG8pLCciJyl9dmFyIHI7cmV0dXJuIHRoaXMuYnVmLnB1c2goIj4iKSwhMH1lbmRFbGVtZW50KHQpe2NvbnN0IGU9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO09yLmhhc093blByb3BlcnR5KGUpJiYhU3IuaGFzT3duUHJvcGVydHkoZSkmJih0aGlzLmJ1Zi5wdXNoKCI8LyIpLHRoaXMuYnVmLnB1c2goZSksdGhpcy5idWYucHVzaCgiPiIpKX1jaGFycyh0KXt0aGlzLmJ1Zi5wdXNoKE5yKHQpKX1jaGVja0Nsb2JiZXJlZEVsZW1lbnQodCxlKXtpZihlJiYodC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKSZOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSk9PT1Ob2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSl0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzYW5pdGl6ZSBodG1sIGJlY2F1c2UgdGhlIGVsZW1lbnQgaXMgY2xvYmJlcmVkOiAke3Qub3V0ZXJIVE1MfWApO3JldHVybiBlfX1jb25zdCBWcj0vW1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZdL2csanI9LyhbXlwjLX4gfCFdKS9nO2Z1bmN0aW9uIE5yKHQpe3JldHVybiB0LnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKFZyLGZ1bmN0aW9uKHQpe3JldHVybiImIyIrKDEwMjQqKHQuY2hhckNvZGVBdCgwKS01NTI5NikrKHQuY2hhckNvZGVBdCgxKS01NjMyMCkrNjU1MzYpKyI7In0pLnJlcGxhY2UoanIsZnVuY3Rpb24odCl7cmV0dXJuIiYjIit0LmNoYXJDb2RlQXQoMCkrIjsifSkucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCImZ3Q7Iil9bGV0IExyO2Z1bmN0aW9uIEJyKHQpe3JldHVybiJjb250ZW50ImluIHQmJmZ1bmN0aW9uKHQpe3JldHVybiB0Lm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJiJURU1QTEFURSI9PT10Lm5vZGVOYW1lfSh0KT90LmNvbnRlbnQ6bnVsbH12YXIgVXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5OT05FPTBdPSJOT05FIix0W3QuSFRNTD0xXT0iSFRNTCIsdFt0LlNUWUxFPTJdPSJTVFlMRSIsdFt0LlNDUklQVD0zXT0iU0NSSVBUIix0W3QuVVJMPTRdPSJVUkwiLHRbdC5SRVNPVVJDRV9VUkw9NV09IlJFU09VUkNFX1VSTCIsdH0oe30pO2Z1bmN0aW9uIEhyKHQpe2NvbnN0IGU9ZnVuY3Rpb24oKXtjb25zdCB0PVRlKCk7cmV0dXJuIHQmJnRbMTJdfSgpO3JldHVybiBlP21yKGUuc2FuaXRpemUoVXIuSFRNTCx0KXx8IiIpOmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHlyJiZ0LmdldFR5cGVOYW1lKCl8fG51bGx9KHQpO2lmKG51bGwhPW4mJm4hPT1lKXtpZigiUmVzb3VyY2VVUkwiPT09biYmIlVSTCI9PT1lKXJldHVybiEwO3Rocm93IG5ldyBFcnJvcihgUmVxdWlyZWQgYSBzYWZlICR7ZX0sIGdvdCBhICR7bn0gKHNlZSBodHRwczovL2cuY28vbmcvc2VjdXJpdHkjeHNzKWApfXJldHVybiBuPT09ZX0odCwiSFRNTCIpP21yKHZyKHQpKTpmdW5jdGlvbih0LGUpe2xldCBuPW51bGw7dHJ5e0xyPUxyfHxmdW5jdGlvbih0KXtjb25zdCBlPW5ldyBfcih0KTtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7cmV0dXJuISEobmV3IHdpbmRvdy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhncigiIiksInRleHQvaHRtbCIpfWNhdGNoKHQpe3JldHVybiExfX0oKT9uZXcgYnIoZSk6ZX0odCk7bGV0IHI9ZT9TdHJpbmcoZSk6IiI7bj1Mci5nZXRJbmVydEJvZHlFbGVtZW50KHIpO2xldCBzPTUsaT1yO2Rve2lmKDA9PT1zKXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIHNhbml0aXplIGh0bWwgYmVjYXVzZSB0aGUgaW5wdXQgaXMgdW5zdGFibGUiKTtzLS0scj1pLGk9bi5pbm5lckhUTUwsbj1Mci5nZXRJbmVydEJvZHlFbGVtZW50KHIpfXdoaWxlKHIhPT1pKTtyZXR1cm4gZ3IoKG5ldyBNcikuc2FuaXRpemVDaGlsZHJlbihCcihuKXx8bikpfWZpbmFsbHl7aWYobil7Y29uc3QgdD1CcihuKXx8bjtmb3IoO3QuZmlyc3RDaGlsZDspdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpfX19KGZlKCksbHQodCkpfWZ1bmN0aW9uICRyKHQsZSl7dC5fX25nQ29udGV4dF9fPWV9ZnVuY3Rpb24genIodCl7Y29uc3QgZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5fX25nQ29udGV4dF9ffHxudWxsfSh0KTtyZXR1cm4gZT9BcnJheS5pc0FycmF5KGUpP2U6ZS5sVmlldzpudWxsfWZ1bmN0aW9uIHFyKHQpe3JldHVybiB0Lm5nRGVidWdDb250ZXh0fWZ1bmN0aW9uIFdyKHQpe3JldHVybiB0Lm5nT3JpZ2luYWxFcnJvcn1mdW5jdGlvbiBHcih0LC4uLmUpe3QuZXJyb3IoLi4uZSl9Y2xhc3MgWnJ7Y29uc3RydWN0b3IoKXt0aGlzLl9jb25zb2xlPWNvbnNvbGV9aGFuZGxlRXJyb3IodCl7Y29uc3QgZT10aGlzLl9maW5kT3JpZ2luYWxFcnJvcih0KSxuPXRoaXMuX2ZpbmRDb250ZXh0KHQpLHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQubmdFcnJvckxvZ2dlcnx8R3J9KHQpO3IodGhpcy5fY29uc29sZSwiRVJST1IiLHQpLGUmJnIodGhpcy5fY29uc29sZSwiT1JJR0lOQUwgRVJST1IiLGUpLG4mJnIodGhpcy5fY29uc29sZSwiRVJST1IgQ09OVEVYVCIsbil9X2ZpbmRDb250ZXh0KHQpe3JldHVybiB0P3FyKHQpP3FyKHQpOnRoaXMuX2ZpbmRDb250ZXh0KFdyKHQpKTpudWxsfV9maW5kT3JpZ2luYWxFcnJvcih0KXtsZXQgZT1Xcih0KTtmb3IoO2UmJldyKGUpOyllPVdyKGUpO3JldHVybiBlfX1jb25zdCBLcj0oKCk9PigidW5kZWZpbmVkIiE9dHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSYmcmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxzZXRUaW1lb3V0KS5iaW5kKEZ0KSkoKTtmdW5jdGlvbiBZcih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEZ1bmN0aW9uP3QoKTp0fXZhciBRcj1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkltcG9ydGFudD0xXT0iSW1wb3J0YW50Iix0W3QuRGFzaENhc2U9Ml09IkRhc2hDYXNlIix0fSh7fSk7ZnVuY3Rpb24gWHIodCxlKXtyZXR1cm4odm9pZCAwKSh0LGUpfWZ1bmN0aW9uIEpyKHQpe2NvbnN0IGU9dFszXTtyZXR1cm4gZWUoZSk/ZVszXTplfWZ1bmN0aW9uIHRzKHQpe3JldHVybiBucyh0WzEzXSl9ZnVuY3Rpb24gZXModCl7cmV0dXJuIG5zKHRbNF0pfWZ1bmN0aW9uIG5zKHQpe2Zvcig7bnVsbCE9PXQmJiFlZSh0KTspdD10WzRdO3JldHVybiB0fWZ1bmN0aW9uIHJzKHQsZSxuLHIscyl7aWYobnVsbCE9cil7bGV0IGksbz0hMTtlZShyKT9pPXI6dGUocikmJihvPSEwLHI9clswXSk7Y29uc3QgYT15ZShyKTswPT09dCYmbnVsbCE9PW4/bnVsbD09cz9ocyhlLG4sYSk6Y3MoZSxuLGEsc3x8bnVsbCwhMCk6MT09PXQmJm51bGwhPT1uP2NzKGUsbixhLHN8fG51bGwsITApOjI9PT10P2Z1bmN0aW9uKHQsZSxuKXtjb25zdCByPXBzKHQsZSk7ciYmZnVuY3Rpb24odCxlLG4scil7Z2UodCk/dC5yZW1vdmVDaGlsZChlLG4scik6ZS5yZW1vdmVDaGlsZChuKX0odCxyLGUsbil9KGUsYSxvKTozPT09dCYmZS5kZXN0cm95Tm9kZShhKSxudWxsIT1pJiZmdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9bls3XTtpIT09eWUobikmJnJzKGUsdCxyLGkscyk7Zm9yKGxldCBvPUp0O288bi5sZW5ndGg7bysrKXtjb25zdCBzPW5bb107d3Moc1sxXSxzLHQsZSxyLGkpfX0oZSx0LGksbixzKX19ZnVuY3Rpb24gc3ModCxlLG4pe3JldHVybiBnZSh0KT90LmNyZWF0ZUVsZW1lbnQoZSxuKTpudWxsPT09bj90LmNyZWF0ZUVsZW1lbnQoZSk6dC5jcmVhdGVFbGVtZW50TlMobixlKX1mdW5jdGlvbiBpcyh0LGUpe2NvbnN0IG49dFs5XSxyPW4uaW5kZXhPZihlKSxzPWVbM107MTAyNCZlWzJdJiYoZVsyXSY9LTEwMjUsU2UocywtMSkpLG4uc3BsaWNlKHIsMSl9ZnVuY3Rpb24gb3ModCxlKXtpZih0Lmxlbmd0aDw9SnQpcmV0dXJuO2NvbnN0IG49SnQrZSxyPXRbbl07aWYocil7Y29uc3QgaT1yWzE3XTtudWxsIT09aSYmaSE9PXQmJmlzKGksciksZT4wJiYodFtuLTFdWzRdPXJbNF0pO2NvbnN0IG89S24odCxKdCtlKTt3cyhyWzFdLHM9cixzWzExXSwyLG51bGwsbnVsbCksc1swXT1udWxsLHNbNl09bnVsbDtjb25zdCBhPW9bMTldO251bGwhPT1hJiZhLmRldGFjaFZpZXcob1sxXSksclszXT1udWxsLHJbNF09bnVsbCxyWzJdJj0tMTI5fXZhciBzO3JldHVybiByfWZ1bmN0aW9uIGFzKHQsZSl7aWYoISgyNTYmZVsyXSkpe2NvbnN0IG49ZVsxMV07Z2UobikmJm4uZGVzdHJveU5vZGUmJndzKHQsZSxuLDMsbnVsbCxudWxsKSxmdW5jdGlvbih0KXtsZXQgZT10WzEzXTtpZighZSlyZXR1cm4gbHModFsxXSx0KTtmb3IoO2U7KXtsZXQgbj1udWxsO2lmKHRlKGUpKW49ZVsxM107ZWxzZXtjb25zdCB0PWVbMTBdO3QmJihuPXQpfWlmKCFuKXtmb3IoO2UmJiFlWzRdJiZlIT09dDspdGUoZSkmJmxzKGVbMV0sZSksZT1lWzNdO251bGw9PT1lJiYoZT10KSx0ZShlKSYmbHMoZVsxXSxlKSxuPWUmJmVbNF19ZT1ufX0oZSl9fWZ1bmN0aW9uIGxzKHQsZSl7aWYoISgyNTYmZVsyXSkpe2VbMl0mPS0xMjksZVsyXXw9MjU2LGZ1bmN0aW9uKHQsZSl7bGV0IG47aWYobnVsbCE9dCYmbnVsbCE9KG49dC5kZXN0cm95SG9va3MpKWZvcihsZXQgcj0wO3I8bi5sZW5ndGg7cis9Mil7Y29uc3QgdD1lW25bcl1dO2lmKCEodCBpbnN0YW5jZW9mIGhuKSl7Y29uc3QgZT1uW3IrMV07aWYoQXJyYXkuaXNBcnJheShlKSlmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rPTIpe2NvbnN0IHI9dFtlW25dXSxzPWVbbisxXTt0cnl7cy5jYWxsKHIpfWZpbmFsbHl7fX1lbHNlIHRyeXtlLmNhbGwodCl9ZmluYWxseXt9fX19KHQsZSksZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuY2xlYW51cCxyPWVbN107bGV0IHM9LTE7aWYobnVsbCE9PW4pZm9yKGxldCBpPTA7aTxuLmxlbmd0aC0xO2krPTIpaWYoInN0cmluZyI9PXR5cGVvZiBuW2ldKXtjb25zdCB0PW5baSsxXSxvPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3QoZSk6eWUoZVt0XSksYT1yW3M9bltpKzJdXSxsPW5baSszXTsiYm9vbGVhbiI9PXR5cGVvZiBsP28ucmVtb3ZlRXZlbnRMaXN0ZW5lcihuW2ldLGEsbCk6bD49MD9yW3M9bF0oKTpyW3M9LWxdLnVuc3Vic2NyaWJlKCksaSs9Mn1lbHNle2NvbnN0IHQ9cltzPW5baSsxXV07bltpXS5jYWxsKHQpfWlmKG51bGwhPT1yKXtmb3IobGV0IHQ9cysxO3Q8ci5sZW5ndGg7dCsrKSgwLHJbdF0pKCk7ZVs3XT1udWxsfX0odCxlKSwxPT09ZVsxXS50eXBlJiZnZShlWzExXSkmJmVbMTFdLmRlc3Ryb3koKTtjb25zdCBuPWVbMTddO2lmKG51bGwhPT1uJiZlZShlWzNdKSl7biE9PWVbM10mJmlzKG4sZSk7Y29uc3Qgcj1lWzE5XTtudWxsIT09ciYmci5kZXRhY2hWaWV3KHQpfX19ZnVuY3Rpb24gdXModCxlLG4pe3JldHVybiBmdW5jdGlvbih0LGUsbil7bGV0IHI9ZTtmb3IoO251bGwhPT1yJiY0MCZyLnR5cGU7KXI9KGU9cikucGFyZW50O2lmKG51bGw9PT1yKXJldHVybiBuWzBdO2lmKDImci5mbGFncyl7Y29uc3QgZT10LmRhdGFbci5kaXJlY3RpdmVTdGFydF0uZW5jYXBzdWxhdGlvbjtpZihlPT09U3QuTm9uZXx8ZT09PVN0LkVtdWxhdGVkKXJldHVybiBudWxsfXJldHVybiBiZShyLG4pfSh0LGUucGFyZW50LG4pfWZ1bmN0aW9uIGNzKHQsZSxuLHIscyl7Z2UodCk/dC5pbnNlcnRCZWZvcmUoZSxuLHIscyk6ZS5pbnNlcnRCZWZvcmUobixyLHMpfWZ1bmN0aW9uIGhzKHQsZSxuKXtnZSh0KT90LmFwcGVuZENoaWxkKGUsbik6ZS5hcHBlbmRDaGlsZChuKX1mdW5jdGlvbiBkcyh0LGUsbixyLHMpe251bGwhPT1yP2NzKHQsZSxuLHIscyk6aHModCxlLG4pfWZ1bmN0aW9uIHBzKHQsZSl7cmV0dXJuIGdlKHQpP3QucGFyZW50Tm9kZShlKTplLnBhcmVudE5vZGV9ZnVuY3Rpb24gZnModCxlLG4pe3JldHVybiBncyh0LGUsbil9bGV0IGdzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gNDAmdC50eXBlP2JlKHQsbik6bnVsbH07ZnVuY3Rpb24gbXModCxlLG4scil7Y29uc3Qgcz11cyh0LHIsZSksaT1lWzExXSxvPWZzKHIucGFyZW50fHxlWzZdLHIsZSk7aWYobnVsbCE9cylpZihBcnJheS5pc0FycmF5KG4pKWZvcihsZXQgYT0wO2E8bi5sZW5ndGg7YSsrKWRzKGkscyxuW2FdLG8sITEpO2Vsc2UgZHMoaSxzLG4sbywhMSl9ZnVuY3Rpb24geXModCxlKXtpZihudWxsIT09ZSl7Y29uc3Qgbj1lLnR5cGU7aWYoMyZuKXJldHVybiBiZShlLHQpO2lmKDQmbilyZXR1cm4gYnMoLTEsdFtlLmluZGV4XSk7aWYoOCZuKXtjb25zdCBuPWUuY2hpbGQ7aWYobnVsbCE9PW4pcmV0dXJuIHlzKHQsbik7e2NvbnN0IG49dFtlLmluZGV4XTtyZXR1cm4gZWUobik/YnMoLTEsbik6eWUobil9fWlmKDMyJm4pcmV0dXJuIFhyKGUsdCkoKXx8eWUodFtlLmluZGV4XSk7e2NvbnN0IG49dnModCxlKTtyZXR1cm4gbnVsbCE9PW4/QXJyYXkuaXNBcnJheShuKT9uWzBdOnlzKEpyKHRbMTZdKSxuKTp5cyh0LGUubmV4dCl9fXJldHVybiBudWxsfWZ1bmN0aW9uIHZzKHQsZSl7cmV0dXJuIG51bGwhPT1lP3RbMTZdWzZdLnByb2plY3Rpb25bZS5wcm9qZWN0aW9uXTpudWxsfWZ1bmN0aW9uIGJzKHQsZSl7Y29uc3Qgbj1KdCt0KzE7aWYobjxlLmxlbmd0aCl7Y29uc3QgdD1lW25dLHI9dFsxXS5maXJzdENoaWxkO2lmKG51bGwhPT1yKXJldHVybiB5cyh0LHIpfXJldHVybiBlWzddfWZ1bmN0aW9uIF9zKHQsZSxuLHIscyxpLG8pe2Zvcig7bnVsbCE9bjspe2NvbnN0IGE9cltuLmluZGV4XSxsPW4udHlwZTtpZihvJiYwPT09ZSYmKGEmJiRyKHllKGEpLHIpLG4uZmxhZ3N8PTQpLDY0IT0oNjQmbi5mbGFncykpaWYoOCZsKV9zKHQsZSxuLmNoaWxkLHIscyxpLCExKSxycyhlLHQscyxhLGkpO2Vsc2UgaWYoMzImbCl7Y29uc3Qgbz1YcihuLHIpO2xldCBsO2Zvcig7bD1vKCk7KXJzKGUsdCxzLGwsaSk7cnMoZSx0LHMsYSxpKX1lbHNlIDE2Jmw/Q3ModCxlLHIsbixzLGkpOnJzKGUsdCxzLGEsaSk7bj1vP24ucHJvamVjdGlvbk5leHQ6bi5uZXh0fX1mdW5jdGlvbiB3cyh0LGUsbixyLHMsaSl7X3MobixyLHQuZmlyc3RDaGlsZCxlLHMsaSwhMSl9ZnVuY3Rpb24gQ3ModCxlLG4scixzLGkpe2NvbnN0IG89blsxNl0sYT1vWzZdLnByb2plY3Rpb25bci5wcm9qZWN0aW9uXTtpZihBcnJheS5pc0FycmF5KGEpKWZvcihsZXQgbD0wO2w8YS5sZW5ndGg7bCsrKXJzKGUsdCxzLGFbbF0saSk7ZWxzZSBfcyh0LGUsYSxvWzNdLHMsaSwhMCl9ZnVuY3Rpb24gRXModCxlLG4pe2dlKHQpP3Quc2V0QXR0cmlidXRlKGUsInN0eWxlIixuKTplLnN0eWxlLmNzc1RleHQ9bn1mdW5jdGlvbiBEcyh0LGUsbil7Z2UodCk/IiI9PT1uP3QucmVtb3ZlQXR0cmlidXRlKGUsImNsYXNzIik6dC5zZXRBdHRyaWJ1dGUoZSwiY2xhc3MiLG4pOmUuY2xhc3NOYW1lPW59ZnVuY3Rpb24gQXModCxlLG4pe2xldCByPXQubGVuZ3RoO2Zvcig7Oyl7Y29uc3Qgcz10LmluZGV4T2YoZSxuKTtpZigtMT09PXMpcmV0dXJuIHM7aWYoMD09PXN8fHQuY2hhckNvZGVBdChzLTEpPD0zMil7Y29uc3Qgbj1lLmxlbmd0aDtpZihzK249PT1yfHx0LmNoYXJDb2RlQXQocytuKTw9MzIpcmV0dXJuIHN9bj1zKzF9fWNvbnN0IFNzPSJuZy10ZW1wbGF0ZSI7ZnVuY3Rpb24geHModCxlLG4pe2xldCByPTA7Zm9yKDtyPHQubGVuZ3RoOyl7bGV0IHM9dFtyKytdO2lmKG4mJiJjbGFzcyI9PT1zKXtpZihzPXRbcl0sLTEhPT1BcyhzLnRvTG93ZXJDYXNlKCksZSwwKSlyZXR1cm4hMH1lbHNlIGlmKDE9PT1zKXtmb3IoO3I8dC5sZW5ndGgmJiJzdHJpbmciPT10eXBlb2Yocz10W3IrK10pOylpZihzLnRvTG93ZXJDYXNlKCk9PT1lKXJldHVybiEwO3JldHVybiExfX1yZXR1cm4hMX1mdW5jdGlvbiBrcyh0KXtyZXR1cm4gND09PXQudHlwZSYmdC52YWx1ZSE9PVNzfWZ1bmN0aW9uIFRzKHQsZSxuKXtyZXR1cm4gZT09PSg0IT09dC50eXBlfHxuP3QudmFsdWU6U3MpfWZ1bmN0aW9uIE9zKHQsZSxuKXtsZXQgcj00O2NvbnN0IHM9dC5hdHRyc3x8W10saT1mdW5jdGlvbih0KXtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpZihwbih0W2VdKSlyZXR1cm4gZTtyZXR1cm4gdC5sZW5ndGh9KHMpO2xldCBvPSExO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKXtjb25zdCBsPWVbYV07aWYoIm51bWJlciIhPXR5cGVvZiBsKXtpZighbylpZig0JnIpe2lmKHI9MnwxJnIsIiIhPT1sJiYhVHModCxsLG4pfHwiIj09PWwmJjE9PT1lLmxlbmd0aCl7aWYoRnMocikpcmV0dXJuITE7bz0hMH19ZWxzZXtjb25zdCB1PTgmcj9sOmVbKythXTtpZig4JnImJm51bGwhPT10LmF0dHJzKXtpZigheHModC5hdHRycyx1LG4pKXtpZihGcyhyKSlyZXR1cm4hMTtvPSEwfWNvbnRpbnVlfWNvbnN0IGM9UHMoOCZyPyJjbGFzcyI6bCxzLGtzKHQpLG4pO2lmKC0xPT09Yyl7aWYoRnMocikpcmV0dXJuITE7bz0hMDtjb250aW51ZX1pZigiIiE9PXUpe2xldCB0O3Q9Yz5pPyIiOnNbYysxXS50b0xvd2VyQ2FzZSgpO2NvbnN0IGU9OCZyP3Q6bnVsbDtpZihlJiYtMSE9PUFzKGUsdSwwKXx8MiZyJiZ1IT09dCl7aWYoRnMocikpcmV0dXJuITE7bz0hMH19fX1lbHNle2lmKCFvJiYhRnMocikmJiFGcyhsKSlyZXR1cm4hMTtpZihvJiZGcyhsKSljb250aW51ZTtvPSExLHI9bHwxJnJ9fXJldHVybiBGcyhyKXx8b31mdW5jdGlvbiBGcyh0KXtyZXR1cm4gMD09KDEmdCl9ZnVuY3Rpb24gUHModCxlLG4scil7aWYobnVsbD09PWUpcmV0dXJuLTE7bGV0IHM9MDtpZihyfHwhbil7bGV0IG49ITE7Zm9yKDtzPGUubGVuZ3RoOyl7Y29uc3Qgcj1lW3NdO2lmKHI9PT10KXJldHVybiBzO2lmKDM9PT1yfHw2PT09ciluPSEwO2Vsc2V7aWYoMT09PXJ8fDI9PT1yKXtsZXQgdD1lWysrc107Zm9yKDsic3RyaW5nIj09dHlwZW9mIHQ7KXQ9ZVsrK3NdO2NvbnRpbnVlfWlmKDQ9PT1yKWJyZWFrO2lmKDA9PT1yKXtzKz00O2NvbnRpbnVlfX1zKz1uPzE6Mn1yZXR1cm4tMX1yZXR1cm4gZnVuY3Rpb24odCxlKXtsZXQgbj10LmluZGV4T2YoNCk7aWYobj4tMSlmb3IobisrO248dC5sZW5ndGg7KXtjb25zdCByPXRbbl07aWYoIm51bWJlciI9PXR5cGVvZiByKXJldHVybi0xO2lmKHI9PT1lKXJldHVybiBuO24rK31yZXR1cm4tMX0oZSx0KX1mdW5jdGlvbiBJcyh0LGUsbj0hMSl7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYoT3ModCxlW3JdLG4pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFJzKHQsZSl7dDpmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3Qgcj1lW25dO2lmKHQubGVuZ3RoPT09ci5sZW5ndGgpe2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV0hPT1yW2VdKWNvbnRpbnVlIHQ7cmV0dXJuITB9fXJldHVybiExfWZ1bmN0aW9uIE1zKHQsZSl7cmV0dXJuIHQ/Ijpub3QoIitlLnRyaW0oKSsiKSI6ZX1mdW5jdGlvbiBWcyh0KXtsZXQgZT10WzBdLG49MSxyPTIscz0iIixpPSExO2Zvcig7bjx0Lmxlbmd0aDspe2xldCBvPXRbbl07aWYoInN0cmluZyI9PXR5cGVvZiBvKWlmKDImcil7Y29uc3QgZT10Wysrbl07cys9IlsiK28rKGUubGVuZ3RoPjA/Jz0iJytlKyciJzoiIikrIl0ifWVsc2UgOCZyP3MrPSIuIitvOjQmciYmKHMrPSIgIitvKTtlbHNlIiI9PT1zfHxGcyhvKXx8KGUrPU1zKGkscykscz0iIikscj1vLGk9aXx8IUZzKHIpO24rK31yZXR1cm4iIiE9PXMmJihlKz1NcyhpLHMpKSxlfWNvbnN0IGpzPXt9O2Z1bmN0aW9uIE5zKHQpe0xzKE9lKCksVGUoKSx0bigpK3QsamUoKSl9ZnVuY3Rpb24gTHModCxlLG4scil7aWYoIXIpaWYoMz09KDMmZVsyXSkpe2NvbnN0IHI9dC5wcmVPcmRlckNoZWNrSG9va3M7bnVsbCE9PXImJnNuKGUscixuKX1lbHNle2NvbnN0IHI9dC5wcmVPcmRlckhvb2tzO251bGwhPT1yJiZvbihlLHIsMCxuKX1lbihuKX1mdW5jdGlvbiBCcyh0LGUpe3JldHVybiB0PDwxN3xlPDwyfWZ1bmN0aW9uIFVzKHQpe3JldHVybiB0Pj4xNyYzMjc2N31mdW5jdGlvbiBIcyh0KXtyZXR1cm4gMnx0fWZ1bmN0aW9uICRzKHQpe3JldHVybigxMzEwNjgmdCk+PjJ9ZnVuY3Rpb24genModCxlKXtyZXR1cm4tMTMxMDY5JnR8ZTw8Mn1mdW5jdGlvbiBxcyh0KXtyZXR1cm4gMXx0fWZ1bmN0aW9uIFdzKHQsZSl7Y29uc3Qgbj10LmNvbnRlbnRRdWVyaWVzO2lmKG51bGwhPT1uKWZvcihsZXQgcj0wO3I8bi5sZW5ndGg7cis9Mil7Y29uc3Qgcz1uW3JdLGk9bltyKzFdO2lmKC0xIT09aSl7Y29uc3Qgbj10LmRhdGFbaV07cWUocyksbi5jb250ZW50UXVlcmllcygyLGVbaV0saSl9fX1mdW5jdGlvbiBHcyh0LGUsbixyLHMsaSxvLGEsbCx1KXtjb25zdCBjPWUuYmx1ZXByaW50LnNsaWNlKCk7cmV0dXJuIGNbMF09cyxjWzJdPTE0MHxyLEFlKGMpLGNbM109Y1sxNV09dCxjWzhdPW4sY1sxMF09b3x8dCYmdFsxMF0sY1sxMV09YXx8dCYmdFsxMV0sY1sxMl09bHx8dCYmdFsxMl18fG51bGwsY1s5XT11fHx0JiZ0WzldfHxudWxsLGNbNl09aSxjWzE2XT0yPT1lLnR5cGU/dFsxNl06YyxjfWZ1bmN0aW9uIFpzKHQsZSxuLHIscyl7bGV0IGk9dC5kYXRhW2VdO2lmKG51bGw9PT1pKWk9ZnVuY3Rpb24odCxlLG4scixzKXtjb25zdCBpPUllKCksbz1NZSgpLGE9dC5kYXRhW2VdPWZ1bmN0aW9uKHQsZSxuLHIscyxpKXtyZXR1cm57dHlwZTpuLGluZGV4OnIsaW5zZXJ0QmVmb3JlSW5kZXg6bnVsbCxpbmplY3RvckluZGV4OmU/ZS5pbmplY3RvckluZGV4Oi0xLGRpcmVjdGl2ZVN0YXJ0Oi0xLGRpcmVjdGl2ZUVuZDotMSxkaXJlY3RpdmVTdHlsaW5nTGFzdDotMSxwcm9wZXJ0eUJpbmRpbmdzOm51bGwsZmxhZ3M6MCxwcm92aWRlckluZGV4ZXM6MCx2YWx1ZTpzLGF0dHJzOmksbWVyZ2VkQXR0cnM6bnVsbCxsb2NhbE5hbWVzOm51bGwsaW5pdGlhbElucHV0czp2b2lkIDAsaW5wdXRzOm51bGwsb3V0cHV0czpudWxsLHRWaWV3czpudWxsLG5leHQ6bnVsbCxwcm9qZWN0aW9uTmV4dDpudWxsLGNoaWxkOm51bGwscGFyZW50OmUscHJvamVjdGlvbjpudWxsLHN0eWxlczpudWxsLHN0eWxlc1dpdGhvdXRIb3N0Om51bGwscmVzaWR1YWxTdHlsZXM6dm9pZCAwLGNsYXNzZXM6bnVsbCxjbGFzc2VzV2l0aG91dEhvc3Q6bnVsbCxyZXNpZHVhbENsYXNzZXM6dm9pZCAwLGNsYXNzQmluZGluZ3M6MCxzdHlsZUJpbmRpbmdzOjB9fSgwLG8/aTppJiZpLnBhcmVudCxuLGUscixzKTtyZXR1cm4gbnVsbD09PXQuZmlyc3RDaGlsZCYmKHQuZmlyc3RDaGlsZD1hKSxudWxsIT09aSYmKG8/bnVsbD09aS5jaGlsZCYmbnVsbCE9PWEucGFyZW50JiYoaS5jaGlsZD1hKTpudWxsPT09aS5uZXh0JiYoaS5uZXh0PWEpKSxhfSh0LGUsbixyLHMpLHhlLmxGcmFtZS5pbkkxOG4mJihpLmZsYWdzfD02NCk7ZWxzZSBpZig2NCZpLnR5cGUpe2kudHlwZT1uLGkudmFsdWU9cixpLmF0dHJzPXM7Y29uc3QgdD1mdW5jdGlvbigpe2NvbnN0IHQ9eGUubEZyYW1lLGU9dC5jdXJyZW50VE5vZGU7cmV0dXJuIHQuaXNQYXJlbnQ/ZTplLnBhcmVudH0oKTtpLmluamVjdG9ySW5kZXg9bnVsbD09PXQ/LTE6dC5pbmplY3RvckluZGV4fXJldHVybiBSZShpLCEwKSxpfWZ1bmN0aW9uIEtzKHQsZSxuLHIpe2lmKDA9PT1uKXJldHVybi0xO2NvbnN0IHM9ZS5sZW5ndGg7Zm9yKGxldCBpPTA7aTxuO2krKyllLnB1c2gociksdC5ibHVlcHJpbnQucHVzaChyKSx0LmRhdGEucHVzaChudWxsKTtyZXR1cm4gc31mdW5jdGlvbiBZcyh0LGUsbil7WmUoZSk7dHJ5e2NvbnN0IHI9dC52aWV3UXVlcnk7bnVsbCE9PXImJkFpKDEscixuKTtjb25zdCBzPXQudGVtcGxhdGU7bnVsbCE9PXMmJkpzKHQsZSxzLDEsbiksdC5maXJzdENyZWF0ZVBhc3MmJih0LmZpcnN0Q3JlYXRlUGFzcz0hMSksdC5zdGF0aWNDb250ZW50UXVlcmllcyYmV3ModCxlKSx0LnN0YXRpY1ZpZXdRdWVyaWVzJiZBaSgyLHQudmlld1F1ZXJ5LG4pO2NvbnN0IGk9dC5jb21wb25lbnRzO251bGwhPT1pJiZmdW5jdGlvbih0LGUpe2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKV9pKHQsZVtuXSl9KGUsaSl9Y2F0Y2gocil7dGhyb3cgdC5maXJzdENyZWF0ZVBhc3MmJih0LmluY29tcGxldGVGaXJzdFBhc3M9ITApLHJ9ZmluYWxseXtlWzJdJj0tNSxKZSgpfX1mdW5jdGlvbiBRcyh0LGUsbixyKXtjb25zdCBzPWVbMl07aWYoMjU2PT0oMjU2JnMpKXJldHVybjtaZShlKTtjb25zdCBpPWplKCk7dHJ5e0FlKGUpLHhlLmxGcmFtZS5iaW5kaW5nSW5kZXg9dC5iaW5kaW5nU3RhcnRJbmRleCxudWxsIT09biYmSnModCxlLG4sMixyKTtjb25zdCBvPTM9PSgzJnMpO2lmKCFpKWlmKG8pe2NvbnN0IG49dC5wcmVPcmRlckNoZWNrSG9va3M7bnVsbCE9PW4mJnNuKGUsbixudWxsKX1lbHNle2NvbnN0IG49dC5wcmVPcmRlckhvb2tzO251bGwhPT1uJiZvbihlLG4sMCxudWxsKSxhbihlLDApfWlmKGZ1bmN0aW9uKHQpe2ZvcihsZXQgZT10cyh0KTtudWxsIT09ZTtlPWVzKGUpKXtpZighZVsyXSljb250aW51ZTtjb25zdCB0PWVbOV07Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IG49dFtlXSxyPW5bM107MD09KDEwMjQmblsyXSkmJlNlKHIsMSksblsyXXw9MTAyNH19fShlKSxmdW5jdGlvbih0KXtmb3IobGV0IGU9dHModCk7bnVsbCE9PWU7ZT1lcyhlKSlmb3IobGV0IHQ9SnQ7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG49ZVt0XSxyPW5bMV07RWUobikmJlFzKHIsbixyLnRlbXBsYXRlLG5bOF0pfX0oZSksbnVsbCE9PXQuY29udGVudFF1ZXJpZXMmJldzKHQsZSksIWkpaWYobyl7Y29uc3Qgbj10LmNvbnRlbnRDaGVja0hvb2tzO251bGwhPT1uJiZzbihlLG4pfWVsc2V7Y29uc3Qgbj10LmNvbnRlbnRIb29rcztudWxsIT09biYmb24oZSxuLDEpLGFuKGUsMSl9IWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10Lmhvc3RCaW5kaW5nT3BDb2RlcztpZihudWxsIT09bil0cnl7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IHI9blt0XTtpZihyPDApZW4ofnIpO2Vsc2V7Y29uc3Qgcz1yLGk9blsrK3RdLG89blsrK3RdO0hlKGkscyksbygyLGVbc10pfX19ZmluYWxseXtlbigtMSl9fSh0LGUpO2NvbnN0IGE9dC5jb21wb25lbnRzO251bGwhPT1hJiZmdW5jdGlvbih0LGUpe2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXZpKHQsZVtuXSl9KGUsYSk7Y29uc3QgbD10LnZpZXdRdWVyeTtpZihudWxsIT09bCYmQWkoMixsLHIpLCFpKWlmKG8pe2NvbnN0IG49dC52aWV3Q2hlY2tIb29rcztudWxsIT09biYmc24oZSxuKX1lbHNle2NvbnN0IG49dC52aWV3SG9va3M7bnVsbCE9PW4mJm9uKGUsbiwyKSxhbihlLDIpfSEwPT09dC5maXJzdFVwZGF0ZVBhc3MmJih0LmZpcnN0VXBkYXRlUGFzcz0hMSksaXx8KGVbMl0mPS03MyksMTAyNCZlWzJdJiYoZVsyXSY9LTEwMjUsU2UoZVszXSwtMSkpfWZpbmFsbHl7SmUoKX19ZnVuY3Rpb24gWHModCxlLG4scil7Y29uc3Qgcz1lWzEwXSxpPSFqZSgpLG89Q2UoZSk7dHJ5e2kmJiFvJiZzLmJlZ2luJiZzLmJlZ2luKCksbyYmWXModCxlLHIpLFFzKHQsZSxuLHIpfWZpbmFsbHl7aSYmIW8mJnMuZW5kJiZzLmVuZCgpfX1mdW5jdGlvbiBKcyh0LGUsbixyLHMpe2NvbnN0IGk9dG4oKSxvPTImcjt0cnl7ZW4oLTEpLG8mJmUubGVuZ3RoPlh0JiZMcyh0LGUsWHQsamUoKSksbihyLHMpfWZpbmFsbHl7ZW4oaSl9fWZ1bmN0aW9uIHRpKHQsZSxuKXtpZihuZShlKSl7Y29uc3Qgcj1lLmRpcmVjdGl2ZUVuZDtmb3IobGV0IHM9ZS5kaXJlY3RpdmVTdGFydDtzPHI7cysrKXtjb25zdCBlPXQuZGF0YVtzXTtlLmNvbnRlbnRRdWVyaWVzJiZlLmNvbnRlbnRRdWVyaWVzKDEsbltzXSxzKX19fWZ1bmN0aW9uIGVpKHQsZSxuKXtrZSgpJiYoZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz1uLmRpcmVjdGl2ZVN0YXJ0LGk9bi5kaXJlY3RpdmVFbmQ7dC5maXJzdENyZWF0ZVBhc3N8fEVuKG4sZSksJHIocixlKTtjb25zdCBvPW4uaW5pdGlhbElucHV0cztmb3IobGV0IGE9czthPGk7YSsrKXtjb25zdCByPXQuZGF0YVthXSxpPWllKHIpO2kmJmZpKGUsbixyKTtjb25zdCBsPU1uKGUsdCxhLG4pOyRyKGwsZSksbnVsbCE9PW8mJmdpKDAsYS1zLGwsciwwLG8pLGkmJih3ZShuLmluZGV4LGUpWzhdPWwpfX0odCxlLG4sYmUobixlKSksMTI4PT0oMTI4Jm4uZmxhZ3MpJiZmdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1uLmRpcmVjdGl2ZVN0YXJ0LHM9bi5kaXJlY3RpdmVFbmQsaT1uLmluZGV4LG89eGUubEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleDt0cnl7ZW4oaSk7Zm9yKGxldCBuPXI7bjxzO24rKyl7Y29uc3Qgcj10LmRhdGFbbl0scz1lW25dOyRlKG4pLG51bGw9PT1yLmhvc3RCaW5kaW5ncyYmMD09PXIuaG9zdFZhcnMmJm51bGw9PT1yLmhvc3RBdHRyc3x8dWkocixzKX19ZmluYWxseXtlbigtMSksJGUobyl9fSh0LGUsbikpfWZ1bmN0aW9uIG5pKHQsZSxuPWJlKXtjb25zdCByPWUubG9jYWxOYW1lcztpZihudWxsIT09cil7bGV0IHM9ZS5pbmRleCsxO2ZvcihsZXQgaT0wO2k8ci5sZW5ndGg7aSs9Mil7Y29uc3Qgbz1yW2krMV0sYT0tMT09PW8/bihlLHQpOnRbb107dFtzKytdPWF9fX1mdW5jdGlvbiByaSh0KXtjb25zdCBlPXQudFZpZXc7cmV0dXJuIG51bGw9PT1lfHxlLmluY29tcGxldGVGaXJzdFBhc3M/dC50Vmlldz1zaSgxLG51bGwsdC50ZW1wbGF0ZSx0LmRlY2xzLHQudmFycyx0LmRpcmVjdGl2ZURlZnMsdC5waXBlRGVmcyx0LnZpZXdRdWVyeSx0LnNjaGVtYXMsdC5jb25zdHMpOmV9ZnVuY3Rpb24gc2kodCxlLG4scixzLGksbyxhLGwsdSl7Y29uc3QgYz1YdCtyLGg9YytzLGQ9ZnVuY3Rpb24odCxlKXtjb25zdCBuPVtdO2ZvcihsZXQgcj0wO3I8ZTtyKyspbi5wdXNoKHI8dD9udWxsOmpzKTtyZXR1cm4gbn0oYyxoKSxwPSJmdW5jdGlvbiI9PXR5cGVvZiB1P3UoKTp1O3JldHVybiBkWzFdPXt0eXBlOnQsYmx1ZXByaW50OmQsdGVtcGxhdGU6bixxdWVyaWVzOm51bGwsdmlld1F1ZXJ5OmEsZGVjbFROb2RlOmUsZGF0YTpkLnNsaWNlKCkuZmlsbChudWxsLGMpLGJpbmRpbmdTdGFydEluZGV4OmMsZXhwYW5kb1N0YXJ0SW5kZXg6aCxob3N0QmluZGluZ09wQ29kZXM6bnVsbCxmaXJzdENyZWF0ZVBhc3M6ITAsZmlyc3RVcGRhdGVQYXNzOiEwLHN0YXRpY1ZpZXdRdWVyaWVzOiExLHN0YXRpY0NvbnRlbnRRdWVyaWVzOiExLHByZU9yZGVySG9va3M6bnVsbCxwcmVPcmRlckNoZWNrSG9va3M6bnVsbCxjb250ZW50SG9va3M6bnVsbCxjb250ZW50Q2hlY2tIb29rczpudWxsLHZpZXdIb29rczpudWxsLHZpZXdDaGVja0hvb2tzOm51bGwsZGVzdHJveUhvb2tzOm51bGwsY2xlYW51cDpudWxsLGNvbnRlbnRRdWVyaWVzOm51bGwsY29tcG9uZW50czpudWxsLGRpcmVjdGl2ZVJlZ2lzdHJ5OiJmdW5jdGlvbiI9PXR5cGVvZiBpP2koKTppLHBpcGVSZWdpc3RyeToiZnVuY3Rpb24iPT10eXBlb2Ygbz9vKCk6byxmaXJzdENoaWxkOm51bGwsc2NoZW1hczpsLGNvbnN0czpwLGluY29tcGxldGVGaXJzdFBhc3M6ITF9fWZ1bmN0aW9uIGlpKHQsZSxuLHIpe2NvbnN0IHM9eGkoZSk7bnVsbD09PW4/cy5wdXNoKHIpOihzLnB1c2gobiksdC5maXJzdENyZWF0ZVBhc3MmJmtpKHQpLnB1c2gocixzLmxlbmd0aC0xKSl9ZnVuY3Rpb24gb2kodCxlLG4pe2ZvcihsZXQgciBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkocikpe2NvbnN0IHM9dFtyXTsobj1udWxsPT09bj97fTpuKS5oYXNPd25Qcm9wZXJ0eShyKT9uW3JdLnB1c2goZSxzKTpuW3JdPVtlLHNdfXJldHVybiBufWZ1bmN0aW9uIGFpKHQsZSxuLHIpe2xldCBzPSExO2lmKGtlKCkpe2NvbnN0IGk9ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9dC5kaXJlY3RpdmVSZWdpc3RyeTtsZXQgcz1udWxsO2lmKHIpZm9yKGxldCBpPTA7aTxyLmxlbmd0aDtpKyspe2NvbnN0IG89cltpXTtJcyhuLG8uc2VsZWN0b3JzLCExKSYmKHN8fChzPVtdKSx4bihFbihuLGUpLHQsby50eXBlKSxpZShvKT8oY2kodCxuKSxzLnVuc2hpZnQobykpOnMucHVzaChvKSl9cmV0dXJuIHN9KHQsZSxuKSxvPW51bGw9PT1yP251bGw6eyIiOi0xfTtpZihudWxsIT09aSl7cz0hMCxkaShuLHQuZGF0YS5sZW5ndGgsaS5sZW5ndGgpO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKXtjb25zdCBlPWlbdF07ZS5wcm92aWRlcnNSZXNvbHZlciYmZS5wcm92aWRlcnNSZXNvbHZlcihlKX1sZXQgcj0hMSxhPSExLGw9S3ModCxlLGkubGVuZ3RoLG51bGwpO2ZvcihsZXQgcz0wO3M8aS5sZW5ndGg7cysrKXtjb25zdCB1PWlbc107bi5tZXJnZWRBdHRycz1nbihuLm1lcmdlZEF0dHJzLHUuaG9zdEF0dHJzKSxwaSh0LG4sZSxsLHUpLGhpKGwsdSxvKSxudWxsIT09dS5jb250ZW50UXVlcmllcyYmKG4uZmxhZ3N8PTgpLG51bGw9PT11Lmhvc3RCaW5kaW5ncyYmbnVsbD09PXUuaG9zdEF0dHJzJiYwPT09dS5ob3N0VmFyc3x8KG4uZmxhZ3N8PTEyOCk7Y29uc3QgYz11LnR5cGUucHJvdG90eXBlOyFyJiYoYy5uZ09uQ2hhbmdlc3x8Yy5uZ09uSW5pdHx8Yy5uZ0RvQ2hlY2spJiYoKHQucHJlT3JkZXJIb29rc3x8KHQucHJlT3JkZXJIb29rcz1bXSkpLnB1c2gobi5pbmRleCkscj0hMCksYXx8IWMubmdPbkNoYW5nZXMmJiFjLm5nRG9DaGVja3x8KCh0LnByZU9yZGVyQ2hlY2tIb29rc3x8KHQucHJlT3JkZXJDaGVja0hvb2tzPVtdKSkucHVzaChuLmluZGV4KSxhPSEwKSxsKyt9IWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1lLmRpcmVjdGl2ZUVuZCxyPXQuZGF0YSxzPWUuYXR0cnMsaT1bXTtsZXQgbz1udWxsLGE9bnVsbDtmb3IobGV0IGw9ZS5kaXJlY3RpdmVTdGFydDtsPG47bCsrKXtjb25zdCB0PXJbbF0sbj10LmlucHV0cyx1PW51bGw9PT1zfHxrcyhlKT9udWxsOm1pKG4scyk7aS5wdXNoKHUpLG89b2kobixsLG8pLGE9b2kodC5vdXRwdXRzLGwsYSl9bnVsbCE9PW8mJihvLmhhc093blByb3BlcnR5KCJjbGFzcyIpJiYoZS5mbGFnc3w9MTYpLG8uaGFzT3duUHJvcGVydHkoInN0eWxlIikmJihlLmZsYWdzfD0zMikpLGUuaW5pdGlhbElucHV0cz1pLGUuaW5wdXRzPW8sZS5vdXRwdXRzPWF9KHQsbil9byYmZnVuY3Rpb24odCxlLG4pe2lmKGUpe2NvbnN0IHI9dC5sb2NhbE5hbWVzPVtdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9Mil7Y29uc3Qgcz1uW2VbdCsxXV07aWYobnVsbD09cyl0aHJvdyBuZXcgYXQoIjMwMSIsYEV4cG9ydCBvZiBuYW1lICcke2VbdCsxXX0nIG5vdCBmb3VuZCFgKTtyLnB1c2goZVt0XSxzKX19fShuLHIsbyl9cmV0dXJuIG4ubWVyZ2VkQXR0cnM9Z24obi5tZXJnZWRBdHRycyxuLmF0dHJzKSxzfWZ1bmN0aW9uIGxpKHQsZSxuLHIscyxpKXtjb25zdCBvPWkuaG9zdEJpbmRpbmdzO2lmKG8pe2xldCBuPXQuaG9zdEJpbmRpbmdPcENvZGVzO251bGw9PT1uJiYobj10Lmhvc3RCaW5kaW5nT3BDb2Rlcz1bXSk7Y29uc3QgaT1+ZS5pbmRleDsoZnVuY3Rpb24odCl7bGV0IGU9dC5sZW5ndGg7Zm9yKDtlPjA7KXtjb25zdCBuPXRbLS1lXTtpZigibnVtYmVyIj09dHlwZW9mIG4mJm48MClyZXR1cm4gbn1yZXR1cm4gMH0pKG4pIT1pJiZuLnB1c2goaSksbi5wdXNoKHIscyxvKX19ZnVuY3Rpb24gdWkodCxlKXtudWxsIT09dC5ob3N0QmluZGluZ3MmJnQuaG9zdEJpbmRpbmdzKDEsZSl9ZnVuY3Rpb24gY2kodCxlKXtlLmZsYWdzfD0yLCh0LmNvbXBvbmVudHN8fCh0LmNvbXBvbmVudHM9W10pKS5wdXNoKGUuaW5kZXgpfWZ1bmN0aW9uIGhpKHQsZSxuKXtpZihuKXtpZihlLmV4cG9ydEFzKWZvcihsZXQgcj0wO3I8ZS5leHBvcnRBcy5sZW5ndGg7cisrKW5bZS5leHBvcnRBc1tyXV09dDtpZShlKSYmKG5bIiJdPXQpfX1mdW5jdGlvbiBkaSh0LGUsbil7dC5mbGFnc3w9MSx0LmRpcmVjdGl2ZVN0YXJ0PWUsdC5kaXJlY3RpdmVFbmQ9ZStuLHQucHJvdmlkZXJJbmRleGVzPWV9ZnVuY3Rpb24gcGkodCxlLG4scixzKXt0LmRhdGFbcl09cztjb25zdCBpPXMuZmFjdG9yeXx8KHMuZmFjdG9yeT1vZShzLnR5cGUpKSxvPW5ldyBobihpLGllKHMpLG51bGwpO3QuYmx1ZXByaW50W3JdPW8sbltyXT1vLGxpKHQsZSwwLHIsS3ModCxuLHMuaG9zdFZhcnMsanMpLHMpfWZ1bmN0aW9uIGZpKHQsZSxuKXtjb25zdCByPWJlKGUsdCkscz1yaShuKSxpPXRbMTBdLG89d2kodCxHcyh0LHMsbnVsbCxuLm9uUHVzaD82NDoxNixyLGUsaSxpLmNyZWF0ZVJlbmRlcmVyKHIsbiksbnVsbCxudWxsKSk7dFtlLmluZGV4XT1vfWZ1bmN0aW9uIGdpKHQsZSxuLHIscyxpKXtjb25zdCBvPWlbZV07aWYobnVsbCE9PW8pe2NvbnN0IHQ9ci5zZXRJbnB1dDtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoOyl7Y29uc3Qgcz1vW2UrK10saT1vW2UrK10sYT1vW2UrK107bnVsbCE9PXQ/ci5zZXRJbnB1dChuLGEscyxpKTpuW2ldPWF9fX1mdW5jdGlvbiBtaSh0LGUpe2xldCBuPW51bGwscj0wO2Zvcig7cjxlLmxlbmd0aDspe2NvbnN0IHM9ZVtyXTtpZigwIT09cylpZig1IT09cyl7aWYoIm51bWJlciI9PXR5cGVvZiBzKWJyZWFrO3QuaGFzT3duUHJvcGVydHkocykmJihudWxsPT09biYmKG49W10pLG4ucHVzaChzLHRbc10sZVtyKzFdKSkscis9Mn1lbHNlIHIrPTI7ZWxzZSByKz00fXJldHVybiBufWZ1bmN0aW9uIHlpKHQsZSxuLHIpe3JldHVybiBuZXcgQXJyYXkodCwhMCwhMSxlLG51bGwsMCxyLG4sbnVsbCxudWxsKX1mdW5jdGlvbiB2aSh0LGUpe2NvbnN0IG49d2UoZSx0KTtpZihFZShuKSl7Y29uc3QgdD1uWzFdOzgwJm5bMl0/UXModCxuLHQudGVtcGxhdGUsbls4XSk6bls1XT4wJiZiaShuKX19ZnVuY3Rpb24gYmkodCl7Zm9yKGxldCBuPXRzKHQpO251bGwhPT1uO249ZXMobikpZm9yKGxldCB0PUp0O3Q8bi5sZW5ndGg7dCsrKXtjb25zdCBlPW5bdF07aWYoMTAyNCZlWzJdKXtjb25zdCB0PWVbMV07UXModCxlLHQudGVtcGxhdGUsZVs4XSl9ZWxzZSBlWzVdPjAmJmJpKGUpfWNvbnN0IGU9dFsxXS5jb21wb25lbnRzO2lmKG51bGwhPT1lKWZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCByPXdlKGVbbl0sdCk7RWUocikmJnJbNV0+MCYmYmkocil9fWZ1bmN0aW9uIF9pKHQsZSl7Y29uc3Qgbj13ZShlLHQpLHI9blsxXTshZnVuY3Rpb24odCxlKXtmb3IobGV0IG49ZS5sZW5ndGg7bjx0LmJsdWVwcmludC5sZW5ndGg7bisrKWUucHVzaCh0LmJsdWVwcmludFtuXSl9KHIsbiksWXMocixuLG5bOF0pfWZ1bmN0aW9uIHdpKHQsZSl7cmV0dXJuIHRbMTNdP3RbMTRdWzRdPWU6dFsxM109ZSx0WzE0XT1lLGV9ZnVuY3Rpb24gQ2kodCl7Zm9yKDt0Oyl7dFsyXXw9NjQ7Y29uc3QgZT1Kcih0KTtpZigwIT0oNTEyJnRbMl0pJiYhZSlyZXR1cm4gdDt0PWV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gRWkodCxlLG4pe2NvbnN0IHI9ZVsxMF07ci5iZWdpbiYmci5iZWdpbigpO3RyeXtRcyh0LGUsdC50ZW1wbGF0ZSxuKX1jYXRjaChzKXt0aHJvdyBUaShlLHMpLHN9ZmluYWxseXtyLmVuZCYmci5lbmQoKX19ZnVuY3Rpb24gRGkodCl7IWZ1bmN0aW9uKHQpe2ZvcihsZXQgZT0wO2U8dC5jb21wb25lbnRzLmxlbmd0aDtlKyspe2NvbnN0IG49dC5jb21wb25lbnRzW2VdLHI9enIobikscz1yWzFdO1hzKHMscixzLnRlbXBsYXRlLG4pfX0odFs4XSl9ZnVuY3Rpb24gQWkodCxlLG4pe3FlKDApLGUodCxuKX1jb25zdCBTaT0oKCk9PlByb21pc2UucmVzb2x2ZShudWxsKSkoKTtmdW5jdGlvbiB4aSh0KXtyZXR1cm4gdFs3XXx8KHRbN109W10pfWZ1bmN0aW9uIGtpKHQpe3JldHVybiB0LmNsZWFudXB8fCh0LmNsZWFudXA9W10pfWZ1bmN0aW9uIFRpKHQsZSl7Y29uc3Qgbj10WzldLHI9bj9uLmdldChacixudWxsKTpudWxsO3ImJnIuaGFuZGxlRXJyb3IoZSl9ZnVuY3Rpb24gT2kodCxlLG4scixzKXtmb3IobGV0IGk9MDtpPG4ubGVuZ3RoOyl7Y29uc3Qgbz1uW2krK10sYT1uW2krK10sbD1lW29dLHU9dC5kYXRhW29dO251bGwhPT11LnNldElucHV0P3Uuc2V0SW5wdXQobCxzLHIsYSk6bFthXT1zfX1mdW5jdGlvbiBGaSh0LGUsbil7bGV0IHI9bj90LnN0eWxlczpudWxsLHM9bj90LmNsYXNzZXM6bnVsbCxpPTA7aWYobnVsbCE9PWUpZm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspe2NvbnN0IHQ9ZVtvXTsibnVtYmVyIj09dHlwZW9mIHQ/aT10OjE9PWk/cz1udChzLHQpOjI9PWkmJihyPW50KHIsdCsiOiAiK2VbKytvXSsiOyIpKX1uP3Quc3R5bGVzPXI6dC5zdHlsZXNXaXRob3V0SG9zdD1yLG4/dC5jbGFzc2VzPXM6dC5jbGFzc2VzV2l0aG91dEhvc3Q9c31jb25zdCBQaT1uZXcgJG4oIklOSkVDVE9SIiwtMSk7Y2xhc3MgSWl7Z2V0KHQsZT10cil7aWYoZT09PXRyKXtjb25zdCBlPW5ldyBFcnJvcihgTnVsbEluamVjdG9yRXJyb3I6IE5vIHByb3ZpZGVyIGZvciAke2V0KHQpfSFgKTt0aHJvdyBlLm5hbWU9Ik51bGxJbmplY3RvckVycm9yIixlfXJldHVybiBlfX1jb25zdCBSaT1uZXcgJG4oIlNldCBJbmplY3RvciBzY29wZS4iKSxNaT17fSxWaT17fTtsZXQgamk7ZnVuY3Rpb24gTmkoKXtyZXR1cm4gdm9pZCAwPT09amkmJihqaT1uZXcgSWkpLGppfWZ1bmN0aW9uIExpKHQsZT1udWxsLG49bnVsbCxyKXtyZXR1cm4gbmV3IEJpKHQsbixlfHxOaSgpLHIpfWNsYXNzIEJpe2NvbnN0cnVjdG9yKHQsZSxuLHI9bnVsbCl7dGhpcy5wYXJlbnQ9bix0aGlzLnJlY29yZHM9bmV3IE1hcCx0aGlzLmluamVjdG9yRGVmVHlwZXM9bmV3IFNldCx0aGlzLm9uRGVzdHJveT1uZXcgU2V0LHRoaXMuX2Rlc3Ryb3llZD0hMTtjb25zdCBzPVtdO2UmJkduKGUsbj0+dGhpcy5wcm9jZXNzUHJvdmlkZXIobix0LGUpKSxHbihbdF0sdD0+dGhpcy5wcm9jZXNzSW5qZWN0b3JUeXBlKHQsW10scykpLHRoaXMucmVjb3Jkcy5zZXQoUGksJGkodm9pZCAwLHRoaXMpKTtjb25zdCBpPXRoaXMucmVjb3Jkcy5nZXQoUmkpO3RoaXMuc2NvcGU9bnVsbCE9aT9pLnZhbHVlOm51bGwsdGhpcy5zb3VyY2U9cnx8KCJvYmplY3QiPT10eXBlb2YgdD9udWxsOmV0KHQpKX1nZXQgZGVzdHJveWVkKCl7cmV0dXJuIHRoaXMuX2Rlc3Ryb3llZH1kZXN0cm95KCl7dGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKSx0aGlzLl9kZXN0cm95ZWQ9ITA7dHJ5e3RoaXMub25EZXN0cm95LmZvckVhY2godD0+dC5uZ09uRGVzdHJveSgpKX1maW5hbGx5e3RoaXMucmVjb3Jkcy5jbGVhcigpLHRoaXMub25EZXN0cm95LmNsZWFyKCksdGhpcy5pbmplY3RvckRlZlR5cGVzLmNsZWFyKCl9fWdldCh0LGU9dHIsbj1fdC5EZWZhdWx0KXt0aGlzLmFzc2VydE5vdERlc3Ryb3llZCgpO2NvbnN0IHI9aXIodGhpcyk7dHJ5e2lmKCEobiZfdC5Ta2lwU2VsZikpe2xldCBlPXRoaXMucmVjb3Jkcy5nZXQodCk7aWYodm9pZCAwPT09ZSl7Y29uc3Qgbj0oImZ1bmN0aW9uIj09dHlwZW9mKHM9dCl8fCJvYmplY3QiPT10eXBlb2YgcyYmcyBpbnN0YW5jZW9mICRuKSYmcHQodCk7ZT1uJiZ0aGlzLmluamVjdGFibGVEZWZJblNjb3BlKG4pPyRpKFVpKHQpLE1pKTpudWxsLHRoaXMucmVjb3Jkcy5zZXQodCxlKX1pZihudWxsIT1lKXJldHVybiB0aGlzLmh5ZHJhdGUodCxlKX1yZXR1cm4obiZfdC5TZWxmP05pKCk6dGhpcy5wYXJlbnQpLmdldCh0LGU9biZfdC5PcHRpb25hbCYmZT09PXRyP251bGw6ZSl9Y2F0Y2goaSl7aWYoIk51bGxJbmplY3RvckVycm9yIj09PWkubmFtZSl7aWYoKGkubmdUZW1wVG9rZW5QYXRoPWkubmdUZW1wVG9rZW5QYXRofHxbXSkudW5zaGlmdChldCh0KSkscil0aHJvdyBpO3JldHVybiBmdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPXQubmdUZW1wVG9rZW5QYXRoO3Rocm93IGVbbnJdJiZzLnVuc2hpZnQoZVtucl0pLHQubWVzc2FnZT1mdW5jdGlvbih0LGUsbixyPW51bGwpe3Q9dCYmIlxuIj09PXQuY2hhckF0KDApJiYiXHUwMjc1Ij09dC5jaGFyQXQoMSk/dC5zdWJzdHIoMik6dDtsZXQgcz1ldChlKTtpZihBcnJheS5pc0FycmF5KGUpKXM9ZS5tYXAoZXQpLmpvaW4oIiAtPiAiKTtlbHNlIGlmKCJvYmplY3QiPT10eXBlb2YgZSl7bGV0IHQ9W107Zm9yKGxldCBuIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShuKSl7bGV0IHI9ZVtuXTt0LnB1c2gobisiOiIrKCJzdHJpbmciPT10eXBlb2Ygcj9KU09OLnN0cmluZ2lmeShyKTpldChyKSkpfXM9YHske3Quam9pbigiLCAiKX19YH1yZXR1cm5gJHtufSR7cj8iKCIrcisiKSI6IiJ9WyR7c31dOiAke3QucmVwbGFjZShlciwiXG4gICIpfWB9KCJcbiIrdC5tZXNzYWdlLHMsbixyKSx0Lm5nVG9rZW5QYXRoPXMsdC5uZ1RlbXBUb2tlblBhdGg9bnVsbCx0fShpLHQsIlIzSW5qZWN0b3JFcnJvciIsdGhpcy5zb3VyY2UpfXRocm93IGl9ZmluYWxseXtpcihyKX12YXIgc31fcmVzb2x2ZUluamVjdG9yRGVmVHlwZXMoKXt0aGlzLmluamVjdG9yRGVmVHlwZXMuZm9yRWFjaCh0PT50aGlzLmdldCh0KSl9dG9TdHJpbmcoKXtjb25zdCB0PVtdO3JldHVybiB0aGlzLnJlY29yZHMuZm9yRWFjaCgoZSxuKT0+dC5wdXNoKGV0KG4pKSksYFIzSW5qZWN0b3JbJHt0LmpvaW4oIiwgIil9XWB9YXNzZXJ0Tm90RGVzdHJveWVkKCl7aWYodGhpcy5fZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcigiSW5qZWN0b3IgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWQuIil9cHJvY2Vzc0luamVjdG9yVHlwZSh0LGUsbil7aWYoISh0PWl0KHQpKSlyZXR1cm4hMTtsZXQgcj1ndCh0KTtjb25zdCBzPW51bGw9PXImJnQubmdNb2R1bGV8fHZvaWQgMCxpPXZvaWQgMD09PXM/dDpzLG89LTEhPT1uLmluZGV4T2YoaSk7aWYodm9pZCAwIT09cyYmKHI9Z3QocykpLG51bGw9PXIpcmV0dXJuITE7aWYobnVsbCE9ci5pbXBvcnRzJiYhbyl7bGV0IHQ7bi5wdXNoKGkpO3RyeXtHbihyLmltcG9ydHMscj0+e3RoaXMucHJvY2Vzc0luamVjdG9yVHlwZShyLGUsbikmJih2b2lkIDA9PT10JiYodD1bXSksdC5wdXNoKHIpKX0pfWZpbmFsbHl7fWlmKHZvaWQgMCE9PXQpZm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0e25nTW9kdWxlOm4scHJvdmlkZXJzOnJ9PXRbZV07R24ocix0PT50aGlzLnByb2Nlc3NQcm92aWRlcih0LG4scnx8SXQpKX19dGhpcy5pbmplY3RvckRlZlR5cGVzLmFkZChpKTtjb25zdCBhPW9lKGkpfHwoKCk9Pm5ldyBpKTt0aGlzLnJlY29yZHMuc2V0KGksJGkoYSxNaSkpO2NvbnN0IGw9ci5wcm92aWRlcnM7aWYobnVsbCE9bCYmIW8pe2NvbnN0IGU9dDtHbihsLHQ9PnRoaXMucHJvY2Vzc1Byb3ZpZGVyKHQsZSxsKSl9cmV0dXJuIHZvaWQgMCE9PXMmJnZvaWQgMCE9PXQucHJvdmlkZXJzfXByb2Nlc3NQcm92aWRlcih0LGUsbil7bGV0IHI9cWkodD1pdCh0KSk/dDppdCh0JiZ0LnByb3ZpZGUpO2NvbnN0IHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB6aSh0KT8kaSh2b2lkIDAsdC51c2VWYWx1ZSk6JGkoSGkodCksTWkpfSh0KTtpZihxaSh0KXx8ITAhPT10Lm11bHRpKXRoaXMucmVjb3Jkcy5nZXQocik7ZWxzZXtsZXQgZT10aGlzLnJlY29yZHMuZ2V0KHIpO2V8fChlPSRpKHZvaWQgMCxNaSwhMCksZS5mYWN0b3J5PSgpPT5scihlLm11bHRpKSx0aGlzLnJlY29yZHMuc2V0KHIsZSkpLHI9dCxlLm11bHRpLnB1c2godCl9dGhpcy5yZWNvcmRzLnNldChyLHMpfWh5ZHJhdGUodCxlKXt2YXIgbjtyZXR1cm4gZS52YWx1ZT09PU1pJiYoZS52YWx1ZT1WaSxlLnZhbHVlPWUuZmFjdG9yeSgpKSwib2JqZWN0Ij09dHlwZW9mIGUudmFsdWUmJmUudmFsdWUmJm51bGwhPT0obj1lLnZhbHVlKSYmIm9iamVjdCI9PXR5cGVvZiBuJiYiZnVuY3Rpb24iPT10eXBlb2Ygbi5uZ09uRGVzdHJveSYmdGhpcy5vbkRlc3Ryb3kuYWRkKGUudmFsdWUpLGUudmFsdWV9aW5qZWN0YWJsZURlZkluU2NvcGUodCl7aWYoIXQucHJvdmlkZWRJbilyZXR1cm4hMTtjb25zdCBlPWl0KHQucHJvdmlkZWRJbik7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlPyJhbnkiPT09ZXx8ZT09PXRoaXMuc2NvcGU6dGhpcy5pbmplY3RvckRlZlR5cGVzLmhhcyhlKX19ZnVuY3Rpb24gVWkodCl7Y29uc3QgZT1wdCh0KSxuPW51bGwhPT1lP2UuZmFjdG9yeTpvZSh0KTtpZihudWxsIT09bilyZXR1cm4gbjtpZih0IGluc3RhbmNlb2YgJG4pdGhyb3cgbmV3IEVycm9yKGBUb2tlbiAke2V0KHQpfSBpcyBtaXNzaW5nIGEgXHUwMjc1cHJvdiBkZWZpbml0aW9uLmApO2lmKHQgaW5zdGFuY2VvZiBGdW5jdGlvbilyZXR1cm4gZnVuY3Rpb24odCl7Y29uc3QgZT10Lmxlbmd0aDtpZihlPjApe2NvbnN0IG49WW4oZSwiPyIpO3Rocm93IG5ldyBFcnJvcihgQ2FuJ3QgcmVzb2x2ZSBhbGwgcGFyYW1ldGVycyBmb3IgJHtldCh0KX06ICgke24uam9pbigiLCAiKX0pLmApfWNvbnN0IG49ZnVuY3Rpb24odCl7Y29uc3QgZT10JiYodFttdF18fHRbdnRdKTtpZihlKXtjb25zdCBuPWZ1bmN0aW9uKHQpe2lmKHQuaGFzT3duUHJvcGVydHkoIm5hbWUiKSlyZXR1cm4gdC5uYW1lO2NvbnN0IGU9KCIiK3QpLm1hdGNoKC9eZnVuY3Rpb25ccyooW15ccyhdKykvKTtyZXR1cm4gbnVsbD09PWU/IiI6ZVsxXX0odCk7cmV0dXJuIGNvbnNvbGUud2FybihgREVQUkVDQVRFRDogREkgaXMgaW5zdGFudGlhdGluZyBhIHRva2VuICIke259IiB0aGF0IGluaGVyaXRzIGl0cyBASW5qZWN0YWJsZSBkZWNvcmF0b3IgYnV0IGRvZXMgbm90IHByb3ZpZGUgb25lIGl0c2VsZi5cblRoaXMgd2lsbCBiZWNvbWUgYW4gZXJyb3IgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBBbmd1bGFyLiBQbGVhc2UgYWRkIEBJbmplY3RhYmxlKCkgdG8gdGhlICIke259IiBjbGFzcy5gKSxlfXJldHVybiBudWxsfSh0KTtyZXR1cm4gbnVsbCE9PW4/KCk9Pm4uZmFjdG9yeSh0KTooKT0+bmV3IHR9KHQpO3Rocm93IG5ldyBFcnJvcigidW5yZWFjaGFibGUiKX1mdW5jdGlvbiBIaSh0LGUsbil7bGV0IHI7aWYocWkodCkpe2NvbnN0IGU9aXQodCk7cmV0dXJuIG9lKGUpfHxVaShlKX1pZih6aSh0KSlyPSgpPT5pdCh0LnVzZVZhbHVlKTtlbHNlIGlmKChzPXQpJiZzLnVzZUZhY3Rvcnkpcj0oKT0+dC51c2VGYWN0b3J5KC4uLmxyKHQuZGVwc3x8W10pKTtlbHNlIGlmKGZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fCF0LnVzZUV4aXN0aW5nKX0odCkpcj0oKT0+YXIoaXQodC51c2VFeGlzdGluZykpO2Vsc2V7Y29uc3QgZT1pdCh0JiYodC51c2VDbGFzc3x8dC5wcm92aWRlKSk7aWYoIWZ1bmN0aW9uKHQpe3JldHVybiEhdC5kZXBzfSh0KSlyZXR1cm4gb2UoZSl8fFVpKGUpO3I9KCk9Pm5ldyBlKC4uLmxyKHQuZGVwcykpfXZhciBzO3JldHVybiByfWZ1bmN0aW9uICRpKHQsZSxuPSExKXtyZXR1cm57ZmFjdG9yeTp0LHZhbHVlOmUsbXVsdGk6bj9bXTp2b2lkIDB9fWZ1bmN0aW9uIHppKHQpe3JldHVybiBudWxsIT09dCYmIm9iamVjdCI9PXR5cGVvZiB0JiZyciBpbiB0fWZ1bmN0aW9uIHFpKHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0fWNvbnN0IFdpPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24odCxlPW51bGwsbj1udWxsLHIpe2NvbnN0IHM9TGkodCxlLG4scik7cmV0dXJuIHMuX3Jlc29sdmVJbmplY3RvckRlZlR5cGVzKCksc30oe25hbWU6bn0sZSx0LG4pfTtsZXQgR2k9KCgpPT57Y2xhc3MgdHtzdGF0aWMgY3JlYXRlKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/V2kodCxlLCIiKTpXaSh0LnByb3ZpZGVycyx0LnBhcmVudCx0Lm5hbWV8fCIiKX19cmV0dXJuIHQuVEhST1dfSUZfTk9UX0ZPVU5EPXRyLHQuTlVMTD1uZXcgSWksdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LHByb3ZpZGVkSW46ImFueSIsZmFjdG9yeTooKT0+YXIoUGkpfSksdC5fX05HX0VMRU1FTlRfSURfXz0tMSx0fSkoKTtmdW5jdGlvbiBaaSh0LGUpe3JuKHpyKHQpWzFdLFBlKCkpfWZ1bmN0aW9uIEtpKHQpe2xldCBlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0LnR5cGUucHJvdG90eXBlKS5jb25zdHJ1Y3RvcixuPSEwO2NvbnN0IHI9W3RdO2Zvcig7ZTspe2xldCBzO2lmKGllKHQpKXM9ZS5cdTAyNzVjbXB8fGUuXHUwMjc1ZGlyO2Vsc2V7aWYoZS5cdTAyNzVjbXApdGhyb3cgbmV3IEVycm9yKCJEaXJlY3RpdmVzIGNhbm5vdCBpbmhlcml0IENvbXBvbmVudHMiKTtzPWUuXHUwMjc1ZGlyfWlmKHMpe2lmKG4pe3IucHVzaChzKTtjb25zdCBlPXQ7ZS5pbnB1dHM9WWkodC5pbnB1dHMpLGUuZGVjbGFyZWRJbnB1dHM9WWkodC5kZWNsYXJlZElucHV0cyksZS5vdXRwdXRzPVlpKHQub3V0cHV0cyk7Y29uc3Qgbj1zLmhvc3RCaW5kaW5ncztuJiZKaSh0LG4pO2NvbnN0IGk9cy52aWV3UXVlcnksbz1zLmNvbnRlbnRRdWVyaWVzO2lmKGkmJlFpKHQsaSksbyYmWGkodCxvKSx0dCh0LmlucHV0cyxzLmlucHV0cyksdHQodC5kZWNsYXJlZElucHV0cyxzLmRlY2xhcmVkSW5wdXRzKSx0dCh0Lm91dHB1dHMscy5vdXRwdXRzKSxpZShzKSYmcy5kYXRhLmFuaW1hdGlvbil7Y29uc3QgZT10LmRhdGE7ZS5hbmltYXRpb249KGUuYW5pbWF0aW9ufHxbXSkuY29uY2F0KHMuZGF0YS5hbmltYXRpb24pfX1jb25zdCBlPXMuZmVhdHVyZXM7aWYoZSlmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyl7Y29uc3Qgcz1lW3JdO3MmJnMubmdJbmhlcml0JiZzKHQpLHM9PT1LaSYmKG49ITEpfX1lPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0hZnVuY3Rpb24odCl7bGV0IGU9MCxuPW51bGw7Zm9yKGxldCByPXQubGVuZ3RoLTE7cj49MDtyLS0pe2NvbnN0IHM9dFtyXTtzLmhvc3RWYXJzPWUrPXMuaG9zdFZhcnMscy5ob3N0QXR0cnM9Z24ocy5ob3N0QXR0cnMsbj1nbihuLHMuaG9zdEF0dHJzKSl9fShyKX1mdW5jdGlvbiBZaSh0KXtyZXR1cm4gdD09PVB0P3t9OnQ9PT1JdD9bXTp0fWZ1bmN0aW9uIFFpKHQsZSl7Y29uc3Qgbj10LnZpZXdRdWVyeTt0LnZpZXdRdWVyeT1uPyh0LHIpPT57ZSh0LHIpLG4odCxyKX06ZX1mdW5jdGlvbiBYaSh0LGUpe2NvbnN0IG49dC5jb250ZW50UXVlcmllczt0LmNvbnRlbnRRdWVyaWVzPW4/KHQscixzKT0+e2UodCxyLHMpLG4odCxyLHMpfTplfWZ1bmN0aW9uIEppKHQsZSl7Y29uc3Qgbj10Lmhvc3RCaW5kaW5nczt0Lmhvc3RCaW5kaW5ncz1uPyh0LHIpPT57ZSh0LHIpLG4odCxyKX06ZX1sZXQgdG89bnVsbDtmdW5jdGlvbiBlbygpe2lmKCF0byl7Y29uc3QgdD1GdC5TeW1ib2w7aWYodCYmdC5pdGVyYXRvcil0bz10Lml0ZXJhdG9yO2Vsc2V7Y29uc3QgdD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhNYXAucHJvdG90eXBlKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoOysrZSl7Y29uc3Qgbj10W2VdOyJlbnRyaWVzIiE9PW4mJiJzaXplIiE9PW4mJk1hcC5wcm90b3R5cGVbbl09PT1NYXAucHJvdG90eXBlLmVudHJpZXMmJih0bz1uKX19fXJldHVybiB0b31mdW5jdGlvbiBubyh0KXtyZXR1cm4hIXJvKHQpJiYoQXJyYXkuaXNBcnJheSh0KXx8ISh0IGluc3RhbmNlb2YgTWFwKSYmZW8oKWluIHQpfWZ1bmN0aW9uIHJvKHQpe3JldHVybiBudWxsIT09dCYmKCJmdW5jdGlvbiI9PXR5cGVvZiB0fHwib2JqZWN0Ij09dHlwZW9mIHQpfWZ1bmN0aW9uIHNvKHQsZSxuKXtyZXR1cm4gdFtlXT1ufWZ1bmN0aW9uIGlvKHQsZSxuKXtyZXR1cm4hT2JqZWN0LmlzKHRbZV0sbikmJih0W2VdPW4sITApfWZ1bmN0aW9uIG9vKHQsZSxuLHIpe2NvbnN0IHM9aW8odCxlLG4pO3JldHVybiBpbyh0LGUrMSxyKXx8c31mdW5jdGlvbiBhbyh0LGUsbixyKXtjb25zdCBzPVRlKCk7cmV0dXJuIGlvKHMsQmUoKSxlKSYmKE9lKCksZnVuY3Rpb24odCxlLG4scixzLGkpe2NvbnN0IG89YmUodCxlKTshZnVuY3Rpb24odCxlLG4scixzLGksbyl7aWYobnVsbD09aSlnZSh0KT90LnJlbW92ZUF0dHJpYnV0ZShlLHMsbik6ZS5yZW1vdmVBdHRyaWJ1dGUocyk7ZWxzZXtjb25zdCBhPW51bGw9PW8/bHQoaSk6byhpLHJ8fCIiLHMpO2dlKHQpP3Quc2V0QXR0cmlidXRlKGUscyxhLG4pOm4/ZS5zZXRBdHRyaWJ1dGVOUyhuLHMsYSk6ZS5zZXRBdHRyaWJ1dGUocyxhKX19KGVbMTFdLG8saSx0LnZhbHVlLG4scixzKX0obm4oKSxzLHQsZSxuLHIpKSxhb31mdW5jdGlvbiBsbyh0LGUsbixyKXtyZXR1cm4gaW8odCxCZSgpLG4pP2UrbHQobikrcjpqc31mdW5jdGlvbiB1byh0LGUsbixyLHMsaSxvLGEpe2NvbnN0IGw9VGUoKSx1PU9lKCksYz10K1h0LGg9dS5maXJzdENyZWF0ZVBhc3M/ZnVuY3Rpb24odCxlLG4scixzLGksbyxhLGwpe2NvbnN0IHU9ZS5jb25zdHMsYz1acyhlLHQsNCxvfHxudWxsLERlKHUsYSkpO2FpKGUsbixjLERlKHUsbCkpLHJuKGUsYyk7Y29uc3QgaD1jLnRWaWV3cz1zaSgyLGMscixzLGksZS5kaXJlY3RpdmVSZWdpc3RyeSxlLnBpcGVSZWdpc3RyeSxudWxsLGUuc2NoZW1hcyx1KTtyZXR1cm4gbnVsbCE9PWUucXVlcmllcyYmKGUucXVlcmllcy50ZW1wbGF0ZShlLGMpLGgucXVlcmllcz1lLnF1ZXJpZXMuZW1iZWRkZWRUVmlldyhjKSksY30oYyx1LGwsZSxuLHIscyxpLG8pOnUuZGF0YVtjXTtSZShoLCExKTtjb25zdCBkPWxbMTFdLmNyZWF0ZUNvbW1lbnQoIiIpO21zKHUsbCxkLGgpLCRyKGQsbCksd2kobCxsW2NdPXlpKGQsbCxkLGgpKSxzZShoKSYmZWkodSxsLGgpLG51bGwhPW8mJm5pKGwsaCxhKX1mdW5jdGlvbiBjbyh0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gdFtlXX0oeGUubEZyYW1lLmNvbnRleHRMVmlldyxYdCt0KX1mdW5jdGlvbiBobyh0LGU9X3QuRGVmYXVsdCl7Y29uc3Qgbj1UZSgpO3JldHVybiBudWxsPT09bj9hcih0LGUpOk9uKFBlKCksbixpdCh0KSxlKX1mdW5jdGlvbiBwbyh0LGUsbil7Y29uc3Qgcj1UZSgpO3JldHVybiBpbyhyLEJlKCksZSkmJmZ1bmN0aW9uKHQsZSxuLHIscyxpLG8sYSl7Y29uc3QgbD1iZShlLG4pO2xldCB1LGM9ZS5pbnB1dHM7dmFyIGg7bnVsbCE9YyYmKHU9Y1tyXSk/KE9pKHQsbix1LHIscykscmUoZSkmJmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj13ZShlLHQpOzE2Jm5bMl18fChuWzJdfD02NCl9KG4sZS5pbmRleCkpOjMmZS50eXBlJiYocj0iY2xhc3MiPT09KGg9cik/ImNsYXNzTmFtZSI6ImZvciI9PT1oPyJodG1sRm9yIjoiZm9ybWFjdGlvbiI9PT1oPyJmb3JtQWN0aW9uIjoiaW5uZXJIdG1sIj09PWg/ImlubmVySFRNTCI6InJlYWRvbmx5Ij09PWg/InJlYWRPbmx5IjoidGFiaW5kZXgiPT09aD8idGFiSW5kZXgiOmgscz1udWxsIT1vP28ocyxlLnZhbHVlfHwiIixyKTpzLGdlKGkpP2kuc2V0UHJvcGVydHkobCxyLHMpOmZuKHIpfHwobC5zZXRQcm9wZXJ0eT9sLnNldFByb3BlcnR5KHIscyk6bFtyXT1zKSl9KE9lKCksbm4oKSxyLHQsZSxyWzExXSxuKSxwb31mdW5jdGlvbiBmbyh0LGUsbixyLHMpe2NvbnN0IGk9cz8iY2xhc3MiOiJzdHlsZSI7T2kodCxuLGUuaW5wdXRzW2ldLGkscil9ZnVuY3Rpb24gZ28odCxlLG4scil7Y29uc3Qgcz1UZSgpLGk9T2UoKSxvPVh0K3QsYT1zWzExXSxsPXNbb109c3MoYSxlLHhlLmxGcmFtZS5jdXJyZW50TmFtZXNwYWNlKSx1PWkuZmlyc3RDcmVhdGVQYXNzP2Z1bmN0aW9uKHQsZSxuLHIscyxpLG8pe2NvbnN0IGE9ZS5jb25zdHMsbD1acyhlLHQsMixzLERlKGEsaSkpO3JldHVybiBhaShlLG4sbCxEZShhLG8pKSxudWxsIT09bC5hdHRycyYmRmkobCxsLmF0dHJzLCExKSxudWxsIT09bC5tZXJnZWRBdHRycyYmRmkobCxsLm1lcmdlZEF0dHJzLCEwKSxudWxsIT09ZS5xdWVyaWVzJiZlLnF1ZXJpZXMuZWxlbWVudFN0YXJ0KGUsbCksbH0obyxpLHMsMCxlLG4scik6aS5kYXRhW29dO1JlKHUsITApO2NvbnN0IGM9dS5tZXJnZWRBdHRycztudWxsIT09YyYmZG4oYSxsLGMpO2NvbnN0IGg9dS5jbGFzc2VzO251bGwhPT1oJiZEcyhhLGwsaCk7Y29uc3QgZD11LnN0eWxlcztudWxsIT09ZCYmRXMoYSxsLGQpLDY0IT0oNjQmdS5mbGFncykmJm1zKGkscyxsLHUpLDA9PT14ZS5sRnJhbWUuZWxlbWVudERlcHRoQ291bnQmJiRyKGwscykseGUubEZyYW1lLmVsZW1lbnREZXB0aENvdW50Kyssc2UodSkmJihlaShpLHMsdSksdGkoaSx1LHMpKSxudWxsIT09ciYmbmkocyx1KX1mdW5jdGlvbiBtbygpe2xldCB0PVBlKCk7TWUoKT9WZSgpOih0PXQucGFyZW50LFJlKHQsITEpKTtjb25zdCBlPXQ7eGUubEZyYW1lLmVsZW1lbnREZXB0aENvdW50LS07Y29uc3Qgbj1PZSgpO24uZmlyc3RDcmVhdGVQYXNzJiYocm4obix0KSxuZSh0KSYmbi5xdWVyaWVzLmVsZW1lbnRFbmQodCkpLG51bGwhPWUuY2xhc3Nlc1dpdGhvdXRIb3N0JiZmdW5jdGlvbih0KXtyZXR1cm4gMCE9KDE2JnQuZmxhZ3MpfShlKSYmZm8obixlLFRlKCksZS5jbGFzc2VzV2l0aG91dEhvc3QsITApLG51bGwhPWUuc3R5bGVzV2l0aG91dEhvc3QmJmZ1bmN0aW9uKHQpe3JldHVybiAwIT0oMzImdC5mbGFncyl9KGUpJiZmbyhuLGUsVGUoKSxlLnN0eWxlc1dpdGhvdXRIb3N0LCExKX1mdW5jdGlvbiB5byh0LGUsbixyKXtnbyh0LGUsbixyKSxtbygpfWZ1bmN0aW9uIHZvKHQsZSxuKXsoZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9VGUoKSxzPU9lKCksaT10K1h0LG89cy5maXJzdENyZWF0ZVBhc3M/ZnVuY3Rpb24odCxlLG4scixzKXtjb25zdCBpPWUuY29uc3RzLG89RGUoaSxyKSxhPVpzKGUsdCw4LCJuZy1jb250YWluZXIiLG8pO3JldHVybiBudWxsIT09byYmRmkoYSxvLCEwKSxhaShlLG4sYSxEZShpLHMpKSxudWxsIT09ZS5xdWVyaWVzJiZlLnF1ZXJpZXMuZWxlbWVudFN0YXJ0KGUsYSksYX0oaSxzLHIsZSxuKTpzLmRhdGFbaV07UmUobywhMCk7Y29uc3QgYT1yW2ldPXJbMTFdLmNyZWF0ZUNvbW1lbnQoIiIpO21zKHMscixhLG8pLCRyKGEsciksc2UobykmJihlaShzLHIsbyksdGkocyxvLHIpKSxudWxsIT1uJiZuaShyLG8pfSkodCxlLG4pLGZ1bmN0aW9uKCl7bGV0IHQ9UGUoKTtjb25zdCBlPU9lKCk7TWUoKT9WZSgpOih0PXQucGFyZW50LFJlKHQsITEpKSxlLmZpcnN0Q3JlYXRlUGFzcyYmKHJuKGUsdCksbmUodCkmJmUucXVlcmllcy5lbGVtZW50RW5kKHQpKX0oKX1mdW5jdGlvbiBibygpe3JldHVybiBUZSgpfWZ1bmN0aW9uIF9vKHQpe3JldHVybiEhdCYmImZ1bmN0aW9uIj09dHlwZW9mIHQudGhlbn1jb25zdCB3bz1mdW5jdGlvbih0KXtyZXR1cm4hIXQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LnN1YnNjcmliZX07ZnVuY3Rpb24gQ28odCxlLG4scil7Y29uc3Qgcz1UZSgpLGk9T2UoKSxvPVBlKCk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIscyxpLG8sYSl7Y29uc3QgbD1zZShyKSx1PXQuZmlyc3RDcmVhdGVQYXNzJiZraSh0KSxjPXhpKGUpO2xldCBoPSEwO2lmKDMmci50eXBlfHxhKXtjb25zdCBkPWJlKHIsZSkscD1hP2EoZCk6ZCxmPWMubGVuZ3RoLGc9YT90PT5hKHllKHRbci5pbmRleF0pKTpyLmluZGV4O2lmKGdlKG4pKXtsZXQgbz1udWxsO2lmKCFhJiZsJiYobz1mdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPXQuY2xlYW51cDtpZihudWxsIT1zKWZvcihsZXQgaT0wO2k8cy5sZW5ndGgtMTtpKz0yKXtjb25zdCB0PXNbaV07aWYodD09PW4mJnNbaSsxXT09PXIpe2NvbnN0IHQ9ZVs3XSxuPXNbaSsyXTtyZXR1cm4gdC5sZW5ndGg+bj90W25dOm51bGx9InN0cmluZyI9PXR5cGVvZiB0JiYoaSs9Mil9cmV0dXJuIG51bGx9KHQsZSxzLHIuaW5kZXgpKSxudWxsIT09bykoby5fX25nTGFzdExpc3RlbmVyRm5fX3x8bykuX19uZ05leHRMaXN0ZW5lckZuX189aSxvLl9fbmdMYXN0TGlzdGVuZXJGbl9fPWksaD0hMTtlbHNle2k9RG8ocixlLDAsaSwhMSk7Y29uc3QgdD1uLmxpc3RlbihwLHMsaSk7Yy5wdXNoKGksdCksdSYmdS5wdXNoKHMsZyxmLGYrMSl9fWVsc2UgaT1EbyhyLGUsMCxpLCEwKSxwLmFkZEV2ZW50TGlzdGVuZXIocyxpLG8pLGMucHVzaChpKSx1JiZ1LnB1c2gocyxnLGYsbyl9ZWxzZSBpPURvKHIsZSwwLGksITEpO2NvbnN0IGQ9ci5vdXRwdXRzO2xldCBwO2lmKGgmJm51bGwhPT1kJiYocD1kW3NdKSl7Y29uc3QgdD1wLmxlbmd0aDtpZih0KWZvcihsZXQgbj0wO248dDtuKz0yKXtjb25zdCB0PWVbcFtuXV1bcFtuKzFdXS5zdWJzY3JpYmUoaSksbz1jLmxlbmd0aDtjLnB1c2goaSx0KSx1JiZ1LnB1c2gocyxyLmluZGV4LG8sLShvKzEpKX19fShpLHMsc1sxMV0sbyx0LGUsISFuLHIpLENvfWZ1bmN0aW9uIEVvKHQsZSxuLHIpe3RyeXtyZXR1cm4hMSE9PW4ocil9Y2F0Y2gocyl7cmV0dXJuIFRpKHQscyksITF9fWZ1bmN0aW9uIERvKHQsZSxuLHIscyl7cmV0dXJuIGZ1bmN0aW9uIG4oaSl7aWYoaT09PUZ1bmN0aW9uKXJldHVybiByO2NvbnN0IG89MiZ0LmZsYWdzP3dlKHQuaW5kZXgsZSk6ZTswPT0oMzImZVsyXSkmJkNpKG8pO2xldCBhPUVvKGUsMCxyLGkpLGw9bi5fX25nTmV4dExpc3RlbmVyRm5fXztmb3IoO2w7KWE9RW8oZSwwLGwsaSkmJmEsbD1sLl9fbmdOZXh0TGlzdGVuZXJGbl9fO3JldHVybiBzJiYhMT09PWEmJihpLnByZXZlbnREZWZhdWx0KCksaS5yZXR1cm5WYWx1ZT0hMSksYX19ZnVuY3Rpb24gQW8odD0xKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuKHhlLmxGcmFtZS5jb250ZXh0TFZpZXc9ZnVuY3Rpb24odCxlKXtmb3IoO3Q+MDspZT1lWzE1XSx0LS07cmV0dXJuIGV9KHQseGUubEZyYW1lLmNvbnRleHRMVmlldykpWzhdfSh0KX1mdW5jdGlvbiBTbyh0LGUpe2xldCBuPW51bGw7Y29uc3Qgcj1mdW5jdGlvbih0KXtjb25zdCBlPXQuYXR0cnM7aWYobnVsbCE9ZSl7Y29uc3QgdD1lLmluZGV4T2YoNSk7aWYoMD09KDEmdCkpcmV0dXJuIGVbdCsxXX1yZXR1cm4gbnVsbH0odCk7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspe2NvbnN0IGk9ZVtzXTtpZigiKiIhPT1pKXtpZihudWxsPT09cj9Jcyh0LGksITApOlJzKHIsaSkpcmV0dXJuIHN9ZWxzZSBuPXN9cmV0dXJuIG59ZnVuY3Rpb24geG8odCl7Y29uc3QgZT1UZSgpWzE2XVs2XTtpZighZS5wcm9qZWN0aW9uKXtjb25zdCBuPWUucHJvamVjdGlvbj1Zbih0P3QubGVuZ3RoOjEsbnVsbCkscj1uLnNsaWNlKCk7bGV0IHM9ZS5jaGlsZDtmb3IoO251bGwhPT1zOyl7Y29uc3QgZT10P1NvKHMsdCk6MDtudWxsIT09ZSYmKHJbZV0/cltlXS5wcm9qZWN0aW9uTmV4dD1zOm5bZV09cyxyW2VdPXMpLHM9cy5uZXh0fX19ZnVuY3Rpb24ga28odCxlPTAsbil7Y29uc3Qgcj1UZSgpLHM9T2UoKSxpPVpzKHMsWHQrdCwxNixudWxsLG58fG51bGwpO251bGw9PT1pLnByb2plY3Rpb24mJihpLnByb2plY3Rpb249ZSksVmUoKSw2NCE9KDY0JmkuZmxhZ3MpJiZmdW5jdGlvbih0LGUsbil7Q3MoZVsxMV0sMCxlLG4sdXModCxuLGUpLGZzKG4ucGFyZW50fHxlWzZdLG4sZSkpfShzLHIsaSl9ZnVuY3Rpb24gVG8odCxlLG4scixzKXtjb25zdCBpPXRbbisxXSxvPW51bGw9PT1lO2xldCBhPXI/VXMoaSk6JHMoaSksbD0hMTtmb3IoOzAhPT1hJiYoITE9PT1sfHxvKTspe2NvbnN0IG49dFthKzFdO09vKHRbYV0sZSkmJihsPSEwLHRbYSsxXT1yP3FzKG4pOkhzKG4pKSxhPXI/VXMobik6JHMobil9bCYmKHRbbisxXT1yP0hzKGkpOnFzKGkpKX1mdW5jdGlvbiBPbyh0LGUpe3JldHVybiBudWxsPT09dHx8bnVsbD09ZXx8KEFycmF5LmlzQXJyYXkodCk/dFsxXTp0KT09PWV8fCEoIUFycmF5LmlzQXJyYXkodCl8fCJzdHJpbmciIT10eXBlb2YgZSkmJkpuKHQsZSk+PTB9Y29uc3QgRm89e3RleHRFbmQ6MCxrZXk6MCxrZXlFbmQ6MCx2YWx1ZTowLHZhbHVlRW5kOjB9O2Z1bmN0aW9uIFBvKHQpe3JldHVybiB0LnN1YnN0cmluZyhGby5rZXksRm8ua2V5RW5kKX1mdW5jdGlvbiBJbyh0LGUpe2NvbnN0IG49Rm8udGV4dEVuZDtyZXR1cm4gbj09PWU/LTE6KGU9Rm8ua2V5RW5kPWZ1bmN0aW9uKHQsZSxuKXtmb3IoO2U8biYmdC5jaGFyQ29kZUF0KGUpPjMyOyllKys7cmV0dXJuIGV9KHQsRm8ua2V5PWUsbiksUm8odCxlLG4pKX1mdW5jdGlvbiBSbyh0LGUsbil7Zm9yKDtlPG4mJnQuY2hhckNvZGVBdChlKTw9MzI7KWUrKztyZXR1cm4gZX1mdW5jdGlvbiBNbyh0LGUpe3JldHVybiBmdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPVRlKCksaT1PZSgpLG89VWUoMik7aS5maXJzdFVwZGF0ZVBhc3MmJkxvKGksdCxvLHRydWUpLGUhPT1qcyYmaW8ocyxvLGUpJiZIbyhpLGkuZGF0YVt0bigpXSxzLHNbMTFdLHQsc1tvKzFdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PXR8fCJvYmplY3QiPT10eXBlb2YgdCYmKHQ9ZXQodnIodCkpKSx0fShlKSx0cnVlLG8pfSh0LGUpLE1vfWZ1bmN0aW9uIFZvKHQsZSl7Zm9yKGxldCBuPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXtGby5rZXk9MCxGby5rZXlFbmQ9MCxGby52YWx1ZT0wLEZvLnZhbHVlRW5kPTAsRm8udGV4dEVuZD10Lmxlbmd0aH0odCksSW8odCxSbyh0LDAsRm8udGV4dEVuZCkpfShlKTtuPj0wO249SW8oZSxuKSlRbih0LFBvKGUpLCEwKX1mdW5jdGlvbiBqbyh0LGUsbixyKXtjb25zdCBzPU9lKCksaT1VZSgyKTtzLmZpcnN0VXBkYXRlUGFzcyYmTG8ocyxudWxsLGkscik7Y29uc3Qgbz1UZSgpO2lmKG4hPT1qcyYmaW8obyxpLG4pKXtjb25zdCBhPXMuZGF0YVt0bigpXTtpZihxbyhhLHIpJiYhTm8ocyxpKSl7bGV0IHQ9cj9hLmNsYXNzZXNXaXRob3V0SG9zdDphLnN0eWxlc1dpdGhvdXRIb3N0O251bGwhPT10JiYobj1udCh0LG58fCIiKSksZm8ocyxhLG8sbixyKX1lbHNlIWZ1bmN0aW9uKHQsZSxuLHIscyxpLG8sYSl7cz09PWpzJiYocz1JdCk7bGV0IGw9MCx1PTAsYz0wPHMubGVuZ3RoP3NbMF06bnVsbCxoPTA8aS5sZW5ndGg/aVswXTpudWxsO2Zvcig7bnVsbCE9PWN8fG51bGwhPT1oOyl7Y29uc3QgZD1sPHMubGVuZ3RoP3NbbCsxXTp2b2lkIDAscD11PGkubGVuZ3RoP2lbdSsxXTp2b2lkIDA7bGV0IGYsZz1udWxsO2M9PT1oPyhsKz0yLHUrPTIsZCE9PXAmJihnPWgsZj1wKSk6bnVsbD09PWh8fG51bGwhPT1jJiZjPGg/KGwrPTIsZz1jKToodSs9MixnPWgsZj1wKSxudWxsIT09ZyYmSG8odCxlLG4scixnLGYsbyxhKSxjPWw8cy5sZW5ndGg/c1tsXTpudWxsLGg9dTxpLmxlbmd0aD9pW3VdOm51bGx9fShzLGEsbyxvWzExXSxvW2krMV0sb1tpKzFdPWZ1bmN0aW9uKHQsZSxuKXtpZihudWxsPT1ufHwiIj09PW4pcmV0dXJuIEl0O2NvbnN0IHI9W10scz12cihuKTtpZihBcnJheS5pc0FycmF5KHMpKWZvcihsZXQgaT0wO2k8cy5sZW5ndGg7aSsrKXQocixzW2ldLCEwKTtlbHNlIGlmKCJvYmplY3QiPT10eXBlb2Ygcylmb3IoY29uc3QgaSBpbiBzKXMuaGFzT3duUHJvcGVydHkoaSkmJnQocixpLHNbaV0pO2Vsc2Uic3RyaW5nIj09dHlwZW9mIHMmJmUocixzKTtyZXR1cm4gcn0odCxlLG4pLHIsaSl9fWZ1bmN0aW9uIE5vKHQsZSl7cmV0dXJuIGU+PXQuZXhwYW5kb1N0YXJ0SW5kZXh9ZnVuY3Rpb24gTG8odCxlLG4scil7Y29uc3Qgcz10LmRhdGE7aWYobnVsbD09PXNbbisxXSl7Y29uc3QgaT1zW3RuKCldLG89Tm8odCxuKTtxbyhpLHIpJiZudWxsPT09ZSYmIW8mJihlPSExKSxlPWZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9ZnVuY3Rpb24odCl7Y29uc3QgZT14ZS5sRnJhbWUuY3VycmVudERpcmVjdGl2ZUluZGV4O3JldHVybi0xPT09ZT9udWxsOnRbZV19KHQpO2xldCBpPXI/ZS5yZXNpZHVhbENsYXNzZXM6ZS5yZXNpZHVhbFN0eWxlcztpZihudWxsPT09cykwPT09KHI/ZS5jbGFzc0JpbmRpbmdzOmUuc3R5bGVCaW5kaW5ncykmJihuPVVvKG49Qm8obnVsbCx0LGUsbixyKSxlLmF0dHJzLHIpLGk9bnVsbCk7ZWxzZXtjb25zdCBvPWUuZGlyZWN0aXZlU3R5bGluZ0xhc3Q7aWYoLTE9PT1vfHx0W29dIT09cylpZihuPUJvKHMsdCxlLG4sciksbnVsbD09PWkpe2xldCBuPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPW4/ZS5jbGFzc0JpbmRpbmdzOmUuc3R5bGVCaW5kaW5ncztpZigwIT09JHMocikpcmV0dXJuIHRbVXMocildfSh0LGUscik7dm9pZCAwIT09biYmQXJyYXkuaXNBcnJheShuKSYmKG49Qm8obnVsbCx0LGUsblsxXSxyKSxuPVVvKG4sZS5hdHRycyxyKSxmdW5jdGlvbih0LGUsbixyKXt0W1VzKG4/ZS5jbGFzc0JpbmRpbmdzOmUuc3R5bGVCaW5kaW5ncyldPXJ9KHQsZSxyLG4pKX1lbHNlIGk9ZnVuY3Rpb24odCxlLG4pe2xldCByO2NvbnN0IHM9ZS5kaXJlY3RpdmVFbmQ7Zm9yKGxldCBpPTErZS5kaXJlY3RpdmVTdHlsaW5nTGFzdDtpPHM7aSsrKXI9VW8ocix0W2ldLmhvc3RBdHRycyxuKTtyZXR1cm4gVW8ocixlLmF0dHJzLG4pfSh0LGUscil9cmV0dXJuIHZvaWQgMCE9PWkmJihyP2UucmVzaWR1YWxDbGFzc2VzPWk6ZS5yZXNpZHVhbFN0eWxlcz1pKSxufShzLGksZSxyKSxmdW5jdGlvbih0LGUsbixyLHMsaSl7bGV0IG89aT9lLmNsYXNzQmluZGluZ3M6ZS5zdHlsZUJpbmRpbmdzLGE9VXMobyksbD0kcyhvKTt0W3JdPW47bGV0IHUsYz0hMTtpZihBcnJheS5pc0FycmF5KG4pKXtjb25zdCB0PW47dT10WzFdLChudWxsPT09dXx8Sm4odCx1KT4wKSYmKGM9ITApfWVsc2UgdT1uO2lmKHMpaWYoMCE9PWwpe2NvbnN0IGU9VXModFthKzFdKTt0W3IrMV09QnMoZSxhKSwwIT09ZSYmKHRbZSsxXT16cyh0W2UrMV0scikpLHRbYSsxXT0xMzEwNzEmdFthKzFdfHI8PDE3fWVsc2UgdFtyKzFdPUJzKGEsMCksMCE9PWEmJih0W2ErMV09enModFthKzFdLHIpKSxhPXI7ZWxzZSB0W3IrMV09QnMobCwwKSwwPT09YT9hPXI6dFtsKzFdPXpzKHRbbCsxXSxyKSxsPXI7YyYmKHRbcisxXT1Icyh0W3IrMV0pKSxUbyh0LHUsciwhMCksVG8odCx1LHIsITEpLGZ1bmN0aW9uKHQsZSxuLHIscyl7Y29uc3QgaT1zP3QucmVzaWR1YWxDbGFzc2VzOnQucmVzaWR1YWxTdHlsZXM7bnVsbCE9aSYmInN0cmluZyI9PXR5cGVvZiBlJiZKbihpLGUpPj0wJiYobltyKzFdPXFzKG5bcisxXSkpfShlLHUsdCxyLGkpLG89QnMoYSxsKSxpP2UuY2xhc3NCaW5kaW5ncz1vOmUuc3R5bGVCaW5kaW5ncz1vfShzLGksZSxuLG8scil9fWZ1bmN0aW9uIEJvKHQsZSxuLHIscyl7bGV0IGk9bnVsbDtjb25zdCBvPW4uZGlyZWN0aXZlRW5kO2xldCBhPW4uZGlyZWN0aXZlU3R5bGluZ0xhc3Q7Zm9yKC0xPT09YT9hPW4uZGlyZWN0aXZlU3RhcnQ6YSsrO2E8byYmKGk9ZVthXSxyPVVvKHIsaS5ob3N0QXR0cnMscyksaSE9PXQpOylhKys7cmV0dXJuIG51bGwhPT10JiYobi5kaXJlY3RpdmVTdHlsaW5nTGFzdD1hKSxyfWZ1bmN0aW9uIFVvKHQsZSxuKXtjb25zdCByPW4/MToyO2xldCBzPS0xO2lmKG51bGwhPT1lKWZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBvPWVbaV07Im51bWJlciI9PXR5cGVvZiBvP3M9bzpzPT09ciYmKEFycmF5LmlzQXJyYXkodCl8fCh0PXZvaWQgMD09PXQ/W106WyIiLHRdKSxRbih0LG8sISFufHxlWysraV0pKX1yZXR1cm4gdm9pZCAwPT09dD9udWxsOnR9ZnVuY3Rpb24gSG8odCxlLG4scixzLGksbyxhKXtpZighKDMmZS50eXBlKSlyZXR1cm47Y29uc3QgbD10LmRhdGEsdT1sW2ErMV07em8oMT09KDEmdSk/JG8obCxlLG4scywkcyh1KSxvKTp2b2lkIDApfHwoem8oaSl8fDI9PSgyJnUpJiYoaT0kbyhsLG51bGwsbixzLGEsbykpLGZ1bmN0aW9uKHQsZSxuLHIscyl7Y29uc3QgaT1nZSh0KTtpZihlKXM/aT90LmFkZENsYXNzKG4scik6bi5jbGFzc0xpc3QuYWRkKHIpOmk/dC5yZW1vdmVDbGFzcyhuLHIpOm4uY2xhc3NMaXN0LnJlbW92ZShyKTtlbHNle2xldCBlPS0xPT09ci5pbmRleE9mKCItIik/dm9pZCAwOlFyLkRhc2hDYXNlO2lmKG51bGw9PXMpaT90LnJlbW92ZVN0eWxlKG4scixlKTpuLnN0eWxlLnJlbW92ZVByb3BlcnR5KHIpO2Vsc2V7Y29uc3Qgbz0ic3RyaW5nIj09dHlwZW9mIHMmJnMuZW5kc1dpdGgoIiFpbXBvcnRhbnQiKTtvJiYocz1zLnNsaWNlKDAsLTEwKSxlfD1Rci5JbXBvcnRhbnQpLGk/dC5zZXRTdHlsZShuLHIscyxlKTpuLnN0eWxlLnNldFByb3BlcnR5KHIscyxvPyJpbXBvcnRhbnQiOiIiKX19fShyLG8sdmUodG4oKSxuKSxzLGkpKX1mdW5jdGlvbiAkbyh0LGUsbixyLHMsaSl7Y29uc3Qgbz1udWxsPT09ZTtsZXQgYTtmb3IoO3M+MDspe2NvbnN0IGU9dFtzXSxpPUFycmF5LmlzQXJyYXkoZSksbD1pP2VbMV06ZSx1PW51bGw9PT1sO2xldCBjPW5bcysxXTtjPT09anMmJihjPXU/SXQ6dm9pZCAwKTtsZXQgaD11P1huKGMscik6bD09PXI/Yzp2b2lkIDA7aWYoaSYmIXpvKGgpJiYoaD1YbihlLHIpKSx6byhoKSYmKGE9aCxvKSlyZXR1cm4gYTtjb25zdCBkPXRbcysxXTtzPW8/VXMoZCk6JHMoZCl9aWYobnVsbCE9PWUpe2xldCB0PWk/ZS5yZXNpZHVhbENsYXNzZXM6ZS5yZXNpZHVhbFN0eWxlcztudWxsIT10JiYoYT1Ybih0LHIpKX1yZXR1cm4gYX1mdW5jdGlvbiB6byh0KXtyZXR1cm4gdm9pZCAwIT09dH1mdW5jdGlvbiBxbyh0LGUpe3JldHVybiAwIT0odC5mbGFncyYoZT8xNjozMikpfWZ1bmN0aW9uIFdvKHQsZT0iIil7Y29uc3Qgbj1UZSgpLHI9T2UoKSxzPXQrWHQsaT1yLmZpcnN0Q3JlYXRlUGFzcz9acyhyLHMsMSxlLG51bGwpOnIuZGF0YVtzXSxvPW5bc109ZnVuY3Rpb24odCxlKXtyZXR1cm4gZ2UodCk/dC5jcmVhdGVUZXh0KGUpOnQuY3JlYXRlVGV4dE5vZGUoZSl9KG5bMTFdLGUpO21zKHIsbixvLGkpLFJlKGksITEpfWZ1bmN0aW9uIEdvKHQpe3JldHVybiBabygiIix0LCIiKSxHb31mdW5jdGlvbiBabyh0LGUsbil7Y29uc3Qgcj1UZSgpLHM9bG8ocix0LGUsbik7cmV0dXJuIHMhPT1qcyYmZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9dmUoZSx0KTshZnVuY3Rpb24odCxlLG4pe2dlKHQpP3Quc2V0VmFsdWUoZSxuKTplLnRleHRDb250ZW50PW59KHRbMTFdLHIsbil9KHIsdG4oKSxzKSxab31mdW5jdGlvbiBLbyh0LGUsbil7am8oUW4sVm8sbG8oVGUoKSx0LGUsbiksITApfWNvbnN0IFlvPXZvaWQgMDt2YXIgUW89WyJlbiIsW1siYSIsInAiXSxbIkFNIiwiUE0iXSxZb10sW1siQU0iLCJQTSJdLFlvLFlvXSxbWyJTIiwiTSIsIlQiLCJXIiwiVCIsIkYiLCJTIl0sWyJTdW4iLCJNb24iLCJUdWUiLCJXZWQiLCJUaHUiLCJGcmkiLCJTYXQiXSxbIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sWyJTdSIsIk1vIiwiVHUiLCJXZSIsIlRoIiwiRnIiLCJTYSJdXSxZbyxbWyJKIiwiRiIsIk0iLCJBIiwiTSIsIkoiLCJKIiwiQSIsIlMiLCJPIiwiTiIsIkQiXSxbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdLFsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXV0sWW8sW1siQiIsIkEiXSxbIkJDIiwiQUQiXSxbIkJlZm9yZSBDaHJpc3QiLCJBbm5vIERvbWluaSJdXSwwLFs2LDBdLFsiTS9kL3l5IiwiTU1NIGQsIHkiLCJNTU1NIGQsIHkiLCJFRUVFLCBNTU1NIGQsIHkiXSxbImg6bW0gYSIsImg6bW06c3MgYSIsImg6bW06c3MgYSB6IiwiaDptbTpzcyBhIHp6enoiXSxbInsxfSwgezB9IixZbywiezF9ICdhdCcgezB9IixZb10sWyIuIiwiLCIsIjsiLCIlIiwiKyIsIi0iLCJFIiwiXHhkNyIsIlx1MjAzMCIsIlx1MjIxZSIsIk5hTiIsIjoiXSxbIiMsIyMwLiMjIyIsIiMsIyMwJSIsIlx4YTQjLCMjMC4wMCIsIiNFMCJdLCJVU0QiLCIkIiwiVVMgRG9sbGFyIix7fSwibHRyIixmdW5jdGlvbih0KXtsZXQgZT1NYXRoLmZsb29yKE1hdGguYWJzKHQpKSxuPXQudG9TdHJpbmcoKS5yZXBsYWNlKC9eW14uXSpcLj8vLCIiKS5sZW5ndGg7cmV0dXJuIDE9PT1lJiYwPT09bj8xOjV9XTtsZXQgWG89e307ZnVuY3Rpb24gSm8odCl7Y29uc3QgZT1mdW5jdGlvbih0KXtyZXR1cm4gdC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywiLSIpfSh0KTtsZXQgbj10YShlKTtpZihuKXJldHVybiBuO2NvbnN0IHI9ZS5zcGxpdCgiLSIpWzBdO2lmKG49dGEociksbilyZXR1cm4gbjtpZigiZW4iPT09cilyZXR1cm4gUW87dGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIGxvY2FsZSBkYXRhIGZvciB0aGUgbG9jYWxlICIke3R9Ii5gKX1mdW5jdGlvbiB0YSh0KXtyZXR1cm4gdCBpbiBYb3x8KFhvW3RdPUZ0Lm5nJiZGdC5uZy5jb21tb24mJkZ0Lm5nLmNvbW1vbi5sb2NhbGVzJiZGdC5uZy5jb21tb24ubG9jYWxlc1t0XSksWG9bdF19dmFyIGVhPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuTG9jYWxlSWQ9MF09IkxvY2FsZUlkIix0W3QuRGF5UGVyaW9kc0Zvcm1hdD0xXT0iRGF5UGVyaW9kc0Zvcm1hdCIsdFt0LkRheVBlcmlvZHNTdGFuZGFsb25lPTJdPSJEYXlQZXJpb2RzU3RhbmRhbG9uZSIsdFt0LkRheXNGb3JtYXQ9M109IkRheXNGb3JtYXQiLHRbdC5EYXlzU3RhbmRhbG9uZT00XT0iRGF5c1N0YW5kYWxvbmUiLHRbdC5Nb250aHNGb3JtYXQ9NV09Ik1vbnRoc0Zvcm1hdCIsdFt0Lk1vbnRoc1N0YW5kYWxvbmU9Nl09Ik1vbnRoc1N0YW5kYWxvbmUiLHRbdC5FcmFzPTddPSJFcmFzIix0W3QuRmlyc3REYXlPZldlZWs9OF09IkZpcnN0RGF5T2ZXZWVrIix0W3QuV2Vla2VuZFJhbmdlPTldPSJXZWVrZW5kUmFuZ2UiLHRbdC5EYXRlRm9ybWF0PTEwXT0iRGF0ZUZvcm1hdCIsdFt0LlRpbWVGb3JtYXQ9MTFdPSJUaW1lRm9ybWF0Iix0W3QuRGF0ZVRpbWVGb3JtYXQ9MTJdPSJEYXRlVGltZUZvcm1hdCIsdFt0Lk51bWJlclN5bWJvbHM9MTNdPSJOdW1iZXJTeW1ib2xzIix0W3QuTnVtYmVyRm9ybWF0cz0xNF09Ik51bWJlckZvcm1hdHMiLHRbdC5DdXJyZW5jeUNvZGU9MTVdPSJDdXJyZW5jeUNvZGUiLHRbdC5DdXJyZW5jeVN5bWJvbD0xNl09IkN1cnJlbmN5U3ltYm9sIix0W3QuQ3VycmVuY3lOYW1lPTE3XT0iQ3VycmVuY3lOYW1lIix0W3QuQ3VycmVuY2llcz0xOF09IkN1cnJlbmNpZXMiLHRbdC5EaXJlY3Rpb25hbGl0eT0xOV09IkRpcmVjdGlvbmFsaXR5Iix0W3QuUGx1cmFsQ2FzZT0yMF09IlBsdXJhbENhc2UiLHRbdC5FeHRyYURhdGE9MjFdPSJFeHRyYURhdGEiLHR9KHt9KTtjb25zdCBuYT0iZW4tVVMiO2xldCByYT1uYTtmdW5jdGlvbiBzYSh0KXt2YXIgZSxuO249IkV4cGVjdGVkIGxvY2FsZUlkIHRvIGJlIGRlZmluZWQiLG51bGw9PShlPXQpJiZmdW5jdGlvbih0LGUsbixyKXt0aHJvdyBuZXcgRXJyb3IoYEFTU0VSVElPTiBFUlJPUjogJHt0fSBbRXhwZWN0ZWQ9PiBudWxsICE9ICR7ZX0gPD1BY3R1YWxdYCl9KG4sZSksInN0cmluZyI9PXR5cGVvZiB0JiYocmE9dC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywiLSIpKX1mdW5jdGlvbiBpYSh0LGUsbixyLHMpe2lmKHQ9aXQodCksQXJyYXkuaXNBcnJheSh0KSlmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKylpYSh0W2ldLGUsbixyLHMpO2Vsc2V7Y29uc3QgaT1PZSgpLG89VGUoKTtsZXQgYT1xaSh0KT90Oml0KHQucHJvdmlkZSksbD1IaSh0KTtjb25zdCB1PVBlKCksYz0xMDQ4NTc1JnUucHJvdmlkZXJJbmRleGVzLGg9dS5kaXJlY3RpdmVTdGFydCxkPXUucHJvdmlkZXJJbmRleGVzPj4yMDtpZihxaSh0KXx8IXQubXVsdGkpe2NvbnN0IHI9bmV3IGhuKGwscyxobykscD1sYShhLGUscz9jOmMrZCxoKTstMT09PXA/KHhuKEVuKHUsbyksaSxhKSxvYShpLHQsZS5sZW5ndGgpLGUucHVzaChhKSx1LmRpcmVjdGl2ZVN0YXJ0KyssdS5kaXJlY3RpdmVFbmQrKyxzJiYodS5wcm92aWRlckluZGV4ZXMrPTEwNDg1NzYpLG4ucHVzaChyKSxvLnB1c2gocikpOihuW3BdPXIsb1twXT1yKX1lbHNle2NvbnN0IHA9bGEoYSxlLGMrZCxoKSxmPWxhKGEsZSxjLGMrZCksZz1wPj0wJiZuW3BdLG09Zj49MCYmbltmXTtpZihzJiYhbXx8IXMmJiFnKXt4bihFbih1LG8pLGksYSk7Y29uc3QgYz1mdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9bmV3IGhuKHQsbixobyk7cmV0dXJuIGkubXVsdGk9W10saS5pbmRleD1lLGkuY29tcG9uZW50UHJvdmlkZXJzPTAsYWEoaSxzLHImJiFuKSxpfShzP2NhOnVhLG4ubGVuZ3RoLHMscixsKTshcyYmbSYmKG5bZl0ucHJvdmlkZXJGYWN0b3J5PWMpLG9hKGksdCxlLmxlbmd0aCwwKSxlLnB1c2goYSksdS5kaXJlY3RpdmVTdGFydCsrLHUuZGlyZWN0aXZlRW5kKysscyYmKHUucHJvdmlkZXJJbmRleGVzKz0xMDQ4NTc2KSxuLnB1c2goYyksby5wdXNoKGMpfWVsc2Ugb2EoaSx0LHA+LTE/cDpmLGFhKG5bcz9mOnBdLGwsIXMmJnIpKTshcyYmciYmbSYmbltmXS5jb21wb25lbnRQcm92aWRlcnMrK319fWZ1bmN0aW9uIG9hKHQsZSxuLHIpe2NvbnN0IHM9cWkoZSk7aWYoc3x8ZS51c2VDbGFzcyl7Y29uc3QgaT0oZS51c2VDbGFzc3x8ZSkucHJvdG90eXBlLm5nT25EZXN0cm95O2lmKGkpe2NvbnN0IG89dC5kZXN0cm95SG9va3N8fCh0LmRlc3Ryb3lIb29rcz1bXSk7aWYoIXMmJmUubXVsdGkpe2NvbnN0IHQ9by5pbmRleE9mKG4pOy0xPT09dD9vLnB1c2gobixbcixpXSk6b1t0KzFdLnB1c2gocixpKX1lbHNlIG8ucHVzaChuLGkpfX19ZnVuY3Rpb24gYWEodCxlLG4pe3JldHVybiBuJiZ0LmNvbXBvbmVudFByb3ZpZGVycysrLHQubXVsdGkucHVzaChlKS0xfWZ1bmN0aW9uIGxhKHQsZSxuLHIpe2ZvcihsZXQgcz1uO3M8cjtzKyspaWYoZVtzXT09PXQpcmV0dXJuIHM7cmV0dXJuLTF9ZnVuY3Rpb24gdWEodCxlLG4scil7cmV0dXJuIGhhKHRoaXMubXVsdGksW10pfWZ1bmN0aW9uIGNhKHQsZSxuLHIpe2NvbnN0IHM9dGhpcy5tdWx0aTtsZXQgaTtpZih0aGlzLnByb3ZpZGVyRmFjdG9yeSl7Y29uc3QgdD10aGlzLnByb3ZpZGVyRmFjdG9yeS5jb21wb25lbnRQcm92aWRlcnMsZT1NbihuLG5bMV0sdGhpcy5wcm92aWRlckZhY3RvcnkuaW5kZXgscik7aT1lLnNsaWNlKDAsdCksaGEocyxpKTtmb3IobGV0IG49dDtuPGUubGVuZ3RoO24rKylpLnB1c2goZVtuXSl9ZWxzZSBpPVtdLGhhKHMsaSk7cmV0dXJuIGl9ZnVuY3Rpb24gaGEodCxlKXtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyllLnB1c2goKDAsdFtuXSkoKSk7cmV0dXJuIGV9ZnVuY3Rpb24gZGEodCxlPVtdKXtyZXR1cm4gbj0+e24ucHJvdmlkZXJzUmVzb2x2ZXI9KG4scik9PmZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPU9lKCk7aWYoci5maXJzdENyZWF0ZVBhc3Mpe2NvbnN0IHM9aWUodCk7aWEobixyLmRhdGEsci5ibHVlcHJpbnQscywhMCksaWEoZSxyLmRhdGEsci5ibHVlcHJpbnQscywhMSl9fShuLHI/cih0KTp0LGUpfX1jbGFzcyBwYXt9Y2xhc3MgZmF7cmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodCl7dGhyb3cgZnVuY3Rpb24odCl7Y29uc3QgZT1FcnJvcihgTm8gY29tcG9uZW50IGZhY3RvcnkgZm91bmQgZm9yICR7ZXQodCl9LiBEaWQgeW91IGFkZCBpdCB0byBATmdNb2R1bGUuZW50cnlDb21wb25lbnRzP2ApO3JldHVybiBlLm5nQ29tcG9uZW50PXQsZX0odCl9fWxldCBnYT0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5OVUxMPW5ldyBmYSx0fSkoKTtmdW5jdGlvbiBtYSguLi50KXt9ZnVuY3Rpb24geWEodCxlKXtyZXR1cm4gbmV3IGJhKGJlKHQsZSkpfWNvbnN0IHZhPWZ1bmN0aW9uKCl7cmV0dXJuIHlhKFBlKCksVGUoKSl9O2xldCBiYT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMubmF0aXZlRWxlbWVudD10fX1yZXR1cm4gdC5fX05HX0VMRU1FTlRfSURfXz12YSx0fSkoKTtmdW5jdGlvbiBfYSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGJhP3QubmF0aXZlRWxlbWVudDp0fWNsYXNzIHdhe31sZXQgQ2E9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuX19OR19FTEVNRU5UX0lEX189KCk9PkVhKCksdH0pKCk7Y29uc3QgRWE9ZnVuY3Rpb24oKXtjb25zdCB0PVRlKCksZT13ZShQZSgpLmluZGV4LHQpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdFsxMV19KHRlKGUpP2U6dCl9O2xldCBEYT0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6KCk9Pm51bGx9KSx0fSkoKTtjbGFzcyBBYXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmZ1bGw9dCx0aGlzLm1ham9yPXQuc3BsaXQoIi4iKVswXSx0aGlzLm1pbm9yPXQuc3BsaXQoIi4iKVsxXSx0aGlzLnBhdGNoPXQuc3BsaXQoIi4iKS5zbGljZSgyKS5qb2luKCIuIil9fWNvbnN0IFNhPW5ldyBBYSgiMTIuMC41Iik7Y2xhc3MgeGF7Y29uc3RydWN0b3IoKXt9c3VwcG9ydHModCl7cmV0dXJuIG5vKHQpfWNyZWF0ZSh0KXtyZXR1cm4gbmV3IFRhKHQpfX1jb25zdCBrYT0odCxlKT0+ZTtjbGFzcyBUYXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmxlbmd0aD0wLHRoaXMuX2xpbmtlZFJlY29yZHM9bnVsbCx0aGlzLl91bmxpbmtlZFJlY29yZHM9bnVsbCx0aGlzLl9wcmV2aW91c0l0SGVhZD1udWxsLHRoaXMuX2l0SGVhZD1udWxsLHRoaXMuX2l0VGFpbD1udWxsLHRoaXMuX2FkZGl0aW9uc0hlYWQ9bnVsbCx0aGlzLl9hZGRpdGlvbnNUYWlsPW51bGwsdGhpcy5fbW92ZXNIZWFkPW51bGwsdGhpcy5fbW92ZXNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPW51bGwsdGhpcy5fcmVtb3ZhbHNUYWlsPW51bGwsdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZD1udWxsLHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWw9bnVsbCx0aGlzLl90cmFja0J5Rm49dHx8a2F9Zm9yRWFjaEl0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5faXRIZWFkO251bGwhPT1lO2U9ZS5fbmV4dCl0KGUpfWZvckVhY2hPcGVyYXRpb24odCl7bGV0IGU9dGhpcy5faXRIZWFkLG49dGhpcy5fcmVtb3ZhbHNIZWFkLHI9MCxzPW51bGw7Zm9yKDtlfHxuOyl7Y29uc3QgaT0hbnx8ZSYmZS5jdXJyZW50SW5kZXg8SWEobixyLHMpP2U6bixvPUlhKGkscixzKSxhPWkuY3VycmVudEluZGV4O2lmKGk9PT1uKXItLSxuPW4uX25leHRSZW1vdmVkO2Vsc2UgaWYoZT1lLl9uZXh0LG51bGw9PWkucHJldmlvdXNJbmRleClyKys7ZWxzZXtzfHwocz1bXSk7Y29uc3QgdD1vLXIsZT1hLXI7aWYodCE9ZSl7Zm9yKGxldCBuPTA7bjx0O24rKyl7Y29uc3Qgcj1uPHMubGVuZ3RoP3Nbbl06c1tuXT0wLGk9cituO2U8PWkmJmk8dCYmKHNbbl09cisxKX1zW2kucHJldmlvdXNJbmRleF09ZS10fX1vIT09YSYmdChpLG8sYSl9fWZvckVhY2hQcmV2aW91c0l0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5fcHJldmlvdXNJdEhlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UHJldmlvdXMpdChlKX1mb3JFYWNoQWRkZWRJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX2FkZGl0aW9uc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0QWRkZWQpdChlKX1mb3JFYWNoTW92ZWRJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX21vdmVzSGVhZDtudWxsIT09ZTtlPWUuX25leHRNb3ZlZCl0KGUpfWZvckVhY2hSZW1vdmVkSXRlbSh0KXtsZXQgZTtmb3IoZT10aGlzLl9yZW1vdmFsc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UmVtb3ZlZCl0KGUpfWZvckVhY2hJZGVudGl0eUNoYW5nZSh0KXtsZXQgZTtmb3IoZT10aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkO251bGwhPT1lO2U9ZS5fbmV4dElkZW50aXR5Q2hhbmdlKXQoZSl9ZGlmZih0KXtpZihudWxsPT10JiYodD1bXSksIW5vKHQpKXRocm93IG5ldyBFcnJvcihgRXJyb3IgdHJ5aW5nIHRvIGRpZmYgJyR7ZXQodCl9Jy4gT25seSBhcnJheXMgYW5kIGl0ZXJhYmxlcyBhcmUgYWxsb3dlZGApO3JldHVybiB0aGlzLmNoZWNrKHQpP3RoaXM6bnVsbH1vbkRlc3Ryb3koKXt9Y2hlY2sodCl7dGhpcy5fcmVzZXQoKTtsZXQgZSxuLHIscz10aGlzLl9pdEhlYWQsaT0hMTtpZihBcnJheS5pc0FycmF5KHQpKXt0aGlzLmxlbmd0aD10Lmxlbmd0aDtmb3IobGV0IGU9MDtlPHRoaXMubGVuZ3RoO2UrKyluPXRbZV0scj10aGlzLl90cmFja0J5Rm4oZSxuKSxudWxsIT09cyYmT2JqZWN0LmlzKHMudHJhY2tCeUlkLHIpPyhpJiYocz10aGlzLl92ZXJpZnlSZWluc2VydGlvbihzLG4scixlKSksT2JqZWN0LmlzKHMuaXRlbSxuKXx8dGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UocyxuKSk6KHM9dGhpcy5fbWlzbWF0Y2gocyxuLHIsZSksaT0hMCkscz1zLl9uZXh0fWVsc2UgZT0wLGZ1bmN0aW9uKHQsZSl7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyllKHRbbl0pO2Vsc2V7Y29uc3Qgbj10W2VvKCldKCk7bGV0IHI7Zm9yKDshKHI9bi5uZXh0KCkpLmRvbmU7KWUoci52YWx1ZSl9fSh0LHQ9PntyPXRoaXMuX3RyYWNrQnlGbihlLHQpLG51bGwhPT1zJiZPYmplY3QuaXMocy50cmFja0J5SWQscik/KGkmJihzPXRoaXMuX3ZlcmlmeVJlaW5zZXJ0aW9uKHMsdCxyLGUpKSxPYmplY3QuaXMocy5pdGVtLHQpfHx0aGlzLl9hZGRJZGVudGl0eUNoYW5nZShzLHQpKToocz10aGlzLl9taXNtYXRjaChzLHQscixlKSxpPSEwKSxzPXMuX25leHQsZSsrfSksdGhpcy5sZW5ndGg9ZTtyZXR1cm4gdGhpcy5fdHJ1bmNhdGUocyksdGhpcy5jb2xsZWN0aW9uPXQsdGhpcy5pc0RpcnR5fWdldCBpc0RpcnR5KCl7cmV0dXJuIG51bGwhPT10aGlzLl9hZGRpdGlvbnNIZWFkfHxudWxsIT09dGhpcy5fbW92ZXNIZWFkfHxudWxsIT09dGhpcy5fcmVtb3ZhbHNIZWFkfHxudWxsIT09dGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZH1fcmVzZXQoKXtpZih0aGlzLmlzRGlydHkpe2xldCB0O2Zvcih0PXRoaXMuX3ByZXZpb3VzSXRIZWFkPXRoaXMuX2l0SGVhZDtudWxsIT09dDt0PXQuX25leHQpdC5fbmV4dFByZXZpb3VzPXQuX25leHQ7Zm9yKHQ9dGhpcy5fYWRkaXRpb25zSGVhZDtudWxsIT09dDt0PXQuX25leHRBZGRlZCl0LnByZXZpb3VzSW5kZXg9dC5jdXJyZW50SW5kZXg7Zm9yKHRoaXMuX2FkZGl0aW9uc0hlYWQ9dGhpcy5fYWRkaXRpb25zVGFpbD1udWxsLHQ9dGhpcy5fbW92ZXNIZWFkO251bGwhPT10O3Q9dC5fbmV4dE1vdmVkKXQucHJldmlvdXNJbmRleD10LmN1cnJlbnRJbmRleDt0aGlzLl9tb3Zlc0hlYWQ9dGhpcy5fbW92ZXNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPXRoaXMuX3JlbW92YWxzVGFpbD1udWxsLHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQ9dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbD1udWxsfX1fbWlzbWF0Y2godCxlLG4scil7bGV0IHM7cmV0dXJuIG51bGw9PT10P3M9dGhpcy5faXRUYWlsOihzPXQuX3ByZXYsdGhpcy5fcmVtb3ZlKHQpKSxudWxsIT09KHQ9bnVsbD09PXRoaXMuX3VubGlua2VkUmVjb3Jkcz9udWxsOnRoaXMuX3VubGlua2VkUmVjb3Jkcy5nZXQobixudWxsKSk/KE9iamVjdC5pcyh0Lml0ZW0sZSl8fHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHQsZSksdGhpcy5fcmVpbnNlcnRBZnRlcih0LHMscikpOm51bGwhPT0odD1udWxsPT09dGhpcy5fbGlua2VkUmVjb3Jkcz9udWxsOnRoaXMuX2xpbmtlZFJlY29yZHMuZ2V0KG4scikpPyhPYmplY3QuaXModC5pdGVtLGUpfHx0aGlzLl9hZGRJZGVudGl0eUNoYW5nZSh0LGUpLHRoaXMuX21vdmVBZnRlcih0LHMscikpOnQ9dGhpcy5fYWRkQWZ0ZXIobmV3IE9hKGUsbikscyxyKSx0fV92ZXJpZnlSZWluc2VydGlvbih0LGUsbixyKXtsZXQgcz1udWxsPT09dGhpcy5fdW5saW5rZWRSZWNvcmRzP251bGw6dGhpcy5fdW5saW5rZWRSZWNvcmRzLmdldChuLG51bGwpO3JldHVybiBudWxsIT09cz90PXRoaXMuX3JlaW5zZXJ0QWZ0ZXIocyx0Ll9wcmV2LHIpOnQuY3VycmVudEluZGV4IT1yJiYodC5jdXJyZW50SW5kZXg9cix0aGlzLl9hZGRUb01vdmVzKHQscikpLHR9X3RydW5jYXRlKHQpe2Zvcig7bnVsbCE9PXQ7KXtjb25zdCBlPXQuX25leHQ7dGhpcy5fYWRkVG9SZW1vdmFscyh0aGlzLl91bmxpbmsodCkpLHQ9ZX1udWxsIT09dGhpcy5fdW5saW5rZWRSZWNvcmRzJiZ0aGlzLl91bmxpbmtlZFJlY29yZHMuY2xlYXIoKSxudWxsIT09dGhpcy5fYWRkaXRpb25zVGFpbCYmKHRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZD1udWxsKSxudWxsIT09dGhpcy5fbW92ZXNUYWlsJiYodGhpcy5fbW92ZXNUYWlsLl9uZXh0TW92ZWQ9bnVsbCksbnVsbCE9PXRoaXMuX2l0VGFpbCYmKHRoaXMuX2l0VGFpbC5fbmV4dD1udWxsKSxudWxsIT09dGhpcy5fcmVtb3ZhbHNUYWlsJiYodGhpcy5fcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZD1udWxsKSxudWxsIT09dGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCYmKHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwuX25leHRJZGVudGl0eUNoYW5nZT1udWxsKX1fcmVpbnNlcnRBZnRlcih0LGUsbil7bnVsbCE9PXRoaXMuX3VubGlua2VkUmVjb3JkcyYmdGhpcy5fdW5saW5rZWRSZWNvcmRzLnJlbW92ZSh0KTtjb25zdCByPXQuX3ByZXZSZW1vdmVkLHM9dC5fbmV4dFJlbW92ZWQ7cmV0dXJuIG51bGw9PT1yP3RoaXMuX3JlbW92YWxzSGVhZD1zOnIuX25leHRSZW1vdmVkPXMsbnVsbD09PXM/dGhpcy5fcmVtb3ZhbHNUYWlsPXI6cy5fcHJldlJlbW92ZWQ9cix0aGlzLl9pbnNlcnRBZnRlcih0LGUsbiksdGhpcy5fYWRkVG9Nb3Zlcyh0LG4pLHR9X21vdmVBZnRlcih0LGUsbil7cmV0dXJuIHRoaXMuX3VubGluayh0KSx0aGlzLl9pbnNlcnRBZnRlcih0LGUsbiksdGhpcy5fYWRkVG9Nb3Zlcyh0LG4pLHR9X2FkZEFmdGVyKHQsZSxuKXtyZXR1cm4gdGhpcy5faW5zZXJ0QWZ0ZXIodCxlLG4pLHRoaXMuX2FkZGl0aW9uc1RhaWw9bnVsbD09PXRoaXMuX2FkZGl0aW9uc1RhaWw/dGhpcy5fYWRkaXRpb25zSGVhZD10OnRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZD10LHR9X2luc2VydEFmdGVyKHQsZSxuKXtjb25zdCByPW51bGw9PT1lP3RoaXMuX2l0SGVhZDplLl9uZXh0O3JldHVybiB0Ll9uZXh0PXIsdC5fcHJldj1lLG51bGw9PT1yP3RoaXMuX2l0VGFpbD10OnIuX3ByZXY9dCxudWxsPT09ZT90aGlzLl9pdEhlYWQ9dDplLl9uZXh0PXQsbnVsbD09PXRoaXMuX2xpbmtlZFJlY29yZHMmJih0aGlzLl9saW5rZWRSZWNvcmRzPW5ldyBQYSksdGhpcy5fbGlua2VkUmVjb3Jkcy5wdXQodCksdC5jdXJyZW50SW5kZXg9bix0fV9yZW1vdmUodCl7cmV0dXJuIHRoaXMuX2FkZFRvUmVtb3ZhbHModGhpcy5fdW5saW5rKHQpKX1fdW5saW5rKHQpe251bGwhPT10aGlzLl9saW5rZWRSZWNvcmRzJiZ0aGlzLl9saW5rZWRSZWNvcmRzLnJlbW92ZSh0KTtjb25zdCBlPXQuX3ByZXYsbj10Ll9uZXh0O3JldHVybiBudWxsPT09ZT90aGlzLl9pdEhlYWQ9bjplLl9uZXh0PW4sbnVsbD09PW4/dGhpcy5faXRUYWlsPWU6bi5fcHJldj1lLHR9X2FkZFRvTW92ZXModCxlKXtyZXR1cm4gdC5wcmV2aW91c0luZGV4PT09ZXx8KHRoaXMuX21vdmVzVGFpbD1udWxsPT09dGhpcy5fbW92ZXNUYWlsP3RoaXMuX21vdmVzSGVhZD10OnRoaXMuX21vdmVzVGFpbC5fbmV4dE1vdmVkPXQpLHR9X2FkZFRvUmVtb3ZhbHModCl7cmV0dXJuIG51bGw9PT10aGlzLl91bmxpbmtlZFJlY29yZHMmJih0aGlzLl91bmxpbmtlZFJlY29yZHM9bmV3IFBhKSx0aGlzLl91bmxpbmtlZFJlY29yZHMucHV0KHQpLHQuY3VycmVudEluZGV4PW51bGwsdC5fbmV4dFJlbW92ZWQ9bnVsbCxudWxsPT09dGhpcy5fcmVtb3ZhbHNUYWlsPyh0aGlzLl9yZW1vdmFsc1RhaWw9dGhpcy5fcmVtb3ZhbHNIZWFkPXQsdC5fcHJldlJlbW92ZWQ9bnVsbCk6KHQuX3ByZXZSZW1vdmVkPXRoaXMuX3JlbW92YWxzVGFpbCx0aGlzLl9yZW1vdmFsc1RhaWw9dGhpcy5fcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZD10KSx0fV9hZGRJZGVudGl0eUNoYW5nZSh0LGUpe3JldHVybiB0Lml0ZW09ZSx0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsPW51bGw9PT10aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsP3RoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQ9dDp0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsLl9uZXh0SWRlbnRpdHlDaGFuZ2U9dCx0fX1jbGFzcyBPYXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuaXRlbT10LHRoaXMudHJhY2tCeUlkPWUsdGhpcy5jdXJyZW50SW5kZXg9bnVsbCx0aGlzLnByZXZpb3VzSW5kZXg9bnVsbCx0aGlzLl9uZXh0UHJldmlvdXM9bnVsbCx0aGlzLl9wcmV2PW51bGwsdGhpcy5fbmV4dD1udWxsLHRoaXMuX3ByZXZEdXA9bnVsbCx0aGlzLl9uZXh0RHVwPW51bGwsdGhpcy5fcHJldlJlbW92ZWQ9bnVsbCx0aGlzLl9uZXh0UmVtb3ZlZD1udWxsLHRoaXMuX25leHRBZGRlZD1udWxsLHRoaXMuX25leHRNb3ZlZD1udWxsLHRoaXMuX25leHRJZGVudGl0eUNoYW5nZT1udWxsfX1jbGFzcyBGYXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2hlYWQ9bnVsbCx0aGlzLl90YWlsPW51bGx9YWRkKHQpe251bGw9PT10aGlzLl9oZWFkPyh0aGlzLl9oZWFkPXRoaXMuX3RhaWw9dCx0Ll9uZXh0RHVwPW51bGwsdC5fcHJldkR1cD1udWxsKToodGhpcy5fdGFpbC5fbmV4dER1cD10LHQuX3ByZXZEdXA9dGhpcy5fdGFpbCx0Ll9uZXh0RHVwPW51bGwsdGhpcy5fdGFpbD10KX1nZXQodCxlKXtsZXQgbjtmb3Iobj10aGlzLl9oZWFkO251bGwhPT1uO249bi5fbmV4dER1cClpZigobnVsbD09PWV8fGU8PW4uY3VycmVudEluZGV4KSYmT2JqZWN0LmlzKG4udHJhY2tCeUlkLHQpKXJldHVybiBuO3JldHVybiBudWxsfXJlbW92ZSh0KXtjb25zdCBlPXQuX3ByZXZEdXAsbj10Ll9uZXh0RHVwO3JldHVybiBudWxsPT09ZT90aGlzLl9oZWFkPW46ZS5fbmV4dER1cD1uLG51bGw9PT1uP3RoaXMuX3RhaWw9ZTpuLl9wcmV2RHVwPWUsbnVsbD09PXRoaXMuX2hlYWR9fWNsYXNzIFBhe2NvbnN0cnVjdG9yKCl7dGhpcy5tYXA9bmV3IE1hcH1wdXQodCl7Y29uc3QgZT10LnRyYWNrQnlJZDtsZXQgbj10aGlzLm1hcC5nZXQoZSk7bnx8KG49bmV3IEZhLHRoaXMubWFwLnNldChlLG4pKSxuLmFkZCh0KX1nZXQodCxlKXtjb25zdCBuPXRoaXMubWFwLmdldCh0KTtyZXR1cm4gbj9uLmdldCh0LGUpOm51bGx9cmVtb3ZlKHQpe2NvbnN0IGU9dC50cmFja0J5SWQ7cmV0dXJuIHRoaXMubWFwLmdldChlKS5yZW1vdmUodCkmJnRoaXMubWFwLmRlbGV0ZShlKSx0fWdldCBpc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLm1hcC5zaXplfWNsZWFyKCl7dGhpcy5tYXAuY2xlYXIoKX19ZnVuY3Rpb24gSWEodCxlLG4pe2NvbnN0IHI9dC5wcmV2aW91c0luZGV4O2lmKG51bGw9PT1yKXJldHVybiByO2xldCBzPTA7cmV0dXJuIG4mJnI8bi5sZW5ndGgmJihzPW5bcl0pLHIrZStzfWNsYXNzIFJhe2NvbnN0cnVjdG9yKCl7fXN1cHBvcnRzKHQpe3JldHVybiB0IGluc3RhbmNlb2YgTWFwfHxybyh0KX1jcmVhdGUoKXtyZXR1cm4gbmV3IE1hfX1jbGFzcyBNYXtjb25zdHJ1Y3Rvcigpe3RoaXMuX3JlY29yZHM9bmV3IE1hcCx0aGlzLl9tYXBIZWFkPW51bGwsdGhpcy5fYXBwZW5kQWZ0ZXI9bnVsbCx0aGlzLl9wcmV2aW91c01hcEhlYWQ9bnVsbCx0aGlzLl9jaGFuZ2VzSGVhZD1udWxsLHRoaXMuX2NoYW5nZXNUYWlsPW51bGwsdGhpcy5fYWRkaXRpb25zSGVhZD1udWxsLHRoaXMuX2FkZGl0aW9uc1RhaWw9bnVsbCx0aGlzLl9yZW1vdmFsc0hlYWQ9bnVsbCx0aGlzLl9yZW1vdmFsc1RhaWw9bnVsbH1nZXQgaXNEaXJ0eSgpe3JldHVybiBudWxsIT09dGhpcy5fYWRkaXRpb25zSGVhZHx8bnVsbCE9PXRoaXMuX2NoYW5nZXNIZWFkfHxudWxsIT09dGhpcy5fcmVtb3ZhbHNIZWFkfWZvckVhY2hJdGVtKHQpe2xldCBlO2ZvcihlPXRoaXMuX21hcEhlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0KXQoZSl9Zm9yRWFjaFByZXZpb3VzSXRlbSh0KXtsZXQgZTtmb3IoZT10aGlzLl9wcmV2aW91c01hcEhlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UHJldmlvdXMpdChlKX1mb3JFYWNoQ2hhbmdlZEl0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5fY2hhbmdlc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0Q2hhbmdlZCl0KGUpfWZvckVhY2hBZGRlZEl0ZW0odCl7bGV0IGU7Zm9yKGU9dGhpcy5fYWRkaXRpb25zSGVhZDtudWxsIT09ZTtlPWUuX25leHRBZGRlZCl0KGUpfWZvckVhY2hSZW1vdmVkSXRlbSh0KXtsZXQgZTtmb3IoZT10aGlzLl9yZW1vdmFsc0hlYWQ7bnVsbCE9PWU7ZT1lLl9uZXh0UmVtb3ZlZCl0KGUpfWRpZmYodCl7aWYodCl7aWYoISh0IGluc3RhbmNlb2YgTWFwfHxybyh0KSkpdGhyb3cgbmV3IEVycm9yKGBFcnJvciB0cnlpbmcgdG8gZGlmZiAnJHtldCh0KX0nLiBPbmx5IG1hcHMgYW5kIG9iamVjdHMgYXJlIGFsbG93ZWRgKX1lbHNlIHQ9bmV3IE1hcDtyZXR1cm4gdGhpcy5jaGVjayh0KT90aGlzOm51bGx9b25EZXN0cm95KCl7fWNoZWNrKHQpe3RoaXMuX3Jlc2V0KCk7bGV0IGU9dGhpcy5fbWFwSGVhZDtpZih0aGlzLl9hcHBlbmRBZnRlcj1udWxsLHRoaXMuX2ZvckVhY2godCwodCxuKT0+e2lmKGUmJmUua2V5PT09bil0aGlzLl9tYXliZUFkZFRvQ2hhbmdlcyhlLHQpLHRoaXMuX2FwcGVuZEFmdGVyPWUsZT1lLl9uZXh0O2Vsc2V7Y29uc3Qgcj10aGlzLl9nZXRPckNyZWF0ZVJlY29yZEZvcktleShuLHQpO2U9dGhpcy5faW5zZXJ0QmVmb3JlT3JBcHBlbmQoZSxyKX19KSxlKXtlLl9wcmV2JiYoZS5fcHJldi5fbmV4dD1udWxsKSx0aGlzLl9yZW1vdmFsc0hlYWQ9ZTtmb3IobGV0IHQ9ZTtudWxsIT09dDt0PXQuX25leHRSZW1vdmVkKXQ9PT10aGlzLl9tYXBIZWFkJiYodGhpcy5fbWFwSGVhZD1udWxsKSx0aGlzLl9yZWNvcmRzLmRlbGV0ZSh0LmtleSksdC5fbmV4dFJlbW92ZWQ9dC5fbmV4dCx0LnByZXZpb3VzVmFsdWU9dC5jdXJyZW50VmFsdWUsdC5jdXJyZW50VmFsdWU9bnVsbCx0Ll9wcmV2PW51bGwsdC5fbmV4dD1udWxsfXJldHVybiB0aGlzLl9jaGFuZ2VzVGFpbCYmKHRoaXMuX2NoYW5nZXNUYWlsLl9uZXh0Q2hhbmdlZD1udWxsKSx0aGlzLl9hZGRpdGlvbnNUYWlsJiYodGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkPW51bGwpLHRoaXMuaXNEaXJ0eX1faW5zZXJ0QmVmb3JlT3JBcHBlbmQodCxlKXtpZih0KXtjb25zdCBuPXQuX3ByZXY7cmV0dXJuIGUuX25leHQ9dCxlLl9wcmV2PW4sdC5fcHJldj1lLG4mJihuLl9uZXh0PWUpLHQ9PT10aGlzLl9tYXBIZWFkJiYodGhpcy5fbWFwSGVhZD1lKSx0aGlzLl9hcHBlbmRBZnRlcj10LHR9cmV0dXJuIHRoaXMuX2FwcGVuZEFmdGVyPyh0aGlzLl9hcHBlbmRBZnRlci5fbmV4dD1lLGUuX3ByZXY9dGhpcy5fYXBwZW5kQWZ0ZXIpOnRoaXMuX21hcEhlYWQ9ZSx0aGlzLl9hcHBlbmRBZnRlcj1lLG51bGx9X2dldE9yQ3JlYXRlUmVjb3JkRm9yS2V5KHQsZSl7aWYodGhpcy5fcmVjb3Jkcy5oYXModCkpe2NvbnN0IG49dGhpcy5fcmVjb3Jkcy5nZXQodCk7dGhpcy5fbWF5YmVBZGRUb0NoYW5nZXMobixlKTtjb25zdCByPW4uX3ByZXYscz1uLl9uZXh0O3JldHVybiByJiYoci5fbmV4dD1zKSxzJiYocy5fcHJldj1yKSxuLl9uZXh0PW51bGwsbi5fcHJldj1udWxsLG59Y29uc3Qgbj1uZXcgVmEodCk7cmV0dXJuIHRoaXMuX3JlY29yZHMuc2V0KHQsbiksbi5jdXJyZW50VmFsdWU9ZSx0aGlzLl9hZGRUb0FkZGl0aW9ucyhuKSxufV9yZXNldCgpe2lmKHRoaXMuaXNEaXJ0eSl7bGV0IHQ7Zm9yKHRoaXMuX3ByZXZpb3VzTWFwSGVhZD10aGlzLl9tYXBIZWFkLHQ9dGhpcy5fcHJldmlvdXNNYXBIZWFkO251bGwhPT10O3Q9dC5fbmV4dCl0Ll9uZXh0UHJldmlvdXM9dC5fbmV4dDtmb3IodD10aGlzLl9jaGFuZ2VzSGVhZDtudWxsIT09dDt0PXQuX25leHRDaGFuZ2VkKXQucHJldmlvdXNWYWx1ZT10LmN1cnJlbnRWYWx1ZTtmb3IodD10aGlzLl9hZGRpdGlvbnNIZWFkO251bGwhPXQ7dD10Ll9uZXh0QWRkZWQpdC5wcmV2aW91c1ZhbHVlPXQuY3VycmVudFZhbHVlO3RoaXMuX2NoYW5nZXNIZWFkPXRoaXMuX2NoYW5nZXNUYWlsPW51bGwsdGhpcy5fYWRkaXRpb25zSGVhZD10aGlzLl9hZGRpdGlvbnNUYWlsPW51bGwsdGhpcy5fcmVtb3ZhbHNIZWFkPW51bGx9fV9tYXliZUFkZFRvQ2hhbmdlcyh0LGUpe09iamVjdC5pcyhlLHQuY3VycmVudFZhbHVlKXx8KHQucHJldmlvdXNWYWx1ZT10LmN1cnJlbnRWYWx1ZSx0LmN1cnJlbnRWYWx1ZT1lLHRoaXMuX2FkZFRvQ2hhbmdlcyh0KSl9X2FkZFRvQWRkaXRpb25zKHQpe251bGw9PT10aGlzLl9hZGRpdGlvbnNIZWFkP3RoaXMuX2FkZGl0aW9uc0hlYWQ9dGhpcy5fYWRkaXRpb25zVGFpbD10Oih0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQ9dCx0aGlzLl9hZGRpdGlvbnNUYWlsPXQpfV9hZGRUb0NoYW5nZXModCl7bnVsbD09PXRoaXMuX2NoYW5nZXNIZWFkP3RoaXMuX2NoYW5nZXNIZWFkPXRoaXMuX2NoYW5nZXNUYWlsPXQ6KHRoaXMuX2NoYW5nZXNUYWlsLl9uZXh0Q2hhbmdlZD10LHRoaXMuX2NoYW5nZXNUYWlsPXQpfV9mb3JFYWNoKHQsZSl7dCBpbnN0YW5jZW9mIE1hcD90LmZvckVhY2goZSk6T2JqZWN0LmtleXModCkuZm9yRWFjaChuPT5lKHRbbl0sbikpfX1jbGFzcyBWYXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmtleT10LHRoaXMucHJldmlvdXNWYWx1ZT1udWxsLHRoaXMuY3VycmVudFZhbHVlPW51bGwsdGhpcy5fbmV4dFByZXZpb3VzPW51bGwsdGhpcy5fbmV4dD1udWxsLHRoaXMuX3ByZXY9bnVsbCx0aGlzLl9uZXh0QWRkZWQ9bnVsbCx0aGlzLl9uZXh0UmVtb3ZlZD1udWxsLHRoaXMuX25leHRDaGFuZ2VkPW51bGx9fWZ1bmN0aW9uIGphKCl7cmV0dXJuIG5ldyBOYShbbmV3IHhhXSl9bGV0IE5hPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5mYWN0b3JpZXM9dH1zdGF0aWMgY3JlYXRlKGUsbil7aWYobnVsbCE9bil7Y29uc3QgdD1uLmZhY3Rvcmllcy5zbGljZSgpO2U9ZS5jb25jYXQodCl9cmV0dXJuIG5ldyB0KGUpfXN0YXRpYyBleHRlbmQoZSl7cmV0dXJue3Byb3ZpZGU6dCx1c2VGYWN0b3J5Om49PnQuY3JlYXRlKGUsbnx8amEoKSksZGVwczpbW3QsbmV3IGRyLG5ldyBocl1dfX1maW5kKHQpe2NvbnN0IGU9dGhpcy5mYWN0b3JpZXMuZmluZChlPT5lLnN1cHBvcnRzKHQpKTtpZihudWxsIT1lKXJldHVybiBlO3Rocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgYSBkaWZmZXIgc3VwcG9ydGluZyBvYmplY3QgJyR7dH0nIG9mIHR5cGUgJyR7bj10LG4ubmFtZXx8dHlwZW9mIG59J2ApO3ZhciBufX1yZXR1cm4gdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6amF9KSx0fSkoKTtmdW5jdGlvbiBMYSgpe3JldHVybiBuZXcgQmEoW25ldyBSYV0pfWxldCBCYT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuZmFjdG9yaWVzPXR9c3RhdGljIGNyZWF0ZShlLG4pe2lmKG4pe2NvbnN0IHQ9bi5mYWN0b3JpZXMuc2xpY2UoKTtlPWUuY29uY2F0KHQpfXJldHVybiBuZXcgdChlKX1zdGF0aWMgZXh0ZW5kKGUpe3JldHVybntwcm92aWRlOnQsdXNlRmFjdG9yeTpuPT50LmNyZWF0ZShlLG58fExhKCkpLGRlcHM6W1t0LG5ldyBkcixuZXcgaHJdXX19ZmluZCh0KXtjb25zdCBlPXRoaXMuZmFjdG9yaWVzLmZpbmQoZT0+ZS5zdXBwb3J0cyh0KSk7aWYoZSlyZXR1cm4gZTt0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIGEgZGlmZmVyIHN1cHBvcnRpbmcgb2JqZWN0ICcke3R9J2ApfX1yZXR1cm4gdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6TGF9KSx0fSkoKTtmdW5jdGlvbiBVYSh0LGUsbixyLHM9ITEpe2Zvcig7bnVsbCE9PW47KXtjb25zdCBpPWVbbi5pbmRleF07aWYobnVsbCE9PWkmJnIucHVzaCh5ZShpKSksZWUoaSkpZm9yKGxldCB0PUp0O3Q8aS5sZW5ndGg7dCsrKXtjb25zdCBlPWlbdF0sbj1lWzFdLmZpcnN0Q2hpbGQ7bnVsbCE9PW4mJlVhKGVbMV0sZSxuLHIpfWNvbnN0IG89bi50eXBlO2lmKDgmbylVYSh0LGUsbi5jaGlsZCxyKTtlbHNlIGlmKDMyJm8pe2NvbnN0IHQ9WHIobixlKTtsZXQgcztmb3IoO3M9dCgpOylyLnB1c2gocyl9ZWxzZSBpZigxNiZvKXtjb25zdCB0PXZzKGUsbik7aWYoQXJyYXkuaXNBcnJheSh0KSlyLnB1c2goLi4udCk7ZWxzZXtjb25zdCBuPUpyKGVbMTZdKTtVYShuWzFdLG4sdCxyLCEwKX19bj1zP24ucHJvamVjdGlvbk5leHQ6bi5uZXh0fXJldHVybiByfWNsYXNzIEhhe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fbFZpZXc9dCx0aGlzLl9jZFJlZkluamVjdGluZ1ZpZXc9ZSx0aGlzLl9hcHBSZWY9bnVsbCx0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lcj0hMX1nZXQgcm9vdE5vZGVzKCl7Y29uc3QgdD10aGlzLl9sVmlldyxlPXRbMV07cmV0dXJuIFVhKGUsdCxlLmZpcnN0Q2hpbGQsW10pfWdldCBjb250ZXh0KCl7cmV0dXJuIHRoaXMuX2xWaWV3WzhdfXNldCBjb250ZXh0KHQpe3RoaXMuX2xWaWV3WzhdPXR9Z2V0IGRlc3Ryb3llZCgpe3JldHVybiAyNTY9PSgyNTYmdGhpcy5fbFZpZXdbMl0pfWRlc3Ryb3koKXtpZih0aGlzLl9hcHBSZWYpdGhpcy5fYXBwUmVmLmRldGFjaFZpZXcodGhpcyk7ZWxzZSBpZih0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lcil7Y29uc3QgdD10aGlzLl9sVmlld1szXTtpZihlZSh0KSl7Y29uc3QgZT10WzhdLG49ZT9lLmluZGV4T2YodGhpcyk6LTE7bj4tMSYmKG9zKHQsbiksS24oZSxuKSl9dGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXI9ITF9YXModGhpcy5fbFZpZXdbMV0sdGhpcy5fbFZpZXcpfW9uRGVzdHJveSh0KXtpaSh0aGlzLl9sVmlld1sxXSx0aGlzLl9sVmlldyxudWxsLHQpfW1hcmtGb3JDaGVjaygpe0NpKHRoaXMuX2NkUmVmSW5qZWN0aW5nVmlld3x8dGhpcy5fbFZpZXcpfWRldGFjaCgpe3RoaXMuX2xWaWV3WzJdJj0tMTI5fXJlYXR0YWNoKCl7dGhpcy5fbFZpZXdbMl18PTEyOH1kZXRlY3RDaGFuZ2VzKCl7RWkodGhpcy5fbFZpZXdbMV0sdGhpcy5fbFZpZXcsdGhpcy5jb250ZXh0KX1jaGVja05vQ2hhbmdlcygpeyFmdW5jdGlvbih0LGUsbil7TmUoITApO3RyeXtFaSh0LGUsbil9ZmluYWxseXtOZSghMSl9fSh0aGlzLl9sVmlld1sxXSx0aGlzLl9sVmlldyx0aGlzLmNvbnRleHQpfWF0dGFjaFRvVmlld0NvbnRhaW5lclJlZigpe2lmKHRoaXMuX2FwcFJlZil0aHJvdyBuZXcgRXJyb3IoIlRoaXMgdmlldyBpcyBhbHJlYWR5IGF0dGFjaGVkIGRpcmVjdGx5IHRvIHRoZSBBcHBsaWNhdGlvblJlZiEiKTt0aGlzLl9hdHRhY2hlZFRvVmlld0NvbnRhaW5lcj0hMH1kZXRhY2hGcm9tQXBwUmVmKCl7dmFyIHQ7dGhpcy5fYXBwUmVmPW51bGwsd3ModGhpcy5fbFZpZXdbMV0sdD10aGlzLl9sVmlldyx0WzExXSwyLG51bGwsbnVsbCl9YXR0YWNoVG9BcHBSZWYodCl7aWYodGhpcy5fYXR0YWNoZWRUb1ZpZXdDb250YWluZXIpdGhyb3cgbmV3IEVycm9yKCJUaGlzIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhIFZpZXdDb250YWluZXIhIik7dGhpcy5fYXBwUmVmPXR9fWNsYXNzICRhIGV4dGVuZHMgSGF7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5fdmlldz10fWRldGVjdENoYW5nZXMoKXtEaSh0aGlzLl92aWV3KX1jaGVja05vQ2hhbmdlcygpeyFmdW5jdGlvbih0KXtOZSghMCk7dHJ5e0RpKHQpfWZpbmFsbHl7TmUoITEpfX0odGhpcy5fdmlldyl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gbnVsbH19Y29uc3QgemE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtpZihyZSh0KSYmIW4pe2NvbnN0IG49d2UodC5pbmRleCxlKTtyZXR1cm4gbmV3IEhhKG4sbil9cmV0dXJuIDQ3JnQudHlwZT9uZXcgSGEoZVsxNl0sZSk6bnVsbH0oUGUoKSxUZSgpLDE2PT0oMTYmdCkpfTtsZXQgcWE9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuX19OR19FTEVNRU5UX0lEX189emEsdH0pKCk7Y29uc3QgV2E9W25ldyBSYV0sR2E9bmV3IE5hKFtuZXcgeGFdKSxaYT1uZXcgQmEoV2EpLEthPWZ1bmN0aW9uKCl7cmV0dXJuIEphKFBlKCksVGUoKSl9O2xldCBZYT0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5fX05HX0VMRU1FTlRfSURfXz1LYSx0fSkoKTtjb25zdCBRYT1ZYSxYYT1jbGFzcyBleHRlbmRzIFFhe2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcigpLHRoaXMuX2RlY2xhcmF0aW9uTFZpZXc9dCx0aGlzLl9kZWNsYXJhdGlvblRDb250YWluZXI9ZSx0aGlzLmVsZW1lbnRSZWY9bn1jcmVhdGVFbWJlZGRlZFZpZXcodCl7Y29uc3QgZT10aGlzLl9kZWNsYXJhdGlvblRDb250YWluZXIudFZpZXdzLG49R3ModGhpcy5fZGVjbGFyYXRpb25MVmlldyxlLHQsMTYsbnVsbCxlLmRlY2xUTm9kZSxudWxsLG51bGwsbnVsbCxudWxsKTtuWzE3XT10aGlzLl9kZWNsYXJhdGlvbkxWaWV3W3RoaXMuX2RlY2xhcmF0aW9uVENvbnRhaW5lci5pbmRleF07Y29uc3Qgcj10aGlzLl9kZWNsYXJhdGlvbkxWaWV3WzE5XTtyZXR1cm4gbnVsbCE9PXImJihuWzE5XT1yLmNyZWF0ZUVtYmVkZGVkVmlldyhlKSksWXMoZSxuLHQpLG5ldyBIYShuKX19O2Z1bmN0aW9uIEphKHQsZSl7cmV0dXJuIDQmdC50eXBlP25ldyBYYShlLHQseWEodCxlKSk6bnVsbH1jbGFzcyB0bHt9Y2xhc3MgZWx7fWNvbnN0IG5sPWZ1bmN0aW9uKCl7cmV0dXJuIGxsKFBlKCksVGUoKSl9O2xldCBybD0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5fX05HX0VMRU1FTlRfSURfXz1ubCx0fSkoKTtjb25zdCBzbD1ybCxpbD1jbGFzcyBleHRlbmRzIHNse2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcigpLHRoaXMuX2xDb250YWluZXI9dCx0aGlzLl9ob3N0VE5vZGU9ZSx0aGlzLl9ob3N0TFZpZXc9bn1nZXQgZWxlbWVudCgpe3JldHVybiB5YSh0aGlzLl9ob3N0VE5vZGUsdGhpcy5faG9zdExWaWV3KX1nZXQgaW5qZWN0b3IoKXtyZXR1cm4gbmV3IE5uKHRoaXMuX2hvc3RUTm9kZSx0aGlzLl9ob3N0TFZpZXcpfWdldCBwYXJlbnRJbmplY3Rvcigpe2NvbnN0IHQ9U24odGhpcy5faG9zdFROb2RlLHRoaXMuX2hvc3RMVmlldyk7aWYoeW4odCkpe2NvbnN0IGU9Ym4odCx0aGlzLl9ob3N0TFZpZXcpLG49dm4odCk7cmV0dXJuIG5ldyBObihlWzFdLmRhdGFbbis4XSxlKX1yZXR1cm4gbmV3IE5uKG51bGwsdGhpcy5faG9zdExWaWV3KX1jbGVhcigpe2Zvcig7dGhpcy5sZW5ndGg+MDspdGhpcy5yZW1vdmUodGhpcy5sZW5ndGgtMSl9Z2V0KHQpe2NvbnN0IGU9b2wodGhpcy5fbENvbnRhaW5lcik7cmV0dXJuIG51bGwhPT1lJiZlW3RdfHxudWxsfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fbENvbnRhaW5lci5sZW5ndGgtSnR9Y3JlYXRlRW1iZWRkZWRWaWV3KHQsZSxuKXtjb25zdCByPXQuY3JlYXRlRW1iZWRkZWRWaWV3KGV8fHt9KTtyZXR1cm4gdGhpcy5pbnNlcnQocixuKSxyfWNyZWF0ZUNvbXBvbmVudCh0LGUsbixyLHMpe2NvbnN0IGk9bnx8dGhpcy5wYXJlbnRJbmplY3RvcjtpZighcyYmbnVsbD09dC5uZ01vZHVsZSYmaSl7Y29uc3QgdD1pLmdldCh0bCxudWxsKTt0JiYocz10KX1jb25zdCBvPXQuY3JlYXRlKGkscix2b2lkIDAscyk7cmV0dXJuIHRoaXMuaW5zZXJ0KG8uaG9zdFZpZXcsZSksb31pbnNlcnQodCxlKXtjb25zdCBuPXQuX2xWaWV3LHI9blsxXTtpZihlZShuWzNdKSl7Y29uc3QgZT10aGlzLmluZGV4T2YodCk7aWYoLTEhPT1lKXRoaXMuZGV0YWNoKGUpO2Vsc2V7Y29uc3QgZT1uWzNdLHI9bmV3IGlsKGUsZVs2XSxlWzNdKTtyLmRldGFjaChyLmluZGV4T2YodCkpfX1jb25zdCBzPXRoaXMuX2FkanVzdEluZGV4KGUpLGk9dGhpcy5fbENvbnRhaW5lcjshZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz1KdCtyLGk9bi5sZW5ndGg7cj4wJiYobltzLTFdWzRdPWUpLHI8aS1KdD8oZVs0XT1uW3NdLFpuKG4sSnQrcixlKSk6KG4ucHVzaChlKSxlWzRdPW51bGwpLGVbM109bjtjb25zdCBvPWVbMTddO251bGwhPT1vJiZuIT09byYmZnVuY3Rpb24odCxlKXtjb25zdCBuPXRbOV07ZVsxNl0hPT1lWzNdWzNdWzE2XSYmKHRbMl09ITApLG51bGw9PT1uP3RbOV09W2VdOm4ucHVzaChlKX0obyxlKTtjb25zdCBhPWVbMTldO251bGwhPT1hJiZhLmluc2VydFZpZXcodCksZVsyXXw9MTI4fShyLG4saSxzKTtjb25zdCBvPWJzKHMsaSksYT1uWzExXSxsPXBzKGEsaVs3XSk7cmV0dXJuIG51bGwhPT1sJiZmdW5jdGlvbih0LGUsbixyLHMsaSl7clswXT1zLHJbNl09ZSx3cyh0LHIsbiwxLHMsaSl9KHIsaVs2XSxhLG4sbCxvKSx0LmF0dGFjaFRvVmlld0NvbnRhaW5lclJlZigpLFpuKGFsKGkpLHMsdCksdH1tb3ZlKHQsZSl7cmV0dXJuIHRoaXMuaW5zZXJ0KHQsZSl9aW5kZXhPZih0KXtjb25zdCBlPW9sKHRoaXMuX2xDb250YWluZXIpO3JldHVybiBudWxsIT09ZT9lLmluZGV4T2YodCk6LTF9cmVtb3ZlKHQpe2NvbnN0IGU9dGhpcy5fYWRqdXN0SW5kZXgodCwtMSksbj1vcyh0aGlzLl9sQ29udGFpbmVyLGUpO24mJihLbihhbCh0aGlzLl9sQ29udGFpbmVyKSxlKSxhcyhuWzFdLG4pKX1kZXRhY2godCl7Y29uc3QgZT10aGlzLl9hZGp1c3RJbmRleCh0LC0xKSxuPW9zKHRoaXMuX2xDb250YWluZXIsZSk7cmV0dXJuIG4mJm51bGwhPUtuKGFsKHRoaXMuX2xDb250YWluZXIpLGUpP25ldyBIYShuKTpudWxsfV9hZGp1c3RJbmRleCh0LGU9MCl7cmV0dXJuIG51bGw9PXQ/dGhpcy5sZW5ndGgrZTp0fX07ZnVuY3Rpb24gb2wodCl7cmV0dXJuIHRbOF19ZnVuY3Rpb24gYWwodCl7cmV0dXJuIHRbOF18fCh0WzhdPVtdKX1mdW5jdGlvbiBsbCh0LGUpe2xldCBuO2NvbnN0IHI9ZVt0LmluZGV4XTtpZihlZShyKSluPXI7ZWxzZXtsZXQgcztpZig4JnQudHlwZSlzPXllKHIpO2Vsc2V7Y29uc3Qgbj1lWzExXTtzPW4uY3JlYXRlQ29tbWVudCgiIik7Y29uc3Qgcj1iZSh0LGUpO2NzKG4scHMobixyKSxzLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGdlKHQpP3QubmV4dFNpYmxpbmcoZSk6ZS5uZXh0U2libGluZ30obixyKSwhMSl9ZVt0LmluZGV4XT1uPXlpKHIsZSxzLHQpLHdpKGUsbil9cmV0dXJuIG5ldyBpbChuLHQsZSl9Y29uc3QgdWw9e307Y2xhc3MgY2wgZXh0ZW5kcyBnYXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMubmdNb2R1bGU9dH1yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh0KXtjb25zdCBlPVl0KHQpO3JldHVybiBuZXcgcGwoZSx0aGlzLm5nTW9kdWxlKX19ZnVuY3Rpb24gaGwodCl7Y29uc3QgZT1bXTtmb3IobGV0IG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiZlLnB1c2goe3Byb3BOYW1lOnRbbl0sdGVtcGxhdGVOYW1lOm59KTtyZXR1cm4gZX1jb25zdCBkbD1uZXcgJG4oIlNDSEVEVUxFUl9UT0tFTiIse3Byb3ZpZGVkSW46InJvb3QiLGZhY3Rvcnk6KCk9PktyfSk7Y2xhc3MgcGwgZXh0ZW5kcyBwYXtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5jb21wb25lbnREZWY9dCx0aGlzLm5nTW9kdWxlPWUsdGhpcy5jb21wb25lbnRUeXBlPXQudHlwZSx0aGlzLnNlbGVjdG9yPXQuc2VsZWN0b3JzLm1hcChWcykuam9pbigiLCIpLHRoaXMubmdDb250ZW50U2VsZWN0b3JzPXQubmdDb250ZW50U2VsZWN0b3JzP3QubmdDb250ZW50U2VsZWN0b3JzOltdLHRoaXMuaXNCb3VuZFRvTW9kdWxlPSEhZX1nZXQgaW5wdXRzKCl7cmV0dXJuIGhsKHRoaXMuY29tcG9uZW50RGVmLmlucHV0cyl9Z2V0IG91dHB1dHMoKXtyZXR1cm4gaGwodGhpcy5jb21wb25lbnREZWYub3V0cHV0cyl9Y3JlYXRlKHQsZSxuLHIpe2NvbnN0IHM9KHI9cnx8dGhpcy5uZ01vZHVsZSk/ZnVuY3Rpb24odCxlKXtyZXR1cm57Z2V0OihuLHIscyk9Pntjb25zdCBpPXQuZ2V0KG4sdWwscyk7cmV0dXJuIGkhPT11bHx8cj09PXVsP2k6ZS5nZXQobixyLHMpfX19KHQsci5pbmplY3Rvcik6dCxpPXMuZ2V0KHdhLG1lKSxvPXMuZ2V0KERhLG51bGwpLGE9aS5jcmVhdGVSZW5kZXJlcihudWxsLHRoaXMuY29tcG9uZW50RGVmKSxsPXRoaXMuY29tcG9uZW50RGVmLnNlbGVjdG9yc1swXVswXXx8ImRpdiIsdT1uP2Z1bmN0aW9uKHQsZSxuKXtpZihnZSh0KSlyZXR1cm4gdC5zZWxlY3RSb290RWxlbWVudChlLG49PT1TdC5TaGFkb3dEb20pO2xldCByPSJzdHJpbmciPT10eXBlb2YgZT90LnF1ZXJ5U2VsZWN0b3IoZSk6ZTtyZXR1cm4gci50ZXh0Q29udGVudD0iIixyfShhLG4sdGhpcy5jb21wb25lbnREZWYuZW5jYXBzdWxhdGlvbik6c3MoaS5jcmVhdGVSZW5kZXJlcihudWxsLHRoaXMuY29tcG9uZW50RGVmKSxsLGZ1bmN0aW9uKHQpe2NvbnN0IGU9dC50b0xvd2VyQ2FzZSgpO3JldHVybiJzdmciPT09ZT8iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciOiJtYXRoIj09PWU/Imh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aE1MLyI6bnVsbH0obCkpLGM9dGhpcy5jb21wb25lbnREZWYub25QdXNoPzU3Njo1MjgsaD17Y29tcG9uZW50czpbXSxzY2hlZHVsZXI6S3IsY2xlYW46U2kscGxheWVySGFuZGxlcjpudWxsLGZsYWdzOjB9LGQ9c2koMCxudWxsLG51bGwsMSwwLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCkscD1HcyhudWxsLGQsaCxjLG51bGwsbnVsbCxpLGEsbyxzKTtsZXQgZixnO1plKHApO3RyeXtjb25zdCB0PWZ1bmN0aW9uKHQsZSxuLHIscyxpKXtjb25zdCBvPW5bMV07blsyMF09dDtjb25zdCBhPVpzKG8sMjAsMiwiI2hvc3QiLG51bGwpLGw9YS5tZXJnZWRBdHRycz1lLmhvc3RBdHRycztudWxsIT09bCYmKEZpKGEsbCwhMCksbnVsbCE9PXQmJihkbihzLHQsbCksbnVsbCE9PWEuY2xhc3NlcyYmRHMocyx0LGEuY2xhc3NlcyksbnVsbCE9PWEuc3R5bGVzJiZFcyhzLHQsYS5zdHlsZXMpKSk7Y29uc3QgdT1yLmNyZWF0ZVJlbmRlcmVyKHQsZSksYz1HcyhuLHJpKGUpLG51bGwsZS5vblB1c2g/NjQ6MTYsblsyMF0sYSxyLHUsbnVsbCxudWxsKTtyZXR1cm4gby5maXJzdENyZWF0ZVBhc3MmJih4bihFbihhLG4pLG8sZS50eXBlKSxjaShvLGEpLGRpKGEsbi5sZW5ndGgsMSkpLHdpKG4sYyksblsyMF09Y30odSx0aGlzLmNvbXBvbmVudERlZixwLGksYSk7aWYodSlpZihuKWRuKGEsdSxbIm5nLXZlcnNpb24iLFNhLmZ1bGxdKTtlbHNle2NvbnN0e2F0dHJzOnQsY2xhc3NlczplfT1mdW5jdGlvbih0KXtjb25zdCBlPVtdLG49W107bGV0IHI9MSxzPTI7Zm9yKDtyPHQubGVuZ3RoOyl7bGV0IGk9dFtyXTtpZigic3RyaW5nIj09dHlwZW9mIGkpMj09PXM/IiIhPT1pJiZlLnB1c2goaSx0Wysrcl0pOjg9PT1zJiZuLnB1c2goaSk7ZWxzZXtpZighRnMocykpYnJlYWs7cz1pfXIrK31yZXR1cm57YXR0cnM6ZSxjbGFzc2VzOm59fSh0aGlzLmNvbXBvbmVudERlZi5zZWxlY3RvcnNbMF0pO3QmJmRuKGEsdSx0KSxlJiZlLmxlbmd0aD4wJiZEcyhhLHUsZS5qb2luKCIgIikpfWlmKGc9X2UoZCxYdCksdm9pZCAwIT09ZSl7Y29uc3QgdD1nLnByb2plY3Rpb249W107Zm9yKGxldCBuPTA7bjx0aGlzLm5nQ29udGVudFNlbGVjdG9ycy5sZW5ndGg7bisrKXtjb25zdCByPWVbbl07dC5wdXNoKG51bGwhPXI/QXJyYXkuZnJvbShyKTpudWxsKX19Zj1mdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9blsxXSxvPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPVBlKCk7dC5maXJzdENyZWF0ZVBhc3MmJihuLnByb3ZpZGVyc1Jlc29sdmVyJiZuLnByb3ZpZGVyc1Jlc29sdmVyKG4pLHBpKHQscixlLEtzKHQsZSwxLG51bGwpLG4pKTtjb25zdCBzPU1uKGUsdCxyLmRpcmVjdGl2ZVN0YXJ0LHIpOyRyKHMsZSk7Y29uc3QgaT1iZShyLGUpO3JldHVybiBpJiYkcihpLGUpLHN9KGksbixlKTtpZihyLmNvbXBvbmVudHMucHVzaChvKSx0WzhdPW8scyYmcy5mb3JFYWNoKHQ9PnQobyxlKSksZS5jb250ZW50UXVlcmllcyl7Y29uc3QgdD1QZSgpO2UuY29udGVudFF1ZXJpZXMoMSxvLHQuZGlyZWN0aXZlU3RhcnQpfWNvbnN0IGE9UGUoKTtyZXR1cm4haS5maXJzdENyZWF0ZVBhc3N8fG51bGw9PT1lLmhvc3RCaW5kaW5ncyYmbnVsbD09PWUuaG9zdEF0dHJzfHwoZW4oYS5pbmRleCksbGkoblsxXSxhLDAsYS5kaXJlY3RpdmVTdGFydCxhLmRpcmVjdGl2ZUVuZCxlKSx1aShlLG8pKSxvfSh0LHRoaXMuY29tcG9uZW50RGVmLHAsaCxbWmldKSxZcyhkLHAsbnVsbCl9ZmluYWxseXtKZSgpfXJldHVybiBuZXcgZmwodGhpcy5jb21wb25lbnRUeXBlLGYseWEoZyxwKSxwLGcpfX1jbGFzcyBmbCBleHRlbmRzIGNsYXNze317Y29uc3RydWN0b3IodCxlLG4scixzKXtzdXBlcigpLHRoaXMubG9jYXRpb249bix0aGlzLl9yb290TFZpZXc9cix0aGlzLl90Tm9kZT1zLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLmhvc3RWaWV3PXRoaXMuY2hhbmdlRGV0ZWN0b3JSZWY9bmV3ICRhKHIpLHRoaXMuY29tcG9uZW50VHlwZT10fWdldCBpbmplY3Rvcigpe3JldHVybiBuZXcgTm4odGhpcy5fdE5vZGUsdGhpcy5fcm9vdExWaWV3KX1kZXN0cm95KCl7dGhpcy5ob3N0Vmlldy5kZXN0cm95KCl9b25EZXN0cm95KHQpe3RoaXMuaG9zdFZpZXcub25EZXN0cm95KHQpfX1jb25zdCBnbD1uZXcgTWFwO2NsYXNzIG1sIGV4dGVuZHMgdGx7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMuX3BhcmVudD1lLHRoaXMuX2Jvb3RzdHJhcENvbXBvbmVudHM9W10sdGhpcy5pbmplY3Rvcj10aGlzLHRoaXMuZGVzdHJveUNicz1bXSx0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcj1uZXcgY2wodGhpcyk7Y29uc3Qgbj1RdCh0KSxyPXRbTnRdfHxudWxsO3ImJnNhKHIpLHRoaXMuX2Jvb3RzdHJhcENvbXBvbmVudHM9WXIobi5ib290c3RyYXApLHRoaXMuX3IzSW5qZWN0b3I9TGkodCxlLFt7cHJvdmlkZTp0bCx1c2VWYWx1ZTp0aGlzfSx7cHJvdmlkZTpnYSx1c2VWYWx1ZTp0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcn1dLGV0KHQpKSx0aGlzLl9yM0luamVjdG9yLl9yZXNvbHZlSW5qZWN0b3JEZWZUeXBlcygpLHRoaXMuaW5zdGFuY2U9dGhpcy5nZXQodCl9Z2V0KHQsZT1HaS5USFJPV19JRl9OT1RfRk9VTkQsbj1fdC5EZWZhdWx0KXtyZXR1cm4gdD09PUdpfHx0PT09dGx8fHQ9PT1QaT90aGlzOnRoaXMuX3IzSW5qZWN0b3IuZ2V0KHQsZSxuKX1kZXN0cm95KCl7Y29uc3QgdD10aGlzLl9yM0luamVjdG9yOyF0LmRlc3Ryb3llZCYmdC5kZXN0cm95KCksdGhpcy5kZXN0cm95Q2JzLmZvckVhY2godD0+dCgpKSx0aGlzLmRlc3Ryb3lDYnM9bnVsbH1vbkRlc3Ryb3kodCl7dGhpcy5kZXN0cm95Q2JzLnB1c2godCl9fWNsYXNzIHlsIGV4dGVuZHMgZWx7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLm1vZHVsZVR5cGU9dCxudWxsIT09UXQodCkmJmZ1bmN0aW9uKHQpe2NvbnN0IGU9bmV3IFNldDshZnVuY3Rpb24gdChuKXtjb25zdCByPVF0KG4sITApLHM9ci5pZDtudWxsIT09cyYmKGZ1bmN0aW9uKHQsZSxuKXtpZihlJiZlIT09bil0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBtb2R1bGUgcmVnaXN0ZXJlZCBmb3IgJHt0fSAtICR7ZXQoZSl9IHZzICR7ZXQoZS5uYW1lKX1gKX0ocyxnbC5nZXQocyksbiksZ2wuc2V0KHMsbikpO2NvbnN0IGk9WXIoci5pbXBvcnRzKTtmb3IoY29uc3QgbyBvZiBpKWUuaGFzKG8pfHwoZS5hZGQobyksdChvKSl9KHQpfSh0KX1jcmVhdGUodCl7cmV0dXJuIG5ldyBtbCh0aGlzLm1vZHVsZVR5cGUsdCl9fWZ1bmN0aW9uIHZsKHQsZSxuKXtjb25zdCByPUxlKCkrdCxzPVRlKCk7cmV0dXJuIHNbcl09PT1qcz9zbyhzLHIsbj9lLmNhbGwobik6ZSgpKTpmdW5jdGlvbih0LGUpe3JldHVybiB0W2VdfShzLHIpfWZ1bmN0aW9uIGJsKHQsZSxuLHIpe3JldHVybiBmdW5jdGlvbih0LGUsbixyLHMsaSl7Y29uc3Qgbz1lK247cmV0dXJuIGlvKHQsbyxzKT9zbyh0LG8rMSxpP3IuY2FsbChpLHMpOnIocykpOndsKHQsbysxKX0oVGUoKSxMZSgpLHQsZSxuLHIpfWZ1bmN0aW9uIF9sKHQsZSxuLHIscyl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIscyxpLG8pe2NvbnN0IGE9ZStuO3JldHVybiBvbyh0LGEscyxpKT9zbyh0LGErMixvP3IuY2FsbChvLHMsaSk6cihzLGkpKTp3bCh0LGErMil9KFRlKCksTGUoKSx0LGUsbixyLHMpfWZ1bmN0aW9uIHdsKHQsZSl7Y29uc3Qgbj10W2VdO3JldHVybiBuPT09anM/dm9pZCAwOm59ZnVuY3Rpb24gQ2wodCl7cmV0dXJuIGU9PntzZXRUaW1lb3V0KHQsdm9pZCAwLGUpfX1jb25zdCBFbD1jbGFzcyBleHRlbmRzIEV7Y29uc3RydWN0b3IodD0hMSl7c3VwZXIoKSx0aGlzLl9faXNBc3luYz10fWVtaXQodCl7c3VwZXIubmV4dCh0KX1zdWJzY3JpYmUodCxlLG4pe3ZhciByLHMsaTtsZXQgbz10LGE9ZXx8KCgpPT5udWxsKSxsPW47aWYodCYmIm9iamVjdCI9PXR5cGVvZiB0KXtjb25zdCBlPXQ7bz1udWxsPT09KHI9ZS5uZXh0KXx8dm9pZCAwPT09cj92b2lkIDA6ci5iaW5kKGUpLGE9bnVsbD09PShzPWUuZXJyb3IpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmJpbmQoZSksbD1udWxsPT09KGk9ZS5jb21wbGV0ZSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuYmluZChlKX10aGlzLl9faXNBc3luYyYmKGE9Q2woYSksbyYmKG89Q2wobykpLGwmJihsPUNsKGwpKSk7Y29uc3QgdT1zdXBlci5zdWJzY3JpYmUoe25leHQ6byxlcnJvcjphLGNvbXBsZXRlOmx9KTtyZXR1cm4gdCBpbnN0YW5jZW9mIGgmJnQuYWRkKHUpLHV9fTtmdW5jdGlvbiBEbCgpe3JldHVybiB0aGlzLl9yZXN1bHRzW2VvKCldKCl9Y2xhc3MgQWx7Y29uc3RydWN0b3IodD0hMSl7dGhpcy5fZW1pdERpc3RpbmN0Q2hhbmdlc09ubHk9dCx0aGlzLmRpcnR5PSEwLHRoaXMuX3Jlc3VsdHM9W10sdGhpcy5fY2hhbmdlc0RldGVjdGVkPSExLHRoaXMuX2NoYW5nZXM9bnVsbCx0aGlzLmxlbmd0aD0wLHRoaXMuZmlyc3Q9dm9pZCAwLHRoaXMubGFzdD12b2lkIDA7Y29uc3QgZT1lbygpLG49QWwucHJvdG90eXBlO25bZV18fChuW2VdPURsKX1nZXQgY2hhbmdlcygpe3JldHVybiB0aGlzLl9jaGFuZ2VzfHwodGhpcy5fY2hhbmdlcz1uZXcgRWwpfWdldCh0KXtyZXR1cm4gdGhpcy5fcmVzdWx0c1t0XX1tYXAodCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMubWFwKHQpfWZpbHRlcih0KXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5maWx0ZXIodCl9ZmluZCh0KXtyZXR1cm4gdGhpcy5fcmVzdWx0cy5maW5kKHQpfXJlZHVjZSh0LGUpe3JldHVybiB0aGlzLl9yZXN1bHRzLnJlZHVjZSh0LGUpfWZvckVhY2godCl7dGhpcy5fcmVzdWx0cy5mb3JFYWNoKHQpfXNvbWUodCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMuc29tZSh0KX10b0FycmF5KCl7cmV0dXJuIHRoaXMuX3Jlc3VsdHMuc2xpY2UoKX10b1N0cmluZygpe3JldHVybiB0aGlzLl9yZXN1bHRzLnRvU3RyaW5nKCl9cmVzZXQodCxlKXtjb25zdCBuPXRoaXM7bi5kaXJ0eT0hMTtjb25zdCByPVduKHQpOyh0aGlzLl9jaGFuZ2VzRGV0ZWN0ZWQ9IWZ1bmN0aW9uKHQsZSxuKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtsZXQgcz10W3JdLGk9ZVtyXTtpZihuJiYocz1uKHMpLGk9bihpKSksaSE9PXMpcmV0dXJuITF9cmV0dXJuITB9KG4uX3Jlc3VsdHMscixlKSkmJihuLl9yZXN1bHRzPXIsbi5sZW5ndGg9ci5sZW5ndGgsbi5sYXN0PXJbdGhpcy5sZW5ndGgtMV0sbi5maXJzdD1yWzBdKX1ub3RpZnlPbkNoYW5nZXMoKXshdGhpcy5fY2hhbmdlc3x8IXRoaXMuX2NoYW5nZXNEZXRlY3RlZCYmdGhpcy5fZW1pdERpc3RpbmN0Q2hhbmdlc09ubHl8fHRoaXMuX2NoYW5nZXMuZW1pdCh0aGlzKX1zZXREaXJ0eSgpe3RoaXMuZGlydHk9ITB9ZGVzdHJveSgpe3RoaXMuY2hhbmdlcy5jb21wbGV0ZSgpLHRoaXMuY2hhbmdlcy51bnN1YnNjcmliZSgpfX1jbGFzcyBTbHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnF1ZXJ5TGlzdD10LHRoaXMubWF0Y2hlcz1udWxsfWNsb25lKCl7cmV0dXJuIG5ldyBTbCh0aGlzLnF1ZXJ5TGlzdCl9c2V0RGlydHkoKXt0aGlzLnF1ZXJ5TGlzdC5zZXREaXJ0eSgpfX1jbGFzcyB4bHtjb25zdHJ1Y3Rvcih0PVtdKXt0aGlzLnF1ZXJpZXM9dH1jcmVhdGVFbWJlZGRlZFZpZXcodCl7Y29uc3QgZT10LnF1ZXJpZXM7aWYobnVsbCE9PWUpe2NvbnN0IG49bnVsbCE9PXQuY29udGVudFF1ZXJpZXM/dC5jb250ZW50UXVlcmllc1swXTplLmxlbmd0aCxyPVtdO2ZvcihsZXQgdD0wO3Q8bjt0Kyspe2NvbnN0IG49ZS5nZXRCeUluZGV4KHQpO3IucHVzaCh0aGlzLnF1ZXJpZXNbbi5pbmRleEluRGVjbGFyYXRpb25WaWV3XS5jbG9uZSgpKX1yZXR1cm4gbmV3IHhsKHIpfXJldHVybiBudWxsfWluc2VydFZpZXcodCl7dGhpcy5kaXJ0eVF1ZXJpZXNXaXRoTWF0Y2hlcyh0KX1kZXRhY2hWaWV3KHQpe3RoaXMuZGlydHlRdWVyaWVzV2l0aE1hdGNoZXModCl9ZGlydHlRdWVyaWVzV2l0aE1hdGNoZXModCl7Zm9yKGxldCBlPTA7ZTx0aGlzLnF1ZXJpZXMubGVuZ3RoO2UrKyludWxsIT09VWwodCxlKS5tYXRjaGVzJiZ0aGlzLnF1ZXJpZXNbZV0uc2V0RGlydHkoKX19Y2xhc3Mga2x7Y29uc3RydWN0b3IodCxlLG49bnVsbCl7dGhpcy5wcmVkaWNhdGU9dCx0aGlzLmZsYWdzPWUsdGhpcy5yZWFkPW59fWNsYXNzIFRse2NvbnN0cnVjdG9yKHQ9W10pe3RoaXMucXVlcmllcz10fWVsZW1lbnRTdGFydCh0LGUpe2ZvcihsZXQgbj0wO248dGhpcy5xdWVyaWVzLmxlbmd0aDtuKyspdGhpcy5xdWVyaWVzW25dLmVsZW1lbnRTdGFydCh0LGUpfWVsZW1lbnRFbmQodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLnF1ZXJpZXMubGVuZ3RoO2UrKyl0aGlzLnF1ZXJpZXNbZV0uZWxlbWVudEVuZCh0KX1lbWJlZGRlZFRWaWV3KHQpe2xldCBlPW51bGw7Zm9yKGxldCBuPTA7bjx0aGlzLmxlbmd0aDtuKyspe2NvbnN0IHI9bnVsbCE9PWU/ZS5sZW5ndGg6MCxzPXRoaXMuZ2V0QnlJbmRleChuKS5lbWJlZGRlZFRWaWV3KHQscik7cyYmKHMuaW5kZXhJbkRlY2xhcmF0aW9uVmlldz1uLG51bGwhPT1lP2UucHVzaChzKTplPVtzXSl9cmV0dXJuIG51bGwhPT1lP25ldyBUbChlKTpudWxsfXRlbXBsYXRlKHQsZSl7Zm9yKGxldCBuPTA7bjx0aGlzLnF1ZXJpZXMubGVuZ3RoO24rKyl0aGlzLnF1ZXJpZXNbbl0udGVtcGxhdGUodCxlKX1nZXRCeUluZGV4KHQpe3JldHVybiB0aGlzLnF1ZXJpZXNbdF19Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLnF1ZXJpZXMubGVuZ3RofXRyYWNrKHQpe3RoaXMucXVlcmllcy5wdXNoKHQpfX1jbGFzcyBPbHtjb25zdHJ1Y3Rvcih0LGU9LTEpe3RoaXMubWV0YWRhdGE9dCx0aGlzLm1hdGNoZXM9bnVsbCx0aGlzLmluZGV4SW5EZWNsYXJhdGlvblZpZXc9LTEsdGhpcy5jcm9zc2VzTmdUZW1wbGF0ZT0hMSx0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZT0hMCx0aGlzLl9kZWNsYXJhdGlvbk5vZGVJbmRleD1lfWVsZW1lbnRTdGFydCh0LGUpe3RoaXMuaXNBcHBseWluZ1RvTm9kZShlKSYmdGhpcy5tYXRjaFROb2RlKHQsZSl9ZWxlbWVudEVuZCh0KXt0aGlzLl9kZWNsYXJhdGlvbk5vZGVJbmRleD09PXQuaW5kZXgmJih0aGlzLl9hcHBsaWVzVG9OZXh0Tm9kZT0hMSl9dGVtcGxhdGUodCxlKXt0aGlzLmVsZW1lbnRTdGFydCh0LGUpfWVtYmVkZGVkVFZpZXcodCxlKXtyZXR1cm4gdGhpcy5pc0FwcGx5aW5nVG9Ob2RlKHQpPyh0aGlzLmNyb3NzZXNOZ1RlbXBsYXRlPSEwLHRoaXMuYWRkTWF0Y2goLXQuaW5kZXgsZSksbmV3IE9sKHRoaXMubWV0YWRhdGEpKTpudWxsfWlzQXBwbHlpbmdUb05vZGUodCl7aWYodGhpcy5fYXBwbGllc1RvTmV4dE5vZGUmJjEhPSgxJnRoaXMubWV0YWRhdGEuZmxhZ3MpKXtjb25zdCBlPXRoaXMuX2RlY2xhcmF0aW9uTm9kZUluZGV4O2xldCBuPXQucGFyZW50O2Zvcig7bnVsbCE9PW4mJjgmbi50eXBlJiZuLmluZGV4IT09ZTspbj1uLnBhcmVudDtyZXR1cm4gZT09PShudWxsIT09bj9uLmluZGV4Oi0xKX1yZXR1cm4gdGhpcy5fYXBwbGllc1RvTmV4dE5vZGV9bWF0Y2hUTm9kZSh0LGUpe2NvbnN0IG49dGhpcy5tZXRhZGF0YS5wcmVkaWNhdGU7aWYoQXJyYXkuaXNBcnJheShuKSlmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrKyl7Y29uc3Qgcz1uW3JdO3RoaXMubWF0Y2hUTm9kZVdpdGhSZWFkT3B0aW9uKHQsZSxGbChlLHMpKSx0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0LGUsUm4oZSx0LHMsITEsITEpKX1lbHNlIG49PT1ZYT80JmUudHlwZSYmdGhpcy5tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24odCxlLC0xKTp0aGlzLm1hdGNoVE5vZGVXaXRoUmVhZE9wdGlvbih0LGUsUm4oZSx0LG4sITEsITEpKX1tYXRjaFROb2RlV2l0aFJlYWRPcHRpb24odCxlLG4pe2lmKG51bGwhPT1uKXtjb25zdCByPXRoaXMubWV0YWRhdGEucmVhZDtpZihudWxsIT09cilpZihyPT09YmF8fHI9PT1ybHx8cj09PVlhJiY0JmUudHlwZSl0aGlzLmFkZE1hdGNoKGUuaW5kZXgsLTIpO2Vsc2V7Y29uc3Qgbj1SbihlLHQsciwhMSwhMSk7bnVsbCE9PW4mJnRoaXMuYWRkTWF0Y2goZS5pbmRleCxuKX1lbHNlIHRoaXMuYWRkTWF0Y2goZS5pbmRleCxuKX19YWRkTWF0Y2godCxlKXtudWxsPT09dGhpcy5tYXRjaGVzP3RoaXMubWF0Y2hlcz1bdCxlXTp0aGlzLm1hdGNoZXMucHVzaCh0LGUpfX1mdW5jdGlvbiBGbCh0LGUpe2NvbnN0IG49dC5sb2NhbE5hbWVzO2lmKG51bGwhPT1uKWZvcihsZXQgcj0wO3I8bi5sZW5ndGg7cis9MilpZihuW3JdPT09ZSlyZXR1cm4gbltyKzFdO3JldHVybiBudWxsfWZ1bmN0aW9uIFBsKHQsZSxuLHIpe3JldHVybi0xPT09bj9mdW5jdGlvbih0LGUpe3JldHVybiAxMSZ0LnR5cGU/eWEodCxlKTo0JnQudHlwZT9KYSh0LGUpOm51bGx9KGUsdCk6LTI9PT1uP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbj09PWJhP3lhKGUsdCk6bj09PVlhP0phKGUsdCk6bj09PXJsP2xsKGUsdCk6dm9pZCAwfSh0LGUscik6TW4odCx0WzFdLG4sZSl9ZnVuY3Rpb24gSWwodCxlLG4scil7Y29uc3Qgcz1lWzE5XS5xdWVyaWVzW3JdO2lmKG51bGw9PT1zLm1hdGNoZXMpe2NvbnN0IHI9dC5kYXRhLGk9bi5tYXRjaGVzLG89W107Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0Kz0yKXtjb25zdCBzPWlbdF07by5wdXNoKHM8MD9udWxsOlBsKGUscltzXSxpW3QrMV0sbi5tZXRhZGF0YS5yZWFkKSl9cy5tYXRjaGVzPW99cmV0dXJuIHMubWF0Y2hlc31mdW5jdGlvbiBSbCh0LGUsbixyKXtjb25zdCBzPXQucXVlcmllcy5nZXRCeUluZGV4KG4pLGk9cy5tYXRjaGVzO2lmKG51bGwhPT1pKXtjb25zdCBvPUlsKHQsZSxzLG4pO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCs9Mil7Y29uc3Qgbj1pW3RdO2lmKG4+MClyLnB1c2gob1t0LzJdKTtlbHNle2NvbnN0IHM9aVt0KzFdLG89ZVstbl07Zm9yKGxldCB0PUp0O3Q8by5sZW5ndGg7dCsrKXtjb25zdCBlPW9bdF07ZVsxN109PT1lWzNdJiZSbChlWzFdLGUscyxyKX1pZihudWxsIT09b1s5XSl7Y29uc3QgdD1vWzldO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBuPXRbZV07UmwoblsxXSxuLHMscil9fX19fXJldHVybiByfWZ1bmN0aW9uIE1sKHQpe2NvbnN0IGU9VGUoKSxuPU9lKCkscj16ZSgpO3FlKHIrMSk7Y29uc3Qgcz1VbChuLHIpO2lmKHQuZGlydHkmJkNlKGUpPT09KDI9PSgyJnMubWV0YWRhdGEuZmxhZ3MpKSl7aWYobnVsbD09PXMubWF0Y2hlcyl0LnJlc2V0KFtdKTtlbHNle2NvbnN0IGk9cy5jcm9zc2VzTmdUZW1wbGF0ZT9SbChuLGUscixbXSk6SWwobixlLHMscik7dC5yZXNldChpLF9hKSx0Lm5vdGlmeU9uQ2hhbmdlcygpfXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIFZsKHQsZSxuKXtjb25zdCByPU9lKCk7ci5maXJzdENyZWF0ZVBhc3MmJihCbChyLG5ldyBrbCh0LGUsbiksLTEpLDI9PSgyJmUpJiYoci5zdGF0aWNWaWV3UXVlcmllcz0hMCkpLExsKHIsVGUoKSxlKX1mdW5jdGlvbiBqbCh0LGUsbixyKXtjb25zdCBzPU9lKCk7aWYocy5maXJzdENyZWF0ZVBhc3Mpe2NvbnN0IGk9UGUoKTtCbChzLG5ldyBrbChlLG4sciksaS5pbmRleCksZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuY29udGVudFF1ZXJpZXN8fCh0LmNvbnRlbnRRdWVyaWVzPVtdKTtlIT09KG4ubGVuZ3RoP25bbi5sZW5ndGgtMV06LTEpJiZuLnB1c2godC5xdWVyaWVzLmxlbmd0aC0xLGUpfShzLHQpLDI9PSgyJm4pJiYocy5zdGF0aWNDb250ZW50UXVlcmllcz0hMCl9TGwocyxUZSgpLG4pfWZ1bmN0aW9uIE5sKCl7cmV0dXJuIHQ9VGUoKSxlPXplKCksdFsxOV0ucXVlcmllc1tlXS5xdWVyeUxpc3Q7dmFyIHQsZX1mdW5jdGlvbiBMbCh0LGUsbil7Y29uc3Qgcj1uZXcgQWwoND09KDQmbikpO2lpKHQsZSxyLHIuZGVzdHJveSksbnVsbD09PWVbMTldJiYoZVsxOV09bmV3IHhsKSxlWzE5XS5xdWVyaWVzLnB1c2gobmV3IFNsKHIpKX1mdW5jdGlvbiBCbCh0LGUsbil7bnVsbD09PXQucXVlcmllcyYmKHQucXVlcmllcz1uZXcgVGwpLHQucXVlcmllcy50cmFjayhuZXcgT2woZSxuKSl9ZnVuY3Rpb24gVWwodCxlKXtyZXR1cm4gdC5xdWVyaWVzLmdldEJ5SW5kZXgoZSl9ZnVuY3Rpb24gSGwodCxlKXtyZXR1cm4gSmEodCxlKX1jb25zdCAkbD1uZXcgJG4oIkFwcGxpY2F0aW9uIEluaXRpYWxpemVyIik7bGV0IHpsPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5hcHBJbml0cz10LHRoaXMucmVzb2x2ZT1tYSx0aGlzLnJlamVjdD1tYSx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuZG9uZT0hMSx0aGlzLmRvbmVQcm9taXNlPW5ldyBQcm9taXNlKCh0LGUpPT57dGhpcy5yZXNvbHZlPXQsdGhpcy5yZWplY3Q9ZX0pfXJ1bkluaXRpYWxpemVycygpe2lmKHRoaXMuaW5pdGlhbGl6ZWQpcmV0dXJuO2NvbnN0IHQ9W10sZT0oKT0+e3RoaXMuZG9uZT0hMCx0aGlzLnJlc29sdmUoKX07aWYodGhpcy5hcHBJbml0cylmb3IobGV0IG49MDtuPHRoaXMuYXBwSW5pdHMubGVuZ3RoO24rKyl7Y29uc3QgZT10aGlzLmFwcEluaXRzW25dKCk7aWYoX28oZSkpdC5wdXNoKGUpO2Vsc2UgaWYod28oZSkpe2NvbnN0IG49bmV3IFByb21pc2UoKHQsbik9PntlLnN1YnNjcmliZSh7Y29tcGxldGU6dCxlcnJvcjpufSl9KTt0LnB1c2gobil9fVByb21pc2UuYWxsKHQpLnRoZW4oKCk9PntlKCl9KS5jYXRjaCh0PT57dGhpcy5yZWplY3QodCl9KSwwPT09dC5sZW5ndGgmJmUoKSx0aGlzLmluaXRpYWxpemVkPSEwfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcigkbCw4KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y29uc3QgcWw9bmV3ICRuKCJBcHBJZCIpLFdsPXtwcm92aWRlOnFsLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm5gJHtHbCgpfSR7R2woKX0ke0dsKCl9YH0sZGVwczpbXX07ZnVuY3Rpb24gR2woKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg5NytNYXRoLmZsb29yKDI1Kk1hdGgucmFuZG9tKCkpKX1jb25zdCBabD1uZXcgJG4oIlBsYXRmb3JtIEluaXRpYWxpemVyIiksS2w9bmV3ICRuKCJQbGF0Zm9ybSBJRCIpLFlsPW5ldyAkbigiYXBwQm9vdHN0cmFwTGlzdGVuZXIiKTtsZXQgUWw9KCgpPT57Y2xhc3MgdHtsb2codCl7Y29uc29sZS5sb2codCl9d2Fybih0KXtjb25zb2xlLndhcm4odCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IFhsPW5ldyAkbigiTG9jYWxlSWQiKSxKbD1uZXcgJG4oIkRlZmF1bHRDdXJyZW5jeUNvZGUiKTtjbGFzcyB0dXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMubmdNb2R1bGVGYWN0b3J5PXQsdGhpcy5jb21wb25lbnRGYWN0b3JpZXM9ZX19Y29uc3QgZXU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB5bCh0KX0sbnU9ZXUscnU9ZnVuY3Rpb24odCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShldSh0KSl9LHN1PWZ1bmN0aW9uKHQpe2NvbnN0IGU9ZXUodCksbj1ZcihRdCh0KS5kZWNsYXJhdGlvbnMpLnJlZHVjZSgodCxlKT0+e2NvbnN0IG49WXQoZSk7cmV0dXJuIG4mJnQucHVzaChuZXcgcGwobikpLHR9LFtdKTtyZXR1cm4gbmV3IHR1KGUsbil9LGl1PXN1LG91PWZ1bmN0aW9uKHQpe3JldHVybiBQcm9taXNlLnJlc29sdmUoc3UodCkpfTtsZXQgYXU9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuY29tcGlsZU1vZHVsZVN5bmM9bnUsdGhpcy5jb21waWxlTW9kdWxlQXN5bmM9cnUsdGhpcy5jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c1N5bmM9aXUsdGhpcy5jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c0FzeW5jPW91fWNsZWFyQ2FjaGUoKXt9Y2xlYXJDYWNoZUZvcih0KXt9Z2V0TW9kdWxlSWQodCl7fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCBsdT0oKCk9PlByb21pc2UucmVzb2x2ZSgwKSkoKTtmdW5jdGlvbiB1dSh0KXsidW5kZWZpbmVkIj09dHlwZW9mIFpvbmU/bHUudGhlbigoKT0+e3QmJnQuYXBwbHkobnVsbCxudWxsKX0pOlpvbmUuY3VycmVudC5zY2hlZHVsZU1pY3JvVGFzaygic2NoZWR1bGVNaWNyb3Rhc2siLHQpfWNsYXNzIGN1e2NvbnN0cnVjdG9yKHtlbmFibGVMb25nU3RhY2tUcmFjZTp0PSExLHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb246ZT0hMSxzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbjpuPSExfSl7aWYodGhpcy5oYXNQZW5kaW5nTWFjcm90YXNrcz0hMSx0aGlzLmhhc1BlbmRpbmdNaWNyb3Rhc2tzPSExLHRoaXMuaXNTdGFibGU9ITAsdGhpcy5vblVuc3RhYmxlPW5ldyBFbCghMSksdGhpcy5vbk1pY3JvdGFza0VtcHR5PW5ldyBFbCghMSksdGhpcy5vblN0YWJsZT1uZXcgRWwoITEpLHRoaXMub25FcnJvcj1uZXcgRWwoITEpLCJ1bmRlZmluZWQiPT10eXBlb2YgWm9uZSl0aHJvdyBuZXcgRXJyb3IoIkluIHRoaXMgY29uZmlndXJhdGlvbiBBbmd1bGFyIHJlcXVpcmVzIFpvbmUuanMiKTtab25lLmFzc2VydFpvbmVQYXRjaGVkKCk7Y29uc3Qgcj10aGlzO3IuX25lc3Rpbmc9MCxyLl9vdXRlcj1yLl9pbm5lcj1ab25lLmN1cnJlbnQsWm9uZS5UYXNrVHJhY2tpbmdab25lU3BlYyYmKHIuX2lubmVyPXIuX2lubmVyLmZvcmsobmV3IFpvbmUuVGFza1RyYWNraW5nWm9uZVNwZWMpKSx0JiZab25lLmxvbmdTdGFja1RyYWNlWm9uZVNwZWMmJihyLl9pbm5lcj1yLl9pbm5lci5mb3JrKFpvbmUubG9uZ1N0YWNrVHJhY2Vab25lU3BlYykpLHIuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbj0hbiYmZSxyLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uPW4sci5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQ9LTEsci5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtsZXQgdD1GdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsZT1GdC5jYW5jZWxBbmltYXRpb25GcmFtZTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFpvbmUmJnQmJmUpe2NvbnN0IG49dFtab25lLl9fc3ltYm9sX18oIk9yaWdpbmFsRGVsZWdhdGUiKV07biYmKHQ9bik7Y29uc3Qgcj1lW1pvbmUuX19zeW1ib2xfXygiT3JpZ2luYWxEZWxlZ2F0ZSIpXTtyJiYoZT1yKX1yZXR1cm57bmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lOnQsbmF0aXZlQ2FuY2VsQW5pbWF0aW9uRnJhbWU6ZX19KCkubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lLGZ1bmN0aW9uKHQpe2NvbnN0IGU9KCk9PnshZnVuY3Rpb24odCl7dC5pc0NoZWNrU3RhYmxlUnVubmluZ3x8LTEhPT10Lmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZHx8KHQubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkPXQubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lLmNhbGwoRnQsKCk9Pnt0LmZha2VUb3BFdmVudFRhc2t8fCh0LmZha2VUb3BFdmVudFRhc2s9Wm9uZS5yb290LnNjaGVkdWxlRXZlbnRUYXNrKCJmYWtlVG9wRXZlbnRUYXNrIiwoKT0+e3QubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkPS0xLHB1KHQpLHQuaXNDaGVja1N0YWJsZVJ1bm5pbmc9ITAsZHUodCksdC5pc0NoZWNrU3RhYmxlUnVubmluZz0hMX0sdm9pZCAwLCgpPT57fSwoKT0+e30pKSx0LmZha2VUb3BFdmVudFRhc2suaW52b2tlKCl9KSxwdSh0KSl9KHQpfTt0Ll9pbm5lcj10Ll9pbm5lci5mb3JrKHtuYW1lOiJhbmd1bGFyIixwcm9wZXJ0aWVzOntpc0FuZ3VsYXJab25lOiEwfSxvbkludm9rZVRhc2s6KG4scixzLGksbyxhKT0+e3RyeXtyZXR1cm4gZnUodCksbi5pbnZva2VUYXNrKHMsaSxvLGEpfWZpbmFsbHl7KHQuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiYmImV2ZW50VGFzayI9PT1pLnR5cGV8fHQuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24pJiZlKCksZ3UodCl9fSxvbkludm9rZToobixyLHMsaSxvLGEsbCk9Pnt0cnl7cmV0dXJuIGZ1KHQpLG4uaW52b2tlKHMsaSxvLGEsbCl9ZmluYWxseXt0LnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uJiZlKCksZ3UodCl9fSxvbkhhc1Rhc2s6KGUsbixyLHMpPT57ZS5oYXNUYXNrKHIscyksbj09PXImJigibWljcm9UYXNrIj09cy5jaGFuZ2U/KHQuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzPXMubWljcm9UYXNrLHB1KHQpLGR1KHQpKToibWFjcm9UYXNrIj09cy5jaGFuZ2UmJih0Lmhhc1BlbmRpbmdNYWNyb3Rhc2tzPXMubWFjcm9UYXNrKSl9LG9uSGFuZGxlRXJyb3I6KGUsbixyLHMpPT4oZS5oYW5kbGVFcnJvcihyLHMpLHQucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PnQub25FcnJvci5lbWl0KHMpKSwhMSl9KX0ocil9c3RhdGljIGlzSW5Bbmd1bGFyWm9uZSgpe3JldHVybiEwPT09Wm9uZS5jdXJyZW50LmdldCgiaXNBbmd1bGFyWm9uZSIpfXN0YXRpYyBhc3NlcnRJbkFuZ3VsYXJab25lKCl7aWYoIWN1LmlzSW5Bbmd1bGFyWm9uZSgpKXRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgdG8gYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMgbm90ISIpfXN0YXRpYyBhc3NlcnROb3RJbkFuZ3VsYXJab25lKCl7aWYoY3UuaXNJbkFuZ3VsYXJab25lKCkpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCB0byBub3QgYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMhIil9cnVuKHQsZSxuKXtyZXR1cm4gdGhpcy5faW5uZXIucnVuKHQsZSxuKX1ydW5UYXNrKHQsZSxuLHIpe2NvbnN0IHM9dGhpcy5faW5uZXIsaT1zLnNjaGVkdWxlRXZlbnRUYXNrKCJOZ1pvbmVFdmVudDogIityLHQsaHUsbWEsbWEpO3RyeXtyZXR1cm4gcy5ydW5UYXNrKGksZSxuKX1maW5hbGx5e3MuY2FuY2VsVGFzayhpKX19cnVuR3VhcmRlZCh0LGUsbil7cmV0dXJuIHRoaXMuX2lubmVyLnJ1bkd1YXJkZWQodCxlLG4pfXJ1bk91dHNpZGVBbmd1bGFyKHQpe3JldHVybiB0aGlzLl9vdXRlci5ydW4odCl9fWNvbnN0IGh1PXt9O2Z1bmN0aW9uIGR1KHQpe2lmKDA9PXQuX25lc3RpbmcmJiF0Lmhhc1BlbmRpbmdNaWNyb3Rhc2tzJiYhdC5pc1N0YWJsZSl0cnl7dC5fbmVzdGluZysrLHQub25NaWNyb3Rhc2tFbXB0eS5lbWl0KG51bGwpfWZpbmFsbHl7aWYodC5fbmVzdGluZy0tLCF0Lmhhc1BlbmRpbmdNaWNyb3Rhc2tzKXRyeXt0LnJ1bk91dHNpZGVBbmd1bGFyKCgpPT50Lm9uU3RhYmxlLmVtaXQobnVsbCkpfWZpbmFsbHl7dC5pc1N0YWJsZT0hMH19fWZ1bmN0aW9uIHB1KHQpe3QuaGFzUGVuZGluZ01pY3JvdGFza3M9ISEodC5faGFzUGVuZGluZ01pY3JvdGFza3N8fCh0LnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb258fHQuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24pJiYtMSE9PXQubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkKX1mdW5jdGlvbiBmdSh0KXt0Ll9uZXN0aW5nKyssdC5pc1N0YWJsZSYmKHQuaXNTdGFibGU9ITEsdC5vblVuc3RhYmxlLmVtaXQobnVsbCkpfWZ1bmN0aW9uIGd1KHQpe3QuX25lc3RpbmctLSxkdSh0KX1jbGFzcyBtdXtjb25zdHJ1Y3Rvcigpe3RoaXMuaGFzUGVuZGluZ01pY3JvdGFza3M9ITEsdGhpcy5oYXNQZW5kaW5nTWFjcm90YXNrcz0hMSx0aGlzLmlzU3RhYmxlPSEwLHRoaXMub25VbnN0YWJsZT1uZXcgRWwsdGhpcy5vbk1pY3JvdGFza0VtcHR5PW5ldyBFbCx0aGlzLm9uU3RhYmxlPW5ldyBFbCx0aGlzLm9uRXJyb3I9bmV3IEVsfXJ1bih0LGUsbil7cmV0dXJuIHQuYXBwbHkoZSxuKX1ydW5HdWFyZGVkKHQsZSxuKXtyZXR1cm4gdC5hcHBseShlLG4pfXJ1bk91dHNpZGVBbmd1bGFyKHQpe3JldHVybiB0KCl9cnVuVGFzayh0LGUsbixyKXtyZXR1cm4gdC5hcHBseShlLG4pfX1sZXQgeXU9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9uZ1pvbmU9dCx0aGlzLl9wZW5kaW5nQ291bnQ9MCx0aGlzLl9pc1pvbmVTdGFibGU9ITAsdGhpcy5fZGlkV29yaz0hMSx0aGlzLl9jYWxsYmFja3M9W10sdGhpcy50YXNrVHJhY2tpbmdab25lPW51bGwsdGhpcy5fd2F0Y2hBbmd1bGFyRXZlbnRzKCksdC5ydW4oKCk9Pnt0aGlzLnRhc2tUcmFja2luZ1pvbmU9InVuZGVmaW5lZCI9PXR5cGVvZiBab25lP251bGw6Wm9uZS5jdXJyZW50LmdldCgiVGFza1RyYWNraW5nWm9uZSIpfSl9X3dhdGNoQW5ndWxhckV2ZW50cygpe3RoaXMuX25nWm9uZS5vblVuc3RhYmxlLnN1YnNjcmliZSh7bmV4dDooKT0+e3RoaXMuX2RpZFdvcms9ITAsdGhpcy5faXNab25lU3RhYmxlPSExfX0pLHRoaXMuX25nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e3RoaXMuX25nWm9uZS5vblN0YWJsZS5zdWJzY3JpYmUoe25leHQ6KCk9PntjdS5hc3NlcnROb3RJbkFuZ3VsYXJab25lKCksdXUoKCk9Pnt0aGlzLl9pc1pvbmVTdGFibGU9ITAsdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpfSl9fSl9KX1pbmNyZWFzZVBlbmRpbmdSZXF1ZXN0Q291bnQoKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50Kz0xLHRoaXMuX2RpZFdvcms9ITAsdGhpcy5fcGVuZGluZ0NvdW50fWRlY3JlYXNlUGVuZGluZ1JlcXVlc3RDb3VudCgpe2lmKHRoaXMuX3BlbmRpbmdDb3VudC09MSx0aGlzLl9wZW5kaW5nQ291bnQ8MCl0aHJvdyBuZXcgRXJyb3IoInBlbmRpbmcgYXN5bmMgcmVxdWVzdHMgYmVsb3cgemVybyIpO3JldHVybiB0aGlzLl9ydW5DYWxsYmFja3NJZlJlYWR5KCksdGhpcy5fcGVuZGluZ0NvdW50fWlzU3RhYmxlKCl7cmV0dXJuIHRoaXMuX2lzWm9uZVN0YWJsZSYmMD09PXRoaXMuX3BlbmRpbmdDb3VudCYmIXRoaXMuX25nWm9uZS5oYXNQZW5kaW5nTWFjcm90YXNrc31fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpe2lmKHRoaXMuaXNTdGFibGUoKSl1dSgoKT0+e2Zvcig7MCE9PXRoaXMuX2NhbGxiYWNrcy5sZW5ndGg7KXtsZXQgdD10aGlzLl9jYWxsYmFja3MucG9wKCk7Y2xlYXJUaW1lb3V0KHQudGltZW91dElkKSx0LmRvbmVDYih0aGlzLl9kaWRXb3JrKX10aGlzLl9kaWRXb3JrPSExfSk7ZWxzZXtsZXQgdD10aGlzLmdldFBlbmRpbmdUYXNrcygpO3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3MuZmlsdGVyKGU9PiFlLnVwZGF0ZUNifHwhZS51cGRhdGVDYih0KXx8KGNsZWFyVGltZW91dChlLnRpbWVvdXRJZCksITEpKSx0aGlzLl9kaWRXb3JrPSEwfX1nZXRQZW5kaW5nVGFza3MoKXtyZXR1cm4gdGhpcy50YXNrVHJhY2tpbmdab25lP3RoaXMudGFza1RyYWNraW5nWm9uZS5tYWNyb1Rhc2tzLm1hcCh0PT4oe3NvdXJjZTp0LnNvdXJjZSxjcmVhdGlvbkxvY2F0aW9uOnQuY3JlYXRpb25Mb2NhdGlvbixkYXRhOnQuZGF0YX0pKTpbXX1hZGRDYWxsYmFjayh0LGUsbil7bGV0IHI9LTE7ZSYmZT4wJiYocj1zZXRUaW1lb3V0KCgpPT57dGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrcy5maWx0ZXIodD0+dC50aW1lb3V0SWQhPT1yKSx0KHRoaXMuX2RpZFdvcmssdGhpcy5nZXRQZW5kaW5nVGFza3MoKSl9LGUpKSx0aGlzLl9jYWxsYmFja3MucHVzaCh7ZG9uZUNiOnQsdGltZW91dElkOnIsdXBkYXRlQ2I6bn0pfXdoZW5TdGFibGUodCxlLG4pe2lmKG4mJiF0aGlzLnRhc2tUcmFja2luZ1pvbmUpdGhyb3cgbmV3IEVycm9yKCdUYXNrIHRyYWNraW5nIHpvbmUgaXMgcmVxdWlyZWQgd2hlbiBwYXNzaW5nIGFuIHVwZGF0ZSBjYWxsYmFjayB0byB3aGVuU3RhYmxlKCkuIElzICJ6b25lLmpzL3BsdWdpbnMvdGFzay10cmFja2luZyIgbG9hZGVkPycpO3RoaXMuYWRkQ2FsbGJhY2sodCxlLG4pLHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKX1nZXRQZW5kaW5nUmVxdWVzdENvdW50KCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudH1maW5kUHJvdmlkZXJzKHQsZSxuKXtyZXR1cm5bXX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoY3UpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSx2dT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5fYXBwbGljYXRpb25zPW5ldyBNYXAsd3UuYWRkVG9XaW5kb3codGhpcyl9cmVnaXN0ZXJBcHBsaWNhdGlvbih0LGUpe3RoaXMuX2FwcGxpY2F0aW9ucy5zZXQodCxlKX11bnJlZ2lzdGVyQXBwbGljYXRpb24odCl7dGhpcy5fYXBwbGljYXRpb25zLmRlbGV0ZSh0KX11bnJlZ2lzdGVyQWxsQXBwbGljYXRpb25zKCl7dGhpcy5fYXBwbGljYXRpb25zLmNsZWFyKCl9Z2V0VGVzdGFiaWxpdHkodCl7cmV0dXJuIHRoaXMuX2FwcGxpY2F0aW9ucy5nZXQodCl8fG51bGx9Z2V0QWxsVGVzdGFiaWxpdGllcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX2FwcGxpY2F0aW9ucy52YWx1ZXMoKSl9Z2V0QWxsUm9vdEVsZW1lbnRzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5fYXBwbGljYXRpb25zLmtleXMoKSl9ZmluZFRlc3RhYmlsaXR5SW5UcmVlKHQsZT0hMCl7cmV0dXJuIHd1LmZpbmRUZXN0YWJpbGl0eUluVHJlZSh0aGlzLHQsZSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NsYXNzIGJ1e2FkZFRvV2luZG93KHQpe31maW5kVGVzdGFiaWxpdHlJblRyZWUodCxlLG4pe3JldHVybiBudWxsfX1sZXQgX3Usd3U9bmV3IGJ1LEN1PSEwLEV1PSExO2NvbnN0IER1PW5ldyAkbigiQWxsb3dNdWx0aXBsZVRva2VuIik7Y2xhc3MgQXV7Y29uc3RydWN0b3IodCxlKXt0aGlzLm5hbWU9dCx0aGlzLnRva2VuPWV9fWZ1bmN0aW9uIFN1KHQsZSxuPVtdKXtjb25zdCByPWBQbGF0Zm9ybTogJHtlfWAscz1uZXcgJG4ocik7cmV0dXJuKGU9W10pPT57bGV0IGk9eHUoKTtpZighaXx8aS5pbmplY3Rvci5nZXQoRHUsITEpKWlmKHQpdChuLmNvbmNhdChlKS5jb25jYXQoe3Byb3ZpZGU6cyx1c2VWYWx1ZTohMH0pKTtlbHNle2NvbnN0IHQ9bi5jb25jYXQoZSkuY29uY2F0KHtwcm92aWRlOnMsdXNlVmFsdWU6ITB9LHtwcm92aWRlOlJpLHVzZVZhbHVlOiJwbGF0Zm9ybSJ9KTshZnVuY3Rpb24odCl7aWYoX3UmJiFfdS5kZXN0cm95ZWQmJiFfdS5pbmplY3Rvci5nZXQoRHUsITEpKXRocm93IG5ldyBFcnJvcigiVGhlcmUgY2FuIGJlIG9ubHkgb25lIHBsYXRmb3JtLiBEZXN0cm95IHRoZSBwcmV2aW91cyBvbmUgdG8gY3JlYXRlIGEgbmV3IG9uZS4iKTtfdT10LmdldChrdSk7Y29uc3QgZT10LmdldChabCxudWxsKTtlJiZlLmZvckVhY2godD0+dCgpKX0oR2kuY3JlYXRlKHtwcm92aWRlcnM6dCxuYW1lOnJ9KSl9cmV0dXJuIGZ1bmN0aW9uKHQpe2NvbnN0IGU9eHUoKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIk5vIHBsYXRmb3JtIGV4aXN0cyEiKTtpZighZS5pbmplY3Rvci5nZXQodCxudWxsKSl0aHJvdyBuZXcgRXJyb3IoIkEgcGxhdGZvcm0gd2l0aCBhIGRpZmZlcmVudCBjb25maWd1cmF0aW9uIGhhcyBiZWVuIGNyZWF0ZWQuIFBsZWFzZSBkZXN0cm95IGl0IGZpcnN0LiIpO3JldHVybiBlfShzKX19ZnVuY3Rpb24geHUoKXtyZXR1cm4gX3UmJiFfdS5kZXN0cm95ZWQ/X3U6bnVsbH1sZXQga3U9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pbmplY3Rvcj10LHRoaXMuX21vZHVsZXM9W10sdGhpcy5fZGVzdHJveUxpc3RlbmVycz1bXSx0aGlzLl9kZXN0cm95ZWQ9ITF9Ym9vdHN0cmFwTW9kdWxlRmFjdG9yeSh0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCxlKXtsZXQgbjtyZXR1cm4gbj0ibm9vcCI9PT10P25ldyBtdTooInpvbmUuanMiPT09dD92b2lkIDA6dCl8fG5ldyBjdSh7ZW5hYmxlTG9uZ1N0YWNrVHJhY2U6KEV1PSEwLEN1KSxzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uOiEhKG51bGw9PWU/dm9pZCAwOmUubmdab25lRXZlbnRDb2FsZXNjaW5nKSxzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbjohIShudWxsPT1lP3ZvaWQgMDplLm5nWm9uZVJ1bkNvYWxlc2NpbmcpfSksbn0oZT9lLm5nWm9uZTp2b2lkIDAse25nWm9uZUV2ZW50Q29hbGVzY2luZzplJiZlLm5nWm9uZUV2ZW50Q29hbGVzY2luZ3x8ITEsbmdab25lUnVuQ29hbGVzY2luZzplJiZlLm5nWm9uZVJ1bkNvYWxlc2Npbmd8fCExfSkscj1be3Byb3ZpZGU6Y3UsdXNlVmFsdWU6bn1dO3JldHVybiBuLnJ1bigoKT0+e2NvbnN0IGU9R2kuY3JlYXRlKHtwcm92aWRlcnM6cixwYXJlbnQ6dGhpcy5pbmplY3RvcixuYW1lOnQubW9kdWxlVHlwZS5uYW1lfSkscz10LmNyZWF0ZShlKSxpPXMuaW5qZWN0b3IuZ2V0KFpyLG51bGwpO2lmKCFpKXRocm93IG5ldyBFcnJvcigiTm8gRXJyb3JIYW5kbGVyLiBJcyBwbGF0Zm9ybSBtb2R1bGUgKEJyb3dzZXJNb2R1bGUpIGluY2x1ZGVkPyIpO3JldHVybiBuLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT57Y29uc3QgdD1uLm9uRXJyb3Iuc3Vic2NyaWJlKHtuZXh0OnQ9PntpLmhhbmRsZUVycm9yKHQpfX0pO3Mub25EZXN0cm95KCgpPT57RnUodGhpcy5fbW9kdWxlcyxzKSx0LnVuc3Vic2NyaWJlKCl9KX0pLGZ1bmN0aW9uKHQsZSxuKXt0cnl7Y29uc3Qgcj1uKCk7cmV0dXJuIF9vKHIpP3IuY2F0Y2gobj0+e3Rocm93IGUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PnQuaGFuZGxlRXJyb3IobikpLG59KTpyfWNhdGNoKHIpe3Rocm93IGUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PnQuaGFuZGxlRXJyb3IocikpLHJ9fShpLG4sKCk9Pntjb25zdCB0PXMuaW5qZWN0b3IuZ2V0KHpsKTtyZXR1cm4gdC5ydW5Jbml0aWFsaXplcnMoKSx0LmRvbmVQcm9taXNlLnRoZW4oKCk9PihzYShzLmluamVjdG9yLmdldChYbCxuYSl8fG5hKSx0aGlzLl9tb2R1bGVEb0Jvb3RzdHJhcChzKSxzKSl9KX0pfWJvb3RzdHJhcE1vZHVsZSh0LGU9W10pe2NvbnN0IG49VHUoe30sZSk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPW5ldyB5bChuKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIpfSgwLDAsdCkudGhlbih0PT50aGlzLmJvb3RzdHJhcE1vZHVsZUZhY3RvcnkodCxuKSl9X21vZHVsZURvQm9vdHN0cmFwKHQpe2NvbnN0IGU9dC5pbmplY3Rvci5nZXQoT3UpO2lmKHQuX2Jvb3RzdHJhcENvbXBvbmVudHMubGVuZ3RoPjApdC5fYm9vdHN0cmFwQ29tcG9uZW50cy5mb3JFYWNoKHQ9PmUuYm9vdHN0cmFwKHQpKTtlbHNle2lmKCF0Lmluc3RhbmNlLm5nRG9Cb290c3RyYXApdGhyb3cgbmV3IEVycm9yKGBUaGUgbW9kdWxlICR7ZXQodC5pbnN0YW5jZS5jb25zdHJ1Y3Rvcil9IHdhcyBib290c3RyYXBwZWQsIGJ1dCBpdCBkb2VzIG5vdCBkZWNsYXJlICJATmdNb2R1bGUuYm9vdHN0cmFwIiBjb21wb25lbnRzIG5vciBhICJuZ0RvQm9vdHN0cmFwIiBtZXRob2QuIFBsZWFzZSBkZWZpbmUgb25lIG9mIHRoZXNlLmApO3QuaW5zdGFuY2UubmdEb0Jvb3RzdHJhcChlKX10aGlzLl9tb2R1bGVzLnB1c2godCl9b25EZXN0cm95KHQpe3RoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMucHVzaCh0KX1nZXQgaW5qZWN0b3IoKXtyZXR1cm4gdGhpcy5faW5qZWN0b3J9ZGVzdHJveSgpe2lmKHRoaXMuX2Rlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBwbGF0Zm9ybSBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZCEiKTt0aGlzLl9tb2R1bGVzLnNsaWNlKCkuZm9yRWFjaCh0PT50LmRlc3Ryb3koKSksdGhpcy5fZGVzdHJveUxpc3RlbmVycy5mb3JFYWNoKHQ9PnQoKSksdGhpcy5fZGVzdHJveWVkPSEwfWdldCBkZXN0cm95ZWQoKXtyZXR1cm4gdGhpcy5fZGVzdHJveWVkfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihHaSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2Z1bmN0aW9uIFR1KHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5yZWR1Y2UoVHUsdCk6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLGUpfWxldCBPdT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuLHIscyl7dGhpcy5fem9uZT10LHRoaXMuX2luamVjdG9yPWUsdGhpcy5fZXhjZXB0aW9uSGFuZGxlcj1uLHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcj1yLHRoaXMuX2luaXRTdGF0dXM9cyx0aGlzLl9ib290c3RyYXBMaXN0ZW5lcnM9W10sdGhpcy5fdmlld3M9W10sdGhpcy5fcnVubmluZ1RpY2s9ITEsdGhpcy5fc3RhYmxlPSEwLHRoaXMuY29tcG9uZW50VHlwZXM9W10sdGhpcy5jb21wb25lbnRzPVtdLHRoaXMuX29uTWljcm90YXNrRW1wdHlTdWJzY3JpcHRpb249dGhpcy5fem9uZS5vbk1pY3JvdGFza0VtcHR5LnN1YnNjcmliZSh7bmV4dDooKT0+e3RoaXMuX3pvbmUucnVuKCgpPT57dGhpcy50aWNrKCl9KX19KTtjb25zdCBpPW5ldyB2KHQ9Pnt0aGlzLl9zdGFibGU9dGhpcy5fem9uZS5pc1N0YWJsZSYmIXRoaXMuX3pvbmUuaGFzUGVuZGluZ01hY3JvdGFza3MmJiF0aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzLHRoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9Pnt0Lm5leHQodGhpcy5fc3RhYmxlKSx0LmNvbXBsZXRlKCl9KX0pLG89bmV3IHYodD0+e2xldCBlO3RoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PntlPXRoaXMuX3pvbmUub25TdGFibGUuc3Vic2NyaWJlKCgpPT57Y3UuYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpLHV1KCgpPT57dGhpcy5fc3RhYmxlfHx0aGlzLl96b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzfHx0aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzfHwodGhpcy5fc3RhYmxlPSEwLHQubmV4dCghMCkpfSl9KX0pO2NvbnN0IG49dGhpcy5fem9uZS5vblVuc3RhYmxlLnN1YnNjcmliZSgoKT0+e2N1LmFzc2VydEluQW5ndWxhclpvbmUoKSx0aGlzLl9zdGFibGUmJih0aGlzLl9zdGFibGU9ITEsdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e3QubmV4dCghMSl9KSl9KTtyZXR1cm4oKT0+e2UudW5zdWJzY3JpYmUoKSxuLnVuc3Vic2NyaWJlKCl9fSk7dGhpcy5pc1N0YWJsZT1xKGksby5waXBlKHQ9PntyZXR1cm4gVygpKChlPVgsZnVuY3Rpb24odCl7bGV0IG47bj0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOmZ1bmN0aW9uKCl7cmV0dXJuIGV9O2NvbnN0IHI9T2JqZWN0LmNyZWF0ZSh0LFkpO3JldHVybiByLnNvdXJjZT10LHIuc3ViamVjdEZhY3Rvcnk9bixyfSkodCkpO3ZhciBlfSkpfWJvb3RzdHJhcCh0LGUpe2lmKCF0aGlzLl9pbml0U3RhdHVzLmRvbmUpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgYm9vdHN0cmFwIGFzIHRoZXJlIGFyZSBzdGlsbCBhc3luY2hyb25vdXMgaW5pdGlhbGl6ZXJzIHJ1bm5pbmcuIEJvb3RzdHJhcCBjb21wb25lbnRzIGluIHRoZSBgbmdEb0Jvb3RzdHJhcGAgbWV0aG9kIG9mIHRoZSByb290IG1vZHVsZS4iKTtsZXQgbjtuPXQgaW5zdGFuY2VvZiBwYT90OnRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSh0KSx0aGlzLmNvbXBvbmVudFR5cGVzLnB1c2gobi5jb21wb25lbnRUeXBlKTtjb25zdCByPW4uaXNCb3VuZFRvTW9kdWxlP3ZvaWQgMDp0aGlzLl9pbmplY3Rvci5nZXQodGwpLHM9bi5jcmVhdGUoR2kuTlVMTCxbXSxlfHxuLnNlbGVjdG9yLHIpLGk9cy5sb2NhdGlvbi5uYXRpdmVFbGVtZW50LG89cy5pbmplY3Rvci5nZXQoeXUsbnVsbCksYT1vJiZzLmluamVjdG9yLmdldCh2dSk7cmV0dXJuIG8mJmEmJmEucmVnaXN0ZXJBcHBsaWNhdGlvbihpLG8pLHMub25EZXN0cm95KCgpPT57dGhpcy5kZXRhY2hWaWV3KHMuaG9zdFZpZXcpLEZ1KHRoaXMuY29tcG9uZW50cyxzKSxhJiZhLnVucmVnaXN0ZXJBcHBsaWNhdGlvbihpKX0pLHRoaXMuX2xvYWRDb21wb25lbnQocyksc310aWNrKCl7aWYodGhpcy5fcnVubmluZ1RpY2spdGhyb3cgbmV3IEVycm9yKCJBcHBsaWNhdGlvblJlZi50aWNrIGlzIGNhbGxlZCByZWN1cnNpdmVseSIpO3RyeXt0aGlzLl9ydW5uaW5nVGljaz0hMDtmb3IobGV0IHQgb2YgdGhpcy5fdmlld3MpdC5kZXRlY3RDaGFuZ2VzKCl9Y2F0Y2godCl7dGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+dGhpcy5fZXhjZXB0aW9uSGFuZGxlci5oYW5kbGVFcnJvcih0KSl9ZmluYWxseXt0aGlzLl9ydW5uaW5nVGljaz0hMX19YXR0YWNoVmlldyh0KXtjb25zdCBlPXQ7dGhpcy5fdmlld3MucHVzaChlKSxlLmF0dGFjaFRvQXBwUmVmKHRoaXMpfWRldGFjaFZpZXcodCl7Y29uc3QgZT10O0Z1KHRoaXMuX3ZpZXdzLGUpLGUuZGV0YWNoRnJvbUFwcFJlZigpfV9sb2FkQ29tcG9uZW50KHQpe3RoaXMuYXR0YWNoVmlldyh0Lmhvc3RWaWV3KSx0aGlzLnRpY2soKSx0aGlzLmNvbXBvbmVudHMucHVzaCh0KSx0aGlzLl9pbmplY3Rvci5nZXQoWWwsW10pLmNvbmNhdCh0aGlzLl9ib290c3RyYXBMaXN0ZW5lcnMpLmZvckVhY2goZT0+ZSh0KSl9bmdPbkRlc3Ryb3koKXt0aGlzLl92aWV3cy5zbGljZSgpLmZvckVhY2godD0+dC5kZXN0cm95KCkpLHRoaXMuX29uTWljcm90YXNrRW1wdHlTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX1nZXQgdmlld0NvdW50KCl7cmV0dXJuIHRoaXMuX3ZpZXdzLmxlbmd0aH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoY3UpLGFyKEdpKSxhcihaciksYXIoZ2EpLGFyKHpsKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7ZnVuY3Rpb24gRnUodCxlKXtjb25zdCBuPXQuaW5kZXhPZihlKTtuPi0xJiZ0LnNwbGljZShuLDEpfWNsYXNzIFB1e31jbGFzcyBJdXt9Y29uc3QgUnU9e2ZhY3RvcnlQYXRoUHJlZml4OiIiLGZhY3RvcnlQYXRoU3VmZml4OiIubmdmYWN0b3J5In07bGV0IE11PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9jb21waWxlcj10LHRoaXMuX2NvbmZpZz1lfHxSdX1sb2FkKHQpe3JldHVybiB0aGlzLmxvYWRBbmRDb21waWxlKHQpfWxvYWRBbmRDb21waWxlKHQpe2xldFtlLHJdPXQuc3BsaXQoIiMiKTtyZXR1cm4gdm9pZCAwPT09ciYmKHI9ImRlZmF1bHQiKSxuKDIyMSkoZSkudGhlbih0PT50W3JdKS50aGVuKHQ9PlZ1KHQsZSxyKSkudGhlbih0PT50aGlzLl9jb21waWxlci5jb21waWxlTW9kdWxlQXN5bmModCkpfWxvYWRGYWN0b3J5KHQpe2xldFtlLHJdPXQuc3BsaXQoIiMiKSxzPSJOZ0ZhY3RvcnkiO3JldHVybiB2b2lkIDA9PT1yJiYocj0iZGVmYXVsdCIscz0iIiksbigyMjEpKHRoaXMuX2NvbmZpZy5mYWN0b3J5UGF0aFByZWZpeCtlK3RoaXMuX2NvbmZpZy5mYWN0b3J5UGF0aFN1ZmZpeCkudGhlbih0PT50W3Irc10pLnRoZW4odD0+VnUodCxlLHIpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoYXUpLGFyKEl1LDgpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtmdW5jdGlvbiBWdSh0LGUsbil7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCAnJHtufScgaW4gJyR7ZX0nYCk7cmV0dXJuIHR9Y29uc3QganU9U3UobnVsbCwiY29yZSIsW3twcm92aWRlOktsLHVzZVZhbHVlOiJ1bmtub3duIn0se3Byb3ZpZGU6a3UsZGVwczpbR2ldfSx7cHJvdmlkZTp2dSxkZXBzOltdfSx7cHJvdmlkZTpRbCxkZXBzOltdfV0pLE51PVt7cHJvdmlkZTpPdSx1c2VDbGFzczpPdSxkZXBzOltjdSxHaSxacixnYSx6bF19LHtwcm92aWRlOmRsLGRlcHM6W2N1XSx1c2VGYWN0b3J5OmZ1bmN0aW9uKHQpe2xldCBlPVtdO3JldHVybiB0Lm9uU3RhYmxlLnN1YnNjcmliZSgoKT0+e2Zvcig7ZS5sZW5ndGg7KWUucG9wKCkoKX0pLGZ1bmN0aW9uKHQpe2UucHVzaCh0KX19fSx7cHJvdmlkZTp6bCx1c2VDbGFzczp6bCxkZXBzOltbbmV3IGhyLCRsXV19LHtwcm92aWRlOmF1LHVzZUNsYXNzOmF1LGRlcHM6W119LFdsLHtwcm92aWRlOk5hLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gR2F9LGRlcHM6W119LHtwcm92aWRlOkJhLHVzZUZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gWmF9LGRlcHM6W119LHtwcm92aWRlOlhsLHVzZUZhY3Rvcnk6ZnVuY3Rpb24odCl7cmV0dXJuIHNhKHQ9dHx8InVuZGVmaW5lZCIhPXR5cGVvZiAkbG9jYWxpemUmJiRsb2NhbGl6ZS5sb2NhbGV8fG5hKSx0fSxkZXBzOltbbmV3IGNyKFhsKSxuZXcgaHIsbmV3IGRyXV19LHtwcm92aWRlOkpsLHVzZVZhbHVlOiJVU0QifV07bGV0IEx1PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihPdSkpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpOdX0pLHR9KSgpLEJ1PW51bGw7ZnVuY3Rpb24gVXUoKXtyZXR1cm4gQnV9Y29uc3QgSHU9bmV3ICRuKCJEb2N1bWVudFRva2VuIik7bGV0ICR1PSgoKT0+e2NsYXNzIHR7aGlzdG9yeUdvKHQpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6enUsdG9rZW46dCxwcm92aWRlZEluOiJwbGF0Zm9ybSJ9KSx0fSkoKTtmdW5jdGlvbiB6dSgpe3JldHVybiBhcihXdSl9Y29uc3QgcXU9bmV3ICRuKCJMb2NhdGlvbiBJbml0aWFsaXplZCIpO2xldCBXdT0oKCk9PntjbGFzcyB0IGV4dGVuZHMgJHV7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLl9kb2M9dCx0aGlzLl9pbml0KCl9X2luaXQoKXt0aGlzLmxvY2F0aW9uPXdpbmRvdy5sb2NhdGlvbix0aGlzLl9oaXN0b3J5PXdpbmRvdy5oaXN0b3J5fWdldEJhc2VIcmVmRnJvbURPTSgpe3JldHVybiBVdSgpLmdldEJhc2VIcmVmKHRoaXMuX2RvYyl9b25Qb3BTdGF0ZSh0KXtjb25zdCBlPVV1KCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQodGhpcy5fZG9jLCJ3aW5kb3ciKTtyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKCJwb3BzdGF0ZSIsdCwhMSksKCk9PmUucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9wc3RhdGUiLHQpfW9uSGFzaENoYW5nZSh0KXtjb25zdCBlPVV1KCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQodGhpcy5fZG9jLCJ3aW5kb3ciKTtyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIix0LCExKSwoKT0+ZS5yZW1vdmVFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIix0KX1nZXQgaHJlZigpe3JldHVybiB0aGlzLmxvY2F0aW9uLmhyZWZ9Z2V0IHByb3RvY29sKCl7cmV0dXJuIHRoaXMubG9jYXRpb24ucHJvdG9jb2x9Z2V0IGhvc3RuYW1lKCl7cmV0dXJuIHRoaXMubG9jYXRpb24uaG9zdG5hbWV9Z2V0IHBvcnQoKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5wb3J0fWdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLmxvY2F0aW9uLnBhdGhuYW1lfWdldCBzZWFyY2goKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5zZWFyY2h9Z2V0IGhhc2goKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5oYXNofXNldCBwYXRobmFtZSh0KXt0aGlzLmxvY2F0aW9uLnBhdGhuYW1lPXR9cHVzaFN0YXRlKHQsZSxuKXtHdSgpP3RoaXMuX2hpc3RvcnkucHVzaFN0YXRlKHQsZSxuKTp0aGlzLmxvY2F0aW9uLmhhc2g9bn1yZXBsYWNlU3RhdGUodCxlLG4pe0d1KCk/dGhpcy5faGlzdG9yeS5yZXBsYWNlU3RhdGUodCxlLG4pOnRoaXMubG9jYXRpb24uaGFzaD1ufWZvcndhcmQoKXt0aGlzLl9oaXN0b3J5LmZvcndhcmQoKX1iYWNrKCl7dGhpcy5faGlzdG9yeS5iYWNrKCl9aGlzdG9yeUdvKHQ9MCl7dGhpcy5faGlzdG9yeS5nbyh0KX1nZXRTdGF0ZSgpe3JldHVybiB0aGlzLl9oaXN0b3J5LnN0YXRlfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihIdSkpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6WnUsdG9rZW46dCxwcm92aWRlZEluOiJwbGF0Zm9ybSJ9KSx0fSkoKTtmdW5jdGlvbiBHdSgpe3JldHVybiEhd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlfWZ1bmN0aW9uIFp1KCl7cmV0dXJuIG5ldyBXdShhcihIdSkpfWZ1bmN0aW9uIEt1KHQsZSl7aWYoMD09dC5sZW5ndGgpcmV0dXJuIGU7aWYoMD09ZS5sZW5ndGgpcmV0dXJuIHQ7bGV0IG49MDtyZXR1cm4gdC5lbmRzV2l0aCgiLyIpJiZuKyssZS5zdGFydHNXaXRoKCIvIikmJm4rKywyPT1uP3QrZS5zdWJzdHJpbmcoMSk6MT09bj90K2U6dCsiLyIrZX1mdW5jdGlvbiBZdSh0KXtjb25zdCBlPXQubWF0Y2goLyN8XD98JC8pLG49ZSYmZS5pbmRleHx8dC5sZW5ndGg7cmV0dXJuIHQuc2xpY2UoMCxuLSgiLyI9PT10W24tMV0/MTowKSkrdC5zbGljZShuKX1mdW5jdGlvbiBRdSh0KXtyZXR1cm4gdCYmIj8iIT09dFswXT8iPyIrdDp0fWxldCBYdT0oKCk9PntjbGFzcyB0e2hpc3RvcnlHbyh0KXt0aHJvdyBuZXcgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZCIpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5Okp1LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKTtmdW5jdGlvbiBKdSh0KXtjb25zdCBlPWFyKEh1KS5sb2NhdGlvbjtyZXR1cm4gbmV3IGVjKGFyKCR1KSxlJiZlLm9yaWdpbnx8IiIpfWNvbnN0IHRjPW5ldyAkbigiYXBwQmFzZUhyZWYiKTtsZXQgZWM9KCgpPT57Y2xhc3MgdCBleHRlbmRzIFh1e2NvbnN0cnVjdG9yKHQsZSl7aWYoc3VwZXIoKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uPXQsdGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnM9W10sbnVsbD09ZSYmKGU9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5nZXRCYXNlSHJlZkZyb21ET00oKSksbnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoIk5vIGJhc2UgaHJlZiBzZXQuIFBsZWFzZSBwcm92aWRlIGEgdmFsdWUgZm9yIHRoZSBBUFBfQkFTRV9IUkVGIHRva2VuIG9yIGFkZCBhIGJhc2UgZWxlbWVudCB0byB0aGUgZG9jdW1lbnQuIik7dGhpcy5fYmFzZUhyZWY9ZX1uZ09uRGVzdHJveSgpe2Zvcig7dGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnMubGVuZ3RoOyl0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5wb3AoKSgpfW9uUG9wU3RhdGUodCl7dGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnMucHVzaCh0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLm9uUG9wU3RhdGUodCksdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5vbkhhc2hDaGFuZ2UodCkpfWdldEJhc2VIcmVmKCl7cmV0dXJuIHRoaXMuX2Jhc2VIcmVmfXByZXBhcmVFeHRlcm5hbFVybCh0KXtyZXR1cm4gS3UodGhpcy5fYmFzZUhyZWYsdCl9cGF0aCh0PSExKXtjb25zdCBlPXRoaXMuX3BsYXRmb3JtTG9jYXRpb24ucGF0aG5hbWUrUXUodGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5zZWFyY2gpLG49dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5oYXNoO3JldHVybiBuJiZ0P2Ake2V9JHtufWA6ZX1wdXNoU3RhdGUodCxlLG4scil7Y29uc3Qgcz10aGlzLnByZXBhcmVFeHRlcm5hbFVybChuK1F1KHIpKTt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnB1c2hTdGF0ZSh0LGUscyl9cmVwbGFjZVN0YXRlKHQsZSxuLHIpe2NvbnN0IHM9dGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwobitRdShyKSk7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5yZXBsYWNlU3RhdGUodCxlLHMpfWZvcndhcmQoKXt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmZvcndhcmQoKX1iYWNrKCl7dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5iYWNrKCl9aGlzdG9yeUdvKHQ9MCl7dmFyIGUsbjtudWxsPT09KG49KGU9dGhpcy5fcGxhdGZvcm1Mb2NhdGlvbikuaGlzdG9yeUdvKXx8dm9pZCAwPT09bnx8bi5jYWxsKGUsdCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKCR1KSxhcih0Yyw4KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksbmM9KCgpPT57Y2xhc3MgdCBleHRlbmRzIFh1e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uPXQsdGhpcy5fYmFzZUhyZWY9IiIsdGhpcy5fcmVtb3ZlTGlzdGVuZXJGbnM9W10sbnVsbCE9ZSYmKHRoaXMuX2Jhc2VIcmVmPWUpfW5nT25EZXN0cm95KCl7Zm9yKDt0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5sZW5ndGg7KXRoaXMuX3JlbW92ZUxpc3RlbmVyRm5zLnBvcCgpKCl9b25Qb3BTdGF0ZSh0KXt0aGlzLl9yZW1vdmVMaXN0ZW5lckZucy5wdXNoKHRoaXMuX3BsYXRmb3JtTG9jYXRpb24ub25Qb3BTdGF0ZSh0KSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLm9uSGFzaENoYW5nZSh0KSl9Z2V0QmFzZUhyZWYoKXtyZXR1cm4gdGhpcy5fYmFzZUhyZWZ9cGF0aCh0PSExKXtsZXQgZT10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmhhc2g7cmV0dXJuIG51bGw9PWUmJihlPSIjIiksZS5sZW5ndGg+MD9lLnN1YnN0cmluZygxKTplfXByZXBhcmVFeHRlcm5hbFVybCh0KXtjb25zdCBlPUt1KHRoaXMuX2Jhc2VIcmVmLHQpO3JldHVybiBlLmxlbmd0aD4wPyIjIitlOmV9cHVzaFN0YXRlKHQsZSxuLHIpe2xldCBzPXRoaXMucHJlcGFyZUV4dGVybmFsVXJsKG4rUXUocikpOzA9PXMubGVuZ3RoJiYocz10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnBhdGhuYW1lKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnB1c2hTdGF0ZSh0LGUscyl9cmVwbGFjZVN0YXRlKHQsZSxuLHIpe2xldCBzPXRoaXMucHJlcGFyZUV4dGVybmFsVXJsKG4rUXUocikpOzA9PXMubGVuZ3RoJiYocz10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnBhdGhuYW1lKSx0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnJlcGxhY2VTdGF0ZSh0LGUscyl9Zm9yd2FyZCgpe3RoaXMuX3BsYXRmb3JtTG9jYXRpb24uZm9yd2FyZCgpfWJhY2soKXt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmJhY2soKX1oaXN0b3J5R28odD0wKXt2YXIgZSxuO251bGw9PT0obj0oZT10aGlzLl9wbGF0Zm9ybUxvY2F0aW9uKS5oaXN0b3J5R28pfHx2b2lkIDA9PT1ufHxuLmNhbGwoZSx0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoJHUpLGFyKHRjLDgpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxyYz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fc3ViamVjdD1uZXcgRWwsdGhpcy5fdXJsQ2hhbmdlTGlzdGVuZXJzPVtdLHRoaXMuX3BsYXRmb3JtU3RyYXRlZ3k9dDtjb25zdCBuPXRoaXMuX3BsYXRmb3JtU3RyYXRlZ3kuZ2V0QmFzZUhyZWYoKTt0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uPWUsdGhpcy5fYmFzZUhyZWY9WXUoaWMobikpLHRoaXMuX3BsYXRmb3JtU3RyYXRlZ3kub25Qb3BTdGF0ZSh0PT57dGhpcy5fc3ViamVjdC5lbWl0KHt1cmw6dGhpcy5wYXRoKCEwKSxwb3A6ITAsc3RhdGU6dC5zdGF0ZSx0eXBlOnQudHlwZX0pfSl9cGF0aCh0PSExKXtyZXR1cm4gdGhpcy5ub3JtYWxpemUodGhpcy5fcGxhdGZvcm1TdHJhdGVneS5wYXRoKHQpKX1nZXRTdGF0ZSgpe3JldHVybiB0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmdldFN0YXRlKCl9aXNDdXJyZW50UGF0aEVxdWFsVG8odCxlPSIiKXtyZXR1cm4gdGhpcy5wYXRoKCk9PXRoaXMubm9ybWFsaXplKHQrUXUoZSkpfW5vcm1hbGl6ZShlKXtyZXR1cm4gdC5zdHJpcFRyYWlsaW5nU2xhc2goZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmZS5zdGFydHNXaXRoKHQpP2Uuc3Vic3RyaW5nKHQubGVuZ3RoKTplfSh0aGlzLl9iYXNlSHJlZixpYyhlKSkpfXByZXBhcmVFeHRlcm5hbFVybCh0KXtyZXR1cm4gdCYmIi8iIT09dFswXSYmKHQ9Ii8iK3QpLHRoaXMuX3BsYXRmb3JtU3RyYXRlZ3kucHJlcGFyZUV4dGVybmFsVXJsKHQpfWdvKHQsZT0iIixuPW51bGwpe3RoaXMuX3BsYXRmb3JtU3RyYXRlZ3kucHVzaFN0YXRlKG4sIiIsdCxlKSx0aGlzLl9ub3RpZnlVcmxDaGFuZ2VMaXN0ZW5lcnModGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwodCtRdShlKSksbil9cmVwbGFjZVN0YXRlKHQsZT0iIixuPW51bGwpe3RoaXMuX3BsYXRmb3JtU3RyYXRlZ3kucmVwbGFjZVN0YXRlKG4sIiIsdCxlKSx0aGlzLl9ub3RpZnlVcmxDaGFuZ2VMaXN0ZW5lcnModGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwodCtRdShlKSksbil9Zm9yd2FyZCgpe3RoaXMuX3BsYXRmb3JtU3RyYXRlZ3kuZm9yd2FyZCgpfWJhY2soKXt0aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5LmJhY2soKX1oaXN0b3J5R28odD0wKXt2YXIgZSxuO251bGw9PT0obj0oZT10aGlzLl9wbGF0Zm9ybVN0cmF0ZWd5KS5oaXN0b3J5R28pfHx2b2lkIDA9PT1ufHxuLmNhbGwoZSx0KX1vblVybENoYW5nZSh0KXt0aGlzLl91cmxDaGFuZ2VMaXN0ZW5lcnMucHVzaCh0KSx0aGlzLl91cmxDaGFuZ2VTdWJzY3JpcHRpb258fCh0aGlzLl91cmxDaGFuZ2VTdWJzY3JpcHRpb249dGhpcy5zdWJzY3JpYmUodD0+e3RoaXMuX25vdGlmeVVybENoYW5nZUxpc3RlbmVycyh0LnVybCx0LnN0YXRlKX0pKX1fbm90aWZ5VXJsQ2hhbmdlTGlzdGVuZXJzKHQ9IiIsZSl7dGhpcy5fdXJsQ2hhbmdlTGlzdGVuZXJzLmZvckVhY2gobj0+bih0LGUpKX1zdWJzY3JpYmUodCxlLG4pe3JldHVybiB0aGlzLl9zdWJqZWN0LnN1YnNjcmliZSh7bmV4dDp0LGVycm9yOmUsY29tcGxldGU6bn0pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihYdSksYXIoJHUpKX0sdC5ub3JtYWxpemVRdWVyeVBhcmFtcz1RdSx0LmpvaW5XaXRoU2xhc2g9S3UsdC5zdHJpcFRyYWlsaW5nU2xhc2g9WXUsdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5OnNjLHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKTtmdW5jdGlvbiBzYygpe3JldHVybiBuZXcgcmMoYXIoWHUpLGFyKCR1KSl9ZnVuY3Rpb24gaWModCl7cmV0dXJuIHQucmVwbGFjZSgvXC9pbmRleC5odG1sJC8sIiIpfWNvbnN0IG9jPXtBRFA6W3ZvaWQgMCx2b2lkIDAsMF0sQUZOOlt2b2lkIDAsdm9pZCAwLDBdLEFMTDpbdm9pZCAwLHZvaWQgMCwwXSxBTUQ6W3ZvaWQgMCx2b2lkIDAsMl0sQU9BOlt2b2lkIDAsIkt6Il0sQVJTOlt2b2lkIDAsIiQiXSxBVUQ6WyJBJCIsIiQiXSxCQU06W3ZvaWQgMCwiS00iXSxCQkQ6W3ZvaWQgMCwiJCJdLEJEVDpbdm9pZCAwLCJcdTA5ZjMiXSxCSEQ6W3ZvaWQgMCx2b2lkIDAsM10sQklGOlt2b2lkIDAsdm9pZCAwLDBdLEJNRDpbdm9pZCAwLCIkIl0sQk5EOlt2b2lkIDAsIiQiXSxCT0I6W3ZvaWQgMCwiQnMiXSxCUkw6WyJSJCJdLEJTRDpbdm9pZCAwLCIkIl0sQldQOlt2b2lkIDAsIlAiXSxCWU46W3ZvaWQgMCwiXHUwNDQwLiIsMl0sQllSOlt2b2lkIDAsdm9pZCAwLDBdLEJaRDpbdm9pZCAwLCIkIl0sQ0FEOlsiQ0EkIiwiJCIsMl0sQ0hGOlt2b2lkIDAsdm9pZCAwLDJdLENMRjpbdm9pZCAwLHZvaWQgMCw0XSxDTFA6W3ZvaWQgMCwiJCIsMF0sQ05ZOlsiQ05ceGE1IiwiXHhhNSJdLENPUDpbdm9pZCAwLCIkIiwyXSxDUkM6W3ZvaWQgMCwiXHUyMGExIiwyXSxDVUM6W3ZvaWQgMCwiJCJdLENVUDpbdm9pZCAwLCIkIl0sQ1pLOlt2b2lkIDAsIktcdTAxMGQiLDJdLERKRjpbdm9pZCAwLHZvaWQgMCwwXSxES0s6W3ZvaWQgMCwia3IiLDJdLERPUDpbdm9pZCAwLCIkIl0sRUdQOlt2b2lkIDAsIkVceGEzIl0sRVNQOlt2b2lkIDAsIlx1MjBhNyIsMF0sRVVSOlsiXHUyMGFjIl0sRkpEOlt2b2lkIDAsIiQiXSxGS1A6W3ZvaWQgMCwiXHhhMyJdLEdCUDpbIlx4YTMiXSxHRUw6W3ZvaWQgMCwiXHUyMGJlIl0sR0lQOlt2b2lkIDAsIlx4YTMiXSxHTkY6W3ZvaWQgMCwiRkciLDBdLEdUUTpbdm9pZCAwLCJRIl0sR1lEOlt2b2lkIDAsIiQiLDJdLEhLRDpbIkhLJCIsIiQiXSxITkw6W3ZvaWQgMCwiTCJdLEhSSzpbdm9pZCAwLCJrbiJdLEhVRjpbdm9pZCAwLCJGdCIsMl0sSURSOlt2b2lkIDAsIlJwIiwyXSxJTFM6WyJcdTIwYWEiXSxJTlI6WyJcdTIwYjkiXSxJUUQ6W3ZvaWQgMCx2b2lkIDAsMF0sSVJSOlt2b2lkIDAsdm9pZCAwLDBdLElTSzpbdm9pZCAwLCJrciIsMF0sSVRMOlt2b2lkIDAsdm9pZCAwLDBdLEpNRDpbdm9pZCAwLCIkIl0sSk9EOlt2b2lkIDAsdm9pZCAwLDNdLEpQWTpbIlx4YTUiLHZvaWQgMCwwXSxLSFI6W3ZvaWQgMCwiXHUxN2RiIl0sS01GOlt2b2lkIDAsIkNGIiwwXSxLUFc6W3ZvaWQgMCwiXHUyMGE5IiwwXSxLUlc6WyJcdTIwYTkiLHZvaWQgMCwwXSxLV0Q6W3ZvaWQgMCx2b2lkIDAsM10sS1lEOlt2b2lkIDAsIiQiXSxLWlQ6W3ZvaWQgMCwiXHUyMGI4Il0sTEFLOlt2b2lkIDAsIlx1MjBhZCIsMF0sTEJQOlt2b2lkIDAsIkxceGEzIiwwXSxMS1I6W3ZvaWQgMCwiUnMiXSxMUkQ6W3ZvaWQgMCwiJCJdLExUTDpbdm9pZCAwLCJMdCJdLExVRjpbdm9pZCAwLHZvaWQgMCwwXSxMVkw6W3ZvaWQgMCwiTHMiXSxMWUQ6W3ZvaWQgMCx2b2lkIDAsM10sTUdBOlt2b2lkIDAsIkFyIiwwXSxNR0Y6W3ZvaWQgMCx2b2lkIDAsMF0sTU1LOlt2b2lkIDAsIksiLDBdLE1OVDpbdm9pZCAwLCJcdTIwYWUiLDJdLE1STzpbdm9pZCAwLHZvaWQgMCwwXSxNVVI6W3ZvaWQgMCwiUnMiLDJdLE1YTjpbIk1YJCIsIiQiXSxNWVI6W3ZvaWQgMCwiUk0iXSxOQUQ6W3ZvaWQgMCwiJCJdLE5HTjpbdm9pZCAwLCJcdTIwYTYiXSxOSU86W3ZvaWQgMCwiQyQiXSxOT0s6W3ZvaWQgMCwia3IiLDJdLE5QUjpbdm9pZCAwLCJScyJdLE5aRDpbIk5aJCIsIiQiXSxPTVI6W3ZvaWQgMCx2b2lkIDAsM10sUEhQOlt2b2lkIDAsIlx1MjBiMSJdLFBLUjpbdm9pZCAwLCJScyIsMl0sUExOOlt2b2lkIDAsInpcdTAxNDIiXSxQWUc6W3ZvaWQgMCwiXHUyMGIyIiwwXSxST046W3ZvaWQgMCwibGVpIl0sUlNEOlt2b2lkIDAsdm9pZCAwLDBdLFJVQjpbdm9pZCAwLCJcdTIwYmQiXSxSVVI6W3ZvaWQgMCwiXHUwNDQwLiJdLFJXRjpbdm9pZCAwLCJSRiIsMF0sU0JEOlt2b2lkIDAsIiQiXSxTRUs6W3ZvaWQgMCwia3IiLDJdLFNHRDpbdm9pZCAwLCIkIl0sU0hQOlt2b2lkIDAsIlx4YTMiXSxTTEw6W3ZvaWQgMCx2b2lkIDAsMF0sU09TOlt2b2lkIDAsdm9pZCAwLDBdLFNSRDpbdm9pZCAwLCIkIl0sU1NQOlt2b2lkIDAsIlx4YTMiXSxTVEQ6W3ZvaWQgMCx2b2lkIDAsMF0sU1ROOlt2b2lkIDAsIkRiIl0sU1lQOlt2b2lkIDAsIlx4YTMiLDBdLFRIQjpbdm9pZCAwLCJcdTBlM2YiXSxUTU06W3ZvaWQgMCx2b2lkIDAsMF0sVE5EOlt2b2lkIDAsdm9pZCAwLDNdLFRPUDpbdm9pZCAwLCJUJCJdLFRSTDpbdm9pZCAwLHZvaWQgMCwwXSxUUlk6W3ZvaWQgMCwiXHUyMGJhIl0sVFREOlt2b2lkIDAsIiQiXSxUV0Q6WyJOVCQiLCIkIiwyXSxUWlM6W3ZvaWQgMCx2b2lkIDAsMl0sVUFIOlt2b2lkIDAsIlx1MjBiNCJdLFVHWDpbdm9pZCAwLHZvaWQgMCwwXSxVU0Q6WyIkIl0sVVlJOlt2b2lkIDAsdm9pZCAwLDBdLFVZVTpbdm9pZCAwLCIkIl0sVVlXOlt2b2lkIDAsdm9pZCAwLDRdLFVaUzpbdm9pZCAwLHZvaWQgMCwyXSxWRUY6W3ZvaWQgMCwiQnMiLDJdLFZORDpbIlx1MjBhYiIsdm9pZCAwLDBdLFZVVjpbdm9pZCAwLHZvaWQgMCwwXSxYQUY6WyJGQ0ZBIix2b2lkIDAsMF0sWENEOlsiRUMkIiwiJCJdLFhPRjpbIkNGQSIsdm9pZCAwLDBdLFhQRjpbIkNGUEYiLHZvaWQgMCwwXSxYWFg6WyJceGE0Il0sWUVSOlt2b2lkIDAsdm9pZCAwLDBdLFpBUjpbdm9pZCAwLCJSIl0sWk1LOlt2b2lkIDAsdm9pZCAwLDBdLFpNVzpbdm9pZCAwLCJaSyJdLFpXRDpbdm9pZCAwLHZvaWQgMCwwXX07dmFyIGFjPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRGVjaW1hbD0wXT0iRGVjaW1hbCIsdFt0LlBlcmNlbnQ9MV09IlBlcmNlbnQiLHRbdC5DdXJyZW5jeT0yXT0iQ3VycmVuY3kiLHRbdC5TY2llbnRpZmljPTNdPSJTY2llbnRpZmljIix0fSh7fSksbGM9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5aZXJvPTBdPSJaZXJvIix0W3QuT25lPTFdPSJPbmUiLHRbdC5Ud289Ml09IlR3byIsdFt0LkZldz0zXT0iRmV3Iix0W3QuTWFueT00XT0iTWFueSIsdFt0Lk90aGVyPTVdPSJPdGhlciIsdH0oe30pLHVjPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRm9ybWF0PTBdPSJGb3JtYXQiLHRbdC5TdGFuZGFsb25lPTFdPSJTdGFuZGFsb25lIix0fSh7fSksY2M9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5OYXJyb3c9MF09Ik5hcnJvdyIsdFt0LkFiYnJldmlhdGVkPTFdPSJBYmJyZXZpYXRlZCIsdFt0LldpZGU9Ml09IldpZGUiLHRbdC5TaG9ydD0zXT0iU2hvcnQiLHR9KHt9KSxoYz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LlNob3J0PTBdPSJTaG9ydCIsdFt0Lk1lZGl1bT0xXT0iTWVkaXVtIix0W3QuTG9uZz0yXT0iTG9uZyIsdFt0LkZ1bGw9M109IkZ1bGwiLHR9KHt9KSxkYz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkRlY2ltYWw9MF09IkRlY2ltYWwiLHRbdC5Hcm91cD0xXT0iR3JvdXAiLHRbdC5MaXN0PTJdPSJMaXN0Iix0W3QuUGVyY2VudFNpZ249M109IlBlcmNlbnRTaWduIix0W3QuUGx1c1NpZ249NF09IlBsdXNTaWduIix0W3QuTWludXNTaWduPTVdPSJNaW51c1NpZ24iLHRbdC5FeHBvbmVudGlhbD02XT0iRXhwb25lbnRpYWwiLHRbdC5TdXBlcnNjcmlwdGluZ0V4cG9uZW50PTddPSJTdXBlcnNjcmlwdGluZ0V4cG9uZW50Iix0W3QuUGVyTWlsbGU9OF09IlBlck1pbGxlIix0W3RbMS8wXT05XT0iSW5maW5pdHkiLHRbdC5OYU49MTBdPSJOYU4iLHRbdC5UaW1lU2VwYXJhdG9yPTExXT0iVGltZVNlcGFyYXRvciIsdFt0LkN1cnJlbmN5RGVjaW1hbD0xMl09IkN1cnJlbmN5RGVjaW1hbCIsdFt0LkN1cnJlbmN5R3JvdXA9MTNdPSJDdXJyZW5jeUdyb3VwIix0fSh7fSk7ZnVuY3Rpb24gcGModCxlKXtyZXR1cm4gYmMoSm8odClbZWEuRGF0ZUZvcm1hdF0sZSl9ZnVuY3Rpb24gZmModCxlKXtyZXR1cm4gYmMoSm8odClbZWEuVGltZUZvcm1hdF0sZSl9ZnVuY3Rpb24gZ2ModCxlKXtyZXR1cm4gYmMoSm8odClbZWEuRGF0ZVRpbWVGb3JtYXRdLGUpfWZ1bmN0aW9uIG1jKHQsZSl7Y29uc3Qgbj1Kbyh0KSxyPW5bZWEuTnVtYmVyU3ltYm9sc11bZV07aWYodm9pZCAwPT09cil7aWYoZT09PWRjLkN1cnJlbmN5RGVjaW1hbClyZXR1cm4gbltlYS5OdW1iZXJTeW1ib2xzXVtkYy5EZWNpbWFsXTtpZihlPT09ZGMuQ3VycmVuY3lHcm91cClyZXR1cm4gbltlYS5OdW1iZXJTeW1ib2xzXVtkYy5Hcm91cF19cmV0dXJuIHJ9ZnVuY3Rpb24geWModCxlKXtyZXR1cm4gSm8odClbZWEuTnVtYmVyRm9ybWF0c11bZV19ZnVuY3Rpb24gdmModCl7aWYoIXRbZWEuRXh0cmFEYXRhXSl0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgZXh0cmEgbG9jYWxlIGRhdGEgZm9yIHRoZSBsb2NhbGUgIiR7dFtlYS5Mb2NhbGVJZF19Ii4gVXNlICJyZWdpc3RlckxvY2FsZURhdGEiIHRvIGxvYWQgbmV3IGRhdGEuIFNlZSB0aGUgIkkxOG4gZ3VpZGUiIG9uIGFuZ3VsYXIuaW8gdG8ga25vdyBtb3JlLmApfWZ1bmN0aW9uIGJjKHQsZSl7Zm9yKGxldCBuPWU7bj4tMTtuLS0paWYodm9pZCAwIT09dFtuXSlyZXR1cm4gdFtuXTt0aHJvdyBuZXcgRXJyb3IoIkxvY2FsZSBkYXRhIEFQSTogbG9jYWxlIGRhdGEgdW5kZWZpbmVkIil9ZnVuY3Rpb24gX2ModCl7Y29uc3RbZSxuXT10LnNwbGl0KCI6Iik7cmV0dXJue2hvdXJzOitlLG1pbnV0ZXM6K259fWNvbnN0IHdjPS9eKFxkezR9KS0/KFxkXGQpLT8oXGRcZCkoPzpUKFxkXGQpKD86Oj8oXGRcZCkoPzo6PyhcZFxkKSg/OlwuKFxkKykpPyk/KT8oWnwoWystXSkoXGRcZCk6PyhcZFxkKSk/KT8kLyxDYz17fSxFYz0vKCg/OlteQkVHSExNT1NXWVphYmNkaG1zd3l6J10rKXwoPzonKD86W14nXXwnJykqJyl8KD86R3sxLDV9fHl7MSw0fXxZezEsNH18TXsxLDV9fEx7MSw1fXx3ezEsMn18V3sxfXxkezEsMn18RXsxLDZ9fGN7MSw2fXxhezEsNX18YnsxLDV9fEJ7MSw1fXxoezEsMn18SHsxLDJ9fG17MSwyfXxzezEsMn18U3sxLDN9fHp7MSw0fXxaezEsNX18T3sxLDR9KSkoW1xzXFNdKikvO3ZhciBEYz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LlNob3J0PTBdPSJTaG9ydCIsdFt0LlNob3J0R01UPTFdPSJTaG9ydEdNVCIsdFt0Lkxvbmc9Ml09IkxvbmciLHRbdC5FeHRlbmRlZD0zXT0iRXh0ZW5kZWQiLHR9KHt9KSxBYz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkZ1bGxZZWFyPTBdPSJGdWxsWWVhciIsdFt0Lk1vbnRoPTFdPSJNb250aCIsdFt0LkRhdGU9Ml09IkRhdGUiLHRbdC5Ib3Vycz0zXT0iSG91cnMiLHRbdC5NaW51dGVzPTRdPSJNaW51dGVzIix0W3QuU2Vjb25kcz01XT0iU2Vjb25kcyIsdFt0LkZyYWN0aW9uYWxTZWNvbmRzPTZdPSJGcmFjdGlvbmFsU2Vjb25kcyIsdFt0LkRheT03XT0iRGF5Iix0fSh7fSksU2M9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5EYXlQZXJpb2RzPTBdPSJEYXlQZXJpb2RzIix0W3QuRGF5cz0xXT0iRGF5cyIsdFt0Lk1vbnRocz0yXT0iTW9udGhzIix0W3QuRXJhcz0zXT0iRXJhcyIsdH0oe30pO2Z1bmN0aW9uIHhjKHQsZSxuLHIpe2xldCBzPWZ1bmN0aW9uKHQpe2lmKEJjKHQpKXJldHVybiB0O2lmKCJudW1iZXIiPT10eXBlb2YgdCYmIWlzTmFOKHQpKXJldHVybiBuZXcgRGF0ZSh0KTtpZigic3RyaW5nIj09dHlwZW9mIHQpe2lmKHQ9dC50cmltKCksL14oXGR7NH0oLVxkezEsMn0oLVxkezEsMn0pPyk/KSQvLnRlc3QodCkpe2NvbnN0W2Usbj0xLHI9MV09dC5zcGxpdCgiLSIpLm1hcCh0PT4rdCk7cmV0dXJuIGtjKGUsbi0xLHIpfWNvbnN0IGU9cGFyc2VGbG9hdCh0KTtpZighaXNOYU4odC1lKSlyZXR1cm4gbmV3IERhdGUoZSk7bGV0IG47aWYobj10Lm1hdGNoKHdjKSlyZXR1cm4gZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgRGF0ZSgwKTtsZXQgbj0wLHI9MDtjb25zdCBzPXRbOF0/ZS5zZXRVVENGdWxsWWVhcjplLnNldEZ1bGxZZWFyLGk9dFs4XT9lLnNldFVUQ0hvdXJzOmUuc2V0SG91cnM7dFs5XSYmKG49TnVtYmVyKHRbOV0rdFsxMF0pLHI9TnVtYmVyKHRbOV0rdFsxMV0pKSxzLmNhbGwoZSxOdW1iZXIodFsxXSksTnVtYmVyKHRbMl0pLTEsTnVtYmVyKHRbM10pKTtjb25zdCBvPU51bWJlcih0WzRdfHwwKS1uLGE9TnVtYmVyKHRbNV18fDApLXIsbD1OdW1iZXIodFs2XXx8MCksdT1NYXRoLmZsb29yKDFlMypwYXJzZUZsb2F0KCIwLiIrKHRbN118fDApKSk7cmV0dXJuIGkuY2FsbChlLG8sYSxsLHUpLGV9KG4pfWNvbnN0IGU9bmV3IERhdGUodCk7aWYoIUJjKGUpKXRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNvbnZlcnQgIiR7dH0iIGludG8gYSBkYXRlYCk7cmV0dXJuIGV9KHQpO2U9VGMobixlKXx8ZTtsZXQgaSxvPVtdO2Zvcig7ZTspe2lmKGk9RWMuZXhlYyhlKSwhaSl7by5wdXNoKGUpO2JyZWFrfXtvPW8uY29uY2F0KGkuc2xpY2UoMSkpO2NvbnN0IHQ9by5wb3AoKTtpZighdClicmVhaztlPXR9fWxldCBhPXMuZ2V0VGltZXpvbmVPZmZzZXQoKTtyJiYoYT1MYyhyLGEpLHM9ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9dC5nZXRUaW1lem9uZU9mZnNldCgpO3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybih0PW5ldyBEYXRlKHQuZ2V0VGltZSgpKSkuc2V0TWludXRlcyh0LmdldE1pbnV0ZXMoKStlKSx0fSh0LC0xKihMYyhlLHIpLXIpKX0ocyxyKSk7bGV0IGw9IiI7cmV0dXJuIG8uZm9yRWFjaCh0PT57Y29uc3QgZT1mdW5jdGlvbih0KXtpZihOY1t0XSlyZXR1cm4gTmNbdF07bGV0IGU7c3dpdGNoKHQpe2Nhc2UiRyI6Y2FzZSJHRyI6Y2FzZSJHR0ciOmU9SWMoU2MuRXJhcyxjYy5BYmJyZXZpYXRlZCk7YnJlYWs7Y2FzZSJHR0dHIjplPUljKFNjLkVyYXMsY2MuV2lkZSk7YnJlYWs7Y2FzZSJHR0dHRyI6ZT1JYyhTYy5FcmFzLGNjLk5hcnJvdyk7YnJlYWs7Y2FzZSJ5IjplPVBjKEFjLkZ1bGxZZWFyLDEsMCwhMSwhMCk7YnJlYWs7Y2FzZSJ5eSI6ZT1QYyhBYy5GdWxsWWVhciwyLDAsITAsITApO2JyZWFrO2Nhc2UieXl5IjplPVBjKEFjLkZ1bGxZZWFyLDMsMCwhMSwhMCk7YnJlYWs7Y2FzZSJ5eXl5IjplPVBjKEFjLkZ1bGxZZWFyLDQsMCwhMSwhMCk7YnJlYWs7Y2FzZSJZIjplPWpjKDEpO2JyZWFrO2Nhc2UiWVkiOmU9amMoMiwhMCk7YnJlYWs7Y2FzZSJZWVkiOmU9amMoMyk7YnJlYWs7Y2FzZSJZWVlZIjplPWpjKDQpO2JyZWFrO2Nhc2UiTSI6Y2FzZSJMIjplPVBjKEFjLk1vbnRoLDEsMSk7YnJlYWs7Y2FzZSJNTSI6Y2FzZSJMTCI6ZT1QYyhBYy5Nb250aCwyLDEpO2JyZWFrO2Nhc2UiTU1NIjplPUljKFNjLk1vbnRocyxjYy5BYmJyZXZpYXRlZCk7YnJlYWs7Y2FzZSJNTU1NIjplPUljKFNjLk1vbnRocyxjYy5XaWRlKTticmVhaztjYXNlIk1NTU1NIjplPUljKFNjLk1vbnRocyxjYy5OYXJyb3cpO2JyZWFrO2Nhc2UiTExMIjplPUljKFNjLk1vbnRocyxjYy5BYmJyZXZpYXRlZCx1Yy5TdGFuZGFsb25lKTticmVhaztjYXNlIkxMTEwiOmU9SWMoU2MuTW9udGhzLGNjLldpZGUsdWMuU3RhbmRhbG9uZSk7YnJlYWs7Y2FzZSJMTExMTCI6ZT1JYyhTYy5Nb250aHMsY2MuTmFycm93LHVjLlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UidyI6ZT1WYygxKTticmVhaztjYXNlInd3IjplPVZjKDIpO2JyZWFrO2Nhc2UiVyI6ZT1WYygxLCEwKTticmVhaztjYXNlImQiOmU9UGMoQWMuRGF0ZSwxKTticmVhaztjYXNlImRkIjplPVBjKEFjLkRhdGUsMik7YnJlYWs7Y2FzZSJjIjpjYXNlImNjIjplPVBjKEFjLkRheSwxKTticmVhaztjYXNlImNjYyI6ZT1JYyhTYy5EYXlzLGNjLkFiYnJldmlhdGVkLHVjLlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UiY2NjYyI6ZT1JYyhTYy5EYXlzLGNjLldpZGUsdWMuU3RhbmRhbG9uZSk7YnJlYWs7Y2FzZSJjY2NjYyI6ZT1JYyhTYy5EYXlzLGNjLk5hcnJvdyx1Yy5TdGFuZGFsb25lKTticmVhaztjYXNlImNjY2NjYyI6ZT1JYyhTYy5EYXlzLGNjLlNob3J0LHVjLlN0YW5kYWxvbmUpO2JyZWFrO2Nhc2UiRSI6Y2FzZSJFRSI6Y2FzZSJFRUUiOmU9SWMoU2MuRGF5cyxjYy5BYmJyZXZpYXRlZCk7YnJlYWs7Y2FzZSJFRUVFIjplPUljKFNjLkRheXMsY2MuV2lkZSk7YnJlYWs7Y2FzZSJFRUVFRSI6ZT1JYyhTYy5EYXlzLGNjLk5hcnJvdyk7YnJlYWs7Y2FzZSJFRUVFRUUiOmU9SWMoU2MuRGF5cyxjYy5TaG9ydCk7YnJlYWs7Y2FzZSJhIjpjYXNlImFhIjpjYXNlImFhYSI6ZT1JYyhTYy5EYXlQZXJpb2RzLGNjLkFiYnJldmlhdGVkKTticmVhaztjYXNlImFhYWEiOmU9SWMoU2MuRGF5UGVyaW9kcyxjYy5XaWRlKTticmVhaztjYXNlImFhYWFhIjplPUljKFNjLkRheVBlcmlvZHMsY2MuTmFycm93KTticmVhaztjYXNlImIiOmNhc2UiYmIiOmNhc2UiYmJiIjplPUljKFNjLkRheVBlcmlvZHMsY2MuQWJicmV2aWF0ZWQsdWMuU3RhbmRhbG9uZSwhMCk7YnJlYWs7Y2FzZSJiYmJiIjplPUljKFNjLkRheVBlcmlvZHMsY2MuV2lkZSx1Yy5TdGFuZGFsb25lLCEwKTticmVhaztjYXNlImJiYmJiIjplPUljKFNjLkRheVBlcmlvZHMsY2MuTmFycm93LHVjLlN0YW5kYWxvbmUsITApO2JyZWFrO2Nhc2UiQiI6Y2FzZSJCQiI6Y2FzZSJCQkIiOmU9SWMoU2MuRGF5UGVyaW9kcyxjYy5BYmJyZXZpYXRlZCx1Yy5Gb3JtYXQsITApO2JyZWFrO2Nhc2UiQkJCQiI6ZT1JYyhTYy5EYXlQZXJpb2RzLGNjLldpZGUsdWMuRm9ybWF0LCEwKTticmVhaztjYXNlIkJCQkJCIjplPUljKFNjLkRheVBlcmlvZHMsY2MuTmFycm93LHVjLkZvcm1hdCwhMCk7YnJlYWs7Y2FzZSJoIjplPVBjKEFjLkhvdXJzLDEsLTEyKTticmVhaztjYXNlImhoIjplPVBjKEFjLkhvdXJzLDIsLTEyKTticmVhaztjYXNlIkgiOmU9UGMoQWMuSG91cnMsMSk7YnJlYWs7Y2FzZSJISCI6ZT1QYyhBYy5Ib3VycywyKTticmVhaztjYXNlIm0iOmU9UGMoQWMuTWludXRlcywxKTticmVhaztjYXNlIm1tIjplPVBjKEFjLk1pbnV0ZXMsMik7YnJlYWs7Y2FzZSJzIjplPVBjKEFjLlNlY29uZHMsMSk7YnJlYWs7Y2FzZSJzcyI6ZT1QYyhBYy5TZWNvbmRzLDIpO2JyZWFrO2Nhc2UiUyI6ZT1QYyhBYy5GcmFjdGlvbmFsU2Vjb25kcywxKTticmVhaztjYXNlIlNTIjplPVBjKEFjLkZyYWN0aW9uYWxTZWNvbmRzLDIpO2JyZWFrO2Nhc2UiU1NTIjplPVBjKEFjLkZyYWN0aW9uYWxTZWNvbmRzLDMpO2JyZWFrO2Nhc2UiWiI6Y2FzZSJaWiI6Y2FzZSJaWloiOmU9UmMoRGMuU2hvcnQpO2JyZWFrO2Nhc2UiWlpaWloiOmU9UmMoRGMuRXh0ZW5kZWQpO2JyZWFrO2Nhc2UiTyI6Y2FzZSJPTyI6Y2FzZSJPT08iOmNhc2UieiI6Y2FzZSJ6eiI6Y2FzZSJ6enoiOmU9UmMoRGMuU2hvcnRHTVQpO2JyZWFrO2Nhc2UiT09PTyI6Y2FzZSJaWlpaIjpjYXNlInp6enoiOmU9UmMoRGMuTG9uZyk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gbnVsbH1yZXR1cm4gTmNbdF09ZSxlfSh0KTtsKz1lP2UocyxuLGEpOiInJyI9PT10PyInIjp0LnJlcGxhY2UoLyheJ3wnJCkvZywiIikucmVwbGFjZSgvJycvZywiJyIpfSksbH1mdW5jdGlvbiBrYyh0LGUsbil7Y29uc3Qgcj1uZXcgRGF0ZSgwKTtyZXR1cm4gci5zZXRGdWxsWWVhcih0LGUsbiksci5zZXRIb3VycygwLDAsMCkscn1mdW5jdGlvbiBUYyh0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCl7cmV0dXJuIEpvKHQpW2VhLkxvY2FsZUlkXX0odCk7aWYoQ2Nbbl09Q2Nbbl18fHt9LENjW25dW2VdKXJldHVybiBDY1tuXVtlXTtsZXQgcj0iIjtzd2l0Y2goZSl7Y2FzZSJzaG9ydERhdGUiOnI9cGModCxoYy5TaG9ydCk7YnJlYWs7Y2FzZSJtZWRpdW1EYXRlIjpyPXBjKHQsaGMuTWVkaXVtKTticmVhaztjYXNlImxvbmdEYXRlIjpyPXBjKHQsaGMuTG9uZyk7YnJlYWs7Y2FzZSJmdWxsRGF0ZSI6cj1wYyh0LGhjLkZ1bGwpO2JyZWFrO2Nhc2Uic2hvcnRUaW1lIjpyPWZjKHQsaGMuU2hvcnQpO2JyZWFrO2Nhc2UibWVkaXVtVGltZSI6cj1mYyh0LGhjLk1lZGl1bSk7YnJlYWs7Y2FzZSJsb25nVGltZSI6cj1mYyh0LGhjLkxvbmcpO2JyZWFrO2Nhc2UiZnVsbFRpbWUiOnI9ZmModCxoYy5GdWxsKTticmVhaztjYXNlInNob3J0Ijpjb25zdCBlPVRjKHQsInNob3J0VGltZSIpLG49VGModCwic2hvcnREYXRlIik7cj1PYyhnYyh0LGhjLlNob3J0KSxbZSxuXSk7YnJlYWs7Y2FzZSJtZWRpdW0iOmNvbnN0IHM9VGModCwibWVkaXVtVGltZSIpLGk9VGModCwibWVkaXVtRGF0ZSIpO3I9T2MoZ2ModCxoYy5NZWRpdW0pLFtzLGldKTticmVhaztjYXNlImxvbmciOmNvbnN0IG89VGModCwibG9uZ1RpbWUiKSxhPVRjKHQsImxvbmdEYXRlIik7cj1PYyhnYyh0LGhjLkxvbmcpLFtvLGFdKTticmVhaztjYXNlImZ1bGwiOmNvbnN0IGw9VGModCwiZnVsbFRpbWUiKSx1PVRjKHQsImZ1bGxEYXRlIik7cj1PYyhnYyh0LGhjLkZ1bGwpLFtsLHVdKX1yZXR1cm4gciYmKENjW25dW2VdPXIpLHJ9ZnVuY3Rpb24gT2ModCxlKXtyZXR1cm4gZSYmKHQ9dC5yZXBsYWNlKC9ceyhbXn1dKyl9L2csZnVuY3Rpb24odCxuKXtyZXR1cm4gbnVsbCE9ZSYmbiBpbiBlP2Vbbl06dH0pKSx0fWZ1bmN0aW9uIEZjKHQsZSxuPSItIixyLHMpe2xldCBpPSIiOyh0PDB8fHMmJnQ8PTApJiYocz90PTEtdDoodD0tdCxpPW4pKTtsZXQgbz1TdHJpbmcodCk7Zm9yKDtvLmxlbmd0aDxlOylvPSIwIitvO3JldHVybiByJiYobz1vLnN1YnN0cihvLmxlbmd0aC1lKSksaStvfWZ1bmN0aW9uIFBjKHQsZSxuPTAscj0hMSxzPSExKXtyZXR1cm4gZnVuY3Rpb24oaSxvKXtsZXQgYT1mdW5jdGlvbih0LGUpe3N3aXRjaCh0KXtjYXNlIEFjLkZ1bGxZZWFyOnJldHVybiBlLmdldEZ1bGxZZWFyKCk7Y2FzZSBBYy5Nb250aDpyZXR1cm4gZS5nZXRNb250aCgpO2Nhc2UgQWMuRGF0ZTpyZXR1cm4gZS5nZXREYXRlKCk7Y2FzZSBBYy5Ib3VyczpyZXR1cm4gZS5nZXRIb3VycygpO2Nhc2UgQWMuTWludXRlczpyZXR1cm4gZS5nZXRNaW51dGVzKCk7Y2FzZSBBYy5TZWNvbmRzOnJldHVybiBlLmdldFNlY29uZHMoKTtjYXNlIEFjLkZyYWN0aW9uYWxTZWNvbmRzOnJldHVybiBlLmdldE1pbGxpc2Vjb25kcygpO2Nhc2UgQWMuRGF5OnJldHVybiBlLmdldERheSgpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIERhdGVUeXBlIHZhbHVlICIke3R9Ii5gKX19KHQsaSk7aWYoKG4+MHx8YT4tbikmJihhKz1uKSx0PT09QWMuSG91cnMpMD09PWEmJi0xMj09PW4mJihhPTEyKTtlbHNlIGlmKHQ9PT1BYy5GcmFjdGlvbmFsU2Vjb25kcylyZXR1cm4gbD1lLEZjKGEsMykuc3Vic3RyKDAsbCk7dmFyIGw7Y29uc3QgdT1tYyhvLGRjLk1pbnVzU2lnbik7cmV0dXJuIEZjKGEsZSx1LHIscyl9fWZ1bmN0aW9uIEljKHQsZSxuPXVjLkZvcm1hdCxyPSExKXtyZXR1cm4gZnVuY3Rpb24ocyxpKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4scixzLGkpe3N3aXRjaChuKXtjYXNlIFNjLk1vbnRoczpyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9Sm8odCkscz1iYyhbcltlYS5Nb250aHNGb3JtYXRdLHJbZWEuTW9udGhzU3RhbmRhbG9uZV1dLGUpO3JldHVybiBiYyhzLG4pfShlLHMscilbdC5nZXRNb250aCgpXTtjYXNlIFNjLkRheXM6cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPUpvKHQpLHM9YmMoW3JbZWEuRGF5c0Zvcm1hdF0scltlYS5EYXlzU3RhbmRhbG9uZV1dLGUpO3JldHVybiBiYyhzLG4pfShlLHMscilbdC5nZXREYXkoKV07Y2FzZSBTYy5EYXlQZXJpb2RzOmNvbnN0IG89dC5nZXRIb3VycygpLGE9dC5nZXRNaW51dGVzKCk7aWYoaSl7Y29uc3QgdD1mdW5jdGlvbih0KXtjb25zdCBlPUpvKHQpO3JldHVybiB2YyhlKSwoZVtlYS5FeHRyYURhdGFdWzJdfHxbXSkubWFwKHQ9PiJzdHJpbmciPT10eXBlb2YgdD9fYyh0KTpbX2ModFswXSksX2ModFsxXSldKX0oZSksbj1mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1Kbyh0KTt2YyhyKTtjb25zdCBzPWJjKFtyW2VhLkV4dHJhRGF0YV1bMF0scltlYS5FeHRyYURhdGFdWzFdXSxlKXx8W107cmV0dXJuIGJjKHMsbil8fFtdfShlLHMsciksaT10LmZpbmRJbmRleCh0PT57aWYoQXJyYXkuaXNBcnJheSh0KSl7Y29uc3RbZSxuXT10LHI9bz49ZS5ob3VycyYmYT49ZS5taW51dGVzLHM9bzxuLmhvdXJzfHxvPT09bi5ob3VycyYmYTxuLm1pbnV0ZXM7aWYoZS5ob3VyczxuLmhvdXJzKXtpZihyJiZzKXJldHVybiEwfWVsc2UgaWYocnx8cylyZXR1cm4hMH1lbHNlIGlmKHQuaG91cnM9PT1vJiZ0Lm1pbnV0ZXM9PT1hKXJldHVybiEwO3JldHVybiExfSk7aWYoLTEhPT1pKXJldHVybiBuW2ldfXJldHVybiBmdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1Kbyh0KSxzPWJjKFtyW2VhLkRheVBlcmlvZHNGb3JtYXRdLHJbZWEuRGF5UGVyaW9kc1N0YW5kYWxvbmVdXSxlKTtyZXR1cm4gYmMocyxuKX0oZSxzLHIpW288MTI/MDoxXTtjYXNlIFNjLkVyYXM6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGJjKEpvKHQpW2VhLkVyYXNdLGUpfShlLHIpW3QuZ2V0RnVsbFllYXIoKTw9MD8wOjFdO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bmV4cGVjdGVkIHRyYW5zbGF0aW9uIHR5cGUgJHtufWApfX0ocyxpLHQsZSxuLHIpfX1mdW5jdGlvbiBSYyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLHIpe2NvbnN0IHM9LTEqcixpPW1jKG4sZGMuTWludXNTaWduKSxvPXM+MD9NYXRoLmZsb29yKHMvNjApOk1hdGguY2VpbChzLzYwKTtzd2l0Y2godCl7Y2FzZSBEYy5TaG9ydDpyZXR1cm4ocz49MD8iKyI6IiIpK0ZjKG8sMixpKStGYyhNYXRoLmFicyhzJTYwKSwyLGkpO2Nhc2UgRGMuU2hvcnRHTVQ6cmV0dXJuIkdNVCIrKHM+PTA/IisiOiIiKStGYyhvLDEsaSk7Y2FzZSBEYy5Mb25nOnJldHVybiJHTVQiKyhzPj0wPyIrIjoiIikrRmMobywyLGkpKyI6IitGYyhNYXRoLmFicyhzJTYwKSwyLGkpO2Nhc2UgRGMuRXh0ZW5kZWQ6cmV0dXJuIDA9PT1yPyJaIjoocz49MD8iKyI6IiIpK0ZjKG8sMixpKSsiOiIrRmMoTWF0aC5hYnMocyU2MCksMixpKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biB6b25lIHdpZHRoICIke3R9ImApfX19ZnVuY3Rpb24gTWModCl7cmV0dXJuIGtjKHQuZ2V0RnVsbFllYXIoKSx0LmdldE1vbnRoKCksdC5nZXREYXRlKCkrKDQtdC5nZXREYXkoKSkpfWZ1bmN0aW9uIFZjKHQsZT0hMSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7bGV0IHM7aWYoZSl7Y29uc3QgdD1uZXcgRGF0ZShuLmdldEZ1bGxZZWFyKCksbi5nZXRNb250aCgpLDEpLmdldERheSgpLTEsZT1uLmdldERhdGUoKTtzPTErTWF0aC5mbG9vcigoZSt0KS83KX1lbHNle2NvbnN0IHQ9TWMobiksZT1mdW5jdGlvbih0KXtjb25zdCBlPWtjKHQsMCwxKS5nZXREYXkoKTtyZXR1cm4ga2ModCwwLDErKGU8PTQ/NDoxMSktZSl9KHQuZ2V0RnVsbFllYXIoKSkscj10LmdldFRpbWUoKS1lLmdldFRpbWUoKTtzPTErTWF0aC5yb3VuZChyLzYwNDhlNSl9cmV0dXJuIEZjKHMsdCxtYyhyLGRjLk1pbnVzU2lnbikpfX1mdW5jdGlvbiBqYyh0LGU9ITEpe3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBGYyhNYyhuKS5nZXRGdWxsWWVhcigpLHQsbWMocixkYy5NaW51c1NpZ24pLGUpfX1jb25zdCBOYz17fTtmdW5jdGlvbiBMYyh0LGUpe3Q9dC5yZXBsYWNlKC86L2csIiIpO2NvbnN0IG49RGF0ZS5wYXJzZSgiSmFuIDAxLCAxOTcwIDAwOjAwOjAwICIrdCkvNmU0O3JldHVybiBpc05hTihuKT9lOm59ZnVuY3Rpb24gQmModCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBEYXRlJiYhaXNOYU4odC52YWx1ZU9mKCkpfWNvbnN0IFVjPS9eKFxkKyk/XC4oKFxkKykoLShcZCspKT8pPyQvLEhjPSIuIiwkYz0iMCI7ZnVuY3Rpb24gemModCxlLG4scixzLGksbz0hMSl7bGV0IGE9IiIsbD0hMTtpZihpc0Zpbml0ZSh0KSl7bGV0IHU9ZnVuY3Rpb24odCl7bGV0IGUsbixyLHMsaSxvPU1hdGguYWJzKHQpKyIiLGE9MDtmb3IoKG49by5pbmRleE9mKEhjKSk+LTEmJihvPW8ucmVwbGFjZShIYywiIikpLChyPW8uc2VhcmNoKC9lL2kpKT4wPyhuPDAmJihuPXIpLG4rPStvLnNsaWNlKHIrMSksbz1vLnN1YnN0cmluZygwLHIpKTpuPDAmJihuPW8ubGVuZ3RoKSxyPTA7by5jaGFyQXQocik9PT0kYztyKyspO2lmKHI9PT0oaT1vLmxlbmd0aCkpZT1bMF0sbj0xO2Vsc2V7Zm9yKGktLTtvLmNoYXJBdChpKT09PSRjOylpLS07Zm9yKG4tPXIsZT1bXSxzPTA7cjw9aTtyKysscysrKWVbc109TnVtYmVyKG8uY2hhckF0KHIpKX1yZXR1cm4gbj4yMiYmKGU9ZS5zcGxpY2UoMCwyMSksYT1uLTEsbj0xKSx7ZGlnaXRzOmUsZXhwb25lbnQ6YSxpbnRlZ2VyTGVuOm59fSh0KTtvJiYodT1mdW5jdGlvbih0KXtpZigwPT09dC5kaWdpdHNbMF0pcmV0dXJuIHQ7Y29uc3QgZT10LmRpZ2l0cy5sZW5ndGgtdC5pbnRlZ2VyTGVuO3JldHVybiB0LmV4cG9uZW50P3QuZXhwb25lbnQrPTI6KDA9PT1lP3QuZGlnaXRzLnB1c2goMCwwKToxPT09ZSYmdC5kaWdpdHMucHVzaCgwKSx0LmludGVnZXJMZW4rPTIpLHR9KHUpKTtsZXQgYz1lLm1pbkludCxoPWUubWluRnJhYyxkPWUubWF4RnJhYztpZihpKXtjb25zdCB0PWkubWF0Y2goVWMpO2lmKG51bGw9PT10KXRocm93IG5ldyBFcnJvcihgJHtpfSBpcyBub3QgYSB2YWxpZCBkaWdpdCBpbmZvYCk7Y29uc3QgZT10WzFdLG49dFszXSxyPXRbNV07bnVsbCE9ZSYmKGM9V2MoZSkpLG51bGwhPW4mJihoPVdjKG4pKSxudWxsIT1yP2Q9V2Mocik6bnVsbCE9biYmaD5kJiYoZD1oKX0hZnVuY3Rpb24odCxlLG4pe2lmKGU+bil0aHJvdyBuZXcgRXJyb3IoYFRoZSBtaW5pbXVtIG51bWJlciBvZiBkaWdpdHMgYWZ0ZXIgZnJhY3Rpb24gKCR7ZX0pIGlzIGhpZ2hlciB0aGFuIHRoZSBtYXhpbXVtICgke259KS5gKTtsZXQgcj10LmRpZ2l0cyxzPXIubGVuZ3RoLXQuaW50ZWdlckxlbjtjb25zdCBpPU1hdGgubWluKE1hdGgubWF4KGUscyksbik7bGV0IG89aSt0LmludGVnZXJMZW4sYT1yW29dO2lmKG8+MCl7ci5zcGxpY2UoTWF0aC5tYXgodC5pbnRlZ2VyTGVuLG8pKTtmb3IobGV0IHQ9bzt0PHIubGVuZ3RoO3QrKylyW3RdPTB9ZWxzZXtzPU1hdGgubWF4KDAscyksdC5pbnRlZ2VyTGVuPTEsci5sZW5ndGg9TWF0aC5tYXgoMSxvPWkrMSksclswXT0wO2ZvcihsZXQgdD0xO3Q8bzt0Kyspclt0XT0wfWlmKGE+PTUpaWYoby0xPDApe2ZvcihsZXQgZT0wO2U+bztlLS0pci51bnNoaWZ0KDApLHQuaW50ZWdlckxlbisrO3IudW5zaGlmdCgxKSx0LmludGVnZXJMZW4rK31lbHNlIHJbby0xXSsrO2Zvcig7czxNYXRoLm1heCgwLGkpO3MrKylyLnB1c2goMCk7bGV0IGw9MCE9PWk7Y29uc3QgdT1lK3QuaW50ZWdlckxlbixjPXIucmVkdWNlUmlnaHQoZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHJbbl09KGUrPXQpPDEwP2U6ZS0xMCxsJiYoMD09PXJbbl0mJm4+PXU/ci5wb3AoKTpsPSExKSxlPj0xMD8xOjB9LDApO2MmJihyLnVuc2hpZnQoYyksdC5pbnRlZ2VyTGVuKyspfSh1LGgsZCk7bGV0IHA9dS5kaWdpdHMsZj11LmludGVnZXJMZW47Y29uc3QgZz11LmV4cG9uZW50O2xldCBtPVtdO2ZvcihsPXAuZXZlcnkodD0+IXQpO2Y8YztmKyspcC51bnNoaWZ0KDApO2Zvcig7ZjwwO2YrKylwLnVuc2hpZnQoMCk7Zj4wP209cC5zcGxpY2UoZixwLmxlbmd0aCk6KG09cCxwPVswXSk7Y29uc3QgeT1bXTtmb3IocC5sZW5ndGg+PWUubGdTaXplJiZ5LnVuc2hpZnQocC5zcGxpY2UoLWUubGdTaXplLHAubGVuZ3RoKS5qb2luKCIiKSk7cC5sZW5ndGg+ZS5nU2l6ZTspeS51bnNoaWZ0KHAuc3BsaWNlKC1lLmdTaXplLHAubGVuZ3RoKS5qb2luKCIiKSk7cC5sZW5ndGgmJnkudW5zaGlmdChwLmpvaW4oIiIpKSxhPXkuam9pbihtYyhuLHIpKSxtLmxlbmd0aCYmKGErPW1jKG4scykrbS5qb2luKCIiKSksZyYmKGErPW1jKG4sZGMuRXhwb25lbnRpYWwpKyIrIitnKX1lbHNlIGE9bWMobixkYy5JbmZpbml0eSk7cmV0dXJuIGE9dDwwJiYhbD9lLm5lZ1ByZSthK2UubmVnU3VmOmUucG9zUHJlK2ErZS5wb3NTdWYsYX1mdW5jdGlvbiBxYyh0LGU9Ii0iKXtjb25zdCBuPXttaW5JbnQ6MSxtaW5GcmFjOjAsbWF4RnJhYzowLHBvc1ByZToiIixwb3NTdWY6IiIsbmVnUHJlOiIiLG5lZ1N1ZjoiIixnU2l6ZTowLGxnU2l6ZTowfSxyPXQuc3BsaXQoIjsiKSxzPXJbMF0saT1yWzFdLG89LTEhPT1zLmluZGV4T2YoSGMpP3Muc3BsaXQoSGMpOltzLnN1YnN0cmluZygwLHMubGFzdEluZGV4T2YoJGMpKzEpLHMuc3Vic3RyaW5nKHMubGFzdEluZGV4T2YoJGMpKzEpXSxhPW9bMF0sbD1vWzFdfHwiIjtuLnBvc1ByZT1hLnN1YnN0cigwLGEuaW5kZXhPZigiIyIpKTtmb3IobGV0IGM9MDtjPGwubGVuZ3RoO2MrKyl7Y29uc3QgdD1sLmNoYXJBdChjKTt0PT09JGM/bi5taW5GcmFjPW4ubWF4RnJhYz1jKzE6IiMiPT09dD9uLm1heEZyYWM9YysxOm4ucG9zU3VmKz10fWNvbnN0IHU9YS5zcGxpdCgiLCIpO2lmKG4uZ1NpemU9dVsxXT91WzFdLmxlbmd0aDowLG4ubGdTaXplPXVbMl18fHVbMV0/KHVbMl18fHVbMV0pLmxlbmd0aDowLGkpe2NvbnN0IHQ9cy5sZW5ndGgtbi5wb3NQcmUubGVuZ3RoLW4ucG9zU3VmLmxlbmd0aCxlPWkuaW5kZXhPZigiIyIpO24ubmVnUHJlPWkuc3Vic3RyKDAsZSkucmVwbGFjZSgvJy9nLCIiKSxuLm5lZ1N1Zj1pLnN1YnN0cihlK3QpLnJlcGxhY2UoLycvZywiIil9ZWxzZSBuLm5lZ1ByZT1lK24ucG9zUHJlLG4ubmVnU3VmPW4ucG9zU3VmO3JldHVybiBufWZ1bmN0aW9uIFdjKHQpe2NvbnN0IGU9cGFyc2VJbnQodCk7aWYoaXNOYU4oZSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGludGVnZXIgbGl0ZXJhbCB3aGVuIHBhcnNpbmcgIit0KTtyZXR1cm4gZX1jbGFzcyBHY3t9bGV0IFpjPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBHY3tjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMubG9jYWxlPXR9Z2V0UGx1cmFsQ2F0ZWdvcnkodCxlKXtzd2l0Y2goZnVuY3Rpb24odCl7cmV0dXJuIEpvKHQpW2VhLlBsdXJhbENhc2VdfShlfHx0aGlzLmxvY2FsZSkodCkpe2Nhc2UgbGMuWmVybzpyZXR1cm4iemVybyI7Y2FzZSBsYy5PbmU6cmV0dXJuIm9uZSI7Y2FzZSBsYy5Ud286cmV0dXJuInR3byI7Y2FzZSBsYy5GZXc6cmV0dXJuImZldyI7Y2FzZSBsYy5NYW55OnJldHVybiJtYW55IjtkZWZhdWx0OnJldHVybiJvdGhlciJ9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihYbCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2Z1bmN0aW9uIEtjKHQsZSl7ZT1lbmNvZGVVUklDb21wb25lbnQoZSk7Zm9yKGNvbnN0IG4gb2YgdC5zcGxpdCgiOyIpKXtjb25zdCB0PW4uaW5kZXhPZigiPSIpLFtyLHNdPS0xPT10P1tuLCIiXTpbbi5zbGljZSgwLHQpLG4uc2xpY2UodCsxKV07aWYoci50cmltKCk9PT1lKXJldHVybiBkZWNvZGVVUklDb21wb25lbnQocyl9cmV0dXJuIG51bGx9bGV0IFljPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4scil7dGhpcy5faXRlcmFibGVEaWZmZXJzPXQsdGhpcy5fa2V5VmFsdWVEaWZmZXJzPWUsdGhpcy5fbmdFbD1uLHRoaXMuX3JlbmRlcmVyPXIsdGhpcy5faXRlcmFibGVEaWZmZXI9bnVsbCx0aGlzLl9rZXlWYWx1ZURpZmZlcj1udWxsLHRoaXMuX2luaXRpYWxDbGFzc2VzPVtdLHRoaXMuX3Jhd0NsYXNzPW51bGx9c2V0IGtsYXNzKHQpe3RoaXMuX3JlbW92ZUNsYXNzZXModGhpcy5faW5pdGlhbENsYXNzZXMpLHRoaXMuX2luaXRpYWxDbGFzc2VzPSJzdHJpbmciPT10eXBlb2YgdD90LnNwbGl0KC9ccysvKTpbXSx0aGlzLl9hcHBseUNsYXNzZXModGhpcy5faW5pdGlhbENsYXNzZXMpLHRoaXMuX2FwcGx5Q2xhc3Nlcyh0aGlzLl9yYXdDbGFzcyl9c2V0IG5nQ2xhc3ModCl7dGhpcy5fcmVtb3ZlQ2xhc3Nlcyh0aGlzLl9yYXdDbGFzcyksdGhpcy5fYXBwbHlDbGFzc2VzKHRoaXMuX2luaXRpYWxDbGFzc2VzKSx0aGlzLl9pdGVyYWJsZURpZmZlcj1udWxsLHRoaXMuX2tleVZhbHVlRGlmZmVyPW51bGwsdGhpcy5fcmF3Q2xhc3M9InN0cmluZyI9PXR5cGVvZiB0P3Quc3BsaXQoL1xzKy8pOnQsdGhpcy5fcmF3Q2xhc3MmJihubyh0aGlzLl9yYXdDbGFzcyk/dGhpcy5faXRlcmFibGVEaWZmZXI9dGhpcy5faXRlcmFibGVEaWZmZXJzLmZpbmQodGhpcy5fcmF3Q2xhc3MpLmNyZWF0ZSgpOnRoaXMuX2tleVZhbHVlRGlmZmVyPXRoaXMuX2tleVZhbHVlRGlmZmVycy5maW5kKHRoaXMuX3Jhd0NsYXNzKS5jcmVhdGUoKSl9bmdEb0NoZWNrKCl7aWYodGhpcy5faXRlcmFibGVEaWZmZXIpe2NvbnN0IHQ9dGhpcy5faXRlcmFibGVEaWZmZXIuZGlmZih0aGlzLl9yYXdDbGFzcyk7dCYmdGhpcy5fYXBwbHlJdGVyYWJsZUNoYW5nZXModCl9ZWxzZSBpZih0aGlzLl9rZXlWYWx1ZURpZmZlcil7Y29uc3QgdD10aGlzLl9rZXlWYWx1ZURpZmZlci5kaWZmKHRoaXMuX3Jhd0NsYXNzKTt0JiZ0aGlzLl9hcHBseUtleVZhbHVlQ2hhbmdlcyh0KX19X2FwcGx5S2V5VmFsdWVDaGFuZ2VzKHQpe3QuZm9yRWFjaEFkZGVkSXRlbSh0PT50aGlzLl90b2dnbGVDbGFzcyh0LmtleSx0LmN1cnJlbnRWYWx1ZSkpLHQuZm9yRWFjaENoYW5nZWRJdGVtKHQ9PnRoaXMuX3RvZ2dsZUNsYXNzKHQua2V5LHQuY3VycmVudFZhbHVlKSksdC5mb3JFYWNoUmVtb3ZlZEl0ZW0odD0+e3QucHJldmlvdXNWYWx1ZSYmdGhpcy5fdG9nZ2xlQ2xhc3ModC5rZXksITEpfSl9X2FwcGx5SXRlcmFibGVDaGFuZ2VzKHQpe3QuZm9yRWFjaEFkZGVkSXRlbSh0PT57aWYoInN0cmluZyIhPXR5cGVvZiB0Lml0ZW0pdGhyb3cgbmV3IEVycm9yKGBOZ0NsYXNzIGNhbiBvbmx5IHRvZ2dsZSBDU1MgY2xhc3NlcyBleHByZXNzZWQgYXMgc3RyaW5ncywgZ290ICR7ZXQodC5pdGVtKX1gKTt0aGlzLl90b2dnbGVDbGFzcyh0Lml0ZW0sITApfSksdC5mb3JFYWNoUmVtb3ZlZEl0ZW0odD0+dGhpcy5fdG9nZ2xlQ2xhc3ModC5pdGVtLCExKSl9X2FwcGx5Q2xhc3Nlcyh0KXt0JiYoQXJyYXkuaXNBcnJheSh0KXx8dCBpbnN0YW5jZW9mIFNldD90LmZvckVhY2godD0+dGhpcy5fdG9nZ2xlQ2xhc3ModCwhMCkpOk9iamVjdC5rZXlzKHQpLmZvckVhY2goZT0+dGhpcy5fdG9nZ2xlQ2xhc3MoZSwhIXRbZV0pKSl9X3JlbW92ZUNsYXNzZXModCl7dCYmKEFycmF5LmlzQXJyYXkodCl8fHQgaW5zdGFuY2VvZiBTZXQ/dC5mb3JFYWNoKHQ9PnRoaXMuX3RvZ2dsZUNsYXNzKHQsITEpKTpPYmplY3Qua2V5cyh0KS5mb3JFYWNoKHQ9PnRoaXMuX3RvZ2dsZUNsYXNzKHQsITEpKSl9X3RvZ2dsZUNsYXNzKHQsZSl7KHQ9dC50cmltKCkpJiZ0LnNwbGl0KC9ccysvZykuZm9yRWFjaCh0PT57ZT90aGlzLl9yZW5kZXJlci5hZGRDbGFzcyh0aGlzLl9uZ0VsLm5hdGl2ZUVsZW1lbnQsdCk6dGhpcy5fcmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5fbmdFbC5uYXRpdmVFbGVtZW50LHQpfSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhvKE5hKSxobyhCYSksaG8oYmEpLGhvKENhKSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsIm5nQ2xhc3MiLCIiXV0saW5wdXRzOntrbGFzczpbImNsYXNzIiwia2xhc3MiXSxuZ0NsYXNzOiJuZ0NsYXNzIn19KSx0fSkoKTtjbGFzcyBRY3tjb25zdHJ1Y3Rvcih0LGUsbixyKXt0aGlzLiRpbXBsaWNpdD10LHRoaXMubmdGb3JPZj1lLHRoaXMuaW5kZXg9bix0aGlzLmNvdW50PXJ9Z2V0IGZpcnN0KCl7cmV0dXJuIDA9PT10aGlzLmluZGV4fWdldCBsYXN0KCl7cmV0dXJuIHRoaXMuaW5kZXg9PT10aGlzLmNvdW50LTF9Z2V0IGV2ZW4oKXtyZXR1cm4gdGhpcy5pbmRleCUyPT0wfWdldCBvZGQoKXtyZXR1cm4hdGhpcy5ldmVufX1sZXQgWGM9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5fdmlld0NvbnRhaW5lcj10LHRoaXMuX3RlbXBsYXRlPWUsdGhpcy5fZGlmZmVycz1uLHRoaXMuX25nRm9yT2Y9bnVsbCx0aGlzLl9uZ0Zvck9mRGlydHk9ITAsdGhpcy5fZGlmZmVyPW51bGx9c2V0IG5nRm9yT2YodCl7dGhpcy5fbmdGb3JPZj10LHRoaXMuX25nRm9yT2ZEaXJ0eT0hMH1zZXQgbmdGb3JUcmFja0J5KHQpe3RoaXMuX3RyYWNrQnlGbj10fWdldCBuZ0ZvclRyYWNrQnkoKXtyZXR1cm4gdGhpcy5fdHJhY2tCeUZufXNldCBuZ0ZvclRlbXBsYXRlKHQpe3QmJih0aGlzLl90ZW1wbGF0ZT10KX1uZ0RvQ2hlY2soKXtpZih0aGlzLl9uZ0Zvck9mRGlydHkpe3RoaXMuX25nRm9yT2ZEaXJ0eT0hMTtjb25zdCBuPXRoaXMuX25nRm9yT2Y7aWYoIXRoaXMuX2RpZmZlciYmbil0cnl7dGhpcy5fZGlmZmVyPXRoaXMuX2RpZmZlcnMuZmluZChuKS5jcmVhdGUodGhpcy5uZ0ZvclRyYWNrQnkpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgYSBkaWZmZXIgc3VwcG9ydGluZyBvYmplY3QgJyR7bn0nIG9mIHR5cGUgJyR7dD1uLHQubmFtZXx8dHlwZW9mIHR9Jy4gTmdGb3Igb25seSBzdXBwb3J0cyBiaW5kaW5nIHRvIEl0ZXJhYmxlcyBzdWNoIGFzIEFycmF5cy5gKX19dmFyIHQ7aWYodGhpcy5fZGlmZmVyKXtjb25zdCB0PXRoaXMuX2RpZmZlci5kaWZmKHRoaXMuX25nRm9yT2YpO3QmJnRoaXMuX2FwcGx5Q2hhbmdlcyh0KX19X2FwcGx5Q2hhbmdlcyh0KXtjb25zdCBlPVtdO3QuZm9yRWFjaE9wZXJhdGlvbigodCxuLHIpPT57aWYobnVsbD09dC5wcmV2aW91c0luZGV4KXtjb25zdCBuPXRoaXMuX3ZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuX3RlbXBsYXRlLG5ldyBRYyhudWxsLHRoaXMuX25nRm9yT2YsLTEsLTEpLG51bGw9PT1yP3ZvaWQgMDpyKSxzPW5ldyBKYyh0LG4pO2UucHVzaChzKX1lbHNlIGlmKG51bGw9PXIpdGhpcy5fdmlld0NvbnRhaW5lci5yZW1vdmUobnVsbD09PW4/dm9pZCAwOm4pO2Vsc2UgaWYobnVsbCE9PW4pe2NvbnN0IHM9dGhpcy5fdmlld0NvbnRhaW5lci5nZXQobik7dGhpcy5fdmlld0NvbnRhaW5lci5tb3ZlKHMscik7Y29uc3QgaT1uZXcgSmModCxzKTtlLnB1c2goaSl9fSk7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5fcGVyVmlld0NoYW5nZShlW25dLnZpZXcsZVtuXS5yZWNvcmQpO2ZvcihsZXQgbj0wLHI9dGhpcy5fdmlld0NvbnRhaW5lci5sZW5ndGg7bjxyO24rKyl7Y29uc3QgdD10aGlzLl92aWV3Q29udGFpbmVyLmdldChuKTt0LmNvbnRleHQuaW5kZXg9bix0LmNvbnRleHQuY291bnQ9cix0LmNvbnRleHQubmdGb3JPZj10aGlzLl9uZ0Zvck9mfXQuZm9yRWFjaElkZW50aXR5Q2hhbmdlKHQ9Pnt0aGlzLl92aWV3Q29udGFpbmVyLmdldCh0LmN1cnJlbnRJbmRleCkuY29udGV4dC4kaW1wbGljaXQ9dC5pdGVtfSl9X3BlclZpZXdDaGFuZ2UodCxlKXt0LmNvbnRleHQuJGltcGxpY2l0PWUuaXRlbX1zdGF0aWMgbmdUZW1wbGF0ZUNvbnRleHRHdWFyZCh0LGUpe3JldHVybiEwfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShobyhybCksaG8oWWEpLGhvKE5hKSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsIm5nRm9yIiwiIiwibmdGb3JPZiIsIiJdXSxpbnB1dHM6e25nRm9yT2Y6Im5nRm9yT2YiLG5nRm9yVHJhY2tCeToibmdGb3JUcmFja0J5IixuZ0ZvclRlbXBsYXRlOiJuZ0ZvclRlbXBsYXRlIn19KSx0fSkoKTtjbGFzcyBKY3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucmVjb3JkPXQsdGhpcy52aWV3PWV9fWxldCB0aD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fdmlld0NvbnRhaW5lcj10LHRoaXMuX2NvbnRleHQ9bmV3IGVoLHRoaXMuX3RoZW5UZW1wbGF0ZVJlZj1udWxsLHRoaXMuX2Vsc2VUZW1wbGF0ZVJlZj1udWxsLHRoaXMuX3RoZW5WaWV3UmVmPW51bGwsdGhpcy5fZWxzZVZpZXdSZWY9bnVsbCx0aGlzLl90aGVuVGVtcGxhdGVSZWY9ZX1zZXQgbmdJZih0KXt0aGlzLl9jb250ZXh0LiRpbXBsaWNpdD10aGlzLl9jb250ZXh0Lm5nSWY9dCx0aGlzLl91cGRhdGVWaWV3KCl9c2V0IG5nSWZUaGVuKHQpe25oKCJuZ0lmVGhlbiIsdCksdGhpcy5fdGhlblRlbXBsYXRlUmVmPXQsdGhpcy5fdGhlblZpZXdSZWY9bnVsbCx0aGlzLl91cGRhdGVWaWV3KCl9c2V0IG5nSWZFbHNlKHQpe25oKCJuZ0lmRWxzZSIsdCksdGhpcy5fZWxzZVRlbXBsYXRlUmVmPXQsdGhpcy5fZWxzZVZpZXdSZWY9bnVsbCx0aGlzLl91cGRhdGVWaWV3KCl9X3VwZGF0ZVZpZXcoKXt0aGlzLl9jb250ZXh0LiRpbXBsaWNpdD90aGlzLl90aGVuVmlld1JlZnx8KHRoaXMuX3ZpZXdDb250YWluZXIuY2xlYXIoKSx0aGlzLl9lbHNlVmlld1JlZj1udWxsLHRoaXMuX3RoZW5UZW1wbGF0ZVJlZiYmKHRoaXMuX3RoZW5WaWV3UmVmPXRoaXMuX3ZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuX3RoZW5UZW1wbGF0ZVJlZix0aGlzLl9jb250ZXh0KSkpOnRoaXMuX2Vsc2VWaWV3UmVmfHwodGhpcy5fdmlld0NvbnRhaW5lci5jbGVhcigpLHRoaXMuX3RoZW5WaWV3UmVmPW51bGwsdGhpcy5fZWxzZVRlbXBsYXRlUmVmJiYodGhpcy5fZWxzZVZpZXdSZWY9dGhpcy5fdmlld0NvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5fZWxzZVRlbXBsYXRlUmVmLHRoaXMuX2NvbnRleHQpKSl9c3RhdGljIG5nVGVtcGxhdGVDb250ZXh0R3VhcmQodCxlKXtyZXR1cm4hMH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaG8ocmwpLGhvKFlhKSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIiIsIm5nSWYiLCIiXV0saW5wdXRzOntuZ0lmOiJuZ0lmIixuZ0lmVGhlbjoibmdJZlRoZW4iLG5nSWZFbHNlOiJuZ0lmRWxzZSJ9fSksdH0pKCk7Y2xhc3MgZWh7Y29uc3RydWN0b3IoKXt0aGlzLiRpbXBsaWNpdD1udWxsLHRoaXMubmdJZj1udWxsfX1mdW5jdGlvbiBuaCh0LGUpe2lmKGUmJiFlLmNyZWF0ZUVtYmVkZGVkVmlldyl0aHJvdyBuZXcgRXJyb3IoYCR7dH0gbXVzdCBiZSBhIFRlbXBsYXRlUmVmLCBidXQgcmVjZWl2ZWQgJyR7ZXQoZSl9Jy5gKX1sZXQgcmg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl92aWV3Q29udGFpbmVyUmVmPXQsdGhpcy5fdmlld1JlZj1udWxsLHRoaXMubmdUZW1wbGF0ZU91dGxldENvbnRleHQ9bnVsbCx0aGlzLm5nVGVtcGxhdGVPdXRsZXQ9bnVsbH1uZ09uQ2hhbmdlcyh0KXtpZih0Lm5nVGVtcGxhdGVPdXRsZXQpe2NvbnN0IHQ9dGhpcy5fdmlld0NvbnRhaW5lclJlZjt0aGlzLl92aWV3UmVmJiZ0LnJlbW92ZSh0LmluZGV4T2YodGhpcy5fdmlld1JlZikpLHRoaXMuX3ZpZXdSZWY9dGhpcy5uZ1RlbXBsYXRlT3V0bGV0P3QuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMubmdUZW1wbGF0ZU91dGxldCx0aGlzLm5nVGVtcGxhdGVPdXRsZXRDb250ZXh0KTpudWxsfWVsc2UgdGhpcy5fdmlld1JlZiYmdC5uZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCYmdGhpcy5uZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCYmKHRoaXMuX3ZpZXdSZWYuY29udGV4dD10aGlzLm5nVGVtcGxhdGVPdXRsZXRDb250ZXh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaG8ocmwpKX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwibmdUZW1wbGF0ZU91dGxldCIsIiJdXSxpbnB1dHM6e25nVGVtcGxhdGVPdXRsZXRDb250ZXh0OiJuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dCIsbmdUZW1wbGF0ZU91dGxldDoibmdUZW1wbGF0ZU91dGxldCJ9LGZlYXR1cmVzOltsZV19KSx0fSkoKTtmdW5jdGlvbiBzaCh0LGUpe3JldHVybiBFcnJvcihgSW52YWxpZFBpcGVBcmd1bWVudDogJyR7ZX0nIGZvciBwaXBlICcke2V0KHQpfSdgKX1jb25zdCBpaD0vKD86W0EtWmEtelx4QUFceEI1XHhCQVx4QzAtXHhENlx4RDgtXHhGNlx4RjgtXHUwMkMxXHUwMkM2LVx1MDJEMVx1MDJFMC1cdTAyRTRcdTAyRUNcdTAyRUVcdTAzNzAtXHUwMzc0XHUwMzc2XHUwMzc3XHUwMzdBLVx1MDM3RFx1MDM3Rlx1MDM4Nlx1MDM4OC1cdTAzOEFcdTAzOENcdTAzOEUtXHUwM0ExXHUwM0EzLVx1MDNGNVx1MDNGNy1cdTA0ODFcdTA0OEEtXHUwNTJGXHUwNTMxLVx1MDU1Nlx1MDU1OVx1MDU2MS1cdTA1ODdcdTA1RDAtXHUwNUVBXHUwNUYwLVx1MDVGMlx1MDYyMC1cdTA2NEFcdTA2NkVcdTA2NkZcdTA2NzEtXHUwNkQzXHUwNkQ1XHUwNkU1XHUwNkU2XHUwNkVFXHUwNkVGXHUwNkZBLVx1MDZGQ1x1MDZGRlx1MDcxMFx1MDcxMi1cdTA3MkZcdTA3NEQtXHUwN0E1XHUwN0IxXHUwN0NBLVx1MDdFQVx1MDdGNFx1MDdGNVx1MDdGQVx1MDgwMC1cdTA4MTVcdTA4MUFcdTA4MjRcdTA4MjhcdTA4NDAtXHUwODU4XHUwODYwLVx1MDg2QVx1MDhBMC1cdTA4QjRcdTA4QjYtXHUwOEJEXHUwOTA0LVx1MDkzOVx1MDkzRFx1MDk1MFx1MDk1OC1cdTA5NjFcdTA5NzEtXHUwOTgwXHUwOTg1LVx1MDk4Q1x1MDk4Rlx1MDk5MFx1MDk5My1cdTA5QThcdTA5QUEtXHUwOUIwXHUwOUIyXHUwOUI2LVx1MDlCOVx1MDlCRFx1MDlDRVx1MDlEQ1x1MDlERFx1MDlERi1cdTA5RTFcdTA5RjBcdTA5RjFcdTA5RkNcdTBBMDUtXHUwQTBBXHUwQTBGXHUwQTEwXHUwQTEzLVx1MEEyOFx1MEEyQS1cdTBBMzBcdTBBMzJcdTBBMzNcdTBBMzVcdTBBMzZcdTBBMzhcdTBBMzlcdTBBNTktXHUwQTVDXHUwQTVFXHUwQTcyLVx1MEE3NFx1MEE4NS1cdTBBOERcdTBBOEYtXHUwQTkxXHUwQTkzLVx1MEFBOFx1MEFBQS1cdTBBQjBcdTBBQjJcdTBBQjNcdTBBQjUtXHUwQUI5XHUwQUJEXHUwQUQwXHUwQUUwXHUwQUUxXHUwQUY5XHUwQjA1LVx1MEIwQ1x1MEIwRlx1MEIxMFx1MEIxMy1cdTBCMjhcdTBCMkEtXHUwQjMwXHUwQjMyXHUwQjMzXHUwQjM1LVx1MEIzOVx1MEIzRFx1MEI1Q1x1MEI1RFx1MEI1Ri1cdTBCNjFcdTBCNzFcdTBCODNcdTBCODUtXHUwQjhBXHUwQjhFLVx1MEI5MFx1MEI5Mi1cdTBCOTVcdTBCOTlcdTBCOUFcdTBCOUNcdTBCOUVcdTBCOUZcdTBCQTNcdTBCQTRcdTBCQTgtXHUwQkFBXHUwQkFFLVx1MEJCOVx1MEJEMFx1MEMwNS1cdTBDMENcdTBDMEUtXHUwQzEwXHUwQzEyLVx1MEMyOFx1MEMyQS1cdTBDMzlcdTBDM0RcdTBDNTgtXHUwQzVBXHUwQzYwXHUwQzYxXHUwQzgwXHUwQzg1LVx1MEM4Q1x1MEM4RS1cdTBDOTBcdTBDOTItXHUwQ0E4XHUwQ0FBLVx1MENCM1x1MENCNS1cdTBDQjlcdTBDQkRcdTBDREVcdTBDRTBcdTBDRTFcdTBDRjFcdTBDRjJcdTBEMDUtXHUwRDBDXHUwRDBFLVx1MEQxMFx1MEQxMi1cdTBEM0FcdTBEM0RcdTBENEVcdTBENTQtXHUwRDU2XHUwRDVGLVx1MEQ2MVx1MEQ3QS1cdTBEN0ZcdTBEODUtXHUwRDk2XHUwRDlBLVx1MERCMVx1MERCMy1cdTBEQkJcdTBEQkRcdTBEQzAtXHUwREM2XHUwRTAxLVx1MEUzMFx1MEUzMlx1MEUzM1x1MEU0MC1cdTBFNDZcdTBFODFcdTBFODJcdTBFODRcdTBFODdcdTBFODhcdTBFOEFcdTBFOERcdTBFOTQtXHUwRTk3XHUwRTk5LVx1MEU5Rlx1MEVBMS1cdTBFQTNcdTBFQTVcdTBFQTdcdTBFQUFcdTBFQUJcdTBFQUQtXHUwRUIwXHUwRUIyXHUwRUIzXHUwRUJEXHUwRUMwLVx1MEVDNFx1MEVDNlx1MEVEQy1cdTBFREZcdTBGMDBcdTBGNDAtXHUwRjQ3XHUwRjQ5LVx1MEY2Q1x1MEY4OC1cdTBGOENcdTEwMDAtXHUxMDJBXHUxMDNGXHUxMDUwLVx1MTA1NVx1MTA1QS1cdTEwNURcdTEwNjFcdTEwNjVcdTEwNjZcdTEwNkUtXHUxMDcwXHUxMDc1LVx1MTA4MVx1MTA4RVx1MTBBMC1cdTEwQzVcdTEwQzdcdTEwQ0RcdTEwRDAtXHUxMEZBXHUxMEZDLVx1MTI0OFx1MTI0QS1cdTEyNERcdTEyNTAtXHUxMjU2XHUxMjU4XHUxMjVBLVx1MTI1RFx1MTI2MC1cdTEyODhcdTEyOEEtXHUxMjhEXHUxMjkwLVx1MTJCMFx1MTJCMi1cdTEyQjVcdTEyQjgtXHUxMkJFXHUxMkMwXHUxMkMyLVx1MTJDNVx1MTJDOC1cdTEyRDZcdTEyRDgtXHUxMzEwXHUxMzEyLVx1MTMxNVx1MTMxOC1cdTEzNUFcdTEzODAtXHUxMzhGXHUxM0EwLVx1MTNGNVx1MTNGOC1cdTEzRkRcdTE0MDEtXHUxNjZDXHUxNjZGLVx1MTY3Rlx1MTY4MS1cdTE2OUFcdTE2QTAtXHUxNkVBXHUxNkYxLVx1MTZGOFx1MTcwMC1cdTE3MENcdTE3MEUtXHUxNzExXHUxNzIwLVx1MTczMVx1MTc0MC1cdTE3NTFcdTE3NjAtXHUxNzZDXHUxNzZFLVx1MTc3MFx1MTc4MC1cdTE3QjNcdTE3RDdcdTE3RENcdTE4MjAtXHUxODc3XHUxODgwLVx1MTg4NFx1MTg4Ny1cdTE4QThcdTE4QUFcdTE4QjAtXHUxOEY1XHUxOTAwLVx1MTkxRVx1MTk1MC1cdTE5NkRcdTE5NzAtXHUxOTc0XHUxOTgwLVx1MTlBQlx1MTlCMC1cdTE5QzlcdTFBMDAtXHUxQTE2XHUxQTIwLVx1MUE1NFx1MUFBN1x1MUIwNS1cdTFCMzNcdTFCNDUtXHUxQjRCXHUxQjgzLVx1MUJBMFx1MUJBRVx1MUJBRlx1MUJCQS1cdTFCRTVcdTFDMDAtXHUxQzIzXHUxQzRELVx1MUM0Rlx1MUM1QS1cdTFDN0RcdTFDODAtXHUxQzg4XHUxQ0U5LVx1MUNFQ1x1MUNFRS1cdTFDRjFcdTFDRjVcdTFDRjZcdTFEMDAtXHUxREJGXHUxRTAwLVx1MUYxNVx1MUYxOC1cdTFGMURcdTFGMjAtXHUxRjQ1XHUxRjQ4LVx1MUY0RFx1MUY1MC1cdTFGNTdcdTFGNTlcdTFGNUJcdTFGNURcdTFGNUYtXHUxRjdEXHUxRjgwLVx1MUZCNFx1MUZCNi1cdTFGQkNcdTFGQkVcdTFGQzItXHUxRkM0XHUxRkM2LVx1MUZDQ1x1MUZEMC1cdTFGRDNcdTFGRDYtXHUxRkRCXHUxRkUwLVx1MUZFQ1x1MUZGMi1cdTFGRjRcdTFGRjYtXHUxRkZDXHUyMDcxXHUyMDdGXHUyMDkwLVx1MjA5Q1x1MjEwMlx1MjEwN1x1MjEwQS1cdTIxMTNcdTIxMTVcdTIxMTktXHUyMTFEXHUyMTI0XHUyMTI2XHUyMTI4XHUyMTJBLVx1MjEyRFx1MjEyRi1cdTIxMzlcdTIxM0MtXHUyMTNGXHUyMTQ1LVx1MjE0OVx1MjE0RVx1MjE4M1x1MjE4NFx1MkMwMC1cdTJDMkVcdTJDMzAtXHUyQzVFXHUyQzYwLVx1MkNFNFx1MkNFQi1cdTJDRUVcdTJDRjJcdTJDRjNcdTJEMDAtXHUyRDI1XHUyRDI3XHUyRDJEXHUyRDMwLVx1MkQ2N1x1MkQ2Rlx1MkQ4MC1cdTJEOTZcdTJEQTAtXHUyREE2XHUyREE4LVx1MkRBRVx1MkRCMC1cdTJEQjZcdTJEQjgtXHUyREJFXHUyREMwLVx1MkRDNlx1MkRDOC1cdTJEQ0VcdTJERDAtXHUyREQ2XHUyREQ4LVx1MkRERVx1MkUyRlx1MzAwNVx1MzAwNlx1MzAzMS1cdTMwMzVcdTMwM0JcdTMwM0NcdTMwNDEtXHUzMDk2XHUzMDlELVx1MzA5Rlx1MzBBMS1cdTMwRkFcdTMwRkMtXHUzMEZGXHUzMTA1LVx1MzEyRVx1MzEzMS1cdTMxOEVcdTMxQTAtXHUzMUJBXHUzMUYwLVx1MzFGRlx1MzQwMC1cdTREQjVcdTRFMDAtXHU5RkVBXHVBMDAwLVx1QTQ4Q1x1QTREMC1cdUE0RkRcdUE1MDAtXHVBNjBDXHVBNjEwLVx1QTYxRlx1QTYyQVx1QTYyQlx1QTY0MC1cdUE2NkVcdUE2N0YtXHVBNjlEXHVBNkEwLVx1QTZFNVx1QTcxNy1cdUE3MUZcdUE3MjItXHVBNzg4XHVBNzhCLVx1QTdBRVx1QTdCMC1cdUE3QjdcdUE3RjctXHVBODAxXHVBODAzLVx1QTgwNVx1QTgwNy1cdUE4MEFcdUE4MEMtXHVBODIyXHVBODQwLVx1QTg3M1x1QTg4Mi1cdUE4QjNcdUE4RjItXHVBOEY3XHVBOEZCXHVBOEZEXHVBOTBBLVx1QTkyNVx1QTkzMC1cdUE5NDZcdUE5NjAtXHVBOTdDXHVBOTg0LVx1QTlCMlx1QTlDRlx1QTlFMC1cdUE5RTRcdUE5RTYtXHVBOUVGXHVBOUZBLVx1QTlGRVx1QUEwMC1cdUFBMjhcdUFBNDAtXHVBQTQyXHVBQTQ0LVx1QUE0Qlx1QUE2MC1cdUFBNzZcdUFBN0FcdUFBN0UtXHVBQUFGXHVBQUIxXHVBQUI1XHVBQUI2XHVBQUI5LVx1QUFCRFx1QUFDMFx1QUFDMlx1QUFEQi1cdUFBRERcdUFBRTAtXHVBQUVBXHVBQUYyLVx1QUFGNFx1QUIwMS1cdUFCMDZcdUFCMDktXHVBQjBFXHVBQjExLVx1QUIxNlx1QUIyMC1cdUFCMjZcdUFCMjgtXHVBQjJFXHVBQjMwLVx1QUI1QVx1QUI1Qy1cdUFCNjVcdUFCNzAtXHVBQkUyXHVBQzAwLVx1RDdBM1x1RDdCMC1cdUQ3QzZcdUQ3Q0ItXHVEN0ZCXHVGOTAwLVx1RkE2RFx1RkE3MC1cdUZBRDlcdUZCMDAtXHVGQjA2XHVGQjEzLVx1RkIxN1x1RkIxRFx1RkIxRi1cdUZCMjhcdUZCMkEtXHVGQjM2XHVGQjM4LVx1RkIzQ1x1RkIzRVx1RkI0MFx1RkI0MVx1RkI0M1x1RkI0NFx1RkI0Ni1cdUZCQjFcdUZCRDMtXHVGRDNEXHVGRDUwLVx1RkQ4Rlx1RkQ5Mi1cdUZEQzdcdUZERjAtXHVGREZCXHVGRTcwLVx1RkU3NFx1RkU3Ni1cdUZFRkNcdUZGMjEtXHVGRjNBXHVGRjQxLVx1RkY1QVx1RkY2Ni1cdUZGQkVcdUZGQzItXHVGRkM3XHVGRkNBLVx1RkZDRlx1RkZEMi1cdUZGRDdcdUZGREEtXHVGRkRDXXxcdUQ4MDBbXHVEQzAwLVx1REMwQlx1REMwRC1cdURDMjZcdURDMjgtXHVEQzNBXHVEQzNDXHVEQzNEXHVEQzNGLVx1REM0RFx1REM1MC1cdURDNURcdURDODAtXHVEQ0ZBXHVERTgwLVx1REU5Q1x1REVBMC1cdURFRDBcdURGMDAtXHVERjFGXHVERjJELVx1REY0MFx1REY0Mi1cdURGNDlcdURGNTAtXHVERjc1XHVERjgwLVx1REY5RFx1REZBMC1cdURGQzNcdURGQzgtXHVERkNGXXxcdUQ4MDFbXHVEQzAwLVx1REM5RFx1RENCMC1cdURDRDNcdURDRDgtXHVEQ0ZCXHVERDAwLVx1REQyN1x1REQzMC1cdURENjNcdURFMDAtXHVERjM2XHVERjQwLVx1REY1NVx1REY2MC1cdURGNjddfFx1RDgwMltcdURDMDAtXHVEQzA1XHVEQzA4XHVEQzBBLVx1REMzNVx1REMzN1x1REMzOFx1REMzQ1x1REMzRi1cdURDNTVcdURDNjAtXHVEQzc2XHVEQzgwLVx1REM5RVx1RENFMC1cdURDRjJcdURDRjRcdURDRjVcdUREMDAtXHVERDE1XHVERDIwLVx1REQzOVx1REQ4MC1cdUREQjdcdUREQkVcdUREQkZcdURFMDBcdURFMTAtXHVERTEzXHVERTE1LVx1REUxN1x1REUxOS1cdURFMzNcdURFNjAtXHVERTdDXHVERTgwLVx1REU5Q1x1REVDMC1cdURFQzdcdURFQzktXHVERUU0XHVERjAwLVx1REYzNVx1REY0MC1cdURGNTVcdURGNjAtXHVERjcyXHVERjgwLVx1REY5MV18XHVEODAzW1x1REMwMC1cdURDNDhcdURDODAtXHVEQ0IyXHVEQ0MwLVx1RENGMl18XHVEODA0W1x1REMwMy1cdURDMzdcdURDODMtXHVEQ0FGXHVEQ0QwLVx1RENFOFx1REQwMy1cdUREMjZcdURENTAtXHVERDcyXHVERDc2XHVERDgzLVx1RERCMlx1RERDMS1cdUREQzRcdUREREFcdURERENcdURFMDAtXHVERTExXHVERTEzLVx1REUyQlx1REU4MC1cdURFODZcdURFODhcdURFOEEtXHVERThEXHVERThGLVx1REU5RFx1REU5Ri1cdURFQThcdURFQjAtXHVERURFXHVERjA1LVx1REYwQ1x1REYwRlx1REYxMFx1REYxMy1cdURGMjhcdURGMkEtXHVERjMwXHVERjMyXHVERjMzXHVERjM1LVx1REYzOVx1REYzRFx1REY1MFx1REY1RC1cdURGNjFdfFx1RDgwNVtcdURDMDAtXHVEQzM0XHVEQzQ3LVx1REM0QVx1REM4MC1cdURDQUZcdURDQzRcdURDQzVcdURDQzdcdUREODAtXHVEREFFXHVEREQ4LVx1REREQlx1REUwMC1cdURFMkZcdURFNDRcdURFODAtXHVERUFBXHVERjAwLVx1REYxOV18XHVEODA2W1x1RENBMC1cdURDREZcdURDRkZcdURFMDBcdURFMEItXHVERTMyXHVERTNBXHVERTUwXHVERTVDLVx1REU4M1x1REU4Ni1cdURFODlcdURFQzAtXHVERUY4XXxcdUQ4MDdbXHVEQzAwLVx1REMwOFx1REMwQS1cdURDMkVcdURDNDBcdURDNzItXHVEQzhGXHVERDAwLVx1REQwNlx1REQwOFx1REQwOVx1REQwQi1cdUREMzBcdURENDZdfFx1RDgwOFtcdURDMDAtXHVERjk5XXxcdUQ4MDlbXHVEQzgwLVx1REQ0M118W1x1RDgwQ1x1RDgxQy1cdUQ4MjBcdUQ4NDAtXHVEODY4XHVEODZBLVx1RDg2Q1x1RDg2Ri1cdUQ4NzJcdUQ4NzQtXHVEODc5XVtcdURDMDAtXHVERkZGXXxcdUQ4MERbXHVEQzAwLVx1REMyRV18XHVEODExW1x1REMwMC1cdURFNDZdfFx1RDgxQVtcdURDMDAtXHVERTM4XHVERTQwLVx1REU1RVx1REVEMC1cdURFRURcdURGMDAtXHVERjJGXHVERjQwLVx1REY0M1x1REY2My1cdURGNzdcdURGN0QtXHVERjhGXXxcdUQ4MUJbXHVERjAwLVx1REY0NFx1REY1MFx1REY5My1cdURGOUZcdURGRTBcdURGRTFdfFx1RDgyMVtcdURDMDAtXHVERkVDXXxcdUQ4MjJbXHVEQzAwLVx1REVGMl18XHVEODJDW1x1REMwMC1cdUREMUVcdURENzAtXHVERUZCXXxcdUQ4MkZbXHVEQzAwLVx1REM2QVx1REM3MC1cdURDN0NcdURDODAtXHVEQzg4XHVEQzkwLVx1REM5OV18XHVEODM1W1x1REMwMC1cdURDNTRcdURDNTYtXHVEQzlDXHVEQzlFXHVEQzlGXHVEQ0EyXHVEQ0E1XHVEQ0E2XHVEQ0E5LVx1RENBQ1x1RENBRS1cdURDQjlcdURDQkJcdURDQkQtXHVEQ0MzXHVEQ0M1LVx1REQwNVx1REQwNy1cdUREMEFcdUREMEQtXHVERDE0XHVERDE2LVx1REQxQ1x1REQxRS1cdUREMzlcdUREM0ItXHVERDNFXHVERDQwLVx1REQ0NFx1REQ0Nlx1REQ0QS1cdURENTBcdURENTItXHVERUE1XHVERUE4LVx1REVDMFx1REVDMi1cdURFREFcdURFREMtXHVERUZBXHVERUZDLVx1REYxNFx1REYxNi1cdURGMzRcdURGMzYtXHVERjRFXHVERjUwLVx1REY2RVx1REY3MC1cdURGODhcdURGOEEtXHVERkE4XHVERkFBLVx1REZDMlx1REZDNC1cdURGQ0JdfFx1RDgzQVtcdURDMDAtXHVEQ0M0XHVERDAwLVx1REQ0M118XHVEODNCW1x1REUwMC1cdURFMDNcdURFMDUtXHVERTFGXHVERTIxXHVERTIyXHVERTI0XHVERTI3XHVERTI5LVx1REUzMlx1REUzNC1cdURFMzdcdURFMzlcdURFM0JcdURFNDJcdURFNDdcdURFNDlcdURFNEJcdURFNEQtXHVERTRGXHVERTUxXHVERTUyXHVERTU0XHVERTU3XHVERTU5XHVERTVCXHVERTVEXHVERTVGXHVERTYxXHVERTYyXHVERTY0XHVERTY3LVx1REU2QVx1REU2Qy1cdURFNzJcdURFNzQtXHVERTc3XHVERTc5LVx1REU3Q1x1REU3RVx1REU4MC1cdURFODlcdURFOEItXHVERTlCXHVERUExLVx1REVBM1x1REVBNS1cdURFQTlcdURFQUItXHVERUJCXXxcdUQ4NjlbXHVEQzAwLVx1REVENlx1REYwMC1cdURGRkZdfFx1RDg2RFtcdURDMDAtXHVERjM0XHVERjQwLVx1REZGRl18XHVEODZFW1x1REMwMC1cdURDMURcdURDMjAtXHVERkZGXXxcdUQ4NzNbXHVEQzAwLVx1REVBMVx1REVCMC1cdURGRkZdfFx1RDg3QVtcdURDMDAtXHVERkUwXXxcdUQ4N0VbXHVEQzAwLVx1REUxRF0pXFMqL2c7bGV0IG9oPSgoKT0+e2NsYXNzIHR7dHJhbnNmb3JtKGUpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7aWYoInN0cmluZyIhPXR5cGVvZiBlKXRocm93IHNoKHQsZSk7cmV0dXJuIGUucmVwbGFjZShpaCx0PT50WzBdLnRvVXBwZXJDYXNlKCkrdC5zdWJzdHIoMSkudG9Mb3dlckNhc2UoKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXBpcGU9S3Qoe25hbWU6InRpdGxlY2FzZSIsdHlwZTp0LHB1cmU6ITB9KSx0fSkoKSxhaD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMubG9jYWxlPXR9dHJhbnNmb3JtKGUsbj0ibWVkaXVtRGF0ZSIscixzKXtpZihudWxsPT1lfHwiIj09PWV8fGUhPWUpcmV0dXJuIG51bGw7dHJ5e3JldHVybiB4YyhlLG4sc3x8dGhpcy5sb2NhbGUscil9Y2F0Y2goaSl7dGhyb3cgc2godCxpLm1lc3NhZ2UpfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaG8oWGwsMTYpKX0sdC5cdTAyNzVwaXBlPUt0KHtuYW1lOiJkYXRlIix0eXBlOnQscHVyZTohMH0pLHR9KSgpLGxoPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5fbG9jYWxlPXR9dHJhbnNmb3JtKGUsbixyKXtpZighY2goZSkpcmV0dXJuIG51bGw7cj1yfHx0aGlzLl9sb2NhbGU7dHJ5e3JldHVybiBmdW5jdGlvbih0LGUsbil7cmV0dXJuIHpjKHQscWMoeWMoZSxhYy5EZWNpbWFsKSxtYyhlLGRjLk1pbnVzU2lnbikpLGUsZGMuR3JvdXAsZGMuRGVjaW1hbCxuKX0oaGgoZSkscixuKX1jYXRjaChzKXt0aHJvdyBzaCh0LHMubWVzc2FnZSl9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShobyhYbCwxNikpfSx0Llx1MDI3NXBpcGU9S3Qoe25hbWU6Im51bWJlciIsdHlwZTp0LHB1cmU6ITB9KSx0fSkoKSx1aD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZT0iVVNEIil7dGhpcy5fbG9jYWxlPXQsdGhpcy5fZGVmYXVsdEN1cnJlbmN5Q29kZT1lfXRyYW5zZm9ybShlLG49dGhpcy5fZGVmYXVsdEN1cnJlbmN5Q29kZSxyPSJzeW1ib2wiLHMsaSl7aWYoIWNoKGUpKXJldHVybiBudWxsO2k9aXx8dGhpcy5fbG9jYWxlLCJib29sZWFuIj09dHlwZW9mIHImJihyPXI/InN5bWJvbCI6ImNvZGUiKTtsZXQgbz1ufHx0aGlzLl9kZWZhdWx0Q3VycmVuY3lDb2RlOyJjb2RlIiE9PXImJihvPSJzeW1ib2wiPT09cnx8InN5bWJvbC1uYXJyb3ciPT09cj9mdW5jdGlvbih0LGUsbj0iZW4iKXtjb25zdCByPWZ1bmN0aW9uKHQpe3JldHVybiBKbyh0KVtlYS5DdXJyZW5jaWVzXX0obilbdF18fG9jW3RdfHxbXSxzPXJbMV07cmV0dXJuIm5hcnJvdyI9PT1lJiYic3RyaW5nIj09dHlwZW9mIHM/czpyWzBdfHx0fShvLCJzeW1ib2wiPT09cj8id2lkZSI6Im5hcnJvdyIsaSk6cik7dHJ5e3JldHVybiBmdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9cWMoeWMoZSxhYy5DdXJyZW5jeSksbWMoZSxkYy5NaW51c1NpZ24pKTtyZXR1cm4gaS5taW5GcmFjPWZ1bmN0aW9uKHQpe2xldCBlO2NvbnN0IG49b2NbdF07cmV0dXJuIG4mJihlPW5bMl0pLCJudW1iZXIiPT10eXBlb2YgZT9lOjJ9KHIpLGkubWF4RnJhYz1pLm1pbkZyYWMsemModCxpLGUsZGMuQ3VycmVuY3lHcm91cCxkYy5DdXJyZW5jeURlY2ltYWwscykucmVwbGFjZSgiXHhhNCIsbikucmVwbGFjZSgiXHhhNCIsIiIpLnRyaW0oKX0oaGgoZSksaSxvLG4scyl9Y2F0Y2goYSl7dGhyb3cgc2godCxhLm1lc3NhZ2UpfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaG8oWGwsMTYpLGhvKEpsLDE2KSl9LHQuXHUwMjc1cGlwZT1LdCh7bmFtZToiY3VycmVuY3kiLHR5cGU6dCxwdXJlOiEwfSksdH0pKCk7ZnVuY3Rpb24gY2godCl7cmV0dXJuIShudWxsPT10fHwiIj09PXR8fHQhPXQpfWZ1bmN0aW9uIGhoKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdCYmIWlzTmFOKE51bWJlcih0KS1wYXJzZUZsb2F0KHQpKSlyZXR1cm4gTnVtYmVyKHQpO2lmKCJudW1iZXIiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoYCR7dH0gaXMgbm90IGEgbnVtYmVyYCk7cmV0dXJuIHR9bGV0IGRoPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbe3Byb3ZpZGU6R2MsdXNlQ2xhc3M6WmN9XX0pLHR9KSgpLHBoPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQscHJvdmlkZWRJbjoicm9vdCIsZmFjdG9yeTooKT0+bmV3IGZoKGFyKEh1KSx3aW5kb3cpfSksdH0pKCk7Y2xhc3MgZmh7Y29uc3RydWN0b3IodCxlKXt0aGlzLmRvY3VtZW50PXQsdGhpcy53aW5kb3c9ZSx0aGlzLm9mZnNldD0oKT0+WzAsMF19c2V0T2Zmc2V0KHQpe3RoaXMub2Zmc2V0PUFycmF5LmlzQXJyYXkodCk/KCk9PnQ6dH1nZXRTY3JvbGxQb3NpdGlvbigpe3JldHVybiB0aGlzLnN1cHBvcnRzU2Nyb2xsaW5nKCk/W3RoaXMud2luZG93LnBhZ2VYT2Zmc2V0LHRoaXMud2luZG93LnBhZ2VZT2Zmc2V0XTpbMCwwXX1zY3JvbGxUb1Bvc2l0aW9uKHQpe3RoaXMuc3VwcG9ydHNTY3JvbGxpbmcoKSYmdGhpcy53aW5kb3cuc2Nyb2xsVG8odFswXSx0WzFdKX1zY3JvbGxUb0FuY2hvcih0KXtpZighdGhpcy5zdXBwb3J0c1Njcm9sbGluZygpKXJldHVybjtjb25zdCBlPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmdldEVsZW1lbnRCeUlkKGUpfHx0LmdldEVsZW1lbnRzQnlOYW1lKGUpWzBdO2lmKG4pcmV0dXJuIG47aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQuY3JlYXRlVHJlZVdhbGtlciYmdC5ib2R5JiYodC5ib2R5LmNyZWF0ZVNoYWRvd1Jvb3R8fHQuYm9keS5hdHRhY2hTaGFkb3cpKXtjb25zdCBuPXQuY3JlYXRlVHJlZVdhbGtlcih0LmJvZHksTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQpO2xldCByPW4uY3VycmVudE5vZGU7Zm9yKDtyOyl7Y29uc3QgdD1yLnNoYWRvd1Jvb3Q7aWYodCl7Y29uc3Qgbj10LmdldEVsZW1lbnRCeUlkKGUpfHx0LnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPSIke2V9Il1gKTtpZihuKXJldHVybiBufXI9bi5uZXh0Tm9kZSgpfX1yZXR1cm4gbnVsbH0odGhpcy5kb2N1bWVudCx0KTtlJiYodGhpcy5zY3JvbGxUb0VsZW1lbnQoZSksdGhpcy5hdHRlbXB0Rm9jdXMoZSkpfXNldEhpc3RvcnlTY3JvbGxSZXN0b3JhdGlvbih0KXtpZih0aGlzLnN1cHBvcnRTY3JvbGxSZXN0b3JhdGlvbigpKXtjb25zdCBlPXRoaXMud2luZG93Lmhpc3Rvcnk7ZSYmZS5zY3JvbGxSZXN0b3JhdGlvbiYmKGUuc2Nyb2xsUmVzdG9yYXRpb249dCl9fXNjcm9sbFRvRWxlbWVudCh0KXtjb25zdCBlPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1lLmxlZnQrdGhpcy53aW5kb3cucGFnZVhPZmZzZXQscj1lLnRvcCt0aGlzLndpbmRvdy5wYWdlWU9mZnNldCxzPXRoaXMub2Zmc2V0KCk7dGhpcy53aW5kb3cuc2Nyb2xsVG8obi1zWzBdLHItc1sxXSl9YXR0ZW1wdEZvY3VzKHQpe3JldHVybiB0LmZvY3VzKCksdGhpcy5kb2N1bWVudC5hY3RpdmVFbGVtZW50PT09dH1zdXBwb3J0U2Nyb2xsUmVzdG9yYXRpb24oKXt0cnl7aWYoIXRoaXMuc3VwcG9ydHNTY3JvbGxpbmcoKSlyZXR1cm4hMTtjb25zdCB0PWdoKHRoaXMud2luZG93Lmhpc3RvcnkpfHxnaChPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcy53aW5kb3cuaGlzdG9yeSkpO3JldHVybiEoIXR8fCF0LndyaXRhYmxlJiYhdC5zZXQpfWNhdGNoKHQpe3JldHVybiExfX1zdXBwb3J0c1Njcm9sbGluZygpe3RyeXtyZXR1cm4hIXRoaXMud2luZG93JiYhIXRoaXMud2luZG93LnNjcm9sbFRvJiYicGFnZVhPZmZzZXQiaW4gdGhpcy53aW5kb3d9Y2F0Y2godCl7cmV0dXJuITF9fX1mdW5jdGlvbiBnaCh0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCJzY3JvbGxSZXN0b3JhdGlvbiIpfWNsYXNzIG1oe31jbGFzcyB5aCBleHRlbmRzIGNsYXNzIGV4dGVuZHMgY2xhc3N7fXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5zdXBwb3J0c0RPTUV2ZW50cz0hMH19e3N0YXRpYyBtYWtlQ3VycmVudCgpe3ZhciB0O3Q9bmV3IHloLEJ1fHwoQnU9dCl9b25BbmRDYW5jZWwodCxlLG4pe3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoZSxuLCExKSwoKT0+e3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4sITEpfX1kaXNwYXRjaEV2ZW50KHQsZSl7dC5kaXNwYXRjaEV2ZW50KGUpfXJlbW92ZSh0KXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX1jcmVhdGVFbGVtZW50KHQsZSl7cmV0dXJuKGU9ZXx8dGhpcy5nZXREZWZhdWx0RG9jdW1lbnQoKSkuY3JlYXRlRWxlbWVudCh0KX1jcmVhdGVIdG1sRG9jdW1lbnQoKXtyZXR1cm4gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCJmYWtlVGl0bGUiKX1nZXREZWZhdWx0RG9jdW1lbnQoKXtyZXR1cm4gZG9jdW1lbnR9aXNFbGVtZW50Tm9kZSh0KXtyZXR1cm4gdC5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFfWlzU2hhZG93Um9vdCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnR9Z2V0R2xvYmFsRXZlbnRUYXJnZXQodCxlKXtyZXR1cm4id2luZG93Ij09PWU/d2luZG93OiJkb2N1bWVudCI9PT1lP3Q6ImJvZHkiPT09ZT90LmJvZHk6bnVsbH1nZXRCYXNlSHJlZih0KXtjb25zdCBlPShiaD1iaHx8ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYmFzZSIpLGJoP2JoLmdldEF0dHJpYnV0ZSgiaHJlZiIpOm51bGwpO3JldHVybiBudWxsPT1lP251bGw6ZnVuY3Rpb24odCl7dmg9dmh8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSx2aC5zZXRBdHRyaWJ1dGUoImhyZWYiLHQpO2NvbnN0IGU9dmgucGF0aG5hbWU7cmV0dXJuIi8iPT09ZS5jaGFyQXQoMCk/ZTpgLyR7ZX1gfShlKX1yZXNldEJhc2VFbGVtZW50KCl7Ymg9bnVsbH1nZXRVc2VyQWdlbnQoKXtyZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnR9Z2V0Q29va2llKHQpe3JldHVybiBLYyhkb2N1bWVudC5jb29raWUsdCl9fWxldCB2aCxiaD1udWxsO2NvbnN0IF9oPW5ldyAkbigiVFJBTlNJVElPTl9JRCIpLHdoPVt7cHJvdmlkZTokbCx1c2VGYWN0b3J5OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4oKT0+e24uZ2V0KHpsKS5kb25lUHJvbWlzZS50aGVuKCgpPT57Y29uc3Qgbj1VdSgpO0FycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShlLnF1ZXJ5U2VsZWN0b3JBbGwoInN0eWxlW25nLXRyYW5zaXRpb25dIikpLmZpbHRlcihlPT5lLmdldEF0dHJpYnV0ZSgibmctdHJhbnNpdGlvbiIpPT09dCkuZm9yRWFjaCh0PT5uLnJlbW92ZSh0KSl9KX19LGRlcHM6W19oLEh1LEdpXSxtdWx0aTohMH1dO2NsYXNzIENoe3N0YXRpYyBpbml0KCl7IWZ1bmN0aW9uKHQpe3d1PXR9KG5ldyBDaCl9YWRkVG9XaW5kb3codCl7RnQuZ2V0QW5ndWxhclRlc3RhYmlsaXR5PShlLG49ITApPT57Y29uc3Qgcj10LmZpbmRUZXN0YWJpbGl0eUluVHJlZShlLG4pO2lmKG51bGw9PXIpdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCB0ZXN0YWJpbGl0eSBmb3IgZWxlbWVudC4iKTtyZXR1cm4gcn0sRnQuZ2V0QWxsQW5ndWxhclRlc3RhYmlsaXRpZXM9KCk9PnQuZ2V0QWxsVGVzdGFiaWxpdGllcygpLEZ0LmdldEFsbEFuZ3VsYXJSb290RWxlbWVudHM9KCk9PnQuZ2V0QWxsUm9vdEVsZW1lbnRzKCksRnQuZnJhbWV3b3JrU3RhYmlsaXplcnN8fChGdC5mcmFtZXdvcmtTdGFiaWxpemVycz1bXSksRnQuZnJhbWV3b3JrU3RhYmlsaXplcnMucHVzaCh0PT57Y29uc3QgZT1GdC5nZXRBbGxBbmd1bGFyVGVzdGFiaWxpdGllcygpO2xldCBuPWUubGVuZ3RoLHI9ITE7Y29uc3Qgcz1mdW5jdGlvbihlKXtyPXJ8fGUsbi0tLDA9PW4mJnQocil9O2UuZm9yRWFjaChmdW5jdGlvbih0KXt0LndoZW5TdGFibGUocyl9KX0pfWZpbmRUZXN0YWJpbGl0eUluVHJlZSh0LGUsbil7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtjb25zdCByPXQuZ2V0VGVzdGFiaWxpdHkoZSk7cmV0dXJuIG51bGwhPXI/cjpuP1V1KCkuaXNTaGFkb3dSb290KGUpP3RoaXMuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHQsZS5ob3N0LCEwKTp0aGlzLmZpbmRUZXN0YWJpbGl0eUluVHJlZSh0LGUucGFyZW50RWxlbWVudCwhMCk6bnVsbH19bGV0IEVoPSgoKT0+e2NsYXNzIHR7YnVpbGQoKXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCBEaD1uZXcgJG4oIkV2ZW50TWFuYWdlclBsdWdpbnMiKTtsZXQgQWg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX3pvbmU9ZSx0aGlzLl9ldmVudE5hbWVUb1BsdWdpbj1uZXcgTWFwLHQuZm9yRWFjaCh0PT50Lm1hbmFnZXI9dGhpcyksdGhpcy5fcGx1Z2lucz10LnNsaWNlKCkucmV2ZXJzZSgpfWFkZEV2ZW50TGlzdGVuZXIodCxlLG4pe3JldHVybiB0aGlzLl9maW5kUGx1Z2luRm9yKGUpLmFkZEV2ZW50TGlzdGVuZXIodCxlLG4pfWFkZEdsb2JhbEV2ZW50TGlzdGVuZXIodCxlLG4pe3JldHVybiB0aGlzLl9maW5kUGx1Z2luRm9yKGUpLmFkZEdsb2JhbEV2ZW50TGlzdGVuZXIodCxlLG4pfWdldFpvbmUoKXtyZXR1cm4gdGhpcy5fem9uZX1fZmluZFBsdWdpbkZvcih0KXtjb25zdCBlPXRoaXMuX2V2ZW50TmFtZVRvUGx1Z2luLmdldCh0KTtpZihlKXJldHVybiBlO2NvbnN0IG49dGhpcy5fcGx1Z2lucztmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrKyl7Y29uc3QgZT1uW3JdO2lmKGUuc3VwcG9ydHModCkpcmV0dXJuIHRoaXMuX2V2ZW50TmFtZVRvUGx1Z2luLnNldCh0LGUpLGV9dGhyb3cgbmV3IEVycm9yKGBObyBldmVudCBtYW5hZ2VyIHBsdWdpbiBmb3VuZCBmb3IgZXZlbnQgJHt0fWApfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihEaCksYXIoY3UpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjbGFzcyBTaHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9kb2M9dH1hZGRHbG9iYWxFdmVudExpc3RlbmVyKHQsZSxuKXtjb25zdCByPVV1KCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQodGhpcy5fZG9jLHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZXZlbnQgdGFyZ2V0ICR7cn0gZm9yIGV2ZW50ICR7ZX1gKTtyZXR1cm4gdGhpcy5hZGRFdmVudExpc3RlbmVyKHIsZSxuKX19bGV0IHhoPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLl9zdHlsZXNTZXQ9bmV3IFNldH1hZGRTdHlsZXModCl7Y29uc3QgZT1uZXcgU2V0O3QuZm9yRWFjaCh0PT57dGhpcy5fc3R5bGVzU2V0Lmhhcyh0KXx8KHRoaXMuX3N0eWxlc1NldC5hZGQodCksZS5hZGQodCkpfSksdGhpcy5vblN0eWxlc0FkZGVkKGUpfW9uU3R5bGVzQWRkZWQodCl7fWdldEFsbFN0eWxlcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX3N0eWxlc1NldCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLGtoPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyB4aHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuX2RvYz10LHRoaXMuX2hvc3ROb2Rlcz1uZXcgTWFwLHRoaXMuX2hvc3ROb2Rlcy5zZXQodC5oZWFkLFtdKX1fYWRkU3R5bGVzVG9Ib3N0KHQsZSxuKXt0LmZvckVhY2godD0+e2NvbnN0IHI9dGhpcy5fZG9jLmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7ci50ZXh0Q29udGVudD10LG4ucHVzaChlLmFwcGVuZENoaWxkKHIpKX0pfWFkZEhvc3QodCl7Y29uc3QgZT1bXTt0aGlzLl9hZGRTdHlsZXNUb0hvc3QodGhpcy5fc3R5bGVzU2V0LHQsZSksdGhpcy5faG9zdE5vZGVzLnNldCh0LGUpfXJlbW92ZUhvc3QodCl7Y29uc3QgZT10aGlzLl9ob3N0Tm9kZXMuZ2V0KHQpO2UmJmUuZm9yRWFjaChUaCksdGhpcy5faG9zdE5vZGVzLmRlbGV0ZSh0KX1vblN0eWxlc0FkZGVkKHQpe3RoaXMuX2hvc3ROb2Rlcy5mb3JFYWNoKChlLG4pPT57dGhpcy5fYWRkU3R5bGVzVG9Ib3N0KHQsbixlKX0pfW5nT25EZXN0cm95KCl7dGhpcy5faG9zdE5vZGVzLmZvckVhY2godD0+dC5mb3JFYWNoKFRoKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKEh1KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7ZnVuY3Rpb24gVGgodCl7VXUoKS5yZW1vdmUodCl9Y29uc3QgT2g9e3N2ZzoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHhodG1sOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIix4bGluazoiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIseG1sOiJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UiLHhtbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zLyJ9LEZoPS8lQ09NUCUvZztmdW5jdGlvbiBQaCh0LGUsbil7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2xldCBzPWVbcl07QXJyYXkuaXNBcnJheShzKT9QaCh0LHMsbik6KHM9cy5yZXBsYWNlKEZoLHQpLG4ucHVzaChzKSl9cmV0dXJuIG59ZnVuY3Rpb24gSWgodCl7cmV0dXJuIGU9PntpZigiX19uZ1Vud3JhcF9fIj09PWUpcmV0dXJuIHQ7ITE9PT10KGUpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGUucmV0dXJuVmFsdWU9ITEpfX1sZXQgUmg9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5ldmVudE1hbmFnZXI9dCx0aGlzLnNoYXJlZFN0eWxlc0hvc3Q9ZSx0aGlzLmFwcElkPW4sdGhpcy5yZW5kZXJlckJ5Q29tcElkPW5ldyBNYXAsdGhpcy5kZWZhdWx0UmVuZGVyZXI9bmV3IE1oKHQpfWNyZWF0ZVJlbmRlcmVyKHQsZSl7aWYoIXR8fCFlKXJldHVybiB0aGlzLmRlZmF1bHRSZW5kZXJlcjtzd2l0Y2goZS5lbmNhcHN1bGF0aW9uKXtjYXNlIFN0LkVtdWxhdGVkOntsZXQgbj10aGlzLnJlbmRlcmVyQnlDb21wSWQuZ2V0KGUuaWQpO3JldHVybiBufHwobj1uZXcgVmgodGhpcy5ldmVudE1hbmFnZXIsdGhpcy5zaGFyZWRTdHlsZXNIb3N0LGUsdGhpcy5hcHBJZCksdGhpcy5yZW5kZXJlckJ5Q29tcElkLnNldChlLmlkLG4pKSxuLmFwcGx5VG9Ib3N0KHQpLG59Y2FzZSAxOmNhc2UgU3QuU2hhZG93RG9tOnJldHVybiBuZXcgamgodGhpcy5ldmVudE1hbmFnZXIsdGhpcy5zaGFyZWRTdHlsZXNIb3N0LHQsZSk7ZGVmYXVsdDppZighdGhpcy5yZW5kZXJlckJ5Q29tcElkLmhhcyhlLmlkKSl7Y29uc3QgdD1QaChlLmlkLGUuc3R5bGVzLFtdKTt0aGlzLnNoYXJlZFN0eWxlc0hvc3QuYWRkU3R5bGVzKHQpLHRoaXMucmVuZGVyZXJCeUNvbXBJZC5zZXQoZS5pZCx0aGlzLmRlZmF1bHRSZW5kZXJlcil9cmV0dXJuIHRoaXMuZGVmYXVsdFJlbmRlcmVyfX1iZWdpbigpe31lbmQoKXt9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKEFoKSxhcihraCksYXIocWwpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjbGFzcyBNaHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmV2ZW50TWFuYWdlcj10LHRoaXMuZGF0YT1PYmplY3QuY3JlYXRlKG51bGwpfWRlc3Ryb3koKXt9Y3JlYXRlRWxlbWVudCh0LGUpe3JldHVybiBlP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhPaFtlXXx8ZSx0KTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpfWNyZWF0ZUNvbW1lbnQodCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodCl9Y3JlYXRlVGV4dCh0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCl9YXBwZW5kQ2hpbGQodCxlKXt0LmFwcGVuZENoaWxkKGUpfWluc2VydEJlZm9yZSh0LGUsbil7dCYmdC5pbnNlcnRCZWZvcmUoZSxuKX1yZW1vdmVDaGlsZCh0LGUpe3QmJnQucmVtb3ZlQ2hpbGQoZSl9c2VsZWN0Um9vdEVsZW1lbnQodCxlKXtsZXQgbj0ic3RyaW5nIj09dHlwZW9mIHQ/ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KTp0O2lmKCFuKXRocm93IG5ldyBFcnJvcihgVGhlIHNlbGVjdG9yICIke3R9IiBkaWQgbm90IG1hdGNoIGFueSBlbGVtZW50c2ApO3JldHVybiBlfHwobi50ZXh0Q29udGVudD0iIiksbn1wYXJlbnROb2RlKHQpe3JldHVybiB0LnBhcmVudE5vZGV9bmV4dFNpYmxpbmcodCl7cmV0dXJuIHQubmV4dFNpYmxpbmd9c2V0QXR0cmlidXRlKHQsZSxuLHIpe2lmKHIpe2U9cisiOiIrZTtjb25zdCBzPU9oW3JdO3M/dC5zZXRBdHRyaWJ1dGVOUyhzLGUsbik6dC5zZXRBdHRyaWJ1dGUoZSxuKX1lbHNlIHQuc2V0QXR0cmlidXRlKGUsbil9cmVtb3ZlQXR0cmlidXRlKHQsZSxuKXtpZihuKXtjb25zdCByPU9oW25dO3I/dC5yZW1vdmVBdHRyaWJ1dGVOUyhyLGUpOnQucmVtb3ZlQXR0cmlidXRlKGAke259OiR7ZX1gKX1lbHNlIHQucmVtb3ZlQXR0cmlidXRlKGUpfWFkZENsYXNzKHQsZSl7dC5jbGFzc0xpc3QuYWRkKGUpfXJlbW92ZUNsYXNzKHQsZSl7dC5jbGFzc0xpc3QucmVtb3ZlKGUpfXNldFN0eWxlKHQsZSxuLHIpe3ImKFFyLkRhc2hDYXNlfFFyLkltcG9ydGFudCk/dC5zdHlsZS5zZXRQcm9wZXJ0eShlLG4sciZRci5JbXBvcnRhbnQ/ImltcG9ydGFudCI6IiIpOnQuc3R5bGVbZV09bn1yZW1vdmVTdHlsZSh0LGUsbil7biZRci5EYXNoQ2FzZT90LnN0eWxlLnJlbW92ZVByb3BlcnR5KGUpOnQuc3R5bGVbZV09IiJ9c2V0UHJvcGVydHkodCxlLG4pe3RbZV09bn1zZXRWYWx1ZSh0LGUpe3Qubm9kZVZhbHVlPWV9bGlzdGVuKHQsZSxuKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/dGhpcy5ldmVudE1hbmFnZXIuYWRkR2xvYmFsRXZlbnRMaXN0ZW5lcih0LGUsSWgobikpOnRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodCxlLEloKG4pKX19Y2xhc3MgVmggZXh0ZW5kcyBNaHtjb25zdHJ1Y3Rvcih0LGUsbixyKXtzdXBlcih0KSx0aGlzLmNvbXBvbmVudD1uO2NvbnN0IHM9UGgocisiLSIrbi5pZCxuLnN0eWxlcyxbXSk7ZS5hZGRTdHlsZXMocyksdGhpcy5jb250ZW50QXR0cj0iX25nY29udGVudC0lQ09NUCUiLnJlcGxhY2UoRmgscisiLSIrbi5pZCksdGhpcy5ob3N0QXR0cj0iX25naG9zdC0lQ09NUCUiLnJlcGxhY2UoRmgscisiLSIrbi5pZCl9YXBwbHlUb0hvc3QodCl7c3VwZXIuc2V0QXR0cmlidXRlKHQsdGhpcy5ob3N0QXR0ciwiIil9Y3JlYXRlRWxlbWVudCh0LGUpe2NvbnN0IG49c3VwZXIuY3JlYXRlRWxlbWVudCh0LGUpO3JldHVybiBzdXBlci5zZXRBdHRyaWJ1dGUobix0aGlzLmNvbnRlbnRBdHRyLCIiKSxufX1jbGFzcyBqaCBleHRlbmRzIE1oe2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKHQpLHRoaXMuc2hhcmVkU3R5bGVzSG9zdD1lLHRoaXMuaG9zdEVsPW4sdGhpcy5zaGFkb3dSb290PW4uYXR0YWNoU2hhZG93KHttb2RlOiJvcGVuIn0pLHRoaXMuc2hhcmVkU3R5bGVzSG9zdC5hZGRIb3N0KHRoaXMuc2hhZG93Um9vdCk7Y29uc3Qgcz1QaChyLmlkLHIuc3R5bGVzLFtdKTtmb3IobGV0IGk9MDtpPHMubGVuZ3RoO2krKyl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3QudGV4dENvbnRlbnQ9c1tpXSx0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodCl9fW5vZGVPclNoYWRvd1Jvb3QodCl7cmV0dXJuIHQ9PT10aGlzLmhvc3RFbD90aGlzLnNoYWRvd1Jvb3Q6dH1kZXN0cm95KCl7dGhpcy5zaGFyZWRTdHlsZXNIb3N0LnJlbW92ZUhvc3QodGhpcy5zaGFkb3dSb290KX1hcHBlbmRDaGlsZCh0LGUpe3JldHVybiBzdXBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVPclNoYWRvd1Jvb3QodCksZSl9aW5zZXJ0QmVmb3JlKHQsZSxuKXtyZXR1cm4gc3VwZXIuaW5zZXJ0QmVmb3JlKHRoaXMubm9kZU9yU2hhZG93Um9vdCh0KSxlLG4pfXJlbW92ZUNoaWxkKHQsZSl7cmV0dXJuIHN1cGVyLnJlbW92ZUNoaWxkKHRoaXMubm9kZU9yU2hhZG93Um9vdCh0KSxlKX1wYXJlbnROb2RlKHQpe3JldHVybiB0aGlzLm5vZGVPclNoYWRvd1Jvb3Qoc3VwZXIucGFyZW50Tm9kZSh0aGlzLm5vZGVPclNoYWRvd1Jvb3QodCkpKX19bGV0IE5oPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBTaHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1zdXBwb3J0cyh0KXtyZXR1cm4hMH1hZGRFdmVudExpc3RlbmVyKHQsZSxuKXtyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKGUsbiwhMSksKCk9PnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUsbil9cmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUsbil7cmV0dXJuIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihIdSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IExoPVsiYWx0IiwiY29udHJvbCIsIm1ldGEiLCJzaGlmdCJdLEJoPXsiXGIiOiJCYWNrc3BhY2UiLCJcdCI6IlRhYiIsIlx4N2YiOiJEZWxldGUiLCJceDFiIjoiRXNjYXBlIixEZWw6IkRlbGV0ZSIsRXNjOiJFc2NhcGUiLExlZnQ6IkFycm93TGVmdCIsUmlnaHQ6IkFycm93UmlnaHQiLFVwOiJBcnJvd1VwIixEb3duOiJBcnJvd0Rvd24iLE1lbnU6IkNvbnRleHRNZW51IixTY3JvbGw6IlNjcm9sbExvY2siLFdpbjoiT1MifSxVaD17QToiMSIsQjoiMiIsQzoiMyIsRDoiNCIsRToiNSIsRjoiNiIsRzoiNyIsSDoiOCIsSToiOSIsSjoiKiIsSzoiKyIsTToiLSIsTjoiLiIsTzoiLyIsImAiOiIwIiwiXHg5MCI6Ik51bUxvY2sifSxIaD17YWx0OnQ9PnQuYWx0S2V5LGNvbnRyb2w6dD0+dC5jdHJsS2V5LG1ldGE6dD0+dC5tZXRhS2V5LHNoaWZ0OnQ9PnQuc2hpZnRLZXl9O2xldCAkaD0oKCk9PntjbGFzcyB0IGV4dGVuZHMgU2h7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9c3VwcG9ydHMoZSl7cmV0dXJuIG51bGwhPXQucGFyc2VFdmVudE5hbWUoZSl9YWRkRXZlbnRMaXN0ZW5lcihlLG4scil7Y29uc3Qgcz10LnBhcnNlRXZlbnROYW1lKG4pLGk9dC5ldmVudENhbGxiYWNrKHMuZnVsbEtleSxyLHRoaXMubWFuYWdlci5nZXRab25lKCkpO3JldHVybiB0aGlzLm1hbmFnZXIuZ2V0Wm9uZSgpLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT5VdSgpLm9uQW5kQ2FuY2VsKGUscy5kb21FdmVudE5hbWUsaSkpfXN0YXRpYyBwYXJzZUV2ZW50TmFtZShlKXtjb25zdCBuPWUudG9Mb3dlckNhc2UoKS5zcGxpdCgiLiIpLHI9bi5zaGlmdCgpO2lmKDA9PT1uLmxlbmd0aHx8ImtleWRvd24iIT09ciYmImtleXVwIiE9PXIpcmV0dXJuIG51bGw7Y29uc3Qgcz10Ll9ub3JtYWxpemVLZXkobi5wb3AoKSk7bGV0IGk9IiI7aWYoTGguZm9yRWFjaCh0PT57Y29uc3QgZT1uLmluZGV4T2YodCk7ZT4tMSYmKG4uc3BsaWNlKGUsMSksaSs9dCsiLiIpfSksaSs9cywwIT1uLmxlbmd0aHx8MD09PXMubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IG89e307cmV0dXJuIG8uZG9tRXZlbnROYW1lPXIsby5mdWxsS2V5PWksb31zdGF0aWMgZ2V0RXZlbnRGdWxsS2V5KHQpe2xldCBlPSIiLG49ZnVuY3Rpb24odCl7bGV0IGU9dC5rZXk7aWYobnVsbD09ZSl7aWYoZT10LmtleUlkZW50aWZpZXIsbnVsbD09ZSlyZXR1cm4iVW5pZGVudGlmaWVkIjtlLnN0YXJ0c1dpdGgoIlUrIikmJihlPVN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZS5zdWJzdHJpbmcoMiksMTYpKSwzPT09dC5sb2NhdGlvbiYmVWguaGFzT3duUHJvcGVydHkoZSkmJihlPVVoW2VdKSl9cmV0dXJuIEJoW2VdfHxlfSh0KTtyZXR1cm4gbj1uLnRvTG93ZXJDYXNlKCksIiAiPT09bj9uPSJzcGFjZSI6Ii4iPT09biYmKG49ImRvdCIpLExoLmZvckVhY2gocj0+e3IhPW4mJigwLEhoW3JdKSh0KSYmKGUrPXIrIi4iKX0pLGUrPW4sZX1zdGF0aWMgZXZlbnRDYWxsYmFjayhlLG4scil7cmV0dXJuIHM9Pnt0LmdldEV2ZW50RnVsbEtleShzKT09PWUmJnIucnVuR3VhcmRlZCgoKT0+bihzKSl9fXN0YXRpYyBfbm9ybWFsaXplS2V5KHQpe3N3aXRjaCh0KXtjYXNlImVzYyI6cmV0dXJuImVzY2FwZSI7ZGVmYXVsdDpyZXR1cm4gdH19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKEh1KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCk7Y29uc3Qgemg9U3UoanUsImJyb3dzZXIiLFt7cHJvdmlkZTpLbCx1c2VWYWx1ZToiYnJvd3NlciJ9LHtwcm92aWRlOlpsLHVzZVZhbHVlOmZ1bmN0aW9uKCl7eWgubWFrZUN1cnJlbnQoKSxDaC5pbml0KCl9LG11bHRpOiEwfSx7cHJvdmlkZTpIdSx1c2VGYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3BlPXR9KGRvY3VtZW50KSxkb2N1bWVudH0sZGVwczpbXX1dKSxxaD1bW10se3Byb3ZpZGU6UmksdXNlVmFsdWU6InJvb3QifSx7cHJvdmlkZTpacix1c2VGYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBacn0sZGVwczpbXX0se3Byb3ZpZGU6RGgsdXNlQ2xhc3M6TmgsbXVsdGk6ITAsZGVwczpbSHUsY3UsS2xdfSx7cHJvdmlkZTpEaCx1c2VDbGFzczokaCxtdWx0aTohMCxkZXBzOltIdV19LFtdLHtwcm92aWRlOlJoLHVzZUNsYXNzOlJoLGRlcHM6W0FoLGtoLHFsXX0se3Byb3ZpZGU6d2EsdXNlRXhpc3Rpbmc6Umh9LHtwcm92aWRlOnhoLHVzZUV4aXN0aW5nOmtofSx7cHJvdmlkZTpraCx1c2VDbGFzczpraCxkZXBzOltIdV19LHtwcm92aWRlOnl1LHVzZUNsYXNzOnl1LGRlcHM6W2N1XX0se3Byb3ZpZGU6QWgsdXNlQ2xhc3M6QWgsZGVwczpbRGgsY3VdfSx7cHJvdmlkZTptaCx1c2VDbGFzczpFaCxkZXBzOltdfSxbXV07bGV0IFdoPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7aWYodCl0aHJvdyBuZXcgRXJyb3IoIkJyb3dzZXJNb2R1bGUgaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQuIElmIHlvdSBuZWVkIGFjY2VzcyB0byBjb21tb24gZGlyZWN0aXZlcyBzdWNoIGFzIE5nSWYgYW5kIE5nRm9yIGZyb20gYSBsYXp5IGxvYWRlZCBtb2R1bGUsIGltcG9ydCBDb21tb25Nb2R1bGUgaW5zdGVhZC4iKX1zdGF0aWMgd2l0aFNlcnZlclRyYW5zaXRpb24oZSl7cmV0dXJue25nTW9kdWxlOnQscHJvdmlkZXJzOlt7cHJvdmlkZTpxbCx1c2VWYWx1ZTplLmFwcElkfSx7cHJvdmlkZTpfaCx1c2VFeGlzdGluZzpxbH0sd2hdfX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIodCwxMikpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpxaCxpbXBvcnRzOltkaCxMdV19KSx0fSkoKTsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93O2NsYXNzIEdoIGV4dGVuZHMgaHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCl9c2NoZWR1bGUodCxlPTApe3JldHVybiB0aGlzfX1jbGFzcyBaaCBleHRlbmRzIEdoe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxlKSx0aGlzLnNjaGVkdWxlcj10LHRoaXMud29yaz1lLHRoaXMucGVuZGluZz0hMX1zY2hlZHVsZSh0LGU9MCl7aWYodGhpcy5jbG9zZWQpcmV0dXJuIHRoaXM7dGhpcy5zdGF0ZT10O2NvbnN0IG49dGhpcy5pZCxyPXRoaXMuc2NoZWR1bGVyO3JldHVybiBudWxsIT1uJiYodGhpcy5pZD10aGlzLnJlY3ljbGVBc3luY0lkKHIsbixlKSksdGhpcy5wZW5kaW5nPSEwLHRoaXMuZGVsYXk9ZSx0aGlzLmlkPXRoaXMuaWR8fHRoaXMucmVxdWVzdEFzeW5jSWQocix0aGlzLmlkLGUpLHRoaXN9cmVxdWVzdEFzeW5jSWQodCxlLG49MCl7cmV0dXJuIHNldEludGVydmFsKHQuZmx1c2guYmluZCh0LHRoaXMpLG4pfXJlY3ljbGVBc3luY0lkKHQsZSxuPTApe2lmKG51bGwhPT1uJiZ0aGlzLmRlbGF5PT09biYmITE9PT10aGlzLnBlbmRpbmcpcmV0dXJuIGU7Y2xlYXJJbnRlcnZhbChlKX1leGVjdXRlKHQsZSl7aWYodGhpcy5jbG9zZWQpcmV0dXJuIG5ldyBFcnJvcigiZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbiIpO3RoaXMucGVuZGluZz0hMTtjb25zdCBuPXRoaXMuX2V4ZWN1dGUodCxlKTtpZihuKXJldHVybiBuOyExPT09dGhpcy5wZW5kaW5nJiZudWxsIT10aGlzLmlkJiYodGhpcy5pZD10aGlzLnJlY3ljbGVBc3luY0lkKHRoaXMuc2NoZWR1bGVyLHRoaXMuaWQsbnVsbCkpfV9leGVjdXRlKHQsZSl7bGV0IG4scj0hMTt0cnl7dGhpcy53b3JrKHQpfWNhdGNoKHMpe3I9ITAsbj0hIXMmJnN8fG5ldyBFcnJvcihzKX1pZihyKXJldHVybiB0aGlzLnVuc3Vic2NyaWJlKCksbn1fdW5zdWJzY3JpYmUoKXtjb25zdCB0PXRoaXMuaWQsZT10aGlzLnNjaGVkdWxlcixuPWUuYWN0aW9ucyxyPW4uaW5kZXhPZih0aGlzKTt0aGlzLndvcms9bnVsbCx0aGlzLnN0YXRlPW51bGwsdGhpcy5wZW5kaW5nPSExLHRoaXMuc2NoZWR1bGVyPW51bGwsLTEhPT1yJiZuLnNwbGljZShyLDEpLG51bGwhPXQmJih0aGlzLmlkPXRoaXMucmVjeWNsZUFzeW5jSWQoZSx0LG51bGwpKSx0aGlzLmRlbGF5PW51bGx9fWNsYXNzIEtoIGV4dGVuZHMgWmh7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLHRoaXMuc2NoZWR1bGVyPXQsdGhpcy53b3JrPWV9c2NoZWR1bGUodCxlPTApe3JldHVybiBlPjA/c3VwZXIuc2NoZWR1bGUodCxlKToodGhpcy5kZWxheT1lLHRoaXMuc3RhdGU9dCx0aGlzLnNjaGVkdWxlci5mbHVzaCh0aGlzKSx0aGlzKX1leGVjdXRlKHQsZSl7cmV0dXJuIGU+MHx8dGhpcy5jbG9zZWQ/c3VwZXIuZXhlY3V0ZSh0LGUpOnRoaXMuX2V4ZWN1dGUodCxlKX1yZXF1ZXN0QXN5bmNJZCh0LGUsbj0wKXtyZXR1cm4gbnVsbCE9PW4mJm4+MHx8bnVsbD09PW4mJnRoaXMuZGVsYXk+MD9zdXBlci5yZXF1ZXN0QXN5bmNJZCh0LGUsbik6dC5mbHVzaCh0aGlzKX19bGV0IFloPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoZSxuPXQubm93KXt0aGlzLlNjaGVkdWxlckFjdGlvbj1lLHRoaXMubm93PW59c2NoZWR1bGUodCxlPTAsbil7cmV0dXJuIG5ldyB0aGlzLlNjaGVkdWxlckFjdGlvbih0aGlzLHQpLnNjaGVkdWxlKG4sZSl9fXJldHVybiB0Lm5vdz0oKT0+RGF0ZS5ub3coKSx0fSkoKTtjbGFzcyBRaCBleHRlbmRzIFloe2NvbnN0cnVjdG9yKHQsZT1ZaC5ub3cpe3N1cGVyKHQsKCk9PlFoLmRlbGVnYXRlJiZRaC5kZWxlZ2F0ZSE9PXRoaXM/UWguZGVsZWdhdGUubm93KCk6ZSgpKSx0aGlzLmFjdGlvbnM9W10sdGhpcy5hY3RpdmU9ITEsdGhpcy5zY2hlZHVsZWQ9dm9pZCAwfXNjaGVkdWxlKHQsZT0wLG4pe3JldHVybiBRaC5kZWxlZ2F0ZSYmUWguZGVsZWdhdGUhPT10aGlzP1FoLmRlbGVnYXRlLnNjaGVkdWxlKHQsZSxuKTpzdXBlci5zY2hlZHVsZSh0LGUsbil9Zmx1c2godCl7Y29uc3R7YWN0aW9uczplfT10aGlzO2lmKHRoaXMuYWN0aXZlKXJldHVybiB2b2lkIGUucHVzaCh0KTtsZXQgbjt0aGlzLmFjdGl2ZT0hMDtkb3tpZihuPXQuZXhlY3V0ZSh0LnN0YXRlLHQuZGVsYXkpKWJyZWFrfXdoaWxlKHQ9ZS5zaGlmdCgpKTtpZih0aGlzLmFjdGl2ZT0hMSxuKXtmb3IoO3Q9ZS5zaGlmdCgpOyl0LnVuc3Vic2NyaWJlKCk7dGhyb3cgbn19fWNsYXNzIFhoIGV4dGVuZHMgUWh7fWNvbnN0IEpoPW5ldyBYaChLaCksdGQ9bmV3IHYodD0+dC5jb21wbGV0ZSgpKTtmdW5jdGlvbiBlZCh0KXtyZXR1cm4gdD9mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHYoZT0+dC5zY2hlZHVsZSgoKT0+ZS5jb21wbGV0ZSgpKSl9KHQpOnRkfWZ1bmN0aW9uIG5kKC4uLnQpe2xldCBlPXRbdC5sZW5ndGgtMV07cmV0dXJuIEEoZSk/KHQucG9wKCksTSh0LGUpKTp6KHQpfWZ1bmN0aW9uIHJkKHQsZSl7cmV0dXJuIG5ldyB2KGU/bj0+ZS5zY2hlZHVsZShzZCwwLHtlcnJvcjp0LHN1YnNjcmliZXI6bn0pOmU9PmUuZXJyb3IodCkpfWZ1bmN0aW9uIHNkKHtlcnJvcjp0LHN1YnNjcmliZXI6ZX0pe2UuZXJyb3IodCl9bGV0IGlkPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMua2luZD10LHRoaXMudmFsdWU9ZSx0aGlzLmVycm9yPW4sdGhpcy5oYXNWYWx1ZT0iTiI9PT10fW9ic2VydmUodCl7c3dpdGNoKHRoaXMua2luZCl7Y2FzZSJOIjpyZXR1cm4gdC5uZXh0JiZ0Lm5leHQodGhpcy52YWx1ZSk7Y2FzZSJFIjpyZXR1cm4gdC5lcnJvciYmdC5lcnJvcih0aGlzLmVycm9yKTtjYXNlIkMiOnJldHVybiB0LmNvbXBsZXRlJiZ0LmNvbXBsZXRlKCl9fWRvKHQsZSxuKXtzd2l0Y2godGhpcy5raW5kKXtjYXNlIk4iOnJldHVybiB0JiZ0KHRoaXMudmFsdWUpO2Nhc2UiRSI6cmV0dXJuIGUmJmUodGhpcy5lcnJvcik7Y2FzZSJDIjpyZXR1cm4gbiYmbigpfX1hY2NlcHQodCxlLG4pe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5uZXh0P3RoaXMub2JzZXJ2ZSh0KTp0aGlzLmRvKHQsZSxuKX10b09ic2VydmFibGUoKXtzd2l0Y2godGhpcy5raW5kKXtjYXNlIk4iOnJldHVybiBuZCh0aGlzLnZhbHVlKTtjYXNlIkUiOnJldHVybiByZCh0aGlzLmVycm9yKTtjYXNlIkMiOnJldHVybiBlZCgpfXRocm93IG5ldyBFcnJvcigidW5leHBlY3RlZCBub3RpZmljYXRpb24ga2luZCB2YWx1ZSIpfXN0YXRpYyBjcmVhdGVOZXh0KGUpe3JldHVybiB2b2lkIDAhPT1lP25ldyB0KCJOIixlKTp0LnVuZGVmaW5lZFZhbHVlTm90aWZpY2F0aW9ufXN0YXRpYyBjcmVhdGVFcnJvcihlKXtyZXR1cm4gbmV3IHQoIkUiLHZvaWQgMCxlKX1zdGF0aWMgY3JlYXRlQ29tcGxldGUoKXtyZXR1cm4gdC5jb21wbGV0ZU5vdGlmaWNhdGlvbn19cmV0dXJuIHQuY29tcGxldGVOb3RpZmljYXRpb249bmV3IHQoIkMiKSx0LnVuZGVmaW5lZFZhbHVlTm90aWZpY2F0aW9uPW5ldyB0KCJOIix2b2lkIDApLHR9KSgpO2NsYXNzIG9kIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUsbj0wKXtzdXBlcih0KSx0aGlzLnNjaGVkdWxlcj1lLHRoaXMuZGVsYXk9bn1zdGF0aWMgZGlzcGF0Y2godCl7Y29uc3R7bm90aWZpY2F0aW9uOmUsZGVzdGluYXRpb246bn09dDtlLm9ic2VydmUobiksdGhpcy51bnN1YnNjcmliZSgpfXNjaGVkdWxlTWVzc2FnZSh0KXt0aGlzLmRlc3RpbmF0aW9uLmFkZCh0aGlzLnNjaGVkdWxlci5zY2hlZHVsZShvZC5kaXNwYXRjaCx0aGlzLmRlbGF5LG5ldyBhZCh0LHRoaXMuZGVzdGluYXRpb24pKSl9X25leHQodCl7dGhpcy5zY2hlZHVsZU1lc3NhZ2UoaWQuY3JlYXRlTmV4dCh0KSl9X2Vycm9yKHQpe3RoaXMuc2NoZWR1bGVNZXNzYWdlKGlkLmNyZWF0ZUVycm9yKHQpKSx0aGlzLnVuc3Vic2NyaWJlKCl9X2NvbXBsZXRlKCl7dGhpcy5zY2hlZHVsZU1lc3NhZ2UoaWQuY3JlYXRlQ29tcGxldGUoKSksdGhpcy51bnN1YnNjcmliZSgpfX1jbGFzcyBhZHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMubm90aWZpY2F0aW9uPXQsdGhpcy5kZXN0aW5hdGlvbj1lfX1jbGFzcyBsZCBleHRlbmRzIEV7Y29uc3RydWN0b3IodD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbil7c3VwZXIoKSx0aGlzLnNjaGVkdWxlcj1uLHRoaXMuX2V2ZW50cz1bXSx0aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3c9ITEsdGhpcy5fYnVmZmVyU2l6ZT10PDE/MTp0LHRoaXMuX3dpbmRvd1RpbWU9ZTwxPzE6ZSxlPT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZPyh0aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3c9ITAsdGhpcy5uZXh0PXRoaXMubmV4dEluZmluaXRlVGltZVdpbmRvdyk6dGhpcy5uZXh0PXRoaXMubmV4dFRpbWVXaW5kb3d9bmV4dEluZmluaXRlVGltZVdpbmRvdyh0KXtpZighdGhpcy5pc1N0b3BwZWQpe2NvbnN0IGU9dGhpcy5fZXZlbnRzO2UucHVzaCh0KSxlLmxlbmd0aD50aGlzLl9idWZmZXJTaXplJiZlLnNoaWZ0KCl9c3VwZXIubmV4dCh0KX1uZXh0VGltZVdpbmRvdyh0KXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuX2V2ZW50cy5wdXNoKG5ldyB1ZCh0aGlzLl9nZXROb3coKSx0KSksdGhpcy5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMoKSksc3VwZXIubmV4dCh0KX1fc3Vic2NyaWJlKHQpe2NvbnN0IGU9dGhpcy5faW5maW5pdGVUaW1lV2luZG93LG49ZT90aGlzLl9ldmVudHM6dGhpcy5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMoKSxyPXRoaXMuc2NoZWR1bGVyLHM9bi5sZW5ndGg7bGV0IGk7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IF87aWYodGhpcy5pc1N0b3BwZWR8fHRoaXMuaGFzRXJyb3I/aT1oLkVNUFRZOih0aGlzLm9ic2VydmVycy5wdXNoKHQpLGk9bmV3IHcodGhpcyx0KSksciYmdC5hZGQodD1uZXcgb2QodCxyKSksZSlmb3IobGV0IG89MDtvPHMmJiF0LmNsb3NlZDtvKyspdC5uZXh0KG5bb10pO2Vsc2UgZm9yKGxldCBvPTA7bzxzJiYhdC5jbG9zZWQ7bysrKXQubmV4dChuW29dLnZhbHVlKTtyZXR1cm4gdGhpcy5oYXNFcnJvcj90LmVycm9yKHRoaXMudGhyb3duRXJyb3IpOnRoaXMuaXNTdG9wcGVkJiZ0LmNvbXBsZXRlKCksaX1fZ2V0Tm93KCl7cmV0dXJuKHRoaXMuc2NoZWR1bGVyfHxKaCkubm93KCl9X3RyaW1CdWZmZXJUaGVuR2V0RXZlbnRzKCl7Y29uc3QgdD10aGlzLl9nZXROb3coKSxlPXRoaXMuX2J1ZmZlclNpemUsbj10aGlzLl93aW5kb3dUaW1lLHI9dGhpcy5fZXZlbnRzLHM9ci5sZW5ndGg7bGV0IGk9MDtmb3IoO2k8cyYmISh0LXJbaV0udGltZTxuKTspaSsrO3JldHVybiBzPmUmJihpPU1hdGgubWF4KGkscy1lKSksaT4wJiZyLnNwbGljZSgwLGkpLHJ9fWNsYXNzIHVke2NvbnN0cnVjdG9yKHQsZSl7dGhpcy50aW1lPXQsdGhpcy52YWx1ZT1lfX1mdW5jdGlvbiBjZCh0LGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP249Pm4ucGlwZShjZCgobixyKT0+Vih0KG4scikpLnBpcGUoUygodCxzKT0+ZShuLHQscixzKSkpKSk6ZT0+ZS5saWZ0KG5ldyBoZCh0KSl9Y2xhc3MgaGR7Y29uc3RydWN0b3IodCl7dGhpcy5wcm9qZWN0PXR9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgZGQodCx0aGlzLnByb2plY3QpKX19Y2xhc3MgZGQgZXh0ZW5kcyBOe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5wcm9qZWN0PWUsdGhpcy5pbmRleD0wfV9uZXh0KHQpe2xldCBlO2NvbnN0IG49dGhpcy5pbmRleCsrO3RyeXtlPXRoaXMucHJvamVjdCh0LG4pfWNhdGNoKHIpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iocil9dGhpcy5faW5uZXJTdWIoZSl9X2lubmVyU3ViKHQpe2NvbnN0IGU9dGhpcy5pbm5lclN1YnNjcmlwdGlvbjtlJiZlLnVuc3Vic2NyaWJlKCk7Y29uc3Qgbj1uZXcgaih0aGlzKSxyPXRoaXMuZGVzdGluYXRpb247ci5hZGQobiksdGhpcy5pbm5lclN1YnNjcmlwdGlvbj1MKHQsbiksdGhpcy5pbm5lclN1YnNjcmlwdGlvbiE9PW4mJnIuYWRkKHRoaXMuaW5uZXJTdWJzY3JpcHRpb24pfV9jb21wbGV0ZSgpe2NvbnN0e2lubmVyU3Vic2NyaXB0aW9uOnR9PXRoaXM7dCYmIXQuY2xvc2VkfHxzdXBlci5fY29tcGxldGUoKSx0aGlzLnVuc3Vic2NyaWJlKCl9X3Vuc3Vic2NyaWJlKCl7dGhpcy5pbm5lclN1YnNjcmlwdGlvbj12b2lkIDB9bm90aWZ5Q29tcGxldGUoKXt0aGlzLmlubmVyU3Vic2NyaXB0aW9uPXZvaWQgMCx0aGlzLmlzU3RvcHBlZCYmc3VwZXIuX2NvbXBsZXRlKCl9bm90aWZ5TmV4dCh0KXt0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9fWNvbnN0IHBkPXtzY2hlZHVsZSh0LGUpe2NvbnN0IG49c2V0VGltZW91dCh0LGUpO3JldHVybigpPT5jbGVhclRpbWVvdXQobil9LHNjaGVkdWxlQmVmb3JlUmVuZGVyKHQpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93KXJldHVybiBwZC5zY2hlZHVsZSh0LDApO2lmKHZvaWQgMD09PXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpcmV0dXJuIHBkLnNjaGVkdWxlKHQsMTYpO2NvbnN0IGU9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0KTtyZXR1cm4oKT0+d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGUpfX07bGV0IGZkO2Z1bmN0aW9uIGdkKHQsZSxuKXtsZXQgcj1uO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hIXQmJnQubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERX0odCkmJmUuc29tZSgoZSxuKT0+ISgiKiI9PT1lfHwhZnVuY3Rpb24odCxlKXtpZighZmQpe2NvbnN0IHQ9RWxlbWVudC5wcm90b3R5cGU7ZmQ9dC5tYXRjaGVzfHx0Lm1hdGNoZXNTZWxlY3Rvcnx8dC5tb3pNYXRjaGVzU2VsZWN0b3J8fHQubXNNYXRjaGVzU2VsZWN0b3J8fHQub01hdGNoZXNTZWxlY3Rvcnx8dC53ZWJraXRNYXRjaGVzU2VsZWN0b3J9cmV0dXJuIHQubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmZmQuY2FsbCh0LGUpfSh0LGUpfHwocj1uLDApKSkscn1jbGFzcyBtZHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuY29tcG9uZW50RmFjdG9yeT1lLmdldChnYSkucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodCl9Y3JlYXRlKHQpe3JldHVybiBuZXcgeWQodGhpcy5jb21wb25lbnRGYWN0b3J5LHQpfX1jbGFzcyB5ZHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuY29tcG9uZW50RmFjdG9yeT10LHRoaXMuaW5qZWN0b3I9ZSx0aGlzLmV2ZW50RW1pdHRlcnM9bmV3IGxkKDEpLHRoaXMuZXZlbnRzPXRoaXMuZXZlbnRFbWl0dGVycy5waXBlKGNkKHQ9PnEoLi4udCkpKSx0aGlzLmNvbXBvbmVudFJlZj1udWxsLHRoaXMudmlld0NoYW5nZURldGVjdG9yUmVmPW51bGwsdGhpcy5pbnB1dENoYW5nZXM9bnVsbCx0aGlzLmhhc0lucHV0Q2hhbmdlcz0hMSx0aGlzLmltcGxlbWVudHNPbkNoYW5nZXM9ITEsdGhpcy5zY2hlZHVsZWRDaGFuZ2VEZXRlY3Rpb25Gbj1udWxsLHRoaXMuc2NoZWR1bGVkRGVzdHJveUZuPW51bGwsdGhpcy5pbml0aWFsSW5wdXRWYWx1ZXM9bmV3IE1hcCx0aGlzLnVuY2hhbmdlZElucHV0cz1uZXcgU2V0KHRoaXMuY29tcG9uZW50RmFjdG9yeS5pbnB1dHMubWFwKCh7cHJvcE5hbWU6dH0pPT50KSksdGhpcy5uZ1pvbmU9dGhpcy5pbmplY3Rvci5nZXQoY3UpLHRoaXMuZWxlbWVudFpvbmU9InVuZGVmaW5lZCI9PXR5cGVvZiBab25lP251bGw6dGhpcy5uZ1pvbmUucnVuKCgpPT5ab25lLmN1cnJlbnQpfWNvbm5lY3QodCl7dGhpcy5ydW5JblpvbmUoKCk9PntpZihudWxsIT09dGhpcy5zY2hlZHVsZWREZXN0cm95Rm4pcmV0dXJuIHRoaXMuc2NoZWR1bGVkRGVzdHJveUZuKCksdm9pZCh0aGlzLnNjaGVkdWxlZERlc3Ryb3lGbj1udWxsKTtudWxsPT09dGhpcy5jb21wb25lbnRSZWYmJnRoaXMuaW5pdGlhbGl6ZUNvbXBvbmVudCh0KX0pfWRpc2Nvbm5lY3QoKXt0aGlzLnJ1bkluWm9uZSgoKT0+e251bGwhPT10aGlzLmNvbXBvbmVudFJlZiYmbnVsbD09PXRoaXMuc2NoZWR1bGVkRGVzdHJveUZuJiYodGhpcy5zY2hlZHVsZWREZXN0cm95Rm49cGQuc2NoZWR1bGUoKCk9PntudWxsIT09dGhpcy5jb21wb25lbnRSZWYmJih0aGlzLmNvbXBvbmVudFJlZi5kZXN0cm95KCksdGhpcy5jb21wb25lbnRSZWY9bnVsbCx0aGlzLnZpZXdDaGFuZ2VEZXRlY3RvclJlZj1udWxsKX0sMTApKX0pfWdldElucHV0VmFsdWUodCl7cmV0dXJuIHRoaXMucnVuSW5ab25lKCgpPT5udWxsPT09dGhpcy5jb21wb25lbnRSZWY/dGhpcy5pbml0aWFsSW5wdXRWYWx1ZXMuZ2V0KHQpOnRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlW3RdKX1zZXRJbnB1dFZhbHVlKHQsZSl7dGhpcy5ydW5JblpvbmUoKCk9Pnt2YXIgbixyO251bGwhPT10aGlzLmNvbXBvbmVudFJlZj8oKG49ZSkhPT0ocj10aGlzLmdldElucHV0VmFsdWUodCkpJiYobj09bnx8cj09cil8fHZvaWQgMD09PWUmJnRoaXMudW5jaGFuZ2VkSW5wdXRzLmhhcyh0KSkmJih0aGlzLnJlY29yZElucHV0Q2hhbmdlKHQsZSksdGhpcy51bmNoYW5nZWRJbnB1dHMuZGVsZXRlKHQpLHRoaXMuaGFzSW5wdXRDaGFuZ2VzPSEwLHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlW3RdPWUsdGhpcy5zY2hlZHVsZURldGVjdENoYW5nZXMoKSk6dGhpcy5pbml0aWFsSW5wdXRWYWx1ZXMuc2V0KHQsZSl9KX1pbml0aWFsaXplQ29tcG9uZW50KHQpe2NvbnN0IGU9R2kuY3JlYXRlKHtwcm92aWRlcnM6W10scGFyZW50OnRoaXMuaW5qZWN0b3J9KSxuPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmNoaWxkTm9kZXMscj1lLm1hcCgoKT0+W10pO2xldCBzPS0xO2Uuc29tZSgodCxlKT0+IioiPT09dCYmKHM9ZSwhMCkpO2ZvcihsZXQgaT0wLG89bi5sZW5ndGg7aTxvOysraSl7Y29uc3QgdD1uW2ldLG89Z2QodCxlLHMpOy0xIT09byYmcltvXS5wdXNoKHQpfXJldHVybiByfSh0LHRoaXMuY29tcG9uZW50RmFjdG9yeS5uZ0NvbnRlbnRTZWxlY3RvcnMpO3RoaXMuY29tcG9uZW50UmVmPXRoaXMuY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoZSxuLHQpLHRoaXMudmlld0NoYW5nZURldGVjdG9yUmVmPXRoaXMuY29tcG9uZW50UmVmLmluamVjdG9yLmdldChxYSksdGhpcy5pbXBsZW1lbnRzT25DaGFuZ2VzPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5uZ09uQ2hhbmdlcyx0aGlzLmluaXRpYWxpemVJbnB1dHMoKSx0aGlzLmluaXRpYWxpemVPdXRwdXRzKHRoaXMuY29tcG9uZW50UmVmKSx0aGlzLmRldGVjdENoYW5nZXMoKSx0aGlzLmluamVjdG9yLmdldChPdSkuYXR0YWNoVmlldyh0aGlzLmNvbXBvbmVudFJlZi5ob3N0Vmlldyl9aW5pdGlhbGl6ZUlucHV0cygpe3RoaXMuY29tcG9uZW50RmFjdG9yeS5pbnB1dHMuZm9yRWFjaCgoe3Byb3BOYW1lOnR9KT0+e3RoaXMuaW5pdGlhbElucHV0VmFsdWVzLmhhcyh0KSYmdGhpcy5zZXRJbnB1dFZhbHVlKHQsdGhpcy5pbml0aWFsSW5wdXRWYWx1ZXMuZ2V0KHQpKX0pLHRoaXMuaW5pdGlhbElucHV0VmFsdWVzLmNsZWFyKCl9aW5pdGlhbGl6ZU91dHB1dHModCl7Y29uc3QgZT10aGlzLmNvbXBvbmVudEZhY3Rvcnkub3V0cHV0cy5tYXAoKHtwcm9wTmFtZTplLHRlbXBsYXRlTmFtZTpufSk9PnQuaW5zdGFuY2VbZV0ucGlwZShTKHQ9Pih7bmFtZTpuLHZhbHVlOnR9KSkpKTt0aGlzLmV2ZW50RW1pdHRlcnMubmV4dChlKX1jYWxsTmdPbkNoYW5nZXModCl7aWYoIXRoaXMuaW1wbGVtZW50c09uQ2hhbmdlc3x8bnVsbD09PXRoaXMuaW5wdXRDaGFuZ2VzKXJldHVybjtjb25zdCBlPXRoaXMuaW5wdXRDaGFuZ2VzO3RoaXMuaW5wdXRDaGFuZ2VzPW51bGwsdC5pbnN0YW5jZS5uZ09uQ2hhbmdlcyhlKX1tYXJrVmlld0ZvckNoZWNrKHQpe3RoaXMuaGFzSW5wdXRDaGFuZ2VzJiYodGhpcy5oYXNJbnB1dENoYW5nZXM9ITEsdC5tYXJrRm9yQ2hlY2soKSl9c2NoZWR1bGVEZXRlY3RDaGFuZ2VzKCl7dGhpcy5zY2hlZHVsZWRDaGFuZ2VEZXRlY3Rpb25Gbnx8KHRoaXMuc2NoZWR1bGVkQ2hhbmdlRGV0ZWN0aW9uRm49cGQuc2NoZWR1bGVCZWZvcmVSZW5kZXIoKCk9Pnt0aGlzLnNjaGVkdWxlZENoYW5nZURldGVjdGlvbkZuPW51bGwsdGhpcy5kZXRlY3RDaGFuZ2VzKCl9KSl9cmVjb3JkSW5wdXRDaGFuZ2UodCxlKXtpZighdGhpcy5pbXBsZW1lbnRzT25DaGFuZ2VzKXJldHVybjtudWxsPT09dGhpcy5pbnB1dENoYW5nZXMmJih0aGlzLmlucHV0Q2hhbmdlcz17fSk7Y29uc3Qgbj10aGlzLmlucHV0Q2hhbmdlc1t0XTtpZihuKXJldHVybiB2b2lkKG4uY3VycmVudFZhbHVlPWUpO2NvbnN0IHI9dGhpcy51bmNoYW5nZWRJbnB1dHMuaGFzKHQpLHM9cj92b2lkIDA6dGhpcy5nZXRJbnB1dFZhbHVlKHQpO3RoaXMuaW5wdXRDaGFuZ2VzW3RdPW5ldyBhZShzLGUscil9ZGV0ZWN0Q2hhbmdlcygpe251bGwhPT10aGlzLmNvbXBvbmVudFJlZiYmKHRoaXMuY2FsbE5nT25DaGFuZ2VzKHRoaXMuY29tcG9uZW50UmVmKSx0aGlzLm1hcmtWaWV3Rm9yQ2hlY2sodGhpcy52aWV3Q2hhbmdlRGV0ZWN0b3JSZWYpLHRoaXMuY29tcG9uZW50UmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKSl9cnVuSW5ab25lKHQpe3JldHVybiB0aGlzLmVsZW1lbnRab25lJiZab25lLmN1cnJlbnQhPT10aGlzLmVsZW1lbnRab25lP3RoaXMubmdab25lLnJ1bih0KTp0KCl9fWNsYXNzIHZkIGV4dGVuZHMgSFRNTEVsZW1lbnR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMubmdFbGVtZW50RXZlbnRzU3Vic2NyaXB0aW9uPW51bGx9fWZ1bmN0aW9uIGJkKHQsZSl7cmV0dXJuIG5ldyB2KG49Pntjb25zdCByPXQubGVuZ3RoO2lmKDA9PT1yKXJldHVybiB2b2lkIG4uY29tcGxldGUoKTtjb25zdCBzPW5ldyBBcnJheShyKTtsZXQgaT0wLG89MDtmb3IobGV0IGE9MDthPHI7YSsrKXtjb25zdCBsPVYodFthXSk7bGV0IHU9ITE7bi5hZGQobC5zdWJzY3JpYmUoe25leHQ6dD0+e3V8fCh1PSEwLG8rKyksc1thXT10fSxlcnJvcjp0PT5uLmVycm9yKHQpLGNvbXBsZXRlOigpPT57aSsrLGkhPT1yJiZ1fHwobz09PXImJm4ubmV4dChlP2UucmVkdWNlKCh0LGUsbik9Pih0W2VdPXNbbl0sdCkse30pOnMpLG4uY29tcGxldGUoKSl9fSkpfX0pfW5ldyBBYSgiMTIuMC41Iik7bGV0IF9kPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9yZW5kZXJlcj10LHRoaXMuX2VsZW1lbnRSZWY9ZSx0aGlzLm9uQ2hhbmdlPXQ9Pnt9LHRoaXMub25Ub3VjaGVkPSgpPT57fX1zZXRQcm9wZXJ0eSh0LGUpe3RoaXMuX3JlbmRlcmVyLnNldFByb3BlcnR5KHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudCx0LGUpfXJlZ2lzdGVyT25Ub3VjaGVkKHQpe3RoaXMub25Ub3VjaGVkPXR9cmVnaXN0ZXJPbkNoYW5nZSh0KXt0aGlzLm9uQ2hhbmdlPXR9c2V0RGlzYWJsZWRTdGF0ZSh0KXt0aGlzLnNldFByb3BlcnR5KCJkaXNhYmxlZCIsdCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhvKENhKSxobyhiYSkpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0fSksdH0pKCksd2Q9KCgpPT57Y2xhc3MgdCBleHRlbmRzIF9ke31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oKXtsZXQgZTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKGV8fChlPUxuKHQpKSkobnx8dCl9fSgpLHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsZmVhdHVyZXM6W0tpXX0pLHR9KSgpO2NvbnN0IENkPW5ldyAkbigiTmdWYWx1ZUFjY2Vzc29yIiksRWQ9e3Byb3ZpZGU6Q2QsdXNlRXhpc3Rpbmc6c3QoKCk9PkFkKSxtdWx0aTohMH0sRGQ9bmV3ICRuKCJDb21wb3NpdGlvbkV2ZW50TW9kZSIpO2xldCBBZD0oKCk9PntjbGFzcyB0IGV4dGVuZHMgX2R7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQsZSksdGhpcy5fY29tcG9zaXRpb25Nb2RlPW4sdGhpcy5fY29tcG9zaW5nPSExLG51bGw9PXRoaXMuX2NvbXBvc2l0aW9uTW9kZSYmKHRoaXMuX2NvbXBvc2l0aW9uTW9kZT0hZnVuY3Rpb24oKXtjb25zdCB0PVV1KCk/VXUoKS5nZXRVc2VyQWdlbnQoKToiIjtyZXR1cm4vYW5kcm9pZCAoXGQrKS8udGVzdCh0LnRvTG93ZXJDYXNlKCkpfSgpKX13cml0ZVZhbHVlKHQpe3RoaXMuc2V0UHJvcGVydHkoInZhbHVlIixudWxsPT10PyIiOnQpfV9oYW5kbGVJbnB1dCh0KXsoIXRoaXMuX2NvbXBvc2l0aW9uTW9kZXx8dGhpcy5fY29tcG9zaXRpb25Nb2RlJiYhdGhpcy5fY29tcG9zaW5nKSYmdGhpcy5vbkNoYW5nZSh0KX1fY29tcG9zaXRpb25TdGFydCgpe3RoaXMuX2NvbXBvc2luZz0hMH1fY29tcG9zaXRpb25FbmQodCl7dGhpcy5fY29tcG9zaW5nPSExLHRoaXMuX2NvbXBvc2l0aW9uTW9kZSYmdGhpcy5vbkNoYW5nZSh0KX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaG8oQ2EpLGhvKGJhKSxobyhEZCw4KSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsc2VsZWN0b3JzOltbImlucHV0IiwiZm9ybUNvbnRyb2xOYW1lIiwiIiwzLCJ0eXBlIiwiY2hlY2tib3giXSxbInRleHRhcmVhIiwiZm9ybUNvbnRyb2xOYW1lIiwiIl0sWyJpbnB1dCIsImZvcm1Db250cm9sIiwiIiwzLCJ0eXBlIiwiY2hlY2tib3giXSxbInRleHRhcmVhIiwiZm9ybUNvbnRyb2wiLCIiXSxbImlucHV0IiwibmdNb2RlbCIsIiIsMywidHlwZSIsImNoZWNrYm94Il0sWyJ0ZXh0YXJlYSIsIm5nTW9kZWwiLCIiXSxbIiIsIm5nRGVmYXVsdENvbnRyb2wiLCIiXV0saG9zdEJpbmRpbmdzOmZ1bmN0aW9uKHQsZSl7MSZ0JiZDbygiaW5wdXQiLGZ1bmN0aW9uKHQpe3JldHVybiBlLl9oYW5kbGVJbnB1dCh0LnRhcmdldC52YWx1ZSl9KSgiYmx1ciIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vblRvdWNoZWQoKX0pKCJjb21wb3NpdGlvbnN0YXJ0IixmdW5jdGlvbigpe3JldHVybiBlLl9jb21wb3NpdGlvblN0YXJ0KCl9KSgiY29tcG9zaXRpb25lbmQiLGZ1bmN0aW9uKHQpe3JldHVybiBlLl9jb21wb3NpdGlvbkVuZCh0LnRhcmdldC52YWx1ZSl9KX0sZmVhdHVyZXM6W2RhKFtFZF0pLEtpXX0pLHR9KSgpO2NvbnN0IFNkPW5ldyAkbigiTmdWYWxpZGF0b3JzIikseGQ9bmV3ICRuKCJOZ0FzeW5jVmFsaWRhdG9ycyIpO2Z1bmN0aW9uIGtkKHQpe3JldHVybiBudWxsIT10fWZ1bmN0aW9uIFRkKHQpe2NvbnN0IGU9X28odCk/Vih0KTp0O3JldHVybiB3byhlKSxlfWZ1bmN0aW9uIE9kKHQpe2xldCBlPXt9O3JldHVybiB0LmZvckVhY2godD0+e2U9bnVsbCE9dD9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSksdCk6ZX0pLDA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGg/bnVsbDplfWZ1bmN0aW9uIEZkKHQsZSl7cmV0dXJuIGUubWFwKGU9PmUodCkpfWZ1bmN0aW9uIFBkKHQpe3JldHVybiB0Lm1hcCh0PT5mdW5jdGlvbih0KXtyZXR1cm4hdC52YWxpZGF0ZX0odCk/dDplPT50LnZhbGlkYXRlKGUpKX1mdW5jdGlvbiBJZCh0KXtyZXR1cm4gbnVsbCE9dD9mdW5jdGlvbih0KXtpZighdClyZXR1cm4gbnVsbDtjb25zdCBlPXQuZmlsdGVyKGtkKTtyZXR1cm4gMD09ZS5sZW5ndGg/bnVsbDpmdW5jdGlvbih0KXtyZXR1cm4gT2QoRmQodCxlKSl9fShQZCh0KSk6bnVsbH1mdW5jdGlvbiBSZCh0KXtyZXR1cm4gbnVsbCE9dD9mdW5jdGlvbih0KXtpZighdClyZXR1cm4gbnVsbDtjb25zdCBlPXQuZmlsdGVyKGtkKTtyZXR1cm4gMD09ZS5sZW5ndGg/bnVsbDpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oLi4udCl7aWYoMT09PXQubGVuZ3RoKXtjb25zdCBlPXRbMF07aWYobChlKSlyZXR1cm4gYmQoZSxudWxsKTtpZih1KGUpJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk9PT1PYmplY3QucHJvdG90eXBlKXtjb25zdCB0PU9iamVjdC5rZXlzKGUpO3JldHVybiBiZCh0Lm1hcCh0PT5lW3RdKSx0KX19aWYoImZ1bmN0aW9uIj09dHlwZW9mIHRbdC5sZW5ndGgtMV0pe2NvbnN0IGU9dC5wb3AoKTtyZXR1cm4gYmQodD0xPT09dC5sZW5ndGgmJmwodFswXSk/dFswXTp0LG51bGwpLnBpcGUoUyh0PT5lKC4uLnQpKSl9cmV0dXJuIGJkKHQsbnVsbCl9KEZkKHQsZSkubWFwKFRkKSkucGlwZShTKE9kKSl9fShQZCh0KSk6bnVsbH1mdW5jdGlvbiBNZCh0LGUpe3JldHVybiBudWxsPT09dD9bZV06QXJyYXkuaXNBcnJheSh0KT9bLi4udCxlXTpbdCxlXX1sZXQgVmQ9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuX3Jhd1ZhbGlkYXRvcnM9W10sdGhpcy5fcmF3QXN5bmNWYWxpZGF0b3JzPVtdLHRoaXMuX29uRGVzdHJveUNhbGxiYWNrcz1bXX1nZXQgdmFsdWUoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC52YWx1ZTpudWxsfWdldCB2YWxpZCgpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLnZhbGlkOm51bGx9Z2V0IGludmFsaWQoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5pbnZhbGlkOm51bGx9Z2V0IHBlbmRpbmcoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5wZW5kaW5nOm51bGx9Z2V0IGRpc2FibGVkKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wuZGlzYWJsZWQ6bnVsbH1nZXQgZW5hYmxlZCgpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLmVuYWJsZWQ6bnVsbH1nZXQgZXJyb3JzKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wuZXJyb3JzOm51bGx9Z2V0IHByaXN0aW5lKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wucHJpc3RpbmU6bnVsbH1nZXQgZGlydHkoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5kaXJ0eTpudWxsfWdldCB0b3VjaGVkKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wudG91Y2hlZDpudWxsfWdldCBzdGF0dXMoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5zdGF0dXM6bnVsbH1nZXQgdW50b3VjaGVkKCl7cmV0dXJuIHRoaXMuY29udHJvbD90aGlzLmNvbnRyb2wudW50b3VjaGVkOm51bGx9Z2V0IHN0YXR1c0NoYW5nZXMoKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5zdGF0dXNDaGFuZ2VzOm51bGx9Z2V0IHZhbHVlQ2hhbmdlcygpe3JldHVybiB0aGlzLmNvbnRyb2w/dGhpcy5jb250cm9sLnZhbHVlQ2hhbmdlczpudWxsfWdldCBwYXRoKCl7cmV0dXJuIG51bGx9X3NldFZhbGlkYXRvcnModCl7dGhpcy5fcmF3VmFsaWRhdG9ycz10fHxbXSx0aGlzLl9jb21wb3NlZFZhbGlkYXRvckZuPUlkKHRoaXMuX3Jhd1ZhbGlkYXRvcnMpfV9zZXRBc3luY1ZhbGlkYXRvcnModCl7dGhpcy5fcmF3QXN5bmNWYWxpZGF0b3JzPXR8fFtdLHRoaXMuX2NvbXBvc2VkQXN5bmNWYWxpZGF0b3JGbj1SZCh0aGlzLl9yYXdBc3luY1ZhbGlkYXRvcnMpfWdldCB2YWxpZGF0b3IoKXtyZXR1cm4gdGhpcy5fY29tcG9zZWRWYWxpZGF0b3JGbnx8bnVsbH1nZXQgYXN5bmNWYWxpZGF0b3IoKXtyZXR1cm4gdGhpcy5fY29tcG9zZWRBc3luY1ZhbGlkYXRvckZufHxudWxsfV9yZWdpc3Rlck9uRGVzdHJveSh0KXt0aGlzLl9vbkRlc3Ryb3lDYWxsYmFja3MucHVzaCh0KX1faW52b2tlT25EZXN0cm95Q2FsbGJhY2tzKCl7dGhpcy5fb25EZXN0cm95Q2FsbGJhY2tzLmZvckVhY2godD0+dCgpKSx0aGlzLl9vbkRlc3Ryb3lDYWxsYmFja3M9W119cmVzZXQodCl7dGhpcy5jb250cm9sJiZ0aGlzLmNvbnRyb2wucmVzZXQodCl9aGFzRXJyb3IodCxlKXtyZXR1cm4hIXRoaXMuY29udHJvbCYmdGhpcy5jb250cm9sLmhhc0Vycm9yKHQsZSl9Z2V0RXJyb3IodCxlKXtyZXR1cm4gdGhpcy5jb250cm9sP3RoaXMuY29udHJvbC5nZXRFcnJvcih0LGUpOm51bGx9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0fSksdH0pKCksamQ9KCgpPT57Y2xhc3MgdCBleHRlbmRzIFZke2dldCBmb3JtRGlyZWN0aXZlKCl7cmV0dXJuIG51bGx9Z2V0IHBhdGgoKXtyZXR1cm4gbnVsbH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKCl7bGV0IGU7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybihlfHwoZT1Mbih0KSkpKG58fHQpfX0oKSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0LGZlYXR1cmVzOltLaV19KSx0fSkoKTtjbGFzcyBOZCBleHRlbmRzIFZke2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9wYXJlbnQ9bnVsbCx0aGlzLm5hbWU9bnVsbCx0aGlzLnZhbHVlQWNjZXNzb3I9bnVsbH19bGV0IExkPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBjbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9jZD10fWlzKHQpe3ZhciBlLG47cmV0dXJuISEobnVsbD09PShuPW51bGw9PT0oZT10aGlzLl9jZCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY29udHJvbCl8fHZvaWQgMD09PW4/dm9pZCAwOm5bdF0pfX17Y29uc3RydWN0b3IodCl7c3VwZXIodCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhvKE5kLDIpKX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwiZm9ybUNvbnRyb2xOYW1lIiwiIl0sWyIiLCJuZ01vZGVsIiwiIl0sWyIiLCJmb3JtQ29udHJvbCIsIiJdXSxob3N0VmFyczoxNCxob3N0QmluZGluZ3M6ZnVuY3Rpb24odCxlKXsyJnQmJk1vKCJuZy11bnRvdWNoZWQiLGUuaXMoInVudG91Y2hlZCIpKSgibmctdG91Y2hlZCIsZS5pcygidG91Y2hlZCIpKSgibmctcHJpc3RpbmUiLGUuaXMoInByaXN0aW5lIikpKCJuZy1kaXJ0eSIsZS5pcygiZGlydHkiKSkoIm5nLXZhbGlkIixlLmlzKCJ2YWxpZCIpKSgibmctaW52YWxpZCIsZS5pcygiaW52YWxpZCIpKSgibmctcGVuZGluZyIsZS5pcygicGVuZGluZyIpKX0sZmVhdHVyZXM6W0tpXX0pLHR9KSgpO2Z1bmN0aW9uIEJkKHQsZSl7dC5mb3JFYWNoKHQ9Pnt0LnJlZ2lzdGVyT25WYWxpZGF0b3JDaGFuZ2UmJnQucmVnaXN0ZXJPblZhbGlkYXRvckNoYW5nZShlKX0pfWZ1bmN0aW9uIFVkKHQsZSl7dC5fcGVuZGluZ0RpcnR5JiZ0Lm1hcmtBc0RpcnR5KCksdC5zZXRWYWx1ZSh0Ll9wZW5kaW5nVmFsdWUse2VtaXRNb2RlbFRvVmlld0NoYW5nZTohMX0pLGUudmlld1RvTW9kZWxVcGRhdGUodC5fcGVuZGluZ1ZhbHVlKSx0Ll9wZW5kaW5nQ2hhbmdlPSExfWZ1bmN0aW9uIEhkKHQsZSl7Y29uc3Qgbj10LmluZGV4T2YoZSk7bj4tMSYmdC5zcGxpY2UobiwxKX1jb25zdCAkZD0iVkFMSUQiLHpkPSJJTlZBTElEIixxZD0iUEVORElORyIsV2Q9IkRJU0FCTEVEIjtmdW5jdGlvbiBHZCh0KXtyZXR1cm4oUWQodCk/dC52YWxpZGF0b3JzOnQpfHxudWxsfWZ1bmN0aW9uIFpkKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP0lkKHQpOnR8fG51bGx9ZnVuY3Rpb24gS2QodCxlKXtyZXR1cm4oUWQoZSk/ZS5hc3luY1ZhbGlkYXRvcnM6dCl8fG51bGx9ZnVuY3Rpb24gWWQodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/UmQodCk6dHx8bnVsbH1mdW5jdGlvbiBRZCh0KXtyZXR1cm4gbnVsbCE9dCYmIUFycmF5LmlzQXJyYXkodCkmJiJvYmplY3QiPT10eXBlb2YgdH1jbGFzcyBYZHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX2hhc093blBlbmRpbmdBc3luY1ZhbGlkYXRvcj0hMSx0aGlzLl9vbkNvbGxlY3Rpb25DaGFuZ2U9KCk9Pnt9LHRoaXMuX3BhcmVudD1udWxsLHRoaXMucHJpc3RpbmU9ITAsdGhpcy50b3VjaGVkPSExLHRoaXMuX29uRGlzYWJsZWRDaGFuZ2U9W10sdGhpcy5fcmF3VmFsaWRhdG9ycz10LHRoaXMuX3Jhd0FzeW5jVmFsaWRhdG9ycz1lLHRoaXMuX2NvbXBvc2VkVmFsaWRhdG9yRm49WmQodGhpcy5fcmF3VmFsaWRhdG9ycyksdGhpcy5fY29tcG9zZWRBc3luY1ZhbGlkYXRvckZuPVlkKHRoaXMuX3Jhd0FzeW5jVmFsaWRhdG9ycyl9Z2V0IHZhbGlkYXRvcigpe3JldHVybiB0aGlzLl9jb21wb3NlZFZhbGlkYXRvckZufXNldCB2YWxpZGF0b3IodCl7dGhpcy5fcmF3VmFsaWRhdG9ycz10aGlzLl9jb21wb3NlZFZhbGlkYXRvckZuPXR9Z2V0IGFzeW5jVmFsaWRhdG9yKCl7cmV0dXJuIHRoaXMuX2NvbXBvc2VkQXN5bmNWYWxpZGF0b3JGbn1zZXQgYXN5bmNWYWxpZGF0b3IodCl7dGhpcy5fcmF3QXN5bmNWYWxpZGF0b3JzPXRoaXMuX2NvbXBvc2VkQXN5bmNWYWxpZGF0b3JGbj10fWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy5fcGFyZW50fWdldCB2YWxpZCgpe3JldHVybiB0aGlzLnN0YXR1cz09PSRkfWdldCBpbnZhbGlkKCl7cmV0dXJuIHRoaXMuc3RhdHVzPT09emR9Z2V0IHBlbmRpbmcoKXtyZXR1cm4gdGhpcy5zdGF0dXM9PXFkfWdldCBkaXNhYmxlZCgpe3JldHVybiB0aGlzLnN0YXR1cz09PVdkfWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMuc3RhdHVzIT09V2R9Z2V0IGRpcnR5KCl7cmV0dXJuIXRoaXMucHJpc3RpbmV9Z2V0IHVudG91Y2hlZCgpe3JldHVybiF0aGlzLnRvdWNoZWR9Z2V0IHVwZGF0ZU9uKCl7cmV0dXJuIHRoaXMuX3VwZGF0ZU9uP3RoaXMuX3VwZGF0ZU9uOnRoaXMucGFyZW50P3RoaXMucGFyZW50LnVwZGF0ZU9uOiJjaGFuZ2UifXNldFZhbGlkYXRvcnModCl7dGhpcy5fcmF3VmFsaWRhdG9ycz10LHRoaXMuX2NvbXBvc2VkVmFsaWRhdG9yRm49WmQodCl9c2V0QXN5bmNWYWxpZGF0b3JzKHQpe3RoaXMuX3Jhd0FzeW5jVmFsaWRhdG9ycz10LHRoaXMuX2NvbXBvc2VkQXN5bmNWYWxpZGF0b3JGbj1ZZCh0KX1jbGVhclZhbGlkYXRvcnMoKXt0aGlzLnZhbGlkYXRvcj1udWxsfWNsZWFyQXN5bmNWYWxpZGF0b3JzKCl7dGhpcy5hc3luY1ZhbGlkYXRvcj1udWxsfW1hcmtBc1RvdWNoZWQodD17fSl7dGhpcy50b3VjaGVkPSEwLHRoaXMuX3BhcmVudCYmIXQub25seVNlbGYmJnRoaXMuX3BhcmVudC5tYXJrQXNUb3VjaGVkKHQpfW1hcmtBbGxBc1RvdWNoZWQoKXt0aGlzLm1hcmtBc1RvdWNoZWQoe29ubHlTZWxmOiEwfSksdGhpcy5fZm9yRWFjaENoaWxkKHQ9PnQubWFya0FsbEFzVG91Y2hlZCgpKX1tYXJrQXNVbnRvdWNoZWQodD17fSl7dGhpcy50b3VjaGVkPSExLHRoaXMuX3BlbmRpbmdUb3VjaGVkPSExLHRoaXMuX2ZvckVhY2hDaGlsZCh0PT57dC5tYXJrQXNVbnRvdWNoZWQoe29ubHlTZWxmOiEwfSl9KSx0aGlzLl9wYXJlbnQmJiF0Lm9ubHlTZWxmJiZ0aGlzLl9wYXJlbnQuX3VwZGF0ZVRvdWNoZWQodCl9bWFya0FzRGlydHkodD17fSl7dGhpcy5wcmlzdGluZT0hMSx0aGlzLl9wYXJlbnQmJiF0Lm9ubHlTZWxmJiZ0aGlzLl9wYXJlbnQubWFya0FzRGlydHkodCl9bWFya0FzUHJpc3RpbmUodD17fSl7dGhpcy5wcmlzdGluZT0hMCx0aGlzLl9wZW5kaW5nRGlydHk9ITEsdGhpcy5fZm9yRWFjaENoaWxkKHQ9Pnt0Lm1hcmtBc1ByaXN0aW5lKHtvbmx5U2VsZjohMH0pfSksdGhpcy5fcGFyZW50JiYhdC5vbmx5U2VsZiYmdGhpcy5fcGFyZW50Ll91cGRhdGVQcmlzdGluZSh0KX1tYXJrQXNQZW5kaW5nKHQ9e30pe3RoaXMuc3RhdHVzPXFkLCExIT09dC5lbWl0RXZlbnQmJnRoaXMuc3RhdHVzQ2hhbmdlcy5lbWl0KHRoaXMuc3RhdHVzKSx0aGlzLl9wYXJlbnQmJiF0Lm9ubHlTZWxmJiZ0aGlzLl9wYXJlbnQubWFya0FzUGVuZGluZyh0KX1kaXNhYmxlKHQ9e30pe2NvbnN0IGU9dGhpcy5fcGFyZW50TWFya2VkRGlydHkodC5vbmx5U2VsZik7dGhpcy5zdGF0dXM9V2QsdGhpcy5lcnJvcnM9bnVsbCx0aGlzLl9mb3JFYWNoQ2hpbGQoZT0+e2UuZGlzYWJsZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse29ubHlTZWxmOiEwfSkpfSksdGhpcy5fdXBkYXRlVmFsdWUoKSwhMSE9PXQuZW1pdEV2ZW50JiYodGhpcy52YWx1ZUNoYW5nZXMuZW1pdCh0aGlzLnZhbHVlKSx0aGlzLnN0YXR1c0NoYW5nZXMuZW1pdCh0aGlzLnN0YXR1cykpLHRoaXMuX3VwZGF0ZUFuY2VzdG9ycyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse3NraXBQcmlzdGluZUNoZWNrOmV9KSksdGhpcy5fb25EaXNhYmxlZENoYW5nZS5mb3JFYWNoKHQ9PnQoITApKX1lbmFibGUodD17fSl7Y29uc3QgZT10aGlzLl9wYXJlbnRNYXJrZWREaXJ0eSh0Lm9ubHlTZWxmKTt0aGlzLnN0YXR1cz0kZCx0aGlzLl9mb3JFYWNoQ2hpbGQoZT0+e2UuZW5hYmxlKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7b25seVNlbGY6ITB9KSl9KSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe29ubHlTZWxmOiEwLGVtaXRFdmVudDp0LmVtaXRFdmVudH0pLHRoaXMuX3VwZGF0ZUFuY2VzdG9ycyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse3NraXBQcmlzdGluZUNoZWNrOmV9KSksdGhpcy5fb25EaXNhYmxlZENoYW5nZS5mb3JFYWNoKHQ9PnQoITEpKX1fdXBkYXRlQW5jZXN0b3JzKHQpe3RoaXMuX3BhcmVudCYmIXQub25seVNlbGYmJih0aGlzLl9wYXJlbnQudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh0KSx0LnNraXBQcmlzdGluZUNoZWNrfHx0aGlzLl9wYXJlbnQuX3VwZGF0ZVByaXN0aW5lKCksdGhpcy5fcGFyZW50Ll91cGRhdGVUb3VjaGVkKCkpfXNldFBhcmVudCh0KXt0aGlzLl9wYXJlbnQ9dH11cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHQ9e30pe3RoaXMuX3NldEluaXRpYWxTdGF0dXMoKSx0aGlzLl91cGRhdGVWYWx1ZSgpLHRoaXMuZW5hYmxlZCYmKHRoaXMuX2NhbmNlbEV4aXN0aW5nU3Vic2NyaXB0aW9uKCksdGhpcy5lcnJvcnM9dGhpcy5fcnVuVmFsaWRhdG9yKCksdGhpcy5zdGF0dXM9dGhpcy5fY2FsY3VsYXRlU3RhdHVzKCksdGhpcy5zdGF0dXMhPT0kZCYmdGhpcy5zdGF0dXMhPT1xZHx8dGhpcy5fcnVuQXN5bmNWYWxpZGF0b3IodC5lbWl0RXZlbnQpKSwhMSE9PXQuZW1pdEV2ZW50JiYodGhpcy52YWx1ZUNoYW5nZXMuZW1pdCh0aGlzLnZhbHVlKSx0aGlzLnN0YXR1c0NoYW5nZXMuZW1pdCh0aGlzLnN0YXR1cykpLHRoaXMuX3BhcmVudCYmIXQub25seVNlbGYmJnRoaXMuX3BhcmVudC51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHQpfV91cGRhdGVUcmVlVmFsaWRpdHkodD17ZW1pdEV2ZW50OiEwfSl7dGhpcy5fZm9yRWFjaENoaWxkKGU9PmUuX3VwZGF0ZVRyZWVWYWxpZGl0eSh0KSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6dC5lbWl0RXZlbnR9KX1fc2V0SW5pdGlhbFN0YXR1cygpe3RoaXMuc3RhdHVzPXRoaXMuX2FsbENvbnRyb2xzRGlzYWJsZWQoKT9XZDokZH1fcnVuVmFsaWRhdG9yKCl7cmV0dXJuIHRoaXMudmFsaWRhdG9yP3RoaXMudmFsaWRhdG9yKHRoaXMpOm51bGx9X3J1bkFzeW5jVmFsaWRhdG9yKHQpe2lmKHRoaXMuYXN5bmNWYWxpZGF0b3Ipe3RoaXMuc3RhdHVzPXFkLHRoaXMuX2hhc093blBlbmRpbmdBc3luY1ZhbGlkYXRvcj0hMDtjb25zdCBlPVRkKHRoaXMuYXN5bmNWYWxpZGF0b3IodGhpcykpO3RoaXMuX2FzeW5jVmFsaWRhdGlvblN1YnNjcmlwdGlvbj1lLnN1YnNjcmliZShlPT57dGhpcy5faGFzT3duUGVuZGluZ0FzeW5jVmFsaWRhdG9yPSExLHRoaXMuc2V0RXJyb3JzKGUse2VtaXRFdmVudDp0fSl9KX19X2NhbmNlbEV4aXN0aW5nU3Vic2NyaXB0aW9uKCl7dGhpcy5fYXN5bmNWYWxpZGF0aW9uU3Vic2NyaXB0aW9uJiYodGhpcy5fYXN5bmNWYWxpZGF0aW9uU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCksdGhpcy5faGFzT3duUGVuZGluZ0FzeW5jVmFsaWRhdG9yPSExKX1zZXRFcnJvcnModCxlPXt9KXt0aGlzLmVycm9ycz10LHRoaXMuX3VwZGF0ZUNvbnRyb2xzRXJyb3JzKCExIT09ZS5lbWl0RXZlbnQpfWdldCh0KXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7aWYoQXJyYXkuaXNBcnJheShlKXx8KGU9ZS5zcGxpdCgiLiIpKSxBcnJheS5pc0FycmF5KGUpJiYwPT09ZS5sZW5ndGgpcmV0dXJuIG51bGw7bGV0IHI9dDtyZXR1cm4gZS5mb3JFYWNoKHQ9PntyPXIgaW5zdGFuY2VvZiB0cD9yLmNvbnRyb2xzLmhhc093blByb3BlcnR5KHQpP3IuY29udHJvbHNbdF06bnVsbDpyIGluc3RhbmNlb2YgZXAmJnIuYXQodCl8fG51bGx9KSxyfSh0aGlzLHQpfWdldEVycm9yKHQsZSl7Y29uc3Qgbj1lP3RoaXMuZ2V0KGUpOnRoaXM7cmV0dXJuIG4mJm4uZXJyb3JzP24uZXJyb3JzW3RdOm51bGx9aGFzRXJyb3IodCxlKXtyZXR1cm4hIXRoaXMuZ2V0RXJyb3IodCxlKX1nZXQgcm9vdCgpe2xldCB0PXRoaXM7Zm9yKDt0Ll9wYXJlbnQ7KXQ9dC5fcGFyZW50O3JldHVybiB0fV91cGRhdGVDb250cm9sc0Vycm9ycyh0KXt0aGlzLnN0YXR1cz10aGlzLl9jYWxjdWxhdGVTdGF0dXMoKSx0JiZ0aGlzLnN0YXR1c0NoYW5nZXMuZW1pdCh0aGlzLnN0YXR1cyksdGhpcy5fcGFyZW50JiZ0aGlzLl9wYXJlbnQuX3VwZGF0ZUNvbnRyb2xzRXJyb3JzKHQpfV9pbml0T2JzZXJ2YWJsZXMoKXt0aGlzLnZhbHVlQ2hhbmdlcz1uZXcgRWwsdGhpcy5zdGF0dXNDaGFuZ2VzPW5ldyBFbH1fY2FsY3VsYXRlU3RhdHVzKCl7cmV0dXJuIHRoaXMuX2FsbENvbnRyb2xzRGlzYWJsZWQoKT9XZDp0aGlzLmVycm9ycz96ZDp0aGlzLl9oYXNPd25QZW5kaW5nQXN5bmNWYWxpZGF0b3J8fHRoaXMuX2FueUNvbnRyb2xzSGF2ZVN0YXR1cyhxZCk/cWQ6dGhpcy5fYW55Q29udHJvbHNIYXZlU3RhdHVzKHpkKT96ZDokZH1fYW55Q29udHJvbHNIYXZlU3RhdHVzKHQpe3JldHVybiB0aGlzLl9hbnlDb250cm9scyhlPT5lLnN0YXR1cz09PXQpfV9hbnlDb250cm9sc0RpcnR5KCl7cmV0dXJuIHRoaXMuX2FueUNvbnRyb2xzKHQ9PnQuZGlydHkpfV9hbnlDb250cm9sc1RvdWNoZWQoKXtyZXR1cm4gdGhpcy5fYW55Q29udHJvbHModD0+dC50b3VjaGVkKX1fdXBkYXRlUHJpc3RpbmUodD17fSl7dGhpcy5wcmlzdGluZT0hdGhpcy5fYW55Q29udHJvbHNEaXJ0eSgpLHRoaXMuX3BhcmVudCYmIXQub25seVNlbGYmJnRoaXMuX3BhcmVudC5fdXBkYXRlUHJpc3RpbmUodCl9X3VwZGF0ZVRvdWNoZWQodD17fSl7dGhpcy50b3VjaGVkPXRoaXMuX2FueUNvbnRyb2xzVG91Y2hlZCgpLHRoaXMuX3BhcmVudCYmIXQub25seVNlbGYmJnRoaXMuX3BhcmVudC5fdXBkYXRlVG91Y2hlZCh0KX1faXNCb3hlZFZhbHVlKHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9PXQmJjI9PT1PYmplY3Qua2V5cyh0KS5sZW5ndGgmJiJ2YWx1ZSJpbiB0JiYiZGlzYWJsZWQiaW4gdH1fcmVnaXN0ZXJPbkNvbGxlY3Rpb25DaGFuZ2UodCl7dGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlPXR9X3NldFVwZGF0ZVN0cmF0ZWd5KHQpe1FkKHQpJiZudWxsIT10LnVwZGF0ZU9uJiYodGhpcy5fdXBkYXRlT249dC51cGRhdGVPbil9X3BhcmVudE1hcmtlZERpcnR5KHQpe3JldHVybiF0JiYhKCF0aGlzLl9wYXJlbnR8fCF0aGlzLl9wYXJlbnQuZGlydHkpJiYhdGhpcy5fcGFyZW50Ll9hbnlDb250cm9sc0RpcnR5KCl9fWNsYXNzIEpkIGV4dGVuZHMgWGR7Y29uc3RydWN0b3IodD1udWxsLGUsbil7c3VwZXIoR2QoZSksS2QobixlKSksdGhpcy5fb25DaGFuZ2U9W10sdGhpcy5fYXBwbHlGb3JtU3RhdGUodCksdGhpcy5fc2V0VXBkYXRlU3RyYXRlZ3koZSksdGhpcy5faW5pdE9ic2VydmFibGVzKCksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6ISF0aGlzLmFzeW5jVmFsaWRhdG9yfSl9c2V0VmFsdWUodCxlPXt9KXt0aGlzLnZhbHVlPXRoaXMuX3BlbmRpbmdWYWx1ZT10LHRoaXMuX29uQ2hhbmdlLmxlbmd0aCYmITEhPT1lLmVtaXRNb2RlbFRvVmlld0NoYW5nZSYmdGhpcy5fb25DaGFuZ2UuZm9yRWFjaCh0PT50KHRoaXMudmFsdWUsITEhPT1lLmVtaXRWaWV3VG9Nb2RlbENoYW5nZSkpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eShlKX1wYXRjaFZhbHVlKHQsZT17fSl7dGhpcy5zZXRWYWx1ZSh0LGUpfXJlc2V0KHQ9bnVsbCxlPXt9KXt0aGlzLl9hcHBseUZvcm1TdGF0ZSh0KSx0aGlzLm1hcmtBc1ByaXN0aW5lKGUpLHRoaXMubWFya0FzVW50b3VjaGVkKGUpLHRoaXMuc2V0VmFsdWUodGhpcy52YWx1ZSxlKSx0aGlzLl9wZW5kaW5nQ2hhbmdlPSExfV91cGRhdGVWYWx1ZSgpe31fYW55Q29udHJvbHModCl7cmV0dXJuITF9X2FsbENvbnRyb2xzRGlzYWJsZWQoKXtyZXR1cm4gdGhpcy5kaXNhYmxlZH1yZWdpc3Rlck9uQ2hhbmdlKHQpe3RoaXMuX29uQ2hhbmdlLnB1c2godCl9X3VucmVnaXN0ZXJPbkNoYW5nZSh0KXtIZCh0aGlzLl9vbkNoYW5nZSx0KX1yZWdpc3Rlck9uRGlzYWJsZWRDaGFuZ2UodCl7dGhpcy5fb25EaXNhYmxlZENoYW5nZS5wdXNoKHQpfV91bnJlZ2lzdGVyT25EaXNhYmxlZENoYW5nZSh0KXtIZCh0aGlzLl9vbkRpc2FibGVkQ2hhbmdlLHQpfV9mb3JFYWNoQ2hpbGQodCl7fV9zeW5jUGVuZGluZ0NvbnRyb2xzKCl7cmV0dXJuISgic3VibWl0IiE9PXRoaXMudXBkYXRlT258fCh0aGlzLl9wZW5kaW5nRGlydHkmJnRoaXMubWFya0FzRGlydHkoKSx0aGlzLl9wZW5kaW5nVG91Y2hlZCYmdGhpcy5tYXJrQXNUb3VjaGVkKCksIXRoaXMuX3BlbmRpbmdDaGFuZ2UpfHwodGhpcy5zZXRWYWx1ZSh0aGlzLl9wZW5kaW5nVmFsdWUse29ubHlTZWxmOiEwLGVtaXRNb2RlbFRvVmlld0NoYW5nZTohMX0pLDApKX1fYXBwbHlGb3JtU3RhdGUodCl7dGhpcy5faXNCb3hlZFZhbHVlKHQpPyh0aGlzLnZhbHVlPXRoaXMuX3BlbmRpbmdWYWx1ZT10LnZhbHVlLHQuZGlzYWJsZWQ/dGhpcy5kaXNhYmxlKHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6ITF9KTp0aGlzLmVuYWJsZSh7b25seVNlbGY6ITAsZW1pdEV2ZW50OiExfSkpOnRoaXMudmFsdWU9dGhpcy5fcGVuZGluZ1ZhbHVlPXR9fWNsYXNzIHRwIGV4dGVuZHMgWGR7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKEdkKGUpLEtkKG4sZSkpLHRoaXMuY29udHJvbHM9dCx0aGlzLl9pbml0T2JzZXJ2YWJsZXMoKSx0aGlzLl9zZXRVcGRhdGVTdHJhdGVneShlKSx0aGlzLl9zZXRVcENvbnRyb2xzKCksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6ISF0aGlzLmFzeW5jVmFsaWRhdG9yfSl9cmVnaXN0ZXJDb250cm9sKHQsZSl7cmV0dXJuIHRoaXMuY29udHJvbHNbdF0/dGhpcy5jb250cm9sc1t0XToodGhpcy5jb250cm9sc1t0XT1lLGUuc2V0UGFyZW50KHRoaXMpLGUuX3JlZ2lzdGVyT25Db2xsZWN0aW9uQ2hhbmdlKHRoaXMuX29uQ29sbGVjdGlvbkNoYW5nZSksZSl9YWRkQ29udHJvbCh0LGUsbj17fSl7dGhpcy5yZWdpc3RlckNvbnRyb2wodCxlKSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDpuLmVtaXRFdmVudH0pLHRoaXMuX29uQ29sbGVjdGlvbkNoYW5nZSgpfXJlbW92ZUNvbnRyb2wodCxlPXt9KXt0aGlzLmNvbnRyb2xzW3RdJiZ0aGlzLmNvbnRyb2xzW3RdLl9yZWdpc3Rlck9uQ29sbGVjdGlvbkNoYW5nZSgoKT0+e30pLGRlbGV0ZSB0aGlzLmNvbnRyb2xzW3RdLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7ZW1pdEV2ZW50OmUuZW1pdEV2ZW50fSksdGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlKCl9c2V0Q29udHJvbCh0LGUsbj17fSl7dGhpcy5jb250cm9sc1t0XSYmdGhpcy5jb250cm9sc1t0XS5fcmVnaXN0ZXJPbkNvbGxlY3Rpb25DaGFuZ2UoKCk9Pnt9KSxkZWxldGUgdGhpcy5jb250cm9sc1t0XSxlJiZ0aGlzLnJlZ2lzdGVyQ29udHJvbCh0LGUpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7ZW1pdEV2ZW50Om4uZW1pdEV2ZW50fSksdGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlKCl9Y29udGFpbnModCl7cmV0dXJuIHRoaXMuY29udHJvbHMuaGFzT3duUHJvcGVydHkodCkmJnRoaXMuY29udHJvbHNbdF0uZW5hYmxlZH1zZXRWYWx1ZSh0LGU9e30pe3RoaXMuX2NoZWNrQWxsVmFsdWVzUHJlc2VudCh0KSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKG49Pnt0aGlzLl90aHJvd0lmQ29udHJvbE1pc3NpbmcobiksdGhpcy5jb250cm9sc1tuXS5zZXRWYWx1ZSh0W25dLHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6ZS5lbWl0RXZlbnR9KX0pLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eShlKX1wYXRjaFZhbHVlKHQsZT17fSl7bnVsbCE9dCYmKE9iamVjdC5rZXlzKHQpLmZvckVhY2gobj0+e3RoaXMuY29udHJvbHNbbl0mJnRoaXMuY29udHJvbHNbbl0ucGF0Y2hWYWx1ZSh0W25dLHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6ZS5lbWl0RXZlbnR9KX0pLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eShlKSl9cmVzZXQodD17fSxlPXt9KXt0aGlzLl9mb3JFYWNoQ2hpbGQoKG4scik9PntuLnJlc2V0KHRbcl0se29ubHlTZWxmOiEwLGVtaXRFdmVudDplLmVtaXRFdmVudH0pfSksdGhpcy5fdXBkYXRlUHJpc3RpbmUoZSksdGhpcy5fdXBkYXRlVG91Y2hlZChlKSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoZSl9Z2V0UmF3VmFsdWUoKXtyZXR1cm4gdGhpcy5fcmVkdWNlQ2hpbGRyZW4oe30sKHQsZSxuKT0+KHRbbl09ZSBpbnN0YW5jZW9mIEpkP2UudmFsdWU6ZS5nZXRSYXdWYWx1ZSgpLHQpKX1fc3luY1BlbmRpbmdDb250cm9scygpe2xldCB0PXRoaXMuX3JlZHVjZUNoaWxkcmVuKCExLCh0LGUpPT4hIWUuX3N5bmNQZW5kaW5nQ29udHJvbHMoKXx8dCk7cmV0dXJuIHQmJnRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7b25seVNlbGY6ITB9KSx0fV90aHJvd0lmQ29udHJvbE1pc3NpbmcodCl7aWYoIU9iamVjdC5rZXlzKHRoaXMuY29udHJvbHMpLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIlxuICAgICAgICBUaGVyZSBhcmUgbm8gZm9ybSBjb250cm9scyByZWdpc3RlcmVkIHdpdGggdGhpcyBncm91cCB5ZXQuIElmIHlvdSdyZSB1c2luZyBuZ01vZGVsLFxuICAgICAgICB5b3UgbWF5IHdhbnQgdG8gY2hlY2sgbmV4dCB0aWNrIChlLmcuIHVzZSBzZXRUaW1lb3V0KS5cbiAgICAgICIpO2lmKCF0aGlzLmNvbnRyb2xzW3RdKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgZm9ybSBjb250cm9sIHdpdGggbmFtZTogJHt0fS5gKX1fZm9yRWFjaENoaWxkKHQpe09iamVjdC5rZXlzKHRoaXMuY29udHJvbHMpLmZvckVhY2goZT0+e2NvbnN0IG49dGhpcy5jb250cm9sc1tlXTtuJiZ0KG4sZSl9KX1fc2V0VXBDb250cm9scygpe3RoaXMuX2ZvckVhY2hDaGlsZCh0PT57dC5zZXRQYXJlbnQodGhpcyksdC5fcmVnaXN0ZXJPbkNvbGxlY3Rpb25DaGFuZ2UodGhpcy5fb25Db2xsZWN0aW9uQ2hhbmdlKX0pfV91cGRhdGVWYWx1ZSgpe3RoaXMudmFsdWU9dGhpcy5fcmVkdWNlVmFsdWUoKX1fYW55Q29udHJvbHModCl7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModGhpcy5jb250cm9scykpe2NvbnN0IG49dGhpcy5jb250cm9sc1tlXTtpZih0aGlzLmNvbnRhaW5zKGUpJiZ0KG4pKXJldHVybiEwfXJldHVybiExfV9yZWR1Y2VWYWx1ZSgpe3JldHVybiB0aGlzLl9yZWR1Y2VDaGlsZHJlbih7fSwodCxlLG4pPT4oKGUuZW5hYmxlZHx8dGhpcy5kaXNhYmxlZCkmJih0W25dPWUudmFsdWUpLHQpKX1fcmVkdWNlQ2hpbGRyZW4odCxlKXtsZXQgbj10O3JldHVybiB0aGlzLl9mb3JFYWNoQ2hpbGQoKHQscik9PntuPWUobix0LHIpfSksbn1fYWxsQ29udHJvbHNEaXNhYmxlZCgpe2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHRoaXMuY29udHJvbHMpKWlmKHRoaXMuY29udHJvbHNbdF0uZW5hYmxlZClyZXR1cm4hMTtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5jb250cm9scykubGVuZ3RoPjB8fHRoaXMuZGlzYWJsZWR9X2NoZWNrQWxsVmFsdWVzUHJlc2VudCh0KXt0aGlzLl9mb3JFYWNoQ2hpbGQoKGUsbik9PntpZih2b2lkIDA9PT10W25dKXRocm93IG5ldyBFcnJvcihgTXVzdCBzdXBwbHkgYSB2YWx1ZSBmb3IgZm9ybSBjb250cm9sIHdpdGggbmFtZTogJyR7bn0nLmApfSl9fWNsYXNzIGVwIGV4dGVuZHMgWGR7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKEdkKGUpLEtkKG4sZSkpLHRoaXMuY29udHJvbHM9dCx0aGlzLl9pbml0T2JzZXJ2YWJsZXMoKSx0aGlzLl9zZXRVcGRhdGVTdHJhdGVneShlKSx0aGlzLl9zZXRVcENvbnRyb2xzKCksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtvbmx5U2VsZjohMCxlbWl0RXZlbnQ6ISF0aGlzLmFzeW5jVmFsaWRhdG9yfSl9YXQodCl7cmV0dXJuIHRoaXMuY29udHJvbHNbdF19cHVzaCh0LGU9e30pe3RoaXMuY29udHJvbHMucHVzaCh0KSx0aGlzLl9yZWdpc3RlckNvbnRyb2wodCksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6ZS5lbWl0RXZlbnR9KSx0aGlzLl9vbkNvbGxlY3Rpb25DaGFuZ2UoKX1pbnNlcnQodCxlLG49e30pe3RoaXMuY29udHJvbHMuc3BsaWNlKHQsMCxlKSx0aGlzLl9yZWdpc3RlckNvbnRyb2woZSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6bi5lbWl0RXZlbnR9KX1yZW1vdmVBdCh0LGU9e30pe3RoaXMuY29udHJvbHNbdF0mJnRoaXMuY29udHJvbHNbdF0uX3JlZ2lzdGVyT25Db2xsZWN0aW9uQ2hhbmdlKCgpPT57fSksdGhpcy5jb250cm9scy5zcGxpY2UodCwxKSx0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDplLmVtaXRFdmVudH0pfXNldENvbnRyb2wodCxlLG49e30pe3RoaXMuY29udHJvbHNbdF0mJnRoaXMuY29udHJvbHNbdF0uX3JlZ2lzdGVyT25Db2xsZWN0aW9uQ2hhbmdlKCgpPT57fSksdGhpcy5jb250cm9scy5zcGxpY2UodCwxKSxlJiYodGhpcy5jb250cm9scy5zcGxpY2UodCwwLGUpLHRoaXMuX3JlZ2lzdGVyQ29udHJvbChlKSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6bi5lbWl0RXZlbnR9KSx0aGlzLl9vbkNvbGxlY3Rpb25DaGFuZ2UoKX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuY29udHJvbHMubGVuZ3RofXNldFZhbHVlKHQsZT17fSl7dGhpcy5fY2hlY2tBbGxWYWx1ZXNQcmVzZW50KHQpLHQuZm9yRWFjaCgodCxuKT0+e3RoaXMuX3Rocm93SWZDb250cm9sTWlzc2luZyhuKSx0aGlzLmF0KG4pLnNldFZhbHVlKHQse29ubHlTZWxmOiEwLGVtaXRFdmVudDplLmVtaXRFdmVudH0pfSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KGUpfXBhdGNoVmFsdWUodCxlPXt9KXtudWxsIT10JiYodC5mb3JFYWNoKCh0LG4pPT57dGhpcy5hdChuKSYmdGhpcy5hdChuKS5wYXRjaFZhbHVlKHQse29ubHlTZWxmOiEwLGVtaXRFdmVudDplLmVtaXRFdmVudH0pfSksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KGUpKX1yZXNldCh0PVtdLGU9e30pe3RoaXMuX2ZvckVhY2hDaGlsZCgobixyKT0+e24ucmVzZXQodFtyXSx7b25seVNlbGY6ITAsZW1pdEV2ZW50OmUuZW1pdEV2ZW50fSl9KSx0aGlzLl91cGRhdGVQcmlzdGluZShlKSx0aGlzLl91cGRhdGVUb3VjaGVkKGUpLHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eShlKX1nZXRSYXdWYWx1ZSgpe3JldHVybiB0aGlzLmNvbnRyb2xzLm1hcCh0PT50IGluc3RhbmNlb2YgSmQ/dC52YWx1ZTp0LmdldFJhd1ZhbHVlKCkpfWNsZWFyKHQ9e30pe3RoaXMuY29udHJvbHMubGVuZ3RoPDF8fCh0aGlzLl9mb3JFYWNoQ2hpbGQodD0+dC5fcmVnaXN0ZXJPbkNvbGxlY3Rpb25DaGFuZ2UoKCk9Pnt9KSksdGhpcy5jb250cm9scy5zcGxpY2UoMCksdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHtlbWl0RXZlbnQ6dC5lbWl0RXZlbnR9KSl9X3N5bmNQZW5kaW5nQ29udHJvbHMoKXtsZXQgdD10aGlzLmNvbnRyb2xzLnJlZHVjZSgodCxlKT0+ISFlLl9zeW5jUGVuZGluZ0NvbnRyb2xzKCl8fHQsITEpO3JldHVybiB0JiZ0aGlzLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe29ubHlTZWxmOiEwfSksdH1fdGhyb3dJZkNvbnRyb2xNaXNzaW5nKHQpe2lmKCF0aGlzLmNvbnRyb2xzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIlxuICAgICAgICBUaGVyZSBhcmUgbm8gZm9ybSBjb250cm9scyByZWdpc3RlcmVkIHdpdGggdGhpcyBhcnJheSB5ZXQuIElmIHlvdSdyZSB1c2luZyBuZ01vZGVsLFxuICAgICAgICB5b3UgbWF5IHdhbnQgdG8gY2hlY2sgbmV4dCB0aWNrIChlLmcuIHVzZSBzZXRUaW1lb3V0KS5cbiAgICAgICIpO2lmKCF0aGlzLmF0KHQpKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgZm9ybSBjb250cm9sIGF0IGluZGV4ICR7dH1gKX1fZm9yRWFjaENoaWxkKHQpe3RoaXMuY29udHJvbHMuZm9yRWFjaCgoZSxuKT0+e3QoZSxuKX0pfV91cGRhdGVWYWx1ZSgpe3RoaXMudmFsdWU9dGhpcy5jb250cm9scy5maWx0ZXIodD0+dC5lbmFibGVkfHx0aGlzLmRpc2FibGVkKS5tYXAodD0+dC52YWx1ZSl9X2FueUNvbnRyb2xzKHQpe3JldHVybiB0aGlzLmNvbnRyb2xzLnNvbWUoZT0+ZS5lbmFibGVkJiZ0KGUpKX1fc2V0VXBDb250cm9scygpe3RoaXMuX2ZvckVhY2hDaGlsZCh0PT50aGlzLl9yZWdpc3RlckNvbnRyb2wodCkpfV9jaGVja0FsbFZhbHVlc1ByZXNlbnQodCl7dGhpcy5fZm9yRWFjaENoaWxkKChlLG4pPT57aWYodm9pZCAwPT09dFtuXSl0aHJvdyBuZXcgRXJyb3IoYE11c3Qgc3VwcGx5IGEgdmFsdWUgZm9yIGZvcm0gY29udHJvbCBhdCBpbmRleDogJHtufS5gKX0pfV9hbGxDb250cm9sc0Rpc2FibGVkKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5jb250cm9scylpZih0LmVuYWJsZWQpcmV0dXJuITE7cmV0dXJuIHRoaXMuY29udHJvbHMubGVuZ3RoPjB8fHRoaXMuZGlzYWJsZWR9X3JlZ2lzdGVyQ29udHJvbCh0KXt0LnNldFBhcmVudCh0aGlzKSx0Ll9yZWdpc3Rlck9uQ29sbGVjdGlvbkNoYW5nZSh0aGlzLl9vbkNvbGxlY3Rpb25DaGFuZ2UpfX1jb25zdCBucD17cHJvdmlkZTpOZCx1c2VFeGlzdGluZzpzdCgoKT0+c3ApfSxycD0oKCk9PlByb21pc2UucmVzb2x2ZShudWxsKSkoKTtsZXQgc3A9KCgpPT57Y2xhc3MgdCBleHRlbmRzIE5ke2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKCksdGhpcy5jb250cm9sPW5ldyBKZCx0aGlzLl9yZWdpc3RlcmVkPSExLHRoaXMudXBkYXRlPW5ldyBFbCx0aGlzLl9wYXJlbnQ9dCx0aGlzLl9zZXRWYWxpZGF0b3JzKGUpLHRoaXMuX3NldEFzeW5jVmFsaWRhdG9ycyhuKSx0aGlzLnZhbHVlQWNjZXNzb3I9ZnVuY3Rpb24odCxlKXtpZighZSlyZXR1cm4gbnVsbDtsZXQgbixyLHM7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSksZS5mb3JFYWNoKHQ9Pnt0LmNvbnN0cnVjdG9yPT09QWQ/bj10Ok9iamVjdC5nZXRQcm90b3R5cGVPZih0LmNvbnN0cnVjdG9yKT09PXdkP3I9dDpzPXR9KSxzfHxyfHxufHxudWxsfSgwLHIpfW5nT25DaGFuZ2VzKHQpe3RoaXMuX2NoZWNrRm9yRXJyb3JzKCksdGhpcy5fcmVnaXN0ZXJlZHx8dGhpcy5fc2V0VXBDb250cm9sKCksImlzRGlzYWJsZWQiaW4gdCYmdGhpcy5fdXBkYXRlRGlzYWJsZWQodCksZnVuY3Rpb24odCxlKXtpZighdC5oYXNPd25Qcm9wZXJ0eSgibW9kZWwiKSlyZXR1cm4hMTtjb25zdCBuPXQubW9kZWw7cmV0dXJuISFuLmlzRmlyc3RDaGFuZ2UoKXx8IU9iamVjdC5pcyhlLG4uY3VycmVudFZhbHVlKX0odCx0aGlzLnZpZXdNb2RlbCkmJih0aGlzLl91cGRhdGVWYWx1ZSh0aGlzLm1vZGVsKSx0aGlzLnZpZXdNb2RlbD10aGlzLm1vZGVsKX1uZ09uRGVzdHJveSgpe3RoaXMuZm9ybURpcmVjdGl2ZSYmdGhpcy5mb3JtRGlyZWN0aXZlLnJlbW92ZUNvbnRyb2wodGhpcyl9Z2V0IHBhdGgoKXtyZXR1cm4gdGhpcy5fcGFyZW50P1suLi50aGlzLl9wYXJlbnQucGF0aCx0aGlzLm5hbWVdOlt0aGlzLm5hbWVdfWdldCBmb3JtRGlyZWN0aXZlKCl7cmV0dXJuIHRoaXMuX3BhcmVudD90aGlzLl9wYXJlbnQuZm9ybURpcmVjdGl2ZTpudWxsfXZpZXdUb01vZGVsVXBkYXRlKHQpe3RoaXMudmlld01vZGVsPXQsdGhpcy51cGRhdGUuZW1pdCh0KX1fc2V0VXBDb250cm9sKCl7dGhpcy5fc2V0VXBkYXRlU3RyYXRlZ3koKSx0aGlzLl9pc1N0YW5kYWxvbmUoKT90aGlzLl9zZXRVcFN0YW5kYWxvbmUoKTp0aGlzLmZvcm1EaXJlY3RpdmUuYWRkQ29udHJvbCh0aGlzKSx0aGlzLl9yZWdpc3RlcmVkPSEwfV9zZXRVcGRhdGVTdHJhdGVneSgpe3RoaXMub3B0aW9ucyYmbnVsbCE9dGhpcy5vcHRpb25zLnVwZGF0ZU9uJiYodGhpcy5jb250cm9sLl91cGRhdGVPbj10aGlzLm9wdGlvbnMudXBkYXRlT24pfV9pc1N0YW5kYWxvbmUoKXtyZXR1cm4hdGhpcy5fcGFyZW50fHwhKCF0aGlzLm9wdGlvbnN8fCF0aGlzLm9wdGlvbnMuc3RhbmRhbG9uZSl9X3NldFVwU3RhbmRhbG9uZSgpe3ZhciB0LGU7KGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5fcmF3VmFsaWRhdG9yc30odCk7bnVsbCE9PWUudmFsaWRhdG9yP3Quc2V0VmFsaWRhdG9ycyhNZChuLGUudmFsaWRhdG9yKSk6ImZ1bmN0aW9uIj09dHlwZW9mIG4mJnQuc2V0VmFsaWRhdG9ycyhbbl0pO2NvbnN0IHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQuX3Jhd0FzeW5jVmFsaWRhdG9yc30odCk7bnVsbCE9PWUuYXN5bmNWYWxpZGF0b3I/dC5zZXRBc3luY1ZhbGlkYXRvcnMoTWQocixlLmFzeW5jVmFsaWRhdG9yKSk6ImZ1bmN0aW9uIj09dHlwZW9mIHImJnQuc2V0QXN5bmNWYWxpZGF0b3JzKFtyXSk7Y29uc3Qgcz0oKT0+dC51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KCk7QmQoZS5fcmF3VmFsaWRhdG9ycyxzKSxCZChlLl9yYXdBc3luY1ZhbGlkYXRvcnMscyl9KSh0PXRoaXMuY29udHJvbCxlPXRoaXMpLGUudmFsdWVBY2Nlc3Nvci53cml0ZVZhbHVlKHQudmFsdWUpLGZ1bmN0aW9uKHQsZSl7ZS52YWx1ZUFjY2Vzc29yLnJlZ2lzdGVyT25DaGFuZ2Uobj0+e3QuX3BlbmRpbmdWYWx1ZT1uLHQuX3BlbmRpbmdDaGFuZ2U9ITAsdC5fcGVuZGluZ0RpcnR5PSEwLCJjaGFuZ2UiPT09dC51cGRhdGVPbiYmVWQodCxlKX0pfSh0LGUpLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj0odCxuKT0+e2UudmFsdWVBY2Nlc3Nvci53cml0ZVZhbHVlKHQpLG4mJmUudmlld1RvTW9kZWxVcGRhdGUodCl9O3QucmVnaXN0ZXJPbkNoYW5nZShuKSxlLl9yZWdpc3Rlck9uRGVzdHJveSgoKT0+e3QuX3VucmVnaXN0ZXJPbkNoYW5nZShuKX0pfSh0LGUpLGZ1bmN0aW9uKHQsZSl7ZS52YWx1ZUFjY2Vzc29yLnJlZ2lzdGVyT25Ub3VjaGVkKCgpPT57dC5fcGVuZGluZ1RvdWNoZWQ9ITAsImJsdXIiPT09dC51cGRhdGVPbiYmdC5fcGVuZGluZ0NoYW5nZSYmVWQodCxlKSwic3VibWl0IiE9PXQudXBkYXRlT24mJnQubWFya0FzVG91Y2hlZCgpfSl9KHQsZSksZnVuY3Rpb24odCxlKXtpZihlLnZhbHVlQWNjZXNzb3Iuc2V0RGlzYWJsZWRTdGF0ZSl7Y29uc3Qgbj10PT57ZS52YWx1ZUFjY2Vzc29yLnNldERpc2FibGVkU3RhdGUodCl9O3QucmVnaXN0ZXJPbkRpc2FibGVkQ2hhbmdlKG4pLGUuX3JlZ2lzdGVyT25EZXN0cm95KCgpPT57dC5fdW5yZWdpc3Rlck9uRGlzYWJsZWRDaGFuZ2Uobil9KX19KHQsZSksdGhpcy5jb250cm9sLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoe2VtaXRFdmVudDohMX0pfV9jaGVja0ZvckVycm9ycygpe3RoaXMuX2lzU3RhbmRhbG9uZSgpfHx0aGlzLl9jaGVja1BhcmVudFR5cGUoKSx0aGlzLl9jaGVja05hbWUoKX1fY2hlY2tQYXJlbnRUeXBlKCl7fV9jaGVja05hbWUoKXt0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5uYW1lJiYodGhpcy5uYW1lPXRoaXMub3B0aW9ucy5uYW1lKSx0aGlzLl9pc1N0YW5kYWxvbmUoKX1fdXBkYXRlVmFsdWUodCl7cnAudGhlbigoKT0+e3RoaXMuY29udHJvbC5zZXRWYWx1ZSh0LHtlbWl0Vmlld1RvTW9kZWxDaGFuZ2U6ITF9KX0pfV91cGRhdGVEaXNhYmxlZCh0KXtjb25zdCBlPXQuaXNEaXNhYmxlZC5jdXJyZW50VmFsdWUsbj0iIj09PWV8fGUmJiJmYWxzZSIhPT1lO3JwLnRoZW4oKCk9PntuJiYhdGhpcy5jb250cm9sLmRpc2FibGVkP3RoaXMuY29udHJvbC5kaXNhYmxlKCk6IW4mJnRoaXMuY29udHJvbC5kaXNhYmxlZCYmdGhpcy5jb250cm9sLmVuYWJsZSgpfSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhvKGpkLDkpLGhvKFNkLDEwKSxobyh4ZCwxMCksaG8oQ2QsMTApKX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwibmdNb2RlbCIsIiIsMywiZm9ybUNvbnRyb2xOYW1lIiwiIiwzLCJmb3JtQ29udHJvbCIsIiJdXSxpbnB1dHM6e25hbWU6Im5hbWUiLGlzRGlzYWJsZWQ6WyJkaXNhYmxlZCIsImlzRGlzYWJsZWQiXSxtb2RlbDpbIm5nTW9kZWwiLCJtb2RlbCJdLG9wdGlvbnM6WyJuZ01vZGVsT3B0aW9ucyIsIm9wdGlvbnMiXX0sb3V0cHV0czp7dXBkYXRlOiJuZ01vZGVsQ2hhbmdlIn0sZXhwb3J0QXM6WyJuZ01vZGVsIl0sZmVhdHVyZXM6W2RhKFtucF0pLEtpLGxlXX0pLHR9KSgpLGlwPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe30pLHR9KSgpO2NvbnN0IG9wPXtwcm92aWRlOkNkLHVzZUV4aXN0aW5nOnN0KCgpPT5scCksbXVsdGk6ITB9O2Z1bmN0aW9uIGFwKHQsZSl7cmV0dXJuIG51bGw9PXQ/YCR7ZX1gOihlJiYib2JqZWN0Ij09dHlwZW9mIGUmJihlPSJPYmplY3QiKSxgJHt0fTogJHtlfWAuc2xpY2UoMCw1MCkpfWxldCBscD0oKCk9PntjbGFzcyB0IGV4dGVuZHMgd2R7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX29wdGlvbk1hcD1uZXcgTWFwLHRoaXMuX2lkQ291bnRlcj0wLHRoaXMuX2NvbXBhcmVXaXRoPU9iamVjdC5pc31zZXQgY29tcGFyZVdpdGgodCl7dGhpcy5fY29tcGFyZVdpdGg9dH13cml0ZVZhbHVlKHQpe3RoaXMudmFsdWU9dDtjb25zdCBlPXRoaXMuX2dldE9wdGlvbklkKHQpO251bGw9PWUmJnRoaXMuc2V0UHJvcGVydHkoInNlbGVjdGVkSW5kZXgiLC0xKTtjb25zdCBuPWFwKGUsdCk7dGhpcy5zZXRQcm9wZXJ0eSgidmFsdWUiLG4pfXJlZ2lzdGVyT25DaGFuZ2UodCl7dGhpcy5vbkNoYW5nZT1lPT57dGhpcy52YWx1ZT10aGlzLl9nZXRPcHRpb25WYWx1ZShlKSx0KHRoaXMudmFsdWUpfX1fcmVnaXN0ZXJPcHRpb24oKXtyZXR1cm4odGhpcy5faWRDb3VudGVyKyspLnRvU3RyaW5nKCl9X2dldE9wdGlvbklkKHQpe2Zvcihjb25zdCBlIG9mIEFycmF5LmZyb20odGhpcy5fb3B0aW9uTWFwLmtleXMoKSkpaWYodGhpcy5fY29tcGFyZVdpdGgodGhpcy5fb3B0aW9uTWFwLmdldChlKSx0KSlyZXR1cm4gZTtyZXR1cm4gbnVsbH1fZ2V0T3B0aW9uVmFsdWUodCl7Y29uc3QgZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5zcGxpdCgiOiIpWzBdfSh0KTtyZXR1cm4gdGhpcy5fb3B0aW9uTWFwLmhhcyhlKT90aGlzLl9vcHRpb25NYXAuZ2V0KGUpOnR9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbigpe2xldCBlO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oZXx8KGU9TG4odCkpKShufHx0KX19KCksdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxzZWxlY3RvcnM6W1sic2VsZWN0IiwiZm9ybUNvbnRyb2xOYW1lIiwiIiwzLCJtdWx0aXBsZSIsIiJdLFsic2VsZWN0IiwiZm9ybUNvbnRyb2wiLCIiLDMsIm11bHRpcGxlIiwiIl0sWyJzZWxlY3QiLCJuZ01vZGVsIiwiIiwzLCJtdWx0aXBsZSIsIiJdXSxob3N0QmluZGluZ3M6ZnVuY3Rpb24odCxlKXsxJnQmJkNvKCJjaGFuZ2UiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uQ2hhbmdlKHQudGFyZ2V0LnZhbHVlKX0pKCJibHVyIixmdW5jdGlvbigpe3JldHVybiBlLm9uVG91Y2hlZCgpfSl9LGlucHV0czp7Y29tcGFyZVdpdGg6ImNvbXBhcmVXaXRoIn0sZmVhdHVyZXM6W2RhKFtvcF0pLEtpXX0pLHR9KSgpLHVwPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMuX2VsZW1lbnQ9dCx0aGlzLl9yZW5kZXJlcj1lLHRoaXMuX3NlbGVjdD1uLHRoaXMuX3NlbGVjdCYmKHRoaXMuaWQ9dGhpcy5fc2VsZWN0Ll9yZWdpc3Rlck9wdGlvbigpKX1zZXQgbmdWYWx1ZSh0KXtudWxsIT10aGlzLl9zZWxlY3QmJih0aGlzLl9zZWxlY3QuX29wdGlvbk1hcC5zZXQodGhpcy5pZCx0KSx0aGlzLl9zZXRFbGVtZW50VmFsdWUoYXAodGhpcy5pZCx0KSksdGhpcy5fc2VsZWN0LndyaXRlVmFsdWUodGhpcy5fc2VsZWN0LnZhbHVlKSl9c2V0IHZhbHVlKHQpe3RoaXMuX3NldEVsZW1lbnRWYWx1ZSh0KSx0aGlzLl9zZWxlY3QmJnRoaXMuX3NlbGVjdC53cml0ZVZhbHVlKHRoaXMuX3NlbGVjdC52YWx1ZSl9X3NldEVsZW1lbnRWYWx1ZSh0KXt0aGlzLl9yZW5kZXJlci5zZXRQcm9wZXJ0eSh0aGlzLl9lbGVtZW50Lm5hdGl2ZUVsZW1lbnQsInZhbHVlIix0KX1uZ09uRGVzdHJveSgpe3RoaXMuX3NlbGVjdCYmKHRoaXMuX3NlbGVjdC5fb3B0aW9uTWFwLmRlbGV0ZSh0aGlzLmlkKSx0aGlzLl9zZWxlY3Qud3JpdGVWYWx1ZSh0aGlzLl9zZWxlY3QudmFsdWUpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaG8oYmEpLGhvKENhKSxobyhscCw5KSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIm9wdGlvbiJdXSxpbnB1dHM6e25nVmFsdWU6Im5nVmFsdWUiLHZhbHVlOiJ2YWx1ZSJ9fSksdH0pKCk7Y29uc3QgY3A9e3Byb3ZpZGU6Q2QsdXNlRXhpc3Rpbmc6c3QoKCk9PmRwKSxtdWx0aTohMH07ZnVuY3Rpb24gaHAodCxlKXtyZXR1cm4gbnVsbD09dD9gJHtlfWA6KCJzdHJpbmciPT10eXBlb2YgZSYmKGU9YCcke2V9J2ApLGUmJiJvYmplY3QiPT10eXBlb2YgZSYmKGU9Ik9iamVjdCIpLGAke3R9OiAke2V9YC5zbGljZSgwLDUwKSl9bGV0IGRwPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyB3ZHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fb3B0aW9uTWFwPW5ldyBNYXAsdGhpcy5faWRDb3VudGVyPTAsdGhpcy5fY29tcGFyZVdpdGg9T2JqZWN0LmlzfXNldCBjb21wYXJlV2l0aCh0KXt0aGlzLl9jb21wYXJlV2l0aD10fXdyaXRlVmFsdWUodCl7bGV0IGU7aWYodGhpcy52YWx1ZT10LEFycmF5LmlzQXJyYXkodCkpe2NvbnN0IG49dC5tYXAodD0+dGhpcy5fZ2V0T3B0aW9uSWQodCkpO2U9KHQsZSk9Pnt0Ll9zZXRTZWxlY3RlZChuLmluZGV4T2YoZS50b1N0cmluZygpKT4tMSl9fWVsc2UgZT0odCxlKT0+e3QuX3NldFNlbGVjdGVkKCExKX07dGhpcy5fb3B0aW9uTWFwLmZvckVhY2goZSl9cmVnaXN0ZXJPbkNoYW5nZSh0KXt0aGlzLm9uQ2hhbmdlPWU9Pntjb25zdCBuPVtdO2lmKHZvaWQgMCE9PWUuc2VsZWN0ZWRPcHRpb25zKXtjb25zdCB0PWUuc2VsZWN0ZWRPcHRpb25zO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCByPXQuaXRlbShlKSxzPXRoaXMuX2dldE9wdGlvblZhbHVlKHIudmFsdWUpO24ucHVzaChzKX19ZWxzZXtjb25zdCB0PWUub3B0aW9ucztmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgcj10Lml0ZW0oZSk7aWYoci5zZWxlY3RlZCl7Y29uc3QgdD10aGlzLl9nZXRPcHRpb25WYWx1ZShyLnZhbHVlKTtuLnB1c2godCl9fX10aGlzLnZhbHVlPW4sdChuKX19X3JlZ2lzdGVyT3B0aW9uKHQpe2NvbnN0IGU9KHRoaXMuX2lkQ291bnRlcisrKS50b1N0cmluZygpO3JldHVybiB0aGlzLl9vcHRpb25NYXAuc2V0KGUsdCksZX1fZ2V0T3B0aW9uSWQodCl7Zm9yKGNvbnN0IGUgb2YgQXJyYXkuZnJvbSh0aGlzLl9vcHRpb25NYXAua2V5cygpKSlpZih0aGlzLl9jb21wYXJlV2l0aCh0aGlzLl9vcHRpb25NYXAuZ2V0KGUpLl92YWx1ZSx0KSlyZXR1cm4gZTtyZXR1cm4gbnVsbH1fZ2V0T3B0aW9uVmFsdWUodCl7Y29uc3QgZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5zcGxpdCgiOiIpWzBdfSh0KTtyZXR1cm4gdGhpcy5fb3B0aW9uTWFwLmhhcyhlKT90aGlzLl9vcHRpb25NYXAuZ2V0KGUpLl92YWx1ZTp0fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oKXtsZXQgZTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKGV8fChlPUxuKHQpKSkobnx8dCl9fSgpLHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsc2VsZWN0b3JzOltbInNlbGVjdCIsIm11bHRpcGxlIiwiIiwiZm9ybUNvbnRyb2xOYW1lIiwiIl0sWyJzZWxlY3QiLCJtdWx0aXBsZSIsIiIsImZvcm1Db250cm9sIiwiIl0sWyJzZWxlY3QiLCJtdWx0aXBsZSIsIiIsIm5nTW9kZWwiLCIiXV0saG9zdEJpbmRpbmdzOmZ1bmN0aW9uKHQsZSl7MSZ0JiZDbygiY2hhbmdlIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbkNoYW5nZSh0LnRhcmdldCl9KSgiYmx1ciIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vblRvdWNoZWQoKX0pfSxpbnB1dHM6e2NvbXBhcmVXaXRoOiJjb21wYXJlV2l0aCJ9LGZlYXR1cmVzOltkYShbY3BdKSxLaV19KSx0fSkoKSxwcD0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLl9lbGVtZW50PXQsdGhpcy5fcmVuZGVyZXI9ZSx0aGlzLl9zZWxlY3Q9bix0aGlzLl9zZWxlY3QmJih0aGlzLmlkPXRoaXMuX3NlbGVjdC5fcmVnaXN0ZXJPcHRpb24odGhpcykpfXNldCBuZ1ZhbHVlKHQpe251bGwhPXRoaXMuX3NlbGVjdCYmKHRoaXMuX3ZhbHVlPXQsdGhpcy5fc2V0RWxlbWVudFZhbHVlKGhwKHRoaXMuaWQsdCkpLHRoaXMuX3NlbGVjdC53cml0ZVZhbHVlKHRoaXMuX3NlbGVjdC52YWx1ZSkpfXNldCB2YWx1ZSh0KXt0aGlzLl9zZWxlY3Q/KHRoaXMuX3ZhbHVlPXQsdGhpcy5fc2V0RWxlbWVudFZhbHVlKGhwKHRoaXMuaWQsdCkpLHRoaXMuX3NlbGVjdC53cml0ZVZhbHVlKHRoaXMuX3NlbGVjdC52YWx1ZSkpOnRoaXMuX3NldEVsZW1lbnRWYWx1ZSh0KX1fc2V0RWxlbWVudFZhbHVlKHQpe3RoaXMuX3JlbmRlcmVyLnNldFByb3BlcnR5KHRoaXMuX2VsZW1lbnQubmF0aXZlRWxlbWVudCwidmFsdWUiLHQpfV9zZXRTZWxlY3RlZCh0KXt0aGlzLl9yZW5kZXJlci5zZXRQcm9wZXJ0eSh0aGlzLl9lbGVtZW50Lm5hdGl2ZUVsZW1lbnQsInNlbGVjdGVkIix0KX1uZ09uRGVzdHJveSgpe3RoaXMuX3NlbGVjdCYmKHRoaXMuX3NlbGVjdC5fb3B0aW9uTWFwLmRlbGV0ZSh0aGlzLmlkKSx0aGlzLl9zZWxlY3Qud3JpdGVWYWx1ZSh0aGlzLl9zZWxlY3QudmFsdWUpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaG8oYmEpLGhvKENhKSxobyhkcCw5KSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsc2VsZWN0b3JzOltbIm9wdGlvbiJdXSxpbnB1dHM6e25nVmFsdWU6Im5nVmFsdWUiLHZhbHVlOiJ2YWx1ZSJ9fSksdH0pKCksZnA9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW2lwXV19KSx0fSkoKSxncD0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltmcF19KSx0fSkoKTtjb25zdCBtcD1uZXcgUWgoWmgpO2Z1bmN0aW9uIHlwKHQpe3JldHVybiFsKHQpJiZ0LXBhcnNlRmxvYXQodCkrMT49MH1mdW5jdGlvbiB2cCh0KXtjb25zdHtpbmRleDplLHBlcmlvZDpuLHN1YnNjcmliZXI6cn09dDtpZihyLm5leHQoZSksIXIuY2xvc2VkKXtpZigtMT09PW4pcmV0dXJuIHIuY29tcGxldGUoKTt0LmluZGV4PWUrMSx0aGlzLnNjaGVkdWxlKHQsbil9fWZ1bmN0aW9uIGJwKHQsZT1udWxsKXtyZXR1cm57dHlwZTo0LHN0eWxlczplLHRpbWluZ3M6dH19ZnVuY3Rpb24gX3AodCl7cmV0dXJue3R5cGU6NixzdHlsZXM6dCxvZmZzZXQ6bnVsbH19ZnVuY3Rpb24gd3AodCxlLG49bnVsbCl7cmV0dXJue3R5cGU6MSxleHByOnQsYW5pbWF0aW9uOmUsb3B0aW9uczpufX1jbGFzcyBDcCBleHRlbmRzIEV7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLl92YWx1ZT10fWdldCB2YWx1ZSgpe3JldHVybiB0aGlzLmdldFZhbHVlKCl9X3N1YnNjcmliZSh0KXtjb25zdCBlPXN1cGVyLl9zdWJzY3JpYmUodCk7cmV0dXJuIGUmJiFlLmNsb3NlZCYmdC5uZXh0KHRoaXMuX3ZhbHVlKSxlfWdldFZhbHVlKCl7aWYodGhpcy5oYXNFcnJvcil0aHJvdyB0aGlzLnRocm93bkVycm9yO2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBfO3JldHVybiB0aGlzLl92YWx1ZX1uZXh0KHQpe3N1cGVyLm5leHQodGhpcy5fdmFsdWU9dCl9fWNsYXNzIEVwIGV4dGVuZHMgZntub3RpZnlOZXh0KHQsZSxuLHIscyl7dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpfW5vdGlmeUVycm9yKHQsZSl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX1ub3RpZnlDb21wbGV0ZSh0KXt0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9fWNsYXNzIERwIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIoKSx0aGlzLnBhcmVudD10LHRoaXMub3V0ZXJWYWx1ZT1lLHRoaXMub3V0ZXJJbmRleD1uLHRoaXMuaW5kZXg9MH1fbmV4dCh0KXt0aGlzLnBhcmVudC5ub3RpZnlOZXh0KHRoaXMub3V0ZXJWYWx1ZSx0LHRoaXMub3V0ZXJJbmRleCx0aGlzLmluZGV4KyssdGhpcyl9X2Vycm9yKHQpe3RoaXMucGFyZW50Lm5vdGlmeUVycm9yKHQsdGhpcyksdGhpcy51bnN1YnNjcmliZSgpfV9jb21wbGV0ZSgpe3RoaXMucGFyZW50Lm5vdGlmeUNvbXBsZXRlKHRoaXMpLHRoaXMudW5zdWJzY3JpYmUoKX19ZnVuY3Rpb24gQXAodCxlLG4scixzPW5ldyBEcCh0LG4scikpe2lmKCFzLmNsb3NlZClyZXR1cm4gZSBpbnN0YW5jZW9mIHY/ZS5zdWJzY3JpYmUocyk6UihlKShzKX1jb25zdCBTcD17fTtjbGFzcyB4cHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnJlc3VsdFNlbGVjdG9yPXR9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcga3AodCx0aGlzLnJlc3VsdFNlbGVjdG9yKSl9fWNsYXNzIGtwIGV4dGVuZHMgRXB7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLnJlc3VsdFNlbGVjdG9yPWUsdGhpcy5hY3RpdmU9MCx0aGlzLnZhbHVlcz1bXSx0aGlzLm9ic2VydmFibGVzPVtdfV9uZXh0KHQpe3RoaXMudmFsdWVzLnB1c2goU3ApLHRoaXMub2JzZXJ2YWJsZXMucHVzaCh0KX1fY29tcGxldGUoKXtjb25zdCB0PXRoaXMub2JzZXJ2YWJsZXMsZT10Lmxlbmd0aDtpZigwPT09ZSl0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7ZWxzZXt0aGlzLmFjdGl2ZT1lLHRoaXMudG9SZXNwb25kPWU7Zm9yKGxldCBuPTA7bjxlO24rKyl0aGlzLmFkZChBcCh0aGlzLHRbbl0sdm9pZCAwLG4pKX19bm90aWZ5Q29tcGxldGUodCl7MD09KHRoaXMuYWN0aXZlLT0xKSYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfW5vdGlmeU5leHQodCxlLG4pe2NvbnN0IHI9dGhpcy52YWx1ZXMscz10aGlzLnRvUmVzcG9uZD9yW25dPT09U3A/LS10aGlzLnRvUmVzcG9uZDp0aGlzLnRvUmVzcG9uZDowO3Jbbl09ZSwwPT09cyYmKHRoaXMucmVzdWx0U2VsZWN0b3I/dGhpcy5fdHJ5UmVzdWx0U2VsZWN0b3Iocik6dGhpcy5kZXN0aW5hdGlvbi5uZXh0KHIuc2xpY2UoKSkpfV90cnlSZXN1bHRTZWxlY3Rvcih0KXtsZXQgZTt0cnl7ZT10aGlzLnJlc3VsdFNlbGVjdG9yLmFwcGx5KHRoaXMsdCl9Y2F0Y2gobil7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihuKX10aGlzLmRlc3RpbmF0aW9uLm5leHQoZSl9fWNvbnN0IFRwPSgoKT0+e2Z1bmN0aW9uIHQoKXtyZXR1cm4gRXJyb3IuY2FsbCh0aGlzKSx0aGlzLm1lc3NhZ2U9Im5vIGVsZW1lbnRzIGluIHNlcXVlbmNlIix0aGlzLm5hbWU9IkVtcHR5RXJyb3IiLHRoaXN9cmV0dXJuIHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSx0fSkoKTtmdW5jdGlvbiBPcCguLi50KXtyZXR1cm4gJCgxKShuZCguLi50KSl9ZnVuY3Rpb24gRnAodCl7cmV0dXJuIG5ldyB2KGU9PntsZXQgbjt0cnl7bj10KCl9Y2F0Y2gocil7cmV0dXJuIHZvaWQgZS5lcnJvcihyKX1yZXR1cm4obj9WKG4pOmVkKCkpLnN1YnNjcmliZShlKX0pfWNvbnN0IFBwPSgoKT0+e2Z1bmN0aW9uIHQoKXtyZXR1cm4gRXJyb3IuY2FsbCh0aGlzKSx0aGlzLm1lc3NhZ2U9ImFyZ3VtZW50IG91dCBvZiByYW5nZSIsdGhpcy5uYW1lPSJBcmd1bWVudE91dE9mUmFuZ2VFcnJvciIsdGhpc31yZXR1cm4gdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLHR9KSgpO2Z1bmN0aW9uIElwKHQpe3JldHVybiBlPT4wPT09dD9lZCgpOmUubGlmdChuZXcgUnAodCkpfWNsYXNzIFJwe2NvbnN0cnVjdG9yKHQpe2lmKHRoaXMudG90YWw9dCx0aGlzLnRvdGFsPDApdGhyb3cgbmV3IFBwfWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IE1wKHQsdGhpcy50b3RhbCkpfX1jbGFzcyBNcCBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLnRvdGFsPWUsdGhpcy5jb3VudD0wfV9uZXh0KHQpe2NvbnN0IGU9dGhpcy50b3RhbCxuPSsrdGhpcy5jb3VudDtuPD1lJiYodGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpLG49PT1lJiYodGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKSkpfX1mdW5jdGlvbiBWcCh0LGUpe2xldCBuPSExO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPj0yJiYobj0hMCksZnVuY3Rpb24ocil7cmV0dXJuIHIubGlmdChuZXcganAodCxlLG4pKX19Y2xhc3MganB7Y29uc3RydWN0b3IodCxlLG49ITEpe3RoaXMuYWNjdW11bGF0b3I9dCx0aGlzLnNlZWQ9ZSx0aGlzLmhhc1NlZWQ9bn1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyBOcCh0LHRoaXMuYWNjdW11bGF0b3IsdGhpcy5zZWVkLHRoaXMuaGFzU2VlZCkpfX1jbGFzcyBOcCBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4scil7c3VwZXIodCksdGhpcy5hY2N1bXVsYXRvcj1lLHRoaXMuX3NlZWQ9bix0aGlzLmhhc1NlZWQ9cix0aGlzLmluZGV4PTB9Z2V0IHNlZWQoKXtyZXR1cm4gdGhpcy5fc2VlZH1zZXQgc2VlZCh0KXt0aGlzLmhhc1NlZWQ9ITAsdGhpcy5fc2VlZD10fV9uZXh0KHQpe2lmKHRoaXMuaGFzU2VlZClyZXR1cm4gdGhpcy5fdHJ5TmV4dCh0KTt0aGlzLnNlZWQ9dCx0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9X3RyeU5leHQodCl7Y29uc3QgZT10aGlzLmluZGV4Kys7bGV0IG47dHJ5e249dGhpcy5hY2N1bXVsYXRvcih0aGlzLnNlZWQsdCxlKX1jYXRjaChyKXt0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHIpfXRoaXMuc2VlZD1uLHRoaXMuZGVzdGluYXRpb24ubmV4dChuKX19ZnVuY3Rpb24gTHAodCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4ubGlmdChuZXcgQnAodCxlKSl9fWNsYXNzIEJwe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5wcmVkaWNhdGU9dCx0aGlzLnRoaXNBcmc9ZX1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyBVcCh0LHRoaXMucHJlZGljYXRlLHRoaXMudGhpc0FyZykpfX1jbGFzcyBVcCBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQpLHRoaXMucHJlZGljYXRlPWUsdGhpcy50aGlzQXJnPW4sdGhpcy5jb3VudD0wfV9uZXh0KHQpe2xldCBlO3RyeXtlPXRoaXMucHJlZGljYXRlLmNhbGwodGhpcy50aGlzQXJnLHQsdGhpcy5jb3VudCsrKX1jYXRjaChuKXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKG4pfWUmJnRoaXMuZGVzdGluYXRpb24ubmV4dCh0KX19ZnVuY3Rpb24gSHAodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2NvbnN0IG49bmV3ICRwKHQpLHI9ZS5saWZ0KG4pO3JldHVybiBuLmNhdWdodD1yfX1jbGFzcyAkcHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnNlbGVjdG9yPXR9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgenAodCx0aGlzLnNlbGVjdG9yLHRoaXMuY2F1Z2h0KSl9fWNsYXNzIHpwIGV4dGVuZHMgTntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCksdGhpcy5zZWxlY3Rvcj1lLHRoaXMuY2F1Z2h0PW59ZXJyb3IodCl7aWYoIXRoaXMuaXNTdG9wcGVkKXtsZXQgbjt0cnl7bj10aGlzLnNlbGVjdG9yKHQsdGhpcy5jYXVnaHQpfWNhdGNoKGUpe3JldHVybiB2b2lkIHN1cGVyLmVycm9yKGUpfXRoaXMuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSgpO2NvbnN0IHI9bmV3IGoodGhpcyk7dGhpcy5hZGQocik7Y29uc3Qgcz1MKG4scik7cyE9PXImJnRoaXMuYWRkKHMpfX19ZnVuY3Rpb24gcXAodCxlKXtyZXR1cm4gQih0LGUsMSl9ZnVuY3Rpb24gV3AodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiAwPT09dD9lZCgpOmUubGlmdChuZXcgR3AodCkpfX1jbGFzcyBHcHtjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLnRvdGFsPXQsdGhpcy50b3RhbDwwKXRocm93IG5ldyBQcH1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyBacCh0LHRoaXMudG90YWwpKX19Y2xhc3MgWnAgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy50b3RhbD1lLHRoaXMucmluZz1uZXcgQXJyYXksdGhpcy5jb3VudD0wfV9uZXh0KHQpe2NvbnN0IGU9dGhpcy5yaW5nLG49dGhpcy50b3RhbCxyPXRoaXMuY291bnQrKztlLmxlbmd0aDxuP2UucHVzaCh0KTplW3Ilbl09dH1fY29tcGxldGUoKXtjb25zdCB0PXRoaXMuZGVzdGluYXRpb247bGV0IGU9dGhpcy5jb3VudDtpZihlPjApe2NvbnN0IG49dGhpcy5jb3VudD49dGhpcy50b3RhbD90aGlzLnRvdGFsOnRoaXMuY291bnQscj10aGlzLnJpbmc7Zm9yKGxldCBzPTA7czxuO3MrKyl7Y29uc3Qgcz1lKyslbjt0Lm5leHQocltzXSl9fXQuY29tcGxldGUoKX19ZnVuY3Rpb24gS3AodD1YcCl7cmV0dXJuIGU9PmUubGlmdChuZXcgWXAodCkpfWNsYXNzIFlwe2NvbnN0cnVjdG9yKHQpe3RoaXMuZXJyb3JGYWN0b3J5PXR9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgUXAodCx0aGlzLmVycm9yRmFjdG9yeSkpfX1jbGFzcyBRcCBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLmVycm9yRmFjdG9yeT1lLHRoaXMuaGFzVmFsdWU9ITF9X25leHQodCl7dGhpcy5oYXNWYWx1ZT0hMCx0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9X2NvbXBsZXRlKCl7aWYodGhpcy5oYXNWYWx1ZSlyZXR1cm4gdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO3tsZXQgZTt0cnl7ZT10aGlzLmVycm9yRmFjdG9yeSgpfWNhdGNoKHQpe2U9dH10aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpfX19ZnVuY3Rpb24gWHAoKXtyZXR1cm4gbmV3IFRwfWZ1bmN0aW9uIEpwKHQ9bnVsbCl7cmV0dXJuIGU9PmUubGlmdChuZXcgdGYodCkpfWNsYXNzIHRme2NvbnN0cnVjdG9yKHQpe3RoaXMuZGVmYXVsdFZhbHVlPXR9Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgZWYodCx0aGlzLmRlZmF1bHRWYWx1ZSkpfX1jbGFzcyBlZiBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLmRlZmF1bHRWYWx1ZT1lLHRoaXMuaXNFbXB0eT0hMH1fbmV4dCh0KXt0aGlzLmlzRW1wdHk9ITEsdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfV9jb21wbGV0ZSgpe3RoaXMuaXNFbXB0eSYmdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHRoaXMuZGVmYXVsdFZhbHVlKSx0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9fWZ1bmN0aW9uIG5mKHQsZSl7Y29uc3Qgbj1hcmd1bWVudHMubGVuZ3RoPj0yO3JldHVybiByPT5yLnBpcGUodD9McCgoZSxuKT0+dChlLG4scikpOnksSXAoMSksbj9KcChlKTpLcCgoKT0+bmV3IFRwKSl9ZnVuY3Rpb24gcmYoKXt9ZnVuY3Rpb24gc2YodCxlLG4pe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gci5saWZ0KG5ldyBvZih0LGUsbikpfX1jbGFzcyBvZntjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5uZXh0T3JPYnNlcnZlcj10LHRoaXMuZXJyb3I9ZSx0aGlzLmNvbXBsZXRlPW59Y2FsbCh0LGUpe3JldHVybiBlLnN1YnNjcmliZShuZXcgYWYodCx0aGlzLm5leHRPck9ic2VydmVyLHRoaXMuZXJyb3IsdGhpcy5jb21wbGV0ZSkpfX1jbGFzcyBhZiBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxlLG4scyl7c3VwZXIodCksdGhpcy5fdGFwTmV4dD1yZix0aGlzLl90YXBFcnJvcj1yZix0aGlzLl90YXBDb21wbGV0ZT1yZix0aGlzLl90YXBFcnJvcj1ufHxyZix0aGlzLl90YXBDb21wbGV0ZT1zfHxyZixyKGUpPyh0aGlzLl9jb250ZXh0PXRoaXMsdGhpcy5fdGFwTmV4dD1lKTplJiYodGhpcy5fY29udGV4dD1lLHRoaXMuX3RhcE5leHQ9ZS5uZXh0fHxyZix0aGlzLl90YXBFcnJvcj1lLmVycm9yfHxyZix0aGlzLl90YXBDb21wbGV0ZT1lLmNvbXBsZXRlfHxyZil9X25leHQodCl7dHJ5e3RoaXMuX3RhcE5leHQuY2FsbCh0aGlzLl9jb250ZXh0LHQpfWNhdGNoKGUpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZSl9dGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfV9lcnJvcih0KXt0cnl7dGhpcy5fdGFwRXJyb3IuY2FsbCh0aGlzLl9jb250ZXh0LHQpfWNhdGNoKHQpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9dGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX1fY29tcGxldGUoKXt0cnl7dGhpcy5fdGFwQ29tcGxldGUuY2FsbCh0aGlzLl9jb250ZXh0KX1jYXRjaCh0KXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpfXJldHVybiB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9fWNsYXNzIGxme2NvbnN0cnVjdG9yKHQpe3RoaXMuY2FsbGJhY2s9dH1jYWxsKHQsZSl7cmV0dXJuIGUuc3Vic2NyaWJlKG5ldyB1Zih0LHRoaXMuY2FsbGJhY2spKX19Y2xhc3MgdWYgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5hZGQobmV3IGgoZSkpfX1jbGFzcyBjZntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuaWQ9dCx0aGlzLnVybD1lfX1jbGFzcyBoZiBleHRlbmRzIGNme2NvbnN0cnVjdG9yKHQsZSxuPSJpbXBlcmF0aXZlIixyPW51bGwpe3N1cGVyKHQsZSksdGhpcy5uYXZpZ2F0aW9uVHJpZ2dlcj1uLHRoaXMucmVzdG9yZWRTdGF0ZT1yfXRvU3RyaW5nKCl7cmV0dXJuYE5hdmlnYXRpb25TdGFydChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nKWB9fWNsYXNzIGRmIGV4dGVuZHMgY2Z7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQsZSksdGhpcy51cmxBZnRlclJlZGlyZWN0cz1ufXRvU3RyaW5nKCl7cmV0dXJuYE5hdmlnYXRpb25FbmQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgdXJsQWZ0ZXJSZWRpcmVjdHM6ICcke3RoaXMudXJsQWZ0ZXJSZWRpcmVjdHN9JylgfX1jbGFzcyBwZiBleHRlbmRzIGNme2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0LGUpLHRoaXMucmVhc29uPW59dG9TdHJpbmcoKXtyZXR1cm5gTmF2aWdhdGlvbkNhbmNlbChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nKWB9fWNsYXNzIGZmIGV4dGVuZHMgY2Z7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQsZSksdGhpcy5lcnJvcj1ufXRvU3RyaW5nKCl7cmV0dXJuYE5hdmlnYXRpb25FcnJvcihpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCBlcnJvcjogJHt0aGlzLmVycm9yfSlgfX1jbGFzcyBnZiBleHRlbmRzIGNme2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKHQsZSksdGhpcy51cmxBZnRlclJlZGlyZWN0cz1uLHRoaXMuc3RhdGU9cn10b1N0cmluZygpe3JldHVybmBSb3V0ZXNSZWNvZ25pemVkKGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIHVybEFmdGVyUmVkaXJlY3RzOiAnJHt0aGlzLnVybEFmdGVyUmVkaXJlY3RzfScsIHN0YXRlOiAke3RoaXMuc3RhdGV9KWB9fWNsYXNzIG1mIGV4dGVuZHMgY2Z7Y29uc3RydWN0b3IodCxlLG4scil7c3VwZXIodCxlKSx0aGlzLnVybEFmdGVyUmVkaXJlY3RzPW4sdGhpcy5zdGF0ZT1yfXRvU3RyaW5nKCl7cmV0dXJuYEd1YXJkc0NoZWNrU3RhcnQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgdXJsQWZ0ZXJSZWRpcmVjdHM6ICcke3RoaXMudXJsQWZ0ZXJSZWRpcmVjdHN9Jywgc3RhdGU6ICR7dGhpcy5zdGF0ZX0pYH19Y2xhc3MgeWYgZXh0ZW5kcyBjZntjb25zdHJ1Y3Rvcih0LGUsbixyLHMpe3N1cGVyKHQsZSksdGhpcy51cmxBZnRlclJlZGlyZWN0cz1uLHRoaXMuc3RhdGU9cix0aGlzLnNob3VsZEFjdGl2YXRlPXN9dG9TdHJpbmcoKXtyZXR1cm5gR3VhcmRzQ2hlY2tFbmQoaWQ6ICR7dGhpcy5pZH0sIHVybDogJyR7dGhpcy51cmx9JywgdXJsQWZ0ZXJSZWRpcmVjdHM6ICcke3RoaXMudXJsQWZ0ZXJSZWRpcmVjdHN9Jywgc3RhdGU6ICR7dGhpcy5zdGF0ZX0sIHNob3VsZEFjdGl2YXRlOiAke3RoaXMuc2hvdWxkQWN0aXZhdGV9KWB9fWNsYXNzIHZmIGV4dGVuZHMgY2Z7Y29uc3RydWN0b3IodCxlLG4scil7c3VwZXIodCxlKSx0aGlzLnVybEFmdGVyUmVkaXJlY3RzPW4sdGhpcy5zdGF0ZT1yfXRvU3RyaW5nKCl7cmV0dXJuYFJlc29sdmVTdGFydChpZDogJHt0aGlzLmlkfSwgdXJsOiAnJHt0aGlzLnVybH0nLCB1cmxBZnRlclJlZGlyZWN0czogJyR7dGhpcy51cmxBZnRlclJlZGlyZWN0c30nLCBzdGF0ZTogJHt0aGlzLnN0YXRlfSlgfX1jbGFzcyBiZiBleHRlbmRzIGNme2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKHQsZSksdGhpcy51cmxBZnRlclJlZGlyZWN0cz1uLHRoaXMuc3RhdGU9cn10b1N0cmluZygpe3JldHVybmBSZXNvbHZlRW5kKGlkOiAke3RoaXMuaWR9LCB1cmw6ICcke3RoaXMudXJsfScsIHVybEFmdGVyUmVkaXJlY3RzOiAnJHt0aGlzLnVybEFmdGVyUmVkaXJlY3RzfScsIHN0YXRlOiAke3RoaXMuc3RhdGV9KWB9fWNsYXNzIF9me2NvbnN0cnVjdG9yKHQpe3RoaXMucm91dGU9dH10b1N0cmluZygpe3JldHVybmBSb3V0ZUNvbmZpZ0xvYWRTdGFydChwYXRoOiAke3RoaXMucm91dGUucGF0aH0pYH19Y2xhc3Mgd2Z7Y29uc3RydWN0b3IodCl7dGhpcy5yb3V0ZT10fXRvU3RyaW5nKCl7cmV0dXJuYFJvdXRlQ29uZmlnTG9hZEVuZChwYXRoOiAke3RoaXMucm91dGUucGF0aH0pYH19Y2xhc3MgQ2Z7Y29uc3RydWN0b3IodCl7dGhpcy5zbmFwc2hvdD10fXRvU3RyaW5nKCl7cmV0dXJuYENoaWxkQWN0aXZhdGlvblN0YXJ0KHBhdGg6ICcke3RoaXMuc25hcHNob3Qucm91dGVDb25maWcmJnRoaXMuc25hcHNob3Qucm91dGVDb25maWcucGF0aHx8IiJ9JylgfX1jbGFzcyBFZntjb25zdHJ1Y3Rvcih0KXt0aGlzLnNuYXBzaG90PXR9dG9TdHJpbmcoKXtyZXR1cm5gQ2hpbGRBY3RpdmF0aW9uRW5kKHBhdGg6ICcke3RoaXMuc25hcHNob3Qucm91dGVDb25maWcmJnRoaXMuc25hcHNob3Qucm91dGVDb25maWcucGF0aHx8IiJ9JylgfX1jbGFzcyBEZntjb25zdHJ1Y3Rvcih0KXt0aGlzLnNuYXBzaG90PXR9dG9TdHJpbmcoKXtyZXR1cm5gQWN0aXZhdGlvblN0YXJ0KHBhdGg6ICcke3RoaXMuc25hcHNob3Qucm91dGVDb25maWcmJnRoaXMuc25hcHNob3Qucm91dGVDb25maWcucGF0aHx8IiJ9JylgfX1jbGFzcyBBZntjb25zdHJ1Y3Rvcih0KXt0aGlzLnNuYXBzaG90PXR9dG9TdHJpbmcoKXtyZXR1cm5gQWN0aXZhdGlvbkVuZChwYXRoOiAnJHt0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnJiZ0aGlzLnNuYXBzaG90LnJvdXRlQ29uZmlnLnBhdGh8fCIifScpYH19Y2xhc3MgU2Z7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMucm91dGVyRXZlbnQ9dCx0aGlzLnBvc2l0aW9uPWUsdGhpcy5hbmNob3I9bn10b1N0cmluZygpe3JldHVybmBTY3JvbGwoYW5jaG9yOiAnJHt0aGlzLmFuY2hvcn0nLCBwb3NpdGlvbjogJyR7dGhpcy5wb3NpdGlvbj9gJHt0aGlzLnBvc2l0aW9uWzBdfSwgJHt0aGlzLnBvc2l0aW9uWzFdfWA6bnVsbH0nKWB9fWNvbnN0IHhmPSJwcmltYXJ5IjtjbGFzcyBrZntjb25zdHJ1Y3Rvcih0KXt0aGlzLnBhcmFtcz10fHx7fX1oYXModCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnBhcmFtcyx0KX1nZXQodCl7aWYodGhpcy5oYXModCkpe2NvbnN0IGU9dGhpcy5wYXJhbXNbdF07cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZVswXTplfXJldHVybiBudWxsfWdldEFsbCh0KXtpZih0aGlzLmhhcyh0KSl7Y29uc3QgZT10aGlzLnBhcmFtc1t0XTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOltlXX1yZXR1cm5bXX1nZXQga2V5cygpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyl9fWZ1bmN0aW9uIFRmKHQpe3JldHVybiBuZXcga2YodCl9ZnVuY3Rpb24gT2YodCl7Y29uc3QgZT1FcnJvcigiTmF2aWdhdGlvbkNhbmNlbGluZ0Vycm9yOiAiK3QpO3JldHVybiBlLm5nTmF2aWdhdGlvbkNhbmNlbGluZ0Vycm9yPSEwLGV9ZnVuY3Rpb24gRmYodCxlLG4pe2NvbnN0IHI9bi5wYXRoLnNwbGl0KCIvIik7aWYoci5sZW5ndGg+dC5sZW5ndGgpcmV0dXJuIG51bGw7aWYoImZ1bGwiPT09bi5wYXRoTWF0Y2gmJihlLmhhc0NoaWxkcmVuKCl8fHIubGVuZ3RoPHQubGVuZ3RoKSlyZXR1cm4gbnVsbDtjb25zdCBzPXt9O2ZvcihsZXQgaT0wO2k8ci5sZW5ndGg7aSsrKXtjb25zdCBlPXJbaV0sbj10W2ldO2lmKGUuc3RhcnRzV2l0aCgiOiIpKXNbZS5zdWJzdHJpbmcoMSldPW47ZWxzZSBpZihlIT09bi5wYXRoKXJldHVybiBudWxsfXJldHVybntjb25zdW1lZDp0LnNsaWNlKDAsci5sZW5ndGgpLHBvc1BhcmFtczpzfX1mdW5jdGlvbiBQZih0LGUpe2NvbnN0IG49dD9PYmplY3Qua2V5cyh0KTp2b2lkIDAscj1lP09iamVjdC5rZXlzKGUpOnZvaWQgMDtpZighbnx8IXJ8fG4ubGVuZ3RoIT1yLmxlbmd0aClyZXR1cm4hMTtsZXQgcztmb3IobGV0IGk9MDtpPG4ubGVuZ3RoO2krKylpZihzPW5baV0sIUlmKHRbc10sZVtzXSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gSWYodCxlKXtpZihBcnJheS5pc0FycmF5KHQpJiZBcnJheS5pc0FycmF5KGUpKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2NvbnN0IG49Wy4uLnRdLnNvcnQoKSxyPVsuLi5lXS5zb3J0KCk7cmV0dXJuIG4uZXZlcnkoKHQsZSk9PnJbZV09PT10KX1yZXR1cm4gdD09PWV9ZnVuY3Rpb24gUmYodCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sdCl9ZnVuY3Rpb24gTWYodCl7cmV0dXJuIHQubGVuZ3RoPjA/dFt0Lmxlbmd0aC0xXTpudWxsfWZ1bmN0aW9uIFZmKHQsZSl7Zm9yKGNvbnN0IG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiZlKHRbbl0sbil9ZnVuY3Rpb24gamYodCl7cmV0dXJuIHdvKHQpP3Q6X28odCk/VihQcm9taXNlLnJlc29sdmUodCkpOm5kKHQpfWNvbnN0IE5mPXtleGFjdDpmdW5jdGlvbiB0KGUsbixyKXtpZighR2YoZS5zZWdtZW50cyxuLnNlZ21lbnRzKSlyZXR1cm4hMTtpZighJGYoZS5zZWdtZW50cyxuLnNlZ21lbnRzLHIpKXJldHVybiExO2lmKGUubnVtYmVyT2ZDaGlsZHJlbiE9PW4ubnVtYmVyT2ZDaGlsZHJlbilyZXR1cm4hMTtmb3IoY29uc3QgcyBpbiBuLmNoaWxkcmVuKXtpZighZS5jaGlsZHJlbltzXSlyZXR1cm4hMTtpZighdChlLmNoaWxkcmVuW3NdLG4uY2hpbGRyZW5bc10scikpcmV0dXJuITF9cmV0dXJuITB9LHN1YnNldDpVZn0sTGY9e2V4YWN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFBmKHQsZSl9LHN1YnNldDpmdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3Qua2V5cyhlKS5sZW5ndGg8PU9iamVjdC5rZXlzKHQpLmxlbmd0aCYmT2JqZWN0LmtleXMoZSkuZXZlcnkobj0+SWYodFtuXSxlW25dKSl9LGlnbm9yZWQ6KCk9PiEwfTtmdW5jdGlvbiBCZih0LGUsbil7cmV0dXJuIE5mW24ucGF0aHNdKHQucm9vdCxlLnJvb3Qsbi5tYXRyaXhQYXJhbXMpJiZMZltuLnF1ZXJ5UGFyYW1zXSh0LnF1ZXJ5UGFyYW1zLGUucXVlcnlQYXJhbXMpJiYhKCJleGFjdCI9PT1uLmZyYWdtZW50JiZ0LmZyYWdtZW50IT09ZS5mcmFnbWVudCl9ZnVuY3Rpb24gVWYodCxlLG4pe3JldHVybiBIZih0LGUsZS5zZWdtZW50cyxuKX1mdW5jdGlvbiBIZih0LGUsbixyKXtpZih0LnNlZ21lbnRzLmxlbmd0aD5uLmxlbmd0aCl7Y29uc3Qgcz10LnNlZ21lbnRzLnNsaWNlKDAsbi5sZW5ndGgpO3JldHVybiEhR2YocyxuKSYmIWUuaGFzQ2hpbGRyZW4oKSYmISEkZihzLG4scil9aWYodC5zZWdtZW50cy5sZW5ndGg9PT1uLmxlbmd0aCl7aWYoIUdmKHQuc2VnbWVudHMsbikpcmV0dXJuITE7aWYoISRmKHQuc2VnbWVudHMsbixyKSlyZXR1cm4hMTtmb3IoY29uc3QgbiBpbiBlLmNoaWxkcmVuKXtpZighdC5jaGlsZHJlbltuXSlyZXR1cm4hMTtpZighVWYodC5jaGlsZHJlbltuXSxlLmNoaWxkcmVuW25dLHIpKXJldHVybiExfXJldHVybiEwfXtjb25zdCBzPW4uc2xpY2UoMCx0LnNlZ21lbnRzLmxlbmd0aCksaT1uLnNsaWNlKHQuc2VnbWVudHMubGVuZ3RoKTtyZXR1cm4hIUdmKHQuc2VnbWVudHMscykmJiEhJGYodC5zZWdtZW50cyxzLHIpJiYhIXQuY2hpbGRyZW4ucHJpbWFyeSYmSGYodC5jaGlsZHJlbi5wcmltYXJ5LGUsaSxyKX19ZnVuY3Rpb24gJGYodCxlLG4pe3JldHVybiBlLmV2ZXJ5KChlLHIpPT5MZltuXSh0W3JdLnBhcmFtZXRlcnMsZS5wYXJhbWV0ZXJzKSl9Y2xhc3MgemZ7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMucm9vdD10LHRoaXMucXVlcnlQYXJhbXM9ZSx0aGlzLmZyYWdtZW50PW59Z2V0IHF1ZXJ5UGFyYW1NYXAoKXtyZXR1cm4gdGhpcy5fcXVlcnlQYXJhbU1hcHx8KHRoaXMuX3F1ZXJ5UGFyYW1NYXA9VGYodGhpcy5xdWVyeVBhcmFtcykpLHRoaXMuX3F1ZXJ5UGFyYW1NYXB9dG9TdHJpbmcoKXtyZXR1cm4gWWYuc2VyaWFsaXplKHRoaXMpfX1jbGFzcyBxZntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuc2VnbWVudHM9dCx0aGlzLmNoaWxkcmVuPWUsdGhpcy5wYXJlbnQ9bnVsbCxWZihlLCh0LGUpPT50LnBhcmVudD10aGlzKX1oYXNDaGlsZHJlbigpe3JldHVybiB0aGlzLm51bWJlck9mQ2hpbGRyZW4+MH1nZXQgbnVtYmVyT2ZDaGlsZHJlbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmNoaWxkcmVuKS5sZW5ndGh9dG9TdHJpbmcoKXtyZXR1cm4gUWYodGhpcyl9fWNsYXNzIFdme2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5wYXRoPXQsdGhpcy5wYXJhbWV0ZXJzPWV9Z2V0IHBhcmFtZXRlck1hcCgpe3JldHVybiB0aGlzLl9wYXJhbWV0ZXJNYXB8fCh0aGlzLl9wYXJhbWV0ZXJNYXA9VGYodGhpcy5wYXJhbWV0ZXJzKSksdGhpcy5fcGFyYW1ldGVyTWFwfXRvU3RyaW5nKCl7cmV0dXJuIHNnKHRoaXMpfX1mdW5jdGlvbiBHZih0LGUpe3JldHVybiB0Lmxlbmd0aD09PWUubGVuZ3RoJiZ0LmV2ZXJ5KCh0LG4pPT50LnBhdGg9PT1lW25dLnBhdGgpfWNsYXNzIFpme31jbGFzcyBLZntwYXJzZSh0KXtjb25zdCBlPW5ldyB1Zyh0KTtyZXR1cm4gbmV3IHpmKGUucGFyc2VSb290U2VnbWVudCgpLGUucGFyc2VRdWVyeVBhcmFtcygpLGUucGFyc2VGcmFnbWVudCgpKX1zZXJpYWxpemUodCl7dmFyIGU7cmV0dXJuYC8ke1hmKHQucm9vdCwhMCl9JHtmdW5jdGlvbih0KXtjb25zdCBlPU9iamVjdC5rZXlzKHQpLm1hcChlPT57Y29uc3Qgbj10W2VdO3JldHVybiBBcnJheS5pc0FycmF5KG4pP24ubWFwKHQ9PmAke3RnKGUpfT0ke3RnKHQpfWApLmpvaW4oIiYiKTpgJHt0ZyhlKX09JHt0ZyhuKX1gfSkuZmlsdGVyKHQ9PiEhdCk7cmV0dXJuIGUubGVuZ3RoP2A/JHtlLmpvaW4oIiYiKX1gOiIifSh0LnF1ZXJ5UGFyYW1zKX0keyJzdHJpbmciPT10eXBlb2YgdC5mcmFnbWVudD9gIyR7ZT10LmZyYWdtZW50LGVuY29kZVVSSShlKX1gOiIifWB9fWNvbnN0IFlmPW5ldyBLZjtmdW5jdGlvbiBRZih0KXtyZXR1cm4gdC5zZWdtZW50cy5tYXAodD0+c2codCkpLmpvaW4oIi8iKX1mdW5jdGlvbiBYZih0LGUpe2lmKCF0Lmhhc0NoaWxkcmVuKCkpcmV0dXJuIFFmKHQpO2lmKGUpe2NvbnN0IGU9dC5jaGlsZHJlbi5wcmltYXJ5P1hmKHQuY2hpbGRyZW4ucHJpbWFyeSwhMSk6IiIsbj1bXTtyZXR1cm4gVmYodC5jaGlsZHJlbiwodCxlKT0+e2UhPT14ZiYmbi5wdXNoKGAke2V9OiR7WGYodCwhMSl9YCl9KSxuLmxlbmd0aD4wP2Ake2V9KCR7bi5qb2luKCIvLyIpfSlgOmV9e2NvbnN0IGU9ZnVuY3Rpb24odCxlKXtsZXQgbj1bXTtyZXR1cm4gVmYodC5jaGlsZHJlbiwodCxyKT0+e3I9PT14ZiYmKG49bi5jb25jYXQoZSh0LHIpKSl9KSxWZih0LmNoaWxkcmVuLCh0LHIpPT57ciE9PXhmJiYobj1uLmNvbmNhdChlKHQscikpKX0pLG59KHQsKGUsbik9Pm49PT14Zj9bWGYodC5jaGlsZHJlbi5wcmltYXJ5LCExKV06W2Ake259OiR7WGYoZSwhMSl9YF0pO3JldHVybiAxPT09T2JqZWN0LmtleXModC5jaGlsZHJlbikubGVuZ3RoJiZudWxsIT10LmNoaWxkcmVuLnByaW1hcnk/YCR7UWYodCl9LyR7ZVswXX1gOmAke1FmKHQpfS8oJHtlLmpvaW4oIi8vIil9KWB9fWZ1bmN0aW9uIEpmKHQpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodCkucmVwbGFjZSgvJTQwL2csIkAiKS5yZXBsYWNlKC8lM0EvZ2ksIjoiKS5yZXBsYWNlKC8lMjQvZywiJCIpLnJlcGxhY2UoLyUyQy9naSwiLCIpfWZ1bmN0aW9uIHRnKHQpe3JldHVybiBKZih0KS5yZXBsYWNlKC8lM0IvZ2ksIjsiKX1mdW5jdGlvbiBlZyh0KXtyZXR1cm4gSmYodCkucmVwbGFjZSgvXCgvZywiJTI4IikucmVwbGFjZSgvXCkvZywiJTI5IikucmVwbGFjZSgvJTI2L2dpLCImIil9ZnVuY3Rpb24gbmcodCl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh0KX1mdW5jdGlvbiByZyh0KXtyZXR1cm4gbmcodC5yZXBsYWNlKC9cKy9nLCIlMjAiKSl9ZnVuY3Rpb24gc2codCl7cmV0dXJuYCR7ZWcodC5wYXRoKX0ke2U9dC5wYXJhbWV0ZXJzLE9iamVjdC5rZXlzKGUpLm1hcCh0PT5gOyR7ZWcodCl9PSR7ZWcoZVt0XSl9YCkuam9pbigiIil9YDt2YXIgZX1jb25zdCBpZz0vXlteXC8oKT87PSNdKy87ZnVuY3Rpb24gb2codCl7Y29uc3QgZT10Lm1hdGNoKGlnKTtyZXR1cm4gZT9lWzBdOiIifWNvbnN0IGFnPS9eW149PyYjXSsvLGxnPS9eW14/JiNdKy87Y2xhc3MgdWd7Y29uc3RydWN0b3IodCl7dGhpcy51cmw9dCx0aGlzLnJlbWFpbmluZz10fXBhcnNlUm9vdFNlZ21lbnQoKXtyZXR1cm4gdGhpcy5jb25zdW1lT3B0aW9uYWwoIi8iKSwiIj09PXRoaXMucmVtYWluaW5nfHx0aGlzLnBlZWtTdGFydHNXaXRoKCI/Iil8fHRoaXMucGVla1N0YXJ0c1dpdGgoIiMiKT9uZXcgcWYoW10se30pOm5ldyBxZihbXSx0aGlzLnBhcnNlQ2hpbGRyZW4oKSl9cGFyc2VRdWVyeVBhcmFtcygpe2NvbnN0IHQ9e307aWYodGhpcy5jb25zdW1lT3B0aW9uYWwoIj8iKSlkb3t0aGlzLnBhcnNlUXVlcnlQYXJhbSh0KX13aGlsZSh0aGlzLmNvbnN1bWVPcHRpb25hbCgiJiIpKTtyZXR1cm4gdH1wYXJzZUZyYWdtZW50KCl7cmV0dXJuIHRoaXMuY29uc3VtZU9wdGlvbmFsKCIjIik/ZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMucmVtYWluaW5nKTpudWxsfXBhcnNlQ2hpbGRyZW4oKXtpZigiIj09PXRoaXMucmVtYWluaW5nKXJldHVybnt9O3RoaXMuY29uc3VtZU9wdGlvbmFsKCIvIik7Y29uc3QgdD1bXTtmb3IodGhpcy5wZWVrU3RhcnRzV2l0aCgiKCIpfHx0LnB1c2godGhpcy5wYXJzZVNlZ21lbnQoKSk7dGhpcy5wZWVrU3RhcnRzV2l0aCgiLyIpJiYhdGhpcy5wZWVrU3RhcnRzV2l0aCgiLy8iKSYmIXRoaXMucGVla1N0YXJ0c1dpdGgoIi8oIik7KXRoaXMuY2FwdHVyZSgiLyIpLHQucHVzaCh0aGlzLnBhcnNlU2VnbWVudCgpKTtsZXQgZT17fTt0aGlzLnBlZWtTdGFydHNXaXRoKCIvKCIpJiYodGhpcy5jYXB0dXJlKCIvIiksZT10aGlzLnBhcnNlUGFyZW5zKCEwKSk7bGV0IG49e307cmV0dXJuIHRoaXMucGVla1N0YXJ0c1dpdGgoIigiKSYmKG49dGhpcy5wYXJzZVBhcmVucyghMSkpLCh0Lmxlbmd0aD4wfHxPYmplY3Qua2V5cyhlKS5sZW5ndGg+MCkmJihuLnByaW1hcnk9bmV3IHFmKHQsZSkpLG59cGFyc2VTZWdtZW50KCl7Y29uc3QgdD1vZyh0aGlzLnJlbWFpbmluZyk7aWYoIiI9PT10JiZ0aGlzLnBlZWtTdGFydHNXaXRoKCI7IikpdGhyb3cgbmV3IEVycm9yKGBFbXB0eSBwYXRoIHVybCBzZWdtZW50IGNhbm5vdCBoYXZlIHBhcmFtZXRlcnM6ICcke3RoaXMucmVtYWluaW5nfScuYCk7cmV0dXJuIHRoaXMuY2FwdHVyZSh0KSxuZXcgV2YobmcodCksdGhpcy5wYXJzZU1hdHJpeFBhcmFtcygpKX1wYXJzZU1hdHJpeFBhcmFtcygpe2NvbnN0IHQ9e307Zm9yKDt0aGlzLmNvbnN1bWVPcHRpb25hbCgiOyIpOyl0aGlzLnBhcnNlUGFyYW0odCk7cmV0dXJuIHR9cGFyc2VQYXJhbSh0KXtjb25zdCBlPW9nKHRoaXMucmVtYWluaW5nKTtpZighZSlyZXR1cm47dGhpcy5jYXB0dXJlKGUpO2xldCBuPSIiO2lmKHRoaXMuY29uc3VtZU9wdGlvbmFsKCI9Iikpe2NvbnN0IHQ9b2codGhpcy5yZW1haW5pbmcpO3QmJihuPXQsdGhpcy5jYXB0dXJlKG4pKX10W25nKGUpXT1uZyhuKX1wYXJzZVF1ZXJ5UGFyYW0odCl7Y29uc3QgZT1mdW5jdGlvbih0KXtjb25zdCBlPXQubWF0Y2goYWcpO3JldHVybiBlP2VbMF06IiJ9KHRoaXMucmVtYWluaW5nKTtpZighZSlyZXR1cm47dGhpcy5jYXB0dXJlKGUpO2xldCBuPSIiO2lmKHRoaXMuY29uc3VtZU9wdGlvbmFsKCI9Iikpe2NvbnN0IHQ9ZnVuY3Rpb24odCl7Y29uc3QgZT10Lm1hdGNoKGxnKTtyZXR1cm4gZT9lWzBdOiIifSh0aGlzLnJlbWFpbmluZyk7dCYmKG49dCx0aGlzLmNhcHR1cmUobikpfWNvbnN0IHI9cmcoZSkscz1yZyhuKTtpZih0Lmhhc093blByb3BlcnR5KHIpKXtsZXQgZT10W3JdO0FycmF5LmlzQXJyYXkoZSl8fChlPVtlXSx0W3JdPWUpLGUucHVzaChzKX1lbHNlIHRbcl09c31wYXJzZVBhcmVucyh0KXtjb25zdCBlPXt9O2Zvcih0aGlzLmNhcHR1cmUoIigiKTshdGhpcy5jb25zdW1lT3B0aW9uYWwoIikiKSYmdGhpcy5yZW1haW5pbmcubGVuZ3RoPjA7KXtjb25zdCBuPW9nKHRoaXMucmVtYWluaW5nKSxyPXRoaXMucmVtYWluaW5nW24ubGVuZ3RoXTtpZigiLyIhPT1yJiYiKSIhPT1yJiYiOyIhPT1yKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IHBhcnNlIHVybCAnJHt0aGlzLnVybH0nYCk7bGV0IHM7bi5pbmRleE9mKCI6Iik+LTE/KHM9bi5zdWJzdHIoMCxuLmluZGV4T2YoIjoiKSksdGhpcy5jYXB0dXJlKHMpLHRoaXMuY2FwdHVyZSgiOiIpKTp0JiYocz14Zik7Y29uc3QgaT10aGlzLnBhcnNlQ2hpbGRyZW4oKTtlW3NdPTE9PT1PYmplY3Qua2V5cyhpKS5sZW5ndGg/aS5wcmltYXJ5Om5ldyBxZihbXSxpKSx0aGlzLmNvbnN1bWVPcHRpb25hbCgiLy8iKX1yZXR1cm4gZX1wZWVrU3RhcnRzV2l0aCh0KXtyZXR1cm4gdGhpcy5yZW1haW5pbmcuc3RhcnRzV2l0aCh0KX1jb25zdW1lT3B0aW9uYWwodCl7cmV0dXJuISF0aGlzLnBlZWtTdGFydHNXaXRoKHQpJiYodGhpcy5yZW1haW5pbmc9dGhpcy5yZW1haW5pbmcuc3Vic3RyaW5nKHQubGVuZ3RoKSwhMCl9Y2FwdHVyZSh0KXtpZighdGhpcy5jb25zdW1lT3B0aW9uYWwodCkpdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCAiJHt0fSIuYCl9fWNsYXNzIGNne2NvbnN0cnVjdG9yKHQpe3RoaXMuX3Jvb3Q9dH1nZXQgcm9vdCgpe3JldHVybiB0aGlzLl9yb290LnZhbHVlfXBhcmVudCh0KXtjb25zdCBlPXRoaXMucGF0aEZyb21Sb290KHQpO3JldHVybiBlLmxlbmd0aD4xP2VbZS5sZW5ndGgtMl06bnVsbH1jaGlsZHJlbih0KXtjb25zdCBlPWhnKHQsdGhpcy5fcm9vdCk7cmV0dXJuIGU/ZS5jaGlsZHJlbi5tYXAodD0+dC52YWx1ZSk6W119Zmlyc3RDaGlsZCh0KXtjb25zdCBlPWhnKHQsdGhpcy5fcm9vdCk7cmV0dXJuIGUmJmUuY2hpbGRyZW4ubGVuZ3RoPjA/ZS5jaGlsZHJlblswXS52YWx1ZTpudWxsfXNpYmxpbmdzKHQpe2NvbnN0IGU9ZGcodCx0aGlzLl9yb290KTtyZXR1cm4gZS5sZW5ndGg8Mj9bXTplW2UubGVuZ3RoLTJdLmNoaWxkcmVuLm1hcCh0PT50LnZhbHVlKS5maWx0ZXIoZT0+ZSE9PXQpfXBhdGhGcm9tUm9vdCh0KXtyZXR1cm4gZGcodCx0aGlzLl9yb290KS5tYXAodD0+dC52YWx1ZSl9fWZ1bmN0aW9uIGhnKHQsZSl7aWYodD09PWUudmFsdWUpcmV0dXJuIGU7Zm9yKGNvbnN0IG4gb2YgZS5jaGlsZHJlbil7Y29uc3QgZT1oZyh0LG4pO2lmKGUpcmV0dXJuIGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZGcodCxlKXtpZih0PT09ZS52YWx1ZSlyZXR1cm5bZV07Zm9yKGNvbnN0IG4gb2YgZS5jaGlsZHJlbil7Y29uc3Qgcj1kZyh0LG4pO2lmKHIubGVuZ3RoKXJldHVybiByLnVuc2hpZnQoZSkscn1yZXR1cm5bXX1jbGFzcyBwZ3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudmFsdWU9dCx0aGlzLmNoaWxkcmVuPWV9dG9TdHJpbmcoKXtyZXR1cm5gVHJlZU5vZGUoJHt0aGlzLnZhbHVlfSlgfX1mdW5jdGlvbiBmZyh0KXtjb25zdCBlPXt9O3JldHVybiB0JiZ0LmNoaWxkcmVuLmZvckVhY2godD0+ZVt0LnZhbHVlLm91dGxldF09dCksZX1jbGFzcyBnZyBleHRlbmRzIGNne2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5zbmFwc2hvdD1lLHdnKHRoaXMsdCl9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5zbmFwc2hvdC50b1N0cmluZygpfX1mdW5jdGlvbiBtZyh0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCxlKXtjb25zdCBuPW5ldyBiZyhbXSx7fSx7fSwiIix7fSx4ZixlLG51bGwsdC5yb290LC0xLHt9KTtyZXR1cm4gbmV3IF9nKCIiLG5ldyBwZyhuLFtdKSl9KHQsZSkscj1uZXcgQ3AoW25ldyBXZigiIix7fSldKSxzPW5ldyBDcCh7fSksaT1uZXcgQ3Aoe30pLG89bmV3IENwKHt9KSxhPW5ldyBDcCgiIiksbD1uZXcgeWcocixzLG8sYSxpLHhmLGUsbi5yb290KTtyZXR1cm4gbC5zbmFwc2hvdD1uLnJvb3QsbmV3IGdnKG5ldyBwZyhsLFtdKSxuKX1jbGFzcyB5Z3tjb25zdHJ1Y3Rvcih0LGUsbixyLHMsaSxvLGEpe3RoaXMudXJsPXQsdGhpcy5wYXJhbXM9ZSx0aGlzLnF1ZXJ5UGFyYW1zPW4sdGhpcy5mcmFnbWVudD1yLHRoaXMuZGF0YT1zLHRoaXMub3V0bGV0PWksdGhpcy5jb21wb25lbnQ9byx0aGlzLl9mdXR1cmVTbmFwc2hvdD1hfWdldCByb3V0ZUNvbmZpZygpe3JldHVybiB0aGlzLl9mdXR1cmVTbmFwc2hvdC5yb3V0ZUNvbmZpZ31nZXQgcm9vdCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5yb290fWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUucGFyZW50KHRoaXMpfWdldCBmaXJzdENoaWxkKCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLmZpcnN0Q2hpbGQodGhpcyl9Z2V0IGNoaWxkcmVuKCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLmNoaWxkcmVuKHRoaXMpfWdldCBwYXRoRnJvbVJvb3QoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUucGF0aEZyb21Sb290KHRoaXMpfWdldCBwYXJhbU1hcCgpe3JldHVybiB0aGlzLl9wYXJhbU1hcHx8KHRoaXMuX3BhcmFtTWFwPXRoaXMucGFyYW1zLnBpcGUoUyh0PT5UZih0KSkpKSx0aGlzLl9wYXJhbU1hcH1nZXQgcXVlcnlQYXJhbU1hcCgpe3JldHVybiB0aGlzLl9xdWVyeVBhcmFtTWFwfHwodGhpcy5fcXVlcnlQYXJhbU1hcD10aGlzLnF1ZXJ5UGFyYW1zLnBpcGUoUyh0PT5UZih0KSkpKSx0aGlzLl9xdWVyeVBhcmFtTWFwfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMuc25hcHNob3Q/dGhpcy5zbmFwc2hvdC50b1N0cmluZygpOmBGdXR1cmUoJHt0aGlzLl9mdXR1cmVTbmFwc2hvdH0pYH19ZnVuY3Rpb24gdmcodCxlPSJlbXB0eU9ubHkiKXtjb25zdCBuPXQucGF0aEZyb21Sb290O2xldCByPTA7aWYoImFsd2F5cyIhPT1lKWZvcihyPW4ubGVuZ3RoLTE7cj49MTspe2NvbnN0IHQ9bltyXSxlPW5bci0xXTtpZih0LnJvdXRlQ29uZmlnJiYiIj09PXQucm91dGVDb25maWcucGF0aClyLS07ZWxzZXtpZihlLmNvbXBvbmVudClicmVhaztyLS19fXJldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdC5yZWR1Y2UoKHQsZSk9Pih7cGFyYW1zOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0LnBhcmFtcyksZS5wYXJhbXMpLGRhdGE6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQuZGF0YSksZS5kYXRhKSxyZXNvbHZlOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0LnJlc29sdmUpLGUuX3Jlc29sdmVkRGF0YSl9KSx7cGFyYW1zOnt9LGRhdGE6e30scmVzb2x2ZTp7fX0pfShuLnNsaWNlKHIpKX1jbGFzcyBiZ3tjb25zdHJ1Y3Rvcih0LGUsbixyLHMsaSxvLGEsbCx1LGMpe3RoaXMudXJsPXQsdGhpcy5wYXJhbXM9ZSx0aGlzLnF1ZXJ5UGFyYW1zPW4sdGhpcy5mcmFnbWVudD1yLHRoaXMuZGF0YT1zLHRoaXMub3V0bGV0PWksdGhpcy5jb21wb25lbnQ9byx0aGlzLnJvdXRlQ29uZmlnPWEsdGhpcy5fdXJsU2VnbWVudD1sLHRoaXMuX2xhc3RQYXRoSW5kZXg9dSx0aGlzLl9yZXNvbHZlPWN9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy5fcm91dGVyU3RhdGUucm9vdH1nZXQgcGFyZW50KCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnBhcmVudCh0aGlzKX1nZXQgZmlyc3RDaGlsZCgpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5maXJzdENoaWxkKHRoaXMpfWdldCBjaGlsZHJlbigpe3JldHVybiB0aGlzLl9yb3V0ZXJTdGF0ZS5jaGlsZHJlbih0aGlzKX1nZXQgcGF0aEZyb21Sb290KCl7cmV0dXJuIHRoaXMuX3JvdXRlclN0YXRlLnBhdGhGcm9tUm9vdCh0aGlzKX1nZXQgcGFyYW1NYXAoKXtyZXR1cm4gdGhpcy5fcGFyYW1NYXB8fCh0aGlzLl9wYXJhbU1hcD1UZih0aGlzLnBhcmFtcykpLHRoaXMuX3BhcmFtTWFwfWdldCBxdWVyeVBhcmFtTWFwKCl7cmV0dXJuIHRoaXMuX3F1ZXJ5UGFyYW1NYXB8fCh0aGlzLl9xdWVyeVBhcmFtTWFwPVRmKHRoaXMucXVlcnlQYXJhbXMpKSx0aGlzLl9xdWVyeVBhcmFtTWFwfXRvU3RyaW5nKCl7cmV0dXJuYFJvdXRlKHVybDonJHt0aGlzLnVybC5tYXAodD0+dC50b1N0cmluZygpKS5qb2luKCIvIil9JywgcGF0aDonJHt0aGlzLnJvdXRlQ29uZmlnP3RoaXMucm91dGVDb25maWcucGF0aDoiIn0nKWB9fWNsYXNzIF9nIGV4dGVuZHMgY2d7Y29uc3RydWN0b3IodCxlKXtzdXBlcihlKSx0aGlzLnVybD10LHdnKHRoaXMsZSl9dG9TdHJpbmcoKXtyZXR1cm4gQ2codGhpcy5fcm9vdCl9fWZ1bmN0aW9uIHdnKHQsZSl7ZS52YWx1ZS5fcm91dGVyU3RhdGU9dCxlLmNoaWxkcmVuLmZvckVhY2goZT0+d2codCxlKSl9ZnVuY3Rpb24gQ2codCl7Y29uc3QgZT10LmNoaWxkcmVuLmxlbmd0aD4wP2AgeyAke3QuY2hpbGRyZW4ubWFwKENnKS5qb2luKCIsICIpfSB9IGA6IiI7cmV0dXJuYCR7dC52YWx1ZX0ke2V9YH1mdW5jdGlvbiBFZyh0KXtpZih0LnNuYXBzaG90KXtjb25zdCBlPXQuc25hcHNob3Qsbj10Ll9mdXR1cmVTbmFwc2hvdDt0LnNuYXBzaG90PW4sUGYoZS5xdWVyeVBhcmFtcyxuLnF1ZXJ5UGFyYW1zKXx8dC5xdWVyeVBhcmFtcy5uZXh0KG4ucXVlcnlQYXJhbXMpLGUuZnJhZ21lbnQhPT1uLmZyYWdtZW50JiZ0LmZyYWdtZW50Lm5leHQobi5mcmFnbWVudCksUGYoZS5wYXJhbXMsbi5wYXJhbXMpfHx0LnBhcmFtcy5uZXh0KG4ucGFyYW1zKSxmdW5jdGlvbih0LGUpe2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDsrK24paWYoIVBmKHRbbl0sZVtuXSkpcmV0dXJuITE7cmV0dXJuITB9KGUudXJsLG4udXJsKXx8dC51cmwubmV4dChuLnVybCksUGYoZS5kYXRhLG4uZGF0YSl8fHQuZGF0YS5uZXh0KG4uZGF0YSl9ZWxzZSB0LnNuYXBzaG90PXQuX2Z1dHVyZVNuYXBzaG90LHQuZGF0YS5uZXh0KHQuX2Z1dHVyZVNuYXBzaG90LmRhdGEpfWZ1bmN0aW9uIERnKHQsZSl7dmFyIG4scjtyZXR1cm4gUGYodC5wYXJhbXMsZS5wYXJhbXMpJiZHZihuPXQudXJsLHI9ZS51cmwpJiZuLmV2ZXJ5KCh0LGUpPT5QZih0LnBhcmFtZXRlcnMscltlXS5wYXJhbWV0ZXJzKSkmJiEoIXQucGFyZW50IT0hZS5wYXJlbnQpJiYoIXQucGFyZW50fHxEZyh0LnBhcmVudCxlLnBhcmVudCkpfWZ1bmN0aW9uIEFnKHQsZSxuKXtpZihuJiZ0LnNob3VsZFJldXNlUm91dGUoZS52YWx1ZSxuLnZhbHVlLnNuYXBzaG90KSl7Y29uc3Qgcj1uLnZhbHVlO3IuX2Z1dHVyZVNuYXBzaG90PWUudmFsdWU7Y29uc3Qgcz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGUuY2hpbGRyZW4ubWFwKGU9Pntmb3IoY29uc3QgciBvZiBuLmNoaWxkcmVuKWlmKHQuc2hvdWxkUmV1c2VSb3V0ZShlLnZhbHVlLHIudmFsdWUuc25hcHNob3QpKXJldHVybiBBZyh0LGUscik7cmV0dXJuIEFnKHQsZSl9KX0odCxlLG4pO3JldHVybiBuZXcgcGcocixzKX17aWYodC5zaG91bGRBdHRhY2goZS52YWx1ZSkpe2NvbnN0IG49dC5yZXRyaWV2ZShlLnZhbHVlKTtpZihudWxsIT09bil7Y29uc3QgdD1uLnJvdXRlO3JldHVybiBTZyhlLHQpLHR9fWNvbnN0IG49bmV3IHlnKG5ldyBDcCgocj1lLnZhbHVlKS51cmwpLG5ldyBDcChyLnBhcmFtcyksbmV3IENwKHIucXVlcnlQYXJhbXMpLG5ldyBDcChyLmZyYWdtZW50KSxuZXcgQ3Aoci5kYXRhKSxyLm91dGxldCxyLmNvbXBvbmVudCxyKSxzPWUuY2hpbGRyZW4ubWFwKGU9PkFnKHQsZSkpO3JldHVybiBuZXcgcGcobixzKX12YXIgcn1mdW5jdGlvbiBTZyh0LGUpe2lmKHQudmFsdWUucm91dGVDb25maWchPT1lLnZhbHVlLnJvdXRlQ29uZmlnKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHJlYXR0YWNoIEFjdGl2YXRlZFJvdXRlU25hcHNob3QgY3JlYXRlZCBmcm9tIGEgZGlmZmVyZW50IHJvdXRlIik7aWYodC5jaGlsZHJlbi5sZW5ndGghPT1lLmNoaWxkcmVuLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCByZWF0dGFjaCBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90IHdpdGggYSBkaWZmZXJlbnQgbnVtYmVyIG9mIGNoaWxkcmVuIik7ZS52YWx1ZS5fZnV0dXJlU25hcHNob3Q9dC52YWx1ZTtmb3IobGV0IG49MDtuPHQuY2hpbGRyZW4ubGVuZ3RoOysrbilTZyh0LmNoaWxkcmVuW25dLGUuY2hpbGRyZW5bbl0pfWZ1bmN0aW9uIHhnKHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9dCYmIXQub3V0bGV0cyYmIXQuc2VnbWVudFBhdGh9ZnVuY3Rpb24ga2codCl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10JiZ0Lm91dGxldHN9ZnVuY3Rpb24gVGcodCxlLG4scixzKXtsZXQgaT17fTtyZXR1cm4gciYmVmYociwodCxlKT0+e2lbZV09QXJyYXkuaXNBcnJheSh0KT90Lm1hcCh0PT5gJHt0fWApOmAke3R9YH0pLG5ldyB6ZihuLnJvb3Q9PT10P2U6T2cobi5yb290LHQsZSksaSxzKX1mdW5jdGlvbiBPZyh0LGUsbil7Y29uc3Qgcj17fTtyZXR1cm4gVmYodC5jaGlsZHJlbiwodCxzKT0+e3Jbc109dD09PWU/bjpPZyh0LGUsbil9KSxuZXcgcWYodC5zZWdtZW50cyxyKX1jbGFzcyBGZ3tjb25zdHJ1Y3Rvcih0LGUsbil7aWYodGhpcy5pc0Fic29sdXRlPXQsdGhpcy5udW1iZXJPZkRvdWJsZURvdHM9ZSx0aGlzLmNvbW1hbmRzPW4sdCYmbi5sZW5ndGg+MCYmeGcoblswXSkpdGhyb3cgbmV3IEVycm9yKCJSb290IHNlZ21lbnQgY2Fubm90IGhhdmUgbWF0cml4IHBhcmFtZXRlcnMiKTtjb25zdCByPW4uZmluZChrZyk7aWYociYmciE9PU1mKG4pKXRocm93IG5ldyBFcnJvcigie291dGxldHM6e319IGhhcyB0byBiZSB0aGUgbGFzdCBjb21tYW5kIil9dG9Sb290KCl7cmV0dXJuIHRoaXMuaXNBYnNvbHV0ZSYmMT09PXRoaXMuY29tbWFuZHMubGVuZ3RoJiYiLyI9PXRoaXMuY29tbWFuZHNbMF19fWNsYXNzIFBne2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLnNlZ21lbnRHcm91cD10LHRoaXMucHJvY2Vzc0NoaWxkcmVuPWUsdGhpcy5pbmRleD1ufX1mdW5jdGlvbiBJZyh0LGUsbil7aWYodHx8KHQ9bmV3IHFmKFtdLHt9KSksMD09PXQuc2VnbWVudHMubGVuZ3RoJiZ0Lmhhc0NoaWxkcmVuKCkpcmV0dXJuIFJnKHQsZSxuKTtjb25zdCByPWZ1bmN0aW9uKHQsZSxuKXtsZXQgcj0wLHM9ZTtjb25zdCBpPXttYXRjaDohMSxwYXRoSW5kZXg6MCxjb21tYW5kSW5kZXg6MH07Zm9yKDtzPHQuc2VnbWVudHMubGVuZ3RoOyl7aWYocj49bi5sZW5ndGgpcmV0dXJuIGk7Y29uc3QgZT10LnNlZ21lbnRzW3NdLG89bltyXTtpZihrZyhvKSlicmVhaztjb25zdCBhPWAke299YCxsPXI8bi5sZW5ndGgtMT9uW3IrMV06bnVsbDtpZihzPjAmJnZvaWQgMD09PWEpYnJlYWs7aWYoYSYmbCYmIm9iamVjdCI9PXR5cGVvZiBsJiZ2b2lkIDA9PT1sLm91dGxldHMpe2lmKCFOZyhhLGwsZSkpcmV0dXJuIGk7cis9Mn1lbHNle2lmKCFOZyhhLHt9LGUpKXJldHVybiBpO3IrK31zKyt9cmV0dXJue21hdGNoOiEwLHBhdGhJbmRleDpzLGNvbW1hbmRJbmRleDpyfX0odCxlLG4pLHM9bi5zbGljZShyLmNvbW1hbmRJbmRleCk7aWYoci5tYXRjaCYmci5wYXRoSW5kZXg8dC5zZWdtZW50cy5sZW5ndGgpe2NvbnN0IGU9bmV3IHFmKHQuc2VnbWVudHMuc2xpY2UoMCxyLnBhdGhJbmRleCkse30pO3JldHVybiBlLmNoaWxkcmVuLnByaW1hcnk9bmV3IHFmKHQuc2VnbWVudHMuc2xpY2Uoci5wYXRoSW5kZXgpLHQuY2hpbGRyZW4pLFJnKGUsMCxzKX1yZXR1cm4gci5tYXRjaCYmMD09PXMubGVuZ3RoP25ldyBxZih0LnNlZ21lbnRzLHt9KTpyLm1hdGNoJiYhdC5oYXNDaGlsZHJlbigpP01nKHQsZSxuKTpyLm1hdGNoP1JnKHQsMCxzKTpNZyh0LGUsbil9ZnVuY3Rpb24gUmcodCxlLG4pe2lmKDA9PT1uLmxlbmd0aClyZXR1cm4gbmV3IHFmKHQuc2VnbWVudHMse30pO3tjb25zdCByPWZ1bmN0aW9uKHQpe3JldHVybiBrZyh0WzBdKT90WzBdLm91dGxldHM6e1t4Zl06dH19KG4pLHM9e307cmV0dXJuIFZmKHIsKG4scik9Pnsic3RyaW5nIj09dHlwZW9mIG4mJihuPVtuXSksbnVsbCE9PW4mJihzW3JdPUlnKHQuY2hpbGRyZW5bcl0sZSxuKSl9KSxWZih0LmNoaWxkcmVuLCh0LGUpPT57dm9pZCAwPT09cltlXSYmKHNbZV09dCl9KSxuZXcgcWYodC5zZWdtZW50cyxzKX19ZnVuY3Rpb24gTWcodCxlLG4pe2NvbnN0IHI9dC5zZWdtZW50cy5zbGljZSgwLGUpO2xldCBzPTA7Zm9yKDtzPG4ubGVuZ3RoOyl7Y29uc3QgaT1uW3NdO2lmKGtnKGkpKXtjb25zdCB0PVZnKGkub3V0bGV0cyk7cmV0dXJuIG5ldyBxZihyLHQpfWlmKDA9PT1zJiZ4ZyhuWzBdKSl7ci5wdXNoKG5ldyBXZih0LnNlZ21lbnRzW2VdLnBhdGgsamcoblswXSkpKSxzKys7Y29udGludWV9Y29uc3Qgbz1rZyhpKT9pLm91dGxldHMucHJpbWFyeTpgJHtpfWAsYT1zPG4ubGVuZ3RoLTE/bltzKzFdOm51bGw7byYmYSYmeGcoYSk/KHIucHVzaChuZXcgV2YobyxqZyhhKSkpLHMrPTIpOihyLnB1c2gobmV3IFdmKG8se30pKSxzKyspfXJldHVybiBuZXcgcWYocix7fSl9ZnVuY3Rpb24gVmcodCl7Y29uc3QgZT17fTtyZXR1cm4gVmYodCwodCxuKT0+eyJzdHJpbmciPT10eXBlb2YgdCYmKHQ9W3RdKSxudWxsIT09dCYmKGVbbl09TWcobmV3IHFmKFtdLHt9KSwwLHQpKX0pLGV9ZnVuY3Rpb24gamcodCl7Y29uc3QgZT17fTtyZXR1cm4gVmYodCwodCxuKT0+ZVtuXT1gJHt0fWApLGV9ZnVuY3Rpb24gTmcodCxlLG4pe3JldHVybiB0PT1uLnBhdGgmJlBmKGUsbi5wYXJhbWV0ZXJzKX1jbGFzcyBMZ3tjb25zdHJ1Y3Rvcih0LGUsbixyKXt0aGlzLnJvdXRlUmV1c2VTdHJhdGVneT10LHRoaXMuZnV0dXJlU3RhdGU9ZSx0aGlzLmN1cnJTdGF0ZT1uLHRoaXMuZm9yd2FyZEV2ZW50PXJ9YWN0aXZhdGUodCl7Y29uc3QgZT10aGlzLmZ1dHVyZVN0YXRlLl9yb290LG49dGhpcy5jdXJyU3RhdGU/dGhpcy5jdXJyU3RhdGUuX3Jvb3Q6bnVsbDt0aGlzLmRlYWN0aXZhdGVDaGlsZFJvdXRlcyhlLG4sdCksRWcodGhpcy5mdXR1cmVTdGF0ZS5yb290KSx0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXMoZSxuLHQpfWRlYWN0aXZhdGVDaGlsZFJvdXRlcyh0LGUsbil7Y29uc3Qgcj1mZyhlKTt0LmNoaWxkcmVuLmZvckVhY2godD0+e2NvbnN0IGU9dC52YWx1ZS5vdXRsZXQ7dGhpcy5kZWFjdGl2YXRlUm91dGVzKHQscltlXSxuKSxkZWxldGUgcltlXX0pLFZmKHIsKHQsZSk9Pnt0aGlzLmRlYWN0aXZhdGVSb3V0ZUFuZEl0c0NoaWxkcmVuKHQsbil9KX1kZWFjdGl2YXRlUm91dGVzKHQsZSxuKXtjb25zdCByPXQudmFsdWUscz1lP2UudmFsdWU6bnVsbDtpZihyPT09cylpZihyLmNvbXBvbmVudCl7Y29uc3Qgcz1uLmdldENvbnRleHQoci5vdXRsZXQpO3MmJnRoaXMuZGVhY3RpdmF0ZUNoaWxkUm91dGVzKHQsZSxzLmNoaWxkcmVuKX1lbHNlIHRoaXMuZGVhY3RpdmF0ZUNoaWxkUm91dGVzKHQsZSxuKTtlbHNlIHMmJnRoaXMuZGVhY3RpdmF0ZVJvdXRlQW5kSXRzQ2hpbGRyZW4oZSxuKX1kZWFjdGl2YXRlUm91dGVBbmRJdHNDaGlsZHJlbih0LGUpe3RoaXMucm91dGVSZXVzZVN0cmF0ZWd5LnNob3VsZERldGFjaCh0LnZhbHVlLnNuYXBzaG90KT90aGlzLmRldGFjaEFuZFN0b3JlUm91dGVTdWJ0cmVlKHQsZSk6dGhpcy5kZWFjdGl2YXRlUm91dGVBbmRPdXRsZXQodCxlKX1kZXRhY2hBbmRTdG9yZVJvdXRlU3VidHJlZSh0LGUpe2NvbnN0IG49ZS5nZXRDb250ZXh0KHQudmFsdWUub3V0bGV0KTtpZihuJiZuLm91dGxldCl7Y29uc3QgZT1uLm91dGxldC5kZXRhY2goKSxyPW4uY2hpbGRyZW4ub25PdXRsZXREZWFjdGl2YXRlZCgpO3RoaXMucm91dGVSZXVzZVN0cmF0ZWd5LnN0b3JlKHQudmFsdWUuc25hcHNob3Qse2NvbXBvbmVudFJlZjplLHJvdXRlOnQsY29udGV4dHM6cn0pfX1kZWFjdGl2YXRlUm91dGVBbmRPdXRsZXQodCxlKXtjb25zdCBuPWUuZ2V0Q29udGV4dCh0LnZhbHVlLm91dGxldCkscj1uJiZ0LnZhbHVlLmNvbXBvbmVudD9uLmNoaWxkcmVuOmUscz1mZyh0KTtmb3IoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhzKSl0aGlzLmRlYWN0aXZhdGVSb3V0ZUFuZEl0c0NoaWxkcmVuKHNbaV0scik7biYmbi5vdXRsZXQmJihuLm91dGxldC5kZWFjdGl2YXRlKCksbi5jaGlsZHJlbi5vbk91dGxldERlYWN0aXZhdGVkKCksbi5hdHRhY2hSZWY9bnVsbCxuLnJlc29sdmVyPW51bGwsbi5yb3V0ZT1udWxsKX1hY3RpdmF0ZUNoaWxkUm91dGVzKHQsZSxuKXtjb25zdCByPWZnKGUpO3QuY2hpbGRyZW4uZm9yRWFjaCh0PT57dGhpcy5hY3RpdmF0ZVJvdXRlcyh0LHJbdC52YWx1ZS5vdXRsZXRdLG4pLHRoaXMuZm9yd2FyZEV2ZW50KG5ldyBBZih0LnZhbHVlLnNuYXBzaG90KSl9KSx0LmNoaWxkcmVuLmxlbmd0aCYmdGhpcy5mb3J3YXJkRXZlbnQobmV3IEVmKHQudmFsdWUuc25hcHNob3QpKX1hY3RpdmF0ZVJvdXRlcyh0LGUsbil7Y29uc3Qgcj10LnZhbHVlLHM9ZT9lLnZhbHVlOm51bGw7aWYoRWcocikscj09PXMpaWYoci5jb21wb25lbnQpe2NvbnN0IHM9bi5nZXRPckNyZWF0ZUNvbnRleHQoci5vdXRsZXQpO3RoaXMuYWN0aXZhdGVDaGlsZFJvdXRlcyh0LGUscy5jaGlsZHJlbil9ZWxzZSB0aGlzLmFjdGl2YXRlQ2hpbGRSb3V0ZXModCxlLG4pO2Vsc2UgaWYoci5jb21wb25lbnQpe2NvbnN0IGU9bi5nZXRPckNyZWF0ZUNvbnRleHQoci5vdXRsZXQpO2lmKHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LnNob3VsZEF0dGFjaChyLnNuYXBzaG90KSl7Y29uc3QgdD10aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5yZXRyaWV2ZShyLnNuYXBzaG90KTt0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5zdG9yZShyLnNuYXBzaG90LG51bGwpLGUuY2hpbGRyZW4ub25PdXRsZXRSZUF0dGFjaGVkKHQuY29udGV4dHMpLGUuYXR0YWNoUmVmPXQuY29tcG9uZW50UmVmLGUucm91dGU9dC5yb3V0ZS52YWx1ZSxlLm91dGxldCYmZS5vdXRsZXQuYXR0YWNoKHQuY29tcG9uZW50UmVmLHQucm91dGUudmFsdWUpLEJnKHQucm91dGUpfWVsc2V7Y29uc3Qgbj1mdW5jdGlvbih0KXtmb3IobGV0IGU9dC5wYXJlbnQ7ZTtlPWUucGFyZW50KXtjb25zdCB0PWUucm91dGVDb25maWc7aWYodCYmdC5fbG9hZGVkQ29uZmlnKXJldHVybiB0Ll9sb2FkZWRDb25maWc7aWYodCYmdC5jb21wb25lbnQpcmV0dXJuIG51bGx9cmV0dXJuIG51bGx9KHIuc25hcHNob3QpLHM9bj9uLm1vZHVsZS5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI6bnVsbDtlLmF0dGFjaFJlZj1udWxsLGUucm91dGU9cixlLnJlc29sdmVyPXMsZS5vdXRsZXQmJmUub3V0bGV0LmFjdGl2YXRlV2l0aChyLHMpLHRoaXMuYWN0aXZhdGVDaGlsZFJvdXRlcyh0LG51bGwsZS5jaGlsZHJlbil9fWVsc2UgdGhpcy5hY3RpdmF0ZUNoaWxkUm91dGVzKHQsbnVsbCxuKX19ZnVuY3Rpb24gQmcodCl7RWcodC52YWx1ZSksdC5jaGlsZHJlbi5mb3JFYWNoKEJnKX1jbGFzcyBVZ3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucm91dGVzPXQsdGhpcy5tb2R1bGU9ZX19ZnVuY3Rpb24gSGcodCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHR9ZnVuY3Rpb24gJGcodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB6Zn1jb25zdCB6Zz1TeW1ib2woIklOSVRJQUxfVkFMVUUiKTtmdW5jdGlvbiBxZygpe3JldHVybiBjZCh0PT5mdW5jdGlvbiguLi50KXtsZXQgZSxuO3JldHVybiBBKHRbdC5sZW5ndGgtMV0pJiYobj10LnBvcCgpKSwiZnVuY3Rpb24iPT10eXBlb2YgdFt0Lmxlbmd0aC0xXSYmKGU9dC5wb3AoKSksMT09PXQubGVuZ3RoJiZsKHRbMF0pJiYodD10WzBdKSx6KHQsbikubGlmdChuZXcgeHAoZSkpfSh0Lm1hcCh0PT50LnBpcGUoSXAoMSksZnVuY3Rpb24oLi4udCl7Y29uc3QgZT10W3QubGVuZ3RoLTFdO3JldHVybiBBKGUpPyh0LnBvcCgpLG49Pk9wKHQsbixlKSk6ZT0+T3AodCxlKX0oemcpKSkpLnBpcGUoVnAoKHQsZSk9PntsZXQgbj0hMTtyZXR1cm4gZS5yZWR1Y2UoKHQscixzKT0+e2lmKHQhPT16ZylyZXR1cm4gdDtpZihyPT09emcmJihuPSEwKSwhbil7aWYoITE9PT1yKXJldHVybiByO2lmKHM9PT1lLmxlbmd0aC0xfHwkZyhyKSlyZXR1cm4gcn1yZXR1cm4gdH0sdCl9LHpnKSxMcCh0PT50IT09emcpLFModD0+JGcodCk/dDohMD09PXQpLElwKDEpKSl9bGV0IFdnPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJuZy1jb21wb25lbnQiXV0sZGVjbHM6MSx2YXJzOjAsdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJnlvKDAsInJvdXRlci1vdXRsZXQiKX0sZGlyZWN0aXZlczpmdW5jdGlvbigpe3JldHVybltCbV19LGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpO2Z1bmN0aW9uIEdnKHQsZT0iIil7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IHI9dFtuXTtaZyhyLEtnKGUscikpfX1mdW5jdGlvbiBaZyh0LGUpe3QuY2hpbGRyZW4mJkdnKHQuY2hpbGRyZW4sZSl9ZnVuY3Rpb24gS2codCxlKXtyZXR1cm4gZT90fHxlLnBhdGg/dCYmIWUucGF0aD9gJHt0fS9gOiF0JiZlLnBhdGg/ZS5wYXRoOmAke3R9LyR7ZS5wYXRofWA6IiI6dH1mdW5jdGlvbiBZZyh0KXtjb25zdCBlPXQuY2hpbGRyZW4mJnQuY2hpbGRyZW4ubWFwKFlnKSxuPWU/T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHtjaGlsZHJlbjplfSk6T2JqZWN0LmFzc2lnbih7fSx0KTtyZXR1cm4hbi5jb21wb25lbnQmJihlfHxuLmxvYWRDaGlsZHJlbikmJm4ub3V0bGV0JiZuLm91dGxldCE9PXhmJiYobi5jb21wb25lbnQ9V2cpLG59ZnVuY3Rpb24gUWcodCl7cmV0dXJuIHQub3V0bGV0fHx4Zn1mdW5jdGlvbiBYZyh0LGUpe2NvbnN0IG49dC5maWx0ZXIodD0+UWcodCk9PT1lKTtyZXR1cm4gbi5wdXNoKC4uLnQuZmlsdGVyKHQ9PlFnKHQpIT09ZSkpLG59Y29uc3QgSmc9e21hdGNoZWQ6ITEsY29uc3VtZWRTZWdtZW50czpbXSxsYXN0Q2hpbGQ6MCxwYXJhbWV0ZXJzOnt9LHBvc2l0aW9uYWxQYXJhbVNlZ21lbnRzOnt9fTtmdW5jdGlvbiB0bSh0LGUsbil7dmFyIHI7aWYoIiI9PT1lLnBhdGgpcmV0dXJuImZ1bGwiPT09ZS5wYXRoTWF0Y2gmJih0Lmhhc0NoaWxkcmVuKCl8fG4ubGVuZ3RoPjApP09iamVjdC5hc3NpZ24oe30sSmcpOnttYXRjaGVkOiEwLGNvbnN1bWVkU2VnbWVudHM6W10sbGFzdENoaWxkOjAscGFyYW1ldGVyczp7fSxwb3NpdGlvbmFsUGFyYW1TZWdtZW50czp7fX07Y29uc3Qgcz0oZS5tYXRjaGVyfHxGZikobix0LGUpO2lmKCFzKXJldHVybiBPYmplY3QuYXNzaWduKHt9LEpnKTtjb25zdCBpPXt9O1ZmKHMucG9zUGFyYW1zLCh0LGUpPT57aVtlXT10LnBhdGh9KTtjb25zdCBvPXMuY29uc3VtZWQubGVuZ3RoPjA/T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGkpLHMuY29uc3VtZWRbcy5jb25zdW1lZC5sZW5ndGgtMV0ucGFyYW1ldGVycyk6aTtyZXR1cm57bWF0Y2hlZDohMCxjb25zdW1lZFNlZ21lbnRzOnMuY29uc3VtZWQsbGFzdENoaWxkOnMuY29uc3VtZWQubGVuZ3RoLHBhcmFtZXRlcnM6byxwb3NpdGlvbmFsUGFyYW1TZWdtZW50czpudWxsIT09KHI9cy5wb3NQYXJhbXMpJiZ2b2lkIDAhPT1yP3I6e319fWZ1bmN0aW9uIGVtKHQsZSxuLHIscz0iY29ycmVjdGVkIil7aWYobi5sZW5ndGg+MCYmZnVuY3Rpb24odCxlLG4pe3JldHVybiBuLnNvbWUobj0+bm0odCxlLG4pJiZRZyhuKSE9PXhmKX0odCxuLHIpKXtjb25zdCBzPW5ldyBxZihlLGZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9e307cy5wcmltYXJ5PXIsci5fc291cmNlU2VnbWVudD10LHIuX3NlZ21lbnRJbmRleFNoaWZ0PWUubGVuZ3RoO2Zvcihjb25zdCBpIG9mIG4paWYoIiI9PT1pLnBhdGgmJlFnKGkpIT09eGYpe2NvbnN0IG49bmV3IHFmKFtdLHt9KTtuLl9zb3VyY2VTZWdtZW50PXQsbi5fc2VnbWVudEluZGV4U2hpZnQ9ZS5sZW5ndGgsc1tRZyhpKV09bn1yZXR1cm4gc30odCxlLHIsbmV3IHFmKG4sdC5jaGlsZHJlbikpKTtyZXR1cm4gcy5fc291cmNlU2VnbWVudD10LHMuX3NlZ21lbnRJbmRleFNoaWZ0PWUubGVuZ3RoLHtzZWdtZW50R3JvdXA6cyxzbGljZWRTZWdtZW50czpbXX19aWYoMD09PW4ubGVuZ3RoJiZmdW5jdGlvbih0LGUsbil7cmV0dXJuIG4uc29tZShuPT5ubSh0LGUsbikpfSh0LG4scikpe2NvbnN0IGk9bmV3IHFmKHQuc2VnbWVudHMsZnVuY3Rpb24odCxlLG4scixzLGkpe2NvbnN0IG89e307Zm9yKGNvbnN0IGEgb2YgcilpZihubSh0LG4sYSkmJiFzW1FnKGEpXSl7Y29uc3Qgbj1uZXcgcWYoW10se30pO24uX3NvdXJjZVNlZ21lbnQ9dCxuLl9zZWdtZW50SW5kZXhTaGlmdD0ibGVnYWN5Ij09PWk/dC5zZWdtZW50cy5sZW5ndGg6ZS5sZW5ndGgsb1tRZyhhKV09bn1yZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHMpLG8pfSh0LGUsbixyLHQuY2hpbGRyZW4scykpO3JldHVybiBpLl9zb3VyY2VTZWdtZW50PXQsaS5fc2VnbWVudEluZGV4U2hpZnQ9ZS5sZW5ndGgse3NlZ21lbnRHcm91cDppLHNsaWNlZFNlZ21lbnRzOm59fWNvbnN0IGk9bmV3IHFmKHQuc2VnbWVudHMsdC5jaGlsZHJlbik7cmV0dXJuIGkuX3NvdXJjZVNlZ21lbnQ9dCxpLl9zZWdtZW50SW5kZXhTaGlmdD1lLmxlbmd0aCx7c2VnbWVudEdyb3VwOmksc2xpY2VkU2VnbWVudHM6bn19ZnVuY3Rpb24gbm0odCxlLG4pe3JldHVybighKHQuaGFzQ2hpbGRyZW4oKXx8ZS5sZW5ndGg+MCl8fCJmdWxsIiE9PW4ucGF0aE1hdGNoKSYmIiI9PT1uLnBhdGh9ZnVuY3Rpb24gcm0odCxlLG4scil7cmV0dXJuISEoUWcodCk9PT1yfHxyIT09eGYmJm5tKGUsbix0KSkmJigiKioiPT09dC5wYXRofHx0bShlLHQsbikubWF0Y2hlZCl9ZnVuY3Rpb24gc20odCxlLG4pe3JldHVybiAwPT09ZS5sZW5ndGgmJiF0LmNoaWxkcmVuW25dfWNsYXNzIGlte2NvbnN0cnVjdG9yKHQpe3RoaXMuc2VnbWVudEdyb3VwPXR8fG51bGx9fWNsYXNzIG9te2NvbnN0cnVjdG9yKHQpe3RoaXMudXJsVHJlZT10fX1mdW5jdGlvbiBhbSh0KXtyZXR1cm4gbmV3IHYoZT0+ZS5lcnJvcihuZXcgaW0odCkpKX1mdW5jdGlvbiBsbSh0KXtyZXR1cm4gbmV3IHYoZT0+ZS5lcnJvcihuZXcgb20odCkpKX1mdW5jdGlvbiB1bSh0KXtyZXR1cm4gbmV3IHYoZT0+ZS5lcnJvcihuZXcgRXJyb3IoYE9ubHkgYWJzb2x1dGUgcmVkaXJlY3RzIGNhbiBoYXZlIG5hbWVkIG91dGxldHMuIHJlZGlyZWN0VG86ICcke3R9J2ApKSl9Y2xhc3MgY217Y29uc3RydWN0b3IodCxlLG4scixzKXt0aGlzLmNvbmZpZ0xvYWRlcj1lLHRoaXMudXJsU2VyaWFsaXplcj1uLHRoaXMudXJsVHJlZT1yLHRoaXMuY29uZmlnPXMsdGhpcy5hbGxvd1JlZGlyZWN0cz0hMCx0aGlzLm5nTW9kdWxlPXQuZ2V0KHRsKX1hcHBseSgpe2NvbnN0IHQ9ZW0odGhpcy51cmxUcmVlLnJvb3QsW10sW10sdGhpcy5jb25maWcpLnNlZ21lbnRHcm91cCxlPW5ldyBxZih0LnNlZ21lbnRzLHQuY2hpbGRyZW4pO3JldHVybiB0aGlzLmV4cGFuZFNlZ21lbnRHcm91cCh0aGlzLm5nTW9kdWxlLHRoaXMuY29uZmlnLGUseGYpLnBpcGUoUyh0PT50aGlzLmNyZWF0ZVVybFRyZWUoaG0odCksdGhpcy51cmxUcmVlLnF1ZXJ5UGFyYW1zLHRoaXMudXJsVHJlZS5mcmFnbWVudCkpKS5waXBlKEhwKHQ9PntpZih0IGluc3RhbmNlb2Ygb20pcmV0dXJuIHRoaXMuYWxsb3dSZWRpcmVjdHM9ITEsdGhpcy5tYXRjaCh0LnVybFRyZWUpO2lmKHQgaW5zdGFuY2VvZiBpbSl0aHJvdyB0aGlzLm5vTWF0Y2hFcnJvcih0KTt0aHJvdyB0fSkpfW1hdGNoKHQpe3JldHVybiB0aGlzLmV4cGFuZFNlZ21lbnRHcm91cCh0aGlzLm5nTW9kdWxlLHRoaXMuY29uZmlnLHQucm9vdCx4ZikucGlwZShTKGU9PnRoaXMuY3JlYXRlVXJsVHJlZShobShlKSx0LnF1ZXJ5UGFyYW1zLHQuZnJhZ21lbnQpKSkucGlwZShIcCh0PT57aWYodCBpbnN0YW5jZW9mIGltKXRocm93IHRoaXMubm9NYXRjaEVycm9yKHQpO3Rocm93IHR9KSl9bm9NYXRjaEVycm9yKHQpe3JldHVybiBuZXcgRXJyb3IoYENhbm5vdCBtYXRjaCBhbnkgcm91dGVzLiBVUkwgU2VnbWVudDogJyR7dC5zZWdtZW50R3JvdXB9J2ApfWNyZWF0ZVVybFRyZWUodCxlLG4pe2NvbnN0IHI9dC5zZWdtZW50cy5sZW5ndGg+MD9uZXcgcWYoW10se1t4Zl06dH0pOnQ7cmV0dXJuIG5ldyB6ZihyLGUsbil9ZXhwYW5kU2VnbWVudEdyb3VwKHQsZSxuLHIpe3JldHVybiAwPT09bi5zZWdtZW50cy5sZW5ndGgmJm4uaGFzQ2hpbGRyZW4oKT90aGlzLmV4cGFuZENoaWxkcmVuKHQsZSxuKS5waXBlKFModD0+bmV3IHFmKFtdLHQpKSk6dGhpcy5leHBhbmRTZWdtZW50KHQsbixlLG4uc2VnbWVudHMsciwhMCl9ZXhwYW5kQ2hpbGRyZW4odCxlLG4pe2NvbnN0IHI9W107Zm9yKGNvbnN0IHMgb2YgT2JqZWN0LmtleXMobi5jaGlsZHJlbikpInByaW1hcnkiPT09cz9yLnVuc2hpZnQocyk6ci5wdXNoKHMpO3JldHVybiBWKHIpLnBpcGUocXAocj0+e2NvbnN0IHM9bi5jaGlsZHJlbltyXSxpPVhnKGUscik7cmV0dXJuIHRoaXMuZXhwYW5kU2VnbWVudEdyb3VwKHQsaSxzLHIpLnBpcGUoUyh0PT4oe3NlZ21lbnQ6dCxvdXRsZXQ6cn0pKSl9KSxWcCgodCxlKT0+KHRbZS5vdXRsZXRdPWUuc2VnbWVudCx0KSx7fSksZnVuY3Rpb24odCxlKXtjb25zdCBuPWFyZ3VtZW50cy5sZW5ndGg+PTI7cmV0dXJuIHI9PnIucGlwZSh0P0xwKChlLG4pPT50KGUsbixyKSk6eSxXcCgxKSxuP0pwKGUpOktwKCgpPT5uZXcgVHApKX0oKSl9ZXhwYW5kU2VnbWVudCh0LGUsbixyLHMsaSl7cmV0dXJuIFYobikucGlwZShxcChvPT50aGlzLmV4cGFuZFNlZ21lbnRBZ2FpbnN0Um91dGUodCxlLG4sbyxyLHMsaSkucGlwZShIcCh0PT57aWYodCBpbnN0YW5jZW9mIGltKXJldHVybiBuZChudWxsKTt0aHJvdyB0fSkpKSxuZih0PT4hIXQpLEhwKCh0LG4pPT57aWYodCBpbnN0YW5jZW9mIFRwfHwiRW1wdHlFcnJvciI9PT10Lm5hbWUpe2lmKHNtKGUscixzKSlyZXR1cm4gbmQobmV3IHFmKFtdLHt9KSk7dGhyb3cgbmV3IGltKGUpfXRocm93IHR9KSl9ZXhwYW5kU2VnbWVudEFnYWluc3RSb3V0ZSh0LGUsbixyLHMsaSxvKXtyZXR1cm4gcm0ocixlLHMsaSk/dm9pZCAwPT09ci5yZWRpcmVjdFRvP3RoaXMubWF0Y2hTZWdtZW50QWdhaW5zdFJvdXRlKHQsZSxyLHMsaSk6byYmdGhpcy5hbGxvd1JlZGlyZWN0cz90aGlzLmV4cGFuZFNlZ21lbnRBZ2FpbnN0Um91dGVVc2luZ1JlZGlyZWN0KHQsZSxuLHIscyxpKTphbShlKTphbShlKX1leHBhbmRTZWdtZW50QWdhaW5zdFJvdXRlVXNpbmdSZWRpcmVjdCh0LGUsbixyLHMsaSl7cmV0dXJuIioqIj09PXIucGF0aD90aGlzLmV4cGFuZFdpbGRDYXJkV2l0aFBhcmFtc0FnYWluc3RSb3V0ZVVzaW5nUmVkaXJlY3QodCxuLHIsaSk6dGhpcy5leHBhbmRSZWd1bGFyU2VnbWVudEFnYWluc3RSb3V0ZVVzaW5nUmVkaXJlY3QodCxlLG4scixzLGkpfWV4cGFuZFdpbGRDYXJkV2l0aFBhcmFtc0FnYWluc3RSb3V0ZVVzaW5nUmVkaXJlY3QodCxlLG4scil7Y29uc3Qgcz10aGlzLmFwcGx5UmVkaXJlY3RDb21tYW5kcyhbXSxuLnJlZGlyZWN0VG8se30pO3JldHVybiBuLnJlZGlyZWN0VG8uc3RhcnRzV2l0aCgiLyIpP2xtKHMpOnRoaXMubGluZXJhbGl6ZVNlZ21lbnRzKG4scykucGlwZShCKG49Pntjb25zdCBzPW5ldyBxZihuLHt9KTtyZXR1cm4gdGhpcy5leHBhbmRTZWdtZW50KHQscyxlLG4sciwhMSl9KSl9ZXhwYW5kUmVndWxhclNlZ21lbnRBZ2FpbnN0Um91dGVVc2luZ1JlZGlyZWN0KHQsZSxuLHIscyxpKXtjb25zdHttYXRjaGVkOm8sY29uc3VtZWRTZWdtZW50czphLGxhc3RDaGlsZDpsLHBvc2l0aW9uYWxQYXJhbVNlZ21lbnRzOnV9PXRtKGUscixzKTtpZighbylyZXR1cm4gYW0oZSk7Y29uc3QgYz10aGlzLmFwcGx5UmVkaXJlY3RDb21tYW5kcyhhLHIucmVkaXJlY3RUbyx1KTtyZXR1cm4gci5yZWRpcmVjdFRvLnN0YXJ0c1dpdGgoIi8iKT9sbShjKTp0aGlzLmxpbmVyYWxpemVTZWdtZW50cyhyLGMpLnBpcGUoQihyPT50aGlzLmV4cGFuZFNlZ21lbnQodCxlLG4sci5jb25jYXQocy5zbGljZShsKSksaSwhMSkpKX1tYXRjaFNlZ21lbnRBZ2FpbnN0Um91dGUodCxlLG4scixzKXtpZigiKioiPT09bi5wYXRoKXJldHVybiBuLmxvYWRDaGlsZHJlbj8obi5fbG9hZGVkQ29uZmlnP25kKG4uX2xvYWRlZENvbmZpZyk6dGhpcy5jb25maWdMb2FkZXIubG9hZCh0LmluamVjdG9yLG4pKS5waXBlKFModD0+KG4uX2xvYWRlZENvbmZpZz10LG5ldyBxZihyLHt9KSkpKTpuZChuZXcgcWYocix7fSkpO2NvbnN0e21hdGNoZWQ6aSxjb25zdW1lZFNlZ21lbnRzOm8sbGFzdENoaWxkOmF9PXRtKGUsbixyKTtpZighaSlyZXR1cm4gYW0oZSk7Y29uc3QgbD1yLnNsaWNlKGEpO3JldHVybiB0aGlzLmdldENoaWxkQ29uZmlnKHQsbixyKS5waXBlKEIodD0+e2NvbnN0IHI9dC5tb2R1bGUsaT10LnJvdXRlcyx7c2VnbWVudEdyb3VwOmEsc2xpY2VkU2VnbWVudHM6dX09ZW0oZSxvLGwsaSksYz1uZXcgcWYoYS5zZWdtZW50cyxhLmNoaWxkcmVuKTtpZigwPT09dS5sZW5ndGgmJmMuaGFzQ2hpbGRyZW4oKSlyZXR1cm4gdGhpcy5leHBhbmRDaGlsZHJlbihyLGksYykucGlwZShTKHQ9Pm5ldyBxZihvLHQpKSk7aWYoMD09PWkubGVuZ3RoJiYwPT09dS5sZW5ndGgpcmV0dXJuIG5kKG5ldyBxZihvLHt9KSk7Y29uc3QgaD1RZyhuKT09PXM7cmV0dXJuIHRoaXMuZXhwYW5kU2VnbWVudChyLGMsaSx1LGg/eGY6cywhMCkucGlwZShTKHQ9Pm5ldyBxZihvLmNvbmNhdCh0LnNlZ21lbnRzKSx0LmNoaWxkcmVuKSkpfSkpfWdldENoaWxkQ29uZmlnKHQsZSxuKXtyZXR1cm4gZS5jaGlsZHJlbj9uZChuZXcgVWcoZS5jaGlsZHJlbix0KSk6ZS5sb2FkQ2hpbGRyZW4/dm9pZCAwIT09ZS5fbG9hZGVkQ29uZmlnP25kKGUuX2xvYWRlZENvbmZpZyk6dGhpcy5ydW5DYW5Mb2FkR3VhcmRzKHQuaW5qZWN0b3IsZSxuKS5waXBlKEIobj0+bj90aGlzLmNvbmZpZ0xvYWRlci5sb2FkKHQuaW5qZWN0b3IsZSkucGlwZShTKHQ9PihlLl9sb2FkZWRDb25maWc9dCx0KSkpOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdihlPT5lLmVycm9yKE9mKGBDYW5ub3QgbG9hZCBjaGlsZHJlbiBiZWNhdXNlIHRoZSBndWFyZCBvZiB0aGUgcm91dGUgInBhdGg6ICcke3QucGF0aH0nIiByZXR1cm5lZCBmYWxzZWApKSl9KGUpKSk6bmQobmV3IFVnKFtdLHQpKX1ydW5DYW5Mb2FkR3VhcmRzKHQsZSxuKXtjb25zdCByPWUuY2FuTG9hZDtyZXR1cm4gciYmMCE9PXIubGVuZ3RoP25kKHIubWFwKHI9Pntjb25zdCBzPXQuZ2V0KHIpO2xldCBpO2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZIZyh0LmNhbkxvYWQpfShzKSlpPXMuY2FuTG9hZChlLG4pO2Vsc2V7aWYoIUhnKHMpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBDYW5Mb2FkIGd1YXJkIik7aT1zKGUsbil9cmV0dXJuIGpmKGkpfSkpLnBpcGUocWcoKSxzZih0PT57aWYoISRnKHQpKXJldHVybjtjb25zdCBlPU9mKGBSZWRpcmVjdGluZyB0byAiJHt0aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKHQpfSJgKTt0aHJvdyBlLnVybD10LGV9KSxTKHQ9PiEwPT09dCkpOm5kKCEwKX1saW5lcmFsaXplU2VnbWVudHModCxlKXtsZXQgbj1bXSxyPWUucm9vdDtmb3IoOzspe2lmKG49bi5jb25jYXQoci5zZWdtZW50cyksMD09PXIubnVtYmVyT2ZDaGlsZHJlbilyZXR1cm4gbmQobik7aWYoci5udW1iZXJPZkNoaWxkcmVuPjF8fCFyLmNoaWxkcmVuLnByaW1hcnkpcmV0dXJuIHVtKHQucmVkaXJlY3RUbyk7cj1yLmNoaWxkcmVuLnByaW1hcnl9fWFwcGx5UmVkaXJlY3RDb21tYW5kcyh0LGUsbil7cmV0dXJuIHRoaXMuYXBwbHlSZWRpcmVjdENyZWF0cmVVcmxUcmVlKGUsdGhpcy51cmxTZXJpYWxpemVyLnBhcnNlKGUpLHQsbil9YXBwbHlSZWRpcmVjdENyZWF0cmVVcmxUcmVlKHQsZSxuLHIpe2NvbnN0IHM9dGhpcy5jcmVhdGVTZWdtZW50R3JvdXAodCxlLnJvb3QsbixyKTtyZXR1cm4gbmV3IHpmKHMsdGhpcy5jcmVhdGVRdWVyeVBhcmFtcyhlLnF1ZXJ5UGFyYW1zLHRoaXMudXJsVHJlZS5xdWVyeVBhcmFtcyksZS5mcmFnbWVudCl9Y3JlYXRlUXVlcnlQYXJhbXModCxlKXtjb25zdCBuPXt9O3JldHVybiBWZih0LCh0LHIpPT57aWYoInN0cmluZyI9PXR5cGVvZiB0JiZ0LnN0YXJ0c1dpdGgoIjoiKSl7Y29uc3Qgcz10LnN1YnN0cmluZygxKTtuW3JdPWVbc119ZWxzZSBuW3JdPXR9KSxufWNyZWF0ZVNlZ21lbnRHcm91cCh0LGUsbixyKXtjb25zdCBzPXRoaXMuY3JlYXRlU2VnbWVudHModCxlLnNlZ21lbnRzLG4scik7bGV0IGk9e307cmV0dXJuIFZmKGUuY2hpbGRyZW4sKGUscyk9PntpW3NdPXRoaXMuY3JlYXRlU2VnbWVudEdyb3VwKHQsZSxuLHIpfSksbmV3IHFmKHMsaSl9Y3JlYXRlU2VnbWVudHModCxlLG4scil7cmV0dXJuIGUubWFwKGU9PmUucGF0aC5zdGFydHNXaXRoKCI6Iik/dGhpcy5maW5kUG9zUGFyYW0odCxlLHIpOnRoaXMuZmluZE9yUmV0dXJuKGUsbikpfWZpbmRQb3NQYXJhbSh0LGUsbil7Y29uc3Qgcj1uW2UucGF0aC5zdWJzdHJpbmcoMSldO2lmKCFyKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IHJlZGlyZWN0IHRvICcke3R9Jy4gQ2Fubm90IGZpbmQgJyR7ZS5wYXRofScuYCk7cmV0dXJuIHJ9ZmluZE9yUmV0dXJuKHQsZSl7bGV0IG49MDtmb3IoY29uc3QgciBvZiBlKXtpZihyLnBhdGg9PT10LnBhdGgpcmV0dXJuIGUuc3BsaWNlKG4pLHI7bisrfXJldHVybiB0fX1mdW5jdGlvbiBobSh0KXtjb25zdCBlPXt9O2Zvcihjb25zdCBuIG9mIE9iamVjdC5rZXlzKHQuY2hpbGRyZW4pKXtjb25zdCByPWhtKHQuY2hpbGRyZW5bbl0pOyhyLnNlZ21lbnRzLmxlbmd0aD4wfHxyLmhhc0NoaWxkcmVuKCkpJiYoZVtuXT1yKX1yZXR1cm4gZnVuY3Rpb24odCl7aWYoMT09PXQubnVtYmVyT2ZDaGlsZHJlbiYmdC5jaGlsZHJlbi5wcmltYXJ5KXtjb25zdCBlPXQuY2hpbGRyZW4ucHJpbWFyeTtyZXR1cm4gbmV3IHFmKHQuc2VnbWVudHMuY29uY2F0KGUuc2VnbWVudHMpLGUuY2hpbGRyZW4pfXJldHVybiB0fShuZXcgcWYodC5zZWdtZW50cyxlKSl9Y2xhc3MgZG17Y29uc3RydWN0b3IodCl7dGhpcy5wYXRoPXQsdGhpcy5yb3V0ZT10aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aC0xXX19Y2xhc3MgcG17Y29uc3RydWN0b3IodCxlKXt0aGlzLmNvbXBvbmVudD10LHRoaXMucm91dGU9ZX19ZnVuY3Rpb24gZm0odCxlLG4pe2NvbnN0IHI9dC5fcm9vdDtyZXR1cm4gbW0ocixlP2UuX3Jvb3Q6bnVsbCxuLFtyLnZhbHVlXSl9ZnVuY3Rpb24gZ20odCxlLG4pe2NvbnN0IHI9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIG51bGw7Zm9yKGxldCBlPXQucGFyZW50O2U7ZT1lLnBhcmVudCl7Y29uc3QgdD1lLnJvdXRlQ29uZmlnO2lmKHQmJnQuX2xvYWRlZENvbmZpZylyZXR1cm4gdC5fbG9hZGVkQ29uZmlnfXJldHVybiBudWxsfShlKTtyZXR1cm4ocj9yLm1vZHVsZS5pbmplY3RvcjpuKS5nZXQodCl9ZnVuY3Rpb24gbW0odCxlLG4scixzPXtjYW5EZWFjdGl2YXRlQ2hlY2tzOltdLGNhbkFjdGl2YXRlQ2hlY2tzOltdfSl7Y29uc3QgaT1mZyhlKTtyZXR1cm4gdC5jaGlsZHJlbi5mb3JFYWNoKHQ9PnshZnVuY3Rpb24odCxlLG4scixzPXtjYW5EZWFjdGl2YXRlQ2hlY2tzOltdLGNhbkFjdGl2YXRlQ2hlY2tzOltdfSl7Y29uc3QgaT10LnZhbHVlLG89ZT9lLnZhbHVlOm51bGwsYT1uP24uZ2V0Q29udGV4dCh0LnZhbHVlLm91dGxldCk6bnVsbDtpZihvJiZpLnJvdXRlQ29uZmlnPT09by5yb3V0ZUNvbmZpZyl7Y29uc3QgbD1mdW5jdGlvbih0LGUsbil7aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4pcmV0dXJuIG4odCxlKTtzd2l0Y2gobil7Y2FzZSJwYXRoUGFyYW1zQ2hhbmdlIjpyZXR1cm4hR2YodC51cmwsZS51cmwpO2Nhc2UicGF0aFBhcmFtc09yUXVlcnlQYXJhbXNDaGFuZ2UiOnJldHVybiFHZih0LnVybCxlLnVybCl8fCFQZih0LnF1ZXJ5UGFyYW1zLGUucXVlcnlQYXJhbXMpO2Nhc2UiYWx3YXlzIjpyZXR1cm4hMDtjYXNlInBhcmFtc09yUXVlcnlQYXJhbXNDaGFuZ2UiOnJldHVybiFEZyh0LGUpfHwhUGYodC5xdWVyeVBhcmFtcyxlLnF1ZXJ5UGFyYW1zKTtjYXNlInBhcmFtc0NoYW5nZSI6ZGVmYXVsdDpyZXR1cm4hRGcodCxlKX19KG8saSxpLnJvdXRlQ29uZmlnLnJ1bkd1YXJkc0FuZFJlc29sdmVycyk7bD9zLmNhbkFjdGl2YXRlQ2hlY2tzLnB1c2gobmV3IGRtKHIpKTooaS5kYXRhPW8uZGF0YSxpLl9yZXNvbHZlZERhdGE9by5fcmVzb2x2ZWREYXRhKSxtbSh0LGUsaS5jb21wb25lbnQ/YT9hLmNoaWxkcmVuOm51bGw6bixyLHMpLGwmJmEmJmEub3V0bGV0JiZhLm91dGxldC5pc0FjdGl2YXRlZCYmcy5jYW5EZWFjdGl2YXRlQ2hlY2tzLnB1c2gobmV3IHBtKGEub3V0bGV0LmNvbXBvbmVudCxvKSl9ZWxzZSBvJiZ5bShlLGEscykscy5jYW5BY3RpdmF0ZUNoZWNrcy5wdXNoKG5ldyBkbShyKSksbW0odCxudWxsLGkuY29tcG9uZW50P2E/YS5jaGlsZHJlbjpudWxsOm4scixzKX0odCxpW3QudmFsdWUub3V0bGV0XSxuLHIuY29uY2F0KFt0LnZhbHVlXSkscyksZGVsZXRlIGlbdC52YWx1ZS5vdXRsZXRdfSksVmYoaSwodCxlKT0+eW0odCxuLmdldENvbnRleHQoZSkscykpLHN9ZnVuY3Rpb24geW0odCxlLG4pe2NvbnN0IHI9ZmcodCkscz10LnZhbHVlO1ZmKHIsKHQscik9Pnt5bSh0LHMuY29tcG9uZW50P2U/ZS5jaGlsZHJlbi5nZXRDb250ZXh0KHIpOm51bGw6ZSxuKX0pLG4uY2FuRGVhY3RpdmF0ZUNoZWNrcy5wdXNoKG5ldyBwbShzLmNvbXBvbmVudCYmZSYmZS5vdXRsZXQmJmUub3V0bGV0LmlzQWN0aXZhdGVkP2Uub3V0bGV0LmNvbXBvbmVudDpudWxsLHMpKX1jbGFzcyB2bXt9ZnVuY3Rpb24gYm0odCl7cmV0dXJuIG5ldyB2KGU9PmUuZXJyb3IodCkpfWNsYXNzIF9te2NvbnN0cnVjdG9yKHQsZSxuLHIscyxpKXt0aGlzLnJvb3RDb21wb25lbnRUeXBlPXQsdGhpcy5jb25maWc9ZSx0aGlzLnVybFRyZWU9bix0aGlzLnVybD1yLHRoaXMucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneT1zLHRoaXMucmVsYXRpdmVMaW5rUmVzb2x1dGlvbj1pfXJlY29nbml6ZSgpe2NvbnN0IHQ9ZW0odGhpcy51cmxUcmVlLnJvb3QsW10sW10sdGhpcy5jb25maWcuZmlsdGVyKHQ9PnZvaWQgMD09PXQucmVkaXJlY3RUbyksdGhpcy5yZWxhdGl2ZUxpbmtSZXNvbHV0aW9uKS5zZWdtZW50R3JvdXAsZT10aGlzLnByb2Nlc3NTZWdtZW50R3JvdXAodGhpcy5jb25maWcsdCx4Zik7aWYobnVsbD09PWUpcmV0dXJuIG51bGw7Y29uc3Qgbj1uZXcgYmcoW10sT2JqZWN0LmZyZWV6ZSh7fSksT2JqZWN0LmZyZWV6ZShPYmplY3QuYXNzaWduKHt9LHRoaXMudXJsVHJlZS5xdWVyeVBhcmFtcykpLHRoaXMudXJsVHJlZS5mcmFnbWVudCx7fSx4Zix0aGlzLnJvb3RDb21wb25lbnRUeXBlLG51bGwsdGhpcy51cmxUcmVlLnJvb3QsLTEse30pLHI9bmV3IHBnKG4sZSkscz1uZXcgX2codGhpcy51cmwscik7cmV0dXJuIHRoaXMuaW5oZXJpdFBhcmFtc0FuZERhdGEocy5fcm9vdCksc31pbmhlcml0UGFyYW1zQW5kRGF0YSh0KXtjb25zdCBlPXQudmFsdWUsbj12ZyhlLHRoaXMucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneSk7ZS5wYXJhbXM9T2JqZWN0LmZyZWV6ZShuLnBhcmFtcyksZS5kYXRhPU9iamVjdC5mcmVlemUobi5kYXRhKSx0LmNoaWxkcmVuLmZvckVhY2godD0+dGhpcy5pbmhlcml0UGFyYW1zQW5kRGF0YSh0KSl9cHJvY2Vzc1NlZ21lbnRHcm91cCh0LGUsbil7cmV0dXJuIDA9PT1lLnNlZ21lbnRzLmxlbmd0aCYmZS5oYXNDaGlsZHJlbigpP3RoaXMucHJvY2Vzc0NoaWxkcmVuKHQsZSk6dGhpcy5wcm9jZXNzU2VnbWVudCh0LGUsZS5zZWdtZW50cyxuKX1wcm9jZXNzQ2hpbGRyZW4odCxlKXtjb25zdCBuPVtdO2Zvcihjb25zdCBzIG9mIE9iamVjdC5rZXlzKGUuY2hpbGRyZW4pKXtjb25zdCByPWUuY2hpbGRyZW5bc10saT1YZyh0LHMpLG89dGhpcy5wcm9jZXNzU2VnbWVudEdyb3VwKGkscixzKTtpZihudWxsPT09bylyZXR1cm4gbnVsbDtuLnB1c2goLi4ubyl9Y29uc3Qgcj1DbShuKTtyZXR1cm4gci5zb3J0KCh0LGUpPT50LnZhbHVlLm91dGxldD09PXhmPy0xOmUudmFsdWUub3V0bGV0PT09eGY/MTp0LnZhbHVlLm91dGxldC5sb2NhbGVDb21wYXJlKGUudmFsdWUub3V0bGV0KSkscn1wcm9jZXNzU2VnbWVudCh0LGUsbixyKXtmb3IoY29uc3QgcyBvZiB0KXtjb25zdCB0PXRoaXMucHJvY2Vzc1NlZ21lbnRBZ2FpbnN0Um91dGUocyxlLG4scik7aWYobnVsbCE9PXQpcmV0dXJuIHR9cmV0dXJuIHNtKGUsbixyKT9bXTpudWxsfXByb2Nlc3NTZWdtZW50QWdhaW5zdFJvdXRlKHQsZSxuLHIpe2lmKHQucmVkaXJlY3RUb3x8IXJtKHQsZSxuLHIpKXJldHVybiBudWxsO2xldCBzLGk9W10sbz1bXTtpZigiKioiPT09dC5wYXRoKXtjb25zdCByPW4ubGVuZ3RoPjA/TWYobikucGFyYW1ldGVyczp7fTtzPW5ldyBiZyhuLHIsT2JqZWN0LmZyZWV6ZShPYmplY3QuYXNzaWduKHt9LHRoaXMudXJsVHJlZS5xdWVyeVBhcmFtcykpLHRoaXMudXJsVHJlZS5mcmFnbWVudCxBbSh0KSxRZyh0KSx0LmNvbXBvbmVudCx0LEVtKGUpLERtKGUpK24ubGVuZ3RoLFNtKHQpKX1lbHNle2NvbnN0IHI9dG0oZSx0LG4pO2lmKCFyLm1hdGNoZWQpcmV0dXJuIG51bGw7aT1yLmNvbnN1bWVkU2VnbWVudHMsbz1uLnNsaWNlKHIubGFzdENoaWxkKSxzPW5ldyBiZyhpLHIucGFyYW1ldGVycyxPYmplY3QuZnJlZXplKE9iamVjdC5hc3NpZ24oe30sdGhpcy51cmxUcmVlLnF1ZXJ5UGFyYW1zKSksdGhpcy51cmxUcmVlLmZyYWdtZW50LEFtKHQpLFFnKHQpLHQuY29tcG9uZW50LHQsRW0oZSksRG0oZSkraS5sZW5ndGgsU20odCkpfWNvbnN0IGE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2hpbGRyZW4/dC5jaGlsZHJlbjp0LmxvYWRDaGlsZHJlbj90Ll9sb2FkZWRDb25maWcucm91dGVzOltdfSh0KSx7c2VnbWVudEdyb3VwOmwsc2xpY2VkU2VnbWVudHM6dX09ZW0oZSxpLG8sYS5maWx0ZXIodD0+dm9pZCAwPT09dC5yZWRpcmVjdFRvKSx0aGlzLnJlbGF0aXZlTGlua1Jlc29sdXRpb24pO2lmKDA9PT11Lmxlbmd0aCYmbC5oYXNDaGlsZHJlbigpKXtjb25zdCB0PXRoaXMucHJvY2Vzc0NoaWxkcmVuKGEsbCk7cmV0dXJuIG51bGw9PT10P251bGw6W25ldyBwZyhzLHQpXX1pZigwPT09YS5sZW5ndGgmJjA9PT11Lmxlbmd0aClyZXR1cm5bbmV3IHBnKHMsW10pXTtjb25zdCBjPVFnKHQpPT09cixoPXRoaXMucHJvY2Vzc1NlZ21lbnQoYSxsLHUsYz94ZjpyKTtyZXR1cm4gbnVsbD09PWg/bnVsbDpbbmV3IHBnKHMsaCldfX1mdW5jdGlvbiB3bSh0KXtjb25zdCBlPXQudmFsdWUucm91dGVDb25maWc7cmV0dXJuIGUmJiIiPT09ZS5wYXRoJiZ2b2lkIDA9PT1lLnJlZGlyZWN0VG99ZnVuY3Rpb24gQ20odCl7Y29uc3QgZT1bXSxuPW5ldyBTZXQ7Zm9yKGNvbnN0IHIgb2YgdCl7aWYoIXdtKHIpKXtlLnB1c2gocik7Y29udGludWV9Y29uc3QgdD1lLmZpbmQodD0+ci52YWx1ZS5yb3V0ZUNvbmZpZz09PXQudmFsdWUucm91dGVDb25maWcpO3ZvaWQgMCE9PXQ/KHQuY2hpbGRyZW4ucHVzaCguLi5yLmNoaWxkcmVuKSxuLmFkZCh0KSk6ZS5wdXNoKHIpfWZvcihjb25zdCByIG9mIG4pe2NvbnN0IHQ9Q20oci5jaGlsZHJlbik7ZS5wdXNoKG5ldyBwZyhyLnZhbHVlLHQpKX1yZXR1cm4gZS5maWx0ZXIodD0+IW4uaGFzKHQpKX1mdW5jdGlvbiBFbSh0KXtsZXQgZT10O2Zvcig7ZS5fc291cmNlU2VnbWVudDspZT1lLl9zb3VyY2VTZWdtZW50O3JldHVybiBlfWZ1bmN0aW9uIERtKHQpe2xldCBlPXQsbj1lLl9zZWdtZW50SW5kZXhTaGlmdD9lLl9zZWdtZW50SW5kZXhTaGlmdDowO2Zvcig7ZS5fc291cmNlU2VnbWVudDspZT1lLl9zb3VyY2VTZWdtZW50LG4rPWUuX3NlZ21lbnRJbmRleFNoaWZ0P2UuX3NlZ21lbnRJbmRleFNoaWZ0OjA7cmV0dXJuIG4tMX1mdW5jdGlvbiBBbSh0KXtyZXR1cm4gdC5kYXRhfHx7fX1mdW5jdGlvbiBTbSh0KXtyZXR1cm4gdC5yZXNvbHZlfHx7fX1mdW5jdGlvbiB4bSh0KXtyZXR1cm4gY2QoZT0+e2NvbnN0IG49dChlKTtyZXR1cm4gbj9WKG4pLnBpcGUoUygoKT0+ZSkpOm5kKGUpfSl9Y2xhc3Mga20gZXh0ZW5kcyBjbGFzc3tzaG91bGREZXRhY2godCl7cmV0dXJuITF9c3RvcmUodCxlKXt9c2hvdWxkQXR0YWNoKHQpe3JldHVybiExfXJldHJpZXZlKHQpe3JldHVybiBudWxsfXNob3VsZFJldXNlUm91dGUodCxlKXtyZXR1cm4gdC5yb3V0ZUNvbmZpZz09PWUucm91dGVDb25maWd9fXt9Y29uc3QgVG09bmV3ICRuKCJST1VURVMiKTtjbGFzcyBPbXtjb25zdHJ1Y3Rvcih0LGUsbixyKXt0aGlzLmxvYWRlcj10LHRoaXMuY29tcGlsZXI9ZSx0aGlzLm9uTG9hZFN0YXJ0TGlzdGVuZXI9bix0aGlzLm9uTG9hZEVuZExpc3RlbmVyPXJ9bG9hZCh0LGUpe2lmKGUuX2xvYWRlciQpcmV0dXJuIGUuX2xvYWRlciQ7dGhpcy5vbkxvYWRTdGFydExpc3RlbmVyJiZ0aGlzLm9uTG9hZFN0YXJ0TGlzdGVuZXIoZSk7Y29uc3Qgbj10aGlzLmxvYWRNb2R1bGVGYWN0b3J5KGUubG9hZENoaWxkcmVuKS5waXBlKFMobj0+e3RoaXMub25Mb2FkRW5kTGlzdGVuZXImJnRoaXMub25Mb2FkRW5kTGlzdGVuZXIoZSk7Y29uc3Qgcj1uLmNyZWF0ZSh0KTtyZXR1cm4gbmV3IFVnKFJmKHIuaW5qZWN0b3IuZ2V0KFRtLHZvaWQgMCxfdC5TZWxmfF90Lk9wdGlvbmFsKSkubWFwKFlnKSxyKX0pLEhwKHQ9Pnt0aHJvdyBlLl9sb2FkZXIkPXZvaWQgMCx0fSkpO3JldHVybiBlLl9sb2FkZXIkPW5ldyBLKG4sKCk9Pm5ldyBFKS5waXBlKFcoKSksZS5fbG9hZGVyJH1sb2FkTW9kdWxlRmFjdG9yeSh0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/Vih0aGlzLmxvYWRlci5sb2FkKHQpKTpqZih0KCkpLnBpcGUoQih0PT50IGluc3RhbmNlb2YgZWw/bmQodCk6Vih0aGlzLmNvbXBpbGVyLmNvbXBpbGVNb2R1bGVBc3luYyh0KSkpKX19Y2xhc3MgRm17Y29uc3RydWN0b3IoKXt0aGlzLm91dGxldD1udWxsLHRoaXMucm91dGU9bnVsbCx0aGlzLnJlc29sdmVyPW51bGwsdGhpcy5jaGlsZHJlbj1uZXcgUG0sdGhpcy5hdHRhY2hSZWY9bnVsbH19Y2xhc3MgUG17Y29uc3RydWN0b3IoKXt0aGlzLmNvbnRleHRzPW5ldyBNYXB9b25DaGlsZE91dGxldENyZWF0ZWQodCxlKXtjb25zdCBuPXRoaXMuZ2V0T3JDcmVhdGVDb250ZXh0KHQpO24ub3V0bGV0PWUsdGhpcy5jb250ZXh0cy5zZXQodCxuKX1vbkNoaWxkT3V0bGV0RGVzdHJveWVkKHQpe2NvbnN0IGU9dGhpcy5nZXRDb250ZXh0KHQpO2UmJihlLm91dGxldD1udWxsKX1vbk91dGxldERlYWN0aXZhdGVkKCl7Y29uc3QgdD10aGlzLmNvbnRleHRzO3JldHVybiB0aGlzLmNvbnRleHRzPW5ldyBNYXAsdH1vbk91dGxldFJlQXR0YWNoZWQodCl7dGhpcy5jb250ZXh0cz10fWdldE9yQ3JlYXRlQ29udGV4dCh0KXtsZXQgZT10aGlzLmdldENvbnRleHQodCk7cmV0dXJuIGV8fChlPW5ldyBGbSx0aGlzLmNvbnRleHRzLnNldCh0LGUpKSxlfWdldENvbnRleHQodCl7cmV0dXJuIHRoaXMuY29udGV4dHMuZ2V0KHQpfHxudWxsfX1jbGFzcyBJbXtzaG91bGRQcm9jZXNzVXJsKHQpe3JldHVybiEwfWV4dHJhY3QodCl7cmV0dXJuIHR9bWVyZ2UodCxlKXtyZXR1cm4gdH19ZnVuY3Rpb24gUm0odCl7dGhyb3cgdH1mdW5jdGlvbiBNbSh0LGUsbil7cmV0dXJuIGUucGFyc2UoIi8iKX1mdW5jdGlvbiBWbSh0LGUpe3JldHVybiBuZChudWxsKX1jb25zdCBqbT17cGF0aHM6ImV4YWN0IixmcmFnbWVudDoiaWdub3JlZCIsbWF0cml4UGFyYW1zOiJpZ25vcmVkIixxdWVyeVBhcmFtczoiZXhhY3QifSxObT17cGF0aHM6InN1YnNldCIsZnJhZ21lbnQ6Imlnbm9yZWQiLG1hdHJpeFBhcmFtczoiaWdub3JlZCIscXVlcnlQYXJhbXM6InN1YnNldCJ9O2xldCBMbT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuLHIscyxpLG8sYSl7dGhpcy5yb290Q29tcG9uZW50VHlwZT10LHRoaXMudXJsU2VyaWFsaXplcj1lLHRoaXMucm9vdENvbnRleHRzPW4sdGhpcy5sb2NhdGlvbj1yLHRoaXMuY29uZmlnPWEsdGhpcy5sYXN0U3VjY2Vzc2Z1bE5hdmlnYXRpb249bnVsbCx0aGlzLmN1cnJlbnROYXZpZ2F0aW9uPW51bGwsdGhpcy5kaXNwb3NlZD0hMSx0aGlzLmxhc3RMb2NhdGlvbkNoYW5nZUluZm89bnVsbCx0aGlzLm5hdmlnYXRpb25JZD0wLHRoaXMuY3VycmVudFBhZ2VJZD0wLHRoaXMuaXNOZ1pvbmVFbmFibGVkPSExLHRoaXMuZXZlbnRzPW5ldyBFLHRoaXMuZXJyb3JIYW5kbGVyPVJtLHRoaXMubWFsZm9ybWVkVXJpRXJyb3JIYW5kbGVyPU1tLHRoaXMubmF2aWdhdGVkPSExLHRoaXMubGFzdFN1Y2Nlc3NmdWxJZD0tMSx0aGlzLmhvb2tzPXtiZWZvcmVQcmVhY3RpdmF0aW9uOlZtLGFmdGVyUHJlYWN0aXZhdGlvbjpWbX0sdGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5PW5ldyBJbSx0aGlzLnJvdXRlUmV1c2VTdHJhdGVneT1uZXcga20sdGhpcy5vblNhbWVVcmxOYXZpZ2F0aW9uPSJpZ25vcmUiLHRoaXMucGFyYW1zSW5oZXJpdGFuY2VTdHJhdGVneT0iZW1wdHlPbmx5Iix0aGlzLnVybFVwZGF0ZVN0cmF0ZWd5PSJkZWZlcnJlZCIsdGhpcy5yZWxhdGl2ZUxpbmtSZXNvbHV0aW9uPSJjb3JyZWN0ZWQiLHRoaXMuY2FuY2VsZWROYXZpZ2F0aW9uUmVzb2x1dGlvbj0icmVwbGFjZSIsdGhpcy5uZ01vZHVsZT1zLmdldCh0bCksdGhpcy5jb25zb2xlPXMuZ2V0KFFsKTtjb25zdCBsPXMuZ2V0KGN1KTt0aGlzLmlzTmdab25lRW5hYmxlZD1sIGluc3RhbmNlb2YgY3UmJmN1LmlzSW5Bbmd1bGFyWm9uZSgpLHRoaXMucmVzZXRDb25maWcoYSksdGhpcy5jdXJyZW50VXJsVHJlZT1uZXcgemYobmV3IHFmKFtdLHt9KSx7fSxudWxsKSx0aGlzLnJhd1VybFRyZWU9dGhpcy5jdXJyZW50VXJsVHJlZSx0aGlzLmJyb3dzZXJVcmxUcmVlPXRoaXMuY3VycmVudFVybFRyZWUsdGhpcy5jb25maWdMb2FkZXI9bmV3IE9tKGksbyx0PT50aGlzLnRyaWdnZXJFdmVudChuZXcgX2YodCkpLHQ9PnRoaXMudHJpZ2dlckV2ZW50KG5ldyB3Zih0KSkpLHRoaXMucm91dGVyU3RhdGU9bWcodGhpcy5jdXJyZW50VXJsVHJlZSx0aGlzLnJvb3RDb21wb25lbnRUeXBlKSx0aGlzLnRyYW5zaXRpb25zPW5ldyBDcCh7aWQ6MCx0YXJnZXRQYWdlSWQ6MCxjdXJyZW50VXJsVHJlZTp0aGlzLmN1cnJlbnRVcmxUcmVlLGN1cnJlbnRSYXdVcmw6dGhpcy5jdXJyZW50VXJsVHJlZSxleHRyYWN0ZWRVcmw6dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5LmV4dHJhY3QodGhpcy5jdXJyZW50VXJsVHJlZSksdXJsQWZ0ZXJSZWRpcmVjdHM6dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5LmV4dHJhY3QodGhpcy5jdXJyZW50VXJsVHJlZSkscmF3VXJsOnRoaXMuY3VycmVudFVybFRyZWUsZXh0cmFzOnt9LHJlc29sdmU6bnVsbCxyZWplY3Q6bnVsbCxwcm9taXNlOlByb21pc2UucmVzb2x2ZSghMCksc291cmNlOiJpbXBlcmF0aXZlIixyZXN0b3JlZFN0YXRlOm51bGwsY3VycmVudFNuYXBzaG90OnRoaXMucm91dGVyU3RhdGUuc25hcHNob3QsdGFyZ2V0U25hcHNob3Q6bnVsbCxjdXJyZW50Um91dGVyU3RhdGU6dGhpcy5yb3V0ZXJTdGF0ZSx0YXJnZXRSb3V0ZXJTdGF0ZTpudWxsLGd1YXJkczp7Y2FuQWN0aXZhdGVDaGVja3M6W10sY2FuRGVhY3RpdmF0ZUNoZWNrczpbXX0sZ3VhcmRzUmVzdWx0Om51bGx9KSx0aGlzLm5hdmlnYXRpb25zPXRoaXMuc2V0dXBOYXZpZ2F0aW9ucyh0aGlzLnRyYW5zaXRpb25zKSx0aGlzLnByb2Nlc3NOYXZpZ2F0aW9ucygpfXNldHVwTmF2aWdhdGlvbnModCl7Y29uc3QgZT10aGlzLmV2ZW50cztyZXR1cm4gdC5waXBlKExwKHQ9PjAhPT10LmlkKSxTKHQ9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7ZXh0cmFjdGVkVXJsOnRoaXMudXJsSGFuZGxpbmdTdHJhdGVneS5leHRyYWN0KHQucmF3VXJsKX0pKSxjZCh0PT57bGV0IG49ITEscj0hMTtyZXR1cm4gbmQodCkucGlwZShzZih0PT57dGhpcy5jdXJyZW50TmF2aWdhdGlvbj17aWQ6dC5pZCxpbml0aWFsVXJsOnQuY3VycmVudFJhd1VybCxleHRyYWN0ZWRVcmw6dC5leHRyYWN0ZWRVcmwsdHJpZ2dlcjp0LnNvdXJjZSxleHRyYXM6dC5leHRyYXMscHJldmlvdXNOYXZpZ2F0aW9uOnRoaXMubGFzdFN1Y2Nlc3NmdWxOYXZpZ2F0aW9uP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLmxhc3RTdWNjZXNzZnVsTmF2aWdhdGlvbikse3ByZXZpb3VzTmF2aWdhdGlvbjpudWxsfSk6bnVsbH19KSxjZCh0PT57Y29uc3Qgbj0hdGhpcy5uYXZpZ2F0ZWR8fHQuZXh0cmFjdGVkVXJsLnRvU3RyaW5nKCkhPT10aGlzLmJyb3dzZXJVcmxUcmVlLnRvU3RyaW5nKCk7aWYoKCJyZWxvYWQiPT09dGhpcy5vblNhbWVVcmxOYXZpZ2F0aW9ufHxuKSYmdGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5LnNob3VsZFByb2Nlc3NVcmwodC5yYXdVcmwpKXJldHVybiBuZCh0KS5waXBlKGNkKHQ9Pntjb25zdCBuPXRoaXMudHJhbnNpdGlvbnMuZ2V0VmFsdWUoKTtyZXR1cm4gZS5uZXh0KG5ldyBoZih0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSx0LnNvdXJjZSx0LnJlc3RvcmVkU3RhdGUpKSxuIT09dGhpcy50cmFuc2l0aW9ucy5nZXRWYWx1ZSgpP3RkOlByb21pc2UucmVzb2x2ZSh0KX0pLGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBjZChzPT5mdW5jdGlvbih0LGUsbixyLHMpe3JldHVybiBuZXcgY20odCxlLG4scixzKS5hcHBseSgpfSh0LGUsbixzLmV4dHJhY3RlZFVybCxyKS5waXBlKFModD0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHMpLHt1cmxBZnRlclJlZGlyZWN0czp0fSkpKSl9KHRoaXMubmdNb2R1bGUuaW5qZWN0b3IsdGhpcy5jb25maWdMb2FkZXIsdGhpcy51cmxTZXJpYWxpemVyLHRoaXMuY29uZmlnKSxzZih0PT57dGhpcy5jdXJyZW50TmF2aWdhdGlvbj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5jdXJyZW50TmF2aWdhdGlvbikse2ZpbmFsVXJsOnQudXJsQWZ0ZXJSZWRpcmVjdHN9KX0pLGZ1bmN0aW9uKHQsZSxuLHIscyl7cmV0dXJuIEIoaT0+ZnVuY3Rpb24odCxlLG4scixzPSJlbXB0eU9ubHkiLGk9ImxlZ2FjeSIpe3RyeXtjb25zdCBvPW5ldyBfbSh0LGUsbixyLHMsaSkucmVjb2duaXplKCk7cmV0dXJuIG51bGw9PT1vP2JtKG5ldyB2bSk6bmQobyl9Y2F0Y2gobyl7cmV0dXJuIGJtKG8pfX0odCxlLGkudXJsQWZ0ZXJSZWRpcmVjdHMsbihpLnVybEFmdGVyUmVkaXJlY3RzKSxyLHMpLnBpcGUoUyh0PT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30saSkse3RhcmdldFNuYXBzaG90OnR9KSkpKX0odGhpcy5yb290Q29tcG9uZW50VHlwZSx0aGlzLmNvbmZpZyx0PT50aGlzLnNlcmlhbGl6ZVVybCh0KSx0aGlzLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3ksdGhpcy5yZWxhdGl2ZUxpbmtSZXNvbHV0aW9uKSxzZih0PT57ImVhZ2VyIj09PXRoaXMudXJsVXBkYXRlU3RyYXRlZ3kmJih0LmV4dHJhcy5za2lwTG9jYXRpb25DaGFuZ2V8fHRoaXMuc2V0QnJvd3NlclVybCh0LnVybEFmdGVyUmVkaXJlY3RzLHQpLHRoaXMuYnJvd3NlclVybFRyZWU9dC51cmxBZnRlclJlZGlyZWN0cyk7Y29uc3Qgbj1uZXcgZ2YodC5pZCx0aGlzLnNlcmlhbGl6ZVVybCh0LmV4dHJhY3RlZFVybCksdGhpcy5zZXJpYWxpemVVcmwodC51cmxBZnRlclJlZGlyZWN0cyksdC50YXJnZXRTbmFwc2hvdCk7ZS5uZXh0KG4pfSkpO2lmKG4mJnRoaXMucmF3VXJsVHJlZSYmdGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5LnNob3VsZFByb2Nlc3NVcmwodGhpcy5yYXdVcmxUcmVlKSl7Y29uc3R7aWQ6bixleHRyYWN0ZWRVcmw6cixzb3VyY2U6cyxyZXN0b3JlZFN0YXRlOmksZXh0cmFzOm99PXQsYT1uZXcgaGYobix0aGlzLnNlcmlhbGl6ZVVybChyKSxzLGkpO2UubmV4dChhKTtjb25zdCBsPW1nKHIsdGhpcy5yb290Q29tcG9uZW50VHlwZSkuc25hcHNob3Q7cmV0dXJuIG5kKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7dGFyZ2V0U25hcHNob3Q6bCx1cmxBZnRlclJlZGlyZWN0czpyLGV4dHJhczpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbykse3NraXBMb2NhdGlvbkNoYW5nZTohMSxyZXBsYWNlVXJsOiExfSl9KSl9cmV0dXJuIHRoaXMucmF3VXJsVHJlZT10LnJhd1VybCx0aGlzLmJyb3dzZXJVcmxUcmVlPXQudXJsQWZ0ZXJSZWRpcmVjdHMsdC5yZXNvbHZlKG51bGwpLHRkfSkseG0odD0+e2NvbnN0e3RhcmdldFNuYXBzaG90OmUsaWQ6bixleHRyYWN0ZWRVcmw6cixyYXdVcmw6cyxleHRyYXM6e3NraXBMb2NhdGlvbkNoYW5nZTppLHJlcGxhY2VVcmw6b319PXQ7cmV0dXJuIHRoaXMuaG9va3MuYmVmb3JlUHJlYWN0aXZhdGlvbihlLHtuYXZpZ2F0aW9uSWQ6bixhcHBsaWVkVXJsVHJlZTpyLHJhd1VybFRyZWU6cyxza2lwTG9jYXRpb25DaGFuZ2U6ISFpLHJlcGxhY2VVcmw6ISFvfSl9KSxzZih0PT57Y29uc3QgZT1uZXcgbWYodC5pZCx0aGlzLnNlcmlhbGl6ZVVybCh0LmV4dHJhY3RlZFVybCksdGhpcy5zZXJpYWxpemVVcmwodC51cmxBZnRlclJlZGlyZWN0cyksdC50YXJnZXRTbmFwc2hvdCk7dGhpcy50cmlnZ2VyRXZlbnQoZSl9KSxTKHQ9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7Z3VhcmRzOmZtKHQudGFyZ2V0U25hcHNob3QsdC5jdXJyZW50U25hcHNob3QsdGhpcy5yb290Q29udGV4dHMpfSkpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIEIobj0+e2NvbnN0e3RhcmdldFNuYXBzaG90OnIsY3VycmVudFNuYXBzaG90OnMsZ3VhcmRzOntjYW5BY3RpdmF0ZUNoZWNrczppLGNhbkRlYWN0aXZhdGVDaGVja3M6b319PW47cmV0dXJuIDA9PT1vLmxlbmd0aCYmMD09PWkubGVuZ3RoP25kKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7Z3VhcmRzUmVzdWx0OiEwfSkpOmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBWKHQpLnBpcGUoQih0PT5mdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9ZSYmZS5yb3V0ZUNvbmZpZz9lLnJvdXRlQ29uZmlnLmNhbkRlYWN0aXZhdGU6bnVsbDtyZXR1cm4gaSYmMCE9PWkubGVuZ3RoP25kKGkubWFwKGk9Pntjb25zdCBvPWdtKGksZSxzKTtsZXQgYTtpZihmdW5jdGlvbih0KXtyZXR1cm4gdCYmSGcodC5jYW5EZWFjdGl2YXRlKX0obykpYT1qZihvLmNhbkRlYWN0aXZhdGUodCxlLG4scikpO2Vsc2V7aWYoIUhnKG8pKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBDYW5EZWFjdGl2YXRlIGd1YXJkIik7YT1qZihvKHQsZSxuLHIpKX1yZXR1cm4gYS5waXBlKG5mKCkpfSkpLnBpcGUocWcoKSk6bmQoITApfSh0LmNvbXBvbmVudCx0LnJvdXRlLG4sZSxyKSksbmYodD0+ITAhPT10LCEwKSl9KG8scixzLHQpLnBpcGUoQihuPT5uJiYiYm9vbGVhbiI9PXR5cGVvZiBuP2Z1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBWKGUpLnBpcGUocXAoZT0+T3AoZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9PXQmJmUmJmUobmV3IENmKHQpKSxuZCghMCl9KGUucm91dGUucGFyZW50LHIpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPT10JiZlJiZlKG5ldyBEZih0KSksbmQoITApfShlLnJvdXRlLHIpLGZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPWVbZS5sZW5ndGgtMV0scz1lLnNsaWNlKDAsZS5sZW5ndGgtMSkucmV2ZXJzZSgpLm1hcCh0PT5mdW5jdGlvbih0KXtjb25zdCBlPXQucm91dGVDb25maWc/dC5yb3V0ZUNvbmZpZy5jYW5BY3RpdmF0ZUNoaWxkOm51bGw7cmV0dXJuIGUmJjAhPT1lLmxlbmd0aD97bm9kZTp0LGd1YXJkczplfTpudWxsfSh0KSkuZmlsdGVyKHQ9Pm51bGwhPT10KS5tYXAoZT0+RnAoKCk9Pm5kKGUuZ3VhcmRzLm1hcChzPT57Y29uc3QgaT1nbShzLGUubm9kZSxuKTtsZXQgbztpZihmdW5jdGlvbih0KXtyZXR1cm4gdCYmSGcodC5jYW5BY3RpdmF0ZUNoaWxkKX0oaSkpbz1qZihpLmNhbkFjdGl2YXRlQ2hpbGQocix0KSk7ZWxzZXtpZighSGcoaSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIENhbkFjdGl2YXRlQ2hpbGQgZ3VhcmQiKTtvPWpmKGkocix0KSl9cmV0dXJuIG8ucGlwZShuZigpKX0pKS5waXBlKHFnKCkpKSk7cmV0dXJuIG5kKHMpLnBpcGUocWcoKSl9KHQsZS5wYXRoLG4pLGZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPWUucm91dGVDb25maWc/ZS5yb3V0ZUNvbmZpZy5jYW5BY3RpdmF0ZTpudWxsO3JldHVybiByJiYwIT09ci5sZW5ndGg/bmQoci5tYXAocj0+RnAoKCk9Pntjb25zdCBzPWdtKHIsZSxuKTtsZXQgaTtpZihmdW5jdGlvbih0KXtyZXR1cm4gdCYmSGcodC5jYW5BY3RpdmF0ZSl9KHMpKWk9amYocy5jYW5BY3RpdmF0ZShlLHQpKTtlbHNle2lmKCFIZyhzKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgQ2FuQWN0aXZhdGUgZ3VhcmQiKTtpPWpmKHMoZSx0KSl9cmV0dXJuIGkucGlwZShuZigpKX0pKSkucGlwZShxZygpKTpuZCghMCl9KHQsZS5yb3V0ZSxuKSkpLG5mKHQ9PiEwIT09dCwhMCkpfShyLGksdCxlKTpuZChuKSksUyh0PT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbikse2d1YXJkc1Jlc3VsdDp0fSkpKX0pfSh0aGlzLm5nTW9kdWxlLmluamVjdG9yLHQ9PnRoaXMudHJpZ2dlckV2ZW50KHQpKSxzZih0PT57aWYoJGcodC5ndWFyZHNSZXN1bHQpKXtjb25zdCBlPU9mKGBSZWRpcmVjdGluZyB0byAiJHt0aGlzLnNlcmlhbGl6ZVVybCh0Lmd1YXJkc1Jlc3VsdCl9ImApO3Rocm93IGUudXJsPXQuZ3VhcmRzUmVzdWx0LGV9Y29uc3QgZT1uZXcgeWYodC5pZCx0aGlzLnNlcmlhbGl6ZVVybCh0LmV4dHJhY3RlZFVybCksdGhpcy5zZXJpYWxpemVVcmwodC51cmxBZnRlclJlZGlyZWN0cyksdC50YXJnZXRTbmFwc2hvdCwhIXQuZ3VhcmRzUmVzdWx0KTt0aGlzLnRyaWdnZXJFdmVudChlKX0pLExwKHQ9PiEhdC5ndWFyZHNSZXN1bHR8fCh0aGlzLmNhbmNlbE5hdmlnYXRpb25UcmFuc2l0aW9uKHQsIiIpLCExKSkseG0odD0+e2lmKHQuZ3VhcmRzLmNhbkFjdGl2YXRlQ2hlY2tzLmxlbmd0aClyZXR1cm4gbmQodCkucGlwZShzZih0PT57Y29uc3QgZT1uZXcgdmYodC5pZCx0aGlzLnNlcmlhbGl6ZVVybCh0LmV4dHJhY3RlZFVybCksdGhpcy5zZXJpYWxpemVVcmwodC51cmxBZnRlclJlZGlyZWN0cyksdC50YXJnZXRTbmFwc2hvdCk7dGhpcy50cmlnZ2VyRXZlbnQoZSl9KSxjZCh0PT57bGV0IGU9ITE7cmV0dXJuIG5kKHQpLnBpcGUoKG49dGhpcy5wYXJhbXNJbmhlcml0YW5jZVN0cmF0ZWd5LHI9dGhpcy5uZ01vZHVsZS5pbmplY3RvcixCKHQ9Pntjb25zdHt0YXJnZXRTbmFwc2hvdDplLGd1YXJkczp7Y2FuQWN0aXZhdGVDaGVja3M6c319PXQ7aWYoIXMubGVuZ3RoKXJldHVybiBuZCh0KTtsZXQgaT0wO3JldHVybiBWKHMpLnBpcGUocXAodD0+ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIpe2NvbnN0IHM9T2JqZWN0LmtleXModCk7aWYoMD09PXMubGVuZ3RoKXJldHVybiBuZCh7fSk7Y29uc3QgaT17fTtyZXR1cm4gVihzKS5waXBlKEIocz0+ZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz1nbSh0LGUscik7cmV0dXJuIGpmKHMucmVzb2x2ZT9zLnJlc29sdmUoZSxuKTpzKGUsbikpfSh0W3NdLGUsbixyKS5waXBlKHNmKHQ9PntpW3NdPXR9KSkpLFdwKDEpLEIoKCk9Pk9iamVjdC5rZXlzKGkpLmxlbmd0aD09PXMubGVuZ3RoP25kKGkpOnRkKSl9KHQuX3Jlc29sdmUsdCxlLHIpLnBpcGUoUyhlPT4odC5fcmVzb2x2ZWREYXRhPWUsdC5kYXRhPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0LmRhdGEpLHZnKHQsbikucmVzb2x2ZSksbnVsbCkpKX0odC5yb3V0ZSxlLG4scikpLHNmKCgpPT5pKyspLFdwKDEpLEIoZT0+aT09PXMubGVuZ3RoP25kKHQpOnRkKSl9KSksc2Yoe25leHQ6KCk9PmU9ITAsY29tcGxldGU6KCk9PntlfHx0aGlzLmNhbmNlbE5hdmlnYXRpb25UcmFuc2l0aW9uKHQsIkF0IGxlYXN0IG9uZSByb3V0ZSByZXNvbHZlciBkaWRuJ3QgZW1pdCBhbnkgdmFsdWUuIil9fSkpO3ZhciBuLHJ9KSxzZih0PT57Y29uc3QgZT1uZXcgYmYodC5pZCx0aGlzLnNlcmlhbGl6ZVVybCh0LmV4dHJhY3RlZFVybCksdGhpcy5zZXJpYWxpemVVcmwodC51cmxBZnRlclJlZGlyZWN0cyksdC50YXJnZXRTbmFwc2hvdCk7dGhpcy50cmlnZ2VyRXZlbnQoZSl9KSl9KSx4bSh0PT57Y29uc3R7dGFyZ2V0U25hcHNob3Q6ZSxpZDpuLGV4dHJhY3RlZFVybDpyLHJhd1VybDpzLGV4dHJhczp7c2tpcExvY2F0aW9uQ2hhbmdlOmkscmVwbGFjZVVybDpvfX09dDtyZXR1cm4gdGhpcy5ob29rcy5hZnRlclByZWFjdGl2YXRpb24oZSx7bmF2aWdhdGlvbklkOm4sYXBwbGllZFVybFRyZWU6cixyYXdVcmxUcmVlOnMsc2tpcExvY2F0aW9uQ2hhbmdlOiEhaSxyZXBsYWNlVXJsOiEhb30pfSksUyh0PT57Y29uc3QgZT1mdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1BZyh0LGUuX3Jvb3Qsbj9uLl9yb290OnZvaWQgMCk7cmV0dXJuIG5ldyBnZyhyLGUpfSh0aGlzLnJvdXRlUmV1c2VTdHJhdGVneSx0LnRhcmdldFNuYXBzaG90LHQuY3VycmVudFJvdXRlclN0YXRlKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHt0YXJnZXRSb3V0ZXJTdGF0ZTplfSl9KSxzZih0PT57dGhpcy5jdXJyZW50VXJsVHJlZT10LnVybEFmdGVyUmVkaXJlY3RzLHRoaXMucmF3VXJsVHJlZT10aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kubWVyZ2UodGhpcy5jdXJyZW50VXJsVHJlZSx0LnJhd1VybCksdGhpcy5yb3V0ZXJTdGF0ZT10LnRhcmdldFJvdXRlclN0YXRlLCJkZWZlcnJlZCI9PT10aGlzLnVybFVwZGF0ZVN0cmF0ZWd5JiYodC5leHRyYXMuc2tpcExvY2F0aW9uQ2hhbmdlfHx0aGlzLnNldEJyb3dzZXJVcmwodGhpcy5yYXdVcmxUcmVlLHQpLHRoaXMuYnJvd3NlclVybFRyZWU9dC51cmxBZnRlclJlZGlyZWN0cyl9KSwoaT10aGlzLnJvb3RDb250ZXh0cyxvPXRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LGE9dD0+dGhpcy50cmlnZ2VyRXZlbnQodCksUyh0PT4obmV3IExnKG8sdC50YXJnZXRSb3V0ZXJTdGF0ZSx0LmN1cnJlbnRSb3V0ZXJTdGF0ZSxhKS5hY3RpdmF0ZShpKSx0KSkpLHNmKHtuZXh0KCl7bj0hMH0sY29tcGxldGUoKXtuPSEwfX0pLChzPSgpPT57bnx8cnx8dGhpcy5jYW5jZWxOYXZpZ2F0aW9uVHJhbnNpdGlvbih0LGBOYXZpZ2F0aW9uIElEICR7dC5pZH0gaXMgbm90IGVxdWFsIHRvIHRoZSBjdXJyZW50IG5hdmlnYXRpb24gaWQgJHt0aGlzLm5hdmlnYXRpb25JZH1gKSx0aGlzLmN1cnJlbnROYXZpZ2F0aW9uPW51bGx9LHQ9PnQubGlmdChuZXcgbGYocykpKSxIcChuPT57aWYocj0hMCwocz1uKSYmcy5uZ05hdmlnYXRpb25DYW5jZWxpbmdFcnJvcil7Y29uc3Qgcj0kZyhuLnVybCk7cnx8KHRoaXMubmF2aWdhdGVkPSEwLHRoaXMucmVzZXRTdGF0ZUFuZFVybCh0LmN1cnJlbnRSb3V0ZXJTdGF0ZSx0LmN1cnJlbnRVcmxUcmVlLHQucmF3VXJsKSk7Y29uc3Qgcz1uZXcgcGYodC5pZCx0aGlzLnNlcmlhbGl6ZVVybCh0LmV4dHJhY3RlZFVybCksbi5tZXNzYWdlKTtlLm5leHQocykscj9zZXRUaW1lb3V0KCgpPT57Y29uc3QgZT10aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kubWVyZ2Uobi51cmwsdGhpcy5yYXdVcmxUcmVlKTt0aGlzLnNjaGVkdWxlTmF2aWdhdGlvbihlLCJpbXBlcmF0aXZlIixudWxsLHtza2lwTG9jYXRpb25DaGFuZ2U6dC5leHRyYXMuc2tpcExvY2F0aW9uQ2hhbmdlLHJlcGxhY2VVcmw6ImVhZ2VyIj09PXRoaXMudXJsVXBkYXRlU3RyYXRlZ3l9LHtyZXNvbHZlOnQucmVzb2x2ZSxyZWplY3Q6dC5yZWplY3QscHJvbWlzZTp0LnByb21pc2V9KX0sMCk6dC5yZXNvbHZlKCExKX1lbHNle3RoaXMucmVzZXRTdGF0ZUFuZFVybCh0LmN1cnJlbnRSb3V0ZXJTdGF0ZSx0LmN1cnJlbnRVcmxUcmVlLHQucmF3VXJsKTtjb25zdCByPW5ldyBmZih0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSxuKTtlLm5leHQocik7dHJ5e3QucmVzb2x2ZSh0aGlzLmVycm9ySGFuZGxlcihuKSl9Y2F0Y2goaSl7dC5yZWplY3QoaSl9fXZhciBzO3JldHVybiB0ZH0pKTt2YXIgcyxpLG8sYX0pKX1yZXNldFJvb3RDb21wb25lbnRUeXBlKHQpe3RoaXMucm9vdENvbXBvbmVudFR5cGU9dCx0aGlzLnJvdXRlclN0YXRlLnJvb3QuY29tcG9uZW50PXRoaXMucm9vdENvbXBvbmVudFR5cGV9Z2V0VHJhbnNpdGlvbigpe2NvbnN0IHQ9dGhpcy50cmFuc2l0aW9ucy52YWx1ZTtyZXR1cm4gdC51cmxBZnRlclJlZGlyZWN0cz10aGlzLmJyb3dzZXJVcmxUcmVlLHR9c2V0VHJhbnNpdGlvbih0KXt0aGlzLnRyYW5zaXRpb25zLm5leHQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0VHJhbnNpdGlvbigpKSx0KSl9aW5pdGlhbE5hdmlnYXRpb24oKXt0aGlzLnNldFVwTG9jYXRpb25DaGFuZ2VMaXN0ZW5lcigpLDA9PT10aGlzLm5hdmlnYXRpb25JZCYmdGhpcy5uYXZpZ2F0ZUJ5VXJsKHRoaXMubG9jYXRpb24ucGF0aCghMCkse3JlcGxhY2VVcmw6ITB9KX1zZXRVcExvY2F0aW9uQ2hhbmdlTGlzdGVuZXIoKXt0aGlzLmxvY2F0aW9uU3Vic2NyaXB0aW9ufHwodGhpcy5sb2NhdGlvblN1YnNjcmlwdGlvbj10aGlzLmxvY2F0aW9uLnN1YnNjcmliZSh0PT57Y29uc3QgZT10aGlzLmV4dHJhY3RMb2NhdGlvbkNoYW5nZUluZm9Gcm9tRXZlbnQodCk7dGhpcy5zaG91bGRTY2hlZHVsZU5hdmlnYXRpb24odGhpcy5sYXN0TG9jYXRpb25DaGFuZ2VJbmZvLGUpJiZzZXRUaW1lb3V0KCgpPT57Y29uc3R7c291cmNlOnQsc3RhdGU6bix1cmxUcmVlOnJ9PWUscz17cmVwbGFjZVVybDohMH07aWYobil7Y29uc3QgdD1PYmplY3QuYXNzaWduKHt9LG4pO2RlbGV0ZSB0Lm5hdmlnYXRpb25JZCxkZWxldGUgdC5cdTAyNzVyb3V0ZXJQYWdlSWQsMCE9PU9iamVjdC5rZXlzKHQpLmxlbmd0aCYmKHMuc3RhdGU9dCl9dGhpcy5zY2hlZHVsZU5hdmlnYXRpb24ocix0LG4scyl9LDApLHRoaXMubGFzdExvY2F0aW9uQ2hhbmdlSW5mbz1lfSkpfWV4dHJhY3RMb2NhdGlvbkNoYW5nZUluZm9Gcm9tRXZlbnQodCl7dmFyIGU7cmV0dXJue3NvdXJjZToicG9wc3RhdGUiPT09dC50eXBlPyJwb3BzdGF0ZSI6Imhhc2hjaGFuZ2UiLHVybFRyZWU6dGhpcy5wYXJzZVVybCh0LnVybCksc3RhdGU6KG51bGw9PT0oZT10LnN0YXRlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5uYXZpZ2F0aW9uSWQpP3Quc3RhdGU6bnVsbCx0cmFuc2l0aW9uSWQ6dGhpcy5nZXRUcmFuc2l0aW9uKCkuaWR9fXNob3VsZFNjaGVkdWxlTmF2aWdhdGlvbih0LGUpe2lmKCF0KXJldHVybiEwO2NvbnN0IG49ZS51cmxUcmVlLnRvU3RyaW5nKCk9PT10LnVybFRyZWUudG9TdHJpbmcoKTtyZXR1cm4hKGUudHJhbnNpdGlvbklkPT09dC50cmFuc2l0aW9uSWQmJm4mJigiaGFzaGNoYW5nZSI9PT1lLnNvdXJjZSYmInBvcHN0YXRlIj09PXQuc291cmNlfHwicG9wc3RhdGUiPT09ZS5zb3VyY2UmJiJoYXNoY2hhbmdlIj09PXQuc291cmNlKSl9Z2V0IHVybCgpe3JldHVybiB0aGlzLnNlcmlhbGl6ZVVybCh0aGlzLmN1cnJlbnRVcmxUcmVlKX1nZXRDdXJyZW50TmF2aWdhdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnROYXZpZ2F0aW9ufXRyaWdnZXJFdmVudCh0KXt0aGlzLmV2ZW50cy5uZXh0KHQpfXJlc2V0Q29uZmlnKHQpe0dnKHQpLHRoaXMuY29uZmlnPXQubWFwKFlnKSx0aGlzLm5hdmlnYXRlZD0hMSx0aGlzLmxhc3RTdWNjZXNzZnVsSWQ9LTF9bmdPbkRlc3Ryb3koKXt0aGlzLmRpc3Bvc2UoKX1kaXNwb3NlKCl7dGhpcy50cmFuc2l0aW9ucy5jb21wbGV0ZSgpLHRoaXMubG9jYXRpb25TdWJzY3JpcHRpb24mJih0aGlzLmxvY2F0aW9uU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCksdGhpcy5sb2NhdGlvblN1YnNjcmlwdGlvbj12b2lkIDApLHRoaXMuZGlzcG9zZWQ9ITB9Y3JlYXRlVXJsVHJlZSh0LGU9e30pe2NvbnN0e3JlbGF0aXZlVG86bixxdWVyeVBhcmFtczpyLGZyYWdtZW50OnMscXVlcnlQYXJhbXNIYW5kbGluZzppLHByZXNlcnZlRnJhZ21lbnQ6b309ZSxhPW58fHRoaXMucm91dGVyU3RhdGUucm9vdCxsPW8/dGhpcy5jdXJyZW50VXJsVHJlZS5mcmFnbWVudDpzO2xldCB1PW51bGw7c3dpdGNoKGkpe2Nhc2UibWVyZ2UiOnU9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuY3VycmVudFVybFRyZWUucXVlcnlQYXJhbXMpLHIpO2JyZWFrO2Nhc2UicHJlc2VydmUiOnU9dGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtczticmVhaztkZWZhdWx0OnU9cnx8bnVsbH1yZXR1cm4gbnVsbCE9PXUmJih1PXRoaXMucmVtb3ZlRW1wdHlQcm9wcyh1KSksZnVuY3Rpb24odCxlLG4scixzKXtpZigwPT09bi5sZW5ndGgpcmV0dXJuIFRnKGUucm9vdCxlLnJvb3QsZSxyLHMpO2NvbnN0IGk9ZnVuY3Rpb24odCl7aWYoInN0cmluZyI9PXR5cGVvZiB0WzBdJiYxPT09dC5sZW5ndGgmJiIvIj09PXRbMF0pcmV0dXJuIG5ldyBGZyghMCwwLHQpO2xldCBlPTAsbj0hMTtjb25zdCByPXQucmVkdWNlKCh0LHIscyk9PntpZigib2JqZWN0Ij09dHlwZW9mIHImJm51bGwhPXIpe2lmKHIub3V0bGV0cyl7Y29uc3QgZT17fTtyZXR1cm4gVmYoci5vdXRsZXRzLCh0LG4pPT57ZVtuXT0ic3RyaW5nIj09dHlwZW9mIHQ/dC5zcGxpdCgiLyIpOnR9KSxbLi4udCx7b3V0bGV0czplfV19aWYoci5zZWdtZW50UGF0aClyZXR1cm5bLi4udCxyLnNlZ21lbnRQYXRoXX1yZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHI/Wy4uLnQscl06MD09PXM/KHIuc3BsaXQoIi8iKS5mb3JFYWNoKChyLHMpPT57MD09cyYmIi4iPT09cnx8KDA9PXMmJiIiPT09cj9uPSEwOiIuLiI9PT1yP2UrKzoiIiE9ciYmdC5wdXNoKHIpKX0pLHQpOlsuLi50LHJdfSxbXSk7cmV0dXJuIG5ldyBGZyhuLGUscil9KG4pO2lmKGkudG9Sb290KCkpcmV0dXJuIFRnKGUucm9vdCxuZXcgcWYoW10se30pLGUscixzKTtjb25zdCBvPWZ1bmN0aW9uKHQsZSxuKXtpZih0LmlzQWJzb2x1dGUpcmV0dXJuIG5ldyBQZyhlLnJvb3QsITAsMCk7aWYoLTE9PT1uLnNuYXBzaG90Ll9sYXN0UGF0aEluZGV4KXtjb25zdCB0PW4uc25hcHNob3QuX3VybFNlZ21lbnQ7cmV0dXJuIG5ldyBQZyh0LHQ9PT1lLnJvb3QsMCl9Y29uc3Qgcj14Zyh0LmNvbW1hbmRzWzBdKT8wOjE7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtsZXQgcj10LHM9ZSxpPW47Zm9yKDtpPnM7KXtpZihpLT1zLHI9ci5wYXJlbnQsIXIpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIG51bWJlciBvZiAnLi4vJyIpO3M9ci5zZWdtZW50cy5sZW5ndGh9cmV0dXJuIG5ldyBQZyhyLCExLHMtaSl9KG4uc25hcHNob3QuX3VybFNlZ21lbnQsbi5zbmFwc2hvdC5fbGFzdFBhdGhJbmRleCtyLHQubnVtYmVyT2ZEb3VibGVEb3RzKX0oaSxlLHQpLGE9by5wcm9jZXNzQ2hpbGRyZW4/Umcoby5zZWdtZW50R3JvdXAsby5pbmRleCxpLmNvbW1hbmRzKTpJZyhvLnNlZ21lbnRHcm91cCxvLmluZGV4LGkuY29tbWFuZHMpO3JldHVybiBUZyhvLnNlZ21lbnRHcm91cCxhLGUscixzKX0oYSx0aGlzLmN1cnJlbnRVcmxUcmVlLHQsdSxudWxsIT1sP2w6bnVsbCl9bmF2aWdhdGVCeVVybCh0LGU9e3NraXBMb2NhdGlvbkNoYW5nZTohMX0pe2NvbnN0IG49JGcodCk/dDp0aGlzLnBhcnNlVXJsKHQpLHI9dGhpcy51cmxIYW5kbGluZ1N0cmF0ZWd5Lm1lcmdlKG4sdGhpcy5yYXdVcmxUcmVlKTtsZXQgcz1udWxsO3JldHVybiJjb21wdXRlZCI9PT10aGlzLmNhbmNlbGVkTmF2aWdhdGlvblJlc29sdXRpb24mJigwPT09dGhpcy5jdXJyZW50UGFnZUlkfHxlLnNraXBMb2NhdGlvbkNoYW5nZXx8ZS5yZXBsYWNlVXJsKSYmKHM9dGhpcy5sb2NhdGlvbi5nZXRTdGF0ZSgpKSx0aGlzLnNjaGVkdWxlTmF2aWdhdGlvbihyLCJpbXBlcmF0aXZlIixzLGUpfW5hdmlnYXRlKHQsZT17c2tpcExvY2F0aW9uQ2hhbmdlOiExfSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBuPXRbZV07aWYobnVsbD09bil0aHJvdyBuZXcgRXJyb3IoYFRoZSByZXF1ZXN0ZWQgcGF0aCBjb250YWlucyAke259IHNlZ21lbnQgYXQgaW5kZXggJHtlfWApfX0odCksdGhpcy5uYXZpZ2F0ZUJ5VXJsKHRoaXMuY3JlYXRlVXJsVHJlZSh0LGUpLGUpfXNlcmlhbGl6ZVVybCh0KXtyZXR1cm4gdGhpcy51cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh0KX1wYXJzZVVybCh0KXtsZXQgZTt0cnl7ZT10aGlzLnVybFNlcmlhbGl6ZXIucGFyc2UodCl9Y2F0Y2gobil7ZT10aGlzLm1hbGZvcm1lZFVyaUVycm9ySGFuZGxlcihuLHRoaXMudXJsU2VyaWFsaXplcix0KX1yZXR1cm4gZX1pc0FjdGl2ZSh0LGUpe2xldCBuO2lmKG49ITA9PT1lP09iamVjdC5hc3NpZ24oe30sam0pOiExPT09ZT9PYmplY3QuYXNzaWduKHt9LE5tKTplLCRnKHQpKXJldHVybiBCZih0aGlzLmN1cnJlbnRVcmxUcmVlLHQsbik7Y29uc3Qgcj10aGlzLnBhcnNlVXJsKHQpO3JldHVybiBCZih0aGlzLmN1cnJlbnRVcmxUcmVlLHIsbil9cmVtb3ZlRW1wdHlQcm9wcyh0KXtyZXR1cm4gT2JqZWN0LmtleXModCkucmVkdWNlKChlLG4pPT57Y29uc3Qgcj10W25dO3JldHVybiBudWxsIT1yJiYoZVtuXT1yKSxlfSx7fSl9cHJvY2Vzc05hdmlnYXRpb25zKCl7dGhpcy5uYXZpZ2F0aW9ucy5zdWJzY3JpYmUodD0+e3RoaXMubmF2aWdhdGVkPSEwLHRoaXMubGFzdFN1Y2Nlc3NmdWxJZD10LmlkLHRoaXMuY3VycmVudFBhZ2VJZD10LnRhcmdldFBhZ2VJZCx0aGlzLmV2ZW50cy5uZXh0KG5ldyBkZih0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSx0aGlzLnNlcmlhbGl6ZVVybCh0aGlzLmN1cnJlbnRVcmxUcmVlKSkpLHRoaXMubGFzdFN1Y2Nlc3NmdWxOYXZpZ2F0aW9uPXRoaXMuY3VycmVudE5hdmlnYXRpb24sdC5yZXNvbHZlKCEwKX0sdD0+e3RoaXMuY29uc29sZS53YXJuKCJVbmhhbmRsZWQgTmF2aWdhdGlvbiBFcnJvcjogIil9KX1zY2hlZHVsZU5hdmlnYXRpb24odCxlLG4scixzKXtpZih0aGlzLmRpc3Bvc2VkKXJldHVybiBQcm9taXNlLnJlc29sdmUoITEpO2NvbnN0IGk9dGhpcy5nZXRUcmFuc2l0aW9uKCksbz0iaW1wZXJhdGl2ZSIhPT1lJiYiaW1wZXJhdGl2ZSI9PT0obnVsbD09aT92b2lkIDA6aS5zb3VyY2UpLGE9KHRoaXMubGFzdFN1Y2Nlc3NmdWxJZD09PWkuaWR8fHRoaXMuY3VycmVudE5hdmlnYXRpb24/aS5yYXdVcmw6aS51cmxBZnRlclJlZGlyZWN0cykudG9TdHJpbmcoKT09PXQudG9TdHJpbmcoKTtpZihvJiZhKXJldHVybiBQcm9taXNlLnJlc29sdmUoITApO2xldCBsLHUsYztzPyhsPXMucmVzb2x2ZSx1PXMucmVqZWN0LGM9cy5wcm9taXNlKTpjPW5ldyBQcm9taXNlKCh0LGUpPT57bD10LHU9ZX0pO2NvbnN0IGg9Kyt0aGlzLm5hdmlnYXRpb25JZDtsZXQgZDtyZXR1cm4gZD0iY29tcHV0ZWQiPT09dGhpcy5jYW5jZWxlZE5hdmlnYXRpb25SZXNvbHV0aW9uP24mJm4uXHUwMjc1cm91dGVyUGFnZUlkP24uXHUwMjc1cm91dGVyUGFnZUlkOnRoaXMuY3VycmVudFBhZ2VJZCsxOjAsdGhpcy5zZXRUcmFuc2l0aW9uKHtpZDpoLHRhcmdldFBhZ2VJZDpkLHNvdXJjZTplLHJlc3RvcmVkU3RhdGU6bixjdXJyZW50VXJsVHJlZTp0aGlzLmN1cnJlbnRVcmxUcmVlLGN1cnJlbnRSYXdVcmw6dGhpcy5yYXdVcmxUcmVlLHJhd1VybDp0LGV4dHJhczpyLHJlc29sdmU6bCxyZWplY3Q6dSxwcm9taXNlOmMsY3VycmVudFNuYXBzaG90OnRoaXMucm91dGVyU3RhdGUuc25hcHNob3QsY3VycmVudFJvdXRlclN0YXRlOnRoaXMucm91dGVyU3RhdGV9KSxjLmNhdGNoKHQ9PlByb21pc2UucmVqZWN0KHQpKX1zZXRCcm93c2VyVXJsKHQsZSl7Y29uc3Qgbj10aGlzLnVybFNlcmlhbGl6ZXIuc2VyaWFsaXplKHQpLHI9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUuZXh0cmFzLnN0YXRlKSx0aGlzLmdlbmVyYXRlTmdSb3V0ZXJTdGF0ZShlLmlkLGUudGFyZ2V0UGFnZUlkKSk7dGhpcy5sb2NhdGlvbi5pc0N1cnJlbnRQYXRoRXF1YWxUbyhuKXx8ZS5leHRyYXMucmVwbGFjZVVybD90aGlzLmxvY2F0aW9uLnJlcGxhY2VTdGF0ZShuLCIiLHIpOnRoaXMubG9jYXRpb24uZ28obiwiIixyKX1yZXNldFN0YXRlQW5kVXJsKHQsZSxuKXt0aGlzLnJvdXRlclN0YXRlPXQsdGhpcy5jdXJyZW50VXJsVHJlZT1lLHRoaXMucmF3VXJsVHJlZT10aGlzLnVybEhhbmRsaW5nU3RyYXRlZ3kubWVyZ2UodGhpcy5jdXJyZW50VXJsVHJlZSxuKSx0aGlzLnJlc2V0VXJsVG9DdXJyZW50VXJsVHJlZSgpfXJlc2V0VXJsVG9DdXJyZW50VXJsVHJlZSgpe3RoaXMubG9jYXRpb24ucmVwbGFjZVN0YXRlKHRoaXMudXJsU2VyaWFsaXplci5zZXJpYWxpemUodGhpcy5yYXdVcmxUcmVlKSwiIix0aGlzLmdlbmVyYXRlTmdSb3V0ZXJTdGF0ZSh0aGlzLmxhc3RTdWNjZXNzZnVsSWQsdGhpcy5jdXJyZW50UGFnZUlkKSl9Y2FuY2VsTmF2aWdhdGlvblRyYW5zaXRpb24odCxlKXsiY29tcHV0ZWQiPT09dGhpcy5jYW5jZWxlZE5hdmlnYXRpb25SZXNvbHV0aW9uPyJwb3BzdGF0ZSIhPT10LnNvdXJjZSYmImVhZ2VyIiE9PXRoaXMudXJsVXBkYXRlU3RyYXRlZ3l8fHRoaXMubG9jYXRpb24uaGlzdG9yeUdvKHRoaXMuY3VycmVudFBhZ2VJZC10LnRhcmdldFBhZ2VJZCk6dGhpcy5yZXNldFVybFRvQ3VycmVudFVybFRyZWUoKTtjb25zdCBuPW5ldyBwZih0LmlkLHRoaXMuc2VyaWFsaXplVXJsKHQuZXh0cmFjdGVkVXJsKSxlKTt0aGlzLnRyaWdnZXJFdmVudChuKSx0LnJlc29sdmUoITEpfWdlbmVyYXRlTmdSb3V0ZXJTdGF0ZSh0LGUpe3JldHVybiJjb21wdXRlZCI9PT10aGlzLmNhbmNlbGVkTmF2aWdhdGlvblJlc29sdXRpb24/e25hdmlnYXRpb25JZDp0LCJcdTAyNzVyb3V0ZXJQYWdlSWQiOmV9OntuYXZpZ2F0aW9uSWQ6dH19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKHFuKSxhcihaZiksYXIoUG0pLGFyKHJjKSxhcihHaSksYXIoUHUpLGFyKGF1KSxhcih2b2lkIDApKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxCbT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuLHIscyl7dGhpcy5wYXJlbnRDb250ZXh0cz10LHRoaXMubG9jYXRpb249ZSx0aGlzLnJlc29sdmVyPW4sdGhpcy5jaGFuZ2VEZXRlY3Rvcj1zLHRoaXMuYWN0aXZhdGVkPW51bGwsdGhpcy5fYWN0aXZhdGVkUm91dGU9bnVsbCx0aGlzLmFjdGl2YXRlRXZlbnRzPW5ldyBFbCx0aGlzLmRlYWN0aXZhdGVFdmVudHM9bmV3IEVsLHRoaXMubmFtZT1yfHx4Zix0Lm9uQ2hpbGRPdXRsZXRDcmVhdGVkKHRoaXMubmFtZSx0aGlzKX1uZ09uRGVzdHJveSgpe3RoaXMucGFyZW50Q29udGV4dHMub25DaGlsZE91dGxldERlc3Ryb3llZCh0aGlzLm5hbWUpfW5nT25Jbml0KCl7aWYoIXRoaXMuYWN0aXZhdGVkKXtjb25zdCB0PXRoaXMucGFyZW50Q29udGV4dHMuZ2V0Q29udGV4dCh0aGlzLm5hbWUpO3QmJnQucm91dGUmJih0LmF0dGFjaFJlZj90aGlzLmF0dGFjaCh0LmF0dGFjaFJlZix0LnJvdXRlKTp0aGlzLmFjdGl2YXRlV2l0aCh0LnJvdXRlLHQucmVzb2x2ZXJ8fG51bGwpKX19Z2V0IGlzQWN0aXZhdGVkKCl7cmV0dXJuISF0aGlzLmFjdGl2YXRlZH1nZXQgY29tcG9uZW50KCl7aWYoIXRoaXMuYWN0aXZhdGVkKXRocm93IG5ldyBFcnJvcigiT3V0bGV0IGlzIG5vdCBhY3RpdmF0ZWQiKTtyZXR1cm4gdGhpcy5hY3RpdmF0ZWQuaW5zdGFuY2V9Z2V0IGFjdGl2YXRlZFJvdXRlKCl7aWYoIXRoaXMuYWN0aXZhdGVkKXRocm93IG5ldyBFcnJvcigiT3V0bGV0IGlzIG5vdCBhY3RpdmF0ZWQiKTtyZXR1cm4gdGhpcy5fYWN0aXZhdGVkUm91dGV9Z2V0IGFjdGl2YXRlZFJvdXRlRGF0YSgpe3JldHVybiB0aGlzLl9hY3RpdmF0ZWRSb3V0ZT90aGlzLl9hY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdC5kYXRhOnt9fWRldGFjaCgpe2lmKCF0aGlzLmFjdGl2YXRlZCl0aHJvdyBuZXcgRXJyb3IoIk91dGxldCBpcyBub3QgYWN0aXZhdGVkIik7dGhpcy5sb2NhdGlvbi5kZXRhY2goKTtjb25zdCB0PXRoaXMuYWN0aXZhdGVkO3JldHVybiB0aGlzLmFjdGl2YXRlZD1udWxsLHRoaXMuX2FjdGl2YXRlZFJvdXRlPW51bGwsdH1hdHRhY2godCxlKXt0aGlzLmFjdGl2YXRlZD10LHRoaXMuX2FjdGl2YXRlZFJvdXRlPWUsdGhpcy5sb2NhdGlvbi5pbnNlcnQodC5ob3N0Vmlldyl9ZGVhY3RpdmF0ZSgpe2lmKHRoaXMuYWN0aXZhdGVkKXtjb25zdCB0PXRoaXMuY29tcG9uZW50O3RoaXMuYWN0aXZhdGVkLmRlc3Ryb3koKSx0aGlzLmFjdGl2YXRlZD1udWxsLHRoaXMuX2FjdGl2YXRlZFJvdXRlPW51bGwsdGhpcy5kZWFjdGl2YXRlRXZlbnRzLmVtaXQodCl9fWFjdGl2YXRlV2l0aCh0LGUpe2lmKHRoaXMuaXNBY3RpdmF0ZWQpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgYWN0aXZhdGUgYW4gYWxyZWFkeSBhY3RpdmF0ZWQgb3V0bGV0Iik7dGhpcy5fYWN0aXZhdGVkUm91dGU9dDtjb25zdCBuPShlPWV8fHRoaXMucmVzb2x2ZXIpLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHQuX2Z1dHVyZVNuYXBzaG90LnJvdXRlQ29uZmlnLmNvbXBvbmVudCkscj10aGlzLnBhcmVudENvbnRleHRzLmdldE9yQ3JlYXRlQ29udGV4dCh0aGlzLm5hbWUpLmNoaWxkcmVuLHM9bmV3IFVtKHQscix0aGlzLmxvY2F0aW9uLmluamVjdG9yKTt0aGlzLmFjdGl2YXRlZD10aGlzLmxvY2F0aW9uLmNyZWF0ZUNvbXBvbmVudChuLHRoaXMubG9jYXRpb24ubGVuZ3RoLHMpLHRoaXMuY2hhbmdlRGV0ZWN0b3IubWFya0ZvckNoZWNrKCksdGhpcy5hY3RpdmF0ZUV2ZW50cy5lbWl0KHRoaXMuYWN0aXZhdGVkLmluc3RhbmNlKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaG8oUG0pLGhvKHJsKSxobyhnYSksKCJuYW1lIixmdW5jdGlvbih0LGUpe2NvbnN0IG49dC5hdHRycztpZihuKXtjb25zdCB0PW4ubGVuZ3RoO2xldCByPTA7Zm9yKDtyPHQ7KXtjb25zdCBzPW5bcl07aWYocG4ocykpYnJlYWs7aWYoMD09PXMpcis9MjtlbHNlIGlmKCJudW1iZXIiPT10eXBlb2Ygcylmb3IocisrO3I8dCYmInN0cmluZyI9PXR5cGVvZiBuW3JdOylyKys7ZWxzZXtpZihzPT09ZSlyZXR1cm4gbltyKzFdO3IrPTJ9fX1yZXR1cm4gbnVsbH0oUGUoKSwibmFtZSIpKSxobyhxYSkpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0LHNlbGVjdG9yczpbWyJyb3V0ZXItb3V0bGV0Il1dLG91dHB1dHM6e2FjdGl2YXRlRXZlbnRzOiJhY3RpdmF0ZSIsZGVhY3RpdmF0ZUV2ZW50czoiZGVhY3RpdmF0ZSJ9LGV4cG9ydEFzOlsib3V0bGV0Il19KSx0fSkoKTtjbGFzcyBVbXtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5yb3V0ZT10LHRoaXMuY2hpbGRDb250ZXh0cz1lLHRoaXMucGFyZW50PW59Z2V0KHQsZSl7cmV0dXJuIHQ9PT15Zz90aGlzLnJvdXRlOnQ9PT1QbT90aGlzLmNoaWxkQ29udGV4dHM6dGhpcy5wYXJlbnQuZ2V0KHQsZSl9fWNsYXNzIEhte31jbGFzcyAkbXtwcmVsb2FkKHQsZSl7cmV0dXJuIG5kKG51bGwpfX1sZXQgem09KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbixyLHMpe3RoaXMucm91dGVyPXQsdGhpcy5pbmplY3Rvcj1yLHRoaXMucHJlbG9hZGluZ1N0cmF0ZWd5PXMsdGhpcy5sb2FkZXI9bmV3IE9tKGUsbixlPT50LnRyaWdnZXJFdmVudChuZXcgX2YoZSkpLGU9PnQudHJpZ2dlckV2ZW50KG5ldyB3ZihlKSkpfXNldFVwUHJlbG9hZGluZygpe3RoaXMuc3Vic2NyaXB0aW9uPXRoaXMucm91dGVyLmV2ZW50cy5waXBlKExwKHQ9PnQgaW5zdGFuY2VvZiBkZikscXAoKCk9PnRoaXMucHJlbG9hZCgpKSkuc3Vic2NyaWJlKCgpPT57fSl9cHJlbG9hZCgpe2NvbnN0IHQ9dGhpcy5pbmplY3Rvci5nZXQodGwpO3JldHVybiB0aGlzLnByb2Nlc3NSb3V0ZXModCx0aGlzLnJvdXRlci5jb25maWcpfW5nT25EZXN0cm95KCl7dGhpcy5zdWJzY3JpcHRpb24mJnRoaXMuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCl9cHJvY2Vzc1JvdXRlcyh0LGUpe2NvbnN0IG49W107Zm9yKGNvbnN0IHIgb2YgZSlpZihyLmxvYWRDaGlsZHJlbiYmIXIuY2FuTG9hZCYmci5fbG9hZGVkQ29uZmlnKXtjb25zdCB0PXIuX2xvYWRlZENvbmZpZztuLnB1c2godGhpcy5wcm9jZXNzUm91dGVzKHQubW9kdWxlLHQucm91dGVzKSl9ZWxzZSByLmxvYWRDaGlsZHJlbiYmIXIuY2FuTG9hZD9uLnB1c2godGhpcy5wcmVsb2FkQ29uZmlnKHQscikpOnIuY2hpbGRyZW4mJm4ucHVzaCh0aGlzLnByb2Nlc3NSb3V0ZXModCxyLmNoaWxkcmVuKSk7cmV0dXJuIFYobikucGlwZSgkKCksUyh0PT57fSkpfXByZWxvYWRDb25maWcodCxlKXtyZXR1cm4gdGhpcy5wcmVsb2FkaW5nU3RyYXRlZ3kucHJlbG9hZChlLCgpPT4oZS5fbG9hZGVkQ29uZmlnP25kKGUuX2xvYWRlZENvbmZpZyk6dGhpcy5sb2FkZXIubG9hZCh0LmluamVjdG9yLGUpKS5waXBlKEIodD0+KGUuX2xvYWRlZENvbmZpZz10LHRoaXMucHJvY2Vzc1JvdXRlcyh0Lm1vZHVsZSx0LnJvdXRlcykpKSkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihMbSksYXIoUHUpLGFyKGF1KSxhcihHaSksYXIoSG0pKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxxbT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSxuPXt9KXt0aGlzLnJvdXRlcj10LHRoaXMudmlld3BvcnRTY3JvbGxlcj1lLHRoaXMub3B0aW9ucz1uLHRoaXMubGFzdElkPTAsdGhpcy5sYXN0U291cmNlPSJpbXBlcmF0aXZlIix0aGlzLnJlc3RvcmVkSWQ9MCx0aGlzLnN0b3JlPXt9LG4uc2Nyb2xsUG9zaXRpb25SZXN0b3JhdGlvbj1uLnNjcm9sbFBvc2l0aW9uUmVzdG9yYXRpb258fCJkaXNhYmxlZCIsbi5hbmNob3JTY3JvbGxpbmc9bi5hbmNob3JTY3JvbGxpbmd8fCJkaXNhYmxlZCJ9aW5pdCgpeyJkaXNhYmxlZCIhPT10aGlzLm9wdGlvbnMuc2Nyb2xsUG9zaXRpb25SZXN0b3JhdGlvbiYmdGhpcy52aWV3cG9ydFNjcm9sbGVyLnNldEhpc3RvcnlTY3JvbGxSZXN0b3JhdGlvbigibWFudWFsIiksdGhpcy5yb3V0ZXJFdmVudHNTdWJzY3JpcHRpb249dGhpcy5jcmVhdGVTY3JvbGxFdmVudHMoKSx0aGlzLnNjcm9sbEV2ZW50c1N1YnNjcmlwdGlvbj10aGlzLmNvbnN1bWVTY3JvbGxFdmVudHMoKX1jcmVhdGVTY3JvbGxFdmVudHMoKXtyZXR1cm4gdGhpcy5yb3V0ZXIuZXZlbnRzLnN1YnNjcmliZSh0PT57dCBpbnN0YW5jZW9mIGhmPyh0aGlzLnN0b3JlW3RoaXMubGFzdElkXT10aGlzLnZpZXdwb3J0U2Nyb2xsZXIuZ2V0U2Nyb2xsUG9zaXRpb24oKSx0aGlzLmxhc3RTb3VyY2U9dC5uYXZpZ2F0aW9uVHJpZ2dlcix0aGlzLnJlc3RvcmVkSWQ9dC5yZXN0b3JlZFN0YXRlP3QucmVzdG9yZWRTdGF0ZS5uYXZpZ2F0aW9uSWQ6MCk6dCBpbnN0YW5jZW9mIGRmJiYodGhpcy5sYXN0SWQ9dC5pZCx0aGlzLnNjaGVkdWxlU2Nyb2xsRXZlbnQodCx0aGlzLnJvdXRlci5wYXJzZVVybCh0LnVybEFmdGVyUmVkaXJlY3RzKS5mcmFnbWVudCkpfSl9Y29uc3VtZVNjcm9sbEV2ZW50cygpe3JldHVybiB0aGlzLnJvdXRlci5ldmVudHMuc3Vic2NyaWJlKHQ9Pnt0IGluc3RhbmNlb2YgU2YmJih0LnBvc2l0aW9uPyJ0b3AiPT09dGhpcy5vcHRpb25zLnNjcm9sbFBvc2l0aW9uUmVzdG9yYXRpb24/dGhpcy52aWV3cG9ydFNjcm9sbGVyLnNjcm9sbFRvUG9zaXRpb24oWzAsMF0pOiJlbmFibGVkIj09PXRoaXMub3B0aW9ucy5zY3JvbGxQb3NpdGlvblJlc3RvcmF0aW9uJiZ0aGlzLnZpZXdwb3J0U2Nyb2xsZXIuc2Nyb2xsVG9Qb3NpdGlvbih0LnBvc2l0aW9uKTp0LmFuY2hvciYmImVuYWJsZWQiPT09dGhpcy5vcHRpb25zLmFuY2hvclNjcm9sbGluZz90aGlzLnZpZXdwb3J0U2Nyb2xsZXIuc2Nyb2xsVG9BbmNob3IodC5hbmNob3IpOiJkaXNhYmxlZCIhPT10aGlzLm9wdGlvbnMuc2Nyb2xsUG9zaXRpb25SZXN0b3JhdGlvbiYmdGhpcy52aWV3cG9ydFNjcm9sbGVyLnNjcm9sbFRvUG9zaXRpb24oWzAsMF0pKX0pfXNjaGVkdWxlU2Nyb2xsRXZlbnQodCxlKXt0aGlzLnJvdXRlci50cmlnZ2VyRXZlbnQobmV3IFNmKHQsInBvcHN0YXRlIj09PXRoaXMubGFzdFNvdXJjZT90aGlzLnN0b3JlW3RoaXMucmVzdG9yZWRJZF06bnVsbCxlKSl9bmdPbkRlc3Ryb3koKXt0aGlzLnJvdXRlckV2ZW50c1N1YnNjcmlwdGlvbiYmdGhpcy5yb3V0ZXJFdmVudHNTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSx0aGlzLnNjcm9sbEV2ZW50c1N1YnNjcmlwdGlvbiYmdGhpcy5zY3JvbGxFdmVudHNTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoTG0pLGFyKHBoKSxhcih2b2lkIDApKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCBXbT1uZXcgJG4oIlJPVVRFUl9DT05GSUdVUkFUSU9OIiksR209bmV3ICRuKCJST1VURVJfRk9SUk9PVF9HVUFSRCIpLFptPVtyYyx7cHJvdmlkZTpaZix1c2VDbGFzczpLZn0se3Byb3ZpZGU6TG0sdXNlRmFjdG9yeTpmdW5jdGlvbih0LGUsbixyLHMsaSxvLGE9e30sbCx1KXtjb25zdCBjPW5ldyBMbShudWxsLHQsZSxuLHIscyxpLFJmKG8pKTtyZXR1cm4gbCYmKGMudXJsSGFuZGxpbmdTdHJhdGVneT1sKSx1JiYoYy5yb3V0ZVJldXNlU3RyYXRlZ3k9dSksZnVuY3Rpb24odCxlKXt0LmVycm9ySGFuZGxlciYmKGUuZXJyb3JIYW5kbGVyPXQuZXJyb3JIYW5kbGVyKSx0Lm1hbGZvcm1lZFVyaUVycm9ySGFuZGxlciYmKGUubWFsZm9ybWVkVXJpRXJyb3JIYW5kbGVyPXQubWFsZm9ybWVkVXJpRXJyb3JIYW5kbGVyKSx0Lm9uU2FtZVVybE5hdmlnYXRpb24mJihlLm9uU2FtZVVybE5hdmlnYXRpb249dC5vblNhbWVVcmxOYXZpZ2F0aW9uKSx0LnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3kmJihlLnBhcmFtc0luaGVyaXRhbmNlU3RyYXRlZ3k9dC5wYXJhbXNJbmhlcml0YW5jZVN0cmF0ZWd5KSx0LnJlbGF0aXZlTGlua1Jlc29sdXRpb24mJihlLnJlbGF0aXZlTGlua1Jlc29sdXRpb249dC5yZWxhdGl2ZUxpbmtSZXNvbHV0aW9uKSx0LnVybFVwZGF0ZVN0cmF0ZWd5JiYoZS51cmxVcGRhdGVTdHJhdGVneT10LnVybFVwZGF0ZVN0cmF0ZWd5KX0oYSxjKSxhLmVuYWJsZVRyYWNpbmcmJmMuZXZlbnRzLnN1YnNjcmliZSh0PT57dmFyIGUsbjtudWxsPT09KGU9Y29uc29sZS5ncm91cCl8fHZvaWQgMD09PWV8fGUuY2FsbChjb25zb2xlLGBSb3V0ZXIgRXZlbnQ6ICR7dC5jb25zdHJ1Y3Rvci5uYW1lfWApLGNvbnNvbGUubG9nKHQudG9TdHJpbmcoKSksY29uc29sZS5sb2codCksbnVsbD09PShuPWNvbnNvbGUuZ3JvdXBFbmQpfHx2b2lkIDA9PT1ufHxuLmNhbGwoY29uc29sZSl9KSxjfSxkZXBzOltaZixQbSxyYyxHaSxQdSxhdSxUbSxXbSxbY2xhc3N7fSxuZXcgaHJdLFtjbGFzc3t9LG5ldyBocl1dfSxQbSx7cHJvdmlkZTp5Zyx1c2VGYWN0b3J5OmZ1bmN0aW9uKHQpe3JldHVybiB0LnJvdXRlclN0YXRlLnJvb3R9LGRlcHM6W0xtXX0se3Byb3ZpZGU6UHUsdXNlQ2xhc3M6TXV9LHptLCRtLGNsYXNze3ByZWxvYWQodCxlKXtyZXR1cm4gZSgpLnBpcGUoSHAoKCk9Pm5kKG51bGwpKSl9fSx7cHJvdmlkZTpXbSx1c2VWYWx1ZTp7ZW5hYmxlVHJhY2luZzohMX19XTtmdW5jdGlvbiBLbSgpe3JldHVybiBuZXcgQXUoIlJvdXRlciIsTG0pfWxldCBZbT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7fXN0YXRpYyBmb3JSb290KGUsbil7cmV0dXJue25nTW9kdWxlOnQscHJvdmlkZXJzOltabSx0eShlKSx7cHJvdmlkZTpHbSx1c2VGYWN0b3J5OkptLGRlcHM6W1tMbSxuZXcgaHIsbmV3IGRyXV19LHtwcm92aWRlOldtLHVzZVZhbHVlOm58fHt9fSx7cHJvdmlkZTpYdSx1c2VGYWN0b3J5OlhtLGRlcHM6WyR1LFtuZXcgY3IodGMpLG5ldyBocl0sV21dfSx7cHJvdmlkZTpxbSx1c2VGYWN0b3J5OlFtLGRlcHM6W0xtLHBoLFdtXX0se3Byb3ZpZGU6SG0sdXNlRXhpc3Rpbmc6biYmbi5wcmVsb2FkaW5nU3RyYXRlZ3k/bi5wcmVsb2FkaW5nU3RyYXRlZ3k6JG19LHtwcm92aWRlOkF1LG11bHRpOiEwLHVzZUZhY3Rvcnk6S219LFtleSx7cHJvdmlkZTokbCxtdWx0aTohMCx1c2VGYWN0b3J5Om55LGRlcHM6W2V5XX0se3Byb3ZpZGU6c3ksdXNlRmFjdG9yeTpyeSxkZXBzOltleV19LHtwcm92aWRlOllsLG11bHRpOiEwLHVzZUV4aXN0aW5nOnN5fV1dfX1zdGF0aWMgZm9yQ2hpbGQoZSl7cmV0dXJue25nTW9kdWxlOnQscHJvdmlkZXJzOlt0eShlKV19fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihHbSw4KSxhcihMbSw4KSl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7fSksdH0pKCk7ZnVuY3Rpb24gUW0odCxlLG4pe3JldHVybiBuLnNjcm9sbE9mZnNldCYmZS5zZXRPZmZzZXQobi5zY3JvbGxPZmZzZXQpLG5ldyBxbSh0LGUsbil9ZnVuY3Rpb24gWG0odCxlLG49e30pe3JldHVybiBuLnVzZUhhc2g/bmV3IG5jKHQsZSk6bmV3IGVjKHQsZSl9ZnVuY3Rpb24gSm0odCl7cmV0dXJuImd1YXJkZWQifWZ1bmN0aW9uIHR5KHQpe3JldHVyblt7cHJvdmlkZTp6bixtdWx0aTohMCx1c2VWYWx1ZTp0fSx7cHJvdmlkZTpUbSxtdWx0aTohMCx1c2VWYWx1ZTp0fV19bGV0IGV5PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5pbmplY3Rvcj10LHRoaXMuaW5pdE5hdmlnYXRpb249ITEsdGhpcy5yZXN1bHRPZlByZWFjdGl2YXRpb25Eb25lPW5ldyBFfWFwcEluaXRpYWxpemVyKCl7cmV0dXJuIHRoaXMuaW5qZWN0b3IuZ2V0KHF1LFByb21pc2UucmVzb2x2ZShudWxsKSkudGhlbigoKT0+e2xldCB0PW51bGw7Y29uc3QgZT1uZXcgUHJvbWlzZShlPT50PWUpLG49dGhpcy5pbmplY3Rvci5nZXQoTG0pLHI9dGhpcy5pbmplY3Rvci5nZXQoV20pO3JldHVybiJkaXNhYmxlZCI9PT1yLmluaXRpYWxOYXZpZ2F0aW9uPyhuLnNldFVwTG9jYXRpb25DaGFuZ2VMaXN0ZW5lcigpLHQoITApKToiZW5hYmxlZCI9PT1yLmluaXRpYWxOYXZpZ2F0aW9ufHwiZW5hYmxlZEJsb2NraW5nIj09PXIuaW5pdGlhbE5hdmlnYXRpb24/KG4uaG9va3MuYWZ0ZXJQcmVhY3RpdmF0aW9uPSgpPT50aGlzLmluaXROYXZpZ2F0aW9uP25kKG51bGwpOih0aGlzLmluaXROYXZpZ2F0aW9uPSEwLHQoITApLHRoaXMucmVzdWx0T2ZQcmVhY3RpdmF0aW9uRG9uZSksbi5pbml0aWFsTmF2aWdhdGlvbigpKTp0KCEwKSxlfSl9Ym9vdHN0cmFwTGlzdGVuZXIodCl7Y29uc3QgZT10aGlzLmluamVjdG9yLmdldChXbSksbj10aGlzLmluamVjdG9yLmdldCh6bSkscj10aGlzLmluamVjdG9yLmdldChxbSkscz10aGlzLmluamVjdG9yLmdldChMbSksaT10aGlzLmluamVjdG9yLmdldChPdSk7dD09PWkuY29tcG9uZW50c1swXSYmKCJlbmFibGVkTm9uQmxvY2tpbmciIT09ZS5pbml0aWFsTmF2aWdhdGlvbiYmdm9pZCAwIT09ZS5pbml0aWFsTmF2aWdhdGlvbnx8cy5pbml0aWFsTmF2aWdhdGlvbigpLG4uc2V0VXBQcmVsb2FkaW5nKCksci5pbml0KCkscy5yZXNldFJvb3RDb21wb25lbnRUeXBlKGkuY29tcG9uZW50VHlwZXNbMF0pLHRoaXMucmVzdWx0T2ZQcmVhY3RpdmF0aW9uRG9uZS5uZXh0KG51bGwpLHRoaXMucmVzdWx0T2ZQcmVhY3RpdmF0aW9uRG9uZS5jb21wbGV0ZSgpKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoR2kpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtmdW5jdGlvbiBueSh0KXtyZXR1cm4gdC5hcHBJbml0aWFsaXplci5iaW5kKHQpfWZ1bmN0aW9uIHJ5KHQpe3JldHVybiB0LmJvb3RzdHJhcExpc3RlbmVyLmJpbmQodCl9Y29uc3Qgc3k9bmV3ICRuKCJSb3V0ZXIgSW5pdGlhbGl6ZXIiKTtjbGFzcyBpeXt9Y2xhc3Mgb3l7fWNsYXNzIGF5e2NvbnN0cnVjdG9yKHQpe3RoaXMubm9ybWFsaXplZE5hbWVzPW5ldyBNYXAsdGhpcy5sYXp5VXBkYXRlPW51bGwsdD90aGlzLmxhenlJbml0PSJzdHJpbmciPT10eXBlb2YgdD8oKT0+e3RoaXMuaGVhZGVycz1uZXcgTWFwLHQuc3BsaXQoIlxuIikuZm9yRWFjaCh0PT57Y29uc3QgZT10LmluZGV4T2YoIjoiKTtpZihlPjApe2NvbnN0IG49dC5zbGljZSgwLGUpLHI9bi50b0xvd2VyQ2FzZSgpLHM9dC5zbGljZShlKzEpLnRyaW0oKTt0aGlzLm1heWJlU2V0Tm9ybWFsaXplZE5hbWUobixyKSx0aGlzLmhlYWRlcnMuaGFzKHIpP3RoaXMuaGVhZGVycy5nZXQocikucHVzaChzKTp0aGlzLmhlYWRlcnMuc2V0KHIsW3NdKX19KX06KCk9Pnt0aGlzLmhlYWRlcnM9bmV3IE1hcCxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGU9PntsZXQgbj10W2VdO2NvbnN0IHI9ZS50b0xvd2VyQ2FzZSgpOyJzdHJpbmciPT10eXBlb2YgbiYmKG49W25dKSxuLmxlbmd0aD4wJiYodGhpcy5oZWFkZXJzLnNldChyLG4pLHRoaXMubWF5YmVTZXROb3JtYWxpemVkTmFtZShlLHIpKX0pfTp0aGlzLmhlYWRlcnM9bmV3IE1hcH1oYXModCl7cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXMuaGVhZGVycy5oYXModC50b0xvd2VyQ2FzZSgpKX1nZXQodCl7dGhpcy5pbml0KCk7Y29uc3QgZT10aGlzLmhlYWRlcnMuZ2V0KHQudG9Mb3dlckNhc2UoKSk7cmV0dXJuIGUmJmUubGVuZ3RoPjA/ZVswXTpudWxsfWtleXMoKXtyZXR1cm4gdGhpcy5pbml0KCksQXJyYXkuZnJvbSh0aGlzLm5vcm1hbGl6ZWROYW1lcy52YWx1ZXMoKSl9Z2V0QWxsKHQpe3JldHVybiB0aGlzLmluaXQoKSx0aGlzLmhlYWRlcnMuZ2V0KHQudG9Mb3dlckNhc2UoKSl8fG51bGx9YXBwZW5kKHQsZSl7cmV0dXJuIHRoaXMuY2xvbmUoe25hbWU6dCx2YWx1ZTplLG9wOiJhIn0pfXNldCh0LGUpe3JldHVybiB0aGlzLmNsb25lKHtuYW1lOnQsdmFsdWU6ZSxvcDoicyJ9KX1kZWxldGUodCxlKXtyZXR1cm4gdGhpcy5jbG9uZSh7bmFtZTp0LHZhbHVlOmUsb3A6ImQifSl9bWF5YmVTZXROb3JtYWxpemVkTmFtZSh0LGUpe3RoaXMubm9ybWFsaXplZE5hbWVzLmhhcyhlKXx8dGhpcy5ub3JtYWxpemVkTmFtZXMuc2V0KGUsdCl9aW5pdCgpe3RoaXMubGF6eUluaXQmJih0aGlzLmxhenlJbml0IGluc3RhbmNlb2YgYXk/dGhpcy5jb3B5RnJvbSh0aGlzLmxhenlJbml0KTp0aGlzLmxhenlJbml0KCksdGhpcy5sYXp5SW5pdD1udWxsLHRoaXMubGF6eVVwZGF0ZSYmKHRoaXMubGF6eVVwZGF0ZS5mb3JFYWNoKHQ9PnRoaXMuYXBwbHlVcGRhdGUodCkpLHRoaXMubGF6eVVwZGF0ZT1udWxsKSl9Y29weUZyb20odCl7dC5pbml0KCksQXJyYXkuZnJvbSh0LmhlYWRlcnMua2V5cygpKS5mb3JFYWNoKGU9Pnt0aGlzLmhlYWRlcnMuc2V0KGUsdC5oZWFkZXJzLmdldChlKSksdGhpcy5ub3JtYWxpemVkTmFtZXMuc2V0KGUsdC5ub3JtYWxpemVkTmFtZXMuZ2V0KGUpKX0pfWNsb25lKHQpe2NvbnN0IGU9bmV3IGF5O3JldHVybiBlLmxhenlJbml0PXRoaXMubGF6eUluaXQmJnRoaXMubGF6eUluaXQgaW5zdGFuY2VvZiBheT90aGlzLmxhenlJbml0OnRoaXMsZS5sYXp5VXBkYXRlPSh0aGlzLmxhenlVcGRhdGV8fFtdKS5jb25jYXQoW3RdKSxlfWFwcGx5VXBkYXRlKHQpe2NvbnN0IGU9dC5uYW1lLnRvTG93ZXJDYXNlKCk7c3dpdGNoKHQub3Ape2Nhc2UiYSI6Y2FzZSJzIjpsZXQgbj10LnZhbHVlO2lmKCJzdHJpbmciPT10eXBlb2YgbiYmKG49W25dKSwwPT09bi5sZW5ndGgpcmV0dXJuO3RoaXMubWF5YmVTZXROb3JtYWxpemVkTmFtZSh0Lm5hbWUsZSk7Y29uc3Qgcj0oImEiPT09dC5vcD90aGlzLmhlYWRlcnMuZ2V0KGUpOnZvaWQgMCl8fFtdO3IucHVzaCguLi5uKSx0aGlzLmhlYWRlcnMuc2V0KGUscik7YnJlYWs7Y2FzZSJkIjpjb25zdCBzPXQudmFsdWU7aWYocyl7bGV0IHQ9dGhpcy5oZWFkZXJzLmdldChlKTtpZighdClyZXR1cm47dD10LmZpbHRlcih0PT4tMT09PXMuaW5kZXhPZih0KSksMD09PXQubGVuZ3RoPyh0aGlzLmhlYWRlcnMuZGVsZXRlKGUpLHRoaXMubm9ybWFsaXplZE5hbWVzLmRlbGV0ZShlKSk6dGhpcy5oZWFkZXJzLnNldChlLHQpfWVsc2UgdGhpcy5oZWFkZXJzLmRlbGV0ZShlKSx0aGlzLm5vcm1hbGl6ZWROYW1lcy5kZWxldGUoZSl9fWZvckVhY2godCl7dGhpcy5pbml0KCksQXJyYXkuZnJvbSh0aGlzLm5vcm1hbGl6ZWROYW1lcy5rZXlzKCkpLmZvckVhY2goZT0+dCh0aGlzLm5vcm1hbGl6ZWROYW1lcy5nZXQoZSksdGhpcy5oZWFkZXJzLmdldChlKSkpfX1jbGFzcyBseXtlbmNvZGVLZXkodCl7cmV0dXJuIHV5KHQpfWVuY29kZVZhbHVlKHQpe3JldHVybiB1eSh0KX1kZWNvZGVLZXkodCl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh0KX1kZWNvZGVWYWx1ZSh0KXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHQpfX1mdW5jdGlvbiB1eSh0KXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHQpLnJlcGxhY2UoLyU0MC9naSwiQCIpLnJlcGxhY2UoLyUzQS9naSwiOiIpLnJlcGxhY2UoLyUyNC9naSwiJCIpLnJlcGxhY2UoLyUyQy9naSwiLCIpLnJlcGxhY2UoLyUzQi9naSwiOyIpLnJlcGxhY2UoLyUyQi9naSwiKyIpLnJlcGxhY2UoLyUzRC9naSwiPSIpLnJlcGxhY2UoLyUzRi9naSwiPyIpLnJlcGxhY2UoLyUyRi9naSwiLyIpfWZ1bmN0aW9uIGN5KHQpe3JldHVybmAke3R9YH1jbGFzcyBoeXtjb25zdHJ1Y3Rvcih0PXt9KXtpZih0aGlzLnVwZGF0ZXM9bnVsbCx0aGlzLmNsb25lRnJvbT1udWxsLHRoaXMuZW5jb2Rlcj10LmVuY29kZXJ8fG5ldyBseSx0LmZyb21TdHJpbmcpe2lmKHQuZnJvbU9iamVjdCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBzcGVjaWZ5IGJvdGggZnJvbVN0cmluZyBhbmQgZnJvbU9iamVjdC4iKTt0aGlzLm1hcD1mdW5jdGlvbih0LGUpe2NvbnN0IG49bmV3IE1hcDtyZXR1cm4gdC5sZW5ndGg+MCYmdC5yZXBsYWNlKC9eXD8vLCIiKS5zcGxpdCgiJiIpLmZvckVhY2godD0+e2NvbnN0IHI9dC5pbmRleE9mKCI9IiksW3MsaV09LTE9PXI/W2UuZGVjb2RlS2V5KHQpLCIiXTpbZS5kZWNvZGVLZXkodC5zbGljZSgwLHIpKSxlLmRlY29kZVZhbHVlKHQuc2xpY2UocisxKSldLG89bi5nZXQocyl8fFtdO28ucHVzaChpKSxuLnNldChzLG8pfSksbn0odC5mcm9tU3RyaW5nLHRoaXMuZW5jb2Rlcil9ZWxzZSB0LmZyb21PYmplY3Q/KHRoaXMubWFwPW5ldyBNYXAsT2JqZWN0LmtleXModC5mcm9tT2JqZWN0KS5mb3JFYWNoKGU9Pntjb25zdCBuPXQuZnJvbU9iamVjdFtlXTt0aGlzLm1hcC5zZXQoZSxBcnJheS5pc0FycmF5KG4pP246W25dKX0pKTp0aGlzLm1hcD1udWxsfWhhcyh0KXtyZXR1cm4gdGhpcy5pbml0KCksdGhpcy5tYXAuaGFzKHQpfWdldCh0KXt0aGlzLmluaXQoKTtjb25zdCBlPXRoaXMubWFwLmdldCh0KTtyZXR1cm4gZT9lWzBdOm51bGx9Z2V0QWxsKHQpe3JldHVybiB0aGlzLmluaXQoKSx0aGlzLm1hcC5nZXQodCl8fG51bGx9a2V5cygpe3JldHVybiB0aGlzLmluaXQoKSxBcnJheS5mcm9tKHRoaXMubWFwLmtleXMoKSl9YXBwZW5kKHQsZSl7cmV0dXJuIHRoaXMuY2xvbmUoe3BhcmFtOnQsdmFsdWU6ZSxvcDoiYSJ9KX1hcHBlbmRBbGwodCl7Y29uc3QgZT1bXTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChuPT57Y29uc3Qgcj10W25dO0FycmF5LmlzQXJyYXkocik/ci5mb3JFYWNoKHQ9PntlLnB1c2goe3BhcmFtOm4sdmFsdWU6dCxvcDoiYSJ9KX0pOmUucHVzaCh7cGFyYW06bix2YWx1ZTpyLG9wOiJhIn0pfSksdGhpcy5jbG9uZShlKX1zZXQodCxlKXtyZXR1cm4gdGhpcy5jbG9uZSh7cGFyYW06dCx2YWx1ZTplLG9wOiJzIn0pfWRlbGV0ZSh0LGUpe3JldHVybiB0aGlzLmNsb25lKHtwYXJhbTp0LHZhbHVlOmUsb3A6ImQifSl9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5pbml0KCksdGhpcy5rZXlzKCkubWFwKHQ9Pntjb25zdCBlPXRoaXMuZW5jb2Rlci5lbmNvZGVLZXkodCk7cmV0dXJuIHRoaXMubWFwLmdldCh0KS5tYXAodD0+ZSsiPSIrdGhpcy5lbmNvZGVyLmVuY29kZVZhbHVlKHQpKS5qb2luKCImIil9KS5maWx0ZXIodD0+IiIhPT10KS5qb2luKCImIil9Y2xvbmUodCl7Y29uc3QgZT1uZXcgaHkoe2VuY29kZXI6dGhpcy5lbmNvZGVyfSk7cmV0dXJuIGUuY2xvbmVGcm9tPXRoaXMuY2xvbmVGcm9tfHx0aGlzLGUudXBkYXRlcz0odGhpcy51cGRhdGVzfHxbXSkuY29uY2F0KHQpLGV9aW5pdCgpe251bGw9PT10aGlzLm1hcCYmKHRoaXMubWFwPW5ldyBNYXApLG51bGwhPT10aGlzLmNsb25lRnJvbSYmKHRoaXMuY2xvbmVGcm9tLmluaXQoKSx0aGlzLmNsb25lRnJvbS5rZXlzKCkuZm9yRWFjaCh0PT50aGlzLm1hcC5zZXQodCx0aGlzLmNsb25lRnJvbS5tYXAuZ2V0KHQpKSksdGhpcy51cGRhdGVzLmZvckVhY2godD0+e3N3aXRjaCh0Lm9wKXtjYXNlImEiOmNhc2UicyI6Y29uc3QgZT0oImEiPT09dC5vcD90aGlzLm1hcC5nZXQodC5wYXJhbSk6dm9pZCAwKXx8W107ZS5wdXNoKGN5KHQudmFsdWUpKSx0aGlzLm1hcC5zZXQodC5wYXJhbSxlKTticmVhaztjYXNlImQiOmlmKHZvaWQgMD09PXQudmFsdWUpe3RoaXMubWFwLmRlbGV0ZSh0LnBhcmFtKTticmVha317bGV0IGU9dGhpcy5tYXAuZ2V0KHQucGFyYW0pfHxbXTtjb25zdCBuPWUuaW5kZXhPZihjeSh0LnZhbHVlKSk7LTEhPT1uJiZlLnNwbGljZShuLDEpLGUubGVuZ3RoPjA/dGhpcy5tYXAuc2V0KHQucGFyYW0sZSk6dGhpcy5tYXAuZGVsZXRlKHQucGFyYW0pfX19KSx0aGlzLmNsb25lRnJvbT10aGlzLnVwZGF0ZXM9bnVsbCl9fWNsYXNzIGR5e2NvbnN0cnVjdG9yKCl7dGhpcy5tYXA9bmV3IE1hcH1zZXQodCxlKXtyZXR1cm4gdGhpcy5tYXAuc2V0KHQsZSksdGhpc31nZXQodCl7cmV0dXJuIHRoaXMubWFwLmhhcyh0KXx8dGhpcy5tYXAuc2V0KHQsdC5kZWZhdWx0VmFsdWUoKSksdGhpcy5tYXAuZ2V0KHQpfWRlbGV0ZSh0KXtyZXR1cm4gdGhpcy5tYXAuZGVsZXRlKHQpLHRoaXN9a2V5cygpe3JldHVybiB0aGlzLm1hcC5rZXlzKCl9fWZ1bmN0aW9uIHB5KHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcn1mdW5jdGlvbiBmeSh0KXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEJsb2ImJnQgaW5zdGFuY2VvZiBCbG9ifWZ1bmN0aW9uIGd5KHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgRm9ybURhdGEmJnQgaW5zdGFuY2VvZiBGb3JtRGF0YX1jbGFzcyBteXtjb25zdHJ1Y3Rvcih0LGUsbixyKXtsZXQgcztpZih0aGlzLnVybD1lLHRoaXMuYm9keT1udWxsLHRoaXMucmVwb3J0UHJvZ3Jlc3M9ITEsdGhpcy53aXRoQ3JlZGVudGlhbHM9ITEsdGhpcy5yZXNwb25zZVR5cGU9Impzb24iLHRoaXMubWV0aG9kPXQudG9VcHBlckNhc2UoKSxmdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSJERUxFVEUiOmNhc2UiR0VUIjpjYXNlIkhFQUQiOmNhc2UiT1BUSU9OUyI6Y2FzZSJKU09OUCI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4hMH19KHRoaXMubWV0aG9kKXx8cj8odGhpcy5ib2R5PXZvaWQgMCE9PW4/bjpudWxsLHM9cik6cz1uLHMmJih0aGlzLnJlcG9ydFByb2dyZXNzPSEhcy5yZXBvcnRQcm9ncmVzcyx0aGlzLndpdGhDcmVkZW50aWFscz0hIXMud2l0aENyZWRlbnRpYWxzLHMucmVzcG9uc2VUeXBlJiYodGhpcy5yZXNwb25zZVR5cGU9cy5yZXNwb25zZVR5cGUpLHMuaGVhZGVycyYmKHRoaXMuaGVhZGVycz1zLmhlYWRlcnMpLHMuY29udGV4dCYmKHRoaXMuY29udGV4dD1zLmNvbnRleHQpLHMucGFyYW1zJiYodGhpcy5wYXJhbXM9cy5wYXJhbXMpKSx0aGlzLmhlYWRlcnN8fCh0aGlzLmhlYWRlcnM9bmV3IGF5KSx0aGlzLmNvbnRleHR8fCh0aGlzLmNvbnRleHQ9bmV3IGR5KSx0aGlzLnBhcmFtcyl7Y29uc3QgdD10aGlzLnBhcmFtcy50b1N0cmluZygpO2lmKDA9PT10Lmxlbmd0aCl0aGlzLnVybFdpdGhQYXJhbXM9ZTtlbHNle2NvbnN0IG49ZS5pbmRleE9mKCI/Iik7dGhpcy51cmxXaXRoUGFyYW1zPWUrKC0xPT09bj8iPyI6bjxlLmxlbmd0aC0xPyImIjoiIikrdH19ZWxzZSB0aGlzLnBhcmFtcz1uZXcgaHksdGhpcy51cmxXaXRoUGFyYW1zPWV9c2VyaWFsaXplQm9keSgpe3JldHVybiBudWxsPT09dGhpcy5ib2R5P251bGw6cHkodGhpcy5ib2R5KXx8ZnkodGhpcy5ib2R5KXx8Z3kodGhpcy5ib2R5KXx8InN0cmluZyI9PXR5cGVvZiB0aGlzLmJvZHk/dGhpcy5ib2R5OnRoaXMuYm9keSBpbnN0YW5jZW9mIGh5P3RoaXMuYm9keS50b1N0cmluZygpOiJvYmplY3QiPT10eXBlb2YgdGhpcy5ib2R5fHwiYm9vbGVhbiI9PXR5cGVvZiB0aGlzLmJvZHl8fEFycmF5LmlzQXJyYXkodGhpcy5ib2R5KT9KU09OLnN0cmluZ2lmeSh0aGlzLmJvZHkpOnRoaXMuYm9keS50b1N0cmluZygpfWRldGVjdENvbnRlbnRUeXBlSGVhZGVyKCl7cmV0dXJuIG51bGw9PT10aGlzLmJvZHl8fGd5KHRoaXMuYm9keSk/bnVsbDpmeSh0aGlzLmJvZHkpP3RoaXMuYm9keS50eXBlfHxudWxsOnB5KHRoaXMuYm9keSk/bnVsbDoic3RyaW5nIj09dHlwZW9mIHRoaXMuYm9keT8idGV4dC9wbGFpbiI6dGhpcy5ib2R5IGluc3RhbmNlb2YgaHk/ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04Ijoib2JqZWN0Ij09dHlwZW9mIHRoaXMuYm9keXx8Im51bWJlciI9PXR5cGVvZiB0aGlzLmJvZHl8fCJib29sZWFuIj09dHlwZW9mIHRoaXMuYm9keT8iYXBwbGljYXRpb24vanNvbiI6bnVsbH1jbG9uZSh0PXt9KXt2YXIgZTtjb25zdCBuPXQubWV0aG9kfHx0aGlzLm1ldGhvZCxyPXQudXJsfHx0aGlzLnVybCxzPXQucmVzcG9uc2VUeXBlfHx0aGlzLnJlc3BvbnNlVHlwZSxpPXZvaWQgMCE9PXQuYm9keT90LmJvZHk6dGhpcy5ib2R5LG89dm9pZCAwIT09dC53aXRoQ3JlZGVudGlhbHM/dC53aXRoQ3JlZGVudGlhbHM6dGhpcy53aXRoQ3JlZGVudGlhbHMsYT12b2lkIDAhPT10LnJlcG9ydFByb2dyZXNzP3QucmVwb3J0UHJvZ3Jlc3M6dGhpcy5yZXBvcnRQcm9ncmVzcztsZXQgbD10LmhlYWRlcnN8fHRoaXMuaGVhZGVycyx1PXQucGFyYW1zfHx0aGlzLnBhcmFtcztjb25zdCBjPW51bGwhPT0oZT10LmNvbnRleHQpJiZ2b2lkIDAhPT1lP2U6dGhpcy5jb250ZXh0O3JldHVybiB2b2lkIDAhPT10LnNldEhlYWRlcnMmJihsPU9iamVjdC5rZXlzKHQuc2V0SGVhZGVycykucmVkdWNlKChlLG4pPT5lLnNldChuLHQuc2V0SGVhZGVyc1tuXSksbCkpLHQuc2V0UGFyYW1zJiYodT1PYmplY3Qua2V5cyh0LnNldFBhcmFtcykucmVkdWNlKChlLG4pPT5lLnNldChuLHQuc2V0UGFyYW1zW25dKSx1KSksbmV3IG15KG4scixpLHtwYXJhbXM6dSxoZWFkZXJzOmwsY29udGV4dDpjLHJlcG9ydFByb2dyZXNzOmEscmVzcG9uc2VUeXBlOnMsd2l0aENyZWRlbnRpYWxzOm99KX19dmFyIHl5PWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuU2VudD0wXT0iU2VudCIsdFt0LlVwbG9hZFByb2dyZXNzPTFdPSJVcGxvYWRQcm9ncmVzcyIsdFt0LlJlc3BvbnNlSGVhZGVyPTJdPSJSZXNwb25zZUhlYWRlciIsdFt0LkRvd25sb2FkUHJvZ3Jlc3M9M109IkRvd25sb2FkUHJvZ3Jlc3MiLHRbdC5SZXNwb25zZT00XT0iUmVzcG9uc2UiLHRbdC5Vc2VyPTVdPSJVc2VyIix0fSh7fSk7Y2xhc3Mgdnl7Y29uc3RydWN0b3IodCxlPTIwMCxuPSJPSyIpe3RoaXMuaGVhZGVycz10LmhlYWRlcnN8fG5ldyBheSx0aGlzLnN0YXR1cz12b2lkIDAhPT10LnN0YXR1cz90LnN0YXR1czplLHRoaXMuc3RhdHVzVGV4dD10LnN0YXR1c1RleHR8fG4sdGhpcy51cmw9dC51cmx8fG51bGwsdGhpcy5vaz10aGlzLnN0YXR1cz49MjAwJiZ0aGlzLnN0YXR1czwzMDB9fWNsYXNzIGJ5IGV4dGVuZHMgdnl7Y29uc3RydWN0b3IodD17fSl7c3VwZXIodCksdGhpcy50eXBlPXl5LlJlc3BvbnNlSGVhZGVyfWNsb25lKHQ9e30pe3JldHVybiBuZXcgYnkoe2hlYWRlcnM6dC5oZWFkZXJzfHx0aGlzLmhlYWRlcnMsc3RhdHVzOnZvaWQgMCE9PXQuc3RhdHVzP3Quc3RhdHVzOnRoaXMuc3RhdHVzLHN0YXR1c1RleHQ6dC5zdGF0dXNUZXh0fHx0aGlzLnN0YXR1c1RleHQsdXJsOnQudXJsfHx0aGlzLnVybHx8dm9pZCAwfSl9fWNsYXNzIF95IGV4dGVuZHMgdnl7Y29uc3RydWN0b3IodD17fSl7c3VwZXIodCksdGhpcy50eXBlPXl5LlJlc3BvbnNlLHRoaXMuYm9keT12b2lkIDAhPT10LmJvZHk/dC5ib2R5Om51bGx9Y2xvbmUodD17fSl7cmV0dXJuIG5ldyBfeSh7Ym9keTp2b2lkIDAhPT10LmJvZHk/dC5ib2R5OnRoaXMuYm9keSxoZWFkZXJzOnQuaGVhZGVyc3x8dGhpcy5oZWFkZXJzLHN0YXR1czp2b2lkIDAhPT10LnN0YXR1cz90LnN0YXR1czp0aGlzLnN0YXR1cyxzdGF0dXNUZXh0OnQuc3RhdHVzVGV4dHx8dGhpcy5zdGF0dXNUZXh0LHVybDp0LnVybHx8dGhpcy51cmx8fHZvaWQgMH0pfX1jbGFzcyB3eSBleHRlbmRzIHZ5e2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsMCwiVW5rbm93biBFcnJvciIpLHRoaXMubmFtZT0iSHR0cEVycm9yUmVzcG9uc2UiLHRoaXMub2s9ITEsdGhpcy5tZXNzYWdlPXRoaXMuc3RhdHVzPj0yMDAmJnRoaXMuc3RhdHVzPDMwMD9gSHR0cCBmYWlsdXJlIGR1cmluZyBwYXJzaW5nIGZvciAke3QudXJsfHwiKHVua25vd24gdXJsKSJ9YDpgSHR0cCBmYWlsdXJlIHJlc3BvbnNlIGZvciAke3QudXJsfHwiKHVua25vd24gdXJsKSJ9OiAke3Quc3RhdHVzfSAke3Quc3RhdHVzVGV4dH1gLHRoaXMuZXJyb3I9dC5lcnJvcnx8bnVsbH19ZnVuY3Rpb24gQ3kodCxlKXtyZXR1cm57Ym9keTplLGhlYWRlcnM6dC5oZWFkZXJzLGNvbnRleHQ6dC5jb250ZXh0LG9ic2VydmU6dC5vYnNlcnZlLHBhcmFtczp0LnBhcmFtcyxyZXBvcnRQcm9ncmVzczp0LnJlcG9ydFByb2dyZXNzLHJlc3BvbnNlVHlwZTp0LnJlc3BvbnNlVHlwZSx3aXRoQ3JlZGVudGlhbHM6dC53aXRoQ3JlZGVudGlhbHN9fWxldCBFeT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuaGFuZGxlcj10fXJlcXVlc3QodCxlLG49e30pe2xldCByO2lmKHQgaW5zdGFuY2VvZiBteSlyPXQ7ZWxzZXtsZXQgcyxpO3M9bi5oZWFkZXJzIGluc3RhbmNlb2YgYXk/bi5oZWFkZXJzOm5ldyBheShuLmhlYWRlcnMpLG4ucGFyYW1zJiYoaT1uLnBhcmFtcyBpbnN0YW5jZW9mIGh5P24ucGFyYW1zOm5ldyBoeSh7ZnJvbU9iamVjdDpuLnBhcmFtc30pKSxyPW5ldyBteSh0LGUsdm9pZCAwIT09bi5ib2R5P24uYm9keTpudWxsLHtoZWFkZXJzOnMsY29udGV4dDpuLmNvbnRleHQscGFyYW1zOmkscmVwb3J0UHJvZ3Jlc3M6bi5yZXBvcnRQcm9ncmVzcyxyZXNwb25zZVR5cGU6bi5yZXNwb25zZVR5cGV8fCJqc29uIix3aXRoQ3JlZGVudGlhbHM6bi53aXRoQ3JlZGVudGlhbHN9KX1jb25zdCBzPW5kKHIpLnBpcGUocXAodD0+dGhpcy5oYW5kbGVyLmhhbmRsZSh0KSkpO2lmKHQgaW5zdGFuY2VvZiBteXx8ImV2ZW50cyI9PT1uLm9ic2VydmUpcmV0dXJuIHM7Y29uc3QgaT1zLnBpcGUoTHAodD0+dCBpbnN0YW5jZW9mIF95KSk7c3dpdGNoKG4ub2JzZXJ2ZXx8ImJvZHkiKXtjYXNlImJvZHkiOnN3aXRjaChyLnJlc3BvbnNlVHlwZSl7Y2FzZSJhcnJheWJ1ZmZlciI6cmV0dXJuIGkucGlwZShTKHQ9PntpZihudWxsIT09dC5ib2R5JiYhKHQuYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSl0aHJvdyBuZXcgRXJyb3IoIlJlc3BvbnNlIGlzIG5vdCBhbiBBcnJheUJ1ZmZlci4iKTtyZXR1cm4gdC5ib2R5fSkpO2Nhc2UiYmxvYiI6cmV0dXJuIGkucGlwZShTKHQ9PntpZihudWxsIT09dC5ib2R5JiYhKHQuYm9keSBpbnN0YW5jZW9mIEJsb2IpKXRocm93IG5ldyBFcnJvcigiUmVzcG9uc2UgaXMgbm90IGEgQmxvYi4iKTtyZXR1cm4gdC5ib2R5fSkpO2Nhc2UidGV4dCI6cmV0dXJuIGkucGlwZShTKHQ9PntpZihudWxsIT09dC5ib2R5JiYic3RyaW5nIiE9dHlwZW9mIHQuYm9keSl0aHJvdyBuZXcgRXJyb3IoIlJlc3BvbnNlIGlzIG5vdCBhIHN0cmluZy4iKTtyZXR1cm4gdC5ib2R5fSkpO2Nhc2UianNvbiI6ZGVmYXVsdDpyZXR1cm4gaS5waXBlKFModD0+dC5ib2R5KSl9Y2FzZSJyZXNwb25zZSI6cmV0dXJuIGk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVucmVhY2hhYmxlOiB1bmhhbmRsZWQgb2JzZXJ2ZSB0eXBlICR7bi5vYnNlcnZlfX1gKX19ZGVsZXRlKHQsZT17fSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiREVMRVRFIix0LGUpfWdldCh0LGU9e30pe3JldHVybiB0aGlzLnJlcXVlc3QoIkdFVCIsdCxlKX1oZWFkKHQsZT17fSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiSEVBRCIsdCxlKX1qc29ucCh0LGUpe3JldHVybiB0aGlzLnJlcXVlc3QoIkpTT05QIix0LHtwYXJhbXM6KG5ldyBoeSkuYXBwZW5kKGUsIkpTT05QX0NBTExCQUNLIiksb2JzZXJ2ZToiYm9keSIscmVzcG9uc2VUeXBlOiJqc29uIn0pfW9wdGlvbnModCxlPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJPUFRJT05TIix0LGUpfXBhdGNoKHQsZSxuPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJQQVRDSCIsdCxDeShuLGUpKX1wb3N0KHQsZSxuPXt9KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KCJQT1NUIix0LEN5KG4sZSkpfXB1dCh0LGUsbj17fSl7cmV0dXJuIHRoaXMucmVxdWVzdCgiUFVUIix0LEN5KG4sZSkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihpeSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NsYXNzIER5e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5uZXh0PXQsdGhpcy5pbnRlcmNlcHRvcj1lfWhhbmRsZSh0KXtyZXR1cm4gdGhpcy5pbnRlcmNlcHRvci5pbnRlcmNlcHQodCx0aGlzLm5leHQpfX1jb25zdCBBeT1uZXcgJG4oIkhUVFBfSU5URVJDRVBUT1JTIik7bGV0IFN5PSgoKT0+e2NsYXNzIHR7aW50ZXJjZXB0KHQsZSl7cmV0dXJuIGUuaGFuZGxlKHQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKTtjb25zdCB4eT0vXlwpXF1cfScsP1xuLztsZXQga3k9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnhockZhY3Rvcnk9dH1oYW5kbGUodCl7aWYoIkpTT05QIj09PXQubWV0aG9kKXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIGNvbnN0cnVjdCBKc29ucCByZXF1ZXN0IHdpdGhvdXQgSHR0cENsaWVudEpzb25wTW9kdWxlIGluc3RhbGxlZC4iKTtyZXR1cm4gbmV3IHYoZT0+e2NvbnN0IG49dGhpcy54aHJGYWN0b3J5LmJ1aWxkKCk7aWYobi5vcGVuKHQubWV0aG9kLHQudXJsV2l0aFBhcmFtcyksdC53aXRoQ3JlZGVudGlhbHMmJihuLndpdGhDcmVkZW50aWFscz0hMCksdC5oZWFkZXJzLmZvckVhY2goKHQsZSk9Pm4uc2V0UmVxdWVzdEhlYWRlcih0LGUuam9pbigiLCIpKSksdC5oZWFkZXJzLmhhcygiQWNjZXB0Iil8fG4uc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IiwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qIiksIXQuaGVhZGVycy5oYXMoIkNvbnRlbnQtVHlwZSIpKXtjb25zdCBlPXQuZGV0ZWN0Q29udGVudFR5cGVIZWFkZXIoKTtudWxsIT09ZSYmbi5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLGUpfWlmKHQucmVzcG9uc2VUeXBlKXtjb25zdCBlPXQucmVzcG9uc2VUeXBlLnRvTG93ZXJDYXNlKCk7bi5yZXNwb25zZVR5cGU9Impzb24iIT09ZT9lOiJ0ZXh0In1jb25zdCByPXQuc2VyaWFsaXplQm9keSgpO2xldCBzPW51bGw7Y29uc3QgaT0oKT0+e2lmKG51bGwhPT1zKXJldHVybiBzO2NvbnN0IGU9MTIyMz09PW4uc3RhdHVzPzIwNDpuLnN0YXR1cyxyPW4uc3RhdHVzVGV4dHx8Ik9LIixpPW5ldyBheShuLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSxvPWZ1bmN0aW9uKHQpe3JldHVybiJyZXNwb25zZVVSTCJpbiB0JiZ0LnJlc3BvbnNlVVJMP3QucmVzcG9uc2VVUkw6L15YLVJlcXVlc3QtVVJMOi9tLnRlc3QodC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk/dC5nZXRSZXNwb25zZUhlYWRlcigiWC1SZXF1ZXN0LVVSTCIpOm51bGx9KG4pfHx0LnVybDtyZXR1cm4gcz1uZXcgYnkoe2hlYWRlcnM6aSxzdGF0dXM6ZSxzdGF0dXNUZXh0OnIsdXJsOm99KSxzfSxvPSgpPT57bGV0e2hlYWRlcnM6cixzdGF0dXM6cyxzdGF0dXNUZXh0Om8sdXJsOmF9PWkoKSxsPW51bGw7MjA0IT09cyYmKGw9dm9pZCAwPT09bi5yZXNwb25zZT9uLnJlc3BvbnNlVGV4dDpuLnJlc3BvbnNlKSwwPT09cyYmKHM9bD8yMDA6MCk7bGV0IHU9cz49MjAwJiZzPDMwMDtpZigianNvbiI9PT10LnJlc3BvbnNlVHlwZSYmInN0cmluZyI9PXR5cGVvZiBsKXtjb25zdCB0PWw7bD1sLnJlcGxhY2UoeHksIiIpO3RyeXtsPSIiIT09bD9KU09OLnBhcnNlKGwpOm51bGx9Y2F0Y2goYyl7bD10LHUmJih1PSExLGw9e2Vycm9yOmMsdGV4dDpsfSl9fXU/KGUubmV4dChuZXcgX3koe2JvZHk6bCxoZWFkZXJzOnIsc3RhdHVzOnMsc3RhdHVzVGV4dDpvLHVybDphfHx2b2lkIDB9KSksZS5jb21wbGV0ZSgpKTplLmVycm9yKG5ldyB3eSh7ZXJyb3I6bCxoZWFkZXJzOnIsc3RhdHVzOnMsc3RhdHVzVGV4dDpvLHVybDphfHx2b2lkIDB9KSl9LGE9dD0+e2NvbnN0e3VybDpyfT1pKCkscz1uZXcgd3koe2Vycm9yOnQsc3RhdHVzOm4uc3RhdHVzfHwwLHN0YXR1c1RleHQ6bi5zdGF0dXNUZXh0fHwiVW5rbm93biBFcnJvciIsdXJsOnJ8fHZvaWQgMH0pO2UuZXJyb3Iocyl9O2xldCBsPSExO2NvbnN0IHU9cj0+e2x8fChlLm5leHQoaSgpKSxsPSEwKTtsZXQgcz17dHlwZTp5eS5Eb3dubG9hZFByb2dyZXNzLGxvYWRlZDpyLmxvYWRlZH07ci5sZW5ndGhDb21wdXRhYmxlJiYocy50b3RhbD1yLnRvdGFsKSwidGV4dCI9PT10LnJlc3BvbnNlVHlwZSYmbi5yZXNwb25zZVRleHQmJihzLnBhcnRpYWxUZXh0PW4ucmVzcG9uc2VUZXh0KSxlLm5leHQocyl9LGM9dD0+e2xldCBuPXt0eXBlOnl5LlVwbG9hZFByb2dyZXNzLGxvYWRlZDp0LmxvYWRlZH07dC5sZW5ndGhDb21wdXRhYmxlJiYobi50b3RhbD10LnRvdGFsKSxlLm5leHQobil9O3JldHVybiBuLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLG8pLG4uYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGEpLG4uYWRkRXZlbnRMaXN0ZW5lcigidGltZW91dCIsYSksbi5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsYSksdC5yZXBvcnRQcm9ncmVzcyYmKG4uYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHUpLG51bGwhPT1yJiZuLnVwbG9hZCYmbi51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLGMpKSxuLnNlbmQociksZS5uZXh0KHt0eXBlOnl5LlNlbnR9KSwoKT0+e24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGEpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYWJvcnQiLGEpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsbyksbi5yZW1vdmVFdmVudExpc3RlbmVyKCJ0aW1lb3V0IixhKSx0LnJlcG9ydFByb2dyZXNzJiYobi5yZW1vdmVFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsdSksbnVsbCE9PXImJm4udXBsb2FkJiZuLnVwbG9hZC5yZW1vdmVFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsYykpLG4ucmVhZHlTdGF0ZSE9PW4uRE9ORSYmbi5hYm9ydCgpfX0pfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihtaCkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IFR5PW5ldyAkbigiWFNSRl9DT09LSUVfTkFNRSIpLE95PW5ldyAkbigiWFNSRl9IRUFERVJfTkFNRSIpO2NsYXNzIEZ5e31sZXQgUHk9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5kb2M9dCx0aGlzLnBsYXRmb3JtPWUsdGhpcy5jb29raWVOYW1lPW4sdGhpcy5sYXN0Q29va2llU3RyaW5nPSIiLHRoaXMubGFzdFRva2VuPW51bGwsdGhpcy5wYXJzZUNvdW50PTB9Z2V0VG9rZW4oKXtpZigic2VydmVyIj09PXRoaXMucGxhdGZvcm0pcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLmRvYy5jb29raWV8fCIiO3JldHVybiB0IT09dGhpcy5sYXN0Q29va2llU3RyaW5nJiYodGhpcy5wYXJzZUNvdW50KyssdGhpcy5sYXN0VG9rZW49S2ModCx0aGlzLmNvb2tpZU5hbWUpLHRoaXMubGFzdENvb2tpZVN0cmluZz10KSx0aGlzLmxhc3RUb2tlbn19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoSHUpLGFyKEtsKSxhcihUeSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLEl5PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlKXt0aGlzLnRva2VuU2VydmljZT10LHRoaXMuaGVhZGVyTmFtZT1lfWludGVyY2VwdCh0LGUpe2NvbnN0IG49dC51cmwudG9Mb3dlckNhc2UoKTtpZigiR0VUIj09PXQubWV0aG9kfHwiSEVBRCI9PT10Lm1ldGhvZHx8bi5zdGFydHNXaXRoKCJodHRwOi8vIil8fG4uc3RhcnRzV2l0aCgiaHR0cHM6Ly8iKSlyZXR1cm4gZS5oYW5kbGUodCk7Y29uc3Qgcj10aGlzLnRva2VuU2VydmljZS5nZXRUb2tlbigpO3JldHVybiBudWxsPT09cnx8dC5oZWFkZXJzLmhhcyh0aGlzLmhlYWRlck5hbWUpfHwodD10LmNsb25lKHtoZWFkZXJzOnQuaGVhZGVycy5zZXQodGhpcy5oZWFkZXJOYW1lLHIpfSkpLGUuaGFuZGxlKHQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihGeSksYXIoT3kpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxSeT0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5iYWNrZW5kPXQsdGhpcy5pbmplY3Rvcj1lLHRoaXMuY2hhaW49bnVsbH1oYW5kbGUodCl7aWYobnVsbD09PXRoaXMuY2hhaW4pe2NvbnN0IHQ9dGhpcy5pbmplY3Rvci5nZXQoQXksW10pO3RoaXMuY2hhaW49dC5yZWR1Y2VSaWdodCgodCxlKT0+bmV3IER5KHQsZSksdGhpcy5iYWNrZW5kKX1yZXR1cm4gdGhpcy5jaGFpbi5oYW5kbGUodCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKG95KSxhcihHaSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLE15PSgoKT0+e2NsYXNzIHR7c3RhdGljIGRpc2FibGUoKXtyZXR1cm57bmdNb2R1bGU6dCxwcm92aWRlcnM6W3twcm92aWRlOkl5LHVzZUNsYXNzOlN5fV19fXN0YXRpYyB3aXRoT3B0aW9ucyhlPXt9KXtyZXR1cm57bmdNb2R1bGU6dCxwcm92aWRlcnM6W2UuY29va2llTmFtZT97cHJvdmlkZTpUeSx1c2VWYWx1ZTplLmNvb2tpZU5hbWV9OltdLGUuaGVhZGVyTmFtZT97cHJvdmlkZTpPeSx1c2VWYWx1ZTplLmhlYWRlck5hbWV9OltdXX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbSXkse3Byb3ZpZGU6QXksdXNlRXhpc3Rpbmc6SXksbXVsdGk6ITB9LHtwcm92aWRlOkZ5LHVzZUNsYXNzOlB5fSx7cHJvdmlkZTpUeSx1c2VWYWx1ZToiWFNSRi1UT0tFTiJ9LHtwcm92aWRlOk95LHVzZVZhbHVlOiJYLVhTUkYtVE9LRU4ifV19KSx0fSkoKSxWeT0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W0V5LHtwcm92aWRlOml5LHVzZUNsYXNzOlJ5fSxreSx7cHJvdmlkZTpveSx1c2VFeGlzdGluZzpreX1dLGltcG9ydHM6W1tNeS53aXRoT3B0aW9ucyh7Y29va2llTmFtZToiWFNSRi1UT0tFTiIsaGVhZGVyTmFtZToiWC1YU1JGLVRPS0VOIn0pXV19KSx0fSkoKTtmdW5jdGlvbiBqeSh0LGUsbixyKXt2YXIgcyxpPWFyZ3VtZW50cy5sZW5ndGgsbz1pPDM/ZTpudWxsPT09cj9yPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTpyO2lmKCJvYmplY3QiPT10eXBlb2YgUmVmbGVjdCYmImZ1bmN0aW9uIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpbz1SZWZsZWN0LmRlY29yYXRlKHQsZSxuLHIpO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKHM9dFthXSkmJihvPShpPDM/cyhvKTppPjM/cyhlLG4sbyk6cyhlLG4pKXx8byk7cmV0dXJuIGk+MyYmbyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixvKSxvfWNsYXNzIE55e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5wcmVkaWNhdGU9dCx0aGlzLmluY2x1c2l2ZT1lfWNhbGwodCxlKXtyZXR1cm4gZS5zdWJzY3JpYmUobmV3IEx5KHQsdGhpcy5wcmVkaWNhdGUsdGhpcy5pbmNsdXNpdmUpKX19Y2xhc3MgTHkgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0KSx0aGlzLnByZWRpY2F0ZT1lLHRoaXMuaW5jbHVzaXZlPW4sdGhpcy5pbmRleD0wfV9uZXh0KHQpe2NvbnN0IGU9dGhpcy5kZXN0aW5hdGlvbjtsZXQgbjt0cnl7bj10aGlzLnByZWRpY2F0ZSh0LHRoaXMuaW5kZXgrKyl9Y2F0Y2gocil7cmV0dXJuIHZvaWQgZS5lcnJvcihyKX10aGlzLm5leHRPckNvbXBsZXRlKHQsbil9bmV4dE9yQ29tcGxldGUodCxlKXtjb25zdCBuPXRoaXMuZGVzdGluYXRpb247Qm9vbGVhbihlKT9uLm5leHQodCk6KHRoaXMuaW5jbHVzaXZlJiZuLm5leHQodCksbi5jb21wbGV0ZSgpKX19ZnVuY3Rpb24gQnkodCxlKXsxJnQmJmtvKDApfWNvbnN0IFV5PVsiKiJdO2Z1bmN0aW9uIEh5KHQsZSl7MSZ0JiZ2bygwKX1mdW5jdGlvbiAkeSh0LGUpe2lmKDEmdCl7Y29uc3QgdD1ibygpO2dvKDAsInNlY3Rpb24iLDIpLGdvKDEsInBvLWFjY29yZGlvbi1pdGVtLWhlYWRlciIsMyksQ28oInAtdG9nZ2xlIixmdW5jdGlvbihlKXtjb25zdCBuPUZlKHQpLiRpbXBsaWNpdDtyZXR1cm4gQW8oKS5oZWFkZXJUb2dnbGUoZSxuKX0pLG1vKCksZ28oMiwicG8tYWNjb3JkaW9uLWl0ZW0tYm9keSIsNCksdW8oMyxIeSwxLDAsIm5nLWNvbnRhaW5lciIsNSksbW8oKSxtbygpfWlmKDImdCl7Y29uc3QgdD1lLiRpbXBsaWNpdDtNbygicG8tYWNjb3JkaW9uLWl0ZW0tYWN0aXZlIix0LmV4cGFuZGVkKSxOcygxKSxwbygicC1leHBhbmRlZCIsdC5leHBhbmRlZCkoInAtbGFiZWwiLHQubGFiZWwpLE5zKDEpLHBvKCJwLWV4cGFuZGVkIix0LmV4cGFuZGVkKSxOcygxKSxwbygibmdUZW1wbGF0ZU91dGxldCIsdC50ZW1wbGF0ZVJlZil9fWZ1bmN0aW9uIHp5KHQsZSl7MSZ0JiYoZ28oMCwiZGl2IiwxKSxnbygxLCJkaXYiLDIpLGtvKDIpLG1vKCksbW8oKSksMiZ0JiZwbygiQHRvZ2dsZUJvZHkiLHZvaWQgMCl9ZnVuY3Rpb24gcXkodCxlKXsxJnQmJnZvKDApfWZ1bmN0aW9uIFd5KHQsZSl7MSZ0JiZ5bygwLCJpIiwyKSwyJnQmJmpvKFFuLFZvLEFvKCkuY2xhc3MsITApfWZ1bmN0aW9uIEd5KHQsZSl7aWYoMSZ0JiYoZ28oMCwic3BhbiIsMiksV28oMSksbW8oKSksMiZ0KXtjb25zdCB0PUFvKCk7TnMoMSksR28odC50ZXh0KX19Y29uc3QgWnk9WyJidXR0b24iXTtmdW5jdGlvbiBLeSh0LGUpezEmdCYmKGdvKDAsImRpdiIsNSkseW8oMSwicG8tbG9hZGluZy1pY29uIiw2KSxtbygpKX1mdW5jdGlvbiBZeSh0LGUpezEmdCYmeW8oMCwicG8taWNvbiIsNyksMiZ0JiZwbygicC1pY29uIixBbygpLmljb24pfWZ1bmN0aW9uIFF5KHQsZSl7aWYoMSZ0JiYoZ28oMCwic3BhbiIsOCksV28oMSksbW8oKSksMiZ0KXtjb25zdCB0PUFvKCk7TnMoMSksR28odC5sYWJlbCl9fWZ1bmN0aW9uIFh5KHQsZSl7aWYoMSZ0JiYoZ28oMCwiZGl2IiwyKSxXbygxKSxtbygpKSwyJnQpe2NvbnN0IHQ9QW8oKTtOcygxKSxHbyh0LmxhYmVsKX19ZnVuY3Rpb24gSnkodCxlKXtpZigxJnQmJihnbygwLCJzcGFuIiwyKSx5bygxLCJzcGFuIiwzKSxXbygyKSxtbygpKSwyJnQpe2NvbnN0IHQ9QW8oKTtOcygyKSxabygiICIsdC5lcnJvclBhdHRlcm4sIiAiKX19ZnVuY3Rpb24gdHYodCxlKXtpZigxJnQmJihnbygwLCJzcGFuIiw1KSxXbygxKSxtbygpKSwyJnQpe2NvbnN0IHQ9QW8oKTtOcygxKSxHbyh0LmxpdGVyYWxzLm9wdGlvbmFsKX19ZnVuY3Rpb24gZXYodCxlKXtpZigxJnQmJihnbygwLCJkaXYiLDYpLFdvKDEpLG1vKCkpLDImdCl7Y29uc3QgdD1BbygpO05zKDEpLEdvKHQuaGVscCl9fWZ1bmN0aW9uIG52KHQsZSl7aWYoMSZ0KXtjb25zdCB0PWJvKCk7Z28oMCwic3BhbiIsMSksQ28oImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBGZSh0KSxBbygpLmNsZWFyKCl9KSxtbygpfX1jb25zdCBydj1bImlucCJdLHN2PVsibW9kYWxDb250ZW50Il07ZnVuY3Rpb24gaXYodCxlKXtpZigxJnQpe2NvbnN0IHQ9Ym8oKTtnbygwLCJhIiwxNCksQ28oImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBGZSh0KSxBbygyKS5jbG9zZSghMCl9KSx5bygxLCJzcGFuIiwxNSksbW8oKX19ZnVuY3Rpb24gb3YodCxlKXtpZigxJnQpe2NvbnN0IHQ9Ym8oKTtnbygwLCJwby1idXR0b24iLDE2KSxDbygicC1jbGljayIsZnVuY3Rpb24oKXtyZXR1cm4gRmUodCksQW8oMikuc2Vjb25kYXJ5QWN0aW9uLmFjdGlvbigpfSksbW8oKX1pZigyJnQpe2NvbnN0IHQ9QW8oMik7cG8oInAtZGlzYWJsZWQiLHQuc2Vjb25kYXJ5QWN0aW9uLmRpc2FibGVkKSgicC1sYWJlbCIsdC5zZWNvbmRhcnlBY3Rpb24ubGFiZWwpKCJwLWxvYWRpbmciLHQuc2Vjb25kYXJ5QWN0aW9uLmxvYWRpbmcpKCJwLXR5cGUiLHQuZ2V0U2Vjb25kYXJ5QWN0aW9uQnV0dG9uVHlwZSgpKX19ZnVuY3Rpb24gYXYodCxlKXtpZigxJnQpe2NvbnN0IHQ9Ym8oKTtnbygwLCJkaXYiLDEpLENvKCJrZXlkb3duLmVzYyIsZnVuY3Rpb24oZSl7cmV0dXJuIEZlKHQpLEFvKCkuY2xvc2VNb2RhbE9uRXNjYXBlS2V5KGUpfSksZ28oMSwiZGl2IiwyKSxnbygyLCJkaXYiLDMpLENvKCJtb3VzZWRvd24iLGZ1bmN0aW9uKGUpe3JldHVybiBGZSh0KSxBbygpLm9uQ2xpY2tPdXQoZSl9KSxnbygzLCJkaXYiLDQpLGdvKDQsImRpdiIsNSw2KSxnbyg2LCJkaXYiLDcpLGdvKDcsImRpdiIsOCksV28oOCksbW8oKSx1byg5LGl2LDIsMCwiYSIsOSksbW8oKSxnbygxMCwiZGl2IiwxMCksa28oMTEpLG1vKCksZ28oMTIsImRpdiIsMTEpLHVvKDEzLG92LDEsNCwicG8tYnV0dG9uIiwxMiksZ28oMTQsInBvLWJ1dHRvbiIsMTMpLENvKCJwLWNsaWNrIixmdW5jdGlvbigpe3JldHVybiBGZSh0KSxBbygpLnByaW1hcnlBY3Rpb24uYWN0aW9uKCl9KSxtbygpLG1vKCksbW8oKSxtbygpLG1vKCksbW8oKSxtbygpfWlmKDImdCl7Y29uc3QgdD1BbygpO05zKDQpLEtvKCJwby1tb2RhbC1jb250ZW50IHBvLW1vZGFsLSIsdC5zaXplLCIiKSxOcyg0KSxabygiICIsdC50aXRsZSwiICIpLE5zKDEpLHBvKCJuZ0lmIiwhdC5oaWRlQ2xvc2UpLE5zKDQpLHBvKCJuZ0lmIix0LnNlY29uZGFyeUFjdGlvbiksTnMoMSkscG8oInAtZGlzYWJsZWQiLHQucHJpbWFyeUFjdGlvbi5kaXNhYmxlZCkoInAtbGFiZWwiLHQucHJpbWFyeUFjdGlvbi5sYWJlbCkoInAtbG9hZGluZyIsdC5wcmltYXJ5QWN0aW9uLmxvYWRpbmcpKCJwLXR5cGUiLHQuZ2V0UHJpbWFyeUFjdGlvbkJ1dHRvblR5cGUoKSl9fWNvbnN0IGx2PVsidG9hc3RlciJdO2Z1bmN0aW9uIHV2KHQsZSl7aWYoMSZ0KXtjb25zdCB0PWJvKCk7Z28oMCwiZGl2Iiw3KSxDbygiY2xpY2siLGZ1bmN0aW9uKGUpe3JldHVybiBGZSh0KSxBbygpLnBvVG9hc3RlckFjdGlvbihlKX0pLFdvKDEpLG1vKCl9aWYoMiZ0KXtjb25zdCB0PUFvKCk7TnMoMSksWm8oIiAiLHQuYWN0aW9uTGFiZWwsIiAiKX19Y29uc3QgY3Y9ZnVuY3Rpb24odCl7cmV0dXJueyRpbXBsaWNpdDp0fX07ZnVuY3Rpb24gaHYodCxlKXtpZigxJnQmJihnbygwLCJkaXYiLDgpLHlvKDEsInBvLWljb24iLDkpLG1vKCkpLDImdCl7Y29uc3QgdD1BbygpO05zKDEpLE1vKCJwby1maWVsZC1pY29uLWRpc2FibGVkIix0LmRpc2FibGVkKSxwbygicC1pY29uIix0Lmljb24pfX1mdW5jdGlvbiBkdih0LGUpe2lmKDEmdCl7Y29uc3QgdD1ibygpO2dvKDAsInBvLWNsZWFuIiwxMCksQ28oInAtY2hhbmdlLWV2ZW50IixmdW5jdGlvbihlKXtyZXR1cm4gRmUodCksQW8oKS5jbGVhcihlKX0pLG1vKCl9MiZ0JiZwbygicC1lbGVtZW50LXJlZiIsQW8oKS5pbnB1dEVsKX1jb25zdCBwdj1bImNvbnRlbnRMaXN0Il0sZnY9WyJpY29uIl0sZ3Y9WyJzZWxlY3QiXSxtdj1bInNlbGVjdEJ1dHRvbiJdO2Z1bmN0aW9uIHl2KHQsZSl7MSZ0JiZ5bygwLCJvcHRpb24iLDE0KX1mdW5jdGlvbiB2dih0LGUpe2lmKDEmdCl7Y29uc3QgdD1ibygpO2dvKDAsIm9wdGlvbiIsMTUpLENvKCJjbGljayIsZnVuY3Rpb24oKXtjb25zdCBlPUZlKHQpLiRpbXBsaWNpdDtyZXR1cm4gQW8oKS5vbk9wdGlvbkNsaWNrKGUpfSksV28oMSksbW8oKX1pZigyJnQpe2NvbnN0IHQ9ZS4kaW1wbGljaXQ7cG8oImRpc2FibGVkIixBbygpLnJlYWRvbmx5KSgidmFsdWUiLHQudmFsdWUpLE5zKDEpLFpvKCIgIixudWxsPT10P251bGw6dC5sYWJlbCwiICIpfX1mdW5jdGlvbiBidih0LGUpezEmdCYmdm8oMCl9ZnVuY3Rpb24gX3YodCxlKXtpZigxJnQmJihnbygwLCJzcGFuIiksV28oMSksbW8oKSksMiZ0KXtjb25zdCB0PUFvKCkuJGltcGxpY2l0O05zKDEpLEdvKG51bGw9PXQ/bnVsbDp0LmxhYmVsKX19ZnVuY3Rpb24gd3YodCxlKXt9ZnVuY3Rpb24gQ3YodCxlKXtpZigxJnQpe2NvbnN0IHQ9Ym8oKTtnbygwLCJsaSIsMTYpLENvKCJjbGljayIsZnVuY3Rpb24oKXtjb25zdCBlPUZlKHQpLiRpbXBsaWNpdDtyZXR1cm4gQW8oKS5vbk9wdGlvbkNsaWNrKGUpfSksZ28oMSwiZGl2IiwxNyksdW8oMixidiwxLDAsIm5nLWNvbnRhaW5lciIsMTgpLHVvKDMsX3YsMiwxLCJuZy10ZW1wbGF0ZSIsbnVsbCwxOSxIbCksdW8oNSx3diwwLDAsIm5nLXRlbXBsYXRlIiwyMCwyMSxIbCksbW8oKSxtbygpfWlmKDImdCl7Y29uc3QgdD1lLiRpbXBsaWNpdCxuPWNvKDQpLHI9Y28oNikscz1BbygpO01vKCJwby1zZWxlY3QtaXRlbS1zZWxlY3RlZCIscy5zZWxlY3RlZFZhbHVlPT09dC52YWx1ZSkscG8oInZhbHVlIix0LnZhbHVlKSxOcygyKSxwbygibmdJZiIscy5zZWxlY3RPcHRpb25UZW1wbGF0ZSkoIm5nSWZUaGVuIixyKSgibmdJZkVsc2UiLG4pLE5zKDMpLHBvKCJuZ1RlbXBsYXRlT3V0bGV0IixudWxsPT1zLnNlbGVjdE9wdGlvblRlbXBsYXRlP251bGw6cy5zZWxlY3RPcHRpb25UZW1wbGF0ZS50ZW1wbGF0ZVJlZikoIm5nVGVtcGxhdGVPdXRsZXRDb250ZXh0IixibCg4LGN2LHQpKX19Y29uc3QgRXY9ZnVuY3Rpb24odCxlKXtyZXR1cm57InBvLXNlbGVjdC1tb2JpbGUiOnQsInBvLWludmlzaWJsZSI6ZX19LER2PWZ1bmN0aW9uKHQsZSl7cmV0dXJueyJwby1zZWxlY3QtYnV0dG9uLWRpc2FibGVkIjp0LCJwby1zZWxlY3QtYnV0dG9uLXJlYWRvbmx5IjplfX0sQXY9ZnVuY3Rpb24odCxlKXtyZXR1cm57InBvLWZpZWxkLWljb24tZGlzYWJsZWQiOnQsInBvLWZpZWxkLWljb24tcmVhZG9ubHkiOmV9fSxTdj1mdW5jdGlvbih0KXtyZXR1cm57InBvLWludmlzaWJsZSI6dH19O2Z1bmN0aW9uIHh2KHQsZSl7aWYoMSZ0JiYoZ28oMCwiZGl2Iiw2KSxnbygxLCJzcGFuIiw3KSxXbygyKSxtbygpLG1vKCkpLDImdCl7Y29uc3QgdD1BbygpO05zKDIpLEdvKHQudGFnT3JpZW50YXRpb24/dC5sYWJlbCsiOiI6dC5sYWJlbCl9fWZ1bmN0aW9uIGt2KHQsZSl7aWYoMSZ0JiZ5bygwLCJwby1pY29uIiw4KSwyJnQpe2NvbnN0IHQ9QW8oKTtwbygicC1pY29uIix0LnR5cGU/dC5pY29uRnJvbVR5cGU6dC5pY29uKX19ZnVuY3Rpb24gVHYodCxlKXtpZigxJnQmJihnbygwLCJkaXYiLDYpLHlvKDEsInBvLXRhZyIsNyksbW8oKSksMiZ0KXtjb25zdCB0PUFvKCkuJGltcGxpY2l0LGU9QW8oKTtOcygxKSxwbygicC1jb2xvciIsZS50eXBlQ29sb3IodC50eXBlKSkoInAtdmFsdWUiLGUudHlwZVZhbHVlKHQudHlwZSkpfX1mdW5jdGlvbiBPdih0LGUpe2lmKDEmdCYmKGdvKDAsInBvLWFjY29yZGlvbi1pdGVtIiw0KSx1bygxLFR2LDIsMiwiZGl2Iiw1KSxnbygyLCJkaXYiLDEpLGdvKDMsInAiKSxXbyg0KSxtbygpLG1vKCksbW8oKSksMiZ0KXtjb25zdCB0PWUuJGltcGxpY2l0O3BvKCJwLWxhYmVsIixBbygpLmZvcm1hdERldGFpbEl0ZW1UaXRsZSh0KSksTnMoMSkscG8oIm5nSWYiLHQudHlwZSksTnMoMyksR28odC5kZXRhaWxlZE1lc3NhZ2UpfX1sZXQgRnY9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuc3ViamVjdENoaWxkPW5ldyBFfXJlY2VpdmVGcm9tQ2hpbGRBY2NvcmRpb25DbGlja2VkKCl7cmV0dXJuIHRoaXMuc3ViamVjdENoaWxkLmFzT2JzZXJ2YWJsZSgpfXNlbmRUb1BhcmVudEFjY29yZGlvbkl0ZW1DbGlja2VkKHQpe3RoaXMuc3ViamVjdENoaWxkLm5leHQodCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLFB2PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5hY2NvcmRpb25TZXJ2aWNlPXR9Y29sbGFwc2UoKXt0aGlzLmV4cGFuZGVkPSExLHRoaXMuYWNjb3JkaW9uU2VydmljZS5zZW5kVG9QYXJlbnRBY2NvcmRpb25JdGVtQ2xpY2tlZCh0aGlzKX1leHBhbmQoKXt0aGlzLmV4cGFuZGVkPSEwLHRoaXMuYWNjb3JkaW9uU2VydmljZS5zZW5kVG9QYXJlbnRBY2NvcmRpb25JdGVtQ2xpY2tlZCh0aGlzKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaG8oRnYpKX0sdC5cdTAyNzVjbXA9SHQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tYWNjb3JkaW9uLWl0ZW0iXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZWbChZYSw3KSwyJnQpe2xldCB0O01sKHQ9TmwoKSkmJihlLnRlbXBsYXRlUmVmPXQuZmlyc3QpfX0saW5wdXRzOntsYWJlbDpbInAtbGFiZWwiLCJsYWJlbCJdfSxuZ0NvbnRlbnRTZWxlY3RvcnM6VXksZGVjbHM6MSx2YXJzOjAsdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJih4bygpLHVvKDAsQnksMSwwLCJuZy10ZW1wbGF0ZSIpKX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksSXY9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGNsYXNze317Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmFjY29yZGlvblNlcnZpY2U9dCx0aGlzLnJlY2VpdmVGcm9tQ2hpbGRBY2NvcmRpb25TdWJzY3JpcHRpb24oKX1uZ09uRGVzdHJveSgpe3RoaXMuYWNjb3JkaW9uU2VydmljZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfWhlYWRlclRvZ2dsZSh0LGUpe2UuZXhwYW5kZWQ9dCx0aGlzLnRvZ2dsZShlKX1yZWNlaXZlRnJvbUNoaWxkQWNjb3JkaW9uU3Vic2NyaXB0aW9uKCl7dGhpcy5hY2NvcmRpb25TZXJ2aWNlU3Vic2NyaXB0aW9uPXRoaXMuYWNjb3JkaW9uU2VydmljZS5yZWNlaXZlRnJvbUNoaWxkQWNjb3JkaW9uQ2xpY2tlZCgpLnN1YnNjcmliZSh0PT50aGlzLnRvZ2dsZSh0KSl9dG9nZ2xlKHQpe3QuZXhwYW5kZWQ/KHRoaXMuZXhwYW5kZWRBY3RpdmVBY2NvcmRpb25JdGVtJiZ0aGlzLmV4cGFuZGVkQWN0aXZlQWNjb3JkaW9uSXRlbS5jb2xsYXBzZSgpLHRoaXMuZXhwYW5kZWRBY3RpdmVBY2NvcmRpb25JdGVtPXQpOnRoaXMuZXhwYW5kZWRBY3RpdmVBY2NvcmRpb25JdGVtPW51bGx9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhvKEZ2KSl9LHQuXHUwMjc1Y21wPUh0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWFjY29yZGlvbiJdXSxjb250ZW50UXVlcmllczpmdW5jdGlvbih0LGUsbil7aWYoMSZ0JiZqbChuLFB2LDQpLDImdCl7bGV0IHQ7TWwodD1ObCgpKSYmKGUucG9BY2NvcmRpb25JdGVtcz10KX19LGZlYXR1cmVzOltkYShbRnZdKSxLaV0sZGVjbHM6Mix2YXJzOjEsY29uc3RzOltbMSwicG8tYWNjb3JkaW9uIiwicG8tY29udGFpbmVyIiwicG8tY29udGFpbmVyLW5vLXBhZGRpbmciXSxbImNsYXNzIiwicG8tYWNjb3JkaW9uLWl0ZW0iLDMsInBvLWFjY29yZGlvbi1pdGVtLWFjdGl2ZSIsNCwibmdGb3IiLCJuZ0Zvck9mIl0sWzEsInBvLWFjY29yZGlvbi1pdGVtIl0sWzMsInAtZXhwYW5kZWQiLCJwLWxhYmVsIiwicC10b2dnbGUiXSxbMywicC1leHBhbmRlZCJdLFs0LCJuZ1RlbXBsYXRlT3V0bGV0Il1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoZ28oMCwiZGl2IiwwKSx1bygxLCR5LDQsNiwic2VjdGlvbiIsMSksbW8oKSksMiZ0JiYoTnMoMSkscG8oIm5nRm9yT2YiLGUucG9BY2NvcmRpb25JdGVtcykpfSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW1hjLE12LFJ2LHJoXX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksUnY9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuZXhwYW5kZWQ9ITF9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1hY2NvcmRpb24taXRlbS1ib2R5Il1dLGlucHV0czp7ZXhwYW5kZWQ6WyJwLWV4cGFuZGVkIiwiZXhwYW5kZWQiXX0sbmdDb250ZW50U2VsZWN0b3JzOlV5LGRlY2xzOjEsdmFyczoxLGNvbnN0czpbWyJjbGFzcyIsInBvLWFjY29yZGlvbi1pdGVtLWJvZHkiLDQsIm5nSWYiXSxbMSwicG8tYWNjb3JkaW9uLWl0ZW0tYm9keSJdLFsxLCJwby1hY2NvcmRpb24taXRlbS1ib2R5LWNvbnRlbnQiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJih4bygpLHVvKDAsenksMywxLCJkaXYiLDApKSwyJnQmJnBvKCJuZ0lmIixlLmV4cGFuZGVkKX0sZGlyZWN0aXZlczpbdGhdLGVuY2Fwc3VsYXRpb246MixkYXRhOnthbmltYXRpb246WygidG9nZ2xlQm9keSIsZT1bd3AoIiogPT4gdm9pZCIsW19wKHtoZWlnaHQ6IioifSksYnAoMjAwLF9wKHtoZWlnaHQ6MH0pKV0pLHdwKCJ2b2lkID0+ICoiLFtfcCh7aGVpZ2h0OiIwIn0pLGJwKDIwMCxfcCh7aGVpZ2h0OiIqIn0pKV0pXSx7dHlwZTo3LG5hbWU6InRvZ2dsZUJvZHkiLGRlZmluaXRpb25zOmUsb3B0aW9uczp7fX0pXX19KSx0O3ZhciBlfSkoKSxNdj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5leHBhbmRlZD0hMSx0aGlzLnRvZ2dsZT1uZXcgRWx9b25DbGljaygpe3RoaXMuZXhwYW5kZWQ9IXRoaXMuZXhwYW5kZWQsdGhpcy50b2dnbGUuZW1pdCh0aGlzLmV4cGFuZGVkKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1Y21wPUh0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWFjY29yZGlvbi1pdGVtLWhlYWRlciJdXSxpbnB1dHM6e2V4cGFuZGVkOlsicC1leHBhbmRlZCIsImV4cGFuZGVkIl0sbGFiZWw6WyJwLWxhYmVsIiwibGFiZWwiXX0sb3V0cHV0czp7dG9nZ2xlOiJwLXRvZ2dsZSJ9LGRlY2xzOjYsdmFyczoxLGNvbnN0czpbWzEsInBvLWFjY29yZGlvbi1pdGVtLWhlYWRlciJdLFsxLCJwby1hY2NvcmRpb24taXRlbS1oZWFkZXItYnV0dG9uIiwicG8tY2xpY2thYmxlIiwzLCJjbGljayJdLFsxLCJwby10ZXh0LWVsbGlwc2lzIiwicG8tYWNjb3JkaW9uLWl0ZW0taGVhZGVyLXRpdGxlIl0sWzEsInBvLWljb24iLCJwby1hY2NvcmRpb24taXRlbS1oZWFkZXItaWNvbiIsInBvLWljb24tYXJyb3ctZG93biJdLFsiaWNvbiIsIiJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKGdvKDAsImhlYWRlciIsMCksZ28oMSwiYnV0dG9uIiwxKSxDbygiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25DbGljaygpfSksZ28oMiwiZGl2IiwyKSxXbygzKSxtbygpLHlvKDQsInNwYW4iLDMsNCksbW8oKSxtbygpKSwyJnQmJihOcygzKSxHbyhlLmxhYmVsKSl9LGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpLFZ2PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tkaF1dfSksdH0pKCksanY9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW2RoXV19KSx0fSkoKTtjb25zdCBOdj1be2Rlc2NyaXB0aW9uOiJFbmdsaXNoIixsYW5ndWFnZToiZW4ifSx7ZGVzY3JpcHRpb246IkVzcGFceGYxb2wiLGxhbmd1YWdlOiJlcyJ9LHtkZXNjcmlwdGlvbjoiUG9ydHVndVx4ZWFzIixsYW5ndWFnZToicHQifSx7ZGVzY3JpcHRpb246IlBcdTA0NDNcdTA0NDFcdTA0NDFcdTA0M2FcdTA0MzhcdTA0MzkiLGxhbmd1YWdlOiJydSJ9XS5tYXAodD0+dC5sYW5ndWFnZSksTHY9InB0IixCdj1be3NlcGFyYXRvcjoiLiIsbGFuZ3VhZ2U6ImVuIn0se3NlcGFyYXRvcjoiLCIsbGFuZ3VhZ2U6ImVzIn0se3NlcGFyYXRvcjoiLCIsbGFuZ3VhZ2U6InB0In0se3NlcGFyYXRvcjoiLCIsbGFuZ3VhZ2U6InJ1In1dLFV2PVt7c2VwYXJhdG9yOiIsIixsYW5ndWFnZToiZW4ifSx7c2VwYXJhdG9yOiIuIixsYW5ndWFnZToiZXMifSx7c2VwYXJhdG9yOiIuIixsYW5ndWFnZToicHQifSx7c2VwYXJhdG9yOiIgIixsYW5ndWFnZToicnUifV07ZnVuY3Rpb24gSHYodCl7cmV0dXJuKHR8fEx2KS50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygwLDIpfWZ1bmN0aW9uICR2KHQpe3JldHVybiBuZXcgUmVnRXhwKCJeW2Etel17Mn0oLVthLXpdezJ9KT8kIiwiaSIpLnRlc3QodCl9ZnVuY3Rpb24genYodCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0PyJ0cnVlIj09PSh0PXQudG9Mb3dlckNhc2UoKS50cmltKCkpfHwib24iPT09dHx8IiI9PT10OiJudW1iZXIiPT10eXBlb2YgdD8xPT09dDohIXR9ZnVuY3Rpb24gcXYodCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspMCE9PWUmJnQuZmluZEluZGV4KG49Pm4udmFsdWU9PT10W2VdLnZhbHVlKSE9PWUmJih0LnNwbGljZShlLDEpLGUtLSl9ZnVuY3Rpb24gV3YodCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspbnVsbD09dFtlXS52YWx1ZSYmKHQuc3BsaWNlKGUsMSksZS0tKX1jb25zdCBHdj0iUE9fREVGQVVMVF9MQU5HVUFHRSIsWnY9IlBPX1VTRVJfTE9DQUxFIjtsZXQgS3Y9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe31zZXQgbGFuZ3VhZ2VEZWZhdWx0KHQpe3QmJiR2KHQpJiZsb2NhbFN0b3JhZ2Uuc2V0SXRlbShHdix0KX1nZXQgbGFuZ3VhZ2VEZWZhdWx0KCl7cmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKEd2KX1nZXRMYW5ndWFnZSgpe2NvbnN0IHQ9bG9jYWxTdG9yYWdlLmdldEl0ZW0oWnYpfHx0aGlzLmxhbmd1YWdlRGVmYXVsdHx8ZnVuY3Rpb24oKXtjb25zdCB0PW5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZSxlPUh2KHQpO3JldHVybiBOdi5pbmNsdWRlcyhlKT90Okx2fSgpO3JldHVybiB0JiZ0LnRvTG93ZXJDYXNlKCl9Z2V0TGFuZ3VhZ2VEZWZhdWx0KCl7cmV0dXJuIHRoaXMubGFuZ3VhZ2VEZWZhdWx0fWdldFNob3J0TGFuZ3VhZ2UoKXtjb25zdCB0PUh2KHRoaXMuZ2V0TGFuZ3VhZ2UoKSk7cmV0dXJuIE52LmluY2x1ZGVzKHQpP3Q6THZ9c2V0TGFuZ3VhZ2UodCl7JHYodCkmJmxvY2FsU3RvcmFnZS5zZXRJdGVtKFp2LHQudG9Mb3dlckNhc2UoKSl9c2V0TGFuZ3VhZ2VEZWZhdWx0KHQpe3RoaXMubGFuZ3VhZ2VEZWZhdWx0PXR9Z2V0TnVtYmVyU2VwYXJhdG9ycyh0KXt2YXIgZSxuLHIsczt0PXR8fHRoaXMuZ2V0U2hvcnRMYW5ndWFnZSgpO2NvbnN0IGk9bnVsbCE9PShlPUJ2LmZpbmQoZT0+ZS5sYW5ndWFnZT09PXQpKSYmdm9pZCAwIT09ZT9lOnt9LG89bnVsbCE9PShuPVV2LmZpbmQoZT0+ZS5sYW5ndWFnZT09PXQpKSYmdm9pZCAwIT09bj9uOnt9O3JldHVybntkZWNpbWFsU2VwYXJhdG9yOm51bGwhPT0ocj1pLnNlcGFyYXRvcikmJnZvaWQgMCE9PXI/cjoiLCIsdGhvdXNhbmRTZXBhcmF0b3I6bnVsbCE9PShzPW8uc2VwYXJhdG9yKSYmdm9pZCAwIT09cz9zOiIuIn19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHR9LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKSxZdj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbZGgsWW1dXX0pLHR9KSgpLFF2PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt9c2V0IGljb24odCl7InN0cmluZyI9PXR5cGVvZiB0P3RoaXMuYWRkQ2xhc3Nlcyh0KTp0IGluc3RhbmNlb2YgWWEmJih0aGlzLl9pY29uPXQpfWdldCBpY29uKCl7cmV0dXJuIHRoaXMuX2ljb259YWRkQ2xhc3Nlcyh0KXt0aGlzLmNsYXNzPXRoaXMuY2xhc3M9dC5zdGFydHNXaXRoKCJwby1pY29uLSIpP2Bwby1pY29uICR7dH1gOmBwby1mb250cy1pY29uICR7dH1gfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVjbXA9SHQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8taWNvbiJdXSxpbnB1dHM6e2ljb246WyJwLWljb24iLCJpY29uIl19LGRlY2xzOjMsdmFyczozLGNvbnN0czpbWzQsIm5nSWYiLCJuZ0lmVGhlbiIsIm5nSWZFbHNlIl0sWyJmb250VGVtcGxhdGUiLCIiXSxbImFyaWEtaGlkZGVuIiwidHJ1ZSJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmKHVvKDAscXksMSwwLCJuZy1jb250YWluZXIiLDApLHVvKDEsV3ksMSwyLCJuZy10ZW1wbGF0ZSIsbnVsbCwxLEhsKSksMiZ0KXtjb25zdCB0PWNvKDIpO3BvKCJuZ0lmIixlLmNsYXNzKSgibmdJZlRoZW4iLHQpKCJuZ0lmRWxzZSIsZS5pY29uKX19LGRpcmVjdGl2ZXM6W3RoXSxlbmNhcHN1bGF0aW9uOjIsY2hhbmdlRGV0ZWN0aW9uOjB9KSx0fSkoKSxYdj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbZGhdXX0pLHR9KSgpO2NvbnN0IEp2PXtlbjp7bG9hZGluZzoiTG9hZGluZyJ9LGVzOntsb2FkaW5nOiJDYXJnYW5kbyJ9LHB0Ontsb2FkaW5nOiJDYXJyZWdhbmRvIn0scnU6e2xvYWRpbmc6Ilx1MDQzZlx1MDQzZVx1MDQzM1x1MDQ0MFx1MDQ0M1x1MDQzN1x1MDQzYVx1MDQzMCJ9fTtsZXQgdGI9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmxhbmd1YWdlU2VydmljZT10LHRoaXMuX3NjcmVlbkxvY2s9ITEsdGhpcy50ZXh0PXRoaXMuZ2V0VGV4dERlZmF1bHQoKX1zZXQgc2NyZWVuTG9jayh0KXt0aGlzLl9zY3JlZW5Mb2NrPXp2KHQpfWdldCBzY3JlZW5Mb2NrKCl7cmV0dXJuIHRoaXMuX3NjcmVlbkxvY2t9c2V0IHRleHQodCl7dGhpcy5fdGV4dD10fHx0aGlzLmdldFRleHREZWZhdWx0KCl9Z2V0IHRleHQoKXtyZXR1cm4gdGhpcy5fdGV4dH1nZXRUZXh0RGVmYXVsdCgpe2NvbnN0IHQ9dGhpcy5sYW5ndWFnZVNlcnZpY2UuZ2V0U2hvcnRMYW5ndWFnZSgpO3JldHVybiBKdlt0XS5sb2FkaW5nfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShobyhLdikpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0LGlucHV0czp7dGV4dDpbInAtdGV4dCIsInRleHQiXSxzY3JlZW5Mb2NrOlsicC1zY3JlZW4tbG9jayIsInNjcmVlbkxvY2siXX19KSx0fSkoKSxlYj0oKCk9PntjbGFzcyB0IGV4dGVuZHMgdGJ7Y29uc3RydWN0b3IodCxlKXtzdXBlcihlKSx0aGlzLmNoYW5nZURldGVjdG9yPXR9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhvKHFhKSxobyhLdikpfSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1sb2FkaW5nLW92ZXJsYXkiXV0sZmVhdHVyZXM6W0tpXSxkZWNsczoyLHZhcnM6NSxjb25zdHM6W1sxLCJwby1sb2FkaW5nLW92ZXJsYXktY29udGVudCIsMywicC10ZXh0Il1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoZ28oMCwiZGl2IikseW8oMSwicG8tbG9hZGluZyIsMCksbW8oKSksMiZ0JiYoTW8oInBvLW92ZXJsYXktYWJzb2x1dGUiLCFlLnNjcmVlbkxvY2spKCJwby1vdmVybGF5LWZpeGVkIixlLnNjcmVlbkxvY2spLE5zKDEpLHBvKCJwLXRleHQiLGUudGV4dCkpfSxkaXJlY3RpdmVzOmZ1bmN0aW9uKCl7cmV0dXJuW3NiXX0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksbmI9KCgpPT57Y2xhc3MgdHtzZXQgbmV1dHJhbENvbG9yKHQpe3RoaXMuX25ldXRyYWxDb2xvcj16dih0KX1nZXQgbmV1dHJhbENvbG9yKCl7cmV0dXJuIHRoaXMuX25ldXRyYWxDb2xvcn19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1Y21wPUh0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWxvYWRpbmctaWNvbiJdXSxpbnB1dHM6e25ldXRyYWxDb2xvcjpbInAtbmV1dHJhbC1jb2xvciIsIm5ldXRyYWxDb2xvciJdfSxkZWNsczo5LHZhcnM6Mixjb25zdHM6W1sxLCJwby1sb2FkaW5nLWljb24iXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItMSJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci0yIl0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTMiXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItNCJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci01Il0sWzEsInBvLWxvYWRpbmctaWNvbi1iYXIiLCJwby1sb2FkaW5nLWljb24tYmFyLTYiXSxbMSwicG8tbG9hZGluZy1pY29uLWJhciIsInBvLWxvYWRpbmctaWNvbi1iYXItNyJdLFsxLCJwby1sb2FkaW5nLWljb24tYmFyIiwicG8tbG9hZGluZy1pY29uLWJhci04Il1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoZ28oMCwiZGl2IiwwKSx5bygxLCJzcGFuIiwxKSx5bygyLCJzcGFuIiwyKSx5bygzLCJzcGFuIiwzKSx5byg0LCJzcGFuIiw0KSx5byg1LCJzcGFuIiw1KSx5byg2LCJzcGFuIiw2KSx5byg3LCJzcGFuIiw3KSx5byg4LCJzcGFuIiw4KSxtbygpKSwyJnQmJk1vKCJwby1sb2FkaW5nLWljb24tbmV1dHJhbC1jb2xvciIsZS5uZXV0cmFsQ29sb3IpfSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxyYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy50ZXh0PSJDYXJyZWdhbmRvIn19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsaW5wdXRzOnt0ZXh0OlsicC10ZXh0IiwidGV4dCJdfX0pLHR9KSgpLHNiPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyByYnt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKCl7bGV0IGU7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybihlfHwoZT1Mbih0KSkpKG58fHQpfX0oKSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1sb2FkaW5nIl1dLGZlYXR1cmVzOltLaV0sZGVjbHM6Myx2YXJzOjEsY29uc3RzOltbMSwicG8tbG9hZGluZyJdLFsiY2xhc3MiLCJwby1sb2FkaW5nLWxhYmVsIHBvLXRleHQtZWxsaXBzaXMiLDQsIm5nSWYiXSxbMSwicG8tbG9hZGluZy1sYWJlbCIsInBvLXRleHQtZWxsaXBzaXMiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihnbygwLCJkaXYiLDApLHlvKDEsInBvLWxvYWRpbmctaWNvbiIpLHVvKDIsR3ksMiwxLCJzcGFuIiwxKSxtbygpKSwyJnQmJihOcygyKSxwbygibmdJZiIsZS50ZXh0KSl9LGRpcmVjdGl2ZXM6W25iLHRoXSxlbmNhcHN1bGF0aW9uOjJ9KSx0fSkoKSxpYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W0t2XX0pLHR9KSgpLG9iPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tkaCxpYl1dfSksdH0pKCk7ZnVuY3Rpb24gYWIodCxlLG4pe3JldHVybiBmdW5jdGlvbihyKXt0JiZ0LnNldCYmdC5zZXQuYmluZCh0aGlzKShlKHIpKSx0aGlzW25dPWUocil9fWZ1bmN0aW9uIGxiKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQmJnQuZ2V0P3QuZ2V0LmJpbmQodGhpcykoKTp0aGlzW2VdfX1mdW5jdGlvbiB1Yigpe3JldHVybiBmdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtjb25zdHt0YXJnZXQ6cixwcm9wZXJ0eTpzLG9yaWdpbmFsRGVzY3JpcHRvcjppfT10LG89ZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9YCQkX18ke2V9YDtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJmNvbnNvbGUud2FybihgVGhlIHByb3AgIiR7cn0iIGlzIGFscmVhZHkgZXhpc3QsIGl0IHdpbGwgYmUgb3ZlcnJpZGVkIGJ5IElucHV0Qm9vbGVhbiBkZWNvcmF0b3IuYCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscix7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSkscn0ocixzKTtyZXR1cm57Z2V0OmxiKGksbyksc2V0OmFiKGksbixvKX19KHt0YXJnZXQ6dCxwcm9wZXJ0eTplLG9yaWdpbmFsRGVzY3JpcHRvcjpufSwwLHp2KX19Y29uc3QgY2I9WyJkZWZhdWx0IiwicHJpbWFyeSIsImRhbmdlciIsImxpbmsiXTtsZXQgaGI9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuYXV0b0ZvY3VzPSExLHRoaXMuY2xpY2s9bmV3IEVsLHRoaXMuX2Rpc2FibGVkPSExLHRoaXMuX2xvYWRpbmc9ITEsdGhpcy5fc21hbGw9ITEsdGhpcy5fdHlwZT0iZGVmYXVsdCJ9c2V0IGxvYWRpbmcodCl7dGhpcy5fbG9hZGluZz16dih0KX1nZXQgbG9hZGluZygpe3JldHVybiB0aGlzLl9sb2FkaW5nfXNldCBzbWFsbCh0KXt0aGlzLl9zbWFsbD0iIj09PXR8fHp2KHQpfWdldCBzbWFsbCgpe3JldHVybiB0aGlzLl9zbWFsbH1zZXQgdHlwZSh0KXt0aGlzLl90eXBlPWNiLmluY2x1ZGVzKHQpP3Q6ImRlZmF1bHQifWdldCB0eXBlKCl7cmV0dXJuIHRoaXMuX3R5cGV9c2V0IGRpc2FibGVkKHQpe3RoaXMuX2Rpc2FibGVkPSIiPT09dHx8enYodCl9Z2V0IGRpc2FibGVkKCl7cmV0dXJuIHRoaXMuX2Rpc2FibGVkfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxpbnB1dHM6e2F1dG9Gb2N1czpbInAtYXV0by1mb2N1cyIsImF1dG9Gb2N1cyJdLGxvYWRpbmc6WyJwLWxvYWRpbmciLCJsb2FkaW5nIl0sc21hbGw6WyJwLXNtYWxsIiwic21hbGwiXSx0eXBlOlsicC10eXBlIiwidHlwZSJdLGRpc2FibGVkOlsicC1kaXNhYmxlZCIsImRpc2FibGVkIl0sbGFiZWw6WyJwLWxhYmVsIiwibGFiZWwiXSxpY29uOlsicC1pY29uIiwiaWNvbiJdfSxvdXRwdXRzOntjbGljazoicC1jbGljayJ9fSksankoW3ViKCldLHQucHJvdG90eXBlLCJhdXRvRm9jdXMiLHZvaWQgMCksdH0pKCksZGI9KCgpPT57Y2xhc3MgdCBleHRlbmRzIGhie25nQWZ0ZXJWaWV3SW5pdCgpe3RoaXMuYXV0b0ZvY3VzJiZ0aGlzLmZvY3VzKCl9Zm9jdXMoKXt0aGlzLmRpc2FibGVkfHx0aGlzLmJ1dHRvbkVsZW1lbnQubmF0aXZlRWxlbWVudC5mb2N1cygpfW9uQ2xpY2soKXt0aGlzLmNsaWNrLmVtaXQobnVsbCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbigpe2xldCBlO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4oZXx8KGU9TG4odCkpKShufHx0KX19KCksdC5cdTAyNzVjbXA9SHQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tYnV0dG9uIl1dLHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmVmwoWnksNyksMiZ0KXtsZXQgdDtNbCh0PU5sKCkpJiYoZS5idXR0b25FbGVtZW50PXQuZmlyc3QpfX0sZmVhdHVyZXM6W0tpXSxkZWNsczo1LHZhcnM6MTQsY29uc3RzOltbInR5cGUiLCJidXR0b24iLDEsInBvLWJ1dHRvbiIsInBvLXRleHQtZWxsaXBzaXMiLDMsImRpc2FibGVkIiwiY2xpY2siXSxbImJ1dHRvbiIsIiJdLFsiY2xhc3MiLCJwby1idXR0b24tbG9hZGluZy1pY29uIiw0LCJuZ0lmIl0sWyJjbGFzcyIsInBvLWJ1dHRvbi1pY29uIiwzLCJwLWljb24iLDQsIm5nSWYiXSxbImNsYXNzIiwicG8tYnV0dG9uLWxhYmVsIiw0LCJuZ0lmIl0sWzEsInBvLWJ1dHRvbi1sb2FkaW5nLWljb24iXSxbInAtbmV1dHJhbC1jb2xvciIsIiJdLFsxLCJwby1idXR0b24taWNvbiIsMywicC1pY29uIl0sWzEsInBvLWJ1dHRvbi1sYWJlbCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKGdvKDAsImJ1dHRvbiIsMCwxKSxDbygiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25DbGljaygpfSksdW8oMixLeSwyLDAsImRpdiIsMiksdW8oMyxZeSwxLDEsInBvLWljb24iLDMpLHVvKDQsUXksMiwxLCJzcGFuIiw0KSxtbygpKSwyJnQmJihNbygicG8tYnV0dG9uLWRhbmdlciIsImRhbmdlciI9PT1lLnR5cGUpKCJwby1idXR0b24tbGluayIsImxpbmsiPT09ZS50eXBlKSgicG8tYnV0dG9uLXByaW1hcnkiLCJwcmltYXJ5Ij09PWUudHlwZSkoInBvLWJ1dHRvbi1zbSIsZS5zbWFsbCkoInBvLWNsaWNrYWJsZSIsImxpbmsiPT09ZS50eXBlKSxwbygiZGlzYWJsZWQiLGUuZGlzYWJsZWR8fGUubG9hZGluZyksTnMoMikscG8oIm5nSWYiLGUubG9hZGluZyksTnMoMSkscG8oIm5nSWYiLGUuaWNvbiksTnMoMSkscG8oIm5nSWYiLGUubGFiZWwpKX0sZGlyZWN0aXZlczpbdGgsbmIsUXZdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpLHBiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tkaCxvYixYdl1dfSksdH0pKCk7Y29uc3QgZmI9WyJib3R0b20iLCJib3R0b20tbGVmdCIsImJvdHRvbS1yaWdodCIsImxlZnQiLCJsZWZ0LXRvcCIsImxlZnQtYm90dG9tIiwidG9wIiwidG9wLXJpZ2h0IiwidG9wLWxlZnQiLCJyaWdodCIsInJpZ2h0LWJvdHRvbSIsInJpZ2h0LXRvcCJdO2xldCBnYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5kaWZmZXJlbmNlRGlhZ29uYWxUb1dpZHRoQXJyb3c9Myx0aGlzLmlzU2V0RWxlbWVudFdpZHRoPSExLHRoaXMub2Zmc2V0QXJyb3c9MTJ9YWRqdXN0UG9zaXRpb24odCl7Y29uc3QgZT10fHwiYm90dG9tIjt0aGlzLmVsZW1lbnRQb3NpdGlvbihlKSx0aGlzLmN1c3RvbVBvc2l0aW9ucyYmdGhpcy5jdXN0b21Qb3NpdGlvbnMubGVuZ3RoP3RoaXMuYWRqdXN0Q3VzdG9tUG9zaXRpb24oZSk6dGhpcy5hZGp1c3REZWZhdWx0UG9zaXRpb24oZSl9Z2V0QXJyb3dEaXJlY3Rpb24oKXtyZXR1cm4gdGhpcy5hcnJvd0RpcmVjdGlvbn1zZXRFbGVtZW50cyh0LGUsbixyLHM9ITEsaT0hMSl7dGhpcy5lbGVtZW50PXQgaW5zdGFuY2VvZiBiYT90Lm5hdGl2ZUVsZW1lbnQ6dCx0aGlzLnRhcmdldEVsZW1lbnQ9biBpbnN0YW5jZW9mIGJhP24ubmF0aXZlRWxlbWVudDpuLHRoaXMuZWxlbWVudE9mZnNldD1lLHRoaXMuY3VzdG9tUG9zaXRpb25zPXIsdGhpcy5pc1NldEVsZW1lbnRXaWR0aD1zLHRoaXMuaXNDb3JuZXJBbGlnbmVkPWl9YWRqdXN0Q3VzdG9tUG9zaXRpb24odCl7Y29uc3QgZT10aGlzLmN1c3RvbVBvc2l0aW9ucy5sZW5ndGg7bGV0IG49MDtmb3IoO24rKzxlOyl0aGlzLm92ZXJmbG93QWxsU2lkZXModCkmJih0PXRoaXMubmV4dFBvc2l0aW9uKHQsdGhpcy5jdXN0b21Qb3NpdGlvbnMpLHRoaXMuZWxlbWVudFBvc2l0aW9uKHQpKX1hZGp1c3REZWZhdWx0UG9zaXRpb24odCl7Y29uc3QgZT10aGlzLmdldE1haW5Qb3NpdGlvbnMoKSxuPWUubGVuZ3RoO2xldCByPTA7Zm9yKDtyKys8bjspe2NvbnN0IG49dGhpcy5nZXRNYWluUG9zaXRpb24odCk7aWYodGhpcy5lbGVtZW50UG9zaXRpb24odCksIXRoaXMub3ZlcmZsb3dNYWluKG4pKXJldHVybiB0aGlzLm92ZXJmbG93QWxsU2lkZXModCk/dm9pZCB0aGlzLnZlcmlmeVN1YlBvc2l0aW9ucyh0KTp2b2lkIDA7dD10aGlzLm5leHRQb3NpdGlvbihuLGUpfX1lbGVtZW50UG9zaXRpb24odCl7dGhpcy5pc0Nvcm5lckFsaWduZWQ/dGhpcy5zZXRBbGlnbmVkRWxlbWVudFBvc2l0aW9uKHQpOnRoaXMuc2V0RWxlbWVudFBvc2l0aW9uKHQpfWdldE1haW5Qb3NpdGlvbih0KXtyZXR1cm4gdC5pbmRleE9mKCItIik+LTE/dC5zdWJzdHJpbmcoMCx0LmluZGV4T2YoIi0iKSk6dH1nZXRNYWluUG9zaXRpb25zKCl7cmV0dXJuIHRoaXMuY3VzdG9tUG9zaXRpb25zJiZ0aGlzLmN1c3RvbVBvc2l0aW9ucy5sZW5ndGg/dGhpcy5nZXRNYWluUG9zaXRpb25zQnlDdXN0b21Qb3NpdGlvbnModGhpcy5jdXN0b21Qb3NpdGlvbnMpOlsidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0Il19Z2V0TWFpblBvc2l0aW9uc0J5Q3VzdG9tUG9zaXRpb25zKHQpe2NvbnN0IGU9W10sbj10Lmxlbmd0aDtmb3IobGV0IHI9MDtyPG47cisrKXtjb25zdCBuPXRoaXMuZ2V0TWFpblBvc2l0aW9uKHRbcl0pO2UuaW5jbHVkZXMobil8fGUucHVzaChuKX1yZXR1cm4gZX1nZXRPdmVyZmxvd3MoKXtjb25zdCB0PXRoaXMuZ2V0U2l6ZXNBbmRQb3NpdGlvbnMoKTtyZXR1cm57cmlnaHQ6dC5lbGVtZW50LnJpZ2h0PnQud2luZG93LmlubmVyV2lkdGgsdG9wOnQuZWxlbWVudC50b3A8PTAsbGVmdDp0LmVsZW1lbnQubGVmdDw9MCxib3R0b206dC5lbGVtZW50LmJvdHRvbT50LndpbmRvdy5pbm5lckhlaWdodH19Z2V0U2l6ZXNBbmRQb3NpdGlvbnMoKXtyZXR1cm57d2luZG93OntzY3JvbGxZOndpbmRvdy5zY3JvbGxZLHNjcm9sbFg6d2luZG93LnNjcm9sbFgsaW5uZXJXaWR0aDp3aW5kb3cuaW5uZXJXaWR0aCxpbm5lckhlaWdodDp3aW5kb3cuaW5uZXJIZWlnaHR9LGVsZW1lbnQ6dGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHRhcmdldDp0aGlzLnRhcmdldEVsZW1lbnQ/dGhpcy50YXJnZXRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOnt0b3A6MCxib3R0b206MCxyaWdodDowLGxlZnQ6MH19fW5leHRQb3NpdGlvbih0LGU9W10pe2NvbnN0IG49ZS5pbmRleE9mKHQpLHI9bisxO3JldHVybiBuPi0xJiZyPGUubGVuZ3RoP2Vbcl06ZVswXX1vdmVyZmxvd0FsbFNpZGVzKHQpe2NvbnN0IGU9dGhpcy5nZXRPdmVyZmxvd3MoKTtzd2l0Y2godCl7Y2FzZSJ0b3AiOmNhc2UidG9wLXJpZ2h0IjpyZXR1cm4gZS50b3B8fGUucmlnaHR8fGUubGVmdDtjYXNlInRvcC1sZWZ0IjpyZXR1cm4gZS50b3B8fGUubGVmdHx8ZS5yaWdodDtjYXNlInJpZ2h0IjpyZXR1cm4gZS5yaWdodHx8ZS50b3B8fGUuYm90dG9tO2Nhc2UicmlnaHQtdG9wIjpyZXR1cm4gZS5yaWdodHx8ZS50b3A7Y2FzZSJyaWdodC1ib3R0b20iOnJldHVybiBlLnJpZ2h0fHxlLmJvdHRvbTtjYXNlImJvdHRvbSI6Y2FzZSJib3R0b20tcmlnaHQiOnJldHVybiBlLmJvdHRvbXx8ZS5yaWdodHx8ZS5sZWZ0O2Nhc2UiYm90dG9tLWxlZnQiOnJldHVybiBlLmJvdHRvbXx8ZS5sZWZ0fHxlLnJpZ2h0O2Nhc2UibGVmdCI6cmV0dXJuIGUubGVmdHx8ZS50b3B8fGUuYm90dG9tO2Nhc2UibGVmdC10b3AiOnJldHVybiBlLmxlZnR8fGUudG9wO2Nhc2UibGVmdC1ib3R0b20iOnJldHVybiBlLmxlZnR8fGUuYm90dG9tfX1vdmVyZmxvd01haW4odCl7Y29uc3QgZT10aGlzLmdldE92ZXJmbG93cygpO3N3aXRjaCh0KXtjYXNlInRvcCI6cmV0dXJuIGUudG9wO2Nhc2UicmlnaHQiOnJldHVybiBlLnJpZ2h0O2Nhc2UiYm90dG9tIjpyZXR1cm4gZS5ib3R0b207Y2FzZSJsZWZ0IjpyZXR1cm4gZS5sZWZ0fX1zZXRBbGlnbmVkQXJyb3dEaXJlY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UidG9wLWxlZnQiOnJldHVybiJib3R0b20tbGVmdCI7Y2FzZSJ0b3AtcmlnaHQiOnJldHVybiJib3R0b20tcmlnaHQiO2Nhc2UiYm90dG9tLXJpZ2h0IjpyZXR1cm4idG9wLXJpZ2h0IjtjYXNlImJvdHRvbS1sZWZ0IjpyZXR1cm4idG9wLWxlZnQifX1zZXRBbGlnbmVkQm90dG9tUG9zaXRpb25zKHQsZSl7dGhpcy5lbGVtZW50LnN0eWxlLnRvcD1lLnRhcmdldC5ib3R0b20rdGhpcy5lbGVtZW50T2Zmc2V0KyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9ZS50YXJnZXQubGVmdC10KyJweCJ9c2V0QWxpZ25lZEVsZW1lbnRQb3NpdGlvbih0KXt0aGlzLnNldEVsZW1lbnRXaWR0aCgpO2NvbnN0IGU9dGhpcy5nZXRTaXplc0FuZFBvc2l0aW9ucygpO3N3aXRjaCh0KXtjYXNlImJvdHRvbS1sZWZ0Ijp0aGlzLnNldEFsaWduZWRCb3R0b21Qb3NpdGlvbnMoMCxlKTticmVhaztjYXNlImJvdHRvbS1yaWdodCI6dGhpcy5zZXRBbGlnbmVkQm90dG9tUG9zaXRpb25zKGUuZWxlbWVudC53aWR0aC1lLnRhcmdldC53aWR0aCxlKTticmVhaztjYXNlInRvcC1sZWZ0Ijp0aGlzLnNldEFsaWduZWRUb3BQb3NpdGlvbnMoMCxlKTticmVhaztjYXNlInRvcC1yaWdodCI6dGhpcy5zZXRBbGlnbmVkVG9wUG9zaXRpb25zKGUuZWxlbWVudC53aWR0aC1lLnRhcmdldC53aWR0aCxlKX10aGlzLmFycm93RGlyZWN0aW9uPXRoaXMuc2V0QWxpZ25lZEFycm93RGlyZWN0aW9uKHQpfXNldEFsaWduZWRUb3BQb3NpdGlvbnModCxlKXt0aGlzLmVsZW1lbnQuc3R5bGUudG9wPWUudGFyZ2V0LnRvcC1lLmVsZW1lbnQuaGVpZ2h0LXRoaXMuZWxlbWVudE9mZnNldCsicHgiLHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PWUudGFyZ2V0LmxlZnQtdCsicHgifXNldEFycm93RGlyZWN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlInRvcCI6cmV0dXJuImJvdHRvbSI7Y2FzZSJ0b3AtbGVmdCI6cmV0dXJuImJvdHRvbS1yaWdodCI7Y2FzZSJ0b3AtcmlnaHQiOnJldHVybiJib3R0b20tbGVmdCI7Y2FzZSJyaWdodCI6cmV0dXJuImxlZnQiO2Nhc2UicmlnaHQtdG9wIjpyZXR1cm4ibGVmdC1ib3R0b20iO2Nhc2UicmlnaHQtYm90dG9tIjpyZXR1cm4ibGVmdC10b3AiO2Nhc2UiYm90dG9tIjpyZXR1cm4idG9wIjtjYXNlImJvdHRvbS1yaWdodCI6cmV0dXJuInRvcC1sZWZ0IjtjYXNlImJvdHRvbS1sZWZ0IjpyZXR1cm4idG9wLXJpZ2h0IjtjYXNlImxlZnQiOnJldHVybiJyaWdodCI7Y2FzZSJsZWZ0LWJvdHRvbSI6cmV0dXJuInJpZ2h0LXRvcCI7Y2FzZSJsZWZ0LXRvcCI6cmV0dXJuInJpZ2h0LWJvdHRvbSJ9fXNldEJvdHRvbVBvc2l0aW9ucyh0LGUpe3RoaXMuZWxlbWVudC5zdHlsZS50b3A9ZS50YXJnZXQuYm90dG9tK3RoaXMuZWxlbWVudE9mZnNldCsicHgiLHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PWUudGFyZ2V0LmxlZnQrZS50YXJnZXQud2lkdGgvMi10KyJweCJ9c2V0RWxlbWVudFBvc2l0aW9uKHQpe3RoaXMuc2V0RWxlbWVudFdpZHRoKCk7Y29uc3QgZT10aGlzLmdldFNpemVzQW5kUG9zaXRpb25zKCk7c3dpdGNoKHQpe2Nhc2UidG9wIjp0aGlzLnNldFRvcFBvc2l0aW9ucyhlLmVsZW1lbnQud2lkdGgvMixlKTticmVhaztjYXNlInRvcC1sZWZ0Ijp0aGlzLnNldFRvcFBvc2l0aW9ucyhlLmVsZW1lbnQud2lkdGgtdGhpcy5vZmZzZXRBcnJvdy10aGlzLmRpZmZlcmVuY2VEaWFnb25hbFRvV2lkdGhBcnJvdyxlKTticmVhaztjYXNlInRvcC1yaWdodCI6dGhpcy5zZXRUb3BQb3NpdGlvbnModGhpcy5vZmZzZXRBcnJvdyt0aGlzLmRpZmZlcmVuY2VEaWFnb25hbFRvV2lkdGhBcnJvdyxlKTticmVhaztjYXNlInJpZ2h0Ijp0aGlzLnNldFJpZ2h0UG9zaXRpb25zKGUuZWxlbWVudC5oZWlnaHQvMixlKTticmVhaztjYXNlInJpZ2h0LXRvcCI6dGhpcy5zZXRSaWdodFBvc2l0aW9ucyhlLmVsZW1lbnQuaGVpZ2h0LXRoaXMub2Zmc2V0QXJyb3ctdGhpcy5kaWZmZXJlbmNlRGlhZ29uYWxUb1dpZHRoQXJyb3csZSk7YnJlYWs7Y2FzZSJyaWdodC1ib3R0b20iOnRoaXMuc2V0UmlnaHRQb3NpdGlvbnModGhpcy5vZmZzZXRBcnJvdyxlKTticmVhaztjYXNlImJvdHRvbSI6dGhpcy5zZXRCb3R0b21Qb3NpdGlvbnMoZS5lbGVtZW50LndpZHRoLzIsZSk7YnJlYWs7Y2FzZSJib3R0b20tcmlnaHQiOnRoaXMuc2V0Qm90dG9tUG9zaXRpb25zKHRoaXMub2Zmc2V0QXJyb3crdGhpcy5kaWZmZXJlbmNlRGlhZ29uYWxUb1dpZHRoQXJyb3csZSk7YnJlYWs7Y2FzZSJib3R0b20tbGVmdCI6dGhpcy5zZXRCb3R0b21Qb3NpdGlvbnMoZS5lbGVtZW50LndpZHRoLXRoaXMub2Zmc2V0QXJyb3ctdGhpcy5kaWZmZXJlbmNlRGlhZ29uYWxUb1dpZHRoQXJyb3csZSk7YnJlYWs7Y2FzZSJsZWZ0Ijp0aGlzLnNldExlZnRQb3NpdGlvbnMoZS5lbGVtZW50LmhlaWdodC8yLGUpO2JyZWFrO2Nhc2UibGVmdC1ib3R0b20iOnRoaXMuc2V0TGVmdFBvc2l0aW9ucyh0aGlzLm9mZnNldEFycm93LGUpO2JyZWFrO2Nhc2UibGVmdC10b3AiOnRoaXMuc2V0TGVmdFBvc2l0aW9ucyhlLmVsZW1lbnQuaGVpZ2h0LXRoaXMub2Zmc2V0QXJyb3csZSl9dGhpcy5hcnJvd0RpcmVjdGlvbj10aGlzLnNldEFycm93RGlyZWN0aW9uKHQpfXNldEVsZW1lbnRXaWR0aCgpe3RoaXMuaXNTZXRFbGVtZW50V2lkdGgmJnRoaXMudGFyZ2V0RWxlbWVudCYmKHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aD1gJHt0aGlzLnRhcmdldEVsZW1lbnQuY2xpZW50V2lkdGh9cHhgKX1zZXRMZWZ0UG9zaXRpb25zKHQsZSl7dGhpcy5lbGVtZW50LnN0eWxlLnRvcD1lLnRhcmdldC50b3AtdCtlLnRhcmdldC5oZWlnaHQvMisicHgiLHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PWUudGFyZ2V0LmxlZnQtZS5lbGVtZW50LndpZHRoLXRoaXMuZWxlbWVudE9mZnNldCsicHgifXNldFJpZ2h0UG9zaXRpb25zKHQsZSl7dGhpcy5lbGVtZW50LnN0eWxlLnRvcD1lLnRhcmdldC50b3AtdCtlLnRhcmdldC5oZWlnaHQvMisicHgiLHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PWUudGFyZ2V0LnJpZ2h0K3RoaXMuZWxlbWVudE9mZnNldCsicHgifXNldFRvcFBvc2l0aW9ucyh0LGUpe3RoaXMuZWxlbWVudC5zdHlsZS50b3A9ZS50YXJnZXQudG9wLWUuZWxlbWVudC5oZWlnaHQtdGhpcy5lbGVtZW50T2Zmc2V0KyJweCIsdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9ZS50YXJnZXQubGVmdCtlLnRhcmdldC53aWR0aC8yLXQrInB4In12ZXJpZnlTdWJQb3NpdGlvbnModCl7dC5pbmRleE9mKCItIik+LTEmJih0PXQuc3Vic3RyaW5nKDAsdC5pbmRleE9mKCItIikpLHRoaXMuZWxlbWVudFBvc2l0aW9uKHQpKTtsZXQgZT0wO2Zvcig7ZSsrPDM7KXtpZighdGhpcy5vdmVyZmxvd0FsbFNpZGVzKHQpKXJldHVybiBudWxsO3Q9dGhpcy5uZXh0UG9zaXRpb24odCxmYiksdGhpcy5lbGVtZW50UG9zaXRpb24odCl9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxtYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbZGhdXX0pLHR9KSgpLHliPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tkaCxwYixtYl1dfSksdH0pKCksdmI9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuZGF0ZVJlZ2V4PW5ldyBSZWdFeHAoIl4oPzpbMC05XSlcXGR7MX0oPzpbMC05XSlcXGR7MX0tKD86MFsxLTldfDFbMC0yXSktKD86MFsxLTldfFsxMl1cXGR8M1swMV0pJCIpLHRoaXMuaXNvUmVnZXg9bmV3IFJlZ0V4cCgiXig/OlswLTldKVxcZHsxfSg/OlswLTldKVxcZHsxfS0oPzowWzEtOV18MVswLTJdKS0oPzowWzEtOV18WzEyXVxcZHwzWzAxXSlUKD86WzAxXVxcZHwyWzAtM10pOlswLTVdXFxkOlswLTVdXFxkKD86WnwtMFsxLTldfC0xXFxkfC0yWzAtM118LTAwOj8oPzowWzEtOV18WzAtNV1cXGQpfFxcK1swMV1cXGR8XFwrMlswLTNdKSg/Onw6P1swLTVdXFxkKSQiKX1jb252ZXJ0SXNvVG9EYXRlKHQsZSxuKXtpZih0KXtjb25zdHt5ZWFyOnIsbW9udGg6cyxkYXk6aX09dGhpcy5nZXREYXRlRnJvbUlzbyh0KTtpZihlKXtjb25zdCB0PW5ldyBEYXRlKHIscy0xLGksMCwwLDApO3JldHVybiB0aGlzLnNldFllYXJGcm9tMFRvMTAwKHQsciksdH1pZihuKXtjb25zdCB0PW5ldyBEYXRlKHIscy0xLGksMjMsNTksNTkpO3JldHVybiB0aGlzLnNldFllYXJGcm9tMFRvMTAwKHQsciksdH17Y29uc3QgZT1EYXRlLnBhcnNlKHQpLG49NmU0KihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtyZXR1cm4gbmV3IERhdGUoZStuKX19fWNvbnZlcnREYXRlVG9JU08odCl7aWYodCl7Y29uc3QgZT10LmdldEZ1bGxZZWFyKCksbj10LmdldE1vbnRoKCkrMSxyPXQuZ2V0RGF0ZSgpPDEwPyIwIit0LmdldERhdGUoKTp0LmdldERhdGUoKSxzPW48MTA/IjAiK246bjtyZXR1cm4gdGhpcy5mb3JtYXRZZWFyKGUpKyItIitzKyItIityfXJldHVybiBudWxsfWZvcm1hdFllYXIodCl7cmV0dXJuIHQ+OTk5P3QudG9TdHJpbmcoKTp0Pjk5JiZ0PDFlMz9gMCR7dH1gOnQ+OSYmdDwxMDA/YDAwJHt0fWA6dD49MCYmdDwxMD9gMDAwJHt0fWA6dm9pZCAwfWdldERhdGVGcm9tSXNvKHQpe2NvbnN0IGU9cGFyc2VJbnQodC5zdWJzdHJpbmcoOCwxMCksMTApLG49cGFyc2VJbnQodC5zdWJzdHJpbmcoNSw3KSwxMCk7cmV0dXJue3llYXI6cGFyc2VJbnQodC5zdWJzdHJpbmcoMCw0KSwxMCksbW9udGg6bixkYXk6ZX19Z2V0RGF0ZUZvckRhdGVSYW5nZSh0LGUpe2NvbnN0IG49ZT9bMCwwLDBdOlsyMyw1OSw1OV07aWYodCBpbnN0YW5jZW9mIERhdGUpe2NvbnN0e3llYXI6ZSxtb250aDpyLGRheTpzfT10aGlzLnNwbGl0RGF0ZSh0KSxpPW5ldyBEYXRlKGUscixzLC4uLm4pO3JldHVybiB0aGlzLnNldFllYXJGcm9tMFRvMTAwKGksZSksaX1pZih0aGlzLmlzVmFsaWRJc28odCkpcmV0dXJuIHRoaXMuY29udmVydElzb1RvRGF0ZSh0LGUsIWUpfWlzRGF0ZVJhbmdlVmFsaWQodD0iIixlPSIiKXtjb25zdCBuPXQuc3BsaXQoIi0iKS5tYXAodD0+cGFyc2VJbnQodCwxMCkpLHI9ZS5zcGxpdCgiLSIpLm1hcCh0PT5wYXJzZUludCh0LDEwKSk7Zm9yKGxldCBzPTA7czw9bi5sZW5ndGg7cysrKXtpZihuW3NdPnJbc10pcmV0dXJuITA7aWYobltzXTxyW3NdKXJldHVybiExfXJldHVybiEwfWlzVmFsaWRJc28odCl7cmV0dXJuIHRoaXMuZGF0ZVJlZ2V4LnRlc3QodCl8fHRoaXMuaXNvUmVnZXgudGVzdCh0KX1zZXRZZWFyRnJvbTBUbzEwMCh0LGUpe2U+PTAmJmU8MTAwJiZ0LnNldEZ1bGxZZWFyKGUpfXNwbGl0RGF0ZSh0KXtyZXR1cm57eWVhcjp0LmdldEZ1bGxZZWFyKCksbW9udGg6dC5nZXRNb250aCgpLGRheTp0LmdldERhdGUoKX19dmFsaWRhdGVEYXRlUmFuZ2UodCxlLG4pe3JldHVybiBlJiZuP3Q+PWUmJnQ8PW46ZSYmIW4/dD49ZTohKCFlJiZuKXx8dDw9bn12YWxpZGF0ZURhdGUodCl7Y29uc3QgZT10IGluc3RhbmNlb2YgRGF0ZT90aGlzLmNvbnZlcnREYXRlVG9JU08odCk6dDtyZXR1cm4gdGhpcy5pc1ZhbGlkSXNvKGUpP2U6dm9pZCAwfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0fSx0b2tlbjp0LHByb3ZpZGVkSW46InJvb3QifSksdH0pKCksYmI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOlt2Yl19KSx0fSkoKSxfYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbZGhdXX0pLHR9KSgpO01hdGgsTWF0aCxNYXRoLmZsb29yKDI1KTt2YXIgd2I9ZnVuY3Rpb24odCl7cmV0dXJuIHQuQ29sb3IwMT0iY29sb3ItMDEiLHQuQ29sb3IwMj0iY29sb3ItMDIiLHQuQ29sb3IwMz0iY29sb3ItMDMiLHQuQ29sb3IwND0iY29sb3ItMDQiLHQuQ29sb3IwNT0iY29sb3ItMDUiLHQuQ29sb3IwNj0iY29sb3ItMDYiLHQuQ29sb3IwNz0iY29sb3ItMDciLHQuQ29sb3IwOD0iY29sb3ItMDgiLHQuQ29sb3IwOT0iY29sb3ItMDkiLHQuQ29sb3IxMD0iY29sb3ItMTAiLHQuQ29sb3IxMT0iY29sb3ItMTEiLHQuQ29sb3IxMj0iY29sb3ItMTIiLHR9KHt9KTtPYmplY3QudmFsdWVzKHdiKSxNYXRoLE1hdGguZmxvb3IoMjUpLE1hdGgsTWF0aDtsZXQgQ2I9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW2RoLG1iXV19KSx0fSkoKSxFYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbZGhdXX0pLHR9KSgpLERiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tkaF1dfSksdH0pKCksQWI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW2RoLERiXV19KSx0fSkoKSxTYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxpbnB1dHM6e2xhYmVsOlsicC1sYWJlbCIsImxhYmVsIl19fSksdH0pKCkseGI9KCgpPT57Y2xhc3MgdCBleHRlbmRzIFNie31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oKXtsZXQgZTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKGV8fChlPUxuKHQpKSkobnx8dCl9fSgpLHQuXHUwMjc1Y21wPUh0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWRpdmlkZXIiXV0sZmVhdHVyZXM6W0tpXSxkZWNsczoyLHZhcnM6MSxjb25zdHM6W1sxLCJwby1kaXZpZGVyIl0sWyJjbGFzcyIsInBvLWRpdmlkZXItbGFiZWwiLDQsIm5nSWYiXSxbMSwicG8tZGl2aWRlci1sYWJlbCJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKGdvKDAsImRpdiIsMCksdW8oMSxYeSwyLDEsImRpdiIsMSksbW8oKSksMiZ0JiYoTnMoMSkscG8oIm5nSWYiLGUubGFiZWwpKX0sZGlyZWN0aXZlczpbdGhdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpLGtiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tkaF1dfSksdH0pKCksVGI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tkaCxYdl1dfSksdH0pKCksT2I9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW2RoLFRiXV19KSx0fSkoKSxGYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5lcnJvclBhdHRlcm49IiJ9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1maWVsZC1jb250YWluZXItYm90dG9tIl1dLGlucHV0czp7ZXJyb3JQYXR0ZXJuOlsicC1lcnJvci1wYXR0ZXJuIiwiZXJyb3JQYXR0ZXJuIl19LGRlY2xzOjIsdmFyczoxLGNvbnN0czpbWzEsInBvLWZpZWxkLWNvbnRhaW5lci1ib3R0b20iXSxbImNsYXNzIiwicG8tZmllbGQtY29udGFpbmVyLWJvdHRvbS10ZXh0LWVycm9yIiw0LCJuZ0lmIl0sWzEsInBvLWZpZWxkLWNvbnRhaW5lci1ib3R0b20tdGV4dC1lcnJvciJdLFsxLCJwby1pY29uIiwicG8taWNvbi13YXJuaW5nIiwicG8tZmllbGQtY29udGFpbmVyLWljb24tZXJyb3IiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihnbygwLCJkaXYiLDApLHVvKDEsSnksMywxLCJzcGFuIiwxKSxtbygpKSwyJnQmJihOcygxKSxwbygibmdJZiIsZS5lcnJvclBhdHRlcm4pKX0sZGlyZWN0aXZlczpbdGhdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpO2NvbnN0IFBiPXtlbjp7b3B0aW9uYWw6IihPcHRpb25hbCkifSxlczp7b3B0aW9uYWw6IihPcGNpb25hbCkifSxwdDp7b3B0aW9uYWw6IihPcGNpb25hbCkifSxydTp7b3B0aW9uYWw6IihcdTA0MWZcdTA0M2VcdTA0MzZcdTA0MzVcdTA0M2JcdTA0MzBcdTA0M2RcdTA0MzhcdTA0NGUpIn19O2xldCBJYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuX29wdGlvbmFsPSExO2NvbnN0IGU9dC5nZXRTaG9ydExhbmd1YWdlKCk7dGhpcy5saXRlcmFscz1PYmplY3QuYXNzaWduKHt9LFBiW2VdKX1zZXQgb3B0aW9uYWwodCl7dGhpcy5fb3B0aW9uYWw9enYodCl9Z2V0IG9wdGlvbmFsKCl7cmV0dXJuIHRoaXMuX29wdGlvbmFsfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShobyhLdikpfSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1maWVsZC1jb250YWluZXIiXV0saW5wdXRzOntvcHRpb25hbDpbInAtb3B0aW9uYWwiLCJvcHRpb25hbCJdLGxhYmVsOlsicC1sYWJlbCIsImxhYmVsIl0saGVscDpbInAtaGVscCIsImhlbHAiXX0sbmdDb250ZW50U2VsZWN0b3JzOlV5LGRlY2xzOjcsdmFyczozLGNvbnN0czpbWzEsInBvLWZpZWxkLWNvbnRhaW5lciJdLFsxLCJwby1maWVsZC1jb250YWluZXItdGl0bGUiXSxbMSwicG8tZmllbGQtdGl0bGUiXSxbImNsYXNzIiwicG8tZmllbGQtb3B0aW9uYWwiLDQsIm5nSWYiXSxbImNsYXNzIiwicG8tZmllbGQtaGVscCIsNCwibmdJZiJdLFsxLCJwby1maWVsZC1vcHRpb25hbCJdLFsxLCJwby1maWVsZC1oZWxwIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoeG8oKSxnbygwLCJkaXYiLDApLGdvKDEsImRpdiIsMSksZ28oMiwic3BhbiIsMiksV28oMyksbW8oKSx1byg0LHR2LDIsMSwic3BhbiIsMyksbW8oKSx1byg1LGV2LDIsMSwiZGl2Iiw0KSxrbyg2KSxtbygpKSwyJnQmJihOcygzKSxHbyhlLmxhYmVsKSxOcygxKSxwbygibmdJZiIsZS5vcHRpb25hbCYmKGUubGFiZWx8fGUuaGVscCkpLE5zKDEpLHBvKCJuZ0lmIixlLmhlbHApKX0sZGlyZWN0aXZlczpbdGhdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpLFJiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tkaF1dfSksdH0pKCk7ZnVuY3Rpb24gTWIodCxlLG4pe3JldHVybiB0JiYhZSYmISgic3RyaW5nIj09dHlwZW9mIG4mJm58fCJvYmplY3QiPT10eXBlb2YgbiYmbiYmbi5sZW5ndGh8fCJudW1iZXIiPT10eXBlb2YgbiYmKG58fDA9PT1uKXx8ImJvb2xlYW4iPT10eXBlb2YgbiYmbil9bGV0IFZiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tkaCxncCxSYl1dfSksdH0pKCksamI9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuZGVmYXVsdFZhbHVlPSIiLHRoaXMuY2hhbmdlRXZlbnQ9bmV3IEVsfWNsZWFyKCl7dGhpcy5zZXRJbnB1dFZhbHVlKHRoaXMuZGVmYXVsdFZhbHVlKSx0aGlzLmNoYW5nZUV2ZW50LmVtaXQodGhpcy5kZWZhdWx0VmFsdWUpfXNob3dJY29uKCl7cmV0dXJuIHRoaXMuZGVmYXVsdFZhbHVlIT09dGhpcy5nZXRJbnB1dFZhbHVlKCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0LGlucHV0czp7ZGVmYXVsdFZhbHVlOlsicC1kZWZhdWx0LXZhbHVlIiwiZGVmYXVsdFZhbHVlIl0saW5wdXRSZWY6WyJwLWVsZW1lbnQtcmVmIiwiaW5wdXRSZWYiXX0sb3V0cHV0czp7Y2hhbmdlRXZlbnQ6InAtY2hhbmdlLWV2ZW50In19KSx0fSkoKSxOYj0oKCk9PntjbGFzcyB0IGV4dGVuZHMgamJ7c2V0SW5wdXRWYWx1ZSh0KXt0aGlzLmlucHV0UmVmJiZ0aGlzLmlucHV0UmVmLm5hdGl2ZUVsZW1lbnQmJih0aGlzLmlucHV0UmVmLm5hdGl2ZUVsZW1lbnQudmFsdWU9dCl9Z2V0SW5wdXRWYWx1ZSgpe2lmKHRoaXMuaW5wdXRSZWYmJnRoaXMuaW5wdXRSZWYubmF0aXZlRWxlbWVudClyZXR1cm4gdGhpcy5pbnB1dFJlZi5uYXRpdmVFbGVtZW50LnZhbHVlfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oKXtsZXQgZTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKGV8fChlPUxuKHQpKSkobnx8dCl9fSgpLHQuXHUwMjc1Y21wPUh0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWNsZWFuIl1dLGZlYXR1cmVzOltLaV0sZGVjbHM6MSx2YXJzOjEsY29uc3RzOltbImNsYXNzIiwicG8taWNvbiBwby1maWVsZC1pY29uIHBvLWljb24tY2xvc2UiLDMsImNsaWNrIiw0LCJuZ0lmIl0sWzEsInBvLWljb24iLCJwby1maWVsZC1pY29uIiwicG8taWNvbi1jbG9zZSIsMywiY2xpY2siXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJnVvKDAsbnYsMSwwLCJzcGFuIiwwKSwyJnQmJnBvKCJuZ0lmIixlLnNob3dJY29uKCkpfSxkaXJlY3RpdmVzOlt0aF0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksTGI9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW2RoXV19KSx0fSkoKTtjbGFzcyBCYntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMubWFzaz0iIix0aGlzLmZvcm1hdE1vZGVsPSExLHRoaXMuaW5pdGlhbFBvc2l0aW9uPTAsdGhpcy5maW5hbFBvc2l0aW9uPTAsdGhpcy5wYXR0ZXJuPSIiLHRoaXMubWFzaz10LHRoaXMuZm9ybWF0TW9kZWw9ZSx0aGlzLnBhdHRlcm49dGhpcy5nZXRSZWdleEZyb21NYXNrKHQpfWdldCBnZXRQYXR0ZXJuKCl7cmV0dXJuIHRoaXMucGF0dGVybn1nZXQgZ2V0VmFsdWVUb0lucHV0KCl7cmV0dXJuIHRoaXMudmFsdWVUb0lucHV0fXNldCBzZXRWYWx1ZVRvSW5wdXQodCl7dGhpcy52YWx1ZVRvSW5wdXQ9dH1nZXQgZ2V0VmFsdWVUb01vZGVsKCl7cmV0dXJuIHRoaXMudmFsdWVUb01vZGVsfXNldCBzZXRWYWx1ZVRvTW9kZWwodCl7dGhpcy52YWx1ZVRvTW9kZWw9dH1rZXl1cCh0KXtpZih0aGlzLm1hc2spe2NvbnN0IGU9dC50YXJnZXQudmFsdWU7c3dpdGNoKDE3IT09dC5rZXlDb2RlJiY5MSE9PXQua2V5Q29kZXx8KHQudGFyZ2V0LnZhbHVlPXRoaXMuY29udHJvbEZvcm1hdHRpbmcoZSksdGhpcy5yZXNldFBvc2l0aW9ucyh0KSksdC5wcmV2ZW50RGVmYXVsdCgpLHQua2V5Q29kZSl7Y2FzZSAzNzp0aGlzLmluaXRpYWxQb3NpdGlvbj4wJiZ0aGlzLmluaXRpYWxQb3NpdGlvbi0tLHRoaXMuc2V0UG9zaXRpb25Ob3RTaGlmdEtleSh0KSx0aGlzLnNldFNlbGVjdGlvblJhbmdlKHQpO2JyZWFrO2Nhc2UgMzk6dGhpcy5pbml0aWFsUG9zaXRpb248ZS50b1N0cmluZygpLmxlbmd0aCYmdGhpcy5pbml0aWFsUG9zaXRpb24rKyx0aGlzLnNldFBvc2l0aW9uTm90U2hpZnRLZXkodCksdGhpcy5zZXRTZWxlY3Rpb25SYW5nZSh0KTticmVhaztjYXNlIDM1OnRoaXMuZmluYWxQb3NpdGlvbj1lLnRvU3RyaW5nKCkubGVuZ3RoLHQuc2hpZnRLZXl8fCh0aGlzLmluaXRpYWxQb3NpdGlvbj10aGlzLmZpbmFsUG9zaXRpb24pLHRoaXMuc2V0UG9zaXRpb25zKHQpO2JyZWFrO2Nhc2UgMzY6dC5zaGlmdEtleT8odGhpcy5maW5hbFBvc2l0aW9uPXRoaXMuaW5pdGlhbFBvc2l0aW9uLHRoaXMuaW5pdGlhbFBvc2l0aW9uPTAsdGhpcy5zZXRQb3NpdGlvbnModCkpOih0aGlzLmluaXRpYWxQb3NpdGlvbj0wLHRoaXMuZmluYWxQb3NpdGlvbj0wLHRoaXMuc2V0UG9zaXRpb25zKHQpKX19fXNldFBvc2l0aW9uTm90U2hpZnRLZXkodCl7dC5zaGlmdEtleXx8KHRoaXMuZmluYWxQb3NpdGlvbj10aGlzLmluaXRpYWxQb3NpdGlvbil9c2V0U2VsZWN0aW9uUmFuZ2UodCl7dGhpcy5pbml0aWFsUG9zaXRpb24+dGhpcy5maW5hbFBvc2l0aW9uP3QudGFyZ2V0LnNldFNlbGVjdGlvblJhbmdlKHRoaXMuZmluYWxQb3NpdGlvbix0aGlzLmluaXRpYWxQb3NpdGlvbik6dC50YXJnZXQuc2V0U2VsZWN0aW9uUmFuZ2UodGhpcy5pbml0aWFsUG9zaXRpb24sdGhpcy5maW5hbFBvc2l0aW9uKX1rZXlkb3duKHQpe2lmKHRoaXMubWFzayl7bGV0IGU9dC50YXJnZXQudmFsdWU7aWYoOT09PXQua2V5Q29kZSlyZXR1cm47aWYodC5jdHJsS2V5fHx0Lm1ldGFLZXl8fHQucHJldmVudERlZmF1bHQoKSx0LmN0cmxLZXl8fHQubWV0YUtleSYmODYhPT10LmtleUNvZGV8fHQua2V5Q29kZT49MzcmJnQua2V5Q29kZTw9NDB8fDE2PT09dC5rZXlDb2RlfHw5PT09dC5rZXlDb2RlKXJldHVybjtpZih0aGlzLmlzS2V5VmFsaWQodC5rZXlDb2RlKSlzd2l0Y2gobnVsbD09PXRoaXMuZmluYWxQb3NpdGlvbiYmKHRoaXMuZmluYWxQb3NpdGlvbj10aGlzLmluaXRpYWxQb3NpdGlvbiksdGhpcy5yZXZlcnRQb3NpdGlvbnModGhpcy5pbml0aWFsUG9zaXRpb24sdGhpcy5maW5hbFBvc2l0aW9uKSx0LmtleUNvZGUpe2Nhc2UgODp0aGlzLmdldFBvc2l0aW9uKHQpLHRoaXMuaW5pdGlhbFBvc2l0aW9uPDAmJih0aGlzLmluaXRpYWxQb3NpdGlvbj0wLHRoaXMuc2V0UG9zaXRpb25zKHQpKSx0aGlzLmluaXRpYWxQb3NpdGlvbj09PXRoaXMuZmluYWxQb3NpdGlvbj8odGhpcy5jaGVja01hc2tCZWZvcmUodCwtMSksMCE9PXRoaXMuaW5pdGlhbFBvc2l0aW9uJiYoZT1lLnNsaWNlKDAsdGhpcy5pbml0aWFsUG9zaXRpb24tMSkrZS5zbGljZSh0aGlzLmZpbmFsUG9zaXRpb24pLGU9dGhpcy5jb250cm9sRm9ybWF0dGluZyhlKSx0LnRhcmdldC52YWx1ZT1lLHRoaXMuY2hhbmdlUG9zaXRpb24odCwtMSksdGhpcy5jaGVja01hc2tCZWZvcmUodCwtMSksdGhpcy5zZXRQb3NpdGlvbnModCksdGhpcy5yZXNldFBvc2l0aW9ucyh0KSkpOnRoaXMuY2xlYXJSYW5nZVNlbGVjdGlvbihlLHQsITApLHRoaXMuc2V0UG9zaXRpb25zKHQpO2JyZWFrO2Nhc2UgNDY6dGhpcy5nZXRQb3NpdGlvbih0KSx0aGlzLmluaXRpYWxQb3NpdGlvbj09PXRoaXMuZmluYWxQb3NpdGlvbj8odGhpcy5jaGVja01hc2tBZnRlcih0LDEpLGU9ZS5zbGljZSgwLHRoaXMuaW5pdGlhbFBvc2l0aW9uKStlLnNsaWNlKHRoaXMuZmluYWxQb3NpdGlvbisxKSxlPXRoaXMuY29udHJvbEZvcm1hdHRpbmcoZSksdC50YXJnZXQudmFsdWU9ZSx0aGlzLnNldFBvc2l0aW9ucyh0KSx0aGlzLnJlc2V0UG9zaXRpb25zKHQpKTp0aGlzLmNsZWFyUmFuZ2VTZWxlY3Rpb24oZSx0LCExKSx0aGlzLnNldFBvc2l0aW9ucyh0KTticmVhaztkZWZhdWx0OnRoaXMuZ2V0UG9zaXRpb24odCksZT1lLnNsaWNlKDAsdGhpcy5pbml0aWFsUG9zaXRpb24pK3Qua2V5K2Uuc2xpY2UodGhpcy5maW5hbFBvc2l0aW9uKSxlPXRoaXMuY29udHJvbEZvcm1hdHRpbmcoZSksdC50YXJnZXQudmFsdWU9ZSx0aGlzLmNoYW5nZVBvc2l0aW9uKHQsMSksdGhpcy5jaGVja01hc2tCZWZvcmUodCwxKSx0aGlzLnNldFBvc2l0aW9ucyh0KSx0aGlzLnJlc2V0UG9zaXRpb25zKHQpLHRoaXMuc2V0UG9zaXRpb25zKHQpfX19Y2xlYXJSYW5nZVNlbGVjdGlvbih0LGUsbil7dD10LnNsaWNlKDAsdGhpcy5pbml0aWFsUG9zaXRpb24pK3Quc2xpY2UodGhpcy5maW5hbFBvc2l0aW9uKSx0PXRoaXMuY29udHJvbEZvcm1hdHRpbmcodCksZS50YXJnZXQudmFsdWU9dCxuJiZ0aGlzLmNoZWNrTWFza0JlZm9yZShlLC0xKSx0aGlzLnNldFBvc2l0aW9ucyhlKSx0aGlzLnJlc2V0UG9zaXRpb25zKGUpfWNsaWNrKHQpe3RoaXMuaW5pdGlhbFBvc2l0aW9uPXQudGFyZ2V0LnNlbGVjdGlvblN0YXJ0LHRoaXMuZmluYWxQb3NpdGlvbj10LnRhcmdldC5zZWxlY3Rpb25FbmR9Ymx1cih0KXtpZih0aGlzLm1hc2spe2xldCBlPXQudGFyZ2V0LnZhbHVlO2U9dGhpcy5jb250cm9sRm9ybWF0dGluZyhlKSx0LnRhcmdldC52YWx1ZT1lfX1yZXZlcnRQb3NpdGlvbnModCxlKXtpZih0PmUpe2NvbnN0IG49dDt0aGlzLmluaXRpYWxQb3NpdGlvbj1lLHRoaXMuZmluYWxQb3NpdGlvbj1ufX1yZXNldFBvc2l0aW9ucyh0KXt0aGlzLmluaXRpYWxQb3NpdGlvbj10LnRhcmdldC5zZWxlY3Rpb25TdGFydCx0aGlzLmZpbmFsUG9zaXRpb249dGhpcy5pbml0aWFsUG9zaXRpb259c2V0UG9zaXRpb25zKHQpe3QudGFyZ2V0LnNldFNlbGVjdGlvblJhbmdlKHRoaXMuaW5pdGlhbFBvc2l0aW9uLHRoaXMuZmluYWxQb3NpdGlvbil9Y2hhbmdlUG9zaXRpb24odCxlKXt0aGlzLmluaXRpYWxQb3NpdGlvbj10aGlzLmluaXRpYWxQb3NpdGlvbitlLHRoaXMuZmluYWxQb3NpdGlvbj10aGlzLmZpbmFsUG9zaXRpb24rZSx0aGlzLnNldFBvc2l0aW9ucyh0KX1nZXRQb3NpdGlvbih0KXt0aGlzLmluaXRpYWxQb3NpdGlvbj10LnRhcmdldC5zZWxlY3Rpb25TdGFydCx0aGlzLmZpbmFsUG9zaXRpb249dC50YXJnZXQuc2VsZWN0aW9uRW5kLHRoaXMuc2V0UG9zaXRpb25zKHQpfWNvbnRyb2xGb3JtYXR0aW5nKHQpe2lmKCF0KXJldHVybiB0aGlzLnZhbHVlVG9JbnB1dD0iIix0aGlzLnZhbHVlVG9Nb2RlbD0iIiwiIjtsZXQgZSxuPXRoaXMubWFzaztjb25zdCByPVtdO2xldCBzPTA7Zm9yKDt0aGlzLmhhc09wdGlvbmFsTnVtYmVyKG4pOylyLnB1c2gobiksbj10aGlzLnJlcGxhY2VPcHRpb25hbE51bWJlcihuKTtmb3Ioci5wdXNoKG4pLHIucmV2ZXJzZSgpLHRoaXMuZm9ybWF0dGluZ0VuZHM9ITE7IXRoaXMuZm9ybWF0dGluZ0VuZHMmJih0aGlzLmZvcm1hdHRpbmdFbmRzPSEwLHJbc10pOyllPXRoaXMuZm9ybWF0VmFsdWUodCxyW3NdKSxzKys7cmV0dXJuIGV9Zm9ybWF0VmFsdWUodCxlKXtjb25zdCBuPShlPWUucmVwbGFjZSgvXD8vZywiIikpLnJlcGxhY2UodGhpcy5saXN0VmFsaWRLZXlzKCksIl8iKTtsZXQgcj0wLHM9IiI7dD10aGlzLnJlbW92ZUZvcm1hdHRpbmdWYWx1ZSh0KTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgbz10W2ldO2lmKCFuW3JdKXt0aGlzLmZvcm1hdHRpbmdFbmRzPSExO2JyZWFrfWZvcig7dGhpcy5pc0ZpeGVkQ2hhcmFjdGVyR3VpZGUobltyXSkmJm5bcl07KXMrPW5bcl0scisrO2lmKCF0aGlzLmlzS2V5VmFsaWRNYXNrKG8sZVtyXSkpYnJlYWs7cys9byxyKyt9cmV0dXJuIHRoaXMuZm9ybWF0TW9kZWw/KHRoaXMudmFsdWVUb0lucHV0PXMsdGhpcy52YWx1ZVRvTW9kZWw9cyk6KHRoaXMudmFsdWVUb0lucHV0PXMsdGhpcy52YWx1ZVRvTW9kZWw9dGhpcy5yZW1vdmVGb3JtYXR0aW5nVmFsdWUocykpLHN9Y2hlY2tNYXNrQmVmb3JlKHQsZSl7dGhpcy5pc0ZpeGVkQ2hhcmFjdGVyR3VpZGUodC50YXJnZXQudmFsdWUudG9TdHJpbmcoKS5jaGFyQXQodGhpcy5pbml0aWFsUG9zaXRpb24tMSkpJiYodGhpcy5jaGFuZ2VQb3NpdGlvbih0LGUpLHRoaXMuY2hlY2tNYXNrQmVmb3JlKHQsZSkpfWNoZWNrTWFza0FmdGVyKHQsZSl7dGhpcy5pc0ZpeGVkQ2hhcmFjdGVyR3VpZGUodC50YXJnZXQudmFsdWUudG9TdHJpbmcoKS5jaGFyQXQodGhpcy5pbml0aWFsUG9zaXRpb24pKSYmKHRoaXMuY2hhbmdlUG9zaXRpb24odCxlKSx0aGlzLmNoZWNrTWFza0FmdGVyKHQsZSkpfXJlcGxhY2VPcHRpb25hbE51bWJlcih0KXtsZXQgZT05O2Zvcig7ZT49MDspe2lmKHQuaW5kZXhPZihlKyI/Iik+LTEpcmV0dXJuIHQucmVwbGFjZShlKyI/IiwiIik7ZS0tfXJldHVybiB0fWlzRml4ZWRDaGFyYWN0ZXJHdWlkZSh0KXtyZXR1cm4gdGhpcy50ZXN0UmVnZXgodCx0aGlzLmdldEZpeGVkQ2hhcmFjdGVyR3VpZGUoKSl9Z2V0Rml4ZWRDaGFyYWN0ZXJHdWlkZSgpe3JldHVybi9bXFxcLygpICstLlw6XS9nfWxpc3RWYWxpZEtleXMoKXtyZXR1cm4vW2EtekEtWjAtOV0vZ31pc0tleVZhbGlkKHQpe3JldHVybiB0aGlzLmlzS2V5Q29kZVZhbGlkKHQpfWlzS2V5Q29kZVZhbGlkKHQpe3JldHVybiB0Pj00OCYmdDw9NTd8fHQ+PTY1JiZ0PD05MHx8dD49OTYmJnQ8PTEwNXx8OD09PXR8fDk9PT10fHw0Nj09PXR9aXNLZXlWYWxpZE1hc2sodCxlKXtyZXR1cm4gdGhpcy50ZXN0UmVnZXgodCx0aGlzLnJlcGxhY2VNYXNrKGUpKX10ZXN0UmVnZXgodCxlKXtyZXR1cm4gZS50ZXN0KHQpfXJlbW92ZUZvcm1hdHRpbmdWYWx1ZSh0KXtyZXR1cm4gdC5yZXBsYWNlKHRoaXMuZ2V0Rml4ZWRDaGFyYWN0ZXJHdWlkZSgpLCIiKX1oYXNPcHRpb25hbE51bWJlcih0KXtyZXR1cm4gdC5tYXRjaCgvXGRcPy9nKX1yZXBsYWNlTWFzayh0KXtsZXQgZT0vLi87c3dpdGNoKHQpe2Nhc2UiMCI6ZT0vWzBdLzticmVhaztjYXNlIjEiOmU9L1swLTFdLzticmVhaztjYXNlIjIiOmU9L1swLTJdLzticmVhaztjYXNlIjMiOmU9L1swLTNdLzticmVhaztjYXNlIjQiOmU9L1swLTRdLzticmVhaztjYXNlIjUiOmU9L1swLTVdLzticmVhaztjYXNlIjYiOmU9L1swLTZdLzticmVhaztjYXNlIjciOmU9L1swLTddLzticmVhaztjYXNlIjgiOmU9L1swLThdLzticmVhaztjYXNlIjkiOmU9L1swLTldLzticmVhaztjYXNlIiAiOmU9L1xzLzticmVhaztjYXNlIkAiOmU9L1thLXpBLVpdLzticmVhaztjYXNlInciOmU9L1thLXpBLVowLTldL31yZXR1cm4gZX1nZXRSZWdleEZyb21NYXNrKHQpe2lmKHQpe2xldCBlO3JldHVybiB0aGlzLmZvcm1hdE1vZGVsPyhlPXQucmVwbGFjZSgvXFwvZywiXFxcXCIpLGU9ZS5yZXBsYWNlKC9cKy9nLCJcXCsiKSxlPWUucmVwbGFjZSgvXC4vZywiXFwuIiksZT1lLnJlcGxhY2UoLy0vZywiLSIpLGU9ZS5yZXBsYWNlKC9cKC9nLCJcXCgiKSxlPWUucmVwbGFjZSgvXCkvZywiXFwpIiksZT1lLnJlcGxhY2UoL1wvL2csIlxcLyIpLGU9ZS5yZXBsYWNlKC9ccy9nLCJcXHMiKSxlPWUucmVwbGFjZSgvOi9nLCJcXDoiKSxlPWUucmVwbGFjZSgvXEAoPyFccykvZywiXFx3IiksZT1lLnJlcGxhY2UoL1xkL2csIlxcdyIpKTooZT10LnJlcGxhY2UoL1xcL2csIiIpLGU9ZS5yZXBsYWNlKC9cKy9nLCIiKSxlPWUucmVwbGFjZSgvXC4vZywiIiksZT1lLnJlcGxhY2UoLy0vZywiIiksZT1lLnJlcGxhY2UoL1woL2csIiIpLGU9ZS5yZXBsYWNlKC9cKS9nLCIiKSxlPWUucmVwbGFjZSgvXC8vZywiIiksZT1lLnJlcGxhY2UoL1xzL2csIiIpLGU9ZS5yZXBsYWNlKC86L2csIiIpLGU9ZS5yZXBsYWNlKC9cQC9nLCJcXHciKSxlPWUucmVwbGFjZSgvXGQvZywiXFx3IikpLGV9cmV0dXJuIG51bGx9fWxldCBVYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbZGgsZ3AsUmIsTGIsX2JdXX0pLHR9KSgpO2NvbnN0IEhiPXtlbjp7Y2xvc2U6IkNsb3NlIn0sZXM6e2Nsb3NlOiJDZXJyYXIifSxwdDp7Y2xvc2U6IkZlY2hhciJ9LHJ1OntjbG9zZToiXHUwNDMxXHUwNDNiXHUwNDM4XHUwNDM3XHUwNDNhXHUwNDNlIn19O2xldCAkYj0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMuaXNIaWRkZW49ITAsdGhpcy5vblhDbG9zZWQ9bmV3IEVsLHRoaXMuX2hpZGVDbG9zZT0hMSx0aGlzLl9zaXplPSJtZCIsdGhpcy5jbGlja091dD0hMSx0aGlzLmxhbmd1YWdlPXQuZ2V0U2hvcnRMYW5ndWFnZSgpLHRoaXMubGl0ZXJhbHM9T2JqZWN0LmFzc2lnbih7fSxIYlt0aGlzLmxhbmd1YWdlXSl9c2V0IHNpemUodCl7dGhpcy5fc2l6ZT1bInNtIiwibWQiLCJsZyIsInhsIiwiYXV0byJdLmluZGV4T2YodCk+LTE/dDoibWQifWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX3NpemV9c2V0IHNldENsaWNrT3V0KHQpe3RoaXMuY2xpY2tPdXQ9IiIhPT10JiZ6dih0KX1zZXQgaGlkZUNsb3NlKHQpe3RoaXMuX2hpZGVDbG9zZT16dih0KX1nZXQgaGlkZUNsb3NlKCl7cmV0dXJuIHRoaXMuX2hpZGVDbG9zZX1jbG9zZSh0PSExKXt0aGlzLmlzSGlkZGVuPSEwLHQmJnRoaXMub25YQ2xvc2VkLmVtaXQodCl9b3Blbigpe3RoaXMudmFsaWRQcmltYXJ5QWN0aW9uKCksdGhpcy5pc0hpZGRlbj0hMX12YWxpZFByaW1hcnlBY3Rpb24oKXt0aGlzLnByaW1hcnlBY3Rpb258fCh0aGlzLnByaW1hcnlBY3Rpb249e2FjdGlvbjooKT0+dGhpcy5jbG9zZSgpLGxhYmVsOnRoaXMubGl0ZXJhbHMuY2xvc2V9KSx0aGlzLnByaW1hcnlBY3Rpb24uYWN0aW9ufHwodGhpcy5wcmltYXJ5QWN0aW9uLmFjdGlvbj0oKT0+dGhpcy5jbG9zZSgpKSx0aGlzLnByaW1hcnlBY3Rpb24ubGFiZWx8fCh0aGlzLnByaW1hcnlBY3Rpb24ubGFiZWw9dGhpcy5saXRlcmFscy5jbG9zZSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhvKEt2KSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsaW5wdXRzOntzaXplOlsicC1zaXplIiwic2l6ZSJdLHNldENsaWNrT3V0OlsicC1jbGljay1vdXQiLCJzZXRDbGlja091dCJdLGhpZGVDbG9zZTpbInAtaGlkZS1jbG9zZSIsImhpZGVDbG9zZSJdLHByaW1hcnlBY3Rpb246WyJwLXByaW1hcnktYWN0aW9uIiwicHJpbWFyeUFjdGlvbiJdLHRpdGxlOlsicC10aXRsZSIsInRpdGxlIl0sc2Vjb25kYXJ5QWN0aW9uOlsicC1zZWNvbmRhcnktYWN0aW9uIiwic2Vjb25kYXJ5QWN0aW9uIl19fSksdH0pKCksemI9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuYWN0aXZlT3ZlcmxheT1bXX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgdH0sdG9rZW46dCxwcm92aWRlZEluOiJyb290In0pLHR9KSgpLHFiPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyAkYntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGUpLHRoaXMucG9BY3RpdmVPdmVybGF5U2VydmljZT10LHRoaXMuZm9jdXNhYmxlRWxlbWVudHM9ImlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCBhIix0aGlzLmlkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3JldHVybiBNYXRoLmZsb29yKDY1NTM2KigxK01hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpfXJldHVybiB0KCkrdCgpKyItIit0KCkrIi0iK3QoKSsiLSIrdCgpKyItIit0KCkrdCgpK3QoKX0oKX1jbG9zZSh0PSExKXt0aGlzLnBvQWN0aXZlT3ZlcmxheVNlcnZpY2UuYWN0aXZlT3ZlcmxheS5wb3AoKSxzdXBlci5jbG9zZSh0KSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCksdGhpcy5zb3VyY2VFbGVtZW50JiZ0aGlzLnNvdXJjZUVsZW1lbnQuZm9jdXMoKX1jbG9zZU1vZGFsT25Fc2NhcGVLZXkodCl7dGhpcy5oaWRlQ2xvc2V8fCh0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLmNsb3NlKCkpfWdldFByaW1hcnlBY3Rpb25CdXR0b25UeXBlKCl7cmV0dXJuIHRoaXMucHJpbWFyeUFjdGlvbi5kYW5nZXI/ImRhbmdlciI6InByaW1hcnkifWdldFNlY29uZGFyeUFjdGlvbkJ1dHRvblR5cGUoKXtyZXR1cm4gdGhpcy5zZWNvbmRhcnlBY3Rpb24mJnRoaXMuc2Vjb25kYXJ5QWN0aW9uLmRhbmdlciYmIXRoaXMucHJpbWFyeUFjdGlvbi5kYW5nZXI/ImRhbmdlciI6ImRlZmF1bHQifW9uQ2xpY2tPdXQodCl7dGhpcy5jbGlja091dCYmIXRoaXMubW9kYWxDb250ZW50Lm5hdGl2ZUVsZW1lbnQuY29udGFpbnModC50YXJnZXQpJiZ0aGlzLmNsb3NlKCl9b3Blbigpe3RoaXMuc291cmNlRWxlbWVudD1kb2N1bWVudC5hY3RpdmVFbGVtZW50LHN1cGVyLm9wZW4oKSx0aGlzLmhhbmRsZUZvY3VzKCl9aGFuZGxlRm9jdXMoKXt0aGlzLnBvQWN0aXZlT3ZlcmxheVNlcnZpY2UuYWN0aXZlT3ZlcmxheS5wdXNoKHRoaXMuaWQpLHNldFRpbWVvdXQoKCk9Pnt0aGlzLm1vZGFsQ29udGVudCYmKHRoaXMuaW5pdEZvY3VzKCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuZm9jdXNGdW5jdGlvbiwhMCkpfSl9aW5pdEZvY3VzKCl7dGhpcy5mb2N1c0Z1bmN0aW9uPXQ9Pnt0aGlzLm1vZGFsQ29udGVudC5uYXRpdmVFbGVtZW50LmNvbnRhaW5zKHQudGFyZ2V0KXx8dGhpcy5wb0FjdGl2ZU92ZXJsYXlTZXJ2aWNlLmFjdGl2ZU92ZXJsYXlbdGhpcy5wb0FjdGl2ZU92ZXJsYXlTZXJ2aWNlLmFjdGl2ZU92ZXJsYXkubGVuZ3RoLTFdIT09dGhpcy5pZHx8KHQuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5maXJzdEVsZW1lbnQuZm9jdXMoKSl9LHRoaXMuc2V0Rmlyc3RFbGVtZW50KCksdGhpcy5oaWRlQ2xvc2U/dGhpcy5maXJzdEVsZW1lbnQuZm9jdXMoKToodGhpcy5tb2RhbENvbnRlbnQubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuZm9jdXNhYmxlRWxlbWVudHMpWzFdfHx0aGlzLm1vZGFsQ29udGVudC5uYXRpdmVFbGVtZW50KS5mb2N1cygpfXJlbW92ZUV2ZW50TGlzdGVuZXJzKCl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuZm9jdXNGdW5jdGlvbiwhMCl9c2V0Rmlyc3RFbGVtZW50KCl7dGhpcy5maXJzdEVsZW1lbnQ9dGhpcy5tb2RhbENvbnRlbnQubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuZm9jdXNhYmxlRWxlbWVudHMpfHx0aGlzLm1vZGFsQ29udGVudC5uYXRpdmVFbGVtZW50fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShobyh6YiksaG8oS3YpKX0sdC5cdTAyNzVjbXA9SHQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8tbW9kYWwiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZWbChzdiw1LGJhKSwyJnQpe2xldCB0O01sKHQ9TmwoKSkmJihlLm1vZGFsQ29udGVudD10LmZpcnN0KX19LGZlYXR1cmVzOltLaV0sbmdDb250ZW50U2VsZWN0b3JzOlV5LGRlY2xzOjEsdmFyczoxLGNvbnN0czpbWyJjbGFzcyIsInBvLW1vZGFsIiwidGFiaW5kZXgiLCIwIiwzLCJrZXlkb3duLmVzYyIsNCwibmdJZiJdLFsidGFiaW5kZXgiLCIwIiwxLCJwby1tb2RhbCIsMywia2V5ZG93bi5lc2MiXSxbMSwicG8tbW9kYWwtb3ZlcmxheSJdLFsxLCJwby1tb2RhbC1jb250YWluZXIiLCJwby1wYi0yIiwicG8tcHQtMiIsMywibW91c2Vkb3duIl0sWzEsInBvLW1vZGFsLXZlcnRpY2FsLWFsaWduIl0sWyJ0YWJpbmRleCIsIi0xIl0sWyJtb2RhbENvbnRlbnQiLCIiXSxbMSwicG8tbW9kYWwtaGVhZGVyIl0sWzEsInBvLW1vZGFsLXRpdGxlIiwicG8tdGV4dC1lbGxpcHNpcyJdLFsiY2xhc3MiLCJwby1tb2RhbC1oZWFkZXItY2xvc2UtYnV0dG9uIiwidGFiaW5kZXgiLCIwIiwzLCJjbGljayIsNCwibmdJZiJdLFsxLCJwby1tb2RhbC1ib2R5Il0sWzEsInBvLW1vZGFsLWZvb3RlciJdLFszLCJwLWRpc2FibGVkIiwicC1sYWJlbCIsInAtbG9hZGluZyIsInAtdHlwZSIsInAtY2xpY2siLDQsIm5nSWYiXSxbMSwicG8tYnV0dG9uLW1vZGFsLWZpcnN0LWFjdGlvbiIsMywicC1kaXNhYmxlZCIsInAtbGFiZWwiLCJwLWxvYWRpbmciLCJwLXR5cGUiLCJwLWNsaWNrIl0sWyJ0YWJpbmRleCIsIjAiLDEsInBvLW1vZGFsLWhlYWRlci1jbG9zZS1idXR0b24iLDMsImNsaWNrIl0sWzEsInBvLWljb24iLCJwby1pY29uLWNsb3NlIl0sWzMsInAtZGlzYWJsZWQiLCJwLWxhYmVsIiwicC1sb2FkaW5nIiwicC10eXBlIiwicC1jbGljayJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKHhvKCksdW8oMCxhdiwxNSwxMCwiZGl2IiwwKSksMiZ0JiZwbygibmdJZiIsIWUuaXNIaWRkZW4pfSxkaXJlY3RpdmVzOlt0aCxkYl0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksV2I9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW2RoLHBiXV19KSx0fSkoKSxHYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbZGhdXX0pLHR9KSgpLFpiPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbemJdfSksdH0pKCksS2I9KCgpPT57Y2xhc3MgdHtnZXRDb2xvcih0KXtyZXR1cm4gT2JqZWN0LnZhbHVlcyh3YikuaW5jbHVkZXModC5jb2xvcik/dC5jb2xvcjp0aGlzLmdldENvbG9yRnJvbVR5cGUodC50eXBlfHx0LmNvbG9yKX1nZXRDb2xvckZyb21UeXBlKHQpe3N3aXRjaCh0KXtjYXNlImRhbmdlciI6cmV0dXJuIHdiLkNvbG9yMDc7Y2FzZSJzdWNjZXNzIjpyZXR1cm4gd2IuQ29sb3IxMTtjYXNlIndhcm5pbmciOnJldHVybiB3Yi5Db2xvcjA4O2RlZmF1bHQ6cmV0dXJuIHdiLkNvbG9yMDF9fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxZYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W0tiXX0pLHR9KSgpLFFiPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMuY29tcG9uZW50UmVzb2x2ZXI9dCx0aGlzLmFwcGxpY2F0aW9uUmVmPWUsdGhpcy5pbmplY3Rvcj1ufWNyZWF0ZUNvbXBvbmVudEluQXBwbGljYXRpb24odCl7Y29uc3QgZT10aGlzLmNvbXBvbmVudFJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHQpLmNyZWF0ZSh0aGlzLmluamVjdG9yKTtyZXR1cm4gdGhpcy5hcHBsaWNhdGlvblJlZi5hdHRhY2hWaWV3KGUuaG9zdFZpZXcpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZS5ob3N0Vmlldy5yb290Tm9kZXNbMF0pLGV9ZGVzdHJveUNvbXBvbmVudEluQXBwbGljYXRpb24odCl7dGhpcy5hcHBsaWNhdGlvblJlZi5kZXRhY2hWaWV3KHQuaG9zdFZpZXcpLHQuZGVzdHJveSgpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihnYSksYXIoT3UpLGFyKEdpKSl9LHQuXHUwMjc1cHJvdj1odCh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgdChhcihnYSksYXIoT3UpLGFyKFBpKSl9LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKSxYYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W1FiXSxpbXBvcnRzOltbXV19KSx0fSkoKSxKYj0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W2diXX0pLHR9KSgpO3ZhciB0Xz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkFsZXJ0PTBdPSJBbGVydCIsdFt0LkNvbmZpcm09MV09IkNvbmZpcm0iLHR9KHt9KTtjb25zdCBlXz17ZW46e29rOiJPayJ9LGVzOntvazoiT2sifSxwdDp7b2s6Ik9rIn0scnU6e29rOiJcdTA0MWVcdTA0M2EifX0sbl89e2VuOntjYW5jZWw6IkNhbmNlbCIsY29uZmlybToiQ29uZmlybSJ9LGVzOntjYW5jZWw6IkNhbmNlbGFyIixjb25maXJtOiJDb25maXJtYXIifSxwdDp7Y2FuY2VsOiJDYW5jZWxhciIsY29uZmlybToiQ29uZmlybWFyIn0scnU6e2NhbmNlbDoiXHUwNDNlXHUwNDQyXHUwNDNjXHUwNDM1XHUwNDNkXHUwNDM4XHUwNDQyXHUwNDRjIixjb25maXJtOiJcdTA0M2ZcdTA0M2VcdTA0MzRcdTA0NDJcdTA0MzJcdTA0MzVcdTA0NDBcdTA0MzRcdTA0MzhcdTA0NDJcdTA0NGMifX07bGV0IHJfPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IodCl7dGhpcy5wcmltYXJ5QWN0aW9uPXtsYWJlbDoib2siLGFjdGlvbjooKT0+e319LHRoaXMubGFuZ3VhZ2U9dC5nZXRTaG9ydExhbmd1YWdlKCl9bmdPbkRlc3Ryb3koKXt0aGlzLmNsb3NlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCl9bmdPbkluaXQoKXt0aGlzLmNsb3NlU3Vic2NyaXB0aW9uPXRoaXMucG9Nb2RhbC5vblhDbG9zZWQuc3Vic2NyaWJlKHQ9PnRoaXMuY2xvc2UoITApKX1jbG9zZSh0PSExKXt0JiZ0aGlzLmNsb3NlQWN0aW9uJiZ0aGlzLmNsb3NlQWN0aW9uKCksdGhpcy5wb01vZGFsLmNsb3NlKCksdGhpcy5kZXN0cm95KCl9ZGVzdHJveSgpe3RoaXMuY29tcG9uZW50UmVmJiZ0aGlzLmNvbXBvbmVudFJlZi5kZXN0cm95KCl9Y29uZmlnRGlhbG9nKHQsZSxuLHIscyl7dGhpcy5wcmltYXJ5QWN0aW9uPXtsYWJlbDp0LGFjdGlvbjooKT0+e2UmJmUoKSx0aGlzLmNsb3NlKCl9fSxuJiYodGhpcy5zZWNvbmRhcnlBY3Rpb249e2xhYmVsOm4sYWN0aW9uOigpPT57ciYmcigpLHRoaXMuY2xvc2UoKX19KSx0aGlzLmNsb3NlQWN0aW9uPXN9b3Blbih0LGUsbil7c3dpdGNoKHRoaXMudGl0bGU9dC50aXRsZSx0aGlzLm1lc3NhZ2U9dC5tZXNzYWdlLHRoaXMuY29tcG9uZW50UmVmPW4sdGhpcy5zZXREaWFsb2dMaXRlcmFscyh0LGUpLGUpe2Nhc2UgdF8uQ29uZmlybTp0aGlzLmNvbmZpZ0RpYWxvZyh0aGlzLmxpdGVyYWxzQ29uZmlybS5jb25maXJtLHQuY29uZmlybSx0aGlzLmxpdGVyYWxzQ29uZmlybS5jYW5jZWwsdC5jYW5jZWwsdC5jbG9zZSk7YnJlYWs7Y2FzZSB0Xy5BbGVydDp0aGlzLmNvbmZpZ0RpYWxvZyh0aGlzLmxpdGVyYWxzQWxlcnQub2ssdC5vayl9dGhpcy5wb01vZGFsLm9wZW4oKX1zZXREaWFsb2dMaXRlcmFscyh0LGUpe2NvbnN0IG49ZV8scj1uXyxzPXQubGl0ZXJhbHM7ZT09PXRfLkFsZXJ0P3RoaXMubGl0ZXJhbHNBbGVydD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuLnB0KSxuW3RoaXMubGFuZ3VhZ2VdKSxzKTp0aGlzLmxpdGVyYWxzQ29uZmlybT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyLnB0KSxyW3RoaXMubGFuZ3VhZ2VdKSxzKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaG8oS3YpKX0sdC5cdTAyNzVjbXA9SHQoe3R5cGU6dCxzZWxlY3RvcnM6W1sibmctY29tcG9uZW50Il1dLHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmVmwocWIsNyksMiZ0KXtsZXQgdDtNbCh0PU5sKCkpJiYoZS5wb01vZGFsPXQuZmlyc3QpfX0sZGVjbHM6Mix2YXJzOjQsY29uc3RzOltbMywicC10aXRsZSIsInAtcHJpbWFyeS1hY3Rpb24iLCJwLXNlY29uZGFyeS1hY3Rpb24iXSxbMywiaW5uZXJIdG1sIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoZ28oMCwicG8tbW9kYWwiLDApLHlvKDEsImRpdiIsMSksbW8oKSksMiZ0JiYocG8oInAtdGl0bGUiLGUudGl0bGUpKCJwLXByaW1hcnktYWN0aW9uIixlLnByaW1hcnlBY3Rpb24pKCJwLXNlY29uZGFyeS1hY3Rpb24iLGUuc2Vjb25kYXJ5QWN0aW9uKSxOcygxKSxwbygiaW5uZXJIdG1sIixlLm1lc3NhZ2UsSHIpKX0sZGlyZWN0aXZlczpbcWJdLGVuY2Fwc3VsYXRpb246Mn0pLHR9KSgpLHNfPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBjbGFzc3tjb25maXJtKHQpe3RoaXMub3BlbkRpYWxvZyh0Xy5Db25maXJtLHQpfWFsZXJ0KHQpe3RoaXMub3BlbkRpYWxvZyh0Xy5BbGVydCx0KX19e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5wb0NvbXBvbmVudEluamVjdG9yPXR9b3BlbkRpYWxvZyh0LGUpe2NvbnN0IG49dGhpcy5wb0NvbXBvbmVudEluamVjdG9yLmNyZWF0ZUNvbXBvbmVudEluQXBwbGljYXRpb24ocl8pO24uY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpLG4uaW5zdGFuY2Uub3BlbihlLHQsbil9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKFFiKSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksaV89KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltzX10saW1wb3J0czpbW1diXV19KSx0fSkoKTt2YXIgb189ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5Cb3R0b209MF09IkJvdHRvbSIsdFt0LlRvcD0xXT0iVG9wIix0fSh7fSksYV89ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5FcnJvcj0wXT0iRXJyb3IiLHRbdC5JbmZvcm1hdGlvbj0xXT0iSW5mb3JtYXRpb24iLHRbdC5TdWNjZXNzPTJdPSJTdWNjZXNzIix0W3QuV2FybmluZz0zXT0iV2FybmluZyIsdH0oe30pO2xldCBsXz0oKCk9PntjbGFzcyB0IGV4dGVuZHMgY2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLm9yaWVudGF0aW9uPW9fLkJvdHRvbX19e2NvbnN0cnVjdG9yKHQsZSxuLHIpe3N1cGVyKCksdGhpcy5jaGFuZ2VEZXRlY3Rvcj1lLHRoaXMuZWxlbWVudGVSZWY9bix0aGlzLnJlbmRlcmVyPXIsdGhpcy5hbGl2ZT0hMCx0aGlzLm1hcmdpbj0yMCx0aGlzLm9ic2VydmFibGVPbkNsb3NlPW5ldyBFLHRoaXMudG9hc3RlclBvc2l0aW9uPSJwby10b2FzdGVyLWJvdHRvbSJ9bmdPbkRlc3Ryb3koKXt0aGlzLmFsaXZlPSExfW5nQWZ0ZXJWaWV3SW5pdCgpe3NldFRpbWVvdXQoKCk9PnRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy50b2FzdGVyLm5hdGl2ZUVsZW1lbnQsInBvLXRvYXN0ZXItdmlzaWJsZSIpKX1jaGFuZ2VQb3NpdGlvbih0KXt0aGlzLmVsZW1lbnRlUmVmLm5hdGl2ZUVsZW1lbnQuc3R5bGUuZGlzcGxheT0idGFibGUiLHRoaXMubWFyZ2luPTYrNDQqdCs2KnQsdGhpcy5vcmllbnRhdGlvbj09PW9fLlRvcD90aGlzLnRvYXN0ZXIubmF0aXZlRWxlbWVudC5zdHlsZS50b3A9dGhpcy5tYXJnaW4rInB4Ijp0aGlzLnRvYXN0ZXIubmF0aXZlRWxlbWVudC5zdHlsZS5ib3R0b209dGhpcy5tYXJnaW4rInB4In1jbG9zZSgpe3RoaXMub2JzZXJ2YWJsZU9uQ2xvc2UubmV4dCghMCl9c2V0RmFkZU91dCgpe3RoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy50b2FzdGVyLm5hdGl2ZUVsZW1lbnQsInBvLXRvYXN0ZXItdmlzaWJsZSIpLHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy50b2FzdGVyLm5hdGl2ZUVsZW1lbnQsInBvLXRvYXN0ZXItaW52aXNpYmxlIil9Y29uZmlnVG9hc3Rlcih0KXtzd2l0Y2godGhpcy50eXBlPXQudHlwZSx0aGlzLm1lc3NhZ2U9dC5tZXNzYWdlLHRoaXMub3JpZW50YXRpb249dC5vcmllbnRhdGlvbix0aGlzLnBvc2l0aW9uPXQucG9zaXRpb24sdGhpcy5hY3Rpb249dC5hY3Rpb24sdGhpcy5hY3Rpb25MYWJlbD10LmFjdGlvbkxhYmVsLHRoaXMuY29tcG9uZW50UmVmPXQuY29tcG9uZW50UmVmLHRoaXMub3JpZW50YXRpb249PT1vXy5Ub3AmJih0aGlzLnRvYXN0ZXJQb3NpdGlvbj0icG8tdG9hc3Rlci10b3AiKSx0aGlzLmNoYW5nZVBvc2l0aW9uKHRoaXMucG9zaXRpb24pLHRoaXMudHlwZSl7Y2FzZSBhXy5FcnJvcjp0aGlzLnRvYXN0ZXJUeXBlPSJwby10b2FzdGVyLWVycm9yIix0aGlzLmljb249InBvLWljb24td2FybmluZyI7YnJlYWs7Y2FzZSBhXy5JbmZvcm1hdGlvbjp0aGlzLnRvYXN0ZXJUeXBlPSJwby10b2FzdGVyLWluZm8iLHRoaXMuaWNvbj0icG8taWNvbi1pbmZvIjticmVhaztjYXNlIGFfLlN1Y2Nlc3M6dGhpcy50b2FzdGVyVHlwZT0icG8tdG9hc3Rlci1zdWNjZXNzIix0aGlzLmljb249InBvLWljb24tb2siO2JyZWFrO2Nhc2UgYV8uV2FybmluZzp0aGlzLnRvYXN0ZXJUeXBlPSJwby10b2FzdGVyLXdhcm5pbmciLHRoaXMuaWNvbj0icG8taWNvbi13YXJuaW5nIn10aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKX1nZXRJY29uKCl7cmV0dXJuIHRoaXMuaWNvbn1nZXRUb2FzdGVyUG9zaXRpb24oKXtyZXR1cm4gdGhpcy50b2FzdGVyUG9zaXRpb259Z2V0VG9hc3RlclR5cGUoKXtyZXR1cm4gdGhpcy50b2FzdGVyVHlwZX1vbkJ1dHRvbkNsb3NlKHQpe3QucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuYWN0aW9uJiYhdGhpcy5hY3Rpb25MYWJlbD90aGlzLnBvVG9hc3RlckFjdGlvbih0KTp0aGlzLmNsb3NlKCl9cG9Ub2FzdGVyQWN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuYWN0aW9uKHRoaXMpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShobyhLdiksaG8ocWEpLGhvKGJhKSxobyhDYSkpfSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby10b2FzdGVyIl1dLHZpZXdRdWVyeTpmdW5jdGlvbih0LGUpe2lmKDEmdCYmVmwobHYsNSksMiZ0KXtsZXQgdDtNbCh0PU5sKCkpJiYoZS50b2FzdGVyPXQuZmlyc3QpfX0sZmVhdHVyZXM6W0tpXSxkZWNsczo5LHZhcnM6OSxjb25zdHM6W1szLCJjbGljayJdLFsidG9hc3RlciIsIiJdLFsxLCJwby10b2FzdGVyLWljb24iXSxbMSwicG8tdG9hc3Rlci1tZXNzYWdlIl0sWyJjbGFzcyIsInBvLXRvYXN0ZXItYWN0aW9uIiwzLCJjbGljayIsNCwibmdJZiJdLFsxLCJwby10b2FzdGVyLWNsb3NlIiwzLCJjbGljayJdLFsxLCJwby1pY29uIiwicG8taWNvbi1jbG9zZSJdLFsxLCJwby10b2FzdGVyLWFjdGlvbiIsMywiY2xpY2siXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbixyOzEmdCYmKGdvKDAsImRpdiIsMCwxKSxDbygiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIGUuY2xvc2UoKX0pLGdvKDIsImRpdiIsMikseW8oMywic3BhbiIpLG1vKCksZ28oNCwiZGl2IiwzKSxXbyg1KSxtbygpLHVvKDYsdXYsMiwxLCJkaXYiLDQpLGdvKDcsImJ1dHRvbiIsNSksQ28oImNsaWNrIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbkJ1dHRvbkNsb3NlKHQpfSkseW8oOCwic3BhbiIsNiksbW8oKSxtbygpKSwyJnQmJigicG8tdG9hc3RlciAiLG49ZS5nZXRUb2FzdGVyVHlwZSgpLCIgIixyPWUuZ2V0VG9hc3RlclBvc2l0aW9uKCksIiBwby1jbGlja2FibGUiLGpvKFFuLFZvLGZ1bmN0aW9uKHQsZSxuLHIscyxpKXtjb25zdCBvPW9vKHQseGUubEZyYW1lLmJpbmRpbmdJbmRleCxuLHMpO3JldHVybiBVZSgyKSxvP2UrbHQobikrcitsdChzKStpOmpzfShUZSgpLCJwby10b2FzdGVyICIsbiwiICIsciwiIHBvLWNsaWNrYWJsZSIpLCEwKSxOcygzKSxLbygicG8taWNvbiAiLGUuZ2V0SWNvbigpLCIiKSxOcygyKSxHbyhlLm1lc3NhZ2UpLE5zKDEpLHBvKCJuZ0lmIixlLmFjdGlvbiYmZS5hY3Rpb25MYWJlbCkpfSxkaXJlY3RpdmVzOlt0aF0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksdV89KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tkaF1dfSksdH0pKCksY189KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1taYixZYixYYixKYixiYixpXyxpYix1X10sWmIsWWIsWGIsSmIsYmIsaV8sdV9dfSksdH0pKCksaF89KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW2RoXV19KSx0fSkoKSxkXz0oKCk9PntjbGFzcyB0e3RyYW5zZm9ybSh0LGUpe2lmKCJzdHJpbmciPT10eXBlb2YgdCYmL14oKFswLTFdWzAtOV0pfCgyWzAtM10pKTpbMC01XVswLTldOlswLTVdWzAtOV1bXC5dPyhbMC05XXsxLDZ9KT8kL2cudGVzdCh0KSl7Y29uc3Qgbj1lP2UubGFzdEluZGV4T2YoImYiKS1lLmluZGV4T2YoImYiKSsxOjAscj10aGlzLmFkZERvdE1pbGlzZWNvbmRzKHQuc3Vic3RyaW5nKDksOStuKSxuKSxzPXRoaXMuZ2V0Rm9ybWF0TWlsaXNlY29uZHMobik7cmV0dXJuIHRoaXMuZm9ybWF0VmFsdWUodCxlLHMscil9cmV0dXJuIG51bGx9YWRkRG90TWlsaXNlY29uZHModCxlKXtyZXR1cm4gdCYmZSYmKHQ9Ii4iK3QpLHR9Zm9ybWF0VmFsdWUodCxlLG4scil7aWYodCYmZSl7Y29uc3Qgcz10LnN1YnN0cmluZygwLDIpLGk9dC5zdWJzdHJpbmcoMyw1KSxvPXQuc3Vic3RyaW5nKDYsOCk7cmV0dXJuKGU9KGU9KGU9ZS5yZXBsYWNlKCJISCIscykpLnJlcGxhY2UoIm1tIixpKSkucmVwbGFjZSgic3MiLG8pKS5yZXBsYWNlKGAuJHtufWAscil9cmV0dXJuIHR9Z2V0Rm9ybWF0TWlsaXNlY29uZHModCl7bGV0IGU9IiI7Zm9yKGxldCBuPTA7bjx0O24rKyllKz0iZiI7cmV0dXJuIGV9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXBpcGU9S3Qoe25hbWU6InBvX3RpbWUiLHR5cGU6dCxwdXJlOiEwfSksdH0pKCkscF89KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tdXX0pLHR9KSgpLGZfPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbbGhdLGltcG9ydHM6W1tkaCxncCxZbSxwYixWYixFYixvYixXYixoXyxUYixwXyxtYixYdl1dfSksdH0pKCk7dmFyIGdfPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuYXJyb3dEb3duPTQwXT0iYXJyb3dEb3duIix0W3QuYXJyb3dVcD0zOF09ImFycm93VXAiLHRbdC5iYWNrc3BhY2U9OF09ImJhY2tzcGFjZSIsdFt0LmRlbGV0ZT00Nl09ImRlbGV0ZSIsdFt0LmVudGVyPTEzXT0iZW50ZXIiLHRbdC5lc2M9MjddPSJlc2MiLHRbdC5rZXlLPTc1XT0ia2V5SyIsdFt0LmtleUw9NzZdPSJrZXlMIix0W3Quc3BhY2U9MzJdPSJzcGFjZSIsdFt0LnRhYj05XT0idGFiIix0fSh7fSk7bGV0IG1fPSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmF1dG9Gb2N1cz0hMSx0aGlzLmVycm9yUGF0dGVybj0iIix0aGlzLmJsdXI9bmV3IEVsLHRoaXMuZW50ZXI9bmV3IEVsLHRoaXMuY2hhbmdlPW5ldyBFbCx0aGlzLmNoYW5nZU1vZGVsPW5ldyBFbCx0aGlzLm9uQ2hhbmdlUHJvcGFnYXRlPW51bGwsdGhpcy5vblRvdWNoZWQ9bnVsbCx0aGlzLnBhc3NlZFdyaXRlVmFsdWU9ITEsdGhpcy5fbm9BdXRvY29tcGxldGU9ITEsdGhpcy5fcGxhY2Vob2xkZXI9IiIsdGhpcy5kaXNhYmxlZD0hMSx0aGlzLnJlYWRvbmx5PSExLHRoaXMucmVxdWlyZWQ9ITEsdGhpcy5jbGVhbj0hMSx0aGlzLm1hc2s9IiIsdGhpcy5tYXNrRm9ybWF0TW9kZWw9ITF9c2V0IG5vQXV0b2NvbXBsZXRlKHQpe3RoaXMuX25vQXV0b2NvbXBsZXRlPXp2KHQpfWdldCBub0F1dG9jb21wbGV0ZSgpe3JldHVybiB0aGlzLl9ub0F1dG9jb21wbGV0ZX1zZXQgcGxhY2Vob2xkZXIodCl7dGhpcy5fcGxhY2Vob2xkZXI9dHx8IiJ9Z2V0IHBsYWNlaG9sZGVyKCl7cmV0dXJuIHRoaXMuX3BsYWNlaG9sZGVyfXNldCBzZXREaXNhYmxlZCh0KXt0aGlzLmRpc2FibGVkPSIiPT09dHx8enYodCksdGhpcy52YWxpZGF0ZU1vZGVsKCl9c2V0IHNldFJlYWRvbmx5KHQpe3RoaXMucmVhZG9ubHk9IiI9PT10fHx6dih0KX1zZXQgc2V0UmVxdWlyZWQodCl7dGhpcy5yZXF1aXJlZD0iIj09PXR8fHp2KHQpLHRoaXMudmFsaWRhdGVNb2RlbCgpfXNldCBzZXRDbGVhbih0KXt0aGlzLmNsZWFuPSIiPT09dHx8enYodCl9c2V0IHNldFBhdHRlcm4odCl7dGhpcy5wYXR0ZXJuPXQsdGhpcy52YWxpZGF0ZU1vZGVsKCl9c2V0IG1heGxlbmd0aCh0KXtpc05hTihwYXJzZUludCh0LDEwKSk/dHx8KHRoaXMuX21heGxlbmd0aD12b2lkIDAsdGhpcy52YWxpZGF0ZU1vZGVsKCkpOih0aGlzLl9tYXhsZW5ndGg9cGFyc2VJbnQodCwxMCksdGhpcy52YWxpZGF0ZU1vZGVsKCkpfWdldCBtYXhsZW5ndGgoKXtyZXR1cm4gdGhpcy5fbWF4bGVuZ3RofXNldCBtaW5sZW5ndGgodCl7aXNOYU4ocGFyc2VJbnQodCwxMCkpP3R8fCh0aGlzLl9taW5sZW5ndGg9dm9pZCAwLHRoaXMudmFsaWRhdGVNb2RlbCgpKToodGhpcy5fbWlubGVuZ3RoPXBhcnNlSW50KHQsMTApLHRoaXMudmFsaWRhdGVNb2RlbCgpKX1nZXQgbWlubGVuZ3RoKCl7cmV0dXJuIHRoaXMuX21pbmxlbmd0aH1zZXQgc2V0TWFzayh0KXt0aGlzLm1hc2s9dCx0aGlzLm9iak1hc2s9bmV3IEJiKHRoaXMubWFzayx0aGlzLm1hc2tGb3JtYXRNb2RlbCl9c2V0IHNldE1hc2tGb3JtYXRNb2RlbCh0KXt0aGlzLm1hc2tGb3JtYXRNb2RlbD0iIj09PXR8fHp2KHQpLHRoaXMub2JqTWFzayBpbnN0YW5jZW9mIEJiJiYodGhpcy5vYmpNYXNrLmZvcm1hdE1vZGVsPXRoaXMubWFza0Zvcm1hdE1vZGVsLHRoaXMudmFsaWRhdGVNb2RlbCgpKX1jYWxsT25DaGFuZ2UodCl7dGhpcy51cGRhdGVNb2RlbCh0KSx0aGlzLmNvbnRyb2xDaGFuZ2VNb2RlbEVtaXR0ZXIodCl9Y2FsbFVwZGF0ZU1vZGVsV2l0aFRpbWVvdXQodCl7c2V0VGltZW91dCgoKT0+dGhpcy51cGRhdGVNb2RlbCh0KSl9Y29udHJvbENoYW5nZU1vZGVsRW1pdHRlcih0KXt0aGlzLm1vZGVsTGFzdFVwZGF0ZSE9PXQmJih0aGlzLmNoYW5nZU1vZGVsLmVtaXQodCksdGhpcy5tb2RlbExhc3RVcGRhdGU9dCl9c2V0RGlzYWJsZWRTdGF0ZSh0KXt0aGlzLmRpc2FibGVkPXR9cmVnaXN0ZXJPbkNoYW5nZSh0KXt0aGlzLm9uQ2hhbmdlUHJvcGFnYXRlPXR9cmVnaXN0ZXJPblRvdWNoZWQodCl7dGhpcy5vblRvdWNoZWQ9dH1yZWdpc3Rlck9uVmFsaWRhdG9yQ2hhbmdlKHQpe3RoaXMudmFsaWRhdG9yQ2hhbmdlPXR9dXBkYXRlTW9kZWwodCl7dGhpcy5vbkNoYW5nZVByb3BhZ2F0ZSYmdGhpcy5vbkNoYW5nZVByb3BhZ2F0ZSh0KX12YWxpZGF0ZSh0KXtyZXR1cm4gTWIodGhpcy5yZXF1aXJlZCx0aGlzLmRpc2FibGVkLHRoaXMuZ2V0U2NyZWVuVmFsdWUoKSk/e3JlcXVpcmVkOnt2YWxpZDohMX19OmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10fHwwPT09dCxyPShlfHwwPT09ZSkmJmUudG9TdHJpbmcoKTtyZXR1cm4gbiYmciYmci5sZW5ndGg+TnVtYmVyKHQpfSh0aGlzLm1heGxlbmd0aCx0aGlzLmdldFNjcmVlblZhbHVlKCkpP3ttYXhsZW5ndGg6e3ZhbGlkOiExfX06ZnVuY3Rpb24odCxlKXtjb25zdCBuPXR8fDA9PT10LHI9KGV8fDA9PT1lKSYmZS50b1N0cmluZygpO3JldHVybiBuJiZyJiZyLmxlbmd0aDxOdW1iZXIodCl9KHRoaXMubWlubGVuZ3RoLHRoaXMuZ2V0U2NyZWVuVmFsdWUoKSk/e21pbmxlbmd0aDp7dmFsaWQ6ITF9fTpmdW5jdGlvbih0LGUpe2xldCBuO3RyeXtuPW5ldyBSZWdFeHAodCl9Y2F0Y2gocil7cmV0dXJuITB9cmV0dXJuIHQmJmUmJiFuLnRlc3QoZSl9KHRoaXMucGF0dGVybix0LnZhbHVlKT8odGhpcy52YWxpZGF0ZVBhdHRlcm5PbldyaXRlVmFsdWUodC52YWx1ZSkse3BhdHRlcm46e3ZhbGlkOiExfX0pOnRoaXMuZXh0cmFWYWxpZGF0aW9uKHQpfXdyaXRlVmFsdWUodCl7dGhpcy53cml0ZVZhbHVlTW9kZWwodCl9dmFsaWRhdGVNb2RlbCgpe3RoaXMudmFsaWRhdG9yQ2hhbmdlJiZ0aGlzLnZhbGlkYXRvckNoYW5nZSgpfXZhbGlkYXRlUGF0dGVybk9uV3JpdGVWYWx1ZSh0KXt0JiZ0aGlzLnBhc3NlZFdyaXRlVmFsdWUmJihzZXRUaW1lb3V0KCgpPT57dGhpcy51cGRhdGVNb2RlbCh0KX0pLHRoaXMucGFzc2VkV3JpdGVWYWx1ZT0hMSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0LGlucHV0czp7YXV0b0ZvY3VzOlsicC1hdXRvLWZvY3VzIiwiYXV0b0ZvY3VzIl0sZXJyb3JQYXR0ZXJuOlsicC1lcnJvci1wYXR0ZXJuIiwiZXJyb3JQYXR0ZXJuIl0sbm9BdXRvY29tcGxldGU6WyJwLW5vLWF1dG9jb21wbGV0ZSIsIm5vQXV0b2NvbXBsZXRlIl0scGxhY2Vob2xkZXI6WyJwLXBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXIiXSxzZXREaXNhYmxlZDpbInAtZGlzYWJsZWQiLCJzZXREaXNhYmxlZCJdLHNldFJlYWRvbmx5OlsicC1yZWFkb25seSIsInNldFJlYWRvbmx5Il0sc2V0UmVxdWlyZWQ6WyJwLXJlcXVpcmVkIiwic2V0UmVxdWlyZWQiXSxzZXRDbGVhbjpbInAtY2xlYW4iLCJzZXRDbGVhbiJdLHNldFBhdHRlcm46WyJwLXBhdHRlcm4iLCJzZXRQYXR0ZXJuIl0sbWF4bGVuZ3RoOlsicC1tYXhsZW5ndGgiLCJtYXhsZW5ndGgiXSxtaW5sZW5ndGg6WyJwLW1pbmxlbmd0aCIsIm1pbmxlbmd0aCJdLHNldE1hc2s6WyJwLW1hc2siLCJzZXRNYXNrIl0sc2V0TWFza0Zvcm1hdE1vZGVsOlsicC1tYXNrLWZvcm1hdC1tb2RlbCIsInNldE1hc2tGb3JtYXRNb2RlbCJdLGljb246WyJwLWljb24iLCJpY29uIl0sbGFiZWw6WyJwLWxhYmVsIiwibGFiZWwiXSxoZWxwOlsicC1oZWxwIiwiaGVscCJdLG5hbWU6Im5hbWUiLG9wdGlvbmFsOlsicC1vcHRpb25hbCIsIm9wdGlvbmFsIl19LG91dHB1dHM6e2JsdXI6InAtYmx1ciIsZW50ZXI6InAtZW50ZXIiLGNoYW5nZToicC1jaGFuZ2UiLGNoYW5nZU1vZGVsOiJwLWNoYW5nZS1tb2RlbCJ9fSksankoW3ViKCldLHQucHJvdG90eXBlLCJhdXRvRm9jdXMiLHZvaWQgMCksdH0pKCkseV89KCgpPT57Y2xhc3MgdCBleHRlbmRzIG1fe2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy50eXBlPSJ0ZXh0Iix0aGlzLmVsPXR9Z2V0IGF1dG9jb21wbGV0ZSgpe3JldHVybiB0aGlzLm5vQXV0b2NvbXBsZXRlPyJvZmYiOiJvbiJ9b25LZXlkb3duKHQpe3RoaXMubWFzayYmIXRoaXMucmVhZG9ubHkmJjIyOSE9PXQudGFyZ2V0LmtleUNvZGUmJih0aGlzLmV2ZW50T25CbHVyKHQpLHRoaXMub2JqTWFzay5rZXlkb3duKHQpKX1vbktleXVwKHQpe3RoaXMubWFzayYmIXRoaXMucmVhZG9ubHkmJigyMjkhPT10LnRhcmdldC5rZXlDb2RlJiYodGhpcy5ldmVudE9uQmx1cih0KSx0aGlzLm9iak1hc2sua2V5dXAodCkpLHRoaXMuY2FsbE9uQ2hhbmdlKHRoaXMub2JqTWFzay52YWx1ZVRvTW9kZWwpKX1uZ0FmdGVyVmlld0luaXQoKXt0aGlzLmFmdGVyVmlld0luaXQoKX1hZnRlclZpZXdJbml0KCl7dGhpcy52ZXJpZnlBdXRvRm9jdXMoKSwicGFzc3dvcmQiIT09dGhpcy50eXBlJiZ0aGlzLnNldFBhZGRpbmdJbnB1dCgpfWZvY3VzKCl7dGhpcy5kaXNhYmxlZHx8dGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQuZm9jdXMoKX1zZXRQYWRkaW5nSW5wdXQoKXtzZXRUaW1lb3V0KCgpPT57bGV0IHQ9dGhpcy5lbC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5wby1maWVsZC1pY29uLWNvbnRhaW5lcjpub3QoLnBvLWZpZWxkLWljb24tY29udGFpbmVyLWxlZnQpID4gLnBvLWljb24iKS5sZW5ndGg7dGhpcy5jbGVhbiYmdCsrLHQmJih0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQ9MzYqdCsicHgiKX0pfXZlcmlmeUF1dG9Gb2N1cygpe3RoaXMuYXV0b0ZvY3VzJiZ0aGlzLmZvY3VzKCl9ZXZlbnRPbklucHV0KHQpe2xldCBlPSIiO3RoaXMubWFzaz8odGhpcy5vYmpNYXNrLmJsdXIodCksdGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWU9dGhpcy5vYmpNYXNrLnZhbHVlVG9JbnB1dCxlPXRoaXMub2JqTWFzay52YWx1ZVRvTW9kZWwpOihlPXRoaXMudmFsaWRNYXhMZW5ndGgodGhpcy5tYXhsZW5ndGgsdC50YXJnZXQudmFsdWUpLHRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlPWUpLHRoaXMuY2FsbE9uQ2hhbmdlKGUpfXZhbGlkTWF4TGVuZ3RoKHQsZSl7cmV0dXJuKHR8fDA9PT10KSYmZS5sZW5ndGg+dD9lLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsdCk6ZX1ldmVudE9uRm9jdXModCl7dGhpcy52YWx1ZUJlZm9yZUNoYW5nZT10aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZSx0aGlzLmVudGVyLmVtaXQoKX1ldmVudE9uQmx1cih0KXt2YXIgZTtudWxsPT09KGU9dGhpcy5vblRvdWNoZWQpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyksdGhpcy5tYXNrJiZ0aGlzLm9iak1hc2suYmx1cih0KSwiYmx1ciI9PT10LnR5cGUmJih0aGlzLmJsdXIuZW1pdCgpLHRoaXMuY29udHJvbENoYW5nZUVtaXR0ZXIoKSl9Y29udHJvbENoYW5nZUVtaXR0ZXIoKXtjb25zdCB0PXRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlO3QhPT10aGlzLnZhbHVlQmVmb3JlQ2hhbmdlJiYoY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dENoYW5nZSksdGhpcy50aW1lb3V0Q2hhbmdlPXNldFRpbWVvdXQoKCk9Pnt0aGlzLmNoYW5nZS5lbWl0KHQpfSwyMDApKX1ldmVudE9uQ2xpY2sodCl7dGhpcy5tYXNrJiZ0aGlzLm9iak1hc2suY2xpY2sodCl9aGFzSW52YWxpZENsYXNzKCl7cmV0dXJuIHRoaXMuZWwubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoIm5nLWludmFsaWQiKSYmdGhpcy5lbC5uYXRpdmVFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygibmctZGlydHkiKSYmIiIhPT10aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZX1nZXRFcnJvclBhdHRlcm4oKXtyZXR1cm4iIiE9PXRoaXMuZXJyb3JQYXR0ZXJuJiZ0aGlzLmhhc0ludmFsaWRDbGFzcygpP3RoaXMuZXJyb3JQYXR0ZXJuOiIifXZhbGlkYXRlQ2xhc3Nlc0ZvclBhdHRlcm4oKXtjb25zdCB0PXRoaXMuZ2V0U2NyZWVuVmFsdWUoKSxlPXRoaXMuZWwubmF0aXZlRWxlbWVudDt0JiYhdGhpcy52ZXJpZnlQYXR0ZXJuKHRoaXMucGF0dGVybix0KT8oZS5jbGFzc0xpc3QuYWRkKCJuZy1pbnZhbGlkIiksZS5jbGFzc0xpc3QuYWRkKCJuZy1kaXJ0eSIpKTplLmNsYXNzTGlzdC5yZW1vdmUoIm5nLWludmFsaWQiKX12ZXJpZnlQYXR0ZXJuKHQsZSl7cmV0dXJuIG5ldyBSZWdFeHAodCkudGVzdChlKX1jbGVhcih0KXt0aGlzLmNhbGxPbkNoYW5nZSh0KSx0aGlzLmNvbnRyb2xDaGFuZ2VFbWl0dGVyKCl9d3JpdGVWYWx1ZU1vZGVsKHQpe3RoaXMucGFzc2VkV3JpdGVWYWx1ZT0hMCx0aGlzLmlucHV0RWwmJih0P3RoaXMubWFzaz8odGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWU9dGhpcy5vYmpNYXNrLmNvbnRyb2xGb3JtYXR0aW5nKFN0cmluZyh0KSksdGhpcy5vYmpNYXNrLmZvcm1hdE1vZGVsJiZ0aGlzLmNhbGxVcGRhdGVNb2RlbFdpdGhUaW1lb3V0KHRoaXMub2JqTWFzay52YWx1ZVRvTW9kZWwpKTp0aGlzLmlucHV0RWwubmF0aXZlRWxlbWVudC52YWx1ZT10OnRoaXMuaW5wdXRFbC5uYXRpdmVFbGVtZW50LnZhbHVlPSIiKSx0JiZ0aGlzLmNoYW5nZU1vZGVsLmVtaXQodCl9Z2V0U2NyZWVuVmFsdWUoKXtjb25zdCB0PXRoaXMuaW5wdXRFbCYmdGhpcy5pbnB1dEVsLm5hdGl2ZUVsZW1lbnQudmFsdWV8fHZvaWQgMDtpZigibnVtYmVyIj09PXRoaXMudHlwZSl7Y29uc3QgZT1wYXJzZUZsb2F0KHQpO3JldHVybiBlfHwwPT09ZT9lOm51bGx9cmV0dXJuIHR9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhvKGJhKSl9LHQuXHUwMjc1ZGlyPVp0KHt0eXBlOnQsdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZWbChydiw3LGJhKSwyJnQpe2xldCB0O01sKHQ9TmwoKSkmJihlLmlucHV0RWw9dC5maXJzdCl9fSxob3N0QmluZGluZ3M6ZnVuY3Rpb24odCxlKXsxJnQmJkNvKCJrZXlkb3duIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbktleWRvd24odCl9KSgia2V5dXAiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uS2V5dXAodCl9KX0sZmVhdHVyZXM6W0tpXX0pLHR9KSgpO2NsYXNzIHZfe2NvbnN0cnVjdG9yKHQpe3RoaXMuaHR0cD10fWV4ZWN1dGUodCxlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/dGhpcy5wb3N0KHQsZSk6bmQodChlKSl9cG9zdCh0LGUpe3JldHVybiB0aGlzLmh0dHAucG9zdCh0LGUpfXNldEZvcm1EZWZhdWx0SWZFbXB0eSh0KXtyZXR1cm4gdHx8e3ZhbHVlOnt9LGZpZWxkczpbXSxmb2N1czp2b2lkIDB9fX1sZXQgYl89KCgpPT57Y2xhc3MgdCBleHRlbmRzIHZfe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWNyZWF0ZUFuZFVwZGF0ZUZpZWxkc0Zvcm0odD1bXSxlPVtdKXtyZXR1cm5bLi4udF0ucmVkdWNlKCh0LG4pPT57Y29uc3Qgcj10LmZpbmRJbmRleCh0PT50LnByb3BlcnR5PT09bi5wcm9wZXJ0eSk7cmV0dXJuIHI+PTA/dFtyXT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZVtyXSksbik6dC5wdXNoKG4pLHR9LFsuLi5lXSl9ZXhlY3V0ZUxvYWQodCxlKXtyZXR1cm4gdGhpcy5leGVjdXRlKHQsZSkucGlwZShTKHQ9PnRoaXMuc2V0Rm9ybURlZmF1bHRJZkVtcHR5KHQpKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKEV5KSl9LHQuXHUwMjc1cHJvdj1odCh7dG9rZW46dCxmYWN0b3J5OnQuXHUwMjc1ZmFjfSksdH0pKCksX189KCgpPT57Y2xhc3MgdCBleHRlbmRzIHZfe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfXNlbmRGaWVsZENoYW5nZSh0LGUpe3JldHVybiB0aGlzLmV4ZWN1dGUodC52YWxpZGF0ZSx7cHJvcGVydHk6dC5wcm9wZXJ0eSx2YWx1ZTplfSkucGlwZShTKHQ9PnRoaXMuc2V0RmllbGREZWZhdWx0SWZFbXB0eSh0KSkpfXNlbmRGb3JtQ2hhbmdlKHQsZSxuKXtyZXR1cm4gdGhpcy5leGVjdXRlKHQse3Byb3BlcnR5OmUucHJvcGVydHksdmFsdWU6bn0pLnBpcGUoUyh0PT50aGlzLnNldEZvcm1EZWZhdWx0SWZFbXB0eSh0KSkpfXVwZGF0ZUZpZWxkc0Zvcm0odD1bXSxlPVtdKXtyZXR1cm5bLi4udF0ucmVkdWNlKCh0LG4pPT57Y29uc3Qgcj10LmZpbmRJbmRleCh0PT50LnByb3BlcnR5PT09bi5wcm9wZXJ0eSk7cmV0dXJuIHI+PTAmJih0W3JdPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlW3JdKSxuKSksdH0sWy4uLmVdKX1zZXRGaWVsZERlZmF1bHRJZkVtcHR5KHQpe3JldHVybiB0fHx7ZmllbGQ6e319fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihFeSkpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLHdfPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyB5X3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1leHRyYVZhbGlkYXRpb24odCl7cmV0dXJuIG51bGx9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhvKGJhKSl9LHQuXHUwMjc1Y21wPUh0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLWlucHV0Il1dLGZlYXR1cmVzOltkYShbe3Byb3ZpZGU6Q2QsdXNlRXhpc3Rpbmc6c3QoKCk9PnQpLG11bHRpOiEwfSx7cHJvdmlkZTpTZCx1c2VFeGlzdGluZzpzdCgoKT0+dCksbXVsdGk6ITB9XSksS2ldLGRlY2xzOjgsdmFyczoxNyxjb25zdHM6W1szLCJwLWhlbHAiLCJwLWxhYmVsIiwicC1vcHRpb25hbCJdLFsxLCJwby1maWVsZC1jb250YWluZXItY29udGVudCJdLFsiY2xhc3MiLCJwby1maWVsZC1pY29uLWNvbnRhaW5lci1sZWZ0Iiw0LCJuZ0lmIl0sWzEsInBvLWlucHV0IiwzLCJhdXRvY29tcGxldGUiLCJkaXNhYmxlZCIsInBsYWNlaG9sZGVyIiwicmVhZG9ubHkiLCJyZXF1aXJlZCIsInR5cGUiLCJibHVyIiwiY2xpY2siLCJmb2N1cyIsImlucHV0Il0sWyJpbnAiLCIiXSxbMSwicG8tZmllbGQtaWNvbi1jb250YWluZXItcmlnaHQiXSxbMywicC1lbGVtZW50LXJlZiIsInAtY2hhbmdlLWV2ZW50Iiw0LCJuZ0lmIl0sWzMsInAtZXJyb3ItcGF0dGVybiJdLFsxLCJwby1maWVsZC1pY29uLWNvbnRhaW5lci1sZWZ0Il0sWzEsInBvLWZpZWxkLWljb24iLDMsInAtaWNvbiJdLFszLCJwLWVsZW1lbnQtcmVmIiwicC1jaGFuZ2UtZXZlbnQiXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihnbygwLCJwby1maWVsZC1jb250YWluZXIiLDApLGdvKDEsImRpdiIsMSksdW8oMixodiwyLDMsImRpdiIsMiksZ28oMywiaW5wdXQiLDMsNCksQ28oImJsdXIiLGZ1bmN0aW9uKHQpe3JldHVybiBlLmV2ZW50T25CbHVyKHQpfSkoImNsaWNrIixmdW5jdGlvbih0KXtyZXR1cm4gZS5ldmVudE9uQ2xpY2sodCl9KSgiZm9jdXMiLGZ1bmN0aW9uKHQpe3JldHVybiBlLmV2ZW50T25Gb2N1cyh0KX0pKCJpbnB1dCIsZnVuY3Rpb24odCl7cmV0dXJuIGUuZXZlbnRPbklucHV0KHQpfSksbW8oKSxnbyg1LCJkaXYiLDUpLHVvKDYsZHYsMSwxLCJwby1jbGVhbiIsNiksbW8oKSxtbygpLHlvKDcsInBvLWZpZWxkLWNvbnRhaW5lci1ib3R0b20iLDcpLG1vKCkpLDImdCYmKHBvKCJwLWhlbHAiLGUuaGVscCkoInAtbGFiZWwiLGUubGFiZWwpKCJwLW9wdGlvbmFsIiwhZS5yZXF1aXJlZCYmZS5vcHRpb25hbCksTnMoMikscG8oIm5nSWYiLGUuaWNvbiksTnMoMSksTW8oInBvLWlucHV0LWljb24tbGVmdCIsZS5pY29uKSgicG8taW5wdXQtaWNvbi1yaWdodCIsZS5jbGVhbikscG8oImF1dG9jb21wbGV0ZSIsZS5hdXRvY29tcGxldGUpKCJkaXNhYmxlZCIsZS5kaXNhYmxlZCkoInBsYWNlaG9sZGVyIixlLnBsYWNlaG9sZGVyKSgicmVhZG9ubHkiLGUucmVhZG9ubHkpKCJyZXF1aXJlZCIsZS5yZXF1aXJlZCkoInR5cGUiLGUudHlwZSksYW8oIm5hbWUiLGUubmFtZSksTnMoMykscG8oIm5nSWYiLGUuY2xlYW4mJiFlLmRpc2FibGVkJiYhZS5yZWFkb25seSksTnMoMSkscG8oInAtZXJyb3ItcGF0dGVybiIsZS5nZXRFcnJvclBhdHRlcm4oKSkpfSxkaXJlY3RpdmVzOltJYix0aCxGYixRdixOYl0sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCksQ189KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuZWxlbWVudD10LHRoaXMuYXV0b0ZvY3VzPSExLHRoaXMuY2hhbmdlPW5ldyBFbCx0aGlzLm5nTW9kZWxDaGFuZ2U9bmV3IEVsLHRoaXMucmVhZHlUb1ZhbGlkYXRpb249ITEsdGhpcy5fZGlzYWJsZWQ9ITEsdGhpcy5fcmVhZG9ubHk9ITEsdGhpcy5fcmVxdWlyZWQ9ITEsdGhpcy5lbGVtZW50PXQsdGhpcy5jaGFuZ2VEZXRlY3Rvcj1lfXNldCBvcHRpb25zKHQpe3RoaXMuX29wdGlvbnM9dCxxdih0aGlzLl9vcHRpb25zKSxXdih0aGlzLl9vcHRpb25zKSx0aGlzLm9uVXBkYXRlT3B0aW9ucygpfWdldCBvcHRpb25zKCl7cmV0dXJuIHRoaXMuX29wdGlvbnN9c2V0IGRpc2FibGVkKHQpe3RoaXMuX2Rpc2FibGVkPXp2KHQpLHRoaXMudmFsaWRhdGVNb2RlbCgpfWdldCBkaXNhYmxlZCgpe3JldHVybiB0aGlzLl9kaXNhYmxlZH1zZXQgcmVhZG9ubHkodCl7dGhpcy5fcmVhZG9ubHk9enYodCl9Z2V0IHJlYWRvbmx5KCl7cmV0dXJuIHRoaXMuX3JlYWRvbmx5fXNldCByZXF1aXJlZCh0KXt0aGlzLl9yZXF1aXJlZD16dih0KSx0aGlzLnZhbGlkYXRlTW9kZWwoKX1nZXQgcmVxdWlyZWQoKXtyZXR1cm4gdGhpcy5fcmVxdWlyZWR9Y2FsbE1vZGVsQ2hhbmdlKHQpe3JldHVybiB0aGlzLm9uTW9kZWxDaGFuZ2U/dGhpcy5vbk1vZGVsQ2hhbmdlKHQpOnRoaXMubmdNb2RlbENoYW5nZS5lbWl0KHQpfW9uQ2hhbmdlKHQpe3RoaXMuY2hhbmdlLmVtaXQodCl9dmFsaWRhdGUodCl7cmV0dXJuIE1iKHRoaXMuX3JlcXVpcmVkLHRoaXMuX2Rpc2FibGVkLHQudmFsdWUpP3tyZXF1aXJlZDp7dmFsaWQ6ITF9fTpudWxsfXNldERpc2FibGVkU3RhdGUodCl7dGhpcy5kaXNhYmxlZD10LHRoaXMuY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpfXJlZ2lzdGVyT25DaGFuZ2UodCl7dGhpcy5vbk1vZGVsQ2hhbmdlPXR9cmVnaXN0ZXJPblRvdWNoZWQodCl7dGhpcy5vbk1vZGVsVG91Y2hlZD10fXJlZ2lzdGVyT25WYWxpZGF0b3JDaGFuZ2UodCl7dGhpcy5vblZhbGlkYXRvckNoYW5nZT10fXZhbGlkYXRlTW9kZWwoKXt0aGlzLm9uVmFsaWRhdG9yQ2hhbmdlJiZ0aGlzLm9uVmFsaWRhdG9yQ2hhbmdlKCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhvKGJhKSxobyhxYSkpfSx0Llx1MDI3NWRpcj1adCh7dHlwZTp0LGlucHV0czp7YXV0b0ZvY3VzOlsicC1hdXRvLWZvY3VzIiwiYXV0b0ZvY3VzIl0sb3B0aW9uczpbInAtb3B0aW9ucyIsIm9wdGlvbnMiXSxkaXNhYmxlZDpbInAtZGlzYWJsZWQiLCJkaXNhYmxlZCJdLHJlYWRvbmx5OlsicC1yZWFkb25seSIsInJlYWRvbmx5Il0scmVxdWlyZWQ6WyJwLXJlcXVpcmVkIiwicmVxdWlyZWQiXSxsYWJlbDpbInAtbGFiZWwiLCJsYWJlbCJdLG5hbWU6Im5hbWUiLGhlbHA6WyJwLWhlbHAiLCJoZWxwIl0scGxhY2Vob2xkZXI6WyJwLXBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXIiXSxvcHRpb25hbDpbInAtb3B0aW9uYWwiLCJvcHRpb25hbCJdfSxvdXRwdXRzOntjaGFuZ2U6InAtY2hhbmdlIixuZ01vZGVsQ2hhbmdlOiJuZ01vZGVsQ2hhbmdlIn19KSxqeShbdWIoKV0sdC5wcm90b3R5cGUsImF1dG9Gb2N1cyIsdm9pZCAwKSx0fSkoKSxFXz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMudGVtcGxhdGVSZWY9dH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaG8oWWEpKX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxzZWxlY3RvcnM6W1siIiwicC1zZWxlY3Qtb3B0aW9uLXRlbXBsYXRlIiwiIl1dfSksdH0pKCk7Y29uc3QgRF89ImJvdHRvbSI7bGV0IEFfPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBDX3tjb25zdHJ1Y3Rvcih0LGUsbixyLHMpe3N1cGVyKHQsZSksdGhpcy5yZW5kZXJlcj1yLHRoaXMuY29udHJvbFBvc2l0aW9uPXMsdGhpcy5pc01vYmlsZT13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8V2luZG93cyBQaG9uZS9pKSx0aGlzLm9wZW49ITEsdGhpcy5zZWxlY3RJY29uPSJwby1pY29uLWFycm93LWRvd24iLHRoaXMub25TY3JvbGw9KCk9Pnt0aGlzLmNvbnRyb2xQb3NpdGlvbi5hZGp1c3RQb3NpdGlvbihEXyl9LHRoaXMuZGlmZmVyPW4uZmluZChbXSkuY3JlYXRlKG51bGwpfWdldCBpc0ludmlzaWJsZVNlbGVjdE5hdGl2ZSgpe3JldHVybiB0aGlzLnJlYWRvbmx5JiZ0aGlzLmlzTW9iaWxlfW9uS2V5ZG93bih0KXtjb25zdCBlPXQud2hpY2h8fHQua2V5Q29kZTt0aGlzLnJlYWRvbmx5P2UhPT1nXy50YWImJih0aGlzLmRpc2FibGVEZWZhdWx0RXZlbnRBbmRUb2dnbGVCdXR0b24oKSx0LnByZXZlbnREZWZhdWx0KCkpOih0aGlzLm9wZW4mJiF0LmFsdEtleXx8ZSE9PWdfLmFycm93RG93biYmZSE9PWdfLmFycm93VXB8fHRoaXMuZGlzYWJsZURlZmF1bHRFdmVudEFuZFRvZ2dsZUJ1dHRvbigpLGUhPT1nXy5lbnRlciYmZSE9PWdfLnNwYWNlfHx0aGlzLmRpc2FibGVEZWZhdWx0RXZlbnRBbmRUb2dnbGVCdXR0b24oKSx0aGlzLm9wZW4mJmU9PT1nXy50YWImJih0LnByZXZlbnREZWZhdWx0KCksdGhpcy50b2dnbGVCdXR0b24oKSkpfW5nQWZ0ZXJWaWV3SW5pdCgpe3RoaXMuYXV0b0ZvY3VzJiZ0aGlzLmZvY3VzKCl9bmdEb0NoZWNrKCl7dGhpcy5kaWZmZXIuZGlmZih0aGlzLm9wdGlvbnMpJiYocXYodGhpcy5vcHRpb25zKSxXdih0aGlzLm9wdGlvbnMpKX1mb2N1cygpe3RoaXMuZGlzYWJsZWR8fHRoaXMuc2VsZWN0RWxlbWVudC5uYXRpdmVFbGVtZW50LmZvY3VzKCl9aGlkZURyb3BEb3duKCl7dGhpcy5zZWxlY3RJY29uPSJwby1pY29uLWFycm93LWRvd24iLHRoaXMuc2VsZWN0b3IoIi5wby1zZWxlY3QtY29udGFpbmVyIikuY2xhc3NMaXN0LnJlbW92ZSgicG8tc2VsZWN0LXNob3ciKSx0aGlzLm9wZW49ITEsdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKSx0aGlzLnNlbGVjdEVsZW1lbnQubmF0aXZlRWxlbWVudC5mb2N1cygpLHRoaXMucmVtb3ZlTGlzdGVuZXJzKCl9aXNFcXVhbCh0LGUpe3JldHVybih0fHwwPT09dCkmJmU/dC50b1N0cmluZygpPT09ZS50b1N0cmluZygpOigobnVsbD09PXQmJm51bGwhPT1lfHx2b2lkIDA9PT10JiZ2b2lkIDAhPT1lKSYmKHQ9YCR7dH1gKSx0PT09ZSl9b25CbHVyKCl7dmFyIHQ7bnVsbD09PSh0PXRoaXMub25Nb2RlbFRvdWNoZWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyl9b25PcHRpb25DbGljayh0KXt0aGlzLnVwZGF0ZU1vZGVsKHQpLHRoaXMudG9nZ2xlQnV0dG9uKCl9b25TZWxlY3RDaGFuZ2UodCl7aWYodCYmdGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMubGVuZ3RoKXtjb25zdCBlPXRoaXMuZmluZE9wdGlvblZhbHVlKHQpO2UmJih0aGlzLnVwZGF0ZU1vZGVsKGUpLHRoaXMuc2V0U2Nyb2xsUG9zaXRpb24oZS52YWx1ZSkpfX1vblVwZGF0ZU9wdGlvbnMoKXt0aGlzLm1vZGVsVmFsdWUmJnRoaXMub25TZWxlY3RDaGFuZ2UodGhpcy5tb2RlbFZhbHVlKX1zY3JvbGxWYWx1ZSh0LGUpe2NvbnN0IG49dCp0aGlzLmdldFNlbGVjdEl0ZW1IZWlnaHQoKTtyZXR1cm4gdGhpcy5zY3JvbGxQb3NpdGlvbj1uPmU/bjowfXNlbGVjdG9yKHQpe3JldHVybiB0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKHQpfXRvZ2dsZUJ1dHRvbigpe3RoaXMub3Blbj90aGlzLmhpZGVEcm9wRG93bigpOnRoaXMuc2hvd0Ryb3Bkb3duKCl9dXBkYXRlTW9kZWwodCl7dGhpcy5zZWxlY3RlZFZhbHVlIT09dC52YWx1ZSYmKHRoaXMuc2VsZWN0ZWRWYWx1ZT10LnZhbHVlLHRoaXMuc2VsZWN0RWxlbWVudC5uYXRpdmVFbGVtZW50LnZhbHVlPXQudmFsdWUsdGhpcy5jYWxsTW9kZWxDaGFuZ2UodC52YWx1ZSksdGhpcy5kaXNwbGF5VmFsdWU9dC5sYWJlbCx0aGlzLm9uQ2hhbmdlKHQudmFsdWUpKX13YXNDbGlja2VkT25Ub2dnbGUodCl7dGhpcy5zZWxlY3RCdXR0b25FbGVtZW50Lm5hdGl2ZUVsZW1lbnQuY29udGFpbnModC50YXJnZXQpfHx0aGlzLmljb25FbGVtZW50Lm5hdGl2ZUVsZW1lbnQuY29udGFpbnModC50YXJnZXQpfHx0aGlzLmhpZGVEcm9wRG93bigpfXdyaXRlVmFsdWUodCl7Y29uc3QgZT10aGlzLmZpbmRPcHRpb25WYWx1ZSh0KTtlPyh0aGlzLnNlbGVjdEVsZW1lbnQubmF0aXZlRWxlbWVudC52YWx1ZT1lLnZhbHVlLHRoaXMuc2VsZWN0ZWRWYWx1ZT1lLnZhbHVlLHRoaXMuZGlzcGxheVZhbHVlPWUubGFiZWwsdGhpcy5zZXRTY3JvbGxQb3NpdGlvbihlLnZhbHVlKSk6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJiIiIT09dHx8ITE9PT10fSh0aGlzLnNlbGVjdGVkVmFsdWUpJiYodGhpcy5zZWxlY3RFbGVtZW50Lm5hdGl2ZUVsZW1lbnQudmFsdWU9dm9pZCAwLHRoaXMuY2FsbE1vZGVsQ2hhbmdlKHZvaWQgMCksdGhpcy5zZWxlY3RlZFZhbHVlPXZvaWQgMCx0aGlzLmRpc3BsYXlWYWx1ZT12b2lkIDApLHRoaXMubW9kZWxWYWx1ZT10LHRoaXMuY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpfWRpc2FibGVEZWZhdWx0RXZlbnRBbmRUb2dnbGVCdXR0b24oKXt0aGlzLnNlbGVjdEVsZW1lbnQubmF0aXZlRWxlbWVudC5zdHlsZS5kaXNwbGF5PSJub25lIixzZXRUaW1lb3V0KCgpPT57dGhpcy5zZWxlY3RFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuc3R5bGUuZGlzcGxheT0iYmxvY2siLHRoaXMudG9nZ2xlQnV0dG9uKCl9KX1maW5kT3B0aW9uVmFsdWUodCl7cmV0dXJuIHRoaXMub3B0aW9ucy5maW5kKGU9PnRoaXMuaXNFcXVhbChlLnZhbHVlLHQpKX1nZXRTZWxlY3RJdGVtSGVpZ2h0KCl7Y29uc3QgdD10aGlzLnNlbGVjdG9yKCJkaXYucG8tc2VsZWN0LWl0ZW0iKTtyZXR1cm4gdCYmdC5jbGllbnRIZWlnaHR9aW5pdGlhbGl6ZUxpc3RlbmVycygpe3RoaXMuY2xpY2tvdXRMaXN0ZW5lcj10aGlzLnJlbmRlcmVyLmxpc3RlbigiZG9jdW1lbnQiLCJjbGljayIsdD0+e3RoaXMud2FzQ2xpY2tlZE9uVG9nZ2xlKHQpfSksdGhpcy5ldmVudFJlc2l6ZUxpc3RlbmVyPXRoaXMucmVuZGVyZXIubGlzdGVuKCJ3aW5kb3ciLCJyZXNpemUiLCgpPT57dGhpcy5oaWRlRHJvcERvd24oKX0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLHRoaXMub25TY3JvbGwsITApfXJlbW92ZUxpc3RlbmVycygpe3RoaXMuY2xpY2tvdXRMaXN0ZW5lciYmdGhpcy5jbGlja291dExpc3RlbmVyKCksdGhpcy5ldmVudFJlc2l6ZUxpc3RlbmVyKCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsdGhpcy5vblNjcm9sbCwhMCl9c2V0UG9zaXRpb25Ecm9wZG93bigpe3RoaXMuY29udHJvbFBvc2l0aW9uLnNldEVsZW1lbnRzKHRoaXMuY29udGVudExpc3QubmF0aXZlRWxlbWVudCw4LHRoaXMuc2VsZWN0QnV0dG9uRWxlbWVudCxbInRvcCIsImJvdHRvbSJdLCEwKSx0aGlzLmNvbnRyb2xQb3NpdGlvbi5hZGp1c3RQb3NpdGlvbihEXyl9c2V0U2Nyb2xsUG9zaXRpb24odCl7Y29uc3QgZT10aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCJ1bC5wby1zZWxlY3QtY29udGVudCIpO2lmKHQmJnRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zLmxlbmd0aCl7Y29uc3Qgbj10aGlzLmZpbmRPcHRpb25WYWx1ZSh0KTtpZihuKXtjb25zdCB0PXRoaXMub3B0aW9ucy5pbmRleE9mKG4pO2Uuc2Nyb2xsVG9wPXRoaXMuc2Nyb2xsVmFsdWUodCxlLmNsaWVudEhlaWdodCl9fX1zaG93RHJvcGRvd24oKXt0aGlzLnJlYWRvbmx5fHwodGhpcy5zZWxlY3RFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZm9jdXMoKSx0aGlzLnNlbGVjdEljb249InBvLWljb24tYXJyb3ctdXAiLHRoaXMuc2VsZWN0b3IoIi5wby1zZWxlY3QtY29udGFpbmVyIikuY2xhc3NMaXN0LmFkZCgicG8tc2VsZWN0LXNob3ciKSx0aGlzLm9wZW49ITAsdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKSx0aGlzLnNldFBvc2l0aW9uRHJvcGRvd24oKSx0aGlzLmluaXRpYWxpemVMaXN0ZW5lcnMoKSx0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5sZW5ndGgmJnRoaXMuc2V0U2Nyb2xsUG9zaXRpb24odGhpcy5zZWxlY3RlZFZhbHVlKSl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGhvKGJhKSxobyhxYSksaG8oTmEpLGhvKENhKSxobyhnYikpfSx0Llx1MDI3NWNtcD1IdCh7dHlwZTp0LHNlbGVjdG9yczpbWyJwby1zZWxlY3QiXV0sY29udGVudFF1ZXJpZXM6ZnVuY3Rpb24odCxlLG4pe2lmKDEmdCYmamwobixFXyw3KSwyJnQpe2xldCB0O01sKHQ9TmwoKSkmJihlLnNlbGVjdE9wdGlvblRlbXBsYXRlPXQuZmlyc3QpfX0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiYoVmwocHYsNyxiYSksVmwoZnYsNyxiYSksVmwoZ3YsNyxiYSksVmwobXYsNyxiYSkpLDImdCl7bGV0IHQ7TWwodD1ObCgpKSYmKGUuY29udGVudExpc3Q9dC5maXJzdCksTWwodD1ObCgpKSYmKGUuaWNvbkVsZW1lbnQ9dC5maXJzdCksTWwodD1ObCgpKSYmKGUuc2VsZWN0RWxlbWVudD10LmZpcnN0KSxNbCh0PU5sKCkpJiYoZS5zZWxlY3RCdXR0b25FbGVtZW50PXQuZmlyc3QpfX0saG9zdEJpbmRpbmdzOmZ1bmN0aW9uKHQsZSl7MSZ0JiZDbygia2V5ZG93biIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25LZXlkb3duKHQpfSl9LGZlYXR1cmVzOltkYShbe3Byb3ZpZGU6Q2QsdXNlRXhpc3Rpbmc6c3QoKCk9PnQpLG11bHRpOiEwfSx7cHJvdmlkZTpTZCx1c2VFeGlzdGluZzpzdCgoKT0+dCksbXVsdGk6ITB9LGdiXSksS2ldLGRlY2xzOjE3LHZhcnM6MjgsY29uc3RzOltbMywicC1sYWJlbCIsInAtaGVscCIsInAtb3B0aW9uYWwiXSxbMSwicG8tc2VsZWN0IiwzLCJkaXNhYmxlZCIsIm5nQ2xhc3MiLCJyZXF1aXJlZCIsImNoYW5nZSIsImJsdXIiXSxbInNlbGVjdCIsIiJdLFsiZGlzYWJsZWQiLCIiLCJoaWRkZW4iLCIiLCJzZWxlY3RlZCIsIiIsNCwibmdJZiJdLFszLCJkaXNhYmxlZCIsInZhbHVlIiwiY2xpY2siLDQsIm5nRm9yIiwibmdGb3JPZiJdLFsxLCJwby1zZWxlY3QtY29udGFpbmVyIl0sWzEsInBvLXNlbGVjdC1idXR0b24iLDMsIm5nQ2xhc3MiLCJjbGljayJdLFsic2VsZWN0QnV0dG9uIiwiIl0sWzEsInBvLWZpZWxkLWljb24tY29udGFpbmVyLXJpZ2h0Il0sWzMsIm5nQ2xhc3MiXSxbImljb24iLCIiXSxbMSwicG8tc2VsZWN0LWNvbnRlbnQiLDMsIm5nQ2xhc3MiXSxbImNvbnRlbnRMaXN0IiwiIl0sWzMsInBvLXNlbGVjdC1pdGVtLXNlbGVjdGVkIiwidmFsdWUiLCJjbGljayIsNCwibmdGb3IiLCJuZ0Zvck9mIl0sWyJkaXNhYmxlZCIsIiIsImhpZGRlbiIsIiIsInNlbGVjdGVkIiwiIl0sWzMsImRpc2FibGVkIiwidmFsdWUiLCJjbGljayJdLFszLCJ2YWx1ZSIsImNsaWNrIl0sWzEsInBvLXNlbGVjdC1pdGVtIl0sWzQsIm5nSWYiLCJuZ0lmVGhlbiIsIm5nSWZFbHNlIl0sWyJkZWZhdWx0T3B0aW9uVGVtcGxhdGUiLCIiXSxbMywibmdUZW1wbGF0ZU91dGxldCIsIm5nVGVtcGxhdGVPdXRsZXRDb250ZXh0Il0sWyJvcHRpb25UZW1wbGF0ZSIsIiJdXSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpezEmdCYmKGdvKDAsInBvLWZpZWxkLWNvbnRhaW5lciIsMCksZ28oMSwic2VsZWN0IiwxLDIpLENvKCJjaGFuZ2UiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uU2VsZWN0Q2hhbmdlKHQudGFyZ2V0LnZhbHVlKX0pKCJibHVyIixmdW5jdGlvbigpe3JldHVybiBlLm9uQmx1cigpfSksdW8oMyx5diwxLDAsIm9wdGlvbiIsMyksdW8oNCx2diwyLDMsIm9wdGlvbiIsNCksbW8oKSxnbyg1LCJkaXYiLDUpLGdvKDYsImRpdiIsNiw3KSxDbygiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIGUudG9nZ2xlQnV0dG9uKCl9KSxnbyg4LCJzcGFuIiksV28oOSksbW8oKSxnbygxMCwiZGl2Iiw4KSx5bygxMSwic3BhbiIsOSwxMCksbW8oKSxtbygpLGdvKDEzLCJ1bCIsMTEsMTIpLHVvKDE1LEN2LDcsMTAsImxpIiwxMyksbW8oKSxtbygpLHlvKDE2LCJwby1maWVsZC1jb250YWluZXItYm90dG9tIiksbW8oKSksMiZ0JiYocG8oInAtbGFiZWwiLGUubGFiZWwpKCJwLWhlbHAiLGUuaGVscCkoInAtb3B0aW9uYWwiLCFlLnJlcXVpcmVkJiZlLm9wdGlvbmFsKSxOcygxKSxwbygiZGlzYWJsZWQiLGUuZGlzYWJsZWQpKCJuZ0NsYXNzIixfbCgxNyxFdixlLmlzTW9iaWxlLGUuaXNJbnZpc2libGVTZWxlY3ROYXRpdmUpKSgicmVxdWlyZWQiLGUucmVxdWlyZWQpLGFvKCJuYW1lIixlLm5hbWUpLE5zKDIpLHBvKCJuZ0lmIixlLmlzTW9iaWxlKSxOcygxKSxwbygibmdGb3JPZiIsZS5vcHRpb25zKSxOcygyKSxwbygibmdDbGFzcyIsX2woMjAsRHYsZS5kaXNhYmxlZCxlLnJlYWRvbmx5KSksTnMoMyksR28oZS5kaXNwbGF5VmFsdWV8fGUucGxhY2Vob2xkZXIpLE5zKDIpLEtvKCJwby1pY29uICIsZS5zZWxlY3RJY29uLCIgcG8tZmllbGQtaWNvbiIpLHBvKCJuZ0NsYXNzIixfbCgyMyxBdixlLmRpc2FibGVkLGUucmVhZG9ubHkpKSxOcygyKSxwbygibmdDbGFzcyIsYmwoMjYsU3YsZS5pc01vYmlsZSkpLE5zKDIpLHBvKCJuZ0Zvck9mIixlLm9wdGlvbnMpKX0sZGlyZWN0aXZlczpbSWIsWWMsdGgsWGMsRmIsdXAscHAscmhdLGVuY2Fwc3VsYXRpb246MixjaGFuZ2VEZXRlY3Rpb246MH0pLHR9KSgpLFNfPSgoKT0+e2NsYXNzIHQgZXh0ZW5kcyBjbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuc3RhY2tUb3A9W10sdGhpcy5zdGFja0JvdHRvbT1bXSx0aGlzLmRlZmF1bHREdXJhdGlvbj0xZTR9c3VjY2Vzcyh0KXt0aGlzLmNyZWF0ZVRvYXN0ZXIodGhpcy5idWlsZFRvYXN0ZXIodCxhXy5TdWNjZXNzKSl9d2FybmluZyh0KXt0aGlzLmNyZWF0ZVRvYXN0ZXIodGhpcy5idWlsZFRvYXN0ZXIodCxhXy5XYXJuaW5nKSl9ZXJyb3IodCl7dGhpcy5jcmVhdGVUb2FzdGVyKHRoaXMuYnVpbGRUb2FzdGVyKHQsYV8uRXJyb3IpKX1pbmZvcm1hdGlvbih0KXt0aGlzLmNyZWF0ZVRvYXN0ZXIodGhpcy5idWlsZFRvYXN0ZXIodCxhXy5JbmZvcm1hdGlvbikpfXNldERlZmF1bHREdXJhdGlvbih0KXt0aGlzLmRlZmF1bHREdXJhdGlvbj10fWJ1aWxkVG9hc3Rlcih0LGUpe2xldCBuLHI9MDt2b2lkIDA9PT10Lm9yaWVudGF0aW9ufHx0Lm9yaWVudGF0aW9uPT09b18uQm90dG9tPyhyPXRoaXMuc3RhY2tCb3R0b20ubGVuZ3RoLG49b18uQm90dG9tKToocj10aGlzLnN0YWNrVG9wLmxlbmd0aCxuPW9fLlRvcCk7Y29uc3Qgcz17Y29tcG9uZW50UmVmOnZvaWQgMCxtZXNzYWdlOnQubWVzc2FnZXx8dCx0eXBlOmUsb3JpZW50YXRpb246bixhY3Rpb246dC5hY3Rpb24sYWN0aW9uTGFiZWw6dC5hY3Rpb25MYWJlbCxwb3NpdGlvbjpyLGR1cmF0aW9uOnQuZHVyYXRpb258fHRoaXMuZGVmYXVsdER1cmF0aW9ufTtyZXR1cm4gdC5hY3Rpb24mJihzLmFjdGlvbj1lPT57dC5hY3Rpb24oKSx0aGlzLmRlc3Ryb3lUb2FzdGVyKGUuY29tcG9uZW50UmVmKX0pLHN9fXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMucG9Db21wb25lbnRJbmplY3Rvcj10fWNyZWF0ZVRvYXN0ZXIodCl7Y29uc3QgZT10aGlzLnBvQ29tcG9uZW50SW5qZWN0b3IuY3JlYXRlQ29tcG9uZW50SW5BcHBsaWNhdGlvbihsXyk7dC5jb21wb25lbnRSZWY9ZSxlLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKSxlLmluc3RhbmNlLmNvbmZpZ1RvYXN0ZXIodCk7Y29uc3Qgbj10Lm9yaWVudGF0aW9uPT09b18uVG9wP3RoaXMuc3RhY2tUb3A6dGhpcy5zdGFja0JvdHRvbTtuLnB1c2goZSksdGhpcy52ZXJpZnlMaW1pdFRvYXN0ZXIobiksdGhpcy5vYnNlcnZhYmxlT25DbG9zZShlKSx0LmFjdGlvbiYmdC5hY3Rpb25MYWJlbHx8ZnVuY3Rpb24odD0wLGUsbil7bGV0IHI9LTE7cmV0dXJuIHlwKGUpP3I9TnVtYmVyKGUpPDE/MTpOdW1iZXIoZSk6QShlKSYmKG49ZSksQShuKXx8KG49bXApLG5ldyB2KGU9Pntjb25zdCBzPXlwKHQpP3Q6K3Qtbi5ub3coKTtyZXR1cm4gbi5zY2hlZHVsZSh2cCxzLHtpbmRleDowLHBlcmlvZDpyLHN1YnNjcmliZXI6ZX0pfSl9KHQuZHVyYXRpb24pLnBpcGUoZnVuY3Rpb24odCxlPSExKXtyZXR1cm4gbj0+bi5saWZ0KG5ldyBOeSh0LGUpKX0oKCk9PmUuaW5zdGFuY2UuYWxpdmUpKS5zdWJzY3JpYmUoKCk9Pnt0aGlzLmRlc3Ryb3lUb2FzdGVyKGUpfSl9ZGVzdHJveVRvYXN0ZXIodCl7bGV0IGU7ZT10Lmluc3RhbmNlLm9yaWVudGF0aW9uPT09b18uVG9wP3RoaXMuc3RhY2tUb3A6dGhpcy5zdGFja0JvdHRvbSx0Lmluc3RhbmNlLnNldEZhZGVPdXQoKTtjb25zdCBuPWUuaW5kZXhPZih0KTtlLnNwbGljZShuLDEpLHNldFRpbWVvdXQoKCk9Pnt0aGlzLnBvQ29tcG9uZW50SW5qZWN0b3IuZGVzdHJveUNvbXBvbmVudEluQXBwbGljYXRpb24odCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XS5pbnN0YW5jZS5jaGFuZ2VQb3NpdGlvbih0KX0sMjAwKX1vYnNlcnZhYmxlT25DbG9zZSh0KXt0Lmluc3RhbmNlLm9ic2VydmFibGVPbkNsb3NlLnN1YnNjcmliZSgoKT0+e3RoaXMuZGVzdHJveVRvYXN0ZXIodCl9KX12ZXJpZnlMaW1pdFRvYXN0ZXIodCl7dC5sZW5ndGg+NSYmdGhpcy5kZXN0cm95VG9hc3Rlcih0WzBdKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoUWIpKX0sdC5cdTAyNzVwcm92PWh0KHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KGFyKFFiKSl9LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKSx4Xz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW2RoLGdwLFZ5LHliLHBiLExiLF9iLFZiLEViLFViLEFiLERiLFJiLG9iLFdiLEdiLGNfLGZfLG1iLFh2XSxWYixMYixVYixSYl19KSx0fSkoKSxrXz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW2RoLFltXV19KSx0fSkoKTt2YXIgVF89ZnVuY3Rpb24odCl7cmV0dXJuIHQuSG9yaXpvbnRhbD0iaG9yaXpvbnRhbCIsdC5WZXJ0aWNhbD0idmVydGljYWwiLHR9KHt9KSxPXz1mdW5jdGlvbih0KXtyZXR1cm4gdC5EYW5nZXI9ImRhbmdlciIsdC5JbmZvPSJpbmZvIix0LlN1Y2Nlc3M9InN1Y2Nlc3MiLHQuV2FybmluZz0id2FybmluZyIsdH0oe30pO2NvbnN0IEZfPU9iamVjdC52YWx1ZXMod2IpLFBfPVRfLlZlcnRpY2FsO2xldCBJXz0oKCk9PntjbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5jbGljaz1uZXcgRWwsdGhpcy5wb1RhZ09yaWVudGF0aW9uPVRfLHRoaXMuX29yaWVudGF0aW9uPVBffXNldCBjb2xvcih0KXt0aGlzLl9jb2xvcj1GXy5pbmNsdWRlcyh0KT90OnZvaWQgMH1nZXQgY29sb3IoKXtyZXR1cm4gdGhpcy5fY29sb3J9c2V0IGljb24odCl7dGhpcy5faWNvbj10aGlzLnR5cGU/enYodCk6dH1nZXQgaWNvbigpe3JldHVybiB0aGlzLl9pY29ufXNldCBpbnZlcnNlKHQpe3RoaXMuX2ludmVyc2U9enYodCl9Z2V0IGludmVyc2UoKXtyZXR1cm4gdGhpcy5faW52ZXJzZX1zZXQgb3JpZW50YXRpb24odCl7dGhpcy5fb3JpZW50YXRpb249T2JqZWN0LnZhbHVlcyhUXykuaW5jbHVkZXModCk/dDpQX31nZXQgb3JpZW50YXRpb24oKXtyZXR1cm4gdGhpcy5fb3JpZW50YXRpb259c2V0IHR5cGUodCl7dGhpcy5fdHlwZT1PYmplY3QudmFsdWVzKE9fKS5pbmNsdWRlcyh0KT90OnZvaWQgMH1nZXQgdHlwZSgpe3JldHVybiB0aGlzLl90eXBlfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVkaXI9WnQoe3R5cGU6dCxpbnB1dHM6e2NvbG9yOlsicC1jb2xvciIsImNvbG9yIl0saWNvbjpbInAtaWNvbiIsImljb24iXSxpbnZlcnNlOlsicC1pbnZlcnNlIiwiaW52ZXJzZSJdLG9yaWVudGF0aW9uOlsicC1vcmllbnRhdGlvbiIsIm9yaWVudGF0aW9uIl0sdHlwZTpbInAtdHlwZSIsInR5cGUiXSxsYWJlbDpbInAtbGFiZWwiLCJsYWJlbCJdLHZhbHVlOlsicC12YWx1ZSIsInZhbHVlIl19LG91dHB1dHM6e2NsaWNrOiJwLWNsaWNrIn19KSx0fSkoKTt2YXIgUl89ZnVuY3Rpb24odCl7cmV0dXJuIHQuRGFuZ2VyPSJwby1pY29uLWNsb3NlIix0LkluZm89InBvLWljb24taW5mbyIsdC5TdWNjZXNzPSJwby1pY29uLW9rIix0Lldhcm5pbmc9InBvLWljb24td2FybmluZyIsdH0oe30pO2NvbnN0IE1fPSJwby10YWctIitPXy5JbmZvO2xldCBWXz0oKCk9PntjbGFzcyB0IGV4dGVuZHMgSV97bmdPbkluaXQoKXt0aGlzLmlzQ2xpY2thYmxlPXRoaXMuY2xpY2sub2JzZXJ2ZXJzLmxlbmd0aD4wfWdldCBpY29uRnJvbVR5cGUoKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlIE9fLkRhbmdlcjpyZXR1cm4gUl8uRGFuZ2VyO2Nhc2UgT18uSW5mbzpyZXR1cm4gUl8uSW5mbztjYXNlIE9fLlN1Y2Nlc3M6cmV0dXJuIFJfLlN1Y2Nlc3M7Y2FzZSBPXy5XYXJuaW5nOnJldHVybiBSXy5XYXJuaW5nfX1nZXQgdGFnQ29sb3IoKXtyZXR1cm4gdGhpcy50eXBlP3RoaXMuaW52ZXJzZT9gcG8tdGFnLSR7dGhpcy50eXBlfS1pbnZlcnNlYDpgcG8tdGFnLSR7dGhpcy50eXBlfWA6dGhpcy5jb2xvcj90aGlzLmludmVyc2U/YHBvLXRleHQtJHt0aGlzLmNvbG9yfWA6YHBvLSR7dGhpcy5jb2xvcn1gOnRoaXMuaW52ZXJzZT9gJHtNX30taW52ZXJzZWA6TV99Z2V0IHRhZ09yaWVudGF0aW9uKCl7cmV0dXJuIHRoaXMub3JpZW50YXRpb249PT10aGlzLnBvVGFnT3JpZW50YXRpb24uSG9yaXpvbnRhbH1vbkNsaWNrKCl7dGhpcy5jbGljay5lbWl0KHt2YWx1ZTp0aGlzLnZhbHVlLHR5cGU6dGhpcy50eXBlfSl9b25LZXlQcmVzc2VkKHQpe3QucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHRoaXMub25DbGljaygpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oKXtsZXQgZTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuKGV8fChlPUxuKHQpKSkobnx8dCl9fSgpLHQuXHUwMjc1Y21wPUh0KHt0eXBlOnQsc2VsZWN0b3JzOltbInBvLXRhZyJdXSxmZWF0dXJlczpbS2ldLGRlY2xzOjcsdmFyczoxMCxjb25zdHM6W1sxLCJwby10YWctY29udGFpbmVyIl0sWyJjbGFzcyIsInBvLXRhZy10aXRsZSBwby10ZXh0LW5vd3JhcCIsNCwibmdJZiJdLFsxLCJwby10YWctc3ViLWNvbnRhaW5lciJdLFsidGFiaW5kZXgiLCIwIiwxLCJwby10YWciLDMsIm5nQ2xhc3MiLCJjbGljayIsImtleWRvd24uZW50ZXIiLCJrZXlkb3duLnNwYWNlIiwia2V5dXAuc3BhY2UiXSxbImNsYXNzIiwicG8tdGFnLWljb24iLDMsInAtaWNvbiIsNCwibmdJZiJdLFsxLCJwby10YWctdmFsdWUiXSxbMSwicG8tdGFnLXRpdGxlIiwicG8tdGV4dC1ub3dyYXAiXSxbMSwicG8tdGFnLWxhYmVsIl0sWzEsInBvLXRhZy1pY29uIiwzLCJwLWljb24iXV0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXsxJnQmJihnbygwLCJkaXYiLDApLHVvKDEseHYsMywxLCJkaXYiLDEpLGdvKDIsImRpdiIsMiksZ28oMywiZGl2IiwzKSxDbygiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25DbGljaygpfSkoImtleWRvd24uZW50ZXIiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uS2V5UHJlc3NlZCh0KX0pKCJrZXlkb3duLnNwYWNlIixmdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpfSkoImtleXVwLnNwYWNlIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbktleVByZXNzZWQodCl9KSx1byg0LGt2LDEsMSwicG8taWNvbiIsNCksZ28oNSwic3BhbiIsNSksV28oNiksbW8oKSxtbygpLG1vKCksbW8oKSksMiZ0JiYoTW8oInBvLXRhZy1jb250YWluZXItaG9yaXpvbnRhbCIsZS50YWdPcmllbnRhdGlvbiksTnMoMSkscG8oIm5nSWYiLGUubGFiZWwpLE5zKDIpLE1vKCJwby1jbGlja2FibGUiLGUuaXNDbGlja2FibGUpKCJwby10YWctaW52ZXJzZSIsZS5pbnZlcnNlKSxwbygibmdDbGFzcyIsZS50YWdDb2xvciksTnMoMSkscG8oIm5nSWYiLGUuaWNvbiksTnMoMiksR28oZS52YWx1ZSkpfSxkaXJlY3RpdmVzOlt0aCxZYyxRdl0sZW5jYXBzdWxhdGlvbjoyLGNoYW5nZURldGVjdGlvbjowfSksdH0pKCksal89KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tkaCxYdl1dfSksdH0pKCksTl89KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmh0dHA9dH1vbkxvYWQodCxlKXtyZXR1cm4gdGhpcy5odHRwLnBvc3QodCxlKS50b1Byb21pc2UoKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoRXkpKX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxMXz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W3VoLGFoLGxoLGRfLG9oLGJfLF9fLE5fXSxpbXBvcnRzOltbZGgsZ3Asa2Isa18seF8sal8scF9dXX0pLHR9KSgpO01hdGg7bGV0IEJfPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tkaCxtYl1dfSksdH0pKCksVV89KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW2RoLGdwLHhfXV19KSx0fSkoKSxIXz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW2RoLFltLHBiLFRiXV19KSx0fSkoKSwkXz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbZGhdXX0pLHR9KSgpLHpfPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tkaCxZbSwkXyx4XyxvYixYdl1dfSksdH0pKCkscV89KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuc3ViamVjdENoaWxkPW5ldyBFLHRoaXMuc3ViamVjdFBhcmVudD1uZXcgRX1yZWNlaXZlRnJvbUNoaWxkTWVudUNsaWNrZWQoKXtyZXR1cm4gdGhpcy5zdWJqZWN0Q2hpbGQuYXNPYnNlcnZhYmxlKCl9cmVjZWl2ZUZyb21QYXJlbnRNZW51Q2xpY2tlZCgpe3JldHVybiB0aGlzLnN1YmplY3RQYXJlbnQuYXNPYnNlcnZhYmxlKCl9c2VuZFRvUGFyZW50TWVudUNsaWNrZWQodCl7dGhpcy5zdWJqZWN0Q2hpbGQubmV4dCh0KX1zZW5kVG9DaGlsZE1lbnVDbGlja2VkKHQpe3RoaXMuc3ViamVjdFBhcmVudC5uZXh0KHQpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVwcm92PWh0KHt0b2tlbjp0LGZhY3Rvcnk6dC5cdTAyNzVmYWN9KSx0fSkoKSxXXz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W3FfXSxpbXBvcnRzOltbZGgsWW0seF8sbWJdXX0pLHR9KSgpLEdfPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tkaCxUYixtYixYdl1dfSksdH0pKCksWl89KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW2RoLFltXV19KSx0fSkoKSxLXz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbZGgsWW1dXX0pLHR9KSgpLFlfPSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tkaCxHXyxaXyxLXyx6XyxYdl1dfSksdH0pKCksUV89KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW2RoLGdwLFltLFl2LHBiLEFiLE9iLHhfLGliLFdiXV19KSx0fSkoKSxYXz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW2RoLFltLEViXV19KSx0fSkoKSxKXz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbZGhdXX0pLHR9KSgpLHR3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe2ltcG9ydHM6W1tkaCxoX11dfSksdH0pKCksZXc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7cHJvdmlkZXJzOltdLGltcG9ydHM6W1tkaCxqdixUYixYdl1dfSksdH0pKCksbnc9KCgpPT57Y2xhc3MgdHt9cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCl9LHQuXHUwMjc1bW9kPVd0KHt0eXBlOnR9KSx0Llx1MDI3NWluaj1kdCh7aW1wb3J0czpbW2RoLGdwLEViLHhfXV19KSx0fSkoKSxydz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtpbXBvcnRzOltbZGgsRWJdXX0pLHR9KSgpLHN3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbVnYsanYsWXYscGIseWIsX2IsQ2IsRWIsQWIsRGIsa2IsT2IsTF8seF8sQl8sVV8sWHYsa18sSF8sb2Isel8sV18sV2IsWV8sUV8saF8sVGIsR2IsWF8sSl8sZl8sdHcsal8sZXcsbncscnddLFZ2LGp2LFl2LHBiLHliLF9iLENiLEViLEFiLERiLGtiLE9iLExfLHhfLEJfLFVfLFh2LGtfLEhfLG9iLHpfLFdfLFdiLFlfLFFfLGhfLFRiLEdiLFhfLEpfLGZfLHR3LGpfLGV3LG53LHJ3XX0pLHR9KSgpLGl3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbbWJdLG1iXX0pLHR9KSgpLG93PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbXV19KSx0fSkoKTtjb25zdCBhdz17ZW46e2Nsb3NlQnV0dG9uOiJDbG9zZSIsZGV0YWlsczoiRGV0YWlscyIsZGV0YWlsOiJEZXRhaWwiLGVycm9yOiJFcnJvciIsd2FybmluZzoiV2FybmluZyIsaW5mb3JtYXRpb246IkluZm9ybWF0aW9uIixzdWNjZXNzOiJTdWNjZXNzIn0sZXM6e2Nsb3NlQnV0dG9uOiJDZXJyYXIiLGRldGFpbHM6IkRldGFsbGVzIixkZXRhaWw6IkRldGFsbGUiLGVycm9yOiJFcnJvciIsd2FybmluZzoiQWR2ZXJ0ZW5jaWEiLGluZm9ybWF0aW9uOiJJbmZvcm1hY2lvbiIsc3VjY2VzczoiXHhjOXhpdG8ifSxwdDp7Y2xvc2VCdXR0b246IkZlY2hhciIsZGV0YWlsczoiRGV0YWxoZXMiLGRldGFpbDoiRGV0YWxoZSIsZXJyb3I6IkVycm8iLHdhcm5pbmc6IkF2aXNvIixpbmZvcm1hdGlvbjoiSW5mb3JtYVx4ZTdceGUzbyIsc3VjY2VzczoiU3VjZXNzbyJ9LHJ1OntjbG9zZUJ1dHRvbjoiXHUwNDE3XHUwNDMwXHUwNDNhXHUwNDQwXHUwNDRiXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDRjIixkZXRhaWxzOiJcdTA0MTRcdTA0MzVcdTA0NDJcdTA0MzBcdTA0M2JcdTA0MzgiLGRldGFpbDoiXHUwNDE0XHUwNDM1XHUwNDQyXHUwNDMwXHUwNDNiXHUwNDRjIixlcnJvcjoiXHUwNDFlXHUwNDQ4XHUwNDM4XHUwNDMxXHUwNDNhXHUwNDMwIix3YXJuaW5nOiJcdTA0MWZcdTA0NDBcdTA0MzVcdTA0MzRcdTA0NDNcdTA0M2ZcdTA0NDBcdTA0MzVcdTA0MzZcdTA0MzRcdTA0MzVcdTA0M2RcdTA0MzhcdTA0MzUiLGluZm9ybWF0aW9uOiJcdTA0MThcdTA0M2RcdTA0NDRcdTA0M2VcdTA0NDBcdTA0M2NcdTA0MzBcdTA0NDZcdTA0MzhcdTA0NGYiLHN1Y2Nlc3M6IllcdTA0NDFcdTA0M2ZcdTA0MzVcdTA0NDUifX0sbHc9e3N1Y2Nlc3M6ImNvbG9yLTExIixlcnJvcjoiY29sb3ItMDciLHdhcm5pbmc6ImNvbG9yLTA4IixpbmZvOiIifTtsZXQgdXc9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmxhbmd1YWdlU2VydmljZT10LHRoaXMuY2xvc2VkPW5ldyBFbCx0aGlzLmRldGFpbHM9W10sdGhpcy5sYW5ndWFnZT10aGlzLmxhbmd1YWdlU2VydmljZS5nZXRTaG9ydExhbmd1YWdlKCksdGhpcy5saXRlcmFscz1hd1t0aGlzLmxhbmd1YWdlXSx0aGlzLnByaW1hcnlBY3Rpb249e2FjdGlvbjooKT0+dGhpcy5jbG9zZSgpLGxhYmVsOnRoaXMubGl0ZXJhbHMuY2xvc2VCdXR0b259fXNldCBkZXRhaWwodCl7dCYmdC5sZW5ndGgmJih0aGlzLmRldGFpbHM9dGhpcy5maWx0ZXJCeVZhbGlkRGV0YWlscyh0KSksdGhpcy50aXRsZT10aGlzLmZvcm1hdFRpdGxlKHRoaXMuZGV0YWlscyl9Y2xvc2UoKXt0aGlzLm1vZGFsLmNsb3NlKCksdGhpcy5jbG9zZWQuZW1pdCgpfWZvcm1hdERldGFpbEl0ZW1UaXRsZSh0KXtyZXR1cm4gdC5jb2RlP2Ake3QuY29kZX0gLSAke3QubWVzc2FnZX1gOnQubWVzc2FnZX1vcGVuKCl7dGhpcy5tb2RhbC5vcGVuKCl9dHlwZUNvbG9yKHQpe3JldHVybiBsd1t0XX10eXBlVmFsdWUodCl7cmV0dXJuIGF3W3RoaXMubGFuZ3VhZ2VdW3RdfHx0fWFkZFZhbGlkRGV0YWlsKHQsZSl7cmV0dXJuIGUubWVzc2FnZT90LmNvbmNhdCh0aGlzLmdldFZhbGlkRGV0YWlsUHJvcGVydGllcyhlKSk6dH1nZXRWYWxpZERldGFpbFByb3BlcnRpZXMoe2NvZGU6dCxtZXNzYWdlOmUsZGV0YWlsZWRNZXNzYWdlOm4sdHlwZTpyfSl7cmV0dXJue2NvZGU6dCxtZXNzYWdlOmUsZGV0YWlsZWRNZXNzYWdlOm4sdHlwZTpyfX1maWx0ZXJCeVZhbGlkRGV0YWlscyh0KXtyZXR1cm4gdC5yZWR1Y2UoKHQsZSk9PnRoaXMuYWRkVmFsaWREZXRhaWwodCxlKSxbXSl9Zm9ybWF0VGl0bGUodCl7cmV0dXJuIHQubGVuZ3RoPjE/YCR7dGhpcy5saXRlcmFscy5kZXRhaWxzfSAoJHt0Lmxlbmd0aH0pYDp0aGlzLmxpdGVyYWxzLmRldGFpbH19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoaG8oS3YpKX0sdC5cdTAyNzVjbXA9SHQoe3R5cGU6dCxzZWxlY3RvcnM6W1sicG8taHR0cC1pbnRlcmNlcHRvci1kZXRhaWwiXV0sdmlld1F1ZXJ5OmZ1bmN0aW9uKHQsZSl7aWYoMSZ0JiZWbChxYiw3KSwyJnQpe2xldCB0O01sKHQ9TmwoKSkmJihlLm1vZGFsPXQuZmlyc3QpfX0sZGVjbHM6NCx2YXJzOjMsY29uc3RzOltbInAtaGlkZS1jbG9zZSIsIiIsInAtc2l6ZSIsImxnIiwzLCJwLXByaW1hcnktYWN0aW9uIiwicC10aXRsZSJdLFsxLCJwby1yb3ciXSxbMSwicG8tbWQtMTIiLCJwby1tdC0xIiwicG8tbWItMSJdLFszLCJwLWxhYmVsIiw0LCJuZ0ZvciIsIm5nRm9yT2YiXSxbMywicC1sYWJlbCJdLFsiY2xhc3MiLCJwby1yb3cgcG8tbWItMSIsNCwibmdJZiJdLFsxLCJwby1yb3ciLCJwby1tYi0xIl0sWzMsInAtY29sb3IiLCJwLXZhbHVlIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoZ28oMCwicG8tbW9kYWwiLDApLGdvKDEsImRpdiIsMSksZ28oMiwicG8tYWNjb3JkaW9uIiwyKSx1bygzLE92LDUsMywicG8tYWNjb3JkaW9uLWl0ZW0iLDMpLG1vKCksbW8oKSxtbygpKSwyJnQmJihwbygicC1wcmltYXJ5LWFjdGlvbiIsZS5wcmltYXJ5QWN0aW9uKSgicC10aXRsZSIsZS50aXRsZSksTnMoMykscG8oIm5nRm9yT2YiLGUuZGV0YWlscykpfSxkaXJlY3RpdmVzOltxYixJdixYYyxQdix0aCxWX10sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCk7Y29uc3QgY3c9e3B0OntoZWxwOiJBanVkYSIsZGV0YWlsczoiRGV0YWxoZXMiLHNlcnZlck5vdFJlc3BvbnNlOiJTZXJ2aWRvciBuXHhlM28gZXN0XHhlMSByZXNwb25kZW5kbyJ9LGVuOntoZWxwOiJIZWxwIixkZXRhaWxzOiJEZXRhaWxzIixzZXJ2ZXJOb3RSZXNwb25zZToiU2VydmVyIGlzIG5vdCByZXNwb25kaW5nIn0sZXM6e2hlbHA6IkF5dWRhIixkZXRhaWxzOiJEZXRhbGxlcyIsc2VydmVyTm90UmVzcG9uc2U6IkVsIHNlcnZpZG9yIG5vIGVzdFx4ZTEgcmVzcG9uZGllbmRvIn0scnU6e2hlbHA6Ilx1MDQxZlx1MDQzZVx1MDQzY1x1MDQzZVx1MDQzM1x1MDQzOFx1MDQ0Mlx1MDQzNSIsZGV0YWlsczoiXHUwNDE0XHUwNDM1XHUwNDQyXHUwNDMwXHUwNDNiXHUwNDM4IixzZXJ2ZXJOb3RSZXNwb25zZToiXHUwNDIxXHUwNDM1XHUwNDQwXHUwNDMyXHUwNDM1XHUwNDQwIFx1MDQzZFx1MDQzNSBcdTA0M2VcdTA0NDJcdTA0MzJcdTA0MzVcdTA0NDdcdTA0MzBcdTA0MzVcdTA0NDIifX0saHc9IlgtUE8tTm8tRXJyb3IiLGR3PSJYLVBPLU5vLU1lc3NhZ2UiO2xldCBwdz0oKCk9PntjbGFzcyB0IGV4dGVuZHMgY2xhc3N7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMuY29tcG9uZW50SW5qZWN0b3I9dCx0aGlzLm5vdGlmaWNhdGlvbj1lLHRoaXMubGFuZ3VhZ2VTZXJ2aWNlPW4sdGhpcy5ub3RpZmljYXRpb25UeXBlcz1bInN1Y2Nlc3MiLCJ3YXJuaW5nIiwiZXJyb3IiLCJpbmZvcm1hdGlvbiJdLHRoaXMubGl0ZXJhbHM9Y3dbdGhpcy5sYW5ndWFnZVNlcnZpY2UuZ2V0U2hvcnRMYW5ndWFnZSgpXSx0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudD12b2lkIDB9aW50ZXJjZXB0KHQsZSl7Y29uc3Qgbj10LmNsb25lKCk7cmV0dXJuIHQ9dCYmdGhpcy5oYXNQYXJhbWV0ZXJzKHQpP3RoaXMuY2xvbmVSZXF1ZXN0V2l0aG91dFBhcmFtZXRlcnModCk6dCxlLmhhbmRsZSh0KS5waXBlKHNmKHQ9Pnt0IGluc3RhbmNlb2YgX3kmJnRoaXMucHJvY2Vzc1Jlc3BvbnNlKHQsbil9LHQ9Pnt0aGlzLnByb2Nlc3NFcnJvclJlc3BvbnNlKHQsbil9KSl9cHJvY2Vzc1Jlc3BvbnNlKHQsZSl7aWYoIXRoaXMuaGFzTm9NZXNzYWdlUGFyYW0oZSkmJnQuYm9keSYmdC5ib2R5Ll9tZXNzYWdlcyl7Y29uc3QgZT10LmJvZHkuX21lc3NhZ2VzO2UgaW5zdGFuY2VvZiBBcnJheT9lLmZvckVhY2godD0+e3RoaXMuc2hvd05vdGlmaWNhdGlvbih0KX0pOnRoaXMuc2hvd05vdGlmaWNhdGlvbihlKX19cHJvY2Vzc0Vycm9yUmVzcG9uc2UodCxlKXtjb25zdCBuPTAhPT10LnN0YXR1cz90LmVycm9yOntjb2RlOjAsbWVzc2FnZTp0aGlzLmxpdGVyYWxzLnNlcnZlck5vdFJlc3BvbnNlLGRldGFpbGVkTWVzc2FnZTp0Lm1lc3NhZ2V9LHI9dGhpcy5oYXNOb0Vycm9yUGFyYW0oZSkscz10aGlzLmhhc05vTWVzc2FnZVBhcmFtKGUpLGk9dGhpcy5ub3RpZmljYXRpb25UeXBlcy5zbGljZSgxKTtuJiZuLm1lc3NhZ2UmJiFyJiYhcyYmdGhpcy5zaG93Tm90aWZpY2F0aW9uKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7dHlwZTppLmluY2x1ZGVzKG4udHlwZSk/bi50eXBlOiJlcnJvciJ9KSl9Y2xvbmVSZXF1ZXN0V2l0aG91dFBhcmFtZXRlcnModCl7Y29uc3QgZT10LmhlYWRlcnMuZGVsZXRlKGh3KS5kZWxldGUoZHcpO3JldHVybiB0LmNsb25lKHtoZWFkZXJzOmV9KX1jcmVhdGVNb2RhbCh0KXtjb25zdCBlPXQuZGV0YWlscz9bdCwuLi50LmRldGFpbHNdOlt0XTt0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudD10aGlzLmNvbXBvbmVudEluamVjdG9yLmNyZWF0ZUNvbXBvbmVudEluQXBwbGljYXRpb24odXcpLHRoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50Lmluc3RhbmNlLmRldGFpbD1lLHRoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50Lmluc3RhbmNlLmNsb3NlZC5zdWJzY3JpYmUoKCk9PnRoaXMuZGVzdHJveU1vZGFsKCkpLHRoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50Lmluc3RhbmNlLm9wZW4oKX1kZXN0cm95TW9kYWwoKXt0aGlzLmh0dHBJbnRlcmNlcHRvckRldGFpbENvbXBvbmVudCYmKHRoaXMuY29tcG9uZW50SW5qZWN0b3IuZGVzdHJveUNvbXBvbmVudEluQXBwbGljYXRpb24odGhpcy5odHRwSW50ZXJjZXB0b3JEZXRhaWxDb21wb25lbnQpLHRoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50PXZvaWQgMCl9aGFzTWVzc2FnZSh0KXtyZXR1cm4gdCYmdC5tZXNzYWdlfWhhc05vRXJyb3JQYXJhbSh0KXtjb25zdCBlPXQmJnQuaGVhZGVycy5nZXQoaHcpO3JldHVybiBlJiYidHJ1ZSI9PT1lLnRvU3RyaW5nKCkudG9Mb2NhbGVMb3dlckNhc2UoKX1oYXNOb01lc3NhZ2VQYXJhbSh0KXtjb25zdCBlPXQmJnQuaGVhZGVycy5nZXQoZHcpO3JldHVybiBlJiYidHJ1ZSI9PT1lLnRvU3RyaW5nKCkudG9Mb2NhbGVMb3dlckNhc2UoKX1oYXNQYXJhbWV0ZXJzKHQpe3JldHVybiB0LmhlYWRlcnMuaGFzKGh3KXx8dC5oZWFkZXJzLmhhcyhkdyl9c2hvd05vdGlmaWNhdGlvbih0KXtpZighdGhpcy5oYXNNZXNzYWdlKHQpKXJldHVybjtjb25zdCBlPXRoaXMubm90aWZpY2F0aW9uVHlwZXMuaW5jbHVkZXModC50eXBlKT90LnR5cGU6ImluZm9ybWF0aW9uIixuPXRoaXMuZ2VuZXJhdGVOb3RpZmljYXRpb25BY3Rpb24odCk7dGhpcy5ub3RpZmljYXRpb25bZV0oe21lc3NhZ2U6dC5tZXNzYWdlLGFjdGlvbkxhYmVsOm4ubGFiZWwsYWN0aW9uOm4uYWN0aW9ufSl9Z2VuZXJhdGVEZXRhaWxNb2RhbCh0KXtyZXR1cm4oKT0+e3RoaXMuaHR0cEludGVyY2VwdG9yRGV0YWlsQ29tcG9uZW50fHx0aGlzLmNyZWF0ZU1vZGFsKHQpfX1nZW5lcmF0ZU5vdGlmaWNhdGlvbkFjdGlvbih0KXtsZXQgZSxuO3JldHVybiF0LmhlbHBVcmx8fHQuZGV0YWlsZWRNZXNzYWdlfHx0LmRldGFpbHM/KHQuZGV0YWlsZWRNZXNzYWdlfHx0LmRldGFpbHMpJiYobj10aGlzLmxpdGVyYWxzLmRldGFpbHMsZT10aGlzLmdlbmVyYXRlRGV0YWlsTW9kYWwodCkpOihuPXRoaXMubGl0ZXJhbHMuaGVscCxlPXRoaXMuZ2VuZXJhdGVVcmxIZWxwRnVuY3Rpb24odC5oZWxwVXJsKSkse2xhYmVsOm4sYWN0aW9uOmV9fWdlbmVyYXRlVXJsSGVscEZ1bmN0aW9uKHQpe3JldHVybigpPT57d2luZG93Lm9wZW4odCwiX2JsYW5rIil9fX17Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKGUsdCxuKX19cmV0dXJuIHQuXHUwMjc1ZmFjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcoZXx8dCkoYXIoU18pLGFyKFFiKSxhcihLdikpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpLGZ3PSgoKT0+e2NsYXNzIHR7fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbcHcsU18se3Byb3ZpZGU6QXksdXNlQ2xhc3M6cHcsbXVsdGk6ITB9XSxpbXBvcnRzOltbZGgsVnYsV2IsdV8sal9dXX0pLHR9KSgpLGd3PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLmNvbnRyb2xIdHRwUmVxdWVzdD1uZXcgRX1nZXRDb250cm9sSHR0cFJlcXVlc3QoKXtyZXR1cm4gdGhpcy5jb250cm9sSHR0cFJlcXVlc3QuYXNPYnNlcnZhYmxlKCl9c2VuZCh0PTApe3RoaXMuY29udHJvbEh0dHBSZXF1ZXN0Lm5leHQodCl9fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpfSx0Llx1MDI3NXByb3Y9aHQoe3Rva2VuOnQsZmFjdG9yeTp0Llx1MDI3NWZhY30pLHR9KSgpO2NvbnN0IG13PSJYLVBPLU5vLUNvdW50LVBlbmRpbmctUmVxdWVzdHMiLHl3PSJYLVBPLVNjcmVlbi1Mb2NrIjtsZXQgdnc9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuY29udHJvbEh0dHBSZXF1ZXN0PXQsdGhpcy5wb0NvbXBvbmVudEluamVjdG9yPWUsdGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudD12b2lkIDAsdGhpcy5wZW5kaW5nUmVxdWVzdHM9MCx0aGlzLm92ZXJsYXlSZXF1ZXN0cz0wfWludGVyY2VwdCh0LGUpe2NvbnN0IG49dC5jbG9uZSgpO3JldHVybiB0PXRoaXMucmVxdWVzdENsb25lV2l0aG91dEhlYWRlclBhcmFtKFttdyx5d10sdCksdGhpcy5zZXRDb3VudFBlbmRpbmdSZXF1ZXN0cyghMCxuKSx0aGlzLnNldENvdW50T3ZlcmxheVJlcXVlc3RzKCEwLG4pLGUuaGFuZGxlKHQpLnBpcGUoc2YodD0+e3QgaW5zdGFuY2VvZiBfeSYmKHRoaXMuc2V0Q291bnRQZW5kaW5nUmVxdWVzdHMoITEsbiksdGhpcy5zZXRDb3VudE92ZXJsYXlSZXF1ZXN0cyghMSxuKSl9KSxIcCh0PT4odGhpcy5zZXRDb3VudFBlbmRpbmdSZXF1ZXN0cyghMSxuKSx0aGlzLnNldENvdW50T3ZlcmxheVJlcXVlc3RzKCExLG4pLHJkKHQpKSkpfWdldENvdW50UGVuZGluZ1JlcXVlc3RzKCl7cmV0dXJuIHRoaXMuY29udHJvbEh0dHBSZXF1ZXN0LmdldENvbnRyb2xIdHRwUmVxdWVzdCgpfWJ1aWxkTG9hZGluZygpe3RoaXMubG9hZGluZ092ZXJsYXlDb21wb25lbnR8fCh0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50PXRoaXMucG9Db21wb25lbnRJbmplY3Rvci5jcmVhdGVDb21wb25lbnRJbkFwcGxpY2F0aW9uKGViKSx0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50Lmluc3RhbmNlLnNjcmVlbkxvY2s9ITAsdGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudC5pbnN0YW5jZS5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCkpfWRlc3Ryb3lMb2FkaW5nKCl7dGhpcy5sb2FkaW5nT3ZlcmxheUNvbXBvbmVudCYmKHRoaXMucG9Db21wb25lbnRJbmplY3Rvci5kZXN0cm95Q29tcG9uZW50SW5BcHBsaWNhdGlvbih0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50KSx0aGlzLmxvYWRpbmdPdmVybGF5Q29tcG9uZW50PXZvaWQgMCl9cmVxdWVzdENsb25lV2l0aG91dEhlYWRlclBhcmFtKHQsZSl7bGV0IG49ITE7cmV0dXJuIHQuZm9yRWFjaCh0PT57ZS5oZWFkZXJzLmhhcyh0KSYmKGUuaGVhZGVycy5kZWxldGUodCksbj0hMCl9KSxuP2UuY2xvbmUoe2hlYWRlcnM6ZS5oZWFkZXJzfSk6ZX1zZXRDb3VudFBlbmRpbmdSZXF1ZXN0cyh0LGUpe2NvbnN0IG49ZS5oZWFkZXJzLmhhcyhtdykscj1lLmhlYWRlcnMuZ2V0KG13KTtuJiYidHJ1ZSI9PT1yLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKXx8KHRoaXMucGVuZGluZ1JlcXVlc3RzKz10PzE6LTEsdGhpcy5jb250cm9sSHR0cFJlcXVlc3Quc2VuZCh0aGlzLnBlbmRpbmdSZXF1ZXN0cykpfXNldENvdW50T3ZlcmxheVJlcXVlc3RzKHQsZSl7aWYoZS5oZWFkZXJzLmhhcyh5dykpe2lmKCJmYWxzZSI9PT1lLmhlYWRlcnMuZ2V0KHl3KS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpcmV0dXJuO3RoaXMub3ZlcmxheVJlcXVlc3RzKz10PzE6LTEsdGhpcy5vdmVybGF5UmVxdWVzdHM+MD90aGlzLmJ1aWxkTG9hZGluZygpOnRoaXMuZGVzdHJveUxvYWRpbmcoKX19fXJldHVybiB0Llx1MDI3NWZhYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3KGV8fHQpKGFyKGd3KSxhcihRYikpfSx0Llx1MDI3NXByb3Y9aHQoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoYXIoZ3cpLGFyKFFiKSl9LHRva2VuOnQscHJvdmlkZWRJbjoicm9vdCJ9KSx0fSkoKSxidz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W2d3LHZ3LFFiLHtwcm92aWRlOkF5LHVzZUNsYXNzOnZ3LG11bHRpOiEwfV0saW1wb3J0czpbW29iXV19KSx0fSkoKSxfdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW2Z3LGJ3XSxmdyxid119KSx0fSkoKSx3dz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W10saW1wb3J0czpbW3BfXSxwX119KSx0fSkoKSxDdz0oKCk9PntjbGFzcyB0e31yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVtb2Q9V3Qoe3R5cGU6dH0pLHQuXHUwMjc1aW5qPWR0KHtwcm92aWRlcnM6W1NfXSxpbXBvcnRzOltbc3csaXcsb3csX3csd3csY19dLHN3LGl3LF93LG93LHd3LGNfXX0pLHR9KSgpO25ldyAkbigiSTE4Tl9DT05GSUciKTtjb25zdCBFdz1mdW5jdGlvbigpe3JldHVybntsYWJlbDoiT3B0aW9uIDEiLHZhbHVlOiIxIn19LER3PWZ1bmN0aW9uKCl7cmV0dXJue2xhYmVsOiJPcHRpb24gMiIsdmFsdWU6IjIifX0sQXc9ZnVuY3Rpb24odCxlKXtyZXR1cm5bdCxlXX07bGV0IFN3PSgoKT0+e2NsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLnRpdGxlPSJoZXJvZXMtY3JlYXRvciJ9b25DbGljaygpe3RoaXMuc2VuZFZhbHVlKCl9b25DaGFuZ2UodCl7Y29uc29sZS5sb2coe2l0ZW06dH0pLHRoaXMuc2VsZWN0ZWQ9dH1jb25uZWN0ZWRDYWxsYmFjaygpe2NvbnNvbGUubG9nKCJjb25uZWN0ZWRDYWxsYmFjayIpfXNlbmRWYWx1ZSgpe2RvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJlbWl0VmFsdWUiLHtkZXRhaWw6W3t2YWx1ZTp0aGlzLnRpdGxlLG5hbWU6InJlc3VsdCIsYWN0aW9uOigpPT57Y29uc3QgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVzdWx0YWRvIik7Y29uc29sZS5sb2coe2VsZW1lbnQ6dH0pfX0se3ZhbHVlOnRoaXMuc2VsZWN0ZWQsbmFtZToic2VsZWN0In1dfSkpfX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KX0sdC5cdTAyNzVjbXA9SHQoe3R5cGU6dCxzZWxlY3RvcnM6W1siaGMtYXBwIl1dLGRlY2xzOjQsdmFyczo3LGNvbnN0czpbWyJuYW1lIiwiaW5wdXQiLCJwLWxhYmVsIiwiUE8gSW5wdXQiLDEsInBvLW1kLTEyIiwzLCJuZ01vZGVsIiwibmdNb2RlbENoYW5nZSJdLFsicC1sYWJlbCIsIlBPIEJ1dHRvbiIsMSwicG8tbWQtNiIsMywicC1jbGljayJdLFsibmFtZSIsInNlbGVjdCIsInAtbGFiZWwiLCJQTyBTZWxlY3QiLCJuZ01vZGVsIiwic2VsZWN0ZWQiLDMsInAtb3B0aW9ucyIsInAtY2hhbmdlIl1dLHRlbXBsYXRlOmZ1bmN0aW9uKHQsZSl7MSZ0JiYoZ28oMCwicG8taW5wdXQiLDApLENvKCJuZ01vZGVsQ2hhbmdlIixmdW5jdGlvbih0KXtyZXR1cm4gZS50aXRsZT10fSksbW8oKSxnbygxLCJwby1idXR0b24iLDEpLENvKCJwLWNsaWNrIixmdW5jdGlvbigpe3JldHVybiBlLm9uQ2xpY2soKX0pLG1vKCkseW8oMiwicG8tZGl2aWRlciIpLGdvKDMsInBvLXNlbGVjdCIsMiksQ28oInAtY2hhbmdlIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbkNoYW5nZSh0KX0pLG1vKCkpLDImdCYmKHBvKCJuZ01vZGVsIixlLnRpdGxlKSxOcygzKSxwbygicC1vcHRpb25zIixfbCg0LEF3LHZsKDIsRXcpLHZsKDMsRHcpKSkpfSxkaXJlY3RpdmVzOlt3XyxMZCxzcCxkYix4YixBX10sZW5jYXBzdWxhdGlvbjoyfSksdH0pKCkseHc9KCgpPT57Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXtjb25zdCBlPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1mdW5jdGlvbih0LGUpe3JldHVybiBlLmdldChnYSkucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodCkuaW5wdXRzfSh0LGUuaW5qZWN0b3IpLHI9ZS5zdHJhdGVneUZhY3Rvcnl8fG5ldyBtZCh0LGUuaW5qZWN0b3IpLHM9ZnVuY3Rpb24odCl7Y29uc3QgZT17fTtyZXR1cm4gdC5mb3JFYWNoKCh7cHJvcE5hbWU6dCx0ZW1wbGF0ZU5hbWU6bn0pPT57dmFyIHI7ZVsocj1uLHIucmVwbGFjZSgvW0EtWl0vZyx0PT5gLSR7dC50b0xvd2VyQ2FzZSgpfWApKV09dH0pLGV9KG4pO2NsYXNzIGkgZXh0ZW5kcyB2ZHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuaW5qZWN0b3I9dH1nZXQgbmdFbGVtZW50U3RyYXRlZ3koKXtpZighdGhpcy5fbmdFbGVtZW50U3RyYXRlZ3kpe2NvbnN0IHQ9dGhpcy5fbmdFbGVtZW50U3RyYXRlZ3k9ci5jcmVhdGUodGhpcy5pbmplY3Rvcnx8ZS5pbmplY3Rvcik7bi5mb3JFYWNoKCh7cHJvcE5hbWU6ZX0pPT57aWYoIXRoaXMuaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuO2NvbnN0IG49dGhpc1tlXTtkZWxldGUgdGhpc1tlXSx0LnNldElucHV0VmFsdWUoZSxuKX0pfXJldHVybiB0aGlzLl9uZ0VsZW1lbnRTdHJhdGVneX1hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sodCxlLG4scil7dGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5zZXRJbnB1dFZhbHVlKHNbdF0sbil9Y29ubmVjdGVkQ2FsbGJhY2soKXtsZXQgdD0hMTt0aGlzLm5nRWxlbWVudFN0cmF0ZWd5LmV2ZW50cyYmKHRoaXMuc3Vic2NyaWJlVG9FdmVudHMoKSx0PSEwKSx0aGlzLm5nRWxlbWVudFN0cmF0ZWd5LmNvbm5lY3QodGhpcyksdHx8dGhpcy5zdWJzY3JpYmVUb0V2ZW50cygpfWRpc2Nvbm5lY3RlZENhbGxiYWNrKCl7dGhpcy5fbmdFbGVtZW50U3RyYXRlZ3kmJnRoaXMuX25nRWxlbWVudFN0cmF0ZWd5LmRpc2Nvbm5lY3QoKSx0aGlzLm5nRWxlbWVudEV2ZW50c1N1YnNjcmlwdGlvbiYmKHRoaXMubmdFbGVtZW50RXZlbnRzU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCksdGhpcy5uZ0VsZW1lbnRFdmVudHNTdWJzY3JpcHRpb249bnVsbCl9c3Vic2NyaWJlVG9FdmVudHMoKXt0aGlzLm5nRWxlbWVudEV2ZW50c1N1YnNjcmlwdGlvbj10aGlzLm5nRWxlbWVudFN0cmF0ZWd5LmV2ZW50cy5zdWJzY3JpYmUodD0+e2NvbnN0IGU9ZnVuY3Rpb24odCxlLG4pe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBDdXN0b21FdmVudCl7Y29uc3Qgcj10LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO3JldHVybiByLmluaXRDdXN0b21FdmVudChlLCExLCExLG4pLHJ9cmV0dXJuIG5ldyBDdXN0b21FdmVudChlLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOm59KX0odGhpcy5vd25lckRvY3VtZW50LHQubmFtZSx0LnZhbHVlKTt0aGlzLmRpc3BhdGNoRXZlbnQoZSl9KX19cmV0dXJuIGkub2JzZXJ2ZWRBdHRyaWJ1dGVzPU9iamVjdC5rZXlzKHMpLG4uZm9yRWFjaCgoe3Byb3BOYW1lOnR9KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSx0LHtnZXQoKXtyZXR1cm4gdGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5nZXRJbnB1dFZhbHVlKHQpfSxzZXQoZSl7dGhpcy5uZ0VsZW1lbnRTdHJhdGVneS5zZXRJbnB1dFZhbHVlKHQsZSl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9KSxpfShTdyx7aW5qZWN0b3I6dH0pO2N1c3RvbUVsZW1lbnRzLmRlZmluZSgiaGMtYXBwIixlKX1uZ0RvQm9vdHN0cmFwKCl7fX1yZXR1cm4gdC5cdTAyNzVmYWM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyhlfHx0KShhcihHaSkpfSx0Llx1MDI3NW1vZD1XdCh7dHlwZTp0fSksdC5cdTAyNzVpbmo9ZHQoe3Byb3ZpZGVyczpbXSxpbXBvcnRzOltbV2gsZ3AsQ3ddXX0pLHR9KSgpOyhmdW5jdGlvbigpe2lmKEV1KXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGVuYWJsZSBwcm9kIG1vZGUgYWZ0ZXIgcGxhdGZvcm0gc2V0dXAuIik7Q3U9ITF9KSgpLHpoKCkuYm9vdHN0cmFwTW9kdWxlKHh3KS5jYXRjaCh0PT5jb25zb2xlLmVycm9yKHQpKX0sMjIxOnQ9PntmdW5jdGlvbiBlKHQpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpPT57dmFyIGU9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrdCsiJyIpO3Rocm93IGUuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsZX0pfWUua2V5cz0oKT0+W10sZS5yZXNvbHZlPWUsZS5pZD0yMjEsdC5leHBvcnRzPWV9fSx0PT57InVzZSBzdHJpY3QiO3QodC5zPTYzNil9XSk7';